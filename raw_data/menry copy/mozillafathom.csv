fathom,A framework for extracting meaning from web pages
username,timestamp,url,sha,message
erikrose,2019-09-12 17:00:21,https://api.github.com/repos/mozilla/fathom/git/commits/a3078369f5233232cb49e817ccfe43f5e6baecb0,a3078369f5233232cb49e817ccfe43f5e6baecb0,Hide the command invocations for py_lint and py_test for consistency with js_lint and js_test.
danielhertenstein,2019-09-12 16:25:27,https://api.github.com/repos/mozilla/fathom/git/commits/fe430ed5cffc930f841fcd0549044a5ab2a20181,fe430ed5cffc930f841fcd0549044a5ab2a20181,Merge docs for Git-LFS usage. Closes #153.
danielhertenstein,2019-09-12 15:34:56,https://api.github.com/repos/mozilla/fathom/git/commits/d646ca7ecd7ea2db06138fbf5fcf3b61f6ba09b8,d646ca7ecd7ea2db06138fbf5fcf3b61f6ba09b8,"Updates git-lfs docs, reverts change to suggested directory structure"
erikrose,2019-09-06 13:20:45,https://api.github.com/repos/mozilla/fathom/git/commits/c3fec39c90be2a496bace0f1e9d596c74dd51fbb,c3fec39c90be2a496bace0f1e9d596c74dd51fbb,"Remove the Readability tests, which weren't paying their rent. Finally remove the old optimizer, which was used only by those tests.

* Tests are now 35s faster.
* Code coverage actually goes *up* for all counts; it wasn't really testing anything but itself:

  Before:
  Statements   : 82.53% ( 737/893 )
  Branches     : 73.02% ( 230/315 )
  Functions    : 86.04% ( 228/265 )
  Lines        : 82.24% ( 699/850 )

  After:
  Statements   : 86.17% ( 648/752 )
  Branches     : 71.68% ( 200/279 )
  Functions    : 84.58% ( 192/227 )
  Lines        : 86.97% ( 621/714 )
* We get to throw away a whole bunch of test corpus.
* We can remove dirsIn(), too, which is now dead."
danielhertenstein,2019-09-11 14:48:31,https://api.github.com/repos/mozilla/fathom/git/commits/84db415c68af4179eaa2e94062cb5c4ba1d5cbc3,84db415c68af4179eaa2e94062cb5c4ba1d5cbc3,Adds docs for git-lfs usage and updates suggested file structure
erikrose,2019-09-10 16:00:15,https://api.github.com/repos/mozilla/fathom/git/commits/92304b8ad4768e90c167c3d93f9865771f5a6d80,92304b8ad4768e90c167c3d93f9865771f5a6d80,"Fix doc deployment.

Fix a path I neglected to change after moving this script."
erikrose,2019-09-10 15:34:43,https://api.github.com/repos/mozilla/fathom/git/commits/b88a306f7fd7a4c83668eeb4601969f2ff538465,b88a306f7fd7a4c83668eeb4601969f2ff538465,"Add Python linting, and revamp build process. Close #150.

Here's what changes from a dev point of view:

* The makefile is now the One True Entrypoint for build stuff. There are no more npm scripts.
* `make test` now runs all the tests, even the browser ones.
* The browser tests now work on Windows.
* `make lint` lints all languages. `make py_lint` and `make js_lint` lint 1 each.
* `make py_test` and `make js_test` test 1 language each.
* `make` takes care of making a venv for you (in the top level of the checkout) whenever it needs one. If you have an existing one activated before you make, it'll use yours instead.
* New Python dependencies are automatically installed at the next `make` whenever they're added to requirements files or setup.py. Note that you'll see occasional spurious package installation attempts after you change branches, because the branch change causes the mod dates of files to be reset to the current time. But the attempts are reasonably quick and idempotent.
* `npm install` is run automatically whenever package.json has been updated.
* `make doc` from the top level now builds the docs.
* A failing doc build will now fail the CI tests, so we don't get surprised on master anymore.
* As a bonus, pip installing fathom-web now works on Windows."
erikrose,2019-09-10 15:26:40,https://api.github.com/repos/mozilla/fathom/git/commits/d40eb1cc7666c5e3e64db0b1d64c98062e947611,d40eb1cc7666c5e3e64db0b1d64c98062e947611,Let the docs build find jsdoc.
erikrose,2019-09-10 15:11:50,https://api.github.com/repos/mozilla/fathom/git/commits/079c1ef4546039a93bb5bd9462d6b62c62801ffd,079c1ef4546039a93bb5bd9462d6b62c62801ffd,Make label command (from master merge) pass linter.
erikrose,2019-09-10 15:04:32,https://api.github.com/repos/mozilla/fathom/git/commits/fa11729306757c5575d7e193d5603fc058d8dd0d,fa11729306757c5575d7e193d5603fc058d8dd0d,Merge master in to resolve conflict in .gitignore.
erikrose,2019-09-10 14:57:28,https://api.github.com/repos/mozilla/fathom/git/commits/52c08e9fcb6cdfae6e6801f3fb8605bba2b10856,52c08e9fcb6cdfae6e6801f3fb8605bba2b10856,"Reference the original mocha script rather than the stub in .bin so it works on Windows.

On Windows, the stub in .bin is a .cmd file rather than a symlink. Istanbul doesn't know what to do with this, so we point it to the original JS file."
erikrose,2019-09-10 14:52:48,https://api.github.com/repos/mozilla/fathom/git/commits/186099ed512db522f33dcf6cdbdf7db9683f9a3c,186099ed512db522f33dcf6cdbdf7db9683f9a3c,"Add a find-links options to pip so torch installs on Windows.

pip no longer respects the dependency_links option to setup(), and it's removed both the `--process-dependency-links` and the `--allow-all-external` options, so this repetition is unfortunately necessary."
erikrose,2019-09-10 14:09:01,https://api.github.com/repos/mozilla/fathom/git/commits/b488413002dc04f2cce27878ff21adcf8b24143a,b488413002dc04f2cce27878ff21adcf8b24143a,Remove $(CURDIR) references that break things on Cygwin.
erikrose,2019-09-09 20:49:46,https://api.github.com/repos/mozilla/fathom/git/commits/8d4c1d673fa1ecd9e563777e5445596eba477067,8d4c1d673fa1ecd9e563777e5445596eba477067,"Call pip3 instead of pip.

""pip"" was giving me ""Hey, Python 2.7 is deprecated"" errors, despite the first line of the binary being a shebang line referencing python3. However, ""pip3"" works, and it exists on Windows as well, so in it goes."
erikrose,2019-09-09 20:48:23,https://api.github.com/repos/mozilla/fathom/git/commits/7a166325ee2a05514a780906261d8f61e44ff4a4,7a166325ee2a05514a780906261d8f61e44ff4a4,"If your Python 3 binary is called something other than ""python3"", you can set the PYTHON3 env var to its name.

This is the case in a Conda-made venv on Windows: it's called just ""python""."
erikrose,2019-09-09 20:41:04,https://api.github.com/repos/mozilla/fathom/git/commits/49c7617ba9cca219b50e72390e29fe2b63c839e0,49c7617ba9cca219b50e72390e29fe2b63c839e0,"Don't assume ""bin"" is a folder that exists in a venv.

On Windows, it's called Scripts. Add Scripts to the $PATH, and rely on the $PATH to find our commands.

Oddly, relying on it to find the JS commands failed, so I've left those using absolute paths for now."
erikrose,2019-09-09 19:46:17,https://api.github.com/repos/mozilla/fathom/git/commits/a2f0c50ea93aacbede34889d63d533ac1872aac1,a2f0c50ea93aacbede34889d63d533ac1872aac1,"Use pytorch.org's own repo for fetching pytorch.

They don't seem to upload Windows wheels or sdists to PyPI."
erikrose,2019-09-09 19:45:36,https://api.github.com/repos/mozilla/fathom/git/commits/255c4ab7515e9d1fb4506cb2a1e661d4e9a2b951,255c4ab7515e9d1fb4506cb2a1e661d4e9a2b951,"Replace PWD with CURDIR.

PWD actually isn't a built-in make-provided var. I think what I was actually doing was calling out to the shell. This doesn't work on Windows."
biancadanforth,2019-09-06 19:50:25,https://api.github.com/repos/mozilla/fathom/git/commits/8739c7c2e728cb5a63656340d8f8d694e4d6c977,8739c7c2e728cb5a63656340d8f8d694e4d6c977,"Merge fathom-label CLI. Closes #148.

Fix #138: Add fathom-label CLI"
biancadanforth,2019-09-06 17:56:47,https://api.github.com/repos/mozilla/fathom/git/commits/ca5969d3fb02a2c8901c65ae8d9f2abd8ede3809,ca5969d3fb02a2c8901c65ae8d9f2abd8ede3809,Incorporate review feedback
erikrose,2019-09-06 16:02:22,https://api.github.com/repos/mozilla/fathom/git/commits/60a00cee054622e8d1198152c12ad3cc288b31e9,60a00cee054622e8d1198152c12ad3cc288b31e9,"Remove a lot of linter errors from the ignore list.

I'm not sure why some of those were there in DXR, but we're (now) clean on this set. I read through all the ones I removed, and they seem like reasonable ideas."
danielhertenstein,2019-09-06 15:25:58,https://api.github.com/repos/mozilla/fathom/git/commits/5fe9470edcab0fd43987ae56b9c98464400d00d1,5fe9470edcab0fd43987ae56b9c98464400d00d1,Merge fathom-extract support for unpadded strings. Closes #152.
erikrose,2019-09-06 15:18:42,https://api.github.com/repos/mozilla/fathom/git/commits/ef1101cf1b190fe0153dde9fa49906b3687941ab,ef1101cf1b190fe0153dde9fa49906b3687941ab,"Teach the linter to complain about unnecessary double quotes.

It's my disease."
danielhertenstein,2019-09-06 15:09:40,https://api.github.com/repos/mozilla/fathom/git/commits/6e3e8c915169489908023f314d5ef0d2bf3e06b6,6e3e8c915169489908023f314d5ef0d2bf3e06b6,Changes double quotes to single quotes
danielhertenstein,2019-09-06 14:35:39,https://api.github.com/repos/mozilla/fathom/git/commits/17873c6aca0725eb9c69e1babc8c5639130a24f7,17873c6aca0725eb9c69e1babc8c5639130a24f7,Updates decode to work on unpadded base64 strings
erikrose,2019-09-06 13:01:48,https://api.github.com/repos/mozilla/fathom/git/commits/c90789d0c53acb0a480420e30a0a51e5643c15f4,c90789d0c53acb0a480420e30a0a51e5643c15f4,"Fix bug where jsm files would spuriously recompile 3 times during any target that depended on $(JS).

It was being triggered by some jsm files in node_modules that newly appeared with our added jsdoc dependencies."
erikrose,2019-09-06 02:11:45,https://api.github.com/repos/mozilla/fathom/git/commits/b49686809fd110c27478f68dcb1cff51832f7f5b,b49686809fd110c27478f68dcb1cff51832f7f5b,"Put the top-level node_modules/.bin in the PATH so `make docs` on CI can find jsdoc.

geckodriver also links its executable there."
erikrose,2019-09-06 02:11:12,https://api.github.com/repos/mozilla/fathom/git/commits/db8a8619934fe516718d8007411ad624ae528840,db8a8619934fe516718d8007411ad624ae528840,Automatically re-run `npm install` whenever package.json has been updated.
erikrose,2019-09-06 12:17:40,https://api.github.com/repos/mozilla/fathom/git/commits/36b1fd1bab7d8322750d510578e05b13a5698673,36b1fd1bab7d8322750d510578e05b13a5698673,Make page() docs slightly more correct.
erikrose,2019-09-06 12:17:20,https://api.github.com/repos/mozilla/fathom/git/commits/3b0daa27e68d2c7907616f04ddfef27c03b002c5,3b0daa27e68d2c7907616f04ddfef27c03b002c5,Update version history.
erikrose,2019-09-06 12:17:12,https://api.github.com/repos/mozilla/fathom/git/commits/dcba55910f239063e736750f8355e8e02c00e2fc,dcba55910f239063e736750f8355e8e02c00e2fc,Correct spelling of fathom-train in a comment.
erikrose,2019-09-06 02:00:11,https://api.github.com/repos/mozilla/fathom/git/commits/4537b251612614d6c984be06bd848d01bfe8e35f,4537b251612614d6c984be06bd848d01bfe8e35f,"Have the makefile run `npm install` if there's no node_modules folder around when it needs it.

Specifically, when it needs babel.

Maybe this will fix our Travis doc build step, which, not being a node image, doesn't do that implicitly."
erikrose,2019-09-06 01:46:09,https://api.github.com/repos/mozilla/fathom/git/commits/a24b3cca572b7dfffff2b1ba69117e1c4f383ae1,a24b3cca572b7dfffff2b1ba69117e1c4f383ae1,"See if a more complete Python environment make Python 3's venv module be around.

We use it in `make doc` indirectly."
erikrose,2019-09-06 01:31:18,https://api.github.com/repos/mozilla/fathom/git/commits/3136e16069a49ba96da67c831bebf83f02714fe8,3136e16069a49ba96da67c831bebf83f02714fe8,"Build the docs as an additional test step in Travis.

If the build works and we're on master, deploy them."
erikrose,2019-09-06 01:16:04,https://api.github.com/repos/mozilla/fathom/git/commits/36d9ffe43d7238a4722dd799c977a7a6cd454a11,36d9ffe43d7238a4722dd799c977a7a6cd454a11,"Teach top-level makefile how to build docs.

Just go ahead and install jsdoc whenever we're developing. It's not many more packages, and it saves the complexity of doing it dynamically."
erikrose,2019-09-06 00:53:51,https://api.github.com/repos/mozilla/fathom/git/commits/ffe4bf8a244d320eb603b0a19ac755c3ff746fd5,ffe4bf8a244d320eb603b0a19ac755c3ff746fd5,"Make the browser tests work on Windows and `make test` run all the tests, including those.

Replace the shell tricks with node code so it works everywhere."
erikrose,2019-09-05 16:33:24,https://api.github.com/repos/mozilla/fathom/git/commits/9be7a6fe731f3e0f509aca2a9e5a28dc141115cc,9be7a6fe731f3e0f509aca2a9e5a28dc141115cc,Update dev docs.
erikrose,2019-09-05 16:17:26,https://api.github.com/repos/mozilla/fathom/git/commits/28ce1bd659877b18e78645df7c5f2f4abb6b3b6d,28ce1bd659877b18e78645df7c5f2f4abb6b3b6d,"Spurred by a need to get flake8 onto the Travis box, improve a bunch of build infra.

* Make the makefile the public entrypoint for everything. This makes at least me feel less confused. Before, `npm test` would run a certain subset of tests, and `make test` would run another. This also gives us a convenient place to factor out `pip install -e cli`.
* Consolidate some of the tooling detritus in a top-level tooling folder.
* Have the makefile automatically make a virtualenv for you if you don't already have one activated. This also gives us control over our version of pytest on Travis.
* Add some missing PHONY targets. Anything that's not a filename should be phony."
erikrose,2019-09-05 14:10:33,https://api.github.com/repos/mozilla/fathom/git/commits/09122f3fa3b44f9bc870992eaf7147c1afd4bad5,09122f3fa3b44f9bc870992eaf7147c1afd4bad5,"Add Python linter. Fix #149.

Fix a few bad things that it caught.

Used the config from DXR, which seemed to work well for us: https://github.com/mozilla/dxr/blob/master/tooling/flake8.config.

Let's see if flake8 happens to already exist on Travis npm images."
biancadanforth,2019-09-04 23:04:13,https://api.github.com/repos/mozilla/fathom/git/commits/3324686be9d30fa61dc6369bb6715ede9ba246c8,3324686be9d30fa61dc6369bb6715ede9ba246c8,"Add multiprocessing to parallelize work

Use the 'multiprocessing' library to divide the work of modifying all of the files in IN_DIRECTORY across multiple workers, each in their own process.

Adding multiprocessing makes running 'fathom-label' on 200 HTML files 72% faster (18s compared to 1m 6s without multiprocessing).

I was able to get this to work with the 'click' progress bar, but the first result has to return before the progress bar first shows up, which means we'd get something like 'Skipping .DS_Store; not an HTML file' before the first progress bar appeared. We'd also get multiple progress bars, as a new one would appear after any logging. What I opted to do instead was to print all of the logs at the end after all the processing has finished."
biancadanforth,2019-09-04 21:15:47,https://api.github.com/repos/mozilla/fathom/git/commits/1dc91084372c7df405d626778bfeb9e8caa61780,1dc91084372c7df405d626778bfeb9e8caa61780,"Add progress bar

Also removed semicolons. See #149 as a follow-up issue to add linting for Python."
biancadanforth,2019-08-24 00:01:45,https://api.github.com/repos/mozilla/fathom/git/commits/e26b74e71c1269c8fb6f60e8975092182f1d7b60,e26b74e71c1269c8fb6f60e8975092182f1d7b60,"Fix #138: Add fathom-label CLI

* This is largely based off of the 'fathom-extract' CLI.
* This tool handles documents with multiple 'html' elements by capturing each original opening html tag and each modified opening html tag in a list of tuples and iterating through each tuple to update the HTML document.
* I originally had a test that asserted that '< html >' became '< html data-fathom=""test"" >', but I discovered that this isn't valid HTML per the [specification](https://www.w3.org/TR/html53/syntax.html#start-tags)
* Similarly, there is no test for comments inside an 'html' tag, because that is also invalid HTML."
biancadanforth,2019-08-21 15:43:16,https://api.github.com/repos/mozilla/fathom/git/commits/856ba2d14870520d8d6bae49836dbd110ff09316,856ba2d14870520d8d6bae49836dbd110ff09316,"Merge doc deployments CI fix. Closes #137.

Move istanbul ignore comments"
biancadanforth,2019-08-21 00:04:07,https://api.github.com/repos/mozilla/fathom/git/commits/8042bba34e5ac69a02f90f39ea8da7f2650651b0,8042bba34e5ac69a02f90f39ea8da7f2650651b0,"Move istanbul ignore comments

This fixes the error in the Docs deployment stage that TravisCI runs on merges to 'master' resulting from changes in PR#129."
biancadanforth,2019-08-20 18:39:25,https://api.github.com/repos/mozilla/fathom/git/commits/099c8f94176f6a5513c7d7b8b6f0b743e031bc21,099c8f94176f6a5513c7d7b8b6f0b743e031bc21,"Merge JavaScript functional test harness. Fixes #122.

#122: Add JavaScript functional test harness"
biancadanforth,2019-08-20 18:32:39,https://api.github.com/repos/mozilla/fathom/git/commits/a3fa717ff7f5a7780c45efa308f5974949f81b63,a3fa717ff7f5a7780c45efa308f5974949f81b63,Fix #122: Incorporate more feedback.
biancadanforth,2019-08-20 04:13:39,https://api.github.com/repos/mozilla/fathom/git/commits/b04d519e9828dcde74ac99215af80d9274c5f2b5,b04d519e9828dcde74ac99215af80d9274c5f2b5,Incorporate other review feedback
biancadanforth,2019-08-20 03:17:00,https://api.github.com/repos/mozilla/fathom/git/commits/9e2ab8ec4a3984fcf22657fb4dd2bcd7ac154c4b,9e2ab8ec4a3984fcf22657fb4dd2bcd7ac154c4b,Rename 'test/functional' to 'test/browser'
biancadanforth,2019-08-20 01:41:28,https://api.github.com/repos/mozilla/fathom/git/commits/ed8e087e49c5f3df56671749e969ff8f4f9c252e,ed8e087e49c5f3df56671749e969ff8f4f9c252e,"Make 'npm test' work both locally and in CI

Move the set up and tear down commands inside of 'npm test' instead of just in '.travis.yml'."
biancadanforth,2019-08-20 00:04:52,https://api.github.com/repos/mozilla/fathom/git/commits/c8f2ee2dd001e5b5ae462a966362609d0d01bef5,c8f2ee2dd001e5b5ae462a966362609d0d01bef5,"Exclude 'isVisible' and its called functions from coverage

Add '/* istanbul ignore next */' to stop trying to cover the following methods, since they are executed in the 'isVisible.html' test page, and that scope does not have coverage variables defined.
* ancestors
* isDomElement
* isVisible
* toDomElement

This allows coverage to continue to work (ignoring these functions) and keeps the JS functional tests in the same stage as the rest of the JavaScript tests in TravisCI.

It should be noted that none of these functions previously had test coverage, which is part of why this approach is feasible."
biancadanforth,2019-08-19 18:38:44,https://api.github.com/repos/mozilla/fathom/git/commits/8d87435625f267362d66b95e0efa4b96390d1b46,8d87435625f267362d66b95e0efa4b96390d1b46,"Fix mocha timeout issue

Added a timeout to the 'after all' hook, as it is possible this can take longer than two seconds.

Also made the callbacks into 'it' regular functions instead of arrow functions for consistency with the 'after all' hook.
 * With arrow functions, the 'this' binding for 'this.timeout' does not point to the desired target, and the 'after' hook threw an error if I tried to use the original approach I had with the 'it' blocks."
danielhertenstein,2019-08-16 15:53:10,https://api.github.com/repos/mozilla/fathom/git/commits/6be14c4fb1d6b79d61319cdc221c0003c1184aac,6be14c4fb1d6b79d61319cdc221c0003c1184aac,Merge percent encoded equals support for fathom-extract. Closes #136.
danielhertenstein,2019-08-16 14:52:29,https://api.github.com/repos/mozilla/fathom/git/commits/649a95b37c8532cde74ecbd11f5a8b101752385d,649a95b37c8532cde74ecbd11f5a8b101752385d,"Adds decode() method, updates regex, and adds tests"
biancadanforth,2019-08-14 04:10:18,https://api.github.com/repos/mozilla/fathom/git/commits/68b791b1a1fe5c024090ab892bbdae0ad7c24b3a,68b791b1a1fe5c024090ab892bbdae0ad7c24b3a,"Ignore node/no-missing-require eslint error

Now that we are actually linting the isVisible.js functional test, eslint reports an error:
```
/home/travis/build/mozilla/fathom/test/functional/isVisible.js

  4:68  error  ""../../utilsForFrontend"" is not found  node/no-missing-require
```
I believe this is because 'require' is relative to the directory in which the script is found, while eslint is checking relative to the current working directory.

This could be resolved by:
* Ignoring the error (easiest)
* Updating 'eslint-plugin-node' to >= v5.1.0 in which we can apply the 'resolvePaths' setting.
  * This requires also updating 'eslint', as otherwise 'make lint' fails
  * Updating 'eslint' updates default rules, for which there are then dozens of new violations throughout the source code to address
  * I vote that considering updating eslint be a follow-up issue, rather than part of fixing #122

In light of these options, I chose the best, easiest one, since it doesn't blow up everything else."
biancadanforth,2019-08-14 02:28:25,https://api.github.com/repos/mozilla/fathom/git/commits/210644cd9856711413676e98cfca7817bc5fd992,210644cd9856711413676e98cfca7817bc5fd992,Incorporate initial feedback
biancadanforth,2019-08-10 04:42:30,https://api.github.com/repos/mozilla/fathom/git/commits/0b326d9108d5bf940c53c814116a597619f699e9,0b326d9108d5bf940c53c814116a597619f699e9,"Move JS functional tests into existing 'JavaScript tests' stage

Also replace chai's expect with assert for consistency with existing JS tests.

For some reason, in the Makefile, make coverage was using node_modules/.bin/_mocha. The isVisible functional test fails unless I replace '_mocha' with 'mocha'."
biancadanforth,2019-08-10 04:21:52,https://api.github.com/repos/mozilla/fathom/git/commits/8c4d931336be7452b34e9e8073b5c65287026499,8c4d931336be7452b34e9e8073b5c65287026499,Rename functional test and test page
biancadanforth,2019-08-10 04:15:59,https://api.github.com/repos/mozilla/fathom/git/commits/938234ef9219eaa1206b4d35f6f8cde70bbf8f73,938234ef9219eaa1206b4d35f6f8cde70bbf8f73,Update test cases
biancadanforth,2019-08-08 23:43:43,https://api.github.com/repos/mozilla/fathom/git/commits/e01f13f651577ba008749054085050c095bcc088,e01f13f651577ba008749054085050c095bcc088,"Add locally hosted test page

Travis now runs a local HTTP server[1] in a background process, and the functional test opens a locally hosted test page.

I also moved all functional test files to a new directory: test/functional

Finally, since test scripts are never going to be imported as ES6 modules, I made the test a .js file rather than a .jsm. Note: if I were to leave it as a .jsm, I would have wanted to change the 'require' statements to 'import' statements to keep consistent with the other .mjs files. These .mjs files get transpiled via Babel into CommonJS .js files (i.e. using 'require' statements) as a build step.

[1]: I did quite a lot of deliberation about whether an HTTP server would be sufficient (compared to an HTTPS server) and determined it was. Ultimately, I adhered to one of the principles of extreme programming (thanks Daniel): don't add functionality until it's necessary. Here is my reasoning (I spoke with a Mozilla security engineer who works on certificates):
* TravisCI's default environment runs each build on a [single machine](https://docs.travis-ci.com/user/reference/trusty/#using-trusty)
* This means we are running the server on the loopback interface, and there shouldn't be much risk -- particularly since we don't have any secrets.
* The only downside is there are some [DOM APIs that only work in secure contexts](https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts/features_restricted_to_secure_contexts) -- none of which we are using currently. But Firefox is working on enabling these APIs in this case where everything is on the same machine."
biancadanforth,2019-08-05 22:44:16,https://api.github.com/repos/mozilla/fathom/git/commits/43e4a30aa3ec077e9c37579ec3a89f302cc004ee,43e4a30aa3ec077e9c37579ec3a89f302cc004ee,Test Fathom's isVisible method on a page
biancadanforth,2019-08-05 20:38:57,https://api.github.com/repos/mozilla/fathom/git/commits/999762b702394576fe995e71ae6e25756b3a8f6f,999762b702394576fe995e71ae6e25756b3a8f6f,"Add JS functional test harness

Commenting out other stages in travis.yml for now. This just has all the wiring to get a functional test running in TravisCI using Selenium Webdriver, the latest release version of Firefox and the Mocha test framework."
biancadanforth,2019-08-13 22:58:46,https://api.github.com/repos/mozilla/fathom/git/commits/871728fce56dd2e12925a39a1ee812738bac43aa,871728fce56dd2e12925a39a1ee812738bac43aa,"Merge pull request #116 from mozilla/is-visible

Merge `isVisible` improvement. Closes #116 ."
biancadanforth,2019-08-12 20:32:16,https://api.github.com/repos/mozilla/fathom/git/commits/b96c4e31fd942a381b512f74139756b96483188c,b96c4e31fd942a381b512f74139756b96483188c,Revert operator-linebreak eslint rule
biancadanforth,2019-08-10 19:56:00,https://api.github.com/repos/mozilla/fathom/git/commits/c0a81db0c0b12e0bd69aa7306ed08ad5785cbf8b,c0a81db0c0b12e0bd69aa7306ed08ad5785cbf8b,"Incorporate more review feedback

* Add a new eslint rule, 'operator-linebreak: [error, after]' in light of style-related feedback and fixed violations
* Ensure comments are complete sentences and are consistent
* Remove extra parens from conditional statements
* Update the first check in 'isVisible' to account for an extra case I found while working on #122"
danielhertenstein,2019-08-09 18:04:59,https://api.github.com/repos/mozilla/fathom/git/commits/8ad03765993b13f18eba6ca73c495e0e9b5ab6d1,8ad03765993b13f18eba6ca73c495e0e9b5ab6d1,"Merge base64 regex test. Closes #127.

Closes #123"
danielhertenstein,2019-08-09 17:32:02,https://api.github.com/repos/mozilla/fathom/git/commits/ac61f379e86718d50d462ad60c70ee275a14a061,ac61f379e86718d50d462ad60c70ee275a14a061,Address PR review comments
erikrose,2019-08-09 15:58:27,https://api.github.com/repos/mozilla/fathom/git/commits/e4f85965d50f4abcf22ead970b44bf696bd3ca26,e4f85965d50f4abcf22ead970b44bf696bd3ca26,"Merge docs edits that recognize the transformation of FathomFox's Trainer into merely an Evaluator. Close #128.

Updates docs to reflect FathomFox Trainer becoming Evaluator"
erikrose,2019-08-09 15:57:20,https://api.github.com/repos/mozilla/fathom/git/commits/11d7f756bfafc195b51bc6466b8f644f9a80d12f,11d7f756bfafc195b51bc6466b8f644f9a80d12f,"Don't neglect to mention the Corpus Framework.

If we're going to say ""Fathom has had several trainers"", we ought to at least mention each one."
danielhertenstein,2019-08-09 15:52:35,https://api.github.com/repos/mozilla/fathom/git/commits/eeb0f54ae49a6dfbabd8645cb78e5dcff8976087,eeb0f54ae49a6dfbabd8645cb78e5dcff8976087,Updates docs to reflect FathomFox Trainer becoming Evaluator
danielhertenstein,2019-08-09 13:41:18,https://api.github.com/repos/mozilla/fathom/git/commits/63f2c110e5831f7dd9176901dcc2fe2446395d53,63f2c110e5831f7dd9176901dcc2fe2446395d53,"Merge fathom-pick moves resources. Closes #126

Fixes #126"
biancadanforth,2019-08-09 02:14:24,https://api.github.com/repos/mozilla/fathom/git/commits/23f86cf838d9981c852b2360ed55f0b7c47885ca,23f86cf838d9981c852b2360ed55f0b7c47885ca,Fix eslint warnings from #51.
biancadanforth,2019-08-09 02:06:00,https://api.github.com/repos/mozilla/fathom/git/commits/c912f13a3bc32422e82e5b4684dd51c18e54e26c,c912f13a3bc32422e82e5b4684dd51c18e54e26c,Fix #118: Incorporate review feedback
biancadanforth,2019-08-03 03:06:00,https://api.github.com/repos/mozilla/fathom/git/commits/cfd7a5099d28727c6ed33d21d8c9221b1af9951c,cfd7a5099d28727c6ed33d21d8c9221b1af9951c," #118: Fall back to next best sync solution

Unfortunately, the previous commit's approach based on clickability proved untenable.[1]

A distant second sync solution is to early return where possible and use the cheapest styles first (the second implementation approach[2]), which reduces Fathom jank by 13%*, though there are a couple differences:
* No 'getBoxQuads'. This is an experimental API only enabled on Nightly.
* Checks if the element is off-screen. The Price Tracker implementation was missing this check.

Unfortunately, this implementation still uses 'ancestors', which causes expensive XRays[3] work in extension applications and still triggers layout flushes at suboptimal times. This is something that can be avoided with an async solution to the tune of a 40% reduction in jank using 'requestAnimationFrame' and 'setTimeout'[4].

On the brighter side, it is more correct than the previous implementation, removing 'getComputedStyle().width' and 'getComputedStyle().height' completely and covering more valid cases than before.

*: This is slightly worse than the expected 16%, because my original implementation in Price Tracker did not check for elements off-screen as the Fathom implementation does. Its profile[5] shows:
 - The largest unresponsive chunk is still caused by Fathom extraction, contributing 399 ms of jank right around page load.
 - `isVisible` made up 238 ms (60%) of this jank.
 - This change reduced overall Fathom-related jank by 61 ms (13%) compared to the original implementation of isVisible[2].

[1]: https://github.com/mozilla/fathom/pull/116#discussion_r309410670
[2]: https://github.com/mozilla/price-tracker/issues/319#issue-468970781
[3]: https://developer.mozilla.org/en-US/docs/Mozilla/Tech/Xray_vision
[4]: https://github.com/mozilla/price-tracker/issues/319#issuecomment-517554826
[5]: https://perfht.ml/2T0oYQS"
biancadanforth,2019-07-24 20:22:06,https://api.github.com/repos/mozilla/fathom/git/commits/335657ebf4265ad39b21b18ff74447d72d22f6f7,335657ebf4265ad39b21b18ff74447d72d22f6f7," #118: Change isVisible to check for clickability to improve performance

Compared to a baseline profile[1] of Price Tracker's current 'isVisible' implementation (on which Fathom's 'isVisible' method is based), this clickability approach offers a 53% (146 ms) reduction in Fathom-related jank[2] for the same locally hosted sample page.

This is largely due to removing the use of the 'ancestors' Fathom method in 'isVisible'[3], which was performing a lot of redundant layout accesses (and triggering a lot of layout flushes) for the same elements. Also, at least in an extension application, DOM accesses (e.g. repeatedly getting the next 'parentNode' in 'ancestors') are very expensive due to X-Rays[4].

Notes:
* If the proposal to the W3C CSS Working Group (see inline comment in patch) is implemented, this clickability approach could forgo the workaround and see as much as 81% (374 ms) reduction in Fathom-related jank[3].
* This implementation can still benefit from memoization, as the same element (e.g. 'div') could be considered for multiple different 'type's[6].

[1]: https://perfht.ml/30wkWT7
[2]: https://perfht.ml/2Y5FCQ1
[3]: https://github.com/mozilla/price-tracker/issues/319
[4]: https://developer.mozilla.org/en-US/docs/Mozilla/Tech/Xray_vision""
[6]: https://mozilla.github.io/fathom/glossary.html"
biancadanforth,2019-07-19 03:30:56,https://api.github.com/repos/mozilla/fathom/git/commits/68ce4cd5318d2b6afebc3c9ba1a9ea52f65307c9,68ce4cd5318d2b6afebc3c9ba1a9ea52f65307c9,"Use correct values in isVisible condition

The width and height properties in the return value from getComputedStyle are of the form '*px'."
danielhertenstein,2019-08-08 20:51:49,https://api.github.com/repos/mozilla/fathom/git/commits/610f31e985f8af6157e4c55623e39195a6722d6e,610f31e985f8af6157e4c55623e39195a6722d6e,Addresses review comments
danielhertenstein,2019-08-05 18:16:24,https://api.github.com/repos/mozilla/fathom/git/commits/9de46379ffd2be3ed1dfa4bac5882da0eca9d78c,9de46379ffd2be3ed1dfa4bac5882da0eca9d78c,html -> HTML
danielhertenstein,2019-08-05 17:47:37,https://api.github.com/repos/mozilla/fathom/git/commits/6b880079a902d13c4fa2fbc9fadecf0c84c8eea6,6b880079a902d13c4fa2fbc9fadecf0c84c8eea6,Add test to check for directory collision
danielhertenstein,2019-08-05 17:37:05,https://api.github.com/repos/mozilla/fathom/git/commits/b4f31cfef8c91318cb47e568acc1090829243bcf,b4f31cfef8c91318cb47e568acc1090829243bcf,Fixes error in extraction directory names
danielhertenstein,2019-08-05 17:36:46,https://api.github.com/repos/mozilla/fathom/git/commits/fad300fbb7d6370eac43bb8b0cc295d465420371,fad300fbb7d6370eac43bb8b0cc295d465420371,Adds resource directory movement
danielhertenstein,2019-08-05 17:36:28,https://api.github.com/repos/mozilla/fathom/git/commits/6f48b0067a1242b4a042ac8b2ab1c64f229442e7,6f48b0067a1242b4a042ac8b2ab1c64f229442e7,Adds the end to end test
danielhertenstein,2019-08-05 15:04:33,https://api.github.com/repos/mozilla/fathom/git/commits/0f608787414b9cc6f54530603f463b1c50cca626,0f608787414b9cc6f54530603f463b1c50cca626,Adds regex tests
danielhertenstein,2019-07-31 17:40:29,https://api.github.com/repos/mozilla/fathom/git/commits/a0a467bd4bafb930d7f123bf591d9a108c7d984b,a0a467bd4bafb930d7f123bf591d9a108c7d984b,Fixes the file locations that got messed up with the merge commits
danielhertenstein,2019-07-30 20:36:45,https://api.github.com/repos/mozilla/fathom/git/commits/e6ac1e4d9991b8cd06e6c1a1900d640e1b2e00c0,e6ac1e4d9991b8cd06e6c1a1900d640e1b2e00c0,Merge Python test harness. Closes #120.
danielhertenstein,2019-07-30 17:46:15,https://api.github.com/repos/mozilla/fathom/git/commits/9daa4558d4e6b07edcb4b27a546d8ebf84ecc753,9daa4558d4e6b07edcb4b27a546d8ebf84ecc753,Merge fathom-extract. Closes #109.
danielhertenstein,2019-07-30 17:43:24,https://api.github.com/repos/mozilla/fathom/git/commits/9faa753c31fbfc0aba67d87e3d37b409d3c8b508,9faa753c31fbfc0aba67d87e3d37b409d3c8b508,Fixes backtick formatting
danielhertenstein,2019-07-30 17:25:44,https://api.github.com/repos/mozilla/fathom/git/commits/f7cbc09b2afcac543d441a6562fa51988505d238,f7cbc09b2afcac543d441a6562fa51988505d238,Puts resources back into a resources directory
danielhertenstein,2019-07-30 16:58:51,https://api.github.com/repos/mozilla/fathom/git/commits/95ba0ab9c937bc1ae346bcdb23bbdf5575917595,95ba0ab9c937bc1ae346bcdb23bbdf5575917595,Merge out rule simplification. Closes #124.
danielhertenstein,2019-07-30 16:57:47,https://api.github.com/repos/mozilla/fathom/git/commits/fb207619e64cc4667ce9a77b832f16f5a6a2326a,fb207619e64cc4667ce9a77b832f16f5a6a2326a,Adds testing for 3.7 again
danielhertenstein,2019-07-30 16:53:40,https://api.github.com/repos/mozilla/fathom/git/commits/205e8935ab362c64105b03061c96b115fe13fc1b,205e8935ab362c64105b03061c96b115fe13fc1b,Removes testing on Python 3.7 and changes test installation requirements
danielhertenstein,2019-07-30 15:17:03,https://api.github.com/repos/mozilla/fathom/git/commits/a46f41bc22c8f4d8e27e0b187b68b0739fc50177,a46f41bc22c8f4d8e27e0b187b68b0739fc50177,Updates docs
danielhertenstein,2019-07-30 14:44:25,https://api.github.com/repos/mozilla/fathom/git/commits/9a418e5f12d79257ace28477c602182cb14f8916,9a418e5f12d79257ace28477c602182cb14f8916,Adds pytest testing requirement
danielhertenstein,2019-07-30 14:42:29,https://api.github.com/repos/mozilla/fathom/git/commits/c3648bff818a67f6912b536804f834de63b19e3d,c3648bff818a67f6912b536804f834de63b19e3d,Reverts testing on branch changes
danielhertenstein,2019-07-30 14:37:11,https://api.github.com/repos/mozilla/fathom/git/commits/351239ca12b7ef5dfb2d6b78234eb384f4a0a5d4,351239ca12b7ef5dfb2d6b78234eb384f4a0a5d4,Explicitly define the Python jobs since the matrix wasn't working for me
danielhertenstein,2019-07-30 14:29:27,https://api.github.com/repos/mozilla/fathom/git/commits/b099be6e03a602103d5132c2b47cc991becf918b,b099be6e03a602103d5132c2b47cc991becf918b,Attempts to fix Python version tests
danielhertenstein,2019-07-30 14:20:12,https://api.github.com/repos/mozilla/fathom/git/commits/f4922cd8c018d1470681375c23203237ae770de5,f4922cd8c018d1470681375c23203237ae770de5,"Reworks Travis config for Python 3.7 and single deployment
* I will need to revert some changes after testing that this works"
danielhertenstein,2019-07-30 14:18:59,https://api.github.com/repos/mozilla/fathom/git/commits/4cfa68ea31a9b84046dd01741e9ab7b70b08ef47,4cfa68ea31a9b84046dd01741e9ab7b70b08ef47,Improves test readability
danielhertenstein,2019-07-29 20:51:07,https://api.github.com/repos/mozilla/fathom/git/commits/0ba95a4015d410473d022d4cba497467e11baa0b,0ba95a4015d410473d022d4cba497467e11baa0b,"Merge branch 'master' into fathom-extract

# Conflicts:
#	cli/setup.py"
danielhertenstein,2019-07-29 20:47:49,https://api.github.com/repos/mozilla/fathom/git/commits/667953c3fd5b4b2aa42298f462482eab6283f7be,667953c3fd5b4b2aa42298f462482eab6283f7be,Update main help message to align with new storage structure
danielhertenstein,2019-07-29 20:34:04,https://api.github.com/repos/mozilla/fathom/git/commits/15bf71ad74c696f5a32251608f274a028a0a4027,15bf71ad74c696f5a32251608f274a028a0a4027,Changes resource directory to coordinate with upcoming `fathom-serve` changes
danielhertenstein,2019-07-29 20:31:52,https://api.github.com/repos/mozilla/fathom/git/commits/d188e20e104c093ff4eca20bae25a6de6ae71e1f,d188e20e104c093ff4eca20bae25a6de6ae71e1f,Plus original preservation logic back out of the extractor method
danielhertenstein,2019-07-29 20:25:32,https://api.github.com/repos/mozilla/fathom/git/commits/ae53e36c0273f275210011cf8d28169f83887956,ae53e36c0273f275210011cf8d28169f83887956,Wraps rhs strings in out()
danielhertenstein,2019-07-29 14:54:08,https://api.github.com/repos/mozilla/fathom/git/commits/70a31fbb17360f7ae1eb61647e6a627b092d1943,70a31fbb17360f7ae1eb61647e6a627b092d1943,Regex improvements and original saving switches from copies to moves
danielhertenstein,2019-07-29 13:43:45,https://api.github.com/repos/mozilla/fathom/git/commits/d1e90cfce141e933fd13165e9674974000329ac0,d1e90cfce141e933fd13165e9674974000329ac0,Addresses all comments before starting to mess with the regex again
danielhertenstein,2019-07-26 19:21:00,https://api.github.com/repos/mozilla/fathom/git/commits/5cf2e902d3cdd01368ed72e7796b848f741e17b0,5cf2e902d3cdd01368ed72e7796b848f741e17b0,Introduces a context manager to change directory since `SimpleHTTPRequestHandler` didn't add its `directory` parameter until Python 3.7
danielhertenstein,2019-07-26 17:42:32,https://api.github.com/repos/mozilla/fathom/git/commits/27ab31d3e13f2df148e427f3cdc68a84b25428bf,27ab31d3e13f2df148e427f3cdc68a84b25428bf,Reverts temporary TravisCI changes to prep for pull request
danielhertenstein,2019-07-26 17:38:21,https://api.github.com/repos/mozilla/fathom/git/commits/2d15e482ecaf7d917efe06239550162d2ea23112,2d15e482ecaf7d917efe06239550162d2ea23112,Adds torch requirement
danielhertenstein,2019-07-26 17:37:14,https://api.github.com/repos/mozilla/fathom/git/commits/5afbd36ae321bd80936ea17697580c0ad3329c5e,5afbd36ae321bd80936ea17697580c0ad3329c5e,Adds testing requirements
danielhertenstein,2019-07-26 17:22:46,https://api.github.com/repos/mozilla/fathom/git/commits/bd47508b57d5f985bebe8a53211f738fb6ddc0d6,bd47508b57d5f985bebe8a53211f738fb6ddc0d6,Fixes test paths for real this time
danielhertenstein,2019-07-26 17:19:23,https://api.github.com/repos/mozilla/fathom/git/commits/cd26091636d5a6ffd484b388f6cc5018febae290,cd26091636d5a6ffd484b388f6cc5018febae290,Change path for locating tests
danielhertenstein,2019-07-26 17:11:48,https://api.github.com/repos/mozilla/fathom/git/commits/f304121074b42f5df082fa7c6e13c2ecd522ccb7,f304121074b42f5df082fa7c6e13c2ecd522ccb7,Merge branch 'master' into python-test-harness
danielhertenstein,2019-07-26 17:10:23,https://api.github.com/repos/mozilla/fathom/git/commits/0523b64887d5bd1dd2653f0099c2276a06191a3b,0523b64887d5bd1dd2653f0099c2276a06191a3b,Temporarily changes CI configuration so I can update on another branch
danielhertenstein,2019-07-25 13:34:36,https://api.github.com/repos/mozilla/fathom/git/commits/7d279d60e10c5b84d7b2fa1b1013bfac2e910b82,7d279d60e10c5b84d7b2fa1b1013bfac2e910b82,Merges fathom-serve tool. Closes #117
danielhertenstein,2019-07-24 18:55:22,https://api.github.com/repos/mozilla/fathom/git/commits/e57e9fdf913be804194243f56ef67a05c2eddafe,e57e9fdf913be804194243f56ef67a05c2eddafe,Updates the travis.yml file to do python tests as a different task
danielhertenstein,2019-07-24 18:54:36,https://api.github.com/repos/mozilla/fathom/git/commits/27d2d83e18cc0341e4cff5862ac8973c668e370a,27d2d83e18cc0341e4cff5862ac8973c668e370a,Adds python tests for one method in fathom-test.
biancadanforth,2019-07-22 17:17:54,https://api.github.com/repos/mozilla/fathom/git/commits/f6ca53133533d1250c0095b773f439949d58834a,f6ca53133533d1250c0095b773f439949d58834a,"Update node packages. Closes #115.

Update packages"
danielhertenstein,2019-07-19 18:36:57,https://api.github.com/repos/mozilla/fathom/git/commits/2614818f78f511723025cd7708d56688ca4d8424,2614818f78f511723025cd7708d56688ca4d8424,Moves the cert and fixes docs/style requests.
biancadanforth,2019-07-19 17:47:24,https://api.github.com/repos/mozilla/fathom/git/commits/95b5589ec6a2b0ac9d46ca79accc2aee13b0b381,95b5589ec6a2b0ac9d46ca79accc2aee13b0b381,Update more packages
danielhertenstein,2019-07-19 17:39:02,https://api.github.com/repos/mozilla/fathom/git/commits/969dcb99c086984dbb25488279462e5d251f04eb,969dcb99c086984dbb25488279462e5d251f04eb,Accesses `cert.pem` through `pkg_resources`
danielhertenstein,2019-07-19 17:06:08,https://api.github.com/repos/mozilla/fathom/git/commits/fda3ba8eaa54c6911c1eb24a89b7d66f40fa22e3,fda3ba8eaa54c6911c1eb24a89b7d66f40fa22e3,https -> HTTPS
danielhertenstein,2019-07-19 17:05:56,https://api.github.com/repos/mozilla/fathom/git/commits/0bfcf016df2fa86bf23d0fbe1f0e45a5601494f0,0bfcf016df2fa86bf23d0fbe1f0e45a5601494f0,"Makes specifying directory optional, falling back onto cwd"
danielhertenstein,2019-07-19 16:48:04,https://api.github.com/repos/mozilla/fathom/git/commits/d5466d9da5b598b946b1023085d2ad3a777b686d,d5466d9da5b598b946b1023085d2ad3a777b686d,Adds message about stopping the server
danielhertenstein,2019-07-19 14:50:37,https://api.github.com/repos/mozilla/fathom/git/commits/84aa840aecdd437422d5593e6c7d0f876a7d5a33,84aa840aecdd437422d5593e6c7d0f876a7d5a33,"Merge branch 'master' into fathom-extract

# Conflicts:
#	cli/setup.py"
danielhertenstein,2019-07-19 14:48:08,https://api.github.com/repos/mozilla/fathom/git/commits/6bccb271414d69403e63a6696ec7c1f317f35afe,6bccb271414d69403e63a6696ec7c1f317f35afe,Extracting overwrites existing files and preserves original in new dir
danielhertenstein,2019-07-19 14:20:40,https://api.github.com/repos/mozilla/fathom/git/commits/1f4b3a68215439e2757dcf7493349c968d40612f,1f4b3a68215439e2757dcf7493349c968d40612f,Adds removal of <base> tags and corrects CSP issues
danielhertenstein,2019-07-19 13:43:32,https://api.github.com/repos/mozilla/fathom/git/commits/a76d8c5cfd6254fecdff501d5fec67ef5f011818,a76d8c5cfd6254fecdff501d5fec67ef5f011818,Adds fathom-serve tool
biancadanforth,2019-07-19 03:15:05,https://api.github.com/repos/mozilla/fathom/git/commits/c97c266c70847eb325825f73117646ef80c3b7bf,c97c266c70847eb325825f73117646ef80c3b7bf,Update packages
erikrose,2019-07-18 14:37:14,https://api.github.com/repos/mozilla/fathom/git/commits/77e5070dda355104186a40b9cc71e2296b141e5c,77e5070dda355104186a40b9cc71e2296b141e5c,"Make verbosity the default in fathom-train. Fix #108.

This will both enhance convenience and mean new users don't fail to notice some very useful output (which is what happened as I was bringing Bianca and Daniel up to speed with 3.0)."
erikrose,2019-07-18 14:35:01,https://api.github.com/repos/mozilla/fathom/git/commits/67a9e4ccf55ed471ddad1fca6826bd2978a07f9c,67a9e4ccf55ed471ddad1fca6826bd2978a07f9c,"Fix invalid JSON coming out of fathom-train.

One comma was missing, and another was one comma too many.

Shameful! Time for tests. But first, this quick fix."
erikrose,2019-07-18 14:20:19,https://api.github.com/repos/mozilla/fathom/git/commits/0840ccad685d9c79150de0550420b5224e129231,0840ccad685d9c79150de0550420b5224e129231,Quit recommending FathomFox for computing test accuracy.
erikrose,2019-07-18 14:16:23,https://api.github.com/repos/mozilla/fathom/git/commits/969f092a5849178fa9d6e4969be3c089f86819d6,969f092a5849178fa9d6e4969be3c089f86819d6,Land new fathom-test tool. Fix #90.
erikrose,2019-07-17 23:54:22,https://api.github.com/repos/mozilla/fathom/git/commits/99ad0999e07036ca4c8807656af7628f10ca59c1,99ad0999e07036ca4c8807656af7628f10ca59c1,"Flatten out JSON validator a bit.

Daniel prefers it this way, and I don't mind the early returns so much since the structure is so regular.

Also, wrap the generator expression's predicates a bit more scannably."
erikrose,2019-07-17 20:28:35,https://api.github.com/repos/mozilla/fathom/git/commits/c17080e26bb8f34df7ab38d2aa5230bc7359bd32,c17080e26bb8f34df7ab38d2aa5230bc7359bd32,Note the need to re-vectorize when you change or add rules.
erikrose,2019-07-17 18:09:00,https://api.github.com/repos/mozilla/fathom/git/commits/44fc5ec72f77bf9011d8d58228cc0b9d3c529dd1,44fc5ec72f77bf9011d8d58228cc0b9d3c529dd1,Remove unused imports.
erikrose,2019-07-17 17:45:11,https://api.github.com/repos/mozilla/fathom/git/commits/3f7adfbc611674982684e7a67d64076eaa53782b,3f7adfbc611674982684e7a67d64076eaa53782b,Merge doc updates on clustering and `when()`. Close #110.
erikrose,2019-07-17 17:44:02,https://api.github.com/repos/mozilla/fathom/git/commits/c520309d4624c44e9cbb4cb61668ef87f4612866,c520309d4624c44e9cbb4cb61668ef87f4612866,Tweak wording and formatting.
erikrose,2019-07-16 16:20:48,https://api.github.com/repos/mozilla/fathom/git/commits/c9eafcee1a0eb9367310d431a23be83d4fd76966,c9eafcee1a0eb9367310d431a23be83d4fd76966,"Add fathom-test tool. Fix #90.

* Move Python commands down a level into a `commands` folder.
* Factor out common bits I need from fathom-train."
erikrose,2019-07-16 19:30:40,https://api.github.com/repos/mozilla/fathom/git/commits/baff31a3e1812daca7311db430dfe67a94688946,baff31a3e1812daca7311db430dfe67a94688946,"Improve docs on page() function.

Also replace `node` with `fnode`, which accurately represents the type of the arg."
Baron-Severin,2019-07-16 19:11:26,https://api.github.com/repos/mozilla/fathom/git/commits/1a5411844239b1a24ba11eaf69b243b3404c289e,1a5411844239b1a24ba11eaf69b243b3404c289e,Update wording on  function docs
Baron-Severin,2019-07-16 18:52:50,https://api.github.com/repos/mozilla/fathom/git/commits/7540aeba8b550933c75a42afba97aa018ac6d68e,7540aeba8b550933c75a42afba97aa018ac6d68e,Update 'clustering' doc to highlight perf concerns
danielhertenstein,2019-07-12 20:29:38,https://api.github.com/repos/mozilla/fathom/git/commits/edc09f54b0964b316fe51fd0977ba26589a3504d,edc09f54b0964b316fe51fd0977ba26589a3504d,Adds a tool to extract resources from freeze-dry'd html files
erikrose,2019-07-11 14:37:25,https://api.github.com/repos/mozilla/fathom/git/commits/3f0e60b5b5b3346f3315fd4eb26159d7d3b4992d,3f0e60b5b5b3346f3315fd4eb26159d7d3b4992d,"Teach the makefile how to build the Python package.

If I could easily teach it how to publish it, too, I would, but the built artifacts have different names every time."
erikrose,2019-07-11 14:31:48,https://api.github.com/repos/mozilla/fathom/git/commits/ca11b235a38d6d7fcef241f063b13be55aff1c3c,ca11b235a38d6d7fcef241f063b13be55aff1c3c,"Bump versions to 3.1, and bring version histories up to date."
erikrose,2019-07-09 21:05:07,https://api.github.com/repos/mozilla/fathom/git/commits/4a3fd1199310d59c177cce7c03c2786c7f551899,4a3fd1199310d59c177cce7c03c2786c7f551899,"Make BAD labeling reliable. Fix #98.

Remove bound-ruleset caching. The caching was to speed in-browser training, which is now deprecated in favor of the CLI fathom-train.

It may still be illuminating to go chase this down properly, as it may represent a latent bug in Fathom's own caching, but the important thing for now is to make the user-facing tools work."
danielhertenstein,2019-07-03 19:56:28,https://api.github.com/repos/mozilla/fathom/git/commits/f036629707bf586c0fbe81c89d78bf27ac3d5d79,f036629707bf586c0fbe81c89d78bf27ac3d5d79,"Merges in train.py `accuracy_per_tag()` optimization

Closes #105"
danielhertenstein,2019-07-03 19:53:28,https://api.github.com/repos/mozilla/fathom/git/commits/b3ececc0d5ee1237bec567b8c43beeb127fd0ab5,b3ececc0d5ee1237bec567b8c43beeb127fd0ab5,Updates `accuracy_per_tag`'s docstring
danielhertenstein,2019-07-03 19:52:59,https://api.github.com/repos/mozilla/fathom/git/commits/61ff61b9b0f34d795fbadb5e188c7e48df23dc97,61ff61b9b0f34d795fbadb5e188c7e48df23dc97,Inlines the calls to `model()` when calling `accuracy_per_tag()`
danielhertenstein,2019-07-03 18:36:59,https://api.github.com/repos/mozilla/fathom/git/commits/0eb2dc819dc948d4695fe3969b221a8828e377c1,0eb2dc819dc948d4695fe3969b221a8828e377c1,Removes __main__ block used for testing.
danielhertenstein,2019-07-03 18:35:07,https://api.github.com/repos/mozilla/fathom/git/commits/9335f3a92b4d3b7ebad52682bc171c91af7bfc5f,9335f3a92b4d3b7ebad52682bc171c91af7bfc5f,Passes predictions directly into accuracy so samples aren't computed individually (and twice in the learn loop's case).
danielhertenstein,2019-07-02 15:39:24,https://api.github.com/repos/mozilla/fathom/git/commits/f421210cd790666159f41813f279057205e157af,f421210cd790666159f41813f279057205e157af,"Merge fathom-list command line tool

Closes #100"
danielhertenstein,2019-07-02 13:22:12,https://api.github.com/repos/mozilla/fathom/git/commits/d8559d184e7db153fa38d9f84d9e03377f4548c8,d8559d184e7db153fa38d9f84d9e03377f4548c8,Makes requested style and naming changes.
danielhertenstein,2019-07-01 14:48:46,https://api.github.com/repos/mozilla/fathom/git/commits/f4783ef434f5e9ddc67ec3643eed83b02b435e47,f4783ef434f5e9ddc67ec3643eed83b02b435e47,Adds commandline tool to list filenames for vectorization and optionally save to a file
erikrose,2019-06-24 20:46:08,https://api.github.com/repos/mozilla/fathom/git/commits/58abc58781bc664c5d7f0f9e14f3d2794b37b01e,58abc58781bc664c5d7f0f9e14f3d2794b37b01e,"Migrate from calling it ""optimization"" to ""training"", to better match the docs and the wording in the UIs."
erikrose,2019-05-23 20:19:59,https://api.github.com/repos/mozilla/fathom/git/commits/7d808912038dbfff8607412383a72e6e3d9bcb9f,7d808912038dbfff8607412383a72e6e3d9bcb9f,Update the docs excerpt in the readme.
erikrose,2019-05-23 20:13:44,https://api.github.com/repos/mozilla/fathom/git/commits/a5fcbf1f558a25106d297e85fdb8bf02577aa975,a5fcbf1f558a25106d297e85fdb8bf02577aa975,Don't ship the Python CLI tools with the npm module.
erikrose,2019-05-23 19:55:35,https://api.github.com/repos/mozilla/fathom/git/commits/4b473055a6d3519d61b621da751a8dccef06924f,4b473055a6d3519d61b621da751a8dccef06924f,Bump all versions to 3.0 final.
erikrose,2019-05-23 19:53:16,https://api.github.com/repos/mozilla/fathom/git/commits/20e0c8c968f67f67ea1b3ee5be69b2aad4f83c26,20e0c8c968f67f67ea1b3ee5be69b2aad4f83c26,"Stop making list items smaller for no reason.

It makes them seem of lesser significance. They are not."
erikrose,2019-05-23 19:31:15,https://api.github.com/repos/mozilla/fathom/git/commits/bfb008c7be42a74fd2a096b92fd514eafe9a20ec,bfb008c7be42a74fd2a096b92fd514eafe9a20ec,Update Python CLI util README.
erikrose,2019-05-23 19:22:08,https://api.github.com/repos/mozilla/fathom/git/commits/41e7d2e10c94cfc53b76f6295657ef03e3ecef5b,41e7d2e10c94cfc53b76f6295657ef03e3ecef5b,Move Ruleset constructor arg docs to actual constructor doclet.
erikrose,2019-05-23 15:00:50,https://api.github.com/repos/mozilla/fathom/git/commits/32c7a16cf642e622508c57f18769b6dbf7421038,32c7a16cf642e622508c57f18769b6dbf7421038,"Pin jsdoc to a version that doesn't set an `undocumented: true` key for Ruleset, breaking the docs deploy.

3.6.2 was the bad version."
erikrose,2019-05-23 14:31:34,https://api.github.com/repos/mozilla/fathom/git/commits/5d9d0dec2ff328258ede49237ddac30cab38c3a6,5d9d0dec2ff328258ede49237ddac30cab38c3a6,Teach docs makefile how to build the .js files it needs.
erikrose,2019-05-23 14:21:36,https://api.github.com/repos/mozilla/fathom/git/commits/006b45ef8a85bd17a0880b45a65b8fdb07b0842c,006b45ef8a85bd17a0880b45a65b8fdb07b0842c,See if this makes doc deploys not fail.
erikrose,2019-05-23 01:01:20,https://api.github.com/repos/mozilla/fathom/git/commits/f062190da31b96a9bcc9fe9c6bfe5d447632fc3f,f062190da31b96a9bcc9fe9c6bfe5d447632fc3f,Add things from commit messages to 3.0 release notes.
erikrose,2019-05-23 00:37:43,https://api.github.com/repos/mozilla/fathom/git/commits/2da80fea04db664fd8a9ad4414be2de0bcb5dc23,2da80fea04db664fd8a9ad4414be2de0bcb5dc23,"Update Basic Use chapter, focusing on updating the central example and acknowledging the central role of scoring and training."
erikrose,2019-05-23 00:31:56,https://api.github.com/repos/mozilla/fathom/git/commits/eb83b06544f63b08175b561a4ad831bc5bfc1237,eb83b06544f63b08175b561a4ad831bc5bfc1237,Document rule() args. It has an interesting one now: `options`.
erikrose,2019-05-23 00:31:21,https://api.github.com/repos/mozilla/fathom/git/commits/f14b67d3a2d3765fe4b512974203c872069a6fe8,f14b67d3a2d3765fe4b512974203c872069a6fe8,Give when() a more realistic example.
erikrose,2019-05-23 00:30:34,https://api.github.com/repos/mozilla/fathom/git/commits/5c2b0950050e1d8762fb35611bcd48e55f219c69,5c2b0950050e1d8762fb35611bcd48e55f219c69,Allow BoundRuleset constructor args to show up in the docs.
erikrose,2019-05-23 00:29:59,https://api.github.com/repos/mozilla/fathom/git/commits/b08fac9d753afe207d0d657fe1a6ce879bbea7b2,b08fac9d753afe207d0d657fe1a6ce879bbea7b2,"Write new Trainer docs, which obsoletes the Optimization chapter and subsumes the Workflow one."
erikrose,2019-05-21 00:29:48,https://api.github.com/repos/mozilla/fathom/git/commits/56cf56851284fc8e04da606995a341d242e81891,56cf56851284fc8e04da606995a341d242e81891,"Fix Rule and Ruleset documentation.

Set example coeffs and biases to more reasonable numbers."
erikrose,2019-05-21 00:07:29,https://api.github.com/repos/mozilla/fathom/git/commits/f3231b174496efb8dc3376ba6351d6027de619c8,f3231b174496efb8dc3376ba6351d6027de619c8,Add new utils to the documentation.
erikrose,2019-05-08 21:03:02,https://api.github.com/repos/mozilla/fathom/git/commits/360a915600598f599e9fc8be2fb4667b0992847b,360a915600598f599e9fc8be2fb4667b0992847b,"Remove mention of score multiplication.

Scores are added together now."
erikrose,2019-05-08 20:16:35,https://api.github.com/repos/mozilla/fathom/git/commits/231edf4cba0612a1ed9228e6778dc955d2991de2,231edf4cba0612a1ed9228e6778dc955d2991de2,"Break biases and coeffs apart.

It turns out that having them together does NOT create a single pasteable blob I can move from the trainer to my fathom-trainees fork after all.

OTOH, does making them explicit keywords leave room for a deeper network in the future? No, I think a deeper network will involve so much change that we'll just break back-compat."
erikrose,2019-05-07 00:30:04,https://api.github.com/repos/mozilla/fathom/git/commits/13f5771d0e7fbe15ab1c1d1c135a795555ecf689,13f5771d0e7fbe15ab1c1d1c135a795555ecf689,Add false-positive and false-negative numbers to per-tag metrics.
erikrose,2019-04-26 16:55:06,https://api.github.com/repos/mozilla/fathom/git/commits/958afd7afd500d4a7d49ddf3af0ef069f5af9e27,958afd7afd500d4a7d49ddf3af0ef069f5af9e27,Add some definitions to the help message.
erikrose,2019-04-26 16:47:08,https://api.github.com/repos/mozilla/fathom/git/commits/e6fa3ce58b4c93495e8bb8bc83a065a89ffc4639,e6fa3ce58b4c93495e8bb8bc83a065a89ffc4639,"Advise when no target nodes are found.

This shouldn't happen on positive samples, and it's good to catch."
erikrose,2019-04-26 16:46:28,https://api.github.com/repos/mozilla/fathom/git/commits/7954e6eac775a95532073b57e9c4d3b109b4e9ba,7954e6eac775a95532073b57e9c4d3b109b4e9ba,Fix the rogue indentation that was bothering me when run with no validation set.
erikrose,2019-04-24 23:22:39,https://api.github.com/repos/mozilla/fathom/git/commits/03750145fc49590960761f2109df1791beabce2c,03750145fc49590960761f2109df1791beabce2c,Auto-cast boolean features to numbers.
erikrose,2019-04-24 16:41:38,https://api.github.com/repos/mozilla/fathom/git/commits/a5d6b6be16d5b8e03fd988f81b36fe751ec968eb,a5d6b6be16d5b8e03fd988f81b36fe751ec968eb,"Align accuracy summary lines to make a pretty table.

Also, skip lines between the big success/failure tables, because the headers get pretty hard to pick out when there are lots of failures."
erikrose,2019-04-23 20:28:50,https://api.github.com/repos/mozilla/fathom/git/commits/2b5485262a529e2c1a6032f304ff8e1aee0001b6,2b5485262a529e2c1a6032f304ff8e1aee0001b6,"Move output around so all percents are together and per-page reports have proper headers.

I like to copy and paste the percents into commit messages.

Also fix it so the ""Stopping early"" message doesn't trip awkwardly over the progress bar."
erikrose,2019-04-23 20:08:45,https://api.github.com/repos/mozilla/fathom/git/commits/69fea5834cdd951d0a60eb712f9070bb2e2f4a51,69fea5834cdd951d0a60eb712f9070bb2e2f4a51,Correct a doclet.
erikrose,2019-04-19 20:10:14,https://api.github.com/repos/mozilla/fathom/git/commits/ed9d23b4da7177990500d413db3688506f25d505,ed9d23b4da7177990500d413db3688506f25d505,"Shuffle training samples before training.

This is held by some to be a good idea, and it doesn't hurt my login-forms work. It doesn't have a clear relationship to convergence speed on that problem, and the resulting per-tag accuracy is identical. Still, having this in place means I no longer need to consider whether to try it every time I have a problem."
erikrose,2019-04-19 19:13:16,https://api.github.com/repos/mozilla/fathom/git/commits/948c8d3b671d7a38c9b028d1fc4e28cae4e69b14,948c8d3b671d7a38c9b028d1fc4e28cae4e69b14,Allow euclidean() to take naked HTML elements.
Mozilla-GitHub-Standards,2019-03-29 21:54:50,https://api.github.com/repos/mozilla/fathom/git/commits/45ac1dbbd9c9aa87b1b072396682dc8385d80879,45ac1dbbd9c9aa87b1b072396682dc8385d80879,"Add Mozilla Code of Conduct file

Fixes #88.

_(Message COC002)_"
erikrose,2019-04-12 16:30:52,https://api.github.com/repos/mozilla/fathom/git/commits/dbb2f262e8babde869ca1114faa547696ebba290,dbb2f262e8babde869ca1114faa547696ebba290,Fix some typos.
erikrose,2019-04-12 16:14:49,https://api.github.com/repos/mozilla/fathom/git/commits/9a38055be35993c8812653e74c16c45abf7be9b5,9a38055be35993c8812653e74c16c45abf7be9b5,"Overlay a graph on confidences so low-scorers stand out.

Align columns, too."
erikrose,2019-04-12 00:21:50,https://api.github.com/repos/mozilla/fathom/git/commits/22a42ee7ac4c6281610394c9abc5f084210241bd,22a42ee7ac4c6281610394c9abc5f084210241bd,"Rewrite per-page accuracy calculation and display to better deal with negative samples.

No longer do all negative samples fail. They now fail only if our top-scoring node has >=.5 confidence."
erikrose,2019-04-10 15:28:09,https://api.github.com/repos/mozilla/fathom/git/commits/09cf79fa967b0a5985dcfeae7dbd808495067b17,09cf79fa967b0a5985dcfeae7dbd808495067b17,Add smart early stopping to fathom-train.
erikrose,2019-04-09 19:09:44,https://api.github.com/repos/mozilla/fathom/git/commits/2f9b94e65ddfae525b9eeb92e61c7214ec01ccc3,2f9b94e65ddfae525b9eeb92e61c7214ec01ccc3,Add 95% CI for per-page training accuracy.
erikrose,2019-04-09 18:59:43,https://api.github.com/repos/mozilla/fathom/git/commits/6819b8172e935355faa9a98dd3d5bb027b3cc53d,6819b8172e935355faa9a98dd3d5bb027b3cc53d,"Rename trainer folder to ""cli"".

It contains more than just the trainer now."
erikrose,2019-04-09 16:51:13,https://api.github.com/repos/mozilla/fathom/git/commits/1e64ec5c14bbe479bcacbad01db6261a74f01803,1e64ec5c14bbe479bcacbad01db6261a74f01803,"isVisible was failing to see things scrolled out of the viewport.

Removed the tests against things being off the right and bottom of the page for now, because I'm not sure how to test that the window isn't legitimately super-wide or at least scrollable."
erikrose,2019-04-09 16:50:19,https://api.github.com/repos/mozilla/fathom/git/commits/d457003eeac43b009b6705024abd0e6fef2258d1,d457003eeac43b009b6705024abd0e6fef2258d1,"Make it obvious what's happened when a positive sample has failed to have a target element vectorized.

Also make failures stick out better visually."
erikrose,2019-04-09 15:23:41,https://api.github.com/repos/mozilla/fathom/git/commits/20476ff3b9bc05e4620e1c1221402d63ccf757a5,20476ff3b9bc05e4620e1c1221402d63ccf757a5,Tolerate pages for which no candidate nodes were collected.
erikrose,2019-04-09 00:22:53,https://api.github.com/repos/mozilla/fathom/git/commits/ca8a0d281e14ff5be9d6e600fc7eb3d95e9cd1a6,ca8a0d281e14ff5be9d6e600fc7eb3d95e9cd1a6,"Add util procedures rgbaFromString(), saturation(), and linearScale()."
erikrose,2019-04-09 00:22:40,https://api.github.com/repos/mozilla/fathom/git/commits/3fce7aaa53dfe34357ad7f72fcc519a3d5dfbd6d,3fce7aaa53dfe34357ad7f72fcc519a3d5dfbd6d,"Move eslint-env line, which the compiler was moving between identity()'s doclet and its source code, making jsdoc think it was undocumented and breaking the doc build process."
erikrose,2019-04-08 21:04:04,https://api.github.com/repos/mozilla/fathom/git/commits/8ea3b809dc2fc729781c8b05e9ed00a5095eb09a,8ea3b809dc2fc729781c8b05e9ed00a5095eb09a,"Teach isVisible how to check if an element is offscreen.

I was finding that in the wild for hover menus.

Also let it take fnodes, so `.when(isVisible)` can be nice and short."
erikrose,2019-04-04 23:41:20,https://api.github.com/repos/mozilla/fathom/git/commits/19517a5622ddf2bc04553f8af6ea72f3b95854ff,19517a5622ddf2bc04553f8af6ea72f3b95854ff,Add isVisible utility procedure.
erikrose,2019-04-03 21:05:38,https://api.github.com/repos/mozilla/fathom/git/commits/eddbef1f39207b4dbfcae7800f4bf955b7cb3dc1,eddbef1f39207b4dbfcae7800f4bf955b7cb3dc1,"Make learning rate a float, not an int.

It was rejecting inputs like `-l .1`."
erikrose,2019-04-03 20:46:31,https://api.github.com/repos/mozilla/fathom/git/commits/ff542d6456b1ec0ecff95fe0ba5d2a3ec7b0fc47,ff542d6456b1ec0ecff95fe0ba5d2a3ec7b0fc47,"Fix BAD labeling in fathom-trainees.

Sometimes it wouldn't happen when it should, because I was thinking the return value from runTraineeOnThsiDocument was a bool. It's actually an object, which is always truthy."
erikrose,2019-04-01 20:22:21,https://api.github.com/repos/mozilla/fathom/git/commits/47c3b92b321a1d8cca5fae95127ab26c0a74a666,47c3b92b321a1d8cca5fae95127ab26c0a74a666,Add fathom-pick.
erikrose,2019-04-01 16:24:03,https://api.github.com/repos/mozilla/fathom/git/commits/ea32f3cf579dce3038f4a4c3add6e6bbd223cfb8,ea32f3cf579dce3038f4a4c3add6e6bbd223cfb8,"Switch to the Adam optimizer, which is significantly more turn-key.

All you have to mess with is the learning rate to get a pretty good result: no more manually tuning the decay as well. And LR=1 generally does a pretty great job off the bat. I've changed the defaults to reflect this, upping the iteration count as well so a naive user will get a reasonable production value. I'd still run it to 15000 iterations for the final value--why not?

Here are the raw test results that led me to this decision:

Pop-up overlay ruleset:
* Converges (at default 1.e-3 LR) without any fiddling but not as fast as any of my manually tuned SGD runs. How about if we just run it for 15,000 iterations? It beats SGD run to 300 iterations. 6min vs. 16s (plus lots of human fiddling time).
* Crank the LR to 1 and it hits the floor immediately. The best SGD solution I found doesn't match it until i=1700. The SGD then beats it ever so slightly. However, Adam validation performance is significantly better than SGD.
* LR=.1 does pretty much the same as LR=1, just with less oscillation at the beginning and leveling off to a slightly worse value.

Price-wise price ruleset:
* Levels off at 51 with LR=1, i=1800. The optimal SGD result is obscured in the mists of time but looks like about 55. So, Adam does well.
* Dropping the LR down by a factor of 10, to 0.1, still converges by iteration 1800.
* Adam just seems much less sensitive to choices of LR, which is nice.

Remove unused imports as well."
erikrose,2019-04-01 14:23:03,https://api.github.com/repos/mozilla/fathom/git/commits/6fa1a5c2389d90ef0d196e23ac66d318dde24ae1,6fa1a5c2389d90ef0d196e23ac66d318dde24ae1,Add fathom-unzip.
erikrose,2019-04-01 14:14:28,https://api.github.com/repos/mozilla/fathom/git/commits/9d75b687ef28aa9960e26692bbe00757867eece1,9d75b687ef28aa9960e26692bbe00757867eece1,Move fathom-train out of `__init__` to make room for other commandline utils.
erikrose,2019-03-29 20:50:21,https://api.github.com/repos/mozilla/fathom/git/commits/830dfdcc7c4fc7d4e83b3ba30c0d750bc9d53c94,830dfdcc7c4fc7d4e83b3ba30c0d750bc9d53c94,"Add commandline trainer that uses PyTorch.

Integration into the main docs is coming. For now, `pip install fathom-web`, then run `fathom-train --help`."
erikrose,2019-03-27 18:45:23,https://api.github.com/repos/mozilla/fathom/git/commits/00102d2b71e9dca40aaa69f80cb2bc13758a4527,00102d2b71e9dca40aaa69f80cb2bc13758a4527,"Bring the intro up to date.

Emphasize confidence computation, which is a major draw for 3.0. Mention the NN optimizer. Remove the type-narrowing technique, which no one ever used. De-emphasize manual ands and ors, which will probably turn into an autogenerated hidden layer in a NN instead."
erikrose,2019-03-27 00:39:01,https://api.github.com/repos/mozilla/fathom/git/commits/7423bf2c7f942a379dd1142d4af116ab250c32f7,7423bf2c7f942a379dd1142d4af116ab250c32f7,Make Sphinx and jsdoc happy.
erikrose,2019-03-27 00:13:20,https://api.github.com/repos/mozilla/fathom/git/commits/a3d82024ba06ba0bef1ffd2a612828ce04461727,a3d82024ba06ba0bef1ffd2a612828ce04461727,Make linter happy.
erikrose,2019-03-25 20:58:48,https://api.github.com/repos/mozilla/fathom/git/commits/e8a53b7a958ac73e111c80a9f3b6a6da6a5390e0,e8a53b7a958ac73e111c80a9f3b6a6da6a5390e0,Change version format to make npm happy.
erikrose,2019-03-25 20:52:16,https://api.github.com/repos/mozilla/fathom/git/commits/1a91a2fb4609f19e33b6004ec44dc9525c1c63ad,1a91a2fb4609f19e33b6004ec44dc9525c1c63ad,"Merge new-math branch into master, bringing Fathom into the neural-net world."
erikrose,2019-03-25 20:51:54,https://api.github.com/repos/mozilla/fathom/git/commits/85d89fc6aba0add669384f6e8d6ea503bcdecdff,85d89fc6aba0add669384f6e8d6ea503bcdecdff,Polish version history.
erikrose,2019-03-25 19:10:55,https://api.github.com/repos/mozilla/fathom/git/commits/46a14f09335e60d6c005173c35747535c7b7dce7,46a14f09335e60d6c005173c35747535c7b7dce7,Make setting coeffs and biases after construction actually work.
erikrose,2019-03-15 23:40:45,https://api.github.com/repos/mozilla/fathom/git/commits/2fcb945047033a47bbd94f2ec4e78ea4deb24207,2fcb945047033a47bbd94f2ec4e78ea4deb24207,"Bump version to 3.0a1, and update version history with a 3.0 summary."
erikrose,2019-03-15 23:38:28,https://api.github.com/repos/mozilla/fathom/git/commits/2cacb1f110d765575d7d8106d29534514e799eae,2cacb1f110d765575d7d8106d29534514e799eae,Make docs build.
erikrose,2019-03-15 19:09:22,https://api.github.com/repos/mozilla/fathom/git/commits/b0df36b711ba9c7bf5f414c2f289ea8e702204a9,b0df36b711ba9c7bf5f414c2f289ea8e702204a9,"Re-enable maxCache, and provide a public API for re-setting the coeffs and biases.

The coeffs and biases will probably be reset only by the old, annealing optimizer, for as long as we keep that."
erikrose,2019-03-15 17:43:42,https://api.github.com/repos/mozilla/fathom/git/commits/97766d057e2fd90a9d7f2e8a6e609bb2cd457197,97766d057e2fd90a9d7f2e8a6e609bb2cd457197,"Get Readability tests passing, by cheating.

I don't really care about these right now; they're slow as death, and we have a better potential way to go about this task now (see comment). Drop down to just smoke-testing it for now.

Move coeffs from within scoring callbacks to the `coeffs` option to `ruleset()`."
erikrose,2019-03-15 17:42:00,https://api.github.com/repos/mozilla/fathom/git/commits/35b4533fdbaec4a51bd69e46c2e067aa02c4cec2,35b4533fdbaec4a51bd69e46c2e067aa02c4cec2,"Rip out conserveScore() for now.

No one has ever used it, though I think it might actually be *more* useful now that we're going neural-net. However, it's taken me several days to get everything working between it and the per-rule subscore preservation, and I still don't see the end. So, for now, I'm tearing it out.

addScoreFor() adding the weighted score for an entire type to one rule's subscore for that type was definitely a bug, leading to double-counting some subscores."
erikrose,2019-03-14 16:46:04,https://api.github.com/repos/mozilla/fathom/git/commits/fe5761f9c7ef6a81f5c93d0ed2ecec6248c54a6d,fe5761f9c7ef6a81f5c93d0ed2ecec6248c54a6d,"Fix some tests to expect added, sigmoided scores."
erikrose,2019-03-14 16:43:02,https://api.github.com/repos/mozilla/fathom/git/commits/272b5649620a0708d42081d7cf3e9464b8d1b79f,272b5649620a0708d42081d7cf3e9464b8d1b79f,Fix a bug wherein a score of a type of a node could be conserved into only one type of another node.
erikrose,2019-03-14 16:38:56,https://api.github.com/repos/mozilla/fathom/git/commits/70a9f19b811854b33b8d3041428a6867b8bb02ee,70a9f19b811854b33b8d3041428a6867b8bb02ee,Bring debugging command up to date with the node world.
erikrose,2019-03-11 16:44:32,https://api.github.com/repos/mozilla/fathom/git/commits/50f78d5e476bbc8e75cfdde965452e3d9fe1ac02,50f78d5e476bbc8e75cfdde965452e3d9fe1ac02,Fix Ruleset.rules() test.
erikrose,2019-03-11 16:44:18,https://api.github.com/repos/mozilla/fathom/git/commits/b45968e4f39de33bf7fa0dcaaceff8c8b0cb1b62,b45968e4f39de33bf7fa0dcaaceff8c8b0cb1b62,Update conserveScore() for subscore bookkeeping.
erikrose,2019-03-11 15:28:05,https://api.github.com/repos/mozilla/fathom/git/commits/760316fa4d22121b9a2e9d0fa1a2b990634c855e,760316fa4d22121b9a2e9d0fa1a2b990634c855e,Fix tests: wrap rules in an array.
erikrose,2019-03-11 14:55:45,https://api.github.com/repos/mozilla/fathom/git/commits/e9690b360034084188ce88b1f7d54ee4e096170d,e9690b360034084188ce88b1f7d54ee4e096170d,"Change default weight back to 1.

I didn't mean to change it in 6fa851f18b196e2f24ad9a7faaa69d41e48040ee. Old-school rulesets should continue to sorta kinda work with this in place."
erikrose,2019-03-11 14:44:48,https://api.github.com/repos/mozilla/fathom/git/commits/a2727b44bcf3e13fe9b17a6082e8e8c568f118e8,a2727b44bcf3e13fe9b17a6082e8e8c568f118e8,"Change ruleset() to take an array of rules as a single param, along with coeffs and biases.

This way, the Ruleset is always valid, and the coeffs and biases are easy to update.

Roll together all non-Side rule() params into a single `options` arg for future expandability. Take 'name' as the first of those options.

Start autogenerated rule numbers at 0, just to align with what the language does with array indices."
erikrose,2019-03-08 20:48:08,https://api.github.com/repos/mozilla/fathom/git/commits/6fa851f18b196e2f24ad9a7faaa69d41e48040ee,6fa851f18b196e2f24ad9a7faaa69d41e48040ee,"Change default node score from 1 to 0.

This keeps it as the identity in light of our change of the score-combination math from  multiplication to addition. It also means ""no confidence"", which is the most accurate thing we can say if no computation has been done. Note that this is probably subtly different than ""We are 100% confident that this node does NOT have this type.""

Add sigmoid() function to utilsForFrontend."
erikrose,2019-02-13 22:15:03,https://api.github.com/repos/mozilla/fathom/git/commits/0c292adcfb8be56ac758e50eb7a184b0713c7827,0c292adcfb8be56ac758e50eb7a184b0713c7827,"Return the filename also.

...so we can someday recompute the feature vectors only on samples that changed."
erikrose,2019-02-13 21:50:19,https://api.github.com/repos/mozilla/fathom/git/commits/6e7fd91a5d72056e6f25cdc432c173ee0b910a94,6e7fd91a5d72056e6f25cdc432c173ee0b910a94,Be sure to always get all feature values (even if not all rules fire off) and always in the same order.
erikrose,2019-02-08 16:02:41,https://api.github.com/repos/mozilla/fathom/git/commits/39dd43752314f3156f7db3e142a282cfd1ae0c26,39dd43752314f3156f7db3e142a282cfd1ae0c26,Add support code for FathomFox vectorizer.
erikrose,2019-01-18 22:19:44,https://api.github.com/repos/mozilla/fathom/git/commits/ccc8b086d4ae9d4760b4f01886b2476c604d77fd,ccc8b086d4ae9d4760b4f01886b2476c604d77fd,"Catch any exceptions in the success function and at least report the page they happened on, for debugging.

You can then use the normal, non-webext dev tools to set a breakpoint in the content script and see what's going on."
erikrose,2019-01-15 16:06:27,https://api.github.com/repos/mozilla/fathom/git/commits/ec5560a9b2e6528035823a8122b3e2ad3c1d0a45,ec5560a9b2e6528035823a8122b3e2ad3c1d0a45,Report rich costs back to the trainer along with did-succeed bools.
erikrose,2018-12-13 18:06:11,https://api.github.com/repos/mozilla/fathom/git/commits/6210707a3d3eef0ed07ea830eb6395209ad0bd34,6210707a3d3eef0ed07ea830eb6395209ad0bd34,"Cache BoundRulesets, not unbound Rulesets. Oops. Now it goes fast (though gets steadily slower as we progress for some reason--half as fast by 50% through a training run)."
erikrose,2018-12-11 20:23:11,https://api.github.com/repos/mozilla/fathom/git/commits/ab6b850e644f0444db482670d797b855f0d1c746,ab6b850e644f0444db482670d797b855f0d1c746,This demonstrates that rulesets are indeed being cached.
erikrose,2018-11-29 15:59:54,https://api.github.com/repos/mozilla/fathom/git/commits/6f77aef02e534acbda53303856bcf575f8ee2096,6f77aef02e534acbda53303856bcf575f8ee2096,"WIP. Add coeffs-by-map and maintain separate subscores per rule so we can optimize without having to re-run scoring callbacks.

(Move coeffs into the framework rather than having them as black-box parts of the scoring callbacks.)"
erikrose,2018-11-26 16:20:18,https://api.github.com/repos/mozilla/fathom/git/commits/46abd6521483414b9c0935c67f132d2c7d5cb9c1,46abd6521483414b9c0935c67f132d2c7d5cb9c1,"Switch from multiplication to addition.

The hope is that additive scores like this will allow us to use confidences, after mapping the sum to a sigmoid or triangle function. (We could omit mapping, but then we'd have to shift our confidence number when we add new rules.)"
erikrose,2018-11-15 17:32:09,https://api.github.com/repos/mozilla/fathom/git/commits/f391370fc7aedf7187d0e9c629c790f7163dae3c,f391370fc7aedf7187d0e9c629c790f7163dae3c,"Bump version to 2.8, and update version history."
erikrose,2018-11-13 03:33:09,https://api.github.com/repos/mozilla/fathom/git/commits/cdfda1147ca915f9d533cafcb37b8e207199753b,cdfda1147ca915f9d533cafcb37b8e207199753b,"Add the ability to label wrongly recognized elements to fathom-trainees imports, for use with FathomFox 2.3 and above."
erikrose,2018-11-13 03:32:29,https://api.github.com/repos/mozilla/fathom/git/commits/2985edb4013e123ce194b84a2aa7aecbca0e249b,2985edb4013e123ce194b84a2aa7aecbca0e249b,"Call them ""bad"" instead of ""wrong"", since ""Good/bad"" appears as a label in the FathomFox UI."
erikrose,2018-11-12 22:14:04,https://api.github.com/repos/mozilla/fathom/git/commits/76dd4f587437f19454279527d4bce636ea9f652d,76dd4f587437f19454279527d4bce636ea9f652d,Stop repeating ourselves.
erikrose,2018-11-12 21:46:48,https://api.github.com/repos/mozilla/fathom/git/commits/19bc96e0f702ebbcbe45f3f4d933fbe30bc40ed9,19bc96e0f702ebbcbe45f3f4d933fbe30bc40ed9,"Remove any labels of the same ""WRONG whatever"" value before adding more.

We let ones from other rulesets persist for now, in case somebody wants to run a bunch of rulesets and then fix all the bugs at once."
erikrose,2018-11-09 20:41:54,https://api.github.com/repos/mozilla/fathom/git/commits/daef52ec82353e6d7256504edf93d91268f80b78,daef52ec82353e6d7256504edf93d91268f80b78,First ugly whack at labeling spurious recognitions so we can debug them
erikrose,2018-11-09 20:40:59,https://api.github.com/repos/mozilla/fathom/git/commits/3e78cf692e7a074c05e91cdd1c6cdf5664085bbe,3e78cf692e7a074c05e91cdd1c6cdf5664085bbe,Name routines more descriptively.
erikrose,2018-11-07 15:44:39,https://api.github.com/repos/mozilla/fathom/git/commits/d841d747996c035274f4be27bbb0ac59ef827a9d,d841d747996c035274f4be27bbb0ac59ef827a9d,Mention false positives in the docs.
erikrose,2018-11-07 03:49:43,https://api.github.com/repos/mozilla/fathom/git/commits/ebddc3002c3e361374426a739d91c1303d3698ec,ebddc3002c3e361374426a739d91c1303d3698ec,Add a docs page on rule development workflow.
erikrose,2018-11-06 21:34:41,https://api.github.com/repos/mozilla/fathom/git/commits/b3fc01a516b43883f658aa573aa37566ed4b5e6f,b3fc01a516b43883f658aa573aa37566ed4b5e6f,Break out the CLI invocations into blockquotes so you can easily scan for the different things you can run.
erikrose,2018-10-26 15:54:39,https://api.github.com/repos/mozilla/fathom/git/commits/5abfa3f545fdeb5903be52b88cc2956d78b8fbfe,5abfa3f545fdeb5903be52b88cc2956d78b8fbfe,"Merge security patches (which didn't actually affect our use cases, so don't panic) and some readme clarity fixes. Close #85."
danburzo,2018-10-26 10:44:54,https://api.github.com/repos/mozilla/fathom/git/commits/49b1a34a78771217b5d486f62e726fd669e0e6c1,49b1a34a78771217b5d486f62e726fd669e0e6c1,Add link to docs in README
danburzo,2018-10-26 10:44:14,https://api.github.com/repos/mozilla/fathom/git/commits/ba0bbeb22482fc4042844ae14c2925fabbd853ac,ba0bbeb22482fc4042844ae14c2925fabbd853ac,Upgrade rependencies based on npm audit
erikrose,2018-10-09 18:59:46,https://api.github.com/repos/mozilla/fathom/git/commits/86c6938f3adfa75d492928d5fc7c512cb18fcced,86c6938f3adfa75d492928d5fc7c512cb18fcced,"Bump version to 2.7, and update version history."
erikrose,2018-10-09 18:58:13,https://api.github.com/repos/mozilla/fathom/git/commits/cbad4cacc37c7d275cc1285c802d8c3feb0d5e69,cbad4cacc37c7d275cc1285c802d8c3feb0d5e69,"Support pluggable success functions in fathom-trainees.

Glob did most of this work. Close https://github.com/mozilla/fathom-trainees/pull/2.
Fix https://github.com/mozilla/fathom-fox/issues/18.
Fix https://github.com/mozilla/fathom-fox/issues/7."
erikrose,2018-10-05 19:52:31,https://api.github.com/repos/mozilla/fathom/git/commits/1208191f8f28d144cd82967b64ad796b6e0481a3,1208191f8f28d144cd82967b64ad796b6e0481a3,"Factor boilerplate out of fathom-trainees webext into Fathom proper.

Now the only significant thing left in the webext is the ruleset developer's code."
erikrose,2018-08-27 16:09:05,https://api.github.com/repos/mozilla/fathom/git/commits/a5a1cc355bac61e5f93e24095c6e7a21233e6179,a5a1cc355bac61e5f93e24095c6e7a21233e6179,Quit shipping the tooling configs with the package.
erikrose,2018-08-27 16:08:48,https://api.github.com/repos/mozilla/fathom/git/commits/d4cb2dc1e49d43a06ef9048bf98fcc0db8712a6c,d4cb2dc1e49d43a06ef9048bf98fcc0db8712a6c,Add a `publish` target so I don't forget to build the CommonJS.
erikrose,2018-08-27 15:43:56,https://api.github.com/repos/mozilla/fathom/git/commits/70b78067feeab0e5a4536963a259523f86b3d336,70b78067feeab0e5a4536963a259523f86b3d336,"Always recompile when we need it.

Before, we were using index.js as a canary, so if you had index.js lying around but changed another file, that file wouldn't get recompiled. Now we do it properly.

Also, we don't have to manually keep a list of disposable *.js files anymore."
erikrose,2018-08-27 14:52:07,https://api.github.com/repos/mozilla/fathom/git/commits/78ccfc148477ce3fabbf3371a38a46e002e81986,78ccfc148477ce3fabbf3371a38a46e002e81986,Tell Travis to use the latest stable version of node.
erikrose,2018-08-27 14:46:36,https://api.github.com/repos/mozilla/fathom/git/commits/a398397a319de1bb551a8bb2f8a4058b76473c4e,a398397a319de1bb551a8bb2f8a4058b76473c4e,"Make coverage run again by upgrading to an alpha of istanbul.

http://www.albertgao.xyz/2016/12/20/how-to-check-es6-code-coverage-via-istanbul-and-mocha/"
erikrose,2018-08-25 00:07:59,https://api.github.com/repos/mozilla/fathom/git/commits/bcf1b47c306215f75a143300cacca70fafe2aa28,bcf1b47c306215f75a143300cacca70fafe2aa28,Fix lint errors.
erikrose,2018-08-24 21:37:48,https://api.github.com/repos/mozilla/fathom/git/commits/27afac41e50c03568704234d2a35a45d06e3520f,27afac41e50c03568704234d2a35a45d06e3520f,Bump version to 2.5.
erikrose,2018-08-24 21:36:21,https://api.github.com/repos/mozilla/fathom/git/commits/e039bc45e6c2c6156db7be80fd575915892b1a01,e039bc45e6c2c6156db7be80fd575915892b1a01,Merge nearest() work.
erikrose,2018-08-24 21:36:02,https://api.github.com/repos/mozilla/fathom/git/commits/abdbe30c3c5d193a496124636ce46c0841270204,abdbe30c3c5d193a496124636ce46c0841270204,Update version history.
erikrose,2018-08-24 21:04:42,https://api.github.com/repos/mozilla/fathom/git/commits/ae77a6c7a3ac6d437e73172850031a62e9621ea6,ae77a6c7a3ac6d437e73172850031a62e9621ea6,"Add a test for using conserveScore() with nearest().

Fix a revealed bug in guaranteedType()."
erikrose,2018-08-24 21:03:31,https://api.github.com/repos/mozilla/fathom/git/commits/47f3689674c1ba18a65a0acbc81d0dc482d33537,47f3689674c1ba18a65a0acbc81d0dc482d33537,"Get euclidean() to work as the default when nothing is specified to nearest().

Also change a !== to > for clarity."
erikrose,2018-08-24 20:50:11,https://api.github.com/repos/mozilla/fathom/git/commits/a2549b1d6654cceb5d01548d5581206ef0f76147,a2549b1d6654cceb5d01548d5581206ef0f76147,Add nearest() to docs.
erikrose,2018-08-24 20:40:37,https://api.github.com/repos/mozilla/fathom/git/commits/57230fef6e3557c9f7c3c000b6c5418b65e29c71,57230fef6e3557c9f7c3c000b6c5418b65e29c71,Add euclidean() distance function.
erikrose,2018-08-24 20:37:45,https://api.github.com/repos/mozilla/fathom/git/commits/244daeceec04b213ff9d18934bdd4f8dad155d49,244daeceec04b213ff9d18934bdd4f8dad155d49,Improve speed of rootElement().
erikrose,2018-08-24 20:36:47,https://api.github.com/repos/mozilla/fathom/git/commits/b3b46832b1d66f3717c1ce0cf278193eafe2f68d,b3b46832b1d66f3717c1ce0cf278193eafe2f68d,"Polish distance() docs.

Explain stride nodes in distance() params, where they're needed. Make it clearer that distance() is indeed topological."
erikrose,2018-08-24 16:12:05,https://api.github.com/repos/mozilla/fathom/git/commits/ea7e05b218931546e52783504d8b3cc1e2275052,ea7e05b218931546e52783504d8b3cc1e2275052,Add first draft of nearest().
erikrose,2018-08-24 16:11:20,https://api.github.com/repos/mozilla/fathom/git/commits/04f2f4577c4e3d69dd4e4283befb9548caa56205,04f2f4577c4e3d69dd4e4283befb9548caa56205,Clean up a little syntax.
erikrose,2018-08-20 16:21:24,https://api.github.com/repos/mozilla/fathom/git/commits/0939754097b56e0564db0e6ff792a272c4963ef0,0939754097b56e0564db0e6ff792a272c4963ef0,"Standardize on `export function`-like syntax rather than a stanza of exports at the end. Ref #81.

This is less work to maintain.

Sadly, I couldn't get `export...from` to work in index.mjs; rollup invoked in fathom-trainees yielded `[!] Error: 'ruleset' is not exported by node_modules/fathom-web/index.js`."
erikrose,2018-08-17 21:16:18,https://api.github.com/repos/mozilla/fathom/git/commits/6cd345d4de68cf1a33d9118253fd360a0197b7a5,6cd345d4de68cf1a33d9118253fd360a0197b7a5,Explain that the default distance algo for clustering isn't just topographical distance.
erikrose,2018-08-17 19:42:49,https://api.github.com/repos/mozilla/fathom/git/commits/a284f0236f0ffcd2a7b326271f2e9e750b5a628a,a284f0236f0ffcd2a7b326271f2e9e750b5a628a,Bump version to 2.4.
erikrose,2018-08-17 19:29:37,https://api.github.com/repos/mozilla/fathom/git/commits/d7cd7c23d6b8359f026d94bfd074c992aa88a3eb,d7cd7c23d6b8359f026d94bfd074c992aa88a3eb,Point people to FathomFox rather than using the optimization framework directly.
erikrose,2018-08-17 19:04:45,https://api.github.com/repos/mozilla/fathom/git/commits/cb49296313b0414af8d5d7389c7cdbbe33448d85,cb49296313b0414af8d5d7389c7cdbbe33448d85,Bring npmignore up to date with the latest gitignore additions.
erikrose,2018-08-17 18:56:01,https://api.github.com/repos/mozilla/fathom/git/commits/9bba6bdf5eecb926bc433a55720ea9e1a223b962,9bba6bdf5eecb926bc433a55720ea9e1a223b962,Get rid of a CommonJS-style `module.exports` reference that somehow survived. Ref #81.
erikrose,2018-08-17 14:41:16,https://api.github.com/repos/mozilla/fathom/git/commits/1acdaf2f8477a2ebeba72927c03cb9c81bfb33a7,1acdaf2f8477a2ebeba72927c03cb9c81bfb33a7,"Switch source to ES6 imports. Add Babel to support old CommonJS clients.

This enables us to build fathom-trainees, which depends on rollup's dead-code elimination to leave out the node-specific references when bundling."
erikrose,2018-08-17 14:28:27,https://api.github.com/repos/mozilla/fathom/git/commits/c5ca48dbf516bea223fbdfbd0fd54ce3b1821e7d,c5ca48dbf516bea223fbdfbd0fd54ce3b1821e7d,"Move the ""test"" npm script to makefile.

I like having the whole build-rule dependency graph in one place.

Also make Babel run only if the JS files don't appear to already have been built. I'm using index.js as a canary here, so you'll need to `make clean` if you add a new file.

Also make debugtest kick trigger Babel."
erikrose,2018-08-17 12:23:21,https://api.github.com/repos/mozilla/fathom/git/commits/86793367c6dfb3432a6dcd894ea1649a39d792b6,86793367c6dfb3432a6dcd894ea1649a39d792b6,"Build JS files before running tests.

Atm, the tests test just the built files. I would rather test the unbuilt ones, but I haven't figured out how yet, and it doesn't look like anyone else has either (https://github.com/mochajs/mocha/issues/3006). In the meantime, we get the bonus of testing the compilation."
erikrose,2018-08-17 12:19:42,https://api.github.com/repos/mozilla/fathom/git/commits/837bc0ff9ab13dc597f968039d0c8a2e9e1f0fe8,837bc0ff9ab13dc597f968039d0c8a2e9e1f0fe8,Remove some spurious file extensions from imports.
erikrose,2018-08-17 12:17:48,https://api.github.com/repos/mozilla/fathom/git/commits/34eebc4d174a341f7a5d5e942dcd6796fefb7691,34eebc4d174a341f7a5d5e942dcd6796fefb7691,Update version history to talk about ES6 modules.
erikrose,2018-08-16 21:32:34,https://api.github.com/repos/mozilla/fathom/git/commits/74ba51e374d2b011e466fb364927cc07cb11a6ed,74ba51e374d2b011e466fb364927cc07cb11a6ed,"Give the .js build step a more descriptive name, and fire it off when someone just calls `make`."
erikrose,2018-08-16 21:29:11,https://api.github.com/repos/mozilla/fathom/git/commits/05c61861aac6f080bc8e9248aa9d0d84e151b6ee,05c61861aac6f080bc8e9248aa9d0d84e151b6ee,Point the docs to the new home of the `max()` function.
erikrose,2018-08-15 21:13:41,https://api.github.com/repos/mozilla/fathom/git/commits/a513a7b77e487441b13ab004e20df7a88a0ae49a,a513a7b77e487441b13ab004e20df7a88a0ae49a,"Move `build` target to Makefile.

make is still superior at modeling rule deps, AFAIK, so I favor it. I do wish we didn't have it split across 2 places, though."
erikrose,2018-08-09 21:25:41,https://api.github.com/repos/mozilla/fathom/git/commits/80b72833027b2bd55c414e88b13803d122891b0c,80b72833027b2bd55c414e88b13803d122891b0c,Get eslint to recognize mjs files.
erikrose,2018-08-09 21:25:29,https://api.github.com/repos/mozilla/fathom/git/commits/491834f8873e11ad16a79d9b5addee6933a3c6f2,491834f8873e11ad16a79d9b5addee6933a3c6f2,Add a `make clean` for ditching generated JS files.
erikrose,2018-08-06 21:11:00,https://api.github.com/repos/mozilla/fathom/git/commits/1807e9d2c94a529f256ab00b19fe79d0767b269f,1807e9d2c94a529f256ab00b19fe79d0767b269f,"Ignore almost all *.js files, which are now built artifacts."
erikrose,2018-08-06 21:09:33,https://api.github.com/repos/mozilla/fathom/git/commits/4e2945f386f4fee34b553ea27ec420cf22fd2995,4e2945f386f4fee34b553ea27ec420cf22fd2995,Fix a chai import that was causing readability tests to fail.
erikrose,2018-08-03 17:39:34,https://api.github.com/repos/mozilla/fathom/git/commits/faf203489919b5e3359560d3b17fb35d518dab33,faf203489919b5e3359560d3b17fb35d518dab33,Add Babel config to turn jsm files back into js ones for import by CJS modules.
erikrose,2018-08-03 17:38:42,https://api.github.com/repos/mozilla/fathom/git/commits/ea55ed0cf12913ac08fa3886b723526c01d98c2a,ea55ed0cf12913ac08fa3886b723526c01d98c2a,"Rename .js things that should be treated as ES6 modules to .jsm.

...so Node will load them as such."
erikrose,2018-08-03 15:24:50,https://api.github.com/repos/mozilla/fathom/git/commits/73c58aa47648de701618007b1f75f6e5aa38b039,73c58aa47648de701618007b1f75f6e5aa38b039,"Replace imports of CJS modules into ES6 modules with default imports.

According to https://medium.com/@giltayar/native-es-modules-in-nodejs-status-and-future-directions-part-i-ee5ea3001f71, these are the only ones that will work in Node."
erikrose,2018-08-02 00:55:35,https://api.github.com/repos/mozilla/fathom/git/commits/73b26987cddc7ff0c854ee890a5f3e3ec37b1a25,73b26987cddc7ff0c854ee890a5f3e3ec37b1a25,Fix a missing link in the docs.
erikrose,2018-08-02 00:55:22,https://api.github.com/repos/mozilla/fathom/git/commits/3b019d850c52092d7c0e18fb6c314235e353066a,3b019d850c52092d7c0e18fb6c314235e353066a,Add a few missing semicolons.
erikrose,2018-08-02 00:55:05,https://api.github.com/repos/mozilla/fathom/git/commits/36dda9648bfbc38c9ca819888f1965e233d908f9,36dda9648bfbc38c9ca819888f1965e233d908f9,Stop trying to Travis this branch.
erikrose,2018-07-03 15:38:25,https://api.github.com/repos/mozilla/fathom/git/commits/9a5bddbdda480a7e7c8c8c3ee53afdf036af02c1,9a5bddbdda480a7e7c8c8c3ee53afdf036af02c1,"Fix a misuse of isArray().

We were using it like a property, which actually probably always did the right thing, but we were just lucking out that there wasn't an isArray prop on things that weren't arrays."
erikrose,2018-06-30 00:39:04,https://api.github.com/repos/mozilla/fathom/git/commits/ba07a4efc29a9bf8763cb54e99c14d37ac46fd01,ba07a4efc29a9bf8763cb54e99c14d37ac46fd01,I don't know how I was getting away with exporting this undefined symbol.
erikrose,2018-06-19 20:14:15,https://api.github.com/repos/mozilla/fathom/git/commits/020c2784f8151a72cc79be23f497bfab86f92ea8,020c2784f8151a72cc79be23f497bfab86f92ea8,"Use import statements in utilsForBackend.

Not sure how I missed that one."
erikrose,2018-06-18 20:36:23,https://api.github.com/repos/mozilla/fathom/git/commits/e873d0a90c507f6fc946c8033ee56813407e3b7f,e873d0a90c507f6fc946c8033ee56813407e3b7f,"Split utils into front- and back-end modules.

This makes rollup happy when building FathomFox.

Also remove utils as a symbol in the top-level module. This breaks backward compat."
erikrose,2018-05-11 17:52:04,https://api.github.com/repos/mozilla/fathom/git/commits/b7c53a0e7d5e94e449e892fd614c85f0da21e574,b7c53a0e7d5e94e449e892fd614c85f0da21e574,Tweak some docs.
motin,2018-06-14 18:47:42,https://api.github.com/repos/mozilla/fathom/git/commits/b772ab637d493820b29187c096d3634ff4ae41ff,b772ab637d493820b29187c096d3634ff4ae41ff,Updated package-lock.json (previous one resulted in 404 Not Found: ansi-styles@2.2.0) (#77)
erikrose,2018-06-14 18:07:27,https://api.github.com/repos/mozilla/fathom/git/commits/84b391d8f3e6f3314717ed44011c2f5c8ae2a58f,84b391d8f3e6f3314717ed44011c2f5c8ae2a58f,Remove a pointless use of wu.forEach.
erikrose,2018-05-21 17:25:11,https://api.github.com/repos/mozilla/fathom/git/commits/17788131b57c1576cad49f591c26e47d24ce77f1,17788131b57c1576cad49f591c26e47d24ce77f1,"Rejigger utils exports so there's a default export.

This way, our intention of exporting utils as a submodule from index.js can be fulfilled. Before, there was no object to import as the submodule itself."
erikrose,2018-05-21 17:18:39,https://api.github.com/repos/mozilla/fathom/git/commits/c2446629b0cb1e38089088fdb0ad3f6341fd5d69,c2446629b0cb1e38089088fdb0ad3f6341fd5d69,"It turns out we've been failing to export anything useful for `max` this whole time; there is no `max` in side.js.

So drop it for now. It looks like I exported it by accident, as the rest of utils.js (which is where it does live) isn't exported."
erikrose,2018-05-15 20:59:16,https://api.github.com/repos/mozilla/fathom/git/commits/afbb4ab27d43a4cac66d2909330d8164e812e878,afbb4ab27d43a4cac66d2909330d8164e812e878,"Change from CommonJS-style require()s to ES6 module import/exports.

This enables rollup to do dead-code elimination when bundling. For node.js compatibility, we should be able to use babel or possibly its --experimental-modules flag combined with a custom loader that finds our files despite them not having an .mjs extension."
erikrose,2018-05-15 16:53:30,https://api.github.com/repos/mozilla/fathom/git/commits/050ed48ce9852d3fbf8fee40ff62d68895ed27ab,050ed48ce9852d3fbf8fee40ff62d68895ed27ab,"This does recurse into 3rd-party npm modules like wu and into ""import {Run} from 'fathom-web/optimizers';"" from within a file in fathom-fox."
erikrose,2018-05-14 13:42:35,https://api.github.com/repos/mozilla/fathom/git/commits/4303330dfb918d786773077c1186cdab2a364fcc,4303330dfb918d786773077c1186cdab2a364fcc,"This makes rollup complete without error, but it doesn't recurse past fathom-web/index.js."
erikrose,2018-05-11 17:52:04,https://api.github.com/repos/mozilla/fathom/git/commits/03b1101579d7ba5081e4c96faa57146d9dfbaa4c,03b1101579d7ba5081e4c96faa57146d9dfbaa4c,Tweak some docs.
erikrose,2018-02-21 18:17:21,https://api.github.com/repos/mozilla/fathom/git/commits/4024516932a81b0c0a084ffa4c16c9c7d568ce79,4024516932a81b0c0a084ffa4c16c9c7d568ce79,Correct a heading in the version history.
erikrose,2018-02-21 18:09:57,https://api.github.com/repos/mozilla/fathom/git/commits/9a4cab4c2abf5d8448ebf02c4478f18842347129,9a4cab4c2abf5d8448ebf02c4478f18842347129,Add package-lock.json.
erikrose,2018-02-21 18:08:18,https://api.github.com/repos/mozilla/fathom/git/commits/fb23811e3d2b9f8a7a4cb9832ffae7ae23c5759e,fb23811e3d2b9f8a7a4cb9832ffae7ae23c5759e,Bump version to 2.3. Update readme.
erikrose,2017-12-22 02:45:58,https://api.github.com/repos/mozilla/fathom/git/commits/6f7c8937a07834e032ef6e864860ba93b14459ac,6f7c8937a07834e032ef6e864860ba93b14459ac,Keep nudged coeffs from going negative in readability tuner.
erikrose,2017-12-22 02:45:20,https://api.github.com/repos/mozilla/fathom/git/commits/8aefff5ddca301febcca5b9fcfccfa0c51bcf319,8aefff5ddca301febcca5b9fcfccfa0c51bcf319,"Improve annealer performance by about 4-fold.

...as measured on tuning readability:

    Got to 14.74 4x faster.
    Got to 11.97 in 7 vs. 27 minutes (3.8x faster).
    Got to 11.85 in 8 vs. 69 minutes (8.6x faster).

We do this by adding caching of solution costs (hit rate  90% for the sort of single-coefficient-at-a-time nudging we've often used, 3% for the coeff-swapping approach of the bin-packing problem). We also make sure to report the best-encountered solution rather than merely the one that's current when time runs out.

At the moment, the caching leaks memory since entries never expire, but the leakage is bounded by the max iterations of the annealer and is insignificant in practice. It is an open question why cache hit rate for readability is near zero: comparable single-coeff-nudgers yield a higher rate, and we wouldn't expect such a speedup for a low one. Stochasticity could be a factor.

Also allow the annealer hyperparameters to be modified through constructor params. I haven't yet found any that are both faster and better, but various useful balances are achievable, like [10643.296506954695, 113.30886882813805, 0.023803813406736214, 4.231731642265747], which finds solutions about half as good but finds them 32x faster."
erikrose,2017-11-20 21:08:44,https://api.github.com/repos/mozilla/fathom/git/commits/84ea3af059205147ac68629f766ed6239162e62f,84ea3af059205147ac68629f766ed6239162e62f,Fix embarrassing linter failures.
erikrose,2017-11-20 21:05:07,https://api.github.com/repos/mozilla/fathom/git/commits/2629ca8e970e966c5311889adcba46224c44a1c2,2629ca8e970e966c5311889adcba46224c44a1c2,Add migration docs for our attributesMatch() backward incompatibility.
erikrose,2017-11-20 21:02:30,https://api.github.com/repos/mozilla/fathom/git/commits/5eaa64ac97eb9f27a4719da5fdc61a7b5a486360,5eaa64ac97eb9f27a4719da5fdc61a7b5a486360,Merge in the Corpus framework.
erikrose,2017-11-20 21:02:08,https://api.github.com/repos/mozilla/fathom/git/commits/aa3d025993587e76112eda311d59155e625825f6,aa3d025993587e76112eda311d59155e625825f6,Fix attributesMatch() tests to conform to new param type.
erikrose,2017-11-20 18:55:21,https://api.github.com/repos/mozilla/fathom/git/commits/b587a8d453ee5046a7733a27d95a02e2143c1ee3,b587a8d453ee5046a7733a27d95a02e2143c1ee3,"Move staticDom back into utils module.

We could do backflips to avoid depending on jsdom, but callers would have to pass it (or some other compatible impl) into the corpus framework, and then we'd have to document that. It's better just to admit a dependency on it and rely on rollup and other bundlers to do dead code elimination."
erikrose,2017-11-14 20:36:25,https://api.github.com/repos/mozilla/fathom/git/commits/f939715cd7e12b15894580be59d4ae3c2c44e1c3,f939715cd7e12b15894580be59d4ae3c2c44e1c3,"Factor more of the common optimization tooling into Fathom proper.

Otherwise, it's very time-consuming to reinvent this every time."
erikrose,2017-11-03 21:19:23,https://api.github.com/repos/mozilla/fathom/git/commits/a94c8e673e1ee72c7b8ad1788c87d5839cb00dbd,a94c8e673e1ee72c7b8ad1788c87d5839cb00dbd,Merge mkelly's rollup config for bundling. Close #76.
erikrose,2017-11-03 21:18:46,https://api.github.com/repos/mozilla/fathom/git/commits/5281097f0886208dc1b4f8ea6b10bdb6fd8f9698,5281097f0886208dc1b4f8ea6b10bdb6fd8f9698,Mark rollup config as experimental.
erikrose,2017-11-03 21:18:38,https://api.github.com/repos/mozilla/fathom/git/commits/9c91daf1f8231f0b422558b88b3a30f64c7d30ee,9c91daf1f8231f0b422558b88b3a30f64c7d30ee,"Ignore rollup config during linting.

It trips over the import statements."
erikrose,2017-11-01 19:43:17,https://api.github.com/repos/mozilla/fathom/git/commits/476d39eb0ee0fc22875286a981870552adf06114,476d39eb0ee0fc22875286a981870552adf06114,Really don't fetch external resources in staticDom().
erikrose,2017-11-01 19:36:56,https://api.github.com/repos/mozilla/fathom/git/commits/92ca45708bd21ce64f626873b647c62c089a9d97,92ca45708bd21ce64f626873b647c62c089a9d97,Clarify some documentation.
erikrose,2017-10-04 15:29:30,https://api.github.com/repos/mozilla/fathom/git/commits/0cd6bb7a4480501dad343c426a6f0f7ca94281e8,0cd6bb7a4480501dad343c426a6f0f7ca94281e8,Move `staticDom()` to a private test module so webpack and other bundlers don't trip over it. Fix #74.
erikrose,2017-09-27 14:55:49,https://api.github.com/repos/mozilla/fathom/git/commits/43b504e567564a441658b70d2485b303a4c36f81,43b504e567564a441658b70d2485b303a4c36f81,Bump version number of sphinx conf.py to 2.2.
erikrose,2017-09-26 19:12:05,https://api.github.com/repos/mozilla/fathom/git/commits/6a46bca7966075a2a66aff2d8333c4b114eefa67,6a46bca7966075a2a66aff2d8333c4b114eefa67,"Remove Makefile from built package.

It isn't very useful, as it is mostly concerned with running tests, which aren't included."
erikrose,2017-09-26 19:08:29,https://api.github.com/repos/mozilla/fathom/git/commits/35043bf6446c1498f1ac2bc31aa63eca17cd7425,35043bf6446c1498f1ac2bc31aa63eca17cd7425,Bump version to 2.2.
erikrose,2017-09-26 19:06:20,https://api.github.com/repos/mozilla/fathom/git/commits/f3bf38b421d866cc4a3ce2c469ef305b0d98fea1,f3bf38b421d866cc4a3ce2c469ef305b0d98fea1,"Exclude even doc source from the built package.

The source wouldn't have been much use, since a lot of it is just references to docs extracted from code. This should bump the package size down by 90K."
erikrose,2017-09-22 18:35:57,https://api.github.com/repos/mozilla/fathom/git/commits/2b4552c1a3879083381dba390db2e7331e4e558e,2b4552c1a3879083381dba390db2e7331e4e558e,Update docs (and dependencies and our use of it--why not?) for jsdom>=10. Fix #73.
erikrose,2017-09-15 01:39:39,https://api.github.com/repos/mozilla/fathom/git/commits/5115f5904fc5a67908203f143000ddacc482a459,5115f5904fc5a67908203f143000ddacc482a459,Add attributesMatch to version history.
erikrose,2017-09-15 01:37:13,https://api.github.com/repos/mozilla/fathom/git/commits/0ecbfc8c4589034719cd9bedada93dc501cc3443,0ecbfc8c4589034719cd9bedada93dc501cc3443,Merge attributesMatch(). Close #72.
erikrose,2017-09-15 01:34:08,https://api.github.com/repos/mozilla/fathom/git/commits/1c6ecbaa14ae8bca33355ea63227546c742bf703,1c6ecbaa14ae8bca33355ea63227546c742bf703,Add a test for the code path when multiple attributes are explicitly passed in.
erikrose,2017-09-15 01:28:13,https://api.github.com/repos/mozilla/fathom/git/commits/9d02f654a034682e295460a6a87da2bb3ab7125e,9d02f654a034682e295460a6a87da2bb3ab7125e,Expand the example to show a motivation for its use in a rule context.
erikrose,2017-09-15 01:24:40,https://api.github.com/repos/mozilla/fathom/git/commits/d62edd9b0562bdb5ae9ece0434b7c1711970934b,d62edd9b0562bdb5ae9ece0434b7c1711970934b,"Switch to having the caller provide an array of attrs to search.

We may want to add further params later, and this makes room for them."
erikrose,2017-09-15 01:21:47,https://api.github.com/repos/mozilla/fathom/git/commits/05a8c494a70961142334cf19d8677cb6e8ec22a5,05a8c494a70961142334cf19d8677cb6e8ec22a5,"Rename searchAttributes to attributesMatch.

This fits with the naming of the rest of our utility functions, most of which are named after their return values rather than their actions. This lets callers read more prose-like, e.g. ""if attributesMatch(...)""."
erikrose,2017-09-15 01:09:13,https://api.github.com/repos/mozilla/fathom/git/commits/79905c910a882828200c19e8e3f58bfe312c69e0,79905c910a882828200c19e8e3f58bfe312c69e0,Inline searchFunc()s for readability.
erikrose,2017-09-15 01:06:10,https://api.github.com/repos/mozilla/fathom/git/commits/17ba013a131d4e4491e9581b5e34fceca2b1601a,17ba013a131d4e4491e9581b5e34fceca2b1601a,"Remove a test that doesn't test searchAttributes.

It really tests that the ruleset execution passes each node to the rule that uses searchAttributes. This is basic ruleset functionality covered elsewhere."
erikrose,2017-09-15 00:59:12,https://api.github.com/repos/mozilla/fathom/git/commits/4be21db639a3cc0723a8d03a9417cdbc847f4701,4be21db639a3cc0723a8d03a9417cdbc847f4701,Make test titles read like sentences when combined with their enclosing describe()s.
erikrose,2017-09-14 19:36:19,https://api.github.com/repos/mozilla/fathom/git/commits/64f5cfa69fad4d970217a6e21f45f547458e0d8e,64f5cfa69fad4d970217a6e21f45f547458e0d8e,Tweak syntax and formatting.
erikrose,2017-09-12 15:36:33,https://api.github.com/repos/mozilla/fathom/git/commits/3a194d6f55644f85dd13910be60fc88d3a98fde3,3a194d6f55644f85dd13910be60fc88d3a98fde3,Add when() to version history. Tweak its doclet.
erikrose,2017-09-11 14:48:54,https://api.github.com/repos/mozilla/fathom/git/commits/702e7c8cc85b8031e639c96175c7de0e57e0dc46,702e7c8cc85b8031e639c96175c7de0e57e0dc46,Merge when(). Close #71.
swathiiyer2,2017-09-06 22:44:43,https://api.github.com/repos/mozilla/fathom/git/commits/308e325ae780f74fde2abf4b1eb9fc1324e1530a,308e325ae780f74fde2abf4b1eb9fc1324e1530a,comment to clarify non-attribute test
swathiiyer2,2017-09-06 22:42:11,https://api.github.com/repos/mozilla/fathom/git/commits/399a7397288833840b60079e1952e87b051d23ea,399a7397288833840b60079e1952e87b051d23ea,make spacing consistent in attributes utils tests
swathiiyer2,2017-09-06 19:04:29,https://api.github.com/repos/mozilla/fathom/git/commits/3839a2c8be8512d8551ad2a8d4f183c99603680f,3839a2c8be8512d8551ad2a8d4f183c99603680f,minor change to function description
swathiiyer2,2017-09-06 18:34:37,https://api.github.com/repos/mozilla/fathom/git/commits/903f293c8dbe1d89559cd56e94a2defe7bb9e342,903f293c8dbe1d89559cd56e94a2defe7bb9e342,add searchAttributes to the docs
swathiiyer2,2017-09-05 23:15:41,https://api.github.com/repos/mozilla/fathom/git/commits/f39f781541d20355e7d80a4abdd1231ecc79d658,f39f781541d20355e7d80a4abdd1231ecc79d658,docs should be working now
swathiiyer2,2017-09-01 19:47:29,https://api.github.com/repos/mozilla/fathom/git/commits/d4db04e415253647fc6baeb7cd7e63790fac9f2d,d4db04e415253647fc6baeb7cd7e63790fac9f2d,"tests for non-attributes, multiple, negative"
swathiiyer2,2017-09-01 17:58:13,https://api.github.com/repos/mozilla/fathom/git/commits/ff01e56652a058bb36efb1efa16f93766fddb225,ff01e56652a058bb36efb1efa16f93766fddb225,more formatting
swathiiyer2,2017-08-31 23:47:42,https://api.github.com/repos/mozilla/fathom/git/commits/c007115741262b7e12e6adf6406814037d4a3ebc,c007115741262b7e12e6adf6406814037d4a3ebc,test class/array attributes
swathiiyer2,2017-08-31 23:43:38,https://api.github.com/repos/mozilla/fathom/git/commits/8598b5a6c296614b4c1634ca73e4eb1e42f71f18,8598b5a6c296614b4c1634ca73e4eb1e42f71f18,fix lint errors in tests
swathiiyer2,2017-08-31 23:40:20,https://api.github.com/repos/mozilla/fathom/git/commits/cb159284cd37f2902a56f3c7342d269693a2f4fe,cb159284cd37f2902a56f3c7342d269693a2f4fe,"tests, and some modifications to attributes function"
swathiiyer2,2017-08-31 23:01:57,https://api.github.com/repos/mozilla/fathom/git/commits/5d44ee3de85989315107919ebd1be708f86fdf33,5d44ee3de85989315107919ebd1be708f86fdf33,fixed lint errors
swathiiyer2,2017-08-31 22:59:13,https://api.github.com/repos/mozilla/fathom/git/commits/0a5689ad6216a2d6a871aef2ca9b7881b09e9d42,0a5689ad6216a2d6a871aef2ca9b7881b09e9d42,"adds default value to attributes, handles case where attribute is an array"
swathiiyer2,2017-08-31 22:09:05,https://api.github.com/repos/mozilla/fathom/git/commits/131235e6de56b4aaadcfb23109eb8167d554e6c6,131235e6de56b4aaadcfb23109eb8167d554e6c6,initial commit
swathiiyer2,2017-08-31 22:04:08,https://api.github.com/repos/mozilla/fathom/git/commits/f9c2a1612dffb4e3c2cf91ae7e1848bc7b417eb3,f9c2a1612dffb4e3c2cf91ae7e1848bc7b417eb3,using filter for fnodesSatisfyingPredicates
swathiiyer2,2017-08-31 21:18:02,https://api.github.com/repos/mozilla/fathom/git/commits/b17541020582616786844a9c8829a1c1bd94cdce,b17541020582616786844a9c8829a1c1bd94cdce,documentation formatting
swathiiyer2,2017-08-31 20:52:47,https://api.github.com/repos/mozilla/fathom/git/commits/afb79d662d0888ceb7d66e4d3f41daf57ce0c967,afb79d662d0888ceb7d66e4d3f41daf57ce0c967,moved predicate setting out of clone
swathiiyer2,2017-08-30 22:40:13,https://api.github.com/repos/mozilla/fathom/git/commits/64e38d637c67297366bdc545925de0ec79e19bd7,64e38d637c67297366bdc545925de0ec79e19bd7,added when() to the docs
swathiiyer2,2017-08-30 22:35:18,https://api.github.com/repos/mozilla/fathom/git/commits/120e011f6d8ddb71204600af3911e7216d8d635a,120e011f6d8ddb71204600af3911e7216d8d635a,fix subclass issue with clone()
swathiiyer2,2017-08-30 20:25:45,https://api.github.com/repos/mozilla/fathom/git/commits/11a8addcaa38a980ddfdd8f8e96056c2a905fe0c,11a8addcaa38a980ddfdd8f8e96056c2a905fe0c,fixed lint errors
swathiiyer2,2017-08-30 20:22:31,https://api.github.com/repos/mozilla/fathom/git/commits/069aa4e69912f84e5ef807494b33529082465b9c,069aa4e69912f84e5ef807494b33529082465b9c,removed it.onlys in tests
swathiiyer2,2017-08-30 20:20:43,https://api.github.com/repos/mozilla/fathom/git/commits/4eec37706963fb63ba42053d02750e9ea98935b0,4eec37706963fb63ba42053d02750e9ea98935b0,changed when() to return new Lhs
swathiiyer2,2017-08-30 20:07:48,https://api.github.com/repos/mozilla/fathom/git/commits/71838a4f2460c99a376cf61b2018bfe667093b48,71838a4f2460c99a376cf61b2018bfe667093b48,changed array.from forEach loop to for loop
swathiiyer2,2017-08-30 19:54:45,https://api.github.com/repos/mozilla/fathom/git/commits/54cbcd6da962141340c8f1dba240784008efd1b6,54cbcd6da962141340c8f1dba240784008efd1b6,fixed tests
swathiiyer2,2017-08-30 17:43:54,https://api.github.com/repos/mozilla/fathom/git/commits/1feb38daa843fb6c4b3711ae8b4d54f35544443c,1feb38daa843fb6c4b3711ae8b4d54f35544443c,changed predicates array to just a value
swathiiyer2,2017-08-24 21:51:16,https://api.github.com/repos/mozilla/fathom/git/commits/c5431ec33e816378d823cff6e5ebdd8dc2c11efa,c5431ec33e816378d823cff6e5ebdd8dc2c11efa,"fixed naming/structure issues on pull req, added tests for when in lhs tests"
swathiiyer2,2017-08-16 21:32:05,https://api.github.com/repos/mozilla/fathom/git/commits/f9cc73dd91f980e59470d053720676c2f84fad7d,f9cc73dd91f980e59470d053720676c2f84fad7d,fixed lint errors
swathiiyer2,2017-08-16 21:08:27,https://api.github.com/repos/mozilla/fathom/git/commits/d878e06407a370198451841b06a730f3a2a66665,d878e06407a370198451841b06a730f3a2a66665,when() implemented for type() now as well; factored out predicate checking into its own function
swathiiyer2,2017-08-15 19:29:23,https://api.github.com/repos/mozilla/fathom/git/commits/2a60d73b3508013c4a7edf13bb1f66a3d659528a,2a60d73b3508013c4a7edf13bb1f66a3d659528a,changed predicate to take in fnodes rather than html objects in DomLHS
swathiiyer2,2017-08-15 18:15:51,https://api.github.com/repos/mozilla/fathom/git/commits/f69b527152b8d2ab10662159690a6d881718ac89,f69b527152b8d2ab10662159690a6d881718ac89,"predicates array, when function, DomLHS check predicates"
erikrose,2017-07-24 14:49:31,https://api.github.com/repos/mozilla/fathom/git/commits/0b8153831d93456762357268b6e573dd66c128d7,0b8153831d93456762357268b6e573dd66c128d7,Bring version history up to date.
pdehaan,2017-07-17 19:55:54,https://api.github.com/repos/mozilla/fathom/git/commits/0fb16f2e03d685976717b1a6d79a551980790343,0fb16f2e03d685976717b1a6d79a551980790343,Add ESLint eqeqeq rule. Close #68.
erikrose,2017-06-28 18:04:50,https://api.github.com/repos/mozilla/fathom/git/commits/36f03e80ce71b1b0e28cc312d67012adab5e7f52,36f03e80ce71b1b0e28cc312d67012adab5e7f52,Add additionalCost to distance().
erikrose,2017-06-20 17:46:48,https://api.github.com/repos/mozilla/fathom/git/commits/a368fe19be7e39364fc8947d5879ec07e71be8f5,a368fe19be7e39364fc8947d5879ec07e71be8f5,Rename a checking routine for consistency with the setter (atMost()) whose value it checks.
erikrose,2017-06-20 15:03:35,https://api.github.com/repos/mozilla/fathom/git/commits/2d2631f87a810d7a9588bc00f42048ab25f6a7aa,2d2631f87a810d7a9588bc00f42048ab25f6a7aa,Also split the rule tests into their own module.
erikrose,2017-06-20 15:00:21,https://api.github.com/repos/mozilla/fathom/git/commits/ecbba8db1d415c24bf0c7974937cff271d123cb5,ecbba8db1d415c24bf0c7974937cff271d123cb5,Correct an error message.
erikrose,2017-06-20 14:59:48,https://api.github.com/repos/mozilla/fathom/git/commits/32b8ad4152507e086b9ec9fb8a480c80f6f6cd1b,32b8ad4152507e086b9ec9fb8a480c80f6f6cd1b,"Split rules into their own module.

Mostly for ease of navigation"
erikrose,2017-06-16 17:36:02,https://api.github.com/repos/mozilla/fathom/git/commits/2e232da73120f9e53a2cf7d70e24021bd4b4bcef,2e232da73120f9e53a2cf7d70e24021bd4b4bcef,Add a test to confirm the order of aggregate rules can't matter.
erikrose,2017-06-16 17:14:26,https://api.github.com/repos/mozilla/fathom/git/commits/ce3a79ac2fd5831f7e524e92adcccbc38463b448,ce3a79ac2fd5831f7e524e92adcccbc38463b448,"Restore error messages when we require an input type that doesn't exist.

And add tests which should have been there."
erikrose,2017-06-15 21:05:16,https://api.github.com/repos/mozilla/fathom/git/commits/1e08f9c54a91f550fe2f2bd1c59e037415665c17,1e08f9c54a91f550fe2f2bd1c59e037415665c17,"Pin all doc-building requirements to fix Travis deploys.

People keep releasing things that break or break other things. This time, it's docutils 0.14rc1, with a nonintegral part in its version number that is making Sphinx grumpy."
erikrose,2017-06-15 20:45:02,https://api.github.com/repos/mozilla/fathom/git/commits/0528ece554dead633190788ef33e5cfb0b81b2b1,0528ece554dead633190788ef33e5cfb0b81b2b1,"Make it obvious how to use it with npm.

I had a question on the IRC channel about this."
erikrose,2017-06-14 21:18:21,https://api.github.com/repos/mozilla/fathom/git/commits/2b5ae422f39994011fc65782bc4cdc7a89b41082,2b5ae422f39994011fc65782bc4cdc7a89b41082,Unify prerequisite computation. Close #64.
erikrose,2017-06-14 20:59:26,https://api.github.com/repos/mozilla/fathom/git/commits/a6886737aa2e19696f9dcfe98d06bbf2e70a6251,a6886737aa2e19696f9dcfe98d06bbf2e70a6251,"Come up with a universal math for determining rule prerequisites from a concept called type finalization, and unify its implementation. Close #58.

Now rules report only which types they finalize, and LHSs report only possible type combinations and which types are mentioned, and the unified Rule.prerequisites() implementation takes care of the rest. This greatly reduces the complexity of compound LHSs like and(), and the new Rule.prerequisites() is much easier to follow as well. It also results in an optimal query plan for `and(type('A')) -> type('A')`.

A future optimization opportunity would be to figure out prereqs at compile time, once.

* Upgrade chai to 4.x, which allegedly makes deepEqual work on Maps and Sets. I'm not so sure.
* Rule.prerequisites() now returns a set. Changed some ruleset tests accordingly.
* inwardRulesThatCouldEmit() and inwardRulesThatCouldAdd() now return empty arrays rather than undefined: one fewer special case."
erikrose,2017-01-25 22:34:22,https://api.github.com/repos/mozilla/fathom/git/commits/7ae550e9fc65ddd25ff18ffbc8ccae0b768b423b,7ae550e9fc65ddd25ff18ffbc8ccae0b768b423b,"Add notes for inferrer generalization.

Next: implement more general dependency inference method, perhaps replacing Rule.typesItCouldEmit and Rule.typesItCouldAdd with methods saying which types are finalized by the rule."
erikrose,2017-05-17 14:35:04,https://api.github.com/repos/mozilla/fathom/git/commits/bea9821833381b8fecdaf1a49321bce73c492c2b,bea9821833381b8fecdaf1a49321bce73c492c2b,Fix some types in docs.
erikrose,2017-05-05 15:01:01,https://api.github.com/repos/mozilla/fathom/git/commits/127ce6c6a547a1d2712dce5cfe09ded71bdd1d63,127ce6c6a547a1d2712dce5cfe09ded71bdd1d63,"Move ruleset docs higher in the TOC.

The Using chapter naturally flows into them for someone getting started. Clustering and optimization are later concerns."
erikrose,2017-05-05 15:00:05,https://api.github.com/repos/mozilla/fathom/git/commits/633190cce9c88944383238111e088cc0fe6c8c1d,633190cce9c88944383238111e088cc0fe6c8c1d,"Update to sphinx-js 2.0.

Remove ambiguity around utils.max() that is now an error."
erikrose,2017-05-01 16:36:53,https://api.github.com/repos/mozilla/fathom/git/commits/0325a858f4674798ac08420391b526ad87de07f2,0325a858f4674798ac08420391b526ad87de07f2,Pin a non-buggy version of Sphinx to dodge deployment error.
erikrose,2017-05-01 16:07:41,https://api.github.com/repos/mozilla/fathom/git/commits/9a032a2360f8f282d7333fed03d8ac51412a5dfe,9a032a2360f8f282d7333fed03d8ac51412a5dfe,Link to the new mailing list.
erikrose,2017-04-28 17:38:36,https://api.github.com/repos/mozilla/fathom/git/commits/e48cde5f0506bd9e6815f5b1326ada8782f8701a,e48cde5f0506bd9e6815f5b1326ada8782f8701a,Link from docs to GitHub and npm.
erikrose,2017-04-26 15:19:39,https://api.github.com/repos/mozilla/fathom/git/commits/9daf39a9961d2dbeb4b484e3f995fe02b677df85,9daf39a9961d2dbeb4b484e3f995fe02b677df85,tunedRuleset() doesn't take an array.
erikrose,2017-04-19 15:49:53,https://api.github.com/repos/mozilla/fathom/git/commits/946feff6a4dc0a1542b87bf36dac37b648714d44,946feff6a4dc0a1542b87bf36dac37b648714d44,"Don't ship tests, examples, or other things useless to end users.

I'd ship the tests, but the Readability stuff is 4MB."
erikrose,2017-04-19 15:48:34,https://api.github.com/repos/mozilla/fathom/git/commits/73b53f25a5ad743f129bc4d3b822593fb8280e7b,73b53f25a5ad743f129bc4d3b822593fb8280e7b,Take people right to where they left off rather than dumping them at a TOC.
erikrose,2017-04-19 15:31:40,https://api.github.com/repos/mozilla/fathom/git/commits/587e894c755fd1f512adcabb3f383f0a6ed84cc2,587e894c755fd1f512adcabb3f383f0a6ed84cc2,"Go back to Markdown for the top-level readme.

I'm not at all confident that npmjs.org will render ReST."
erikrose,2017-04-19 15:20:50,https://api.github.com/repos/mozilla/fathom/git/commits/377b8d512defd406c70961ebfd820541594603ed,377b8d512defd406c70961ebfd820541594603ed,Bump version to 2.1.
erikrose,2017-04-19 15:07:10,https://api.github.com/repos/mozilla/fathom/git/commits/61fba9364f698b8b64e37fca694abdd7dd3e31dc,61fba9364f698b8b64e37fca694abdd7dd3e31dc,Document optimization.
erikrose,2017-04-18 19:53:35,https://api.github.com/repos/mozilla/fathom/git/commits/7f3ea0d1877c2b5ee251481ca2726841a4176f37,7f3ea0d1877c2b5ee251481ca2726841a4176f37,"Don't import jsdom, which is only a dev dependency, at the top level of utils.js."
erikrose,2017-04-18 19:53:10,https://api.github.com/repos/mozilla/fathom/git/commits/43cf70b091c08870e76f44e3ed5e358af72f579d,43cf70b091c08870e76f44e3ed5e358af72f579d,"Bust out clustering docs into their own section.

Note that clustering is generic and can work on non-DOM things.

Stop referring to the ""fathom"" package in require statements. It's called fathom-web."
erikrose,2017-04-17 21:08:16,https://api.github.com/repos/mozilla/fathom/git/commits/27b3c7dea0dd7f6a9dd1665c41599d8b4159b30e,27b3c7dea0dd7f6a9dd1665c41599d8b4159b30e,Fix ReST error.
erikrose,2017-04-17 21:07:16,https://api.github.com/repos/mozilla/fathom/git/commits/83d0d2b9db652d0465c6df9c1c6144be9083dac6,83d0d2b9db652d0465c6df9c1c6144be9083dac6,"DOM subtree support is no longer experimental.

Remove redundant note as well, and improve some flow."
erikrose,2017-04-17 20:57:07,https://api.github.com/repos/mozilla/fathom/git/commits/9f56a3e7073f3d00b5df127d54f46b35b3521231,9f56a3e7073f3d00b5df127d54f46b35b3521231,Add some more Readability TODOs out of my notes.
erikrose,2017-04-17 20:29:24,https://api.github.com/repos/mozilla/fathom/git/commits/b37175a7feca09fcdbe85312b9a31889f20369f1,b37175a7feca09fcdbe85312b9a31889f20369f1,"Make it clear that staticDom() is private.

This is to keep jsdom from becoming anything but a dev dependency. It's too slow and leaky."
erikrose,2017-04-17 19:31:18,https://api.github.com/repos/mozilla/fathom/git/commits/5bbfcce7ce374ce4fd611f524f485237b53e8657,5bbfcce7ce374ce4fd611f524f485237b53e8657,"Update version history.

Also make an old version-history entry not spuriously bold."
erikrose,2017-04-17 16:35:17,https://api.github.com/repos/mozilla/fathom/git/commits/4a4ac745f6500406a0c620e20db4b12a861f3954,4a4ac745f6500406a0c620e20db4b12a861f3954,"Rename topTotalingCluster() to bestCluster().

Then we'll have biggestCluster() and bestAverageCluster() to round out the selection. We'll carry this ""best means score"" convention into the future, because that nudges people toward the way score is most often used.

Update docs with the results of merging the clustering-in-ruleset branch."
erikrose,2017-04-17 15:43:01,https://api.github.com/repos/mozilla/fathom/git/commits/8a3f6f06710b4f5b9c3815de20b5a610dcc077c6,8a3f6f06710b4f5b9c3815de20b5a610dcc077c6,"Land clustering-within-ruleset feature and out().allThrough(). Close #46.

This makes the readability-as-a-ruleset example much more compelling, since you no longer need to surround it with a lot of imperative code."
erikrose,2017-04-17 15:42:19,https://api.github.com/repos/mozilla/fathom/git/commits/e2b188c896db77dd02c6027000ad3b3cf15248be,e2b188c896db77dd02c6027000ad3b3cf15248be,Tersen the readability ruleset and contentFnodes().
erikrose,2017-04-14 20:38:06,https://api.github.com/repos/mozilla/fathom/git/commits/5035dc4bffc0dcfed907d1aa18fef04ccde2f38a,5035dc4bffc0dcfed907d1aa18fef04ccde2f38a,Make linter happy.
erikrose,2017-04-14 20:28:35,https://api.github.com/repos/mozilla/fathom/git/commits/03192c8e003d1ff3fe0f2bfc50713b361574471c,03192c8e003d1ff3fe0f2bfc50713b361574471c,"Allow clusters() (and distance()) to take either Nodes or Fnodes.

This lets us pass arrow functions to in-ruleset clustering calls that, for example, call .scoreFor() on fnodes to take score into account as part of the distance metric. Otherwise, we couldn't define such things inline, as the BoundRuleset wouldn't yet exist whose fnodeForElement() we would need to call.

Lift up logic about how to tell if something is a DOM element into isDomElement()."
erikrose,2017-04-14 19:05:38,https://api.github.com/repos/mozilla/fathom/git/commits/b4c6991d770f739c984de4c0927f0adf41eba0f3,b4c6991d770f739c984de4c0927f0adf41eba0f3,"Add out().allThrough(), which simplifies the domSort() call in the readability ruleset."
erikrose,2017-04-14 18:39:54,https://api.github.com/repos/mozilla/fathom/git/commits/ed19fba898fc396df93d7bc6aab03697780d1abb,ed19fba898fc396df93d7bc6aab03697780d1abb,"Pass the rest of the tests, mostly by changing things to acknowledge that contentNodes now returns fnodes, not nodes."
erikrose,2017-04-12 21:10:47,https://api.github.com/repos/mozilla/fathom/git/commits/11dfa733bbf89b28f0c130d9905567f947f11eab,11dfa733bbf89b28f0c130d9905567f947f11eab,"Move clustering into ruleset, but it's still ugly.

clusters() still operates on raw DOM nodes and returns the same, meaning lots of map lookups.

I considered type(...).cluster(...).topTotaling(), but then you have something invalid if you leave out the last call, and we'd have to code error states and educate users around that.

Change domSort() to take and emit fnodes."
erikrose,2017-04-10 21:07:13,https://api.github.com/repos/mozilla/fathom/git/commits/88b86e55a456a20d640296d35eedf481aefe7bbb,88b86e55a456a20d640296d35eedf481aefe7bbb,"Fall back a little because I cannot defeat the linter.

eslint is grumpy that describe() and it() don't exist, and it also hates my symlinked test module existing in 2 places, since one of them is going to have nonexistent relative paths to other submodules. The fixes would be worse than the disease. If JS weren't such a horrible language, I'd remove the linter."
erikrose,2017-04-10 20:46:55,https://api.github.com/repos/mozilla/fathom/git/commits/e5d3ced116b42434be8ddd74c9db298498dcebe0,e5d3ced116b42434be8ddd74c9db298498dcebe0,"Move Readability tests into the examples folder, with the module they test.

I didn't like them mixed in with the rest of the ""design-driving demos"", since they code they test is in its own module. And I like examples being slightly separated from the project proper. We may not, for instance, want to ship them someday.

The symlink in the `test` folder seems to be the easiest way of getting mocha to run tests from 2 folders. --recursive in a mocha.opts file didn't work. You can pass mocha an exhaustive list of filenames, but I don't want to think about how to get extra mocha args through istanbul."
erikrose,2017-04-07 20:06:27,https://api.github.com/repos/mozilla/fathom/git/commits/dd3e16610e8b8c915c60f978f3610d23e2a2c8e7,dd3e16610e8b8c915c60f978f3610d23e2a2c8e7,"Introduce basic coefficient-optimization machinery, and use it to optimize our Readability-alike example ruleset. Brings difference from Readability proper from about 40% down to 7%. Close #35. Close #13.

* Introduce optimization machinery for setting score coefficients, with a little programming. In particular, we used simulated annealing to tune the coefficients for the Readability-alike algorithm in examples/readability.js.
* Start moving nontrivial design-driving demos into examples folder. Their tests will probably land there eventually, too.
* Close security hole wherein jsdom would happily execute inline scripts. They're sandboxed, but it's possible to break out of the sandbox.
* Make clustering much faster. It saved 26% across our 10 Readability test cases."
erikrose,2017-04-07 18:20:23,https://api.github.com/repos/mozilla/fathom/git/commits/b1eef9b55e0973b9157259ecc49a96154a9331a6,b1eef9b55e0973b9157259ecc49a96154a9331a6,Update some comments.
erikrose,2017-04-07 18:20:11,https://api.github.com/repos/mozilla/fathom/git/commits/717c41804d7c0e2adc75fe31d43b3d4983a8aa74,717c41804d7c0e2adc75fe31d43b3d4983a8aa74,"Remove the ""closely clustered"" test.

It worked before when the coefficients were different, but now we have them tuned for real-world pages. And now that we validate against real-world pages, this test is moot; we already have tests for the clustering stuff itself."
erikrose,2017-04-06 21:30:45,https://api.github.com/repos/mozilla/fathom/git/commits/26b998b444c62d2f81f4378e2d3aec50e598ac11,26b998b444c62d2f81f4378e2d3aec50e598ac11,"Optimize clustersAndDistances into a plain function rather than a generator.

This makes running `node readability.js` 26% faster. Converting *all* the generators doesn't get us consistently better."
erikrose,2017-04-06 20:52:43,https://api.github.com/repos/mozilla/fathom/git/commits/a46c43016ce8bbd4ff967b678a8c21b786ed8eed,a46c43016ce8bbd4ff967b678a8c21b786ed8eed,"Turn off no-unpublished-require lint rule.

It often flags things that are published. The last straw was node's own built-in process module."
erikrose,2017-04-05 20:52:31,https://api.github.com/repos/mozilla/fathom/git/commits/74ec945dc9651ae44e336e8fc1d1a92d3ddeddf9,74ec945dc9651ae44e336e8fc1d1a92d3ddeddf9,"Consider header elements as content candidates.

This improves our readability score from 7.5% to 7.0%.

Readability: 7.0%"
erikrose,2017-04-05 20:40:00,https://api.github.com/repos/mozilla/fathom/git/commits/47a6cffacc9dca360509695c3a7db7afa09bbc64,47a6cffacc9dca360509695c3a7db7afa09bbc64,"Add more test cases from Readability.

Readability: 7.5%"
erikrose,2017-04-05 20:20:02,https://api.github.com/repos/mozilla/fathom/git/commits/ac2145105c9a64f874d330020b3832e21c764c8b,ac2145105c9a64f874d330020b3832e21c764c8b,"Collapse each run of newlines into a single one.

This improves our deviation score from 7.4% to 7.1%. It improves it even more when we add more test cases, which we're about to do: 8.2% to 7.5%.

Readability: 7.1%"
erikrose,2017-03-31 19:54:01,https://api.github.com/repos/mozilla/fathom/git/commits/a28e9f51054f4d8c8128136e231d3bf7dc2d1751,a28e9f51054f4d8c8128136e231d3bf7dc2d1751,Remove unused import.
erikrose,2017-03-31 19:27:46,https://api.github.com/repos/mozilla/fathom/git/commits/b4a37c8573dc3d1b487b4a461551e0774036c14e,b4a37c8573dc3d1b487b4a461551e0774036c14e,"Add one of my hand-rolled examples to the tuning corpus.

It is the only test currently not passing. I tried to get the annealer to come up with a coefficient set that would make it do what I wanted while not wrecking the rest of the corpus, but I have failed so far. I hypothesize that it needs a bigger corpus or more features."
erikrose,2017-03-31 19:25:08,https://api.github.com/repos/mozilla/fathom/git/commits/0b9c40120570e131a6e7fe3c689b945033e598ea,0b9c40120570e131a6e7fe3c689b945033e598ea,Print the actual score at the end of the annealing run.
erikrose,2017-03-28 16:58:21,https://api.github.com/repos/mozilla/fathom/git/commits/61c2caf483d369488918a3161b01ab0aa9ebdafb,61c2caf483d369488918a3161b01ab0aa9ebdafb,"Solve hangs that happened after the annealing runs.

jsdom by default executes inline scripts of the HTML it parses! It executes them asynchronously, which means in practice it happens after our annealing runs complete. They're hanging for some reason. Stop executing them; we never meant to anyway. Factor up the no-scripts version of jsdom() as staticDom().

I wouldn't be surprised if this was the source of my memory leak, too: async scripts hanging onto their otherwise-disposed-of DOMs."
erikrose,2017-03-28 14:20:25,https://api.github.com/repos/mozilla/fathom/git/commits/79479060417ebebbe62ffdb5301098d97080ec20,79479060417ebebbe62ffdb5301098d97080ec20,"Solve memory leak while annealing.

Took heap dumps 3 annealing iterations apart. The 400MB diff was full of jsdom trees: look at all the (concatenated string)s and (string)s and the class names of the other stuff. I'm not sure why the jsdoms aren't getting released between iterations. But sure enough, when I read in all the Readability test docs at once at the start of the program and just keep them around, the heap dump levels out at 23MB, rather than hitting 400MB in no time.

Ref cycles shouldn't be a problem for mark-and-sweep GC like V8 uses.

I also tried removing all uses of generators. That dropped the RAM ceiling and made RAM use basically constant, but, even with generators, the heap GCs down periodically to about the non-generator level."
erikrose,2017-03-24 18:40:32,https://api.github.com/repos/mozilla/fathom/git/commits/1a80d5abb422dfebc3a874ccf21aaed49c9e532f,1a80d5abb422dfebc3a874ccf21aaed49c9e532f,"Clean up Readability test and optimization harnesses so I can stand to work on this stuff.

* Replace continuous Powell method with step-function-savvy simulated annealing.
* Move Readability ruleset into an examples folder.
* Move coefficient-tuning harness into the readability module, where it runs when you execute the module from the commandline.
* Encapsulate the score-accumulation thing in a class, and reuse it between the test and tuning harnesses."
erikrose,2017-03-22 21:16:40,https://api.github.com/repos/mozilla/fathom/git/commits/5f237afff5d2daec2729655a28a4365119954df1,5f237afff5d2daec2729655a28a4365119954df1,"Let simulated annealing have a crack at it. Huge success!

Readability: 7.7%

This is down from 30-some% found by the integral brute-force method. And it took only tens of seconds, where brute force took an hour."
erikrose,2017-03-17 19:18:32,https://api.github.com/repos/mozilla/fathom/git/commits/29d860f959d3e5d9ce88ee84ab450a555b805e68,29d860f959d3e5d9ce88ee84ab450a555b805e68,"Skip the expensive stride node computation if its coefficient is 0.

Also tweak the brute-forcer to see if the first coefficient matters. It doesn't as long as it's >0."
erikrose,2017-03-17 20:09:26,https://api.github.com/repos/mozilla/fathom/git/commits/2808e54dbcb64da4158fee7c705eac71d4a5a292,2808e54dbcb64da4158fee7c705eac71d4a5a292,"Use the terser form of documentation that sphinx-js 1.5 allows.

Also document NiceSet's methods, which I had neglected to do."
erikrose,2017-03-13 20:14:21,https://api.github.com/repos/mozilla/fathom/git/commits/de040614ef4c3d502a07bed1dae2e46e1b39762c,de040614ef4c3d502a07bed1dae2e46e1b39762c,"Try a brute-force integral optimization instead over the domain [0,3].

I can run that in 15 minutes (by splitting it over 4 CPUs), and it gets us in the neighborhood.

Shortcomings:
* [0,3] just aren't big enough to make the link density coefficient do much, but >0 does (equally) better than 0 in all cases.
* I suspect that it's the ratio of coefficients that matters, not the absolute numbers. But if I'm wrong, the domain could be insufficient."
erikrose,2017-03-13 19:21:01,https://api.github.com/repos/mozilla/fathom/git/commits/12615776aec969cb6fb51eb46298d02365c42e09,12615776aec969cb6fb51eb46298d02365c42e09,"Powell's minimization.

It gets stuck in local minima, which we can prove by setting the initial vector to all 0s and observing that it never hits 40%, which it did happen to reach with a different initial vector. We need a more aggressive method that works better on stepwise functions. The small perturbations this uses get it nowhere, so it doesn't try larger jumps. Maybe something like simulated annealing or Bayesian optimization? Continuous methods like hill-climbing or gradient descent will not avail us."
erikrose,2017-03-13 16:05:12,https://api.github.com/repos/mozilla/fathom/git/commits/1de0109627066b0e184efd1d466c664758a82a8e,1de0109627066b0e184efd1d466c664758a82a8e,WIP. Commit a few nice things before bastardizing this into an optimization harness.
jezell,2017-03-13 14:17:47,https://api.github.com/repos/mozilla/fathom/git/commits/481003c1491c2f3227c4be294fb11e1695c6d75f,481003c1491c2f3227c4be294fb11e1695c6d75f,"Add .babelrc file so fathom can be used as a dep in webpack / babel projects (#60)

My builds were failing due to missing .babelrc when trying to require fathom."
erikrose,2017-03-10 21:03:46,https://api.github.com/repos/mozilla/fathom/git/commits/1634b977fdab852177670b0366eb96ea962c3c30,1634b977fdab852177670b0366eb96ea962c3c30,"Switch to the leven library, which is insanely faster.

It takes 0s to diff the bbc-1 test from Readability, where `diff` took longer than I could wait: at least 3 minutes.

Readability: 72.0%"
erikrose,2017-03-10 16:43:16,https://api.github.com/repos/mozilla/fathom/git/commits/e634aabed19789e4daf173ec5e5af0a4ae205c4a,e634aabed19789e4daf173ec5e5af0a4ae205c4a,"Measure against the first Readability test.

Replace our stub test-test with an actual test function that reads docs out of files. Nest the comparison machinery inside the Readability describe() block where it's used. Factor up what's soon to be repetition. We may even define the tests with a loop later.

Readability: 72.1%"
erikrose,2017-03-09 20:57:39,https://api.github.com/repos/mozilla/fathom/git/commits/766f7b01e235ac36545f1a6eb9f9b6452e867213,766f7b01e235ac36545f1a6eb9f9b6452e867213,Make linting pass.
erikrose,2017-03-09 18:08:17,https://api.github.com/repos/mozilla/fathom/git/commits/51faa06a0543e1699cc234e42cdd4e21048076b9,51faa06a0543e1699cc234e42cdd4e21048076b9,"Ready test harness for non-pass-or-fail Readability tests.

* Add test machinery to gather a total score across all Readability tests that aren't merely pass-or-fail and report it.
* Add a Levenshtein-ish distance measurement between DOM tree text that we can use to score ourselves against known-good Readability-ish output.
* Pull snippetizing out of the big Readability wrapper function, and demote it to a test helper, because we'll eventually want the actual DOM nodes."
erikrose,2017-03-09 15:50:32,https://api.github.com/repos/mozilla/fathom/git/commits/80cd9c6ffd8d68e1e1f960c273dcf5bf7d7e88d5,80cd9c6ffd8d68e1e1f960c273dcf5bf7d7e88d5,Doc tweaks
erikrose,2017-03-07 16:04:51,https://api.github.com/repos/mozilla/fathom/git/commits/3f989ac850764e9abacb321038da09b871a2f27e,3f989ac850764e9abacb321038da09b871a2f27e,Bring version history up to date.
erikrose,2017-03-06 20:58:10,https://api.github.com/repos/mozilla/fathom/git/commits/a20d5a0c242a38f25c1cd913d662016fcd07d24a,a20d5a0c242a38f25c1cd913d662016fcd07d24a,"Standardize on JSDoc-style comments for anything like anything that's already JSDoc'd (functions, methods, etc.).

We don't give everything the full JSDoc treatment, but now things aren't offensively inconsistent as you're scrolling through them.

Also switch to single blank lines between top-level constructs, to balance out the vertically verbose JSDoc-style comments. Bonus: this conforms to the Google JS style guide."
erikrose,2017-03-06 17:35:47,https://api.github.com/repos/mozilla/fathom/git/commits/664f2b6d75308eb4dc178571ffdf0904768863e3,664f2b6d75308eb4dc178571ffdf0904768863e3,"Let costs be passed into distance() and clusters() so we can tune them per ruleset.

Upgrade to sphinx-js 1.3.1 to deal with our wrapped @arg descriptions."
erikrose,2017-03-03 19:55:31,https://api.github.com/repos/mozilla/fathom/git/commits/b9465b7c1993d33260c9c23facfcf880ac957cc3,b9465b7c1993d33260c9c23facfcf880ac957cc3,Add tests to show the clustering works sanely when paragraphish things contain other paragraphish things.
erikrose,2017-03-02 22:12:20,https://api.github.com/repos/mozilla/fathom/git/commits/267517b11a92fe789021d54f4e4785e2dbbed23f,267517b11a92fe789021d54f4e4785e2dbbed23f,"Revise distance() to not crash if A is within B and to return MAX_VALUE if there is any container relationship.

This should make Readability's clustering work out nicely, since we're interested only in the outer nodes. Pushing the inner ones off to the edge of the world removes them from being considered when we go to paste the largest cluster back together."
erikrose,2017-03-02 17:36:35,https://api.github.com/repos/mozilla/fathom/git/commits/d7bfed6166402d3444543406f56b098ce34c5947,d7bfed6166402d3444543406f56b098ce34c5947,"Refactor single Readability test to become many, each against a different input.

Remove hard-coded type from linkDensity()."
erikrose,2017-03-02 14:20:24,https://api.github.com/repos/mozilla/fathom/git/commits/bdc42a57ce02b5919edd3989e391e4efe91a264d,bdc42a57ce02b5919edd3989e391e4efe91a264d,"Get first draft of a Readability workalike going.

Add other things I wanted in the course of it: clustering docs, domSort(), and repairs to linkDensity()."
erikrose,2017-03-01 19:33:21,https://api.github.com/repos/mozilla/fathom/git/commits/16ec9187406eb7baad36aebe420da4f9e0476c9e,16ec9187406eb7baad36aebe420da4f9e0476c9e,Add docs on building docs.
erikrose,2017-03-01 19:32:39,https://api.github.com/repos/mozilla/fathom/git/commits/244e03e2c884dc974e344ec11c450671b7c9c7ef,244e03e2c884dc974e344ec11c450671b7c9c7ef,Get GUI debugging working again.
erikrose,2017-02-21 21:19:24,https://api.github.com/repos/mozilla/fathom/git/commits/6bce1e717bdf21c1ee628626f9f9106ff02d66a1,6bce1e717bdf21c1ee628626f9f9106ff02d66a1,Use sphinx-js's autoattribute directive.
erikrose,2017-02-21 20:32:05,https://api.github.com/repos/mozilla/fathom/git/commits/a97d25356c3be3c89a261aab711464d5f885bcce,a97d25356c3be3c89a261aab711464d5f885bcce,"Document fnodes.

Also recognize that fnodes, not raw titles, come out of that example ruleset."
erikrose,2017-02-16 22:44:02,https://api.github.com/repos/mozilla/fathom/git/commits/b68f675e497e1275df4161ccc5800d8202b8af89,b68f675e497e1275df4161ccc5800d8202b8af89,"Document ruleset() convenience function, and fix places where JSDoc doesn't pick up ""..."" in arg lists."
erikrose,2017-02-15 18:11:35,https://api.github.com/repos/mozilla/fathom/git/commits/f5218471e503cc8f8777614e766119c11d0aaac8,f5218471e503cc8f8777614e766119c11d0aaac8,"Search page wasn't drawing, so don't link to it.

We have search in the sidebar anyway, at least on wide viewports."
erikrose,2017-02-15 17:23:02,https://api.github.com/repos/mozilla/fathom/git/commits/65fa6099b184f787db59bdbac0f2e354929bf690,65fa6099b184f787db59bdbac0f2e354929bf690,Document the rest of the utility functions.
erikrose,2017-02-15 16:03:06,https://api.github.com/repos/mozilla/fathom/git/commits/68f05c70f02156737cbd379ce93e2b2be824a1a2,68f05c70f02156737cbd379ce93e2b2be824a1a2,Remove last uses of `var` in docs.
erikrose,2017-02-15 16:02:49,https://api.github.com/repos/mozilla/fathom/git/commits/88d7c3365f0bc14f179c3148cf878b0cad0cc178,88d7c3365f0bc14f179c3148cf878b0cad0cc178,Don't make all the code literals distractingly red and bold.
erikrose,2017-02-15 00:47:37,https://api.github.com/repos/mozilla/fathom/git/commits/78bffdacd96819e4e01ae33743dd7921208b229f,78bffdacd96819e4e01ae33743dd7921208b229f,"Make some minor doc tweaks.

* Reorder LHSs in order of chronology and frequency of use.
* Remove an old reference to `func`.
* Nest `through` under `out` as `max` is nested under `type`."
erikrose,2017-02-14 22:14:45,https://api.github.com/repos/mozilla/fathom/git/commits/c045634b9e908f323ff11a407bd460bd4df4e45f,c045634b9e908f323ff11a407bd460bd4df4e45f,Document rulesets and the rule constructor.
erikrose,2017-02-13 20:30:10,https://api.github.com/repos/mozilla/fathom/git/commits/0855043780c18fee61930d848877da31587aea08,0855043780c18fee61930d848877da31587aea08,I could swear I tried this syntax locally first.
erikrose,2017-02-13 20:26:44,https://api.github.com/repos/mozilla/fathom/git/commits/095c2cd96ebf51f057a38c5aec37b38c8f8dffa6,095c2cd96ebf51f057a38c5aec37b38c8f8dffa6,Use `:short-name:` option and add lots of cross-refs that this allows.
erikrose,2017-02-13 16:06:57,https://api.github.com/repos/mozilla/fathom/git/commits/777da82e4b51b267eaf51a92b84f8f676144eded,777da82e4b51b267eaf51a92b84f8f676144eded,More miscellaneous doc tweaks
erikrose,2017-02-13 16:06:38,https://api.github.com/repos/mozilla/fathom/git/commits/95b4a4db2276775f43250ba3a683d23d82a8ac7c,95b4a4db2276775f43250ba3a683d23d82a8ac7c,Add glossary and term links from intro.
erikrose,2017-02-10 21:52:31,https://api.github.com/repos/mozilla/fathom/git/commits/68002d9d9cc846d7a364f6a609dc7a0331022fc3,68002d9d9cc846d7a364f6a609dc7a0331022fc3,Flesh out the distance() docs a tad.
erikrose,2017-02-10 21:52:19,https://api.github.com/repos/mozilla/fathom/git/commits/699ebd52d1f613c06ec9fc43828071d4d2eb7518,699ebd52d1f613c06ec9fc43828071d4d2eb7518,"Make MoFo the author, which Gerv's blog says is the right thing.

It's the top-level org, so it makes intuitive sense."
erikrose,2017-02-10 21:51:36,https://api.github.com/repos/mozilla/fathom/git/commits/51874a449b6602acbb1e051937e3a46646df4581,51874a449b6602acbb1e051937e3a46646df4581,"Switch to the ReadTheDocs Sphinx theme.

It has Next and Previous buttons (which invite people further into the docs) and handles sidebar TOCs better, listing all major sections on the front page and not just Contents and Back Matter."
erikrose,2017-02-10 21:30:37,https://api.github.com/repos/mozilla/fathom/git/commits/69dcc4547923cd28dae4cda2d514c49993f77843,69dcc4547923cd28dae4cda2d514c49993f77843,"Improve clustering docs, bringing in docs from source code."
erikrose,2017-02-10 20:53:49,https://api.github.com/repos/mozilla/fathom/git/commits/8db90c85663e0c5b53ed77689e2fd602330c24fa,8db90c85663e0c5b53ed77689e2fd602330c24fa,Fix remainder of Travis doc-building issues.
erikrose,2017-02-10 20:51:46,https://api.github.com/repos/mozilla/fathom/git/commits/69ef37b66e1146a85546820efd9bd1ed04086c9f,69ef37b66e1146a85546820efd9bd1ed04086c9f,"Remove debugging cat, and respell it as a deploy script."
erikrose,2017-02-10 20:41:44,https://api.github.com/repos/mozilla/fathom/git/commits/1f54b949441215990a550f7f1264dc5bce771f00,1f54b949441215990a550f7f1264dc5bce771f00,Put .nojekyll in right place.
erikrose,2017-02-10 20:31:47,https://api.github.com/repos/mozilla/fathom/git/commits/020de5a96fb2bb7dd4f0650bcf3ec63d904b06c8,020de5a96fb2bb7dd4f0650bcf3ec63d904b06c8,Give git addresses.
erikrose,2017-02-10 20:24:11,https://api.github.com/repos/mozilla/fathom/git/commits/34e0074e6a61449ab0d3ac62c08b20207c272cb0,34e0074e6a61449ab0d3ac62c08b20207c272cb0,Help it find jsdoc.
erikrose,2017-02-10 20:18:22,https://api.github.com/repos/mozilla/fathom/git/commits/50d5e4632486c0535c375a3c04c75ea3617b2074,50d5e4632486c0535c375a3c04c75ea3617b2074,"See what's going on in the log, I hope."
erikrose,2017-02-10 19:49:18,https://api.github.com/repos/mozilla/fathom/git/commits/f672d158d0a31ff2cc3b996b38c866eee13aa5da,f672d158d0a31ff2cc3b996b38c866eee13aa5da,"Alright, the `source` call doesn't work for some reason, so we'll do it the manual way...."
erikrose,2017-02-10 19:42:22,https://api.github.com/repos/mozilla/fathom/git/commits/d02cac70905aee8c2428d6b8e1b6fb0b43043d9c,d02cac70905aee8c2428d6b8e1b6fb0b43043d9c,Install virtualenv so the deploy script can call it.
erikrose,2017-02-10 19:35:37,https://api.github.com/repos/mozilla/fathom/git/commits/373fc7dbfbfc0598fc209f863dd2ead9186b38fa,373fc7dbfbfc0598fc209f863dd2ead9186b38fa,"Install Sphinx into a virtualenv, since the global Python env is not writeable."
erikrose,2017-02-10 19:20:42,https://api.github.com/repos/mozilla/fathom/git/commits/bc4ee30adb69b6b178d70501d324e4352a8297f0,bc4ee30adb69b6b178d70501d324e4352a8297f0,"Attempt to get docs auto-publishing.

We'll see if everything we need is in the Travis build environment."
erikrose,2017-02-09 22:32:54,https://api.github.com/repos/mozilla/fathom/git/commits/601e92f433739605bc2d0c6f5e0fd4d4e723a276,601e92f433739605bc2d0c6f5e0fd4d4e723a276,Move an expository paragraph so JSDoc doesn't consider it part of the param description.
erikrose,2017-02-09 18:41:00,https://api.github.com/repos/mozilla/fathom/git/commits/1dbc2c0f38e3f53da21110c911a80be618d7e28e,1dbc2c0f38e3f53da21110c911a80be618d7e28e,"Move intro material to its own page so the page outline doesn't de-emphasize the meat of the docs.

Also remove the modindex, which was 404ing."
erikrose,2017-02-09 18:17:25,https://api.github.com/repos/mozilla/fathom/git/commits/fa67d548a047d1de3426960cac703ad112436ff7,fa67d548a047d1de3426960cac703ad112436ff7,"Change the docs link to point to GitHub Pages.

ReadTheDocs has no way of building my docs, since it won't run JSDoc."
erikrose,2017-02-07 17:58:22,https://api.github.com/repos/mozilla/fathom/git/commits/da5c49cae478803e4bf32b0dee5e777f5e4bf1b2,da5c49cae478803e4bf32b0dee5e777f5e4bf1b2,Add a first draft of Sphinx documentation.
erikrose,2017-01-27 19:38:28,https://api.github.com/repos/mozilla/fathom/git/commits/b6bd374d0ef3d883156524a7aeca45ee277b800b,b6bd374d0ef3d883156524a7aeca45ee277b800b,Add some more benefits to the 2.0 release notes.
erikrose,2017-01-27 17:58:25,https://api.github.com/repos/mozilla/fathom/git/commits/f6d208cf011808d4ec1fab1c7a5e78d4f42666e7,f6d208cf011808d4ec1fab1c7a5e78d4f42666e7,Merge docs and tests about operating on DOM subtrees. Close #53.
erikrose,2017-01-27 17:48:43,https://api.github.com/repos/mozilla/fathom/git/commits/62559043af2772a8ebe3861089a61df33e138e37,62559043af2772a8ebe3861089a61df33e138e37,Add some introductory text about LHSs to mirror what we did with RHSs.
erikrose,2017-01-27 16:06:07,https://api.github.com/repos/mozilla/fathom/git/commits/ea05efaae526270ad397170349982e631ffaccca,ea05efaae526270ad397170349982e631ffaccca,Add omitted type() docs for LHS.
erikrose,2017-01-26 21:59:07,https://api.github.com/repos/mozilla/fathom/git/commits/1c23090f03b2464ef3354184c94b65fe22c7d4d5,1c23090f03b2464ef3354184c94b65fe22c7d4d5,Bump version to 2.0.0.
erikrose,2017-01-26 21:43:14,https://api.github.com/repos/mozilla/fathom/git/commits/3380852fbbe28f807f8972eb22939b9252898669,3380852fbbe28f807f8972eb22939b9252898669,Turn the 2.x version history into a poor man's porting guide.
erikrose,2017-01-26 21:02:10,https://api.github.com/repos/mozilla/fathom/git/commits/9a54fd638d140901443f60fe6e53187b44fd0b8b,9a54fd638d140901443f60fe6e53187b44fd0b8b,"Rename func() to props().

The fact that it's a function is not unique: notes() and score() take functions as well. props() is more descriptive than func(): it suggests the return value, which is what other callback-taking calls also are named after.

Considered names:

* func()  # abbreviation :-( but a well known one
* facts()  # inaccurate: returns a single fact
* fact()  # doesn't necessarily return a whole fact; can layer with rightward calls
* all()  # want to reserve this for quantifiers
* everything()  # Makes it clear that it overrides any previous calls, no matter their kind. Might suggest a reach outside this rule
* hash()  # not a very JS term
* custom()  # is it more custom than a note() or score() callback?
* obj()  # too generic, abbrev
* properties()  # long
* props()  # abbrevation :-( but a well-known one. I like that it focuses your attention on the individual properties returned and on the per-subfact layering with other chained calls.
* subfacts()  # accurate, but so far we haven't made the user know about facts, and I don't want to start now"
erikrose,2017-01-26 20:23:53,https://api.github.com/repos/mozilla/fathom/git/commits/21a8fe908233c36d6ab10e083cd306036c0f650d,21a8fe908233c36d6ab10e083cd306036c0f650d,"Move unorganized ""future"" comments in index.js into tickets or more suitable places."
erikrose,2017-01-26 16:48:22,https://api.github.com/repos/mozilla/fathom/git/commits/ee5136fbae2079d90b5c6b9633a3c6012e2901a6,ee5136fbae2079d90b5c6b9633a3c6012e2901a6,"Remove ""use strict"". It's automatically on for ES6 modules.

http://www.ecma-international.org/ecma-262/6.0/#sec-strict-mode-code"
erikrose,2017-01-25 22:40:43,https://api.github.com/repos/mozilla/fathom/git/commits/05d1d290bf589a7d7ce7a8bc54ca251589e8531f,05d1d290bf589a7d7ce7a8bc54ca251589e8531f,"Merge 2.0 branch.

This is now better in every way than Fathom 1.0, so, in compliance with the policy that master is always Getting Better, kapow!"
erikrose,2017-01-25 22:36:50,https://api.github.com/repos/mozilla/fathom/git/commits/b62d67ca792f6b5e4d4bbfecc27028a95442dfc1,b62d67ca792f6b5e4d4bbfecc27028a95442dfc1,Tweak a few more comments.
erikrose,2017-01-25 22:26:18,https://api.github.com/repos/mozilla/fathom/git/commits/8ba7415fba8318e49391548b2ec2e6f8e6a697a4,8ba7415fba8318e49391548b2ec2e6f8e6a697a4,"Mark `and()` as experimental for 2.0.

We'll implement the prereq-finding method I came up with for and() later. It turns out to be a general method applicable to simple rules as well, so there will be significant restructuring to take advantage of using only One Way To Do It."
erikrose,2017-01-25 21:29:08,https://api.github.com/repos/mozilla/fathom/git/commits/5287690890a1ea9874af40feef0e700b7b799c89,5287690890a1ea9874af40feef0e700b7b799c89,Improve some comments and an exception message.
erikrose,2017-01-20 19:01:57,https://api.github.com/repos/mozilla/fathom/git/commits/3817a398ff8c3eacf7eca1b80b55faa243852812,3817a398ff8c3eacf7eca1b80b55faa243852812,"Bullet-point some other features that didn't fit into the above ""challenges met"" section."
erikrose,2017-01-20 18:44:58,https://api.github.com/repos/mozilla/fathom/git/commits/84150fa56fb139a674ddcd849c16c4ca04081cc7,84150fa56fb139a674ddcd849c16c4ca04081cc7,Make use of score() callback in the readme for conciseness.
erikrose,2017-01-20 18:34:20,https://api.github.com/repos/mozilla/fathom/git/commits/8241a8698ef7d015d7f7e2b24237a78d45f2af7e,8241a8698ef7d015d7f7e2b24237a78d45f2af7e,"Allow score() to take a callback, which makes a common case (demonstrated in the changed test) much shorter."
erikrose,2017-01-19 22:29:57,https://api.github.com/repos/mozilla/fathom/git/commits/52d1de68edc21edd10fcc41b88ac4ef494aa8aa3,52d1de68edc21edd10fcc41b88ac4ef494aa8aa3,"Confirm that passing in arbitrary LHSs to get() work in the new toposort-based executor.

The A->A rules trigger because the autocreated rule is always either A.max->* or A->*, both of which call in anything emitting A as a prereq.

Change the thing.asLhs condition just for consistency with the previous condition. It doesn't really matter, but I wasted time wondering why they were different."
erikrose,2017-01-18 22:14:17,https://api.github.com/repos/mozilla/fathom/git/commits/1f8f2ae20b9144a611820967e1b82a0c4df0dbbb,1f8f2ae20b9144a611820967e1b82a0c4df0dbbb,"Now you can ask any fnode for a score, note, or type, and you'll get the truth, even if it didn't happen to be computed yet.

This removes the user's need to care about Fathom's laziness, as far as I can recall right now.

As a bonus, this allows us to avoid eager-computing the entire ruleset when a ruleset is asked about a specific DOM node: now it can just happily return fnodes which compute on demand.

Factor out the non-eager bits into dedicated ""soFar"" routines on Fnode so tests that test our laziness could still call them and so, in one place, the executor wouldn't get into an infinite recursion.

Remove the TODO about enumerating the types on a fnode. We won't provide a way to enumerate themat least not without a compelling demonstration that it's usefulas that would require running an entire ruleset to exhaustion. Making callers ask about types individually using hasType() lets us remain lazy. Making hasType() eager-compute the asked-about type makes this pattern usable for situations where you're interested in whether the page as a whole is classified as various types."
erikrose,2017-01-18 16:31:13,https://api.github.com/repos/mozilla/fathom/git/commits/b66fcaf829e72a8fd56b7576bb34f1d95d41b8f0,b66fcaf829e72a8fd56b7576bb34f1d95d41b8f0,Exclude TypeMaxLhss from and() eligibility for now.
erikrose,2017-01-17 21:44:40,https://api.github.com/repos/mozilla/fathom/git/commits/4eb32edbe49f5e4901982604133a9628ae55736b,4eb32edbe49f5e4901982604133a9628ae55736b,"Flesh out readme for 2.0 release.

Couldn't find a documentation extractor worth a darn, so I copied and pasted for now."
erikrose,2017-01-09 21:12:48,https://api.github.com/repos/mozilla/fathom/git/commits/08a6882f13e5e68c1a9adc0d905fe541474bc11f,08a6882f13e5e68c1a9adc0d905fe541474bc11f,"Add Ruleset.rules() as a good-enough-for-the-moment way of extending rulesets.

Eventually I'd like to add namespacing so rulesets can be composed without all types ending up in one giant namespace prone to collisions."
erikrose,2017-01-09 17:26:25,https://api.github.com/repos/mozilla/fathom/git/commits/aa6cb0b9d4ef15f554a1c781cdf439658b1a074f,aa6cb0b9d4ef15f554a1c781cdf439658b1a074f,"Change scoreUpTo() to atMost().

This is the result of a lot of mental wrestling and discussion with potential users. Basically, I wanted to be more concise without being misleadingly inconsistent. Having max(4) meaning one thing (""top 4"") on the LHS and another (""at most, the score 4"") on the RHS was unacceptable. I'd actually prefer ""top"" for the LHS, but ""max"" is already in place in code and minds, and it's 90% as good. Other contenders for ""atMost"" were most() (whose inverse, least(), on the LHS would falsely suggest ""the lowest ones"") and under() (which is technically incorrect and so leads to having to read it and then readjust your thought each time). The LHS threshold operator will thus be atLeast()."
erikrose,2017-01-05 17:37:07,https://api.github.com/repos/mozilla/fathom/git/commits/86e104eca29f1d7bb346d09030400916e04ac812,86e104eca29f1d7bb346d09030400916e04ac812,Various doc fixes
erikrose,2017-01-05 17:36:45,https://api.github.com/repos/mozilla/fathom/git/commits/8a5a4d2a1475548fc2ed06fe50c6429234722f53,8a5a4d2a1475548fc2ed06fe50c6429234722f53,"Replace a .content with a more to-spec .getAttribute('content').

.content was just happening to work in jsdom."
erikrose,2017-01-05 17:35:00,https://api.github.com/repos/mozilla/fathom/git/commits/1da9ac86948d0fcbba25ee815c7c330b21627f0d,1da9ac86948d0fcbba25ee815c7c330b21627f0d,Make the linter happy again under eslint 3.12.
erikrose,2017-01-05 17:00:01,https://api.github.com/repos/mozilla/fathom/git/commits/896a71a9c4716bdd8abfb6276b4565be2e693f0e,896a71a9c4716bdd8abfb6276b4565be2e693f0e,"Add a basic and() operator.

For now, it takes only type() LHSs, and it won't do the right thing if you use it in the form and(type(A)) -> type(A). But it's useful."
erikrose,2017-01-05 16:43:20,https://api.github.com/repos/mozilla/fathom/git/commits/724a611257d2e02608d4d9fc5201f15acbef03e8,724a611257d2e02608d4d9fc5201f15acbef03e8,Various updates to readme
erikrose,2016-12-21 02:28:19,https://api.github.com/repos/mozilla/fathom/git/commits/754ef9120021e0b4f100c6f337eb3d3567714f3c,754ef9120021e0b4f100c6f337eb3d3567714f3c,Bring comments in Readability demo up to date so someone else can pick up where I left off.
erikrose,2016-12-09 20:24:53,https://api.github.com/repos/mozilla/fathom/git/commits/30aaaf81e0bb555fff6b245b704226aa4741664f,30aaaf81e0bb555fff6b245b704226aa4741664f,Merge in topological-sort-based executor and other goodies.
erikrose,2016-12-05 21:33:59,https://api.github.com/repos/mozilla/fathom/git/commits/1c945cf02187ba9c9380d297eb652c2d2fa4df34,1c945cf02187ba9c9380d297eb652c2d2fa4df34,Use deepEqual in a clusters test instead of inventing my own thing.
erikrose,2016-12-05 20:04:09,https://api.github.com/repos/mozilla/fathom/git/commits/8e42fdd581471bbaf9bb37ac423d3a0093d94d17,8e42fdd581471bbaf9bb37ac423d3a0093d94d17,Make logged-in demo a bit easier to read.
erikrose,2016-12-01 16:56:42,https://api.github.com/repos/mozilla/fathom/git/commits/c0a73c0bf5bb02b903ad0ae617c32f11d2a68f21,c0a73c0bf5bb02b903ad0ae617c32f11d2a68f21,"Factor up whole-page-classification thing to make a page() wrapper function, further tersening the demo."
erikrose,2016-12-01 16:56:07,https://api.github.com/repos/mozilla/fathom/git/commits/1b377ce63116513b7c61d346df649babe1dc3fc5,1b377ce63116513b7c61d346df649babe1dc3fc5,"Correct node => element naming convention in rootElement().

When we say ""node"", we mean ""fnode""."
erikrose,2016-12-01 16:41:09,https://api.github.com/repos/mozilla/fathom/git/commits/085d2b94a277dd6b82ce9833a077ec2e3b0f8b3a,085d2b94a277dd6b82ce9833a077ec2e3b0f8b3a,Tersen to increase signal-to-noise ratio of demo code.
erikrose,2016-12-01 16:40:23,https://api.github.com/repos/mozilla/fathom/git/commits/1d32b942d4c374e9a248deb58705c21818016e13,1d32b942d4c374e9a248deb58705c21818016e13,"Teach logged-in classifier to look at hrefs.

Use intermediate logoutClass and logoutHref types so we can demo adding new rules that twiddle their relative scores."
erikrose,2016-11-30 21:17:20,https://api.github.com/repos/mozilla/fathom/git/commits/bfc7cc5b7db48a5cb2f0f1dee5b40ee3cae2e031,bfc7cc5b7db48a5cb2f0f1dee5b40ee3cae2e031,"Don't tag the fnodes as type ""in"" if no interesting classes are found."
erikrose,2016-11-30 20:36:25,https://api.github.com/repos/mozilla/fathom/git/commits/ce23197511f7aaa9bcb24d064ecc1b72681a12af,ce23197511f7aaa9bcb24d064ecc1b72681a12af,"If we're not going to do proper tokenization, we might as well just use regexes all the way and save some code."
erikrose,2016-11-30 20:24:22,https://api.github.com/repos/mozilla/fathom/git/commits/8118dbd0700d0ab78605a2e6e0c8aa8270d26d24,8118dbd0700d0ab78605a2e6e0c8aa8270d26d24,"Add first phase of the logged-in-page demo.

Fix maxes(), which was causing .get()s of unencountered types to crash rather than returning an empty array."
erikrose,2016-11-22 17:33:37,https://api.github.com/repos/mozilla/fathom/git/commits/8c76db567eada2f6a58fa7a54b2d2e74d7ed7bea,8c76db567eada2f6a58fa7a54b2d2e74d7ed7bea,"Get all the 2.0 stuff I want to talk about into the readme. Rename ""flavor"" back to ""type""."
erikrose,2016-11-22 16:06:52,https://api.github.com/repos/mozilla/fathom/git/commits/9ff10858901fdd2fb7ee282876f252cf83bda80d,9ff10858901fdd2fb7ee282876f252cf83bda80d,"Cover the top-level conserveScore() function in side.js.

Now everything is covered but error conditions and some utils that are called only by the pending Readability test."
erikrose,2016-11-22 16:02:10,https://api.github.com/repos/mozilla/fathom/git/commits/bde6c21099015208bfb129877a322349960ff1b0,bde6c21099015208bfb129877a322349960ff1b0,Rename multiplyScore and setNote for symmetry with the previous commit.
erikrose,2016-11-22 15:59:06,https://api.github.com/repos/mozilla/fathom/git/commits/ec9c98f2f3cb9a2116f3cbdb0a648fcb331d5d55,ec9c98f2f3cb9a2116f3cbdb0a648fcb331d5d55,"Rename getScore, getNote, and hasNote to scoreFor, noteFor, and hasNoteFor, which read more like prose when combined with their arguments.

Also fix a test which wasn't testing what it meant to."
erikrose,2016-11-21 20:58:19,https://api.github.com/repos/mozilla/fathom/git/commits/8471a60fb6dbaaf60b5ce5f201882f7c3f54e74e,8471a60fb6dbaaf60b5ce5f201882f7c3f54e74e,"First last failing test: 'can have its type overridden'.

I was paving over the type() method in TypeLhs."
erikrose,2016-11-21 20:29:19,https://api.github.com/repos/mozilla/fathom/git/commits/13316902df60b7cf5cc1316ff49dae00c15d8051,13316902df60b7cf5cc1316ff49dae00c15d8051,Return an empty iterable if you try to query the fnodes of a type that never got applied.
erikrose,2016-11-21 20:28:33,https://api.github.com/repos/mozilla/fathom/git/commits/0e3644f22e32d0fff3acbad884bb6182973585ab,0e3644f22e32d0fff3acbad884bb6182973585ab,Delete some obsolete comments and clean up lint warnings.
erikrose,2016-11-21 19:42:19,https://api.github.com/repos/mozilla/fathom/git/commits/e578e5a66d426a4c60ae777877cc52b10d654006,e578e5a66d426a4c60ae777877cc52b10d654006,Fix a typeIn error message.
erikrose,2016-11-21 16:48:03,https://api.github.com/repos/mozilla/fathom/git/commits/55806e018dffa34e07808333632913619e3a5d58,55806e018dffa34e07808333632913619e3a5d58,Don't fail typeIn() checks if the conforming type is inherited from the LHS.
erikrose,2016-11-21 16:41:58,https://api.github.com/repos/mozilla/fathom/git/commits/4a293462fdc179014f7cdfc50fe342facdf08b77,4a293462fdc179014f7cdfc50fe342facdf08b77,"Teach NiceSet how to stringify itself.

Switch RHS to use NiceSet so my error messages don't say [Object object]."
erikrose,2016-11-17 16:13:30,https://api.github.com/repos/mozilla/fathom/git/commits/be960a8c158147a6086b6a7e1184c63ab52794e8,be960a8c158147a6086b6a7e1184c63ab52794e8,"Here's NiceSet. It works, but we weren't using it."
erikrose,2016-11-18 22:11:32,https://api.github.com/repos/mozilla/fathom/git/commits/3929ce5239c7855722d4485089b5327d9e9f66a5,3929ce5239c7855722d4485089b5327d9e9f66a5,"Make RHS realize that calling func() means its emitted type is uninferrable.

Thus, raise an error when func() is used without typeIn().

Fixing the 'the fnode corresponding to a passed-in node' test to conform to obey this new rule uncovers a new bug we'll have to fix: typeIn() is checked too early, before we've taken into account the possibility of the type being inferred from a LHS in the case that func() does not emit a type."
erikrose,2016-11-17 17:41:02,https://api.github.com/repos/mozilla/fathom/git/commits/1d37e71ae85fb704763213a26ffe03a327c3b2f1,1d37e71ae85fb704763213a26ffe03a327c3b2f1,"Repurpose a cycle test that was failing.

It didn't make sense anymore, since we're now requiring rules to be of determinable type. Cycles are always statically detectable now, and we test that already.

But we can repurpose it to test laziness."
erikrose,2016-11-17 16:40:47,https://api.github.com/repos/mozilla/fathom/git/commits/ff3cff6c0016fe8b3e0be832ba180d520df64eda,ff3cff6c0016fe8b3e0be832ba180d520df64eda,"Test paving over undefined notes. Improve error reporting for sourceless types.

This test also happened to trigger an execution loop and so inspired the creation of the new, toposort-based executor."
erikrose,2016-11-16 22:00:40,https://api.github.com/repos/mozilla/fathom/git/commits/37c00417773b11eac42dbababf7e77fe31117289,37c00417773b11eac42dbababf7e77fe31117289,"Improve cycle-detection error message.

This makes 'Ruleset avoids cycles that should be statically detectable, throwing an error' test pass."
erikrose,2016-11-16 21:53:15,https://api.github.com/repos/mozilla/fathom/git/commits/0a9947b7ee58288f61c9c7545a4319922f6bf06b,0a9947b7ee58288f61c9c7545a4319922f6bf06b,"Get get() calls with arbitrary LHSs passed in at least minimally working.

Makes 'by arbitrary passed-in LHSs (and scores dom() nodes at 1)' and 8 other tests pass."
erikrose,2016-11-16 21:42:59,https://api.github.com/repos/mozilla/fathom/git/commits/108600ad60d16e407e57c18060b5f62fca71835f,108600ad60d16e407e57c18060b5f62fca71835f,"Get first full run of new executor passing a test ('results by out-rule key').

Move by-type caching (into typeCache) into InwardRule, since OutwardRules don't emit results back into the system. That saves a special case (or at least represents it more palatably).

Fix lot of little bugs.

Delete the dead mightChangeTypedInfo() and rulesWhichMightChangeTypedInfo().

Remove the last vestiges of the ruleCache.

Have OutwardRule implement a special typesItCouldEmit() so _prerequisitesTo() doesn't crash when encountering out rules."
erikrose,2016-11-15 19:30:05,https://api.github.com/repos/mozilla/fathom/git/commits/9dedd2f198cc3aad670a98f2219369cecc80897b,9dedd2f198cc3aad670a98f2219369cecc80897b,Write toposort.
erikrose,2016-11-15 19:28:06,https://api.github.com/repos/mozilla/fathom/git/commits/f92583648f42b67f270371db5eb093868ac83fcd,f92583648f42b67f270371db5eb093868ac83fcd,Improve test debugging for node 7 and above.
erikrose,2016-11-14 21:32:26,https://api.github.com/repos/mozilla/fathom/git/commits/2996c7e264d8105307ea9c6898b34b187920fa23,2996c7e264d8105307ea9c6898b34b187920fa23,Improve some docs.
erikrose,2016-11-11 22:18:45,https://api.github.com/repos/mozilla/fathom/git/commits/b41547e3aefc47f9e6ca6806c29315c85071347c,b41547e3aefc47f9e6ca6806c29315c85071347c,"We seem to be able to compute prerequisites now: the execution-order dependency graph.

The next step is implementing a topological sort according to that graph and finishing the new executor."
erikrose,2016-10-12 20:16:21,https://api.github.com/repos/mozilla/fathom/git/commits/20a1501cc0114a8a1b141d9f33ad8fa56da1d0a1,20a1501cc0114a8a1b141d9f33ad8fa56da1d0a1,"Port short-circuiting demo to 2.x, and make use of DRY RHS stuff."
erikrose,2016-10-12 19:35:44,https://api.github.com/repos/mozilla/fathom/git/commits/5e122d6868c69aa4e35b4eeff47168b8d8f20f1b,5e122d6868c69aa4e35b4eeff47168b8d8f20f1b,Exercise top-level scoreUpTo() in tests.
erikrose,2016-10-12 19:14:42,https://api.github.com/repos/mozilla/fathom/git/commits/85327da1007049b463658a6ca83a26bf1f01a208,85327da1007049b463658a6ca83a26bf1f01a208,Get out().through() working.
erikrose,2016-10-12 18:47:02,https://api.github.com/repos/mozilla/fathom/git/commits/d747b482c6d08cacd4cb2dfc22911e51c791ecc8,d747b482c6d08cacd4cb2dfc22911e51c791ecc8,Test typeIn() enforcement.
erikrose,2016-10-12 18:39:53,https://api.github.com/repos/mozilla/fathom/git/commits/c7a3b8e3ea9e60f5d6902b22ce3cb38161660163,c7a3b8e3ea9e60f5d6902b22ce3cb38161660163,"Fix the .type() method on LHSs.

The instance var `type` was paving over the method. I don't see why it needed to be public in the first place; perhaps that was designed before guaranteedType() existed."
erikrose,2016-10-12 17:22:12,https://api.github.com/repos/mozilla/fathom/git/commits/bd363fa82cda0d02c3255203b12038e12f4dda5d,bd363fa82cda0d02c3255203b12038e12f4dda5d,Test scoreUpTo().
erikrose,2016-10-12 17:21:50,https://api.github.com/repos/mozilla/fathom/git/commits/6cc48eb5cde9349c351f3ae4179562f1e07e117c,6cc48eb5cde9349c351f3ae4179562f1e07e117c,"Stop talking about bound rulesets, and start talking about facts.

Bound rulesets are an implementation detail most people shouldn't immediately be concerned with."
erikrose,2016-10-12 16:25:42,https://api.github.com/repos/mozilla/fathom/git/commits/d34ae6f2b02391b31a86b7931f52ea0b50aa1a1f,d34ae6f2b02391b31a86b7931f52ea0b50aa1a1f,Group Ruleset tests better.
erikrose,2016-10-12 16:02:36,https://api.github.com/repos/mozilla/fathom/git/commits/1b3acf4e3ff0e230acb6303e1d996d849e76d249,1b3acf4e3ff0e230acb6303e1d996d849e76d249,Remove speculative comments about things that have already happened.
erikrose,2016-10-12 15:08:02,https://api.github.com/repos/mozilla/fathom/git/commits/c502e5b9ebde0b2eb62f2f41b1e241472980c514,c502e5b9ebde0b2eb62f2f41b1e241472980c514,Finish testing conserveScore corner cases.
erikrose,2016-10-12 01:08:42,https://api.github.com/repos/mozilla/fathom/git/commits/63969e649fd0be924798474e06be8405d9887b08,63969e649fd0be924798474e06be8405d9887b08,"Get basic conserveScore() working, and test laziness."
erikrose,2016-10-11 20:46:27,https://api.github.com/repos/mozilla/fathom/git/commits/04efd00d99949f99175f04d7f76d26b74dfec6d0,04efd00d99949f99175f04d7f76d26b74dfec6d0,"Add test for TypeMax LHSs.

This brings statement coverage to 83%."
erikrose,2016-10-11 17:10:10,https://api.github.com/repos/mozilla/fathom/git/commits/52656f3a18692ef2a2b4c9f14b0d5796b453c28d,52656f3a18692ef2a2b4c9f14b0d5796b453c28d,"Add eslint node plugin and associated rules. Picked from #40. Thanks, pdehaan!"
erikrose,2016-10-11 15:30:04,https://api.github.com/repos/mozilla/fathom/git/commits/b53349ebd68773cb0b0d2d7f08c68ac05df58928,b53349ebd68773cb0b0d2d7f08c68ac05df58928,"Remove some can't-happen code.

In the case of max(), LHSs must start with dom() or type(), and max() is a LHS-only call."
erikrose,2016-10-11 15:17:33,https://api.github.com/repos/mozilla/fathom/git/commits/86af07a565e03440ecdb4e74e7dc2de52da603a8,86af07a565e03440ecdb4e74e7dc2de52da603a8,"Remove the last index test, which was redundant.

I ported it trivially first to make sure it passed, and it did, but this doesn't test anything not already under test."
erikrose,2016-10-11 03:22:30,https://api.github.com/repos/mozilla/fathom/git/commits/605d1252e4644df5fac65b4f8779415b7f099351,605d1252e4644df5fac65b4f8779415b7f099351,Port the first of the old index tests to a new ruleset test.
erikrose,2016-10-10 20:31:21,https://api.github.com/repos/mozilla/fathom/git/commits/9d7e905cd88b4a293ce9b12c5472f55381e76695,9d7e905cd88b4a293ce9b12c5472f55381e76695,"Get the first few simple rulesets running, along with all 3 variants of get()!

* In setNote(), properly set a type even if a note is not provided.
* Get get() working. There were little errors like assuming asLhs wasn't an inherited property.
* Correct type-handling in InwardRule.results(). It didn't make any sense and was keeping types from getting assigned to things."
erikrose,2016-10-10 20:13:19,https://api.github.com/repos/mozilla/fathom/git/commits/83276972f8a4b3b5a435588640d73c753d5da33b,83276972f8a4b3b5a435588640d73c753d5da33b,"Choose a name for ""set"" that isn't a quasi-reserved word."
erikrose,2016-10-10 20:12:18,https://api.github.com/repos/mozilla/fathom/git/commits/de7c0814ced2a39e8f734cfdd88ed6842468f2ce,de7c0814ced2a39e8f734cfdd88ed6842468f2ce,"Stop using node-inspector, which is broken for recents node versions.

https://github.com/node-inspector/node-inspector/issues/905

This is a real drag, because the node debugger lacks simple affordances like seeing return values."
erikrose,2016-10-07 21:01:02,https://api.github.com/repos/mozilla/fathom/git/commits/3e923f7231fc14a6f206f2f3fb58704a70d0a3ae,3e923f7231fc14a6f206f2f3fb58704a70d0a3ae,Rename setConserving  getSubfacts for consistency.
erikrose,2016-10-07 19:56:52,https://api.github.com/repos/mozilla/fathom/git/commits/681fab5d58595092b992a3146b5eb2fc61f11b87,681fab5d58595092b992a3146b5eb2fc61f11b87,"Rename theType  type.

...since we aren't using the latter name for anything else anymore."
erikrose,2016-10-07 19:53:40,https://api.github.com/repos/mozilla/fathom/git/commits/d88165cb8846c7a3203330db0551d7a97615a21b,d88165cb8846c7a3203330db0551d7a97615a21b,Don't let func() callbacks return the conserveScore subfact (or any future ones func doesn't advertise).
erikrose,2016-10-07 19:48:27,https://api.github.com/repos/mozilla/fathom/git/commits/946e8dd094626a95f272a31bbcea7247d61c093b,946e8dd094626a95f272a31bbcea7247d61c093b,"Don't call func() or note() callbacks more than necessary.

Switch to a bitmask for keeping track of subfacts on the RHS. This lets us do set math, since Set ironically doesn't."
erikrose,2016-10-07 18:50:14,https://api.github.com/repos/mozilla/fathom/git/commits/d808cba5a2392ee9fceeee250182bd2ff186b4dc,d808cba5a2392ee9fceeee250182bd2ff186b4dc,"Standardize use of semicolons.

I could also have gone semicolonless (and may someday), but let's at least be consistent."
erikrose,2016-10-07 18:45:37,https://api.github.com/repos/mozilla/fathom/git/commits/45927426a8872e604a81e61825d52334b29f4954,45927426a8872e604a81e61825d52334b29f4954,"Upgrade packages to the latest.

...for no particular reason."
erikrose,2016-10-07 15:33:03,https://api.github.com/repos/mozilla/fathom/git/commits/cee7c3ded37aa31d719c951619869bb8275cf3ee,cee7c3ded37aa31d719c951619869bb8275cf3ee,Merge some linting tweaks. Closes #41.
pdehaan,2016-10-07 06:32:00,https://api.github.com/repos/mozilla/fathom/git/commits/63fcf8ec1b9f0f49e6a2c7f2fc6e45e10eec5b55,63fcf8ec1b9f0f49e6a2c7f2fc6e45e10eec5b55,Disable ESLint prefer-const rule
erikrose,2016-10-07 03:09:41,https://api.github.com/repos/mozilla/fathom/git/commits/6a877627ba4ed1afd632644f0549698a6607060a,6a877627ba4ed1afd632644f0549698a6607060a,Whoops: don't run the RHS tests exclusively.
erikrose,2016-10-07 03:04:05,https://api.github.com/repos/mozilla/fathom/git/commits/c8357bfd2c9a8f23ddc037dc426fc3b9ed4a2f45,c8357bfd2c9a8f23ddc037dc426fc3b9ed4a2f45,"Add RHS tests, and fix a typo to make them pass."
pdehaan,2016-10-05 20:38:28,https://api.github.com/repos/mozilla/fathom/git/commits/9411e8b926d57589ddff21f663644b1d51f5da8d,9411e8b926d57589ddff21f663644b1d51f5da8d,Tweak some ESLint in the 2.0dev branch
erikrose,2016-10-05 17:09:36,https://api.github.com/repos/mozilla/fathom/git/commits/38c94b9a7e34aee440a0001a6e3484a322974cb3,38c94b9a7e34aee440a0001a6e3484a322974cb3,Fix spots where I used `this` in nested functions.
erikrose,2016-10-05 16:45:52,https://api.github.com/repos/mozilla/fathom/git/commits/ac0c0ea79e0c9a13b9553f9ac3d83d84ddc16c7e,ac0c0ea79e0c9a13b9553f9ac3d83d84ddc16c7e,Export the rest of the public API in the top-level module.
erikrose,2016-10-05 16:45:09,https://api.github.com/repos/mozilla/fathom/git/commits/1e7803341af8fb246ae2be928b74496975918dc2,1e7803341af8fb246ae2be928b74496975918dc2,Make Sides immutable so they can be used to factor up repetition.
erikrose,2016-10-05 16:02:19,https://api.github.com/repos/mozilla/fathom/git/commits/a3fa954c5e3b65350e493930d5b020eebdbd91c1,a3fa954c5e3b65350e493930d5b020eebdbd91c1,"Upgrade eslint.

...for no particular reason"
erikrose,2016-10-05 15:55:21,https://api.github.com/repos/mozilla/fathom/git/commits/27ad7ba62403324502c6e856f78e3c1e6d3f3c49,27ad7ba62403324502c6e856f78e3c1e6d3f3c49,"Make dom() LHSs work with rule(), and make type() RHSs construct successfully."
erikrose,2016-10-05 15:05:18,https://api.github.com/repos/mozilla/fathom/git/commits/6434cafa650b4b49d450d1de105047e62f2b9d0f,6434cafa650b4b49d450d1de105047e62f2b9d0f,"Get a simple Side test running.

* You really can't construct an subclass in ES6 without calling super's constructor: this ends up undefined. So we move the constructor of Lhs, whose class hierarchy does not follow the Liskov substitution principle, to a static method. Also, re-enable the linting rules that catch this.
* Start porting an index test to the new API.
* Remember to call `new` in many places.
* Remember to return `this` from Side methods.
* Fix up many imports and exports."
erikrose,2016-10-03 21:06:12,https://api.github.com/repos/mozilla/fathom/git/commits/08e8135c65ec57c4e858d6dda8383cec2617540f,08e8135c65ec57c4e858d6dda8383cec2617540f,Kill an unused import.
erikrose,2016-10-03 21:05:58,https://api.github.com/repos/mozilla/fathom/git/commits/bdf512882a02e62053f3341f778c140d182d5c85,bdf512882a02e62053f3341f778c140d182d5c85,"File away the rules in Ruleset.

Rules get divided into inward and outward rules, which simplifies a few bits of logic in BoundRuleset."
erikrose,2016-09-30 19:32:17,https://api.github.com/repos/mozilla/fathom/git/commits/a54a4c1fc27a19c24c55441a0ecdbf40de41cf1c,a54a4c1fc27a19c24c55441a0ecdbf40de41cf1c,"Move clustering to its own module. Get tests (for just clustering) running again.

Next, we'll work out way up to the rest of the tests passing."
erikrose,2016-09-30 19:23:36,https://api.github.com/repos/mozilla/fathom/git/commits/18f777b6390ba3a219345d0cfa0cb1751d928587,18f777b6390ba3a219345d0cfa0cb1751d928587,"Work around a V8 bug.

https://stackoverflow.com/questions/32943776/using-super-within-an-arrow-function-within-an-arrow-function-within-a-method

utils_tests.js was crashing with ""SyntaxError: 'super' keyword unexpected here""."
erikrose,2016-09-30 18:57:39,https://api.github.com/repos/mozilla/fathom/git/commits/6e4cc0f468739875f96812a2c0ed51a2b456f450,6e4cc0f468739875f96812a2c0ed51a2b456f450,Get linter passing.
erikrose,2016-09-30 17:50:01,https://api.github.com/repos/mozilla/fathom/git/commits/0348234008bb6857aa440ca9bfc903b77259cd62,0348234008bb6857aa440ca9bfc903b77259cd62,"Write top-level RHS and LHS functions, and bring Side up to date.

Move Side to side.js, so all the icky repetition is at least in one place.

Remove some exports that don't need to be public.

Lhs is not abstract after all; it's used by Side for a short time."
erikrose,2016-09-30 14:31:42,https://api.github.com/repos/mozilla/fathom/git/commits/46a95808e82886712f3f8bb3a56926e8d6489d6f,46a95808e82886712f3f8bb3a56926e8d6489d6f,Bring TODOs up to date.
erikrose,2016-09-29 20:58:46,https://api.github.com/repos/mozilla/fathom/git/commits/e18338baacd4961932f0c937b2b177d1fc7429c1,e18338baacd4961932f0c937b2b177d1fc7429c1,"Remove some old, inapplicable notes."
erikrose,2016-09-29 20:58:28,https://api.github.com/repos/mozilla/fathom/git/commits/fd20e807b00185e077a4b794100894e3d9cd32e3,fd20e807b00185e077a4b794100894e3d9cd32e3,Implement rule().
erikrose,2016-09-29 20:41:11,https://api.github.com/repos/mozilla/fathom/git/commits/20df285196963319ef84aa0ebb8629d71b1bea39,20df285196963319ef84aa0ebb8629d71b1bea39,"Disable TypeMax optimization for now.

We had this problem:

rule(dom('title'), type('smoo').score(50),
     dom('snork'), type('smoo').score(40),
     type('smoo'), score(node => node.tagName === 'snork' ? 10 : 1))

We'd misoptimize. We'd think the 50 is the typeMax if it returns anything, but the 40*10 is.

We can do all the graph walking and figure it out after 2.0."
erikrose,2016-09-28 21:06:14,https://api.github.com/repos/mozilla/fathom/git/commits/da8215801f97e6837ce281e039fd813bfb0276ed,da8215801f97e6837ce281e039fd813bfb0276ed,Note the 2 focii of Fathom 2.0 in the readme.
erikrose,2016-09-28 21:05:42,https://api.github.com/repos/mozilla/fathom/git/commits/20dead8259fa11ed4fe2bc0e4b2093bd94cb801c,20dead8259fa11ed4fe2bc0e4b2093bd94cb801c,Promote some RHS.fact() pseudocode into actual code.
erikrose,2016-09-28 21:05:03,https://api.github.com/repos/mozilla/fathom/git/commits/663394c950a1a63461eeb40b5406154695923aef,663394c950a1a63461eeb40b5406154695923aef,"Invent getDefault().

I feel like I'm rewriting equivalent logic to this a lot.

Remember to export setDefault() while I'm at it."
erikrose,2016-09-28 21:04:12,https://api.github.com/repos/mozilla/fathom/git/commits/fcf7a0859a180674e0e3f8b62ab0d8711c4d6245,fcf7a0859a180674e0e3f8b62ab0d8711c4d6245,Teach executor how to obey .conserveScore().
erikrose,2016-09-28 17:09:27,https://api.github.com/repos/mozilla/fathom/git/commits/41f03e8e30b71339c4a61bc604424b9e5971501d,41f03e8e30b71339c4a61bc604424b9e5971501d,"Make conservesScore() a full-fledged call rather than a special case.

The ""simple"" special-casing actually made it *more* complicated, both in rhs.js and in needing special handling in the executor in InwardRule.results()."
erikrose,2016-09-28 01:25:29,https://api.github.com/repos/mozilla/fathom/git/commits/511b726ca564e2ec5e46450073ea39a77f4715b4,511b726ca564e2ec5e46450073ea39a77f4715b4,Move Fnode to its own file.
erikrose,2016-09-28 01:17:44,https://api.github.com/repos/mozilla/fathom/git/commits/9ba4ae3d168e60eb3bbc2b233064dae975df19b7,9ba4ae3d168e60eb3bbc2b233064dae975df19b7,Implement RHS's .conserveScore().
erikrose,2016-09-27 20:20:24,https://api.github.com/repos/mozilla/fathom/git/commits/bc73fc46594a4356263ff99e7d9e572ea0b33bda,bc73fc46594a4356263ff99e7d9e572ea0b33bda,"Make scores per-type.

Next, we'll add the ability to optionally inherit scores from upstream types, which is how the old behavior worked all the time."
erikrose,2016-09-27 15:38:58,https://api.github.com/repos/mozilla/fathom/git/commits/74e17ea6cf66b256668f0770ce38c81fa18b91fd,74e17ea6cf66b256668f0770ce38c81fa18b91fd,"Remove optional constructor args from Fnode.

Nobody was using them, so there's no sense having branches."
erikrose,2016-09-26 21:58:11,https://api.github.com/repos/mozilla/fathom/git/commits/35220f5a2e74845d363dd80d989853e0f5103741,35220f5a2e74845d363dd80d989853e0f5103741,"Begin implementing per-type scoring. Start by moving notes one object deeper into the fnode.

Scores will join them there momentarily.

Establish Fnode as a bit more of a self-defending abstraction."
erikrose,2016-09-23 20:06:52,https://api.github.com/repos/mozilla/fathom/git/commits/ebfd62d8eb4dc08e7d39b5b1db7432799d15b1eb,ebfd62d8eb4dc08e7d39b5b1db7432799d15b1eb,"Start updating readme for 2.0 in earnest.

Note that this is about 2.0 as it will be, not about the code as it currently exists (though it's pretty close).

* Add some more conceptual orientation around rules and rulesets. Try to convey the pipes-and-filters metaphor.
* Describe the new `get()`.
* Paste in a draft of the breaking-changes notes for 2.0."
erikrose,2016-09-22 14:33:45,https://api.github.com/repos/mozilla/fathom/git/commits/8cd4bbb5638551bfe6ec5073857a30f2f9bdd469,8cd4bbb5638551bfe6ec5073857a30f2f9bdd469,Don't run the tests on the 2.0dev branch yet; they aren't supposed to pass.
erikrose,2016-09-22 14:26:26,https://api.github.com/repos/mozilla/fathom/git/commits/3ef8f94706bc7cd0c46a999a64e7c028cc113e00,3ef8f94706bc7cd0c46a999a64e7c028cc113e00,Improve comments in RHS.
erikrose,2016-09-22 14:26:16,https://api.github.com/repos/mozilla/fathom/git/commits/93c279f6dd1c50d6da206dfc1243378b621481f5,93c279f6dd1c50d6da206dfc1243378b621481f5,"Finish the bits of the optimizer that TypeLhs needs: mostly rulesWhichMightAdd() and its dependencies.

I'm trying to keep classes from looking at each other's structure here, and I think it went pretty well: the reasonings we care about are modeled as explicit methods on the classes whose data they need.

Remove BoundRuleset.fnodesOfType(). I decided to put the LHSs in charge of actually running the rules that can emit such-and-such a type, because, while TypeLhs runs them all, TypeMaxLhs examines their max scores first and runs them conditionally."
erikrose,2016-09-21 21:03:27,https://api.github.com/repos/mozilla/fathom/git/commits/a52c30ac1927f0dacb7ba1f409b0c361a1b31e18,a52c30ac1927f0dacb7ba1f409b0c361a1b31e18,"Fix some spelling, and add some comments."
erikrose,2016-09-16 22:43:29,https://api.github.com/repos/mozilla/fathom/git/commits/5dd6f984e7f3df0a516fc4228526e20608a95310,5dd6f984e7f3df0a516fc4228526e20608a95310,Link to Fathom-on-Android proof of concept.
erikrose,2016-09-16 22:40:15,https://api.github.com/repos/mozilla/fathom/git/commits/6960632e1d35b15438a42589b466e4d9bcbd2dff,6960632e1d35b15438a42589b466e4d9bcbd2dff,Point to Kate's ffmetadata add-on.
erikrose,2016-09-14 21:23:53,https://api.github.com/repos/mozilla/fathom/git/commits/04bb664a6f552e4794859f53b497cade4aa29809,04bb664a6f552e4794859f53b497cade4aa29809,"Decide and document what is done with notes and scores when multiple LHSs emit the same node.

Different dom() selectors can overlap, leading to repeated applications of types, notes, and even score multipliers:

```
rule(dom('p'), type('paragraphish').score(10)),
     dom('p.intro'), type('paragraphish').score(5))
```

But actually, applying multiple score multipliers is fine. Maybe they want to give all <p>s a base score and add a special bonus for p.intros. The type() in the 2nd rule is necessary because dom() LHSs require a type.

We'll have meaningful notes override undefined or absent ones (as is currently done in InwardRule.results(). When you query for fnodes of a certain type, you can expect to find notes of any of form you specified on any rule with that type in the RHS."
erikrose,2016-09-14 20:44:04,https://api.github.com/repos/mozilla/fathom/git/commits/959a593c0d3a4a3502a9e5344122b800f6d8c2d6,959a593c0d3a4a3502a9e5344122b800f6d8c2d6,"Adjust RHS API after discussion with willkg.

willkg is a naive to Fathom, so he was helpful in identifying surprises.

* We decided to have typeIn and scoreUnder apply until explicitly cleared. That way, if somebody uses one as a safety thing way up the override chain that you aren't aware of, you won't stomp on it and break their invariants accidentally.
* scoreUpTo will be top-level, not an option to score() and func().
* typeIn will be the spelling of multi-arg type(), allowing the following simple rule...
* Calls to the right will override same-named calls to the left."
erikrose,2016-09-14 20:24:37,https://api.github.com/repos/mozilla/fathom/git/commits/7b416131fe2f12b49b86e85998e70d9807c9b757,7b416131fe2f12b49b86e85998e70d9807c9b757,Fix a missing brace in clusters().
erikrose,2016-09-08 15:32:39,https://api.github.com/repos/mozilla/fathom/git/commits/9b102054bad24b0127d9c55d2eb80b8a05d3a26b,9b102054bad24b0127d9c55d2eb80b8a05d3a26b,"Make Rhses immutable so factoring out common stuff doesn't cause surprises.

Also fix a constructor call that didn't use ""new""."
erikrose,2016-09-08 14:12:47,https://api.github.com/repos/mozilla/fathom/git/commits/355ba24eff818120a8a8e8a22d5ea0444bfb245e,355ba24eff818120a8a8e8a22d5ea0444bfb245e,"Bring 2.0 to almost a should-work state. It seems to hang together conceptually, and future commits should be surgical and easy to describe.

* Add the inward/outward rule distinction.
* Implement optimizer (part of LHS).
* Implement LHS and RHS.
* Introduce Side abstraction that enables sugar JS would otherwise forbid.
* Delete most of the old code, which is replaced by the new. Retain the TODOs that might still apply."
erikrose,2016-08-25 21:15:15,https://api.github.com/repos/mozilla/fathom/git/commits/cac59e470816f17fc1efd4a34437b585e3e451cd,cac59e470816f17fc1efd4a34437b585e3e451cd,Correct bad selector syntax in readme.
erikrose,2016-08-23 16:11:57,https://api.github.com/repos/mozilla/fathom/git/commits/69ac5ab13aa58ac231982bd0fc829fb9a14e981d,69ac5ab13aa58ac231982bd0fc829fb9a14e981d,"Rename types arg to typesAndNotes, as it was confusing even me."
erikrose,2016-08-23 16:11:23,https://api.github.com/repos/mozilla/fathom/git/commits/7c3a1534ff7d363fc17c455cd892b7ac6f587c9a,7c3a1534ff7d363fc17c455cd892b7ac6f587c9a,Introduce by-element caching.
erikrose,2016-08-23 16:10:54,https://api.github.com/repos/mozilla/fathom/git/commits/1a64ec098c8847ed62a4e211363a0de640bec89f,1a64ec098c8847ed62a4e211363a0de640bec89f,Simplify max-marking.
erikrose,2016-08-23 16:09:00,https://api.github.com/repos/mozilla/fathom/git/commits/cb4dad4c6ae4e6a48411425c5982b1800293615c,cb4dad4c6ae4e6a48411425c5982b1800293615c,"Remove support for max(n) for now.

Multiple maxes will be tricky. We'll have to store a marker about whether the cached list is exhaustive or not and compute further if more than we have are requested. Let's lay this in later as a separate feature."
erikrose,2016-08-23 15:51:13,https://api.github.com/repos/mozilla/fathom/git/commits/a88f4c02ac0343354802f3f1eda1d6ff64be8803,a88f4c02ac0343354802f3f1eda1d6ff64be8803,"Committing ruleset code before removing the arg to max() for implementation simplicity.

It'll be back later if it's useful."
erikrose,2016-07-15 15:30:39,https://api.github.com/repos/mozilla/fathom/git/commits/1e652f39c6d8fba11125225308f928995ed3e302,1e652f39c6d8fba11125225308f928995ed3e302,"Polish readme a bit.

* Merge the Get Involved section with Status, since it answers the question of how to keep in close contact with us.
* Debug an example.
* Add examples of all yankers.
* Add an example of clustering."
erikrose,2016-07-14 18:27:04,https://api.github.com/repos/mozilla/fathom/git/commits/4a44023375b9170b646ecac665ab26343f0bb8ef,4a44023375b9170b646ecac665ab26343f0bb8ef,Bump version and update version history for 1.1.2.
erikrose,2016-07-14 18:01:29,https://api.github.com/repos/mozilla/fathom/git/commits/7b0adfb98d1cd8d778a273b2f74b21b63cebd43b,7b0adfb98d1cd8d778a273b2f74b21b63cebd43b,"Iterate properly over querySelectorAll() results even in implementations where the results don't conform to the iterator protocol. (#32)

NodeLists are guaranteed only to have length and item() props."
pdehaan,2016-07-13 20:04:30,https://api.github.com/repos/mozilla/fathom/git/commits/0a73af968ebb16bfb0029954b43163f0e199b414,0a73af968ebb16bfb0029954b43163f0e199b414,"Merge pull request #31 from pdehaan/pdehaan/coveralls-badger

Add coveralls badge to README"
pdehaan,2016-07-13 19:45:30,https://api.github.com/repos/mozilla/fathom/git/commits/41c09eed07b97fa5005f0044b1250481ae38506f,41c09eed07b97fa5005f0044b1250481ae38506f,Add coveralls dep
pdehaan,2016-07-13 18:48:27,https://api.github.com/repos/mozilla/fathom/git/commits/e98a4f2ba6f2dade99ca528799e9137f5f3d3e53,e98a4f2ba6f2dade99ca528799e9137f5f3d3e53,Add coveralls badge to README
erikrose,2016-07-13 16:21:43,https://api.github.com/repos/mozilla/fathom/git/commits/e9511decca6b576c531b6cf28385ebd24e494ad0,e9511decca6b576c531b6cf28385ebd24e494ad0,Add test coverage reporting. Close #23. (#27)
dan-l,2016-07-12 22:37:16,https://api.github.com/repos/mozilla/fathom/git/commits/ded2e9e8180f34881de86128e682a057cd639dc3,ded2e9e8180f34881de86128e682a057cd639dc3,Eslint ignore coverage directory
erikrose,2016-07-12 22:05:03,https://api.github.com/repos/mozilla/fathom/git/commits/8009a76b75b8decce0f4f033496f241b22ab5242,8009a76b75b8decce0f4f033496f241b22ab5242,Document `make test` as well.
erikrose,2016-07-12 22:04:39,https://api.github.com/repos/mozilla/fathom/git/commits/3b00d5ab5e7c2a55e4e381e146b140a6548fa1d9,3b00d5ab5e7c2a55e4e381e146b140a6548fa1d9,Ignore just the root-level coverage directory.
erikrose,2016-07-12 21:55:48,https://api.github.com/repos/mozilla/fathom/git/commits/d2ed5a1b43c9cde4be2ee4b72324d244af430b5c,d2ed5a1b43c9cde4be2ee4b72324d244af430b5c,Mention the IRC channel.
pdehaan,2016-07-09 14:47:32,https://api.github.com/repos/mozilla/fathom/git/commits/77304177840d4fa0fbb526c6f77afbe60040ecaf,77304177840d4fa0fbb526c6f77afbe60040ecaf,"Merge pull request #29 from Tankenstein/master

fix typo in README"
pdehaan,2016-07-09 14:27:58,https://api.github.com/repos/mozilla/fathom/git/commits/c8582075fbcfa920022f834ec0fa6de5a58a9e7e,c8582075fbcfa920022f834ec0fa6de5a58a9e7e,"Merge pull request #28 from rgtk/patch-1

Add missing comma in README example"
Tankenstein,2016-07-09 12:22:59,https://api.github.com/repos/mozilla/fathom/git/commits/00df39ce10a15587fb50150f7aadfa76b6c8c1e0,00df39ce10a15587fb50150f7aadfa76b6c8c1e0,fix typo in README
rgtk,2016-07-09 11:12:37,https://api.github.com/repos/mozilla/fathom/git/commits/fb8262113a007c57ac2e0ee516b5f0e4e80f4519,fb8262113a007c57ac2e0ee516b5f0e4e80f4519,Add missing comma in README example
dan-l,2016-07-08 23:04:32,https://api.github.com/repos/mozilla/fathom/git/commits/cd4e0b7f7040ce93accae725e4c8cbe76220b1cb,cd4e0b7f7040ce93accae725e4c8cbe76220b1cb,Add code coverage
erikrose,2016-07-06 19:15:51,https://api.github.com/repos/mozilla/fathom/git/commits/5d8f96efae6d7227dfa64fb1fa4c6226e5925cd5,5d8f96efae6d7227dfa64fb1fa4c6226e5925cd5,"Don't bother me with ""EVERYTHING IS FINE!"" alerts."
erikrose,2016-07-06 19:01:27,https://api.github.com/repos/mozilla/fathom/git/commits/c3c7215e23265b9bb56833904fa13371ecc4f46f,c3c7215e23265b9bb56833904fa13371ecc4f46f,Bump version to 1.1.1.
erikrose,2016-06-27 22:08:47,https://api.github.com/repos/mozilla/fathom/git/commits/a023f6efc5b066448e1e54054796ebfc4fbcb49f,a023f6efc5b066448e1e54054796ebfc4fbcb49f,"Bump version to 1.1.

Add version history."
erikrose,2016-06-24 21:41:28,https://api.github.com/repos/mozilla/fathom/git/commits/51713a4a507018dd06fd2637dae6a148eb1f9d41,51713a4a507018dd06fd2637dae6a148eb1f9d41,Merge for...const fix for Firefox compatibility.
k88hudson,2016-06-24 21:37:49,https://api.github.com/repos/mozilla/fathom/git/commits/d4a9c91305195225afce16c260e309b685a113e5,d4a9c91305195225afce16c260e309b685a113e5,Remove prefer-const rule due to Firefox for...of issue
k88hudson,2016-06-24 19:20:32,https://api.github.com/repos/mozilla/fathom/git/commits/1c7507f144ca891a64e2a107b55cd3e05d89f987,1c7507f144ca891a64e2a107b55cd3e05d89f987,"Replace for const... with let for Firefox compat

This is due to a bug in Firefox, see https://bugzilla.mozilla.org/show_bug.cgi?id=1094995"
erikrose,2016-06-21 15:54:02,https://api.github.com/repos/mozilla/fathom/git/commits/004d2584fcb0ca8d6b95fbc15d10776d24a07d7c,004d2584fcb0ca8d6b95fbc15d10776d24a07d7c,"Optimize DistanceMatrix.numClusters().

We call it with every cluster merge, so there's no sense scanning over all the keys every time.

Also...
* Have closest() throw an error if there aren't at least 2 clusters left.
* Choose not to move the merge loop into DistanceMatrix. Leaving it outside provides a lot of power to callers: they can stop when there are a certain number of clusters, when clusters reach a certain size, when they span a certain distance, or whatever."
erikrose,2016-06-21 14:07:07,https://api.github.com/repos/mozilla/fathom/git/commits/f73d2d74941bb24b66cb82a8b6105fa23dc090ed,f73d2d74941bb24b66cb82a8b6105fa23dc090ed,Add CI notifications to #fathom IRC channel.
erikrose,2016-06-20 23:45:37,https://api.github.com/repos/mozilla/fathom/git/commits/d9cafa7b1b0b07c96f21f5147b84d48cba934073,d9cafa7b1b0b07c96f21f5147b84d48cba934073,"Get ready to release 1.0.

Jared is about to use it in production, so it's time! A breaking 2.0 will probably follow fairly soon."
erikrose,2016-06-20 23:41:48,https://api.github.com/repos/mozilla/fathom/git/commits/88b9e671e69b46f706d06703e7559b94c643c361,88b9e671e69b46f706d06703e7559b94c643c361,Stop throwing strings.
erikrose,2016-06-20 23:06:52,https://api.github.com/repos/mozilla/fathom/git/commits/db52d02bcd906a82cc810cb16776a1b3511efd44,db52d02bcd906a82cc810cb16776a1b3511efd44,"Implement clustering. Close #18.

* Add a linting rule whose absence cost me a couple hours.
* Relax the unused-vars linting rule to a warning. In this case, the linter makes the code worse, forcing us to either re-express in terms of forEach (slower), clutter up the code with ignore pragmas, or choose an uninformative name like _ and add it to the ignore list. *sigh* A mediocre linter is worse than no linter."
erikrose,2016-06-20 21:35:18,https://api.github.com/repos/mozilla/fathom/git/commits/abe058954d137e3da042b8eae0aa8e9ad38cc043,abe058954d137e3da042b8eae0aa8e9ad38cc043,"Move max() and identity() to utils.

Factor out best() so we can write min() and others."
erikrose,2016-06-20 21:28:44,https://api.github.com/repos/mozilla/fathom/git/commits/95fcb2b2639c94d172386c2c6e9b01ee4eadd4d9,95fcb2b2639c94d172386c2c6e9b01ee4eadd4d9,jsdom.jsdom  jsdom
erikrose,2016-06-07 17:09:24,https://api.github.com/repos/mozilla/fathom/git/commits/c0f330957d2a7ae44477fb25089c4b145df651e4,c0f330957d2a7ae44477fb25089c4b145df651e4,readme typo
erikrose,2016-06-06 21:12:41,https://api.github.com/repos/mozilla/fathom/git/commits/594d9b3ed8c810cf8dce0bb1e640711ee29f3ced,594d9b3ed8c810cf8dce0bb1e640711ee29f3ced,Improve docs.
erikrose,2016-06-04 17:46:49,https://api.github.com/repos/mozilla/fathom/git/commits/6d992ae86e84a147425f636c916e1ddc543b69b5,6d992ae86e84a147425f636c916e1ddc543b69b5,"Improve distance metric to take stride nodes into account.

Intuitively, this is now a pretty solid metric. Any further changes will probably be driven by the needs of the clustering algorithm."
erikrose,2016-06-03 20:23:40,https://api.github.com/repos/mozilla/fathom/git/commits/5f613a41f4f18905c80bf26788b6424e32dc8c0c,5f613a41f4f18905c80bf26788b6424e32dc8c0c,"Stop using nonexistent ""engine"" metadatum."
erikrose,2016-06-03 18:31:02,https://api.github.com/repos/mozilla/fathom/git/commits/0d2b461199792d4b731a0ed82ab7343d5c3c76e1,0d2b461199792d4b731a0ed82ab7343d5c3c76e1,Show that descents through similar tags are rated as shorter than through dissimilar ones.
erikrose,2016-06-03 18:07:17,https://api.github.com/repos/mozilla/fathom/git/commits/76233f41009e36b439c57c032292c1ffe4236714,76233f41009e36b439c57c032292c1ffe4236714,"Add basic tests for distance().

I hadn't planned to commit it without tests. Oops.

Also, rename tests with a ""_tests"" suffix so I can tell what I have open more easily and so they're more easily accessible with LaunchBar."
erikrose,2016-06-03 16:53:53,https://api.github.com/repos/mozilla/fathom/git/commits/29edb71343762fcf5631e6eced3487d1ff0d4253,29edb71343762fcf5631e6eced3487d1ff0d4253,"Migrate reusable pieces to a utils submodule.

Remove `make debug` because fathom is no longer runnable. The runnable stuff migrated to tests. Run `make debugtest` to debug it.

Name test files after the modules they test."
erikrose,2016-05-24 22:54:19,https://api.github.com/repos/mozilla/fathom/git/commits/3775e812c03f94a9416b11aa0f8448563fc7734d,3775e812c03f94a9416b11aa0f8448563fc7734d,"Scale paragraphish scores by link density.

This is like Readability's link density computation, except we consider only a container's ""own length"" (that is inline length).

* Capitalize tag names, because that's how browsers report them."
erikrose,2016-05-24 22:49:17,https://api.github.com/repos/mozilla/fathom/git/commits/fc43855f8a3d7a2ad87c410a40b6a201edb6a621,fc43855f8a3d7a2ad87c410a40b6a201edb6a621,Tweak some names and style.
erikrose,2016-05-24 21:05:33,https://api.github.com/repos/mozilla/fathom/git/commits/393ddcd9e8c3af927a196c1ceaa7df54ffbee221,393ddcd9e8c3af927a196c1ceaa7df54ffbee221,Merge in the first iteration of a Readability-like demo. Close #16.
erikrose,2016-05-24 20:53:59,https://api.github.com/repos/mozilla/fathom/git/commits/ea601f6a9c3ccb237558885884ae3f80460682b3,ea601f6a9c3ccb237558885884ae3f80460682b3,"Junk lodash for wu.

lodash's iteration functions don't support ES6 iterators yet. They're thinking about it (https://github.com/lodash/lodash/issues/737) but not too hard.

I'm going to see if I can get max() and sum() into wu."
erikrose,2016-05-24 17:10:27,https://api.github.com/repos/mozilla/fathom/git/commits/e1b2c078a78a09a93fdcf7530f19625fa0f93936,e1b2c078a78a09a93fdcf7530f19625fa0f93936,"Get the first iteration of the Readability demo scoring things.

Right now, it's just a simple score by Ps' and DIVs' inline length.

* Implement isBlock().
* Fix walk() to always return the original element.
* Dodge unimplemented wholeText() method in jsdom."
erikrose,2016-05-20 22:39:12,https://api.github.com/repos/mozilla/fathom/git/commits/63dfb19604f12386ba6b1f74f9d842bbf213371a,63dfb19604f12386ba6b1f74f9d842bbf213371a,Begin turning the sketch of a readability implementation into a running demo.
erikrose,2016-05-20 22:30:36,https://api.github.com/repos/mozilla/fathom/git/commits/c6737924208f356858618511af724d0991f15fc5,c6737924208f356858618511af724d0991f15fc5,"Call mocha directly from `make test`.

Linting takes forever, and sometimes we don't want tests aborted just because the linter sees some temporarily dead code."
erikrose,2016-05-20 20:38:09,https://api.github.com/repos/mozilla/fathom/git/commits/1512ffc242b7827fa214b780bfb7a9f60c42d4ce,1512ffc242b7827fa214b780bfb7a9f60c42d4ce,"jsdom is used only for the tests.

You can just as well pass us a browser's native DOM object."
erikrose,2016-05-20 19:17:00,https://api.github.com/repos/mozilla/fathom/git/commits/6158a36b58cc60dbcc343c4817e76fbb91b45cde,6158a36b58cc60dbcc343c4817e76fbb91b45cde,"Let a ranker function return nothing or a single object. Ref #9.

This doesn't do as much as I hoped to shorten ranker arrow functions, since you have to say => ({}) in ES6 rather than just => {}, but it helps a little with full-length ranker functions. Also, not requiring a return value is nice."
erikrose,2016-05-20 19:16:55,https://api.github.com/repos/mozilla/fathom/git/commits/87bc7524c8f2daf07500fc9ecd6f47353bd26e4e,87bc7524c8f2daf07500fc9ecd6f47353bd26e4e,Bring readme up to date.
erikrose,2016-05-20 18:20:42,https://api.github.com/repos/mozilla/fathom/git/commits/e88b21d87ac7b9800abd874f2a6758f8953e7842,e88b21d87ac7b9800abd874f2a6758f8953e7842,"Rename scoreMultiplier to ""score"" for brevity. Close #4."
erikrose,2016-05-19 01:17:04,https://api.github.com/repos/mozilla/fathom/git/commits/c7605d87ebdacac4531f1a354efcef9aef368a3c,c7605d87ebdacac4531f1a354efcef9aef368a3c,TODOs are okay. They often call out unhandled corner cases to readers.
erikrose,2016-05-19 01:15:30,https://api.github.com/repos/mozilla/fathom/git/commits/f2211b3f50b782cb9533004011ad8904dec97d28,f2211b3f50b782cb9533004011ad8904dec97d28,Add a max() yanker. Ref #12.
erikrose,2016-05-17 17:28:23,https://api.github.com/repos/mozilla/fathom/git/commits/c0a1369a8d4e4e3238387215bf713e8a2c29bde0,c0a1369a8d4e4e3238387215bf713e8a2c29bde0,"Add a demo embodying the first of jkerim's simple rulesets. Ref #12.

His original ruleset: https://github.com/JaredKerim-Mozilla/fathom/blob/0e473db5d5c22fd6660f98b46e83f85d465a2e3a/fathom.js#L68-L71

It's wordy and inefficient, but it's a start.

Also, separate tests into actual tests and design-inspiring use cases so we don't obscure (minimal) tests with non-minimal stuff."
erikrose,2016-05-16 22:40:25,https://api.github.com/repos/mozilla/fathom/git/commits/c61e771aa33a089b1f1513e99227f0f2920af5f7,c61e771aa33a089b1f1513e99227f0f2920af5f7,"Merge pull request #14 from pdehaan/travis-badge

Add Travis-CI badge to README"
pdehaan,2016-05-16 21:45:28,https://api.github.com/repos/mozilla/fathom/git/commits/2d7c9d250a6535adf969eae28d4ea4f65e13bcdd,2d7c9d250a6535adf969eae28d4ea4f65e13bcdd,Add Travis-CI badge to README
pdehaan,2016-05-16 21:37:03,https://api.github.com/repos/mozilla/fathom/git/commits/0940e94f8fb15749cde47037e2fe158579cdc4d0,0940e94f8fb15749cde47037e2fe158579cdc4d0,"Merge pull request #11 from pdehaan/yo-travis

Add initial .travis.yml file"
pdehaan,2016-05-16 21:09:55,https://api.github.com/repos/mozilla/fathom/git/commits/c0dc2e5fde1bc04097688eaf13dd92e2895f5ab7,c0dc2e5fde1bc04097688eaf13dd92e2895f5ab7,Ignore ESLint errors [for now] and add the no-warning-comments shame warning
pdehaan,2016-05-16 20:51:16,https://api.github.com/repos/mozilla/fathom/git/commits/dff63949fa5138f11c324042f9e3c6bf8c1ed807,dff63949fa5138f11c324042f9e3c6bf8c1ed807,Add npm lint as a pretest hook in package.json
pdehaan,2016-05-16 20:18:41,https://api.github.com/repos/mozilla/fathom/git/commits/0687de0358c46e98943be85355ad5cc7818a0169,0687de0358c46e98943be85355ad5cc7818a0169,Add initial .travis.yml file
erikrose,2016-05-16 19:48:57,https://api.github.com/repos/mozilla/fathom/git/commits/c37438f116389893da2e49fa21042ab978106ba0,c37438f116389893da2e49fa21042ab978106ba0,"Move away from `var`.

My initial impression is this makes it easier to reason about the code. Block scope certainly decreases the amount of state you have to think about at any one time. There's no sense requiring functions or classes to be defined in specific orders, though; this isn't C, and they're still hoisted in ES6.

And my favorite: we no longer need to do a bunch of declaration bookkeeping at the front of each function just to accurately reflect the language semantics. It's less work and terser. Accurate reflection of the semantics is ensured by no-use-before-define."
erikrose,2016-05-16 19:10:05,https://api.github.com/repos/mozilla/fathom/git/commits/dc9207d05dea26403906566beb760d2bf09b0c8d,dc9207d05dea26403906566beb760d2bf09b0c8d,Ignore things like npm-debug.log.
erikrose,2016-05-16 19:09:35,https://api.github.com/repos/mozilla/fathom/git/commits/9d9ba7d1374a6417c2390611d2e1da3ff5a40598,9d9ba7d1374a6417c2390611d2e1da3ff5a40598,"Fill out package.json, largely from #8.

We might remove the makefile eventually if npm scripts show any advantage. For now, we just reverse the direction of the ""test"" reference so people can run the tests even if they don't have make. (They will have npm.) I'd reverse ""lint"" for consistency, but running it via ""npm run lint"" results in an awful lot of uninformative racket."
erikrose,2016-05-16 19:00:53,https://api.github.com/repos/mozilla/fathom/git/commits/d12d462e04d698d5f578f7a8639ffc3d32eb6575,d12d462e04d698d5f578f7a8639ffc3d32eb6575,Use MDN's whitespace style for destructuring assignment.
erikrose,2016-05-12 14:36:21,https://api.github.com/repos/mozilla/fathom/git/commits/024876998e2d9567d2550057cbde68c7c5aa2e9f,024876998e2d9567d2550057cbde68c7c5aa2e9f,Merge ES6 idiomaticnesses. Close #10.
pdehaan,2016-05-11 17:45:54,https://api.github.com/repos/mozilla/fathom/git/commits/2573d5ea79cb866a2a6403339dc6690acf557cb0,2573d5ea79cb866a2a6403339dc6690acf557cb0,Tweaking ESLint rules and ES6ing some stuff
erikrose,2016-05-11 17:09:30,https://api.github.com/repos/mozilla/fathom/git/commits/cbd6445cf141e6d9bdec5d5ffa6d5da3e3137281,cbd6445cf141e6d9bdec5d5ffa6d5da3e3137281,"Correct errors eslint found.

There's still some dead code in the tests, but it will be hooked into that pending testcase."
erikrose,2016-05-11 16:30:42,https://api.github.com/repos/mozilla/fathom/git/commits/9cf04ff4a09d90049e5f7bcffd35bb3bf4971ae4,9cf04ff4a09d90049e5f7bcffd35bb3bf4971ae4,"Switch to eslint. Close #7.

It finds errors jshint doesn't. Also, we now lint the tests as well."
erikrose,2016-05-11 16:23:11,https://api.github.com/repos/mozilla/fathom/git/commits/e3a538f8633bf9f46f1651f820c83e9668f37ed9,e3a538f8633bf9f46f1651f820c83e9668f37ed9,"Move Readability utility procedures to tests.

If any of them end up generally useful, we'll move them back into the framework."
erikrose,2016-05-10 22:32:30,https://api.github.com/repos/mozilla/fathom/git/commits/0871415fc9742c1cdd9d4eda2dc1084e33f700e8,0871415fc9742c1cdd9d4eda2dc1084e33f700e8,Pull up some notes into proper docs.
erikrose,2016-05-10 22:23:52,https://api.github.com/repos/mozilla/fathom/git/commits/1b43a5bf87419a0644f729f80a0fefb017e176f9,1b43a5bf87419a0644f729f80a0fefb017e176f9,"Move some docs to readme.

fancyExample() became the 2nd test case."
erikrose,2016-05-10 22:06:19,https://api.github.com/repos/mozilla/fathom/git/commits/a83f75fed8430cf084f56499eb18388f2a3aa4f5,a83f75fed8430cf084f56499eb18388f2a3aa4f5,"Rename types to flavors, to avoid term overloading.

""Flavor"" is longer than ""kind"", but it has the advantage of a natural-sounding ""flavored"" adjective form."
erikrose,2016-05-10 21:29:53,https://api.github.com/repos/mozilla/fathom/git/commits/69770a732f90971cc338cdf083bdb372b74feda7,69770a732f90971cc338cdf083bdb372b74feda7,"Make make targets quiet.

When I run my tests, I don't really care *how* they run. That just noises up the results."
erikrose,2016-05-10 21:27:27,https://api.github.com/repos/mozilla/fathom/git/commits/c29c75a011f07d729905cf38413137b4ff5c61e8,c29c75a011f07d729905cf38413137b4ff5c61e8,Rename scribbles to notes. Close #5.
erikrose,2016-05-10 21:26:49,https://api.github.com/repos/mozilla/fathom/git/commits/a6a204829b941dbca9b60abc4c187c096a7a3af1,a6a204829b941dbca9b60abc4c187c096a7a3af1,"Note that type-driven rule dispatch works, since the 2nd test passes."
erikrose,2016-05-10 21:05:56,https://api.github.com/repos/mozilla/fathom/git/commits/3e250767a0db2d4300a20d84cb97bf5fc25d5f6f,3e250767a0db2d4300a20d84cb97bf5fc25d5f6f,Move a TODO to the issue tracker.
erikrose,2016-05-10 21:05:46,https://api.github.com/repos/mozilla/fathom/git/commits/53867a4de14df975b2ad83ef93b99ca8d7dfb357,53867a4de14df975b2ad83ef93b99ca8d7dfb357,Alphabetize exports.
erikrose,2016-05-10 21:05:23,https://api.github.com/repos/mozilla/fathom/git/commits/d5601da27dcceb72c1644613dd5a89c45bd1721f,d5601da27dcceb72c1644613dd5a89c45bd1721f,Correct getDefault()'s behavior for existing keys that === undefined.
erikrose,2016-05-10 21:04:53,https://api.github.com/repos/mozilla/fathom/git/commits/05cf2d69b7261438d75cd68e6b4879bd2f87837f,05cf2d69b7261438d75cd68e6b4879bd2f87837f,Add debugtest make target so we can invoke the debugger during tests.
erikrose,2016-05-10 21:04:20,https://api.github.com/repos/mozilla/fathom/git/commits/abdbdb9f0af6f340ae3c67274e9da48dd7d6aa13,abdbdb9f0af6f340ae3c67274e9da48dd7d6aa13,Make undefined score multipliers on DOM rules default to 1.
erikrose,2016-05-10 20:50:52,https://api.github.com/repos/mozilla/fathom/git/commits/a27fc9ebc2763d51b8ed180bdb127129daeb6543,a27fc9ebc2763d51b8ed180bdb127129daeb6543,"Apply the MPL.

Of the 3 licenses Mozilla pre-approves (MIT, MPL, Apache 2), MPL is the most restrictive, giving us the option of loosening it later. Its main stipulation is that modifications to the fathom.js file must be open-sourced, which I don't think is unreasonable. Let's see if it discourages too many people from using Fathom."
erikrose,2016-05-10 15:51:59,https://api.github.com/repos/mozilla/fathom/git/commits/b14fcc72c4b0e72a3e1b3a308acd35e917d56a6a,b14fcc72c4b0e72a3e1b3a308acd35e917d56a6a,Polish readme wording.
erikrose,2016-05-09 22:47:21,https://api.github.com/repos/mozilla/fathom/git/commits/1a9830241e8db220682815af436248579d041950,1a9830241e8db220682815af436248579d041950,Add a readme.
erikrose,2016-05-06 22:28:18,https://api.github.com/repos/mozilla/fathom/git/commits/3e2a9bfcd47cf020728bb900792249b6b6284cbe,3e2a9bfcd47cf020728bb900792249b6b6284cbe,"Fix makefile to jibe with fathom.js rename. Remove ""run"" target.

Now fathom is just a library; there's nothing to run. If you want to run some examples, try ""make test""."
erikrose,2016-05-06 22:26:04,https://api.github.com/repos/mozilla/fathom/git/commits/46a5db531ad00e3b3d0f3d0172ca1031ef16582e,46a5db531ad00e3b3d0f3d0172ca1031ef16582e,"Standardize on single quotes.

The Mozilla style guide says nothing, so I'll go with singles because it's what I'm used to from Python's PEP 8."
erikrose,2016-05-06 18:10:16,https://api.github.com/repos/mozilla/fathom/git/commits/bdd11b1e6f3f8b8f5883023e053fb20a3a212236,bdd11b1e6f3f8b8f5883023e053fb20a3a212236,"Add a test harness, and turn the simple example into a test. Make fathom a proper module, and rename source file to ""fathom.js""."
erikrose,2016-05-05 22:42:31,https://api.github.com/repos/mozilla/fathom/git/commits/9a5597a172beec23d2a54a32f01da3f3f8bb9f62,9a5597a172beec23d2a54a32f01da3f3f8bb9f62,"Rank phase works!

The simple example now runs and spits out the right answer.

Also, linting is now useful, finding accidental globals."
erikrose,2016-05-05 22:30:25,https://api.github.com/repos/mozilla/fathom/git/commits/1665cebbb6373e57e7cb53eaedfd2afc39500dbf,1665cebbb6373e57e7cb53eaedfd2afc39500dbf,"Debug with a GUI rather than with node's built-in debugger.

The GUI is a little behind--it doesn't know how to introspect Maps and such--but it's better than jumping in and out of repl mode all the time on the commandline."
erikrose,2016-05-05 19:52:23,https://api.github.com/repos/mozilla/fathom/git/commits/19fbe5f220fa84897bf9c2f28643acb8a13d9714,19fbe5f220fa84897bf9c2f28643acb8a13d9714,"Remove ""make clean""."
erikrose,2016-05-05 19:41:00,https://api.github.com/repos/mozilla/fathom/git/commits/2ac69b8a2b95832af10358244601fe5040a45b43,2ac69b8a2b95832af10358244601fe5040a45b43,"Rely on node 6's built-in ES6 support rather than using Babel.

This makes it much easier to debug, rather than messing about with source maps and the dearth of tooling that supports them. We can restore Babel later if we want to run within Firefox.

As a bonus, we don't need a build process anymore (for now).

Note that V8 (and thus Node) doesn't yet support the ES6 import syntax."
erikrose,2016-05-05 16:54:36,https://api.github.com/repos/mozilla/fathom/git/commits/ac8bb077433c3d61e4ec05eb32f2bebd607052d1,ac8bb077433c3d61e4ec05eb32f2bebd607052d1,Get it linting and not crashing on startup. Add debug target.
erikrose,2016-04-15 01:52:42,https://api.github.com/repos/mozilla/fathom/git/commits/a3cfbb58205aa1f006ecaa87e0d4f8e0be64227a,a3cfbb58205aa1f006ecaa87e0d4f8e0be64227a,"Add initial DOM fact, and implement resultsOf() and its children.

* Add initial DOM fact to kick off the rule running process.
* Let empty scribbles be undefined. Why not? They're defined entirely by the rules that lay them down, after all; we're not going to enumerate them or anything.
* Implement resultsOf(), resultsOfDomRule(), and resultsOfTypedRule(). Move default fill-ins to those from score()."
erikrose,2016-04-14 21:26:30,https://api.github.com/repos/mozilla/fathom/git/commits/5cbfa19089d3711958f7ca5bb277f8b7216519d8,5cbfa19089d3711958f7ca5bb277f8b7216519d8,"Reimplement score(), taking into account the new return shape of the rankers.

""Should work"" except that we need to bootstrap `nonterminals` by adding the dom tree."
erikrose,2016-04-13 21:02:18,https://api.github.com/repos/mozilla/fathom/git/commits/c7ede15d3a6647dc3c5a20e1fbd54f9bcefb2168,c7ede15d3a6647dc3c5a20e1fbd54f9bcefb2168,"Start sketching out design 3 for the rule engine, which takes into account the new return shape of rankers."
erikrose,2016-04-13 19:36:33,https://api.github.com/repos/mozilla/fathom/git/commits/98d739df905e5e47ca296ed3bd1a8682abc3cc80,98d739df905e5e47ca296ed3bd1a8682abc3cc80,"Track dirty rules. Despecialize DOM nodes. Hone data types.

Committing before revising rule engine to match newly honed ranker() return shapes.

* Realize we need to keep track of not dirty rules but dirty facts.
* Stop making DOM-sourced nodes so special: now they begin to become just normal nodes with type ""dom"".
* Get a tentative handle on what a ranker (the RHS of a rule) should return."
erikrose,2016-04-12 23:00:20,https://api.github.com/repos/mozilla/fathom/git/commits/f1145daacf27e24d2303466e1239ba0534680240,f1145daacf27e24d2303466e1239ba0534680240,"Add more of the rule engine: the ruleset, the knowledgebase.

Add lots of notes on future possibilities in case I have to bug out in a hurry."
erikrose,2016-04-12 17:27:41,https://api.github.com/repos/mozilla/fathom/git/commits/2dd3cc9eb91721378f1079bdb9bf28979d90fd13,2dd3cc9eb91721378f1079bdb9bf28979d90fd13,"Start implementing the 2nd design of the rule engine. Write the ""inline text"" finders.

It's in pieces all over the place atm, but you can see it start to take shape."
erikrose,2016-04-11 19:49:24,https://api.github.com/repos/mozilla/fathom/git/commits/c4a41de44c01d65471263cefc3de14751f92795a,c4a41de44c01d65471263cefc3de14751f92795a,"Introduce the concept of ""own text"". Explicitly separate rank and yank phases.

""Own text"" means a higher level div doesn't end up ranked higher than the p it contains. Every block-level container gets credit only for the text directly within it."
erikrose,2016-04-08 22:16:48,https://api.github.com/repos/mozilla/fathom/git/commits/14c27aa39d75e572f1e6ccf9503813d715c87fb4,14c27aa39d75e572f1e6ccf9503813d715c87fb4,Clear away old ideas. Document the new a bit so onlookers can make some sense.
erikrose,2016-04-08 21:33:07,https://api.github.com/repos/mozilla/fathom/git/commits/773ce91145e308cc52c045225baab48a0a93ed38,773ce91145e308cc52c045225baab48a0a93ed38,"Commit score.js before deleting discarded ideas. Add jsdom.

jsdom will treat us well enough for tests. Atm, I'm not planning to lean very hard on querySelectorAll(), so perf may not matter much."
erikrose,2016-04-06 21:07:12,https://api.github.com/repos/mozilla/fathom/git/commits/4fb6c1be3eaf597e5976e67801c7aa6d57ebe309,4fb6c1be3eaf597e5976e67801c7aa6d57ebe309,Ignore node_modules.
erikrose,2016-04-06 21:06:55,https://api.github.com/repos/mozilla/fathom/git/commits/ff8f81cccb0770834993a657eaef93d8c7d165f1,ff8f81cccb0770834993a657eaef93d8c7d165f1,Add jshint.
erikrose,2016-04-06 20:06:38,https://api.github.com/repos/mozilla/fathom/git/commits/408469d3a9c3c281bb931ebf517befa34e8389a5,408469d3a9c3c281bb931ebf517befa34e8389a5,Runs and tests the ES6-to-ES-lesser pipeline. Does barely anything.
