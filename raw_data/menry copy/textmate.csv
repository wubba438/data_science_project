textmate,TextMate is a graphical text editor for macOS 10.10 or later
username,timestamp,url,sha,message
sorbits,2019-09-15 15:18:12,https://api.github.com/repos/textmate/textmate/git/commits/54b232f6b1fa4257d512987248265acfd567cc13,54b232f6b1fa4257d512987248265acfd567cc13,Checkin release notes for 2.0
sorbits,2019-09-15 14:23:56,https://api.github.com/repos/textmate/textmate/git/commits/c4aed6990f0accf814b5702688a7b7a5d668b47d,c4aed6990f0accf814b5702688a7b7a5d668b47d,Ignore ninja state files (git)
sorbits,2019-09-15 14:20:40,https://api.github.com/repos/textmate/textmate/git/commits/d5d017ea88bf3d6dc5bef4a319393974b24f0a3d,d5d017ea88bf3d6dc5bef4a319393974b24f0a3d,"Use git’s ‘--reverse’ option instead of ‘tail -r’

This avoids an extra process but also removes a dependency on BSD’s tail command, as support for ‘-r’ is not a POSIX requirement."
sorbits,2019-09-15 09:26:41,https://api.github.com/repos/textmate/textmate/git/commits/d9ac41d7900370b85bcf1d0c25ef58c4fbc44a60,d9ac41d7900370b85bcf1d0c25ef58c4fbc44a60,Add checkbox in Preferences for the disableTabAutoClose setting
sorbits,2019-09-12 15:03:08,https://api.github.com/repos/textmate/textmate/git/commits/d2979e29178631975ee348b4fddc0664464b165d,d2979e29178631975ee348b4fddc0664464b165d,Add GitHub build workflow
sorbits,2019-09-09 11:00:32,https://api.github.com/repos/textmate/textmate/git/commits/360af637e209c262e4150bdffe1a4c57cc7719f1,360af637e209c262e4150bdffe1a4c57cc7719f1,"Call /bin/cp directly instead of going via PATH

This is because we rely on `-X` (skip extended attributes / resource forks) which is only available with Apple’s version of `cp`, and it is not unlikely that the user has GNU’s version of `cp` available via PATH."
sorbits,2019-09-05 08:01:10,https://api.github.com/repos/textmate/textmate/git/commits/4fbc9ee6eac6b0f9a733a8580fe7b669a9d6f2fd,4fbc9ee6eac6b0f9a733a8580fe7b669a9d6f2fd,Fix indentation (spaces → tabs)
sorbits,2019-09-05 07:52:16,https://api.github.com/repos/textmate/textmate/git/commits/77df3c2618ccbbcbd433df9527d37bca0ab46238,77df3c2618ccbbcbd433df9527d37bca0ab46238,"Remove the decompile_as target as it is no longer used

See https://github.com/textmate/applescript.tmbundle/commit/b05fe06abe4abdc6e1e0ead9217e4cb5f2b0a465"
rdwampler,2019-09-01 16:50:41,https://api.github.com/repos/textmate/textmate/git/commits/4820e876d2fdcab10c8759645f04ed5f6f20e007,4820e876d2fdcab10c8759645f04ed5f6f20e007,"Only allow navigating bookmarks in the touch bar

See https://lists.macromates.com/textmate/2019-August/041082.html"
sorbits,2019-08-26 19:49:58,https://api.github.com/repos/textmate/textmate/git/commits/aa10cd1e5784ba143bb2e38fde8f88d83802ca5c,aa10cd1e5784ba143bb2e38fde8f88d83802ca5c,Checkin release notes for 2.0-rc.31
sorbits,2019-08-26 19:45:25,https://api.github.com/repos/textmate/textmate/git/commits/562c6f519bde7e79ca1b58664bd086a1aa1c999c,562c6f519bde7e79ca1b58664bd086a1aa1c999c,Add missing boundary check when accessing undo/redo stack
sorbits,2019-08-26 19:34:52,https://api.github.com/repos/textmate/textmate/git/commits/7116dd777f07a65a675fe8944bc2fc2f05cada72,7116dd777f07a65a675fe8944bc2fc2f05cada72,"Workaround for potential stall when calling mate with inactive TextMate

The issue appears to be that accessing the clipboard, as part of setting up a normal document window, will stall when trying to connect to the system’s clipboard server.

Here’s the relevant stack trace:

    -[OakPasteboard checkForExternalPasteboardChanges]
      -[NSPasteboard stringForType:]
        -[NSPasteboard _dataForType:securityScoped:]
          -[NSPasteboard _dataForType:index:usesPboardTypes:combinesItems:securityScoped:]
            -[NSPasteboard _dataWithoutConversionForTypeIdentifier:securityScoped:]
              CFPasteboardCopyData  (in CoreFoundation)
                ___onqueue_CFPasteboardRequestDataFromDaemon_block_invoke.341
                  usleep  (in libsystem_c.dylib)
                    nanosleep  (in libsystem_c.dylib)
                      __semwait_signal  (in libsystem_kernel.dylib)"
sorbits,2019-08-26 19:09:52,https://api.github.com/repos/textmate/textmate/git/commits/36dc1374f93be4078bb96814a91387f9a13fd923,36dc1374f93be4078bb96814a91387f9a13fd923,"Revert ""Add debug output when TextMate is activated via mate""

This reverts the following 3 commits:

- commit 306d46ec712ffa67df6483b18afcc9bba23f30d0
- commit eecfe6e6197c70e161d5a76ae571a2f857f3d120
- commit 2ffc74ad8b282aa8db0bf31e9a707a8565494ffc"
sorbits,2019-08-25 12:13:16,https://api.github.com/repos/textmate/textmate/git/commits/a6ac1b9bf73f11a9509f252b4aa352f9300c5afa,a6ac1b9bf73f11a9509f252b4aa352f9300c5afa,Make commands used during build relative to __FILE__
sorbits,2019-08-25 11:16:10,https://api.github.com/repos/textmate/textmate/git/commits/cf3fe7c575270496ac650c1c4fe1d3fac9692b80,cf3fe7c575270496ac650c1c4fe1d3fac9692b80,"Fix buffer overflow bug

Without the boundary check we would write one byte beyond the end of the stack-allocated ‘first’ array."
sorbits,2019-08-21 09:56:45,https://api.github.com/repos/textmate/textmate/git/commits/88e5f1cd3c96dba2101eaca2d9c80dba3782a4b3,88e5f1cd3c96dba2101eaca2d9c80dba3782a4b3,Checkin release notes for 2.0-rc.30
sorbits,2019-08-21 09:51:26,https://api.github.com/repos/textmate/textmate/git/commits/306d46ec712ffa67df6483b18afcc9bba23f30d0,306d46ec712ffa67df6483b18afcc9bba23f30d0,Add even more debug output for when TextMate is activated via mate
sorbits,2019-08-08 19:27:59,https://api.github.com/repos/textmate/textmate/git/commits/5e96d41a3d624bb8f3e73294c225b84f3da40e5d,5e96d41a3d624bb8f3e73294c225b84f3da40e5d,"Look for numeric prefix when duplicating a file and increase it if found

For example if we have a directory with files named 001-foo.txt, 002-bar.txt, and 003-fud.txt, duplicating one of these will result in the duplicate starting with 004.

Also improve support for finding dates in file names being duplicated. Previously we only looked for YYYY-MM-DD but now we also support YYYY_MM_DD and YYYYMMDD. If a date is found in the file name being duplicated, it is replaced with the current date in the duplicate."
sorbits,2019-08-02 19:07:04,https://api.github.com/repos/textmate/textmate/git/commits/f33ba968a831fe1a8991cbdeb9e9d44288d12011,f33ba968a831fe1a8991cbdeb9e9d44288d12011,Don’t ignore result from writeObjects:
sorbits,2019-08-02 19:06:21,https://api.github.com/repos/textmate/textmate/git/commits/454b1b464486e412aa6ceac38ad9fd1272503575,454b1b464486e412aa6ceac38ad9fd1272503575,Use availableTypeFromArray: instead of checking types array directly
sorbits,2019-08-02 19:02:38,https://api.github.com/repos/textmate/textmate/git/commits/774e66c009a671b1ebf62519c0b68a899d63d59e,774e66c009a671b1ebf62519c0b68a899d63d59e,"Ignore ‘types’ in implementation of writeSelectionToPasteboard:types:

The issue is that the types requested may be ‘NSStringPboardType’ but that symbol is deprecated (starting with 10.14), yet the replacement (‘NSPasteboardTypeString’) is not string-equivalent, therefore our simple string comparison would fail.

This effectively broke services starting with 1ef78b3af7d2aa189695badaf7c3c9bbb2b4bc03 (where we adopted the new symbols).

Implementation of validRequestorForSendType:returnType: does not appear to be a problem, as that method is called with both ‘NSStringPboardType’ and ‘NSPasteboardTypeString’.

Also switched to using NSPasteboard’s writeObjects: so we don’t have to explicitly deal with the type of the data we write to the pasteboard (presumably NSString will declare it using both the old and new type)."
sorbits,2019-08-01 08:49:55,https://api.github.com/repos/textmate/textmate/git/commits/16c423939392857406a68e9caaa5274a6bf07b6f,16c423939392857406a68e9caaa5274a6bf07b6f,"Do not pass builddir/ninja_required_version as variables to generator

This is to avoid redundancy as ninja_required_version is hardcoded in the generator script and builddir is already passed via the --build-directory/-C option (and explicitly exported as a variable in the generator script)."
sorbits,2019-08-01 08:46:05,https://api.github.com/repos/textmate/textmate/git/commits/328c5bdca71676b88407b18c150e28af2940bee2,328c5bdca71676b88407b18c150e28af2940bee2,"Revert ""No need to explicitly set builddir as it’s already among our variables""

There may be situations in which the user already have (generated) ninja build files which do not match our assertions.

This reverts commit b42cbb1f7e56ebf2b30df48bcc26dab18685aa89."
sorbits,2019-08-01 08:28:35,https://api.github.com/repos/textmate/textmate/git/commits/e59f9fcfa6a08e73a8d58955cd38a89d6280d60d,e59f9fcfa6a08e73a8d58955cd38a89d6280d60d,Remove oak::cap from algorithm.h
sorbits,2019-08-01 08:23:55,https://api.github.com/repos/textmate/textmate/git/commits/8f685ff25ce28ab6d609a95417054808341da823,8f685ff25ce28ab6d609a95417054808341da823,Use std::clamp instead of oak::cap (C++17)
sorbits,2019-08-01 08:17:51,https://api.github.com/repos/textmate/textmate/git/commits/4c318529ab819a1ed1f132612c9740292cd24b06,4c318529ab819a1ed1f132612c9740292cd24b06,"Build as C++20 (up from C++14)

The C++20 feature list has been frozen although clang (and libc++) doesn’t yet have full support and the clang option we are using is -std=c++2a to indicate that things may still change."
sorbits,2019-08-01 08:17:20,https://api.github.com/repos/textmate/textmate/git/commits/253fc9044833802d9fbe085863dc259c2a9a374f,253fc9044833802d9fbe085863dc259c2a9a374f,"Remove ‘requires’ member function since it clashes with a C++20 keyword

This member function was never called by anyone."
sorbits,2019-08-01 08:11:24,https://api.github.com/repos/textmate/textmate/git/commits/acfee9901c1e4ccf1a5fe924cae6b1e36c06065c,acfee9901c1e4ccf1a5fe924cae6b1e36c06065c,Use ‘NSInteger’ for result of selectedRow (instead of legacy ‘int’ type)
sorbits,2019-08-01 08:05:58,https://api.github.com/repos/textmate/textmate/git/commits/caefacb9112fd07cbcfacd383da5ed820a7306da,caefacb9112fd07cbcfacd383da5ed820a7306da,Add missing space (according to syntax style guide)
sorbits,2019-08-01 08:02:55,https://api.github.com/repos/textmate/textmate/git/commits/e155e6810afc1ebf795d410f9c9696b37c708ffc,e155e6810afc1ebf795d410f9c9696b37c708ffc,Re-add target to (build and) run non-bundled executables
sorbits,2019-07-19 14:45:18,https://api.github.com/repos/textmate/textmate/git/commits/75be599e482e9d0dc4aeb69d6ffcc43d8ba05fc9,75be599e482e9d0dc4aeb69d6ffcc43d8ba05fc9,Do not set any targets as default in the generated build file
sorbits,2019-07-19 14:42:44,https://api.github.com/repos/textmate/textmate/git/commits/9c51080d1582401d86aba56caafcd5121d905091,9c51080d1582401d86aba56caafcd5121d905091,Add «target»/tests to run all tests for «target» or its dependencies
sorbits,2019-07-16 18:27:21,https://api.github.com/repos/textmate/textmate/git/commits/af91d39be5d0cab354bd5d66b39633fd482daea2,af91d39be5d0cab354bd5d66b39633fd482daea2,Generate build rules for tests but do not depend on the tests passing
sorbits,2019-07-16 18:24:07,https://api.github.com/repos/textmate/textmate/git/commits/2bc982dfd852aa660f5871671f07f4e5d7606bbe,2bc982dfd852aa660f5871671f07f4e5d7606bbe,Refactor bin/gen_build
sorbits,2019-07-16 18:02:42,https://api.github.com/repos/textmate/textmate/git/commits/77bc9f7a6f399c363ba57d62eb8f3367533438c6,77bc9f7a6f399c363ba57d62eb8f3367533438c6,"Remove test for localized folder names as it does not work (10.14)

I cannot find any information online about Apple dropping support for this, but I also cannot make it work, and it wouldn’t surprise me if they view localized folder names as a security problem."
sorbits,2019-07-16 17:40:46,https://api.github.com/repos/textmate/textmate/git/commits/b42cbb1f7e56ebf2b30df48bcc26dab18685aa89,b42cbb1f7e56ebf2b30df48bcc26dab18685aa89,No need to explicitly set builddir as it’s already among our variables
sorbits,2019-07-16 16:41:08,https://api.github.com/repos/textmate/textmate/git/commits/4e6e765e5f32611cd1282f62bb1d79590bc85812,4e6e765e5f32611cd1282f62bb1d79590bc85812,Update CxxTest
sorbits,2019-07-16 13:25:16,https://api.github.com/repos/textmate/textmate/git/commits/dae110372891aa9740afe3f89186d4a56dd35b87,dae110372891aa9740afe3f89186d4a56dd35b87,Update LINK declarations
sorbits,2019-07-16 12:30:18,https://api.github.com/repos/textmate/textmate/git/commits/36f414dbead7bc4c1f530b2682c88732630225f0,36f414dbead7bc4c1f530b2682c88732630225f0,Add missing include in test file
sorbits,2019-07-16 12:29:20,https://api.github.com/repos/textmate/textmate/git/commits/f21d570b731263aaef5b59148c87086793d4c1dc,f21d570b731263aaef5b59148c87086793d4c1dc,"Remove test for VOL_CAP_INT_EXCHANGEDATA

This is no longer supported (with APFS) so there is no reason to keep this code around."
sorbits,2019-07-16 12:27:28,https://api.github.com/repos/textmate/textmate/git/commits/eb4e0bfcd0de8ecc5f41d5f24756e10ae9dc13b8,eb4e0bfcd0de8ecc5f41d5f24756e10ae9dc13b8,"Update tests to reflect how the code works

The “matching pair” move behavior was changed in 7f99c4cbc743097938b87a510ac259cc7dfffa40"
sorbits,2019-07-16 12:23:04,https://api.github.com/repos/textmate/textmate/git/commits/f47a7b5f536237b61eafdb60520d25f44e403f9b,f47a7b5f536237b61eafdb60520d25f44e403f9b,Code to bump date in filename is no longer a testable separate function
sorbits,2019-07-16 10:05:11,https://api.github.com/repos/textmate/textmate/git/commits/c920035f9910a27eab42038929816d40232e9e5e,c920035f9910a27eab42038929816d40232e9e5e,"Variables from ./configure are now in the “local” (bootstrap) build file

This seems like a logical separation, as the build directory now contains things 100% generated, whereas the “local” build file has variables that came from the original ./configure step and may be edited."
sorbits,2019-07-16 09:57:23,https://api.github.com/repos/textmate/textmate/git/commits/608c53a423b757588bd1ff79cf0ec7a738cbdb26,608c53a423b757588bd1ff79cf0ec7a738cbdb26,Refactor bin/gen_build
sorbits,2019-07-16 09:53:48,https://api.github.com/repos/textmate/textmate/git/commits/d8fcf27cb5f798acaffa864112dd0b2a82c78993,d8fcf27cb5f798acaffa864112dd0b2a82c78993,Fix test for whether or not we have default targets
sorbits,2019-07-16 07:16:26,https://api.github.com/repos/textmate/textmate/git/commits/72bf77c2e50327caed2e2afe187c86a0e0b359a8,72bf77c2e50327caed2e2afe187c86a0e0b359a8,"Handle a failing ‘xcrun altool --notarization-info’ gracefully

We now write the captured output to stderr and retry after 10 seconds."
sorbits,2019-07-16 06:35:13,https://api.github.com/repos/textmate/textmate/git/commits/c4cec82869037dd03ef8e86254d0ed0c6d9abe24,c4cec82869037dd03ef8e86254d0ed0c6d9abe24,Checkin release notes for 2.0-rc.29
sorbits,2019-07-16 06:33:05,https://api.github.com/repos/textmate/textmate/git/commits/eecfe6e6197c70e161d5a76ae571a2f857f3d120,eecfe6e6197c70e161d5a76ae571a2f857f3d120,"Add more debug output for when TextMate is activated via mate

Related to 2ffc74ad8b282aa8db0bf31e9a707a8565494ffc"
sorbits,2019-07-15 19:41:30,https://api.github.com/repos/textmate/textmate/git/commits/ad74df78242c39d906e5b0f6e69e6115d4f201c6,ad74df78242c39d906e5b0f6e69e6115d4f201c6,"Include explanation in the log message for when a plug-in fails to load

Credit: https://lists.macromates.com/textmate/2019-July/041047.html"
sorbits,2019-07-14 09:07:39,https://api.github.com/repos/textmate/textmate/git/commits/b176bf8f9aa687f3467c77cb932a3ef5313cac22,b176bf8f9aa687f3467c77cb932a3ef5313cac22,"Use number formatter for count in Find All / Replace All status text

The Find dialog was already using number formatters, but the tool tips shown in the text view (when doing searches or replacements without going through the find dialog) were not.

This makes a difference when the count is > 999, as it will then format the number with thousand separators."
sorbits,2019-07-14 08:59:30,https://api.github.com/repos/textmate/textmate/git/commits/dfd5f85fb5d619148f716b39aec0cb9557531d89,dfd5f85fb5d619148f716b39aec0cb9557531d89,Remove unnecessary Info.plist file from Find framework
sorbits,2019-07-14 08:57:27,https://api.github.com/repos/textmate/textmate/git/commits/63e82b9bc0a3e44c543a2a167ece67d891e899dd,63e82b9bc0a3e44c543a2a167ece67d891e899dd,"Drop localization support in Find dialog

This was unnecessary indirection as we don’t generally lookup strings for the UI (so TextMate is not actually localizable) and the catalog for the strings we did look up was actually out of date."
sorbits,2019-07-14 08:45:46,https://api.github.com/repos/textmate/textmate/git/commits/6b3c8747e79f3ad5dec307da6a5d49934d9df3fd,6b3c8747e79f3ad5dec307da6a5d49934d9df3fd,Remove unused localization strings
sorbits,2019-07-13 09:43:24,https://api.github.com/repos/textmate/textmate/git/commits/a7542c7ea1f777e574a6e99e18072d95337a5bf8,a7542c7ea1f777e574a6e99e18072d95337a5bf8,Retain current thread’s run loop
sorbits,2019-07-13 09:15:08,https://api.github.com/repos/textmate/textmate/git/commits/f5d0f38cc7c4f36023d85694f923c3386305e9f7,f5d0f38cc7c4f36023d85694f923c3386305e9f7,"Don’t update NSUSerDefaults in OakTabBarView’s initialize

The use of an animator proxy is causing the initialize method to be called during animation, and when registering user defaults in initialize, we may trigger key/value observers to be notified, which for this code can result in a crash in OS code with the message: “Trying to recursively lock an os_unfair_lock”."
sorbits,2019-07-13 09:02:25,https://api.github.com/repos/textmate/textmate/git/commits/066e020265e45e407f2d3fdf2a8ca1df79b628c0,066e020265e45e407f2d3fdf2a8ca1df79b628c0,Ensure temporary std::string stays in scope when using its data
sorbits,2019-07-13 08:21:44,https://api.github.com/repos/textmate/textmate/git/commits/027038aaeda582c0a3eec2d275a5b12258dcd006,027038aaeda582c0a3eec2d275a5b12258dcd006,Checkin release notes for 2.0-rc.28
sorbits,2019-07-13 08:05:19,https://api.github.com/repos/textmate/textmate/git/commits/57c2e25af1c6eecd5f070aff8d21b5c2c651b6fd,57c2e25af1c6eecd5f070aff8d21b5c2c651b6fd,Update dialog plug-in (Rename symbols for the 10.14 SDK)
sorbits,2019-07-13 07:51:33,https://api.github.com/repos/textmate/textmate/git/commits/2ffc74ad8b282aa8db0bf31e9a707a8565494ffc,2ffc74ad8b282aa8db0bf31e9a707a8565494ffc,"Add debug output when TextMate is activated via mate

Some users report a significant delay from executing mate until the TextMate window is brought to front.

The debug information can be extracted by running the following in a terminal:

    log show --predicate 'subsystem = ""com.macromates.TextMate"" && category = ""BringToFront""'

Alternatively use `stream` instead of `log` to get a live stream of debug output.

See `man log` for options such as `--start date/time` (to limit the query to e.g. the last 10 minutes)"
sorbits,2019-07-13 06:49:45,https://api.github.com/repos/textmate/textmate/git/commits/72f4b7447e33155d08b8286007f166de9a8b23d4,72f4b7447e33155d08b8286007f166de9a8b23d4,Do not hardcode code signing flags in bin/gen_build
sorbits,2019-07-13 06:23:06,https://api.github.com/repos/textmate/textmate/git/commits/168915307d49bedd2fb91ee9328fe9f09e3f3d2b,168915307d49bedd2fb91ee9328fe9f09e3f3d2b,Assign small icon to sieve scripts (file browser etc.)
sorbits,2019-07-13 06:22:00,https://api.github.com/repos/textmate/textmate/git/commits/087e0ce0a7fc0df02537ea9b3b1049a7b7b489af,087e0ce0a7fc0df02537ea9b3b1049a7b7b489af,Import os/log.h when deployment target is macOS 10.12 or later
sorbits,2019-07-10 18:32:40,https://api.github.com/repos/textmate/textmate/git/commits/ba60e7091df163c529cc7fa61c3601e7eb8a71d6,ba60e7091df163c529cc7fa61c3601e7eb8a71d6,Use `flat_map` instead of `map { … }.flatten`
sorbits,2019-07-08 11:10:18,https://api.github.com/repos/textmate/textmate/git/commits/be677cb0b4022ad3733d5d05a55cf0a7db6e136d,be677cb0b4022ad3733d5d05a55cf0a7db6e136d,Checkin release notes for 2.0-rc.27
sorbits,2019-07-08 11:07:28,https://api.github.com/repos/textmate/textmate/git/commits/a9b5925f57b325bc8db62b41483621331193768c,a9b5925f57b325bc8db62b41483621331193768c,Saving a file would lose existing file permission flags
sorbits,2019-07-08 10:50:27,https://api.github.com/repos/textmate/textmate/git/commits/f36efa747e3a6a8babe27f10fd7ef33a50125fcc,f36efa747e3a6a8babe27f10fd7ef33a50125fcc,Prefix variables related to notarization rules with notarize
sorbits,2019-07-08 07:54:44,https://api.github.com/repos/textmate/textmate/git/commits/74029c758422c21865c920de31ec347bfa011b93,74029c758422c21865c920de31ec347bfa011b93,"Use ‘bash -c’ when calling openssl

This is to provide more flexibility when providing the private key.

It would be preferably to allow setting the shell (globally) but such feature was not desired by the maintainer of ninja: https://github.com/ninja-build/ninja/pull/827"
sorbits,2019-07-08 06:05:44,https://api.github.com/repos/textmate/textmate/git/commits/7f703d29532d82cc5f59ae8ec73322a23c706bd3,7f703d29532d82cc5f59ae8ec73322a23c706bd3,Add ninja rule for pushing the git release tag
elia,2019-07-08 09:48:41,https://api.github.com/repos/textmate/textmate/git/commits/e9033911f0b469b558c782557428da8ed0e652b7,e9033911f0b469b558c782557428da8ed0e652b7,"Fix the background-size of the about window

Using background-size: 50% results in really bad scrolling performance and 
doesn't not achieve the effect of scaling the image to double the pixel density,
it rather sets the image width to 50% of the element.

Using the non-retina image size solves both the problems.

A similar issue was found in this SO page: https://stackoverflow.com/a/7034772"
sorbits,2019-07-08 05:35:33,https://api.github.com/repos/textmate/textmate/git/commits/7f9f29587051648c45ccf6ca684a8402dd061ca5,7f9f29587051648c45ccf6ca684a8402dd061ca5,Checkin release notes for 2.0-rc.26
sorbits,2019-07-08 05:27:36,https://api.github.com/repos/textmate/textmate/git/commits/58414e9def0a2759a6eda6660cbcd2c10132c9a3,58414e9def0a2759a6eda6660cbcd2c10132c9a3,"Resolve potential symbolic link in path to save

Trying to save a file as /path/to/symlink will fail with “file does not exist” using the new NSFileManager API, even when the symbolic link does point to an existing file."
sorbits,2019-07-07 21:11:52,https://api.github.com/repos/textmate/textmate/git/commits/9cc10e7b72e130e86656c9e3d03a5de4a120e84a,9cc10e7b72e130e86656c9e3d03a5de4a120e84a,Checkin release notes for 2.0-rc.25
sorbits,2019-07-07 20:10:11,https://api.github.com/repos/textmate/textmate/git/commits/824981eaa27c869eedbf241325f6d218c5b58e09,824981eaa27c869eedbf241325f6d218c5b58e09,Produce error string for any failure from saving with NSFileManager
sorbits,2019-07-07 16:33:27,https://api.github.com/repos/textmate/textmate/git/commits/3f8c2d0bbdc7d154c142590fea7c5ca078f03728,3f8c2d0bbdc7d154c142590fea7c5ca078f03728,"No need for visibility setting when all objects are linked together

I’m keeping it in the sources though as it provides semantic value and may be required if the build system is updated, e.g. we may want to create static libraries for some targets and would thus need to know which symbols to export."
sorbits,2019-07-07 16:32:05,https://api.github.com/repos/textmate/textmate/git/commits/116e5e9a6c859af6b2c4a29fb391ac1618fcabeb,116e5e9a6c859af6b2c4a29fb391ac1618fcabeb,Check that build files do not reference unknown targets
sorbits,2019-07-07 16:28:15,https://api.github.com/repos/textmate/textmate/git/commits/a1c969174a47e86435ce149f6febfe7f928bd5e8,a1c969174a47e86435ce149f6febfe7f928bd5e8,"Instructions for creating a combined include directory

This is to allow finding TextMate’s include files when using Quick Open (⇧⌘D) or completion (escape) in include/import lines."
sorbits,2019-07-07 16:22:08,https://api.github.com/repos/textmate/textmate/git/commits/423e8e9a4348731dce4fd083c38c3bcd0629faa3,423e8e9a4348731dce4fd083c38c3bcd0629faa3,"Allow disabling atomic save via .tm_properties

This is done by setting `atomicSave` to one of the following values:

    always           Always use atomic saving (default)
    externalVolumes  Use for non-internal volumes (e.g. USB drives)
    remoteVolumes    Use for non-local volumes (e.g. network mounts)
    never            Never use atomic saving
    legacy           Always enabled, but do not use NSFileManager

Setting it to `externalVolumes` also includes `remoteVolumes`."
sorbits,2019-07-07 16:15:53,https://api.github.com/repos/textmate/textmate/git/commits/538283cc67626c6403ac133fbfbf4b9c6168f49b,538283cc67626c6403ac133fbfbf4b9c6168f49b,"Use NSFileManager’s replaceItemAtURL:… as default way to save atomically

NSFileManager’s approach is inferior to exchangedata(), but as this feature is no longer supported with Apple’s default file system (APFS), there is little reason to maintain our own implementation of the fallback code required when we cannot use exchangedata(), especially as the OS know more about file references (aliases), metadata, and other stuff that should be preserved when writing a new (replacement) file.

In theory the NSFileManager strategy can fail to create the temporary destination, in which case we will pass NULL to open() and crash.

Will fix this in a later commit."
sorbits,2019-07-07 16:03:30,https://api.github.com/repos/textmate/textmate/git/commits/8f3f3d9d16827fff42d997a87e7fad6961d203bb,8f3f3d9d16827fff42d997a87e7fad6961d203bb,"Update deployment version for xibs to 10.12

This was done using search and replace. Presumably it should be done in Xcode so that it can adjust the xib for the new deployment target, otherwise what is the point of storing deployment version in the xib and provide it as a command line argument to the xib compiler as well (only to get a warning if the versions do not match)?"
sorbits,2019-07-07 15:57:50,https://api.github.com/repos/textmate/textmate/git/commits/63724e67a4ef3462483f1372c13370c4264b73a5,63724e67a4ef3462483f1372c13370c4264b73a5,"Bump required OS version to 10.12

This is so that we can use the new logging infrastructure."
sorbits,2019-07-07 09:37:59,https://api.github.com/repos/textmate/textmate/git/commits/997e70059a1c76aba6cf81b851e31c2fb9f1a9ad,997e70059a1c76aba6cf81b851e31c2fb9f1a9ad,"Switch to Objective-C for the implementation of atomic saving

The most appropriate API for dealing with temporary files and atomic saving seems to be NSFileManager."
sorbits,2019-07-07 09:10:36,https://api.github.com/repos/textmate/textmate/git/commits/4c4822e1ca637d177c04ac7d62757c4922ecd825,4c4822e1ca637d177c04ac7d62757c4922ecd825,"Make it easier to change (atomic) saving strategy

The intermediate_t type now wraps the actual saving strategy to make it easier to change strategy based on the destination file system, user preferences, or other factors."
sorbits,2019-07-06 17:35:51,https://api.github.com/repos/textmate/textmate/git/commits/ba43f2ec5e1a794e8abec6cd9d2775b3744b7324,ba43f2ec5e1a794e8abec6cd9d2775b3744b7324,"The $1-n variables in nested replacements weren’t cleared properly

When searching for a regular expression with captures, we have $1-n available in the replacement (format) string.

If this format string does further replacements with optional captures (e.g. /^(_)?foo/) then $1 would be inherited from the parent match, when the optional capture did not match anything.

This bug was introduced in 0b1496011ffd1accd36c74843b485e47b375be98."
sorbits,2019-07-06 16:21:45,https://api.github.com/repos/textmate/textmate/git/commits/0c66614fa5ddc1ce81e29699d82ef33839fe3263,0c66614fa5ddc1ce81e29699d82ef33839fe3263,Sign with openssl may require terminal access for private key passphrase
sorbits,2019-07-06 16:14:46,https://api.github.com/repos/textmate/textmate/git/commits/1c1358bcce27408a6e0bb4d9715e701dca662923,1c1358bcce27408a6e0bb4d9715e701dca662923,"Workaround for missing content when expanding file browser items

The workaround is untested, as I have not found a way to reproduce the issue, but there is some debug output that can be reviewed and hopefully give some idea as to what is causing the issue.

The debug information can be collected by running the following in a terminal:

    log show --predicate 'process = ""TextMate"" AND eventMessage CONTAINS ""loadChildrenForItem:expandChildren:""'"
sorbits,2019-07-06 15:28:40,https://api.github.com/repos/textmate/textmate/git/commits/f7aef9b2b04f5b13f6a2635378a3aa830c9aa5ce,f7aef9b2b04f5b13f6a2635378a3aa830c9aa5ce,Fix syntax error in (ninja) relaunch app build rule
sorbits,2019-07-04 08:58:54,https://api.github.com/repos/textmate/textmate/git/commits/0d18d5b88f30727f81c751b9cc26ffaf681747c3,0d18d5b88f30727f81c751b9cc26ffaf681747c3,"Bump modification date of files copied to build directory

This is required because copying an executable to the build directory now depends on its signature, but the signature’s date is always newer (or same) as the executable being copied, which leads to the target being considered out-of-date and thus rebuilt (copied again)."
sorbits,2019-07-04 08:54:30,https://api.github.com/repos/textmate/textmate/git/commits/d5cae626212d7d7450cd63c46233b24815337e80,d5cae626212d7d7450cd63c46233b24815337e80,"Rework small part of build script to be less redundant

It’s the same number of lines, but it feels better to me, as the logic/processing is not repeated for each type of compiler argument."
sorbits,2019-07-04 08:50:31,https://api.github.com/repos/textmate/textmate/git/commits/91d7aecf1b95c080ce031abdd0f00eb555a0cc42,91d7aecf1b95c080ce031abdd0f00eb555a0cc42,"Changing BundleItemChooser’s hasSelection property now update item names

The items can be named “Do something with «unit» / Selection” and TextMate will show the proper title based on whether or not there is a selection, e.g. “Diff ▸ Document With Clipboard” versus “Diff ▸ Selection With Clipboard”.

Previously though, the item titles were not re-generated when changing the hasSelection property, so the user could be presented with stale titles until some other action triggered re-generation, e.g. indicating that an adaptive item works on current line when there is a selection."
sorbits,2019-07-04 08:36:53,https://api.github.com/repos/textmate/textmate/git/commits/dc472068296ff479488c629c2086a727a8850689,dc472068296ff479488c629c2086a727a8850689,fixup! Make OakChooser windows inherit from NSWindowController
sorbits,2019-06-30 08:00:13,https://api.github.com/repos/textmate/textmate/git/commits/bb772913c9c231009822747352fe4fde4a1071cd,bb772913c9c231009822747352fe4fde4a1071cd,"Variables from target file take precedence over command arguments (-D)

This may seem non-standard but since presence of a variable in our target file will drop a potential -D when, it does not make sense to have -D take precedence over what is in the target file."
sorbits,2019-06-30 07:53:00,https://api.github.com/repos/textmate/textmate/git/commits/91b67f36c1beca4b742ba287711b0c45b0e34bdd,91b67f36c1beca4b742ba287711b0c45b0e34bdd,"Skip passing variables to gen_build that are declared in our target file

This is to automatically drop variables that are moved from ./configure to our main target, e.g. APP_MIN_OS."
sorbits,2019-06-29 21:52:16,https://api.github.com/repos/textmate/textmate/git/commits/11d67f3a2257d34a129abb00ada882cffaa4e150,11d67f3a2257d34a129abb00ada882cffaa4e150,Avoid NSString’s deprecated percent encoding methods
rdwampler,2019-06-29 23:14:33,https://api.github.com/repos/textmate/textmate/git/commits/b71efb006501a39ecf7c7db2ffab336c09ec7a76,b71efb006501a39ecf7c7db2ffab336c09ec7a76,"Add support for ""Customize Touch Bar…"" in MenuBuilder"
rdwampler,2017-10-04 02:43:13,https://api.github.com/repos/textmate/textmate/git/commits/b1fdd4377b012395adb7ba09dc2cee1c3ef8eec9,b1fdd4377b012395adb7ba09dc2cee1c3ef8eec9,Allow customization of DocumentWindowController touch bar items
rdwampler,2017-10-04 02:37:30,https://api.github.com/repos/textmate/textmate/git/commits/2294d369d06ee588042410e40fc0ec8ee494bb66,2294d369d06ee588042410e40fc0ec8ee494bb66,Add accessibility support for DocumentWindowController's touch bar
rdwampler,2017-10-04 21:52:15,https://api.github.com/repos/textmate/textmate/git/commits/d8db03c426943d4b4032f551eac96aed3868919b,d8db03c426943d4b4032f551eac96aed3868919b,"Add initial touch bar support for OakTextView

This adds buttons for inserting/removing bookmarks and navigate them.

Since the function keys were replaced with the touch bar, there currently is no other way to set and navigate bookmarks other than these buttons so make their visibility priority high."
rdwampler,2017-10-04 02:32:57,https://api.github.com/repos/textmate/textmate/git/commits/d8b17a1f06a83688cab2214787a5fcd1f2216ca9,d8b17a1f06a83688cab2214787a5fcd1f2216ca9,Let DocumentWindowController's touch bar support nested touch bars
sorbits,2019-06-29 15:05:12,https://api.github.com/repos/textmate/textmate/git/commits/1ef78b3af7d2aa189695badaf7c3c9bbb2b4bc03,1ef78b3af7d2aa189695badaf7c3c9bbb2b4bc03,Rename symbols to what’s expected by the 10.14 SDK
sorbits,2019-06-29 14:41:21,https://api.github.com/repos/textmate/textmate/git/commits/e5855292d668c11366e2f559bfc285527aa3e2e5,e5855292d668c11366e2f559bfc285527aa3e2e5,Update dialog plug-ins (Use ${TARGET_NAME} instead of other variables)
sorbits,2019-06-29 14:36:25,https://api.github.com/repos/textmate/textmate/git/commits/68ec5e42a1e61d0ccdb49f27d95aea46952686f6,68ec5e42a1e61d0ccdb49f27d95aea46952686f6,Cycles in our build dependencies could result in an incorrect build file
sorbits,2019-06-29 13:23:24,https://api.github.com/repos/textmate/textmate/git/commits/0829884a4b1143f067b5d3a2ca1e4020d332f7a8,0829884a4b1143f067b5d3a2ca1e4020d332f7a8,"Use ${TARGET_NAME} instead of $(PRODUCT_NAME) in Info.plist

The latter was not valid variable syntax and was used as a literal string in the Info.plist."
sorbits,2019-06-29 13:05:48,https://api.github.com/repos/textmate/textmate/git/commits/260fad0c3fe33d10624aeec0dfd394b74dc57096,260fad0c3fe33d10624aeec0dfd394b74dc57096,"Make all variables in root target file available to ninja commands

Ideally we would have a section with “public” variables, but that will require making the format more complex, so for now, everything gets declared as a variable in the ninja build file, even though for now, we really just need to export APP_MIN_OS."
sorbits,2019-06-29 13:01:20,https://api.github.com/repos/textmate/textmate/git/commits/6a8eb992fc32c0aa0157d8a134c05b37b34db0b3,6a8eb992fc32c0aa0157d8a134c05b37b34db0b3,"Add to_h method to Context

This converts the context object to a hash with all (merged) values."
sorbits,2019-06-29 13:00:05,https://api.github.com/repos/textmate/textmate/git/commits/9511926afce741db8a3cb70ee137c0095bdb949b,9511926afce741db8a3cb70ee137c0095bdb949b,"Use $args instead of $FLAGS in ninja commands

This is to avoid confusion with the compiler $FLAGS variable."
sorbits,2019-06-29 12:12:29,https://api.github.com/repos/textmate/textmate/git/commits/27a7dd8815fa7073acf5014fb3274f3714c12405,27a7dd8815fa7073acf5014fb3274f3714c12405,"Add some optional build rules for notarization/release notes

These can be included from a potential $USER.ninja file."
sorbits,2019-06-29 05:24:21,https://api.github.com/repos/textmate/textmate/git/commits/e92d6aaac20501d10fa32285d6a170affd95dba6,e92d6aaac20501d10fa32285d6a170affd95dba6,Broaden regex to match version strings in release notes
sorbits,2019-06-27 20:32:57,https://api.github.com/repos/textmate/textmate/git/commits/04c3ce2d7335956e3818b908aca9ed35e8d86930,04c3ce2d7335956e3818b908aca9ed35e8d86930,"Filter string was not cleared when closing pasteboard history

This was because our windowWillClose: delegate method was never called, as our object was no longer a window delegate, an issue introduced in 709570049fd664fd55ea01661406c6ed0149152f when the superclass was changed to NSWindowController and I erroneously assumed that the superclass would set itself as delegate."
sorbits,2019-06-27 20:10:19,https://api.github.com/repos/textmate/textmate/git/commits/4ccae3c23b14ceeb7ab42c434ba26f5c34e480b9,4ccae3c23b14ceeb7ab42c434ba26f5c34e480b9,Update dialog plug-ins (make use of TARGET_NAME and __DATE__ defines)
sorbits,2019-06-27 09:20:48,https://api.github.com/repos/textmate/textmate/git/commits/224554f6a26ad9c1166719b505741f77f5e7de06,224554f6a26ad9c1166719b505741f77f5e7de06,"Let built bundles be phony targets in build file

The signature step takes the bundle as input and therefore depends on this, but if the bundle does not already exist, ninja will (correctly) complain that there is no rule to create it.

For bundles the sequence is now the following:

- Copy/run depends on signature
- Signature depends on bundle
- Bundle depends on linked executable and all resources"
sorbits,2019-06-26 21:38:21,https://api.github.com/repos/textmate/textmate/git/commits/e1e746f74f7ac3beeefcf61708acf1c2705163d1,e1e746f74f7ac3beeefcf61708acf1c2705163d1,Remove obsolete build system information from README.md
sorbits,2019-06-26 13:03:13,https://api.github.com/repos/textmate/textmate/git/commits/079643119696eebfae1a2d5aeeb09be53e6a104e,079643119696eebfae1a2d5aeeb09be53e6a104e,Remove COMPILE_DATE definition from build file
sorbits,2019-06-26 13:02:04,https://api.github.com/repos/textmate/textmate/git/commits/9078ae7771f6c9d28b436397d86e3f74d7d70491,9078ae7771f6c9d28b436397d86e3f74d7d70491,"Use __DATE__ instead of (custom) COMPILE_DATE macro

I prefer the YYYY-MM-DD format of our custom macro, but it has a problem with precompiled headers in that the macro changes value daily, and so, if specified when precompiling headers, they become invalid the next day.

Previously we solved it by declaring the macro only for application targets, but the new build system is not hierarchical in the same way and does not currently support this."
sorbits,2019-06-26 12:30:49,https://api.github.com/repos/textmate/textmate/git/commits/8e2de26529bfa57785e324ca0272bfed3274eaed,8e2de26529bfa57785e324ca0272bfed3274eaed,Move PLIST_FLAGS to TextMate’s target specification
sorbits,2019-06-26 12:24:02,https://api.github.com/repos/textmate/textmate/git/commits/51b5c992bd7d219d8d81a0bda1a04bec9b2d5fe8,51b5c992bd7d219d8d81a0bda1a04bec9b2d5fe8,Remove unused test flags from configure script
sorbits,2019-06-26 12:23:09,https://api.github.com/repos/textmate/textmate/git/commits/92f4a91cca588b6640ec06fd5db4505d9e102155,92f4a91cca588b6640ec06fd5db4505d9e102155,"Remove required OS version as a ./configure option

The code is written with a certain OS target in mind, so it makes sense to have this explicitly stated."
sorbits,2019-06-26 12:17:54,https://api.github.com/repos/textmate/textmate/git/commits/9f6781ec3f0bc833c1b0b5e3e5e00f6879d383a8,9f6781ec3f0bc833c1b0b5e3e5e00f6879d383a8,Get rid of the APP_NAME variable
sorbits,2019-06-26 12:03:24,https://api.github.com/repos/textmate/textmate/git/commits/1c5fc62f86b61fb54a39770dcd3049cf661b5a03,1c5fc62f86b61fb54a39770dcd3049cf661b5a03,"Do not include $APP_NAME in QuickLook generator’s bundle identifier

This was redundant as the final component is TextMateQL ($TARGET_NAME)."
sorbits,2019-06-26 11:55:18,https://api.github.com/repos/textmate/textmate/git/commits/5aa58e5543cf03f7531025dddd6804410643e9e8,5aa58e5543cf03f7531025dddd6804410643e9e8,"Do not include $APP_NAME in framework’s bundle identifier

Since we have multiple application targets, it doesn’t make sense with a global APP_NAME variable.

Though if building the frameworks as standalone bundles and embedding them in different applications, we may need some sort of unique component in the bundle identifier, but we currently do not do this (they are all statically linked, so the Info.plist is currently unused)."
sorbits,2019-06-26 08:26:51,https://api.github.com/repos/textmate/textmate/git/commits/1bc285270e6123f2c5dca89b361da4336287f2ae,1bc285270e6123f2c5dca89b361da4336287f2ae,"Make OakCommand link with BundleEditor

We previously avoided this link dependency because it would cause a cyclic dependency. The build system does however not error on cycles in the dependency graph as they are all statically linked together (rather than dynamically linking with each other).

Only cycles between root targets would cause a problem."
sorbits,2019-06-26 08:10:58,https://api.github.com/repos/textmate/textmate/git/commits/412e6798ca206b15cdc8f86a1387835a3f4f82e7,412e6798ca206b15cdc8f86a1387835a3f4f82e7,"Update build generator script

This changes a bunch of things:

1. Each framework now creates its own include directory for exported headers, and any target linking with this framework, gets that directory added to its include search path. This ensures deterministic behavior, unlike previously where a single shared directory was used, so even if target A did not explicitly link with target B, there was a reasonable chance that target B’s headers would be available when target A was built.

2. There is a new IMPORT keyword to indicate that a target depends on the headers of another framework but does not want to link with it. For example the `commit` shell command imports headers from the CommitWindow framework (related to their communications protocol) but linking with the CommitWindow framework would not be practical (as that would bring in all the resources of the CommitWindow).

3. All embedded targets are signed before being copied to their destination.

4. A new CS_ENTITLEMENTS keyword allows specifying `codesign` entitlements. Currently the hardened runtime is enabled, although this does make development problematic, as modifying files of a running instance (as done during rebuild) can cause TextMate to crash with EXC_BAD_ACCESS (Code Signature Invalid). Worse though, it seems the system has a cache of blacklisted executables indexed by inode. So if e.g. the embedded `mate` executable gets blacklisted, one has to manually remove and rebuild it, before it gets possible to use it again (by default, rebuilding causes the inode to be re-used, but I may change the build system to unlink before copy).

5. The build file no longer contains rules related to deployment. Instead variables are declared that a user build file can reference to extend the build with notarization/deployment rules (without having to hardcode build directory paths).

6. The code has been made modular with a Compiler super class that is subclassed to add support for file transformations (xib, ragel, asset catalogs, etc.) and a transformed file can have its own settings.

7. If target A links with target B, the linker flags of target B will now be included when linking target A.

8. Currently no indexing of help books. Unsure if this is actually useful.

9. Previously it was possible to have umbrella targets that would not generate any output, but just change settings for their sub-targets. This is no longer supported, as the implementation was arcane. I would like to introduce a different system for managing sectioned settings. Related to this; settings in target files are now always merged, regardless of whether using ‘=’ or ‘+=’."
sorbits,2019-06-24 16:37:05,https://api.github.com/repos/textmate/textmate/git/commits/bb44795ae1f61b4d8228db9df2cb4466a4af2437,bb44795ae1f61b4d8228db9df2cb4466a4af2437,"Avoid ‘+=’ with “local” variables in build file

By eliminating this operator we can treat the build files as plain dictionaries (no merging of re-declared values). While we still use the append operator in most of the files, it is appending to externally defined variables, so this can be changed to simple assignment, as long as the tree of build files is available to the processor."
sorbits,2019-06-24 16:25:55,https://api.github.com/repos/textmate/textmate/git/commits/9dbc4b378100d89273ab65050cbaf1f0cdc52168,9dbc4b378100d89273ab65050cbaf1f0cdc52168,Add codesign entitlements (unused by current build system)
sorbits,2019-06-24 16:16:07,https://api.github.com/repos/textmate/textmate/git/commits/db706b8e99296ec5ada2ce0b340cc143b51f7a4f,db706b8e99296ec5ada2ce0b340cc143b51f7a4f,Add NSAppleEventsUsageDescription
sorbits,2019-06-24 16:15:24,https://api.github.com/repos/textmate/textmate/git/commits/b5b36a558b32f4e46cbbef8b63807a41fbcd0d3a,b5b36a558b32f4e46cbbef8b63807a41fbcd0d3a,Add missing framework dependencies
sorbits,2019-06-24 16:08:43,https://api.github.com/repos/textmate/textmate/git/commits/da996b654204f584bcc6664d57199ef81a3b6f1c,da996b654204f584bcc6664d57199ef81a3b6f1c,Use “quote” include statements for framework’s own headers
studioego,2019-06-15 15:34:59,https://api.github.com/repos/textmate/textmate/git/commits/66c96b8393dcd79f1e4a773acaf8af5e8c1a963d,66c96b8393dcd79f1e4a773acaf8af5e8c1a963d,Fix typo in character set name: ‘Korean – {ISO-2022-JP → ISO-2022-KR}’
sorbits,2019-03-19 05:16:21,https://api.github.com/repos/textmate/textmate/git/commits/694877aad17238e509ef73db45f32d5377cc955d,694877aad17238e509ef73db45f32d5377cc955d,Checkin release notes for 2.0-rc.23
sorbits,2019-03-19 05:08:11,https://api.github.com/repos/textmate/textmate/git/commits/5202dc34bd6e7d2840b71051669e5ee3d4cee7a6,5202dc34bd6e7d2840b71051669e5ee3d4cee7a6,"Revert ""Let NSScrollView draw border above/below search results""

The scroll view’s border is black on 10.13.6 (and possibly earlier) which is undesired.

See https://lists.macromates.com/textmate/2018-December/040858.html

This reverts commit a0ac9c9a921c85910110fe795b95342e0e06f0df."
dusek,2018-12-25 15:45:18,https://api.github.com/repos/textmate/textmate/git/commits/85d3af94bae07982bc149440ee099970a021abb6,85d3af94bae07982bc149440ee099970a021abb6,"Implement ""Symbols"" accessibility rotor

Accessibility rotors allow VoiceOver user to navigate content quickly
by making possible navigation through select elements only.

In this case, we enable VoiceOver users to navigate efficiently
through symbols.

The first way to invoke a rotor is a ""global"" one (does not take into
account current position in text) and is invoked with VO-U. After
pressing arrow left/right sufficient times to reach ""Symbols"", one is
presented with a list analogical to the ""Jump to symbols"" TextMate
feature invokable by Shift-Cmd-T. Arrow up and down then enable
navigating through items, Return selects the result (and jumps to it),
Esc cancels the interface without moving the cursor. Also filtering
the list works by simply typing characters (implemented as
case-insensitive substring search - consistent e.g. with Safari's
""Headings"" rotor).

The second way to use a rotor is a ""local"" one (navigates w.r.t. the
current position in text) and is typically done through Trackpad
Commander (turned on by VO + two finger ""screw"" gesture to the right
on the Trackpad). Then one uses two-finger ""screw"" gesture (like
(un)screwing the bottle lid from/to the bottle with thumb and index
finger) to select ""Symbols"". When this is finally selected (the
selection is persistent), the user can then use flick with one finger
up or down gestures to move to the previous/next occurrence respectively.

I made a choice at one spot - I report the ""symbol location - end of
hardline"" as the range of the symbol (that is e.g. what VoiceOver
reads when navigating the elements). This seemed to work best for the
user at least in the Objective-C code.

The APIs are 10.13+ only, so appropriate avaiability declarations are
put in place to not cause warnings from the compiler. I was not sure
whether some declaration like that is needed also for the
OakTextView's informal category's conformance to the
`NSAccessibilityCustomRotorItemSearchDelegate` protocol - the protocol
is 10.13+ only too, but the compiler does not warn about conforming to
it. Perhaps the Objective-C runtime is smart enough to take into
account that the `NSAccessibilityCustomRotorItemSearchDelegate` symbol
is (hopefully) weakly-linked and adds conformance to it (I assume
using the `class_addProtocol` function) only when it is non-nil. I
have however not tested whether the compiled app actually degrades
gracefully (without crashing) on macOS 10.12 and earlier, though (for
starters, I seem not to have access to a macOS Sierra image to create
a VM)."
sorbits,2019-02-21 06:33:06,https://api.github.com/repos/textmate/textmate/git/commits/d3bce0e5eadd43e6735e77ce8273ce86ace0376f,d3bce0e5eadd43e6735e77ce8273ce86ace0376f,Bump copyright year to 2019
sorbits,2019-02-13 12:17:51,https://api.github.com/repos/textmate/textmate/git/commits/fc0ada2500944118589bbd89c7e0843a65f25fcf,fc0ada2500944118589bbd89c7e0843a65f25fcf,Fix (or update?) type of argument passed to CFPropertyListWrite
sorbits,2019-02-13 11:57:44,https://api.github.com/repos/textmate/textmate/git/commits/97fb1f07cdd42be99b46048031345a4b7af323b1,97fb1f07cdd42be99b46048031345a4b7af323b1,"Only use checkbox convenience constructor on 10.14 or later

The button created on 10.12 or 10.13 has a “Button” label next to it when used in table views (as used in the Find in Project results and Commit sheet)."
rdwampler,2019-01-10 15:58:59,https://api.github.com/repos/textmate/textmate/git/commits/e0ddc617945f521264380fea55452a734708d2d3,e0ddc617945f521264380fea55452a734708d2d3,"OakSyntaxFormatter: Clean up font attributes

See https://lists.macromates.com/textmate/2019-January/040883.html.

The issue is caused by commit f850dbdbc772814372ad84f8740ea8234950cc5d, which added support for font style changes. It did so by applying a single font across the entire string. But, in some cases not all characters (e.g., Chinese or Japanese characters) may be available for that font so these characters would not be rendered correctly while editing."
sorbits,2018-12-07 05:50:33,https://api.github.com/repos/textmate/textmate/git/commits/8e2ccd0dff6d13a1166bf9f95810122dc73f6288,8e2ccd0dff6d13a1166bf9f95810122dc73f6288,"Convenience constructor for labels appear to not use controlTextColor

Issue: https://lists.macromates.com/textmate/2018-December/040853.html"
rdwampler,2018-12-06 16:58:16,https://api.github.com/repos/textmate/textmate/git/commits/3eda80a87dd57415d9d0bdd1e826d581c46d091e,3eda80a87dd57415d9d0bdd1e826d581c46d091e,"Update link for Oniguruma official site

See https://github.com/kkos/oniguruma/issues/1."
rdwampler,2018-12-06 16:56:15,https://api.github.com/repos/textmate/textmate/git/commits/1fabf6d5c44be2fc14effb6db784c1aa05a9e949,1fabf6d5c44be2fc14effb6db784c1aa05a9e949,"Remove legal notice for XcodeEditor

The use of this framework was dropped in 4d82e4b109d353a565db3589138d7dcba3fa8fb6."
sorbits,2018-12-06 15:06:10,https://api.github.com/repos/textmate/textmate/git/commits/a3612be0f9ed54baacb5c4f18911fa91871d8284,a3612be0f9ed54baacb5c4f18911fa91871d8284,Checkin release notes for 2.0-rc.22
sorbits,2018-12-06 14:58:38,https://api.github.com/repos/textmate/textmate/git/commits/56f073a8eff5208088c0060576782677ff21345f,56f073a8eff5208088c0060576782677ff21345f,"Associate search results with the current find delegate

This fixes the problem where a folder search has been done and the dialog is later re-opened for another project (which will then take ownership) and then selecting one of the old search results: The “select match” is now sent to the project that was active, when the search was performed."
sorbits,2018-12-06 14:53:28,https://api.github.com/repos/textmate/textmate/git/commits/1a1a910c9275b7093e7ac5f1b7906b80ad762d34,1a1a910c9275b7093e7ac5f1b7906b80ad762d34,Introduce find dialog delegate instead of using project identifier
sorbits,2018-12-05 14:48:05,https://api.github.com/repos/textmate/textmate/git/commits/b8017b9f225f0ea3468241408c02747bc1e64129,b8017b9f225f0ea3468241408c02747bc1e64129,"Do not set NSBackgroundStyleRaised for controls and text in status bars

It appears to be ignored on 10.14 but earlier versions of macOS rendered the elements with a shadow, which is probably not a good fit for our current design."
rdwampler,2018-12-05 17:09:16,https://api.github.com/repos/textmate/textmate/git/commits/85a11ba0bfe46bee4287ae33a14fd5e11c65f627,85a11ba0bfe46bee4287ae33a14fd5e11c65f627,Check whether or not indexOfObject: returns NSNotFound
sorbits,2018-12-05 14:16:25,https://api.github.com/repos/textmate/textmate/git/commits/a6e6437262522d6d2097a4e7b396069b19dfe024,a6e6437262522d6d2097a4e7b396069b19dfe024,"Set ‘accessibilityElement’ on NSControl’s cell object

An alternative to accessing the cell directly is using NSAccessibilityUnignoredDescendant to obtain the object, but while it seems to abstract away whether or not it is the control or its cell which participates in accessibility, we forego the type checker."
sorbits,2018-12-05 05:00:04,https://api.github.com/repos/textmate/textmate/git/commits/5c2e646b3f10aeba1d53ccc043299d25e15fb1a4,5c2e646b3f10aeba1d53ccc043299d25e15fb1a4,"Use fontAttributesInRange: instead of attributesAtIndex:effectiveRange:

Semantically this seems slightly more appropriate, and giving a range allows us to pass the strings length as the length of the range, instead of assuming that the string has a first character for which we can get attributes, although for an empty string, passing in a zero-length range *does* throw an exception, so we must only call this when we know the string is non-empty."
sorbits,2018-12-05 04:58:12,https://api.github.com/repos/textmate/textmate/git/commits/fdc4dd31246a54cb3d46b48dcc808a57b4b73714,fdc4dd31246a54cb3d46b48dcc808a57b4b73714,"Do not request attributes for an empty NSAttributedString

This would throw an “out of bounds” exception."
rdwampler,2018-11-22 20:18:36,https://api.github.com/repos/textmate/textmate/git/commits/ca80254b80da6b4c7bccd4179fdd11ed9b46e825,ca80254b80da6b4c7bccd4179fdd11ed9b46e825,"Refactor finder tags to use catalog colors

Also, reworked the OFBFinderTagsChooser to have a similar look as on 10.14."
sorbits,2018-12-04 05:34:19,https://api.github.com/repos/textmate/textmate/git/commits/fab38c6defadd02eca5dcbf43984e57ad3f5a03f,fab38c6defadd02eca5dcbf43984e57ad3f5a03f,Check whether or not indexOfObject: returns NSNotFound
sorbits,2018-12-04 05:19:48,https://api.github.com/repos/textmate/textmate/git/commits/9e3b1d6028bf923b9bfc21bfc21e2b67a05cfda6,9e3b1d6028bf923b9bfc21bfc21e2b67a05cfda6,"Set wantsLayer to YES for all NSVisualEffectView subclasses

This is required when using NSVisualEffectBlendingModeWithinWindow although on macOS 10.13 and later a view is layer backed by default."
dusek,2018-12-02 18:46:47,https://api.github.com/repos/textmate/textmate/git/commits/5ee17f2b0e534ff2bb659037ab677d85b51a1d48,5ee17f2b0e534ff2bb659037ab677d85b51a1d48,Use new convenience accessibility APIs in OakTextView.mm
dusek,2018-12-01 13:06:29,https://api.github.com/repos/textmate/textmate/git/commits/9ad976a4c04328ba7e0aacba0fb37da79b507df4,9ad976a4c04328ba7e0aacba0fb37da79b507df4,"Migrate OakTextView to new Accessibility API

macOS 10.10 SDK introduced new protocol-based accessibility APIs. The
old accessibility APIs are now deprecated. These APIs require a
minimum deployment target of 10.10, which is fulfilled since TextMate
2.0 rc 12.

Main changes connected with this new API is that it is statically
typed, so it is no longer necessary to convert parameters from (and
results to) NSValue objects.

Still some of the weakly-typed original APIs are not deprecated and
have no alternative in the new API, notably e.g. the
accessibilityArray* methods, so they are kept."
sorbits,2018-12-02 16:30:07,https://api.github.com/repos/textmate/textmate/git/commits/dd77fcd6e1d2eb925f5008c9fa90caabe9aec576,dd77fcd6e1d2eb925f5008c9fa90caabe9aec576,"Add one line of margin below tab views

At least on macOS 10.14 the auxiliary titlebar view is placed so that the bottom line of the view overlaps with the divider that separates the titlebar from the window content.

While the tab view background color is using alpha, the divider was still visible, but it didn’t look that good when using the light appearance."
sorbits,2018-12-02 16:16:17,https://api.github.com/repos/textmate/textmate/git/commits/66b1eb906aa666cf076f7d31635e69499825e2c4,66b1eb906aa666cf076f7d31635e69499825e2c4,"Only skip updating to new layout when reloadData results in same layout

The problem with having the check in updateToLayout: is that the background view that extends to right window edge is not part of the layout, so while the width of this view may change when resizing the window, it would not result in a different layout."
sorbits,2018-12-02 16:15:13,https://api.github.com/repos/textmate/textmate/git/commits/a1459bd135dd42cde45d9f1234402384f09241d8,a1459bd135dd42cde45d9f1234402384f09241d8,Hide left border of first tab by placing it at X position -1
sorbits,2018-12-02 11:24:17,https://api.github.com/repos/textmate/textmate/git/commits/6f17fa535204cb70bba819b08ef39020dc427e8d,6f17fa535204cb70bba819b08ef39020dc427e8d,Checkin release notes for 2.0-rc.20
sorbits,2018-11-23 09:34:27,https://api.github.com/repos/textmate/textmate/git/commits/dff0b6ed54fd72eedbbfc5713cbb6653d4d45dd2,dff0b6ed54fd72eedbbfc5713cbb6653d4d45dd2,Always allow vertical scroll elasticity in text view
sorbits,2018-11-22 16:02:06,https://api.github.com/repos/textmate/textmate/git/commits/b08801ac332f96befafda471e3aa3a257d0ea5f0,b08801ac332f96befafda471e3aa3a257d0ea5f0,Update the “NewApplication” template
sorbits,2018-11-22 15:35:45,https://api.github.com/repos/textmate/textmate/git/commits/f7eb32a83bbf4fe37c6d60cbf43ed59574259ad9,f7eb32a83bbf4fe37c6d60cbf43ed59574259ad9,"New tool tip material was accidentally disabled in a previous commit

Commit in question: ae0fc82f879366e6730f7fcb10a2582f8567ed46"
sorbits,2018-11-22 15:32:15,https://api.github.com/repos/textmate/textmate/git/commits/e9af09081126bd98eaf1d9069d1f96288c53d087,e9af09081126bd98eaf1d9069d1f96288c53d087,Make private function ‘static’
sorbits,2018-11-22 15:28:58,https://api.github.com/repos/textmate/textmate/git/commits/3df481aa365b4fc3d08fec989b53515c10290183,3df481aa365b4fc3d08fec989b53515c10290183,Remove unnecessary import
sorbits,2018-11-19 02:34:03,https://api.github.com/repos/textmate/textmate/git/commits/7030b0041e4903129b1ebb08e674d2fd0ae26cc2,7030b0041e4903129b1ebb08e674d2fd0ae26cc2,Update documents array and selected document inside animation group
sorbits,2018-11-18 07:38:23,https://api.github.com/repos/textmate/textmate/git/commits/f92a50b59a947c0ac099dc7d9be0b8ddcfb5ab82,f92a50b59a947c0ac099dc7d9be0b8ddcfb5ab82,Remove unused tab bar graphics
sorbits,2018-11-18 07:35:59,https://api.github.com/repos/textmate/textmate/git/commits/f2d38e4e0fb6c44c401c9391c7c3bfe2c37bd6fb,f2d38e4e0fb6c44c401c9391c7c3bfe2c37bd6fb,Update OakTabBarView to use title bar material for active tab
sorbits,2018-11-22 09:22:44,https://api.github.com/repos/textmate/textmate/git/commits/f850dbdbc772814372ad84f8740ea8234950cc5d,f850dbdbc772814372ad84f8740ea8234950cc5d,Support font style changes in OakSyntaxFormatter
sorbits,2018-11-22 09:20:59,https://api.github.com/repos/textmate/textmate/git/commits/4eafd593745add1ece2c8658e0f2aa8d3286183b,4eafd593745add1ece2c8658e0f2aa8d3286183b,"Let OakSyntaxFormatter use OakTheme

As the latter supports catalog colors, the styled string should automatically work in both light and dark mode."
sorbits,2018-11-22 09:18:52,https://api.github.com/repos/textmate/textmate/git/commits/db41b4b524c05cc7112cfa2c71c4309406d69b1b,db41b4b524c05cc7112cfa2c71c4309406d69b1b,"Add OakTheme: An Objective-C version of theme_t

This doesn’t do any caching of style lookups so performance is worse than theme_t and it also lacks an API to control the initial base font.

For now, the intention is to use this for system dialogs, such as the Find dialog, but long-term it should also be used by OakTextView, at which point, caching and base font support should be added."
sorbits,2018-11-22 09:05:44,https://api.github.com/repos/textmate/textmate/git/commits/82de801d3e79f928e0627fd25b3ba514f572042f,82de801d3e79f928e0627fd25b3ba514f572042f,"Add UUID for the macOS System Theme

Theme available here: https://github.com/textmate/themes.tmbundle/commit/e6e918506291b2dec178ad1b7e6f04653d25818c"
sorbits,2018-11-22 08:56:23,https://api.github.com/repos/textmate/textmate/git/commits/95da575620946f64b0b64c862a632ddebe39c33c,95da575620946f64b0b64c862a632ddebe39c33c,Do not include themes in the View menu when hideFromUser is true
sorbits,2018-11-22 08:55:16,https://api.github.com/repos/textmate/textmate/git/commits/42cdb1c43015fd3c8cffcc3ae4a548ec37abc53f,42cdb1c43015fd3c8cffcc3ae4a548ec37abc53f,Add URL escaping for the path component of SCM URLs
sorbits,2018-11-21 08:37:03,https://api.github.com/repos/textmate/textmate/git/commits/60a3690befb8281339dc0e2e5f41eab2fab55ac4,60a3690befb8281339dc0e2e5f41eab2fab55ac4,Use NSPasteboard’s writeObjects: when copying items from file browser
sorbits,2018-11-21 08:26:14,https://api.github.com/repos/textmate/textmate/git/commits/82593c88240f63fdb3bd5453b94a1d415aa8b65a,82593c88240f63fdb3bd5453b94a1d415aa8b65a,"Use NSPasteboard’s writeObjects: when copying find in folder results

When requesting clipboard content using stringForType: then NSPasteboard will automatically join all strings using a newline character, so copied results will still paste as a “list” but applications that are aware of multiple pasteboard items could potentially do something different."
sorbits,2018-11-21 08:00:50,https://api.github.com/repos/textmate/textmate/git/commits/892fc536f830f1b31e0b4f0fbdb427ed669b0553,892fc536f830f1b31e0b4f0fbdb427ed669b0553,Move outlineView:writeItems:toPasteboard: to view controller
sorbits,2018-11-21 07:50:30,https://api.github.com/repos/textmate/textmate/git/commits/aad3fdaca8a92894f9936359bf0c334fcbaf7d71,aad3fdaca8a92894f9936359bf0c334fcbaf7d71,"Implement outlineView:pasteboardWriterForItem: for file browser dragging

This is the “modern” API that supports multiple items on the clipboard and gives us a badge to show how many items are being dragged.

Though the default drag image does not resemble Finder nor does it seem to support flocking out of the box (where multiple items are collapsed into a single proxy image)."
sorbits,2018-11-21 07:32:44,https://api.github.com/repos/textmate/textmate/git/commits/19f15f97fcce28b5eb7e89678c9dea6e3121caa9,19f15f97fcce28b5eb7e89678c9dea6e3121caa9,Use NSPasteboard’s writeObjects: for file browser’s service menu support
sorbits,2018-11-20 15:20:35,https://api.github.com/repos/textmate/textmate/git/commits/942b962ce55c3c7f8d069a07839fa3a42fd8dc3d,942b962ce55c3c7f8d069a07839fa3a42fd8dc3d,"The gear shown for action pop-up buttons was clipped on 10.14

We wrap the button in view to clip some of the excessive left margin but on 10.14 the dimensions changed so we would also clip some of the gear."
sorbits,2018-11-19 07:36:01,https://api.github.com/repos/textmate/textmate/git/commits/f244e223fdc5c4cce590c644fe44d4d979897a24,f244e223fdc5c4cce590c644fe44d4d979897a24,Rename a few menu items
sorbits,2018-11-19 07:10:54,https://api.github.com/repos/textmate/textmate/git/commits/40f5e87aca99b9226d4e17a7b3b153b738b9f38c,40f5e87aca99b9226d4e17a7b3b153b738b9f38c,Opening the Set Wrap Margin dialog would not have focus in text field
sorbits,2018-11-19 05:10:18,https://api.github.com/repos/textmate/textmate/git/commits/432d6ba604025a7f65083a5e0f2d862c3e8d3287,432d6ba604025a7f65083a5e0f2d862c3e8d3287,Use tertiaryLabelColor for disabled bundle items in bundle editor
sorbits,2018-11-19 04:41:09,https://api.github.com/repos/textmate/textmate/git/commits/c21a6af60b47a124f08d6d51435011dea6fc93fa,c21a6af60b47a124f08d6d51435011dea6fc93fa,"Do not call SCM status callbacks when status changes from unknown → none

We ship with the “Update Gutter” command enabled by default which is causing a small delay when opening documents because bundle items are currently blocking the main thread.

This commit (together with the previous one) makes it so that we only call it when we have an assumption that it will actually update the gutter."
sorbits,2018-11-19 04:36:29,https://api.github.com/repos/textmate/textmate/git/commits/f5605b17022f9f503024609656448e1a831c2390,f5605b17022f9f503024609656448e1a831c2390,Reset SCM status when changing OakTextView’s document
sorbits,2018-11-19 02:39:17,https://api.github.com/repos/textmate/textmate/git/commits/180dfb971fcf2546160c20983725542e7ba8afed,180dfb971fcf2546160c20983725542e7ba8afed,"Make document window controller’s document array a read only property

This is because we may sometimes want to enable implicit animations when updating this property, by making it read-only we limit places from where it can be updated, to make it easier to audit the code.

Currently no-one outside the class actually uses the property, so we could (and may) make it private."
sorbits,2018-11-17 13:20:55,https://api.github.com/repos/textmate/textmate/git/commits/79172d552ed8d89c883874e2436f4b5ee6ba1729,79172d552ed8d89c883874e2436f4b5ee6ba1729,Set controlSize on NSControl instead of its cell
sorbits,2018-11-17 04:30:09,https://api.github.com/repos/textmate/textmate/git/commits/ffba605cc194cc3398ee5a7aa2a4137e5145a7e8,ffba605cc194cc3398ee5a7aa2a4137e5145a7e8,"Do not call abort for posix_spawn related failures

Based on crash reports, some of these functions do fail in practice, mainly due to “too many open file descriptors”, in which case we should let the io::spawn function fail, rather than crash the program.

The io::spawn function is used (amongst others) to update SCM status, so a failure is not always worth notifying the user about (beyond logging an error)."
sorbits,2018-11-16 07:07:23,https://api.github.com/repos/textmate/textmate/git/commits/01aa28cc820d2857a9c57afd88dab182e336bcbe,01aa28cc820d2857a9c57afd88dab182e336bcbe,Convert “count of items” font in filter dialogs to use monospaced digits
sorbits,2018-11-16 05:14:53,https://api.github.com/repos/textmate/textmate/git/commits/f14da2a5092f167b24558af524987eb061b08b6a,f14da2a5092f167b24558af524987eb061b08b6a,Convert font used for line number in status bar to use monospaced digits
sorbits,2018-11-16 05:10:23,https://api.github.com/repos/textmate/textmate/git/commits/b6f9be7faebc995b2932339253aede81dea726f3,b6f9be7faebc995b2932339253aede81dea726f3,Introduce statusBarFontSize user defaults key and increase default size
sorbits,2018-11-16 05:04:54,https://api.github.com/repos/textmate/textmate/git/commits/f2c42b0646811fe39524a89593cc1972cf99da60,f2c42b0646811fe39524a89593cc1972cf99da60,"Do not limit width of “Tab Size” pop-up in status bar

Not sure why the width of this control has been limited as the content of the pop-up is somewhat fixed (unlike e.g. the grammar or symbol pop-ups, which can contain extremely wide entries)."
sorbits,2018-11-16 04:58:01,https://api.github.com/repos/textmate/textmate/git/commits/13ef865561cde385cda3df67e26a1ddaf51c1f33,13ef865561cde385cda3df67e26a1ddaf51c1f33,Simplify layout code using NSLayoutFormatAlignAllTop
sorbits,2018-11-16 04:26:37,https://api.github.com/repos/textmate/textmate/git/commits/f95c68475d367a0e65696b0bee062188836b3273,f95c68475d367a0e65696b0bee062188836b3273,Use systemFontSizeForControlSize: when changing button’s control size
sorbits,2018-11-16 04:18:36,https://api.github.com/repos/textmate/textmate/git/commits/43c035281022cedb9fc48474d174cdd8382295bb,43c035281022cedb9fc48474d174cdd8382295bb,"Move OakCreateStatusBarPopUpButton to OTVStatusBar.mm

No other status bar uses pop-up buttons and I don’t foresee them doing so."
sorbits,2018-11-16 04:11:11,https://api.github.com/repos/textmate/textmate/git/commits/36652c8afaef1069750a7a71f458659e22b87e5c,36652c8afaef1069750a7a71f458659e22b87e5c,"Some changes for Find dialog’s status text on 10.14

The empty status text had a smaller fitting size than when it contained text, causing the UI to resize a few pixels. Fixed by setting the initial value of the button to a space.

The color of the text has been set to controlContentColor which is slightly dimmed (when used in this context), but which caused the text to be highlighted when clicked, even when there was no alternate title. Fixed by always setting the alternate title.

The size of the button is now set to a small button without making any font changes: This means the font is 12 point instead of 11 point, but with the slightly dimmed text color, I think this is appropriate."
sorbits,2018-11-15 16:32:14,https://api.github.com/repos/textmate/textmate/git/commits/62e1c0e4919d9524e40f0316f21dc4fcc856096b,62e1c0e4919d9524e40f0316f21dc4fcc856096b,Use non-deprecated API to create property lists from data
sorbits,2018-11-15 16:10:25,https://api.github.com/repos/textmate/textmate/git/commits/0df1795f2799ab175043d4cc8af8f3e6b3c8f8f6,0df1795f2799ab175043d4cc8af8f3e6b3c8f8f6,"Use isAccessibilityElement instead of accessibilityIsIgnored

The latter is deprecated starting with 10.10."
sorbits,2018-11-15 16:02:30,https://api.github.com/repos/textmate/textmate/git/commits/ae0fc82f879366e6730f7fcb10a2582f8567ed46,ae0fc82f879366e6730f7fcb10a2582f8567ed46,fixup! Use NSVisualEffectMaterialToolTip for tool tips on 10.14
sorbits,2018-11-15 15:01:41,https://api.github.com/repos/textmate/textmate/git/commits/99f7aff714a85572c41adb00b8f3ea13361bbbd6,99f7aff714a85572c41adb00b8f3ea13361bbbd6,Use BSD time functions instead of deprecated CFGregorianDate
sorbits,2018-11-15 09:40:25,https://api.github.com/repos/textmate/textmate/git/commits/89404715f3a744169e21e8275ec6d9f3cb52594f,89404715f3a744169e21e8275ec6d9f3cb52594f,"Tweak layout of action buttons in file browser

Avoid setting explicit size of the image buttons and do not stretch the buttons to full height, except for reload, as that image seems to use a different size as our other buttons, and therefor doesn’t align properly."
sorbits,2018-11-15 09:38:07,https://api.github.com/repos/textmate/textmate/git/commits/1022be1548a911885782681b27de3eb1f2b80474,1022be1548a911885782681b27de3eb1f2b80474,"Use NSButton/NSTextField convenience constructors on 10.12

The convenience constructors initializes several additional properties and should be future compatible.

It’s not ideal to have two code paths to construct the UI, but these helper functions should have stabilized by now and will soon be dropped, so this commit also serves to ensure that our UI works with the new convenience constructors."
sorbits,2018-11-15 09:28:54,https://api.github.com/repos/textmate/textmate/git/commits/fe667ba01dad62b2ea9a7e8160570b9f46501c8d,fe667ba01dad62b2ea9a7e8160570b9f46501c8d,"Do not set button’s hugging priority in OakCreateButton

We generally do want buttons to hug their content, but as long as there is flexible space in the layout, they should act as desired, as the flexible will get the superfluousness width/height.

I checked several dialogs and found none that breaks with this change, presumably it was required for some layout that no longer exists."
sorbits,2018-11-15 09:17:21,https://api.github.com/repos/textmate/textmate/git/commits/efde68385feb2215ed849ab4ab97a76e64417081,efde68385feb2215ed849ab4ab97a76e64417081,Remove unnecessary property
sorbits,2018-11-15 09:13:04,https://api.github.com/repos/textmate/textmate/git/commits/61c4b3d1148d116fed5cf077af02cc144d20b6db,61c4b3d1148d116fed5cf077af02cc144d20b6db,"Use secondaryLabelColor for text in status bar

Apple has changed the style of borderless controls to use slightly dimmed text color, presumably to use the non-dimmed color when being pressed.

To match this we use the secondaryLabelColor for text, but ideally we should find a solution that does not rely on assumptions about the text color used by the controls."
sorbits,2018-11-15 09:08:29,https://api.github.com/repos/textmate/textmate/git/commits/9d147c0218c05ed7e0c0f369f0f68585511edf32,9d147c0218c05ed7e0c0f369f0f68585511edf32,Do not pass default value for argument to OakCreateButton
sorbits,2018-11-15 09:06:49,https://api.github.com/repos/textmate/textmate/git/commits/7d6b93c58fc26505b709e1e60fdb5cfe485f01e6,7d6b93c58fc26505b709e1e60fdb5cfe485f01e6,Remove unused functions
sorbits,2018-11-15 05:57:32,https://api.github.com/repos/textmate/textmate/git/commits/17eb20d4bcdc70b8a7ce97ae81ea008e1a41ca9f,17eb20d4bcdc70b8a7ce97ae81ea008e1a41ca9f,Remove support for OakBackgroundFillViewStyleStatusBar
sorbits,2018-11-15 05:50:18,https://api.github.com/repos/textmate/textmate/git/commits/930619d6e7335ab101f13d9e09466b4caceeb354,930619d6e7335ab101f13d9e09466b4caceeb354,"Make NSVisualEffectView the superview of our status bars

The result is the same though with the NSVisualEffectView being a superview, a subview can query the interiorBackgroundStyle to affect rendering."
sorbits,2018-11-15 05:47:06,https://api.github.com/repos/textmate/textmate/git/commits/7f794f618d186177407be577a44a72aba5aecebb,7f794f618d186177407be577a44a72aba5aecebb,Remove drawRect: overload as we no longer change contentBorderThickness
sorbits,2018-11-15 05:49:06,https://api.github.com/repos/textmate/textmate/git/commits/727e4e626f8708210c096cbfda68fdf182f5fddf,727e4e626f8708210c096cbfda68fdf182f5fddf,"Do not set contentBorderThickness for HTML output view

This is no longer required due to using an NSVisualEffectView for the status bar."
sorbits,2018-11-15 05:17:33,https://api.github.com/repos/textmate/textmate/git/commits/a0ac9c9a921c85910110fe795b95342e0e06f0df,a0ac9c9a921c85910110fe795b95342e0e06f0df,"Let NSScrollView draw border above/below search results

This requires clipping the left/right border of the scroll view (using a narrow superview), which is something I have avoided since Interface Builder has a warning about “view is clipping its content” and I seem to recall there being some issues with drawing focus ring around clipped views in the past, but as we are not using a xib nor drawing a focus ring around the NSScrollView being clipped, this approach should be OK.

The advantage is of course that we ensure system colors for the borders."
sorbits,2018-11-15 04:36:40,https://api.github.com/repos/textmate/textmate/git/commits/c03b22b230510addc5beb9c88882d8153bec3652,c03b22b230510addc5beb9c88882d8153bec3652,"Use layout constraints for the centered small checkbox in search results

If creating the checkbox using the NSButton convenience constructor introduced in 10.13 then the existing code had the box sized incorrectly, so this commit is to make the code more robust against a future switch to the convenience constructors."
sorbits,2018-11-15 04:34:40,https://api.github.com/repos/textmate/textmate/git/commits/af3e3fb0c3b6a405bf5f22cc743e5c4b2fda283e,af3e3fb0c3b6a405bf5f22cc743e5c4b2fda283e,Add margin around the “Show Hidden Files” checkbox in file open panel
sorbits,2018-11-15 04:28:54,https://api.github.com/repos/textmate/textmate/git/commits/414e516ea94ff31527ea94c8b19c551d00efe3d6,414e516ea94ff31527ea94c8b19c551d00efe3d6,"Do not use NSBackgroundStyleRaised for views in file browser header

It does not appear to have any effect and is probably (semantically) wrong now that buttons are placed on “header” material (on 10.14)."
sorbits,2018-11-15 04:25:54,https://api.github.com/repos/textmate/textmate/git/commits/77280a8ebf4a622b08b38c33f0d37fbb1ecfed51,77280a8ebf4a622b08b38c33f0d37fbb1ecfed51,"Since we center views in file browser header there is no need to stretch

Previously we stretched the views to full height (minus bottom divider) and relied on the views to then center their content, but the back/forward images were not properly aligned (at least on 10.14)."
sorbits,2018-11-15 04:22:16,https://api.github.com/repos/textmate/textmate/git/commits/3c9d2950175c1a10f2b03466204029510e884491,3c9d2950175c1a10f2b03466204029510e884491,"Use a divider with a flat appearance

Closes #1425"
sorbits,2018-11-14 08:54:02,https://api.github.com/repos/textmate/textmate/git/commits/21d003ebc80c152b74d79df078bc9ec5802a9455,21d003ebc80c152b74d79df078bc9ec5802a9455,File browser view was only observing changes to user defaults on 10.14
sorbits,2018-11-14 08:52:48,https://api.github.com/repos/textmate/textmate/git/commits/7c52308785825f2469dbc42d17f473e638e34d02,7c52308785825f2469dbc42d17f473e638e34d02,Use systemRedColor instead of redColor (10.10)
sorbits,2018-11-14 04:37:47,https://api.github.com/repos/textmate/textmate/git/commits/c235a61ecaa4e3f4b8645aa81ac18922239de6e4,c235a61ecaa4e3f4b8645aa81ac18922239de6e4,Do not enable blending of file browser header until 10.14
sorbits,2018-11-14 04:05:49,https://api.github.com/repos/textmate/textmate/git/commits/b9174f2e8726cfd522fc438e751794eb86071771,b9174f2e8726cfd522fc438e751794eb86071771,Checkin release notes for 2.0-rc.18
rdwampler,2018-11-14 18:13:23,https://api.github.com/repos/textmate/textmate/git/commits/9fe62089efe90ad4ea046b8128b89a6b5a92b1a5,9fe62089efe90ad4ea046b8128b89a6b5a92b1a5,"Remove forward declarations for macOS 10.12 SDK

Although our minimum target is 10.10, we currently (dd41b992f70e66aac122e8a8479c65365d1375ab) only support compiling with Xcode 9, which has the macOS 10.13 SDK."
rdwampler,2018-11-14 18:07:24,https://api.github.com/repos/textmate/textmate/git/commits/a7339d38609ec63295b79674999c1be2d1bcabcd,a7339d38609ec63295b79674999c1be2d1bcabcd,Add some more forward declarations for macOS 10.14 SDK
rdwampler,2018-11-13 21:41:49,https://api.github.com/repos/textmate/textmate/git/commits/444c17f7bf46bd9d73ab6e081463cff9556ef9bc,444c17f7bf46bd9d73ab6e081463cff9556ef9bc,Check the correct return value (-1) when item is not found
sorbits,2018-11-12 12:58:48,https://api.github.com/repos/textmate/textmate/git/commits/b1ae800fdc8c3725aaf580409398301b7ca2e851,b1ae800fdc8c3725aaf580409398301b7ca2e851,Show an alert if version control information is unavailable
sorbits,2018-11-12 12:30:05,https://api.github.com/repos/textmate/textmate/git/commits/d27c779c60cde1089ac6cdb68b764174eaabb2a1,d27c779c60cde1089ac6cdb68b764174eaabb2a1,"Use window color behind file browser (instead of blur)

At least on 10.14 the window color is neither black (in dark mode) nor white (in light mode) and thus works well to give some contrast to the main text view."
sorbits,2018-11-12 12:19:01,https://api.github.com/repos/textmate/textmate/git/commits/c725d60b6cc7ce8e3c07c2d125f2608f159e7522,c725d60b6cc7ce8e3c07c2d125f2608f159e7522,"Delay centering selected file browser row till next event loop cycle

Without this, it would sometimes fail when the outline view had to reload and expand items, presumably because updating the frame of the outline view (after reloading/expanding items) is not “instant”."
sorbits,2018-11-12 12:16:14,https://api.github.com/repos/textmate/textmate/git/commits/58aaf3622513322f5293ba47fce4a4b2b887490c,58aaf3622513322f5293ba47fce4a4b2b887490c,"Provide a default include glob for file browser

This is not relevant for TextMate, but when the file browser is used in other contexts, it would previously show hidden files, as there was no default include pattern to limit files to only those matching `*`."
sorbits,2018-11-12 12:15:12,https://api.github.com/repos/textmate/textmate/git/commits/f92d36571a337b37b6bae80bac6f2185009108d4,f92d36571a337b37b6bae80bac6f2185009108d4,"Use DISPATCH_APPLY_AUTO instead of explicit global queue

This is “strongly recommended” (according to `man dispatch_apply`) and should work on 10.9 and later (according to a WWDC session)."
sorbits,2018-11-10 08:31:54,https://api.github.com/repos/textmate/textmate/git/commits/162c499e914f29e47e1d46fc218d90bf54667b2b,162c499e914f29e47e1d46fc218d90bf54667b2b,No need to set view’s next responder to its view controller (10.10)
sorbits,2018-11-09 06:57:06,https://api.github.com/repos/textmate/textmate/git/commits/1f97f479e7af42d801f12448d3e3e99196b4c2b8,1f97f479e7af42d801f12448d3e3e99196b4c2b8,Update CoreText constants to use “modern” names
sorbits,2018-11-08 17:32:17,https://api.github.com/repos/textmate/textmate/git/commits/ee0448a876081c530d6172cc19428b5dba97e5e5,ee0448a876081c530d6172cc19428b5dba97e5e5,Update dialog plug-in (Use NSVisualEffectView for Dialog’s pop-up menu)
sorbits,2018-11-08 16:05:43,https://api.github.com/repos/textmate/textmate/git/commits/9d9d7707c92dd2196060ceb26ea2d3f4936b9d4b,9d9d7707c92dd2196060ceb26ea2d3f4936b9d4b,"Use NSVisualEffectMaterialToolTip for tool tips on 10.14

For Dark Mode we enable the text field’s bezel to match how native tool tips looks."
sorbits,2018-11-08 02:33:13,https://api.github.com/repos/textmate/textmate/git/commits/f4f517761362163735d1c053c370fa2393d90cf9,f4f517761362163735d1c053c370fa2393d90cf9,"Use a CALayer for our zooming icon animation

This should ensure smooth animation even when the CPU load is high (which it often is when opening files)."
sorbits,2018-11-07 08:18:00,https://api.github.com/repos/textmate/textmate/git/commits/38f892b49612420747ef5ddffbf4cf1c32274a13,38f892b49612420747ef5ddffbf4cf1c32274a13,Use values from NSWindow to calculate the cascade offset for new windows
sorbits,2018-11-07 08:15:01,https://api.github.com/repos/textmate/textmate/git/commits/e830f6600c6ee897df604457ee1adb817dc94538,e830f6600c6ee897df604457ee1adb817dc94538,"Hide tab bar view using the view controller’s hidden property (10.12)

For users on an OS earlier than 10.12, the tab bar will always be visible, even when configured to not show for windows with only a single document (tab)."
sorbits,2018-11-07 08:25:53,https://api.github.com/repos/textmate/textmate/git/commits/6aaa1df99bcead32fcb8a1705072d2475d425119,6aaa1df99bcead32fcb8a1705072d2475d425119,Do not let the tab bar itself handle expanded/collapsed state
sorbits,2018-11-06 13:46:59,https://api.github.com/repos/textmate/textmate/git/commits/35f1312f9a86a61998cfeca69d64d9f2d5925e25,35f1312f9a86a61998cfeca69d64d9f2d5925e25,"Remove UI setting for having tabs “Extend to the width of the window”

This is now the only way to have the tabs shown."
sorbits,2018-11-06 13:01:34,https://api.github.com/repos/textmate/textmate/git/commits/5b686f66e80b7815d6f02d717cf1dce8a10b0f4d,5b686f66e80b7815d6f02d717cf1dce8a10b0f4d,Set default light/dark themes when enabling changeThemeBasedOnAppearance
sorbits,2018-11-06 12:59:56,https://api.github.com/repos/textmate/textmate/git/commits/c288adf9823648cd699712cefb428f0e952d2cec,c288adf9823648cd699712cefb428f0e952d2cec,Add a constant for the Twilight theme UUID
rdwampler,2018-11-02 19:11:04,https://api.github.com/repos/textmate/textmate/git/commits/cb5997717da7c3e29ea4462410acea8b50c6866d,cb5997717da7c3e29ea4462410acea8b50c6866d,"Allow switching themes based on the effective appearance

The feature is currently not exposed via the UI.

To enable set the changeThemeBasedOnAppearance defaults key to YES and assign the darkModeThemeUUID and universalThemeUUID default keys with the desired theme uuids to use in dark or light mode, respectively."
rdwampler,2018-11-02 19:10:27,https://api.github.com/repos/textmate/textmate/git/commits/d5c929dfaf563baaba0fd6258e835f857e2f3e88,d5c929dfaf563baaba0fd6258e835f857e2f3e88,Move theme relate methods out of the status bar delegate section
sorbits,2018-11-06 12:22:21,https://api.github.com/repos/textmate/textmate/git/commits/663a9a638aa4388a4786978a8c942ab6b51f026b,663a9a638aa4388a4786978a8c942ab6b51f026b,"Do not blend file browser content with header on 10.11 and earlier

Also disable the blurred background as it is mainly for dark mode, which was introduced in 10.14."
sorbits,2018-11-06 10:27:07,https://api.github.com/repos/textmate/textmate/git/commits/1e71ce0855fdede8a5736d6f6adfab2cbe3ba042,1e71ce0855fdede8a5736d6f6adfab2cbe3ba042,"Use hypot function to calculate mouse drag distance

Also update the threshold from 1.0 to 2.5 pixels, as that was already used a few other places, and a single pixel’s threshold seems low."
sorbits,2018-11-05 12:14:44,https://api.github.com/repos/textmate/textmate/git/commits/abcf28b517334eadc9c75cfbf2f8fe9e1b3ac787,abcf28b517334eadc9c75cfbf2f8fe9e1b3ac787,Replace macro recording image with red (flat) circle
sorbits,2018-11-05 11:24:45,https://api.github.com/repos/textmate/textmate/git/commits/1d41f708e08fd3f4bf8889b4b7520953725d3bc6,1d41f708e08fd3f4bf8889b4b7520953725d3bc6,Move tabs to title bar
sorbits,2018-11-05 10:52:29,https://api.github.com/repos/textmate/textmate/git/commits/5f63ee096b2e589bcf5d074543c952937a1996f7,5f63ee096b2e589bcf5d074543c952937a1996f7,"Remove ability to have file browser header in the tab bar

This style is not easily compatible with moving the tab bar view to the window title."
sorbits,2018-11-05 10:47:35,https://api.github.com/repos/textmate/textmate/git/commits/f242bd67e5bdb4fbb86607ccdfc2328c1566ab2b,f242bd67e5bdb4fbb86607ccdfc2328c1566ab2b,Use NSIsEmptyRect instead of comparing size to NSZeroSize
sorbits,2018-11-05 10:45:58,https://api.github.com/repos/textmate/textmate/git/commits/477d906399c588fca25bcb1783ebe5683c47af90,477d906399c588fca25bcb1783ebe5683c47af90,"Change accessibility label of folder pop-up button to “Current folder”

The system file dialog has this labelled as “where” but I think “current folder” is more appropriate."
sorbits,2018-11-04 04:41:16,https://api.github.com/repos/textmate/textmate/git/commits/d8b0801a63d6e721724066551f2085c90d0db3f6,d8b0801a63d6e721724066551f2085c90d0db3f6,"Update selected tab index when tab bar has no selected tab

Currently OakTabBarView defaults to selecting first tab, but we shouldn’t assume that."
sorbits,2018-11-03 14:53:18,https://api.github.com/repos/textmate/textmate/git/commits/1350c4c90481fcb32f6eb952ba293a27a1c0d0ac,1350c4c90481fcb32f6eb952ba293a27a1c0d0ac,"Send performClose: to window delegate instead of to OakTabBarView

This is in preparation of moving the tab bar view out of the window content view and into the titlebar."
sorbits,2018-11-03 14:26:57,https://api.github.com/repos/textmate/textmate/git/commits/a03c2afd6646266a4232c63cfa17b2ec55079f2f,a03c2afd6646266a4232c63cfa17b2ec55079f2f,Add missing include
sorbits,2018-11-03 08:41:35,https://api.github.com/repos/textmate/textmate/git/commits/10ef832b373b3af3f0fbd14050588113a3a07838,10ef832b373b3af3f0fbd14050588113a3a07838,Rename setSelectedTab: → setSelectedTabIndex:
sorbits,2018-11-03 07:43:47,https://api.github.com/repos/textmate/textmate/git/commits/5ac3a41d58f44394befd810813b29f96b2210fb7,5ac3a41d58f44394befd810813b29f96b2210fb7,Update OakScopeBarView to new accessibility API (10.10)
sorbits,2018-11-03 07:35:51,https://api.github.com/repos/textmate/textmate/git/commits/a12db33d86e0df6a3ad0e7739316e4e45bacf841,a12db33d86e0df6a3ad0e7739316e4e45bacf841,Update OakDocumentView to new accessibility API (10.10)
sorbits,2018-11-03 04:18:04,https://api.github.com/repos/textmate/textmate/git/commits/b05ef9d3f95797fe497e2d54050a8d77718149ec,b05ef9d3f95797fe497e2d54050a8d77718149ec,Limit public API of OakTabBarView
sorbits,2018-11-03 04:13:13,https://api.github.com/repos/textmate/textmate/git/commits/892a6072ae8d1cba0618d40595d32e5631c470dc,892a6072ae8d1cba0618d40595d32e5631c470dc,"Move OakTabBarStyle to own header

This allows us to make OakTabItemView.h a private header."
sorbits,2018-11-02 13:52:02,https://api.github.com/repos/textmate/textmate/git/commits/c5f1a6c098ade00a889ea25448d2a3d333318b7e,c5f1a6c098ade00a889ea25448d2a3d333318b7e,NSVisualEffectBlendingModeWithinWindow requires a layer backed view
sorbits,2018-11-02 09:35:26,https://api.github.com/repos/textmate/textmate/git/commits/8ba05fcf26018d8dda304127d0d7f6025dc09c91,8ba05fcf26018d8dda304127d0d7f6025dc09c91,Checkin release notes for 2.0-rc.15
sorbits,2018-11-02 09:31:49,https://api.github.com/repos/textmate/textmate/git/commits/1aa569cdf268f14c6bd6765105bc9924906d0f37,1aa569cdf268f14c6bd6765105bc9924906d0f37,"Draw a custom dash for removing find results and favorites

The NSImageNameRemoveTemplate looks bad in 10.14, and while there is some duplication in this commit, it’s so few lines that sharing this functionality would result in an increase of total number of lines."
sorbits,2018-11-02 07:52:44,https://api.github.com/repos/textmate/textmate/git/commits/d0f9f652f9837ae88c164f195ca9d6a071490c1f,d0f9f652f9837ae88c164f195ca9d6a071490c1f,"Let text/background color depend on effective appearance in about window

I was unable to update the CSS from Objective-C (using evaluateJavaScript:) which is why the content has to request the styles from the exposed TextMate object.

It would be best if this was implicit (which I know is easy with WKWebView, so better just migrate to WKWebView than fight more with WebView).

Though it is probably better to have separate style sheets for light and dark, eventually we may even be able to rely on media queries for the appearance."
sorbits,2018-11-02 05:10:18,https://api.github.com/repos/textmate/textmate/git/commits/74d77b9e59d5610811dd83c4726527e7bced502d,74d77b9e59d5610811dd83c4726527e7bced502d,Use NSBoxSeparator instead of configuring the border manually
sorbits,2018-11-02 04:00:02,https://api.github.com/repos/textmate/textmate/git/commits/51a3f899c497786eed51d16ef7ec005d7e5a9421,51a3f899c497786eed51d16ef7ec005d7e5a9421,"Use file browser’s icon support for the bundle item chooser

This is just for the custom dict file type icon (when showing keyboard layout entries)."
sorbits,2018-11-02 03:49:56,https://api.github.com/repos/textmate/textmate/git/commits/4c339ada629094b3c415aacff588cca6996aa366,4c339ada629094b3c415aacff588cca6996aa366,Let file browser scroll view extend behind its header
sorbits,2018-11-02 01:35:51,https://api.github.com/repos/textmate/textmate/git/commits/12d339cdb84f45a4740301a01a83deb73a6109a4,12d339cdb84f45a4740301a01a83deb73a6109a4,fixup! Don’t use textured windows for Open Quickly (⌘T) and friends
sorbits,2018-11-02 01:29:18,https://api.github.com/repos/textmate/textmate/git/commits/f3d8af5ca693e1458bb9305c4ee8d6bbd971697b,f3d8af5ca693e1458bb9305c4ee8d6bbd971697b,Use full size content view for pasteboard choosers
sorbits,2018-11-02 01:28:11,https://api.github.com/repos/textmate/textmate/git/commits/56acb17990e9fd111692b2d3c9f966fc63255dfe,56acb17990e9fd111692b2d3c9f966fc63255dfe,"Use full size content view for Open Quickly (⌘T) and friends

This make the content of the table view affect the background of the title/footer views."
sorbits,2018-11-02 01:26:22,https://api.github.com/repos/textmate/textmate/git/commits/14ae6019bf35cc9def18637e98b053794726bdcf,14ae6019bf35cc9def18637e98b053794726bdcf,Update all instances of accessibilitySetOverrideValue:forAttribute:
sorbits,2018-11-02 01:25:11,https://api.github.com/repos/textmate/textmate/git/commits/de48a1f250457edd90127d3ee3b18c7d0871ab71,de48a1f250457edd90127d3ee3b18c7d0871ab71,"Patch (rather than replace) the key view loop when replacing views

Also set the new key view loop as initial first responder, as we activate that view in showWindow."
sorbits,2018-11-02 01:23:37,https://api.github.com/repos/textmate/textmate/git/commits/3a16ca1bf0e39ba1c5b14798c4b8e7ef1a5178a5,3a16ca1bf0e39ba1c5b14798c4b8e7ef1a5178a5,Refactor OakChooser superclass
sorbits,2018-11-02 01:21:46,https://api.github.com/repos/textmate/textmate/git/commits/efd504e536da06f9cd57a4040204663c43b44ca8,efd504e536da06f9cd57a4040204663c43b44ca8,Make OakChooser windows inherit from NSWindowController
sorbits,2018-11-02 01:21:20,https://api.github.com/repos/textmate/textmate/git/commits/239b46ce66cbf8414e91036aa181b2d4c2ee5588,239b46ce66cbf8414e91036aa181b2d4c2ee5588,"Change symbol chooser’s document property to TMDocument

This is to avoid issues with AppKit when changing OakChooser to be a subclass of NSWindowController, as NSWindowController already has a document property and makes some assumptions about this.

I picked TMDocument over oakDocument only because I wasn’t sure how to capitalize the latter for getter/setter."
sorbits,2018-11-02 01:20:46,https://api.github.com/repos/textmate/textmate/git/commits/709570049fd664fd55ea01661406c6ed0149152f,709570049fd664fd55ea01661406c6ed0149152f,Make OakPasteboardChooser be an NSWindowController subclass
rdwampler,2018-11-01 20:34:27,https://api.github.com/repos/textmate/textmate/git/commits/3c56208329adf4c163a1e96698e774b0c7e2aa93,3c56208329adf4c163a1e96698e774b0c7e2aa93,Use dynamic colors for the background and text in OakKeyEquivalentView
sorbits,2018-11-01 11:21:47,https://api.github.com/repos/textmate/textmate/git/commits/6419bec6ce9891e4f7e9552bee2ab550b1005d1d,6419bec6ce9891e4f7e9552bee2ab550b1005d1d,"Make the table view in pasteboard history a “full size content view”

This makes the content of the table view scroll behind the title bar and footer."
sorbits,2018-11-01 08:39:16,https://api.github.com/repos/textmate/textmate/git/commits/bcda0d277437d55729fdb8dbd216a4e84560377d,bcda0d277437d55729fdb8dbd216a4e84560377d,"Use visual effect view for snippet pop-up menu (10.11)

On 10.14 we use the “behind window” blending mode as we’d prefer the background to differ from that of the text view itself, though I am not seeing much of a difference here."
sorbits,2018-11-01 08:23:48,https://api.github.com/repos/textmate/textmate/git/commits/3d829d665664220a7d5f998944ffa3904d2cd429,3d829d665664220a7d5f998944ffa3904d2cd429,Make OakChoiceMenu an NSWindowController subclass
sorbits,2018-11-01 08:21:17,https://api.github.com/repos/textmate/textmate/git/commits/2d0837aad5035c05d9fb6fc076284b1e34bab46a,2d0837aad5035c05d9fb6fc076284b1e34bab46a,Prefix instance variables with underscore in OakChoiceMenu
sorbits,2018-11-01 07:43:41,https://api.github.com/repos/textmate/textmate/git/commits/80681fc6a4e42adeb95790d2b28c8daeecb1d937,80681fc6a4e42adeb95790d2b28c8daeecb1d937,Add NSVisualEffectView behind file browser when running on 10.11
sorbits,2018-11-01 05:06:04,https://api.github.com/repos/textmate/textmate/git/commits/6c7276235ec8043e17a29acf4a15c59322a6c10a,6c7276235ec8043e17a29acf4a15c59322a6c10a,Checkin release notes for 2.0-rc.14
sorbits,2018-11-01 04:49:01,https://api.github.com/repos/textmate/textmate/git/commits/e2b0d44ce2d1aae8613c644ca2447c91e2152f0d,e2b0d44ce2d1aae8613c644ca2447c91e2152f0d,Do not open document in existing project if option key is down
sorbits,2018-11-01 04:24:15,https://api.github.com/repos/textmate/textmate/git/commits/37176f601cf41ee4f94519707943a980350f8d79,37176f601cf41ee4f94519707943a980350f8d79,"Put additional Select Next/Previous Tab shortcuts in main menu (10.13)

These are added as hidden items and do make the menu flash, when the keys are used."
sorbits,2018-10-31 17:16:04,https://api.github.com/repos/textmate/textmate/git/commits/75624f7df9cb35cad4f50b73116975938f0fefc0,75624f7df9cb35cad4f50b73116975938f0fefc0,"Automatically set “allows key equivalents when hidden” for hidden items

This is limited to hidden items that have a key equivalent assigned to them, although if they don’t, there is probably no harm in enabling this option."
sorbits,2018-10-31 17:09:05,https://api.github.com/repos/textmate/textmate/git/commits/1cbaf0561552eaa05127ffc022c192e28fab8f2d,1cbaf0561552eaa05127ffc022c192e28fab8f2d,"Set titlebarAppearsTransparent for main window

This makes the title bar render in the same color as it did prior to building on 10.14, so that the current tab colors match.

It does however make sheets appear from “above” the title bar and makes the Dark Mode style darker, so this is just an intermediate fix until the tab bar gets revamped for 10.14."
sorbits,2018-10-31 16:21:33,https://api.github.com/repos/textmate/textmate/git/commits/c9618f8eb18dd3099afd44f14c29005ab15fdacc,c9618f8eb18dd3099afd44f14c29005ab15fdacc,"Exception was thrown when requesting icon for document with no path

This could happen when doing “Find All” for an untitled document, as the find dialog uses the document’s icon in the search results."
sorbits,2018-10-31 16:10:18,https://api.github.com/repos/textmate/textmate/git/commits/4e5f5f71a2715bb8f7b4af68e4a3c295e72a12f6,4e5f5f71a2715bb8f7b4af68e4a3c295e72a12f6,Use beginSheetModalForWindow:completionHandler: over deprecated API
sorbits,2018-10-31 16:08:33,https://api.github.com/repos/textmate/textmate/git/commits/00d4c4f23a956c3ed3611159abbcbfc9b9ff006d,00d4c4f23a956c3ed3611159abbcbfc9b9ff006d,Update constant names for 10.10
sorbits,2018-10-31 16:07:52,https://api.github.com/repos/textmate/textmate/git/commits/96d1220e63216593793613952ddb923b8fbc3a82,96d1220e63216593793613952ddb923b8fbc3a82,Use self.window instead of accessing instance variable of superclass
sorbits,2018-10-31 14:41:43,https://api.github.com/repos/textmate/textmate/git/commits/dd41b992f70e66aac122e8a8479c65365d1375ab,dd41b992f70e66aac122e8a8479c65365d1375ab,Assume @available directive is available (Xcode 9)
sorbits,2018-10-31 09:52:55,https://api.github.com/repos/textmate/textmate/git/commits/4d82e4b109d353a565db3589138d7dcba3fa8fb6,4d82e4b109d353a565db3589138d7dcba3fa8fb6,Remove XcodeEditor submodule
sorbits,2018-10-31 09:45:40,https://api.github.com/repos/textmate/textmate/git/commits/04b369f703196f0a4ec51208f594b102a7fa04ce,04b369f703196f0a4ec51208f594b102a7fa04ce,Update MGScopeBar submodule: Have MGScopeBar opt out of Dark Mode
sorbits,2018-10-31 03:32:46,https://api.github.com/repos/textmate/textmate/git/commits/48605ef4e99a0e0490c10f1c567c6d4529b93e99,48605ef4e99a0e0490c10f1c567c6d4529b93e99,"The bundle selection menu now uses same appearance as the calling view

Only when there are no open windows, and the user is triggering the bundle item selection menu, will it default to the light aqua appearance."
sorbits,2018-10-30 17:52:26,https://api.github.com/repos/textmate/textmate/git/commits/e8a3cb8f57bdb8e491e42f3d985c694ba9afc263,e8a3cb8f57bdb8e491e42f3d985c694ba9afc263,"Do not use OakFileIconImage for menu items and recent projects

On macOS 10.14 this image doesn’t always render, so this is a temporary workaround.

The main advantage of using OakFileIconImage is the added SCM badge and custom icon for known file types."
sorbits,2018-10-30 17:50:08,https://api.github.com/repos/textmate/textmate/git/commits/e7d87af3f50cea5d284d419235787343ca27c437,e7d87af3f50cea5d284d419235787343ca27c437,"Remove unused include of OakFileIconImage.h

This should have been removed in commit 584cadfc17e11cc606cfc2f5a0e21ae618432357."
sorbits,2018-10-30 17:28:49,https://api.github.com/repos/textmate/textmate/git/commits/5933be295b788633ec58bb6c25417f9cdbf2aed8,5933be295b788633ec58bb6c25417f9cdbf2aed8,"Move search fields to title bar in pasteboard history dialogs

Also change divider colors to use standard separator color."
sorbits,2018-10-30 17:07:14,https://api.github.com/repos/textmate/textmate/git/commits/ef7211a0934ab3b4007e65ca2265b6a21b712227,ef7211a0934ab3b4007e65ca2265b6a21b712227,Use semantic colors for find dialog history pop-up list
sorbits,2018-10-30 14:22:13,https://api.github.com/repos/textmate/textmate/git/commits/fa5e3cf8695da1e5ca0b866c79ee9e8e4ddd7b7c,fa5e3cf8695da1e5ca0b866c79ee9e8e4ddd7b7c,"Remove custom NSCell subclass used for file browser’s folder pop-up

The purpose was to render text with a shadow and fade the text when the window is inactive, but the former has not been used since 10.10 and the latter doesn’t actually seem to work."
sorbits,2018-10-30 13:53:10,https://api.github.com/repos/textmate/textmate/git/commits/392c1ae954cedf5f6aac06acf43b15ec40de1fe0,392c1ae954cedf5f6aac06acf43b15ec40de1fe0,"Use separatorColor dividers in Open Quickly (⌘T) and friends

Not too fond of how this looks in Dark Mode but I think it’s better than the previous colors, which stem from back when the window had more of a 3D look."
sorbits,2018-10-30 13:46:55,https://api.github.com/repos/textmate/textmate/git/commits/8f32a740b356ba80864f2c66c070cc2e274197f6,8f32a740b356ba80864f2c66c070cc2e274197f6,"Don’t use textured windows for Open Quickly (⌘T) and friends

When building on 10.14 the textured window look does not provide a borderless title bar look as the window content is lighter than the title bar.

The solution is to move the search controls to the title bar, which is possible starting with 10.10."
sorbits,2018-10-30 13:13:33,https://api.github.com/repos/textmate/textmate/git/commits/c50d92ba56368f549e5044cf56970da7731860e8,c50d92ba56368f549e5044cf56970da7731860e8,Set tool tip text color to black
sorbits,2018-10-30 11:52:30,https://api.github.com/repos/textmate/textmate/git/commits/c21387adfb44997c48f27edf1491ba9f6fec5e75,c21387adfb44997c48f27edf1491ba9f6fec5e75,Selecting file outside project (⌃⌘R) would fail
sorbits,2018-10-30 09:12:10,https://api.github.com/repos/textmate/textmate/git/commits/584cadfc17e11cc606cfc2f5a0e21ae618432357,584cadfc17e11cc606cfc2f5a0e21ae618432357,"Use file browser’s image class for document icons

On 10.14 the OakFileIconImage has issues (most instances show up as blank)."
sorbits,2018-10-30 09:10:51,https://api.github.com/repos/textmate/textmate/git/commits/9b70e273d59469061de803daf424ad548580a59c,9b70e273d59469061de803daf424ad548580a59c,"Make new file browser’s CreateIconImageForURL public API

Ideally I would like to have the FileItem class be the public API, as that will then take care of updating the icon’s SCM status etc., current commit is just a temporary fix for missing document icons on 10.14."
sorbits,2018-10-30 08:31:48,https://api.github.com/repos/textmate/textmate/git/commits/6acbbca23c47e24c6abd20537fcd703408dca3d0,6acbbca23c47e24c6abd20537fcd703408dca3d0,Use textColor and secondaryLabelColor for find in folder results
sorbits,2018-10-30 08:29:16,https://api.github.com/repos/textmate/textmate/git/commits/9271a0cbb562be74432e04e74e565faa873084cb,9271a0cbb562be74432e04e74e565faa873084cb,"Use semantic color for image shown when holding command in find results

This required switching to using a block-based image as we cannot use adaptive colors when pre-rendering images."
sorbits,2018-10-30 06:46:34,https://api.github.com/repos/textmate/textmate/git/commits/82de01589f8dc01b5336637df618f5408c87e0ca,82de01589f8dc01b5336637df618f5408c87e0ca,Update deployment target of all xib files to 10.10
sorbits,2018-10-30 06:45:38,https://api.github.com/repos/textmate/textmate/git/commits/fd0ef648e10a90759745425ea2a4974dbe25c4fb,fd0ef648e10a90759745425ea2a4974dbe25c4fb,Show as many parents as required to disambiguate file browser items
sorbits,2018-10-30 05:41:49,https://api.github.com/repos/textmate/textmate/git/commits/0c0e9288bc0b49eb4eb768138b13f68dd74beece,0c0e9288bc0b49eb4eb768138b13f68dd74beece,Remove code and graphics for rendering tabs prior to 10.10
sorbits,2018-10-30 05:31:51,https://api.github.com/repos/textmate/textmate/git/commits/e6ae59976b810a7dc05d806194b70f838b2d5cfd,e6ae59976b810a7dc05d806194b70f838b2d5cfd,Remove most of our 10.10 compatibility checks
sorbits,2018-10-30 04:51:01,https://api.github.com/repos/textmate/textmate/git/commits/aa674c08b7220d76436192c42001321fee2c4fef,aa674c08b7220d76436192c42001321fee2c4fef,Guard against no file browser root item when updating modified/open URLs
sorbits,2018-10-29 15:10:23,https://api.github.com/repos/textmate/textmate/git/commits/56c7e34f74210c18e8d6c4724342a2e756e9d272,56c7e34f74210c18e8d6c4724342a2e756e9d272,Checkin release notes for 2.0-rc.11
rdwampler,2018-10-29 19:00:56,https://api.github.com/repos/textmate/textmate/git/commits/18c8d1685cc19ef68f1619c72425c7e05225ab44,18c8d1685cc19ef68f1619c72425c7e05225ab44,Guard against an empty string
sorbits,2018-10-29 13:51:09,https://api.github.com/repos/textmate/textmate/git/commits/bad84bd51113e5a630571b92cf4d5cb7f97264ac,bad84bd51113e5a630571b92cf4d5cb7f97264ac,"Tweak how we throttle fetching SCM status

When we observe a change on disk we will fetch status after 0.5 seconds if we are active, otherwise 3 seconds.

If we become active and have a pending update, we update immediately.

The reason for the delay is that the change on disk could be the version control system working, for example performing a rebase, and not all systems can gracefully handle requesting status when in the midst of such operation."
sorbits,2018-10-29 14:01:47,https://api.github.com/repos/textmate/textmate/git/commits/045fd33497eca97670a6b0c7483202ee483c2568,045fd33497eca97670a6b0c7483202ee483c2568,"Do not update user defaults in a background thread (queue)

Since observers of NSUserDefaultsDidChangeNotification will be called from the thread that triggered the change, we should only update user defaults from the main thread."
ThatsJustCheesy,2018-10-27 05:30:37,https://api.github.com/repos/textmate/textmate/git/commits/9baff6d7e1e535909564a7ff47f80b4b35a4a146,9baff6d7e1e535909564a7ff47f80b4b35a4a146,"Selectively apply BG colors in OakSyntaxFormatter

OakSyntaxFormatter now applies background colors only when they do not match the theme's global background color. The old behavior drew the background all the time, which looked off when drawing formatted text in the Find History list. This effect is made especially apparent by macOS 10.14's translucent combo boxes, and now that they're used for history in the Find dialog, this needed to be fixed."
sorbits,2018-10-29 12:48:06,https://api.github.com/repos/textmate/textmate/git/commits/0eb5250c265ab9babfcab0549c15af0b0bcaa210,0eb5250c265ab9babfcab0549c15af0b0bcaa210,Pass directory with changes to FSEvents observer
sorbits,2018-10-29 06:34:08,https://api.github.com/repos/textmate/textmate/git/commits/85d5bb3fbe032f66508f6782d826a4ca9d2778ae,85d5bb3fbe032f66508f6782d826a4ca9d2778ae,Fix indentation
sorbits,2018-10-29 04:47:13,https://api.github.com/repos/textmate/textmate/git/commits/694fc2b4b4e3393bd2c796928d6a94f18a4a2913,694fc2b4b4e3393bd2c796928d6a94f18a4a2913,"Update document’s match captures from find dialog

If user does a “Find All” and selects one of the results, previously performing a replace would not use the captures from the selected result."
sorbits,2018-10-29 04:44:07,https://api.github.com/repos/textmate/textmate/git/commits/8e31254f7028e044f2b62a9e3a8cb8ae737afb12,8e31254f7028e044f2b62a9e3a8cb8ae737afb12,"Store captures from last search with OakDocument instead of OakTextView

This both allows updating the captures from outside the text view (e.g. Find dialog) and it uses the correct captures if performing searches in multiple tabs with delayed replacements."
rdwampler,2018-10-29 03:57:39,https://api.github.com/repos/textmate/textmate/git/commits/05e61188eef1fa5ae52958b62b5eba88448a91a9,05e61188eef1fa5ae52958b62b5eba88448a91a9,"Change Select Previous/Next Tab key equivalents

⌃⇧⇥ and ⌃⇥ are the preferred system wide shortcuts for changing tabs. In order to avoid a disruptive change, the previous shortcuts are still supported (in fact, it appears that all apps using the system tabbing mechanism support the previous shortcuts as well)."
rdwampler,2018-10-29 02:53:15,https://api.github.com/repos/textmate/textmate/git/commits/14cd991a1db3fa4b09035658214b04d665cce689,14cd991a1db3fa4b09035658214b04d665cce689,"Move ""Select Previous Tab"" above ""Select Next Tab""

This makes the Window menu more consistent with system apps."
sorbits,2018-10-29 04:05:00,https://api.github.com/repos/textmate/textmate/git/commits/493620710b3dba0ef36c1659357baa2592a8677e,493620710b3dba0ef36c1659357baa2592a8677e,Avoid copying full status map for each file observer
sorbits,2018-10-29 03:59:12,https://api.github.com/repos/textmate/textmate/git/commits/2354a485ef589799d3cf2f77e0dd1e795ef8dfc5,2354a485ef589799d3cf2f77e0dd1e795ef8dfc5,Don’t call repositoryAtURL: when we already have a repository
sorbits,2018-10-29 03:53:32,https://api.github.com/repos/textmate/textmate/git/commits/82c0752c0f4e44bec2458267d2c0179e03d26c6f,82c0752c0f4e44bec2458267d2c0179e03d26c6f,Remove method from SCMManager only used by one client
sorbits,2018-10-29 03:49:14,https://api.github.com/repos/textmate/textmate/git/commits/c8beb6c23896333584f2de75e8fc5fe631bd29e9,c8beb6c23896333584f2de75e8fc5fe631bd29e9,Pass SCMRepository to observers (instead of status map)
sorbits,2018-10-29 03:38:01,https://api.github.com/repos/textmate/textmate/git/commits/553a2c5912536dc3818d652655b3d6c767ddf893,553a2c5912536dc3818d652655b3d6c767ddf893,Use SCMManager instead of scm framework for SCM status data source
sorbits,2018-10-29 03:36:22,https://api.github.com/repos/textmate/textmate/git/commits/4d3de192ced98a95f8c4c87982b6fa85b723634a,4d3de192ced98a95f8c4c87982b6fa85b723634a,"Let SCMManager use the SCM drivers directly

Currently SCMManager is not as conservative about refreshing SCM status, specifically SCM status was previously not updated when the application was inactive, the latency for updating was pretty high (3 seconds).

We do however need to check if there are actual changes, as at least in the past, calling `hg` even when there are no changes, may cause file system to be updated, which will trigger a new status refresh."
sorbits,2018-10-29 03:29:32,https://api.github.com/repos/textmate/textmate/git/commits/d5ea5d1d80a6da864e229e95948c731a2c3359f0,d5ea5d1d80a6da864e229e95948c731a2c3359f0,"Add symbolic link to scm drivers

The drivers include ../status.h so we need to link to that file as well."
sorbits,2018-10-29 02:27:31,https://api.github.com/repos/textmate/textmate/git/commits/82dda5588d60323168d15f73b05ae5cc73b7a1d5,82dda5588d60323168d15f73b05ae5cc73b7a1d5,Wrong URL got passed to SCMManager
sorbits,2018-10-28 16:03:32,https://api.github.com/repos/textmate/textmate/git/commits/1e5fdcbc09cec94803a97d185cd9b6f0cb64cefb,1e5fdcbc09cec94803a97d185cd9b6f0cb64cefb,Allow observing subdirectories with FSEventsManager
sorbits,2018-10-28 15:36:22,https://api.github.com/repos/textmate/textmate/git/commits/9f6d9d043ef7fb6b0dd38d3e5ed0dee07d948e22,9f6d9d043ef7fb6b0dd38d3e5ed0dee07d948e22,"Do not have FSEventsManager load directory contents

Originally we had FSEventsManager handle directory loading because it worked as a cache, but it’s better to move this to the client, as not all clients need the directory content, additionally it simplifies the cache invalidation (reload) and also moves the hardcoded list of URL keys to preload into the client, which should know which keys are desired."
sorbits,2018-10-28 09:51:33,https://api.github.com/repos/textmate/textmate/git/commits/f5e543dc77cb955aa79a3ed2243991b2b28ccc4a,f5e543dc77cb955aa79a3ed2243991b2b28ccc4a,Only allow observing full repository instead of “files with status”
sorbits,2018-10-28 09:43:17,https://api.github.com/repos/textmate/textmate/git/commits/9f9bb5e2553cb03a5f4483fbd547aae6068948da,9f9bb5e2553cb03a5f4483fbd547aae6068948da,Fix capitalization of URL in parentURL
sorbits,2018-10-28 08:54:04,https://api.github.com/repos/textmate/textmate/git/commits/a5c4b979d5d0d409bb2700dbc281927fdd9fc1c2,a5c4b979d5d0d409bb2700dbc281927fdd9fc1c2,Rename SCMRepository → SCMDirectory
sorbits,2018-10-28 08:05:31,https://api.github.com/repos/textmate/textmate/git/commits/3d350f2ec4be7a5f1f64a415fd1759f6328f8b1a,3d350f2ec4be7a5f1f64a415fd1759f6328f8b1a,Update link dependencies for new file browser framework
sorbits,2018-10-28 08:00:54,https://api.github.com/repos/textmate/textmate/git/commits/c14350dc98d88c03ffd352a9b7c09fc38134b205,c14350dc98d88c03ffd352a9b7c09fc38134b205,Move remaining code and resources from OakFileBrowser → FileBrowser
sorbits,2018-10-28 07:51:47,https://api.github.com/repos/textmate/textmate/git/commits/5449e2743066061b6e6956c87a747f15b43f08d5,5449e2743066061b6e6956c87a747f15b43f08d5,Move file item auxiliary views to new file browser framework
sorbits,2018-10-28 07:41:18,https://api.github.com/repos/textmate/textmate/git/commits/c8ea52f19cff4112506bfd4e2f45548b04d382d3,c8ea52f19cff4112506bfd4e2f45548b04d382d3,Move “select base name” cell subclass to new file browser framework
sorbits,2018-10-28 06:38:25,https://api.github.com/repos/textmate/textmate/git/commits/b0262c452c05b35228b835c9f1167bcc37223aab,b0262c452c05b35228b835c9f1167bcc37223aab,fixup! Switch to new file browser
sorbits,2018-10-28 06:36:33,https://api.github.com/repos/textmate/textmate/git/commits/0d75927528b43fd0e42f204ca52237e396d0faab,0d75927528b43fd0e42f204ca52237e396d0faab,Update OakFileBrowserDelegate protocol to new file browser controller
sorbits,2018-10-28 06:32:14,https://api.github.com/repos/textmate/textmate/git/commits/7cf482fe256f8c769a1222e237df074f77efac02,7cf482fe256f8c769a1222e237df074f77efac02,Rename notification constants
sorbits,2018-10-28 06:21:19,https://api.github.com/repos/textmate/textmate/git/commits/10bf1acf7839cebd6f07c35352111d613023419e,10bf1acf7839cebd6f07c35352111d613023419e,"Use display name instead of localized name for file browser location

The display name includes the “disambiguation suffix” which we set to “disabled” or “no status” for the SCM status file item."
sorbits,2018-10-28 06:13:03,https://api.github.com/repos/textmate/textmate/git/commits/c822943b931b3c2df06c7bd591efb96383ed2d2a,c822943b931b3c2df06c7bd591efb96383ed2d2a,Move OakFileBrowser delegate protocol and constants to new file browser
rdwampler,2018-10-20 15:26:10,https://api.github.com/repos/textmate/textmate/git/commits/b43abb13a62c0d38d446f11b909640c5278c470d,b43abb13a62c0d38d446f11b909640c5278c470d,Use a dynamic color for the dark divider style (10.14)
rdwampler,2018-10-18 18:46:27,https://api.github.com/repos/textmate/textmate/git/commits/62ee2f94bedfd0a7e5f223cf7d539fb25aace029,62ee2f94bedfd0a7e5f223cf7d539fb25aace029,"Add support for building Asset Catalogs

We compile all assets into one file that resides in the main app bundle so while we can have multiple asset catalogs (per Framework, etc.), individual assets should still be namespaced."
sorbits,2018-10-28 05:09:12,https://api.github.com/repos/textmate/textmate/git/commits/8e186231fd2075d8d22e1ea99b54b5fba1873842,8e186231fd2075d8d22e1ea99b54b5fba1873842,Fix typo in bin/gen_build
rdwampler,2018-10-20 15:12:45,https://api.github.com/repos/textmate/textmate/git/commits/e64b09b688c15441ea131a518c0a8ab3816a8de8,e64b09b688c15441ea131a518c0a8ab3816a8de8,"Introduce overloads for the new divider styles

Also, switch to use the new divider styles in most places. The remaining usage of the old ""OakCreateLine"" functions are in the OakChooser windows. These will be refactor for better dark mode support next."
rdwampler,2018-10-18 19:41:13,https://api.github.com/repos/textmate/textmate/git/commits/3b90855b986f91197d463bc33d9ce588ca907d7e,3b90855b986f91197d463bc33d9ce588ca907d7e,OakBackgroundFillView: Introduce styles for light and dark dividers
sorbits,2018-10-28 03:14:51,https://api.github.com/repos/textmate/textmate/git/commits/e6adecaf4e2f4f6001c1646793006bce5f3af84e,e6adecaf4e2f4f6001c1646793006bce5f3af84e,"Allow setting default find in folder globs with defaultFindInFolderGlobs

This is an array, example of setting the list:

    defaults write com.macromates.TextMate defaultFindInFolderGlobs '( ""{*,.tm_properties}"", ""*"" )'"
sorbits,2018-10-28 02:58:40,https://api.github.com/repos/textmate/textmate/git/commits/83a0d66563f30e061c026d39dbfca5e8eda70a99,83a0d66563f30e061c026d39dbfca5e8eda70a99,"Add some additional defaults for Filter Through Command

The ‘seq 100’ command is useful with columns selections / multiple insertion points to enumerate items."
sorbits,2018-10-28 02:55:43,https://api.github.com/repos/textmate/textmate/git/commits/7b4accc9e85fe60e5201317c048d17880cc7fd36,7b4accc9e85fe60e5201317c048d17880cc7fd36,Allow creating OakHistoryList with a user defaults fallback key
sorbits,2018-10-28 02:50:35,https://api.github.com/repos/textmate/textmate/git/commits/2c9a44e23cdbaed738abe470a583205a9fe7ad4a,2c9a44e23cdbaed738abe470a583205a9fe7ad4a,Refactor how we initialize OakHistoryList
sorbits,2018-10-28 02:14:25,https://api.github.com/repos/textmate/textmate/git/commits/f3a16e513b6a13af1039b52aceccac26949fa9ab,f3a16e513b6a13af1039b52aceccac26949fa9ab,Remove assertion that does not hold for malformed content
sorbits,2018-10-27 17:23:05,https://api.github.com/repos/textmate/textmate/git/commits/b57e784db5bb6562e570ad22508f604a80100775,b57e784db5bb6562e570ad22508f604a80100775,Remove import of unused header
sorbits,2018-10-27 16:48:18,https://api.github.com/repos/textmate/textmate/git/commits/581c2010087db8081815fd2639606a423bbec0a5,581c2010087db8081815fd2639606a423bbec0a5,Remove most code related to old file browser
sorbits,2018-10-27 16:25:38,https://api.github.com/repos/textmate/textmate/git/commits/e26b8ea868ffecf28cd1b7aad2e72abaa7a856c1,e26b8ea868ffecf28cd1b7aad2e72abaa7a856c1,Switch to new file browser
sorbits,2018-10-27 16:23:38,https://api.github.com/repos/textmate/textmate/git/commits/f2f9eceed40d77b21a3a2b2cb19040be538e9c23,f2f9eceed40d77b21a3a2b2cb19040be538e9c23,"Support working with array as object value for our select base name cell

This is for the new file browser which uses array to be able to hold both a display and edit name for the items being shown and potentially edited."
sorbits,2018-10-27 15:43:34,https://api.github.com/repos/textmate/textmate/git/commits/a304ebe25fb8f7e1f26f1104e3e476fd0899e2c9,a304ebe25fb8f7e1f26f1104e3e476fd0899e2c9,Add file browser view controller
sorbits,2018-10-27 15:38:20,https://api.github.com/repos/textmate/textmate/git/commits/62f9b3810c2cfd13a800704d395e14c150ae05c1,62f9b3810c2cfd13a800704d395e14c150ae05c1,Add reload action method to file browser view
sorbits,2018-10-27 15:37:48,https://api.github.com/repos/textmate/textmate/git/commits/cc8f610973225bb37f66909af51b3c10ddeb6b0c,cc8f610973225bb37f66909af51b3c10ddeb6b0c,Add API to force reload of an observed directory
sorbits,2018-10-27 13:30:21,https://api.github.com/repos/textmate/textmate/git/commits/4b8946184d96b7313c87508bfcb32f462e5d5a01,4b8946184d96b7313c87508bfcb32f462e5d5a01,Make previewableItems a public property
sorbits,2018-10-27 05:49:28,https://api.github.com/repos/textmate/textmate/git/commits/7037388242e15a09a416ee25595af442e129fd71,7037388242e15a09a416ee25595af442e129fd71,"Disable animated file browser updates when we have more than ~500 items

Insert and remove could still be done, but the re-ordering does not scale as we currently use an LCS algorithm that require N*M storage.

Long-term my thinking is that we can limit animated re-ordering to only include the visible rows, but my initial attempt at this showed some issues with the NSOutlineView, as re-ordering non-visible items still require a reload, which had visible side-effects."
sorbits,2018-10-27 02:30:43,https://api.github.com/repos/textmate/textmate/git/commits/387a5a844db2ad5ad406fa8e6818038eca11fadc,387a5a844db2ad5ad406fa8e6818038eca11fadc,"Allow file packages to be inline expandable (like directories)

File packages are still sorted together with regular files rather than moved to the top.

To enable, run: defaults write com.macromates.TextMate allowExpandingPackages -bool YES"
sorbits,2018-10-27 02:29:20,https://api.github.com/repos/textmate/textmate/git/commits/e9d10864413f24df6259c482c9d654640326d5f8,e9d10864413f24df6259c482c9d654640326d5f8,Add new user defaults key: allowExpandingPackages
sorbits,2018-10-26 16:35:11,https://api.github.com/repos/textmate/textmate/git/commits/fcf9ae3aa2191bc61c5bf6a83c6a9877c1f64f26,fcf9ae3aa2191bc61c5bf6a83c6a9877c1f64f26,"Don’t move focus to text view by default when opening/closing documents

For example when implicitly opening documents because we are duplicating the active document in the file browser, or closing a document because its file got deleted in the file browser, we want focus to stay in the file browser.

Previously we refocused the file browser when closing documents as a result of deleting files.

For duplicating files, this seemed to work because the file browser would not start editing the new file name until it had detected disk changes, thus it would happen after a slight delay."
sorbits,2018-10-26 15:41:47,https://api.github.com/repos/textmate/textmate/git/commits/fd0b5b5f0726a30bdc3f8ae80f5a4c423e5ce1ef,fd0b5b5f0726a30bdc3f8ae80f5a4c423e5ce1ef,"Add disk operations (move, copy, delete) to file browser view"
sorbits,2018-10-26 00:52:35,https://api.github.com/repos/textmate/textmate/git/commits/4c63bb098346733caf635501fa1b0f8ac6dadf82,4c63bb098346733caf635501fa1b0f8ac6dadf82,"Use NSCountedSet when constructing the Open With menu

Previously we used an NSDictionary with NSNumber objects as values, basically emulating a counted set."
sorbits,2018-10-25 17:09:52,https://api.github.com/repos/textmate/textmate/git/commits/89d4d2386783e73775a390fe1b6f556c6e7957f5,89d4d2386783e73775a390fe1b6f556c6e7957f5,Add new file browser view
sorbits,2018-10-22 07:51:45,https://api.github.com/repos/textmate/textmate/git/commits/0c4c6baca2f367f1fa8158f4ae81ef2b497e0e5a,0c4c6baca2f367f1fa8158f4ae81ef2b497e0e5a,"Add symbolic links to some private OakFileBrowser headers

This is only during the transition to a new file browser."
sorbits,2018-10-22 07:49:53,https://api.github.com/repos/textmate/textmate/git/commits/7b2ef3d616543fe94219fef3f01723213ad130a8,7b2ef3d616543fe94219fef3f01723213ad130a8,Bump minimum OS to 10.10
sorbits,2018-10-20 13:37:43,https://api.github.com/repos/textmate/textmate/git/commits/b00f01a99239326babe8ac273f760d521256d987,b00f01a99239326babe8ac273f760d521256d987,"Fix potential exception when deleting rows that show the field editor

The issue is that we call NSWindow’s makeFirstResponder: with the old field editor, but there is no guarantee that the old field editor is still part of the window’s view hierarchy."
sorbits,2018-10-16 19:44:31,https://api.github.com/repos/textmate/textmate/git/commits/566acd2445122d13807550a88075edad6f9b1ee1,566acd2445122d13807550a88075edad6f9b1ee1,"Add NSOutlineView subclass for file browser

This is largely copy/paste from OFBOutlineView.mm.

This adds keyboard support, delegate methods that include whether or not expand/collapse includes children, and a delegate method for when items are dragged to the trash."
sorbits,2018-10-16 19:20:47,https://api.github.com/repos/textmate/textmate/git/commits/446265e0fa40e684b3d79ff7c1e25eae22fec4aa,446265e0fa40e684b3d79ff7c1e25eae22fec4aa,Add NSTableCellView subclass for use with FileItem
sorbits,2018-10-16 15:24:20,https://api.github.com/repos/textmate/textmate/git/commits/ffb3d9a276c3ba42a557b8fd882fddc691515558,ffb3d9a276c3ba42a557b8fd882fddc691515558,Add FileItem subclass for SCM status
sorbits,2018-10-16 14:41:07,https://api.github.com/repos/textmate/textmate/git/commits/fa33b9afaf3a63ffac9ceb04feef4282af59d19d,fa33b9afaf3a63ffac9ceb04feef4282af59d19d,Add FileItem subclass for mounted volumes
sorbits,2018-10-16 14:35:16,https://api.github.com/repos/textmate/textmate/git/commits/0708f909c96d2faff4f2491ed5a4ca9a83143d1a,0708f909c96d2faff4f2491ed5a4ca9a83143d1a,Add API that allows observing children of a URL
sorbits,2018-10-16 13:56:11,https://api.github.com/repos/textmate/textmate/git/commits/e0b4d8460b0d42befa9156f216b01a3e8f49a958,e0b4d8460b0d42befa9156f216b01a3e8f49a958,"Add FileItem class as interface to the filesystem

FileItem objects will automatically update their SCMStatus and icon based on the properties of the object, but the item’s children (and arranged children) needs to be set externally.

The reason is that to properly sync insert/remove animations with changes to a item’s children, updating the children should be done by the same controller that updates the outline view."
sorbits,2018-10-16 06:47:35,https://api.github.com/repos/textmate/textmate/git/commits/c7c6799badfaea03a35c95d1c31c8c8006f53b02,c7c6799badfaea03a35c95d1c31c8c8006f53b02,"Add source for new FSEventsManager

This is a wrapper for the FSEvents API but uses blocks (and NSURL) for callbacks and will coalesce multiple observers for the same directory."
sorbits,2018-10-15 06:01:38,https://api.github.com/repos/textmate/textmate/git/commits/b4da449399bccec988751f64d0c2aa87986271cc,b4da449399bccec988751f64d0c2aa87986271cc,"Add helper function to create document icon images

This is based on the somewhat new block-based NSImage rendering API which simplifies things tremendously compared to our existing OakFileIconImage.

Like with the SCMManager class, this new API is limited to a future file browser, as for example images need to update themselves when SCM status or document’s modified state changes, but the NSImage class itself has no way to indicate that it needs to be redrawn, therefore the places we show images should bind to a file item which will then be responsible for updating its image property when the document state changes."
sorbits,2018-10-15 04:59:50,https://api.github.com/repos/textmate/textmate/git/commits/701eab03acce0002ed9c8eaa7bfae45bbb28fb30,701eab03acce0002ed9c8eaa7bfae45bbb28fb30,"Add source for new SCMManager

This is a wrapper for scm::info_t and is currently not public API but the first brick in a rewritten file browser.

Long-term I would like to move/port the scm::info_t code to this class but keep it semi-private as I think only the file browser should be concerned about SCM status.

A document should then have a reference to the file item from which it was created (or saved to) and would reference this file item to get its SCM status.

Coupling a document to a file item seems to make sense because file items already need to access a document’s modified state, and the file browser / file chooser (⌘T) also show if a file is currently open (and allow it to be closed).

Furthermore, both documents and the file browser need to track disk changes and try to track file moves/renames. If a document has a file item reference, it can rely on the file browser (data source) to track moves, and also to avoid opening the same file twice (when done via symbolic links, undetected moves, etc.)."
rdwampler,2018-10-14 00:23:48,https://api.github.com/repos/textmate/textmate/git/commits/319872d6b0108426bb641ae336d1376e40564488,319872d6b0108426bb641ae336d1376e40564488,Use std::make_shared
rdwampler,2018-10-14 00:19:17,https://api.github.com/repos/textmate/textmate/git/commits/4d61c2a21dedb1f1ecc1d7715e5fcf379de69aef,4d61c2a21dedb1f1ecc1d7715e5fcf379de69aef,"Add virtual destructor

Detected by `Wdelete-non-virtual-dtor`."
sorbits,2018-10-13 12:55:47,https://api.github.com/repos/textmate/textmate/git/commits/4bec98127ee1290bbf5b35e87ddcfedf04be4134,4bec98127ee1290bbf5b35e87ddcfedf04be4134,"Eliminate the optional menu title argument for MBCreateMenu

If a specific title is required, one can simply let the second argument be: [[NSMenu alloc] initWithTitle:«title»]"
sorbits,2018-10-13 12:44:52,https://api.github.com/repos/textmate/textmate/git/commits/b37b857096c345616b4639dcda96d0863f71f338,b37b857096c345616b4639dcda96d0863f71f338,"Support attributes for separators created via MBCreateMenu

This is useful when we want a reference to a separator, e.g. for where to insert dynamic menu items."
sorbits,2018-10-13 12:42:42,https://api.github.com/repos/textmate/textmate/git/commits/cff93ee2cba561edffecf294d9f9822fb4147319,cff93ee2cba561edffecf294d9f9822fb4147319,Do not bypass the type checker when forwarding methods to file browser
sorbits,2018-10-12 15:36:24,https://api.github.com/repos/textmate/textmate/git/commits/a012f4357addc16cc9d98cc57ce1182aa9cde047,a012f4357addc16cc9d98cc57ce1182aa9cde047,"Change ‘url’ property to ‘URL’

This seems to follow Apple’s style of uppercasing abbreviations even when they are the first part of a method/property."
sorbits,2018-10-12 15:27:20,https://api.github.com/repos/textmate/textmate/git/commits/846c3ff41aa554c0efbe56e0d87d7ae286c62b7c,846c3ff41aa554c0efbe56e0d87d7ae286c62b7c,"Declare OakTabBarView as a dependency of the file browser

The header view uses OakTabBarStyle for when the tab bar view bleeds into the file browser."
sorbits,2018-10-12 15:24:38,https://api.github.com/repos/textmate/textmate/git/commits/f2ef1b90cd057570a57578255242d06cded70cc1,f2ef1b90cd057570a57578255242d06cded70cc1,"Move settings key from OakTabBarView to Preferences framework

We provide a default value for this key in the Preferences framework, therefor the symbol needs to be defined there."
rdwampler,2018-10-10 23:08:08,https://api.github.com/repos/textmate/textmate/git/commits/4aed5b4d9bdc0dd3c1de52bc5fbdecec2d3262c6,4aed5b4d9bdc0dd3c1de52bc5fbdecec2d3262c6,"Add virtual destructors for `buffer_api_t` and `layout_movement_t`

This suppresses the warning `Wdelete-non-virtual-dtor`. AFAICT, the existing usage isn't necessarily wrong (i.e., we don't delete through them) so another way to resolve the warning is to mark the classes that inherit from them, e.g., `buffer_t` as `final`."
rdwampler,2018-10-10 19:52:11,https://api.github.com/repos/textmate/textmate/git/commits/9049d995edd516f967b1c4abd26234bf87ea850a,9049d995edd516f967b1c4abd26234bf87ea850a,"Introduce `OAK_AVAILABLE` macro

Newer versions of clang now warn when using API's that are only available on OS version newer than the target OS unless they are guarded using `@available`.

This is temporary and should be remove when we move away from older versions of Xcode."
sorbits,2018-10-08 08:51:59,https://api.github.com/repos/textmate/textmate/git/commits/213df1ef5951e3238d788d7b015e35e580893501,213df1ef5951e3238d788d7b015e35e580893501,Remove superfluous blank line
sorbits,2018-10-07 12:14:15,https://api.github.com/repos/textmate/textmate/git/commits/866d1f16c38208d98beea87b2b8c5f2ef6777640,866d1f16c38208d98beea87b2b8c5f2ef6777640,"Go through OakFileBrowser to create new files in directory

This avoids having to support editURL: as public API for the file browser and limits the use of OakFileManager to OakFileBrowser (except for the “deleted item” notification being observed by the document window)."
sorbits,2018-10-07 10:37:38,https://api.github.com/repos/textmate/textmate/git/commits/150c1d8b0467a487ad9efff7789fc4bc93a12ec9,150c1d8b0467a487ad9efff7789fc4bc93a12ec9,Remove unused instance variable.
rdwampler,2018-10-09 02:17:55,https://api.github.com/repos/textmate/textmate/git/commits/5aedfce3a175c2aa3d78fbd57513a12e42becb2c,5aedfce3a175c2aa3d78fbd57513a12e42becb2c,"Don't update our background style unless it changes

Also, always remove our background view before attempting to add another one."
sorbits,2018-10-07 10:00:07,https://api.github.com/repos/textmate/textmate/git/commits/c3e7e97c21d5281b8debcf3c0aa096509edc3e5c,c3e7e97c21d5281b8debcf3c0aa096509edc3e5c,Update dialog plug-ins (coding style and text color in pop-up menu)
sorbits,2018-10-07 09:27:58,https://api.github.com/repos/textmate/textmate/git/commits/ef032c78a6d03016d3155881702e55b7c10825c0,ef032c78a6d03016d3155881702e55b7c10825c0,Enable visual effect view for status bar on 10.10 and forward
sorbits,2018-10-07 09:26:21,https://api.github.com/repos/textmate/textmate/git/commits/d4e0f2e3b7f25d5df6e71e77b5ca2d267fefc626,d4e0f2e3b7f25d5df6e71e77b5ca2d267fefc626,Inline helper methods used to setup NSVisualEffectView
rdwampler,2018-10-07 01:52:03,https://api.github.com/repos/textmate/textmate/git/commits/79382340604366f2dace8e5de7f48114f25cc1b3,79382340604366f2dace8e5de7f48114f25cc1b3,"Let `LiveSearchView` inherit from `OakBackgroundFillView`

Also set the style to `OakBackgroundFillViewStyleHeader`."
rdwampler,2018-10-07 01:44:31,https://api.github.com/repos/textmate/textmate/git/commits/9198c496b0cd420527c8182efc180bccffd33f73,9198c496b0cd420527c8182efc180bccffd33f73,"OakBackgroundFillView: Add support of Mojave Dark mode

This introduces the `OakBackgroundFillViewStyle` enum with styles that are dark mode aware and should lead to more consistent use between UI elements in the future. Also, convert OTVStatusBar and OFBHeaderView to use the new style enum."
sorbits,2018-10-06 09:52:53,https://api.github.com/repos/textmate/textmate/git/commits/f6fa2739128e4b55ee6cefdc8103cfb4a73ca311,f6fa2739128e4b55ee6cefdc8103cfb4a73ca311,"Update coding style for where to place colon after dictionary keys

This follows the Swift style and also makes it possible to align dictionary values using TextMate’s Align Assignments command."
sorbits,2018-10-06 08:36:09,https://api.github.com/repos/textmate/textmate/git/commits/e9bf48fbc085108ceb6a6b07253a05d9e20df67b,e9bf48fbc085108ceb6a6b07253a05d9e20df67b,Use controlTextColor (instead of blackColor) in a few places
sorbits,2018-10-05 16:13:58,https://api.github.com/repos/textmate/textmate/git/commits/d93972f9587facc2f969ef53bfcda28226c65720,d93972f9587facc2f969ef53bfcda28226c65720,"Calling ‘mate -w’ repeatedly would not always return focus to terminal

See comment in the code for further details."
sorbits,2018-10-05 16:12:16,https://api.github.com/repos/textmate/textmate/git/commits/3d497e96344712a77301cfe0934de63ddf865ac6,3d497e96344712a77301cfe0934de63ddf865ac6,"Take precautions to make TextMate stay active after opening a document

See comment in the code for further details."
sorbits,2018-10-05 16:01:31,https://api.github.com/repos/textmate/textmate/git/commits/cc9faa602416368c0b0ca2b7bdb78d42957442fb,cc9faa602416368c0b0ca2b7bdb78d42957442fb,Prefix member data with underscore and do not capture it in debug output
sorbits,2018-10-05 07:21:00,https://api.github.com/repos/textmate/textmate/git/commits/cae5eff55cd31788ab53bf2e84e65d75cdc21f80,cae5eff55cd31788ab53bf2e84e65d75cdc21f80,"Set a foreground color when styling is disabled (find text fields)

We remove all styles from the string, even when styling is disabled, as these styles could be from when styling was enabled, so we can’t trust them to be proper defaults.

However, a string with no styles will be rendered as black in the interface, rather than using the default text color for the interface, therefore we now explicitly set the string’s foreground color to be the control text color."
rdwampler,2018-10-03 16:24:20,https://api.github.com/repos/textmate/textmate/git/commits/dfecd02e628c2d493d6360a6abe64148c29759d2,dfecd02e628c2d493d6360a6abe64148c29759d2,Fix typo: 'therefor' → 'therefore'
sorbits,2018-09-30 19:56:11,https://api.github.com/repos/textmate/textmate/git/commits/7f99c4cbc743097938b87a510ac259cc7dfffa40,7f99c4cbc743097938b87a510ac259cc7dfffa40,"Change definition of moving to begin/end of highlight characters

Previously if caret was before an “open” character or after a “close” character, example:

    if‸(true)‸

Then we would move to the matching character, rather than the begin/end character of the “parent” block.

We no longer move to the matching character but instead go straight to the begin/end of parent block."
sorbits,2018-09-30 19:08:35,https://api.github.com/repos/textmate/textmate/git/commits/5f2e0dac286340fa0a10f8906a0ef85112bd0304,5f2e0dac286340fa0a10f8906a0ef85112bd0304,Limit command error output to 7 lines with a “Show Full Output” button
sorbits,2018-09-30 18:25:29,https://api.github.com/repos/textmate/textmate/git/commits/86088f79abeb245a943d4cc69d9dc2f501810ed7,86088f79abeb245a943d4cc69d9dc2f501810ed7,"Use UTF with no byte order mark when reading file with unknown encoding

We pass the selected encoding to iconv which, for encodings with a //BOM modifier, will pass over the first 2-4 bytes.

If there is a byte order mark (that should be skipped) then we will not actually show the Unknown Encoding dialog, therefor we can safely assume that files that end up presenting the Unknown Encoding dialog will not have any byte order mark."
dlinz,2018-09-06 09:24:23,https://api.github.com/repos/textmate/textmate/git/commits/6457f3726774ca2fb4a834e93450ee2813514e95,6457f3726774ca2fb4a834e93450ee2813514e95,Update README.md to use new location of Cap’n Proto
sorbits,2018-08-21 10:21:47,https://api.github.com/repos/textmate/textmate/git/commits/69b5af7621d84d7e2904d99f97d3291df3748498,69b5af7621d84d7e2904d99f97d3291df3748498,Include sdk-compat.h after system frameworks
sorbits,2018-08-21 07:42:12,https://api.github.com/repos/textmate/textmate/git/commits/a7729b4e84b565f00e50a4b9fa92e524e2153003,a7729b4e84b565f00e50a4b9fa92e524e2153003,"Using findAll as action in a macro would work as findNext

It now correctly selects all instances of the search string."
sorbits,2018-08-21 07:39:20,https://api.github.com/repos/textmate/textmate/git/commits/62d25601432f140c659992280a79ca3cfc2d947f,62d25601432f140c659992280a79ca3cfc2d947f,"Find options would not be updated when replaying a macro

This meant that a macro that would do a regular expression search and later (in the same macro) do a findNext: or other find action, would no longer be in regular expression mode."
sorbits,2018-08-21 07:20:47,https://api.github.com/repos/textmate/textmate/git/commits/8de6bb6a464759cbe364ad3775b447b91e4e6c3b,8de6bb6a464759cbe364ad3775b447b91e4e6c3b,Let clipboard_t::entry_t accept options and remove my_entry_t subclass
sorbits,2018-08-21 09:30:26,https://api.github.com/repos/textmate/textmate/git/commits/43fc65805d298902ddd03d782eb17992f56ad670,43fc65805d298902ddd03d782eb17992f56ad670,Add NSAppearanceName stuff from the macOS 10.14 SDK
rdwampler,2018-08-19 18:25:51,https://api.github.com/repos/textmate/textmate/git/commits/cf06fb3d947e7aee56a5ef76c93ac6c2fa96b89d,cf06fb3d947e7aee56a5ef76c93ac6c2fa96b89d,OakTabBarView: Support Dark mode (10.14)
rdwampler,2018-08-19 18:21:27,https://api.github.com/repos/textmate/textmate/git/commits/59e6cad9e033347848c2c10943c69af87c230015,59e6cad9e033347848c2c10943c69af87c230015,"Make ""TabClose"" images templates"
rdwampler,2018-08-19 17:42:24,https://api.github.com/repos/textmate/textmate/git/commits/ffec68288c197bf0b1495da43e0bd96c984c2ad2,ffec68288c197bf0b1495da43e0bd96c984c2ad2,Add OakTabBarView images for Dark mode (10.14)
ZevEisenberg,2018-08-17 15:03:18,https://api.github.com/repos/textmate/textmate/git/commits/3ba80810fc47eac8b82bf95dac7070e7213dd1cc,3ba80810fc47eac8b82bf95dac7070e7213dd1cc,Fix part of speech.
sorbits,2018-08-06 18:44:59,https://api.github.com/repos/textmate/textmate/git/commits/14b00645ee350b03dd1686146a8eb35b2585b5b1,14b00645ee350b03dd1686146a8eb35b2585b5b1,"Enable clipping for menu item text

The default is to wrap text, which could happen when installing a replacement font.

Specifically installing https://github.com/jenskutilek/FiraSystemFontReplacement shows a problem for menu items using ⌃⇧ in their shortcut key.

My theory is that the font lack these glyphs and font substitution can take them from different fonts, and thus, sometimes they would render as narrow, other times in regular width.

It appears that when we measure the string width, and use for the cell’s width, we get the narrow glyphs, but then when rendering the text, the wider glyphs are used, causing the text to overflow and thus wrap."
ThatsJustCheesy,2018-07-08 19:38:41,https://api.github.com/repos/textmate/textmate/git/commits/096801b8ad59a1c2030527f1e767fc764052fd11,096801b8ad59a1c2030527f1e767fc764052fd11,Fix what I assume are typos
ThatsJustCheesy,2018-07-08 19:07:35,https://api.github.com/repos/textmate/textmate/git/commits/2a68a2be53c3344f1df49e6f32606e784ec9095e,2a68a2be53c3344f1df49e6f32606e784ec9095e,"Add excludeSCMDeleted to hide deleted files

New setting that prevents deleted files from appearing in the file browser while still uncommitted. There seems to be some demand for this (https://stackoverflow.com/questions/17590302/textmate-2-alpha-showing-references-for-deleted-files , https://stackoverflow.com/questions/50428259/how-can-i-keep-deleted-files-from-showing-up-in-textmate-2-file-browser-sidebar), and it's just a nice option to have."
sorbits,2018-07-31 16:58:46,https://api.github.com/repos/textmate/textmate/git/commits/9240fd008df15a3637d544dcde7af0fd5c0aa4c6,9240fd008df15a3637d544dcde7af0fd5c0aa4c6,fixup! Move path::info to OakFileBrowser
sorbits,2018-07-30 20:35:41,https://api.github.com/repos/textmate/textmate/git/commits/dc99a0f14b44e82333057fcf00427d5f44a1d91a,dc99a0f14b44e82333057fcf00427d5f44a1d91a,Use objectForInfoDictionaryKey: instead of localizedInfoDictionary
sorbits,2018-07-30 20:34:20,https://api.github.com/repos/textmate/textmate/git/commits/0e863b76ea4a2827780fa1c59cacf628a1ae47d2,0e863b76ea4a2827780fa1c59cacf628a1ae47d2,Use title case for software update error dialog
sorbits,2018-07-30 20:31:17,https://api.github.com/repos/textmate/textmate/git/commits/177321e3c4a70b721993c0c72a3d96a487c1e29b,177321e3c4a70b721993c0c72a3d96a487c1e29b,"Warn user when running on a read-only file system.

See https://mjtsai.com/blog/2016/06/16/gatekeeper-path-randomization/ for details."
sorbits,2018-07-20 08:56:05,https://api.github.com/repos/textmate/textmate/git/commits/dfa5bd779e9fb8a9daa2376844d93e735c2f9018,dfa5bd779e9fb8a9daa2376844d93e735c2f9018,"Move path::info to OakFileBrowser

The code is about how to display items in the file browser (package, folder, alias, non-browsable volume, etc.) so it makes sense to limit the visibility of this API."
sorbits,2018-07-20 08:34:19,https://api.github.com/repos/textmate/textmate/git/commits/c4179a22f708d5773067f99a3e2cde910304c098,c4179a22f708d5773067f99a3e2cde910304c098,Use path::is_directory in path::make_dir (instead of path::info)
sorbits,2018-07-20 08:32:44,https://api.github.com/repos/textmate/textmate/git/commits/1d008057a429410b93b2751b885ff5152bab0113,1d008057a429410b93b2751b885ff5152bab0113,"Don’t call path::info() in path::is_directory

The path::info() function is a bit arcane and best avoided."
sorbits,2018-07-10 17:22:15,https://api.github.com/repos/textmate/textmate/git/commits/013e41f7de91242c881616869b5ee12827014900,013e41f7de91242c881616869b5ee12827014900,Remove ‘enabled’ property from OFBFinderTagsChooser
sorbits,2018-07-10 17:19:08,https://api.github.com/repos/textmate/textmate/git/commits/52d14039664e8b0de8e56f6539772c4d0e5bac4c,52d14039664e8b0de8e56f6539772c4d0e5bac4c,Listen for mouse entering/leave notification instead of tracking mouse
sorbits,2018-07-10 17:14:56,https://api.github.com/repos/textmate/textmate/git/commits/051ffb68b3e5c3572550502ef166348653cfc038,051ffb68b3e5c3572550502ef166348653cfc038,Post a notification when mouse enters/leaves OakRolloverButton
sorbits,2018-07-10 08:34:57,https://api.github.com/repos/textmate/textmate/git/commits/1002c868c3ed04a62b5c1e535d8d3784fca92849,1002c868c3ed04a62b5c1e535d8d3784fca92849,"Let our Finder tag chooser use OakRolloverButton for the tags

This makes the tags accessible (Voice Over) and it simplifies the code as we no longer need to deal with mouse up/down in the chooser itself.

I used the rollover image for the pressed state to avoid the button’s default effect, as that looked off when used in a menu. For reference, Finder shows no visual feedback when clicking tags, so we are consistent with Finder.

The Finder tag chooser does not forward the enabled state to its subviews, so effectively this commit breaks the enabled property: Do we need to support rendering the view as disabled? I would opt for simply removing support for this property.

Unfortunately our custom drawRect: and mouse movement code has not been removed because we need to draw a label based on which tag the mouse is over. I am thinking that the OakRolloverButton could be made to post a notification when mouse enters/leaves, so our Finder tag chooser can observe this notifications and update the label accordingly, which would get rid of all the tracking info.

Additionally we should use an NSTextField for the label which would get rid of our custom draw rect and the need to explicitly mark the view as needing display.

Lastly the buttons are created in viewDidMoveToSuperview with semi-hardcoded frame rectangles. Although the control has a fixed size, we should probably create the buttons in another method and implement a method to layout the subviews. Constraint-based layout would probably be too complex (to setup the constraints), I believe that in recent versions of macOS, we can simply overload the layout method and place our subviews, but this may not be fully backwards compatible.

A minor regression is that mouse clicks that are not on a Finder tag no longer closes the menu. Apple did however change the system behavior some OS versions ago: Previously clicking separators or disabled menu items would close a menu, but now these mouse clicks are ignored. So while I prefer the previous OS behavior, we are consistent with the new behavior (although I think the change was a side-effect of rewriting the menu implementation using NSViews rather then a deliberate design decision)"
sorbits,2018-07-08 21:19:23,https://api.github.com/repos/textmate/textmate/git/commits/076b478fbbaa65bee6a6caa7fce056271f95f71a,076b478fbbaa65bee6a6caa7fce056271f95f71a,"Forward NSTableCellView’s background style down to the close button

This makes the row’s potential close button match the text color."
sorbits,2018-07-08 20:42:19,https://api.github.com/repos/textmate/textmate/git/commits/8d05acc7231b86f8a9ed8eb56d111423af905e41,8d05acc7231b86f8a9ed8eb56d111423af905e41,Implementing setNilValueForKey: is only necessary for primitive types
sorbits,2018-06-28 15:39:38,https://api.github.com/repos/textmate/textmate/git/commits/417e2080f88d2311cd703fa5dde3236a8227bc7d,417e2080f88d2311cd703fa5dde3236a8227bc7d,Remove use of oak::application_t in NewApplication template
sorbits,2018-07-08 18:57:12,https://api.github.com/repos/textmate/textmate/git/commits/94f7be75024c0604ba83960cba99c981ede86ec6,94f7be75024c0604ba83960cba99c981ede86ec6,Rename didChangeFavoriteTag: → didChangeFinderTag:
sorbits,2018-07-08 18:54:27,https://api.github.com/repos/textmate/textmate/git/commits/6a483a79307b99500395036e4039c151e8187b56,6a483a79307b99500395036e4039c151e8187b56,"Remove “Favorite” from selectedTags / selectedTagsToRemove

The caller no longer filters the tags based on whether or not they are favorites.

This also makes the entire favoriteFinderTags thing an implementation detail, as nothing outside of the OFBFinderTagsChooser class deals with the word “favorite” in relation to tags."
sorbits,2018-07-08 18:46:02,https://api.github.com/repos/textmate/textmate/git/commits/30227292f41247c8ac73eb0bfad53dff1e3977b5,30227292f41247c8ac73eb0bfad53dff1e3977b5,Minor code simplification by using array operators
sorbits,2018-07-08 18:41:41,https://api.github.com/repos/textmate/textmate/git/commits/035b0daef84194ff3de6e67878926d89c3c6518f,035b0daef84194ff3de6e67878926d89c3c6518f,Let OFBFinderTagsChooser deal with OakFinderTag instead of display names
sorbits,2018-07-08 18:34:21,https://api.github.com/repos/textmate/textmate/git/commits/5ab8d4ea99ef101616d71f142e5bcdbc087865e1,5ab8d4ea99ef101616d71f142e5bcdbc087865e1,Remove OakFinderTag’s markedFavorite property
sorbits,2018-07-08 18:28:54,https://api.github.com/repos/textmate/textmate/git/commits/2d6930cfee958bf2079cd2de84bd13bb2aaedd3c,2d6930cfee958bf2079cd2de84bd13bb2aaedd3c,"Provide OFBFinderTagsChooser with non-favorite tags

Since OFBFinderTagsChooser always show only the favorite tags, any non-favorite tag set as selected or removable will simply be ignored, so there is no reason to filter these out at the call-site.

In fact, whether or not to show non-favorite tags should probably be an OFBFinderTagsChooser decision.

Furthermore, the tag’s favorite status is set during initialization, so it could actually be outdated when showing the OFBFinderTagsChooser."
sorbits,2018-07-08 18:17:45,https://api.github.com/repos/textmate/textmate/git/commits/c77d0270d2280918ceb36112fedcbd2174555552,c77d0270d2280918ceb36112fedcbd2174555552,"Recreate favorite Finder tags on each method call

I changed the interface from class property to a method since a read-only property sort of implies that the value is constant."
sorbits,2018-07-08 18:11:53,https://api.github.com/repos/textmate/textmate/git/commits/05938a91cedf221fb58ab3827f83c46757a9ca4a,05938a91cedf221fb58ab3827f83c46757a9ca4a,"Add favoriteFinderTags property to OFBFinderTagsChooser

This guarantees that each instance of the class uses the same array of tags."
sorbits,2018-07-08 18:05:22,https://api.github.com/repos/textmate/textmate/git/commits/1b75fd9d27d7092907905e358949dfac19d951ad,1b75fd9d27d7092907905e358949dfac19d951ad,Make OakFinderTag’s constructor and label property private
sorbits,2018-07-08 18:00:36,https://api.github.com/repos/textmate/textmate/git/commits/6e18e1236b10ffcc09aaa5a91d7954e7a4518f3f,6e18e1236b10ffcc09aaa5a91d7954e7a4518f3f,Add foreground/background color properties to OakFinderTag
sorbits,2018-07-08 17:53:01,https://api.github.com/repos/textmate/textmate/git/commits/346ffb55599dc69896412991e44572dc4d951487,346ffb55599dc69896412991e44572dc4d951487,Use OakFinderTags instead of label numbers in OakLabelSwatchView
sorbits,2018-07-08 17:29:17,https://api.github.com/repos/textmate/textmate/git/commits/376a823313fe079f9082f3834c2841ca85d82c1b,376a823313fe079f9082f3834c2841ca85d82c1b,"Only make a tag removable when all selected items have the tag set

This is consistent with how Finder works."
sorbits,2018-07-08 17:30:26,https://api.github.com/repos/textmate/textmate/git/commits/c5eb4c3259181cfc61c045e2f1633bbf92c6c4e0,c5eb4c3259181cfc61c045e2f1633bbf92c6c4e0,Remove unused code
sorbits,2018-07-08 16:20:17,https://api.github.com/repos/textmate/textmate/git/commits/42fa47a2fd48bde4d59992b9a6285cafb5c1e251,42fa47a2fd48bde4d59992b9a6285cafb5c1e251,Remove path::tag_data and let finderTagsFromData: be private
sorbits,2018-07-08 16:17:30,https://api.github.com/repos/textmate/textmate/git/commits/13cb0a32f6cc7bb036ae416ac129884b3718695a,13cb0a32f6cc7bb036ae416ac129884b3718695a,Let OFBFinderTagsChooser’s chosenTag property by an OakFinderTag
sorbits,2018-07-08 16:16:20,https://api.github.com/repos/textmate/textmate/git/commits/b0e6c5caa6b7fef37a3d6728f71f6f3beb8ef77f,b0e6c5caa6b7fef37a3d6728f71f6f3beb8ef77f,Let FSItem’s finderTags setter update file on disk
sorbits,2018-07-08 15:51:37,https://api.github.com/repos/textmate/textmate/git/commits/fef19f84652907eaf57d7de237faef38b6d8ab40,fef19f84652907eaf57d7de237faef38b6d8ab40,"Let FSItem create finderTags when requested

This does mean that we are taxing our main thread with disk access. This is mainly a problem for users who are using network mounted file systems, but it does provide better abstraction in the code, and should this turn out to be a performance issue, I think a better approach is to fetch the tags in a dispatch queue (initiated by FSItem), and then use KVC to update the property once the tags have been loaded, although ideally such system would use some sort of batching, so that we do not dispatch in each property accessor.

Could also have the background directory scanner set a boolean property to indicate if the item has tags, as most items do not, and in that case, we can bypass the disk access. But this then only does half the job of encapsulating how tags are stored."
sorbits,2018-07-08 15:23:53,https://api.github.com/repos/textmate/textmate/git/commits/11fa1841b306cb0a0831d384814b731be13edc16,11fa1841b306cb0a0831d384814b731be13edc16,Remove all code related to labels
sorbits,2018-07-08 15:17:32,https://api.github.com/repos/textmate/textmate/git/commits/d6d47febfe292e2cc9ccfa51773b40c7040de215,d6d47febfe292e2cc9ccfa51773b40c7040de215,Remove OakFinderLabelChooser
sorbits,2018-07-08 13:28:51,https://api.github.com/repos/textmate/textmate/git/commits/5001e1e5b11b44865c34b3349119d1841ed33393,5001e1e5b11b44865c34b3349119d1841ed33393,"Add trailing separator to file browser’s action menu

When the menu is brought up as a context-sensitive menu (right-clicking a file) the system will add a “Services” submenu as the last item, which looks nicer when there is a separator before it.

This submenu is not added when the menu is brought up via the gear button in the status bar, but the system will automatically strip trailing separator items from menus, so in this case, the separator will not be shown at all."
sorbits,2018-07-08 13:25:09,https://api.github.com/repos/textmate/textmate/git/commits/2e5d4fc96a4f6b3af9f1d7cc57db6ed2979ca25f,2e5d4fc96a4f6b3af9f1d7cc57db6ed2979ca25f,"Ensure the “Tags…” menu item is always disabled

When using the gear menu in the status bar, the “Tags…” menu item was enabled. It appears that NSPopupButton validates its menu differently than NSView when bringing up the context-sensitive pop-up menu."
sorbits,2018-07-08 12:59:20,https://api.github.com/repos/textmate/textmate/git/commits/88757f25bfcb29495f4b4d860fb0155c8d85691f,88757f25bfcb29495f4b4d860fb0155c8d85691f,"Update FSItem’s finderTags property when updating the tags on disk

The file browser is observing the `finderTags` property so we need to do KVC updating of this property when we change the tags on disk.

It worked before because changing tags on disk triggers a reload, but that may not always be the case, e.g. the SCM data source showing uncommitted changes did not update in response to changing tags."
sorbits,2018-07-08 12:58:19,https://api.github.com/repos/textmate/textmate/git/commits/c52b749f5b2f0961c7738ecc302b57c36ee6d23f,c52b749f5b2f0961c7738ecc302b57c36ee6d23f,Let SCM data source set finderTags when creating FSItem objects
sorbits,2018-07-08 12:51:04,https://api.github.com/repos/textmate/textmate/git/commits/b5df2d26f1a20815c7fea3f702792ce59c89a0b6,b5df2d26f1a20815c7fea3f702792ce59c89a0b6,"The secondaryLabelColor class property was introduced in 10.10

There aren’t many left on 10.9 but it was an easy change."
sorbits,2018-07-08 12:47:59,https://api.github.com/repos/textmate/textmate/git/commits/ac92e1b040e07455b4910ab2c5f1e50b99b32096,ac92e1b040e07455b4910ab2c5f1e50b99b32096,"Minor stylistic changes: Whitespace and put const after the type

The rationale behind the latter is for consistency with pointer declarations, e.g. we need to do `NSString* const kConstant = …` to indicate that the variable is a constant NSString pointer, so for this reason I prefer to also do `CGFloat const kConstant = …`

This commit can be merged into its parent."
rdwampler,2017-04-19 20:54:48,https://api.github.com/repos/textmate/textmate/git/commits/a31a985610b10024a201f11f3f51729039c392d3,a31a985610b10024a201f11f3f51729039c392d3,Add support for Finder tags instead of just one label color
rdwampler,2017-03-30 18:30:13,https://api.github.com/repos/textmate/textmate/git/commits/cec95ce60118903c12338a01feb87292f257f525,cec95ce60118903c12338a01feb87292f257f525,Remove unnecessary forward declaration
sorbits,2018-06-28 08:37:00,https://api.github.com/repos/textmate/textmate/git/commits/52fda481dc9ee52fcf71a1134b900b61bc8f839d,52fda481dc9ee52fcf71a1134b900b61bc8f839d,Change beta/nightly software update constants to prerelease/canary
sorbits,2018-06-24 08:38:55,https://api.github.com/repos/textmate/textmate/git/commits/b577c580c41f3a0fac701ac9bace8f77ae89f73f,b577c580c41f3a0fac701ac9bace8f77ae89f73f,Change Check for Updates → Check for Update (singular)
sorbits,2018-06-24 08:35:32,https://api.github.com/repos/textmate/textmate/git/commits/da42c3abd39c596e7f7d51f46fd55e293ec26a71,da42c3abd39c596e7f7d51f46fd55e293ec26a71,Let MenuBuilder support setting menu state
sorbits,2018-06-24 08:34:40,https://api.github.com/repos/textmate/textmate/git/commits/351ba81527746ce8a51e1681c91180314d664a5e,351ba81527746ce8a51e1681c91180314d664a5e,Use “space” instead of “␣” when creating string from key equivalent
sorbits,2018-06-20 12:44:17,https://api.github.com/repos/textmate/textmate/git/commits/a34bba352334afe120671a458cdf1b59488b03ba,a34bba352334afe120671a458cdf1b59488b03ba,"Use light gray color for OakKeyEquivalentView’s frame

This is closer to what the system uses for borders, though still not an exact match."
sorbits,2018-06-20 12:43:51,https://api.github.com/repos/textmate/textmate/git/commits/d16667d736ca17e9478b8134f5de951087cf8c7e,d16667d736ca17e9478b8134f5de951087cf8c7e,Add hardcoded baselineOffsetFromBottom to OakKeyEquivalentView
sorbits,2018-06-17 20:26:30,https://api.github.com/repos/textmate/textmate/git/commits/b65490f71122d65b83e86bc86eb53d6be87aa258,b65490f71122d65b83e86bc86eb53d6be87aa258,Add missing left/right constraints for horizontal separator lines
sorbits,2018-06-17 15:06:03,https://api.github.com/repos/textmate/textmate/git/commits/40a14995f66a73ccb15808226a83cb2e22cd190c,40a14995f66a73ccb15808226a83cb2e22cd190c,Call fileSystemRepresentation directly on NSURL (10.9)
sorbits,2018-06-16 20:27:01,https://api.github.com/repos/textmate/textmate/git/commits/e70791ee89ddd5434472da597201990220057636,e70791ee89ddd5434472da597201990220057636,Rename a bunch of constants to fix deprecation warnings (10.12)
sorbits,2018-06-16 20:55:07,https://api.github.com/repos/textmate/textmate/git/commits/3fb653ebf0de767a6be649efcb53cb5b28647c43,3fb653ebf0de767a6be649efcb53cb5b28647c43,"Do not provide graphics context when creating a fake NSEvent

This is not required and 10.12 makes accessing the NSEvent’s context property deprecated, as it always (did?) return nil."
sorbits,2018-06-16 19:50:25,https://api.github.com/repos/textmate/textmate/git/commits/a623b8b6ecc710bf2ec9d1c8cb05705b8b499372,a623b8b6ecc710bf2ec9d1c8cb05705b8b499372,Fix typo: NSLeftMouseDown → NSLeftMouseDownMask
sorbits,2018-06-11 22:01:39,https://api.github.com/repos/textmate/textmate/git/commits/ae470335a234e336c3d0337f065e26b29751e668,ae470335a234e336c3d0337f065e26b29751e668,"Remove dependency on ‘ns’ framework

Since the ‘ns’ framework depends on OakFoundation this was a circular dependency and only sort of worked because ‘ns’ was not listed as a link target."
sorbits,2018-06-11 14:00:48,https://api.github.com/repos/textmate/textmate/git/commits/00399543b3adb2a283280f3045533f28abd0b168,00399543b3adb2a283280f3045533f28abd0b168,Checkin release notes for 2.0-rc.10
sorbits,2018-06-11 13:28:37,https://api.github.com/repos/textmate/textmate/git/commits/2689f51a083ee3e5f67b03d0c45ddfb01a9563ca,2689f51a083ee3e5f67b03d0c45ddfb01a9563ca,Enable horizontal scroll for project/folder search results
sorbits,2018-06-11 13:06:22,https://api.github.com/repos/textmate/textmate/git/commits/5b8eea86cbd1f83cb78ce756528eaecee83a874d,5b8eea86cbd1f83cb78ce756528eaecee83a874d,"Move “remove” button for search results to the left side

This is in preparation of horizontal scroll: When the table view is horizontally scrollable it is not obvious how we can place a right-aligned button in the group header."
sorbits,2018-06-11 09:43:53,https://api.github.com/repos/textmate/textmate/git/commits/11bbd59efb526d3a4be754271e1f058ad4dcd39d,11bbd59efb526d3a4be754271e1f058ad4dcd39d,"Fix potential deadlock when using ⇧⌘T just after loading new document

Using the NSSpellChecker API while main thread is blocked can result in this exception:

    Dispatch Thread Soft Limit Reached: 64
    (too many dispatch threads blocked in synchronous operations)

Therefor we disable spell checking when we are waiting (on main thread) for buffer refresh.

First noticed with macOS 10.12."
sorbits,2018-06-10 17:44:54,https://api.github.com/repos/textmate/textmate/git/commits/7031dfd4155436e6a0c8bd05be94177e6978eeaa,7031dfd4155436e6a0c8bd05be94177e6978eeaa,Escape newlines and backslashes in parameters sent by mate to TextMate
sorbits,2018-06-10 17:26:31,https://api.github.com/repos/textmate/textmate/git/commits/55d915a97b6ce67647662dc7f3f37de6b2831cc9,55d915a97b6ce67647662dc7f3f37de6b2831cc9,"Fix out-of-range string access in mate protocol parser

This would happen if the mate server received a line with no argument and no leading space before the argument, e.g.: `key:\n`.

This could be triggered using `--set-mark` since newlines in the payload are not being escaped.

Fixes textmate/bugs#27"
sorbits,2018-06-06 16:02:40,https://api.github.com/repos/textmate/textmate/git/commits/7614d44974835da9b2bceb7f8f9e3cee146fb02f,7614d44974835da9b2bceb7f8f9e3cee146fb02f,"Do not check if dirname_r and basename_r are available (10.12)

This code is only compiled when deployment target is 10.12+ so the symbols should always be there."
sorbits,2018-06-06 16:01:17,https://api.github.com/repos/textmate/textmate/git/commits/1ac3b47b52170ee7d5798e4f84074e2a32446363,1ac3b47b52170ee7d5798e4f84074e2a32446363,Format string: Include seconds when the period is less than 10 minutes
sorbits,2018-04-30 06:21:09,https://api.github.com/repos/textmate/textmate/git/commits/c11b81b9da5eef388f971a70b1e96c73e06d2144,c11b81b9da5eef388f971a70b1e96c73e06d2144,Use MBCreateMenu for a few pop-up menus
sorbits,2018-04-30 05:15:59,https://api.github.com/repos/textmate/textmate/git/commits/f920ff058a37fd8c35f3a4ff33d15d0eca421c19,f920ff058a37fd8c35f3a4ff33d15d0eca421c19,"Tidy up main menu

This means remove unnecessary targets, unused tag values, empty submenus, and trailing separator items."
sorbits,2018-04-30 04:28:47,https://api.github.com/repos/textmate/textmate/git/commits/8bda806ef98a9bf58705453f1bc301ce3fdcb3c1,8bda806ef98a9bf58705453f1bc301ce3fdcb3c1,Create dock menu in our application delegate
sorbits,2018-04-30 04:11:48,https://api.github.com/repos/textmate/textmate/git/commits/87ad8f6559bd965f591fb3bffb81c9dcc89779d9,87ad8f6559bd965f591fb3bffb81c9dcc89779d9,"Create main menu in our application delegate

The advantages are:

- More compatible with version control
- Easier to copy/paste menus and menu items between other projects
- Easier to setup menu delegates or obtain pointers to menu items
- We can use symbolic names when setting a menu item’s tag
- More transparent: We can read the declaration in a few minutes, use search, etc.

There are two disadvantage that I can think of:

1. We currently need to use private API to create the Open Recent submenu. Should this become a problem in a future macOS update, we can always create a single Open Recent menu in MainMenu.nib and use that when building our menu.

2. If you make a typo in the menu declaration then the compiler error will often just point to the first line of the declaration rather than the line with the incorrectly declared item. One can comment out sections to narrow it down, if many edits have been made since last compile."
sorbits,2018-04-30 08:23:19,https://api.github.com/repos/textmate/textmate/git/commits/b8b46d1ae389be0c94657c57a917fa1280a8687a,b8b46d1ae389be0c94657c57a917fa1280a8687a,Add header for OakMainMenu (menu subclass)
sorbits,2018-04-30 03:48:52,https://api.github.com/repos/textmate/textmate/git/commits/8ddfa9efe1e031f890dbf54f69db76a4d856d075,8ddfa9efe1e031f890dbf54f69db76a4d856d075,"Identify Select Tab submenu by its menu title instead of pointer

This is an intermediary step to get rid of the outlets."
sorbits,2018-04-30 03:05:10,https://api.github.com/repos/textmate/textmate/git/commits/bafe0e572b9edb8af64b81e5bcbd54b8b3ae6d31,bafe0e572b9edb8af64b81e5bcbd54b8b3ae6d31,Rename ApplicationController → AppDelegate
sorbits,2018-04-30 02:55:33,https://api.github.com/repos/textmate/textmate/git/commits/fa0e055755ad8c17d85cdeeb2450b62582f41ae3,fa0e055755ad8c17d85cdeeb2450b62582f41ae3,Update main menu template to what’s included with Xcode 9.2
sorbits,2018-04-30 02:43:06,https://api.github.com/repos/textmate/textmate/git/commits/82ac2daa850fa2f1319946e1072897650d7f5e7a,82ac2daa850fa2f1319946e1072897650d7f5e7a,Let our application delegate create the main menu
sorbits,2018-04-30 02:09:04,https://api.github.com/repos/textmate/textmate/git/commits/6a0e3d8206a71eb953442009b20b52e541e34452,6a0e3d8206a71eb953442009b20b52e541e34452,"Add a menu builder framework

This allows a simple way to build menus in code which can then be used with pop-up buttons or even the main menu of an application.

For creating the main menu, this should be done in an applicationWillFinish: delegate method. If done later, the Open Recent menu will not work.

There is a MBDumpMenu function which will take a menu as argument and output the MBMenu structure required to build the menu in code.

Can be used like this:

    NSLog(@""\n%@"", MBDumpMenu(NSApp.mainMenu));

Some caveats:

1. If you have alternate items *without key equivalents* then you need to ensure that `.modifierFlags` is set to include the modifier flags of the previous item plus an additional modifier key (the one to press to reveal this item).

2. The code does not know about outlets so check your MainMenu.nib in Xcode to see if you connect any outlets to menu items or submenus. If so, you can do `.ref = &menuItemOutlet` or `.submenuRef = &menuOutlet`. The former will store a pointer to the menu item in `menuItemOutlet` where the latter will store a pointer to the menu item’s submenu (and ensure a submenu gets created for this item, even if there are no submenu items defined).

3. The code will insert `«unknown»` for any unknown target or delegate, you will need to manually update this (but if you forget, it’ll result in a compiler error)."
sorbits,2018-04-25 15:28:33,https://api.github.com/repos/textmate/textmate/git/commits/677459aa229530024fda22d5458f8b49b5a3c508,677459aa229530024fda22d5458f8b49b5a3c508,"Change behavior of shift page up/down sent to inactive table views

We now extend the selection to include the rows that we previously “jumped” over."
sorbits,2018-04-25 15:07:50,https://api.github.com/repos/textmate/textmate/git/commits/8a0a50dad6e4d6805f1c5645ded85b9c7f13f8de,8a0a50dad6e4d6805f1c5645ded85b9c7f13f8de,Consult table view’s delegate about which rows we can select
sorbits,2018-04-25 14:47:38,https://api.github.com/repos/textmate/textmate/git/commits/7a61949c33745f3d3f235df7e5753b389f2ef960,7a61949c33745f3d3f235df7e5753b389f2ef960,"Auto-hide scrollbars

We already auto-hide them for majority of our scrollviews, but since they are hidden by default when using a trackpad, a few “new” scrollviews didn’t get this setting, and I hadn’t noticed."
rdwampler,2018-04-04 02:18:19,https://api.github.com/repos/textmate/textmate/git/commits/1b33f6e36daefc48d9ba86822738c71edd22cba0,1b33f6e36daefc48d9ba86822738c71edd22cba0,"Always uppercase the encoding charset

Apple writes the encoding charset (e.g., com.apple.TextEncoding) in
all lowercase (at least since macOS 10.9); however, TextMate assumes that the
encoding will always be uppercase. So in order to avoid any issues with case
mismatches, when setting the charset, uppercase the given string.

See http://lists.macromates.com/textmate/2018-April/040602.html"
sorbits,2018-04-02 05:55:09,https://api.github.com/repos/textmate/textmate/git/commits/81b888d61ec403794c3691748b6fe5a374d88824,81b888d61ec403794c3691748b6fe5a374d88824,Checkin release notes for 2.0-rc.9
sorbits,2018-04-02 05:47:15,https://api.github.com/repos/textmate/textmate/git/commits/c1bb559a3820fa85076cc04f81688fe434f851b4,c1bb559a3820fa85076cc04f81688fe434f851b4,"Revert ""Add ‘public.data’ to list of supported file types for QuickLook plug-in""

This causes TextMate’s QL generator to take over thumbnail generation of all binary files (without a dedicated QuickLook plug-in), for example disk image files.

There does not seem to be any way to dynamically opt out of thumbnail generation, it’s all or nothing, therefor we would either need to completely remove support for thumbnail generation or not support QuickLook previews for files without extension.

For now it’s the latter.

This reverts commit fd827fb8179cd74e553680d605d2172e05822e07."
sorbits,2018-03-08 09:31:15,https://api.github.com/repos/textmate/textmate/git/commits/494290cc1908993128a145435fef7bd89e2d2ef4,494290cc1908993128a145435fef7bd89e2d2ef4,Checkin release notes for 2.0-rc.8
sorbits,2018-03-07 08:29:41,https://api.github.com/repos/textmate/textmate/git/commits/a843a02aa1ad3f05e4f1aa3f9292f68604e39983,a843a02aa1ad3f05e4f1aa3f9292f68604e39983,"Revert ""Specify ‘ns’ as a (link) dependency""

This reverts commit 75e8723e64c695e464dc78f5b9d84681b9b994da."
sorbits,2018-03-08 05:10:06,https://api.github.com/repos/textmate/textmate/git/commits/a232a1848b1b21982648419541ab9a04c5baf1bd,a232a1848b1b21982648419541ab9a04c5baf1bd,"Update copyright to 2004-2018

We are back to showing a range motivated by a comment from @nanoant: https://github.com/textmate/textmate/commit/76cc25b2a68605749a08f511ae80ce9f72432618#commitcomment-21502195"
sorbits,2018-03-08 05:05:37,https://api.github.com/repos/textmate/textmate/git/commits/b828d5bfa936ea94615c3c98d4cc99ca9711e771,b828d5bfa936ea94615c3c98d4cc99ca9711e771,"Only use dirname_r and basename_r if on macOS 10.12

Not only do we test for the presence of these functions at runtime, but we do not use them at all, when building with the 10.11 SDK (or earlier).

This is because if we had to support building with an earlier SDK it is not enough to declare the prototypes, we also need to add the symbols as weak to the linker options.

Not using the functions does not remove crucial functionality."
sorbits,2018-03-08 04:45:55,https://api.github.com/repos/textmate/textmate/git/commits/c9cc0c266d688c5f6651a4531209280c742a526c,c9cc0c266d688c5f6651a4531209280c742a526c,"Disable exact rank calculation for large strings

The algorithm to calculate exact rank requires n × m storage which is stack allocated, so for large strings, we could blow the stack.

Rather than switch to dynamic allocation, we’re just foregoing the exact rank, since for large strings, it’s unlikely to be useful to try to calculate such a thing."
jacob-carlborg,2018-02-07 13:00:43,https://api.github.com/repos/textmate/textmate/git/commits/e3ded6e2f9ede6b9f5fb7f7f3022b621355a2df4,e3ded6e2f9ede6b9f5fb7f7f3022b621355a2df4,"Add imported and exported type declarations for D

This will make the system properly recognize D source files."
pravdomil,2017-11-11 17:54:12,https://api.github.com/repos/textmate/textmate/git/commits/fd827fb8179cd74e553680d605d2172e05822e07,fd827fb8179cd74e553680d605d2172e05822e07,"Add ‘public.data’ to list of supported file types for QuickLook plug-in

This enables QuickLook preview for text files without extension such as README, LICENSE, etc."
ryandesign,2018-02-04 03:24:39,https://api.github.com/repos/textmate/textmate/git/commits/bade4054dc84b0dbf3b01e1a88dabe10b1f98c33,bade4054dc84b0dbf3b01e1a88dabe10b1f98c33,"Mark strong properties as strong

Versions of the OS X 10.11 SDK prior to 10.11.4 require this to
be done explicitly. This fixes the build on OS X 10.10 when
using the OS X 10.11 SDK from Xcode 7.2.1 and earlier."
infininight,2018-02-01 07:23:24,https://api.github.com/repos/textmate/textmate/git/commits/0c8817e57aa35aa95472fc66a4489f764c997ffd,0c8817e57aa35aa95472fc66a4489f764c997ffd,"Fix generation of contribution page

Modern multimarkdown tends to convert the <% and %> tags into HTML when they
occur before or after an empty line. This would then break parsing with erb.
Remove all empty lines in the vicinity of these tags to prevent this problem.

Sent in by @neverpanic through @ryandesign"
chucklebot,2017-10-13 08:59:45,https://api.github.com/repos/textmate/textmate/git/commits/108b99149ce4decb02d8d4bce42d5da7189a2f9c,108b99149ce4decb02d8d4bce42d5da7189a2f9c,Handle rate-limiting when using GitHub’s API to obtain author emails
chucklebot,2017-10-13 08:59:45,https://api.github.com/repos/textmate/textmate/git/commits/d00a5cd4a09a2280e12634ec03bb44fe96e75ee3,d00a5cd4a09a2280e12634ec03bb44fe96e75ee3,Create credits database file’s enclosing directory as necessary
rdwampler,2017-10-05 03:07:14,https://api.github.com/repos/textmate/textmate/git/commits/9f2eb762234e760c9ed0618cd4fdca89ec390358,9f2eb762234e760c9ed0618cd4fdca89ec390358,"Explicitly close OakChoiceMenu

On 10.13, just setting our instance of OakChoiceMenu to `nil` no longer seem to close our window."
sorbits,2017-11-16 03:06:39,https://api.github.com/repos/textmate/textmate/git/commits/75e8723e64c695e464dc78f5b9d84681b9b994da,75e8723e64c695e464dc78f5b9d84681b9b994da,"Specify ‘ns’ as a (link) dependency

See http://lists.macromates.com/textmate/2017-November/040458.html"
sorbits,2017-10-09 08:31:07,https://api.github.com/repos/textmate/textmate/git/commits/408033460994bcac4092eff537a876342c9d4e6b,408033460994bcac4092eff537a876342c9d4e6b,"Fix bug in CommonAncestor function

When all paths had the same prefix as first item, the first item would be returned as the common ancestor even if the other paths were not children.

For example:

    /path/to/some_folder
    /path/to/some_folder_with_same_prefix

Here `/path/to/some_folder` was returned even though `/path/to` is the common ancestor.

The function is still not correct when all paths are actual descendants of first path, but since it’s only used for display purposes, and with “find in folder” (where paths shouldn’t overlap), I am not bothering with that issue."
sorbits,2017-10-09 08:28:30,https://api.github.com/repos/textmate/textmate/git/commits/4268b576051a862f845919aeb48454618bbfab10,4268b576051a862f845919aeb48454618bbfab10,Use OakNotEmptyString convenience function
sorbits,2017-10-08 18:17:43,https://api.github.com/repos/textmate/textmate/git/commits/06bd8b2be05da9ee8a5ea45c6c930fd493cd7c61,06bd8b2be05da9ee8a5ea45c6c930fd493cd7c61,Add a ‘didUpdateFrom’ argument when relaunching during software update
sorbits,2017-10-08 18:12:14,https://api.github.com/repos/textmate/textmate/git/commits/a8b7906a4bc8583cd370f22905b092a6b25e77b3,a8b7906a4bc8583cd370f22905b092a6b25e77b3,Do not hardcode bundle identifier in Caches path
sorbits,2017-10-08 07:33:27,https://api.github.com/repos/textmate/textmate/git/commits/6893bceae68ee337465ddb9bef239100789515ab,6893bceae68ee337465ddb9bef239100789515ab,Accept application/json for version update information
sorbits,2017-10-08 07:19:49,https://api.github.com/repos/textmate/textmate/git/commits/75d4c29f11ff9baca1b5d7e6ec2bdabcea0a79fa,75d4c29f11ff9baca1b5d7e6ec2bdabcea0a79fa,Change etag network filter to a general header (capture) filter
sorbits,2017-10-08 07:13:03,https://api.github.com/repos/textmate/textmate/git/commits/81d1f84a2c3a5dcdce5373c6cc51597bdc3a09a0,81d1f84a2c3a5dcdce5373c6cc51597bdc3a09a0,Change sw_update.cc → sw_update.mm
sorbits,2017-10-08 07:00:32,https://api.github.com/repos/textmate/textmate/git/commits/eead4102dcb949c0dc838af01c549725c3396931,eead4102dcb949c0dc838af01c549725c3396931,Do not require that _app_path is setup when calling relaunch
sorbits,2017-10-08 06:53:12,https://api.github.com/repos/textmate/textmate/git/commits/c6e07fadf3d49ac3640b6a20670d3d07701c9f4c,c6e07fadf3d49ac3640b6a20670d3d07701c9f4c,"Accept additional application arguments for relaunch API

This allows us to indicate to the new instance why it was launched."
sorbits,2017-10-07 11:43:19,https://api.github.com/repos/textmate/textmate/git/commits/503d493f47901dc451f37ee2c0caf08b578a549e,503d493f47901dc451f37ee2c0caf08b578a549e,"Move OakTabBarView into its own framework

The motivation is to get an OakAppKit that does not include hundres of image resources."
jgavris,2017-08-24 13:43:43,https://api.github.com/repos/textmate/textmate/git/commits/0a597f15050ab35fa12d31076e95e7692558b05d,0a597f15050ab35fa12d31076e95e7692558b05d,Enable ThinLTO
rdwampler,2017-10-03 22:59:06,https://api.github.com/repos/textmate/textmate/git/commits/71aa9764af9d110f82f6b9371ba4cc69a3c6ad0a,71aa9764af9d110f82f6b9371ba4cc69a3c6ad0a,"Add capnp include path for C++/Objective-C++ files

This is needed after commit 2748e12699063dd92d0211d36b32ccf44a7bc103."
jakecast,2017-10-03 16:29:25,https://api.github.com/repos/textmate/textmate/git/commits/9f1cec343ea835fe2cb7e78aa9fe4ea350533627,9f1cec343ea835fe2cb7e78aa9fe4ea350533627,Add basic touch-bar support
sorbits,2017-10-03 07:42:10,https://api.github.com/repos/textmate/textmate/git/commits/f7f6444885be9c2eb7bfa7f3f3dfb7f939f303e8,f7f6444885be9c2eb7bfa7f3f3dfb7f939f303e8,"Only load charset (encoding) frequency database once

Previously this database was loaded each time a file of unknown encoding was read, which could add a significant overhead when using “find in folder” with a large database and many files with unknown encoding."
sorbits,2017-10-03 06:36:10,https://api.github.com/repos/textmate/textmate/git/commits/7d38095532a9ed64b7a2c0842c52ee611474c003,7d38095532a9ed64b7a2c0842c52ee611474c003,Let EncodingWindowController accept NSData instead of char pointers
sorbits,2017-10-03 06:23:55,https://api.github.com/repos/textmate/textmate/git/commits/2748e12699063dd92d0211d36b32ccf44a7bc103,2748e12699063dd92d0211d36b32ccf44a7bc103,Change encoding classifier language from C++ to Objective-C++
sorbits,2017-10-03 06:19:41,https://api.github.com/repos/textmate/textmate/git/commits/c57a70db83776cb70db0f25dd16a8308bf54db7d,c57a70db83776cb70db0f25dd16a8308bf54db7d,Do not use NSOutlineView’s clickedRow for key events
sorbits,2017-10-03 06:18:05,https://api.github.com/repos/textmate/textmate/git/commits/5fc61d0a34ee04d477d59a73ff4efb092d47b2a5,5fc61d0a34ee04d477d59a73ff4efb092d47b2a5,"Don’t use menuForEvent: when showing NSOutlineView’s menu using ⌥F2

The reason is that menuForEvent: will draw an outline around the items under the mouse, which can be incorrect when we use the keyboard.

While we can address it by creating a fake mouse event that points to the selection, this will fail when there is no selection, so I felt it was better to always forego it."
sorbits,2017-10-02 18:47:39,https://api.github.com/repos/textmate/textmate/git/commits/5782569a1f0e218e3f2c8b45d4ca3874a2eee8a9,5782569a1f0e218e3f2c8b45d4ca3874a2eee8a9,"Workaround for modified icons in the file chooser being pixelated

Comment also added to the source (since this workaround is not optimal, and I would like to find the correct solution):

If we use `self.size` for the off-screen image buffer then we get a scaled up 16×16 image in the file chooser (⌘T).

My theory is that when drawing the image, the image size is 16×16 but the graphics context uses a transformation so that each point is multiple pixels, which our off-screen image does not replicate.

I do not know how to get the actual “pixel size” of the destination, so using the largest image is a workaround and knowing the actual size could give a better result."
sorbits,2017-10-02 18:12:46,https://api.github.com/repos/textmate/textmate/git/commits/ed6be1b35e67001f138e4fa43d3e471853923b71,ed6be1b35e67001f138e4fa43d3e471853923b71,"Remove var-args constructor from string list transformer

Instead add constructor that takes a dictionary so that it can be used with values that are not consecutive and starting from zero."
sorbits,2017-10-02 18:09:43,https://api.github.com/repos/textmate/textmate/git/commits/e804a57e04da37c2ea4fcb3b34ef270e9b8aba61,e804a57e04da37c2ea4fcb3b34ef270e9b8aba61,Change name of property setter: isChecking → checking
sorbits,2017-10-02 18:06:51,https://api.github.com/repos/textmate/textmate/git/commits/8d56ad455aa9603a32843db2adcdb8443c1eb044,8d56ad455aa9603a32843db2adcdb8443c1eb044,Use NSBundle API instead of oak::application_t
sorbits,2017-10-02 18:05:37,https://api.github.com/repos/textmate/textmate/git/commits/5bc450f56f36c6f5816456a18a28c632efa8a9ab,5bc450f56f36c6f5816456a18a28c632efa8a9ab,Move instance variables from implementation to interface block
rdwampler,2017-10-02 17:33:59,https://api.github.com/repos/textmate/textmate/git/commits/234e64dcfcf2845d3a1c34e29bcd7d5419d7f42d,234e64dcfcf2845d3a1c34e29bcd7d5419d7f42d,"Temporarily peg support at C++14 (10.13)

Building with c++1z support on the latest version of clang on High Sierra (10.13) causes a couple of runtime crashes."
rdwampler,2017-10-02 17:14:35,https://api.github.com/repos/textmate/textmate/git/commits/1fb9947d42df4ba96b46fae0d94b790ca6c83437,1fb9947d42df4ba96b46fae0d94b790ca6c83437,"Don't specify libc++ (10.9)

Since our minimum target is now 10.9, clang will default to use and link with libc++
instead of libstdc++.

This also reverts commit 162b3dee2c08fa235718f54852644548bec68d15."
sorbits,2017-09-15 07:02:24,https://api.github.com/repos/textmate/textmate/git/commits/239d5bc19fe6901e071568038aff4e46c1c03fb2,239d5bc19fe6901e071568038aff4e46c1c03fb2,Add format string API that accepts lambda (callback) for variables
sorbits,2017-09-15 07:00:10,https://api.github.com/repos/textmate/textmate/git/commits/f869f09b6c2fb7bddf88e67ead32ff66881fc721,f869f09b6c2fb7bddf88e67ead32ff66881fc721,Remove obsolete friend declaration
sorbits,2017-09-15 06:41:01,https://api.github.com/repos/textmate/textmate/git/commits/0b1496011ffd1accd36c74843b485e47b375be98,0b1496011ffd1accd36c74843b485e47b375be98,Use a lambda for format string variables
sorbits,2017-09-15 06:24:09,https://api.github.com/repos/textmate/textmate/git/commits/47ccee4f36f5273664c0df2a1abe8c7c7ea225be,47ccee4f36f5273664c0df2a1abe8c7c7ea225be,"Do not pass variables to `run_command` callback

The caller already has a copy of the environment variables so this was redundant."
sorbits,2017-09-15 05:49:24,https://api.github.com/repos/textmate/textmate/git/commits/78e0546a59b22a7680a0533316f0bbfd65c9af13,78e0546a59b22a7680a0533316f0bbfd65c9af13,Return variable value instead of iterator
sorbits,2017-09-15 05:41:07,https://api.github.com/repos/textmate/textmate/git/commits/bc3e42330b5c926cd1d68468fb137a2edbbf8b96,bc3e42330b5c926cd1d68468fb137a2edbbf8b96,Use nested visitor instead of swapping member variables
sorbits,2017-09-12 16:00:30,https://api.github.com/repos/textmate/textmate/git/commits/107a56e12dcd074ae62898548dd22e7487f7e859,107a56e12dcd074ae62898548dd22e7487f7e859,"Add some new format string transformations

- number: Show number with thousand separators, e.g. “32,351”
- relative: Show dates as relative to now, e.g. “3 minutes ago”
- duration: Show numbers as duration in seconds, e.g. “1 hour, 7 minutes”.
- dirname: Show all but last path component
- basename: Show last path component
- urlescape: Encode characters that are not valid to include in URLs
- shellescape: Wrap problematic strings in single quotes and/or escape single quote characters"
sorbits,2017-09-12 16:46:36,https://api.github.com/repos/textmate/textmate/git/commits/8bb4b9d337dda94cfe814cf57510aa3627789185,8bb4b9d337dda94cfe814cf57510aa3627789185,Update dialog plug-in
sorbits,2017-09-12 16:46:06,https://api.github.com/repos/textmate/textmate/git/commits/1b0eafddebcc5cb42c4ba233ab1d3107556264f3,1b0eafddebcc5cb42c4ba233ab1d3107556264f3,Add the 10.12 NSAlertStyle constants to sdk-compat.h
sorbits,2017-09-12 16:32:23,https://api.github.com/repos/textmate/textmate/git/commits/a0a15caa2ac2a0c992bec86b82a41ee1b8b3e838,a0a15caa2ac2a0c992bec86b82a41ee1b8b3e838,"Introduce sdk-compat.h for redeclaring stuff in latest SDK

This is when we are not yet ready to require building with the latest SDK but need to use some of symbols defined there."
sorbits,2017-09-12 16:19:11,https://api.github.com/repos/textmate/textmate/git/commits/896ab7c02efd3c499f9cbff10f616c9205f3b837,896ab7c02efd3c499f9cbff10f616c9205f3b837,fixup! Update MASPreferences submodule: identifier → viewIdentifier
sorbits,2017-09-12 14:43:55,https://api.github.com/repos/textmate/textmate/git/commits/ed915627801ca3c689d22b9ae55514c5ee90a7ca,ed915627801ca3c689d22b9ae55514c5ee90a7ca,"Use encode::url_part instead of NSString’s deprecated API

While NSString does have a “modern” replacement, it seems simpler to use our own API because we are already dealing with a std::string."
sorbits,2017-09-12 14:23:48,https://api.github.com/repos/textmate/textmate/git/commits/c5fd9d074d4fdb886e2cb56fa927647d1502e274,c5fd9d074d4fdb886e2cb56fa927647d1502e274,"fixup! Remove `OakShowSheetForWindow` wrapper (10.9)

There were two issues:

1. The window’s sheetParent property is cleared when sending orderOut: to the window so the NSModalResponse was never passed on, as we were sending it to nil.

2. The endSheet:returnCode: was using NSModalResponseCancel but the completion handler was actually testing for NSModalResponseAbort"
sorbits,2017-09-12 14:19:09,https://api.github.com/repos/textmate/textmate/git/commits/14e91b6d35c36a80d22295bd8a2696ce6b9aca98,14e91b6d35c36a80d22295bd8a2696ce6b9aca98,Output error when referencing non-existing target
sorbits,2017-09-12 14:10:32,https://api.github.com/repos/textmate/textmate/git/commits/f30ce914559683c0bfb0a57127725c7bd71c6536,f30ce914559683c0bfb0a57127725c7bd71c6536,"Use triangular bullet (‣) instead of black small triangle (▸)

We were already using the triangular bullet in a few places, so I made it consistent. Semantically the small triangle might be more appropriate, because we do not use the glyph as a point marker, but I think the triangular bullet aligns better with the text (it’s raised above the baseline where the triangle seems to just touch the baseline)."
sorbits,2017-09-12 14:07:36,https://api.github.com/repos/textmate/textmate/git/commits/212ef9b488ec717f241148cf8b6fbbfb2716e940,212ef9b488ec717f241148cf8b6fbbfb2716e940,Update MASPreferences submodule: identifier → viewIdentifier
sorbits,2017-07-12 10:11:56,https://api.github.com/repos/textmate/textmate/git/commits/353ae8839cf0b62dac08225a8240e9609bf0fb34,353ae8839cf0b62dac08225a8240e9609bf0fb34,"Remove OakPasteboardSelector’s shouldSendAction property

This was used when the selector also functioned as the standalone pasteboard history UI."
sorbits,2017-07-12 09:54:59,https://api.github.com/repos/textmate/textmate/git/commits/9c00277a465a06f401666749835c3dca6a6b4352,9c00277a465a06f401666749835c3dca6a6b4352,Change two methods to use Objective-C properties
sorbits,2017-07-12 09:49:00,https://api.github.com/repos/textmate/textmate/git/commits/5c853a7cb2f1c68d8bfa04539ca0e2778a13ce43,5c853a7cb2f1c68d8bfa04539ca0e2778a13ce43,"Handle the case where pasteboard selector returns “no selection” (-1)

This is based on a bug report which I have been unable to reproduce, as the pasteboard selector should always have one item selected."
sorbits,2017-07-12 09:23:46,https://api.github.com/repos/textmate/textmate/git/commits/511e370b77fa4fb5a2b4cd62316b28b3f7882551,511e370b77fa4fb5a2b4cd62316b28b3f7882551,"Change a few missing unsigned/int → NS[U]Integer

One API was declared as returning ‘unsigned’ but was actually returning a signed integer."
sorbits,2017-07-12 08:34:42,https://api.github.com/repos/textmate/textmate/git/commits/ffd6271a695665cd5f78c4b77a37a4f0136d8d11,ffd6271a695665cd5f78c4b77a37a4f0136d8d11,"Allow disabling TextMate’s JavaScript API for commands with HTML output

This is done by setting the ‘disableJavaScriptAPI’ key to ‘true’ in the tmCommand file.

The rationale behind this is that a command like “HTML → Show Preview” is using the HTML output view with user data which should not have access to the special TextMate JavaScript object, for example a user may have a `<script>` tag that loads JavaScript from a CDN, and such script would effectively have shell access to the user’s machine."
rdwampler,2017-06-23 17:24:04,https://api.github.com/repos/textmate/textmate/git/commits/c0fb320549bc0ef1b437756d1a67b2dfda026dbc,c0fb320549bc0ef1b437756d1a67b2dfda026dbc,"Fix issues with redundant qualified names

Starting in Clang 5, lookup with nested-class names is stricter (e.g., A::A now specifically refers to the constructor name)."
rdwampler,2017-06-23 14:44:28,https://api.github.com/repos/textmate/textmate/git/commits/49cc123544edb219a9fd131c68837e32bfaa271d,49cc123544edb219a9fd131c68837e32bfaa271d,"Change `std::vector< std::pair<char const*, char const*> >` to `auto` (C++17)

C++17 added a non-const overload for std::string::data()."
rdwampler,2017-06-08 21:09:05,https://api.github.com/repos/textmate/textmate/git/commits/44a7e580d92df67da4fc61b13f45be433c38182f,44a7e580d92df67da4fc61b13f45be433c38182f,Update deployment target to 10.9
sorbits,2017-05-31 19:52:54,https://api.github.com/repos/textmate/textmate/git/commits/4d86258e47a16016ac08189b6929da636885db75,4d86258e47a16016ac08189b6929da636885db75,Use new alert style enumeration names (10.12)
rdwampler,2017-04-26 21:19:26,https://api.github.com/repos/textmate/textmate/git/commits/08f41a37dc7dd647232bacb8eaca93801d2d5b00,08f41a37dc7dd647232bacb8eaca93801d2d5b00,"Add ""Copy As Pathname"" to file browser's context menu

This is implemented as an alternate menu item to ""Copy"" like in Finder."
rdwampler,2017-04-21 19:34:44,https://api.github.com/repos/textmate/textmate/git/commits/e1ed38959c56f20165214dd8ec02485d0c164aa9,e1ed38959c56f20165214dd8ec02485d0c164aa9,Exclude SyntaxMate.tmBundle from from ⌘T / ⇧⌘F
rdwampler,2017-04-12 02:01:29,https://api.github.com/repos/textmate/textmate/git/commits/f3cd0b0797b375d9ebbeda1f3c1665a9ea628d7d,f3cd0b0797b375d9ebbeda1f3c1665a9ea628d7d,"Resolve ambiguous autolayout issues

Most of these layout changes are related to the common pattern we used to set constraints for ""dividers"", where one of the dividers is specified to be connected to both edges of its superview then setting the other dividers' constraints to have equal widths (e.g., @""H:|[divider(==divider2,==divider3)]""). On 10.12, this now appears to result in ambiguous layout. We can resolve it by connecting at least one of the edges for each divider to its superview."
rdwampler,2017-02-02 00:35:16,https://api.github.com/repos/textmate/textmate/git/commits/a124b494c20b18878e347d185faedacb9d3e1c9d,a124b494c20b18878e347d185faedacb9d3e1c9d,"Revert ""Explicitly cast back to the CGEventFlags typedef""

This reverts commit 9e4e88ce76a334abe01f79e9d355623beac75831.

CGEventFlags is (correctly) defined in the 10.12 sdk as:

   typedef CF_OPTIONS(uint64_t, CGEventFlags)"
rdwampler,2016-11-22 21:53:14,https://api.github.com/repos/textmate/textmate/git/commits/d1ecba26290ed951b1b2360ec903233c272b515b,d1ecba26290ed951b1b2360ec903233c272b515b,"Use the FSRef API directly and delete fsref_t (10.9)

The textClipping file is saved as a binary plist on 10.11 and 10.12 (I could not verify 10.10) so we can eventually replace the use of FSRef here as well."
rdwampler,2016-11-22 20:17:44,https://api.github.com/repos/textmate/textmate/git/commits/a377b35bdebc63e62c64fb7ab778c2b037508ece,a377b35bdebc63e62c64fb7ab778c2b037508ece,Use OakMoveToTrash instead of FSMoveObjectToTrashSync (10.9)
rdwampler,2016-11-22 20:16:11,https://api.github.com/repos/textmate/textmate/git/commits/b9665fa44e78cc7d561ea210118326887bda296f,b9665fa44e78cc7d561ea210118326887bda296f,"Introduce OakMoveToTrash and make it accessible only to C++

This is just a C++ wrapper around the Cocoa API for moving a file to trash."
rdwampler,2016-11-22 16:57:11,https://api.github.com/repos/textmate/textmate/git/commits/b8143a626c5c7345a2cf5c960edbf1e76150589c,b8143a626c5c7345a2cf5c960edbf1e76150589c,"Avoid use of NSRunInformationalAlertPanel (10.9)

Although this is actually deprecated in 10.10, new APIs are available in 10.9 and it will make addressing deprecation warnings when upgrading to 10.10 easier."
rdwampler,2016-11-22 16:15:02,https://api.github.com/repos/textmate/textmate/git/commits/07c29ff14cfab45d8138977f1e2aa56ce80c2372,07c29ff14cfab45d8138977f1e2aa56ce80c2372,"Avoid use of NSRunCriticalAlertPanel (10.9)

Although this is actually deprecated in 10.10, new APIs are available in 10.9 and it will make addressing deprecation warnings when upgrading to 10.10 easier."
rdwampler,2016-11-22 15:54:43,https://api.github.com/repos/textmate/textmate/git/commits/038acacca9583f50f957849aab1207ef7fc408c7,038acacca9583f50f957849aab1207ef7fc408c7,"Avoid use of NSRunAlertPanel (10.9)

Although this is actually deprecated in 10.10, new APIs are available in 10.9 and it will make addressing deprecation warnings when upgrading to 10.10 easier."
rdwampler,2016-11-22 04:04:02,https://api.github.com/repos/textmate/textmate/git/commits/903d34338db353958661fb574e549a85b524ad18,903d34338db353958661fb574e549a85b524ad18,Remove remaining 10.9 LEGACY markers
rdwampler,2016-11-22 03:53:31,https://api.github.com/repos/textmate/textmate/git/commits/42654ff283412e51dce34e1018661d606eb59328,42654ff283412e51dce34e1018661d606eb59328,Use appropriate enum case for NSSavePanel and NSOpenPanel result (10.9)
rdwampler,2016-11-22 03:16:20,https://api.github.com/repos/textmate/textmate/git/commits/33167c8c5263515ded7b4e996320081c4df68022,33167c8c5263515ded7b4e996320081c4df68022,Update to modern sheet API (10.9)
rdwampler,2016-11-21 20:47:26,https://api.github.com/repos/textmate/textmate/git/commits/043a00c9343c477abab766c0cff0f3ba6e2cadc6,043a00c9343c477abab766c0cff0f3ba6e2cadc6,"Remove `OakShowSheetForWindow` wrapper (10.9)

Also removed `OakSheetCallbackDelegate` since it's no longer used now."
rdwampler,2016-11-21 20:35:43,https://api.github.com/repos/textmate/textmate/git/commits/30891b1a627a6b6b32d8f87780e68cc3b0933e78,30891b1a627a6b6b32d8f87780e68cc3b0933e78,Remove `OakShowAlertForWindow` wrapper (10.9)
rdwampler,2016-11-21 19:52:21,https://api.github.com/repos/textmate/textmate/git/commits/dfc9db4413139410e0660bb85bc62833c9f80aa9,dfc9db4413139410e0660bb85bc62833c9f80aa9,Use our NSAlert category method for creating NSAlert objects
rdwampler,2016-11-21 19:47:00,https://api.github.com/repos/textmate/textmate/git/commits/9feef86b16cd2c0156fac8284080ca50126b4347,9feef86b16cd2c0156fac8284080ca50126b4347,Remove workaround for `trashItemAtURL:resultingItemURL:error` (10.9)
rdwampler,2016-11-21 15:24:00,https://api.github.com/repos/textmate/textmate/git/commits/9fae8a3192b41cf7674ba4c03b36110884a3032b,9fae8a3192b41cf7674ba4c03b36110884a3032b,Update deployment target to 10.9 for all xib files
rdwampler,2016-11-21 15:17:29,https://api.github.com/repos/textmate/textmate/git/commits/fb2775b0a3f855a8a5038a64645f37d0fd4ba19e,fb2775b0a3f855a8a5038a64645f37d0fd4ba19e,Set minimum OS to 10.9
sorbits,2017-03-10 07:40:36,https://api.github.com/repos/textmate/textmate/git/commits/5f7d5b53d6b94527ec2b81b84e0c9ace8bc00407,5f7d5b53d6b94527ec2b81b84e0c9ace8bc00407,Update dialog plug-in (use view-based table view for popup)
shpakovski,2016-11-05 20:25:13,https://api.github.com/repos/textmate/textmate/git/commits/2156555057af53065248d1bc9e93ab35eb7bfa6f,2156555057af53065248d1bc9e93ab35eb7bfa6f,SyntaxMate: XPC Service for third-party apps
mkhl,2017-02-26 11:19:58,https://api.github.com/repos/textmate/textmate/git/commits/a00f13f071ae2463f09680083e9e3ef21b2daf6e,a00f13f071ae2463f09680083e9e3ef21b2daf6e,Treat *.target files as source.tm-properties
sorbits,2017-02-03 11:03:54,https://api.github.com/repos/textmate/textmate/git/commits/e072a6a1ac88fd2ef3a3362af05da804b7348872,e072a6a1ac88fd2ef3a3362af05da804b7348872,Update CxxTest subproject (despite not really being used)
sorbits,2017-02-03 11:03:33,https://api.github.com/repos/textmate/textmate/git/commits/cd9c6b1c3d6cce8307b836973d1695101190ceec,cd9c6b1c3d6cce8307b836973d1695101190ceec,Use single setting to pair Go’s main and test files as related
sorbits,2017-02-03 11:02:03,https://api.github.com/repos/textmate/textmate/git/commits/ddb7a630743504fde04fc3eeaefb16050a39df5b,ddb7a630743504fde04fc3eeaefb16050a39df5b,Update mate’s help text to show mark’s value as optional
sorbits,2017-02-03 11:00:25,https://api.github.com/repos/textmate/textmate/git/commits/76cc25b2a68605749a08f511ae80ce9f72432618,76cc25b2a68605749a08f511ae80ce9f72432618,Update copyright year to 2017
sorbits,2017-02-03 10:57:53,https://api.github.com/repos/textmate/textmate/git/commits/fe000014fd92b4a65046a8eea7024633e2df6391,fe000014fd92b4a65046a8eea7024633e2df6391,"Don’t save metadata for the COMMIT_EDITMSG file

Git will re-use the file, but with new content, so we do not want to remember caret position or similar.

Previously we recommended setting the git editor to ‘mate -wl1’ but disabling metadata is a better solution."
chuthan20,2017-01-01 06:33:53,https://api.github.com/repos/textmate/textmate/git/commits/4b844e276943b31f0311f9fafac36346f59ab2c7,4b844e276943b31f0311f9fafac36346f59ab2c7,"Update DocumentWindowController.mm

Fixed typo when comparing"
rdwampler,2016-12-14 03:12:04,https://api.github.com/repos/textmate/textmate/git/commits/6e28cea42c364ccda196cb216f8318a55adbbcdb,6e28cea42c364ccda196cb216f8318a55adbbcdb,Don't try to replace a folder with an item it contains
jakecast,2016-12-06 20:55:26,https://api.github.com/repos/textmate/textmate/git/commits/d380e7ab0c3fd2243f2594c6ec13934108fc245a,d380e7ab0c3fd2243f2594c6ec13934108fc245a,"Added ability to customize document’s title shown in tabs

To change the title, set `tabTitle` in `.tm_properties` to something other than `$TM_DISPLAYNAME`."
sorbits,2016-12-10 05:42:27,https://api.github.com/repos/textmate/textmate/git/commits/2c524907d6a36cd3c0f14e52a9b973ed2ac1822c,2c524907d6a36cd3c0f14e52a9b973ed2ac1822c,"Disable Xcode data source by default

It can be enabled by setting the ‘enableXcodeDataSource’ defaults key to YES.

The reason it has been disabled is that there is a file browser (crash) issue, and the 3 users who have provided steps to reproduce all mention clicking an Xcode project (though myself and Michael Sheets have been unable to reproduce, following those steps, and I do not think the bug is with the Xcode data source, but it does seem to be a catalyst)."
sorbits,2016-12-10 05:21:49,https://api.github.com/repos/textmate/textmate/git/commits/8785f0e8079e47407e243fe78f75a881f63b6355,8785f0e8079e47407e243fe78f75a881f63b6355,Include uninstalled bundles when asking for dependents
sorbits,2016-12-03 14:50:09,https://api.github.com/repos/textmate/textmate/git/commits/cd0773c55f38613f7a78e62820816221e3d6210f,cd0773c55f38613f7a78e62820816221e3d6210f,Checkin release notes for 2.0-rc.5
rdwampler,2016-12-05 17:00:12,https://api.github.com/repos/textmate/textmate/git/commits/dedbc3fe4fff3f20bfbdeba513b36d5c9403932d,dedbc3fe4fff3f20bfbdeba513b36d5c9403932d,"Stop exporting scan_path.h

This header was removed in commit 2ffbfe02a568a41283b2bd4e7a27a69fcbb03aa7."
sorbits,2016-12-03 14:41:52,https://api.github.com/repos/textmate/textmate/git/commits/78a71705bc068097d675734a3bf0cf039d123bbb,78a71705bc068097d675734a3bf0cf039d123bbb,"Cache document’s display name to avoid repeated file system stats

This would be slowing down editing when using a high-latency file system, as the document’s display name would be fetched each time the window was updated."
sorbits,2016-12-03 12:49:47,https://api.github.com/repos/textmate/textmate/git/commits/8df2b50061dc1be5d1699a1855d79628357f90f6,8df2b50061dc1be5d1699a1855d79628357f90f6,"Fix previous README commit

The commit in question is ba8b6d52f4bdc40651bea971eca6cb18a3d2d2c6"
rdwampler,2016-11-29 05:03:25,https://api.github.com/repos/textmate/textmate/git/commits/a499a1559d4b3a7ccf4a53e9f478f97a66fbc233,a499a1559d4b3a7ccf4a53e9f478f97a66fbc233,"Ensure file is on disk before adding it to the Recent menu

This reimplements 9c3923b4854a9bf910c6a26531e77f2be8524aba, which was accidentally lost in refactoring."
sorbits,2016-11-18 16:20:23,https://api.github.com/repos/textmate/textmate/git/commits/0950fdfc74ffc21bd3b20b4dbcd912caaef999bb,0950fdfc74ffc21bd3b20b4dbcd912caaef999bb,Checkin release notes for 2.0-rc.4
sorbits,2016-11-18 16:18:57,https://api.github.com/repos/textmate/textmate/git/commits/ff64b89b89ebfdbc746b45e414a036e10e073749,ff64b89b89ebfdbc746b45e414a036e10e073749,"Introduced disableFilterListAutoScroll

For context see http://lists.macromates.com/textmate/2016-November/040134.html"
sorbits,2016-11-15 16:02:07,https://api.github.com/repos/textmate/textmate/git/commits/3450724cc4584805ddadf2ad36d0d08668449040,3450724cc4584805ddadf2ad36d0d08668449040,Introduce enableResponsiveScroll user defaults
sorbits,2016-11-15 15:56:42,https://api.github.com/repos/textmate/textmate/git/commits/b8e84e344c1e2f7e4effd636adbede8bd255b83e,b8e84e344c1e2f7e4effd636adbede8bd255b83e,"Let Open Quickly… block main thread until open documents are loaded

This should ensure that ⌘T quickly followed by ↩ will always select the last document (as long as it is still open)."
sorbits,2016-11-15 15:32:11,https://api.github.com/repos/textmate/textmate/git/commits/2cbb657bbebc38d4c2db963e1e553eb5cb673bb7,2cbb657bbebc38d4c2db963e1e553eb5cb673bb7,"Do not abort when failing to create persistent storage for CoreData

While rare, it seems to happen for some users for seemingly unknown reason."
sorbits,2016-11-15 15:10:29,https://api.github.com/repos/textmate/textmate/git/commits/84889c703d7c5c460baf8a89266687f645b9cdf2,84889c703d7c5c460baf8a89266687f645b9cdf2,"Move crash reporter defaults keys to Preferences framework

Seeing a few crashes from registering user defaults in the “post crash reports” block, hence the motivation to eliminate it."
sorbits,2016-11-11 08:46:04,https://api.github.com/repos/textmate/textmate/git/commits/51c067fb2d37b6a2a997986eb6adbd57d73a4b05,51c067fb2d37b6a2a997986eb6adbd57d73a4b05,"Fix race condition

We could call pop_callback before having pushed one because the latter is done after delay.

Also, when disabling observeSCMStatus we now destroy the SCM handle rather than only remove our callback (since we do not re-use the handle)."
sorbits,2016-11-15 14:46:33,https://api.github.com/repos/textmate/textmate/git/commits/dd7a7b27243e737db69c0295db0a2d3faaf9daf2,dd7a7b27243e737db69c0295db0a2d3faaf9daf2,"Revert ""Fix race condition""

This reverts commit 9467f3f92b5ef81cfb1bd3495171d2a5cf34ccba."
sorbits,2016-11-13 09:21:48,https://api.github.com/repos/textmate/textmate/git/commits/5a5f5e8d75b9606d13fd687dcd7f4fc7f8fbe6c6,5a5f5e8d75b9606d13fd687dcd7f4fc7f8fbe6c6,Make folder search depth-first
sorbits,2016-11-11 15:11:17,https://api.github.com/repos/textmate/textmate/git/commits/6263e7ff54f2f568fea1160af31218e374422257,6263e7ff54f2f568fea1160af31218e374422257,Checkin release notes for 2.0-rc.1
sorbits,2016-11-11 15:06:09,https://api.github.com/repos/textmate/textmate/git/commits/4e2625189b8733b2101beb947604ae4ba4fd6a78,4e2625189b8733b2101beb947604ae4ba4fd6a78,Remove beta release disclaimer
sorbits,2016-11-11 15:05:47,https://api.github.com/repos/textmate/textmate/git/commits/d2cfbb22275f1a048e7767712b28ff7090b45f7d,d2cfbb22275f1a048e7767712b28ff7090b45f7d,Remove expiration timer
sorbits,2016-11-11 08:46:04,https://api.github.com/repos/textmate/textmate/git/commits/9467f3f92b5ef81cfb1bd3495171d2a5cf34ccba,9467f3f92b5ef81cfb1bd3495171d2a5cf34ccba,"Fix race condition

We could call pop_callback before having pushed one because the latter is done after delay.

The way we obtained a weak reference to ourself was also scoped incorrectly so our block effectively had a strong reference to self.

Lastly when disabling observeSCMStatus we should destroy the SCM handle rather than only remove our callback (since we do not re-use the handle)."
sorbits,2016-11-11 08:35:47,https://api.github.com/repos/textmate/textmate/git/commits/944ad3ea5d9ce244553e9b1d0561d363cf49c49e,944ad3ea5d9ce244553e9b1d0561d363cf49c49e,"Rename API: add_callback → push_callback

This makes it clear what is actually done."
sorbits,2016-11-06 10:44:10,https://api.github.com/repos/textmate/textmate/git/commits/d05c477eded4c4856b1661b7a6d640f8e34050fe,d05c477eded4c4856b1661b7a6d640f8e34050fe,"Copy/paste linker settings from license → TextMate target

This is currently required because linker settings are not merged."
sorbits,2016-11-06 09:38:02,https://api.github.com/repos/textmate/textmate/git/commits/f47f8341fa79a6fabc8d7d1aa67df3316597254a,f47f8341fa79a6fabc8d7d1aa67df3316597254a,Keep `-dead_strip_dylibs` linker setting for the QuickLook target
sorbits,2016-11-06 09:35:12,https://api.github.com/repos/textmate/textmate/git/commits/2f7d55dfb8d6818650e79af22d9873d29716dd5c,2f7d55dfb8d6818650e79af22d9873d29716dd5c,"Remove use of `-rpath` build setting

We no longer dynamically load any (custom) libraries or frameworks, so this setting is no longer needed."
sorbits,2016-10-31 14:14:28,https://api.github.com/repos/textmate/textmate/git/commits/5caf3f789dc1ef4fedd139d178f00bcebfa3b093,5caf3f789dc1ef4fedd139d178f00bcebfa3b093,"Update build file generator

We no longer build frameworks as standalone targets but instead link it all together, which also means resources from “frameworks” will end up in the main bundle.

Currently the new build file generator does not create test targets and changing linker settings in frameworks is not inherited by the main target (since there is no naive way to “merge” framework specific linker settings).

For custom library dependencies (capnp, kj, and libressl) we specify them via `LIBS` using `/path/to/libfoo.a` so that the root target will inherit these dependencies and using the absolute path ensures that we get the static (rather than dynamic) version."
sorbits,2016-11-06 09:28:55,https://api.github.com/repos/textmate/textmate/git/commits/383cae795d9126ee5e36a672a458e46b756a30ce,383cae795d9126ee5e36a672a458e46b756a30ce,"Move libressl include path to main target file

Although we only use the headers in a single framework, we generally do not use per-framework include paths and furthermore, by having it as a “global” setting, it’s much easier to change how TextMate is built (w/o having to analyzer compiler flags like `-I`)."
sorbits,2016-11-04 05:13:50,https://api.github.com/repos/textmate/textmate/git/commits/f28faeafcb161ad449b636b77193dfc767ffa9c0,f28faeafcb161ad449b636b77193dfc767ffa9c0,"Do not pass bundle items by reference

When executing a bundle item without any default document open, we may first “load” the document, which is done via a callback (for when the document is loaded), and at that time, the bundle item reference has become invalid."
sorbits,2016-11-04 05:12:14,https://api.github.com/repos/textmate/textmate/git/commits/3e276e7e0442e35420b4969bd16c4b7dc8262c43,3e276e7e0442e35420b4969bd16c4b7dc8262c43,"Update assertion

We change the semantics of “open” when we introduced the “loaded” property."
sorbits,2016-11-04 05:07:05,https://api.github.com/repos/textmate/textmate/git/commits/8c5936d3d7ded6a3c12010f743ad609d9a9cf933,8c5936d3d7ded6a3c12010f743ad609d9a9cf933,"Only run modal event loop runner when it exists

When running commands without a text view (i.e. no windows open), we do not have a modal event runner."
sorbits,2016-11-03 17:11:25,https://api.github.com/repos/textmate/textmate/git/commits/517847b8c73444e052e975094929a06fd1426396,517847b8c73444e052e975094929a06fd1426396,Update location of dsym files
sorbits,2016-11-03 17:07:49,https://api.github.com/repos/textmate/textmate/git/commits/a1a5430abb24802592a70e78d506f4ec11a32cbc,a1a5430abb24802592a70e78d506f4ec11a32cbc,Fix potential nil value in dictionary literal
sorbits,2016-11-03 16:52:45,https://api.github.com/repos/textmate/textmate/git/commits/122bd0b8a1cecbb49cd919d05f4a3bd2e060ec7a,122bd0b8a1cecbb49cd919d05f4a3bd2e060ec7a,File descriptor was closed twice causing a potential crash
sorbits,2016-11-02 15:57:51,https://api.github.com/repos/textmate/textmate/git/commits/30b409b2eb7fafc1aceec81d14a4404bcb0aca7c,30b409b2eb7fafc1aceec81d14a4404bcb0aca7c,"Revert ""Remove custom handling of ‘return’ to edit items in file browser""

It appears that the OS does not reliable initiate edit on 10.12.1.

When expanding and then collapsing an item, the OS will often then no longer edit the item on return.

This reverts commit cce3417962c5c3f573c392ec6998f7e9eeaaede7."
sorbits,2016-11-02 15:18:32,https://api.github.com/repos/textmate/textmate/git/commits/690e8d22b0f94f04ce3c52dec31024a5ddb9f447,690e8d22b0f94f04ce3c52dec31024a5ddb9f447,"Do not run modal event loop when doing command preflight actions

Preflight actions could show dialogs (such as a save dialog) which would then be unresponsive, since we were running a modal event loop."
sorbits,2016-11-02 15:16:24,https://api.github.com/repos/textmate/textmate/git/commits/aec44343fff786d7e59948a8fb4b374ea20a8dac,aec44343fff786d7e59948a8fb4b374ea20a8dac,Cancelling a save dialog could mark document as saved
sorbits,2016-11-01 13:42:59,https://api.github.com/repos/textmate/textmate/git/commits/c92e0c42d8225dbf2b62f56883af129bf0097159,c92e0c42d8225dbf2b62f56883af129bf0097159,"Provide save dialog with document’s file type for encoding settings

Previously the save dialog would update encoding settings solely based on the path, but the user could set different line endings or character set for a file type (rather than extension)."
sorbits,2016-11-01 12:57:37,https://api.github.com/repos/textmate/textmate/git/commits/783d07309848fab8b59088159cb6a249a97796f9,783d07309848fab8b59088159cb6a249a97796f9,"Opening document with no newlines no longer default to LF

Since creating new untitled documents go through the same “open” code they would have their newlines set to LF, this is no longer the case, so the global (or targeted) lineEndings setting now decide what to use (when saving the document).

Currently creating an untitled document from a buffer (e.g. `echo foo|mate`) will do newline detection and thus will ignore user settings during save, if the buffer had any newlines during initialization.

This may or may not be desired. Probably it should do newline detection when the data is provided by the user, but not when it is based on “internal” data, for example a command with “New Document” as output location."
sorbits,2016-11-01 12:00:39,https://api.github.com/repos/textmate/textmate/git/commits/49556fddc4b24e44d50e6ec31be5a2b5137a013b,49556fddc4b24e44d50e6ec31be5a2b5137a013b,"Do not send initWithSuiteName: to user defaults on 10.8

This method was not available until 10.9. For 10.8 we forego migrating pre-release user defaults."
sorbits,2016-10-31 14:18:50,https://api.github.com/repos/textmate/textmate/git/commits/8c39304e66165ea427ce86d1889ca2e1406f2059,8c39304e66165ea427ce86d1889ca2e1406f2059,Remove ‘scmls’ target since it uses API that no longer exists
sorbits,2016-10-31 14:17:46,https://api.github.com/repos/textmate/textmate/git/commits/d261e2801eedb23c05354cf426a5984275c2b4b5,d261e2801eedb23c05354cf426a5984275c2b4b5,"Do not copy extended attributes to build directory

Also exclude extended attributes when creating the tar archive, and copy symbolic links as links (instead of copying the file they reference)."
sorbits,2016-10-31 12:04:55,https://api.github.com/repos/textmate/textmate/git/commits/fb623343625880103697ef2859f464f3148adc14,fb623343625880103697ef2859f464f3148adc14,"Add “small” prefix to our custom document icons

A few of these names clash with our file type icons (Blank, C, JavaScript, Python, Ruby, and Text) so we need to change one of the sets if we want to build TextMate.app with a single Resources folder (instead of keeping resources with their respective frameworks)."
sanssecours,2016-11-02 13:57:52,https://api.github.com/repos/textmate/textmate/git/commits/e8c0488f24b9aa3406db2db06d1fcc8699ff7e55,e8c0488f24b9aa3406db2db06d1fcc8699ff7e55,"Specify line endings for ABNF grammars

The current [RFC][] document that describes [ABNF][] specifies in
section “2.2. Rule Form”, that ABNF grammars use CRLF (Carriage Return
+ Line Feed) as rule/line separator. We therefore set the default line
ending for the scope `source.abnf` to `""\r\n""`.

[ABNF]: https://en.wikipedia.org/wiki/Augmented_Backus–Naur_form
[RFC]: https://tools.ietf.org/html/rfc5234"
gabrfarina,2016-10-31 00:36:25,https://api.github.com/repos/textmate/textmate/git/commits/68c1aa6cd0ba88e767d33fc5f431f85be379a2df,68c1aa6cd0ba88e767d33fc5f431f85be379a2df,Fix broken mercurial link
mathbunnyru,2016-10-28 08:46:14,https://api.github.com/repos/textmate/textmate/git/commits/926f7028285170076169a1acf78b9ff1d88db686,926f7028285170076169a1acf78b9ff1d88db686,Use CFPropertyListWrite as CFPropertyListWriteToStream is deprecated
sorbits,2016-10-24 12:43:12,https://api.github.com/repos/textmate/textmate/git/commits/2858c3a47c7f9fe81c2e37f33a57f16329307d3e,2858c3a47c7f9fe81c2e37f33a57f16329307d3e,Fix syntax error (presumably allowed by older clang)
sorbits,2016-10-24 12:42:33,https://api.github.com/repos/textmate/textmate/git/commits/577c663d4e00c5df189f9f5f2f4cf37119a35200,577c663d4e00c5df189f9f5f2f4cf37119a35200,Allow building OakDebug framework with NDEBUG defined
sorbits,2016-10-24 12:41:39,https://api.github.com/repos/textmate/textmate/git/commits/8dbe66cdb13ea87f5c58f953a81914b9f1dc3f52,8dbe66cdb13ea87f5c58f953a81914b9f1dc3f52,Remove support for building targets with manual retain/release
sorbits,2016-10-24 12:38:35,https://api.github.com/repos/textmate/textmate/git/commits/5f308732b784d39232b6cadd5be82a60df5cf214,5f308732b784d39232b6cadd5be82a60df5cf214,"Enable ARC for MGScopeBar

This is the original commit which I cherry picked https://github.com/QSRINT/MGScopeBar/commit/4213dcfbd3b4dcaa3f0e6261d7f608831acafc00"
sorbits,2016-10-24 08:00:57,https://api.github.com/repos/textmate/textmate/git/commits/9d980a07df828eb8366a560ce78e6ac89d85cb1b,9d980a07df828eb8366a560ce78e6ac89d85cb1b,"Remove NSPrincipalClass from framework bundles’s Info.plist

This is not something which is used anywhere and a few of the frameworks does not have a principal class."
sorbits,2016-10-24 05:02:26,https://api.github.com/repos/textmate/textmate/git/commits/56610d4e896a815bb5941d4177b7db3d33df9771,56610d4e896a815bb5941d4177b7db3d33df9771,Drop rules to skip running tests since they do not work
sorbits,2016-10-23 19:20:36,https://api.github.com/repos/textmate/textmate/git/commits/95b8c58c4e55510157abb585a4b77ea9592593bf,95b8c58c4e55510157abb585a4b77ea9592593bf,Avoid typecasting our delegate
sorbits,2016-10-23 19:16:07,https://api.github.com/repos/textmate/textmate/git/commits/7bbcc93c34cdd2b98f38adbd33d3fb4977499f9c,7bbcc93c34cdd2b98f38adbd33d3fb4977499f9c,"Update busy property to match (updated) status bar API

This would throw an exception when changing busy status from JavaScript.

This issue was introduced in f0a2a709984b33e6fa79cd1b2c62fea42d250c60.

Closes textmate/latex.tmbundle#155."
sorbits,2016-10-23 16:56:36,https://api.github.com/repos/textmate/textmate/git/commits/5befa321b9ffbc4f513da144b7ffb36579b3854c,5befa321b9ffbc4f513da144b7ffb36579b3854c,Remove reference to obsolete target location
sorbits,2016-10-23 16:56:00,https://api.github.com/repos/textmate/textmate/git/commits/ecfcce9ebb735dff1239f35d07486e21ac20ce3f,ecfcce9ebb735dff1239f35d07486e21ac20ce3f,Remove unused build directive
sorbits,2016-10-23 16:19:04,https://api.github.com/repos/textmate/textmate/git/commits/e4c408fcadc78b85f787c46cc8f2e0396662915f,e4c408fcadc78b85f787c46cc8f2e0396662915f,"Improve disambiguation of applications in the Open With menu

If there are multiple copies of the same app installed and the version numbers are the same, it will now include location information."
sorbits,2016-10-23 09:23:38,https://api.github.com/repos/textmate/textmate/git/commits/1f0c52a8cfed7ad3dc7f30b1b37371c9409000e4,1f0c52a8cfed7ad3dc7f30b1b37371c9409000e4,"Let Open With use application URL instead of bundle identifier

It is not unlikely to have multiple versions of Xcode installed which all use the same bundle identifier, but we want to select a specific one for opening xib files etc."
sorbits,2016-10-23 05:38:09,https://api.github.com/repos/textmate/textmate/git/commits/50b3da7788493f6d29bc7f884d03fa030129556f,50b3da7788493f6d29bc7f884d03fa030129556f,Create Show Hidden Files checkbox in code instead of using a xib
sorbits,2016-10-23 05:24:56,https://api.github.com/repos/textmate/textmate/git/commits/ebe602913772bc096f0e286cea74d082d5e6f8d1,ebe602913772bc096f0e286cea74d082d5e6f8d1,Register defaults in +initialize instead of using dispatch_once
sorbits,2016-10-23 04:32:49,https://api.github.com/repos/textmate/textmate/git/commits/efecda752611bea7be3a2a320b5ecedc12fdb176,efecda752611bea7be3a2a320b5ecedc12fdb176,Reuse variables already initialized
sorbits,2016-10-22 17:33:57,https://api.github.com/repos/textmate/textmate/git/commits/876c1c324aa84f08046beca9e1ce423c956b07db,876c1c324aa84f08046beca9e1ce423c956b07db,Checkin release notes for 2.0-beta.12.26
sorbits,2016-10-22 17:13:36,https://api.github.com/repos/textmate/textmate/git/commits/204c735079d01a5bcc43923756827a26a3fbf107,204c735079d01a5bcc43923756827a26a3fbf107,Change bundle identifier to com.macromates.TextMate
sorbits,2016-10-22 16:26:43,https://api.github.com/repos/textmate/textmate/git/commits/cdf7cc0f15cf01e16e46959c34d3066dc773c2cc,cdf7cc0f15cf01e16e46959c34d3066dc773c2cc,Enable kSearchIgnoreOrderingKey for Open Quickly… (⌘T)
sorbits,2016-10-22 16:24:09,https://api.github.com/repos/textmate/textmate/git/commits/c6244245392eaf32a366eff203a00935004d6e39,c6244245392eaf32a366eff203a00935004d6e39,"Add kSearchIgnoreOrderingKey for when enumerating documents at path

This will return all open documents before starting to scan the disk and should make functionality like Open Quickly… (⌘T) feel faster (if enabled)."
sorbits,2016-10-22 16:22:20,https://api.github.com/repos/textmate/textmate/git/commits/948d7106d8aa1cc25e54a6befffc7a73b7eabb21,948d7106d8aa1cc25e54a6befffc7a73b7eabb21,Add openDocumentsInDirectory: method for all open documents in folder
sorbits,2016-10-22 15:43:00,https://api.github.com/repos/textmate/textmate/git/commits/e669722ba2cbf87c334e951b72328d71f2aec1d4,e669722ba2cbf87c334e951b72328d71f2aec1d4,Remove workaround for changed scandir prototype (10.8)
sorbits,2016-10-22 15:40:13,https://api.github.com/repos/textmate/textmate/git/commits/05749c5c64a390e5d6663c4782f88938ba82288d,05749c5c64a390e5d6663c4782f88938ba82288d,"Document creation in background thread could fail

This is because we remove the document record in dealloc (unregister), but at that time, the reference in the record (for the path/inode) has already been zeroed, so if a document is created for the same path/inode after the reference has been zeroed but before the record has been unregistered, we would use the zeroed reference as the result from documentWithPath:."
mathbunnyru,2016-10-20 21:33:08,https://api.github.com/repos/textmate/textmate/git/commits/440414f96c3766d46cdad708f0529bfac65a9bf6,440414f96c3766d46cdad708f0529bfac65a9bf6,"Use nullptr in all C++ files instead of NULL

This brings us a bit of extra type safety, for example where an integer is expected, nullptr should be disallowed by the compiler (unlike NULL)."
sorbits,2016-10-22 09:29:19,https://api.github.com/repos/textmate/textmate/git/commits/f78a3b2ce4bbcdcb9ea21473eae29f88bc056aa1,f78a3b2ce4bbcdcb9ea21473eae29f88bc056aa1,Use kCFAllocatorDefault instead of NULL
mathbunnyru,2016-10-18 21:59:11,https://api.github.com/repos/textmate/textmate/git/commits/d6db299a8f848869f555c38736d5a67180c6c719,d6db299a8f848869f555c38736d5a67180c6c719,Changed from NULL to nullptr in variadic templates for portability
rdwampler,2016-10-18 18:02:16,https://api.github.com/repos/textmate/textmate/git/commits/5fb4c6850e0232fd569263ea0a4e31ac277d26b2,5fb4c6850e0232fd569263ea0a4e31ac277d26b2,throw() → noexcept (C++11)
rdwampler,2016-10-18 17:39:50,https://api.github.com/repos/textmate/textmate/git/commits/4a7e7741968b976ef4acdaa12ac69454f1243ef8,4a7e7741968b976ef4acdaa12ac69454f1243ef8,"Use oak::random_shuffle instead of std::random_shuffle

The latter is deprecated in C++14 and will be removed in C++17"
rdwampler,2016-10-18 17:35:54,https://api.github.com/repos/textmate/textmate/git/commits/a5323b4f7754687445a2a7f516c82483633b9944,a5323b4f7754687445a2a7f516c82483633b9944,Add oak::random_shuffle algorithm
rdwampler,2016-10-18 13:51:55,https://api.github.com/repos/textmate/textmate/git/commits/1f84a3d09f399b5ad716affe39f4252d48093f63,1f84a3d09f399b5ad716affe39f4252d48093f63,Add `random` header as a precompiled header
mathbunnyru,2016-10-18 21:00:46,https://api.github.com/repos/textmate/textmate/git/commits/1b4adf29e19d2487c47dd5947b722106b8d03468,1b4adf29e19d2487c47dd5947b722106b8d03468,Fixed memory leak
mathbunnyru,2016-10-17 21:50:33,https://api.github.com/repos/textmate/textmate/git/commits/284b5a38966f9c7c050e5c668a167a0b00df6675,284b5a38966f9c7c050e5c668a167a0b00df6675,Slight perfomance improvements
mathbunnyru,2016-10-17 20:50:42,https://api.github.com/repos/textmate/textmate/git/commits/9632a8d804287a50aa312aed90d6ab802eac6848,9632a8d804287a50aa312aed90d6ab802eac6848,Deleted unused variables
mathbunnyru,2016-10-17 20:46:34,https://api.github.com/repos/textmate/textmate/git/commits/08ad760d5e8e1f4a346f45fc67b210b9f18bcb0a,08ad760d5e8e1f4a346f45fc67b210b9f18bcb0a,static_cast instead of c-style cast
sorbits,2016-10-17 09:03:04,https://api.github.com/repos/textmate/textmate/git/commits/5277a5a3968f16bd99863999375be60fe45b8201,5277a5a3968f16bd99863999375be60fe45b8201,Use std::string’s compare function instead of find
sorbits,2016-10-17 08:57:41,https://api.github.com/repos/textmate/textmate/git/commits/e2f8e0c1885066e25b3f8192e0b928bdfc1c1691,e2f8e0c1885066e25b3f8192e0b928bdfc1c1691,Use std::string’s front function instead of find
sorbits,2016-10-17 09:00:00,https://api.github.com/repos/textmate/textmate/git/commits/ee2aee21fac6a02bbc88428383d8445814f04977,ee2aee21fac6a02bbc88428383d8445814f04977,Use oak::has_prefix when comparing std::string against string literal
sorbits,2016-10-17 08:06:50,https://api.github.com/repos/textmate/textmate/git/commits/182d4aa140b06053e6d279efb8124183fcba0409,182d4aa140b06053e6d279efb8124183fcba0409,Add oak::has_prefix for comparing std::string with string literal
mathbunnyru,2016-10-17 07:23:07,https://api.github.com/repos/textmate/textmate/git/commits/0b034f9a9dccd9d024d84a6ee0d0e30135bb7534,0b034f9a9dccd9d024d84a6ee0d0e30135bb7534,Use std::string’s compare to avoid searching beyond the prefix length
sorbits,2016-10-15 12:19:35,https://api.github.com/repos/textmate/textmate/git/commits/26da9c7e15142557c03974ddbf43176b3cfebd41,26da9c7e15142557c03974ddbf43176b3cfebd41,Show “add license” titlebar buttons after one hour of use
sorbits,2016-10-15 12:19:01,https://api.github.com/repos/textmate/textmate/git/commits/34db8d64ffc642b349286dde798d9748ef7b6d7c,34db8d64ffc642b349286dde798d9748ef7b6d7c,Limit public API to the LicenseManager singleton
sorbits,2016-10-15 12:17:58,https://api.github.com/repos/textmate/textmate/git/commits/5443b1b48ff03cae91cf3a48bf5480665bc34eec,5443b1b48ff03cae91cf3a48bf5480665bc34eec,Add API to add a titlebar “add license” button
sorbits,2016-10-15 12:17:44,https://api.github.com/repos/textmate/textmate/git/commits/fab0dc0da006ab25547e4ec54e11fd7f08854f4e,fab0dc0da006ab25547e4ec54e11fd7f08854f4e,Move addLicense: method to LicenseManager
sorbits,2016-10-15 12:15:48,https://api.github.com/repos/textmate/textmate/git/commits/682239e165927baf7cc77c0b82f61e9a9d5fcce6,682239e165927baf7cc77c0b82f61e9a9d5fcce6,"Do license revocation check on main thread

This should be a quick check, only done after entering a valid license, and the UI feedback depends on the result, so little was gained from doing it as a background check."
sorbits,2016-10-15 12:14:38,https://api.github.com/repos/textmate/textmate/git/commits/644db4471353f0c026c6c56b658bdaf6aa7d9898,644db4471353f0c026c6c56b658bdaf6aa7d9898,Introduce a “model” and bind to view controller’s represented object
sorbits,2016-09-24 08:13:05,https://api.github.com/repos/textmate/textmate/git/commits/3acace31219abad59971d6547fb0aa6e09dd15de,3acace31219abad59971d6547fb0aa6e09dd15de,"Remove document_t and related tests

Tests should be ported to OakDocument."
sorbits,2016-10-14 12:04:15,https://api.github.com/repos/textmate/textmate/git/commits/bec3548d555751175baf599540d5b1ef7284718f,bec3548d555751175baf599540d5b1ef7284718f,Avoid extra call to accessor by using instancesRespondToSelector:
sorbits,2016-10-12 09:19:33,https://api.github.com/repos/textmate/textmate/git/commits/5a22d601272da054999fda4b37daae7077f7e4d8,5a22d601272da054999fda4b37daae7077f7e4d8,"Fix exception in Open Quickly… code

The exception would happen if the status text was updated while the path was nil. Normally there would be no items (for which to show status text) with a nil path, but using the Open Documents data source would normally have items, and thus could trigger this exception."
sorbits,2016-10-12 08:56:59,https://api.github.com/repos/textmate/textmate/git/commits/b4c2476508efc42e10ec817ee46aac640eba31d9,b4c2476508efc42e10ec817ee46aac640eba31d9,"Move “add license” window to license framework

Code has been refactored to using a view controller and there are now placeholder strings plus an “Online Shop” button."
sorbits,2016-09-25 15:24:53,https://api.github.com/repos/textmate/textmate/git/commits/0b8c2b3ff5595df7b4783399571785f82f068d9c,0b8c2b3ff5595df7b4783399571785f82f068d9c,"Add syntax highlight to pasteboard search history

This is only for regular expressions and for these we bypass the normal “show invisibles” code, this is only because it would add code complexity and regular expressions are less likely to contain newlines or tab characters."
sorbits,2016-10-12 08:41:29,https://api.github.com/repos/textmate/textmate/git/commits/b3c64db20f578cb48d16583aef391c019aabc5c8,b3c64db20f578cb48d16583aef391c019aabc5c8,"Enable preliminary C++17 support (C++1z)

Not using any new C++17 (draft) features, but we may want to use std::variant as soon as it becomes available (as we currently use boost::variant), although std::variant will be a library feature."
sorbits,2016-10-12 08:36:42,https://api.github.com/repos/textmate/textmate/git/commits/dde19a27254b2dc04a07c09380bb8d969d6317d7,dde19a27254b2dc04a07c09380bb8d969d6317d7,Explicit constructor required after updating boost
sorbits,2016-10-11 16:10:42,https://api.github.com/repos/textmate/textmate/git/commits/c4370ee0295d4f5e9a639f27807c418dc24dd0b0,c4370ee0295d4f5e9a639f27807c418dc24dd0b0,Create destination’s parent folder when moving Bundles
sorbits,2016-10-11 13:04:23,https://api.github.com/repos/textmate/textmate/git/commits/e3364c3b11a18da5453e0ef1fb00e72e70fa48e0,e3364c3b11a18da5453e0ef1fb00e72e70fa48e0,Add another LEGACY marker
sorbits,2016-10-11 11:15:35,https://api.github.com/repos/textmate/textmate/git/commits/ecc13b46c2739a0df7946dc03ccd4c9f807e9f19,ecc13b46c2739a0df7946dc03ccd4c9f807e9f19,Checkin release notes for 2.0-beta.12.23
sorbits,2016-10-11 10:56:08,https://api.github.com/repos/textmate/textmate/git/commits/3dc185cb67d01bb6ec5fa5d055edfe7426c1b42b,3dc185cb67d01bb6ec5fa5d055edfe7426c1b42b,Do not wrap executeBundleCommand:variables: in auto refresh
sorbits,2016-10-11 10:45:38,https://api.github.com/repos/textmate/textmate/git/commits/a278bfd5fe5bc52e165bde4455dc7e8cea1af4c1,a278bfd5fe5bc52e165bde4455dc7e8cea1af4c1,"Postpone loading document changes when processing user edit event

When running bundle commands we run a local event loop which means that we can receive events such as “document changed” while still waiting for the bundle command to finish."
sorbits,2016-10-11 10:19:11,https://api.github.com/repos/textmate/textmate/git/commits/dfad1a61ce23ad22be67318003510f69a21d869e,dfad1a61ce23ad22be67318003510f69a21d869e,Add undo_manager_t::in_undo_group API
sorbits,2016-10-11 08:33:44,https://api.github.com/repos/textmate/textmate/git/commits/66410365d17ed3c039f5f3a6792bc4f48bf6f2db,66410365d17ed3c039f5f3a6792bc4f48bf6f2db,Remove volume::settings API
sorbits,2016-10-11 08:32:03,https://api.github.com/repos/textmate/textmate/git/commits/97e9b8fd1d55fceaa2b5db45dd1c0fb7533ba8dc,97e9b8fd1d55fceaa2b5db45dd1c0fb7533ba8dc,Migrate legacy volumeSettings to Global.tmProperties
sorbits,2016-10-11 08:12:34,https://api.github.com/repos/textmate/textmate/git/commits/377d84ec94b1dc7c83f39832b46353f24a6d1343,377d84ec94b1dc7c83f39832b46353f24a6d1343,Add another LEGACY marker
sorbits,2016-10-11 08:05:52,https://api.github.com/repos/textmate/textmate/git/commits/7be37034044628f9071e89f07d65fb3f8cbce1e5,7be37034044628f9071e89f07d65fb3f8cbce1e5,Change user defaults to .tm_properties for disabling extended attributes
rdwampler,2016-10-10 18:10:57,https://api.github.com/repos/textmate/textmate/git/commits/ec9bd3a002a39a7b4518ea83001b08710d710ee8,ec9bd3a002a39a7b4518ea83001b08710d710ee8,Opt out of automatic window tabbing (10.12)
sorbits,2016-10-10 20:31:48,https://api.github.com/repos/textmate/textmate/git/commits/5af64db1663377dbc40c655eada1216327d6135d,5af64db1663377dbc40c655eada1216327d6135d,Ask user to move Avian bundles into TextMate’s application support
sorbits,2016-10-10 20:24:55,https://api.github.com/repos/textmate/textmate/git/commits/3a8f524803b56cfa3791e605356e8a31fb8b5072,3a8f524803b56cfa3791e605356e8a31fb8b5072,Read and install bundles in TextMate folder (instead of Avian)
sorbits,2016-10-10 17:11:08,https://api.github.com/repos/textmate/textmate/git/commits/8e0b22507a8e9a43c9140acde4d73a9630e8e3e8,8e0b22507a8e9a43c9140acde4d73a9630e8e3e8,"Use LEGACY marker for code that should eventually be retired

This is to make it easier to search for such code."
sorbits,2016-10-10 16:37:44,https://api.github.com/repos/textmate/textmate/git/commits/f66d48d4d5b995ae761a8ad5c93bc3ffe614e582,f66d48d4d5b995ae761a8ad5c93bc3ffe614e582,"Limit input to CFCharacterSetIsLongCharacterMember

This is an optimization but it also fixes a crash when CFCharacterSetIsLongCharacterMember is called with extremely large values.

One crash report shows the input being 0x1001DEBC, which is not valid UTF-32, could perhaps be the result of loading a garbage file, so it might make sense to perform some range checks when the user selects to load a file using a UTF encoding.

It could also be command output or possibly copy/paste."
sorbits,2016-10-10 16:20:50,https://api.github.com/repos/textmate/textmate/git/commits/dc1406e32e8becfb16816628eba89348fac93a1f,dc1406e32e8becfb16816628eba89348fac93a1f,"Use AND/OR/NOT with NSPredicate instead of the C equivalents

The BNF for NSCompoundPredicate only lists the former keywords, not the C syntax (not that it has caused any problems to use it)."
sorbits,2016-10-10 16:09:19,https://api.github.com/repos/textmate/textmate/git/commits/dfe30c5328da6c4f33716f23ea06167bcbb8259d,dfe30c5328da6c4f33716f23ea06167bcbb8259d,Prune pasteboard history before saving
sorbits,2016-10-10 16:08:30,https://api.github.com/repos/textmate/textmate/git/commits/ff4ad90ac7858bc73c0ccc8aed0afc51d5553809,ff4ad90ac7858bc73c0ccc8aed0afc51d5553809,Add pruneHistory: method to OakPasteboard
sorbits,2016-10-10 16:07:27,https://api.github.com/repos/textmate/textmate/git/commits/5c1014c57864d6bc178f473dc686d7f43402704a,5c1014c57864d6bc178f473dc686d7f43402704a,Add user defaults keys for how much pasteboard history to keep
sorbits,2016-10-10 16:05:07,https://api.github.com/repos/textmate/textmate/git/commits/1a79e150170dd140e2e0c5a12eb843cee1edcf7b,1a79e150170dd140e2e0c5a12eb843cee1edcf7b,Improve Objective-C type info (generics)
sorbits,2016-10-10 16:03:33,https://api.github.com/repos/textmate/textmate/git/commits/4f9446ae30cb9f535dea9039197270ae1188f776,4f9446ae30cb9f535dea9039197270ae1188f776,"Preserve a document’s visible index when updating its selection

Both the selection and visibleIndex property should be reworked, as it’s not really document properties."
sorbits,2016-10-10 15:59:13,https://api.github.com/repos/textmate/textmate/git/commits/6b93c003719d91c45bb7089a71587ae1e9ea1d4b,6b93c003719d91c45bb7089a71587ae1e9ea1d4b,Tweak how we create the output pop-up menu for Filter Through Command…
sorbits,2016-10-10 15:57:25,https://api.github.com/repos/textmate/textmate/git/commits/a57e4dde1c2918e200e36bb2ab916fccb33f0189,a57e4dde1c2918e200e36bb2ab916fccb33f0189,Minor improvement in pasteboard history’s Clear All
sorbits,2016-10-08 09:24:16,https://api.github.com/repos/textmate/textmate/git/commits/d2a078fd322155be88429df3138887091d453ada,d2a078fd322155be88429df3138887091d453ada,"Improve handling of delayed pasteboard history saving

Previously we would save 60 seconds after a change, but successive changes would not bump the timer, and we had a timer per pasteboard, so changing both the find and replace pasteboard would schedule two save operations, even though they share context.

Now we save 30 seconds after any of the pasteboards were last changed."
sorbits,2016-10-08 09:04:13,https://api.github.com/repos/textmate/textmate/git/commits/03d912e7c49ec8f6fe78cf4a4fdd5e76c10c9b2d,03d912e7c49ec8f6fe78cf4a4fdd5e76c10c9b2d,"Bump date of find/replace pasteboard history items when they are used

Currently this bumping is limited to the Find dialog and happens when executing a search. Selecting from the Show Find History or subsequently using ⌘G, does not bump the date of the selected item (but probably should)."
sorbits,2016-10-07 20:12:35,https://api.github.com/repos/textmate/textmate/git/commits/2feb4a497a932d9d0e8b120f2995d2b4a1da95e2,2feb4a497a932d9d0e8b120f2995d2b4a1da95e2,"Use crash_reporter_info_t’s convenience constructor

Also change most ‘crashInfo’ variable names to just ‘info’ to be consistent."
sorbits,2016-10-07 19:48:56,https://api.github.com/repos/textmate/textmate/git/commits/4e3d40481f6dc50f08346fa7bbf5f40c380c4a79,4e3d40481f6dc50f08346fa7bbf5f40c380c4a79,Add convenience constructor to crash_reporter_info_t
sorbits,2016-10-07 09:10:37,https://api.github.com/repos/textmate/textmate/git/commits/37b417f7692a4e12256cfa3db2a6661bbd2eb0ce,37b417f7692a4e12256cfa3db2a6661bbd2eb0ce,"Add diagnostics to track down KVO issue

I see the following exception from macOS 10.12 users: Cannot update for observer <DocumentWindowController 0xhhh…> for the key path ""selectedDocument.documentEdited"" from <DocumentWindowController 0xhhh…>, most likely because the value for the key ""selectedDocument"" has changed without an appropriate KVO notification being sent. Check the KVO-compliance of the DocumentWindowController class."
sorbits,2016-10-07 08:00:50,https://api.github.com/repos/textmate/textmate/git/commits/1d7c168cb822d8c424828d38c446dc9c7dd413d0,1d7c168cb822d8c424828d38c446dc9c7dd413d0,"Rework logic for when search result selection should select in document

There are two issues here, one is that double-clicking a result sends both “selection did change”, “did single click” and “did double click” messages, which all should potentially select the result in the document, but this does introduce a bit of overhead, although I think this is insignificant.

The other issue is that a “single click” or “selection did change” shouldn’t select in the document when the user is selecting multiple items, which is useful for the various Copy actions."
sorbits,2016-10-07 06:59:09,https://api.github.com/repos/textmate/textmate/git/commits/daa0b801e9dc72c6a45a77e6a5404548d07088e6,daa0b801e9dc72c6a45a77e6a5404548d07088e6,"Abort drag scroll timer if left mouse is no longer down

Based on diagnostic reports it would appear that the drag scroll timer can outlive the document. The timer is currently stopped on mouseUp: but this is probably not an event we should assume is always sent, for example if the application is made inactive while the mouse button is down, we may never see it being released."
sorbits,2016-10-07 06:56:55,https://api.github.com/repos/textmate/textmate/git/commits/6a61853183f9f09db70a2a2a5cad5f2480061a9e,6a61853183f9f09db70a2a2a5cad5f2480061a9e,"Setting a document’s selection now resets its “visible index”

When a document has a visible index then we scroll to this index, on bringing the document to front. This is not desired when we set the selection, since we basically do that to “scroll to this location”."
sorbits,2016-10-07 06:49:27,https://api.github.com/repos/textmate/textmate/git/commits/bf747370a819922867fc53f4879ccb75b39fe501,bf747370a819922867fc53f4879ccb75b39fe501,"The “first line” sniffing done when changing path now work on first 2 kb

We do have a few patterns that match multiple lines, e.g. the XML plist.

The problem would happen if a document was opened using a multi-line “first line” match, but another grammar matched its extension. If this document changed location (same extension), it would switch to use the grammar that matched its extension."
sorbits,2016-10-07 06:48:49,https://api.github.com/repos/textmate/textmate/git/commits/7f3055e89d6c9f320cfd0ede1ff4f4d1687f48b4,7f3055e89d6c9f320cfd0ede1ff4f4d1687f48b4,"Don’t let scoped global settings eclipse scoped default settings

We can have a default setting to ‘source.ruby’ and a global setting of ‘source’, previously the latter would eclipse the former."
sorbits,2016-10-07 06:46:44,https://api.github.com/repos/textmate/textmate/git/commits/3ec7b05473b9bd6e6fcca4d1cc8d29f6fa309180,3ec7b05473b9bd6e6fcca4d1cc8d29f6fa309180,"Do not include user’s email in crash reports

Inconveniencing all users with the “TextMate wants to access your contacts” dialog is not worth having the ability to contact users about their crash reports."
sorbits,2016-10-03 20:49:56,https://api.github.com/repos/textmate/textmate/git/commits/8ba7535010fe2f2e1cfa00121ffd74febd9e2ff0,8ba7535010fe2f2e1cfa00121ffd74febd9e2ff0,Checkin release notes for 2.0-beta.12.21
sorbits,2016-10-03 19:49:53,https://api.github.com/repos/textmate/textmate/git/commits/1fa5bc7fae0cb947316b65f069fac9f05ea53c03,1fa5bc7fae0cb947316b65f069fac9f05ea53c03,"Implement command auto refresh for document change, save, and close"
sorbits,2016-10-03 19:48:37,https://api.github.com/repos/textmate/textmate/git/commits/0556886d9995144ab652b2e57fee62a39a0378f7,0556886d9995144ab652b2e57fee62a39a0378f7,Add class to manage “command refresh”
sorbits,2016-10-03 19:39:55,https://api.github.com/repos/textmate/textmate/git/commits/6245fa17d5bb5054129dd513497d1d026ed8dee6,6245fa17d5bb5054129dd513497d1d026ed8dee6,"Introduce ‘reusable’ property to OakHTMLOutputView

This defaults to YES but can be set to NO if an output view should not be re-used (even though no command is currently running)."
sorbits,2016-10-03 19:35:36,https://api.github.com/repos/textmate/textmate/git/commits/7255692cbfa1768f2a33d9fdc1a5d9b2b6481a2e,7255692cbfa1768f2a33d9fdc1a5d9b2b6481a2e,Do not mirror needsNewWebView in window controller
sorbits,2016-10-03 10:42:22,https://api.github.com/repos/textmate/textmate/git/commits/525c7837e3445316e4d977ff298bdf13e8f75d48,525c7837e3445316e4d977ff298bdf13e8f75d48,"Change autoRefresh value to array instead of string

The array can contain the following strings: DocumentChanged, DocumentSaved, and DocumentClosed."
sorbits,2016-10-02 20:32:02,https://api.github.com/repos/textmate/textmate/git/commits/afa7e4cdc16a925ec9cf6a4b52723e0d8f010ede,afa7e4cdc16a925ec9cf6a4b52723e0d8f010ede,"Limit syntax highlight parser to first 4096 bytes of line

Ideally this would be a time limit rather than number of bytes, but it’s much easier to limit number of bytes."
sorbits,2016-10-02 20:05:13,https://api.github.com/repos/textmate/textmate/git/commits/1f40f69c07e2851fccdd2cea7e9144612e19cedf,1f40f69c07e2851fccdd2cea7e9144612e19cedf,"Only have one parser running at a time (per buffer)

The parser takes time proportional with line length, so if doing a dozen quick edits on a very long line, we could have a dozen parsers running, making the CPU hot."
sorbits,2016-10-02 19:30:05,https://api.github.com/repos/textmate/textmate/git/commits/a378b3d24140079ea8e875b5047e9910988e6c2b,a378b3d24140079ea8e875b5047e9910988e6c2b,"Limit CTLine objects to a length of 2048 bytes when creating layout

While it may break some unicode features (mainly mixing in text drawn right-to-left) it improves performance significantly (for files with long lines and no soft wrap)."
sorbits,2016-10-02 08:23:09,https://api.github.com/repos/textmate/textmate/git/commits/fbd54556986c3246e4d1dd2ead5e9d78e14030b1,fbd54556986c3246e4d1dd2ead5e9d78e14030b1,fixup! Don’t let untargeted global settings eclipse targeted default settings
sorbits,2016-10-02 06:07:34,https://api.github.com/repos/textmate/textmate/git/commits/d9995df674b433e15c9687b7064dbffa74418f54,d9995df674b433e15c9687b7064dbffa74418f54,"Improve performance when toggling foldings at all Levels

Fixes #1137."
sorbits,2016-10-01 07:44:08,https://api.github.com/repos/textmate/textmate/git/commits/95fc7c8b3eb76b2acbf3f03bdf6e5be4bd759356,95fc7c8b3eb76b2acbf3f03bdf6e5be4bd759356,"Remove code required when building with the 10.9 and 10.10 SDK

We only support building with the 10.11 and 10.12 SDK, so this code is no longer required.

Also added MAC_OS_X_VERSION_10_10 comments around 10.10 API that we conditionally use. This is just to make it easier to find it when bumping the minimum OS requirement."
sorbits,2016-10-01 06:56:25,https://api.github.com/repos/textmate/textmate/git/commits/22d16a3b76c00e9e166211c6019199f4b5ba73d4,22d16a3b76c00e9e166211c6019199f4b5ba73d4,"Don’t let untargeted global settings eclipse targeted default settings

For example we have targeted defaults to set tab settings for Ruby, Python, and Makefiles. If the user changed the tab size, it would result in a global untargeted setting that would then eclipse the targeted settings because these were “less local”.

This was not an issue prior to 431bba9a2eb5afb08091c266b5f42b23512c1863."
sorbits,2016-10-01 06:43:41,https://api.github.com/repos/textmate/textmate/git/commits/fbc2e5cbda57af1cd307944d16304643797b775a,fbc2e5cbda57af1cd307944d16304643797b775a,Remove unnecessary settings from Default.tmProperties
sorbits,2016-10-01 06:33:45,https://api.github.com/repos/textmate/textmate/git/commits/881b23b2cd931d9082f07caa3677b052aba8e51d,881b23b2cd931d9082f07caa3677b052aba8e51d,"Filter list: Do not map deleteToBeginningOfLine: action to delete:

This was previously done so that ⌘⌫ could be used to delete items in the Open Recent Project dialog, but we no longer support deleting items when the search field has focus, since such behavior might be unexpected and can cause data loss."
sorbits,2016-10-01 06:27:39,https://api.github.com/repos/textmate/textmate/git/commits/f2013e948f65e2aab46b1dd9c7bbd96d3a13199a,f2013e948f65e2aab46b1dd9c7bbd96d3a13199a,"Remove OakTimer.{mm,h}"
sorbits,2016-10-01 06:25:28,https://api.github.com/repos/textmate/textmate/git/commits/acd76d52f69ede3fbaec9716a44bf9d476dc9164,acd76d52f69ede3fbaec9716a44bf9d476dc9164,Use NSTimer instead of OakTimer
sorbits,2016-10-01 06:23:28,https://api.github.com/repos/textmate/textmate/git/commits/265f36eb4f18f1310787483acace2718f2cdd41d,265f36eb4f18f1310787483acace2718f2cdd41d,"Workaround for window order when restoring session and opening document

While debugging the problem I dumped NSApp.orderedWindows, which turned out to fix the issue. Wouldn’t rely too much on this, but I am not sure what a proper workaround should be, given that this appears to be a framework issue.

For issue description see comment in the source code."
sorbits,2016-10-01 06:20:17,https://api.github.com/repos/textmate/textmate/git/commits/3d39c03cedb9c45112f1a472c22953935f4266c3,3d39c03cedb9c45112f1a472c22953935f4266c3,Remove layout dependency from editor framework
sorbits,2016-09-30 16:13:22,https://api.github.com/repos/textmate/textmate/git/commits/9fd239c78bc614573434ed5b907f642a8f32a414,9fd239c78bc614573434ed5b907f642a8f32a414,Ensure we do not create zero-sized NSImage
sorbits,2016-09-30 12:10:23,https://api.github.com/repos/textmate/textmate/git/commits/5f11d6530841fd17c59904593d2bf970b0d67ce7,5f11d6530841fd17c59904593d2bf970b0d67ce7,"Force find/replace text fields to recreate display string

The previous attempt does not work on macOS 10.12, presumably because the object value doesn’t actually change, despite the setter being invoked."
sorbits,2016-09-30 10:55:46,https://api.github.com/repos/textmate/textmate/git/commits/39f689294d18b155b1f1b557fa80632f0b708ff0,39f689294d18b155b1f1b557fa80632f0b708ff0,Fix performance of bundles::lookup
sorbits,2016-09-30 10:54:16,https://api.github.com/repos/textmate/textmate/git/commits/eca58ef2e0fc2baf093c3ffd25f18c4f2c56ac27,eca58ef2e0fc2baf093c3ffd25f18c4f2c56ac27,"Cache regular expressions used to capitalize strings

This was actually a noticeable bottleneck when preparing (key binding) items in the bundle item chooser."
sorbits,2016-09-30 10:53:28,https://api.github.com/repos/textmate/textmate/git/commits/dadd09727059f9c4f37f0f92c97a2169e3daf0fa,dadd09727059f9c4f37f0f92c97a2169e3daf0fa,Cache bundle items for successive filtering
sorbits,2016-09-30 10:51:57,https://api.github.com/repos/textmate/textmate/git/commits/45605039f3f0ef1a82264bc2169373cd61434631,45605039f3f0ef1a82264bc2169373cd61434631,Use separate properties for plain and attributed string
sorbits,2016-09-30 10:50:29,https://api.github.com/repos/textmate/textmate/git/commits/03c1b0b1ee03015c98847cf44ee799dc1cf02795,03c1b0b1ee03015c98847cf44ee799dc1cf02795,Only sort bundle items once during ranking
sorbits,2016-09-30 10:49:32,https://api.github.com/repos/textmate/textmate/git/commits/d0c1a4c409c1bbab939ab65ee66a2ded75923448,d0c1a4c409c1bbab939ab65ee66a2ded75923448,Use NSEnumerationConcurrent when ranking bundle items
sorbits,2016-09-30 10:48:41,https://api.github.com/repos/textmate/textmate/git/commits/f4b3e05e625a45d28c0d99b0620a7329da2fc124,f4b3e05e625a45d28c0d99b0620a7329da2fc124,Add instance method to calculate bundle item rank
sorbits,2016-09-30 10:47:57,https://api.github.com/repos/textmate/textmate/git/commits/8b135875bce964c6b106c6d367676878326cc008,8b135875bce964c6b106c6d367676878326cc008,Use custom type for items in bundle item chooser
sorbits,2016-09-30 10:46:59,https://api.github.com/repos/textmate/textmate/git/commits/a83912489c1f7f9232fab2f055fddfb4422e0328,a83912489c1f7f9232fab2f055fddfb4422e0328,Require the 10.11 SDK to build TextMate
sorbits,2016-09-30 10:45:53,https://api.github.com/repos/textmate/textmate/git/commits/71c40fb75fbecd53c9549c89d884df04908f147c,71c40fb75fbecd53c9549c89d884df04908f147c,"Use NSEnumerationConcurrent instead of dispatch_apply

Tested with ~25,000 file names and the NSArray iteration is the same speed or slightly faster (in the order of 0.001 seconds)."
sorbits,2016-09-30 10:44:38,https://api.github.com/repos/textmate/textmate/git/commits/007b97cfcf6c0ecef5c16fcad0b02fe99a7232e9,007b97cfcf6c0ecef5c16fcad0b02fe99a7232e9,Remove unused glob argument from updateRankUsingFilter: method
sorbits,2016-09-30 10:44:01,https://api.github.com/repos/textmate/textmate/git/commits/b598784dbe9846442338f75deff6e69cd3bbed60,b598784dbe9846442338f75deff6e69cd3bbed60,Don’t make assumptions about document having a path
sorbits,2016-09-30 10:43:55,https://api.github.com/repos/textmate/textmate/git/commits/b47b16049863a5be4488a2f457b6052f64261b40,b47b16049863a5be4488a2f457b6052f64261b40,"Populate services clipboard with items of type NSFilenamesPboardType

Back when this code was written there was a lot of problems related to application expectations (especially for the copy clipboard), and that might have been why we did not put NSFilenamesPboardType on the (services) clipboard, but it seems strange as it’s the only type we actually declare support for."
sorbits,2016-09-29 13:41:34,https://api.github.com/repos/textmate/textmate/git/commits/414794603fda611ff37489b46ed70dc43ed4bbd2,414794603fda611ff37489b46ed70dc43ed4bbd2,Fix array literal potentially initialized with nil value
sorbits,2016-09-29 07:55:25,https://api.github.com/repos/textmate/textmate/git/commits/e6f4f2dc40a52c95697f51f5fc6b65d14d422e71,e6f4f2dc40a52c95697f51f5fc6b65d14d422e71,"Use atomic getter/setter to access lastDocumentPath

There was a race-condition since we update it in the background queue, where it could be released, and using it in the main queue does not retain it before use."
sorbits,2016-09-29 07:50:52,https://api.github.com/repos/textmate/textmate/git/commits/e446e1d98b8f935eca497cf5445dfeea55a7d161,e446e1d98b8f935eca497cf5445dfeea55a7d161,"Account for NSString creation failure

This can happen if the range is not valid unicode, although that would indicate another issue, but as we do a subset match against a unicode string, in UTF-8, I am thinking it might be about combining marks or similar, so we split the string between a glyph and the following combining mark, and NSString consider a string starting with a combining mark invalid, but this is just a wild guess…"
sorbits,2016-09-29 07:39:45,https://api.github.com/repos/textmate/textmate/git/commits/b514f9c6aac209390048f52ba2b0540c0509ef90,b514f9c6aac209390048f52ba2b0540c0509ef90,Support passing nil to CanonicalURL
sorbits,2016-09-29 07:36:15,https://api.github.com/repos/textmate/textmate/git/commits/4a260811ecdab27fa176a67b87f0efd5a3dc0bf3,4a260811ecdab27fa176a67b87f0efd5a3dc0bf3,Change URL scheme to https
sorbits,2016-09-29 07:29:32,https://api.github.com/repos/textmate/textmate/git/commits/0fb5050cfe6484e207909629e3934f20968499a2,0fb5050cfe6484e207909629e3934f20968499a2,"Support NSNotFound in performCloseTab:

The tab bar uses the result of indexOfObject: as the tag, so if there is no selected tab, it would be NSNotFound.

Generally though this should not happen."
sorbits,2016-09-28 19:45:29,https://api.github.com/repos/textmate/textmate/git/commits/07a44f75400850bc6d4dc18b2b9b28defd8d1fff,07a44f75400850bc6d4dc18b2b9b28defd8d1fff,"Always wrap document saving in open/close and inline didSaveAtPath:

Since open no longer tries to load the document it is safe to call even for a document with isLoaded == NO."
sorbits,2016-09-28 10:59:43,https://api.github.com/repos/textmate/textmate/git/commits/db6c22bd8c8e6237c19d6b8aa999e916d86c1d0c,db6c22bd8c8e6237c19d6b8aa999e916d86c1d0c,"Delegate menu item validation for performBundleItemWithUUIDStringFrom:

We now let the object that handles performBundleItem: validate the menu item."
sorbits,2016-09-28 10:43:46,https://api.github.com/repos/textmate/textmate/git/commits/616309bb5ee7b4b546e84bf91f382445c4db2480,616309bb5ee7b4b546e84bf91f382445c4db2480,"Remove performBundleItemWithUUIDString:

Instead we call performBundleItemWithUUIDStringFrom: so that there is only one entry point."
sorbits,2016-09-28 07:34:43,https://api.github.com/repos/textmate/textmate/git/commits/9e8a435e2b0d6b5120aba395f936168727fcdf7d,9e8a435e2b0d6b5120aba395f936168727fcdf7d,"Change how we manage window title updates

We now only “reveal file in project” (when enabled) on document path changes."
sorbits,2016-09-27 20:51:13,https://api.github.com/repos/textmate/textmate/git/commits/e59b023119956615426bdef98cae62b9867e1429,e59b023119956615426bdef98cae62b9867e1429,Post OakDocumentContentDidChangeNotification for all buffer changes
sorbits,2016-09-27 19:14:15,https://api.github.com/repos/textmate/textmate/git/commits/3b2a0758080876ef2fc8cc1a5af00fd94bec98d9,3b2a0758080876ef2fc8cc1a5af00fd94bec98d9,Add public htmlOutputView property to OakCommand
sorbits,2016-09-27 18:54:43,https://api.github.com/repos/textmate/textmate/git/commits/ce55f5691efcf244b7253267b1855f3e74f8aa5f,ce55f5691efcf244b7253267b1855f3e74f8aa5f,Add public closeHTMLOutputView method to OakCommand
sorbits,2016-09-27 19:07:39,https://api.github.com/repos/textmate/textmate/git/commits/d7f06c70c6d6f347114506c46a83e3c34cf4d342,d7f06c70c6d6f347114506c46a83e3c34cf4d342,Don’t check requirements or new HTML output view when reusing OakCommand
sorbits,2016-09-27 15:06:49,https://api.github.com/repos/textmate/textmate/git/commits/010bb723756c935614ce249fc666aeb6d4ae2552,010bb723756c935614ce249fc666aeb6d4ae2552,"Add ‘visible’ property to OakHTMLOutputView

This can be observed to learn when the view is hidden, either because the window it is in closes or when it is removed from its superview."
sorbits,2016-09-27 17:50:17,https://api.github.com/repos/textmate/textmate/git/commits/09534b7ffca55e2bae9568136449e5469653a96f,09534b7ffca55e2bae9568136449e5469653a96f,Use NSWorkspace API instead of LSGetApplicationForURL
sorbits,2016-09-27 15:40:26,https://api.github.com/repos/textmate/textmate/git/commits/24671d0514e1978cb7438becd21e6a15fad5a34d,24671d0514e1978cb7438becd21e6a15fad5a34d,Change Check for Updates to Check for Test Builds when holding option
sorbits,2016-09-27 15:14:45,https://api.github.com/repos/textmate/textmate/git/commits/406a804a3e6bab3047b75b036a4224652905f525,406a804a3e6bab3047b75b036a4224652905f525,Remove redundant intrinsicContentSize overload
sorbits,2016-09-27 10:29:33,https://api.github.com/repos/textmate/textmate/git/commits/330c434a73d61ac22e06e929ed391e5c50c6036f,330c434a73d61ac22e06e929ed391e5c50c6036f,"Check for nil before messaging object

This shouldn’t be necessary but many of the new crashes on macOS 10.12 are from this method, though I suspect that ‘self’ is the already released object rather than ‘otherObject’ being nil."
sorbits,2016-09-27 07:36:05,https://api.github.com/repos/textmate/textmate/git/commits/e93f34b5ab430d2fea34e28802f44c61c2ad6148,e93f34b5ab430d2fea34e28802f44c61c2ad6148,"Only remove buffer callback if added

This is incase our initializer fails, here dealloc is still called, but we didn’t get to add the callback so we should not try to remove it.

Why our initializer would fail is beyond me, but I see a few crashes from this (though all from the same user on 10.8.5)."
sorbits,2016-09-26 20:30:44,https://api.github.com/repos/textmate/textmate/git/commits/f0a2a709984b33e6fa79cd1b2c62fea42d250c60,f0a2a709984b33e6fa79cd1b2c62fea42d250c60,"Change ‘isBusy’ setter to just ‘busy’

The getter is still ‘isBusy’."
sorbits,2016-09-26 11:27:11,https://api.github.com/repos/textmate/textmate/git/commits/ecee5e62e384765cb9291d3eb05521c449604833,ecee5e62e384765cb9291d3eb05521c449604833,"Add updateHTMLViewAtomically property to OakCommand

This can be used to refresh the output from a command that is already visible (to avoid flicker and resetting scroll position)."
sorbits,2016-09-26 11:23:42,https://api.github.com/repos/textmate/textmate/git/commits/3cf916cf49e1ede6cc9b2f7e6be0db5c43e4bcab,3cf916cf49e1ede6cc9b2f7e6be0db5c43e4bcab,"Rename loadHTMLString: method to setContent:

The previous name was inspired by WebView’s default API but it sounds like it is just the default implementation with a default baseURL: parameter, hence why I prefer to name it something different."
sorbits,2016-09-26 11:04:43,https://api.github.com/repos/textmate/textmate/git/commits/8e9cd68c4f79ecb22e26548b164433dbdbdf9706,8e9cd68c4f79ecb22e26548b164433dbdbdf9706,"Refactor handling of HTML output in OakCommand

Setup and teardown is now contained in the same method."
sorbits,2016-09-26 08:07:47,https://api.github.com/repos/textmate/textmate/git/commits/4dea28811c1d0da7d53059292674ca5223e81a9c,4dea28811c1d0da7d53059292674ca5223e81a9c,Let OakTextView run modal event loop waiting for command
sorbits,2016-09-26 08:04:39,https://api.github.com/repos/textmate/textmate/git/commits/bf2eb3eb83ab52dfd8f6bb0ebf82db3ba1bec78f,bf2eb3eb83ab52dfd8f6bb0ebf82db3ba1bec78f,Add terminationHandler property and terminate method to OakCommand
sorbits,2016-09-26 07:59:01,https://api.github.com/repos/textmate/textmate/git/commits/ede6b4b026ae29426ecb57e8cab84c2af0ce3676,ede6b4b026ae29426ecb57e8cab84c2af0ce3676,"Change named parameter completionHandler: to outputHandler:

The handler is only called for commands with output to insert into the text view, hence completionHandler is a misnomer."
sorbits,2016-09-26 19:00:14,https://api.github.com/repos/textmate/textmate/git/commits/3c150d34aa96639e1978aa77d20e63f0d3fd3bcf,3c150d34aa96639e1978aa77d20e63f0d3fd3bcf,"Ensure we only remove observer that we previously added

We were previously assuming that the viewWillMoveToSuperview: was only called when moving to a view and then later when removed, but for 10.8.5 it appears that it might be called multiple times (with a nil superview), causing us to remove ourself as observer from something we didn’t observe."
sorbits,2016-09-26 09:14:23,https://api.github.com/repos/textmate/textmate/git/commits/b0d2a93040818c359f33f5f999885a0fa5abf0fd,b0d2a93040818c359f33f5f999885a0fa5abf0fd,Fix placement of search results checkboxes
sorbits,2016-09-26 09:14:14,https://api.github.com/repos/textmate/textmate/git/commits/796a8794527de0319d9c1e6eabe5272cb975da9d,796a8794527de0319d9c1e6eabe5272cb975da9d,Use objectsAtIndexes: instead of iterating index set
sorbits,2016-09-26 09:13:06,https://api.github.com/repos/textmate/textmate/git/commits/e286df09e6890d69b8b6f6d18165de53513dcca6,e286df09e6890d69b8b6f6d18165de53513dcca6,fixup! Avoid wrapper objects in FileChooser
sorbits,2016-09-26 09:11:15,https://api.github.com/repos/textmate/textmate/git/commits/2bf803b8894cee34d35965008e32b78c825d560f,2bf803b8894cee34d35965008e32b78c825d560f,"Post OakDocumentWillSaveNotification before reading extended attributes

The notification makes the text view update the visualIndex (saved as an extended attribute) so previously we would save the previous value for this attribute."
sorbits,2016-09-26 09:09:32,https://api.github.com/repos/textmate/textmate/git/commits/e6ed50c10714769cc1dcfbd7cdb76da43ceaa92c,e6ed50c10714769cc1dcfbd7cdb76da43ceaa92c,Introduce kMacClassicThemeUUID since we reference it in multiple places
sorbits,2016-09-26 09:09:16,https://api.github.com/repos/textmate/textmate/git/commits/d8312b833e7f2f77eb93df9b62f7fdbb48f4d9fb,d8312b833e7f2f77eb93df9b62f7fdbb48f4d9fb,Rely on NSUUID overload of to_s
sorbits,2016-09-26 09:08:22,https://api.github.com/repos/textmate/textmate/git/commits/9e949e3edab6015f60610110bbde2622c483d958,9e949e3edab6015f60610110bbde2622c483d958,Use NSUUID for project identifier (instead of NSString)
sorbits,2016-09-26 09:07:56,https://api.github.com/repos/textmate/textmate/git/commits/de92b7dbe91c64b14f699ebb6cad6acb95e1c8dc,de92b7dbe91c64b14f699ebb6cad6acb95e1c8dc,Provide to_s for NSUUID
sorbits,2016-09-26 09:06:52,https://api.github.com/repos/textmate/textmate/git/commits/d5fad16311799392fbdbdf0032a81fbe72e66f71,d5fad16311799392fbdbdf0032a81fbe72e66f71,Dragging selected tab to new window will select it in the new window
sorbits,2016-09-25 11:22:39,https://api.github.com/repos/textmate/textmate/git/commits/7cb8755a66cf14f5131cf452b4ba5ecd72569ea1,7cb8755a66cf14f5131cf452b4ba5ecd72569ea1,"Fix issue with updating bufferEmpty property

We should initiate it to YES and the logic for when to skip updating was wrong because of precedence."
sorbits,2016-09-25 11:09:24,https://api.github.com/repos/textmate/textmate/git/commits/b1f92d141599597146649f2530649114e46018b2,b1f92d141599597146649f2530649114e46018b2,Skip work when regular expression property is set to its existing value
sorbits,2016-09-25 11:06:24,https://api.github.com/repos/textmate/textmate/git/commits/12ca096ccb5598089c003bca31a725c2c43e8a41,12ca096ccb5598089c003bca31a725c2c43e8a41,"Enable syntax highlight for find and replace text fields

These use the source.regexp.oniguruma and textmate.format-string grammars respectively, both in the TextMate bundle."
sorbits,2016-09-25 07:55:04,https://api.github.com/repos/textmate/textmate/git/commits/b5d897315c7ba72a69dedf87c0964a4b477cb4f8,b5d897315c7ba72a69dedf87c0964a4b477cb4f8,Add ${«var»:/titlecase} as alias for ${«var»:/capitalize}
sorbits,2016-09-25 07:53:46,https://api.github.com/repos/textmate/textmate/git/commits/fea5aef02510891d2f757a29c9993683723e5f16,fea5aef02510891d2f757a29c9993683723e5f16,Fix typo in help page
sorbits,2016-09-25 05:34:14,https://api.github.com/repos/textmate/textmate/git/commits/7f42f439b7488d9c8b0b81b6574b15ae4a827464,7f42f439b7488d9c8b0b81b6574b15ae4a827464,"Add NSFormatter subclass that does syntax highlight

The theme used can be set using the UIThemeUUID defaults key. The default is Mac Classic."
sorbits,2016-09-24 16:24:44,https://api.github.com/repos/textmate/textmate/git/commits/5a571ad036059515f14d2594115346bbea68de4a,5a571ad036059515f14d2594115346bbea68de4a,Fix leak: CGPathRef
sorbits,2016-09-24 15:16:43,https://api.github.com/repos/textmate/textmate/git/commits/973e38a38377046af958886f4848c181fed1414f,973e38a38377046af958886f4848c181fed1414f,Fix leak: buffer_callback_t
sorbits,2016-09-24 12:16:04,https://api.github.com/repos/textmate/textmate/git/commits/b56c51212af01475a4cf0f5986277b500fc06773,b56c51212af01475a4cf0f5986277b500fc06773,Check for exact dependencies when updating icon/represented file
sorbits,2016-09-24 11:59:34,https://api.github.com/repos/textmate/textmate/git/commits/8cab8be8b5af189195e33805e8c250b6d4ec65bf,8cab8be8b5af189195e33805e8c250b6d4ec65bf,"Also observe document’s display name

The display name can change without a change to the path, in which case, we should update the UI accordingly, although the current implementation of OakDocument does not trigger any change notification when e.g. the user enables “Hide Extension” for a document."
sorbits,2016-09-24 11:55:27,https://api.github.com/repos/textmate/textmate/git/commits/66075f6a3069317b212d683f285b14b9dddd1767,66075f6a3069317b212d683f285b14b9dddd1767,Inline the track/untrack methods
sorbits,2016-09-24 11:54:23,https://api.github.com/repos/textmate/textmate/git/commits/46e83179ae5addf974b81ca4c0489380b308b9b7,46e83179ae5addf974b81ca4c0489380b308b9b7,No need to track/untrack selected document since we track all documents
sorbits,2016-09-24 11:50:35,https://api.github.com/repos/textmate/textmate/git/commits/7d40792a32e2f2af689c11334bdd46da9a136186,7d40792a32e2f2af689c11334bdd46da9a136186,"Do not update documentPath from setSelectedDocument:

The property will automatically be updated by our observer."
sorbits,2016-09-24 11:47:01,https://api.github.com/repos/textmate/textmate/git/commits/d9b6bde6ecaed04988775c660364cae9f99cb7c3,d9b6bde6ecaed04988775c660364cae9f99cb7c3,Update window’s icon/represented file directly from observer
sorbits,2016-09-24 11:32:14,https://api.github.com/repos/textmate/textmate/git/commits/a3543029d85a91cddf56e19814a577b4315c5feb,a3543029d85a91cddf56e19814a577b4315c5feb,Update window’s documentEdited property directly from observer
sorbits,2016-09-24 11:19:47,https://api.github.com/repos/textmate/textmate/git/commits/17046aa0518e3966528be6c320c446bf5f3a25bf,17046aa0518e3966528be6c320c446bf5f3a25bf,Observe documents/selectedDocument properties instead of each document
sorbits,2016-09-24 07:27:36,https://api.github.com/repos/textmate/textmate/git/commits/0a6cbe150eff4797fcdbb5b66065b797b140ecb1,0a6cbe150eff4797fcdbb5b66065b797b140ecb1,"Remove documentDisplayName property

The only purpose of observing this property seems to be to update the window title, but since display name is derived from path, which we also observe, it seems redundant.

Though technically the display name could change because extension is hidden or similar, but this is a bit of an edge-case, and long-term we want file browser and tab bar to observe the document’s displayName property directly."
sorbits,2016-09-24 07:25:19,https://api.github.com/repos/textmate/textmate/git/commits/510d0936963a813a7c015fc0d90efeb8973da407,510d0936963a813a7c015fc0d90efeb8973da407,Use selectedDocument.property instead of our mirrored documentProperty
sorbits,2016-09-24 07:23:54,https://api.github.com/repos/textmate/textmate/git/commits/dcd725de05ac26dce25efe789a1e5e01e7b21742,dcd725de05ac26dce25efe789a1e5e01e7b21742,Remove cppDocuments property and last usage of document_t
sorbits,2016-09-24 07:23:47,https://api.github.com/repos/textmate/textmate/git/commits/83c1f2b6e531d43cca305c5a7d18b59d9c95f663,83c1f2b6e531d43cca305c5a7d18b59d9c95f663,"Use OakDocument API to “detach” backup file

This needs to be revised."
sorbits,2016-09-24 07:22:00,https://api.github.com/repos/textmate/textmate/git/commits/14cdd420d3e0465a0b9a33823a9f64eeb9ef6868,14cdd420d3e0465a0b9a33823a9f64eeb9ef6868,Make backupPath property public
sorbits,2016-09-24 07:21:08,https://api.github.com/repos/textmate/textmate/git/commits/2baf1f7889ee7cb89c6e371f47831aac76901f50,2baf1f7889ee7cb89c6e371f47831aac76901f50,Remove most uses of _cppDocuments
sorbits,2016-09-24 07:19:29,https://api.github.com/repos/textmate/textmate/git/commits/b7e4f3bc4f119039c795f07faf1869ea5fc78998,b7e4f3bc4f119039c795f07faf1869ea5fc78998,"Make OakDocument’s saveBackup: public API

This is required when saving session state."
sorbits,2016-09-24 07:17:32,https://api.github.com/repos/textmate/textmate/git/commits/58b075da44d544d8deefe4daf01d95cbbc4e942a,58b075da44d544d8deefe4daf01d95cbbc4e942a,"Remove selectedCppDocument property

The selectedDocument property is now readwrite."
sorbits,2016-09-24 07:15:35,https://api.github.com/repos/textmate/textmate/git/commits/25156bcd8dfcafe4b77f63d77941499ea1a1daa2,25156bcd8dfcafe4b77f63d77941499ea1a1daa2,Limit use of selectedCppDocument property
sorbits,2016-09-24 07:14:01,https://api.github.com/repos/textmate/textmate/git/commits/a478cc0ae1ad8099c3b017992bb8a28ad26bd9f2,a478cc0ae1ad8099c3b017992bb8a28ad26bd9f2,Move openAndSelectDocument: API to use OakDocument
sorbits,2016-09-24 07:12:21,https://api.github.com/repos/textmate/textmate/git/commits/754ca4901c5d36e2a9d5b74b19656fe8b0a3b2ab,754ca4901c5d36e2a9d5b74b19656fe8b0a3b2ab,Move insertDocuments: API to use OakDocument
sorbits,2016-09-24 07:11:37,https://api.github.com/repos/textmate/textmate/git/commits/cdda7495ea0dffb5833c595483a4a6802d81183e,cdda7495ea0dffb5833c595483a4a6802d81183e,Prepare moving insertDocuments: API to OakDocument
sorbits,2016-09-24 07:10:11,https://api.github.com/repos/textmate/textmate/git/commits/f4b56d1435e34b052d8064b2324de375673994e3,f4b56d1435e34b052d8064b2324de375673994e3,More code updated to use OakDocument
sorbits,2016-09-24 07:09:51,https://api.github.com/repos/textmate/textmate/git/commits/381e1bff73a0d041c8a83748a7fdec41e602b645,381e1bff73a0d041c8a83748a7fdec41e602b645,"Use OakDocument’s isEqual: instead of document_ptr’s operator==

Since we no longer ensure document_ptr objects are reused, we cannot compare them using operator==."
sorbits,2016-09-24 07:08:43,https://api.github.com/repos/textmate/textmate/git/commits/2f363060eeef0854a8e52e023280c14cae6003bd,2f363060eeef0854a8e52e023280c14cae6003bd,Make OakDocument’s isBufferEmpty property public
sorbits,2016-09-24 07:07:59,https://api.github.com/repos/textmate/textmate/git/commits/53c1c4b13ce16490cefd53dae94afb7cb341edc8,53c1c4b13ce16490cefd53dae94afb7cb341edc8,Use OakDocument type for managing sticky state
sorbits,2016-09-24 07:06:49,https://api.github.com/repos/textmate/textmate/git/commits/41eff5c089d80c472222e2472a06c755f23f6c74,41eff5c089d80c472222e2472a06c755f23f6c74,"Use NSArray<NSUUID*>* for tabs to close

Also change disposableDocument to NSUUID*."
sorbits,2016-09-24 07:06:14,https://api.github.com/repos/textmate/textmate/git/commits/5ee70bfe29f6bbfd70300035c845edefc4cc2fdb,5ee70bfe29f6bbfd70300035c845edefc4cc2fdb,Use instance variable for documents array instead
sorbits,2016-09-24 07:05:17,https://api.github.com/repos/textmate/textmate/git/commits/331c2c08b481e415190760c9d94bfec7f7c7576a,331c2c08b481e415190760c9d94bfec7f7c7576a,Remove document::show API
sorbits,2016-09-24 07:03:21,https://api.github.com/repos/textmate/textmate/git/commits/34e1fec7f179cd079f13a31e329c1b6b58a47035,34e1fec7f179cd079f13a31e329c1b6b58a47035,Remove UI proxy implementation from DocumentWindowController
sorbits,2016-09-24 07:02:24,https://api.github.com/repos/textmate/textmate/git/commits/edaf02a6c313814fa9eae025065a3066b6afb340,edaf02a6c313814fa9eae025065a3066b6afb340,Remove document_t callback system
sorbits,2016-09-24 07:00:58,https://api.github.com/repos/textmate/textmate/git/commits/965eac9342d66002b204230b0973f7dbd0b9c834,965eac9342d66002b204230b0973f7dbd0b9c834,Use KVO instead of document_t callback
sorbits,2016-09-24 07:00:25,https://api.github.com/repos/textmate/textmate/git/commits/df0fbe8630dba11b356b634f90bc6381465acda9,df0fbe8630dba11b356b634f90bc6381465acda9,Preparation for removing document_ptr from DocumentWindowController
sorbits,2016-09-24 06:59:31,https://api.github.com/repos/textmate/textmate/git/commits/e133be01b73a5bb04766446e428770e7d9c35077,e133be01b73a5bb04766446e428770e7d9c35077,"Rename documents property to cppDocuments

This is just to make migration easier."
sorbits,2016-09-22 13:26:11,https://api.github.com/repos/textmate/textmate/git/commits/eef08785384a09498b4501514a030c7ebd4a4548,eef08785384a09498b4501514a030c7ebd4a4548,"Remove document::show_browser

Instead use OakDocumentController’s showFileBrowserAtPath:"
sorbits,2016-09-22 13:14:30,https://api.github.com/repos/textmate/textmate/git/commits/2f9e1d8a6936db09210667e062948f61e7dca1b3,2f9e1d8a6936db09210667e062948f61e7dca1b3,Remove unnecessary import statements
sorbits,2016-09-22 13:11:31,https://api.github.com/repos/textmate/textmate/git/commits/48a73f0a0f0bdc3f0ec0305a9b3075671f5a6751,48a73f0a0f0bdc3f0ec0305a9b3075671f5a6751,Remove openAndSelectDocument: from public API
sorbits,2016-09-22 13:05:28,https://api.github.com/repos/textmate/textmate/git/commits/ffca47a2624a7ac778227fc038cf51308bf77bc1,ffca47a2624a7ac778227fc038cf51308bf77bc1,More code ported to OakDocument
sorbits,2016-09-22 10:59:56,https://api.github.com/repos/textmate/textmate/git/commits/38a2cd6c1e5d5645c2d9d41a6e29fd50b774e4b7,38a2cd6c1e5d5645c2d9d41a6e29fd50b774e4b7,Remove revision and savedRevision from document API
sorbits,2016-09-22 10:28:17,https://api.github.com/repos/textmate/textmate/git/commits/b5bbb46dfb81b07c6dc28e24a817e72d0ee11dc7,b5bbb46dfb81b07c6dc28e24a817e72d0ee11dc7,Let bundle editor use OakDocumentController API
sorbits,2016-09-22 09:59:48,https://api.github.com/repos/textmate/textmate/git/commits/eb6b66181db84a62b8704bf1f8a373b73c54512f,eb6b66181db84a62b8704bf1f8a373b73c54512f,"Add markDocumentSaved API to OakDocument

This clears the isDocumentEdited flag and also does a “snapshot” for potentially future diff against changes on disk."
sorbits,2016-09-22 09:38:06,https://api.github.com/repos/textmate/textmate/git/commits/14110e938c7a8e1aeec04f4a05260f7f0534aec5,14110e938c7a8e1aeec04f4a05260f7f0534aec5,Let ODB Editor Suite support use OakDocumentController API
sorbits,2016-09-22 09:34:11,https://api.github.com/repos/textmate/textmate/git/commits/774b390b5164cd2a90b4da81e3ae16d916e96e49,774b390b5164cd2a90b4da81e3ae16d916e96e49,Rename ODBEditorSuite.cc to ODBEditorSuite.mm
sorbits,2016-09-22 09:02:41,https://api.github.com/repos/textmate/textmate/git/commits/9389fd9fc053d3613a3a559fb933c3427b722fa2,9389fd9fc053d3613a3a559fb933c3427b722fa2,View Source now uses the frame title as document’s display name
sorbits,2016-09-22 08:51:52,https://api.github.com/repos/textmate/textmate/git/commits/30f53b43f9ccec94dc1af8491103ca95a478096a,30f53b43f9ccec94dc1af8491103ca95a478096a,Let HTML output use OakDocumentController API
sorbits,2016-09-22 08:43:40,https://api.github.com/repos/textmate/textmate/git/commits/3af916629c08281280a13111362b02dcce10734b,3af916629c08281280a13111362b02dcce10734b,Let OakCommand use OakDocumentController API
sorbits,2016-09-22 08:30:44,https://api.github.com/repos/textmate/textmate/git/commits/9e7aa55ac292ef1f7355d971b13371cf2b415817,9e7aa55ac292ef1f7355d971b13371cf2b415817,Let RMateServer use OakDocumentController API
sorbits,2016-09-22 07:20:20,https://api.github.com/repos/textmate/textmate/git/commits/dc5028f039486e5b042fa89c511050380152c008,dc5028f039486e5b042fa89c511050380152c008,Let text view and find window show documents using OakDocumentController
sorbits,2016-09-22 07:16:32,https://api.github.com/repos/textmate/textmate/git/commits/9a4db4665d841cb6072622b9371d51e7cb42d023,9a4db4665d841cb6072622b9371d51e7cb42d023,"Add “show document” API to OakDocumentController

This is currently just a wrapper for the old C++ API."
sorbits,2016-09-23 19:59:42,https://api.github.com/repos/textmate/textmate/git/commits/558eab8b138f262b9d4fa985e4a0cd172b2ffa76,558eab8b138f262b9d4fa985e4a0cd172b2ffa76,"Only set document revision and emptyBuffer properties on actual changes

These generate change notification for all the properties that depend on them (like isDocumentEdited and thus icon) even when set to the same value."
sorbits,2016-09-23 19:56:25,https://api.github.com/repos/textmate/textmate/git/commits/c893dd6ba25f4a7593200aa99140dd7d4fffaa19,c893dd6ba25f4a7593200aa99140dd7d4fffaa19,Reset document icon with isOnDisk changes
sorbits,2016-09-23 16:02:45,https://api.github.com/repos/textmate/textmate/git/commits/49dadbd474808ab97211c266db53706092512413,49dadbd474808ab97211c266db53706092512413,Remove backup file when setting keepBackupFile = NO
sorbits,2016-09-23 14:29:02,https://api.github.com/repos/textmate/textmate/git/commits/49e99537a83ba840f42c3a0bfa601aef743cfca3,49e99537a83ba840f42c3a0bfa601aef743cfca3,Allow passing nil to didTouchDocument:
sorbits,2016-09-23 07:57:39,https://api.github.com/repos/textmate/textmate/git/commits/d36153a08e25ab5de91a22ef137ea82478b1af86,d36153a08e25ab5de91a22ef137ea82478b1af86,"Do not call orderFront: on our pop-out animation

The child window is already put on-screen when added to the parent, calling orderFront: will bring the parent window to front, which we do not want, as the animation may be triggered e.g. from the Find dialog (using ⌘G/⇧⌘G in that window)."
sorbits,2016-09-23 07:15:42,https://api.github.com/repos/textmate/textmate/git/commits/8f736f39cd83ead6e4fcc52e103292f9515e9712,8f736f39cd83ead6e4fcc52e103292f9515e9712,"Add key/value types for NSArray and NSDictionary return types

This is just to give us better type checking (as we probably want to change the dictionary key type to NSUUID*)."
sorbits,2016-09-22 14:22:56,https://api.github.com/repos/textmate/textmate/git/commits/a07a1746f3535de4c8a6d27f1071c97821fb7475,a07a1746f3535de4c8a6d27f1071c97821fb7475,Don’t attempt to install items opened via Open Recent Project
sorbits,2016-09-22 10:46:25,https://api.github.com/repos/textmate/textmate/git/commits/28da74ca01084863c836115a5960be4894b0ef4a,28da74ca01084863c836115a5960be4894b0ef4a,Add diagnostics info related to framework crash
sorbits,2016-09-22 08:29:52,https://api.github.com/repos/textmate/textmate/git/commits/0cc15c10d2d5adbdce5cda31c40cf527597d3606,0cc15c10d2d5adbdce5cda31c40cf527597d3606,Add API to create untitled document
sorbits,2016-09-22 06:48:04,https://api.github.com/repos/textmate/textmate/git/commits/631ced7b3cfba55f06e85e121edbf91bf1fd355b,631ced7b3cfba55f06e85e121edbf91bf1fd355b,"Introduce keepSearchResultsOnDoubleClick user defaults key

This prevents the find dialog from closing when double-clicking search results."
sorbits,2016-09-22 06:40:36,https://api.github.com/repos/textmate/textmate/git/commits/1f6b87d4ead1a7ba1c86dc78fedf61440c418d11,1f6b87d4ead1a7ba1c86dc78fedf61440c418d11,Double-clicking inactive search results would not trigger select action
jtbandes,2016-09-22 03:18:17,https://api.github.com/repos/textmate/textmate/git/commits/f36ce366f4cb79bd756e17974733acd2a4d400d6,f36ce366f4cb79bd756e17974733acd2a4d400d6,Make OakPopOutAnimation window a child of the main window
sorbits,2016-09-21 20:20:13,https://api.github.com/repos/textmate/textmate/git/commits/771349674954f997491ec45e64a80542fc0e2066,771349674954f997491ec45e64a80542fc0e2066,Searching “other” folder would still use project folder
sorbits,2016-09-21 20:03:02,https://api.github.com/repos/textmate/textmate/git/commits/ba7ef25d665cc38e88d82e8a159d72953bdd62e7,ba7ef25d665cc38e88d82e8a159d72953bdd62e7,No need for document editor to observe content did change notification
sorbits,2016-09-21 19:00:21,https://api.github.com/repos/textmate/textmate/git/commits/b9e937283aea0315b84d9a0fd4932b41dadc6f6e,b9e937283aea0315b84d9a0fd4932b41dadc6f6e,Checkin release notes for 2.0-beta.12.13
sorbits,2016-09-21 18:36:37,https://api.github.com/repos/textmate/textmate/git/commits/bedf79aff372c653b466e6f32488395bf91ad3b8,bedf79aff372c653b466e6f32488395bf91ad3b8,"Fix issue when loading the same document simultaneously

This could happen when restoring a session where the same document was open in multiple windows."
sorbits,2016-09-21 18:20:05,https://api.github.com/repos/textmate/textmate/git/commits/5de8e6fd5865ff5eeae90137ce51d796376ad76a,5de8e6fd5865ff5eeae90137ce51d796376ad76a,Sanitize selection if buffer is changed outside change group
sorbits,2016-09-21 18:17:33,https://api.github.com/repos/textmate/textmate/git/commits/981b7a6d8f5dd5462993792e86f19a67841bdfbe,981b7a6d8f5dd5462993792e86f19a67841bdfbe,Move undo grouping to OakDocumentEditor
sorbits,2016-09-21 16:24:52,https://api.github.com/repos/textmate/textmate/git/commits/aa2e86a015766a76fb86e975fe5b6737c5e05d63,aa2e86a015766a76fb86e975fe5b6737c5e05d63,"Fix crash when clearing document that was never set

This would show when opening a file that prompted the user for input (e.g. unknown encoding) and then selecting cancel."
sorbits,2016-09-21 16:10:50,https://api.github.com/repos/textmate/textmate/git/commits/b8c2b8889ca6e8114412e205ff0dccb7d94c554e,b8c2b8889ca6e8114412e205ff0dccb7d94c554e,Going to SCM status for non-repository with spaces would throw exception
sorbits,2016-09-21 15:53:02,https://api.github.com/repos/textmate/textmate/git/commits/c0b4e7319cf7896ba2458c80f27cbeff21999e5e,c0b4e7319cf7896ba2458c80f27cbeff21999e5e,Only regular expression searches use file size limit for non-open files
sorbits,2016-09-21 15:43:58,https://api.github.com/repos/textmate/textmate/git/commits/017f4a3ba16593f0e27a841cad693930e6a325b6,017f4a3ba16593f0e27a841cad693930e6a325b6,"Check if path is a folder before calling path::entries()

This is just to suppress a warning from path::entries()."
sorbits,2016-09-21 15:35:00,https://api.github.com/repos/textmate/textmate/git/commits/2f5b8559fb770cab1fc7c3ee46686f2abdea0b8b,2f5b8559fb770cab1fc7c3ee46686f2abdea0b8b,"Only add folders to find dialog’s Recent Places

Now that documents selected in the file browser can be searched, we can end up with a document path in the ‘otherFolder’ property.

This would happen by selecting a document in the file browser, opening the find dialog, and then selecting this document in the pop-up, as it is listed in the pop-up with a menu item tag of “FFSearchTargetOther”."
sorbits,2016-09-21 15:31:10,https://api.github.com/repos/textmate/textmate/git/commits/74a2c9e801aed90608aa82fc6564dcaa297cc49f,74a2c9e801aed90608aa82fc6564dcaa297cc49f,"Handle potential exception when asking NSFileHandle for fileDescriptor

Based on crash logs this occasionally throws an “Operation not permitted” or “unknown error” exception, so now we catch these."
sorbits,2016-09-21 15:19:25,https://api.github.com/repos/textmate/textmate/git/commits/6db5ac8de36d43585a569bc224dda19320716f4c,6db5ac8de36d43585a569bc224dda19320716f4c,"Rename performCloseOtherTabs: to performCloseOtherTabsXYZ:

Starting with macOS 10.12 the NSWindow class will swallow this method, even if we set NSWindow.allowsAutomaticWindowTabbing = NO."
sorbits,2016-09-21 15:14:26,https://api.github.com/repos/textmate/textmate/git/commits/ad01eb1ac6e8ab33947ad06a2711a83bf081817c,ad01eb1ac6e8ab33947ad06a2711a83bf081817c,Use stringArrayForKey: where appropriate
sorbits,2016-09-21 11:47:46,https://api.github.com/repos/textmate/textmate/git/commits/808563c93486853b57d5ec9a7a383704fb54c459,808563c93486853b57d5ec9a7a383704fb54c459,"Remove unnecessary overloads of requiresConstraintBasedLayout

It should only be necessary to overload this method (to return YES) when the system is unable to figure out by itself, that it should enable constraint-based layout for the window in which the view is placed."
rdwampler,2016-09-13 16:10:53,https://api.github.com/repos/textmate/textmate/git/commits/f38eaa5315faf187dee1634359688d8f9d9c7aeb,f38eaa5315faf187dee1634359688d8f9d9c7aeb,"Let OakPopOutAnimation set the color in the image to black

This makes the text easier to see against the yellow background."
sorbits,2016-09-20 18:04:33,https://api.github.com/repos/textmate/textmate/git/commits/2ffbfe02a568a41283b2bd4e7a27a69fcbb03aa7,2ffbfe02a568a41283b2bd4e7a27a69fcbb03aa7,Remove find::kSearchOpenFiles constant
sorbits,2016-09-20 18:04:19,https://api.github.com/repos/textmate/textmate/git/commits/1087a68f440ad0da95f5f5b6eb1c3963701723e1,1087a68f440ad0da95f5f5b6eb1c3963701723e1,Add “File Browser Items” as find dialog search target
sorbits,2016-09-20 18:03:32,https://api.github.com/repos/textmate/textmate/git/commits/4dc3de163ef15e0c313f4685124f161ff24abb14,4dc3de163ef15e0c313f4685124f161ff24abb14,Guard against infinite loop
sorbits,2016-09-20 18:02:08,https://api.github.com/repos/textmate/textmate/git/commits/9d97662b89a4d50b7b363358bf5de8c5b01144b7,9d97662b89a4d50b7b363358bf5de8c5b01144b7,Let FFDocumentSearch accept an array of paths
sorbits,2016-09-20 17:55:16,https://api.github.com/repos/textmate/textmate/git/commits/315735a13ae347df144195d94a8d71bb89e23b04,315735a13ae347df144195d94a8d71bb89e23b04,Add helper function for common ancestor
sorbits,2016-09-20 16:20:36,https://api.github.com/repos/textmate/textmate/git/commits/c04430ebe46938978e38ad6bfa159c2e84b84c9c,c04430ebe46938978e38ad6bfa159c2e84b84c9c,FFDocumentSearch no longer search current document or open files
sorbits,2016-09-20 16:19:20,https://api.github.com/repos/textmate/textmate/git/commits/d7f4b5bfb68db499745906fa1471f441dfe92063,d7f4b5bfb68db499745906fa1471f441dfe92063,"Use ‘enabled2’ in binding since we already bind to ‘enabled’

Before the Replace & Find button was enabled for folder searches."
sorbits,2016-09-20 16:17:37,https://api.github.com/repos/textmate/textmate/git/commits/dbee4704cc45433b0ffc317ed406b7cd2b1990f3,dbee4704cc45433b0ffc317ed406b7cd2b1990f3,"Clear the countOfMatches properties after unbinding

The Replace All button’s enabled state is based on count of matches (via bindings), so unbinding would leave it possibly enabled when it should have been disabled."
sorbits,2016-09-20 16:17:06,https://api.github.com/repos/textmate/textmate/git/commits/2e61de9f7db9bb75c74ed780358fa6371752549e,2e61de9f7db9bb75c74ed780358fa6371752549e,Do not show missing items under Recent Places in folder search
sorbits,2016-09-20 16:16:41,https://api.github.com/repos/textmate/textmate/git/commits/e20bb55d18b02210a1311edc4000315df19ef11e,e20bb55d18b02210a1311edc4000315df19ef11e,"Use home folder as fallback in FFFolderMenu

This is to avoid an exception when the code is used with menu items that have no represented object (which it normally wouldn’t in shipping code, but it seems it should be supported nonetheless)."
sorbits,2016-09-20 16:15:20,https://api.github.com/repos/textmate/textmate/git/commits/53a6708c089e9f41d2644a3c68d4c4a8f60b5244,53a6708c089e9f41d2644a3c68d4c4a8f60b5244,Add API to search for documents at multiple locations
sorbits,2016-09-20 16:14:07,https://api.github.com/repos/textmate/textmate/git/commits/330695a77550cbf26b40462b50eb10bcccd0d570,330695a77550cbf26b40462b50eb10bcccd0d570,Import Find.h instead of redeclaring some of its symbols
sorbits,2016-09-20 16:13:46,https://api.github.com/repos/textmate/textmate/git/commits/27c34c8991e9c4bafd4a60d6476aa012807d2b8b,27c34c8991e9c4bafd4a60d6476aa012807d2b8b,"Add missing key bindings for Back and Forward items in File Browser menu

This broke when we changed the menu name from Go to File Browser."
sorbits,2016-09-20 16:13:24,https://api.github.com/repos/textmate/textmate/git/commits/c722c0266d92c8c689fda08fbda8f76d63d729ad,c722c0266d92c8c689fda08fbda8f76d63d729ad,Include spelling languages in the bundle item chooser
sorbits,2016-09-20 16:12:13,https://api.github.com/repos/textmate/textmate/git/commits/e3874bcecbae388294b94572d7265f25ddfc43c0,e3874bcecbae388294b94572d7265f25ddfc43c0,"Only set menu item image when required

The system can be updating the menu only to resolve a key equivalent, hence the image is not required. The document icon can be a little expensive to create because of the SCM badge. This would be noticeable when doing a folder search with hundres or thousands of results and then pressing ⌘1, here it would previously need to create all the document icons before responding to the key."
sorbits,2016-09-20 16:11:23,https://api.github.com/repos/textmate/textmate/git/commits/1fad00682af5c85e9f8cfe60095676b233fb0845,1fad00682af5c85e9f8cfe60095676b233fb0845,"Do not include final “newline” when creating image from selection

Previously searching for something with a trailing newline would have the pop-out animation (image) include an extra empty line.

An issue is when only searching for a newline, currently this results in an empty image, so we need to special-case that."
sorbits,2016-09-20 07:59:00,https://api.github.com/repos/textmate/textmate/git/commits/10f88212e4250a63160c11a6f76e09ff96e9ef39,10f88212e4250a63160c11a6f76e09ff96e9ef39,"Use setDynamicTitle: for menu items with dynamic title

See previous commit for details."
sorbits,2016-09-20 07:40:13,https://api.github.com/repos/textmate/textmate/git/commits/60441f69e43137088aac19446b9b51dacb0849eb,60441f69e43137088aac19446b9b51dacb0849eb,"Add NSMenuItem category method to be used for dynamic titles

When a menu item has a custom app shortcut it is necessary to keep the original title as we would otherwise lose the custom app shortcut defined by the user (using the original title)."
sorbits,2016-09-19 11:10:27,https://api.github.com/repos/textmate/textmate/git/commits/ad883f7211d3c59e0ac77f064552a4b03a7fbcf1,ad883f7211d3c59e0ac77f064552a4b03a7fbcf1,"fixup! Only set table view’s row height during sizeToFit

Incase of no choices we would set a row height of zero which is not allowed."
sorbits,2016-09-19 10:57:50,https://api.github.com/repos/textmate/textmate/git/commits/7bddb114bc84f9b93a8bd48ed3d17fef85ef2fd4,7bddb114bc84f9b93a8bd48ed3d17fef85ef2fd4,Only obtain SCM info when file chooser is showing Uncommitted Changes
sorbits,2016-09-19 10:56:03,https://api.github.com/repos/textmate/textmate/git/commits/6f4eddf88ce53f6961cf6072e8d0f3bfb6a2f2e0,6f4eddf88ce53f6961cf6072e8d0f3bfb6a2f2e0,Avoid wrapper objects in FileChooser
sorbits,2016-09-19 10:54:19,https://api.github.com/repos/textmate/textmate/git/commits/7cc017f343a5ac9e9fdd7f9b4bffe3e78327d4c0,7cc017f343a5ac9e9fdd7f9b4bffe3e78327d4c0,Harmonize all implementations of sharedInstance
sorbits,2016-09-19 10:52:46,https://api.github.com/repos/textmate/textmate/git/commits/fe831c2fc296c80f8f70e70e3d134b3680801b0a,fe831c2fc296c80f8f70e70e3d134b3680801b0a,Declare NSMenuDelegate protocol conformance for OakOpenWithMenu
sorbits,2016-09-19 10:51:36,https://api.github.com/repos/textmate/textmate/git/commits/41bf68e6361d5a46176748511aaad26d01a9bf7f,41bf68e6361d5a46176748511aaad26d01a9bf7f,"Remove FileChooser’s openDocuments property

List of open documents are (now) obtained from OakDocumentController."
sorbits,2016-09-19 10:51:19,https://api.github.com/repos/textmate/textmate/git/commits/9397aed6ef0105ca404eee519d89568343a788f6,9397aed6ef0105ca404eee519d89568343a788f6,Make document icon and close button update in FileChooser
sorbits,2016-09-19 10:50:04,https://api.github.com/repos/textmate/textmate/git/commits/44d037da65b8fc00af994d464b1d15f8141d171a,44d037da65b8fc00af994d464b1d15f8141d171a,Use OakDocument’s icon for Select Tab menu items
sorbits,2016-09-19 10:49:03,https://api.github.com/repos/textmate/textmate/git/commits/297cfa1726160424f77415299696fd6c1c961dec,297cfa1726160424f77415299696fd6c1c961dec,Remove unused OakFileIconImage.h includes
sorbits,2016-09-19 10:48:46,https://api.github.com/repos/textmate/textmate/git/commits/636b0fe5f8daaae06071bf4f1b185171bf76a73d,636b0fe5f8daaae06071bf4f1b185171bf76a73d,"Use OakDocument for icon and close button in Open Quickly

Currently these do not update when document properties change."
sorbits,2016-09-19 10:48:12,https://api.github.com/repos/textmate/textmate/git/commits/238ee0cc4fa408b9c92e8241c85f9bc3f8c9c671,238ee0cc4fa408b9c92e8241c85f9bc3f8c9c671,Load potential backup before operating on non-loaded documents
sorbits,2016-09-19 10:46:54,https://api.github.com/repos/textmate/textmate/git/commits/9b75a505202426b63523f59cbd0ad905e2ce774a,9b75a505202426b63523f59cbd0ad905e2ce774a,Fix issue where aborting a file rename did not restore display name
sorbits,2016-09-19 10:46:07,https://api.github.com/repos/textmate/textmate/git/commits/7a69bf3b285f154136761d40e8cbdfdfc5c1699f,7a69bf3b285f154136761d40e8cbdfdfc5c1699f,Ensure untitled documents are in the LRU list after session restore
sorbits,2016-09-18 20:58:23,https://api.github.com/repos/textmate/textmate/git/commits/de83ebf06e1b9cd45edf54793cbc8f75655794dd,de83ebf06e1b9cd45edf54793cbc8f75655794dd,Introduce OakCreateCloseButton API
sorbits,2016-09-18 20:52:25,https://api.github.com/repos/textmate/textmate/git/commits/ce639d6d094ac02159b0ce8b5ac03f5502079aec,ce639d6d094ac02159b0ce8b5ac03f5502079aec,Move close button graphics to OakAppKit
sorbits,2016-09-18 11:18:55,https://api.github.com/repos/textmate/textmate/git/commits/bc6c05086aaaca9235889513ebbc9dffd29579a8,bc6c05086aaaca9235889513ebbc9dffd29579a8,Include untitled document’s directory in their description
sorbits,2016-09-18 11:09:19,https://api.github.com/repos/textmate/textmate/git/commits/05711359a083f323b2c8df574dc55dd0128e483a,05711359a083f323b2c8df574dc55dd0128e483a,"Also return untitled documents from enumerateDocumentsAtPath:

We look at the document’s directory property to see if it is within the folder being searched."
sorbits,2016-09-18 11:07:59,https://api.github.com/repos/textmate/textmate/git/commits/9e5c4f27b6b173fd5a6c1092831d13a94b33a2fa,9e5c4f27b6b173fd5a6c1092831d13a94b33a2fa,OakDocumentController’s openDocuments now return a sorted array
sorbits,2016-09-18 11:00:48,https://api.github.com/repos/textmate/textmate/git/commits/abeaa0498f986ef315000bdeafc1c0f52991cd00,abeaa0498f986ef315000bdeafc1c0f52991cd00,OakDocument’s icon now indicate when a file is missing on disk
sorbits,2016-09-18 10:28:35,https://api.github.com/repos/textmate/textmate/git/commits/82ad6667e9df521bd3688e782a7f69d47d4eac76,82ad6667e9df521bd3688e782a7f69d47d4eac76,"Ensure all untitled documents in a project get a directory

We should probably update the directory if the project’s project folder is changed, and we may also consider storing this in the session, at least if we set the directory during “New Tab” (based on current file browser selection)."
sorbits,2016-09-18 10:15:22,https://api.github.com/repos/textmate/textmate/git/commits/1627a62b902ea8f60c0eeecbd3752f4045a69850,1627a62b902ea8f60c0eeecbd3752f4045a69850,"Clear document’s directory property when changing path

This is just for good measure."
sorbits,2016-09-18 10:14:49,https://api.github.com/repos/textmate/textmate/git/commits/87dafa33324e34ef1b25545973d67d377a0511ca,87dafa33324e34ef1b25545973d67d377a0511ca,Only let untitled documents read settings via directory property
sorbits,2016-09-18 08:35:33,https://api.github.com/repos/textmate/textmate/git/commits/a58f3b88e946e6d30acf687e6537f13591fe0572,a58f3b88e946e6d30acf687e6537f13591fe0572,"Let document window send ‘open’ to unloaded documents

When batch-opening documents we only load the selected one. Previously this meant that e.g. after session restore, using Find in Open Files would not search documents in background tabs (that had not yet been clicked)."
sorbits,2016-09-18 08:33:45,https://api.github.com/repos/textmate/textmate/git/commits/5f5307586406f103c3b1a6ee39d7679d0bf1c790,5f5307586406f103c3b1a6ee39d7679d0bf1c790,Disable recent tracking for non-open documents instead of non-loaded
sorbits,2016-09-18 08:33:20,https://api.github.com/repos/textmate/textmate/git/commits/d66b2b982ded4cc16dccef8fb5c89f8af0b0a3b2,d66b2b982ded4cc16dccef8fb5c89f8af0b0a3b2,Search open files using OakDocument’s isOpen property
sorbits,2016-09-18 08:31:50,https://api.github.com/repos/textmate/textmate/git/commits/532e9742d214d687ed3ebb1548835c94ce55b60c,532e9742d214d687ed3ebb1548835c94ce55b60c,"Add openDocuments property to OakDocumentController

This uses OakDocument’s isOpen property to know which documents are open.

Currently not KVO compliant, but it probably should be."
sorbits,2016-09-18 08:30:28,https://api.github.com/repos/textmate/textmate/git/commits/fa2eaa1e50b1bd4fb3c373ff8f1b95a96c8e7944,fa2eaa1e50b1bd4fb3c373ff8f1b95a96c8e7944,"Make OakDocument’s open/isOpen separat from isLoaded

A loaded document is always open but an open document is not necessarily loaded."
sorbits,2016-09-18 08:29:21,https://api.github.com/repos/textmate/textmate/git/commits/ddefdec6497bcfe498dc902180ce03960893c75d,ddefdec6497bcfe498dc902180ce03960893c75d,"Change document’s isOpen property to isLoaded

Since we do not load documents before the user selects them, e.g. after session restore or when opening multiple documents, it makes sense to have both an isOpen and isLoaded property, the former means “is shown somewhere in the UI” and would make it appear (e.g. in file browser) with close button etc., whereas the latter means that data has been loaded from disk, and we can safely access the buffer."
sorbits,2016-09-18 08:29:20,https://api.github.com/repos/textmate/textmate/git/commits/cd58781f198bea4bfccb38263c3cc1c7e33b5a91,cd58781f198bea4bfccb38263c3cc1c7e33b5a91,"Increase find results update interval from 0.03 to 0.20 seconds

It looks better when we have a “full page” of results on the first update, rather than building up the first page of results file-by-file with only 0.03 seconds between each “increment”."
sorbits,2016-09-18 08:27:56,https://api.github.com/repos/textmate/textmate/git/commits/1abd03a1a45cdb3e713510a54be70c495ca02b49,1abd03a1a45cdb3e713510a54be70c495ca02b49,Skip parsing format strings w/o special characters
sorbits,2016-09-18 08:26:00,https://api.github.com/repos/textmate/textmate/git/commits/9aafadbe253793750a19c0cf39fb67b0cae69298,9aafadbe253793750a19c0cf39fb67b0cae69298,Fix retain cycles responsible for leaked NSTableCellView objects
sorbits,2016-09-18 08:26:00,https://api.github.com/repos/textmate/textmate/git/commits/0fa87d514dd49dbc5a8ff9bce58a1d937023ab74,0fa87d514dd49dbc5a8ff9bce58a1d937023ab74,Use nicer isXYZ property getter names for tab bar view
sorbits,2016-09-18 08:25:53,https://api.github.com/repos/textmate/textmate/git/commits/4b000cc63302cf794a6ec2cc35ccac15655925bd,4b000cc63302cf794a6ec2cc35ccac15655925bd,"Rename scannerProbeTimer variable to folder search code

This is so that the code mimics FileChooser.mm"
sorbits,2016-09-18 08:25:18,https://api.github.com/repos/textmate/textmate/git/commits/df5b79d4a37f7ef698c535d54c4ee7590137f69a,df5b79d4a37f7ef698c535d54c4ee7590137f69a,Remove unused ‘polling’ property from file chooser
sorbits,2016-09-18 08:24:28,https://api.github.com/repos/textmate/textmate/git/commits/2927a34882e97be98bea3ad5f98042afc5f9d294,2927a34882e97be98bea3ad5f98042afc5f9d294,"Delay showing progress indicator in file chooser

For most projects the progress indicator would show for less than a tenth of a second, which would make it appear as flicker.

Also increase the initial poll interval to 0.02 seconds since results are updated when the search finishes (previously they were only updated by the poll timer, which is why we had to set it so low)."
sorbits,2016-09-17 05:25:42,https://api.github.com/repos/textmate/textmate/git/commits/83113e4765bfde2c205d038629589482027c3901,83113e4765bfde2c205d038629589482027c3901,Use NSUUID for documentIdentifier properties
sorbits,2016-09-17 05:24:56,https://api.github.com/repos/textmate/textmate/git/commits/31e3f37669686cefa2eb06019bda159be05b23b4,31e3f37669686cefa2eb06019bda159be05b23b4,"Remove code that ensured re-use of document_t instances

Since document_t is now a thin wrapper and OakDocument does its own tracking to ensure we do not create multiple documents for the same path, we no longer need document_t to take care of this."
sorbits,2016-09-17 05:23:48,https://api.github.com/repos/textmate/textmate/git/commits/aad92642dc6bd1056177df53428bf947cb91944a,aad92642dc6bd1056177df53428bf947cb91944a,Disable compiler warning for our Objective-C leak detector
sorbits,2016-09-17 05:22:41,https://api.github.com/repos/textmate/textmate/git/commits/51faf0ed3c7002737aa23565586baf0a562fff10,51faf0ed3c7002737aa23565586baf0a562fff10,"Remove WebKit workaround that no longer seems necessary

The workaround was introduced in May 2005, so the underlying issue was probably addressed a long time ago :)"
sorbits,2016-09-16 13:45:18,https://api.github.com/repos/textmate/textmate/git/commits/43075011703f4cf921d82a27273d50129ebe2a5f,43075011703f4cf921d82a27273d50129ebe2a5f,Let type of kSearchMarkIdentifier be NSString
sorbits,2016-09-16 13:25:47,https://api.github.com/repos/textmate/textmate/git/commits/084ec6ac8fedcbcf18c5f9815a9a1a421d84cb90,084ec6ac8fedcbcf18c5f9815a9a1a421d84cb90,"Invalidate backup timer when removing backup

The backup timer is retaining our document so the document would live for up to two seconds after it was closed, this was mainly a problem for untitled documents, as it meant the next new untitled document created would get a display name of “untitled n”."
sorbits,2016-09-16 13:25:38,https://api.github.com/repos/textmate/textmate/git/commits/d8a18057fa36fec1e7721ad9a96483d2467fac4a,d8a18057fa36fec1e7721ad9a96483d2467fac4a,Remove find::match_t
sorbits,2016-09-16 13:23:59,https://api.github.com/repos/textmate/textmate/git/commits/7314f7391c3146d6a5f20d47e96a0b56301b4374,7314f7391c3146d6a5f20d47e96a0b56301b4374,Use OakDocumentMatch instead of find::match_t
sorbits,2016-09-16 13:22:12,https://api.github.com/repos/textmate/textmate/git/commits/61f6835f9fca4310188e07d44d8c515b3e181eb9,61f6835f9fca4310188e07d44d8c515b3e181eb9,Track FFResultNode leaks
sorbits,2016-09-16 13:22:12,https://api.github.com/repos/textmate/textmate/git/commits/d021ba0eb2709cb2ddb9e91075caaa64db6f4c41,d021ba0eb2709cb2ddb9e91075caaa64db6f4c41,"Clearing search results would still keep FFResultNode objects around

Since the checkbox button shown in the search results had its values bound directly to an FFResultNode instance, it would retain this object for as long as the checkbox was around, which is basically forever, although it could be reused with another FFResultNode instance, in which case the previous instance would be released.

To avoid this, we have introduced an NSTableCellView that stores the FFResultNode instance as its object value, and the checkbox uses a key path that goes via the object value for the bound values. This still creates a retain cycle, but the NSOutlineView will set all object value properties to nil when its data is cleared, thereby at least releasing the FFResultNode objects."
sorbits,2016-09-16 13:20:53,https://api.github.com/repos/textmate/textmate/git/commits/e34a90b30b8619728b1f355c7faeb6d636754f68,e34a90b30b8619728b1f355c7faeb6d636754f68,"A missing backup file would cause an assertion to fail

This is because we had the initializer search for the backup and fail (return nil) when no backup was found, but in that case, dealloc would be called on the (uninitialized) object, which would unregister the document, but the document had never been registered, hence the assertion failure (about only unregistering previously registered documents)."
sorbits,2016-09-16 13:20:47,https://api.github.com/repos/textmate/textmate/git/commits/dbc6e28dd21e9b7de32ae8cc40efaf586c32827a,dbc6e28dd21e9b7de32ae8cc40efaf586c32827a,"Add icon property to OakDocument

This is KVO compliant with respect to calling the observer if properties that affect the icon are changed."
sorbits,2016-09-16 13:18:59,https://api.github.com/repos/textmate/textmate/git/commits/80ee3e2d4c3dec6a55479891b1169c3854c780df,80ee3e2d4c3dec6a55479891b1169c3854c780df,Make OakDocument’s performReplacements:checksum: public
sorbits,2016-09-16 13:17:06,https://api.github.com/repos/textmate/textmate/git/commits/676f542dac32a11316bd7fe78a18f290843f03dd,676f542dac32a11316bd7fe78a18f290843f03dd,"Custom scopeAttributes only worked for file pattern sections

That is [ *.diff ] worked but [ source.diff ] did not, since we looked up using only the file path, not the file type."
sorbits,2016-09-16 13:16:16,https://api.github.com/repos/textmate/textmate/git/commits/a914aaea99b89db86e8b0095d72b7b8f3a9ad419,a914aaea99b89db86e8b0095d72b7b8f3a9ad419,Remove unused property
sorbits,2016-09-16 13:15:09,https://api.github.com/repos/textmate/textmate/git/commits/a187b5c7abfedcede37520c3c56203e0c1d1d3d7,a187b5c7abfedcede37520c3c56203e0c1d1d3d7,Remove document::scanner_t
sorbits,2016-09-16 13:14:50,https://api.github.com/repos/textmate/textmate/git/commits/fcee7b38ab13d85835f2ff63483a66821c066798,fcee7b38ab13d85835f2ff63483a66821c066798,Remove find::scan_path_t
sorbits,2016-09-16 13:13:48,https://api.github.com/repos/textmate/textmate/git/commits/0a2754a4c6ac99878d31cfeaaee5c077e47abc54,0a2754a4c6ac99878d31cfeaaee5c077e47abc54,Add missing include
sorbits,2016-09-16 13:13:03,https://api.github.com/repos/textmate/textmate/git/commits/aacfb3f1272c15ae5122c13cc42243190b61dbbe,aacfb3f1272c15ae5122c13cc42243190b61dbbe,Use OakDocument/OakDocumentController for folder search
sorbits,2016-09-16 13:12:55,https://api.github.com/repos/textmate/textmate/git/commits/c66ccf95e768c4ce0bfe01bf192ee2378565c355,c66ccf95e768c4ce0bfe01bf192ee2378565c355,"Ensure enumerateByteRangesUsingBlock: iterate buffer on main thread

This method is called by the matchesForString:options: which can be called from a background thread.

Though we should revise this solution later to introduce proper locking on the buffer (and possibly path) instance variable to guarantee thread safety."
sorbits,2016-09-16 13:12:15,https://api.github.com/repos/textmate/textmate/git/commits/aef8529bc68623eb23a90acb0394d68f27b8cd47,aef8529bc68623eb23a90acb0394d68f27b8cd47,"Use NSTimer instead of OakTimer

This requires the document search to be stopped explicitly rather than released, but I think this is an acceptable requirement. If it is not stopped, the search will simply run its course, which would also have been the case, if something else was retaining the object."
sorbits,2016-09-16 13:11:49,https://api.github.com/repos/textmate/textmate/git/commits/6bb9ff2240a4a84b3412238312a422a6f6b5e177,6bb9ff2240a4a84b3412238312a422a6f6b5e177,Add matchesForString:options: to OakDocument
rdwampler,2016-06-21 02:51:53,https://api.github.com/repos/textmate/textmate/git/commits/1658d6356a0e8d341e769234271505bdc977119e,1658d6356a0e8d341e769234271505bdc977119e,"Use thread_local instead of our own implementation

Apple's clang (Apple LLVM version 8.0.0 (clang-800.0.24.1)) as shipped with Xcode 8 now supports `thread_local`. This effectively reverts commits: 14c6a70 f3d1aba 9d1d1a1a and 172ce9d."
sorbits,2016-09-14 19:30:51,https://api.github.com/repos/textmate/textmate/git/commits/fb929aee10c271c1a5b87ddf1ff5e172bc7a8396,fb929aee10c271c1a5b87ddf1ff5e172bc7a8396,Remove redundant member data
sorbits,2016-09-14 18:35:17,https://api.github.com/repos/textmate/textmate/git/commits/9088c63a1acf50609e776b5d5292b1f47d0afe85,9088c63a1acf50609e776b5d5292b1f47d0afe85,"Add mutex to make code (sort of) safe to use from multiple threads

The add/remove functions are called when opening/closing documents, in TextMate this happens in the main thread, but not when executing the tests. With the mutex, it should now be safe to call the functions from multiple threads at the same time although if file system changes are actually observed, the callback will be executed on the main thread."
sorbits,2016-09-14 06:39:09,https://api.github.com/repos/textmate/textmate/git/commits/a70363d4e091c5fb832db8c3a74d141570990618,a70363d4e091c5fb832db8c3a74d141570990618,Remove document_t compatibility API from FileChooser class
sorbits,2016-09-14 06:38:27,https://api.github.com/repos/textmate/textmate/git/commits/ce5a6b4b59c8017661b5b609bf173dac599d2036,ce5a6b4b59c8017661b5b609bf173dac599d2036,"Avoid unnecessary folder scanning

This should be fixed in the FileChooser class, but that is non-trivial since we need to introduce a “dirty” flag and start the search when the window is made visible or possibly at the start of the next event loop cycle."
sorbits,2016-09-14 06:37:30,https://api.github.com/repos/textmate/textmate/git/commits/363c916eebd4752b3f5843b2c992b8c9181ff017,363c916eebd4752b3f5843b2c992b8c9181ff017,Refactor file chooser
sorbits,2016-09-14 06:36:42,https://api.github.com/repos/textmate/textmate/git/commits/154294f35cfa9cfd722fd35b6fea09d9f7f02077,154294f35cfa9cfd722fd35b6fea09d9f7f02077,Use new OakDocument-based directory scanner API
sorbits,2016-09-14 06:36:13,https://api.github.com/repos/textmate/textmate/git/commits/5506e9ccc4b04b95aba5321b4c3e5750725927ce,5506e9ccc4b04b95aba5321b4c3e5750725927ce,Add new OakDocument-based directory scanner API
sorbits,2016-09-14 06:36:10,https://api.github.com/repos/textmate/textmate/git/commits/721772f9ba3de8033c46ee2d4b4126ffc254959d,721772f9ba3de8033c46ee2d4b4126ffc254959d,"Let the file chooser work with OakDocument instead of document_t

There is a noticeable performance degradation but this is only because when we obtain an OakDocument from a document_t object then an observer is added to OakDocument to keep the document_t object in sync.

Once we have directory enumeration code that return OakDocument instances, this problem will disappear."
sorbits,2016-09-14 06:35:55,https://api.github.com/repos/textmate/textmate/git/commits/5d8ef8c2597062db60298a8411ca83172ab186cc,5d8ef8c2597062db60298a8411ca83172ab186cc,Rename openDocuments property to openCppDocuments
sorbits,2016-09-14 06:35:24,https://api.github.com/repos/textmate/textmate/git/commits/30e04eb72a9e4440b81e635c666030de6520aec8,30e04eb72a9e4440b81e635c666030de6520aec8,Add glob_list_t::add_glob which can be used both for include and exclude
sorbits,2016-09-14 06:34:02,https://api.github.com/repos/textmate/textmate/git/commits/28b9fadb63144ce62eb67181c710528198108ff3,28b9fadb63144ce62eb67181c710528198108ff3,Let “exclude” be part of the item type in glob_list_t
sorbits,2016-09-13 21:04:27,https://api.github.com/repos/textmate/textmate/git/commits/7f73203572b1835588bfe3f705b3e898a107dc42,7f73203572b1835588bfe3f705b3e898a107dc42,"Call animationDidStop:finished: to avoid retain cycle

If we order out the window then the animation does not run to completion which means that our delegate’s ‘did stop’ method is not called, but this method is responsible for breaking our retain cycle."
sorbits,2016-09-13 20:48:34,https://api.github.com/repos/textmate/textmate/git/commits/f1fef3315e8163bd1439cfd00d45f607e8f81e2d,f1fef3315e8163bd1439cfd00d45f607e8f81e2d,"Add callback.document.did-change-scm-status

This is useful for SCM gutter marks which should update after committing or reverting changes in the current document."
sorbits,2016-09-13 20:41:51,https://api.github.com/repos/textmate/textmate/git/commits/6610adff97c0c423e4b786cbcb86bf0dc31bb893,6610adff97c0c423e4b786cbcb86bf0dc31bb893,"Add scmStatus property to OakDocument

The OakDocument object will not subscribe to SCM changes until the getter has been called."
sorbits,2016-09-13 19:33:00,https://api.github.com/repos/textmate/textmate/git/commits/74a44e2ebf86dea9176d7463aeff771e386f9415,74a44e2ebf86dea9176d7463aeff771e386f9415,fixup! Let OakDocumentController handle document LRU tracking
jtbandes,2016-09-13 06:50:46,https://api.github.com/repos/textmate/textmate/git/commits/d6652ff4e80b0356a029ede3ec93a4cda92fe77a,d6652ff4e80b0356a029ede3ec93a4cda92fe77a,Hide previous pop-out animations when showing a new one
sorbits,2016-09-12 20:45:12,https://api.github.com/repos/textmate/textmate/git/commits/590fd5b71b62e12559c093c2f8dfae3b7abd81ab,590fd5b71b62e12559c093c2f8dfae3b7abd81ab,Change type of document_t::lru from oak::date_t to NSInteger
sorbits,2016-09-12 19:52:36,https://api.github.com/repos/textmate/textmate/git/commits/8eaf1ad09c7c3717677b1c0788667c254ec4ede1,8eaf1ad09c7c3717677b1c0788667c254ec4ede1,Let OakDocumentController handle document LRU tracking
sorbits,2016-09-12 12:28:36,https://api.github.com/repos/textmate/textmate/git/commits/5cea5cd4c1accede2fb1436c13f278383579f1ee,5cea5cd4c1accede2fb1436c13f278383579f1ee,Let OakDocumentController know about documents with changed path/inode
sorbits,2016-09-12 10:09:28,https://api.github.com/repos/textmate/textmate/git/commits/bdfdef2dde8ee3d780b5f69c07ddcbd6e5455ae1,bdfdef2dde8ee3d780b5f69c07ddcbd6e5455ae1,"Rename file DocumentController.{mm,h} to DocumentWindowController.{mm,h}"
sorbits,2016-09-12 10:02:52,https://api.github.com/repos/textmate/textmate/git/commits/0efd6c750d785c81a242ef5334d256c7fea1999a,0efd6c750d785c81a242ef5334d256c7fea1999a,"Rename DocumentController to DocumentWindowController

This should ensure we do not confuse it with OakDocumentController (a class that only tracks document instances w/o any UI)."
sorbits,2016-09-12 09:20:32,https://api.github.com/repos/textmate/textmate/git/commits/d65bbc567aa82947d9f58a101e2b0e9dbcf801e1,d65bbc567aa82947d9f58a101e2b0e9dbcf801e1,Handle document sticky flag in the UI layer
sorbits,2016-09-12 08:56:16,https://api.github.com/repos/textmate/textmate/git/commits/1587acbecfd8356e7cb0680770dbabb2d3a76a40,1587acbecfd8356e7cb0680770dbabb2d3a76a40,"Remove unused sticky property from OakTabBarView

Ideally we would render a pin or similar for sticky tabs, but until we do, let’s not have this unused property, as it doesn’t reflect the document’s state."
rdwampler,2016-09-12 13:50:56,https://api.github.com/repos/textmate/textmate/git/commits/9c8caa21ec7210919e885e2db0b2c807b1102584,9c8caa21ec7210919e885e2db0b2c807b1102584,"fixup! Only set table view’s row height during sizeToFit

We need to set the row height after calling sizeToFit on textField."
sorbits,2016-09-12 08:48:05,https://api.github.com/repos/textmate/textmate/git/commits/6e56e709e8471d4bc8df09232adea2a582cf49f5,6e56e709e8471d4bc8df09232adea2a582cf49f5,"Use OakDocumentController to track OakDocument instances

Currently all OakDocument factory methods goes via the document controller but it would probably be better to move these methods to the document controller so that all document creation happens via the controller (unless one wants to opt out of the services provided, e.g. documents used with the bundle editor and commit window do not need to be “tracked”)."
sorbits,2016-09-12 08:39:21,https://api.github.com/repos/textmate/textmate/git/commits/00634dde5982bab215344468eec4f6d3336247d1,00634dde5982bab215344468eec4f6d3336247d1,"Add OakDocumentController

This can be used to track all OakDocument instances and also as a factory to create them (from a path)."
sorbits,2016-09-12 08:25:11,https://api.github.com/repos/textmate/textmate/git/commits/656912ae17ce49572ce2b489210834288257f6e2,656912ae17ce49572ce2b489210834288257f6e2,"Let documentWithString: go via documentWithData:

This is just to limit the functions that create new documents.

Also make initWithPath: and untitledCount: available in OakDocument’s private interface."
sorbits,2016-09-12 07:20:27,https://api.github.com/repos/textmate/textmate/git/commits/ba35bc6b746c49cb4c7372132535b25b6b42c0c3,ba35bc6b746c49cb4c7372132535b25b6b42c0c3,"Don’t check if path exists when path is nil

Also add initializer signatures to our (private) interface."
sorbits,2016-09-12 07:16:33,https://api.github.com/repos/textmate/textmate/git/commits/1a7e6fda4dd76b70db6b612f0fb1f1c734f42a6c,1a7e6fda4dd76b70db6b612f0fb1f1c734f42a6c,"Add leak detection to our parser result type

This is only so that when e.g. a test leak scope and/or pattern objects, we can determine whether or not it was because a parser was still running when the test finished."
sorbits,2016-09-12 06:57:19,https://api.github.com/repos/textmate/textmate/git/commits/57d9f0602d62eec4a35124b15423aaf5a4f5c3b9,57d9f0602d62eec4a35124b15423aaf5a4f5c3b9,"Allow Objective-C(++) tests in the document framework

Now that we have OakDocument, we should rewrite the tests against this API."
sorbits,2016-09-12 06:54:52,https://api.github.com/repos/textmate/textmate/git/commits/5ae2769cc799a9948628777b3cc4b312b7374ab0,5ae2769cc799a9948628777b3cc4b312b7374ab0,"Only set selected document when required prior to showing dialog

Setting OakTextView’s document currently has the side-effect that the caret is made visible, so incase the user scrolls the caret out of view and then e.g. closes the (modified) document, previously the caret would be made visible prior to showing the “Save Changes?” dialog."
sorbits,2016-09-12 06:48:26,https://api.github.com/repos/textmate/textmate/git/commits/37943741adb98ecb2cf6813fecc023cd42980632,37943741adb98ecb2cf6813fecc023cd42980632,"Fix potential retain cycle

This would happen when creating a document with content and never opening and closing that document, so our buffer would never be deleted (previously deleted when closing a document), and the buffer callback previously held a strong reference to our document."
sorbits,2016-09-12 06:46:26,https://api.github.com/repos/textmate/textmate/git/commits/7b291185fee97bcac5492303a7ecf8f9c6d1409c,7b291185fee97bcac5492303a7ecf8f9c6d1409c,"Only set table view’s row height during sizeToFit

The initial dimension of the OakChoiceMenu could be incorrect because the row height had not been updated.

This broke in c270b0c5afd3378b1c30cbc4cbab0b3ef57563b7"
sorbits,2016-09-11 10:33:08,https://api.github.com/repos/textmate/textmate/git/commits/553e89ceb6d76db077dd890b0ef5e1b7bcd63fff,553e89ceb6d76db077dd890b0ef5e1b7bcd63fff,Update include statements and link declarations
sorbits,2016-09-11 09:53:07,https://api.github.com/repos/textmate/textmate/git/commits/e38df4dbca3a4202da400eb50e80a736074139c1,e38df4dbca3a4202da400eb50e80a736074139c1,Use start/finish times for animation instead of durations
jtbandes,2016-09-11 09:28:13,https://api.github.com/repos/textmate/textmate/git/commits/877eabb28cbc4bb6e2d4cbcf1c9ba8f8d6f3a231,877eabb28cbc4bb6e2d4cbcf1c9ba8f8d6f3a231,Tweaks to pop-out animation
jtbandes,2016-09-11 09:09:20,https://api.github.com/repos/textmate/textmate/git/commits/d16cd01f67874de1a29060cce93d5c92606d0a4c,d16cd01f67874de1a29060cce93d5c92606d0a4c,Minor visual tweaks to OakPasteboardSelector
sorbits,2016-09-11 09:03:40,https://api.github.com/repos/textmate/textmate/git/commits/4a328a84e4cc84318a1f0d41077ab4f3581922ca,4a328a84e4cc84318a1f0d41077ab4f3581922ca,"Restoring previous commit message now use project specific settings

Related to 8fd1e1088defa4b754fac206a4ccfdfc0eb381f5"
sorbits,2016-09-11 08:27:34,https://api.github.com/repos/textmate/textmate/git/commits/2ef853d4ff77b43efdf12bce9c143989792fb246,2ef853d4ff77b43efdf12bce9c143989792fb246,Add crash report info for CFCharacterSetIsLongCharacterMember
sorbits,2016-09-11 07:18:25,https://api.github.com/repos/textmate/textmate/git/commits/d4050ea44a03765b2e66e39499e40c426d6d2bda,d4050ea44a03765b2e66e39499e40c426d6d2bda,Use symbolic name for NSF2FunctionKey
sorbits,2016-09-11 06:49:32,https://api.github.com/repos/textmate/textmate/git/commits/da5fdd78a8026196717e75d400601751baa5ce41,da5fdd78a8026196717e75d400601751baa5ce41,"Remove document_t from OakDocumentView

This also updates the commit window to only use OakDocument API.

The bundle editor and document controller still require updating."
sorbits,2016-09-11 06:47:37,https://api.github.com/repos/textmate/textmate/git/commits/ab80413f212579c17c44c66918edf371f4b99262,ab80413f212579c17c44c66918edf371f4b99262,Move bundle editor’s instance variables to implementation file
sorbits,2016-09-11 06:46:11,https://api.github.com/repos/textmate/textmate/git/commits/9f4ff49529282240a4dae3e7218545af91e3329a,9f4ff49529282240a4dae3e7218545af91e3329a,Change kBookmarkIdentifier → OakDocumentBookmarkIdentifier
sorbits,2016-09-11 06:45:30,https://api.github.com/repos/textmate/textmate/git/commits/04def9dfd0071ad08d571bb4e12e166978fb24a5,04def9dfd0071ad08d571bb4e12e166978fb24a5,Add convenience constructor to OakDocument
sorbits,2016-09-11 06:45:12,https://api.github.com/repos/textmate/textmate/git/commits/149dfd884d09f3b0c70789e9b033872abcfd9bf5,149dfd884d09f3b0c70789e9b033872abcfd9bf5,Prepare to drop cppDocument property
sorbits,2016-09-11 06:43:46,https://api.github.com/repos/textmate/textmate/git/commits/ebf6ae9346c4d9d48fad05cec36bbf662ef6060d,ebf6ae9346c4d9d48fad05cec36bbf662ef6060d,Rename document property to cppDocument as intermediate refactoring step
sorbits,2016-09-11 06:43:04,https://api.github.com/repos/textmate/textmate/git/commits/cdcb5a48365e857ea7e4e5a6fda2dc99bf15eb09,cdcb5a48365e857ea7e4e5a6fda2dc99bf15eb09,"Use OakDocument API to load/close document

We sort of assume that OakDocumentView is only given documents which are already loaded."
sorbits,2016-09-11 06:42:20,https://api.github.com/repos/textmate/textmate/git/commits/f2289039daa33cb74d5c097c3f1d985b2a371a21,f2289039daa33cb74d5c097c3f1d985b2a371a21,"Calling document_t::show/hide is now done by DocumentController

This is only done for LRU tracking so it sort of makes sense to move this outside the document view itself (e.g. commit window and bundle editor does not require any LRU tracking)."
sorbits,2016-09-11 06:42:01,https://api.github.com/repos/textmate/textmate/git/commits/1e6102fb6eb68f7ed12ee03c0fe516f8f485c957,1e6102fb6eb68f7ed12ee03c0fe516f8f485c957,Observe OakDocumentMarksDidChangeNotification instead of adding callback
sorbits,2016-09-11 06:40:55,https://api.github.com/repos/textmate/textmate/git/commits/ec0be360782653f12b41bd2491650d6e5491be51,ec0be360782653f12b41bd2491650d6e5491be51,"Post OakDocumentMarksDidChangeNotification when changing marks

This is instead of posting the GVColumnDataSourceDidChange notification."
sorbits,2016-09-11 06:40:22,https://api.github.com/repos/textmate/textmate/git/commits/b9f7d232837cf5805250ce9be28526444483fac8,b9f7d232837cf5805250ce9be28526444483fac8,Make all tabSize properties use NSUInteger as their type
sorbits,2016-09-11 06:38:27,https://api.github.com/repos/textmate/textmate/git/commits/102f22e266a561c404a3b1597809060eacf41f0d,102f22e266a561c404a3b1597809060eacf41f0d,Rename property isMacroRecording → isRecordingMacro/recordingMacro
sorbits,2016-09-11 06:36:52,https://api.github.com/repos/textmate/textmate/git/commits/91190cdf9f0b262e2edbcda0d0cea78bac2811c5,91190cdf9f0b262e2edbcda0d0cea78bac2811c5,No need to have dealloc clear properties with weak storage
sorbits,2016-09-11 06:36:30,https://api.github.com/repos/textmate/textmate/git/commits/76183d63dd9d768fa98c2ab9405d879a0b2bdc7a,76183d63dd9d768fa98c2ab9405d879a0b2bdc7a,"Observe OakDocument for fileType, tabSize, and softTabs"
sorbits,2016-09-11 06:34:46,https://api.github.com/repos/textmate/textmate/git/commits/dae362060dea94d395b07d48f1732c65d7b2a6e5,dae362060dea94d395b07d48f1732c65d7b2a6e5,"Fix crash if symbol chooser was open when closing window

This was introduced in 50dabac4678d0ed8c9b43d663efaa022e06ab0de."
sorbits,2016-09-11 06:33:07,https://api.github.com/repos/textmate/textmate/git/commits/b57cde08869a102ae75e9ec4e35df40f8d78ce10,b57cde08869a102ae75e9ec4e35df40f8d78ce10,"Improve implementation of document_view_t::has_marks

The previous version was proportional in time with number of marks, since it requested (a copy of) all the marks."
sorbits,2016-09-11 06:32:58,https://api.github.com/repos/textmate/textmate/git/commits/8676827ede6b36013950c9e104f313f39a30696c,8676827ede6b36013950c9e104f313f39a30696c,Support calling marks_t::prev when there are no marks
sorbits,2016-09-11 06:32:36,https://api.github.com/repos/textmate/textmate/git/commits/358ce2f3fc2fc814732c5e754f600d3bbaf1ae23,358ce2f3fc2fc814732c5e754f600d3bbaf1ae23,Use new bookmark API from OakDocumentView
sorbits,2016-09-11 06:31:21,https://api.github.com/repos/textmate/textmate/git/commits/f961b5a683cb60312a07b11df27e065e536cb629,f961b5a683cb60312a07b11df27e065e536cb629,Treat nil as empty payload when setting a mark
sorbits,2016-09-11 06:30:59,https://api.github.com/repos/textmate/textmate/git/commits/2ba93666691b09459b6481e6f06461797dfb0a51,2ba93666691b09459b6481e6f06461797dfb0a51,Add API to enumerate all marks for a single line
sorbits,2016-09-11 06:30:50,https://api.github.com/repos/textmate/textmate/git/commits/da847e71d0b14918bb170430870353daad7f3ad2,da847e71d0b14918bb170430870353daad7f3ad2,Use OakDocument’s bookmark enumeration API to construct navigation mneu
sorbits,2016-09-11 06:29:09,https://api.github.com/repos/textmate/textmate/git/commits/d252e262bee6a2c465cd8a52a42f5ffa3f4e35f5,d252e262bee6a2c465cd8a52a42f5ffa3f4e35f5,Add API to enumerate all bookmarks
sorbits,2016-09-11 06:28:49,https://api.github.com/repos/textmate/textmate/git/commits/654a3f848392171eed326de6c9d07184ddb08803,654a3f848392171eed326de6c9d07184ddb08803,"Let OakTextView be responsible for most bookmark actions

Actions such as next/previous bookmark and toggle current, rely on the caret/selection, so these should be handled by the text view."
sorbits,2016-09-11 06:26:58,https://api.github.com/repos/textmate/textmate/git/commits/067f8014fff2af46420cd9df57200da42ae86223,067f8014fff2af46420cd9df57200da42ae86223,"Let OakTextView be responsible for “current symbol”

Since this depends on the caret position/selection, it makes sense to place this with the text view."
jtbandes,2016-09-11 05:35:40,https://api.github.com/repos/textmate/textmate/git/commits/f7c11c24360d5468c9474b32a58e1654b4d46755,f7c11c24360d5468c9474b32a58e1654b4d46755,Update visual style of OakChooser matches
jtbandes,2016-09-10 17:49:37,https://api.github.com/repos/textmate/textmate/git/commits/b3e1e3bf0f94bbf93e5ea5da12a4fe64c536606f,b3e1e3bf0f94bbf93e5ea5da12a4fe64c536606f,Fix the Find window status bar font
sorbits,2016-09-10 10:57:31,https://api.github.com/repos/textmate/textmate/git/commits/7e01d3d153231e58020dad82ccdb52e23a081c83,7e01d3d153231e58020dad82ccdb52e23a081c83,"Exit with EX_NOPERM instead of calling abort()

The latter will create a crash report so we should not use it for something that might happen due to incorrect usage."
sorbits,2016-09-10 10:56:03,https://api.github.com/repos/textmate/textmate/git/commits/468f95cb4512aaf89733aec2a23674195bf36d02,468f95cb4512aaf89733aec2a23674195bf36d02,Use OakDocument API for symbols menu
sorbits,2016-09-10 10:55:57,https://api.github.com/repos/textmate/textmate/git/commits/2c925dd9bed9dded1e33827acab1b1fc05480715,2c925dd9bed9dded1e33827acab1b1fc05480715,Let OakDocumentView go via OakDocument for a few properties
sorbits,2016-09-10 10:54:47,https://api.github.com/repos/textmate/textmate/git/commits/63fd2e4f769b151b3672f9a36eb585c5359837bd,63fd2e4f769b151b3672f9a36eb585c5359837bd,"Rename instance variable document → cppDocument

This is just an intermediate step (until we get rid of document_t)."
jtbandes,2016-09-10 09:07:20,https://api.github.com/repos/textmate/textmate/git/commits/73330e29db70153dc09a1aa0fffb72b01d24be8f,73330e29db70153dc09a1aa0fffb72b01d24be8f,"Highlight the selection again when it’s the only find result

This more closely matches the behavior of NSTextView."
jtbandes,2016-09-10 09:11:35,https://api.github.com/repos/textmate/textmate/git/commits/7c325ff90b6e52df78f50aa28c2d3ff1064efafe,7c325ff90b6e52df78f50aa28c2d3ff1064efafe,"Add “Check for Updates” to the app menu

Another common practice among Mac apps."
jtbandes,2016-09-10 07:44:34,https://api.github.com/repos/textmate/textmate/git/commits/e0a49637f98df8b5b272037441ad4cc4d2d5b3b0,e0a49637f98df8b5b272037441ad4cc4d2d5b3b0,"Use yellow background and underline for project find results

This style is a de facto standard across a handful of popular Mac apps."
jtbandes,2016-09-10 03:01:17,https://api.github.com/repos/textmate/textmate/git/commits/7ec00a5bea31466de7494a21dcd00b829c15b61d,7ec00a5bea31466de7494a21dcd00b829c15b61d,"Add “git config commit.gpgsign false” to SCM tests

This allows tests to pass even when a global .gitconfig has gpgsign=true."
sorbits,2016-09-09 13:12:00,https://api.github.com/repos/textmate/textmate/git/commits/2bccfb9b5858a7a26e5ff86ff72ac31c587d2ff4,2bccfb9b5858a7a26e5ff86ff72ac31c587d2ff4,Remove check to see if we have the NSUserNotification class (10.8)
sorbits,2016-09-09 09:53:10,https://api.github.com/repos/textmate/textmate/git/commits/9c8cd27d49aab1521945e679f86af0ec45636f60,9c8cd27d49aab1521945e679f86af0ec45636f60,Checkin release notes for 2.0-beta.12.11
sorbits,2016-09-09 09:38:09,https://api.github.com/repos/textmate/textmate/git/commits/24f98894e70d8e745ab1dfc43b17e73c1918eddd,24f98894e70d8e745ab1dfc43b17e73c1918eddd,"Ignore folders when opening multiple items from file browser

Previously we would descend into the first selected folder, ignoring all other items selected. Now we ignore the folders, unless all items selected are folders, in that case, we descend into the first one."
sorbits,2016-09-09 09:12:06,https://api.github.com/repos/textmate/textmate/git/commits/3e2fa799456df7bec7ff1db7abb2a7014f06c5c2,3e2fa799456df7bec7ff1db7abb2a7014f06c5c2,"Use normal (small) buttons in bundle item chooser

This is so that we can see which one is actually the default one, as the textured button style does not have a special style for the default button."
sorbits,2016-09-09 09:08:43,https://api.github.com/repos/textmate/textmate/git/commits/4c5d02a441b10616965ab73311cad5196e26c576,4c5d02a441b10616965ab73311cad5196e26c576,Holding option will now change the bundle item chooser’s default button
sorbits,2016-09-08 21:33:07,https://api.github.com/repos/textmate/textmate/git/commits/01ced8ecf530cf00b1d4d530a6aec8033c235292,01ced8ecf530cf00b1d4d530a6aec8033c235292,"Order out last tool tip immediately when showing a new one

When holding e.g. ⌘G with no matches, we repeatedly create new tool tips and the queue with the “orderOut:” messages appear to not be handled until ⌘G is released, resulting in a lot of tool tips being created."
sorbits,2016-09-08 20:47:30,https://api.github.com/repos/textmate/textmate/git/commits/eba19a8fe2956e78cf1122fbb537a9df3197c7c8,eba19a8fe2956e78cf1122fbb537a9df3197c7c8,"Let the bundle item chooser handle “option return to edit”

Previously using option return would only work for editing bundle items, not key binding files."
rdwampler,2016-09-09 02:59:30,https://api.github.com/repos/textmate/textmate/git/commits/0c71b54a9ea33827485dc96fd9811d76b1c42839,0c71b54a9ea33827485dc96fd9811d76b1c42839,"Don't set our document with a default constructed document_ptr

This was never necessary since our documentView will set this to
document_ptr() when it's released, though it was harmless. But now,
document_ptr is just a thin wrapper around OakDocument and the default
constructor does nothing. As a result we were basically setting the
text view OakDocument instance to nil.

After commit f9e02d9, when the commit window closes, this would
noticeably cause the text view to turn ""white"" when using a dark theme."
sorbits,2016-09-08 18:03:57,https://api.github.com/repos/textmate/textmate/git/commits/b4b7994d0a5f423fdb13f470d7f2380305389f51,b4b7994d0a5f423fdb13f470d7f2380305389f51,"Use the table view as Open Recent Project’s initial first responder

If the user starts typing the focus is moved to the search field, so the only potential disadvantage is the discoverability.

The advantage is that with the table view as initial first responder we can support forward and backward delete to remove items, where previously we required ⌘⌫, which would work when editing text, and thus could cause data loss for a user expecting this key to instead delete to the beginning of the line (text field)."
sorbits,2016-09-08 17:58:14,https://api.github.com/repos/textmate/textmate/git/commits/7a89742f6d6f0ab30661862fc3af441f2a9826de,7a89742f6d6f0ab30661862fc3af441f2a9826de,Handle most/all movement keys for snippet pop-up menu
sorbits,2016-09-08 17:32:44,https://api.github.com/repos/textmate/textmate/git/commits/db99892a9692a8e4786f337e55b3b18c1060480e,db99892a9692a8e4786f337e55b3b18c1060480e,Use our OakAppKit support for translating actions to table view movement
sorbits,2016-09-08 17:26:31,https://api.github.com/repos/textmate/textmate/git/commits/ed3c8b7ab0469ad186cf361b03ade40fe550d3e9,ed3c8b7ab0469ad186cf361b03ade40fe550d3e9,Use our OakAppKit support for translating actions to table view movement
sorbits,2016-09-08 17:05:13,https://api.github.com/repos/textmate/textmate/git/commits/b38cbafe1927c8bda476054b9b3ad07d2b4b43ba,b38cbafe1927c8bda476054b9b3ad07d2b4b43ba,"Implement only NSResponder’s page up/down methods

There is no movePageUp/Down: though there is a pageUp/DownAndModifySelection:."
sorbits,2016-09-08 17:00:17,https://api.github.com/repos/textmate/textmate/git/commits/af67736108afef906b26def99e5271893b61d004,af67736108afef906b26def99e5271893b61d004,Remove unused argument from OakPerformTableViewActionFromSelector
sorbits,2016-09-08 16:21:40,https://api.github.com/repos/textmate/textmate/git/commits/e1cc2ef6f693ff7451544c33233b2eae78704e5a,e1cc2ef6f693ff7451544c33233b2eae78704e5a,"Don’t allow first responder for remove button in table view

The table view (currently) refuse first responder, but this will change, hence why it is important that our remove button refuses (for proper key view loop)."
sorbits,2016-09-08 16:20:28,https://api.github.com/repos/textmate/textmate/git/commits/cf76d2269ef615a83f35ac31505d90b5516b4961,cf76d2269ef615a83f35ac31505d90b5516b4961,Let removeItemsAtIndexes: return count of items removed
sorbits,2016-09-08 13:09:55,https://api.github.com/repos/textmate/textmate/git/commits/05977ece99c2bd2571ad1b510f86769b2c36f20e,05977ece99c2bd2571ad1b510f86769b2c36f20e,"Refuse first responder for close buttons in the file browser

This seems to make the key view loop behave as expected."
sorbits,2016-09-08 12:00:04,https://api.github.com/repos/textmate/textmate/git/commits/3ee979c5e5937bea25209f9c8bdc863e79da78d5,3ee979c5e5937bea25209f9c8bdc863e79da78d5,Render inactive table view as active only when refusing first responder
sorbits,2016-09-08 09:39:15,https://api.github.com/repos/textmate/textmate/git/commits/bd54418a4bc5846e79f4670ba0d67b77e5ec7988,bd54418a4bc5846e79f4670ba0d67b77e5ec7988,Use zeroing weak reference to NSWindowController instance (10.8)
sorbits,2016-09-08 09:28:29,https://api.github.com/repos/textmate/textmate/git/commits/5276f0872b3a85a45c4693b356f033d68e1db236,5276f0872b3a85a45c4693b356f033d68e1db236,Rely on isReleasedWhenClosed instead of having our view retain its window
sorbits,2016-09-08 09:26:04,https://api.github.com/repos/textmate/textmate/git/commits/5f602844fb0b951c49bedd87851683f4cb07a527,5f602844fb0b951c49bedd87851683f4cb07a527,"Remove retain cycle

The animation group’s delegate property is retained so our view was never released, as it is the animation group’s delegate."
sorbits,2016-09-08 08:59:14,https://api.github.com/repos/textmate/textmate/git/commits/010a8650267227975575c7453e76d98fc900eee5,010a8650267227975575c7453e76d98fc900eee5,"Remove obsolete code from the tool tip window

This code is from before we used a local event monitor."
sorbits,2016-09-08 08:50:23,https://api.github.com/repos/textmate/textmate/git/commits/6f4510a97b98c5e5738f60d3a0fda39ad36701a3,6f4510a97b98c5e5738f60d3a0fda39ad36701a3,"Make the tool tip window an NSPanel subclass

This seems more appropriate for this type of window."
sorbits,2016-09-08 08:31:52,https://api.github.com/repos/textmate/textmate/git/commits/1539468399a4913fa76b634af7d98f54ae98adf0,1539468399a4913fa76b634af7d98f54ae98adf0,NSPanel will set isReleasedWhenClosed to NO
sorbits,2016-09-08 08:30:04,https://api.github.com/repos/textmate/textmate/git/commits/3e2ed6ca4041006f756a537f8ac9176c45991370,3e2ed6ca4041006f756a537f8ac9176c45991370,NSWindowController will set isReleasedWhenClosed to NO
sorbits,2016-09-08 07:20:01,https://api.github.com/repos/textmate/textmate/git/commits/bb7cdc1b5b53457c9f0f3c8bc7bec5f616daf42d,bb7cdc1b5b53457c9f0f3c8bc7bec5f616daf42d,Minor code simplification
jtbandes,2016-09-08 06:58:11,https://api.github.com/repos/textmate/textmate/git/commits/b4736005f4cedda1219bd14bac8658b4b3688ad6,b4736005f4cedda1219bd14bac8658b4b3688ad6,Fix clipping during pop-out animation
sorbits,2016-09-07 21:30:54,https://api.github.com/repos/textmate/textmate/git/commits/22f3a4badf32cbb7a4ec6ac217dac96b2dd723ab,22f3a4badf32cbb7a4ec6ac217dac96b2dd723ab,"Remove code required for building with the 10.8 SDK

We reference several 10.9 symbols so while TextMate still runs on 10.8, it does not build without a more recent SDK."
sorbits,2016-09-07 21:17:49,https://api.github.com/repos/textmate/textmate/git/commits/b2544a9c2884b4e9394233eea7405cb0056bd38b,b2544a9c2884b4e9394233eea7405cb0056bd38b,Only use CGPathCreateWithRoundedRect on 10.9 and when rect is big enough
sorbits,2016-09-07 20:13:10,https://api.github.com/repos/textmate/textmate/git/commits/e9cf7df4a68a37aed3526bbfa0c5fe1f12c0a0a7,e9cf7df4a68a37aed3526bbfa0c5fe1f12c0a0a7,Do not close file handle potentially used by another thread
sorbits,2016-09-06 16:12:16,https://api.github.com/repos/textmate/textmate/git/commits/40e7b48220cf876d49b01c2d2fc08edb92a4bbe9,40e7b48220cf876d49b01c2d2fc08edb92a4bbe9,Avoid using API available from 10.9
sorbits,2016-09-05 18:35:20,https://api.github.com/repos/textmate/textmate/git/commits/a0ba8cc1e47ce6ed037bc36b7fd5516a3b843b1f,a0ba8cc1e47ce6ed037bc36b7fd5516a3b843b1f,Update MASPreferences submodule
sorbits,2016-09-05 07:31:33,https://api.github.com/repos/textmate/textmate/git/commits/b99fd4891fc54ab6c47e1f1925b8555cc36a7cb6,b99fd4891fc54ab6c47e1f1925b8555cc36a7cb6,"Make TextMate smarter when learning file type associations from path

We now check if an installed bundle has an extension that match the path, and if it is longer than the simple extension, we use the one from the bundle.

This would be relevant for file paths like ‘.git/config’, ‘CMakeLists.txt’, and ‘foo_spec.rb’."
sorbits,2016-09-05 06:56:23,https://api.github.com/repos/textmate/textmate/git/commits/800f47e85de823644c9c3251190227154d71c955,800f47e85de823644c9c3251190227154d71c955,"Deliver all data from custom URL protocol on main thread

This closes textmate/bundle-support.tmbundle#26."
sorbits,2016-09-04 20:56:38,https://api.github.com/repos/textmate/textmate/git/commits/99b51c7f923dc37946f49fbb4555d11b6510a067,99b51c7f923dc37946f49fbb4555d11b6510a067,Use OakDocument as type for OakTextView’s document property
jtbandes,2016-09-04 18:09:31,https://api.github.com/repos/textmate/textmate/git/commits/52b43f17eda733325815674112b8167b521acfed,52b43f17eda733325815674112b8167b521acfed,Add bundle editor menu item to copy item UUID
mortonfox,2016-09-01 04:41:57,https://api.github.com/repos/textmate/textmate/git/commits/b496ffc787f50a35b187c4a8e04b5ccfd2147487,b496ffc787f50a35b187c4a8e04b5ccfd2147487,Update link to Ninja
sorbits,2016-08-31 19:41:55,https://api.github.com/repos/textmate/textmate/git/commits/d11874b4c3554d6a17ae69711dcc9eca7ec4ce41,d11874b4c3554d6a17ae69711dcc9eca7ec4ce41,"Order sections in Global.tmProperties

We can have multiple file patterns match the path for which we ask for settings, so the order of sections does matter, as we’ll use the setting from the last section with a match.

The order enforced is based on length though with a leading asterisk subtracted from the length, that way ‘*.txt’ will be placed before ‘CMakeLists.txt’ and ‘*.rb’ will go before ‘*_spec.rb’.

Incase of same length, we use regular string compare which would normally put the wildcard match first, e.g. ‘*.config’ goes before ‘.config’."
sorbits,2016-08-31 15:13:02,https://api.github.com/repos/textmate/textmate/git/commits/c5abbb755b246179faf8ec285ce2688c0ca816f2,c5abbb755b246179faf8ec285ce2688c0ca816f2,Higher value from path::rank now means better match
sorbits,2016-08-31 14:18:10,https://api.github.com/repos/textmate/textmate/git/commits/24ae5b0d21e3524b803f82c6660eccb862b84491,24ae5b0d21e3524b803f82c6660eccb862b84491,Move grammars_for_path to the file framework
sorbits,2016-08-31 10:53:23,https://api.github.com/repos/textmate/textmate/git/commits/49da7a71b1bada8f0ff1ad4ba4c256197f3629e0,49da7a71b1bada8f0ff1ad4ba4c256197f3629e0,"Remove code that was never executed

Since we were testing for a class rather than instance method, this check would never be true.

Since I am not aware of any problems with the current code where we do not call super, I decided to remove rather than change the code (to call super when it responds to the selector)."
jtbandes,2016-09-01 06:04:01,https://api.github.com/repos/textmate/textmate/git/commits/1e440b3f99f3abce25ddd50ff16fed049441ff69,1e440b3f99f3abce25ddd50ff16fed049441ff69,Enable bundle editor window’s document icon
rdwampler,2016-08-31 14:48:40,https://api.github.com/repos/textmate/textmate/git/commits/06ba9b6dab0b98f5ab029b963c19de4ba05bdb69,06ba9b6dab0b98f5ab029b963c19de4ba05bdb69,"Don't store our font scale factor as a percentage

While we want to show the font scale factor as a percentage in the UI, internally, we should represent it as a CGFloat, which is more consistent with the NSFont APIs and makes interacting with them easier."
jtbandes,2016-08-28 21:12:40,https://api.github.com/repos/textmate/textmate/git/commits/dd3ebefe3f60b323af5a6b1e104c04b43da78eeb,dd3ebefe3f60b323af5a6b1e104c04b43da78eeb,Use Core Animation for find indicator
sorbits,2016-08-31 07:18:55,https://api.github.com/repos/textmate/textmate/git/commits/ba8b6d52f4bdc40651bea971eca6cb18a3d2d2c6,ba8b6d52f4bdc40651bea971eca6cb18a3d2d2c6,"Update README file

Removed some old information and made the “how to build” instructions simpler (especially for Homebrew users).

This is based on changes from Mike McQuaid and closes #1338."
sorbits,2016-08-31 06:47:21,https://api.github.com/repos/textmate/textmate/git/commits/79302ba49ca0a0cfb784486b4754031d8b3300a5,79302ba49ca0a0cfb784486b4754031d8b3300a5,"The TM_DROPPED_FILE variable is again a relative path

This broke when we switched to OakCommand"
rdwampler,2016-08-31 02:48:27,https://api.github.com/repos/textmate/textmate/git/commits/f59c445bc8da6ccfa0bb914709bd691bc85101ab,f59c445bc8da6ccfa0bb914709bd691bc85101ab,"Tail truncate strings in OakChoiceMenu

This allows strings longer than our max width to still align up properly with the corresponding insertion text."
rdwampler,2016-08-31 02:37:59,https://api.github.com/repos/textmate/textmate/git/commits/c270b0c5afd3378b1c30cbc4cbab0b3ef57563b7,c270b0c5afd3378b1c30cbc4cbab0b3ef57563b7,Allow setting font for OakChoiceMenu to match our text view
sorbits,2016-08-30 16:45:21,https://api.github.com/repos/textmate/textmate/git/commits/89d45f73e55ad8f8d0d1ce2b04f0fe7a15e90aa6,89d45f73e55ad8f8d0d1ce2b04f0fe7a15e90aa6,Checkin release notes for 2.0-beta.12.8
sorbits,2016-08-30 16:43:02,https://api.github.com/repos/textmate/textmate/git/commits/097bb6fd372c2eaa8112ae82f7409447c5e2a999,097bb6fd372c2eaa8112ae82f7409447c5e2a999,"Change callback.mouse-click to callback.{single,double,triple}-click"
sorbits,2016-08-30 15:25:24,https://api.github.com/repos/textmate/textmate/git/commits/95580d5ec7e8431aa021f00f8dc34635743a33f9,95580d5ec7e8431aa021f00f8dc34635743a33f9,"Do not assume NSApp.keyWindow nor NSApp.mainWindow are valid

These are both set to nil when the app loses focus, and even in an NSApplicationDidBecomeActiveNotification these are still nil.

This means any command running while the app was inactive or as part of a “did become active” notification, would not find the proper objects to setup environment etc."
sorbits,2016-08-30 12:59:12,https://api.github.com/repos/textmate/textmate/git/commits/d13fcb826ca719ce34b76b8568cdd2439d2dc306,d13fcb826ca719ce34b76b8568cdd2439d2dc306,"Re-introduce the use of bindings for file browser’s text field

The display name of an item may change, e.g. when user toggles “hidden extension” in Finder. The data source for the FSItem will catch this and update the displayName property, but since we did not observe it, the file browser would not update with the new name.

The reason we disabled use of bindings was because the binding is bidirectional and we had no setter for the new object value.

We solve this by adding a new property to FSItem that is for use with bindings and data formatters."
sorbits,2016-08-30 12:33:28,https://api.github.com/repos/textmate/textmate/git/commits/2aaaff487cc1a6c45eec0b72af6331f326e263f9,2aaaff487cc1a6c45eec0b72af6331f326e263f9,Workaround for NSTableView set to render as source list
sorbits,2016-08-30 09:56:47,https://api.github.com/repos/textmate/textmate/git/commits/565c5c242bcebd1e33a9eac3ec38c20d50b13f61,565c5c242bcebd1e33a9eac3ec38c20d50b13f61,"Let file name formatter return error string for unexpected value type

One spin report shows that an attributed string is being used with the text field. Calling ‘description’ on an attributed string can produce a lot of output (dumping all the attributes) and the spin report in question shows a lot of symbols related to auto-layout and text sizing, so perhaps this is related.

http://lists.macromates.com/textmate/2016-August/039891.html"
sorbits,2016-08-30 07:37:16,https://api.github.com/repos/textmate/textmate/git/commits/b84ebc197adffe4dfe0b4efa970f0dc81deb44a9,b84ebc197adffe4dfe0b4efa970f0dc81deb44a9,Checkin release notes for 2.0-beta.12.6
sorbits,2016-08-30 07:15:17,https://api.github.com/repos/textmate/textmate/git/commits/6bc27b8511bb9416be374ed115b44c96ecea598f,6bc27b8511bb9416be374ed115b44c96ecea598f,"Handle begin/end undo grouping for document w/o document editor

Previously this would be a no-op basically bringing the undo stack out of sync and making TextMate prone to crashing.

We create an undo group when reloading document changes and here we do not create a document editor, hence when this happened for unselected tabs (which currently have no document editor), the undo stack was brought out of sync."
sorbits,2016-08-29 19:41:34,https://api.github.com/repos/textmate/textmate/git/commits/0e70b95dbbb5416f2c929c5777448a28321697b0,0e70b95dbbb5416f2c929c5777448a28321697b0,Commands run from bundle editor lacked variables from the OakTextView
sorbits,2016-08-29 19:24:34,https://api.github.com/repos/textmate/textmate/git/commits/386979ed2d7da484bc3f219a7c549cfefe8ee6a8,386979ed2d7da484bc3f219a7c549cfefe8ee6a8,"Enable “backup on change” for documents

This was disabled (by accident) during the migration to OakDocument, although we would still backup document content when project properties were changed (like active tab or window size).

The reason we require DocumentController to explicitly enable backups is that we do not want backups for bundle editor and commit window, since these (currently) are unable to restore documents, and the former is never really closed, so the backups would live forever."
sorbits,2016-08-29 10:41:50,https://api.github.com/repos/textmate/textmate/git/commits/b0c77ff65638e586c51260565a08485151096b25,b0c77ff65638e586c51260565a08485151096b25,Fix minor whitespace issues
sorbits,2016-08-29 10:34:26,https://api.github.com/repos/textmate/textmate/git/commits/caa72fca85f2178512f092836cbf47458b4876a5,caa72fca85f2178512f092836cbf47458b4876a5,Remove FSItem’s setNewDisplayName:
sorbits,2016-08-29 10:31:38,https://api.github.com/repos/textmate/textmate/git/commits/cb6a5a911f21052ccd01d81b6356249bdfa34d90,cb6a5a911f21052ccd01d81b6356249bdfa34d90,"Edit last path component instead of display name in file browser

This commit turned out rather complex because the only proper way to do this seems to do with a data formatter, but the data formatting protocol assumes that we can construct an object from the editing string, which is not possible when the string only represents a subset of the object being edited."
sorbits,2016-08-29 09:16:06,https://api.github.com/repos/textmate/textmate/git/commits/50d2815645c22a71e6809ecb5921eee63deed1f3,50d2815645c22a71e6809ecb5921eee63deed1f3,"Add renameToName: to FSItem

Unlike the existing setNewDisplayName: this function does not try to figure out if the argument was the file’s display name (with potentially hidden extension)."
sorbits,2016-08-29 09:12:00,https://api.github.com/repos/textmate/textmate/git/commits/0c4642302af9d3efa03018b040b589f2bff5e01f,0c4642302af9d3efa03018b040b589f2bff5e01f,Remove reference to textmate-dev mailing list
sorbits,2016-08-29 05:51:45,https://api.github.com/repos/textmate/textmate/git/commits/fe991f7b4b0aff3f5c5d69b2f27060901c96798c,fe991f7b4b0aff3f5c5d69b2f27060901c96798c,Improve error message for failure during save
sorbits,2016-08-29 05:50:43,https://api.github.com/repos/textmate/textmate/git/commits/ce21cb8ea4078f5952bd3bdbf7af07060f5f797c,ce21cb8ea4078f5952bd3bdbf7af07060f5f797c,Make swap_and_unlink a private function
sorbits,2016-08-29 05:50:43,https://api.github.com/repos/textmate/textmate/git/commits/f76e6072e3035939f3d1583de2e40815ebd91742,f76e6072e3035939f3d1583de2e40815ebd91742,Use path::rename_or_copy for saving property lists
sorbits,2016-08-29 05:50:19,https://api.github.com/repos/textmate/textmate/git/commits/2b3f0734d589649d75260f725ac45070a35bc336,2b3f0734d589649d75260f725ac45070a35bc336,Use path::rename_or_copy for backups
sorbits,2016-08-29 05:48:37,https://api.github.com/repos/textmate/textmate/git/commits/0d7390cdc3b0ee146b7a0603011c326aecf8c868,0d7390cdc3b0ee146b7a0603011c326aecf8c868,Use path::rename_or_copy for TextMate’s own data files
sorbits,2016-08-29 05:48:37,https://api.github.com/repos/textmate/textmate/git/commits/f92a783a9661cf2cf2fd810225cbd42d5faefd97,f92a783a9661cf2cf2fd810225cbd42d5faefd97,"Introduce path::rename_or_copy

Unlike path::swap_and_unlink we do not try to use exchangedata() since support for this is missing from the upcoming AppleFileSystem, so it would seem to be somewhat deprecated."
sorbits,2016-08-28 15:28:31,https://api.github.com/repos/textmate/textmate/git/commits/4ab38d3cfd39ad3aad95c475013143ce5ea0bbd7,4ab38d3cfd39ad3aad95c475013143ce5ea0bbd7,Use the S_IRWX[UGO] constants to set file mode
sorbits,2016-08-28 15:25:26,https://api.github.com/repos/textmate/textmate/git/commits/46fb745bbe664ba0c604f1d42ede7740fed5a02c,46fb745bbe664ba0c604f1d42ede7740fed5a02c,"Use perrorf when printing errors with dynamic strings

Also revise error messages to be more consistent."
sorbits,2016-08-28 15:25:19,https://api.github.com/repos/textmate/textmate/git/commits/fe301508c8d35ec6b292f01cf1abc83f9471182a,fe301508c8d35ec6b292f01cf1abc83f9471182a,Introduce perrorf as shorthand for fprintf with strerror
sorbits,2016-08-28 15:24:14,https://api.github.com/repos/textmate/textmate/git/commits/4c8308b5201777a47cb7f5a52b8ad0a886f9d96f,4c8308b5201777a47cb7f5a52b8ad0a886f9d96f,Use perror instead of fprintf + strerror
sorbits,2016-08-28 15:23:05,https://api.github.com/repos/textmate/textmate/git/commits/c0d696748037f40ec847f591fc783ea949fe6841,c0d696748037f40ec847f591fc783ea949fe6841,Let OakTextView store an OakDocument instance instead of document_t
sorbits,2016-08-28 15:22:06,https://api.github.com/repos/textmate/textmate/git/commits/9d48b5683b5bef9dbdaa7f015f7e4c10b6642ed8,9d48b5683b5bef9dbdaa7f015f7e4c10b6642ed8,Don’t let OakTextView use any of the document_t wrapper methods
sorbits,2016-08-28 15:21:35,https://api.github.com/repos/textmate/textmate/git/commits/c78473dc6c2ca67dc6a131b82f36e0284a89625f,c78473dc6c2ca67dc6a131b82f36e0284a89625f,Make OakDocument’s visibleIndex and selection properties public
sorbits,2016-08-28 15:20:08,https://api.github.com/repos/textmate/textmate/git/commits/c942dde9201235698ec376a659ff00a59a1829e9,c942dde9201235698ec376a659ff00a59a1829e9,"Only use OakDocument in document_view_t

Also change indent property to tab_size and soft_tabs."
sorbits,2016-08-28 15:03:26,https://api.github.com/repos/textmate/textmate/git/commits/9c4589d5411747bdc9730d28664488ecb04eeba9,9c4589d5411747bdc9730d28664488ecb04eeba9,"Inform callbacks about updated scopes when interrupting “batch parsing”

We delay updating callbacks until we have parsed 10 lines to avoid line-by-line redraw of the screen, but incase the buffer got mutated during this batch parsing, we would previously restart the parser and forget about the ranges already parsed (that no-one had been told about)."
sorbits,2016-08-28 14:36:50,https://api.github.com/repos/textmate/textmate/git/commits/7029992159fe8fd8e634bf8e9056e5d8447936a2,7029992159fe8fd8e634bf8e9056e5d8447936a2,"Only suppress “did parse” callback when next dirty line is our next line

Incase something earlier in the document became dirty, while in batch update mode, we would keep using the old value of ‘batch_start’ when eventually calling ‘did_update_scopes’.

Under normal circumstances though making the buffer dirty would bump the revision, which drops the batch info, but if e.g. we change grammar, we mark the document dirty without bumping the revision."
sorbits,2016-08-28 14:19:07,https://api.github.com/repos/textmate/textmate/git/commits/8dd33c654c21ed06f2f3d1182b2b89ad4467251f,8dd33c654c21ed06f2f3d1182b2b89ad4467251f,Pass function parameter by value instead of const-reference
sorbits,2016-08-28 14:15:02,https://api.github.com/repos/textmate/textmate/git/commits/5df4da9eb37fae98d643f9d0d330302308870960,5df4da9eb37fae98d643f9d0d330302308870960,Removed unused function parameter
sorbits,2016-08-26 10:00:26,https://api.github.com/repos/textmate/textmate/git/commits/6959ca68f39bb8e738660290bc41e301b39fc3b5,6959ca68f39bb8e738660290bc41e301b39fc3b5,Dismiss “Stop Command?” HTML output dialog if command exits by itself
sorbits,2016-08-25 14:10:40,https://api.github.com/repos/textmate/textmate/git/commits/ba8dfaf9fde479f05727162a1b2ae18e03b78d46,ba8dfaf9fde479f05727162a1b2ae18e03b78d46,Remove some unused document::run delegate methods
sorbits,2016-08-25 14:09:00,https://api.github.com/repos/textmate/textmate/git/commits/c7d3aa3649a66fa4c3630a913bc01713402f67ef,c7d3aa3649a66fa4c3630a913bc01713402f67ef,Move show_command_error to DocumentController
sorbits,2016-08-25 14:08:29,https://api.github.com/repos/textmate/textmate/git/commits/14782c0aea64a2569cc386e4f023fcf68d31f25d,14782c0aea64a2569cc386e4f023fcf68d31f25d,Remove old custom URL protocol
sorbits,2016-08-25 14:07:47,https://api.github.com/repos/textmate/textmate/git/commits/e282dc2fd25b32a6ed5b7908d11f2d365a88c02d,e282dc2fd25b32a6ed5b7908d11f2d365a88c02d,Remove commandRunner from HTMLOutputWindow and DocumentController
sorbits,2016-08-25 14:06:21,https://api.github.com/repos/textmate/textmate/git/commits/0153e837a8e766ef086a204535149662525859e4,0153e837a8e766ef086a204535149662525859e4,Remove document::run API
sorbits,2016-08-25 14:05:53,https://api.github.com/repos/textmate/textmate/git/commits/15d4f6c1221ae58b625ad84748552249974528c9,15d4f6c1221ae58b625ad84748552249974528c9,Use executeBundleCommand:variables: in editor_t’s command runner
sorbits,2016-08-25 14:05:10,https://api.github.com/repos/textmate/textmate/git/commits/350db382d9171c2d1aa1f81ab4973e514c82387a,350db382d9171c2d1aa1f81ab4973e514c82387a,Use executeBundleCommand:variables: in performBundleItem:
sorbits,2016-08-25 14:05:05,https://api.github.com/repos/textmate/textmate/git/commits/5783cceac7a4873952d95fc78a868fdd4d03de49,5783cceac7a4873952d95fc78a868fdd4d03de49,Use executeBundleCommand:variables: in dropFiles:
sorbits,2016-08-25 14:03:24,https://api.github.com/repos/textmate/textmate/git/commits/991822635ff96ec21e5579228c2f6695244cab96,991822635ff96ec21e5579228c2f6695244cab96,Use executeBundleCommand:variables: in filterDocumentThroughCommand:
sorbits,2016-08-25 14:02:07,https://api.github.com/repos/textmate/textmate/git/commits/24a133d5a53421bad529491ca043680b4959e312,24a133d5a53421bad529491ca043680b4959e312,Add executeBundleCommand:variables: to OakTextView (internal API)
sorbits,2016-08-25 14:01:12,https://api.github.com/repos/textmate/textmate/git/commits/f01bf9763007419444d0dbb6037d490275cd2f2a,f01bf9763007419444d0dbb6037d490275cd2f2a,Add OakCommand responder methods to OakTextView and DocumentController
sorbits,2016-08-25 13:59:48,https://api.github.com/repos/textmate/textmate/git/commits/d142f82f9f7ddcd5d789746572216b9a787714e6,d142f82f9f7ddcd5d789746572216b9a787714e6,Check ‘isRunningCommand’ instead of ‘runner->running()’
sorbits,2016-08-25 13:57:58,https://api.github.com/repos/textmate/textmate/git/commits/29033c60d8c78b922fa7ac00695ab0ede090feab,29033c60d8c78b922fa7ac00695ab0ede090feab,Use OakCommand in file browser and application delegate
sorbits,2016-08-25 13:56:57,https://api.github.com/repos/textmate/textmate/git/commits/1da89cc5a030a844fd95c34b7355919a77233c78,1da89cc5a030a844fd95c34b7355919a77233c78,Check for ‘x-txmt’ prefix in URL scheme instead of exact match
sorbits,2016-08-25 12:20:00,https://api.github.com/repos/textmate/textmate/git/commits/f3745fe034bf16b31e8d0342e2df43a6f0046615,f3745fe034bf16b31e8d0342e2df43a6f0046615,"Add new OakCommand framework

A lot of the code is copy/pasted from the document::run implementation, our command::runner and HTMLOutput (custom URL protocol)."
sorbits,2016-08-25 12:11:31,https://api.github.com/repos/textmate/textmate/git/commits/974db67258a4238fd4d40dab8d9188e478525f0f,974db67258a4238fd4d40dab8d9188e478525f0f,Read isRunningCommand property instead of looking at URL scheme
sorbits,2016-08-25 12:10:08,https://api.github.com/repos/textmate/textmate/git/commits/bb038b06708d6fd3e314eada0995135cf2b02789,bb038b06708d6fd3e314eada0995135cf2b02789,Remove unused HTMLOutputWindow properties
sorbits,2016-08-25 12:08:46,https://api.github.com/repos/textmate/textmate/git/commits/bd61830833e6323311df7248a28f6f636d2dd2ec,bd61830833e6323311df7248a28f6f636d2dd2ec,Rework how we find suitable OakHTMLOutputView for command execution
sorbits,2016-08-25 12:08:03,https://api.github.com/repos/textmate/textmate/git/commits/894b33d0bfae6e235d47d8edaae98e4bf8d8b28e,894b33d0bfae6e235d47d8edaae98e4bf8d8b28e,Set frame autosave name of HTML output windows during creation
sorbits,2016-08-25 12:07:27,https://api.github.com/repos/textmate/textmate/git/commits/fce09a3edfe1e9f28aeaa15c606ca51845b9f313,fce09a3edfe1e9f28aeaa15c606ca51845b9f313,Add mainFrameTitle property to OakHTMLOutputView
sorbits,2016-08-25 12:07:00,https://api.github.com/repos/textmate/textmate/git/commits/b598252c5808392885ecbebe723f158fc28019bc,b598252c5808392885ecbebe723f158fc28019bc,Add commandIdentifier property to OakHTMLOutputView
sorbits,2016-08-25 12:06:09,https://api.github.com/repos/textmate/textmate/git/commits/0f90dfd4dd84c4eaea196f7753320e6e8bccf51c,0f90dfd4dd84c4eaea196f7753320e6e8bccf51c,Explicitly set default values for bundle_command_t members
sorbits,2016-08-25 12:05:16,https://api.github.com/repos/textmate/textmate/git/commits/c99e65b17c56c2b56154887bb534be3daa72badc,c99e65b17c56c2b56154887bb534be3daa72badc,"Let OakHTMLOutputView handle the “Stop Task?” warning sheet

This also allows for the sheet to automatically close, should the command exit before the user selects an action."
sorbits,2016-08-25 12:04:27,https://api.github.com/repos/textmate/textmate/git/commits/2c41cf8fa01b67bb578ef708b5cc5c948c199ab1,2c41cf8fa01b67bb578ef708b5cc5c948c199ab1,Remove unnecessary code
sorbits,2016-08-25 12:02:39,https://api.github.com/repos/textmate/textmate/git/commits/926786c36c24da6f084ebe656ade805c6ddff54e,926786c36c24da6f084ebe656ade805c6ddff54e,"Use NSURLProtocol’s setProperty:forKey:inRequest: for associated data

This simplifies our code though it seems like the lifetime of the data is much longer than the request it is associated with."
sorbits,2016-08-25 12:01:21,https://api.github.com/repos/textmate/textmate/git/commits/0319186e89f4f65968447136a0a01d82715d13c7,0319186e89f4f65968447136a0a01d82715d13c7,"Introduce a pipe when writing to the HTML output view

This removes the command::runner_t dependency from our custom URL protocol."
sorbits,2016-08-28 11:28:35,https://api.github.com/repos/textmate/textmate/git/commits/349db77ebadfc9275df35fd07631b58676e05bdc,349db77ebadfc9275df35fd07631b58676e05bdc,"Make matched part of search results have a light grey background

The motivation for this was so that we can see if we match whitespace, e.g. searching for trailing whitespace using ‘[\t ]+$’ would not indicate how much whitespace we actually matched."
sorbits,2016-08-28 11:25:51,https://api.github.com/repos/textmate/textmate/git/commits/a4b8abe73c786ff443a76f2eb1e707d061c467e3,a4b8abe73c786ff443a76f2eb1e707d061c467e3,"Disable “tightening” of truncated match results

When we tighten the text then it doesn’t line up properly (especially line numbers) which looks off."
sorbits,2016-08-28 11:24:53,https://api.github.com/repos/textmate/textmate/git/commits/817b2dc75e6511d73b33765af06e612e1ef0917d,817b2dc75e6511d73b33765af06e612e1ef0917d,Remove attr_string_t class
sorbits,2016-08-28 11:21:47,https://api.github.com/repos/textmate/textmate/git/commits/7844e50f5b5afad0dece28aacc308573042f05fd,7844e50f5b5afad0dece28aacc308573042f05fd,"Use string_builder_t instead of attr_string_t

Two minor changes:

- Matches now (correctly) use a font with monospace digits for all line numbers (not just first).
- Matches with ‘\r’ characters now have the replacement string (‘<CR>’) be bold if it is part of the match."
sorbits,2016-08-28 11:13:00,https://api.github.com/repos/textmate/textmate/git/commits/c83e2e80ba2b236074b7ac8fb0a0b6de0bf7ea5d,c83e2e80ba2b236074b7ac8fb0a0b6de0bf7ea5d,"Add helper class for building NSAttributedString

The existing ‘attr_string_t’ is a little inflexible in that it has to know how to handle each attribute type and also lack a way to push/pop styles, which means that in practice we have to reset styles when leaving a scope."
sorbits,2016-08-28 07:56:56,https://api.github.com/repos/textmate/textmate/git/commits/b0cbae435351d61d21cbd9a4a448e8b33923dfc4,b0cbae435351d61d21cbd9a4a448e8b33923dfc4,"Update dialog plug-in (HTML tooltip dimension rounding error)

Being off-by-one for the width could cause wrapping adding an entire extra line placed outside the viewport."
sorbits,2016-08-28 07:17:59,https://api.github.com/repos/textmate/textmate/git/commits/5ff520a403246001d033e27093701ad3463182df,5ff520a403246001d033e27093701ad3463182df,Add move semantics to storage_t
sorbits,2016-08-28 07:16:10,https://api.github.com/repos/textmate/textmate/git/commits/96d322c29835082182b0a09d88e86f5fd580bca5,96d322c29835082182b0a09d88e86f5fd580bca5,"Use close(open(path, O_CREAT)) to “touch” path"
sorbits,2016-08-28 07:14:43,https://api.github.com/repos/textmate/textmate/git/commits/b0ba62451d2a53e6350687106f9d594008bd7ac8,b0ba62451d2a53e6350687106f9d594008bd7ac8,"Remove path::touch_tree

This was previously used by the software updater to prevent the “temp cleaner” from removing a downloaded update, incase the user took their time to click the “Install & Relaunch” button."
sorbits,2016-08-28 07:13:41,https://api.github.com/repos/textmate/textmate/git/commits/4294889a79c2c83ef86210b1f610bcb03fa76da4,4294889a79c2c83ef86210b1f610bcb03fa76da4,Add comments about scope attributes
sorbits,2016-08-28 07:13:33,https://api.github.com/repos/textmate/textmate/git/commits/0638874b610018fad4abc3fcd8d8430b5127cfa0,0638874b610018fad4abc3fcd8d8430b5127cfa0,"Tag code that can be retired when updating OS requirement

When bumping the minimum requirement we can do a search for MAC_OS_X to find all places where we have compatibility code."
sorbits,2016-08-28 07:13:27,https://api.github.com/repos/textmate/textmate/git/commits/8709ee8f0168bc544bdd676eb57efb721abc795e,8709ee8f0168bc544bdd676eb57efb721abc795e,Make it obvious that our code is workaround for 10.8
sorbits,2016-08-28 07:11:34,https://api.github.com/repos/textmate/textmate/git/commits/60ba4c9930cfc2864c33b09c48455794ab86affe,60ba4c9930cfc2864c33b09c48455794ab86affe,Introduce callback.document.will/did-reload
sorbits,2016-08-28 07:10:28,https://api.github.com/repos/textmate/textmate/git/commits/0e963bafc1967a7bb56f4c9acae3a3a51aa301b6,0e963bafc1967a7bb56f4c9acae3a3a51aa301b6,Post will/did reload document notifications
sorbits,2016-08-28 07:10:08,https://api.github.com/repos/textmate/textmate/git/commits/04c507a1f3bbc0b1d26f0fa9cfa16c08a495e53f,04c507a1f3bbc0b1d26f0fa9cfa16c08a495e53f,Expose all semantic classes for items in the bundle item chooser
sorbits,2016-08-28 07:08:17,https://api.github.com/repos/textmate/textmate/git/commits/22c11627073aac0d229779a0240d91eb813ff313,22c11627073aac0d229779a0240d91eb813ff313,"Add “Copy Replacements” to the Find dialog’s action menu

This will expand the replace (format) string using the captures of each match and copy each expansion to the pasteboard.

For example searching for `object->(\w+)\()` with replace set to `$1` will copy only the function name from each invocation."
sorbits,2016-08-25 08:41:50,https://api.github.com/repos/textmate/textmate/git/commits/b4db4fc5d6a45ab7f35249c7ebb87413dc5408e5,b4db4fc5d6a45ab7f35249c7ebb87413dc5408e5,Checkin release notes for 2.0-beta.12.5
sorbits,2016-08-25 08:05:33,https://api.github.com/repos/textmate/textmate/git/commits/0dbd7ff9034044fbfe6e44068ff3f19b248f9f39,0dbd7ff9034044fbfe6e44068ff3f19b248f9f39,"Introduce exit_insert_snippet_no_indent

By default a command with snippet output will have the snippet indented to the current indent level.

This can be disabled in the bundle item’s property list but there might be situations where we want to disable it dynamically.

For an example see http://lists.macromates.com/textmate/2016-August/039845.html"
sorbits,2016-08-25 08:08:11,https://api.github.com/repos/textmate/textmate/git/commits/29279118c3a3f0ca5e20604f7ed4fc0c651f5c30,29279118c3a3f0ca5e20604f7ed4fc0c651f5c30,Introduce symbolic name for last defined exit code
sorbits,2016-08-25 07:40:07,https://api.github.com/repos/textmate/textmate/git/commits/7ae00f9436dd1fdaf43772842bdd28b3af56d3c9,7ae00f9436dd1fdaf43772842bdd28b3af56d3c9,"Ensure we have a selection before local drag’n’drop (move)

Based on crash reports it would appear that users are able to trigger a local drag’n’drop (move) even when there is no selection."
sorbits,2016-08-25 07:34:40,https://api.github.com/repos/textmate/textmate/git/commits/16de4dc07a3e38e4e6324af9cdd6e9269538ffef,16de4dc07a3e38e4e6324af9cdd6e9269538ffef,"Fix reversed logic

If the pruned ranges are empty we should use the original ranges, not the empty ones."
sorbits,2016-08-25 07:19:33,https://api.github.com/repos/textmate/textmate/git/commits/a1c5ff8b1710996be6367aca2857b843af74c494,a1c5ff8b1710996be6367aca2857b843af74c494,"Fix implementation of range_t::empty

A range with an undefined end point would be reported as empty."
sorbits,2016-08-25 06:45:07,https://api.github.com/repos/textmate/textmate/git/commits/b97a3fc3f808a4561f66758aee5e9d19f371e3a3,b97a3fc3f808a4561f66758aee5e9d19f371e3a3,More crash report info related to drag’n’drop issue
sorbits,2016-08-24 22:28:24,https://api.github.com/repos/textmate/textmate/git/commits/b254d9419209d5ca610600c7594b5c2e56ea1c54,b254d9419209d5ca610600c7594b5c2e56ea1c54,"Set a text color for find window status bar

After an OS upgrade (10.11?) clicking the status bar text (making it switch to the alternate text) would make it change color of the text."
sorbits,2016-08-24 21:58:35,https://api.github.com/repos/textmate/textmate/git/commits/0b15e5884446f201b68db258403d34e1b5dc9254,0b15e5884446f201b68db258403d34e1b5dc9254,If duplicating the active tab’s document then we open the duplicate
sorbits,2016-08-24 21:54:57,https://api.github.com/repos/textmate/textmate/git/commits/0c08c608fe74fee1d22c2af55da368236e71fe3b,0c08c608fe74fee1d22c2af55da368236e71fe3b,Let file browser post notification when duplicating URLs
sorbits,2016-08-24 20:16:22,https://api.github.com/repos/textmate/textmate/git/commits/f9e02d9fdca25ab3dbd8da72482b38c038d48aff,f9e02d9fdca25ab3dbd8da72482b38c038d48aff,"Allow setting fontName and fontSize differently for each document

Previously we would read these values when creating the OakTextView so they would be used for all document types. Now they are re-read each time we change document, so it’s possible to have different fonts for different documents based on type or location."
sorbits,2016-08-24 19:21:28,https://api.github.com/repos/textmate/textmate/git/commits/c488d25555f22e943f8a21022065e0bed823edd4,c488d25555f22e943f8a21022065e0bed823edd4,Add support for rendering strikethrough text
sorbits,2016-08-24 18:35:03,https://api.github.com/repos/textmate/textmate/git/commits/2593550f9a736111e399a5cd162261f564f8a554,2593550f9a736111e399a5cd162261f564f8a554,Parse ‘strikethrough’ in fontStyle
sorbits,2016-08-24 18:47:36,https://api.github.com/repos/textmate/textmate/git/commits/0663b21025a1ba7867790a628e0316a4d17ef350,0663b21025a1ba7867790a628e0316a4d17ef350,Use symbolic name for kCTUnderlineStyleSingle
sorbits,2016-08-24 18:09:18,https://api.github.com/repos/textmate/textmate/git/commits/85a82d2bf862c6b810bd39ba7d99c3e29db39a90,85a82d2bf862c6b810bd39ba7d99c3e29db39a90,"Allow theme’s fontStyle to mix plain with bold, italic, and underline

If we set ‘plain bold’ then it means that italic and underline are explicitly disabled (should a more general theme rule enable them), but bold is left enabled."
sorbits,2016-08-24 16:05:12,https://api.github.com/repos/textmate/textmate/git/commits/20f90b507b3277ec9012095bffe64c85e2857def,20f90b507b3277ec9012095bffe64c85e2857def,Add leading/trailing ellipsis for truncated search results
sorbits,2016-08-24 15:36:30,https://api.github.com/repos/textmate/textmate/git/commits/5d4b9e316851a47de7f593cd80605a56c69cbab9,5d4b9e316851a47de7f593cd80605a56c69cbab9,Ensure monospaced digits for search results line number prefix
sorbits,2016-08-24 14:47:21,https://api.github.com/repos/textmate/textmate/git/commits/fce6ad2574c5580f85a11255613fce9de5812c91,fce6ad2574c5580f85a11255613fce9de5812c91,"Make search results font configurable

The defaults keys are searchResultsFontName and searchResultsFontSize."
sorbits,2016-08-22 20:34:08,https://api.github.com/repos/textmate/textmate/git/commits/232461fb47229c3e873146ec91f7cc931a649541,232461fb47229c3e873146ec91f7cc931a649541,"Miniaturized windows would not show when clicking TextMate’s app icon

This was only if the user had disabled creating untitled documents on re-activation in Preferences."
sorbits,2016-08-22 13:16:27,https://api.github.com/repos/textmate/textmate/git/commits/59ac63bd9445db902a9adce3dd0f2c77c109a519,59ac63bd9445db902a9adce3dd0f2c77c109a519,Simplify OakFileBrowser’s selectedPaths implementation
sorbits,2016-08-22 13:11:55,https://api.github.com/repos/textmate/textmate/git/commits/9818980b8c690fc1c5521069f23e2215353a8b37,9818980b8c690fc1c5521069f23e2215353a8b37,Change where we redirect stdin/out in ‘relaunch target’ build script
sorbits,2016-08-22 13:07:36,https://api.github.com/repos/textmate/textmate/git/commits/a8fa7383b5d12e9347cf17bdaa5630248a7d898a,a8fa7383b5d12e9347cf17bdaa5630248a7d898a,Calling revealBundleItem: without an item is now a no-op
sorbits,2016-08-22 07:06:03,https://api.github.com/repos/textmate/textmate/git/commits/fbc7bab291e4762a78a6afa633b27398fe2762ac,fbc7bab291e4762a78a6afa633b27398fe2762ac,With multiple unsaved documents use Save All as button title
sorbits,2016-08-22 06:58:08,https://api.github.com/repos/textmate/textmate/git/commits/7645d1981e14fb50473b4410f655f144c1ba5ae4,7645d1981e14fb50473b4410f655f144c1ba5ae4,"Ensure numbers are monospaced in tool tips

Some commands rely on this, for example the word count command (Statistics for Document)."
sorbits,2016-08-21 10:24:40,https://api.github.com/repos/textmate/textmate/git/commits/3b3d86a320b5bab18a616fa8edbe70afff462014,3b3d86a320b5bab18a616fa8edbe70afff462014,"Use WebView’s stopLoading instead of killing the running task

This is a more appropriate API to use for signalling that we wish to abort the running command."
sorbits,2016-08-21 10:23:40,https://api.github.com/repos/textmate/textmate/git/commits/89c19eff6148767688ebcc0112a60ac77f2c7b9d,89c19eff6148767688ebcc0112a60ac77f2c7b9d,Change ‘runningCommand’ getter to ‘isRunningCommand’
sorbits,2016-08-19 10:41:42,https://api.github.com/repos/textmate/textmate/git/commits/aef22e4669f494f66838bbd196e5f4b84b907efe,aef22e4669f494f66838bbd196e5f4b84b907efe,"Always check for subfolders before creating submenu in folder pop-up

Searching a folder with no subfolders and opening the folder selection pop-up menu in the find dialog would previously show the folder with an arrow, indicating that it had subfolders."
sorbits,2016-08-19 10:28:25,https://api.github.com/repos/textmate/textmate/git/commits/a5746e093cd4d1dbf45585a155d559db6afbcba1,a5746e093cd4d1dbf45585a155d559db6afbcba1,"Increase find dialog’s Recent Places history to 20

It’s actually 20 plus the current item, hence why the source shows 21."
sorbits,2016-08-19 10:09:17,https://api.github.com/repos/textmate/textmate/git/commits/8679b5b869ff4db46a7c77cd1ea9be25cccae6a4,8679b5b869ff4db46a7c77cd1ea9be25cccae6a4,"Redirect protocol-relative URLs in HTML output to https

The problem is that HTML output is loaded from the x-txmt-command protocol, possibly with the “base URL” set to file://$TM_FILEPATH, so protocol-relative URLs like //example.org/main.css would be resolved as file://example.org/main.css.

We now try to detect these URLs (heuristically, since we only see the resolved URL) and (by default) redirect to https.

This commit checks for the presence of NSURLComponents which was introduced in Mac OS X 10.9. On 10.8 this commit has no effect."
sorbits,2016-08-19 09:05:07,https://api.github.com/repos/textmate/textmate/git/commits/e457c8834fbadae9eba2b94370edd2d41ace2012,e457c8834fbadae9eba2b94370edd2d41ace2012,"Only check network reachability when we know there are remote grammars

Previously we would check network reachability for all unknown file types, even if it lead to no grammar suggestion."
sorbits,2016-08-18 19:54:16,https://api.github.com/repos/textmate/textmate/git/commits/196db13f1d5509700970fc5feb6e5166299f3974,196db13f1d5509700970fc5feb6e5166299f3974,"Do not accept dropped text of type public.plain-text

The stringForType: method seems unable to handle this type, as a textClipping file dragged to TextMate (on 10.11) will result in a string with null bytes, presumably because the data was UTF-16 but interpreted as ASCII / MacRoman.

This change mirrors what we did for services in commit 062a939189f4375e8bdbe057778f0d0d3ea83998"
sorbits,2016-08-16 19:18:11,https://api.github.com/repos/textmate/textmate/git/commits/dbdfa3c6af7de6278f22be13b2080c58e2688fef,dbdfa3c6af7de6278f22be13b2080c58e2688fef,Add identifying information to perror output
sorbits,2016-08-18 15:54:27,https://api.github.com/repos/textmate/textmate/git/commits/4ede960bec851d1b980dfc6c19c38e95e76dcedc,4ede960bec851d1b980dfc6c19c38e95e76dcedc,Checkin release notes for 2.0-beta.12.4
sorbits,2016-08-18 15:47:26,https://api.github.com/repos/textmate/textmate/git/commits/ba58c25afc2324a299f796cf40ea5db766c5132c,ba58c25afc2324a299f796cf40ea5db766c5132c,"Replacing in a document with no document editor would be a no-op

Documents loaded in background tabs do not currently have a document editor, so doing Find (in folder) → Replace All would effectively skip all inactive tabs (with loaded content)."
rdwampler,2016-08-17 02:02:49,https://api.github.com/repos/textmate/textmate/git/commits/860da518cb58e61f58e677c84fc4238d401fe8aa,860da518cb58e61f58e677c84fc4238d401fe8aa,"Add attr.project.swift scope

This scope can be used to support the Swift Package Manager tools (e.g., `swift build`)."
sorbits,2016-08-16 19:07:57,https://api.github.com/repos/textmate/textmate/git/commits/17a08d2c54da102fbb20cd791a956c693f7b8f13,17a08d2c54da102fbb20cd791a956c693f7b8f13,"Do not call sync_open on a document which is loading

A document which is loading is likely showing a modal dialog (encoding view) and calling sync_open will run a local event loop which may then lock up the UI."
sorbits,2016-08-15 07:34:18,https://api.github.com/repos/textmate/textmate/git/commits/b4f421119d875078545a06b8b8d5ea94094651fa,b4f421119d875078545a06b8b8d5ea94094651fa,Indented line movement now produce multiple carets for column selections
sorbits,2016-08-15 07:27:43,https://api.github.com/repos/textmate/textmate/git/commits/15e8b841d048061a9b3b7a22df5d6c2078175e9f,15e8b841d048061a9b3b7a22df5d6c2078175e9f,Add search excerpt tests related to LF and CRLF matching
sorbits,2016-08-15 07:25:36,https://api.github.com/repos/textmate/textmate/git/commits/ae11aa75b83d479d6adad4aca81aab022d7c5c85,ae11aa75b83d479d6adad4aca81aab022d7c5c85,"Excerpts for CRLF delimited files were off-by-one when searching for CR

Our excerpt would go to “end of line (with the CR)” rather than “begin of next line”, the latter though would be assumed when showing the match in the search results and cause a std::string exception."
sorbits,2016-08-15 05:50:13,https://api.github.com/repos/textmate/textmate/git/commits/5f7f08b3ab7b330ecdcbfa5a19037e256be3baaa,5f7f08b3ab7b330ecdcbfa5a19037e256be3baaa,"Add assertions

These currently fail if we do folder search for CR when a file (on disk) uses CRLF as delimiters."
sorbits,2016-08-15 06:22:26,https://api.github.com/repos/textmate/textmate/git/commits/d99d919efb274295472cfd7df87126026b895faf,d99d919efb274295472cfd7df87126026b895faf,Improve variable naming
sorbits,2016-08-14 09:40:33,https://api.github.com/repos/textmate/textmate/git/commits/39bea0af08b8062e852df5e180fc4dac0c7a5fcc,39bea0af08b8062e852df5e180fc4dac0c7a5fcc,"Do not try to detect when font creation fails

Some users manually set their font to “Anonymous Pro”, “DejaVu Sans Mono”, or similar, where the created font will use a name without the spaces, so TextMate would consider this a failure and fallback to the system default (monospace) font.

This partially reverts commit 7e6920151324e10b0cfb13789690e4ab9408465d."
sorbits,2016-08-14 09:16:52,https://api.github.com/repos/textmate/textmate/git/commits/c1a8ea734e2704f0abc814f91a7510a7cd3c5d17,c1a8ea734e2704f0abc814f91a7510a7cd3c5d17,"Use event monitor instead of local event loop for tool tip

We no longer monitor if the application becomes inactive or the key window is changed, but I don’t see how this could cause a problem."
sorbits,2016-08-14 09:16:35,https://api.github.com/repos/textmate/textmate/git/commits/8e04e888d1dcbba15566e1def9932d6aa661a135,8e04e888d1dcbba15566e1def9932d6aa661a135,Use zeroing weak reference to NSWindow instance (10.8)
sorbits,2016-08-10 09:31:06,https://api.github.com/repos/textmate/textmate/git/commits/7cff411632e123608b9ed790c2e8b39fc749158c,7cff411632e123608b9ed790c2e8b39fc749158c,"fixup! Simplify code which inserts new documents into the tab bar

The simplified code did not remove duplicates from the documents to be inserted."
sorbits,2016-08-09 10:57:25,https://api.github.com/repos/textmate/textmate/git/commits/6954185e8f4548f6bb19363a7160c1bfd1d6892e,6954185e8f4548f6bb19363a7160c1bfd1d6892e,"fixup! Simplify code to obtain font’s em-space

This was supposed to obtain the font’s en-space, not em-space."
sorbits,2016-08-08 14:34:49,https://api.github.com/repos/textmate/textmate/git/commits/6470bdd241b6bf5fd8b70da5be829a2ee316f979,6470bdd241b6bf5fd8b70da5be829a2ee316f979,Checkin release notes for 2.0-beta.12
sorbits,2016-08-07 18:56:02,https://api.github.com/repos/textmate/textmate/git/commits/3d5aa5078b617f938cba6cef4fa5126343315237,3d5aa5078b617f938cba6cef4fa5126343315237,Checkin release notes
sorbits,2016-08-07 18:45:22,https://api.github.com/repos/textmate/textmate/git/commits/ad34203e89c9173003e522d2981ff7e3f5c7c077,ad34203e89c9173003e522d2981ff7e3f5c7c077,"Ignore /usr/bin/svn if /usr/bin/xcode-select -p fails

On recent OS versions the /usr/bin/svn executable will prompt the user to install svn (if Xcode is not already installed) which can cause some user confusion, so we now avoid using /usr/bin/svn unless Xcode is installed.

This echoes commit 02a5747f8978cf2e124248c9df21a4c384c15c6a."
sorbits,2016-08-07 18:43:11,https://api.github.com/repos/textmate/textmate/git/commits/19028bbd71d4dcd4c64b91f73738f2d4114d184c,19028bbd71d4dcd4c64b91f73738f2d4114d184c,"Using `mate /path/to/folder` would not use file type setting

This was only incase a new untitled document was created (rather than restore open files for the folder)."
sorbits,2016-08-07 15:49:36,https://api.github.com/repos/textmate/textmate/git/commits/e7420edb067338f1076c41668a5a9917003f4e2c,e7420edb067338f1076c41668a5a9917003f4e2c,Update dialog plug-in (completion menu width now includes image width)
sorbits,2016-08-07 15:21:35,https://api.github.com/repos/textmate/textmate/git/commits/6859d70e953ec1f864691d5fb2dec2031022e512,6859d70e953ec1f864691d5fb2dec2031022e512,Read tab item’s min/max width and line break style from user defaults
sorbits,2016-08-07 15:08:06,https://api.github.com/repos/textmate/textmate/git/commits/002b17e4da8b132ad77c429f0becd2506c56560b,002b17e4da8b132ad77c429f0becd2506c56560b,fixup! Ensure we have a CTLineRef before asking for line metrics
sorbits,2016-08-06 09:51:38,https://api.github.com/repos/textmate/textmate/git/commits/e60eba2a24bb37c65796c95c98c45e346adc696f,e60eba2a24bb37c65796c95c98c45e346adc696f,"Update item count when removing from Recent Projects dialog

Closes textmate/bugs#15"
sorbits,2016-08-05 21:19:18,https://api.github.com/repos/textmate/textmate/git/commits/076863e954cb611423486201f6f122623ee0f27a,076863e954cb611423486201f6f122623ee0f27a,Add some extra checks to potentially avoid crashes
sorbits,2016-08-05 21:18:43,https://api.github.com/repos/textmate/textmate/git/commits/26edab6a75b5579cda3a13234b517b678e50014c,26edab6a75b5579cda3a13234b517b678e50014c,Running a command with output and no document would crash
sorbits,2016-08-05 20:51:48,https://api.github.com/repos/textmate/textmate/git/commits/1f23a34c1582c8a6ca8a5eb1d84b6607227f517d,1f23a34c1582c8a6ca8a5eb1d84b6607227f517d,"Ensure we have a CTLineRef before asking for line metrics

Closes textmate/bugs#22."
sorbits,2016-08-05 20:16:30,https://api.github.com/repos/textmate/textmate/git/commits/a8f1d6322567f4bc8dbd7240bb480ff7e3deb96d,a8f1d6322567f4bc8dbd7240bb480ff7e3deb96d,Use current run loop instead of main dispatch queue for write callback
sorbits,2016-08-05 20:08:06,https://api.github.com/repos/textmate/textmate/git/commits/8e0948ca0d00f0f064be9fbb7e9ca4502a743b77,8e0948ca0d00f0f064be9fbb7e9ca4502a743b77,"Use current run loop instead of main dispatch queue for read callback

This is similar to commit 26e66b887a96b8062d86461cd97a561e9d4b0c72 but this change affects reading files.

If we have a command that runs on `callback.document.did-save` and that command writes to another (open) document, TextMate would hang as the save completion handler is indirectly invoked by `dispatch_async(dispatch_get_main_queue(), …)` so the main queue is blocked throughout the execution of the completion handler, and this completion handler may run commands (`callback.document.did-save`) which means it runs a local event loop, and thus while running this event loop, a new event can arrive which tells TextMate that files have changed (and should be reloaded)."
sorbits,2016-08-04 16:13:18,https://api.github.com/repos/textmate/textmate/git/commits/793a23cda75439b716b72ee93e22da12675724b8,793a23cda75439b716b72ee93e22da12675724b8,"QuickLook generator would fail for users with no font configured

We now fallback to the system’s fixed width font."
sorbits,2016-08-04 12:39:35,https://api.github.com/repos/textmate/textmate/git/commits/40a96c88157345c8dc010d522e0f0541e8ddc348,40a96c88157345c8dc010d522e0f0541e8ddc348,Update dialog plug-ins (Replace deprecated nib initializing)
sorbits,2016-08-04 12:35:44,https://api.github.com/repos/textmate/textmate/git/commits/e381dbaf58491ccfd32eb61f84c9074d68cfb895,e381dbaf58491ccfd32eb61f84c9074d68cfb895,Fix typo in comment
sorbits,2016-08-04 11:01:42,https://api.github.com/repos/textmate/textmate/git/commits/49cc601ae6ab18e758caa4c4cd8bac2f649cb267,49cc601ae6ab18e758caa4c4cd8bac2f649cb267,"Only call NSData’s enumerateByteRangesUsingBlock: when available

This restores compatibility with 10.8."
sorbits,2016-07-16 16:57:23,https://api.github.com/repos/textmate/textmate/git/commits/49ce387960cf8e219c12006409fa238bc9eba6e5,49ce387960cf8e219c12006409fa238bc9eba6e5,Update dialog plug-ins (revert ‘Replace deprecated nib initializing’)
sorbits,2016-07-16 13:37:59,https://api.github.com/repos/textmate/textmate/git/commits/c947ca66595bec69748f15963305e612f6f860a2,c947ca66595bec69748f15963305e612f6f860a2,Add crash report debug info
rdwampler,2016-07-20 18:51:36,https://api.github.com/repos/textmate/textmate/git/commits/4c1f8a18fb7683775c30c8a8205e0b0aa6157bab,4c1f8a18fb7683775c30c8a8205e0b0aa6157bab,"Use weak storage for GutterView's partnerView

On 10.12 beta 3, when closing a window, the following exception is thrown:

Exception Name: NSInternalInconsistencyException
Description: <GutterView 0x7fa71c511150> has reached dealloc but still has a super view. Super views strongly reference there children, so this is being over-released, or has been over-released in the past.

Despite the mention of our GutterView instance being over-released, the actual problem is that we do not call super in our override of `removeFromSuperView`, where we nil out our partner view. A simple fix to avoid crashing would be just calling super in that method so that the view is marked as being removed; however, we can simplify the code and eliminate the need to override our super's method by using a weak reference instead and let ARC automatically handle the zeroing of our partner view."
sorbits,2016-07-16 12:08:31,https://api.github.com/repos/textmate/textmate/git/commits/502c578f54544cf484c16b0c4c940575c5dacf7f,502c578f54544cf484c16b0c4c940575c5dacf7f,Checkin release notes
sorbits,2016-07-16 11:40:33,https://api.github.com/repos/textmate/textmate/git/commits/866136fe83bf75651ab1aef381d8a2bdc1feeea3,866136fe83bf75651ab1aef381d8a2bdc1feeea3,Add more (crash reports) debug info when dragging text
sorbits,2016-07-16 11:27:57,https://api.github.com/repos/textmate/textmate/git/commits/f3a042aead00e82d2b3aac0c60ebcf838cee0a23,f3a042aead00e82d2b3aac0c60ebcf838cee0a23,"Add some (crash reports) debug info to libressl usage

After switching to a version of libressl compiled from source I am seeing crashes from BIO_new_mem_buf and PEM_read_bio_RSA_PUBKEY.

Also minor code touchups, no functional change."
sorbits,2016-07-16 11:10:35,https://api.github.com/repos/textmate/textmate/git/commits/511e1d58a54dab4aed1e7be7acf24836ea8f2465,511e1d58a54dab4aed1e7be7acf24836ea8f2465,Remove old (crash reports) debug info
sorbits,2016-07-16 09:20:27,https://api.github.com/repos/textmate/textmate/git/commits/93e9d23a7db7a2a1330586b66e6b4145e52f3545,93e9d23a7db7a2a1330586b66e6b4145e52f3545,Ensure “will save” callbacks run on buffer that gets written to disk
sorbits,2016-07-15 20:49:33,https://api.github.com/repos/textmate/textmate/git/commits/07bb1ce28db717db6b589da56d681b0b48607c57,07bb1ce28db717db6b589da56d681b0b48607c57,Let OakDocumentEditor update document’s ‘selection’ property
sorbits,2016-07-15 19:47:32,https://api.github.com/repos/textmate/textmate/git/commits/55c6f20b5181b09b8073b971cbed0513aa3bf3f2,55c6f20b5181b09b8073b971cbed0513aa3bf3f2,"Let OakDocumentEditor update document’s ‘folding’ property

This has the advantage that we also get updated folding state saved with backups plus we do not burden the OakTextView with keeping metadata in sync."
sorbits,2016-07-15 19:43:11,https://api.github.com/repos/textmate/textmate/git/commits/1f09c4292a839cb155c8bde70436db861ff71eb2,1f09c4292a839cb155c8bde70436db861ff71eb2,"Drop the OakDocumentEditorProtocol

This was only required when the OakDocumentEditor implementation was in a different framework (that OakDocument could not depend on)."
sorbits,2016-07-15 15:43:33,https://api.github.com/repos/textmate/textmate/git/commits/417706400dd6cf97a8e93d6fb219f8e83bd92dc5,417706400dd6cf97a8e93d6fb219f8e83bd92dc5,Remove document_t from refresh helper
sorbits,2016-07-15 15:41:00,https://api.github.com/repos/textmate/textmate/git/commits/4d8cef31a075698855c7a3d4a6109bd44a44458c,4d8cef31a075698855c7a3d4a6109bd44a44458c,"Let OakDocumentEditor expose buffer_t

Although the buffer is maintained by OakDocument, it makes sense to only allow access via an OakDocumentEditor instance, since the buffer only exist when the document is loaded (implied by the presence of an editor)."
sorbits,2016-07-15 15:38:57,https://api.github.com/repos/textmate/textmate/git/commits/86719625d2a9584dfc5c64777f1a182543d7df49,86719625d2a9584dfc5c64777f1a182543d7df49,Limit what we import in a public header
sorbits,2016-07-15 12:07:49,https://api.github.com/repos/textmate/textmate/git/commits/a7e6d2fcee949b1b54115f174455a8b3b559b7d6,a7e6d2fcee949b1b54115f174455a8b3b559b7d6,Let OakDocumentEditor sanitize selection on external content changes
sorbits,2016-07-15 12:04:17,https://api.github.com/repos/textmate/textmate/git/commits/5ec9aafc81f006c4fd8b31c692ebf35d9976b7e4,5ec9aafc81f006c4fd8b31c692ebf35d9976b7e4,Add undo/redo API to OakDocument
sorbits,2016-07-15 12:02:12,https://api.github.com/repos/textmate/textmate/git/commits/d2859698879aa0f84e0c563587e83df48dc198ab,d2859698879aa0f84e0c563587e83df48dc198ab,"Add ‘selection’ property to OakDocumentEditor

Currently setting the selection will clear any snippets."
sorbits,2016-07-14 20:33:52,https://api.github.com/repos/textmate/textmate/git/commits/8d549d49d240454996c99a40698850cfef56ea6d,8d549d49d240454996c99a40698850cfef56ea6d,Move variables method to OakDocument
sorbits,2016-07-14 19:37:44,https://api.github.com/repos/textmate/textmate/git/commits/750259fee16741079125e947b72723ea50e40db0,750259fee16741079125e947b72723ea50e40db0,Automatically update document’s revision after ending an undo group
sorbits,2016-07-14 19:16:02,https://api.github.com/repos/textmate/textmate/git/commits/a0af3d98c0fdcb5f52bc420dfdd6a50140225ecc,a0af3d98c0fdcb5f52bc420dfdd6a50140225ecc,Don’t redeclare private OakDocument interface
sorbits,2016-07-14 19:09:30,https://api.github.com/repos/textmate/textmate/git/commits/c6bea5c3ffc14330ef75f9cd0890bf38c41f0bc5,c6bea5c3ffc14330ef75f9cd0890bf38c41f0bc5,Update LINK dependencies in target files
sorbits,2016-07-14 19:05:27,https://api.github.com/repos/textmate/textmate/git/commits/2ce7d39dbca1d89227de1a8fb98b73796008bba0,2ce7d39dbca1d89227de1a8fb98b73796008bba0,Merge OakDocument into document framework
sorbits,2016-07-14 17:25:36,https://api.github.com/repos/textmate/textmate/git/commits/4854139426db132c39e764660a0e9dc30b0c2b1f,4854139426db132c39e764660a0e9dc30b0c2b1f,Remove use of document::run from tests
sorbits,2016-07-14 14:26:23,https://api.github.com/repos/textmate/textmate/git/commits/bc344827bc80698f0d61d77a0a8608ac468163fb,bc344827bc80698f0d61d77a0a8608ac468163fb,"Remove document_t from editor_t

We still link with the document framework because the tests still use document::run()."
sorbits,2016-07-14 14:20:12,https://api.github.com/repos/textmate/textmate/git/commits/df35494b800a8b9bd617fe9fa4cd88d636bfad7b,df35494b800a8b9bd617fe9fa4cd88d636bfad7b,Remove ng::editor_for_document
sorbits,2016-07-14 14:16:45,https://api.github.com/repos/textmate/textmate/git/commits/4f4eef50f3472d81fea519fcd52a698051cc415e,4f4eef50f3472d81fea519fcd52a698051cc415e,Don’t use ng::editor_for_document in tests
sorbits,2016-07-14 14:14:05,https://api.github.com/repos/textmate/textmate/git/commits/bd3acf8e96c743d42bf4f84afb52343a2202c376,bd3acf8e96c743d42bf4f84afb52343a2202c376,Pass lambda (to run commands) to editor_t instead of document_t
sorbits,2016-07-14 13:19:20,https://api.github.com/repos/textmate/textmate/git/commits/d9a9fd34bc8ebe143fa906a15f82d589ebd3c32c,d9a9fd34bc8ebe143fa906a15f82d589ebd3c32c,Use OakDocumentEditor instead of ng::editor_for_document
sorbits,2016-07-14 13:34:40,https://api.github.com/repos/textmate/textmate/git/commits/8cfd33481e9e02b8be3aacda33afb08322bbc930,8cfd33481e9e02b8be3aacda33afb08322bbc930,Eliminate two document_t references
sorbits,2016-07-14 13:17:59,https://api.github.com/repos/textmate/textmate/git/commits/3606be892555b73583fe260c634ea0a4ed2acb75,3606be892555b73583fe260c634ea0a4ed2acb75,Add very basic OakDocumentEditor class
sorbits,2016-07-14 13:16:42,https://api.github.com/repos/textmate/textmate/git/commits/978e16174b174e0e11d1d8dc0377e080c69e333b,978e16174b174e0e11d1d8dc0377e080c69e333b,Add preliminary OakDocumentEditor registration to OakDocument
sorbits,2016-07-14 13:15:12,https://api.github.com/repos/textmate/textmate/git/commits/fc33b25da137cb7e4b8668a9b0f06a6df7e95a0c,fc33b25da137cb7e4b8668a9b0f06a6df7e95a0c,Sort untitled documents after most recent use in Open Quickly…
sorbits,2016-07-14 12:06:57,https://api.github.com/repos/textmate/textmate/git/commits/a5882463d4ab9bf65466ffbaa42d2cfb186e8ada,a5882463d4ab9bf65466ffbaa42d2cfb186e8ada,Support no completion handler when loading document
sorbits,2016-07-14 09:24:45,https://api.github.com/repos/textmate/textmate/git/commits/8acc2be710c9ce539f0ed3259a0258ffc44f814c,8acc2be710c9ce539f0ed3259a0258ffc44f814c,Remove unnecessary references to ‘document’ instance variable
sorbits,2016-07-13 19:54:24,https://api.github.com/repos/textmate/textmate/git/commits/8affd6234fea9aec5c46d9bb64c2ad927bcbf6c0,8affd6234fea9aec5c46d9bb64c2ad927bcbf6c0,"Move clipboard wrapper to (new) OakDocument framework

Ideally we would stay in the document framework, but the editor framework currently depends on our document framework and we want to introduce a OakDocumentEditor which encapsulates an editor and layout instance, so to avoid cyclic dependencies we are doing this as a new framework.

Once the last document dependencies have been removed from the editor framework, we can merge OakDocument and OakDocumentEditor."
sorbits,2016-07-13 19:35:34,https://api.github.com/repos/textmate/textmate/git/commits/e4f4ec603a89c7c4a9b7517b10aee289fc43771f,e4f4ec603a89c7c4a9b7517b10aee289fc43771f,Don’t let editor_t keep a document_t instance as member data
sorbits,2016-07-13 19:32:50,https://api.github.com/repos/textmate/textmate/git/commits/d25f6aa6cb5d738b9ef2d5dd9290111c0c66c14f,d25f6aa6cb5d738b9ef2d5dd9290111c0c66c14f,"Pass document_t to macro and execute_dispatch member functions

This way the editor_t instance no longer require a reference to a document instance."
sorbits,2016-07-13 19:12:22,https://api.github.com/repos/textmate/textmate/git/commits/cb41e89736142469792116c27c8fafc68ecaed64,cb41e89736142469792116c27c8fafc68ecaed64,Simplify file patterns in default properties file
sorbits,2016-07-13 19:11:22,https://api.github.com/repos/textmate/textmate/git/commits/3046ccd50db360740a8ee9adc3aa993b92ff4a28,3046ccd50db360740a8ee9adc3aa993b92ff4a28,"Add slash to folder when searching settings for untitled documents

That way, if we have a setting for [ templates/** ] and create a new file in the templates folder (via the file browser) these settings will apply.

Previously we used the folder without trailing slash which required making the file pattern something like [ templates{/**,} ]."
rdwampler,2016-07-13 14:45:38,https://api.github.com/repos/textmate/textmate/git/commits/e50dc57db04bb5426be6db6990742a48518e2332,e50dc57db04bb5426be6db6990742a48518e2332,"Manually release GCD objects in C++ libraries

Since these are pure C++ libraries, they are not managed by ARC. This commit partially reverts 469fd74a7b6784c3eaec6618."
rdwampler,2016-07-13 02:44:42,https://api.github.com/repos/textmate/textmate/git/commits/fa9ceead091cbbfa7c69914a0b1e0443e23359dc,fa9ceead091cbbfa7c69914a0b1e0443e23359dc,Refactor ODBEditorSuite to avoid FSRef API (10.8)
sorbits,2016-07-12 22:39:15,https://api.github.com/repos/textmate/textmate/git/commits/59e48f0618f48207fa6960e2edff35c85180016e,59e48f0618f48207fa6960e2edff35c85180016e,Post missing ‘document will save’ notification
sorbits,2016-07-12 10:03:46,https://api.github.com/repos/textmate/textmate/git/commits/de8eedebc4f60b8b7b706ed5cccd4b7b614ee221,de8eedebc4f60b8b7b706ed5cccd4b7b614ee221,"Release document observer before reaching our destructor

Releasing the document observer will trigger a “document will delete” notification, and I am seeing a few crashes from this. I don’t see any theoretical problem with posting this from the destructor, as the object is still “live”, but let’s see if this change doesn’t fix the crashes."
sorbits,2016-07-10 09:09:04,https://api.github.com/repos/textmate/textmate/git/commits/7dbb44c4a068ce79b92eebdfd8026202bac257d0,7dbb44c4a068ce79b92eebdfd8026202bac257d0,Make parallel test execution the default (again)
sorbits,2016-07-12 08:53:48,https://api.github.com/repos/textmate/textmate/git/commits/c23d0507ae60317b5f53fd3bb819086be1e6a585,c23d0507ae60317b5f53fd3bb819086be1e6a585,Change button title to Save when asking user about encoding
sorbits,2016-07-12 08:52:43,https://api.github.com/repos/textmate/textmate/git/commits/19ced5ac0fc3e065348978fc61f0e2abc08d3604,19ced5ac0fc3e065348978fc61f0e2abc08d3604,Limit “encoding preview” to 256 KiB
sorbits,2016-07-12 08:49:35,https://api.github.com/repos/textmate/textmate/git/commits/0f15e79a854719e1866bb5a7a57602a4b7493e25,0f15e79a854719e1866bb5a7a57602a4b7493e25,Make sheet presentation part of our EncodingWindowController
sorbits,2016-07-12 08:39:08,https://api.github.com/repos/textmate/textmate/git/commits/dc7d61675f9bcc174b39d750c2af2fb924a99890,dc7d61675f9bcc174b39d750c2af2fb924a99890,Use beginSheetModalForWindow:completionHandler: when available (10.9)
sorbits,2016-07-12 08:37:46,https://api.github.com/repos/textmate/textmate/git/commits/4b19e404403c0d237578ecac583796d9c3f40a88,4b19e404403c0d237578ecac583796d9c3f40a88,Show error message when trying to install blacklisted plug-in
sorbits,2016-07-12 08:29:09,https://api.github.com/repos/textmate/textmate/git/commits/a6e1ae37f4c3f9cd9afafae473c2b7a016a9cda8,a6e1ae37f4c3f9cd9afafae473c2b7a016a9cda8,Do not sniff file type for documents with explicit user binding
sorbits,2016-07-11 21:00:55,https://api.github.com/repos/textmate/textmate/git/commits/81d2586ffcfc9385d9bb362febda7c7ec8925557,81d2586ffcfc9385d9bb362febda7c7ec8925557,"Introduce plug-in blacklist which defaults to io.emmet.EmmetTextmate

We have been detecting plug-in crashes for about two years, and we offer the user to remove crashing plug-ins, nonetheless we are still getting a significant number of crash reports from loading the Emmet plug-in."
sorbits,2016-07-11 20:49:50,https://api.github.com/repos/textmate/textmate/git/commits/ee26676df4a2acdff0c44a27634d57cffc4029bf,ee26676df4a2acdff0c44a27634d57cffc4029bf,Remove unnecessary forward declaration of document_ptr
sorbits,2016-07-11 07:55:37,https://api.github.com/repos/textmate/textmate/git/commits/1a7ef1af2bcce6e7b622d78dab1326ef3f9b7732,1a7ef1af2bcce6e7b622d78dab1326ef3f9b7732,"Improve termination UX with unsaved changes

Previously when multiple windows had unsaved changes we would use the frontmost window (with unsaved changes) for all the dialogs. Now we always bring to front the document for which we are presenting a sheet (like a save panel or encoding error)."
sorbits,2016-07-11 07:14:26,https://api.github.com/repos/textmate/textmate/git/commits/78c57eb213dc122be43883f8cd7d6d52caa34335,78c57eb213dc122be43883f8cd7d6d52caa34335,Let showCloseWarningUIForDocuments: accept OakDocuments
sorbits,2016-07-10 21:39:34,https://api.github.com/repos/textmate/textmate/git/commits/b6f111f0c98684cb52220cdbd4f612c531d7a688,b6f111f0c98684cb52220cdbd4f612c531d7a688,"Don’t cancel app termination when we need to show a save panel

Our previous save code was incompatible with the app termination event loop, so we had to abort app termination, but the updated code does not seem to have any issue."
sorbits,2016-07-10 21:35:39,https://api.github.com/repos/textmate/textmate/git/commits/59f31a46a86198cbd0cc5658b24c1bb8e9efc307,59f31a46a86198cbd0cc5658b24c1bb8e9efc307,Remove old code used for saving documents
sorbits,2016-07-10 21:31:13,https://api.github.com/repos/textmate/textmate/git/commits/b0ca4b1773cfefa0ec16c4b6da5be067873aa1e8,b0ca4b1773cfefa0ec16c4b6da5be067873aa1e8,Use new save API in DocumentController
sorbits,2016-07-10 20:46:49,https://api.github.com/repos/textmate/textmate/git/commits/84ecf729bd342193ef550921aa69702e1fad2f09,84ecf729bd342193ef550921aa69702e1fad2f09,Use displayNameWithExtension: instead of DefaultSaveNameForDocument
sorbits,2016-07-10 20:42:53,https://api.github.com/repos/textmate/textmate/git/commits/94d29d0aefca8dc25e3c8719857062bdad2bf594,94d29d0aefca8dc25e3c8719857062bdad2bf594,"Update document_t::sync_save to use new saving API

This function is only called by tests and should not be used by new code."
sorbits,2016-07-10 20:34:34,https://api.github.com/repos/textmate/textmate/git/commits/7929a3fbdff6bf16dd62018d6ee663498daa9ad4,7929a3fbdff6bf16dd62018d6ee663498daa9ad4,Use new document save API from find window
sorbits,2016-07-10 20:25:58,https://api.github.com/repos/textmate/textmate/git/commits/1e1206f303f3750ea0a1cfc64589f275979ff525,1e1206f303f3750ea0a1cfc64589f275979ff525,OakShowAlertForWindow will queue alerts when sheets are already showing
sorbits,2016-07-10 19:40:00,https://api.github.com/repos/textmate/textmate/git/commits/651d451b8920f4c2c816023849c9321a817ddbbf,651d451b8920f4c2c816023849c9321a817ddbbf,Add OakDocument API for saving
sorbits,2016-07-10 19:27:32,https://api.github.com/repos/textmate/textmate/git/commits/c12867182b3af262e60f03bb101a94b2a2e177dc,c12867182b3af262e60f03bb101a94b2a2e177dc,"Loading document can succeed, fail, or be cancelled by user"
sorbits,2016-07-10 15:55:31,https://api.github.com/repos/textmate/textmate/git/commits/73fba5b72b9d1459c25046b5d0961bbe2721475f,73fba5b72b9d1459c25046b5d0961bbe2721475f,Remove unused import statement
sorbits,2016-07-10 15:13:34,https://api.github.com/repos/textmate/textmate/git/commits/1d78a4fc839dee9e32fa360ae70f8b678c1afb8d,1d78a4fc839dee9e32fa360ae70f8b678c1afb8d,Don’t initialize variable to expected value (to improve test)
sorbits,2016-07-10 15:10:01,https://api.github.com/repos/textmate/textmate/git/commits/a6ecde745d13e7c60e898f9dc89bd67aed3b92e6,a6ecde745d13e7c60e898f9dc89bd67aed3b92e6,"Change how we run NSSpellChecker code on the main thread

We only run uniqueSpellDocumentTag and closeSpellDocumentWithTag: on the main thread, as the spelling methods themselves should be thread safe and do not cause any tests to fail (even when running them in parallel).

The way we check if we must “jump” to main thread is done by looking at our current run loop rather than using the deprecated (as of 10.9) dispatch_get_current_queue() function. Since we are looking at the run loop, we now use CFRunLoopPerformBlock() instead of the dispatch functions."
sorbits,2016-07-10 15:07:15,https://api.github.com/repos/textmate/textmate/git/commits/168c06402c40b1c5a63560498e6bcc9dc72ba45e,168c06402c40b1c5a63560498e6bcc9dc72ba45e,Setup CFRunLoop in test runner
sorbits,2016-07-10 10:35:17,https://api.github.com/repos/textmate/textmate/git/commits/1eae742111fdcedfef27f41e586e52cd736198c8,1eae742111fdcedfef27f41e586e52cd736198c8,Add info about avoiding libressl linker warnings
sorbits,2016-07-10 09:49:52,https://api.github.com/repos/textmate/textmate/git/commits/d2d56aaee7686194c9c55a175bd55c49fc54bde4,d2d56aaee7686194c9c55a175bd55c49fc54bde4,"Explicitly call onig_init()

This is called the first time we create a regular expression, but first use of the library could be concurrent (at least for some of the tests)."
sorbits,2016-07-10 09:23:23,https://api.github.com/repos/textmate/textmate/git/commits/bc703249e5e63288140f5754ffef1be3e391a948,bc703249e5e63288140f5754ffef1be3e391a948,Ensure NSDocumentController is used only from main thread
sorbits,2016-07-10 08:45:59,https://api.github.com/repos/textmate/textmate/git/commits/df3ef3cd81b218f3609dfd5344ab4ddc5d8d6e06,df3ef3cd81b218f3609dfd5344ab4ddc5d8d6e06,"Don’t delay “did save” notification to next event loop cycle

See 26e66b887a96b8062d86461cd97a561e9d4b0c72 for details."
sorbits,2016-07-10 08:41:39,https://api.github.com/repos/textmate/textmate/git/commits/26e66b887a96b8062d86461cd97a561e9d4b0c72,26e66b887a96b8062d86461cd97a561e9d4b0c72,"Use current run loop instead of main dispatch queue

While the previous changes were motivated by the tests, this one affects TextMate in that we run a local event loop if we want to wait for commands to finish, but as we previously used the main dispatch queue to send back command results, it meant that we could not wait for command completion from a block running in the main queue.

Currently the code works around this by using performSelector:withObject:afterDelay: when there is a chance of being in a local event loop, which is no longer required."
sorbits,2016-07-09 13:44:54,https://api.github.com/repos/textmate/textmate/git/commits/61aa554dbdfc9db1febed080f3c3f17dc3cc49fc,61aa554dbdfc9db1febed080f3c3f17dc3cc49fc,"Use current run loop instead of main dispatch queue

This change is for the tests which are not being run in the main queue, so it is wrong to assume that we can use the main queue for callbacks."
sorbits,2016-07-08 19:01:22,https://api.github.com/repos/textmate/textmate/git/commits/3d4d8d4ca316cb9bc3dc73afeb31e987bb9e559b,3d4d8d4ca316cb9bc3dc73afeb31e987bb9e559b,Code formatting change
sorbits,2016-07-08 18:37:48,https://api.github.com/repos/textmate/textmate/git/commits/c6efe7a06a47522093192378cd2ef077faff8729,c6efe7a06a47522093192378cd2ef077faff8729,"Remove CGRectLessThan

This was never used for anything."
sorbits,2016-07-08 18:35:16,https://api.github.com/repos/textmate/textmate/git/commits/29d2e52e131e4ec25d80c4c1f798ef6e52ad57b6,29d2e52e131e4ec25d80c4c1f798ef6e52ad57b6,"Remove cf::image_t

This was previously used by layout_t but not since we introduced the CGContextRef wrapper (in b6ed16251eb99b19631d16af866c97ffea2fe7e0)."
sorbits,2016-07-08 18:29:55,https://api.github.com/repos/textmate/textmate/git/commits/d999aa7e39a5e895fc5b696674c3f3b654310aa6,d999aa7e39a5e895fc5b696674c3f3b654310aa6,"Remove cf::timer_t

This was previously used by document_t to schedule backups."
sorbits,2016-07-08 08:56:56,https://api.github.com/repos/textmate/textmate/git/commits/60180f77ec16a4c058c8845ebb9eb41ab6ef227e,60180f77ec16a4c058c8845ebb9eb41ab6ef227e,"Let OakDocument post will/did save notification

With this change we only have OakTextView observe its current document.

This does mean that currently pre and post bundle actions are only executed for the selected document."
sorbits,2016-07-08 08:17:00,https://api.github.com/repos/textmate/textmate/git/commits/6495435833ec43d1ec1ed41b5659bf80109d521e,6495435833ec43d1ec1ed41b5659bf80109d521e,Add description method to OakDocument
sorbits,2016-07-08 08:02:23,https://api.github.com/repos/textmate/textmate/git/commits/a425ec3c270359cc43dfd3c817d146ea939110aa,a425ec3c270359cc43dfd3c817d146ea939110aa,Use displayNameWithExtension: when creating backup name
sorbits,2016-07-08 07:42:10,https://api.github.com/repos/textmate/textmate/git/commits/a00a4c2d86ab660cc9d2c0efdebbd091fed89e34,a00a4c2d86ab660cc9d2c0efdebbd091fed89e34,"Add displayNameWithExtension: method to OakDocument

This will also ensure the display name does not contain any slashes (which it can when a custom name is set) so that it is safe to use this as a filename."
sorbits,2016-07-08 07:27:49,https://api.github.com/repos/textmate/textmate/git/commits/9e06e3522556326f7d5743fd2dd835c38017f2ee,9e06e3522556326f7d5743fd2dd835c38017f2ee,fixup! Use selected document’s path to find external scope attributes
sorbits,2016-07-07 19:59:38,https://api.github.com/repos/textmate/textmate/git/commits/9deb1bf1be62dcce2af93620dd571f374b8fbef2,9deb1bf1be62dcce2af93620dd571f374b8fbef2,Remove content argument from didSave callback method
sorbits,2016-07-07 19:58:30,https://api.github.com/repos/textmate/textmate/git/commits/3a84c1ca3c1ba15612f2ba36cd595603ad855bc0,3a84c1ca3c1ba15612f2ba36cd595603ad855bc0,Simplify code to find a grammar’s file extension
sorbits,2016-07-07 18:54:13,https://api.github.com/repos/textmate/textmate/git/commits/0e5e448295600f0e627e337cf38c83b69169f8f5,0e5e448295600f0e627e337cf38c83b69169f8f5,Remove unused file type argument to file::save
sorbits,2016-07-07 10:18:49,https://api.github.com/repos/textmate/textmate/git/commits/7619e6e9c26934caabe5b643114491b559cd22d0,7619e6e9c26934caabe5b643114491b559cd22d0,Store document’s file type in session restore info
sorbits,2016-07-07 10:12:57,https://api.github.com/repos/textmate/textmate/git/commits/da47f80aaacc4705a1e159764bedcfbd936c2d29,da47f80aaacc4705a1e159764bedcfbd936c2d29,Only update grammar and indent settings for open documents
sorbits,2016-07-07 09:10:29,https://api.github.com/repos/textmate/textmate/git/commits/1bab8548afd7fa00f54cfb10cfa4fbf154661bae,1bab8548afd7fa00f54cfb10cfa4fbf154661bae,"Set project directory when restoring session

We would only set the “default” project directory and rely on the effective project directory being set when opening first document, however, for untitled documents we need the effective project directory to be setup prior to opening (to read the correct settings)."
sorbits,2016-07-07 08:47:53,https://api.github.com/repos/textmate/textmate/git/commits/9f1641911ae25867249540bbf014612b3de0c9d4,9f1641911ae25867249540bbf014612b3de0c9d4,Remove create_untitled_document_in_folder helper function
sorbits,2016-07-07 08:41:58,https://api.github.com/repos/textmate/textmate/git/commits/2d50db451b3326bb1212901f2315b6c277e28fa0,2d50db451b3326bb1212901f2315b6c277e28fa0,"Don’t update settings when creating untitled documents

This is now done (properly) when we open the document."
sorbits,2016-07-07 08:37:18,https://api.github.com/repos/textmate/textmate/git/commits/5ef7bf1b9b2313077f87322287b56178ac9bd5a3,5ef7bf1b9b2313077f87322287b56178ac9bd5a3,"Set document’s directory before opening it

This ensures we get proper folder specific settings for untitled documents that belong to a project."
sorbits,2016-07-07 08:18:59,https://api.github.com/repos/textmate/textmate/git/commits/8fb18e3168f70c7a47d04ab88256e83c2f048000,8fb18e3168f70c7a47d04ab88256e83c2f048000,"Add directory property to OakDocument

This is useful for untitled documents so that we know where to look for folder specific settings."
sorbits,2016-07-07 07:33:41,https://api.github.com/repos/textmate/textmate/git/commits/a1c8e0317e375aa2940f6c216c70339bd072c343,a1c8e0317e375aa2940f6c216c70339bd072c343,Change title of Recent Projects chooser to Open Recent Project
sorbits,2016-07-07 07:31:38,https://api.github.com/repos/textmate/textmate/git/commits/4bdd217455caa78222183fbabbba12e2639f01a3,4bdd217455caa78222183fbabbba12e2639f01a3,"Change Quick Open… menu item to Open Quickly…

Also rename Recent Projects… to Open Recent Project… so that all four menu items start with “Open” and two of them with “Open Recent”."
sorbits,2016-07-07 07:29:38,https://api.github.com/repos/textmate/textmate/git/commits/b0548bfe32ad7ab6c15d55f32d75d4c565db3ca6,b0548bfe32ad7ab6c15d55f32d75d4c565db3ca6,Remove “Quick Open” from file chooser title
sorbits,2016-07-07 07:22:55,https://api.github.com/repos/textmate/textmate/git/commits/95f265574fb84152fa2c8aae1fcc50010a71991e,95f265574fb84152fa2c8aae1fcc50010a71991e,Move New File and New Folder menu items to File Browser menu
sorbits,2016-07-07 06:54:49,https://api.github.com/repos/textmate/textmate/git/commits/e2b474cad6cbd4f4c4650e1c98b0382a956e1e0d,e2b474cad6cbd4f4c4650e1c98b0382a956e1e0d,"Fix incorrect OakDocument initializer

When trying to open a non-existing document by UUID we would get back a partially initialized object."
rdwampler,2016-07-06 20:14:37,https://api.github.com/repos/textmate/textmate/git/commits/69b7b8ee42c633965efee44bba2efaaa5e77347b,69b7b8ee42c633965efee44bba2efaaa5e77347b,"Use non-deprecated method to load nib (10.8)

We can pass `NULL` to `topLevelObjects` since we have a strong IBOutlet to the NSPanel (our top-level object)."
sorbits,2016-07-06 18:37:37,https://api.github.com/repos/textmate/textmate/git/commits/074f5c6069c6064226ee94b7773c6a9c6d2c00ca,074f5c6069c6064226ee94b7773c6a9c6d2c00ca,Checkin release notes
sorbits,2016-07-06 17:12:41,https://api.github.com/repos/textmate/textmate/git/commits/1aee165b4e31e0ecfbbb47b2c2b0fbf0c1d4e71f,1aee165b4e31e0ecfbbb47b2c2b0fbf0c1d4e71f,Use document’s logical path for proxy icon etc.
sorbits,2016-07-06 17:05:55,https://api.github.com/repos/textmate/textmate/git/commits/05fa669364943db2011f335f204c453cf6254e5d,05fa669364943db2011f335f204c453cf6254e5d,"Be explicit about using selected document’s path for untitledSavePath

See rationale in commit d08250c428b9b74b8c68fe84c583326d43ad7792"
sorbits,2016-07-06 17:04:47,https://api.github.com/repos/textmate/textmate/git/commits/fd4395c2bffaca2b811c8dbc42b92fb3fa9abda6,fd4395c2bffaca2b811c8dbc42b92fb3fa9abda6,Use document’s “logical path” to lookup preferred encoding
sorbits,2016-07-06 17:02:16,https://api.github.com/repos/textmate/textmate/git/commits/d08250c428b9b74b8c68fe84c583326d43ad7792,d08250c428b9b74b8c68fe84c583326d43ad7792,"Use selected document’s path to find external scope attributes

We would previously use the documentPath property which does mirror the selected document’s path, but this will change to the logical path. Though for external scope attributes (such as which SCM or build system is used, only the real path makes sense)."
sorbits,2016-07-06 16:59:02,https://api.github.com/repos/textmate/textmate/git/commits/431bba9a2eb5afb08091c266b5f42b23512c1863,431bba9a2eb5afb08091c266b5f42b23512c1863,"Change precedence of targeted settings

Settings are now ranked by locality first, and only if multiple settings from the same .tm_properties file apply, we rank them further using the following order (from lowest to highest): untargeted, scoped (ranked by scope selector), and finally file pattern match (glob)."
sorbits,2016-07-06 14:46:07,https://api.github.com/repos/textmate/textmate/git/commits/665ad94892bc26b8ba668ef9dcdd6797fa257ff1,665ad94892bc26b8ba668ef9dcdd6797fa257ff1,"Document settings would not be read using document’s path

A document has both a virtual and an actual path. The virtual path is relevant e.g. when opening files via rmate, where we want to lookup file-type specific settings based on the remote path (filename) rather than the local temporary file. However, if there is no virtual path, we should fallback on the actual path, which broke when we made document_t a wrapper for OakDocument.

There is now a new logical_path getter which return the virtual path and fallback on the actual path.

Closes textmate/bugs#21"
sorbits,2016-07-06 08:36:28,https://api.github.com/repos/textmate/textmate/git/commits/4843ca3e1adca09ba85164964d70e3727e1e8a2a,4843ca3e1adca09ba85164964d70e3727e1e8a2a,Checkin release notes
sorbits,2016-07-05 20:58:22,https://api.github.com/repos/textmate/textmate/git/commits/6c73e4bbaecee31237314d0c4e4dc9497b654529,6c73e4bbaecee31237314d0c4e4dc9497b654529,Remove legacy open callback abstract base class
sorbits,2016-07-05 15:03:20,https://api.github.com/repos/textmate/textmate/git/commits/36e01eeb10d3250b63e748892f85e64bd3c946da,36e01eeb10d3250b63e748892f85e64bd3c946da,"Fail early if OakDocumentView / OakTextView lack a document

There are still methods that will fail (crash) when we lack a document, but everything involved with constructing and displaying the view should not work even without a placeholder document."
sorbits,2016-07-05 13:31:19,https://api.github.com/repos/textmate/textmate/git/commits/dff96aba21c3d51e1800b9f925784503ede1f531,dff96aba21c3d51e1800b9f925784503ede1f531,"Lookup theme per document type

This allows setting different themes for different document types or paths (closes #801)."
sorbits,2016-07-05 13:11:57,https://api.github.com/repos/textmate/textmate/git/commits/f8b2ca4da4615799b0810ee2c9ee0863358e3efc,f8b2ca4da4615799b0810ee2c9ee0863358e3efc,"Don’t make OakTextView’s theme property a const reference

At the same time use dot-notation to access the property."
sorbits,2016-07-05 12:58:23,https://api.github.com/repos/textmate/textmate/git/commits/b6f54746294acc45d3dae6a7b4746d26dcb406ee,b6f54746294acc45d3dae6a7b4746d26dcb406ee,Fail early for some OakTextView methods when we have no theme
sorbits,2016-07-05 12:20:08,https://api.github.com/repos/textmate/textmate/git/commits/f487c5d57585f98d16273e0fa63b8a3d7c343df0,f487c5d57585f98d16273e0fa63b8a3d7c343df0,Simplify code to obtain font’s em-space
sorbits,2016-07-05 10:12:31,https://api.github.com/repos/textmate/textmate/git/commits/436e43d78f2bdb781533d3d5310581057f94dc23,436e43d78f2bdb781533d3d5310581057f94dc23,Specify OS requirements (to server) via depends DSL
sorbits,2016-07-05 10:11:25,https://api.github.com/repos/textmate/textmate/git/commits/ef876499bde4ea97c6e590d8dd4c9ca845801d50,ef876499bde4ea97c6e590d8dd4c9ca845801d50,Use system’s default monospace font for theme_t
sorbits,2016-07-05 10:03:52,https://api.github.com/repos/textmate/textmate/git/commits/0bb275b4f09a1394b62feb175fc91bd776b27598,0bb275b4f09a1394b62feb175fc91bd776b27598,"Rely on the system’s default monospaced font rather than Menlo

Furthermore, if the user changes to the default monospaced font then we do not store its name in settings (given that it’s default)."
sorbits,2016-07-05 09:46:34,https://api.github.com/repos/textmate/textmate/git/commits/7e6920151324e10b0cfb13789690e4ab9408465d,7e6920151324e10b0cfb13789690e4ab9408465d,"Use default monospace font when failing to get requested font

If we ask for a non-existing font then we may get back the system default font and as most users expect a monospaced font, we take extra steps to catch this situation and switch to the default monospaced font.

For example users that are currently using Menlo may get into this situation on macOS 10.12 where Menlo has been removed.

Furthermore, when no font name is configured we also use the system’s default fixed width font."
sorbits,2016-07-05 09:32:37,https://api.github.com/repos/textmate/textmate/git/commits/58aafa283de810b83aff40a01e3d1460967a740e,58aafa283de810b83aff40a01e3d1460967a740e,Let OakTextView store an NSFont instead of separate font name and size
sorbits,2016-07-05 09:11:15,https://api.github.com/repos/textmate/textmate/git/commits/a337d6029cac3c23ae4b204260aac55f6edd95aa,a337d6029cac3c23ae4b204260aac55f6edd95aa,Remove use of copy_with_font_name_and_size from OakTextView
sorbits,2016-07-05 09:02:49,https://api.github.com/repos/textmate/textmate/git/commits/ec430fe3751760ae964e6d4ddf1c12b57b7e0978,ec430fe3751760ae964e6d4ddf1c12b57b7e0978,"Don’t let layout_t rely on caller to set the theme’s font

The theme_t::copy_with_font_name_and_size is an implementation detail that would be nice to get rid of."
sorbits,2016-07-05 08:45:02,https://api.github.com/repos/textmate/textmate/git/commits/a4155768274ae308b71cb8b800a842f81de63969,a4155768274ae308b71cb8b800a842f81de63969,"Disable deprecation warning for Gestalt API

The replacement API¹ did not appear until the 10.10 SDK, although it might be usable from 10.9.2, but as we currently support 10.8, we cannot use it.

¹ [[NSProcessInfo processInfo] operatingSystemVersion]"
sorbits,2016-07-05 08:15:07,https://api.github.com/repos/textmate/textmate/git/commits/1afd1f11bafaa5eed5de1f8158e78b3757bb2e6b,1afd1f11bafaa5eed5de1f8158e78b3757bb2e6b,"Use weak storage for OakTextView’s delegate (10.8)

Prior to 10.8 we could not form weak references to NSWindowControllers and as a delegate’s superclass is unknown, and could very likely be a window controller, we could not use weak storage."
sorbits,2016-07-05 08:01:45,https://api.github.com/repos/textmate/textmate/git/commits/a3639495d1a4926ed8fed1734dd1f2df3dba7384,a3639495d1a4926ed8fed1734dd1f2df3dba7384,Update dialog plug-ins (use non-deprecated nib API) (10.8)
sorbits,2016-07-04 21:10:37,https://api.github.com/repos/textmate/textmate/git/commits/3ef7c8147094597742221081b18852c7759d1b3d,3ef7c8147094597742221081b18852c7759d1b3d,"Ensure a dropped tab is always moved

This is done by asking to both close and insert the tab, which works as a move regardless of the “re-order tabs” setting."
sorbits,2016-07-04 21:01:54,https://api.github.com/repos/textmate/textmate/git/commits/3812acf2bc0b5d0ffdbb05f132378aa4bef20cf8,3812acf2bc0b5d0ffdbb05f132378aa4bef20cf8,"Support providing same document(s) as insert and close arguments

This is a way to move a document. Normally inserted documents already open will be moved, but only if the user hasn’t disabled tab re-ordering."
sorbits,2016-07-03 21:49:21,https://api.github.com/repos/textmate/textmate/git/commits/1c744c9b0e8536bf14a76b120dad6ee6242cc9ef,1c744c9b0e8536bf14a76b120dad6ee6242cc9ef,"Add checkbox for keeping bundles updated to Bundles preferences

This removes the current activity text and progress bar used while installing and uninstalling bundles."
sorbits,2016-07-03 21:47:44,https://api.github.com/repos/textmate/textmate/git/commits/b4e6f186be2fd7fa9afc47f103f460e8a57dca2e,b4e6f186be2fd7fa9afc47f103f460e8a57dca2e,Remove Software Update checkbox for keeping bundles updated
sorbits,2016-07-03 18:34:41,https://api.github.com/repos/textmate/textmate/git/commits/94036f28aa31713cf57b52dfad1eecb26e253764,94036f28aa31713cf57b52dfad1eecb26e253764,"Non-active text views only execute bundle items with ⌘ in their shortcut

In general only the active view should respond to keys but we have the text view handle bundle items because they can provide actions that are not tied to text editing, for example “Build” or “Show SCM Actions”.

Ideally bundle items would (also) be handled by the window controller, but keyDown: is not commonly passed up the responder chain, so our window controller never sees any keys.

The way the system is designed is that the menu system will resolve keys (before the active view) and then send the menu item’s action up the responder chain, so views respond to actions rather than keys, but we cannot use this system for bundle items because it does not support multiple items with same key equivalent or scope selectors."
sorbits,2016-07-01 19:26:41,https://api.github.com/repos/textmate/textmate/git/commits/d3f71934156dea6cccdfc48fe4efc4116605c2bc,d3f71934156dea6cccdfc48fe4efc4116605c2bc,"Don’t use NSControl’s controlSize property (backwards compatibility)

This property wasn’t available before 10.10."
sorbits,2016-07-01 07:58:58,https://api.github.com/repos/textmate/textmate/git/commits/d18d5240374778f505216d5c2a49b176d453ed08,d18d5240374778f505216d5c2a49b176d453ed08,"Use CFCharacterSet for “East Asian Width” and update tables

See 45f847d01ec774ec4a621f553116b9a6b5dff865 for code used to update the tables."
sorbits,2016-06-30 20:48:40,https://api.github.com/repos/textmate/textmate/git/commits/3ff9a5dfee66d2b528ecef646cb916eb521d8c74,3ff9a5dfee66d2b528ecef646cb916eb521d8c74,"Don’t go via buffer_t to remove document marks

The document will post a “marks did change” notification, so we can remove our local notification posting."
sorbits,2016-06-30 20:48:17,https://api.github.com/repos/textmate/textmate/git/commits/1bc09c2ee74f7fcea4ea3bb0583fecaa2d3e82f2,1bc09c2ee74f7fcea4ea3bb0583fecaa2d3e82f2,Don’t go through buffer_t to get document’s indent settings
sorbits,2016-06-30 20:37:18,https://api.github.com/repos/textmate/textmate/git/commits/823313d27608a2a5e49580b044bac651ce636fc9,823313d27608a2a5e49580b044bac651ce636fc9,Add some assertions
sorbits,2016-06-30 20:32:42,https://api.github.com/repos/textmate/textmate/git/commits/d9769edf6b3aeb53f871ffce5f9912b14fd4f773,d9769edf6b3aeb53f871ffce5f9912b14fd4f773,"Loading document in the progress of loading would return immediately

This could lead to a crash if the second caller of load would access the document’s buffer (before the load initiated by first caller had finished).

Issue introduced in beta 11."
sorbits,2016-06-30 15:19:30,https://api.github.com/repos/textmate/textmate/git/commits/cc7ff6e6315f3593c2a6c4f55b023a1f558b54f5,cc7ff6e6315f3593c2a6c4f55b023a1f558b54f5,"Always store release notes digest in user defaults

Commit 8c19532531b85539e998472ad3c502013e5351e4 broke it so that a digest would only be stored if one was already there, meaning that new users (since November 2015) would not see release notes after update."
sorbits,2016-06-30 14:51:44,https://api.github.com/repos/textmate/textmate/git/commits/39b9dd19bf341ad3b5694589bb69fde767279a6f,39b9dd19bf341ad3b5694589bb69fde767279a6f,Checkin release notes
sorbits,2016-06-30 14:22:10,https://api.github.com/repos/textmate/textmate/git/commits/cba83cc4132a2edb05f72855efb6cf80c81fbcac,cba83cc4132a2edb05f72855efb6cf80c81fbcac,"Opening a file without a grammar can now suggest installing a bundle

This can be disabled using:

	defaults write com.macromates.TextMate.preview disableBundleSuggestions -bool YES

Though the user can also hold option and select “Never” for a suggestions to never see that again, and once the user has a custom binding for a document’s type, no suggestion will be shown."
sorbits,2016-06-30 12:26:54,https://api.github.com/repos/textmate/textmate/git/commits/61492af33c39e6d57711e03768fedb8e93f403c9,61492af33c39e6d57711e03768fedb8e93f403c9,Fix typo
sorbits,2016-06-30 12:12:28,https://api.github.com/repos/textmate/textmate/git/commits/34c126b6348c62193cd991c9a4fcc4c774b7b028,34c126b6348c62193cd991c9a4fcc4c774b7b028,"Add new class: SelectGrammarViewController

This can be used to ask the user about installing a new bundle."
sorbits,2016-06-29 21:24:17,https://api.github.com/repos/textmate/textmate/git/commits/ab6c91b1c4097b5a3d4f68433a4a0d2b4861e386,ab6c91b1c4097b5a3d4f68433a4a0d2b4861e386,Let BundlesManager observe user defaults for disabling update checks
sorbits,2016-06-29 20:36:09,https://api.github.com/repos/textmate/textmate/git/commits/5f336984f361899b7829bc6284a3c54176a48e8f,5f336984f361899b7829bc6284a3c54176a48e8f,OakDocument was only using virtual path to lookup some settings
sorbits,2016-06-29 20:30:44,https://api.github.com/repos/textmate/textmate/git/commits/194a2c35c3b0ac511f4c85e3ad476dc634abcf34,194a2c35c3b0ac511f4c85e3ad476dc634abcf34,"Ensure document always receives a file type

If OakDocument itself is unable to find one we look at the fileType .tm_properties setting, either looking it up using ‘attr.untitled’ for untitled documents, or ‘attr.file.unknown-type’ for documents with a path.

If nothing is found we fallback to ‘text.plain’."
sorbits,2016-06-29 19:55:02,https://api.github.com/repos/textmate/textmate/git/commits/629ac714f3306d8c6d303c43361c04b7520eb025,629ac714f3306d8c6d303c43361c04b7520eb025,"Limit the steps taken by OakDocument to find a file type

If there is no custom binding and no installed grammar matches the document (based on content or path extension) then we leave the document without a file type and expect the caller (of loadModalForWindow:completionHandler:) to set the file type (in the completion handler).

The caller can consult online bundles, present UI to the user, and also know about “project directory”, so they can make a better choice than the OakDocument."
sorbits,2016-06-29 14:32:01,https://api.github.com/repos/textmate/textmate/git/commits/b209d81645d5fe38f7a3369f507f7146061b6ebe,b209d81645d5fe38f7a3369f507f7146061b6ebe,Make file::type_from_path a public function
sorbits,2016-06-29 12:03:12,https://api.github.com/repos/textmate/textmate/git/commits/5dccc9f8245950ede078382bdd36b6efacdd06ad,5dccc9f8245950ede078382bdd36b6efacdd06ad,Multiple selections copied to find clipboard creates alternation regexp
sorbits,2016-06-29 11:52:07,https://api.github.com/repos/textmate/textmate/git/commits/6a476b868c32eac2b9a3e9ba7870173d787f4f3c,6a476b868c32eac2b9a3e9ba7870173d787f4f3c,Add regexp::escape helper to escape special characters
sorbits,2016-06-29 09:26:28,https://api.github.com/repos/textmate/textmate/git/commits/15d798dde87da02ee25fd8448a396f9e89305609,15d798dde87da02ee25fd8448a396f9e89305609,"Add proposedGrammars method to OakDocument

This returns an array of grammars that can be used with the receiver, either matched via file type extension or first line."
sorbits,2016-06-29 09:04:42,https://api.github.com/repos/textmate/textmate/git/commits/adef9fbbbc6705f3277870a98afb834d8bd3fb13,adef9fbbbc6705f3277870a98afb834d8bd3fb13,"Use new BundlesManager API to obtain release notes

This removes the last dependency on the updater framework."
sorbits,2016-06-29 09:02:45,https://api.github.com/repos/textmate/textmate/git/commits/b1fcb9dea436aa6544b7ba078a7af0c7c5eea102,b1fcb9dea436aa6544b7ba078a7af0c7c5eea102,"Update bundles preferences to new BundlesManager API

We now use an array controller and bindings for the table view."
sorbits,2016-06-29 08:56:50,https://api.github.com/repos/textmate/textmate/git/commits/caf8ee5b1fba93fc88270fb0ad1d5d9402520e8d,caf8ee5b1fba93fc88270fb0ad1d5d9402520e8d,"Change API and implementation of BundlesManager

We now have an Objective-C type that can be used in the UI to show various properties of a bundle.

This commit breaks compatibility with the current bundles preferences page."
sorbits,2016-06-28 07:48:59,https://api.github.com/repos/textmate/textmate/git/commits/4db51602b0bc732db3f7a8340441eee7154bd897,4db51602b0bc732db3f7a8340441eee7154bd897,Remove unused load/save methods from key_chain_t
sorbits,2016-06-27 10:12:38,https://api.github.com/repos/textmate/textmate/git/commits/ca24ad9388616f2fc70d8a9124fe450d21306d0b,ca24ad9388616f2fc70d8a9124fe450d21306d0b,Remove unused grammar selection sheet resources
sorbits,2016-06-27 10:04:02,https://api.github.com/repos/textmate/textmate/git/commits/5361e287f9008156e738704ec07d8241e64226dd,5361e287f9008156e738704ec07d8241e64226dd,"Do not handle file type sniffing in file::open

This disables support for showing the user a selection sheet when the file type is unknown, instead we fallback on text.plain."
sorbits,2016-06-27 09:51:24,https://api.github.com/repos/textmate/textmate/git/commits/e88f40a76dbc444eb0c13752b27303fa2e7e1ccf,e88f40a76dbc444eb0c13752b27303fa2e7e1ccf,Do not attempt to save document meta data for non-existing files
sorbits,2016-06-27 09:44:45,https://api.github.com/repos/textmate/textmate/git/commits/1b7e37affa88348ffb21b261af3820987a040755,1b7e37affa88348ffb21b261af3820987a040755,"Set OakDocument’s ‘onDisk’ property during initialization

The old implementation in document_t would check the status in the getter when the document wasn’t open, since we only observe the disk for open documents.

Such solution though would not support key/value observing.

We could improve performance slightly by accepting an “isOnDisk” flag in the initializer since when we create documents from scanning the disk (folder search and file chooser) we already know the document is on disk and thus could skip the extra disk access."
sorbits,2016-06-27 09:38:13,https://api.github.com/repos/textmate/textmate/git/commits/3f44309466c277fb5bb7698734063649a6f91aa0,3f44309466c277fb5bb7698734063649a6f91aa0,Post OakDocumentWillCloseNotification when closing a document
sorbits,2016-06-26 14:53:15,https://api.github.com/repos/textmate/textmate/git/commits/41b987e82cd3d4a7eed554ded77305e0471a9e80,41b987e82cd3d4a7eed554ded77305e0471a9e80,"Select last added document when creating multiple tabs at once

When we close a tab then we select the tab to the left, for this reason it makes most sense to select the last tab added, so that ⌘W will effectively go to the “next tab inserted”.

The exception is when we create a new project, here we select the first tab since there are no tabs to the left, so ⌘W will still work as a “next tab” button. Though I may later change this so that the behavior is consistent."
sorbits,2016-06-26 14:38:33,https://api.github.com/repos/textmate/textmate/git/commits/e39e744636401a2d4dfc0bea81fb03859b502691,e39e744636401a2d4dfc0bea81fb03859b502691,"Simplify code which inserts new documents into the tab bar

All insertion now go through the same method."
sorbits,2016-06-26 09:33:26,https://api.github.com/repos/textmate/textmate/git/commits/afe9240883ce63b807f8e04b1ef5eae6b35f0ac7,afe9240883ce63b807f8e04b1ef5eae6b35f0ac7,Use initializer list instead of helper function (C++11)
sorbits,2016-06-26 09:29:02,https://api.github.com/repos/textmate/textmate/git/commits/c76022c3670dbcf7143105216706eb35b828f791,c76022c3670dbcf7143105216706eb35b828f791,"Don’t use const reference for Objective-C property

I believe this used to be a requirement (presumably since a const reference can be treated as a pointer by Objective-C) but recent versions of clang have no problem with complex C++ data types in Objective-C class interfaces."
sorbits,2016-06-25 14:38:49,https://api.github.com/repos/textmate/textmate/git/commits/4b0dcce670e868a17ce3fd2c540696c052d8fc2b,4b0dcce670e868a17ce3fd2c540696c052d8fc2b,"Potentially update document’s file type when editing first line

If an edit to the first line causes the document to match with a different grammar then we switch to this grammar."
sorbits,2016-06-25 14:36:12,https://api.github.com/repos/textmate/textmate/git/commits/ca01850b7ca0372bd0dda9efed90216bc8b357c8,ca01850b7ca0372bd0dda9efed90216bc8b357c8,Make file::type_from_bytes a public function
sorbits,2016-06-25 12:49:25,https://api.github.com/repos/textmate/textmate/git/commits/f55d929aeddb92fc982036205fa6e3d181c92062,f55d929aeddb92fc982036205fa6e3d181c92062,"Remove scale factor support from the print dialog

The implementation was no different than adjusting the font size, so since that is also exposed, there is no reason to provide both to the user."
sorbits,2016-06-25 12:42:30,https://api.github.com/repos/textmate/textmate/git/commits/bcae1a8aa1c713d759fd6eea663820d0c9e67a73,bcae1a8aa1c713d759fd6eea663820d0c9e67a73,Move printing support to OakDocument
sorbits,2016-06-25 11:54:54,https://api.github.com/repos/textmate/textmate/git/commits/81b09120cda76e07d1b82a77b794dd854295649a,81b09120cda76e07d1b82a77b794dd854295649a,"Calling OakShowSheetForWindow with no window now show modal dialog

Based on crash reports received it might be that this function is sometimes called without a window, although the call-sites all do pass a window to the function."
sorbits,2016-06-25 08:51:09,https://api.github.com/repos/textmate/textmate/git/commits/f78bfd306db0b0089419c927b376b7225751ec4b,f78bfd306db0b0089419c927b376b7225751ec4b,Remove unused constant for “mixed newlines” and callback related to this
sorbits,2016-06-25 08:47:03,https://api.github.com/repos/textmate/textmate/git/commits/78b528f29923965e10e254015fa317a7aaf56278,78b528f29923965e10e254015fa317a7aaf56278,Update LINK dependencies in target files
sorbits,2016-06-25 08:35:53,https://api.github.com/repos/textmate/textmate/git/commits/ab1b4a12371b1592e985354212d45ee9a66b04de,ab1b4a12371b1592e985354212d45ee9a66b04de,Move everything about loading a document to OakDocument
sorbits,2016-06-25 07:16:02,https://api.github.com/repos/textmate/textmate/git/commits/f97e89e84bd1ee42b6ba1ab7664ca35d89ee9e10,f97e89e84bd1ee42b6ba1ab7664ca35d89ee9e10,Remove document_t::symbols
sorbits,2016-06-25 07:14:39,https://api.github.com/repos/textmate/textmate/git/commits/50dabac4678d0ed8c9b43d663efaa022e06ab0de,50dabac4678d0ed8c9b43d663efaa022e06ab0de,Let the symbol chooser use OakDocument instead of document_t
sorbits,2016-06-25 07:09:12,https://api.github.com/repos/textmate/textmate/git/commits/1551efa8d28e612ff995ca436aa28f088febd8b3,1551efa8d28e612ff995ca436aa28f088febd8b3,Allow obtaining OakDocument from document_t and export OakDocument.h
sorbits,2016-06-25 06:51:06,https://api.github.com/repos/textmate/textmate/git/commits/c21b421b5e3f29e3929e3f2dd58c260657bd566f,c21b421b5e3f29e3929e3f2dd58c260657bd566f,"Add enumerateSymbolsUsingBlock: to OakDocument

Currently this is a no-op when the document is closed."
sorbits,2016-06-25 06:46:36,https://api.github.com/repos/textmate/textmate/git/commits/455fa2a4be3c6d4f6c91cb6ceea1065d017ba21c,455fa2a4be3c6d4f6c91cb6ceea1065d017ba21c,Add keepBackupFile property to OakDocument
sorbits,2016-06-24 19:41:18,https://api.github.com/repos/textmate/textmate/git/commits/98dfad30a3d1e7651f8d8b104854443c922372e5,98dfad30a3d1e7651f8d8b104854443c922372e5,"Let status bar translate file type → grammar name

This is so that we can use bindings, once we deal with OakDocument objects."
sorbits,2016-06-24 19:11:10,https://api.github.com/repos/textmate/textmate/git/commits/8580b04e8d27853c5158b0c0ab998e6657972aa9,8580b04e8d27853c5158b0c0ab998e6657972aa9,Move “recent documents” tracking to OakDocument
sorbits,2016-06-24 15:23:18,https://api.github.com/repos/textmate/textmate/git/commits/cd614c9a3bbef33c5e001cea792e59955bddd8d3,cd614c9a3bbef33c5e001cea792e59955bddd8d3,Changing path already reset our file system observer
sorbits,2016-06-24 07:56:11,https://api.github.com/repos/textmate/textmate/git/commits/e07d150f43b12017b9c2edb731e550639b454010,e07d150f43b12017b9c2edb731e550639b454010,"Improve how we handle the state of the “Replace All / Selected” button

The button will show “Replace Selected” if either not all results are selected
or when all results are selected, replacement has been done for only some of the files with matches.

Validation of the Check/Uncheck All menu items has also been improved."
sorbits,2016-06-24 07:00:57,https://api.github.com/repos/textmate/textmate/git/commits/f66ea4d27f76b989af3b6eb6d22a7ba34f1c2f14,f66ea4d27f76b989af3b6eb6d22a7ba34f1c2f14,"Add ‘countOfExcludedReadOnly’ property to FFResultNode

It does seem redundant with four counters for the FFResultNode but this is required for efficient bindings since the state of the “Replace All / Selected” button depend on all these things."
sorbits,2016-06-24 06:32:04,https://api.github.com/repos/textmate/textmate/git/commits/a4a4746dd9091b05cff31e8c361eb3673461d7c3,a4a4746dd9091b05cff31e8c361eb3673461d7c3,"Change FFResultNode’s ‘ignore’ property to ‘readOnly’

At the same time the semantics have been simplified so that the ‘readOnly’ property (formerly ‘ignored’) does not have any side effects with respect to whether or not the item is excluded.

The only thing special is that when a node is set to be read-only, a change of its ‘exclude’ property will not be forwarded to its children."
sorbits,2016-06-23 07:46:11,https://api.github.com/repos/textmate/textmate/git/commits/994d60120f0aa71403473b7c9435268d9ff9c859,994d60120f0aa71403473b7c9435268d9ff9c859,Update backup file atomically and verify that writing succeeded
sorbits,2016-06-23 06:53:37,https://api.github.com/repos/textmate/textmate/git/commits/1f3ea40516733cb06483ee1994896271f06075d3,1f3ea40516733cb06483ee1994896271f06075d3,Update dialog plug-ins (remove workaround for Lion and suppress warning)
sorbits,2016-06-23 06:45:30,https://api.github.com/repos/textmate/textmate/git/commits/383ac8c29dd1019500bd65ef95ca3cec578418c3,383ac8c29dd1019500bd65ef95ca3cec578418c3,Remove tmColorWithCGColor: / tmCGColor (10.8)
sorbits,2016-06-22 21:22:47,https://api.github.com/repos/textmate/textmate/git/commits/33aec21dcbeb4a15cced5755457348759ebd9818,33aec21dcbeb4a15cced5755457348759ebd9818,"Provide buffer_t visitor with offset and a way to stop the visit

If the lambda stops the visit then buffer_t::visit_data will return true, otherwise it returns false."
sorbits,2016-06-22 20:53:38,https://api.github.com/repos/textmate/textmate/git/commits/c36ec7757e1286f2236ac75a1a7fa42f2cfa2fff,c36ec7757e1286f2236ac75a1a7fa42f2cfa2fff,Send minimum OS requirement to server when we upload a new build
sorbits,2016-06-22 19:16:56,https://api.github.com/repos/textmate/textmate/git/commits/b4a070472373470fdea685871b3fc8ec61b80edc,b4a070472373470fdea685871b3fc8ec61b80edc,Remove 10.7 section from README
rdwampler,2016-06-22 20:00:05,https://api.github.com/repos/textmate/textmate/git/commits/4de647c66477a9deb702fce054a0a6a61a1e6c4a,4de647c66477a9deb702fce054a0a6a61a1e6c4a,Update deployment target to 10.8
rdwampler,2016-06-22 19:54:35,https://api.github.com/repos/textmate/textmate/git/commits/727b5da153b23a1904f1730e3a24c6221f8e18f0,727b5da153b23a1904f1730e3a24c6221f8e18f0,Save with Version 7.3.1 (7D1014)
sorbits,2016-06-22 16:30:28,https://api.github.com/repos/textmate/textmate/git/commits/4e15783500db12873efa086390c52906e0e201b5,4e15783500db12873efa086390c52906e0e201b5,Change document_t to be a thin wrapper for OakDocument
sorbits,2016-06-22 11:02:26,https://api.github.com/repos/textmate/textmate/git/commits/8fac4b51a4baf52327af91932115470c3b487b90,8fac4b51a4baf52327af91932115470c3b487b90,"Add OakDocument class

This is intentionally kept very similar to document_t so that we can make document_t a wrapper and once all document_t code has been migrated to OakDocument, we can extend the API like introducing an OakDocumentEditor and possibly make it an NSDocument subclass.

The implementation of OakDocument have some minor improvements over document_t for example when a document is changed on disk we delay reloading the changes until TextMate is made active, and we currently do not reload the content when there are merge conflicts (though we need to warn the user about this).

Minimum OS requirement is now OS X 10.8 because we use NSUUID."
sorbits,2015-08-04 18:47:28,https://api.github.com/repos/textmate/textmate/git/commits/48e3a65681301ece81bea95fdf2060bd16503217,48e3a65681301ece81bea95fdf2060bd16503217,Remove use of @synthesize in OakTextView related files
sorbits,2015-08-04 18:48:54,https://api.github.com/repos/textmate/textmate/git/commits/669928f4de8a4457afdbebd8d6a6139e8f05771b,669928f4de8a4457afdbebd8d6a6139e8f05771b,Remove use of @synthesize in miscellaneous files
sorbits,2015-08-04 18:48:03,https://api.github.com/repos/textmate/textmate/git/commits/990f972a046bc283b9745f93270eedd00ff9f279,990f972a046bc283b9745f93270eedd00ff9f279,Remove use of @synthesize in bundle editor code
sorbits,2015-08-04 18:03:23,https://api.github.com/repos/textmate/textmate/git/commits/0d0e8505dd6fc9c81c43af664a9f01eeada98303,0d0e8505dd6fc9c81c43af664a9f01eeada98303,Remove use of @synthesize in preferences window code
sorbits,2015-08-04 11:18:58,https://api.github.com/repos/textmate/textmate/git/commits/96508d81c3f5c41c779be4460ffce722f460234a,96508d81c3f5c41c779be4460ffce722f460234a,Remove unused function (os_tuple)
sorbits,2015-08-04 11:22:32,https://api.github.com/repos/textmate/textmate/git/commits/fdaf7ca732d23219c4d421a0070d1caf2d52df93,fdaf7ca732d23219c4d421a0070d1caf2d52df93,Remove workaround for OS bug (10.8)
sorbits,2015-08-04 11:21:35,https://api.github.com/repos/textmate/textmate/git/commits/ef2d50606fe462833dcbfc00d8a75802a183bd69,ef2d50606fe462833dcbfc00d8a75802a183bd69,Use non-deprecated version of weak NSMapTable (10.8)
sorbits,2016-06-22 17:38:29,https://api.github.com/repos/textmate/textmate/git/commits/7dd19c0c0eafeb026be28e0d60c170132108539f,7dd19c0c0eafeb026be28e0d60c170132108539f,Update deployment target to 10.8 for all xib files
sorbits,2015-08-04 11:19:55,https://api.github.com/repos/textmate/textmate/git/commits/469fd74a7b6784c3eaec6618b002330c242eb26a,469fd74a7b6784c3eaec6618b002330c242eb26a,Rely on ARC to manage GCD types (10.8)
sorbits,2016-06-22 18:39:59,https://api.github.com/repos/textmate/textmate/git/commits/e2be8a104d6f91b3437d7a789bd35aaac8f296a9,e2be8a104d6f91b3437d7a789bd35aaac8f296a9,"Set minimum OS to 10.8

You need to re-run ./configure or edit $builddir/build.ninja before this has effect."
sorbits,2016-06-22 18:22:52,https://api.github.com/repos/textmate/textmate/git/commits/53157bedd6c4890e2b0e95098398e0f269ba1af3,53157bedd6c4890e2b0e95098398e0f269ba1af3,Checkin release notes
sorbits,2016-06-22 17:42:18,https://api.github.com/repos/textmate/textmate/git/commits/28533a48d6decc4c02e67069f2529e5db65de26a,28533a48d6decc4c02e67069f2529e5db65de26a,Ignore binary identification glob when search should include binary files
sorbits,2016-06-22 17:40:14,https://api.github.com/repos/textmate/textmate/git/commits/d6993bb47650967e5db702b3078027953c5596d0,d6993bb47650967e5db702b3078027953c5596d0,Remove xib from binary file identification glob
sorbits,2016-06-22 16:07:44,https://api.github.com/repos/textmate/textmate/git/commits/c50795af91e6601b44f2116aea1001e0a86b023e,c50795af91e6601b44f2116aea1001e0a86b023e,Simplify code by using std::function
sorbits,2016-06-22 15:39:19,https://api.github.com/repos/textmate/textmate/git/commits/ff4a796c205b3787082f220f1918a05b17f5b0bd,ff4a796c205b3787082f220f1918a05b17f5b0bd,"Don’t pass inserted data to the buffer_t metadata hooks

None of the hooks actually use this data and as they are called after the replacement has been done, they can query the buffer, should they require information about its content.

The problem with having to pass the data pointer to the hooks is that there could be future situations in where the buffer’s data is not inserted as one contiguous block of memory, for example we could allow constructing a buffer from a storage_t instance."
sorbits,2016-06-22 15:28:39,https://api.github.com/repos/textmate/textmate/git/commits/61a3a6229a04dd5ca8bfd03f36bd4d29843789b1,61a3a6229a04dd5ca8bfd03f36bd4d29843789b1,Use constructor delegation for buffer_t
sorbits,2016-06-22 12:01:55,https://api.github.com/repos/textmate/textmate/git/commits/f5832c975f387d643947af9499f3fbe9aeeed2fc,f5832c975f387d643947af9499f3fbe9aeeed2fc,Add missing include statements
sorbits,2016-06-21 21:04:43,https://api.github.com/repos/textmate/textmate/git/commits/371d426c5fac17e41528467a483a33cbbfe60b0f,371d426c5fac17e41528467a483a33cbbfe60b0f,Add ‘char const*’ insertion API to ng::buffer_t
sorbits,2016-06-21 20:08:22,https://api.github.com/repos/textmate/textmate/git/commits/7ac10b7b2975814a87316cd83aa1e5341e7e4c6a,7ac10b7b2975814a87316cd83aa1e5341e7e4c6a,Add to_ns helper function which creates an NSString from std::string
sorbits,2016-06-21 17:47:07,https://api.github.com/repos/textmate/textmate/git/commits/daa90613f04ca833e2784f3a67fc7562dd953eda,daa90613f04ca833e2784f3a67fc7562dd953eda,"Use BOM versions of UTF-16/32 in list of default encodings

If we find that the user doesn’t have any BOM versions enabled but do have the non-BOM versions then we update their settings to instead use the BOM versions."
sorbits,2016-06-21 17:32:47,https://api.github.com/repos/textmate/textmate/git/commits/b72091b3bb166769f7ac9c52836b9ddcaa0476bf,b72091b3bb166769f7ac9c52836b9ddcaa0476bf,The encoding::charset_from_bom function now return “«charset»//BOM”
sorbits,2016-06-21 17:31:22,https://api.github.com/repos/textmate/textmate/git/commits/55b2f6366e18011b86e5a1a192562599252fda90,55b2f6366e18011b86e5a1a192562599252fda90,Remove ‘useBOM’ settings key
sorbits,2016-06-21 17:30:22,https://api.github.com/repos/textmate/textmate/git/commits/7b2e296907fc74b894dfd2d5d4878c659b98aa4f,7b2e296907fc74b894dfd2d5d4878c659b98aa4f,Remove BOM support from encoding::type
sorbits,2016-06-21 17:28:29,https://api.github.com/repos/textmate/textmate/git/commits/4b3d959c855c80082e9901086365cda958e25386,4b3d959c855c80082e9901086365cda958e25386,Remove explicit BOM handling from the file framework
sorbits,2016-06-21 17:20:56,https://api.github.com/repos/textmate/textmate/git/commits/735ba3a3865fb1b3eea443dffa58269b2f7db978,735ba3a3865fb1b3eea443dffa58269b2f7db978,Remove explicit BOM support from document_t
sorbits,2016-06-21 17:19:37,https://api.github.com/repos/textmate/textmate/git/commits/0e0eba8a544c4ce00d8bf61ce2b7cac7fe2cdcc3,0e0eba8a544c4ce00d8bf61ce2b7cac7fe2cdcc3,Add BOM versions of all unicode transformation formats
sorbits,2016-06-21 17:18:17,https://api.github.com/repos/textmate/textmate/git/commits/7e8aa8b8981eb443c5be73959d250e191c59283a,7e8aa8b8981eb443c5be73959d250e191c59283a,"Remove “byte order mark” support from the save panel

This can be specified via the encoding."
sorbits,2016-06-21 16:33:20,https://api.github.com/repos/textmate/textmate/git/commits/f60e0dad98c3d7a7b56245f5c3e9a0b5941b1245,f60e0dad98c3d7a7b56245f5c3e9a0b5941b1245,Use text::transcode_t instead if iconv API
sorbits,2016-06-21 16:18:27,https://api.github.com/repos/textmate/textmate/git/commits/0520e4fe883a978c91e36cd3cb75c0f7cc7d6851,0520e4fe883a978c91e36cd3cb75c0f7cc7d6851,"Add text::transcode_t which is a wrapper for iconv

Apart from being simpler to use this wrapper supports adding ‘//BOM’ to the charset name to either consume or produce a byte order marker.

It also converts invalid byte sequences to (ASCII) escape codes, e.g. \x8F."
sorbits,2016-06-21 08:51:55,https://api.github.com/repos/textmate/textmate/git/commits/4758061719430be41515927e623b97de43e52927,4758061719430be41515927e623b97de43e52927,Do not add final newline to hex dump
rdwampler,2016-06-21 02:14:28,https://api.github.com/repos/textmate/textmate/git/commits/9337b126163cb4dd493dfacde436859742f89ab1,9337b126163cb4dd493dfacde436859742f89ab1,"Pass our minimum deployment target to ibtool

This suppresses the below warning when compiling xibs with Xcode 7 or later.

    warning: This file is set to build for a version older than the deployment target. Functionality may be limited. [9]

We should revisit this when we update our minimum deployment target to 10.8 or higher, as it may not be needed."
sorbits,2016-06-20 21:12:21,https://api.github.com/repos/textmate/textmate/git/commits/863ed2a691e37e6ef25a4568b47180f87389bfce,863ed2a691e37e6ef25a4568b47180f87389bfce,When running tests synchronously failures would be ignored
sorbits,2016-06-20 21:09:18,https://api.github.com/repos/textmate/textmate/git/commits/e8df02f4a45a7f51079386708c01a420ab1a432e,e8df02f4a45a7f51079386708c01a420ab1a432e,Let buffer_t delegate operator== to its storage member
sorbits,2016-06-20 21:02:52,https://api.github.com/repos/textmate/textmate/git/commits/da96be12c9b2bcbd09483406c634ea55d6a3eab5,da96be12c9b2bcbd09483406c634ea55d6a3eab5,Add comparison operators to storage_t class
sorbits,2016-06-20 16:16:52,https://api.github.com/repos/textmate/textmate/git/commits/aa310c87c5b03d81636e8dec11ccf9bf776a1d28,aa310c87c5b03d81636e8dec11ccf9bf776a1d28,"Add const access to buffer_t’s underlying storage

This is to be used for cheap snapshots."
sorbits,2016-06-20 15:59:54,https://api.github.com/repos/textmate/textmate/git/commits/a2dfe223399e28d776fd720aa32fc9a4f20c737d,a2dfe223399e28d776fd720aa32fc9a4f20c737d,"Only expose pointer to const bytes owned by memory_t::helper_t

This guards against misuse of the API, as the compiler should now enforce our append-only design."
sorbits,2016-06-20 15:53:21,https://api.github.com/repos/textmate/textmate/git/commits/608b375b30aa6a46884208724dfe21fdcaf23800,608b375b30aa6a46884208724dfe21fdcaf23800,"Let the constructor of memory_t::helper_t accept an iterator pair

This should make the API more clear, as there is no longer the requirement to copy bytes after constructing memory_t with a non-zero size."
sorbits,2016-06-20 15:50:37,https://api.github.com/repos/textmate/textmate/git/commits/b6861444c82c99360c9624ac5dfea7feb179323d,b6861444c82c99360c9624ac5dfea7feb179323d,"Replace memory_t::grow with memory_t::append

This makes it clear that we can only append to a memory_t type."
sorbits,2016-06-20 15:49:17,https://api.github.com/repos/textmate/textmate/git/commits/3c3b48f9adb8b9811c7b0232128ec50cc9c03fac,3c3b48f9adb8b9811c7b0232128ec50cc9c03fac,Rename memory_t::free → memory_t::available
sorbits,2016-06-20 15:45:14,https://api.github.com/repos/textmate/textmate/git/commits/437f640e740686e69e502a1e8aa0e24da818cc6e,437f640e740686e69e502a1e8aa0e24da818cc6e,Implement move assignment and constructor for oak::basic_tree_t
sorbits,2016-06-19 08:55:25,https://api.github.com/repos/textmate/textmate/git/commits/fb7c2cef3f0e024f841995a32d38fc16aa21273a,fb7c2cef3f0e024f841995a32d38fc16aa21273a,Use NSUserDefaults’s specialized «type»ForKey:
sorbits,2016-06-19 20:08:36,https://api.github.com/repos/textmate/textmate/git/commits/bc20f67d05c449d9523e41b0c0d4c524b814f9be,bc20f67d05c449d9523e41b0c0d4c524b814f9be,"Revert ""Search results are now added in batch to limit KVO notifications""

This was published by mistake as 8175d2d9d83718574de848723f0f62df01553a6a address the same problem but with less complex code.

This reverts commit f7edb51ea372d8dcd7c65fb24e6da186851c9ff0."
sorbits,2016-06-19 07:38:49,https://api.github.com/repos/textmate/textmate/git/commits/89376e6ac96e6d3cdc2ef11dbb210c8815dcdfad,89376e6ac96e6d3cdc2ef11dbb210c8815dcdfad,"Always ask OakFileBrowser to validate deselectAll: and reload:

Also simplify code so that we only need to maintain a set of which actions the file browser should validate."
sorbits,2016-06-19 07:34:28,https://api.github.com/repos/textmate/textmate/git/commits/6e8ab01c096085e90daaf62f08f03d480af467cc,6e8ab01c096085e90daaf62f08f03d480af467cc,Let OakFileBrowser validate menu items sending deselectAll:
sorbits,2016-06-19 07:25:53,https://api.github.com/repos/textmate/textmate/git/commits/0a0b9a80528aa6652d1af4c5be8eb67a260eca32,0a0b9a80528aa6652d1af4c5be8eb67a260eca32,"Move Select None to File Browser (main) menu

This was previously placed in the file browser’s action menu and thus probably overlooked by many, even though ⇧⌘A is a very useful key equivalent, since many commands work on the entire project when there is no selection in the file browser."
sorbits,2016-06-19 07:11:48,https://api.github.com/repos/textmate/textmate/git/commits/dc0331b781246cf76d0f2dc3b71638d2677fac5d,dc0331b781246cf76d0f2dc3b71638d2677fac5d,"Change File Browser → Current Document to Select Document

Also make the title dynamic so that we show the current document’s name (when we have one) and add a separator below the menu item."
sorbits,2016-06-19 06:27:48,https://api.github.com/repos/textmate/textmate/git/commits/5c7b04fbd3cabc8d487a9c4114b4cb3c79a9a29d,5c7b04fbd3cabc8d487a9c4114b4cb3c79a9a29d,Add missing include for test/jail.h
rdwampler,2016-06-19 03:23:00,https://api.github.com/repos/textmate/textmate/git/commits/7e3497889e93d9404b001926e8bd97ed03838dca,7e3497889e93d9404b001926e8bd97ed03838dca,"Rename ""Go"" menu to ""File Browser"""
rdwampler,2016-06-19 03:21:32,https://api.github.com/repos/textmate/textmate/git/commits/1a1c3ecd380bdb882b1e2662c511c65de7cd7a62,1a1c3ecd380bdb882b1e2662c511c65de7cd7a62,"Move ""Go To Related File"" to the Navigate menu"
rdwampler,2016-06-19 03:11:43,https://api.github.com/repos/textmate/textmate/git/commits/5bb89898fb214146dae3d4a22bda11415acc419a,5bb89898fb214146dae3d4a22bda11415acc419a,"Move ""Go to File"" to File menu and rename to ""Quick Open"""
rdwampler,2016-06-19 03:41:41,https://api.github.com/repos/textmate/textmate/git/commits/e452a5ee5583880b5ed332aa42a4a23bb24d779d,e452a5ee5583880b5ed332aa42a4a23bb24d779d,"Move ""Go to Tab"" to the Window menu and rename to ""Select Tab""

Also edit the source to reflect the change in name (e.g., `updateGoToMenu:` → `updateSelectTabMenu:`)."
meyer,2016-06-19 00:55:04,https://api.github.com/repos/textmate/textmate/git/commits/91befc271b7ea6f88e34b157262a660eecf6d9bc,91befc271b7ea6f88e34b157262a660eecf6d9bc,"Read the gutter fontName from user defaults

defaults to textView fontName"
sorbits,2016-06-18 09:57:03,https://api.github.com/repos/textmate/textmate/git/commits/a4deade16a42c61c5ccb410a236e6b7fcbfa8a1e,a4deade16a42c61c5ccb410a236e6b7fcbfa8a1e,"Show path of default keybindings as TextMate.app ▸ KeyBindings.dict

This is instead of showing the full path. The user can still get to the file by using the “Edit” button."
sorbits,2016-06-18 09:44:11,https://api.github.com/repos/textmate/textmate/git/commits/45a23472cbc5c65ab5b8177db13db6fd31e53f95,45a23472cbc5c65ab5b8177db13db6fd31e53f95,Use localized number formatting for collapsed search result headers
sorbits,2016-06-18 09:38:44,https://api.github.com/repos/textmate/textmate/git/commits/b232a70d69322f8b83739f5c12148caaedb4c2c2,b232a70d69322f8b83739f5c12148caaedb4c2c2,Remove countOfLeafs property from OakSearchResultsHeaderCellView
sorbits,2016-06-17 15:35:26,https://api.github.com/repos/textmate/textmate/git/commits/f7edb51ea372d8dcd7c65fb24e6da186851c9ff0,f7edb51ea372d8dcd7c65fb24e6da186851c9ff0,"Search results are now added in batch to limit KVO notifications

Majority of the time in the main thread was spent updating the countOfLeafs property since canReplaceAll and the result text are dependent on this property."
sorbits,2016-06-18 09:23:37,https://api.github.com/repos/textmate/textmate/git/commits/5d9ad561dcdf04088ea30a8cff26d34aa5e051b9,5d9ad561dcdf04088ea30a8cff26d34aa5e051b9,"Deleting last item in pasteboard history browser is now a no-op

Unfortunately disabling the “Delete” button is cumbersome because our history is stored with CoreData so knowing the number of items in the history requires a fetch request, which we would not know when to re-run (to update the disabled state when the history is changed).

When the filter string is empty we can use the array controller’s results, but I’m leaving that for the future."
sorbits,2016-06-18 09:20:51,https://api.github.com/repos/textmate/textmate/git/commits/705fc6e0e9cabab820560751d85b8393f844b1c1,705fc6e0e9cabab820560751d85b8393f844b1c1,"Change “Clear All” → “Clear History” in pasteboard history browser

Technically we are unable to delete the pasteboard’s current item so “Clear All” was performing a “Clear All Minus One”. While the new label does not make this clear, it at least does not promise to clear everything."
sorbits,2016-06-18 08:24:13,https://api.github.com/repos/textmate/textmate/git/commits/3346f8e237ebaf9b02880bd47a8ec636c7789a93,3346f8e237ebaf9b02880bd47a8ec636c7789a93,"Use operator== from document_t instead of its identifier’s

This serves to make the code slightly more abstract and allows the document to optimize the comparison operator, e.g. testing pointer equivalence before involving more complex checks."
sorbits,2016-06-18 08:18:26,https://api.github.com/repos/textmate/textmate/git/commits/8175d2d9d83718574de848723f0f62df01553a6a,8175d2d9d83718574de848723f0f62df01553a6a,"Do not observe count of matches until search has completed

We do not display this counter during the search but triggering a KVO notification for each search result has a noticeable overhead and can result in unresponsive UI when the number of results are in the hundreds of thousands."
sorbits,2016-06-18 08:09:34,https://api.github.com/repos/textmate/textmate/git/commits/994f3538f583f7c575febd421342dfab5d16d520,994f3538f583f7c575febd421342dfab5d16d520,"Clear old search results in setDocumentSearch:

That we have an empty results array is a prerequisite for starting a document search, so we should do it in the method itself."
sorbits,2016-06-17 17:58:33,https://api.github.com/repos/textmate/textmate/git/commits/3fab3fe3d0f4f28b186c462226600deddd5c15b5,3fab3fe3d0f4f28b186c462226600deddd5c15b5,"Use CoreFoundation when converting NSString → std::string

This is significantly faster on OS X 10.11.

The API is slightly different so this is probably still faster in macOS 10.12 where there should be less of a performance difference between using Foundation and CoreFoundation."
sorbits,2016-06-17 17:26:46,https://api.github.com/repos/textmate/textmate/git/commits/8483826fae88c6af399dac44b89162bb12902afe,8483826fae88c6af399dac44b89162bb12902afe,Always use '\0' as fill value when creating a string buffer
sorbits,2016-06-17 09:46:04,https://api.github.com/repos/textmate/textmate/git/commits/5d4a14e14ba8416fda073891c392ddea554177b6,5d4a14e14ba8416fda073891c392ddea554177b6,"Bundle Editor: Set bundle item’s name as document’s custom name

This affects the name used for backup files and TM_DISPLAYNAME which could be used by some commands invoked from the bundle editor."
sorbits,2016-06-16 18:25:18,https://api.github.com/repos/textmate/textmate/git/commits/267ad147cd9e4021c81227331cacf65e7d5bb683,267ad147cd9e4021c81227331cacf65e7d5bb683,Checkin release notes
sorbits,2016-06-16 17:57:06,https://api.github.com/repos/textmate/textmate/git/commits/c0637c1037f5a857232994b07d4a5ae55928799a,c0637c1037f5a857232994b07d4a5ae55928799a,"Fix issue with “one file searched” format string

When using $n in a format string placeholder for n > 1 then we must also include $n-1."
sorbits,2016-06-16 17:43:32,https://api.github.com/repos/textmate/textmate/git/commits/258e5449f142fb053e966bab91bb56e18bdea6fb,258e5449f142fb053e966bab91bb56e18bdea6fb,"Improve folder search performance

This relates to documents with many matches on the same (long) line.

Previously we would search for “end of line” per match found, which for a single-line document was effectively quadratic time complexity.

Furthermore we would make a string copy of the entire line for every match. This is now limited to 500 bytes (or longer if the match requires it) with the context before the match being up to 150 bytes (it’s using modulo so adjacent matches should generally show context starting from the same offset).

The test case for the optimization was a 3MB file with only 2 lines and 150,000 matches. After this commit the results are presented in about two seconds (Macbook Pro). Not impressive but much better than before :)"
sorbits,2016-06-16 08:53:11,https://api.github.com/repos/textmate/textmate/git/commits/41ed2817e7e5ac9a4bbf0fbbf2dc74a57a27c5c4,41ed2817e7e5ac9a4bbf0fbbf2dc74a57a27c5c4,"Remove unused ‘searchBackups’ argument from document::find

The function will always search backups and so far there has not been a reason to disable it."
sorbits,2016-06-16 08:43:24,https://api.github.com/repos/textmate/textmate/git/commits/d2b29d69af3d3565974afa3b7228892026c081f9,d2b29d69af3d3565974afa3b7228892026c081f9,"Delete layout and editor objects before closing document

Both of these objects may observe the buffer owned by the document, so we should be sure the observers are gone since closing a document may delete its buffer."
rdwampler,2016-04-20 12:24:55,https://api.github.com/repos/textmate/textmate/git/commits/976a79468bde187e83d75fd8733a65c0ee3bfcd9,976a79468bde187e83d75fd8733a65c0ee3bfcd9,"Prefix some of the menu items in Navigate with ""Jump to""

The Navigate menu now contains a mixture of items with prefixes ""Jump to"", ""Go to"" or none at all. The ""Go to"" prefix is especially inconsistent since we have already have a dedicate ""Go"" item in the Main menu bar. For consistency, change them to use the ""Jump to"" prefix.

The commit also renames the appropriate dialog boxes and updates some documentation to refer to the new names."
rdwampler,2016-04-20 12:18:12,https://api.github.com/repos/textmate/textmate/git/commits/accb60033ea84bea89f6a1c87330cc22ac71297a,accb60033ea84bea89f6a1c87330cc22ac71297a,"Move ""Jump to Selection"" to the Navigate menu

Most Apple applications have this item placed under Edit → Find; however, it fits more naturally in our Navigate menu."
rdwampler,2016-06-14 16:12:40,https://api.github.com/repos/textmate/textmate/git/commits/162b3dee2c08fa235718f54852644548bec68d15,162b3dee2c08fa235718f54852644548bec68d15,"Explicitly link with libc++

When building with Xcode 8 beta (on my system at least), clang produced the following warning:

clang: warning: libstdc++ is deprecated; move to libc++ with a minimum deployment target of OS X 10.9

It appears clang will link with libstdc++ if present by default instead of libc++. This was verified using `otool -L bundles.dylib` which produce the following output prior to this change.

bundles.dylib:
	@rpath/bundles.dylib (compatibility version 1.0.0, current version 1.0.1)
	@rpath/OakSystem.dylib (compatibility version 1.0.0, current version 1.0.1)
	@rpath/io.dylib (compatibility version 1.0.0, current version 1.0.1)
	@rpath/plist.dylib (compatibility version 1.0.0, current version 1.0.1)
	@rpath/regexp.dylib (compatibility version 1.0.0, current version 1.0.1)
	@rpath/scope.dylib (compatibility version 1.0.0, current version 1.0.1)
	@rpath/text.dylib (compatibility version 1.0.0, current version 1.0.1)
	/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 120.1.0)
	/usr/lib/libstdc++.6.dylib (compatibility version 7.0.0, current version 104.1.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1226.10.1)

With this change the output is now:

bundles.dylib:
	@rpath/bundles.dylib (compatibility version 1.0.0, current version 1.0.1)
	@rpath/OakSystem.dylib (compatibility version 1.0.0, current version 1.0.1)
	@rpath/io.dylib (compatibility version 1.0.0, current version 1.0.1)
	@rpath/plist.dylib (compatibility version 1.0.0, current version 1.0.1)
	@rpath/regexp.dylib (compatibility version 1.0.0, current version 1.0.1)
	@rpath/scope.dylib (compatibility version 1.0.0, current version 1.0.1)
	@rpath/text.dylib (compatibility version 1.0.0, current version 1.0.1)
	/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 120.1.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1226.10.1)"
rdwampler,2016-06-14 15:58:58,https://api.github.com/repos/textmate/textmate/git/commits/2ffc48fda92f5bcc4ef4936c03a8bc858418a8f7,2ffc48fda92f5bcc4ef4936c03a8bc858418a8f7,Don't link network framework with crypto
sorbits,2016-06-14 11:03:47,https://api.github.com/repos/textmate/textmate/git/commits/221026472d726945d10ee57efe0cd547d421750b,221026472d726945d10ee57efe0cd547d421750b,Change document_t source to Objective-C++
sorbits,2016-06-14 10:28:19,https://api.github.com/repos/textmate/textmate/git/commits/781eb82c43d7a0e0c35d35360bbe97aff8a21491,781eb82c43d7a0e0c35d35360bbe97aff8a21491,Remove unused support for non-recursive document callbacks
sorbits,2016-06-13 14:59:33,https://api.github.com/repos/textmate/textmate/git/commits/0e52185c005febb273667c1a4594ff43e7a1b36a,0e52185c005febb273667c1a4594ff43e7a1b36a,"Remove const versions of document_t’s buffer and undo_manager

Also remove the document_const_ptr typedef."
rdwampler,2016-06-14 14:40:07,https://api.github.com/repos/textmate/textmate/git/commits/2dbde1673b9fc585e54b76de2d79df6960857ca9,2dbde1673b9fc585e54b76de2d79df6960857ca9,fixup! Ignore /usr/bin/git if /usr/bin/xcode-select -p fails
sorbits,2016-06-12 21:31:45,https://api.github.com/repos/textmate/textmate/git/commits/67e4378a1ec853c0664a562d3eed6f210d299064,67e4378a1ec853c0664a562d3eed6f210d299064,"Don’t cache last-recently-used date in document_t

This optimization is hardly worth the added code complexity."
sorbits,2016-06-12 20:41:33,https://api.github.com/repos/textmate/textmate/git/commits/cc03dd908e6088c4242a3f3e118fa80f5f81cff3,cc03dd908e6088c4242a3f3e118fa80f5f81cff3,Remove document_t’s old reader API
sorbits,2016-06-12 20:40:44,https://api.github.com/repos/textmate/textmate/git/commits/99de97f97680dbbadbbb0a85886d2d93dad9fc69,99de97f97680dbbadbbb0a85886d2d93dad9fc69,Use document_t’s visitor API for folder search
sorbits,2016-06-12 20:36:54,https://api.github.com/repos/textmate/textmate/git/commits/e0daad4ca367868370d88deed63b158dcedbb8f1,e0daad4ca367868370d88deed63b158dcedbb8f1,"Add visitor interface to document_t

This exposes less types and thus it is easier to change the implementation."
sorbits,2016-06-12 20:30:25,https://api.github.com/repos/textmate/textmate/git/commits/9d308e4aa04a496b4007d169892f47aa755774e8,9d308e4aa04a496b4007d169892f47aa755774e8,Use file::reader_t directly (instead of file_reader_t wrapper)
sorbits,2016-06-12 20:27:15,https://api.github.com/repos/textmate/textmate/git/commits/dfd4c1cd6ffd06bba91efeb9cb70efbc38d6263c,dfd4c1cd6ffd06bba91efeb9cb70efbc38d6263c,Remove unused reader subclasses
sorbits,2016-06-11 21:25:45,https://api.github.com/repos/textmate/textmate/git/commits/a60e32b41a828d08124f8407df2dc90fc25cc2ea,a60e32b41a828d08124f8407df2dc90fc25cc2ea,Draw selection in left/right margin when line is fully selected
sorbits,2016-06-11 20:37:24,https://api.github.com/repos/textmate/textmate/git/commits/17574f3d0e632719e7d5779cf12a1cb130d55950,17574f3d0e632719e7d5779cf12a1cb130d55950,Add crash log info to performDragOperation:
sorbits,2016-06-11 18:06:56,https://api.github.com/repos/textmate/textmate/git/commits/c500e3073b8db0853a37f3a9dd9b2740f6ffaa15,c500e3073b8db0853a37f3a9dd9b2740f6ffaa15,"Add document_t wrapper functions to document_view_t

This should make it possible to only deal with a document view (which retains the underlying document)."
sorbits,2016-06-11 17:47:32,https://api.github.com/repos/textmate/textmate/git/commits/18f4d8fc837ed681e7e0a535f059387f3b0d49fd,18f4d8fc837ed681e7e0a535f059387f3b0d49fd,Minor simplification of document_view_t API
sorbits,2016-06-11 17:05:15,https://api.github.com/repos/textmate/textmate/git/commits/3700332f3ee9ad83c7b287b277dda44dfd69bdb1,3700332f3ee9ad83c7b287b277dda44dfd69bdb1,"Change how we obtain visible range for accessibility

This is so that we can remove the index_below function from document_view_t."
sorbits,2016-06-11 16:34:56,https://api.github.com/repos/textmate/textmate/git/commits/a340811771077e1ba5ffdc4096438109aaa44213,a340811771077e1ba5ffdc4096438109aaa44213,"Allow access to buffer_t’s raw storage via the visitor interface

Previously this was done by exposing iterators but for this to go into the abstract base class we sort of need abstract iterators and that is too complex and visitor interface is sufficient for our single use case."
sorbits,2016-06-11 14:11:55,https://api.github.com/repos/textmate/textmate/git/commits/b5747ec6a6f53fd9cb86ffa11d1605945a300181,b5747ec6a6f53fd9cb86ffa11d1605945a300181,Return text::indent_t by value so we can create it on the fly
sorbits,2016-06-11 12:57:27,https://api.github.com/repos/textmate/textmate/git/commits/43849342c657ff086be1d290299205481c01c4ba,43849342c657ff086be1d290299205481c01c4ba,Make find_gutter_view helper function private
sorbits,2016-06-11 12:54:50,https://api.github.com/repos/textmate/textmate/git/commits/a88ef64c13499fffb92dceedb45d287ae6502193,a88ef64c13499fffb92dceedb45d287ae6502193,"Move the undo grouping nest counter to document_view_t

This fixes a problem introduced by 3812a8d1fd3a5c4cf964f15ceeeca529238bc35b where we could end up not closing an undo group because the OakTextView’s document was changed before destruction of the refresh_helper_t."
sorbits,2016-06-11 12:35:56,https://api.github.com/repos/textmate/textmate/git/commits/dcb306175c0f51ad7164da5c0b16c4fc6ddcf08c,dcb306175c0f51ad7164da5c0b16c4fc6ddcf08c,Limit information exposure
sorbits,2016-06-11 10:35:19,https://api.github.com/repos/textmate/textmate/git/commits/d1bcb9f4019c0ee14a0d609563160530f9345d82,d1bcb9f4019c0ee14a0d609563160530f9345d82,Simplify undo/redo API
sorbits,2016-06-11 10:31:09,https://api.github.com/repos/textmate/textmate/git/commits/3747ee8e8f420315d1329877cd3a3883733f9504,3747ee8e8f420315d1329877cd3a3883733f9504,Rename a few member functions
sorbits,2016-06-11 10:05:48,https://api.github.com/repos/textmate/textmate/git/commits/d544b38a33f95281ad573552663322b8f19c7759,d544b38a33f95281ad573552663322b8f19c7759,Remove unnecessary method signature from OakTextView interface
sorbits,2016-06-11 09:48:11,https://api.github.com/repos/textmate/textmate/git/commits/ca424bc5047e4d5fc91c78e221961cddb4dbd537,ca424bc5047e4d5fc91c78e221961cddb4dbd537,Move reading of document specific settings to document_view_t
sorbits,2016-06-11 09:45:33,https://api.github.com/repos/textmate/textmate/git/commits/fe84c5af4849bf16c55e92254196fe580eba0ddf,fe84c5af4849bf16c55e92254196fe580eba0ddf,Move document open/close management to document_view_t
sorbits,2016-06-11 09:44:03,https://api.github.com/repos/textmate/textmate/git/commits/63b15949de84109ef6518493c6579091a51a1dc3,63b15949de84109ef6518493c6579091a51a1dc3,Use member data variable instead of constructor argument
sorbits,2016-06-11 08:33:57,https://api.github.com/repos/textmate/textmate/git/commits/d2259f7333e4ee6cec8b3f775583b66cb256cb30,d2259f7333e4ee6cec8b3f775583b66cb256cb30,Don’t mirror wrap column instance data in OakTextView
sorbits,2016-06-11 08:19:47,https://api.github.com/repos/textmate/textmate/git/commits/b2ce37f1c44e0e086bfa0242b7ae6ca21fbfe0b1,b2ce37f1c44e0e086bfa0242b7ae6ca21fbfe0b1,"Add getter for a layout’s wrap column

Also rename wrapping member function to soft_wrap."
sorbits,2016-06-11 07:47:56,https://api.github.com/repos/textmate/textmate/git/commits/9f1778f7a8e5edd71e1b70d5934b41c8bcc058f0,9f1778f7a8e5edd71e1b70d5934b41c8bcc058f0,Remove document_view_t’s as_string member function
sorbits,2016-06-11 07:42:20,https://api.github.com/repos/textmate/textmate/git/commits/4a4629e3507702944ac9fae0a68bfdd6ebd1014c,4a4629e3507702944ac9fae0a68bfdd6ebd1014c,Add variables member function to document_view_t
sorbits,2016-06-11 07:28:48,https://api.github.com/repos/textmate/textmate/git/commits/436405244e3909b3e3ecc4cdced67e59e829ecd1,436405244e3909b3e3ecc4cdced67e59e829ecd1,Use a unique pointer for document_view_t’s layout_t member
sorbits,2016-06-11 07:26:44,https://api.github.com/repos/textmate/textmate/git/commits/b45212f73d67cf36fd366dfddceb4cf739b83217,b45212f73d67cf36fd366dfddceb4cf739b83217,Make document_view_t’s document instance private
sorbits,2016-06-11 07:22:29,https://api.github.com/repos/textmate/textmate/git/commits/998c0da99908df83d3b6bdface601c57a36b6c62,998c0da99908df83d3b6bdface601c57a36b6c62,Pass document_view_t when a buffer_api_t type is required
sorbits,2016-06-11 07:16:51,https://api.github.com/repos/textmate/textmate/git/commits/db5120c94033e6c6f09777eefd31b07df846d4b9,db5120c94033e6c6f09777eefd31b07df846d4b9,Add buffer_api_t conformance to document_view_t
sorbits,2016-06-11 07:14:26,https://api.github.com/repos/textmate/textmate/git/commits/2ae0f41a101ab100cc48ca2a3a720d3e5c32dae8,2ae0f41a101ab100cc48ca2a3a720d3e5c32dae8,Make write_unit_to_fd helper function work with buffer_api_t
sorbits,2016-06-11 07:10:52,https://api.github.com/repos/textmate/textmate/git/commits/029dab73bedfe4ddec2b7edebb66227d9398a0a6,029dab73bedfe4ddec2b7edebb66227d9398a0a6,"Make to_xml a member function of buffer_t

We could implement this by using the public scopes member function though this function includes dynamic scopes such as misspelled ranges which would change the current semantics of the to_xml helper function.

It might actually make sense to make this change, but I’m avoiding functional changes while refactoring."
sorbits,2016-06-11 06:54:06,https://api.github.com/repos/textmate/textmate/git/commits/36fedf5beef1718babc702d2b74a5a9655f9c558,36fedf5beef1718babc702d2b74a5a9655f9c558,Change most buffer helper functions to accept buffer_api_t
sorbits,2016-06-11 06:48:10,https://api.github.com/repos/textmate/textmate/git/commits/84ef816ec39c6b5cbd228e38ea074b044d74a89f,84ef816ec39c6b5cbd228e38ea074b044d74a89f,"Introduce a buffer_api_t abstract base class

This allows us to use the various helper functions (mainly found in the selection library) with alternative buffer implementations."
sorbits,2016-06-11 06:45:18,https://api.github.com/repos/textmate/textmate/git/commits/9dc2eb0aee5ec5887cc1c0d1e3b6681ae05114ea,9dc2eb0aee5ec5887cc1c0d1e3b6681ae05114ea,Make refresh_helper_t’s document requirement explicit
sorbits,2016-06-10 23:51:06,https://api.github.com/repos/textmate/textmate/git/commits/0a58c4e44db815bf5ab49b36e90d486b5163aaf0,0a58c4e44db815bf5ab49b36e90d486b5163aaf0,Make document_view_t’s layout and editor instances private
sorbits,2016-06-10 23:44:34,https://api.github.com/repos/textmate/textmate/git/commits/857ce3a2e15cc8e8609246b163ab22a6eee45e83,857ce3a2e15cc8e8609246b163ab22a6eee45e83,Pass document_view_t to items_for_tab_expansion
sorbits,2016-06-10 23:32:32,https://api.github.com/repos/textmate/textmate/git/commits/14eb6fdca4fdca2d1f62b935b5c1b0825b223b1e,14eb6fdca4fdca2d1f62b935b5c1b0825b223b1e,Add refresh cycle wrappers to document_view_t
sorbits,2016-06-10 23:05:24,https://api.github.com/repos/textmate/textmate/git/commits/18eb5b98a8ada5f4cb311a6ee9b1793e48ea718f,18eb5b98a8ada5f4cb311a6ee9b1793e48ea718f,Remove layout_t argument from document_view_t::perform
sorbits,2016-06-10 22:54:06,https://api.github.com/repos/textmate/textmate/git/commits/424f396c86b15624fefb2c5bae870ffad135358e,424f396c86b15624fefb2c5bae870ffad135358e,Add document_t::set_indent wrapper to document_view_t
sorbits,2016-06-10 22:13:33,https://api.github.com/repos/textmate/textmate/git/commits/c1c92e21c15825ad8351bd81b8b2517e2b3554ff,c1c92e21c15825ad8351bd81b8b2517e2b3554ff,"Add namespace qualifier to some helper functions

This should make their origin more clear."
sorbits,2016-06-10 22:12:14,https://api.github.com/repos/textmate/textmate/git/commits/e77049d55f7558554be5b259c98bfabd590e37c9,e77049d55f7558554be5b259c98bfabd590e37c9,Add buffer_t::operator[] wrapper to document_view_t
sorbits,2016-06-10 21:44:50,https://api.github.com/repos/textmate/textmate/git/commits/7d7914c46b4f06a2ba37ab51652b40fdd0d7f852,7d7914c46b4f06a2ba37ab51652b40fdd0d7f852,Add undo_manager_t wrapper functions to document_view_t
sorbits,2016-06-10 21:39:23,https://api.github.com/repos/textmate/textmate/git/commits/03529a0184c55c28a3f4bad377fed8c0ca0ff435,03529a0184c55c28a3f4bad377fed8c0ca0ff435,Add buffer_t wrapper functions to document_view_t
sorbits,2016-06-10 21:10:57,https://api.github.com/repos/textmate/textmate/git/commits/9be3c12879917788eb2ced74e113c1fcfe97aba7,9be3c12879917788eb2ced74e113c1fcfe97aba7,Add editor_t wrapper functions to document_view_t
sorbits,2016-06-10 20:47:01,https://api.github.com/repos/textmate/textmate/git/commits/3d175d3ff7c5c6669c4d87f0988814398e1052fd,3d175d3ff7c5c6669c4d87f0988814398e1052fd,Add layout_t wrapper functions to document_view_t
sorbits,2016-06-10 20:45:00,https://api.github.com/repos/textmate/textmate/git/commits/f7e61679b9ef5218bc34b3c10181f167593e0c2a,f7e61679b9ef5218bc34b3c10181f167593e0c2a,Add missing space (coding style)
sorbits,2016-06-10 20:21:32,https://api.github.com/repos/textmate/textmate/git/commits/2a0a3b6172ae2aef3977e2346c438eb12656a49e,2a0a3b6172ae2aef3977e2346c438eb12656a49e,Pass document_view_t to refresh helper instead of its members
sorbits,2016-06-10 20:09:37,https://api.github.com/repos/textmate/textmate/git/commits/84d83c93ed4be13019ecba82f3c770fdb30b9bb0,84d83c93ed4be13019ecba82f3c770fdb30b9bb0,"Introduce wrapper for editor_t and layout_t

This is first step toward consolidation of document_t, buffer_t, editor_t, and layout_t."
sorbits,2016-06-10 19:20:25,https://api.github.com/repos/textmate/textmate/git/commits/10e6527eaaa91e819924c037c0eb11b80f21bc99,10e6527eaaa91e819924c037c0eb11b80f21bc99,"Remove unused indentCorrections property from OakTextView

The intent was to expose indent settings via the UI which is still a goal, but we’ll do a lot of refactoring first, so removing unused public API to make refactoring simpler."
sorbits,2016-06-10 19:19:18,https://api.github.com/repos/textmate/textmate/git/commits/b59dee8e6d9cc31ab073bfa4e4a58fb4a5282a8f,b59dee8e6d9cc31ab073bfa4e4a58fb4a5282a8f,Use semantic assertion
sorbits,2016-06-10 19:18:54,https://api.github.com/repos/textmate/textmate/git/commits/02a5747f8978cf2e124248c9df21a4c384c15c6a,02a5747f8978cf2e124248c9df21a4c384c15c6a,"Ignore /usr/bin/git if /usr/bin/xcode-select -p fails

On recent OS versions the /usr/bin/git executable will prompt the user to install git (if Xcode is not already installed) which can cause some user confusion, so we now avoid using /usr/bin/git unless Xcode is installed."
sorbits,2016-06-07 21:18:35,https://api.github.com/repos/textmate/textmate/git/commits/c136a21804d1ebc95eaefe1054b7dd984698b540,c136a21804d1ebc95eaefe1054b7dd984698b540,"Use indexed_map_t to track foldable lines

It is not clear to me whether there was a reason that this code was using the basic_tree_t directly or if it was just written before the indexed_map_t layer was introduced."
sorbits,2016-06-07 21:15:21,https://api.github.com/repos/textmate/textmate/git/commits/ec42982b1326e9348e485cd69725b7015ed55a06,ec42982b1326e9348e485cd69725b7015ed55a06,Simplify code to setup folding patterns
sorbits,2016-06-07 21:08:07,https://api.github.com/repos/textmate/textmate/git/commits/39a7d5a867b314e2a679891d349f6174c853dcff,39a7d5a867b314e2a679891d349f6174c853dcff,"Do not prevent coalescing last edit when redoing it

We always undo the last edit without any coalescing so the user can be sure that ⌘Z only undos the last thing they did. For redo though this makes less sense, although it does break symmetry, i.e. pressing ⌘Z n times will bring us back again by pressing ⇧⌘Z only n-1 times."
sorbits,2016-06-07 21:02:52,https://api.github.com/repos/textmate/textmate/git/commits/32be8a45415d2d120607014a356f34efa6b5968f,32be8a45415d2d120607014a356f34efa6b5968f,Cap line/column given to buffer_t::convert
sorbits,2016-06-03 13:23:44,https://api.github.com/repos/textmate/textmate/git/commits/20fb69494b56b0bfbbfb1edd7d814c6ead3e94ea,20fb69494b56b0bfbbfb1edd7d814c6ead3e94ea,"Make two buffer_t member functions private

One of them is used by the undo manager so we declare undo_manager_t a friend of buffer_t."
sorbits,2016-06-03 13:21:23,https://api.github.com/repos/textmate/textmate/git/commits/59c5b0023daf4e1bca3882f023a2ceb5fcfdd8f5,59c5b0023daf4e1bca3882f023a2ceb5fcfdd8f5,Refactor: Consistent buffer_t parameter name (buf → buffer)
sorbits,2016-06-02 13:21:50,https://api.github.com/repos/textmate/textmate/git/commits/414c336ba92a9031549f4651816a1f6f6bdeb739,414c336ba92a9031549f4651816a1f6f6bdeb739,Remove descendants when mark to remove has a trailing slash
sorbits,2016-06-02 13:19:41,https://api.github.com/repos/textmate/textmate/git/commits/8e8a647e25222d35f967f5de92a679eab014dda6,8e8a647e25222d35f967f5de92a679eab014dda6,"Add algorithm to erase descendent keys form a std::map

This can be used when the key is name spaced, e.g. `/foo/bar` or `foo.bar`. Here we can erase everything under foo by using `/foo/` or `foo.` respectively."
sorbits,2016-05-31 10:30:26,https://api.github.com/repos/textmate/textmate/git/commits/4ee49c95f6cc90a49a580d75d9b7d7f76118ae59,4ee49c95f6cc90a49a580d75d9b7d7f76118ae59,Remove forward declaration of non-existing data type
nanoant,2016-05-31 12:22:45,https://api.github.com/repos/textmate/textmate/git/commits/aba1eb42ace2c17b42974c245779256d6d44eaad,aba1eb42ace2c17b42974c245779256d6d44eaad,"Exclude given scopes when extending selection

This introduces new scope setting - excludeFromParagraphSelection, that
prevents extending selection to some scopes, eg. on comment.line.

Previously when reformatting paragraph comment lines were selected as paragraph
lines, this have led to mixing comment content into reformatted paragraph
content breaking the syntax of reformatted code, eg.:

  some very long ... line of text
  # some comment
  some other long ... line of text

As an effect we got:

  some very long ...
  ... text # some comment some other ...
  ... line of text

The problem described above was especially visible when using ⌃Q to Reformat
block of Git commit message, when below of the typed text there was a Git
default comment. Also this problem could be noticeable by authors using LaTeX.

This change checks whether a candidate line scope for paragraph extension has a
excludeFromParagraphSelection set to true and breaks upon such line, eg.
comment line.

Doing Select Paragraph ⌃⌥P again will select the comment as well."
sorbits,2016-05-30 13:14:39,https://api.github.com/repos/textmate/textmate/git/commits/4899fa17f18aacef591ea81357894f35fa456890,4899fa17f18aacef591ea81357894f35fa456890,Checkin release notes
sorbits,2016-05-30 12:39:16,https://api.github.com/repos/textmate/textmate/git/commits/b2940e56c93909bad45a697aa951f71723bf2536,b2940e56c93909bad45a697aa951f71723bf2536,"Gutter images are only drawn as monochrome when isTemplate is YES

This allows adding color swatches to the gutter e.g. to show CSS colors."
sorbits,2016-05-30 12:12:44,https://api.github.com/repos/textmate/textmate/git/commits/19b5b3f9a16f5bd1cabf292ab542d6d835491dfe,19b5b3f9a16f5bd1cabf292ab542d6d835491dfe,"Add “Template” suffix to note, warning, error, and search images

If we fail to load an image by name then we try again with a “Template” suffix so that commands can still set marks using just `note`, `warning`, and `error`.

When loading by full path and the path (minus extension) has a “Template” suffix then we manually set the image’s template property to YES since the system only seems to do this for images loaded from bundles."
sorbits,2016-05-30 11:57:12,https://api.github.com/repos/textmate/textmate/git/commits/0457c189c8bdf4e941e0afc40a5e477f9db8f48e,0457c189c8bdf4e941e0afc40a5e477f9db8f48e,"Add “Template” suffix to bookmark and folding gutter images

Currently we assume that all images are template images and thus render them as such, but this might change."
sorbits,2016-05-30 10:18:59,https://api.github.com/repos/textmate/textmate/git/commits/ce41c94d93959cae827e9bbf7d43252a697e5d0a,ce41c94d93959cae827e9bbf7d43252a697e5d0a,"Multiple semantic classes can now be assigned to a bundle item

The classes should be given as a comma-separated list and is mainly useful because the semantic class system doubles as a way to indicate that an item should be used as a callback."
sorbits,2016-05-30 10:00:44,https://api.github.com/repos/textmate/textmate/git/commits/57d64d515a0126f954eb5bfa6f21804b5f340fc0,57d64d515a0126f954eb5bfa6f21804b5f340fc0,"Introduce new callback: callback.document.did-open

Bundle items using this as their semantic class will be executed when the document is first loaded."
sorbits,2016-05-29 19:19:07,https://api.github.com/repos/textmate/textmate/git/commits/c649aed750bbd8510d7620e1a8abcd5754dea0a1,c649aed750bbd8510d7620e1a8abcd5754dea0a1,Update window title for Recent Projects dialog
sorbits,2016-05-29 19:17:31,https://api.github.com/repos/textmate/textmate/git/commits/a198d3c25b9d92ae3923c73b34ba7de2a6c19a65,a198d3c25b9d92ae3923c73b34ba7de2a6c19a65,"Rename Open Favorites… menu item to Recent Projects…

Also use ellipsis glyph for the Open… menu item."
sorbits,2016-05-29 18:51:57,https://api.github.com/repos/textmate/textmate/git/commits/0af49d6d27cd435269321a66ace467ae8f07842b,0af49d6d27cd435269321a66ace467ae8f07842b,"Folding indented blocks no longer include trailing empty lines

The rationale for this is that when empty lines are included it leaves no whitespace between functions.

Example and TextMate 1.x behavior described here: http://pastie.org/private/lgtnlvc8tdvghoppocob5q"
sorbits,2016-05-28 20:14:20,https://api.github.com/repos/textmate/textmate/git/commits/cda4b3fd63a1509a18122a53bfb145f8b08b7d17,cda4b3fd63a1509a18122a53bfb145f8b08b7d17,Fix typo in release notes (horizontal → vertical)
sorbits,2016-05-28 20:10:32,https://api.github.com/repos/textmate/textmate/git/commits/e83fee564c77dd1c035d2df354a3674e264578d5,e83fee564c77dd1c035d2df354a3674e264578d5,Refactor: use emplace_back(…) instead of push_back(make_pair(…))
sorbits,2016-05-28 20:07:11,https://api.github.com/repos/textmate/textmate/git/commits/63ce2970124b3beec29d779767c8176707918ddc,63ce2970124b3beec29d779767c8176707918ddc,"Fix issue with lines matched by multiple folding patterns

Previously when a line was a start or stop marker, and was also matched by `foldingIndentedBlockIgnore` then we would set the line’s indent to INT_MAX to ensure the line would not terminate a foldable indented section, i.e. basically storing the “line should be ignored” in the indent since the line’s type was already set to start or stop marker (rather than “ignored line”).

However, the indent is used to pair start/stop markers, so if only one of a start/stop pair was also matched as an ignored line, they would not be considered a pair because of the different indent levels. The opposite could also be the case, where two lines with different indent were both ignored, and this was seen to share the same indent.

This partially reverts commit 337ac1219d8d53c8e6e119f634b59c3b23613d14."
sorbits,2016-05-25 07:51:37,https://api.github.com/repos/textmate/textmate/git/commits/be742809931458b158fbc61d98852b0146606534,be742809931458b158fbc61d98852b0146606534,Checkin release notes
sorbits,2016-05-24 19:56:00,https://api.github.com/repos/textmate/textmate/git/commits/039b787d37398e96daa10d0f9f8f6ad7d5888d0b,039b787d37398e96daa10d0f9f8f6ad7d5888d0b,"Use same newline heuristic for open document and find in folder

Previously the heuristic used (when files mix LF, CR, and CRLF) for searching files on disk (find in folder) was not identical to the heuristic used when opening files.

This meant that in rare situations a match could be found at what the find in folder determined to be the n’th line, but when opening the file, it was the m’th line (where m != n)."
sorbits,2016-05-24 15:06:50,https://api.github.com/repos/textmate/textmate/git/commits/91a7fa0ad2425100927e05c9231cd6a71bc229dc,91a7fa0ad2425100927e05c9231cd6a71bc229dc,"Change heuristic to detect line endings

Only if there is consistent use of CR or CRLF will we treat the file as such, otherwise it is treated as LF delimited."
sorbits,2016-05-24 14:51:36,https://api.github.com/repos/textmate/textmate/git/commits/0e7a04cedef576d48e570170ec37d9f7d0f61474,0e7a04cedef576d48e570170ec37d9f7d0f61474,"Don’t treat extraneous CRs when converting from CRLF

Our previous method of converting CR/CRLF files to LF representation was somewhat heuristic in that we would convert all CRs to LF and skip any LF following a CR.

While files should generally not mix and match line endings, it does occasionally happen in practice, and in that case, we do not want to “lose information” by converting too many newline characters to LF."
sorbits,2016-05-24 14:49:54,https://api.github.com/repos/textmate/textmate/git/commits/b202ad3e024d14e514100b927bc9f371f4467b7b,b202ad3e024d14e514100b927bc9f371f4467b7b,"Support arbitrary newlines for search result excerpts

Previously we expected only LF to mark a newline but in theory we can receive CRLF or CR separated text (from files on disk) which would cause incorrect excerpt for matches crossing line boundaries."
sorbits,2016-05-24 14:39:17,https://api.github.com/repos/textmate/textmate/git/commits/7c074b92e5be1f0ffdbcd9434817215b7492c7c1,7c074b92e5be1f0ffdbcd9434817215b7492c7c1,Show carriage return in search results as <CR> using light grey
sorbits,2016-05-24 14:37:08,https://api.github.com/repos/textmate/textmate/git/commits/2f2451cd5eac4b4978700131a5916b52cc588ad4,2f2451cd5eac4b4978700131a5916b52cc588ad4,"Refactor code to generate attributed string for search results

This makes it easier to make other transformations than the current tab → em-space."
sorbits,2016-05-22 20:32:58,https://api.github.com/repos/textmate/textmate/git/commits/3a2fc26c7941f483986b91b762a08025ad162b7a,3a2fc26c7941f483986b91b762a08025ad162b7a,"Handle return key for text view in Unknown Encoding sheet

Without full keyboard access enabled (System Preferences → Keyboard) the text view in the Unknown Encoding dialog would be the initial first responder, and while it’s read-only, pressing return would make the text view give up focus, rather than send the key to the window’s default button."
sorbits,2016-05-17 08:59:15,https://api.github.com/repos/textmate/textmate/git/commits/0a9c70e7cbe686fbe254b593c6c62d78395802c9,0a9c70e7cbe686fbe254b593c6c62d78395802c9,Fix bad indent (was using spaces instead of tabs)
sorbits,2016-05-09 14:28:34,https://api.github.com/repos/textmate/textmate/git/commits/17ea3ec568a65ec5ca515bdf44e600147b375f47,17ea3ec568a65ec5ca515bdf44e600147b375f47,"To open document in new project the null UUID must be used

Previously when providing a project UUID while opening a document, and no project used this UUID, TextMate would create a new project (with this UUID).

This was both a way to force a file to open in its own project, and to open multiple files in the same project, even though they did not share project folder.

The problem is that `mate` will read the `TM_PROJECT_UUID` environment variable and use as target project, which is generally desired, but incase we launch a new application from TextMate, and this application later opens a file via `mate`, it will use the old `TM_PROJECT_UUID` value, which might no longer exist.

We still allow forcing files to open in their own project by introducing a special “null UUID”, but with this change, it is no longer possible to use multiple invocations of `mate` to open unrelated files in the same project. Should this be desired, we can re-introduce this feature but require that `mate` is given the UUID via its -p/--project argument.

Fixes textmate/latex.tmbundle#150"
sorbits,2016-05-08 21:21:31,https://api.github.com/repos/textmate/textmate/git/commits/0ca13d8f2500e2abf12dd26f6a7d2765ac79d915,0ca13d8f2500e2abf12dd26f6a7d2765ac79d915,"Opening document on non-active desktop gave key to wrong window

When our application is activated and our key window is on a non-active desktop with windows on the active desktop, the system will give focus to one of the windows on the active desktop.

To workaround this we make our window key after our application has become active."
sorbits,2016-05-08 21:17:26,https://api.github.com/repos/textmate/textmate/git/commits/59ef52b1f67d35cc549776ddf625f5609b6d422f,59ef52b1f67d35cc549776ddf625f5609b6d422f,"Don’t special-case bringing window to front when app is hidden

It used to be that if we called unhideWithoutActivation followed by makeKeyAndOrderFont:, and finally activateIgnoringOtherApps: then we would end with only the key window on top of other windows in the desktop space.

E.g. from a terminal (with TextMate hidden) using “mate -w” would cause only a single window to open on top of the terminal window, which seemed like desired behavior.

Unfortunately Apple have changed the behavior so there is no need to explicitly call unhideWithoutActivation as this is implied by activateIgnoringOtherApps:."
sorbits,2016-05-07 11:00:55,https://api.github.com/repos/textmate/textmate/git/commits/417193e089485457ad392f86fcb10c7dd2fe5b8f,417193e089485457ad392f86fcb10c7dd2fe5b8f,"Update link dependencies for all targets

Some targets were including headers from frameworks not specified in their link dependencies. For a clean build this could cause an issue because the header was not available at the time of building the target.

The updated link dependencies are also based on what a target’s tests require. Ideally tests would have separate link dependencies, but as we don’t want to maintain this manually, this will have to wait until the build system automatically handles link dependencies.

Currently the commit command uses constants from the CommitWindow framework but should actually not be linked with it. However, the optimizer will strip dead code, so it should not result in much if any difference in the resulting binary and does solve a build dependency issue."
bj7,2016-04-24 14:12:14,https://api.github.com/repos/textmate/textmate/git/commits/263da53c8166273859c91c1a88ef2157d1d05ca8,263da53c8166273859c91c1a88ef2157d1d05ca8,"Optionally draw a horizontal line for every tab stop

This can be toggled using View → Show/Hide Indent Guides or controlled per file type via the `showIndentGuides` setting in `.tm_properties`."
sorbits,2016-04-27 19:35:26,https://api.github.com/repos/textmate/textmate/git/commits/2adf6aaf3c37fd99b80795da6b2b3d4095f28006,2adf6aaf3c37fd99b80795da6b2b3d4095f28006,"Enable layout constraints for the print panel auxiliary view

If this is not done, we get an “unable to simultaneously satisfy constraints” warning on 10.11.4 and possibly earlier versions. This is likely because the print dialog was redone to use layout constraints, but I don’t know which version of OS X nor do I know how this change affect the print dialog prior to the introduction of layout constraints."
sorbits,2016-04-19 04:10:31,https://api.github.com/repos/textmate/textmate/git/commits/e38f529ba0237d78b9130c11e17633a049085849,e38f529ba0237d78b9130c11e17633a049085849,Checkin release notes
sorbits,2016-04-18 13:17:21,https://api.github.com/repos/textmate/textmate/git/commits/70d7587967363d4170ba3b010912ec78ae075c6b,70d7587967363d4170ba3b010912ec78ae075c6b,"Change Jump to Next/Previous Mark shortcuts to F3/⇧F3

This is consistent with Next/Previous Bookmark shortcuts bound to F2/⇧F2.

The problem with ⌘> and ⌘< is that these keys are used to cycle through windows on some keyboard layouts.

Discussion at issue #1316."
sorbits,2016-04-18 13:10:17,https://api.github.com/repos/textmate/textmate/git/commits/337ac1219d8d53c8e6e119f634b59c3b23613d14,337ac1219d8d53c8e6e119f634b59c3b23613d14,"Preserve indent ignore matches for start/stop fold markers

See issue at http://lists.macromates.com/textmate/2016-January/039183.html

This is a continuation of 536ea62f2d56ed72022148f84928f10f52419a8f"
orta,2016-04-10 11:33:25,https://api.github.com/repos/textmate/textmate/git/commits/34fa11ab3dbb78d31a2ff55d80c9e104cc85e75a,34fa11ab3dbb78d31a2ff55d80c9e104cc85e75a,Add a horizontal 2px margin on the Folding closed indicator
briantkelley,2015-12-30 09:04:19,https://api.github.com/repos/textmate/textmate/git/commits/2dd825515e343a036172859492e25abfc22de3da,2dd825515e343a036172859492e25abfc22de3da,"Double Click to Select Typing Pairs

TextMate highlights certain character pairs (e.g. { }) when the caret passes over either of the characters. It can be useful to double click to select the text in between and including the character pairs for deleting code, copying code, for visually differentiating the affected code, etc. Add a select_unit_type, kSelectionExtendToWordOrTypingPair, to select the inclusive bounds of a typing pair if a match is found, or otherwise select a word as normal.

This patch is free and released into the public domain."
sorbits,2016-03-05 09:55:29,https://api.github.com/repos/textmate/textmate/git/commits/cd49f0e051c188f656d37ddde2b061bd7b99ac45,cd49f0e051c188f656d37ddde2b061bd7b99ac45,Checkin release notes
rdwampler,2016-02-01 19:45:31,https://api.github.com/repos/textmate/textmate/git/commits/18a79d3a3c8c2604688ca798ddcd77c25fa776de,18a79d3a3c8c2604688ca798ddcd77c25fa776de,Inactivate corresponding navigation menu items if no marks are present
rdwampler,2016-01-29 19:19:03,https://api.github.com/repos/textmate/textmate/git/commits/04af5fa295d380e58ce741e7493cb6fa0260a9d1,04af5fa295d380e58ce741e7493cb6fa0260a9d1,Add menu items to allow navigating to arbitrary marks
sorbits,2016-02-25 06:18:20,https://api.github.com/repos/textmate/textmate/git/commits/61ed07e2c3468a5c65046e48b93d1e46867efe7e,61ed07e2c3468a5c65046e48b93d1e46867efe7e,Refactor
sorbits,2016-02-25 06:11:12,https://api.github.com/repos/textmate/textmate/git/commits/e80f1ff49f21385fbdc65a4c2898d95413d19fba,e80f1ff49f21385fbdc65a4c2898d95413d19fba,"Leaving out mark type will search for next/previous of any type

This commit is based on work by Ronald Wampler."
sorbits,2016-02-25 02:47:30,https://api.github.com/repos/textmate/textmate/git/commits/42b6c04089d67f42bbec0aacbfb5a1eeebeb0b41,42b6c04089d67f42bbec0aacbfb5a1eeebeb0b41,"Load plug-ins before bundles

The reason is that if there are no bundles, we will extract the default set to Application Support, and in doing so, we call tar which implicitly sets up the command environment, which is re-used for all successive commands.

The problem is that loading a plug-in may add to the environment (e.g. setting the DIALOG environment variable), so if plug-ins are loaded after the call to tar (as would be the case for on a clean system), the DIALOG variable will be missing from the environment.

Kudos to René Schwaiger for discovering this issue."
sorbits,2016-02-05 10:37:06,https://api.github.com/repos/textmate/textmate/git/commits/ac3e69b443a617de9415cc3c336e6c8432a53db9,ac3e69b443a617de9415cc3c336e6c8432a53db9,"Group themes using their semantic class

The semantic class must be of the form: `theme.«group»[.«whatever»]*`.

If a theme lacks a semantic class, or the semantic class does not have a `theme.` prefix then the theme gets into the “unspecified” group.

In theory we could analyze the themes for dark/bright background, but manually classifying themes seems more flexible, for example some themes have a transparent background, which we could put into their own group."
sorbits,2016-02-05 09:52:49,https://api.github.com/repos/textmate/textmate/git/commits/26bee58d20050e7c1e9707e3b1ebc1c94793e86f,26bee58d20050e7c1e9707e3b1ebc1c94793e86f,Use proper (NSInteger) type when dealing with Objective-C
rdwampler,2016-02-02 14:50:44,https://api.github.com/repos/textmate/textmate/git/commits/87df09684f03ac81f35e459bc1d5e0a18db1913c,87df09684f03ac81f35e459bc1d5e0a18db1913c,"CommitWindow: Force update of constraints after animation is completed

This is necessary to prevent resizing of the document view when removing and then immediately adding a new constraint to the document view."
nanoant,2016-01-02 11:50:24,https://api.github.com/repos/textmate/textmate/git/commits/272f6911637a2f355d8f700cd2ba34fdeef6f7b1,272f6911637a2f355d8f700cd2ba34fdeef6f7b1,"Edit->Spelling->System using system language

This sets '' (empty identifier) in Global.tmProperties that switches to system
specified spelling language (usually Automatic by Default which is OS X
default). It serves as a way back to the default when user picks any other
language than default from the menu for current buffer (effectively for
documents's directory)."
sorbits,2016-02-04 16:00:33,https://api.github.com/repos/textmate/textmate/git/commits/0a8360a8aa8785592d2bebaa78d04efba0746272,0a8360a8aa8785592d2bebaa78d04efba0746272,"Add helper function to obtain the name for a locale identifier

E.g. da → Dansk, pl → Polski, etc."
nanoant,2016-01-02 11:44:56,https://api.github.com/repos/textmate/textmate/git/commits/83653f7b89421644a00992230f616238fed62c19,83653f7b89421644a00992230f616238fed62c19,"Settings: Empty string should be serialized as ''

Otherwise we get syntax error reading back the value from Global.tmProperties."
nanoant,2015-12-28 12:40:17,https://api.github.com/repos/textmate/textmate/git/commits/e59db8375f33c8374385dec581bf9dadfcd43d96,e59db8375f33c8374385dec581bf9dadfcd43d96,"Use panel language unless spellingLanguage is specified

This partially reverts changes of 3fdc72b93af0167e234c48314658d702f65a8a5f:
Support spell checking being “automatic by language”.

Before 3fdc72b spellingLanguage .tm_properties setting (default ""en"") was the
only way to set spelling language for file (buffer). English was default
language for all files. 3fdc72b introduced change that when “automatic by
language” was selected in system's spelling panel then TextMate was ignoring
spellingLanguage setting and was using automatic by language.

However because “automatic by language” is default on OS X, effectively 3fdc72b
makes spellingLanguage setting no longer effective. To make it work one needs
to set explicit spelling language either in System Preferences or in spelling
panel upon each TextMate run (since this is getting reset after application
restart) - which is counter-intuitive, can be treated as regression and it is
vaguely described in ChangeLog:

 * Support spell checking being “automatic by language”. This is set via the
   spelling panel.

This change presents alternative approach, introducing new empty
spellingLanguage setting """" (which is now default), which makes use system
panel language setting, including “automatic by language”.

From now on all files will be checked against system panel selected language
(or automatic), unless .tm_properties project specifies explicitly language for
given file using, eg.:

    [ locale-en_US.ini ]
    spellingLanguage = en_US

    [ locale-pl_PL.ini ]
    spellingLanguage = pl_PL

Or automatically depending on file name:

    [ locale-*.ini ]
    spellingLanguage = '${TM_FILEPATH/^.*locale-([a-z]+_[A-Z]+).*$/$1/}'"
rdwampler,2016-01-27 14:35:11,https://api.github.com/repos/textmate/textmate/git/commits/9c3923b4854a9bf910c6a26531e77f2be8524aba,9c3923b4854a9bf910c6a26531e77f2be8524aba,"Ensure path exists when adding document to Recent menu

It's possible that the path on the document is set even though it does not exist on disk. E.g., when using `mate` to create a new document from the command line."
mkhl,2016-01-04 08:31:41,https://api.github.com/repos/textmate/textmate/git/commits/a7d069fb40fd1f162189c9597b9580e3e2113fc7,a7d069fb40fd1f162189c9597b9580e3e2113fc7,Build with Travis
mkhl,2016-01-04 08:31:41,https://api.github.com/repos/textmate/textmate/git/commits/597a49015df15b2114b67d09bf022f10ebff3e61,597a49015df15b2114b67d09bf022f10ebff3e61,"Run tests synchronously by default

Running tests in parallel (which is the default)
results in spurious failures in the `scm` git tests,
probably due to an undiagnosed race condition.

This change lets tests run serially by default,
but provides a flag `-p` (or `--parallel`)
which enables running them in parallel again.

It also adds a variable `test_flags`
which is passed to each test run,
and which can be set by running

    env test=""-v"" ./configure"
mkhl,2016-01-04 08:31:41,https://api.github.com/repos/textmate/textmate/git/commits/bbced5c3f3feaad07a204c98214c2a6b420295b8,bbced5c3f3feaad07a204c98214c2a6b420295b8,"Protect `gen_credits` against invalid responses

The `gen_credits` scripts can spuriously fail
raising this error in the `user_by_email` method

    NoMethodError: undefined method `[]' for nil:NilClass

when `YAML.load(response.body)` returns nil.

This change protects the build against these failures
by returning nil early."
mkhl,2016-01-15 07:47:22,https://api.github.com/repos/textmate/textmate/git/commits/5960f139a05d4b2110c7e3c0567079e0d669da28,5960f139a05d4b2110c7e3c0567079e0d669da28,"Add prototype for bug macro

Compiling code that uses the `bug` macro
while the `NDEBUG` symbol is defined
(which it is by default)
results in “expression result unused” warnings
for each argument to the `bug` call.

This change adds the parameter declaration
from the debug version to the non-debug version,
which silences these warnings."
sorbits,2016-01-13 23:18:20,https://api.github.com/repos/textmate/textmate/git/commits/2ec4e0d50ce7878fa578fdd9acc7c158f5e54304,2ec4e0d50ce7878fa578fdd9acc7c158f5e54304,Update copyright to 2016
sorbits,2015-12-07 00:19:38,https://api.github.com/repos/textmate/textmate/git/commits/ac08ce04f789914af2c8ae82976a4b80c6d38644,ac08ce04f789914af2c8ae82976a4b80c6d38644,"Disable app transport security

This is only required for the WebView which many bundle commands use to show online documentation and similar.

It’s impractical to maintain a whitelist of allowed domains."
sorbits,2015-12-07 00:15:43,https://api.github.com/repos/textmate/textmate/git/commits/ce4572ef2b153d8bf5bc3eb160d6db13223cece6,ce4572ef2b153d8bf5bc3eb160d6db13223cece6,"Convert TextMate’s Info.plist from old-style to XML

This is required for storing boolean values which the new NSAppTransportSecurity setting must use. It does not work using `YES` or `1` to represent `<true/>`."
sorbits,2015-12-06 13:12:23,https://api.github.com/repos/textmate/textmate/git/commits/33f945eb02e187da218a3a0a3b62865ea42dfdc0,33f945eb02e187da218a3a0a3b62865ea42dfdc0,Checkin release notes
sorbits,2015-12-06 12:52:37,https://api.github.com/repos/textmate/textmate/git/commits/78da1357fd2d9354546378e320b9e37cf8759fd1,78da1357fd2d9354546378e320b9e37cf8759fd1,"File browser no longer refuses first responder on mouse clicks

Previously we would only accept first responder if clicking an already selected item, this was so that the user could select items in the file browser without losing focus from the text editor.

Unfortunately after switching to a view-based file browser, clicking an already selected item (even when the file browser does not have focus) brings up an edit-in-place text field which is undesired.

Worse is that it is brought up after a delay, so a user may for example click the file browser (to give it focus) and instantly initiates an action like duplicate, which brings up the edit-in-place text field for the new copy, but then after a short delay, will move the edit-in-place text field to the originally clicked item."
sorbits,2015-11-20 06:33:01,https://api.github.com/repos/textmate/textmate/git/commits/b83f312e53b1e26c43bc4eedafd8fab38ad6ac67,b83f312e53b1e26c43bc4eedafd8fab38ad6ac67,"Remove dummy initializer method

With the 10.11 SDK we get a warning about this initializer not calling super, however, we do not intend for instances of this class to be created, which is why we had the dummy initializer.

We should remove this class entirely, as it’s a workaround for a problem that was fixed a long time ago, but I haven’t yet tested if there are still bundles using the (legacy) tm-file: URL scheme."
sorbits,2015-11-20 06:30:05,https://api.github.com/repos/textmate/textmate/git/commits/edb38b056854b6021a3b855b5bdd27db2a78dd93,edb38b056854b6021a3b855b5bdd27db2a78dd93,"Refactor code to avoid overloading a system method

We were getting a warning because our method was called with nil, but the system method should be called with a non-nil argument."
sorbits,2015-11-20 06:25:02,https://api.github.com/repos/textmate/textmate/git/commits/5af24f2c5ecbbb1060c78ea33dc057888b5860d5,5af24f2c5ecbbb1060c78ea33dc057888b5860d5,"Call super’s init in designated initializer

This is to silence new warnings."
sorbits,2015-11-20 06:13:47,https://api.github.com/repos/textmate/textmate/git/commits/bdbf82837f2485bed85683f6c1b1ff553f3671b7,bdbf82837f2485bed85683f6c1b1ff553f3671b7,Add typecast to suppress warning with 10.11 SDK
sorbits,2015-11-20 06:09:29,https://api.github.com/repos/textmate/textmate/git/commits/34784570983e0979f0180b5dc7e7d61e0f54fc11,34784570983e0979f0180b5dc7e7d61e0f54fc11,Pass non-null arguments where the 10.11 SDK requires it
sorbits,2015-11-19 15:34:54,https://api.github.com/repos/textmate/textmate/git/commits/bef024c73c16505a25f032b685f12b18a309530b,bef024c73c16505a25f032b685f12b18a309530b,"Support using “force click” to look up words

This must be set in System Preferences → Trackpad → Look up & data detectors."
sorbits,2015-11-19 15:29:27,https://api.github.com/repos/textmate/textmate/git/commits/edf2923f3a90d1d589b837f144ced954693ed96e,edf2923f3a90d1d589b837f144ced954693ed96e,Allow obtaining character rectangle placed on the baseline
sorbits,2015-11-18 02:29:56,https://api.github.com/repos/textmate/textmate/git/commits/8c19532531b85539e998472ad3c502013e5351e4,8c19532531b85539e998472ad3c502013e5351e4,"Don’t change user defaults in background queue

The problem is that when we change user defaults a notification is posted, and this runs on the thread that did the change, so our own “user defaults did change” notification callbacks are executed on a background thread."
sorbits,2015-11-13 08:24:52,https://api.github.com/repos/textmate/textmate/git/commits/1e10ef8ac287b98dcaf7e4fc735628d84b9757e6,1e10ef8ac287b98dcaf7e4fc735628d84b9757e6,Workaround for 10.11 regression
sorbits,2015-10-29 02:30:23,https://api.github.com/repos/textmate/textmate/git/commits/bdcba4d66e36a848da41810506af9806b0200e07,bdcba4d66e36a848da41810506af9806b0200e07,"Change --amend option to --commit-button-title Amend

This allows us to set arbitrary titles, should we need it in the future.

It also changes the code slightly so that there is only one method to create the full button title."
sorbits,2015-10-29 02:03:16,https://api.github.com/repos/textmate/textmate/git/commits/e1bbc9f35828ae0c4bc4ede6c236f62aeab6a13b,e1bbc9f35828ae0c4bc4ede6c236f62aeab6a13b,"Change --rebase-in-progress option to --show-continue-button

Also change the property accordingly."
jacob-carlborg,2015-10-27 08:58:30,https://api.github.com/repos/textmate/textmate/git/commits/d988cf18c2a5016f4e6585b57053877150b29799,d988cf18c2a5016f4e6585b57053877150b29799,"Support ""Amend"" as button title in the commit window

When the --amend flag is passed to the ""commit"" command, the commit
window will used ""Amend"" instead of ""Commit"" as the title for the
commit button."
jacob-carlborg,2015-10-25 19:26:17,https://api.github.com/repos/textmate/textmate/git/commits/cc7e2e8322e170cb3ab41959f345f925afe9623e,cc7e2e8322e170cb3ab41959f345f925afe9623e,"Add support for commit and continue in the commit window

The use case for this feature is when an interactive rebase is in
progress and be able to, in one command, amend the current commit
and continue with rebase.

By default, if the --rebase-in-progress flag is passed when the
""commit"" command is invoked the commit button will be in a
""commit and continue"" state. This is indicated by the title of the
commit button now being ""Commit & Continue"". If the option (⌥) key
is being hold down the state will revert back to the standard ""commit""
state and the title will change to ""Continue"".

If the butten was clicked when it was in the ""commit and continue""
state the ""commit"" command will print ""TM_SCM_COMMIT_CONTINUE=1""
(without the quotes) to stdout as the last line. If the button was
clicked when it was in the standard ""commit"" state the output may
contain ""TM_SCM_COMMIT_CONTINUE=0"", or the ""TM_SCM_COMMIT_CONTINUE""
string will be absent."
sorbits,2015-10-28 08:38:18,https://api.github.com/repos/textmate/textmate/git/commits/8d8c5393134b5893a7631ee4154e0555906a1baa,8d8c5393134b5893a7631ee4154e0555906a1baa,"Truncate environment variables that exceed ARG_MAX

Previously we only logged an error when this happened, but (recently?) exceeding the limit will cause execve()."
sorbits,2015-10-28 08:37:04,https://api.github.com/repos/textmate/textmate/git/commits/57d0f29cdc5ddbf0d68cf7468589390fb3d19f7b,57d0f29cdc5ddbf0d68cf7468589390fb3d19f7b,"Replace in folder would lose byte-order-mark for UTF-8 documents

This would only happen for documents not already open when performing the search and replace (in folder)."
sorbits,2015-10-23 11:01:48,https://api.github.com/repos/textmate/textmate/git/commits/b55ef5b09a395663baa676fb2e0f02ba828aa7f9,b55ef5b09a395663baa676fb2e0f02ba828aa7f9,"Save all xibs with Xcode 7.1 (7B91b)

This was done in an attempt to prevent the warning saying “This file is set to build for a version older than the project deployment target.”

Unfortunately saving all the xibs did not get rid of the warning, even though tehy are all set to have 10.7 as their build target.

The latest xib format does however remove about 10.000 lines of XML."
sorbits,2015-10-23 10:35:15,https://api.github.com/repos/textmate/textmate/git/commits/3dbdd0cf329b9085967a246d4e9d85ba71494d75,3dbdd0cf329b9085967a246d4e9d85ba71494d75,Checkin release notes
sorbits,2015-10-23 10:21:41,https://api.github.com/repos/textmate/textmate/git/commits/9490ff8967ec1a7de8625d3f8e698b76ca370a02,9490ff8967ec1a7de8625d3f8e698b76ca370a02,"Don’t re-use FSItems for expanded folders during reload

The problem is that the URL property for all descendents of this item are pointing to the old path.

Ideally we should recursively update the descendents, because the current workaround loses the expanded state of the folder."
sorbits,2015-10-23 10:20:54,https://api.github.com/repos/textmate/textmate/git/commits/1cdf087e963cce798d6579f0d75aa35101f50db8,1cdf087e963cce798d6579f0d75aa35101f50db8,Reset target property when re-using file system item
rdwampler,2015-10-14 15:26:48,https://api.github.com/repos/textmate/textmate/git/commits/00a20aefb6afe1535176d9a778baeee5ee78905d,00a20aefb6afe1535176d9a778baeee5ee78905d,"Revert ""Disable unused-local-typedef warning for `sparsehash`""

This reverts commit 2c6ad9b391a82e5334feb139eb53bea8b21e92b9.

Upstream released a new version, which resolved the warnings this commit meant to suppress."
sorbits,2015-10-17 13:50:27,https://api.github.com/repos/textmate/textmate/git/commits/c8fce64ad6a95c997236224c194caa8c8a1849de,c8fce64ad6a95c997236224c194caa8c8a1849de,"Account for NSOutlineView expand animations when revealing item

To reveal an item we need to expand all parents, but after switching to a view-based outline view, expanding items will be done animated, and updating the outline view’s bounds won’t happen until after all animation has completed.

I tried adding a completion handler to the current animation context, but this ran before the bounds had been updated.

I also tried to disable expansion animation (when we have an item to reveal), but I was unable to make that work. What I did was group the expandItem:expandChildren: call in a new animation context for which the duration had been set to zero."
sorbits,2015-10-17 10:42:19,https://api.github.com/repos/textmate/textmate/git/commits/cb75d41db3dbc483e9301b2709e1d9e6f61b7f40,cb75d41db3dbc483e9301b2709e1d9e6f61b7f40,"Prevent opening two tabs for the same file

This could previously be done by creating a symbolic link and then selecting both the symbolic link and the original file, and selecting to open both at once.

Since the two tabs would have same identifier, the NSView for one of the two tabs could be left behind in the tab bar when manipulating the tabs."
sorbits,2015-10-16 13:02:24,https://api.github.com/repos/textmate/textmate/git/commits/1597e687147cca41c1bfefcbdc4c2d9baef01c4e,1597e687147cca41c1bfefcbdc4c2d9baef01c4e,"Do not show ‘0’ when holding command (⌘) in search results

The numbers indicate the key equivalent that can be used to jump to the document, but since cb1c516 we no longer support ⌘0."
sorbits,2015-10-16 12:25:39,https://api.github.com/repos/textmate/textmate/git/commits/7719097bdda2fdac92cf9b7eee648b6d1d7d4703,7719097bdda2fdac92cf9b7eee648b6d1d7d4703,"Add View → Font → Default Size menu action

This also works for the HTML output."
sorbits,2015-10-16 12:21:07,https://api.github.com/repos/textmate/textmate/git/commits/e621685fc123c2ace1c0f3efbe37ad3f002a6b97,e621685fc123c2ace1c0f3efbe37ad3f002a6b97,Add makeTextStandardSize: action method
sorbits,2015-10-16 12:17:05,https://api.github.com/repos/textmate/textmate/git/commits/cb1c51692c3ed5a2e53542988aa0a974fa80aecc,cb1c51692c3ed5a2e53542988aa0a974fa80aecc,"Bind Go to Tab → Last Tab to ⌘9 instead of ⌘0

Also avoid binding to ⌘0 in all other ⌘1-n contexts.

This frees up ⌘0 to “Reset Font Size”."
sorbits,2015-10-16 12:14:36,https://api.github.com/repos/textmate/textmate/git/commits/9a1e05f48977eadb6380c988178adeffec56cc0c,9a1e05f48977eadb6380c988178adeffec56cc0c,"Showing bundle menu with no status bar would cause infinite loop

This is because we were forwarding the message to ‘nil’ rather than the status bar, and ‘nil’ here would be first responder, i.e. ourself.

Fixes textmate/bugs#17"
infininight,2015-10-11 00:30:22,https://api.github.com/repos/textmate/textmate/git/commits/b06f20ca72844a84ba58644d2f5241489e59a428,b06f20ca72844a84ba58644d2f5241489e59a428,Add project scope for Cargo (Rust) projects (attr.project.cargo)
sorbits,2015-10-03 10:00:52,https://api.github.com/repos/textmate/textmate/git/commits/720f9eac98ddc3abdf3791704363c2912558fd2c,720f9eac98ddc3abdf3791704363c2912558fd2c,"Expect more than just {?name} in GitHub’s URI template

Currently GitHub supports both name and label parameters."
sorbits,2015-10-02 16:15:33,https://api.github.com/repos/textmate/textmate/git/commits/26d4ebf3022b41b568f2d0ba9d2bbaedbe673ed3,26d4ebf3022b41b568f2d0ba9d2bbaedbe673ed3,Decompile .scpt files when generating QuickLook preview/thumbnail
sorbits,2015-10-02 16:13:13,https://api.github.com/repos/textmate/textmate/git/commits/5738792b364bd2c0d3bcd61fcb4089be657da83c,5738792b364bd2c0d3bcd61fcb4089be657da83c,"Refactor QuickLook generator

Generating a preview and a thumbnail now share the same code for loading the file and creating an attributed string from its content."
rdwampler,2015-10-02 16:04:32,https://api.github.com/repos/textmate/textmate/git/commits/054747974b62068193230893021bbb4f7d2fe04c,054747974b62068193230893021bbb4f7d2fe04c,"Refresh when unfolding on mouse down event

This seems to be necessary when the document occupies less space than the visible document window."
rdwampler,2015-10-01 15:13:45,https://api.github.com/repos/textmate/textmate/git/commits/a23b5225b17da7ebd2561b7e23aafa3f30932d52,a23b5225b17da7ebd2561b7e23aafa3f30932d52,"Don't undefine/redefine ""DEPRECATED"" macro

We no longer use Apple's headers for `openssl` so this isn't necessary."
rdwampler,2015-10-01 14:53:30,https://api.github.com/repos/textmate/textmate/git/commits/5bbcf424874917d4f021a3f33379c6b530dae0f3,5bbcf424874917d4f021a3f33379c6b530dae0f3,"Require LibreSSL instead of relying on the system provided openssl

Apple deprecated `openssl` in 10.7 and the headers are now removed in 10.11. Since we use some low level functions that are not provided in Apple's crypto frameworks, we now require are own version."
ram-nadella,2015-09-25 01:56:43,https://api.github.com/repos/textmate/textmate/git/commits/acd4497f5e505bcf56acf1ca572ffce2ad5a55f8,acd4497f5e505bcf56acf1ca572ffce2ad5a55f8,Fix typo in 2015-09-16 (v2.0-beta.8) section of release notes
sorbits,2015-09-24 11:33:40,https://api.github.com/repos/textmate/textmate/git/commits/cd016be29489eba5f3c09b7b70b06da134dda550,cd016be29489eba5f3c09b7b70b06da134dda550,Update dialog plug-in (declare new protocols from 10.11 SDK)
rdwampler,2015-09-19 14:14:07,https://api.github.com/repos/textmate/textmate/git/commits/3f5575cfe4016f2d8a34c6e506146b962f7aa083,3f5575cfe4016f2d8a34c6e506146b962f7aa083,"Directly convert the URL received from NSOpenPanel to a path

We call `fileURL` here but the method doesn't actually exists (it's actually a property with the getter `isFileURL`). The URLs we obtain from NSOpenPanel are paths so it's probably safe to get the path without checking if it's a proper file URL."
rdwampler,2015-09-19 14:14:03,https://api.github.com/repos/textmate/textmate/git/commits/75d3c74f05c1260df71e5852dab5d7f0c8c4bf85,75d3c74f05c1260df71e5852dab5d7f0c8c4bf85,"OFBOutlineView: Rename draggedItems → draggedOFBItems

This property's name was conflicting with a private instance variable in our superclass (NSOutlineView) for the 10.11 SDK."
rdwampler,2015-09-19 14:14:00,https://api.github.com/repos/textmate/textmate/git/commits/f29ddf6500b9cdf6a4b18b6394f7ceccebe79b4f,f29ddf6500b9cdf6a4b18b6394f7ceccebe79b4f,"Declare new protocols when building for 10.11

These were informal protocols prior to 10.11."
rdwampler,2015-09-19 14:13:51,https://api.github.com/repos/textmate/textmate/git/commits/9e4e88ce76a334abe01f79e9d355623beac75831,9e4e88ce76a334abe01f79e9d355623beac75831,"Explicitly cast back to the CGEventFlags typedef

The SDK for 10.11 (Xcode 7 GM and Xcode 7.1 beta) declares this enum using CF_ENUM instead of CF_OPTIONS, which forces us to explicitly cast back to the typedef type. <rdar://22743357>

Hopefully, we can revert this after OS 10.11 is officially released."
sorbits,2015-09-16 06:35:15,https://api.github.com/repos/textmate/textmate/git/commits/64b03394e9463559696df09e34ede85aba2a4f05,64b03394e9463559696df09e34ede85aba2a4f05,Checkin release notes
sorbits,2015-09-10 12:23:19,https://api.github.com/repos/textmate/textmate/git/commits/10b1f3bfea01c72c7f7fda126d4ee687379f6ec1,10b1f3bfea01c72c7f7fda126d4ee687379f6ec1,"Always clear SCM info when changing document

For a project window where only some tabs are under version control, switching from one tab with version control info, to one without, would use the info from the previous tab with the new one (proxy icon badge and scope attributes)."
sorbits,2015-09-10 12:20:51,https://api.github.com/repos/textmate/textmate/git/commits/b6a7529d972f1c4345eb6abb326c2e2dca603bc4,b6a7529d972f1c4345eb6abb326c2e2dca603bc4,"Bind tab size dialog to OakDocumentView instead of OakTextView

This ensures the setting is saved and also (sort of) follows the principle of least knowledge."
sorbits,2015-09-10 12:19:10,https://api.github.com/repos/textmate/textmate/git/commits/871e013ed97395909aefc5253b41f0461f57ec1c,871e013ed97395909aefc5253b41f0461f57ec1c,"Add tabSize property to OakDocumentView

Going via this property ensures that the setting is saved."
sorbits,2015-09-10 11:06:36,https://api.github.com/repos/textmate/textmate/git/commits/b1fa6524cb0cbb119873e97c960aa18b8c59f06a,b1fa6524cb0cbb119873e97c960aa18b8c59f06a,Save with Xcode Version 6.4 (6E35b)
sorbits,2015-09-07 18:15:10,https://api.github.com/repos/textmate/textmate/git/commits/a99acf85322b0ab0490fa45a2287a9ef407574b5,a99acf85322b0ab0490fa45a2287a9ef407574b5,fixup! Ensure we re-use file browser items that are unchanged
sorbits,2015-09-07 16:27:16,https://api.github.com/repos/textmate/textmate/git/commits/98571f90ee67ff3b4a6322bfb2277594cfda5746,98571f90ee67ff3b4a6322bfb2277594cfda5746,Update Onigmo submodule
sorbits,2015-09-07 16:15:49,https://api.github.com/repos/textmate/textmate/git/commits/c038bbe7bc9bad843bd42333d1444c7bf79887b0,c038bbe7bc9bad843bd42333d1444c7bf79887b0,"Ensure we re-use file browser items that are unchanged

The data sources should already re-use items, as they are passed the old items, but since data sources are multi threaded, there might perhaps be a situation where the items passed gets updated out-of-order and re-use isn’t perfect (I haven’t been able to confirm this).

Re-using the items, when we use the animation methods of the outline view, does however seem to be very important, because the outline view will neither copy nor retain the items returned from our data source, so we must ensure they stay retained until we have told the outline view that the item no longer exist, so replacing an item with one that is equal but not pointer identical, without notifying the outline view, will cause random crashes.

At least that is my theory."
sorbits,2015-09-06 18:36:30,https://api.github.com/repos/textmate/textmate/git/commits/7e396fae6f955ab9c00896290260f249997701a6,7e396fae6f955ab9c00896290260f249997701a6,Open all selected items on double click and Open menu action
sorbits,2015-08-30 12:17:38,https://api.github.com/repos/textmate/textmate/git/commits/51edc48beae2611bc28adf2045cecbfebaa76c3e,51edc48beae2611bc28adf2045cecbfebaa76c3e,Checkin release notes
sorbits,2015-08-30 08:55:18,https://api.github.com/repos/textmate/textmate/git/commits/4484eb0de3e468fc108f0d7c0d525cd244f1598f,4484eb0de3e468fc108f0d7c0d525cd244f1598f,Remove unused method
sorbits,2015-08-30 08:53:24,https://api.github.com/repos/textmate/textmate/git/commits/975fd707797e2dc77d8cb0e715066c4aeb5b671a,975fd707797e2dc77d8cb0e715066c4aeb5b671a,"Re-encode redundantly encoded multi-byte sequences

If our buffer contained such sequences then an exception could be thrown when creating an NSString representation, for example copying to the system clipboard or displaying search results in the UI."
sorbits,2015-08-30 08:52:56,https://api.github.com/repos/textmate/textmate/git/commits/09294626fe62b693a29630420c0bd2e20c0eac31,09294626fe62b693a29630420c0bd2e20c0eac31,"Use stringWithCxxString: instead of calling c_str

The problem with the latter is that a C string is null terminated, but we might have null characters in our string.

Furthermore, the stringWithCxxString: can do a little extra work, like check if the string is NULL_STR or (after next commit) fix redundantly encoded multi-byte sequences."
sorbits,2015-08-27 21:02:17,https://api.github.com/repos/textmate/textmate/git/commits/7400fb63ade912878c8fcc61dc4dc47f2ff1d57b,7400fb63ade912878c8fcc61dc4dc47f2ff1d57b,"fixup! Use empty last line from commands working on multiple selections

We only use the last empty line when there are more than a single line break in the string to be inserted.

The use-case here is having multiple carets and then running a command like “echo foo”. Here we receive “foo\n” which is split into (“foo”, “”), so every second caret would get the empty string inserted."
sorbits,2015-08-27 20:58:56,https://api.github.com/repos/textmate/textmate/git/commits/c603b83050ad293ffe9d68f00feeba6f7b2467be,c603b83050ad293ffe9d68f00feeba6f7b2467be,Don’t use “entire document” fallback input with multiple carets
sorbits,2015-08-27 20:55:03,https://api.github.com/repos/textmate/textmate/git/commits/d02421670fdeca331ee8b995f1be5f1e9405f843,d02421670fdeca331ee8b995f1be5f1e9405f843,"Don’t skip sanitizing ranges when input is “entire document”

Incase there are multiple carets, we’ll get multiple “entire documents” ranges."
sorbits,2015-08-24 11:31:05,https://api.github.com/repos/textmate/textmate/git/commits/f06f447ede92b433ca48412dd7993cfcad542204,f06f447ede92b433ca48412dd7993cfcad542204,Avoid referencing private types by using std::remove_pointer
rdwampler,2015-08-06 17:27:12,https://api.github.com/repos/textmate/textmate/git/commits/2c6ad9b391a82e5334feb139eb53bea8b21e92b9,2c6ad9b391a82e5334feb139eb53bea8b21e92b9,"Disable unused-local-typedef warning for `sparsehash`

Also, disable unknown-pragmas warning for older version of clang."
rdwampler,2015-08-06 17:24:28,https://api.github.com/repos/textmate/textmate/git/commits/ac56d6e896523293d6663eff15e55dd73c9e5593,ac56d6e896523293d6663eff15e55dd73c9e5593,"Move OakFlagState enum declaration out of method

Also, changed the `newFlagState` property to use the enum type."
rdwampler,2015-08-06 15:38:49,https://api.github.com/repos/textmate/textmate/git/commits/14c6a70b859bff43bea60f8b62071c0269b85abb,14c6a70b859bff43bea60f8b62071c0269b85abb,"Use our own lightweight wrapper for thread local storage

With the boost thread helper we have to statically link to the boost libraries, which on most system is built against the latest version of the OS (instead of our current target 10.7). This doesn't seem to be an actual problem, but newer versions of clang issue warnings about it."
rdwampler,2015-08-06 14:51:46,https://api.github.com/repos/textmate/textmate/git/commits/f3d1abaeca098359edbc24a01f6fb1607f699326,f3d1abaeca098359edbc24a01f6fb1607f699326,"Introduce tls_ptr_t

This is a lightweight wrapper around the pthread methods to access thread local memory."
sorbits,2015-08-08 09:35:23,https://api.github.com/repos/textmate/textmate/git/commits/60050cf026fd1bec97cde532e8ffe29f0087d10a,60050cf026fd1bec97cde532e8ffe29f0087d10a,Add Export Bundle… to bundle editor’s context menu
sorbits,2015-08-08 09:34:55,https://api.github.com/repos/textmate/textmate/git/commits/c259dd582bd7824ddf3c2c5ca85dd1d8db7be384,c259dd582bd7824ddf3c2c5ca85dd1d8db7be384,Add API to save bundle item to arbitrary location
sorbits,2015-08-08 09:34:35,https://api.github.com/repos/textmate/textmate/git/commits/3acd714402f99250d0610953677ebdc4f9567c8a,3acd714402f99250d0610953677ebdc4f9567c8a,Refactor
sorbits,2015-08-08 09:34:06,https://api.github.com/repos/textmate/textmate/git/commits/70b830b557c65c246c9c6b3643e7cddae156a3f3,70b830b557c65c246c9c6b3643e7cddae156a3f3,"Add API to skip resolving proxy items when querying bundle items

This is useful for obtaining a list of “physical” bundle items in a bundle."
sorbits,2015-08-08 09:34:06,https://api.github.com/repos/textmate/textmate/git/commits/05e087f0873397eb4ac01f4a4a1bec3497f68613,05e087f0873397eb4ac01f4a4a1bec3497f68613,"Use view-based table view in pop-up menu usable from snippets

Starting with 10.10 (I think) the text was no longer drawn in the proper highlight color. Switching to a view-based table view fixed that issue."
sorbits,2015-08-05 10:32:40,https://api.github.com/repos/textmate/textmate/git/commits/6b387eea6e044b3957fbd1513b1d3352d4a591db,6b387eea6e044b3957fbd1513b1d3352d4a591db,"Implement setNilValueForKey:

When running a debug build we get an exception due to lacking this method and the documentation does seem to indicate this is required for scalar keys."
sorbits,2015-08-05 10:32:06,https://api.github.com/repos/textmate/textmate/git/commits/068855b4e075eff6cff015cd52930f8eb83b3c24,068855b4e075eff6cff015cd52930f8eb83b3c24,"Disable deprecation warning for API working on resource forks

There doesn’t seem to be any replacement API for this so while the warning (when building with the 10.8 SDK) may serve as a reminder to update the code, the only possible update I can see is to drop support for reading text clippings."
sorbits,2015-08-05 10:31:20,https://api.github.com/repos/textmate/textmate/git/commits/8fe7681ebdb0d7c0ec5c74322b59917257f7c698,8fe7681ebdb0d7c0ec5c74322b59917257f7c698,Remove unnecessary include of oak/compat.h
sorbits,2015-08-05 10:29:33,https://api.github.com/repos/textmate/textmate/git/commits/d1ed42fef17c8615696ad617ef4f3f952008368c,d1ed42fef17c8615696ad617ef4f3f952008368c,"Use isOperatingSystemAtLeastVersion: to check for 10.10

The method wasn’t public before 10.10 but since we need to check for 10.10 we can simply conclude that lack of this method means that we are not running on 10.10."
sorbits,2015-08-05 10:29:24,https://api.github.com/repos/textmate/textmate/git/commits/c75b89c048c528fbb8e1cab39570324c0bf0168c,c75b89c048c528fbb8e1cab39570324c0bf0168c,Avoid temporary CFStringRef when creating file system CFURLRef
sorbits,2015-08-05 10:29:12,https://api.github.com/repos/textmate/textmate/git/commits/6ffd12e805d3ab546b1c1d267abcba79187fc408,6ffd12e805d3ab546b1c1d267abcba79187fc408,"Improve algorithm to find root when using reveal in file browser

The algorithm will avoid changing root when possible. If root has to be changed, we favor the current project folder, if that is not possible, we use the parent for the item being selected, unless the item is in a file package below the project folder, in that case, we use the root of the file package."
sorbits,2015-08-05 10:28:07,https://api.github.com/repos/textmate/textmate/git/commits/d550eae4a0683bea109a5b2298b61cc9882cec12,d550eae4a0683bea109a5b2298b61cc9882cec12,Remove legacy code for relaunching already running instance
sorbits,2015-08-05 10:27:06,https://api.github.com/repos/textmate/textmate/git/commits/b2c76df2da227688aca96164bfb301927dd3bba4,b2c76df2da227688aca96164bfb301927dd3bba4,Fix incorrect type declaration
sorbits,2015-08-05 10:26:17,https://api.github.com/repos/textmate/textmate/git/commits/82e5e14ae131d285ddfede0134f2f87d8a3fe2cb,82e5e14ae131d285ddfede0134f2f87d8a3fe2cb,"Remove unused function: is_trashed

The intent was to use this to decide if the proxy icon should be hidden but the API used by the function is deprecated on 10.8."
sorbits,2015-08-05 10:25:12,https://api.github.com/repos/textmate/textmate/git/commits/7d9b2d54703ac2e6351c9a3ce0c89fdb2a4dd214,7d9b2d54703ac2e6351c9a3ce0c89fdb2a4dd214,"Unbind properties when disposing our view

Since we dispose the subviews that the bindings are hooked up to, this shouldn’t be necessary, but it’s good for symmetri."
sorbits,2015-08-05 10:24:39,https://api.github.com/repos/textmate/textmate/git/commits/9efde6d41bba6a5ed2492f53f565240069034ddc,9efde6d41bba6a5ed2492f53f565240069034ddc,Don’t place a caret when ⌘-clicking a selection
sorbits,2015-08-05 10:23:35,https://api.github.com/repos/textmate/textmate/git/commits/b3478a2628e4bc1eece78585b3c28e4fef02c8f2,b3478a2628e4bc1eece78585b3c28e4fef02c8f2,Use “modern” API to examine and resolve alias files
sorbits,2015-08-05 10:23:29,https://api.github.com/repos/textmate/textmate/git/commits/34b374c1856c44fefc4c2a89e24f7a146832ba71,34b374c1856c44fefc4c2a89e24f7a146832ba71,Avoid two uses of FSRef (which is deprecated from 10.8)
sorbits,2015-08-05 10:23:06,https://api.github.com/repos/textmate/textmate/git/commits/35e78feafcc263e2f4e8a15273a11005b9b8280c,35e78feafcc263e2f4e8a15273a11005b9b8280c,"Check if we have an editor instance in input client methods

I’m seeing a few crashes where the most likely explanation is that input client methods are called either before setting up an editor instance, or after disposing it."
sorbits,2015-08-05 10:22:50,https://api.github.com/repos/textmate/textmate/git/commits/0b70563c73c68406ede4318315ba9259a5aefbfa,0b70563c73c68406ede4318315ba9259a5aefbfa,"Add crash log info to track down a bug

Crash is in CFStringGetLength called from _CFURLCreateWithFileSystemPath, so it appears that some sort of malformed string can find its way to this call."
sorbits,2015-07-31 10:49:32,https://api.github.com/repos/textmate/textmate/git/commits/15d57f7aed2d3be98b714293eae5e24713aa5386,15d57f7aed2d3be98b714293eae5e24713aa5386,Checkin release notes
sorbits,2015-07-31 10:37:29,https://api.github.com/repos/textmate/textmate/git/commits/98206004dca29dcdd563113bbf59d1914fe06eca,98206004dca29dcdd563113bbf59d1914fe06eca,"Support fallback units for multiple carets

For example a command that works on selection but falls back to current word will now also work with multiple carets."
sorbits,2015-07-31 10:18:37,https://api.github.com/repos/textmate/textmate/git/commits/755a9e1f7e280eb5a86db27f575071ab6f6df1c2,755a9e1f7e280eb5a86db27f575071ab6f6df1c2,"Look at all carets to decide if there is a selection

Previously we only looked at the last caret, and if this one was not a selection then we would treat the multiple carets (selection ranges) as nothing being selected, and thus, a command replacing the carets, would not leave anything selected."
sorbits,2015-07-31 10:01:46,https://api.github.com/repos/textmate/textmate/git/commits/3047212ed2b00ca41ba843b4106c2159bff07d47,3047212ed2b00ca41ba843b4106c2159bff07d47,"Use empty last line from commands working on multiple selections

When pasting or using Filter Through Command with multiple carets, we ignore a potential final empty line, this is because our text will be something like “foo\nbar\n” and we split on the newline, so we end up with (“foo”, “bar”, “”) and if we have more than two carets, then we insert the empty string for every third caret.

For a command though we expect there is a 1:1 between number of carets and newlines in the result, so we should never skip the last element."
sorbits,2015-07-31 09:48:56,https://api.github.com/repos/textmate/textmate/git/commits/58bacfb763643aa87757d95efb0f0659569ad1e2,58bacfb763643aa87757d95efb0f0659569ad1e2,"Command with multiple selections would never select output

This now uses the same logic as with a single selection."
sorbits,2015-07-31 09:28:20,https://api.github.com/repos/textmate/textmate/git/commits/0aa9cd8166a842519271af8e8306f984d0fc86a2,0aa9cd8166a842519271af8e8306f984d0fc86a2,Don’t skip binary files when using Find All with open documents
sorbits,2015-07-30 20:18:39,https://api.github.com/repos/textmate/textmate/git/commits/b440a8681f7c79073180c656388b28592ff86e5d,b440a8681f7c79073180c656388b28592ff86e5d,Remove OakImageAndTextCell class
sorbits,2015-07-30 20:18:07,https://api.github.com/repos/textmate/textmate/git/commits/2a9220c570a675da60f2c78dbe71451ad15cd5ed,2a9220c570a675da60f2c78dbe71451ad15cd5ed,Update dialog plug-in (add own image and text cell)
sorbits,2015-07-30 20:00:06,https://api.github.com/repos/textmate/textmate/git/commits/f2387c9bc3c99657e77e6c6fbad0c250689546d0,f2387c9bc3c99657e77e6c6fbad0c250689546d0,"Ensure that the outline view’s clicked row is valid

The problem is if we right-click an item that causes content to be changed (e.g. Show Enclosing Folder) then later in the same run loop cycle ask for selected items, we prefer the clicked row, but this one might now no longer exist."
sorbits,2015-07-30 19:56:00,https://api.github.com/repos/textmate/textmate/git/commits/14a1110199cc32e76c776d64638b94a3069da742,14a1110199cc32e76c776d64638b94a3069da742,"Don’t pass NSTableCellView to OakFileManager

The view passed to the file manager is used to request the undo manager. The problem with using an NSTableCellView instance is that this view may be taken out of the view hierarchy (and thus responder chain) which makes it lose its undo manager.

This isn’t an immediate problem but if we later use undo/redo, it might be."
sorbits,2015-07-29 21:26:29,https://api.github.com/repos/textmate/textmate/git/commits/a92b34fcaaec82938137c49ab28c01910c6acd54,a92b34fcaaec82938137c49ab28c01910c6acd54,"Prefer insert/removeItemsAtIndexes: over reloadItem:

This way we only have to abort editing if the item being edited is going away.

View-based table views do not supported editedRow so this commit also change the way to figure out if a row is being edited."
sorbits,2015-07-29 21:25:52,https://api.github.com/repos/textmate/textmate/git/commits/8abf5f2c9ac3fc19c129063cd7c44d8f5e70dfbc,8abf5f2c9ac3fc19c129063cd7c44d8f5e70dfbc,"Improve selection in file browser after deleting items

Previously if we deleted an expanded folder it would select the first child of this item which would then be removed and leave nothing selected.

There are still a few edge-cases left though where what’s selected after deleting items is not ideal."
sorbits,2015-07-29 21:25:06,https://api.github.com/repos/textmate/textmate/git/commits/f0f056318d42bcfea3696231c7449da70eb4fb48,f0f056318d42bcfea3696231c7449da70eb4fb48,Update scmStatus and missing FSItem properties in SCM data source
sorbits,2015-07-29 21:24:28,https://api.github.com/repos/textmate/textmate/git/commits/ecf8cbc0bf8ab878ec91c6d21675a7f42e9329bb,ecf8cbc0bf8ab878ec91c6d21675a7f42e9329bb,Never update OakFileIconImage states that are not marked dirty
sorbits,2015-07-29 21:23:24,https://api.github.com/repos/textmate/textmate/git/commits/9cb059fa7bcc2b51d2409ee385d36cec8483876a,9cb059fa7bcc2b51d2409ee385d36cec8483876a,Move FSFileItem’s missing property to superclass
sorbits,2015-07-29 21:21:33,https://api.github.com/repos/textmate/textmate/git/commits/16363f3aa0f82924ba679f3ec234df82c6aab707,16363f3aa0f82924ba679f3ec234df82c6aab707,Let the SCM data source re-use its FSItem instances
sorbits,2015-07-29 21:20:51,https://api.github.com/repos/textmate/textmate/git/commits/bf9102f7896ca173c3cf58033ff43509090a0d91,bf9102f7896ca173c3cf58033ff43509090a0d91,Re-use FSFileItems that represent missing files
sorbits,2015-07-29 21:19:34,https://api.github.com/repos/textmate/textmate/git/commits/d40d9b0f2440ebf83c8acb1cf9569f0fac441735,d40d9b0f2440ebf83c8acb1cf9569f0fac441735,"Draw white circle around label swatch when row is selected

We previously did this when the background style was set to dark, but the code for this only works when the view is a direct descendent of the NSTableCellView and also, when a row is selected in an inactive table view, the background style is not set to dark."
sorbits,2015-07-27 16:45:32,https://api.github.com/repos/textmate/textmate/git/commits/5b357d58c23762ab0ee467b2b0f15b4773f53bf5,5b357d58c23762ab0ee467b2b0f15b4773f53bf5,"Track open state in FSItem

This eliminates the need for the last binding that was causing a retain cycle."
sorbits,2015-07-27 16:44:49,https://api.github.com/repos/textmate/textmate/git/commits/79d012dba2fad95e5259f27c8e31bc6d6a1cbc0d,79d012dba2fad95e5259f27c8e31bc6d6a1cbc0d,Dynamically create and dispose close button and label view
sorbits,2015-07-27 16:43:36,https://api.github.com/repos/textmate/textmate/git/commits/a2052592effd45ea214975834612bde98cb42d23,a2052592effd45ea214975834612bde98cb42d23,"Move construction of open/close buttons to table cell view

This gives us a bit more flexibility which we will need to properly toggle the close button."
sorbits,2015-07-27 16:43:14,https://api.github.com/repos/textmate/textmate/git/commits/297c1c7ea52b5cff02436409a2154575a292eccd,297c1c7ea52b5cff02436409a2154575a292eccd,"Limit the tab bar items’ tool tips to the title string

This prevents having a tool tip show when hovering the close button (as can often happen when closing multiple tabs)."
sorbits,2015-07-27 16:42:03,https://api.github.com/repos/textmate/textmate/git/commits/0c2a8b7e0c9d7940ab6c84309b579c6d172ad200,0c2a8b7e0c9d7940ab6c84309b579c6d172ad200,"File browser’s undo/redo menu items only worked when it had focus

We only want to use first responder’s (local) undo manager when the first responder is a descendent of the file browser itself, e.g. the field editor."
sorbits,2015-07-27 16:40:38,https://api.github.com/repos/textmate/textmate/git/commits/33d5538967ecbf318bd7c5e7e189fe383af4a3e6,33d5538967ecbf318bd7c5e7e189fe383af4a3e6,"Make the datasource setter more robust

Previously it would throw an exception if datasource was set to nil after the outline view had been disposed."
sorbits,2015-07-27 16:39:43,https://api.github.com/repos/textmate/textmate/git/commits/2d1804fc4cca9b99906ed20c06f8228b0f09fd78,2d1804fc4cca9b99906ed20c06f8228b0f09fd78,"Don’t handle “item did reload” notifications for leaf items

In the view-based system all changes to a single item should be done by updating the properties of this item."
sorbits,2015-07-27 16:39:37,https://api.github.com/repos/textmate/textmate/git/commits/e52efd5486db73a405c521e111999f33df31d0e3,e52efd5486db73a405c521e111999f33df31d0e3,"Avoid binding each table cell view to the modifiedURLs property

This removes a retain cycle though we still have one left caused by the openURLs property."
sorbits,2015-07-27 16:39:26,https://api.github.com/repos/textmate/textmate/git/commits/f66abfa33d610f92239e9b478456712459fe001b,f66abfa33d610f92239e9b478456712459fe001b,Add isModified property to FSItem
sorbits,2015-07-27 16:39:25,https://api.github.com/repos/textmate/textmate/git/commits/b67713e9e555ba778158a3ffeed3982c5ef8ab26,b67713e9e555ba778158a3ffeed3982c5ef8ab26,"Add custom view to draw label swatch

This mimics the new look used by Finder and we also fix a retain cycle by not binding to ‘self’ for the labelIndex property."
sorbits,2015-07-24 21:41:06,https://api.github.com/repos/textmate/textmate/git/commits/161ffdc3fcb7e16305a40d3a37de61b0bb84fbe3,161ffdc3fcb7e16305a40d3a37de61b0bb84fbe3,"Remove “cut” from file browser’s menu

It’s still possible to use ⌘X but I will probably remove the functionality in the future."
sorbits,2015-07-24 21:34:05,https://api.github.com/repos/textmate/textmate/git/commits/909e36b516c992983f3a6b982bea1dda3765ce59,909e36b516c992983f3a6b982bea1dda3765ce59,"Support using ⌥⌘V in file browser to “move” an item

This is consistent with Finder and slightly more flexible as it allows copying items in Finder and pasting them in TextMate via ⌥⌘V."
sorbits,2015-07-24 21:24:14,https://api.github.com/repos/textmate/textmate/git/commits/8910b395f99e6dad0c10aa254d8df08f894cfce8,8910b395f99e6dad0c10aa254d8df08f894cfce8,Include number of items on pasteboard in menu item title
sorbits,2015-07-23 19:54:20,https://api.github.com/repos/textmate/textmate/git/commits/90ab3749d97f5e35d467ad7574d992cb415b2daa,90ab3749d97f5e35d467ad7574d992cb415b2daa,Setup proper truncation for file browser’s text field
sorbits,2015-07-23 19:50:47,https://api.github.com/repos/textmate/textmate/git/commits/828f6fdd3780bb17ce000544920c631e861ef4fe,828f6fdd3780bb17ce000544920c631e861ef4fe,Remove reference to OakView.h
sorbits,2015-07-23 11:18:02,https://api.github.com/repos/textmate/textmate/git/commits/f675008402bafa24615d0f87354db03e3d28b641,f675008402bafa24615d0f87354db03e3d28b641,"Mark file browser as needing display after reloading items

After changing root item it often fails to redraw itself, so this is a workaround for what appears to be a framework bug."
sorbits,2015-07-23 11:13:09,https://api.github.com/repos/textmate/textmate/git/commits/22acd31b25c61997d24410e8933d943aba4e9f47,22acd31b25c61997d24410e8933d943aba4e9f47,"Skip reloading file browser items if items are unchanged

The comparison is somewhat shallow, but ideally all changes to the actual items (rather than adding or removing items) is done by updating the properties of the existing instance. The exception here is the SCM Status data source, but FSItem’s isEqual: method does compare scmStatus."
sorbits,2015-07-23 11:08:09,https://api.github.com/repos/textmate/textmate/git/commits/b8906248bd71797c99c81e671dabf4d37dd917f9,b8906248bd71797c99c81e671dabf4d37dd917f9,Don’t post “item did reload” notification for property changes
sorbits,2015-07-23 11:06:39,https://api.github.com/repos/textmate/textmate/git/commits/f5358c79e49c12537bd89facae323b5db8856803,f5358c79e49c12537bd89facae323b5db8856803,Remove OFBPathInfoCell
sorbits,2015-07-23 10:59:25,https://api.github.com/repos/textmate/textmate/git/commits/5b304160837da32fdb1bb88b0bbb2dc617e99c58,5b304160837da32fdb1bb88b0bbb2dc617e99c58,"Switch file browser to be view-based (instead of cell-based)

One issue with the view-based version is that there seems to be no hook where we can update the text prior to edit, so in the SCM Status view where item names are disambiguated, editing the item will cause the disambiguated name to be used as basename.

The view-based version is also more eager to start editing rows, for example the “click a selected item to move focus to file browser” now also trigger renaming of that item, which is rather undesirable.

A few other pending issues also remain, like better rendering of labels, not adding a (hidden) close button to each row, and ensuring FSItem instances are re-used when possible (e.g. SCM data source).

The way we mark items as modified or open is also suboptimal, as it’s partly done via bindings and partly manual."
sorbits,2015-07-23 10:54:16,https://api.github.com/repos/textmate/textmate/git/commits/e3ad1440e16c1cc026750c35a30eacd8546a1f7e,e3ad1440e16c1cc026750c35a30eacd8546a1f7e,Prefer the clicked row when triggering edit of a row
sorbits,2015-07-23 10:50:21,https://api.github.com/repos/textmate/textmate/git/commits/34ebabdc87aed4216120fe09db65b7f655329b69,34ebabdc87aed4216120fe09db65b7f655329b69,"Call abortEditing on outline view instead of cancelOperation

I’m not sure if it is necessary to manually refocus the outline view after aborting the field editor, does seem like a bug and will most likely not be present for view-based outline views."
sorbits,2015-07-23 09:49:24,https://api.github.com/repos/textmate/textmate/git/commits/58dc3070ba63e95b97e16f413e1348d1263bc4cf,58dc3070ba63e95b97e16f413e1348d1263bc4cf,Move label color change to FSItem
sorbits,2015-07-23 09:32:19,https://api.github.com/repos/textmate/textmate/git/commits/12fdcefb14732d394725b386d5afd0ac2f2dcc48,12fdcefb14732d394725b386d5afd0ac2f2dcc48,"Don’t rely on cached display name when requesting a rename

The problem is that we may update the display name property before requesting the FSItem be renamed."
sorbits,2015-07-20 10:11:01,https://api.github.com/repos/textmate/textmate/git/commits/5cd7958fb721eb6df945abdc107096e6ad7e59c7,5cd7958fb721eb6df945abdc107096e6ad7e59c7,Move rename support to FSItem
sorbits,2015-07-20 10:10:23,https://api.github.com/repos/textmate/textmate/git/commits/6aad406ddef9699bf9beffb2aaa69739362f2140,6aad406ddef9699bf9beffb2aaa69739362f2140,Use symbolic constants for binding properties
sorbits,2015-07-20 10:10:05,https://api.github.com/repos/textmate/textmate/git/commits/a13b75ebc4961890aaa9347917040312b4770692,a13b75ebc4961890aaa9347917040312b4770692,Use isEqualToXYZ: or isEqual: instead of isEqualTo:
sorbits,2015-07-20 10:08:57,https://api.github.com/repos/textmate/textmate/git/commits/772692c2df3e356253bc3b4e542b30ae727d5625,772692c2df3e356253bc3b4e542b30ae727d5625,"Limit file browser path change for Go → Current Document

If the file browser’s root path is already a parent of the item we want to reveal (and a descendent of the requested parent) then we skip changing path."
sorbits,2015-07-20 10:08:32,https://api.github.com/repos/textmate/textmate/git/commits/37ed461ca6e8447ac136ba599c332d824749337d,37ed461ca6e8447ac136ba599c332d824749337d,"Use menu delegate for the file browser’s context menu

This simplifies the code (API) and also allows us to skip having to select the clicked item, as the outline view will handle this for us (using a “special” selection indication that can work in parallel with regular selection)."
sorbits,2015-07-20 10:07:12,https://api.github.com/repos/textmate/textmate/git/commits/f942869bee23f7bed3f6db96658da6877adbad27,f942869bee23f7bed3f6db96658da6877adbad27,Let file browser’s selectedItems include clicked row
sorbits,2015-07-20 09:41:02,https://api.github.com/repos/textmate/textmate/git/commits/497afab82b58ff4d142e063a0413414098da5ac5,497afab82b58ff4d142e063a0413414098da5ac5,"Update roll-over button state when control is hidden

If the button gets hidden while the mouse is hovering above it then it’ll not receive a mouseExited: message once the mouse leaves its bounds (while the control is hidden)."
sorbits,2015-07-20 09:40:59,https://api.github.com/repos/textmate/textmate/git/commits/b3ec7b4c0563b052dff516dc78117294d192ae66,b3ec7b4c0563b052dff516dc78117294d192ae66,"Setup key view loop manually for main window

The auto-calculated key view loop includes everything, which means dynamically added elements such as the close buttons for tab view items, but worse, the subviews of a view-based table view. So this change is required before switching to a view-based file browser."
sorbits,2015-07-20 09:40:22,https://api.github.com/repos/textmate/textmate/git/commits/2f30d7d3687965e67e1369c08e5ba83b1019b396,2f30d7d3687965e67e1369c08e5ba83b1019b396,Remove support for nested arrays when setting key view loop
sorbits,2015-07-20 09:40:14,https://api.github.com/repos/textmate/textmate/git/commits/699cdd72cbae89de99b82f98e48d308e9f60bcf6,699cdd72cbae89de99b82f98e48d308e9f60bcf6,Include scope bar in key view loop (rather than its buttons)
sorbits,2015-07-20 09:39:54,https://api.github.com/repos/textmate/textmate/git/commits/7cb3835c3b4d2086c3268154902cd41ff4bc6883,7cb3835c3b4d2086c3268154902cd41ff4bc6883,"Preserve next key view when a descendent of our previous key view

This allows bottom-up construction of the key view loop."
sorbits,2015-07-20 09:37:57,https://api.github.com/repos/textmate/textmate/git/commits/da92f21e5e7d6ab5a4cf476e13e38caa0b519ce9,da92f21e5e7d6ab5a4cf476e13e38caa0b519ce9,Do not activate file browser for double-click
sorbits,2015-07-20 09:36:00,https://api.github.com/repos/textmate/textmate/git/commits/d64dfa661dc86dab7b05a0c2245768f8589c9fcf,d64dfa661dc86dab7b05a0c2245768f8589c9fcf,"Delete code that tests if field editor was dismissed

It seems that after the field editor has been dismissed, the first responder reverts to the outline view (file browser), even though we are asked if we accept first responder.

So now we simply check if we are already first responder, and that seems to work just as well (for clicking on an outline view row while the field editor is showing)."
sorbits,2015-07-20 09:34:38,https://api.github.com/repos/textmate/textmate/git/commits/cce3417962c5c3f573c392ec6998f7e9eeaaede7,cce3417962c5c3f573c392ec6998f7e9eeaaede7,"Remove custom handling of ‘return’ to edit items in file browser

This behavior is already implemented by the OS (although maybe not for older versions)."
sorbits,2015-07-20 09:33:42,https://api.github.com/repos/textmate/textmate/git/commits/2e456c0d77001190b8357bc63b95efd89fcb2803,2e456c0d77001190b8357bc63b95efd89fcb2803,"Include FSFileItem’s ‘missing’ property in equivalence check

In theory we should include all instance variables, but we only use this check to see if we need to cause a file browser reload (when a row is being edited) and long-term (when we switch to NSTableCellView) most changes can be done without needing to reload the file browser items."
sorbits,2015-07-20 09:32:09,https://api.github.com/repos/textmate/textmate/git/commits/a2b9064894343e6aef53a08fda80c6ab7bd15f37,a2b9064894343e6aef53a08fda80c6ab7bd15f37,"When changing FSItem’s SCM status we update our icon property

This way it is possible to bind an image view’s value property directly to FSItem’s icon and not worry about having to manually trigger a redraw when the SCM status changes."
sorbits,2015-07-20 09:30:45,https://api.github.com/repos/textmate/textmate/git/commits/ae9fef95a4eafb7928dc6927ed55cf7765d9256a,ae9fef95a4eafb7928dc6927ed55cf7765d9256a,Fix copy support for OakFileIconImage
sorbits,2015-07-20 09:28:55,https://api.github.com/repos/textmate/textmate/git/commits/5a9ba13ec4b0a501b4fc1a3266bf41d9b2f3dc8e,5a9ba13ec4b0a501b4fc1a3266bf41d9b2f3dc8e,"Remove file browser’s code for return/backtab in field editor

Handling return was to prevent that key to move to editing the next row, though it does not seem to have this behavior anymore.

Backtab was to support editing the row above, though Apple has a defined behavior for how tab/backtab should work when editing table view items, so we shouldn’t change that."
sorbits,2015-07-20 09:28:53,https://api.github.com/repos/textmate/textmate/git/commits/2de5395ba51fc4c0d9b56e3d9873d7fc95a7de0b,2de5395ba51fc4c0d9b56e3d9873d7fc95a7de0b,Remove reference to OFBPathInfoCell
sorbits,2015-07-17 14:51:52,https://api.github.com/repos/textmate/textmate/git/commits/bf2c92b73a20a065be6efebf156e964290b7a12f,bf2c92b73a20a065be6efebf156e964290b7a12f,Checkin release notes
sorbits,2015-07-17 10:03:31,https://api.github.com/repos/textmate/textmate/git/commits/94d825c720bd05dfe48275629ee168b0572ac943,94d825c720bd05dfe48275629ee168b0572ac943,"Remove potential cycles from bundle menus

A cycle would cause an infinite loop when generating an item’s full display name."
sorbits,2015-07-15 22:17:08,https://api.github.com/repos/textmate/textmate/git/commits/29ded47820d55989623c27b7ca49a4b1f3d3556c,29ded47820d55989623c27b7ca49a4b1f3d3556c,"Ensure all file URLs are constructed via NSURL

It’s important that URLs pointing to the same path are testing as equal, which previously could fail because NSURL doesn’t use ‘localhost’ in its file URLs."
sorbits,2015-07-15 20:20:38,https://api.github.com/repos/textmate/textmate/git/commits/1fb6c978d5516c6d1026c89411ff8ed2d8ec7629,1fb6c978d5516c6d1026c89411ff8ed2d8ec7629,"Request “system font” for about window and help book (web views)

Reference http://furbo.org/2015/07/09/i-left-my-system-fonts-in-san-francisco/"
sorbits,2015-07-15 20:19:03,https://api.github.com/repos/textmate/textmate/git/commits/2715f1148d0b966fee33fd44ea90a9383b0b2f89,2715f1148d0b966fee33fd44ea90a9383b0b2f89,"Improve which item is selected when right-clicking file browser

We no longer select items that the delegate tells us are non-selectable (header items) and we no longer deselect when right-clicking outside selectable items."
sorbits,2015-07-15 20:18:17,https://api.github.com/repos/textmate/textmate/git/commits/5ff61612752e934a896d61233ea3c3109c54aad8,5ff61612752e934a896d61233ea3c3109c54aad8,Showing SCM status now have a SCM icon in file browser’s header
sorbits,2015-07-15 20:17:31,https://api.github.com/repos/textmate/textmate/git/commits/9138e5138928154b04b7704c3171d6cd9405b721,9138e5138928154b04b7704c3171d6cd9405b721,Use NSImage instead of OakFileIconImage for SCM folder icon
sorbits,2015-07-15 20:16:12,https://api.github.com/repos/textmate/textmate/git/commits/514a3fe2bc17bb3b5a664558be62172c8e239db4,514a3fe2bc17bb3b5a664558be62172c8e239db4,Add scmStatus property to FSItem and change icon to NSImage
sorbits,2015-07-15 20:15:12,https://api.github.com/repos/textmate/textmate/git/commits/7b1f480a1df488fbb7fe7db7a8ae12fd1ae4dc3b,7b1f480a1df488fbb7fe7db7a8ae12fd1ae4dc3b,Don’t rely on the declared type of FSItem’s icon property
sorbits,2015-07-15 20:14:19,https://api.github.com/repos/textmate/textmate/git/commits/86b0b1350a5b353ed4b3bc6c37d4079e25cdc4aa,86b0b1350a5b353ed4b3bc6c37d4079e25cdc4aa,Don’t rely on FSItem’s icon for path and exists info
sorbits,2015-07-15 20:13:26,https://api.github.com/repos/textmate/textmate/git/commits/b7c5a4b80615f479ec2521aaca8895de6a00fed2,b7c5a4b80615f479ec2521aaca8895de6a00fed2,Add number of children to FSItem’s description
sorbits,2015-07-15 20:12:00,https://api.github.com/repos/textmate/textmate/git/commits/f72153e045caab40e55ef5383b53a7f6732df3c9,f72153e045caab40e55ef5383b53a7f6732df3c9,Remove support for old FSDataSource API
sorbits,2015-07-15 20:10:59,https://api.github.com/repos/textmate/textmate/git/commits/4164059f7ab5273e0fb2b00ab7b32c282c3cdb40,4164059f7ab5273e0fb2b00ab7b32c282c3cdb40,Improve FSSCMDataSource to work better with new API
sorbits,2015-07-15 20:09:17,https://api.github.com/repos/textmate/textmate/git/commits/c151465d980a7799a9463b2c86abc51cebc10511,c151465d980a7799a9463b2c86abc51cebc10511,Improve FSVolumesDataSource to work better with new API
sorbits,2015-07-15 20:08:55,https://api.github.com/repos/textmate/textmate/git/commits/a9c22cf803e44651a43ad4bd3285948740c12a13,a9c22cf803e44651a43ad4bd3285948740c12a13,"Make FSItem’s initWithURL: method public

This is the designated initializer that should be used by subclasses."
sorbits,2015-07-15 20:07:35,https://api.github.com/repos/textmate/textmate/git/commits/0b5d478b37415a80e6478825a88942a3b2015ed2,0b5d478b37415a80e6478825a88942a3b2015ed2,"Refactor the file browser

We now subclass NSOutlineView to detect recursive expansion/collapsing rather than look at the current event (and testing for option). This should be more reliable, for example previously using drag’n’drop with option could falsely trigger recursive expansion.

The way background folder content is loaded is also made simpler with a fairly straightforward code flow (thanks in part to the use of blocks) without the need for “pendingXYZ” variables that got checked at somewhat arbitrary times (to see if we needed to expand/select items that got loaded).

This also better tracks expanded items, as we now remove items that are collapsed from the session info the minute they are collapsed, rather than take a snapshot of the outline view during application termination. This should close #1111.

Another improvement is that we wrap item updating in begin/end update calls to get animated expansion of folders.

There are still a few issues, for example switching to using the view-based API for the outline view and handling reloading items while the field editor is up (which I think require the former).

Also, this commit does not change the data source API so there is some redundant work being done, as we request a reload after getting a “did reload” notification."
sorbits,2015-07-15 20:07:01,https://api.github.com/repos/textmate/textmate/git/commits/6bade2e18dc3719f9f2731664719e15007e8ad56,6bade2e18dc3719f9f2731664719e15007e8ad56,"Add property tracking if expand/collapse includes children

This can then be checked in will/did expand/collapse delegate methods."
sorbits,2015-07-15 20:05:25,https://api.github.com/repos/textmate/textmate/git/commits/63b1d2a7fe8687308327712cbe863714898f2728,63b1d2a7fe8687308327712cbe863714898f2728,"Add hash implementation to FSItem

The NSOutlineView uses an NSSet to track expanded items (during reload), so for items used in an NSOutlineView this method is sort of required."
sorbits,2015-07-15 20:04:25,https://api.github.com/repos/textmate/textmate/git/commits/3b49fd173ebad2e6ff83d5b7f9abee2d54fc48cf,3b49fd173ebad2e6ff83d5b7f9abee2d54fc48cf,Add block-based API to asynchronously load FSDataSource items
sorbits,2015-07-15 20:02:16,https://api.github.com/repos/textmate/textmate/git/commits/8a2b97207c486a1d267117c05ab45b95eabba064,8a2b97207c486a1d267117c05ab45b95eabba064,"Refactor FSDirectoryDataSource

All code has been moved to the FSItem subclass.

The advantage is that bookkeeping becomes easier, for example no need to explicitly unregister paths (instead we can do that in the destructor).

The disadvantage is that sharing resources between items becomes harder, for example all (expanded) folders track file system and version control changes, though the existing code only accidentally shared these resources for identical paths, and it actually lacked a tracking system for retain counts."
sorbits,2015-06-25 21:01:58,https://api.github.com/repos/textmate/textmate/git/commits/c56bb0c9f1147f1ba79b1af1de40bd7b7a21f438,c56bb0c9f1147f1ba79b1af1de40bd7b7a21f438,Double-tapping shift disables “freehanded mode” for single caret
sorbits,2015-06-25 17:27:25,https://api.github.com/repos/textmate/textmate/git/commits/bf7f7b21d170051500d7a2c9c818577ce2b8afec,bf7f7b21d170051500d7a2c9c818577ce2b8afec,Checkin release notes
sorbits,2015-06-25 15:09:54,https://api.github.com/repos/textmate/textmate/git/commits/a69711755ff2ba36babf571672f3da924f38fbba,a69711755ff2ba36babf571672f3da924f38fbba,"Read the line number scale factor from user defaults

If you dislike the downscaling of the line numbers then run the following in a terminal:

    defaults write com.macromates.TextMate.preview lineNumberScaleFactor -float 1"
sorbits,2015-06-23 22:41:02,https://api.github.com/repos/textmate/textmate/git/commits/3fdc72b93af0167e234c48314658d702f65a8a5f,3fdc72b93af0167e234c48314658d702f65a8a5f,"Support spell checking being “automatic by language”

This must be set in the spelling panel and changing language via the spelling panel does not update the buffer (recheck the text with the new spelling language), so toggle automatic spelling after using the spelling panel to change language.

Closes #1139"
sorbits,2015-06-23 22:15:16,https://api.github.com/repos/textmate/textmate/git/commits/86dc42fdf4e23a280f75fd8244b9bbf8fa422c85,86dc42fdf4e23a280f75fd8244b9bbf8fa422c85,"Add ability to unlearn words (as being spelled correctly)

This option is available in the context menu when bringing it up for previously learned words."
sorbits,2015-06-23 22:08:59,https://api.github.com/repos/textmate/textmate/git/commits/f5fca8eb024f30df8c9c3d05fbccdeded2512917,f5fca8eb024f30df8c9c3d05fbccdeded2512917,Refactor how we create context menu
sorbits,2015-06-23 20:46:58,https://api.github.com/repos/textmate/textmate/git/commits/457969788e9119ae69a5fb1294922e694b7467cb,457969788e9119ae69a5fb1294922e694b7467cb,"Use std::tuple for the OS version

This makes compatibility checks simpler, since we can use a single comparison operator."
sorbits,2015-06-18 17:21:52,https://api.github.com/repos/textmate/textmate/git/commits/1767842229fc2c6b6e18c72656d1e195c0c3b8bb,1767842229fc2c6b6e18c72656d1e195c0c3b8bb,"Skip looking for shift/option modifier changes when mouse is down

Also skip updating the state if there has been no change (to the modifiers we’re interested in)."
sorbits,2015-06-18 17:11:39,https://api.github.com/repos/textmate/textmate/git/commits/265bdb671319c0147eb04d9311b1219ce7d7e700,265bdb671319c0147eb04d9311b1219ce7d7e700,No need to queue an auto-refresh in the flagsChanged: method
sorbits,2015-06-17 19:55:34,https://api.github.com/repos/textmate/textmate/git/commits/1919bce337b66517558be25b7c4392c873720d83,1919bce337b66517558be25b7c4392c873720d83,"Delay context menu to next event loop cycle when using keyboard

This also failed prior to the recent refactoring. Might have started with 10.10, as I haven’t noticed this until recently."
sorbits,2015-06-17 19:41:10,https://api.github.com/repos/textmate/textmate/git/commits/5d30498be25708d3f023dcd0f486fc1d96f30b55,5d30498be25708d3f023dcd0f486fc1d96f30b55,Provide full line of context when asking for spelling suggestions
sorbits,2015-06-16 14:31:35,https://api.github.com/repos/textmate/textmate/git/commits/70ef4c94c1e4e1fee073cebd8ac8687c7995eeca,70ef4c94c1e4e1fee073cebd8ac8687c7995eeca,"Remove use of deprecated NSSpellChecker API

We do not provide the full line to the new API, this will require a bit of refactoring."
sorbits,2015-06-16 14:20:39,https://api.github.com/repos/textmate/textmate/git/commits/1ac59e2553113d2708187def49160348ca2921af,1ac59e2553113d2708187def49160348ca2921af,Update OakTextView to use NSDraggingSession API (10.7)
sorbits,2015-06-15 14:41:52,https://api.github.com/repos/textmate/textmate/git/commits/af82d6e540fe24eb674fe6a280889f634c3d088d,af82d6e540fe24eb674fe6a280889f634c3d088d,"Update OakTabBarView to use NSDraggingSession API (10.7)

Previously used API has been deprecated."
sorbits,2015-06-15 10:17:33,https://api.github.com/repos/textmate/textmate/git/commits/e8cba4dbae046288dcc2c7236ba6e2ab0784e8d5,e8cba4dbae046288dcc2c7236ba6e2ab0784e8d5,"Support reloading tab bar view while a tab is being dragged

This would happen if dragging a tab into an unmodified document (in the same window) while holding down control (to insert the path of the dragged tab).

Here the document would change state to “modified” which would trigger a tab bar view reload, but since the drag session isn’t completed, we reload the tabs while one of them is “outside” the bar, which causes it to be added, and once the drag session completes, the original tab outside the bar, will be re-added, leading to two copies of the same tab."
sorbits,2015-06-15 09:59:17,https://api.github.com/repos/textmate/textmate/git/commits/cb9e2e5fa42606a39a22801cc24255849c67bd30,cb9e2e5fa42606a39a22801cc24255849c67bd30,"Revert ""Suppress warning from the atos Xcode tool""

The option that was recently made mandatory has now been removed.

This reverts commit b0814dfbd9bbea3eaa14f2abeb8330e58fc8bb8f."
sorbits,2015-06-13 17:16:10,https://api.github.com/repos/textmate/textmate/git/commits/9d1d1a1a5a65d0dab8213a48dfde35f9ed7863b3,9d1d1a1a5a65d0dab8213a48dfde35f9ed7863b3,"Link directly with static versions of boost libraries

This is currently using absolute paths since it’s a quick fix."
sorbits,2015-06-13 16:05:53,https://api.github.com/repos/textmate/textmate/git/commits/9dc71d568726b648dbc8cf49dd0f8a71347685c4,9dc71d568726b648dbc8cf49dd0f8a71347685c4,Checkin release notes
sorbits,2015-06-12 12:18:53,https://api.github.com/repos/textmate/textmate/git/commits/4a7faba2c08f28392c79a6c9c9d6f81d0d43d257,4a7faba2c08f28392c79a6c9c9d6f81d0d43d257,Do not show “TextMate is Outdated!” dialog for licensed copies
sorbits,2015-06-12 12:18:19,https://api.github.com/repos/textmate/textmate/git/commits/e5404fb1ea2bd369cb9ad1704d9631fffc0caa76,e5404fb1ea2bd369cb9ad1704d9631fffc0caa76,"Expose the registration window controller

Also make the registration window show up at the modal window layer. It should (probably) be using a modal session, though not entirely sure."
sorbits,2015-06-12 12:18:12,https://api.github.com/repos/textmate/textmate/git/commits/980b0b9796b828539f3a4956aa16fd104908437f,980b0b9796b828539f3a4956aa16fd104908437f,Double-tapping shift will now “deselect last”
sorbits,2015-06-12 12:17:06,https://api.github.com/repos/textmate/textmate/git/commits/d17f5095361ae35af8c39320d0e0159c5e41d7d5,d17f5095361ae35af8c39320d0e0159c5e41d7d5,"Implement a “deselect last” action method

If there are multiple (discontinuous) selections then this action will drop the last one.

If there are multiple carets (with no selections) then this action will drop all but the first caret."
sorbits,2015-06-12 12:16:50,https://api.github.com/repos/textmate/textmate/git/commits/ec37b09faf4cd88f1908e6701e1c7cd437c33f32,ec37b09faf4cd88f1908e6701e1c7cd437c33f32,"Use find clipboard when no string is present in macro

This makes it possible to combine the “Use Selection for Find / Replace” with a non-simple find action (e.g. “Replace All”).

If any find options are set (case sensitive, regular expression, etc.) then these will trump the options set for the entry on the find clipboard."
sorbits,2015-06-12 12:16:12,https://api.github.com/repos/textmate/textmate/git/commits/f4089e76fd9817ac2f0d2358c1c6ec9cddd498e0,f4089e76fd9817ac2f0d2358c1c6ec9cddd498e0,"Using Check Spelling at the end of a word now checks that word

This supports the workflow of typing a misspelled word and then using Check Spelling (⌘;) to fix it."
sorbits,2015-06-12 12:14:39,https://api.github.com/repos/textmate/textmate/git/commits/b826f34584358d13d3f63be2db9f9248f769bb9b,b826f34584358d13d3f63be2db9f9248f769bb9b,Disabling anti-alias will now also apply to the line numbers
sorbits,2015-06-12 12:12:47,https://api.github.com/repos/textmate/textmate/git/commits/9a7203cae182090a88151789989de85037415975,9a7203cae182090a88151789989de85037415975,Eliminate redundant anti-alias user defaults constant
sorbits,2015-06-12 12:10:17,https://api.github.com/repos/textmate/textmate/git/commits/4f2f799c6b324c4b1617749119aa596416db5945,4f2f799c6b324c4b1617749119aa596416db5945,"Convert filter string to decomposed unicode

Since we are doing a literal (byte-by-byte) subset match we need to have the filter string use the same unicode normalization form as the items it is matched against.

For favorites and the file chooser, the items are file system names, which default to the decomposed form.

Ideally the filtering algorithm would know about diacritics, but in practice the current solution should work for most actual scenarios, and is much simpler (thus faster)."
sorbits,2015-05-09 19:40:29,https://api.github.com/repos/textmate/textmate/git/commits/4827e354f032732ac37ce4170b1ad1b718d18337,4827e354f032732ac37ce4170b1ad1b718d18337,Don’t call non-virtual member functions for nullptr
joachimm,2015-04-08 19:56:56,https://api.github.com/repos/textmate/textmate/git/commits/70893f4583ab21e8a56b0ab2c47f54699ae77f72,70893f4583ab21e8a56b0ab2c47f54699ae77f72,Use dense_hash_map for style cache
joachimm,2015-02-27 00:47:57,https://api.github.com/repos/textmate/textmate/git/commits/b7a1011f96633d65cd81a4f2d09eb36180cbd157,b7a1011f96633d65cd81a4f2d09eb36180cbd157,Update install instructions
joachimm,2015-02-26 23:23:11,https://api.github.com/repos/textmate/textmate/git/commits/71960834ba58a1207fae2f8a97b15552543afdc2,71960834ba58a1207fae2f8a97b15552543afdc2,Setup Google's sparsehash library for use
joachimm,2015-04-08 19:56:16,https://api.github.com/repos/textmate/textmate/git/commits/f7dd4c0acee74888b86a69455771c42e0ca46a84,f7dd4c0acee74888b86a69455771c42e0ca46a84,Add std::hash() implementation to scope_t
sorbits,2015-05-06 19:20:21,https://api.github.com/repos/textmate/textmate/git/commits/50250bb4028a8514d9b933fdcc4a0868a1e0981e,50250bb4028a8514d9b933fdcc4a0868a1e0981e,"Escape tilde in default glob pattern

In retrospect it was perhaps a mistake to use tilde as a special character in globs."
sorbits,2015-05-06 19:19:07,https://api.github.com/repos/textmate/textmate/git/commits/0f4397769d491c7db60a974e3b130d944b56bc60,0f4397769d491c7db60a974e3b130d944b56bc60,"Include the cstdlib header

This is to ensure we get the integer prototype for std::abs"
sorbits,2015-04-30 12:07:58,https://api.github.com/repos/textmate/textmate/git/commits/dbd33948f3ca7b228e17940d071636ce7b155002,dbd33948f3ca7b228e17940d071636ce7b155002,For unknown key binding actions we append this info to its name
sorbits,2015-04-30 12:07:15,https://api.github.com/repos/textmate/textmate/git/commits/74ef6697baf68c020bcb77a5d7e5e4eae54e3e37,74ef6697baf68c020bcb77a5d7e5e4eae54e3e37,Our doCommandBySelector: override should beep for unknown actions
sorbits,2015-04-30 11:35:23,https://api.github.com/repos/textmate/textmate/git/commits/0edcddccfaab59c7146dddd7f3c2e4bc59a7fac2,0edcddccfaab59c7146dddd7f3c2e4bc59a7fac2,Do proper escaping when constructing a glob from file path
sorbits,2015-04-30 11:21:34,https://api.github.com/repos/textmate/textmate/git/commits/9ceb07e54c57d6cbe2eb097844f4381d057637f8,9ceb07e54c57d6cbe2eb097844f4381d057637f8,Add API to escape a string for use in a glob pattern
sorbits,2015-04-30 11:20:39,https://api.github.com/repos/textmate/textmate/git/commits/c6c388e088b927d2cf56d0e54fe89d2387b827a5,c6c388e088b927d2cf56d0e54fe89d2387b827a5,Add explicit link dependency
rdwampler,2015-04-23 02:28:49,https://api.github.com/repos/textmate/textmate/git/commits/d7121673ba24ec6a2ef12c54d528056f8e1ecc8d,d7121673ba24ec6a2ef12c54d528056f8e1ecc8d,"Declare properties `needsNewWebView` and `webView` @dynamic

This suppress a warning with the latest version of clang shipped with Xcode 6.3."
rdwampler,2015-04-23 02:16:23,https://api.github.com/repos/textmate/textmate/git/commits/4aff7098a5d6e503c6301d2fc49c0b137d754c19,4aff7098a5d6e503c6301d2fc49c0b137d754c19,"Use std::abs instead of abs()

This suppresses a couple of warnings with the latest version of clang shipped with Xcode 6.3."
rdwampler,2015-04-23 01:47:53,https://api.github.com/repos/textmate/textmate/git/commits/172ce9d4282e408fe60b699c432390b9f6e3f74a,172ce9d4282e408fe60b699c432390b9f6e3f74a,"Replace `thread_local` with boost equivalent

The new version of clang (Apple LLVM version 6.1.0) as shipped with Xcode 6.3, disabled TLS. According to http://clang.llvm.org/cxx_status.html, in order to support `thread_local`, the C++ runtime library from g++-4.8 or later is needed.

For now, we can use the boost `thread_specific_ptr`. This is probably a reasonable solution since 1) it should be portable with old and future versions of (Apple's) clang and 2) requires no additional dependencies."
fish2000,2015-04-12 08:37:20,https://api.github.com/repos/textmate/textmate/git/commits/23509380cb1697a14c6e0eeaf3c3a26f6bd5b71e,23509380cb1697a14c6e0eeaf3c3a26f6bd5b71e,"Fixed fatal error in Applications/indent/indent.cc

The static `std::map` instance (named just `map`, on line 79) had its initializer template params in the wrong order, which kept it from compiling. Swapping them as per this PR lets `indent` build and run with no issues."
jgavris,2015-04-08 15:42:33,https://api.github.com/repos/textmate/textmate/git/commits/f9e8192d00483e461d26ead4bb3842e0b64feffc,f9e8192d00483e461d26ead4bb3842e0b64feffc,Fix t_bump_date timezone
waynn,2015-03-31 18:34:32,https://api.github.com/repos/textmate/textmate/git/commits/9d517741efca11a84585a8c2f96bd5720be638c7,9d517741efca11a84585a8c2f96bd5720be638c7,Moving a comma that seems misplaced
yuuq,2015-03-27 21:36:47,https://api.github.com/repos/textmate/textmate/git/commits/5a1754bc0198d9cc03899265127a6cf19f9c5a5e,5a1754bc0198d9cc03899265127a6cf19f9c5a5e,"Add missing shadow to find/replace history pop-up list

The NSComboBox, whose pop-up list has shadow, and so it will be nice for this similar control."
sorbits,2015-03-28 02:44:28,https://api.github.com/repos/textmate/textmate/git/commits/9c69badaf6938d5d72bb4fd44f54472f9b14deed,9c69badaf6938d5d72bb4fd44f54472f9b14deed,Save with Xcode 6.2 (6C131e)
sorbits,2015-03-26 05:19:19,https://api.github.com/repos/textmate/textmate/git/commits/8c3177113f8f9dadfb39901767b415e0a0e5500a,8c3177113f8f9dadfb39901767b415e0a0e5500a,Add missing newline to error output
sorbits,2015-03-26 05:15:18,https://api.github.com/repos/textmate/textmate/git/commits/b0814dfbd9bbea3eaa14f2abeb8330e58fc8bb8f,b0814dfbd9bbea3eaa14f2abeb8330e58fc8bb8f,"Suppress warning from the atos Xcode tool

Not sure why we get this warning since we do go via xcrun."
sorbits,2015-03-26 05:13:33,https://api.github.com/repos/textmate/textmate/git/commits/3c49b4fd69e095f3ef1659cc63da998fc023a1cc,3c49b4fd69e095f3ef1659cc63da998fc023a1cc,"fixup! Support discontinuous selections in command input API

Fixes textmate/bugs#12"
sorbits,2015-03-25 06:03:52,https://api.github.com/repos/textmate/textmate/git/commits/08db1b53a92a897235e2f7b6dffd62e84c34053e,08db1b53a92a897235e2f7b6dffd62e84c34053e,Checkin release notes
koenpunt,2015-03-24 09:30:13,https://api.github.com/repos/textmate/textmate/git/commits/6aa81a0eb9cdf577bd15b887bd40d5077fbb4c65,6aa81a0eb9cdf577bd15b887bd40d5077fbb4c65,"Fix typo, delsyedPlaySound => delayedPlaySound"
sorbits,2015-03-25 05:26:28,https://api.github.com/repos/textmate/textmate/git/commits/65480a60bff25327ccef97da5466c972dba1cd50,65480a60bff25327ccef97da5466c972dba1cd50,Find dates surrounded by underscores in path names
sorbits,2015-03-25 05:15:26,https://api.github.com/repos/textmate/textmate/git/commits/245450ae9fb82cf08f93c1744900480b9f6b4c91,245450ae9fb82cf08f93c1744900480b9f6b4c91,Add test for updating date in file path string
sorbits,2015-03-24 11:26:01,https://api.github.com/repos/textmate/textmate/git/commits/6c07075cc06277703e0a18017b1f1ba48fa85d4f,6c07075cc06277703e0a18017b1f1ba48fa85d4f,"Improve behavior of command-clicking

When command-clicking an existing selection we remove the selection and insert a single caret.

When double/triple-clicking we remove existing carets/selections in the range that gets selected."
sorbits,2015-03-24 06:38:43,https://api.github.com/repos/textmate/textmate/git/commits/a003d762349e211ce1d2e40c7e9bbf29557c188a,a003d762349e211ce1d2e40c7e9bbf29557c188a,"Do not go via /usr/bin/env for bash

For standard commands we want to use the system’s standard interpreter, as that makes it easier to ensure compatibility."
sorbits,2015-03-24 06:37:18,https://api.github.com/repos/textmate/textmate/git/commits/7a7f5a967655b8159afa8dabb63cf06f87d21cc4,7a7f5a967655b8159afa8dabb63cf06f87d21cc4,Preserve font scale factor when switching theme
sorbits,2015-03-23 11:01:47,https://api.github.com/repos/textmate/textmate/git/commits/daa32482bf92f160720214efa7c45feb36cd7a55,daa32482bf92f160720214efa7c45feb36cd7a55,"When duplicating a file with a YYYY-MM-DD date we bump the date

This is instead of adding “copy” to the base name.

This is useful when you use a previous (dated) document as template for a new one, e.g. an invoice, meeting minutes, or similar."
sorbits,2015-03-23 10:03:36,https://api.github.com/repos/textmate/textmate/git/commits/eca7d839f325b54321009b8c4461a2e49462462c,eca7d839f325b54321009b8c4461a2e49462462c,Update MASPreferences submodule: Improve 10.10 compatibility
sorbits,2015-03-23 04:53:21,https://api.github.com/repos/textmate/textmate/git/commits/31464f39fdb33ea449d983bf4ffa085d68068b8d,31464f39fdb33ea449d983bf4ffa085d68068b8d,"Send performCloseTab: to our delegate instead of next responder

A delegate was introduced (out of necessity) in 6748c281098d87ac3c441efe0de7a9d1d38facdc but we didn’t use it for everything, leading to inconsistent code."
sorbits,2015-03-23 04:27:11,https://api.github.com/repos/textmate/textmate/git/commits/491ef65e65239863dae2e97e9ea77f7f30ffad9c,491ef65e65239863dae2e97e9ea77f7f30ffad9c,fixup! Support discontinuous selections in command input API
koenpunt,2015-03-22 16:43:06,https://api.github.com/repos/textmate/textmate/git/commits/808aaabc44eaa01bdb9c479250be0f102527f282,808aaabc44eaa01bdb9c479250be0f102527f282,"Add NSOtherMouseUp to OakIsAlternateKeyOrMouseEvent

To allow the alternate behavior (“close other”) when clicking a tab with the middle mouse button."
koenpunt,2015-03-22 11:31:35,https://api.github.com/repos/textmate/textmate/git/commits/436068cbb7eff1998a4e292ddf78eedc54d160e0,436068cbb7eff1998a4e292ddf78eedc54d160e0,Allow closing tabs on “other” (middle) mouse button
sorbits,2015-03-18 04:00:51,https://api.github.com/repos/textmate/textmate/git/commits/8829637b6c3571345696e25b6d9589d013c307e7,8829637b6c3571345696e25b6d9589d013c307e7,"Workaround for control-click not sent to superview

We only add this workaround to tab item views and rollover buttons, but the issue applies to all subviews that do not have their own context menu, but placed in a superview which does.

Closes textmate/bugs#11"
sorbits,2015-03-08 09:51:55,https://api.github.com/repos/textmate/textmate/git/commits/6e5169a9af0acf361500096a54f0f527f59f756a,6e5169a9af0acf361500096a54f0f527f59f756a,"When command input is discontinuous then split result on LF

Input range i will get the i’th line from the output (module n, with n being total number of output lines)."
sorbits,2015-03-08 09:49:19,https://api.github.com/repos/textmate/textmate/git/commits/100c13f3b5dd12c55b0a4f1beaf91c3865d1ef96,100c13f3b5dd12c55b0a4f1beaf91c3865d1ef96,"Let command input be LF separated selections when discontinues

This is only when the command input requested is “selection”. In theory it probably should also do this when input is character, word, or line, but in this case, we can end up with overlapping input ranges."
sorbits,2015-03-08 07:21:59,https://api.github.com/repos/textmate/textmate/git/commits/30be46a166bb7609a6fd204693042d8b91ef5c3c,30be46a166bb7609a6fd204693042d8b91ef5c3c,Support discontinuous selections in command input API
sorbits,2015-03-05 09:33:36,https://api.github.com/repos/textmate/textmate/git/commits/0e309b10566ed3f375296e69dce9bbfcfe0360fc,0e309b10566ed3f375296e69dce9bbfcfe0360fc,"Add “never hide left border” tab bar view property

We set this when the file browser is on the left of the tab bar view."
sorbits,2015-03-05 09:29:34,https://api.github.com/repos/textmate/textmate/git/commits/b80b526c7014a69abea584063b4e6baa364d29c5,b80b526c7014a69abea584063b4e6baa364d29c5,Use actual type for OakTabBarView instead of NSView
sorbits,2015-03-05 07:35:58,https://api.github.com/repos/textmate/textmate/git/commits/0c9735c767251f4244ac1edf9ee49760f3cb1cd9,0c9735c767251f4244ac1edf9ee49760f3cb1cd9,Show a heads-up display when changing font scale factor
sorbits,2015-03-05 07:31:58,https://api.github.com/repos/textmate/textmate/git/commits/4a825499d6f18c0562e4d26be3e75c2e16fa2814,4a825499d6f18c0562e4d26be3e75c2e16fa2814,"Introduce font scale factor property

Previously increasing/decreasing font size would simply change the base font, making it non-trivial to know the current scale factor and/or reset it."
sorbits,2015-03-05 07:26:59,https://api.github.com/repos/textmate/textmate/git/commits/f54a7cb45b51775a4ebbe739b330a7005ce96f04,f54a7cb45b51775a4ebbe739b330a7005ce96f04,Update dialog plug-in (remove unused code)
sorbits,2015-03-05 07:25:27,https://api.github.com/repos/textmate/textmate/git/commits/c710ee8b7a562627f30cf0dcca76a79d53d88152,c710ee8b7a562627f30cf0dcca76a79d53d88152,Remove unused code
sorbits,2015-03-02 10:43:04,https://api.github.com/repos/textmate/textmate/git/commits/c416262d820e4e220f986ba0e247f3db46c4a8db,c416262d820e4e220f986ba0e247f3db46c4a8db,Limit FFMatch / find::match_t boxing and unboxing
sorbits,2015-03-02 10:40:19,https://api.github.com/repos/textmate/textmate/git/commits/7b233c562cb204803fcde8ea8d6aaea1ac652930,7b233c562cb204803fcde8ea8d6aaea1ac652930,Update dialog plug-in (eliminate sizeofA macro)
sorbits,2015-03-02 09:59:31,https://api.github.com/repos/textmate/textmate/git/commits/8d15a4972d0d3144c3708d424d2da36d1f8807d0,8d15a4972d0d3144c3708d424d2da36d1f8807d0,Fix logic to detect Yosemite or later
sorbits,2015-03-02 09:57:01,https://api.github.com/repos/textmate/textmate/git/commits/40879d5683d347dd0ba3fa31e43ab6ac29d22082,40879d5683d347dd0ba3fa31e43ab6ac29d22082,Replace sizeofA macro with range-based for loop or std::begin/end
nanoant,2015-02-27 19:47:48,https://api.github.com/repos/textmate/textmate/git/commits/f2d8598b0698f9bd6498be04106c3084ca10963f,f2d8598b0698f9bd6498be04106c3084ca10963f,"Fix dull file browser labels on Yosemite

Using NSTextFieldCell instead default NSCell together with
NSTableViewSelectionHighlightStyleSourceList on Yosemite causes cells get light
gray color, making the whole list dull and unreadable. Workaround that setting
cell's `textColor` to `[NSColor textColor]`."
nanoant,2015-02-27 17:27:15,https://api.github.com/repos/textmate/textmate/git/commits/6136e1d6077fa6bca67b240ae9962e3aef90550f,6136e1d6077fa6bca67b240ae9962e3aef90550f,"Remove browser header shadow & bold on Yosemite

This applies to tabs above document case."
nanoant,2015-02-27 17:24:50,https://api.github.com/repos/textmate/textmate/git/commits/0ca21f9c7551a7161a00ccf6704ffde18abd7d7f,0ca21f9c7551a7161a00ccf6704ffde18abd7d7f,"Use black text color selected tab on Yosemite

This is more inline with Safar, Xcode & Terminal look on Yosemite."
sorbits,2015-02-08 17:17:13,https://api.github.com/repos/textmate/textmate/git/commits/b51f7f44af30c8a5e463539460dbea1992991896,b51f7f44af30c8a5e463539460dbea1992991896,"Rename bundles::item_t::full_name → name_with_bundle

Although not perfectly clear, it does better match what is actually returned from this member function."
rdwampler,2015-02-07 05:23:39,https://api.github.com/repos/textmate/textmate/git/commits/438f110dc9d4c551a344729ebbe084188658de8b,438f110dc9d4c551a344729ebbe084188658de8b,"fixup! Use `_externalScopeAttributes` as a fallback to export TM_SCM_NAME

Added a const reference to avoid the unnecessary copies when using `auto` in range-based for loops. One can find other instances in the code base where we could probably avoid making copies in similar situations, but I did not want to create the patch noise. The intention here is just to correct the obvious mistake and avoid repeating it in the future."
sorbits,2015-02-04 06:50:35,https://api.github.com/repos/textmate/textmate/git/commits/fcaa683a0943e378d4d88dd1ddbb6c392c967789,fcaa683a0943e378d4d88dd1ddbb6c392c967789,"Do not invoke “did save” callback for untitled documents

The problem is that when something is saved, the text view is responsible for invoking the callbacks, but it might not show the document that was saved (e.g. in the case of Save All where background tabs are saved).

Long-term this should be improved so that OakTextView is not responsible for executing these commands; the challenge is that OakTextView supply a lot of the environment (like some of the TM variables), potentially the input, and is also the potentially receiver of the output."
sorbits,2015-02-03 09:59:46,https://api.github.com/repos/textmate/textmate/git/commits/5be2c426ddc38b4d5bec794f269e90d37240d206,5be2c426ddc38b4d5bec794f269e90d37240d206,Checkin release notes
sorbits,2015-02-01 12:10:47,https://api.github.com/repos/textmate/textmate/git/commits/fca65bdd8b29069602d4f0c0ff668d152a02d1cd,fca65bdd8b29069602d4f0c0ff668d152a02d1cd,"Handle unknown job identifiers in TextMate’s custom URL handler

Using a relative URL in a command with HTML output will be relative to our custom URL scheme which could result in stalling the output, as we did not handle “not found”, so WebKit would wait for data until a timeout."
sorbits,2015-02-01 11:00:48,https://api.github.com/repos/textmate/textmate/git/commits/285fe6f90762b3c9b717d46efe261c88984c97b3,285fe6f90762b3c9b717d46efe261c88984c97b3,"Use NSInteger instead of int

The code is tightly coupled with Cocoa, so it makes sense to use the Cocoa type definitions."
sorbits,2015-02-01 06:51:54,https://api.github.com/repos/textmate/textmate/git/commits/a54c0616ae9fa9b06d7972e9031ea576d2208cd9,a54c0616ae9fa9b06d7972e9031ea576d2208cd9,Include flv and swf files in the default list of non-text files
sorbits,2015-01-31 04:54:35,https://api.github.com/repos/textmate/textmate/git/commits/638b813d9fd85817f92568ec92b28c01a3078914,638b813d9fd85817f92568ec92b28c01a3078914,"Account for tab item’s padding when doing partial layout

This partial layout is done when closing tab X to ensure that the close button of tab X+1 will occupy the same rectangle as was used by X.

Closes #1285."
rdwampler,2015-01-30 22:09:49,https://api.github.com/repos/textmate/textmate/git/commits/130d7615d2fb58008d26b775a5bd6c167a25be83,130d7615d2fb58008d26b775a5bd6c167a25be83,"Make `OakTabBarStyle` properties readonly

We do not modify these properties after initialization. Furthermore, where we do access them, we mark them as `const`."
rdwampler,2015-01-30 22:16:39,https://api.github.com/repos/textmate/textmate/git/commits/566cba3b44e17351455cc09b963fdb5f1b212dc4,566cba3b44e17351455cc09b963fdb5f1b212dc4,Mark local variable as const
rdwampler,2015-01-30 21:26:11,https://api.github.com/repos/textmate/textmate/git/commits/a9e48c01e6649e1a4a3efdb1e622a65e1c094fe1,a9e48c01e6649e1a4a3efdb1e622a65e1c094fe1,"Explicitly set the value for the left and right padding

While these properties are initialized to zero upon `alloc`, I think it makes the code easier to follow to explicitly set `leftPadding` and `rightPadding` to zero (if zero is desired) since the reader does not have to look around to ensure they aren't being set elsewhere."
sorbits,2015-01-30 14:50:40,https://api.github.com/repos/textmate/textmate/git/commits/b4ee16312bd8431050cffc034a8340baa4baaaee,b4ee16312bd8431050cffc034a8340baa4baaaee,"Revert ""Output frame of find window’s field editor (debug)""

This reverts commit 3d2ac7f371095c954c9fe3da463fec1754621452."
sorbits,2015-01-29 16:52:59,https://api.github.com/repos/textmate/textmate/git/commits/292e6eabb3737706c6963ad8a60e8a2b67d7acde,292e6eabb3737706c6963ad8a60e8a2b67d7acde,"Macro recording would not replay inserted text

This broke when we changed from insertText: → insertText:replacementRange: as the latter selector is not replayable.

We now record this action simply as insertText: and ignore the “replacementRange” argument. This argument can be used by advanced input managers, so there might be an issue with text recorded using such manager, however, to properly support this we need to translate the “replacementRange” into something relative, which is left as an exercise for a rainy day."
sorbits,2015-01-29 07:40:28,https://api.github.com/repos/textmate/textmate/git/commits/5acabfff6b0563f771432f058526a1d5cd7097ca,5acabfff6b0563f771432f058526a1d5cd7097ca,"Ensure document’s metadata is up-to-date before saving it

This was a problem for the saveOnBlur which takes a shortcut to saving, and previously wouldn’t save updated metadata.

This was a problem for folded text, as the old state of folded code was saved."
sorbits,2015-01-29 07:38:29,https://api.github.com/repos/textmate/textmate/git/commits/cca1f607fd5144789e1749afb798a2c6c02f5437,cca1f607fd5144789e1749afb798a2c6c02f5437,Introduce updateDocumentMetadata as public OakTextView method
sorbits,2015-01-29 07:37:56,https://api.github.com/repos/textmate/textmate/git/commits/812f8146bf91adfdf66debbb70abfe265b6cba46,812f8146bf91adfdf66debbb70abfe265b6cba46,"Only limit regexp search to 5 MB when operating on disk file

That is, if the file has been opened by the user, there is no size limit on what we will search."
sorbits,2015-01-29 07:35:34,https://api.github.com/repos/textmate/textmate/git/commits/439601b8b059bb788a926d35ed9752bf0cdf4ab7,439601b8b059bb788a926d35ed9752bf0cdf4ab7,Introduce API to check if a file reader works on an “open” buffer
sorbits,2015-01-21 08:55:16,https://api.github.com/repos/textmate/textmate/git/commits/f9cef6959b1de768896f45fa8eb683686001f053,f9cef6959b1de768896f45fa8eb683686001f053,"Handle searching files that end with an incomplete UTF-8 sequence

Previously this would cause infinite looping as we tried to read more to complete the UTF-8 sequence."
sorbits,2015-01-21 08:47:27,https://api.github.com/repos/textmate/textmate/git/commits/49b784f09caf5d9e4563bee8b2619d965d93cee1,49b784f09caf5d9e4563bee8b2619d965d93cee1,"Fix bad logic in if statement

Effectively we would only test if the prefix of a search result was malformed UTF-8, if the search result itself or the suffix was malformed, no error would be shown."
sorbits,2015-01-21 08:38:33,https://api.github.com/repos/textmate/textmate/git/commits/a1a8205467ed3f90cb08013bf0f2d49a83efdcee,a1a8205467ed3f90cb08013bf0f2d49a83efdcee,"Find in folder excerpt would be one byte too short for last line

Since it was one byte it would throw an exception if the last character on the line was a multi-byte sequence (as we’d create an NSString with malformed/truncated UTF-8)."
sorbits,2015-01-19 06:21:51,https://api.github.com/repos/textmate/textmate/git/commits/71f7c50aea95150a56177a83b6d9bd1dd4081c44,71f7c50aea95150a56177a83b6d9bd1dd4081c44,Checkin release notes
sorbits,2015-01-19 05:29:33,https://api.github.com/repos/textmate/textmate/git/commits/f8c823195f04f4a2d50199f82a8a14e8bb56ab9e,f8c823195f04f4a2d50199f82a8a14e8bb56ab9e,"Update script to create release notes

We now place the GitHub version comparison link in the list of changes rather than in the heading."
sorbits,2015-01-19 03:12:18,https://api.github.com/repos/textmate/textmate/git/commits/b84cb097dab4cc0d68a6f91a348ac006b23d058c,b84cb097dab4cc0d68a6f91a348ac006b23d058c,Add Ignore Case and Wrap Around checkboxes to incremental search
sorbits,2015-01-18 11:17:33,https://api.github.com/repos/textmate/textmate/git/commits/b854201acfab3f00330c193a0708df92c05a25ff,b854201acfab3f00330c193a0708df92c05a25ff,"Improve NSEvent decoding for non-Latin key mappings

If control (⌃) is down and the system gives us a non-ASCII key string then we will disregard it and instead convert the virtual key code to its ANSI character."
sorbits,2015-01-18 11:05:34,https://api.github.com/repos/textmate/textmate/git/commits/691a6b4086826379d86238b767e9bf929af0da67,691a6b4086826379d86238b767e9bf929af0da67,Remove redundancy
sorbits,2015-01-14 10:27:00,https://api.github.com/repos/textmate/textmate/git/commits/51fb4f4015a28ed2549a0c05a9fd5a59e28a5aa8,51fb4f4015a28ed2549a0c05a9fd5a59e28a5aa8,Update kvdb submodule: Bind keys to SQL statements
sorbits,2015-01-07 12:39:12,https://api.github.com/repos/textmate/textmate/git/commits/d9286edaba46a16aa49cd700f029ea087f8dd53f,d9286edaba46a16aa49cd700f029ea087f8dd53f,Update copyright to 2015
estum,2014-12-25 20:01:25,https://api.github.com/repos/textmate/textmate/git/commits/71a2c2dfa8a7cc066770dd02fc594e5a4cd8bd2b,71a2c2dfa8a7cc066770dd02fc594e5a4cd8bd2b,"Allow opening favorites at startup and re-activation

This is enabled via the ‘showFavoritesInsteadOfUntitled’ defaults key."
sorbits,2014-12-25 11:46:31,https://api.github.com/repos/textmate/textmate/git/commits/619125600e7d702cd6339f8f8065b87cef175159,619125600e7d702cd6339f8f8065b87cef175159,"Replace call to cascadeTopLeftFromPoint: with custom code

The problem is that cascadeTopLeftFromPoint: will change the window frame if the window frame is outside the visible screen rect.

It would appear that the way this API is supposed to be used is that new windows should be opened using the same frame as an existing, then cascadeTopLeftFromPoint: should be called on the new window, and the result should be passed to setFrameTopLeftPoint:.

Doing it like this would complicate our code because we currently want the window frame before opening the new window, and when finding the window frame, we check whether or not we should cascade to an existing window, so we would have to pass state around with the proposed new window frame (to indicate whether or not the window should be cascaded after opening it)."
sorbits,2014-12-25 08:36:01,https://api.github.com/repos/textmate/textmate/git/commits/29a576ffbed2caf66da9b607a85a4a751147ae54,29a576ffbed2caf66da9b607a85a4a751147ae54,"Don’t go via helper for pthread_setname_np

This was previously done because the function wasn’t available until 10.7, but since that is (now) our deployment target, there is no need to wrap the call."
sorbits,2014-12-25 08:33:56,https://api.github.com/repos/textmate/textmate/git/commits/0bdefafac3065e5745c4c27e8ee6fd599cdb28c5,0bdefafac3065e5745c4c27e8ee6fd599cdb28c5,Remove dependency graph support to only framework using this API
sorbits,2014-12-25 08:33:13,https://api.github.com/repos/textmate/textmate/git/commits/aeb9ab7d005af156b2609c16cdd2ec1155645edc,aeb9ab7d005af156b2609c16cdd2ec1155645edc,Move server.h to the only framework left using this legacy API
sorbits,2014-12-25 08:32:23,https://api.github.com/repos/textmate/textmate/git/commits/0c99cb0699ef089c1985411440583d70577433ac,0c99cb0699ef089c1985411440583d70577433ac,Remove unused helper function
rdwampler,2014-12-05 15:00:10,https://api.github.com/repos/textmate/textmate/git/commits/2c3ce33cbe7bb4b8e206c146fea16596abc0eba1,2c3ce33cbe7bb4b8e206c146fea16596abc0eba1,"Let user know if scm is disabled

Currently, if the scm disable, we would show it as ""Unversion"". For clarity let's status that it's disabled."
rdwampler,2014-12-05 14:58:48,https://api.github.com/repos/textmate/textmate/git/commits/7b92302aaf75c9634740ef11de9e09802daa447c,7b92302aaf75c9634740ef11de9e09802daa447c,Make `scm_enabled_for_path` API public
rdwampler,2014-12-09 03:49:38,https://api.github.com/repos/textmate/textmate/git/commits/068ee34af8f98b9d675fa947b9f26d3860f4d20d,068ee34af8f98b9d675fa947b9f26d3860f4d20d,"Use `_externalScopeAttributes` as a fallback to export TM_SCM_NAME

We set the attribute scopes `attr.scm.*` in two different places in DocumentController; however, we only export TM_SCM_NAME if the scm variables are present. So if `scmStatus` is not enabled, TM_SCM_NAME is never set or exported, but `attr.scm.*` can still be present."
rdwampler,2014-12-09 03:48:14,https://api.github.com/repos/textmate/textmate/git/commits/26523883f3159f23d757e776a8ef0d0f892c210b,26523883f3159f23d757e776a8ef0d0f892c210b,"Do not export TM_SCM_BRANCH

We original exported this for the commit window, which no longer uses it."
sorbits,2014-12-17 03:11:54,https://api.github.com/repos/textmate/textmate/git/commits/43ab10e45ca760a490c87cd978e7c178dc5b5470,43ab10e45ca760a490c87cd978e7c178dc5b5470,"Increase content compression resistance from high to required

The auto-layout debug mechanisms report that our layout is ambiguous, for example if inserting ‘[self.window visualizeConstraints:_myConstraints]’ at the end of showWindow:.

Closes #1282"
sorbits,2014-12-16 07:45:02,https://api.github.com/repos/textmate/textmate/git/commits/f29f6e414c1605d74b734d9e7217e5e1bde8a863,f29f6e414c1605d74b734d9e7217e5e1bde8a863,Update dialog plug-in (dispose nib after its window is closed)
sorbits,2014-12-16 07:44:13,https://api.github.com/repos/textmate/textmate/git/commits/123471a6e8329e0b2842b3c621efb6b47bb14da0,123471a6e8329e0b2842b3c621efb6b47bb14da0,Use arc4random_uniform (in tests) to avoid modulus bias
sorbits,2014-12-16 07:38:54,https://api.github.com/repos/textmate/textmate/git/commits/57033d89a3b44aeac5f4700288173d63b47c9656,57033d89a3b44aeac5f4700288173d63b47c9656,"Insert at caret for exit_insert_snippet when input is document

Previously we would insert “after input” which I don’t think is desired (when input is entire document)."
sorbits,2014-12-02 06:28:25,https://api.github.com/repos/textmate/textmate/git/commits/9afa98b8232741c08160bf2b449f2d4db949a7af,9afa98b8232741c08160bf2b449f2d4db949a7af,Re-introduce method to avoid crash reports from Emmet plug-in
sorbits,2014-11-30 02:11:11,https://api.github.com/repos/textmate/textmate/git/commits/23386c11388c79ac1784b6fee761094619fbb533,23386c11388c79ac1784b6fee761094619fbb533,Enable session restore (if disabled) when relaunching after build
sorbits,2014-11-30 02:06:27,https://api.github.com/repos/textmate/textmate/git/commits/09dfe50051f88801fdec49df1724562ffbdcf325,09dfe50051f88801fdec49df1724562ffbdcf325,"Avoid taking the address of compound literals

Clang considers this to be an error, previously we disabled diagnostics for this case, but probably better to adapt our code."
sorbits,2014-11-30 02:00:24,https://api.github.com/repos/textmate/textmate/git/commits/9f1f2f9e17a5b9ea03ae319f1852d0c9aee39046,9f1f2f9e17a5b9ea03ae319f1852d0c9aee39046,Use NSWorkspace’s frontmostApplication instead of GetFrontProcess
sorbits,2014-11-30 01:59:13,https://api.github.com/repos/textmate/textmate/git/commits/191600fd8cb263e6695a9fec546460520fa1978c,191600fd8cb263e6695a9fec546460520fa1978c,Change RMateServer.cc → RMateServer.mm
sorbits,2014-11-30 01:41:07,https://api.github.com/repos/textmate/textmate/git/commits/1433432d6b7e615ba35e1ca09175b08034c633a0,1433432d6b7e615ba35e1ca09175b08034c633a0,"Use NSApp’s activateIgnoringOtherApps: instead of SetFrontProcess

It used to be that using activateIgnoringOtherApps: would bring all windows to front, which was the motivation for using SetFrontProcessWithOptions (supplying it with the kSetFrontProcessFrontWindowOnly option), but during testing (on 10.9) it appears that activateIgnoringOtherApps: brings only main/key window to front."
sorbits,2014-11-30 01:16:04,https://api.github.com/repos/textmate/textmate/git/commits/166eedbb72f39ac88d1fce91bdc1b7f3c627f7e6,166eedbb72f39ac88d1fce91bdc1b7f3c627f7e6,Simplify relaunch code
sorbits,2014-11-29 22:59:35,https://api.github.com/repos/textmate/textmate/git/commits/f34a8f28e051baf6e4aac9cc025c25a80e33ec05,f34a8f28e051baf6e4aac9cc025c25a80e33ec05,Use CFURL API for getting and setting label color
sorbits,2014-11-29 22:25:26,https://api.github.com/repos/textmate/textmate/git/commits/38b68bd4fecd73a7ce46b6c1aa55a5cb4c0da1be,38b68bd4fecd73a7ce46b6c1aa55a5cb4c0da1be,"Don’t support dispatch queue parameter for runner_t::launch

We do not use it and starting with the 10.8 SDK, dispatch types are Objective-C objects when building as Objective-C(++), which is a problem for a header that is included from both C(++) and Objective-C(++)."
sorbits,2014-11-29 22:22:33,https://api.github.com/repos/textmate/textmate/git/commits/b01201efbddab1dde93576aa3a6bfb2a841908cc,b01201efbddab1dde93576aa3a6bfb2a841908cc,"Change NSSingleUnderlineStyle → NSUnderlineStyleSingle

The former is a legacy symbol."
sorbits,2014-11-29 03:07:25,https://api.github.com/repos/textmate/textmate/git/commits/33692608dcbdfc3345758a4f18e22e0a276b8cbf,33692608dcbdfc3345758a4f18e22e0a276b8cbf,Checkin release notes
sorbits,2014-11-29 03:01:23,https://api.github.com/repos/textmate/textmate/git/commits/37df09bf7b132cc629420057777be000f44abebd,37df09bf7b132cc629420057777be000f44abebd,Use to_s instead of sending UTF8String
sorbits,2014-11-29 02:53:40,https://api.github.com/repos/textmate/textmate/git/commits/bf4cbd33fa85adc51f2efc322647ff0ccaa7a15b,bf4cbd33fa85adc51f2efc322647ff0ccaa7a15b,"Remove NSString* typecast when using to_s helper

This has a small run-time cost but source looks better and theoretically safer code."
sorbits,2014-11-29 02:51:02,https://api.github.com/repos/textmate/textmate/git/commits/66b849c4c6042e3a734d967f1dd38ebbcc6d4a2f,66b849c4c6042e3a734d967f1dd38ebbcc6d4a2f,Use to_s on the insertText:/setMarkedText: argument
sorbits,2014-11-29 02:50:18,https://api.github.com/repos/textmate/textmate/git/commits/c8960dee94ef9a7a60d313ae32736a5699ae7623,c8960dee94ef9a7a60d313ae32736a5699ae7623,Add to_s for NSAttributedString and id
sorbits,2014-11-29 01:57:00,https://api.github.com/repos/textmate/textmate/git/commits/174603b4f441039b3703e5bea7e7ee923088127d,174603b4f441039b3703e5bea7e7ee923088127d,"Let input context handle most key events

This is because the input context may open windows where it wants to handle arrow or number keys.

Unfortunately we can’t tell the system about our local key bindings, so we need to handle those ourself.

The system does not respect bindings for delete and arrow keys with control modifier set, so those we still handle.

We also handle multi-stroke key bindings, since handling successive key strokes should be done before menu keys, which the system doesn’t do (as we don’t call upon the system until keyDown:)."
sorbits,2014-11-29 01:29:16,https://api.github.com/repos/textmate/textmate/git/commits/724dd229b22c85e6844529c14e585885c3395fe0,724dd229b22c85e6844529c14e585885c3395fe0,Eliminate typedef
sorbits,2014-11-29 01:22:11,https://api.github.com/repos/textmate/textmate/git/commits/098fe8427f0e9405776120ea9f729ae37d3b6b2a,098fe8427f0e9405776120ea9f729ae37d3b6b2a,"Use local event monitor to handle multi-stroke key bindings

This avoids a state variable and the need for dealing with successive strokes in performKeyEquivalent: (to swallow bound keys before the main menu has a chance to handle it)."
sorbits,2014-11-29 00:52:25,https://api.github.com/repos/textmate/textmate/git/commits/7f0c323f6667eec885cc9fe714939b1ff2f76681,7f0c323f6667eec885cc9fe714939b1ff2f76681,Use NSMaxRange helper function
sorbits,2014-11-28 23:14:33,https://api.github.com/repos/textmate/textmate/git/commits/a4763ac96ccf6100a8521434f324f3047e1826f1,a4763ac96ccf6100a8521434f324f3047e1826f1,"Be smarter about testing if replace text field has focus

Rather than skip the field editor, regardless of which view it belongs to, we check if the first responder is the replace text field’s (current) field editor."
sorbits,2014-11-28 22:30:01,https://api.github.com/repos/textmate/textmate/git/commits/40857b1566cea1171bfdd6cbcd3fd5ae656abcb0,40857b1566cea1171bfdd6cbcd3fd5ae656abcb0,"Do not disable Apple’s “press and hold” accent feature

With NSTextInputClient conformance this feature works fairly well, though we currently do not pass events (that we have an action for) to the current input context, which e.g. means that arrow left/right cannot be used to move through the variations."
sorbits,2014-11-28 22:25:33,https://api.github.com/repos/textmate/textmate/git/commits/579cef6f268363e72f050715e543ced454f710a0,579cef6f268363e72f050715e543ced454f710a0,Move protocol conformance declaration to implementation file
sorbits,2014-11-28 22:21:23,https://api.github.com/repos/textmate/textmate/git/commits/4211242920ec774e2bc9f25156409e12e69a06ef,4211242920ec774e2bc9f25156409e12e69a06ef,Implement NSTextInputClient protocol instead of NSTextInput
sorbits,2014-11-28 21:21:43,https://api.github.com/repos/textmate/textmate/git/commits/7247cb916a18961fa4cf66a68040dda2d6f7748d,7247cb916a18961fa4cf66a68040dda2d6f7748d,Remove unnecessary method signatures from private interface
sorbits,2014-11-28 20:57:19,https://api.github.com/repos/textmate/textmate/git/commits/b7a381be8b84f7413fb0898db670d1e73ae6ded0,b7a381be8b84f7413fb0898db670d1e73ae6ded0,"Don’t overload interpretKeyEvents:

The documentation does say that subclasses shouldn’t overload it, we only call it from a single location, and here we may want to instead use the input context’s handleEvent:."
sorbits,2014-11-28 08:58:40,https://api.github.com/repos/textmate/textmate/git/commits/5968aa55b253698165b496cc30f17e6c8f96bed5,5968aa55b253698165b496cc30f17e6c8f96bed5,"Let chooser windows remember their size (after relaunch)

Previously only the favorites / recent projects chooser would remember window size after a relaunch."
sorbits,2014-11-27 03:29:00,https://api.github.com/repos/textmate/textmate/git/commits/a0b79c7dfb5bf217104b594c294b62abe817d3e3,a0b79c7dfb5bf217104b594c294b62abe817d3e3,Increase mouse movement threshold for what is considered a click
sorbits,2014-11-27 00:54:31,https://api.github.com/repos/textmate/textmate/git/commits/c14c83d3c54de43030233fc254a37bb47450db08,c14c83d3c54de43030233fc254a37bb47450db08,"Support deleting array members in delta plists

Required after b96a4975e and related to 302600198."
sorbits,2014-11-27 00:52:28,https://api.github.com/repos/textmate/textmate/git/commits/2fe1e705159aa1c255650a59e5683b2ab75e3b15,2fe1e705159aa1c255650a59e5683b2ab75e3b15,Don’t let value_for_setting return item when setting is missing
dusek,2014-11-26 20:07:32,https://api.github.com/repos/textmate/textmate/git/commits/7774be0718b3e2625b42f87011855dc4a39e42eb,7774be0718b3e2625b42f87011855dc4a39e42eb,"Reorder accessibility order of chooser cell view items

When VoiceOver users want to efficiently find an item in a list, they often go
through the items quickly, hearing just first few characters to decide whether
it is the item they want or whether it is positively not the one (in which case
they move to the next item). Therefore it is necessary for each row (item) of a
table to be worded in such a way for VoiceOver so that the most important piece
of information is read first, then followed by the less important piece of
information, etc.

E.g. for the file chooser, the most important piece of information about a file
is its file name. So we put that first for the VoiceOver user. If they are
unsure whether it is the right one (perhaps because there is more than one file
with the same name in different directories), then path to the file is read
after that.

Fixes textmate/bugs#10"
dusek,2014-11-26 20:01:31,https://api.github.com/repos/textmate/textmate/git/commits/d786053406a6151fa96fdb9665822a0bdc7059b8,d786053406a6151fa96fdb9665822a0bdc7059b8,Track close button in a property of file cell view
rdwampler,2014-11-24 19:27:49,https://api.github.com/repos/textmate/textmate/git/commits/5841528b230a654d073201be69a76f44b617275c,5841528b230a654d073201be69a76f44b617275c,Update mate usage information for setting marks
rdwampler,2014-11-24 16:38:36,https://api.github.com/repos/textmate/textmate/git/commits/5b8cc64d6804ebf571947b60b10f2a6b9b6c3c42,5b8cc64d6804ebf571947b60b10f2a6b9b6c3c42,Fix typo in local variable name
rdwampler,2014-11-24 16:37:15,https://api.github.com/repos/textmate/textmate/git/commits/9003932ca45ebf4d98cf982bc7a378095342721d,9003932ca45ebf4d98cf982bc7a378095342721d,"Improve error popover appearance

Unfortunately, the text field is difficult to center properly (right/left arrow mode) since prior to 10.10 the popover's contents was set at inset (2, 2, 2, 2)."
sorbits,2014-11-22 09:36:43,https://api.github.com/repos/textmate/textmate/git/commits/334b869639541501bdd87c4dac07d173adc7190b,334b869639541501bdd87c4dac07d173adc7190b,"fixup! Fix potential crash in file chooser

Closes textmate/bugs#9"
sorbits,2014-11-21 14:17:39,https://api.github.com/repos/textmate/textmate/git/commits/3d2ac7f371095c954c9fe3da463fec1754621452,3d2ac7f371095c954c9fe3da463fec1754621452,Output frame of find window’s field editor (debug)
sorbits,2014-11-21 12:24:24,https://api.github.com/repos/textmate/textmate/git/commits/ab69cf8b4a18329b638b572c007d428f2a23e100,ab69cf8b4a18329b638b572c007d428f2a23e100,"Make code more robust

This is motivated by a crash that indicates that an empty string might result from the `all_varations` function."
sorbits,2014-11-20 21:20:32,https://api.github.com/repos/textmate/textmate/git/commits/eedf8122ea99d8509d5740c497f2d36ff7e5840b,eedf8122ea99d8509d5740c497f2d36ff7e5840b,Simplify code to format “«unit» / Selection” bundle/menu items
sorbits,2014-11-20 21:09:41,https://api.github.com/repos/textmate/textmate/git/commits/fd07d7cf3bb7e40d10782341c19b38842aaaaef2,fd07d7cf3bb7e40d10782341c19b38842aaaaef2,"Store a parent menu reference in bundle items instead of a path

This is simpler to setup and maintain and requires less storage."
sorbits,2014-11-20 21:04:18,https://api.github.com/repos/textmate/textmate/git/commits/a9698a36b5917c43ed9eee59283f7d7ec3a16f63,a9698a36b5917c43ed9eee59283f7d7ec3a16f63,Remove unused function: full_name_with_selection
sorbits,2014-11-20 20:57:25,https://api.github.com/repos/textmate/textmate/git/commits/c41851199c7f638f312e72b76a5b0aca8e3b7b07,c41851199c7f638f312e72b76a5b0aca8e3b7b07,Simplify bundles::item_t::full_name to return “«name» — «bundle»”
sorbits,2014-11-20 13:58:34,https://api.github.com/repos/textmate/textmate/git/commits/fe798f4c0eb7fabc7d203a3781a7420f42b14c79,fe798f4c0eb7fabc7d203a3781a7420f42b14c79,"Don’t explicitly define targets as applications or libraries

Libraries can be identified by either being linked with other targets, or exporting headers, so that is what we do."
sorbits,2014-11-19 22:10:47,https://api.github.com/repos/textmate/textmate/git/commits/a07a9e49408ae9bd0fd216eacead90b7cf19dc3a,a07a9e49408ae9bd0fd216eacead90b7cf19dc3a,"Fix potential crash in file chooser

This was caused by performing regexp matching on a temporary string object and later accessing captures from the match (when the string object was out of scope).

Rather than extend the scope of the string object I rewrote the code to use Cocoa’s NSRegularExpression class so we avoid using C++ (and thus temporary objects)."
sorbits,2014-11-18 17:04:54,https://api.github.com/repos/textmate/textmate/git/commits/32232d9dd81af61e4407174780ac261a3f08b9a1,32232d9dd81af61e4407174780ac261a3f08b9a1,"Version number should not be stored as double in user defaults

The current version of mate is 2.10 which gets stored as 2.1 (when using a double), so TextMate would think the installed version was too old (though after updating it, a string would be stored, so it would only happen once)."
sorbits,2014-11-17 14:24:32,https://api.github.com/repos/textmate/textmate/git/commits/694e6e17dce9d27e5dc0b033a35ee15e89b5c248,694e6e17dce9d27e5dc0b033a35ee15e89b5c248,fixup! Normalize newline and backspace characters in key event strings
sorbits,2014-11-17 14:18:06,https://api.github.com/repos/textmate/textmate/git/commits/2a4020651803cf5a1038becee78c6c0d0c1f1420,2a4020651803cf5a1038becee78c6c0d0c1f1420,Fix typo
sorbits,2014-11-17 14:16:50,https://api.github.com/repos/textmate/textmate/git/commits/83d859ff5241d790125a93f2ee6e976f5ae95a5d,83d859ff5241d790125a93f2ee6e976f5ae95a5d,"Remove support for our special “EXPORTS” symbol

This allowed framework headers to test whether they were build as part of the framework itself, or part of building something that depends on the framework.

Ideally though we should not need two different paths for those two cases, and we no longer have."
sorbits,2014-11-17 08:37:54,https://api.github.com/repos/textmate/textmate/git/commits/8d2954a4da1b407e21ff1bcda45084ba23f000ea,8d2954a4da1b407e21ff1bcda45084ba23f000ea,Update dialog plug-in (fix option parser for `nib --list`)
sorbits,2014-11-16 23:05:26,https://api.github.com/repos/textmate/textmate/git/commits/a2681bfdfbc0da04b5b599aee88f7273ff956bda,a2681bfdfbc0da04b5b599aee88f7273ff956bda,Use gethostuuid instead of creating our own UUID
sorbits,2014-11-16 23:04:51,https://api.github.com/repos/textmate/textmate/git/commits/235d52db7e8f44aec369baa5ec745f592e41860d,235d52db7e8f44aec369baa5ec745f592e41860d,Remove unused include
sorbits,2014-11-16 23:04:34,https://api.github.com/repos/textmate/textmate/git/commits/79eb970b9b3d91613644af566bc6c913909e341d,79eb970b9b3d91613644af566bc6c913909e341d,Use NSIsEmptyRect instead of comparing with NSZeroRect
sorbits,2014-11-16 23:03:38,https://api.github.com/repos/textmate/textmate/git/commits/77dc448206f6dea3f43dc1d3a397145056b5cc26,77dc448206f6dea3f43dc1d3a397145056b5cc26,"Use uuid_string_t instead of std::string(40)

This seems more appropriate and given the small size and that the former is stack allocated, there is likely no real benefit in writing directly to the std::string that we return."
sorbits,2014-11-16 23:02:03,https://api.github.com/repos/textmate/textmate/git/commits/790a497a078cea1399a2f9434e1f85b9fefec37e,790a497a078cea1399a2f9434e1f85b9fefec37e,"Use font’s maximumAdvancement for aligning key equivalents

Previously we would use the width of the delete glyph (⌫)."
infininight,2014-11-15 21:53:13,https://api.github.com/repos/textmate/textmate/git/commits/d458e7604a5bb495e96d766d566402e5af6d38d4,d458e7604a5bb495e96d766d566402e5af6d38d4,Use template icon for .twig files
sorbits,2014-11-14 14:37:06,https://api.github.com/repos/textmate/textmate/git/commits/ddbca55710480b9140bbf0bfecc7bd0ead483ef1,ddbca55710480b9140bbf0bfecc7bd0ead483ef1,"Support line number suffix in file chooser when filtering by glob

Also prevent re-filtering items (and thus losing selection) if the effective (normalized) filter string is unchanged."
sorbits,2014-11-14 14:35:28,https://api.github.com/repos/textmate/textmate/git/commits/970d2a1a6d2a290e71aa2323b8cbae4ba668830f,970d2a1a6d2a290e71aa2323b8cbae4ba668830f,"OakChooser subclasses can disable reload on filter string changes

For example if the user adds a line number suffix, we do not want to trigger re-filtering of items (which resets the selection)."
sorbits,2014-11-14 13:41:46,https://api.github.com/repos/textmate/textmate/git/commits/2942f92464729f38479bb7bbebd8fe92772fefa3,2942f92464729f38479bb7bbebd8fe92772fefa3,"Increase clickable area for the tab overflow button

The button frame has been extended to the top/bottom of the tab bar and on Yosemite there are 3 pixels of padding to the right of the image (which are thus part of the button and hence clickable)."
sorbits,2014-11-14 09:25:49,https://api.github.com/repos/textmate/textmate/git/commits/1cae7dc441365ab507ef0d94cddbc47342364d71,1cae7dc441365ab507ef0d94cddbc47342364d71,Pass std::string instead of filter_string_t to rank_record
sorbits,2014-11-14 09:24:25,https://api.github.com/repos/textmate/textmate/git/commits/500ec6232114f7dc9bca5a8405d48be233d12a7a,500ec6232114f7dc9bca5a8405d48be233d12a7a,Use OakAttributedStringForEventString in bundle item chooser
sorbits,2014-11-14 09:22:50,https://api.github.com/repos/textmate/textmate/git/commits/12013fef38611c4a44c3ad346c4160a84c596b1d,12013fef38611c4a44c3ad346c4160a84c596b1d,"Add OakAttributedStringForEventString helper function

This will convert the event string to the proper glyphs and lookup function key glyphs in the font and set the proper glyph info attributes (if found)."
sorbits,2014-11-14 09:22:41,https://api.github.com/repos/textmate/textmate/git/commits/2721d4eaa5ef4f4163a91ee167316dbe379d4c2e,2721d4eaa5ef4f4163a91ee167316dbe379d4c2e,Preserve selection when updating chooser items
sorbits,2014-11-14 09:21:34,https://api.github.com/repos/textmate/textmate/git/commits/5b39bdc98b8468c61f1fd200b9c991ea2575ccfd,5b39bdc98b8468c61f1fd200b9c991ea2575ccfd,Remove double semi-colons at end of line
sorbits,2014-11-14 09:20:15,https://api.github.com/repos/textmate/textmate/git/commits/e5009c84154a7424304d85e4fc3d54d610b62329,e5009c84154a7424304d85e4fc3d54d610b62329,"Remove next/previous properties on result (tree) node

We can get to the next/previous node via the parent pointer, although it has worse time complexity, it’s not something we use in loops, so the extra bookkeeping is not worth it."
sorbits,2014-11-14 09:19:35,https://api.github.com/repos/textmate/textmate/git/commits/ffeb661d02c0506d8163bd1f9910e604c4b6eb36,ffeb661d02c0506d8163bd1f9910e604c4b6eb36,"Remove method signature which is part of our SDK

Presumably this did not exist in the 10.6 SDK."
sorbits,2014-11-14 09:18:11,https://api.github.com/repos/textmate/textmate/git/commits/49e5dab6e59e240ebabe5ee232e88288099c04f0,49e5dab6e59e240ebabe5ee232e88288099c04f0,"Normalize filter string in symbol chooser

This just lowercases the filter string and removes spaces."
sorbits,2014-11-11 20:03:04,https://api.github.com/repos/textmate/textmate/git/commits/08dbb7b2e9229f98b6b2a1c9d4d6e3e335895c89,08dbb7b2e9229f98b6b2a1c9d4d6e3e335895c89,Checkin release notes
sorbits,2014-11-11 12:33:27,https://api.github.com/repos/textmate/textmate/git/commits/26dead41ca0ce8b8d1bb986daf488b004aeb7d25,26dead41ca0ce8b8d1bb986daf488b004aeb7d25,"Update template project for a new application

Use an application controller instead of embedding a window with a custom view in the nib."
sorbits,2014-11-11 07:54:35,https://api.github.com/repos/textmate/textmate/git/commits/568fcd49cf33a6ff753bafbc89966a92bd5b615f,568fcd49cf33a6ff753bafbc89966a92bd5b615f,"Opening a document via ‘mate -w’ and canceling would hang mate

For example with the following command we get an encoding dialog that allows us to cancel opening of the document:

    echo Æblegrød|iconv -f utf-8 -t mac|mate -w"
sorbits,2014-11-11 07:44:07,https://api.github.com/repos/textmate/textmate/git/commits/24c510bbd504242e476fdd597a603cd869879337,24c510bbd504242e476fdd597a603cd869879337,Add a “document will delete” callback function
sorbits,2014-11-11 07:42:49,https://api.github.com/repos/textmate/textmate/git/commits/b3850897de2460e456ad12af6bc5474fb427b8cc,b3850897de2460e456ad12af6bc5474fb427b8cc,"Accept titlecased Info.plist when loading bundles

If you already have bundles “installed” with a titlecased Info.plist then you need to delete ~/Library/Caches/com.macromates.TextMate/BundlesIndex.binary since the cache would not contain the titlecased version (and is not updated unless something is changed on disk)."
sorbits,2014-11-10 17:27:58,https://api.github.com/repos/textmate/textmate/git/commits/883fd2b6f8afb3b0654ee58016a203f976708c89,883fd2b6f8afb3b0654ee58016a203f976708c89,Add variables from Preferences → Variables to bundle item chooser
rdwampler,2014-11-10 19:31:02,https://api.github.com/repos/textmate/textmate/git/commits/67184816be234560119cbab06a8852f79436eac6,67184816be234560119cbab06a8852f79436eac6,fixup! Remove NSString `existAtPath` category method
sorbits,2014-11-10 13:40:18,https://api.github.com/repos/textmate/textmate/git/commits/c3e3da0ca926a4d7fe7766e7a950fc2b7e3d180c,c3e3da0ca926a4d7fe7766e7a950fc2b7e3d180c,Show items from key bindings dictionaries in bundle item chooser
sorbits,2014-11-10 13:39:20,https://api.github.com/repos/textmate/textmate/git/commits/4250618096a5c0c48a9f393b4558fe8c641c27bd,4250618096a5c0c48a9f393b4558fe8c641c27bd,Allow path string in bundle item chooser to extend below shortcut
sorbits,2014-11-10 12:38:59,https://api.github.com/repos/textmate/textmate/git/commits/ae02add21caf7358489178acdd089d210ff2036d,ae02add21caf7358489178acdd089d210ff2036d,"Normalize newline and backspace characters in key event strings

The system’s key binding dictionaries use both CR and LF for newline and \x08 and \x7F for backspace."
sorbits,2014-11-10 12:34:35,https://api.github.com/repos/textmate/textmate/git/commits/a778f0b3da22e94a039f66bd732f4f6de77b5579,a778f0b3da22e94a039f66bd732f4f6de77b5579,Combine std::set’s find and insert into a single operation
rdwampler,2014-07-22 02:27:56,https://api.github.com/repos/textmate/textmate/git/commits/c0a0b2e2fd00ffdedf77aac0f3fbce0f4988b043,c0a0b2e2fd00ffdedf77aac0f3fbce0f4988b043,"Remove unnecessary instance variable

As far as I can tell we only add objects to `_project`, but we never actually use it."
rdwampler,2014-07-21 17:57:36,https://api.github.com/repos/textmate/textmate/git/commits/f0c7a2f564af217f77ad39e18c34795088e0a6d6,f0c7a2f564af217f77ad39e18c34795088e0a6d6,Remove unused includes
rdwampler,2014-07-21 17:25:16,https://api.github.com/repos/textmate/textmate/git/commits/9a898fe8523815cc5669de16042f9220562bf594,9a898fe8523815cc5669de16042f9220562bf594,Code style fixes
rdwampler,2014-07-21 17:54:34,https://api.github.com/repos/textmate/textmate/git/commits/c1b73ac9c01b080d6b47a55c98c8e48a1400cd28,c1b73ac9c01b080d6b47a55c98c8e48a1400cd28,"Remove NSString `existAtPath` category method

Also rename NSString category from ""Path"" to ""Additions""."
rdwampler,2014-07-21 17:49:56,https://api.github.com/repos/textmate/textmate/git/commits/ecd3280a4ae9cb91d6ecc75552b9b962bfa89d20,ecd3280a4ae9cb91d6ecc75552b9b962bfa89d20,Remove NSString `isDirectory` category method
rdwampler,2014-07-21 17:18:04,https://api.github.com/repos/textmate/textmate/git/commits/d3f295b15b18c79da928fec8a48f5d4e8704bcb4,d3f295b15b18c79da928fec8a48f5d4e8704bcb4,"Avoid use of the NSString `existsAtPath` category method

We have removed the use of this category method from the rest of the code base. Refactor `FSXcodeProjectDataSource` so that we can delete it entirely."
sorbits,2014-11-10 10:38:48,https://api.github.com/repos/textmate/textmate/git/commits/b06a22cfe3b6acc2e706a17958fd7a355d799971,b06a22cfe3b6acc2e706a17958fd7a355d799971,"Change `--bool` to `-bool` in `defaults` command examples

Closes #1273."
sorbits,2014-11-10 09:35:03,https://api.github.com/repos/textmate/textmate/git/commits/c1029c454b874a27add6b568150b662f42f067ed,c1029c454b874a27add6b568150b662f42f067ed,"Improve bundle item chooser

We now show two lines per item: the name of the item and the location on second line.

For settings we show the (literal) value of the item next to its name (ideally user could click the item to toggle between literal and effective value).

Selecting settings items (from properties files) will go to the proper line in the properties file."
sorbits,2014-11-10 08:24:10,https://api.github.com/repos/textmate/textmate/git/commits/2e049ad25fca1bf92b7b4ae1c6aba9e228ad385c,2e049ad25fca1bf92b7b4ae1c6aba9e228ad385c,"Replace newline and tabs in find dialog’s status text

Previously if searching for something with a newline, the status text would show a literal newline and adapt its height."
sorbits,2014-11-10 08:22:52,https://api.github.com/repos/textmate/textmate/git/commits/ec89bd035b76cadeedb7c4ba2d0cbcdc190aa7f6,ec89bd035b76cadeedb7c4ba2d0cbcdc190aa7f6,"Ensure valid match/excerpt ranges for CRLF delimited files

When searching for either CR or LF in a CRLF delimited file, we effectively match a partial newline and previously the excerpt’s BOL/EOL positions would not take that into account, so the match wasn’t guaranteed to be a subset of the excerpt.

Ideally the document reader should harmonize newlines so that the searcher only sees LF, though currently that is not the case."
sorbits,2014-11-10 08:22:30,https://api.github.com/repos/textmate/textmate/git/commits/912818ccfc5c5197fcd4f8ef42bb6120f80ab465,912818ccfc5c5197fcd4f8ef42bb6120f80ab465,Support line argument when opening files from bundle item chooser
sorbits,2014-11-10 08:21:00,https://api.github.com/repos/textmate/textmate/git/commits/edfdedc36fd3a01dbf037bc1090b4bda76017af7,edfdedc36fd3a01dbf037bc1090b4bda76017af7,"Use ‘TextMate.app’ as path for settings in the application bundle

Effectively we already did that, but by testing against a hardcoded file name."
sorbits,2014-11-10 08:20:02,https://api.github.com/repos/textmate/textmate/git/commits/a511a5d809dec576ab611ea78371cf043fd8feb3,a511a5d809dec576ab611ea78371cf043fd8feb3,Do single line pretty printing of settings (plist) values
sorbits,2014-11-10 08:19:51,https://api.github.com/repos/textmate/textmate/git/commits/e613aabfec27f5b6f5131b09abac56e0e0955f98,e613aabfec27f5b6f5131b09abac56e0e0955f98,Add missing call to super
sorbits,2014-11-10 08:18:28,https://api.github.com/repos/textmate/textmate/git/commits/5d2f5234afd5d6e7b42541f0bd50c2f8f950eee6,5d2f5234afd5d6e7b42541f0bd50c2f8f950eee6,Workaround for crash when option-clicking window close button
sorbits,2014-11-10 08:18:25,https://api.github.com/repos/textmate/textmate/git/commits/56ea12db79b3714330595b7709f591c46f742090,56ea12db79b3714330595b7709f591c46f742090,"Use ‘self.window’ instead of ‘_window’ for consistency

The reason we use the former is so that we can easily change our superclass to NSWindowController, though this will require 10.8 since we create weak references to our DocumentController objects."
sorbits,2014-11-10 08:17:21,https://api.github.com/repos/textmate/textmate/git/commits/bf986e8740e28df41f2567234b506687a1aac702,bf986e8740e28df41f2567234b506687a1aac702,Skip theme and bundle item menu items in bundle item chooser
sorbits,2014-11-10 08:15:42,https://api.github.com/repos/textmate/textmate/git/commits/8be5b11d9c3a9122932773f0817a4f1684481acc,8be5b11d9c3a9122932773f0817a4f1684481acc,"Ensure line break mode is set for display string in item choosers

Previously we would rely on the NSTextField cell’s line break mode, but this isn’t used when the object value is an attributed string, which it might become when the cell is selected."
sorbits,2014-11-10 08:14:55,https://api.github.com/repos/textmate/textmate/git/commits/21cbdf23e9ec3377d74c571624bcaf497572301f,21cbdf23e9ec3377d74c571624bcaf497572301f,"Let CreateAttributedStringWithMarkedUpRanges take NSLineBreakMode

Remove the offset argument (as nothing relies on this anymore)."
sorbits,2014-11-10 08:13:42,https://api.github.com/repos/textmate/textmate/git/commits/706a44f79340f09f66dae0ab6020d67e143cb665,706a44f79340f09f66dae0ab6020d67e143cb665,Prevent image view used in OakChooser to shrink horizontally
sorbits,2014-11-10 08:11:48,https://api.github.com/repos/textmate/textmate/git/commits/99cd82abeed2d46cdcd46e30dffc0f2fbd9ae630,99cd82abeed2d46cdcd46e30dffc0f2fbd9ae630,"Include value and line number when asking for settings info

The section name is now also the literal section name rather than to_s called on the parsed scope selector or glob (which wouldn’t necessarily give the source value)."
sorbits,2014-11-10 08:11:12,https://api.github.com/repos/textmate/textmate/git/commits/366ab820caee327cfd7f932d7e4efafb450672d2,366ab820caee327cfd7f932d7e4efafb450672d2,"Store doubles without decimals as integers (Global.tmProperties)

This mainly relates to fontSize which we store as a double since the font panel allows setting non-integer values as the point size."
sorbits,2014-11-10 08:10:16,https://api.github.com/repos/textmate/textmate/git/commits/bc74676921207fd2d130959e74235e4b46f95a32,bc74676921207fd2d130959e74235e4b46f95a32,Eliminate redundant parameter (refactoring)
sorbits,2014-11-10 08:08:49,https://api.github.com/repos/textmate/textmate/git/commits/0ca555c85e7e3967ee597d5d2753bfafa9964059,0ca555c85e7e3967ee597d5d2753bfafa9964059,Introduce plist::kSingleLine formatting flag
sorbits,2014-11-10 08:06:57,https://api.github.com/repos/textmate/textmate/git/commits/8be6def5c131fb5e649268b609a8482d12d4b70a,8be6def5c131fb5e649268b609a8482d12d4b70a,"Refactor bundle item chooser

Some subtle changes related to item titles, this is in preparation of things to come."
sorbits,2014-11-10 08:05:14,https://api.github.com/repos/textmate/textmate/git/commits/ce34f6fa1518d177359307dd0cac3122dd5377c0,ce34f6fa1518d177359307dd0cac3122dd5377c0,Use our wrapper for adding views with auto layout enabled
sorbits,2014-11-10 08:03:38,https://api.github.com/repos/textmate/textmate/git/commits/4a3ca9536abbb8809881b24996cbbf54babebb3a,4a3ca9536abbb8809881b24996cbbf54babebb3a,Introduce bundles::item_t::menu_path
sorbits,2014-11-10 08:03:18,https://api.github.com/repos/textmate/textmate/git/commits/93b773a1a5b0e9d1a46a6389c1e86930e6cb6d1e,93b773a1a5b0e9d1a46a6389c1e86930e6cb6d1e,"Our print dialog preview was eclipsing auto layout methods

This doesn’t seem to be an issue but could become one in the future (if the print dialog switches to auto layout)."
sorbits,2014-11-10 08:02:39,https://api.github.com/repos/textmate/textmate/git/commits/b694ba50af352d0d6b38fa1810563e89bc942c8a,b694ba50af352d0d6b38fa1810563e89bc942c8a,Don’t include framework umbrella header
sorbits,2014-11-10 08:01:05,https://api.github.com/repos/textmate/textmate/git/commits/ebf20acc200ff3821a8d923710977f5c91cf7a36,ebf20acc200ff3821a8d923710977f5c91cf7a36,Prefer CFBundleShortVersionString over CFBundleVersion
sorbits,2014-11-06 22:05:43,https://api.github.com/repos/textmate/textmate/git/commits/50ad6fce64132819d91e3ddb30c0fdd090a526f4,50ad6fce64132819d91e3ddb30c0fdd090a526f4,"Loosen our expiration policy

We now give the user half a year before TextMate expires and only remind them once every week about TextMate being old, and now with a “Check for Updates” button in the dialog."
sorbits,2014-11-06 21:32:07,https://api.github.com/repos/textmate/textmate/git/commits/6f5b02f994617781d56ff521a5085c929ced115b,6f5b02f994617781d56ff521a5085c929ced115b,"Include name of symbolic link in favorites chooser

This is only when the name of the symbolic link is different from what it points to.

Closes #1272."
sorbits,2014-11-06 21:03:40,https://api.github.com/repos/textmate/textmate/git/commits/f65cba8e105a99dedeed68162ce20af0721bbbab,f65cba8e105a99dedeed68162ce20af0721bbbab,Tweak look of rows in file and favorites chooser
sorbits,2014-11-06 15:45:44,https://api.github.com/repos/textmate/textmate/git/commits/4e5175d0d1e29bd3f85349d793b4cd72566b9238,4e5175d0d1e29bd3f85349d793b4cd72566b9238,"Manually set key view loop for the chooser windows

There are some problems with the auto-calculated key view loop:

1. Does the wrong thing when there are pending auto-layout changes.
2. Adds NSTableCellView children to the key view loop.
3. Adds views which are set to refuse first responder, which will break the loop if such view is the last one."
sorbits,2014-11-06 15:42:22,https://api.github.com/repos/textmate/textmate/git/commits/7d2ed9a23618a1f84c63f0b2966a2f269042c830,7d2ed9a23618a1f84c63f0b2966a2f269042c830,Set initial first responder when setting up key view loop
sorbits,2014-11-06 15:37:12,https://api.github.com/repos/textmate/textmate/git/commits/c507361258054cce70da27f09d67cfab7af5baed,c507361258054cce70da27f09d67cfab7af5baed,Support passing an array of array of views to OakSetupKeyViewLoop
sorbits,2014-11-06 12:47:45,https://api.github.com/repos/textmate/textmate/git/commits/52455f049e2a41b27210cde9e148fb79cd759e68,52455f049e2a41b27210cde9e148fb79cd759e68,Enable truncation of status text in download window
sorbits,2014-11-06 12:42:22,https://api.github.com/repos/textmate/textmate/git/commits/9831019a5542b7d5eacceef9298c01f7cd3e70c6,9831019a5542b7d5eacceef9298c01f7cd3e70c6,Save with Xcode 6.1 (6A1052d)
sorbits,2014-11-06 11:25:33,https://api.github.com/repos/textmate/textmate/git/commits/4844d895f4cd863929c2d362609433290161aaed,4844d895f4cd863929c2d362609433290161aaed,Update SCM icons for 32×32 sizes
sorbits,2014-11-05 21:15:14,https://api.github.com/repos/textmate/textmate/git/commits/5eb5609691192058297e7624db0f9b7f7c2e50f0,5eb5609691192058297e7624db0f9b7f7c2e50f0,Checkin release notes
sorbits,2014-11-05 19:52:05,https://api.github.com/repos/textmate/textmate/git/commits/f888333c66af79d4ccb907034c614c98a7757848,f888333c66af79d4ccb907034c614c98a7757848,"Add crude code to make the file chooser’s close buttons work

The main advantage of the close buttons is to indicate that a file is open so they aren’t often clicked, hence why we can do with a suboptimal solution for now, as keeping the buttons as no-ops are likely going to generate bug reports, and removing the buttons remove value."
sorbits,2014-11-05 18:59:31,https://api.github.com/repos/textmate/textmate/git/commits/5cefb3eac4d95349dbfad3fb2ee230b3a529fde4,5cefb3eac4d95349dbfad3fb2ee230b3a529fde4,"Show both display name and path in file/favorite chooser

Ranking has also been simplified in the file chooser: by default we match against the full path but prefer matches that only touch the base name.

The current document is placed last when there is no filter string (where we LRU sort) but once there is a filter string, we do not give it special treatment."
sorbits,2014-11-05 11:41:03,https://api.github.com/repos/textmate/textmate/git/commits/a3b2fb8199cb64cc5864a9fa064fa603bc515392,a3b2fb8199cb64cc5864a9fa064fa603bc515392,"Switch to a view-based table view for the chooser dialogs

The favorites (recent projects) chooser now has a visible remove button to remove recent items or favorites.

Accessibility has regressed as we no longer post a notification when the table view selection changes."
sorbits,2014-11-05 09:58:29,https://api.github.com/repos/textmate/textmate/git/commits/7aea556533617ac4e5a998d46d99626c51b0bc9d,7aea556533617ac4e5a998d46d99626c51b0bc9d,"Remove custom NSArray category

We only use the firstObject method which has existed since OS 10.6 (though wasn’t mentioned until the 10.9 FoundationKit release notes)."
sorbits,2014-11-05 08:17:17,https://api.github.com/repos/textmate/textmate/git/commits/fb929bdfdd26f855f64e08b6c0f2dea63c9b3828,fb929bdfdd26f855f64e08b6c0f2dea63c9b3828,Use NSImage’s respectFlipped: parameter instead of custom code
sorbits,2014-11-05 07:50:05,https://api.github.com/repos/textmate/textmate/git/commits/b20d7610acc9e3e7ec45b2015fadfc02237f8e49,b20d7610acc9e3e7ec45b2015fadfc02237f8e49,"Change (CGPoint){0.0, 0.0} → NSZeroPoint"
sorbits,2014-11-05 07:27:49,https://api.github.com/repos/textmate/textmate/git/commits/45af1c1f7272a0b906feeb82ad84188466dca96e,45af1c1f7272a0b906feeb82ad84188466dca96e,Use OakRolloverButton to clear shortcut in OakKeyEquivalentView
sorbits,2014-11-04 23:20:40,https://api.github.com/repos/textmate/textmate/git/commits/ea1fb48286dccd2a86fa5378d565b9cacaf5b442,ea1fb48286dccd2a86fa5378d565b9cacaf5b442,"Make OakKeyEquivalentView opaque

This is a minor performance advantage and prevents mouse-down events from moving the window (when the control is used in a textured window)."
sorbits,2014-11-04 23:15:32,https://api.github.com/repos/textmate/textmate/git/commits/32d40edfcf022e27c32551c135d61ef425cc964d,32d40edfcf022e27c32551c135d61ef425cc964d,"Disallow moving window by clicking anywhere in our document view

Previously this would be allowed when clicking a non-opaque view like the OakBackgroundFillView (since 3447b88850bfce0c4eed0595f18022b17a29dec5)."
sorbits,2014-11-04 23:04:03,https://api.github.com/repos/textmate/textmate/git/commits/6133f0e57a4eeda2ea6f500a9edceac35002876e,6133f0e57a4eeda2ea6f500a9edceac35002876e,Put instance data in class extension instead of implementation
sorbits,2014-11-04 22:57:15,https://api.github.com/repos/textmate/textmate/git/commits/5456376ee11b9f8826cdc18a51f01cc14f1dcdce,5456376ee11b9f8826cdc18a51f01cc14f1dcdce,"Don’t translate autoresizing mask into constraints for print view

This property should be controlled by the object which adds the view to its superview."
sorbits,2014-11-04 22:49:59,https://api.github.com/repos/textmate/textmate/git/commits/616f860d246df07c89f490a7aadc0ecffdfc2ae9,616f860d246df07c89f490a7aadc0ecffdfc2ae9,fixup! Update a document’s matches before leaving it when using [⇧]⌘G
sorbits,2014-11-04 22:38:49,https://api.github.com/repos/textmate/textmate/git/commits/4fc2e983cfed76733313cc700272e63a7c2d9f63,4fc2e983cfed76733313cc700272e63a7c2d9f63,"Don’t set translatesAutoresizingMaskIntoConstraints in status bar

This property should be controlled by the object which adds the view to its superview."
sorbits,2014-11-04 22:25:13,https://api.github.com/repos/textmate/textmate/git/commits/b581e20ad9dfd36b9e952c475b1637937d46306d,b581e20ad9dfd36b9e952c475b1637937d46306d,Add wrapper for adding views with auto layout enabled
sorbits,2014-11-04 21:20:20,https://api.github.com/repos/textmate/textmate/git/commits/7ead6d418c6113e3651cc5e17c095881d7844fdd,7ead6d418c6113e3651cc5e17c095881d7844fdd,Make the OakCreateLabel function more versatile
sorbits,2014-11-04 21:10:30,https://api.github.com/repos/textmate/textmate/git/commits/dc01d80c5594bb8802794a425f217596d0337068,dc01d80c5594bb8802794a425f217596d0337068,"Use local variable instead of property

The property is “assign” so in theory the text field could be released before we add it to its superview. Using the local variable ensures that won’t happen."
sorbits,2014-11-04 20:45:52,https://api.github.com/repos/textmate/textmate/git/commits/0c113e058f44e3443dcaf5c8dad5958e9140b734,0c113e058f44e3443dcaf5c8dad5958e9140b734,Simplify implementation of OakChooser’s selectedItems method
sorbits,2014-11-04 20:41:32,https://api.github.com/repos/textmate/textmate/git/commits/137e6343ba166a30c366a0f8b71db8f56b321ce8,137e6343ba166a30c366a0f8b71db8f56b321ce8,Add convenience function to setup key view loop
sorbits,2014-11-04 17:12:16,https://api.github.com/repos/textmate/textmate/git/commits/9d0191b44c793a5ad366df2c28d0d8c292ce8fc8,9d0191b44c793a5ad366df2c28d0d8c292ce8fc8,"Bump project’s LRU-date when opening via recent projects dialog

This ensures that re-opening the dialog has the just opened project at the top."
sorbits,2014-11-04 17:08:52,https://api.github.com/repos/textmate/textmate/git/commits/92f8bb7586901c82d72a9d141b0ac4ec78ecf7dc,92f8bb7586901c82d72a9d141b0ac4ec78ecf7dc,Use sort descriptors to sort “recent projects” array
sorbits,2014-11-04 13:45:38,https://api.github.com/repos/textmate/textmate/git/commits/62720f26f00268660a8714654650d3a4f98c50ac,62720f26f00268660a8714654650d3a4f98c50ac,"Go via superclass when setting table view to render as active

This way the subclass does not need to know how it’s implemented."
sorbits,2014-11-04 13:35:31,https://api.github.com/repos/textmate/textmate/git/commits/702c709311ae252b0f4266e0bf47f70df1e78781,702c709311ae252b0f4266e0bf47f70df1e78781,"Layout chooser window before recalculating key view loop

Prior to 10.10, this is required for proper result."
sorbits,2014-11-04 13:24:39,https://api.github.com/repos/textmate/textmate/git/commits/ee1754f906cadc1f1a183bee4138fd4811847905,ee1754f906cadc1f1a183bee4138fd4811847905,"Don’t treat “Menu Actions” item in bundle editor as bundle proxy

Previously we would use the bundle’s icon for this item and enable the Show in Finder context menu. We now show a special menu icon for this item, this was mainly done so that we have a menu image to use in the Bundle Item Chooser."
sorbits,2014-11-04 12:52:23,https://api.github.com/repos/textmate/textmate/git/commits/c7c789a57becd124af3f373e4490f0776a02b17c,c7c789a57becd124af3f373e4490f0776a02b17c,Don’t treat --set/clear-mark argument as a comma separated list
sorbits,2014-11-04 12:51:32,https://api.github.com/repos/textmate/textmate/git/commits/be0804353c237116941a025465892878f5537629,be0804353c237116941a025465892878f5537629,"Remove path::trash API (unused)

This is based on FSRef which is deprecated starting with 10.8 so if we later need it then we likely would have to reimplement it."
sorbits,2014-11-03 13:40:57,https://api.github.com/repos/textmate/textmate/git/commits/b0a48b36f65b16a93bdb7e3d86a8b61f8d680c5d,b0a48b36f65b16a93bdb7e3d86a8b61f8d680c5d,Remove unused property
sorbits,2014-11-03 10:28:30,https://api.github.com/repos/textmate/textmate/git/commits/f2ab4bfa91c499658b9fa621e987c44b11040fd5,f2ab4bfa91c499658b9fa621e987c44b11040fd5,Ensure we draw close button image on rounded pixel position
sorbits,2014-11-03 09:43:28,https://api.github.com/repos/textmate/textmate/git/commits/6f1641cb0c0727e169906b8f472c2f9e94a97fd2,6f1641cb0c0727e169906b8f472c2f9e94a97fd2,Change the close file image to a monochrome template images
sorbits,2014-11-03 09:40:43,https://api.github.com/repos/textmate/textmate/git/commits/0f90cbcc9a5b22c9a25345c24c920372c0f0ca32,0f90cbcc9a5b22c9a25345c24c920372c0f0ca32,"Handle template image drawing in OFBPathInfoCell

If the close button image is a template image we draw it using the appropriate color."
sorbits,2014-11-02 12:53:29,https://api.github.com/repos/textmate/textmate/git/commits/1e9bd987b564ff658c1e0add05c5073c22b78c8b,1e9bd987b564ff658c1e0add05c5073c22b78c8b,Offer user to uninstall (trash) plug-ins which crash
sorbits,2014-11-02 11:50:43,https://api.github.com/repos/textmate/textmate/git/commits/4bde9a99c522338f2939a5732e6a9a498eeaef63,4bde9a99c522338f2939a5732e6a9a498eeaef63,"Never re-use a closed HTML output window

Starting with 10.10 re-using a closed HTML output window is prone to crashing, either when opening the window with the WebView, or when later closing it.

The disadvantage of not re-using HTML output windows is only that we lose potential history, for example doing multiple documentation lookups, closing the window in between, would previously allow the user to go back in the history of words that had been looked up."
sorbits,2014-10-30 19:49:10,https://api.github.com/repos/textmate/textmate/git/commits/f16e83fb4f925c31ae9e619b0181a5b014b5693e,f16e83fb4f925c31ae9e619b0181a5b014b5693e,"Get rid of APP_REVISION

This was just mirroring the last part of our version number so redundant and it wasn’t monotonically increasing as we switched from alpha.n → beta.1 (with n > 1), so it probably did more harm than good."
sorbits,2014-10-30 19:16:33,https://api.github.com/repos/textmate/textmate/git/commits/e0bf2383e7dfd41adf5a3a3147cd7aeb8fb269c5,e0bf2383e7dfd41adf5a3a3147cd7aeb8fb269c5,"Update a document’s matches before leaving it when using [⇧]⌘G

This way we only return to the document if it still has matches and will return to the correct position of the match."
sorbits,2014-10-29 21:19:13,https://api.github.com/repos/textmate/textmate/git/commits/32a3d939cd1ace06fc3d90b7ea65541aaca1941e,32a3d939cd1ace06fc3d90b7ea65541aaca1941e,Checkin release notes
sorbits,2014-10-29 20:47:37,https://api.github.com/repos/textmate/textmate/git/commits/10c135e8039cf5f64be8637a77d3f5439aa94866,10c135e8039cf5f64be8637a77d3f5439aa94866,Swap “New File” and “New Folder” key equivalents to match Finder
sorbits,2014-10-29 20:39:52,https://api.github.com/repos/textmate/textmate/git/commits/165000d00c695ab80aa5002d54cec1fbfb16d460,165000d00c695ab80aa5002d54cec1fbfb16d460,"Add “Show in Finder” context menu actions to bundle editor

When a default/pristine item has local changes, the Show in Finder menu item shows a submenu with all the paths."
sorbits,2014-10-29 19:47:31,https://api.github.com/repos/textmate/textmate/git/commits/2c58bb80f956a95a2b102b28283ffc3d2331ff51,2c58bb80f956a95a2b102b28283ffc3d2331ff51,"Introduce ‘disableTabAutoClose’ defaults key

This disables tabs from closing when the tab bar overflows."
sorbits,2014-10-29 19:30:39,https://api.github.com/repos/textmate/textmate/git/commits/f2c54e0e7259a3decf712f9362fe777ef85b4e91,f2c54e0e7259a3decf712f9362fe777ef85b4e91,Don’t restore untitled document window with no project path
sorbits,2014-10-29 11:46:33,https://api.github.com/repos/textmate/textmate/git/commits/503b01e56b056e91fb6ea35e9e78fb8dde94dc90,503b01e56b056e91fb6ea35e9e78fb8dde94dc90,"Make search field first responder before showing window

On Yosemite the search field will do an animation when made first responder and while this is happening, it appears that the effective first responder remains unchanged, so if we set first responder after ordering front the window, the user’s input may not go to the expected interface element."
sorbits,2014-10-29 11:40:58,https://api.github.com/repos/textmate/textmate/git/commits/3588f263955d9c396b762c3e1f983f707ac55369,3588f263955d9c396b762c3e1f983f707ac55369,Remove unused include
sorbits,2014-10-29 11:38:11,https://api.github.com/repos/textmate/textmate/git/commits/8462eb6512a99d2780e2d611eeb2a51278d19e4b,8462eb6512a99d2780e2d611eeb2a51278d19e4b,"Remove unused NSView, NSWindow, and NSScreen categories"
sorbits,2014-10-29 11:27:02,https://api.github.com/repos/textmate/textmate/git/commits/19f4695a2b500e86047e4441d0d9ff9f91d13c82,19f4695a2b500e86047e4441d0d9ff9f91d13c82,Do not use weak pointer for NSSavePanel (crashes on 10.7)
sorbits,2014-10-29 11:26:29,https://api.github.com/repos/textmate/textmate/git/commits/ce35b78fba00e2b43474182172eafbad64b66ef4,ce35b78fba00e2b43474182172eafbad64b66ef4,Fix include path (make it relative to current directory)
sorbits,2014-10-29 11:24:12,https://api.github.com/repos/textmate/textmate/git/commits/609558edac768ca7fe17076fd80c225f18ead48c,609558edac768ca7fe17076fd80c225f18ead48c,"Regexp search a 5+ MB file could find matches in wrong locations

The code was supposed to stop the search after 5 MB, this didn’t always work, and when it worked, the returned match offsets were not always correct (as they didn’t account for the capped buffer size)."
rdwampler,2014-10-29 02:26:45,https://api.github.com/repos/textmate/textmate/git/commits/b9b9a7fa54c666b0dab083045269e364e4afda26,b9b9a7fa54c666b0dab083045269e364e4afda26,"Bring the action button back for the commit window

The new layout allows us to place the action button back in its original place when the table is revealed."
rdwampler,2014-10-29 01:21:13,https://api.github.com/repos/textmate/textmate/git/commits/b9b6ecf0251ee7363cad076e08ad34f262d820ff,b9b6ecf0251ee7363cad076e08ad34f262d820ff,Disable toggle button in the commit window when animating
rdwampler,2014-10-29 03:00:47,https://api.github.com/repos/textmate/textmate/git/commits/c4f7b38882932ed1ab67e65a0d9a9237b082217d,c4f7b38882932ed1ab67e65a0d9a9237b082217d,"Rename `populateTableView` to `setupArrayController`

With the previous refactoring the new name is more appropriate."
rdwampler,2014-10-29 02:59:19,https://api.github.com/repos/textmate/textmate/git/commits/12f964c3faaa16e90e30fe619b094c6367cbabcd,12f964c3faaa16e90e30fe619b094c6367cbabcd,"Commit Window: Refactor

The view layout is rearranged in order to animate showing the table, which is now shown below the toggle button with the Cancel and Commit buttons sliding down. Additionally, when not showing the table we remove all relevant views from memory."
sorbits,2014-10-21 07:53:03,https://api.github.com/repos/textmate/textmate/git/commits/6e9874a5d035dea6f925d12dbf56d98e752d166b,6e9874a5d035dea6f925d12dbf56d98e752d166b,"Introduce heuristic priorities for gutter images

Images with associated text are preferred, after that, bookmarks, and last are custom marks (without associated text)."
sorbits,2014-10-21 07:51:36,https://api.github.com/repos/textmate/textmate/git/commits/74c76fb2aa057e6287be1d735709d1a234c79f70,74c76fb2aa057e6287be1d735709d1a234c79f70,Don’t assert CFSocket functions always succeed
sorbits,2014-10-21 07:28:52,https://api.github.com/repos/textmate/textmate/git/commits/df1a29d7b09bc27cb79e1cc775e502e681444f82,df1a29d7b09bc27cb79e1cc775e502e681444f82,"Improve window restoring

Zoom or minimize windows before ordering them front, and for the latter, don’t actually order them front (as that magnifies them). Also order front windows without also setting the window as key window."
sorbits,2014-10-20 20:56:59,https://api.github.com/repos/textmate/textmate/git/commits/73999c09ae885b382e30836bd89a997713963439,73999c09ae885b382e30836bd89a997713963439,Checkin release notes
sorbits,2014-10-20 20:40:44,https://api.github.com/repos/textmate/textmate/git/commits/141f8009ace11084381b83268ea8d6734ce2b070,141f8009ace11084381b83268ea8d6734ce2b070,Skip recreating replacement preview if nothing has changed
sorbits,2014-10-20 20:24:34,https://api.github.com/repos/textmate/textmate/git/commits/487f0f22d9130eca246f999ec709efc13f26d68c,487f0f22d9130eca246f999ec709efc13f26d68c,"Don’t use bold nor shadow for tab titles on Yosemite

Closes #1270"
sorbits,2014-10-20 20:06:39,https://api.github.com/repos/textmate/textmate/git/commits/3cc60f8b6e3710387fe68e74c091f03ed5ea775a,3cc60f8b6e3710387fe68e74c091f03ed5ea775a,Don’t remember documents opened via ⌘G (Open Recent menu)
sorbits,2014-10-20 20:01:37,https://api.github.com/repos/textmate/textmate/git/commits/3d6ad065ce4fa282f38164a1f4608fbb564e01d0,3d6ad065ce4fa282f38164a1f4608fbb564e01d0,Update dialog plug-in (method signature presumably confusing ARC)
sorbits,2014-10-20 19:56:26,https://api.github.com/repos/textmate/textmate/git/commits/a64c0cef902182ab559abf0b7656c86b821e0289,a64c0cef902182ab559abf0b7656c86b821e0289,Rename menu item to decrease default width of encoding pop-up
sorbits,2014-10-20 19:54:59,https://api.github.com/repos/textmate/textmate/git/commits/9fb2a3677488b67522e7712338e5a645ebac3de8,9fb2a3677488b67522e7712338e5a645ebac3de8,Decrease size of save panel’s encoding options
sorbits,2014-10-20 19:31:09,https://api.github.com/repos/textmate/textmate/git/commits/8a36e40a0d01bbb50829381e3c66b0bf74d706a4,8a36e40a0d01bbb50829381e3c66b0bf74d706a4,"Update byte order mark checkbox when changing encoding

We want to enable it for UTF-16/32 and otherwise disable it, which was previously the case but broke in acde8a019dd31ceb3b09d991f9fc78d66eb5a313."
sorbits,2014-10-20 18:51:54,https://api.github.com/repos/textmate/textmate/git/commits/6aa23aeb0af503962895b32b36865fc4d7c4f435,6aa23aeb0af503962895b32b36865fc4d7c4f435,Create save dialog’s encoding options in code (using auto-layout)
sorbits,2014-10-20 18:33:57,https://api.github.com/repos/textmate/textmate/git/commits/b526201cbdcd7013691a7ae2066d7595ab8d08b3,b526201cbdcd7013691a7ae2066d7595ab8d08b3,NSPopUpButton already use correct default font
sorbits,2014-10-20 14:00:21,https://api.github.com/repos/textmate/textmate/git/commits/e867c279268e08d4cb94acb9f0ca544e0ce93d9b,e867c279268e08d4cb94acb9f0ca544e0ce93d9b,"Bring project with unsaved documents to front during save warning

If multiple projects have unsaved documents then we show an app modal dialog (not a sheet)."
sorbits,2014-10-20 07:51:02,https://api.github.com/repos/textmate/textmate/git/commits/d59029b70c293bf12b55e0996541b47cc60d5136,d59029b70c293bf12b55e0996541b47cc60d5136,"File flags were lost when saving to a non-local file system

This broke in 9b3dd8c."
sorbits,2014-10-19 19:43:57,https://api.github.com/repos/textmate/textmate/git/commits/1b3ce16c77b4736f3b4c4e0b646292b93fc56f3e,1b3ce16c77b4736f3b4c4e0b646292b93fc56f3e,"Add info to crash reports trying to track down a crash

Also delay setting the save panel’s delegate since the delegate method seems to be what the save panel tries to call when crashing."
sorbits,2014-10-19 10:43:24,https://api.github.com/repos/textmate/textmate/git/commits/844f24eb63dc294e774b0d5d1407988b9b8a9b09,844f24eb63dc294e774b0d5d1407988b9b8a9b09,"Remove the commit window framework’s Info.plist

This is only required when we have resources (and need to build the target as a framework bundle)."
rdwampler,2014-10-07 14:59:28,https://api.github.com/repos/textmate/textmate/git/commits/986b9f54af09581e8abfbea48b68d3b29c1b1c3f,986b9f54af09581e8abfbea48b68d3b29c1b1c3f,Switch to programmatic CWTableCellView
rdwampler,2014-10-08 02:02:13,https://api.github.com/repos/textmate/textmate/git/commits/8902ccf4fe5b1e90d821c0e135703008f034bc50,8902ccf4fe5b1e90d821c0e135703008f034bc50,Don't use deprecated mate API
rdwampler,2014-09-29 19:41:48,https://api.github.com/repos/textmate/textmate/git/commits/7ae4b29421f582d4e9bcb48f1f3ddaef20c5539c,7ae4b29421f582d4e9bcb48f1f3ddaef20c5539c,"Use grammar to set the default settings for git

This way the settings can also be applied in the Commit Window (and .git/MERGE_MSG)."
sorbits,2014-10-19 19:58:10,https://api.github.com/repos/textmate/textmate/git/commits/a0e297c3e0b3f1cea028307096468837e7e3fb49,a0e297c3e0b3f1cea028307096468837e7e3fb49,"Set custom name for the commit window document

This causes it to release its untitled token so that untitled documents created while the commit sheet is showing, does not appear to skip a number."
rdwampler,2014-09-29 19:35:25,https://api.github.com/repos/textmate/textmate/git/commits/8fd1e1088defa4b754fac206a4ccfdfc0eb381f5,8fd1e1088defa4b754fac206a4ccfdfc0eb381f5,"Set path for the commit window document

This is so that the commit window’s text view sources project specific settings."
sorbits,2014-10-19 19:06:24,https://api.github.com/repos/textmate/textmate/git/commits/062a939189f4375e8bdbe057778f0d0d3ea83998,062a939189f4375e8bdbe057778f0d0d3ea83998,"Workaround for traditional/simplified Chinese conversion service

After converting simplified Chinese (example: 已估计) to traditional Chinese, the pasteboard sent to readSelectionFromPasteboard: contains several string types, but some of them will return nil, and the one we get back when using “public.plain-text” (“public.utf16-external-plain-text”) is one of these.

To enable the conversion service add both Traditional and Simplified Chinese as languages in System Preferences → Language & Region."
sorbits,2014-10-19 16:50:42,https://api.github.com/repos/textmate/textmate/git/commits/930ab2c496bd9719085e1e0056239da77e887244,930ab2c496bd9719085e1e0056239da77e887244,"Remember sort column when bundles are updated

Closes #1268"
sorbits,2014-10-19 16:17:27,https://api.github.com/repos/textmate/textmate/git/commits/30eeb88dac4c552a7e9eb180e64ca8be87d55830,30eeb88dac4c552a7e9eb180e64ca8be87d55830,"Maximum size of gutter image are now 1.5 times font’s cap height

We still prefer the line height but fonts like Everson Mono have a (calculated) line height twice that of the cap height which makes the images appear too big relative to the line numbers (which use a slightly smaller version of the text view’s font).

Closes #1267"
sorbits,2014-10-19 15:34:47,https://api.github.com/repos/textmate/textmate/git/commits/cf94c1c5ca96fb21d8530bbaf6d45016c316cd47,cf94c1c5ca96fb21d8530bbaf6d45016c316cd47,Clear search gutter marks if find clipboard is changed
sorbits,2014-10-19 13:02:12,https://api.github.com/repos/textmate/textmate/git/commits/e934d3ab2ebe88b9459148ac94a93f138ccc9d09,e934d3ab2ebe88b9459148ac94a93f138ccc9d09,"Show number for search results when holding down command key

The number appears after command has been held down for 0.2 seconds and is meant as a hint about being able to press ⌘1-n to jump to the n’th file with matches."
sorbits,2014-10-19 12:02:12,https://api.github.com/repos/textmate/textmate/git/commits/a1f1ab1d7d3accb0df816aeb2988ea3a0b7de05e,a1f1ab1d7d3accb0df816aeb2988ea3a0b7de05e,Add a ‘note’ gutter image (pointing hand)
sorbits,2014-10-19 11:35:26,https://api.github.com/repos/textmate/textmate/git/commits/e55929050318aeceea6a8650eaa618eb35cdd21d,e55929050318aeceea6a8650eaa618eb35cdd21d,"Show popover window when clicking mark with associated value

We also suppress the “add bookmark” hover image when mouse is over a mark with associated value."
sorbits,2014-10-19 11:25:50,https://api.github.com/repos/textmate/textmate/git/commits/72fbba63391891ccdf48764e65571dcdedc9f428,72fbba63391891ccdf48764e65571dcdedc9f428,Associate value with a mark using: mate --set-mark «mark»:«value»
sorbits,2014-10-19 11:13:44,https://api.github.com/repos/textmate/textmate/git/commits/d3b0ef36779f61a766f30598f48f3cfb76835896,d3b0ef36779f61a766f30598f48f3cfb76835896,Allow a string value to be stored with each mark (document)
sorbits,2014-10-19 10:48:40,https://api.github.com/repos/textmate/textmate/git/commits/2cb480364fbf9f9985c133a7591e932e4c535121,2cb480364fbf9f9985c133a7591e932e4c535121,"Asking for marks of any type now return both type and value

Previously we would only return the type."
sorbits,2014-10-19 10:31:48,https://api.github.com/repos/textmate/textmate/git/commits/862a543074f3dfa4d9a54c5e246e12e71859a548,862a543074f3dfa4d9a54c5e246e12e71859a548,Don’t rebase mark positions when returning marks for a subset
sorbits,2014-10-19 10:11:46,https://api.github.com/repos/textmate/textmate/git/commits/12b981a202f2f37855e9bb9871c54ff2d40dfe8b,12b981a202f2f37855e9bb9871c54ff2d40dfe8b,Simplify code to remove a bookmark
sorbits,2014-10-19 10:00:15,https://api.github.com/repos/textmate/textmate/git/commits/a22801f6159ebd859a02862fcf2a2c5456b97e4d,a22801f6159ebd859a02862fcf2a2c5456b97e4d,Remove undesired space character
sorbits,2014-10-19 09:57:51,https://api.github.com/repos/textmate/textmate/git/commits/0d917f8f94f033cada0788c0c73e55de6d69112c,0d917f8f94f033cada0788c0c73e55de6d69112c,"Allow a string value to be stored with each mark (buffer)

We were already storing a string for each mark but was (redundantly) using the mark type as value."
sorbits,2014-10-19 09:53:45,https://api.github.com/repos/textmate/textmate/git/commits/0b9cb4675405c04b4c98c4b94e70358ebf6b5dc4,0b9cb4675405c04b4c98c4b94e70358ebf6b5dc4,Improve thin tab bar overflow image
sorbits,2014-10-18 12:02:42,https://api.github.com/repos/textmate/textmate/git/commits/f39ac2874a36ea3e90a2bf19bc63cb1f52688506,f39ac2874a36ea3e90a2bf19bc63cb1f52688506,"Reorder Edit → Find submenu

Also assign ⌥⌘G to the Replace menu item (previously this key equivalent was used for Replace & Find)."
sorbits,2014-10-18 11:45:21,https://api.github.com/repos/textmate/textmate/git/commits/8d8b6e4e9e215f5ecc5e99979281ba7c60124f16,8d8b6e4e9e215f5ecc5e99979281ba7c60124f16,Add menu item for Replace
sorbits,2014-10-18 11:38:11,https://api.github.com/repos/textmate/textmate/git/commits/e22651f9d8c5f3f1f2e782c9b119143e389576bc,e22651f9d8c5f3f1f2e782c9b119143e389576bc,Add replace button to find dialog
sorbits,2014-10-18 11:01:11,https://api.github.com/repos/textmate/textmate/git/commits/405e627c1894ba187b6421614aa8d952f29fed6f,405e627c1894ba187b6421614aa8d952f29fed6f,Add test for wrong checksum passed to document::replace
sorbits,2014-10-18 10:53:09,https://api.github.com/repos/textmate/textmate/git/commits/9c9de994183eddf6c129761f317930674f1f462a,9c9de994183eddf6c129761f317930674f1f462a,"Verify checksum when replacing in non-open documents

If the checksum does not match we simply skip the document and does not show the replacement as having been done (in the UI)."
sorbits,2014-10-18 10:47:45,https://api.github.com/repos/textmate/textmate/git/commits/053b08456fff4b945cbbce67404c71e7c63c15dd,053b08456fff4b945cbbce67404c71e7c63c15dd,Use a real content checksum when doing folder searching
sorbits,2014-10-18 10:42:55,https://api.github.com/repos/textmate/textmate/git/commits/e71147a430b5482d66f10ad5c110e902caff4206,e71147a430b5482d66f10ad5c110e902caff4206,"Use OakBackgroundFillView for our divider image

This is both simpler and more future proof since using an NSImageView requires a cell subclass to disable accessibility (voice over), and cells are deprecated."
sorbits,2014-10-18 10:41:37,https://api.github.com/repos/textmate/textmate/git/commits/3447b88850bfce0c4eed0595f18022b17a29dec5,3447b88850bfce0c4eed0595f18022b17a29dec5,Support images with alpha in OakBackgroundFillView
sorbits,2014-10-18 10:40:09,https://api.github.com/repos/textmate/textmate/git/commits/07b7200a73e0fc38b8349e21835cdcc71a71688b,07b7200a73e0fc38b8349e21835cdcc71a71688b,"When creating a label, don’t allow providing what class to use

Also change return type from NSImage* to NSView* when creating divider image."
sorbits,2014-10-18 10:38:24,https://api.github.com/repos/textmate/textmate/git/commits/1404d251450f6aa6ac5a2ddf7892a382f3c51fb4,1404d251450f6aa6ac5a2ddf7892a382f3c51fb4,Don’t assume our divider is an NSImageView
sorbits,2014-10-18 10:37:59,https://api.github.com/repos/textmate/textmate/git/commits/d35ee3b9ab9810c0e74ec17678ecfdaac3ab4ee2,d35ee3b9ab9810c0e74ec17678ecfdaac3ab4ee2,Saved window frame was wrong if file browser didn’t adjust width
sorbits,2014-10-18 10:36:23,https://api.github.com/repos/textmate/textmate/git/commits/3a86535022cb5032f5e3e9f059ad2a1f2a8bbaf4,3a86535022cb5032f5e3e9f059ad2a1f2a8bbaf4,"Move boost crc include to PCH

Also use unsigned integer for the checksum."
sorbits,2014-10-17 16:06:27,https://api.github.com/repos/textmate/textmate/git/commits/578a679acea9bad0bc6cbe8288b506fa815c108f,578a679acea9bad0bc6cbe8288b506fa815c108f,Simplify test preparation code
sorbits,2014-10-17 13:28:03,https://api.github.com/repos/textmate/textmate/git/commits/207c642614df13f8e4c3589322118c6f64ca4b94,207c642614df13f8e4c3589322118c6f64ca4b94,Use number formatter for all numbers in search dialog
sorbits,2014-10-17 11:36:54,https://api.github.com/repos/textmate/textmate/git/commits/65e72d9ed210c5ba91c4d3b39392059047c5f516,65e72d9ed210c5ba91c4d3b39392059047c5f516,"Allow both --clear-mark and --set-mark in one invocation of mate

The advantage is that TextMate will update the marks in a single refresh cycle, so there is no redraw after clearing the old marks and before setting the new, which could cause a short flash.

When using both, the --line arguments specified are used for --set-mark."
sorbits,2014-10-17 11:31:13,https://api.github.com/repos/textmate/textmate/git/commits/d9cc82ced83dfade54d22bc6c3b2699b30b21d76,d9cc82ced83dfade54d22bc6c3b2699b30b21d76,Handle both clearing and setting marks in same command stream
sorbits,2014-10-16 21:28:12,https://api.github.com/repos/textmate/textmate/git/commits/e74a37cd3a8cbdd3bed85ef745d1755dd491d358,e74a37cd3a8cbdd3bed85ef745d1755dd491d358,Checkin release notes
sorbits,2014-10-16 21:10:58,https://api.github.com/repos/textmate/textmate/git/commits/02d7e287d09b3dfd72e6688e0e1dd8e309d1dc3f,02d7e287d09b3dfd72e6688e0e1dd8e309d1dc3f,Remove unused code
sorbits,2014-10-16 21:02:51,https://api.github.com/repos/textmate/textmate/git/commits/796c9856c38b592a7ac1af042063d37bf3f08f7b,796c9856c38b592a7ac1af042063d37bf3f08f7b,Rework how we handle window frame for document windows
sorbits,2014-10-16 13:18:14,https://api.github.com/repos/textmate/textmate/git/commits/9aeb528d4c5d278eeef296e1fc60e79bd77c2595,9aeb528d4c5d278eeef296e1fc60e79bd77c2595,"Update alpha status to beta

Also add links to FAQ and hidden settings from the about page."
sorbits,2014-10-16 11:53:30,https://api.github.com/repos/textmate/textmate/git/commits/60465ce465785d3974f05555152a78a7daeab4c3,60465ce465785d3974f05555152a78a7daeab4c3,"Ask for bookmarks (instead of marks) and drop local filtering

Also rename the member function so it’s clear we only get the bookmarks (not all marks)."
sorbits,2014-10-15 19:35:13,https://api.github.com/repos/textmate/textmate/git/commits/d93f093ff02cc3d38ace216de946fba1ab3d7696,d93f093ff02cc3d38ace216de946fba1ab3d7696,Checkin release notes
sorbits,2014-10-15 19:07:54,https://api.github.com/repos/textmate/textmate/git/commits/7cf17187fb52775080cc8df687a92cd32ceca7f6,7cf17187fb52775080cc8df687a92cd32ceca7f6,"Support using an absolute (image) path as mark identifier

This then uses the image found via this path."
sorbits,2014-10-15 18:43:59,https://api.github.com/repos/textmate/textmate/git/commits/8976978ef28f3855ad94800bef3d28a65c1790b1,8976978ef28f3855ad94800bef3d28a65c1790b1,"Allow more natural sounding values for scmStatus

The values are: enable, enableIfSystemDisk, enableIfLocalDisk, and disable."
sorbits,2014-10-15 15:08:19,https://api.github.com/repos/textmate/textmate/git/commits/7bdbc4985a6d5ee88bf794f5f53638d56b363bb4,7bdbc4985a6d5ee88bf794f5f53638d56b363bb4,Clear search marks from documents if removed from search results
sorbits,2014-10-15 14:52:14,https://api.github.com/repos/textmate/textmate/git/commits/c672759acbeec241259df944ce6023236e2b5d1c,c672759acbeec241259df944ce6023236e2b5d1c,"Improve handling of replacement previews

We no longer do any reloading of the outline view (on changes) and we have the item store the replacement string when a replacement has been done, so that it will continue to show the actual replacement done (after replacement string is changed)."
sorbits,2014-10-15 13:58:02,https://api.github.com/repos/textmate/textmate/git/commits/aa18a55b2068424c95013e26c15fa98911227397,aa18a55b2068424c95013e26c15fa98911227397,"Remove performedReplaceAll property

This only served to disable the Replace All button, we now rely solely on the number of non-excluded and non-ignored results to control the enabled state of the button."
sorbits,2014-10-15 13:49:07,https://api.github.com/repos/textmate/textmate/git/commits/63207a960c313f5e6e3f356d91005b92e1be1620,63207a960c313f5e6e3f356d91005b92e1be1620,"Rely on the ‘ignored’ property for whether replacements are done

We now bind the enabled state of the “exclude result” checkbox to this property and only set it to YES for files that had replacements done, meaning that the checkboxes are available after replace for files that weren’t involved in the replacement."
sorbits,2014-10-15 13:44:16,https://api.github.com/repos/textmate/textmate/git/commits/33c9a2b919bff9223847c0bc10e7549ddbe406c1,33c9a2b919bff9223847c0bc10e7549ddbe406c1,Check if all matches are excluded before iterating through them
sorbits,2014-10-15 13:40:27,https://api.github.com/repos/textmate/textmate/git/commits/8de8291afe2000d82dced9bec65211e7823227ed,8de8291afe2000d82dced9bec65211e7823227ed,"Add ignored property to FFResultNode

When a group node is ignored then it report all its children as excluded regardless of their actual state. It is still possible to query the children for the real state."
sorbits,2014-10-15 13:37:07,https://api.github.com/repos/textmate/textmate/git/commits/e2ab2813437612fbbfd42c32d99017c8f51323a3,e2ab2813437612fbbfd42c32d99017c8f51323a3,"Define excluded property for FFResultNode child nodes

This returns YES when all leafs are excluded."
sorbits,2014-10-15 13:35:54,https://api.github.com/repos/textmate/textmate/git/commits/4f807fd1091be12ab185733eaaf7eeaac10c1e27,4f807fd1091be12ab185733eaaf7eeaac10c1e27,Make countOfLeafs/Excluded a readonly property
sorbits,2014-10-15 12:02:57,https://api.github.com/repos/textmate/textmate/git/commits/ece4ca014a7c5c848dd866ba67f7c164d05f35ae,ece4ca014a7c5c848dd866ba67f7c164d05f35ae,Preserve and adjust bookmarks when replacing in closed documents
sorbits,2014-10-15 09:33:07,https://api.github.com/repos/textmate/textmate/git/commits/524d281046c3d40bbcd3324a66b5960281c9e553,524d281046c3d40bbcd3324a66b5960281c9e553,Rework how marks are stored when there is no buffer_t
sorbits,2014-10-15 08:31:22,https://api.github.com/repos/textmate/textmate/git/commits/b20629d9a19ebe40c284543f298a13ad2dd44684,b20629d9a19ebe40c284543f298a13ad2dd44684,Use public constant for bookmark identifier
sorbits,2014-10-15 08:28:18,https://api.github.com/repos/textmate/textmate/git/commits/826437a2ef9c89ac0c1ba0fbe98b2070d18eb675,826437a2ef9c89ac0c1ba0fbe98b2070d18eb675,Introduce constant for search mark identifier
sorbits,2014-10-14 20:53:10,https://api.github.com/repos/textmate/textmate/git/commits/bb6206608bfed91052a7e7aebd966d62a4ae4b62,bb6206608bfed91052a7e7aebd966d62a4ae4b62,"Use text::pos_t as key when storing marks for closed documents

Since open documents only support a single position (not a range) it doesn’t make sense to use a range for closed documents."
sorbits,2014-10-14 20:15:03,https://api.github.com/repos/textmate/textmate/git/commits/a570395480ca65465a99ba59e0c1288d921d9b6f,a570395480ca65465a99ba59e0c1288d921d9b6f,Add --set-mark/--clear-mark options to mate
sorbits,2014-10-14 20:08:13,https://api.github.com/repos/textmate/textmate/git/commits/2ac17cbf838d9114a21fdf8fcd266e52bb38196d,2ac17cbf838d9114a21fdf8fcd266e52bb38196d,Add support to mate protocol for setting and clearing marks
sorbits,2014-10-14 20:06:32,https://api.github.com/repos/textmate/textmate/git/commits/c341765fe9f2b4460db7077980619af8afde9f8b,c341765fe9f2b4460db7077980619af8afde9f8b,Add API to remove (all) marks from (all) documents
sorbits,2014-10-14 15:49:34,https://api.github.com/repos/textmate/textmate/git/commits/e1edac69f8abc136e3fa743ba0912daf936ad1b9,e1edac69f8abc136e3fa743ba0912daf936ad1b9,Don’t change ninja goal for the mate target
sorbits,2014-10-14 15:35:42,https://api.github.com/repos/textmate/textmate/git/commits/6a8ce140e255950f00c0c7fa7c426f8e6f47a002,6a8ce140e255950f00c0c7fa7c426f8e6f47a002,Construct undefined text::range_t/pos_t if created from NULL_STR
sorbits,2014-10-14 13:15:09,https://api.github.com/repos/textmate/textmate/git/commits/8f34a6e2ab72730fce136cc5754b922af37d6ad7,8f34a6e2ab72730fce136cc5754b922af37d6ad7,"If updating mate requires admin privileges then ask user first

This way they should know what the password dialog is about."
sorbits,2014-10-14 12:36:25,https://api.github.com/repos/textmate/textmate/git/commits/c91837ce1b61893f44b04e176bd2cb8f5686df9a,c91837ce1b61893f44b04e176bd2cb8f5686df9a,"Use string instead of double for mate’s version number

With a double we can’t use version numbers like 2.8.1 or 2.10."
sorbits,2014-10-14 10:40:05,https://api.github.com/repos/textmate/textmate/git/commits/6ea068b0e7c509edc8142ce5314d47b119a91c82,6ea068b0e7c509edc8142ce5314d47b119a91c82,Add warning and error gutter view images
sorbits,2014-10-14 10:26:42,https://api.github.com/repos/textmate/textmate/git/commits/fe71fa1aaf9227e0e79849cbf36fae37b18f374b,fe71fa1aaf9227e0e79849cbf36fae37b18f374b,Use CGImageRelease instead of CFRelease
sorbits,2014-10-14 10:26:13,https://api.github.com/repos/textmate/textmate/git/commits/5a09c37bee4ae9b59920ed2bbb41d4c48efe5921,5a09c37bee4ae9b59920ed2bbb41d4c48efe5921,Skip explicitly creating a CoreGraphics image mask
sorbits,2014-10-14 10:10:34,https://api.github.com/repos/textmate/textmate/git/commits/4898f48d780e5d156a5403415bc2dc6d056d068d,4898f48d780e5d156a5403415bc2dc6d056d068d,"Save gutter images and folding dots with transparent background

This makes them conform to the informal template image format which is usable as-is as a CoreGraphics image mask."
sorbits,2014-10-13 21:18:07,https://api.github.com/repos/textmate/textmate/git/commits/b569af3ff0056c233119ac091b8317081b880335,b569af3ff0056c233119ac091b8317081b880335,Fix display path when searching open files
sorbits,2014-10-13 20:59:49,https://api.github.com/repos/textmate/textmate/git/commits/7724abb022eea16d6d7384c3679a1707cc168c9e,7724abb022eea16d6d7384c3679a1707cc168c9e,"Cleanup code dealing with marks

Previously marks were lost when disposing a document."
sorbits,2014-10-13 20:11:17,https://api.github.com/repos/textmate/textmate/git/commits/58f98cad23b4bda05d19a409e8516848c9a0ff13,58f98cad23b4bda05d19a409e8516848c9a0ff13,"Ignore unknown file types when finding document’s file type

The problem is if the user sets a certain file type to open with grammar X and then uninstalls X, there will still be a setting binding the file type to X which means we skip trying to find another suitable grammar."
sorbits,2014-10-13 18:12:09,https://api.github.com/repos/textmate/textmate/git/commits/d9721323c4492fd60a7510810c4cdb85896f648f,d9721323c4492fd60a7510810c4cdb85896f648f,"Update bookmark gutter view images

These are now optimized for a width of 13 points, which is the width when using the default 12 point Menlo font."
sorbits,2014-10-13 15:32:43,https://api.github.com/repos/textmate/textmate/git/commits/ce7a892cc19285a7f81056761c0b883d73a5d3a2,ce7a892cc19285a7f81056761c0b883d73a5d3a2,"Add padding to the search gutter view image

Since we now scale images to full width and/or height of available space, padding is required for some of them."
sorbits,2014-10-13 15:15:48,https://api.github.com/repos/textmate/textmate/git/commits/1446fbe5f9bed8283dde35edb981f8ec1096f6e5,1446fbe5f9bed8283dde35edb981f8ec1096f6e5,"Use mark’s name as image name

This way new marks do not require code changes."
sorbits,2014-10-13 15:12:16,https://api.github.com/repos/textmate/textmate/git/commits/2906e33cf968bfdb88e39ec3d6f0a19ef6081c96,2906e33cf968bfdb88e39ec3d6f0a19ef6081c96,Rename search gutter view image to match name used for the mark
sorbits,2014-10-13 14:03:15,https://api.github.com/repos/textmate/textmate/git/commits/241f1e7ba7e72789d63a2f9f6aff3231dcca02e7,241f1e7ba7e72789d63a2f9f6aff3231dcca02e7,"Change gutter view data source API

This changes behavior slightly as the column width is now decided by the data source rather than based on the widest image.

The gutter view expects the data source to scale images to fit in the available space, since the data source knows about (ideal) line height in the text view and also because scaling the images may lose precision in the image ratio, so scaling it later (if line number font is increased) would give a suboptimal result."
sorbits,2014-10-13 13:19:33,https://api.github.com/repos/textmate/textmate/git/commits/4b34608636f9d0a2dfe28d840a9e20889ce698d6,4b34608636f9d0a2dfe28d840a9e20889ce698d6,"Don’t specify bezel style for borderless image buttons

Also skip setting the template image property, since all the images have the ‘Template’ extension."
sorbits,2014-10-13 13:13:45,https://api.github.com/repos/textmate/textmate/git/commits/c5640a8d66041d3f2a2903f4cef8bf20184fe2d6,c5640a8d66041d3f2a2903f4cef8bf20184fe2d6,Rename (template) images to have a ‘Template’ suffix
sorbits,2014-10-12 11:57:01,https://api.github.com/repos/textmate/textmate/git/commits/10be561065ebe33e1109eb60398b2ed310428e79,10be561065ebe33e1109eb60398b2ed310428e79,Improve mate usage information
sorbits,2014-10-12 11:25:05,https://api.github.com/repos/textmate/textmate/git/commits/e4bf017147a2b8092c56a8a51c56307dfafdc71b,e4bf017147a2b8092c56a8a51c56307dfafdc71b,Ensure commit dialog attaches to the correct window
dusek,2014-08-28 13:44:58,https://api.github.com/repos/textmate/textmate/git/commits/be79c92580fdaea23441af9321c3c7f3bcbd7297,be79c92580fdaea23441af9321c3c7f3bcbd7297,"Announce current chooser item after edits in search field

This puts the VoiceOver user experience in OakChooser on par with
Spotlight in Yosemite which also announces currently selected item
after every edit in the search field. This provides the user with
feedback so they know whether the search result changed or did not
change after typing/deleting in the search field.

A manual AXSelectedRowsChanged notification is used - see
http://lists.apple.com/archives/accessibility-dev/2014/Aug/msg00024.html
for discussion about this.

This change is Yosemite-only. While pre-Yosemite OS could probably be
supported in the way it is now for the case when the user moves the
table results with arrow up/down, I did not have time to fiddle with it
and given that Yosemite will be released soon, I am not sure it will be
worth the effort."
sorbits,2014-10-12 09:37:21,https://api.github.com/repos/textmate/textmate/git/commits/fc09b3c0c64b02c1690f8da2d419f9ce0b1bc7ed,fc09b3c0c64b02c1690f8da2d419f9ce0b1bc7ed,"Use std::string instead of document_t::mark_t

This is consistent with the marks kept by buffer_t."
percontation,2013-10-18 17:09:44,https://api.github.com/repos/textmate/textmate/git/commits/5494f7c802479524254d35a3f3a99fbaeb701524,5494f7c802479524254d35a3f3a99fbaeb701524,"Close (empty) document when open is canceled

Implements a TODO. A close-tab is now sent to clean up documents
that failed to open properly, and a close-window is further sent
if appropriate."
sorbits,2014-10-11 16:11:10,https://api.github.com/repos/textmate/textmate/git/commits/5fae9771a28d2d9b86e88eddd8354dbf3abdacbd,5fae9771a28d2d9b86e88eddd8354dbf3abdacbd,Place the “add new tab” button right next to last tab
percontation,2013-10-18 22:50:49,https://api.github.com/repos/textmate/textmate/git/commits/f353831e85c75a06092b7f855529902102a1de46,f353831e85c75a06092b7f855529902102a1de46,"Allow scmStatus to be explicitly enabled

Previously, scmStatus would not be enabled on remote volumes even if,
say, a .tm_properties setting explicitly matched a remote volume and
set scmStatus = true. This patch allows setting scmStatus = everyDisk
to skip the local-volume check.

Also defined are scmStatus = localDisk and systemDisk. localDisk is
the same as true (and is the default as before), systemDisk only
enables files on the ""/"" volume."
sorbits,2014-10-10 14:39:32,https://api.github.com/repos/textmate/textmate/git/commits/c7ad4350d8684e1881a2b9e9084c82a421a357fb,c7ad4350d8684e1881a2b9e9084c82a421a357fb,Checkin release notes
sorbits,2014-10-10 14:21:40,https://api.github.com/repos/textmate/textmate/git/commits/36e6172dba8eb1a55fc601485f894a2b870b9121,36e6172dba8eb1a55fc601485f894a2b870b9121,Add thin chevron image for the tab bar
sorbits,2014-10-10 12:15:11,https://api.github.com/repos/textmate/textmate/git/commits/0d98d0df54b6c92893c7055461afeb820d5f37ca,0d98d0df54b6c92893c7055461afeb820d5f37ca,Add thin close button for all states
sorbits,2014-10-09 09:30:22,https://api.github.com/repos/textmate/textmate/git/commits/56be5a90cd5ce07d55d1d59dface79a1ad8f4716,56be5a90cd5ce07d55d1d59dface79a1ad8f4716,Use to_s instead of fileSystemRepresentation to guard against nil
sorbits,2014-10-08 20:05:20,https://api.github.com/repos/textmate/textmate/git/commits/b876a6a577687eb266fe132b18fdb0b28410c8a5,b876a6a577687eb266fe132b18fdb0b28410c8a5,Remove “Unsaved Changes” warning from find in folder dialog
sorbits,2014-10-08 20:03:48,https://api.github.com/repos/textmate/textmate/git/commits/e4f62343f61a4f53bfe22f21780220850032ad53,e4f62343f61a4f53bfe22f21780220850032ad53,Save immediately after folder search‘n’replace on closed document
sorbits,2014-10-08 19:52:27,https://api.github.com/repos/textmate/textmate/git/commits/012a70042929c669ca539fa9ae3f1acff47055c8,012a70042929c669ca539fa9ae3f1acff47055c8,Allow clearing the (cached) content of a non-open document
sorbits,2014-10-08 19:51:17,https://api.github.com/repos/textmate/textmate/git/commits/74ae2b21dd0c2e92712d6b60b62c8ab5cd4f5ad8,74ae2b21dd0c2e92712d6b60b62c8ab5cd4f5ad8,"Bump document revision after doing folder search and replace

Without this, the document would not appear as modified (if it wasn’t already)."
sorbits,2014-10-08 10:23:56,https://api.github.com/repos/textmate/textmate/git/commits/591876f3f21fd7936c88ba08edaab23f31e41399,591876f3f21fd7936c88ba08edaab23f31e41399,"Introduce FFResultsViewController

This moves a lot of view related code out of the Find singleton."
sorbits,2014-10-07 20:27:59,https://api.github.com/repos/textmate/textmate/git/commits/23a66a40b9a2de3ca3931139c8a0fa3940b50ce1,23a66a40b9a2de3ca3931139c8a0fa3940b50ce1,Move FFResultNode to its own file
sorbits,2014-10-07 17:10:27,https://api.github.com/repos/textmate/textmate/git/commits/4d0f4b4c03b4695d9e1cc9133cbdc56c78846bd5,4d0f4b4c03b4695d9e1cc9133cbdc56c78846bd5,"File names in search results stay dark gray (and bold)

Since the headers use a bigger font size than the document excerpts, making file names both black and bold, like the matches, makes them too dominant."
sorbits,2014-10-07 16:24:27,https://api.github.com/repos/textmate/textmate/git/commits/8322954ec9f645f8d649b63d21f11206eec67686,8322954ec9f645f8d649b63d21f11206eec67686,Ignore extended attribute storing foldings if content has changed
sorbits,2014-10-07 16:23:25,https://api.github.com/repos/textmate/textmate/git/commits/3feec01e6625095234bcae2c7ec563504efec525,3feec01e6625095234bcae2c7ec563504efec525,Add CRC 32 member function to io::bytes_t
sorbits,2014-10-07 14:21:34,https://api.github.com/repos/textmate/textmate/git/commits/6b5daa50690cc75810e3ae79b723b6ebe42e20dd,6b5daa50690cc75810e3ae79b723b6ebe42e20dd,Update dialog plug-in (option parser)
sorbits,2014-10-07 12:49:54,https://api.github.com/repos/textmate/textmate/git/commits/c03d312f0be3325ea752e627f765ecf402fffed8,c03d312f0be3325ea752e627f765ecf402fffed8,"Remove “anonymous usage info” from software update settings

We don’t actually have anything to include."
sorbits,2014-10-07 12:47:22,https://api.github.com/repos/textmate/textmate/git/commits/355d3d03bde65d9eec6bb7ea4c364d40ad6183e8,355d3d03bde65d9eec6bb7ea4c364d40ad6183e8,Change “Phone Home” label to “Crash Reports”
sorbits,2014-10-07 12:45:42,https://api.github.com/repos/textmate/textmate/git/commits/a9332847445cd2616b49243188972ec6b55fde72,a9332847445cd2616b49243188972ec6b55fde72,Save with Xcode 6.0.1 (6A317)
sorbits,2014-10-06 18:38:31,https://api.github.com/repos/textmate/textmate/git/commits/c0c7f04a1067c5e0bc1642f1b5f0868a9d2d5c40,c0c7f04a1067c5e0bc1642f1b5f0868a9d2d5c40,"Only retrieve encoding settings during save when they are missing

Previously we would also retrieve settings for untitled documents, but we now rely on untitled documents getting their encoding settings from the choice made in the save panel."
sorbits,2014-10-06 18:37:10,https://api.github.com/repos/textmate/textmate/git/commits/d9341386c7fa1c3b7563729b7fcf33fad136d5f4,d9341386c7fa1c3b7563729b7fcf33fad136d5f4,"Provide save panel with current document’s encoding settings

This is instead of the encoding settings for the initially proposed save path."
sorbits,2014-10-06 18:35:20,https://api.github.com/repos/textmate/textmate/git/commits/acde8a019dd31ceb3b09d991f9fc78d66eb5a313,acde8a019dd31ceb3b09d991f9fc78d66eb5a313,Update encoding settings in save panel when save folder changes
sorbits,2014-10-06 18:26:01,https://api.github.com/repos/textmate/textmate/git/commits/44b8d5986f54578f53d1337071d59a77d8eec07d,44b8d5986f54578f53d1337071d59a77d8eec07d,Go via set_disk_encoding member function
sorbits,2014-10-06 18:25:20,https://api.github.com/repos/textmate/textmate/git/commits/692850506235b71ddf93a4bb51fa2f346d981ae2,692850506235b71ddf93a4bb51fa2f346d981ae2,Only set encoding settings (post open) for documents with a path
sorbits,2014-10-04 21:42:15,https://api.github.com/repos/textmate/textmate/git/commits/26dfefc7d54d2b14fdb8320f6e6e69f2cebb08eb,26dfefc7d54d2b14fdb8320f6e6e69f2cebb08eb,"Revert ""Simplify constraints used to layout document window""

This reverts commit 9a85ff2d5722b68ef7ed1f36910119d538da86bc.

The problem with priorities (less than required) is that it allows for the constraint to not be satisfied, which could cause the document view to overlap file browser (or be cut by window’s content view) when the size available for the document view was less than its fitting size."
sorbits,2014-10-03 19:46:48,https://api.github.com/repos/textmate/textmate/git/commits/8760e970db76930d6656c74d29345c428813a08d,8760e970db76930d6656c74d29345c428813a08d,"Do not set default settings for Makefile (only source.makefile)

The problem is that if the user changes default settings then these are recorded for the current scope, which has lower precedence than settings set for a glob, so it was effectively impossible for the user to change soft tabs settings for Makefiles (without editing a .tm_properties file).

Also removed the ‘*.ninja’ glob for the same reason."
sorbits,2014-10-03 18:46:21,https://api.github.com/repos/textmate/textmate/git/commits/6f68d2afb1339db05b2cbfef681cb27df24761ee,6f68d2afb1339db05b2cbfef681cb27df24761ee,Titlecase does not preserve case when everything is uppercase
sorbits,2014-10-02 21:09:20,https://api.github.com/repos/textmate/textmate/git/commits/aa96f1f342b01f4442c2d34048247a9878c44d4f,aa96f1f342b01f4442c2d34048247a9878c44d4f,Account for tar potentially failing
sorbits,2014-10-02 20:15:52,https://api.github.com/repos/textmate/textmate/git/commits/55765b5769fea950da58e378167dd534324077a8,55765b5769fea950da58e378167dd534324077a8,Checkin release notes
sorbits,2014-10-02 19:21:19,https://api.github.com/repos/textmate/textmate/git/commits/e92759af782ddf438ea3332828a1ef95a7a674ea,e92759af782ddf438ea3332828a1ef95a7a674ea,"Ensure we create signature before uploading file

This is so that we do not upload anything if signature creation fails."
sorbits,2014-10-02 19:14:24,https://api.github.com/repos/textmate/textmate/git/commits/9a326d1f5f72941e8c50653fd3db535e8ee2ce61,9a326d1f5f72941e8c50653fd3db535e8ee2ce61,"Do not prevent empty lines from being a fold start/stop marker

This is compatible with how TextMate 1.x works. We identify empty lines because we want to ignore them when finding the last line in an indented block, though this commit should not break that, unless the language in question have one of the folding patterns match empty lines and have also enabled indent based foldings."
sorbits,2014-10-02 19:12:47,https://api.github.com/repos/textmate/textmate/git/commits/1547462212ba7b7c0fbf1a9e57355986c240b0eb,1547462212ba7b7c0fbf1a9e57355986c240b0eb,"Set MATEFLAGS to ‘--no-recent’ for TextMate commands

This way commands that open files via TM_MATE will not fill up the Open Recent menu."
sorbits,2014-10-02 19:10:52,https://api.github.com/repos/textmate/textmate/git/commits/29019d536b0b0111df20f615dfb4d2bc0535ad21,29019d536b0b0111df20f615dfb4d2bc0535ad21,"Read mate options from the MATEFLAGS environment variable

This is useful for users who want to permanently set things like --[no-]recent and --[no-]escapes."
sorbits,2014-10-02 18:23:56,https://api.github.com/repos/textmate/textmate/git/commits/dcf647236cae772d79a16f32a7aeca1cc8214683,dcf647236cae772d79a16f32a7aeca1cc8214683,Use thin close button images on 10.10
sorbits,2014-10-02 18:23:34,https://api.github.com/repos/textmate/textmate/git/commits/f9ee7caf31ca5c2b59da7138b6308b70e772c9e9,f9ee7caf31ca5c2b59da7138b6308b70e772c9e9,Add thin close button image
sorbits,2014-10-02 17:57:26,https://api.github.com/repos/textmate/textmate/git/commits/243d1c880892e5ab3e5df11e6d5a05f2a24876c6,243d1c880892e5ab3e5df11e6d5a05f2a24876c6,"Add contentFrame property to OakTabItemView

This should return the content excluding borders and is used to create an image when dragging tabs. Long-term we probably should create a special drag image rather than ask the tab to draw itself."
sorbits,2014-10-02 17:17:29,https://api.github.com/repos/textmate/textmate/git/commits/444df54849ce2a3a7de600de1f8ac4dae2469964,444df54849ce2a3a7de600de1f8ac4dae2469964,Use different tab background/divider images on 10.10
sorbits,2014-10-02 17:15:50,https://api.github.com/repos/textmate/textmate/git/commits/1a3d76880cd1c5f9eca754ab8c983a0045bd9d65,1a3d76880cd1c5f9eca754ab8c983a0045bd9d65,Refactor
sorbits,2014-10-02 16:56:20,https://api.github.com/repos/textmate/textmate/git/commits/93624253ce65d85f680b840202d0eb8a5549039b,93624253ce65d85f680b840202d0eb8a5549039b,Add left/right padding properties to OakTabBarStyle
sorbits,2014-10-02 15:49:40,https://api.github.com/repos/textmate/textmate/git/commits/9a85ff2d5722b68ef7ed1f36910119d538da86bc,9a85ff2d5722b68ef7ed1f36910119d538da86bc,"Simplify constraints used to layout document window

We now do the core layout with priorities that allow optional elements to insert themselves between existing elements."
nanoant,2014-09-28 21:18:32,https://api.github.com/repos/textmate/textmate/git/commits/b137014777e812f9a8afb9f05e11ff269fefd4de,b137014777e812f9a8afb9f05e11ff269fefd4de,"Tabs above document file browser header in tab bar

Integrate visually file manager header in tab bar when tabs above document
option in on. If tabs above document are off then use default gradient L&F.

Bottom divider for file browser header view is not integrated in header for
easier control if it is shown or not."
sorbits,2014-10-02 08:00:18,https://api.github.com/repos/textmate/textmate/git/commits/1c3b5c170a1575bf4510a5ca222c55103aad65e0,1c3b5c170a1575bf4510a5ca222c55103aad65e0,Use template image for tab bar overflow button
sorbits,2014-10-02 08:14:11,https://api.github.com/repos/textmate/textmate/git/commits/929d7ed80e564fc53e2e7293e30a3c4cfd1fa5db,929d7ed80e564fc53e2e7293e30a3c4cfd1fa5db,Set button background as raised when using a template image
sorbits,2014-10-01 15:43:50,https://api.github.com/repos/textmate/textmate/git/commits/7c05b6c611d95377051844b3aaea94b4dfb93445,7c05b6c611d95377051844b3aaea94b4dfb93445,Require mouse to be moved 2.5 points before dragging a tab
sorbits,2014-10-01 14:39:31,https://api.github.com/repos/textmate/textmate/git/commits/8c4478061690ca401dbbafca1ce869fa15bbf16d,8c4478061690ca401dbbafca1ce869fa15bbf16d,Update dialog plug-ins (font sizes)
sorbits,2014-10-01 14:38:53,https://api.github.com/repos/textmate/textmate/git/commits/a40efd3971aaea26b0b009e6a68874bc40a2308d,a40efd3971aaea26b0b009e6a68874bc40a2308d,"Support OakBundleManagerDisambiguateMenuFontSize

This was supported by TextMate 1.x and are also used by the menus brought up by the dialog plug-ins."
sorbits,2014-10-01 14:32:11,https://api.github.com/repos/textmate/textmate/git/commits/197222f93e229429cc20918d461e4ecd8c290e83,197222f93e229429cc20918d461e4ecd8c290e83,Disable find action buttons when there is no find string
sorbits,2014-10-01 13:59:25,https://api.github.com/repos/textmate/textmate/git/commits/c080a5d5d30e303203d023f9bf298eaf28fa3523,c080a5d5d30e303203d023f9bf298eaf28fa3523,Use NSNegateBooleanTransformerName constant instead of string
sorbits,2014-09-30 15:08:01,https://api.github.com/repos/textmate/textmate/git/commits/639f1d282f381ea227098566cdea96c98fd3f653,639f1d282f381ea227098566cdea96c98fd3f653,Remove OakCreateSmallLabel helper since it’s only used once
sorbits,2014-09-30 14:48:31,https://api.github.com/repos/textmate/textmate/git/commits/bb87e6fabe515326a1bcb4ee833610a11a3cbe04,bb87e6fabe515326a1bcb4ee833610a11a3cbe04,"Do not relayout tabs to the left of clicked close button

Previously we would still perform layout on the tabs to the left since with tabs having equal width, the layout should result in the same. Now that we compress tabs, the layout can change.

In theory the user could close a tab, have the mouse remain inside the tab bar, and then perform an action that changes the underlying tabs, which would then leave us with tab item views that need layout."
sorbits,2014-09-30 14:39:26,https://api.github.com/repos/textmate/textmate/git/commits/5de3b2558a141f5ae6272e34e6c0f3222a328311,5de3b2558a141f5ae6272e34e6c0f3222a328311,Redistribute tab whitespace to minimize title compression
sorbits,2014-09-30 14:16:46,https://api.github.com/repos/textmate/textmate/git/commits/894314592fd4b015da9789a147de238ac51f5d47,894314592fd4b015da9789a147de238ac51f5d47,"Enable tab overflow button before doing layout

This is so that we can use fittingSize during layout (i.e. have it include the width of the overflow button when the tab item view shows it)."
sorbits,2014-09-30 14:07:35,https://api.github.com/repos/textmate/textmate/git/commits/62e197a3104ff27e2e6c770ca1f70b1db9171b89,62e197a3104ff27e2e6c770ca1f70b1db9171b89,Close button for modified tab items was initially hidden
sorbits,2014-09-30 13:40:56,https://api.github.com/repos/textmate/textmate/git/commits/c50ec2da3497e5d3b73bb568319558d367e00431,c50ec2da3497e5d3b73bb568319558d367e00431,Doing tab layout with no selected tab would lose overflow menu
sorbits,2014-09-29 22:49:09,https://api.github.com/repos/textmate/textmate/git/commits/63dcc93ab45b4bccd1d7fe399e5117cd667a98d9,63dcc93ab45b4bccd1d7fe399e5117cd667a98d9,Introduce table cell view subclass to avoid expensive reload
sorbits,2014-09-29 22:02:42,https://api.github.com/repos/textmate/textmate/git/commits/9369777aee50a314f6e7414b610409d1f09c8e93,9369777aee50a314f6e7414b610409d1f09c8e93,"Hardcode small system font size as 11

This is because the small system font size is actually the tool tip font size which the user may increase (via the NSToolTipsFontSize defaults)."
sorbits,2014-09-29 22:01:16,https://api.github.com/repos/textmate/textmate/git/commits/568017fffccd1d1a2b003e85cd8aaa3ae78c0257,568017fffccd1d1a2b003e85cd8aaa3ae78c0257,Use message font as the control font
sorbits,2014-09-29 21:47:30,https://api.github.com/repos/textmate/textmate/git/commits/42e1b5fdf0f5f92b4caf41232a770f8740f461fb,42e1b5fdf0f5f92b4caf41232a770f8740f461fb,"Use label font for color chooser in file browser context menu

This seems appropriate given that label font is used below toolbar icons and the tick marks on a slider. Here we use it below the available colors.

We also use it for OakCreateSmallLabel() which is only used for status messages in the registration window."
sorbits,2014-09-29 20:49:54,https://api.github.com/repos/textmate/textmate/git/commits/106ac62bcf65d41fc1363e27d8b846be80c7a613,106ac62bcf65d41fc1363e27d8b846be80c7a613,Use OakStatusBarFont() for find window’s status text
sorbits,2014-09-30 12:05:52,https://api.github.com/repos/textmate/textmate/git/commits/7cb2330aaef49e3a83ed8147cf2a3e74e91a8e1d,7cb2330aaef49e3a83ed8147cf2a3e74e91a8e1d,Log error if curl_easy_init() or accept() fails
sorbits,2014-09-30 11:03:33,https://api.github.com/repos/textmate/textmate/git/commits/6748c281098d87ac3c441efe0de7a9d1d38facdc,6748c281098d87ac3c441efe0de7a9d1d38facdc,"Send performCloseTab:/OtherTabs: directly to tab view delegate

When our application is active but another window is key, trying to send to our tab view’s window (via tryToPerform:with:) goes to the key window."
sorbits,2014-09-29 21:44:40,https://api.github.com/repos/textmate/textmate/git/commits/040a53c3df13094d9e20ad68e28327f43fca1f70,040a53c3df13094d9e20ad68e28327f43fca1f70,"Change text view status bar layout constraints

We now center most things and baseline align text controls. Previously we would stretch all controls to full height which wouldn’t guarantee that e.g. pop-up buttons would properly align with the text fields."
sorbits,2014-09-29 21:03:27,https://api.github.com/repos/textmate/textmate/git/commits/6e5adcdc31b4310bced21d1c18620885862e5f59,6e5adcdc31b4310bced21d1c18620885862e5f59,Remove unused code
sorbits,2014-09-29 20:41:54,https://api.github.com/repos/textmate/textmate/git/commits/11de15ac5423c2b9fcee29a74150dc338a5ad5c7,11de15ac5423c2b9fcee29a74150dc338a5ad5c7,"Update fonts used for find in folder results

We now use the control content font as this seems to be meant for content shown in tables. We use the standard size (of 12 points) for the headings and set the result rows to use 11 point.

The number of matches is shown with the label font as that is semantically a small font used for placing labels next to things."
sorbits,2014-09-29 15:49:53,https://api.github.com/repos/textmate/textmate/git/commits/2462bf8037620f6560bf9cd41097d48cdd501a1b,2462bf8037620f6560bf9cd41097d48cdd501a1b,"Use minimum tab size as tab bar’s intrinsic width

This way we can setup compression resistance to the required priority and thereby ensure that the tab bar fits at least one tab."
sorbits,2014-09-29 15:39:05,https://api.github.com/repos/textmate/textmate/git/commits/d9e8a0fc5e69e71398d978558739da8e72bd60d7,d9e8a0fc5e69e71398d978558739da8e72bd60d7,"Do not setup Y-centering constraint on tab overflow image

This image already has a fixed position so the centering is redundant and could even lead to ambiguous layout."
sorbits,2014-09-29 14:37:54,https://api.github.com/repos/textmate/textmate/git/commits/1266129f0e8423386f5171fdbc96c06c96c198ff,1266129f0e8423386f5171fdbc96c06c96c198ff,Don’t layout any tabs when smaller than minimum tab item width
sorbits,2014-09-29 14:21:57,https://api.github.com/repos/textmate/textmate/git/commits/c88b3e36111d808b9362d4f1bc2279e0802c723e,c88b3e36111d808b9362d4f1bc2279e0802c723e,"Set “center tab labels” constraint below “fitting size” priority

This way when asking for a fitting size we get back the minimum size with all but the centering constraint met (and minimized).

In theory the compression resistance for the text field only need to be NSLayoutPriorityFittingSizeCompression+1 but for reasons I do not yet understand, we need to set it higher than NSLayoutPriorityDefaultLow, otherwise the fitting width will occasionally be 64."
sorbits,2014-09-29 14:21:05,https://api.github.com/repos/textmate/textmate/git/commits/f079f8a91767d83f8b87dcb6cc146d7ae8a6652c,f079f8a91767d83f8b87dcb6cc146d7ae8a6652c,Avoid redeclaration of “all views” dictionary
sorbits,2014-09-29 13:12:23,https://api.github.com/repos/textmate/textmate/git/commits/d1dd666fbd95907e9cd2b2e4df990000c1b559bb,d1dd666fbd95907e9cd2b2e4df990000c1b559bb,Remove remains from cell-based find results outline view
sorbits,2014-09-29 11:47:32,https://api.github.com/repos/textmate/textmate/git/commits/10e370319dda176fc81d4806aa34516389caf4fe,10e370319dda176fc81d4806aa34516389caf4fe,Use system’s tool tip font for our custom tool tips
sorbits,2014-09-29 11:24:52,https://api.github.com/repos/textmate/textmate/git/commits/a90acdcbe6da6d6c0d8c5a723fd562ea5ab76b5a,a90acdcbe6da6d6c0d8c5a723fd562ea5ab76b5a,Use convenience methods to setup header/status bar backgrounds
sorbits,2014-09-29 11:01:52,https://api.github.com/repos/textmate/textmate/git/commits/24bd3eee1df4040daaaf41fca2429bc4cbd73f8e,24bd3eee1df4040daaaf41fca2429bc4cbd73f8e,Let ProjectLayoutView setup height of file browser header
sorbits,2014-09-29 11:00:11,https://api.github.com/repos/textmate/textmate/git/commits/b9ed2ac8ee442341b433de6d9adaeabcfc9127cd,b9ed2ac8ee442341b433de6d9adaeabcfc9127cd,Let ProjectLayoutView know about the file browser header view
sorbits,2014-09-29 10:57:57,https://api.github.com/repos/textmate/textmate/git/commits/3052a2764b7203a10e40e3571e9f7773bc14149e,3052a2764b7203a10e40e3571e9f7773bc14149e,"Don’t allow tab bar view to expand beyond its intrinsic height

This makes it easier to constrain other views to the height of the tab bar view, without the tab bar view growing to the height of the other view."
sorbits,2014-09-29 10:41:19,https://api.github.com/repos/textmate/textmate/git/commits/6262e1715963ee70b9aaef4fd57b6a2af457a6a5,6262e1715963ee70b9aaef4fd57b6a2af457a6a5,"Make file browser’s header view a public property

This allows users of the file browser to setup constraints involving the file browser header or change its (background) styling."
sorbits,2014-09-29 10:19:07,https://api.github.com/repos/textmate/textmate/git/commits/d12e0976d6a8e0ec46614abf06b2312b40836f50,d12e0976d6a8e0ec46614abf06b2312b40836f50,Remove OakGradientView
sorbits,2014-09-29 10:18:24,https://api.github.com/repos/textmate/textmate/git/commits/72837ca7ac4a76c39d3c009cb19f1d69e6086fc2,72837ca7ac4a76c39d3c009cb19f1d69e6086fc2,Use OakBackgroundFillView instead of OakGradientView
sorbits,2014-09-29 10:09:45,https://api.github.com/repos/textmate/textmate/git/commits/eb20fd8746280a22d614c9a523a56a833b3146ba,eb20fd8746280a22d614c9a523a56a833b3146ba,Add NSGradient support to OakBackgroundFillView
sorbits,2014-09-28 12:31:42,https://api.github.com/repos/textmate/textmate/git/commits/65cfacd054c5884177044b176cb8d668e3e91e2f,65cfacd054c5884177044b176cb8d668e3e91e2f,"Fix issue with our tag property override and the 10.10 SDK

Until the 10.10 SDK we could use the compiler’s synthesized getter for our ‘tag’ property, but NSView.h in the 10.10 SDK declares ‘tag’ via the @property syntax and it is effectively unsupported to redeclare a readonly property as readwrite in a subclass (clang will not synthesize getter/setter methods in the subclass)."
sorbits,2014-09-27 11:06:31,https://api.github.com/repos/textmate/textmate/git/commits/05bd76ad0b7f55a2104dde2fc4519dce8cb0f181,05bd76ad0b7f55a2104dde2fc4519dce8cb0f181,"Make “Restore Session” default for session restore dialog

Since disabling session restore will discard user data, it should not be default."
sorbits,2014-09-27 11:02:46,https://api.github.com/repos/textmate/textmate/git/commits/244509586bf8130b67d2996a6fe256e695c803b9,244509586bf8130b67d2996a6fe256e695c803b9,"Closing the overflow tab (via mouse) caused suboptimal relayout

When we close a tab with the mouse we “freeze” the layout rectangle of the tabs before the one closed, however, if this group contains non-visible tabs during close (as is mostly the case when showing the overflow button) then one of those would be made visible (since we closed a tab that took up space) and this new tab would be squeezed into the saved layout rectangle."
sorbits,2014-09-27 09:43:08,https://api.github.com/repos/textmate/textmate/git/commits/94b7114a10d7ed58ab259b0ec347af040bd1a996,94b7114a10d7ed58ab259b0ec347af040bd1a996,Remove old tab close button images (for non-modified tabs)
sorbits,2014-09-27 09:23:04,https://api.github.com/repos/textmate/textmate/git/commits/6a7c42b7750f88c8def364113f7463b7ae93186f,6a7c42b7750f88c8def364113f7463b7ae93186f,"Revert ""Add “create tab” images from MMTabBarView""

This reverts commit 6a81bad1e4fefbc88588e024c9ac4a44b952127f."
sorbits,2014-09-27 09:22:14,https://api.github.com/repos/textmate/textmate/git/commits/923ee5953436652202c0f9416e18a24659bbd460,923ee5953436652202c0f9416e18a24659bbd460,Use NSImageNameAddTemplate image for “create new tab” button
sorbits,2014-09-27 09:54:54,https://api.github.com/repos/textmate/textmate/git/commits/96c43146dcf40160c2466cfb4eb2bb8f5c4c55d0,96c43146dcf40160c2466cfb4eb2bb8f5c4c55d0,Remove redundant code
sorbits,2014-09-26 21:18:48,https://api.github.com/repos/textmate/textmate/git/commits/bf73951ec9151de89363e738b1408a0e279a7a55,bf73951ec9151de89363e738b1408a0e279a7a55,Checkin release notes
sorbits,2014-09-26 21:09:36,https://api.github.com/repos/textmate/textmate/git/commits/e7bfe7b238536a87b8f8a29b8363613d3d4d1a58,e7bfe7b238536a87b8f8a29b8363613d3d4d1a58,"Fix reappearing regular expression error popover

If it was shown and dismissed, then it would show again the next time the text field content was changed (and the content was not a valid expression)."
sorbits,2014-09-26 18:20:39,https://api.github.com/repos/textmate/textmate/git/commits/e064491261c8af780af45826a7f87a2ccff7f070,e064491261c8af780af45826a7f87a2ccff7f070,"By default we no longer show the tab bar for a single document

Once we have two documents (in same window) we show the tab bar and never hides it again (to avoid content from jumping."
sorbits,2014-09-26 16:22:27,https://api.github.com/repos/textmate/textmate/git/commits/5eb7ede8295c1033b922f951756c8901c01fb952,5eb7ede8295c1033b922f951756c8901c01fb952,Don’t ignore case changes on case-insensitive file systems
sorbits,2014-09-26 15:44:23,https://api.github.com/repos/textmate/textmate/git/commits/89d2450c8848ce4d28db7397da022ae3e8db4bc4,89d2450c8848ce4d28db7397da022ae3e8db4bc4,"Reload tabs before changing selected tab index

This worked previously because selected tab was stored using an index and we were only changing it (before reload) when closing tabs, so the new index would be valid both before and after reload.

With the new OakTabBarView the index of selected tab is instantly converted into a reference to a tab item."
sorbits,2014-09-26 11:09:21,https://api.github.com/repos/textmate/textmate/git/commits/cb463534b8725f28cb9c013c8cdcd9716b0d408c,cb463534b8725f28cb9c013c8cdcd9716b0d408c,"Make window key in actions that show file browser field editor

It is possible to bring up menus for inactive windows and e.g. select Rename or Duplicate."
sorbits,2014-09-25 18:03:30,https://api.github.com/repos/textmate/textmate/git/commits/a983643fb8e5984ced35c2dd6abd737ede39ebd9,a983643fb8e5984ced35c2dd6abd737ede39ebd9,Workaround for weak pointers to NSWindow crashing on 10.7
rdwampler,2014-09-24 04:10:04,https://api.github.com/repos/textmate/textmate/git/commits/a627991ac378254ea449f2bd6938563d2f8ca97b,a627991ac378254ea449f2bd6938563d2f8ca97b,"HOBrowserView: Avoid calling super on key events

This workaround is to avoid a couple of undesired behaviors in the `HTMLOutputWindow` when the web page implements keyboard commands such as Git → Browse Annotated File (Blame). Namely, when using the keyboard commands, we would always receive an NSBeep. Also, fixed an issue when these key commands may conflict with menu keys. See comment in the commit for details."
sorbits,2014-09-25 16:49:45,https://api.github.com/repos/textmate/textmate/git/commits/13a3ac49ba9cd0f378875e06616aad9622110cac,13a3ac49ba9cd0f378875e06616aad9622110cac,Update OakTabBarView class to use an NSView per tab item
sorbits,2014-09-24 11:25:25,https://api.github.com/repos/textmate/textmate/git/commits/baff543c47c7635644fa4accaf432a2240892750,baff543c47c7635644fa4accaf432a2240892750,Add OakTabItemView to be used in upcoming OakTabBarView
sorbits,2014-09-25 17:25:24,https://api.github.com/repos/textmate/textmate/git/commits/6a81bad1e4fefbc88588e024c9ac4a44b952127f,6a81bad1e4fefbc88588e024c9ac4a44b952127f,Add “create tab” images from MMTabBarView
sorbits,2014-09-25 17:24:47,https://api.github.com/repos/textmate/textmate/git/commits/cba03ff5943035b02588dae38f11b7e4d257e06f,cba03ff5943035b02588dae38f11b7e4d257e06f,Add tab images from Safari
sorbits,2014-09-22 19:52:45,https://api.github.com/repos/textmate/textmate/git/commits/b7088bac3df68705435146a62d697aaae9005bac,b7088bac3df68705435146a62d697aaae9005bac,Add OakRolloverButton
sorbits,2014-09-22 19:45:41,https://api.github.com/repos/textmate/textmate/git/commits/7ebd14876c3c5b02e7ec505cccddb2f4c04ea4bb,7ebd14876c3c5b02e7ec505cccddb2f4c04ea4bb,"Introduce OakBackgroundFillView which replaces NSBox for dividers

This view has an active/inactive color or image. The latter is drawn as a pattern color (tiled image)."
sorbits,2014-09-22 19:41:09,https://api.github.com/repos/textmate/textmate/git/commits/e54a170eaefbc50030ed05a257eacf4fa74aaab1,e54a170eaefbc50030ed05a257eacf4fa74aaab1,NSBox is an implementation detail so use NSView instead
sorbits,2014-09-25 09:48:55,https://api.github.com/repos/textmate/textmate/git/commits/1f06ac9ff43197d6494d315a43c08767af7e647f,1f06ac9ff43197d6494d315a43c08767af7e647f,Add identifier to OakTabBarViewDataSource
sorbits,2014-09-20 11:47:30,https://api.github.com/repos/textmate/textmate/git/commits/cf3b8306107a882142ffb2faa2c04eb9e0561f61,cf3b8306107a882142ffb2faa2c04eb9e0561f61,Make the ‘expanded’ property of OakTabBarView private
sorbits,2014-09-19 09:40:29,https://api.github.com/repos/textmate/textmate/git/commits/bff809497647fdf892e51b25c7c54f69988c30d6,bff809497647fdf892e51b25c7c54f69988c30d6,Decrease minimum required width of document status bar
sorbits,2014-09-19 05:37:15,https://api.github.com/repos/textmate/textmate/git/commits/da669a482c5d6e309e1c6440c96f997d6f8933ec,da669a482c5d6e309e1c6440c96f997d6f8933ec,Update documentation reference in comment
sorbits,2014-09-17 09:41:40,https://api.github.com/repos/textmate/textmate/git/commits/6f4afd97fa3810304dc5625de2e7c9240c9158a8,6f4afd97fa3810304dc5625de2e7c9240c9158a8,Checkin release notes
sorbits,2014-09-17 09:12:56,https://api.github.com/repos/textmate/textmate/git/commits/c2ef79c10cf69d0ad2e86e08e63b56a23e2526f0,c2ef79c10cf69d0ad2e86e08e63b56a23e2526f0,Update dialog plug-in
sorbits,2014-09-17 08:35:25,https://api.github.com/repos/textmate/textmate/git/commits/ec81a045af51d47c397ec8e12118c46d2952d808,ec81a045af51d47c397ec8e12118c46d2952d808,"Force a layout before opening window (from tests)

This appears to be a requirement (to do it manually). Running 10.9.4."
sorbits,2014-09-16 18:38:09,https://api.github.com/repos/textmate/textmate/git/commits/ed29cf9374a070677146331d9102a3390f5169a7,ed29cf9374a070677146331d9102a3390f5169a7,"Ensure a capture begin/end rule does not leak its scope

Previously if a capture contained a begin/end rule with an unsatisfied end match then its scope would be applied beyond the end of the capture."
sorbits,2014-09-16 12:54:11,https://api.github.com/repos/textmate/textmate/git/commits/651138d66072191067741e0f371e0b66fbab89a5,651138d66072191067741e0f371e0b66fbab89a5,Update debug output
sorbits,2014-09-16 12:22:54,https://api.github.com/repos/textmate/textmate/git/commits/b265927501abeebd33b9da431e4899eedfbffb27,b265927501abeebd33b9da431e4899eedfbffb27,Perform cache invalidation for value_for_setting cache
sorbits,2014-09-16 12:13:06,https://api.github.com/repos/textmate/textmate/git/commits/1d3ccb157ae5bef5f762189a54e6e121e9d26133,1d3ccb157ae5bef5f762189a54e6e121e9d26133,"Use a std::string instead of scope_t as cache key

Since we do a lot of lookups the faster operator< of std::string improves performance slightly."
sorbits,2014-09-16 11:24:42,https://api.github.com/repos/textmate/textmate/git/commits/de6724aad50dbf9ae1ff0a9aaebe5b633964d288,de6724aad50dbf9ae1ff0a9aaebe5b633964d288,"Minor scope_t implementation improvements

We let std::string do comparisons and we shortcut the equivalence test for scope_t when the node pointers are identical."
sorbits,2014-09-16 11:02:27,https://api.github.com/repos/textmate/textmate/git/commits/d9dfeff56b3548a7db90e03459296e7a06f2a500,d9dfeff56b3548a7db90e03459296e7a06f2a500,"Introduce a cache for value_for_setting

Currently no cache invalidation is done."
sorbits,2014-09-16 10:54:48,https://api.github.com/repos/textmate/textmate/git/commits/b6c77d19601048a1bb89ee245853d6c29bd0f52c,b6c77d19601048a1bb89ee245853d6c29bd0f52c,"Change behavior and implementation of to_s overload for scopes

For a scope context with identical left/right scopes we now return the scope without “decoration” and when the left/right scopes differ, we return them separated by the unit separator character.

The change is motivated by the need to use the result of to_s as a cache key where speed is important."
sorbits,2014-09-15 18:41:51,https://api.github.com/repos/textmate/textmate/git/commits/356999392d4e0ea0e5794b31bff376cf669ad144,356999392d4e0ea0e5794b31bff376cf669ad144,"Remove crash report info gathering from buffer type

This was affecting performance when performing actions that go through the entire buffer. Also, none of the functions are involved in any crash reports."
sorbits,2014-09-15 15:41:54,https://api.github.com/repos/textmate/textmate/git/commits/8a87ee16e2759d43939987ed07fb5b6c3e23e2ed,8a87ee16e2759d43939987ed07fb5b6c3e23e2ed,Only allow a single history window per clipboard type
sorbits,2014-09-15 15:37:20,https://api.github.com/repos/textmate/textmate/git/commits/3dcd9ba89b26fad75f95ff4307adb3b7723fe3db,3dcd9ba89b26fad75f95ff4307adb3b7723fe3db,Make OakPasteboard’s name property public
sorbits,2014-09-15 15:08:22,https://api.github.com/repos/textmate/textmate/git/commits/ee3f90366ddbeb2fb96c1ff78bfc5492ec938ae1,ee3f90366ddbeb2fb96c1ff78bfc5492ec938ae1,Remember Filter Through Command output choice in user defaults
sorbits,2014-09-15 10:42:02,https://api.github.com/repos/textmate/textmate/git/commits/8224994f5d3e0f4ee7793dff813f49c88843dd26,8224994f5d3e0f4ee7793dff813f49c88843dd26,"Convert dragged indexes to items when starting a drag operation

The indexes are not always valid when the drag ends because rows can have been expanded or (when dragging to another file browser) removed."
sorbits,2014-09-15 09:02:19,https://api.github.com/repos/textmate/textmate/git/commits/ab83cc6e50caf7de731f02ff7d39d085a050c412,ab83cc6e50caf7de731f02ff7d39d085a050c412,"Strip diacritics and combining marks when asciifying

Previously we would transliterate æ → ae and å → a (via iconv) but something like é became 'e.

Related to issue textmate/latex.tmbundle#87."
sorbits,2014-09-14 17:12:19,https://api.github.com/repos/textmate/textmate/git/commits/279fdbbd3fd6de5db0949421d953750d2587fb30,279fdbbd3fd6de5db0949421d953750d2587fb30,Add new folder search options to action/options menu
sorbits,2014-09-14 16:28:39,https://api.github.com/repos/textmate/textmate/git/commits/2474af5d16027673bb951245634e8ed2380b7d55,2474af5d16027673bb951245634e8ed2380b7d55,"Skip searching binary files

Binary files are identified by containing a null byte (after applying encoding heuristics and decoding potential UTF-16 etc.)."
sorbits,2014-09-14 16:17:00,https://api.github.com/repos/textmate/textmate/git/commits/9a3ab4c46f2be4478da17e67525ccf1a77a0ba07,9a3ab4c46f2be4478da17e67525ccf1a77a0ba07,"Add option to search linked files (rather than folders)

Also reworked API slightly to make things more explicit."
sorbits,2014-09-14 15:27:00,https://api.github.com/repos/textmate/textmate/git/commits/2d3de8513cb9bb88978fea948a0751607b8789ba,2d3de8513cb9bb88978fea948a0751607b8789ba,Using ⌘G after a folder search no longer visits removed documents
sorbits,2014-09-14 15:14:05,https://api.github.com/repos/textmate/textmate/git/commits/0ed6ae555cb8071887567d37f9db87c7bddfcedc,0ed6ae555cb8071887567d37f9db87c7bddfcedc,"Extend folder search glob when removing result and holding option

This is a quick way to exclude the file from future searches."
sorbits,2014-09-14 15:11:22,https://api.github.com/repos/textmate/textmate/git/commits/e78a9ced216ea865b5bcaa8fe94824ab659500c7,e78a9ced216ea865b5bcaa8fe94824ab659500c7,Make glob string property settable
sorbits,2014-09-13 15:09:22,https://api.github.com/repos/textmate/textmate/git/commits/7920c930c326da944f865d4eb9ffe464ca4b4321,7920c930c326da944f865d4eb9ffe464ca4b4321,Use Objective-C boxing instead of stringWithUTF8String:
sorbits,2014-09-13 14:19:07,https://api.github.com/repos/textmate/textmate/git/commits/c5e1303a2af45c6e990a667e2711d3ca42fed210,c5e1303a2af45c6e990a667e2711d3ca42fed210,"Rename stdinFd variable to inputFd

This is just to make it consistent with our outputFd and errorFd variable names."
sorbits,2014-09-13 13:53:52,https://api.github.com/repos/textmate/textmate/git/commits/01543db36f03e8dad18deb7f9f5f345824423463,01543db36f03e8dad18deb7f9f5f345824423463,Show malformed match result “warning” with correct font size
sorbits,2014-09-12 14:17:35,https://api.github.com/repos/textmate/textmate/git/commits/dd0afb381f9afd133c37d68a64434cc3c520a54c,dd0afb381f9afd133c37d68a64434cc3c520a54c,"Set regexp error popover behavior to NSPopoverBehaviorTransient

This allows using escape to close the popover."
sorbits,2014-09-10 13:28:19,https://api.github.com/repos/textmate/textmate/git/commits/5d4fe11e707672f43f95c33a1bf975919ecf1733,5d4fe11e707672f43f95c33a1bf975919ecf1733,Speedup tool-tip fadeout except when closing due to mouse moved
sorbits,2014-09-10 12:02:08,https://api.github.com/repos/textmate/textmate/git/commits/73b21bd836a67a45b8a689a100c8529261fc0683,73b21bd836a67a45b8a689a100c8529261fc0683,Move WebView related print support to OakHTMLOutputView
sorbits,2014-09-10 11:46:39,https://api.github.com/repos/textmate/textmate/git/commits/707da020bb71f20fa1482fac1c36b5bbab9b6b4c,707da020bb71f20fa1482fac1c36b5bbab9b6b4c,"Ensure our HTML output view is first responder after load

When redirecting to a PDF file the PDFView (inside the WebView) is not made first responder (on 10.9, it might have worked on 10.8)."
sorbits,2014-09-10 11:34:11,https://api.github.com/repos/textmate/textmate/git/commits/a4f47a7bfcb24eded4c9aeb4ad3ad4973d147379,a4f47a7bfcb24eded4c9aeb4ad3ad4973d147379,Use Core Animation for the open document animation (zooming icon)
sorbits,2014-09-10 10:33:17,https://api.github.com/repos/textmate/textmate/git/commits/d0ba80d72e38048fc03b47c3ba29b32a3409040c,d0ba80d72e38048fc03b47c3ba29b32a3409040c,Update dialog-1.x plug-in
sorbits,2014-09-08 20:14:51,https://api.github.com/repos/textmate/textmate/git/commits/c559253a1441ceb225049cd7eff1a1a99362c8e2,c559253a1441ceb225049cd7eff1a1a99362c8e2,"Allow printing WebViews even when they are not first responder

Starting with 10.9 (I think) it seems that when the WebView switches content view to show a PDF, it will lose first responder status, so pressing ⌘P (to print the PDF) does not work, but require the user to first click the PDF (to make the view first responder).

This commit uses a heuristic to figure out which view should be printed when the first responder is not a printable (web/PDF) view."
sorbits,2014-09-08 18:37:20,https://api.github.com/repos/textmate/textmate/git/commits/72276ff644459f242236055d8390698bf945cf1a,72276ff644459f242236055d8390698bf945cf1a,"Skip menu item separators with items from multiple bundles

The only example of this that I am aware of is ⌘Y when there is no version control system used for the current project: Here we get a menu with init/checkout/help items from some of the SCM bundles and it looked bad when TextMate would use separators for these items."
sorbits,2014-09-08 18:18:13,https://api.github.com/repos/textmate/textmate/git/commits/d7d2b5047a9419b2ae6431f9d6510a339085117f,d7d2b5047a9419b2ae6431f9d6510a339085117f,"Improve ordering of items in bundle item chooser

Previously we would alphabetize (non-setting) items when filtering on other properties than the title, now we order them based on their scope precedence.

So e.g. filtering on key equivalent will now show the item that will actually fire as the first one."
sorbits,2014-09-07 22:43:24,https://api.github.com/repos/textmate/textmate/git/commits/9d39e80044a32df9b7a209dba93630d860bf75c2,9d39e80044a32df9b7a209dba93630d860bf75c2,"Hide OakToolTip interface in implementation file

This isn’t actually a public interface."
sorbits,2014-09-07 22:39:14,https://api.github.com/repos/textmate/textmate/git/commits/f082f8fe47a3066043138dcac27234391edb18cb,f082f8fe47a3066043138dcac27234391edb18cb,Order out any old tool tip that might exist when showing a new
sorbits,2014-09-07 22:27:17,https://api.github.com/repos/textmate/textmate/git/commits/db2c7982929a16da8abf9a0da20ac0b1ccccad01,db2c7982929a16da8abf9a0da20ac0b1ccccad01,Use Core Animation to fade out tool tips
sorbits,2014-09-06 13:08:39,https://api.github.com/repos/textmate/textmate/git/commits/ac151e7d4c570cca847f526cb3024c59ad2fdd23,ac151e7d4c570cca847f526cb3024c59ad2fdd23,Allow editing .tm_properties files from bundle item chooser
sorbits,2014-09-06 13:08:03,https://api.github.com/repos/textmate/textmate/git/commits/1f1cfee5e9c72b5444864951fe0fff0af300b952,1f1cfee5e9c72b5444864951fe0fff0af300b952,Set path/directory for bundle item chooser (for .tm_properties)
sorbits,2014-09-06 13:07:24,https://api.github.com/repos/textmate/textmate/git/commits/a925801cb6bdf84cf08f64a55e814b6cb15bd69b,a925801cb6bdf84cf08f64a55e814b6cb15bd69b,Include items from .tm_properties in bundle item chooser
sorbits,2014-09-06 12:50:00,https://api.github.com/repos/textmate/textmate/git/commits/89400822d3014f63b458a7249bdff2451e93489f,89400822d3014f63b458a7249bdff2451e93489f,Add settings_info_for_path to get path/section for .tm_properties
sorbits,2014-09-06 12:35:46,https://api.github.com/repos/textmate/textmate/git/commits/57da86ba5c418f2bc9a7d02b95a70a91b944e017,57da86ba5c418f2bc9a7d02b95a70a91b944e017,Use higher order function to collect settings
sorbits,2014-09-06 12:15:22,https://api.github.com/repos/textmate/textmate/git/commits/06484ae92a674a9992d2dca853f117adf83b65b0,06484ae92a674a9992d2dca853f117adf83b65b0,Remember which path a property section is extracted from
sorbits,2014-09-06 12:14:05,https://api.github.com/repos/textmate/textmate/git/commits/de3f867c9e3998d2e3268b529c9048eab75d3d4c,de3f867c9e3998d2e3268b529c9048eab75d3d4c,"Use std::mutex and std::lock_guard instead of pthread_mutex_t

Also move the mutex out so that other functions can lock it."
sorbits,2014-09-06 12:12:31,https://api.github.com/repos/textmate/textmate/git/commits/b4956ac4fa2dbfd042054f3c40751f84c54b5cc4,b4956ac4fa2dbfd042054f3c40751f84c54b5cc4,Make ‘untitledSavePath’ a public (readonly) property
sorbits,2014-09-06 08:47:52,https://api.github.com/repos/textmate/textmate/git/commits/1e057ef38f394a6957dc282d9208a35e4305dd3b,1e057ef38f394a6957dc282d9208a35e4305dd3b,"Sort items based on filter string when searching all scopes

When only searching current scope we want to list the settings in the order of precedence but that does not make sense when searching all scopes."
sorbits,2014-09-06 08:39:51,https://api.github.com/repos/textmate/textmate/git/commits/b11a1d05a47396b265855628d14d9a4e835fc0bd,b11a1d05a47396b265855628d14d9a4e835fc0bd,Do not overstrike settings items when searching all scopes
sorbits,2014-09-05 12:27:47,https://api.github.com/repos/textmate/textmate/git/commits/461915cb34d065dc2907ed88b4e07cd0f346e439,461915cb34d065dc2907ed88b4e07cd0f346e439,"Don’t perform checks to see if user’s compiler is good enough

The codebase no longer require a cutting edge compiler so we simply use clang via xcrun."
sorbits,2014-09-05 12:17:45,https://api.github.com/repos/textmate/textmate/git/commits/e13ec4dc18cdbe7ac524e8e765580d33d3066d97,e13ec4dc18cdbe7ac524e8e765580d33d3066d97,Call developer shell tools via xcrun instead of using $xcodedir
sorbits,2014-09-05 12:14:25,https://api.github.com/repos/textmate/textmate/git/commits/ac9f64ed4a577eff1388b0548c09d6309f2ce172,ac9f64ed4a577eff1388b0548c09d6309f2ce172,"Do not specify SDK version as using ‘latest’ is generally desired

If we need to build with a specific version we can include it in CC/CXX using the --sdk argument."
sorbits,2014-09-05 12:05:17,https://api.github.com/repos/textmate/textmate/git/commits/de60f228ac989f9fe803de1c307b3ab873c44fec,de60f228ac989f9fe803de1c307b3ab873c44fec,"Do not assume CC/CXX is a single executable

The downside is that we no longer have our .o files depend on the compiler (so we need to do a clean build after upgrading the compiler) and if there is a space in the path to the compiler, it will fail.

The upside is that we can let CC/CXX be a command with arguments, e.g. ‘xcrun clang’."
sorbits,2014-09-05 11:39:38,https://api.github.com/repos/textmate/textmate/git/commits/ceec6ab54fa03203f0a1310ce008c36fe44f63f8,ceec6ab54fa03203f0a1310ce008c36fe44f63f8,Update dialog-1.x plug-in
sorbits,2014-09-04 20:14:58,https://api.github.com/repos/textmate/textmate/git/commits/0045daa153aa03bbe5d7cb53da6a961dbd52de1e,0045daa153aa03bbe5d7cb53da6a961dbd52de1e,Add overstrike style to eclipsed settings in bundle item chooser
sorbits,2014-09-04 19:59:15,https://api.github.com/repos/textmate/textmate/git/commits/26c4b889596cc51bea0b5ca135e29f342167468f,26c4b889596cc51bea0b5ca135e29f342167468f,"Keep settings items in bundle item chooser sorted by scope rank

Previously when we entered a filter string the sorting would be based on how good a match the filter string was."
sorbits,2014-09-03 15:02:25,https://api.github.com/repos/textmate/textmate/git/commits/c9a13a82c5575c02699fc07fd3d2d262dae490f8,c9a13a82c5575c02699fc07fd3d2d262dae490f8,Fix deprecation warnings
sorbits,2014-09-03 14:06:44,https://api.github.com/repos/textmate/textmate/git/commits/6bdad1733ed396ea0945ec63cf9d4b9967e1615f,6bdad1733ed396ea0945ec63cf9d4b9967e1615f,Move handling of invisible character mapping to ng::context_t
sorbits,2014-09-03 14:05:14,https://api.github.com/repos/textmate/textmate/git/commits/06b6802d055289a34d1536ad9493dfb9fadbd80a,06b6802d055289a34d1536ad9493dfb9fadbd80a,Do not export ng::paragraph_t and supporting to_s function
sorbits,2014-09-03 13:21:56,https://api.github.com/repos/textmate/textmate/git/commits/f0e5efd5aebe7bcedf5aec19063ca64141eb2f93,f0e5efd5aebe7bcedf5aec19063ca64141eb2f93,Remove unnecessary typecasts
sorbits,2014-09-02 19:16:43,https://api.github.com/repos/textmate/textmate/git/commits/c7ef9d2d78cf505a60ffdea0d1e270f59260b146,c7ef9d2d78cf505a60ffdea0d1e270f59260b146,Fix typo
sorbits,2014-09-02 19:15:48,https://api.github.com/repos/textmate/textmate/git/commits/a241fd8a5a8fbee98c97549eaaa9bd6220ddadd8,a241fd8a5a8fbee98c97549eaaa9bd6220ddadd8,Checkin release notes
sorbits,2014-09-02 18:43:20,https://api.github.com/repos/textmate/textmate/git/commits/751a564fe236fdcb0150871abf12de25d04ee378,751a564fe236fdcb0150871abf12de25d04ee378,"Escape can now be used to clear a recorded key equivalent

If there is no recorded key equivalent then the key is passed to super."
sorbits,2014-09-02 18:38:13,https://api.github.com/repos/textmate/textmate/git/commits/74e9448738dc626b75bcab5705ebe99f53204ade,74e9448738dc626b75bcab5705ebe99f53204ade,Use a scope bar view for the different bundle item types
sorbits,2014-09-02 18:20:19,https://api.github.com/repos/textmate/textmate/git/commits/918406d52d5ef9038b5c127f1f525befe2a3a2d0,918406d52d5ef9038b5c127f1f525befe2a3a2d0,Update bundle item chooser UI
sorbits,2014-09-02 16:54:40,https://api.github.com/repos/textmate/textmate/git/commits/7e63510cfd01231e799c110de2f261a0bc80b7e8,7e63510cfd01231e799c110de2f261a0bc80b7e8,"Document changed on disk would sometimes be marked as modified

We wrap the “update document” in an undo group, but if we already have an undo group at a higher level then our “end group” would be postponed to the root group, which would delay updating the document revision, and thus the revision we use as the disk revision would be wrong.

We workaround this by forcing the undo group to end and thus ignore the one at the higher level, which should be safe."
sorbits,2014-09-02 16:53:26,https://api.github.com/repos/textmate/textmate/git/commits/e91bf08e6901ee1230c32e9c879f0db4874a7b49,e91bf08e6901ee1230c32e9c879f0db4874a7b49,Allow forcing an undo group to be closed
sorbits,2014-09-02 16:47:10,https://api.github.com/repos/textmate/textmate/git/commits/4d6a8174f0413226439c72586a16d32f614ba90a,4d6a8174f0413226439c72586a16d32f614ba90a,Fix variable names in debug statement
sorbits,2014-09-02 15:16:32,https://api.github.com/repos/textmate/textmate/git/commits/85f23eb53cc9d7d79b545aa7d7eb7407ccab472c,85f23eb53cc9d7d79b545aa7d7eb7407ccab472c,"Add crash report info to OakShowSheetForWindow

Trying to figure out why this function crashes due to uncaught exception with reason: ‘Modal session requires modal window’."
sorbits,2014-09-02 14:51:02,https://api.github.com/repos/textmate/textmate/git/commits/49b82c9ecb8a50437e8fb77d04b1e941ca6c34b0,49b82c9ecb8a50437e8fb77d04b1e941ca6c34b0,"Let ‘edit’ be default action when settings item is selected (⌃⌘T)

Also use performClick: on the window’s default button cell when using return to select an item."
sorbits,2014-09-02 14:18:36,https://api.github.com/repos/textmate/textmate/git/commits/536e79a40434ad74649f779892acee60d2004f43,536e79a40434ad74649f779892acee60d2004f43,Show setting name (or variable) instead of umbrella item (⌃⌘T)
sorbits,2014-09-02 13:52:59,https://api.github.com/repos/textmate/textmate/git/commits/a22053e7e7c33f4e7c56e8e0afaa04e9920463a5,a22053e7e7c33f4e7c56e8e0afaa04e9920463a5,Add public API to obtain a bundle item’s shell variables
sorbits,2014-09-02 09:17:40,https://api.github.com/repos/textmate/textmate/git/commits/98b08464c7131f399ad56a7d69bcac18b2bedc0a,98b08464c7131f399ad56a7d69bcac18b2bedc0a,"Workaround for NSSpellChecker advancing the event loop

This fixes #1260 though we may want to update our design to work with an asynchronous spell checker."
sorbits,2014-09-01 15:38:33,https://api.github.com/repos/textmate/textmate/git/commits/dc525ba234865da1fef03384668a6f2cfe92aa07,dc525ba234865da1fef03384668a6f2cfe92aa07,Add tab settings for Onigmo submodule
sorbits,2014-09-01 15:37:11,https://api.github.com/repos/textmate/textmate/git/commits/91e3c2c0de4c6dfc3408e668b23d8e92a69f4be3,91e3c2c0de4c6dfc3408e668b23d8e92a69f4be3,Ask for search results to fade out when being removed
sorbits,2014-09-01 15:37:11,https://api.github.com/repos/textmate/textmate/git/commits/d2a2a9dfdd5c25a79e0fe6fa43cd27409fa367aa,d2a2a9dfdd5c25a79e0fe6fa43cd27409fa367aa,"Don’t call NSOutlineView’s sizeLastColumnToFit

This doesn’t seem to be required, might only have been an issue with cell-based outline views, or perhaps only on an older version of the OS."
sorbits,2014-09-01 15:37:11,https://api.github.com/repos/textmate/textmate/git/commits/5cc60a6d5ba9b7e679ca6925eea8d79ca86c9159,5cc60a6d5ba9b7e679ca6925eea8d79ca86c9159,"Use NSOutlineView’s insertItemsAtIndexes:… instead of reloadData

We wrap it in begin/endUpdates because the number of results badges might otherwise show briefly, as expansion happens post-insertion."
sorbits,2014-09-01 15:37:11,https://api.github.com/repos/textmate/textmate/git/commits/4e5e4ef601430ab4018061bd96ef1e1ba0b79adb,4e5e4ef601430ab4018061bd96ef1e1ba0b79adb,"Add badges to show number of search results (when collapsed)

This is implemented by observing NSOutlineView’s did expand/collapse item notification and then asking for a full reload of the outline view.

None of the granular reload methods would cause the view to be recreated, and there is no “isExpanded” property that the view can bind to.

Given the above, it might be a good idea to introduce an NSTableCellView subclass / view controller for the group view and have this handle it, to avoid the overhead of asking for a full reload each time an item is expanded/collapsed (which is multiplied by number of items when using expand/collapse all)."
sorbits,2014-09-01 15:37:11,https://api.github.com/repos/textmate/textmate/git/commits/da27ee570e87335b69530ab991869987ff52f2c8,da27ee570e87335b69530ab991869987ff52f2c8,Remove unused cell-based outline view method
sorbits,2014-09-01 15:37:10,https://api.github.com/repos/textmate/textmate/git/commits/df31d85a8b1de8255356db5c7606b5a221065229,df31d85a8b1de8255356db5c7606b5a221065229,Remove old image name reference from xib
sorbits,2014-09-01 15:37:10,https://api.github.com/repos/textmate/textmate/git/commits/c1d7484b7dfc320adf4c08b42097a77cd6b76dfc,c1d7484b7dfc320adf4c08b42097a77cd6b76dfc,"Use typecast to ensure compiler finds the proper delegate method

Without it, it uses -[NSFileManager delegate] and complains that we are comparing id<NSFileManagerDelegate> with OFBOutlineView*."
sorbits,2014-09-01 15:37:10,https://api.github.com/repos/textmate/textmate/git/commits/a50846ba6c0c2365f23dd34974cc27cba2875630,a50846ba6c0c2365f23dd34974cc27cba2875630,"Don’t let our NSCell superclass know about our image

When linking with the 10.10 SDK our cell was misbehaving, showing either no image or only the image. The explanation might be NSCell’s setImage: implementation which is documented as: “If the receiver is not an image-type cell, the method converts it to that type of cell.”."
sorbits,2014-09-01 15:37:10,https://api.github.com/repos/textmate/textmate/git/commits/6aaaaf7f26266164d2fc4060715704d677ca8a12,6aaaaf7f26266164d2fc4060715704d677ca8a12,NSImage: Use lockFocusFlipped: instead of deprecated setFlipped:
sorbits,2014-09-01 15:37:10,https://api.github.com/repos/textmate/textmate/git/commits/33d347cedd0a04d532ddd301bf3851399722ace3,33d347cedd0a04d532ddd301bf3851399722ace3,Use toggle button for status bar instead of NSTextField subclass
sorbits,2014-09-01 15:37:10,https://api.github.com/repos/textmate/textmate/git/commits/8940593af0f83eb3337126f80fba2b165eec861f,8940593af0f83eb3337126f80fba2b165eec861f,"Rely on bindings for document edited and Replace All button state

Also fix an issue where it would show Replace Selected even with search results hidden."
sorbits,2014-09-01 15:37:10,https://api.github.com/repos/textmate/textmate/git/commits/75e7ebaca2acaf028ed2b35c879384b2fb3069e1,75e7ebaca2acaf028ed2b35c879384b2fb3069e1,"Don’t implement the NSCopying protocol for FFResultNode

This doesn’t seem to be a requirement when using view-based NSOutlineViews, and as our implementation wasn’t actually doing any copying, better to not pretend we conform to this interface."
sorbits,2014-09-01 15:37:10,https://api.github.com/repos/textmate/textmate/git/commits/9b3dd8c0f43eb7bcbe47355bd4ca27e20e6c62b2,9b3dd8c0f43eb7bcbe47355bd4ca27e20e6c62b2,"Don’t use COPYFILE_METADATA with files on network drives

According to a user report this is causing TextMate to freeze. Reported to Apple as <rdar://17480649>."
sorbits,2014-09-01 15:36:57,https://api.github.com/repos/textmate/textmate/git/commits/2aae17aeb3e155fc4c45507d95cda12029d3168e,2aae17aeb3e155fc4c45507d95cda12029d3168e,fixup! Add items to recent menu when ‘mate’ is called without -w option
sorbits,2014-08-30 14:36:20,https://api.github.com/repos/textmate/textmate/git/commits/854fa91f10bf825a9892352d05a5ffc5ed63ae73,854fa91f10bf825a9892352d05a5ffc5ed63ae73,"Only cause preferences files to be created for TextMate

This function is called when running ‘bl’ and ‘test_network’, so previously we would end up with ‘bl.plist’ and ‘test_network.plist’ in ~/Library/Preferences."
sorbits,2014-08-30 14:17:51,https://api.github.com/repos/textmate/textmate/git/commits/0d04dc7efac9c32a7afd0b0add0ca4b09e40e5e3,0d04dc7efac9c32a7afd0b0add0ca4b09e40e5e3,Give the find dialog a more predictable key view loop
sorbits,2014-08-30 13:44:15,https://api.github.com/repos/textmate/textmate/git/commits/7d448c993f7e91433759d30925a7af86905c7f36,7d448c993f7e91433759d30925a7af86905c7f36,"Remove --change-dir from mate’s usage information

I don’t think anyone uses it, so consider it deprecated and subject for removal.

Also update the short options list to the currently valid options."
sorbits,2014-08-30 13:31:09,https://api.github.com/repos/textmate/textmate/git/commits/923e92afe7b281d118e3f807ea112b8c1d34e72f,923e92afe7b281d118e3f807ea112b8c1d34e72f,Update ignore regexp (for Show TODO List command)
sorbits,2014-08-30 13:05:52,https://api.github.com/repos/textmate/textmate/git/commits/5412a767e81aa2a6afc1fd0b7cbdf013b1bf686c,5412a767e81aa2a6afc1fd0b7cbdf013b1bf686c,"Partially revert bc31da8f0367c56d4825d90f1de1e88f54c28b6d

The menu items containing ‘«unit» / Selection’ in their default title are automatically updated to show the proper unit by our text view’s menu validation."
sorbits,2014-08-30 12:54:51,https://api.github.com/repos/textmate/textmate/git/commits/d6f84b33d289429ebf4bae4676195cbee56e214a,d6f84b33d289429ebf4bae4676195cbee56e214a,"Remove a FIXME

The issue here was that a line of non-printable characters would return a height of zero."
sorbits,2014-08-30 12:43:51,https://api.github.com/repos/textmate/textmate/git/commits/d12a091f5ee1ecce408f00e42a182ae8e92ba043,d12a091f5ee1ecce408f00e42a182ae8e92ba043,Remove commented code
sorbits,2014-08-30 12:41:07,https://api.github.com/repos/textmate/textmate/git/commits/5ba236ec6730cfe94aa6b957aff88199ab33c2cd,5ba236ec6730cfe94aa6b957aff88199ab33c2cd,"Remember HTML output window frame on a per command basis

Some commands clearly should not share output window frame, OTOH it might be tedious having to position every new command used (if the default position is undesired).

We should probably re-use last command’s frame if there isn’t already a frame stored for the command (that’s what TextMate 1.x did). It might also be possible to group commands via its semantic class, so all run commands use the same window frame, though currently semantic classes have unique (language) suffixes."
sorbits,2014-08-28 20:02:14,https://api.github.com/repos/textmate/textmate/git/commits/05cf40d77bfeb230a56f5cbde0b250dc687f7cce,05cf40d77bfeb230a56f5cbde0b250dc687f7cce,"Convert tabs in search results to em-spaces

This is to decrease the tab width which technically should be doen by creating NSTextTab objects (with tab positions), but that is too complex and I think ideally we should visualize the tabs (e.g. “‣”) like we do in the search/clipboard history windows."
sorbits,2014-08-28 18:17:53,https://api.github.com/repos/textmate/textmate/git/commits/db1fa96114d1a066e59b4df0af256fe7d618a672,db1fa96114d1a066e59b4df0af256fe7d618a672,"Add items to recent menu when ‘mate’ is called without -w option

One can force adding to the recent menu by using --recent or disable it (for files we do not wait on) using --no-recent."
sorbits,2014-08-28 19:26:37,https://api.github.com/repos/textmate/textmate/git/commits/4afbf0c0e3a3d69d82b7174aacd913fd8da9a647,4afbf0c0e3a3d69d82b7174aacd913fd8da9a647,"Remove incorrect text about -w being ignored for multiple files

Also update it in an attempt of improving it."
sorbits,2014-08-28 18:03:55,https://api.github.com/repos/textmate/textmate/git/commits/9c5557b4429d5f87ee36e53c008154f0f422f43c,9c5557b4429d5f87ee36e53c008154f0f422f43c,Boolean mate options are now --[no-]option to force on/off
sorbits,2014-08-28 12:41:15,https://api.github.com/repos/textmate/textmate/git/commits/b624726f9fd247a804cf2737704346522f90f7aa,b624726f9fd247a804cf2737704346522f90f7aa,Remove unused option
sorbits,2014-08-28 12:22:45,https://api.github.com/repos/textmate/textmate/git/commits/14211e5f2955f53dfe99e079d14c60049122e3c1,14211e5f2955f53dfe99e079d14c60049122e3c1,Change all local variables to use camelCase
sorbits,2014-08-27 13:34:21,https://api.github.com/repos/textmate/textmate/git/commits/356a21d7e7f9eed7611db8f7fdd4751a68c6b295,356a21d7e7f9eed7611db8f7fdd4751a68c6b295,Add button to remove search results from the list
sorbits,2014-08-27 12:58:11,https://api.github.com/repos/textmate/textmate/git/commits/9e0d0e9b342c923d87f2d18700bef282b23a5c2c,9e0d0e9b342c923d87f2d18700bef282b23a5c2c,Limit data reload of results outline view
rdwampler,2014-08-04 02:51:30,https://api.github.com/repos/textmate/textmate/git/commits/d60c47ef42d4b5116a8a4f60cf3d85635df9aed9,d60c47ef42d4b5116a8a4f60cf3d85635df9aed9,Commit button title summarizes the number of files to be committed
rdwampler,2014-07-29 18:38:53,https://api.github.com/repos/textmate/textmate/git/commits/0361afe340c56e276031b7d4003269616b5a71a4,0361afe340c56e276031b7d4003269616b5a71a4,"Rework the commit window as a sheet (document modal)

Previously, the commit window was changed from a ""always on top"" window to a more typical window that could be minimized or sent to the background. While this made viewing the diffs more convenient, we could easily loose track of it or at worst end up with multiple dangling commit windows. By making it document modal, this prevents dangling windows. Furthermore, since the commit window is now attached to the main project window and the file browser already has the SCM status, we hide the file list by default and dropped the action button. Users can choose to show the file list via a checkbox and the action button's menu is still available via the file list's context menu."
rdwampler,2014-07-29 16:00:52,https://api.github.com/repos/textmate/textmate/git/commits/4b31a3fde04a813c784df3508f39877aba9a2919,4b31a3fde04a813c784df3508f39877aba9a2919,Send diffs to a separate window
sorbits,2014-08-27 10:46:12,https://api.github.com/repos/textmate/textmate/git/commits/542158c9f041dab1dddc8266580efb9cb1bed535,542158c9f041dab1dddc8266580efb9cb1bed535,"Inherit project folder when moving document to new window

This only happens if the document being moved is a child of the project folder."
sorbits,2014-08-24 09:47:15,https://api.github.com/repos/textmate/textmate/git/commits/5a45023f9e184b80326bc5c3927b48198a9b98bb,5a45023f9e184b80326bc5c3927b48198a9b98bb,"Add new method to Find class: ‘takeSearchResultToRemoveFrom:’

This can be used after a completed search to prune the results. Currently though no UI is connected to this action."
sorbits,2014-08-27 06:50:58,https://api.github.com/repos/textmate/textmate/git/commits/7262dd9d270e41728630695cf462259d484f8393,7262dd9d270e41728630695cf462259d484f8393,"Switch search results to a view-based outline view

Currently does not support dragging of the file icon nor does it show number of matches in a single file when results are collapsed."
sorbits,2014-08-26 21:10:56,https://api.github.com/repos/textmate/textmate/git/commits/23261fe293f3241ccd29b5ef74821f26a2142a57,23261fe293f3241ccd29b5ef74821f26a2142a57,"Use reloadDataForRowIndexes:columnIndexes: instead of reloadData:

This is mainly in preparation of switching to a view-based table view where reloadData: loses the selection (and recreates all table row views)."
sorbits,2014-08-26 19:35:23,https://api.github.com/repos/textmate/textmate/git/commits/75ae3cd52d9d3717e4965b8b9080efad39aa3630,75ae3cd52d9d3717e4965b8b9080efad39aa3630,Use bindings to track count of leafs and excluded leafs
sorbits,2014-08-26 15:58:43,https://api.github.com/repos/textmate/textmate/git/commits/e098611387a524d1dc2ab3037c64502eed73e254,e098611387a524d1dc2ab3037c64502eed73e254,Use the correct selected text color (for lists)
sorbits,2014-08-26 15:06:42,https://api.github.com/repos/textmate/textmate/git/commits/0ff652d5c9f3433d1cb087888dce80ba638457cf,0ff652d5c9f3433d1cb087888dce80ba638457cf,Introduce semantic convenience getters
sorbits,2014-08-26 14:27:13,https://api.github.com/repos/textmate/textmate/git/commits/ff99f06647d665bb5387c865294eb82f262b7442,ff99f06647d665bb5387c865294eb82f262b7442,Provide base directory when creating FFResultNode group nodes
sorbits,2014-08-26 13:42:20,https://api.github.com/repos/textmate/textmate/git/commits/cebb90b6c8e00b37197fcaf766329e97dfbda3be,cebb90b6c8e00b37197fcaf766329e97dfbda3be,Remove implementation details from Find singleton’s interface
sorbits,2014-08-25 11:45:21,https://api.github.com/repos/textmate/textmate/git/commits/44358ad034d0fc6e902bc7e696a6219524a022a8,44358ad034d0fc6e902bc7e696a6219524a022a8,Rename FFResultNode property: ‘exclude’ → ‘excluded’
sorbits,2014-08-25 11:44:09,https://api.github.com/repos/textmate/textmate/git/commits/1ee217adc629ba873816d3ae26ffbb95928865f8,1ee217adc629ba873816d3ae26ffbb95928865f8,Rename FFResultNode property: ‘matches’ → ‘children’
sorbits,2014-08-25 08:58:34,https://api.github.com/repos/textmate/textmate/git/commits/860a6aa54675eb5fbebc4d29e139ba461469ff1d,860a6aa54675eb5fbebc4d29e139ba461469ff1d,Let FFResultNode tree track count of leafs and excluded leafs
sorbits,2014-08-24 10:11:49,https://api.github.com/repos/textmate/textmate/git/commits/c27082a5f687d48f79768fa1cc9be4703d651734,c27082a5f687d48f79768fa1cc9be4703d651734,Fix zero row height for empty match ranges
sorbits,2014-08-24 09:39:03,https://api.github.com/repos/textmate/textmate/git/commits/0bb7acfbf3241f45e0859504b07350eb5a9f9c4b,0bb7acfbf3241f45e0859504b07350eb5a9f9c4b,Add ‘removeFromParent’ to FFResultNode
sorbits,2014-08-24 09:25:42,https://api.github.com/repos/textmate/textmate/git/commits/f781fe0f98501348f4514d8bcba02d30a69303d2,f781fe0f98501348f4514d8bcba02d30a69303d2,Show checkmark in bundle item chooser for selected menu items
sorbits,2014-08-24 09:04:56,https://api.github.com/repos/textmate/textmate/git/commits/bb41b55d16d085a0c43d7da929f4390a1058f7a8,bb41b55d16d085a0c43d7da929f4390a1058f7a8,Remove folder_scan_settings_t (API simplification)
sorbits,2014-08-23 16:24:02,https://api.github.com/repos/textmate/textmate/git/commits/7a1be3ebd0211740cb94f66ac40e6bd348b331ac,7a1be3ebd0211740cb94f66ac40e6bd348b331ac,Using globs in file chooser now defaults to case-insensitive
sorbits,2014-08-23 16:23:34,https://api.github.com/repos/textmate/textmate/git/commits/5d72c8a2c5b3e1bc7fdd96868ef0c571db5dd78a,5d72c8a2c5b3e1bc7fdd96868ef0c571db5dd78a,Support case-insensitive glob matching
sorbits,2014-08-23 16:10:27,https://api.github.com/repos/textmate/textmate/git/commits/93e14c6a157d8110d97c854ff5319f98e1fc55e3,93e14c6a157d8110d97c854ff5319f98e1fc55e3,Update includes
sorbits,2014-08-23 15:41:38,https://api.github.com/repos/textmate/textmate/git/commits/89e395df4476730740b01b170fd8ca56a18c7360,89e395df4476730740b01b170fd8ca56a18c7360,Abort search when closing find dialog
sorbits,2014-08-23 15:07:24,https://api.github.com/repos/textmate/textmate/git/commits/d2072145c6690471b78d69853a1a58426d28f47b,d2072145c6690471b78d69853a1a58426d28f47b,Use system images for the “shell support installed” indicator
sorbits,2014-08-23 14:49:24,https://api.github.com/repos/textmate/textmate/git/commits/aa27ccced5bb2778f75eb0a0c910fb0082d5737c,aa27ccced5bb2778f75eb0a0c910fb0082d5737c,Move some logic to the FFResultNode type
sorbits,2014-08-23 14:39:53,https://api.github.com/repos/textmate/textmate/git/commits/846c220b6b94e3e3883f6771d46dbd2e27cd563e,846c220b6b94e3e3883f6771d46dbd2e27cd563e,Exclude line after match from excerpt when match ends with LF
sorbits,2014-08-22 18:18:51,https://api.github.com/repos/textmate/textmate/git/commits/40ab59447cc12ae4db53a511f1b19379338d7e45,40ab59447cc12ae4db53a511f1b19379338d7e45,Move convenience functions from FFMatch → FFResultNode
sorbits,2014-08-22 17:47:28,https://api.github.com/repos/textmate/textmate/git/commits/e6185fd5a1633859a83a785d247d0c62c4ffb138,e6185fd5a1633859a83a785d247d0c62c4ffb138,Move select next/previous tab/result out of window controller
sorbits,2014-08-22 17:46:36,https://api.github.com/repos/textmate/textmate/git/commits/871a0df11a012a24518afec424ee25af437c6c2e,871a0df11a012a24518afec424ee25af437c6c2e,Introduce showResultNode: convenience method
sorbits,2014-08-22 16:54:23,https://api.github.com/repos/textmate/textmate/git/commits/54ac376825a669a4527868e5f6666ce4ff557829,54ac376825a669a4527868e5f6666ce4ff557829,Change terminology: ‘Match’ → ‘ResultNode’
sorbits,2014-08-22 16:51:32,https://api.github.com/repos/textmate/textmate/git/commits/180f21d7aa84a59a8878a6b78f2da3a5becdf38b,180f21d7aa84a59a8878a6b78f2da3a5becdf38b,Add first/last match convenience methods to FFResultNode
sorbits,2014-08-22 16:45:04,https://api.github.com/repos/textmate/textmate/git/commits/87dcaf93eca83401679e618f68a07de66c9ed7cc,87dcaf93eca83401679e618f68a07de66c9ed7cc,Iterate all search results using a single for-loop
sorbits,2014-08-22 16:39:21,https://api.github.com/repos/textmate/textmate/git/commits/f855739d334799e1b19a38eeca7a58c532cc6bf5,f855739d334799e1b19a38eeca7a58c532cc6bf5,Use FFResultNode objects as the ‘Go To’ menu’s representedObject
sorbits,2014-08-22 16:23:14,https://api.github.com/repos/textmate/textmate/git/commits/2f6370f4b06dd3e4c94090e23d947d87696fe712,2f6370f4b06dd3e4c94090e23d947d87696fe712,Use a FFResultNode object to contain top-level results
sorbits,2014-08-22 16:05:35,https://api.github.com/repos/textmate/textmate/git/commits/1cabec256c5c62f6ad1168078eac8d1004e33d3f,1cabec256c5c62f6ad1168078eac8d1004e33d3f,"Use custom type for search results to get better type checking

This also makes it easy to have next/previous/parent (weak) pointers for better traversing."
dusek,2014-08-22 19:51:04,https://api.github.com/repos/textmate/textmate/git/commits/afb504b58defcf16785e19cf2f4098d23480d89c,afb504b58defcf16785e19cf2f4098d23480d89c,"Do not use macros for accessibility constants

This improves the chance that someone googling for a certain accessibility
attribute or other accessibility constant in order to find inspiration how to
implement it will find our code in OakTextView. It also makes the code more
understandable for reading by someone else, and generally follows the way
others write accessibility code (including Apple in their code samples). It
does make the code more verbose, but I think that does not outweight the above
advantages.

Inspired by: googling and ""githubbing"" for NSAccessibilityLinkTextAttribute:
http://lists.apple.com/archives/accessibility-dev/2014/Aug/msg00016.html"
sorbits,2014-08-22 13:54:09,https://api.github.com/repos/textmate/textmate/git/commits/87f2c07fbc02b6c6fcc1a9d6aa7a9f2fe05ca916,87f2c07fbc02b6c6fcc1a9d6aa7a9f2fe05ca916,"With no file browser or project folder we try document’s folder

This is for the “untitled save path” which is normally used for new untitled files, so we wouldn’t actually have a folder, however, the property is also used as a fallback for a “project folder” when that property is unset (which it generally shouldn’t be)."
sorbits,2014-08-22 13:38:21,https://api.github.com/repos/textmate/textmate/git/commits/881b83cb503b42def17dea2624cd2120af79234f,881b83cb503b42def17dea2624cd2120af79234f,Setup project folder after saving single untitled document
sorbits,2014-08-22 12:58:44,https://api.github.com/repos/textmate/textmate/git/commits/34965c230dfab5776a46d9e688ec163d8e961168,34965c230dfab5776a46d9e688ec163d8e961168,Find All for single document: Fix absolute path in search results
sorbits,2014-08-22 12:33:02,https://api.github.com/repos/textmate/textmate/git/commits/bf81caa44802d7b8a7d2a7121158542f66c17b64,bf81caa44802d7b8a7d2a7121158542f66c17b64,Fix titlecase menu item to say “Line” instead of “Word”
sorbits,2014-08-22 12:29:16,https://api.github.com/repos/textmate/textmate/git/commits/94165739fbb61c2553092a3834a37c155cc9f18a,94165739fbb61c2553092a3834a37c155cc9f18a,"Improve capitalization heuristic

See added/updated tests for details."
sorbits,2014-08-22 07:35:30,https://api.github.com/repos/textmate/textmate/git/commits/b0d57705cfe5c3ed6ce59ee2004f69decdcbcb55,b0d57705cfe5c3ed6ce59ee2004f69decdcbcb55,Make encoding part of the document_t::reader_t API
sorbits,2014-08-22 07:33:22,https://api.github.com/repos/textmate/textmate/git/commits/b1b0ffda583174f51e3174cac850338df2ed5e86,b1b0ffda583174f51e3174cac850338df2ed5e86,"Add ‘charset’ property to FFFilePathCell

This is really just a right-aligned label, but we might later change how it’s drawn."
sorbits,2014-08-21 15:40:20,https://api.github.com/repos/textmate/textmate/git/commits/6646a14da13fe675a64b4941d030bba838a7b548,6646a14da13fe675a64b4941d030bba838a7b548,Use alternate status string to show how many bytes were searched
sorbits,2014-08-21 15:39:13,https://api.github.com/repos/textmate/textmate/git/commits/4b521541d79c840077521c4d49cc29875c290b59,4b521541d79c840077521c4d49cc29875c290b59,"Support alternate status string in find dialog window

The alternate string is shown after the user clicks the status bar."
sorbits,2014-08-21 15:37:04,https://api.github.com/repos/textmate/textmate/git/commits/63f8400cc49b0d53b3ca1aa925c7f1a2f8886c26,63f8400cc49b0d53b3ca1aa925c7f1a2f8886c26,Allow specifying an NSTextField subclass when creating labels
sorbits,2014-08-21 15:36:16,https://api.github.com/repos/textmate/textmate/git/commits/50d3a584c9f71fe35fac62cdd19b306153e38f6d,50d3a584c9f71fe35fac62cdd19b306153e38f6d,Track how many bytes we search
sorbits,2014-08-21 14:50:05,https://api.github.com/repos/textmate/textmate/git/commits/4a2a3997ccd9d5a4b1c20d36faa805958316f2b0,4a2a3997ccd9d5a4b1c20d36faa805958316f2b0,Update API of find::scan_path_t
sorbits,2014-08-21 13:52:19,https://api.github.com/repos/textmate/textmate/git/commits/2f1c4c05c41cdc7fbb9b6dfdd720ba3a1a42f7e6,2f1c4c05c41cdc7fbb9b6dfdd720ba3a1a42f7e6,"Do not use ‘timeIntervalSinceNow’ with dates in the past

We previously negated the result but now we instead ask for [[NSDate date] timeIntervalSinceDate:startDate]."
sorbits,2014-08-21 13:38:34,https://api.github.com/repos/textmate/textmate/git/commits/a06554b638ce62bee98341529dccbdc40e4f929a,a06554b638ce62bee98341529dccbdc40e4f929a,"Minor update of FFDocumentSearch’s instance data usage

Prior to this commit the ‘searchDuration’ property would actually return seconds since we last started a search, rather than how long the last search took."
sorbits,2014-08-21 13:13:41,https://api.github.com/repos/textmate/textmate/git/commits/2908384a24d0328f5e2c490d55762d5cd96c9733,2908384a24d0328f5e2c490d55762d5cd96c9733,Add Check/Uncheck All to folder search action menu
sorbits,2014-08-21 13:00:08,https://api.github.com/repos/textmate/textmate/git/commits/ffe3a464f2ad02e01e7d4d8fe80a762fecfaed18,ffe3a464f2ad02e01e7d4d8fe80a762fecfaed18,"Improve implementation of collapsing/expanding search results

We now collapse if more than half the items are expanded, otherwise expand. Previously we relied on a property to track the collapsed/expanded state, which could be out of sync if the user manually changed the state for half the items, and we also needed to reset the state variables when updating search results."
sorbits,2014-08-21 12:43:59,https://api.github.com/repos/textmate/textmate/git/commits/baff330459b6338ebd46ed67cd12bf60de8eb5b2,baff330459b6338ebd46ed67cd12bf60de8eb5b2,"Refactor Find in Folder code

Minor functional changes, for example after replacing we keep showing the search results, but with disabled checkboxes and ‘replace all’ button."
sorbits,2014-08-21 08:44:55,https://api.github.com/repos/textmate/textmate/git/commits/153ecda1a5b2442627c815eb20e3eab61d16a0d0,153ecda1a5b2442627c815eb20e3eab61d16a0d0,Rely on compiler synthesized instance variables
sorbits,2014-08-20 14:48:11,https://api.github.com/repos/textmate/textmate/git/commits/bbb61d3b47da00fe211538d64193fe7a816ac479,bbb61d3b47da00fe211538d64193fe7a816ac479,Overload description method for FFMatch
sorbits,2014-08-20 12:05:40,https://api.github.com/repos/textmate/textmate/git/commits/573066676d227a6d08ca005978f2baca945f641c,573066676d227a6d08ca005978f2baca945f641c,"Rely on ARC instead of synthesized accessor

Also give the callback function non-global scope."
sorbits,2014-08-20 08:19:32,https://api.github.com/repos/textmate/textmate/git/commits/2721b2242607c8fca90cec23b4cefbd1e85ffbc3,2721b2242607c8fca90cec23b4cefbd1e85ffbc3,Use recede instead of retreat as the inverse of advance
sorbits,2014-08-20 08:12:09,https://api.github.com/repos/textmate/textmate/git/commits/57e43f27e3d5f134744bba2a6e908d7dab48639d,57e43f27e3d5f134744bba2a6e908d7dab48639d,Return 0 if Gestalt() fails
sorbits,2014-08-19 20:53:20,https://api.github.com/repos/textmate/textmate/git/commits/f4747e4fe48ed0ece8b5c291a8d4f53cc9e858b3,f4747e4fe48ed0ece8b5c291a8d4f53cc9e858b3,"Create (find in folder) match excerpt in background thread

Previously these were created on demand, but that meant loading the document in the UI thread. It also meant that multiple matches from same document would cause the document to be read for multiple times.

Furthermore, storing the match excerpt with the find::match_t type should allow for more flexibility, since we no longer need special logic in the table view delegate to load a subset of a document to get the display string, but will simply read it from the record."
dusek,2014-07-31 15:28:22,https://api.github.com/repos/textmate/textmate/git/commits/d7e9b3a41d1c7300bdb6ad662bc39e5362853b63,d7e9b3a41d1c7300bdb6ad662bc39e5362853b63,"Use ""key equivalent"" instead of ""shortcut"""
sorbits,2014-08-18 21:30:20,https://api.github.com/repos/textmate/textmate/git/commits/920777e2d6fc910f1a3377be19f35f1ab735402f,920777e2d6fc910f1a3377be19f35f1ab735402f,"Skip setting (complex) window title when we have no document name

Incase there is no window title settings key then we will set the window title to nil, which throws an exception."
sorbits,2014-08-18 21:14:32,https://api.github.com/repos/textmate/textmate/git/commits/b9fbbfae4afcc49c1f70d90163847b8cc7508a2d,b9fbbfae4afcc49c1f70d90163847b8cc7508a2d,Fix range exception
sorbits,2014-08-18 19:40:58,https://api.github.com/repos/textmate/textmate/git/commits/a3d085a44faab4aa7438f9ea6caa0eb095c41cd5,a3d085a44faab4aa7438f9ea6caa0eb095c41cd5,"Get rid of find::scan_path_matches_t typdef

This is (now) just a std::vector of find::match_t records."
sorbits,2014-08-18 19:36:26,https://api.github.com/repos/textmate/textmate/git/commits/c7346421ce0af4f7c7d82f4f03d1247705f3d785,c7346421ce0af4f7c7d82f4f03d1247705f3d785,"Get rid of redundant mapping of a match in a pair

The pair’s first member (document) is also part of the match data."
sorbits,2014-08-18 16:12:21,https://api.github.com/repos/textmate/textmate/git/commits/91f138c1ae2be50ad530ea56d1c9300d43beeabd,91f138c1ae2be50ad530ea56d1c9300d43beeabd,Do not show non-existing locations as having been searched
sorbits,2014-08-17 20:47:38,https://api.github.com/repos/textmate/textmate/git/commits/c032abb7e7ddf5865b76bfb7f54ec3c33f88022d,c032abb7e7ddf5865b76bfb7f54ec3c33f88022d,Checkin release notes
sorbits,2014-08-17 20:22:00,https://api.github.com/repos/textmate/textmate/git/commits/ecc2f3ad90befad18f9fab401b352ea00645a25d,ecc2f3ad90befad18f9fab401b352ea00645a25d,"Strip ANSI escapes when mate reads from stdin

A warning will be written to stderr when this happens. The user can provide -e/--preserve-escapes to disable the behavior.

Use -e0/--preserve-escapes=0 to suppress the warning."
sorbits,2014-08-17 18:21:22,https://api.github.com/repos/textmate/textmate/git/commits/2e4603bc8c0c55e82022d5d4344b65c2a8fabcde,2e4603bc8c0c55e82022d5d4344b65c2a8fabcde,"Alphabetize getopt_long() options

This makes it easier to see what letters are still available."
sorbits,2014-08-17 15:39:36,https://api.github.com/repos/textmate/textmate/git/commits/4669dbaa2865a52f5bcd93fb8f961aa4d94587fd,4669dbaa2865a52f5bcd93fb8f961aa4d94587fd,Remove commented fprintf statements
sorbits,2014-08-15 21:23:25,https://api.github.com/repos/textmate/textmate/git/commits/babaf4d26e80170827d257ddb436a3307ada89aa,babaf4d26e80170827d257ddb436a3307ada89aa,Deselect other when selecting bundle item source with option down
sorbits,2014-08-15 21:08:56,https://api.github.com/repos/textmate/textmate/git/commits/bc31da8f0367c56d4825d90f1de1e88f54c28b6d,bc31da8f0367c56d4825d90f1de1e88f54c28b6d,"Do not set a special initial title for dynamic menu items

Having an initial title that is different from what the user will see makes it harder for them to change the key equivalent, since they most know what this initial title is.

For more info see http://lists.macromates.com/textmate/2014-January/036949.html"
sorbits,2014-08-15 20:43:23,https://api.github.com/repos/textmate/textmate/git/commits/60f125eedc76a0072b1067a6240261a2e23b96ae,60f125eedc76a0072b1067a6240261a2e23b96ae,Use proper deallocator for SecKeychainItemCopyAttributesAndData
sorbits,2014-08-15 15:39:36,https://api.github.com/repos/textmate/textmate/git/commits/ffa628f3286fb64cb85f20a806254eac54771e18,ffa628f3286fb64cb85f20a806254eac54771e18,"Opening folder after session restore would not see it as open

When opening a folder we test against the ‘projectPath’ property (on already open window controllers), but this is not setup until we have an open document, and documents are opened using a background queue, so code running in the same event loop cycle as the session restore, will not get the proper value for this property.

The problem this fixes is: open /path/to/foo and quit TextMate. Now drag /path/to/foo to TextMate’s app icon. TextMate would first restore session (which includes /path/to/foo) and then open /path/to/foo (not seeing the restored folder as being /path/to/foo due to the uninitialized ‘projectPath’ property)."
sorbits,2014-08-15 11:39:50,https://api.github.com/repos/textmate/textmate/git/commits/54270827ff53816aa446407d2c9a9c4cd4f40a98,54270827ff53816aa446407d2c9a9c4cd4f40a98,Opening bundle item chooser will reset selection to first row
rdwampler,2014-08-15 02:24:27,https://api.github.com/repos/textmate/textmate/git/commits/df3810179838b7a6a3a7900ce42d96c39310574c,df3810179838b7a6a3a7900ce42d96c39310574c,"Use proper deallocator for SecKeychainItemCopyAttributesAndData

This was found using clang's static analyzer."
sorbits,2014-08-14 18:36:11,https://api.github.com/repos/textmate/textmate/git/commits/d39ae2a7df5f9f357a14f323c58cbd8a1b31cf05,d39ae2a7df5f9f357a14f323c58cbd8a1b31cf05,Our grow calculation would fail to grow when given a size of one
sorbits,2014-08-14 18:16:29,https://api.github.com/repos/textmate/textmate/git/commits/b1e40e620339f5d9bcb8bfc79d6f29e26348f486,b1e40e620339f5d9bcb8bfc79d6f29e26348f486,Fix placement of bundle item chooser when there is no window
sorbits,2014-08-14 17:07:02,https://api.github.com/repos/textmate/textmate/git/commits/fb5a50135a2237a48a929a36e57c71862a881f83,fb5a50135a2237a48a929a36e57c71862a881f83,"Add status bar to bundle item chooser

This shows the semantic class or scope selector, when we are filtering on that field. Filtering on other fields results in an empty status bar."
sorbits,2014-08-14 17:06:06,https://api.github.com/repos/textmate/textmate/git/commits/c8f6c1d4406b2ca949e3d893ff7c3097916fea00,c8f6c1d4406b2ca949e3d893ff7c3097916fea00,"Set content hugging priority to high for our buttons

None of our layouts rely on the buttons not hugging their content, so we set the hugging priority so that we do not have to worry about wether or not the constraints capture this requirement.

Curiously, if only the hugging priority is set (to high) for the horizontal orientation then the find dialog can end up with an undesired layout, although all constraints are met."
sorbits,2014-08-14 15:41:37,https://api.github.com/repos/textmate/textmate/git/commits/9062154be5fbe490eb9dbfc94f212bc6ce25fa71,9062154be5fbe490eb9dbfc94f212bc6ce25fa71,Bundle item chooser: Disable ‘Edit’ button for menu items
sorbits,2014-08-14 15:38:27,https://api.github.com/repos/textmate/textmate/git/commits/df5b6b7a882ae2061dd98549301ddda317245311,df5b6b7a882ae2061dd98549301ddda317245311,"Setup bundle item chooser actions before causing content reload

Triggering a content reload will update the ‘enabled’ state of our buttons. These will be disabled if we have no actions set.

Of course the API should be so that the ‘enabled’ state is also updated when setting the actions, but I am being lazy here."
sorbits,2014-08-14 15:31:49,https://api.github.com/repos/textmate/textmate/git/commits/f88d6f54250c2aaa17ec0c1e2a5a22b47ae995dc,f88d6f54250c2aaa17ec0c1e2a5a22b47ae995dc,Don’t search for crash reports generated on 10.6 or lower
sorbits,2014-08-14 14:52:09,https://api.github.com/repos/textmate/textmate/git/commits/f1c5d4f581b02e52e818487a020affce38bc4be5,f1c5d4f581b02e52e818487a020affce38bc4be5,"Learn abbreviations for menu items (in addition to bundle items)

Since the menu item’s title can change (e.g. Word or Selection) and multiple menu items can have the same title (e.g. Tab Size » 4, Toggle Foldings at Level » 4) we store the menu item’s action + tag for the abbreviation."
sorbits,2014-08-14 14:46:10,https://api.github.com/repos/textmate/textmate/git/commits/a6eab1afe6f47056585d12b38cfdf0565be15988,a6eab1afe6f47056585d12b38cfdf0565be15988,"Use menu item as sender when triggering its action

This is required so that the receiver can ask the menu item (sender) for its tag value."
sorbits,2014-08-14 14:26:10,https://api.github.com/repos/textmate/textmate/git/commits/4a20bfebaac5dab9d55aebc13daaa7ea2373c45f,4a20bfebaac5dab9d55aebc13daaa7ea2373c45f,"Table cell: Use highlight color for key equivalent / tab trigger

Previously we would use highlight color if the table view was first responder. Now we use the highlight color if the cell’s background is set to NSBackgroundStyleDark, which then works when we use the cell in a table view which “shares focus” with a text or key equivalent field."
sorbits,2014-08-14 07:08:46,https://api.github.com/repos/textmate/textmate/git/commits/44aece5a07d473eb83916984715383b4baae6d9f,44aece5a07d473eb83916984715383b4baae6d9f,"Change format of menu items in bundle item chooser

Changed from “submenu » item — Main Menu” to “item — Main Menu » submenu”."
sorbits,2014-08-13 13:39:44,https://api.github.com/repos/textmate/textmate/git/commits/e8c0978192ef8153550ea7c17fa3e8bc455dd818,e8c0978192ef8153550ea7c17fa3e8bc455dd818,Include menu items in bundle item chooser
sorbits,2014-08-13 13:10:34,https://api.github.com/repos/textmate/textmate/git/commits/aea1abb977185d83ad871ce65d01a5ec1c575284,aea1abb977185d83ad871ce65d01a5ec1c575284,"Set NSLineBreakByTruncatingMiddle for bundle item cell

This is relevant when there is no filter string, as we then show a regular NSString which does not have an associated line break mode (unlike a string with marked up ranges)."
sorbits,2014-08-13 12:03:18,https://api.github.com/repos/textmate/textmate/git/commits/9da4c65c2dd80c111850cb6a71b5a8fbca839633,9da4c65c2dd80c111850cb6a71b5a8fbca839633,Remove unused ‘sender’ parameter
sorbits,2014-08-13 11:58:42,https://api.github.com/repos/textmate/textmate/git/commits/8d261446685846ccc79d7fc1c305f57a6c36cd95,8d261446685846ccc79d7fc1c305f57a6c36cd95,Override doCommandBySelector: to avoid beep from super
sorbits,2014-08-13 11:39:24,https://api.github.com/repos/textmate/textmate/git/commits/227b1381127e2fa096c17a84661300ccc0207bf3,227b1381127e2fa096c17a84661300ccc0207bf3,Move table view movement helper to OakAppKit
sorbits,2014-08-13 10:21:21,https://api.github.com/repos/textmate/textmate/git/commits/84e00599af5823cc5bb5945f68d455762366b4fc,84e00599af5823cc5bb5945f68d455762366b4fc,Rework how we forward (movement) events to table view
rdwampler,2014-08-10 02:13:42,https://api.github.com/repos/textmate/textmate/git/commits/22cec6bb6b7cc1c2699f4b1236c7feead5ec9bc1,22cec6bb6b7cc1c2699f4b1236c7feead5ec9bc1,"Do not use `convertBaseToScreen:` and `convertScreenToBase:`

These methods were deprecated in 10.7. Use `convertRectToScreen:` and `convertRectFromScreen:` instead. This is required for proper high resolution support."
rdwampler,2014-08-10 01:35:10,https://api.github.com/repos/textmate/textmate/git/commits/57f662c55134d09faa3ef09e7b2f8adc5d954d47,57f662c55134d09faa3ef09e7b2f8adc5d954d47,"Do not use `convertPointToBase:` and `convertPointFromBase:`

These methods were deprecated in 10.7 and log warnings in the console when called. The documentation says to use `convertPointToBacking:` and `convertPointFromBacking:`, respectively, instead; however, these methods should not really be used in this case. We just want to store the top left position (point) of the OakChoiceMenu's frame in the OakDocumentView's coordinate systems so we can update its frame to the new position when OakDocumentView's bounds change. We do not need exact pixel alignment. The original choice to use the above deprecated methods was probably based on the use of `convertBaseToScreen:` and `convertScreenToBase:`, but these were also deprecated in 10.7. They can be replaced with the equivalent `convertRectToScreen:` and `convertRectFromScreen:`, respectively.

So instead, for this case, `convertRect:toView:` and `convertRect:fromView:` suffices and actually yields better tracking. (We could have used the corresponding ""point"" methods, as well, but we needed to convert the point to a NSRect to use `convertScreenFromRect:`, etc.)

With the original code, when the view bounds change, the position of the OakChoiceMenu would extend well below/above the placement of the caret."
sorbits,2014-08-13 09:12:42,https://api.github.com/repos/textmate/textmate/git/commits/9dc869488bb84c9037d96547d767c6d3feba1f55,9dc869488bb84c9037d96547d767c6d3feba1f55,"Use NSZeroSize instead of NSMakeSize(0, 0)"
sorbits,2014-08-08 17:42:01,https://api.github.com/repos/textmate/textmate/git/commits/e3ca2951506455ca27e3dd0b5353541af0cc89dc,e3ca2951506455ca27e3dd0b5353541af0cc89dc,"Set ‘attr.test.rspec’ for projects with an ‘.rspec’ folder

This scope can be used for the Re-Run mentioned in rspec/rspec-tmbundle#90."
sorbits,2014-08-08 14:59:57,https://api.github.com/repos/textmate/textmate/git/commits/bc65a5795723fe10b8be439d66fff07e853da22d,bc65a5795723fe10b8be439d66fff07e853da22d,Use OakIsEmptyString where appropriate
sorbits,2014-08-08 12:53:07,https://api.github.com/repos/textmate/textmate/git/commits/8fa83238c112dbdd570a880ad384f4f0bfb8856b,8fa83238c112dbdd570a880ad384f4f0bfb8856b,Set key equivalent view to have “shared focus” with table view
sorbits,2014-08-07 19:13:37,https://api.github.com/repos/textmate/textmate/git/commits/fbacbe246bf3334596b9749ac3be934588c51fe6,fbacbe246bf3334596b9749ac3be934588c51fe6,Better first responder observing for shared focus with table view
sorbits,2014-08-07 18:56:16,https://api.github.com/repos/textmate/textmate/git/commits/6810c2c883ece286686d0dabe27afb6a44a3bdc8,6810c2c883ece286686d0dabe27afb6a44a3bdc8,"Render bundle item table view as focused for key equivalent input

This is only when we are not recording a key, and the table view will be properly rendered as highlighted in this mode."
sorbits,2014-08-07 18:43:33,https://api.github.com/repos/textmate/textmate/git/commits/357c66b4d1cfdb96d0ce2179993260ea2bf152c6,357c66b4d1cfdb96d0ce2179993260ea2bf152c6,"Refactor how we send text field movement keys to a table view

The code is now easier to reuse."
sorbits,2014-08-07 18:19:03,https://api.github.com/repos/textmate/textmate/git/commits/5bb42e8bc6bc645ddd861a70f37fc585d4a191a5,5bb42e8bc6bc645ddd861a70f37fc585d4a191a5,"Setup the OakChooser controller as window’s next responder

This means any unhandled keyDown: ends up being overridable by OakChooser."
sorbits,2014-08-07 18:07:33,https://api.github.com/repos/textmate/textmate/git/commits/673736e32507f21265e84dcecba2e226c2e362d9,673736e32507f21265e84dcecba2e226c2e362d9,"Table view sends ‘selection changed’ accessibility notification

Since we have the ‘drawAsHighlighted’ property it makes sense to make it post the accessibility notification when this property is set to YES and we do not have focus, rather than have the controller which change our selection be responsible for this.

A minor disadvantage is that there are multiple ways to change a table view’s selection. We assume that ‘selectRowIndexes:extend:’ is the canonical way to do it (and all code that wants to trigger VO notifications should use that method)."
rdwampler,2014-07-31 02:21:56,https://api.github.com/repos/textmate/textmate/git/commits/3934f1be4638bebd97823163de43f1408fcdfc13,3934f1be4638bebd97823163de43f1408fcdfc13,Use dictionary literals
rdwampler,2014-07-31 02:14:35,https://api.github.com/repos/textmate/textmate/git/commits/dab45a5c087104bb4f3cdc366cd71956b1786ad1,dab45a5c087104bb4f3cdc366cd71956b1786ad1,"Remove no longer used option for the Commit Window

Originally, the ""--ask"" option was used in the previous commit window to change the NSTextField above the text view; however, no SCM bundles (in textmate's repos) currently uses it."
rdwampler,2014-07-29 19:07:46,https://api.github.com/repos/textmate/textmate/git/commits/9fece6576c83b017047a880057d53b7ac52b84da,9fece6576c83b017047a880057d53b7ac52b84da,Retrieve the sheet delegate if present in main window
sorbits,2014-08-07 10:02:11,https://api.github.com/repos/textmate/textmate/git/commits/afbc364fc3e0c8ac07b09ea7167b3416d3046215,afbc364fc3e0c8ac07b09ea7167b3416d3046215,"Move highlight_ranges.h to ui subfolder

Only sources in the ui folder use this code and was previously including it from a parent folder, which breaks the hierarchical ordering of sources: you can include child folders, not ancestors."
sorbits,2014-08-07 09:59:51,https://api.github.com/repos/textmate/textmate/git/commits/6e864a917d77eaf060ee6ed96891fa1a5048c4f4,6e864a917d77eaf060ee6ed96891fa1a5048c4f4,"Avoid clash with NSCell’s keyEquivalent property

The rationale for the ‘string’ suffix is that our properties are things to be displayed rather than behavioral properties."
sorbits,2014-08-05 21:07:14,https://api.github.com/repos/textmate/textmate/git/commits/0d496ea58ccb1355235a2670c69f0a598cb5808a,0d496ea58ccb1355235a2670c69f0a598cb5808a,"Look for process id file from 2.0-alpha.9553 and earlier

This is only when updating from an earlier version: Previously we would not find the pid file from the old instance and thus not tell it to quit."
sorbits,2014-08-05 20:17:06,https://api.github.com/repos/textmate/textmate/git/commits/271608a7b01865422e9c2a6516107393dcd2519e,271608a7b01865422e9c2a6516107393dcd2519e,"Use NSTextInputContext instead of NSInputManager

The latter has been deprecated since 10.6 but hasn’t given any deprecation warnings (and it’s not like I’m eager to touch the NSTextInput protocol implementation, as I just barely understand how this stuff is supposed to work)."
sorbits,2014-08-05 20:13:01,https://api.github.com/repos/textmate/textmate/git/commits/0890b2aab0ab5c6373f234c60c794dd0beef4842,0890b2aab0ab5c6373f234c60c794dd0beef4842,"Use local event monitor for key equivalent view

This ensures we get all key events, for example in the bundle item chooser window the pop-up button’s menu would previously see the key down event before the key equivalent view, so enabling recording and pressing ⌘1-3 would not record that key equivalent, but instead activate the corresponding (pop-up) menu item."
luikore,2014-08-02 05:20:38,https://api.github.com/repos/textmate/textmate/git/commits/17128edfc1c700bdc97ca33419062cfe911c5243,17128edfc1c700bdc97ca33419062cfe911c5243,"Loop select items in Chooser

If `enableLoopFilterList` is set to `YES`:

- when at top, pressing <Up> selects the last item on bottom
- when at bottom, pressing <Down> selects the first item on top"
joachimm,2014-08-02 17:24:38,https://api.github.com/repos/textmate/textmate/git/commits/2eaa97b1dc3a1df58a172769bc9646fb4a0610d2,2eaa97b1dc3a1df58a172769bc9646fb4a0610d2,Remove compiler error
joachimm,2014-08-02 16:24:41,https://api.github.com/repos/textmate/textmate/git/commits/2df7620b8d4ffd0117c0792ccbfdcc9e1cb6002b,2df7620b8d4ffd0117c0792ccbfdcc9e1cb6002b,Add Ruby 2.0 support for build scripts
sorbits,2014-08-02 13:31:03,https://api.github.com/repos/textmate/textmate/git/commits/d422a210067597cfe0a43b3fb6668ebbef021b85,d422a210067597cfe0a43b3fb6668ebbef021b85,"Do proper string conversion of non-string values

Only values from the root target goes through this code, so it wasn’t causing a problem, as none of those keys had a multi-element array, but in ruby 2.0 embedding an array in a string seems to use inspect instead of to_s:

	Ruby 1.8: ""#{['foo']}"" #=> foo
	Ruby 2.0: ""#{['foo']}"" #=> [""foo""]"
sorbits,2014-08-02 10:25:57,https://api.github.com/repos/textmate/textmate/git/commits/c0c193ce7f19db96fde2bf2226579aded599eac4,c0c193ce7f19db96fde2bf2226579aded599eac4,Update some ruby shebangs
sorbits,2014-07-31 16:14:08,https://api.github.com/repos/textmate/textmate/git/commits/34a134762245562c3943d55afe4a90c6dcca3e7f,34a134762245562c3943d55afe4a90c6dcca3e7f,Checkin release notes
sorbits,2014-07-31 16:13:51,https://api.github.com/repos/textmate/textmate/git/commits/5808eecd7432d99d73287edba03971e93f4d3acf,5808eecd7432d99d73287edba03971e93f4d3acf,Add crash report info about what plug-in we’re loading
sorbits,2014-07-30 18:44:02,https://api.github.com/repos/textmate/textmate/git/commits/10b6941e1378d997c46c35109ce1b3d61b9842fd,10b6941e1378d997c46c35109ce1b3d61b9842fd,Extend bundle item chooser’s search capabilities
sorbits,2014-07-30 18:42:32,https://api.github.com/repos/textmate/textmate/git/commits/65f8a8e9bf69187cbc686adadcbc618caab779a0,65f8a8e9bf69187cbc686adadcbc618caab779a0,Use our “standard” idiom for setting menu item keys to ⌘1-n
sorbits,2014-07-30 17:08:50,https://api.github.com/repos/textmate/textmate/git/commits/fef0ed8fc573bffcaa19e1ce43ef7093c5786fc2,fef0ed8fc573bffcaa19e1ce43ef7093c5786fc2,Use ruby18 shebang in bundle command template
sorbits,2014-07-28 22:59:50,https://api.github.com/repos/textmate/textmate/git/commits/833d7247794d96722a836b87982a0f213b267d69,833d7247794d96722a836b87982a0f213b267d69,Check for failure when creating CTLineRef related objects
sorbits,2014-07-28 22:55:38,https://api.github.com/repos/textmate/textmate/git/commits/bb3b997a560fe10e6f6a650fa6773ee797abe29f,bb3b997a560fe10e6f6a650fa6773ee797abe29f,"Do not create temporary CTLineRef for lines without tabs

This also avoids creating the paragraph style object for these lines."
sorbits,2014-07-28 22:52:32,https://api.github.com/repos/textmate/textmate/git/commits/082c6654571755cb8b2920cabcc64fc9ad550c06,082c6654571755cb8b2920cabcc64fc9ad550c06,"Do not create tab stop at location zero

I do not understand what the point of this tab stop is."
sclukey,2014-07-12 02:19:04,https://api.github.com/repos/textmate/textmate/git/commits/98dfefb5e0b5ed32886ec65b3e68081612c3f91d,98dfefb5e0b5ed32886ec65b3e68081612c3f91d,"Add space invisible

The implements the space invisible using the new method of drawing the invisibles so it does not affect right-to-left text."
sclukey,2014-05-24 04:39:14,https://api.github.com/repos/textmate/textmate/git/commits/e0c6e14de09ccc68b96890212ea806de43b8c3f1,e0c6e14de09ccc68b96890212ea806de43b8c3f1,"Make CoreText manage the tabs

Rather than putting tabs in their own node, leave them in the text nodes and allow core text to handle the size. This fixes the issue with using tabs in right-to-left text."
tiennou,2014-07-30 15:10:51,https://api.github.com/repos/textmate/textmate/git/commits/a52fc3493bc8b27556828fc30c5e385702a79ed8,a52fc3493bc8b27556828fc30c5e385702a79ed8,Make the Find and HTML window switch back to a Space TM is actually in
sorbits,2014-07-30 15:29:05,https://api.github.com/repos/textmate/textmate/git/commits/8d9a2f54262911be16e0491611a94958982e99d1,8d9a2f54262911be16e0491611a94958982e99d1,"Improve lifetime of the authorization wrapper used by mate

While the memory was released during exit, we didn’t free the authorization right, which is shared between multiple processes, unsure if that would actually leak any resources."
sorbits,2014-07-30 15:24:54,https://api.github.com/repos/textmate/textmate/git/commits/421f087b1866187b7ed4cca55dfbccd229bcc9fb,421f087b1866187b7ed4cca55dfbccd229bcc9fb,"Do not destroy shared authorization rights

Each time we used an authorization right in the privileged helper tool, TextMate would lose the right since the helper tool destroyed it after use."
sorbits,2014-07-30 13:06:20,https://api.github.com/repos/textmate/textmate/git/commits/795909748ba73b30c655f6f11ffb754f84bb9a29,795909748ba73b30c655f6f11ffb754f84bb9a29,"Only report privileged helper tool outdated when a new one exists

This is so that we can use the privileged helper tool from tests, assuming it has already been installed."
sorbits,2014-07-29 21:21:39,https://api.github.com/repos/textmate/textmate/git/commits/135667b655bd3397157ef929a966281244fc2218,135667b655bd3397157ef929a966281244fc2218,Add file type extension to document backups
sorbits,2014-07-29 20:30:31,https://api.github.com/repos/textmate/textmate/git/commits/86dd3350242386b2f188ae1852cc7acfe5866c3c,86dd3350242386b2f188ae1852cc7acfe5866c3c,"Don’t read bundle sources or signing keys from disk

This was to allow third party indexes but we newer got anywhere with that, so it’s just unnecessary code complexity and the potential for problems if the files on disk are wrong."
sorbits,2014-07-28 15:27:39,https://api.github.com/repos/textmate/textmate/git/commits/acaf24dca026ab898fa5fee66a18919387372883,acaf24dca026ab898fa5fee66a18919387372883,"Remove unused code

This should have been removed in 36cfb177a5dcb5c0aef25ee0cfe8a052ba9c7486."
dusek,2014-07-15 20:33:51,https://api.github.com/repos/textmate/textmate/git/commits/ae373343c1d52589bbf8dd0217849b1e7cf87e87,ae373343c1d52589bbf8dd0217849b1e7cf87e87,"Implement basic accessibility for OakKeyEquivalentView

I experimented a lot with different combination of attributes, this one works
reasonably well compared to the others (even though it is less feature
complete). I may revisit experimenting with it at some later point."
dusek,2014-07-13 10:30:42,https://api.github.com/repos/textmate/textmate/git/commits/279ac58bf44a8c6c3e0db91e45c790eeb21da50e,279ac58bf44a8c6c3e0db91e45c790eeb21da50e,"Improve accessibility for OakBundleItemCell

More specifically item's displayed keyboard shortcut or tab trigger is now
announced by VoiceOver.

Implementation of accessibilityAttributeValue:forParameter: returns nil for
some attributes. This is a hack to avoid doing tedious adjustments of certain
parameterized attributes (like AXStringForRange, AXAttributedStringForRange,
AXBoundsForRange, AXRTFForRange) for string AXValue that is extended (appended)
by extra information at its end in accessibilityAttributeValue:. To get an idea
how tedious this is (even though our case is a bit simpler by not *prepending*
anything before the AXValue, and not being an editable field), look at
OakLinkedSearchFieldCell. This looses the ability for the user to interact with
the text, but considering how seldom this will be used (if at all), for now
this seems acceptable.

This is needed because VoiceOver asks for the *StringForRange attributes and if
implemented, will never query AXValue (which is where our custom behavior is).

In the future when tables will be migrated from cell-based to view-based ones,
the tab trigger or shortcut could be a separate NSView, which would probably
allow for much more elegant solution to this problem."
dusek,2014-07-13 10:18:59,https://api.github.com/repos/textmate/textmate/git/commits/2d554bd7bcf5757e563639d441fe8c9dbbab8398,2d554bd7bcf5757e563639d441fe8c9dbbab8398,"Use AXValue of OakChooser's cells for accessibility announcements

Previously we used [NSCell stringValue], which is not suited for cells with
custom implementation for AXValue accessibility attribute."
whitlockjc,2014-07-28 04:55:39,https://api.github.com/repos/textmate/textmate/git/commits/f3b6c07bfbf19b95fec35b28ece24c7b47ad1c3e,f3b6c07bfbf19b95fec35b28ece24c7b47ad1c3e,"Make ⌘F default to 'Selection' for multi-line selection

Previously using ⌘F with a multiline selection would automatically set the “in”
pop-up to “Document”. This is no longer the case, but can be brought back by
running: `defaults write alwaysFindInDocument -bool YES`"
sorbits,2014-07-24 20:45:06,https://api.github.com/repos/textmate/textmate/git/commits/f392caf1003424580d7063ac1e32f8462089365f,f392caf1003424580d7063ac1e32f8462089365f,"Remove rmate from .gitmodules

We removed the actual sub-tree from the repository back in 2d4d4729d26ddef40db4bf09ed811a22e1875787."
sorbits,2014-07-24 20:30:53,https://api.github.com/repos/textmate/textmate/git/commits/2d09d503eee82c8ae6bfbd31d34218d8357332ea,2d09d503eee82c8ae6bfbd31d34218d8357332ea,"When clearing marked range, ensure pending range is also cleared

This fixes an issue with complex input managers.

Using Chinese pinyin input and entering ‘ci’ followed by ‘1’ to insert first glyph would insert the glyph (‘刺’) and then set the pending marked range (0-2), which would have caret end up in the middle of a multi-byte sequence."
sorbits,2014-07-24 16:13:34,https://api.github.com/repos/textmate/textmate/git/commits/cc7f149f52bec99fcdde3797c08bb765638f50cc,cc7f149f52bec99fcdde3797c08bb765638f50cc,"Avoid using Application Support for temporary file

Since the user’s library folder might be on a network we should probably avoid writing to it unless strictly necessary."
sorbits,2014-07-24 16:11:00,https://api.github.com/repos/textmate/textmate/git/commits/6e1d094fbff1f659e3b1c888de16ef6173673822,6e1d094fbff1f659e3b1c888de16ef6173673822,"Detect abnormal exit when loading plug-ins

Currently we ask user about skipping it, but it might make sense to also add an uninstall option."
sorbits,2014-07-24 06:18:30,https://api.github.com/repos/textmate/textmate/git/commits/dfe38c37082e879f74e19ce8cdb0da637d6b5e11,dfe38c37082e879f74e19ce8cdb0da637d6b5e11,Set required version of ninja to 1.5
bradchoate,2014-07-22 20:10:46,https://api.github.com/repos/textmate/textmate/git/commits/6172d9ae8f792b41b3898cb66d053136a9ebff43,6172d9ae8f792b41b3898cb66d053136a9ebff43,Adding some 2012 committers.
bradchoate,2014-07-22 19:13:35,https://api.github.com/repos/textmate/textmate/git/commits/e94408b0c4a8d94eb458e0f30088ac2da8b22a50,e94408b0c4a8d94eb458e0f30088ac2da8b22a50,"Support a ""--warn"" switch for gen_html.

Default is to suppress any warnings for unassociated GitHub profiles."
rdwampler,2014-07-14 01:01:22,https://api.github.com/repos/textmate/textmate/git/commits/d2b361005929ff5772b31d62fdd2829006daf629,d2b361005929ff5772b31d62fdd2829006daf629,"VariablesPreferences: Abort editing before deleting a row

This prevents `tableView:objectValueForTableColumn:row:` from throwing an exception (index beyond bounds) when the user deletes the last row while it is being edited."
rdwampler,2014-07-14 00:56:27,https://api.github.com/repos/textmate/textmate/git/commits/ad37b94e3f840cb14c651a6ae49a1e010789086b,ad37b94e3f840cb14c651a6ae49a1e010789086b,VariablesPreference: Disable delete button when table is empty
dusek,2014-07-12 18:18:27,https://api.github.com/repos/textmate/textmate/git/commits/7e01bab12a3868b9c5e3228148e25a934e80dcbc,7e01bab12a3868b9c5e3228148e25a934e80dcbc,"Optimize Zoom support a little bit

This makes Zoom support avoid doing all 2 conversions between UTF-8 to UTF-16,
and replaces call to rect_for_range with call to rect_at_index, which is
more efficient.

Note that this is a typical micro-optimization not resulting from any
actual performance measurement, but just from a desire to have a lean
code not doing redundant work."
dusek,2014-07-12 17:53:40,https://api.github.com/repos/textmate/textmate/git/commits/17c5df94ca9e3c0f6dbda0bf16d6ba68201a94cf,17c5df94ca9e3c0f6dbda0bf16d6ba68201a94cf,"Fix textmate/bugs#5

When setSelectionString is called during editing of text (like inserting
or deleting a character), it catches layout in a semi-consistent state
where horizontal position of individual characters cannot be determined.
Therefore during such events, we cannot pass the correct screen position
to the call to UAZoomChangeFocus.

So let's do the UAZoomChangeFocus call after this iteration of run loop.
This ensures everything in layout that had to update has updated when
calling UAZoomChangeFocus, thus enabling us to provide correct horizontal
screen position."
dusek,2014-07-12 10:40:47,https://api.github.com/repos/textmate/textmate/git/commits/e08a40a507c9d86a1ac4ee342bfdb873152e66fc,e08a40a507c9d86a1ac4ee342bfdb873152e66fc,"layout: Fix bol_as_eol for case where range length is 0

bol_as_eol was meant for non-empty ranges, but the only place where
empty ranges were attempted with bol_as_eol was for Zoom tracking,
and it seems like I did not re-test Zoom after making the bol_as_eol
commit.

Fixes textmate/bugs#4"
sorbits,2014-07-11 22:07:07,https://api.github.com/repos/textmate/textmate/git/commits/754f1a1a4ff066fa1c1186b303abfff57667f6ce,754f1a1a4ff066fa1c1186b303abfff57667f6ce,Checkin release notes
sorbits,2014-07-11 12:11:03,https://api.github.com/repos/textmate/textmate/git/commits/e4d92941eefad50aea65f898f660fdb8430925b0,e4d92941eefad50aea65f898f660fdb8430925b0,"Update QuickLook generator to use the new bundle item index

This should improve startup time significantly, since it would previously have to re-index all the bundle items."
sorbits,2014-07-09 21:55:22,https://api.github.com/repos/textmate/textmate/git/commits/1d57e4649341626a616fb970f0e81a364d9398ed,1d57e4649341626a616fb970f0e81a364d9398ed,Let OakChooser decide when to render table view as having focus
sorbits,2014-07-09 21:37:21,https://api.github.com/repos/textmate/textmate/git/commits/922f9c13afabf23a862fb75d5a99dbb72695016c,922f9c13afabf23a862fb75d5a99dbb72695016c,"Add ‘drawAsHighlighted’ public table view property

This allows factoring out the decision of when to draw as highlighted."
sorbits,2014-07-09 21:09:19,https://api.github.com/repos/textmate/textmate/git/commits/81e47090cce8bdd86b2ef222b523f5ec263c5c46,81e47090cce8bdd86b2ef222b523f5ec263c5c46,Call recalculateKeyViewLoop after current event loop iteration
sorbits,2014-07-09 20:53:08,https://api.github.com/repos/textmate/textmate/git/commits/36cfb177a5dcb5c0aef25ee0cfe8a052ba9c7486,36cfb177a5dcb5c0aef25ee0cfe8a052ba9c7486,Leverage the default implementation of bindings
sorbits,2014-07-09 20:44:51,https://api.github.com/repos/textmate/textmate/git/commits/4f19370458f48543b60d9ed3fe23b36e21529992,4f19370458f48543b60d9ed3fe23b36e21529992,Let key equivalent field pass unused key down events to super
sorbits,2014-07-09 20:31:42,https://api.github.com/repos/textmate/textmate/git/commits/01fe2108955603854f62b0d5248cd083a52ac766,01fe2108955603854f62b0d5248cd083a52ac766,"Key equivalent field no longer activate recording on return

This is to allow using the control in windows with a “default” button (which gets the return key)."
sorbits,2014-07-09 16:12:43,https://api.github.com/repos/textmate/textmate/git/commits/bfb33e614475b340296ed610cb2344f30bfea671,bfb33e614475b340296ed610cb2344f30bfea671,Let bundle item chooser’s ranker remember user corrections
sorbits,2014-07-09 15:41:13,https://api.github.com/repos/textmate/textmate/git/commits/d4ca90724a6d52d9b5eae26930e864bdcd7acf16,d4ca90724a6d52d9b5eae26930e864bdcd7acf16,OakChooser: Reselect first item when filter string is changed
sorbits,2014-07-09 15:19:56,https://api.github.com/repos/textmate/textmate/git/commits/d16f5216c234a07b1d6ffc2e20e423da1da07e73,d16f5216c234a07b1d6ffc2e20e423da1da07e73,Ensure we “search by title” when opening the bundle item chooser
sorbits,2014-07-09 15:19:23,https://api.github.com/repos/textmate/textmate/git/commits/6a8cd7e1ac6bcb2046ef325526cbf4f5d57d6835,6a8cd7e1ac6bcb2046ef325526cbf4f5d57d6835,"Only set search field as first responder if it’s in the window

For example the bundle item chooser may swap it out with a key equivalent view."
sorbits,2014-07-09 14:53:11,https://api.github.com/repos/textmate/textmate/git/commits/f94b70cd0d057180afeb413cdddaab496882a052,f94b70cd0d057180afeb413cdddaab496882a052,Move files on disk
sorbits,2014-07-09 14:51:30,https://api.github.com/repos/textmate/textmate/git/commits/d821793182f8d817533b54ff79d9b81a84ab18f5,d821793182f8d817533b54ff79d9b81a84ab18f5,Remove old filter list code
sorbits,2014-07-09 14:47:24,https://api.github.com/repos/textmate/textmate/git/commits/c57dd931e12b709ce858aacca97e00b669c87e71,c57dd931e12b709ce858aacca97e00b669c87e71,Let the bundle item chooser inherit from OakChooser
sorbits,2014-07-09 14:33:25,https://api.github.com/repos/textmate/textmate/git/commits/420f70cf9339176cf460bc832e09125c3ee7c533,420f70cf9339176cf460bc832e09125c3ee7c533,Make OakChooser’s cancel: method public API
sorbits,2014-07-09 07:39:04,https://api.github.com/repos/textmate/textmate/git/commits/96b8b00df7dc7de72d53e7ab48948dce110295fd,96b8b00df7dc7de72d53e7ab48948dce110295fd,"Implement intrinsicContentSize for OakKeyEquivalentView

This will allow it to be used with constraint based layouts."
sorbits,2014-07-09 07:38:37,https://api.github.com/repos/textmate/textmate/git/commits/d85b4e280b40ee7630556d3bfe6bb64d758bce8b,d85b4e280b40ee7630556d3bfe6bb64d758bce8b,"Reference MGScopeBar class to prevent linker from stripping it

We instantiate the class in the xib file, so the linker does not know that we actually need it.

Currently the filter list framework use MGScopeBar, which is why this issue is not an actual problem (yet)."
sorbits,2014-07-08 15:48:31,https://api.github.com/repos/textmate/textmate/git/commits/565d0b915e81b02198eac5718e0977760ce3dec6,565d0b915e81b02198eac5718e0977760ce3dec6,"Limit QuickLook preview to the first 20 KiB of the file

This was suggested in pull request #1226. Ideally we would make the limit flexible, e.g. see how much we can generate in 1-2 seconds, but that is a non-trivial change, so the fixed limit will do for now, and while truncated data is suboptimal, it’s better than being killed due to QL manager’s timeout."
sorbits,2014-07-08 15:36:16,https://api.github.com/repos/textmate/textmate/git/commits/5715ebf75485d83b7b6b67f7ea4bcccfb6f243d9,5715ebf75485d83b7b6b67f7ea4bcccfb6f243d9,"Allow a limit to be passed to file::read_utf8

Currently the API does not allow the caller to know that the data was actually truncated."
sorbits,2014-07-06 20:40:57,https://api.github.com/repos/textmate/textmate/git/commits/f2387d8d231ba76676de68414e13373eb6988ee5,f2387d8d231ba76676de68414e13373eb6988ee5,Workaround for ruby 2.0 warning (shadowing outer local variable)
sorbits,2014-07-06 20:35:47,https://api.github.com/repos/textmate/textmate/git/commits/a7d45aa573f58ba5ce266dadefea368883c55bc9,a7d45aa573f58ba5ce266dadefea368883c55bc9,Checkin release notes
sorbits,2014-07-06 20:01:54,https://api.github.com/repos/textmate/textmate/git/commits/bef21962c86c502004c576fbd5ac1ed57b82cbcd,bef21962c86c502004c576fbd5ac1ed57b82cbcd,Changing font (Show Fonts) would fail when current font was ‘nil’
sorbits,2014-07-06 12:49:37,https://api.github.com/repos/textmate/textmate/git/commits/5af1ec23ca8d34518d90895e82d231b1ff1788a6,5af1ec23ca8d34518d90895e82d231b1ff1788a6,"Enable ligatures

If you are using the Mensch font then you need to update to version 2 to avoid problems with the ligature for ‘fi’: http://robey.lag.net/2012/08/22/mensch-2.html"
rdwampler,2014-07-02 04:40:45,https://api.github.com/repos/textmate/textmate/git/commits/cc64b1e24f5ae68403c40252b1a82f838f80f1c0,cc64b1e24f5ae68403c40252b1a82f838f80f1c0,Add search field to Bundle preference pane
rdwampler,2014-07-03 03:58:42,https://api.github.com/repos/textmate/textmate/git/commits/8f50838b250d194c5a90c637fabf74d26a26ae87,8f50838b250d194c5a90c637fabf74d26a26ae87,"Use ""System Small"" font in VariablesPreference table

Since variable strings can be very long and we reduced the font size in the bundle table, let's be consistent and use a smaller font size here too."
rdwampler,2014-07-02 02:51:04,https://api.github.com/repos/textmate/textmate/git/commits/a2690f941891a684fb77ec9224bb9105f8c88406,a2690f941891a684fb77ec9224bb9105f8c88406,Save VariablesPreferences.xib with Xcode 5.1.1 (5B1008)
rdwampler,2014-07-02 02:16:52,https://api.github.com/repos/textmate/textmate/git/commits/9812748a07b5add0d404c35930dc1b89c59a012e,9812748a07b5add0d404c35930dc1b89c59a012e,"Use ""System Small"" fonts in BundlePreference table

By using a smaller font size in the bundle table we can show more of the bundle description. Also, it minimizes the amount of resizing of the pane we have to do to see the entire description string for most of the bundles."
rdwampler,2014-07-02 01:42:54,https://api.github.com/repos/textmate/textmate/git/commits/360443682daf2aa80ce43a1aeee1c8087fd11f53,360443682daf2aa80ce43a1aeee1c8087fd11f53,Save BundlePreferences.xib with Xcode 5.1.1 (5B1008)
sorbits,2014-07-05 19:26:06,https://api.github.com/repos/textmate/textmate/git/commits/f370408910ff418456af047adbaff412b522f108,f370408910ff418456af047adbaff412b522f108,"File browser actions were disabled for broken symbolic links

This made it impossible to move a broken symbolic link to trash."
sorbits,2014-06-29 09:00:21,https://api.github.com/repos/textmate/textmate/git/commits/2c8a020d39cde008b5d01709033798c7a5e0d09e,2c8a020d39cde008b5d01709033798c7a5e0d09e,Implement selectNext/PreviousTab in FindWindowController
sorbits,2014-07-03 17:57:05,https://api.github.com/repos/textmate/textmate/git/commits/42a64270bc8f4dde88d7e315bd2379babac30f6f,42a64270bc8f4dde88d7e315bd2379babac30f6f,Remove undesired whitespace
sorbits,2014-07-03 17:53:30,https://api.github.com/repos/textmate/textmate/git/commits/1c742b05599006dcbe303c0e4f859f6c1e8bc10b,1c742b05599006dcbe303c0e4f859f6c1e8bc10b,"The cap’n proto rule should not be a generator rule

Also change 1 → true for another use of generator (for consistency)."
dusek,2014-06-29 18:31:53,https://api.github.com/repos/textmate/textmate/git/commits/eea001f5d5b0a749ead8b9a4dcf3d982b010e509,eea001f5d5b0a749ead8b9a4dcf3d982b010e509,"Fix build error on clear rebuild

When rebuilding textmate from scratch:

git clean -xffd; git reset --hard HEAD; rm -rf ~/build/TextMate/; ./configure; ninja

This error appears:

Frameworks/OakAppKit/src/OakTabBarView.mm:7:9: fatal error: 'OakAppKit/OakFileIconImage.h' file not found

After one issues ""ninja"" again, textmate continues building fine.

I guess this might be because perhaps OakAppKit's headers are being copied
to the build include directory (~/build/TextMate/include) in parallel when
building OakTabBarView.mm. No matter what actually is the case, this patch
fixes building during clean build."
dusek,2014-06-29 16:21:50,https://api.github.com/repos/textmate/textmate/git/commits/320c3ec23a0a5e9eea770bd6ef19809ced85c0d1,320c3ec23a0a5e9eea770bd6ef19809ced85c0d1,"Add contributor emails

In other words, I don't like build warnings of any kind :-)
And they deserve credit for their contributions."
dusek,2014-06-22 07:59:07,https://api.github.com/repos/textmate/textmate/git/commits/900ee1f523329f0e1a3ccbf741e11ee59343cc17,900ee1f523329f0e1a3ccbf741e11ee59343cc17,"Use NSAccessibilitySharedFocusElementsAttribute in OakChooser

This new 10.10 API allows one to mark, for some UI element, a set of UI
elements to track selection. VoiceOver (and other accessibility clients)
will then track and announce selection (cursor) changes not only in the
currently focused element, but also for all elements contained in its
""shared focus elements"" array. This is a perfect fit for search field
with a table of results. In fact it is used for new 10.10 Spotlight -
its search field's shared focus element is the table containing the results.

As NSAccessibilitySharedFocusElementsAttribute is available only in the 10.10 SDK,
so make a way to use its value with previous SDKs (with which TextMate
is currently compiled).

We also retain the kind-of-hacky solution for pre-10.10 OSes introduced in
and instead use NSAccessibilitySharedFocusElementsAttribute.

This code was tested in all 6 fields of a 3×2 matrix:
* compiled with 10.8, 10.9 and 10.10 SDK
* run on 10.9 and 10.10 (DP2)

For user, this means more standard behavior (says the same ""completion selected""
thing as with Spotlight) and a bit more correctness (no extra space
before beginning / after end of search field on braille display).

For developer, this means once we stop supporting 10.9, we will be ready to
drop a lot of code which, while serving us well to make the choosers more
user friendly on pre-10.10, will no longer be needed."
sorbits,2014-06-28 16:21:36,https://api.github.com/repos/textmate/textmate/git/commits/a76b6eae9cf2664d6bf9d09ee47ae2bda9dee033,a76b6eae9cf2664d6bf9d09ee47ae2bda9dee033,"Respond to next/previous tab actions in file/favorites chooser

This makes it possible to use ⌘{ and ⌘} to move between the source lists, which is consistent with other windows with multiple sources (like the Preferences and About windows).

Closes #1236."
nanoant,2014-06-22 12:02:02,https://api.github.com/repos/textmate/textmate/git/commits/59a699c078f1615e518542ab5258774a13afd208,59a699c078f1615e518542ab5258774a13afd208,"Tune tab label inset shadow

Now it matches more way other OSX elements are inset both on Retina and
non-Retina displays."
nanoant,2014-06-22 12:00:09,https://api.github.com/repos/textmate/textmate/git/commits/56cfc1a3e0da6bbcc009030a845836e58016efbc,56cfc1a3e0da6bbcc009030a845836e58016efbc,"Reworked OakTabBarView layout plist

Now it supports properly Retina using Cocoa rounded corner rendering instead
pixel patches. All colors are now references by name."
nanoant,2014-06-22 11:58:05,https://api.github.com/repos/textmate/textmate/git/commits/2ef711ad9765b5c06aacd78480a288d6e15a2c0b,2ef711ad9765b5c06aacd78480a288d6e15a2c0b,"Define color names for OakTabBarView

This lets layout file refer to color names instead hardcoding color hex values.

Also colors referenced by name can return different values depending on OSX
version, which will in future solve problems with OSX 10.10 Yosemite L&F."
nanoant,2014-06-22 11:56:43,https://api.github.com/repos/textmate/textmate/git/commits/53943e44097be27caecb243d0fba0daa6e755bf8,53943e44097be27caecb243d0fba0daa6e755bf8,"Extend layer_t with cornerRadius & borderColor

This allows drawing rounded layers with border in resolution independent
manner. Also it reduces number of layers needed to certain UI elements."
dusek,2014-06-22 18:19:43,https://api.github.com/repos/textmate/textmate/git/commits/72bb6e6eb6202a679329e954ce46f943739d37b0,72bb6e6eb6202a679329e954ce46f943739d37b0,"Fix enum/int conversion error with 10.10 SDK

10.10 SDK makes NSLineBreakMode into a proper NS_ENUM enum (in 10.9 SDK it was
a plain typedef for NSUInteger with some integer NSLineBreak* values
conveniently available for it in an anonymous enum).

Nevertheless, attr_string code should have always used NSLineBreakMode instead
of NSUInteger (unless I am missing something like values in style::line_break::mode
that do not correspond to the enum), so this commit makes it so and
thus also fixes building with 10.10 SDK."
sorbits,2014-06-28 14:48:39,https://api.github.com/repos/textmate/textmate/git/commits/2427464f60002096180177e83105ac10cc156369,2427464f60002096180177e83105ac10cc156369,"Disable tar’s support for extended attributes and resource forks

A problem has been reported where tar will freeze while extracting the default bundles archive to a networked Application Support folder.

From the bug report (Michael Kuron):

File servers tested: SMB on OS X 10.9.3, AFP on OS X 10.9.3, AFP on OS X 10.6.8, SMB on Windows 2008 R2.

Multiple machines tested.

Using ‘gnutar’ from MacPorts does not show the problem.

Setting ‘COPYFILE_DISABLE=1’ before running tar does not show the problem (the workaround used in this commit)."
sorbits,2014-06-20 19:25:54,https://api.github.com/repos/textmate/textmate/git/commits/9f10bd56c7683f687d9a07b4206af97fa135c1e3,9f10bd56c7683f687d9a07b4206af97fa135c1e3,Set ‘depfile = $out.d’ (may require ninja 1.5 for proper escapes)
sorbits,2014-06-20 13:12:29,https://api.github.com/repos/textmate/textmate/git/commits/d20acae00ba9e3940b21ddd59250957274374856,d20acae00ba9e3940b21ddd59250957274374856,Update onigmo submodule
sorbits,2014-06-20 12:59:43,https://api.github.com/repos/textmate/textmate/git/commits/e78764a89ebc8fcb7a546e6ff3090f7d0c530294,e78764a89ebc8fcb7a546e6ff3090f7d0c530294,Let threaded syntax highlight parsing for ng::buffer_t be opt-in
sorbits,2014-06-19 13:43:40,https://api.github.com/repos/textmate/textmate/git/commits/0ae6782d8001b8d314749160d0f0cbb9791473af,0ae6782d8001b8d314749160d0f0cbb9791473af,Remove support for custom views in OakControl
sorbits,2014-06-18 17:39:57,https://api.github.com/repos/textmate/textmate/git/commits/cb775822aa5510247f988feacf184f92eaf898c1,cb775822aa5510247f988feacf184f92eaf898c1,Use current ruby (rather than 1.8) for a few helper scripts
sorbits,2014-06-18 14:16:34,https://api.github.com/repos/textmate/textmate/git/commits/c1552d56bc5c7a4f737b5632f293c28a4bfe5051,c1552d56bc5c7a4f737b5632f293c28a4bfe5051,Include some context in error message
sorbits,2014-06-18 14:15:24,https://api.github.com/repos/textmate/textmate/git/commits/7675aeb4ece7e1bd5a839b2a94a28b9d9c11f425,7675aeb4ece7e1bd5a839b2a94a28b9d9c11f425,Changing case would truncate the result if it grew in size
sorbits,2014-06-18 14:13:55,https://api.github.com/repos/textmate/textmate/git/commits/6be2935518a2fd6c353886c4eedbefc76a92856b,6be2935518a2fd6c353886c4eedbefc76a92856b,"Type/format arguments for SecItemImport were swapped

Also collect proper error code incase the function fails."
sorbits,2014-06-18 14:11:19,https://api.github.com/repos/textmate/textmate/git/commits/3a0adfb6bfa3984f5ac5afdeddc591cec2d4af00,3a0adfb6bfa3984f5ac5afdeddc591cec2d4af00,Collect proper error code if SecItemCopyMatching fails
rdwampler,2014-06-19 17:41:44,https://api.github.com/repos/textmate/textmate/git/commits/6dd2dc1c5ea86b6b3cad09a7ade729236b10e988,6dd2dc1c5ea86b6b3cad09a7ade729236b10e988,Use document icons in overflow menu
rdwampler,2014-06-19 17:38:25,https://api.github.com/repos/textmate/textmate/git/commits/2dbd0d601f0319cd20f5b3cdd93009c1c7962300,2dbd0d601f0319cd20f5b3cdd93009c1c7962300,OakTabBarView datasource now sends the unabbreviated path
rdwampler,2014-06-08 01:33:02,https://api.github.com/repos/textmate/textmate/git/commits/c5d801cca98563631fa13395ff34cb1acef8d81f,c5d801cca98563631fa13395ff34cb1acef8d81f,Adjust click target for tab overflow button
rdwampler,2014-06-08 01:30:38,https://api.github.com/repos/textmate/textmate/git/commits/28e58bf4a484884a7303cffa224bcff66ff5e532,28e58bf4a484884a7303cffa224bcff66ff5e532,Add effect when the tab overflow button is clicked
rdwampler,2014-06-08 01:25:09,https://api.github.com/repos/textmate/textmate/git/commits/673f5a4b73c1ace659be62227da7a471eba4f30e,673f5a4b73c1ace659be62227da7a471eba4f30e,Adjust appearance of the TabOverflow image
rdwampler,2014-06-03 20:48:10,https://api.github.com/repos/textmate/textmate/git/commits/0b3cf27cfda80466c99ac51ae25d56173f5c8584,0b3cf27cfda80466c99ac51ae25d56173f5c8584,Add Retina asset for TabOverflow
sorbits,2014-05-18 16:16:31,https://api.github.com/repos/textmate/textmate/git/commits/aa8aee6853af1daa6234afaa9fde5346d2bd7bc1,aa8aee6853af1daa6234afaa9fde5346d2bd7bc1,Checkin release notes
sorbits,2014-05-18 16:14:07,https://api.github.com/repos/textmate/textmate/git/commits/8782e2aa8113932ccc7c5db375e1a20ef69b7853,8782e2aa8113932ccc7c5db375e1a20ef69b7853,Fix bug with PATH variable containing trailing zero byte
sorbits,2014-05-18 06:28:27,https://api.github.com/repos/textmate/textmate/git/commits/3ece1917e6a097fc74485fc03a2ee58ec3ebcb0f,3ece1917e6a097fc74485fc03a2ee58ec3ebcb0f,Checkin release notes
sorbits,2014-05-17 05:43:31,https://api.github.com/repos/textmate/textmate/git/commits/539dee14868c881d0f484c06cff568f8ef1fc298,539dee14868c881d0f484c06cff568f8ef1fc298,Gutter view colors would be leaked when reloading themes
sorbits,2014-05-17 02:14:47,https://api.github.com/repos/textmate/textmate/git/commits/b45ad48c00359628c223716c506299a9de7e89b1,b45ad48c00359628c223716c506299a9de7e89b1,"Add attr.project.vagrant and attr.project.jekyll scopes

The latter is added when we detect a ‘_config.yml’ file in the project. This might cause false positives, but I am not aware of a better way to detect jekyll projects."
sorbits,2014-05-17 01:03:38,https://api.github.com/repos/textmate/textmate/git/commits/4e5a7fdfe664576d7e1158563c01b93ece02cc4f,4e5a7fdfe664576d7e1158563c01b93ece02cc4f,Delete clipboard history when seeing NSFileReadCorruptFileError
sorbits,2014-05-16 23:47:13,https://api.github.com/repos/textmate/textmate/git/commits/49f746e7959c0a56a2cd961dffe5ab63f91eb49e,49f746e7959c0a56a2cd961dffe5ab63f91eb49e,Update saved per-window project state when terminating TextMate
sorbits,2014-05-16 14:54:12,https://api.github.com/repos/textmate/textmate/git/commits/2b74e76a2f9d9732571fa7bc252ddb3162cb10b5,2b74e76a2f9d9732571fa7bc252ddb3162cb10b5,"Disable concurrent buffer parsing when not on main thread

The problem is that we can only return to the proper thread/queue when we know what that thread/queue is. Additionally, when running tests, we are calling from a concurrent queue, so even knowing the queue, we cannot safely update the buffer with the new scopes, as only a serial queue can give us exclusive access."
sorbits,2014-05-16 14:01:20,https://api.github.com/repos/textmate/textmate/git/commits/d7dba7cd7a2736da5c98fb12ce3fd5bb3c6491d1,d7dba7cd7a2736da5c98fb12ce3fd5bb3c6491d1,Drop the oak::server_t abstraction for buffer parser
sorbits,2014-05-16 11:24:14,https://api.github.com/repos/textmate/textmate/git/commits/8d941cacc886b3259548d81e1e8cc7e5cb6502a6,8d941cacc886b3259548d81e1e8cc7e5cb6502a6,Increase TextMate’s “is old” threshold to 90 days
sorbits,2014-05-16 08:51:59,https://api.github.com/repos/textmate/textmate/git/commits/42888110fbc664bce8954ad2ebf3160e58db02bf,42888110fbc664bce8954ad2ebf3160e58db02bf,"Add ‘saveOnBlur’ as a .tm_properties option

This makes it easier to enable auto-saving when TextMate loses focus and unlike using a command for this, files that cannot be saved will be silently skipped (as the user is leaving TextMate, so we should not throw up dialogs)."
sorbits,2014-05-16 08:08:02,https://api.github.com/repos/textmate/textmate/git/commits/8919ad3461310c6da1f98d1ab83e76e31e31d35f,8919ad3461310c6da1f98d1ab83e76e31e31d35f,Remove duplicate code
sorbits,2014-05-16 02:11:26,https://api.github.com/repos/textmate/textmate/git/commits/e81286b0cd1aa3746d963a24ae32e004521bfb9d,e81286b0cd1aa3746d963a24ae32e004521bfb9d,Remove unused include
sorbits,2014-05-16 02:03:26,https://api.github.com/repos/textmate/textmate/git/commits/0286a10cbc2ec1171396f060608c169c3acbd3aa,0286a10cbc2ec1171396f060608c169c3acbd3aa,Remove unnecessary code
sorbits,2014-05-15 15:52:35,https://api.github.com/repos/textmate/textmate/git/commits/a5dd8cc2d7c8ebafa4c296856a9410531db3063a,a5dd8cc2d7c8ebafa4c296856a9410531db3063a,Save white I-beam cursor image with LZW compression
sorbits,2014-05-15 15:51:33,https://api.github.com/repos/textmate/textmate/git/commits/41e4ed2cc3a5c09bf706d939b81574f098495b5b,41e4ed2cc3a5c09bf706d939b81574f098495b5b,"Save PDF images with Preview’s “Reduce File Size” quartz filter

This reduced the file size with more than 90%.

Since the PDF files are mapped into TextMate’s address space, it results in a reduction of memory usage."
sorbits,2014-05-15 05:45:18,https://api.github.com/repos/textmate/textmate/git/commits/af3f4aaa333d1f1a2cff5dfa0b4f3fad6b448977,af3f4aaa333d1f1a2cff5dfa0b4f3fad6b448977,Check result of most CF/CT ‘Create’ functions
sorbits,2014-05-15 04:59:59,https://api.github.com/repos/textmate/textmate/git/commits/c832c6a13112de1cb5263f6bb91eaf4a71390e6f,c832c6a13112de1cb5263f6bb91eaf4a71390e6f,"Release dispatch sources

This is to avoid them showing up in leak reports."
sorbits,2014-05-15 04:51:57,https://api.github.com/repos/textmate/textmate/git/commits/b8804d1164f31a923d70a298d6788724d1b6d1a3,b8804d1164f31a923d70a298d6788724d1b6d1a3,"Fix three memory leaks

One was per launch, one was per key event, and one was per (unique) line drawn."
sorbits,2014-04-29 01:01:45,https://api.github.com/repos/textmate/textmate/git/commits/55b5b7a3dc8739547cb6fac15debaa81fad36a3a,55b5b7a3dc8739547cb6fac15debaa81fad36a3a,"Use path::escape when creating TM_SELECTED_FILES

In addition to being redundant, now that we have a global escape function, the custom shell escaping code had a bug when the path contained more than one apostrophe."
rdwampler,2014-04-30 00:45:14,https://api.github.com/repos/textmate/textmate/git/commits/4c973385a84ae20cf01ed4cd519ccf6f39315c6c,4c973385a84ae20cf01ed4cd519ccf6f39315c6c,"Indent menu items in `tabSizeMenu`

This allow the check mark to be properly spaced with respect to its item."
rdwampler,2014-04-21 02:31:28,https://api.github.com/repos/textmate/textmate/git/commits/fc5dcf4020ba26c4ac9f6891b836d4297d6525b9,fc5dcf4020ba26c4ac9f6891b836d4297d6525b9,"Prefer `NULL` to `nop:` in most cases

This change was prompted by the appearance of the `tabSizePopUp` button in the status bar. After dismissing the menu, the title would be disabled.

To ensure we do not have similar issues elsewhere, let's prefer the use of `NULL` to `nop:` when assigning the action for menu items unless we are sure that the menu item should always be disabled (e.g., the item is used as a label)."
rdwampler,2014-04-30 01:22:53,https://api.github.com/repos/textmate/textmate/git/commits/d9f4fae635e1cf0c2e79ceb7b268f4304ea7050a,d9f4fae635e1cf0c2e79ceb7b268f4304ea7050a,"Enable ""Open Files"" search option in Find window

This seems to have been overlooked since most of logic was already implemented.

There is one known issue that exists when restoring sessions. Namely, after restoring a session only those documents (tabs), which have been actively ""viewed"" are considered ""opened""."
rdwampler,2014-04-30 01:11:06,https://api.github.com/repos/textmate/textmate/git/commits/3ed4722a80715260ef539b2ace26dca1d6554834,3ed4722a80715260ef539b2ace26dca1d6554834,Remove duplication of find_tags enumeration
sorbits,2014-04-28 14:59:19,https://api.github.com/repos/textmate/textmate/git/commits/4ad377d630f810b8d721c7038ed52a3105aafa2c,4ad377d630f810b8d721c7038ed52a3105aafa2c,Checkin release notes
sorbits,2014-04-28 16:33:00,https://api.github.com/repos/textmate/textmate/git/commits/978ec97ecf13b3b149c51aeb84c247f7180a126f,978ec97ecf13b3b149c51aeb84c247f7180a126f,"Revert ""Do not abort application shutdown when we need to save documents""

This reverts commit 73f82c6c5ccb6d61a92c2786545fa7b6346d6833.

Conflicts:
	Frameworks/DocumentWindow/src/DocumentController.mm"
sorbits,2014-04-28 16:27:46,https://api.github.com/repos/textmate/textmate/git/commits/7fb02603b5c192bb85ff15656440f2c2bed68712,7fb02603b5c192bb85ff15656440f2c2bed68712,"Revert ""Disable threaded saving as a workaround for stall during quit""

This reverts commit 0b419474120345dd71095d05ea412ac33c7b85c6."
sorbits,2014-04-28 14:42:10,https://api.github.com/repos/textmate/textmate/git/commits/0b419474120345dd71095d05ea412ac33c7b85c6,0b419474120345dd71095d05ea412ac33c7b85c6,"Disable threaded saving as a workaround for stall during quit

The problem is that during quit the OS will run a local event loop until we reply to the terminate event. In this local event loop we cannot use performSelector:withObject:afterDelay: but that is required to not block the main dispatch queue."
sorbits,2014-04-28 14:36:39,https://api.github.com/repos/textmate/textmate/git/commits/9a80fd422654e99a25fc2718964f79a015492c65,9a80fd422654e99a25fc2718964f79a015492c65,"Fix potential stall using “save all” from find in folder

This would happen if the user manually saved one of the documents with replacements before invoking save all, since the wrong “did save” callback was called when trying to save an unmodified document."
sorbits,2014-04-28 13:44:53,https://api.github.com/repos/textmate/textmate/git/commits/7ea524b936a2c9403e37d3fb8b4ddb19837794a3,7ea524b936a2c9403e37d3fb8b4ddb19837794a3,Drop the oak::server_t abstraction
sorbits,2014-04-28 11:06:44,https://api.github.com/repos/textmate/textmate/git/commits/17b5928d764f265971b19989d2fe91d396a82e50,17b5928d764f265971b19989d2fe91d396a82e50,"Remove backup files for documents with a path during quit

Previously if we selected “Don’t Save” the discarded changes would still be there after relaunch."
sorbits,2014-04-28 10:37:42,https://api.github.com/repos/textmate/textmate/git/commits/7698ce2783ddef5e83e6dbfa404ce5379d2bfc31,7698ce2783ddef5e83e6dbfa404ce5379d2bfc31,"Show an error when WebKit fails to load the requested resource

WebKit will e.g. fail to load resources identified as application/octet-stream."
sorbits,2014-04-26 05:26:47,https://api.github.com/repos/textmate/textmate/git/commits/cb22cc02286e79edce9b0e45708003fef41293cd,cb22cc02286e79edce9b0e45708003fef41293cd,"Make bundle update frequency configurable

This is introduced only for testing."
sorbits,2014-04-26 04:47:11,https://api.github.com/repos/textmate/textmate/git/commits/ffbcd3c7f916cba2ff041579003cbd3af349d1be,ffbcd3c7f916cba2ff041579003cbd3af349d1be,Fix error logging for download problems
sorbits,2014-04-26 02:53:01,https://api.github.com/repos/textmate/textmate/git/commits/8b02bb280959350326b36907a23d3f956ae7a630,8b02bb280959350326b36907a23d3f956ae7a630,Do not update a bundle if it requires a newer version of TextMate
sorbits,2014-04-26 01:43:35,https://api.github.com/repos/textmate/textmate/git/commits/d06c6f02bc81bb0201d0879182ae4003098303a0,d06c6f02bc81bb0201d0879182ae4003098303a0,"Use file’s display name instead of CFBundleName

This seems to be what Finder does, and some bundles (Spotify.app) actually lack a CFBundleName key.

Also ensure our bundle has a CFBundleIdentifier."
sorbits,2014-04-26 01:38:07,https://api.github.com/repos/textmate/textmate/git/commits/8c41396ab99e85365ccd6b0ec7752b7cf893c28e,8c41396ab99e85365ccd6b0ec7752b7cf893c28e,Hide link arrows in Preferences → Bundles when there is no link
sorbits,2014-04-25 13:37:13,https://api.github.com/repos/textmate/textmate/git/commits/b8c1085b9e20fe8019e74bd03ca247c1a2ce20ed,b8c1085b9e20fe8019e74bd03ca247c1a2ce20ed,"Let NSURL extract the host from REST_API

The custom code in network::can_reach_host only dealt with the scheme, not port number or user/password."
sorbits,2014-04-25 13:31:23,https://api.github.com/repos/textmate/textmate/git/commits/397fdb52d440bcc79817d9bc60a1aaef5aa226ce,397fdb52d440bcc79817d9bc60a1aaef5aa226ce,Make REST_API a global define and make it a C string
sorbits,2014-04-25 07:27:59,https://api.github.com/repos/textmate/textmate/git/commits/7c31761e2149eb9d20108a7b45e36c81f2b461b7,7c31761e2149eb9d20108a7b45e36c81f2b461b7,"Use NSWindow’s stringWithSavedFrame instead of window.frame

This includes the screen dimension so that restoring the frame on a different screen can scale the window accordingly."
sorbits,2014-04-25 05:41:17,https://api.github.com/repos/textmate/textmate/git/commits/0ad0b12a8223657d42b3243eb32c412d3ac798ae,0ad0b12a8223657d42b3243eb32c412d3ac798ae,"Improve “Open With” submenu

- Path to application is shown in the menu item’s tool tip.
- When menu is shown for multiple file types with different default applications, we show the default applications first.
- Use the potentially localized bundle name rather than file system display name.
- Use bundle identifier to group applications rather than display name: Grouping is done to decide if version number should be shown for the item."
sorbits,2014-04-22 04:11:23,https://api.github.com/repos/textmate/textmate/git/commits/603f06d2dba7539cbff2fb1895e84cea32e31708,603f06d2dba7539cbff2fb1895e84cea32e31708,Move version comparison out of s/w update framework
sorbits,2014-04-22 03:33:10,https://api.github.com/repos/textmate/textmate/git/commits/1c7a749308b190d98f7fdc1e47ce90e326b3b004,1c7a749308b190d98f7fdc1e47ce90e326b3b004,Parse the ‘required’ field from remote bundle index
sorbits,2014-04-22 03:32:14,https://api.github.com/repos/textmate/textmate/git/commits/c272afaff2d18bdae60cb93ed8b8ca45a15b1104,c272afaff2d18bdae60cb93ed8b8ca45a15b1104,"Cleanup/harmonize whitespace

Leading indent should consist only of tabs, beyond that, only spaces should be used."
sorbits,2014-04-22 01:16:05,https://api.github.com/repos/textmate/textmate/git/commits/6d77df7ac3a585bc641e4ba2d89caf4fc4cc9a11,6d77df7ac3a585bc641e4ba2d89caf4fc4cc9a11,fixup! Remove trailing zeroes from numeric literals
sorbits,2014-04-22 00:37:16,https://api.github.com/repos/textmate/textmate/git/commits/064cc09f99ebfa3cb10cbeafc73ad5e913a25646,064cc09f99ebfa3cb10cbeafc73ad5e913a25646,Check if we have a ‘body’ when creating list of bundle changes
sorbits,2014-04-21 09:46:21,https://api.github.com/repos/textmate/textmate/git/commits/5248129566318159e7200f57f942aaa5de516044,5248129566318159e7200f57f942aaa5de516044,"When failing to update a bundle we would claim “download error”

We would even output it two times."
sorbits,2014-04-21 09:45:35,https://api.github.com/repos/textmate/textmate/git/commits/6359a2ef7cf499b3c1a8fbec0bec67692c75dddd,6359a2ef7cf499b3c1a8fbec0bec67692c75dddd,Use symbolic exit success/failure constants
sorbits,2014-04-19 09:49:57,https://api.github.com/repos/textmate/textmate/git/commits/9e4a5ccd82bdbcbbfe33402e894cbbb6f2977d87,9e4a5ccd82bdbcbbfe33402e894cbbb6f2977d87,"Add instance counter for node_t (used by glob parser)

This will alert us of any leaks (if instance count is non-zero during quit)."
sorbits,2014-04-19 09:49:09,https://api.github.com/repos/textmate/textmate/git/commits/a2fad22bf74409253980173f184083fddd175799,a2fad22bf74409253980173f184083fddd175799,"Check if directory exists before asking for path::entries

This is to avoid the warning logged from path::entries (about directory not existing)."
sorbits,2014-04-19 09:19:32,https://api.github.com/repos/textmate/textmate/git/commits/91b216bf2481975bc79f50931e13c0b79e848813,91b216bf2481975bc79f50931e13c0b79e848813,Use glob parser for brace expansion
sorbits,2014-04-19 08:59:20,https://api.github.com/repos/textmate/textmate/git/commits/d178527924cde055b18b131e6542aacefccd16ad,d178527924cde055b18b131e6542aacefccd16ad,Do not make expansion order assumptions about consecutive braces
sorbits,2014-04-19 08:28:25,https://api.github.com/repos/textmate/textmate/git/commits/7d1f7941b97be50c4ed7a07d62c45034fa8b1f42,7d1f7941b97be50c4ed7a07d62c45034fa8b1f42,Include exclude operator in glob syntax comment/documentation
sorbits,2014-04-18 13:43:24,https://api.github.com/repos/textmate/textmate/git/commits/5f670e04798b4e87d84f3532c4e1539e02809f4f,5f670e04798b4e87d84f3532c4e1539e02809f4f,Checkin release notes
sorbits,2014-04-18 13:25:48,https://api.github.com/repos/textmate/textmate/git/commits/78e76f55d803c4e8a8457053b6fd341167a7a3f9,78e76f55d803c4e8a8457053b6fd341167a7a3f9,"Improve handling of empty braces in globs

We treat empty braces as literal characters though do balance them."
sorbits,2014-04-18 10:09:24,https://api.github.com/repos/textmate/textmate/git/commits/cc02ceb96378c9f2a85cc6dd79105f0aaa0098fc,cc02ceb96378c9f2a85cc6dd79105f0aaa0098fc,"Match (potential) file chooser glob against full file path

Previously we would try full path, relative path, and just the name. This was done to determine wether or not the display string should include full path details or be limited to the name. The problem is that an excluding glob may require the full path, and would thus not exclude items that did match when using just the item’s name."
sorbits,2014-04-18 02:23:15,https://api.github.com/repos/textmate/textmate/git/commits/d39fc88324bbb926d7ef7742fa8bfc8ada98b325,d39fc88324bbb926d7ef7742fa8bfc8ada98b325,"Always enable action pop-up button in find window

Previously it was only available when doing folder searches, since the items are for folder search behavior and results.

However, with “Find All” in document, we get a similar result list from which we may want to copy matches."
sorbits,2014-04-17 23:09:15,https://api.github.com/repos/textmate/textmate/git/commits/42ff7850f33b6ab1a11b8a9fd7fd91e746a6e016,42ff7850f33b6ab1a11b8a9fd7fd91e746a6e016,Switch from gdb → lldb and run in current terminal (ninja 1.5)
sorbits,2014-04-17 23:06:34,https://api.github.com/repos/textmate/textmate/git/commits/2134e957e6ca040fa475f772a26808afdef8a46c,2134e957e6ca040fa475f772a26808afdef8a46c,Display progress during upload (ninja 1.5)
sorbits,2014-04-17 15:51:53,https://api.github.com/repos/textmate/textmate/git/commits/9524439aef32bfc02470d477473540b949866bda,9524439aef32bfc02470d477473540b949866bda,"Handle bang in globs (negation) identically to tilde

This simplifies the code (slightly) and allows the bang to appear in other positions than leading."
sorbits,2014-04-17 11:15:13,https://api.github.com/repos/textmate/textmate/git/commits/45481d2e4d42ff46d5a158ae418af16b6dcfc27e,45481d2e4d42ff46d5a158ae418af16b6dcfc27e,"Add tilde (~) as a glob “exclude” operator

For example the following glob will match C++/Objective-C++ source/header files, except those in the ‘vendor’ directory: *.{cc,mm,h}~vendor/**

It is possible to do multiple exclusions, e.g.: src/**~*.log~*.db

It is also possible to start with the exclude operator to negate the pattern (identical to the ! operator).

The exclude operator is not supported inside brace expansion, e.g.: {*.o,*~.nib} will treat it as a literal tilde. Furthermore, placing the tilde last will also treat it as a literal tilde, e.g.: *.txt~

In the exclude pattern, single/double asterisk (*/**) will match hidden files."
sorbits,2014-04-17 10:39:28,https://api.github.com/repos/textmate/textmate/git/commits/01722b9a6e87733e88b63e270da45f882d0a14ba,01722b9a6e87733e88b63e270da45f882d0a14ba,"Create custom parser for glob patterns

Previously we parsed them using regular expressions, but future improvements is hard using that approach."
sorbits,2014-04-17 10:26:11,https://api.github.com/repos/textmate/textmate/git/commits/fcae9429277b27f0019ab1b4007a824913d5df32,fcae9429277b27f0019ab1b4007a824913d5df32,"Fix comparison of document path with candidate name

This check is so that we always include the current document, even if the exclude/binary globs are setup to exclude it."
sorbits,2014-04-17 10:25:35,https://api.github.com/repos/textmate/textmate/git/commits/7c6594012e8a44bade3f67b4e257130f7fca7ad5,7c6594012e8a44bade3f67b4e257130f7fca7ad5,Use initializer list to create std::set (C++11)
sorbits,2014-04-17 10:00:55,https://api.github.com/repos/textmate/textmate/git/commits/0b2932b3de6cfaefa5dd281c093029e938a703e8,0b2932b3de6cfaefa5dd281c093029e938a703e8,Add test for empty glob (should not match anything)
sorbits,2014-04-17 09:58:20,https://api.github.com/repos/textmate/textmate/git/commits/7bedb531ef5922b556d33f3be1bc7f221ef5568c,7bedb531ef5922b556d33f3be1bc7f221ef5568c,"Let utf8::multibyte<T>::length return 1 for non-multibyte chars

Previously we asserted that the API was always called with multibyte start characters."
sorbits,2014-04-16 15:26:18,https://api.github.com/repos/textmate/textmate/git/commits/bbfad640f5137779ab4e697a7628ca876b468b53,bbfad640f5137779ab4e697a7628ca876b468b53,"Explicitly exit the commit window tool

We were relying on the run loop to wake up as part of running a delayed selector, but that did not happen prior to 10.9."
sorbits,2014-04-16 15:22:30,https://api.github.com/repos/textmate/textmate/git/commits/4474419405d0cc263bfe7e44e9f77f489d9a8ef2,4474419405d0cc263bfe7e44e9f77f489d9a8ef2,"Use API available on 10.7 for the commit window’s NSTableView

We’re using an NSViewController to load the nib so that we do not need to manually release the top level objects."
sorbits,2014-04-15 00:04:12,https://api.github.com/repos/textmate/textmate/git/commits/ae69d06c2c95e76a70606f77103fb84162d58517,ae69d06c2c95e76a70606f77103fb84162d58517,"Use undo manager from file browser’s potential field editor

We override undo/redo for the file browser so that ⌘Z / ⇧⌘Z will only undo/redo file browser actions when it’s in the responder chain: b9fafd1495d5e5919b92a4d219beb3c78b09538e

This had the unfortunate side-effect of eclipsing the undo support of descendent views of the file browser, like the field editor used for renaming items."
sorbits,2014-04-14 07:14:21,https://api.github.com/repos/textmate/textmate/git/commits/f515bc70f8317fd48d64ac454c951d34a2328046,f515bc70f8317fd48d64ac454c951d34a2328046,Use lowercase for the status of implicitly installed bundles
sorbits,2014-04-14 07:13:05,https://api.github.com/repos/textmate/textmate/git/commits/9790644fbd6230cacdb319a5cecb09f30f6ee6ee,9790644fbd6230cacdb319a5cecb09f30f6ee6ee,Track implicitly installed bundles
sorbits,2014-04-14 05:09:12,https://api.github.com/repos/textmate/textmate/git/commits/1f0e3db472d557f58b8854041463947733259263,1f0e3db472d557f58b8854041463947733259263,"Remove trailing zeroes from numeric literals

I mainly dislike the trailing zeroes because CGFloat used to be a float but 1.0 is a double (1.0f would be a float). So better to under-specify and let the compiler figure out the proper type."
sorbits,2014-04-14 04:33:23,https://api.github.com/repos/textmate/textmate/git/commits/39b94e6ac3a08bf61d94053c16e265ce77d3a542,39b94e6ac3a08bf61d94053c16e265ce77d3a542,Harmonize whitespace and add trailing newline
sorbits,2014-04-14 02:53:15,https://api.github.com/repos/textmate/textmate/git/commits/0a459d0b85da236d06676cf522a9c3dcdd20e6f6,0a459d0b85da236d06676cf522a9c3dcdd20e6f6,If a disabled variable is edited (in Preferences) then enable it
sorbits,2014-04-14 01:43:25,https://api.github.com/repos/textmate/textmate/git/commits/dde03783b2e7390b40a42caf2b3622b355e51d5d,dde03783b2e7390b40a42caf2b3622b355e51d5d,Use more constants from sysexits.h for pretty_plist failure codes
sorbits,2014-04-14 01:39:25,https://api.github.com/repos/textmate/textmate/git/commits/ec8208bbf51a17b57eda22993b88153a935304f6,ec8208bbf51a17b57eda22993b88153a935304f6,Use constants from sysexits.h for bl failure codes
sorbits,2014-04-14 01:37:27,https://api.github.com/repos/textmate/textmate/git/commits/5b47dca1e67ef78601739bdd6cef5bcb24bc2869,5b47dca1e67ef78601739bdd6cef5bcb24bc2869,Add ‘sysexits.h’ as a precompiled header
sorbits,2014-04-14 01:28:38,https://api.github.com/repos/textmate/textmate/git/commits/e6d8ffed4332b7f7b23add1f826a4fa9b0f44e6c,e6d8ffed4332b7f7b23add1f826a4fa9b0f44e6c,Create archive of default bundles by using the server side status
sorbits,2014-04-14 01:26:37,https://api.github.com/repos/textmate/textmate/git/commits/8f18aefe66d86fda2d1c517901a5ad387a2585df,8f18aefe66d86fda2d1c517901a5ad387a2585df,"Update ‘bl’ to support list/install of default/mandatory bundles

We now have four meta-names: outdated, installed, defaults, and mandatories. These can be used to list or update/install the respective group of bundles."
sorbits,2014-04-14 01:12:21,https://api.github.com/repos/textmate/textmate/git/commits/d31f2dc100c9db0cd61d23fc87884885f2b70a72,d31f2dc100c9db0cd61d23fc87884885f2b70a72,"Only report failure from updating a source when there is no cache

Ideally we would also return ‘false’ when failing to update an existing source, but not failing when we have a cache is better than failing when there is nothing new to download."
sorbits,2014-04-13 22:21:22,https://api.github.com/repos/textmate/textmate/git/commits/eb6d755ca5c5282328b20b56b25cc3bc8a990bc3,eb6d755ca5c5282328b20b56b25cc3bc8a990bc3,Parse ‘isDefault’ and ‘isMandatory’ from remote bundle index
sorbits,2014-04-13 06:09:11,https://api.github.com/repos/textmate/textmate/git/commits/3e8fd7b72a04b17ae8c0b462e99136377b667d9f,3e8fd7b72a04b17ae8c0b462e99136377b667d9f,"Use bundle item name in Commit Window’s title

This means using Git → Amend Last Commit… will show “Amend Last Commit” in the window title."
sorbits,2014-04-13 00:25:39,https://api.github.com/repos/textmate/textmate/git/commits/72d8d584ac624f1ce6396738a09eecefa45ccf64,72d8d584ac624f1ce6396738a09eecefa45ccf64,Update Avian bundle
sorbits,2014-04-12 13:18:25,https://api.github.com/repos/textmate/textmate/git/commits/5e96775fa3ddc627f2f654cd5ae8c18a73b30825,5e96775fa3ddc627f2f654cd5ae8c18a73b30825,Break out of current block before continuing document saving
sorbits,2014-04-12 12:20:43,https://api.github.com/repos/textmate/textmate/git/commits/86a55389929c5e2da92075c894e648411c68ee51,86a55389929c5e2da92075c894e648411c68ee51,Ensure server object is alive when client is destroyed
sorbits,2014-04-12 07:21:37,https://api.github.com/repos/textmate/textmate/git/commits/cb5c6062cdfed1d9cf3e711596f66107399208d5,cb5c6062cdfed1d9cf3e711596f66107399208d5,Checkin release notes
sorbits,2014-04-12 07:13:21,https://api.github.com/repos/textmate/textmate/git/commits/09ea4b3e46bab89cdb5069979aa170315d5a9f6f,09ea4b3e46bab89cdb5069979aa170315d5a9f6f,When document changes (on disk) ensure all selections are valid
sorbits,2014-04-12 06:01:39,https://api.github.com/repos/textmate/textmate/git/commits/7c192f1e0280c7993caad0a65b9370552394e09e,7c192f1e0280c7993caad0a65b9370552394e09e,"Let OakTextView handle cancelOperation: as complete:

This is only when caret is at a word, when not on a word, we do not respond to the cancelOperation: method. This way, pressing escape in a window where another responder implements cancel:/cancelOperation: (e.g. commit window) the key will be handled by the other responder (and presumably close the window)."
sorbits,2014-04-12 05:37:52,https://api.github.com/repos/textmate/textmate/git/commits/3f55166f153af3792210afff2dcfefac47993cfd,3f55166f153af3792210afff2dcfefac47993cfd,"Assign ⌘. to the commit window’s cancel button

While ⌘. already triggers any cancelOperation:/cancel: method found in the responder chain, making it explicit gives visual feedback when user press the key, and ensures that another control doesn’t get the key (by responding to cancelOperation:/cancel:)."
sorbits,2014-04-12 04:07:00,https://api.github.com/repos/textmate/textmate/git/commits/6e619ad14ca3dfd6a54f4b3034f239865121b0f4,6e619ad14ca3dfd6a54f4b3034f239865121b0f4,"Do not render full screen windows as inactive

The text view itself will still dim the selection, but document tabs, status, and tool bars no longer change colors.

This seems consistent with how Apple’s controls act and is necessary for the status bar since it draws a transparent gradient over the window background, so only its borders got the dimmed look."
sorbits,2014-04-12 03:53:27,https://api.github.com/repos/textmate/textmate/git/commits/d1bce2ac4f5ac39c7c0c6868195fc48e17479353,d1bce2ac4f5ac39c7c0c6868195fc48e17479353,Get rid of OakCreateViewWithColor
sorbits,2014-04-11 13:47:08,https://api.github.com/repos/textmate/textmate/git/commits/2bfd8a811804330656dca9052a81c55336fb6e68,2bfd8a811804330656dca9052a81c55336fb6e68,Give local function ‘static’ storage
sorbits,2014-04-11 13:45:16,https://api.github.com/repos/textmate/textmate/git/commits/375893fc7f6911107821185d701075d78043d735,375893fc7f6911107821185d701075d78043d735,"Add a ‘did change content’ notification to document_t

This is only meant for when the document reloads content because the file was changed on disk. Long-term though, I think reloading document because of disk changes should be handled at a higher level."
sorbits,2014-04-11 13:41:57,https://api.github.com/repos/textmate/textmate/git/commits/f445f192877f0917bae04029c946033422f893c5,f445f192877f0917bae04029c946033422f893c5,Add assertion to check if index is within allowed range
sorbits,2014-04-11 09:55:32,https://api.github.com/repos/textmate/textmate/git/commits/1452148a652c259717d1df9abec747aebe7fe0ea,1452148a652c259717d1df9abec747aebe7fe0ea,Run in default run-loop mode for document_t::sync_open
sorbits,2014-04-11 09:51:42,https://api.github.com/repos/textmate/textmate/git/commits/d549bb7a84cc918bcfda914e4cdde485975477b2,d549bb7a84cc918bcfda914e4cdde485975477b2,Remove unused include (cf/callback.h)
sorbits,2014-04-11 09:13:13,https://api.github.com/repos/textmate/textmate/git/commits/ec6d0b7e4e891d27312df3c332edbd2a07a0358b,ec6d0b7e4e891d27312df3c332edbd2a07a0358b,fixup! Add assertion about being called in the main dispatch queue
sorbits,2014-04-11 06:11:52,https://api.github.com/repos/textmate/textmate/git/commits/eaa2faa18a0fd3932b2242808590f8f093352ee3,eaa2faa18a0fd3932b2242808590f8f093352ee3,Change to project folder when running commands from commit window
rdwampler,2014-04-11 01:06:52,https://api.github.com/repos/textmate/textmate/git/commits/196f37729f46b9e86fbfcbe5df190cc9b4f3587d,196f37729f46b9e86fbfcbe5df190cc9b4f3587d,fixup! Allow user to clear previous commit messages
rdwampler,2014-04-10 01:28:25,https://api.github.com/repos/textmate/textmate/git/commits/b942455d8fbffb30ad15d9c7ca802c5e2dd040a7,b942455d8fbffb30ad15d9c7ca802c5e2dd040a7,"Implement ""--log"" option for commit window

This fixes a regression. The previous commit window allowed a ""--log"" option to be specified that would pre-populate the text view with the given argument."
sorbits,2014-04-11 01:51:04,https://api.github.com/repos/textmate/textmate/git/commits/65e9b45d8ae8e4d4bad43e6e06f35daef7ab2545,65e9b45d8ae8e4d4bad43e6e06f35daef7ab2545,"Treat commit window action command names as format strings

Presently the ‘TM_DISPLAYNAME’ is conditionally available, allowing the name to contain the file name which it will work with.

Also fix a potential “out of range” exception. The validateMenuItem: could be called for a cached menu item (e.g. when the system resolves key equivalents) where we had no selection (nor did click any item), so we would access the row at index -1."
sorbits,2014-04-11 01:49:54,https://api.github.com/repos/textmate/textmate/git/commits/445468cbf526e44b1065654481986a05fed83fbd,445468cbf526e44b1065654481986a05fed83fbd,Make list of items to be committed contain exactly 10 rows
sorbits,2014-04-11 00:03:53,https://api.github.com/repos/textmate/textmate/git/commits/09d9cf9bd28dac6c6e1f5a4dff9742adafab4e12,09d9cf9bd28dac6c6e1f5a4dff9742adafab4e12,fixup! Add setting to disable tab re-ordering
sorbits,2014-04-10 23:43:24,https://api.github.com/repos/textmate/textmate/git/commits/e379021492743166e9dd676b4f50edcdc9516076,e379021492743166e9dd676b4f50edcdc9516076,Assert that we are not blocking the main queue
sorbits,2014-03-23 05:07:03,https://api.github.com/repos/textmate/textmate/git/commits/1e419e6d3111a41b199f3a1316475f548b274ef3,1e419e6d3111a41b199f3a1316475f548b274ef3,Use Onigmo’s own multithread support
sorbits,2014-04-10 10:15:41,https://api.github.com/repos/textmate/textmate/git/commits/d0bb0e7dc2dd9ce71eb763498d9a9cae07df8cd9,d0bb0e7dc2dd9ce71eb763498d9a9cae07df8cd9,fixup! Full implementation of ‘labels’ property
sorbits,2014-04-10 10:37:01,https://api.github.com/repos/textmate/textmate/git/commits/62f2debfc809ab0cf814f7e33532328ec723fcaf,62f2debfc809ab0cf814f7e33532328ec723fcaf,Store commit window frame in user defaults
sorbits,2014-04-10 10:02:23,https://api.github.com/repos/textmate/textmate/git/commits/b06474fbace9a09f0fa200032997a8bfea2d59dd,b06474fbace9a09f0fa200032997a8bfea2d59dd,Introduce ‘hideStatusBar’ user defaults key
sorbits,2014-04-10 09:55:28,https://api.github.com/repos/textmate/textmate/git/commits/bd74a16d96f4345f4c3d4756ca731434c0fa37db,bd74a16d96f4345f4c3d4756ca731434c0fa37db,Add API to hide status bar
sorbits,2014-04-10 10:30:47,https://api.github.com/repos/textmate/textmate/git/commits/30edbc9118ff86c9ca2efcb93e5d3cc86a27902b,30edbc9118ff86c9ca2efcb93e5d3cc86a27902b,Disable autoresize mask translation for divider line views
sorbits,2014-04-10 06:07:46,https://api.github.com/repos/textmate/textmate/git/commits/ff94480298e5b344dfe655877bf5dc4cd56b904d,ff94480298e5b344dfe655877bf5dc4cd56b904d,"Check that CoreFoundation functions succeed

Several crash reports indicate failure to create a CFString (in ct::line_t’s constructor). As we have an explicit UTF-8 check, I am not sure why it would fail, but at least now TextMate should not crash when it happens."
sorbits,2014-04-10 04:09:37,https://api.github.com/repos/textmate/textmate/git/commits/74572309f1eb5cdbca20fae14510cb9168d3fc7d,74572309f1eb5cdbca20fae14510cb9168d3fc7d,Allow user to clear previous commit messages
sorbits,2014-04-10 03:53:22,https://api.github.com/repos/textmate/textmate/git/commits/751d2c292451226b59280c572a31e650813c477a,751d2c292451226b59280c572a31e650813c477a,"Let commit window’s title match that of the main window

In practice we could source ‘.tm_properties’ with ‘TM_DISPLAYNAME’ set to “Commit” (and ‘TM_FILENAME/PATH’ unset) to use user’s ‘windowTitle’, though it could result in wrong titles for users who have configured window titles to include parent path components without proper fallback to ‘TM_DISPLAYNAME’."
sorbits,2014-04-09 14:31:48,https://api.github.com/repos/textmate/textmate/git/commits/c7bfb36d259b44e8c1a0108b42ab5feb124212d8,c7bfb36d259b44e8c1a0108b42ab5feb124212d8,Use variadic template function instead of varargs macros (C++11)
sorbits,2014-04-09 13:09:48,https://api.github.com/repos/textmate/textmate/git/commits/4307d9eb91a23cdc258e3ff83120037a5c36791b,4307d9eb91a23cdc258e3ff83120037a5c36791b,Add ‘onDocumentSave’ HTML output auto refresh option
sorbits,2014-04-09 08:14:17,https://api.github.com/repos/textmate/textmate/git/commits/7d1ca99421d82959af0a205adf49d22ad51b9d06,7d1ca99421d82959af0a205adf49d22ad51b9d06,"Disable plug-ins for HTML output WebView

Also switch about window’s web preferences to be set via identifier instead of manipulating the standard preferences."
sorbits,2014-04-09 08:06:03,https://api.github.com/repos/textmate/textmate/git/commits/ba87a43c661a2d46a96d415e746ae43b762e3912,ba87a43c661a2d46a96d415e746ae43b762e3912,"Workaround for “did save” commands stalling TextMate

This became an issue after 10d9464."
sorbits,2014-04-09 07:31:07,https://api.github.com/repos/textmate/textmate/git/commits/6d1da8ce97fbb66bd9f4f416a7243a7d4359d728,6d1da8ce97fbb66bd9f4f416a7243a7d4359d728,"Use bundle item’s effective name in error and cancel sheets

For example the bundle item “Execute Line / Selection” will (without a selection) show as “Execute Line” in the menu, and now also if the command causes the error sheet to appear or the user press ⌃C / ⌘. to prematurely kill it."
sorbits,2014-04-08 09:27:54,https://api.github.com/repos/textmate/textmate/git/commits/38b91da708eb39fdb1698a8571bd8e04d0a0c3e4,38b91da708eb39fdb1698a8571bd8e04d0a0c3e4,Selecting “Save” during quit would lose untitled documents
sorbits,2014-04-08 09:22:17,https://api.github.com/repos/textmate/textmate/git/commits/73f82c6c5ccb6d61a92c2786545fa7b6346d6833,73f82c6c5ccb6d61a92c2786545fa7b6346d6833,"Do not abort application shutdown when we need to save documents

This was previously necessary because we do threaded saving and relied on our run-loop source to be notified when saving completed, but as application termination (presumably) causes TextMate to run in a special run loop mode, we would not receive this notification.

After switching to dispatch queues there no longer is a problem (at least on OS X 10.9.2).

Closes #1030"
sorbits,2014-04-08 07:33:35,https://api.github.com/repos/textmate/textmate/git/commits/aaabfd2e2647888a1e9e7f23c9328e501b20852b,aaabfd2e2647888a1e9e7f23c9328e501b20852b,Use custom test system for testing the ‘document’ framework
sorbits,2014-04-08 06:46:40,https://api.github.com/repos/textmate/textmate/git/commits/fb80ffd272312da709d609f99d237d63f20a207a,fb80ffd272312da709d609f99d237d63f20a207a,Use custom test system for testing the ‘file’ framework
sorbits,2014-04-08 06:12:50,https://api.github.com/repos/textmate/textmate/git/commits/10d94644f7ecb4af4f712b3186166b2aaf3e7403,10d94644f7ecb4af4f712b3186166b2aaf3e7403,"Switch oak::server_t implementation from pthread → libdispatch

This makes the abstraction redundant and it should be removed. I am doing that as a multi-step process, since the previous implementation was blocking tests from being updated to the new (dispatch queue based) test system."
sorbits,2014-04-08 05:46:45,https://api.github.com/repos/textmate/textmate/git/commits/e974582baa8682e4abeb1b03dcffb7413639c73a,e974582baa8682e4abeb1b03dcffb7413639c73a,Allow specifying run-loop mode for document_t::sync_open
sorbits,2014-04-08 05:38:46,https://api.github.com/repos/textmate/textmate/git/commits/7bb584c60425d970cb020e8c10ea356182f4049e,7bb584c60425d970cb020e8c10ea356182f4049e,Add assertion about being called in the main dispatch queue
sorbits,2014-04-08 03:32:24,https://api.github.com/repos/textmate/textmate/git/commits/b0864281ed734e1ad1c0c0fd3897d4aa94cd5b1b,b0864281ed734e1ad1c0c0fd3897d4aa94cd5b1b,Add “New Document” as output option for Filter Through Command
sorbits,2014-04-08 02:23:55,https://api.github.com/repos/textmate/textmate/git/commits/184782a6eee4c7d687f232d6008b80c59e6746a8,184782a6eee4c7d687f232d6008b80c59e6746a8,Crash report info no longer eclipse info from higher up the stack
sorbits,2014-04-07 06:46:40,https://api.github.com/repos/textmate/textmate/git/commits/3642ee2750389fca16a1af824364586561a261dc,3642ee2750389fca16a1af824364586561a261dc,"Save All from find window uses default run-loop mode for saving

When saving and the document needs to execute a command (e.g. callback.document.export) then we can no longer use our special run-loop mode, as command execution is now using queues, and queue dispatching is paused when running in a custom run-loop mode."
sorbits,2014-04-06 16:35:20,https://api.github.com/repos/textmate/textmate/git/commits/6cc0108961e9cc76d929d3bcf393ff7ef9e19f9a,6cc0108961e9cc76d929d3bcf393ff7ef9e19f9a,"Rename document_t:{open,save} → document_t:sync_{open,save}

This makes it easier to search for code that use these functions."
sorbits,2014-04-06 12:34:03,https://api.github.com/repos/textmate/textmate/git/commits/96de950ed1a949a7ba21b2c90b8465dfcc1560ae,96de950ed1a949a7ba21b2c90b8465dfcc1560ae,Return initializer list instead of using std::make_pair (C++11)
sorbits,2014-04-05 15:17:56,https://api.github.com/repos/textmate/textmate/git/commits/c7a211b2fd90cf5d3f455465e0accf12a8fb59ec,c7a211b2fd90cf5d3f455465e0accf12a8fb59ec,Let View → Wrap Column remember the last 5 values used
sorbits,2014-04-05 11:14:27,https://api.github.com/repos/textmate/textmate/git/commits/75dc734a87ccda524ab2aecc9837a01d09a387a4,75dc734a87ccda524ab2aecc9837a01d09a387a4,"When tar fails, it does not remove the output file"
sorbits,2014-04-05 10:57:45,https://api.github.com/repos/textmate/textmate/git/commits/30b4d9322db6ee636b425575ae25ffdee58145d8,30b4d9322db6ee636b425575ae25ffdee58145d8,Checkin release notes
sorbits,2014-04-05 07:08:58,https://api.github.com/repos/textmate/textmate/git/commits/f05f77909e2639b8c585ec8627407317859af3f6,f05f77909e2639b8c585ec8627407317859af3f6,"No need to sanitize UTF-8 data in editor_t::paste

We now have the clipboard_t::entry_t ensure that the data is UTF-8."
sorbits,2014-04-05 07:07:36,https://api.github.com/repos/textmate/textmate/git/commits/2b2a20b9b7136180429db37386a936a6bb62b809,2b2a20b9b7136180429db37386a936a6bb62b809,Ensure clipboard data is UTF-8
sorbits,2014-04-05 05:55:21,https://api.github.com/repos/textmate/textmate/git/commits/7b182c428bbcaef963088c3a6aca874fa0823fcd,7b182c428bbcaef963088c3a6aca874fa0823fcd,"Disable buffer completion when there is no prefix/suffix

We still enable it when a custom completion command provides us with completion candidates. For example user might hit escape in a context where a file name should be inserted, without providing any initial prefix or suffix (as the number of expected candidates is small)."
sorbits,2014-04-05 03:17:26,https://api.github.com/repos/textmate/textmate/git/commits/6b24c1b11f0195ef7d4b3d2f606e4361a1e58a3f,6b24c1b11f0195ef7d4b3d2f606e4361a1e58a3f,"Missing broadcast when changing “on disk” in document_t::set_path

This resulted in missing proxy icon update e.g. when saving an untitled document over an existing one, as we would first set the path to the new location (and indirectly change the “is on disk” status without sending the proper notification)."
sorbits,2014-04-05 02:45:37,https://api.github.com/repos/textmate/textmate/git/commits/6185cc17ab59c81993983dffc9eb82293738dc65,6185cc17ab59c81993983dffc9eb82293738dc65,"Do not inherit numbered variables for potential regexp captures

If the format string itself does a replacement with potential captures $1-$n then we ensure that $1-$n are not inherited from the environment (which could be a parent regexp match)."
sorbits,2014-04-04 16:07:54,https://api.github.com/repos/textmate/textmate/git/commits/59988ecdaf8e52bd2ad262204ae3f8b7c6d55f95,59988ecdaf8e52bd2ad262204ae3f8b7c6d55f95,Add tests for command requirements
sorbits,2014-04-04 16:07:10,https://api.github.com/repos/textmate/textmate/git/commits/c9a16a6033bebf6f12319dfdeb905b9440e2fc40,c9a16a6033bebf6f12319dfdeb905b9440e2fc40,"Support requirements where existing variable has a space

For example setting TM_NINJA to “/usr/local/ninja -j6” will use the variable as-is if “/usr/local/ninja” is an executable."
sorbits,2014-04-04 10:55:29,https://api.github.com/repos/textmate/textmate/git/commits/575c31b66f41278b0c7c4dc0e2dd25930dea1553,575c31b66f41278b0c7c4dc0e2dd25930dea1553,Fix error message for command requirements with no variable
sorbits,2014-04-04 10:36:18,https://api.github.com/repos/textmate/textmate/git/commits/7d0100fa2bf1d458b0ea0adfa8e69baeb1ade7c5,7d0100fa2bf1d458b0ea0adfa8e69baeb1ade7c5,"utf16::distance: End iterator may point into multi-byte character

This function is (indirectly) used by a lot of code, and not all of it provide with valid indexes, though it seems like an issue that can be fixed locally, hence why I have decided to allow it (coupled with this being the main reason for crashes).

It is however still not allowed when building in debug mode (rationale being that running it in debug mode and getting an assertion failure should provide enough info to fix the issue)."
sorbits,2014-04-04 10:30:40,https://api.github.com/repos/textmate/textmate/git/commits/de1c6aa5a95d891fb2d9f7353954198bcb2cbcb2,de1c6aa5a95d891fb2d9f7353954198bcb2cbcb2,"Add commit message to history even if user cancels the dialog

The rationale is that while the user is writing a commit message they might be reminded of something that should be fixed before committing, so they’ll cancel but wish to come back to the partially written message later."
sorbits,2014-04-04 10:09:07,https://api.github.com/repos/textmate/textmate/git/commits/172d2d41c906ae4e3119f85847602daaab40504f,172d2d41c906ae4e3119f85847602daaab40504f,"Ensure the com.macromates.visibleIndex attribute value is valid

Also skip checking for saved selection / visible index if there is no text in the buffer (since in this case, teh only valid values for seleciton / visible index are the default values)."
dusek,2014-04-04 18:36:50,https://api.github.com/repos/textmate/textmate/git/commits/44a803fe7ca56906ab35628972fe1510b52a5e47,44a803fe7ca56906ab35628972fe1510b52a5e47,Use NSAccessibilityUnignoredDescendant to streamline code
dusek,2014-04-04 17:54:25,https://api.github.com/repos/textmate/textmate/git/commits/3e2df2907612c178b8f247a1d58d81ef80fd13fe,3e2df2907612c178b8f247a1d58d81ef80fd13fe,"Add '+initialize' guard

Per https://www.mikeash.com/pyblog/friday-qa-2009-05-22-objective-c-class-loading-and-initialization.html"
dusek,2014-04-04 17:48:50,https://api.github.com/repos/textmate/textmate/git/commits/07e253f3bb1665acbbb7dbcec98e4a6eec4a587d,07e253f3bb1665acbbb7dbcec98e4a6eec4a587d,Cleaner disabling of image view accessibility.
rdwampler,2014-04-04 03:17:34,https://api.github.com/repos/textmate/textmate/git/commits/16330d039e03a3d79ef8500d362dc420ce6e1e47,16330d039e03a3d79ef8500d362dc420ce6e1e47,"Show last commit message in the Previous Commit Messages menu

This was previously set to a pop-up menu, hence the need for a placeholder item to set the menu title. However, for pull-down menus, the first item is used as the title and remains fixed.

This difference in behavior caused the last used commit message (first item) not to be listed in the menu."
rdwampler,2014-04-04 02:01:27,https://api.github.com/repos/textmate/textmate/git/commits/32ef9c8d6739099726bf8524cf55800553d3ca79,32ef9c8d6739099726bf8524cf55800553d3ca79,"Set display name when sending diff to TextMate

We set the name as:

	'---/+++ file'

I wanted the display name to suggest a diff without calling it something directly as ""file (diff)"", so I thought '---/+++' would be a nice and condense way of indicating that."
rdwampler,2014-04-04 01:36:50,https://api.github.com/repos/textmate/textmate/git/commits/0ce77e8de791845f0124beebf830e468a6b0c13e,0ce77e8de791845f0124beebf830e468a6b0c13e,We use camelCase for local variables
sorbits,2014-04-02 09:27:26,https://api.github.com/repos/textmate/textmate/git/commits/9018e8b1aa6293469f757217dcaac24a0a6c2b15,9018e8b1aa6293469f757217dcaac24a0a6c2b15,"Rework command execution (diff, revert, etc.)

I wanted to get rid of calling /usr/bin/which but ended up also modifying the methods that used the absolutePathForPath: method."
rdwampler,2014-03-18 02:13:27,https://api.github.com/repos/textmate/textmate/git/commits/201f247b2fc7fd5281ac07ca2006ad2c24410a0a,201f247b2fc7fd5281ac07ca2006ad2c24410a0a,"New (native) commit window

This is based on the previous commit window code base. It replaces the NSTextView with a OakTextView for entering the commit messages. This allows us to take advantage of some of the git grammar features, e.g., fixup!.

If other SCM bundles are updated in the future to include any specific grammars, these can be used in the commit window by setting the bundle grammar to ""text.SCM-commit"", where SCM could be hg or svn for example.

Changes to note:

	*  The Modify row button for the ""--action-cmd"" commands are now implemented in the action menu and the table context menu.

	*  The shortcut for committing is ⌘↩ (but fn-return seems to (still) work)."
sorbits,2014-03-14 06:56:57,https://api.github.com/repos/textmate/textmate/git/commits/645c83726269d6cdff2076c45d504cf18b2a74aa,645c83726269d6cdff2076c45d504cf18b2a74aa,"Skeleton commit window server

This allows the commit command line tool to open a window as “native”.

We use distributed objects for talking to TextMate and getting a response. For the response, we release the connection in the next iteration of the event loop and then gracefully exit the program. Though it’s not clear if this is enough time for distributed objects to reply the client (if not, an exception is thrown in the client about “connection disappeared while waiting for a reply”)."
rdwampler,2014-03-20 18:11:53,https://api.github.com/repos/textmate/textmate/git/commits/960b41297b21dc246fa28bdd04166609e036c730,960b41297b21dc246fa28bdd04166609e036c730,"Export TM_SCM_NAME and TM_SCM_BRANCH

This will be used by OakCommitWindow.

Also removed extraneous whitespaces."
sorbits,2014-04-03 08:06:31,https://api.github.com/repos/textmate/textmate/git/commits/e4c90084222cc4bcb158fb747a90176357be0205,e4c90084222cc4bcb158fb747a90176357be0205,Don’t assume only one class implements performBundleItem:
sorbits,2014-04-03 07:13:26,https://api.github.com/repos/textmate/textmate/git/commits/d4882de422557484f53d8b86bc09e79ef6113175,d4882de422557484f53d8b86bc09e79ef6113175,"When updating bundles we rename old bundle before delete

This means if TextMate is terminated during update, worst-case is that the bundle is gone (which we can detect) rather than potentially leaving a partially deleted bundle on disk.

Also, since we now move in the updated version immediately after removing the old, the time where the disk is in a bad state (compared to our bundle index) has been minimized."
duanemoody,2014-04-02 21:29:59,https://api.github.com/repos/textmate/textmate/git/commits/073e97ffd7d99ea3b0c6e7c0229b671861fc13af,073e97ffd7d99ea3b0c6e7c0229b671861fc13af,"Add application category for OS X

Applications is often not subfoldered and View --> Arrange by Application Category helps but apps need to have this metadata otherwise they're sorted into ""Other"" at the bottom.  https://developer.apple.com/library/Mac/releasenotes/General/SubmittingToMacAppStore/#//apple_ref/doc/uid/TP40010572-CH16-SW8  (this applies to all Mac apps, not just those coming from App Store)"
sorbits,2014-04-02 05:45:59,https://api.github.com/repos/textmate/textmate/git/commits/b6b75227b30e83d1036afdc5f0de87ae4152cadf,b6b75227b30e83d1036afdc5f0de87ae4152cadf,Exception handler was overwriting crash report info
sorbits,2014-04-02 05:38:17,https://api.github.com/repos/textmate/textmate/git/commits/f93f793bc5b9f4dcbbf908bac8a5357cd2b362fc,f93f793bc5b9f4dcbbf908bac8a5357cd2b362fc,Keep dispatch group around as we may call wait after process exit
sorbits,2014-04-02 05:33:59,https://api.github.com/repos/textmate/textmate/git/commits/a735a37b9bba8b4bbed72fe0f2411f8e8ed9b4ab,a735a37b9bba8b4bbed72fe0f2411f8e8ed9b4ab,"We shouldn’t (potentially) call fprintf() after vfork()

Since it was only incase of failing to close a file descriptor, it shouldn’t have played any role in practice."
sorbits,2014-04-01 06:18:28,https://api.github.com/repos/textmate/textmate/git/commits/b1de8256a27eb422028bfa7aa171fd5eda801544,b1de8256a27eb422028bfa7aa171fd5eda801544,Disable WebView plug-ins and page cache for about window
sorbits,2014-04-01 06:14:47,https://api.github.com/repos/textmate/textmate/git/commits/e86f40255c133d29986bd2b86eb2bc69ebc8ceb1,e86f40255c133d29986bd2b86eb2bc69ebc8ceb1,Update HTML tool tips (font and WebView cache/plug-in settings)
sorbits,2014-04-01 02:28:29,https://api.github.com/repos/textmate/textmate/git/commits/cccfd855ac07a54838a0e091bc4a5d4c2ec89b20,cccfd855ac07a54838a0e091bc4a5d4c2ec89b20,"Sanitize output from TextMate.system()

Since the API specifies an NSString we must expect valid UTF-8."
sorbits,2014-04-01 00:56:34,https://api.github.com/repos/textmate/textmate/git/commits/184c5fecb0a1cf304822a73d4c8e6cfbb575414a,184c5fecb0a1cf304822a73d4c8e6cfbb575414a,Don’t use -KU with ruby as it logs a warning with ruby 2.0
sorbits,2014-04-01 00:55:09,https://api.github.com/repos/textmate/textmate/git/commits/0daa6d0ec2821e8d02b9ddb60270668508439a87,0daa6d0ec2821e8d02b9ddb60270668508439a87,Tighter code for removing malformed UTF-8 sequences
sorbits,2014-04-01 00:48:18,https://api.github.com/repos/textmate/textmate/git/commits/cf452cdceeff0e93049c8ca75c2b799cc9b9f911,cf452cdceeff0e93049c8ca75c2b799cc9b9f911,"Increase the number of tests for sanitizing UTF-8

Also harmonize the formatting of the existing tests."
sorbits,2014-04-01 00:01:38,https://api.github.com/repos/textmate/textmate/git/commits/471fbe45c2561cdbf9661b577ffa2684f1a326e2,471fbe45c2561cdbf9661b577ffa2684f1a326e2,"Do not stack allocate potentially large buffer

Also test that each system function used actually succeeds."
sorbits,2014-04-01 07:34:22,https://api.github.com/repos/textmate/textmate/git/commits/25b3a5f4a454e2b25582584eef84967b6a734234,25b3a5f4a454e2b25582584eef84967b6a734234,"Notify VoiceOver user of find window status bar changes

We don’t have a specific element associated with the result being announced so we use the current responder (unless it has accessibility ignored, in which case we do not post any notification).

Using the current responder is not ideal, but I do not know how we can either associate the notification with the find panel or post it as a global notification."
sorbits,2014-04-01 07:22:52,https://api.github.com/repos/textmate/textmate/git/commits/5f94f460ee29148ab1c0681d392000ebb4a77754,5f94f460ee29148ab1c0681d392000ebb4a77754,Post find feedback accessibility announcements
dusek,2014-03-31 20:55:23,https://api.github.com/repos/textmate/textmate/git/commits/c3088da9a57f0cda72ae093b8e517a51b567461a,c3088da9a57f0cda72ae093b8e517a51b567461a,Add my work email as contributor address
dusek,2014-03-31 20:43:06,https://api.github.com/repos/textmate/textmate/git/commits/3c853dfa5e888c69e5d4e715a6c06017b74e22a6,3c853dfa5e888c69e5d4e715a6c06017b74e22a6,Use UI creation functions for accessibility in status bar
dusek,2014-03-31 20:12:20,https://api.github.com/repos/textmate/textmate/git/commits/f48216a0f1c0ee91c9cd476118d7eab02123ad71,f48216a0f1c0ee91c9cd476118d7eab02123ad71,Add accessibility labels to Find dialog
dusek,2014-03-31 19:43:34,https://api.github.com/repos/textmate/textmate/git/commits/896ad73ee8f54e091d4c9cdfdc235858f33948e8,896ad73ee8f54e091d4c9cdfdc235858f33948e8,"Add ability to specify AX labels in UI functions

Accessibility labels now can be specified conveniently as a parameter
of a UI construction function."
dusek,2014-03-31 19:41:34,https://api.github.com/repos/textmate/textmate/git/commits/b80d60db575ad88931e8dae0b2494de87d7f0e8f,b80d60db575ad88931e8dae0b2494de87d7f0e8f,"Add OakSetAccessibilityLabel function

This function makes it easy to set accessibility ""labels"" for UI elements.
It is flexible - takes care of NSView vs. NSControl case, labels can be
specified directly as a string or as a user interface element."
sorbits,2014-04-01 06:32:30,https://api.github.com/repos/textmate/textmate/git/commits/617e9df2022c9ca89f234feb10ea6a9452e2df6b,617e9df2022c9ca89f234feb10ea6a9452e2df6b,Move missing accessibility API declarations to OakAppKit.h
sorbits,2014-03-31 11:04:02,https://api.github.com/repos/textmate/textmate/git/commits/9f177d39e8d4067285a9c51da3a8eecb719dbb68,9f177d39e8d4067285a9c51da3a8eecb719dbb68,Checkin release notes
sorbits,2014-03-31 11:00:09,https://api.github.com/repos/textmate/textmate/git/commits/afdebfa57633a323f0cde177358f8160ca7a7c7b,afdebfa57633a323f0cde177358f8160ca7a7c7b,"Revert ""Variables set via requiredCommands are now shell escaped""

This reverts commit 3a25a99d6d5a31cb05ec97ab98615aa0ca98cb2f."
sorbits,2014-03-31 00:29:42,https://api.github.com/repos/textmate/textmate/git/commits/69c83e56df2ce542238f1bb1f25ea618f4d2fe70,69c83e56df2ce542238f1bb1f25ea618f4d2fe70,"The ‘const’ keyword should be to the right of its type

The standard doesn’t care which side the keyword is placed on, but placing it on the right makes it easier to read types.

E.g. reading “int const* const” from right to left we get “const pointer to const integer”."
sorbits,2014-03-30 15:17:23,https://api.github.com/repos/textmate/textmate/git/commits/db13d4c1f94dfd30afcb46c067bb73b2213aa8c3,db13d4c1f94dfd30afcb46c067bb73b2213aa8c3,Use std::string::back() instead of operator[] with size()-1
sorbits,2014-03-30 14:45:31,https://api.github.com/repos/textmate/textmate/git/commits/04cd55303af21fa215503408cf580a1e7c82228d,04cd55303af21fa215503408cf580a1e7c82228d,"Ensure we have a document in tab drop action method

Some crash reports indicate that we do not have a document, although I can’t think of why such situation would arise."
sorbits,2014-03-30 07:59:49,https://api.github.com/repos/textmate/textmate/git/commits/a63edc149fd111aa7d40943903210da3725715de,a63edc149fd111aa7d40943903210da3725715de,"Set default merge policy for CoreData

This is only relevant when another process is updating the CoreData storage (while TextMate is running), i.e. not a scenario normal users should see."
sorbits,2014-03-30 07:49:43,https://api.github.com/repos/textmate/textmate/git/commits/1377e34bb5fbbff5ff50eab7c17d94804ba1e69c,1377e34bb5fbbff5ff50eab7c17d94804ba1e69c,"Fix deadlock related to aborting command with HTML output

This would happen for a command that is set to re-use previous output window (when busy). We would kill the running command and wait (in the main dispatch queue) for it to stop, but since the runner is (now) using GCD as well, and updating the “did exit” status in the main queue, we would wait forever."
sorbits,2014-03-30 04:49:10,https://api.github.com/repos/textmate/textmate/git/commits/91e806443966702824a9e3605d15c972cd9ec474,91e806443966702824a9e3605d15c972cd9ec474,Add to_s for file_status_t
sorbits,2014-03-14 15:07:45,https://api.github.com/repos/textmate/textmate/git/commits/3bc0c65c7aeff7bb03d6f43a0152d0e60a51463c,3bc0c65c7aeff7bb03d6f43a0152d0e60a51463c,"Introduce variable for where cap’n’proto is installed

Set the `capnp_prefix` variable when calling ./configure.

E.g. build and install cap’n’proto in $HOME/build:

    ./configure --disable-shared --prefix=""$HOME/build""
    make -j6 check && make install

Then configure TextMate to find it there:

    capnp_prefix=""$HOME/build"" ./configure"
sorbits,2014-03-30 02:48:07,https://api.github.com/repos/textmate/textmate/git/commits/cbfe73b13e2582717cfba1f7f0fad8580c07e303,cbfe73b13e2582717cfba1f7f0fad8580c07e303,Checkin release notes
sorbits,2014-03-29 11:37:42,https://api.github.com/repos/textmate/textmate/git/commits/1547795a9b3ef8992f9c59f4981ceef16e2a1c4d,1547795a9b3ef8992f9c59f4981ceef16e2a1c4d,Update kvdb dependency to version to 0.0.8
sorbits,2014-03-29 11:37:10,https://api.github.com/repos/textmate/textmate/git/commits/3a25a99d6d5a31cb05ec97ab98615aa0ca98cb2f,3a25a99d6d5a31cb05ec97ab98615aa0ca98cb2f,"Variables set via requiredCommands are now shell escaped

Additionally we expect that any variable the user has set is properly shell escaped. Though this is only relevant if the value contains spaces or escape characters.

Currently bundle commands has not been updated to assume that the variables are already shell escaped, so this commit can cause issues with existing bundles."
sorbits,2014-03-29 11:33:49,https://api.github.com/repos/textmate/textmate/git/commits/716b8ea8f3ac38905e013651fe6160cda60ce0a8,716b8ea8f3ac38905e013651fe6160cda60ce0a8,Add path::unescape to split a shell line into words
sorbits,2014-03-29 09:36:52,https://api.github.com/repos/textmate/textmate/git/commits/4f4fe38aec770102b190bc8b9491ecaeb302f70b,4f4fe38aec770102b190bc8b9491ecaeb302f70b,Use path::escape instead of local code
sorbits,2014-03-29 09:34:58,https://api.github.com/repos/textmate/textmate/git/commits/c73ad254cb39c0d63c77bc072b332dfbbb32083e,c73ad254cb39c0d63c77bc072b332dfbbb32083e,Add path::escape to use when passing paths to a shell interpreter
sorbits,2014-03-29 07:32:43,https://api.github.com/repos/textmate/textmate/git/commits/5b58397c416b15d4419f61175a214f370945eaaf,5b58397c416b15d4419f61175a214f370945eaaf,Remove initWithRunner: method (refactor)
sorbits,2014-03-29 07:31:32,https://api.github.com/repos/textmate/textmate/git/commits/c1dcc72c41e05e997889be560fe83550fcd3c8fc,c1dcc72c41e05e997889be560fe83550fcd3c8fc,Make htmlOutputView a public property of the HTML output window
sorbits,2014-03-29 07:28:27,https://api.github.com/repos/textmate/textmate/git/commits/b23163476fb3730e515b647a9690309eae270fcd,b23163476fb3730e515b647a9690309eae270fcd,"Add loadHTMLString: API to HTML output view

This replaces the current HTML shown without adding to the history and will preserve scroll position."
sorbits,2014-03-29 07:19:29,https://api.github.com/repos/textmate/textmate/git/commits/a404daecce98ef3e6af6f89a31573508161eeefe,a404daecce98ef3e6af6f89a31573508161eeefe,"Use io::exec() instead of system()

The motivation for this change is that we may enable MallocDebug when running tests, which is done via environment variables that we do not want to be passed on to the shell tools we execute."
sorbits,2014-03-29 03:09:07,https://api.github.com/repos/textmate/textmate/git/commits/589e62b1a71ada5debb213a99425fced230fa1b4,589e62b1a71ada5debb213a99425fced230fa1b4,"File descriptors without FD_CLOEXEC are closed before we execve()

No file descriptors (other than input/output) should be inherited by our child process. We set FD_CLOEXEC ourself, but system frameworks might not always set it, or there might be a race condition (e.g. with socket(), pipe(), mkstemp(), etc.)."
sorbits,2014-03-29 02:53:33,https://api.github.com/repos/textmate/textmate/git/commits/7a66926231c16f4c4af79743ed7f4814b87d289f,7a66926231c16f4c4af79743ed7f4814b87d289f,Let command::runner_t use io::create_pipe
sorbits,2014-03-29 02:49:29,https://api.github.com/repos/textmate/textmate/git/commits/c3120c15aa98d68b355f0a3dae707b2f5a63092f,c3120c15aa98d68b355f0a3dae707b2f5a63092f,"Set FD_CLOEXEC immediately after calling mkstemp()

There is still a race condition but it’s a little better than before."
sorbits,2014-03-29 02:36:39,https://api.github.com/repos/textmate/textmate/git/commits/fe59a5575071594685fe2717d373bab7eacb9f8a,fe59a5575071594685fe2717d373bab7eacb9f8a,"Do not abort() if we fail to create a pipe

Failure to create a pipe does happen “in the wild” (with the error “too many open files”). Since majority of subprocess executions relate to gathering version control info we can probably ignore the failure, as not having version control info is better than crashing.

OTOH that pipe() fails does seem to be a symptom of a more serious issue.

The io::spawn implementation has also been updated to use io::create_pipe which sets FD_CLOEXEC, so there should be no reason to set this."
sorbits,2014-03-29 02:02:50,https://api.github.com/repos/textmate/textmate/git/commits/7f7613fe62de46a691501bbc844092a94e484f28,7f7613fe62de46a691501bbc844092a94e484f28,"Change io::create_pipe API

We now return a tuple and always set FD_CLOEXEC."
sorbits,2014-03-28 16:48:43,https://api.github.com/repos/textmate/textmate/git/commits/dac27f75876f6fff8fa8d52e7ecaf03506e40904,dac27f75876f6fff8fa8d52e7ecaf03506e40904,"Use constants for input, output, and error file descriptors"
sorbits,2014-03-28 14:11:02,https://api.github.com/repos/textmate/textmate/git/commits/e68290aaece24d2f55088d347b489113c6761fec,e68290aaece24d2f55088d347b489113c6761fec,Convert CxxTest test to custom test framework
sorbits,2014-03-28 13:33:01,https://api.github.com/repos/textmate/textmate/git/commits/d985a83845d3237353ee86df78239c4be64a5e8e,d985a83845d3237353ee86df78239c4be64a5e8e,"Use runner_t::wait_for_command instead of runner_t::wait(true)

The latter API has been removed."
sorbits,2014-03-28 13:28:34,https://api.github.com/repos/textmate/textmate/git/commits/ffd034453abb84215da1f8ea29c4351455b28ae7,ffd034453abb84215da1f8ea29c4351455b28ae7,Extend command::runner_t API
sorbits,2014-03-28 12:30:20,https://api.github.com/repos/textmate/textmate/git/commits/f64d34903334eb7c5df9d11ce3f50f1d6d743feb,f64d34903334eb7c5df9d11ce3f50f1d6d743feb,"Set file type to ‘text.hg-commit’ for ‘hg-editor-*.txt’

Since Mercurial is not using a unique “path suffix” we need to handle this via the default properties (instead of in the grammar’s file type extension array)."
sorbits,2014-03-28 12:18:30,https://api.github.com/repos/textmate/textmate/git/commits/74d6cc47da799fbe4fc80c87c39c93b849efe9d7,74d6cc47da799fbe4fc80c87c39c93b849efe9d7,"Use htmlOutputView.runningCommand instead of command::runner_t

The latter is updated via a dispatch queue and thus might be delayed (to after end of current event loop cycle). This is relevant when WebView itself terminates the URL loading and calls the “WebView should close” delegate method.

Here the HTML output view property has been updated (via the WebView delegate method) but the command runner has not yet executed the completion code (which updates it’s “is running” state)."
sorbits,2014-03-28 11:34:20,https://api.github.com/repos/textmate/textmate/git/commits/5a8967e88edba78d9d3d7a89904a31b7d2dc7bab,5a8967e88edba78d9d3d7a89904a31b7d2dc7bab,"Implement delegate method for WebView load failures

This can happen if the WebView itself terminates the load, for example if window.close() is called from JavaScript."
sorbits,2014-03-28 08:12:58,https://api.github.com/repos/textmate/textmate/git/commits/c9400e036db68d9eda53a52d5838700bd659a946,c9400e036db68d9eda53a52d5838700bd659a946,Use std::string for memory management
sorbits,2014-03-28 08:04:35,https://api.github.com/repos/textmate/textmate/git/commits/935da75a4388457244295264725f4e33f918125b,935da75a4388457244295264725f4e33f918125b,Use new path::temp API to set initial content
sorbits,2014-03-28 07:52:07,https://api.github.com/repos/textmate/textmate/git/commits/5881b8677586ff058aad56c8bf818325eca3d80f,5881b8677586ff058aad56c8bf818325eca3d80f,Support initial content when creating temporary files
sorbits,2014-03-28 07:39:31,https://api.github.com/repos/textmate/textmate/git/commits/1fbf878a4dc22613ae3ec0d8255df674634de774,1fbf878a4dc22613ae3ec0d8255df674634de774,Refactor/simplify command runner
sorbits,2014-03-28 05:56:29,https://api.github.com/repos/textmate/textmate/git/commits/5f69ef31c7c69f04d6319430ebdce55712d0cadd,5f69ef31c7c69f04d6319430ebdce55712d0cadd,Don’t use NS prefix for custom functions
sorbits,2014-03-28 04:07:01,https://api.github.com/repos/textmate/textmate/git/commits/619a2cfec7997e60e234b4ea927ee69641a16ece,619a2cfec7997e60e234b4ea927ee69641a16ece,Change a few instances of floorf/fabsf → floor/fabs
sorbits,2014-03-28 02:29:05,https://api.github.com/repos/textmate/textmate/git/commits/6d6210e4901799e3dd9049033545b8a38e0ad38c,6d6210e4901799e3dd9049033545b8a38e0ad38c,Use ‘assign’ instead of ‘weak’ when building for 10.7
sorbits,2014-03-27 15:22:01,https://api.github.com/repos/textmate/textmate/git/commits/ccac862602624889566dbf9dab4212ad12853427,ccac862602624889566dbf9dab4212ad12853427,Remove process_t
sorbits,2014-03-27 15:21:30,https://api.github.com/repos/textmate/textmate/git/commits/45b297a1509153584af758a20fb73ede0fcc137f,45b297a1509153584af758a20fb73ede0fcc137f,Use custom code instead of process_t
sorbits,2014-03-27 13:42:06,https://api.github.com/repos/textmate/textmate/git/commits/1e2f10ed46c1728cc48d519726ac78096074be2c,1e2f10ed46c1728cc48d519726ac78096074be2c,Use dispatch queue instead of a thread for reading command output
sorbits,2014-03-27 13:39:26,https://api.github.com/repos/textmate/textmate/git/commits/9d218ea8464e50cdac60523a6471029e57f7bc48,9d218ea8464e50cdac60523a6471029e57f7bc48,We use camelCase for parameter names
sorbits,2014-03-27 07:03:49,https://api.github.com/repos/textmate/textmate/git/commits/63d431b5edb76dc0f0d222ad0a2a43319df63e04,63d431b5edb76dc0f0d222ad0a2a43319df63e04,Simplify parsing of multiple choice keys (tmCommand)
sorbits,2014-03-27 06:54:21,https://api.github.com/repos/textmate/textmate/git/commits/4313571fc9b05d3bb0ebd38457cc6e791de40631,4313571fc9b05d3bb0ebd38457cc6e791de40631,"Parse ‘autoRefresh’ key from tmCommand files

This can be set to ‘onDocumentChange’ to indicate that the command should be re-run when the document changes, though the code hasn’t yet been written to handle this."
sorbits,2014-03-27 06:48:01,https://api.github.com/repos/textmate/textmate/git/commits/c758c9296f874118d9894dd23f6cbe61dabd7349,c758c9296f874118d9894dd23f6cbe61dabd7349,"Remove unnecessary check in menu item validation

Since the HTML output window responds to toggleHTMLOutput: we would never be called when that window is key."
sorbits,2014-03-27 06:44:16,https://api.github.com/repos/textmate/textmate/git/commits/080dd3da18ebfbd4f148194e1684520b63a532a2,080dd3da18ebfbd4f148194e1684520b63a532a2,"Add showWindow:/close methods for HTML output window controller

These must be used for proper management of the “retainedSelf” property."
sorbits,2014-03-27 00:47:35,https://api.github.com/repos/textmate/textmate/git/commits/33178679c79b75a455c3c4b12c4678562085a02e,33178679c79b75a455c3c4b12c4678562085a02e,"Scroll to caret failed if mouse button was pressed

We want to disable “make selection visible” when the user is drag-selecting, though the previous check was too broad and would disable it if user opened a document via double click (e.g. a find in folder result)."
sorbits,2014-03-26 12:01:17,https://api.github.com/repos/textmate/textmate/git/commits/a6654f56c91cf57549a525a0d7b842b57779d6d3,a6654f56c91cf57549a525a0d7b842b57779d6d3,"Using cut/copy will always update the system pasteboard

Previously we only updated the system pasteboard if it was different, but some users copy rich text from one application, paste it in TextMate and then copy it (in TextMate) with the expectation that the rich styles are stripped."
sorbits,2014-03-26 11:51:53,https://api.github.com/repos/textmate/textmate/git/commits/7e02902ab0b162c23ad2287bc9c882a060a50149,7e02902ab0b162c23ad2287bc9c882a060a50149,Remove retain cycle from pasteboard history window
sorbits,2014-03-26 08:27:55,https://api.github.com/repos/textmate/textmate/git/commits/b9fafd1495d5e5919b92a4d219beb3c78b09538e,b9fafd1495d5e5919b92a4d219beb3c78b09538e,"Use local undo manager for file browser

This ensures that ⌘Z / ⇧⌘Z are only targeting the file browser when it has focus.

Previously these keys would act on the file browser undo stack when a view without it’s own undo/redo stack had focus, e.g. HTML output view."
sorbits,2014-03-26 08:06:52,https://api.github.com/repos/textmate/textmate/git/commits/764a8407e9310b3e4ce2a5018685f31eb6022f81,764a8407e9310b3e4ce2a5018685f31eb6022f81,Use undo manager’s menu item titles in file browser action menu
sorbits,2014-03-26 07:59:59,https://api.github.com/repos/textmate/textmate/git/commits/6535546c87d3b57cf9904d4f814d099000315838,6535546c87d3b57cf9904d4f814d099000315838,Use view’s undo manager rather than the window’s
sorbits,2014-03-26 06:53:55,https://api.github.com/repos/textmate/textmate/git/commits/1a20f3a42df6e0d6d006fcdc0629929fa8eb13d8,1a20f3a42df6e0d6d006fcdc0629929fa8eb13d8,Set accessibility description when creating action buttons
sorbits,2014-03-26 06:49:48,https://api.github.com/repos/textmate/textmate/git/commits/a004fe685dd02367720ce216b2e30e6758937f4c,a004fe685dd02367720ce216b2e30e6758937f4c,Only set raised background style for borderless action buttons
sorbits,2014-03-26 06:39:55,https://api.github.com/repos/textmate/textmate/git/commits/9f9cb2360917e173a573a9f0e8125c43c7842d7b,9f9cb2360917e173a573a9f0e8125c43c7842d7b,"Improve alignment of glob text field in find window

The combo box’s top border should now align with the pop-up buttons on the same line, though it’s not baseline aligned."
sorbits,2014-03-26 06:16:56,https://api.github.com/repos/textmate/textmate/git/commits/9ae26306071d42c294090bff785a34d9d99d21fe,9ae26306071d42c294090bff785a34d9d99d21fe,Delete unused code
sorbits,2014-03-26 05:59:40,https://api.github.com/repos/textmate/textmate/git/commits/ec491a4e19e16a7824888756d3584c55de598ed2,ec491a4e19e16a7824888756d3584c55de598ed2,"Exclude divider images from accessibility

Since it is the cell that is providing the accessibility attributes the simplest way I could think of to have it ignored was to remove NSImageView’s support for the NSAccessibilityChildrenAttribute.

I tried using accessibilitySetOverrideValue:forAttribute: but it did not work for me, so a subclass was required."
sorbits,2014-03-25 16:02:45,https://api.github.com/repos/textmate/textmate/git/commits/2cc71e57f9852905764a496e488a10acf67da84b,2cc71e57f9852905764a496e488a10acf67da84b,"Limit clipboard history display string to ~1024 code points

This should fix performance issues (during scroll)."
rdwampler,2014-03-25 20:05:55,https://api.github.com/repos/textmate/textmate/git/commits/f45cb07d52dfbd47ba52cd6c85e4130f1996f51c,f45cb07d52dfbd47ba52cd6c85e4130f1996f51c,"Moved OakCreateActionPopUpButton method to OakUIConstructionFunctions.h

While code reuse is an added benefit, the main motivation was to fix the appearance of the action popup button in the Find window. The first (placeholder) item in the Find window's action button was assigned a nop action so that when the button was clicked and it's menu validated, the ""action"" image would always appear as disabled."
sorbits,2014-03-25 13:31:33,https://api.github.com/repos/textmate/textmate/git/commits/19ecfbd2747ca2c0019ee115ba4086ad2da6f3ac,19ecfbd2747ca2c0019ee115ba4086ad2da6f3ac,"Always center selection when using Go to Line dialog

Closes #987."
sorbits,2014-03-25 13:29:40,https://api.github.com/repos/textmate/textmate/git/commits/247e866760f28cc7989b8a58f60573e295cb388a,247e866760f28cc7989b8a58f60573e295cb388a,"Going to symbol or bookmark will now center selection

Previously it would just make sure the selection was visible, so if the symbol was already visible, no scrolling/centering would take place.

For most actions we want to minimize scrolling since it makes it easier to keep track of the location in the document, but for the “Go to …” actions, we’re doing an absolute positioning rather than a relative jump, so it makes sense to always center.

For bookmarks, it’s only when choosing a specific bookmark from the Navigation menu that we center selection, not when using the next/previous bookmark actions."
sorbits,2014-03-25 09:43:49,https://api.github.com/repos/textmate/textmate/git/commits/a052c81cfa98c6b2b239144e03ea3a422196c080,a052c81cfa98c6b2b239144e03ea3a422196c080,Improve crash reporting for C++ exceptions from keyDown:
sorbits,2014-03-25 05:41:03,https://api.github.com/repos/textmate/textmate/git/commits/1f6863180e652165cba529dd14954664db8f9670,1f6863180e652165cba529dd14954664db8f9670,Checkin release notes
sorbits,2014-03-25 05:40:10,https://api.github.com/repos/textmate/textmate/git/commits/003d32832eb516e75aef4a81d81151d797688442,003d32832eb516e75aef4a81d81151d797688442,Suppress “unused variable” warning from code generated by ragel
sorbits,2014-03-25 04:54:27,https://api.github.com/repos/textmate/textmate/git/commits/cefb8cb2db76ba411838a3cb84e1c8efc2ac208c,cefb8cb2db76ba411838a3cb84e1c8efc2ac208c,Simplify sub-word movement tests
sorbits,2014-03-25 04:49:13,https://api.github.com/repos/textmate/textmate/git/commits/527668683ccc03e8ba2f82934924bc80a4146848,527668683ccc03e8ba2f82934924bc80a4146848,Include numbers as a group for sub-word movement
sorbits,2014-03-24 16:36:17,https://api.github.com/repos/textmate/textmate/git/commits/73453e5152a5d45fd146e7548f0cddefb5a4a2e7,73453e5152a5d45fd146e7548f0cddefb5a4a2e7,"Do not restore project state for projects with no documents

The state being restored here would be file browser state, which might confuse the user if they are opening a folder via “mate” and then get a file browser restored for that project folder that show another location than the actual folder they open.

The reason we ignore the state when loading, rather than not saving it in the first place, is that by saving the state we make the folder show up in File → Open Favorites…"
sorbits,2014-03-24 08:46:02,https://api.github.com/repos/textmate/textmate/git/commits/69504292e51913dd8ec8fd14e6893322e36af88f,69504292e51913dd8ec8fd14e6893322e36af88f,"Better job of moving caret/preserving selection for “toggle case”

Previously we would set a mark, mutate the buffer, and then restore selection based on how the mark was moved.

When a mutation was changing the buffer to its existing value (e.g. toggling case of a space character) then the buffer would effectively ignore the mutation, and the mark would not be properly updated, meaning for “toggle case of character” the caret would not be moved forward.

Additionally we previously always moved to the end of a mutation, even if it was done on a user selection. We now only move to the end if the user didn’t select anything (but ran the mutation on an implicitly selected unit, like a word). The “toggle case of word” action is affected by this."
sorbits,2014-03-24 08:40:19,https://api.github.com/repos/textmate/textmate/git/commits/15025edbcc17827a30db3e0bb055545f5af34369,15025edbcc17827a30db3e0bb055545f5af34369,Set “color” to true if range is untouched by ‘extend_if_empty’
sorbits,2014-03-24 08:36:32,https://api.github.com/repos/textmate/textmate/git/commits/62645601f5122d40d1ef7f6e4aae9f852c626b5d,62645601f5122d40d1ef7f6e4aae9f852c626b5d,"Introduce range_t::color field for somewhat arbitrary use

Also do a better job of preserving the “unanchored” property of a range."
sorbits,2014-03-24 01:15:53,https://api.github.com/repos/textmate/textmate/git/commits/90d1fd432dbb555d2f55ac8174d54ba7b1929ac4,90d1fd432dbb555d2f55ac8174d54ba7b1929ac4,Non-local drags from TextMate now include NSDragOperationGeneric
sorbits,2014-03-23 15:44:14,https://api.github.com/repos/textmate/textmate/git/commits/1a955798444f95d52856037d6bf1a7b0ae0d7804,1a955798444f95d52856037d6bf1a7b0ae0d7804,"Rework OakFileIconImage

We no longer let the image representation point back to the image, since the image might be copied."
sorbits,2014-03-23 03:18:17,https://api.github.com/repos/textmate/textmate/git/commits/78cb28db9ecd58ca0e8d04a6c9ea9760c0a000fb,78cb28db9ecd58ca0e8d04a6c9ea9760c0a000fb,"Fix infinite loop in folder search for multi-byte encoded files

This would happen if a multi-byte encoded file ended with a partial code point, as we would continue to try and read more data to finish decoding."
sorbits,2014-03-22 15:08:00,https://api.github.com/repos/textmate/textmate/git/commits/291dae476ad1b9248195118ce2833a56fb8f4fac,291dae476ad1b9248195118ce2833a56fb8f4fac,"Fix format string expansion for new bundles/bundle items

Iteration was unintentionally changed (in c2397484b8e2) to iterate over const references, which would prevent the referenced types to be updated.

The reason the compiler did not complain about it is due to the catch-all template function, indirectly changing visitation from non-const to const, and providing no-op visitation functions for the const types.

For this reason, I have replaced the template (member) function with functions for all types."
sorbits,2014-03-22 12:44:47,https://api.github.com/repos/textmate/textmate/git/commits/d4faf3bef81b66842f4edeb06c1e246222a06fb8,d4faf3bef81b66842f4edeb06c1e246222a06fb8,Code indicated we were preserving selection for kChangeCaseOfWord
sorbits,2014-03-22 12:42:32,https://api.github.com/repos/textmate/textmate/git/commits/ab4e711c27e07e9a9e29a30b04a0fb6b4faefa61,ab4e711c27e07e9a9e29a30b04a0fb6b4faefa61,"Fix AF_INET6 → PF_INET6

Also remove extraneous whitespace."
sorbits,2014-03-22 12:37:14,https://api.github.com/repos/textmate/textmate/git/commits/2c20ab23b0516f173e14e4ba2f710a3b19006453,2c20ab23b0516f173e14e4ba2f710a3b19006453,"Ask for maximum queue length for pending socket connections

This is mainly because the SOMAXCONN constant looks better (in the source) than some arbitrarily chosen number. The constant is presently defined as 128 so it doesn’t seem wasteful, and presumably the queue will only take up space if we are not actually responding to socket connections."
sorbits,2014-03-17 03:07:58,https://api.github.com/repos/textmate/textmate/git/commits/54d7f4bbeb683b5dcfbb2c9c34e20551e3cfb2dd,54d7f4bbeb683b5dcfbb2c9c34e20551e3cfb2dd,Split regexp used for sub-word movement into multiple lines
sorbits,2014-03-17 02:37:22,https://api.github.com/repos/textmate/textmate/git/commits/9397335400308b9d4a9e1a4e3463f98596325dd0,9397335400308b9d4a9e1a4e3463f98596325dd0,Add tests for sub-word movement
sorbits,2014-03-16 13:44:34,https://api.github.com/repos/textmate/textmate/git/commits/d7660bd89e6b498171cbb83934ecf396c3a9d03c,d7660bd89e6b498171cbb83934ecf396c3a9d03c,Detect first loop iteration using std::exchange “idiom”
sorbits,2014-03-16 11:05:32,https://api.github.com/repos/textmate/textmate/git/commits/af0e6cc643ba66018fe11444ace89dc499d2bd37,af0e6cc643ba66018fe11444ace89dc499d2bd37,Change decltype(mapVariable)::value_type → auto (C++14)
sorbits,2014-03-16 11:04:53,https://api.github.com/repos/textmate/textmate/git/commits/f3f4efd0626ddcd2d35072f24b7153a28f312d66,f3f4efd0626ddcd2d35072f24b7153a28f312d66,Use binary literals in code (C++14)
sorbits,2014-03-16 11:04:23,https://api.github.com/repos/textmate/textmate/git/commits/77eb21f33e9648231d92e9a880f272642ce3e8f7,77eb21f33e9648231d92e9a880f272642ce3e8f7,Switch from C++11 → C++1y (C++14)
sorbits,2014-03-16 11:03:29,https://api.github.com/repos/textmate/textmate/git/commits/b4afdd818a3bf2ab405e57506e3a649775ce42a4,b4afdd818a3bf2ab405e57506e3a649775ce42a4,"Always ignore SCM info from root/home folder

Previously we would only pass the repository’s root to scm::info, and thus the check on the path passed in was enough, but today we are passing in paths for which we do not yet know the repository root, so the check should (also) be done for the path that ends up containing version control meta data.

We still do the initial check since it also rejects non-local paths, thus avoiding stat’ing paths on network file systems."
remohammadi,2014-03-15 13:22:28,https://api.github.com/repos/textmate/textmate/git/commits/54d0903c2f52c115b3676887a9f6b9a8667a2582,54d0903c2f52c115b3676887a9f6b9a8667a2582,"No representation for usual ZERO-WIDTH chars

ZWNJ is so common in Persian texts, and its unicode bi-direction class in neutral.
But the representation chunk contains latin characters and are so left-to-right.
So, when ZWNJ is replaced by the representation chunk, rtl texts are rendered incorrectly.

ZWJ and ZWSP are from the same class, but less common at least in Persian texts."
sorbits,2014-03-14 15:44:22,https://api.github.com/repos/textmate/textmate/git/commits/8ecf92e893d08031882b72009425d49941c8cdd9,8ecf92e893d08031882b72009425d49941c8cdd9,"Disambiguate display names for SCM data source

For example if multiple files with same base name are modified or untracked, then previously it wasn’t possible to tell them apart (other than using the tool tip which show full path)."
sorbits,2014-03-14 15:42:42,https://api.github.com/repos/textmate/textmate/git/commits/7131e82102ebf9f8d1c2827bf1d94bf5c18de225,7131e82102ebf9f8d1c2827bf1d94bf5c18de225,"Set cell value to display name when editing a file URL

This is incase the item’s display name is different than the file’s display name, for example if the display name contains part of the path’s parent (to disambiguate it)."
sorbits,2014-03-14 15:19:45,https://api.github.com/repos/textmate/textmate/git/commits/f36a0af13d2c868155f5938ee5548f303e8c93b1,f36a0af13d2c868155f5938ee5548f303e8c93b1,Change FSItem’s name → displayName
sorbits,2014-03-14 15:13:33,https://api.github.com/repos/textmate/textmate/git/commits/66d1e9cad765751bb2c2a1dee1c4d87020643897,66d1e9cad765751bb2c2a1dee1c4d87020643897,Remove (internal) “sort by type” file browser option
sorbits,2014-03-14 09:08:56,https://api.github.com/repos/textmate/textmate/git/commits/175e4cf183112bc2e584316998033b5977db9230,175e4cf183112bc2e584316998033b5977db9230,"Let ‘tab’ in pasteboard history move to next key view

Similarly shift-tab moves to previous key view."
sorbits,2014-03-13 13:46:46,https://api.github.com/repos/textmate/textmate/git/commits/fe1134c6c1cda040aec7d5085bbacd23873dc953,fe1134c6c1cda040aec7d5085bbacd23873dc953,Full implementation of ‘labels’ property
sorbits,2014-03-13 13:35:00,https://api.github.com/repos/textmate/textmate/git/commits/9a9614e264cd1e88818ebab0664085b4fbcb408e,9a9614e264cd1e88818ebab0664085b4fbcb408e,Workaround for “format string is not a string literal” warning
sorbits,2014-03-13 13:31:29,https://api.github.com/repos/textmate/textmate/git/commits/cf8f796053c1432fd4709a1c3469194da8b5b298,cf8f796053c1432fd4709a1c3469194da8b5b298,"Do not use va_start macro with variable reference

This is undefined according to the standard and is a warning with clang-503.0.38."
sorbits,2014-03-13 13:24:23,https://api.github.com/repos/textmate/textmate/git/commits/45867e7e0abc366aa05ed5e107384e0385d2503d,45867e7e0abc366aa05ed5e107384e0385d2503d,Do not return void from constructor (error with clang-503.0.38)
sorbits,2014-03-13 09:10:15,https://api.github.com/repos/textmate/textmate/git/commits/eea07b93a7e8f96f26a69662f23323959608998d,eea07b93a7e8f96f26a69662f23323959608998d,"Move “Open Target” out of the Avian bundle

Instead it’s in the OakDebug bundle. This command is only useful for people working on the TextMate source (in TextMate)."
sorbits,2014-03-13 08:17:01,https://api.github.com/repos/textmate/textmate/git/commits/b57463bd0c75669ea820056e81f997643277187d,b57463bd0c75669ea820056e81f997643277187d,"Add attr.bundle-editor.* scope to bundle editor

This allows us to limit or override things just for the bundle editor."
sorbits,2014-03-13 05:29:14,https://api.github.com/repos/textmate/textmate/git/commits/3646f0630ddad91788f9a4036e0a2cc63bafc3bb,3646f0630ddad91788f9a4036e0a2cc63bafc3bb,"Add test for thai script

This isn’t causing an issue, though at a higher level we wish to split the combined characters when using backward delete."
sorbits,2014-03-13 02:30:45,https://api.github.com/repos/textmate/textmate/git/commits/20dd3f0126b28db4d6417773cc2c0709c6121f97,20dd3f0126b28db4d6417773cc2c0709c6121f97,"Use ‘assign’ instead of ‘weak’ when building for 10.7

On Mac OS X 10.7 we cannot use weak references to (amongst others) NSImage objects. In this case, there shouldn’t be a problem with using assign."
sorbits,2014-03-12 14:26:38,https://api.github.com/repos/textmate/textmate/git/commits/159edd8aaddff47a8a02d8e658d14124ec3b7a85,159edd8aaddff47a8a02d8e658d14124ec3b7a85,Use bindings instead of notifications for chooser filter string
sorbits,2014-03-12 14:16:47,https://api.github.com/repos/textmate/textmate/git/commits/5aea3fb50a600edfb6320f1a3bd669b81dee63bf,5aea3fb50a600edfb6320f1a3bd669b81dee63bf,"Do not use ‘autorecalculatesKeyViewLoop’ for chooser windows

Instead we manually call recalculatesKeyViewLoop on the window. This is because the auto-recalculation messes up. First time the window is brought up, it works fine, but the second time, nextValidKeyView will return ‘nil’ for the last view (causing the key view loop to not be a loop)."
sorbits,2014-03-12 08:50:12,https://api.github.com/repos/textmate/textmate/git/commits/67e8c23b3bcd35ea4db37a2e6ab96c5e1f269bcc,67e8c23b3bcd35ea4db37a2e6ab96c5e1f269bcc,Checkin release notes
sorbits,2014-03-12 08:26:55,https://api.github.com/repos/textmate/textmate/git/commits/a89ca5c930559fc079510ed6d8d489866e70fbd0,a89ca5c930559fc079510ed6d8d489866e70fbd0,"Ensure scope bar has one button selected

It was possible to press the already selected button to deselect it. Now we reselect it, when that happens."
sorbits,2014-03-12 07:42:52,https://api.github.com/repos/textmate/textmate/git/commits/383fd44203d29e2d3f4ad959d78c8e86024e4eee,383fd44203d29e2d3f4ad959d78c8e86024e4eee,Only draw table view as key when linked search field has focus
sorbits,2014-03-12 06:56:00,https://api.github.com/repos/textmate/textmate/git/commits/5073b2bf06b29830c773b88d9ad83c5dd4844f9e,5073b2bf06b29830c773b88d9ad83c5dd4844f9e,Remove unused code
sorbits,2014-03-10 16:11:52,https://api.github.com/repos/textmate/textmate/git/commits/de99c053dbc08a251a7d8ee5f37357b22567f04a,de99c053dbc08a251a7d8ee5f37357b22567f04a,"Do not call unimplemented method on super

This was broken by commit 5edd3479badb."
sorbits,2014-03-10 15:43:33,https://api.github.com/repos/textmate/textmate/git/commits/94b1f9aa6c207ad27229eb9391d91c9323e6b4e3,94b1f9aa6c207ad27229eb9391d91c9323e6b4e3,"Add titles to HTML used in about window

With voice over enabled the titles will be read aloud, so it makes sense to set them to something sensible."
sorbits,2014-03-10 09:44:02,https://api.github.com/repos/textmate/textmate/git/commits/11833676943f37191eb9e67828aef4743d165608,11833676943f37191eb9e67828aef4743d165608,fixup! Do “refresh” for actions which are no-op due to current state
dusek,2014-03-08 20:06:54,https://api.github.com/repos/textmate/textmate/git/commits/129cc2749d25c0b6f7f36a22f94c1108538ba0e1,129cc2749d25c0b6f7f36a22f94c1108538ba0e1,"Workaround for accessibility of OakChooser's search field

Currently for VoiceOver user when the text cursor is at the end of the search
field (which is 99% of the time) and the user wants to navigate the results
in the table view using arrow down, then after each arrow down, VoiceOver first
plays a ""end-of-text"" sound, then announces whole contents of the search field,
and only then announces the newly selected search result. (The same happens
when text cursor is at the beginning of the search field and user presses
arrow up.)

This is probably a bug in the way AppKit handles text field accessibility - see
http://lists.apple.com/archives/accessibility-dev/2014/Feb/msg00019.html

I also reported this as <rdar://problem/16271507>

I hereby present a hacky workaround for this - a subclass of NSSearchField
that tricks accessibility into thinking there is one extra space before and
after the text in the search field. Therefore VoiceOver will not think the user
is at the end of text when they actually are, and therefore will not play the
""end-of-text"" sound and announce whole contents of the search field before
getting to the information user wants (the newly selected search result).

While this is a bit hacky, along with the previous commit it allows VoiceOver
to have the same instant great experience as a sighted user when filtering
and browsing results in OakChooser. So I think it's worth the hackiness until
there is a better alternative.

There is only last issue, as currently VoiceOver is very chatty when the
OakChooser window appears: first says ""Go to file"", if user interrupts it with
an action (i.e. moving VO cursor or typing a character), then VoiceOver starts
telling the whole title of the window, and only after user interrupts it again
does VoiceOver say or announce only the user actions (including search results
table selection change).

So the simpliest if the user wants to start navigating the table items
immediately after showing the OakChooser's window (i.e. without entering
a search term) is to, after showing the OakChooser (e.g. with ⌘T or ⇧⌘T),
quickly type any letter and immediately delete it with backspace and then
use arrow down/up."
dusek,2014-03-08 19:05:18,https://api.github.com/repos/textmate/textmate/git/commits/36b1ec4fa0da83f2a5e2a3f6ca8706e5788ce532,36b1ec4fa0da83f2a5e2a3f6ca8706e5788ce532,"Announce current OakChooser item to accessibility

This solves accessibility of situation of a user browsing results in
OakChooser (currently File Chooser and Symbol Chooser). Typically
the user is in search field and after typing the search string
wants to use arrow down and up to browse results.

The problem this presented to accessibility was that VoiceOver reads
only changes of selection in the current VoiceOver item. As the user
is on the search field but the selection changes in the results table
below, VoiceOver did not read the various search results when pressing
arrow up/down.

Alternative was to leave the search field, move to the results table,
interact with it and then navigate it with VoiceOver. This is however
not the desired user experience comparable to that of sighted users,
as the VoiceOver user still has to do quite a few steps after entering
the search string to browse the results, not to speak about the situation
when the user would like to change the search string - he/she would need
to leave the table and get back to the search field.

This solves the problem by making the search field (or more generally
any user interface element that triggers change of selection in the
results table, which should be the element the VoiceOver cursor is on)
announce to accessibility the contents of the selected row in search
results table.

See this thread on accessibility-dev mailing list where the options for
implementing such a user interface in an accessible way are discussed:

http://lists.apple.com/archives/accessibility-dev/2013/Dec/msg00000.html
and
http://lists.apple.com/archives/accessibility-dev/2014/Feb/msg00016.html

If the user did not move selection (it is on the first line) and they
want to hear it, they should use arrow up to hear it. Then they can
use arrow down to move through results."
sorbits,2014-03-10 04:55:23,https://api.github.com/repos/textmate/textmate/git/commits/e7e1aed59cbe7b83e8a82cca1d3f50b0d918d41c,e7e1aed59cbe7b83e8a82cca1d3f50b0d918d41c,"Inserting “after input” is always lower/right corner for columns

For example selecting a column of numbers and selecting “Add Numbers in Selection” will now always insert the result at a logical position rather than on the defined end points of the selection."
sorbits,2014-03-10 03:33:09,https://api.github.com/repos/textmate/textmate/git/commits/cc446d98e5a0387ee8afb7424d05b47f21017842,cc446d98e5a0387ee8afb7424d05b47f21017842,Don’t let HTML output window itself keep track of open windows
sorbits,2014-03-09 15:42:55,https://api.github.com/repos/textmate/textmate/git/commits/2a36fed4d853c78b7dbcaf1c34450f39237829e1,2a36fed4d853c78b7dbcaf1c34450f39237829e1,Handle output window re-use options for commands
sorbits,2014-03-09 13:23:34,https://api.github.com/repos/textmate/textmate/git/commits/e318ee0519b45efc662733bb70e1220a5caf9539,e318ee0519b45efc662733bb70e1220a5caf9539,Refactor: Collecting output windows moved to own method
sorbits,2014-03-09 01:47:06,https://api.github.com/repos/textmate/textmate/git/commits/19d03df1fb031ebdd736e98c3d864f7e1df7632d,19d03df1fb031ebdd736e98c3d864f7e1df7632d,"Add bundle item setting for how to re-use output windows

This presently does not have any effect."
sorbits,2014-03-09 10:11:07,https://api.github.com/repos/textmate/textmate/git/commits/3786e0e823e5a46f91cd95ef4fd2af673f5b0ada,3786e0e823e5a46f91cd95ef4fd2af673f5b0ada,"Do “refresh” for actions which are no-op due to current state

For example when caret is at the beginning of the document, using “move left” would be a no-op and would cause “refresh” to be skipped, which meant if the caret was outside the visible area, no scroll would happen (to make it visible)."
sorbits,2014-03-09 09:26:56,https://api.github.com/repos/textmate/textmate/git/commits/16c09c2a92dc0b7d5dfcbd178df307e3ab095955,16c09c2a92dc0b7d5dfcbd178df307e3ab095955,Update API to reflect that setting command runner can’t fail
sorbits,2014-03-09 09:19:55,https://api.github.com/repos/textmate/textmate/git/commits/3e603dd2386a464dadfbfb1aa7220c5215f891b1,3e603dd2386a464dadfbfb1aa7220c5215f891b1,"Show alert sheet when closing window with a running command

This only applies to commands being run embedded in the document window."
sorbits,2014-03-09 02:55:56,https://api.github.com/repos/textmate/textmate/git/commits/69453cd1fc1e307d75be4d3f0040735691488dd4,69453cd1fc1e307d75be4d3f0040735691488dd4,"Do not re-use busy HTML output views/windows

Additionally, we only re-use a window when the command is the same as what was last associated with the window. So doing a documentation lookup and then building the project will not re-use the (non-busy) documentation window for the build progress.

Closes #733"
sorbits,2014-03-09 01:43:02,https://api.github.com/repos/textmate/textmate/git/commits/ee405e740f71d59038de5173cf6400963b33c0ba,ee405e740f71d59038de5173cf6400963b33c0ba,Refactor HTMLOutputWindow: Use properties and argument free init
sorbits,2014-03-08 13:55:13,https://api.github.com/repos/textmate/textmate/git/commits/aa9b2a4b0601bd4791e0835381d510d9431be7e0,aa9b2a4b0601bd4791e0835381d510d9431be7e0,Use (custom) block based API for showing sheet
sorbits,2014-03-08 06:58:26,https://api.github.com/repos/textmate/textmate/git/commits/0cb5f297def55fc81d5d876300f25142d026ed8c,0cb5f297def55fc81d5d876300f25142d026ed8c,"Add comment to explain workaround for presumed WebKit bug

Since the code was written before open sourcing TextMate, the explanation was only to be found in a private commit log."
sorbits,2014-03-08 03:20:13,https://api.github.com/repos/textmate/textmate/git/commits/2b847730fd92ead84f1f032ef321e0e1ba5fc810,2b847730fd92ead84f1f032ef321e0e1ba5fc810,"Make the preferences window restorable

This is not overly useful but the code serves as copy/paste for future endeavors into restoring non-document windows.

The feature requires that “Close windows when quitting an application” is disabled in System Preferences → General (I think that option is enabled by default, at least on 10.9)."
sorbits,2014-03-08 03:13:59,https://api.github.com/repos/textmate/textmate/git/commits/919ab40ef016c5dfab30bb66c26061266d47fa3f,919ab40ef016c5dfab30bb66c26061266d47fa3f,"Indicate that find window is not restorable

Since we are using it with an NSDocument, it defaults to use NSDocumentController as restoration class, which gives a warning during launch, if the find window was open during termination, and the conditions are so that the system wants to restore windows from last session.

Also indicate that we do not want to save drafts, unsure if this has any effect."
sorbits,2014-03-08 03:08:36,https://api.github.com/repos/textmate/textmate/git/commits/bf4e1d8ceeb9eeaffd6d032b87010849c2477021,bf4e1d8ceeb9eeaffd6d032b87010849c2477021,"Find in folder window’s title could switch to “Untitled”

This is because we are using an NSDocument to perform the folder searching (as that’s a decoupled way to have the window indicate “unsaved changes” and present a warning sheet).

The downside is that by using an NSDocument we get some undesired implicit behavior, like automatically changing the window title or trying to re-open the “document” after relaunch."
sorbits,2014-03-07 12:04:19,https://api.github.com/repos/textmate/textmate/git/commits/a4ad676c372a02de229a23e25e885ee19520473f,a4ad676c372a02de229a23e25e885ee19520473f,Add debug output to WebView delegate
sorbits,2014-03-07 11:54:56,https://api.github.com/repos/textmate/textmate/git/commits/50ab2418389a83cfbad7fe023f608cb0915555aa,50ab2418389a83cfbad7fe023f608cb0915555aa,"Open new window for HTML output links with target=""_blank""

Since switching to ARC we need to ensure the NSWindow is “over-retained” as we rely on “setReleasedWhenClosed:YES”.

Also add ability to close such windows from JavaScript."
sorbits,2014-03-07 05:34:53,https://api.github.com/repos/textmate/textmate/git/commits/09e5d8843744218b01507673ae29e44781f6ca5e,09e5d8843744218b01507673ae29e44781f6ca5e,Refactor OakHTMLOutputView
sorbits,2014-03-06 17:10:09,https://api.github.com/repos/textmate/textmate/git/commits/166bfad1404045266c7beede4a00653848853914,166bfad1404045266c7beede4a00653848853914,Fix include paths
sorbits,2014-03-06 04:15:34,https://api.github.com/repos/textmate/textmate/git/commits/c7ae7d13371047205bfad709e231ecf60bef12fb,c7ae7d13371047205bfad709e231ecf60bef12fb,"Add test for snippets with overlapping fields

See 4e1cdb4c9e372cca5e9a70f2f122c0d256a8a287 for details."
sorbits,2014-03-06 01:55:39,https://api.github.com/repos/textmate/textmate/git/commits/337dc1a221c2110fd610175773d7a1c6a2fe0a1c,337dc1a221c2110fd610175773d7a1c6a2fe0a1c,"Update sizing code for snippet pop-up menu

We now rely on the table view to obtain the entries and setup the data cell, which should make the code easier to use for other table views with a different data source implementation."
sorbits,2014-03-06 01:45:32,https://api.github.com/repos/textmate/textmate/git/commits/5e1f86a7c2b9386acccd54ebb9ca2907ff3911d7,5e1f86a7c2b9386acccd54ebb9ca2907ff3911d7,Setting disableIndentCorrections to ‘1’ was not treated as :true
sorbits,2014-03-05 17:04:32,https://api.github.com/repos/textmate/textmate/git/commits/7079071139090b8e0a931d2ace059e9f892acd49,7079071139090b8e0a931d2ace059e9f892acd49,Update Dialog plug-in (pop-up menu improvements)
sorbits,2014-03-05 13:42:07,https://api.github.com/repos/textmate/textmate/git/commits/0e16132725f31671532f407bfe262b01996d39bc,0e16132725f31671532f407bfe262b01996d39bc,"Bundle item chooser key equivalent search now sort based on scope

For example searching for items bound to ⌃H will show the fallback item in the Shell Script bundle last (as it’s not scoped). Previously items were alphabetized."
sorbits,2014-03-05 12:59:45,https://api.github.com/repos/textmate/textmate/git/commits/6ded0873a323d755e75b1bf5d50e3137bf69bd67,6ded0873a323d755e75b1bf5d50e3137bf69bd67,Remove (somewhat) redundant code
sorbits,2014-03-05 12:44:22,https://api.github.com/repos/textmate/textmate/git/commits/8e63d2729fd2da638c2efba9d8a298cb597abe00,8e63d2729fd2da638c2efba9d8a298cb597abe00,"Setting current pasteboard entry to itself lose auxiliary options

An example where this is desired is when doing a folder search for “foo”, then going to first match and using ⌘E to copy the match to the find pasteboard. This is effectively a no-op except for dropping the auxiliary options that contain other documents with matches (which is what causes ⌘G to advance to next document)."
sorbits,2014-03-05 09:38:34,https://api.github.com/repos/textmate/textmate/git/commits/c5c88843e83513aae11a13761ad4c487384083bb,c5c88843e83513aae11a13761ad4c487384083bb,"Let OakFileIconImage be lazy wrt. stat’ing and obtaining SCM info

There are situations where we create an OakFileIconImage that won’t be drawn, for example when using it with an NSMenuItem. In that case, we previously paid a somewhat noticeable price in the initializer doing work that was not required."
sorbits,2014-03-05 08:33:14,https://api.github.com/repos/textmate/textmate/git/commits/83aabbf53c235aafd5510fb55f7751d124185ab4,83aabbf53c235aafd5510fb55f7751d124185ab4,Move properties from OakFileIconImageRep to OakFileIconImage
sorbits,2014-03-05 07:28:17,https://api.github.com/repos/textmate/textmate/git/commits/1e11a30a53924e9e5b54b5e04340e854f66f961c,1e11a30a53924e9e5b54b5e04340e854f66f961c,"Remove redundant storage keywords for @property

These were required prior to the new 64 bit run-time."
sorbits,2014-03-04 16:30:30,https://api.github.com/repos/textmate/textmate/git/commits/f26145e6cc93e8e9e26b07fd6bb3f057db9a6c7e,f26145e6cc93e8e9e26b07fd6bb3f057db9a6c7e,Only print download progress when stderr is a tty
sorbits,2014-03-04 14:20:45,https://api.github.com/repos/textmate/textmate/git/commits/fb036b840c404adaf874254e94f7309be9b30034,fb036b840c404adaf874254e94f7309be9b30034,"Remove bitdeli badge

This no longer works, and GitHub offers traffic analysis under “Graphs”."
sorbits,2014-03-04 09:13:30,https://api.github.com/repos/textmate/textmate/git/commits/7f11230655c8f7be44cbed98aaa7115eeb09c285,7f11230655c8f7be44cbed98aaa7115eeb09c285,Checkin release notes
sorbits,2014-03-04 09:03:05,https://api.github.com/repos/textmate/textmate/git/commits/3d4d75c54313476ab1a4b9510db014e9553a9a3e,3d4d75c54313476ab1a4b9510db014e9553a9a3e,Update about window text
sorbits,2014-03-04 03:40:05,https://api.github.com/repos/textmate/textmate/git/commits/947b35295227b30833b32bc8aa79317e7d2c5170,947b35295227b30833b32bc8aa79317e7d2c5170,Set pasteboard history search field to fire immediately
sorbits,2014-03-04 03:24:05,https://api.github.com/repos/textmate/textmate/git/commits/a6f6185123140f7c59c6fcab0b7d74d4581a2e1f,a6f6185123140f7c59c6fcab0b7d74d4581a2e1f,Add NSError info to crash report
sorbits,2014-03-04 03:19:12,https://api.github.com/repos/textmate/textmate/git/commits/c38a1a64af2accd44228d722cbb07a3fdaa4ecde,c38a1a64af2accd44228d722cbb07a3fdaa4ecde,Add to_s overload for NSError
sorbits,2014-03-04 01:57:56,https://api.github.com/repos/textmate/textmate/git/commits/f5ba564c41749b83e252b15e57d60082cbaa1d9a,f5ba564c41749b83e252b15e57d60082cbaa1d9a,Update copyright to 2014
sorbits,2014-03-04 01:57:28,https://api.github.com/repos/textmate/textmate/git/commits/2b28f5a16576b01ded81e0cbb23063143bcd3bdb,2b28f5a16576b01ded81e0cbb23063143bcd3bdb,"Use NSHumanReadableCopyright in about window

This avoids having the copyright (which includes the current year) in multiple places."
sorbits,2014-03-03 06:48:12,https://api.github.com/repos/textmate/textmate/git/commits/1840f5b7fa479ed1852d3a6de7d66be6ecc1705e,1840f5b7fa479ed1852d3a6de7d66be6ecc1705e,"Improve utf8::find_safe_end implementation

Previously calling the function with invalid UTF-8 could cause it to iterate over all the data and, if built in debug mode, could cause an assertion failure.

Now we return the sequence’s end when the data appears to be malformed and we never look at more than the last 6 bytes in the sequence."
sorbits,2014-03-02 17:33:57,https://api.github.com/repos/textmate/textmate/git/commits/ede827546cfdb0d3af7cfa63c3eb24becd367fd8,ede827546cfdb0d3af7cfa63c3eb24becd367fd8,Update dialog plug-in (submodules)
sorbits,2014-03-02 15:57:05,https://api.github.com/repos/textmate/textmate/git/commits/c2397484b8e208ac568babda8376ed71e3decf78,c2397484b8e208ac568babda8376ed71e3decf78,"Use C++11 for loop

Majority of the edits done using the following ruby script:

    def update_loops(src)
      dst, cnt = '', 0

      block_indent, variable = nil, nil
      src.each_line do |line|
        if block_indent
          if line =~ /^#{block_indent}([{}\t])|^\t*$/
            block_indent = nil if $1 == '}'
            line = line.gsub(%r{ ([^a-z>]) \(\*#{variable}\) | \*#{variable}\b | \b#{variable}(->) }x) do
              $1.to_s + variable + ($2 == ""->"" ? ""."" : """")
            end
          else
            block_indent = nil
          end
        elsif line =~ /^(\t*)c?iterate\((\w+), (?!diacritics::make_range)(.*\))$/
          block_indent, variable = $1, $2
          line = ""#$1for(auto const& #$2 : #$3\n""
          cnt += 1
        end
        dst << line
      end
      return dst, cnt
    end

    paths.each do |path|
      src = IO.read(path)

      cnt = 1
      while cnt != 0
        src, cnt = update_loops(src)
        STDERR << ""#{path}: #{cnt}\n""
      end

      File.open(path, ""w"") { |io| io << src }
    end"
sorbits,2014-03-02 17:09:49,https://api.github.com/repos/textmate/textmate/git/commits/1781f4a6055705a05df6d25a214deb4740c636ea,1781f4a6055705a05df6d25a214deb4740c636ea,Use proper iterate macro for temporary
sorbits,2014-03-02 14:10:15,https://api.github.com/repos/textmate/textmate/git/commits/d700447d8b7db2f019e11ec711ab72428b34d1d3,d700447d8b7db2f019e11ec711ab72428b34d1d3,Remove unused API
sorbits,2014-03-02 09:21:26,https://api.github.com/repos/textmate/textmate/git/commits/be92d71c46375b93d05846272e7f644a67278b6f,be92d71c46375b93d05846272e7f644a67278b6f,"Allow disabling indent corrections when typing on empty lines

This is generally desired when the indent of a new line does not (necessarily) depend on lines above it, but where we otherwise do want indent corrections, e.g. HTML."
sorbits,2014-03-02 06:15:23,https://api.github.com/repos/textmate/textmate/git/commits/a180c24539a3bb495416772a919cbeaa7d88379b,a180c24539a3bb495416772a919cbeaa7d88379b,"Run will/did save and activate/deactivate callbacks in sequence

Previously only the most specialized callback(s) would run. For example creating a command scoped to “source” with “callback.document.will-save” for semantic class would never run for Ruby, Python, etc. because the Source bundle has a “Make Script Executable” callback scoped specifically to “source.ruby”, “source.python”, etc."
sorbits,2014-03-02 06:13:04,https://api.github.com/repos/textmate/textmate/git/commits/4609378cdc82198c2352130b8ff6f25530474dce,4609378cdc82198c2352130b8ff6f25530474dce,Introduce bundles::kItemTypeMost constant
sorbits,2014-03-02 05:11:36,https://api.github.com/repos/textmate/textmate/git/commits/e71be609e014a99e136714606f84f6eccabe5134,e71be609e014a99e136714606f84f6eccabe5134,"Use new pasteboard history browser

Closes #481"
sorbits,2014-03-02 04:54:23,https://api.github.com/repos/textmate/textmate/git/commits/0e0a6e0252a4da0f84ac6769372bc1ea4e68537a,0e0a6e0252a4da0f84ac6769372bc1ea4e68537a,"Fallback on system pasteboard when history is empty

This is for the next/previous methods, the method that returns current already would fallback on the system pasteboard."
sorbits,2014-03-02 03:02:10,https://api.github.com/repos/textmate/textmate/git/commits/95508d9757a7f63a3388c4f454f410cd3984deab,95508d9757a7f63a3388c4f454f410cd3984deab,Add new pasteboard history browser
sorbits,2014-03-01 01:48:49,https://api.github.com/repos/textmate/textmate/git/commits/5d089803b849fbbfba62703107344f5a3c60174c,5d089803b849fbbfba62703107344f5a3c60174c,"Disable session saving if we terminate before having restored it

Previously if TextMate had expired, we would terminate, which would cause the current session state to be saved, and since it hadn’t yet been restored, we would write out empty session state (and overwrite the user’s previous session state)."
sorbits,2014-03-01 01:48:28,https://api.github.com/repos/textmate/textmate/git/commits/34d9a6770ff884931bf28451b77f389537e199fb,34d9a6770ff884931bf28451b77f389537e199fb,Add API to (temporarily) disable session saving
sorbits,2014-03-01 01:38:01,https://api.github.com/repos/textmate/textmate/git/commits/91096c12f393c7ed8caa6023ff29a15a8d17b319,91096c12f393c7ed8caa6023ff29a15a8d17b319,Ask user to skip session restore if abnormal exit is detected
sorbits,2014-02-28 12:20:21,https://api.github.com/repos/textmate/textmate/git/commits/7483829245bdee10361522524b9f17b95d1ba097,7483829245bdee10361522524b9f17b95d1ba097,OakPasteboard: Setting currentEntry now updates system clipboard
sorbits,2014-02-28 12:18:28,https://api.github.com/repos/textmate/textmate/git/commits/72f4811d0b34c8d4c7f398c7ca6c3160178396f3,72f4811d0b34c8d4c7f398c7ca6c3160178396f3,Use @property with @dynamic for ‘primitiveOptions’ property
sorbits,2014-02-28 07:33:20,https://api.github.com/repos/textmate/textmate/git/commits/c0c8a073b922bd660f6c497d0e7e50bc994d5389,c0c8a073b922bd660f6c497d0e7e50bc994d5389,Avoid property access in fetch predicate
sorbits,2014-02-28 07:06:02,https://api.github.com/repos/textmate/textmate/git/commits/79a47ee2778fa8a758d18a2dc96c7b8ec67202fd,79a47ee2778fa8a758d18a2dc96c7b8ec67202fd,"Don’t store pasteboard entries in an ordered collection

Instead we date stamp each entry and do a sorted fetch (with a limit of one) to find next/previous entry (when required).

The reason for moving away from an ordered collection is twofold, the main reason is that NSArrayController does not support ordered collections, so we lose one of the advantages of switching to CoreData. The secondary reason is that using an ordered collection requires that we use an index for “current item” (or maybe liberal use of indexOfObject:) and it’s problematic to ensure that the index is kept 100% in sync with the entries in the collection (especially with bindings and delayed actions)."
sorbits,2014-02-27 05:36:33,https://api.github.com/repos/textmate/textmate/git/commits/13e810e8be64bcb75ae6d71272cc1cf8e953f780,13e810e8be64bcb75ae6d71272cc1cf8e953f780,"Add exception handler for NSManagedObjectContext’s save: method

If an exception is thrown, a dialog is shown. This isn’t very user friendly, but the goal is to call attention to the problem, as I wouldn’t expect any exceptions to be thrown by this method, but I have seen multiple “optimistic locking failure” exceptions despite single-app / single-thread access to the persistent store."
sorbits,2014-02-27 04:41:26,https://api.github.com/repos/textmate/textmate/git/commits/c9f1cd2a846307b242f78263fac33826911dc11b,c9f1cd2a846307b242f78263fac33826911dc11b,Enable “Uncommitted Documents” in file chooser
sorbits,2014-02-27 04:30:45,https://api.github.com/repos/textmate/textmate/git/commits/2389e2c589095175a4c5d3f536c8cad9d656a87f,2389e2c589095175a4c5d3f536c8cad9d656a87f,"Recreate SCM info when re-opening file chooser

This is required for showing SCM status for “Open Files”. Previously, closing the file chooser with “Open Files” selected and re-opening it, would not have SCM info for the open files."
sorbits,2014-02-26 14:55:19,https://api.github.com/repos/textmate/textmate/git/commits/56ae96982da0d6025ac0dbeeb941a62bcd63ceb5,56ae96982da0d6025ac0dbeeb941a62bcd63ceb5,Refactor file chooser source selection
sorbits,2014-02-26 12:22:11,https://api.github.com/repos/textmate/textmate/git/commits/1a4314fce23fac9032efbe9ebe0cd47a77d5142c,1a4314fce23fac9032efbe9ebe0cd47a77d5142c,"Wrap initialize code in dispatch_once

This is only done for code where running it twice would actually cause a problem.

Dispatch_once is favored over a static boolean only because it seems to carry slightly more semantic information."
sorbits,2014-02-25 08:56:13,https://api.github.com/repos/textmate/textmate/git/commits/0663a39bcf9f887f842c44ab63b2838981ee9f02,0663a39bcf9f887f842c44ab63b2838981ee9f02,Abort copy file if target is child of source
sorbits,2014-02-25 02:23:27,https://api.github.com/repos/textmate/textmate/git/commits/6cbf04547ef176eb6ef853f80addb7ae3e8293c9,6cbf04547ef176eb6ef853f80addb7ae3e8293c9,"The mate command will only default to UUID when stdin is empty

This is a minor change of the behavior introduced in 18d9aa030, which made it default to the new --uuid mode when TM_DOCUMENT_UUID was set, and no files were given. This meant that commands (executed from TextMate) could not do something like:

    echo foo|""$TM_MATE""

Since there is no way to know if data is actively being sent to mate, we check if the length of data read is zero, and treat that as “no data was sent to mate”, but in theory a command could pipe potential empty user data to mate, which would lead to the wrong behavior. A command that may do this, should unset the TM_DOCUMENT_UUID environment variable."
sorbits,2014-02-24 07:54:46,https://api.github.com/repos/textmate/textmate/git/commits/4e1cdb4c9e372cca5e9a70f2f122c0d256a8a287,4e1cdb4c9e372cca5e9a70f2f122c0d256a8a287,"Snippets with overlapping fields could cause multiple carets

For example in ruby inserting ‘env⇥’, deleting the initially selected letter, and typing B or S, would insert an additional caret (it was actually inserted in the previous step, but not visible since it was overlapping the existing caret).

The API lack proper support for returning the new caret range so we are using a heuristic to figure out which of the returned ranges correspond to our caret. Ideally the API would be updated."
sorbits,2014-02-23 16:18:21,https://api.github.com/repos/textmate/textmate/git/commits/6c31a849b156d541d4747a75f84f9b56762581c5,6c31a849b156d541d4747a75f84f9b56762581c5,Use constants from sysexits.h for mate failure codes
sorbits,2014-02-23 14:41:16,https://api.github.com/repos/textmate/textmate/git/commits/fa16dff87059708c548242283ff36beca6eb3fda,fa16dff87059708c548242283ff36beca6eb3fda,"Do not call abort (on failure) in pretty_plist.cc

Instead we return one of the constants from sysexits.h — the problem with abort() is that, for users with the feature enabled, it will trigger a core dump. That is a bit extreme for somewhat expected problems (like empty input file)."
sorbits,2014-02-23 10:10:31,https://api.github.com/repos/textmate/textmate/git/commits/6ec2f26d2cd47e7273d2daf2b213e0367130da4e,6ec2f26d2cd47e7273d2daf2b213e0367130da4e,"Don’t access user’s contacts during launch

Instead we access it when either we need to submit a crash report, when the preferences window open (where the contact address is shown), or when creating a new bundle (where email is also used for the bundle’s contact)."
sorbits,2014-02-23 08:04:56,https://api.github.com/repos/textmate/textmate/git/commits/2d9a680f63b550018ced7b001e34ed1f5b80724a,2d9a680f63b550018ced7b001e34ed1f5b80724a,Checkin release notes
sorbits,2014-02-23 07:45:26,https://api.github.com/repos/textmate/textmate/git/commits/4c09310c14ef1fab651c7a727abb314d630fdcb1,4c09310c14ef1fab651c7a727abb314d630fdcb1,"Update Projects preferences pane, adding 3 new options"
sorbits,2014-02-23 06:36:47,https://api.github.com/repos/textmate/textmate/git/commits/faedd6729956f5a65a20b27a1ac78620a87afc7b,faedd6729956f5a65a20b27a1ac78620a87afc7b,Move some user defaults keys to Preferences/Keys.h
sorbits,2014-02-23 01:33:38,https://api.github.com/repos/textmate/textmate/git/commits/3baea707e2ec4925fb9e3b1a541ad861c69aa5e2,3baea707e2ec4925fb9e3b1a541ad861c69aa5e2,Fix typo
sorbits,2014-02-22 09:00:00,https://api.github.com/repos/textmate/textmate/git/commits/ae26988b39c6ca7a9b594833b93cc469a69fa87b,ae26988b39c6ca7a9b594833b93cc469a69fa87b,"If any folding pattern is set as a scoped setting, use it

Previously we would fallback on the grammar’s folding patterns unless ‘foldingStartMarker’ was set, which meant setting just the stop marker or indented folding patterns, would be ignored."
sorbits,2014-02-22 08:51:45,https://api.github.com/repos/textmate/textmate/git/commits/60e8af92e44e5bde06f1da7430715942d755fcbb,60e8af92e44e5bde06f1da7430715942d755fcbb,"Delay saving of pasteboard history by 30 seconds

Since we save the history during applicationWillTerminate: there is (in theory) no reason to periodically save the history, but in case of a crash or similar, we would not get to applicationWillTerminate:."
sorbits,2014-02-21 15:04:02,https://api.github.com/repos/textmate/textmate/git/commits/9fcde0791e6c1b3bf5a246f856cf9af176fad8da,9fcde0791e6c1b3bf5a246f856cf9af176fad8da,Add CoreData index to pasteboard entry content
sorbits,2014-02-21 14:36:13,https://api.github.com/repos/textmate/textmate/git/commits/8b44ab2c418130327577a95f5a34a3e0f2ef75d2,8b44ab2c418130327577a95f5a34a3e0f2ef75d2,Avoid duplicate entries on find/replace pasteboard
sorbits,2014-02-21 10:44:08,https://api.github.com/repos/textmate/textmate/git/commits/bf1f1ef4f65737c85e0d114b687e4ea1cfcfd125,bf1f1ef4f65737c85e0d114b687e4ea1cfcfd125,Checkin release notes
sorbits,2014-02-21 04:50:47,https://api.github.com/repos/textmate/textmate/git/commits/fbafcfb87e256af38a72b06d11f29228aaa066d2,fbafcfb87e256af38a72b06d11f29228aaa066d2,"Ignore links when recursively expanding file browser items

Symbolic links can point to ancestor items and cause cycles, which would cause the (recursive) expansion to newer terminate."
sorbits,2014-02-21 04:48:34,https://api.github.com/repos/textmate/textmate/git/commits/4015859bd3cedb286062a47d10827eae6f8ef347,4015859bd3cedb286062a47d10827eae6f8ef347,"Allow inline expansion of symbolic links (in file browser)

This is enabled by running: defaults write com.macromates.TextMate.preview allowExpandingLinks -bool YES"
sorbits,2014-02-20 15:40:20,https://api.github.com/repos/textmate/textmate/git/commits/8956207789d8c3cea55da5d2aed7ebbfa0698dbb,8956207789d8c3cea55da5d2aed7ebbfa0698dbb,Avoid detached objects in core data store
sorbits,2014-02-20 15:22:55,https://api.github.com/repos/textmate/textmate/git/commits/56a906a0acdb19f12b069434797df14dce73dbb3,56a906a0acdb19f12b069434797df14dce73dbb3,"Use temporary pasteboards when replaying macros

This applies to search, replace, and (unless disabled) regular pasteboard."
sorbits,2014-02-20 15:08:24,https://api.github.com/repos/textmate/textmate/git/commits/aec82de6e29b0a8a61eb7fc5e97cf4fd1e39b985,aec82de6e29b0a8a61eb7fc5e97cf4fd1e39b985,"Implement kReplace / kReplaceAndFind actions

These are used when replaying macros."
sorbits,2014-02-20 15:04:31,https://api.github.com/repos/textmate/textmate/git/commits/17dca05dba86eff3aa3e615304288e9218176aaa,17dca05dba86eff3aa3e615304288e9218176aaa,Let editor_t remember (regexp) captures from editor_t::find
sorbits,2014-02-20 13:44:28,https://api.github.com/repos/textmate/textmate/git/commits/73755bf744c7b9f7f074673e37b3ba021d7709bb,73755bf744c7b9f7f074673e37b3ba021d7709bb,Update Onigmo submodule
sorbits,2014-02-20 13:37:16,https://api.github.com/repos/textmate/textmate/git/commits/aff813203b913b6493fffb12f2cfad9d346de8a1,aff813203b913b6493fffb12f2cfad9d346de8a1,"Find macro actions now populate the search/replace pasteboard

This should be consistent with TextMate 1.x and is required for the replace actions."
sorbits,2014-02-20 10:06:01,https://api.github.com/repos/textmate/textmate/git/commits/362c18c3e0bcd427e60817655bbe3585cb6c085f,362c18c3e0bcd427e60817655bbe3585cb6c085f,"Record current replace string as part of macro find action

Previously we would only record it if the user invoked a replace action from the find dialog, but the user may invoke “find” from the dialog and then subsequently “replace” via keyboard/menu (where we would not record the string)."
sorbits,2014-02-20 06:17:11,https://api.github.com/repos/textmate/textmate/git/commits/b0bfaffc176440055c9af06db53b2f61db6c8c49,b0bfaffc176440055c9af06db53b2f61db6c8c49,Update MASPreferences submodule
sorbits,2014-02-20 06:03:26,https://api.github.com/repos/textmate/textmate/git/commits/95b834ac0aa5bfd7048c21d86ce81b10bbd3defb,95b834ac0aa5bfd7048c21d86ce81b10bbd3defb,"Grammars with no root scope are no longer shown in the UI

Only injection grammars should have an empty root scope, and if so, it does not make sense to allow the user to pick it as document grammar."
sorbits,2014-02-20 03:34:49,https://api.github.com/repos/textmate/textmate/git/commits/520084a08c2cb598d481603ab6714095435d56d2,520084a08c2cb598d481603ab6714095435d56d2,"Limit clipboard history to about 10,000 items

Once we reach the threshold we delete half the history to ensure a good amortized time complexity."
sorbits,2014-02-19 13:48:13,https://api.github.com/repos/textmate/textmate/git/commits/1f74cef1bd548ad9ef277c460d2a89217aae248d,1f74cef1bd548ad9ef277c460d2a89217aae248d,"Avoid storing ‘false’ (as value) in bundle items

Since we treat a missing key as having the value ‘false’ there is no need to write out keys set to false. This was partly motivated by improving cached data since here we store non-strings as binary property lists, and boolean values are non-strings (not that we have that many keys set to false, but it would e.g. happen if user disable an item and later enable it)."
sorbits,2014-02-19 13:11:52,https://api.github.com/repos/textmate/textmate/git/commits/be2eff9825cbef2c705534a27ecc18620779ca66,be2eff9825cbef2c705534a27ecc18620779ca66,"When replaying fs-events we would not reload changed items

When we see a changed item we drop it from the cache and mark the cache as “incomplete”, indicating that the bundle index should be rebuilt, which in turn causes all known items to be fetched, and the cache will thereby reload the updated entries.

However, when replaying fs-events, we are in a “rebuild index” state and would not re-rebuild the index incase items were dropped."
sorbits,2014-02-19 12:37:39,https://api.github.com/repos/textmate/textmate/git/commits/4f5f20947a2aca313dd3103845d8832658790a19,4f5f20947a2aca313dd3103845d8832658790a19,Ensure pending bundle index changes are saved during quit
sorbits,2014-02-19 11:01:00,https://api.github.com/repos/textmate/textmate/git/commits/162ba1649c3e809146357170688dc4d9b906fcf6,162ba1649c3e809146357170688dc4d9b906fcf6,Rename project-state.db → RecentProjects.db
sorbits,2014-02-19 08:41:18,https://api.github.com/repos/textmate/textmate/git/commits/8c9ebc46eace3ef9c17edcd208c708d8add115ba,8c9ebc46eace3ef9c17edcd208c708d8add115ba,"Ignore caret’s “desired X” in positionForWindowUnderCaret:

For example if at column 60 on a line and moving up/down to a shorter line, we remember that column 60 is our desired column position. This would previously be used when returning a position for the caret, e.g. used with clipboard history pop-ups and bundle item disambiguation menus."
sorbits,2014-02-19 08:34:07,https://api.github.com/repos/textmate/textmate/git/commits/b1ec5cf4c28c75f1499c003a9c3947e3e8be59f0,b1ec5cf4c28c75f1499c003a9c3947e3e8be59f0,"Use CoreData for storing clipboard history

Previously this was stored in NSUserDefaults. The problem with that approach is that if large items were stored in the history, it would cause slowdowns, presumably by periodic writing the entire user defaults to disk."
sorbits,2014-02-18 16:09:53,https://api.github.com/repos/textmate/textmate/git/commits/a8c269e75cff3ff6dec6ec7ee2162a0d3d94d093,a8c269e75cff3ff6dec6ec7ee2162a0d3d94d093,Call ‘atos’ via xcrun
sorbits,2014-02-18 13:30:31,https://api.github.com/repos/textmate/textmate/git/commits/59e27e5cbb00e9d05d035122e3253ae0bcb16be7,59e27e5cbb00e9d05d035122e3253ae0bcb16be7,Avoid direct instance variable access
sorbits,2014-02-18 10:42:01,https://api.github.com/repos/textmate/textmate/git/commits/978b85cc1dccd39793d4cd92230485c8d679b3ec,978b85cc1dccd39793d4cd92230485c8d679b3ec,"Refactor OakPasteboard class

Remove logic from the setter methods and limit their use. This is in preparation for making the classes NSManagedObject subclasses where we prefer to use the generated accessor methods."
sorbits,2014-02-18 06:16:03,https://api.github.com/repos/textmate/textmate/git/commits/fe1f50f279f10d886ef6cf35f66c00c74f80d0d3,fe1f50f279f10d886ef6cf35f66c00c74f80d0d3,"Do not store captures (from regexp matches) on replace clipboard

Instead these are stored as an OakTextView property. This makes more sense since we only want to use the captures in the text view that created them."
sorbits,2014-02-18 05:41:33,https://api.github.com/repos/textmate/textmate/git/commits/57e8e37313f65de9e81e804ed1db3fe641968e81,57e8e37313f65de9e81e804ed1db3fe641968e81,"Rename NSReplacePboard → OakReplacePboard

We shouldn’t use Apple’s prefix for our own constants. The actual value of the constant hasn’t been renamed yet as this requires “migration” (renaming the key in user defaults)."
sorbits,2014-02-18 05:35:22,https://api.github.com/repos/textmate/textmate/git/commits/e80bf978ec0eeb7a93be28d4eeac7c939545e540,e80bf978ec0eeb7a93be28d4eeac7c939545e540,Minor OakPasteboard(Entry) interface changes
sorbits,2014-02-18 04:21:33,https://api.github.com/repos/textmate/textmate/git/commits/e5e4957e39fb12f8fe14df109f80414708602f39,e5e4957e39fb12f8fe14df109f80414708602f39,"Limit explicit options stored on find clipboard

This is to get a “cleaner” history (saved on disk)."
sorbits,2014-02-18 04:49:19,https://api.github.com/repos/textmate/textmate/git/commits/a088336453a52e6679060087cbbfb5c89503a9e0,a088336453a52e6679060087cbbfb5c89503a9e0,Ensure system clipboard is always updated
sorbits,2014-02-17 08:09:14,https://api.github.com/repos/textmate/textmate/git/commits/82299a4f3996aaf1b1e27cca2323186d4b70ab49,82299a4f3996aaf1b1e27cca2323186d4b70ab49,"Move code from OakPasteboard instance to class object

This is in preparation of making the class an NSManagedObject subclass, so we want as little code there as possible."
sorbits,2014-02-17 07:23:51,https://api.github.com/repos/textmate/textmate/git/commits/8ebbb338c24d1c13fe89005a4a591f2518de0d0e,8ebbb338c24d1c13fe89005a4a591f2518de0d0e,"Disallow creating OakPasteboardEntry outside OakPasteboard.mm

This is in preparation of adopting CoreData which will require a managed object context to create pasteboard entry objects."
sorbits,2014-02-17 02:42:44,https://api.github.com/repos/textmate/textmate/git/commits/0da5fedf6cd50f24977bd0398e89c7a7efcf0502,0da5fedf6cd50f24977bd0398e89c7a7efcf0502,"Do not add transient pasteboard items to history

See http://nspasteboard.org for details."
sorbits,2014-02-15 02:40:59,https://api.github.com/repos/textmate/textmate/git/commits/e2d2b1ef6ac4e4b3b90aec21be2ce7beb9948bd5,e2d2b1ef6ac4e4b3b90aec21be2ce7beb9948bd5,"Do not pass -fobjc-default-synthesize-properties to clang

This option was removed in revision 191551 of clang (Sep 27, 2013).

Property synthesizing seems to now be default, it’s unclear to me what revision of clang made the behavior default, but since we require a fairly recent version for other things (like Cap’n’proto) I don’t think this change will cause a problem."
sorbits,2014-02-14 15:37:55,https://api.github.com/repos/textmate/textmate/git/commits/ed852ae5b294ecee4696311ba7b95e1653a0735a,ed852ae5b294ecee4696311ba7b95e1653a0735a,"Empty delta bundle items no longer result in a file on disk

For example if the user makes a change and later reverts it (in the bundle editor) there should no longer be a local (delta) item saved. Though the containing delta bundle remains (but ideally that should be removed as well)."
sorbits,2014-02-14 06:35:54,https://api.github.com/repos/textmate/textmate/git/commits/3aa383a166fcd8869123a47f8d52c490f08f4ed7,3aa383a166fcd8869123a47f8d52c490f08f4ed7,GitHub releases API is no longer in preview
sorbits,2014-02-13 17:40:54,https://api.github.com/repos/textmate/textmate/git/commits/9cfd98446fb5169f43817da9eab8d1c7ffd26eeb,9cfd98446fb5169f43817da9eab8d1c7ffd26eeb,"The ng::word_at function would not extend selection to full word

This would affect the buffer completion, which would work sub-optimally when selecting part of the word for replacement."
sorbits,2014-02-13 06:37:47,https://api.github.com/repos/textmate/textmate/git/commits/b3d12b4364bec0d25edeff79815a09325238d6e0,b3d12b4364bec0d25edeff79815a09325238d6e0,"Set explicit target for status bar menu items

These items were relying on “first responder” which only works when focus is in the document view (since that’s the object that implements the actions).

This would manifest itself by showing the items disabled when focus was in the file browser, and for the grammar pop-up, the selected item (after opening the menu) would not be reverted back to the actual selected grammar in the document view.

Closes #1213"
rdwampler,2014-02-13 04:39:22,https://api.github.com/repos/textmate/textmate/git/commits/f99cf4bbdd0fe8a48212df6ed86bcac873251547,f99cf4bbdd0fe8a48212df6ed86bcac873251547,Fix typo in contacts usage description
sorbits,2014-02-12 13:52:53,https://api.github.com/repos/textmate/textmate/git/commits/a5ab9a7d034626c1be333ccdca933198e3af433b,a5ab9a7d034626c1be333ccdca933198e3af433b,Checkin release notes
sorbits,2014-02-12 13:45:56,https://api.github.com/repos/textmate/textmate/git/commits/02eae4c494523ae5152ef2761cebf7be129ce754,02eae4c494523ae5152ef2761cebf7be129ce754,Enable truncation of status bar text in chooser dialogs
sorbits,2014-02-12 13:08:41,https://api.github.com/repos/textmate/textmate/git/commits/16c7679c0a90f143ac29e40e0c610f6dacfdde7e,16c7679c0a90f143ac29e40e0c610f6dacfdde7e,"Use ng::word_at for what to complete

This way we won’t try to complete whitespace."
sorbits,2014-02-12 08:50:13,https://api.github.com/repos/textmate/textmate/git/commits/112a3a9e805622fdcca226b1027eb86c2644f7c3,112a3a9e805622fdcca226b1027eb86c2644f7c3,Allow aborting commands by pressing ⌘. or ⌃C
sorbits,2014-02-12 07:56:00,https://api.github.com/repos/textmate/textmate/git/commits/7fb5b75219d2e603f8c920521f8fa0ad341d538f,7fb5b75219d2e603f8c920521f8fa0ad341d538f,"Restore default signal handlers for commands

Before this commit it wasn’t possible to SIGINT / SIGTERM commands launched from TextMate since TextMate itself has a custom handler for these signals (so they are set to be ignored) — this included pressing ⌃C in the HTML output window (for commands using the TextMate.Executor API)."
sorbits,2014-02-12 04:19:25,https://api.github.com/repos/textmate/textmate/git/commits/f128304d75333d052a73b200de2addd4eada9cdf,f128304d75333d052a73b200de2addd4eada9cdf,"Handle non-mouse/key events while running commands

Fixes textmate/diff.tmbundle#5"
sorbits,2014-02-12 04:15:29,https://api.github.com/repos/textmate/textmate/git/commits/1c14143575d3a6a9fec78be993a910f7673cf4f5,1c14143575d3a6a9fec78be993a910f7673cf4f5,Switch file from C++ to Objective-C++
sorbits,2014-02-11 13:56:21,https://api.github.com/repos/textmate/textmate/git/commits/3b760492a8b6a8faaf79d7237ff8c44a1f3067aa,3b760492a8b6a8faaf79d7237ff8c44a1f3067aa,"Do not set TM_CURRENT_WORD if caret is surrounded by whitespace

This is consistent with “word” as input for commands."
sorbits,2014-02-11 13:55:01,https://api.github.com/repos/textmate/textmate/git/commits/da31c2d11a6bb71c91a7048c4350e5d63a7c2eb8,da31c2d11a6bb71c91a7048c4350e5d63a7c2eb8,Introduce ng::word_at (refactoring)
sorbits,2014-02-11 13:47:01,https://api.github.com/repos/textmate/textmate/git/commits/c54c2c89f2aac03aa60b262b747f5decbafa4eeb,c54c2c89f2aac03aa60b262b747f5decbafa4eeb,Only set TM_CURRENT_WORD when we have a word
sorbits,2014-02-11 10:02:46,https://api.github.com/repos/textmate/textmate/git/commits/f90ff29c963437dcc232da704f0f1efeaace5f60,f90ff29c963437dcc232da704f0f1efeaace5f60,Checkin release notes
sorbits,2014-02-11 09:45:39,https://api.github.com/repos/textmate/textmate/git/commits/18d9aa030b20fc2e739210ae9b39fda92693110a,18d9aa030b20fc2e739210ae9b39fda92693110a,"Add -u/--uuid option to mate shell tool

If no files are specified, the -w flag is not used, and TM_DOCUMENT_UUID is set, then this argument defaults to the value of the TM_DOCUMENT_UUID environment value."
sorbits,2014-02-11 09:38:58,https://api.github.com/repos/textmate/textmate/git/commits/10f14a74f33d73266376fd498c03ddef77b830c8,10f14a74f33d73266376fd498c03ddef77b830c8,"Support referencing documents via UUID

This support is to allow using ‘mate’ to change caret/selection for open untitled documents."
sorbits,2014-02-11 07:23:34,https://api.github.com/repos/textmate/textmate/git/commits/c7462eedd79dafe82cb2b39496c3655173bca171,c7462eedd79dafe82cb2b39496c3655173bca171,"Allow disabling folder state restore

Presently this will also disable it if the folder is opened via the Recent Projects chooser. Ideally opening via this list should not disable folder state restoring."
sorbits,2014-02-10 13:26:08,https://api.github.com/repos/textmate/textmate/git/commits/7f65abfe5b3a9d74903a3aa5a318a37754a914b7,7f65abfe5b3a9d74903a3aa5a318a37754a914b7,"Do not hardcode year interval for bundle changes

Previously we would not show any changes done after 2013. We now show changes for the current and last two years."
sorbits,2014-02-10 13:10:39,https://api.github.com/repos/textmate/textmate/git/commits/5256a8e9aebf99f5c2682e26ee2f7ed2e6e816a1,5256a8e9aebf99f5c2682e26ee2f7ed2e6e816a1,Add file icon to favorites / recent projects
sorbits,2014-02-10 13:00:59,https://api.github.com/repos/textmate/textmate/git/commits/9246e014b08a3a84a7f077e4a2eb369b8a18e616,9246e014b08a3a84a7f077e4a2eb369b8a18e616,Minor refactor
sorbits,2014-02-10 09:57:10,https://api.github.com/repos/textmate/textmate/git/commits/bef5e5d88c72755374065b3ed9e51e4cfc0a808a,bef5e5d88c72755374065b3ed9e51e4cfc0a808a,LRU sort recent projects and disambiguate display names
sorbits,2014-02-10 07:41:26,https://api.github.com/repos/textmate/textmate/git/commits/5d084041361f50585d117e0c74a65f2eb25589d9,5d084041361f50585d117e0c74a65f2eb25589d9,Update OakPasteboard to use “new” Objective-C run-time features
sorbits,2014-02-10 06:53:10,https://api.github.com/repos/textmate/textmate/git/commits/d9f0cf65630995b0591ec2fc55b3bf9e5b9458fb,d9f0cf65630995b0591ec2fc55b3bf9e5b9458fb,"Skip non-existing recent projects

Long-term it would make sense to also delete them if they haven’t been used for e.g. a month."
sorbits,2014-02-10 06:51:04,https://api.github.com/repos/textmate/textmate/git/commits/d52eda852eea10d7962b211044fec08354be3283,d52eda852eea10d7962b211044fec08354be3283,"Disable timestamp server for code signing

This slows down signing enormously (10+ seconds) and fails most of the time when internet connectivity is suboptimal (might be related to being behind a proxy)."
sorbits,2014-02-10 06:48:58,https://api.github.com/repos/textmate/textmate/git/commits/8ff36f3402d4b28372d8d265b8b4ccfb1f87ccf4,8ff36f3402d4b28372d8d265b8b4ccfb1f87ccf4,"Revert ""Use custom script to simulate “codesign --deep”""

This reverts commit 434917b1e968072ae4f16c5b58f3d27ab08fd961."
sorbits,2014-02-10 01:14:17,https://api.github.com/repos/textmate/textmate/git/commits/e197c48382c2ce4c6e8f1a9d8c0a797fd4f28f1b,e197c48382c2ce4c6e8f1a9d8c0a797fd4f28f1b,Update kvdb submodule: Debug output removed
sorbits,2014-02-09 16:08:59,https://api.github.com/repos/textmate/textmate/git/commits/7287fc735947a88e0c06ee9f837110dadb8d0be4,7287fc735947a88e0c06ee9f837110dadb8d0be4,"Indicate that Find and HTML output are auxiliary windows

This doesn’t seem to change anything wrt. behavior, but perhaps it will in the future."
sorbits,2014-02-08 09:27:28,https://api.github.com/repos/textmate/textmate/git/commits/413c77931a19d80b29c0ed4e6126ff94b9df6b12,413c77931a19d80b29c0ed4e6126ff94b9df6b12,"When restoring open tabs, skip non-existing files"
sorbits,2014-02-08 09:26:56,https://api.github.com/repos/textmate/textmate/git/commits/d912b4272e788f5509c4e616d86ded4d59d205e6,d912b4272e788f5509c4e616d86ded4d59d205e6,"Allow using ‘quit’ to terminate an (r)mate session

This is useful when testing socket connections as it seems nicer than simply killing the connection."
sorbits,2014-02-08 09:11:56,https://api.github.com/repos/textmate/textmate/git/commits/8165d6f5f2fb2ab982c24aaf7c2754816a0f0c2a,8165d6f5f2fb2ab982c24aaf7c2754816a0f0c2a,"Update 127.0.0.1 → localhost in documentation

TextMate listens on IPv6 so we must use ‘localhost’ with SSH so that it correctly resolves to ::1 (instead of an IPv4 address)."
joachimm,2014-02-08 00:24:36,https://api.github.com/repos/textmate/textmate/git/commits/0d0ee4c51caf0ed865e89505307bedc82c2c6124,0d0ee4c51caf0ed865e89505307bedc82c2c6124,refactor duplicate folding code into one method
sorbits,2014-02-07 13:06:15,https://api.github.com/repos/textmate/textmate/git/commits/ebba7eac8c0775548d08f4edbfb55d8e5f70a66b,ebba7eac8c0775548d08f4edbfb55d8e5f70a66b,Checkin release notes
sorbits,2014-02-07 12:52:56,https://api.github.com/repos/textmate/textmate/git/commits/48e3796f877bbbbbc9036b0180b3eb728e9f990b,48e3796f877bbbbbc9036b0180b3eb728e9f990b,"Add delete action to Open Favorites

This only works for Recent Projects (not Favorites).

Also, the key equivalent for this is ⌘⌫. The Edit → Delete menu item will not work (as it’s being sent to the input field)."
sorbits,2014-02-07 12:50:10,https://api.github.com/repos/textmate/textmate/git/commits/6ab6c3f43bba36b370468ca45b958ff6ce97e353,6ab6c3f43bba36b370468ca45b958ff6ce97e353,Add “Recent Projects” to “Open Favorites” dialog
sorbits,2014-02-07 12:37:11,https://api.github.com/repos/textmate/textmate/git/commits/091e554a1bb21be5ede3bbae6af24105a9869b9b,091e554a1bb21be5ede3bbae6af24105a9869b9b,"Remember open files per (project) folder

This means that if one does “mate «folder»”, open a few files as tabs, and then close the window, next time the same folder is opened, TextMate will restore the tabs.

Presently state is remembered (when closing a window) either if the file browser is visible or if more than one document is open in the window."
sorbits,2014-02-07 10:31:04,https://api.github.com/repos/textmate/textmate/git/commits/d1265913df6c23cfd0a58e0f7be669c0f2d1cefe,d1265913df6c23cfd0a58e0f7be669c0f2d1cefe,"In chooser lists, treat deleteToBeginningOfLine: as delete:

This is only if there is a responder for the delete: action and is done to allow ⌘⌫ to be used to delete items in the list (like favorites).

The implementation is not ideal as we make assumptions about what action the ⌘⌫ key is bound to and perhaps it’s also a gotcha that ⌘⌫ in a text field will delete something else (though the list is also drawn as having focus)."
sorbits,2014-02-06 14:18:50,https://api.github.com/repos/textmate/textmate/git/commits/13f6c312a2ed451821d7447ed051454af75ce56c,13f6c312a2ed451821d7447ed051454af75ce56c,Add kvdb submodule (key/value database)
sorbits,2014-02-06 13:33:01,https://api.github.com/repos/textmate/textmate/git/commits/106ad9623c1be405b9353f29659e5b1d4f756674,106ad9623c1be405b9353f29659e5b1d4f756674,Factor out “session restore” (for a single document controller)
sorbits,2014-02-06 13:25:29,https://api.github.com/repos/textmate/textmate/git/commits/fa0a82ca4acade8192e32b122cdc0bccc02a818c,fa0a82ca4acade8192e32b122cdc0bccc02a818c,Factor out “session info” (for a single document controller)
sorbits,2014-02-06 13:20:55,https://api.github.com/repos/textmate/textmate/git/commits/7a7107d69ae4c17152a07e15f4e514fae310d747,7a7107d69ae4c17152a07e15f4e514fae310d747,Factor out OakScopeBarView
sorbits,2014-02-05 06:14:21,https://api.github.com/repos/textmate/textmate/git/commits/3b26eeacb0e41c840d2e9c72d1a1481f6f0e3c7c,3b26eeacb0e41c840d2e9c72d1a1481f6f0e3c7c,"The filtering windows now truncate list items

Previously some of the filtering windows would have the items “wrap” (the default) which is suboptimal for table views."
sorbits,2014-02-05 05:27:53,https://api.github.com/repos/textmate/textmate/git/commits/4d718b62071c077857c931766b72493a1e16049f,4d718b62071c077857c931766b72493a1e16049f,"Auto-reveal open file now works with hidden file browser

When the file browser is hidden we no longer auto-reveal. When the user shows the file browser, we select the currently open document."
sorbits,2014-02-03 13:16:41,https://api.github.com/repos/textmate/textmate/git/commits/ca7d49eeb24173085f539eba0a3bec3be58edd82,ca7d49eeb24173085f539eba0a3bec3be58edd82,Checkin release notes
sorbits,2014-02-01 14:34:22,https://api.github.com/repos/textmate/textmate/git/commits/286a92c7927d746506e544e123e56e182b2c082d,286a92c7927d746506e544e123e56e182b2c082d,Select word at EOL with trailing whitespace was a no-op
sorbits,2014-02-01 14:19:22,https://api.github.com/repos/textmate/textmate/git/commits/dd5c050f285b28650f5a33175186b709130df573,dd5c050f285b28650f5a33175186b709130df573,"Commands taking “word” as input will not get whitespace as input

Previously if there was whitespace to the left and right of the caret, the entire sequence of whitespace was given as input to the command. This was not the case for TextMate 1.x so it broke the format commands in the LaTeX bundle (bold, italic, and teletype)."
sorbits,2014-02-01 13:56:31,https://api.github.com/repos/textmate/textmate/git/commits/d1260a28b61952ad087637a97d76b03d9b8bbada,d1260a28b61952ad087637a97d76b03d9b8bbada,"Revealing an item in a file package may now change folder

Previously if opening e.g. /Applications/Mail.app/Contents/Info.plist and setting project folder to /Applications and asking to Go → Current Document then nothing would happen, as the current document would be a descendent of the current (project) folder but the file browser was unable to expand the Mail.app file package to actually reveal it."
sorbits,2014-01-31 12:06:31,https://api.github.com/repos/textmate/textmate/git/commits/1092afde2563f3a4bbc4719c706f388120f8ef44,1092afde2563f3a4bbc4719c706f388120f8ef44,"Deleted bundle items were returned when asking for disabled items

This would cause deleted (delta) items to show up in the bundle editor (as it queries the bundle manager for disabled items and would thus also get the deleted ones)."
sorbits,2014-01-29 09:09:20,https://api.github.com/repos/textmate/textmate/git/commits/7ced73244f4ae4ef850f133d7818088d8b35b40c,7ced73244f4ae4ef850f133d7818088d8b35b40c,"Add setting to disable tab re-ordering

When opening a document it will be placed to the right of the current one (in the tab bar) even if the document being opened is already in the tab bar, this is to make ⌘W work to “close and go back” without having to keep a list of previously selected tabs.

This feature can now be disabled using:

    defaults write com.macromates.TextMate.preview disableTabReordering -bool YES

Note though that if one selects multiple documents to open then it will potentially re-order the tab bar so that the documents selected are adjacent."
trautwein,2014-01-20 12:57:47,https://api.github.com/repos/textmate/textmate/git/commits/a88f9baf5f13b2944cffc3b980911f4621e6faf6,a88f9baf5f13b2944cffc3b980911f4621e6faf6,"Preference to auto-reveal the current file in the project browser

An option called ""Auto-reveal open file in project browser"" has been
added to the Projects preference pane. When checked, the currently open
file will be revealed in the project's file browser. By default, the
option is not checked and thus the behavior is as it was before."
trautwein,2014-01-20 12:52:41,https://api.github.com/repos/textmate/textmate/git/commits/5048ecc9b0099f56495a6adafd39af3b36012a5e,5048ecc9b0099f56495a6adafd39af3b36012a5e,Saved with Xcode 5.0.2 (5A3005)
sorbits,2014-01-14 10:37:40,https://api.github.com/repos/textmate/textmate/git/commits/f96cc63c1c116e79b45f22e21c57f5c94794e384,f96cc63c1c116e79b45f22e21c57f5c94794e384,Add a Bitdeli badge to README
sorbits,2014-01-13 04:16:11,https://api.github.com/repos/textmate/textmate/git/commits/16f710965621f0259247532edf92e18818106b14,16f710965621f0259247532edf92e18818106b14,"Fix swapped freehanded left/right constants

In practice move() isn’t called with a freehanded left/right constant so the incorrect placement wasn’t causing an issue."
sorbits,2014-01-13 02:02:03,https://api.github.com/repos/textmate/textmate/git/commits/bdba01a30f5649b35b2c5dce69989656dfbeed18,bdba01a30f5649b35b2c5dce69989656dfbeed18,Do not report “Failed: Extracting Archive” on download failure
sorbits,2014-01-13 01:34:55,https://api.github.com/repos/textmate/textmate/git/commits/c72d23d0b60e7317222f1b1d19e447a9b959b86c,c72d23d0b60e7317222f1b1d19e447a9b959b86c,Checkin release notes
sorbits,2014-01-09 07:31:37,https://api.github.com/repos/textmate/textmate/git/commits/354d88aab6e37dcd07adb3e4d81eb2787c1da506,354d88aab6e37dcd07adb3e4d81eb2787c1da506,Build instructions: Assume people are using Xcode 5
nanoant,2014-01-08 11:37:37,https://api.github.com/repos/textmate/textmate/git/commits/875a470cc1c3f33680c8f51092981e5a4d3bf13b,875a470cc1c3f33680c8f51092981e5a4d3bf13b,"Fix file browser height for tabs above document

This fixes regression caused by 1de5d90475788143655a60fdbff654139fec3cb4 that
divider height and default compression priority disallowed expected height."
aredridel,2013-12-29 06:13:48,https://api.github.com/repos/textmate/textmate/git/commits/21b5b27e651aefb9b0674137779952130fa1cd84,21b5b27e651aefb9b0674137779952130fa1cd84,Note that capnp is now brew installable
sorbits,2013-12-21 04:45:01,https://api.github.com/repos/textmate/textmate/git/commits/5edd3479badb36f0e48cb11fe50d94c7d6eaf3b1,5edd3479badb36f0e48cb11fe50d94c7d6eaf3b1,"Implement accessibilityIsAttributeSettable: for all attributes

Previously if using the Accessibility Inspector exceptions could be thrown."
rdwampler,2013-12-23 04:08:03,https://api.github.com/repos/textmate/textmate/git/commits/54de23f9402b8461ecf328ae663a09ada52f14bd,54de23f9402b8461ecf328ae663a09ada52f14bd,"Ensure FSItem name property is not nil when setting menu title

We use to pass nil to NSMenuItem initWithTitle: when clicking the SCMFolders in
SCM Status (see commit e5841fe); however, we will *probably* never encounter
this now. But it might be useful, if custom data sources are implemented for the
file browser in the future."
rdwampler,2013-12-23 03:01:36,https://api.github.com/repos/textmate/textmate/git/commits/1f61b628b3912df713b35a6159852f051eb242d7,1f61b628b3912df713b35a6159852f051eb242d7,"Use new safeObjectAtIndex method

Also removed the static SafeObjectAtIndex mehtod in OakTabBarView"
rdwampler,2013-12-23 02:44:14,https://api.github.com/repos/textmate/textmate/git/commits/8711228f9ae50faabd12506c9ee74a96144db6b5,8711228f9ae50faabd12506c9ee74a96144db6b5,"Add safeObjectAtIndex to NSArray

This is defined in OakTabBarView as a static method, but it could be useful elsewhere."
rdwampler,2013-12-23 02:23:11,https://api.github.com/repos/textmate/textmate/git/commits/2f39a8c012995898add9990a8656675a9342c5c0,2f39a8c012995898add9990a8656675a9342c5c0,Remove unneccessary #import statements
sorbits,2013-12-21 04:20:15,https://api.github.com/repos/textmate/textmate/git/commits/26f60bc52a249eaefc6d9d70b954ea696ba0c924,26f60bc52a249eaefc6d9d70b954ea696ba0c924,"Change ASSERT_NE → ASSERT

Since we do not have a to_s function defined for the iterator type, we cannot use “semantic assertions”."
sorbits,2013-12-21 04:13:15,https://api.github.com/repos/textmate/textmate/git/commits/5faba29bb515ed815a1cba7a0e7df94fea4ba11d,5faba29bb515ed815a1cba7a0e7df94fea4ba11d,"Fix value for AXSelectedText

We were grabbing a const reference to a reference into a temporary object (result of editor_t::ranges), so the range used was effectively a pointer to a destroyed object."
sorbits,2013-12-20 02:56:53,https://api.github.com/repos/textmate/textmate/git/commits/32ce64822450ee5b6b628198270eb9e125267622,32ce64822450ee5b6b628198270eb9e125267622,Clicking a folded range will now unfold it
sorbits,2013-12-20 02:55:29,https://api.github.com/repos/textmate/textmate/git/commits/bc56cc240f52600c0b111249501980cc46071272,bc56cc240f52600c0b111249501980cc46071272,"Add API to unfold a range

The function will unfold anything completely within the range that also touches one of the range’s end points.

This is because the layout will show adjoining folded ranges as a single image, so if the user clicks this, it is unclear which of the ranges to actually unfold (the layout return a range that encompass all the adjoining folds)."
sorbits,2013-12-20 02:13:48,https://api.github.com/repos/textmate/textmate/git/commits/43d3ead3e3650fac9ec3a3fca34bab9801a794ab,43d3ead3e3650fac9ec3a3fca34bab9801a794ab,"Add API to get folded range for a point

This is required to show tool tips when hovering a fold marker or to unfold the fold marker clicked."
sorbits,2013-12-19 11:58:55,https://api.github.com/repos/textmate/textmate/git/commits/c94f6d855526ab72be8c1c13fa1be1b6de6986fc,c94f6d855526ab72be8c1c13fa1be1b6de6986fc,"Improve “you are recording a macro” dialog

Rather than tell the user how to stop recording, we now offer it as an option."
sorbits,2013-12-14 07:37:38,https://api.github.com/repos/textmate/textmate/git/commits/5bbbed72e51c2acb5f31c8313ee3fe70c477c114,5bbbed72e51c2acb5f31c8313ee3fe70c477c114,Saving file with missing parent asks if it should be created
sorbits,2013-12-14 07:22:15,https://api.github.com/repos/textmate/textmate/git/commits/1f57336da89906fad787da0bfe8cb1f30d87c42f,1f57336da89906fad787da0bfe8cb1f30d87c42f,Log error when mkdir() fails
sorbits,2013-12-14 06:12:45,https://api.github.com/repos/textmate/textmate/git/commits/0a21664f6d5568337501effac11506852b290c47,0a21664f6d5568337501effac11506852b290c47,"Replace iterate macro with new for loop (C++11)

Also use emplace_back a few places."
sorbits,2013-12-14 05:56:55,https://api.github.com/repos/textmate/textmate/git/commits/45db36234c82cb97d765e8e3dbb382ce7a152e47,45db36234c82cb97d765e8e3dbb382ce7a152e47,"File path settings now rank higher than scope settings

A file setting like “src/*.cc” is arguably more specific (and thus more local) than targeting the scope “source.c++”, so it makes sense that the file settings rank higher than scope settings.

Some users also find it natural to target file extensions over scopes, but as TM will store some learned settings with a scope selector, it would previously lead to confusion, when a user was unable to e.g. change tab size for “*.php” (because TM had a learned setting for “source.php”)."
sorbits,2013-12-14 05:10:05,https://api.github.com/repos/textmate/textmate/git/commits/7d91fd83228b4e04fcabed41b3a1ab74b21b0ac7,7d91fd83228b4e04fcabed41b3a1ab74b21b0ac7,"Allow fractional font sizes.

Closes #1125"
sorbits,2013-12-13 11:39:24,https://api.github.com/repos/textmate/textmate/git/commits/885325e992c55890897533cf8afb16131cf8f1b1,885325e992c55890897533cf8afb16131cf8f1b1,"Use netrc for GitHub credentials

This changes the authentication mechanism from passing an authorization token / API key to using basic auth. Basic auth didn’t work when I initially tested the upload API, but hopefully GitHub has since added it (I did request it, but didn’t get a reply, so no idea if the omission was an oversight or by design)."
sorbits,2013-12-12 09:58:26,https://api.github.com/repos/textmate/textmate/git/commits/a5fe5d929dd9ede3b5ef798ee3bd21d137a6d0cf,a5fe5d929dd9ede3b5ef798ee3bd21d137a6d0cf,"Opening a file with unused project UUID will create a new window

This can be used to force a file to open in a new window, e.g.:

    TM_PROJECT_UUID=$(uuidgen) mate README.md

Likewise, it can be used to force multiple invocations of mate to use the initially opened window (by re-using the UUID).

Closes #879"
sorbits,2013-12-12 07:45:05,https://api.github.com/repos/textmate/textmate/git/commits/c2bb5253efaab3c5e58c5eaa030a407994f85961,c2bb5253efaab3c5e58c5eaa030a407994f85961,"Ensure text view find operations use values from the UI

We already commit the values when focus is lost, but it’s possible to initiate a find operation while focus is still in the find dialog text fields (via the menu).

Fixes #1183"
sorbits,2013-12-12 07:11:26,https://api.github.com/repos/textmate/textmate/git/commits/1293828e7903470621675501d6572c469c1274fa,1293828e7903470621675501d6572c469c1274fa,"Upload to existing release if it already exists

Creating a release with attachment is non-atomic in that the release is first created and then we upload to that release but our build file has it as a single action, so this action should be able to handle partial success from a previous execution."
sorbits,2013-12-12 06:27:42,https://api.github.com/repos/textmate/textmate/git/commits/9f07942e0917ab680904deb36f69d13c10a5ca1c,9f07942e0917ab680904deb36f69d13c10a5ca1c,"Use dynamic menu titles for most toggle items

Closes #935"
sorbits,2013-12-12 06:22:28,https://api.github.com/repos/textmate/textmate/git/commits/fdfacbdc5dd7a1d85e9f2e3f7c140aeb9e486d7d,fdfacbdc5dd7a1d85e9f2e3f7c140aeb9e486d7d,Save with Xcode 5.0.2
sorbits,2013-12-05 05:14:01,https://api.github.com/repos/textmate/textmate/git/commits/72adfe91154a2800cafd45df58f4e511a6e45ea5,72adfe91154a2800cafd45df58f4e511a6e45ea5,Change ruby syntax: [ foo ].shelljoin → foo.shellescape
nanoant,2013-12-02 18:28:56,https://api.github.com/repos/textmate/textmate/git/commits/2a6b37c1a327723ded81de493c3e2f5a3f6f9109,2a6b37c1a327723ded81de493c3e2f5a3f6f9109,"Remember window zoom state and regular window frame

This fixed problem when closing TM2 with zoomed window, then unzooming window
after restart caused invalid window placement."
sorbits,2013-12-01 07:59:09,https://api.github.com/repos/textmate/textmate/git/commits/f880f3df63435040e13662d96ed85114b377a9e1,f880f3df63435040e13662d96ed85114b377a9e1,Add credits email hash for rdwampler
sorbits,2013-12-01 07:56:48,https://api.github.com/repos/textmate/textmate/git/commits/9a017f97ff6256c6d127a54cb0c2f38e2a521424,9a017f97ff6256c6d127a54cb0c2f38e2a521424,Use GitHub’s (preliminary) API for uploading releases
sorbits,2013-12-01 07:49:25,https://api.github.com/repos/textmate/textmate/git/commits/bc7cbffb0ce2a5a5de0559cbc48e937dbddd4b8b,bc7cbffb0ce2a5a5de0559cbc48e937dbddd4b8b,"Add -t/--tag option to bin/upload

Presently unused but mandatory."
sorbits,2013-12-01 07:48:27,https://api.github.com/repos/textmate/textmate/git/commits/d2935f976b4be4a66845252c2258a649e2f7f26f,d2935f976b4be4a66845252c2258a649e2f7f26f,Add upload (ninja) target
sorbits,2013-12-01 07:46:43,https://api.github.com/repos/textmate/textmate/git/commits/f80794e3b0133cd9e4bfab09c51839b5d871419b,f80794e3b0133cd9e4bfab09c51839b5d871419b,Update shebang to explicitly call ruby 1.8
sorbits,2013-12-01 07:21:07,https://api.github.com/repos/textmate/textmate/git/commits/434917b1e968072ae4f16c5b58f3d27ab08fd961,434917b1e968072ae4f16c5b58f3d27ab08fd961,"Use custom script to simulate “codesign --deep”

The problem is that with a bad internet connection there is a very high probability that “codesign --deep” will fail due to having to contact the timestamp server for each embedded executable object.

Long-term we probably want to sign the sub-targets as they are produced and/or link the entire thing together so that there is only a single sign target (plus embedded plug-ins)."
sorbits,2013-11-28 10:07:55,https://api.github.com/repos/textmate/textmate/git/commits/b568f2e788bc7fd674db230f3e9eabb9e651172b,b568f2e788bc7fd674db230f3e9eabb9e651172b,"Handle dropping CR delimited text

Also filter malformed UTF-8 sequences from dropped text."
sorbits,2013-11-27 11:39:32,https://api.github.com/repos/textmate/textmate/git/commits/3c99a6939824f057509749d60a99660bb0546fc5,3c99a6939824f057509749d60a99660bb0546fc5,"Only enable “file” services for file browser context menu

The services support in the file browser was mainly added to allow Quicksilver to grab the selection, I do not recall if this is why the selection was (also) made available as a regular string (in addition to the “file names pasteboard type”)."
rdwampler,2013-11-25 02:43:27,https://api.github.com/repos/textmate/textmate/git/commits/e5841fe34f36744c970ec27018731bdb89306be6,e5841fe34f36744c970ec27018731bdb89306be6,"Add query component to scm URL

Previously when constructing a scm URL from a path, if scm was not enabled
we returned a file URL. This could result in some unexpected behavior.
For instance, when a directory was selected in the file browser,
activating ""SCM Status"" would just open the untracked directory.
This patch, insteads, adds a query to the scm URL that can be parsed to
determine how to handle the scm status request later on."
sorbits,2013-11-18 15:39:56,https://api.github.com/repos/textmate/textmate/git/commits/888ccbed161b5a943e16a99341db444ab826b304,888ccbed161b5a943e16a99341db444ab826b304,"Remove use of NSPointToCGPoint

This is not required when building in 64 bit mode or when defining NS_BUILD_32_LIKE_64."
charliepark,2013-11-18 12:11:58,https://api.github.com/repos/textmate/textmate/git/commits/deba175fa5640cc6dea313b63e9e0628771cb406,deba175fa5640cc6dea313b63e9e0628771cb406,"Updates link to Homebrew, to a functioning link."
dusek,2013-11-10 20:24:36,https://api.github.com/repos/textmate/textmate/git/commits/22a5dc14135ba59c5d421620e4bff4db0e5b167c,22a5dc14135ba59c5d421620e4bff4db0e5b167c,Support getting AXVisibleCharacterRange accessibility attribute
dusek,2013-11-10 18:45:38,https://api.github.com/repos/textmate/textmate/git/commits/c7fbcf06ed79390ebbfd9ec55aef0fbb94acb7df,c7fbcf06ed79390ebbfd9ec55aef0fbb94acb7df,"Fix accessibility visual bounds ending at line boundary

Accessibility visual bounds for a range of a single softline should always
be also visually restricted to the softline. This is in order to be consistent
with implementation in Apple's apps (e.g. TextEdit)."
dusek,2013-11-10 09:01:42,https://api.github.com/repos/textmate/textmate/git/commits/9f68cb416cd516cf398ef45004876be037c0e32c,9f68cb416cd516cf398ef45004876be037c0e32c,"Use softlines instead of hardlines for accessibility

Fixes #1149.

VoiceOver expects AXLineForIndex and AXRangeForLine to be consistent with
the movement by line using arrow up/down. That means it expects ""line""
to mean softline.

VoiceOver also distinguishes commands to move by:
* paragraph (hardline): VO-Shift-PgUp/PgDown
* line (softline): VO-up/down

These are available when interacting with the text area (VO-Shift-down).

This commit therefore fixes the AXLineForIndex and AXRangeForLine
to make ""line"" mean ""softline"" instead of ""hardline"" as was the case
until now."
dusek,2013-11-10 08:57:26,https://api.github.com/repos/textmate/textmate/git/commits/e0298cf29c4497e928f23618927ac7c236d6e5f0,e0298cf29c4497e928f23618927ac7c236d6e5f0,Provide conversions between softlines and buffer positions
dusek,2013-11-10 08:56:32,https://api.github.com/repos/textmate/textmate/git/commits/b8cad485d9080add05f2228d6d58e4fc340242de,b8cad485d9080add05f2228d6d58e4fc340242de,Track softline count in layout
dusek,2013-10-20 10:30:39,https://api.github.com/repos/textmate/textmate/git/commits/5dcca0996c718d43d7ab7a0357c2d279a3ba962e,5dcca0996c718d43d7ab7a0357c2d279a3ba962e,"Support text links with VoiceOver

Now links in text (e.g. links to RFCs after installing the Hyperlink Helper bundle)
are announced as such with VoiceOver and it is possible to search for them with
VO-Cmd-L.

TODO:

* launching links with VO-Space is not supported yet, but Enter (Fn-Return)
  does the same thing and is even more reliable.
* link URL is not supported, so it is not possible to learn the URL
  with VO-Shift-U."
sorbits,2013-11-15 06:52:47,https://api.github.com/repos/textmate/textmate/git/commits/6a0ab432cbe098e8e7e2fb783b2d1151f26fd191,6a0ab432cbe098e8e7e2fb783b2d1151f26fd191,"Show warning if undo will delete non-empty document

Closes #1197"
dusek,2013-11-12 18:30:26,https://api.github.com/repos/textmate/textmate/git/commits/98590586bdbaec75f66563a22128e55628299ce6,98590586bdbaec75f66563a22128e55628299ce6,"Embryo of developer documentation :-)

This is a document with information I found most useful as a
new contributor to TextMate - basic stuff a new contributor is likely
to get in contact with.

It's of course incomplete, sparse, can be not well worded and even contain
mistakes. But someone had to make the first shot :-)"
sorbits,2013-11-08 20:53:32,https://api.github.com/repos/textmate/textmate/git/commits/a2b44714a6aa00a1e7c7dde3581c2e8057b1d0cc,a2b44714a6aa00a1e7c7dde3581c2e8057b1d0cc,Treat various archive types as binary
sorbits,2013-11-08 20:12:48,https://api.github.com/repos/textmate/textmate/git/commits/f515d92bb42607afbf908987e46c74ebeac9a951,f515d92bb42607afbf908987e46c74ebeac9a951,"Rescan favorites folder when re-opening favorites chooser

Previously we only scanned the folder when creating the favorites chooser singleton which meant items added or removed after the chooser had been used, were not reflected before a relaunch.

Fixes #1182"
sorbits,2013-11-07 23:44:25,https://api.github.com/repos/textmate/textmate/git/commits/f2d5d0c143900c0357bb3c7ae8364a8f4d3a03cf,f2d5d0c143900c0357bb3c7ae8364a8f4d3a03cf,"Allow home/end in filter lists

This goes to the first/last item and can be reached with fn-←/→ on laptop keyboards."
sorbits,2013-11-07 23:38:25,https://api.github.com/repos/textmate/textmate/git/commits/d843225d81f1b37311b926fefdcfa592a0da1d76,d843225d81f1b37311b926fefdcfa592a0da1d76,"Lines increasing and decreasing indent no longer go below zero

Normally a line matched by both patterns will be decreased by one unit compared to the non-ignored lines immediately above and below. If however the line above was not indented, the line would in theory be decreased to -1 and thus just go back to zero indent for the line following it."
sorbits,2013-11-04 13:09:27,https://api.github.com/repos/textmate/textmate/git/commits/8f90f8f602631dd416a3c4bf9b839280afedbb95,8f90f8f602631dd416a3c4bf9b839280afedbb95,"Defensive programming

Seeing a common crash on quit which might be due to drawRect: being called when the OakTextView is in a partially destroyed state."
sorbits,2013-11-04 13:00:55,https://api.github.com/repos/textmate/textmate/git/commits/30802bf4c7c4be8ef5ea4ba4c5dd83e6dc5a4aaa,30802bf4c7c4be8ef5ea4ba4c5dd83e6dc5a4aaa,Guard against fileSystemRepresentation returning nil
sorbits,2013-11-04 00:10:29,https://api.github.com/repos/textmate/textmate/git/commits/1de5d90475788143655a60fdbff654139fec3cb4,1de5d90475788143655a60fdbff654139fec3cb4,"Set hugging priority for horizontal dividers

In the HTML output window’s status bar, the divider was taking up too much space (on 10.9)."
sorbits,2013-11-03 19:42:58,https://api.github.com/repos/textmate/textmate/git/commits/29a7dac56229adbb0a4d0982561072e2ef6830db,29a7dac56229adbb0a4d0982561072e2ef6830db,Checkin release notes
sorbits,2013-11-03 19:37:48,https://api.github.com/repos/textmate/textmate/git/commits/2df3118e3469b945a76f00d91f0f93ad73def7f7,2df3118e3469b945a76f00d91f0f93ad73def7f7,"Do not set window as opaque when gutter background is transparent

Previously only the text view’s background would affect the window’s opaque property, which made it impossible to have a solid text view background with a transparent gutter."
sorbits,2013-11-03 19:37:48,https://api.github.com/repos/textmate/textmate/git/commits/ff14e818bce0d41ec90e6760d1fa86f953037552,ff14e818bce0d41ec90e6760d1fa86f953037552,Add gutter_styles_t::is_transparent
sorbits,2013-11-03 19:37:48,https://api.github.com/repos/textmate/textmate/git/commits/93e00f42b1f1dc6e8b33232143108bab4df28935,93e00f42b1f1dc6e8b33232143108bab4df28935,"Fix potential missing last line in encoding view

This would happen if last line was not newline terminated.

The fix does not take into consideration that last line might contain non-ASCII, in which case it should be highlighted."
sorbits,2013-11-03 19:37:48,https://api.github.com/repos/textmate/textmate/git/commits/7402a7835b95b79b4bf0fb08291c8f7fe8403892,7402a7835b95b79b4bf0fb08291c8f7fe8403892,"Opt out of responsive scrolling

With responsive scrolling we need to return NO from isOpaque in order to get transparency and we cannot overload the scrollWheel: method (which we use to forward mouse events from the gutter to the text area).

I have also received a few crash reports that might be caused by responsive scrolling and one user has reported “sticky” scroll behavior.

So for now better just disable it, and see if it fixes all these issues.

Fixes #1135"
sorbits,2013-11-03 19:37:47,https://api.github.com/repos/textmate/textmate/git/commits/f88c028d97a10e85d4812098f12b7a0444a603be,f88c028d97a10e85d4812098f12b7a0444a603be,Only show one warning per missing user when generating credits
sorbits,2013-11-03 19:37:47,https://api.github.com/repos/textmate/textmate/git/commits/78b110dc0e2d3eb614e633f6dbff699ad4966529,78b110dc0e2d3eb614e633f6dbff699ad4966529,"Use /usr/bin/tar instead of gnutar (which is removed on 10.9)

We were using gnutar to avoid the extended header keywords that bsdtar add to the archive (for non-ASCII file names) as those will cause older versions of gnutar (like the one included with 10.8 and earlier) to give warnings/errors when extracting the archive.

Issue #1180"
sorbits,2013-11-03 19:37:34,https://api.github.com/repos/textmate/textmate/git/commits/c53b0cf42d1256633e8c88473f5fe94830ade293,c53b0cf42d1256633e8c88473f5fe94830ade293,Full paths on search clipboard are made relative to file chooser base
sorbits,2013-11-03 19:36:35,https://api.github.com/repos/textmate/textmate/git/commits/c342af1485aa7bc9e147677a28c25a53bea58eae,c342af1485aa7bc9e147677a28c25a53bea58eae,Update dialog plug-in
sorbits,2013-10-31 17:57:48,https://api.github.com/repos/textmate/textmate/git/commits/98343be4dac934f8cdda9251245bf5c41c44d5ce,98343be4dac934f8cdda9251245bf5c41c44d5ce,Checkin release notes
sorbits,2013-10-31 17:20:40,https://api.github.com/repos/textmate/textmate/git/commits/0d17cc731fa2815d8c30b184624a1fec4313bc96,0d17cc731fa2815d8c30b184624a1fec4313bc96,Handle CRLF delimited clipboard data
sorbits,2013-10-31 17:15:01,https://api.github.com/repos/textmate/textmate/git/commits/bc4650f2b0e641df54d63b71a143ff681decfba0,bc4650f2b0e641df54d63b71a143ff681decfba0,Move line ending support to text framework
sorbits,2013-10-31 16:26:38,https://api.github.com/repos/textmate/textmate/git/commits/03c91f5ab73156c00f44f26e1ee588b1058be57d,03c91f5ab73156c00f44f26e1ee588b1058be57d,Add assertion
sorbits,2013-10-31 16:25:32,https://api.github.com/repos/textmate/textmate/git/commits/1d0428383fa5f959a89fa2f122f8505363a5eb8e,1d0428383fa5f959a89fa2f122f8505363a5eb8e,"Parse theme colors using 8-bit notation (#RGB)

This is to improve interoperability, as some themes (not produced by TextMate 1.x’s theme editor) use this shorter notation."
sorbits,2013-10-31 16:15:08,https://api.github.com/repos/textmate/textmate/git/commits/798961da6bf17c9ff39ffff6a0dda0a2e82dae4c,798961da6bf17c9ff39ffff6a0dda0a2e82dae4c,"Handle themes with invalid foreground/background color

Fixes #1179"
sorbits,2013-10-30 22:56:16,https://api.github.com/repos/textmate/textmate/git/commits/3683af25a955a9487dce18cae13b40e3a46a633c,3683af25a955a9487dce18cae13b40e3a46a633c,"Allow using globs in Go to File

Globs are identified by containing at least one asterisk."
sorbits,2013-10-30 22:20:04,https://api.github.com/repos/textmate/textmate/git/commits/a8d494ecdd8eeee465379f838b4e0e3db93bea4b,a8d494ecdd8eeee465379f838b4e0e3db93bea4b,"Remove support for extension filtering (Go to File)

This mode probably did more harm than good — instead we’ll introduce a glob match mode activated by using an asterisk in the filter string, which will then be able to achieve the same."
sorbits,2013-10-30 22:04:29,https://api.github.com/repos/textmate/textmate/git/commits/12288b72ffbb3c3cd47fb9f697af3db88f32c52c,12288b72ffbb3c3cd47fb9f697af3db88f32c52c,Re-arrange code
infininight,2013-10-31 08:03:49,https://api.github.com/repos/textmate/textmate/git/commits/882597f9abcea958f48c7695a4aec9e19b2a6707,882597f9abcea958f48c7695a4aec9e19b2a6707,"Remove high-level UTIs from Quick Look generator

This should allow Quick Look generators to function when they target a more specific UTI. Discussed in #1141 and #1168."
sorbits,2013-10-30 20:50:07,https://api.github.com/repos/textmate/textmate/git/commits/908ca3f5ab13a280c17c63d38389d3a2b8b3ae84,908ca3f5ab13a280c17c63d38389d3a2b8b3ae84,"Allow zooming icon animation to be disabled

To disable, run the following in a terminal: defaults write com.macromates.TextMate.preview fileBrowserOpenAnimationDisabled -bool YES

Closes #109"
sorbits,2013-10-30 20:35:08,https://api.github.com/repos/textmate/textmate/git/commits/e16bacb6f9c1c32438801b67f3642ad7ee720dff,e16bacb6f9c1c32438801b67f3642ad7ee720dff,"Loosen rules about tab trigger boundaries

Previously the character before the potential tab trigger had to be of a different character class. This is now only required when the first character of the tab trigger is a word character."
sorbits,2013-10-30 20:16:20,https://api.github.com/repos/textmate/textmate/git/commits/7b0e92376cf0cbb4d3b09d265a8cefb7076fc335,7b0e92376cf0cbb4d3b09d265a8cefb7076fc335,"Add “wordCharacters” as a scoped setting

Set this to a string of which characters should be added to the set of word characters."
sorbits,2013-10-28 22:43:39,https://api.github.com/repos/textmate/textmate/git/commits/7c4325bbe993ef760ed4f91b27f420fbb45c2cff,7c4325bbe993ef760ed4f91b27f420fbb45c2cff,Change class name: FileChooserSymbolItem → SymbolChooserItem
sorbits,2013-10-28 22:16:05,https://api.github.com/repos/textmate/textmate/git/commits/cd9dddf2128ed91334382ccf7d2616a023fcb6f3,cd9dddf2128ed91334382ccf7d2616a023fcb6f3,Use relative path in Go to File’s status bar
sorbits,2013-10-28 22:04:32,https://api.github.com/repos/textmate/textmate/git/commits/0976c048b3d76fd95983763ad24bbbbd567aec5b,0976c048b3d76fd95983763ad24bbbbd567aec5b,Add learning to Open Favorite
sorbits,2013-10-28 22:03:50,https://api.github.com/repos/textmate/textmate/git/commits/56e2d8b1767c0428bb14fa3022f8cf7ca121bc12,56e2d8b1767c0428bb14fa3022f8cf7ca121bc12,Make OakAbbreviations public
sorbits,2013-10-28 20:28:37,https://api.github.com/repos/textmate/textmate/git/commits/d70f4ad3c0b1cfd8d1be2be2df498dc35bf40933,d70f4ad3c0b1cfd8d1be2be2df498dc35bf40933,Update Open Favorite to use OakChooser
sorbits,2013-10-28 20:21:52,https://api.github.com/repos/textmate/textmate/git/commits/5e94c0b5c0720ba8e5bc4083e9b446a46484a17b,5e94c0b5c0720ba8e5bc4083e9b446a46484a17b,Make CreateAttributedStringWithMarkedUpRanges public
sorbits,2013-10-28 20:19:55,https://api.github.com/repos/textmate/textmate/git/commits/07afbd883bc89a117a35362c4b1b4bc7f36cddfc,07afbd883bc89a117a35362c4b1b4bc7f36cddfc,Tweak layout spacing
sorbits,2013-10-27 19:14:23,https://api.github.com/repos/textmate/textmate/git/commits/0ae129608b09c5987ed6bb4f5a709b9a1eb36b6f,0ae129608b09c5987ed6bb4f5a709b9a1eb36b6f,Checkin release notes
sorbits,2013-10-27 19:06:20,https://api.github.com/repos/textmate/textmate/git/commits/734f24552ddc9ea99fd52c701e97251063021cb3,734f24552ddc9ea99fd52c701e97251063021cb3,"Update symbol chooser to use OakChooser

Fixes #1160"
sorbits,2013-10-27 18:59:56,https://api.github.com/repos/textmate/textmate/git/commits/323577a013dd86afb77d1fa4b861656ee41bc116,323577a013dd86afb77d1fa4b861656ee41bc116,Use window positioning code from OakChooser
sorbits,2013-10-27 18:55:31,https://api.github.com/repos/textmate/textmate/git/commits/100423a8eeedce5554f4ceff928290192aa3bec0,100423a8eeedce5554f4ceff928290192aa3bec0,Add relative window positioning to OakChooser
sorbits,2013-10-27 17:48:39,https://api.github.com/repos/textmate/textmate/git/commits/e9d60ce7b7bafb8dee3501ed0790eedacb58e8db,e9d60ce7b7bafb8dee3501ed0790eedacb58e8db,"Drop non-singleton support for the file chooser

The main problem was restoring the data source in showWindow: since that would lose state such as selected item."
sorbits,2013-10-27 17:13:28,https://api.github.com/repos/textmate/textmate/git/commits/25307478a1975c10121492cc6b4132c8e5167371,25307478a1975c10121492cc6b4132c8e5167371,Improve default implementation of objectValueForTableColumn:
sorbits,2013-10-27 15:58:08,https://api.github.com/repos/textmate/textmate/git/commits/e95ba95ea5ba87a79ad847ffb391721d6ea7fb55,e95ba95ea5ba87a79ad847ffb391721d6ea7fb55,Remove ellipsis from Go to File window title
sorbits,2013-10-27 10:45:55,https://api.github.com/repos/textmate/textmate/git/commits/a18d8bd3e7700025b3cfd62e067aea7f9212554f,a18d8bd3e7700025b3cfd62e067aea7f9212554f,"Don’t set foreground color for (file) chooser items

Initially not-matched characters were made light gray and we also had to explicitly set the color to white when the item was highlighted.

We no longer use color distinction for matched/non-matched characters, and rendering the text as highlighted is handled by the table view (NSCell setup)."
sorbits,2013-10-27 10:45:55,https://api.github.com/repos/textmate/textmate/git/commits/f9349f6981bfa8dc42a44f935ad38ae0121b0c17,f9349f6981bfa8dc42a44f935ad38ae0121b0c17,"Enable multi-selection in file chooser

This was accidentally lost in the refactoring."
sorbits,2013-10-27 10:28:41,https://api.github.com/repos/textmate/textmate/git/commits/a9a1c380069006c64eaa7821c337958b9f35537f,a9a1c380069006c64eaa7821c337958b9f35537f,"Sign embedded bundles

This is required when signing on OS X 10.9.

Although the option is not documented for the version of codesign included with 10.8, using it does not result in an error.

Closes #1158"
sorbits,2013-10-27 10:28:09,https://api.github.com/repos/textmate/textmate/git/commits/a05de9fed550d6f2acb38524dafa4d4f9593d41b,a05de9fed550d6f2acb38524dafa4d4f9593d41b,More file chooser refactoring (introduce reusable superclass)
sorbits,2013-10-27 10:27:47,https://api.github.com/repos/textmate/textmate/git/commits/f943a6367a3948629c19ed5adf885de3a612fae2,f943a6367a3948629c19ed5adf885de3a612fae2,"Remove disableHighlight property from NSCell subclass

The desired rendering can be achieved without adding code to NSCell"
sorbits,2013-10-27 10:26:47,https://api.github.com/repos/textmate/textmate/git/commits/40d9b239b419fc89b3009d382fbd14d55ce03966,40d9b239b419fc89b3009d382fbd14d55ce03966,Refactor file chooser (isolate reusable parts)
sorbits,2013-10-25 21:06:23,https://api.github.com/repos/textmate/textmate/git/commits/4c40d6b6b9cdb9b66ac89fde4aed0ffdd5f34dd8,4c40d6b6b9cdb9b66ac89fde4aed0ffdd5f34dd8,"Allow opening files by single-clicking text (rather than icon)

This is enabled via: defaults write com.macromates.TextMate.preview fileBrowserSingleClickToOpen -bool true

Closes #187"
sorbits,2013-10-25 20:57:39,https://api.github.com/repos/textmate/textmate/git/commits/44cdbc57c61ecd463d0d6586b1b41b58e98c2664,44cdbc57c61ecd463d0d6586b1b41b58e98c2664,"Move “click to open” logic to cell

This will make it easier to change the logic, since 3 different parts of the file browser depend on it: accepting first responder, selecting items, and single-clicking items."
sorbits,2013-10-24 19:10:20,https://api.github.com/repos/textmate/textmate/git/commits/1d37649c1010a7061f120e805629d667d902460f,1d37649c1010a7061f120e805629d667d902460f,Remove instance variables from interface
veganstraightedge,2013-10-24 06:06:07,https://api.github.com/repos/textmate/textmate/git/commits/b1fe3b7561bc8f30f65aee4da3c9d87095eec968,b1fe3b7561bc8f30f65aee4da3c9d87095eec968,"Added a possessive apostrophe to `mate -h`

TextMate's, not TextMates."
sorbits,2013-10-23 16:28:29,https://api.github.com/repos/textmate/textmate/git/commits/88c4675c94dcfff47c92594aecc0014f55f01f4a,88c4675c94dcfff47c92594aecc0014f55f01f4a,Checkin release notes
sorbits,2013-10-20 20:20:11,https://api.github.com/repos/textmate/textmate/git/commits/8c16b160e0d1f8900dfdc4cd1d7643a15ddbc5ac,8c16b160e0d1f8900dfdc4cd1d7643a15ddbc5ac,"Improve “replace input” command output for column selections

The output will be inserted corresponding to the subsets selected on each line.

If the output has less lines than the column selection then the additional selected lines are cleared.

If the output has more lines than the column selection then the additional output lines are dropped."
sorbits,2013-10-20 17:09:45,https://api.github.com/repos/textmate/textmate/git/commits/3064fb82b4234c090226674056f1530f9a905e9a,3064fb82b4234c090226674056f1530f9a905e9a,Change text::range_t → ng::range_t
sorbits,2013-10-19 21:34:41,https://api.github.com/repos/textmate/textmate/git/commits/94230858f8f03fca3f87f51b6d1f976e46cfce4a,94230858f8f03fca3f87f51b6d1f976e46cfce4a,"Abort if unable to reload document

This should be handled better, but previously we would crash due to filling the stack, so better to just immediately abort when we detect the problem, so that we get a better crash report and can see how widespread the issue is."
sorbits,2013-10-19 21:24:53,https://api.github.com/repos/textmate/textmate/git/commits/1c6fd700d001c897663ad0420aff876a59a277fd,1c6fd700d001c897663ad0420aff876a59a277fd,"Catch potential exceptions from loading Cap’n Proto data files

Might fix #1134"
sorbits,2013-10-19 19:41:03,https://api.github.com/repos/textmate/textmate/git/commits/0b0d0ef5501deccf2c40eed77194eef68a75ef2b,0b0d0ef5501deccf2c40eed77194eef68a75ef2b,"Disable wrapping for NSTextView

Unfortunately this doesn’t cause the container to get the proper width, but in most cases this is probably preferred over having the content wrap."
sorbits,2013-10-19 19:21:33,https://api.github.com/repos/textmate/textmate/git/commits/20583653f9d4a55f5afb021c85e65f9279e9ae65,20583653f9d4a55f5afb021c85e65f9279e9ae65,Test if io::spawn fails
sorbits,2013-10-18 19:14:07,https://api.github.com/repos/textmate/textmate/git/commits/2d1fbc1ff5f9faf754baf6555129c8d3c2383206,2d1fbc1ff5f9faf754baf6555129c8d3c2383206,"Add Go → Go to Tab → Last Tab (⌘0)

Closes #1150"
sorbits,2013-10-18 18:31:56,https://api.github.com/repos/textmate/textmate/git/commits/c5449af10f2e112950ebdff9764ea9674548b678,c5449af10f2e112950ebdff9764ea9674548b678,"Revert ""Added spaces as an invisible""

Fixes #1145

This reverts commit 8cea97aecaabe2dbee64c9c5b8b1a9181076b291.

Conflicts:
	Frameworks/layout/src/paragraph.cc"
sorbits,2013-10-10 14:43:37,https://api.github.com/repos/textmate/textmate/git/commits/a64c590a60d7242cc6c214f5541bf66b00875820,a64c590a60d7242cc6c214f5541bf66b00875820,Use standard icon for .log files
sorbits,2013-10-08 21:27:41,https://api.github.com/repos/textmate/textmate/git/commits/8d247310a24880de2c52bccab7e420c7220ec05b,8d247310a24880de2c52bccab7e420c7220ec05b,Checkin release notes
percontation,2013-10-10 06:39:44,https://api.github.com/repos/textmate/textmate/git/commits/3548028a6589c2d8008be6cddbea07e534c7deed,3548028a6589c2d8008be6cddbea07e534c7deed,Always recommend plain text when opening files.
percontation,2013-10-10 06:17:19,https://api.github.com/repos/textmate/textmate/git/commits/52e6b326c438884bad9c14814cef84d357e22644,52e6b326c438884bad9c14814cef84d357e22644,Allow sorting bundles by installed
sclukey,2013-09-09 01:57:56,https://api.github.com/repos/textmate/textmate/git/commits/bbe1ca357bd2390be309831bc62d13fac40bf4bd,bbe1ca357bd2390be309831bc62d13fac40bf4bd,"Add “invisiblesMap” option to the .tm_properties file

This setting allows changing which invisibles are shown and what glyph
is used for them.

Invisibles are '\t', '\n', and ' ', to turn one off, add ~[\t \n] to
the settings string. To set the glyph used for the invisible, add [\t
\n][glyph_to_use]."
sclukey,2013-09-09 01:57:56,https://api.github.com/repos/textmate/textmate/git/commits/49c949d65e2cfc8722d688e0f69dbe2a5bfab517,49c949d65e2cfc8722d688e0f69dbe2a5bfab517,"Add layout_t::set_character_mapping

This allow configuring which characters should be used to render tabs, spaces, and newlines (when “show invisibles” is enabled)."
sclukey,2013-09-08 05:19:55,https://api.github.com/repos/textmate/textmate/git/commits/8cea97aecaabe2dbee64c9c5b8b1a9181076b291,8cea97aecaabe2dbee64c9c5b8b1a9181076b291,Added spaces as an invisible
sorbits,2013-10-08 19:58:25,https://api.github.com/repos/textmate/textmate/git/commits/9474a35f58bb35d3bc056595251b50bdff90f959,9474a35f58bb35d3bc056595251b50bdff90f959,"Remove QuickLook support for HTML, iCal, csv, and tsv files

All these types are already handled on a default system.

Related to issue #1141"
sorbits,2013-10-08 19:49:40,https://api.github.com/repos/textmate/textmate/git/commits/9db76137943f94dcdb4003e3dd5fb518631ff1a5,9db76137943f94dcdb4003e3dd5fb518631ff1a5,"Use file::reader_t for QuickLook preview

This ensures the file gets transcoded into UTF-8.

Closes #1141"
sorbits,2013-10-08 19:47:19,https://api.github.com/repos/textmate/textmate/git/commits/9b57695a5c1a8987500f04a7191c4117f92423e3,9b57695a5c1a8987500f04a7191c4117f92423e3,Use file::reader_t for folder search
sorbits,2013-10-08 15:35:27,https://api.github.com/repos/textmate/textmate/git/commits/0e0abfdafe5cf04e62dc2ec1d98c8c0fd7a75512,0e0abfdafe5cf04e62dc2ec1d98c8c0fd7a75512,"Add UTF-8 reader

This will transcode a file to UTF-8 with a best effort to use the correct encoding, looking at byte order mark, extended attributes, .tm_properties, and falling back on frequency analysis."
sorbits,2013-10-08 15:33:32,https://api.github.com/repos/textmate/textmate/git/commits/0a47054e14ca54e0e6514a49f859ffcec73354ec,0a47054e14ca54e0e6514a49f859ffcec73354ec,"Fix potential exception in encoding selector sheet

Some valid UTF-8 byte sequences are not valid code points, so our “simple” validation is no guarantee that creating an NSString from the data will succeed."
sorbits,2013-10-08 15:31:32,https://api.github.com/repos/textmate/textmate/git/commits/17a861fd37cf7c0032843ee92621bb6ff173e9e2,17a861fd37cf7c0032843ee92621bb6ff173e9e2,Fix potential infinite loop in the encoding selector sheet
sorbits,2013-10-07 17:03:58,https://api.github.com/repos/textmate/textmate/git/commits/dff40138f17e133ac66fe3de254708d2b815dc1a,dff40138f17e133ac66fe3de254708d2b815dc1a,Add proper sorting of numeric plist keys
sorbits,2013-10-07 16:46:42,https://api.github.com/repos/textmate/textmate/git/commits/9a6451da2c0efcb2477e1cc645a67d20fe59afc9,9a6451da2c0efcb2477e1cc645a67d20fe59afc9,"Create generated headers in configure script

Fixes #1136"
sorbits,2013-10-07 16:39:55,https://api.github.com/repos/textmate/textmate/git/commits/adb27416898f68f45421e9a718b9a41767452192,adb27416898f68f45421e9a718b9a41767452192,"Remove non-UTF-8 from clipboard data

It should be safe to assume that clipboard data is valid UTF-8, but I’m seeing crashes related to creating a CFString (from buffer content) after a paste operation, so the assumption might not be valid."
sorbits,2013-10-07 16:38:16,https://api.github.com/repos/textmate/textmate/git/commits/b45e52ae71576aea920ab617aaee61a8a477b4f2,b45e52ae71576aea920ab617aaee61a8a477b4f2,"Remove non-UTF-8 from command output

Previously we would create a hex dump from the output."
sorbits,2013-10-07 16:36:45,https://api.github.com/repos/textmate/textmate/git/commits/4d37803f5c8fee993c9a76c2ca01f4fbb829ccca,4d37803f5c8fee993c9a76c2ca01f4fbb829ccca,"Remove non-UTF-8 from completion command output

Previously an entire line containing non-UTF-8 would be discarded, now we only remove the problematic bytes."
sorbits,2013-10-07 16:34:40,https://api.github.com/repos/textmate/textmate/git/commits/2fa5d7ddb29fe39771d09b2de2cd3ef2c0c0fd10,2fa5d7ddb29fe39771d09b2de2cd3ef2c0c0fd10,"Add UTF-8 sanitization function

This can be used to remove malformed multibyte sequences."
sorbits,2013-10-07 14:38:20,https://api.github.com/repos/textmate/textmate/git/commits/51a7424c90c3b2d57e56bf2c92b2c26d29153890,51a7424c90c3b2d57e56bf2c92b2c26d29153890,Add additional crash report info
sorbits,2013-10-06 21:02:07,https://api.github.com/repos/textmate/textmate/git/commits/81006920c29a3aa6398e96b7894e61fc378d6fc6,81006920c29a3aa6398e96b7894e61fc378d6fc6,Simplify binding setup for encoding pop-up button
sorbits,2013-10-06 20:51:52,https://api.github.com/repos/textmate/textmate/git/commits/5b27a39bb8d690f251d14d7f8cd38c972969fcaf,5b27a39bb8d690f251d14d7f8cd38c972969fcaf,Fix compatibility with 10.7
sorbits,2013-10-06 20:50:52,https://api.github.com/repos/textmate/textmate/git/commits/1baa95395542118ebbe499e95f55434972efe019,1baa95395542118ebbe499e95f55434972efe019,"Set the encoding window controller as window delegate

No reason for this other than it seems right."
sorbits,2013-10-06 20:49:47,https://api.github.com/repos/textmate/textmate/git/commits/72d6851eb0894cbfe89ffcd5c23021b1718293f3,72d6851eb0894cbfe89ffcd5c23021b1718293f3,Avoid leaking the encoding chooser sheet
sorbits,2013-10-05 12:23:50,https://api.github.com/repos/textmate/textmate/git/commits/186af2fb21086a8653ec6707bd4a4572d0c64f2e,186af2fb21086a8653ec6707bd4a4572d0c64f2e,"Always place bookmarks on top of “search marks”

Logically I think the less temporary marks should be eclipsed, but this currently lead to inconsistencies with respect to hover images, e.g. hovering a search mark that also has a bookmark should show “remove bookmark” which it presently doesn’t, and will require a bit of refactoring to allow.

Issue #1132"
sorbits,2013-10-05 12:00:48,https://api.github.com/repos/textmate/textmate/git/commits/bf09650c0b07649b527ae2d6b5dedf7a322a0682,bf09650c0b07649b527ae2d6b5dedf7a322a0682,"Reload file using most probable charset when it changes on disk

Previously if the file had been loaded as ASCII/UTF-8 and was changed on disk to something other than UTF-8, TextMate would go into infinite loop (retrying with UTF-8). It now uses the encoding classifier to find the most probable encoding (based on learned frequencies) falling back on ISO-8859-1, if there is no candidate.

Ideally it would bring up a warning, informing the user of the problem and allowing a manual correction of character set.

Fixes #1073."
sorbits,2013-10-04 19:55:38,https://api.github.com/repos/textmate/textmate/git/commits/b8bccf684b4f172a140f0174d52ae08df7afe27d,b8bccf684b4f172a140f0174d52ae08df7afe27d,"Fix re-indented paste with zig-zap selections

When selecting multiple lines, but not including the newline on the last line of the selection, TextMate still consider it a “full line” and will insert a newline when pasting, unless pasting on an empty line.

Previously the check to see if the line was empty, would not account for a non-empty but selected line, which would effectively be empty since the selected text is deleted before pasting."
sorbits,2013-10-04 11:38:16,https://api.github.com/repos/textmate/textmate/git/commits/5f765ab061e8c7573ea28ceb24ac38827768ab30,5f765ab061e8c7573ea28ceb24ac38827768ab30,Use encoding::classifier_t when opening files
sorbits,2013-10-03 16:20:54,https://api.github.com/repos/textmate/textmate/git/commits/bd978fcb7e1bfa00e17d429db46f70d272ce23b6,bd978fcb7e1bfa00e17d429db46f70d272ce23b6,Add naive encoding classifier
sorbits,2013-09-25 16:52:28,https://api.github.com/repos/textmate/textmate/git/commits/344fac505b83c4d400b4621cf52e99520aaa4937,344fac505b83c4d400b4621cf52e99520aaa4937,"Improve the “unknown encoding” sheet

A preview is now shown with the problematic lines highlighted."
sorbits,2013-10-03 20:27:25,https://api.github.com/repos/textmate/textmate/git/commits/a2131a6472c8365ee4995febe3727db38af53747,a2131a6472c8365ee4995febe3727db38af53747,"Add two-way binding support to OakEncodingPopUpButton

Previously binding to the view’s encoding property would not update the bound object when the view changed its value."
sorbits,2013-09-29 19:41:31,https://api.github.com/repos/textmate/textmate/git/commits/2fe3b955853f0dcb143ece8356ad3d118f936cf4,2fe3b955853f0dcb143ece8356ad3d118f936cf4,Add debug output
sorbits,2013-09-29 19:33:58,https://api.github.com/repos/textmate/textmate/git/commits/f87724f4067b758f96fb67a2c4b733307d82b445,f87724f4067b758f96fb67a2c4b733307d82b445,"Rules are (unfortunately) not const during parsing

This is because of the “included” boolean we use to mark rules to avoid collecting them twice."
sorbits,2013-09-24 21:21:35,https://api.github.com/repos/textmate/textmate/git/commits/558d7ee8b99833f29b5d2d002362aae5213d2537,558d7ee8b99833f29b5d2d002362aae5213d2537,Don’t default placeholders with no default text as mirrors
sorbits,2013-09-24 19:33:30,https://api.github.com/repos/textmate/textmate/git/commits/4363a27897b571b7276128cdd0582dffe9934919,4363a27897b571b7276128cdd0582dffe9934919,"Source bash_init.sh for code in snippets that have no shebang

This is consistent with TextMate 1.x behavior.

Fixes ruby.tmbundle#56"
sorbits,2013-09-23 14:36:28,https://api.github.com/repos/textmate/textmate/git/commits/40233245e289e15a63a1d8e57c1c7e5eaaa490b8,40233245e289e15a63a1d8e57c1c7e5eaaa490b8,Add crash report info to code involved in a crash
sorbits,2013-09-23 14:35:31,https://api.github.com/repos/textmate/textmate/git/commits/c602958e66658d3286252df0e6888a28471314e5,c602958e66658d3286252df0e6888a28471314e5,"Don’t stack allocate space for extended attribute values

Seeing a few crashes related to this, most likely because an extended attribute holds a value larger than available stack space."
sorbits,2013-09-23 14:34:15,https://api.github.com/repos/textmate/textmate/git/commits/c5558d05740edf62903174d6a7ab02255c5d7745,c5558d05740edf62903174d6a7ab02255c5d7745,Remove a few std::shared_ptr typedefs
sorbits,2013-09-22 10:46:46,https://api.github.com/repos/textmate/textmate/git/commits/fe9b6b0721bc842592d274d5e3b97a3f6d353db0,fe9b6b0721bc842592d274d5e3b97a3f6d353db0,"Workaround for Xcode 5

My interpretation: The old inline array is interpreted as an initializer list which cannot (yet) be used with Objective-C objects when ARC is enabled.

Fixes #1037"
sorbits,2013-09-15 20:26:02,https://api.github.com/repos/textmate/textmate/git/commits/76dc76b57aa31adb6d22e8b38f4bd48ecceb39ef,76dc76b57aa31adb6d22e8b38f4bd48ecceb39ef,Fix typo in debug output
sorbits,2013-09-15 19:15:18,https://api.github.com/repos/textmate/textmate/git/commits/72791ce406a4d8ce0f9b0bfb02a6a40c9b016f37,72791ce406a4d8ce0f9b0bfb02a6a40c9b016f37,"Update last effective tab when number of tabs change

Closes #1120"
sorbits,2013-09-15 18:19:07,https://api.github.com/repos/textmate/textmate/git/commits/9fe5a058ce021c2c75e656c1d702868bf1f8e30f,9fe5a058ce021c2c75e656c1d702868bf1f8e30f,Make buffer_t::wait_for_repair a no-op with no grammar
sorbits,2013-09-15 18:16:56,https://api.github.com/repos/textmate/textmate/git/commits/b4f7fc9a49fb5ae57722de43deccaff476f4c7a8,b4f7fc9a49fb5ae57722de43deccaff476f4c7a8,Remove unsupported encodings (libiconv v2.4.0)
sorbits,2013-09-15 18:09:18,https://api.github.com/repos/textmate/textmate/git/commits/cf599498a94f6ef6904e3d6f553e4cf27f329246,cf599498a94f6ef6904e3d6f553e4cf27f329246,"Fix encoding names for Atari ST, GB_1988-80, and HZ-GB-2312"
sorbits,2013-09-12 22:27:38,https://api.github.com/repos/textmate/textmate/git/commits/e6541240a90dcc3dccfdd76192baa39f590f1de1,e6541240a90dcc3dccfdd76192baa39f590f1de1,Checkin release notes
sorbits,2013-09-12 21:12:58,https://api.github.com/repos/textmate/textmate/git/commits/3e2567d2d08cba88308dab3da029346e226afc7d,3e2567d2d08cba88308dab3da029346e226afc7d,"Add Sticky and Close Tabs to the Right to File menu

The title of the Sticky item is nonsensical, but I couldn’t come up with anything good.

Closes #1110."
sorbits,2013-09-12 21:10:59,https://api.github.com/repos/textmate/textmate/git/commits/712a18cd5038ee3fb1fbb298957abf7bab7493f9,712a18cd5038ee3fb1fbb298957abf7bab7493f9,Add IBAction to methods
sorbits,2013-09-12 20:59:34,https://api.github.com/repos/textmate/textmate/git/commits/1ae67343f1e17ee61fdfe43976d68f8a6c1dad7c,1ae67343f1e17ee61fdfe43976d68f8a6c1dad7c,Add menu validation for close tabs related actions
sorbits,2013-09-12 20:56:40,https://api.github.com/repos/textmate/textmate/git/commits/35ad8a1ed97f1b55f1f0f9f7820ee0fe2d4b5ab0,35ad8a1ed97f1b55f1f0f9f7820ee0fe2d4b5ab0,Add action method for closing tabs to the right
sorbits,2013-09-12 20:48:53,https://api.github.com/repos/textmate/textmate/git/commits/aa08d67090d22f532f56287030158712b7257a77,aa08d67090d22f532f56287030158712b7257a77,"Let tab menu methods fallback on active tab

These normally require that the sender is an NSIndexSet or has one as its represented object, but with this commit, they will also be usable when there is no index set available, and will then simply use the active tab."
infininight,2013-09-12 20:29:08,https://api.github.com/repos/textmate/textmate/git/commits/683ccd3ab29c2a0a1fb42976a7848cd79ac20e3c,683ccd3ab29c2a0a1fb42976a7848cd79ac20e3c,"Add icon definitions to CFBundleDocumentTypes

Works around a bug where icons are not inherited from the UTI definitions."
sorbits,2013-09-12 19:37:18,https://api.github.com/repos/textmate/textmate/git/commits/fb8627d07706e4a96f3ec15bf697a20762541b89,fb8627d07706e4a96f3ec15bf697a20762541b89,"Intersect left/right scope for rendering soft break nodes

This is only relevant for indented soft wrap where e.g. the text following the soft break is underlined: Previously we would then render an underline for the soft break node itself (which normally consists of whitespace)."
sorbits,2013-09-12 17:10:03,https://api.github.com/repos/textmate/textmate/git/commits/e4a5db0f3b18ba52886f39f7cc12cbd097bed839,e4a5db0f3b18ba52886f39f7cc12cbd097bed839,"Only first call to window.close() would have an effect

This is a workaround for https://bugs.webkit.org/show_bug.cgi?id=121232"
sorbits,2013-09-12 16:42:31,https://api.github.com/repos/textmate/textmate/git/commits/776a8d46d9a3e53a68cf3bbfd494270c464aafb8,776a8d46d9a3e53a68cf3bbfd494270c464aafb8,Fix window.close() for HTML output embedded in main window
sorbits,2013-09-12 16:35:30,https://api.github.com/repos/textmate/textmate/git/commits/f251c0b7d31a1b1bd607a4c0087df1db9947d2e3,f251c0b7d31a1b1bd607a4c0087df1db9947d2e3,Do not re-use closed HTML output windows
sorbits,2013-09-12 15:22:00,https://api.github.com/repos/textmate/textmate/git/commits/2f72f84ae531164d2e6bb34eedfec99945e42ed2,2f72f84ae531164d2e6bb34eedfec99945e42ed2,Add leak watcher and some debug output
sorbits,2013-09-12 15:17:38,https://api.github.com/repos/textmate/textmate/git/commits/3f055aa3182fe1c76592eae012e1acc2c042382b,3f055aa3182fe1c76592eae012e1acc2c042382b,Clear all web view delegates during dealloc
sorbits,2013-09-09 10:09:50,https://api.github.com/repos/textmate/textmate/git/commits/8c7e68bf2fd7482a1c805e6dad9acf078ac110af,8c7e68bf2fd7482a1c805e6dad9acf078ac110af,Ensure that at least 8 tabs stay open when auto-pruning
dusek,2013-09-08 08:55:47,https://api.github.com/repos/textmate/textmate/git/commits/21088105a8646db664f5fcfccc18f3d612931694,21088105a8646db664f5fcfccc18f3d612931694,"Support text attributes with VoiceOver

VoiceOver can announce text formatting, such as bold font, italics,
underline, font, etc., as well as whether text is misspelled. For this,
it needs the AXAttributedStringForRange attribute supported. This commit
does exactly that.

Testing can be done in this way (VO stands for Ctrl-Option):

* first interact with the text (VO-Shift-down arrow when standing
  on the text element)
* to announce text attributes for character after cursor, press VO-T
* to seek for next:
  * misspelled text: VO-Cmd-E
  * color change:    VO-Cmd-K
  * underlined text: VO-Cmd-U
  * many more (see VO-H-H, ""Find"", close help with Esc)
* to seek for previous *: just add Shift to the shortcut

Some attributes remain to be supported (full list of attributes is available at: https://developer.apple.com/library/mac/documentation/cocoa/reference/applicationkit/Protocols/NSAccessibility_Protocol/Reference/Reference.html#//apple_ref/doc/uid/20000945-SW53).

The misspelled text VoiceOver support can be used nicely with TextMate's
spelling support:

1. the user finds next mistake with VO-Cmd-E, hears the misspelled word,
   perhaps reads it on a braille display
2. the user then presses Cmd-; to show the spelling menu for that word
   and chooses the desired resolution (apply suggested correction etc.)
3. go back to step 1. :-)"
rdwampler,2013-09-04 01:50:07,https://api.github.com/repos/textmate/textmate/git/commits/08b0b5ba0b8810a4c8ecc2373eae601001560e84,08b0b5ba0b8810a4c8ecc2373eae601001560e84,"Let OakFinderLabelChooser draw and manage it's own title

This removes the need to create and manage a separate menu item
as a placeholder for the title of the color swatch in the file
browser action menu."
sorbits,2013-09-06 10:15:09,https://api.github.com/repos/textmate/textmate/git/commits/2ad5b2fb59ff173eb77d5e68485183a55f117690,2ad5b2fb59ff173eb77d5e68485183a55f117690,Checkin release notes
sorbits,2013-09-05 21:16:10,https://api.github.com/repos/textmate/textmate/git/commits/96283a65549cae1980ecba1b94e91b08a7d91709,96283a65549cae1980ecba1b94e91b08a7d91709,Update to Cap’n Proto v0.3.0
sorbits,2013-09-05 21:11:39,https://api.github.com/repos/textmate/textmate/git/commits/e2660960e76c656d842908141e386b2197fbea10,e2660960e76c656d842908141e386b2197fbea10,Reject bundle index cache if version is not the current
sorbits,2013-09-05 21:01:30,https://api.github.com/repos/textmate/textmate/git/commits/2107223460c6110357e648d3f0c520b720c7d886,2107223460c6110357e648d3f0c520b720c7d886,"Don’t close file descriptor until after ~PackedFdMessageReader()

The message reader may use the file descriptor in its destructor, which is why we can’t close it until that object has been destroyed."
sorbits,2013-09-05 19:56:39,https://api.github.com/repos/textmate/textmate/git/commits/d3a78e59f2d4022dc235146a2f43725ea5f71758,d3a78e59f2d4022dc235146a2f43725ea5f71758,Put posix_spawn related failure in crash report
sorbits,2013-09-05 19:53:14,https://api.github.com/repos/textmate/textmate/git/commits/f346f2e717a50a2f28fc10fda96e67c4cbc179ab,f346f2e717a50a2f28fc10fda96e67c4cbc179ab,Ensure delegate is retained
sorbits,2013-09-05 18:45:41,https://api.github.com/repos/textmate/textmate/git/commits/1c308c810d23dfb6fc3803a5a8bfdaf19e866cb8,1c308c810d23dfb6fc3803a5a8bfdaf19e866cb8,Use map::emplace instead of inserting std::pair (C++11)
joachimm,2013-09-05 18:35:14,https://api.github.com/repos/textmate/textmate/git/commits/ca98e2f86d940d7e5b74feb2edf45e7a6d84cbfa,ca98e2f86d940d7e5b74feb2edf45e7a6d84cbfa,Use std::atomic family
sorbits,2013-09-05 15:23:53,https://api.github.com/repos/textmate/textmate/git/commits/aa24f237c691c74b0518e97c66c58ba8a318a912,aa24f237c691c74b0518e97c66c58ba8a318a912,"Make last effective (proxy) tab sticky

When the tab bar overflows and the selected tab would normally be rendered outside the visible area, we use the last visible tab as a proxy. With this commit, the last visible tab keeps showing the document if switching to another (visible) tab."
sorbits,2013-09-05 11:09:38,https://api.github.com/repos/textmate/textmate/git/commits/5c4573873fb3bcf996965cc367896736af58ce65,5c4573873fb3bcf996965cc367896736af58ce65,"Protect grammar_t with mutex

Presently buffer_t::wait_for_repair will use the grammar from the main thread (rather than wait for the parse thread to finish) which does cause a race condition since the parser will now mutate the grammar (graph coloring).

Ideally buffer_t::wait_for_repeat would simply wait for the parser to finish, but I’d prefer to first switch the parser to use GCD."
sorbits,2013-09-05 10:30:39,https://api.github.com/repos/textmate/textmate/git/commits/69be0205ba8c4afd52ec3cd522889382f8ef6360,69be0205ba8c4afd52ec3cd522889382f8ef6360,"Fix update of misspelled ranges

If nothing was misspelled in the updated range, and a value existed for the end of the range (indicating that what followed the updated range was misspelled) then that value would be erased."
sorbits,2013-09-04 13:19:43,https://api.github.com/repos/textmate/textmate/git/commits/145a4f638662be289d54ebe9e37d382931b5add6,145a4f638662be289d54ebe9e37d382931b5add6,Implement NSChangeSpelling and NSIgnoreMisspelledWords
sorbits,2013-09-04 10:53:32,https://api.github.com/repos/textmate/textmate/git/commits/b832a8d7d05d8e5c16aa61e9f4cffa32896614ff,b832a8d7d05d8e5c16aa61e9f4cffa32896614ff,"Use specialized menu for Check Spelling

We only show “Find Next” (previously “Show Next”) when context menu is shown as a result of “Check Spelling” and we leave out the other actions."
sorbits,2013-09-04 10:39:06,https://api.github.com/repos/textmate/textmate/git/commits/68bf3efff9d22729fe70fcb2d9c5224fd2dcf3e7,68bf3efff9d22729fe70fcb2d9c5224fd2dcf3e7,"Synchronize spelling panel and buffer languages

If the spelling panel is visible when checkSpelling: is invoked then its language is taken and used for the buffer. If the panel is not visible, the buffer’s language is set for the spelling panel.

We probably should also set the spelling panel’s language when switching document, and when the panel is first opened. I don’t think the code complexity is really worth it though (depends on how often one use the spelling panel with a non-default language).

Fixes #1104"
sorbits,2013-09-04 10:37:23,https://api.github.com/repos/textmate/textmate/git/commits/d265d24441d81e036f8fb5df317ec0b91c6f9a41,d265d24441d81e036f8fb5df317ec0b91c6f9a41,"Enable “Check Spelling as You Type” in checkSpelling:

This is required so that we have the proper meta data (misspelling ranges)."
sorbits,2013-09-04 10:36:44,https://api.github.com/repos/textmate/textmate/git/commits/160dcf50afadd28e6f8cfd1fad4fd5e8d0351f8f,160dcf50afadd28e6f8cfd1fad4fd5e8d0351f8f,Use local variable for document->buffer()
sorbits,2013-09-04 10:19:58,https://api.github.com/repos/textmate/textmate/git/commits/13ca6b731eea41d8bf309ab22315963aeb82d866,13ca6b731eea41d8bf309ab22315963aeb82d866,Update spelling panel and use when visible
sorbits,2013-09-04 10:12:35,https://api.github.com/repos/textmate/textmate/git/commits/a20778f5de73feb00883d03e65cf7a04992221f0,a20778f5de73feb00883d03e65cf7a04992221f0,Enable text view’s context menu actions
sorbits,2013-09-03 14:47:04,https://api.github.com/repos/textmate/textmate/git/commits/ae708eaa4139fa32d046dddf510e304dcf89304d,ae708eaa4139fa32d046dddf510e304dcf89304d,"Remove Text → Transpose Words

This is unimplemented and I probably won’t implement it unless there is a very compelling use-case.

The Text → Transpose action can already transpose words, either when separated by whitespace, comma, etc., or when the words are selected as two (or more) discontinuous selections.

Closes #1109"
nanoant,2013-09-03 06:54:36,https://api.github.com/repos/textmate/textmate/git/commits/de21c812a90d4a4cb099e5e4e5f23c603e131c4c,de21c812a90d4a4cb099e5e4e5f23c603e131c4c,"Only show suggestions when Check Spelling is called via menu item

Otherwise just select next spelling error on Check Spelling, which is called by
spelling panel as well."
nanoant,2013-09-02 19:03:20,https://api.github.com/repos/textmate/textmate/git/commits/b0b182e2e1f59b25adc40326766808a76d2cd782,b0b182e2e1f59b25adc40326766808a76d2cd782,"Invalidate spelling when ignoring or learning a word

We invalidate the entire buffer since the word can appear in multiple locations. This could be optimized to only invalidate misspelled instances of the ignored or learned word. Likewise, we redraw entire buffer since the refresh macro is not able to handle changes in spelling meta data and calculate minimal refresh region."
nanoant,2013-09-02 18:46:06,https://api.github.com/repos/textmate/textmate/git/commits/6997fb820e5d36fdeb778e26709bc8a8352ffe7d,6997fb820e5d36fdeb778e26709bc8a8352ffe7d,Reduce text overlap when showing context menu
nanoant,2013-09-02 18:45:19,https://api.github.com/repos/textmate/textmate/git/commits/cc137f3c249081c3e4e829682ce0dfd9771ab19f,cc137f3c249081c3e4e829682ce0dfd9771ab19f,"Add Show Next for quick spelling iteration

Also add key equivalents to spell popup menu."
nanoant,2013-09-02 18:04:55,https://api.github.com/repos/textmate/textmate/git/commits/6c6316573f782655321a4308644c8f27aa9caf7e,6c6316573f782655321a4308644c8f27aa9caf7e,"Implement Check Spelling

Now using Edit -> Spelling -> Check Spelling selects next spelling error or one
at caret if it was not yet selected, then shows context menu with correction
suggestions.

This makes checking spelling as easy as tapping Cmd+;

Closes #1103"
sorbits,2013-09-02 16:13:18,https://api.github.com/repos/textmate/textmate/git/commits/02e64d17e69949d85f14950fed10987ab17a8bcb,02e64d17e69949d85f14950fed10987ab17a8bcb,Remove unused operation queue type
sorbits,2013-09-01 20:44:40,https://api.github.com/repos/textmate/textmate/git/commits/e4e80a946c5a83828c38417bea8a43d893b6a6a4,e4e80a946c5a83828c38417bea8a43d893b6a6a4,Use std::make_shared
sorbits,2013-08-31 20:47:45,https://api.github.com/repos/textmate/textmate/git/commits/d58bb1fdde9d98b612be2ba885edd2b953e13214,d58bb1fdde9d98b612be2ba885edd2b953e13214,Avoid using NULL_STR with scope_t::push_scope
infininight,2013-09-03 07:43:41,https://api.github.com/repos/textmate/textmate/git/commits/c1bdbfa9752206d2948a0d7276c07fb6416bbca9,c1bdbfa9752206d2948a0d7276c07fb6416bbca9,"Use UTIs for both application and Quicklook generator

UTIs are taken from both the Apple supplied list and newly created for those that didn't exist. For those languages where no clear 'owner' existed to provide the reverse-DNS notation we use a com.macromates.* stand-in."
rdwampler,2013-08-06 00:40:57,https://api.github.com/repos/textmate/textmate/git/commits/e631068c56b60b67de573e5c58f8a99c661e652d,e631068c56b60b67de573e5c58f8a99c661e652d,"Show a chevron menu button when tab bar overflows

The behavior is based on Safari where last visible tab is swapped with the selected tab, if selected tab itself would not be visible.

Commit edited by Allan Odgaard, original version used document icons in overflow menu and would make the effective last tab sticky.

Closes #1060"
sorbits,2013-08-31 19:21:51,https://api.github.com/repos/textmate/textmate/git/commits/29ba700c71d7fb22b7587fd67da3e4a07d3c8c5f,29ba700c71d7fb22b7587fd67da3e4a07d3c8c5f,More encapsulation
sorbits,2013-08-31 19:13:45,https://api.github.com/repos/textmate/textmate/git/commits/ba29e9076232f0c5dccac51cdb5493394456a829,ba29e9076232f0c5dccac51cdb5493394456a829,Remove redundant assert
sorbits,2013-08-31 19:04:52,https://api.github.com/repos/textmate/textmate/git/commits/91fb146f26a591fb8811b68b14ffaf6eacf948a6,91fb146f26a591fb8811b68b14ffaf6eacf948a6,Remove custom debug/trace log system
sorbits,2013-08-31 19:03:47,https://api.github.com/repos/textmate/textmate/git/commits/95376adb7905d634af0ead7458d1125b2033720e,95376adb7905d634af0ead7458d1125b2033720e,Convert scope match API to accept C strings
sorbits,2013-08-31 18:57:31,https://api.github.com/repos/textmate/textmate/git/commits/f67c91dcb9fbae378948ad4dc3beaf109f2c2013,f67c91dcb9fbae378948ad4dc3beaf109f2c2013,"Introduce C string API

This may seem like a step back, but is the easiest way to deal with “static strings” (that should not be copied)."
sorbits,2013-08-31 18:33:35,https://api.github.com/repos/textmate/textmate/git/commits/caf347e66df77ac937968ffcc27f2a53bcf13719,caf347e66df77ac937968ffcc27f2a53bcf13719,Remove unused to_s functions
sorbits,2013-08-31 18:19:45,https://api.github.com/repos/textmate/textmate/git/commits/f0a932e9e47aafa486e28752976af657553dff89,f0a932e9e47aafa486e28752976af657553dff89,Remove unused comparison operators
sorbits,2013-08-31 18:17:06,https://api.github.com/repos/textmate/textmate/git/commits/96e0a6e0ff5c3a456db85cc64be2176c84081883,96e0a6e0ff5c3a456db85cc64be2176c84081883,Improve encapsulation
sorbits,2013-08-31 16:26:10,https://api.github.com/repos/textmate/textmate/git/commits/9bf9c514946b870132187a354bcf05c5d52774fd,9bf9c514946b870132187a354bcf05c5d52774fd,Use linked list for scope_t data
sorbits,2013-08-31 14:08:49,https://api.github.com/repos/textmate/textmate/git/commits/0a8a23815900d264173c1feba58c5d4495b76bde,0a8a23815900d264173c1feba58c5d4495b76bde,Add more scope selector tests
sorbits,2013-08-31 14:03:47,https://api.github.com/repos/textmate/textmate/git/commits/d241a971f27b639fc814235316c0a9723c5ba7d4,d241a971f27b639fc814235316c0a9723c5ba7d4,"Update scope selector matching code

This is in anticipation of changing scope_t data layout."
sorbits,2013-08-30 21:02:16,https://api.github.com/repos/textmate/textmate/git/commits/c01e181b490f3361ba4390b927c02de36e10a1cb,c01e181b490f3361ba4390b927c02de36e10a1cb,Use name convention to identify non-content scopes
sorbits,2013-08-30 20:48:46,https://api.github.com/repos/textmate/textmate/git/commits/cc56c61c78bd80f0db22bc260762d5951e271a36,cc56c61c78bd80f0db22bc260762d5951e271a36,"Remove scope::types::atom_t

This is first step toward decreasing memory usage by scope_t."
sorbits,2013-08-30 19:49:46,https://api.github.com/repos/textmate/textmate/git/commits/0f5bbdfad0c13b59a9a816d9b92d0eada343ad9a,0f5bbdfad0c13b59a9a816d9b92d0eada343ad9a,Remove unused scope parsing API
sorbits,2013-08-30 19:47:29,https://api.github.com/repos/textmate/textmate/git/commits/c0e8186bc111ae735ece4f3de69492d963d5b80d,c0e8186bc111ae735ece4f3de69492d963d5b80d,"When constructing scope, split string on space instead of parsing"
sorbits,2013-08-30 19:46:52,https://api.github.com/repos/textmate/textmate/git/commits/05b0b480f1198da2982c34ce47cf76de6010af37,05b0b480f1198da2982c34ce47cf76de6010af37,Handle assigning empty scope to non-empty scope
sorbits,2013-08-30 10:22:14,https://api.github.com/repos/textmate/textmate/git/commits/b52b13329e08bd4b4529dadae46a2cb3d4ce6dfa,b52b13329e08bd4b4529dadae46a2cb3d4ce6dfa,Call scope_t::empty instead of using an operator bool cast
sorbits,2013-08-30 10:09:45,https://api.github.com/repos/textmate/textmate/git/commits/240dc4baec23f15562a1609f5c6aec6bde2155ee,240dc4baec23f15562a1609f5c6aec6bde2155ee,"Simplify scope::shared_prefix and scope_t::has_prefix

This is mainly for upcoming implementation changes."
sorbits,2013-08-30 10:04:38,https://api.github.com/repos/textmate/textmate/git/commits/b624d7cc98d2a9e437cff70fd3ed7a55c1c7b9af,b624d7cc98d2a9e437cff70fd3ed7a55c1c7b9af,"Treat empty string as empty scope

Previously would be a scope with one empty “atom”."
sorbits,2013-08-30 10:07:11,https://api.github.com/repos/textmate/textmate/git/commits/62e3db265c59dcbe1f5d97d40bfef0350e1842fa,62e3db265c59dcbe1f5d97d40bfef0350e1842fa,Add scope_t::empty and scope_t::size
sorbits,2013-08-30 10:02:32,https://api.github.com/repos/textmate/textmate/git/commits/79dc48acc32dbce1fd9b7ec9cdc4573e26896f1b,79dc48acc32dbce1fd9b7ec9cdc4573e26896f1b,Add range check to scope atom parser
sorbits,2013-08-30 10:00:56,https://api.github.com/repos/textmate/textmate/git/commits/69316d4da1ede12f34d66da3ecb7342c1d3fb8d6,69316d4da1ede12f34d66da3ecb7342c1d3fb8d6,"Don’t call scope_t::push_scope with empty scope attributes

Previously would be called with an empty string."
sorbits,2013-08-29 21:45:16,https://api.github.com/repos/textmate/textmate/git/commits/c1f14616a53d8ad93a0076613fdd9d7e57de8d90,c1f14616a53d8ad93a0076613fdd9d7e57de8d90,"Use ‘char const*’ with scope_t::push_scope

This is to allow distinguishing between static and dynamic strings."
sorbits,2013-08-29 21:03:17,https://api.github.com/repos/textmate/textmate/git/commits/f56e6ae36a3ff4da57116f9c12265ed415590e00,f56e6ae36a3ff4da57116f9c12265ed415590e00,Fix potential out of range access
sorbits,2013-08-29 21:00:46,https://api.github.com/repos/textmate/textmate/git/commits/b53fb59528ac7a0fc3017fd8a47799d6672b114e,b53fb59528ac7a0fc3017fd8a47799d6672b114e,Fix crash when giving nil string to FFDocumentSearch
sorbits,2013-08-29 20:58:15,https://api.github.com/repos/textmate/textmate/git/commits/ed7d457e657640afff4f9df30ef4fc927e3d3693,ed7d457e657640afff4f9df30ef4fc927e3d3693,"Use text::tokenize instead of text::split

This avoids duplicating the memory used."
sorbits,2013-08-29 11:27:26,https://api.github.com/repos/textmate/textmate/git/commits/bd2f7aa44e7a1665a16e381af53d3a3961810bf4,bd2f7aa44e7a1665a16e381af53d3a3961810bf4,"Decode plus characters in txmt URLs

This is done by using decode::url_part instead of stringByReplacingPercentEscapesUsingEncoding:"
sorbits,2013-08-29 11:26:16,https://api.github.com/repos/textmate/textmate/git/commits/b7bc35ed9d96d14ecf9061d94a3271dec9b7f650,b7bc35ed9d96d14ecf9061d94a3271dec9b7f650,Let decode::url_part convert plus to space
sorbits,2013-08-28 13:26:57,https://api.github.com/repos/textmate/textmate/git/commits/282e018ec873f54411b9f11b5cfc9e4541bcd65c,282e018ec873f54411b9f11b5cfc9e4541bcd65c,"Use format string parser for symbol transformations

This avoids an extra layer of escapes."
sorbits,2013-08-28 13:23:52,https://api.github.com/repos/textmate/textmate/git/commits/27c054484ee9854621dcff5d3db37cd2bc367a25,27c054484ee9854621dcff5d3db37cd2bc367a25,"Allow “stop chars” when parsing a format string

This is useful when we have a format that embed format strings and we wish to use the format string parsers (to avoid an extra layer of escapes)."
sorbits,2013-08-28 12:14:16,https://api.github.com/repos/textmate/textmate/git/commits/8feaba809e934d19541b9e8a92dd4a3b15d2ad18,8feaba809e934d19541b9e8a92dd4a3b15d2ad18,Include unhandled C++ exceptions in crash report
sorbits,2013-08-28 11:52:33,https://api.github.com/repos/textmate/textmate/git/commits/fc7f86d8ebc919a34ac4e1967f6765062220a7ae,fc7f86d8ebc919a34ac4e1967f6765062220a7ae,"Do not clear cache during normal lookup

We keep indirect references to cache lookups (for the duration of the function that use the cache) so we can only do cleanup at the start or end of the function which use the cache."
sorbits,2013-08-27 22:20:47,https://api.github.com/repos/textmate/textmate/git/commits/1442e3061fe25d250d9178b4cd83ac3a40c5e5b0,1442e3061fe25d250d9178b4cd83ac3a40c5e5b0,Remove old scope_t API
sorbits,2013-08-27 22:16:35,https://api.github.com/repos/textmate/textmate/git/commits/7247695f9b574209d6721f7bf0cbcf82075db6c4,7247695f9b574209d6721f7bf0cbcf82075db6c4,Update buffer_t::scopes to new scope_t API
sorbits,2013-08-27 20:28:39,https://api.github.com/repos/textmate/textmate/git/commits/d42417ee1af5efc25bf47f2bbd391a311e90ed1b,d42417ee1af5efc25bf47f2bbd391a311e90ed1b,Use public API for scope_t utility functions
sorbits,2013-08-27 20:24:06,https://api.github.com/repos/textmate/textmate/git/commits/1cc0065623b45dfcc573ac73373c80db785b232e,1cc0065623b45dfcc573ac73373c80db785b232e,Return false from ‘scope_t::operator bool’ when there is no scope
sorbits,2013-08-27 19:28:46,https://api.github.com/repos/textmate/textmate/git/commits/33ed6b663769bc7d9ba67b50d95ab19bfce01738,33ed6b663769bc7d9ba67b50d95ab19bfce01738,Watch leaks for grammar_t
sorbits,2013-08-27 18:24:10,https://api.github.com/repos/textmate/textmate/git/commits/d93b20d5713afc7db5c69bbeae7559b9162ba3ef,d93b20d5713afc7db5c69bbeae7559b9162ba3ef,Use new scope_t API
sorbits,2013-08-27 18:10:19,https://api.github.com/repos/textmate/textmate/git/commits/5da71f955642fa3183dd239f921eb71ef0e82096,5da71f955642fa3183dd239f921eb71ef0e82096,Add new API for mutating scope_t
sorbits,2013-08-27 18:09:02,https://api.github.com/repos/textmate/textmate/git/commits/cfa913d0f5be576cf6deb96e49a52ddc4d48266b,cfa913d0f5be576cf6deb96e49a52ddc4d48266b,Fix retain cycle
sorbits,2013-08-27 13:22:42,https://api.github.com/repos/textmate/textmate/git/commits/057096af5b7efcae58bcc56e1d47311708f70844,057096af5b7efcae58bcc56e1d47311708f70844,"Rename API to make searching easier

Using generic names like ‘append’ is not good when analyzing code for potential refactoring."
sorbits,2013-08-27 12:42:45,https://api.github.com/repos/textmate/textmate/git/commits/275273d39ba03a06713599c964f97b1a22f438e3,275273d39ba03a06713599c964f97b1a22f438e3,Add missing “is content scope” argument
sorbits,2013-08-27 12:22:27,https://api.github.com/repos/textmate/textmate/git/commits/80e26b1faa7ef0cac251180aeed33b022219f4cd,80e26b1faa7ef0cac251180aeed33b022219f4cd,Don’t dereference end-of-range iterator
sorbits,2013-08-27 09:25:02,https://api.github.com/repos/textmate/textmate/git/commits/7ccd7add60d0a70e55e3b414fc7c6dd4afc5751e,7ccd7add60d0a70e55e3b414fc7c6dd4afc5751e,"Use digittoint() instead of std::stoi()

Both because of performance and because the latter can throw an exception (although we check the input, so it should not happen with our use of the API)."
sorbits,2013-08-26 22:03:11,https://api.github.com/repos/textmate/textmate/git/commits/e1230653f807d5783680adfa5ba581149f483270,e1230653f807d5783680adfa5ba581149f483270,Support hex characters in format strings
sorbits,2013-08-26 10:35:25,https://api.github.com/repos/textmate/textmate/git/commits/6af97e5f51cc83722b223a113c3754b942a82590,6af97e5f51cc83722b223a113c3754b942a82590,Checkin release notes
sorbits,2013-08-26 13:49:33,https://api.github.com/repos/textmate/textmate/git/commits/df7cbc8da0cf99b9553928f653faf44210a810f8,df7cbc8da0cf99b9553928f653faf44210a810f8,Add debug code
sorbits,2013-08-26 13:33:36,https://api.github.com/repos/textmate/textmate/git/commits/8f1485d158d6431a6b883accd9829d8a6b48210e,8f1485d158d6431a6b883accd9829d8a6b48210e,"String given to scope_t::append now returned from scope_t::back

Previously we would parse the string appended to an existing scope, meaning invalid scopes would not be returned as the same string.

Fixes #1099"
sorbits,2013-08-26 10:02:22,https://api.github.com/repos/textmate/textmate/git/commits/bcece9a8e5c6656402d45f25c4463ecf410c5bf5,bcece9a8e5c6656402d45f25c4463ecf410c5bf5,Don’t make selection visible when nothing is found
sorbits,2013-08-26 09:48:41,https://api.github.com/repos/textmate/textmate/git/commits/211770893ec55217e1f930a7d8d69a0ddc55efdf,211770893ec55217e1f930a7d8d69a0ddc55efdf,"When in Favorites folder, change Add → Remove From Favorites

In practice it is possible to be in a parent of the Favorites folder and expand items so that the symbolic links in favorites can be selected, this commit does not handle that case, as we would then also need to handle the case where items both inside and outside the Favorites folder were selected (at the same time).

Users who do these things are probably aware of how symbolic links work, and can use “Move to Trash”.

Closes #1089"
sorbits,2013-08-26 09:26:56,https://api.github.com/repos/textmate/textmate/git/commits/62db7aff11c48dfe54b3988d9204fe846cfd8cdd,62db7aff11c48dfe54b3988d9204fe846cfd8cdd,Add comparison operators to what’s understood by ⌃T
sorbits,2013-08-25 15:04:17,https://api.github.com/repos/textmate/textmate/git/commits/64663dd17f30f835dae7d26cbbb66cc6fa823940,64663dd17f30f835dae7d26cbbb66cc6fa823940,Allow creating non-capturing regexps
sorbits,2013-08-25 19:09:34,https://api.github.com/repos/textmate/textmate/git/commits/a4a57998356ce93e1f1832bcc769edf3a7839cf2,a4a57998356ce93e1f1832bcc769edf3a7839cf2,Don’t leave buffer in partial state if failing to parse grammar
sorbits,2013-08-25 18:39:23,https://api.github.com/repos/textmate/textmate/git/commits/de03c27a63931f46f573cc9a3de06d514ad4e7b9,de03c27a63931f46f573cc9a3de06d514ad4e7b9,"Update network::tbz_t API

The main issue with the old API was inability to capture error output from the tar process."
sorbits,2013-08-25 18:29:23,https://api.github.com/repos/textmate/textmate/git/commits/d2305654acf1c371db43fdb64039d815ff691840,d2305654acf1c371db43fdb64039d815ff691840,Make redirect of stderr opt-in
sorbits,2013-08-25 18:26:06,https://api.github.com/repos/textmate/textmate/git/commits/7e6d0b8d1ba112ae8bb528a3091fa3373855f1a4,7e6d0b8d1ba112ae8bb528a3091fa3373855f1a4,fixup! Log errors from each call in swap_and_unlink
sorbits,2013-08-25 17:09:02,https://api.github.com/repos/textmate/textmate/git/commits/896416c3e997bf611dd1275244e2fbd1f184550d,896416c3e997bf611dd1275244e2fbd1f184550d,"Check pointer is initialized before using it

I see a few crash reports that indicate this code is called without a valid ‘bundleItemContent’, though unsure how to reproduce."
sorbits,2013-08-25 15:22:09,https://api.github.com/repos/textmate/textmate/git/commits/e27f9f4071c9e2f5769aa8b427f5ce8c3189c9ec,e27f9f4071c9e2f5769aa8b427f5ce8c3189c9ec,"Fix scopes when re-running parser on captures

If we have multiple overlapping captures and define rules for one of these, the scopes would not be stacked correctly.

Unfortunately the fix (for this rare edge case) does degrade parser speed, as we need to switch to an alternative way of keeping track of scopes, yet for injection grammars, we need to also keep the old system (to have the “current” scope available as a scope_t instance), so while the new system is almost as fast as the old, using both is not.

There should be a few ways to optimize scope_t construction, so that this part will add less overhead in the future (I think it’s roughly 5-10% of parsing time spent to scope_t related stuff)."
sorbits,2013-08-25 13:49:02,https://api.github.com/repos/textmate/textmate/git/commits/0a465955d176bfa8b13fed39da1b047a56bbae01,0a465955d176bfa8b13fed39da1b047a56bbae01,"Allow peeking at the last element of a scope

This is useful when constructing scopes during parsing."
sorbits,2013-08-25 12:50:10,https://api.github.com/repos/textmate/textmate/git/commits/7115b800510359cc3e9a37849ebedea10cc13d33,7115b800510359cc3e9a37849ebedea10cc13d33,Skip processing empty captures
sorbits,2013-08-24 18:27:26,https://api.github.com/repos/textmate/textmate/git/commits/36c5ff42889891ce6da1e0e6818924bbea9b5d82,36c5ff42889891ce6da1e0e6818924bbea9b5d82,Support ${var} in regexp part of format string transformations
sorbits,2013-08-24 12:58:21,https://api.github.com/repos/textmate/textmate/git/commits/695ff4c70393def3f9cc67790c12236f12c51896,695ff4c70393def3f9cc67790c12236f12c51896,"Improve the “swap” functionality of ⌃T

See tests for details."
sorbits,2013-08-23 23:21:33,https://api.github.com/repos/textmate/textmate/git/commits/1f4a131adc3756965ee3ba766540653403a8c2e7,1f4a131adc3756965ee3ba766540653403a8c2e7,Checkin release notes
sorbits,2013-08-23 23:14:23,https://api.github.com/repos/textmate/textmate/git/commits/15a15e8c154b46f49ea9c4d54043e05933c0b9cc,15a15e8c154b46f49ea9c4d54043e05933c0b9cc,Remove prototype for unimplemented member function
sorbits,2013-08-23 21:20:29,https://api.github.com/repos/textmate/textmate/git/commits/bbe14f0a0b6b532b6e24ea8dc5716e92fd0a15da,bbe14f0a0b6b532b6e24ea8dc5716e92fd0a15da,"Add mutex for bundles::item_t::plist

This is (once again) only for the concurrent tests, although we probably do want to use the bundles API from more threads in the future."
sorbits,2013-08-23 20:58:56,https://api.github.com/repos/textmate/textmate/git/commits/374f8a22480e6da790ea9f0ea496bce1f45adbd9,374f8a22480e6da790ea9f0ea496bce1f45adbd9,"Make oak::callbacks_t somewhat thread safe

If we only add, remove, and signal callbacks, the data type is now thread safe. This is mainly for the purpose of the concurrent tests."
sorbits,2013-08-23 20:57:00,https://api.github.com/repos/textmate/textmate/git/commits/9f99fe92b652ddf4523387ad574053930a147719,9f99fe92b652ddf4523387ad574053930a147719,Don’t access invalid iterator when creating delta plists
sorbits,2013-08-23 20:21:18,https://api.github.com/repos/textmate/textmate/git/commits/c5ecf8f6c612d8bebacf07cdc2fab8dc8069a660,c5ecf8f6c612d8bebacf07cdc2fab8dc8069a660,"Handle *.c++ files in gen_build

We already handle these when mapping extension to file type."
sorbits,2013-08-22 11:02:25,https://api.github.com/repos/textmate/textmate/git/commits/97c7a01fe195d41f1a5d3caa611259e83d92325e,97c7a01fe195d41f1a5d3caa611259e83d92325e,"Ensure grammar is retained during parsing

Since parsing is done in a separate thread, and it works with pointers, we need to ensure that the grammar is retained for at least as long as the thread lives."
sorbits,2013-08-21 21:01:51,https://api.github.com/repos/textmate/textmate/git/commits/6889ba9ba78fb01a6f2dedc2752961bf3e4ea5dd,6889ba9ba78fb01a6f2dedc2752961bf3e4ea5dd,Log errors from each call in swap_and_unlink
dhowden,2013-08-20 23:30:44,https://api.github.com/repos/textmate/textmate/git/commits/1faaf77d99ddc378f237f578da90ae62c3068de0,1faaf77d99ddc378f237f578da90ae62c3068de0,Stop Find window showing an NSSavePanel on ⌘S
sorbits,2013-08-21 20:46:53,https://api.github.com/repos/textmate/textmate/git/commits/2022fab80cb77c547679f03d7cfa85f8b80dec94,2022fab80cb77c547679f03d7cfa85f8b80dec94,"Commands with input set to none would not have stdin closed

This meant if such command would read from its stdin, it would hang.

Fixes #1081"
sorbits,2013-08-21 18:27:01,https://api.github.com/repos/textmate/textmate/git/commits/b5b029407d027c88d6c06c4e7128d4e771c6ce96,b5b029407d027c88d6c06c4e7128d4e771c6ce96,Checkin release notes
sorbits,2013-08-21 20:17:46,https://api.github.com/repos/textmate/textmate/git/commits/802ea1fc7a4f201f6147e63cf568a6eb7870d60d,802ea1fc7a4f201f6147e63cf568a6eb7870d60d,"Treat most errors from exchangedata() as “not supported”

It seems to be a general trend with network file systems to return wrong errors when they do not support a certain feature (like extended attributes and atomic swap)."
sorbits,2013-08-21 09:51:48,https://api.github.com/repos/textmate/textmate/git/commits/c8802cc534311e2be6c290bb16d7e67936c3bd90,c8802cc534311e2be6c290bb16d7e67936c3bd90,Support keys with dots in delta property lists functions
sorbits,2013-08-21 09:48:54,https://api.github.com/repos/textmate/textmate/git/commits/e36133ec7a8df58776292d5835481d6e24242540,e36133ec7a8df58776292d5835481d6e24242540,Update plist delta code
sorbits,2013-08-21 08:33:52,https://api.github.com/repos/textmate/textmate/git/commits/6d1c3347852cd7ce40a3715f5399104af7616282,6d1c3347852cd7ce40a3715f5399104af7616282,Add ability to close HTML output window on ⌃⌥⌘H
sorbits,2013-08-21 08:27:11,https://api.github.com/repos/textmate/textmate/git/commits/32f4cedece13e72eef1a35ffc2fa878a8462f2e3,32f4cedece13e72eef1a35ffc2fa878a8462f2e3,"Bring HTML output window to front on ⌃⌥⌘H when not already key

Previously it would hide if already visible regardless of being the key window or not."
sorbits,2013-08-20 16:38:44,https://api.github.com/repos/textmate/textmate/git/commits/cab42a83c5ba55aa594160bc0d1f0019c25483e1,cab42a83c5ba55aa594160bc0d1f0019c25483e1,"Use injection patterns from “group rules”

For example if one grammar includes another, the included grammar works as a group rule and previously had its injections ignored."
sorbits,2013-08-20 16:34:13,https://api.github.com/repos/textmate/textmate/git/commits/5752aa2dd75ad8e50ae5397251c91394b1b1e016,5752aa2dd75ad8e50ae5397251c91394b1b1e016,"Make it explicit, if a match is from a rule’s end pattern"
sorbits,2013-08-20 09:15:18,https://api.github.com/repos/textmate/textmate/git/commits/c7be71b41de04ac844075c2071fd15e9448338fe,c7be71b41de04ac844075c2071fd15e9448338fe,Code shuffle
sorbits,2013-08-19 21:53:27,https://api.github.com/repos/textmate/textmate/git/commits/4f2feb4a0f443d87e97048ef24d7ff12d5471ed3,4f2feb4a0f443d87e97048ef24d7ff12d5471ed3,Add more info about clang 3.2 setup
sorbits,2013-08-19 21:28:41,https://api.github.com/repos/textmate/textmate/git/commits/35efecd4d86b377a048de9fb6f22aedc9cb716df,35efecd4d86b377a048de9fb6f22aedc9cb716df,"Avoid using std::shared_ptr in parser

We can safely work with pointers since grammar_t now retain all rules involved in parsing the document."
sorbits,2013-08-19 20:53:19,https://api.github.com/repos/textmate/textmate/git/commits/cf2637a69b79ddf703d03ea900afed5759df0cf0,cf2637a69b79ddf703d03ea900afed5759df0cf0,Make injection grammars part of grammar_t
sorbits,2013-08-19 19:56:27,https://api.github.com/repos/textmate/textmate/git/commits/aef742b142bc1860b6d9f1c7d0ce8874c64c0406,aef742b142bc1860b6d9f1c7d0ce8874c64c0406,Refactor grammar_t implementation
sorbits,2013-08-19 19:41:40,https://api.github.com/repos/textmate/textmate/git/commits/b0fc120e7ef36ad7fa67fcfc9bdce5323f563357,b0fc120e7ef36ad7fa67fcfc9bdce5323f563357,Parser no longer need to handle include of ‘$base’
sorbits,2013-08-19 19:17:39,https://api.github.com/repos/textmate/textmate/git/commits/2db287f1286411a28c1bf59dd5a1868e67bb5d37,2db287f1286411a28c1bf59dd5a1868e67bb5d37,"Refactor grammar setup

A grammar_t instance now deep-copies potential grammars it includes and each call to parse_grammar() returns a new unique instance.

The latter allows mutating the grammar (by the parser) and the former ensures that grammars are not left with expired pointers (to other grammars) when bundle items are updated."
sorbits,2013-08-19 16:08:01,https://api.github.com/repos/textmate/textmate/git/commits/adc0a0a4a7ea9d664a74516cd34b0b04131a1e41,adc0a0a4a7ea9d664a74516cd34b0b04131a1e41,Code style changes
sorbits,2013-08-18 21:51:16,https://api.github.com/repos/textmate/textmate/git/commits/8df374fdb30c74ec88a4be4e518ef408910f2227,8df374fdb30c74ec88a4be4e518ef408910f2227,Instantiate bool version of plist::get<T>
sorbits,2013-08-18 18:35:58,https://api.github.com/repos/textmate/textmate/git/commits/8c1dd5fc062a6837434c820324603597da284231,8c1dd5fc062a6837434c820324603597da284231,"Don’t use GCD for regexp matching

Using GCD actually makes the code slower — it might have to do with locking overhead from std::shared_ptr and onig_region_new/region_free.

Worth trying again once use of std::shared_ptr has been removed from the parser, and oniguruma regions are preallocated."
sorbits,2013-08-18 15:25:11,https://api.github.com/repos/textmate/textmate/git/commits/d94a4b648469d3ba53a30380baf149fcf87fd1f9,d94a4b648469d3ba53a30380baf149fcf87fd1f9,"Update build instructions

TextMate now require Cap’n proto and (to build Cap’n Proto) a clang newer than what comes with Xcode 4.x."
sorbits,2013-08-18 15:00:29,https://api.github.com/repos/textmate/textmate/git/commits/8402f713cf21cca8c82463f36baa2eab644bac37,8402f713cf21cca8c82463f36baa2eab644bac37,"Do not rewrite regexps during parsing

Previously we had to test if the patterns contained \A, \G, or \z, and if so, rewrite those anchors based on wether or not the current line/match position could match them."
sorbits,2013-08-18 14:22:18,https://api.github.com/repos/textmate/textmate/git/commits/1e27f6bf475dafebec371e7036f57da2f307b35b,1e27f6bf475dafebec371e7036f57da2f307b35b,Add ONIG_OPTION_NOTGPOS
sorbits,2013-08-18 13:50:14,https://api.github.com/repos/textmate/textmate/git/commits/c5a7d3205663d20cde25c7506f87578db28ab652,c5a7d3205663d20cde25c7506f87578db28ab652,Add disabled test for k-takata/Onigmo#22
sorbits,2013-08-18 11:22:52,https://api.github.com/repos/textmate/textmate/git/commits/37a40c9c043a08b06387cf82f86378c15be06caf,37a40c9c043a08b06387cf82f86378c15be06caf,Update Onigmo submodule
sorbits,2013-08-17 21:43:01,https://api.github.com/repos/textmate/textmate/git/commits/e9fb8aa9aed562a8c68b6f5972f836097da60d08,e9fb8aa9aed562a8c68b6f5972f836097da60d08,Add constructor to ranked_match_t
sorbits,2013-08-17 20:41:19,https://api.github.com/repos/textmate/textmate/git/commits/bffe0facff7528451ca33a155ec50fc7adc68b3f,bffe0facff7528451ca33a155ec50fc7adc68b3f,"Change cancel button key equivalent: ⌘. → ⎋

The new key will still allow canceling the dialog using ⌘."
sorbits,2013-08-17 20:09:03,https://api.github.com/repos/textmate/textmate/git/commits/2bd7b877e671e912aac29c42c13d6366a71ea2e4,2bd7b877e671e912aac29c42c13d6366a71ea2e4,"Tag rules in grammar with wether or not they have been seen

This is instead of keeping a std::set with rule identifiers. Keeping the information in the grammar is a lot faster (about 25%) as we can update the status in O(1) without any memory allocation.

The downside is that the grammar is now being mutated by the parser. This is currently safe because only a single thread is used for parsing. When we switch to allowing multiple threads to perform parsing, we should make a copy of the grammar for each instance.

Another downside is that we only tag rules that have begin/match patterns, so rules that are wrappers for a set of rules, or rules that are including another rule, are never rejected, even if already visited, but the target rules they resolve to will be, though if an include (indirectly) include itself, we will no longer break such cycle (though it is clearly a bug in the grammar, if this happens, and we could preprocess the grammar to catch it)."
sorbits,2013-08-17 19:36:11,https://api.github.com/repos/textmate/textmate/git/commits/ee43777c3a3dcfc2cfc435f2ff415f2abc2c573a,ee43777c3a3dcfc2cfc435f2ff415f2abc2c573a,Use GCD to perform concurrent rule matching
sorbits,2013-08-17 18:49:07,https://api.github.com/repos/textmate/textmate/git/commits/3ae9bfe7b89dd254bfafee91297a61a1f97acc7c,3ae9bfe7b89dd254bfafee91297a61a1f97acc7c,Collect active rules before performing any matching
sorbits,2013-08-16 22:16:16,https://api.github.com/repos/textmate/textmate/git/commits/4677a91fff1306ef475fc64b45cbdc6b96e0896d,4677a91fff1306ef475fc64b45cbdc6b96e0896d,Factor out resolving of included rules
sorbits,2013-08-17 09:31:05,https://api.github.com/repos/textmate/textmate/git/commits/019c911e9ac7ff0fc060747f0b782df5e99b3884,019c911e9ac7ff0fc060747f0b782df5e99b3884,"Use tree structure icon for ragel, protobuf, and cap’n proto"
sorbits,2013-08-17 10:01:35,https://api.github.com/repos/textmate/textmate/git/commits/5c02b4ff5cc0c7c319d3d4f127c8ee19b81f80b7,5c02b4ff5cc0c7c319d3d4f127c8ee19b81f80b7,"Use cap’n proto for bundle index

This makes loading time roughly twice as fast, although some of the speed gain is because we no longer need to convert CFPropertyListRef → plist::any_t."
sorbits,2013-08-16 22:06:42,https://api.github.com/repos/textmate/textmate/git/commits/4080e1dc96ddbf5a60f7c990c5616c19e93ca388,4080e1dc96ddbf5a60f7c990c5616c19e93ca388,"Add support for serialization of cache_t with cap’n proto

See http://kentonv.github.io/capnproto/install.html for how to install."
sorbits,2013-08-16 19:29:25,https://api.github.com/repos/textmate/textmate/git/commits/8a2ad5ed208030f72d9592432c0550186b152524,8a2ad5ed208030f72d9592432c0550186b152524,Add support for capnp files (build system)
sorbits,2013-08-16 19:21:14,https://api.github.com/repos/textmate/textmate/git/commits/09511a9092d818c4da0660eae6cdb70ca7e24090,09511a9092d818c4da0660eae6cdb70ca7e24090,Introduce single function for mapping extension to language
sorbits,2013-08-16 18:42:07,https://api.github.com/repos/textmate/textmate/git/commits/5d5399ecd9ffca7a5760306ff7b28311a2c8935b,5d5399ecd9ffca7a5760306ff7b28311a2c8935b,Add member data accessor for cache_t’s content filter function
sorbits,2013-08-16 14:42:08,https://api.github.com/repos/textmate/textmate/git/commits/4edca13ca183b96d61fc82d2866e90d20cc57704,4edca13ca183b96d61fc82d2866e90d20cc57704,Add assertion for grammar construction
sorbits,2013-08-16 14:41:28,https://api.github.com/repos/textmate/textmate/git/commits/6a4fe2fb3cd4ec1f2d593f87ebdbffa8b1f58bcb,6a4fe2fb3cd4ec1f2d593f87ebdbffa8b1f58bcb,Add date parsing to plist::parse_ascii
sorbits,2013-08-16 14:39:44,https://api.github.com/repos/textmate/textmate/git/commits/bf1e92b865232e1f72aa4f8eeb2f546c95b19dde,bf1e92b865232e1f72aa4f8eeb2f546c95b19dde,Do not use global constructors for fixtures
sorbits,2013-08-16 14:37:35,https://api.github.com/repos/textmate/textmate/git/commits/2c55141e4731c8c901396b00e6e9b0db82483501,2c55141e4731c8c901396b00e6e9b0db82483501,"Support setup functions for tests

Previously this had to be done via global constructor functions but it would seem the execution of these may happen before initialization of global data."
sorbits,2013-08-16 14:33:33,https://api.github.com/repos/textmate/textmate/git/commits/e0ad0ba51023ada4f75c07a90a4623539f3ef1af,e0ad0ba51023ada4f75c07a90a4623539f3ef1af,"Use dispatch_time_t instead of std::chrono::time_point

Building with clang 3.2 (binary distribution) results in “illegal instruction” when adding 3 seconds to the steady clock, so I just replaced the code.

The reason the code was using std::chrono was to be able to provide better debug output, as dispatch_time_t is an abstracted time representation (according to the documentation)."
sorbits,2013-08-16 09:17:47,https://api.github.com/repos/textmate/textmate/git/commits/67c3a92855c73597a3f83931a5c45f6efdebe666,67c3a92855c73597a3f83931a5c45f6efdebe666,Add some const keywords
sorbits,2013-08-15 20:37:19,https://api.github.com/repos/textmate/textmate/git/commits/0bcae7957e26f133eef1d508f3cfa10f097cda33,0bcae7957e26f133eef1d508f3cfa10f097cda33,Minor speed improvement in creating bundle index
sorbits,2013-08-15 20:34:14,https://api.github.com/repos/textmate/textmate/git/commits/9cbc98c8bda6abc47838ba98dee3bbcf698e8a0f,9cbc98c8bda6abc47838ba98dee3bbcf698e8a0f,Add option to load TextMate’s bundle index (gtm)
sorbits,2013-08-15 20:04:48,https://api.github.com/repos/textmate/textmate/git/commits/e8bbcaf76e66ab9d8f849f0b1984a5e9d6f8b7ad,e8bbcaf76e66ab9d8f849f0b1984a5e9d6f8b7ad,Improve speed of loading (parsing) bundle index
sorbits,2013-08-15 19:05:19,https://api.github.com/repos/textmate/textmate/git/commits/36c5dbba6b0a5cb3e331e3d711ca2d4526fbdf26,36c5dbba6b0a5cb3e331e3d711ca2d4526fbdf26,Make dictionary map function optional for cache_t::load
sorbits,2013-08-15 18:12:49,https://api.github.com/repos/textmate/textmate/git/commits/7a12fd1c41c2596906355fb13e3278d3d8f0311e,7a12fd1c41c2596906355fb13e3278d3d8f0311e,Don’t define global macros that are only used in QuickLook target
sorbits,2013-08-14 08:40:37,https://api.github.com/repos/textmate/textmate/git/commits/7350192d51289484c4614640ad1ae21c9b22e061,7350192d51289484c4614640ad1ae21c9b22e061,"DFA nodes themselves should not dispose children

A DFA node may be disposed as part of DFA construction (because the node is redundant) and here it would have “next” pointers setup, which it should not follow in its destructor, since those nodes could still be used.

Fixes #1086"
sorbits,2013-08-13 21:43:59,https://api.github.com/repos/textmate/textmate/git/commits/28594e0c18652a095bc9e2c1a94adf6018e02672,28594e0c18652a095bc9e2c1a94adf6018e02672,Don’t pass NULL_STR to path::entries
sorbits,2013-08-13 21:30:00,https://api.github.com/repos/textmate/textmate/git/commits/df42c5e6388b9ad48a495252b2788ef7c039d1ab,df42c5e6388b9ad48a495252b2788ef7c039d1ab,"When rescanning a non-existing bundle item path, rescan parent

For example when creating a new bundle (‘foo.tmBundle’) and then saving a new snippet in this bundle (‘bar.tmSnippet’) we may ask to rescan the ‘Snippets’ folder (in the bundle) before the bundle itself does a content (re)scan, which effectively makes the ‘Snippets’ rescan a no-op.

Should fix #1034"
sorbits,2013-08-12 23:45:49,https://api.github.com/repos/textmate/textmate/git/commits/9eeda712df4b3a37de17bbaf7f5859e6495fae57,9eeda712df4b3a37de17bbaf7f5859e6495fae57,Limit code duplication
sorbits,2013-08-12 21:52:36,https://api.github.com/repos/textmate/textmate/git/commits/afd5dfb0c27bd9787523be27a41913d5be34b9e2,afd5dfb0c27bd9787523be27a41913d5be34b9e2,Checkin release notes
sorbits,2013-08-12 21:44:51,https://api.github.com/repos/textmate/textmate/git/commits/41b4f037123207a71b653e5ede895e0cfe0e8c83,41b4f037123207a71b653e5ede895e0cfe0e8c83,"Let gutter view observe frame changes from OakTextView

Previously it would only observe NSViewBoundsDidChange from the clip view containing the text view, and while it worked most of the time, it failed to see notifications when a text view was smaller than the clip view’s view port and grew, yet still staying smaller than the view port."
sorbits,2013-08-12 20:55:13,https://api.github.com/repos/textmate/textmate/git/commits/5512d65ecfcb496c4d835e5e607a60512287b642,5512d65ecfcb496c4d835e5e607a60512287b642,Remove some commented debug output blocks
sorbits,2013-08-12 20:53:15,https://api.github.com/repos/textmate/textmate/git/commits/f7b9694e9f4860898d251fe843f457906a6a1133,f7b9694e9f4860898d251fe843f457906a6a1133,"Fix linear destruction of DFA

This is a graph (not a tree) so we have to watch for cycles."
sorbits,2013-08-12 20:19:09,https://api.github.com/repos/textmate/textmate/git/commits/22abe6d74fdfd8144541b33cc902b6a41064f88a,22abe6d74fdfd8144541b33cc902b6a41064f88a,"Disallow curl from using signals

If libcurl is built with the default DNS resolver then it will handle a timeout by using SIGALRM, though since we are using threads, and signals are not compatible with threads, this may have led to a crash in Curl_resolv_timeout (for users where a DNS lookup could take longer than the timeout, presumably 300 seconds)."
sorbits,2013-08-12 17:56:43,https://api.github.com/repos/textmate/textmate/git/commits/772143088a2a436c5a9cec17e86a9b4bca11e445,772143088a2a436c5a9cec17e86a9b4bca11e445,"Rework code to avoid strange crash

I’m seeing a crash in ‘-[OakDocumentView dealloc]’ stating that “selectionString” is not being observed. This would indicate that a OakDocumentView instance is created that doesn’t go through the designated initializer, how that can happen is beyond me, but with the reshuffled code, if it happens, it should no longer cause a crash in dealloc."
sorbits,2013-08-12 17:31:27,https://api.github.com/repos/textmate/textmate/git/commits/a68d2064687c11d9219ca2b38dce5597a4cbad4e,a68d2064687c11d9219ca2b38dce5597a4cbad4e,Add more info to crash reports
sorbits,2013-08-12 17:29:31,https://api.github.com/repos/textmate/textmate/git/commits/a52165694c1f0b57be9b82ed9e22f2adf8a515ff,a52165694c1f0b57be9b82ed9e22f2adf8a515ff,"Move crash reporter info support to own framework

This is to avoid cyclic dependencies since it was previously in a somewhat high-level framework, so everything that framework depended on, could not augment crash reports."
sorbits,2013-08-10 18:14:52,https://api.github.com/repos/textmate/textmate/git/commits/a74bfcc206c94078b44f263b96983618e879a57c,a74bfcc206c94078b44f263b96983618e879a57c,Remove some uses of foreach()
sorbits,2013-08-10 17:58:44,https://api.github.com/repos/textmate/textmate/git/commits/b25f716f860c3e8b72e83a89faf2588bcccc451f,b25f716f860c3e8b72e83a89faf2588bcccc451f,Remove rforeach macro
sorbits,2013-08-10 17:50:27,https://api.github.com/repos/textmate/textmate/git/commits/12067e806a665345044dd3a88b622fb7a7aaccae,12067e806a665345044dd3a88b622fb7a7aaccae,"Don’t keep mutex locked when calling client code

The mutex was locked to ensure that the client object did not go away, but the client’s code may terminate the program which destroys the server_t instance and thereby the mutex itself, which would previously cause an assertion to trigger, since the mutex was locked during destruction.

In practice there is no issue with the mutex not being locked while accessing the client object, as “unregister_client” and “master_run” are both called from the main thread, except for tests, but here we do not unregister client objects before their requests have been handled."
sorbits,2013-08-10 11:57:54,https://api.github.com/repos/textmate/textmate/git/commits/6cf679ee1f91f20c0df858cb63f606fcf81feecb,6cf679ee1f91f20c0df858cb63f606fcf81feecb,Checkin release notes
sorbits,2013-08-10 11:43:59,https://api.github.com/repos/textmate/textmate/git/commits/c080bd8f8b9725812210612b447edbcaec9acb33,c080bd8f8b9725812210612b447edbcaec9acb33,Add storage access info to crash reports
sorbits,2013-08-10 11:14:43,https://api.github.com/repos/textmate/textmate/git/commits/f008c49dab24cb693465b84a2bb38981e345925f,f008c49dab24cb693465b84a2bb38981e345925f,"Dispose tree structure bottom-up to limit stack usage

With really long search strings, the recursive disposal of nodes would blow the stack"
sorbits,2013-08-10 09:55:39,https://api.github.com/repos/textmate/textmate/git/commits/231f1f8160ce9b507117de6294c4b91ff90bfe10,231f1f8160ce9b507117de6294c4b91ff90bfe10,"Improve application specific data in crash log

This makes it easier to automatically extract and index."
sorbits,2013-08-10 09:41:23,https://api.github.com/repos/textmate/textmate/git/commits/7fa1d96faa0677d567a75e9e219cd0557b047b97,7fa1d96faa0677d567a75e9e219cd0557b047b97,"Fix crash when “close tabs” is sent to window with no tabs

It appears a window can hang around after its last tab has been closed. Such window receive notifications of items being deleted via the file browser, and will call the “close tabs” method in response to these, which does an out-of-range array access if no tabs exist.

The reason for why windows can hang around after last tab is closed has not yet been determined. It might be a retain cycle (bug) or a delayed release due to autorelease pools.

Fixes #1064"
sorbits,2013-08-09 22:51:27,https://api.github.com/repos/textmate/textmate/git/commits/f17f49e95dd4e922648a7e4f7fe8b11afdf44260,f17f49e95dd4e922648a7e4f7fe8b11afdf44260,Spelling suggestions can be chosen with 1-n
sorbits,2013-08-09 21:21:21,https://api.github.com/repos/textmate/textmate/git/commits/21d68ce3369f7a2ead1e8fe2e5a7f53733f1bab1,21d68ce3369f7a2ead1e8fe2e5a7f53733f1bab1,Fix file browser menu item validation
sorbits,2013-08-09 21:13:58,https://api.github.com/repos/textmate/textmate/git/commits/e9576e60f91bf49d53b5579bfe1aada1db315020,e9576e60f91bf49d53b5579bfe1aada1db315020,"Let transpose detect and swap words

The detection is done by a regexp match of ‘\w+\W+\w+’ allowing the string to optionally be wrapped in round, square, or squiggly parentheses."
sorbits,2013-08-09 20:20:23,https://api.github.com/repos/textmate/textmate/git/commits/d311405af062f94ab30a772741ca7a4b63d0ff7b,d311405af062f94ab30a772741ca7a4b63d0ff7b,"Harmonize code

We effectively do the same thing 5 different places, so good if the code is identical (incase it needs to be revised)."
sorbits,2013-08-09 19:56:02,https://api.github.com/repos/textmate/textmate/git/commits/5e5bbc468fcc70d4bf4d787f3d9ca83a9f33f1c7,5e5bbc468fcc70d4bf4d787f3d9ca83a9f33f1c7,"Revert ""The 10th tab now get ⌘0 as key equivalent""

This commit made the 11th tab get ⌘1 as key equivalent. Fixes #1078.

This reverts commit 5e6cfe8e1ef990d24100c4859c25948d37c8ee04."
sorbits,2013-08-09 19:53:55,https://api.github.com/repos/textmate/textmate/git/commits/00c5f8531ef06340cad157b003e0277bfb20245b,00c5f8531ef06340cad157b003e0277bfb20245b,"Make outlineView:shouldExpandItem: a no-op for expanded items

Fixes #160."
sorbits,2013-08-06 12:25:35,https://api.github.com/repos/textmate/textmate/git/commits/1c783fede9613d9aeee2f7f1e99ee122b4c5ffcb,1c783fede9613d9aeee2f7f1e99ee122b4c5ffcb,Use implicitly synthesized properties
sorbits,2013-08-05 13:30:30,https://api.github.com/repos/textmate/textmate/git/commits/1d4358fac6f33329683ef6a43f317a7cd65728b8,1d4358fac6f33329683ef6a43f317a7cd65728b8,Remove unused include
sorbits,2013-08-05 13:05:18,https://api.github.com/repos/textmate/textmate/git/commits/97ad8294a6279fbacd0ced0f233b287f5a8c8cca,97ad8294a6279fbacd0ced0f233b287f5a8c8cca,"Initialize shared spell checker during setup

The first time we ask for the shared spell checker it does some setup involving AppKit (creating the shared spelling panel?). While we already ensure that the spell checker is only called from the main queue, it seems this setup code must run on thread 0, which, when we are not in a Cocoa application, is not necessarily the thread used for the main queue."
sorbits,2013-08-05 09:17:04,https://api.github.com/repos/textmate/textmate/git/commits/2ad42430c4275fabbe1b0f6fea83604a41f84d31,2ad42430c4275fabbe1b0f6fea83604a41f84d31,Make client API for oak::server_t thread safe
sorbits,2013-08-04 20:18:30,https://api.github.com/repos/textmate/textmate/git/commits/82e7749546462d32cda19a15add10ea6f6a577ca,82e7749546462d32cda19a15add10ea6f6a577ca,"Explicitly run libcurl’s global init function

This function is not thread safe so we should not have it implicitly called, as we generally do not call the libcurl functions from the main thread."
sorbits,2013-08-04 20:15:34,https://api.github.com/repos/textmate/textmate/git/commits/cd8b554b59b9891d5505174e3f78b95eef8c3cde,cd8b554b59b9891d5505174e3f78b95eef8c3cde,"Ensure NSSpellChecker methods are called from main queue

I have been told that the spell checker should be thread safe (except for the spelling panel) but after moving to concurrent execution of the integration tests, several segmentation faults have pointed toward the spell checker not being thread safe."
sorbits,2013-08-04 17:40:36,https://api.github.com/repos/textmate/textmate/git/commits/993bcaa26fa9d02aa30753f3f0124d6ca0c61d8b,993bcaa26fa9d02aa30753f3f0124d6ca0c61d8b,Fix assertion (off-by-one)
sorbits,2013-08-04 13:07:00,https://api.github.com/repos/textmate/textmate/git/commits/f4828036febe62c35e2aa7d93b8ee6177c3a5226,f4828036febe62c35e2aa7d93b8ee6177c3a5226,"Preserve document’s scroll offset when changing soft wrap or font

Technically we preserve which line is the first visible.

Fixes #993."
sorbits,2013-08-04 12:40:27,https://api.github.com/repos/textmate/textmate/git/commits/faf30e4786195e3cf0647036403078bf070d0ebb,faf30e4786195e3cf0647036403078bf070d0ebb,"Update document dimensions before restoring scroll position

Since the document starts out the same width as the view port, horizontal scroll position was effectively never restored, fixes #605."
sorbits,2013-08-04 12:25:29,https://api.github.com/repos/textmate/textmate/git/commits/2c0010a1416319229f4d772bde4462bf5e8fe085,2c0010a1416319229f4d772bde4462bf5e8fe085,"Restore “first visible character” instead of visible rectangle

This is when switching tabs ore re-opening a file.

Restoring the visible rectangle doesn’t always work because we do an initial heuristic layout where we don’t do proper soft wrap and may also lack scoped settings to increase font size for headings, meaning that the restored visible rectangle does not point to the same section of the text, as it would with a fully updated layout.

This fixes #243."
sorbits,2013-08-03 15:44:30,https://api.github.com/repos/textmate/textmate/git/commits/d9b446dcc2614b5d5ab3ddebee24adf8e492ddd5,d9b446dcc2614b5d5ab3ddebee24adf8e492ddd5,Update some use of the iterate macro to for(… : …)
sorbits,2013-08-03 15:30:13,https://api.github.com/repos/textmate/textmate/git/commits/c460535cf74c3cb9553a566032335e3036cf0ce9,c460535cf74c3cb9553a566032335e3036cf0ce9,Add some debug output to layout_t
sorbits,2013-08-03 15:25:42,https://api.github.com/repos/textmate/textmate/git/commits/3c1fe38190ddb32dc625fa2107137ea35c57c11a,3c1fe38190ddb32dc625fa2107137ea35c57c11a,"Use a capturing lambda function instead of global variable

The code involved is only for debug output."
sorbits,2013-08-03 15:22:01,https://api.github.com/repos/textmate/textmate/git/commits/c3a629480694b2a1cdf1036db2e9ad0639076f5d,c3a629480694b2a1cdf1036db2e9ad0639076f5d,Use std::function instead of templated argument
sorbits,2013-08-03 15:18:53,https://api.github.com/repos/textmate/textmate/git/commits/c7764b8b14c82e2e4d25c74d79bc77c4958ca230,c7764b8b14c82e2e4d25c74d79bc77c4958ca230,"Deleting trailing newline for line with foldings would misbehave

Here misbehave means unfold the folded text (on the same line) but as a single line.

Fixes #257"
sorbits,2013-08-03 14:59:15,https://api.github.com/repos/textmate/textmate/git/commits/560f2ce11043ea6b2296ee363b28572109626b33,560f2ce11043ea6b2296ee363b28572109626b33,"Inserting newline at start of line with foldings would misbehave

Here misbehave means unfolding the folded text on a single line.

Fixes #933"
sorbits,2013-08-03 11:22:03,https://api.github.com/repos/textmate/textmate/git/commits/84ef9bb7680f75e1491a8f09140de8d03acc48c4,84ef9bb7680f75e1491a8f09140de8d03acc48c4,Use std::transform instead of custom code
sorbits,2013-08-03 09:53:07,https://api.github.com/repos/textmate/textmate/git/commits/ee10f79ed46c0b65945b46d491c7f2c77f00daff,ee10f79ed46c0b65945b46d491c7f2c77f00daff,"Fix non-retaining Objective-C property

The ‘lastVersionDownloaded’ property used ‘assign’ (since it used to be an integer) which meant TextMate would likely crash when the property was read (and had a non-nil value), which it would, when TextMate did a version check after already having downloaded an update (but not yet installed and relaunched).

Also drop the atomic requirement of the ‘archive’ property since we no longer access it from multiple threads."
sorbits,2013-08-02 16:35:44,https://api.github.com/repos/textmate/textmate/git/commits/9b65d18663041671bacfa850e3eeba8ffdb418af,9b65d18663041671bacfa850e3eeba8ffdb418af,Checkin release notes
sorbits,2013-08-02 14:20:46,https://api.github.com/repos/textmate/textmate/git/commits/8d51e930e3055d5eb145ea6695018d57a05f3dc1,8d51e930e3055d5eb145ea6695018d57a05f3dc1,"Ensure version_less(NULL_STR, «any») → true"
sorbits,2013-08-02 13:28:27,https://api.github.com/repos/textmate/textmate/git/commits/62a16dd6a952dbb338fe350826d267c05bbfb30d,62a16dd6a952dbb338fe350826d267c05bbfb30d,"Do recursive rescan of updated bundles

Previously we would rescan the parent path which was effectively a no-op.

Also pass the “recursive” flag from fs-events to cache_t::reload."
sorbits,2013-08-02 13:26:59,https://api.github.com/repos/textmate/textmate/git/commits/171cf059815a1938023ffd7aa6d99324cd72952c,171cf059815a1938023ffd7aa6d99324cd72952c,Use cache_t::erase when uninstalling a bundle
sorbits,2013-08-02 13:24:29,https://api.github.com/repos/textmate/textmate/git/commits/20cea4ef4f8e7e4918e6d3bb06ba35db298a5fc8,20cea4ef4f8e7e4918e6d3bb06ba35db298a5fc8,Make cache_t::erase also remove descendants
sorbits,2013-08-01 20:33:19,https://api.github.com/repos/textmate/textmate/git/commits/9fd20df7b6119ab303248191100d1089a859d945,9fd20df7b6119ab303248191100d1089a859d945,Remove code to cleanup old cache files
sorbits,2013-08-01 20:08:18,https://api.github.com/repos/textmate/textmate/git/commits/2a46a032d5df40adc24b55355d67cf5898dd41c5,2a46a032d5df40adc24b55355d67cf5898dd41c5,Update license info for third party frameworks
sorbits,2013-08-01 17:08:15,https://api.github.com/repos/textmate/textmate/git/commits/612d8735eed7b75ec68302a89e79015cc89b259d,612d8735eed7b75ec68302a89e79015cc89b259d,Rename test header extension: .cc → .h
sorbits,2013-08-01 17:05:39,https://api.github.com/repos/textmate/textmate/git/commits/281f5075e151fa7ee1b8f83ca8412512cd5a2b9d,281f5075e151fa7ee1b8f83ca8412512cd5a2b9d,Update OakAppKit tests for new conventions
sorbits,2013-08-01 17:03:31,https://api.github.com/repos/textmate/textmate/git/commits/a8e677db3c18860da8d0d782644c0329513615d4,a8e677db3c18860da8d0d782644c0329513615d4,Update testing system for ns framework
sorbits,2013-08-01 16:49:12,https://api.github.com/repos/textmate/textmate/git/commits/84dc2dd871cef39c6516adc897adad372d2d5fe2,84dc2dd871cef39c6516adc897adad372d2d5fe2,"Allow a target to use both new and old test system

Presently the new test system cannot be used for (interactive) GUI tests, so we keep the old one until we have that feature in the new."
sorbits,2013-08-01 09:09:07,https://api.github.com/repos/textmate/textmate/git/commits/c2749b0719f303475cca9272d485f7a26fabf9d0,c2749b0719f303475cca9272d485f7a26fabf9d0,"Bump version of bundle cache format

The cache update code has an issue causing some users to get an incomplete view of what’s on disk. Bumping the version forces re-indexing, and is not a long-term fix."
sorbits,2013-08-01 08:53:02,https://api.github.com/repos/textmate/textmate/git/commits/ee383654bd34d849c17eef2a01ca5a268259caf2,ee383654bd34d849c17eef2a01ca5a268259caf2,Update .git_ignore
sorbits,2013-08-01 08:44:23,https://api.github.com/repos/textmate/textmate/git/commits/f0bd1187389ea696a230d08f5f933bc120196469,f0bd1187389ea696a230d08f5f933bc120196469,"Update build (generator) script

Use APP_VERSION instead of APP_REVISION in various target names.

Indicate a few build commands are generators, so that their output is not removed on ‘ninja -t clean’.

Move generated dummy files (for tagging, uploading, deploying, etc.) to sub-directories to reduce noise in build directory."
sorbits,2013-07-31 19:16:04,https://api.github.com/repos/textmate/textmate/git/commits/cdbadad8bda996f3b7ded7e36fcb3301ca16c94e,cdbadad8bda996f3b7ded7e36fcb3301ca16c94e,Add script used to update Changes.md
sorbits,2013-07-31 18:58:10,https://api.github.com/repos/textmate/textmate/git/commits/7e1242b26f69e9eacf40b484628d31c181bda444,7e1242b26f69e9eacf40b484628d31c181bda444,"Improve handling of zero-width search results

Previously when using find next/previous and the caret was already on a zero-width match position, TextMate would stay on this match."
sorbits,2013-07-31 18:23:47,https://api.github.com/repos/textmate/textmate/git/commits/267471d7bb4d9bb06ce8aaa37a828530440bf2df,267471d7bb4d9bb06ce8aaa37a828530440bf2df,"Account for multi-byte characters when moving search position

Fixes #1070"
sorbits,2013-07-31 16:42:31,https://api.github.com/repos/textmate/textmate/git/commits/9072ba8d267af4c9fe93475913547886ce47bd7d,9072ba8d267af4c9fe93475913547886ce47bd7d,Collect info related to potential crash
sorbits,2013-07-31 15:55:24,https://api.github.com/repos/textmate/textmate/git/commits/afcba9b1e862104a26edb76af66d14251348dee9,afcba9b1e862104a26edb76af66d14251348dee9,Collect info related to a crash
sorbits,2013-07-31 15:52:32,https://api.github.com/repos/textmate/textmate/git/commits/bbde9b61c398c7824c17afdc2de108e6c401c2e9,bbde9b61c398c7824c17afdc2de108e6c401c2e9,Improve ability to aggregate info in crash reports
sorbits,2013-07-31 15:32:42,https://api.github.com/repos/textmate/textmate/git/commits/99b75e9dfb722c9ce3b3b906028a8b6939fd3301,99b75e9dfb722c9ce3b3b906028a8b6939fd3301,Checkin release notes
sorbits,2013-07-31 13:03:19,https://api.github.com/repos/textmate/textmate/git/commits/a7771287ef16d1d2fd3a6aed946a3371a312583c,a7771287ef16d1d2fd3a6aed946a3371a312583c,"Listen on IPv6 interface instead of only IPv4 (rmate)

Fixes textmate/rmate#19"
jtbandes,2013-07-26 08:21:19,https://api.github.com/repos/textmate/textmate/git/commits/17e822896e3a31a74e405576fb502f787f10f674,17e822896e3a31a74e405576fb502f787f10f674,"Add Quick Look generator

Closes #1062"
sorbits,2013-07-30 21:10:50,https://api.github.com/repos/textmate/textmate/git/commits/2f4370dc9bcfb6c6d4fcc9a6cf4a18cb9ecc3b33,2f4370dc9bcfb6c6d4fcc9a6cf4a18cb9ecc3b33,"Implement ‘-=’ for target files

Presently only for “string keys” like compiler and linker flags."
jtbandes,2013-07-27 07:32:40,https://api.github.com/repos/textmate/textmate/git/commits/847bef3bddd8490464b08543e0d2e17667dc0ae6,847bef3bddd8490464b08543e0d2e17667dc0ae6,"Use @rpath so frameworks can be loaded from the app bundle

@executable_path is the originally-executed program, whereas @loader_path is the program that caused the load to occur (e.g. a Quick Look generator). @rpath can be changed at link time — a QL generator can specify a value that points to the enclosing app bundle’s Frameworks directory."
sorbits,2013-07-30 13:35:16,https://api.github.com/repos/textmate/textmate/git/commits/9eda1a473b9554ec5764505e7c8d3029a2a4396c,9eda1a473b9554ec5764505e7c8d3029a2a4396c,Remove path::identifier_t
sorbits,2013-07-30 13:20:38,https://api.github.com/repos/textmate/textmate/git/commits/1d4d3bd3d39bf64f2e25cacf7d0b9ca286e2a8eb,1d4d3bd3d39bf64f2e25cacf7d0b9ca286e2a8eb,"Fix path/inode lookup when opening documents

The strategy is to prefer an existing document with same path and if there is none, check if there is a document with the same inode. The latter is so that links or files that have been moved, do not create duplicate documents.

The old code used a single map for the lookup, using path::identifier_t as key (wrapping path and/or inode), though since the map is ordered, the code would occasionally fail, as the keys cannot be correctly ordered (so effectively this reworked code is a fix for an incorrect path::identifier_t::operator<).

Fixes #1052."
sorbits,2013-07-29 20:38:49,https://api.github.com/repos/textmate/textmate/git/commits/a4a2af726a532a64a676a4ffeebbb855968d0d62,a4a2af726a532a64a676a4ffeebbb855968d0d62,Use std::mutex instead of OSSpinLock
sorbits,2013-07-29 20:21:06,https://api.github.com/repos/textmate/textmate/git/commits/e0e7059500c876d15d50ca625bd0b83ccfe8c7b2,e0e7059500c876d15d50ca625bd0b83ccfe8c7b2,Limit use of path::identifier_t
sorbits,2013-07-29 14:24:20,https://api.github.com/repos/textmate/textmate/git/commits/b09d1974ea465c3e250f2961bf0128e8d8f8ec95,b09d1974ea465c3e250f2961bf0128e8d8f8ec95,"Improve speed of stopping the document scanner

Closes #1069."
sorbits,2013-07-29 14:07:33,https://api.github.com/repos/textmate/textmate/git/commits/0a64d372a95a989b8d4f83fc9f7ccd216a64c665,0a64d372a95a989b8d4f83fc9f7ccd216a64c665,Improve lstat error message
sorbits,2013-07-29 14:04:26,https://api.github.com/repos/textmate/textmate/git/commits/24bd109ccc995d0393e24da449e91b5ab52de572,24bd109ccc995d0393e24da449e91b5ab52de572,Store tab size with backups
sorbits,2013-07-29 13:49:01,https://api.github.com/repos/textmate/textmate/git/commits/c69112dbe3921d1721f59f498635b4ccf7867ea3,c69112dbe3921d1721f59f498635b4ccf7867ea3,"fixup! Account for svn returning relative paths

Turns out the paths are relative to the current working directory, not the working copy."
sorbits,2013-07-29 13:02:10,https://api.github.com/repos/textmate/textmate/git/commits/05efb628b4c954982a94c456f16c50382529ac02,05efb628b4c954982a94c456f16c50382529ac02,"Setup indent settings at a higher level

We now setup the indent settings when creating untitled documents where we know the folder, so that we can use potential settings scoped to that folder.

Since the document itself no longer sets this as part of regular buffer setup, we also set it when opening a document with a path, and when changing a document’s file type, although the latter is probably temporary.

Closes #305."
sorbits,2013-07-29 12:26:20,https://api.github.com/repos/textmate/textmate/git/commits/9d37cb976a4721631ca29e49a88518b09d5a9e4f,9d37cb976a4721631ca29e49a88518b09d5a9e4f,Remove unnecessary call to c_str
sorbits,2013-07-29 11:56:15,https://api.github.com/repos/textmate/textmate/git/commits/a05088f9be98718dca533d369db3dfaea97e51f3,a05088f9be98718dca533d369db3dfaea97e51f3,"Document from content now sets file type and tab settings

Presently we also set file type (and thus indirectly indent settings) when “opening” a document, but I wish to remove that code, so that one can create a document, set all desired settings, and not worry about later code overwriting these settings."
sorbits,2013-07-29 08:19:08,https://api.github.com/repos/textmate/textmate/git/commits/ad445402096facc75fb52825a360fd23bfff1898,ad445402096facc75fb52825a360fd23bfff1898,Use document’s indent accessor instead of going via buffer()
sorbits,2013-07-29 08:11:51,https://api.github.com/repos/textmate/textmate/git/commits/2ad22d7662362fe28d0a75658f3b4b4c3bf57cd2,2ad22d7662362fe28d0a75658f3b4b4c3bf57cd2,Add indent accessor to document_t
sorbits,2013-07-29 08:03:25,https://api.github.com/repos/textmate/textmate/git/commits/585a32344a4cd9da5cfc87baab2c74e62e85511a,585a32344a4cd9da5cfc87baab2c74e62e85511a,Allow comparison of text::indent_t
sorbits,2013-07-29 08:02:22,https://api.github.com/repos/textmate/textmate/git/commits/1ff981ea7776adc925cb07be99feea28c7856328,1ff981ea7776adc925cb07be99feea28c7856328,Remove unused argument for file::path_attributes
jtbandes,2013-07-28 18:45:11,https://api.github.com/repos/textmate/textmate/git/commits/5a7bd6c91423f6b15fa0448a8a80b4607ce3c0b0,5a7bd6c91423f6b15fa0448a8a80b4607ce3c0b0,Add usernames for missing GitHub email addresses
jtbandes,2013-07-27 08:58:43,https://api.github.com/repos/textmate/textmate/git/commits/5bfd29b604f5da5cfb749626e8dcd39a41d2fadf,5bfd29b604f5da5cfb749626e8dcd39a41d2fadf,Move load_bundles to bundles framework
jtbandes,2013-07-27 08:51:28,https://api.github.com/repos/textmate/textmate/git/commits/d89571956d302dd7bb2137612db4844f6a18f8b6,d89571956d302dd7bb2137612db4844f6a18f8b6,Move fs_cache to plist framework
jtbandes,2013-07-27 07:24:16,https://api.github.com/repos/textmate/textmate/git/commits/f2df57df60accbc657a33ab710727fabbc8779df,f2df57df60accbc657a33ab710727fabbc8779df,"Rename “index.{cc,h}” to the more appropriate “item.{cc,h}”"
jtbandes,2013-07-27 07:13:39,https://api.github.com/repos/textmate/textmate/git/commits/97199ad0a6770be1332c26cd67cd210eff06c6ee,97199ad0a6770be1332c26cd67cd210eff06c6ee,Move some bundles code from index.h to query.h
jtbandes,2013-07-26 08:20:42,https://api.github.com/repos/textmate/textmate/git/commits/80327f7bb74fc3c9a2e044dc1e99bfe78a436338,80327f7bb74fc3c9a2e044dc1e99bfe78a436338,Modify gen_build to accept keys for copying into nested directories
jtbandes,2013-07-27 07:29:03,https://api.github.com/repos/textmate/textmate/git/commits/79a1f49ec5c4a8c5412e4dd98fe67c25b216a448,79a1f49ec5c4a8c5412e4dd98fe67c25b216a448,fixup! Show a tool tip when searching wraps around
sorbits,2013-07-27 14:26:59,https://api.github.com/repos/textmate/textmate/git/commits/2bdea516e37e9dd7fa0bf31ae0c7eaeb5a5991d8,2bdea516e37e9dd7fa0bf31ae0c7eaeb5a5991d8,"Avoid multiple carets after a “replace all”

If using folder search and replacements were done in an open document, then a caret would previously appear after each replacement."
sorbits,2013-07-27 13:56:12,https://api.github.com/repos/textmate/textmate/git/commits/98585e166e7ec6d30df19d2f4b624eba335e4a7a,98585e166e7ec6d30df19d2f4b624eba335e4a7a,Use byte range for replacement API
sorbits,2013-07-27 13:40:58,https://api.github.com/repos/textmate/textmate/git/commits/db070efed88730ac4f3767d4c4b0c47f331551f5,db070efed88730ac4f3767d4c4b0c47f331551f5,"Replace after a folder search now use the decoded content

This wasn’t a problem before, as we didn’t decode the content prior to doing a folder search."
sorbits,2013-07-27 10:33:18,https://api.github.com/repos/textmate/textmate/git/commits/18436e4943fa338a6530d3b9f71203904540e204,18436e4943fa338a6530d3b9f71203904540e204,"BOM scanning now store size in optional out parameter

We generally wish to skip the BOM, so knowing the size is useful."
sorbits,2013-07-27 10:26:49,https://api.github.com/repos/textmate/textmate/git/commits/8094d61ec40ba35414237315f3c75e47b49d35e3,8094d61ec40ba35414237315f3c75e47b49d35e3,"Only open documents that are already open (during save)

The “find in folder” will create documents, set their content, and potentially save them.

If a document is not open, it should save it without going through the content examination for file type and similar, which is part of opening a non-open document."
sorbits,2013-07-27 09:01:50,https://api.github.com/repos/textmate/textmate/git/commits/75f82957f95dda142660057b50e234fb2f55ac2a,75f82957f95dda142660057b50e234fb2f55ac2a,Exclude potential build folder from ⌘T / ⇧⌘F
sorbits,2013-07-26 21:09:14,https://api.github.com/repos/textmate/textmate/git/commits/6718a8a32cfcfcc675ad3bc7ff94bac6589ea619,6718a8a32cfcfcc675ad3bc7ff94bac6589ea619,Use libdispatch for threaded write to pipe
sorbits,2013-07-26 20:46:44,https://api.github.com/repos/textmate/textmate/git/commits/b48ec4e4b0440005b7bcc83aa570ae36d3515dc9,b48ec4e4b0440005b7bcc83aa570ae36d3515dc9,Improve implementation of kill_process_group_in_background
sorbits,2013-07-26 20:45:36,https://api.github.com/repos/textmate/textmate/git/commits/34c44bd647fa66985fbb230f187bde4c2b261ea5,34c44bd647fa66985fbb230f187bde4c2b261ea5,Don’t create NSSpellChecker tags until needed
sorbits,2013-07-26 20:24:11,https://api.github.com/repos/textmate/textmate/git/commits/cf3264cfc5a044fde36916e2725f8cef78cf26bc,cf3264cfc5a044fde36916e2725f8cef78cf26bc,"Remove test stack dump from symbolicate script

This sometimes show up in folder searches."
sorbits,2013-07-26 15:02:33,https://api.github.com/repos/textmate/textmate/git/commits/bc1fae555ad19d5aaddca2750433cef165e30ede,bc1fae555ad19d5aaddca2750433cef165e30ede,Update testing system for layout framework
sorbits,2013-07-26 14:23:29,https://api.github.com/repos/textmate/textmate/git/commits/7ed6199df1cd9058b7b591c9f45274fc7c5b1869,7ed6199df1cd9058b7b591c9f45274fc7c5b1869,Print error if scandir/lstat fails
sorbits,2013-07-26 14:21:33,https://api.github.com/repos/textmate/textmate/git/commits/866057f31d3c278250d0670621efd5828e372cda,866057f31d3c278250d0670621efd5828e372cda,"Better error reporting when copying git index

Also avoid a (sort of) race condition (related to meaningful error) by using fcopyfile()."
sorbits,2013-07-25 22:48:02,https://api.github.com/repos/textmate/textmate/git/commits/1467a0b44b883d81cb0b80d2d470faabf66b9fe4,1467a0b44b883d81cb0b80d2d470faabf66b9fe4,Update testing system for regexp framework
sorbits,2013-07-25 22:42:59,https://api.github.com/repos/textmate/textmate/git/commits/f05426378ce67633825b8af1cc2b61723a7524f7,f05426378ce67633825b8af1cc2b61723a7524f7,Update testing system for text framework
sorbits,2013-07-25 22:32:29,https://api.github.com/repos/textmate/textmate/git/commits/72c34bc33a1918c74ff5eadec4dc59408ff004a6,72c34bc33a1918c74ff5eadec4dc59408ff004a6,Update testing system for plist framework
sorbits,2013-07-25 22:18:53,https://api.github.com/repos/textmate/textmate/git/commits/cb098b4d805f3033b4d2923ebc1d6bf622fb283a,cb098b4d805f3033b4d2923ebc1d6bf622fb283a,Update testing system for scope framework
sorbits,2013-07-25 22:16:25,https://api.github.com/repos/textmate/textmate/git/commits/0c59a10aa1259054c283ebbd420accebcc207816,0c59a10aa1259054c283ebbd420accebcc207816,Update testing system for selection framework
sorbits,2013-07-25 21:53:23,https://api.github.com/repos/textmate/textmate/git/commits/efe617b4bcb5f391a67657757fb425c0b107ee56,efe617b4bcb5f391a67657757fb425c0b107ee56,Update testing system for theme framework
sorbits,2013-07-25 21:49:41,https://api.github.com/repos/textmate/textmate/git/commits/707e026c19362037555fd92deca5e0893b47ce9f,707e026c19362037555fd92deca5e0893b47ce9f,Update testing system for Find framework
sorbits,2013-07-25 21:06:46,https://api.github.com/repos/textmate/textmate/git/commits/2e488b4ee7bb618b64676575d65171a4db3603db,2e488b4ee7bb618b64676575d65171a4db3603db,Update testing system for bundles framework
sorbits,2013-07-25 21:05:08,https://api.github.com/repos/textmate/textmate/git/commits/688d3d4a9c55fde16e5c9210ed7cb60050d38b6f,688d3d4a9c55fde16e5c9210ed7cb60050d38b6f,Update testing system for parse framework
sorbits,2013-07-25 20:59:41,https://api.github.com/repos/textmate/textmate/git/commits/29ff131f263b60f50d3de630feb34ffd1c41e384,29ff131f263b60f50d3de630feb34ffd1c41e384,"Don’t assert that only main thread can launch a process

When we run our tests then we are likely not on the main thread when we indirectly test this API."
sorbits,2013-07-25 20:54:12,https://api.github.com/repos/textmate/textmate/git/commits/6f264a25203f084e0e9b4366a5bd2600205e2639,6f264a25203f084e0e9b4366a5bd2600205e2639,Fix issue with reference types used in assertions
sorbits,2013-07-25 13:58:37,https://api.github.com/repos/textmate/textmate/git/commits/ce395fa46afeaeb6dec1616fc300dc87ba781004,ce395fa46afeaeb6dec1616fc300dc87ba781004,"Make bundle item queries thread safe

Note though that mutating the bundle item index is not allowed if other threads are querying it."
jasminlapalme,2013-07-25 21:48:33,https://api.github.com/repos/textmate/textmate/git/commits/b9a06b3e0a162998f1fccea4476c25b4cbbd868a,b9a06b3e0a162998f1fccea4476c25b4cbbd868a,"Support UTF-16/32 and user fallback encoding for folder search

The fallback encoding is taken from .tm_properties (attr.unknown-encoding)."
sorbits,2013-07-25 12:16:47,https://api.github.com/repos/textmate/textmate/git/commits/9db42905bf3e6ccb1c1ed3a2374d611dcb5732b4,9db42905bf3e6ccb1c1ed3a2374d611dcb5732b4,"Also use Projects → Initial Location for ⌘T / ⇧⌘F

This settings is the fallback setting for when there is neither a file browser or project folder set for an untitled document."
sorbits,2013-07-25 11:54:25,https://api.github.com/repos/textmate/textmate/git/commits/d5d01542f71d23dc9078a96015409c166e7bc18e,d5d01542f71d23dc9078a96015409c166e7bc18e,Support copying test::jail_t
sorbits,2013-07-25 09:45:35,https://api.github.com/repos/textmate/textmate/git/commits/6a4c0ff37930e7a3086a26ffaeb6593274f62650,6a4c0ff37930e7a3086a26ffaeb6593274f62650,Update testing system for editor framework
jacob-carlborg,2013-07-21 16:18:36,https://api.github.com/repos/textmate/textmate/git/commits/7c6d5680af33767916c39ab54c6b1e0bd7b5a8b3,7c6d5680af33767916c39ab54c6b1e0bd7b5a8b3,"Add source list style setting for the file browser

When this setting is enabled it will render the file browser with the source list style, that is, the same style as the sidebar in Finder.

To enable run: defaults write com.macromates.TextMate.preview fileBrowserStyle SourceList"
sorbits,2013-07-24 13:55:47,https://api.github.com/repos/textmate/textmate/git/commits/d17fb1ad7ceb55edeaee6271bdafcb1dd66ad7de,d17fb1ad7ceb55edeaee6271bdafcb1dd66ad7de,"Account for svn returning relative paths

Starting with subversion 1.8 we get back relative paths from ‘svn status’ so we need to prepend the working directory path.

I also made a few minor stylistic changes while touching the relevant function."
sorbits,2013-07-24 13:51:12,https://api.github.com/repos/textmate/textmate/git/commits/974d027f23f728f314b836f9b14c9feb4ff6d55e,974d027f23f728f314b836f9b14c9feb4ff6d55e,Include key event in potential crash reports
sorbits,2013-07-23 21:44:34,https://api.github.com/repos/textmate/textmate/git/commits/1988b6ba3d6fe8d868d5eddbeb1680e8ddf69400,1988b6ba3d6fe8d868d5eddbeb1680e8ddf69400,Checkin release notes
sorbits,2013-07-23 20:50:29,https://api.github.com/repos/textmate/textmate/git/commits/70411fa11aba56bd7645939860093eb991c5d185,70411fa11aba56bd7645939860093eb991c5d185,"Show a tool tip when searching wraps around

Closes #1049, although the visual feedback could be improved (see issue)."
sorbits,2013-07-23 20:45:52,https://api.github.com/repos/textmate/textmate/git/commits/06f349507a2d426b32e3af84ff528c58a27f4f34,06f349507a2d426b32e3af84ff528c58a27f4f34,"Add a “did wrap” boolean to the OakFindProtocol API

This informs the “server” that searching wrapped around to find the match."
sorbits,2013-07-23 19:15:35,https://api.github.com/repos/textmate/textmate/git/commits/d40faab873f5b1a643c813a05ae0129bba24363c,d40faab873f5b1a643c813a05ae0129bba24363c,"Improve ng::find semantics

When no matches are found then we search the selected range for a match and use that.

Also add a “did wrap” out parameter to the API."
sorbits,2013-07-23 13:51:59,https://api.github.com/repos/textmate/textmate/git/commits/a1093473055000b3043e19215e91e8badc3eea0a,a1093473055000b3043e19215e91e8badc3eea0a,Toggling “Ignore Case” can now be done with ⌥⌘C
dhowden,2013-07-23 08:13:25,https://api.github.com/repos/textmate/textmate/git/commits/274f73b7de3e7fd9ed67490cfc82cf6d22f9c44e,274f73b7de3e7fd9ed67490cfc82cf6d22f9c44e,"Fix file browser layout issue

Shrinking the file browser width so that the folder drop-down
text is compressed would cause the layout to break if the width
was then increased."
sorbits,2013-07-22 09:01:17,https://api.github.com/repos/textmate/textmate/git/commits/83946bd3cf40c4e5516c1b22befb236d61be9c46,83946bd3cf40c4e5516c1b22befb236d61be9c46,"Treat relative txmt: URLs as relative to home folder

This is supported to be compatible with TextMate 1.x.

Fixes #1047."
sorbits,2013-07-22 00:58:51,https://api.github.com/repos/textmate/textmate/git/commits/5fc03a86304c2ca33f2f224d1f010fd1ce383bf8,5fc03a86304c2ca33f2f224d1f010fd1ce383bf8,"Don’t ignore save errors for multi-file search/replace

For this change I have made the FFDocumentSearch class inherit from NSDocument. This way, we can register it with the window controller and will get callbacks when the window is about to close, with the option to cancel closing of the window. This approach seems much simpler than the alternative, which would be to introduce our own callback/delegate system for window closing, or have the window controller know about saving files."
sorbits,2013-07-21 20:05:08,https://api.github.com/repos/textmate/textmate/git/commits/8b32837a391da990aa34f0ca7567ac340d017220,8b32837a391da990aa34f0ca7567ac340d017220,"Force cache invalidation when deleting bundle items

This is to workaround missing fs-events. Ideally the bundle item itself would do the cache invalidation, since it’s complicated to deduce what paths need rescanning after a delete."
sorbits,2013-07-21 20:38:23,https://api.github.com/repos/textmate/textmate/git/commits/97caace4d24f5d552d7d2af9a9b448d2fe409f12,97caace4d24f5d552d7d2af9a9b448d2fe409f12,"Some further tweaks related to stopping search

We now show “Stopped.” as status text when search is prematurely terminated.
Closing window also cause search to stop.
The stop button has ⌘. as key equivalent (the standard “cancel” key).
Don’t let the stop action go via the search action dispatcher."
dhowden,2013-07-21 13:42:10,https://api.github.com/repos/textmate/textmate/git/commits/cfb2335761d0a25645d58880a7c53609c70e2a59,cfb2335761d0a25645d58880a7c53609c70e2a59,"Added “Stop Search” button to Find dialog

Previously wasn't possible to stop a search in progress (even
when closing the Find window)."
jtbandes,2013-03-20 03:05:09,https://api.github.com/repos/textmate/textmate/git/commits/b533df1a406c236547de46213b82375dffb1f40a,b533df1a406c236547de46213b82375dffb1f40a,Bar button positioning tweaks
sorbits,2013-07-21 09:36:07,https://api.github.com/repos/textmate/textmate/git/commits/25ed8b4e627ec718a2c4aa9226ba71b6fc7c211b,25ed8b4e627ec718a2c4aa9226ba71b6fc7c211b,"Highlight pairs can now be regular expressions

These settings are also consulted for “pair movement”, i.e. ⌃↓/⌃↑ and ⇧⌘B, so by using regular expressions we can match begin/end tags and navigate between these."
sorbits,2013-07-21 08:54:32,https://api.github.com/repos/textmate/textmate/git/commits/920d75b2e7e4b443c8df99a16cbd6d5cd42de0e9,920d75b2e7e4b443c8df99a16cbd6d5cd42de0e9,"Remove warning from regexp test

The problem is with the underlying library and has been reported to its issue tracker."
sorbits,2013-07-21 08:47:53,https://api.github.com/repos/textmate/textmate/git/commits/3a359ca52d208637478f4f27b87239ebdfeff0e4,3a359ca52d208637478f4f27b87239ebdfeff0e4,"Limit resources copied to target bundle

Without the ‘.png’ extension we would match the ‘Header Icons’ folder, and (recursively) copy that to our target, so the contents of the folder would exist in two places in the target (with and without the folder)."
sorbits,2013-07-21 00:19:35,https://api.github.com/repos/textmate/textmate/git/commits/27eee5ed59da5765ab144fddff9c2cd075d7c1c3,27eee5ed59da5765ab144fddff9c2cd075d7c1c3,Remove oniguruma 5.9.2 files
sorbits,2013-07-21 00:18:46,https://api.github.com/repos/textmate/textmate/git/commits/e0c7a3df57289a2ebc4f83527a0ac5f96453f426,e0c7a3df57289a2ebc4f83527a0ac5f96453f426,Switch regexp library: oniguruma → onigmo
sorbits,2013-07-21 00:15:47,https://api.github.com/repos/textmate/textmate/git/commits/7a3161a91de4a54be8fccce3a2374b391d15f89d,7a3161a91de4a54be8fccce3a2374b391d15f89d,Setup Onigmo target
sorbits,2013-07-21 00:08:44,https://api.github.com/repos/textmate/textmate/git/commits/22d892f6b51aba3092975dd0b5c68efed8b1821f,22d892f6b51aba3092975dd0b5c68efed8b1821f,Add Onigmo submodule
sorbits,2013-07-21 00:02:06,https://api.github.com/repos/textmate/textmate/git/commits/a42e93f8b831f86974dead18dd0ed137aa9d0e0d,a42e93f8b831f86974dead18dd0ed137aa9d0e0d,"Ensure -include «pch» is the first compiler option

This is incase we want to set ‘-include’ via a FLAGS variable, as that only works when it is listed after a potential precompiled header include."
sorbits,2013-07-20 23:26:56,https://api.github.com/repos/textmate/textmate/git/commits/c9812c5e8a031a9abe417672b01ff32fb475d5a7,c9812c5e8a031a9abe417672b01ff32fb475d5a7,"Do not set hidden visibility for C sources

This is for oniguruma and ideally we would set this only for the oniguruma target, but then we need special precompiled headers for that target, so this is a practical way to achieve the goal (there are no other C sources in the build tree)."
sorbits,2013-07-20 23:10:29,https://api.github.com/repos/textmate/textmate/git/commits/81d065ab8e97cad59fdfeb216d8a63aa705a94ca,81d065ab8e97cad59fdfeb216d8a63aa705a94ca,"Use oniguruma’s default character type (OnigUChar)

This introduces a bunch of typecasts but means that less patching is required when updating the library."
sorbits,2013-07-20 23:06:14,https://api.github.com/repos/textmate/textmate/git/commits/8987f3e48314c305311903cfd33ea190e7898e3a,8987f3e48314c305311903cfd33ea190e7898e3a,Remove unused function: pattern_t::indices_for_group
sorbits,2013-07-20 15:53:58,https://api.github.com/repos/textmate/textmate/git/commits/30260019885d549a47677d771f863d34a1a836fc,30260019885d549a47677d771f863d34a1a836fc,Fix issue with merging delta property lists
sorbits,2013-07-20 08:43:28,https://api.github.com/repos/textmate/textmate/git/commits/491fc8a3e391ceca12e9fd4ca3008c9e20e37df5,491fc8a3e391ceca12e9fd4ca3008c9e20e37df5,Add missing semi-colons after assertion
sorbits,2013-07-19 22:06:31,https://api.github.com/repos/textmate/textmate/git/commits/2c307cabce528b1c899ca30b2c21a9ae259bc19d,2c307cabce528b1c899ca30b2c21a9ae259bc19d,"Allow setting a tab as “sticky”

Presently this can only be done by right-clicking the tab and selecting the “Sticky” option — if a tab is sticky then it will not be closed when executing any of the batch close actions (Close All Tabs, Close Other Tabs, Close Tabs to the Right, and holding option down while opening a file via file browser or file chooser).

Closes #1038."
sorbits,2013-07-19 21:12:26,https://api.github.com/repos/textmate/textmate/git/commits/32e18b2697d905c103d7c858596938cd529112ae,32e18b2697d905c103d7c858596938cd529112ae,"Improve code to find “paired character ranges”

The algorithm now handle overlapping character ranges like: ‘(f{o)o}’ and unpaired characters surrounded by character pairs.

This is for selecting (⇧⌘B) and moving to the begin or end of the range (⌃↓/⌃↑)."
sorbits,2013-07-20 13:37:19,https://api.github.com/repos/textmate/textmate/git/commits/ad02f214ac0f6c3cbfdfe8f630a74e690e58dec3,ad02f214ac0f6c3cbfdfe8f630a74e690e58dec3,Improve readability of brace movement tests
sorbits,2013-07-19 19:19:59,https://api.github.com/repos/textmate/textmate/git/commits/60d07b061e9036c8563285d06f820a95d94ca20f,60d07b061e9036c8563285d06f820a95d94ca20f,"Use ruby 1.8 in the shebang for new commands

Using the ruby found via PATH would require the command to be tested with ruby 1.8, 1.9, 2.0 and possibly alternative ruby implementations (rubinus, jruby, …) so best to be explicit about which version the command is written for."
sorbits,2013-07-19 14:58:42,https://api.github.com/repos/textmate/textmate/git/commits/1b61c9c6882dcf2f005502b86e2d8eda98a28132,1b61c9c6882dcf2f005502b86e2d8eda98a28132,Fix “unused variable” compiler warning
sorbits,2013-07-19 13:19:09,https://api.github.com/repos/textmate/textmate/git/commits/87a04549ecea1df0feed2a30b44b051b10af3753,87a04549ecea1df0feed2a30b44b051b10af3753,"Add “related file” settings for *.go (test) files

With this setting ⌥⌘↑ will switch between test and non-test *.go files."
sorbits,2013-07-19 13:02:14,https://api.github.com/repos/textmate/textmate/git/commits/ba85697ac48a912fb77e56c15fa78616add5eaac,ba85697ac48a912fb77e56c15fa78616add5eaac,"Change “counterpart” to “related file”

This applies both to the action method and the settings key, the latter is now relatedFilePath to indicate that it’s a full absolute path (neither relative or a glob pattern)."
sorbits,2013-07-19 12:59:40,https://api.github.com/repos/textmate/textmate/git/commits/e9acd16879eeede2b1413dc2a45fcc5392a410a4,e9acd16879eeede2b1413dc2a45fcc5392a410a4,"Move some Go menu items to Navigate menu

The Go to Symbol and Line are now in the Navigate menu, which means everything in the Go menu is about selecting a file or folder (for the file browser location).

The Navigate menu is about navigating around in the current file.

Also change menu item title “Go to Counterpart…” → “Go to Related File”"
sorbits,2013-07-17 20:02:46,https://api.github.com/repos/textmate/textmate/git/commits/0afa234ee67c96ef74a1fe07a6fd68ad97888017,0afa234ee67c96ef74a1fe07a6fd68ad97888017,"Add new file types

This includes a new “braces” icon for use in the file browser, presently only used by ‘.go’ files."
sorbits,2013-07-17 20:01:15,https://api.github.com/repos/textmate/textmate/git/commits/61bb49ad6e7e24b62a68fa11b1ec674079ac545c,61bb49ad6e7e24b62a68fa11b1ec674079ac545c,"File browser icon bindings were semi-case-sensitive

We compared the lowercased extension or file name with the case-preserved entry in the bindings.plist file, meaning e.g. ‘Makefile’ never got the intended icon."
granth,2013-07-20 13:52:59,https://api.github.com/repos/textmate/textmate/git/commits/fa1f4254cb7dc0c75cc62e1c2f0b8ec32d6b3c6d,fa1f4254cb7dc0c75cc62e1c2f0b8ec32d6b3c6d,Remove obsolete help text for mate -n
sorbits,2013-07-11 11:44:48,https://api.github.com/repos/textmate/textmate/git/commits/34f13d58377121729ad1cff53b8900dbc4841a7f,34f13d58377121729ad1cff53b8900dbc4841a7f,"If no counterpart is found, create tab with custom path

This way, if we specify that ‘*.go’ has a counterpart of ‘*_test.go’ but no test file exist (and no other files with same base name) then ⌥⌘↑ will create a new tab using the test file path as default save path."
sorbits,2013-07-10 22:23:05,https://api.github.com/repos/textmate/textmate/git/commits/698f08ab35e880ac8ee7d084b54112bbf6fb51f0,698f08ab35e880ac8ee7d084b54112bbf6fb51f0,"Allow customizing what is used for ‘Go to File Counterpart’ (⌥⌘↑)

The user can now set ‘counterpart’ in .tm_properties to the absolute path of what should be used for ⌥⌘↑. If the file does not exist (on disk or as an open tab) then TextMate will fallback to searching the current folder for a file with same name.

To switch between go source and go test files one could add the following:

   [ *.go ]
   counterpart = ""${TM_FILEPATH/(_test)?\.go$/${1:?:_test}.go/}""

Here the regular expression transformation will remove ‘_test’ from the file name if it exists, otherwise add it.

One could also do multiple settings like:

   [ *.go ]
   counterpart = ""${TM_FILEPATH/(?=\.go$)/_test/}""

   [ *_test.go ]
   counterpart = ""${TM_FILEPATH/_test(?=\.go$)//}""

Here ‘*.go’ files get the ‘_test’ added to their name, though files matched by the ‘*_test.go’ glob will instead have it removed."
sorbits,2013-07-02 16:26:49,https://api.github.com/repos/textmate/textmate/git/commits/3198a8cdb12a20d95810d58a3f3d34a86555e488,3198a8cdb12a20d95810d58a3f3d34a86555e488,"Use weak pointer for block-accessed run loop

I am seeing some crashes related to this code. My best guess is that a command execution (with exit handler) is created and then cancelled from JavaScript, which would invoke the cleanup block that uses the (now destroyed, but non-nilled) run loop."
sorbits,2013-07-02 16:10:56,https://api.github.com/repos/textmate/textmate/git/commits/115838949ad1fa3742efd13a756ddfa43269aaad,115838949ad1fa3742efd13a756ddfa43269aaad,"Do not resolve broken symbolic links

Links that would point “above” the root (e.g. ‘/foo’ → ‘../../bar’) would cause an infinite recursion and eventually crash."
sorbits,2013-07-01 12:36:12,https://api.github.com/repos/textmate/textmate/git/commits/33a47898e10ab384bff2b68e4a1e608337f93859,33a47898e10ab384bff2b68e4a1e608337f93859,Remove revision field from version_info_t
sorbits,2013-07-01 11:12:51,https://api.github.com/repos/textmate/textmate/git/commits/9adac35f8618a2ba6b447d40916abf518a76e01c,9adac35f8618a2ba6b447d40916abf518a76e01c,"Use complex version string during software update checks

While it is simpler to compare a monotonically increasing integer (the revision), we always use the semantic version string in the user interface, meaning that this version string should change together with the revision, which effectively means we are maintaing two version numbers.

We previously embedded the revision in the version string (2.0-alpha.$revision) but when going from alpha → beta, it would be nice to reset the visible counter, so that first beta becomes 2.0-beta.1, furthermore, test versions could benefit from a more descriptive version string, e.g. “2.0-alpha.9439.2+debug” would be the second (semi-public) debug build after “2.0-alpha.9439”."
sorbits,2013-07-01 11:11:30,https://api.github.com/repos/textmate/textmate/git/commits/6c2ed2053dbe40bd213a897b22ccb12681d73673,6c2ed2053dbe40bd213a897b22ccb12681d73673,Trim version string received from server
sorbits,2013-07-01 10:45:15,https://api.github.com/repos/textmate/textmate/git/commits/dc1a53aa38de76b5023d3ccce2fe52ab4bafc021,dc1a53aa38de76b5023d3ccce2fe52ab4bafc021,Add code for comparing complex version strings
sorbits,2013-06-29 10:39:52,https://api.github.com/repos/textmate/textmate/git/commits/8b696444c625fba5e5facbb75e682f47cd381526,8b696444c625fba5e5facbb75e682f47cd381526,"Invalidate bundle item (disk) cache when saving in bundle editor

Normally the cache is automatically invalidated via fs-events, but that is sadly unreliable.

Should fix #1034."
sorbits,2013-06-29 10:38:41,https://api.github.com/repos/textmate/textmate/git/commits/ffc622c63d3c5d3122337659a7f35c2ccada52f4,ffc622c63d3c5d3122337659a7f35c2ccada52f4,Deleting a bundle would only delete the contained info.plist
sorbits,2013-06-29 10:37:01,https://api.github.com/repos/textmate/textmate/git/commits/598e80f06b19a2b8c0e7fc80cfe6206270a4168b,598e80f06b19a2b8c0e7fc80cfe6206270a4168b,"Resolve path for a bundle item after it has been created

We may save to a symlinked path but generally always work with resolved paths (for cache lookups, fs-events, etc.)."
sorbits,2013-06-29 10:35:43,https://api.github.com/repos/textmate/textmate/git/commits/59a67be3483f09a4c095d7f088d1e6e6c1f5a366,59a67be3483f09a4c095d7f088d1e6e6c1f5a366,"Handle creating a new bundle with name of existing bundle

Previously we would ensure that /path/to/info.plist inside the bundle was unique when we should have ensured that the actual bundle name was unique."
sorbits,2013-06-28 21:42:53,https://api.github.com/repos/textmate/textmate/git/commits/2177645154db3e565115b147abf6271b6697753b,2177645154db3e565115b147abf6271b6697753b,Checkin release notes
sorbits,2013-06-28 21:31:19,https://api.github.com/repos/textmate/textmate/git/commits/f88454b6aefa1595736bb3c841a34e841e14c15a,f88454b6aefa1595736bb3c841a34e841e14c15a,"Fix issue with remembering expanded file browser items

Previously each file browser would have its own array of expanded items, read from user defaults, and written back during application termination.

This meant that the last file browser to write its array, would eclipse the other file browsers.

Now we have all but the first file browser append its list of expanded items. Additionally each file browser will only append items which are actually visible.

Fixes #873."
sorbits,2013-06-28 20:52:58,https://api.github.com/repos/textmate/textmate/git/commits/48339e306b2c61cbf0eb658f5d9616324c25fd38,48339e306b2c61cbf0eb658f5d9616324c25fd38,"Remove outdated “upgrade” code

We used to store selected URLs in the user defaults and added this code to remove potentially items."
sorbits,2013-06-28 19:50:07,https://api.github.com/repos/textmate/textmate/git/commits/fd6e47b023c98165249a9b5466bd397f6825df17,fd6e47b023c98165249a9b5466bd397f6825df17,"Let a document search clear the folder results used by ⌘G

If the user does a folder search then ⌘G will step through all the matches, opening documents as required. Previously the user would have to do a new search, using a different search string, to stop ⌘G from moving to a new document. It is now possible to stop the behavior using ⌘F followed by ↩."
sorbits,2013-06-28 17:28:17,https://api.github.com/repos/textmate/textmate/git/commits/27e0abfa39603b47a25c2037026a534883ecf379,27e0abfa39603b47a25c2037026a534883ecf379,"Add support for printing

Closes #517."
sorbits,2013-06-28 15:21:11,https://api.github.com/repos/textmate/textmate/git/commits/c22ed7ce091e2534683052aa55e568b661752c93,c22ed7ce091e2534683052aa55e568b661752c93,Make layout_t::update_metrics public
sorbits,2013-06-28 06:42:06,https://api.github.com/repos/textmate/textmate/git/commits/eb1acfe70f085ea596c01ef93fb60817ca92fbb5,eb1acfe70f085ea596c01ef93fb60817ca92fbb5,Remove box_layout.h header (unused)
sorbits,2013-06-27 21:26:46,https://api.github.com/repos/textmate/textmate/git/commits/b8b00b5fe89f0b702d4811bd21be2d67aedd3c1e,b8b00b5fe89f0b702d4811bd21be2d67aedd3c1e,Make OakCreateCheckBox a public function
sorbits,2013-06-27 21:26:11,https://api.github.com/repos/textmate/textmate/git/commits/9b325e54d1f41a6c37c5d3ffbf02a463703b5b43,9b325e54d1f41a6c37c5d3ffbf02a463703b5b43,"Setup margins based on paper size before printing

Also show paper size/type popup and scale factor in print dialog."
sorbits,2013-06-27 21:24:23,https://api.github.com/repos/textmate/textmate/git/commits/e28b346d704126fce6d5fec6beb7464d0ef092fa,e28b346d704126fce6d5fec6beb7464d0ef092fa,"Bind Page Setup… to our application controller

For unknown reasons, the NSApplication object will not respond to this method, even though it should implement it."
sorbits,2013-06-26 10:32:42,https://api.github.com/repos/textmate/textmate/git/commits/ecede39eebe64820d17f3328c884165ed75c5b19,ecede39eebe64820d17f3328c884165ed75c5b19,"Don’t pass (https) scheme to the reachability API

The reachability API does a DNS lookup on the literal string and prior to this commit, could stall for as long as it takes to lookup a non-existing host name via DNS."
sorbits,2013-06-26 09:47:35,https://api.github.com/repos/textmate/textmate/git/commits/d1d63308b6c2220030e6543ff6e4d3ae0e2b1860,d1d63308b6c2220030e6543ff6e4d3ae0e2b1860,"Limit printing to web views and use sheet for dialog

File → Print… (⌘P) now sends the “printDocument:” action method (instead of “print:”).

Rather than implement “printDocument:” for the various HTML windows (command output, about window) we provide a general implementation in the application delegate that checks if there is a WebDocumentView conforming view in the responder chain."
sorbits,2013-06-25 17:36:19,https://api.github.com/repos/textmate/textmate/git/commits/448068442176d0b046932fadb3cc756763215310,448068442176d0b046932fadb3cc756763215310,Prevent (some forms of) overlapping selections
sorbits,2013-06-25 15:36:06,https://api.github.com/repos/textmate/textmate/git/commits/f5d28f2dd1e9044762cfaca56b1d65a1615b99bc,f5d28f2dd1e9044762cfaca56b1d65a1615b99bc,"Let file chooser read ‘followSymbolicLinks’ from .tm_properties

Set this to ‘true’ if you want the file chooser (⌘T) to follow symbolic links.

The reason for making it a ‘.tm_properties’ setting is only because I am not yet sure how to best integrate this into the UI. The find dialog has an identical UI option which is global option — it would make sense to coalesce these two options, and while doing that, make the find dialog’s version a project/path setting rather than have it be global.

Closes #984."
sorbits,2013-06-24 02:16:07,https://api.github.com/repos/textmate/textmate/git/commits/b519b8795857d2c0762eb4f5e971e6d0deeacc64,b519b8795857d2c0762eb4f5e971e6d0deeacc64,Checkin release notes
sorbits,2013-06-23 16:31:47,https://api.github.com/repos/textmate/textmate/git/commits/1e970fad97a4736f7b1648502743a0708af2a79d,1e970fad97a4736f7b1648502743a0708af2a79d,"Select table view row before initiating the field editor

If we don’t ensure the row is selected then tab (from the cell with the field editor) will not advance to the row’s next column."
sorbits,2013-06-23 05:40:44,https://api.github.com/repos/textmate/textmate/git/commits/306fc7406f4934f1bd77be0c745bbd3c18abecfd,306fc7406f4934f1bd77be0c745bbd3c18abecfd,Update syntax to use a dictionary literal (Objective-C 2)
sorbits,2013-06-23 05:32:09,https://api.github.com/repos/textmate/textmate/git/commits/eae48c1a66607d736c09f46d044b7ec5ee65c43e,eae48c1a66607d736c09f46d044b7ec5ee65c43e,"Add OS and program version to s/w update URL

The server previously grabbed this from the user agent string but this is more fragile and doesn’t work with caching."
sorbits,2013-06-23 04:22:56,https://api.github.com/repos/textmate/textmate/git/commits/6ec5bf26972b2486f6e6f580ae0279043065f0d3,6ec5bf26972b2486f6e6f580ae0279043065f0d3,Set ⌥ as modifier for Edit → Select → Toggle Column Selection
sorbits,2013-06-23 04:18:52,https://api.github.com/repos/textmate/textmate/git/commits/9638e4b70cc11214ee7813547becdbc200421d30,9638e4b70cc11214ee7813547becdbc200421d30,"Allow setting arbitrary activation strings for menu items

The implementation is presently geared toward only setting various activation strings, as unsetting e.g. a key equivalent won’t restore a potential (previously set) tab trigger etc."
sorbits,2013-06-23 04:12:30,https://api.github.com/repos/textmate/textmate/git/commits/44ce84f79ce5f78f8628536ae6ba40774c4376b9,44ce84f79ce5f78f8628536ae6ba40774c4376b9,Support setting menu item’s modified state to NO
sorbits,2013-06-23 03:01:56,https://api.github.com/repos/textmate/textmate/git/commits/5c4a2025a319e281bb4f19d9069e0aaa05960176,5c4a2025a319e281bb4f19d9069e0aaa05960176,"Add menu item to toggle column selection

The motivation for this is mainly to make the ⌥ shortcut visible in the UI, which presently, it is not, as we need to “hack” the menu item to show it."
sorbits,2013-06-22 14:47:59,https://api.github.com/repos/textmate/textmate/git/commits/0c26060f1c56dd5e166175a34ca778be3736bb6c,0c26060f1c56dd5e166175a34ca778be3736bb6c,"Find dialog now responds to findAllInSelection:

This is the action method sent by the Edit → Find → Find All (⌥⌘F) menu item, and is now treated as an alias to the existing findAll: action method (that the Find All button in the find dialog sends)."
sorbits,2013-06-22 11:00:10,https://api.github.com/repos/textmate/textmate/git/commits/b9076acdaf7b91f048f05ac4dea56c41608eecd2,b9076acdaf7b91f048f05ac4dea56c41608eecd2,Remove leading/trailing whitespace from license owner name
sorbits,2013-06-22 10:59:49,https://api.github.com/repos/textmate/textmate/git/commits/ea2cf8d875e91c94481d3786d5d377cfc99058e3,ea2cf8d875e91c94481d3786d5d377cfc99058e3,Add CR to default trim character set
sorbits,2013-06-22 10:53:43,https://api.github.com/repos/textmate/textmate/git/commits/10c212cbd67df0bc3311bddda0d72909deaee30a,10c212cbd67df0bc3311bddda0d72909deaee30a,Improve error dialog when failing to add license
sorbits,2013-06-22 10:48:44,https://api.github.com/repos/textmate/textmate/git/commits/f43414ae54126fa768f5b3e96a023b6a4e3402e5,f43414ae54126fa768f5b3e96a023b6a4e3402e5,"Don’t use kSecAttrCreator with keychain API

The creator code is obsolete and doesn’t serve much of a purpose, as we already mention TextMate in the service name.

When updating a keychain item we leave out kSecAttrLabel and kSecAttrComment, which may fix issue #1029."
sorbits,2013-06-22 09:33:12,https://api.github.com/repos/textmate/textmate/git/commits/241d105dc9f978143782b4983ce7d1fc1e170c87,241d105dc9f978143782b4983ce7d1fc1e170c87,"Skip loading Bundles → TextMate → Update Notification (⌘Q)

The bundle item is causing ⌘Q to act subtlety different (issue #1031) but as we still see a lot of users on old versions, the item is still valuable to keep around."
sorbits,2013-06-21 04:56:44,https://api.github.com/repos/textmate/textmate/git/commits/a8729b383e90042f7094a32ed7695602fee32b44,a8729b383e90042f7094a32ed7695602fee32b44,Checkin release notes
sorbits,2013-06-21 04:46:00,https://api.github.com/repos/textmate/textmate/git/commits/ffae9da1d37b717cc7ef668397f7f20eea6b4177,ffae9da1d37b717cc7ef668397f7f20eea6b4177,"Only skip setting search folder for ⇧⌘F if already “owner”

The user may use ⇧⌘F either to bring existing results to front, or to start a new folder search for a potential different project.

If the dialog is not visible, we always initialize it fully. If already visible, we previously would not setup search folder since the current search folder might have been manually set by the user, which we do not want to overwrite."
sorbits,2013-06-20 18:43:14,https://api.github.com/repos/textmate/textmate/git/commits/d22f7163c5febfdbd4d62b022a5426a043a3662a,d22f7163c5febfdbd4d62b022a5426a043a3662a,"Ensure tab size read from .tm_properties is larger than zero

Closes #1028."
sorbits,2013-06-20 14:54:54,https://api.github.com/repos/textmate/textmate/git/commits/6e5181210e538bafe95444b0c49330cf3b8d388d,6e5181210e538bafe95444b0c49330cf3b8d388d,"Don’t let up/down abort multiple carets when all on same line

In this situation, abort the multiple carets by moving them all to the beginning or end of the current line (⌘←/⌘→ or ⌃A/⌃E)."
sorbits,2013-06-20 14:52:52,https://api.github.com/repos/textmate/textmate/git/commits/b8359528236667dcdc90ebce9afa930ff756e429,b8359528236667dcdc90ebce9afa930ff756e429,"Don’t pre-select (find) “in selection” by default

Previously this would be selected if the user had a multi-line selection and was pressing ⌘F. The old behavior can be restored using:

    defaults write findInSelectionByDefault -bool YES"
sorbits,2013-06-19 04:55:03,https://api.github.com/repos/textmate/textmate/git/commits/6b64f3805314de2254d6d5917d990d88c6cfb659,6b64f3805314de2254d6d5917d990d88c6cfb659,Update dialog text
sorbits,2013-06-19 04:24:35,https://api.github.com/repos/textmate/textmate/git/commits/1f893b5543b729a0ae6e46ee58ae05a38f540a86,1f893b5543b729a0ae6e46ee58ae05a38f540a86,Stopping long lived TextMate.system() executions would crash
sorbits,2013-06-18 08:57:14,https://api.github.com/repos/textmate/textmate/git/commits/f01a9d9a718594efd78a06a8c806527d937b59b8,f01a9d9a718594efd78a06a8c806527d937b59b8,"Remove keychain argument

The new (non-deprecated) API no longer allows us to target a specific keychain for add, remove, and lookup.

This wasn’t used by TextMate itself but was extremely useful for writing tests against the API (using temporary keychains)."
sorbits,2013-06-18 08:09:58,https://api.github.com/repos/textmate/textmate/git/commits/7060e4e3589622d3d55e79dd8de7f2a5e79b9035,7060e4e3589622d3d55e79dd8de7f2a5e79b9035,Allow user to “add license” in About → Registration
sorbits,2013-06-18 05:28:17,https://api.github.com/repos/textmate/textmate/git/commits/c3f79e2e05ef4f600a451087211c9d41b326f797,c3f79e2e05ef4f600a451087211c9d41b326f797,Improve code to find license key
sorbits,2013-06-18 04:44:47,https://api.github.com/repos/textmate/textmate/git/commits/570afce039117c4806c9c73b48786417c425ad29,570afce039117c4806c9c73b48786417c425ad29,"Reformat and justify was broken for multi-paragraph input

Fixes #1021."
sorbits,2013-06-17 05:36:27,https://api.github.com/repos/textmate/textmate/git/commits/6c6aadc38b6ec3c9ab0ee372f94ebc6aee78236e,6c6aadc38b6ec3c9ab0ee372f94ebc6aee78236e,Make labels right-aligned by default
sorbits,2013-06-16 10:44:02,https://api.github.com/repos/textmate/textmate/git/commits/c04eb1cd2a7990175084f6955411d3bd5e9aa8de,c04eb1cd2a7990175084f6955411d3bd5e9aa8de,"Fix exception when finding all in untitled documents

Untitled documents have no path, so we were creating a dictionary with a nil object. The path isn’t actually used (we go via the identifier) so removing the potential path from the dictionary avoids the problem."
sorbits,2013-06-16 10:32:29,https://api.github.com/repos/textmate/textmate/git/commits/d71f29074e97783c5cae13bdb54b9f84ff86f1b0,d71f29074e97783c5cae13bdb54b9f84ff86f1b0,Use symbolic name for REST API URL
sorbits,2013-06-15 12:55:42,https://api.github.com/repos/textmate/textmate/git/commits/9535ef7f223107da4ea68a3cc92f18cd0065cad8,9535ef7f223107da4ea68a3cc92f18cd0065cad8,Checkin release notes
sorbits,2013-06-15 16:03:34,https://api.github.com/repos/textmate/textmate/git/commits/49a424438c75d3bd436005a452cdbc3384f53c5d,49a424438c75d3bd436005a452cdbc3384f53c5d,"Revert ""Apply injections from child rules without match pattern""

This reverts commit fc419f5332a25e3b4249684446f0c66270d1075b."
luikore,2013-06-13 20:16:44,https://api.github.com/repos/textmate/textmate/git/commits/63b86c522111354de13f19132522da7dc061f40f,63b86c522111354de13f19132522da7dc061f40f,"Enable ""Inspect Element"" in web preview"
sorbits,2013-06-13 13:27:08,https://api.github.com/repos/textmate/textmate/git/commits/12b26a581087c8c435c8a7a4243343abaa2d9f4c,12b26a581087c8c435c8a7a4243343abaa2d9f4c,"Update text in “TextMate is outdated” dialog

Several users confused this with TextMate expiring because of a missing license key."
sorbits,2013-06-13 13:11:56,https://api.github.com/repos/textmate/textmate/git/commits/4586bc202474de7ecc8f2f7cb24e717cf0a3f306,4586bc202474de7ecc8f2f7cb24e717cf0a3f306,"Fix async mode for TextMate.system (JS bridge)

In commit 03aea09148dc4fd370e1ede0daaee8f1dff0adf9 we switched to properties for the mapped instance variables which meant they all got an underscore prefix and wasn’t seen from JavaScript."
mackuba,2013-06-12 20:11:16,https://api.github.com/repos/textmate/textmate/git/commits/ac9f5e5d8d6da09e0b5565f6b0586a710572ea34,ac9f5e5d8d6da09e0b5565f6b0586a710572ea34,Don't add files from find window to recent list
joachimm,2013-06-06 11:37:43,https://api.github.com/repos/textmate/textmate/git/commits/fc419f5332a25e3b4249684446f0c66270d1075b,fc419f5332a25e3b4249684446f0c66270d1075b,"Apply injections from child rules without match pattern

This is useful when including a grammar and its injections needs to be applied."
sorbits,2013-06-09 13:56:23,https://api.github.com/repos/textmate/textmate/git/commits/3db66d1a05251f526a3929879b1f40968f218c22,3db66d1a05251f526a3929879b1f40968f218c22,Support “Find Previous” in macros
sorbits,2013-06-09 13:55:22,https://api.github.com/repos/textmate/textmate/git/commits/2af39bc93508515c31df0fb09f0a0ac82b58d2c1,2af39bc93508515c31df0fb09f0a0ac82b58d2c1,"Fix retain cycle

Fixes #1009."
sorbits,2013-05-28 01:25:35,https://api.github.com/repos/textmate/textmate/git/commits/6ee93431bc9188e84696927cf366430330ca3f38,6ee93431bc9188e84696927cf366430330ca3f38,"Avoid passing -1 (as fd) to kevent() and close()

Observing paths will normally fail when opening files that only privileged users can read."
sorbits,2013-05-26 09:52:11,https://api.github.com/repos/textmate/textmate/git/commits/ed9396ed84a59ba3790aa61b0397339973f939af,ed9396ed84a59ba3790aa61b0397339973f939af,"Workaround for a wrong bundle index

This is work in progress, the reason why the situation arise has not yet been found and there are likely other ways in which the index can be wrong/stale (based on user reports like issue #998)."
sorbits,2013-05-26 09:58:39,https://api.github.com/repos/textmate/textmate/git/commits/6d4cf22f13ab8a88c88788fe77b76d30473762bc,6d4cf22f13ab8a88c88788fe77b76d30473762bc,Checkin release notes
sorbits,2013-05-26 09:27:44,https://api.github.com/repos/textmate/textmate/git/commits/9dd653a3e79ee873fdc6d1cd1aee382c876bafbf,9dd653a3e79ee873fdc6d1cd1aee382c876bafbf,Ignore non-UTF-8 completion command results
sorbits,2013-05-26 09:08:17,https://api.github.com/repos/textmate/textmate/git/commits/6a9b0374ed512a184c79be94fba35df7f1c5bd96,6a9b0374ed512a184c79be94fba35df7f1c5bd96,"Sanitize non-UTF-8 command output

We now convert the output to a hex-dump incase it is not valid UTF-8. Ideally we would present the user with a dialog, but for now a hex-dump will do and prevents a potential crash."
sorbits,2013-05-26 07:40:03,https://api.github.com/repos/textmate/textmate/git/commits/2df18d80b005bfaa56589ab28f72614eadd60386,2df18d80b005bfaa56589ab28f72614eadd60386,"The bundle’s info.plist can now specify requiredCommands

This will apply to all items in the bundle so it’s questionable if it’s something we want to use, as it would not allow the user to run a “Help” command from the bundle without first setting up the requirements. OTOH setting requiredCommands for all but a few items in e.g. the Git bundle seems redundant — perhaps items should be able to eclipse keys from the bundle’s info.plist to effectively unset the requiredCommands for a select few items."
sorbits,2013-05-26 07:34:54,https://api.github.com/repos/textmate/textmate/git/commits/0594b2c83eb9f5c311e40a89bd362d327610f796,0594b2c83eb9f5c311e40a89bd362d327610f796,"Fix issue with requirements that had no locations array

The variable provided was ignored meaning that it would only work correctly if the executable was found via PATH, and if it wasn’t found, the error message would display a bogus character as the variable that the user should set."
sorbits,2013-05-26 07:15:51,https://api.github.com/repos/textmate/textmate/git/commits/2568503056e065de799597475a243239897c5c95,2568503056e065de799597475a243239897c5c95,"Fix executing bundle items via UI for non-main window

This affected executing bundle items via the Bundles menu (including the Select Bundle Item… dialog) in the text view used in the bundle editor."
sorbits,2013-05-26 05:32:21,https://api.github.com/repos/textmate/textmate/git/commits/8017428011d5c2b950523a811301bab2edb1df11,8017428011d5c2b950523a811301bab2edb1df11,"If deleting old version fails then move it to trash

We also add a time suffix to the old version so that if we fail to remove it, the user will not get (another) error when retrying the update.

Presumably fixes #991."
sorbits,2013-05-26 05:16:22,https://api.github.com/repos/textmate/textmate/git/commits/05bb8d3304bfd87bff1528ac39fdb6a5d8d2fde6,05bb8d3304bfd87bff1528ac39fdb6a5d8d2fde6,"Log malformed UUID incase of error

This is instead of showing “no valid UUID” (which could mean either missing or malformed)."
sorbits,2013-05-26 02:22:54,https://api.github.com/repos/textmate/textmate/git/commits/ef6082006df9e31fa4dd2de0a81f71747330996e,ef6082006df9e31fa4dd2de0a81f71747330996e,"Failing to set/remove extended attributes is no longer an error

Workaround for osxfuse/osxfuse#85 (and possibly other file systems)."
sorbits,2013-05-26 01:50:21,https://api.github.com/repos/textmate/textmate/git/commits/f8d71729fe82c9dfed74b9b715188f6b6a01f707,f8d71729fe82c9dfed74b9b715188f6b6a01f707,"Add SOCKS proxy support

This is for updating bundles and itself plus posting crash reports.

It now also ignores unknown proxy types."
sorbits,2013-05-26 01:32:50,https://api.github.com/repos/textmate/textmate/git/commits/ee32b97ea0f9abffcad55d8ef2208ec578e51824,ee32b97ea0f9abffcad55d8ef2208ec578e51824,Fix error checks for key chain lookups
sorbits,2013-05-18 00:53:07,https://api.github.com/repos/textmate/textmate/git/commits/15c11d02b8370727493ff4d4f0e3f27e123efada,15c11d02b8370727493ff4d4f0e3f27e123efada,Checkin release notes
sorbits,2013-05-18 00:51:23,https://api.github.com/repos/textmate/textmate/git/commits/e3c44d78dba009bae2aae8db6663ad08a8dbb2c8,e3c44d78dba009bae2aae8db6663ad08a8dbb2c8,"Add missing variables for export commands

Fixes #990."
sorbits,2013-05-17 09:19:26,https://api.github.com/repos/textmate/textmate/git/commits/da96859de63c3537cfbec6bdf20e14150b7fd3de,da96859de63c3537cfbec6bdf20e14150b7fd3de,Checkin release notes
sorbits,2013-05-17 09:18:22,https://api.github.com/repos/textmate/textmate/git/commits/126ff16b58ec90cbf6607afc8eecae80dd7e0c58,126ff16b58ec90cbf6607afc8eecae80dd7e0c58,"Increase TextMate’s lifetime

We now warn 45 days after the compilation date and refuse to work 90 days after the compile date."
sorbits,2013-05-17 08:31:14,https://api.github.com/repos/textmate/textmate/git/commits/03d72414f3340e2f3ea7552e48713573ee0cce2d,03d72414f3340e2f3ea7552e48713573ee0cce2d,Specify that dependency files are ‘gcc’ (for ninja 1.3.0)
sorbits,2013-05-16 14:28:42,https://api.github.com/repos/textmate/textmate/git/commits/e0523bb926399fe0080d99ff22798a8a59746bea,e0523bb926399fe0080d99ff22798a8a59746bea,Improve encapsulation
sorbits,2013-05-16 14:16:04,https://api.github.com/repos/textmate/textmate/git/commits/eb6b0541b28e03b398c961ee6b327fca7f5b40b7,eb6b0541b28e03b398c961ee6b327fca7f5b40b7,"Move reader_t and process_t to command framework

These are now only used by the command framework and should soon be retired."
sorbits,2013-05-16 14:13:55,https://api.github.com/repos/textmate/textmate/git/commits/ffb900deb1841cfbfb6b8967e77126d53bea0df6,ffb900deb1841cfbfb6b8967e77126d53bea0df6,Add missing include
sorbits,2013-05-16 11:53:16,https://api.github.com/repos/textmate/textmate/git/commits/b747dc662b80955a260e9745bd272ef6cb926e5a,b747dc662b80955a260e9745bd272ef6cb926e5a,"Delete cf::run_loop assignment/copy constructor

They were previously declared private, as they weren’t implemented and we can’t use generated versions."
sorbits,2013-05-16 11:49:22,https://api.github.com/repos/textmate/textmate/git/commits/03aea09148dc4fd370e1ede0daaee8f1dff0adf9,03aea09148dc4fd370e1ede0daaee8f1dff0adf9,"Use io::spawn instead of oak::command_t for TextMate.system

Like with snippets, we no longer support executing a shebang-script given “inline” — though this was never a documented feature and I am not aware of anything having made use of it."
sorbits,2013-05-16 06:40:42,https://api.github.com/repos/textmate/textmate/git/commits/b6fce5fe306451c09ac8d35c46ef28b06a559d9a,b6fce5fe306451c09ac8d35c46ef28b06a559d9a,"Check if command result is valid UTF-8

This was previously implicit by using oak::command_t"
sorbits,2013-05-16 06:33:27,https://api.github.com/repos/textmate/textmate/git/commits/28ab42bff9700ab6c34cfc06477e730d9008117f,28ab42bff9700ab6c34cfc06477e730d9008117f,Remove oak::command_t
sorbits,2013-05-16 06:26:58,https://api.github.com/repos/textmate/textmate/git/commits/714779d89b0a1d7f4871d680fac92da5482d45ea,714779d89b0a1d7f4871d680fac92da5482d45ea,"Use io::spawn instead of oak::command_t with snippets

Since we now run the shell code directly (via ‘/bin/sh -c «command»’) we no longer source ‘TM_SUPPORT_PATH/lib/bash_init.sh’.

I don’t think any code embedded in snippets rely on things setup by this file, but if they do, I’d prefer we update the snippets to explicitly source the file."
sorbits,2013-05-16 06:24:45,https://api.github.com/repos/textmate/textmate/git/commits/a2e7de29e784a487c3019f976399e7d2bf5fc06e,a2e7de29e784a487c3019f976399e7d2bf5fc06e,Add missing include
sorbits,2013-05-16 06:15:20,https://api.github.com/repos/textmate/textmate/git/commits/7dbb02652f729db818d44b2b5d465c70e9050e66,7dbb02652f729db818d44b2b5d465c70e9050e66,Use io::spawn instead of oak::command_t for /usr/bin/diff3
sorbits,2013-05-15 15:58:06,https://api.github.com/repos/textmate/textmate/git/commits/598c3b7a895556fb85baaea920d869187a468d14,598c3b7a895556fb85baaea920d869187a468d14,Allow completion commands to have requirements
sorbits,2013-05-15 15:38:02,https://api.github.com/repos/textmate/textmate/git/commits/e3bc6e982beee221febd666ff1917a2260b36f9e,e3bc6e982beee221febd666ff1917a2260b36f9e,"Introduce editor_delegate_t

This is to avoid having editor_t hold a document_t."
sorbits,2013-05-15 14:23:15,https://api.github.com/repos/textmate/textmate/git/commits/e80e9c517280c44fcab52e2008166ed8681dbb75,e80e9c517280c44fcab52e2008166ed8681dbb75,Remove private methods from header
sorbits,2013-05-15 09:14:07,https://api.github.com/repos/textmate/textmate/git/commits/7f88fcbdf3e80fe22dde586d7770b1529ea29d26,7f88fcbdf3e80fe22dde586d7770b1529ea29d26,"Fix problem with opening multiple empty files on FAT file systems

The problem is that empty files on a FAT file system all have the same inode so TextMate would consider them to be links of each other and only show the last one opened.

Fixes #979."
sorbits,2013-05-15 08:42:32,https://api.github.com/repos/textmate/textmate/git/commits/0795b89bdb312303a94b3a92eb73187865442d6e,0795b89bdb312303a94b3a92eb73187865442d6e,"Clicking already selected search result reselects the match

Previously we ignored clicks and only selected matches when the selection was changed. This was done to prevent firing off two “select match” actions. We now ignore the “selection changed” notification if the current event is a mouse-up."
sorbits,2013-05-14 15:51:50,https://api.github.com/repos/textmate/textmate/git/commits/a366a5f9fec3f5b6d289926870f613f0e0950f77,a366a5f9fec3f5b6d289926870f613f0e0950f77,Move grammar changed callback from document → buffer
sorbits,2013-05-14 15:26:28,https://api.github.com/repos/textmate/textmate/git/commits/adf52e1ab2db0189bd0a1d5b5e209795ce16f1ac,adf52e1ab2db0189bd0a1d5b5e209795ce16f1ac,Forward grammar changes to text view
sorbits,2013-05-14 14:38:11,https://api.github.com/repos/textmate/textmate/git/commits/58dc0b04915ac5d0bc7790812948cc72aa0db40e,58dc0b04915ac5d0bc7790812948cc72aa0db40e,"Remove path::walker_t

The intent of this class was to allow ad-hoc recursive/lazy walking of a directory structure and having links only visited once.

It was however only used once, and for that task, path::entries() is sufficient."
sorbits,2013-05-14 11:34:29,https://api.github.com/repos/textmate/textmate/git/commits/6e4926177e2d68cf7a985fa57f1d2d0bf92fe731,6e4926177e2d68cf7a985fa57f1d2d0bf92fe731,Provide symmetric content/set_content for document_t
sorbits,2013-05-14 07:34:40,https://api.github.com/repos/textmate/textmate/git/commits/6aa871576f9699923d0c3f042d707f57e9a06bcb,6aa871576f9699923d0c3f042d707f57e9a06bcb,"Don’t read user settings from file::path_attributes

The reason for this is mainly that the path given to path_attributes() might be a virtual path, in which case using that to obtain settings can cause problems. For example if the (virtual) path is ‘/net/some/long/path’ (rmate) then we’ll hit that path locally, but stat’ing paths under /net can take seconds.

Also, the ‘scopeAttributes’ read from the user settings isn’t technically path attributes. Though the feature this allows is that we can scope the encrypt/decrypt export/import commands to ‘attr.enable-encryption’ and then put something like this in a project’s .tm_properties:

    [ private/** ]
    scopeAttributes = ""attr.enable-encryption"""
sorbits,2013-05-14 07:26:39,https://api.github.com/repos/textmate/textmate/git/commits/f956ba905f22a5b87c560d8910f0ed517f51fd66,f956ba905f22a5b87c560d8910f0ed517f51fd66,Move path_variables function to where it is used
sorbits,2013-05-13 11:10:47,https://api.github.com/repos/textmate/textmate/git/commits/cbe937d3f3032c9b0b53f6351ca7ce90fb76a03a,cbe937d3f3032c9b0b53f6351ca7ce90fb76a03a,"Convert CFURL → std::string in plist::convert

This is mainly for debugging purposes (printing a CFDictionary)."
sorbits,2013-05-13 11:08:35,https://api.github.com/repos/textmate/textmate/git/commits/66b8ab54f9d91cc821a240587e8252298892c4b2,66b8ab54f9d91cc821a240587e8252298892c4b2,"Rewrite proxy code

We now use CFNetworkCopyProxiesForURL() to get the list of potential proxies, hopefully this will perform the proper “proxy auto discovery” (issue #973) though we still need to handle PAC ourself.

Presently we only use the first proxy found, ideally we would try them all (but this will require some API changes)."
sorbits,2013-05-12 15:50:49,https://api.github.com/repos/textmate/textmate/git/commits/f5c63828ee38fc341c1e1af008410306e4ffd9fd,f5c63828ee38fc341c1e1af008410306e4ffd9fd,Remove path attributes from document_t
sorbits,2013-05-12 15:48:46,https://api.github.com/repos/textmate/textmate/git/commits/61b8c844a50203a9942f11c2264abf1206aa21f4,61b8c844a50203a9942f11c2264abf1206aa21f4,fixup! Handle “did-save” bundle item callback in OakTextView
sorbits,2013-05-11 16:53:42,https://api.github.com/repos/textmate/textmate/git/commits/91901bfdd36514e682cb0a33ffeaba82e88803e7,91901bfdd36514e682cb0a33ffeaba82e88803e7,"Call bundleItemPreExec:… from command execution

This is instead of having a copy of the same code. Ideally command execution would be called after potential pre-exec stuff, but macro execution is presently handled by editor_t which doesn’t have access to the higher level stuff."
sorbits,2013-05-11 14:07:14,https://api.github.com/repos/textmate/textmate/git/commits/e5cca3de18c2f5d9b74338baf53dc97d503e62ab,e5cca3de18c2f5d9b74338baf53dc97d503e62ab,Remove ‘document_settings’ API
sorbits,2013-05-11 13:22:20,https://api.github.com/repos/textmate/textmate/git/commits/35ffdd5dd8980bacc0d6bfc2d5599a8ef45c2c65,35ffdd5dd8980bacc0d6bfc2d5599a8ef45c2c65,"Don’t setup basic environment in ‘variables_for_path’

We expect the caller to pass us a properly setup environment."
sorbits,2013-05-11 13:16:47,https://api.github.com/repos/textmate/textmate/git/commits/bf7d657eefd4b68c058a3b6c61ab43439475b814,bf7d657eefd4b68c058a3b6c61ab43439475b814,Move some TM variables to oak::basic_environment
sorbits,2013-05-11 13:11:23,https://api.github.com/repos/textmate/textmate/git/commits/ec9208afa988d7e79636ad6ed8ed74f67b7d7d1a,ec9208afa988d7e79636ad6ed8ed74f67b7d7d1a,Use whitelist feature to preserve dialog variables
sorbits,2013-05-11 13:02:16,https://api.github.com/repos/textmate/textmate/git/commits/ce4ae625478ea1c32879ed6ef3c6e8f4e558ad89,ce4ae625478ea1c32879ed6ef3c6e8f4e558ad89,"Change ‘variables_for_path’ API

We now accept the a directory in addition to the path. If a directory is provided, the path is only used to filter variables rooted at the directory."
sorbits,2013-05-11 12:40:50,https://api.github.com/repos/textmate/textmate/git/commits/77a6dcebfec38734c82f4804251e9d605ca56577,77a6dcebfec38734c82f4804251e9d605ca56577,Remove unused typedef
sorbits,2013-05-11 12:37:18,https://api.github.com/repos/textmate/textmate/git/commits/8b3f05485df00a602f5320566957c7dfa458b7dd,8b3f05485df00a602f5320566957c7dfa458b7dd,"Change argument ordering for ‘scope_variables’

Generally we should always provide a base environment, since the scoped variables are format strings. The filtering scope selector is however optional, and we do not have one when executing commands outside an fi;e/editor context."
sorbits,2013-05-11 12:21:06,https://api.github.com/repos/textmate/textmate/git/commits/5eaa0a9d944662808baf5775b6caf467e25f5e23,5eaa0a9d944662808baf5775b6caf467e25f5e23,"Remove “PWD API” for setting command working directory

Only the file browser and the ‘path_variables’ function (used for filters) made use of this method to set the working directory. Previously drop commands also used it, which is probably the only time we really need to set a working directory, as we provide the command with a relative file path."
sorbits,2013-05-11 12:15:27,https://api.github.com/repos/textmate/textmate/git/commits/10e3536a809cee30c94f293b1e73808c39744e81,10e3536a809cee30c94f293b1e73808c39744e81,"Change method signature

We return a variables map instead of updating a map passed in by reference. The previous API was mainly done because we couldn’t previously return non-POD from Objective-C methods. Returning a map with variables makes the API more exact, e.g. how to handle existing entries is no longer an issue (that is, the caller will have to chose the appropriate duplicate strategy)."
sorbits,2013-05-11 12:00:57,https://api.github.com/repos/textmate/textmate/git/commits/4a32881c1165cbb7ba5520adc2ebc36f30cfa51d,4a32881c1165cbb7ba5520adc2ebc36f30cfa51d,Remove legacy variable functions
sorbits,2013-05-11 12:00:28,https://api.github.com/repos/textmate/textmate/git/commits/d669c9733b9ee336d618b6e6165ae26169bd7d51,d669c9733b9ee336d618b6e6165ae26169bd7d51,Do not setup variables in document::run
sorbits,2013-05-11 11:58:23,https://api.github.com/repos/textmate/textmate/git/commits/02f688a525f45ced465da69cad7f1ee0a39c4482,02f688a525f45ced465da69cad7f1ee0a39c4482,Explicit variable setup for app controller commands
sorbits,2013-05-11 11:54:43,https://api.github.com/repos/textmate/textmate/git/commits/985a3c1d928c43468bf68f3c3e43fabe2cdb5b40,985a3c1d928c43468bf68f3c3e43fabe2cdb5b40,Explicit variable setup for file browser commands
sorbits,2013-05-11 11:14:21,https://api.github.com/repos/textmate/textmate/git/commits/1d1ce8e2341901a9822010d70b26e59e4fc2154f,1d1ce8e2341901a9822010d70b26e59e4fc2154f,Explicit variable setup for completion commands
sorbits,2013-05-10 16:32:05,https://api.github.com/repos/textmate/textmate/git/commits/12491e22f8b1c0e3b3a95d1c82c8ea6a80185733,12491e22f8b1c0e3b3a95d1c82c8ea6a80185733,"Let OakTextView set TM_CURRENT_THEME_PATH

Previously we relied on the delegate to set this, but a text view may not have a delegate. One could however argue that this is a “global” setting so should be set even when there is no text view."
sorbits,2013-05-10 16:29:46,https://api.github.com/repos/textmate/textmate/git/commits/9b4734bf98e5ad0fdae6eb02b1156710d34f63d3,9b4734bf98e5ad0fdae6eb02b1156710d34f63d3,Explicitly collect variables from different components
sorbits,2013-05-09 16:22:35,https://api.github.com/repos/textmate/textmate/git/commits/f02a68893d820197d3fe3066c13113c54ecef653,f02a68893d820197d3fe3066c13113c54ecef653,Don’t pass base environment to bundle_variables
sorbits,2013-05-09 15:40:35,https://api.github.com/repos/textmate/textmate/git/commits/58cfa20a1be2cdcfb8c13c474d0fdea19eed226e,58cfa20a1be2cdcfb8c13c474d0fdea19eed226e,"Add operator<< for std::map

This is to allow chaining inserts and to avoid temporary variables when inserting maps returned from functions."
sorbits,2013-05-09 14:37:49,https://api.github.com/repos/textmate/textmate/git/commits/92192341d4236202024288279d15828ccf9e630c,92192341d4236202024288279d15828ccf9e630c,"Let OakTextView pass an environment to document::run()

We no longer pass the bundle item by const-reference because it is now used (delayed) in a block and const-references are not captured by blocks (i.e. the lifespan is not extended)."
sorbits,2013-05-09 08:58:21,https://api.github.com/repos/textmate/textmate/git/commits/a6cf964e9fc3cc0f7c05fda352c2498c31f305b0,a6cf964e9fc3cc0f7c05fda352c2498c31f305b0,Remove callback support from document::run
sorbits,2013-05-09 08:50:42,https://api.github.com/repos/textmate/textmate/git/commits/421a46d116597d97748c21535354c52610a9f679,421a46d116597d97748c21535354c52610a9f679,"Rework setup/execution of drop commands

We now collect all variables (and working directory) prior to calling document::run() to remove the need for a callback."
sorbits,2013-05-09 08:40:31,https://api.github.com/repos/textmate/textmate/git/commits/964b56898f877056d24bd328ee95cf4f3bb2753c,964b56898f877056d24bd328ee95cf4f3bb2753c,"Consult text view delegate when setting up variables

The delegate provides file browser variables."
sorbits,2013-05-09 07:05:13,https://api.github.com/repos/textmate/textmate/git/commits/ccf24147689fa38f658543b3dbe9ebe81d0dd269,ccf24147689fa38f658543b3dbe9ebe81d0dd269,"Add pwd argument to command runner

Previously this was only possible to change by setting PWD in the passed-in environment."
sorbits,2013-05-09 06:49:25,https://api.github.com/repos/textmate/textmate/git/commits/b66e58c4f81d084c9f8a628bc27a14bcf9e88348,b66e58c4f81d084c9f8a628bc27a14bcf9e88348,Disambiguate function name
sorbits,2013-05-09 06:32:40,https://api.github.com/repos/textmate/textmate/git/commits/7f4649ba328e9652f13841cd0e6c5f9d41dd462d,7f4649ba328e9652f13841cd0e6c5f9d41dd462d,Factor out deprecated variable collecting
sorbits,2013-05-09 05:08:14,https://api.github.com/repos/textmate/textmate/git/commits/428739352c5e6e7f83555140aec63c5d6d349f67,428739352c5e6e7f83555140aec63c5d6d349f67,"Obtain variables and scope context via ‘self’

This is instead of direct instance variable access."
sorbits,2013-05-09 04:41:19,https://api.github.com/repos/textmate/textmate/git/commits/88ae04572cf9cc76e8492015f86243ff54622044,88ae04572cf9cc76e8492015f86243ff54622044,"Handle “did-save” bundle item callback in OakTextView

While it’s easier to execute bundle items from a text view, it doesn’t work when saving documents that are not in the current text view.

This is an intermediate refactoring step — handling should (likely) end up in the DocumentSaveHelper class, but we need to improve dealing with command execution first, and by having the callback piggyback on the normal performBundleItem: method, we (temporarily) limit the code which use the command execution API, making refactoring easier."
sorbits,2013-05-08 14:37:28,https://api.github.com/repos/textmate/textmate/git/commits/0fd03842b7bed3f2676674ce1d8596c7dcf8bef8,0fd03842b7bed3f2676674ce1d8596c7dcf8bef8,"Move bundle requirement checking to bundles framework

This also generalizes it to being applicable to all bundle items (not just commands)."
sorbits,2013-05-08 04:28:06,https://api.github.com/repos/textmate/textmate/git/commits/4c24bd9c0038a388bc0287f43e7ef3c0a098161c,4c24bd9c0038a388bc0287f43e7ef3c0a098161c,"Avoid ref to static data when returning non-POD from Objective-C

Apparently clang (now?) support transferring non-POD types from and to Objective-C++ methods, eliminating the need for doing this by passing a (const) reference."
sorbits,2013-05-07 04:45:19,https://api.github.com/repos/textmate/textmate/git/commits/5fd188531afc074552f9bf21dd8ae8553b035061,5fd188531afc074552f9bf21dd8ae8553b035061,"Change naming of functions for obtaining variables

These are now all prefixed with what they are obtaining variables for (scope, document, bundle, …) which makes it easier to analyze/refactor the code.

Also change document_t’s settings function to document_settings."
sorbits,2013-05-06 07:51:06,https://api.github.com/repos/textmate/textmate/git/commits/e49504a644eb85dfdda749611195aaf945a9b2e4,e49504a644eb85dfdda749611195aaf945a9b2e4,Remove unused member data
sorbits,2013-05-06 07:42:19,https://api.github.com/repos/textmate/textmate/git/commits/135c6c79b7b53b4f5f53cb83c0b3e8d229b5517a,135c6c79b7b53b4f5f53cb83c0b3e8d229b5517a,Remove redundant instance variable
sorbits,2013-05-06 07:28:24,https://api.github.com/repos/textmate/textmate/git/commits/b4896874030897420fe436d424ec1b8ea8119752,b4896874030897420fe436d424ec1b8ea8119752,"Disable AuthorizationExecuteWithPrivileges deprecation warning

The “proper” replacement for this API is to use the ServiceManagement framework’s SMJobBless() to bless our helper tool. In two of the three use-cases our helper tool is however regular shell commands, so it seems redundant to wrap these shell tools as helper tools we can install as launchd jobs."
sorbits,2013-05-04 08:41:50,https://api.github.com/repos/textmate/textmate/git/commits/4188c486fb5c945a55a83fb2196e2e2e1d71c614,4188c486fb5c945a55a83fb2196e2e2e1d71c614,"Ensure height of find/replace fields are >= 22 points

Fixes #972."
sorbits,2013-05-03 07:41:52,https://api.github.com/repos/textmate/textmate/git/commits/7796e18e5975ca81f55bd31a6de3b5bd260e7342,7796e18e5975ca81f55bd31a6de3b5bd260e7342,Limit exposed stuff in OTV headers
sorbits,2013-05-02 09:38:56,https://api.github.com/repos/textmate/textmate/git/commits/f68a1cd280fa356da6a41795de83ad35991bfdc0,f68a1cd280fa356da6a41795de83ad35991bfdc0,"Fix non-working link arrows in bundle item chooser

Since we released sender (via aliased pointer) before querying it, we would fail to obtain the item clicked."
sorbits,2013-05-02 09:13:33,https://api.github.com/repos/textmate/textmate/git/commits/6e4b305587084bfdba19291a5499c203662130bf,6e4b305587084bfdba19291a5499c203662130bf,fixup! Cleanup a failed GitHub upload
sorbits,2013-05-02 08:11:03,https://api.github.com/repos/textmate/textmate/git/commits/799ebd12e4ffe62ba3d80586a5035636803ad55f,799ebd12e4ffe62ba3d80586a5035636803ad55f,Checkin release notes
sorbits,2013-05-01 03:07:52,https://api.github.com/repos/textmate/textmate/git/commits/5f1cdb947a55e9942b3fbc6a810ad0a58f1705a6,5f1cdb947a55e9942b3fbc6a810ad0a58f1705a6,Clicking link arrows should not select rows
sorbits,2013-05-01 03:03:51,https://api.github.com/repos/textmate/textmate/git/commits/ded37a128c44145072ee4e9579e1b355d0052a11,ded37a128c44145072ee4e9579e1b355d0052a11,"Add link arrows to Preferences → Bundles

This takes the user to the bundle’s home (generally a GitHub page) which should make it easier to clone the source repository or report issues via the bundle’s issue tracker."
sorbits,2013-05-01 02:59:43,https://api.github.com/repos/textmate/textmate/git/commits/13af5d8604e9861c931cd6bdad1c1c6a7065fe19,13af5d8604e9861c931cd6bdad1c1c6a7065fe19,Make click-sorting non-content columns a no-op
joachimm,2013-04-30 19:22:12,https://api.github.com/repos/textmate/textmate/git/commits/35227b48ea04cbec1a9ea6cbdf1436060e681eba,35227b48ea04cbec1a9ea6cbdf1436060e681eba,"Injected rules rank higher if they match against the left scope

This allows overriding “native” rules via injecting.

This commit drops support for using ‘.’ as (injection) scope selector to match everywhere. Instead use ‘*’."
sorbits,2013-04-28 03:22:41,https://api.github.com/repos/textmate/textmate/git/commits/715624b952d1c15acf44adb32ec630d07ff7aab9,715624b952d1c15acf44adb32ec630d07ff7aab9,"Handle failure to create folding dots image

Based on crash reports this appears to happen for some users, though only reason I can imagine is if the images are not found in the application bundle (which would happen if the application is moved after launch, but that normally cause many things to fail)."
sorbits,2013-04-28 03:03:51,https://api.github.com/repos/textmate/textmate/git/commits/acaff3e352a1e7348b8bc9b03f2fc7ef01e37fc9,acaff3e352a1e7348b8bc9b03f2fc7ef01e37fc9,"Add expiration date to TextMate

The user will get daily reminders when the application is more than a month old, and it will stop working when it’s two months old.

Normally not a fan of expiring software but a significant amount of the requests sent to api.textmate.org (posting crash reports, updating bundles) are from versions more than a month old. Adding to that, the expiration date serves as a fallback for potentially broken software update checking."
sorbits,2013-04-27 07:14:54,https://api.github.com/repos/textmate/textmate/git/commits/e1ff0ceaff390a5af29ac0a74ffcefaafe483d22,e1ff0ceaff390a5af29ac0a74ffcefaafe483d22,"Move already open find/HTML windows to active space

This is only when invoking the “order front” action and the window is already showing on another space."
sorbits,2013-04-27 06:57:41,https://api.github.com/repos/textmate/textmate/git/commits/fda19c565d92ca8cd5454e7122efa9580522af89,fda19c565d92ca8cd5454e7122efa9580522af89,"Only clear find status string for non-folder search

I find myself often closing folder search results and later re-opening (via ⇧⌘F) which would previously have the status string cleared, yet the results still showing.

Status should probably be stored together with the folder search results, so when toggling between document and folder search, the status string would follow as well."
AJ-Acevedo,2013-04-28 04:34:12,https://api.github.com/repos/textmate/textmate/git/commits/1df2eb42c8f8d43c2f9cc9e7995235333eaa897b,1df2eb42c8f8d43c2f9cc9e7995235333eaa897b,Corrected some Help typos
sorbits,2013-04-27 06:21:32,https://api.github.com/repos/textmate/textmate/git/commits/28306cb048151391d9624a9c3c1cf249e59adcb9,28306cb048151391d9624a9c3c1cf249e59adcb9,Disable “smart tab” for discontinuous/column selections
sorbits,2013-04-26 14:11:08,https://api.github.com/repos/textmate/textmate/git/commits/6f8d82f507637c30b71ed17419991fb912b3837a,6f8d82f507637c30b71ed17419991fb912b3837a,"Change Replace All and Full Screen key bindings

Apple uses ⌃⌘F for toggling full screen mode and explicitly mentions this key in the 10.7 release notes. It therefore makes sense to switch to this key, also see issue #860.

Previously ⌃⌘F was Replace All. This has been moved to ⌃⌘G and Replace All in Selection is ⌃⇧⌘G. This binds all the (3) replace actions to modifier + ⌘G."
sorbits,2013-04-26 13:44:43,https://api.github.com/repos/textmate/textmate/git/commits/d7e54f88ea247e7f68cbe8759b245074a46f7beb,d7e54f88ea247e7f68cbe8759b245074a46f7beb,Use trackSwipeEventWithOptions:… for swipe gestures
sorbits,2013-04-25 12:06:56,https://api.github.com/repos/textmate/textmate/git/commits/90ba9c15ea32fcf347fe764aa694d53b648b3531,90ba9c15ea32fcf347fe764aa694d53b648b3531,Checkin release notes
sorbits,2013-04-25 09:38:16,https://api.github.com/repos/textmate/textmate/git/commits/bcc3e4c1fbd3affc8313dcc99c40733fccadba3a,bcc3e4c1fbd3affc8313dcc99c40733fccadba3a,"Fix refresh/undo for commands causing document saving

Since saving is asynchronous the scoped refresh/undo helper would do “cleanup” before the command ran and potentially made document changes.

Commands executed at a lower level (i.e. by editor_t via macros) presently still has this issue. This should be fixed when macros are refactored (this isn’t the only issue related to macros).

Closes #450."
sorbits,2013-04-25 08:33:32,https://api.github.com/repos/textmate/textmate/git/commits/29aa65d5d9875eeccd3298e5c085637916931d9d,29aa65d5d9875eeccd3298e5c085637916931d9d,Use blocks for document save callback
sorbits,2013-04-24 14:54:27,https://api.github.com/repos/textmate/textmate/git/commits/f81292aa517f0fb22796d58768c85a10e22131f7,f81292aa517f0fb22796d58768c85a10e22131f7,"Only disable font smoothing on high-DPI displays

The fontSmoothing defaults key can now be set to:

 0: Always disabled
 1: Always enabled
 2: Disabled for dark themes
 3: Disabled for dark themes on high-DPI displays (default)

/cc issue #958."
sorbits,2013-04-23 12:07:43,https://api.github.com/repos/textmate/textmate/git/commits/508c29e2bf435efbf0a552bc12983084f7ee4729,508c29e2bf435efbf0a552bc12983084f7ee4729,Checkin release notes
sorbits,2013-04-23 11:57:25,https://api.github.com/repos/textmate/textmate/git/commits/9083ca82064be42791191801ac748b170f7cccff,9083ca82064be42791191801ac748b170f7cccff,"Close bundle install sheet on error

Previously incase of error the sheet would keep showing effectively locking up the document window.

This is related to issue #85 although the reason why installing bundles fails for some users is still unanswered."
sorbits,2013-04-23 11:51:16,https://api.github.com/repos/textmate/textmate/git/commits/cdb75619cab8879da567cc801ebda0aefa8b4eb0,cdb75619cab8879da567cc801ebda0aefa8b4eb0,Add completion callback to installBundle:
sorbits,2013-04-23 06:42:21,https://api.github.com/repos/textmate/textmate/git/commits/93a1c37e471110715bac83f4d9bd1a3ea8d1e361,93a1c37e471110715bac83f4d9bd1a3ea8d1e361,"Restore field editor’s value after reloading file browser

If user was creating a new file or folder and immediately started to type in the field editor, his changes were lost during reload (which would likely happen when updating SCM badge for the newly created item)."
sorbits,2013-04-21 03:59:57,https://api.github.com/repos/textmate/textmate/git/commits/fe400c14878fb3063bb7af9286cd05efe8e2397d,fe400c14878fb3063bb7af9286cd05efe8e2397d,"Disable font smoothing for dark themes

If you wish to always have font smoothing enabled you can run:

    defaults write com.macromates.TextMate.preview fontSmoothing 1

Setting the value to 0 causes it to always be disabled and deleting the key (or setting it to 2) has it disabled only for dark themes."
sorbits,2013-04-21 11:26:53,https://api.github.com/repos/textmate/textmate/git/commits/ced23336de57138bb8c12ac91904bfa64c1dfef5,ced23336de57138bb8c12ac91904bfa64c1dfef5,"Harmonize a few properties

This is just implementation detail."
sorbits,2013-04-21 11:08:15,https://api.github.com/repos/textmate/textmate/git/commits/974e263588950658499b4b9f75cf88f7210b9707,974e263588950658499b4b9f75cf88f7210b9707,Remove instance data from OakTextView.h
sorbits,2013-04-17 11:00:47,https://api.github.com/repos/textmate/textmate/git/commits/8fc7567e2e9737fd258d1216fcdf0bbe8bc05024,8fc7567e2e9737fd258d1216fcdf0bbe8bc05024,Use new focus ring API (10.7)
sorbits,2013-04-17 05:08:20,https://api.github.com/repos/textmate/textmate/git/commits/97c9a20f6e8cc6465b703297c8d2b586ce262747,97c9a20f6e8cc6465b703297c8d2b586ce262747,"Use localizedStandardCompare:

This is instead of our custom displayNameCompare: which has now been removed."
sorbits,2013-04-17 04:11:51,https://api.github.com/repos/textmate/textmate/git/commits/49235210ca3340c8a55800938bd9a8ac380bbda4,49235210ca3340c8a55800938bd9a8ac380bbda4,"Use NSNumberFormatter class method

Once we drop 10.7 support we can avoid NSNumberFormatter entirely by using ‘localizedStringWithFormat:’ with ‘%lu’."
sorbits,2013-04-17 03:47:20,https://api.github.com/repos/textmate/textmate/git/commits/0e290fd599e36805a47a7d0fea116c77b34ecdc3,0e290fd599e36805a47a7d0fea116c77b34ecdc3,Use NSHost to obtain computer’s name
sergeche,2013-04-17 16:31:13,https://api.github.com/repos/textmate/textmate/git/commits/72dd8e204747bbbf142b04808404950d02fe8a65,72dd8e204747bbbf142b04808404950d02fe8a65,"Extended OakTextView API

Added `scopeAsString` method to retrieve current scope as NSString"
sorbits,2013-04-13 15:03:04,https://api.github.com/repos/textmate/textmate/git/commits/34d92253dd357ccb816901db5fc83b099fb4e330,34d92253dd357ccb816901db5fc83b099fb4e330,Don’t log unchanged sources as failures
sclukey,2013-04-10 03:28:19,https://api.github.com/repos/textmate/textmate/git/commits/32a972da03cca403a1987a968df7ab651459fc34,32a972da03cca403a1987a968df7ab651459fc34,Make bundles in bundle preferences table sortable
sorbits,2013-04-11 03:24:47,https://api.github.com/repos/textmate/textmate/git/commits/610624ca5a77fb802567987e1be6329e182ab9d0,610624ca5a77fb802567987e1be6329e182ab9d0,"Improve variable handling when rebuilding build.ninja

Variables which are not referencing other variables are no longer provided with their literal value. Variables which do reference other variables have the reference escaped, so that ninja won’t expand the reference when rebuilding build.ninja.

There is still some redundancy in that APP_VERSION has the major + tag part stated both at the top and as a command line argument, haven’t yet figured out how to best deal with this."
sorbits,2013-04-10 14:47:35,https://api.github.com/repos/textmate/textmate/git/commits/be83c7d91db6b90380682e462aae94b9ca4cc1f6,be83c7d91db6b90380682e462aae94b9ca4cc1f6,"Cleanup a failed GitHub upload

This might be moot given that the API should have been disabled by now."
sorbits,2013-04-10 11:25:50,https://api.github.com/repos/textmate/textmate/git/commits/a18008260a900352db84685e55933a87d6fa582e,a18008260a900352db84685e55933a87d6fa582e,Checkin release notes
sorbits,2013-04-10 11:06:14,https://api.github.com/repos/textmate/textmate/git/commits/931b56f45c6550287af44247570a487a90f959c2,931b56f45c6550287af44247570a487a90f959c2,"Fix crash related to updating bundles

Since we get the failed sources by a const reference it is only live during the scope of the caller, and our use of blocks makes that scope shorter than the called block’s full scope."
sorbits,2013-04-09 16:56:34,https://api.github.com/repos/textmate/textmate/git/commits/773891cd47c0c047b2ca7749ee032b5388f93912,773891cd47c0c047b2ca7749ee032b5388f93912,"Introduce global setting to disable typing pairs

This is presently only settable via the ‘disableTypingPairs’ user defaults key:

    defaults write com.macromates.TextMate.preview disableTypingPairs -bool YES

Closes #609."
sorbits,2013-04-09 14:10:35,https://api.github.com/repos/textmate/textmate/git/commits/7f933bfc5702f9284a25b42392e3cab561fab72a,7f933bfc5702f9284a25b42392e3cab561fab72a,"Disable auto-pairing when recording macros

Since auto-pairing can be adjusted via user customization we disable it for both macro recording and replay. Old macros will need to be updated (but this was already the case, as 2.0 never did pairing as part of replay).

A better solution is to record each implicit action of the auto-pairing in the macro. This can however be added later without breaking existing macros, as the macro player will remain the same.

Closes #130."
sorbits,2013-04-09 13:35:08,https://api.github.com/repos/textmate/textmate/git/commits/253ba83ed2dfb71fa8a54ee6b6170591789a2156,253ba83ed2dfb71fa8a54ee6b6170591789a2156,"Don’t suppress file browser updates when showing field editor

Reload was suppressed because there is no good way to reload a table view when the field editor contains uncommitted changes. I decided it’s probably better to lose these changes than show stale content, as for example the change might remove the item being edited, as would be the case when undoing New Document or New Folder.

Closes #886."
sorbits,2013-04-09 10:16:51,https://api.github.com/repos/textmate/textmate/git/commits/d45adf2fed519e1afffcffc4d4ccdf6055ef1c23,d45adf2fed519e1afffcffc4d4ccdf6055ef1c23,"Ask for confirmation to skip session restore

Sometimes shift is held down while TextMate is being launched for other reasons than to skip session restore, so to be safe, we are now asking the user to confirm their intent."
sorbits,2013-04-08 11:09:27,https://api.github.com/repos/textmate/textmate/git/commits/ee4f7a48a2d8f19d655f9515f646bc79801148f6,ee4f7a48a2d8f19d655f9515f646bc79801148f6,Make s/w update status text resizable
sorbits,2013-04-08 09:35:57,https://api.github.com/repos/textmate/textmate/git/commits/0111e6d089afde4fa6f5d67e5fda7476146bb388,0111e6d089afde4fa6f5d67e5fda7476146bb388,"Rework bundle update scheduling

We now store the time of last check in user defaults instead of via extended attributes on the source(s) and do a check every third hour, except of errors, where we retry after 30 minutes.

We now also check for bundle updates even if the sources hasn’t been updated. This is incase we previously updated a source but failed to then update bundles, these will now be updated when we retry, rather than next time the source index has updates.

Overall the code should be simpler and thus more robust. The text in the Bundles preferences page has also been improved slightly in that it will now tell the user if there was a problem updating the bundles, although for the specifics, the user will need to grab the log."
sorbits,2013-04-07 17:11:21,https://api.github.com/repos/textmate/textmate/git/commits/04963caf01efe2f6c4d9dd047a548310833d5ef0,04963caf01efe2f6c4d9dd047a548310833d5ef0,Remove use of deprecated method
sorbits,2013-04-07 06:59:58,https://api.github.com/repos/textmate/textmate/git/commits/58b101a7dbf3ee93a098b89a4e04a3d675fad4d3,58b101a7dbf3ee93a098b89a4e04a3d675fad4d3,"Improve error log message for duplicate UUID

We now output the path of the item which use the same UUID."
Dirklectisch,2013-04-03 15:36:19,https://api.github.com/repos/textmate/textmate/git/commits/a2128f11cd54a5bb8774f66fbf9b2434b19e2177,a2128f11cd54a5bb8774f66fbf9b2434b19e2177,"Setup document scope attr.project.lein for Leiningen projects

Leiningen is a build automation and dependency management tool mainly used for Clojure projects.

https://github.com/technomancy/leiningen"
sorbits,2013-04-01 21:10:02,https://api.github.com/repos/textmate/textmate/git/commits/0bf02dbeff0ce80c84612cea866cca6afcca94d4,0bf02dbeff0ce80c84612cea866cca6afcca94d4,Move divider line functions to OakUIConstructionFunctions.h
sorbits,2013-04-01 20:55:48,https://api.github.com/repos/textmate/textmate/git/commits/d72baacff4fde60881cee55dbc6a3b60138b21f6,d72baacff4fde60881cee55dbc6a3b60138b21f6,Move divider image creation to OakUIConstructionFunctions.h
sorbits,2013-04-01 20:58:03,https://api.github.com/repos/textmate/textmate/git/commits/a76e1f19fb7b1b6537d8092569da17812cd2c917,a76e1f19fb7b1b6537d8092569da17812cd2c917,"Rename local OakCreatePopUpButton functions

This is to avoid clashing with the public helper function."
sorbits,2013-03-31 16:21:45,https://api.github.com/repos/textmate/textmate/git/commits/9b94a279ac2509ca0768dc079e80f350f0027316,9b94a279ac2509ca0768dc079e80f350f0027316,Setup document scopes for initial untitled document
sorbits,2013-03-31 16:16:05,https://api.github.com/repos/textmate/textmate/git/commits/ea206ed2699797a90196b31974d614973457279c,ea206ed2699797a90196b31974d614973457279c,"Setup attr.os-version as part of document scopes

While not exactly a document scope, the advantage is that document scopes are always set, where project scopes are only setup for “projects”."
sorbits,2013-03-31 15:50:22,https://api.github.com/repos/textmate/textmate/git/commits/c54360fce38a61458863173e48c9d4bcf1092c2c,c54360fce38a61458863173e48c9d4bcf1092c2c,"Don’t expand APP_* variables in build.ninja

This makes it simpler to edit the generated file as one only need to edit the top variable section."
sorbits,2013-03-31 11:07:44,https://api.github.com/repos/textmate/textmate/git/commits/9a7b440c5aded9217884c4a9f36a0b2e89d19900,9a7b440c5aded9217884c4a9f36a0b2e89d19900,"Fix off-by-one when validating folding ranges

Closes #927."
dusek,2013-03-31 14:28:48,https://api.github.com/repos/textmate/textmate/git/commits/95ce9d5197debdc3ebfc2903f635af117600ea4d,95ce9d5197debdc3ebfc2903f635af117600ea4d,"Post AXValueChanged when changing selected tab

If this is on, then VoiceOver reads the name of the new tab being
switched to, enabling easier navigation between open tabs."
dusek,2013-03-30 16:13:08,https://api.github.com/repos/textmate/textmate/git/commits/65ae6a22b4b8796c6a33692eb7970732504ed199,65ae6a22b4b8796c6a33692eb7970732504ed199,"Improve accessibility of file browser items

Make available to accessibility the following information that file
browser displays visual indication for:

* file type (whether the file is a file, folder etc.)
* SCM status (whether the file is modified etc.)
* close button (whether the file is open)

Also, while we are at it,  make available to accessibility the
tooltip, filename and URL."
dusek,2013-03-17 23:16:01,https://api.github.com/repos/textmate/textmate/git/commits/5842733e6d6373cac06c881d3fced44fbeefca7f,5842733e6d6373cac06c881d3fced44fbeefca7f,"Make scope bar buttons AXCheckbox'es for accessibility

This notifies the user the choice is exclusive to only one
button. Also including these buttons in an AXRadioGroup adds
positional indication to the radio buttons (like ""2 of 3"")
which gives sense of how many values there are to choose from,
where in the list of those the user currently is, and, if there
are more sequential AXRadioGroups (which is not the case here),
it distinguishes in which one the user is making a choice."
sorbits,2013-03-28 21:01:40,https://api.github.com/repos/textmate/textmate/git/commits/b8c81b4acf9e830ea36d8a31c0506a6b9f284e55,b8c81b4acf9e830ea36d8a31c0506a6b9f284e55,"Fix software updater to not skip checking

Initially ‘downloadWindow’ was a property that was nil until we showed the download window, but now that the download window is re-used for downloading newer versions (incase a newer version appear before user does the “Install & Relaunch”) the fetching the property will return the window (and create it if not already created)."
sorbits,2013-03-27 16:26:36,https://api.github.com/repos/textmate/textmate/git/commits/6a9448afc0e24edd2a08594dc9340740d1169c21,6a9448afc0e24edd2a08594dc9340740d1169c21,Checkin release notes
sorbits,2013-03-27 16:19:10,https://api.github.com/repos/textmate/textmate/git/commits/1aedd95ef56792aba77bd9921744e50a8239951c,1aedd95ef56792aba77bd9921744e50a8239951c,"Find dialog actions are now recorded (for replay)

Presently though replaying “Replace and Find” is not implemented."
sorbits,2013-03-27 16:06:27,https://api.github.com/repos/textmate/textmate/git/commits/b280e776b30b86e52d265379af98dc9d070bdf95,b280e776b30b86e52d265379af98dc9d070bdf95,Make OakFindServerProtocol conform to NSObject
sorbits,2013-03-27 15:27:54,https://api.github.com/repos/textmate/textmate/git/commits/b0726652db4e0ee1d6c48b993d98c63f5a841655,b0726652db4e0ee1d6c48b993d98c63f5a841655,"Record find actions via primary selector

Still lack recording for Find dialog actions."
sorbits,2013-03-27 13:30:24,https://api.github.com/repos/textmate/textmate/git/commits/26d3029ba0835a54c7de28b084ff166063cef965,26d3029ba0835a54c7de28b084ff166063cef965,"Treat bundle items without path as modified

This allows us to create an in-memory bundle item, reveal in bundle editor, and have the bundle editor warn if the user doesn’t save."
sorbits,2013-03-27 13:23:57,https://api.github.com/repos/textmate/textmate/git/commits/a9d492ab58e83becd408a55c852604a593f08f6b,a9d492ab58e83becd408a55c852604a593f08f6b,Add Edit → Macros → Save Macro… (⌃⌘M)
sorbits,2013-03-27 13:23:22,https://api.github.com/repos/textmate/textmate/git/commits/3dc05d9fc9d1a686680ec491ae97fe58d26a3a83,3dc05d9fc9d1a686680ec491ae97fe58d26a3a83,"Implement Save Macro functionality

Closes #459."
sorbits,2013-03-27 13:15:54,https://api.github.com/repos/textmate/textmate/git/commits/8358ffb578ade4c89686ba00af28693d669566cd,8358ffb578ade4c89686ba00af28693d669566cd,"Add “find bundle for new items” API

We need this when installing standalone bundle items, saving macros, and when creating items in the bundle editor without a bundle selected.

The user experience of this code is however rather poor in that you can’t actually crete new bundles, the dialog text is not specific, and the logic for what bundle to preselect can be improved (prefer previously created bundle falling back on a local bundle, if any)."
sorbits,2013-03-27 12:41:07,https://api.github.com/repos/textmate/textmate/git/commits/8888865f2ca25da7a4e4ef0112afff479946b90c,8888865f2ca25da7a4e4ef0112afff479946b90c,Use initializer list constructor for std::map (C++11)
sorbits,2013-03-27 10:36:12,https://api.github.com/repos/textmate/textmate/git/commits/17bdfd0ad721ac8598089eab0acc915c163badf3,17bdfd0ad721ac8598089eab0acc915c163badf3,"Revert ""Space can be used instead of slash in file chooser (⌘T)""

Several people dislike the change (see issue #893) and the commit didn’t introduce new functionality per se: full path searching is still available when explicitly typing a slash.

This reverts commit 619c19e8ed348ad9386dd2c54c9aad19d08fdc4f."
sorbits,2013-03-26 20:18:18,https://api.github.com/repos/textmate/textmate/git/commits/9af77ef3ab6248084d91647bb1b9cf96681c2871,9af77ef3ab6248084d91647bb1b9cf96681c2871,Wrong path was rescanned when changing bundles
sorbits,2013-03-26 16:54:50,https://api.github.com/repos/textmate/textmate/git/commits/d54bf55dc0ee24f09299e422e15b139e58768689,d54bf55dc0ee24f09299e422e15b139e58768689,"Don’t show “pop-out” animation for empty rects

Fixes #833."
sorbits,2013-03-26 16:41:51,https://api.github.com/repos/textmate/textmate/git/commits/4937b51d02ed4cd803cc19212b56386b986dad00,4937b51d02ed4cd803cc19212b56386b986dad00,"Show warning when undo deletes non-empty folder

Closes issue #782."
sorbits,2013-03-26 15:49:50,https://api.github.com/repos/textmate/textmate/git/commits/fe487c1a66d6182b07f2c77270d604a0a0d4ebd9,fe487c1a66d6182b07f2c77270d604a0a0d4ebd9,Fix typo in release notes
sorbits,2013-03-26 15:41:54,https://api.github.com/repos/textmate/textmate/git/commits/f689aac0db27798b7dc2b00853f94d7474ab0441,f689aac0db27798b7dc2b00853f94d7474ab0441,Checkin release notes
sorbits,2013-03-26 15:21:52,https://api.github.com/repos/textmate/textmate/git/commits/9c37d61737bf309f34b16201cc3b0a6627901229,9c37d61737bf309f34b16201cc3b0a6627901229,Show alert for unimplemented functionality
sorbits,2013-03-26 15:11:20,https://api.github.com/repos/textmate/textmate/git/commits/c1b8cc5454696de7a332959af32de4edc567c7f3,c1b8cc5454696de7a332959af32de4edc567c7f3,Force index rescan after bundle (item) install
sorbits,2013-03-26 15:00:53,https://api.github.com/repos/textmate/textmate/git/commits/bffa2eef106631883614bcff55d53af63c5407a7,bffa2eef106631883614bcff55d53af63c5407a7,Move bundle installing to BundlesManager
sorbits,2013-03-26 13:02:28,https://api.github.com/repos/textmate/textmate/git/commits/15a55279865366a15c2e1a2bda81c52e4487cf7a,15a55279865366a15c2e1a2bda81c52e4487cf7a,"Reset find dialog state when re-opening it

Previously doing a Find All in Document would stay with Find All as the default button, even if closed and re-opened.

We also clear the status text, this isn’t always desirable, but I find it more weird when the dialog shows an outdated status message."
sorbits,2013-03-26 12:51:41,https://api.github.com/repos/textmate/textmate/git/commits/40a9cb4e4033850b9550b1c66c888e35edc2abdd,40a9cb4e4033850b9550b1c66c888e35edc2abdd,"Limit height of Find dialog text fields

These would previously always be the height of the content, now they are limited to roughly 13 lines (225 “pixels”)."
sorbits,2013-03-26 12:46:36,https://api.github.com/repos/textmate/textmate/git/commits/7b115dc21214bffc0ff515baa65d9102ca99b3a0,7b115dc21214bffc0ff515baa65d9102ca99b3a0,Always show tool tip when command fails
sorbits,2013-03-25 21:56:49,https://api.github.com/repos/textmate/textmate/git/commits/099f7c60ea5ee3852a73b272bff5de816960e8a2,099f7c60ea5ee3852a73b272bff5de816960e8a2,"Improve bundles index code

By making it part of the BundlesManager singleton we can work with the event loop to coalesce reloads and delay saving the index."
sorbits,2013-03-25 19:31:48,https://api.github.com/repos/textmate/textmate/git/commits/ac23c9538e8d62dad56eb8ef479b32c6ada18f09,ac23c9538e8d62dad56eb8ef479b32c6ada18f09,Bind to updated BundlesManager binding properties
sorbits,2013-03-25 18:37:37,https://api.github.com/repos/textmate/textmate/git/commits/5d8f4998fd2b09bf694cc5457c1dd6d067ea1d7c,5d8f4998fd2b09bf694cc5457c1dd6d067ea1d7c,Update BundlesManager binding properties
sorbits,2013-03-25 16:57:40,https://api.github.com/repos/textmate/textmate/git/commits/97eec0dc9a276872165293a5d1ffd680acf138aa,97eec0dc9a276872165293a5d1ffd680acf138aa,"Force bundle reindex after install

Fixes #85."
sorbits,2013-03-25 16:54:19,https://api.github.com/repos/textmate/textmate/git/commits/2969af3cbd10268e1ceb4050626a540bff0a144d,2969af3cbd10268e1ceb4050626a540bff0a144d,Provisional API for forcing reload of bundles
sorbits,2013-03-25 16:31:03,https://api.github.com/repos/textmate/textmate/git/commits/5769b167800f45a4d63e3014595e0ae37dbf62df,5769b167800f45a4d63e3014595e0ae37dbf62df,"Rework bundle install code

We now use dispatch queues for updating bundles and bundle sources.

The determinate progress indicator is presently gone and so is the detailed info about which dependent bundles are being installed."
sorbits,2013-03-25 15:12:30,https://api.github.com/repos/textmate/textmate/git/commits/a24858e63cd40d3c6aae84c6ae2a5ee8cc3d4202,a24858e63cd40d3c6aae84c6ae2a5ee8cc3d4202,Store bundle index in ~/Library/Caches
sorbits,2013-03-25 12:22:54,https://api.github.com/repos/textmate/textmate/git/commits/258db64b8f3832f6de1a080ba542412f273f30cf,258db64b8f3832f6de1a080ba542412f273f30cf,Remove old bundle loading code
sorbits,2013-03-25 12:21:53,https://api.github.com/repos/textmate/textmate/git/commits/82c30b77db5dd88d19c0f03bde99369f059f2bec,82c30b77db5dd88d19c0f03bde99369f059f2bec,"Don’t load bundles from layout test

Ideally we would have the BundlesManager load the bundles but since tests don’t have their own framework requirements, this would require that the layout framework is setup to depend on the BundlesManager framework."
sorbits,2013-03-25 12:20:34,https://api.github.com/repos/textmate/textmate/git/commits/1a4fd972088f11a11ee68b22fea519c5758efa3a,1a4fd972088f11a11ee68b22fea519c5758efa3a,Add missing include
sorbits,2013-03-25 12:19:38,https://api.github.com/repos/textmate/textmate/git/commits/d6360426e3e3a63e80ff0a512329fa8ffed0bd89,d6360426e3e3a63e80ff0a512329fa8ffed0bd89,"Avoid function-local static storage for std::map

This gives the venerable warning about map::~map being a weak reference or something along those lines."
sorbits,2013-03-25 12:04:40,https://api.github.com/repos/textmate/textmate/git/commits/d1a6c854a116a0d10d80495731ba84ea69eb9571,d1a6c854a116a0d10d80495731ba84ea69eb9571,Add API to control bundle auto-updating
sorbits,2013-03-25 11:54:21,https://api.github.com/repos/textmate/textmate/git/commits/75234faaa135d7a5d847c7d2cd65c046e995d5d2,75234faaa135d7a5d847c7d2cd65c046e995d5d2,Minor style changes
sorbits,2013-03-25 11:48:39,https://api.github.com/repos/textmate/textmate/git/commits/37590bd3fd48e19241476aaee2dd74f75d98c252,37590bd3fd48e19241476aaee2dd74f75d98c252,Switch to new bundle loading code
sorbits,2013-03-25 10:18:27,https://api.github.com/repos/textmate/textmate/git/commits/14ff3cf047c8c1ad77cdb2aec81b7884bf4c2975,14ff3cf047c8c1ad77cdb2aec81b7884bf4c2975,"Add new bundle loading code

Some shortcomings:
1. Cache format is more wasteful (and kept in memory)
2. Device UUID and inode of root folder is not considered when replaying fs-events (we should do a recursive rescan if either changes).

On the bright side, the code better separates loading bundles from disk, and maintaining a disk cache updated via fs-events. This should make it easier to force cache invalidation when updating bundles from within TextMate (so we do not rely on fs-events) and to move bundle loading away from the main thread.

Additionally, by moving the bundle loading code to the bundle manager singleton, we’re introducing a single source of knowledge about “bundles on disk”, regardless of wether they are managed or not."
sorbits,2013-03-25 09:25:59,https://api.github.com/repos/textmate/textmate/git/commits/950cb8b27aa763b6d5afff87ef9c923665e3312f,950cb8b27aa763b6d5afff87ef9c923665e3312f,Only lock mutex for critical code
sorbits,2013-03-25 09:25:59,https://api.github.com/repos/textmate/textmate/git/commits/f7ad857385c3b2a093558a66b59373fcd26c2bcc,f7ad857385c3b2a093558a66b59373fcd26c2bcc,Show current selection string in Go to Line dialog
joachimm,2013-03-24 16:31:50,https://api.github.com/repos/textmate/textmate/git/commits/eaf2d97141257ce44eb62f54a5b878fdb068e000,eaf2d97141257ce44eb62f54a5b878fdb068e000,"Using ‘$’ in scope selector will anchor to end of content scope

The content scope is the portion of the scope created while parsing the document content, unlike scope attributes, document, project, SCM, and dynamic scopes (appended to the content scope)."
sorbits,2013-03-22 11:39:44,https://api.github.com/repos/textmate/textmate/git/commits/787ae1cba8d86368f7ebe5177aa14fc792c2cb12,787ae1cba8d86368f7ebe5177aa14fc792c2cb12,"Only “force” selection search when document window is key

Since the find dialog itself will call orderFrontFindPanel: when selecting the first item in the “in” pop-up (this is required to have it show ⌘F as key equivalent) we need to avoid changing search scope to “selection” for this case."
infininight,2013-03-22 10:20:20,https://api.github.com/repos/textmate/textmate/git/commits/17e67642b829b5578d98f053c2851c2c5fdbbc25,17e67642b829b5578d98f053c2851c2c5fdbbc25,Re-align Find/Replace labels due the larger font size
infininight,2013-03-22 10:15:00,https://api.github.com/repos/textmate/textmate/git/commits/1af89c97a10dcec885a87d0005ba6f43ab8d5cb8,1af89c97a10dcec885a87d0005ba6f43ab8d5cb8,"Use OakCreateSmallLabel for the status text

This treats the label as a small size control."
infininight,2013-03-22 10:05:09,https://api.github.com/repos/textmate/textmate/git/commits/9da5b345d3eb257b0cc6678b399d3f2fa44ad5b3,9da5b345d3eb257b0cc6678b399d3f2fa44ad5b3,"Use the systemFontSize for labels, add function for small controls

Before labelFontSize was used for all controls, as the label size should match the control size we need to have different functions for each control size."
sorbits,2013-03-21 22:33:09,https://api.github.com/repos/textmate/textmate/git/commits/4fcf2a9d5a2f82eb9b7ca0cebf255aef2df243f8,4fcf2a9d5a2f82eb9b7ca0cebf255aef2df243f8,Checkin release notes
sorbits,2013-03-21 21:45:25,https://api.github.com/repos/textmate/textmate/git/commits/da117b4b8dd144b41015bab0551fb6a996e7a948,da117b4b8dd144b41015bab0551fb6a996e7a948,"Disable custom icons for links to folders

For example a symbolic link like ~/.config (pointing to a folder) would previously get the custom icon for config files. Now it gets a folder icon (with a link badge)."
jtbandes,2013-03-19 23:50:36,https://api.github.com/repos/textmate/textmate/git/commits/37e98655ec5381f970dcc13c2dc9fdb3416b1739,37e98655ec5381f970dcc13c2dc9fdb3416b1739,"Implement filter through command

Closes #131"
sorbits,2013-03-12 20:49:28,https://api.github.com/repos/textmate/textmate/git/commits/d021d97b430edd08ec700af8498785d5fee3e130,d021d97b430edd08ec700af8498785d5fee3e130,WIP: Filter through command
sorbits,2013-03-21 13:24:51,https://api.github.com/repos/textmate/textmate/git/commits/ba2130f0c8306d3c0dfd1ecb9ef68177bd3c4311,ba2130f0c8306d3c0dfd1ecb9ef68177bd3c4311,"Don’t change signal mask in library code

This belongs in main(), where it is already being set.

It might however be necessary to set it when running tests, although none of the tests seems to fail w/o this."
sorbits,2013-03-21 13:17:43,https://api.github.com/repos/textmate/textmate/git/commits/fbec3539c6ba3fbd2750a858f3d75582f01a2a71,fbec3539c6ba3fbd2750a858f3d75582f01a2a71,Use io::spawn for launching tar
sorbits,2013-03-21 13:14:05,https://api.github.com/repos/textmate/textmate/git/commits/8ce1c48fe79110330c1a3df710bb9000c9fed1fb,8ce1c48fe79110330c1a3df710bb9000c9fed1fb,"Introduce io::spawn API

This is a wrapper for posix_spawn that sets up pipes for stdin, out, and error."
sorbits,2013-03-21 10:32:59,https://api.github.com/repos/textmate/textmate/git/commits/2ca999976e4c876ab6d221b2dc6bbc37ebbd696b,2ca999976e4c876ab6d221b2dc6bbc37ebbd696b,Dialog: Improve tooltip positioning for multiple screens
sorbits,2013-03-20 15:50:17,https://api.github.com/repos/textmate/textmate/git/commits/a6fca57d6ae67c4f2738eabf1053607d8b4cb26e,a6fca57d6ae67c4f2738eabf1053607d8b4cb26e,Don’t set TM_SCM_BRANCH when there is no branch
jtbandes,2013-03-20 18:59:06,https://api.github.com/repos/textmate/textmate/git/commits/fa4d14732b80b731e7acb81015c7170c44828a8e,fa4d14732b80b731e7acb81015c7170c44828a8e,Improve tooltip positioning for multiple screens
jtbandes,2013-03-20 06:02:59,https://api.github.com/repos/textmate/textmate/git/commits/65eb9c271ff4741f0d63d28434733768b34b0b66,65eb9c271ff4741f0d63d28434733768b34b0b66,Clean up formatting of selection string
jtbandes,2013-03-20 10:26:49,https://api.github.com/repos/textmate/textmate/git/commits/c6cf0871155d5283a78180b2d52f5e9d49ccea88,c6cf0871155d5283a78180b2d52f5e9d49ccea88,Use divider image from status bars for file browser header
jtbandes,2013-03-20 02:48:05,https://api.github.com/repos/textmate/textmate/git/commits/98a7cd1e08e23997755e3b291456399418cc3885,98a7cd1e08e23997755e3b291456399418cc3885,Add an etched effect to the status/action bar dividers
sorbits,2013-03-20 13:39:52,https://api.github.com/repos/textmate/textmate/git/commits/4188f35fa4bf69693471799ae2d6849d2a7af977,4188f35fa4bf69693471799ae2d6849d2a7af977,Update README
sorbits,2013-03-20 12:54:16,https://api.github.com/repos/textmate/textmate/git/commits/ca0a839247bf588e31440880b69611fa74a28b9c,ca0a839247bf588e31440880b69611fa74a28b9c,Make helper data type local
sorbits,2013-03-20 10:33:15,https://api.github.com/repos/textmate/textmate/git/commits/d0db9d9554151f5f48a468bac44d1d5fa0326924,d0db9d9554151f5f48a468bac44d1d5fa0326924,Checkin release notes
sorbits,2013-03-20 10:28:35,https://api.github.com/repos/textmate/textmate/git/commits/2c2ef93521f7afae472032d6dbe4a14b86c45cab,2c2ef93521f7afae472032d6dbe4a14b86c45cab,Don’t keep mutex locked longer than required
sorbits,2013-03-19 21:50:53,https://api.github.com/repos/textmate/textmate/git/commits/42cd2f93df46c468bb1df016d3c01320def4bbdb,42cd2f93df46c468bb1df016d3c01320def4bbdb,Make fs::tree_t member data private
sorbits,2013-03-19 21:09:40,https://api.github.com/repos/textmate/textmate/git/commits/3ceefce2e4333db6f13f8249bd14ef797f065f9e,3ceefce2e4333db6f13f8249bd14ef797f065f9e,"Improve renaming files with hidden extension

We now clear the “hidden extension” flag if the user manually adds it.

We also ensure the hidden extension is not ignored by comparing base name with display name. The flag is ignored under certain circumstances.

Comparing base name with display name alone may give a false positive for localized file names."
sorbits,2013-03-19 19:33:55,https://api.github.com/repos/textmate/textmate/git/commits/149d335335b89643a88489022b763ac700d0198f,149d335335b89643a88489022b763ac700d0198f,"Setup exception handler around editor_t::perform

The implementation of kPaste seems to generate an exception for some users, but I don’t know exactly why, so this should provide some better diagnostics info."
sorbits,2013-03-19 19:31:19,https://api.github.com/repos/textmate/textmate/git/commits/2c85ef9ac2f81cb1afe5d66a98e5250d72867254,2c85ef9ac2f81cb1afe5d66a98e5250d72867254,Move crash reporter info to utility.h
sorbits,2013-03-19 15:24:56,https://api.github.com/repos/textmate/textmate/git/commits/e1e0e5a8a5cbc3d354f2e3f63d0202fc0fed1fb9,e1e0e5a8a5cbc3d354f2e3f63d0202fc0fed1fb9,"Re-use download window if already visible

This is useful if a new update arrives after TextMate has downloaded the previous update but before the user relaunched TextMate.

Fixes #909."
sorbits,2013-03-19 14:51:08,https://api.github.com/repos/textmate/textmate/git/commits/74f22623e9faa51b6f8cb0f38352b30c42ddbbf4,74f22623e9faa51b6f8cb0f38352b30c42ddbbf4,"Don’t disable NSQuitAlwaysKeepsWindows

This was disabled in an attempt of avoiding the “do you want to open saved documents from last session?” which appear after a crash.

It doesn’t seem to have any effect though, so just noise in the code."
sorbits,2013-03-19 14:49:18,https://api.github.com/repos/textmate/textmate/git/commits/769831f6292aef03af9cc84b99c3cdc2ab0fb47a,769831f6292aef03af9cc84b99c3cdc2ab0fb47a,Use Objective-C literals
sorbits,2013-03-19 14:02:32,https://api.github.com/repos/textmate/textmate/git/commits/bd34c8425328a15af37fe6e4a10b1e623b0ca8f8,bd34c8425328a15af37fe6e4a10b1e623b0ca8f8,"Remove support for disabling file browser status updating

This preference was introduced as a workaround for poor performance when displaying large folders, this however should no longer be an issue."
sorbits,2013-03-19 13:56:23,https://api.github.com/repos/textmate/textmate/git/commits/d68e6a0499c0a40e3bb052afeb1a8d87d0422f65,d68e6a0499c0a40e3bb052afeb1a8d87d0422f65,"Dragging last tab from window w/o file browser will close window

Closes #904."
sorbits,2013-03-19 13:56:23,https://api.github.com/repos/textmate/textmate/git/commits/281bccd969e287e2ea26fd597edf4b82d21623b1,281bccd969e287e2ea26fd597edf4b82d21623b1,Remove outdated TODO
sorbits,2013-03-19 13:56:22,https://api.github.com/repos/textmate/textmate/git/commits/957d6d018d26d15490e66b0560dd0335ba8647d1,957d6d018d26d15490e66b0560dd0335ba8647d1,"Don’t treat directories as executables

Related to issue #907."
sorbits,2013-03-19 13:56:22,https://api.github.com/repos/textmate/textmate/git/commits/beb5348e327da67562bf3f110d774fffd1944a30,beb5348e327da67562bf3f110d774fffd1944a30,"Don’t abort when failing to run subcommand

Fixes #907."
sorbits,2013-03-19 13:56:22,https://api.github.com/repos/textmate/textmate/git/commits/b3c9276f9cdf049128cbf6c348022040388b626b,b3c9276f9cdf049128cbf6c348022040388b626b,"Find dsym archive using new naming convention

We gracefully fallback on the old naming convention."
sorbits,2013-03-18 13:38:32,https://api.github.com/repos/textmate/textmate/git/commits/dad6c4e629ffdaf3ceca7b151971593bafd22e79,dad6c4e629ffdaf3ceca7b151971593bafd22e79,Checkin release notes
sorbits,2013-03-18 13:34:08,https://api.github.com/repos/textmate/textmate/git/commits/21bf41b0c6dd149d01b8c256130262f59f317fa3,21bf41b0c6dd149d01b8c256130262f59f317fa3,"fixup! No longer support deleted items in bundle’s info.plist

We still need to cache the ‘deleted’ key since delta items use this to indicate keys deleted in the local version."
sorbits,2013-03-18 13:34:08,https://api.github.com/repos/textmate/textmate/git/commits/916725b0d26f7b4e7c8767817553b8b4440cd822,916725b0d26f7b4e7c8767817553b8b4440cd822,Use constant for version of property cache format
sorbits,2013-03-18 13:34:07,https://api.github.com/repos/textmate/textmate/git/commits/b96a4975e6faad3d286dad5dc86769dac8422c10,b96a4975e6faad3d286dad5dc86769dac8422c10,"Use array for cached settings names

We previously used a dictionary so that initializing a bundle item object wouldn’t need to know the difference between a full property list and a cached subset. Technically though the previous code had an implicit assertion on the bundle item not being able to rely on the settings values being useful, which is now gone.

The main advantage though is a smaller and more correct cache format."
sorbits,2013-03-18 13:34:07,https://api.github.com/repos/textmate/textmate/git/commits/12e5693361a9ab726751c819564672594cd7529b,12e5693361a9ab726751c819564672594cd7529b,"Delete cached bundle items when changed on disk

Effectively it doesn’t change much as cached items are fetched with a file date, but in theory it should now be possible to omit that date (if we can trust that fs-events has always notified us about disk changes)."
sorbits,2013-03-17 16:08:54,https://api.github.com/repos/textmate/textmate/git/commits/f4f0e073d3f1da0df231d741306cff7c7c3cc4ef,f4f0e073d3f1da0df231d741306cff7c7c3cc4ef,Use ‘alpha’ prefix instead of ‘r’
sorbits,2013-03-17 15:46:43,https://api.github.com/repos/textmate/textmate/git/commits/cabd0998303ab15f2be48c9a9d66d81135560304,cabd0998303ab15f2be48c9a9d66d81135560304,Checkin release notes
sorbits,2013-03-17 15:03:11,https://api.github.com/repos/textmate/textmate/git/commits/f0fd87bf66213350e48902f7dbace486c9935739,f0fd87bf66213350e48902f7dbace486c9935739,"Only use cache file if at version 1

Since it’s not unlikely that a user will downgrade from a nightly build, we should be prepared to see cache files using a newer (incompatible) file format."
sorbits,2013-03-17 15:03:11,https://api.github.com/repos/textmate/textmate/git/commits/062f78118afc40887a65f316e47984ebeb483636,062f78118afc40887a65f316e47984ebeb483636,"Don’t (re)scan when creating fs::node_t

Also make it optional to provide a map pointer (for collecting changes) when rescanning."
sorbits,2013-03-17 15:03:11,https://api.github.com/repos/textmate/textmate/git/commits/04142cbf6962c23346af2af32a68b1e877c80e6c,04142cbf6962c23346af2af32a68b1e877c80e6c,Bundle loading no longer done by static member function
sorbits,2013-03-17 15:03:11,https://api.github.com/repos/textmate/textmate/git/commits/7d6763eee70f764f3e805997555ddab4c5f1e32e,7d6763eee70f764f3e805997555ddab4c5f1e32e,Avoid member data access when constructing bundles::item_t
sorbits,2013-03-17 15:03:10,https://api.github.com/repos/textmate/textmate/git/commits/594bfcb29d5a8e17f476f386717b3b18b92d9e2b,594bfcb29d5a8e17f476f386717b3b18b92d9e2b,"No longer support deleted items in bundle’s info.plist

Recording that an item is deleted in the bundle’s info.plist is necessary for TextMate 1.x because it merges all installed bundles, so if the user has a local version, he will still see items from the default version, unless these are indicated to be deleted in the local version.

With 2.0 only delta bundles get merged with a less-local bundle, and when deleting a default item, a delta item is written with the ‘isDeleted’ key set to true."
sorbits,2013-03-17 15:02:30,https://api.github.com/repos/textmate/textmate/git/commits/f888376e05148aea63b2c85006366c71f7074668,f888376e05148aea63b2c85006366c71f7074668,Move bundle loading to own file
sorbits,2013-03-17 14:44:07,https://api.github.com/repos/textmate/textmate/git/commits/0f9b15b91665a0c43546de3c05bef4af0bfd779d,0f9b15b91665a0c43546de3c05bef4af0bfd779d,Show error when property list fails to parse
sorbits,2013-03-17 14:44:07,https://api.github.com/repos/textmate/textmate/git/commits/c6375e2ed92ac54fdc3a12e5947bfcdb00994d98,c6375e2ed92ac54fdc3a12e5947bfcdb00994d98,Add success/failure to plist::parse_ascii API
sorbits,2013-03-17 14:44:07,https://api.github.com/repos/textmate/textmate/git/commits/5dcbbde8176fd7c58121fef693a1f34b2c6347e0,5dcbbde8176fd7c58121fef693a1f34b2c6347e0,Let user know if saving in bundle editor fails
sorbits,2013-03-17 14:44:07,https://api.github.com/repos/textmate/textmate/git/commits/0d2af1fbfab41779c27d5b585535b2f0c02180c4,0d2af1fbfab41779c27d5b585535b2f0c02180c4,"Don’t use posix_spawnattr_setpgroup

This appears to fail in rare circumstances and there is no reason why the io::exec code sets up a process group, so easier to just remove this."
sorbits,2013-03-17 14:44:06,https://api.github.com/repos/textmate/textmate/git/commits/dfee671b6a3cf62f12f75626ef6bf227f7be58e3,dfee671b6a3cf62f12f75626ef6bf227f7be58e3,"Don’t use POSIX_SPAWN_CLOEXEC_DEFAULT on 10.7

Using this flag on 10.7.5 seems to cause a kernel panic.

Fixes #896."
sorbits,2013-03-17 14:44:06,https://api.github.com/repos/textmate/textmate/git/commits/398e55cdbe6b737c1ab45e42c76e37e1048ed6c9,398e55cdbe6b737c1ab45e42c76e37e1048ed6c9,"Add helper functions to get OS version

We need this in a few places and while calling Gestalt() isn’t that much code, that function is deprecated in 10.8 and the alternative is a lot more code, so we don’t want to repeat that once we update the code."
sorbits,2013-03-16 16:49:49,https://api.github.com/repos/textmate/textmate/git/commits/45dc49eb29f6ce8ceef40d7aae349683c2e5b1be,45dc49eb29f6ce8ceef40d7aae349683c2e5b1be,"Retire compiler workaround

Previously we could get a compiler error when using std::map<std::string, std::string>() as a default argument."
sorbits,2013-03-16 16:49:49,https://api.github.com/repos/textmate/textmate/git/commits/15c27135fd915337be0cdf774f9998fa40fbbcc4,15c27135fd915337be0cdf774f9998fa40fbbcc4,"Change folder pop-up to pull-down

The menu contains two (non-selectable) “actions”. If we use a pop-up, we have to change the selection after the user select one of these actions, which isn’t the case with a pull-down menu."
sorbits,2013-03-16 16:49:49,https://api.github.com/repos/textmate/textmate/git/commits/b0a0df831a784fa66c8cbd174d840805e9e76f57,b0a0df831a784fa66c8cbd174d840805e9e76f57,"Add ability to set project folder via file browser

For now it is done via a new menu item in the top folder pop-up. It might be useful to also show this menu item in the general action menu."
sorbits,2013-03-16 16:49:48,https://api.github.com/repos/textmate/textmate/git/commits/315908e2d88e7d5cea5e698b6f2da85a75ff1151,315908e2d88e7d5cea5e698b6f2da85a75ff1151,"Update menu item titles in Text menu

These now reflect whether or not the action works on the selection."
sorbits,2013-03-16 16:49:48,https://api.github.com/repos/textmate/textmate/git/commits/3a75199e9dfe839b195d7a6d3b51f708d4a28178,3a75199e9dfe839b195d7a6d3b51f708d4a28178,"Use menu validation to update bundle menu item titles

This means we don’t need to know if there is a selection when creating the menu items and long-term it’ll be easier to introduce more complex updating, e.g. make the title a format string to allow referencing TM_DISPLAYNAME or disable the menu item if its requirements cannot be met."
sorbits,2013-03-16 16:49:48,https://api.github.com/repos/textmate/textmate/git/commits/5caca35fc7dbb2d20948d3ab23ba85d036c8b751,5caca35fc7dbb2d20948d3ab23ba85d036c8b751,Use menu validation in OakShowMenuForBundleItems
sorbits,2013-03-16 16:49:48,https://api.github.com/repos/textmate/textmate/git/commits/04e8eb44a22d9cd2e9f2e72a1e5ac80e75c198ae,04e8eb44a22d9cd2e9f2e72a1e5ac80e75c198ae,"Introduce updateTitle: for NSMenuItem

Since we create an attributed title when the menu item has a tab trigger or “inactive” key equivalent, we can’t later update the title via the title property."
sorbits,2013-03-16 16:49:48,https://api.github.com/repos/textmate/textmate/git/commits/8313dcb407b9edbe85b00f1ed351849619997e32,8313dcb407b9edbe85b00f1ed351849619997e32,"Remove status bar graphics

This is no longer used since the OakStatusBar class has already been deleted."
sorbits,2013-03-16 16:49:48,https://api.github.com/repos/textmate/textmate/git/commits/976dab5065e26b9db0bfb3e8248243adaa95e785,976dab5065e26b9db0bfb3e8248243adaa95e785,"Only show bundle updates for this and last year

This makes the list appear noticeable faster. The dates are presently hardcoded to 2012 and 2013."
sorbits,2013-03-16 16:49:47,https://api.github.com/repos/textmate/textmate/git/commits/29e0a2fec52dbf447157911b31207092a884fcd1,29e0a2fec52dbf447157911b31207092a884fcd1,"Make the rmate listen port a string instead of integer

When using an integer it got “pretty printed” by NSTextField (to have a thousand separator). If the user would “commit” this version, the version with the thousand separator would be stored in user defaults, which would make TextMate fail t listen to the desired port."
sorbits,2013-03-16 16:29:06,https://api.github.com/repos/textmate/textmate/git/commits/2d4d4729d26ddef40db4bf09ed811a22e1875787,2d4d4729d26ddef40db4bf09ed811a22e1875787,"Remove ‘rmate’ submodule

With the script installable via rubygems there is no longer any reason to include it with TextMate.app and thus keep it as git submodule."
sorbits,2013-03-14 09:14:46,https://api.github.com/repos/textmate/textmate/git/commits/38992fadef228e6c9a4fc7498656d7205f7724e6,38992fadef228e6c9a4fc7498656d7205f7724e6,"Simplify NSMenu subclass

Now that the bundle menu doesn’t register any key equivalents, there is no need to manually go through all but the bundle menu to avoid having the system trigger bundle menu items."
sorbits,2013-03-14 09:14:46,https://api.github.com/repos/textmate/textmate/git/commits/6ac4aab9107acd9a745cd1463617bc5102555c18,6ac4aab9107acd9a745cd1463617bc5102555c18,"Use custom menu item title for key equivalents

The rendering doesn’t mimic the system 100%, for example the key equivalents are not centered on the split between modifiers and the key, nor are F-keys rendered using a smaller font / menu glyph.

On the plus side though, now all keys are rendered. Previously keys shared with other (non bundle) menu items would only be shown for one of the items sharing the key, and some keys would simply not be shown (e.g. ⌃#).

Also, bundle menu items no longer “eclipse” regular menu items, which could previously happen even when the bundle menu item wouldn’t fire (as it was scoped for something else than the current context).

Fixes #894."
sorbits,2013-03-14 09:14:45,https://api.github.com/repos/textmate/textmate/git/commits/619c19e8ed348ad9386dd2c54c9aad19d08fdc4f,619c19e8ed348ad9386dd2c54c9aad19d08fdc4f,"Space can be used instead of slash in file chooser (⌘T)

This enables full path search.

Closes #893."
sorbits,2013-03-14 09:14:45,https://api.github.com/repos/textmate/textmate/git/commits/17ef6ef5d0f9a68173454e192ab3bbececa9e0a1,17ef6ef5d0f9a68173454e192ab3bbececa9e0a1,Use path::is_absolute instead of custom code
sorbits,2013-03-13 13:17:05,https://api.github.com/repos/textmate/textmate/git/commits/7a00c4544895519d2621f52c3dd128b5a7bb4c9c,7a00c4544895519d2621f52c3dd128b5a7bb4c9c,Checkin release notes
sorbits,2013-03-13 11:37:24,https://api.github.com/repos/textmate/textmate/git/commits/34bf85d8d17b868c8ecf7b71ae6a6411fcc347db,34bf85d8d17b868c8ecf7b71ae6a6411fcc347db,"Remove whitespace when shifting text left

Previously shifting text left/right would ignore blank lines (as noted in issue #419).

When shifting left though it does make sense to delete whitespace, especially as the same code is used to re-indent when pasting.

Fixes #810."
sorbits,2013-03-13 11:37:24,https://api.github.com/repos/textmate/textmate/git/commits/0075b46c82959ed5d90df5f8d327eca64c33a845,0075b46c82959ed5d90df5f8d327eca64c33a845,"Introduce zeroIndentPattern

This will give the matched lines zero indent but without affecting the following lines.

Probably the only use-case for this is C preprocessor directives."
sorbits,2013-03-13 11:37:23,https://api.github.com/repos/textmate/textmate/git/commits/d16f3bcc1e2dbc9b1a94dc1c2d6ad5ec7ce520fc,d16f3bcc1e2dbc9b1a94dc1c2d6ad5ec7ce520fc,"Use per-line indent patterns when estimating indent

This solves the problem where we need to estimate the current line’s indent, but the lines above it is a multi-line block comment. Previously we would fetch indent patterns based on the current scope, then find the first line above caret, for which the patterns can be used to estimate the indent. The problem is that the commented lines without comment markers would be treated as code, and used for the indent.

With the new approach, we can set different patterns for ‘comment.block’ (the C bundle already does this), which basically ignore all the lines, which will cause TextMate to use the code above the comment to estimate indent.

This commit closes textmate/c.tmbundle#3 and also closes textmate/php.tmbundle#24."
sorbits,2013-03-13 11:37:23,https://api.github.com/repos/textmate/textmate/git/commits/77a07aedc7d434c1bf7b8908c7223c0f4ee1e536,77a07aedc7d434c1bf7b8908c7223c0f4ee1e536,"Let TM_MATE point to ‘mate’

This command is used by a lot of commands, so it makes sense to have a dedicated variable for its location."
sorbits,2013-03-13 11:37:23,https://api.github.com/repos/textmate/textmate/git/commits/b5eb83d383c3b087bc50e53d4c6689541051f164,b5eb83d383c3b087bc50e53d4c6689541051f164,Refactor code
sorbits,2013-03-13 11:37:23,https://api.github.com/repos/textmate/textmate/git/commits/d8cf1e35917af865bf33a61fe2abd216715d3afa,d8cf1e35917af865bf33a61fe2abd216715d3afa,Gather UI construction code and harmonize fonts
sorbits,2013-03-13 11:37:23,https://api.github.com/repos/textmate/textmate/git/commits/9f8b7bf27ce9e4c61cfd4495665469f7e8f04cca,9f8b7bf27ce9e4c61cfd4495665469f7e8f04cca,"Improve layout constraints for labels

The widest should now be exactly 20 pixels from the window’s left border, and the others are right-aligned with this label."
sorbits,2013-03-13 11:37:22,https://api.github.com/repos/textmate/textmate/git/commits/b5136bcdc7db6c85f6a65862480c45a08941d717,b5136bcdc7db6c85f6a65862480c45a08941d717,"Set window’s defaultButtonCell

This is instead of setting the key equivalent to ‘\r’ for the button that should be default."
sorbits,2013-03-13 11:37:22,https://api.github.com/repos/textmate/textmate/git/commits/c44e85f2583d0510755c7d09a71057859508b906,c44e85f2583d0510755c7d09a71057859508b906,Avoid delayed window resize
sorbits,2013-03-13 11:37:22,https://api.github.com/repos/textmate/textmate/git/commits/7acf168904d5648cab57353fffb3acd4b9c76246,7acf168904d5648cab57353fffb3acd4b9c76246,Keep title and enabled state of Replace All button updated
sorbits,2013-03-13 11:37:22,https://api.github.com/repos/textmate/textmate/git/commits/f553f20cc73ca644e400546f9fef705ed814990e,f553f20cc73ca644e400546f9fef705ed814990e,"Change criterion for focusing find string when dialog is open

We now move focus to the find string unless the window is visible, key, and focus is already in a text field (technically an NSTextView)."
sorbits,2013-03-13 11:37:22,https://api.github.com/repos/textmate/textmate/git/commits/db5df4a58c5e68ff0130d1b0179d03a62e3523c6,db5df4a58c5e68ff0130d1b0179d03a62e3523c6,Update Find window API
sorbits,2013-03-13 11:37:22,https://api.github.com/repos/textmate/textmate/git/commits/4b5db02a4488c05f74843d7d0bcab48e11da69b2,4b5db02a4488c05f74843d7d0bcab48e11da69b2,"Remove Find in Selection menu item

This item had no key equivalent and the find dialog automatically uses “selection” if the current document has a multi-line selection, so I don’t see any need for this menu item.

Also removed the key equivalent for “Find in Folder…” — the key equivalent wasn’t memorable and I don’t see a big need for this item, since one can initiate searches from the file browser."
sorbits,2013-03-13 11:37:21,https://api.github.com/repos/textmate/textmate/git/commits/d18b30f280df74a0b43eff770e5d4a671d49b2c8,d18b30f280df74a0b43eff770e5d4a671d49b2c8,Remove oak::lock_t and oak::mutex_t
sorbits,2013-03-13 11:37:21,https://api.github.com/repos/textmate/textmate/git/commits/c3e9fc1b0e426b4c61de8677eed6e6eacc86e5d4,c3e9fc1b0e426b4c61de8677eed6e6eacc86e5d4,Change oak::mutex_t → std::mutex (C++11)
sorbits,2013-03-12 09:25:04,https://api.github.com/repos/textmate/textmate/git/commits/f0efe600e4968cc40299e645143b44ba92c7d937,f0efe600e4968cc40299e645143b44ba92c7d937,"Remove Edit → Select → None

This can now instead be found in the file browser’s action menu, as it (by design) only works on the file browser, not the text view.

Closes #883."
sorbits,2013-03-12 09:25:04,https://api.github.com/repos/textmate/textmate/git/commits/b1e9476ccec4af2565e6c3eb1619b3d1e2822889,b1e9476ccec4af2565e6c3eb1619b3d1e2822889,"Add Select None to file browser’s action menu

This makes it easier for the user to discover that ⇧⌘A can be used to deselect all (useful e.g. prior to running a SCM command)."
sorbits,2013-03-12 09:25:04,https://api.github.com/repos/textmate/textmate/git/commits/df512d98fa9fb8f6f2734fd9ad4c17224e845846,df512d98fa9fb8f6f2734fd9ad4c17224e845846,Remember height of find in folder results
sorbits,2013-03-11 21:24:55,https://api.github.com/repos/textmate/textmate/git/commits/5013620a8954c0381a640b771ca5ebda22553cc4,5013620a8954c0381a640b771ca5ebda22553cc4,"Fix exception when renaming to empty string

Fixes #887."
sorbits,2013-03-11 21:18:18,https://api.github.com/repos/textmate/textmate/git/commits/fcbaacdfe965e71b2466460e8098e9988d2c5d68,fcbaacdfe965e71b2466460e8098e9988d2c5d68,"Set default encoding to UTF-8

Although everything would still default to UTF-8, the initial title of the pop-up in Preferences would show a wrong value.

Fixes #889."
sorbits,2013-03-11 16:48:20,https://api.github.com/repos/textmate/textmate/git/commits/c561d2447b27d914163a232e95f5b5db41e856bd,c561d2447b27d914163a232e95f5b5db41e856bd,"Add UI setting for disabling auto-resize

The auto-resize is when toggling the file browser."
sorbits,2013-03-11 16:28:34,https://api.github.com/repos/textmate/textmate/git/commits/cceff2cb990c88267e8289e179a9bcfa9cfc1cf7,cceff2cb990c88267e8289e179a9bcfa9cfc1cf7,Clear previous frame when switching side of file browser
sorbits,2013-03-11 16:24:41,https://api.github.com/repos/textmate/textmate/git/commits/514f65bcb583a6770c4e8dae1138fe538e03ee51,514f65bcb583a6770c4e8dae1138fe538e03ee51,"Improve window sizing when toggling file browser

The first time the browser is toggled, we’ll save the current frame so that we can restore it if the user toggles again (the calculated frame won’t match when window is moved or width is “truncated”).

Additionally when file browser is on the left side, we reframe the window so that the text view remains in the same place on the screen.

Closes #827."
sorbits,2013-03-11 15:14:44,https://api.github.com/repos/textmate/textmate/git/commits/00d381ec5f6e63c83f146fa328df2159c2b75947,00d381ec5f6e63c83f146fa328df2159c2b75947,"SCM drivers can return arbitrary variables

These variables are mainly for use in the window title. Not all variables make sense across SCM drivers, hence why it is now completely up to the driver, what variables it provides."
sorbits,2013-03-11 15:11:39,https://api.github.com/repos/textmate/textmate/git/commits/ce537a4ef9934c6e9739147cac351b4e107c6369,ce537a4ef9934c6e9739147cac351b4e107c6369,Prefix error message with result from getprogname()
sorbits,2013-03-10 15:11:26,https://api.github.com/repos/textmate/textmate/git/commits/46fc5430c72002f2ba7659a497a318c77ca772e8,46fc5430c72002f2ba7659a497a318c77ca772e8,"Remove Objective-C smart pointer

Not necessary now that we have ARC."
sorbits,2013-03-10 15:11:26,https://api.github.com/repos/textmate/textmate/git/commits/96784e9fee02be0835d48817544353efa4bfb730,96784e9fee02be0835d48817544353efa4bfb730,ARC: Update OakAppKit framework
sorbits,2013-03-10 15:11:26,https://api.github.com/repos/textmate/textmate/git/commits/694b67041392aebb742c5ea568cd66b55d11ebfa,694b67041392aebb742c5ea568cd66b55d11ebfa,Remove OakStatusBar
sorbits,2013-03-10 15:11:25,https://api.github.com/repos/textmate/textmate/git/commits/48923b9eee7aa07972c9c955fd6d990bbf28a644,48923b9eee7aa07972c9c955fd6d990bbf28a644,Remove unnecessary include
sorbits,2013-03-10 15:11:25,https://api.github.com/repos/textmate/textmate/git/commits/2b0acf96776096e5a046ef34d676359634442962,2b0acf96776096e5a046ef34d676359634442962,Remove isDark NSColor category method
sorbits,2013-03-10 15:11:25,https://api.github.com/repos/textmate/textmate/git/commits/e6e281cae94032e3cea8f8f14e37b0300e12ad36,e6e281cae94032e3cea8f8f14e37b0300e12ad36,Only disable ARC for MGScopeBar vendor target
sorbits,2013-03-10 15:11:25,https://api.github.com/repos/textmate/textmate/git/commits/e144ce594f3b715a1c835d547f41a5e53de5ff07,e144ce594f3b715a1c835d547f41a5e53de5ff07,Update MASPreferences submodule
sorbits,2013-03-10 15:04:48,https://api.github.com/repos/textmate/textmate/git/commits/aa35578c99399a92cd990cf01c31661c0d46059d,aa35578c99399a92cd990cf01c31661c0d46059d,Make s/w update tests concurrent
sorbits,2013-03-10 15:04:47,https://api.github.com/repos/textmate/textmate/git/commits/24f6f3bd2cc66a25bf36ff2fe37da39e483202f3,24f6f3bd2cc66a25bf36ff2fe37da39e483202f3,"Use posix_spawn instead of fork/exec

Using Apple’s POSIX_SPAWN_CLOEXEC_DEFAULT appears to be the only safe way to spawn a child process in a multi-threaded program."
sorbits,2013-03-10 15:04:47,https://api.github.com/repos/textmate/textmate/git/commits/f69ac60b0cb18cf2f1006174012d43a5f87b5c0e,f69ac60b0cb18cf2f1006174012d43a5f87b5c0e,"Limit file descriptors passed to child process

Instead of passing the file descriptor to the child, and have the child close it, we set FD_CLOEXEC on the file descriptor in the parent process.

While it limits the window in which another thread can fork() and cause the file descriptor to be “leaked”, it doesn’t eliminate the problem."
sorbits,2013-03-10 15:04:47,https://api.github.com/repos/textmate/textmate/git/commits/13edc6d131e12de15eca595144339552326ecdf3,13edc6d131e12de15eca595144339552326ecdf3,"Use O_CLOEXEC when opening files

This avoids leaking file descriptors into child processes, which would otherwise happen if another thread forks while the file descriptor is open."
sorbits,2013-03-10 15:04:47,https://api.github.com/repos/textmate/textmate/git/commits/94e762422474d062505cb8de08c4054ea5438c22,94e762422474d062505cb8de08c4054ea5438c22,Setup git-dir and work-tree for git
sorbits,2013-03-10 15:04:47,https://api.github.com/repos/textmate/textmate/git/commits/742192bf01c7aa259e5e3ad8a405e8c93977d22d,742192bf01c7aa259e5e3ad8a405e8c93977d22d,Provide svn with path to repository
sorbits,2013-03-10 15:04:47,https://api.github.com/repos/textmate/textmate/git/commits/6b3dcc415fdd2df08b0818628c5b62f7dc5ca8d6,6b3dcc415fdd2df08b0818628c5b62f7dc5ca8d6,"Use --cwd when calling hg

This way we avoid changing the process’ working directory."
sorbits,2013-03-10 15:04:46,https://api.github.com/repos/textmate/textmate/git/commits/4dada34bdead2ccc2758ac82ace3140f8cfef5ae,4dada34bdead2ccc2758ac82ace3140f8cfef5ae,Make network tests concurrent
sorbits,2013-03-10 15:04:46,https://api.github.com/repos/textmate/textmate/git/commits/090a6ac698e8c1a1c18e27451eba473ebc1a99e5,090a6ac698e8c1a1c18e27451eba473ebc1a99e5,"Increase queue size for test (web) server

With concurrent tests and sequential handling of requests, the queue size is likely to grow to “number of concurrent tests”."
sorbits,2013-03-10 15:04:46,https://api.github.com/repos/textmate/textmate/git/commits/be65671e52d4116b958a75c04c0d43368452f836,be65671e52d4116b958a75c04c0d43368452f836,"Fix shell quoting for selected files

There would be a pair of redundant single quotes after each quoted path."
sorbits,2013-03-10 15:04:46,https://api.github.com/repos/textmate/textmate/git/commits/710e4ffad05cb998c1f224165e806b5b2e05b901,710e4ffad05cb998c1f224165e806b5b2e05b901,Remove unused tbz (download) filter
sorbits,2013-03-10 15:04:46,https://api.github.com/repos/textmate/textmate/git/commits/d92a4ee286366d9562b7de6360d0563e9ae8594d,d92a4ee286366d9562b7de6360d0563e9ae8594d,Range check for ⌘1-n should include ⌘0
sorbits,2013-03-08 12:39:48,https://api.github.com/repos/textmate/textmate/git/commits/59fb3bc1a9d81a71055a8354279f06e0444bf977,59fb3bc1a9d81a71055a8354279f06e0444bf977,The ⌘1-n keys wouldn’t always work in find dialog
sorbits,2013-03-10 13:32:48,https://api.github.com/repos/textmate/textmate/git/commits/53d1928b9d318b441ee8d44e28ecdbd267260a27,53d1928b9d318b441ee8d44e28ecdbd267260a27,"Update buffer tests

Mainly improving function names including appropriate prefix for benchmark functions so that they are picked up by the new test system."
sorbits,2013-03-10 11:53:05,https://api.github.com/repos/textmate/textmate/git/commits/e3e643468f0149422a22de92783d3c20e8952fdd,e3e643468f0149422a22de92783d3c20e8952fdd,Use constructor function instead of class
sorbits,2013-03-10 11:48:16,https://api.github.com/repos/textmate/textmate/git/commits/ca91ce58c6e305a18acd05e38124578761d08d2a,ca91ce58c6e305a18acd05e38124578761d08d2a,"Add options to generated test executable

The current options are:

 -b/--benchmark   Run benchmarks instead of tests.
 -m/--measure     Measure time of each test. This disables concurrency.
 -r/--repeat <n>  Number of times to repeat each test/benchmark.
 -v/--verbose     Be verbose.
 -h/--help        Show this help.
 -V/--version     Show version number."
sorbits,2013-03-08 14:34:29,https://api.github.com/repos/textmate/textmate/git/commits/99969996c5919b2a56c2fe7285da8a93f8816230,99969996c5919b2a56c2fe7285da8a93f8816230,Ensure test assertions are only evaluated once
infininight,2013-03-08 10:21:20,https://api.github.com/repos/textmate/textmate/git/commits/1cd3f313d7e233a32a9553e8ccbbe860f621e597,1cd3f313d7e233a32a9553e8ccbbe860f621e597,Remove lesser used icons to save space in download
sorbits,2013-03-07 22:13:48,https://api.github.com/repos/textmate/textmate/git/commits/ff0cd7013eb03008e4d384bfd451242774ae15d6,ff0cd7013eb03008e4d384bfd451242774ae15d6,Remove outdated comment
sorbits,2013-03-07 21:13:17,https://api.github.com/repos/textmate/textmate/git/commits/582b101b34db15c9665296caf3822d66f7ac7e4d,582b101b34db15c9665296caf3822d66f7ac7e4d,Checkin release notes
sorbits,2013-03-07 21:00:18,https://api.github.com/repos/textmate/textmate/git/commits/ee2c2b33fbe04f0c2bc8d8362b943ac839e44f11,ee2c2b33fbe04f0c2bc8d8362b943ac839e44f11,"Fix potential deadlock when opening find window

The Find object is assigned to a variable with (guarded) static storage, so the initializer of the Find object will run with a lock on the guarded variable, which turns out to be shared with all other guarded variables.

When setting up the window controller, from the Find object’s initializer, we create a “recent folders” menu which hold icons with SCM badges.

When creating these SCM icons, blocks are scheduled (asynchronously) to “fetch status”. These asynchronous blocks will need to lock the same mutex as we currently have locked (because we haven’t yet left the initializer).

The issue is that we also schedule synchronous blocks on the same queue, and that’s why we get a deadlock, because those can’t run before the asynchronous blocks have finished, yet those are waiting on the global lock that our main thread has currently obtained.

Fixes #874."
sorbits,2013-03-07 15:59:55,https://api.github.com/repos/textmate/textmate/git/commits/baade85a7ce98f93fb35e07258b4eeddd66602a6,baade85a7ce98f93fb35e07258b4eeddd66602a6,"Remove Edit → Find → Full Words menu item

This option isn’t implemented so better not confuse users by having it in the menu."
sclukey,2013-03-07 16:40:02,https://api.github.com/repos/textmate/textmate/git/commits/636c321e46283d1c5efc38fdd1e4050de73db4d0,636c321e46283d1c5efc38fdd1e4050de73db4d0,"Adjust scroll past end height logic

This will work properly with very long lines and soft wrap

Fixes #869."
sorbits,2013-03-07 15:31:07,https://api.github.com/repos/textmate/textmate/git/commits/d89321c4ba1a478a124e08ff052484159e3bd881,d89321c4ba1a478a124e08ff052484159e3bd881,Checkin release notes
sorbits,2013-03-07 15:14:49,https://api.github.com/repos/textmate/textmate/git/commits/14cfedb287f7bc680dbfcf64616581be927e0fdc,14cfedb287f7bc680dbfcf64616581be927e0fdc,"Implement Replace [and Find] bound to ⌥⌘G

Currently this is implemented in OakTextView which means that it doesn’t work for macros. Some refactoring is in order so that the implementation can be shared (lack of sharing has to do with how OakTextView reports status to Find dialog or via tool tips, and macros want none of that).

There is also no check to see if the current state of the editor is the result of a find operation, i.e. you can invoke “replace” regardless of wether or not “find” was the last action.

Finally, doing a multi-file search and using “find next” at the end of one document, which brings you to the first match of next document (part of the results), will not update “captures” from a potential regular expression search, meaning that if you then do “replace”, and your replacement string is a format string that references the match (via $1-n) then it will not be correctly expanded.

Closes #104."
sorbits,2013-03-07 14:53:10,https://api.github.com/repos/textmate/textmate/git/commits/5ad6d0c5c01ab3ac8d8d5a309504f91e530f74d2,5ad6d0c5c01ab3ac8d8d5a309504f91e530f74d2,Simplify implementation of OakTextViewFindServer
sorbits,2013-03-07 13:12:08,https://api.github.com/repos/textmate/textmate/git/commits/02f32977f22cfb0dbc76c80b83327fd701f56eb8,02f32977f22cfb0dbc76c80b83327fd701f56eb8,"Introduce Replace [and Find] in find protocol

Previously there was a single replace action and the options would indicate if it was a “replace all”, this mimics the “find” (which can be a “find all”) but since single match replacement is somewhat different than a “replace all”, as the former may need to know the captures from a previous find action, it makes sense to factor out these things as different actions."
sorbits,2013-03-06 21:10:39,https://api.github.com/repos/textmate/textmate/git/commits/599d903eb464efd8e46aa65cc8b0e29800711ca0,599d903eb464efd8e46aa65cc8b0e29800711ca0,ARC: Update Find framework
sorbits,2013-03-07 09:50:19,https://api.github.com/repos/textmate/textmate/git/commits/4a24d0ad5848a6c1bf069d6a84bee70e2a913ae9,4a24d0ad5848a6c1bf069d6a84bee70e2a913ae9,"Rework find dialog (part one)

This is work in progress but I don’t think any functionality is missing compared to previous commit, although some functionality might be less polished, e.g. the action buttons don’t properly enable/disable and the height of the results list gets lost when hiding it.

Some of the stuff that has changed / improved:

 * The find/replace text fields adjust their height to encompass the content (closes #94). Presently though the initial height of the ontrols is one line regardless of content (but they should adjust on first edit).
 * You can use Save All (⌥⌘S) to save affected files after Replace All (closes #558).
 * The key equivalents / actions available in the Find dialog is now easier to find via the action pop-up, which also has enables accessibility.
 * Using Next (⌘G) or Previous (⇧⌘G) with search results will move selection up/down.
 * Using Find All with ‘in’ set to ‘Selection’ will find and select all matches in the current document, which fixes #425, though it might be more desirable to show the results in the find dialog (like Find All does for a document or folder)."
sorbits,2013-03-05 15:42:22,https://api.github.com/repos/textmate/textmate/git/commits/e8cd0b0df7d39639ba7561f82d06f831738c5efd,e8cd0b0df7d39639ba7561f82d06f831738c5efd,"Reject bad folding meta data

Fixes issue #866."
sorbits,2013-03-05 15:13:02,https://api.github.com/repos/textmate/textmate/git/commits/840f0922c7a516c47277ef343d1c1646c5027e9a,840f0922c7a516c47277ef343d1c1646c5027e9a,"Assign ⌃⌘↩ to View → Enter / Exit Full Screen

Closes issue #860."
sorbits,2013-03-04 12:33:38,https://api.github.com/repos/textmate/textmate/git/commits/c459e0483f0feae4f5ce872f67b3be47e5a5bd1a,c459e0483f0feae4f5ce872f67b3be47e5a5bd1a,Remove compatibility check (10.5)
sorbits,2013-03-04 09:58:18,https://api.github.com/repos/textmate/textmate/git/commits/32d87857b98e3cf7687e149ac06a4efff7c69e92,32d87857b98e3cf7687e149ac06a4efff7c69e92,Checkin release notes
sorbits,2013-03-04 09:43:58,https://api.github.com/repos/textmate/textmate/git/commits/ae15687db445698d1f09ed0a6bf7cf828a4194fe,ae15687db445698d1f09ed0a6bf7cf828a4194fe,"Move focus to document when closing split with focus

This applies to file browser and HTML output (when configured to be shown in the document window).

Closes #838."
nanoant,2013-01-31 14:07:01,https://api.github.com/repos/textmate/textmate/git/commits/6ed3c93872b84efbd29483abab11b2583d7e2808,6ed3c93872b84efbd29483abab11b2583d7e2808,Lighter tab bar background for better readibility
sorbits,2013-03-03 22:19:34,https://api.github.com/repos/textmate/textmate/git/commits/699d0676b347900400ee0ed81317c77baa6aaed4,699d0676b347900400ee0ed81317c77baa6aaed4,"Add to undo stack when replacing after folder search

Fixes #536."
sorbits,2013-03-03 14:31:25,https://api.github.com/repos/textmate/textmate/git/commits/2f05d5aec53c8d2cd0ce4155314c80f90f8e7ef8,2f05d5aec53c8d2cd0ce4155314c80f90f8e7ef8,Improve VO for folder pop-up button
sorbits,2013-03-03 08:29:33,https://api.github.com/repos/textmate/textmate/git/commits/2c6504b82f459e2908dd402314f9dc1f4a2266cd,2c6504b82f459e2908dd402314f9dc1f4a2266cd,Use symbolic constants for binding properties
dusek,2013-03-02 15:26:41,https://api.github.com/repos/textmate/textmate/git/commits/5391d1d7b4ff2c58bd4f24f9f85e0571416204ba,5391d1d7b4ff2c58bd4f24f9f85e0571416204ba,Present the file browser area as a group to VoiceOver/accessibility
dusek,2013-03-02 15:27:10,https://api.github.com/repos/textmate/textmate/git/commits/f4e2de14f2c20c8f1ef84f3d8bb6308f9e565d31,f4e2de14f2c20c8f1ef84f3d8bb6308f9e565d31,"Present the document view as a group to VoiceOver/accessibility

This enables VoiceOver user to see the document view as a single
element and interact with it (i.e. inspect its subelements) only when
needed by using the VO-Shift-down shortcut (and stop interacting with
it using VO-Shift-up shortcut). This makes the element structure more
hierarchical where at the top level are only major user interface
components, so that it's easier for orientation. It also prevents
unrelated UI elements to be sequential as VoiceOver by default orders
elements by the visual order (top-down, left-right) rather then
the order in the AXChildren array. For example in this case,
the bottom status bar of the document window gets separated from
the bottom toolbar of the file browser, unlike the situation before
grouping when both bars were adjacent to the VoiceOver user."
dusek,2013-03-02 18:14:52,https://api.github.com/repos/textmate/textmate/git/commits/944e1e32fad2ee729b0156cd2906076789652a99,944e1e32fad2ee729b0156cd2906076789652a99,"Make macro recording an NSToggleButton

This fixes semantics of the button and thus also its
accessibility. The macro recording button represents state - more
specifically a boolean state, so it has to be a NSToggleButton (or
its specialization). Then the button is presented to the VoiceOver
user as an AXCheckbox - that is a checkbox with on and off value -
which is exactly what the button's function is. Examples of this in
system apps is e.g. the ""Play"" button in QuickTime Player, which is
also an AXCheckbox (""Pause"" is then simply an unchecked ""Play""
checkbox)."
dusek,2013-03-02 17:28:03,https://api.github.com/repos/textmate/textmate/git/commits/21c70057b47138d8080d99d1f761ec19280d6f66,21c70057b47138d8080d99d1f761ec19280d6f66,"Fix initial accessibility of symbol pop-up

VoiceOver reads an AXValue for a pop-up button - that is the selected
item. But button's title does not set an AXValue, as it probably is
not a menu item. So change the code set to the title by setting a
single menu item with that title.

This fixes accessibility of the pop-up when accessing its value before
it is first popped up. It makes the code consistent with setGrammarName:
which works fine (that's how I discovered how to fix it)."
dusek,2013-03-02 17:20:21,https://api.github.com/repos/textmate/textmate/git/commits/baf28392994ac2be75417dc68bc46d739f26850a,baf28392994ac2be75417dc68bc46d739f26850a,Add AXDescription to pop-ups to tell about their purpose
dusek,2013-03-02 18:16:00,https://api.github.com/repos/textmate/textmate/git/commits/c3f57b02352b0a2fde975a295dee13901271f28c,c3f57b02352b0a2fde975a295dee13901271f28c,Add AXDescription to image buttons
sclukey,2013-02-24 06:35:10,https://api.github.com/repos/textmate/textmate/git/commits/7892eac2d42521c2ccdea24dc30e135725a5dd4f,7892eac2d42521c2ccdea24dc30e135725a5dd4f,"Add “scroll past end” option to the View menu

When enabled the height of the document is increased by the height of the view port, which means the last lines of the document are not anchored to the bottom of the view port but can e.g. be centered.

Closes #513."
sorbits,2013-03-02 10:26:30,https://api.github.com/repos/textmate/textmate/git/commits/4e3d31e09c41b489d5bd698c37b7a2c03b8b86fd,4e3d31e09c41b489d5bd698c37b7a2c03b8b86fd,"Improve heuristic for swipe gestures

We now try to find a scrollable view under the mouse, and if any scrolling was done, we reject the gesture as a “go back/forward” event.

Additionally we reject gestures with a duration of more than 0.2 seconds.

Maybe fixes #854."
sorbits,2013-03-02 08:26:20,https://api.github.com/repos/textmate/textmate/git/commits/f7f3fc36385ca98786d11f98ed57cd4c8a0b78bd,f7f3fc36385ca98786d11f98ed57cd4c8a0b78bd,"Copy incremental search string

Fixed #631 (again)."
sorbits,2013-03-01 21:03:58,https://api.github.com/repos/textmate/textmate/git/commits/e8efb3638d94225c21393f420c753919a407a793,e8efb3638d94225c21393f420c753919a407a793,"Fix Go → Current Document with no project folder

We were creating an NSURL from the project folder which would throw an exception when the project folder was nil."
sorbits,2013-03-01 15:40:50,https://api.github.com/repos/textmate/textmate/git/commits/6042bc86d6a683b33a09a6dc8e0773c30da0f4d3,6042bc86d6a683b33a09a6dc8e0773c30da0f4d3,"Log current key event in diagnostic reports

When a C++ exception is thrown from code invoked via a menu item then the menu item dispatcher will catch the exception and abort, this means the report doesn’t show the actual exception or contain any of the involved code.

By logging the key event in the report we should be able to deduce what action was invoked.

Adding info to diagnostic reports “documentation” from http://mjtsai.com/blog/2013/02/27/application-specific-crash-report-information/"
sorbits,2013-03-01 15:30:10,https://api.github.com/repos/textmate/textmate/git/commits/687d0ee9e44500da68e3cb6b1142fb76d8b95b62,687d0ee9e44500da68e3cb6b1142fb76d8b95b62,"Ensure we use /usr/bin/mktemp

It appears some variants of mktemp require the template parameter to contain a minimum number of X’es."
sorbits,2013-02-27 20:05:09,https://api.github.com/repos/textmate/textmate/git/commits/5e6cfe8e1ef990d24100c4859c25948d37c8ee04,5e6cfe8e1ef990d24100c4859c25948d37c8ee04,The 10th tab now get ⌘0 as key equivalent
sorbits,2013-02-27 12:42:23,https://api.github.com/repos/textmate/textmate/git/commits/1f4eecbab75774787445659ad8627211b287daa9,1f4eecbab75774787445659ad8627211b287daa9,"Always use system default ruby 1.8

Maybe fixes #845."
sorbits,2013-02-25 20:07:53,https://api.github.com/repos/textmate/textmate/git/commits/f58a92885d8f739f8aa8dfc4a9932167cc097fe1,f58a92885d8f739f8aa8dfc4a9932167cc097fe1,"Add titles to all help pages

Note that the documentation is a bit outdated as it hasn’t been touched since the first public alpha — updated documentation will appear when closer to final release, in the meantime interested parties should watch the release notes, wiki, and mailing list.

Closes #822."
sorbits,2013-02-25 14:35:55,https://api.github.com/repos/textmate/textmate/git/commits/b234f19fb4f27ee1fdb6beb3aa37a949a79f0690,b234f19fb4f27ee1fdb6beb3aa37a949a79f0690,Checkin release notes
sorbits,2013-02-25 14:25:19,https://api.github.com/repos/textmate/textmate/git/commits/57c2aeda47db9612f42bcd335e42b6178b1098a2,57c2aeda47db9612f42bcd335e42b6178b1098a2,"Use libdispatch for monitoring file changes

This is instead of using kqueue, which has more overhead and require a dedicated thread for the kevent run-loop."
sorbits,2013-02-25 14:25:18,https://api.github.com/repos/textmate/textmate/git/commits/bd5b105a44e69f6bc183092a6279e332cdde1a58,bd5b105a44e69f6bc183092a6279e332cdde1a58,"Only set -fobjc-link-runtime for app targets

Ideally this should be set for executable targets that use Objective-C (and have deployment target set to 10.7).

This change is a quick fix for not having pure C++ tests leak. For more info see https://github.com/sorbits/rdar/blob/master/LeakWith10_7ObjCRunTime/README.md"
sorbits,2013-02-25 14:25:18,https://api.github.com/repos/textmate/textmate/git/commits/ccf63ae2064730bc8682402568e444e6d5fb148c,ccf63ae2064730bc8682402568e444e6d5fb148c,"Use proper PCH for tests

We previously passed an array to ‘pch_for’ where we should have passed a source path, though it appear to have worked."
sorbits,2013-02-25 14:25:18,https://api.github.com/repos/textmate/textmate/git/commits/7de06dc9f491f94a692cb7677c5dfdb401e208d4,7de06dc9f491f94a692cb7677c5dfdb401e208d4,"Changing default bundle item settings could fail

The cache would not include changes to settings keys from delta bundles."
sorbits,2013-02-25 14:25:18,https://api.github.com/repos/textmate/textmate/git/commits/ea5d7d3af9cdb5cf15e6e60d3ff79fab1f026796,ea5d7d3af9cdb5cf15e6e60d3ff79fab1f026796,"Use weak pointers in most async dispatch blocks

This is mainly to expedite potential destruction of the objects referenced."
sorbits,2013-02-25 14:25:18,https://api.github.com/repos/textmate/textmate/git/commits/3859e25429587b21d5db08a4fe48832bd52b011d,3859e25429587b21d5db08a4fe48832bd52b011d,"Disallow copying scm::info_t

Presently not supported."
sorbits,2013-02-25 14:25:18,https://api.github.com/repos/textmate/textmate/git/commits/e091bdb2f06e85faa209563395f7fc6e743b4528,e091bdb2f06e85faa209563395f7fc6e743b4528,Use const for member data initialized by constructor
sorbits,2013-02-25 14:25:17,https://api.github.com/repos/textmate/textmate/git/commits/eb893105e48f28892abb4516d086a6c606e5a20b,eb893105e48f28892abb4516d086a6c606e5a20b,"Disallow copying test::jail_t

Since we delete the jailed directory in the destructor we can’t support a deep copy of this type. Since we don’t need it, and it’s just a type used in tests, I opted for simply disabling this (to get a compiler error, should it be attempted) rather than introduce the necessary code to allow shallow copies."
sorbits,2013-02-25 14:25:17,https://api.github.com/repos/textmate/textmate/git/commits/38be7f56dba939560de5e73ed306d5bd43a72192,38be7f56dba939560de5e73ed306d5bd43a72192,"Add scm::info_t::pop_callback

Ideally we would be able to remove arbitrary callbacks rather than the last one added, but for this we would need to introduce some sort of handle (the callback itself is a block so not suitable as handle). The push/pop API for callbacks is sufficient for our use-case though."
sorbits,2013-02-25 14:25:17,https://api.github.com/repos/textmate/textmate/git/commits/c4323efbb7e51c484c32bd81f552f895e2dc030a,c4323efbb7e51c484c32bd81f552f895e2dc030a,Use path::is_child instead of custom code
sorbits,2013-02-25 14:25:17,https://api.github.com/repos/textmate/textmate/git/commits/6d6c3e4de6cb43ed8f3693e24adc5e87115ff203,6d6c3e4de6cb43ed8f3693e24adc5e87115ff203,Use path::is_absolute instead of custom code
sorbits,2013-02-25 14:25:17,https://api.github.com/repos/textmate/textmate/git/commits/a3ec25891212c2ff23f3684af1d82d6bd8ff3faa,a3ec25891212c2ff23f3684af1d82d6bd8ff3faa,Update settings tests to new system
sorbits,2013-02-23 10:05:55,https://api.github.com/repos/textmate/textmate/git/commits/10ebd31ad981675982658ed11183d2ffc5182f78,10ebd31ad981675982658ed11183d2ffc5182f78,"Let SCM tests use same executable as driver

The was previously only done for the svn tests and the code had some flaws, like modifying the PATH environment variable."
sorbits,2013-02-23 10:02:10,https://api.github.com/repos/textmate/textmate/git/commits/b4ee927fdf96579a1d5b6de99ca10272a743f624,b4ee927fdf96579a1d5b6de99ca10272a743f624,"Expose scm::find_executable (for testing)

This is so that tests can use the exact same executable to create the repository, as is used to obtain status (svn repositories created with newer executables are often not backwards compatible)."
sorbits,2013-02-23 08:28:19,https://api.github.com/repos/textmate/textmate/git/commits/a6e99c1853cf1d05301a2e8496589024c7617a5c,a6e99c1853cf1d05301a2e8496589024c7617a5c,"Don’t call super in main menu key equivalent handler

It was calling super to keep our custom code to a minimum, but it turns out that the superclass will sometimes invoke bundle menu items even when items from the other menus are better candidates.

Partially reverts 4b0a9a08c7cea550cf83e48d2471770e6b1fefb2."
sorbits,2013-02-23 08:23:09,https://api.github.com/repos/textmate/textmate/git/commits/b9ebb6068fc399a44f93c6a2150ceb31bdfb3e0d,b9ebb6068fc399a44f93c6a2150ceb31bdfb3e0d,"Remove unused private field

Basically to avoid a clang warning."
sorbits,2013-02-23 08:22:25,https://api.github.com/repos/textmate/textmate/git/commits/b718106ff88c2ae2b5bd6881a5e3e4c9ec11d139,b718106ff88c2ae2b5bd6881a5e3e4c9ec11d139,"Make semi-internal API private

This was previously public so that we could write tests for it, but since the test runner is linked with the object files, it can access symbols that has visibility set to hidden."
sorbits,2013-02-23 08:19:18,https://api.github.com/repos/textmate/textmate/git/commits/2f3cd66a2bb72e4675732e2eda863273f2309809,2f3cd66a2bb72e4675732e2eda863273f2309809,"Support relative includes in tests

Since we inline the test file, rather than include it, relative includes from this inlined code would not work."
infininight,2013-02-23 00:14:00,https://api.github.com/repos/textmate/textmate/git/commits/a05b1dca2e682ef7f0f49f5745e1f01c634eee3c,a05b1dca2e682ef7f0f49f5745e1f01c634eee3c,"Use integrated graphics on laptops

Before using the 'Open…' dialog caused the discreet graphics chip to be enabled until TextMate exited. Setting this flag tells the OS that we want and are able to use the integrated graphics to conserve the battery. Detailed in Apple Technical Q&A QA1734:

http://developer.apple.com/library/mac/#qa/qa1734/"
sorbits,2013-02-22 17:23:10,https://api.github.com/repos/textmate/textmate/git/commits/facfe2d6f28d3d12c6211c34fdf09939dbbf3c5f,facfe2d6f28d3d12c6211c34fdf09939dbbf3c5f,Checkin release notes
sorbits,2013-02-22 17:15:11,https://api.github.com/repos/textmate/textmate/git/commits/104ed0e3257ad500bb01c10288c9369445a0042c,104ed0e3257ad500bb01c10288c9369445a0042c,"Treat ‘nil’ as empty string

With bindings, clearing a text field results in its value being set to nil."
sorbits,2013-02-22 16:59:42,https://api.github.com/repos/textmate/textmate/git/commits/ca0c72e0c095f04c0de96ee9fcac920c3fa94e9d,ca0c72e0c095f04c0de96ee9fcac920c3fa94e9d,"Fix potential retain loop via document SCM callback

If we closed a window with a document SCM callback for the current document, but that document was untitled (so it wouldn’t be cleared during shutdown), we would keep ‘self’ retained."
sorbits,2013-02-22 15:07:35,https://api.github.com/repos/textmate/textmate/git/commits/e033b7031f899a4839881bae5bc83f893fd41f3f,e033b7031f899a4839881bae5bc83f893fd41f3f,"Avoid non-POD static data in thread

The issue here is that the thread can outlive the data."
sorbits,2013-02-22 14:55:28,https://api.github.com/repos/textmate/textmate/git/commits/cd2b0882f02689597f624d98549f87c16b557651,cd2b0882f02689597f624d98549f87c16b557651,Use new test system for a few frameworks
sorbits,2013-02-22 14:52:53,https://api.github.com/repos/textmate/textmate/git/commits/9ebcfcbd7952985ffc8cf528e70dcfba7ffce9d4,9ebcfcbd7952985ffc8cf528e70dcfba7ffce9d4,"Support to_s for most integer types

Here “most” refers to signed and unsigned 16, 32, and 64 bit integers."
sorbits,2013-02-22 14:51:51,https://api.github.com/repos/textmate/textmate/git/commits/972348687c57f50b1b46a5ab50633e5fb3dd7b98,972348687c57f50b1b46a5ab50633e5fb3dd7b98,"Make fs-events wrapper thread safe

Previously this wasn’t used from multiple threads, but with the new testing system it can be."
sorbits,2013-02-22 14:51:03,https://api.github.com/repos/textmate/textmate/git/commits/8041b71d98b24c80daa1d9e04a16a2c01b7d4deb,8041b71d98b24c80daa1d9e04a16a2c01b7d4deb,fixup! Exclude file browser width from new windows’ width
sorbits,2013-02-22 14:50:37,https://api.github.com/repos/textmate/textmate/git/commits/455ecafdb58efb043fb43bbe0e16fd74ac614ae5,455ecafdb58efb043fb43bbe0e16fd74ac614ae5,Make debug logging thread safe
sorbits,2013-02-21 21:38:06,https://api.github.com/repos/textmate/textmate/git/commits/39d568e146874a98fe72a74cd9bcdd0296f2078b,39d568e146874a98fe72a74cd9bcdd0296f2078b,"Rework items and key equivalents in File menu

Adding New File / Folder and Close All Tabs to the menu."
sorbits,2013-02-21 21:36:23,https://api.github.com/repos/textmate/textmate/git/commits/7c8ad2df66ffc921022e9ba95dfc7db42f4fed56,7c8ad2df66ffc921022e9ba95dfc7db42f4fed56,"Show key equivalents in file browser action menu

Also change New Document → New File. Such title makes more sense when shown in the main menu."
sorbits,2013-02-21 21:08:52,https://api.github.com/repos/textmate/textmate/git/commits/e974f165a2cede20d242ee0b6bf112e6df98970a,e974f165a2cede20d242ee0b6bf112e6df98970a,Add newFolder: forwarding to document controller
sorbits,2013-02-21 21:00:15,https://api.github.com/repos/textmate/textmate/git/commits/5e24b8554c82d027d1be203af4f9584ae5533020,5e24b8554c82d027d1be203af4f9584ae5533020,"Remove ‘InSelectedFolder’ suffix from action method

This makes it more suitable as action for a menu item in the File menu."
sorbits,2013-02-21 20:52:12,https://api.github.com/repos/textmate/textmate/git/commits/1f0a558adc8d0f057df4ff7069abe975229ce40d,1f0a558adc8d0f057df4ff7069abe975229ce40d,"Add performCloseAllTabs: action method

Closes #808."
sorbits,2013-02-21 20:46:32,https://api.github.com/repos/textmate/textmate/git/commits/2190b14ee2de331ac95300d7985ffa36a3d465db,2190b14ee2de331ac95300d7985ffa36a3d465db,Disable swipes if not at min/max X
sorbits,2013-02-21 16:38:09,https://api.github.com/repos/textmate/textmate/git/commits/cbb0a7864de5d87c95833bc2069e4b5c1f6d629b,cbb0a7864de5d87c95833bc2069e4b5c1f6d629b,Drop ‘ng’ namespace for scm
sorbits,2013-02-21 16:01:24,https://api.github.com/repos/textmate/textmate/git/commits/af4f1e16a1ba9385e0bbf2c4139ef81d12eb7d37,af4f1e16a1ba9385e0bbf2c4139ef81d12eb7d37,Remove old SCM API
sorbits,2013-02-21 15:58:22,https://api.github.com/repos/textmate/textmate/git/commits/c3e9fafb2de680d65e2d4be0e395e0549aa4a024,c3e9fafb2de680d65e2d4be0e395e0549aa4a024,"Include scm.h instead of scm_ng.h

Since scm.h includes scm_ng.h this is effectively the same."
sorbits,2013-02-21 15:54:00,https://api.github.com/repos/textmate/textmate/git/commits/3f4f09dcd8784bf9f2ee637ef94d5187ef3b0e88,3f4f09dcd8784bf9f2ee637ef94d5187ef3b0e88,"Update SCM tests to new API

This is both the new test system and the new (non-blocking) SCM API."
sorbits,2013-02-21 15:52:22,https://api.github.com/repos/textmate/textmate/git/commits/15f922a1483995800cd7cc18ae95ca6a58883c30,15f922a1483995800cd7cc18ae95ca6a58883c30,"Let to_s(fs::snapshot_t) return std::string

Previously it would dump the datatype to stderr."
sorbits,2013-02-21 15:43:43,https://api.github.com/repos/textmate/textmate/git/commits/8e0e35bf3b091a32da8bb36a05112282765ed6d7,8e0e35bf3b091a32da8bb36a05112282765ed6d7,"Add API to wait for SCM status

This is only meant for tests where we wish to block execution until SCM status has been collected."
sorbits,2013-02-21 15:39:26,https://api.github.com/repos/textmate/textmate/git/commits/e2ee734fd64871a496f5f7b966443db0c23db7d3,e2ee734fd64871a496f5f7b966443db0c23db7d3,"SCM background workers enabled by default

Normally we enable these on application launch when we receive an ‘application did become active’ notification, for tests though, this notification is lacking, but we do want it enabled for tests, and while we could do a constructor in the tests to enable it, it seems better to just enable it by default.

One issue is that if TextMate is launched “in the background” then it will still do SCM status gathering. Though long-term I may actually want to always have it enabled, even when TextMate is not active."
sorbits,2013-02-21 14:30:31,https://api.github.com/repos/textmate/textmate/git/commits/01417054cb98f199aaa2b8e3bcab6086c8753f8b,01417054cb98f199aaa2b8e3bcab6086c8753f8b,"Add test system supporting grand central dispatch

The motivation for introducing a new test generator is that CxxTest cannot be used with tests that (indirectly) schedule code to run in the main queue.

There are a few other advantages of breaking with CxxTest:

 1. Less boilerplate: A test file need only contain a
    function named with a ‘test_’ prefix. No classes,
    inheritance, or similar. If you need fixtures, use the
    multitude of ways that C/C++ allows that (constructor
    functions or non-POD types with static storage).

 2. Concurrent tests: Test functions are scheduled with
    ‘dispatch_apply’ and will thus run concurrently. If
    you need serial execution you can wrap your tests in a
    block and schedule that to run in the main queue.
    Though you should catch exceptions and re-throw these
    in the test’s original queue, as the test assertions
    are using exceptions.

 3. Easier output of custom types: The assertion macros
    will call ‘to_s’ on the arguments given, so the only
    thing required to make these output nicely is to
    provide a ‘to_s’ overload for your custom type /
    enumeration. I know that the standard way to do this
    is overloading operator<< for a stream, but the
    TextMate code-base already uses the ‘to_s’
    convention.

Long-term I can see a few other advantages, like calling preprocessor on the input files to support #if/#else/#endif to disable tests, better support for Cocoa code (NSRunLoop), and introducing test timeouts."
sorbits,2013-02-20 17:08:24,https://api.github.com/repos/textmate/textmate/git/commits/acd3bdf2347d1962fea438dc041f67b1658a29a1,acd3bdf2347d1962fea438dc041f67b1658a29a1,"Convert leading em-spaces in symbol menu to item indent

By using the menu item’s indentation level property it is possible to “type to select” items, which previously would not work for items that had leading em-space as a prefix.

Closes #806."
sorbits,2013-02-20 12:04:20,https://api.github.com/repos/textmate/textmate/git/commits/7a45f6949ad6b3e027641340b47283410cfe611b,7a45f6949ad6b3e027641340b47283410cfe611b,"Don’t use NSFileManager to trash symlinks

NSFileManager will resolve the link and move the original file to trash, which is generally not desired (or expected)."
sorbits,2013-02-20 11:54:52,https://api.github.com/repos/textmate/textmate/git/commits/a7c33be67edaaa3766fe972fee371c58b82a76db,a7c33be67edaaa3766fe972fee371c58b82a76db,"Remove cf::color_t

This wrapper is no longer used."
sorbits,2013-02-20 11:52:39,https://api.github.com/repos/textmate/textmate/git/commits/4bae908d49e06b7a946adb85f21e65f01b0dff93,4bae908d49e06b7a946adb85f21e65f01b0dff93,"Move CGColorRef helper functions

These only have one user, so let’s make them private helper functions instead."
sorbits,2013-02-19 20:54:47,https://api.github.com/repos/textmate/textmate/git/commits/0d8ccd17f0dfaacaa1ddb6ae142f5e2fca461119,0d8ccd17f0dfaacaa1ddb6ae142f5e2fca461119,"Exclude file browser width from new windows’ width

Closes #679."
sorbits,2013-02-19 20:13:53,https://api.github.com/repos/textmate/textmate/git/commits/0bf5a85a1cbb9c4b83a707adc8a77a0cb229d1c5,0bf5a85a1cbb9c4b83a707adc8a77a0cb229d1c5,"Resize window when toggling file browser

If you dislike this it can be disabled using:

    defaults write com.macromates.TextMate.preview disableFileBrowserWindowResize -bool YES"
infininight,2013-02-19 02:46:55,https://api.github.com/repos/textmate/textmate/git/commits/40f728ff8f71bfdba75aac93060cb9ef86e7f4cd,40f728ff8f71bfdba75aac93060cb9ef86e7f4cd,"Correct height of header when tabs above document is enabled

Previously this appeared correct because once you clicked the minimum height of the pop-up menu set it to the correct height. Corrects an issue noted by @fatiotus in #728."
sorbits,2013-02-18 20:54:47,https://api.github.com/repos/textmate/textmate/git/commits/6c48d1d9d7ce566873396db64f600ad195066bd1,6c48d1d9d7ce566873396db64f600ad195066bd1,"Always set variable for commands with requirements

Previously we would only set the variable if the command couldn’t be found via PATH. By always setting the variable, we remove redundancy from commands, as they can now rely on the variable instead of needing fallback code (to load via PATH).

The downside is that there are cases where a command may wish to know if the user explicitly set the variable, for example the Run command for Python will ignore the script’s shebang if the user explicitly set TM_PYTHON. As this command doesn’t use the requirement system, it’s not an actual problem. Should it want to specify the requirement, it can do so by using a variable like TM_PYTHON_AUTO and then in the locations array, set TM_PYTHON, this would allow the command to test if TM_PYTHON is set and if not, still have ‘python’ available via the TM_PYTHON_AUTO variable — although, should python not be found, the error dialog will tell the user to set TM_PYTHON_AUTO.

Issue #767"
sorbits,2013-02-18 15:18:16,https://api.github.com/repos/textmate/textmate/git/commits/4d32aa7d9ff06590877cbb6836e647a9908f9efa,4d32aa7d9ff06590877cbb6836e647a9908f9efa,Checkin release notes
sorbits,2013-02-18 15:11:12,https://api.github.com/repos/textmate/textmate/git/commits/a1b9c305dad54e2332e9cc4669b186fc1ea0c64b,a1b9c305dad54e2332e9cc4669b186fc1ea0c64b,Move version knowledge outside upload script
sorbits,2013-02-18 14:32:22,https://api.github.com/repos/textmate/textmate/git/commits/593dddfed693cc90c5658c1d46db4485b61addb8,593dddfed693cc90c5658c1d46db4485b61addb8,"Add line, type, and display name flags to rmate"
sorbits,2013-02-18 14:34:32,https://api.github.com/repos/textmate/textmate/git/commits/06b60dc04efa69469f8de9a32d791cec9a55c276,06b60dc04efa69469f8de9a32d791cec9a55c276,"Show colorSpaceName entry in bundle editor

Also add this to the template for new themes (set to sRGB) and a default semantic class."
sorbits,2013-02-18 14:34:32,https://api.github.com/repos/textmate/textmate/git/commits/d70ccc7cdf4750eed00672cff77ddf23f4e96251,d70ccc7cdf4750eed00672cff77ddf23f4e96251,"Allow theme colors to use the sRGB color profile

This is enabled by adding the following to your theme:

    colorSpaceName = sRGB;

The default color space used for themes is “Apple Generic RGB” which is a bad choice for interoperability with other software (e.g. exporting a theme to CSS, creating theme colors in Photoshop, and similar).

Related to issue #768."
sorbits,2013-02-18 14:34:32,https://api.github.com/repos/textmate/textmate/git/commits/08534e737f2c8e00146527f4a9bdd53f6582d394,08534e737f2c8e00146527f4a9bdd53f6582d394,Change gutter colors to CGColorRef
sorbits,2013-02-18 14:34:32,https://api.github.com/repos/textmate/textmate/git/commits/77f53c3e3e47cd7029fe49c29a30f4412c1d4a80,77f53c3e3e47cd7029fe49c29a30f4412c1d4a80,Use a const reference for gutter colors
sorbits,2013-02-18 14:34:31,https://api.github.com/repos/textmate/textmate/git/commits/75f3a0bfa22dc9027afaca1a81c8526ed5dc6146,75f3a0bfa22dc9027afaca1a81c8526ed5dc6146,Add cf::to_s for CGColorRef
sorbits,2013-02-18 14:34:31,https://api.github.com/repos/textmate/textmate/git/commits/deeff330ee6db7f55701bd4932dbd8c03fe96579,deeff330ee6db7f55701bd4932dbd8c03fe96579,"Change cf::color_t → CGColorRef

This change is required to introduce support for different color profiles."
sorbits,2013-02-18 14:34:31,https://api.github.com/repos/textmate/textmate/git/commits/461756bc0939fdcac23bb6d61e4f1296c8d3fb66,461756bc0939fdcac23bb6d61e4f1296c8d3fb66,Avoid typecasts
sorbits,2013-02-18 14:34:31,https://api.github.com/repos/textmate/textmate/git/commits/274a658f6f81394ae4d76ace274cbd4ac102acc2,274a658f6f81394ae4d76ace274cbd4ac102acc2,"Make encoding “hex view” wider

Since switching to Menlo the lines were being wrapped."
sorbits,2013-02-18 14:34:31,https://api.github.com/repos/textmate/textmate/git/commits/d2035f1a792fdafa053f5159839c27dad27d8246,d2035f1a792fdafa053f5159839c27dad27d8246,Remove commented code
sorbits,2013-02-18 14:34:31,https://api.github.com/repos/textmate/textmate/git/commits/248c9efd037ebb9eca8133386fd3fcd575e11f44,248c9efd037ebb9eca8133386fd3fcd575e11f44,"Use CGColorRef instead of cf::color_t

This is mainly to encapsulate cf::color_t creation in the theme framework, though this code change is at worst a run-time optimization."
sorbits,2013-02-18 14:34:30,https://api.github.com/repos/textmate/textmate/git/commits/22b00f284898cf7b627e30d02075d7407e045595,22b00f284898cf7b627e30d02075d7407e045595,Remove unused ‘textColor’ parameter
sorbits,2013-02-18 14:34:30,https://api.github.com/repos/textmate/textmate/git/commits/01f39b77a60ac18509d4c7fc21b6a51d12d62319,01f39b77a60ac18509d4c7fc21b6a51d12d62319,HTML view status bar divider now match the others
sorbits,2013-02-18 14:34:30,https://api.github.com/repos/textmate/textmate/git/commits/c26a61a7497c344a6d13d5da973992fc4e70facb,c26a61a7497c344a6d13d5da973992fc4e70facb,"Remove “grammar changed” callback

This would cause a crash if grammar changed on disk for a document which was closed but not disposed."
sorbits,2013-02-18 14:34:30,https://api.github.com/repos/textmate/textmate/git/commits/63beedc6f4f71f60868d8321a860d80e23a949da,63beedc6f4f71f60868d8321a860d80e23a949da,"Handle ⌥⌘⇠ / ⌥⌘⇢ in main menu subclass

This means they work (as alternatives for ⌘[ / ⌘]) in all windows with tabs.

We now also trigger menu-flashing for when pressing the keys."
sorbits,2013-02-18 14:34:30,https://api.github.com/repos/textmate/textmate/git/commits/f0523c3b436bd5cc004f99c24e01f25ee47352d1,f0523c3b436bd5cc004f99c24e01f25ee47352d1,"Only update Go To Tab on ⌘1-n

It’s expensive to update this menu since we use (uncached) file icons. Always updating it had a noticeable performance effect on caret movement."
sorbits,2013-02-18 14:34:29,https://api.github.com/repos/textmate/textmate/git/commits/72e54020e645700efb2db12113c683d2284027e3,72e54020e645700efb2db12113c683d2284027e3,Add menu validation for Select Next / Previous Tab
sorbits,2013-02-18 14:34:29,https://api.github.com/repos/textmate/textmate/git/commits/e62ef9cf6d131e4382e6ea42fc865645bff75997,e62ef9cf6d131e4382e6ea42fc865645bff75997,"Re-use file icon image

These are expensive to create and it was noticeable when lots of files matched and the menu had to be created (as it would when the user press a potential menu key like ⌘W)."
sorbits,2013-02-18 14:34:29,https://api.github.com/repos/textmate/textmate/git/commits/81f8cc4e29e5514ecf0ca3d04df7ff202b421f91,81f8cc4e29e5514ecf0ca3d04df7ff202b421f91,"Use current indent for lines matching the “ignore” pattern

This is only when explicitly asking TextMate to indent the current line / selection.

Previously these lines would remain at their current indent, this is useful for preprocessor commands, but majority of ignored lines should use current indent. It might be useful to introduce a new pattern for “zero indent” lines."
sorbits,2013-02-18 14:34:29,https://api.github.com/repos/textmate/textmate/git/commits/0277e82b5c6e214f3c8177b5099e09b5dda18ec1,0277e82b5c6e214f3c8177b5099e09b5dda18ec1,"Ensure proper ‘isDirectory’ flag for NSURL objects

This is important when we wish to select or edit the URL (in the file browser) as URLs with different values for this flag will not compare as equal, and URL objects created before there is a file on disk will always have this flag set to NO."
sorbits,2013-02-18 14:34:29,https://api.github.com/repos/textmate/textmate/git/commits/e530c3c501d039316f36d8802546a249bb1ecd70,e530c3c501d039316f36d8802546a249bb1ecd70,"Update dialog plug-ins

This fixes result of menu command which would previously be thrown off by non-selectable items."
sorbits,2013-02-16 09:36:13,https://api.github.com/repos/textmate/textmate/git/commits/c0afcb9e03e299b28d8715d07691060900941f2b,c0afcb9e03e299b28d8715d07691060900941f2b,Checkin release notes
sorbits,2013-02-16 09:31:54,https://api.github.com/repos/textmate/textmate/git/commits/66350b64920c0e750c6f5fec86504d369c54fc1e,66350b64920c0e750c6f5fec86504d369c54fc1e,"Remove ‘after_bump’ phony rule

Turns out a phony rule in ninja isn’t exactly the same as an alias. When the file the phony rule is supposed to be an alias of already exist when calling ‘ninja’ then rules depending on the alias are not considered out-of-date even if the aliased file is of newer date.

Build rules that previously depended on ‘after_bump’ should instead depend on ‘builddir/revision.$APP_REVISION’."
sorbits,2013-02-16 09:20:58,https://api.github.com/repos/textmate/textmate/git/commits/95b4055772ad834238aeb41bd16f1847232e326a,95b4055772ad834238aeb41bd16f1847232e326a,"Fix debug output

Also add leak-watching to OakTextView."
sorbits,2013-02-16 09:18:39,https://api.github.com/repos/textmate/textmate/git/commits/d127483dcc07c3746395a42c1488915233771595,d127483dcc07c3746395a42c1488915233771595,"Fix retain cycles

Fixes #794"
sorbits,2013-02-16 09:17:49,https://api.github.com/repos/textmate/textmate/git/commits/61577ff582b1136d55186393c2ce2137a1d1e9aa,61577ff582b1136d55186393c2ce2137a1d1e9aa,"Fix SCM callback crash

Since we retained the SCM info in an asynchronous block, we would potentially extend the lifetime of the SCM info and thus the associated callback, so the callback could be invoked after its owner had been disposed."
sorbits,2013-02-16 09:16:16,https://api.github.com/repos/textmate/textmate/git/commits/f3bf828b1517791e098894a180cb34857ee90866,f3bf828b1517791e098894a180cb34857ee90866,Edit → Select → None would crash with no file browser
sorbits,2013-02-15 14:57:20,https://api.github.com/repos/textmate/textmate/git/commits/e792c31698511e5804ac8bef56fa52ef34a7655d,e792c31698511e5804ac8bef56fa52ef34a7655d,Checkin release notes
sorbits,2013-02-15 14:27:57,https://api.github.com/repos/textmate/textmate/git/commits/c031557df24afcc379b6bef31504c0ac8e02aa1a,c031557df24afcc379b6bef31504c0ac8e02aa1a,"Add ‘New Document’ to file browser

This create a new file on disk and brings up the “rename” text field.

You can control the type/extension either in Preferences → New document type or by setting it in .tm_properties, e.g.:

    [ attr.untitled ]
    fileType = 'source.objc++'

New Document can be undone, but it is handled by deleting the file on disk and losing potential edits you have made since creating it.

Closes #161."
sorbits,2013-02-15 14:27:57,https://api.github.com/repos/textmate/textmate/git/commits/52ba0cb5c28fb8bf7544b99ec6c3783094beb47c,52ba0cb5c28fb8bf7544b99ec6c3783094beb47c,Add file manager support for ‘new file’
sorbits,2013-02-15 14:27:56,https://api.github.com/repos/textmate/textmate/git/commits/873b9e8ced0d31b991ce66b51d709fdb41ba1287,873b9e8ced0d31b991ce66b51d709fdb41ba1287,"Introduce TM_PROPERTIES_PATH

This will be a colon-separated list of the .tm_properties files sourced for the current context. Mainly for debug purposes but could be used for an “Edit Properties…” command that show existing files (without having to scan the disk)."
sorbits,2013-02-15 14:27:56,https://api.github.com/repos/textmate/textmate/git/commits/9637ca051f3663a15155c22db05b093102f511d9,9637ca051f3663a15155c22db05b093102f511d9,"Only set CWD for root section

The bracketed sections inherit from the root section, so there is no need to set this variable for each."
sorbits,2013-02-15 14:27:56,https://api.github.com/repos/textmate/textmate/git/commits/fbf76bbd79d85056c9624c17f074217f1fc336ae,fbf76bbd79d85056c9624c17f074217f1fc336ae,"Update file browser when a document changes path

This is required incase the file is open, as we then want the new path to show the close button."
sorbits,2013-02-15 14:27:56,https://api.github.com/repos/textmate/textmate/git/commits/4c96cb52585afc73c74ddc273610f0262269772d,4c96cb52585afc73c74ddc273610f0262269772d,Reject custom project directory if not an absolute path
sorbits,2013-02-15 14:27:56,https://api.github.com/repos/textmate/textmate/git/commits/88cc5021a9a882d6c6df7c9f2f7bfb2b9b682cde,88cc5021a9a882d6c6df7c9f2f7bfb2b9b682cde,Add API for starting edit of item in file browser
sorbits,2013-02-15 14:27:55,https://api.github.com/repos/textmate/textmate/git/commits/f507c75c0e7d5577b410fdc7d857a4b5755163fd,f507c75c0e7d5577b410fdc7d857a4b5755163fd,Add directoryForNewItems property to file browser
sorbits,2013-02-15 14:27:55,https://api.github.com/repos/textmate/textmate/git/commits/4909d2cf53debb033ebb2b81cb732230c0cadbe5,4909d2cf53debb033ebb2b81cb732230c0cadbe5,Remove last zero in version 2.0.0 → 2.0
sorbits,2013-02-15 14:27:55,https://api.github.com/repos/textmate/textmate/git/commits/84b71c76408ee81d71d75a87e15e3120c3f66f7d,84b71c76408ee81d71d75a87e15e3120c3f66f7d,"Add swiping gesture support for 10.8

I am not sure what Apple’s thinking is here. We have swipeWithEvent: which worked on 10.7 but seems to no longer work, yet there is a global preference for configuring a swipe gesture and Safari supports that config option, but it appears other apps have to role their own implementation."
sorbits,2013-02-15 14:27:55,https://api.github.com/repos/textmate/textmate/git/commits/c65e0718e62644616008f4e3e7321114e6e1dda1,c65e0718e62644616008f4e3e7321114e6e1dda1,"Show human readable version string

This is instead of only showing the revision, which lack semantic info such as ‘alpha’ and 2.0 versus 1.5.11.

We now also show the version after a successful download instead of just “Download Completed”."
sorbits,2013-02-15 14:27:55,https://api.github.com/repos/textmate/textmate/git/commits/9f095a52bc84e8bcfa993bb3ed7188610c664083,9f095a52bc84e8bcfa993bb3ed7188610c664083,"Close files deleted via file browser

Files with changes are kept open and only files deleted via file browser actually close. It’ll make sense to also close files which are “moved to trash” (but want to do some refactoring before adding that).

Closes #512."
sorbits,2013-02-15 14:27:55,https://api.github.com/repos/textmate/textmate/git/commits/72d0b9757b23048504179a40d9168ef7880c6d9b,72d0b9757b23048504179a40d9168ef7880c6d9b,Post OakFileManagerWillDeleteItemAtPath
sorbits,2013-02-15 14:27:54,https://api.github.com/repos/textmate/textmate/git/commits/a4dc3bf97740abf362dede181231e20dde29bc1e,a4dc3bf97740abf362dede181231e20dde29bc1e,"OakFileManagerDirectoryKey → OakFileManagerPathKey

This allows us to use the same key for more than just directories. The notification name itself should indicate if the ‘path’ refers only to directories or files."
sorbits,2013-02-15 14:27:54,https://api.github.com/repos/textmate/textmate/git/commits/deffe08d1bc52160c61b306eb43e98e07560eb78,deffe08d1bc52160c61b306eb43e98e07560eb78,Fix new selected item after delete
sorbits,2013-02-15 14:27:54,https://api.github.com/repos/textmate/textmate/git/commits/c456d7e03515135675e6d6edfb9c16e0659faabd,c456d7e03515135675e6d6edfb9c16e0659faabd,"Handle linking to directories in HTML output

We now check for an ‘index.html’ when a file:-link points to a directory. If no such file exist then we show the “Not Found” error page.

This is to work with offline docs that doesn’t include the ‘index.html’ in the URL."
sorbits,2013-02-15 14:27:54,https://api.github.com/repos/textmate/textmate/git/commits/58feb5dd43a8f18c044e0d657c22024c44940c23,58feb5dd43a8f18c044e0d657c22024c44940c23,"Remove “crash guard”

This should no longer be possible now that the callback won’t be called after the scm info has been destroyed.

This reverts fce82f07597314cb979d3f56b5c26a1b0fc4e717."
sorbits,2013-02-15 14:27:54,https://api.github.com/repos/textmate/textmate/git/commits/d0e0835e8237f8ee5212953e0ae7aa5ab6be9079,d0e0835e8237f8ee5212953e0ae7aa5ab6be9079,Better hiding of scm::ng::info_t implementation
sorbits,2013-02-15 14:27:53,https://api.github.com/repos/textmate/textmate/git/commits/e7ed62c30583539c85cfdb31f103f6502ec70726,e7ed62c30583539c85cfdb31f103f6502ec70726,"Don’t unnecessarily retain scm::ng::info_ptr

This ensures that when an scm::ng::info_ptr object has been disposed by the user, the associated callback will not be called (as no-one else will keep it retained)."
infininight,2013-02-15 13:09:48,https://api.github.com/repos/textmate/textmate/git/commits/ecd666f24ae5bc90e6d89560c134771b7d8efa45,ecd666f24ae5bc90e6d89560c134771b7d8efa45,"Improve constraint widths for status bar.

- Set compression priorities to collapse fields in a desirable order.
- Increase default width of selection string to fit 8888:88
- Set grammar popup to the width of the active grammar and give is sensible minimum/maximum widths.
- Set a maximum width for the tab size menu."
sorbits,2013-02-14 10:31:22,https://api.github.com/repos/textmate/textmate/git/commits/b66912d8e86f8f21faef29e58883cc0f5793945c,b66912d8e86f8f21faef29e58883cc0f5793945c,"Fix exception

This would happen if root url in file browser was not a file url and the user selected “Go to Folder…”."
sorbits,2013-02-14 10:31:21,https://api.github.com/repos/textmate/textmate/git/commits/60a4b9520aeb56abdd602bbe96522ef6762c117b,60a4b9520aeb56abdd602bbe96522ef6762c117b,Make internal functions private again
sorbits,2013-02-14 10:31:21,https://api.github.com/repos/textmate/textmate/git/commits/967f08c9c05cae788f931d61d96e3d0fbf918c3b,967f08c9c05cae788f931d61d96e3d0fbf918c3b,"Limit file browser header updating

This mainly relates to the folder pop-up. By delaying creation of this menu till the user actually opens it, we avoid/delay having to create potentially expensive icons (icons are “expensive” since creating one may cause TextMate to hit the disk)."
sorbits,2013-02-14 10:31:21,https://api.github.com/repos/textmate/textmate/git/commits/ad6a82bb1d2f2f95f8c45a58ad0564e4d8ed016d,ad6a82bb1d2f2f95f8c45a58ad0564e4d8ed016d,"Don’t explicitly update file browser header view

This is unnecessary as long as we always go via setUrl: or setHistoryIndex:"
sorbits,2013-02-14 10:31:21,https://api.github.com/repos/textmate/textmate/git/commits/3669e671c7efa0fe43028ef6390a237bae1cef24,3669e671c7efa0fe43028ef6390a237bae1cef24,Strip “offset” from selection string in status bar
sorbits,2013-02-14 10:31:21,https://api.github.com/repos/textmate/textmate/git/commits/83505a47e250ebe5d5169e6ce554c2d22b339709,83505a47e250ebe5d5169e6ce554c2d22b339709,"Change status bar’s “caret” property

We now use a selection string so status bar doesn’t need to know about what it actually contains."
sorbits,2013-02-14 10:31:20,https://api.github.com/repos/textmate/textmate/git/commits/94f0c803f7f90b33e0679ddd0bdee9041d93b576,94f0c803f7f90b33e0679ddd0bdee9041d93b576,"Limit status bar redraw

The NSPopUpButton itself will not bypass redisplay even if it’s title is set to the current title."
sorbits,2013-02-14 10:31:20,https://api.github.com/repos/textmate/textmate/git/commits/785182c1b215b31b92870206d7ccf09da49c3789,785182c1b215b31b92870206d7ccf09da49c3789,Enable bottom border for bundle editor window
sorbits,2013-02-14 10:31:20,https://api.github.com/repos/textmate/textmate/git/commits/43fa57ae229774065b8c1b10b97076d550cb663d,43fa57ae229774065b8c1b10b97076d550cb663d,Don’t draw status bar background on window border
sorbits,2013-02-14 10:31:20,https://api.github.com/repos/textmate/textmate/git/commits/e96dc916ef4e3599824dcd2ae8a54d1fc08f17ec,e96dc916ef4e3599824dcd2ae8a54d1fc08f17ec,Remove commented code
sorbits,2013-02-14 10:31:20,https://api.github.com/repos/textmate/textmate/git/commits/9338109452ec5bcbf781e63ee571d9c5adfabdab,9338109452ec5bcbf781e63ee571d9c5adfabdab,"Fix NSTimer related crash

The timer might be the only thing keeping us retained, so we can’t release it until the very end of the method."
sorbits,2013-02-14 10:31:20,https://api.github.com/repos/textmate/textmate/git/commits/b37b56075a73b1b5e1cdd7400fa920f99fc734ba,b37b56075a73b1b5e1cdd7400fa920f99fc734ba,Call super in viewWillMoveToWindow:
infininight,2013-02-13 10:08:47,https://api.github.com/repos/textmate/textmate/git/commits/05af6817177d30a6ea09423bd1db6703d98ed6a3,05af6817177d30a6ea09423bd1db6703d98ed6a3,Truncate the selection string when it grows too long.
infininight,2013-02-14 08:52:08,https://api.github.com/repos/textmate/textmate/git/commits/75c7457ee93a041c1b7a72cd0a752ac2cce66369,75c7457ee93a041c1b7a72cd0a752ac2cce66369,"Use solid colors for divider line.

This is required now that they are set as opaque."
sorbits,2013-02-13 09:51:07,https://api.github.com/repos/textmate/textmate/git/commits/8f3e99bc79a93a138fc9e1907d576d6ceba9d7d3,8f3e99bc79a93a138fc9e1907d576d6ceba9d7d3,"Gutter height now accounts for horizontal scrollbar

Previously the gutter and the text view were set to have the same height (via constraints). Though when the horizontal scrollbar is visible then the gutter should technically be made a little taller to account for the extra bottom margin. Not adding this space was causing problems.

Fixes #773."
sorbits,2013-02-12 22:06:48,https://api.github.com/repos/textmate/textmate/git/commits/3bc3db00aadf774e4dbc1a214de961b5ae43a177,3bc3db00aadf774e4dbc1a214de961b5ae43a177,ARC: Update OakTextView framework
sorbits,2013-02-12 21:01:02,https://api.github.com/repos/textmate/textmate/git/commits/007dd2db0070f92f5867ea4610195ffaf90442f0,007dd2db0070f92f5867ea4610195ffaf90442f0,"Use ‘refuses first responder’ property

We still need the subclass for rendering the control as active, but the less we override the better."
sorbits,2013-02-12 19:22:27,https://api.github.com/repos/textmate/textmate/git/commits/ba7b1b1be72d31f2fea97d32a5daeb9bda50a61d,ba7b1b1be72d31f2fea97d32a5daeb9bda50a61d,Fix coding style
infininight,2013-02-05 11:12:49,https://api.github.com/repos/textmate/textmate/git/commits/2bd089ffe5205fe79739a190648ee3db03701254,2bd089ffe5205fe79739a190648ee3db03701254,Match HTML divider color with the status bar divider
sorbits,2013-01-26 07:12:47,https://api.github.com/repos/textmate/textmate/git/commits/f886b0cb13216e9fa3ff68047e0b9f01bac86cb1,f886b0cb13216e9fa3ff68047e0b9f01bac86cb1,Update text view status bar to use system controls
sorbits,2013-02-12 19:11:50,https://api.github.com/repos/textmate/textmate/git/commits/402e1f79b1b26bec761a9ef7bef7ed65c9b9c4c1,402e1f79b1b26bec761a9ef7bef7ed65c9b9c4c1,"Use one bundle menu delegate for all menus

This avoids the problem of keeping the delegate retained while the menu is up (the menu item exists)."
sorbits,2013-02-12 14:43:50,https://api.github.com/repos/textmate/textmate/git/commits/8ef92c29f95c526b6065caaf61e1cceddf69dab9,8ef92c29f95c526b6065caaf61e1cceddf69dab9,Set bottom border for HTML window
sorbits,2013-02-12 14:42:14,https://api.github.com/repos/textmate/textmate/git/commits/c46070f9ffab1e00fb38638ed76cc4846b01708b,c46070f9ffab1e00fb38638ed76cc4846b01708b,Omit background fill if we have a border
sorbits,2013-02-12 14:31:10,https://api.github.com/repos/textmate/textmate/git/commits/83d0df4b2c0647cee9e4822dbb7002e9a8242f0f,83d0df4b2c0647cee9e4822dbb7002e9a8242f0f,Don’t set HTML output views as opaque
infininight,2013-02-12 13:04:13,https://api.github.com/repos/textmate/textmate/git/commits/9e56b73797f1f32bb51b08178a0ae04c929da0c6,9e56b73797f1f32bb51b08178a0ae04c929da0c6,Restyle html view status bar to match others
sorbits,2013-02-12 09:43:55,https://api.github.com/repos/textmate/textmate/git/commits/2588d5742131f0e01951b783c64307107fa1ac71,2588d5742131f0e01951b783c64307107fa1ac71,"Change where we invalidate cursor rects

Maybe closes #783."
sorbits,2013-02-12 08:57:05,https://api.github.com/repos/textmate/textmate/git/commits/50a7c17dbde6f8a669dc86d7babebd8f6121025d,50a7c17dbde6f8a669dc86d7babebd8f6121025d,Use initializer list with path::join
sorbits,2013-02-12 08:52:38,https://api.github.com/repos/textmate/textmate/git/commits/f05c76a88294215536d69fafc5f8d175e66d1038,f05c76a88294215536d69fafc5f8d175e66d1038,"Implement path::join for initializer lists

This allows passing multiple path components to path::join"
sorbits,2013-02-11 22:43:51,https://api.github.com/repos/textmate/textmate/git/commits/6acafbe19084155ebd05ccbb70c6c62c90e974b4,6acafbe19084155ebd05ccbb70c6c62c90e974b4,Ensure we have valid SCM status
sorbits,2012-09-06 12:58:12,https://api.github.com/repos/textmate/textmate/git/commits/c6f228fbdf22b1306139e9223a3c196345cf7a7f,c6f228fbdf22b1306139e9223a3c196345cf7a7f,"Redirect stderr when LOG_PATH is set

You need to set this variable for launchd, so that it is inherited by TextMate. Unfortunately launchd only reads /etc/launchd.conf so unless you want to set this variable globally then you need to run something like the following before starting TextMate:

    launchctl setenv LOG_PATH ""$HOME/Library/Logs"""
sorbits,2013-02-11 20:55:09,https://api.github.com/repos/textmate/textmate/git/commits/26fe4a95e980d05667ef4117f3ba5fa6f32c9f98,26fe4a95e980d05667ef4117f3ba5fa6f32c9f98,"Add Edit → Select → None (⇧⌘A)

This can be used to deselect all in the file browser.

Closes #779."
sorbits,2013-02-11 20:20:51,https://api.github.com/repos/textmate/textmate/git/commits/0a0d9a3d9b700eae55fca939dab8103f3e521e40,0a0d9a3d9b700eae55fca939dab8103f3e521e40,"Assign key equivalents to Go → Back/Forward

We use ⌘[ and ⌘] which is also used for Text → Shift Left/Right so we only set these keys for when the main text view is not active.

The main advantage is that you can now use these keys to move back and forth in history of HTML views (it also works in file browser, but due to a custom keyDown: overload, it also worked prior to this commit)."
sorbits,2013-02-11 14:18:35,https://api.github.com/repos/textmate/textmate/git/commits/cbd6d8eebe6fdaeda31705a585a11347490a0f5f,cbd6d8eebe6fdaeda31705a585a11347490a0f5f,Checkin release notes
sorbits,2013-02-11 14:14:11,https://api.github.com/repos/textmate/textmate/git/commits/4a812117e75e11e7ce08e3936d1117e109697e31,4a812117e75e11e7ce08e3936d1117e109697e31,Fix memory leak
sorbits,2013-02-11 13:21:24,https://api.github.com/repos/textmate/textmate/git/commits/7c1c253c863f09c2edb58e508c79c47ec00db3e1,7c1c253c863f09c2edb58e508c79c47ec00db3e1,Make “Go to Favorites” a toggle
sorbits,2013-02-11 13:21:23,https://api.github.com/repos/textmate/textmate/git/commits/a9e59f53087583e121d13403c1d1f28f8de89d0e,a9e59f53087583e121d13403c1d1f28f8de89d0e,"Set spelling language for current folder when changed via UI

Previously we would set it for the current file (via path) and the current scope plus parent scopes.

The latter wasn’t useful, as the file type is not indicative of the language used, and as scoped settings presently have higher priority than path-based settings, it could lead to the wrong language being used, even when language was explicitly set for a folder.

Now, when changing language via Edit → Spelling menu, we set the language globally (so default for all new documents without more specific settings), all files in the current document’s folder, and the document itself."
sorbits,2013-02-11 13:21:23,https://api.github.com/repos/textmate/textmate/git/commits/bdadf0f17fd4bd9144dfcf48c627772e5d257e02,bdadf0f17fd4bd9144dfcf48c627772e5d257e02,"Let text view reset cut/copy menu item titles

This is necessary since opening the Edit menu with focus in file browser may update the titles to reflect files that would be cut or copied."
sorbits,2013-02-11 13:21:23,https://api.github.com/repos/textmate/textmate/git/commits/059a8a0b75eacf04d41c5886d54f634aae8cc25f,059a8a0b75eacf04d41c5886d54f634aae8cc25f,"Improve Quick Look menu item title

This now also shows what it’ll display and switches to “Close Quick Look” when the panel is already showing."
sorbits,2013-02-11 13:21:23,https://api.github.com/repos/textmate/textmate/git/commits/2c996b6b7ab941a2214d91cce80b3bc410cf9763,2c996b6b7ab941a2214d91cce80b3bc410cf9763,"Improve file browser menu titles

We now write what the actions will apply to. This isn’t done for all actions, which is somewhat consistent with Finder, though I don’t know why Finder doesn’t include such description for all items, perhaps it’s seen as redundant to state for every action (and just adds noise), so only items where user could be “confused” should explicitly state what they work on."
sorbits,2013-02-11 13:21:23,https://api.github.com/repos/textmate/textmate/git/commits/7b017d695d38b0a44389df0e5d4727f7588570f4,7b017d695d38b0a44389df0e5d4727f7588570f4,Rework file browser action menu
sorbits,2013-02-11 13:21:22,https://api.github.com/repos/textmate/textmate/git/commits/e71fd192c56aeb2ac01aae7c4cdea9c33c1dd277,e71fd192c56aeb2ac01aae7c4cdea9c33c1dd277,"Let SIGUSR1 relaunch TextMate

This is mainly to allow a way to test the relaunch code, as it is otherwise only used for s/w updating and installing plug-ins."
sorbits,2013-02-11 13:21:22,https://api.github.com/repos/textmate/textmate/git/commits/38dffa9dd160f74b66b8c640aac6d0c7ae7ecc28,38dffa9dd160f74b66b8c640aac6d0c7ae7ecc28,Remove legacy code
sorbits,2013-02-11 13:21:22,https://api.github.com/repos/textmate/textmate/git/commits/2f146e235fb34be8037cf6013f94b82658f2be6b,2f146e235fb34be8037cf6013f94b82658f2be6b,"Discontinue support for OAK_ACTIVATE variable

This isn’t used by anything current."
sorbits,2013-02-11 13:21:22,https://api.github.com/repos/textmate/textmate/git/commits/ad03811df076d59ca3182a01d3193c14fc3eb55f,ad03811df076d59ca3182a01d3193c14fc3eb55f,"Ensure session restore when relaunching

The user can manually disable session restore, which is undesired when relaunching due to a software update or installing a plug-in, so we now override the user’s choice for the new instance launched."
sorbits,2013-02-11 13:21:22,https://api.github.com/repos/textmate/textmate/git/commits/af37d2e30a8fb69cecc314de789cfa43b2cc7a98,af37d2e30a8fb69cecc314de789cfa43b2cc7a98,"Skip group cells when selecting item after delete (file browser)

Presently this is only relevant for the SCM Status view, as no other data source use group cells."
sorbits,2013-02-11 13:21:21,https://api.github.com/repos/textmate/textmate/git/commits/df8465e607f4c117ab3cbd7625a0a8b9fa3295b6,df8465e607f4c117ab3cbd7625a0a8b9fa3295b6,"Align close button (×) with file labels

Closes #391."
sorbits,2013-02-11 13:21:21,https://api.github.com/repos/textmate/textmate/git/commits/099fbdf042dda80d9d667ab7cb85adb49349166e,099fbdf042dda80d9d667ab7cb85adb49349166e,Accept NULL_STR in path::info
sorbits,2013-02-11 13:21:21,https://api.github.com/repos/textmate/textmate/git/commits/f5541b2a1c0f5aa491c74f79bcf30db3f27cc177,f5541b2a1c0f5aa491c74f79bcf30db3f27cc177,Don’t try to toggle caret with no layout
sorbits,2013-02-11 13:21:21,https://api.github.com/repos/textmate/textmate/git/commits/8fb95309c14040cdcfbae6c1f610ff9265f42d82,8fb95309c14040cdcfbae6c1f610ff9265f42d82,"Reset undo/redo menu item titles

The undo manager will change the titles (e.g. “Undo Rename”) when it’s first responder, so we need to change them back, when the text view is first responder."
sorbits,2013-02-11 13:21:21,https://api.github.com/repos/textmate/textmate/git/commits/2acecd66f353d01a5b2a9910c562a28b584fdc94,2acecd66f353d01a5b2a9910c562a28b584fdc94,Show icon in Go to Tab sub menu
sorbits,2013-02-11 13:21:21,https://api.github.com/repos/textmate/textmate/git/commits/129784816c39659eb6cb90fb8b851dfa8996cc75,129784816c39659eb6cb90fb8b851dfa8996cc75,"Don’t show SCM badges for untracked items

All of these will always have the same badge, so there’s no reason to show it (and it covers the alias badge, so there is some usability benefits beyond just the visuals)."
sorbits,2013-02-11 13:21:20,https://api.github.com/repos/textmate/textmate/git/commits/507dac190811373739774c20c13e755b8f8b2f10,507dac190811373739774c20c13e755b8f8b2f10,Let FSItem use OakFileIconImage.
sorbits,2013-02-11 13:21:20,https://api.github.com/repos/textmate/textmate/git/commits/8987a7528f1f6ab2529868141ac08fe9851a7199,8987a7528f1f6ab2529868141ac08fe9851a7199,Use generic file/folder icon when OakFileIconImage.path == nil
sorbits,2013-02-11 13:21:20,https://api.github.com/repos/textmate/textmate/git/commits/b8ddc41bd0881a15cb2a5c9097b57b4e43ad9b3c,b8ddc41bd0881a15cb2a5c9097b57b4e43ad9b3c,Don’t show tool tips with only whitespace
sorbits,2013-02-11 13:21:20,https://api.github.com/repos/textmate/textmate/git/commits/e047d458fd3933a5cccf336721e9951afe74b481,e047d458fd3933a5cccf336721e9951afe74b481,"Fix crash in bundle editor

I have added a check to ensure we have the bundle item content (in addition to the bundle item) which fixes #774 although it is unclear to me how the bundle editor would end up in a state where it has a bundle item but no content for that item. There is a window in the setBundleItem: method where the bundle item content hasn’t yet been setup, but commitEditing is not called during that window."
sorbits,2013-02-11 13:21:20,https://api.github.com/repos/textmate/textmate/git/commits/f980573d8b9c640c95762821fddb301d2b975474,f980573d8b9c640c95762821fddb301d2b975474,"Ensure document is open during save

Saving is done asynchronously so the document might be closed while being saved. This in itself is not an issue, but the “post save” function will assume it has an open document for “marking as pristine” and executing potential “document did-save” callbacks on."
sorbits,2013-02-11 13:21:19,https://api.github.com/repos/textmate/textmate/git/commits/6cd7d862151fd55f5bcbbe24e6e24ac57499af16,6cd7d862151fd55f5bcbbe24e6e24ac57499af16,"Script to create default bundles would always exit successfully

We shouldn’t do anything after the essential line of the script, as we want that line’s status code to be the script’s exit status."
infininight,2013-02-05 20:41:05,https://api.github.com/repos/textmate/textmate/git/commits/7fa0e34a5e7671cb38d968746583e96ea7fb47aa,7fa0e34a5e7671cb38d968746583e96ea7fb47aa,Restyle and add graphics to file browser action bar
sorbits,2013-01-25 16:43:54,https://api.github.com/repos/textmate/textmate/git/commits/ae02db9baa04339ac676ebd2d204a97bce79882a,ae02db9baa04339ac676ebd2d204a97bce79882a,WIP: Add action bar to file browser
infininight,2013-01-31 09:25:40,https://api.github.com/repos/textmate/textmate/git/commits/034dd8f06bafcb79d0613613236fec2a595552d1,034dd8f06bafcb79d0613613236fec2a595552d1,Shrink height when tabs above document is enabled
infininight,2013-01-31 09:22:08,https://api.github.com/repos/textmate/textmate/git/commits/a9d80f5a0dbb4776d8ceecf376027c759f4ac0c1,a9d80f5a0dbb4776d8ceecf376027c759f4ac0c1,"Increase tab bar size one pixel

This is to match the minimum allowed size for the sidebar header when the tabs above document is enabled, also matches the height of the forthcoming tab redesign."
infininight,2013-01-30 08:12:36,https://api.github.com/repos/textmate/textmate/git/commits/2200df74fdf2007ff86649be492a9405b005e95a,2200df74fdf2007ff86649be492a9405b005e95a,Simplify constraints and set a height for file browser header
sorbits,2013-01-30 08:22:40,https://api.github.com/repos/textmate/textmate/git/commits/43e15b379279f6d0ef0970ea7502c78a3d447b31,43e15b379279f6d0ef0970ea7502c78a3d447b31,Let file browser header inherit from OakGradientView
sorbits,2013-01-30 19:06:22,https://api.github.com/repos/textmate/textmate/git/commits/9c994af1e05b130c650bc1e24799d64d7091f402,9c994af1e05b130c650bc1e24799d64d7091f402,"Tweak OakGradientView

- Accept two NSGradient objects instead of four colors.
- Call designated initializer on super instead of self since subclass is likely calling us from its designated initializer
- Make class public"
infininight,2013-01-29 06:10:28,https://api.github.com/repos/textmate/textmate/git/commits/9a26e0df5e767833076117a269fd0539d68657f5,9a26e0df5e767833076117a269fd0539d68657f5,Move file browser divider into parent view
sorbits,2013-02-08 12:54:13,https://api.github.com/repos/textmate/textmate/git/commits/ddc85708f8f3e41ce2b6e7cb38b423b23f7e2c1f,ddc85708f8f3e41ce2b6e7cb38b423b23f7e2c1f,"Allow disabling auto-indent for snippets

Snippets are normally inserted with indent matching that of the caret. This isn’t always desired, which is why TM 1.x allowed this feature to be disabled. This is now also supported for 2.0.

Closes #387."
sorbits,2013-02-08 12:05:42,https://api.github.com/repos/textmate/textmate/git/commits/44b0da80b1b165f707d9fa8d44b9cbb04899b978,44b0da80b1b165f707d9fa8d44b9cbb04899b978,"Look at entire line when auto-pairing characters

When inserting paired characters where the pair consists of the same two characters, we look if the line is already balanced, and if so, insert a pair, and if not, only insert a single character. Previously we only looked at what was left of the caret, though TextMate 1.x looked at the full line, which we now also do in 2.0.

Closes #508."
sorbits,2013-02-08 11:30:01,https://api.github.com/repos/textmate/textmate/git/commits/9c42d1ae9f2128a3241d57c8e8ea5926f4eedb96,9c42d1ae9f2128a3241d57c8e8ea5926f4eedb96,"Moving focus to file browser now select first item

This is only when using the special Navigate → Move Focus to File Browser (⌥⌘⇥) command and is mainly because there is no other visual feedback (other than the text view being rendered in its inactive state).

I could see sometimes not wanting a selection in the file browser, this however seems like a general problem (i.e. the solution should likely be to introduce a way to “deselect all”)."
sorbits,2013-02-08 11:27:51,https://api.github.com/repos/textmate/textmate/git/commits/deac51c7a151cfb11a64aab040f4b4aec83d56f1,deac51c7a151cfb11a64aab040f4b4aec83d56f1,Expose outlineView property of file browser
sorbits,2013-02-08 11:01:05,https://api.github.com/repos/textmate/textmate/git/commits/a36146235adddc56e9b8ccd628d65596a12cb565,a36146235adddc56e9b8ccd628d65596a12cb565,"Support disabling “keep bundles updated”

We still update the sources because the user may manually install bundles, and in this case he should install from a recent bundle index."
sorbits,2013-02-08 10:55:30,https://api.github.com/repos/textmate/textmate/git/commits/8c9adfc1987b19a90fad793b20c88a438acfb17b,8c9adfc1987b19a90fad793b20c88a438acfb17b,"Move some user defaults key to respective framework

Initially I wanted all keys in a single header file but to avoid circular dependencies then this header would need to be in a framework that doesn’t depend on anything else, and the main benefit was only to have a single place to look for which keys exist, but now that we consistently prefix settings keys with ‘kUserDefaults’ then it’s easy to extract all keys via search."
sorbits,2013-02-08 10:09:17,https://api.github.com/repos/textmate/textmate/git/commits/2e0d93e5f1bdc75ec9c64fd37795f8da63b9fc30,2e0d93e5f1bdc75ec9c64fd37795f8da63b9fc30,A file suffix in file chooser would rank too high
sorbits,2013-02-08 10:04:16,https://api.github.com/repos/textmate/textmate/git/commits/abf13e913a0b4bae4306fe5b5b612a8eeb596c76,abf13e913a0b4bae4306fe5b5b612a8eeb596c76,"Show notification when posting crash reports (10.8)

This is both to remind the user that crash reports are automatically submitted and to make it easy for them to point us to a specific crash, as notification center will now work as a list of recent crashes; click on one of them to see the online version."
sorbits,2013-02-08 09:17:15,https://api.github.com/repos/textmate/textmate/git/commits/609c332e0ac321e765aeb6677839086be2b4c233,609c332e0ac321e765aeb6677839086be2b4c233,Parse headers received in post_to_server
sorbits,2013-02-07 18:19:57,https://api.github.com/repos/textmate/textmate/git/commits/b139ac50973fcfae29ccb7b2c200717678132c4e,b139ac50973fcfae29ccb7b2c200717678132c4e,"Change push_back → emplace_back (C++11)

This is mainly motivated by readability, so I only did a few select replacements."
sorbits,2013-02-07 16:13:01,https://api.github.com/repos/textmate/textmate/git/commits/bcbd0551376b9e011f72e61f163e06aafe8192bc,bcbd0551376b9e011f72e61f163e06aafe8192bc,"Use exp2(x) instead of pow(2, x)"
sorbits,2013-02-07 12:53:54,https://api.github.com/repos/textmate/textmate/git/commits/fd60fd25c7a0829b9f05b61a88f396a98f5c5801,fd60fd25c7a0829b9f05b61a88f396a98f5c5801,"Change strtol → std::stol (C++11)

I initially wanted to do this change globally, but std::stoX will throw an exception if it fails to parse something and we use strtoX a few places where parsing nothing (and getting back zero) is fine."
sorbits,2013-02-07 12:25:39,https://api.github.com/repos/textmate/textmate/git/commits/ebc4fa26afdeed55fee89c5ea2792170127db791,ebc4fa26afdeed55fee89c5ea2792170127db791,"Use regexp::match_t::operator[]

Also bypass NSString/c_str() by using std::stod()."
sorbits,2013-02-07 12:07:41,https://api.github.com/repos/textmate/textmate/git/commits/9eb4044fdbb4e9928ee5a929e557d84664a354eb,9eb4044fdbb4e9928ee5a929e557d84664a354eb,Switch to simpler regexp::search
sorbits,2013-02-07 12:00:46,https://api.github.com/repos/textmate/textmate/git/commits/8b8e02d6da8c7407a97573230087072a39e347b4,8b8e02d6da8c7407a97573230087072a39e347b4,Add minimal tests for regex::search
sorbits,2013-02-07 12:00:15,https://api.github.com/repos/textmate/textmate/git/commits/a8f1c9ef067fd3e57ba285c9d69b82eee0980bba,a8f1c9ef067fd3e57ba285c9d69b82eee0980bba,Add convenience API for searching std::string
sorbits,2013-02-07 11:53:47,https://api.github.com/repos/textmate/textmate/git/commits/0ee796d7a7341aa78bb6e693c1068990009370a3,0ee796d7a7341aa78bb6e693c1068990009370a3,"Implement regexp::match_t::operator[]

This can be used to access the n’th capture (as a std::string). If there is no capture, NULL_STR is returned."
sorbits,2013-02-07 11:29:53,https://api.github.com/repos/textmate/textmate/git/commits/e75e7ec8e52093d9bd84e235dc808f100151930a,e75e7ec8e52093d9bd84e235dc808f100151930a,Change text::format → std::to_string (C++11)
sorbits,2013-02-07 10:15:01,https://api.github.com/repos/textmate/textmate/git/commits/3ef473b1befa4494377e934e734374e2c008a4ef,3ef473b1befa4494377e934e734374e2c008a4ef,"Use std::chrono::steady_clock instead of oak::date_t

This is a better choice for durations, as it’s clearly defined as independent of wall clock time."
sorbits,2013-02-06 23:17:24,https://api.github.com/repos/textmate/textmate/git/commits/1f1883db28e3807a2ccdb2a208955f7b9da21b77,1f1883db28e3807a2ccdb2a208955f7b9da21b77,Regular expression searches no longer ignore case
sorbits,2013-02-06 22:58:07,https://api.github.com/repos/textmate/textmate/git/commits/001888c1cb1b08de96bfd742600f18ac8d72030c,001888c1cb1b08de96bfd742600f18ac8d72030c,"Close Other no longer closes untitled but modified tabs

We would previously bring up an “Do you want to keep unsaved changes?” sheet for these, so no convenience (i.e. batch closing several modified tabs) is really lost (on the contrary)."
sorbits,2013-02-06 22:43:13,https://api.github.com/repos/textmate/textmate/git/commits/bb6d003e4ff6e0d4bc92a56e0247eca490eac3ae,bb6d003e4ff6e0d4bc92a56e0247eca490eac3ae,"Read environment variable whitelist from user defaults

This is read using the ‘environmentWhitelist’ key and the value should be a colon-separated list of variables that should be inherited from TextMate’s parent process. If the variable includes an asterisk then it is matched as a glob.

Example:

    defaults write com.macromates.TextMate.preview environmentWhitelist '$default:MANPATH:*EDITOR'

Here ‘$default’ will expand to TextMate’s default whitelist.

Normally TextMate will setup HOME, PATH, TMPDIR, LOGNAME, and USER. If you whitelist any of these, then the variable (if set) will instead be inherited from the parent process.

Closes #718."
sorbits,2013-02-06 21:58:22,https://api.github.com/repos/textmate/textmate/git/commits/4a0328497962037f47b220727eabd1c7daecb550,4a0328497962037f47b220727eabd1c7daecb550,fixup! Handle case changes on insensitive file systems
sorbits,2013-02-05 22:32:16,https://api.github.com/repos/textmate/textmate/git/commits/fce82f07597314cb979d3f56b5c26a1b0fc4e717,fce82f07597314cb979d3f56b5c26a1b0fc4e717,"Fix potential crash

Even though the code is running on the main thread, it might still run after the owning (C++) object has been destroyed."
sorbits,2013-02-05 22:31:08,https://api.github.com/repos/textmate/textmate/git/commits/cafb518be8d1efed7ab561fa98348781b579526d,cafb518be8d1efed7ab561fa98348781b579526d,fixup! Fix infinite loop for documents outside project folder
sorbits,2013-02-06 15:48:18,https://api.github.com/repos/textmate/textmate/git/commits/75adb03039b0faa99faffdb93607f959a2c685cf,75adb03039b0faa99faffdb93607f959a2c685cf,Checkin release notes
sorbits,2013-02-06 15:33:03,https://api.github.com/repos/textmate/textmate/git/commits/67af1bc7fe869dd3fbdc56e684a5f09f7705bd02,67af1bc7fe869dd3fbdc56e684a5f09f7705bd02,"Make divider lines opaque

Without this, it is possible to move the window when clicking directly on the line (since none of the parent views are opaque)."
sorbits,2013-02-06 13:50:05,https://api.github.com/repos/textmate/textmate/git/commits/22465873acf3f70c6b843ade9b13906cdd42acea,22465873acf3f70c6b843ade9b13906cdd42acea,"Handle case changes on insensitive file systems

NSFileManager only provide a move function which fails with “file exists” if we make case changes on a case-insensitive file system, therefor we now explicitly test for that error and use <x-man-page://2/rename> if the source and destination refer to the same file, but the path differ.

Fixes #769."
sorbits,2013-02-06 13:50:05,https://api.github.com/repos/textmate/textmate/git/commits/a55e485f56f455006f5b29171bbc0c99a51b50f9,a55e485f56f455006f5b29171bbc0c99a51b50f9,"Reference ‘self’ instead of asking for singleton

In theory we could be calling this method on the non-default file manager."
sorbits,2013-02-06 13:50:05,https://api.github.com/repos/textmate/textmate/git/commits/a913a512e5c3ce08b0b7b7a0f9db266743f0a9c7,a913a512e5c3ce08b0b7b7a0f9db266743f0a9c7,"Let directory data source observe the “did change” notification

This means we instantly reload after performing a file system operation."
sorbits,2013-02-06 13:50:04,https://api.github.com/repos/textmate/textmate/git/commits/63c0300ed8dfdf5e54ea3163dcd0b58350f7ee01,63c0300ed8dfdf5e54ea3163dcd0b58350f7ee01,"Post “directory did change” notifications

This is both to speedup file browser updates (as there is a bit of lag waiting for fs-events) and to work with file systems that doesn’t support fs-events (issue #745)."
sorbits,2013-02-06 13:50:04,https://api.github.com/repos/textmate/textmate/git/commits/37f130fe42afd5e50a82f18dab6f4b2b4db895c2,37f130fe42afd5e50a82f18dab6f4b2b4db895c2,"Don’t set gradient view as opaque

This is so that a potential NSTextField will correctly render itself as inactive when using NSBackgroundStyleRaised."
sorbits,2013-02-06 13:50:04,https://api.github.com/repos/textmate/textmate/git/commits/fbb2f972f9877589c179a8a28310f9ac37387518,fbb2f972f9877589c179a8a28310f9ac37387518,"Don’t mark parent views as opaque

The reason for this is that NSTextField will draw itself in the “faded” state (for non-key windows) unless some of its parent views are marked opaque.

The previous problem with not having the parent views opaque (see da3a91a7bb224900d9cca6530ebbc6dfedd5d381) seems to have been solved by setting the autohidesScrollers property to YES."
sorbits,2013-02-06 13:50:04,https://api.github.com/repos/textmate/textmate/git/commits/642b009ec95bcac660de8e99541dbfafb0219288,642b009ec95bcac660de8e99541dbfafb0219288,"Add to existing content view instead of replacing it

The window border drawing seems to be done by the root content view so it’s best to keep it around (as it may also do other things that we are unaware of)."
sorbits,2013-02-06 13:50:04,https://api.github.com/repos/textmate/textmate/git/commits/ad750b0b766623092dde09a45ff2c4977cbfbcc2,ad750b0b766623092dde09a45ff2c4977cbfbcc2,"Auto-hide the text view’s scroll bars

This is for users who have set “show scroll bars” to “always” (or auto and am using a mouse).

Closes #527."
sorbits,2013-02-06 13:50:03,https://api.github.com/repos/textmate/textmate/git/commits/0507bf4bed370ba4019745b339287f433f1e2ecd,0507bf4bed370ba4019745b339287f433f1e2ecd,"Remove all but the default bundle index

The other bundle sources have been merged into the default index."
sorbits,2013-02-06 13:50:03,https://api.github.com/repos/textmate/textmate/git/commits/3c0e1de5573df1e47557de4387a435ea2f26b19e,3c0e1de5573df1e47557de4387a435ea2f26b19e,"Ensure ‘self’ is kept retained

This shouldn’t be necessary, as we have a ‘retainedSelf’ instance variable that isn’t cleared until ‘[self.window close]’ (the last line of the accept: method), nonetheless I am seeing (rare) crashes from this method, and it appears to be reading the ‘self.window’ property in the last line, so adding this extra safety and will monitor crash reports."
sorbits,2013-02-06 13:50:03,https://api.github.com/repos/textmate/textmate/git/commits/6950ebee9a039488c0940ae7d5463410bf781c71,6950ebee9a039488c0940ae7d5463410bf781c71,"Ensure all methods can handle a missing document

This fixes a crash bug when menu validation is invoked before the controller has set up a document. Hardening the other methods is just a precaution (as we generally shouldn’t make assumptions about the state of public properties."
sorbits,2013-02-06 13:50:03,https://api.github.com/repos/textmate/textmate/git/commits/ebdb8c93646b7c07c63b9de1b0bdbb786a064980,ebdb8c93646b7c07c63b9de1b0bdbb786a064980,"Directly read a few instance variables

This is instead of going through ‘self’ and was done to harmonize the code. Since two of the three variables are C++ types we cannot use dot syntax (self.property) when we wish to call a member function on the result, but using [self property] is ugly and would require us to then also use [self setProperty:value] (for consistency), hence why I went with direct access.

Since the selectedTabIndex property is closely related to documents and selectedDocument, I applied the same changes to this property."
sorbits,2013-02-05 20:06:15,https://api.github.com/repos/textmate/textmate/git/commits/c351b89324dd75f80c116c632432bd1b1e1e8c40,c351b89324dd75f80c116c632432bd1b1e1e8c40,Checkin release notes
sorbits,2013-02-05 19:59:54,https://api.github.com/repos/textmate/textmate/git/commits/41ea4b18883272ba514a8412bd238768d59f962b,41ea4b18883272ba514a8412bd238768d59f962b,Move instance data to implementation file
sorbits,2013-02-05 19:59:54,https://api.github.com/repos/textmate/textmate/git/commits/446f219c7ab79afff21ec37f049472a9c1af027e,446f219c7ab79afff21ec37f049472a9c1af027e,"Reload updated folders on reactivation

This is done by stat’ing all visible folders and is a fallback for when fs-events is not working (e.g. network file systems)."
sorbits,2013-02-05 19:59:54,https://api.github.com/repos/textmate/textmate/git/commits/e46be6b2a23bed58cfcf71c192057f4c3c6130b0,e46be6b2a23bed58cfcf71c192057f4c3c6130b0,"Add memory address to FSItem description

Since table views use the memory address, and these items are for use in table views, it’s useful to see the address when printing an item."
sorbits,2013-02-05 19:59:54,https://api.github.com/repos/textmate/textmate/git/commits/c951e00a06eb2d246634e19542f43dea45651370,c951e00a06eb2d246634e19542f43dea45651370,"File browser: Dispose all children on collapse

Previously we kept the children which had been expanded, as these had an associated record for tracking file system changes and SCM info.

However, when expanding we weren’t actually re-using the item from the cached record, so not only was this wasteful, but it caused a problem because we effectively created a new item but used the old record with the old item, and while the two items would compare is equal when using isEqualTo:, they didn’t have the same memory address, so the outline view would not consider them equal, and would thus not react on reload requests when using the older item."
sorbits,2013-02-05 19:59:53,https://api.github.com/repos/textmate/textmate/git/commits/032cb19320259bad5cb5d43540020bb7726cd73e,032cb19320259bad5cb5d43540020bb7726cd73e,"Use proper cursor image for output view right of text

Fixes #763."
sorbits,2013-02-05 14:26:31,https://api.github.com/repos/textmate/textmate/git/commits/1fb7d8a6d38b166b342e3687fd856b0a882e1d76,1fb7d8a6d38b166b342e3687fd856b0a882e1d76,"Fix infinite loop for documents outside project folder

Fixes issue #557 (part two)."
sorbits,2013-02-05 14:25:45,https://api.github.com/repos/textmate/textmate/git/commits/759e4d9720be03c52397b228c8b56875074bf43b,759e4d9720be03c52397b228c8b56875074bf43b,"Introduce path::is_child(child, parent)

This also returns true when ‘child == parent’ so perhaps a better name should be chosen for this function."
sorbits,2013-02-05 14:05:26,https://api.github.com/repos/textmate/textmate/git/commits/b2ae4196c3a862786207386a1afe64628841328b,b2ae4196c3a862786207386a1afe64628841328b,Update database of contributor email hashes
sorbits,2013-02-05 08:44:42,https://api.github.com/repos/textmate/textmate/git/commits/c182d08c5d096fd9d1f833844b111830237ecb75,c182d08c5d096fd9d1f833844b111830237ecb75,"Only access SCM info when available

Fixes #756."
sorbits,2013-02-05 08:02:04,https://api.github.com/repos/textmate/textmate/git/commits/3ec573931d6a7bf44d1955866369ee02cfb8363f,3ec573931d6a7bf44d1955866369ee02cfb8363f,Checkin release notes
sorbits,2013-02-05 07:48:15,https://api.github.com/repos/textmate/textmate/git/commits/674b171a9013cac2a3b68cbf8982fa4003bb3014,674b171a9013cac2a3b68cbf8982fa4003bb3014,"Only check for bundle updates every 4th hour

This should decrease my AWS bill with $4-5/month :)"
sorbits,2013-02-05 07:45:18,https://api.github.com/repos/textmate/textmate/git/commits/20641c50c3edf0cc34f793106d76ec2fb75fbb31,20641c50c3edf0cc34f793106d76ec2fb75fbb31,"Disable SCM badges for non-local paths

Also disable it for user’s home folder and root of file system — having to monitor these folders is too expensive."
infininight,2013-02-05 04:30:02,https://api.github.com/repos/textmate/textmate/git/commits/a6f0b75d4cc7ebcd022ee0f4758f667641944a80,a6f0b75d4cc7ebcd022ee0f4758f667641944a80,Use correct syntax for including local headers
sorbits,2013-02-05 07:30:20,https://api.github.com/repos/textmate/textmate/git/commits/ae5a7738f6ce6b1c27409ea326a1e2110915bd25,ae5a7738f6ce6b1c27409ea326a1e2110915bd25,"Retain shared info during async SCM update

Fixes #752."
joachimm,2013-02-01 21:56:58,https://api.github.com/repos/textmate/textmate/git/commits/8de62bbc8520cf5cfccf037cb1cf4b70e62de45f,8de62bbc8520cf5cfccf037cb1cf4b70e62de45f,Don't mutate shared themes
sorbits,2013-02-04 18:38:32,https://api.github.com/repos/textmate/textmate/git/commits/606a0e484eed0f50a9201e49b6fb51b82fc0a932,606a0e484eed0f50a9201e49b6fb51b82fc0a932,Checkin release notes
sorbits,2013-02-04 18:38:32,https://api.github.com/repos/textmate/textmate/git/commits/f99ca2408d1715edea1a25c2ab3b30180c591fc1,f99ca2408d1715edea1a25c2ab3b30180c591fc1,"Show non-existing paths with SCM status

This means deleted files which haven’t yet been committed show up in the file browser."
sorbits,2013-02-04 18:38:32,https://api.github.com/repos/textmate/textmate/git/commits/6f076e0895df47793196fce4df84092c59f01414,6f076e0895df47793196fce4df84092c59f01414,"Remove public initializer

This is only to ensure everyone goes through the class method, which is easier to search for (constructing an FSItem from a URL is a little expensive so we wish to get rid of it where possible)."
sorbits,2013-02-04 18:38:32,https://api.github.com/repos/textmate/textmate/git/commits/e42d84fa4c36c4771675d1b80f38a9418bb8e4de,e42d84fa4c36c4771675d1b80f38a9418bb8e4de,Missing files still get SCM badge
sorbits,2013-02-04 18:38:32,https://api.github.com/repos/textmate/textmate/git/commits/748558c5d3e1f789244efe9f13ab8bf5528479d2,748558c5d3e1f789244efe9f13ab8bf5528479d2,"SCM API: Update OakFileIconImage

Since the created image is a “dumb” object that can’t provoke redrawing itself, we require that SCM info is already cached for the repository containing the file for which we are creating an image. If not, there will be no SCM badge, so most users of this API should setup their own SCM info and recreate the image when SCM status changes."
sorbits,2013-02-04 18:38:31,https://api.github.com/repos/textmate/textmate/git/commits/6d022be813c163680a9f7013c56b7eadbf34a33c,6d022be813c163680a9f7013c56b7eadbf34a33c,"Rework file browser directory source

We now use the new SCM callback and in general things are much simpler, cleaner, and probably faster."
sorbits,2013-02-04 18:38:31,https://api.github.com/repos/textmate/textmate/git/commits/a7a4699643e94e27e9bdaadb6f151e4ab7cf4280,a7a4699643e94e27e9bdaadb6f151e4ab7cf4280,"Improve caching of SCM shared info

When requesting SCM info for a path, we now always return the cached info for the first parent of the path, but if the first parent of the path is not the direct parent, we do a more thorough search (which involve disk access) in a background thread.

The latter is required because we may have nested repositories. E.g. asking for SCM info for /path/to/project/submodule/file will initially return the root project’s cached SCM info (if the submodule info hasn’t yet been added to the cache) but will then later invoke the callback with the submodule’s SCM info."
sorbits,2013-02-04 18:38:31,https://api.github.com/repos/textmate/textmate/git/commits/dae91b715973cf9594edf485cabdfec2ccf499f5,dae91b715973cf9594edf485cabdfec2ccf499f5,Move instance data to implementation
sorbits,2013-02-04 18:38:31,https://api.github.com/repos/textmate/textmate/git/commits/4712515e8b0e5b297f4cfc4991a30517f04fe2bd,4712515e8b0e5b297f4cfc4991a30517f04fe2bd,"Allow passing a window to OakSetupApplicationWithView

Should rename the function to reflect this new flexibility."
sorbits,2013-02-04 18:38:31,https://api.github.com/repos/textmate/textmate/git/commits/8265a469d89bc60afb44f4ede80fb556712f9a7a,8265a469d89bc60afb44f4ede80fb556712f9a7a,"Improve locating Find framework resources

The FFWindowController class is an implementation detail where the Find class is the public class, so depending on the latter should make the code safe against potential rewrites."
sorbits,2013-02-04 18:38:30,https://api.github.com/repos/textmate/textmate/git/commits/cef6a74df2cd8a02687eb2a3c667fd1361f40b78,cef6a74df2cd8a02687eb2a3c667fd1361f40b78,"Make code safe against ‘nil’ clipboard entries

Should never happen in practice though."
sorbits,2013-02-04 18:38:00,https://api.github.com/repos/textmate/textmate/git/commits/f57b06fa2c9cc88c3dbee5d769604d1b1b2d6418,f57b06fa2c9cc88c3dbee5d769604d1b1b2d6418,Move instance variables to implementation
sorbits,2013-02-03 09:48:46,https://api.github.com/repos/textmate/textmate/git/commits/b6ba88cda52385a0a8f56d40e7c05bb0c1096324,b6ba88cda52385a0a8f56d40e7c05bb0c1096324,"Rework about window

We now perform the content hash (to see if release notes have changed) on a background thread."
sorbits,2013-02-03 09:48:45,https://api.github.com/repos/textmate/textmate/git/commits/af67a1a6f6b8a91b3b44558e532ba8e337dcd22b,af67a1a6f6b8a91b3b44558e532ba8e337dcd22b,Check version of installed mate in background
sorbits,2013-02-03 09:48:44,https://api.github.com/repos/textmate/textmate/git/commits/216bcb61acc8a4f00003ba9486b7f519d0de538e,216bcb61acc8a4f00003ba9486b7f519d0de538e,mate: don’t disable untitled document when called w/o files
sorbits,2013-02-03 09:48:43,https://api.github.com/repos/textmate/textmate/git/commits/84587dccc97ab55deabcc7745d084ff309ed16de,84587dccc97ab55deabcc7745d084ff309ed16de,"mate: disable untitled document via user defaults

This is instead of setting an environment variable. Since there already is a user defaults setting for whether or not we want an untitled document created at startup, it seems nicer to have mate set that, instead of effectively introducing an alias for the setting."
sorbits,2013-02-03 09:48:41,https://api.github.com/repos/textmate/textmate/git/commits/d5b3b07f326929e5fc95bb3aa7994cc27ded32c7,d5b3b07f326929e5fc95bb3aa7994cc27ded32c7,Disable SCM status when app is inactive
sorbits,2013-02-03 09:48:40,https://api.github.com/repos/textmate/textmate/git/commits/2bfe82fae4b35ea7818147be2c51a8efb04c1682,2bfe82fae4b35ea7818147be2c51a8efb04c1682,"Remove the AppStartup delegate

This temporary delegate was primarily used to ensure no message “slipped through” back when a license key was mandatory to run the alpha."
sorbits,2013-02-03 09:48:39,https://api.github.com/repos/textmate/textmate/git/commits/0fdd04b6d3dd7e5c09717036ea6e81973fce0c52,0fdd04b6d3dd7e5c09717036ea6e81973fce0c52,"Add SCM API for disabling updates

This is to be used when the application is in the background. Rather than completely disable updates, it might perhaps be better simply to increase the delay used to throttle updates."
sorbits,2013-02-03 09:48:38,https://api.github.com/repos/textmate/textmate/git/commits/e599bb73791e1c4befb3c3feec8c54fe7d7f5423,e599bb73791e1c4befb3c3feec8c54fe7d7f5423,"Introduce scm::ng::root_for_path

Also change SCM implementation so that it doesn’t use objects with automatic storage, as the objects may be accessed from threads, which may run after objects with automatic storage has been destroyed."
sorbits,2013-02-03 09:48:37,https://api.github.com/repos/textmate/textmate/git/commits/ef8e1a75971d64818627740f7ccb7b7d30726af4,ef8e1a75971d64818627740f7ccb7b7d30726af4,Only set TM_SCM_BRANCH when there is a branch
sorbits,2013-02-03 09:48:35,https://api.github.com/repos/textmate/textmate/git/commits/521dd59f140f9ced5c317a7ba011010e3c2f8574,521dd59f140f9ced5c317a7ba011010e3c2f8574,Don’t use automatic storage in threaded code
sorbits,2013-02-03 09:48:34,https://api.github.com/repos/textmate/textmate/git/commits/151c8002395c4d5dd97e9aefa4adf71ee061003a,151c8002395c4d5dd97e9aefa4adf71ee061003a,File icon images now default to ‘existing’
sorbits,2013-02-03 09:48:33,https://api.github.com/repos/textmate/textmate/git/commits/044cd72c10e6813cdf04c17de5b6a74f447c166b,044cd72c10e6813cdf04c17de5b6a74f447c166b,"Use system icons for Open With menu

Previously we used our own icon image class which support SCM status, custom images for known file types, and more. This is however is unnecessary, as we know the Open With menu contains only applications, and each should use their standard icon.

This should also fix issue #510, although the issue was never diagnosed beyond git stalling while trying to get SCM status for the application icons in this menu."
sorbits,2013-02-03 09:48:32,https://api.github.com/repos/textmate/textmate/git/commits/638e0bc601c2616f886a99f68f4096b947efffe0,638e0bc601c2616f886a99f68f4096b947efffe0,Show source in file chooser title
sorbits,2013-02-03 09:48:31,https://api.github.com/repos/textmate/textmate/git/commits/eaf5f78681a6cb26d5dd43d5ba73ada31b8ad4cc,eaf5f78681a6cb26d5dd43d5ba73ada31b8ad4cc,"Closing file chooser disposes its documents

Previously it would hold onto the documents shown, which is not only wasteful, but could mean that it would retain a no longer used untitled document (and thus occupying an untitled document counter)."
sorbits,2013-02-03 09:48:29,https://api.github.com/repos/textmate/textmate/git/commits/bfa3db1d792b9b587e867b9af12503f9b6abd31b,bfa3db1d792b9b587e867b9af12503f9b6abd31b,"Disallow selecting group cells in file browser

Group cells are presently only used for the SCM status data source."
sorbits,2013-02-03 09:48:28,https://api.github.com/repos/textmate/textmate/git/commits/7e527bd8619329a7594638e0de1e30238f0c2cc3,7e527bd8619329a7594638e0de1e30238f0c2cc3,"When a file is selected, save folder defaults to its parent

This is only when saving untitled documents.

Closes #748."
sorbits,2013-02-03 09:48:27,https://api.github.com/repos/textmate/textmate/git/commits/837bdf537b3488ce161ac7107fabb3141607f9af,837bdf537b3488ce161ac7107fabb3141607f9af,"Reset mouse hover state when leaving view

The close buttons in the file browser could be stuck on their “hover” state if quickly moving mouse outside the bounds of the outline view."
sorbits,2013-02-03 09:48:26,https://api.github.com/repos/textmate/textmate/git/commits/b51ed151d67f4589125863acbde514ca678f2daf,b51ed151d67f4589125863acbde514ca678f2daf,Auto-enable Back / Forward menu items
sorbits,2013-02-03 09:47:24,https://api.github.com/repos/textmate/textmate/git/commits/78c5114ac6c5d261ea30b1f560bfd0c3880c2c30,78c5114ac6c5d261ea30b1f560bfd0c3880c2c30,"Remove hardcoded shortcuts from keyDown:

These keys are also in the menu so no need to special-case them (unlike the other keys handled)."
sorbits,2013-02-02 09:46:20,https://api.github.com/repos/textmate/textmate/git/commits/8c4397426503a0d6dc63d56f095edbca68d24422,8c4397426503a0d6dc63d56f095edbca68d24422,"Add (async) scope attribute collecting to DocumentController

This is for attr.project.XXX and attr.scm.XXX, although the latter is also provided by scm::info_t.

With this commit, the file::path_attributes function no longer collect this information."
sorbits,2013-02-02 09:45:22,https://api.github.com/repos/textmate/textmate/git/commits/0d187e66943aca2b60dcf193bf6022e68486e8bd,0d187e66943aca2b60dcf193bf6022e68486e8bd,Remove SCM variables from file::variables
sorbits,2013-02-02 09:43:53,https://api.github.com/repos/textmate/textmate/git/commits/540bf5daf10c018986d1d3a076709f2c856cbebc,540bf5daf10c018986d1d3a076709f2c856cbebc,Remove SCM variables from document_t
sorbits,2013-02-02 09:43:49,https://api.github.com/repos/textmate/textmate/git/commits/c4d6c624e8c454dda5f45ed80d2d81eaeac050dd,c4d6c624e8c454dda5f45ed80d2d81eaeac050dd,Limit disk access done by DocumentController
sorbits,2013-02-02 09:43:17,https://api.github.com/repos/textmate/textmate/git/commits/d29337a754b9905077bbce15d0d492516bb49af8,d29337a754b9905077bbce15d0d492516bb49af8,SCM API: Update SCM data source
sorbits,2013-02-02 09:42:08,https://api.github.com/repos/textmate/textmate/git/commits/a470ee8ba815845bec80f2eebcc8bc628bb3a8c3,a470ee8ba815845bec80f2eebcc8bc628bb3a8c3,SCM API: Update file chooser
sorbits,2013-02-02 09:41:00,https://api.github.com/repos/textmate/textmate/git/commits/f1ff38f929f087a7bd5f4a9dcb3782e27d9b6dc0,f1ff38f929f087a7bd5f4a9dcb3782e27d9b6dc0,"Add new SCM API

This won’t perform any disk access on main thread. The previous API would check for the SCM-metadata directories on the main thread and also obtain the initial status and branch during creation."
sorbits,2013-02-02 09:34:23,https://api.github.com/repos/textmate/textmate/git/commits/4138c2a3d5517366d8981cff44312ad474296014,4138c2a3d5517366d8981cff44312ad474296014,"Use data source’s root item’s title in file browser header

This is instead of simply asking for the root URL’s display name, as the data source can provide a more specialized display name."
sorbits,2013-02-02 09:32:53,https://api.github.com/repos/textmate/textmate/git/commits/57f4589dbbe36889746a31db483aa0a7fcd864fa,57f4589dbbe36889746a31db483aa0a7fcd864fa,Broadcast “is on disk” after first save
sorbits,2013-02-02 07:46:03,https://api.github.com/repos/textmate/textmate/git/commits/89dccee1261d65eea3efceb2b4fbd5ea5f615992,89dccee1261d65eea3efceb2b4fbd5ea5f615992,"Fix wrong behavior when selecting to end of line

This also affected a few other selection actions.

Fixes #738."
sorbits,2013-02-01 16:33:08,https://api.github.com/repos/textmate/textmate/git/commits/91d786b2cdef76380bc8a3bdb6b72c8a4183aa11,91d786b2cdef76380bc8a3bdb6b72c8a4183aa11,"Don’t set -fobjc-arc-cxxlib=libc++

I never understood what this option was good for and now it gives a warning about being unused during compilation (even though it was set only during linking)."
sorbits,2013-02-01 11:38:39,https://api.github.com/repos/textmate/textmate/git/commits/e6c6fc74aacd388701cdbc056f3b7783e52474b3,e6c6fc74aacd388701cdbc056f3b7783e52474b3,Decouple fs-events code from info_t
sorbits,2013-02-01 11:10:15,https://api.github.com/repos/textmate/textmate/git/commits/97eb13f4c903c837a4e8c6a695efe2cbf853a1c4,97eb13f4c903c837a4e8c6a695efe2cbf853a1c4,Move fs-events code to own file
sorbits,2013-02-01 16:16:54,https://api.github.com/repos/textmate/textmate/git/commits/32fcb52c68917e963bbea7a8ca3b0e601d2cfa60,32fcb52c68917e963bbea7a8ca3b0e601d2cfa60,"Workaround for clang linker warning

Using instances with static storage in Objective-C files result in the following warning (starting with clang 425.0.24):

ld: warning: direct access in […] to global weak symbol […] means the weak symbol cannot be overridden at runtime. This was likely caused by different translation units being compiled with different visibility settings."
sorbits,2013-01-31 14:08:04,https://api.github.com/repos/textmate/textmate/git/commits/b54f28af95fac641397f9e2a85df0a21234f2e1b,b54f28af95fac641397f9e2a85df0a21234f2e1b,Improve encapsulation
sorbits,2013-01-31 10:54:13,https://api.github.com/repos/textmate/textmate/git/commits/45a126e5ff84ba78070f37ab3606f4fa7d626a9c,45a126e5ff84ba78070f37ab3606f4fa7d626a9c,"Improve page/tab support in about window

Selecting already selected page no longer reloads the HTML.

In addition to ⌘1-n for the n’th page, you can now also use ⌘{ and ⌘} to move between pages."
bobrocke,2013-01-31 16:01:03,https://api.github.com/repos/textmate/textmate/git/commits/0f41c946f064cbaefdffaebee37c79d0234a2429,0f41c946f064cbaefdffaebee37c79d0234a2429,"Bind the grid icon to .less files

Added .less files to the OakAppKit .plist bindings file as another grid icon, to go along with the existing .css, .sass and .scss definitions.

Signed-off-by: Bob Rockefeller <bob@bobrockefeller.com>"
mstarke,2013-01-31 00:26:31,https://api.github.com/repos/textmate/textmate/git/commits/e5d2d43e619a0f890accd68efd33525d16ffe5d6,e5d2d43e619a0f890accd68efd33525d16ffe5d6,Fixed wrong color in red file labels
sorbits,2013-01-30 18:40:23,https://api.github.com/repos/textmate/textmate/git/commits/3e7c569872925b7f14e5b874917f45e46b5e270d,3e7c569872925b7f14e5b874917f45e46b5e270d,Checkin release notes
sorbits,2013-01-30 18:20:53,https://api.github.com/repos/textmate/textmate/git/commits/3752b0205f7c8fa762a3aecf6d01b6f7b892c51d,3752b0205f7c8fa762a3aecf6d01b6f7b892c51d,"Add to list of actions that enable multiple carets

Selecting to begin/end of typing pairs or end of line/paragraph will now also break up a column selection into multiple carets."
sorbits,2013-01-30 17:54:37,https://api.github.com/repos/textmate/textmate/git/commits/342152ea71b3ec1349d60a58bf447a1a738b88a8,342152ea71b3ec1349d60a58bf447a1a738b88a8,Remove light gray line above tabs
sorbits,2013-01-30 15:53:44,https://api.github.com/repos/textmate/textmate/git/commits/da3a91a7bb224900d9cca6530ebbc6dfedd5d381,da3a91a7bb224900d9cca6530ebbc6dfedd5d381,"Set root view to be opaque

The idea was that e.g. a status bar may wish to not be opaque and rely on the window’s border to shine through.

Unfortunately there is an issue where if the view is not opaque, the user can drag the entire window by clicking the scroll knobs (requires scrollbars to be configured to be visible and using a mouse, a trackpad doesn’t seem to cause the issue)."
sorbits,2013-01-30 10:21:54,https://api.github.com/repos/textmate/textmate/git/commits/71e884a6ded29845fb4a9938575b546948fe717b,71e884a6ded29845fb4a9938575b546948fe717b,"Fix crash when pasting in file browser

This started after upgrading to clang-425.0.24. More info at https://github.com/sorbits/rdar/tree/master/for-in-with-ARC"
sorbits,2013-01-30 12:38:25,https://api.github.com/repos/textmate/textmate/git/commits/0413f35eeb429398e41429cd24d31807b7673dce,0413f35eeb429398e41429cd24d31807b7673dce,"Rework symbol chooser code

The symbol chooser is now owned by DocumentView instead of DocumentController.

The symbol chooser does not know about its owner and is not an observer of any notifications. Instead it has a property for “document” and one for “selectionString”. It is the owners job to update these properties (i.e. when switching document or changing the selection)."
sclukey,2013-01-28 23:28:47,https://api.github.com/repos/textmate/textmate/git/commits/b9d9e9140a7b933286c9e45cd19e0e257329cf6b,b9d9e9140a7b933286c9e45cd19e0e257329cf6b,"SymbolChooser live-updates its selections

This code is public domain.

Closes #166."
sclukey,2013-01-28 23:26:58,https://api.github.com/repos/textmate/textmate/git/commits/33751cadf1d00ee231713e8911d79f3cb80e9cdd,33751cadf1d00ee231713e8911d79f3cb80e9cdd,"SymbolChooser references OakDocumentView instead document

Since a document cannot send notifications, this will allow the
SymbolChooser to monitor and respond to notifications from the
DocumentView."
nanoant,2013-01-29 23:28:19,https://api.github.com/repos/textmate/textmate/git/commits/08d8d69f2e464759045c31d7413bc8100a4a8109,08d8d69f2e464759045c31d7413bc8100a4a8109,"Fixed occasional “too light” title bar gradient

This would mainly happen when creating new windows with a file browser.

Described at:
http://stackoverflow.com/questions/5812593/nswindow-textured-gradient-fill-weirdness
http://stackoverflow.com/questions/7795505/nswindow-textured-background-with-nstextfield/11482772#11482772"
nanoant,2013-01-30 00:34:42,https://api.github.com/repos/textmate/textmate/git/commits/5f69592a1f31f51b24a183cb81ce3682210da944,5f69592a1f31f51b24a183cb81ce3682210da944,"Fixed control/tab bar label shadows

NSShadowAttributeName has no effect when using CTFrame. Use
CGContextSetShadowWithColor instead."
sorbits,2013-01-29 20:47:40,https://api.github.com/repos/textmate/textmate/git/commits/b1f19e93f2156feff5c8751ff1b24a0082f18a1c,b1f19e93f2156feff5c8751ff1b24a0082f18a1c,"Corrupt archive → extracting archive

This is a more correct error.

Also write exit code and potential error from tar to stderr."
sorbits,2013-01-29 20:41:17,https://api.github.com/repos/textmate/textmate/git/commits/951fd53b3019b8b410a9f9f1ea455140405fe94c,951fd53b3019b8b410a9f9f1ea455140405fe94c,Construct default theme from a dummy bundle item
sorbits,2013-01-29 20:40:52,https://api.github.com/repos/textmate/textmate/git/commits/46a8445f76d1fea823028921692df00d83558da5,46a8445f76d1fea823028921692df00d83558da5,Make encoding::type public
sorbits,2013-01-29 18:06:41,https://api.github.com/repos/textmate/textmate/git/commits/0431cca971372b936ab688f8d72ea913dd5364c5,0431cca971372b936ab688f8d72ea913dd5364c5,"Catch potential exception from address book

According to the documentation, sharedAddressBook should return nil when user hasn’t granted access, but one user is reporting random crashes related to this code."
sorbits,2013-01-29 15:09:43,https://api.github.com/repos/textmate/textmate/git/commits/58cfbcf57284e21406e7cd6667af6b96d84c26b5,58cfbcf57284e21406e7cd6667af6b96d84c26b5,Checkin release notes
sorbits,2013-01-29 13:16:10,https://api.github.com/repos/textmate/textmate/git/commits/e7b81dba9bffa584a4048c1a4862716e21f9e41e,e7b81dba9bffa584a4048c1a4862716e21f9e41e,"Strip indirectly referenced dylibs

Basically libraries referenced indirectly will be setup as a requirement of the target and this option strips that. Doesn’t really matter, but enabling it rather than deleting the line (which was previously commented)."
sorbits,2013-01-29 14:25:20,https://api.github.com/repos/textmate/textmate/git/commits/bf679ca16bb1d0844ab7826f2fb21c22a1338619,bf679ca16bb1d0844ab7826f2fb21c22a1338619,Fix typo: ammend → amend
sorbits,2013-01-29 14:22:47,https://api.github.com/repos/textmate/textmate/git/commits/8e433ae3ba0a48c8444654e59f5dcf40b4cb8045,8e433ae3ba0a48c8444654e59f5dcf40b4cb8045,"View → Show Invisibles now work for file browser

With focus in the file browser this menu item can now be used to toggle wether or not the include/exclude patterns should be ignored (causing everything to be shown, when ignored)."
sorbits,2013-01-29 14:04:07,https://api.github.com/repos/textmate/textmate/git/commits/b7a929279b43a993c67d4d570fc82349ce988cab,b7a929279b43a993c67d4d570fc82349ce988cab,"Set “C pointer preference”

TextMate’s coding style is to have the asterisk bind to the type rather than the variable."
sorbits,2013-01-29 13:57:50,https://api.github.com/repos/textmate/textmate/git/commits/99203d332ddfc3e0d2eae850cf18e1ea1e2e7283,99203d332ddfc3e0d2eae850cf18e1ea1e2e7283,Proper refresh when dropping files on text view
sorbits,2013-01-29 13:50:07,https://api.github.com/repos/textmate/textmate/git/commits/2df0f7aa51e203543a9411ceb04b00d1b6e2597f,2df0f7aa51e203543a9411ceb04b00d1b6e2597f,"Revert ""Do not timestamp our code signing""

Some users have reported issues opening TextMate: Finder tells them the program is corrupt and should be moved to trash. If the user adds his own (ah hoc) signature, then no such dialog is shown.

This reverts commit 1c164e3ce02465fd197463c0a72dfd804dd4b83e."
sorbits,2013-01-29 12:42:46,https://api.github.com/repos/textmate/textmate/git/commits/18998cba53fafb8353ba3cd1a432f4e595e524e3,18998cba53fafb8353ba3cd1a432f4e595e524e3,"Drop snippets on undo

This isn’t ideal but better than a potential crash (following the next edit). A better solution will have to wait to a larger refactoring (which should also consider multiple editors working on the same buffer).

Closes #186."
sorbits,2013-01-29 12:09:45,https://api.github.com/repos/textmate/textmate/git/commits/04b092afb196a5142572d256b92df484b9bc9641,04b092afb196a5142572d256b92df484b9bc9641,"Move static data out of headers

This is to satisfy clang (421.0.57)."
sorbits,2013-01-29 11:57:31,https://api.github.com/repos/textmate/textmate/git/commits/2d9eef5baafca27215fd3ad5c6d03b08b1b5ce46,2d9eef5baafca27215fd3ad5c6d03b08b1b5ce46,"Fix variable name in debug output

This was broken during the update to ARC and synthesized properties."
sorbits,2013-01-29 11:56:27,https://api.github.com/repos/textmate/textmate/git/commits/adb2ed7b64575483847ce83fc27b6312a831590f,adb2ed7b64575483847ce83fc27b6312a831590f,Use sel_getName() instead of typecast
sorbits,2013-01-29 06:52:51,https://api.github.com/repos/textmate/textmate/git/commits/13212f7b62dd6a60ce8452b75d3b7c87856273ee,13212f7b62dd6a60ce8452b75d3b7c87856273ee,"Don’t submit a bug + fix in same pull request, merge beforehand"
sorbits,2013-01-29 06:45:42,https://api.github.com/repos/textmate/textmate/git/commits/d70e9e8b191e4965c09a6be2e123a9305a1d1ca5,d70e9e8b191e4965c09a6be2e123a9305a1d1ca5,"Summary line should be no longer than 70 characters

This is the “hard” limit on GitHub. If a summary goes over this limit, it will be truncated."
sorbits,2013-01-28 21:07:26,https://api.github.com/repos/textmate/textmate/git/commits/08eace5a47620bb0a70448e0d6d71dce471bb2d2,08eace5a47620bb0a70448e0d6d71dce471bb2d2,Do not remove old targets if ninja failed
sorbits,2013-01-28 20:40:21,https://api.github.com/repos/textmate/textmate/git/commits/901bf378c0f29ecc6688f451f5ee0249ffa74a9a,901bf378c0f29ecc6688f451f5ee0249ffa74a9a,Fix build error (clang-421.0.57)
sorbits,2013-01-28 20:14:58,https://api.github.com/repos/textmate/textmate/git/commits/2948e6c44e321b200037da1bd6f0e3b6260d4230,2948e6c44e321b200037da1bd6f0e3b6260d4230,Exclude bin/CxxTest from ⌘T and ⇧⌘F
sorbits,2013-01-28 19:57:47,https://api.github.com/repos/textmate/textmate/git/commits/6cd18bafb077f75c2071cb87b4f078b57258376b,6cd18bafb077f75c2071cb87b4f078b57258376b,"Allow property sections to match folders

We generally lookup include/exclude patterns for a folder rather than a file, and here it makes sense to allow the bracketed sections of the property files to target the folder.

Since the sections are not ranked based on how good a match they are, targeting a subfolder, and then a subfolder of this subfolder, does not have which settings take precedence defined."
sorbits,2013-01-28 18:41:43,https://api.github.com/repos/textmate/textmate/git/commits/9273f28a879a78bf816b8c45877b18e5167a4774,9273f28a879a78bf816b8c45877b18e5167a4774,"File browser: Keep item selected after delete

The ideal behavior would account for “nesting”, i.e. we should prefer to select an item from the same folder which we deleted from. Though Finder uses a similarly “naive” selection preservation algorithm.

Closes #717."
sorbits,2013-01-28 16:58:36,https://api.github.com/repos/textmate/textmate/git/commits/54fe77ebdba3f7d10e5e2c22457af9d4afdd50be,54fe77ebdba3f7d10e5e2c22457af9d4afdd50be,Fix coding style
sorbits,2013-01-28 16:37:45,https://api.github.com/repos/textmate/textmate/git/commits/b62b9545aa79a29993482a31f570bcc50cced80a,b62b9545aa79a29993482a31f570bcc50cced80a,"Use subset matching for extension in file chooser’s filter string

This allows ‘.js’ to match ‘foo.js.erb’. Special care is taken so that ‘.m’ doesn’t match ‘.md’, etc.

Closes #722."
sorbits,2013-01-28 12:20:18,https://api.github.com/repos/textmate/textmate/git/commits/904348d489d4bad6fe239ec1bfe2e1c77fe109d1,904348d489d4bad6fe239ec1bfe2e1c77fe109d1,"Add OakGradientView

This simply draws a gradient background but supports alternate colors for when the window is inactive."
sorbits,2013-01-28 14:40:58,https://api.github.com/repos/textmate/textmate/git/commits/269a6ae3c2bf20061f790637abd26332ab18bc6e,269a6ae3c2bf20061f790637abd26332ab18bc6e,Use “standard” divider above incremental search
sorbits,2013-01-28 14:30:41,https://api.github.com/repos/textmate/textmate/git/commits/4e76b6f41e1528ca1c4c043bc6bc1193b47dd2f2,4e76b6f41e1528ca1c4c043bc6bc1193b47dd2f2,"Use last string when bringing up incremental search

Closes #631."
sorbits,2013-01-28 14:26:21,https://api.github.com/repos/textmate/textmate/git/commits/036a53582ce101d1dc19006de775df55e42ec55b,036a53582ce101d1dc19006de775df55e42ec55b,Replace live search xib with code
sorbits,2013-01-28 11:33:07,https://api.github.com/repos/textmate/textmate/git/commits/456209730d58699c21ad4c0a356c7af5f7dab045,456209730d58699c21ad4c0a356c7af5f7dab045,"Improve autoscroll when drag-selecting outside viewport

When user drag-selects and moves mouse outside the viewport, we do not want to use ‘ensureSelectionIsInVisibleArea:’ because that method looks only on the selection, particularly the non-anchored end-point (and works differently for unanchored selections). Instead we want to scroll the point corresponding to the mouse position inside the viewport.

Fixes #475."
sorbits,2013-01-28 11:11:53,https://api.github.com/repos/textmate/textmate/git/commits/7831a40b230c6ba239bb7678cc995b0bb2433f90,7831a40b230c6ba239bb7678cc995b0bb2433f90,fixup! Improve scroll when selecting units
sorbits,2013-01-28 11:03:47,https://api.github.com/repos/textmate/textmate/git/commits/c684dd03d2ad7241382edb0230ceb54292026236,c684dd03d2ad7241382edb0230ceb54292026236,Add bug tracking ID annotation
sorbits,2013-01-26 15:26:47,https://api.github.com/repos/textmate/textmate/git/commits/d68be42546513e1e282b25d5e2f081bd6f89011b,d68be42546513e1e282b25d5e2f081bd6f89011b,Initial divider colors were wrong for inactive windows
nanoant,2013-01-23 20:41:20,https://api.github.com/repos/textmate/textmate/git/commits/60965ce6c39d84873417a9a380b1601b8def648e,60965ce6c39d84873417a9a380b1601b8def648e,"Tab bar above document option

This change adds new option for showing tab bar only above document, so the
file browser header lines up with tab bar.

File browser header height reduced by 1 pixel to match tab bar height. It also
draws optional top divider when in same line as tab bar"
sorbits,2013-01-26 13:55:19,https://api.github.com/repos/textmate/textmate/git/commits/a883854145f71068bd7967babacf9ba4f243cee9,a883854145f71068bd7967babacf9ba4f243cee9,"Use divider lines in root view

Previously we placed the views with a one point gap between them and had the superview fill the background. This works fine, but has the somewhat theoretical disadvantage that the superview then needs to implement drawRect: and for performance reasons declare that it is “opaque” which means subviews can’t use the (true) window background, should they want to.

Also add a preferences key for “tabs above document” (issue issue #214), but not hooked up in this commit."
sorbits,2013-01-26 06:07:17,https://api.github.com/repos/textmate/textmate/git/commits/a9e0b3583ffd8818ff0f8dcee33ba3a04577109c,a9e0b3583ffd8818ff0f8dcee33ba3a04577109c,"Fix missing open / modified status in file chooser

This only worked for untitled files since we no longer keep document UUIDs for documents with a path."
sorbits,2013-01-25 21:18:16,https://api.github.com/repos/textmate/textmate/git/commits/80b27f0b28204f399b403c30244161715df7255c,80b27f0b28204f399b403c30244161715df7255c,Add method for searching file browser folder
sorbits,2013-01-25 21:17:41,https://api.github.com/repos/textmate/textmate/git/commits/25cfc61f9f21b0fa3e59efa4e923392425348c4f,25cfc61f9f21b0fa3e59efa4e923392425348c4f,"Fix “Go to Favorites” (wrong URL used)

The URL constant for the favorites location was setup using oak::application_support() but done before the app support folder was initialized (due to the setup function being marked as a constructor)."
sorbits,2013-01-25 20:35:52,https://api.github.com/repos/textmate/textmate/git/commits/3cd2dd0d2d20f93cad33433be38ac172f0e0b862,3cd2dd0d2d20f93cad33433be38ac172f0e0b862,"Add Navigate → Move Focus menu item

This has ⌥⌘⇥ as shortcut so should make it easier moving to file browser and back."
sorbits,2013-01-25 20:34:07,https://api.github.com/repos/textmate/textmate/git/commits/4dccc12945e833373757a9f1b79dfa1860aec2d5,4dccc12945e833373757a9f1b79dfa1860aec2d5,Add method to move focus to document or file browser
sorbits,2013-01-25 20:06:45,https://api.github.com/repos/textmate/textmate/git/commits/164aef5323f5d3e5f81549f36eab396b8a143d8c,164aef5323f5d3e5f81549f36eab396b8a143d8c,Use horizontal/vertical line creators
sorbits,2013-01-25 20:04:22,https://api.github.com/repos/textmate/textmate/git/commits/a1a2e23ca9f4d10960c04fb7ce457a4e62a6f1b2,a1a2e23ca9f4d10960c04fb7ce457a4e62a6f1b2,"Add helpers to create lines

With this we can create either a horizontal or vertical line, and don’t need to manually set a constraint for its width/height."
sorbits,2013-01-25 13:57:43,https://api.github.com/repos/textmate/textmate/git/commits/61fd5d04df86cb0786c0f0d2a1a3683f2efc0ae0,61fd5d04df86cb0786c0f0d2a1a3683f2efc0ae0,"Position file chooser relative to text view

This is instead of placing it relative to the entire window. The main motivation is that with the file browser on the right, I want the file chooser closer to the left edge of the window."
sorbits,2013-01-25 13:42:50,https://api.github.com/repos/textmate/textmate/git/commits/ece57c79b83db7e3b28ebb77a4b3e991cc3e3d14,ece57c79b83db7e3b28ebb77a4b3e991cc3e3d14,Tab bar collapsing now disabled by default
sorbits,2013-01-25 13:39:21,https://api.github.com/repos/textmate/textmate/git/commits/7a5294936cc087131cebdf9a0fb942b020b603d9,7a5294936cc087131cebdf9a0fb942b020b603d9,QuickLook preview panel now zooms in/out
sorbits,2013-01-25 12:48:55,https://api.github.com/repos/textmate/textmate/git/commits/a935aff340500d836978cb15d7014d5f5797fe82,a935aff340500d836978cb15d7014d5f5797fe82,"Going to SCM status has the groups expanded

Previously these would not initially be expanded but the expansion state remembered. Now that we regularly clear cache of expanded URLs, it’s more tedious regularly having to expand these two groups.

It also introduce new API for having data sources return what items should be initially expanded, which probably makes sense for some data sources."
sorbits,2013-01-25 12:14:52,https://api.github.com/repos/textmate/textmate/git/commits/b78cf9035ac056887a425d6c584b1bfadd16105f,b78cf9035ac056887a425d6c584b1bfadd16105f,"Add xib and xsd as XML document types

The former is mainly to allow using Open With from inside TextMate (to force open the document with TextMate), as you likely have Xcode setup as the default app to handle xib files."
sorbits,2013-01-25 11:57:31,https://api.github.com/repos/textmate/textmate/git/commits/5c1eb0ae3e77d4a47e4ba1157daa07dedc2f26ad,5c1eb0ae3e77d4a47e4ba1157daa07dedc2f26ad,"Use command name as title for output windows

The command can set a custom title so this is only for commands that doesn’t do that."
sorbits,2013-01-25 11:39:28,https://api.github.com/repos/textmate/textmate/git/commits/694b6defd8f2fda2e15c5802c414130008b3d903,694b6defd8f2fda2e15c5802c414130008b3d903,"Handle untitled documents when filtering on path

These would previously be prefixed with the project folder path. Now they get no prefix (and disappear when the path-part of the filter string is non-empty)."
sorbits,2013-01-25 11:18:36,https://api.github.com/repos/textmate/textmate/git/commits/5adc29189eb72a497285d6d4b325d63fcf608df2,5adc29189eb72a497285d6d4b325d63fcf608df2,"Drop other expanded folders when revealing item

We probably should only drop expanded folders which descend from the current root, but that’s more code and the implemented behavior could be seen as “garbage collection” (keeping the memory of expanded folders low)."
sclukey,2013-01-24 17:19:22,https://api.github.com/repos/textmate/textmate/git/commits/c7035ded4440532a8ea6db0169268dbdd1f9837d,c7035ded4440532a8ea6db0169268dbdd1f9837d,"Added force open in TextMate and fixed confusion when opening an alias.

Any file should be able to be opened within TextMate, so
Option-DblClick will always do that. I first noticed this with .xib
files.
Because of the order of the if statements, opening an alias to a
package or binary file (or .xib) would not have the previous if
statements applied to it."
infininight,2013-01-25 11:53:55,https://api.github.com/repos/textmate/textmate/git/commits/a7564b924cdddf822f330182e16201cd0059a76d,a7564b924cdddf822f330182e16201cd0059a76d,Add inactive state coloring for dividers.
infininight,2013-01-25 08:29:38,https://api.github.com/repos/textmate/textmate/git/commits/7e472b5162d6cf18c4ca5d8435b8dccc43e29a01,7e472b5162d6cf18c4ca5d8435b8dccc43e29a01,"Enable focus ring when 'Full Keyboard Access' is enabled.

For aesthetic reasons the focus ring is disabled as there is no other control that can be active, however this is not the case with full keyboard access enabled as you can tab through the scope bar as well."
sorbits,2013-01-25 10:00:20,https://api.github.com/repos/textmate/textmate/git/commits/065e9a0f139cd27ea87f1bdfa9919854f5be5c5a,065e9a0f139cd27ea87f1bdfa9919854f5be5c5a,"Also use primary color when window is key

Windows like the file chooser never becomes main, so testing if window is main alone is not enough."
sorbits,2013-01-24 19:58:17,https://api.github.com/repos/textmate/textmate/git/commits/3aea7c991a48e05108b2d8e3612a77d3d7dead17,3aea7c991a48e05108b2d8e3612a77d3d7dead17,Don’t play sound when renaming files
sorbits,2013-01-24 19:54:24,https://api.github.com/repos/textmate/textmate/git/commits/2ae9463e6eaecb26d5f57b06bb253c833a40403d,2ae9463e6eaecb26d5f57b06bb253c833a40403d,"Lowercase icon file name

This corresponds to how it is spelled in the file type bindings file (although nothing actually uses this icon)."
sorbits,2013-01-24 19:49:09,https://api.github.com/repos/textmate/textmate/git/commits/806634480643718c8c419f6be8bce4c2d4e0280b,806634480643718c8c419f6be8bce4c2d4e0280b,"Don’t include $USER.ninja when username is ‘build’

Since our master build file is named ‘build.ninja’, including the user build file in this case would read the master file twice."
sorbits,2013-01-24 15:53:39,https://api.github.com/repos/textmate/textmate/git/commits/4b87e3cafe9e32eb59daedcbdc790af5219dbbaf,4b87e3cafe9e32eb59daedcbdc790af5219dbbaf,"Fallback on main bundle for svn_status.xslt

Ideally we would use something like “inSameBundleAsClass:’, but as we don’t have any classes in the SCM framework, that is not possible."
sorbits,2013-01-24 15:28:39,https://api.github.com/repos/textmate/textmate/git/commits/7d02a678700a125a2a284988ef25fae7c65fe816,7d02a678700a125a2a284988ef25fae7c65fe816,Remove unused graphics
sorbits,2013-01-24 14:23:08,https://api.github.com/repos/textmate/textmate/git/commits/8821794e3ed8c73916977a86257fe82ff236b7a2,8821794e3ed8c73916977a86257fe82ff236b7a2,"Remove unused category methods

Long-term I want to get rid of all category methods. Adding methods to system classes is bad."
sorbits,2013-01-24 14:20:34,https://api.github.com/repos/textmate/textmate/git/commits/fe08871c45ab1598719cba93a0cb64abc30558f0,fe08871c45ab1598719cba93a0cb64abc30558f0,"Inline deselectExtension code in OakSavePanel

The code is tweaked a bit compared to the category method we inlined."
sorbits,2013-01-24 14:08:59,https://api.github.com/repos/textmate/textmate/git/commits/a7a6f29f3f2a9ee91305134e1eae37424e5f6b23,a7a6f29f3f2a9ee91305134e1eae37424e5f6b23,Add HTML URL field to bundle_t
sorbits,2013-01-24 11:12:21,https://api.github.com/repos/textmate/textmate/git/commits/f8fa69d8b42bba99c9fce2bfc5741149e8fc19f7,f8fa69d8b42bba99c9fce2bfc5741149e8fc19f7,Calling setting_t::set with NULL_STR restores the default
sclukey,2013-01-23 16:10:03,https://api.github.com/repos/textmate/textmate/git/commits/d25c07f3a48a639d979c33f564d8bd95a52bb45b,d25c07f3a48a639d979c33f564d8bd95a52bb45b,Added ability to set default type to use for unknown documents.
sorbits,2013-01-24 10:37:34,https://api.github.com/repos/textmate/textmate/git/commits/c467e9ab97872617eae10777e85d2dabd5431d30,c467e9ab97872617eae10777e85d2dabd5431d30,"Our divider line view can now handle secondary color

This is used when the window is not main (if provided)."
sorbits,2013-01-24 10:13:10,https://api.github.com/repos/textmate/textmate/git/commits/54eb357eb95b768ee5fbb494b932bd4a2af9870f,54eb357eb95b768ee5fbb494b932bd4a2af9870f,"Opening folders is added to recent menu

This behavior was lost while reworking the document window class, closes #701."
sorbits,2013-01-23 19:54:45,https://api.github.com/repos/textmate/textmate/git/commits/3026480a0de77235382515c7e28f450421fdbcb4,3026480a0de77235382515c7e28f450421fdbcb4,"Clear file chooser filter string

Now that we re-use the window we need to manually clear the filter string (from last use)."
sorbits,2013-01-23 17:03:06,https://api.github.com/repos/textmate/textmate/git/commits/4beb62f2dcdab437a7de4b7a61a6238d02946e40,4beb62f2dcdab437a7de4b7a61a6238d02946e40,Checkin release notes
sorbits,2013-01-23 16:12:33,https://api.github.com/repos/textmate/textmate/git/commits/a67866ddb71d1d6ddd822975f5c3b29f6b2929d0,a67866ddb71d1d6ddd822975f5c3b29f6b2929d0,"Provide singleton API for FileChooser

You can still create multiple instances, but would generally not want to."
sorbits,2013-01-23 15:40:38,https://api.github.com/repos/textmate/textmate/git/commits/0467ce6bb405098c7758cbe74ded5248571ba4d8,0467ce6bb405098c7758cbe74ded5248571ba4d8,"Make file chooser a floating panel

Also disable our “render as active” code for the table view when the window is not key."
sorbits,2013-01-23 15:34:29,https://api.github.com/repos/textmate/textmate/git/commits/8e7de5e4adc1d83aa8a6ae008575acbcd8ce1f74,8e7de5e4adc1d83aa8a6ae008575acbcd8ce1f74,"Only underline matched characters

We now drawn the full string with same color and font.

Path shown in status bar is not marked up at all."
sorbits,2013-01-23 15:07:25,https://api.github.com/repos/textmate/textmate/git/commits/f0f64ccde4edee662a4fd1e8addb8875b3b58507,f0f64ccde4edee662a4fd1e8addb8875b3b58507,"Change some default settings

- File browser placed on right.
- HTML output placed in new window.
- Theme set to Twilight."
sorbits,2013-01-23 12:42:34,https://api.github.com/repos/textmate/textmate/git/commits/b1f9259cece34375ff5be6cf1f0936d61fdc5fa6,b1f9259cece34375ff5be6cf1f0936d61fdc5fa6,Render table view as having focus
sorbits,2013-01-23 11:15:48,https://api.github.com/repos/textmate/textmate/git/commits/127ef7e9eb88ac7dc17509e160440fbc16022cb2,127ef7e9eb88ac7dc17509e160440fbc16022cb2,"Files with no extension open as plain text

This is instead of asking the user."
sorbits,2013-01-23 10:46:30,https://api.github.com/repos/textmate/textmate/git/commits/49bb52c81290c28888f1f5c40b907e3a8c91a014,49bb52c81290c28888f1f5c40b907e3a8c91a014,"Improve scroll when selecting units

When selecting a unit (Edit → Select submenu or e.g. Find Next) then we only scroll if we can make the entire selection visible.

Closes #692."
sorbits,2013-01-23 10:08:26,https://api.github.com/repos/textmate/textmate/git/commits/16da0b5d76ca9851cadc64599b1e77ef8332ae68,16da0b5d76ca9851cadc64599b1e77ef8332ae68,"Don’t open documents with a path via UUID

The UUID is a unique reference to a document that trumps the path. However, as we don’t actually keep the documents in the file chooser, we end up with UUIDs from documents that does not exist, and should a new document be created for the same path, it will get another UUID."
sorbits,2013-01-23 09:57:16,https://api.github.com/repos/textmate/textmate/git/commits/67ebb34f23a3893eefc66171a9d0ce0f76e7afde,67ebb34f23a3893eefc66171a9d0ce0f76e7afde,"Fix unreliable tab switching keys

This was broken by 645f8d91e14cfc9b9b45aab3701378949e142e65.

The issue is that if the user press a key not in our managed menu, then the menu delegate will no longer be asked to update the menu for keys not in this (cached) menu.

Example: If there are items for ⌘1-3 in the menu and the user press ⌥⌘N a few times (to create more tabs), then the delegate is asked to update the menu on the first press, but as ⌥⌘N is not in the menu, successive events will not cause the menu to be updated. If the user then press ⌘5 (to go to the 5’th tab), nothing will happen, because our menu only holds 3 items, and the delegate is not asked to update the menu."
sorbits,2013-01-23 09:41:17,https://api.github.com/repos/textmate/textmate/git/commits/6cbf3e50717bde50a4085d7d727e07883f329090,6cbf3e50717bde50a4085d7d727e07883f329090,Use ns::create_event_string
infininight,2013-01-23 11:13:26,https://api.github.com/repos/textmate/textmate/git/commits/39ecb522d7ef03953adec6dddb9befc1e399021a,39ecb522d7ef03953adec6dddb9befc1e399021a,"Improve layout and styling of Go to File window.

- Remove focus ring from search field as there is no second target.
- Set top and bottom border widths for the textured window.
- Remove miniaturize and zoom buttons for lack of utility.
- Match name of window to menu command.
- Various color and spacing tweaks."
sorbits,2013-01-22 08:46:49,https://api.github.com/repos/textmate/textmate/git/commits/4f07b955563ae5a22670c73a78ffc3aef8b87fbe,4f07b955563ae5a22670c73a78ffc3aef8b87fbe,Add scope bar to file chooser
sorbits,2013-01-23 08:25:48,https://api.github.com/repos/textmate/textmate/git/commits/c8ab123aaf4f3de5cfebf33a703f82bab42dfbe9,c8ab123aaf4f3de5cfebf33a703f82bab42dfbe9,"Move font name/size to theme_t

Since styles_for_scope effectively ignore the font parameters (and instead return styles based on the font parameters used when the cache entry was created) it is a better design to have theme_t own the font. This way, changing it can do the proper cache invalidation.

A minor downside is that we can now change the font of the theme without also changing the layout’s font, which wouldn’t cause proper layout invalidation — since layout_t owns theme_t though, users of a layout should always change font via layout_t (which will then change it in the theme).

Also, themes cannot be shared between views that wish to use different font settings."
sorbits,2013-01-23 07:09:51,https://api.github.com/repos/textmate/textmate/git/commits/30c60ddc342739310947e29d4250bb129b458c24,30c60ddc342739310947e29d4250bb129b458c24,"Accept scope_t instead of context_t

Since styles are applied to the actual content, we only have a single scope, not a left/right scope."
sorbits,2013-01-23 05:54:18,https://api.github.com/repos/textmate/textmate/git/commits/aa71b7ccf0d075eaab9966b8689ac2328617244c,aa71b7ccf0d075eaab9966b8689ac2328617244c,"Adhere to naming convention

Given constraint-based layouts, we’re more likely to create views in code, and as helper functions are often involved, it makes sense to name them so that we can quickly get a list of all helpers (via search), either for copy/paste or for evaluating wether or not it makes sense to move all helpers to a single library.

Since helpers are declared with static storage, they do not pollute the global namespace."
joachimm,2013-01-22 21:19:02,https://api.github.com/repos/textmate/textmate/git/commits/2b51ca93bd8fff97f7da91e581a2080e65e17780,2b51ca93bd8fff97f7da91e581a2080e65e17780,"Don’t use font name / size as key values in style cache

Font name and font size was being used in the cache key as a way to avoid having to do cache invalidation. This comes at a price of a 3X slow down. Instead clear the cache when font size/name changes. Excessive font name/size switching should be deterred IMO, why not with slowdowns? so no real downside. This does not affect themes setting font name/size, as they are handled by another mechanism."
sorbits,2013-01-22 18:36:24,https://api.github.com/repos/textmate/textmate/git/commits/ef012c90f2e909bb914efeaa4a2f10d0e52aebd0,ef012c90f2e909bb914efeaa4a2f10d0e52aebd0,"Add undo support to file browser

This closes #17."
sorbits,2013-01-22 14:56:07,https://api.github.com/repos/textmate/textmate/git/commits/658c17023bb3d4a229ecdf4550cbca742c95c5d2,658c17023bb3d4a229ecdf4550cbca742c95c5d2,"Use menu validation instead of manual disabling items

This is required if some of the menu item targets are not ‘self’ as we do not know if these targets can handle the action method."
sorbits,2013-01-22 14:24:46,https://api.github.com/repos/textmate/textmate/git/commits/f4c42bbd7a0988c907a73f5513a532f61dca6d65,f4c42bbd7a0988c907a73f5513a532f61dca6d65,Fix double indent
sorbits,2013-01-22 14:22:58,https://api.github.com/repos/textmate/textmate/git/commits/6ca780191b1831444251c7e0a47c44695fd966ec,6ca780191b1831444251c7e0a47c44695fd966ec,"Remove undo/redo methods

This wasn’t functional (and not really in the responder chain)."
sorbits,2013-01-21 07:32:26,https://api.github.com/repos/textmate/textmate/git/commits/8cd45626abbade93c89dffc0d77c0412098a18aa,8cd45626abbade93c89dffc0d77c0412098a18aa,"Add OakFileManager

This is to be used with file actions done from the UI: Actions are undoable, proper dialogs will be shown for errors or to confirm permanent deletes on volumes without a trashcan (closes #589). Interface sounds will also be played (when moving, trashing, and duplicating items).

I decided not to use the asynchronous file system methods that NSWorkspace offer. Mainly because they can only be used for the initial operation, not during replay, as performing asynchronous operations during replay may cause issues if user moves quickly between items (something that seems to be an actual problem for Finder). The problem though only exist as long as we rely on NSUndoManager to manage the process.

Presently there is no API for batch operations, which leads to suboptimal action titles when performing multiple file system operations in the same undo group."
sorbits,2013-01-22 17:59:07,https://api.github.com/repos/textmate/textmate/git/commits/5799a7c4c49a47430255ffb849301dfe32d4e0c2,5799a7c4c49a47430255ffb849301dfe32d4e0c2,Add compatibility code for 10.7
sorbits,2013-01-22 13:49:48,https://api.github.com/repos/textmate/textmate/git/commits/4b0a9a08c7cea550cf83e48d2471770e6b1fefb2,4b0a9a08c7cea550cf83e48d2471770e6b1fefb2,"Change our main menu keyhandling ≠overload

We manually handle the Bundles menu (like before) and now use performActionForItemAtIndex: to make the menu flash (although presently only for the default items).

For the other menus we now call super and let that handle it. This means it might go into the Bundles menu, even though or menu delegate (for that menu) will say there are no key equivalents. This is only a problem for keys which do match items, but where all the items it matches are not supposed to fire."
sorbits,2013-01-22 11:43:33,https://api.github.com/repos/textmate/textmate/git/commits/72b587e1477407dec0275c29c7b6e1bb6f9dbc1b,72b587e1477407dec0275c29c7b6e1bb6f9dbc1b,"Account for strings with \0 characters

Previously we would truncate such strings."
sorbits,2013-01-22 11:08:15,https://api.github.com/repos/textmate/textmate/git/commits/1c164e3ce02465fd197463c0a72dfd804dd4b83e,1c164e3ce02465fd197463c0a72dfd804dd4b83e,"Do not timestamp our code signing

This means that the signature will be invalid when the certificate expires, though it also means that codesign runs faster, and as my certificate is valid for another 4 years, people shouldn’t be using the builds released today when the certificate expires."
sorbits,2013-01-22 10:25:52,https://api.github.com/repos/textmate/textmate/git/commits/7c305f744fbde012b3a84d745716e49a91f1c8a4,7c305f744fbde012b3a84d745716e49a91f1c8a4,Delete old file chooser code
sorbits,2013-01-22 09:57:47,https://api.github.com/repos/textmate/textmate/git/commits/645f8d91e14cfc9b9b45aab3701378949e142e65,645f8d91e14cfc9b9b45aab3701378949e142e65,"Let OS handle keys for Go to Tab submenu

My memory is a little vague here, but I believe the point of handling the menu keys was to workaround a bug in NSMenu.

The bug was that NSMenu would look at (the target of) cached menu items, probably for UI validation, so potentially sending methods to unretained objects, which could lead to a crash. Several workarounds were attempted (like clearing the target property after the menu had been displayed) but the only effective one was overloading key handling.

I’m quite sure though that this bug is no longer relevant."
sorbits,2013-01-22 07:51:48,https://api.github.com/repos/textmate/textmate/git/commits/4590a77a7123077aac0d6b0e82c6db84b06ab331,4590a77a7123077aac0d6b0e82c6db84b06ab331,"Switch HTML output window back to NSWindow

The motivation for using a panel was to avoid the window from becoming main (so key equivalents would be sent to the document window, if not handled by the HTML output window). Unfortunately window ordering ignores non-main windows when a window is closed meaning that bringing up the Find dialog from an HTML output window and then closing it, would bring the current main window to front, eclipsing the HTML output window."
sorbits,2013-01-22 07:01:07,https://api.github.com/repos/textmate/textmate/git/commits/7b8b13fa2f1496746987e99ad4b32f7a3e77713d,7b8b13fa2f1496746987e99ad4b32f7a3e77713d,"Improve behavior when resizing subviews

Now resizing one subview has the other view locked at its current size and will stay at that size. Previously if you made the window smaller, causing the HTML view (on right) to shrink, and then resized the file browser to be smaller, the HTML view would grow until it had reclaimed the pixels lost during window resize.

Additionally, when resizing the window, the HTML view (on right) will shrink to its minimum size before the file browser starts to shrink. Previously this was “undefined” and after shrinking a window, you could actually see the two views resize to redistribute the loss."
sorbits,2013-01-22 05:36:31,https://api.github.com/repos/textmate/textmate/git/commits/49a822c0d544fe0934639bdfee51f2f4740e3ea4,49a822c0d544fe0934639bdfee51f2f4740e3ea4,"Remove instance data from header

Also add type-safety by introducing a protocol for the delegate."
sorbits,2013-01-22 05:16:34,https://api.github.com/repos/textmate/textmate/git/commits/3c92d2aeb9c6960af7050c03d4f1574e822907f3,3c92d2aeb9c6960af7050c03d4f1574e822907f3,"Introduce ‘after_bump’ build target

This target is solely intended for other targets to depend on, and will cause the dependents to be rebuilt after the APP_REVISION has been increased.

For example ‘Contributions.md’ technically depend on commit history (and online lookups), but in practice we can’t specify this in its dependencies, so previously we had to manually touch the file, if we wanted the HTML to be regenerated.

Now we can have it done automatically after each ‘bump’ by adding this rule:

    build path/to/Contributions.md: touch | after_bump

For the records, I bump the revision *before* I do ‘ninja deploy’. This ensures that deployed versions do not share revision number with a custom build (I do another ‘ninja bump’ after a successful deploy and ./configure will also set APP_REVISION to ‘current + 1’)."
sorbits,2013-01-22 05:09:55,https://api.github.com/repos/textmate/textmate/git/commits/725b9613dda3b760fc7567789ef554586989603d,725b9613dda3b760fc7567789ef554586989603d,"When recreating build file, don’t expand APP_REVISION

This is just to make “bumping” the revision safer. Previously the revision number would be two places in the generated build file, and both needed to be bumped. Now there is only one instance. Generally the revision is bumped with ‘ninja bump’ so the user shouldn’t care about it, but sometimes manual intervention is required."
sorbits,2013-01-22 05:07:47,https://api.github.com/repos/textmate/textmate/git/commits/9711e92897b4919b4509faeafa6ed8b6d647dfce,9711e92897b4919b4509faeafa6ed8b6d647dfce,"Only build ‘bl’ if not already built

Also ensure the tbz archive is created atomically."
sorbits,2013-01-21 14:03:11,https://api.github.com/repos/textmate/textmate/git/commits/306ea6bbb499ec7cdb9e9f039d57efe4bcbe46d1,306ea6bbb499ec7cdb9e9f039d57efe4bcbe46d1,Checkin release notes
sorbits,2013-01-21 14:02:29,https://api.github.com/repos/textmate/textmate/git/commits/e7ada88e4259ced651dbefe545f5e191136073c8,e7ada88e4259ced651dbefe545f5e191136073c8,Minor tweak to file chooser UI
sorbits,2013-01-21 13:50:55,https://api.github.com/repos/textmate/textmate/git/commits/d00b9b34aaf031557b7c46c3f9e5ab3d1f42ef9c,d00b9b34aaf031557b7c46c3f9e5ab3d1f42ef9c,"Change how we update TextMate.app

We now keep the root folder and instead replace the inner Contents folder — hopefully this way LaunchServices won’t add the update as a new entry (causing duplicates to show up in the Open With menu)."
sorbits,2013-01-21 13:03:52,https://api.github.com/repos/textmate/textmate/git/commits/97439b9a0bdd803c17417d05cab40ab6f7b656ef,97439b9a0bdd803c17417d05cab40ab6f7b656ef,"Remove the projectDirectory setting

As I add sub-projects (like the CommitWindow) under Applications, I don’t want those to pickup the parent project’s root, when they are opened on their own."
sorbits,2013-01-21 13:00:04,https://api.github.com/repos/textmate/textmate/git/commits/02084146726166561f278baff231c7a8f787cc3c,02084146726166561f278baff231c7a8f787cc3c,"Download s/w updates to cache folder

This should hopefully solve the issue with the (on some systems) fairly aggressive temp cleaner.

Also remove the archive incase the user cancels the update, now that we are extracting it to a less temporary location."
sorbits,2013-01-21 12:50:37,https://api.github.com/repos/textmate/textmate/git/commits/b0c4363c485b3473cc57e3ff172ab7b765250ff7,b0c4363c485b3473cc57e3ff172ab7b765250ff7,"Introduce path::cache

This gives the cache location — this one is not cleaned as often as the temp directory."
sorbits,2013-01-21 12:17:50,https://api.github.com/repos/textmate/textmate/git/commits/c874a81246715279a076e6a9e0cf59aa3f1767d9,c874a81246715279a076e6a9e0cf59aa3f1767d9,"Indicate cell prefersTrackingUntilMouseUp

Not really sure if there is any difference, but at least with this, the table view should expect trackMouse:inRect:ofView:untilMouseUp: to run a local event loop (until NSLeftMouseUp)."
sorbits,2013-01-21 09:11:52,https://api.github.com/repos/textmate/textmate/git/commits/e19686c9d8f85772984c5fd0033cf80b485bbf4e,e19686c9d8f85772984c5fd0033cf80b485bbf4e,"Handle targets with no dependencies

These would not be added to the dependency graph and thus no build instructions were generated for them."
infininight,2013-01-21 05:10:32,https://api.github.com/repos/textmate/textmate/git/commits/69700312451e233fa84c926d7842e4048df7bd43,69700312451e233fa84c926d7842e4048df7bd43,"Restyle navigation bar to be more in line with Lion.

- The shading is a combination of the scope bar and textured button used in Lion/Mountain Lion.
- Add an inactive state.
- Increase click area of the forward/back buttons while decreasing the image size.
- Switch popup menu cell to NSBackgroundStyleLight, previously the text would go to gray when inactive this prevents that though it does lose the drop shadow.
- Various tweaks to alignment and spacing."
sorbits,2013-01-21 05:11:51,https://api.github.com/repos/textmate/textmate/git/commits/4ad6dc99a95e3c556ffae5403c78b1307b47642e,4ad6dc99a95e3c556ffae5403c78b1307b47642e,"Use ‘nil’ to indicate no represented file

The window uses the empty string, but since we use our represented file property to create proxy icons, test if we should setup SCM status watching, etc., we don’t want to test for either nil or empty string in all these places.

This fixes exception from creating OakFileIconImage from empty string."
sorbits,2013-01-21 04:54:07,https://api.github.com/repos/textmate/textmate/git/commits/cbe38c92ce4fa658ac693e4fbad6e2759aca243c,cbe38c92ce4fa658ac693e4fbad6e2759aca243c,"Initialize encoding pop-up (Preferences)

Previously this would always show UTF-8 and cause an existing setting to be overwritten (with UTF-8) when bringing up the preferences window."
sorbits,2013-01-20 11:44:42,https://api.github.com/repos/textmate/textmate/git/commits/564571ab8b33eb8a7d107e20e2b3b9c3b7371401,564571ab8b33eb8a7d107e20e2b3b9c3b7371401,Pass SCM info to file chooser
sorbits,2013-01-20 11:35:37,https://api.github.com/repos/textmate/textmate/git/commits/a02305df2d490c27cbe702aaff747d3a76f1d109,a02305df2d490c27cbe702aaff747d3a76f1d109,"Add ‘scmInfo’ property to file chooser

If set, the file chooser will use this to obtain file SCM status."
sorbits,2013-01-20 11:27:28,https://api.github.com/repos/textmate/textmate/git/commits/98b19afcba0b020ec36132111b1ab745359c780e,98b19afcba0b020ec36132111b1ab745359c780e,"Let file chooser setup OakFileIconImage

This makes it a lot faster as we don’t need to stat the files etc. Presently though there is no SCM badging."
sorbits,2013-01-20 10:46:36,https://api.github.com/repos/textmate/textmate/git/commits/ba58611c66548397f381b9498f39e601221b26d3,ba58611c66548397f381b9498f39e601221b26d3,"Add API to OakFileIconImage

This allows manually setting up SCM status, link badge, and similar, which avoids having OakFileIconImage do any disk access."
sorbits,2013-01-20 09:54:07,https://api.github.com/repos/textmate/textmate/git/commits/63d734295bdb3a7bbbaf9d7ae480458140ea30e8,63d734295bdb3a7bbbaf9d7ae480458140ea30e8,"Cache custom icon images

Also fix it so that a file named ‘gen_html’ doesn’t get the HTML icon (as we no longer use path::rank for finding the best icon)."
sorbits,2013-01-20 07:29:08,https://api.github.com/repos/textmate/textmate/git/commits/6bdf883abf32d67785740b46630a94271b8e39bc,6bdf883abf32d67785740b46630a94271b8e39bc,fixup! Optimize path::disambiguate
sorbits,2013-01-20 06:48:55,https://api.github.com/repos/textmate/textmate/git/commits/5627d201db5b0e72321523845671a9dba4029a32,5627d201db5b0e72321523845671a9dba4029a32,"Opening multiple documents selects the last one

This way ⌘W can be used to close the current document and move to the “next” one which was part of the set opened."
sorbits,2013-01-20 06:41:43,https://api.github.com/repos/textmate/textmate/git/commits/ee44735a88bf5f89b799d4d4202af9a8094e5f6c,ee44735a88bf5f89b799d4d4202af9a8094e5f6c,Don’t re-use scratch document for already open documents
sorbits,2013-01-20 06:34:18,https://api.github.com/repos/textmate/textmate/git/commits/cd40111b9196f97018033c93a723eb2eb3b6dec6,cd40111b9196f97018033c93a723eb2eb3b6dec6,Skip modified tabs when opening with “close other”
sorbits,2013-01-20 04:39:57,https://api.github.com/repos/textmate/textmate/git/commits/fe3dff7af68778fb45b3962a15b0b3a9f0bde0f0,fe3dff7af68778fb45b3962a15b0b3a9f0bde0f0,Replace custom code with kSelectionExtendToWord
sorbits,2013-01-20 04:17:44,https://api.github.com/repos/textmate/textmate/git/commits/36e612930db8391720d3b828d9d394ebd01f6ad5,36e612930db8391720d3b828d9d394ebd01f6ad5,Don’t setup variables in test proxy
sorbits,2013-01-20 04:04:41,https://api.github.com/repos/textmate/textmate/git/commits/ec79163f301c2201a63bf1c6cddf09df9a9270f4,ec79163f301c2201a63bf1c6cddf09df9a9270f4,Avoid editor_t::variables for getting selected text
sorbits,2013-01-19 14:22:11,https://api.github.com/repos/textmate/textmate/git/commits/46d870c5ca00faadc2df5d1636d12a9a46b1daf0,46d870c5ca00faadc2df5d1636d12a9a46b1daf0,Let DocumentController provide SCM scopes
sorbits,2013-01-19 13:14:13,https://api.github.com/repos/textmate/textmate/git/commits/340782dbc97180ddfec33e2118531d937cb58975,340782dbc97180ddfec33e2118531d937cb58975,Update SCM variables with status
sorbits,2013-01-19 12:48:04,https://api.github.com/repos/textmate/textmate/git/commits/55b64153396f7423f06961bb5f5c7e0fa1f4e09a,55b64153396f7423f06961bb5f5c7e0fa1f4e09a,Untitled files would be prefixed with a null string
sorbits,2013-01-19 11:22:04,https://api.github.com/repos/textmate/textmate/git/commits/61b01c89f8249909747e5553a6fd5dae4c31033f,61b01c89f8249909747e5553a6fd5dae4c31033f,Use scm variables API
sorbits,2013-01-19 11:10:46,https://api.github.com/repos/textmate/textmate/git/commits/beb74174005a74a272981348ab97fbe02093de55,beb74174005a74a272981348ab97fbe02093de55,"Introduce API for getting “scm variables”

This is both convenience, since we setup the TM_SCM variables in several places, but will also allow to register for changed variables (and thus, fetch branch name in a thread)."
sorbits,2013-01-19 10:51:52,https://api.github.com/repos/textmate/textmate/git/commits/92685ecf07a77079e13a8db441e63bbf93ff9e99,92685ecf07a77079e13a8db441e63bbf93ff9e99,Use C++11 for-loop instead of macro
sorbits,2013-01-19 10:28:22,https://api.github.com/repos/textmate/textmate/git/commits/19030a7586c3ed7da86b5a69334cec56c3a6f029,19030a7586c3ed7da86b5a69334cec56c3a6f029,Use file’s existing icon when zooming it
sorbits,2013-01-19 07:20:30,https://api.github.com/repos/textmate/textmate/git/commits/6c05cae8ed6278c2ebe5eafe6506f0877427c773,6c05cae8ed6278c2ebe5eafe6506f0877427c773,Use std::inserter helper function
sorbits,2013-01-19 07:14:50,https://api.github.com/repos/textmate/textmate/git/commits/fb8ad13a498ff2069ed68f5164b9d3758cbdad6a,fb8ad13a498ff2069ed68f5164b9d3758cbdad6a,Indicate modified status in file chooser
sorbits,2013-01-19 06:56:09,https://api.github.com/repos/textmate/textmate/git/commits/0562d22716e77b82a4ae0d69ee7857beba18d7e6,0562d22716e77b82a4ae0d69ee7857beba18d7e6,"Ensure we remove ourself from all observing

The file browser was still observing FSItemDidReloadNotification in its dealloc. Prior to ARC we used ‘self.outlineView = nil’ which removed us as observer, but after ARC we no longer execute that line."
sorbits,2013-01-18 14:27:58,https://api.github.com/repos/textmate/textmate/git/commits/3b05ec3704ceeb1da969a624fc09114ad16828e1,3b05ec3704ceeb1da969a624fc09114ad16828e1,"Let file chooser show icon and close button

The close button is currently not working."
sorbits,2013-01-18 14:26:12,https://api.github.com/repos/textmate/textmate/git/commits/4f4a56fd7a3d121cec4e8ffcad392971801ab9b0,4f4a56fd7a3d121cec4e8ffcad392971801ab9b0,"Make OFBPathInfoCell a public class

This is temporary — if it should remain public, we should rename it and move it to the OakAppKit framework."
sorbits,2013-01-18 14:24:14,https://api.github.com/repos/textmate/textmate/git/commits/f2ed528bb1070c312ac6c858d60308e59c9dfe91,f2ed528bb1070c312ac6c858d60308e59c9dfe91,"Improve code for showing VO tab menu

We now use standard API for showing the menu and position it relative to the VO-selected tab."
sorbits,2013-01-18 13:50:41,https://api.github.com/repos/textmate/textmate/git/commits/701e26997e7ea80b807ec2ee994276fb5ffd964c,701e26997e7ea80b807ec2ee994276fb5ffd964c,Fix typo in enum value
sorbits,2013-01-18 13:48:51,https://api.github.com/repos/textmate/textmate/git/commits/d40a1fa4318e6f7b222f8de6f804ac38b121c460,d40a1fa4318e6f7b222f8de6f804ac38b121c460,Switch to generated properties
sorbits,2013-01-18 04:44:02,https://api.github.com/repos/textmate/textmate/git/commits/686f9eadb1129f8eae3be33313bf733b91767ccb,686f9eadb1129f8eae3be33313bf733b91767ccb,Allow slashes in path string on find clipboard (⌘T)
sorbits,2013-01-18 04:43:01,https://api.github.com/repos/textmate/textmate/git/commits/29638a948dbb4ce7ebf1c6c91b2b6c1bb2ae5335,29638a948dbb4ce7ebf1c6c91b2b6c1bb2ae5335,Switch to reworked file chooser
sorbits,2013-01-16 10:01:51,https://api.github.com/repos/textmate/textmate/git/commits/dea1376c5b2d40211d6e449778cfb26c1c53cb5c,dea1376c5b2d40211d6e449778cfb26c1c53cb5c,"Add reworked file chooser

Presently the ‘@symbol’ syntax is not implemented.

I have removed the glob text field (so fixes #601), if it comes back, it’ll likely be as a different control, but I think we can do without this extra filtering. You can set the various include/exclude patterns for the file browser.

The tabs are also gone, though you can still use Go → Go to Tab → [ Project Folder (⌘1) | Go → Open Documents (⌘2) ] and the “Open Documents” mode list all open documents from the current project window (so partial fix for #139).

It no longer waits for all items to be loaded when you hit return (fixes #672), though as all open documents from current window are preloaded, it shouldn’t cause a problem when pressing ⌘T + ↩ quickly to go to previous file."
sorbits,2013-01-18 10:10:06,https://api.github.com/repos/textmate/textmate/git/commits/20378c426e65f31eaa3232d4b95961aef33e71da,20378c426e65f31eaa3232d4b95961aef33e71da,A full match should rank highest
sorbits,2013-01-18 04:39:14,https://api.github.com/repos/textmate/textmate/git/commits/e6a4254e618c476694a7e22cfe04877666e6947b,e6a4254e618c476694a7e22cfe04877666e6947b,"Allow excluding untitled documents from document::scanner_t

The problem with this feature is that it includes all untitled documents including e.g. the current bundle item being edited. For things like ⌘T we only want to show untitled documents from the current window."
sorbits,2013-01-17 09:01:37,https://api.github.com/repos/textmate/textmate/git/commits/3a515f1551e80a44e1407068a956432c83f3ae7c,3a515f1551e80a44e1407068a956432c83f3ae7c,Checkin release notes
sorbits,2013-01-17 08:15:21,https://api.github.com/repos/textmate/textmate/git/commits/e46ea56af99d7dfd1535c77e67b2edc3ed895a82,e46ea56af99d7dfd1535c77e67b2edc3ed895a82,"Exclude gutter from accessibility

This was read as “empty scroll view” (using voice over), so better to skip it."
sorbits,2013-01-17 07:42:41,https://api.github.com/repos/textmate/textmate/git/commits/356474626087038a7560f1204f47cfb22417031f,356474626087038a7560f1204f47cfb22417031f,"Add folder’s display name to menu items

This is only for the menu which shows when there is no selection."
sorbits,2013-01-17 07:38:27,https://api.github.com/repos/textmate/textmate/git/commits/af8d8d3dbbcb2fc7c51eb5ac67f7f471bf85f938,af8d8d3dbbcb2fc7c51eb5ac67f7f471bf85f938,Show in Finder works for multiple selected items
sorbits,2013-01-17 07:19:06,https://api.github.com/repos/textmate/textmate/git/commits/d7198ed776b9daff854d53fa63bb81829aa5b3fe,d7198ed776b9daff854d53fa63bb81829aa5b3fe,"Update dialog plugins

Fixes #584"
sorbits,2013-01-17 06:33:40,https://api.github.com/repos/textmate/textmate/git/commits/372f1a780ec65723deab9c64f632dbfdd0c8f409,372f1a780ec65723deab9c64f632dbfdd0c8f409,"Don’t link to GitHub’s download section

This is an attempt of satisfying issue #677 — not entirely sure what was intended by opening that issue (given that nothing is presently broken and I surely will figure out another place to upload the builds once GitHub’s service is shut down completely)."
sorbits,2013-01-16 16:49:06,https://api.github.com/repos/textmate/textmate/git/commits/edbf9ac079c175278d8f69821045d5069a37c25f,edbf9ac079c175278d8f69821045d5069a37c25f,"Optimize path::disambiguate

We now sort the reversed paths and do a linear sweep."
dusek,2012-12-31 19:48:05,https://api.github.com/repos/textmate/textmate/git/commits/1bcdf4abe2eba92572681316563f6fc132b5eb28,1bcdf4abe2eba92572681316563f6fc132b5eb28,Make OakTabBarView accessible
dusek,2012-12-08 17:10:04,https://api.github.com/repos/textmate/textmate/git/commits/7d47dd279f736796742dd4d5d3adfa320a512321,7d47dd279f736796742dd4d5d3adfa320a512321,"Make OakPasteboardSelector accessible

Issues remaining:

* VoiceOver for some reason cannot track keyboard focus
  (i.e. moving down the list with just down arrow does not move
  VoiceOver cursor). User has to move the VO cursor instead using VO-down
  (and keyboard cursor follows in this case)
* the pasteboard window isn't focused automatically for VoiceOver, user
  has to switch manually to it using VO-F2-F2"
sorbits,2013-01-16 03:29:02,https://api.github.com/repos/textmate/textmate/git/commits/d7661fc7bbf7e361c52637465afa42d659ed07ac,d7661fc7bbf7e361c52637465afa42d659ed07ac,"Picking “Other…” in file browser would stick

Issue #673."
sorbits,2013-01-16 03:24:15,https://api.github.com/repos/textmate/textmate/git/commits/a2a3bf96b58c2e88ce8f3547e0b5dc08c213146c,a2a3bf96b58c2e88ce8f3547e0b5dc08c213146c,"Enable ‘Go → Reload’ when text view is focused

Previously would only work if focus was in the file browser.

Issue #674."
sorbits,2013-01-16 03:18:31,https://api.github.com/repos/textmate/textmate/git/commits/2e43970d0547f9494d35ea0e4f9c6568c9414f19,2e43970d0547f9494d35ea0e4f9c6568c9414f19,"Don’t ask to save untitled documents during quit

This is only if there are no other documents with unsaved changes and the user has ‘open documents from last session’ enabled in preferences.

The rationale behind only offering it for untitled documents is that we can be sure that these will not be modified by another program while TextMate is not running. It also seems to be less valuable to have TextMate keep unsaved changes to a file that exist on disk, in fact, it’s a pretty bad behavior IMHO (and dangerous if other programs may work on the file)."
sorbits,2013-01-16 03:17:23,https://api.github.com/repos/textmate/textmate/git/commits/8611aa3f113ce0d9a7cd49e96c86f287ae040cd7,8611aa3f113ce0d9a7cd49e96c86f287ae040cd7,"Introduce document_t::detach_backup

This will reset the document’s backup path but not delete the backup on disk (which can be found via the document’s identifier).

This is useful if we wish to dispose the document but reconstruct it later (e.g. during application termination)."
sorbits,2013-01-16 03:13:53,https://api.github.com/repos/textmate/textmate/git/commits/3835b55a55105c7db940b69d360abd9b9afaa5a8,3835b55a55105c7db940b69d360abd9b9afaa5a8,"Fix resize constraints for file browser / HTML output

These were set to ‘NSLayoutPriorityRequired-1’ which is higher than the window’s size constraints, meaning that resizing the window would not allow shrinking the file browser (or HTML output) views, furthermore, by making the views larger (when dragging the divider) the growth would not be constrained by the current window size, so it was possible to make the window grow with it.

The priority is now the proper NSLayoutPriorityDragThatCannotResizeWindow."
sorbits,2013-01-16 02:55:59,https://api.github.com/repos/textmate/textmate/git/commits/10b794bb96a3e1eecde5a1324de1e40e781fa077,10b794bb96a3e1eecde5a1324de1e40e781fa077,"Creating empty glob_list_t matches everything

This is more than creating a glob_list_t containing just ‘*’, as the latter does not match hidden files, so it is more like ‘{*,.*}’, which is a bit arcane, so I think it’s better to allow using an empty list in cases where you wish to match everything (but the API accepts a glob list for filtering purposes)."
sorbits,2013-01-16 02:54:15,https://api.github.com/repos/textmate/textmate/git/commits/fd14df1800c71434a0f7c7381bdeda9fa49854b6,fd14df1800c71434a0f7c7381bdeda9fa49854b6,"Default file type is Objective-C++ for this project

Previously it was C++ — not sure if a setting like this belongs in the project or should be user-specific. Presently though the .tm_properties system lack a way to include user specific files, and while one can put the settings in ~/.tm_properties and make them target a (project) sub-folder, they would not override the settings set in the project."
sorbits,2013-01-15 02:24:42,https://api.github.com/repos/textmate/textmate/git/commits/4f7deb09d8b466b5aa590dd17e3470b47b8f5fab,4f7deb09d8b466b5aa590dd17e3470b47b8f5fab,Let symbolicator script find and extract dsym.tbz
sorbits,2013-01-15 01:54:32,https://api.github.com/repos/textmate/textmate/git/commits/2d8d393878e19ab874d1fe567081e01fd15fd7c0,2d8d393878e19ab874d1fe567081e01fd15fd7c0,Close excess tabs when tab bar overflows
sorbits,2013-01-15 01:24:16,https://api.github.com/repos/textmate/textmate/git/commits/f9846649215c031e287aaab0c55896a8b5cf6f1b,f9846649215c031e287aaab0c55896a8b5cf6f1b,"Add recursion guard to mouseDown:

It’s not clear to me how we end up calling ourself, but I see (stack overflow) crash reports that has mouseDown: interspersed with forwardMethod."
sorbits,2012-09-24 18:05:47,https://api.github.com/repos/textmate/textmate/git/commits/d178263cca02faf4bbf336485840a80c335d4dce,d178263cca02faf4bbf336485840a80c335d4dce,ARC: Update HTMLOutput framework
sorbits,2013-01-14 06:00:41,https://api.github.com/repos/textmate/textmate/git/commits/53bd39b6363f877b7f36bf631af021b68c1a80ec,53bd39b6363f877b7f36bf631af021b68c1a80ec,"Rework HTML output toolbar

The toolbar now uses standard system controls for better accessibility."
sorbits,2013-01-14 03:39:51,https://api.github.com/repos/textmate/textmate/git/commits/69904bef754c5a07b925b4e63789e8f8e2bd8246,69904bef754c5a07b925b4e63789e8f8e2bd8246,Improve look of navigation bar
sorbits,2013-01-14 03:05:07,https://api.github.com/repos/textmate/textmate/git/commits/8618224d006933bb6323f60b29fc0ecd5145e6dd,8618224d006933bb6323f60b29fc0ecd5145e6dd,Use OakCreateViewWithColor()
sorbits,2013-01-14 03:03:48,https://api.github.com/repos/textmate/textmate/git/commits/87162c9897b64468a64197d594c2be0ec0e23977,87162c9897b64468a64197d594c2be0ec0e23977,"Introduce OakCreateViewWithColor

This is useful when needing colored dividers in a layouts."
sorbits,2013-01-13 23:50:12,https://api.github.com/repos/textmate/textmate/git/commits/538ba8220d6956bf83fbb4e36c061048c6b6bd42,538ba8220d6956bf83fbb4e36c061048c6b6bd42,Update to auto-generated instance variables
sorbits,2013-01-13 12:02:04,https://api.github.com/repos/textmate/textmate/git/commits/3bee6cf5c6f4ecb4347936b283b7cd40980c5a19,3bee6cf5c6f4ecb4347936b283b7cd40980c5a19,"Use path before inode to determine file identity

Previously when opening a file TextMate only looked at the (cached) inode of the open documents to learn if the requested file was already open. This could result in opening two versions of the same file e.g. after ‘git rebase’ as git will write new files with new inodes when updating the working copy.

Closes issue #666."
sorbits,2013-01-13 10:55:23,https://api.github.com/repos/textmate/textmate/git/commits/de79c30f698a25f54b2a7ef91b0f4291b1f0cf0b,de79c30f698a25f54b2a7ef91b0f4291b1f0cf0b,Checkin release notes
sorbits,2013-01-13 10:01:59,https://api.github.com/repos/textmate/textmate/git/commits/b1dc3fce6617d50ebdbfe8dc259fd3bee404dfe8,b1dc3fce6617d50ebdbfe8dc259fd3bee404dfe8,Fix missing variables for windowless commands
sorbits,2013-01-13 09:30:43,https://api.github.com/repos/textmate/textmate/git/commits/44e760a7d9934bb091b3e3ac2c4010179d3c67db,44e760a7d9934bb091b3e3ac2c4010179d3c67db,"Improve support for full screen mode

When opening a new window we ignore windows in full screen or on another space when searching for a window we can cascade to.

Full screen status of a window is restored after a relaunch and the bigger frame (when in full screen mode) is not stored in the session data or user defaults (as it should not be used).

Closes issue #667."
sorbits,2013-01-13 07:54:16,https://api.github.com/repos/textmate/textmate/git/commits/000923d4123c101aea0b339310a41952f8e75a97,000923d4123c101aea0b339310a41952f8e75a97,"Avoid static storage in threads

The problem is that during program termination all data with static storage is destructed but that may happen before the threads have finished their work."
sorbits,2013-01-13 07:49:00,https://api.github.com/repos/textmate/textmate/git/commits/5c97afd3bf55acd15ef0cbf9f560846a72954b09,5c97afd3bf55acd15ef0cbf9f560846a72954b09,Convert helpers to lambda functions
sorbits,2013-01-13 07:17:45,https://api.github.com/repos/textmate/textmate/git/commits/cb631fdc6225b068dbec3971ddf0981e3abf874d,cb631fdc6225b068dbec3971ddf0981e3abf874d,"Fix bad ranking of learned abbreviations

If multiple paths were associated with the same abbreviations, all but the first one would be placed last in the results list."
sorbits,2013-01-13 05:29:15,https://api.github.com/repos/textmate/textmate/git/commits/4b369e3bf16fd4ed704b2f60991f500873d727fe,4b369e3bf16fd4ed704b2f60991f500873d727fe,"Close HTML output view when using exit_discard

This was also done by TextMate 1.x."
sorbits,2013-01-13 03:38:51,https://api.github.com/repos/textmate/textmate/git/commits/cd153b66050f03b7a3b4a5efa5e36d23896f2b59,cd153b66050f03b7a3b4a5efa5e36d23896f2b59,"Let selectURLs:expandChildren: deselect all

It also clears the history of non-visible items that was left selected."
sorbits,2013-01-13 03:21:22,https://api.github.com/repos/textmate/textmate/git/commits/64f0f209dac97e5def8373c2b1ffab53f9f02bb1,64f0f209dac97e5def8373c2b1ffab53f9f02bb1,"Using Go → Enclosing Folder selects the child

This is consistent with how Finder works and I think this is desired behavior to sort of track where we came from."
sorbits,2013-01-13 03:12:34,https://api.github.com/repos/textmate/textmate/git/commits/c78c758c4a438ee9f538200d598e24cd365407cf,c78c758c4a438ee9f538200d598e24cd365407cf,"Remember current file browser selection in session data

This ensures that we restore the selection for the currently visible folder on relaunch. Selections in other folders is lost, see previous commit for more info."
sorbits,2013-01-13 03:11:05,https://api.github.com/repos/textmate/textmate/git/commits/0d8ade268747339452d78d3ba8331eaacf738348,0d8ade268747339452d78d3ba8331eaacf738348,Insignificant stylistic change
sorbits,2013-01-13 03:10:08,https://api.github.com/repos/textmate/textmate/git/commits/06fea983fca20442698e14174c7717959cb56376,06fea983fca20442698e14174c7717959cb56376,"Don’t keep selected items in defaults

This means the set of selected file browser items is reset on relaunch — I’ve found that restoring selection when navigating to a folder was often not really desired."
sorbits,2013-01-13 02:53:35,https://api.github.com/repos/textmate/textmate/git/commits/54f1343ca24dc5f2dff441d6a8891bc68637836d,54f1343ca24dc5f2dff441d6a8891bc68637836d,"Folder search now reads all relevant exclude patterns

Previously it wouldn’t read kSettingsExcludeDirectoriesKey and kSettingsExcludeFilesKey."
sorbits,2013-01-13 02:35:27,https://api.github.com/repos/textmate/textmate/git/commits/9167035ad92b6db903cd2daf81499512a77b4af7,9167035ad92b6db903cd2daf81499512a77b4af7,"Don’t reload file browser for non-visible files

Previously we would reload the changed entries, if they were all visible, falling back on a full reload if not.

If items are not visible there should be no reason to do a full reload — I imagine the thinking was that the NSOutlineView may have previously fetched (and cached) one of the non-visible items (since one of its ancestors could just be collapsed). Since this is just a display attribute, it shouldn’t matter, even if the NSOutlineView would work like this."
sorbits,2013-01-12 23:54:25,https://api.github.com/repos/textmate/textmate/git/commits/d861ae238ebcec5845e3018622ec5bee7c57cf73,d861ae238ebcec5845e3018622ec5bee7c57cf73,"Let the pretty_plist CLI tool accept file name

Previously it only supported stdin meaning it couldn’t be used with find, xargs, and similar."
sorbits,2013-01-12 23:53:18,https://api.github.com/repos/textmate/textmate/git/commits/65a279802d6b93b86270969c30ea2dea156121d9,65a279802d6b93b86270969c30ea2dea156121d9,"Rename function name

We not only convert between NSArray and NSSet, but also the type of the contained object (NSURL ⇔ NSString)."
sorbits,2013-01-12 23:49:38,https://api.github.com/repos/textmate/textmate/git/commits/f477776ae03e0898d09ec5e2444e45a5939e367a,f477776ae03e0898d09ec5e2444e45a5939e367a,Better console message for orphaned bundle items
sorbits,2013-01-12 22:54:15,https://api.github.com/repos/textmate/textmate/git/commits/8be514ccb2fdb5430f2209a8d5fb703e8f86ab98,8be514ccb2fdb5430f2209a8d5fb703e8f86ab98,"Rename byExpandingAncestors: → expandChildren:

We are expanding the children of the root item to select the provided URLs."
sorbits,2013-01-12 07:31:26,https://api.github.com/repos/textmate/textmate/git/commits/59ff33fc5b6f219f09c46f003652a1016c9ab456,59ff33fc5b6f219f09c46f003652a1016c9ab456,"Insert file browser into responder chain

This is required to have the object respond to various action methods such as cut:, copy:, paste:, and delete: — ideally though the class would handle it by itself, as OFB responsibility is bleeding into the document controller (though long-term I think it makes sense to instead let the document controller implement the OFB action methods)."
sorbits,2013-01-12 07:05:25,https://api.github.com/repos/textmate/textmate/git/commits/5e291d8a228bd2beda8098e6d8b15f4ffd00ffff,5e291d8a228bd2beda8098e6d8b15f4ffd00ffff,"Improve QuickLook support

Preview can now be initiated with multiple items and while the preview panel is showing, one can use arrow up/down to switch to other items (in the file browser)."
sorbits,2013-01-12 06:41:02,https://api.github.com/repos/textmate/textmate/git/commits/35d413225dd67bfba43ef1038ee0a2f9d5b7334e,35d413225dd67bfba43ef1038ee0a2f9d5b7334e,"Send method to class name instead of ‘self’

This avoids potential compiler errors where multiple methods with same signature but different parameter/result types."
sorbits,2013-01-12 04:50:30,https://api.github.com/repos/textmate/textmate/git/commits/d6759dc9dfa68ac6c9e4ea8e578bbba6ab2fd792,d6759dc9dfa68ac6c9e4ea8e578bbba6ab2fd792,Tidy up OakFileBrowser
sorbits,2013-01-12 03:13:21,https://api.github.com/repos/textmate/textmate/git/commits/be1cfeb45897de793edbac335a7c5be95931aa86,be1cfeb45897de793edbac335a7c5be95931aa86,"Improve file browser API

We now expose the root URL and allows mutating it.

We also provide the selectURL:withParentURL: method instead of the two showURL: and revealURL:."
sorbits,2013-01-12 03:05:17,https://api.github.com/repos/textmate/textmate/git/commits/0ed119122fabaf9cf76028e09b45b683b8c60a9d,0ed119122fabaf9cf76028e09b45b683b8c60a9d,"Refactor “reveal file” methods

Both methods are now based on selectURL:withParentURL: which contain the necessary checks (file already visible? parent actually valid?)."
sorbits,2013-01-12 02:26:39,https://api.github.com/repos/textmate/textmate/git/commits/15409e2eecbd16f804bd2a3865ae0aaa4e8a2a8a,15409e2eecbd16f804bd2a3865ae0aaa4e8a2a8a,"Rename pushURL: → goToURL:

Also change showURL: calls into using goToURL: (when we know the URL is not a non-directory file URL that should be selected)."
sorbits,2013-01-12 02:08:25,https://api.github.com/repos/textmate/textmate/git/commits/10ef2f10342dbf1d288b7b7e92143e95e271d2cd,10ef2f10342dbf1d288b7b7e92143e95e271d2cd,Rename property (location → path)
sorbits,2013-01-12 01:55:13,https://api.github.com/repos/textmate/textmate/git/commits/c323486250b19b4aa522afe635a020596c9649f9,c323486250b19b4aa522afe635a020596c9649f9,Merge history controller into OakFileBrowser
sorbits,2013-01-11 23:12:22,https://api.github.com/repos/textmate/textmate/git/commits/49c587e6bdd4eca5c10e12ca54c8e8b42e4305e0,49c587e6bdd4eca5c10e12ca54c8e8b42e4305e0,Do not track recent locations
sorbits,2013-01-11 23:10:07,https://api.github.com/repos/textmate/textmate/git/commits/b4066afc9a15e5fbf5eaf5c0b9de2b88d290ba14,b4066afc9a15e5fbf5eaf5c0b9de2b88d290ba14,"Omit recent items from file browser menu

This is a feature I have never used myself and it was somewhat limited by having the recent locations unique for each window.

If the feature should be revived it should be via a globally shared list of recent locations (and should persist across relaunch)."
sorbits,2013-01-11 12:37:27,https://api.github.com/repos/textmate/textmate/git/commits/5224d0b89c79da30924a7a7162e32e8ed77d697b,5224d0b89c79da30924a7a7162e32e8ed77d697b,Refactor OFBHeaderView
sorbits,2013-01-11 12:36:38,https://api.github.com/repos/textmate/textmate/git/commits/73e18d30dbb964ddad104490fc6b2047c07e87fd,73e18d30dbb964ddad104490fc6b2047c07e87fd,"Merge OFBView into main controller

Using an NSView subclass wasn’t justified."
sorbits,2013-01-11 09:41:09,https://api.github.com/repos/textmate/textmate/git/commits/87f1c109d35f0c3aaf7f5ff2e173b617f02bb16d,87f1c109d35f0c3aaf7f5ff2e173b617f02bb16d,Proper delegate/datasource removal
sorbits,2013-01-11 09:34:53,https://api.github.com/repos/textmate/textmate/git/commits/34276399931cbacdc2c0b9f600f446ca7421be18,34276399931cbacdc2c0b9f600f446ca7421be18,"Switch to generated properties

Also remove implementation details from public header."
sorbits,2013-01-11 08:45:30,https://api.github.com/repos/textmate/textmate/git/commits/f3f0f577bf55aafd87117836e05fcc19fa3fd5ba,f3f0f577bf55aafd87117836e05fcc19fa3fd5ba,ARC: Update OakFileBrowser framework
sorbits,2013-01-11 04:06:37,https://api.github.com/repos/textmate/textmate/git/commits/f3c8b589b5b5b012b9fdb1871c0c1a1bb5f82a84,f3c8b589b5b5b012b9fdb1871c0c1a1bb5f82a84,"Replace OakStatusBar with OFBHeaderView

Presently this is non-functional but removing the OakStatusBar.h dependency makes it easier to convert to ARC, so that’ll be the next step, before actually making OFBHeaderView functional."
sorbits,2013-01-11 03:44:41,https://api.github.com/repos/textmate/textmate/git/commits/f5ac423ecfcc859580d46de979ec6c9d7b83b0a4,f5ac423ecfcc859580d46de979ec6c9d7b83b0a4,Remove instance data from interface
sorbits,2013-01-12 12:06:36,https://api.github.com/repos/textmate/textmate/git/commits/546b55a4072176be68bf428818478620e61e7904,546b55a4072176be68bf428818478620e61e7904,"Only fingerprint file system for hg

The problem with hg is that running ‘hg status’ may trigger fsevents, which would normally have us call ‘hg status’ again. To avoid this, we check if there actually are changes compared to the last time we ran the SCM driver. This has some overhead, as we need to scan the disk to produce the fingerprint."
sorbits,2013-01-12 11:56:01,https://api.github.com/repos/textmate/textmate/git/commits/a222dfd80551934f661dc7f4ebd8990bc5ffef13,a222dfd80551934f661dc7f4ebd8990bc5ffef13,"Use libdispatch for SCM status

Additionally the throttling has been improved. Previously we would delay a status fetch if it had been less than 3 seconds since the last request, but during this “penalty wait” more requests could still be submitted (in case of disk activity) and would be queued for later execution — now such requests are dropped."
sorbits,2013-01-12 09:26:28,https://api.github.com/repos/textmate/textmate/git/commits/0f4fc1446230bb7dc2388397f926d7558b1f5932,0f4fc1446230bb7dc2388397f926d7558b1f5932,"Improve stability during quit

When we quit, objects with static storage are destroyed. Since the order is undefined, we basically cannot reference other objects in destructors, unless we own them or they are reference counted.

One case that seems to be an actual problem is the oak::process_t type — based on crash logs this often seems to be destroyed last, and it unregisters itself in its destructor, but using an object that it previously did not own (but obtained via a sort of factory function)."
sorbits,2013-01-12 08:46:21,https://api.github.com/repos/textmate/textmate/git/commits/4b5d668d85f697e004fe38db59011f98c40374bc,4b5d668d85f697e004fe38db59011f98c40374bc,Delete constructor instead of making it private
sorbits,2013-01-12 07:52:08,https://api.github.com/repos/textmate/textmate/git/commits/407737259a61fb6bb34b89fb5d7b57472634dd8d,407737259a61fb6bb34b89fb5d7b57472634dd8d,"Avoid compiler security warning about format strings

The warning is about using ‘%n’ in format strings [-Wformat-security]"
sorbits,2013-01-12 07:14:23,https://api.github.com/repos/textmate/textmate/git/commits/a9745164c77be9bf9d2f692653bae54a662a61b3,a9745164c77be9bf9d2f692653bae54a662a61b3,Exclude backups from document::find by default
sorbits,2013-01-11 07:08:21,https://api.github.com/repos/textmate/textmate/git/commits/0b9e591b7d5986810c9fab72fda9bed7b8bdd900,0b9e591b7d5986810c9fab72fda9bed7b8bdd900,"Bundle editor was holding an untitled counter

This meant after opening the bundle editor the next untitled document created would have a number prefix one higher than expected."
sorbits,2013-01-11 07:05:17,https://api.github.com/repos/textmate/textmate/git/commits/d8bec5b761a16a2cabab18afc630b060ef8895d4,d8bec5b761a16a2cabab18afc630b060ef8895d4,"Fix bad memory access

We wrote to instance data after potentially having been released."
sorbits,2013-01-10 22:48:31,https://api.github.com/repos/textmate/textmate/git/commits/fae30ed6e8dba9916530dd1941e7539518f65243,fae30ed6e8dba9916530dd1941e7539518f65243,"Use wrapper for getpwuid() to avoid crash

Based on crash logs this problem still exists on 10.8.2 <rdar://10261043>."
sorbits,2013-01-10 20:08:55,https://api.github.com/repos/textmate/textmate/git/commits/6c6332ac782851eb49e6d0790002b654a81a41de,6c6332ac782851eb49e6d0790002b654a81a41de,Checkin release notes
sorbits,2013-01-10 20:03:14,https://api.github.com/repos/textmate/textmate/git/commits/a545598e78ce7c8f68b9e57d8982519b15f09f97,a545598e78ce7c8f68b9e57d8982519b15f09f97,fixup! Iterate controllers instead of all window delegates
sorbits,2013-01-10 20:00:06,https://api.github.com/repos/textmate/textmate/git/commits/9f02e86e00bc7fd837fa53e4e333481456f05220,9f02e86e00bc7fd837fa53e4e333481456f05220,Cap document array index
sorbits,2013-01-10 19:57:26,https://api.github.com/repos/textmate/textmate/git/commits/abab5d87258434365072c5358ac5d1a84d692840,abab5d87258434365072c5358ac5d1a84d692840,Make openItems:closingOtherTabs: more robust
sorbits,2013-01-10 19:31:40,https://api.github.com/repos/textmate/textmate/git/commits/c8bfc8be7c46d6cb78e79d7e20e9dd22f76e3246,c8bfc8be7c46d6cb78e79d7e20e9dd22f76e3246,Suppress atos debug output
sorbits,2013-01-10 17:40:31,https://api.github.com/repos/textmate/textmate/git/commits/4a97f6e64d607cdfc2fcfee19a1b89009c69fdfb,4a97f6e64d607cdfc2fcfee19a1b89009c69fdfb,Save All with more than one document would crash
sorbits,2013-01-10 17:34:33,https://api.github.com/repos/textmate/textmate/git/commits/80c358f9473fed07f60266ca98db6dded4e8e55c,80c358f9473fed07f60266ca98db6dded4e8e55c,"Remove unnecessary hack

The issue this code solved was that setting the proxy icon via represented file before a file actually exists on disk would lead to no icon so we would have to update it again after a successful save.

This however is already done (by the save callback passed in)."
sorbits,2013-01-10 05:34:31,https://api.github.com/repos/textmate/textmate/git/commits/81b05711f07e92dd817eb1419cd5c91c77231b9b,81b05711f07e92dd817eb1419cd5c91c77231b9b,"Improve how we find window for new documents

We first search for a window containing one of the documents we wish to open, then for the window with a best match for project folder (for any of our documents), then check if frontmost window is a scratch window, and if none of the above gives a candidate, we create a new window (and give it a project folder based on the document(s) we opened)."
sorbits,2013-01-10 04:30:41,https://api.github.com/repos/textmate/textmate/git/commits/bccaee4be6d53b7b59ffa16d03dce44be671df70,bccaee4be6d53b7b59ffa16d03dce44be671df70,"Simplify document open API

Removed the ability to specify wether documents should open in current window or a new window — all documents opened via this API will go through the same algorithm to find where the documents should end up (more choice is just adding confusion and complexity)."
sorbits,2013-01-10 04:18:18,https://api.github.com/repos/textmate/textmate/git/commits/d8cc115a5ecffb8239611ef7a06025295679b641,d8cc115a5ecffb8239611ef7a06025295679b641,"Ensure we have a document in showWindow:

Also move (back) to using DocumentController instead of document::show()."
sorbits,2013-01-10 04:05:22,https://api.github.com/repos/textmate/textmate/git/commits/759b7d1ae5b6ebfaef970247552e1eb14e81a4db,759b7d1ae5b6ebfaef970247552e1eb14e81a4db,Introduce ui_proxy_t::show_browser
sorbits,2013-01-10 03:41:27,https://api.github.com/repos/textmate/textmate/git/commits/db3c1a6f336b08dcaa69667659b14e688bb40055,db3c1a6f336b08dcaa69667659b14e688bb40055,Fix missing removeObserver:forKeyPath:
sorbits,2013-01-10 03:27:21,https://api.github.com/repos/textmate/textmate/git/commits/7b6515169f847a31bfab4e9ecd1ea1205e1c0021,7b6515169f847a31bfab4e9ecd1ea1205e1c0021,"Remove unnecessary stuff

This includes the OakFilterWindow factory method as ‘new’ is just as good (now that ARC automatically autoreleases)."
sorbits,2013-01-10 03:02:06,https://api.github.com/repos/textmate/textmate/git/commits/211acb8a845a72945ad3b1a794a9377836f36fe9,211acb8a845a72945ad3b1a794a9377836f36fe9,Use proper (specialized) type instead of ‘id’
sorbits,2013-01-10 01:12:29,https://api.github.com/repos/textmate/textmate/git/commits/cd124ac40434527c3bbec9a5a1ddb09a1adf39dd,cd124ac40434527c3bbec9a5a1ddb09a1adf39dd,Iterate controllers instead of all window delegates
sorbits,2013-01-10 01:07:04,https://api.github.com/repos/textmate/textmate/git/commits/531e8a44f14da2a4e496e23886d9046dee641852,531e8a44f14da2a4e496e23886d9046dee641852,"Handle app termination in class method

It didn’t really make sense as an instance method since it iterate all instances, and we also want to execute code incase of no instances (save that fact as session data)."
sorbits,2013-01-10 00:49:03,https://api.github.com/repos/textmate/textmate/git/commits/a7a633f993472ac822461962260c5cb5b1e64857,a7a633f993472ac822461962260c5cb5b1e64857,"Remove procedural API for load/save of session

Since everything about session is now contained in the DocumentController class there is no need for invoking this from elsewhere and thus no need for the previous indirection."
sorbits,2013-01-09 22:10:41,https://api.github.com/repos/textmate/textmate/git/commits/082ef43b0defbe08848eff46a402de9b9629e4f3,082ef43b0defbe08848eff46a402de9b9629e4f3,"Use Objective-C types in session read/write code

With the new compiler support for property list types it might be time to phase out the plist_t C++ wrapper."
sorbits,2013-01-09 19:55:17,https://api.github.com/repos/textmate/textmate/git/commits/874520f49a994581d7f9a96b7444a910512b8236,874520f49a994581d7f9a96b7444a910512b8236,"Remove need for explicitly calling ‘monitor_controller’

Instead we register the class (causing a retain) when setting the object’s identifier (to a non-nil value).

This is a much better design as it (again) makes it safe to just instantiate a document controller w/o going through a special factory method. Additionally it makes it safe to change the identifier of an already created (and registered) instance."
sorbits,2013-01-09 19:17:15,https://api.github.com/repos/textmate/textmate/git/commits/738456dbc7ebaa546914d94174529ab354fa8866,738456dbc7ebaa546914d94174529ab354fa8866,Only let DocumentController schedule session saves
sorbits,2013-01-09 06:16:55,https://api.github.com/repos/textmate/textmate/git/commits/e325e26df553103b5c06caa70680574f8f322a16,e325e26df553103b5c06caa70680574f8f322a16,fixup! Make HTML output window a panel
sorbits,2013-01-09 06:15:15,https://api.github.com/repos/textmate/textmate/git/commits/c9f31cac7184c264646c5a17a33ed3253390afcc,c9f31cac7184c264646c5a17a33ed3253390afcc,Remove tmCommand load/save converters
sorbits,2013-01-09 06:08:58,https://api.github.com/repos/textmate/textmate/git/commits/7328f0fd6a643a6ab6322316653fc1b9d28a13d2,7328f0fd6a643a6ab6322316653fc1b9d28a13d2,Checkin release notes
sorbits,2013-01-09 05:46:55,https://api.github.com/repos/textmate/textmate/git/commits/362bf74fd988cf3024414a1bbeeee3070c4e4b05,362bf74fd988cf3024414a1bbeeee3070c4e4b05,Provide fallback search folder for non-project windows
sorbits,2013-01-09 05:46:16,https://api.github.com/repos/textmate/textmate/git/commits/03398ed9e6f60fd905043310e7ed563f335184cd,03398ed9e6f60fd905043310e7ed563f335184cd,Insignificant source file touchup
sorbits,2013-01-09 05:45:50,https://api.github.com/repos/textmate/textmate/git/commits/494c836217cc93922393f4474bf05b70cf102f97,494c836217cc93922393f4474bf05b70cf102f97,Add (unused) code to prune tab bar
sorbits,2013-01-09 04:33:03,https://api.github.com/repos/textmate/textmate/git/commits/6d46ba5363e85d0e8a34890b4951aa505e89573b,6d46ba5363e85d0e8a34890b4951aa505e89573b,Disable Go → Project Folder when unavailable
sorbits,2013-01-09 01:19:53,https://api.github.com/repos/textmate/textmate/git/commits/772e7ae1b4c2631d1df70f74a9c34127b1853a8e,772e7ae1b4c2631d1df70f74a9c34127b1853a8e,Use weak pointer for file browser’s delegate
sorbits,2013-01-08 23:54:38,https://api.github.com/repos/textmate/textmate/git/commits/e13d531d70a61285ca6e704e7a69a384e5ad399b,e13d531d70a61285ca6e704e7a69a384e5ad399b,"Render glyphs in Unicode’s “private use area”

Previously we would render these with their code point value but since there are probably a few hundred glyphs available (on OS X) in the private use area, it was a disputed choice."
sorbits,2013-01-08 21:45:22,https://api.github.com/repos/textmate/textmate/git/commits/aa59684c7e5e6a3ccb09245eec0f131e7262e6cc,aa59684c7e5e6a3ccb09245eec0f131e7262e6cc,"Rework document controller

While I have tried to keep most of the functionality the same (to get functional changes spelled out in the commit history) there are some significant changes:

When you open a folder or document(s) a default project folder will be based on the path(s) opened. This means that as long as you always open the root of your project (via `mate`, `open -a TextMate`, dragging the folder to TextMate, using the favorites (⇧⌘O), open dialog, `txmt:` URL scheme, or what have you), your project no longer require a `.tm_properties` file setting `projectDirectory` for Find in Folder (⇧⌘T), Go to File (⌘T), and similar to work as desired. Additionally the default properties now set a window title that include the project folder’s name (and SCM branch when available), so most projects can now also drop setting `windowTitle`.

Furthermore the file browser (for when opening documents) will default to the project folder rather than the folder set in Preferences (the latter is still used if there is no document, e.g. after ⌘N or ⌃⌘N).

The default project folder, even for opening a single document, means that opening more documents from the same folder (via Finder or perhaps something that uses the same temp folder for the local versions (which `rmate` does)) means that the following documents will open as tabs in the already open window (containing the first one opened). I _think_ this takes care of the common request of having all documents opened appear in new tabs of the frontmost window.

For managing tabs the ‘Merge All Windows’ action now ignores minimized windows. This means that if you wish to only merge a few windows then you can minimize all but those you wish to merge and then perform the action.

This commit should also address issue #117 (closing window’s last document via the file browser closes the entire window). Canceling a file open also no longer causes the entire window to close, but there’s still some work to do in this department (actually backtracking to previous state, which could mean closing the window if the window was opened only to show this document).

Prior to this commit the tab bar would be automatically pruned when overflowing, this is no longer the case, though this functionality should return."
sorbits,2013-01-08 22:38:13,https://api.github.com/repos/textmate/textmate/git/commits/8582b807a2b35d2d6550998150f7ffbab49fc6a2,8582b807a2b35d2d6550998150f7ffbab49fc6a2,"Improve support for percent escaped url parameters (txmt://)

Previously we would let NSURL parse the parameter and ask for the path component. This however does not support tilde as shorthand for the user’s home directory, and certainly not with TextMate 1.x’s questionable syntax (using ‘file://~/«file»’ instead of ‘file://localhost/~/«file»’ or possibly ‘file:///~/«file»’ although this one seems a little wrong).

As for percent escapes, the issue here is that if the URL parameter escapes slashes or colons, not decoding the URL parameter before creating an NSURL instance will fail (as the URL is malformed). If however we do decode percent escapes and the URL parameter contains spaces, then NSURL will also fail, as a URL with spaces is malformed.

So I ended up bypassing NSURL and check for a few variants of a ‘file://’ prefix (which is also what TextMate 1.x did).

This closes issue #602."
sorbits,2013-01-08 21:42:51,https://api.github.com/repos/textmate/textmate/git/commits/84e75200e7daa2bc3922275e9fdcaf31baefdf43,84e75200e7daa2bc3922275e9fdcaf31baefdf43,"Use weak pointer to break retain cycle

After converting the OakFilterList framework to ARC the file chooser windows would leak and the disk-scanning wasn’t aborted when closing the window."
sorbits,2013-01-08 18:45:28,https://api.github.com/repos/textmate/textmate/git/commits/58fed7a8c444351e751dbb02f21d476ca61074d0,58fed7a8c444351e751dbb02f21d476ca61074d0,"Let window title include project folder name

This is only if the project directory is actually set at the time the default properties are expanded, so presently this has no effect (but will when TextMate sets a default value for the projectDirectory variable)."
sorbits,2013-01-08 18:42:18,https://api.github.com/repos/textmate/textmate/git/commits/2f2cce3f3e62409a815fdf0b5c85877fd05f2690,2f2cce3f3e62409a815fdf0b5c85877fd05f2690,"Add ‘uuid’ to txmt URL scheme

This can be used to link to the “current document” even if that document has no path. Previously this was done by leaving out the ‘url’ parameter, which made it target the frontmost document — using ‘uuid’ is a more robust way to achieve the same.

A command can read the TM_DOCUMENT_UUID environment variable for the current document’s identifier."
sorbits,2013-01-08 18:32:52,https://api.github.com/repos/textmate/textmate/git/commits/821be6acad04b65e29f4cfb8bd2bceb4d53e842f,821be6acad04b65e29f4cfb8bd2bceb4d53e842f,"Custom named documents don’t occupy an untitled counter

Previously if the custom name was set before the display name was requested, it would not allocate an untitled counter, but if set later, it would (effectively) not release the counter already allocated."
sorbits,2013-01-08 17:25:30,https://api.github.com/repos/textmate/textmate/git/commits/56ec501907a026c481b4476227139d11639b6b70,56ec501907a026c481b4476227139d11639b6b70,"Only grab ‘untitled’ token for user-created documents

We may use OakDocumentView in a context where we don’t immediately assign it a document, or we wish to “overwrite” its default document with an untitled document that we create.

If the document view holds its own untitled document then the global counter includes that and the one we create is one higher than expected."
sorbits,2013-01-08 17:15:40,https://api.github.com/repos/textmate/textmate/git/commits/357bc929807f4f6cf336da32516799d80509c1c2,357bc929807f4f6cf336da32516799d80509c1c2,"Let buffer_t[size()] return empty string

Previously this was undefined, yet some code could trigger it. E.g. asking for the OS dictionary pop-up with an empty document.

I wasn’t sure if this should actually be allowed but decided that since operator[] returns strings, the “end of buffer” code point is easily defined as an empty string makes the code using this API simpler."
sorbits,2013-01-07 05:17:55,https://api.github.com/repos/textmate/textmate/git/commits/03cf1fefb0530e840e44f308c3fd1529b6eead54,03cf1fefb0530e840e44f308c3fd1529b6eead54,"Make HTML output window a panel

This allows the main (document) window to handle menu keys (which are not handled by the HTML output window controller)."
sorbits,2013-01-07 05:09:42,https://api.github.com/repos/textmate/textmate/git/commits/987b12f6943928497325ca647d79b4346d593588,987b12f6943928497325ca647d79b4346d593588,Public API to make HTML output windows reusable
sorbits,2013-01-06 22:00:16,https://api.github.com/repos/textmate/textmate/git/commits/ad4bb59ba518a8d1046fc7876aef6c734f16dffa,ad4bb59ba518a8d1046fc7876aef6c734f16dffa,"Use to_s instead of UTF8String

This has the advantage of not causing a crash if the string object is nil."
sorbits,2013-01-06 17:24:37,https://api.github.com/repos/textmate/textmate/git/commits/d4f664d4c86649591485d3ffd97c2dd5d1d1021f,d4f664d4c86649591485d3ffd97c2dd5d1d1021f,"Use factory method for DocumentController objects

We regularly iterate through all open windows and test if these are document controller windows. It will be easier to let the document controller class (or application delegate) manage a list of open document windows, as we anyway need some sort of owner with ARC (currently the instances own themselves and give up ownership in windowWillClose: which cause them to be released)."
sorbits,2013-01-06 16:37:07,https://api.github.com/repos/textmate/textmate/git/commits/203caea56d4b5e3208aecf4c6ff47b54929e3ef7,203caea56d4b5e3208aecf4c6ff47b54929e3ef7,Watch if we leak ProjectLayoutView objects
sorbits,2013-01-06 14:31:10,https://api.github.com/repos/textmate/textmate/git/commits/d96dbc426958e097fe6cd60e66ed362ea92a982b,d96dbc426958e097fe6cd60e66ed362ea92a982b,"Clicking a ‘find all’ result would be handled twice

Normally this wouldn’t be noticed, as the second action would do the same as the first (go to the result in the associated project window), but when there was no project window a new window opens (to show the result), and that would be done twice.

This fixes issue #281.

There is still an issue with successive selections for the “no project window” situation, as each time, a new window is opened, rather than reuse the first one that opened."
sorbits,2013-01-05 23:53:16,https://api.github.com/repos/textmate/textmate/git/commits/1a3c9d5db960f45c5bfeaeb05bb5ebed789a43ac,1a3c9d5db960f45c5bfeaeb05bb5ebed789a43ac,Add missing const qualifier
sorbits,2013-01-05 19:08:40,https://api.github.com/repos/textmate/textmate/git/commits/e834b68343db4b06df6fb4643b1e43cd68deb0fc,e834b68343db4b06df6fb4643b1e43cd68deb0fc,Remove duplicate of public symbol
sorbits,2013-01-05 19:05:57,https://api.github.com/repos/textmate/textmate/git/commits/5b9685fafa34807960593a424464d4bc80105166,5b9685fafa34807960593a424464d4bc80105166,Remove unused method
sorbits,2013-01-05 00:58:28,https://api.github.com/repos/textmate/textmate/git/commits/d082f38813fffd236fc624e353c89a113b86f3c2,d082f38813fffd236fc624e353c89a113b86f3c2,Make DocumentOpenHelper API block-based
sorbits,2013-01-05 00:39:30,https://api.github.com/repos/textmate/textmate/git/commits/879cb2e777a050a006d0bc0f6605273fea9c3d11,879cb2e777a050a006d0bc0f6605273fea9c3d11,Remove unused method
sorbits,2013-01-04 22:38:55,https://api.github.com/repos/textmate/textmate/git/commits/a166ad481c294207d0e4fc35efa45546bcfb1a3c,a166ad481c294207d0e4fc35efa45546bcfb1a3c,Make OakSavePanel API block-based
sorbits,2013-01-04 01:22:02,https://api.github.com/repos/textmate/textmate/git/commits/293d9a8e46c3b20428c500c44b505208738a3f3f,293d9a8e46c3b20428c500c44b505208738a3f3f,"Ensure DisplayName doesn’t return nil

Although I don’t know when it would return nil, issue #649 indicates that it sometimes does. We now fallback on the full URL in this case (and returning ‘«nil»’ if the url itself is nil). This should give a hint about what file system entries would fail to return a display name."
jtbandes,2013-01-04 03:05:04,https://api.github.com/repos/textmate/textmate/git/commits/b277613ecd10afa09adad43dea2dbb1e4f67f3d8,b277613ecd10afa09adad43dea2dbb1e4f67f3d8,"Add ""Reveal Current Document"" command

This reveals the current document in the file browser, by expanding directories to reach it, rather than changing the root directory of the browser."
jtbandes,2013-01-04 01:09:01,https://api.github.com/repos/textmate/textmate/git/commits/2162082f377a37ecc8c4f5529e77d83cf998dd8b,2162082f377a37ecc8c4f5529e77d83cf998dd8b,Move FS utility funcs from OFB to a separate file
sorbits,2013-01-04 01:07:41,https://api.github.com/repos/textmate/textmate/git/commits/aa50c316369883f5b59083864c5d362d808f007f,aa50c316369883f5b59083864c5d362d808f007f,"Workaround for ruby’s YAML.load

JSON should be a subset of YAML so we use ruby’s YAML parser to parse GitHub’s JSON. This however leads to syntax errors reported by the parser (as noted in issue #637) but if the JSON is “pretty printed” it seems to parse it fine (seems to be the extra white space for associative array pairs).

We can trick GitHub into pretty printing the JSON result by setting the user agent to be curl, so that is all this workaround does."
sorbits,2013-01-03 06:22:43,https://api.github.com/repos/textmate/textmate/git/commits/72c15833c5f2a8dcb6d1f7aaabc1742d4efbb865,72c15833c5f2a8dcb6d1f7aaabc1742d4efbb865,Checkin release notes
sorbits,2013-01-03 19:31:07,https://api.github.com/repos/textmate/textmate/git/commits/3c3208759576c5a9f0fba1bdd90d074ed2f99bf8,3c3208759576c5a9f0fba1bdd90d074ed2f99bf8,"Avoid weak pointers to NSViewController and NSWindowController

This is not supported on 10.7 (and leads to a crash)."
sorbits,2013-01-03 05:38:20,https://api.github.com/repos/textmate/textmate/git/commits/934ec2de5cf446aa95c3551a544899b3535e1f37,934ec2de5cf446aa95c3551a544899b3535e1f37,"Set window delegate to nil before we disappear

There are places where we iterate through the delegates of NSApp’s ordered windows. Since the window may stay around longer than it’s (NSWindowController) delegate, we should be sure to set NSWindow’s delegate property to nil."
sorbits,2013-01-03 03:01:59,https://api.github.com/repos/textmate/textmate/git/commits/ecc25b38d42987cecbefc711a05f78318c5fd0b0,ecc25b38d42987cecbefc711a05f78318c5fd0b0,"Improve handling of session state

We now remember values like file browser history even if the file browser is not shown while saving session state (but has previously been, or state was provided during setup). We also use the file browser and HTML output sizes stored in the session info (previously we only used values from NSUserDefaults)."
sorbits,2013-01-03 03:58:28,https://api.github.com/repos/textmate/textmate/git/commits/371198729bc696a84075cbf965a8d67ba5a57773,371198729bc696a84075cbf965a8d67ba5a57773,Support HTML output placed on right side
sorbits,2013-01-03 00:13:54,https://api.github.com/repos/textmate/textmate/git/commits/37c2412e25ce75b3ec782b67ca6585370bec484e,37c2412e25ce75b3ec782b67ca6585370bec484e,"Remove Edit → Mode submenu

The menu item within is not hooked up to anything (as mentioned in issue #650) and as my idea for finishing the indent settings UI does not involve this menu item, I am removing it to avoid further confusion."
sorbits,2013-01-02 00:39:04,https://api.github.com/repos/textmate/textmate/git/commits/303ba070a4003e8695bed24a183dfeb5a23e211d,303ba070a4003e8695bed24a183dfeb5a23e211d,Collapse two class extensions into one
sorbits,2013-01-02 00:38:24,https://api.github.com/repos/textmate/textmate/git/commits/80379dcc06e61d78c3121d7ac3bc7da8bda712ba,80379dcc06e61d78c3121d7ac3bc7da8bda712ba,Use auto-synthesized properties
sorbits,2013-01-01 16:28:21,https://api.github.com/repos/textmate/textmate/git/commits/1aaab0c1920bfc23b40bd191562481e121df6a5f,1aaab0c1920bfc23b40bd191562481e121df6a5f,Happy new year 2013!
sorbits,2013-01-01 20:09:16,https://api.github.com/repos/textmate/textmate/git/commits/9c35f445de8e36b9a1a96faf95b51e210bb3fe0a,9c35f445de8e36b9a1a96faf95b51e210bb3fe0a,Convert strings files to UTF-8
sorbits,2013-01-01 20:05:11,https://api.github.com/repos/textmate/textmate/git/commits/5f635aa0260da50c670048b5dd6cf74e58ecde1e,5f635aa0260da50c670048b5dd6cf74e58ecde1e,"Build: Convert *.strings files to UTF-16 if needed

If the *.strings file does not contain an UTF-16 byte order mark (either big or little endian) then it is assumed to be UTF-8."
sorbits,2013-01-01 19:26:50,https://api.github.com/repos/textmate/textmate/git/commits/074c20534edfc03594be2bfcd9007e3d4c61a628,074c20534edfc03594be2bfcd9007e3d4c61a628,Improve debug logging
sorbits,2013-01-01 16:43:59,https://api.github.com/repos/textmate/textmate/git/commits/47fa0f040c47699babd71046bfebb9a49b9d6e6d,47fa0f040c47699babd71046bfebb9a49b9d6e6d,Use Objective-C literals for YES/NO
sorbits,2013-01-01 16:40:50,https://api.github.com/repos/textmate/textmate/git/commits/8e937a714192514b1b68f4235746f876164a4ee6,8e937a714192514b1b68f4235746f876164a4ee6,Require explicit import of OakFindProtocol.h
sorbits,2013-01-01 16:34:41,https://api.github.com/repos/textmate/textmate/git/commits/8bcf126aba4f2c1f244b615a9d6190c3cb9eef93,8bcf126aba4f2c1f244b615a9d6190c3cb9eef93,Minor refactoring
sorbits,2013-01-01 16:32:43,https://api.github.com/repos/textmate/textmate/git/commits/93776ca9a16489e595c2ce71f67c0b91ae8119c4,93776ca9a16489e595c2ce71f67c0b91ae8119c4,Use Objective-C literals
sorbits,2013-01-01 16:29:50,https://api.github.com/repos/textmate/textmate/git/commits/d9cf30986d89728de462a04e8a5d8e8c4069128e,d9cf30986d89728de462a04e8a5d8e8c4069128e,Only expose instance variable to framework (@package)
sorbits,2013-01-01 16:26:13,https://api.github.com/repos/textmate/textmate/git/commits/534df6e755fad1eebad93bb41f19484f0f932769,534df6e755fad1eebad93bb41f19484f0f932769,"Remove implementation details from interface

The properties left in the interface are used with bindings so sort of public (as they are used “outside” the implementation file)."
sorbits,2013-01-01 16:26:13,https://api.github.com/repos/textmate/textmate/git/commits/079b762c42e9982fdb17605494fbf20ce6db8d53,079b762c42e9982fdb17605494fbf20ce6db8d53,Use block-based callback API
sorbits,2013-01-01 16:26:13,https://api.github.com/repos/textmate/textmate/git/commits/012db690f5394c842472b4797a1ba4b54497d146,012db690f5394c842472b4797a1ba4b54497d146,"Assign ⇧⌘P to Go → Project Folder

This key was previously assigned to File → Page Setup but as we currently don’t support that, and it is likely not going to see that big a use (when implemented) I think we can live without a key equivalent for that menu action.

Closes issue #525."
sorbits,2012-12-31 02:59:50,https://api.github.com/repos/textmate/textmate/git/commits/9e332438e7f03df5aeea4e41fc013cb6fb2e758d,9e332438e7f03df5aeea4e41fc013cb6fb2e758d,Use block-based alert API
sorbits,2012-12-31 02:16:23,https://api.github.com/repos/textmate/textmate/git/commits/b84992bdb3792c6667e1de2e1c8abde78ee045f2,b84992bdb3792c6667e1de2e1c8abde78ee045f2,ARC: Update DocumentWindow framework
sorbits,2012-12-31 01:21:13,https://api.github.com/repos/textmate/textmate/git/commits/3d45b788f1b63a34c4a0a102e16f3a75a29ad360,3d45b788f1b63a34c4a0a102e16f3a75a29ad360,Update block-based NSAlert API
sorbits,2012-12-31 00:19:21,https://api.github.com/repos/textmate/textmate/git/commits/ef8994ee0072770eddad517dda250f5abb0ce725,ef8994ee0072770eddad517dda250f5abb0ce725,"Use block-based notification API

This removes the need for a dummy observer object."
sorbits,2012-12-30 03:30:01,https://api.github.com/repos/textmate/textmate/git/commits/c273b3d4fe871e179a612b1d7c07e9c904588694,c273b3d4fe871e179a612b1d7c07e9c904588694,"Set Find and Go to Line dialogs to “join active space”

If user opens the dialog on one space, moves to another space (with a TextMate window) and then re-activate the (already open) dialog, it would previously switch back to the space containing the dialog, whereas with the changed setting, it now moves the dialog to the active space.

This should address issue #599."
sorbits,2012-12-30 02:39:16,https://api.github.com/repos/textmate/textmate/git/commits/75be06e8509bd864a56e58e61bc61210adbb438f,75be06e8509bd864a56e58e61bc61210adbb438f,"Offer double-click install of plug-ins

If the plug-in doesn’t set TMPlugInAPIVersion to 2 (in its Info.plist) a dialog will show, telling the user that the plug-in is not compatible with the current version of TextMate (which is most likely correct).

You can hold down option (⌥) to open the plug-in as a regular folder.

Addresses issue #392."
sorbits,2012-08-09 14:18:36,https://api.github.com/repos/textmate/textmate/git/commits/6a79b5f432a1edf79e733dc5090ce0686841908b,6a79b5f432a1edf79e733dc5090ce0686841908b,Add preliminary bundle install support
sorbits,2012-12-30 01:59:30,https://api.github.com/repos/textmate/textmate/git/commits/2024af398d0a3aa2028c1e1d2646db1fac60e36f,2024af398d0a3aa2028c1e1d2646db1fac60e36f,"Rework loading of plug-ins

We no longer require that the bundle identifier starts with ‘com.macromates’ instead the plug-in MUST set the TMPlugInAPIVersion key (in its Info.plist) to ‘2’ (the current API version)."
sorbits,2012-12-30 01:56:33,https://api.github.com/repos/textmate/textmate/git/commits/cb337226022b1458151f2d2d89c4e9e7d829bb26,cb337226022b1458151f2d2d89c4e9e7d829bb26,"Update dialog plug-ins

They now set the TMPlugInAPIVersion key in their Info.plist."
sorbits,2012-12-30 00:31:24,https://api.github.com/repos/textmate/textmate/git/commits/df914261f4320e318804be30c40ead1a9f465bf5,df914261f4320e318804be30c40ead1a9f465bf5,Update code to std::thread with lambda
sorbits,2012-12-30 00:21:47,https://api.github.com/repos/textmate/textmate/git/commits/685039c0e9300dea8f06d1d1281b165205d609c7,685039c0e9300dea8f06d1d1281b165205d609c7,"Don’t rely on com.apple.CrashReporter existing

This used to contain an UUID used for identifying the client in network requests, but for majority of users, this is unset, so now we create our own UUID for the user agent string used when polling for software updates."
sorbits,2012-12-27 23:47:09,https://api.github.com/repos/textmate/textmate/git/commits/09337a7ed4f9881f1f25fc4d5caf76ecb545057c,09337a7ed4f9881f1f25fc4d5caf76ecb545057c,"Workaround for flamboyant progress bar

Starting with Lion (I think) the progress bar at the Bundles preferences pane won’t always hide after having installed a bundle.

The progress bar is set to not show when stopped, but for some reason this property does not seem to always be respected, but if we manually set the progress to zero before setting the property (bound to ‘animate’) to NO, then it does properly hide."
sorbits,2012-12-27 23:41:35,https://api.github.com/repos/textmate/textmate/git/commits/88c1210a102c0d708492ca2ec069ddfc1a1a0d34,88c1210a102c0d708492ca2ec069ddfc1a1a0d34,Remove private methods from interface
sorbits,2012-12-27 00:31:11,https://api.github.com/repos/textmate/textmate/git/commits/6f1cef364dc460c57139e7779eec6dd38031a936,6f1cef364dc460c57139e7779eec6dd38031a936,"Support “Select Output” as caret placement

Issue #645."
sorbits,2012-12-27 00:17:43,https://api.github.com/repos/textmate/textmate/git/commits/0dfb5d3116f98518ae1fa438637abe5fa1d19d41,0dfb5d3116f98518ae1fa438637abe5fa1d19d41,ARC: Update OakFilterList framework
sorbits,2012-12-26 23:27:26,https://api.github.com/repos/textmate/textmate/git/commits/701c9a0541c31ca8291a9e88e48a3884aaa2e928,701c9a0541c31ca8291a9e88e48a3884aaa2e928,"Use ‘std’ namespace prefix when calling search()

This is to avoid a clash with other things named ‘search’."
sorbits,2012-12-26 23:04:32,https://api.github.com/repos/textmate/textmate/git/commits/33e11aedb012223b219ea9bc51788c2c1919e4c1,33e11aedb012223b219ea9bc51788c2c1919e4c1,"Add copyWithZone: to OFBPathInfoCell

This is mainly to manually copy-construct the C++ instance counter that we use (in debug mode) to track leaks (or an erroneous extra release).

For good measure we also set the spinTimer instance variable to nil. Though this functionality isn’t presently used, so hasn’t actually caused a problem."
sorbits,2012-12-26 23:00:52,https://api.github.com/repos/textmate/textmate/git/commits/ba274c160fe65056d1b988d773a407d3e2a1d3e1,ba274c160fe65056d1b988d773a407d3e2a1d3e1,Improve “performSelector: may leak” workaround
sorbits,2012-12-26 16:35:18,https://api.github.com/repos/textmate/textmate/git/commits/a65b7640f97a33e9698b6f9a84645eb036752c4a,a65b7640f97a33e9698b6f9a84645eb036752c4a,"Handle empty string given to glyphs_for_key

Previously it would work, but as it was calling utf8::to_ch with the empty string, this would trigger an assertion (when running a debug build)."
sorbits,2012-12-25 19:31:06,https://api.github.com/repos/textmate/textmate/git/commits/2a3b442bf22f8859d6f7f273b84c953e44b4b2a6,2a3b442bf22f8859d6f7f273b84c953e44b4b2a6,ARC: Update TextMate (core application)
sorbits,2012-12-25 00:11:54,https://api.github.com/repos/textmate/textmate/git/commits/198824051834151dd7374944e594918c041f331c,198824051834151dd7374944e594918c041f331c,Remove old credits window
sorbits,2012-12-24 15:50:20,https://api.github.com/repos/textmate/textmate/git/commits/70979f4eeb0e2b220ea2624c7d6740a2f1df47ef,70979f4eeb0e2b220ea2624c7d6740a2f1df47ef,ARC: Update BundlesManager framework
sorbits,2012-12-24 15:32:01,https://api.github.com/repos/textmate/textmate/git/commits/53d0a0348483006468ca26a2aa60c79523a32907,53d0a0348483006468ca26a2aa60c79523a32907,ARC: Update OakDebug framework
sorbits,2012-12-24 13:09:41,https://api.github.com/repos/textmate/textmate/git/commits/09abc8eede0126e2a4490e4018a576cebebf313f,09abc8eede0126e2a4490e4018a576cebebf313f,"Fix software update logic

It would previously not ask to update (but go directly to download) when doing a manual update check."
sorbits,2012-12-24 13:03:27,https://api.github.com/repos/textmate/textmate/git/commits/ddd9763a79f316ff660f470aced875e7b08f41e8,ddd9763a79f316ff660f470aced875e7b08f41e8,Checkin release notes
joachimm,2012-09-17 18:27:13,https://api.github.com/repos/textmate/textmate/git/commits/d501a4e81dd2c43b584b188eddda5f7ebaf0dc2a,d501a4e81dd2c43b584b188eddda5f7ebaf0dc2a,"Limit redraw

Do some checks to see if there is more to parse on the following line, before invoking the (layout) callback."
sorbits,2012-12-24 00:23:33,https://api.github.com/repos/textmate/textmate/git/commits/1791a4857121c8b9a3350c7dc9b04abd155d5bc8,1791a4857121c8b9a3350c7dc9b04abd155d5bc8,"Fix potential crash when using “Edit Command…” button

The block used the ‘uuid’ variable, this variable was however a (const) reference, so it wasn’t safe to use within the block.

While fixing the bug (by introducing a local non-reference variable for the bundle item) we have also changed the code slightly, so that “Edit Command…” only shows when a bundle item is found (this is mainly in preparation for running shell commands that doesn’t have a bundle item, e.g. from a future “Filter Through Command” dialog)."
sorbits,2012-12-24 00:22:29,https://api.github.com/repos/textmate/textmate/git/commits/06d4b51f44f3996ee5a330f691bb158acbffd3d2,06d4b51f44f3996ee5a330f691bb158acbffd3d2,"Fix memory leak

This was introduced when we introduced block-based alert sheets for command errors."
sorbits,2012-12-21 15:05:28,https://api.github.com/repos/textmate/textmate/git/commits/c2d3690848de6830a813dec6a4215124bdbb3861,c2d3690848de6830a813dec6a4215124bdbb3861,Remove ‘CT’-prefix from user functions
sorbits,2012-12-21 15:00:42,https://api.github.com/repos/textmate/textmate/git/commits/8c4c927397e5812531398b57ca9fb66b5a4a1baf,8c4c927397e5812531398b57ca9fb66b5a4a1baf,"Workaround for possible NULL pointer

Seeing a few crashes related to CFRetain() called from CTFontCreateWithName(). My guess is that a nil font results from a bad/corrupted config file, so the actual fix might be to ensure we have a font (at a higher level)."
sorbits,2012-12-20 17:52:31,https://api.github.com/repos/textmate/textmate/git/commits/7428cd0939bc28b48cd1b6449ad72a67001d6efc,7428cd0939bc28b48cd1b6449ad72a67001d6efc,"Add workaround for 10.8 API

This should cause TextMate to once again run on 10.7 (issue #643)."
sorbits,2012-12-20 13:39:30,https://api.github.com/repos/textmate/textmate/git/commits/cf676cb01c0464860f2940d7cd8db7fece9d58c7,cf676cb01c0464860f2940d7cd8db7fece9d58c7,Checkin release notes
sorbits,2012-12-20 12:30:53,https://api.github.com/repos/textmate/textmate/git/commits/601cf2836667484e3a2a03ea81f52adbaac28fbd,601cf2836667484e3a2a03ea81f52adbaac28fbd,"Use the low priority dispatch queue for update checks

Presently mainly a semantic change, as the dispatch queues are mostly empty, but as we adopt GCD for more things, it’ll be more important to put background tasks in a queue with lower priority than the one handling user requested tasks."
sorbits,2012-12-20 12:27:07,https://api.github.com/repos/textmate/textmate/git/commits/2374aafde2f834c148904eb7b12ca16550748c77,2374aafde2f834c148904eb7b12ca16550748c77,"Clear delegate/datasource in dealloc

There are crash reports showing the gutter view accessing its datasource in OakDocumentView’s dealloc (based on a “bounds did change” notification fired when releasing a view)."
sorbits,2012-12-19 20:25:46,https://api.github.com/repos/textmate/textmate/git/commits/c7780d13920f58de56dd5018ebe5e57baecb8f1c,c7780d13920f58de56dd5018ebe5e57baecb8f1c,Add placeholder text for “time remaining”
sorbits,2012-12-19 20:23:47,https://api.github.com/repos/textmate/textmate/git/commits/cd78f6d29d118e1f828c9714ab0bead2395feea6,cd78f6d29d118e1f828c9714ab0bead2395feea6,Eliminate two instance variables
sorbits,2012-12-19 18:51:52,https://api.github.com/repos/textmate/textmate/git/commits/bb38a193e2655c7902996b418c031c25cf3d0aa8,bb38a193e2655c7902996b418c031c25cf3d0aa8,Set window autosave name
sorbits,2012-12-19 18:37:08,https://api.github.com/repos/textmate/textmate/git/commits/97ca44f8ad02f607647d00c3dbefe4342c04dd1c,97ca44f8ad02f607647d00c3dbefe4342c04dd1c,Use NSRunningApplication for application name
sorbits,2012-12-19 18:35:02,https://api.github.com/repos/textmate/textmate/git/commits/f87a11f1bbaa2f17b78eb0d45af8bfa405f5f8a6,f87a11f1bbaa2f17b78eb0d45af8bfa405f5f8a6,"Improve s/w update dialog text

A “Downgrade” button now appear if the version on the server is lower than the current one. This would e.g. happen if the user has upgraded to a nightly build and does a manual version check (for non-nightly builds).

If the version on the server is the same version as the one running, the user can make a “Redownload” button appear by holding down shift (⇧) when running the update check."
sorbits,2012-12-19 16:47:26,https://api.github.com/repos/textmate/textmate/git/commits/0bac97c9aeaf80af1772dbcfa8b1eb5fbfefed15,0bac97c9aeaf80af1772dbcfa8b1eb5fbfefed15,Use GCD + blocks for s/w update download
sorbits,2012-12-19 16:36:50,https://api.github.com/repos/textmate/textmate/git/commits/6969d7a98e5d081b88a780ca05aac5108e99dac8,6969d7a98e5d081b88a780ca05aac5108e99dac8,Use GCD + blocks for s/w update check
sorbits,2012-12-19 15:44:34,https://api.github.com/repos/textmate/textmate/git/commits/71be61cbbbe5f32fda8545805acaf5cce24368f7,71be61cbbbe5f32fda8545805acaf5cce24368f7,"Enable ARC by default

We now explicitly disable it for targets that hasn’t yet been upgraded to ARC. This way, it’s easier to get an overview of which targets hasn’t yet been upgraded and ensures new targets has ARC enabled."
sorbits,2012-12-19 15:43:56,https://api.github.com/repos/textmate/textmate/git/commits/2ae8d9371e989240a87f31c1229fa34e4650abfd,2ae8d9371e989240a87f31c1229fa34e4650abfd,"Apply custom build flags last

This allows using RAVE_FLAGS to override the more general compiler flags."
sorbits,2012-12-19 15:40:27,https://api.github.com/repos/textmate/textmate/git/commits/6e228b69aac77f2e3f8aac2410885dc4415c6db0,6e228b69aac77f2e3f8aac2410885dc4415c6db0,Fix typo
sorbits,2012-12-19 14:39:37,https://api.github.com/repos/textmate/textmate/git/commits/88358ccf26172c6a9d5024439b114d21b999079a,88358ccf26172c6a9d5024439b114d21b999079a,ARC: Update SoftwareUpdate framework
sorbits,2012-12-19 14:30:03,https://api.github.com/repos/textmate/textmate/git/commits/ed45e1a241c922d6a3dc1541edbb1d05bd74bcc0,ed45e1a241c922d6a3dc1541edbb1d05bd74bcc0,Handle download in s/w update singleton
sorbits,2012-12-19 13:48:21,https://api.github.com/repos/textmate/textmate/git/commits/4a25c7b98d5caa1947f69be46ac62f388132ae10,4a25c7b98d5caa1947f69be46ac62f388132ae10,"Refactor software update

Move logic out of DownloadWindowController."
sorbits,2012-12-18 22:22:12,https://api.github.com/repos/textmate/textmate/git/commits/083464901155f7d94feeabfc8f836a211335ac40,083464901155f7d94feeabfc8f836a211335ac40,"Improve binding properties

Each property now correspond to exactly one aspect of the UI allowing us to remove the logic and use the class as a view."
sorbits,2012-12-18 21:43:48,https://api.github.com/repos/textmate/textmate/git/commits/3fdb50aa23eb2903106316ba52c4c47debac1ddc,3fdb50aa23eb2903106316ba52c4c47debac1ddc,Save with Xcode 4.5.2 (4G2008a)
sorbits,2012-12-18 21:24:15,https://api.github.com/repos/textmate/textmate/git/commits/476247b047e0234d6c9f9bd3a8ee63549ceccddc,476247b047e0234d6c9f9bd3a8ee63549ceccddc,Use generated properties
sorbits,2012-12-17 20:48:06,https://api.github.com/repos/textmate/textmate/git/commits/6bc36a565b98a15898c70fdb3479dd74b08cabf0,6bc36a565b98a15898c70fdb3479dd74b08cabf0,ARC: Update ns framework
sorbits,2012-12-17 20:31:02,https://api.github.com/repos/textmate/textmate/git/commits/1eb54282afc5579c17996f85ee3c05a6ef32751f,1eb54282afc5579c17996f85ee3c05a6ef32751f,Move attr_string.h to Find framework
sorbits,2012-12-17 20:27:45,https://api.github.com/repos/textmate/textmate/git/commits/1102f8a528a71d6db33b21d0c04de2075943a258,1102f8a528a71d6db33b21d0c04de2075943a258,"Remove use of ns::attr_string

This is only motivated by easier transition to ARC (one framework at a time) as the ns/attr_string.h header contains manual memory management, which thus cannot be included by a framework using ARC, yet the code needs to be in the header since the code is template-based."
sorbits,2012-12-17 18:51:45,https://api.github.com/repos/textmate/textmate/git/commits/a7e70de9dd86d65174f53fd20214e504759c0a53,a7e70de9dd86d65174f53fd20214e504759c0a53,"Help book index: Enable verbose output

This seems to be the only way to learn of problems creating the help index, as parsing errors are otherwise silently ignored."
sorbits,2012-12-17 17:40:05,https://api.github.com/repos/textmate/textmate/git/commits/05357539d0c33f1c2c5eba8a7420ec2b62927958,05357539d0c33f1c2c5eba8a7420ec2b62927958,"fixup! Rename method: scope → scopeContext

Missed one case causing “Current Scope” in bundle item chooser to not have any effect."
sorbits,2012-12-16 20:23:21,https://api.github.com/repos/textmate/textmate/git/commits/71ec3d4c82e87053595541dc82b1348edf4908dd,71ec3d4c82e87053595541dc82b1348edf4908dd,Add block-based show alert API
sorbits,2012-12-16 20:21:56,https://api.github.com/repos/textmate/textmate/git/commits/0311f10974a09fa4f8a07337e860420866697658,0311f10974a09fa4f8a07337e860420866697658,Fix syntax error in debug line
sorbits,2012-12-16 20:21:08,https://api.github.com/repos/textmate/textmate/git/commits/92c77ece3628994edf26cbe9cec2fb43568e6ddd,92c77ece3628994edf26cbe9cec2fb43568e6ddd,"Change long → int32_t for 68K struct

When building as 64 bit the ‘long’ type is 8 bytes which broke the “jump to selection” part of the ODBEditor protocol support (issue #499)."
sorbits,2012-12-15 23:00:13,https://api.github.com/repos/textmate/textmate/git/commits/4d8f0422ecebfb431b9bd93eca5c1d6f909fd425,4d8f0422ecebfb431b9bd93eca5c1d6f909fd425,"Provide “More Info…” for unsatisfied command requirements

See issue #622 for more details."
sorbits,2012-12-15 22:54:42,https://api.github.com/repos/textmate/textmate/git/commits/397dc877af7149a396ebdd52220fbbd7a283b501,397dc877af7149a396ebdd52220fbbd7a283b501,"Use a block-based wrapper for NSAlert

This code isn’t ideal: We should make it a function instead of a class and the ‘info’ property should instead be done using a captured variable."
sorbits,2012-12-15 20:25:57,https://api.github.com/repos/textmate/textmate/git/commits/74f85c74bafcb76d0fd9f628f44b1e6b899f043d,74f85c74bafcb76d0fd9f628f44b1e6b899f043d,"Make help book template XHTML

The help indexer requires the pages to be valid XML and (silently) fails to generate the proper index (with anchors) when they are not.

This fixes issue #548."
sorbits,2012-12-15 19:41:03,https://api.github.com/repos/textmate/textmate/git/commits/c7934a5ae5c309df148788f544c60fe0f21387e8,c7934a5ae5c309df148788f544c60fe0f21387e8,"Do not hide pop-up list when losing focus

The “hide on focus” setting is inherited by the parent window, causing the entire window to hide.

Closes issue #590."
sorbits,2012-12-14 21:52:46,https://api.github.com/repos/textmate/textmate/git/commits/5be8d4b041728093a01bd08bf33a6aafaeb2de0c,5be8d4b041728093a01bd08bf33a6aafaeb2de0c,"Factor out “Contributing” section of README

Motivated by https://github.com/blog/1184-contributing-guidelines"
sorbits,2012-12-14 21:42:04,https://api.github.com/repos/textmate/textmate/git/commits/16561c14decee28be81bdb6603dc9f3b789231c7,16561c14decee28be81bdb6603dc9f3b789231c7,Checkin release notes
dusek,2012-11-11 13:56:14,https://api.github.com/repos/textmate/textmate/git/commits/5369b7cf81a126058ea5e32bd4bd3c60b9149713,5369b7cf81a126058ea5e32bd4bd3c60b9149713,"Add support for “Zoom follows the keyboard focus”

Zoom is an OS X accessibility feature that lets sighted visually
impaired users magnify screen content. This commit notifies Zoom of
changes of TextMate’s caret position on screen so that Zoom can
automatically follow the caret when the user moves it."
dusek,2012-10-04 18:33:38,https://api.github.com/repos/textmate/textmate/git/commits/224ee5fd5e8d1326eca98a48cde22d8ee5853f5e,224ee5fd5e8d1326eca98a48cde22d8ee5853f5e,"VoiceOver/accessibility support for text view

This commit adds support for most common accessibility
methods/attributes to the OakTextView component. In user's language,
VoiceOver users (i.e. blind and visually impaired users) can now use
TextMate to read and write text.

A few less used accessibility attributes remain to be supported -
especially AttributedStringForRange and StyleRangeForIndex which should
allow blind users to e.g. see and seek for spelling errors in text."
sorbits,2012-12-14 19:16:52,https://api.github.com/repos/textmate/textmate/git/commits/36902cbc6ccf32fe522d4a5f60c2db93b37dc9a7,36902cbc6ccf32fe522d4a5f60c2db93b37dc9a7,Factor out ng::range_t ⇔ NSRange methods
sorbits,2012-12-14 16:46:32,https://api.github.com/repos/textmate/textmate/git/commits/d4513dd76d6b895cf1082d4f3c45c338e6c18127,d4513dd76d6b895cf1082d4f3c45c338e6c18127,"Use YAML::load to parse JSON

This avoids depending on the user having installed the JSON gem (and fixes problems where user has it installed, but for a different ruby than the one used to run this script)."
infininight,2012-12-12 01:17:36,https://api.github.com/repos/textmate/textmate/git/commits/8bdbeacfcda1abe6fabd7db4b7e0312bb6a7c267,8bdbeacfcda1abe6fabd7db4b7e0312bb6a7c267,Add indentOnPaste to ordering in bundle editor
joachimm,2012-12-13 15:03:21,https://api.github.com/repos/textmate/textmate/git/commits/b03ee2f6ee866183c30128f51ef7b1cdf6a14e7a,b03ee2f6ee866183c30128f51ef7b1cdf6a14e7a,Use same mechanism to limit redraw in modifiedURLs
joachimm,2012-12-13 14:50:53,https://api.github.com/repos/textmate/textmate/git/commits/417ecef6243408179f9e22b1832d18684b9b1c42,417ecef6243408179f9e22b1832d18684b9b1c42,Refactored calculations of touched filebrowser items into its own method
infininight,2012-12-06 05:32:35,https://api.github.com/repos/textmate/textmate/git/commits/ac8f88b33eca38eda9c9c6477a72870a3602761d,ac8f88b33eca38eda9c9c6477a72870a3602761d,"Always set the TM_SOFT_TABS variable

Backwards compatibility for commands that expect the variable to always exist or match the NO state, this matches the behavior of 1.x."
joachimm,2012-10-18 20:23:11,https://api.github.com/repos/textmate/textmate/git/commits/d983d5a5d2c1a9b80a690017ba3c3ec093ed2d23,d983d5a5d2c1a9b80a690017ba3c3ec093ed2d23,"Limit file browser refresh on open/close

If changes are limited to visible rows, we only reload these."
sorbits,2012-11-14 04:23:15,https://api.github.com/repos/textmate/textmate/git/commits/90e1f1b9ba0b312ee5e2ba8797f51ffe2d758099,90e1f1b9ba0b312ee5e2ba8797f51ffe2d758099,Checkin release notes
sorbits,2012-11-14 04:18:51,https://api.github.com/repos/textmate/textmate/git/commits/c995b758c8f544a6b69d5684fdfe91064c690ffb,c995b758c8f544a6b69d5684fdfe91064c690ffb,"fixup! Allow disabling document status in file browser

If ‘location’ was nil, we would implicitly create a std::string from that, which is not allowed (and crashes)."
sorbits,2012-11-12 08:40:35,https://api.github.com/repos/textmate/textmate/git/commits/f9705ffa70f80a80879eccc4f5c8884fa7df4d30,f9705ffa70f80a80879eccc4f5c8884fa7df4d30,Checkin release notes
bradchoate,2012-10-29 05:59:30,https://api.github.com/repos/textmate/textmate/git/commits/09a81e9024fb3b6d64242d343fced1dc487df324,09a81e9024fb3b6d64242d343fced1dc487df324,Seed the contributor lookup table a bit.
bradchoate,2012-10-07 06:45:07,https://api.github.com/repos/textmate/textmate/git/commits/eb30ea3cb8574889e21c80f409b80cf144db03ad,eb30ea3cb8574889e21c80f409b80cf144db03ad,Add dynamic contributions page to the About window
bradchoate,2012-10-07 06:45:07,https://api.github.com/repos/textmate/textmate/git/commits/6753f4e3d6c9ac9027fc4623536fb8fe9ce349c3,6753f4e3d6c9ac9027fc4623536fb8fe9ce349c3,"Evaluate embedded ruby in markdown files

This is when generating HTML for the release notes, manual, and, where we actually need this, list of contributions.

Long-term we should probably switch to template tags as we are effectively adding code to the (otherwise declarative) build graph, which means we don’t have any way to tell if the generated HTML is up-to-date or not (as that would require analyzing the embedded ruby code)."
bradchoate,2012-10-07 06:45:07,https://api.github.com/repos/textmate/textmate/git/commits/a1a73e8593e64df3cb970ab16b25c636b5957934,a1a73e8593e64df3cb970ab16b25c636b5957934,Don’t output markdown headers when generating HTML
sorbits,2012-11-12 06:03:51,https://api.github.com/repos/textmate/textmate/git/commits/9b00db31398887ac420a8a0e733a5e86aee41c66,9b00db31398887ac420a8a0e733a5e86aee41c66,Update CxxTest
yyyc514,2012-11-02 04:00:48,https://api.github.com/repos/textmate/textmate/git/commits/dc34d5c9d9e56e25331a8a186ecc660077148b0c,dc34d5c9d9e56e25331a8a186ecc660077148b0c,"Allow disabling document status in file browser

Disabling this is achieved by setting `fileBrowserDocumentStatus` to `false` in `.tm_properties`.

Disabling it should remove potential delays after opening, closing, and saving files when file browser is showing a lot of files. It is meant as a temporary workaround until the performance issues are addressed."
garysweaver,2012-11-01 15:56:52,https://api.github.com/repos/textmate/textmate/git/commits/3ca80b90205f58294d9b76d3c4b040ada54a0f90,3ca80b90205f58294d9b76d3c4b040ada54a0f90,"Spell out that “prebuilt binaries” is a link

A user may read the text and use GitHub’s download button, thinking this is what the README refers to."
nanoant,2012-10-26 13:27:51,https://api.github.com/repos/textmate/textmate/git/commits/e5ac757fb6faf8392a2083cbb0cbd3b98bc5eb9b,e5ac757fb6faf8392a2083cbb0cbd3b98bc5eb9b,"Make command properties drawer shorter.

Re-layout input & output fields, so they don't enlarge whole drawer too much."
sorbits,2012-10-24 15:04:40,https://api.github.com/repos/textmate/textmate/git/commits/805d1af0e2efdd500e3861e1b7accf4087529e01,805d1af0e2efdd500e3861e1b7accf4087529e01,Add ‘filepanel’ command to DIALOG
sorbits,2012-10-24 14:59:26,https://api.github.com/repos/textmate/textmate/git/commits/91903319be8f8b820b7994606a028f9999a1b5cc,91903319be8f8b820b7994606a028f9999a1b5cc,ARC: Update BundleEditor framework
sorbits,2012-10-24 13:46:18,https://api.github.com/repos/textmate/textmate/git/commits/921efb9f6e1332b02bb20bba3042fd633d37def1,921efb9f6e1332b02bb20bba3042fd633d37def1,"Don’t link with QuartzCore

This was originally done for CoreAnimation (which is no longer used)."
rhencke,2012-10-06 21:58:07,https://api.github.com/repos/textmate/textmate/git/commits/7a9ff232feb43ad8fc9bea018f4fe671cb2ef59d,7a9ff232feb43ad8fc9bea018f4fe671cb2ef59d,"Apply default gutter theme when no theme is active

Previously, if no themes were active, the gutter colors would
not be set.  This would, effectively, give you random gutter colors
on TextMate startup. (or, sometimes, a completely transparent gutter)."
rhencke,2012-10-06 18:42:16,https://api.github.com/repos/textmate/textmate/git/commits/1ebe9d93734d837507eb0ae5bfc4d143209ea630,1ebe9d93734d837507eb0ae5bfc4d143209ea630,Fix typo in comment (NSMneu → NSMenu)
sorbits,2012-10-24 10:37:08,https://api.github.com/repos/textmate/textmate/git/commits/6908062ac964d9800b929be73e2fe53a0c7a7c66,6908062ac964d9800b929be73e2fe53a0c7a7c66,"Fix command input with column selections

Discontinuous selections are still not supported for commands — probably the command should be run for each selection.

Issue #524."
sorbits,2012-10-01 22:40:03,https://api.github.com/repos/textmate/textmate/git/commits/78d0effb5a8f9bbc449dc5762ccfd58a099aa1ad,78d0effb5a8f9bbc449dc5762ccfd58a099aa1ad,ARC: Update Preferences framework
sorbits,2012-09-30 23:17:27,https://api.github.com/repos/textmate/textmate/git/commits/ef175b3a78f1ae023afbf3dcc8ba6aca10b250dc,ef175b3a78f1ae023afbf3dcc8ba6aca10b250dc,Checkin release notes
sorbits,2012-09-30 23:17:00,https://api.github.com/repos/textmate/textmate/git/commits/b81bac3fdadb13dc59518cd55d09ac3da803c606,b81bac3fdadb13dc59518cd55d09ac3da803c606,"Change {updates → api}.textmate.org

Ideally we’d use the REST_API define setup for a few other targets."
sorbits,2012-09-30 22:57:39,https://api.github.com/repos/textmate/textmate/git/commits/1c4b8f45e7fd5b228de7e48645e96df1de9747ec,1c4b8f45e7fd5b228de7e48645e96df1de9747ec,rmate: Preserve file’s group and owner
sorbits,2012-09-30 21:06:05,https://api.github.com/repos/textmate/textmate/git/commits/c8983cf95dcf9d9ac04b43371097e04267399095,c8983cf95dcf9d9ac04b43371097e04267399095,"Remove unused function

Previously was used by the ‘bl’ utility."
sorbits,2012-09-30 21:04:51,https://api.github.com/repos/textmate/textmate/git/commits/4b67c6d587a3e1539ecdd5b7c25c1e638501b88c,4b67c6d587a3e1539ecdd5b7c25c1e638501b88c,Use dispatch queues when updating bundle sources
sorbits,2012-09-30 20:50:09,https://api.github.com/repos/textmate/textmate/git/commits/da6afa03f0a72d293e910f539f82b21faa8a41bf,da6afa03f0a72d293e910f539f82b21faa8a41bf,"Fix concurrency bug in path::make_dir

The function could fail if the directory was created after the function had tested that it didn’t exist, as the mkdir() would then fail (with “Already Exists”)."
sorbits,2012-09-30 20:01:45,https://api.github.com/repos/textmate/textmate/git/commits/c7c3d3af3884795bfffe416265f3cdd8bbc13336,c7c3d3af3884795bfffe416265f3cdd8bbc13336,"Use dispatch queues when downloading bundles

This enables concurrency which offers a nice speedup."
sorbits,2012-09-30 15:41:43,https://api.github.com/repos/textmate/textmate/git/commits/494d38df16683030437480ab3bb2b9dc76e3dd1a,494d38df16683030437480ab3bb2b9dc76e3dd1a,"Cycle discontinuous selections when using ‘transpose’

It performs a cyclic permutation. If there are only two selections, this is equivalent to swap, but with more discontinuous selections, it is possible to repeat the transpose until the selections are ordered as desired."
sorbits,2012-09-30 14:44:12,https://api.github.com/repos/textmate/textmate/git/commits/e1b3f71a69607844f383419825beabf15aa67dbe,e1b3f71a69607844f383419825beabf15aa67dbe,"Let about window show license (if any)

There is currently no way to add a TextMate (1.x) license to the key chain, but those who used TextMate r9147 or earlier should have one stored already."
sorbits,2012-09-30 13:24:44,https://api.github.com/repos/textmate/textmate/git/commits/aef4a2206c39e85e38cca125a7d0014d382eac19,aef4a2206c39e85e38cca125a7d0014d382eac19,Use caret’s right scope when expanding tab triggers
sorbits,2012-09-30 13:12:27,https://api.github.com/repos/textmate/textmate/git/commits/fa6659db2821d45fd03d9641d20cd4156482004d,fa6659db2821d45fd03d9641d20cd4156482004d,"Update dyn.caret/selection scopes

If there is one or more selections:

    dyn.selection

If there is a single zero-width selection:

    dyn.caret.mixed.columnar

If there are multiple carets and/or selections:

    dyn.caret.mixed

When there is only a single caret or a single continuous selection the left scope may contain:

    dyn.caret.begin.line
    dyn.caret.begin.document

Likewise the right scope may contain:

    dyn.caret.end.line
    dyn.caret.end.document"
sorbits,2012-09-30 11:36:11,https://api.github.com/repos/textmate/textmate/git/commits/cba6b3275b97e56deab9af2219cfbe314d309633,cba6b3275b97e56deab9af2219cfbe314d309633,Send crash reports in low-priority dispatch queue
sorbits,2012-09-30 11:17:13,https://api.github.com/repos/textmate/textmate/git/commits/67ab3de2b182c81a4663e3fccc9cb1b8a68c71c1,67ab3de2b182c81a4663e3fccc9cb1b8a68c71c1,Refactor crash reporting code
sorbits,2012-09-30 11:13:50,https://api.github.com/repos/textmate/textmate/git/commits/49c37ca8642c6cbf41dd4d5057650e3caf37ff63,49c37ca8642c6cbf41dd4d5057650e3caf37ff63,Skip ‘null’ payload fields when posting to server
sorbits,2012-09-29 23:21:36,https://api.github.com/repos/textmate/textmate/git/commits/e97efb3f67bd95dcf3b7359ae1b150183a81e4f7,e97efb3f67bd95dcf3b7359ae1b150183a81e4f7,Use dispatch queues for signal actions
sorbits,2012-09-29 20:52:44,https://api.github.com/repos/textmate/textmate/git/commits/efb6eb6b08ac31920d5d01d388d256754b14d47c,efb6eb6b08ac31920d5d01d388d256754b14d47c,Update required headers
sorbits,2012-09-29 20:49:13,https://api.github.com/repos/textmate/textmate/git/commits/456374342a34b265dcbba56a8f8527643f7431d5,456374342a34b265dcbba56a8f8527643f7431d5,Remove use of openssl constants
sorbits,2012-09-29 12:58:21,https://api.github.com/repos/textmate/textmate/git/commits/15bd31880eb583b8a06875ac8ce243a98bbe7766,15bd31880eb583b8a06875ac8ce243a98bbe7766,Update about text
sorbits,2012-09-28 23:19:42,https://api.github.com/repos/textmate/textmate/git/commits/144825e3f9be104eb8807f4e73b5976fc2ad6d31,144825e3f9be104eb8807f4e73b5976fc2ad6d31,Checkin release notes
sorbits,2012-09-28 22:46:26,https://api.github.com/repos/textmate/textmate/git/commits/ffbcd192effe25dc37f6e179483f00813c0d49b0,ffbcd192effe25dc37f6e179483f00813c0d49b0,"Fix ⌘1-⌘n for about window

We have to go via OakSubmenuController because the menu item may not exist. The reason for this is related to not having old menu items exist after a delegate has disappeared, though it might be possible to improve."
sorbits,2012-09-28 22:38:40,https://api.github.com/repos/textmate/textmate/git/commits/7af2a71de0a541af80fc6c586eb773f9ce1705ff,7af2a71de0a541af80fc6c586eb773f9ce1705ff,Conditionally show release notes during startup
sorbits,2012-09-28 20:38:52,https://api.github.com/repos/textmate/textmate/git/commits/fcfec66214a623a98b1c08b107b91711a306125e,fcfec66214a623a98b1c08b107b91711a306125e,Hookup About TextMate to about window
sorbits,2012-09-28 20:00:22,https://api.github.com/repos/textmate/textmate/git/commits/a29479bca7ec8a2ce65bc94bc3b3c9dee3ac2b8e,a29479bca7ec8a2ce65bc94bc3b3c9dee3ac2b8e,Remove Credits / License menu item
sorbits,2012-09-28 19:53:02,https://api.github.com/repos/textmate/textmate/git/commits/6272ea40e843fcacf698849f6c0f2116aa019c76,6272ea40e843fcacf698849f6c0f2116aa019c76,"Remove release notes handling

This doesn’t really belong in the software update framework."
sorbits,2012-09-28 14:35:51,https://api.github.com/repos/textmate/textmate/git/commits/98b4c07083d7d91f713de4a58e62ce77186e4316,98b4c07083d7d91f713de4a58e62ce77186e4316,"Add function to obtain bundle changes

This requires that the bundle contains a Changes.json."
sorbits,2012-09-28 10:39:45,https://api.github.com/repos/textmate/textmate/git/commits/df6c6f5f8b2c785d382d9e0b46020ba4408e85fd,df6c6f5f8b2c785d382d9e0b46020ba4408e85fd,"Avoid using ‘-q’ with pgrep

The version installed via MacPorts does not have such option so relaunching TextMate (after successful build) would not work."
sorbits,2012-09-28 14:33:13,https://api.github.com/repos/textmate/textmate/git/commits/c77c6fc4e2fcc906090a4cf3f987b2171f77f035,c77c6fc4e2fcc906090a4cf3f987b2171f77f035,"Let gen_build support TM_NINJA

This is for when building from TextMate and PATH has not been setup to contain the directory containing ninja."
sorbits,2012-09-27 15:51:29,https://api.github.com/repos/textmate/textmate/git/commits/9f2a4c74dabe6b391cbf99eab7a3f33e59c3417e,9f2a4c74dabe6b391cbf99eab7a3f33e59c3417e,"Add callback.document.will-save

Commands can prepare the document for saving in this callback, e.g. strip trailing whitespace (issue #35), ensure the line always has a newline character as the last byte in the document (issue #76), or similar.

Presently having a “will-save” command fail does not abort saving (but likely should). Also, there is no check to see if the command called requires the document to be saved before running, so that likely leads to an infinite loop."
sorbits,2012-09-27 15:42:37,https://api.github.com/repos/textmate/textmate/git/commits/e1dd99a0f5f25f86e8827729cb8d78f6f3e7038c,e1dd99a0f5f25f86e8827729cb8d78f6f3e7038c,"Add window to “document will save” notification

The text view needs to do a little work before saving a document (serialize folded text) and with the window as part of the user data, we can now skip that for text views in windows for which documents are not going to be saved.

This is not an ideal solution; long-term saving will be moved up to the DocumentWindowController which has the full view of all documents and text views."
sorbits,2012-09-27 15:40:56,https://api.github.com/repos/textmate/textmate/git/commits/cf62b6e92bd8cefa8b1a75f61aee8d0096dfcb8c,cf62b6e92bd8cefa8b1a75f61aee8d0096dfcb8c,Improve error text for missing shell commands
sorbits,2012-09-27 15:38:49,https://api.github.com/repos/textmate/textmate/git/commits/ea85d37dff52ea0b05a04a001cf0b397832dd4b7,ea85d37dff52ea0b05a04a001cf0b397832dd4b7,Use literal ‘⇥’ instead of ‘\u21E5’
sorbits,2012-09-25 22:26:01,https://api.github.com/repos/textmate/textmate/git/commits/e1fc3993f014c8ba29876507d7d2aee13bea6fc5,e1fc3993f014c8ba29876507d7d2aee13bea6fc5,"Improve editor performance when file browser show lots of stuff

Delays may still be experienced when a file is opened or its “modified” state is changed but general edits should no longer be affected by how much is showing in the file browser.

This addresses issue #463."
sorbits,2012-09-25 20:06:16,https://api.github.com/repos/textmate/textmate/git/commits/e958a0494552b3245d80b48be53b4009c38a2499,e958a0494552b3245d80b48be53b4009c38a2499,Potentially resize gutter when bounds change
sorbits,2012-09-25 14:03:41,https://api.github.com/repos/textmate/textmate/git/commits/e969b4cadefdde171f31759546baab51fb427498,e969b4cadefdde171f31759546baab51fb427498,Hide OakControl implementation
sorbits,2012-09-25 13:40:46,https://api.github.com/repos/textmate/textmate/git/commits/a9412d7920ab01dc46c017a2f4b801e4f76f7dfb,a9412d7920ab01dc46c017a2f4b801e4f76f7dfb,"Minor change to tab bar view properties

We now set the isExpanded property during initialize and use a property to reflect the current user preference for wether or not to collapse when there is just one tab."
sorbits,2012-09-25 13:31:48,https://api.github.com/repos/textmate/textmate/git/commits/695ee00b3bf65faf3832510a491cab7cde913c37,695ee00b3bf65faf3832510a491cab7cde913c37,"Remove binding support from OakTabBarView

Initially this was used but I found that a data source approach worked better, as it made things more explicit (and this easier to follow)."
sorbits,2012-09-25 13:15:09,https://api.github.com/repos/textmate/textmate/git/commits/2edf3bb56ef9412e99b7be529445f37750c0f140,2edf3bb56ef9412e99b7be529445f37750c0f140,Add comments translating code points
sorbits,2012-09-25 13:04:57,https://api.github.com/repos/textmate/textmate/git/commits/71c1febc3471af11691ea9f311d3899c1b40eb04,71c1febc3471af11691ea9f311d3899c1b40eb04,"Constrain gutter view’s top to that of the text view

This might be what’s causing the gutter view to sometimes be shorter than the text view, although it’s merely a hunch."
sorbits,2012-09-25 12:16:50,https://api.github.com/repos/textmate/textmate/git/commits/a0c4af64bd2005c8e004acb6716585578c104fa9,a0c4af64bd2005c8e004acb6716585578c104fa9,"Remove trailing whitespace

Only removed from non-empty lines."
sorbits,2012-09-25 10:30:12,https://api.github.com/repos/textmate/textmate/git/commits/983bce86aa4b005f39bde54da0d4952808d78e9e,983bce86aa4b005f39bde54da0d4952808d78e9e,Use @autoreleasepool blocks
sorbits,2012-09-24 21:55:12,https://api.github.com/repos/textmate/textmate/git/commits/7d50b4db928ca6a1babef8ccb82b1d94af094e9b,7d50b4db928ca6a1babef8ccb82b1d94af094e9b,"Change version bumping rules

We no longer do an implicit bump after deploy — this should be done, but as we also want to do a bump before deploy (so deployment builds do not share revision with any custom builds) we need the bump rule to be usable by itself.

Also fix issue with bumping APP_REVISION in build.ninja not affecting APP_VERSION after rebuilding build.ninja.

And additionally include user file after main build.ninja."
sorbits,2012-09-24 20:57:20,https://api.github.com/repos/textmate/textmate/git/commits/1715c1e3b591ad8b8312b00cf573330b0e378427,1715c1e3b591ad8b8312b00cf573330b0e378427,Checkin release notes
sorbits,2012-09-24 20:56:33,https://api.github.com/repos/textmate/textmate/git/commits/80422c2b46477e3cf0f92031043481956a5f0e9b,80422c2b46477e3cf0f92031043481956a5f0e9b,"Exclude variables when dumping all settings

The variables can already be shown by running ‘env’ via ⌃R."
sorbits,2012-09-24 20:53:21,https://api.github.com/repos/textmate/textmate/git/commits/2aa0be435f2383ef6657b58e24e5a477c6df3752,2aa0be435f2383ef6657b58e24e5a477c6df3752,"Change --key → --setting

The generic tm_query name makes me think we may later use it to query TextMate about other things than settings."
sorbits,2012-09-24 20:23:55,https://api.github.com/repos/textmate/textmate/git/commits/56bbac282daece6c9b2c3f2b88c2b7bc75d096b5,56bbac282daece6c9b2c3f2b88c2b7bc75d096b5,"If requested setting is not found, we return 1"
sorbits,2012-09-24 20:18:39,https://api.github.com/repos/textmate/textmate/git/commits/15ad4876b0b946ca1dadade68677e65df9e74033,15ad4876b0b946ca1dadade68677e65df9e74033,"If no path is given, use TM variables

This allows simply calling (for example):

    ""$TM_QUERY"" --key windowTitle

And it’ll return the window title in effect for the current file."
sorbits,2012-09-24 20:16:24,https://api.github.com/repos/textmate/textmate/git/commits/d730059382fb56c5080e3463f001836aa23eb6d3,d730059382fb56c5080e3463f001836aa23eb6d3,Print file name as given rather than as full path
sorbits,2012-09-24 19:57:21,https://api.github.com/repos/textmate/textmate/git/commits/ed33eb5021ae81728bf0ce3e7631aacbd384d909,ed33eb5021ae81728bf0ce3e7631aacbd384d909,"Use Inherited environment for settings

This ensures we get e.g. windowTitle based on TM_DISPLAYNAME etc."
sorbits,2012-09-24 19:30:51,https://api.github.com/repos/textmate/textmate/git/commits/68c0738ff2f95a277f002ba160701af6390a7013,68c0738ff2f95a277f002ba160701af6390a7013,"Add tm_query executable to TextMate.app

We expose the tool via a TM_QUERY environment variable."
sorbits,2012-09-24 19:29:04,https://api.github.com/repos/textmate/textmate/git/commits/7df336664ad6fb28b5c8271f7c847ead37009e5c,7df336664ad6fb28b5c8271f7c847ead37009e5c,"Add set_basic_environment

This is in cases where we don’t want the “clean” environment setup by default."
sorbits,2012-09-22 20:10:19,https://api.github.com/repos/textmate/textmate/git/commits/46639b4bd62516bb12d7cc5011e425b0dab77d61,46639b4bd62516bb12d7cc5011e425b0dab77d61,"Skip querying for variables

Since variables are already part of the settings, this is not necessary."
sorbits,2012-09-22 20:00:25,https://api.github.com/repos/textmate/textmate/git/commits/f4e0bb88c72697615c542cd5352962301786610f,f4e0bb88c72697615c542cd5352962301786610f,"Add default properties to search path

The default settings located inside TextMate.app are only available when called from TextMate (since it relies on the TM_APP_PATH environment variable)"
sorbits,2012-09-22 15:05:52,https://api.github.com/repos/textmate/textmate/git/commits/062e8e4e6206cc2e447e7369e790e750ac9c5182,062e8e4e6206cc2e447e7369e790e750ac9c5182,Add skeleton for tm_query tool
sorbits,2012-09-24 19:15:47,https://api.github.com/repos/textmate/textmate/git/commits/4ed34392d60e57ec5d1a278bcfbb7fdab64d2204,4ed34392d60e57ec5d1a278bcfbb7fdab64d2204,Use synthesized instance variables
sorbits,2012-09-24 18:04:05,https://api.github.com/repos/textmate/textmate/git/commits/c3de1a09f524602e1a4382bbdaac39ca44883494,c3de1a09f524602e1a4382bbdaac39ca44883494,Move code out of header
sorbits,2012-09-24 16:32:33,https://api.github.com/repos/textmate/textmate/git/commits/962bf5149bf213d247d127b955e9d2e94b2034bd,962bf5149bf213d247d127b955e9d2e94b2034bd,ARC: Update HTMLOutputWindow framework
sorbits,2012-09-24 16:22:12,https://api.github.com/repos/textmate/textmate/git/commits/45d38ff6c805c7b450c24935a541016784e8ee03,45d38ff6c805c7b450c24935a541016784e8ee03,Use synthesized instance variables
sorbits,2012-09-24 16:20:17,https://api.github.com/repos/textmate/textmate/git/commits/50217a73ba310a304f4ab76ffb85e01115f81f0a,50217a73ba310a304f4ab76ffb85e01115f81f0a,Let precompiled headers depend on compiler
sorbits,2012-09-23 11:06:21,https://api.github.com/repos/textmate/textmate/git/commits/7e53c15b678f3edb3fdcb39d65dd931c2b9e1ce1,7e53c15b678f3edb3fdcb39d65dd931c2b9e1ce1,ARC: Update layout framework (tests)
sorbits,2012-09-23 11:05:40,https://api.github.com/repos/textmate/textmate/git/commits/de3a1ee2f09b49820bc3915c0deca1fcc0248dc9,de3a1ee2f09b49820bc3915c0deca1fcc0248dc9,"Build tests with same compiler flags as their sources

We link the test’s .o with the .o objects from the library being tested, rather than link it with a potential dylib, hence why some flags matter."
sorbits,2012-09-23 11:01:23,https://api.github.com/repos/textmate/textmate/git/commits/452c0b3889da57fa6d890b6a22039960e20cae04,452c0b3889da57fa6d890b6a22039960e20cae04,"Make cocoa.h usable with ARC

This means removing a few autoreleases so it’ll leak when building without ARC, but as this is just for a short-lived test, it shouldn’t matter."
sorbits,2012-09-23 00:19:07,https://api.github.com/repos/textmate/textmate/git/commits/426b3d1257cb7a2fd4d93e7585e64f214e37a77f,426b3d1257cb7a2fd4d93e7585e64f214e37a77f,ARC: Update CrashReporter framework
sorbits,2012-09-23 00:01:57,https://api.github.com/repos/textmate/textmate/git/commits/596bd65140203777db5bd759226dfd0bd1179116,596bd65140203777db5bd759226dfd0bd1179116,ARC: Update BundleMenu framework
etienne,2012-09-22 18:58:48,https://api.github.com/repos/textmate/textmate/git/commits/7cc86ae8cfd3acf43e574a39e1714f946a535c01,7cc86ae8cfd3acf43e574a39e1714f946a535c01,"Add .scssc to list of non-text files

Fixes #445."
mads-hartmann,2012-09-22 17:03:51,https://api.github.com/repos/textmate/textmate/git/commits/adec6e4184694fbea4972a278deca530e5f9fbab,adec6e4184694fbea4972a278deca530e5f9fbab,"Incremental search keybindings

You can now use CTRL+S and CTRL+SHIFT+S to jump forwards/backwards
in the incremental search results"
mads-hartmann,2012-09-22 15:43:15,https://api.github.com/repos/textmate/textmate/git/commits/c2eee4578f44de577783ce5187592c70c61fd9fc,c2eee4578f44de577783ce5187592c70c61fd9fc,Made the Live Search view prettier
sorbits,2012-09-22 13:46:09,https://api.github.com/repos/textmate/textmate/git/commits/9d97fdfdb0b949c6ac7f84c0576a1bd7bc63dcab,9d97fdfdb0b949c6ac7f84c0576a1bd7bc63dcab,Find in Folder: Add failing CRLF test
sudara,2012-09-22 01:02:34,https://api.github.com/repos/textmate/textmate/git/commits/62e2fc77fc9dfefad61fc71c627cce7dc426a59b,62e2fc77fc9dfefad61fc71c627cce7dc426a59b,"Consider .ai and .gif files binary by default

A courtesy to anyone with images and illustrator files in their project!"
sorbits,2012-09-22 11:22:34,https://api.github.com/repos/textmate/textmate/git/commits/0cea361b006dc0577aec53781d87195410dddbd3,0cea361b006dc0577aec53781d87195410dddbd3,Explicit timer invalidation
sorbits,2012-09-22 10:16:54,https://api.github.com/repos/textmate/textmate/git/commits/56b96e7f075ee8318e04971abf2897fa96516a78,56b96e7f075ee8318e04971abf2897fa96516a78,ARC: Update OakFoundation framework
sorbits,2012-09-22 09:42:49,https://api.github.com/repos/textmate/textmate/git/commits/ed7a93af93a51a7bcb02e4c268b7439bea534e2e,ed7a93af93a51a7bcb02e4c268b7439bea534e2e,"Allow enabling ARC per target

The issue is that the precompiled header must also be created with ARC enabled, so now we use different precompiled headers depending on wether or not the file to be compiled has -fobjc-arc enabled.

The way this is done is hardcoded for the ARC options, it might be nice to abstract it so that the PCH dependency had a name derived from the PCH-sensitive compiler options."
sorbits,2012-09-21 18:30:12,https://api.github.com/repos/textmate/textmate/git/commits/54377e35a935c65defb0a031578a57b5c0a6b65d,54377e35a935c65defb0a031578a57b5c0a6b65d,Checkin release notes
sorbits,2012-09-21 18:18:25,https://api.github.com/repos/textmate/textmate/git/commits/02ab2e858aec34864e522e102f3fe90b57f2ce31,02ab2e858aec34864e522e102f3fe90b57f2ce31,Local key bindings no longer eclipse the default set
sorbits,2012-09-21 18:16:23,https://api.github.com/repos/textmate/textmate/git/commits/e5e2385be70d6d99648a0b6b5e5729f604cb30c0,e5e2385be70d6d99648a0b6b5e5729f604cb30c0,"Remove “execute selection” menu items

These actions are available as bundle items."
sorbits,2012-09-21 17:55:27,https://api.github.com/repos/textmate/textmate/git/commits/bae6270d6c08701a110465ec5ac92fedbb800ccc,bae6270d6c08701a110465ec5ac92fedbb800ccc,"Add indent aware begin/end of line action methods

The methods going to “begin of indented line” will go to the first non-whitespace character on the line, unless the caret is already there or to the left of this character, in which case it will go to the actual beginning of the line.

The “end of indented line” methods work similarly.

If you want [⇪]⌘⇠/⇢ and ⌘⌫/⌦ to use this behavior, you can add the following to your key bindings file:

	""@\UF702""  = ""moveToBeginningOfIndentedLine:"";
	""$@\UF702"" = ""moveToBeginningOfIndentedLineAndModifySelection:"";
	""@\UF703""  = ""moveToEndOfIndentedLine:"";
	""$@\UF703"" = ""moveToEndOfIndentedLineAndModifySelection:"";
	""@\U007F""  = ""deleteToBeginningOfIndentedLine:"";
	""@\UF728""  = ""deleteToEndOfIndentedLine:"";"
sorbits,2012-09-21 15:48:20,https://api.github.com/repos/textmate/textmate/git/commits/13f35bd5b1156609977b3cdaaccae3bf1e2da7dd,13f35bd5b1156609977b3cdaaccae3bf1e2da7dd,"Whitelist rather than blacklist inherited variables

Initially the environment was clean but it was found that some variables should be inherited, e.g. SSH_AUTH_SOCK.

Therefor a blacklist was introduced, but it seems futile trying to keep it updated with all the variables that may affect the behavior of commands executed from within TextMate, therefor we now use a whitelist.

Probably the whitelist should be user configurable as launchd uses environment variables to communicate dynamically allocated sockets (like SSH_AUTH_SOCK, but there are also some Apple-prefixed variables pointing to named sockets).

Issue #238."
sorbits,2012-09-21 15:33:55,https://api.github.com/repos/textmate/textmate/git/commits/9f339bbae1f2cb6afb2b26154b0ec23749c26444,9f339bbae1f2cb6afb2b26154b0ec23749c26444,"Fix thread related crash

Since the std::map hosting the basic environment was using a (function local) static initializer, it would be destroyed during exit — though there might be threads using the basic environment, and joining these might happen after destroying the basic environment.

This should explain the crash in network::launch_tbz."
sorbits,2012-09-21 14:21:20,https://api.github.com/repos/textmate/textmate/git/commits/a1a5569ae6a266503bc6d90005900c3b273b33db,a1a5569ae6a266503bc6d90005900c3b273b33db,"Don’t select implicit padding

For example moving the selection often require padding to be inserted, previously this padding would become part of the selection.

This fixes issue #72."
sorbits,2012-09-21 14:18:14,https://api.github.com/repos/textmate/textmate/git/commits/e4ea7834c1666228f4cc1ab872fd19f6e4dd4b90,e4ea7834c1666228f4cc1ab872fd19f6e4dd4b90,Refactoring
sorbits,2012-09-21 14:12:07,https://api.github.com/repos/textmate/textmate/git/commits/057f07448f9dea7ea42d45ad9cf40e3a3bf78f7a,057f07448f9dea7ea42d45ad9cf40e3a3bf78f7a,"Fix “move selection” for east asian scripts

Since it moves one column left/right and east asian scripts have their glyphs count as two columns, it would effectively move half a column, which in practice would be done by inserting a space.

Fixes issue #469."
sorbits,2012-09-21 14:07:32,https://api.github.com/repos/textmate/textmate/git/commits/86461a30b78d7d2ae8b8ba19a33472d352bf9300,86461a30b78d7d2ae8b8ba19a33472d352bf9300,Add flag to ignore east asian width
sorbits,2012-09-21 14:06:58,https://api.github.com/repos/textmate/textmate/git/commits/3f012ff11c9b10faeec4982ce634d483dd1a83f3,3f012ff11c9b10faeec4982ce634d483dd1a83f3,Recent menu ignores files created with “New Tab”
sorbits,2012-09-21 14:05:18,https://api.github.com/repos/textmate/textmate/git/commits/b5c8e3e247ff0a39b5a73cfb5dcc66d336f19656,b5c8e3e247ff0a39b5a73cfb5dcc66d336f19656,"Recent menu ignores files opened via mate

You can still create an alias for ‘mate’ that calls ‘mate --recent’.

The motivation for this change is that stuff you open via mate is generally SCM commit messages, the cron tab, included files (opened from within TextMate via bundle commands), and other such things. Additionally I think that if you open files via ‘mate’ you would just repeat the line in your shell, though I know not all users feel this way.

Folders opened via mate does go into the recent menu."
sorbits,2012-09-21 13:16:31,https://api.github.com/repos/textmate/textmate/git/commits/fbbe4ddac74915fb99bf221c60d76cc40c9ff9db,fbbe4ddac74915fb99bf221c60d76cc40c9ff9db,"Cap line number when requesting info from layout

With the new constraint based layout, the gutter can issue line record requests before the layout has been updated to hold the new document buffer."
sorbits,2012-09-21 13:11:05,https://api.github.com/repos/textmate/textmate/git/commits/8ea658b3cfb29501e388ac6a95ac3126965c0f62,8ea658b3cfb29501e388ac6a95ac3126965c0f62,"Command-clicking single caret could lead to crash

Command-clicking an existing caret normally toggles, unless there only is a single caret, in which case it adds a caret. This would thus allow you to add a new caret sharing the position of the existing, and command-clicking again would then remove both the two existing carets, leading to an assertion failure (as there were no carets).

Fixes issue #466."
sorbits,2012-09-21 12:56:09,https://api.github.com/repos/textmate/textmate/git/commits/a3cae448b1d4d9cf9111a6203d6215e653190161,a3cae448b1d4d9cf9111a6203d6215e653190161,fixup! Use Objective-C for…in instead of macro
sorbits,2012-09-20 23:31:50,https://api.github.com/repos/textmate/textmate/git/commits/6afa7601c0201a81fbd2edadec9ac7f389ced575,6afa7601c0201a81fbd2edadec9ac7f389ced575,"Provide utf16::advance with range end

There are several crashes reported from firstRectForCharacterRange: which indicate that the system may ask for indexes “out of range”, hence why we now effectively just cap such request."
sorbits,2012-09-20 23:17:21,https://api.github.com/repos/textmate/textmate/git/commits/56ec46e1f9c5196b54f383f1afc1f9cfd5f37ce2,56ec46e1f9c5196b54f383f1afc1f9cfd5f37ce2,fixup! Avoid using objc_ptr
sorbits,2012-09-20 10:14:05,https://api.github.com/repos/textmate/textmate/git/commits/a94e89d7be0d7432a5cd5f9ba982dae519225621,a94e89d7be0d7432a5cd5f9ba982dae519225621,Remove code for beginof/endof
sorbits,2012-09-20 10:12:17,https://api.github.com/repos/textmate/textmate/git/commits/0f3861fec76480aa8804feaacd6338aa0389c7bb,0f3861fec76480aa8804feaacd6338aa0389c7bb,"Retire custom begin/endof functions

We can now use std::begin/end although for containers we explicitly call the member functions."
sorbits,2012-09-20 10:03:05,https://api.github.com/repos/textmate/textmate/git/commits/c7971c5f639635a7ddc328af46707f35504d50ff,c7971c5f639635a7ddc328af46707f35504d50ff,Use range-based for instead of std::for_each
sorbits,2012-09-19 23:37:36,https://api.github.com/repos/textmate/textmate/git/commits/d06bd877e2827723181672cdcf293a64e3f4d4fb,d06bd877e2827723181672cdcf293a64e3f4d4fb,Avoid using begin/endof with ng::ranges_t
sorbits,2012-09-19 23:36:55,https://api.github.com/repos/textmate/textmate/git/commits/36b87ebde6d40f525f2bb34bf9cbad0ac1c944f7,36b87ebde6d40f525f2bb34bf9cbad0ac1c944f7,Use std::string over char const*
sorbits,2012-09-19 23:27:59,https://api.github.com/repos/textmate/textmate/git/commits/d71b9ea3242ba6bd6dd9e6842807f2582ac5288f,d71b9ea3242ba6bd6dd9e6842807f2582ac5288f,"Avoid using begin/endof with strings

Mainly this is just to phase out the use of these custom helpers."
sorbits,2012-09-19 23:22:10,https://api.github.com/repos/textmate/textmate/git/commits/ebab500ba3ab4e6a44d89e6f88d11405daa38346,ebab500ba3ab4e6a44d89e6f88d11405daa38346,"Use std::map/set instead of C arrays

These types come with a find() method and avoids having to use helper functions to get the begin/end of the array (for linear search)."
sorbits,2012-09-19 15:14:35,https://api.github.com/repos/textmate/textmate/git/commits/a9ba549cdaa32a75e5e4df7c0328449d0728545b,a9ba549cdaa32a75e5e4df7c0328449d0728545b,Use strchr instead of std::find
sorbits,2012-09-19 14:59:17,https://api.github.com/repos/textmate/textmate/git/commits/39f0ea518b39429562c95b9d2099a87340b8833c,39f0ea518b39429562c95b9d2099a87340b8833c,Use tuple instead of lexicographical_compare
sorbits,2012-09-19 14:34:38,https://api.github.com/repos/textmate/textmate/git/commits/45c87c47f835eb4658f5b773befec80377323f4f,45c87c47f835eb4658f5b773befec80377323f4f,Rename CocoaSTL.h → objc_ptr.h
sorbits,2012-09-19 14:28:08,https://api.github.com/repos/textmate/textmate/git/commits/8fd7b82cbd69607464d30497c328eceaf4443a4f,8fd7b82cbd69607464d30497c328eceaf4443a4f,Remove CocoaSTL.h include
sorbits,2012-09-19 14:18:44,https://api.github.com/repos/textmate/textmate/git/commits/4273bf968b80485075e607e752e4292b90c4b06f,4273bf968b80485075e607e752e4292b90c4b06f,Get rid of C++ style NSIndexSet iteration
sorbits,2012-09-19 13:49:03,https://api.github.com/repos/textmate/textmate/git/commits/2739b4cf20d314b38023722348ef204d20eb5a11,2739b4cf20d314b38023722348ef204d20eb5a11,Remove unused stuff from CocoaSTL.h
sorbits,2012-09-19 13:45:01,https://api.github.com/repos/textmate/textmate/git/commits/101e0560f6af67ffc99722afcd8b544b26e247bf,101e0560f6af67ffc99722afcd8b544b26e247bf,Avoid using objc_ptr
sorbits,2012-09-19 13:31:59,https://api.github.com/repos/textmate/textmate/git/commits/4532099359c7cdec6063a9a2ff809d80c953ccd2,4532099359c7cdec6063a9a2ff809d80c953ccd2,"Use Objective-C for…in instead of macro

This avoids having to use C++ iterators and we want to get rid of some of this Objective-C/C++ mixing for ARC and other reasons."
sorbits,2012-09-19 13:15:00,https://api.github.com/repos/textmate/textmate/git/commits/6b42343bd3501068fa65a37aa2822a6c5c21edbe,6b42343bd3501068fa65a37aa2822a6c5c21edbe,Add missing include
sorbits,2012-09-19 11:04:09,https://api.github.com/repos/textmate/textmate/git/commits/017343a7dce475ae98611da42937d94b4d83886a,017343a7dce475ae98611da42937d94b4d83886a,"TM_SELECTED_TEXT must not exceed ARG_MAX

If the selection exceeds ARG_MAX (256 KB) then we instead set it to a placeholder value.

Previously execve() would fail if given a selection (environment) variable too big."
sorbits,2012-09-19 00:11:33,https://api.github.com/repos/textmate/textmate/git/commits/2ba66c571870079826a826c50a1410ff4ea4b9c4,2ba66c571870079826a826c50a1410ff4ea4b9c4,"Add four flavors of copy to find in folder window

These actions are available from the settings / action menu in the status bar above the results.

Calling the regular copy (⌘C) copies the entire lines. Probably it should only copy the matching subset when a regular expression search has been performed."
sorbits,2012-09-18 23:21:42,https://api.github.com/repos/textmate/textmate/git/commits/cf7191c52138cbe14b050b783f6a5aee7d70e890,cf7191c52138cbe14b050b783f6a5aee7d70e890,"Update rmate: Fix saving when path~ exists

Also change default host back to ‘localhost’ and let environment variables take precedence over rmate.rc."
sorbits,2012-09-18 22:08:49,https://api.github.com/repos/textmate/textmate/git/commits/17bba51035a0bd79b53c378ba28358f0e492b7bb,17bba51035a0bd79b53c378ba28358f0e492b7bb,"Include git commit and alpha tag in version string

This is primarily for better filtering of crash reports."
sorbits,2012-09-18 21:51:57,https://api.github.com/repos/textmate/textmate/git/commits/22644470f86080d5d35378ce8a7aad2ecc2903e7,22644470f86080d5d35378ce8a7aad2ecc2903e7,Fix crash when clicking exactly on split view divider
sorbits,2012-09-18 20:56:46,https://api.github.com/repos/textmate/textmate/git/commits/c7b90e46891c0fd87c5b1fb8ed45622fa5ea3bfb,c7b90e46891c0fd87c5b1fb8ed45622fa5ea3bfb,Checkin release notes
sorbits,2012-09-18 20:25:49,https://api.github.com/repos/textmate/textmate/git/commits/b049dd88921619e9f507270dcbda27d9e66cdcce,b049dd88921619e9f507270dcbda27d9e66cdcce,Opening folder sets up window title/scope attributes
sorbits,2012-09-18 18:33:52,https://api.github.com/repos/textmate/textmate/git/commits/1b8255db06c33d70c5f7da1eb8e4e387e2a6133d,1b8255db06c33d70c5f7da1eb8e4e387e2a6133d,Fix x-insert dialog command
sorbits,2012-09-18 17:55:12,https://api.github.com/repos/textmate/textmate/git/commits/536ea62f2d56ed72022148f84928f10f52419a8f,536ea62f2d56ed72022148f84928f10f52419a8f,"The indent ignore fold pattern would affect start/stop markers

When we wish to (ab)use the indented fold system to fold sections in markup languages we set the ignore pattern to ignore all but the heading markers. Some markup languages also have markup that might be suitable for folding with explicit start/stop markers, previously these were ignored, if matched by the ignore pattern.

This is an incomplete fix as we don’t correctly nest a start/stop marked block inside a section (the section will stop at the fold start marker)."
sorbits,2012-09-18 17:32:32,https://api.github.com/repos/textmate/textmate/git/commits/361d2daa5b7e0451db8df02c4e22598adcf7a9f1,361d2daa5b7e0451db8df02c4e22598adcf7a9f1,"Fix wrong document showing after session restore

Since documents are loaded asynchronously and we trigger a request for the first tab’s document, this might finish loading after the selected tab’s document, hence trigger a setDocument: after we loaded the selected document’s tab."
sorbits,2012-09-18 15:49:41,https://api.github.com/repos/textmate/textmate/git/commits/48616a7ea18360f563c6fe7ae3c76b0194d3ec6f,48616a7ea18360f563c6fe7ae3c76b0194d3ec6f,"Make document_t::scope private

Ideally should be removed entirely but as document presently does load/save where we need scopes (for import/export commands), we need it internally."
sorbits,2012-09-18 15:39:27,https://api.github.com/repos/textmate/textmate/git/commits/8964971e98dd95276dc3a80a8674da63fa61bb97,8964971e98dd95276dc3a80a8674da63fa61bb97,Remove document_t::path_attributes
sorbits,2012-09-18 15:29:33,https://api.github.com/repos/textmate/textmate/git/commits/79b0f7a14a0bbda1eb685d2edc98641c4dc96e32,79b0f7a14a0bbda1eb685d2edc98641c4dc96e32,"Setup scope attributes for untitled documents

These are based on the potential save directory (i.e. the one showing in the file browser) and ensures pressing ⌥⌘N gives the new document proper project and SCM scopes (so ⌘Y and ⌘B works as expected).

This fixes issue #367."
sorbits,2012-09-18 15:05:24,https://api.github.com/repos/textmate/textmate/git/commits/5e453d1172e05e1d42e3ece8320fda50f3a02206,5e453d1172e05e1d42e3ece8320fda50f3a02206,"Accept directory in file::path_attributes

This is so that we can get SCM system, build system, and similar."
sorbits,2012-09-18 10:39:54,https://api.github.com/repos/textmate/textmate/git/commits/45763d4afc4fc3d68e04f982f0d217b333407454,45763d4afc4fc3d68e04f982f0d217b333407454,"Don’t require file to get SCM info

We didn’t actually use the file itself, only its parent directory, and there are several places we want SCM info for an untitled file’s project directory, so removing the need for a file simplifies things."
sorbits,2012-09-18 10:04:44,https://api.github.com/repos/textmate/textmate/git/commits/1ecf3dabd348526b5cdf603463fee0aa92f0ff64,1ecf3dabd348526b5cdf603463fee0aa92f0ff64,"fixup! Update project properties

Lost the framework in the window title."
sorbits,2012-09-18 09:45:33,https://api.github.com/repos/textmate/textmate/git/commits/565242584f144ff4e7ce425f7548a185d6f23f62,565242584f144ff4e7ce425f7548a185d6f23f62,"Ensure document stays open in refresh helper

The refresh helper uses the document’s undo manager in its destructor. Normally the document would stay open throughout the duration of the scope in which the refresh helper is used, but it might be possible to close the current document from a nested event loop, as spawned e.g. by showing a tool tip, in which case, the document will be closed when we reach the destructor."
sorbits,2012-09-18 09:33:49,https://api.github.com/repos/textmate/textmate/git/commits/2ef3d52a3db11108493821fa2454687ebedda462,2ef3d52a3db11108493821fa2454687ebedda462,Remove unnecessary refresh from performKeyEquivalent:
sorbits,2012-09-18 08:19:43,https://api.github.com/repos/textmate/textmate/git/commits/54bf2be75fe841de57cc63d421775eb7599ad06b,54bf2be75fe841de57cc63d421775eb7599ad06b,"Make variable const

Just to stress that map is immutable."
sorbits,2012-09-18 00:04:14,https://api.github.com/repos/textmate/textmate/git/commits/848d197f7ae5175677b27c10e113dbd0ba052d18,848d197f7ae5175677b27c10e113dbd0ba052d18,Use DocumentController over document_t
sorbits,2012-09-17 23:29:20,https://api.github.com/repos/textmate/textmate/git/commits/c26e5c2d3662e74381d077dd39ed6158dabe61f4,c26e5c2d3662e74381d077dd39ed6158dabe61f4,"Scope attributes are now given to editor_t

While presently it works the same, it allows us to provide better scope attributes e.g. for untitled documents (which lack SCM attributes)."
sorbits,2012-09-17 23:13:11,https://api.github.com/repos/textmate/textmate/git/commits/dabcad588de26041a248c788855359d7d066a7bf,dabcad588de26041a248c788855359d7d066a7bf,Introduce OakTextViewDelegate
sorbits,2012-09-17 22:37:24,https://api.github.com/repos/textmate/textmate/git/commits/4ad00f7797e5c18872033cdbec6894c18c5a8628,4ad00f7797e5c18872033cdbec6894c18c5a8628,"Avoid calling scope in completion functions

Instead we pass the scope as a parameter."
sorbits,2012-09-17 21:39:36,https://api.github.com/repos/textmate/textmate/git/commits/19ef687334bb39673154bc9d0e4fee6c98f49024,19ef687334bb39673154bc9d0e4fee6c98f49024,Preserve arguments for recursive call to self
sorbits,2012-09-17 21:33:22,https://api.github.com/repos/textmate/textmate/git/commits/130d0a168d15a67da7e85b0858c7e5b792bb253b,130d0a168d15a67da7e85b0858c7e5b792bb253b,"Move check for indent corrections to OakTextView

This makes it easier to introduce a UI setting for the option."
sorbits,2012-09-17 19:23:17,https://api.github.com/repos/textmate/textmate/git/commits/08666a37baecb5644d56c855225695a8e6f58d47,08666a37baecb5644d56c855225695a8e6f58d47,Fix type error
sorbits,2012-09-17 19:12:17,https://api.github.com/repos/textmate/textmate/git/commits/8f7346ee3e5ece7ce22ed8fcd2bb065b81b0562a,8f7346ee3e5ece7ce22ed8fcd2bb065b81b0562a,"Reset potential column selection cursor on caret blink

Sometimes the cursor gets stuck and there is really no workaround other than periodically reset the image."
sorbits,2012-09-17 14:36:57,https://api.github.com/repos/textmate/textmate/git/commits/ebbd58c51350ef3f4834d8468e281c74f93473fc,ebbd58c51350ef3f4834d8468e281c74f93473fc,"Improve build file dependency tracking

Previously if we did something like:

    CP_Resources = resources/*

The build file would correctly depend on the ‘resources’ directory, but a change, as in, adding, removing, or renaming a file, in a directory below ‘resources’ (e.g. adding ‘resources/English.lproj/NewWindow.xib’) would not correctly update the build file to include the new resource."
sorbits,2012-09-16 19:28:40,https://api.github.com/repos/textmate/textmate/git/commits/d5b45736944cde0e0401b48ae296f20f485109c7,d5b45736944cde0e0401b48ae296f20f485109c7,Simplify closing tab/split action methods
sorbits,2012-09-16 18:10:33,https://api.github.com/repos/textmate/textmate/git/commits/effa1577ac79538bf10847b7eda2dc126cd2a6dc,effa1577ac79538bf10847b7eda2dc126cd2a6dc,"Don’t call setBottomCornerRounded:NO

This is private API and no longer seems necessary."
sorbits,2012-09-17 08:44:12,https://api.github.com/repos/textmate/textmate/git/commits/65c9594ff64b9f9b4d1f0c7898070a9f4a651289,65c9594ff64b9f9b4d1f0c7898070a9f4a651289,"fixup! Let cf::to_s(NULL) return NULL_STR

Incase of an empty string CFStringGetBytes() returns 0 which we treated as an error. This caused empty strings to be turned into the NULL_STR placeholder."
sorbits,2012-09-16 15:59:19,https://api.github.com/repos/textmate/textmate/git/commits/0810f5e34d14c01482f19381ebed48d0d13a9b8c,0810f5e34d14c01482f19381ebed48d0d13a9b8c,Checkin release notes
sorbits,2012-09-16 15:42:04,https://api.github.com/repos/textmate/textmate/git/commits/a45c2f6ea9eaac4c272a4669d6ba43c4e0743732,a45c2f6ea9eaac4c272a4669d6ba43c4e0743732,"Improve “is scope selector” heuristic

A root scope can also be followed by a comma, e.g. “text, source”."
sorbits,2012-09-16 15:00:42,https://api.github.com/repos/textmate/textmate/git/commits/d4f6cbacf3ac5e21192e35c0330799ad02557f1e,d4f6cbacf3ac5e21192e35c0330799ad02557f1e,"Simplify code

If the window hadn’t been loaded yet, we previously had to delay opening the document when changing tab (in code).

Since we now create the window in the initializer, there is no longer need for this."
sorbits,2012-09-16 10:05:16,https://api.github.com/repos/textmate/textmate/git/commits/1a1a80629c954bc0a2b69d89320638385a27cb49,1a1a80629c954bc0a2b69d89320638385a27cb49,"Update README

Link to prebuilt binaries, mention 10.6 fork, libc++ requirement, boostdir variable, and the potential need for using xcode-select."
sorbits,2012-09-16 09:38:45,https://api.github.com/repos/textmate/textmate/git/commits/7cd8ae4b8e91948f8465b607fe63bb013cdac076,7cd8ae4b8e91948f8465b607fe63bb013cdac076,"Add safety checks

Since 10% of reported crashes are in synchronizeWindowTitle and seems to be about not having a proper document pointer, I am adding these checks and some debug output — don’t understand how we would get into this situation though."
sorbits,2012-09-16 09:28:30,https://api.github.com/repos/textmate/textmate/git/commits/13ba42f98d4d232c4c435f5b8cb0fd1a4a5c3b7e,13ba42f98d4d232c4c435f5b8cb0fd1a4a5c3b7e,"Fix setting file type for dot files

When we store a file type for a dot file we should not prefix the “extension” with an asterisk."
sorbits,2012-09-16 09:26:22,https://api.github.com/repos/textmate/textmate/git/commits/45fdb380ea1011415952b1f5787bc7404dac12bb,45fdb380ea1011415952b1f5787bc7404dac12bb,"Extend std::string’s lifetime for safe use of c_str

20% of reported crashes are in launch_tbz which indirectly call oak::c_array. My hunch is that the c_str buffer is overwritten because the std::string which returned it has been disposed, this makes strdup() do a bad allocation / memory read.

This would likely be a race condition (wrt. the c_str buffer) and coincidentally the oak::c_array is called in a thread (when it crashes)."
sorbits,2012-09-16 09:16:21,https://api.github.com/repos/textmate/textmate/git/commits/22c38ebe1144f4a9fabf2f90b34a5525630576ac,22c38ebe1144f4a9fabf2f90b34a5525630576ac,"Remove legacy code (10.4 compatibility)

The code itself was using Gestalt() to check OS version which is deprecated on 10.8."
sorbits,2012-09-16 09:14:35,https://api.github.com/repos/textmate/textmate/git/commits/5ab65ea560920b7cb9a0da60ab1ae864998ae526,5ab65ea560920b7cb9a0da60ab1ae864998ae526,"fixup! Constrain size of splits in main window

Forgot to enable ‘autorecalculatesKeyViewLoop’."
sorbits,2012-09-16 09:12:02,https://api.github.com/repos/textmate/textmate/git/commits/923dab63757c596df0ad1fc0548add79444c3c37,923dab63757c596df0ad1fc0548add79444c3c37,"Scoped properties are now applied last

This is so that a global setting for ‘source.ruby’ takes precedence over a local ‘source’ setting.

A minor downside is that a local properties file cannot use scoped settings outside a scope selector section."
sorbits,2012-09-16 09:01:03,https://api.github.com/repos/textmate/textmate/git/commits/d5a73dfca91dccdeea331d83a1741a9b380e97f4,d5a73dfca91dccdeea331d83a1741a9b380e97f4,"Don’t present dot files as having an extension

This is just for the dialog text when user is asked to select a file type."
sorbits,2012-09-16 08:36:42,https://api.github.com/repos/textmate/textmate/git/commits/ec4ac60ae4f276d723b7541acca2d7a61bf86b2e,ec4ac60ae4f276d723b7541acca2d7a61bf86b2e,"Add glob test: ‘*.ext’ doesn’t match ‘.ext’

I wasn’t sure if this was really desired, but it mimics bash."
sorbits,2012-09-16 08:31:17,https://api.github.com/repos/textmate/textmate/git/commits/363ba94fb8ab448433f5781bde527724b0e0c176,363ba94fb8ab448433f5781bde527724b0e0c176,"Fix format string in xib

Was using the (undefined) ‘Extension’ variable instead of ‘X’."
sorbits,2012-09-15 13:22:51,https://api.github.com/repos/textmate/textmate/git/commits/1fafbecd548273828644488736258562cdf6c771,1fafbecd548273828644488736258562cdf6c771,"Remove Chinese translation

It’s not feasible to maintain the old-style xib translations while we work on the UI. We’ll soon move fully to constraint-based layout which should allow translations to be purely string-based."
sorbits,2012-09-15 13:11:41,https://api.github.com/repos/textmate/textmate/git/commits/2d2e329cd85ac06e689a61705f45c32111578660,2d2e329cd85ac06e689a61705f45c32111578660,Remove legacy code
sorbits,2012-09-15 13:11:12,https://api.github.com/repos/textmate/textmate/git/commits/84104c8d9bd9d6fe81ce26e4f1761cf4edb758c3,84104c8d9bd9d6fe81ce26e4f1761cf4edb758c3,"Constrain size of splits in main window

The main window has now moved fully to constraint based layout which makes it a lot easier to tweak the layout and fixes issue #145.

Presently the option to have HTML output on the right is not supported. It will likely be back with a few other options that have been requested.

The width of file browser and height of HTML output view is always read from defaults rather than restored from previous session. Effectively this results in the same behavior except when there are multiple windows with different sizing of these splits. Unsure if per-window sizes should be brought back."
sorbits,2012-09-15 11:46:37,https://api.github.com/repos/textmate/textmate/git/commits/31fc37edbcec9abbfdbe968377b97a755d6ac100,31fc37edbcec9abbfdbe968377b97a755d6ac100,Remove unnecessary include
sorbits,2012-09-15 09:37:20,https://api.github.com/repos/textmate/textmate/git/commits/baae92341490f80001d63f0566b727d036fa9bc3,baae92341490f80001d63f0566b727d036fa9bc3,"Remove resize buttons

Going forward we only allow resizing views by grabbing the dividers."
sorbits,2012-09-14 21:22:57,https://api.github.com/repos/textmate/textmate/git/commits/926dfeb2a552bbb003cb178b87036dc4b95d6594,926dfeb2a552bbb003cb178b87036dc4b95d6594,"Auto-layout: Encapsulate tab bar expansion

With auto-layout the tab bar view can simply invalidate its intrinsic size when it should expand/collapse. This is also done if the global user setting for disabling tab bar collapsing is changed."
sorbits,2012-09-14 14:00:57,https://api.github.com/repos/textmate/textmate/git/commits/e721e6e0d61023855f703fed1227df74ab364578,e721e6e0d61023855f703fed1227df74ab364578,"Ensure builddir doesn’t contain removed files

If e.g. we rename “image.tiff” → “image.png” then the build files are correctly updated to copy “image.png” to the build directory, but until this commit, the old tiff image would stay in the build directory until manually removing it / cleaning the build directory."
sorbits,2012-09-14 12:09:46,https://api.github.com/repos/textmate/textmate/git/commits/5f24a91d44e9f92e65bfa815716ef7e2c19c8ee0,5f24a91d44e9f92e65bfa815716ef7e2c19c8ee0,"Auto-layout: Update OakDocumentView

The gutter will invalidate its intrinsic size when its width changes which will cause the Cocoa layout engine to update the layout, so no more explicit code to deal with adjusting the gutter’s width.

Likewise, the height of the gutter (not the gutter scroll view) has been setup to match the height of the text view (again, not the containing scroll view). This avoids observing the text view frame and manually updating gutter height to match it."
sorbits,2012-09-14 11:51:46,https://api.github.com/repos/textmate/textmate/git/commits/6bb23c17659c2f36ba43504df007c7264effc584,6bb23c17659c2f36ba43504df007c7264effc584,Gracefully handle missing gutter view delegate
sorbits,2012-09-14 10:45:01,https://api.github.com/repos/textmate/textmate/git/commits/339c582f8c2c4ef50fcf96da1048bdc897b18afd,339c582f8c2c4ef50fcf96da1048bdc897b18afd,Auto-layout: Update incremental search (xib)
sorbits,2012-09-14 10:41:14,https://api.github.com/repos/textmate/textmate/git/commits/2b9c27263dab347123d92c2284cbcd3ccee8b948,2b9c27263dab347123d92c2284cbcd3ccee8b948,Auto-layout: Update file browser and HTML output
sorbits,2012-09-14 09:05:15,https://api.github.com/repos/textmate/textmate/git/commits/4d95db8f660ded8a7303b6d090b529ee53e04ccc,4d95db8f660ded8a7303b6d090b529ee53e04ccc,Auto-layout: Implement intrinsicContentSize
sorbits,2012-09-14 08:56:50,https://api.github.com/repos/textmate/textmate/git/commits/a621a23924e36eb4d3a9fdea85410706637af624,a621a23924e36eb4d3a9fdea85410706637af624,"Update project properties

Mainly just rely on default SCM window title."
sorbits,2012-09-14 08:51:24,https://api.github.com/repos/textmate/textmate/git/commits/539f16008e303b7b7947c3098aef29727a3fa066,539f16008e303b7b7947c3098aef29727a3fa066,"Include SCM info in default window title

Ideally I also wanted to include project directory, but since the user’s properties are read after the default ones, and those contain the setup of projectDirectory, this isn’t possible with the current semantics."
sorbits,2012-09-13 21:03:12,https://api.github.com/repos/textmate/textmate/git/commits/170785dd528218ccb5c0e1f6749a10ba35638c61,170785dd528218ccb5c0e1f6749a10ba35638c61,Fix typo
sorbits,2012-09-12 21:32:03,https://api.github.com/repos/textmate/textmate/git/commits/2e3af12381dcb2525aa8d847a886d7043efc72ad,2e3af12381dcb2525aa8d847a886d7043efc72ad,"Rename property: layout → layers

This is to avoid a clash with the layout method introduced in 10.7 (and used during auto layout)."
sorbits,2012-09-12 21:00:21,https://api.github.com/repos/textmate/textmate/git/commits/144ee3762d5de31fa2e32494500c36ae56d431a8,144ee3762d5de31fa2e32494500c36ae56d431a8,"Use NSBox to draw gutter divider

There’s a few subtle advantages of going with a view, mostly theoretical (about minimizing refresh rectangles) but switching to constrained based layout should provide minor code simplifications, since our ancestor view won’t have to deal with the gutter divider rectangle."
sorbits,2012-09-12 17:44:56,https://api.github.com/repos/textmate/textmate/git/commits/2b2b0b016de92ae55de39407350e1e7854a75692,2b2b0b016de92ae55de39407350e1e7854a75692,Make all second level headings article
sorbits,2012-09-12 16:29:37,https://api.github.com/repos/textmate/textmate/git/commits/3d3e44e1a4ae836dd1b55401a3a31385e0a16e7b,3d3e44e1a4ae836dd1b55401a3a31385e0a16e7b,"Add TM_CURRENT_THEME_PATH

There’s a few commands which want to read settings from the current theme. So far these have been reading the theme UUID from TextMate’s settings and scanned the disk to find the corresponding property list.

This is pretty bad because theme UUID can be set in different ways, themes can be in arbitrary bundles, and the property lists can be in delta format.

The latter is not solved, though we ensure the variable point to the base theme, incase a delta exist. TextMate could simply write a non-delta version of the theme to TMPDIR and let the variable point to that, so we’re not really limiting ourself by adding this variable."
sorbits,2012-09-12 16:16:07,https://api.github.com/repos/textmate/textmate/git/commits/ba28b9e1aee38f570eebc64a93981815b1eb3329,ba28b9e1aee38f570eebc64a93981815b1eb3329,"Set TM_APP_IDENTIFIER

This is for bundles that need to read TextMate’s preferences file (should only be those using a nib with user defaults bindings for their preferences dialog)."
sorbits,2012-09-12 16:14:52,https://api.github.com/repos/textmate/textmate/git/commits/04272337ae1c0c3a1db7ac90336562fddc7695e0,04272337ae1c0c3a1db7ac90336562fddc7695e0,"Let cf::to_s(NULL) return NULL_STR

This was previously undefined. We also return NULL_STR when converting the CFString fails."
sorbits,2012-09-12 15:54:24,https://api.github.com/repos/textmate/textmate/git/commits/065f5552bbebd860cbd49751b0e3e35f9fc946f9,065f5552bbebd860cbd49751b0e3e35f9fc946f9,"Enable implicit @synthesize

I haven’t removed the current use of @synthesize since that results in a build that throws exceptions and crashes."
sorbits,2012-09-12 14:04:29,https://api.github.com/repos/textmate/textmate/git/commits/4b76514eeb623cc1e8ee6367b164f107a4f87b60,4b76514eeb623cc1e8ee6367b164f107a4f87b60,Implement getter/setter for const& property
sorbits,2012-09-12 13:59:32,https://api.github.com/repos/textmate/textmate/git/commits/2e2b91144dcf8d766a367518ff11436fcd2f3f7a,2e2b91144dcf8d766a367518ff11436fcd2f3f7a,"Change property to read-only

Since it uses a const reference we can’t synthesize a setter for this."
sorbits,2012-09-12 13:58:50,https://api.github.com/repos/textmate/textmate/git/commits/cb46ba11e5eb15ff7c67cd5876120bb7af1c2c62,cb46ba11e5eb15ff7c67cd5876120bb7af1c2c62,Change set-only property → method
sorbits,2012-09-11 22:25:36,https://api.github.com/repos/textmate/textmate/git/commits/a14a13feff2ba95c24586a619dbffd0604362b6a,a14a13feff2ba95c24586a619dbffd0604362b6a,Update search and file chooser to new glob list
sorbits,2012-09-11 22:24:31,https://api.github.com/repos/textmate/textmate/git/commits/4fc00f55e7bb338160823372f68f9ef0224bb975,4fc00f55e7bb338160823372f68f9ef0224bb975,Update file scanner API to use glob_list_t
sorbits,2012-09-11 22:22:04,https://api.github.com/repos/textmate/textmate/git/commits/4f017345fc2bb19aa754917a1e549ea8bd1c0efb,4f017345fc2bb19aa754917a1e549ea8bd1c0efb,"Add file/folder exclude keys for search and file chooser

This is just for completeness."
sorbits,2012-09-11 22:04:57,https://api.github.com/repos/textmate/textmate/git/commits/6521ff252947b53659a11ecf53559f776bbffcd0,6521ff252947b53659a11ecf53559f776bbffcd0,"Use glob_list_t in file browser

This changes the way the include/exclude keys work: A path now *must* be matched by an include key to actually be shown.

The default value of the global include key has been changed to include “*” but if users have edited the value, they will see few or no files in the file browser."
sorbits,2012-09-11 20:58:52,https://api.github.com/repos/textmate/textmate/git/commits/6f2e6bb3e574c2a7de2e92c31ba014d34a4d0f70,6f2e6bb3e574c2a7de2e92c31ba014d34a4d0f70,"Don’t restore “search hidden folders” setting

This is only because of upcoming code changes. Wether or not to search hidden folders can be expressed using the glob list, so a dedicated setting is redundant."
sorbits,2012-09-11 20:50:27,https://api.github.com/repos/textmate/textmate/git/commits/015d6a2a23d7a75c7d2372590a7f134470684fc1,015d6a2a23d7a75c7d2372590a7f134470684fc1,"Add glob_list_t type

This can be used to manage a list of accept/reject globs."
sorbits,2012-09-11 15:16:02,https://api.github.com/repos/textmate/textmate/git/commits/e8837fcf9fcc08eabab8832531d25f3d02160843,e8837fcf9fcc08eabab8832531d25f3d02160843,"Improve glob matching

1. The * and ** operators will now match a dot if not at the beginning of a path component. E.g. ‘main*’ will match ‘main.cc’.
2. When negating a glob, the * and ** operators will include dot files. E.g. ‘!cache/**’ will match (reject) ‘cache/.DS_Store’.
3. The ** operator no longer needs a trailing slash. E.g. ‘src/**.cc’ will match ‘src/main.cc’ and ‘src/sys/util.cc’."
sorbits,2012-09-10 21:28:59,https://api.github.com/repos/textmate/textmate/git/commits/d3c455d9e5fbdc3a62636efbced4bbb95b59c109,d3c455d9e5fbdc3a62636efbced4bbb95b59c109,Checkin release notes
sorbits,2012-09-10 22:01:35,https://api.github.com/repos/textmate/textmate/git/commits/28f80a791d12f23e1d94442c796693a52bdb058a,28f80a791d12f23e1d94442c796693a52bdb058a,"Use project’s window title settings for untitled documents

This includes setting up SCM variables and closes issue #298."
sorbits,2012-09-10 21:53:45,https://api.github.com/repos/textmate/textmate/git/commits/b2fa6ff377122d7ae60a737f7a63458c3f4dc748,b2fa6ff377122d7ae60a737f7a63458c3f4dc748,"Remove UUID from settings API

Don’t recall what the intent was with this."
sorbits,2012-09-10 21:16:27,https://api.github.com/repos/textmate/textmate/git/commits/2333b23fe784f5ab69bf8371e8336350c2f68706,2333b23fe784f5ab69bf8371e8336350c2f68706,"When file is renamed, check if a new file takes its place

Xcode does some weird stuff while saving, it renames the existing file (twice), having it end up in some staging area with a UUID as filename, and then disappear.

Previously TextMate would track these renames, now it waits up to one second for a new file to appear using the old file’s path."
sorbits,2012-09-10 20:46:50,https://api.github.com/repos/textmate/textmate/git/commits/77360e4a6b60f89aa0b03fcea40e640b371a2bc4,77360e4a6b60f89aa0b03fcea40e640b371a2bc4,"Proper undo management for external changes

This fixes issue #50."
sorbits,2012-09-10 20:39:32,https://api.github.com/repos/textmate/textmate/git/commits/5dea94da01f765885aa3a5101e92e05cc8dd66a9,5dea94da01f765885aa3a5101e92e05cc8dd66a9,Disable undo/redo menu items when appropriate
sorbits,2012-09-10 18:46:51,https://api.github.com/repos/textmate/textmate/git/commits/cf5b5965dac6b9cc2517d45436b3b686c3ac4cd5,cf5b5965dac6b9cc2517d45436b3b686c3ac4cd5,"Don’t send theme bundle items to OakTextView

Since the text view delegates theme switching to its parent document view, we just send the theme (bundle item) directly to the document view."
sorbits,2012-09-10 18:40:15,https://api.github.com/repos/textmate/textmate/git/commits/b49e35ab6ad1f6cf915aec63d6ab998581701d90,b49e35ab6ad1f6cf915aec63d6ab998581701d90,"Harmonize “perform bundle item” method naming

We now have:

 - performBundleItem:
 - performBundleItemWithUUIDString:
 - performBundleItemWithUUIDStringFrom:

I’m leaning toward changing the prefix, as ‘perform’ is mainly action methods invoked as a direct response to some user action (with that action part of the name), but haven’t found a better prefix yet."
sorbits,2012-09-10 18:21:22,https://api.github.com/repos/textmate/textmate/git/commits/20c6a9640db09e8e195c6f500c60b9e15a3136d8,20c6a9640db09e8e195c6f500c60b9e15a3136d8,"Remove unused helper function

This was from before requiring Lion."
sorbits,2012-09-10 18:20:18,https://api.github.com/repos/textmate/textmate/git/commits/80a0efb563c373c06ef2376980570cc81692b2b4,80a0efb563c373c06ef2376980570cc81692b2b4,"Update themed UI colors from OakDocumentView

This is an ongoing effort to refactor and simplify OakTextView. The goal is to move decisions up the hierarchy and instead have properties on the objects lower in the hierarchy (making the components more flexible and allowing for better decision making at the higher level)."
sorbits,2012-09-10 18:08:32,https://api.github.com/repos/textmate/textmate/git/commits/d442a49e1ed664a6129f3f41d7c2752c2f1030e5,d442a49e1ed664a6129f3f41d7c2752c2f1030e5,"Add ibeamCursor property to OakTextView

We now require this to be set when changing theme, rather than have the IBeamCursor getter return a cursor appropriate for the current theme.

When switching themes we need to update several UI elements (scrollview background and knob style, gutter view, and possibly more in the future) so we might as well move the logic that picks the proper cursor color to this setup code."
sorbits,2012-09-10 18:00:37,https://api.github.com/repos/textmate/textmate/git/commits/5ce947541c1aa812d35e5fda2f9957aeab99f5c1,5ce947541c1aa812d35e5fda2f9957aeab99f5c1,Use new theme_t API
sorbits,2012-09-10 17:58:50,https://api.github.com/repos/textmate/textmate/git/commits/fe5d47272efb922cf4e29f09b2e61b233e9255f2,fe5d47272efb922cf4e29f09b2e61b233e9255f2,Only fill with “clear color” for transparent themes
sorbits,2012-09-10 17:58:01,https://api.github.com/repos/textmate/textmate/git/commits/b88ba4ff231d4f50fdf5ff6fb3ac38d44b313a6b,b88ba4ff231d4f50fdf5ff6fb3ac38d44b313a6b,Extend theme_t’s public API
sorbits,2012-09-10 12:25:59,https://api.github.com/repos/textmate/textmate/git/commits/d8264d2f29580d9cbbde9cb3f44c987c5b93869d,d8264d2f29580d9cbbde9cb3f44c987c5b93869d,Checkin release notes
sorbits,2012-09-10 12:20:36,https://api.github.com/repos/textmate/textmate/git/commits/12f305f82ac03f112ccbec00648d6daac7a53192,12f305f82ac03f112ccbec00648d6daac7a53192,Spelling dot was drawn flipped
sorbits,2012-09-10 12:11:00,https://api.github.com/repos/textmate/textmate/git/commits/87d780d9f6809b7992887a805cd1302e0919b9e3,87d780d9f6809b7992887a805cd1302e0919b9e3,"Fix image sizes on retina Macs

We were using the point size for the bitmap mask causing the images to be doubled in pixels."
sorbits,2012-09-10 11:58:01,https://api.github.com/repos/textmate/textmate/git/commits/111c1acd112e4f3fe724597f7ab19b6aa3fbb5bc,111c1acd112e4f3fe724597f7ab19b6aa3fbb5bc,Refactor: Remove code duplication
sorbits,2012-09-10 11:47:38,https://api.github.com/repos/textmate/textmate/git/commits/b475bdfdefd0a3a7d99c9c9db50b0826674edbd5,b475bdfdefd0a3a7d99c9c9db50b0826674edbd5,Refactoring
sorbits,2012-09-10 09:12:43,https://api.github.com/repos/textmate/textmate/git/commits/45b00164c4e99c9c2053dd91ddd9236a6a086cbd,45b00164c4e99c9c2053dd91ddd9236a6a086cbd,Move document::is_binary to where it is used
sorbits,2012-09-10 08:30:34,https://api.github.com/repos/textmate/textmate/git/commits/45f6677e34bd0a961ee4a733a1ae9d7b5df99d1e,45f6677e34bd0a961ee4a733a1ae9d7b5df99d1e,Checkin release notes
sorbits,2012-09-10 08:26:35,https://api.github.com/repos/textmate/textmate/git/commits/9dd1585abe0d51c0bc40d9dacdcaca89fa614e15,9dd1585abe0d51c0bc40d9dacdcaca89fa614e15,fixup! Redo spell checking after changing options
sorbits,2012-09-09 21:03:47,https://api.github.com/repos/textmate/textmate/git/commits/d93e5c75f6b472afe57142d0635b835c28dc7b0a,d93e5c75f6b472afe57142d0635b835c28dc7b0a,Checkin release notes
sorbits,2012-09-09 20:49:01,https://api.github.com/repos/textmate/textmate/git/commits/400be883b902bb5e6a109fd270a3cb853cd89881,400be883b902bb5e6a109fd270a3cb853cd89881,"URL-escape PAC string

Since the PAC URL is user supplied it’s unknown what state it actually is in, so we try to create a CFURL object from the raw string and if that fails, we URL-escape it (though not escaping slashes and colons).

Should fix issue #228."
sorbits,2012-09-09 20:29:32,https://api.github.com/repos/textmate/textmate/git/commits/8207f14e473874dbaafdea568d795b35152924a3,8207f14e473874dbaafdea568d795b35152924a3,Default host for rmate is now ‘auto’ (when using ssh)
sorbits,2012-09-09 19:29:58,https://api.github.com/repos/textmate/textmate/git/commits/7351aa0b15a877c5946b9114e8e4fd8c2d69d0a5,7351aa0b15a877c5946b9114e8e4fd8c2d69d0a5,Checkin release notes
sorbits,2012-09-09 19:08:56,https://api.github.com/repos/textmate/textmate/git/commits/05cf1232a53fec80826d047e25b4a843de833ed4,05cf1232a53fec80826d047e25b4a843de833ed4,Redo spell checking after changing options
sorbits,2012-09-09 18:22:32,https://api.github.com/repos/textmate/textmate/git/commits/6807f41d3bb25920045f35e70afe2b6f697bd4aa,6807f41d3bb25920045f35e70afe2b6f697bd4aa,Move spell checker methods to OTV
sorbits,2012-09-09 18:20:38,https://api.github.com/repos/textmate/textmate/git/commits/b25b397b5d0a2f2e8cf44d2f9bb9651f8c5d8011,b25b397b5d0a2f2e8cf44d2f9bb9651f8c5d8011,"Remove commented code

It’s unusable in its current state and it’s unclear what purpose the code would serve."
sorbits,2012-09-09 16:53:34,https://api.github.com/repos/textmate/textmate/git/commits/6156cf87d77e2cb804febe03f6b6ee09f0bab03f,6156cf87d77e2cb804febe03f6b6ee09f0bab03f,"Remove overwrite and freehanded toggles

Both from code and the menus. These were not implemented and I see no real reason to implement freehanded movement as a toggle since it is easily obtainable via column selections or option-clicking beyond EOL.

Overwrite mode might be implemented, but rather low priority."
sorbits,2012-09-09 14:54:01,https://api.github.com/repos/textmate/textmate/git/commits/aed4c1c27ff7f2133a2c465bc4a6daee733723f7,aed4c1c27ff7f2133a2c465bc4a6daee733723f7,"No longer show dialog for readlink() failure

Only one readlink() failure reported (issue #389) which wouldn’t explain the crashes which the dialog (introduced in 68ed8293) was trying to track down."
sorbits,2012-09-09 00:37:36,https://api.github.com/repos/textmate/textmate/git/commits/8e1851679e571a4efa5fe75bd3acc5f7c180a221,8e1851679e571a4efa5fe75bd3acc5f7c180a221,"Treat gutter images as image masks

The advantage is that we avoid creating an off-screen image for compositing. We want to avoid off-screen images as they may not use the same pixel format/density as the render context (screen)."
sorbits,2012-09-09 14:16:58,https://api.github.com/repos/textmate/textmate/git/commits/b2acb02a7fd0408b54c7234c4add755d0cd18096,b2acb02a7fd0408b54c7234c4add755d0cd18096,Use std::function with cf::callback_t
sorbits,2012-09-09 13:28:39,https://api.github.com/repos/textmate/textmate/git/commits/a3cedb5c5855e8327c6b373cd4f8d49d73776d5c,a3cedb5c5855e8327c6b373cd4f8d49d73776d5c,"Use std::function as callback type for setup_timer

There is a minor functional change in that the custom callback type uses event loop signaling that makes it safe to trigger the callback from a thread. This should however not be necessary for timers (which are all setup on the main thread)."
sorbits,2012-09-09 09:30:09,https://api.github.com/repos/textmate/textmate/git/commits/b149b4215ecc25b5fe435f93fad426254fb78e1b,b149b4215ecc25b5fe435f93fad426254fb78e1b,"Use image for drawing folding dots

The color of the image can be set by adding a theme style for the foreground and scoped to “deco.folding”."
sorbits,2012-09-09 09:24:14,https://api.github.com/repos/textmate/textmate/git/commits/21e29fd0113e1382740ff7184c634d834de81ebc,21e29fd0113e1382740ff7184c634d834de81ebc,"Add support for obtaining folding dots imagery

Also remove direct access to context_t’s member data (spelling dot image)."
sorbits,2012-09-09 09:15:38,https://api.github.com/repos/textmate/textmate/git/commits/92a058b0dd28385503f37498de3cd5fdef5fb3a2,92a058b0dd28385503f37498de3cd5fdef5fb3a2,"Add x- and cap height to metrics_t

This is to allow potential background bezels, images, and similar to be aligned with the text."
sorbits,2012-09-09 09:13:50,https://api.github.com/repos/textmate/textmate/git/commits/732f486187b0261c75c6f82264e110fba4593cd0,732f486187b0261c75c6f82264e110fba4593cd0,"Change folding dots to be in image mask format

An image mask cannot use alpha but should instead be greyscale."
sorbits,2012-09-09 00:27:08,https://api.github.com/repos/textmate/textmate/git/commits/9e11d0790f6c78e0e2cc906e42af5cc885961b3f,9e11d0790f6c78e0e2cc906e42af5cc885961b3f,Increase folding image scale factor to 1.5
sorbits,2012-09-09 00:25:18,https://api.github.com/repos/textmate/textmate/git/commits/84107bcb7f16d04222629bfb27b8c769776769aa,84107bcb7f16d04222629bfb27b8c769776769aa,"Remove ‘Template’ from image names

We don’t use them in a context where this property matters and we plan to convert them to image masks."
sorbits,2012-09-07 23:21:49,https://api.github.com/repos/textmate/textmate/git/commits/392c19507708e2b846c3a2e379d303d7b93430a9,392c19507708e2b846c3a2e379d303d7b93430a9,"fixup! Retina assets for the ""Bundle Editor"" window

The non-retina bundle icon lost its alpha mask."
sorbits,2012-09-07 23:02:47,https://api.github.com/repos/textmate/textmate/git/commits/7a67248dec710eb37cdcd0783cc9107da93c8875,7a67248dec710eb37cdcd0783cc9107da93c8875,"No longer necessary to set all gutter colors

Previously all the colors were calculated so setting e.g. the icon color made it sort of necessary to also set the iconHover and iconPressed color.

Now the default icon hover and pressed colors are a potential user supplied icon color. Likewise, the default icon color is a potential user supplied foreground color, etc."
sorbits,2012-09-07 23:00:41,https://api.github.com/repos/textmate/textmate/git/commits/c154751045268eb67b68319c40d22f19a16a14bd,c154751045268eb67b68319c40d22f19a16a14bd,Allow cf::color_t to be uninitialized
sorbits,2012-09-07 22:42:26,https://api.github.com/repos/textmate/textmate/git/commits/6477c32fda5896f9f49db7a1ffb9c529eb7299db,6477c32fda5896f9f49db7a1ffb9c529eb7299db,"Expose gutterSettings when editing themes

Also fix the grammar used for theme and macro editing (meta.plist → source.plist)."
sorbits,2012-09-07 20:18:26,https://api.github.com/repos/textmate/textmate/git/commits/aba449d171affcbbfc7b14c8d8ea4a5174592211,aba449d171affcbbfc7b14c8d8ea4a5174592211,"Move gutter styles to own settings dictionary

This removes all the blending, the need to provide a scope selector to obtain them, and no longer taxes the general syntax highlight (by no longer having to carry around a dozen gutter styles per scope)."
sorbits,2012-09-07 14:25:26,https://api.github.com/repos/textmate/textmate/git/commits/c3fbf92a389d943de52a41f5f0ff38ddcd38fd5d,c3fbf92a389d943de52a41f5f0ff38ddcd38fd5d,Checkin release notes
sorbits,2012-09-07 12:42:39,https://api.github.com/repos/textmate/textmate/git/commits/ffeb4ff991d720aaff926e1592209a6e691c720b,ffeb4ff991d720aaff926e1592209a6e691c720b,"Add simplistic parser for proxy item queries

This only support ‘||’ to allow chained queries, e.g.: ‘action.build || format.strong’."
sorbits,2012-09-07 11:41:34,https://api.github.com/repos/textmate/textmate/git/commits/fd2374e6c6636bee80aa0e8ab92078904d3d8691,fd2374e6c6636bee80aa0e8ab92078904d3d8691,Don’t use virtual path for retrieving settings
sorbits,2012-09-07 09:06:30,https://api.github.com/repos/textmate/textmate/git/commits/96ba7970436eef61af9ddb8adcdc31c2f00c0e82,96ba7970436eef61af9ddb8adcdc31c2f00c0e82,"Show proxy item in menu when nothing matched

This way we can have “Lookup Word” in the Source menu being a proxy for “lookup.documentation” and simply rendered as disabled when the current language have no such functionality."
sorbits,2012-09-07 08:31:39,https://api.github.com/repos/textmate/textmate/git/commits/2678358ff9bc3edebac496aebc9c35e975a17967,2678358ff9bc3edebac496aebc9c35e975a17967,"Encapsulate proxy expansion code

How a proxy items are expanded is not something user code should concern itself with."
sorbits,2012-09-06 22:47:36,https://api.github.com/repos/textmate/textmate/git/commits/e33c680269a105e3bf6e21bb12c29793812da51b,e33c680269a105e3bf6e21bb12c29793812da51b,"Fix potential out-of-range access

When we update the text view frame we implicitly cause the gutter to refresh, which will ask for line records from the text view based on the selection, so we should ensure the selection is up-to-date before changing frame size."
sorbits,2012-09-06 22:34:26,https://api.github.com/repos/textmate/textmate/git/commits/521b981f09c8a0d1d39d290c6a144c88a1be608f,521b981f09c8a0d1d39d290c6a144c88a1be608f,"fixup! Fix warning for literal strings used with NSAlert

Since we use another way to initialize the alert, the return codes are different."
sorbits,2012-09-06 21:06:09,https://api.github.com/repos/textmate/textmate/git/commits/bfc3804520d3c83e98d0f1d9777d1b1333ee1dfd,bfc3804520d3c83e98d0f1d9777d1b1333ee1dfd,"Show matched items for proxies in menu

This means e.g. Bundles → SCM will show the SCM actions available in the current context."
sorbits,2012-09-06 21:04:19,https://api.github.com/repos/textmate/textmate/git/commits/8cf6f94f13cbd6d86e7827014b3ab95f44d3128f,8cf6f94f13cbd6d86e7827014b3ab95f44d3128f,Refactor OakShowMenuForBundleItems
sorbits,2012-09-06 20:51:40,https://api.github.com/repos/textmate/textmate/git/commits/8f5ddc672f371acc4202d3bf3273f8239e561e0c,8f5ddc672f371acc4202d3bf3273f8239e561e0c,Move bundles pop-up menu to BundleMenu library
sorbits,2012-09-06 20:45:22,https://api.github.com/repos/textmate/textmate/git/commits/cf5e9f15301b810b84c8de7acf36d7a76cbb08d2,cf5e9f15301b810b84c8de7acf36d7a76cbb08d2,Leave autoenablesItems at its default value
sorbits,2012-09-06 20:41:24,https://api.github.com/repos/textmate/textmate/git/commits/f57d35362e45fbad9b9a95d1060a85368723c567,f57d35362e45fbad9b9a95d1060a85368723c567,"Rename method: scope → scopeContext

This is to avoid a clash as there is also another method called scope (WebKit / DOM)."
sorbits,2012-09-06 19:20:43,https://api.github.com/repos/textmate/textmate/git/commits/f9133694f828f09363dd0989f615aa7d581b7ebe,f9133694f828f09363dd0989f615aa7d581b7ebe,"For items without a key equivalent, use proxy’s"
sorbits,2012-09-06 18:54:10,https://api.github.com/repos/textmate/textmate/git/commits/73d586c2bae367697daa2820d452b718245d9634,73d586c2bae367697daa2820d452b718245d9634,"Use helper for bundle item’s key equivalent

This is to allow a bundle item to display another key than the one assigned to the item, e.g. when the bundle item is matched by a proxy item it should show that item’s key equivalent."
sorbits,2012-09-06 18:02:51,https://api.github.com/repos/textmate/textmate/git/commits/4772938deb39ef4a757c746e5302986efb27f230,4772938deb39ef4a757c746e5302986efb27f230,"Filter duplicate in bundle item chooser

Duplicates can exist when proxy items “expand” to items already in the list."
sorbits,2012-09-06 16:16:45,https://api.github.com/repos/textmate/textmate/git/commits/79254cbb6b5d03ed9f71b0414a3752252d5e76b5,79254cbb6b5d03ed9f71b0414a3752252d5e76b5,"Add find{Next,Previous}AndModifySelection: action methods

Presently no keys or menu items bound to these."
sorbits,2012-09-06 15:31:15,https://api.github.com/repos/textmate/textmate/git/commits/2ab6f4bfc8aed0cc498827e161fce0941ee1e215,2ab6f4bfc8aed0cc498827e161fce0941ee1e215,"Introduce an “extend selection” find option

This will find (forwards or backwards) but preserve the existing selection.

Presently if the current selection is a zero-width selection (i.e. caret) then we still preserve it. This might not be desired, but one could imagine “extend selection” used with a regular expression which use a look-around assertion (resulting in zero-width matches)."
sorbits,2012-09-06 16:04:32,https://api.github.com/repos/textmate/textmate/git/commits/2c572b5921fb9d5d0200b74b1939fe4bd629849d,2c572b5921fb9d5d0200b74b1939fe4bd629849d,"Add initializer list constructor to ng::ranges_t

This is primarily for using in tests."
sorbits,2012-09-06 15:23:48,https://api.github.com/repos/textmate/textmate/git/commits/bca2b4f8c88caac9f45b546e07b2bf9a134b0f4e,bca2b4f8c88caac9f45b546e07b2bf9a134b0f4e,"Don’t include existing text for “search highlights”

This is e.g. when one does Find All with one instance already selected, that one instance is left out of the found instances being highlighted."
sorbits,2012-09-06 15:16:33,https://api.github.com/repos/textmate/textmate/git/commits/41ab738d1946ef8f6891ec1432e6cd20ece44a84,41ab738d1946ef8f6891ec1432e6cd20ece44a84,"Change colorWithCGColor: → tmColorWithCGColor:

On Mountain Lion the OS provides a colorWithCGColor: which tmColorWithCGColor: now wraps for (when available).

This fixes a warning when building with the 10.8 SDK."
sorbits,2012-09-06 12:08:08,https://api.github.com/repos/textmate/textmate/git/commits/2076f80ca84bbcc1f4b852ee4bd1439ddf45ec1d,2076f80ca84bbcc1f4b852ee4bd1439ddf45ec1d,"Make selections created from string unanchored

The selection string syntax doesn’t support specifying an anchor and mainly it is used in situations where the selection should be unanchored."
elia,2012-09-04 23:42:58,https://api.github.com/repos/textmate/textmate/git/commits/6dde27d33c17a53f4bfed16a30c992647ddcaebb,6dde27d33c17a53f4bfed16a30c992647ddcaebb,Add revision numbers to release notes
sorbits,2012-09-05 13:28:57,https://api.github.com/repos/textmate/textmate/git/commits/7631add8e5104dcd64a7edfedbba4ded71e131ac,7631add8e5104dcd64a7edfedbba4ded71e131ac,Checkin release notes
sorbits,2012-09-05 13:23:11,https://api.github.com/repos/textmate/textmate/git/commits/884989900704d3fa013b811f09c6652861ce1242,884989900704d3fa013b811f09c6652861ce1242,"Fix crash for missing grammars

Incase our index is out-of-date and we try to load and parse a grammar that does not exist on disk, we would get a grammar_t with a “null” root rule, this would later crash when trying to use the grammar.

As a simple fix we now ensure a dummy rule always exist."
sorbits,2012-09-05 13:21:03,https://api.github.com/repos/textmate/textmate/git/commits/b3f5960546f9b45ba8b43b989275770f8e4e36a9,b3f5960546f9b45ba8b43b989275770f8e4e36a9,"Resolve path when Bundles folder is a link

This would cause a crash if the Bundles folder was a symbolic link (e.g. to DropBox) since we assumed the entry itself had entries (but only directory nodes have entries).

This closes issue #321."
sorbits,2012-09-04 21:36:47,https://api.github.com/repos/textmate/textmate/git/commits/4faeec47950dc1272cac75e7f130d592900c621d,4faeec47950dc1272cac75e7f130d592900c621d,Checkin release notes
sorbits,2012-09-04 21:16:55,https://api.github.com/repos/textmate/textmate/git/commits/2b555aef7b83972f4945063e21fead9f5a71be3c,2b555aef7b83972f4945063e21fead9f5a71be3c,"Move spelling dot to OakTextView

We now load the image via NSImage and creates a CGImageRef from that (based on the current graphics context). This ensures we get the @2px version when on a HiDPI display."
sorbits,2012-09-04 21:15:48,https://api.github.com/repos/textmate/textmate/git/commits/b6ed16251eb99b19631d16af866c97ffea2fe7e0,b6ed16251eb99b19631d16af866c97ffea2fe7e0,"Use wrapper for CGContextRef

This allows us to add a few other things like the “misspelled word” image."
sorbits,2012-09-04 18:34:54,https://api.github.com/repos/textmate/textmate/git/commits/81de007bd4442b4b8dd4519d4bf0ddfb8b58bc82,81de007bd4442b4b8dd4519d4bf0ddfb8b58bc82,Use new API for better bundle item display names
sorbits,2012-09-04 18:33:28,https://api.github.com/repos/textmate/textmate/git/commits/4b8f7389fb2b0da7bc150954cc0437df62cc0c78,4b8f7389fb2b0da7bc150954cc0437df62cc0c78,Make hasSelection a public property
sorbits,2012-09-04 18:30:30,https://api.github.com/repos/textmate/textmate/git/commits/1bc81ed7dcc49b9a448c2782495e2443b74a4300,1bc81ed7dcc49b9a448c2782495e2443b74a4300,"Introduce API for proper bundle item titles

When a bundle item’s title contains “«unit» / Selection” then the UI should only show either “«unit»” or “Selection” depending on whether or not the text view has selected text."
sorbits,2012-09-04 16:23:54,https://api.github.com/repos/textmate/textmate/git/commits/a026e4ad1180feb232cd948e5a7912c1e6ed401e,a026e4ad1180feb232cd948e5a7912c1e6ed401e,"Improve snippet choice menu

We filter out items that doesn’t have the current prefix and deselect current item if the user deletes the selection.

Some of this logic should probably be encapsulated by a filterPrefixString property added to OakChoiceMenu. This will also avoid the visual flash which arise when filtering the menu and selection changes (since we do one redraw w/o any items selected)."
sorbits,2012-09-04 16:17:43,https://api.github.com/repos/textmate/textmate/git/commits/141c0bd52539d91b8840f3a264122affb719c2e2,141c0bd52539d91b8840f3a264122affb719c2e2,"Don’t scroll selected item to top in choice menu

We now only ensure it is scrolled into the visible area."
sorbits,2012-09-04 16:16:39,https://api.github.com/repos/textmate/textmate/git/commits/b136fcbca4acebd6a90e6a5cad366d855b2c7512,b136fcbca4acebd6a90e6a5cad366d855b2c7512,"Proper implementation of setChoices:

This will now reload the table view and resize the pop-up (if necessary)."
sorbits,2012-09-04 16:16:04,https://api.github.com/repos/textmate/textmate/git/commits/949c074f9db0a79ba164f1080e8b16f3ec6088c8,949c074f9db0a79ba164f1080e8b16f3ec6088c8,Factor out choice menu sizing code
sorbits,2012-09-04 14:42:18,https://api.github.com/repos/textmate/textmate/git/commits/c61977ea57920821ddf71d2569e5137ebc615eed,c61977ea57920821ddf71d2569e5137ebc615eed,"Use outlet for bundles menu item

This way we don’t rely on the menu item title (which could be localized)."
sorbits,2012-09-04 14:28:41,https://api.github.com/repos/textmate/textmate/git/commits/456072c7985e8494b8705d5854641a8c889d77d8,456072c7985e8494b8705d5854641a8c889d77d8,Re-save with Xcode 4.4.1
sorbits,2012-09-04 14:06:19,https://api.github.com/repos/textmate/textmate/git/commits/049611064d9c455a42781b21a6dc3d5d176c1514,049611064d9c455a42781b21a6dc3d5d176c1514,"Handle bundle item keys in OakMainMenu

This is an attempt of simplifying the arcane key equivalent handling."
sorbits,2012-09-04 12:12:50,https://api.github.com/repos/textmate/textmate/git/commits/17720e4d574481ff6c906efe5df24f5ebdcb2e79,17720e4d574481ff6c906efe5df24f5ebdcb2e79,"Don’t dispose bundle menus after close

Since we overload performKeyEquivalent: for the main menu to not search the bundle menus, there should no longer be a need to try and prevent the system from interpreting key equivalents for bundle menu items."
sorbits,2012-09-04 11:18:59,https://api.github.com/repos/textmate/textmate/git/commits/18175e455aaf3b66d23231cbd1374268044e49f0,18175e455aaf3b66d23231cbd1374268044e49f0,"Position filter lists relative to parent window

I am not sure if this is desired for the Go to Symbol as some people prefer to keep this open at all time."
sorbits,2012-09-04 11:13:31,https://api.github.com/repos/textmate/textmate/git/commits/e3e238f712e55357db37adf655d111aea5dc6b9b,e3e238f712e55357db37adf655d111aea5dc6b9b,Filter lists: Allow showing relative to parent window
sorbits,2012-09-03 21:44:58,https://api.github.com/repos/textmate/textmate/git/commits/d5a262c1e518b5b9a13de041f62e437b8430ec10,d5a262c1e518b5b9a13de041f62e437b8430ec10,Checkin release notes
sorbits,2012-09-03 20:35:12,https://api.github.com/repos/textmate/textmate/git/commits/0fd7d2a41b2ff88153605890735bd17a8664777b,0fd7d2a41b2ff88153605890735bd17a8664777b,"Implement Wrap Column → Other…

This is done using an alert with an accessory view. Not the best user experience, but given how rarely the user interacts with this, I wasn’t really in the mood to spend a lot of time on this part now (can always be improved later).

Closes issue #200."
sorbits,2012-09-03 20:00:23,https://api.github.com/repos/textmate/textmate/git/commits/8b65acf3937e568a6dcf63a2f6ac060752ca7dc6,8b65acf3937e568a6dcf63a2f6ac060752ca7dc6,"Reverse menu search order

This is specifically to find the actions bound to modifier + [, {, }, and ] before finding the actions bound to modifier + numbers, since on some keyboards, modifier + number results in one of the brace characters.

This should address issue #374 (although this isn’t a fix per se for the underlying problem of having some key maps result in duplicate keys in the menus)."
sorbits,2012-09-03 19:52:15,https://api.github.com/repos/textmate/textmate/git/commits/aa2b194341ba30249e0c95de524601c825073682,aa2b194341ba30249e0c95de524601c825073682,"Better ordering of keys when editing bundle items

This closes issue #338."
sorbits,2012-09-03 19:51:31,https://api.github.com/repos/textmate/textmate/git/commits/f8db67153b595dfb5f3c1680a7ac81815cfdf7bc,f8db67153b595dfb5f3c1680a7ac81815cfdf7bc,Support custom sort order of plist keys
sorbits,2012-09-03 15:59:06,https://api.github.com/repos/textmate/textmate/git/commits/709882fa5314b8628a7e013d4d1ae0b13ab9fdeb,709882fa5314b8628a7e013d4d1ae0b13ab9fdeb,"Drag-selecting beyond visible document lacked refresh

This closes issue #297."
sorbits,2012-09-03 15:30:17,https://api.github.com/repos/textmate/textmate/git/commits/59b47e76f017911f982d3879f292e5ad2bcbdd47,59b47e76f017911f982d3879f292e5ad2bcbdd47,Fix parent for smart folders
sorbits,2012-09-03 15:14:38,https://api.github.com/repos/textmate/textmate/git/commits/8c55703dea65240f9744e9b8920a6fe6bf18e4cf,8c55703dea65240f9744e9b8920a6fe6bf18e4cf,"Show Package Contents work for packages with own data source

For example Xcode projects now have their target (URL) set to xcodeproject://path/to/project/file which would cause Show Package Contents to not work, as it expected a file URL."
sorbits,2012-09-03 14:29:31,https://api.github.com/repos/textmate/textmate/git/commits/9f5aa0b2a8da1fdc6470e28b22e46be96d31e12c,9f5aa0b2a8da1fdc6470e28b22e46be96d31e12c,"Allow folders and bundles to be opened with TextMate

This is mainly for TextMate’s own Open With menu, as it doesn’t seem to affect Finder’s (and TextMate already did support folders being dragged onto its application icon)."
sorbits,2012-09-03 10:06:41,https://api.github.com/repos/textmate/textmate/git/commits/460185724d95ab764cbcfa4304f7219e079eadd5,460185724d95ab764cbcfa4304f7219e079eadd5,"fixup! If path no longer have SCM info, include it in change set

The iterator checks were wrong."
sorbits,2012-09-03 09:31:45,https://api.github.com/repos/textmate/textmate/git/commits/2b3e0bd7dc565674134af66103adf63977c38ee8,2b3e0bd7dc565674134af66103adf63977c38ee8,"Fix excessive SCM status updates for clean repositories

The problem is that we used to treat an empty status map as meaning we hadn’t yet requested status for this repository, however, now that we no longer need status for all files, we would have an empty status map for clean (svn) repositories, leading to needlessly requesting status updates all the time (and on main thread)."
sorbits,2012-09-03 09:15:56,https://api.github.com/repos/textmate/textmate/git/commits/161d4b7fd218444428be11ea1fd2f8b8d20ec34d,161d4b7fd218444428be11ea1fd2f8b8d20ec34d,Don’t prune items from SCM drivers tracking directories
sorbits,2012-09-03 09:13:29,https://api.github.com/repos/textmate/textmate/git/commits/3a47ad6c03c314554df5d998e4409c3dd7a7f51a,3a47ad6c03c314554df5d998e4409c3dd7a7f51a,"SCM driver reports if system tracks directories

This can be used to make decisions about whether or not we should assign a virtual status to directories, prune them from a status display, or similar."
sorbits,2012-09-02 16:24:01,https://api.github.com/repos/textmate/textmate/git/commits/d85ba6cab66343a7a271ba185c5d51f0223b9564,d85ba6cab66343a7a271ba185c5d51f0223b9564,Checkin release notes
sorbits,2012-09-02 15:52:44,https://api.github.com/repos/textmate/textmate/git/commits/c332ae69e6074901a32ae7ac9cc5fbad363aab40,c332ae69e6074901a32ae7ac9cc5fbad363aab40,"Allow disabling SCM status from .tm_properties

This is done by adding the following (which can be limited to a folder):

    scmStatus = false"
sorbits,2012-09-02 15:33:07,https://api.github.com/repos/textmate/textmate/git/commits/92e31ec8d17e3bcf873aae90dfa6c57a73a836e3,92e31ec8d17e3bcf873aae90dfa6c57a73a836e3,"Exclude clean files from svn status

Subversion itself is roughly 30% faster if we do not ask for status of all files, the XML processing though is magnitudes faster, since it will only have to deal with a few records (in the general case) rather than a record per file (xsltproc seems to do around ~10,000 files per second on my Mac Pro, though I have no idea if it scales linearly)."
sorbits,2012-09-02 15:19:07,https://api.github.com/repos/textmate/textmate/git/commits/2d2dd623510bef7088346888f420a78fa60efac8,2d2dd623510bef7088346888f420a78fa60efac8,"Change scm::status::versioned → none

The scm::status::versioned status has now been removed.

The upshot of this is that SCM drivers can leave out files that are “clean” from their status map, and TextMate will assume they have status “none” (clean). This cuts down on the amount of data that needs to be sent (and/or processed) by the SCM drivers."
sorbits,2012-09-02 15:08:29,https://api.github.com/repos/textmate/textmate/git/commits/02b2ef3982db42577574aff0ae99d3c059f0bce4,02b2ef3982db42577574aff0ae99d3c059f0bce4,Change scm::status::note → unknown where applicable
sorbits,2012-09-02 14:51:44,https://api.github.com/repos/textmate/textmate/git/commits/f3429d8aadbcf18f48d2701e39414a56d516d240,f3429d8aadbcf18f48d2701e39414a56d516d240,"Remove code duplication

The SCM status enumeration is now only declared once.

I also introduced an ‘unknown’ status which should be used instead of ‘none’."
sorbits,2012-09-02 14:02:04,https://api.github.com/repos/textmate/textmate/git/commits/01e7f6df758e082f650578a480109cbc523d2960,01e7f6df758e082f650578a480109cbc523d2960,"Use xsltproc to parse svn (XML) status output

For a repository with 7,767 files it takes 3.5 seconds for Python to convert a full file listing from XML to the simpler line-based format. Using xsltproc the same takes 0.74 seconds.

According to issue #340 TextMate “freeze for up to about 5 - 10 minutes” when doing svn status. Not sure how much this change helps on that, no doubt it’s an improvement."
whitlockjc,2012-09-01 15:39:17,https://api.github.com/repos/textmate/textmate/git/commits/52d321b5108fd7601fd85b1efd7cabedb0baa571,52d321b5108fd7601fd85b1efd7cabedb0baa571,"Replaced contents of skeleton svn_status.xsl with real content.

* Note: Column delimiter is back to four spaces due to XML/XSL not allowing control characters"
sorbits,2012-08-29 12:18:08,https://api.github.com/repos/textmate/textmate/git/commits/df3da106e0489da644421756131de5960357064e,df3da106e0489da644421756131de5960357064e,"Add svn status xslt to scm target

This is presently not used, it’s skeleton code for @whitlockjc."
sorbits,2012-09-01 12:15:45,https://api.github.com/repos/textmate/textmate/git/commits/b2bb89c1507338b58de5e5ea4cde28105ef1f546,b2bb89c1507338b58de5e5ea4cde28105ef1f546,"Disable main menu’s key equivalent handling

This is done by overloading performKeyEquivalent: for the main menu (by setting it to OakMainMenu in MainMenu.xib).

The default implementation of performKeyEquivalent: does not know about scope selectors so it will sometimes call the wrong actions. For example a bundle overloading ⌘X for “-dyn.selection” may still see the item fire with a selection.

This wasn’t a problem previously, as we set the key equivalents via (deprecated) Carbon API (so presumably Cocoa didn’t know about the keys).

This is a preliminary implementation, I just want it out there to have it tested for edge-cases. Long-term we can probably remove the overload of performKeyEquivalent: on OakTextView, which sort of does similar (stops Cocoa from executing the wrong menu actions or interfering with multi-stroke key bindings)."
sorbits,2012-09-01 12:09:02,https://api.github.com/repos/textmate/textmate/git/commits/be6b36be08fb6171843dd4b134e40ae44deef990,be6b36be08fb6171843dd4b134e40ae44deef990,"If path no longer have SCM info, include it in change set

This allows the SCM drivers to not report status for non-modified versioned files.

The problem was previously that if a driver didn’t report status for such files, having a file go from modified → clean wouldn’t always cause a refresh, since no change notification was generated for the path.

For the svn driver there is a 50% overhead by svn itself in reporting status for files without status, this overhead is likely magnified by the following XML step (where XML for all files in the working copy needs to be parsed)."
sorbits,2012-08-31 22:22:30,https://api.github.com/repos/textmate/textmate/git/commits/ec7992424fd24b0b3b73361f6a4192d7aef501b3,ec7992424fd24b0b3b73361f6a4192d7aef501b3,Checkin release notes
sorbits,2012-08-31 20:28:13,https://api.github.com/repos/textmate/textmate/git/commits/49ae19c527210830d825e56dc08ee7e613800367,49ae19c527210830d825e56dc08ee7e613800367,"Keep (installed) auth server up-to-date

The recent move to 64 bit broke the (binary) protocol used between TextMate and the server for authenticated reads/writes (since size_t is now 64 bit).

This fixes issue #354."
sorbits,2012-08-31 19:52:14,https://api.github.com/repos/textmate/textmate/git/commits/022e29689b7f535a9f242590d3fba1798bcedd8a,022e29689b7f535a9f242590d3fba1798bcedd8a,Remove debug output
sorbits,2012-08-31 19:47:57,https://api.github.com/repos/textmate/textmate/git/commits/eb3e7dd8f29e3b59512babd68758abf774fe2b3b,eb3e7dd8f29e3b59512babd68758abf774fe2b3b,"Fix running mate via sudo

Since we now use the (numeric) user ID as part of TextMate’s named socket (to allow multiple users on the same system to each run an instance of TextMate), mate needs to know this.

Running ‘mate’ via ‘sudo’ has getuid() return zero (root), hence why we need to specifically handle this."
sorbits,2012-08-31 12:55:23,https://api.github.com/repos/textmate/textmate/git/commits/73ff758a520f6ea9fa93112fb2e5401ce7c0a85c,73ff758a520f6ea9fa93112fb2e5401ce7c0a85c,"Coerce keyFileCustomPath to UTF-8

The text encoding (or even field type) can be practically anything, so we need to either handle everything or coerce to UTF-8.

This is a quick fix for an issue with QuickCursor, a more thorough review of encoding used with AppleEvents is to follow."
sorbits,2012-08-30 22:04:08,https://api.github.com/repos/textmate/textmate/git/commits/74961834e0f67f2b1a8a42c7b8bc0d7ab06b3109,74961834e0f67f2b1a8a42c7b8bc0d7ab06b3109,"Make svn status parser more robust

I assume issue #340 is because of unexpected output from svn which would cause problems for the parser."
sorbits,2012-08-30 21:05:08,https://api.github.com/repos/textmate/textmate/git/commits/9940e4b32106033ea5d621bc7c41580006b1e666,9940e4b32106033ea5d621bc7c41580006b1e666,Remove unused boost headers
sorbits,2012-08-30 21:04:20,https://api.github.com/repos/textmate/textmate/git/commits/8a7710e93e0e86854c1f8cee56aedd52507f266a,8a7710e93e0e86854c1f8cee56aedd52507f266a,Use std::tuple instead of boost::tuple
sorbits,2012-08-30 16:59:27,https://api.github.com/repos/textmate/textmate/git/commits/593b6052f5a4af631944f6d84a116fa4c61ed58e,593b6052f5a4af631944f6d84a116fa4c61ed58e,fixup! Incorporated scalable icons.
sorbits,2012-08-30 16:49:37,https://api.github.com/repos/textmate/textmate/git/commits/6c6ba400ffb1809d77cacdf01bf30ecc208dd9cb,6c6ba400ffb1809d77cacdf01bf30ecc208dd9cb,"Revert ""Don’t refresh gutter from OakTextView""

Turns out this is required in the situation where the document occupy less space than the visible document rect.

In this case, inserting new lines will not resize the text view, since it has been artificially enlarged to fit the visible document rect, therefore the gutter view will not update properly when inserting new lines.

I think there is a better solution than have the text view refresh the gutter, reverting is just meant as a quick fix.

This reverts commit 4e2ae3c50879b44568b4d7a6371ae604290856e0."
sorbits,2012-08-30 13:44:50,https://api.github.com/repos/textmate/textmate/git/commits/4e2b5f91ca947b2b5c79aaef5ec44e65ec080345,4e2b5f91ca947b2b5c79aaef5ec44e65ec080345,"Process working directory not always setup

This is a fairly subtle bug: We were implicitly creating a temporary std::string object and requesting c_str from this object.

This C string’s lifetime was that of the temporary std::string, and as we did a lot of std::string creation in the following line, with the new libc++, there was a good chance that the temporary string buffer would be re-used and so, our working directory would be set to a bogus value.

This closes issue #329."
sorbits,2012-08-30 12:15:12,https://api.github.com/repos/textmate/textmate/git/commits/4aa5581cfd97a8d0d1f24b936f855b7c9282d246,4aa5581cfd97a8d0d1f24b936f855b7c9282d246,Checkin release notes
sorbits,2012-08-30 12:00:38,https://api.github.com/repos/textmate/textmate/git/commits/bea35eac35f4c654c90efb0bcaa11e43767dcf49,bea35eac35f4c654c90efb0bcaa11e43767dcf49,"Use regular font for key equivalent control

Previously we used the fixed width font, not really sure why."
sorbits,2012-08-30 11:31:35,https://api.github.com/repos/textmate/textmate/git/commits/dcdb7057a2d53aa9e37139fe7ef6959b08b8a332,dcdb7057a2d53aa9e37139fe7ef6959b08b8a332,"Update dialog submodule

Renamed the DialogPopupMenuTarget class to avoid a run-time warning logged in Console.

Users will sometimes quote stuff from Console in bug reports, so let’s cut down the noise."
sorbits,2012-08-30 08:12:18,https://api.github.com/repos/textmate/textmate/git/commits/2edbffcf290e0d4ee1aee783bb4dc813aaad6d61,2edbffcf290e0d4ee1aee783bb4dc813aaad6d61,"Update configure script

1. Default SDK set to 10.8 (since we now use subscript operators).
3. Version is tagged (by default) with “-git”. Not too happy about this, but I need a way to filter out “build from source” when analyzing crashes and similar. I’ll revise the solution later.
2. Revision only taken from api.textmate.org (no git fallback).
4. Only multimarkdown is a valid markdown compiler (due to recent changes in `bin/gen_html`)."
sorbits,2012-08-29 23:09:06,https://api.github.com/repos/textmate/textmate/git/commits/4e2ae3c50879b44568b4d7a6371ae604290856e0,4e2ae3c50879b44568b4d7a6371ae604290856e0,"Don’t refresh gutter from OakTextView

I suspect that this was added because some operations were not properly detected, though the only thing I can find, that doesn’t properly update the gutter, is when deleting folded code in a way that doesn’t change the bounds of the text view. This code however does not address that issue."
sorbits,2012-08-29 22:30:02,https://api.github.com/repos/textmate/textmate/git/commits/46786ec60d1bee92bc519dd100110ee0cf63917c,46786ec60d1bee92bc519dd100110ee0cf63917c,"Gutter: Don’t draw same row rectangle twice

Incase the last line of a file is folded (has no newline) then the gutter would first receive a row record for the line starting this fold, and then when querying for the next row, it would get the last line of the layout, this had a different line number but shared same coordinates as the previously rendered line, so the gutter would draw on top of that.

Closes issue #256."
sorbits,2012-08-29 21:43:20,https://api.github.com/repos/textmate/textmate/git/commits/4e9c5c46933e239c406e56cc0955ced81206346f,4e9c5c46933e239c406e56cc0955ced81206346f,OakDocumentView now manage gutter’s size
sorbits,2012-08-29 21:39:07,https://api.github.com/repos/textmate/textmate/git/commits/9af3c2ff1afc1591282d050dd0dae09e373df8c7,9af3c2ff1afc1591282d050dd0dae09e373df8c7,"Limit amount of refresh

In theory there should be no reason to redraw more than the divider line and the gutter, after changing gutter styles."
sorbits,2012-08-29 21:34:24,https://api.github.com/repos/textmate/textmate/git/commits/5a2869ea3cc7974b9eaf258dd2c3083f3a6b08e5,5a2869ea3cc7974b9eaf258dd2c3083f3a6b08e5,Remove pointless indirection
sorbits,2012-08-29 19:54:24,https://api.github.com/repos/textmate/textmate/git/commits/3d2a3b09d6c7f87ad56b415cf53eb231c67b0dbf,3d2a3b09d6c7f87ad56b415cf53eb231c67b0dbf,"Remove automatic resizing from gutter view

There is a somewhat frequent crash caused by infinite “did resize” notifications. It’s unclear exactly why this happens, but basically a subview shouldn’t resize itself unless asked, and it shouldn’t resize siblings either.

We now have an explicit sizeToFit which takes care of sizing the gutter view. It is the responsibility of the owner (of this gutter view) to resize the gutter’s parent scroll view and any siblings that may need adjustment (after calling sizeToFit).

Additionally it is the responsibility of the owner to call sizeToFit when there is a chance the gutter view size needs updating. Generally though, the owner should know, as it is the data source for everything."
sorbits,2012-08-29 19:44:23,https://api.github.com/repos/textmate/textmate/git/commits/ad8977d849f9198826e0e1c73e58ce40079ed491,ad8977d849f9198826e0e1c73e58ce40079ed491,"Change how we render gutter images

Previously we would lock focus on our source image. This is bad because we do rasterization (to a fixed pixel format / density) and it (potentially) destroys / mutates the source image.

We now use a second (new) image for the compositing. This is still not ideal, as this second image still is “off screen” so lack the proper graphics context during rendering. A better approach might be to create a CGImage using the graphics context and use that as an (image) mask and do a stroke, but this would require the images to be changed and I am not really certain it will work."
sorbits,2012-08-29 19:41:57,https://api.github.com/repos/textmate/textmate/git/commits/d58389e103b5308ad3b9db38844df8ab59ba7372,d58389e103b5308ad3b9db38844df8ab59ba7372,"Use NSDictionary instead of retained_image_t

The main reason for this is that we wish to resize the images when the font is changed. This can now be done in the gutterImage: method."
sorbits,2012-08-29 15:42:57,https://api.github.com/repos/textmate/textmate/git/commits/68ed829313b90cfe4fe79eb79095c8b031a951b1,68ed829313b90cfe4fe79eb79095c8b031a951b1,"Show alert if readlink fails

I am seeing crash reports from resolve_links and I can’t think of any other reason for this crash, than readlink() returning a value which is neither -1 nor in the range [0..len]."
sorbits,2012-08-29 13:59:09,https://api.github.com/repos/textmate/textmate/git/commits/0e96a04d76d7ab06028378471ece9a9960b56550,0e96a04d76d7ab06028378471ece9a9960b56550,"Remove compatibility checks

Since we now require 10.7 we don’t need all of this. Keeping it around is just noise that can lead to confusion about code paths."
sorbits,2012-08-29 13:43:55,https://api.github.com/repos/textmate/textmate/git/commits/f96de9319e26906055184ad0917d95d83085468e,f96de9319e26906055184ad0917d95d83085468e,"Fix/change path::with_tilde

We now leave a potential trailing slash in the result.

This fixes the issue of the missing slash in ⌘T — while I normally prefer the slash to be stripped, I think path::with_tilde should be an exception since effectively it is just replacing the path prefix, it shouldn’t do any real processing (although we do actually normalize the string).

Also fix a bug where we would use tilde for paths pointing to a user folder for a user with current user’s name as prefix."
whitlockjc,2012-08-28 23:02:13,https://api.github.com/repos/textmate/textmate/git/commits/260e3d8b9d1d0199ba3183d34e8065e0e6bd1220,260e3d8b9d1d0199ba3183d34e8065e0e6bd1220,"Fix missing svn status for long committer names

* Changed the Subversion status command to output XML
* Updated the status parsing to handle new XML output"
sorbits,2012-08-29 12:15:34,https://api.github.com/repos/textmate/textmate/git/commits/32a4f76244cc9d19fa08d17e0dbab651ca9682c3,32a4f76244cc9d19fa08d17e0dbab651ca9682c3,Use initializer list syntax
sorbits,2012-08-29 11:08:57,https://api.github.com/repos/textmate/textmate/git/commits/cbe91ff8312b768d6e7a8de4e2383e28c7f15049,cbe91ff8312b768d6e7a8de4e2383e28c7f15049,"Assume compiler support for explicit keyword

Since we require a fairly recent clang for other features, there is no reason to test for this one."
sorbits,2012-08-29 00:45:50,https://api.github.com/repos/textmate/textmate/git/commits/7cfc9c38fcbf0e72bbb7b05d6e1fa9d71f7d283e,7cfc9c38fcbf0e72bbb7b05d6e1fa9d71f7d283e,Link with -fobjc-link-runtime for arclite
sorbits,2012-08-29 00:44:41,https://api.github.com/repos/textmate/textmate/git/commits/a167fe338ca165737a9d35281d4f7c965b6422a2,a167fe338ca165737a9d35281d4f7c965b6422a2,Checkin release notes
sorbits,2012-08-28 21:11:30,https://api.github.com/repos/textmate/textmate/git/commits/aa49e26fb7820dd9975d454f77cca224c495ba5c,aa49e26fb7820dd9975d454f77cca224c495ba5c,"Find dialog’s Find All for untitled file caused crash

Closes issue #318."
nanoant,2012-08-28 20:03:57,https://api.github.com/repos/textmate/textmate/git/commits/c658687d088bb6e09875510cfdea93a314560dbb,c658687d088bb6e09875510cfdea93a314560dbb,"New `TM_SCM_NAME` variable

This can be used together with `TM_SCM_BRANCH` to customize `windowTitle`."
nanoant,2012-08-28 19:57:18,https://api.github.com/repos/textmate/textmate/git/commits/c28d2ec2fd92e695e01472d67446cd4bf405b8ce,c28d2ec2fd92e695e01472d67446cd4bf405b8ce,"Update window title when application is activated.

Variables customizing `windowTitle` such as `$TM_SCM_BRANCH` can change while TM is inactive, while user is working in command line or different app. So it is better to refresh `windowTitle` once we get back to TM."
jtbandes,2012-08-28 00:49:15,https://api.github.com/repos/textmate/textmate/git/commits/d31aefd20db609c22ef6681cd9ffac04d038ea15,d31aefd20db609c22ef6681cd9ffac04d038ea15,Use 64-bit: update submodules
jtbandes,2012-08-27 23:24:11,https://api.github.com/repos/textmate/textmate/git/commits/d4ce498f608b8e2d6fdc824d3fe922f32c60320c,d4ce498f608b8e2d6fdc824d3fe922f32c60320c,"Use 64-bit: numeric type fixes

Unfortunately a printf precision specifier (‘%.*s’) can not come with a width specifier so we have to cast to int. The width specifier ‘t’ is used for ptrdiff_t.
The int → NSInteger change fixed a bug with popup menu positioning, but there was no associated warning or error. It's possible there are more such bugs that we haven't found yet!"
jtbandes,2012-08-27 23:20:56,https://api.github.com/repos/textmate/textmate/git/commits/a79c9d03774efed4679c08089a104f219786b9ad,a79c9d03774efed4679c08089a104f219786b9ad,"Use 64-bit: miscellaneous fixes

- Property using superclass ivar
- Multiple methods matching selector"
jtbandes,2012-08-27 23:07:12,https://api.github.com/repos/textmate/textmate/git/commits/dfdde3283f9d1b576a2e3a60b5ab792f0377d684,dfdde3283f9d1b576a2e3a60b5ab792f0377d684,Use 64-bit: explicit visibility where required
jtbandes,2012-08-27 22:55:27,https://api.github.com/repos/textmate/textmate/git/commits/34d65bbb26b3e72d812c253f6eef95a9fe721e5b,34d65bbb26b3e72d812c253f6eef95a9fe721e5b,Use 64-bit: alignment pragma change
jtbandes,2012-08-27 19:12:32,https://api.github.com/repos/textmate/textmate/git/commits/5634ebbf2841a07e61eb0ca6f8905b2aafc592b9,5634ebbf2841a07e61eb0ca6f8905b2aafc592b9,Use 64-bit: CF byte order functions & 64b version
jtbandes,2012-08-27 19:11:47,https://api.github.com/repos/textmate/textmate/git/commits/db73ca4c92f9fec9bf8ef5ce9595e7bf12695c2e,db73ca4c92f9fec9bf8ef5ce9595e7bf12695c2e,"Use 64-bit: stop using Carbon

As we are no longer using Carbon functions to set menu key equivalents, this means that bundle menu items which have the same key equivalents as main menu items will unfortunately not display their key equivalents in the menu."
jtbandes,2012-08-27 17:09:06,https://api.github.com/repos/textmate/textmate/git/commits/9584afba169e5dcd38add9c847472430b5b93d91,9584afba169e5dcd38add9c847472430b5b93d91,Use 64-bit: replace SELNAME with sel_getName
jtbandes,2012-08-27 17:07:11,https://api.github.com/repos/textmate/textmate/git/commits/c976bce24d06e8e92c2729148da37e9653ac06cc,c976bce24d06e8e92c2729148da37e9653ac06cc,Use 64-bit: use std::thread to avoid void* cast
jtbandes,2012-08-27 16:50:57,https://api.github.com/repos/textmate/textmate/git/commits/dca4292990f0d91fed595e43f65964875918c9bf,dca4292990f0d91fed595e43f65964875918c9bf,Use 64-bit: compiler/linker settings
jtbandes,2012-08-27 08:10:20,https://api.github.com/repos/textmate/textmate/git/commits/502b9e59d1482b668a2eeffca72449fdbc9e92a5,502b9e59d1482b668a2eeffca72449fdbc9e92a5,Use colored diagnostics for compiler output
jtbandes,2012-08-27 08:04:51,https://api.github.com/repos/textmate/textmate/git/commits/b675c789097674f8d79a498dddc07f8dbcea4dbb,b675c789097674f8d79a498dddc07f8dbcea4dbb,Use libc++: avoid incomplete types where needed
jtbandes,2012-08-27 08:03:27,https://api.github.com/repos/textmate/textmate/git/commits/0fcb4c2d2c5aa7da37b0d69b4b47963de39c47dd,0fcb4c2d2c5aa7da37b0d69b4b47963de39c47dd,Use libc++: don’t rely on implicit conversions
jtbandes,2012-08-27 08:09:07,https://api.github.com/repos/textmate/textmate/git/commits/928faf95d3788481f664873196d2e200d507839f,928faf95d3788481f664873196d2e200d507839f,Use libc++: update submodules
jtbandes,2012-08-27 08:01:16,https://api.github.com/repos/textmate/textmate/git/commits/c5520a6919df2b097da637a33c3e08fe30445dae,c5520a6919df2b097da637a33c3e08fe30445dae,Use libc++: replace typeof with decltype
jtbandes,2012-08-27 07:59:49,https://api.github.com/repos/textmate/textmate/git/commits/fd419fd0b19027ae2f5614766f10e02600ed3a6e,fd419fd0b19027ae2f5614766f10e02600ed3a6e,Use libc++: replace __gnu_cxx with std
jtbandes,2012-08-27 07:57:54,https://api.github.com/repos/textmate/textmate/git/commits/e3aa997b06ece686c86cc53016b972b9fb171251,e3aa997b06ece686c86cc53016b972b9fb171251,Use libc++: replace std::tr1 with std
jtbandes,2012-08-27 07:48:50,https://api.github.com/repos/textmate/textmate/git/commits/c6b6d1a21d77496d021849dc995aed1fb42f01de,c6b6d1a21d77496d021849dc995aed1fb42f01de,Use libc++: compiler/linker settings
sorbits,2012-08-28 10:54:26,https://api.github.com/repos/textmate/textmate/git/commits/e4fcd7987f5889ebcbf4d28312940661f245dee3,e4fcd7987f5889ebcbf4d28312940661f245dee3,"Update release notes styling

Thanks to Khadgar (irc nick) for this!"
sorbits,2012-08-28 10:52:52,https://api.github.com/repos/textmate/textmate/git/commits/69493615586fac187474390059dd3fdc62abaaa3,69493615586fac187474390059dd3fdc62abaaa3,"Release notes no longer a floating window

Floating windows are not part of the normal window cycle chain (⌘`) so should be avoided. This was mainly done to ensure that the notes are on top at launch (where other windows may open, and the order of this is sort of undefined) — what we do now is use performSelector:withObject:afterDelay: — on a general note, using the afterDelay: methods is a big no-no!!! But as long as we only have one thing do it, and it’s for showing a window, it should be predictable enough.

This closes issue #265."
sorbits,2012-08-28 09:11:33,https://api.github.com/repos/textmate/textmate/git/commits/0cc79cf195441dfd83a28d46220d1cd6842db8ad,0cc79cf195441dfd83a28d46220d1cd6842db8ad,"Add missing NULL argument to varags function

Amazing this hasn’t caused any problems, but on 64 bit it was an instant crash."
sorbits,2012-08-27 20:07:51,https://api.github.com/repos/textmate/textmate/git/commits/5add8042c12f30e1645a3cb6dc93e8dc2b6c6702,5add8042c12f30e1645a3cb6dc93e8dc2b6c6702,"Create test repository with TM’s PATH/TM_SVN

This can still be fooled, as we do not read variables from TextMate’s user defaults, but I think this should solve majority of issues users are reporting."
sorbits,2012-08-27 18:18:46,https://api.github.com/repos/textmate/textmate/git/commits/09573d7e2a63fb8e849047c6ca1a03aa960a59ba,09573d7e2a63fb8e849047c6ca1a03aa960a59ba,Checkin release notes
sorbits,2012-08-27 18:11:43,https://api.github.com/repos/textmate/textmate/git/commits/a58f424a14026d812ee1ee84a386749c069eac02,a58f424a14026d812ee1ee84a386749c069eac02,"Fix issue with recording macros

The recordSelector: might receive a ‘nil’ argument. Previously this was handled gracefully by using ‘dictionaryWithObjectsAndKeys:’ but not so when using the new Objective-C literal array syntax. So reverting to the old syntax.

This closes issue #38."
sorbits,2012-08-27 17:09:12,https://api.github.com/repos/textmate/textmate/git/commits/dae55ddf9559a154b43eb5dc80a732876ec7128b,dae55ddf9559a154b43eb5dc80a732876ec7128b,"Fix crash from file chooser

When a project was outside user’s home folder with a symbolic link to somewhere below the user’s home folder, we would calculate a wrong prefix length when user searched using full path (i.e. entering ‘/’) as the display string had the link tilde-abbreviated though the match was against the full absolute path."
sorbits,2012-08-27 16:05:19,https://api.github.com/repos/textmate/textmate/git/commits/d956e8d7c039a451e27ca6ecb8bd945672dbfc29,d956e8d7c039a451e27ca6ecb8bd945672dbfc29,"Rewrote OakFileIconImage

There are mainly two reasons for this:

  1. Unexplained crashes (see issue #73).
  2. We were using lockFocus when getting the symbolic link arrow (from IconRef, as there seems to be no “modern” API to get this arrow) which caused a rasterization of the image.

The new implementation is much simpler, as all work happens in the image representation which does not have any (weak) pointer to its parent image."
sorbits,2012-08-27 14:11:01,https://api.github.com/repos/textmate/textmate/git/commits/4cf204d0a0f49eb7c9e783b642b76332e4fe9b14,4cf204d0a0f49eb7c9e783b642b76332e4fe9b14,"Handle tilde in mate’s install path

Older versions of TextMate stored the install path with the tilde so we always need to (potentially) expand that when fetching the install location.

The lack of doing this was likely the cause of issue #302."
sorbits,2012-08-26 22:13:47,https://api.github.com/repos/textmate/textmate/git/commits/dc807119a4e8c6b29637c2380db070a1e0a40462,dc807119a4e8c6b29637c2380db070a1e0a40462,Add preliminary CSS styles for key equivalents
sorbits,2012-08-26 22:12:53,https://api.github.com/repos/textmate/textmate/git/commits/2ef6253f25c6ca3a0285efb57aefbe5a1e65ac62,2ef6253f25c6ca3a0285efb57aefbe5a1e65ac62,Fix release notes to work with key equivalent script
sorbits,2012-08-26 21:14:49,https://api.github.com/repos/textmate/textmate/git/commits/7e186a828347b977d57f7ee879cfe5b15f4e974f,7e186a828347b977d57f7ee879cfe5b15f4e974f,Documentation: Wrap keys in a keyEquivalent class
sorbits,2012-08-26 21:14:20,https://api.github.com/repos/textmate/textmate/git/commits/15bfe9fc9c53ef68d7534336ee6edd426b432df5,15bfe9fc9c53ef68d7534336ee6edd426b432df5,Let build rules depend on their tool
jtbandes,2012-08-26 17:08:32,https://api.github.com/repos/textmate/textmate/git/commits/6aeb27f02f82487e6090b30d471977b6863093c6,6aeb27f02f82487e6090b30d471977b6863093c6,Use Cocoa instead of Carbon for popup menus
jtbandes,2012-08-26 00:27:30,https://api.github.com/repos/textmate/textmate/git/commits/64bb4b46cf42ef0bef709f872df3d356b8e55100,64bb4b46cf42ef0bef709f872df3d356b8e55100,Rename bundles::menu.cc to menu.mm
jtbandes,2012-08-25 21:09:03,https://api.github.com/repos/textmate/textmate/git/commits/9057d22e0639fe8bc93d2eaab1470d8813384b75,9057d22e0639fe8bc93d2eaab1470d8813384b75,"fixup! ⌘+click a file browser icon to show in Finder

Only attempt to show the item in Finder if it is a file"
jtbandes,2012-08-25 20:56:58,https://api.github.com/repos/textmate/textmate/git/commits/40db25c712be38de0f0066020e4a99a3607f9331,40db25c712be38de0f0066020e4a99a3607f9331,Title case tab context menu items
jtbandes,2012-08-25 16:23:30,https://api.github.com/repos/textmate/textmate/git/commits/1aec57762cfc6377e28c0bce122fa0e5f908f192,1aec57762cfc6377e28c0bce122fa0e5f908f192,Bring back the dock menu
sorbits,2012-08-26 18:36:47,https://api.github.com/repos/textmate/textmate/git/commits/1482c87f0c524caf71a9fe457759cd79c4d5939d,1482c87f0c524caf71a9fe457759cd79c4d5939d,Remove executable flag from PDF files
sorbits,2012-08-26 18:32:22,https://api.github.com/repos/textmate/textmate/git/commits/9c89911576dbec517efd28f79b79964c3a288ad7,9c89911576dbec517efd28f79b79964c3a288ad7,Checkin release notes
sorbits,2012-08-26 16:52:25,https://api.github.com/repos/textmate/textmate/git/commits/fc13d2021d6a312c7b09b37c34d047e0ff71ef49,fc13d2021d6a312c7b09b37c34d047e0ff71ef49,"Tweak gutter colors

Use the text foreground color for icons when the theme doesn’t provide a color and introduce ‘gutterSelectionIcons’ for the color of selected icons (defaults to selected foreground color).

Also changed the gutter selection border color to match the divider color (when it isn’t specified by the theme)."
czekaj,2012-08-26 07:21:49,https://api.github.com/repos/textmate/textmate/git/commits/19457ad2e842c8299c94d954851e0cafe145b691,19457ad2e842c8299c94d954851e0cafe145b691,"Fixed negative height bug in htmlOutputView

After dragging the HTML Output window down below the bottom of the main
window it cannot be dragged back and negative height of HTML Output is
saved to file."
sorbits,2012-08-26 15:33:26,https://api.github.com/repos/textmate/textmate/git/commits/c7678e9f677ba2fcd7645886ceba1e3178cc4fc6,c7678e9f677ba2fcd7645886ceba1e3178cc4fc6,"If file is not on disk, use tmProperties for encoding

This happens e.g. if we do ‘ls|mate’ — here we do have content which got a charset and newline mode assigned during “load”, but from the user’s POV he is saving a new file (if he saves the buffer) so should get his configured encoding."
sorbits,2012-08-26 15:06:38,https://api.github.com/repos/textmate/textmate/git/commits/6f45ee4a9cf23d902980a6f9d1d3cd430c81b68c,6f45ee4a9cf23d902980a6f9d1d3cd430c81b68c,Use encoding::type for open related API
sorbits,2012-08-26 14:13:20,https://api.github.com/repos/textmate/textmate/git/commits/d1de4a88543a48cd9db18bfc432cdd4471d3ac65,d1de4a88543a48cd9db18bfc432cdd4471d3ac65,"Use encoding::type for save related API

There is also a new document_t::encoding_for_save_as_path which returns the encoding that would be used for the document, if saved at the given path. If the document was loaded from disk, it will return the encoding used during load, otherwise it will check tmProperties for which encoding should be used for the path provided. Save dialog for untitled documents will be pre-populated with the result of the above function."
sorbits,2012-08-26 12:44:35,https://api.github.com/repos/textmate/textmate/git/commits/b0250f94b469ed05043adae938dc1a525962cf6f,b0250f94b469ed05043adae938dc1a525962cf6f,"Introduce encoding::type

This wraps charset, byte order mark, and newline character(s)."
sorbits,2012-08-26 12:04:26,https://api.github.com/repos/textmate/textmate/git/commits/b0c2b69a3d41f7766dddbcde2ee8ee2009d59be2,b0c2b69a3d41f7766dddbcde2ee8ee2009d59be2,"Don’t consult tmProperties in file::save

The main reason to avoid this is to give a more predictable API. Encoding should be read (from tmProperties) prior to calling file::save and then given as argument."
sorbits,2012-08-25 23:06:32,https://api.github.com/repos/textmate/textmate/git/commits/5e3d973c9b38ca5b26ed0b6991c14e3f0469111b,5e3d973c9b38ca5b26ed0b6991c14e3f0469111b,"Use global tmProperties for file bindings

This includes a minor improvement to handling of virtual paths (i.e. files opened via rmate).

It also slightly changes the logic related to finding file type. It now prefers an explicit user binding (only when there is a path) falling back on content match, then path match via grammar, then user binding for untitled files, and finally user binding for unrecognized files."
sorbits,2012-08-25 22:32:46,https://api.github.com/repos/textmate/textmate/git/commits/15ba1374caa04a75dec3c8a9f5686117047bc89c,15ba1374caa04a75dec3c8a9f5686117047bc89c,Add settings_t saving tests
sorbits,2012-08-25 22:11:42,https://api.github.com/repos/textmate/textmate/git/commits/92b3c9e2c59b51d025fd9637dddc24a370baaedd,92b3c9e2c59b51d025fd9637dddc24a370baaedd,"Remove hardcoded paths from settings_t

Mainly this is because when we run tests, we do not want global or default settings from TextMate, so now TextMate.app explicitly sets the path to the default and global settings (unlike when running tests)."
nanoant,2012-08-25 21:19:28,https://api.github.com/repos/textmate/textmate/git/commits/9f72b758270879943ceb6c3e80dbe14fa1e95566,9f72b758270879943ceb6c3e80dbe14fa1e95566,Use gutter divider color for selection rectangle
sorbits,2012-08-25 21:26:11,https://api.github.com/repos/textmate/textmate/git/commits/7ecc0a8731d77a21a498166ba9c1b5db94ac3812,7ecc0a8731d77a21a498166ba9c1b5db94ac3812,"Add new settings to project page

This includes the previously hidden initial file browser location, whether or not to permanently show the tab bar, placement of file browser and command output."
sorbits,2012-08-25 21:14:15,https://api.github.com/repos/textmate/textmate/git/commits/0ca407b72c3bf7347915db4476d8b5f1988855e5,0ca407b72c3bf7347915db4476d8b5f1988855e5,"Move user defaults keys to Keys.{mm,h}"
sorbits,2012-08-25 19:09:37,https://api.github.com/repos/textmate/textmate/git/commits/b55a0cefffba7f1f6bc966d28be5cca2c5436037,b55a0cefffba7f1f6bc966d28be5cca2c5436037,Fix typo
sorbits,2012-08-25 19:04:22,https://api.github.com/repos/textmate/textmate/git/commits/846357c52f2d67637bc46ca3d14844128e0e5622,846357c52f2d67637bc46ca3d14844128e0e5622,Code aesthetics
sorbits,2012-08-25 18:56:36,https://api.github.com/repos/textmate/textmate/git/commits/8e1aa09d17ed83072459cc98f441152a4bc21c72,8e1aa09d17ed83072459cc98f441152a4bc21c72,"Colors are now transparent against background

Previously if the color for X (where X is e.g. foreground or invisibles) had an alpha value other than 1.0 (fully opaque) it would be blended against the less specifically scoped color for X rather than the background.

There was no real logic behind the previous design other than to treat all color blending the same and it would cause a problem for 1.x themes using transparency for selection or invisible characters.

Closes issue #285."
sorbits,2012-08-25 18:07:13,https://api.github.com/repos/textmate/textmate/git/commits/d259c07bd50b861ae0341ac2afae680441a17076,d259c07bd50b861ae0341ac2afae680441a17076,Change default font size to 12
sorbits,2012-08-25 15:54:24,https://api.github.com/repos/textmate/textmate/git/commits/360f7a33bd34d732c032b61ec845e2aa5126a1d1,360f7a33bd34d732c032b61ec845e2aa5126a1d1,"Add context menu to tab bar

This can be used to close current, other, and tabs on the right. Additionally to create a new tab (to the right of the tab showing the menu) or open the tab in a new window.

Closes issue #191."
sorbits,2012-08-25 15:42:13,https://api.github.com/repos/textmate/textmate/git/commits/19f1909ff32954aec4eed15997bcae7cd4c13628,19f1909ff32954aec4eed15997bcae7cd4c13628,Add menuForTabBarView: to delegate protocol
sorbits,2012-08-25 15:41:09,https://api.github.com/repos/textmate/textmate/git/commits/81eda77ee2706213a72de19df793f7ac75b5c2a2,81eda77ee2706213a72de19df793f7ac75b5c2a2,"Add tagForLayerContainingPoint:

This is meant for subclasses which need to translate an NSPoint to a layer and cannot rely on the normal handling of this in the superclass."
sorbits,2012-08-25 14:10:27,https://api.github.com/repos/textmate/textmate/git/commits/1c9640f00bed524ed3dde9b1a7b47be53ae63914,1c9640f00bed524ed3dde9b1a7b47be53ae63914,"fixup! File Browser will now remember it's width

Since the framework doesn’t depend on itself, it cannot include its exported headers.

This closes issue #282."
sorbits,2012-08-25 14:04:02,https://api.github.com/repos/textmate/textmate/git/commits/7d93ed00283ed81454d03db86cc09450f5c959cc,7d93ed00283ed81454d03db86cc09450f5c959cc,"Move rightMouseDown: to subclass

The problem is that when we implement rightMouseDown: then we won’t receive menuForEvent:, but some OakControl subclasses (like OakTabBarView) may want to show a context menu."
sorbits,2012-08-25 13:15:00,https://api.github.com/repos/textmate/textmate/git/commits/8d13174001b3c2bf232ff487c2b2c8c924180e89,8d13174001b3c2bf232ff487c2b2c8c924180e89,"Gracefully handle ‘svn info’ failure

This command would e.g. fail if the repository format is of a newer date (in which case the code expecting a result would do “out of bounds” access).

Rather than split on newline, split third element on colon, and then take second element of that result, we now parse the output into a map and look for the ‘URL’ key."
sorbits,2012-08-25 12:51:41,https://api.github.com/repos/textmate/textmate/git/commits/895dd9a1bd5187642a2a27686be273da0eef68c4,895dd9a1bd5187642a2a27686be273da0eef68c4,"Use escape sequence for line endings

This is to make the tmProperties file more transparent (should the user wish to manually inspect it).

As the variable part in the settings is treated as a format string, we can use ‘\r’ and ‘\n’ for CR and LF respectively."
sorbits,2012-08-25 12:37:48,https://api.github.com/repos/textmate/textmate/git/commits/00ed4cab68d97ae9327d66ac2816122531ce50e3,00ed4cab68d97ae9327d66ac2816122531ce50e3,"Improve flexibility in settings API

If we only provide key and value, we set the setting globally.

If we provide an additional file type, we set it for that file type and parent file types (i.e. “text” is parent of “text.plain”) plus globally. An exception is when we give an “attr” scope as file type (then we do not cascade upward).

If we provide a path / glob, we set it for that path / glob and, as file type we can provide NULL_STR to limit it to just that path / glob, the empty string ("""") to also set it globally, or a file type (which is treated as above)."
sorbits,2012-08-25 12:08:39,https://api.github.com/repos/textmate/textmate/git/commits/629630c648407335995b124a4814ea8f758af26e,629630c648407335995b124a4814ea8f758af26e,Proper escaping in section headers (tmProperties)
sorbits,2012-08-25 12:07:56,https://api.github.com/repos/textmate/textmate/git/commits/cbbebd879adf3b57f111d6b3792b84b5b1cc5a60,cbbebd879adf3b57f111d6b3792b84b5b1cc5a60,"Also save spelling language in settings

Missed this one in a previous commit."
sorbits,2012-08-25 11:50:32,https://api.github.com/repos/textmate/textmate/git/commits/23576923fd803821dab14313d6ebc16bc333ab53,23576923fd803821dab14313d6ebc16bc333ab53,"fixup! Extend gutter theming to selection foreground

Previous solution didn’t handle soft wrapped lines.

This solution also scales better, as we no longer need to break up ranges and create an entry per selected line."
whitlockjc,2012-08-24 19:42:34,https://api.github.com/repos/textmate/textmate/git/commits/ed534778a7e32fd736e18a0aac093d3bde8447e6,ed534778a7e32fd736e18a0aac093d3bde8447e6,"New svn executable based Subversion scm driver

* Rewrote the Subversion SCM driver to use the svn executable
* Badges work just like Mercurial
* TM_SCM_BRANCH is set to the full repository URL for the working copy

See issue #273."
sorbits,2012-08-24 23:59:27,https://api.github.com/repos/textmate/textmate/git/commits/91993822a1a712a08d76eb9b1ebea4c81087e65d,91993822a1a712a08d76eb9b1ebea4c81087e65d,"Disable soft tabs for the project

Incase the user has it “globally” enabled."
sorbits,2012-08-24 22:49:51,https://api.github.com/repos/textmate/textmate/git/commits/c0de81d9436b482486f98de9a453234fe0b19e36,c0de81d9436b482486f98de9a453234fe0b19e36,"Label the build.ninja target

This is to prettify the build output (for the cases where build.ninja needs to be regenerated)."
sorbits,2012-08-25 00:03:14,https://api.github.com/repos/textmate/textmate/git/commits/9ad4bbd35f18cf65fc03a3bce237d95380c3091d,9ad4bbd35f18cf65fc03a3bce237d95380c3091d,"Hookup document type in Preferences window

All UI settings in TextMate should now work and be sticky.

Closes issue #162."
sorbits,2012-08-24 23:56:59,https://api.github.com/repos/textmate/textmate/git/commits/68ec6f0d6293331214a5fa68d74eb399b4356b39,68ec6f0d6293331214a5fa68d74eb399b4356b39,"Don’t do upward cascading when storing ‘attr’ settings

Used in tmProperties this is to target untitled files, files with unknown encoding, and similar, so unlike text or source scopes, we do not want to set the option broader than the exact scope."
sorbits,2012-08-24 22:44:58,https://api.github.com/repos/textmate/textmate/git/commits/9425bbeadf9534bebc346d53c513b4dbd2f531fd,9425bbeadf9534bebc346d53c513b4dbd2f531fd,"Hookup Preferences window to tmProperties

Presently the new file type is not setup to use tmProperties as the way this is specified (in tmProperties) needs special-casing. Will likely change that."
sorbits,2012-08-24 22:35:05,https://api.github.com/repos/textmate/textmate/git/commits/5140dc730cf62505d602b6c48ad9ca6ee5ed4aba,5140dc730cf62505d602b6c48ad9ca6ee5ed4aba,"Quote variables when writing Global.tmProperties

We also eliminate variables which have same value as in Default.tmProperties."
sorbits,2012-08-24 22:31:51,https://api.github.com/repos/textmate/textmate/git/commits/a134b213ebce37b7f4bbcb0cae8a445caea51bbc,a134b213ebce37b7f4bbcb0cae8a445caea51bbc,"Add settings_t::raw_get

This allows getting a variable from the global domain without any variable interpolation (for settings that use $variables or \escapes).

This is required to provide a UI for editing preferences values (here we want to edit the unexpanded value, and the version in the global domain)."
sorbits,2012-08-24 22:24:41,https://api.github.com/repos/textmate/textmate/git/commits/32be6b4800e10aa68ddbeebaa404f40d011a8627,32be6b4800e10aa68ddbeebaa404f40d011a8627,"Add kSettingsLineEndingsKey

Presently not used (by the loader/saver)."
sorbits,2012-08-24 19:42:20,https://api.github.com/repos/textmate/textmate/git/commits/13026c70ca0c947c41b8002e548bc22d64bd00d4,13026c70ca0c947c41b8002e548bc22d64bd00d4,"Add format_string::escape

This produces a string where all format string characters have been properly escaped."
sorbits,2012-08-24 14:40:19,https://api.github.com/repos/textmate/textmate/git/commits/fbfc42be3406681d52be762801e3b621927aca2f,fbfc42be3406681d52be762801e3b621927aca2f,"Remove unused settings keys

More will follow as we hookup the preferences window to TextMate’s property system."
sorbits,2012-08-24 14:38:50,https://api.github.com/repos/textmate/textmate/git/commits/b1e8efcd0178678616f787aaadf7703654fc7ce6,b1e8efcd0178678616f787aaadf7703654fc7ce6,"Preserve various OakTextView settings

All the settings are now taken exclusively from the property files, so no more user defaults. This means users will have to set their theme and font again."
sorbits,2012-08-24 13:49:22,https://api.github.com/repos/textmate/textmate/git/commits/b86cde21f3c28eb07d42bbea21568a9d08ca3086,b86cde21f3c28eb07d42bbea21568a9d08ca3086,"Set default font to Menlo and add theme setting

Despite Menlo having been the new system font for fixed width text in the past several OS versions, NSFont’s userFixedPitchFontOfSize: still return Monaco, unless we build with the 10.8 SDK (and no, setting the deployment target to 10.7 does not produce something that actually runs on 10.7, at least not last I checked).

The disadvantage with Monaco as default font is that we lack bold and italic styles (since CoreText doesn’t synthesize these, unlike the legacy text rendering API TextMate 1.x used)."
sorbits,2012-08-24 08:32:20,https://api.github.com/repos/textmate/textmate/git/commits/839aa5c1e3165c4539153b818266fe7f3b6dbaac,839aa5c1e3165c4539153b818266fe7f3b6dbaac,"Set default soft tabs settings for ninja and make

See issue #275."
sorbits,2012-08-23 20:36:22,https://api.github.com/repos/textmate/textmate/git/commits/0b3e361e549db460c6ad1b274dd8b63e73064b2a,0b3e361e549db460c6ad1b274dd8b63e73064b2a,"Add code to save Global.tmProperties

Instead of storing things in user defaults we will store them in ~/Library/Application Support/TextMate/Global.tmProperties.

This just makes things a lot easier than having to mix NSUserDefaults with our .tm_properties files, especially since changing a setting in the UI should sometimes be global, sometimes be for the current file’s type, and sometimes just for the current document (e.g. spelling language).

These features are already available with the .tm_properties."
sorbits,2012-08-23 18:28:54,https://api.github.com/repos/textmate/textmate/git/commits/3415d775c5bfc7b322edd182b1aded21b4c78fff,3415d775c5bfc7b322edd182b1aded21b4c78fff,"Use symbolic name for FD_CLOEXEC

Unsure why I was using ‘1’ — perhaps the symbolic name was missing in the older SDK."
sorbits,2012-08-23 18:25:17,https://api.github.com/repos/textmate/textmate/git/commits/f5c7301ba737fffdf93060a2e7c07f98ad07af00,f5c7301ba737fffdf93060a2e7c07f98ad07af00,"Use O_CLOEXEC when possible

This avoids having to do a fcntl(fd, F_SETFD, FD_CLOEXEC) to set the “close on exec” flag."
sorbits,2012-08-23 15:13:14,https://api.github.com/repos/textmate/textmate/git/commits/16b3fcecd7448170f5ac8359fe260f565e663221,16b3fcecd7448170f5ac8359fe260f565e663221,"Format string parser: fix infinite loop

This would happen if given an (incomplete) format string like: ‘${1:/’."
sorbits,2012-08-23 15:03:56,https://api.github.com/repos/textmate/textmate/git/commits/3c79f275f1a504aa3fedf6b4aca600fc7ed808f6,3c79f275f1a504aa3fedf6b4aca600fc7ed808f6,Use constants for settings keys
dhowden,2012-08-22 23:30:45,https://api.github.com/repos/textmate/textmate/git/commits/b8b25a46c862c8ae67b4ce4ad751ccaf61144103,b8b25a46c862c8ae67b4ce4ad751ccaf61144103,"Extend gutter theming to selection foreground

New theme setting: gutterSelectionForeground"
infininight,2012-08-23 05:12:06,https://api.github.com/repos/textmate/textmate/git/commits/925f9fb729da51b1a0d07920af5b438ccd9967ef,925f9fb729da51b1a0d07920af5b438ccd9967ef,"Add scope attributes for Ant, CMake, Maven and Scons projects."
sorbits,2012-08-22 22:57:07,https://api.github.com/repos/textmate/textmate/git/commits/8d4cf3cad0c1ccfa19787e9f0748617fd2216c09,8d4cf3cad0c1ccfa19787e9f0748617fd2216c09,Checkin release notes
sorbits,2012-08-22 22:44:24,https://api.github.com/repos/textmate/textmate/git/commits/aa06fa8b7bcac8675fc3571b1bfe5c8a56a22b1c,aa06fa8b7bcac8675fc3571b1bfe5c8a56a22b1c,"Add encoding options to Chinese localization

This isn’t localized."
sorbits,2012-08-22 19:35:55,https://api.github.com/repos/textmate/textmate/git/commits/031fe94fd055bdce2225943aa5c17828acd5eba0,031fe94fd055bdce2225943aa5c17828acd5eba0,"Fix missing underline for misspelled words

As we are using a CGImage for this, we miss out on the retina version, so this code should be revised."
sorbits,2012-08-22 16:24:41,https://api.github.com/repos/textmate/textmate/git/commits/12a1d86735f448e90fea5a5ba9c2f63be8fa0248,12a1d86735f448e90fea5a5ba9c2f63be8fa0248,"Add upload targets for executables

This is to make it easy to push test programs."
joachimm,2012-08-22 14:32:12,https://api.github.com/repos/textmate/textmate/git/commits/ab310cbdab371c58466c7a3ecbd260a34582d12b,ab310cbdab371c58466c7a3ecbd260a34582d12b,Use cf::color_t RGBA constructor when converting color_info_t
dhowden,2012-08-22 00:58:48,https://api.github.com/repos/textmate/textmate/git/commits/f2dd19f2a304bb98c5d4ff6ff6d971d950323c22,f2dd19f2a304bb98c5d4ff6ff6d971d950323c22,"Extend support for theming the gutter

New theme setting: gutterSelectionBackground"
jtbandes,2012-08-22 04:43:42,https://api.github.com/repos/textmate/textmate/git/commits/f24462a5232284f118cd2fb42cdda3bad4ccd5ae,f24462a5232284f118cd2fb42cdda3bad4ccd5ae,Use URL-based (modern?) NSWorkspace method
jtbandes,2012-08-22 04:40:13,https://api.github.com/repos/textmate/textmate/git/commits/caf77cc40c1598cf6ccf2ca1d0b9b3d053348780,caf77cc40c1598cf6ccf2ca1d0b9b3d053348780,⌘+click a file browser icon to show in Finder
jtbandes,2012-08-22 04:07:42,https://api.github.com/repos/textmate/textmate/git/commits/a611fc213d22e9349aedd854a82d38e1bea7e5b2,a611fc213d22e9349aedd854a82d38e1bea7e5b2,Prevent horizontal scrolling of search results
jtbandes,2012-08-22 03:49:48,https://api.github.com/repos/textmate/textmate/git/commits/b24f2294fb52e0a9709e3f6098802d47de93e766,b24f2294fb52e0a9709e3f6098802d47de93e766,"Clean up find results view positioning

The left and right borders are no longer visible, so the results are flush with the edges of the find window."
sorbits,2012-08-22 12:28:52,https://api.github.com/repos/textmate/textmate/git/commits/7b4bf9c8930252d0bc1ad6ec47965005cd57a5a3,7b4bf9c8930252d0bc1ad6ec47965005cd57a5a3,"fixup! Move border drawing to OakDocumentView

Drawing the border did not account for auxiliary views (presently used by incremental search). See issue #240.

It also did not properly layout the views when adding/removing such views, causing the border to disappear after having used incremental search."
sorbits,2012-08-21 22:26:59,https://api.github.com/repos/textmate/textmate/git/commits/d629f6cbe3a5ecd6a80057e178cc55692e30c16b,d629f6cbe3a5ecd6a80057e178cc55692e30c16b,Checkin release notes
sorbits,2012-08-21 21:45:15,https://api.github.com/repos/textmate/textmate/git/commits/4e9d9414f15650d88cdb75886b09604aaca583de,4e9d9414f15650d88cdb75886b09604aaca583de,"Add encoding options to save dialogs

A minor caveat is that if there are encoding or newline (folder specific) settings in effect for the chosen path, these trump what’s selected in the save dialog.

If we wish to solve this, the best would be to update the options (shown in the save panel) based on selected folder/filename (and the settings in effect for that).

This closes issue #163."
sorbits,2012-08-21 21:36:37,https://api.github.com/repos/textmate/textmate/git/commits/6fa92db26529c1c06ae1f0e201213b99bb1174c2,6fa92db26529c1c06ae1f0e201213b99bb1174c2,fixup! Prune redundant items from SCM data source
sorbits,2012-08-21 21:05:58,https://api.github.com/repos/textmate/textmate/git/commits/566d9b27dc14f03bfb5a5318e0b1004ddc338eb7,566d9b27dc14f03bfb5a5318e0b1004ddc338eb7,Expose encoding variables for document_t
sorbits,2012-08-21 19:54:18,https://api.github.com/repos/textmate/textmate/git/commits/d38308f6c854ef8dec0aa0f246c8581348f690d9,d38308f6c854ef8dec0aa0f246c8581348f690d9,"Move ‘mate’ socket (back) to /tmp

We moved it to TMPDIR so that multiple instances of TextMate could run (for different users) but have since gotten a lot of reports about problems with this location. The short version is that ‘ls’ shows the socket exists (in TMPDIR), but stat’ing it or similar will fail.

To still allow different users to use mate side-by-side we add the user ID to the socket name.

Hopefully this closes issue #183."
sorbits,2012-08-21 19:32:40,https://api.github.com/repos/textmate/textmate/git/commits/0d4185bfeb020ac20c5bd0a2a59bacba736160c4,0d4185bfeb020ac20c5bd0a2a59bacba736160c4,"Don’t remove existing mate on install

The reason for this is that we might be able to overwrite mate even if we do not have write access to the parent directory. This will avoid us having to prompt the user for an admin password (when updating mate).

It should be mentioned though that incase mate is not a regular file, we do need to remove it first, because if e.g. it is a symbolic link, our install would write to where the link points to."
sorbits,2012-08-21 19:23:41,https://api.github.com/repos/textmate/textmate/git/commits/53bcc664b38e8679c4a87369d1dfcc45d6fdcd9f,53bcc664b38e8679c4a87369d1dfcc45d6fdcd9f,Update installed mate if required
sorbits,2012-08-21 18:24:06,https://api.github.com/repos/textmate/textmate/git/commits/69196f58f3db0a90f1ce0fd017fa80f697349549,69196f58f3db0a90f1ce0fd017fa80f697349549,Add missing dependencies to debug targets
sorbits,2012-08-21 18:11:21,https://api.github.com/repos/textmate/textmate/git/commits/fcaa957d4b4b2b2221cc3526fab5eb8a3a9862da,fcaa957d4b4b2b2221cc3526fab5eb8a3a9862da,"fixup! Add support for theming the gutter

Theme was no longer initialized by OakTextView, instead we relied on OakDocumentView to provide us with a theme, but if the user had no themes installed, it would never do so, leading to a crash when OTV uses a theme member function to obtain colors.

This closes issue #222."
sorbits,2012-08-21 17:36:01,https://api.github.com/repos/textmate/textmate/git/commits/80bf6845100c661ba936368e2e90d7180d54dd96,80bf6845100c661ba936368e2e90d7180d54dd96,"Don’t disallow snippet expansion in last placeholder

This was (temporarily) disallowed by previous commit. We do however need to allow it in the last placeholder since that is used for chaining snippets. See issue #182."
sorbits,2012-08-21 16:42:37,https://api.github.com/repos/textmate/textmate/git/commits/40822e87e66d63bd3405b6213b8d043ccbc77768,40822e87e66d63bd3405b6213b8d043ccbc77768,"Limit recursive snippet expansion

If caret is at the first position of a place holder then we no longer look for tab expansions, should the user press tab.

This address the issue where a placeholder has optional content and the word to the left of this optional content is a tab trigger. Previously deleting the placeholder text and pressing tab would insert a new snippet, which would generally not be expected.

This closes issue #226."
sorbits,2012-08-21 15:57:14,https://api.github.com/repos/textmate/textmate/git/commits/621c821689b3b9a36865bfa5dc4956bcc21fdb25,621c821689b3b9a36865bfa5dc4956bcc21fdb25,"Don’t register existing value transformers

It can happen that we register the same value transformer twice, e.g. if we register it in an initialize method (since these are not guaranteed to only be called once).

This isn’t a problem per se, but there is no reason to create the new instance."
sorbits,2012-08-21 16:21:02,https://api.github.com/repos/textmate/textmate/git/commits/a09b58422f4473e4d24f86063bc3425ba1b2582e,a09b58422f4473e4d24f86063bc3425ba1b2582e,"Fix releasing of array

Previously we used ‘dealloc’ to release the array, which is wrong.

Since instances of OakStringListTransformer is normally never released this bug wasn’t affecting anything. But since we have a dealloc, it should be correct."
sorbits,2012-08-20 20:57:52,https://api.github.com/repos/textmate/textmate/git/commits/998eec410d82533bc9f10f99036f10f641fe4fb7,998eec410d82533bc9f10f99036f10f641fe4fb7,"View → Toggle Foldings now work for find results

This will expand/collapse the find results.

The benefit here is just having a key to quickly collapse all the results so that we get a list of files (with matches)."
sorbits,2012-08-20 20:50:32,https://api.github.com/repos/textmate/textmate/git/commits/d8328e2c4f3947235804e0ca4b3b5d8fc2b8bf04,d8328e2c4f3947235804e0ca4b3b5d8fc2b8bf04,Drop use of OakSavePanel in Terminal preferences
sorbits,2012-08-20 20:34:38,https://api.github.com/repos/textmate/textmate/git/commits/4606e4bca57b2533dc2da6ed5b13ec026b7ade80,4606e4bca57b2533dc2da6ed5b13ec026b7ade80,"Simplify creating an OakEncodingPopUpButton

We now do the (sort of required) sizeToFit in the initializer. Users can still bypass this by using initWithFrame:pullsDown: instead of init:."
sorbits,2012-08-20 19:58:27,https://api.github.com/repos/textmate/textmate/git/commits/c3bb5857ed6f265ac35b4a71f7e93ab5828b713d,c3bb5857ed6f265ac35b4a71f7e93ab5828b713d,"Search at most 5 MB in regular expression mode

This is to avoid running out of memory, ideally we would search in chunks, but given that Oniguruma has no direct support for this, such fix is more involved, and it’s likely rare people want to perform regular expression searches on files larger than 5 MB, so I feel this is sufficient to close issue #38."
sorbits,2012-08-20 19:07:43,https://api.github.com/repos/textmate/textmate/git/commits/81c8d403b5f7a2035a72769d68c444c34a3aef1a,81c8d403b5f7a2035a72769d68c444c34a3aef1a,Update rmate: Preserve file permission flags
jtbandes,2012-08-20 01:43:32,https://api.github.com/repos/textmate/textmate/git/commits/8eb3dd0379833f8c49a5fc215ed2c6d88a2801ec,8eb3dd0379833f8c49a5fc215ed2c6d88a2801ec,Calculate default gutter colors based on theme
jtbandes,2012-08-19 22:45:51,https://api.github.com/repos/textmate/textmate/git/commits/66650f8190a2d6de8943747c238cd4978fbb1ecc,66650f8190a2d6de8943747c238cd4978fbb1ecc,Store component values in cf::color_t
jtbandes,2012-08-19 07:14:50,https://api.github.com/repos/textmate/textmate/git/commits/1c83eaa389600014b2906a10e3eecb65bbe17e3a,1c83eaa389600014b2906a10e3eecb65bbe17e3a,"Add support for theming the gutter

Theme setting keys gutterForeground, gutterBackground, and gutterDivider"
jtbandes,2012-08-19 01:17:18,https://api.github.com/repos/textmate/textmate/git/commits/dc810607b27aa2bb75c94e97d61ff488753e74bb,dc810607b27aa2bb75c94e97d61ff488753e74bb,Refactor theme selection to pass through OakDocumentView
jtbandes,2012-08-19 00:47:05,https://api.github.com/repos/textmate/textmate/git/commits/c0f65b6101aa558e67314107fa4e7d4cbf1e4d31,c0f65b6101aa558e67314107fa4e7d4cbf1e4d31,Convert multipage tiffs back to 1x/2x pngs
sorbits,2012-08-20 13:42:53,https://api.github.com/repos/textmate/textmate/git/commits/74085dd53c5383c0d9bcb653e22c3edce3ea92db,74085dd53c5383c0d9bcb653e22c3edce3ea92db,"Don’t mark empty snippet placeholders ‘unanchored’

Ranges can be unanchored which is when they are made (mainly) by a unit selection, for example “select to enclosing braces”. What it means is that if we later use shift + movement actions (to “move” the selection end point) we will always extend it (as we don’t know which of the two end points should be considered the anchor).

Though the unanchored flag has a double role, for snippet placeholders we also set it, when we select the placeholder field, and when user press tab, we ignore tab expansions if there is an unanchored selection. So this disables recursive snippet expansion if the user immediately press tab when reaching a snippet placeholder.

Turns out that when we reach the last field of a snippet, some users want a new snippet expansion.

This fix is not ideal, but by far the easiest, and it achieves the goal.

This closes issue #182."
sorbits,2012-08-20 13:19:10,https://api.github.com/repos/textmate/textmate/git/commits/98c6b16c2e24da69da64bd3973a2d1b33ae77443,98c6b16c2e24da69da64bd3973a2d1b33ae77443,Show current framework in window title
sorbits,2012-08-19 21:54:11,https://api.github.com/repos/textmate/textmate/git/commits/d737efd7e1440c09a76a4a79cb56963115c57789,d737efd7e1440c09a76a4a79cb56963115c57789,"Generalize bin/upload

It now takes key path and destination (github repostiory) as arguments. The generated build.ninja assumes the user local build.ninja sets these variables."
sorbits,2012-08-20 10:32:44,https://api.github.com/repos/textmate/textmate/git/commits/95a9ab85614d8fd894de36aea158761bd4e4d12f,95a9ab85614d8fd894de36aea158761bd4e4d12f,"Improve error reporting in gen_build

This is for the case where the user is missing targets (e.g. did not checkout submodules)."
sorbits,2012-08-19 21:08:14,https://api.github.com/repos/textmate/textmate/git/commits/a463e8f6217bf01d3364540a7c1f91fbbc53743a,a463e8f6217bf01d3364540a7c1f91fbbc53743a,"Let build.ninja include $USER.ninja (if it exists)

User specific settings and rules can go into this file."
sorbits,2012-08-19 22:07:53,https://api.github.com/repos/textmate/textmate/git/commits/134bea2b6c2baef7ce7775f7f1891bd5d229fc22,134bea2b6c2baef7ce7775f7f1891bd5d229fc22,Checkin release notes
sorbits,2012-08-19 18:33:54,https://api.github.com/repos/textmate/textmate/git/commits/714bb129240531a17a489f081b790eb8823e9ef5,714bb129240531a17a489f081b790eb8823e9ef5,Checkin release notes
sorbits,2012-08-19 19:01:36,https://api.github.com/repos/textmate/textmate/git/commits/783514fcff414ff15730e862e4c7df1e3640598c,783514fcff414ff15730e862e4c7df1e3640598c,"Strip the numeric keypad flag for key events

This means pressing e.g. ⌘/ (using the slash on the numeric keypad) will still work to toggle comments.

It also means that we can no longer bind specifically to the numeric keypad keys, but I don’t think anyone actually does that (given that few have numeric keypads).

The ideal solution would be to first do a literal check and then, if there was no match and the key event had the numeric keypad flag set, do a test with this flag removed, but that would change the simple string compare we presently use plus the easy caching and binary search of finding the item that matches a key event, i.e. it would add complexity to the code with no known argument in favor of this flexibility."
sorbits,2012-08-19 13:53:43,https://api.github.com/repos/textmate/textmate/git/commits/4ca897816da4c7a8b58eb83492867e7aa8765af3,4ca897816da4c7a8b58eb83492867e7aa8765af3,"Remove TS_WARN since we do have tests

Sort of a fixup! to 2c6a847 (which added child selectors)."
sorbits,2012-08-19 13:01:22,https://api.github.com/repos/textmate/textmate/git/commits/416b718747c16ad185a8ed3b8d558c63d0991247,416b718747c16ad185a8ed3b8d558c63d0991247,"Tweak default variables in Preferences

These are (now) all disabled, so it’s mainly just for guidance."
sorbits,2012-08-19 12:44:57,https://api.github.com/repos/textmate/textmate/git/commits/9366a1ec508bb2f45604d5212c0709f88caeca2e,9366a1ec508bb2f45604d5212c0709f88caeca2e,"Cache image resources

This was also done prior to commit 806cb44. I just assumed that now that we are back using the system’s named image stuff, we would benefit from their cache, but clearly we are not (especially file browser seemed sluggish because of (re)loading the file type images)."
sorbits,2012-08-19 12:36:22,https://api.github.com/repos/textmate/textmate/git/commits/8e28856cb7eb42f95bf1f3c27827f3fd3dd90b76,8e28856cb7eb42f95bf1f3c27827f3fd3dd90b76,Select paragraph now bound to ⌃⌥P
sorbits,2012-08-18 23:31:47,https://api.github.com/repos/textmate/textmate/git/commits/6677a9ce0a0a98b1d6b3dc701259a98b917ef351,6677a9ce0a0a98b1d6b3dc701259a98b917ef351,Remove unused NSImage category method
sorbits,2012-08-18 23:31:02,https://api.github.com/repos/textmate/textmate/git/commits/806cb44b4ba9863b4f32caeb0e95b6b7301053db,806cb44b4ba9863b4f32caeb0e95b6b7301053db,"Support loading @2x image assets

Untested, but we now use imageForResource: (10.7) instead of constructing an absolute file path, so the system should take care of finding @2x assets."
sorbits,2012-08-18 21:47:48,https://api.github.com/repos/textmate/textmate/git/commits/4c66bfd213ed5f5f8beb75870e1e30ca7b5dbc20,4c66bfd213ed5f5f8beb75870e1e30ca7b5dbc20,"Fix copy to find/replace clipboard with non-standard selections

Previously it would place either the column or discontinuous selection on the find/replace clipboard, which wasn’t useful.

Now it only places the “first” range (of a discontinuous) selection on the clipboard, or first row of a column selection."
sorbits,2012-08-18 21:18:15,https://api.github.com/repos/textmate/textmate/git/commits/a84f597b820240809680ac3720e7f7adc24d1f25,a84f597b820240809680ac3720e7f7adc24d1f25,"Use wrap column from layout

This closes issue #158."
sorbits,2012-08-18 21:16:20,https://api.github.com/repos/textmate/textmate/git/commits/81af193412d526217044cc1ba9a9e395a03ae5c2,81af193412d526217044cc1ba9a9e395a03ae5c2,Expose (effective) wrap column from layout_t
jtbandes,2012-08-18 21:46:37,https://api.github.com/repos/textmate/textmate/git/commits/d15a0eddb32fc29ebd78ece06ef14b5e6f3ebfeb,d15a0eddb32fc29ebd78ece06ef14b5e6f3ebfeb,Include high resolution I-Beam cursor
sorbits,2012-08-18 20:39:01,https://api.github.com/repos/textmate/textmate/git/commits/699969695c8c3c8b43218425905e637ee4273b2c,699969695c8c3c8b43218425905e637ee4273b2c,Restructure code
sorbits,2012-08-18 20:27:06,https://api.github.com/repos/textmate/textmate/git/commits/9d99e1c617b620c9599b53f699c97bd8f392edd3,9d99e1c617b620c9599b53f699c97bd8f392edd3,fixup! Represent font size using a CGFloat
sorbits,2012-08-18 20:07:48,https://api.github.com/repos/textmate/textmate/git/commits/12d700a8a9c9437ff0ed2c35d0779168ad2aaf8e,12d700a8a9c9437ff0ed2c35d0779168ad2aaf8e,"fixup! Fix trailing whitespace in text reformat

We still got the extra (double) newline after the paragraph."
sorbits,2012-08-18 19:52:08,https://api.github.com/repos/textmate/textmate/git/commits/1477288795fd9d0cf5f7afcad162ed2118cd1567,1477288795fd9d0cf5f7afcad162ed2118cd1567,"Redefine definition of paragraph

When we need to work on a paragraph (reflow, unwrap, select, etc.) we now extend upward until we see a blank line, and likewise move downward until there is a blank line.

This is related to issue #154."
sorbits,2012-08-18 19:20:04,https://api.github.com/repos/textmate/textmate/git/commits/be63bda3e7dd3abd0d293d5c907e296f2dcd1877,be63bda3e7dd3abd0d293d5c907e296f2dcd1877,"Support East Asian Width

There is a bunch of functions that deal with the logical column count and these now all count code points with the “east asian width” (unicode) property set as two columns.

This closes issue #206."
sorbits,2012-08-18 19:00:15,https://api.github.com/repos/textmate/textmate/git/commits/45f847d01ec774ec4a621f553116b9a6b5dff865,45f847d01ec774ec4a621f553116b9a6b5dff865,"Add text::is_east_asian_width

This checks if the character needs to be counted as double-width (for soft wrap and similar).

I used the following script to generate the tables, it should be improved to collapse the ranges:

    #!/usr/bin/ruby

    fixed, start, stop = [ ], [ ], [ ]
    open('|curl -Ls http://www.unicode.org/Public/UNIDATA/EastAsianWidth.txt') do |io|
      io.grep(/^([0-9A-F]+)(?:..([0-9A-F]+))?;[A-Za-z]*W/) do
        if $2
          start << ""0x#$1""
          stop << ""0x#$2""
        else
          fixed << ""0x#$1""
        end
      end
    end
    puts ""static uint32_t Fixed[]      = { #{fixed.join(', ')} };\n""
    puts ""static uint32_t RangeBegin[] = { #{start.join(', ')} };\n""
    puts ""static uint32_t RangeEnd[]   = { #{stop.join(', ')} };\n"""
jtbandes,2012-08-18 18:57:11,https://api.github.com/repos/textmate/textmate/git/commits/6e70305c5d7f1d9a11f5583b4a19cdc1987a161c,6e70305c5d7f1d9a11f5583b4a19cdc1987a161c,"Move border drawing to OakDocumentView

This allows the border to appear properly when scrolling (with a multitouch device) bounces past the end of the content."
jtbandes,2012-08-18 18:10:24,https://api.github.com/repos/textmate/textmate/git/commits/7a56a801b69df511a186878bd5c72bf71f9cab93,7a56a801b69df511a186878bd5c72bf71f9cab93,Fix bundle menu items' appearance in the Help menu
dmcdougall,2012-08-16 21:15:35,https://api.github.com/repos/textmate/textmate/git/commits/36b2e82e3ac6e9312733bcbaea587516ccb5d5aa,36b2e82e3ac6e9312733bcbaea587516ccb5d5aa,"Fix trailing whitespace in text reformat

On a ^Q text reformat, trailing whitespaces were not removed. Typically
whitespace is typically considered undesirable."
elia,2012-08-16 09:22:00,https://api.github.com/repos/textmate/textmate/git/commits/11e08b7ee8866a733d454dfa38230e7fbfb60283,11e08b7ee8866a733d454dfa38230e7fbfb60283,Let the user resize bundle editor columns
joachimm,2012-07-07 14:59:28,https://api.github.com/repos/textmate/textmate/git/commits/18eecca2ab8de6b12ae1c797527abbbb9163dcc1,18eecca2ab8de6b12ae1c797527abbbb9163dcc1,"Represent font size using a CGFloat

This applies to scoped font size settings and should be faster than the previous std::string based approach."
joachimm,2012-06-30 09:03:49,https://api.github.com/repos/textmate/textmate/git/commits/ece7758e09ba6af2e42c4c90efdcd47034acf362,ece7758e09ba6af2e42c4c90efdcd47034acf362,"Represent theme colors as 4 doubles (RGBA)

This should be faster (and probably more precise) than the previous std::string based color manipulations."
sorbits,2012-08-18 13:19:22,https://api.github.com/repos/textmate/textmate/git/commits/e0a5fcb46002a4644c402c5eb93fff9d4c527267,e0a5fcb46002a4644c402c5eb93fff9d4c527267,scmls: Show all but “none” status type
sorbits,2012-08-18 13:13:39,https://api.github.com/repos/textmate/textmate/git/commits/c70d981e9d00762e6005bd5647a7adfab650b960,c70d981e9d00762e6005bd5647a7adfab650b960,"Take bundle signing keys from source index

This makes it easier to allow third parties to add their bundle to our index. They will sign the bundle themselves and we’ll include their info (download URL and description) plus public key in the index.

The index (with the public keys) is itself signed and delivered over a secure connection (https), so there should be no way for a non-trusted person to add a public key to the index."
sorbits,2012-08-18 13:05:05,https://api.github.com/repos/textmate/textmate/git/commits/0defc9ea20b501e854a2384aaa22120b45b25584,0defc9ea20b501e854a2384aaa22120b45b25584,"Prune redundant items from SCM data source

For uncommitted items we no longer show folders if items from these folders are already shown.

For untracked items we only show the top-level (untracked) directory and not the items it contains."
sorbits,2012-08-18 12:00:33,https://api.github.com/repos/textmate/textmate/git/commits/5feaa48636b8a8a804af85c80d8b7a61cddda48c,5feaa48636b8a8a804af85c80d8b7a61cddda48c,"fixup! git: show modifications in upstream folders

A new ‘mixed’ state was introduced with no ‘to_s()’ support (used for debug output and the ‘scmls’ test executable)."
sorbits,2012-08-17 23:37:16,https://api.github.com/repos/textmate/textmate/git/commits/d5d79d6c0c74e42187d23c00a80431b35ce181b7,d5d79d6c0c74e42187d23c00a80431b35ce181b7,"Find in Folder: ⌘1-n selects first match

Previously we would select the n’th file in the result list so one would have to then use arrow down to get to the first match of this file. Now we go directly to the first match in the file (unless the matches for the item is collapsed)."
sorbits,2012-08-17 23:27:40,https://api.github.com/repos/textmate/textmate/git/commits/c7f267cd12fc253c0844720fb05c010614aa89a1,c7f267cd12fc253c0844720fb05c010614aa89a1,"Show error if failing to unlink old socket

This is in response to issue #183."
sorbits,2012-08-17 22:56:57,https://api.github.com/repos/textmate/textmate/git/commits/7f177f1345cd26048f6aa66cbc449ba7a75ef4e5,7f177f1345cd26048f6aa66cbc449ba7a75ef4e5,"Introduce test targets that always run

This means having a test file open (in TextMate) and using ⌘B, the test will always run, even if it has previously succeeded and none of the test’s dependencies have been updated."
sorbits,2012-08-17 22:49:08,https://api.github.com/repos/textmate/textmate/git/commits/7e9f10ae2925681c2cb14f268f285e604d329384,7e9f10ae2925681c2cb14f268f285e604d329384,"Cleanup project settings

Just removing stuff that is no longer used."
sorbits,2012-08-17 22:24:22,https://api.github.com/repos/textmate/textmate/git/commits/a2a0c187d4d177049b6022ebfc96b2d35f527d73,a2a0c187d4d177049b6022ebfc96b2d35f527d73,"Replace SetItemMark() with Cocoa code

Use of the (undocumented) NSMenuItemBullet was suggested by an Apple engineer and the consequences, if it is unavailable, are harmless."
sorbits,2012-08-17 21:01:11,https://api.github.com/repos/textmate/textmate/git/commits/cf1b4750e4e17d5ea653c4d20d6ed4b151a17fbd,cf1b4750e4e17d5ea653c4d20d6ed4b151a17fbd,"Go to Current Document is now a toggle

This also works as a (quick) way to deselect all in the file browser (i.e. hit ⌃⌘R twice) which is useful when one wants to run commands on the entire project (e.g. Git → Show Uncommitted Changes)."
sorbits,2012-08-17 21:00:41,https://api.github.com/repos/textmate/textmate/git/commits/af55f6b7bddd981e4bbaadd5f76de3f7d4b6c8da,af55f6b7bddd981e4bbaadd5f76de3f7d4b6c8da,"Add deselectAll: to OakFileBrowser

I feel that the better API would be to make the selectedURLs property r/w (instead of read-only), but that is more involved since there is the case of setting a selection while the file browser is still loading items."
sorbits,2012-08-17 20:49:58,https://api.github.com/repos/textmate/textmate/git/commits/64ff8a53e751cddf9197009ebf7e9aa26d778f80,64ff8a53e751cddf9197009ebf7e9aa26d778f80,"Go to SCM Status is now a toggle

This is implemented by invoking “go back” if already showing an SCM URL. If there is no history (unlikely) then we instead “go up (parent)” which should take us to the root of the repository."
sorbits,2012-08-17 20:40:13,https://api.github.com/repos/textmate/textmate/git/commits/7cca8f3f4a3d57e614e109839fd72a3b8d9b3dfe,7cca8f3f4a3d57e614e109839fd72a3b8d9b3dfe,"Use Objective-C literals

This brings it in line with the rest of the source, which have embraced these."
sorbits,2012-08-17 19:42:16,https://api.github.com/repos/textmate/textmate/git/commits/56d763ee216e23a205a45794a8bfdd111ef62d6d,56d763ee216e23a205a45794a8bfdd111ef62d6d,"Update URL for ninja and CxxTest bundles

These are now stored at the TextMate GitHub account."
sorbits,2012-08-17 19:38:46,https://api.github.com/repos/textmate/textmate/git/commits/7f68e1a8e5418ff01a21dc60d5c75842d542c293,7f68e1a8e5418ff01a21dc60d5c75842d542c293,"Download URL now taken from the GitHub response

Previously it was based on a hardcoded URL template. This also adds an extra check on the GitHub response, to see if we actually got a URL back."
sorbits,2012-08-16 14:28:01,https://api.github.com/repos/textmate/textmate/git/commits/fee36aaec98207fa1e8f25f6ac75b89d69d00635,fee36aaec98207fa1e8f25f6ac75b89d69d00635,"Favorites prefixed with ‘[DIR]’ show folders within

For example if you have all your projects under ~/Projects then you can do:

    mkdir -p ~/Library/Application\ Support/TextMate/Favorites
    cd ~/Library/Application\ Support/TextMate/Favorites
    ln -s ~/Projects ""[DIR] My Projects""

This will then have all the folders inside ~/Projects show when you choose Open Favorites… (⇧⌘O).

Long-term it might be useful to store actual property lists in the favorites folder, akin to smart folders (i.e. describe a query for what to show) and/or allow descending into the folders shown in the ⇧⌘O window."
sorbits,2012-08-16 09:10:44,https://api.github.com/repos/textmate/textmate/git/commits/8a5fb1636752165a3e76d7f04aa0c2ee077913fc,8a5fb1636752165a3e76d7f04aa0c2ee077913fc,"Let configure create DefaultBundles.tbz

Motivated by a lot of “where is the syntax highlight?” questions from users that build from source, we now always create the DefaultBundles.tbz (if it doesn’t exist)."
sorbits,2012-08-16 09:12:32,https://api.github.com/repos/textmate/textmate/git/commits/d978d7af9ce1ccc60ca6fcb1c9e9c7461329e700,d978d7af9ce1ccc60ca6fcb1c9e9c7461329e700,Checkin release notes
sorbits,2012-08-15 15:42:33,https://api.github.com/repos/textmate/textmate/git/commits/218551185bc1724caffbb15e0b428b726e6fd253,218551185bc1724caffbb15e0b428b726e6fd253,"Add gdb targets to build.ninja

Since ninja run each build job with its own stdin/out/err we can’t launch gdb itself in a build job, so we use osascript to launch gdb in a new window.

I used Terminal for this only because it is simpler to script than iTerm2."
sorbits,2012-08-15 20:54:52,https://api.github.com/repos/textmate/textmate/git/commits/4a22d1af54bf2f2f0eaa36264892945fa32f88d8,4a22d1af54bf2f2f0eaa36264892945fa32f88d8,"Split disableIndentCorrections into two settings

The `disableIndentCorrections` setting now only disables the (aggressive) indent corrections that TextMate does while you type.

There is an additional `indentOnPaste` which you can set to:

1. `simple` — this is the indent behavior which was previously implied when setting `disableIndentCorrections`. It indents the paste to the position of the caret and works well for Python.
2. `disable` — the text is inserted as-is without indenting it.
3. «unset» — indent the paste based on the indent patterns of the current scope."
sorbits,2012-08-15 20:51:48,https://api.github.com/repos/textmate/textmate/git/commits/d8c73a82c85387da4df00170100e730c5c4a5997,d8c73a82c85387da4df00170100e730c5c4a5997,"Pasting on empty line no longer inserts newline

This closes issue #69."
sorbits,2012-08-15 20:11:50,https://api.github.com/repos/textmate/textmate/git/commits/85a17b635592335a715ccfd3051b47471c77d71e,85a17b635592335a715ccfd3051b47471c77d71e,"Software update no longer asks about saving changes

If session restore has been disabled then we will still ask, since the user would otherwise lose his changes. Ideally we’d launch the new instances with session restore temporarily enabled."
sorbits,2012-08-15 20:00:23,https://api.github.com/repos/textmate/textmate/git/commits/2307db6631fe60e45c4f25c52f29b1e73eca9b7a,2307db6631fe60e45c4f25c52f29b1e73eca9b7a,Allow relaunch without user interaction
sorbits,2012-08-15 19:03:50,https://api.github.com/repos/textmate/textmate/git/commits/6a554d1c68fbdc0f9e77d070de2b7f056d8a5ade,6a554d1c68fbdc0f9e77d070de2b7f056d8a5ade,Retire code necessary to gracefully upgrade from r9110
sorbits,2012-08-15 18:48:36,https://api.github.com/repos/textmate/textmate/git/commits/d1a31f6bff241ecb8d8c5b5e3526a3eb102b2183,d1a31f6bff241ecb8d8c5b5e3526a3eb102b2183,"Test if bind or listen fails

This is motivated by issue #165 where someone reports the named socket does not exist."
sorbits,2012-08-15 18:47:06,https://api.github.com/repos/textmate/textmate/git/commits/67dc0b3943a5a6320f8173c8e001a514667be3fa,67dc0b3943a5a6320f8173c8e001a514667be3fa,"Make OakRunIOAlertPanel accessible from C++

I moved it to a C header. An alternative would be to put some #ifdef’s around the Objective-C stuff in OakAppKit.h, but with the standalone header, it’s clear that this is the only thing we need from OakAppKit."
sorbits,2012-08-15 17:44:32,https://api.github.com/repos/textmate/textmate/git/commits/73088e87c39cedb7cdcba318741530349a2bfd49,73088e87c39cedb7cdcba318741530349a2bfd49,"Update ramte

The new version supports reading settings from /etc/rmate.rc and ~/.rmate.rc.

It also does a better atomic save."
sorbits,2012-08-15 14:47:36,https://api.github.com/repos/textmate/textmate/git/commits/926f3ba09da2820adff271cd4e302a75f9a93954,926f3ba09da2820adff271cd4e302a75f9a93954,"Add a TM_ISSUE_URL setting

See https://github.com/avian/hyperlink-helper.tmbundle/commit/570d25795d4c68d0ac809073a238c40dabe26ccc for detauls."
sorbits,2012-08-15 14:06:49,https://api.github.com/repos/textmate/textmate/git/commits/e9d30644e944c5237dbcf3e49281cd2d87479982,e9d30644e944c5237dbcf3e49281cd2d87479982,"Improve tab trigger boundary checks

When two neighboring characters have different character class or one is an alpha numeric character (excl. underscore) and the other is not, we consider this a valid boundary for a tab trigger.

This closes issue #157."
sorbits,2012-08-15 14:00:01,https://api.github.com/repos/textmate/textmate/git/commits/c7c45b448bd1ac7347adaf7f1f252535fdcb2a68,c7c45b448bd1ac7347adaf7f1f252535fdcb2a68,"Make code to obtain character class public

This includes renaming the constants from using a rather generic kType prefix to kCharacterClass."
sorbits,2012-08-15 13:58:38,https://api.github.com/repos/textmate/textmate/git/commits/9e1d10b5f1250e33e3a4e9caa85e96307fdaea2b,9e1d10b5f1250e33e3a4e9caa85e96307fdaea2b,"Remove debug output

I was initially under the impression that no data should be sent past EOF but from testing it is clear that this assumption is incorrect. It’s unimportant though as we do handle the case (though we didn’t initially, and that’s why I put in the fprintf, to verify the situation I guarded for actually was happening)."
sorbits,2012-08-15 00:04:51,https://api.github.com/repos/textmate/textmate/git/commits/52b01e0f6eb6ead8012c14d302f8934fb12d186d,52b01e0f6eb6ead8012c14d302f8934fb12d186d,"Fix test failure for builds in source tree

The fs::snapsot_t class creates a finger print of a folder. We used the source tree for testing, but if the source tree hosts the build directory, then the fingerprint will (likely) change, since we run simultaneous build jobs.

It now uses the Frameworks folder in the source tree, as it’s unlikely that someone would place their build directory in this location."
sorbits,2012-08-14 23:57:22,https://api.github.com/repos/textmate/textmate/git/commits/d255324966962aee93edd7c8c8a7503ea6994df9,d255324966962aee93edd7c8c8a7503ea6994df9,fixup! Remove old tab trigger render code
nanoant,2012-08-14 22:30:53,https://api.github.com/repos/textmate/textmate/git/commits/5fbf567820ac9837566c42826ff1a8606363e41f,5fbf567820ac9837566c42826ff1a8606363e41f,"When $builddir is relative path, pass absolute path to fixtures makefile."
sorbits,2012-08-14 23:05:29,https://api.github.com/repos/textmate/textmate/git/commits/61071c153dd393c38f7286822e345f16711fcdd1,61071c153dd393c38f7286822e345f16711fcdd1,Checkin release notes
nanoant,2012-08-14 21:31:02,https://api.github.com/repos/textmate/textmate/git/commits/4354febdbc64a81e8bc42b15d146d3724e5659a5,4354febdbc64a81e8bc42b15d146d3724e5659a5,Test all versions of clang for “new enough”
sorbits,2012-08-14 22:14:45,https://api.github.com/repos/textmate/textmate/git/commits/b7174fafa06a08a5338afffa6a85ff0e903a9009,b7174fafa06a08a5338afffa6a85ff0e903a9009,"Add phoney target for deploying

The nightly builds still require me to manually run the ‘TextMate/deploy’ target, so if we can make it 9 characters shorter, it’s totally worth it! :)"
sorbits,2012-08-14 22:10:31,https://api.github.com/repos/textmate/textmate/git/commits/1250964a6d38b66c0cfa17a48e18fb7d75221e35,1250964a6d38b66c0cfa17a48e18fb7d75221e35,"File browser shows context menu on ⌥F2

The key is consistent with the default key for bringing up the context menu in the text view — that key is however taken from the key bindings dictionary, so ideally we’d do the same in the file browser. Need to factor out the key bindings parsing code first though, and in theory the key bindings dictionary allow for multi-stroke bindings.

This implements issue #18."
sorbits,2012-08-14 20:41:16,https://api.github.com/repos/textmate/textmate/git/commits/1892e0a5576f450d3706b9486b4489ca01c3264d,1892e0a5576f450d3706b9486b4489ca01c3264d,"Make the file drop path relative to current file

Previously these were relative to the project directory with current file’s directory as a fallback, but 1.x used current file."
sorbits,2012-08-14 20:35:11,https://api.github.com/repos/textmate/textmate/git/commits/05298ee8dcb982fb5bc8304e86fb99bb0419e8b7,05298ee8dcb982fb5bc8304e86fb99bb0419e8b7,"Insert path when dropping binary files

This is only when there is no drop command for the file type."
sorbits,2012-08-14 20:14:56,https://api.github.com/repos/textmate/textmate/git/commits/28199a8547ddafc9d8fecd3bc3b9baeda6580837,28199a8547ddafc9d8fecd3bc3b9baeda6580837,"Add CSS to release notes

Presently just a symbolic link to the Help Book’s CSS."
sorbits,2012-08-14 20:08:27,https://api.github.com/repos/textmate/textmate/git/commits/cc436b2dfa218ae61288341b788e98c82c2f2732,cc436b2dfa218ae61288341b788e98c82c2f2732,fixup! Remove old tab trigger render code
sorbits,2012-08-14 19:45:03,https://api.github.com/repos/textmate/textmate/git/commits/69a9d8debaa0bc4ec3d4a742e883410cc82401ca,69a9d8debaa0bc4ec3d4a742e883410cc82401ca,Update rmate script (fix for --host=auto)
imxiaobo,2012-08-14 17:21:17,https://api.github.com/repos/textmate/textmate/git/commits/00b65bbd2886e56503e911ebc1af8d95b5a47351,00b65bbd2886e56503e911ebc1af8d95b5a47351,Updated chinese translation for terminal preference panel.
imxiaobo,2012-08-12 21:03:04,https://api.github.com/repos/textmate/textmate/git/commits/96cb899b5313ac7c90618e54132e7858389552e9,96cb899b5313ac7c90618e54132e7858389552e9,Initial commit of Simplified Chinese localization for xib files.
sorbits,2012-08-14 19:29:29,https://api.github.com/repos/textmate/textmate/git/commits/0ceff6beab1f52f8700cf78f5fdb792e08b3dcb2,0ceff6beab1f52f8700cf78f5fdb792e08b3dcb2,"Remove old tab trigger render code

This code was using (the no longer there in the 10.7 SDK) GetPortBounds() to be able to render into a CGContextRef.

It was also using the private _NSGetCarbonMenu to be able to install the menu handler (that augmented the rendering)."
sorbits,2012-08-14 19:17:09,https://api.github.com/repos/textmate/textmate/git/commits/f743c1954ffdfa19239e8621881505bd575d6106,f743c1954ffdfa19239e8621881505bd575d6106,"Move help book out of English.lproj

This way localizations without a help book will fall back on the english one."
nanoant,2012-08-14 15:59:13,https://api.github.com/repos/textmate/textmate/git/commits/7bd9f9817bbbbfeb9801fbf41dec412b566fc80c,7bd9f9817bbbbfeb9801fbf41dec412b566fc80c,"Improve tab trigger rendering

This is using NSAttributedString’s NSTextTableBlocks:

* Font is determined from current menu rather than hardcoded
* Fixed: Invalid font size on bundle-item popup
* Fixed: Both tab triggers and key equivalents can co exists on single menu item
* No relayout calculations are needed after menu update (this is done automatically by NSLayoutManager when using NSTextTables)
* Uses 10.5 compatible API"
sorbits,2012-08-14 18:52:54,https://api.github.com/repos/textmate/textmate/git/commits/15afc1398b426cb3c7ff406ea1a791e631e7aa47,15afc1398b426cb3c7ff406ea1a791e631e7aa47,"Revert ""Draw tab triggers and key equivalents in menu""

Reverts 25071ce6e586fb4fa963f319f329bd4a6f3b98bc
Reverts 757219b8f1a940acc81154a69ae26771046c2430"
nanoant,2012-08-13 18:36:50,https://api.github.com/repos/textmate/textmate/git/commits/6763406fe51444dde5ab0eaaff5621852029ec2a,6763406fe51444dde5ab0eaaff5621852029ec2a,Bind Opt+F1 to show bundle item popup.
nanoant,2012-08-13 18:36:23,https://api.github.com/repos/textmate/textmate/git/commits/752430f339793b3595f3d6976adf09ac094379b6,752430f339793b3595f3d6976adf09ac094379b6,"Check current grammar bundle in bundle item popup.

Do not specify selected index explicitely, popup menu item with NSOnState gets selected by default."
nanoant,2012-08-13 18:34:23,https://api.github.com/repos/textmate/textmate/git/commits/98de1f5f512be15d4e56fcb4ce2b9900bc0ed1ae,98de1f5f512be15d4e56fcb4ce2b9900bc0ed1ae,Select popup menu item only on non-negative index.
nanoant,2012-08-13 09:16:49,https://api.github.com/repos/textmate/textmate/git/commits/8a8432d0653158fc957c4a877b19a1cca90942fc,8a8432d0653158fc957c4a877b19a1cca90942fc,Select current grammar at bundle item popup.
sorbits,2012-08-14 16:02:21,https://api.github.com/repos/textmate/textmate/git/commits/ea88c5a7132515aa2e792406a0de4fc97cbb69ca,ea88c5a7132515aa2e792406a0de4fc97cbb69ca,Handle txmt: URLs without a file argument
sorbits,2012-08-14 14:53:15,https://api.github.com/repos/textmate/textmate/git/commits/e5c2daa05a9e6fa739816ff26281f7e2f48f602e,e5c2daa05a9e6fa739816ff26281f7e2f48f602e,"Revert ""Use current document when no URL given in txmt URL""

Pending improved implementation which also handle the case where frontmost document is untitled.

This reverts commit 2beac7080b810ad9442b4e182e63f7eab6fcbedb."
jtbandes,2012-08-14 05:06:32,https://api.github.com/repos/textmate/textmate/git/commits/5aaebb9e25e3294b7daedd9777ff1b653b5e9190,5aaebb9e25e3294b7daedd9777ff1b653b5e9190,"Remove bundles.h dependency, re-add menu action"
jtbandes,2012-08-14 04:46:12,https://api.github.com/repos/textmate/textmate/git/commits/757219b8f1a940acc81154a69ae26771046c2430,757219b8f1a940acc81154a69ae26771046c2430,"fixup! Draw tab triggers and key equivalents in menu
Fix memory leak"
sorbits,2012-08-13 21:27:24,https://api.github.com/repos/textmate/textmate/git/commits/0bc9380b1b2da2daa2bee7af034cd5371cdd1359,0bc9380b1b2da2daa2bee7af034cd5371cdd1359,Checkin release notes
sorbits,2012-08-13 20:54:09,https://api.github.com/repos/textmate/textmate/git/commits/718ea40002f43afba49d3ed835f29a3f8715bc8a,718ea40002f43afba49d3ed835f29a3f8715bc8a,Use path::is_absolute instead of own logic
sorbits,2012-08-13 20:53:16,https://api.github.com/repos/textmate/textmate/git/commits/4259a8f8840069a6357bbe2c6ecf511ebabdce09,4259a8f8840069a6357bbe2c6ecf511ebabdce09,"Add path::is_absolute.

This is actually not entirely trivial since we can have a path that starts with a slash but includes more ‘..’ components than there are actual directories in the path."
sorbits,2012-08-13 20:17:00,https://api.github.com/repos/textmate/textmate/git/commits/b85aafb9a9047eb1bc042a551b9d2920ec7507e7,b85aafb9a9047eb1bc042a551b9d2920ec7507e7,"Crash when searching a bogus path

If we set projectDirectory to a non-path (e.g. ‘dummy’) then that value makes it into the default folder to search (on ⇧⌘F). Since we want folder specific settings for the path we are about to search (include/exclude patterns) then we would ask for settings for a non-path, which the settings framework couldn’t handle (it kept asking for the parent of this non-path expecting to eventually get to either the user’s home folder or the root of the disk, but instead it would loop infinitely).

This fixes issue #19."
sorbits,2012-08-13 19:20:26,https://api.github.com/repos/textmate/textmate/git/commits/3f00d23de72e5251f6dd9a0c453ddbc9404ec840,3f00d23de72e5251f6dd9a0c453ddbc9404ec840,"Consecutive deletes extend the yank clipboard

This turned out to be a little more involved due to how we need to make a distinction between a forward delete (prepend) and backward delete (append).

Implements issue #118."
sorbits,2012-08-13 19:24:26,https://api.github.com/repos/textmate/textmate/git/commits/4594b08c46d3585d366d618df1b1259b68111296,4594b08c46d3585d366d618df1b1259b68111296,Improve variable names
sorbits,2012-08-13 18:31:30,https://api.github.com/repos/textmate/textmate/git/commits/236c608e867effeceacddea5c82632cb78c22601,236c608e867effeceacddea5c82632cb78c22601,"Revert ""Accept HTTP/1.1 response in network tests""

Since we bypass the system’s proxy for localhost, no-one should modify our test server’s response.

This reverts commit c98bc92b5d935ce07ec8a87df626e92df711ec38."
sorbits,2012-08-13 18:30:47,https://api.github.com/repos/textmate/textmate/git/commits/f370ee13e4185472ac9351e02ff9b3dbddac2e5e,f370ee13e4185472ac9351e02ff9b3dbddac2e5e,"Make proxy setup URL specific

We now bypass the global proxy if trying to connect to localhost (as some of our tests do) and we also hand the actual target URL to the potential proxy auto configuration (PAC) script."
jtbandes,2012-08-13 09:38:19,https://api.github.com/repos/textmate/textmate/git/commits/25071ce6e586fb4fa963f319f329bd4a6f3b98bc,25071ce6e586fb4fa963f319f329bd4a6f3b98bc,"Draw tab triggers and key equivalents in menu

The old techniques used to set key equivalents no longer work. Unfortunately, this technique is only a workaround and is not pixel-for-pixel identical due to the way NSMenuItem lays itself out when rendering a key equivalent; but I think it's the best that can be done for now."
codykrieger,2012-08-13 16:40:45,https://api.github.com/repos/textmate/textmate/git/commits/df84fa92d4f8764bbcf93a0e2110038be4b00a0a,df84fa92d4f8764bbcf93a0e2110038be4b00a0a,"Set a blank SDK path if the 10.7 SDK isn't found.

This allows the project to build with the system default framework/include/library paths."
sorbits,2012-08-13 16:26:57,https://api.github.com/repos/textmate/textmate/git/commits/bf12bdd3f25eebe9324b591d768d5b957d7c20e4,bf12bdd3f25eebe9324b591d768d5b957d7c20e4,"Another CJK fix

When invoking an action that would replace the marked text (“CJK edit buffer”) with a zero-length string, we would continue to be in “CJK” mode and thus allow the input manager to process the next key press.

In this situation though pressing e.g. escape or backspace would result in the input manager inserting the literal character code for this key.

So we now leave “CJK edit mode” if the “edit buffer” is empty.

There is still an issue though where, if the edit buffer is not empty, and the user press backspace, we correctly (?) ask the input manager to handle this key press, but the input manager will (wrongly) replace the selection with the literal backspace character."
sorbits,2012-08-13 16:02:45,https://api.github.com/repos/textmate/textmate/git/commits/a3b8be728d268a72722e3a34e13b59766e8f50fa,a3b8be728d268a72722e3a34e13b59766e8f50fa,"fixup! Turn private run_cmd (scm/utility.h) → io::exec

Forgot to update debug variable."
sorbits,2012-08-13 14:10:25,https://api.github.com/repos/textmate/textmate/git/commits/54d157129b0e2550f3e3ada65e2f6a8d19cc5d3c,54d157129b0e2550f3e3ada65e2f6a8d19cc5d3c,"fixup! Use SecItemCopyMatching instead of the deprecated SecKeychainSearch

The cf::wrap function returns a temporary object that can be converted to a CFType, but this object’s lifetime is that of the temporary object returned. By putting the result of cf::wrap into a C array we keep the CFTypeRef around longer than the temporary object."
sorbits,2012-08-12 23:47:36,https://api.github.com/repos/textmate/textmate/git/commits/6be04585518f4700713d86fc63a2761149f36365,6be04585518f4700713d86fc63a2761149f36365,Checkin release notes
sorbits,2012-08-12 15:40:22,https://api.github.com/repos/textmate/textmate/git/commits/9ce0a3faa6394a7eebc441a5a7f975e8ed4bf8d8,9ce0a3faa6394a7eebc441a5a7f975e8ed4bf8d8,"Fix issue #44 (CJK input)

We have our own version of interpretKeyEvents: because we want to augment the default key bindings dictionaries (and support multi-stroke key bindings).

When there is marked text (as part of inserting CJK or similar) the system’s version of interpretKeyEvents: seems to handle key bindings slightly different, for example where ↩ is normally bound to insertNewline:, this might be suppressed when the user has just selected a “translation”."
Hoverbear,2012-08-12 20:53:46,https://api.github.com/repos/textmate/textmate/git/commits/18f6e2c6af52a557f98d51ab324c3d36f27f1a76,18f6e2c6af52a557f98d51ab324c3d36f27f1a76,Fixed Grammar Mistake.
sorbits,2012-08-12 22:37:33,https://api.github.com/repos/textmate/textmate/git/commits/6c35a3314a436449c2769c4c2a560e2c720ae48c,6c35a3314a436449c2769c4c2a560e2c720ae48c,Fix leaking bundle menu delegates
elia,2012-08-12 17:15:34,https://api.github.com/repos/textmate/textmate/git/commits/449b6229d8adb7479c4dbfb53940d8a6ca0022ae,449b6229d8adb7479c4dbfb53940d8a6ca0022ae,Add bundle menu to the status bar
elia,2012-08-12 17:00:42,https://api.github.com/repos/textmate/textmate/git/commits/b0018c209980d57406321f406902035467294585,b0018c209980d57406321f406902035467294585,Extract Bundle menu to a framework
sorbits,2012-08-12 20:30:29,https://api.github.com/repos/textmate/textmate/git/commits/0cedb7f3ab57405d6c928fed4f1a59ba9e93f159,0cedb7f3ab57405d6c928fed4f1a59ba9e93f159,"Specifically call platform’s tsort.

This fixes issue #102 where user has a ‘tsort’ not supporting the ‘-q’ option in his PATH (before the platform version)."
neverpanic,2012-08-12 19:29:22,https://api.github.com/repos/textmate/textmate/git/commits/f29af22cff4b947ed376fe1fffd80fbb9d4450d3,f29af22cff4b947ed376fe1fffd80fbb9d4450d3,"configure: exit with code != 0 on error

Using this allows other software to check whether configure was
successful.

This patch is public domain."
neverpanic,2012-08-12 19:22:12,https://api.github.com/repos/textmate/textmate/git/commits/b08daa7f977dc81b83a79628edc3fb1385ae84e7,b08daa7f977dc81b83a79628edc3fb1385ae84e7,"git test: don't fail in unconfigured envs

git commit fails when user.name and user.email aren't set. Unfortunately
using git commit --author='Test Test <test@example.com>' doesn't work.

This could happen in environments where pristine users are used to build
software.

This patch is public domain."
sorbits,2012-08-12 20:18:13,https://api.github.com/repos/textmate/textmate/git/commits/a92c7cda685c44d3ac0219d62a88eeda529f7a44,a92c7cda685c44d3ac0219d62a88eeda529f7a44,"fixup! Stop using deprecated NSSavePanel/NSOpenPanel methods

Be careful not to initialize an NSURL from nil."
sorbits,2012-08-12 13:55:14,https://api.github.com/repos/textmate/textmate/git/commits/2ff7684eda8becf691753f7abcd0a92301285964,2ff7684eda8becf691753f7abcd0a92301285964,"Order build rules based on dependencies.

Previously we wrote out the build rules alphabetically and grouped by target type. So e.g. the build rule for a framework would be created before that of an application bundle.

While it worked, it didn’t allow e.g. the preferences framework to depend on the mate executables (for copying to its resources section) since the build rules for mate would be created after that of the preferences framework.

We now do a topological sort on the dependency graph (by shelling out to ‘tsort’) to make the build system more flexible."
imxiaobo,2012-08-12 04:29:44,https://api.github.com/repos/textmate/textmate/git/commits/0e581cd2f6a941d32699555ef7e97e4cd3a1a881,0e581cd2f6a941d32699555ef7e97e4cd3a1a881,"Changed Find/Replace combobox height to 21, to be aligned with other controls."
jtbandes,2012-08-12 05:53:29,https://api.github.com/repos/textmate/textmate/git/commits/7f3818fb4c5f8ab9ed8fca0d47b2f95b076b6fc6,7f3818fb4c5f8ab9ed8fca0d47b2f95b076b6fc6,Use SecItemCopyMatching instead of the deprecated SecKeychainSearch
jtbandes,2012-08-12 04:21:41,https://api.github.com/repos/textmate/textmate/git/commits/df3e9bcdc29b37218d429170abd8db2f1f1c8b03,df3e9bcdc29b37218d429170abd8db2f1f1c8b03,QLPreviewPanel is no longer private
jtbandes,2012-08-12 03:40:36,https://api.github.com/repos/textmate/textmate/git/commits/0112532e64db3d4d72859da018e8a12e233e4612,0112532e64db3d4d72859da018e8a12e233e4612,Stop using deprecated NSSavePanel/NSOpenPanel methods
jtbandes,2012-08-12 02:49:50,https://api.github.com/repos/textmate/textmate/git/commits/3d3d22f509730eb5c375528472ddaf9a0581ccb0,3d3d22f509730eb5c375528472ddaf9a0581ccb0,Use Security framework instead of deprecated OpenSSL functions
jtbandes,2012-08-12 02:47:47,https://api.github.com/repos/textmate/textmate/git/commits/4cc010c28983c5a6c0d5feee8043932446333ab7,4cc010c28983c5a6c0d5feee8043932446333ab7,Helper function for getting CFError description
jtbandes,2012-08-11 22:13:04,https://api.github.com/repos/textmate/textmate/git/commits/bf2fa756ce1e894255894dc1456e476e0fb2cee3,bf2fa756ce1e894255894dc1456e476e0fb2cee3,Fix xib warnings
jtbandes,2012-08-11 21:43:09,https://api.github.com/repos/textmate/textmate/git/commits/ee11103d2d3489f094166096e7aaffbf1a7e7367,ee11103d2d3489f094166096e7aaffbf1a7e7367,Change deployment target of all xibs to OS X 10.7
jtbandes,2012-08-11 21:37:18,https://api.github.com/repos/textmate/textmate/git/commits/45b68389f215d0c6c2afefea4f61cfe0037b6f9b,45b68389f215d0c6c2afefea4f61cfe0037b6f9b,Save all xibs with Xcode 4.4.1 (4F1003)
tiktuk,2012-08-11 23:32:48,https://api.github.com/repos/textmate/textmate/git/commits/f4f6d9cc6de81af512a46287263debbb480f0afb,f4f6d9cc6de81af512a46287263debbb480f0afb,"Updated IRC channel name in README.

Only one octothorpe now."
sorbits,2012-08-11 23:38:44,https://api.github.com/repos/textmate/textmate/git/commits/dec4dbf30d77e2e7309e3c3f761114fcee9ecfaf,dec4dbf30d77e2e7309e3c3f761114fcee9ecfaf,"Update dialog plug-ins

Latest versions compile without warnings."
sorbits,2012-08-11 21:01:45,https://api.github.com/repos/textmate/textmate/git/commits/08f415ca7c2044f2e71929d8950c4ca15fe5eafd,08f415ca7c2044f2e71929d8950c4ca15fe5eafd,Checkin release notes
nathanieltagg,2012-08-11 17:16:29,https://api.github.com/repos/textmate/textmate/git/commits/99ab4e65781e3ac1ec45b385ca58e23b413e798a,99ab4e65781e3ac1ec45b385ca58e23b413e798a,Implement ⌃Y for yanking last deletion
jtmkrueger,2012-08-09 16:29:08,https://api.github.com/repos/textmate/textmate/git/commits/e495a6e9a3e3baf9d7e0548553d0daa917f6cacd,e495a6e9a3e3baf9d7e0548553d0daa917f6cacd,"Add example textmate image to README

It's a good looking editor, let's see a picture."
jbhannah,2012-08-11 17:24:21,https://api.github.com/repos/textmate/textmate/git/commits/4716c15c928ae35c1605e252c1e49152015b1e8d,4716c15c928ae35c1605e252c1e49152015b1e8d,"""Enter/Exit Full Screen"" menu item

""Full Screen Menu Item"" template from Object Library in Interface
Builder, with key binding removed"
jbhannah,2012-08-11 17:20:34,https://api.github.com/repos/textmate/textmate/git/commits/824e9b5f27ae619cf734f6709303c65739d7d76f,824e9b5f27ae619cf734f6709303c65739d7d76f,"Added fullscreen behavior to document window

In Interface Builder: Attributes Inspector -> Full Screen -> Primary
Window"
sorbits,2012-08-11 16:05:50,https://api.github.com/repos/textmate/textmate/git/commits/5d0682d31735f452c16c883e7bc686cb4e3ef99e,5d0682d31735f452c16c883e7bc686cb4e3ef99e,"Use user-specific temp directory for mate’s socket

We have TextMate create a named socket that ‘mate’ can use to contact the main application. Previously it was hardcoded to ‘/tmp/avian.sock’ which is bad on a multi-user system.

Placing it in the user’s temporary directory should ensure it doesn’t clash, yet still give us a predictable path (for mate to use).

Presently we maintain the old socket path as a link to the new location so that old versions of mate will still work."
sorbits,2012-08-11 18:49:55,https://api.github.com/repos/textmate/textmate/git/commits/2dcc7ec7b4a8bca861010859526cfd240ac75308,2dcc7ec7b4a8bca861010859526cfd240ac75308,"Keep version of mate (installed) in defaults

This is so that we know when to update the installed version."
sorbits,2012-08-11 18:37:05,https://api.github.com/repos/textmate/textmate/git/commits/512e5fdede66d2dd013cce9e73fd481f0bf16975,512e5fdede66d2dd013cce9e73fd481f0bf16975,"Prune GIT variables from the inherited environment

Incase we do a git commit that launches TextMate, it will inherit a bunch of variables from git, including GIT_DIR, which will cause issues for the Git bundle."
sorbits,2012-08-11 17:36:13,https://api.github.com/repos/textmate/textmate/git/commits/5f55fcb514be46229894a12cb83d7d1f3436e355,5f55fcb514be46229894a12cb83d7d1f3436e355,Turn private run_cmd (scm/utility.h) → io::exec
sorbits,2012-08-11 17:31:10,https://api.github.com/repos/textmate/textmate/git/commits/e680130eaf736c3376d417237ed8be2694aacd5f,e680130eaf736c3376d417237ed8be2694aacd5f,"Move oak::basic_environment to the io framework

Previously this was under the OakSystem framework which depends on the io framework meaning that the io framework itself was unable to obtain a basic environment, which is necessary for next commit."
sorbits,2012-08-11 17:18:59,https://api.github.com/repos/textmate/textmate/git/commits/485bdde0f732a33c7a54b24d74114d92c2c5ed9d,485bdde0f732a33c7a54b24d74114d92c2c5ed9d,"Move oak::c_array to oak/datatypes.h

This simple wrapper is useful in a few places so we shouldn’t need to depend on the OakSystem framework in order to use it."
mads-hartmann,2012-08-10 22:34:45,https://api.github.com/repos/textmate/textmate/git/commits/dc37506831ef3e6d9a22c52610b49bf5454db177,dc37506831ef3e6d9a22c52610b49bf5454db177,"Keep window open after closing last tab. Fixes #24.

When the last tab is closed the window will be kept open if the
file browser is shown. It will close the existing document and
replace it with a scratch document."
sorbits,2012-08-11 11:06:16,https://api.github.com/repos/textmate/textmate/git/commits/b9d8d612980c8d9202b6c42a1987542fd645766a,b9d8d612980c8d9202b6c42a1987542fd645766a,Add instructions about how to change a xib
fcrespo82,2012-08-11 01:03:15,https://api.github.com/repos/textmate/textmate/git/commits/a921f258e1eab5ee19e20e0f4700820ea5c51d6b,a921f258e1eab5ee19e20e0f4700820ea5c51d6b,"Don’t write to /tmp in configure

If another user (on the same system) builds TextMate then he blocks everyone else, as other users would be unable to overwrite /tmp/dummy."
sorbits,2012-08-10 21:57:18,https://api.github.com/repos/textmate/textmate/git/commits/3f083c12c6dacecc36e7760809bdb2667e2993c5,3f083c12c6dacecc36e7760809bdb2667e2993c5,Checkin release notes.
nanoant,2012-08-09 22:39:36,https://api.github.com/repos/textmate/textmate/git/commits/db294ba346871959720677ec59b704a64b2e3035,db294ba346871959720677ec59b704a64b2e3035,"If opening an already open folder, bring window to front

This is mainly for calling ‘mate «directory»’. Reference http://lists.macromates.com/textmate/2012-August/035164.html"
joachimm,2012-07-14 21:48:09,https://api.github.com/repos/textmate/textmate/git/commits/b21fbd897e095bf9378d79d9a54586c28da51b48,b21fbd897e095bf9378d79d9a54586c28da51b48,"Fix ^, previously it failed immediatly if last rule in scope selector, wasn't tested against last scope part. Fixed by giving ^ additional chances"
joachimm,2012-07-13 22:39:36,https://api.github.com/repos/textmate/textmate/git/commits/49320f4efb444f5a86d24aec062429d0586060df,49320f4efb444f5a86d24aec062429d0586060df,Fix bug with > in scope selector. There was an implicit > after path
joachimm,2012-07-13 13:59:18,https://api.github.com/repos/textmate/textmate/git/commits/2c6a8471f9d9fa30523892a61a319479a128d95d,2c6a8471f9d9fa30523892a61a319479a128d95d,Add support for ^ $ and > in scope selectors
sorbits,2012-08-10 16:29:40,https://api.github.com/repos/textmate/textmate/git/commits/2ac005815b072f0577b21e44a7b5f45ba3bcfb7f,2ac005815b072f0577b21e44a7b5f45ba3bcfb7f,"Upload to GitHub instead of S3.

Technically GitHub is backed by S3 (shielded by a CDN), but now all releases also go to the Downloads section of GitHub."
sorbits,2012-08-10 16:04:58,https://api.github.com/repos/textmate/textmate/git/commits/23280529ce34bc4233b2f82a1d7eee87efde2342,23280529ce34bc4233b2f82a1d7eee87efde2342,"Include ‘mate’ in application ressources.

Previously we installed this from the Bundle Support bundle’s support path.

While the Bundle Support bundle is a requirement to work with TextMate, including mate in the resources section should ensure we always get the latest build and address issue 53."
sorbits,2012-08-10 12:47:37,https://api.github.com/repos/textmate/textmate/git/commits/86999c7c41ad2ac14ec58ba82c2f7a5ce8599d61,86999c7c41ad2ac14ec58ba82c2f7a5ce8599d61,"Merge pull request #57 from shadowbq/patch-1

ninja now back in trunk of brew"
shadowbq,2012-08-10 11:27:57,https://api.github.com/repos/textmate/textmate/git/commits/707b45b2cd4e93e4d44ea1c72a6638af0e7df48b,707b45b2cd4e93e4d44ea1c72a6638af0e7df48b,"ninja now back in trunk of brew 

https://github.com/mxcl/homebrew/commit/ff13af6fb37b378c9edb3a91fe3d6016c36661b5"
caldwell,2012-08-10 09:02:34,https://api.github.com/repos/textmate/textmate/git/commits/4ae46a534927b663ecf127eed97d65b732f39684,4ae46a534927b663ecf127eed97d65b732f39684,"Also check for boost in $CPATH

This way it can be installed anywhere as long as the C compiler can find it."
sorbits,2012-08-10 10:26:43,https://api.github.com/repos/textmate/textmate/git/commits/506b21a43fdaf8baebee540b50b4c0125d6fa70e,506b21a43fdaf8baebee540b50b4c0125d6fa70e,"Merge pull request #55 from youngrok/master

brew uses proctools rather than pgrep"
youngrok,2012-08-10 10:00:15,https://api.github.com/repos/textmate/textmate/git/commits/547aa70aad4ed8a4671812e81bdb757d9e4aadc1,547aa70aad4ed8a4671812e81bdb757d9e4aadc1,Update README.md
sorbits,2012-08-10 09:01:32,https://api.github.com/repos/textmate/textmate/git/commits/67c17d838b356f2d55250ec41676aa6915342331,67c17d838b356f2d55250ec41676aa6915342331,"Move git clone + submodule update to README.

A few people were reporting build issues because they downloaded the source and thus lacked the submodules."
sorbits,2012-08-10 08:47:07,https://api.github.com/repos/textmate/textmate/git/commits/a94ad3cc4c6c755c0740b2e6b0bf36bad59e5454,a94ad3cc4c6c755c0740b2e6b0bf36bad59e5454,"Also check brew for clang and boost dir.

We now prefer Apple’s clang over MacPorts/homebrew. This is because clang on Lion (with latest Xcode) should be recent enough to build TextMate."
sorbits,2012-08-10 08:33:56,https://api.github.com/repos/textmate/textmate/git/commits/9637bc58adab0f357cc9be2e0aa6bca8fe9312d1,9637bc58adab0f357cc9be2e0aa6bca8fe9312d1,"Update build instructions for clang.

It appears that latest Xcode for Lion does ship with a clang recent enough to build TextMate.

Also added instructions on how to build clang via homebrew."
adammw,2012-08-10 02:02:36,https://api.github.com/repos/textmate/textmate/git/commits/a3a82c93ce87802eb82aaf6ee647a4bb24e9970a,a3a82c93ce87802eb82aaf6ee647a4bb24e9970a,Update .gitmodules to use Git over HTTP
sorbits,2012-08-10 08:03:19,https://api.github.com/repos/textmate/textmate/git/commits/845bb96f5b3c7c9b7c8c54c8ecde21971651cba3,845bb96f5b3c7c9b7c8c54c8ecde21971651cba3,"Output full path to compiler used.

This should make it easier to troubleshoot when people report they have latest clang but get a “too old” failure, e.g. issue #45."
burgua,2012-08-09 20:32:38,https://api.github.com/repos/textmate/textmate/git/commits/7143f0034e1bec2346679d9997d8836d0baa0e3f,7143f0034e1bec2346679d9997d8836d0baa0e3f,Update README.md
mads-hartmann,2012-08-09 19:45:21,https://api.github.com/repos/textmate/textmate/git/commits/009e0ac563339bdb286201601a129e49c640d791,009e0ac563339bdb286201601a129e49c640d791,"Update README.md

In order to build from TextMate you also need
to set the PATH variable."
sorbits,2012-08-09 20:32:27,https://api.github.com/repos/textmate/textmate/git/commits/e8bad0d669aa42cffc9506a8987f48701bf6edad,e8bad0d669aa42cffc9506a8987f48701bf6edad,"Quote compiler variables.

This is incase user has clang installed e.g. under /Applications/Xcode 4.5.app/…

Fixes issue #29."
sorbits,2012-08-09 19:33:09,https://api.github.com/repos/textmate/textmate/git/commits/84b515d2bda7811a7b9bb03462808e38d06bfc68,84b515d2bda7811a7b9bb03462808e38d06bfc68,"Merge pull request #23 from sdefresne/master

Documentation fix"
sdefresne,2012-08-09 19:22:33,https://api.github.com/repos/textmate/textmate/git/commits/1f2b155dcfc613f26732d7175a0409fedc23622c,1f2b155dcfc613f26732d7175a0409fedc23622c,"Fix links to ninja build system and Ninja Bundle

Markdown syntax is not case sensitive for hyperlink tags, so use
different tags for ninja, the build system, and Ninja, the TextMate
Bundle."
sorbits,2012-08-09 17:30:21,https://api.github.com/repos/textmate/textmate/git/commits/767448f9e99a2942682b30b929b2de30d5d645c7,767448f9e99a2942682b30b929b2de30d5d645c7,Use xcrun to locate Apple’s clang.
sorbits,2012-08-09 17:16:53,https://api.github.com/repos/textmate/textmate/git/commits/7a58b5ec886f3a3fcaaa48a49c5f7037a2f6dfc5,7a58b5ec886f3a3fcaaa48a49c5f7037a2f6dfc5,"Merge pull request #12 from aaronbrethorst/ruby19_build_fixes

Hardcode Ruby scripts to use Apple’s build."
aaronbrethorst,2012-08-09 17:04:23,https://api.github.com/repos/textmate/textmate/git/commits/0462b4a18b29bb4c83df62171b299c1d3b3b74b4,0462b4a18b29bb4c83df62171b299c1d3b3b74b4,Hardcode Ruby scripts to use the Apple-provided version of MRI 1.8 since rdoc/usage is missing in 1.9
sorbits,2012-08-09 14:25:56,https://api.github.com/repos/textmate/textmate/git/commits/9894969e677c39007c2860f09e3f8235d3cde1ac,9894969e677c39007c2860f09e3f8235d3cde1ac,Initial commit
