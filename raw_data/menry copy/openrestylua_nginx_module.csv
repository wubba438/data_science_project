lua-nginx-module,Embed the Power of Lua into NGINX HTTP servers
username,timestamp,url,sha,message
thibaultcha,2019-09-10 18:45:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d062170e94141b236483d86067cdb0d0a596353d,d062170e94141b236483d86067cdb0d0a596353d,feature: implemented the 'ngx.crc32_short' and 'ngx.crc32_long' C FFI APIs.
thibaultcha,2019-09-12 17:55:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/50dabbc3ae2e4123a004ba68c92ef889026df0b4,50dabbc3ae2e4123a004ba68c92ef889026df0b4,"travis-ci: bumped OpenSSL versions to 1.0.2t, 1.1.0l, and 1.1.1d."
thibaultcha,2019-08-28 20:59:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd1e0f89e495bcec9e930cb8c3525e953baa6f4a,fd1e0f89e495bcec9e930cb8c3525e953baa6f4a,feat: config: added a check for Lua language version 5.1.
thibaultcha,2019-08-16 00:55:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9b224957f696af2a3d642b3a5380f3227b327b03,9b224957f696af2a3d642b3a5380f3227b327b03,doc: readme: minor updates to align with the ngx_stream_lua module README.
thibaultcha,2019-08-22 22:55:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4c943b9447784439153a2f4adec69f2fd6520d10,4c943b9447784439153a2f4adec69f2fd6520d10,tests: 087-udp-socket.t: removed a duplicated test case.
thibaultcha,2019-08-16 00:57:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/70484bcbe4a0dcc67137df6387b3a7bed205fff8,70484bcbe4a0dcc67137df6387b3a7bed205fff8,tweaks: ported adjustments and missing test cases from the ngx_stream_lua module.
thibaultcha,2019-08-27 00:19:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/315330ac099a35f5f17a0d453b7c001fe1181148,315330ac099a35f5f17a0d453b7c001fe1181148,"bugfix: config: ensured LuaJIT FFI check and static PCRE builds succeed on all platforms.

- fix the LuaJIT FFI check (tested on Linux and Darwin)
- fix static libpcre builds on Darwin
- ensure previous config scripts do not make the LuaJIT check fail"
thibaultcha,2019-08-08 22:32:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2a190736a58674086c3a27bf71a7993383fffb55,2a190736a58674086c3a27bf71a7993383fffb55,change: removed error logging on coroutine runtime errors.
thibaultcha,2018-01-18 06:20:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9a892b8d5dc1fe3eb21882b318a1e3260330ad5c,9a892b8d5dc1fe3eb21882b318a1e3260330ad5c,bugfix: coroutine.wrap: propagate errors to the parent coroutine.
thibaultcha,2019-08-12 23:13:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c658e22606c504b96e6408554cac8c1fefcfd0ea,c658e22606c504b96e6408554cac8c1fefcfd0ea,tests: 139-ssl-cert.t: added test cases asserting support for 'ngx.thread.kill()' and 'ngx.socket.udp' in 'ssl_certificate_by_lua*'.
tmthrgd,2019-08-12 23:12:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/97f0101e525b8f0c0f125ab50e381c936f0c2f10,97f0101e525b8f0c0f125ab50e381c936f0c2f10,"feature: enabled the 'ngx.thread' and 'ngx.socket.udp' APIs in ssl_session_fetch_by_lua*.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
thibaultcha,2019-08-09 20:06:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/97431d814114b5f94c5076557fbab3e0624b900f,97431d814114b5f94c5076557fbab3e0624b900f,"bugfix: fixed compilation with NGINX cores < 1.11.11

A follow-up commit to 947fa00 in which removed the `NGX_LUA_NO_FFI_API`
macro. Doing so prevents the `cln` variable from being declared, which
it previously was before even with such older NGINX core versions."
spacewander,2019-05-31 11:05:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/189ba24ef4ebdeced25fe2994fbf4b03113225fb,189ba24ef4ebdeced25fe2994fbf4b03113225fb,"feature: when a timer fails to run we now log the location of its function's definition.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
spacewander,2019-04-25 06:57:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4b9e53f74812cb9694397a4f3c3795989fc2962e,4b9e53f74812cb9694397a4f3c3795989fc2962e,"feature: ngx.pipe: allowed for calling resty.core 'ngx_pipe.shutdown()' on a sub-process when a light thread is waiting on it.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
spacewander,2019-04-25 05:25:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8573c1c5d88a9d0438a4c51f8b74163e47dc1be1,8573c1c5d88a9d0438a4c51f8b74163e47dc1be1,"feature: ngx.pipe: allowed for specifying timeouts in resty.core 'ngx_pipe.spawn()'.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
thibaultcha,2019-08-01 19:34:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d154e5a7c1cbb7810d0224862e577fc8a6b8e3ac,d154e5a7c1cbb7810d0224862e577fc8a6b8e3ac,"doc: readme: removed all mentions of PUC-Rio Lua and fixed styling and grammatical issues.

* Removed mentions of PUC-Rio Lua, or hints that this module may work
  with it.
* Clarified that this module only supports LuaJIT 2.x starting with
  v0.10.16.
* Clarified that the terms ""Lua"" and ""LuaJIT"" are used interchangeably
  in this document.
* Consistently capitalized ""Nginx"".
* Many styling and grammatical fixes."
thibaultcha,2019-08-02 21:16:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c5135a051162e58a30fe65af97b14d7fb7dac354,c5135a051162e58a30fe65af97b14d7fb7dac354,change: removed compatibility code for unsupported NGINX versions (< 1.6.0).
thibaultcha,2019-08-02 02:27:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/947fa0088b7a0387f43eb016436a2e4462eb5746,947fa0088b7a0387f43eb016436a2e4462eb5746,change: retired the old CFunction API when newer FFI implementations are available.
thibaultcha,2019-08-01 21:41:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/60736e686ac5ca5af9a5bf118cb9bd4a9126cefc,60736e686ac5ca5af9a5bf118cb9bd4a9126cefc,"change: 'resty.core' is now mandatorily loaded, and the 'lua_load_resty_core' directive is deprecated."
thibaultcha,2019-08-01 03:32:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a96e99ab1a770d261fa9eecbd9c7d112f39aa34b,a96e99ab1a770d261fa9eecbd9c7d112f39aa34b,change: we now prevent compilation with PUC-Rio Lua; only LuaJIT 2.x is supported.
thibaultcha,2019-08-05 22:19:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2f270642bfd3fc252a278a48860ff168d65be703,2f270642bfd3fc252a278a48860ff168d65be703,"bugfix: fixed file cache key size allocation.

Fix #1572"
thibaultcha,2019-07-30 21:24:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6b3822b18c3ac0b2d4d61a02b32d10a6207e1a4d,6b3822b18c3ac0b2d4d61a02b32d10a6207e1a4d,bugfix: added missing arguments to an 'ngx_log_error()' call in ngx_http_lua_pipe.c.
thibaultcha,2019-07-30 20:19:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9fa316f50b980eb2e26a8271e9927359ba77b95e,9fa316f50b980eb2e26a8271e9927359ba77b95e,tweak: updated the debug log in 'ngx_http_lua_socket_tcp_conn_op_ctx_cleanup()' to align with the meta_lua module.
thibaultcha,2019-07-28 20:05:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ba182dd599d5383e53c5b8837c565f3ee42aa806,ba182dd599d5383e53c5b8837c565f3ee42aa806,style: fixed some minor styling issues to align with the meta_lua module.
thibaultcha,2019-07-29 17:34:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eed28fca8d46dd0cf5d5486b6545e943a30c8415,eed28fca8d46dd0cf5d5486b6545e943a30c8415,optimize: fixed the pre-allocated number of keys in the 'ngx.socket.tcp' table.
thibaultcha,2019-07-28 20:04:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6c25b7bea9eae8ab14d3bd6ac4a68ad1a348a238,6c25b7bea9eae8ab14d3bd6ac4a68ad1a348a238,"optimize: removed declaration of obsolete 'ngx_http_lua_inject_logby_ngx_api' function.

This function was removed in 5078b14431f612693a4d468f200b792d128347d6."
thibaultcha,2019-07-26 19:45:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d313bf8dea8d697cffa8fd08224febd0db3d6046,d313bf8dea8d697cffa8fd08224febd0db3d6046,"bugfix: ensured the 'pcre_version' symbol is also preserved on Darwin platforms.

Follow-up commit to 2014dd80fe4f299ad68c3b60a2c5f846b4286b6f"
thibaultcha,2019-07-27 16:48:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c618d0d2391f493a3394a3978957ee3de449100c,c618d0d2391f493a3394a3978957ee3de449100c,"bugfix: fixed compilation errors encountered with ngx_stream_lua due to a recent commit.

A follow-up commit to 39c2ead3cb7efae4456494ea27a348fa1eca6c5c."
doujiang24,2019-07-13 05:06:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/881bf91da6853446398cebc1b2d6a01f8d7939d6,881bf91da6853446398cebc1b2d6a01f8d7939d6,"bugfix: ensured arguments of APIs mutating response headers do not contain '\r' and '\n' characters.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
thibaultcha,2019-06-15 00:55:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/246ec8ac482d13770c545f2cf59355df50ce843b,246ec8ac482d13770c545f2cf59355df50ce843b,refactor: simplified Lua chunk and file cache key generation.
thibaultcha,2019-06-14 23:55:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f45908cd32025d107c84f16aed5f6829aabcf536,f45908cd32025d107c84f16aed5f6829aabcf536,refactor: reduced cache key size by removing unnecessary chunkname component.
thibaultcha,2019-06-13 23:55:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bd83c656d55c573caf186c0f2cd603191a724e33,bd83c656d55c573caf186c0f2cd603191a724e33,tests: codecache.t: moved and reinforced a test case ensuring *by_lua directives with identical Lua chunks produce distinct cache keys.
thibaultcha,2019-06-12 23:55:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0c755ed892f4586536e7a0ad482e5a3feaa22ab9,0c755ed892f4586536e7a0ad482e5a3feaa22ab9,bugfix: ensured set_by_lua_file with nginx variables re-computes closures code cache key.
thibaultcha,2019-06-11 23:55:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/39c2ead3cb7efae4456494ea27a348fa1eca6c5c,39c2ead3cb7efae4456494ea27a348fa1eca6c5c,optimize: improved code cache lookup performance by using 'luaL_ref()' to avoid the costly 'lj_str_new()'.
thibaultcha,2019-06-10 23:55:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bf11f67d8cddec3554baf7c4c0142b2f1db984ab,bf11f67d8cddec3554baf7c4c0142b2f1db984ab,tests: codecache.t: added tests for code cache behavior with *_by_lua_file directives containing NGINX variables.
thibaultcha,2019-07-25 17:39:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e42f9b5f6520d7d5f51b6742134377f66bcdf841,e42f9b5f6520d7d5f51b6742134377f66bcdf841,doc: updated the section on OpenSSL and NGINX patches in the 'ssl_certificate_by_lua*' documentation.
wangfakang,2019-07-10 09:56:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/09484e8fda2f1c1970a898a8c08111af13d69930,09484e8fda2f1c1970a898a8c08111af13d69930,"bugfix: ensured 'init_worker_by_lua*' does not mutate another NGINX module's main_conf.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
thibaultcha,2019-07-18 00:18:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b6875300b7bd2425fd6f93de1e55e47685425b18,b6875300b7bd2425fd6f93de1e55e47685425b18,doc: mentioned that we support NGINX 1.17.x.
doujiang24,2019-07-13 05:09:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cf77a42c4ec4cc87734c0179fde972e7f2d204f7,cf77a42c4ec4cc87734c0179fde972e7f2d204f7,"doc: removed TODO items that have been taken care of.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
thibaultcha,2019-07-17 20:38:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/de60e555a3463f78a05f91ac28641d623f556c2f,de60e555a3463f78a05f91ac28641d623f556c2f,travis: added OpenSSL 1.1.1c to the tests matrix.
spacewander,2019-07-17 20:30:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/467f0134dbf53737a0cf26de7ccb2c35bd490d85,467f0134dbf53737a0cf26de7ccb2c35bd490d85,"tests: added tests asserting that 'ssl_certificate_by_lua*' and 'ssl_session_fetch_by_lua*' can yield when reading early data.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
spacewander,2019-07-17 17:56:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d3dbc0c8102a9978d649c99e3261d93aac547378,d3dbc0c8102a9978d649c99e3261d93aac547378,"bugfix: skipped 'ssl_session_store_by_lua*' and 'ssl_session_fetch_by_lua*' when using TLS 1.3.

Previously, we used the OpenSSL 1.1.1 ClientHello callback to do ssl
session fetching non-blockingly. However, this way cannot handle an edge
case: the ssl session resumption via session ticket might fail, and the
client fallbacks to session ID resumption. The ClientHello callback is
run too early to know if the client will fallback to use session ID
resumption.

Therefore, we have to take back the OpenSSL sess_set_get_cb_yield patch
and upgrade it to adapt OpenSSL 1.1.1, which was done in our
openresty/openresty repository.

Now, this means that for the time being, we must skip
`ssl_session_(fetch|store)_by_lua*` for TLS 1.3. It is possible to
support PSK with session ID in TLS 1.3., but we need to modify a number
of functions to pass the result up, which will make the patch too
complex to maintain. Since PSK with session ticket is supported,
supporting PSK with session ID is not so profitable. If someone needs
this feature, they can contribute it themselves.

Thanks Yongjian Xu and crasyangel for their help.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
thibaultcha,2019-07-11 05:41:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2014dd80fe4f299ad68c3b60a2c5f846b4286b6f,2014dd80fe4f299ad68c3b60a2c5f846b4286b6f,"bugfix: ensured the 'pcre_version' symbol is preserved as undefined when PCRE is statically linked.

When using `--with-pcre=...`, NGINX is statically linked against
libpcre.a. Since `pcre_version()` is unused, its symbol is stripped by
the linker. Because lua-resty-core's `resty.core.regex` module needs it,
we here ensure that the symbol is entered as undefined in our final
binary.

This should not be an issue for win32 builds since
`--export-all-symbols` is already set."
thibaultcha,2019-05-23 23:59:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/277d382f51067c0550a8264cb278e1364ba40e9c,277d382f51067c0550a8264cb278e1364ba40e9c,api: bumped API version to 0.10.16.
thibaultcha,2019-07-09 18:00:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2524330e59f0a385a9c77d4d1b957476dce7cb33,2524330e59f0a385a9c77d4d1b957476dce7cb33,travis-ci: bumped the NGINX core version to 1.17.1.
thibaultcha,2019-06-30 21:56:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/65bdd4a838a72dc7d9dedc2add58b72aa3a5dfd1,65bdd4a838a72dc7d9dedc2add58b72aa3a5dfd1,"tests: 139-ssl-cert-by.t: downgraded error log level of SSL handshake failures from 'crit' to 'info'.

See NGINX commit
https://github.com/nginx/nginx/commit/99d7bb690924e60e9e03096ac5e507111f7c182d
which landed in 1.15.10."
thibaultcha,2019-07-02 19:07:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4e974ba96150d0f5493f7e41c7523f1a3c2e0bef,4e974ba96150d0f5493f7e41c7523f1a3c2e0bef,doc: updated ssl_session_fetch_by_lua_block documentation around OpenSSL and NGINX core patches.
thibaultcha,2019-07-02 18:57:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b0c7373917c63af3a06474df0ff9f1a65939d3e1,b0c7373917c63af3a06474df0ff9f1a65939d3e1,"Revert ""feature: added OpenSSL 1.1.1 support to ssl_session_fetch_by_lua*.""

This reverts commit a38d9066787f6fe311135fc512004b1bc19ba1ac.

As put by @spacewander:

> Previously, we used ClientHello callback to do ssl session fetching
non-blockingly. However, this way can not handle an edge case: the ssl
session resumption via session ticket might fail, and the client falls
back to session ID resumption. The ClientHello callback is run too early
to know if the client will fall back to use session ID resumption.
Therefore, we have to take back the OpenSSL sess_set_get_cb_yield patch
and upgrade it to adapt OpenSSL 1.1.1.

---

The `ssl_session_(fetch|store)_by_lua*` handlers will be skipped for TLS
1.3 connections.

See:

https://github.com/openresty/lua-nginx-module/issues/1539
https://github.com/openresty/lua-nginx-module/pull/1540
https://github.com/openresty/lua-nginx-module/pull/1544"
thibaultcha,2019-06-28 00:08:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/81344434aa625878cb33bf0090a8c951a0979a64,81344434aa625878cb33bf0090a8c951a0979a64,doc: fixed a mistake in ngx.location.capture() example in README.md.
thibaultcha,2019-06-15 00:21:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/32dd6a34a17d6f1f094552a45c204ef614f5fbb5,32dd6a34a17d6f1f094552a45c204ef614f5fbb5,style: fixed a minor alignment issue in ngx_http_lua_ssl_certby.c.
spacewander,2019-05-31 11:15:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/59b6430f7b7c407e15b19035c566a56cfd2eb3e8,59b6430f7b7c407e15b19035c566a56cfd2eb3e8,bugfix: LuaJIT sets currentline to -1 if it is unavailable.
spacewander,2019-06-05 02:19:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a38d9066787f6fe311135fc512004b1bc19ba1ac,a38d9066787f6fe311135fc512004b1bc19ba1ac,"feature: added OpenSSL 1.1.1 support to ssl_session_fetch_by_lua*.

See openresty/openresty#456.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
thibaultcha,2019-06-04 23:51:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3a5872969cce758eedbd0e750522afb877734195,3a5872969cce758eedbd0e750522afb877734195,travis-ci: bumped OpenSSL to 1.0.2s and 1.1.0k.
agentzh,2019-06-03 03:20:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/33a5517c9c4e1a6d1415c2a59a51b0f75e3c8b04,33a5517c9c4e1a6d1415c2a59a51b0f75e3c8b04,tweak: fixed some warnings from the clang static code analyzer.
thibaultcha,2019-05-28 17:31:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4102b82cd0971c93663fe89eabd75b73741c4213,4102b82cd0971c93663fe89eabd75b73741c4213,tests: 161-load-resty-core.t: added a test asserting the directive honors 'lua_package_path'.
agentzh,2019-05-27 17:40:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1882c30a087168051a8292d0fcd199c0408da814,1882c30a087168051a8292d0fcd199c0408da814,"doc: we now work with nginx 1.14.x and 1.15.x.

Thanks Antoine for the reminder in #1534."
spacewander,2019-04-25 03:14:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a7afd56c66284db64d2dde74e6d9c11d06668e38,a7afd56c66284db64d2dde74e6d9c11d06668e38,"feature: added support for specifying environment variables in ngx.pipe spawn() FFI API.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
lukego,2019-05-22 22:06:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1c756b385dc6812b8e7a90f9a690f16a775792c9,1c756b385dc6812b8e7a90f9a690f16a775792c9,doc: fixed a mistake in tcpsock:receiveany() example in README.md.
thibaultcha,2019-05-22 21:30:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/30678fd5b9bbe344920278916f73cc0eb946db19,30678fd5b9bbe344920278916f73cc0eb946db19,tests: ssl-socket.t: fixed a failing test case due to openresty.org's default cipher.
agentzh,2019-05-20 19:16:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/441c7f626ae934a7d385a020ecce664a26792adf,441c7f626ae934a7d385a020ecce664a26792adf,tests: re-enabled a test case for using ngx.re.match in init_by_lua*.
thibaultcha,2019-05-04 05:29:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/28cf5ce3b6ec8e7ab44eadac9cc1c3b6f5c387ba,28cf5ce3b6ec8e7ab44eadac9cc1c3b6f5c387ba,feature: added the FFI API for 'str_replace_char()'.
spacewander,2019-05-06 00:36:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f87d1f16516b9cc2a78690eee863d38310db5533,f87d1f16516b9cc2a78690eee863d38310db5533,bugfix: ngx.pipe: cleared the pending event after aborting the uthread.
thibaultcha,2019-04-22 19:53:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/86941a706bb8522aee973640305ed3e443ae57e6,86941a706bb8522aee973640305ed3e443ae57e6,"tests: 123-lua-path.t: fixed a few test cases failing in EC2 to-ngx_lua suite.

In to-ngx_lua, the paths to lua-resty-core and lua-resty-lrucache are
not included by default, but is still required for Nginx to start due to
the default value of `lua_load_resty_core`.

Hence, we always provide those paths via the `LUA_PATH` env variable. In
non-to-* suites, those paths will thus be present twice, so the regexes
take that into consideration."
coderbydesign,2019-04-24 12:37:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7be0a4dc9325e35bcfe33e967ba0654e5fe80153,7be0a4dc9325e35bcfe33e967ba0654e5fe80153,"doc: fixed a typo in README.md.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
thibaultcha,2019-04-03 00:11:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/61e4d0aac8974b8fad1b5b93d0d3d694d257d328,61e4d0aac8974b8fad1b5b93d0d3d694d257d328,tests: fixed a few failing test cases due to loading resty.core.
thibaultcha,2019-04-02 23:43:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fccf383ae8a4b9d53487b0dfe1f3d92a11239a13,fccf383ae8a4b9d53487b0dfe1f3d92a11239a13,tests: fixed default lua path to load resty.core from many test cases.
thibaultcha,2019-04-02 22:42:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/87f0a09a60e6a51c99cd896dc02229f9b87e2607,87f0a09a60e6a51c99cd896dc02229f9b87e2607,feat: implemented the lua_load_resty_core directive which loads resty.core by default.
uudiin,2019-04-08 23:28:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7ac6f3f67dad6ba9ce2eea85285c5177bcf9d589,7ac6f3f67dad6ba9ce2eea85285c5177bcf9d589,doc: fixed a typo in a comment from ngx_http_lua_common.h.
dndx,2019-04-08 23:24:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/95a2e59bfb466e220d69d9953f29b12464ad687e,95a2e59bfb466e220d69d9953f29b12464ad687e,tests: removed obsolete drizzle upstream block in init.t.
thibaultcha,2019-03-26 16:35:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/12d991e182ec0e742b200405b65150cba8659e3d,12d991e182ec0e742b200405b65150cba8659e3d,api: bumped API version to 0.10.15.
spacewander,2019-03-10 00:30:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/afeeb84b0840061d52e3e5686dd00142139ecd31,afeeb84b0840061d52e3e5686dd00142139ecd31,"bugfix: ngx.pipe: fixed a segfault when error_log is configured with syslog.

Fix https://github.com/openresty/lua-resty-shell/issues/7."
chipitsine,2019-03-09 06:22:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2bc20ccb04a1e87dc9b22fb84173995ae33b0ed3,2bc20ccb04a1e87dc9b22fb84173995ae33b0ed3,travis-ci: switch to xenial image
agentzh,2019-03-09 19:35:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/15b01c66f737f2b6ea4dcd3dfb525c2f2c023fcb,15b01c66f737f2b6ea4dcd3dfb525c2f2c023fcb,tests: fixed the tests using iscribblet.org which would time out now.
thibaultcha,2019-02-27 00:48:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a92cf7255cf5132fc887bfccc937eebb29b30a14,a92cf7255cf5132fc887bfccc937eebb29b30a14,tests: fixed failures due to recent CDN changes.
thibaultcha,2019-02-24 06:14:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/83ca6b57ae5ede2b9ff987babff323e5814cebaf,83ca6b57ae5ede2b9ff987babff323e5814cebaf,doc: bumped version to 0.10.14.
spacewander,2019-02-20 14:11:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ee47e55eb5c36ef8eb7937a232f3ec0fcd22ec33,ee47e55eb5c36ef8eb7937a232f3ec0fcd22ec33,bugfix: ngx.pipe: proc:wait() returns false only when the sub-process exited abnormally.
thibaultcha,2019-02-18 00:45:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c368af2f0784b1472741ad7be834ab4853bba1a8,c368af2f0784b1472741ad7be834ab4853bba1a8,"tests: 159-sa-restart.t: avoided sending SIGWINCH to the test nginx worker process.

The handler for this signal falls-through to a graceful shutdown in
daemonized worker processes."
spacewander,2019-02-15 08:01:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/761ddca72deb4595ff93df7840dfa39854126123,761ddca72deb4595ff93df7840dfa39854126123,"bugfix: ensured we cleanup up aborted queued connect operations.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
spacewander,2019-02-14 15:00:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8edb21abcc4ee3ccc2d50c63bbc7c3ca4553b374,8edb21abcc4ee3ccc2d50c63bbc7c3ca4553b374,"bugfix: only update connections count when cosockets are truly associated with the socket pool.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
agentzh,2019-02-08 20:20:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd90f4e8252e9d06419317fdf525b55c65e15a50,fd90f4e8252e9d06419317fdf525b55c65e15a50,doc: one followup tweak.
agentzh,2019-02-08 20:17:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4ebab2b8a3cbf6d79eeced86fa2ae1497f0d12e6,4ebab2b8a3cbf6d79eeced86fa2ae1497f0d12e6,doc: emphasized that this module is a core component of OpenResty.
thibaultcha,2019-02-07 23:44:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cf887654a2ac36b6747c54a11f50ca56f88d6dbd,cf887654a2ac36b6747c54a11f50ca56f88d6dbd,tests: switched to 127.0.0.2 instead of agentzh.org for timeout-related tests.
thibaultcha,2019-02-01 19:49:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/01735c27fe2ffa9185bc3f9b8d0162f6b263717f,01735c27fe2ffa9185bc3f9b8d0162f6b263717f,tests: hardened a few flaky test cases from recent CI runs.
agentzh,2019-02-07 19:42:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/70dd0bee4c69c5dd7f87f848606d94b0f721a7f5,70dd0bee4c69c5dd7f87f848606d94b0f721a7f5,tests: fixed a test case in 068-socket-keepalive.t which always fails when a local dns server is running.
agentzh,2019-02-07 19:32:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9750a81731b5ab3fd29881eb1c1e8b0061a96e73,9750a81731b5ab3fd29881eb1c1e8b0061a96e73,tests: fixed new test failure due to openresty.org server changes.
agentzh,2019-02-05 01:53:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b2af4d36906dea4404bbc9ca00800900bbbf6eb9,b2af4d36906dea4404bbc9ca00800900bbbf6eb9,"bugfix: inlined Lua code snippets in nginx.conf failed to use the Lua source checksum as part of the Lua code cache key. thanks Oleg A. Mamontov for the report in #1428.

Fix #1428."
thibaultcha,2019-02-01 00:08:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f627f4c546b3c0c6fcab531901ece207b8b2dfd8,f627f4c546b3c0c6fcab531901ece207b8b2dfd8,"tests: t/160-disable-init-by-lua.t: hardened test suite to prevent false positives.

The test cases was not testing the result of the `nginx -t/-T/reopen`
commands, and was thus not catching the segfault regression fixed by
055bb17, only that the string `run init_by_lua` was not present.

We avoid testing the exit code due to incompatibilities between Lua
versions in the os.execute/io.popen APIs."
spacewander,2019-01-31 23:15:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/055bb17c6cf35258f06460d546468c114c591587,055bb17c6cf35258f06460d546468c114c591587,"bugfix: fixed a segfault introduced in 7c2b58e when testing an nginx configuration containing 'lua_shared_dict' directive(s).

In commit 7c2b58e, we avoided running `init_by_lua*` in signaller processes and
when testing the Nginx configuration. However, when the Nginx configuration
contains `lua_shared_dict` directives, the execution of `init_by_lua*` will be
postponded when testing the configuration.

This case was not handled and led to the segmentation fault reported in #1462."
spacewander,2018-11-14 14:40:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/aef03eb3317a2533d7fca3a06b07973a421a900c,aef03eb3317a2533d7fca3a06b07973a421a900c,"feature: added the C API to support the 'ngx.pipe' module provided by lua-resty-core.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>
Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
thibaultcha,2019-01-25 22:44:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2c8984934c74f7bbf3c365e67ec3273c0c13efd3,2c8984934c74f7bbf3c365e67ec3273c0c13efd3,travis: bumped the nginx core version to 1.15.8.
thibaultcha,2019-01-29 20:09:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bd9964e7f3e3f89ce35b6ac3ee2570dbd19c8f39,bd9964e7f3e3f89ce35b6ac3ee2570dbd19c8f39,tests: fixed some test cases failing with the 1.15.8 nginx core.
spacewander,2018-12-19 13:31:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c2940c132bf7e37e6a28731864892dae34c81a34,c2940c132bf7e37e6a28731864892dae34c81a34,"feature: added backlog queueing to cosocket connection pools.

Now we can pass 'pool_size' and 'backlog' options in connect method to
specify the pool size and the queue size of the connection pool.

When there is more connect operations than the pool_size, new connect
operation will be queued until former connect operation fails or
connection finalizes.

When there is more queueing connect operations than the backlog, new
connect operation will be dropped.

This pr also migrated connection pool creation to connect method.  Note
that the meaning of `active_connections` is changed from the previous
setkeepalive mechanism. The connection pool is destroyed only if all
related connections closed now.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
bjoe2k4,2018-10-16 14:03:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2fb8f120c3b3eefab196ff4245cf227ddcf3eac1,2fb8f120c3b3eefab196ff4245cf227ddcf3eac1,"feature: added support for the Nginx builtin Link header.

This allows for specifying multiple values in the Link header.

Co-authored-by: tokers <zchao1995@gmail.com>
Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
spacewander,2019-01-22 22:22:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/248060b81302431ccfbf8bcce999647814ecd2f6,248060b81302431ccfbf8bcce999647814ecd2f6,"feature: errors are now logged when timers fail to run.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
spacewander,2019-01-08 17:53:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7c2b58ee7e66689ef176b251d43bfc84f7db26c6,7c2b58ee7e66689ef176b251d43bfc84f7db26c6,"change: we now avoid running init_by_lua* in signaller processes and when testing the nginx configuration.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
thibaultcha,2019-01-07 18:59:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e76292dee587ecbc6eb21f5aa3377fe38468456c,e76292dee587ecbc6eb21f5aa3377fe38468456c,tests: reindexed the t/158-global-var.t suite.
spacewander,2018-12-28 11:19:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fbb89193002dabd82efd3db44271822ec06151c6,fbb89193002dabd82efd3db44271822ec06151c6,"change: we now avoid generating the Content-Type response header when getting all response headers.

The previous behavior assumed that nginx will always generate the
Content-Type header if it is missing. However in some cases (such as the
upstream response not having a Content-Type header), nginx will not
generate the Content-Type header itself.

Thus, generating the Content-Type when getting response headers
may create an unexpected Content-Type header in the response.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
spacewander,2019-01-04 05:24:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cec2a09defd155c81d9a90a0efc57cfb8d9f7743,cec2a09defd155c81d9a90a0efc57cfb8d9f7743,"bugfix: ensured Content-Type header gets generated when other headers get set.

Fixed a regression introduced in 017e004 and previously described
in https://github.com/openresty/lua-nginx-module/issues/92.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
thibaultcha,2019-01-04 01:54:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/637a4c645e931907d4537c4f323ba514613dccf4,637a4c645e931907d4537c4f323ba514613dccf4,doc: updated the copyright year to 2019.
spacewander,2018-11-13 11:16:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/017e00462ae1bea96f508365726f7cec3cbcc5ca,017e00462ae1bea96f508365726f7cec3cbcc5ca,"bugfix: we now avoid generating a Content-Type header when getting/setting other response headers.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
thibaultcha,2018-12-04 23:10:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ab2e2718bf5126bfcac87a6b086539e311967e6e,ab2e2718bf5126bfcac87a6b086539e311967e6e,tests: updated the test suite so that it can be run in parallel mode.
thibaultcha,2018-12-04 22:35:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5d924cc637e4fe54336741511903c1f635b4e3ba,5d924cc637e4fe54336741511903c1f635b4e3ba,"tests: require: hardened lua_path and lua_cpath regexes.

Those regexes used to not play nice with existing LUA_PATH and LUA_CPATH
environment variables, especially empty path segments ;; (which can happen
anywhere in those paths) or in cases where those variables are empty (in which
case ;; is left unchanged from the specified lua_package_*path).

We also made the regexes slightly more robust in other subtle ways."
thibaultcha,2018-12-03 22:57:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f63af5dc0e1d6f152673f73c778c4cb19a032a57,f63af5dc0e1d6f152673f73c778c4cb19a032a57,travis-ci: upgraded openssl to 1.0.2q and 1.1.0j.
thibaultcha,2018-12-03 22:56:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/11a31b5409079b0f4e3f81384f105e20722bc4dd,11a31b5409079b0f4e3f81384f105e20722bc4dd,tests: increased the timeouts of some ssl cosocket tests.
tokers,2018-11-28 19:02:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ec0d5768b25044cda99e35ce3413f82c21d4aac1,ec0d5768b25044cda99e35ce3413f82c21d4aac1,doc: noted that ngx.req.get_method can be used in the body_filter_by_lua* and log_by_lua* phases.
spacewander,2018-11-28 17:39:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/60225ad19f00d0259fe82981212ef87ee02d72f6,60225ad19f00d0259fe82981212ef87ee02d72f6,"bugfix: the lightuserdata mask was broken in WIN64.

In WIN64, the pointer type is 64 bits but the long type is 32 bits.
Since WIN64 only supports x64 and IA64, we could confirm that it doesn't
need the mask.

If we need the mask in the future, we might need to use a C compiler
which supports C99 (like MSVC 2013+ or any other modern C compiler) to build
the WIN64 version."
spacewander,2018-11-24 23:48:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b4ade78874437bc4bf0bb569c7e13ee4add05a46,b4ade78874437bc4bf0bb569c7e13ee4add05a46,"bugfix: we now only apply the lightuserdata mask on platforms that are at least 64bits.

Thanks Alec Muffett for the report."
thibaultcha,2018-11-14 00:29:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1c72f57ce87d4355d546a97c2bd8f5123a70db5c,1c72f57ce87d4355d546a97c2bd8f5123a70db5c,feature: added an FFI API for retrieving env 'directives' values.
thibaultcha,2018-11-13 02:49:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2f7c65009d95ca4a82e53688506c96a03f06bf27,2f7c65009d95ca4a82e53688506c96a03f06bf27,"feature: implemented a new 'lua_sa_restart' directive, which sets the SA_RESTART flag on nginx workers signal dispositions."
spacewander,2018-11-09 21:56:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c65f5738a21b57678dee18d2fcfed482e6a4681b,c65f5738a21b57678dee18d2fcfed482e6a4681b,bugfix: the 'dd' calls in ngx_http_lua_util.h are now guarded by '#ifdef DDEBUG' .
thibaultcha,2018-11-09 01:12:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3754757be7acd4d8118bbfa0d10a334e4f45875a,3754757be7acd4d8118bbfa0d10a334e4f45875a,change: we now print an alert when a non openresty-specific version of LuaJIT is detected since many optimizations would be missing.
thibaultcha,2018-11-08 22:06:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1a73e0ab79b11f297b8e9193eb0a91f90049ce64,1a73e0ab79b11f297b8e9193eb0a91f90049ce64,"doc: ported the Lua 5.1 interpreter removal to the wiki document.

This commit ports changes from 5efd95d793bad0587f75a7d0f701b76693c1311d
to the HttpLuaModule.wiki file, with a few minor edits. The wiki2markdown.pl
script was also run, and caught a few leftovers in the README.markdown
file."
spacewander,2018-11-06 19:49:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/08a9baa92b64ac06d2c82d1af25298fc36f46264,08a9baa92b64ac06d2c82d1af25298fc36f46264,bugfix: ngx.process: process.type() didn't return 'master' in master process.
thibaultcha,2018-11-04 19:53:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/09a365460684ea144a8abf52527431e0ec98763c,09a365460684ea144a8abf52527431e0ec98763c,"tests: declared many variables as local to avoid triggering the new _G write
guard."
agentzh,2018-11-01 23:01:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5efd95d793bad0587f75a7d0f701b76693c1311d,5efd95d793bad0587f75a7d0f701b76693c1311d,doc: updated the docs to reflect the change that we now no longer support the standard Lua 5.1 interpreter in this module. also recommended OpenResty's LuaJIT branch version instead of the stock LuaJIT.
thibaultcha,2018-10-29 22:48:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c9eca03ebb4a77bc0211b404c87c9ce3b01b3d3b,c9eca03ebb4a77bc0211b404c87c9ce3b01b3d3b,"misc: updated _G write guard message to be more accurate.

* more appropriate message (""writing"" instead of ""attempting to"")
* remove http/lua prefix (`ngx.log` will inject `[lua]` and `stream [lua]`
  already)
* remove unused cached global
* cache `tostring` global locally
* fix the error messages not printing rc and error string
* update the stacktrace level to '2'
* updated tests"
sbhr,2018-08-08 15:50:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/84338ab85ef0b7de44cfd1fd6e013b81147a34fe,84338ab85ef0b7de44cfd1fd6e013b81147a34fe,"typo: fixed a debug log in access and rewrite handlers.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
thibaultcha,2018-10-21 18:38:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ebfa66ceb7d872a10e5d2a0e0efdd58f94e27a46,ebfa66ceb7d872a10e5d2a0e0efdd58f94e27a46,"misc: rename a test file to be properly ordered.

Two commits introduced a test file numbered `157-*.t`. This commit
renames the most recent test file (from
7286812116940216344ade33722c49ae47037605) to `158-*.t`."
ghedo,2018-08-31 13:42:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d067594ca299ec00fcbfe98288844d3bf10e8064,d067594ca299ec00fcbfe98288844d3bf10e8064,"bugfix: silenced -Wcast-function-type warnings.

Cast to intermediate ""void *"" to lose compiler knowledge about the
original type and pass a gcc8 warning.

Signed-off-by: Thibault Charbonnier <thibaultcha@me.com>"
doujiang24,2017-07-26 07:51:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7286812116940216344ade33722c49ae47037605,7286812116940216344ade33722c49ae47037605,"feature: added support for ARM64 (Aarch64).

now we require OpenResty's LuaJIT branch to work properly on ARM64 since
we make use of the thread.exdata Lua API.

On architectures other than ARM64, the thread.exdata API also saves the
per-request global env table and closure objects for each light thread,
which gives a nice ~10% speedup for the simplest Lua handler location
loaded by wrk over HTTP 1.1.

We now use proper userdata instead of lightuserdata for the
ngx.shared.DICT Lua objects.

we also mask off the bits higher than 47-bit of lightuserdata keys based
on C static variable addresses.

We also implemented the pure C API for the ndk.* API (to be used in
lua-resty-core).

Thanks Dejiang Zhu and Zexuan Luo for the development work of this patch.

Thanks Cloudflare for sponsoring this work.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
doujiang24,2018-09-20 15:46:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f64ec8c9056437bb1b822fc4e99f05f784d36e32,f64ec8c9056437bb1b822fc4e99f05f784d36e32,"bugfix: tcpsock:setkeepalive: worker processes might take too long to gracefully shut down when the keep alive connections take a long max idle time.

Now we avoid putting any new connections into the pool when nginx is already
shutting down.

Signed-off-by: Yichun Zhang (agentzh) <yichun@openresty.com>"
dndx,2018-07-18 23:21:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e94f2e5d64daa45ff396e262d8dab8e56f5f10e0,e94f2e5d64daa45ff396e262d8dab8e56f5f10e0,"bugfix: fixed segfault in NGINX core >= 1.15.0 when init_worker_by_lua* is used.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
thibaultcha,2018-06-01 22:12:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/576a10d246daf81c0ce1b959c50ee807769c01a8,576a10d246daf81c0ce1b959c50ee807769c01a8,"doc: mention that ngx.req.set_body_data() and ngx.req.set_body_file() must read the request body.

This behavior was introduced in e37b58e372467ea5ca3161c5785f1c2c0d30d27f
but the documentation was left unchanged.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
thibaultcha,2018-04-23 23:08:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8ba33dac05584ca320df69459c2e9aabc8b28b47,8ba33dac05584ca320df69459c2e9aabc8b28b47,"optimize: removed a duplicated include directive in ngx_http_lua_regex.c.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
dndx,2018-05-24 20:15:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/55743aeba3075b34a250380b32bad6366eae6c30,55743aeba3075b34a250380b32bad6366eae6c30,"bugfix: when variable is cacheable and indexed, setting the request ""Host"" header should clear any existing cached $host variable value so that subsequent reads return the expected result.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
spacewander,2018-05-21 04:12:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/70b843f82581271c87535394d247033676a84270,70b843f82581271c87535394d247033676a84270,"tests: upgraded openssl version to 1.1.0h.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2018-05-20 21:57:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6bbfffdece622a4969ad1323c7cb53f023f2a12f,6bbfffdece622a4969ad1323c7cb53f023f2a12f,tests: we failed to enable master process when configuring multiple workers.
agentzh,2018-05-20 21:12:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9112536b153707c71da234d8d8f1d78156318337,9112536b153707c71da234d8d8f1d78156318337,api: bumped API version to 0.10.14.
spacewander,2018-05-17 13:12:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b5ffb11fe1cdedd9923cb4fe0211217fbc08b28a,b5ffb11fe1cdedd9923cb4fe0211217fbc08b28a,"feature: implemented the receiveany() upstream cosocket method.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
chronolaw,2018-04-20 03:08:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5a3c48d23c99a01088654bf32892de23594a35f9,5a3c48d23c99a01088654bf32892de23594a35f9,"doc: fixed the links to ssl_session_store_by_lua_block.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2018-04-25 20:08:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/15e93a11ed7c6531d9e6fd838a917485dda24486,15e93a11ed7c6531d9e6fd838a917485dda24486,restored the change in commit 4ff3dd14ed since it only changed the auto-generated README.markdown. alas.
agentzh,2018-04-22 18:41:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/612931c0f16b02fd3b1179267cffa6bd5be6d9cf,612931c0f16b02fd3b1179267cffa6bd5be6d9cf,doc: bumped version to 0.10.13.
agentzh,2018-04-20 06:59:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0605709c32ab61a277700ef6717b916626912a35,0605709c32ab61a277700ef6717b916626912a35,bugfix: fixed compatibility regressions on Win32. this regression had appeared in commit 012f3163e.
agentzh,2018-04-21 00:17:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f341daa2696d84a2267c62f05bf30b90aa7a3da6,f341daa2696d84a2267c62f05bf30b90aa7a3da6,api: bumped API version to 1.10.13.
agentzh,2018-04-20 21:07:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/52af63a5b949d6da2289e2de3fb839e2aba4cbfd,52af63a5b949d6da2289e2de3fb839e2aba4cbfd,"feature: ngx.req.get_post_args(), ngx.req.get_uri_args(), ngx.req.get_headers(), ngx.resp.get_headers(), and ngx.decode_args() now would return an error string, ""truncated"", when the input exceeds the max_args/max_headers limits.

bugfix: ngx.resp.get_headers(): the max_headers limit did not cover builtin headers."
agentzh,2018-04-20 23:47:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/19cc6bf8f5ac93c8a1215312a4fbbc0362af8950,19cc6bf8f5ac93c8a1215312a4fbbc0362af8950,tests: fixed a test case that cannot be run in parallel test jobs.
chronolaw,2018-04-19 09:52:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4ff3dd14ed31a030668f2c8df5d5525fab6ccfb1,4ff3dd14ed31a030668f2c8df5d5525fab6ccfb1,"doc: fix the link to ngx.ocsp's docs.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2018-04-19 19:33:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/288ebdb93f149129f589e7cafdc0b5326f4a1b1b,288ebdb93f149129f589e7cafdc0b5326f4a1b1b,doc: bumped version to 0.10.12.
thibaultcha,2018-01-11 03:45:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/91a0ad236c9661f38b78cdc99e05025f7ce5cccb,91a0ad236c9661f38b78cdc99e05025f7ce5cccb,"optimize: switched exptime argument type to 'long' in the shdict FFI API to mitigate potential overflows.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
spacewander,2018-03-27 05:13:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5196e65519b1c353f81f116e197ea94bd71c3ca1,5196e65519b1c353f81f116e197ea94bd71c3ca1,"tests: remove google.com relevant ssl certificate test cases.

We could not control Google's certificate, and Google don't promise
their root certificate won't change, see https://pki.google.com/faq.html.

> Q: What roots should we trust for connecting to Google?
> A: Google may decide to have its intermediate signed by another root at any
point in time, ...

Because in TEST 8 we already tested passing verify case with
openresty.org, here I remove TEST 11 and change TEST 12 to test with
openresty.org.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2018-03-27 03:04:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9ea1c06a64b2b447c609c0b4473977685792f53e,9ea1c06a64b2b447c609c0b4473977685792f53e,"feature: ngx_http_lua_ffi_set_resp_header(): now add an override flag argument to control whether to override existing resp headers.

this feature is required by the new ngx.resp module's add_header() Lua API (in lua-resty-core).

thanks spacewander for the patch.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
spacewander,2018-03-09 07:59:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/53519cd7acc57793562bfb4527d347000a305756,53519cd7acc57793562bfb4527d347000a305756,"feature: allowed sending boolean and nil values in cosockets.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
spacewander,2018-03-21 05:56:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6d4475ae3e088cc7bff76c6492b90b7bc39af173,6d4475ae3e088cc7bff76c6492b90b7bc39af173,"tests: increased timeouts to avoid failing in mockagain writing test mode.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
spacewander,2018-03-09 08:00:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/809192c96cce68023ffd365363d064ee13f68600,809192c96cce68023ffd365363d064ee13f68600,"feature: api.h: exposed the ngx_http_lua_ffi_str_t type for other Nginx C modules.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
spacewander,2018-02-28 04:03:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/23e69fb200149b92f9baec7773fa2980df86d40c,23e69fb200149b92f9baec7773fa2980df86d40c,"bugfix: ngx_http_lua_ffi_ssl_set_serialized_session(): avoided memory leak when calling it repeatly.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
spacewander,2018-02-04 11:23:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5cd103b1f6a71c90a72f76013d52dfb51a27ef74,5cd103b1f6a71c90a72f76013d52dfb51a27ef74,"optimize: avoided the string copy in ngx_http_lua_ffi_req_get_method_name().

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
tmthrgd,2018-02-20 03:37:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/439a02ab999bfa369465cd1bb02d14c573a8e4c1,439a02ab999bfa369465cd1bb02d14c573a8e4c1,"typo: fixed an error message typo in set_der_priv_key().

The error string set in ngx_http_lua_ffi_ssl_set_der_private_key for SSL_use_PrivateKey failure has a typo.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
tmthrgd,2018-02-21 02:45:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bb76eb123b4a80324e527062d71fe9d3f4c86d25,bb76eb123b4a80324e527062d71fe9d3f4c86d25,"change: switched to SSL_version() calls from TLS1_get_version().

TLS1_get_version is a simple wrapper for SSL_version that returns 0
when used with DTLS. However, it was removed from BoringSSL in 2015
so instead use SSL_version directly. Note: BoringSSL is never an
officially supported target for this module.

ngx_http_lua_ffi_ssl_get_tls1_version can never be reached with DTLS
so the behaviour is the same.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2018-02-25 21:30:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/feae6e775339c427d665cd60483b0d4526482015,feae6e775339c427d665cd60483b0d4526482015,doc: mentioned that OpenResty includes its own version of LuaJIT which is specifically optmized and enhanced for OpenResty.
hongliang5316,2018-02-16 06:41:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3cde1d8aa1887e8b76356013a24a7602440d283e,3cde1d8aa1887e8b76356013a24a7602440d283e,"doc: fixed some code comment typo.

Signed-off-by: hongliang <513918845@qq.com>
Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
mclyne,2018-01-27 23:13:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a698cb0989b34c1e05cd6af5c0d6d9dbe56edd6b,a698cb0989b34c1e05cd6af5c0d6d9dbe56edd6b,"doc: updated the NDK repo URL to github.com/simplresty.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2018-01-26 00:23:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3078ca6138121a98e22104b9f7015b31d312861b,3078ca6138121a98e22104b9f7015b31d312861b,bugfix: we now throw a Lua exception when ngx.location.capture* Lua API is used inside an HTTP2 request since it is known to lead to hanging.
spacewander,2018-01-22 06:50:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/df1b0198ff0262c755029738058f5917a11a398a,df1b0198ff0262c755029738058f5917a11a398a,"optimize: corrected the initial table size of req socket objects.

The req socket uses two slots in array and three slots in hash at most.

At first it uses one array slot and one hash slot:
array part: upstream udata
hash part: __index

After calling settimeouts, it uses two array slots and three hash slots:

array part:
    [1] upstream udata
    [2] connect timeout
hash part:
    __index
    [4] send timeout
    [5] read timeout

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
spacewander,2018-01-21 12:28:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/988756924be5b2e013831d9f9d6affdec924f8f5,988756924be5b2e013831d9f9d6affdec924f8f5,"tests: removed duplicate entries in valgrind.supress.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2018-01-21 00:25:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/00b92b3d0052797ee8c3e20f11dbd748e794b294,00b92b3d0052797ee8c3e20f11dbd748e794b294,style: fixed minor coding style issues found by ngx-releng.
ghedo,2018-01-08 17:08:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fcd0deafff34ebae1fbe16b5e653d0fe6ec57851,fcd0deafff34ebae1fbe16b5e653d0fe6ec57851,"ssl: support enabling TLSv1.3 via lua_ssl_protocols.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2018-01-19 19:46:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9e5cc6e239bacfbc5c65541bf176323f4f84afbb,9e5cc6e239bacfbc5c65541bf176323f4f84afbb,bugfix: nginx rewrite directive may initiate internal redirects without clearing any module ctx and rewrite_by_lua* handlers might think it was re-entered and thus it might lead to request hang. thanks twistedfall for the report in #1235.
thibaultcha,2018-01-11 04:12:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/90d7522342e78ecb1f1ea2b5d066ade404a48b24,90d7522342e78ecb1f1ea2b5d066ade404a48b24,"doc: added the new 'init_ttl' argument to the shdict:incr() documentation.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2018-01-16 02:34:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a46862afec27eed971570732613bd4db1f86e8a9,a46862afec27eed971570732613bd4db1f86e8a9,doc: updated the copyright years in markdown as well.
spacewander,2018-01-11 11:35:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/11aa4636bad3c32158d1f330a0d011f59fe14e15,11aa4636bad3c32158d1f330a0d011f59fe14e15,"bugfix: avoided sharing the same code object for identical Lua inlined code chunks in different phases due to chunk name conflicts.

thanks yandongxiao for the report in #1232.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2018-01-16 01:44:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e343b3a14e77efa9bc92288d02511c78450e1143,e343b3a14e77efa9bc92288d02511c78450e1143,tests: updated valgrind.suppress for latest glibc.
agentzh,2018-01-15 19:44:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c2b6ae2ae3e0ce5b74bf0f659d1ae62635b79935,c2b6ae2ae3e0ce5b74bf0f659d1ae62635b79935,doc: updated the copyright years.
agentzh,2018-01-12 22:16:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d125123f8be3db55ab57bf0206ad086c9ff43934,d125123f8be3db55ab57bf0206ad086c9ff43934,tests: updated more uses of the server IP addr for agentzh.org to reflect recent changes.
yandongxiao,2018-01-11 10:24:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/051f35240c2c05bcc434700b6f2c206986918439,051f35240c2c05bcc434700b6f2c206986918439,"doc: setting ngx.header.HEADER no longer throws out an exception when the header is already sent out; it now just logs an error message.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2018-01-12 21:04:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9a3bbb6f2d00a7ffce4bfc74b5103d8aac715f79,9a3bbb6f2d00a7ffce4bfc74b5103d8aac715f79,tests: updated the server IP for agentzh.org to reflect recent changes.
yandongxiao,2018-01-11 04:08:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/071bb0ff641c495c69bbbe9ba8e17becf6f03d12,071bb0ff641c495c69bbbe9ba8e17becf6f03d12,"doc: typo fix: fix core constants ""NGX_XX"" to ""ngx.XX""."
thibaultcha,2018-01-08 23:11:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/468403e37129632c50bdf7560f09930f593cbb00,468403e37129632c50bdf7560f09930f593cbb00,"feature: added the ""init_ttl"" argument to the pure C function for the shdict:incr() API.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
spacewander,2018-01-08 14:57:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5f6e74061126ba0cfcb53d1ae1366c07e99275cf,5f6e74061126ba0cfcb53d1ae1366c07e99275cf,"feature: added pure C APIs for the remaining time related Lua APIs (for lua-resyt-core).

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
yandongxiao,2018-01-09 09:52:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6d0ecd617a13f7b801f1a95cc53939c8ad78c06a,6d0ecd617a13f7b801f1a95cc53939c8ad78c06a,"doc: typo fix: fix ""\d+"" to [[\d+]].

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
spacewander,2018-01-08 02:40:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cf5fb98239ffe87f41c0a046f8e19173569c5e3e,cf5fb98239ffe87f41c0a046f8e19173569c5e3e,"tests: corrected the No SNI, No verify case in 129-ssl-socket.t.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
chipitsine,2018-01-07 17:18:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/01b3145227cb8f0c6239cdcb11fe0a365740acb2,01b3145227cb8f0c6239cdcb11fe0a365740acb2,"travis-ci: enabled openssl-1.1.0g builds.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2018-01-07 19:05:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7c8c503001585a3014858957356d5f7d620ee243,7c8c503001585a3014858957356d5f7d620ee243,bugfix: fixed compatibility with older OpenSSL versions like 0.9.8 and 0.9.7. this regression had appeared in commit 7f108923b.
agentzh,2018-01-06 01:28:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/858753bb0dfc191a3a200b41ed2a4f14cc7c829e,858753bb0dfc191a3a200b41ed2a4f14cc7c829e,travis: upgraded pcre to 8.41 and openssl to 1.0.2n.
ghedo,2016-09-13 21:31:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7f108923b01e32718b98f37ef824f1383de5c49c,7f108923b01e32718b98f37ef824f1383de5c49c,"feature: added support for OpenSSL 1.1.0.

thanks polishment work from Dejiang Zhu and Zexuan Luo.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
rainingmaster,2018-01-04 08:33:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e51a4739a62efa35c7e136f83fbc426a0f0d37cf,e51a4739a62efa35c7e136f83fbc426a0f0d37cf,"doc: typo fix: fix constrolled to controlled.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
tokers,2017-12-04 03:52:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/34d9298577d706543560f432bb203e482f7f176c,34d9298577d706543560f432bb203e482f7f176c,"bugfix: ngx.req.raw_header(): the first part of the header would be discarded when using single LF as delimiter and the number of headers is large enough.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2018-01-02 23:11:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c2f68a48ee0f07bbb1e7589aeba592d84a23916f,c2f68a48ee0f07bbb1e7589aeba592d84a23916f,style: minor coding style fixes suggested by our ngx-releng tool.
thibaultcha,2017-07-09 00:24:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/99a5ba2126879d2b7f98029f220212bbc8319e8e,99a5ba2126879d2b7f98029f220212bbc8319e8e,"feature: added a pure C API function ngx_http_lua_ffi_raw_log for ngx.errlog module's rawlog() function in the lua-resty-core library.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
chronolaw,2017-12-27 08:04:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/51b7d649aaad3a8d2f08f2818f2679e47e3c87f9,51b7d649aaad3a8d2f08f2818f2679e47e3c87f9,"feature: added pure C API function ngx_http_lua_ffi_master_pid() for the get_master_pid() Lua FFI API in ngx.process of lua-resty-core.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
p0pr0ck5,2017-01-05 03:16:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/20ffd853ebd008b7d0396f3474c1856692f8beda,20ffd853ebd008b7d0396f3474c1856692f8beda,"feature: implemented pure C function for the pure FFI version of the ngx.get_phase() API function in lua-resty-core.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
dndx,2017-12-15 22:49:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b1b1504ac449255386c853a9ba5679f807a3fa2c,b1b1504ac449255386c853a9ba5679f807a3fa2c,"tests: fixed broken SSL tests due to switch in CA for openresty.org.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
spacewander,2017-12-16 05:40:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d6aa6ea1c776108d1d1af9eb2c9a1871c5994288,d6aa6ea1c776108d1d1af9eb2c9a1871c5994288,"tests: fixed typos in test tiles in t/124-init-worker.t.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
spacewander,2017-12-01 16:05:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/18b5de576c13ed19f88ad3844c36776f23fbb61f,18b5de576c13ed19f88ad3844c36776f23fbb61f,"bugfix: the upper bound of port ranges should be 65535 instead of 65536.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-11-29 00:23:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9de3dc7ef21d646638164769972eca2fb01cb066,9de3dc7ef21d646638164769972eca2fb01cb066,tests: updated the expected debugging log message for freeing cosocket connection pools.
wangjunwei87,2017-08-23 06:14:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/de3b7def1b3a7575cee3497855478d97c39574da,de3b7def1b3a7575cee3497855478d97c39574da,"feature: added pure C API for fetching client address in the SSL handshake phase.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
spacewander,2017-11-25 02:58:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4577a6fbc87f905017dd18fd9c5e7b7cf87b78ef,4577a6fbc87f905017dd18fd9c5e7b7cf87b78ef,"bugfix: freed all connections when cleaning up socket pools.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-11-23 19:55:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4e1a9e1d4f8ed1227f28b9dc24e291a9a149ca17,4e1a9e1d4f8ed1227f28b9dc24e291a9a149ca17,tests: relaxed the checks to account for timing races in error logs from multiple cache helper processes.
agentzh,2017-11-23 19:13:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9279612507be0e45565283edc9f6157420a2e492,9279612507be0e45565283edc9f6157420a2e492,bugfix: use of lua-resty-core's ngx.re API in init_by_lua* might lead to memory issues during nginx HUP reload when no lua_shared_dict directives are used and the regex cache is enabled.
spacewander,2017-11-12 12:19:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/012f3163eb67bad2f664b459285913ea5afd6449,012f3163eb67bad2f664b459285913ea5afd6449,"optimize: destroy the Lua VM and avoid running any init_worker_by_lua* code inside cache helper processes.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-11-16 21:01:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7c7b2e0b1100cd96877c2d1612b572a651b91ae9,7c7b2e0b1100cd96877c2d1612b572a651b91ae9,api: bumped version to 0.10.12.
agentzh,2017-11-16 20:05:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/91d2cd61a7ae1187bf2b1508f8d169585ce8acac,91d2cd61a7ae1187bf2b1508f8d169585ce8acac,"bugfix: fixed a compilation error with nginx cores older than 1.11.2 due the lack of the ngx_inet_get_port() C API function (which was first added to nginx 1.11.2). thanks sumantdas for the report.

this regression first appeared in the previous commit."
spacewander,2017-11-14 06:34:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4f76a377ed277832068bf2da78f184c977b35ac1,4f76a377ed277832068bf2da78f184c977b35ac1,"feature: logged the tcp cosocket's remote end address when connect() times out and lua_socket_log_errors is on.

This feature makes debug connect timeout errors easier, since domain
name may map to different ip address in different time.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-11-15 19:23:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/54135a03ef6eff618e7227dc53138f49e75a408f,54135a03ef6eff618e7227dc53138f49e75a408f,travis: always find out the external IP address of the current travis ci node to help debugging network issues.
agentzh,2017-11-07 23:16:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b2aae31a85be4b51469ae8f7a128743e6e633b05,b2aae31a85be4b51469ae8f7a128743e6e633b05,tests: use larger timeout threshold values for more openresty.org ssl tests.
agentzh,2017-11-07 19:59:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3eb1d2f64fc4858b7571679ebd2b21219375242f,3eb1d2f64fc4858b7571679ebd2b21219375242f,tests: use longer timeout threshold.
agentzh,2017-11-03 23:04:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8af77d3ca7c307562afdd57cb1f3e366cce434e4,8af77d3ca7c307562afdd57cb1f3e366cce434e4,doc: we should also work with nginx 1.12.x.
agentzh,2017-11-03 22:43:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ba2b60593010ad5d552a84f3c3ad3352f232d63d,ba2b60593010ad5d552a84f3c3ad3352f232d63d,doc: we now work with nginx cores as new as 1.13.6.
agentzh,2017-11-03 22:41:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ed2c9f8e4d87f14de48adcfbd2c85b478363df08,ed2c9f8e4d87f14de48adcfbd2c85b478363df08,release 0.10.11.
agentzh,2017-10-29 18:20:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c6089171dea9bd86c313fdb727d5b5be383b0b9d,c6089171dea9bd86c313fdb727d5b5be383b0b9d,"tests: added full GC cycle operations to avoid false positives in the ""check leak"" test mode."
agentzh,2017-10-28 04:49:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4b871b45e8267a266585575a42b2b2977ff272ca,4b871b45e8267a266585575a42b2b2977ff272ca,tests: made one stap-based test case less possible to fail due to timing error.
agentzh,2017-10-28 04:37:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/38780280c0b0194b8fb822ec666de1f0432b5797,38780280c0b0194b8fb822ec666de1f0432b5797,updated valgrind suppressions for the hv test mode.
agentzh,2017-10-27 20:53:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5f766faf09fc67914f4896663cea80d994c64be9,5f766faf09fc67914f4896663cea80d994c64be9,tests: added new valgrind false positives in the latest nginx core.
agentzh,2017-10-27 20:13:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd5201c5713f4c219268235b917261c78087ef3d,fd5201c5713f4c219268235b917261c78087ef3d,tests: valgrind.suppress: removed too aggressive suppressions in nginx mem pools and luajit lj_str_new.
agentzh,2017-10-26 17:50:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/201f7c051c54396095efbf8969cbce03e79588fc,201f7c051c54396095efbf8969cbce03e79588fc,travis: bumped nginx core version to 1.13.6.
agentzh,2017-10-26 04:57:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7730490c1e98a5867da77dc72814fc896000a769,7730490c1e98a5867da77dc72814fc896000a769,dev: util/build.sh: now we require ngx_stream_lua_module to build (for testing and development).
spacewander,2017-10-21 16:20:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/56d3098816fedce98c2a22cf3e83792c1b151d7a,56d3098816fedce98c2a22cf3e83792c1b151d7a,"bugfix: add fallthrough comment to silence GCC 7's -Wimplicit-fallthrough.

thanks Andriy Kornatskyy for the report in #1171.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
dndx,2017-10-24 08:49:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5900df4a6d212cdfd5962286e9018996d697aa7d,5900df4a6d212cdfd5962286e9018996d697aa7d,"doc: added ""413 Request Entity Too Large"" to the possible short circuit response list.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
hnakamur,2017-10-07 23:28:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8dd4bdef6f78495bdc1a7cce92eed494a70cc0af,8dd4bdef6f78495bdc1a7cce92eed494a70cc0af,"doc: fixed strike-through in shdict.free_space.

Signed-off-by: Hiroaki Nakamura <hnakamur@gmail.com>
Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
hnakamur,2017-08-30 23:56:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f829065b794025c856c9f86d469395e464e782ed,f829065b794025c856c9f86d469395e464e782ed,"feature: shdict: added pure C API for getting free page size and total capacity for lua-resty-core.

Signed-off-by: Hiroaki Nakamura <hnakamur@gmail.com>
Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-10-03 02:27:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/59dff5eec3afd87f02d426a74545bfa35b6e242f,59dff5eec3afd87f02d426a74545bfa35b6e242f,tests: suppressed one more false positive.
agentzh,2017-09-26 18:08:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/97fbeb0bef1aa85e758210d58063376de8eaed31,97fbeb0bef1aa85e758210d58063376de8eaed31,bugfix: the ssl connections might be drained and reused prematurely when ssl_certificate_by_lua* or ssl_session_fetch_by_lua* were used. this might lead to segmentation faults under load. thanks guanglinlv for the report and the original patch in #1162.
agentzh,2017-09-25 05:57:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bf14723e4e7749c989134c029742185db1c78255,bf14723e4e7749c989134c029742185db1c78255,tests: fixed a test case that might fail due to timing errors.
agentzh,2017-09-24 20:31:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0c8df2fa694e772538bb9c9123446d9aa8acaf59,0c8df2fa694e772538bb9c9123446d9aa8acaf59,"Revert ""tests: try to make a test case less possible to fail on slow machines.""

This reverts commit e5d7fc9fd52a9655831c7c41879f89fd38e1b203."
agentzh,2017-09-23 23:41:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e5d7fc9fd52a9655831c7c41879f89fd38e1b203,e5d7fc9fd52a9655831c7c41879f89fd38e1b203,tests: try to make a test case less possible to fail on slow machines.
agentzh,2017-09-23 23:41:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/93d1f30c3f04edf7d84fad22a76be900841915d4,93d1f30c3f04edf7d84fad22a76be900841915d4,bugfix: a followup fix for the previous commit.
agentzh,2017-09-23 23:14:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/afbfe4cf747d850a17b839242d353f043113cf2f,afbfe4cf747d850a17b839242d353f043113cf2f,bugfix: the timeout overflow checks did not work on 32-bit systems.
agentzh,2017-09-23 19:58:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/aee660bdf90ef7d86b03d1cbe44c4fa8aa57c2c0,aee660bdf90ef7d86b03d1cbe44c4fa8aa57c2c0,"bugfix: suppressed the gcc warning ""comparison between signed and unsigned integer expressions""."
agentzh,2017-09-23 01:40:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4bbf39928cd070d81f349f78a718b0f5b3893711,4bbf39928cd070d81f349f78a718b0f5b3893711,travis-ci: fixed the IPC::Run dep for Test::Nginx and also added nginx 1.13.5 to the matrix.
agentzh,2017-09-21 23:04:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3266b40c7c7a20ff81f8f2d0a2e0e514d0c7e949,3266b40c7c7a20ff81f8f2d0a2e0e514d0c7e949,doc: typo fix from dongbeiouba in #1158.
thibaultcha,2017-09-21 02:58:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1d01a6d662b1eafbb2df247c0e842f66f1b1be59,1d01a6d662b1eafbb2df247c0e842f66f1b1be59,"doc: documented the shdict:ttl() and shdict:expire() API functions.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-09-21 22:54:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/37cbafe4ebdbe91611bfda4452d3af3323b8d787,37cbafe4ebdbe91611bfda4452d3af3323b8d787,tests: minor tweaks for the http2 test mode.
thibaultcha,2017-08-31 00:39:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9a81a68641514f4ca12412ba145fa908ae9b2973,9a81a68641514f4ca12412ba145fa908ae9b2973,"feature: added pure C functions for shdict:ttl() and shdict:expire() API functions.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-09-20 01:39:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c338c7b3fd34dd20ce9f5a27856bf68c471db4b1,c338c7b3fd34dd20ce9f5a27856bf68c471db4b1,api: bumped version to 0.10.11.
agentzh,2017-09-20 01:37:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ac7615a2863f19244d483501421cfbac40eaa55a,ac7615a2863f19244d483501421cfbac40eaa55a,dev: util/build.sh: specify --with-pcre-jit for the nginx build.
agentzh,2017-09-19 19:05:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/837cecb647a6fd2e2e09599a4b18861845eeff29,837cecb647a6fd2e2e09599a4b18861845eeff29,tests: fixed ssl ciphers to reflect recent changes in openresty.org's mini CDN network.
lonerr,2017-09-19 15:00:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1626aaa782d43314c0be5d1909ce109de265bfbb,1626aaa782d43314c0be5d1909ce109de265bfbb,"bugfix: *_by_lua_block might break nginx config dump (-T switch).

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-09-13 18:48:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c97473b5e66fdfa118b91e428dd8a0417ce81f8c,c97473b5e66fdfa118b91e428dd8a0417ce81f8c,bugfix: segmentation faults might happen when pipelined http requests are used in the downsteram connection. thanks Gao Yan for the report.
spacewander,2017-08-22 03:40:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/77a285163689835d6a6680e345af1a4ada2d12c8,77a285163689835d6a6680e345af1a4ada2d12c8,"bugfix: tcpsock: settimeout/settimeouts: throw an error when the timeout argument values overflow.

Here we only support timeout not greater than max value of a 32 bits integer
to avoid overflow. Supporting too large timeout values doesn't make sense anyway.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-08-18 19:23:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3fc5aea08f1ed6c7af2f7b9bc9f4058855a32af6,3fc5aea08f1ed6c7af2f7b9bc9f4058855a32af6,doc: simplified a Lua function call a bit.
agentzh,2017-08-18 19:21:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/aee499ac21f68d449c2eebbe78204d8fff419fe0,aee499ac21f68d449c2eebbe78204d8fff419fe0,doc: minor fixes.
agentzh,2017-08-18 19:19:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e96aec767d32a691fa91cdcf993fe5998a85714e,e96aec767d32a691fa91cdcf993fe5998a85714e,doc: fixed the stale Lua module preloading docs as reminded by Denis.
agentzh,2017-08-10 19:13:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b87ad242dc9e50439393c5aa2d219433be9be421,b87ad242dc9e50439393c5aa2d219433be9be421,tests: skipped a test case which is known to leak memory when lua_code_cache is off.
agentzh,2017-08-10 19:11:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e9609d25cb72eda55398d5552d1cef2084138f97,e9609d25cb72eda55398d5552d1cef2084138f97,valgrind: suppressed a known false positive inside the nginx core.
agentzh,2017-08-09 02:51:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cdd2ae921f67bf396c743406493127be496e57ce,cdd2ae921f67bf396c743406493127be496e57ce,bumped version to 0.10.10.
agentzh,2017-08-09 02:44:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7b7178a958f33eb5086a4e66c18f13e68a39c859,7b7178a958f33eb5086a4e66c18f13e68a39c859,bugfix: fixed a compilation error on Windows. this regression had appeaered in 0.10.9.
agentzh,2017-08-08 19:25:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/89de7802227fd97005cb03b5d1fc38b809093b70,89de7802227fd97005cb03b5d1fc38b809093b70,doc: bumped version to 0.10.9.
agentzh,2017-08-07 02:48:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/82b21887127765b43991f0356cccb12882cfbf73,82b21887127765b43991f0356cccb12882cfbf73,tests: made 2 test cases less possible to fail on slower machines.
spacewander,2017-07-31 01:57:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/691370ec274f5e94a095eae0298096a66b04d983,691370ec274f5e94a095eae0298096a66b04d983,"Revert ""bugfix: ngx.escape_uri: we did not escape URI reserved chars. #1124""

Commit f170505186ff61af36b3e126772b671793af9428 breaks the compatibility
with RFC 3986. Here is two reasons:
1. Quote from RFC 3986 Section 2.2:
> A subset of the reserved characters (gen-delims) is used as
delimiters of the generic URI components described in Section 3

Note that RFC 3986 says 'a subset of the reserved characters
(gen-delims)', not all the reserved characters. The characters escaped
in that commit are 'sub-delims'. They are not required to be escaped
according to Section 2.2.

2. Refer to RFC 3986 ""Appendix A.  Collected ABNF for URI"", sub-delims
could be used as part of query and other components. This use case shows
that sub-delims are valid in some component of URI. Therefore, it would
be better if we don't escape them for URI component.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
moonming,2017-07-19 03:28:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0f0af5094880f94ff4d2185576c1385981a49750,0f0af5094880f94ff4d2185576c1385981a49750,"doc: fixed a typo in a code example for `ngx.re.match`.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-07-17 23:10:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/51c14a898138b9d734e7a908b5ca2937cc2cccf1,51c14a898138b9d734e7a908b5ca2937cc2cccf1,bugfix: segmentation fault might happen when a stale read event happens after the downstream cosocket object is closed. thanks Dejiang Zhu for the report.
agentzh,2017-07-17 23:08:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2fd469d468c6b1cdb1561557a0967f6c9b3e8f0c,2fd469d468c6b1cdb1561557a0967f6c9b3e8f0c,refactor: removed the duplicate C function decelaration for ngx_http_lua_socket_read_handler.
spacewander,2017-07-17 02:34:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c26854856a84e2a8da8178687f2b572f54dc9bdf,c26854856a84e2a8da8178687f2b572f54dc9bdf,"tests: added a test case to make sure $proxy_add_x_forwarded_for is accessible on the Lua land.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-07-17 03:51:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1e71ff2cbac1fe7115fdee6634fbdcfb35341216,1e71ff2cbac1fe7115fdee6634fbdcfb35341216,tests: fixed the vim mode line in a test file.
membphis,2017-07-10 04:01:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a5094766702d97ab43c742f26d6d55098aa1b1f0,a5094766702d97ab43c742f26d6d55098aa1b1f0,"bugfix: ngx.semaphore: when nginx workers exit, the harmless error message ""semaphore gc wait queue is not empty"" might be logged.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-07-10 17:22:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cc0a793a27af48a364b951a374716b8cd5221487,cc0a793a27af48a364b951a374716b8cd5221487,"ocsp: removed a useless line of code, which unbreak the libressl build. thanks Kyra Zimmer for the original patch."
agentzh,2017-07-06 01:42:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ef4a0b1db5b32f7ebf3004ca353b06825c2995ab,ef4a0b1db5b32f7ebf3004ca353b06825c2995ab,"tests: skipped the test case for lua_code_cache off + ngx.timer.every in the ""check leak"" test mode since there is a known memory leak in this case."
skyever,2017-06-29 07:39:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/720bd5dbb9b20cef4f5f2e183d6c50698f87feef,720bd5dbb9b20cef4f5f2e183d6c50698f87feef,"bugfix: the fake requests/connections might leak when memory allocations fail.

as discussed in #1098.

Signed-off-by: skyever <i@kill9.cn>
Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-07-04 18:35:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c372e1cc0ae2ed497d72d907b7c5f185afcf32e9,c372e1cc0ae2ed497d72d907b7c5f185afcf32e9,optimize: made ngx_http_lua_log_ringbuf_header_t have the same size on linux i386 and x64.
agentzh,2017-07-04 18:33:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/67664fef0937268e509a7bfc542bb0912064aa31,67664fef0937268e509a7bfc542bb0912064aa31,minor coding style fixes.
agentzh,2017-07-04 18:12:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e84d69b269f4645dbe17b1780ef10c752ea4c51d,e84d69b269f4645dbe17b1780ef10c752ea4c51d,tests: made a slow test less possible to time out on slow machines.
agentzh,2017-07-04 17:56:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/81b8e4823d22686810355977e6ab70264fc08648,81b8e4823d22686810355977e6ab70264fc08648,tests: made a test less possible to fail due to timing error.
agentzh,2017-07-04 17:50:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4527ec0bb8a24f48e297601396f2834ce91782bf,4527ec0bb8a24f48e297601396f2834ce91782bf,tests: relaxed the expected ouptut constraint in tests for testing ssl host name mismatch.
agentzh,2017-07-04 06:39:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8827a7f8332b9556c04fe91153ba55d677489907,8827a7f8332b9556c04fe91153ba55d677489907,bugfix: segmentation fault would occur when several server {} blocks listen on the same port or unix domain socket file path *and* some of them are using ssl_certificate_by_lua* configurations while some are not. thanks petrovich-ua for the report and original patch in #1055.
agentzh,2017-07-04 05:47:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bb30f6d8b6cd022f7acb55c806067025dd1f65d5,bb30f6d8b6cd022f7acb55c806067025dd1f65d5,"bugfix: ngx.escape_uri() did not escape ""|"", "","", ""$"", ""@"", and ""`""."
goecho,2015-08-05 07:44:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3294b1dfd0e67a3f8194c36225d109114bc11763,3294b1dfd0e67a3f8194c36225d109114bc11763,"bugfix: ngx.encode_args() did not escape ""|"", "","", ""$"", ""@"", and ""`"".

now it is now consistent with what Google Chrome's JavaScript API function
encodeURIComponent() does. See: https://tools.ietf.org/html/rfc2396.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
pracj3am,2017-06-27 17:42:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/66f073128119ba1f1dae1132d72d2d613f94bd84,66f073128119ba1f1dae1132d72d2d613f94bd84,"bugfix: fixed several bugs in ngx_http_lua_log_ringbuf.c.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
dndx,2017-06-24 02:07:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/20d6558b074f1bda3584827412f2e364aeb00b0f,20d6558b074f1bda3584827412f2e364aeb00b0f,"feature: balancer_by_lua*: now the user Lua code can terminate the current request with arbitrary HTTP response status codes via ngx.exit().

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
membphis,2017-06-26 21:57:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/df708216cf71082e94a96792306c8cc9d0105e68,df708216cf71082e94a96792306c8cc9d0105e68,"feature: errlog capture: now we also record the UNIX timestamp (in sec with msec precision through the decimal part) for each error log entry.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-06-26 21:46:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/031e0000429e18d3220c0d530fa03b9ba20d9489,031e0000429e18d3220c0d530fa03b9ba20d9489,doc: use the .ljbc file extension instead of .luac for LuaJIT bytecode files.
agentzh,2017-06-26 19:12:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9cb970978cd9a023606404987075ce671dd28d84,9cb970978cd9a023606404987075ce671dd28d84,tests: updated tests on ssl cosockets to reflect recent changes in our CDN network.
agentzh,2017-06-20 19:43:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6f49242a8feeccecfed33b1225a9b2dc0ff16177,6f49242a8feeccecfed33b1225a9b2dc0ff16177,fixed tests to reflect recent changes.
spacewander,2017-06-14 07:19:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2360565f5fbc9c73ae6c02b8eca4f60a9af05191,2360565f5fbc9c73ae6c02b8eca4f60a9af05191,"doc: fixed some typos detected by misspell.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
guanglinlv,2017-06-04 14:59:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/69d995513b17df9ebb09dd4ea6656e1f78b28a34,69d995513b17df9ebb09dd4ea6656e1f78b28a34,"bugfix: the running timer counter might go out of sync when non-timer handlers using fake requests are involved (like ssl_certficate_by_lua* and ssl_session_fetch_by_lua*).

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
spacewander,2017-05-31 01:54:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7a8798437abf3b36a67c280828354e9b759ad7e8,7a8798437abf3b36a67c280828354e9b759ad7e8,"feature: added pure C API function +ngx_http_lua_ffi_errlog_get_sys_filter_level for ngx.errlog module's get_sys_filter_level() function in the lua-resty-core library.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-05-24 05:23:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e80d2925717d57dffadff3b5ec76519467e7494b,e80d2925717d57dffadff3b5ec76519467e7494b,tests: ssl: avoided those domains using startcom ssl certificates.
agentzh,2017-05-22 18:29:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/993aec8eb4e60320c47b5bcfac722339f481a301,993aec8eb4e60320c47b5bcfac722339f481a301,refactor: removed the obsolete util/gdbinit script script. we have much better tools in openresty-gdb-utils already.
agentzh,2017-05-18 17:00:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0c297939930b2f391738a28eca30b1bca015fffa,0c297939930b2f391738a28eca30b1bca015fffa,doc: made it explicit that shdict methods are all atomic.
agentzh,2017-05-15 22:52:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c1317e412f98c3de6502f3f4be6f5b883971065d,c1317e412f98c3de6502f3f4be6f5b883971065d,travis-ci: we no longer want to cover nginx 1.9.15.
dndx,2017-04-24 22:15:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2dd44623d7823c89ee081e10cf5346f5a8972ef4,2dd44623d7823c89ee081e10cf5346f5a8972ef4,"feature: ngx.sleep(0) now always yield the control to the nginx event loop.

This can be used to do voluntary CPU time slicing when running CPU
intensive computations on the Lua land and to avoid such
computations from blocking the nginx event loop for too long.

This feature requires OpenResty's delayed-posted-event patch for the nginx core.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
doujiang24,2016-09-01 02:52:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9b16e254e84956cf344750caf29dc7cb66d8e1c9,9b16e254e84956cf344750caf29dc7cb66d8e1c9,"feature: implemented the ngx.timer.every() API function for creating recurring timers.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-05-14 18:25:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2a87704933546b4239ab0ebfa37b9be231d0dc04,2a87704933546b4239ab0ebfa37b9be231d0dc04,feature: added new pure C API ngx_http_lua_ffi_process_signal_graceful_exit() for the signal_graceful_exit() function of the ngx.process module in lua-resty-core.
agentzh,2017-05-14 02:35:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/76e2138975463aa9162f482579b688f0e9e06d54,76e2138975463aa9162f482579b688f0e9e06d54,change: renamed the C API function ngx_http_lua_ffi_errlog_get_logs to ngx_http_lua_ffi_errlog_get_msg.
agentzh,2017-05-14 02:30:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eb0bb285378f88790630e6723bda6c65ccb04791,eb0bb285378f88790630e6723bda6c65ccb04791,lua_capture_error_log: various documentation fixes and API name changes.
agentzh,2017-05-13 01:23:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ab63ba8df2ad0450fe533cf369ab0f6573b3ea00,ab63ba8df2ad0450fe533cf369ab0f6573b3ea00,change: renamed lua_intercept_error_log directive to lua_capture_error_log.
agentzh,2017-05-13 01:03:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4ed1f96051c06606ad617c4939c5b39ee125b3f6,4ed1f96051c06606ad617c4939c5b39ee125b3f6,doc: added more material on capturing error log filtering.
agentzh,2017-05-13 00:56:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8d8f2c24a19e0ea2ad60fab04f0f1c3b70f926d6,8d8f2c24a19e0ea2ad60fab04f0f1c3b70f926d6,doc: documented the lua_intercept_error_log directive.
membphis,2017-04-06 10:31:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1a5a33e61f4d747efa8460555407357ca166eca1,1a5a33e61f4d747efa8460555407357ca166eca1,"feature: added new config directive lua_intercept_error_log for capturing nginx error logs on Lua land.

The corresponding Lua API is provided by the ngx.errlog module in
lua-resty-core.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-05-07 17:49:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6a2b4ff5565d21bf9fd759c8886d470320e35fc9,6a2b4ff5565d21bf9fd759c8886d470320e35fc9,doc: a typo fix from Oleg Abrosimov.
agentzh,2017-05-07 01:23:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/edbded4056dae51e2b1e23ebd76e59e22fee2705,edbded4056dae51e2b1e23ebd76e59e22fee2705,change: bumped API version to 0.10.9.
agentzh,2017-05-06 06:07:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/23cb8e83296f4e586912d32fc9735c72575108d0,23cb8e83296f4e586912d32fc9735c72575108d0,travis-ci: enable -msse4.2 when building luajit2.
membphis,2017-04-16 13:41:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b98da9a1914444e86f88ba6f7f2719ba28b16215,b98da9a1914444e86f88ba6f7f2719ba28b16215,"feature: added pure C functions ngx_http_lua_ffi_worker_type() & ngx_http_lua_ffi_worker_privileged().

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
alubbe,2016-05-31 08:23:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f5633cacc0a7fdd781f18a9864f972af95ba5e8f,f5633cacc0a7fdd781f18a9864f972af95ba5e8f,"feature: added pure C API for tuning the jit_stack_size option in PCRE.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-04-28 20:51:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c03462637bc1317da225441dc80dfe2203758622,c03462637bc1317da225441dc80dfe2203758622,change: removed util/reindex. put it into the openresty/openresty-devel-utils repo instead.
agentzh,2017-04-20 03:43:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ca8ed0e8cd746c41450b14abff5e40d8f713ccc9,ca8ed0e8cd746c41450b14abff5e40d8f713ccc9,doc: minor tweaks.
agentzh,2017-04-20 03:41:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/39bec7f40a928ed02cc2acef8eee63210d20fba5,39bec7f40a928ed02cc2acef8eee63210d20fba5,doc: minor tweaks.
agentzh,2017-04-20 03:39:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6c7ac361f3a41b811a001fae35b8e30a3e47be81,6c7ac361f3a41b811a001fae35b8e30a3e47be81,doc: more tweaks in the Installation section.
agentzh,2017-04-20 03:37:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c7d9691e5bb1e17527a071e02fa3100d517b0f95,c7d9691e5bb1e17527a071e02fa3100d517b0f95,doc: more tweaks in the Installation section.
agentzh,2017-04-20 03:35:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/398db9517c2bd5d577315a3d105fb6c5033434d9,398db9517c2bd5d577315a3d105fb6c5033434d9,doc: more fixes in the Installation section for OpenResty.
agentzh,2017-04-20 03:34:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/55f91d782b3bbee646a55c41adbb99b7101afa68,55f91d782b3bbee646a55c41adbb99b7101afa68,doc: updated the Installation section to reflect recent changes.
spacewander,2017-04-15 16:15:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e39e4429113737a512ba271314cd10edc20ff8b3,e39e4429113737a512ba271314cd10edc20ff8b3,"bugfix: fixed typos in error messages.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
defanator,2017-03-22 04:50:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0459a285ca0159d45e73da8bd1164edb5c57cde3,0459a285ca0159d45e73da8bd1164edb5c57cde3,"feature: nginx 1.11.11+ can now build with this module.

Note: nginx 1.11.11+ are still not an officially supported target yet.
More work needed.

Closes openresty/lua-nginx-module#1016

See also:
http://hg.nginx.org/nginx/rev/e662cbf1b932"
doujiang24,2017-03-02 03:30:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4b724934231dd67aea07a93390aae72d10760601,4b724934231dd67aea07a93390aae72d10760601,"tests: added passing test cases for testing Lua errors thrown in init_by_lua*.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-04-08 21:11:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/975c3f83889f125a2c669af39c55d447e25bcd99,975c3f83889f125a2c669af39c55d447e25bcd99,bumped version to 0.10.8.
agentzh,2017-04-08 07:24:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/385ae4cd15ec57c043372f291b4493b631b552f5,385ae4cd15ec57c043372f291b4493b631b552f5,tests: a followup fix for the previous commit (2ba183d3).
agentzh,2017-04-07 22:46:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2ba183d3c2bfe2a370242713ecb94e01244e1a6d,2ba183d3c2bfe2a370242713ecb94e01244e1a6d,tests: made a test for duplex cosockets less sensitive to timing error.
agentzh,2017-04-06 23:28:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/94248d64e41d9f3d0864f721c830c8af30568fa6,94248d64e41d9f3d0864f721c830c8af30568fa6,tests: added valgrind suppression rules for false positives in nginx 1.11.11+ and pcre 3.40+'s JIT compiler.
dndx,2017-04-04 04:02:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/844e842cb3d03c3b9b796809bb86102b538fab9e,844e842cb3d03c3b9b796809bb86102b538fab9e,"change: removed the use of luaL_getn() macro as it is no longer available in the latest LuaJIT v2.1. fixes #1029.

Signed-off-by: Yichun Zhang (agentzh) <yichun@openresty.com>"
moonming,2017-04-05 02:59:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/113d138096095a5afa7aba59acfca7843138fcd5,113d138096095a5afa7aba59acfca7843138fcd5,"bugfix: lacking the fix from #936 in the C API for lua-resty-core. #1031

Signed-off-by: Yichun Zhang (agentzh) <yichun@openresty.com>"
agentzh,2017-03-30 17:32:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6b01840dc97887cecbb15853bf1702a4dbe986fb,6b01840dc97887cecbb15853bf1702a4dbe986fb,change: disabled the mmap(sbrk(0)) memory trick since glibc leaks memory when it is forced to use mmap to fulfill malloc().
agentzh,2017-03-25 21:57:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/743a10ab0712dda5cdf6b4f1a7c6f6aed4da7b7b,743a10ab0712dda5cdf6b4f1a7c6f6aed4da7b7b,travis-ci: avoided installing the Test::Nginx perl module; just use it right away.
agentzh,2017-03-25 21:56:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/312bf3ed18be3031a5ac1e423f5ca47d118737b6,312bf3ed18be3031a5ac1e423f5ca47d118737b6,tests: avoided flooding google dns servers in the check leak test mode.
agentzh,2017-03-20 02:20:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8a6448a3906af265083848306bd49b1cc87a2c8d,8a6448a3906af265083848306bd49b1cc87a2c8d,travis-ci: upgraded pcre to 8.40.
agentzh,2017-03-12 01:59:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/38dd154a78a4291d2cffba4f23ace56f3b59f2c4,38dd154a78a4291d2cffba4f23ace56f3b59f2c4,doc: ngx.exit() also returns immediately in the balancer_by_lua* context. thanks Jinhua Tan for the patch in #1012.
p0pr0ck5,2017-02-16 17:39:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2fd7daa69816be7ac2298a789cb3b819e0d12052,2fd7daa69816be7ac2298a789cb3b819e0d12052,"bugfix: typo fix in C POST args handler debug log.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
spacewander,2017-02-24 14:27:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fdbfdaecf8b38d6d498c28e01b03975b23706d2e,fdbfdaecf8b38d6d498c28e01b03975b23706d2e,"semaphore: fixed a typo in a code comment.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
SmirnovW,2017-02-16 19:04:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e86dd9662841cdf0e5cc5b800dd9506eb7a785dd,e86dd9662841cdf0e5cc5b800dd9506eb7a785dd,"doc: added more hints as comments to installation commands.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-02-16 18:22:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/11495c28a045e3f5b4b3a574f71579db1c497125,11495c28a045e3f5b4b3a574f71579db1c497125,util/reindex: tweaked the regex to avoid useless substitutions. this is a followup fix for commit 772e6fd.
agentzh,2017-02-16 17:53:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3217a078164fe4af806150bc7fdc6af58f92e50b,3217a078164fe4af806150bc7fdc6af58f92e50b,util/reindex: fixed the shebang line.
agentzh,2017-02-16 17:51:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2e7031f01dd5bffa09a98773ad649c9e4930706d,2e7031f01dd5bffa09a98773ad649c9e4930706d,util/reindex: fixed the author and copyright notice.
membphis,2017-02-16 07:20:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/772e6fdaa99baa9a0dd2dd1a20dbdd80b35c7896,772e6fdaa99baa9a0dd2dd1a20dbdd80b35c7896,"tests: removed superfluous empty lines at the end of the test files.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
membphis,2017-02-16 02:35:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/32fea9e665e5acd14d8d0348bfb0d53c666ea076,32fea9e665e5acd14d8d0348bfb0d53c666ea076,"util/reindex: trims the extra newline characters at the end of the test file.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
noname007,2017-02-15 09:35:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7f9387cedc5161e14c3b7fe01559b94c0a33e678,7f9387cedc5161e14c3b7fe01559b94c0a33e678,"doc: fixed a typo.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
detailyang,2017-02-10 08:43:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e73cd4b90013b23cf6af60432b1d367b2985708e,e73cd4b90013b23cf6af60432b1d367b2985708e,"tweak: guarded SSL related function declarations with the macro NGX_HTTP_SSL.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
rainingmaster,2017-02-06 15:09:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4fb510f5fb1cb66042b6037aee701dfc053c0d76,4fb510f5fb1cb66042b6037aee701dfc053c0d76,"fixed a function parameter name.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
detailyang,2017-02-02 12:04:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e958cb2caf9a3e17e511a5b3ce8ceab0783c41f4,e958cb2caf9a3e17e511a5b3ce8ceab0783c41f4,"tests: fixed a bug in testing the nullness of cdata pointers.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
tmthrgd,2017-01-27 02:29:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/827a5d6f83de4aed10fd1182e10656945d5bcf2c,827a5d6f83de4aed10fd1182e10656945d5bcf2c,"feature: fixed build compatibility with BoringSSL.

There are two issues that prevent lua-nginx-module from
building when compiled against BoringSSL. They are:
 |SSL_set_tlsext_host_name| changing from a macro that
  internally casts name to a char* to a function that
  expects a char*, and
 |sk_X509_num| returning a size_t and no longer an int.

The first issue is fixed by changing the caller of
|SSL_set_tlsext_host_name|. This is identical to the fix
applied in nginx/nginx@9b8b33b.

The second issue is fixed by changing variable `i` to be
a size_t rather than an int when built against BoringSSL,
i.e. when OPENSSL_IS_BORINGSSL is defined.

This change only addresses build failures and does not
attempt to address missing features or correctness.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
thibaultcha,2017-01-26 19:40:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5ae4aba8385c60443df328698f2126c73739f37a,5ae4aba8385c60443df328698f2126c73739f37a,"travis-ci: upgraded openssl to 1.0.2k.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2017-01-18 19:56:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1028333e48c3397113b4dac60565e45a1325e083,1028333e48c3397113b4dac60565e45a1325e083,travis-ci: added checks for use of tabs and source lines exceeding 80 cols.
agentzh,2017-01-18 19:45:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0c3706298899370049d866d133aefc61ca746a7f,0c3706298899370049d866d133aefc61ca746a7f,fixed a coding style issue in the previous commit.
detailyang,2017-01-14 14:47:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5c54198a369961cca351c98ad447e802124521e0,5c54198a369961cca351c98ad447e802124521e0,"bugfix: tcp cosockets: sslhandshake(): typo in the error message.

also fixed a code comment for the last argument recently added.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
alubbe,2017-01-10 09:54:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1ada6d0e59d28f958227c6eedc6ae1a4867830e1,1ada6d0e59d28f958227c6eedc6ae1a4867830e1,"tests: require PCRE 8.39 instead of 8.33 to run our test suite.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
doujiang24,2016-09-03 17:09:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/39783100f5b7e821dd929a9426c459e72dcf9361,39783100f5b7e821dd929a9426c459e72dcf9361,"feature: tcpsock:connect(): allows the options_table argument being nil.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
moonming,2016-12-21 01:15:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5fdbb56ad53b6be94f80857e6e625e0969ea9e31,5fdbb56ad53b6be94f80857e6e625e0969ea9e31,"bugfix: setting response headers would change the Content-Type response header.

thanks leafo for the report in openresty/openresty#92.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-12-27 05:45:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b3c872e124a44d1d76524430fac7e7b03f455e8f,b3c872e124a44d1d76524430fac7e7b03f455e8f,"added a passing test for #853.

thanks jinhua luo for the original test case in
openresty/lua-resty-core#58."
qlees,2016-11-14 09:10:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/da11870db65eb827ae00c0b24255ba749aefd060,da11870db65eb827ae00c0b24255ba749aefd060,"bugfix: balancer_by_lua*: the number of retres might exceed the limit of proxy_next_upstream_tries or alike.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-12-18 22:05:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5028d63536ac795dc56a996416f79279f2f13d5d,5028d63536ac795dc56a996416f79279f2f13d5d,doc: updated copyright notice.
chipitsine,2016-12-17 14:15:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3cf7062366af4ec79e4047140b96d6a184ed5070,3cf7062366af4ec79e4047140b96d6a184ed5070,"travis-ci: cosmetic ""wget"" improvement.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
tmthrgd,2016-08-25 03:56:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e7031127e33bf84d5e6a241707c06c497f381033,e7031127e33bf84d5e6a241707c06c497f381033,"feature: added support for the 303 status code in ngx.redirect().

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-12-14 23:23:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6e38c11eb401b9e8afa88ed51d78e1e2a989f1ae,6e38c11eb401b9e8afa88ed51d78e1e2a989f1ae,tests: disable IPv6 in resolver.
chipitsine,2016-12-14 18:07:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9ed76a7328aa65e265b9140b319bf18e070ae317,9ed76a7328aa65e265b9140b319bf18e070ae317,"travis-ci: several improvements.

* moved mysql to the right place
* simplified wget calls
* no, we were not going to cache drizzle (cache only works on successful build)
* apt actually does not cache (I've looked to the travis-ci sources)

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-12-14 20:34:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/26be99deffc369608b9b10e558ad6fa5dfc3c03c,26be99deffc369608b9b10e558ad6fa5dfc3c03c,tests: t/090-log-socket-errors.t: avoided connecting to 8.8.8.8:80.
agentzh,2016-12-13 02:28:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7c9503493501573a8383c6a59cf13b4131ae7826,7c9503493501573a8383c6a59cf13b4131ae7826,tests: added a passing test for ngx.re.find + \G regexes.
agentzh,2016-12-01 18:24:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/db28ece8e4c3c7956e07305654f750c472be0393,db28ece8e4c3c7956e07305654f750c472be0393,doc: a typo fix from Andrei Belov.
alubbe,2016-11-14 08:13:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/aa43ca0639255af9decb2f2affada6087cd69c4d,aa43ca0639255af9decb2f2affada6087cd69c4d,"doc: stripped line trailing whitespaces.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
thibaultcha,2016-11-19 01:34:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/793531df5451e6cc45cdce0319302add72c79e90,793531df5451e6cc45cdce0319302add72c79e90,"doc: removed ngx.re.split() from TODO section since it is already implemented in ngx.re.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-11-15 04:45:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4bc90422224c7274795754f23df84be513e7282f,4bc90422224c7274795754f23df84be513e7282f,"tests: fixed a perl warning ""Unescaped left brace in regex is deprecated, passed through in regex""."
agentzh,2016-11-15 04:34:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a24db2cb992494d6e30fb3b96812b677f6b0e63a,a24db2cb992494d6e30fb3b96812b677f6b0e63a,tests: ngx_http_fake_module: removed the coyyright notice since the copyright is already granted.
agentzh,2016-11-15 04:33:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/38dfb174a219754e8275ca7b41bf3d8ef7840fcf,38dfb174a219754e8275ca7b41bf3d8ef7840fcf,tests: fixed a bug in the example ngx_fake_delayed module. thanks Dejiang Zhu. also removed the copyright notice in this module since it is already granted.
agentzh,2016-11-15 00:08:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0a83639f1985e0add654369b6a514fc8310bc8e5,0a83639f1985e0add654369b6a514fc8310bc8e5,tests: avoided solving IPv6 addresses in more tests.
agentzh,2016-11-14 23:19:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3b42b8bb8c2c2f4f6baf3c566fe0dc059ec9f5c3,3b42b8bb8c2c2f4f6baf3c566fe0dc059ec9f5c3,tests: avoided solving IPv6 addresses.
rainingmaster,2016-11-14 08:56:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0a1de31ff65803929a0e144d1e1c8fd2b3335375,0a1de31ff65803929a0e144d1e1c8fd2b3335375,"bugfix: C API: ngx_http_lua_add_package_preload() might not take effect when lua_code_cache is off.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-11-14 22:43:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ce525fb5060a75941aa5b21c6f0290ca84ddee67,ce525fb5060a75941aa5b21c6f0290ca84ddee67,tests: made tests less likely to fail due to bad network.
agentzh,2016-11-13 20:30:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/75b03949c1898a4ff688eb390b4549519b6991bf,75b03949c1898a4ff688eb390b4549519b6991bf,doc: added a note about the LRU regex cache used in the ngx.re.* implementation of lua-resty-core.
agentzh,2016-11-04 19:09:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/00643248825f61614541bb409a241e87ad87a554,00643248825f61614541bb409a241e87ad87a554,doc: bumped version to 0.10.7.
agentzh,2016-11-03 02:58:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3cbe5be4a66794af7cd8bc7f4aadaece5bce5edb,3cbe5be4a66794af7cd8bc7f4aadaece5bce5edb,tests: skipped the newly added test case that cannot run in check leak test mode.
detailyang,2016-11-02 12:01:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7bd68906b7a7503e6ee77fda0f19f743cdee8c62,7bd68906b7a7503e6ee77fda0f19f743cdee8c62,"doc: log level constants are also available in init_by_lua* and init_worker_by_lua* contexts.

thanks kraml for the report in #876.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-11-02 22:11:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ea92f7ea86a8adcb1fd140d0b44c74c1e28edcf7,ea92f7ea86a8adcb1fd140d0b44c74c1e28edcf7,doc: documented the support of 307 status argument value in ngx.redirect.
jayce,2016-11-02 10:37:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5134a9c824b46f0ebfef8dae0a03f2243ce821c5,5134a9c824b46f0ebfef8dae0a03f2243ce821c5,"bugfix: segmentation faults might happen when ngx.exec() was fed with unsafe URIs (#905)

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
doujiang24,2016-10-10 02:54:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/37e5362088bd659e318aae568b268719bd0d6707,37e5362088bd659e318aae568b268719bd0d6707,"change: ssl_session_fetch_by_lua* and ssl_session_store_by_lua* are now only allowed in the http {} context.

Use of these session hooks in the server {} scope did not make much
sense since server name dispatch happens *after* ssl session resumption.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
doujiang24,2016-10-31 03:42:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cf0623c648d93a49b9e4af6d4569fff03aeb745e,cf0623c648d93a49b9e4af6d4569fff03aeb745e,"tests: 147-tcp-socket-timeouts.t was failing in mockeagain read/write test modes.

now we use MOCKEAGAIN_WRITE_TIMEOUT_PATTERN feature instead of sending mega bytes of data.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-10-30 19:54:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/521d802aaf886b7d6c186ea239aaeb222be698bb,521d802aaf886b7d6c186ea239aaeb222be698bb,tests: updated a shdict test case for i386 to reflect our recent optimizations in shdict storage layout.
agentzh,2016-10-30 19:06:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6b2c9a3bf574c65cbd8f5a7a8eff324135b51420,6b2c9a3bf574c65cbd8f5a7a8eff324135b51420,tests: updated the IP address of our own test server.
helloyi,2015-09-05 12:43:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/73bd64dbc145bc89c049075532ae841f7d7b6e02,73bd64dbc145bc89c049075532ae841f7d7b6e02,"feature: added public C API for 3rd-party NGINX C modules to register their own shm-based data structures for the Lua land usage (that is, to create custom siblings to lua_shared_dict).

thanks helloyi and doujiang for the patches.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-10-27 23:01:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/40b61f40b2409372ce2cc7d077b332f8852ac3af,40b61f40b2409372ce2cc7d077b332f8852ac3af,doc: fixed the version number since which settimeouts() was first introduced.
doujiang24,2016-08-25 08:44:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/28df10b1661039c8dd70683badf68ad729d250c3,28df10b1661039c8dd70683badf68ad729d250c3,"feature: added a new api function tcpsock:settimeouts(connect_timeout, send_timeout, read_timeout).

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-10-23 03:03:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/66405877d6686ff87a2d1cf2653229ef6606bec5,66405877d6686ff87a2d1cf2653229ef6606bec5,bumped the API version to 0.10.7; also documented that lua_malloc_trim was first introduced in ngx_lua 0.10.7.
agentzh,2016-10-02 19:00:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1173cc7c936b797782ad03bc3cb8b3b6761c6fce,1173cc7c936b797782ad03bc3cb8b3b6761c6fce,"feature: added new config directive ""lua_malloc_trim N"" to periodically call malloc_trim(1) every N requests when malloc_trim() is available.

By default, ""lua_malloc_trim 1000"" is configured.

This should fix the glibc oddity of holding too much freed memory
when it fails to use brk() to allocate memory in the data segment."
chipitsine,2016-10-03 17:36:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/74bad01b2c4aa2aa28f39a3681f399f9974c56ae,74bad01b2c4aa2aa28f39a3681f399f9974c56ae,travis-ci: cache openssl-1.0.2h-sess_set_get_cb_yield.patch
chipitsine,2016-10-03 17:33:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f7a0d58a4ecea29bdb513c8d64fdd45f715319d8,f7a0d58a4ecea29bdb513c8d64fdd45f715319d8,travis-ci: upgraded openssl to 1.0.2j
chipitsine,2016-10-03 17:14:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5c491a59ce51879caba6abaa555f86bbedf643eb,5c491a59ce51879caba6abaa555f86bbedf643eb,travis-ci: add nginx-1.11.2 (supported by openresty)
agentzh,2016-10-05 20:26:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d26ca9052d73cab8499436fc2a18956482b1772f,d26ca9052d73cab8499436fc2a18956482b1772f,fixed a hard-coded IP address in a test case.
agentzh,2016-10-03 05:48:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/da08f59ae5ff0f230595322b3a8ce48bd42f1b3f,da08f59ae5ff0f230595322b3a8ce48bd42f1b3f,"optimize: optimized the shdict node struct memory layout which can save 8 bytes for every key-value pair on 64-bit systems, for example."
agentzh,2016-10-03 01:30:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3bd4227ce4ffe5c9c73c7592d67395a2b935fe8f,3bd4227ce4ffe5c9c73c7592d67395a2b935fe8f,made a resolver test case more tolerante.
agentzh,2016-09-24 19:30:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7ecba5377f9732441667b4430e5c947e4968751d,7ecba5377f9732441667b4430e5c947e4968751d,travis-ci: use openssl 1.0.2i.
halfcrazy,2016-09-02 06:32:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/61621e0d3afef0eb6ae40c05fda3d8c0554baf90,61621e0d3afef0eb6ae40c05fda3d8c0554baf90,"doc: fixed the link to qa.openresty.org.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
doujiang24,2016-09-01 03:16:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8bfa895c30fe1eb34385102271f86dbd9ac3a247,8bfa895c30fe1eb34385102271f86dbd9ac3a247,"fixed a code comment.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
lution,2016-09-01 08:54:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d5211675357b2f685d8063dca2ed1b00a8ece239,d5211675357b2f685d8063dca2ed1b00a8ece239,"doc: fixed a typo.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-08-25 00:11:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/92d188425030f75ae6d2b65e1a3c19cf95ed616e,92d188425030f75ae6d2b65e1a3c19cf95ed616e,doc: documented how to easily test the ssl_session_fetch_by_lua* and ssl_session_store_by_lua* locally with a modern web browser.
agentzh,2016-08-15 20:54:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7d242ff79a63bae15c8f5f68999dfe5f4da7cf67,7d242ff79a63bae15c8f5f68999dfe5f4da7cf67,doc: bumped version to 0.10.6.
agentzh,2016-08-12 20:40:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4b8f26285a8a2af87b614964b1417f577b03a93d,4b8f26285a8a2af87b614964b1417f577b03a93d,bugfix: *_by_lua_file: did not support absolute file paths on non-UNIX systems like Win32. thanks Someguynamedpie for the report and the original patch in #835.
agentzh,2016-08-12 17:57:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d802dbd87ccb5919e06844a2416fec2f50017c1d,d802dbd87ccb5919e06844a2416fec2f50017c1d,tests: fixed more shdict list test cases that could fail on i386.
agentzh,2016-08-12 17:54:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8d0ca5881f07a4028faf55fcacf682750778a1b4,8d0ca5881f07a4028faf55fcacf682750778a1b4,tests: fixed a shdict list test case that failed on i386.
agentzh,2016-08-10 22:30:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8f1608495879b7b53b87c00dae7513a7be462998,8f1608495879b7b53b87c00dae7513a7be462998,tests: wait longer for CPU-intensive test cases for shdict lists for valgrind test mode.
agentzh,2016-08-10 22:12:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/addfb0a8094ac42144898ecca869085fa1e22582,addfb0a8094ac42144898ecca869085fa1e22582,bugfix: shdict lists: fixed new compilation warnings from the Microsoft C compiler. thanks itpp16 for the report in #836.
agentzh,2016-08-09 19:30:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5dcf4e19e904284637439a525065e1328785aa2e,5dcf4e19e904284637439a525065e1328785aa2e,travis-ci: removed the env LUA_CMODULE_DIR=/lib which caused problems.
agentzh,2016-08-09 18:58:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f0687d94c664b1a375c9fcc16528f1c353375a9d,f0687d94c664b1a375c9fcc16528f1c353375a9d,doc: typo fix from Shuxin Yang.
agentzh,2016-08-08 19:25:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/65ccb56448546391190474cb2bd70edac8a72b53,65ccb56448546391190474cb2bd70edac8a72b53,"bugfix: ngx.exit() did not work at all in ssl_session_fetch_by_lua* and ssl_session_store_by_lua* when the FFI API is used (e.g., via lua-resty-core)."
doujiang24,2015-10-21 11:36:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1de58835a5e956011dd92ba94b649c6f7bcf1212,1de58835a5e956011dd92ba94b649c6f7bcf1212,"feature: added new shdict methods: lpush, lpop, rpush, rpop, llen for manipulating list-typed values.

These methods can be used in the same way as the redis commands of the
same names. Essentially we now have shared memory based queues now. Each
queue is indexed by a key.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-08-04 23:05:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d6258dae42a8a88532eeb29a65e337d4a74ea03f,d6258dae42a8a88532eeb29a65e337d4a74ea03f,bugfix: build would fail when the http ssl module is disabled.
agentzh,2016-08-04 22:20:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ac89f23f5753091e07cf2618dde07da3c363281b,ac89f23f5753091e07cf2618dde07da3c363281b,travis-ci: disables caching the drizzle7 tarball.
agentzh,2016-08-02 20:11:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f714417abb58b827bd3bedd05b2fcf45ea5b8bdb,f714417abb58b827bd3bedd05b2fcf45ea5b8bdb,"Merge pull request #829 from doujiang24/doc

doc: sync the change from README.markdown to wiki"
doujiang24,2016-08-02 14:52:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/aad49398775640ba4b6a564424eefbf54952444f,aad49398775640ba4b6a564424eefbf54952444f,doc: sync the change from README.markdown to wiki
GUI,2016-07-31 14:30:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c5ada9947342f7c47fc96de6e387a3481b39b518,c5ada9947342f7c47fc96de6e387a3481b39b518,"doc: ngx.worker.count() is available in the init_worker_by_lua* context.

The `ngx.worker.count` documentation was missing `init_worker_by_lua*` as
a valid context. This updates the documentation and adds a test to
demonstrate that this method does in fact work in the
`init_worker_by_lua` context.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
doujiang24,2015-09-30 10:22:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b9bd8028fd6dce61e4aadbe8fc7d23d8ee4a292f,b9bd8028fd6dce61e4aadbe8fc7d23d8ee4a292f,"feature: shdict:incr(): added the optional ""init"" argument to allow intializing nonexistent keys with an initial value.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-07-30 02:32:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dbb48e33a7112a3bb524ea7ca0d7dea91d06f469,dbb48e33a7112a3bb524ea7ca0d7dea91d06f469,"bugfix: segmentation fault might happen in ssl_session_fetch_by_lua*, caught by the clang static analyzer."
agentzh,2016-07-30 02:15:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5b2e1d20e58ee50b92aa41f42743c006c2c3f2ec,5b2e1d20e58ee50b92aa41f42743c006c2c3f2ec,"tests: fixed a typo in the t/143-ssl-session-fetch.t test file.

also fixed the test index numbers in it."
agentzh,2016-07-19 22:40:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5bcc53cab6a178bd75a6da1113f1bcda1b70077b,5bcc53cab6a178bd75a6da1113f1bcda1b70077b,"feature: implemented ssl_session_fetch_by_lua* and ssl_session_store_by_lua* config directives for doing (distributed) caching of SSL sessions (via SSL session IDs) for downstream connections.

thanks Zi Lin for the patches."
agentzh,2016-07-19 23:31:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a5ac9fa2e623854178c3fbb77f643cc95226a3e9,a5ac9fa2e623854178c3fbb77f643cc95226a3e9,bugfix: fake connections did not carry a proper connection number. thanks Piotr Sikora for the patch.
agentzh,2016-07-19 22:45:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b4609c10f52ebe0a966026b2bd3d58ee057a9069,b4609c10f52ebe0a966026b2bd3d58ee057a9069,bugfix: ngx_http_lua_ffi_ssl_create_ocsp_request: we did not clear the openssl stack errors in the right place.
agentzh,2016-07-11 04:31:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3f4eba7aa87e6931d873c7daa223e8621836162a,3f4eba7aa87e6931d873c7daa223e8621836162a,skipped check leak mode for two test cases using malformed requests.
agentzh,2016-07-09 18:21:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7c69ccdf7500b39ba8fa2468b15dc3c31ac7eca9,7c69ccdf7500b39ba8fa2468b15dc3c31ac7eca9,renamed macro HAVE_UPSTREAM_TIMEOUT_FIELDS to HAVE_NGX_UPSTREAM_TIMEOUT_FIELDS.
agentzh,2016-07-08 17:47:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e90e0c1dd9caa0fa8d5796719a96589e4b6ee7e4,e90e0c1dd9caa0fa8d5796719a96589e4b6ee7e4,bugfix: ngx.sha1_bin() was always disabled with nginx 1.11.2+ due to incompatible changes in nginx 1.11.2+. thanks manwe for the report in #819.
agentzh,2016-07-08 17:39:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/522d2d58cb165afd9d1e9d6dfaca03f42f6914eb,522d2d58cb165afd9d1e9d6dfaca03f42f6914eb,tests: 070-sha1.t: checks error messages in nginx error logs.
agentzh,2016-07-01 21:01:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8a4328a3e7e0620c5a6d15321ece3211ce10b498,8a4328a3e7e0620c5a6d15321ece3211ce10b498,feature: added pure C API for setting upstream request connect/send/read timeouts in balancer_by_lua* on a per session basis. thanks Jianhao Dai for the original patch.
agentzh,2016-07-03 18:54:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/347bb2fba4f096e98921c9dd8e6eacbae843f3dd,347bb2fba4f096e98921c9dd8e6eacbae843f3dd,added the PULL_REQUEST_TEMPLATE file.
agentzh,2016-07-03 18:52:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/83c07bd2231edec3df77d44e130d7c9823a4d2e8,83c07bd2231edec3df77d44e130d7c9823a4d2e8,minor fixes in ISSUE_TEMPLATE.
agentzh,2016-07-03 18:27:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d519039952aef51f60467427ab44f2b7d035b590,d519039952aef51f60467427ab44f2b7d035b590,tests: added a passing test case for github #816 where ngx.log() is used in balancer_by_lua*.
thibaultcha,2015-12-16 05:28:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/93f9f6036c4f36c979d2a69693b495606928a07b,93f9f6036c4f36c979d2a69693b495606928a07b,"feature: allow tcpsock:setkeepalive() to receive nil args.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
chipitsine,2016-06-22 11:41:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a27c11f9f76071e234ef9120d1da61b76ecb3b90,a27c11f9f76071e234ef9120d1da61b76ecb3b90,"travis-ci: moved package management under travis-ci ""apt"" plugin, also cached apt packages.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
ghedo,2016-05-12 15:04:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/349ad466ee114f1c82cc57d10249078b6edb1350,349ad466ee114f1c82cc57d10249078b6edb1350,"feature: ssl: add FFI functions to parse certs and private keys to cdata.

With the current FFI functions the certificate chain and the private key
are parsed from DER every time they are set into the SSL state. Now we
can cache the parsed certs and private keys as cdata objects directly.

These new functions make it possible to avoid the DER -> OpenSSL parsing.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-06-23 19:28:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b63ccaf31ccd332d8b14a7970cdd077bee998129,b63ccaf31ccd332d8b14a7970cdd077bee998129,"bugfix: ""lua_check_client_abort on"" broke HTTP/2 requests."
agentzh,2016-06-23 19:23:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/473f7fa2811118a7858bec4843e08783be2c49ac,473f7fa2811118a7858bec4843e08783be2c49ac,doc: documented that ngx.req.raw_header() does not work in HTTP/2 requests.
agentzh,2016-06-16 17:47:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1779464462dec8bcfbc39cb678e48e0f1f901632,1779464462dec8bcfbc39cb678e48e0f1f901632,removed the obsolete Changes file.
client9,2016-06-15 19:03:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d14871950f7173b755ae2614b98354997404ebe3,d14871950f7173b755ae2614b98354997404ebe3,"spelling corrections found via github.com/client9/misspell

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-06-16 17:22:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e6456e56308b4100b6e65cd1d257a9f0e0c15c4,8e6456e56308b4100b6e65cd1d257a9f0e0c15c4,bugfix: specifying the C macro NGX_LUA_NO_FFI_API broke the build. thanks jsopenrb for the report in #802.
agentzh,2016-06-14 17:11:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b092aa6751d1ad75f4ada94d5cbfa0dba1f7e313,b092aa6751d1ad75f4ada94d5cbfa0dba1f7e313,bumped the API version to 0.10.6.
agentzh,2016-06-14 17:08:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e7f6de01a2eff1ff99ef4432e6c23d822f183eeb,e7f6de01a2eff1ff99ef4432e6c23d822f183eeb,bugfix: segfaults might happen when calling ngx.log() in ssl_certificate_by_lua* and error_log was configured with syslog. thanks Jonathan Serafini and Greg Karékinian for the report in #723.
agentzh,2016-06-13 20:34:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6fb8a0e9954886cdf997abd781f9a2da67b160b5,6fb8a0e9954886cdf997abd781f9a2da67b160b5,bugfix: fixed a typo in the error handling of the SSL_get_ex_new_index() call for our ssl ctx index. thanks Jie Chen for the report in #798.
ottok,2016-06-07 21:29:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cb09230414b688c21efa0fa8c7afa8f4c59518df,cb09230414b688c21efa0fa8c7afa8f4c59518df,"fixed various spelling errors in docs, source code, and tests.

While packaging a new version of Nginx for Debian, I noticed the
quality assurance tool Lintian complained about a lot of spelling
errors.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-06-06 21:38:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ff7e6a7a3713390f3f120e88a10dd80124452c83,ff7e6a7a3713390f3f120e88a10dd80124452c83,"bugfix: fixed crashes in ngx.req.raw_header() for HTTP/2 requests.

now we always throw out a Lua exception in ngx.req.raw_header() when
being called in HTTP/2 requests."
pushrax,2016-06-04 18:09:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bcecaa07e2dcef5425647697c560bb455ec22cbf,bcecaa07e2dcef5425647697c560bb455ec22cbf,"tests: added a regression test for buffer split in block parsing (#687)

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-06-02 21:57:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e21d9b55e58796ac357f8031bf17cae7dcee9f2b,e21d9b55e58796ac357f8031bf17cae7dcee9f2b,"bugfix: when the nginx core does not properly initialize r->headers_in.headers (due to 400 bad requests and etc), more_set_input_headers might lead to crashes. thanks Marcin Teodorczyk for the report."
agentzh,2016-06-01 18:50:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3010cadedb96711c91584732fada51ee6fdfeda5,3010cadedb96711c91584732fada51ee6fdfeda5,added an issue template for github.
agentzh,2016-05-26 02:41:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1d3d441dc778cab6ad9289254cf9282f8d3e0702,1d3d441dc778cab6ad9289254cf9282f8d3e0702,doc: bumped version to 0.10.5.
agentzh,2016-05-20 22:18:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3b4a96363b07bc2af93f2bf8e94e0af3d667bece,3b4a96363b07bc2af93f2bf8e94e0af3d667bece,bugfix: ngx.flush(true) calls right after ngx.send_header() was broken due to the previous commit.
agentzh,2016-05-20 19:18:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/547c961effd2da12ba6555390edb691dba657852,547c961effd2da12ba6555390edb691dba657852,"bugfix: ngx.flush() might lead to the ""zero-size buf"" alerts when ngx.print("""") was called before. this regression had appeared in the previous commit.

this issue was caught by the mockeagain (w) testing mode."
agentzh,2016-05-19 21:53:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/53e78f5df2feabe6a6f72d81eb1895cab8d59f4d,53e78f5df2feabe6a6f72d81eb1895cab8d59f4d,"bugfix: ngx.print("""") did not trigger response header sending."
agentzh,2016-05-19 21:53:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/be133bca5d0f2ed868111b9b4a5391eef147b9fa,be133bca5d0f2ed868111b9b4a5391eef147b9fa,bumped the API version to 0.10.5.
agentzh,2016-05-18 20:47:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5de1b1fac31bc546a2d3f213bfb4aff7a47ea771,5de1b1fac31bc546a2d3f213bfb4aff7a47ea771,bugfix: use of ssl_certificate_by_lua* in the http {} scope might lead to process crashes. thanks Andreas Lubbe for the report in openresty/lua-resty-core#42.
agentzh,2016-05-17 22:46:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d4f71ad087defa3b16a615f46f3731b7d12b0ce6,d4f71ad087defa3b16a615f46f3731b7d12b0ce6,doc: bumped version to 0.10.4.
agentzh,2016-05-17 21:32:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/69818f459bc9f3bf892cebe14df9a2d899c38c86,69818f459bc9f3bf892cebe14df9a2d899c38c86,bumped the API version to 0.10.4.
agentzh,2016-05-17 21:30:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/816be0073c24f07ac613b967825c64547a227d5f,816be0073c24f07ac613b967825c64547a227d5f,bugfix: only do the mmap(sbrk(0)) trick on Linux since it may cause problems on other operating systems.
agentzh,2016-05-16 22:28:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c7d5cbdf4eb45a8ddf39fb016caeea990fa1efe7,c7d5cbdf4eb45a8ddf39fb016caeea990fa1efe7,"travis-ci: various improvements.

* switch to OpenSSL 1.0.2h instead of using the default old 1.0.1
version.
* use parallel builds (JOBS=3).
* use the latest OpenResty's branch of LuaJIT.
* use shorter sleep time (6ms) between successive tests."
agentzh,2016-05-15 22:46:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b38aefeb72033d145b8d01c6ee3f62645802ca9b,b38aefeb72033d145b8d01c6ee3f62645802ca9b,travis-ci: enables clang builds. thanks Ilya Shipitsin for the patch in #769.
agentzh,2016-05-15 20:42:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6b8b060608e63a069f428c926785c095982474d1,6b8b060608e63a069f428c926785c095982474d1,release 0.10.3.
chipitsine,2016-05-15 18:24:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9f319e956526cc5c81482916f3545f579ee29b3b,9f319e956526cc5c81482916f3545f579ee29b3b,"travis-ci: supress some unuseful output.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
chipitsine,2016-05-15 18:16:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/91c429a6d81cb1ed0d8d7b4d04a07c035f99c014,91c429a6d81cb1ed0d8d7b4d04a07c035f99c014,"travis-ci: cache pcre-8.33 downloads and make sure we ""exit 1"" on any build failure.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-05-15 07:20:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/61e2d3a499436ddbb647b30538b4dbab37d92903,61e2d3a499436ddbb647b30538b4dbab37d92903,travis-ci: use dig to warm-up the DNS servers a bit before testing.
agentzh,2016-05-15 06:19:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dce2361885adb3ac263add95539bbef5d8d7b011,dce2361885adb3ac263add95539bbef5d8d7b011,feature: added Travis CI support. thanks Ilya Shipitsin for the patch in #766.
agentzh,2016-05-15 07:18:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c0efcd3bdce0bfeac56ce3f5476ff281fd0ba5eb,c0efcd3bdce0bfeac56ce3f5476ff281fd0ba5eb,fixed a udp test case.
agentzh,2016-05-15 06:16:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/54719b6f73a3107a885a2c261605c06b2a10ed73,54719b6f73a3107a885a2c261605c06b2a10ed73,doc: util/build2.sh is now util/build.sh. thanks Ilya Shipitsin for the patch in #766.
agentzh,2016-05-15 04:58:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c92e71bfe2815665952d891f06a42afd377fe085,c92e71bfe2815665952d891f06a42afd377fe085,doc: updated the directive execution order diagram. thanks Emil Stolarsky again.
agentzh,2016-05-15 04:53:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c28e1722110a64114143941997282cfe61a2c223,c28e1722110a64114143941997282cfe61a2c223,util/build.sh: use nginx's builtin ngx_http_auth_request module instead. thanks Ilya Shipitsin for the report in #765.
agentzh,2016-05-15 04:47:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7352fe869c6d4df2707e009856364e1a8aeafc0b,7352fe869c6d4df2707e009856364e1a8aeafc0b,doc: added diagram of the order of directive execution to README. thanks Emil Stolarsky for the contribution.
agentzh,2016-05-14 23:09:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e7cdb4efdbe51c68efe2f53e6b2fd416f47fbd10,e7cdb4efdbe51c68efe2f53e6b2fd416f47fbd10,made a shdict test case less likely to fail in slow testing modes.
agentzh,2016-05-14 05:22:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/22566ed9b082c0b40fb1142b1d30e196d2bcb833,22566ed9b082c0b40fb1142b1d30e196d2bcb833,bugfix: ngx.exit() could not be used in the context of balancer_by_lua* when lua-resty-core was used.
agentzh,2016-05-14 05:15:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7e6445ef8e7a20a82d36a9fb8737a985133b9133,7e6445ef8e7a20a82d36a9fb8737a985133b9133,bugfix: a follow-up fix for commit 93321acd in the FFI implementation of ngx.status.
agentzh,2016-05-13 02:24:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/70f708071534857d2b60ad2998d8d05d91483a0d,70f708071534857d2b60ad2998d8d05d91483a0d,bugfix: *_by_lua_block: fixed Lua long bracket parsing at buffer boundaries. thanks Maxim Ivanov and Tom Thorogood for the report in #762.
agentzh,2016-05-09 23:44:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7886a081003b7b803e88d357a8668358941d56d5,7886a081003b7b803e88d357a8668358941d56d5,style: fixed lines exceeding 80 cols.
agentzh,2016-05-09 23:43:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/37b4765783f9d5378dbc085d3069891c03dffdb2,37b4765783f9d5378dbc085d3069891c03dffdb2,fixed a test case.
cuiweixie,2016-02-29 06:42:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a6b960fe0ae951f6eca976d00fe77d4fa2cf83ad,a6b960fe0ae951f6eca976d00fe77d4fa2cf83ad,"refactorings in the semaphore implementation.

* shortened the semaphore C function names.
* introduced C function ngx_http_lua_sema_mm_init() for better
  encapsulation.

thanks Dejiang Zhu for the tweaks.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-05-09 23:01:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9a96f9e85a9d101187f80ac8e67d9b2678f4d9ac,9a96f9e85a9d101187f80ac8e67d9b2678f4d9ac,adjusted the test case for ngx.worker.id() for slow testing modes like valgrind.
agentzh,2016-05-09 23:00:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0b2093d2bcc29e547620cc7c08e10108461fc02d,0b2093d2bcc29e547620cc7c08e10108461fc02d,removed useless nginx logs from the nginx fake module in the test suite.
agentzh,2016-05-09 22:24:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/97a6a169a9c1c8362e892a9bd1d1375867b03b8b,97a6a169a9c1c8362e892a9bd1d1375867b03b8b,made the test case for ngx.worker.id() more reasonable.
agentzh,2016-05-09 22:20:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/766cde61ce121ccf1893def2f71e9c2217928bb6,766cde61ce121ccf1893def2f71e9c2217928bb6,tests: made a test less possible to get timed out on resolvers.
doujiang24,2016-03-10 10:16:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a0ed1bf29c7178660dc9db0899f9be97c379add6,a0ed1bf29c7178660dc9db0899f9be97c379add6,"bugfix: ngx.req.append_body() might enter infinite loops when ngx.req.init_body() has not specified a buffer size and the request header Content-Length is 0 (or client_body_buffer_size is configured to 0).

thanks Hai for the report in #703.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-05-09 21:48:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cda5f872cb49a9cdee7439f7f59f263fb37240fe,cda5f872cb49a9cdee7439f7f59f263fb37240fe,bugfix: ngx.re.match: the 5th argument hid the 4th one. thanks iorichina for the report in #719 and rako9000 for the original patch in #727.
agentzh,2016-05-09 21:06:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ebb648c1917c13ee8d91fc0427836aef626321cc,ebb648c1917c13ee8d91fc0427836aef626321cc,try harder to get the ngx.worker.id() test pass. alas.
agentzh,2016-05-09 19:46:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b90d7ad0178886bc719c9d881a7023dbab2a1947,b90d7ad0178886bc719c9d881a7023dbab2a1947,bugfix: wait a bit longer in the test case for ngx.worker.id().
agentzh,2016-05-08 20:16:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1967998b0eedab1ff51bff8fafa5fc3db47976aa,1967998b0eedab1ff51bff8fafa5fc3db47976aa,further tweaks in the test case for ngx.worker.id(). alas.
agentzh,2016-05-08 04:51:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/64499675d7d275119957e6da72aeba89425700a7,64499675d7d275119957e6da72aeba89425700a7,tests: ensured all the helper workers are indeed run in the test case for ngx.worker.id().
agentzh,2016-05-07 18:29:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/05ffc6e9dac66396bc91ca0b670d7ebcdbeed46f,05ffc6e9dac66396bc91ca0b670d7ebcdbeed46f,tests: wait a bit longer for helper processes to start up in the worker.id() test case.
agentzh,2016-05-07 18:22:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a6e4e458306cd23db8b8a962d711b0240897d325,a6e4e458306cd23db8b8a962d711b0240897d325,ngx.worker.id() should still return something when the master process is off.
agentzh,2016-05-07 18:12:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/92d2d44ac5c1cc0965a1078975e0a0737cc4bbb6,92d2d44ac5c1cc0965a1078975e0a0737cc4bbb6,simplified the test case in commit 57d034f.
agentzh,2016-05-03 20:54:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c9b02aa197289d6f213cbea0975f3adf904a6f4a,c9b02aa197289d6f213cbea0975f3adf904a6f4a,tests: avoided a memory leak in the test case itself.
cuiweixie,2016-04-28 11:06:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/57d034f89b69e7b19b846d6305551b03fdf73726,57d034f89b69e7b19b846d6305551b03fdf73726,"bugfix: ngx.worker.id() should return nil in non-worker processes like nginx's cache managers.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
chipitsine,2016-04-23 19:10:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8ec587aa7c58076619d47800439df1696a75fa80,8ec587aa7c58076619d47800439df1696a75fa80,"tests: skip tests using local IPv6 addresses if it is not supported.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-05-02 22:09:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0fddb590b90f7163c7dbaecf9a72fecc33c66672,0fddb590b90f7163c7dbaecf9a72fecc33c66672,feature: now we try limiting the growth of the data segment of the nginx processes to preserve as much lowest address space for LuaJIT as possible. thanks Shuxin Yang for the help.
agentzh,2016-05-02 22:56:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/51d63b41c3fbcc23d92357580bcee64355e35858,51d63b41c3fbcc23d92357580bcee64355e35858,fixed dtrace static probes for systems other than Linux.
agentzh,2016-05-02 19:43:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b60f53f97bfe0137ecb85b2fef1a1aa63c140b6f,b60f53f97bfe0137ecb85b2fef1a1aa63c140b6f,"bugfix: fixed a memory leak in ssl.cert_pem_to_der(), caught by valgrind."
thibaultcha,2016-04-27 21:20:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/df5bf1d6242eb5c11adf0dccb8e830dc6672e14b,df5bf1d6242eb5c11adf0dccb8e830dc6672e14b,"bugfix: ignore unexpected closing long-brackets in '*_by_lua_block' directives.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-04-27 23:02:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e6771593ba2ea40fee48f344f98e470cac75a6de,e6771593ba2ea40fee48f344f98e470cac75a6de,minor coding style fixes.
xbsura,2016-03-24 09:43:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/473926654ae3b019d85f4e9097fea97a3f635788,473926654ae3b019d85f4e9097fea97a3f635788,"bugfix: changing peers in balancer_by_lua* might lead to stale values of $upstream_addr.

See #721 for more details."
hamishforbes,2016-03-02 10:00:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/559243b2cfd3860bacb0f2a913856b082098025a,559243b2cfd3860bacb0f2a913856b082098025a,bugfix: clear errors in pem_to_der functions to avoid flooding nginx error logs (#695).
agentzh,2016-04-26 22:45:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b88ed7fb5a6523e2fdecc29d50e2c040f9997249,b88ed7fb5a6523e2fdecc29d50e2c040f9997249,bugfix: ssl: clear stacked errors in some of our Lua APIs to avoid flooding nginx error logs.
agentzh,2016-04-26 19:19:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1d9b530f7a7eeffe8d6b4f61e00640514bc85267,1d9b530f7a7eeffe8d6b4f61e00640514bc85267,removed a useless assignment in the timer impl caught by cppcheck and reported by Ilya Shipitsin in #745.
agentzh,2016-04-25 21:48:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b0fbce3228b7c43a31b16090528cde624406b3a9,b0fbce3228b7c43a31b16090528cde624406b3a9,bugfix: sslhandshake() accepts up to 5 arguments now (including the object itself).
agentzh,2016-04-22 20:37:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/256a59c363717825e876b26c258cfafb2f1c426e,256a59c363717825e876b26c258cfafb2f1c426e,added a test case for the previous commit.
chipitsine,2016-04-22 15:13:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/99866b50df8ad864d1f9f990045e7db48c3aa36c,99866b50df8ad864d1f9f990045e7db48c3aa36c,"bugfix: cosocket: sslhandshake() did not correctly check argument count.

Found by cppcheck:

[src/ngx_http_lua_socket_tcp.c:1184]: (warning) Logical conjunction always evaluates to false: n < 1 && n > 4.
[src/ngx_http_lua_util.c:916]: (warning) Either the condition 'ctx==0' is redundant or there is possible null pointer dereference: ctx.

Signed-off-by: Yichun Zhang (agentzh) <agentzh@gmail.com>"
agentzh,2016-03-28 16:35:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d44f8e04db2f6e3d08b9ac6a8aac863c1bd603e8,d44f8e04db2f6e3d08b9ac6a8aac863c1bd603e8,"Merge pull request #725 from ctrochalakis/typo-fixes

Typo fixes"
ctrochalakis,2016-03-28 13:10:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a67957d074de23afd7c86831ebf7dfa2d6018b28,a67957d074de23afd7c86831ebf7dfa2d6018b28,"Typo fixes

Lintian[0] complains about spelling-error-in-binary errors.

[0] https://lintian.debian.org/tags/spelling-error-in-binary.html"
agentzh,2016-03-28 03:19:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/93321acd0a2d8435b17831f30232ce38d9246795,93321acd0a2d8435b17831f30232ce38d9246795,bugfix: assignment to ngx.status might not affect subsequent ngx.status reads when error_page had already taken place. thanks wangwei4514 for the report.
agentzh,2016-03-17 00:18:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/21231a443c1ebfdfa7d8795d840cad5277f91cad,21231a443c1ebfdfa7d8795d840cad5277f91cad,bumped API version to 0.10.3.
agentzh,2016-03-17 00:18:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/92c6b8d422ffdb73ace97b96efe3bffe4a1f39fc,92c6b8d422ffdb73ace97b96efe3bffe4a1f39fc,bugfix: init_worker_by_lua* did not honor http {} top-level configurations like lua_ssl_verify_depth and lua_ssl_trusted_certificate. thanks Vladimir Shaykovskiy for the report in #709.
agentzh,2016-03-09 04:52:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3d61bf4ed96470dfb35de133032246a5d47b3a5c,3d61bf4ed96470dfb35de133032246a5d47b3a5c,doc: bumped version to 0.10.2.
agentzh,2016-03-09 04:50:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b68d7b4bdee08411d3944f27a2d618d8f2ecf86a,b68d7b4bdee08411d3944f27a2d618d8f2ecf86a,bugfix: fixed compilation warnings when http ssl module is disabled in the nginx build. this regression had appeared in commit c226a00567.
agentzh,2016-03-09 00:49:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a22a40984e32cc366702b9d280dbd4bad2db0f8d,a22a40984e32cc366702b9d280dbd4bad2db0f8d,doc: release 0.10.1.
agentzh,2016-03-07 20:14:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bf339b0f6ffdfc6bf44c3d37766a3e78664eb824,bf339b0f6ffdfc6bf44c3d37766a3e78664eb824,"Merge pull request #699 from othree/patch/readme-typo

Fix conf sample syntax error in README"
othree,2016-03-07 09:22:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/493eaa784f3f94618577041f319a3fcd8ec7b3dc,493eaa784f3f94618577041f319a3fcd8ec7b3dc,Fix conf sample syntax error in README
agentzh,2016-03-03 22:02:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c226a00567843c13790eb22a9b49c07e26e8f477,c226a00567843c13790eb22a9b49c07e26e8f477,bugfix: balancer_by_lua* might crash the nginx worker when SSL (https) is used for upstream connections. thanks Alistair Wooldrige for the report in #696.
agentzh,2016-03-01 06:14:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e9b437160f35f72747c3b153cdb854aec7ebccea,e9b437160f35f72747c3b153cdb854aec7ebccea,minor doc updates.
agentzh,2016-03-01 04:06:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/60ebb5c00dfece18398737c4e7363d2694e04fd2,60ebb5c00dfece18398737c4e7363d2694e04fd2,"bugfix: hot loop might happen when balancer_by_lua was used with the ""keepalive"" directive. thanks GhostZch for the report in #693."
agentzh,2016-03-01 02:55:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6a422b6a4933dda2bc0568b442a1efb7c64ab8fb,6a422b6a4933dda2bc0568b442a1efb7c64ab8fb,fixed a test formatting issue.
yejingx,2016-02-26 12:23:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fe96cf8356e82acd112aeb96f39abed2c4ec36c7,fe96cf8356e82acd112aeb96f39abed2c4ec36c7,ngx.req.get_post_args: return error message instead of raising an exception when request body is in temp file.
agentzh,2016-02-23 19:15:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/78426ffa63e8425b65bd082cf87e445fbd2ab06a,78426ffa63e8425b65bd082cf87e445fbd2ab06a,"bugfix: fixed the compiler warning ""unused variable"" when compiling with nginx cores older than 1.7.5 (exclusive). thanks Marc Neudert for the patch in #684."
agentzh,2016-02-23 17:27:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4b063c93d18939895cc456aa11a898b2d49c2374,4b063c93d18939895cc456aa11a898b2d49c2374,"Merge pull request #683 from thibaultCha/docs/get-phase-balancer

docs: add get_phase() result in ""balancer"" context"
thibaultcha,2016-02-23 10:28:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9c603e3ff84add8f908af72ada0b79f957dc71a0,9c603e3ff84add8f908af72ada0b79f957dc71a0,"docs: add get_phase() result in ""balancer"" context"
agentzh,2016-02-18 05:00:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c6c905d8a1a1b35f182768b2b938e45034d90a44,c6c905d8a1a1b35f182768b2b938e45034d90a44,tests: added a (passing) test case proposed by Mathew Heard in #681.
agentzh,2016-02-18 04:24:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2aa42d572d37187964f85e4ce69747a3bcfc1e05,2aa42d572d37187964f85e4ce69747a3bcfc1e05,tests: added passing tests for using ngx.worker.count() in the context of init_by_lua*.
agentzh,2016-02-17 20:27:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5231d5fb678d4b539be122a0587a9ece7e5582f6,5231d5fb678d4b539be122a0587a9ece7e5582f6,doc: updated the markdown version accordingly.
agentzh,2016-02-17 20:26:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d2cedd838dcfac5bf5f4a8e6545e02e5ee29b96e,d2cedd838dcfac5bf5f4a8e6545e02e5ee29b96e,doc: updated the TODO list to reflect recent changes.
agentzh,2016-02-17 19:36:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/20f2e889a9d48550b01e7eb7f45bbaa0ab124200,20f2e889a9d48550b01e7eb7f45bbaa0ab124200,tests: increased the waiting time of a test case.
agentzh,2016-02-17 17:53:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b1a326eedf47b77e98b378fae1160e5340b75006,b1a326eedf47b77e98b378fae1160e5340b75006,bugfix: fixed compilation errors with LibreSSL by disabling ssl_certificiate_by_lua* and some ngx.ssl API functions that are not supported by LibreSSL. thanks George Liu for the report in #654 and Bret for the report in openresty/openresty#148.
thibaultcha,2016-02-14 06:27:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3b46731e990eba6b1e4077e48189c40c329e9c60,3b46731e990eba6b1e4077e48189c40c329e9c60,"doc: updated the docs of get_phase() for the ""ssl_cert"" context."
agentzh,2016-02-13 18:41:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/74103392e20009875b70b89fabfe2c90bca94b76,74103392e20009875b70b89fabfe2c90bca94b76,doc: typo fix from Prayag Verma in #675.
r--w,2016-02-11 12:15:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/01727a39c1278fb34a7f56c4e1bdfd41d24f1abf,01727a39c1278fb34a7f56c4e1bdfd41d24f1abf,feature: added HTTP 2.0 support to ngx.req.http_version().
agentzh,2016-02-11 07:57:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4f2954302ce642a6f17255cff294663aa6552d8d,4f2954302ce642a6f17255cff294663aa6552d8d,"feature: this module can now be built as a ""dynamic module"" with NGINX 1.9.11+ via the --add-dynamic-module=PATH option of ./configure."
agentzh,2016-02-11 07:28:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/91c65907bc1a8bd116cd45fa2d44daa2260d53d8,91c65907bc1a8bd116cd45fa2d44daa2260d53d8,config: more adjustments.
agentzh,2016-02-11 07:25:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5adcbefd265ca7fe4feccee645027f015beea58a,5adcbefd265ca7fe4feccee645027f015beea58a,config: refactoring.
agentzh,2016-02-11 07:07:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5abc7b6bbbe3fe9d664e4fecb85dbfb9deecf273,5abc7b6bbbe3fe9d664e4fecb85dbfb9deecf273,"bugfix: fixed compatibility issues with other nginx modules loaded as ""dynamic modules"" in NGINX 1.9.11+."
agentzh,2016-02-11 02:08:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/64866bcf4d3c1d9f5990bb43507118d50904cc52,64866bcf4d3c1d9f5990bb43507118d50904cc52,"bugfix: fixed compilation errors with nginx 1.9.11+. thanks Charles R. Portwood II and Tomas Kvasnicka for the report in #669 and #668, respectively."
agentzh,2016-02-10 21:34:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b28eefa2e463e444478307293a6a84ed6ef3fdda,b28eefa2e463e444478307293a6a84ed6ef3fdda,tests: made two test cases less agreesive in allocations.
cubicdaiya,2016-02-09 01:35:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/320641adf5f87541bd72de4cf2b4dec9fe400d47,320641adf5f87541bd72de4cf2b4dec9fe400d47,optimize: use lua_pushliteral for string-literal.
agentzh,2016-02-10 00:21:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/db206ab8563152d6bd5ff36c9bc7ab54de155e7d,db206ab8563152d6bd5ff36c9bc7ab54de155e7d,doc: a follow-up fix for commit 4d77caeb8.
agentzh,2016-02-10 00:20:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b6f5877d18d6c644aa1e138ef89cf3357c85a61f,b6f5877d18d6c644aa1e138ef89cf3357c85a61f,"Merge pull request #671 from typhonius/docos-error-fix

Small documentation fix to sample code"
typhonius,2016-02-10 00:07:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4d77caeb8c4b9ad09d5d127f27b7179a1a1d4c51,4d77caeb8c4b9ad09d5d127f27b7179a1a1d4c51,Small documentation fix to sample code
agentzh,2016-02-09 21:35:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b98a7f7bbf8934f99458049e3eaeb3047b93392c,b98a7f7bbf8934f99458049e3eaeb3047b93392c,"bugfix: stream-typed cosockets: we did not set the ""error"" field of the ngx_connection_t object which MIGHT lead to socket leaks."
agentzh,2016-02-09 21:33:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d7d4547344c8a161a7cd5dba778ba327dcb356fc,d7d4547344c8a161a7cd5dba778ba327dcb356fc,"bugfix: avoided a potential memory issue when the request handler is aborted prematurely (via ngx.exit, for example) while a light thread is still waiting on ngx.flush(true)."
agentzh,2016-02-09 21:06:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/740552fa743995b0d2c33b96ca55dd3001fc64c3,740552fa743995b0d2c33b96ca55dd3001fc64c3,doc: updated the doc for ngx.req.discard_body() to reflect recent changes. now ignoring request bodies indeed trigger disgarding the body upon request finalization.
agentzh,2016-02-07 20:40:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8d7549fe7ee1b24c9c6c7557035420563c99544c,8d7549fe7ee1b24c9c6c7557035420563c99544c,"feature: added new API, ngx.config.subsystem, which always takes the Lua string value ""http"" in this module."
agentzh,2016-02-07 20:37:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fcec9744cb5db7ac5d9cfdc0eae339bac357ad54,fcec9744cb5db7ac5d9cfdc0eae339bac357ad54,made the tests more robust.
agentzh,2016-02-05 20:23:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/43ec78432d9375bf63b37a6ca08960766c3811d0,43ec78432d9375bf63b37a6ca08960766c3811d0,renamed util/build2.sh to util/build.sh.
agentzh,2016-02-05 19:49:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e920600f6eaea602035c07233a402e4f59dfa50d,e920600f6eaea602035c07233a402e4f59dfa50d,doc: mentions ngx_stream_lua_module.
agentzh,2016-02-05 19:44:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0dabb560c05695cabaf022ac9a9bd9ca686929eb,0dabb560c05695cabaf022ac9a9bd9ca686929eb,doc: updated the copyright year to 2016.
agentzh,2016-02-03 19:07:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/da30ad60af5d531cdb7bc4766beb08f6747a68ea,da30ad60af5d531cdb7bc4766beb08f6747a68ea,"Merge pull request #667 from bjoe2k4/master

doc: fix log_by_lua, runs before nginx access log and after"
bjoe2k4,2016-02-03 18:41:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c16e1e4c02443d27074a96efc469d09dd4dd9e10,c16e1e4c02443d27074a96efc469d09dd4dd9e10,doc: log_by_lua runs after nginx access log
agentzh,2016-02-03 17:41:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3bb11aa51a59987db6d748cb5a845d32d72e36bb,3bb11aa51a59987db6d748cb5a845d32d72e36bb,"Merge pull request #665 from doujiang24/doc

doc: add balancer_by_lua*, ssl_certificate_by_lua* to the context of some api"
doujiang24,2016-02-03 07:58:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2a53bb4836c26b9e879bb00191256b63e9147a1f,2a53bb4836c26b9e879bb00191256b63e9147a1f,"doc: add balancer_by_lua*, ssl_certificate_by_lua* to the context of
some api"
agentzh,2016-02-02 19:38:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/da16f8d71a64ad4468faded71c9a7b14fe53beca,da16f8d71a64ad4468faded71c9a7b14fe53beca,doc: fixed an error in ngx.encode_base64 regarding streaming generation.
agentzh,2016-02-02 19:37:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5ee9b0dad7643a75076ae752f5e10981f9a5b8aa,5ee9b0dad7643a75076ae752f5e10981f9a5b8aa,feature: added new API function ngx.socket.stream() which is an alias to ngx.socket.tcp().
thibaultcha,2016-01-18 04:05:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bb91590fafcc671dcf07fac050e7a515f6b2c6e1,bb91590fafcc671dcf07fac050e7a515f6b2c6e1,"feature: ngx.log() and print() now accept tables with the __tostring metamethod.

Extends ngx.log() and print() to allow table arguments when those have a
'__tostring' metamethod. If they don't have such a metamethod, ngx.log()
and etc will raise an error (similar to previous behavior when a table
was given to ngx.log and etc)."
ghedo,2016-01-18 16:48:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/60bd1b1aade07ed3bf7a83a0af94da7b61291f1d,60bd1b1aade07ed3bf7a83a0af94da7b61291f1d,bugfix: support non-RSA private keys as well.
agentzh,2016-01-31 23:21:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a43bc0a1b1bb1b2fc2983cf03a191d92b1406219,a43bc0a1b1bb1b2fc2983cf03a191d92b1406219,"bugfix: ngx.re: memory over-reads might happen in DFA mode when the regex has submatch capturing groups.

This regression had appeared in commit cfd4f904d4."
agentzh,2016-01-31 23:19:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/34985cc6154579c7869d5ed843599c3aa0caf609,34985cc6154579c7869d5ed843599c3aa0caf609,fixed coding style issues introduced in the previous commit.
agentzh,2016-01-31 22:02:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/49d52562677b88a3a491a30863960b4cfa7c72ac,49d52562677b88a3a491a30863960b4cfa7c72ac,optimize: ngx.re: we always preserve the array part for the 0-indexed capture to avoid (expensive) lua table auto growth.
jdesgats,2016-01-20 11:04:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cfd4f904d4776dfcfefd460c643775a30efd2042,cfd4f904d4776dfcfefd460c643775a30efd2042,"change: unmatched captures are set to false in the captures table.

Now unmatched capture groups in `ngx.re.match`, `ngx.re.gmatch`,
`ngx.re.sub`, and `ngx.re.gsub` are
set to `false` rather than nil. This prevents to create tables with
holes that don't play nicely with `ipairs` or `#` operators.

For consistency, unmatched trailing captures (for instance in
`ngx.re.match(""hello"", ""(hello)(.+)?"")`) are
also set to `false`.

Named captures are not affected."
agentzh,2016-01-31 17:59:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/701efd5caabd66e4c46ce02975c52260b025bd41,701efd5caabd66e4c46ce02975c52260b025bd41,bumped API version number to 0.10.1.
agentzh,2016-01-31 17:59:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/753b0a2f8163a0b8319c03c4858dea90cf43442a,753b0a2f8163a0b8319c03c4858dea90cf43442a,minor tweaks in a test file.
agentzh,2016-01-29 06:10:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2c4984f0bf80252e1eb62a223ca1fcbf18d80d19,2c4984f0bf80252e1eb62a223ca1fcbf18d80d19,a followup fix for the previous commit.
agentzh,2016-01-29 05:09:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e5992f7e416e78ef4f410f2089ea38e2b2b07123,e5992f7e416e78ef4f410f2089ea38e2b2b07123,bugfix: we might not respond to client abort events when lua_check_client_abort is on.
agentzh,2016-01-29 04:04:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cd3c6bd2af7cde523d231948e0db0b588bb28148,cd3c6bd2af7cde523d231948e0db0b588bb28148,minor style fixes.
agentzh,2016-01-29 00:07:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bcdcd85b216bcb918218cac862d5af050b15579e,bcdcd85b216bcb918218cac862d5af050b15579e,added more bytecode tests that can work with LuaJIT 2.1 and beyond without hard-coding bytecodes in the tests.
agentzh,2016-01-28 18:55:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d44e90dcb1125d284d0b301d9824e9337adbc065,d44e90dcb1125d284d0b301d9824e9337adbc065,added a passing tests using balancer_by_lua* inside a lua subrequest.
doujiang24,2016-01-28 08:48:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6ba92a6748bb3a65b247a5b58dd2ce73ae501f5c,6ba92a6748bb3a65b247a5b58dd2ce73ae501f5c,"bugfix: balancer_by_lua* did not respect ""lua_code_cache off"". thanks XI WANG for the report and Dejiang Zhu for the patch in #663."
agentzh,2016-01-26 22:14:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4c0bf091109f63e0fb7871ee65ce75ba96ed076d,4c0bf091109f63e0fb7871ee65ce75ba96ed076d,minor tweaks in tests.
agentzh,2016-01-25 22:59:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/36403c1605bcbd5d316b56764de98dfccff789ea,36403c1605bcbd5d316b56764de98dfccff789ea,doc: ngx_openresty -> OpenResty.
agentzh,2016-01-24 22:07:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4bc2e2d9f3eff357bb244c3e610e6e579f0a0a6f,4bc2e2d9f3eff357bb244c3e610e6e579f0a0a6f,doc: documented that ngx.req.get_body_data() is available in the context of log_by_lua*. thanks YuanSheng Wang for the patch in #660.
agentzh,2016-01-24 21:54:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a5a6a12b3edb22ce4ce22b861a4a92a56c1de972,a5a6a12b3edb22ce4ce22b861a4a92a56c1de972,"Merge pull request #661 from doujiang24/style

style fix: variable name align with the previous line"
doujiang24,2016-01-23 11:07:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f4db0b71efdffeb1d439c1ae4064e5890373a838,f4db0b71efdffeb1d439c1ae4064e5890373a838,style fix: variable name align with the previous line
agentzh,2016-01-22 22:29:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/93ca1cb757f3d7fbc39587200aee5656c5f6aa82,93ca1cb757f3d7fbc39587200aee5656c5f6aa82,minor tweaks.
agentzh,2016-01-20 23:54:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/489cc24577b062f80acc09c093cd9ccf234050c7,489cc24577b062f80acc09c093cd9ccf234050c7,various minor tweaks.
ghedo,2016-01-18 18:10:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dc5ad60194ad4d4b378a8575a1df3add15eb0d91,dc5ad60194ad4d4b378a8575a1df3add15eb0d91,SSL: remove leading white space from error messages
ghedo,2016-01-18 18:09:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9de7841ee34fb49679da728522fbb13e02f2e172,9de7841ee34fb49679da728522fbb13e02f2e172,SSL: set error message on i2d_X509() failure as well
agentzh,2016-01-18 23:57:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f86335b53622d6aba4b90d5df0293d03dee13000,f86335b53622d6aba4b90d5df0293d03dee13000,minor coding style fixes.
agentzh,2016-01-13 07:09:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1645a5f0d03969617d4b7f9ff5d66f6241d0dd73,1645a5f0d03969617d4b7f9ff5d66f6241d0dd73,doc: fixed the year. my brain still lived in 2015. alas. thanks leemingtian for the report.
agentzh,2016-01-11 21:58:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/09644c46a2ecae99e060fc9cb819861f425d4246,09644c46a2ecae99e060fc9cb819861f425d4246,doc: bumped version to 0.10.0.
agentzh,2016-01-08 18:05:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/17621837e9ed3fa119534ccce2b94bd990776e9f,17621837e9ed3fa119534ccce2b94bd990776e9f,bugfix: semaphore: memory invalid reads might happen when using ngx.semaphore in init_by_lua*.
agentzh,2016-01-08 05:04:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8ac6fe795c8a5ef144ef1b2e3549437e5c866c78,8ac6fe795c8a5ef144ef1b2e3549437e5c866c78,made a test case less possible to fail on slow machines due to timing errors.
agentzh,2016-01-08 04:59:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b7fac12c4211e857006bb973d19bd7913249b3f9,b7fac12c4211e857006bb973d19bd7913249b3f9,"Revert ""tests: $TEST_NGINX_HTML_DIR might be too long for unix domain socket names.""

This reverts commit df130559fa77c7568b52412601e88ea241f5d78d."
maage,2016-01-07 13:44:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/79527af679244811be5ca446c36679a253ee4834,79527af679244811be5ca446c36679a253ee4834,tests: skipped tests for ssl_certificiate_by_lua* if OpenSSL is too old.
maage,2015-03-04 17:06:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/df130559fa77c7568b52412601e88ea241f5d78d,df130559fa77c7568b52412601e88ea241f5d78d,"tests: $TEST_NGINX_HTML_DIR might be too long for unix domain socket names.

Move unix socket to current directory, no path defined and is not
configurable.

From Linux unix(7): ""On Linux sun_path is 108 bytes in size""

I have longer directory names when running different builds of nginx
and these tests fail because of that."
agentzh,2016-01-07 18:28:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/514e6d61149f2824c90acd6737188d19ca1aa12d,514e6d61149f2824c90acd6737188d19ca1aa12d,doc: added a note to ssl_certificate_by_lua_block for the use of ssl_certificate and ssl_certificate_key directives. thanks eagle-china for the suggestion.
agentzh,2016-01-07 18:16:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/832dcd1b9f90659a5bd8ac15ac6a625bd1ee2aa8,832dcd1b9f90659a5bd8ac15ac6a625bd1ee2aa8,doc: improved the docs for ngx.ctx a bit more.
agentzh,2016-01-07 18:14:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2293dd228e6b1106965e03c7d1689cef3be98e25,2293dd228e6b1106965e03c7d1689cef3be98e25,doc: made clear the ngx.ctx scoping issues. thanks Robert Paprocki for asking.
agentzh,2016-01-06 19:19:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/08c32bc08b15fa5029d807690d88d3f0caee70c6,08c32bc08b15fa5029d807690d88d3f0caee70c6,now we require at least NGINX 1.6.0.
agentzh,2016-01-06 19:03:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/813d743ccd017c189e99392f20112d29e64f4a8c,813d743ccd017c189e99392f20112d29e64f4a8c,bugfix: fixed compilation errors with nginx cores older than 1.7.5 (exclusive). thanks Mejar Singh for the report.
agentzh,2016-01-06 18:48:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1fac985743a52f0f1d633a1985a3f0356a0078da,1fac985743a52f0f1d633a1985a3f0356a0078da,optimize: saved the event_posted flag maintained by ourselves since ngx_event_t already has such a flag. also moved all the event initialization code to the semaphore initializer.
agentzh,2016-01-06 18:23:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9f3eb280c15bf1751131c9d0ac4e849d5331dc47,9f3eb280c15bf1751131c9d0ac4e849d5331dc47,bugfix: semaphore: always zero the whole ngx_event_t struct to avoid forward compatibility risks.
agentzh,2016-01-06 18:05:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3c3cca76e2035c1549c954950ba4a5352c6ac356,3c3cca76e2035c1549c954950ba4a5352c6ac356,bugfix: fixed compilation failures with nginx cores older than 1.7.12. this regression had appeared in the semaphore commit.
agentzh,2016-01-06 17:46:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/55d28401cc141c7d4d6d77232cb251ca1fa0b073,55d28401cc141c7d4d6d77232cb251ca1fa0b073,"bugfix: we should cleanup the current light thread and run the static dtrace probe in ngx.exit() even for fake requests (used by ngx.timer.at and ssl_certificiate_by_lua*, for example).

This also fixed a test failure in 106-timer.t."
agentzh,2016-01-05 21:53:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f95d7b0b143613b107f05c14128759e1415feab4,f95d7b0b143613b107f05c14128759e1415feab4,bugfix: remove a line of unreacheable code found by the Microsoft C compiler (via a warning). thanks itpp16 for the patch in #640.
agentzh,2016-01-05 20:22:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9880416153e606fb8dd55890e5bb686b65d92b4a,9880416153e606fb8dd55890e5bb686b65d92b4a,util/build2.sh: added support for the OPENSSL_INC and OPENSSL_LIB environments.
agentzh,2016-01-05 05:38:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4fbd5da4c0ca5c8d7b8fe98574081d30dc7e7226,4fbd5da4c0ca5c8d7b8fe98574081d30dc7e7226,minor doc typo fixes.
agentzh,2016-01-05 04:52:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6667cb95922fb457e4ff4cfd4a1e85f512fbd281,6667cb95922fb457e4ff4cfd4a1e85f512fbd281,doc: updated the links to reflect recent changes.
agentzh,2016-01-05 04:35:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0d470871e44e7661075f4a48736bb32508d9d3ad,0d470871e44e7661075f4a48736bb32508d9d3ad,bugfix: ngx.get_phase() did not work in the context of balancer_by_lua*.
agentzh,2016-01-05 04:25:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6c9d2585a23385dff1d8b96b5e3b096da7d96e3e,6c9d2585a23385dff1d8b96b5e3b096da7d96e3e,"feature: better SSL/TLS handshake control.

* implemented the ssl_certificate_by_lua_block and
  ssl_certifcate_by_lua_file directives for controlling the NGINX
  downstream SSL handshake dynamically with Lua.
* added pure C API for Lua libraries ngx.ssl and ngx.ocsp in the
  lua-resty-core library (and possibly others too).
* added an optional send_status_req argument to stream-typed
  cosockets' sslhandshake() method to send OCSP status request."
agentzh,2016-01-03 18:27:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/884f24eef2dd33f298526ea7d365fbf05ce3cfc4,884f24eef2dd33f298526ea7d365fbf05ce3cfc4,doc: fixed the literal asterisk escaping in the correct way.
agentzh,2016-01-03 18:22:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a46c07a2a714136bc3b10f944b0ebbdf99b1749c,a46c07a2a714136bc3b10f944b0ebbdf99b1749c,doc: markdown: escaped the literal asterisks properly.
agentzh,2016-01-03 05:57:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e44c9d8890c04515317660b29d1583fabb7a422c,e44c9d8890c04515317660b29d1583fabb7a422c,added even more nginx debugging logs to the ngx.semaphore API implementation.
agentzh,2016-01-03 05:54:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9799d2724623577c261347d0de7952cc37e11a29,9799d2724623577c261347d0de7952cc37e11a29,added more nginx debugging logs to the ngx.semaphore API implementation.
agentzh,2016-01-02 00:05:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/295744eaa069c84e29160f3820d96c88ed557e01,295744eaa069c84e29160f3820d96c88ed557e01,minor fixes.
agentzh,2016-01-01 17:52:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b84801c4849211a9589a067d8c0fb707663ea343,b84801c4849211a9589a067d8c0fb707663ea343,updated .gitignore to reflect recent changes.
agentzh,2015-12-29 22:19:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9c3e3cf04354650b483f567407dce3e9cf251956,9c3e3cf04354650b483f567407dce3e9cf251956,bugfix: balancer_by_lua*: fixed a warning from the Microsoft C compiler. thanks itpp16 for the report in #636.
agentzh,2015-12-27 09:14:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8c53a0d2d817c328bf545d0bcfc028da6abfe806,8c53a0d2d817c328bf545d0bcfc028da6abfe806,"feature: implemented the balancer_by_lua_block and balancer_by_lua_file directives to allow NGINX load balancers written in Lua.

Also added pure C API to support the ngx.balancer Lua API implemented in
the lua-resty-core library.

Thanks Shuxin Yang, Dejiang Zhu, Brandon Beveridge, and others for the help."
agentzh,2015-12-26 18:58:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e5bf7d69f2756573eed1d65b741bbeb40108b1be,e5bf7d69f2756573eed1d65b741bbeb40108b1be,the next version will be 0.10.0.
agentzh,2015-12-26 08:15:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/822341d8d6d55d80f02a5adcf0e955db216f10cd,822341d8d6d55d80f02a5adcf0e955db216f10cd,"doc: moved the document section ""ngx.semaphore"" to a better place."
agentzh,2015-12-26 08:13:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/18551f7c90f333a3f74a3df0182ac7f77e52ee3f,18551f7c90f333a3f74a3df0182ac7f77e52ee3f,doc: fixed the link to the ngx.semaphore module documentation. #584.
agentzh,2015-12-26 07:53:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9db3f54f4538957e5df06f4f701e3c027fbf8af7,9db3f54f4538957e5df06f4f701e3c027fbf8af7,"feature: added pure C API for the ngx.semaphore Lua module implemented in lua-resty-core.

This ngx.semaphore API provides efficient synchronization among ""light
threads"" across request/context boundaries.

Thanks Weixie Cui and Dejiang Zhu from Kugou Inc. for contributing this
feature in #584. Also thanks Kugou Inc. for supporting this work."
agentzh,2015-12-26 02:41:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d6fa8dbbddfdc53617bf48d08be0b6cba2ec679a,d6fa8dbbddfdc53617bf48d08be0b6cba2ec679a,minor coding style tweak.
agentzh,2015-12-26 02:28:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/04b05ff2a757542286999d84fff73a98706f0207,04b05ff2a757542286999d84fff73a98706f0207,bumped API version to 0.9.21.
agentzh,2015-12-25 06:18:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9693828e7f29870fea285775ca25900d7049b009,9693828e7f29870fea285775ca25900d7049b009,doc: typo fix for the contexts of ngx.worker.id. thanks RocFang for the patch in #634.
agentzh,2015-12-24 05:44:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c655905ebe95edc92f577a72c9a94804a3d4d87b,c655905ebe95edc92f577a72c9a94804a3d4d87b,style: various coding style fixes from Dejiang Zhu (found by his enhanced version of ngx-releng) via #630.
agentzh,2015-12-23 08:43:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b21f7993b5773aaefb23556d8bb9adf398b5dd44,b21f7993b5773aaefb23556d8bb9adf398b5dd44,updated a test case that fail in recent versions.
agentzh,2015-12-21 18:59:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6a664c839307d996712368ec8caf2c2b3928197d,6a664c839307d996712368ec8caf2c2b3928197d,doc: minor typo fixes.
agentzh,2015-12-20 05:43:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/524be2ea8cccd65e0ae3dbdff6899acdf703e6e2,524be2ea8cccd65e0ae3dbdff6899acdf703e6e2,fixed a C compiler warning on FreeBSD introduced in the previous commit.
agentzh,2015-12-20 05:22:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/35ba732be8ebdfc42d9c76c5888b1b81cfaaefd8,35ba732be8ebdfc42d9c76c5888b1b81cfaaefd8,bugfix: fixed a compiler warning on type mismatch when dtrace USDT is enabled in the build.
agentzh,2015-12-20 05:06:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0aa08037db0d563429e7391b886065298752d28b,0aa08037db0d563429e7391b886065298752d28b,doc: bumped version to 0.9.20.
agentzh,2015-12-20 00:12:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/feb634ab8f4fe51e6d94399cb457966170b5a677,feb634ab8f4fe51e6d94399cb457966170b5a677,doc: stated that we work with nginx cores as far as 1.9.7.
agentzh,2015-12-17 20:28:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/87a20d124b2da233a371c2a31590a58b3fbcbda0,87a20d124b2da233a371c2a31590a58b3fbcbda0,tests: fixed SSL cosocoket test cases for server configuration changes.
ghedo,2015-12-14 10:31:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1d9a77169e5b327ba6146afefd3dd1caa3c24a0e,1d9a77169e5b327ba6146afefd3dd1caa3c24a0e,"refactor: lua code cache: make load functions take a log directly.

This patch makes the functions ngx_http_lua_cache_loadbuffer() and
ngx_http_lua_cache_loadfile() take an ngx_log_t* argument directly
instead of an ngx_http_request_t* so that they can be used in contexts
where an HTTP request is not available."
agentzh,2015-12-13 17:01:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2c404557644ed66de496f29f7a424a054d1006fe,2c404557644ed66de496f29f7a424a054d1006fe,bugfix: we lacked detailed context info in error messages due to use of disabled Lua APIs in body_filter_by_lua*. thanks Dejiang Zhu for the patch in #623.
agentzh,2015-12-13 04:27:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/97890587c5fa08e2d0a3f3db110ae3411384ea61,97890587c5fa08e2d0a3f3db110ae3411384ea61,documented that ngx.worker.id() requires nginx 1.9.1+.
agentzh,2015-12-13 04:24:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fced532fe3aa449240ca638fc51e3a6adf361109,fced532fe3aa449240ca638fc51e3a6adf361109,removed the empty .gitmodules file.
agentzh,2015-12-13 03:57:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ed96fef21c83f4cd3a8d04e061809d43ab025507,ed96fef21c83f4cd3a8d04e061809d43ab025507,bugfix: compilation failed with nginx <= 1.9.0. thanks huangzihao for the patch in #622.
agentzh,2015-12-13 03:45:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1ca69efbf647a635543677f4a88a3adbce426325,1ca69efbf647a635543677f4a88a3adbce426325,a follow-up fix for the previous commit.
agentzh,2015-12-12 18:36:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f54438b6aaf561a8948b55e266296e7289380e1d,f54438b6aaf561a8948b55e266296e7289380e1d,"bugfix: fixed compiler warnings ""comparison between signed and unsigned integer expressions"" on Windows."
agentzh,2015-12-12 18:15:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c040f15916094b0d1bfb4d084d0350c41cf7fb2e,c040f15916094b0d1bfb4d084d0350c41cf7fb2e,improved the tests added in commit 3e086ed3.
agentzh,2015-12-12 17:19:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2bf7710118baac2afb307e544bd370992f8ccdf6,2bf7710118baac2afb307e544bd370992f8ccdf6,"fixed the initial table sizes for the tables ""ngx"" and ""ngx.req"" to reflect recent changes."
agentzh,2015-12-12 17:15:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7befc2c5fcdde7265d13630798820494ae4a3561,7befc2c5fcdde7265d13630798820494ae4a3561,added one more test case (for ngx.req.clear_header) for commit f48aef50.
agentzh,2015-12-11 22:48:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c9b629ad90e885d9e205a40b20fe30ff9154b8a7,c9b629ad90e885d9e205a40b20fe30ff9154b8a7,doc: added a note about the full-buffering nature of the ngx.location.capture* API. thanks cmaion for the original patch in #607.
agentzh,2015-12-11 22:40:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/00f62a5add8ed558c2634f6ca82db148d74f5c9f,00f62a5add8ed558c2634f6ca82db148d74f5c9f,"feature: added new API function ngx.req.is_internal() for testing if the current request is an internal request.

thanks Ruoshan Huang for the patch in #350."
agentzh,2015-12-11 22:32:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c3ac14e23c20f09a5c79580cdb88d75d54f6fbed,c3ac14e23c20f09a5c79580cdb88d75d54f6fbed,feature: added many more HTTP status constants as ngx.HTTP_XXX. thanks Vadim A. Misbakh-Soloviov for the patch in #425.
agentzh,2015-12-11 22:24:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f48aef50f6827d0f5a27e995fd1edb14ee9306ca,f48aef50f6827d0f5a27e995fd1edb14ee9306ca,bugfix: setting the built-in header X-Forwarded-For via ngx.req.set_header() or ngx.req.clear_header() might not take effect in some parts of the nginx core (like $proxy_add_x_forwarded_for). thanks aviramc for the patch in #491.
agentzh,2015-12-11 21:45:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/932584be2278ca3f5ca577afebb44c2ef9da9f85,932584be2278ca3f5ca577afebb44c2ef9da9f85,feature: added new constant ngx.HTTP_TEMPORARY_REDIRECT (307) and support for 307 in ngx.redirect(). thanks RocFang for the patch in #416.
agentzh,2015-12-11 19:50:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b75aa9342cbbfe235ec16e8fc5b4ad60be7862f2,b75aa9342cbbfe235ec16e8fc5b4ad60be7862f2,"feature: added new config directive ""access_by_lua_no_postpone"". thanks Delta Yeh for the patch in #580."
agentzh,2015-12-11 19:43:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7c28017029aec8f46a44fce693af42b3cf4918c1,7c28017029aec8f46a44fce693af42b3cf4918c1,doc: documented the minimum size threshold in lua_shared_dict. thanks mlr3000 for the original patch in #616.
agentzh,2015-12-11 19:33:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3e086ed322af34442431f587f25c51211eddb256,3e086ed322af34442431f587f25c51211eddb256,"optimize: reduce memory allocations in stream cosockets.

* avoided allocating the host name buffer when getting peers from the
  connection pool.
* recycled the stream cosockets' request cleanup records.

thanks Dejiang Zhu for the patch in #590."
agentzh,2015-12-11 01:02:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f2228aef4393af94a5a52ce9e29895c506eff76e,f2228aef4393af94a5a52ce9e29895c506eff76e,feature: added new API functions ngx.timer.pending_count() and ngx.timer.running_count(). thanks Simon Eskildsen for the patch in #550.
agentzh,2015-12-11 00:19:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1dee389208c86cb22eaee425a5867dfaddc5d2d3,1dee389208c86cb22eaee425a5867dfaddc5d2d3,"feature: added new API functions ngx.worker.count() and ngx.worker.id() for returning the total count of nginx worker processes and the ordinal number (0, 1, 2, and etc) of the current worker. thanks YuanSheng Wang for the patch in #531.

also added pure C APIs for them."
agentzh,2015-12-10 23:40:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/91f9846c0642be813e2462d3c0eb6454fedba6fb,91f9846c0642be813e2462d3c0eb6454fedba6fb,bugfix: ngx.req.get_uri_args/ngx.req.get_post_args: avoided allocating a zero-size buffer in the nginx memory pool since it might cause problems. thanks Chuanwen Chen for the report and patch in #605.
agentzh,2015-12-10 23:13:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/91bd1e4e35019590bc4cff0c978de99075c1f84e,91bd1e4e35019590bc4cff0c978de99075c1f84e,optimize: avoid allocating in the nginx request memory pool in stream cosockets' receive*() methods. thanks Lourival Vieira Neto for the patch in #519.
agentzh,2015-12-05 07:25:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/72244ea07d4e767ed676ce4c762edf4f0596e3e6,72244ea07d4e767ed676ce4c762edf4f0596e3e6,bugfix: fixed a potential data alignment issue in the ngx.var setter API.
agentzh,2015-12-05 07:13:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/87bdfc1a1b521e4a56010a3675415362cbe70c01,87bdfc1a1b521e4a56010a3675415362cbe70c01,bugfix: we had data alignment issues in the subrequest API which can explode on systems like ARMv6. thanks Stefan Parvu for providing the test environment. openresty/ngx_openresty#131.
agentzh,2015-12-05 06:55:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9fc3a1f2d061f70257513c0f87fee7815c6b5172,9fc3a1f2d061f70257513c0f87fee7815c6b5172,style: fixed a line exceeding 80 columns in the previous commit.
agentzh,2015-11-30 09:40:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8b1861679867e9ac64042a85058deec12bd79995,8b1861679867e9ac64042a85058deec12bd79995,bugfix: there was a data alignment issue in the tcpsock:setkeepalive() implementation which might lead to crashes on ARM systems. thanks Stefan Parvu for the report in openresty/ngx_openresty#130.
agentzh,2015-11-28 11:52:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd76e196a8407b428c78dfb6e949fa1d32481d6f,fd76e196a8407b428c78dfb6e949fa1d32481d6f,bumped the ABI version to 0.9.20.
agentzh,2015-11-25 12:35:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/049feaffd06877a72f58d81a89377277ca37b521,049feaffd06877a72f58d81a89377277ca37b521,a follow-up fix for #611.
agentzh,2015-11-25 12:19:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/94f68befa3be4e925a1411df02c6f6fd82af73d3,94f68befa3be4e925a1411df02c6f6fd82af73d3,"bugfix: bogus nginx.conf parse failure ""Lua code block missing the ""}"" character"" might happen when there are many Lua code blocks inlined. thanks Andreas Lubbe for the report and test case in #611."
agentzh,2015-11-25 04:15:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2b930872105829111296818edaf86f1937f91833,2b930872105829111296818edaf86f1937f91833,"bugfix: bogus ""subrequests cycle"" errors might occur with nginx 1.9.5+ due to the recent changes in the nginx core."
agentzh,2015-11-25 03:35:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1fae289285da02f50ad3b2fd8b6844cb99ab87e3,1fae289285da02f50ad3b2fd8b6844cb99ab87e3,"Revert ""tweaked .gitattributes a bit more.""

This reverts commit fe50cff389a3551670e8dd459541fc8e0cab0ff7."
agentzh,2015-11-24 14:36:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4ab399199a257bb0c41acef5313c59c2cf36cc4c,4ab399199a257bb0c41acef5313c59c2cf36cc4c,develper build script: disabled the spdy module since it is already removed.
agentzh,2015-11-23 15:04:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fe50cff389a3551670e8dd459541fc8e0cab0ff7,fe50cff389a3551670e8dd459541fc8e0cab0ff7,tweaked .gitattributes a bit more.
agentzh,2015-11-23 15:02:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2fa55e8638e4b9c77fbeebb10dc728cee755610d,2fa55e8638e4b9c77fbeebb10dc728cee755610d,added a .gitattributes file to correct GitHub's language tag.
agentzh,2015-11-11 09:49:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7b1ff62c2126b573ce3e1069639bd82922875801,7b1ff62c2126b573ce3e1069639bd82922875801,bumped version to 0.9.19.
agentzh,2015-11-09 03:58:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/905d7d0f04c96c6f8ca96c540374110c2f744c11,905d7d0f04c96c6f8ca96c540374110c2f744c11,bugfix: using quotes inside a pair of long brackets might lead to parse failures. this is similar to the issue reported by Dejiang Zhu in #596.
agentzh,2015-11-05 11:57:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c317742742c5d0f5cfdb648b4a58faf9e499a7d2,c317742742c5d0f5cfdb648b4a58faf9e499a7d2,doc: ngx.var: documented the values for undefined and uninitialized nginx variables. thanks Sean Johnson for asking for this explanation in #595.
agentzh,2015-11-04 14:42:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ea33435022130f2c9b5e09c61ade9460f2f6ba5c,ea33435022130f2c9b5e09c61ade9460f2f6ba5c,doc: bumped version to 0.9.18.
agentzh,2015-11-04 13:24:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f8e1a7ae7880fc114152cf0edcf2a2a6c7e88e59,f8e1a7ae7880fc114152cf0edcf2a2a6c7e88e59,doc: emphasized that we target NGINX's HTTP subsystem in this module.
agentzh,2015-11-04 09:07:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4e897529d7b2656e16cf33d1547ad56b6af0f75a,4e897529d7b2656e16cf33d1547ad56b6af0f75a,bugfix: use line comments inside a pair of long brackets might lead to parse failures. thanks Dejiang Zhu for the patch in #596.
agentzh,2015-11-01 04:26:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/809c6743278a80ca5c3a699531230397aedb1696,809c6743278a80ca5c3a699531230397aedb1696,bugfix: fixed errors and warnings with C compilers without variadic macro support.
agentzh,2015-10-30 13:18:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ec86ade2217180c719142214240feeb3d556f261,ec86ade2217180c719142214240feeb3d556f261,bumped the API version to 0.9.18.
agentzh,2015-10-30 13:17:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9fb2948c492daa225ed2cb42190625d49caa25fa,9fb2948c492daa225ed2cb42190625d49caa25fa,feature: now we support LuaJIT 2 on Windows (in the form of lua51.dll).
agentzh,2015-10-30 07:16:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4a9d4b11fb42db7202f4ca7107e79effb549e59d,4a9d4b11fb42db7202f4ca7107e79effb549e59d,bugfix: subrequest response status codes between the range 100 .. 299 (inclusive) might get lost in the return values of ngx.location.capture*() calls. thanks Igor Clark for the report.
agentzh,2015-10-30 06:57:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2f65b0fff0e081a1115a854b24a8fdb55999c51d,2f65b0fff0e081a1115a854b24a8fdb55999c51d,bugfix: we might return the wrong shm zone in the public C API function ngx_http_lua_find_zone(). thanks qlee001 for the report in #589.
agentzh,2015-10-27 09:11:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2cbeb0c5a8bd236f11025ddfbf120f8e45b5c6d5,2cbeb0c5a8bd236f11025ddfbf120f8e45b5c6d5,doc: bumped version to 0.9.17.
agentzh,2015-10-27 04:11:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/04a57a1d38ea4ebbc9a7e470f96c59b3db3039c6,04a57a1d38ea4ebbc9a7e470f96c59b3db3039c6,doc: fixed a typo.
agentzh,2015-10-27 04:06:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e5c01f3dc32fa37fa40580fb7905ba6426aa3b1f,e5c01f3dc32fa37fa40580fb7905ba6426aa3b1f,doc: use *_by_lua_block {} in the examples in Synopsis; also updated the TODO and Special Escaing Sequeneces sections to reflect recent changes.
agentzh,2015-10-27 03:55:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9afe2066a0bd0b7f958373d9d9f88526f391cf44,9afe2066a0bd0b7f958373d9d9f88526f391cf44,documented the log_by_lua_block {} directive.
agentzh,2015-10-27 03:52:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/acc8239910f78130e163aabca3dbb0337c371413,acc8239910f78130e163aabca3dbb0337c371413,documented the body_filter_by_lua_block {} directive.
agentzh,2015-10-27 03:48:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d76317b62af07ea02e9064932f253dc37030c475,d76317b62af07ea02e9064932f253dc37030c475,documented the header_filter_by_lua_block {} directive.
agentzh,2015-10-27 03:45:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/51be770acd5a48ee043f84d82a6b62fc5c907af3,51be770acd5a48ee043f84d82a6b62fc5c907af3,documented the access_by_lua_block {} directive.
agentzh,2015-10-27 03:27:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2ba17fd197fc88dc6206e358c8e25e38720f94fe,2ba17fd197fc88dc6206e358c8e25e38720f94fe,documented the rewrite_by_lua_block {} directive.
agentzh,2015-10-27 03:24:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/37167ce58aa08d15fc75afc6d3a93f77becd6e16,37167ce58aa08d15fc75afc6d3a93f77becd6e16,documented the content_by_lua_block {} directive.
agentzh,2015-10-27 03:21:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/def5d5500880b7da4277c059399407454300cf4b,def5d5500880b7da4277c059399407454300cf4b,documented the init_worker_by_lua_block {} directive.
agentzh,2015-10-27 03:18:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8daa9a672cc081ed963c839b2685e9d1d832ce62,8daa9a672cc081ed963c839b2685e9d1d832ce62,doc: use proper wiki syntax.
agentzh,2015-10-27 03:15:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0025a9827afa647f371158efbb02df5b6d5d6aa1,0025a9827afa647f371158efbb02df5b6d5d6aa1,documented the init_by_lua_block {} directive.
agentzh,2015-10-27 03:03:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/95dd9cd6179a3a01523fee9ccde4401a2fe1d722,95dd9cd6179a3a01523fee9ccde4401a2fe1d722,documented the set_by_lua_block directive.
agentzh,2015-10-27 02:38:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bf9436adef8d911f9e7a47efcdc3cf8194e6c8fc,bf9436adef8d911f9e7a47efcdc3cf8194e6c8fc,tests: removed a bogus test case for set_by_lua_block.
agentzh,2015-10-26 08:23:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/195baff55d42a45fb65e09def4916147c289598c,195baff55d42a45fb65e09def4916147c289598c,feature: implemented the set_by_lua_block directive.
agentzh,2015-10-26 08:19:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/effd1d1d5ba63a9c8c828f018973b900e87c46b6,effd1d1d5ba63a9c8c828f018973b900e87c46b6,fixed the test serial numbers in t/028-req-header.t.
agentzh,2015-10-26 08:10:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/62e31a3f258db1cd195ea50114f73d10c17211c1,62e31a3f258db1cd195ea50114f73d10c17211c1,bugfix: fixed typos due to copy&paste mistakes in some error messages.
agentzh,2015-10-21 04:20:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cecc0e789b12303e4e5f191c4a0308856fb2ffc1,cecc0e789b12303e4e5f191c4a0308856fb2ffc1,bugfix: setting builtin request header Upgrade via ngx.req.set_header and etc might not take effect with some bultin nginx modules.
agentzh,2015-10-21 03:53:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1d640d6e84e3ca8016b5de3c51b0ee4dea73b010,1d640d6e84e3ca8016b5de3c51b0ee4dea73b010,a followup fix for commit c96625866.
agentzh,2015-10-21 03:47:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b948841c0d24933c7b5c373a313dba5855f683ac,b948841c0d24933c7b5c373a313dba5855f683ac,"bugfix: setting builtin request headers Depth, Destination, Overwrite, and Date via ngx.req.set_header() and etc might not take effect at least with ngx_http_dav_module. thanks Igor Clark for the report."
agentzh,2015-10-21 03:35:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c96625866b15f608c70079d163ef3394fe3d2ecd,c96625866b15f608c70079d163ef3394fe3d2ecd,refactor: reordered the request header entries in the ngx_http_lua_set_handlers array to match ngx_http_headers_in in the nginx core.
agentzh,2015-10-15 07:44:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/da089df2d8433e47596b4a94d13d33a7e6e40ae8,da089df2d8433e47596b4a94d13d33a7e6e40ae8,doc: updated the wiki file to reflect recent changes.
agentzh,2015-10-08 09:13:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/311539270bf63da8c1c56b6ca5387122978bce18,311539270bf63da8c1c56b6ca5387122978bce18,"tests: removed the useless ""use lib"" directives from the Perl test files. thanks Markus Linnala for the report in #464."
agentzh,2015-10-08 08:52:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8b32f3616de68264a2b2de25de071b6648373878,8b32f3616de68264a2b2de25de071b6648373878,feature: initial fixes when being used with the new ngx_http_v2 module since nginx 1.9.5. thanks itpp16 for the patch in #569 and #570.
agentzh,2015-10-06 03:01:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8a0a3e4706cdd58272a8f38e8f09cc5e9db0307b,8a0a3e4706cdd58272a8f38e8f09cc5e9db0307b,doc: nginx 1.9.3 is compatible.
agentzh,2015-10-01 08:24:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bccf4dab248dfdfa420d91b5f8c5588322ae6b33,bccf4dab248dfdfa420d91b5f8c5588322ae6b33,bugfix: the user specified ./configure's --with-cc-opt and --with-ld-opt might override the LUAJIT_INC/LUAJIT_LIB and LUA_INC/LUA_LIB environment settings. thanks Julian Gonggrijp for the report in openresty/ngx_openresty#117.
agentzh,2015-09-30 08:29:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ec4076ef3a2dd04802bbfd6fd71f5a7bb395f322,ec4076ef3a2dd04802bbfd6fd71f5a7bb395f322,reverted the last commit.
agentzh,2015-09-30 02:56:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e8010979527c44e131673f96bf026caf1cd6b750,e8010979527c44e131673f96bf026caf1cd6b750,"skipped test cases that do not make sense for the ""check leaks"" testing mode."
agentzh,2015-09-30 02:54:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bec51155f28c4393f244e03ad97596027dd24d21,bec51155f28c4393f244e03ad97596027dd24d21,fixed line numbers in 132-lua-blocks.t.
agentzh,2015-09-28 02:47:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a688d5a06849f4dec5b6396c29a12f4dd715e16a,a688d5a06849f4dec5b6396c29a12f4dd715e16a,"doc: a code example misses a ""return"". thanks YuanSheng Wang for the patch in #572."
agentzh,2015-09-14 14:33:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6b558cd4bd18403c6a071ca87ffd35dbd0ad612e,6b558cd4bd18403c6a071ca87ffd35dbd0ad612e,feature: implemented the *_by_lua_block {...} directives that do not require extra escaping when inlining Lua code in nginx.conf.
agentzh,2015-09-18 15:08:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b5de0c2f9d10b697f6098fe7b9c389677197b5a1,b5de0c2f9d10b697f6098fe7b9c389677197b5a1,bugfix: fixed one -Wmaybe-uninitialized warning when compiling with gcc -Os.
agentzh,2015-09-13 04:14:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c93567d704f06ca5d31e80d2d199446618e0fd2e,c93567d704f06ca5d31e80d2d199446618e0fd2e,doc: more typo fixes from Lance Li in #565.
agentzh,2015-09-10 13:23:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/74aecfe720fd63e8d902b46a0cd63e399f5f9572,74aecfe720fd63e8d902b46a0cd63e399f5f9572,doc: typo fixes from Lance Li in #564.
agentzh,2015-09-10 03:56:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1885b4d2998f38ff256ceca7d0c0aad34fcf7d3d,1885b4d2998f38ff256ceca7d0c0aad34fcf7d3d,doc: typo fixes from Lance Li in #562.
agentzh,2015-09-09 08:36:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/82698830356e543d276d2a3d80511f0e923e8fe3,82698830356e543d276d2a3d80511f0e923e8fe3,doc: added links to more lua-resty-* libraries.
agentzh,2015-09-03 09:09:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a05e1eb54654cde25ad7a00e6649aa517bbc483d,a05e1eb54654cde25ad7a00e6649aa517bbc483d,bugfix: use of shared dicts resulted in (unwanted) registrations of shared dict metatables on all the lightuserdata in the Lua space. thanks helloyi for the report in #548 and patch in #557.
agentzh,2015-09-03 08:59:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/14f2b88b5a67fd78ff3867163bb1c52700c16db3,14f2b88b5a67fd78ff3867163bb1c52700c16db3,bumped the API version to 0.9.17.
agentzh,2015-08-27 15:08:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b6189f87f560260bf7eebb4066bf5c2f03c3036e,b6189f87f560260bf7eebb4066bf5c2f03c3036e,fixed the test plan.
agentzh,2015-08-27 09:46:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/69d1a6988a7db1a33bf5785a7fd51480c4301055,69d1a6988a7db1a33bf5785a7fd51480c4301055,"bugfix: if a 3rd-party module calls ngx_http_conf_get_module_srv_conf to fetch its current srv_conf construct in its merge_srv_conf callback, then use of init_worker_by_lua might lead to segmentation faults (the same also applied to merge_loc_conf). thanks chiyouhen for the report and patch in #554."
agentzh,2015-08-21 14:51:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ee30b7ce026e629ee78254d1b3d60f9f6b9af8a5,ee30b7ce026e629ee78254d1b3d60f9f6b9af8a5,doc: updated the wiki format to reflect recent changes.
agentzh,2015-08-21 14:48:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/73bdb53911074654b5aa45007d8cab32ae907f5c,73bdb53911074654b5aa45007d8cab32ae907f5c,"Merge pull request #546 from doujiang24/doc

doc fix: ngx.exit is not disabled within header_filter_by_lua"
doujiang24,2015-08-18 14:52:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3043b71631b90eafb3ead92bd75c80a756fdf5cb,3043b71631b90eafb3ead92bd75c80a756fdf5cb,doc fix: ngx.exit is not disabled within header_filter_by_lua
agentzh,2015-08-16 12:40:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ea195bd819350fc6bd9c7ee7c270344ba0e53961,ea195bd819350fc6bd9c7ee7c270344ba0e53961,typo fixes in recently added test cases.
agentzh,2015-08-13 09:34:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b661ff10ede0ff40cbae355274339f9c21917ebc,b661ff10ede0ff40cbae355274339f9c21917ebc,"bugfix: the if_unmodified_since ""shortcut"" field in ngx_http_headers_in_t was first added in nginx 0.9.2."
agentzh,2015-08-13 09:23:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2979422c41628786d65ba8e5238aae9046fff929,2979422c41628786d65ba8e5238aae9046fff929,Merge branch 'master' of github.com:openresty/lua-nginx-module
agentzh,2015-08-13 09:21:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bc0d619240ac803afe9c10b08703950fcf417a48,bc0d619240ac803afe9c10b08703950fcf417a48,bugfix: ngx.req.clear_header/ngx.req.set_header: we did not update the shortcut fields in ngx_http_headers_in_t added since nginx 1.3.3 which may confuse other nginx modules accessing them.
agentzh,2015-08-12 09:54:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5e45843126e5af06a7f6eac0bc8c2baebc25bb0b,5e45843126e5af06a7f6eac0bc8c2baebc25bb0b,doc: typo fix from Lance Li.
agentzh,2015-08-12 09:16:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cc2df46d42077869f4986e5f14d9a916d79e55b1,cc2df46d42077869f4986e5f14d9a916d79e55b1,minor doc tweaks.
agentzh,2015-08-11 05:18:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5399898ea3898db3009d0f37eb174c236ac1b082,5399898ea3898db3009d0f37eb174c236ac1b082,"bugfix: setting Content-Type response values including ""; charset=xxx"" via the ngx.header API might bypass the MIME type checks in other nginx modules like ngx_gzip. thanks Andreas Fischer for the report."
agentzh,2015-07-28 11:45:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a22bfb94a57457456e93c051e8cb150368b971d7,a22bfb94a57457456e93c051e8cb150368b971d7,Merge branch 'master' of github.com:openresty/lua-nginx-module
agentzh,2015-07-28 11:45:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7087978d1a33d2d8aa79ca24a786f34e3528a19a,7087978d1a33d2d8aa79ca24a786f34e3528a19a,fixed SSL cosocket tests with google https in non-US regions.
agentzh,2015-07-28 05:38:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a7857abf141e4f50d2d88d1f7f9b76bb66d738d6,a7857abf141e4f50d2d88d1f7f9b76bb66d738d6,"Merge pull request #538 from tatsuyafw/fix-typo

Fix typo: use a double quote instead of a single quote"
tatsuyafw,2015-07-27 14:49:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6d45420d4d785aa4149717e7cd86fb9c86b082b6,6d45420d4d785aa4149717e7cd86fb9c86b082b6,Fix typo: use a double quote instead of a single quote
agentzh,2015-07-16 04:18:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b8fc6c5894b2bbd4db14d05b9af932696ab64aca,b8fc6c5894b2bbd4db14d05b9af932696ab64aca,tests: disabled the test cases exercising multiple http {} blocks since this undocumented feature has been disabled since nginx 1.9.3.
agentzh,2015-07-13 03:27:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7e201d7508deb21ba50fc64053af0a3a086ea636,7e201d7508deb21ba50fc64053af0a3a086ea636,"Merge pull request #535 from doujiang24/typofix

bugfix: typo fix in debug log messages. thanks doujiang for the patch."
doujiang24,2015-07-12 13:34:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/336ed3f51c1e4abce238bf7a48e0ee06c8ddcc89,336ed3f51c1e4abce238bf7a48e0ee06c8ddcc89,typo fix in debug log
agentzh,2015-07-06 03:55:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1bf0757a3aa425a82e4d2dc402e25e83dc5562dd,1bf0757a3aa425a82e4d2dc402e25e83dc5562dd,Merge branch 'master' of github.com:openresty/lua-nginx-module
agentzh,2015-07-06 03:55:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/289d86b3728d56b2fba90870ce84732e8dda4aa7,289d86b3728d56b2fba90870ce84732e8dda4aa7,valgrind.suppress: suppressed a false positive in the latest version of glibc on Amazon Linux.
agentzh,2015-07-04 11:21:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/51a311c04f0562864e068c3bb0e76a8b0a70b892,51a311c04f0562864e068c3bb0e76a8b0a70b892,removed the old util/build.sh script and also added notes as comments to util/build2.sh #527.
agentzh,2015-06-23 14:25:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f67aefc96ad4e10bd3933d5a8e775d3a40374f15,f67aefc96ad4e10bd3933d5a8e775d3a40374f15,bugfix: we might miss the linker option -ldl when we shouldn't.
agentzh,2015-06-23 12:48:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/91ff51faf418e5bf283eff0e52c2a8a2348056ab,91ff51faf418e5bf283eff0e52c2a8a2348056ab,"bugfix: access nonexistent fields in the ""ngx"" table in init_by_lua* could lead to the exception ""no request object found"" because of the overreacting __index metamethod of the ""ngx"" table."
agentzh,2015-06-22 12:33:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ec3f150cc1dcb5ee47ef26b0c471d6ab5450313c,ec3f150cc1dcb5ee47ef26b0c471d6ab5450313c,doc: bumped version number to 0.9.16.
agentzh,2015-06-22 12:32:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b59129ff6ecf438b794243ecefafec4bf55df07d,b59129ff6ecf438b794243ecefafec4bf55df07d,doc: fixed a bug in an example where both rewrite_by_lua and content_by_lua produce response outputs. thanks fengidri for the report in #460.
agentzh,2015-06-21 02:02:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/721fff24fcb528e5aa5609c82825dbce987b990d,721fff24fcb528e5aa5609c82825dbce987b990d,bugfix: fixed compiler warnings at least with gcc 4.7 and clang 3.5. this regression had appeared in commit 9e0503b035.
agentzh,2015-06-20 16:19:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/601044eb32edae3177b4c7f1c0722831bd6415b1,601044eb32edae3177b4c7f1c0722831bd6415b1,bugfix: ngx.resp.get_headers(): some built-in headers were not accessible via lowercase. thanks Nick Muerdter for the patch in #529.
agentzh,2015-06-20 14:20:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9e0503b0358ee87719c7d8d990b6783d83c4e351,9e0503b0358ee87719c7d8d990b6783d83c4e351,bugfix: raw downstream cosockets did not support full-deplexing. thanks aviramc for the bug report in #478 and the original patch in #481.
agentzh,2015-06-17 16:12:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0be132078dede0c96e6243c640834837ec6243f8,0be132078dede0c96e6243c640834837ec6243f8,"fixed buggy test cases stuck on request body reading, which were exposed by the previous commit."
agentzh,2015-06-17 13:36:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6fa6e97cc45f89eff2f9f4d64752f30ea18e3d16,6fa6e97cc45f89eff2f9f4d64752f30ea18e3d16,"bugfix: we did not always discard the request body if the user Lua handlers don't, which might cause 400 error pages for keep-alive or pipelined requests. thanks Shuxin Yang for the original patch in #493."
agentzh,2015-06-11 10:18:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/255d40b1268daebda660ba5bcfaf99bcf8dbe569,255d40b1268daebda660ba5bcfaf99bcf8dbe569,fixed a test case for Mac OS X.
agentzh,2015-05-08 05:11:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5b35451cd103bda49873af54d9448587203d51bf,5b35451cd103bda49873af54d9448587203d51bf,doc: fixed the context for the lua_need_request_body directive. thanks Tatsuhiko Kubo for the patch in #492.
agentzh,2015-05-07 13:08:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f4e131118e8dff38cb3275fe2df4bbe8d97724d0,f4e131118e8dff38cb3275fe2df4bbe8d97724d0,feature: fixed compilation failures with nginx 1.9.0. thanks Charles R. Portwood II for the original patch in #500.
agentzh,2015-04-10 04:23:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/847bc0f47ed8c086a2c554d62919a4880ab6ef89,847bc0f47ed8c086a2c554d62919a4880ab6ef89,minor fixes in doc.
agentzh,2015-04-09 15:05:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/76dc20d4d42fdc921016e0b8721b13004ca820a4,76dc20d4d42fdc921016e0b8721b13004ca820a4,"Merge pull request #486 from itpp16/patch-3

Update ddebug.h"
itpp16,2015-04-09 12:28:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1db65c1056a7a64b34c593e10e870197bfe77b27,1db65c1056a7a64b34c593e10e870197bfe77b27,"Update ddebug.h

1.7.12 compile errors fix."
agentzh,2015-04-04 01:34:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/42d62e4b7b45fb9d5b105da531c5ab8ef65fbc79,42d62e4b7b45fb9d5b105da531c5ab8ef65fbc79,"doc: mentioned the ""auth_request"", ""add_before_body"", and ""add_after_body"" directives in the section ""Locations Configured by Subrequest Directives of Other Modules""."
agentzh,2015-03-24 20:49:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0fff5888f691138183066406d11d337ebc649099,0fff5888f691138183066406d11d337ebc649099,more coding style fixes in function declarations.
agentzh,2015-03-23 20:16:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/edad9bb0636e398cb96580df72ae0c9485ed1950,edad9bb0636e398cb96580df72ae0c9485ed1950,fixed a test case to reflect recent changes in lua-resty-core.
agentzh,2015-03-20 22:30:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3eadb55c1bc9112f74905a32240695d291df2351,3eadb55c1bc9112f74905a32240695d291df2351,more coding style fixes.
agentzh,2015-03-20 22:18:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/65b65bfd9abd11261378ee4652b22819ea2e7d23,65b65bfd9abd11261378ee4652b22819ea2e7d23,minor coding style fixes.
agentzh,2015-03-20 00:02:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c9f2b8656d7a0245b44f6bd22488d37620f14621,c9f2b8656d7a0245b44f6bd22488d37620f14621,follow-up fix for the previous commit. thanks Tatsuhiko Kubo for the patch in #475.
agentzh,2015-03-19 23:44:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9531e5e753ab56faa9eaaf6349b1847c3394a214,9531e5e753ab56faa9eaaf6349b1847c3394a214,bugfix: removed the dead code for the old NGX_THREADS mode which breaks the new nginx (1.7.11+) with thread pool support. thanks Tatsuhiko Kubo for the patch in #475.
agentzh,2015-03-15 23:46:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bbc64d40c62b4750fb7303a2e75fd0ec02376256,bbc64d40c62b4750fb7303a2e75fd0ec02376256,removed the git submodule deps/ngx_devel_kit because this is just an optional dependency and it is painful to maintain submodule pointers.
agentzh,2015-03-15 21:27:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ac48bd2b671f6c2a3e4a88ef0dccb01648395652,ac48bd2b671f6c2a3e4a88ef0dccb01648395652,"doc: added new section ""Obsolete Sections"" to hold renamed or removed documentation sections so as to keep links valid over the web. thanks Dayo Akanji for the suggestion."
agentzh,2015-03-10 20:11:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5fa6ff1b641f65d942e7e6aa9f5eac6222c6935d,5fa6ff1b641f65d942e7e6aa9f5eac6222c6935d,"Updated docs.

* added a note on possible uninitialized variables for short-circuited
  requests. thanks Simon Eskildsen for the patch in #456.
* renamed the section ""Special PCRE Sequences"" to ""Special Escaping
  Sequences""."
agentzh,2015-03-10 05:55:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e3cda9cb8d4e426fa5d55f723cdd189f6fea3a8b,e3cda9cb8d4e426fa5d55f723cdd189f6fea3a8b,"bugfix: fixed compilation failures with very old versions of PCRE, like 4.5."
agentzh,2015-03-10 01:54:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/054f80f6a9a2c05fb9be2249edae1c0f9b5a22b4,054f80f6a9a2c05fb9be2249edae1c0f9b5a22b4,bugfix: we might still pick up Lua/LuaJIT headers/libraries in the paths specified by nginx ./configure's --with-cc-opt=OPTS and --with-ld-opt=OPTS optons even when the LUAJIT_INC/LUAJIT_LIB or LUA_INC/LUA_LIB environments are explicitly specified.
agentzh,2015-03-09 22:40:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6222f0c53da400646e48150d81e02636101aa4e5,6222f0c53da400646e48150d81e02636101aa4e5,"feature: ngx.encode_base64: added support for the ""no_padding"" boolean argument to disable padding when a true value is specified. thanks Shuxin Yang for the patch."
agentzh,2015-03-09 21:56:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0f0c2f814df9d8964a0ae587872872203fab1be3,0f0c2f814df9d8964a0ae587872872203fab1be3,bugfix: we should never automatically set Content-Type on 304 responses. thanks Simon Eskildsen for the patch in #468.
agentzh,2015-03-06 23:55:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e086440cb9c424d5563269ae88b680b3ac675698,e086440cb9c424d5563269ae88b680b3ac675698,bumped the API version to 0.9.16.
agentzh,2015-03-06 23:46:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7c37b4bbdbcb3b1359f43429a062bf4b1e622777,7c37b4bbdbcb3b1359f43429a062bf4b1e622777,bugfix: use of ngx_http_image_filter_module might lead to request hang due to duplicate header filter invocations. thanks Antony Dovgal for the report.
agentzh,2015-03-05 22:06:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3dbb2b00ecbea70a710cb2b6a2448fdf14194e4d,3dbb2b00ecbea70a710cb2b6a2448fdf14194e4d,tests: fixed nondeterminism due to unordered Lua table iterations. thanks Markus Linnala for the patch in #465.
agentzh,2015-03-03 21:02:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b2b061d32376fa22dc9296bbdebaf5772df22bb3,b2b061d32376fa22dc9296bbdebaf5772df22bb3,"Merge pull request #466 from maage/env_lua

Fix tests require extra environment forwarding in nginx.conf."
maage,2015-03-03 16:04:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ff23175f02afaee9638347f79de9c7d9ecce7fcf,ff23175f02afaee9638347f79de9c7d9ecce7fcf,"fix env tests

In my nginx implementation only explicitly set envs are visible."
agentzh,2015-02-25 00:42:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8f6790de7dc376c9e5ee0a3f332660ab12f03ef7,8f6790de7dc376c9e5ee0a3f332660ab12f03ef7,doc: fixed the code sample for ngx.redirect() to reflect recent changes there. thanks Zi Lin for the report.
agentzh,2015-02-18 23:29:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4388b1e483d91f3ab9b9f15773274c83294dba32,4388b1e483d91f3ab9b9f15773274c83294dba32,doc: bumped version to 0.9.15; also stated that we work with nginx 1.7.10.
agentzh,2015-02-16 23:48:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f88d4a9fb7af9d12fa9e73a527e11bd93f28a2b7,f88d4a9fb7af9d12fa9e73a527e11bd93f28a2b7,tests: fixed the test plan in 041-header-filter.t.
agentzh,2015-02-15 22:18:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dde606203ec1dc9a6289d1004d1ba76b2d24b4a1,dde606203ec1dc9a6289d1004d1ba76b2d24b4a1,"Revert ""bugfix: header_filter_by_lua*: now we ensure we always forward the exact return value of the ngx_http_filter_finalize_request() calls.""

This reverts commit e9fa313ffc8290db9f102d112bbddb560b226888."
agentzh,2015-02-15 22:07:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e9fa313ffc8290db9f102d112bbddb560b226888,e9fa313ffc8290db9f102d112bbddb560b226888,bugfix: header_filter_by_lua*: now we ensure we always forward the exact return value of the ngx_http_filter_finalize_request() calls.
agentzh,2015-02-12 21:16:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/82d0c265bb7ce8a242b8ddae20b47d806589771a,82d0c265bb7ce8a242b8ddae20b47d806589771a,bugfix: using error codes (ngx.ERROR or >=300) in ngx.exit() in header_filter_by_lua* might lead to Lua stack overflow.
agentzh,2015-02-11 22:07:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d427d9a1d13d2fe53108fa0c82908e696876ef76,d427d9a1d13d2fe53108fa0c82908e696876ef76,feature: improved the debugging event logging for timers created by ngx.timer.at().
agentzh,2015-02-11 21:46:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6f63b97301d6f3b090be826ea33ed170bbcfc779,6f63b97301d6f3b090be826ea33ed170bbcfc779,optimize: fixed padding holes in our struct memory layouts for 64-bit systems to save a little memory.
agentzh,2015-02-06 00:04:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/31265f78306557cd1deb73f3d22117a5a6195b2d,31265f78306557cd1deb73f3d22117a5a6195b2d,bumped the API version number to 0.9.15.
agentzh,2015-02-06 00:03:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/05a4a71432e6ffcac9edd89c60f062dfc74fa27f,05a4a71432e6ffcac9edd89c60f062dfc74fa27f,bugfix: the value of the Location response header set by ngx.redirect() might get overwritten by nginx's header filter to the fully qualified form (with the scheme and host parts).
agentzh,2015-02-05 23:42:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8f908775c139063a6a6c8c5495df7097f3d3e39c,8f908775c139063a6a6c8c5495df7097f3d3e39c,bugfix: the value of the Location response header set by the ngx.header.HEADER API might get overwritten by nginx's header filter to the fully qualified form (with the scheme and host parts).
agentzh,2015-02-05 22:34:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/23afdc0b123ae4147001b768e9a51e66af9d63bf,23afdc0b123ae4147001b768e9a51e66af9d63bf,bugfix: lua_shared_dict: use of Lua numbers as the value in shared dict might lead to unaligned accesses which could lead to crashes on architectures sensitive to address alignment (like ARMv6). thanks Shuxin Yang for the fix and thanks Stefan Parvu and Brandon B for the report in openresty/ngx_openresty#84.
agentzh,2015-02-05 22:30:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a024673046f52d415cefe1ddf049be36b3ae8825,a024673046f52d415cefe1ddf049be36b3ae8825,optimize: header_filter_by_lua*: removed a piece of useless code. thanks Zi Lin for the report.
agentzh,2015-01-23 20:15:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/23c2ceae409f42c4a5c317e7526c6b25216aa70e,23c2ceae409f42c4a5c317e7526c6b25216aa70e,doc: emphasized the capability of using nginx variables in the Lua file path in content_by_lua_file/rewrite_by_lua_file/access_by_lua_file.
agentzh,2015-01-21 22:24:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cea0699a57a53a05ace69bf3f2813c91d4afd93a,cea0699a57a53a05ace69bf3f2813c91d4afd93a,updated the copyright years.
agentzh,2015-01-21 22:19:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/20d968bc8fd1fb43d9b6cc11956d14df118815e8,20d968bc8fd1fb43d9b6cc11956d14df118815e8,doc: bumped version to 0.9.14.
agentzh,2015-01-20 20:16:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/93a056c846c77b57f680965453f14e813b9a1667,93a056c846c77b57f680965453f14e813b9a1667,doc: typo fix from lneto in #451.
agentzh,2015-01-09 04:08:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fe0e22d3574bd916084015e6839c9ebb49a9b96f,fe0e22d3574bd916084015e6839c9ebb49a9b96f,bugfix: tcpsock:setkeepalive(): we did not check NULL connection pointers properly. thanks Yang Yue for the report.
agentzh,2015-01-06 19:17:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a05073d715fef73888374bf3677ac1a676cafef4,a05073d715fef73888374bf3677ac1a676cafef4,doc: typo fix from Harold via #446.
agentzh,2015-01-06 19:05:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e79804e0e452a7363f401dc7b672d4c6bca08d1,8e79804e0e452a7363f401dc7b672d4c6bca08d1,"bugfix: ngx.quote_str_str() incorrectly escaped ""\026"" to ""\z"" while ""\Z"" is expected. thanks laodouya for the original patch in #447."
agentzh,2015-01-05 22:00:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bd51d8196e04d3bf3f01ac9b8cecc281611e4de3,bd51d8196e04d3bf3f01ac9b8cecc281611e4de3,added passing test cases for #445.
agentzh,2014-12-22 23:43:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/39ff3e697fef769de2e030caf86a258df9a12bde,39ff3e697fef769de2e030caf86a258df9a12bde,added tests for using the ngx. API functions in the user callback functions for ngx.re.gsub's replacement. these tests exposed a bug in lua-resty-core.
agentzh,2014-12-22 23:41:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/521e4f454449caa3252b297e58885c62e2b326f0,521e4f454449caa3252b297e58885c62e2b326f0,reindexed the tests in t/036-sub.t.
agentzh,2014-12-12 20:21:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bc120f9a2279a384e4335bedf765e844b4d22adb,bc120f9a2279a384e4335bedf765e844b4d22adb,bugfix: fixed a compiliation error in the timer module when the DDEBUG macro is set to 1 or a C compiler without variadic macro support (like the Microsoft Visual C++ compiler) is used. thanks itpp16 for the patch in #443.
agentzh,2014-12-12 20:17:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4cd7644ac255620bab2f94da17de427dd4277655,4cd7644ac255620bab2f94da17de427dd4277655,bugfix: ngx.timer.at: fixed a small memory leak in case of running out of memory (which should be extremely rare though).
agentzh,2014-12-11 23:54:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c317feeaea13a78cc4a177f6f690d0282dee31a5,c317feeaea13a78cc4a177f6f690d0282dee31a5,optimize: save our own log ctx for timers.
agentzh,2014-12-11 18:52:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c6930f018d1a009b069dad9764d9b4bd4ae67331,c6930f018d1a009b069dad9764d9b4bd4ae67331,"tests: fixed a test case which expects 127.0.0.1:53 has nothing to listen on, which is not true when a local DNS caching server is enabled."
agentzh,2014-12-10 23:17:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ac009a248744846225132a6cbd98bf3dc00e2e36,ac009a248744846225132a6cbd98bf3dc00e2e36,bugfix: ngx.re.gsub/ngx.re.sub incorrectly swallowed the character right after a 0-width match that happens to be the last match. thanks Guanlan Dai for the patch in #442.
agentzh,2014-12-10 23:04:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/af16d1f99441b622188e91ef64dad61da024eae1,af16d1f99441b622188e91ef64dad61da024eae1,feature: added the Lua global __ngx_cycle which is a lightuserdata holding the current ngx_cycle_t pointer.
agentzh,2014-12-08 05:45:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f24a96b80a5e0df700a622bf309b642ab8535f8e,f24a96b80a5e0df700a622bf309b642ab8535f8e,doc: added two more TODO items.
agentzh,2014-12-08 05:19:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cd01e7b985d976ce5f88cc302bd4165e952aac9b,cd01e7b985d976ce5f88cc302bd4165e952aac9b,doc: updated our TODO list.
agentzh,2014-12-08 01:30:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f9709b6ddec8e621110ff78a103bfa75c13aa973,f9709b6ddec8e621110ff78a103bfa75c13aa973,api: bumped the version number to 0.9.14.
agentzh,2014-12-06 00:22:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/452640db94ef83aae295e1181e4a4ffb0d8e4bb5,452640db94ef83aae295e1181e4a4ffb0d8e4bb5,"doc: ngx.var: named more readonly nginx builtin variables, as per adamonduty's request in #440."
agentzh,2014-12-04 22:34:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b3a3e5ea285bc0720297ca65a5cd98828eb262e3,b3a3e5ea285bc0720297ca65a5cd98828eb262e3,doc: fixed some formatting issues in markdown.
agentzh,2014-12-04 00:52:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4c633dd34619d2047b1ba389da2fe44f32da8b4d,4c633dd34619d2047b1ba389da2fe44f32da8b4d,"doc: added a warning for the ""share_all_vars"" option for ngx.location.capture*."
agentzh,2014-11-22 05:09:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7a97d09024ca9ad341d02e46c049a0e6e2075865,7a97d09024ca9ad341d02e46c049a0e6e2075865,doc: bumped version to 0.9.13 and also claimed the compatibility with nginx cores up to 1.7.7.
agentzh,2014-11-12 20:58:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5d063412ee4ca8c7c70845152714e0d23b0c4617,5d063412ee4ca8c7c70845152714e0d23b0c4617,Merge branch 'master' of github.com:openresty/lua-nginx-module
agentzh,2014-11-12 20:57:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4720940e8cb17fb164a2ebf79e4f923d28a9c7a9,4720940e8cb17fb164a2ebf79e4f923d28a9c7a9,fixed some new test failures according to the Amazon EC2 report.
agentzh,2014-11-12 06:00:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3085f32e709be5255150c3e6198bd4e8225b10ff,3085f32e709be5255150c3e6198bd4e8225b10ff,"Various improvements in ngx.timer and fake connections/requests.

* optimize: reduced the pool size of a fake connection from the
  default pool size (16KB) to 128B.
* optimize: made fake requests share their connection pools.
* feature: the error logger used by ngx.timer.at handlers now
  outputs the ""client: xxx, server: xxx"" context info for the
  original (true) request creating the timer."
agentzh,2014-11-12 05:19:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e6132eab936728b029f7decc5be5c9b96a241534,e6132eab936728b029f7decc5be5c9b96a241534,feature: added nginx configuration file names and line numbers to the rewrite/access/content/log_by_lua directives' Lua chunk names in order to simplify debugging.
agentzh,2014-11-10 23:00:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e226845119af9f324d080b911b2292cca607d1b1,e226845119af9f324d080b911b2292cca607d1b1,"Various downstream writing fixes.

* bugfix: ngx.flush(), ngx.eof(), and some other things did not update
  busy/free chains after calling the output filters.
* bugfix: ngx_gzip/ngx_gunzip filters might cause ngx.flush(true) to
  hang until timeout for nginx 1.7.7+ (and some other very old versions
  of nginx). thanks Maxim Dounin for the help."
agentzh,2014-11-03 23:07:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bda5b97950a3edbafc407dc9b065a4252263d4aa,bda5b97950a3edbafc407dc9b065a4252263d4aa,style: minor fixes.
agentzh,2014-11-03 19:37:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/60c64cc144149d36eeddca5ade4026498c0e07fd,60c64cc144149d36eeddca5ade4026498c0e07fd,"doc: documented the 0-delay timer workaround for contexts where cosockets are not available (yet). also documented the ""connection in dubious state"" error message for tcpsock:setkeepalive()."
agentzh,2014-10-30 06:06:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/20bbbfbe441260736d2849ef9327906d7fdd0779,20bbbfbe441260736d2849ef9327906d7fdd0779,bugfix: compilation failed when http ssl is not enabled in the nginx build. this regression had appeared in commit 5eb3f8c6f.
agentzh,2014-10-29 04:38:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3c1918df8d5bc3e0bfdf81e00bb8c18e2fb35a5a,3c1918df8d5bc3e0bfdf81e00bb8c18e2fb35a5a,bugfix: ngx.get_phase() does not work in the context of init_worker_by_lua*.
agentzh,2014-10-29 04:31:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5eb3f8c6f8bdb6cb3972519f33b915d86fdb75f3,5eb3f8c6f8bdb6cb3972519f33b915d86fdb75f3,"bugfix: tcpsock:sslhandshake(): memory invalid read and/or bogus ""lua ssl ceritficate does not match host"" errors might happen when checking certificates with the SNI name."
agentzh,2014-10-29 00:24:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/da31a5e653445a9181e2c9019246510bf7b32a6b,da31a5e653445a9181e2c9019246510bf7b32a6b,doc: documented that ngx.exit() is enabled in the context of ngx.timer.* callbacks.
agentzh,2014-10-28 05:05:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0846f27663181497a8d95b962a1ba4879d2578a4,0846f27663181497a8d95b962a1ba4879d2578a4,tests: increased the timeout threshold for the test cases involved with expensive SSL handshakes to prevent them from getting timed out on slow boxes.
agentzh,2014-10-28 04:47:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/75eaf078446ea1e90069a1633ceb933768a671df,75eaf078446ea1e90069a1633ceb933768a671df,"feature: ngx.flush(true) now returns the ""timeout"" and ""client aborted"" errors to the Lua land for the cases that writing to the client is timed out or the client closes the connection prematurely, respectively."
agentzh,2014-10-28 01:09:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0c33b9e0aa4b95ea04aa973bfaa9c6b2d99b4f6f,0c33b9e0aa4b95ea04aa973bfaa9c6b2d99b4f6f,"feature: ngx.flush(true) can now wait on delayed events due to nginx's limit_rate config directive or ""$limit_rate"" variable settings. thanks Shafreeck Sea for the original patch in #432."
agentzh,2014-10-28 00:34:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a4f8b8ad0e04a6b22c58701937d271f04e146a82,a4f8b8ad0e04a6b22c58701937d271f04e146a82,"bugfix: use of ""ngx.flush(true)"" with the ""limit_rate"" config directive or the $limit_rate variable may hang the request forever for large volumn of output data. thanks Shafreeck Sea for the report in #430."
agentzh,2014-10-24 00:38:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/db428bfc6da1013779285aa1a5bc99afb92aa2e9,db428bfc6da1013779285aa1a5bc99afb92aa2e9,"doc: added a new section, ""Cocockets Not Available Everywhere"", under the ""Known Issues"" section."
agentzh,2014-10-16 20:00:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1506812afda97173ef095a6fcd0181548089ecdf,1506812afda97173ef095a6fcd0181548089ecdf,updated valgrind.suppress to suppress a false positive on Amazon Linux i386.
agentzh,2014-10-13 05:36:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2fe0d8dda2c31ec35ed96664104061be20e60ce2,2fe0d8dda2c31ec35ed96664104061be20e60ce2,more fixes in the tests regarding the resolver.
agentzh,2014-10-12 23:58:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bba7058e76876c033a81af95693cb4212d9819ee,bba7058e76876c033a81af95693cb4212d9819ee,tests: avoid using hard-coded DNS nameserver address but the TEST_NGINX_RESOLVER environment.
agentzh,2014-10-11 18:45:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d4275173156584efc5c362ca565394956194b206,d4275173156584efc5c362ca565394956194b206,suppressed a warning in the libc resolver.
agentzh,2014-10-11 18:05:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c2f88f8dfdcf80af49d64555a66cbfb083adc69b,c2f88f8dfdcf80af49d64555a66cbfb083adc69b,bugfix: compilation error when PCRE is disabled in the nginx build. thanks Ivan Cekov for the report in #428.
agentzh,2014-10-11 00:54:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9ea909bae283942d9cc45889f4c50bb92fdb0c48,9ea909bae283942d9cc45889f4c50bb92fdb0c48,doc: typo fix from e路相扶.
agentzh,2014-10-09 23:22:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0162afd7156757919881a1e294f26a0259ada6f9,0162afd7156757919881a1e294f26a0259ada6f9,"doc: fixed some broken in-page links, as reported by smallfish in #421."
agentzh,2014-10-09 23:10:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cc9e738a72bdf7fd3fcf19114c2c773728b6413d,cc9e738a72bdf7fd3fcf19114c2c773728b6413d,doc: various wording improvements and link fixes from Dayo Akanji.
agentzh,2014-10-09 22:48:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c135f05f2c0fe46b6b318b774c027c9db404eff9,c135f05f2c0fe46b6b318b774c027c9db404eff9,tests: use larger timeout limit for a test case revolved with external DNS resolving.
agentzh,2014-10-09 22:47:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5c8957b2d17cb261ae226f693b3359867cc0c544,5c8957b2d17cb261ae226f693b3359867cc0c544,tests: fixed a failure due to recent changes in the nginx core.
agentzh,2014-10-07 20:38:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/05e8499c89ce42b5c61a30587fdda78a76f2e970,05e8499c89ce42b5c61a30587fdda78a76f2e970,tests: fixed a test failure due to the misuse of the $TEST_NGINX_PORT variable.
agentzh,2014-10-07 06:29:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0d736bf2286ad17aa6924b1cdc974d1fb8bed211,0d736bf2286ad17aa6924b1cdc974d1fb8bed211,tests: suppressed a warning from the test scaffold for a timer test case.
agentzh,2014-10-07 06:26:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6706ec21483206b6810112fd7f48d5fb2baf3cf4,6706ec21483206b6810112fd7f48d5fb2baf3cf4,"bugfix: when syslog was enabled in the ""error_log"" directive for nginx 1.7.1+, use of init_worker_by_lua or ngx.timer.at() would lead to segmentation faults. thanks shun.zhang for the report in #426."
agentzh,2014-10-01 00:41:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8a4e8a72d48302a7fb89af06125f066fc9e78230,8a4e8a72d48302a7fb89af06125f066fc9e78230,minor test file format fixes.
agentzh,2014-09-24 22:30:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/25c4bdd6b68e54f241fff9018ec4aa7a65426b31,25c4bdd6b68e54f241fff9018ec4aa7a65426b31,tests: suppressed a warning from the test scaffold due to an expected [crit] error log message in 2 test cases.
agentzh,2014-09-24 22:06:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c9128e50f918f028f6f691b8f79a13083aafd5ea,c9128e50f918f028f6f691b8f79a13083aafd5ea,tests: added a passing test case for connecting to IPv6 addresses via cosockets.
agentzh,2014-09-24 22:01:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4323f3bc1375c5e6c89729b074c84001226cfd5d,4323f3bc1375c5e6c89729b074c84001226cfd5d,tests: 129-ssl-socket.t: use limited timeout threshold for the cosockets.
agentzh,2014-09-17 20:18:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0c4528e50dc45de322a6ae86b1fff544d777e722,0c4528e50dc45de322a6ae86b1fff544d777e722,bugfix: fixed compilation error with nginx 1.7.5+ because nginx 1.7.5+ changes the API in the events subsystem. thanks Charles R. Portwood II and Mathieu Le Marec for the report in #422.
agentzh,2014-09-16 19:42:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/14fbf40317e6c4f9ea308f1782e42b39eab657ae,14fbf40317e6c4f9ea308f1782e42b39eab657ae,doc: made clarification about ngx.exec() requested by Dayo Akanji.
agentzh,2014-09-15 19:02:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e9139a954beb4cbd24fe5330f61d6eba4062ddd2,e9139a954beb4cbd24fe5330f61d6eba4062ddd2,doc: typo fix from tianchaijz in #419.
agentzh,2014-09-07 22:10:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/227a5f0e5fa3314423e4430b2d6dce69224d01a4,227a5f0e5fa3314423e4430b2d6dce69224d01a4,api: bumped version to 0.9.13.
agentzh,2014-09-07 20:14:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/33497917788d231e79031ac74989c342ae3487c4,33497917788d231e79031ac74989c342ae3487c4,"bugfix: ngx.req.raw_header(): buffer overflow and the ""buffer error"" exception might happen for massively pipelined downstream requests. thanks Dane Knecht for the report."
agentzh,2014-09-07 04:44:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ddb363625222b86a667f61e3c5e96ed8fa71eedf,ddb363625222b86a667f61e3c5e96ed8fa71eedf,refactor: ngx.req.raw_header(): simplified the implementation.
agentzh,2014-09-07 04:39:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/62fd4c5f70edddf342408475fd6c9b5b5ee59a36,62fd4c5f70edddf342408475fd6c9b5b5ee59a36,"bugfix: ngx.req.raw_header(): we might change nginx's internal buffer pointers, which might cause bad side-effects."
agentzh,2014-09-03 03:48:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/73884588f6cdc42ba5cac8f8bdb0eab70fd51de3,73884588f6cdc42ba5cac8f8bdb0eab70fd51de3,doc: bumped version to 0.9.12.
agentzh,2014-09-02 19:24:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ffe7b34de7b6e211ffe9aeee22689beb376342a2,ffe7b34de7b6e211ffe9aeee22689beb376342a2,"doc: added more discussions for the potential race conditions in worker-level changeable data sharing to the ""Data Sharing within an Nginx Worker"" section. thanks Jon Keys for asking."
agentzh,2014-08-29 23:22:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d7378122d04fd991899d9e3a423e3addb4775023,d7378122d04fd991899d9e3a423e3addb4775023,tests: fixed a small bug in a test case.
agentzh,2014-08-29 19:21:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/be1655d239c019ad91e59e50d6e9c43f5b9c65bf,be1655d239c019ad91e59e50d6e9c43f5b9c65bf,bugfix: added extra delays to some of the test cases with systemtap involved.
agentzh,2014-08-22 21:44:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e6aa11dcc92c0a4258f708da9a106969ce5a055,8e6aa11dcc92c0a4258f708da9a106969ce5a055,tests: updated test suite according to the latest changes in Test::Nginx::Socket.
agentzh,2014-08-22 18:43:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9688c645bab46e1492e9c81c3a7d66b5c2ff3ce4,9688c645bab46e1492e9c81c3a7d66b5c2ff3ce4,doc: documented the behavior in the case that one does not call close() nor setkeepalive() in a cosocket object's lifetime. thanks Bogdan Irimia for asking.
agentzh,2014-08-21 19:47:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eb128df04574f1c0b9249445e40530df01d0a79d,eb128df04574f1c0b9249445e40530df01d0a79d,bugfix: added allocation failure check for ngx_array_init(). thanks Tatsuhiko Kubo for the patch in #414.
agentzh,2014-08-21 19:46:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0e49fe7462bde92f4cae812f2e42d7975ecafb2b,0e49fe7462bde92f4cae812f2e42d7975ecafb2b,tests: fixed a case with expired CRL.
agentzh,2014-08-21 00:22:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5662ddd9b73c98ce571b73df6beee9e1095104f5,5662ddd9b73c98ce571b73df6beee9e1095104f5,bumped internal code version to 0.9.12.
agentzh,2014-08-20 19:17:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7e4f1af7fcc3019c2f36a6c9b9f083758aef455d,7e4f1af7fcc3019c2f36a6c9b9f083758aef455d,bugfix: init_worker_by_lua*: memory corruptions would happen when no server {} is defined in nginx.conf. this regression had appeared in v0.9.11.
agentzh,2014-08-19 19:12:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/df70a5e7ec22edbd7c07bc203bd4ab24491d10c9,df70a5e7ec22edbd7c07bc203bd4ab24491d10c9,bugfix: fixed build failures with OpenSSL older than 0.9.8f. thanks FFCZ for the report in #413.
agentzh,2014-08-18 19:49:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/044f8618816fc2bc13b1423e5687558ea3b92cc5,044f8618816fc2bc13b1423e5687558ea3b92cc5,bugfix: create_loc_conf did not return NULL on error.
agentzh,2014-08-18 16:55:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/96d4608efd4142798dc5a97641a47a56eab32229,96d4608efd4142798dc5a97641a47a56eab32229,tests: fixed a case for raw req socket to reflect recent changes in the debugging logs for tcp_nodelay.
agentzh,2014-08-17 21:59:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3acb8dd905e3c1b0478bee5c984a0148f7154fc0,3acb8dd905e3c1b0478bee5c984a0148f7154fc0,"bugfix: the ""tcp_nodelay"" directive configuration was not honored by upstream TCP cosockets, which could lead to extra delays for small messages. thanks Shun Zhang for reporting this issue."
agentzh,2014-08-17 20:48:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/947f82d1b2012199b3449fcd0f8dfa0c50472617,947f82d1b2012199b3449fcd0f8dfa0c50472617,bugfix: compilation failed with nginx 1.3.6 or older. this regression had appeared in the v0.9.11 release.
agentzh,2014-08-17 20:45:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1565a068e13ef54832b63da0a91ded348efb92d7,1565a068e13ef54832b63da0a91ded348efb92d7,bugfix: compilation failed with nginx 0.9.x.
agentzh,2014-08-16 20:36:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e2aef6d0384df02c63f8da3d10bde8bb1a2d12df,e2aef6d0384df02c63f8da3d10bde8bb1a2d12df,doc: bumped version to 0.9.11; also claimed that we work with nginx 1.7.4.
agentzh,2014-08-15 19:19:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4c19852c0ded24c367092728a79303525756291e,4c19852c0ded24c367092728a79303525756291e,doc: typo fix.
agentzh,2014-08-15 06:32:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/da0ced8a4b000663f94423336ae8a410f22244bd,da0ced8a4b000663f94423336ae8a410f22244bd,bugfix: init_worker_by_lua* would conflict with some other nginx C modules (like ngx_proxy) when their merge_loc_conf callbacks (or alike) produce side-effects in cf->cycle. thanks Ruoshan Huang for the report.
agentzh,2014-08-14 21:45:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d4dbba59d6d81079cd9314027a6f288f1e80e648,d4dbba59d6d81079cd9314027a6f288f1e80e648,config: now we also explicitly check the Lua ABI/language version in our feature test for a Lua lib.
agentzh,2014-08-14 21:43:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/90bdd9744ba2b37facec0c08c57dd8e36f643daf,90bdd9744ba2b37facec0c08c57dd8e36f643daf,fixed the build failure introduced in commit 109fd454a.
agentzh,2014-08-14 18:55:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b6978cde6e5e3c26d0b962feb548783a10873ae9,b6978cde6e5e3c26d0b962feb548783a10873ae9,"Merge pull request #409 from cubicdaiya/feature/vim

Style: added vim modeline."
agentzh,2014-08-14 18:55:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e4691cb5c088fb5fa0fff50195ea7f423c34a391,e4691cb5c088fb5fa0fff50195ea7f423c34a391,"Merge pull request #410 from cubicdaiya/feature/use_macro

Style: use macro instead of magic-number."
agentzh,2014-08-14 18:49:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/99cc06d0f1a4f0a8a9c784966e6dfffc51a4012c,99cc06d0f1a4f0a8a9c784966e6dfffc51a4012c,"Merge pull request #411 from cubicdaiya/feature/ues_luapushliteral2

use lua_pushliteral for string-literals."
cubicdaiya,2014-08-14 16:55:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/109fd454a18343eb77552cf82e870cf1d9a44af5,109fd454a18343eb77552cf82e870cf1d9a44af5,use lua_pushliteral for string-literals.
cubicdaiya,2014-08-14 16:12:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e464f9ae5b0f7d0d44a824079d4283f1f4a2abd,8e464f9ae5b0f7d0d44a824079d4283f1f4a2abd,Style: use macro instead of magic-number.
cubicdaiya,2014-08-14 15:58:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7f739a983842831fab442f253bfcb44630bf53a7,7f739a983842831fab442f253bfcb44630bf53a7,Style: added vim modeline.
agentzh,2014-08-12 20:12:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d957eefee423b1d1058d4da0453b358be4c78ee8,d957eefee423b1d1058d4da0453b358be4c78ee8,tests: made a test case for ngx.on_abort() more tolerant.
agentzh,2014-08-12 19:55:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e0cd3ccf1b14d0957a93b370e04601083680f67a,e0cd3ccf1b14d0957a93b370e04601083680f67a,"bugfix: ngx.resp.get_headers(): sometimes we might omit the builtin-headers Content-Type, Content-Length, Connection, and Transfer-Encoding. thanks Jon Keys for the report."
agentzh,2014-08-11 20:50:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/75cc29ea64a87bc5cd447525893fda76b8d664b4,75cc29ea64a87bc5cd447525893fda76b8d664b4,"bugfix: ngx.req.socket(true): it incrrectly returned the error ""chunked request bodies not supported yet"" for *raw* request sockets with chunked request bodies. thanks Xiaofei Yang for the report."
agentzh,2014-08-10 19:21:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5f62a5584680ec23ddf15e0110a61f027d2be6ee,5f62a5584680ec23ddf15e0110a61f027d2be6ee,tests: fixed a test case that could fail randomly.
agentzh,2014-08-09 23:15:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3ffe48ccef1358c87d2ec9734ef6a43fa04914bd,3ffe48ccef1358c87d2ec9734ef6a43fa04914bd,bugfix: tcpsock:sslhandshake() incorrectly returned failures when the SSL handshake operation succeeded immediately.
agentzh,2014-08-08 22:52:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/03a74d445b7b13b7e399ad57ca7d81196e143e35,03a74d445b7b13b7e399ad57ca7d81196e143e35,tests: fixed a test case to reflect latest change in ngx_set_misc.
agentzh,2014-08-08 22:08:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ad3364515a98d4f5b526c1d9aa5e167de357d8a1,ad3364515a98d4f5b526c1d9aa5e167de357d8a1,"Merge pull request #408 from cubicdaiya/issues/use_luapushliteral

use lua_pushliteral for string-literals."
agentzh,2014-08-08 22:04:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/06652edb18d8983f01b68162f425dbe86c8e5288,06652edb18d8983f01b68162f425dbe86c8e5288,bugfix: we did not check allocation failures while compiling the pattern for tcpsock:receiveuntil(). thanks Tatsuhiko Kubo for the patch in #407.
cubicdaiya,2014-08-08 19:01:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/141725f4c188416c8ae842e9212163037d9b32f8,141725f4c188416c8ae842e9212163037d9b32f8,use lua_pushliteral for string-literals.
agentzh,2014-08-08 02:17:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/05e2ad61f2978fc3967b53abc0553ab1ecd035ff,05e2ad61f2978fc3967b53abc0553ab1ecd035ff,doc: removed the SSL cosocket item from the TODO list.
agentzh,2014-08-06 19:25:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/92d92fbff376c0e3b50edf209dd0034a2d38cd74,92d92fbff376c0e3b50edf209dd0034a2d38cd74,style: fixed tab indentation. thanks Tatsuhiko Kubo for the patch in #406.
agentzh,2014-08-06 19:02:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e482cdab370b37f877c1ba3e39d01e00194602f9,e482cdab370b37f877c1ba3e39d01e00194602f9,doc: more clarification in the docs for the res.truncated flag returned by ngx.location.capture(). thanks Jon Keys for asking.
agentzh,2014-08-05 23:11:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2b40b44dcdb972c541889c9fa4d272b2e2db3a63,2b40b44dcdb972c541889c9fa4d272b2e2db3a63,doc: documented the new SSL cosocket feature.
agentzh,2014-08-05 21:27:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd3f4ee25051954c7d7061b0f303046b652ab303,fd3f4ee25051954c7d7061b0f303046b652ab303,"bugfix: tcpsock:sslhandshake(): the ""host"" parameter did not accept the nil value."
agentzh,2014-08-05 18:49:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/45cb4feb1fbe55f63ce2c1ada987078d8bef4cbe,45cb4feb1fbe55f63ce2c1ada987078d8bef4cbe,"doc: added missing method name ""get_keys"" under ""ngx.shared.DICT"" and also fixed the method order. thanks George Bashi for the patch in #404."
agentzh,2014-07-28 21:22:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e7d89c043588c7475ccb772d58f625657bc5276e,e7d89c043588c7475ccb772d58f625657bc5276e,bugfix: builds without --with-http_ssl_module were broken. this regression had appeared in commit a6a0ed5.
agentzh,2014-07-28 21:15:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b55d0ecf590fc7913290d762f051a3182ea8d354,b55d0ecf590fc7913290d762f051a3182ea8d354,"feature: tcpsock:sslhandshake(): when the ""session"" argument is a boolean ""false"", then no SSL session userdata will be returned and only a boolean ""true"" value is returned when successful."
agentzh,2014-07-26 20:16:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2078657621cc3b3076e102ac0dd7511bf0349035,2078657621cc3b3076e102ac0dd7511bf0349035,"tests: use iscribblet.org instead of agentzh.com in tests because the latter is currently served by Chinese name servers, which are not quite stable."
agentzh,2014-07-26 17:19:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/90751a0711df1adfb490632e489692b3bc6a05a6,90751a0711df1adfb490632e489692b3bc6a05a6,tests: fixed a case regarding ngx.on_abort().
agentzh,2014-07-25 20:06:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/82188a1e82ed65738d400d1f14efb64890bd06f2,82188a1e82ed65738d400d1f14efb64890bd06f2,tests: made a test regarding ngx.re.sub less possible to fail in slow testing modes.
agentzh,2014-07-25 00:24:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/937dfb35e207d1002db7de5a35692116c1ab779b,937dfb35e207d1002db7de5a35692116c1ab779b,tests: a minor style fix in a case.
agentzh,2014-07-24 20:03:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a844a13ce1ca19c5969640a4eebc9e4a847175a7,a844a13ce1ca19c5969640a4eebc9e4a847175a7,"bugfix: we did not set the c->pool->log properly where c is an upstream stream-typed cosocket connection. this regression had appeared in the ssl cosocket patch, i.e., commit 5aed1966."
agentzh,2014-07-24 19:54:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3f9ab4bf6807013975b0c25cfac45dc33ed8bbd5,3f9ab4bf6807013975b0c25cfac45dc33ed8bbd5,tests: suppressed a valgrind false positive in the nginx core.
agentzh,2014-07-23 19:44:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a6a0ed52007125fd7bb25be3094d4bd2a1eccacc,a6a0ed52007125fd7bb25be3094d4bd2a1eccacc,"bugfix: memory leak cound happen when both cosocket connection pools and ""lua_code_cache off"" were used. this regression had appeared in the ssl cosocket patch, i.e., commit 5aed1966."
agentzh,2014-07-23 19:41:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/531fb5a080127daefc47f3c993cbc6b0f9f33f0c,531fb5a080127daefc47f3c993cbc6b0f9f33f0c,tests: one minor Perl code style fix.
agentzh,2014-07-23 19:41:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/348d359dd8c68eb5340431058d173421da5111ef,348d359dd8c68eb5340431058d173421da5111ef,tests: fixed the test case added in commit 6ef948150.
agentzh,2014-07-22 03:41:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5aed1966ccfdb7bd3e0817eedc59ff4a0e6b93b7,5aed1966ccfdb7bd3e0817eedc59ff4a0e6b93b7,"feature: SSL/TLS cosocket API

* added new method sslhandshake() to the stream-typed cosocket objects.
* added new configuration directives lua_ssl_trusted_certificate,
  lua_ssl_verify_depth, lua_ssl_crl, lua_ssl_protocols, and
  lua_ssl_ciphers.

Thanks aviramc for the original patch in #290."
agentzh,2014-07-22 23:43:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6ef948150fb01ecefe01730ecc89584abd7a2100,6ef948150fb01ecefe01730ecc89584abd7a2100,added a test case to exercise a bug in ngx_proxy's ssl handshake timeout handling (see http://mailman.nginx.org/pipermail/nginx-devel/2014-July/005627.html ).
agentzh,2014-07-21 23:20:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8acc73f2c42329a272c5793523986d22b34827d9,8acc73f2c42329a272c5793523986d22b34827d9,bugfix: stream-typed cosocket might read uninitialized memory bytes when logging errors due to sending to or receiving from a closed socket.
agentzh,2014-07-21 03:06:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/766ab667c70816963df4d2a833afc51a75c2a578,766ab667c70816963df4d2a833afc51a75c2a578,tests: fixed a test case regarding unix domain cosockets.
agentzh,2014-07-20 04:40:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/353563226d47a721266d6a2e5d48e33b443c924e,353563226d47a721266d6a2e5d48e33b443c924e,optimize: we now cache the userdata metatable (for the __gc metamethod) in the lua registry for the datagram-typed cosockets.
agentzh,2014-07-20 04:29:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3fd3234f38c01e253f861b533bc4fddf9a4e8bc1,3fd3234f38c01e253f861b533bc4fddf9a4e8bc1,optimize: we now cache the userdata metatable (for the __gc metamethod) in the stream-typed cosocket implementation.
agentzh,2014-07-20 00:09:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/58f916f13d460de4fe192f38bf96d56b2a03ac54,58f916f13d460de4fe192f38bf96d56b2a03ac54,bugfix: the datagram-typed cosocket resolver handler did not handle some special errors correctly.
agentzh,2014-07-19 23:49:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2cc788b4262a1079d43e1f0284ec0122980bbea5,2cc788b4262a1079d43e1f0284ec0122980bbea5,improved the fix in commit 48e48305.
agentzh,2014-07-19 23:26:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/48e483050e7871d922c7e6fde33e984b8b1f7697,48e483050e7871d922c7e6fde33e984b8b1f7697,bugfix: the stream-typed cosocket resolver handler did not handle some special errors correctly.
agentzh,2014-07-19 22:25:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c2f4dda29e0b45eea933ef755bf02380de679c45,c2f4dda29e0b45eea933ef755bf02380de679c45,trivial optimizations.
agentzh,2014-07-19 20:39:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/66c45338caee6e5254c69829206a33de403bc0ed,66c45338caee6e5254c69829206a33de403bc0ed,"doc: markdown: fixed the ""Back to TOC"" links for the sections (""Nginx API for Lua"" and ""Directives"") with inlined TOC. thanks Pierre-Yves Gérardy and Simon Eskildsen for the reports in #370 and #399, respectively."
agentzh,2014-07-19 18:49:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/92e22bc432ece1fbdc414a1b7626d5b62127d388,92e22bc432ece1fbdc414a1b7626d5b62127d388,"bugfix: body_filter_by_lua*: reading ngx.arg[1] after clearing ngx.arg[1] (by assigning nil or """") could lead to segmentation faults. this regression had appeared in v0.9.10. thanks Jason Stangroome for the report in #398."
agentzh,2014-07-19 05:29:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f3870f6a7353b8188c5e0164655c0cdfe0e6d3f3,f3870f6a7353b8188c5e0164655c0cdfe0e6d3f3,bugfix: ngx.req.raw_header() would return garbled data when LF instead of CRLF is used as the line terminator in the original header.
agentzh,2014-07-18 23:55:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b5d23b9e4dedebf59a7291108c52d448be9b70ea,b5d23b9e4dedebf59a7291108c52d448be9b70ea,"bugfix: ngx.req.raw_header() could lead to buffer overflow and the ""userdata length overflow"" error due to misuse of r->header_end while modules like ngx_fastcgi and ngx_proxy can change r->header_end to point to buffers of their own. thanks sadmedved for the report."
agentzh,2014-07-15 22:52:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e4e0f4b37b6e6a0b3220460287fe3d73334aa379,e4e0f4b37b6e6a0b3220460287fe3d73334aa379,"doc: improved the wording in the ""Lua Coroutine Yielding/Resuming"" section. thanks Hungpu DU for the report in #394."
agentzh,2014-07-15 22:42:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dfb61faeb12b90279b3e50a6496bea93591ff9b7,dfb61faeb12b90279b3e50a6496bea93591ff9b7,bugfix: we did not use lua_checkstack() to prevent Lua stack overflow in our own C-land Lua backtrace generator.
agentzh,2014-07-15 22:35:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e1b24308a9b214f55419cc86c4e803b78a33caf0,e1b24308a9b214f55419cc86c4e803b78a33caf0,refactor: removed a piece of duplicate code from the stream-typed cosocket implementation.
agentzh,2014-07-14 01:57:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/35e174b4f3dc8cc31052c60ada8c9f5e750e67f8,35e174b4f3dc8cc31052c60ada8c9f5e750e67f8,"optimize: reading ngx.header.HEADER: eliminated dynamic allocations and data copying when there is no need to ransform ""_"" to ""-"" in the header name."
agentzh,2014-07-14 01:45:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ee2a206b2504c2858216fd1c919e2350456689a3,ee2a206b2504c2858216fd1c919e2350456689a3,feature: added pure C API function for FFI-based implementation of reading ngx.header.HEADER.
agentzh,2014-07-14 01:44:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b6e991ba9f6c40277ba39858d4a661d412e0a3de,b6e991ba9f6c40277ba39858d4a661d412e0a3de,tests: improved the test cases for the ngx.header API a little bit.
agentzh,2014-07-11 19:32:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d380c975ba5c6ca87ace4f9e6ef7852d9403ee49,d380c975ba5c6ca87ace4f9e6ef7852d9403ee49,doc: improved the wording of the documentation for ngx.req.clear_header() to prevent ambiguity. thanks Christophe-Marie Duquesne for the report in #393.
agentzh,2014-07-11 19:14:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ed096adaf3292d7aa84bf47119baa0bbf9712a4d,ed096adaf3292d7aa84bf47119baa0bbf9712a4d,style: fixed coding style in the header files consts.h and args.h. thanks Tatsuhiko Kubo for the report in #392.
agentzh,2014-07-10 23:45:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f83fa0d4d4c255d4581b572910ed8832f76a7853,f83fa0d4d4c255d4581b572910ed8832f76a7853,bugfix: fixed an incorrect error message. thanks aviramc for the patch in #290.
agentzh,2014-07-10 23:42:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4969b87a2b7de33165c4fbb4b76e6ec880167f95,4969b87a2b7de33165c4fbb4b76e6ec880167f95,style: preserved a blank line after the goto labels.
agentzh,2014-07-10 23:31:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/790e57dee806c00fe267170d44b96cb4d3c06202,790e57dee806c00fe267170d44b96cb4d3c06202,optimize: reading ngx.header.HEADER: reduce allocations in the nginx request memory pool.
agentzh,2014-07-10 22:26:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c37e6a6e511f66d02c0ba88f7e4be17c6f1c3d33,c37e6a6e511f66d02c0ba88f7e4be17c6f1c3d33,change: use the type ngx_http_lua_ffi_str_t instead of ngx_str_t in the pure C function ngx_http_lua_ffi_req_get_headers.
agentzh,2014-07-10 22:05:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cee6659f6325f0d520d9bcd6f13ccdace4c569ca,cee6659f6325f0d520d9bcd6f13ccdace4c569ca,doc: documented that the standard coroutine API is now available in the context of header_filter_by_lua* and body_filter_by_lua*.
agentzh,2014-07-10 21:57:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1238bdd9fd9f3be31f4a8846ff6c6802f171df3a,1238bdd9fd9f3be31f4a8846ff6c6802f171df3a,doc: documented the NGX_LUA_NO_FFI_API C macro.
agentzh,2014-07-10 21:53:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7ff3ef1f1164a3332ef130f69ffff63f5ac43bba,7ff3ef1f1164a3332ef130f69ffff63f5ac43bba,renamed the NGX_HTTP_LUA_NO_FFI_API macro to NGX_LUA_NO_FFI_API.
agentzh,2014-07-10 21:28:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e94a4f371b0c074b81a36874a25a4fdcaab78efe,e94a4f371b0c074b81a36874a25a4fdcaab78efe,feature: added pure C API functions for FFI-based implementations of ngx.worker.pid() and ngx.worker.exiting().
agentzh,2014-07-10 20:37:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a2e53c4f5f38633ef8f87d5bc688271ffb9a8221,a2e53c4f5f38633ef8f87d5bc688271ffb9a8221,bumped the code version to 0.9.11.
agentzh,2014-07-10 20:15:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/17c28f1acb6cb82beb972619e14f2e1cc0d7f5f7,17c28f1acb6cb82beb972619e14f2e1cc0d7f5f7,feature: the standard coroutine API is now enabled in the context of header_filter_by_lua* and body_filter_by_lua*. thanks ngo for the request in #389.
agentzh,2014-07-10 19:33:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0778f2b04f748b15b62e0eedbfa16bb69a19e5f9,0778f2b04f748b15b62e0eedbfa16bb69a19e5f9,"feature: for content/rewrite/access_by_lua_file directives, we now return 404 status code instead of 500 in case that the specified .lua file cannot be opened. thanks Sam Lee for the suggestion."
agentzh,2014-07-10 18:36:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/76c70010b8d67b0712167108eb111e0f3fc1b63d,76c70010b8d67b0712167108eb111e0f3fc1b63d,"doc: fixed a wrong statement regarding require() in the ""Lua Variable Scope"" section. thanks Hungpu DU for the report in #390."
agentzh,2014-07-09 23:10:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/34ecd2f131a9633578ea1845daac308b47102547,34ecd2f131a9633578ea1845daac308b47102547,bugfix: ngx.escape_uri() now uses uppercase hexadecimal digits for percent-encoding according to the recommendation in RFC 3986. thanks Piotr Sikora for the suggestion.
agentzh,2014-07-09 22:53:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5e94463789bf037759de6e9a0877fbb5b9e0052f,5e94463789bf037759de6e9a0877fbb5b9e0052f,"bugfix: for statically linked luajit, we need to pass -ldl to the linker. thanks cf2012 for the report in openresty/ngx_openresty#40."
agentzh,2014-07-09 18:37:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6929e7de92188b5d4b72d3f7dabb35f25de7fd65,6929e7de92188b5d4b72d3f7dabb35f25de7fd65,doc: documented the behavior of init_by_lua* when lua_code_cache is off.
agentzh,2014-07-08 20:47:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cea9ee2cd207b815b873200912f0ecb5f3400537,cea9ee2cd207b815b873200912f0ecb5f3400537,doc: bumped version to 0.9.10.
agentzh,2014-07-07 19:47:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f3102fef30d211c91a5d6ec23f0a9b4e0e80408a,f3102fef30d211c91a5d6ec23f0a9b4e0e80408a,minor fixes in the NGX_LUA_ABORT_AT_PANIC macro.
agentzh,2014-07-06 05:10:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/de46d204b2034a48ee8e471d390eae2d0ea6156f,de46d204b2034a48ee8e471d390eae2d0ea6156f,bugfix: fixed a compilation error regression when using the Microsoft Visual C/C++ compiler. thanks itpp16 for the patch in #388.
agentzh,2014-07-06 05:04:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1e07b1ead5d975703aa0441437c4851a96b0e80b,1e07b1ead5d975703aa0441437c4851a96b0e80b,"bugfix: we should use ""c->buffered & NGX_HTTP_LOWLEVEL_BUFFERED"" instead of ""c->buffered"" for testing if the downstream connection is busy writing."
agentzh,2014-07-05 23:19:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/aa6054a13593a2680390f3da3a2180b669a88c09,aa6054a13593a2680390f3da3a2180b669a88c09,"change: throw out the ""no memory"" Lua error consistently (instead of ""out of memory"") when failing to allocate on the nginx side."
agentzh,2014-07-05 23:09:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9c79180b72549d2e537c8db2e5d27ef3a33feedf,9c79180b72549d2e537c8db2e5d27ef3a33feedf,bugfix: we did not handle an out-of-memory case in ngx.req.set_body_data().
agentzh,2014-07-05 22:15:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5ad9b3fbb904f3e11f6cdb3b28df180c7323e808,5ad9b3fbb904f3e11f6cdb3b28df180c7323e808,bugfix: rewrote the buggy patch in commit 4c215c556 for #386 because it did not handle flush bufs correctly and had other issues.
agentzh,2014-07-05 21:58:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bda34bb099638cdea0278702fc473a933bc8d31e,bda34bb099638cdea0278702fc473a933bc8d31e,fixed 2 minor lua stack manipulation mistakes.
agentzh,2014-07-05 21:54:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/88be2058389cd069e78e2df1304ab1a5d8ff0701,88be2058389cd069e78e2df1304ab1a5d8ff0701,bugfix: ngx_http_lua_chain_get_free_buf(): avoided returning zero-sized memory bufs.
agentzh,2014-07-05 21:49:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd8af73d2372f8c6be66527185b2a69ac06f8bb5,fd8af73d2372f8c6be66527185b2a69ac06f8bb5,refactor: renamed ngx_http_chains_get_free_buf() to ngx_http_lua_chain_get_free_buf(). also omitted the buf tag argument which is a constant anyway.
agentzh,2014-07-05 02:40:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6b8ca4a35e60dd9f271e0be914688a1bf0ef9848,6b8ca4a35e60dd9f271e0be914688a1bf0ef9848,doc: typo fix.
agentzh,2014-07-05 01:08:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c29f33adf13bf63c797ccc3ad7d01574f42bf7eb,c29f33adf13bf63c797ccc3ad7d01574f42bf7eb,doc: documented the NGX_LUA_USE_ASSERT and NGX_LUA_ABORT_AT_PANIC C macros.
agentzh,2014-07-05 00:49:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4c215c55626f01cbd2731952e4ad6bfe2ec182ac,4c215c55626f01cbd2731952e4ad6bfe2ec182ac,"bugfix: body_filter_by_lua*: we might incorrectly pass zero-size bufs (in the form of ""special sync bufs"") at the beginning of a chain, which could get stuck in the buffer of ngx_http_writer_filter_module (or in other words, being ""busy"") while could still get recycled in the content handler (like content_by_lua), leading to buffer corruptions. thanks westhood for the report and patch in #386."
agentzh,2014-07-04 21:26:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/26fd007048cf0f21affc1bba5f153518962e1fe9,26fd007048cf0f21affc1bba5f153518962e1fe9,bugfix: we did not clear all the fields in ngx_buf_t when recycling chain link buffers.
agentzh,2014-07-04 18:45:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fdd10bf3a9a7d38c1620b36acb886c5c7f42cea9,fdd10bf3a9a7d38c1620b36acb886c5c7f42cea9,tests: use larger timeout threshold for test cases involved with external resolvers.
agentzh,2014-07-04 01:02:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b106ccdb44b80148d98226f09177dacf6de66be6,b106ccdb44b80148d98226f09177dacf6de66be6,fixed the test plan in 014-bugs.t.
agentzh,2014-07-03 23:38:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8613ed6e93ab8880797d6ca815bdb4cb90fd95b8,8613ed6e93ab8880797d6ca815bdb4cb90fd95b8,"bugfix: the *_by_lua_file directives failed to load .lua files of exactly the size n*LUAL_BUFFERSIZE bytes with the error ""'end' expected (to close 'function' at line 1) near '<eof>'"". thanks kworr for the report in #385."
agentzh,2014-07-03 22:40:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/db9fe7ab98c1e5989d76a0c95a1934276579d130,db9fe7ab98c1e5989d76a0c95a1934276579d130,bumped version to 0.9.10.
agentzh,2014-07-03 22:23:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/745a7107b4c39bea92da7e3ed5e399be0427f142,745a7107b4c39bea92da7e3ed5e399be0427f142,optimize: now we turn off our C-land assertions by default unless the user explicitly specifies the C compiler option -DNGX_LUA_USE_ASSERT.
agentzh,2014-07-03 21:44:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3abfb1fc62f8d136a6ac4ea42d83fcdf35647273,3abfb1fc62f8d136a6ac4ea42d83fcdf35647273,"bugfix: when the ngx.on_abort() user thread was created but never run *and* some other pending user thread was aborted prematurely, the latter thread might get leaked. thanks Dane Knecht for the report. this regression had appeared in the v0.9.9 release."
agentzh,2014-07-03 20:08:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1250c5bf49e1f4c994d3997e1aea9341a5dffecd,1250c5bf49e1f4c994d3997e1aea9341a5dffecd,tests: use larger resolver_timeout settings.
agentzh,2014-07-03 01:02:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/09e0944d671b1d045b1b38d3d2bc68626fe130d5,09e0944d671b1d045b1b38d3d2bc68626fe130d5,"change: now we always iterate through all the user light threads to ensure all threads are de-anchored even when the ""uthreads"" counter gets out of sync. also added an assertion on the ""uthreads"" counter."
agentzh,2014-07-01 04:21:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/24953436fc2648171122eb67faa79d47f6afc229,24953436fc2648171122eb67faa79d47f6afc229,doc: documented the new full-duplex stream cosocket feature.
agentzh,2014-07-01 04:10:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f408dd51a9cb7430d7b3cad9eca2b32a5fb7dd76,f408dd51a9cb7430d7b3cad9eca2b32a5fb7dd76,doc: documented the ngx.thread.kill() API function.
agentzh,2014-07-01 04:04:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0950973adca441b24fb39591051b0a5a4f5fd52b,0950973adca441b24fb39591051b0a5a4f5fd52b,doc: bumped version to 0.9.9. also states that we work with nginx 1.7.2.
agentzh,2014-06-30 00:25:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f40e371be0f70b5b3cbf5e7b92c6144c7451d339,f40e371be0f70b5b3cbf5e7b92c6144c7451d339,"Revert ""refactor: we no longer call ngx_pfree() in our own pcre_free hook.""

This reverts commit 5c788b8b985544d26d7c54c3295dbebc0608ffa4."
agentzh,2014-06-29 19:06:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fcbbf523d78fe2f4656756f353999526220df6e6,fcbbf523d78fe2f4656756f353999526220df6e6,tests: fixed timing issues in some of the test cases for full-duplex cosockets.
agentzh,2014-06-29 01:35:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d56a2af528320189d556902bc3b41aff9b068ed8,d56a2af528320189d556902bc3b41aff9b068ed8,bugfix: fixed the initial size of the ngx.worker table and the misleading comment due to a copy&paste mistake. thanks Suraj Jaiswal for the report.
agentzh,2014-06-26 23:29:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/934e33e6d18311a389e960fcf24ba1d21f0ae011,934e33e6d18311a389e960fcf24ba1d21f0ae011,"feature: cosockets are now full duplex: a reader ""light thread"" and a writer ""light thread"" can operate on the same cosocket simultaneously. thanks shun zhang and aviramc for the original patches in #367 and #290, respectively."
agentzh,2014-06-21 00:26:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6885462e91fe8bde348cd290978ed3daf212850f,6885462e91fe8bde348cd290978ed3daf212850f,"feature: added new API function ngx.thread.kill() for killing a user ""light thread"". thanks aviramc for the original patch in #288."
agentzh,2014-06-26 23:10:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/52b76a7199745d334decac06becf2bd9d0f24c4c,52b76a7199745d334decac06becf2bd9d0f24c4c,removed some dead code from the stream cosocket implementation.
agentzh,2014-06-26 00:27:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d6bc02eb3f543dce5e2cf63331e92cfd66473812,d6bc02eb3f543dce5e2cf63331e92cfd66473812,"bugfix: the coroutine API table introduced by require(""coroutine"") was not working in the context of ngx_lua. thanks Paul K and Pierre-Yves Gérardy for the report (in #381)."
agentzh,2014-06-25 19:52:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c2e29483d993cb14374a0503950d2d6204042e57,c2e29483d993cb14374a0503950d2d6204042e57,a minor coding style fix.
agentzh,2014-06-17 20:10:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9f0f9eaf12f22c60b7c4eb52fbaedd1a9c01631a,9f0f9eaf12f22c60b7c4eb52fbaedd1a9c01631a,tests: made a test case in 124-init-worker.t less possible to fail in slow testing mode.
agentzh,2014-06-16 05:21:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b773bcabc226dcae22c071fc1d0326639c9a9a7c,b773bcabc226dcae22c071fc1d0326639c9a9a7c,bumped version number to 0.9.9.
agentzh,2014-06-16 05:20:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd41af2d04c223d44278fd4a7d196f252704c927,fd41af2d04c223d44278fd4a7d196f252704c927,"bugfix: we incorrectly overrode coctx->data before calling coctx->cleanup, which could lead to memory corruptions. this regression had appeared in the previous commit, f19e27e777."
agentzh,2014-06-07 19:42:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f19e27e7773e9111a206890948c68ae6922f9c65,f19e27e7773e9111a206890948c68ae6922f9c65,bugfix: the coctx cleanup handler might not be called before being overidden by other operations. this could happen when failing to yield in an error handler (for xpcall).
agentzh,2014-06-06 19:43:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/053f40e79b9b7c74d8f255684a2317ddfb7f5788,053f40e79b9b7c74d8f255684a2317ddfb7f5788,bugfix: fixed an incorrect error message. thanks doujiang for the patch in #373.
agentzh,2014-06-06 17:42:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/75c98cb5f6d954c7fb1024550357f36c8f5ae62e,75c98cb5f6d954c7fb1024550357f36c8f5ae62e,fixed the test plan in 058-tcp-socket.t.
agentzh,2014-06-06 05:51:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8fd50ad874c6eced730294339613e6fc58cc6e3c,8fd50ad874c6eced730294339613e6fc58cc6e3c,ensured that the resolver handler will not call into the dead request context.
agentzh,2014-06-05 21:33:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/06b7476b27fdaeac2c3f6baa8e04213528a2b66f,06b7476b27fdaeac2c3f6baa8e04213528a2b66f,doc: added performance notes to the sections for ngx.var and ngx.ctx.
agentzh,2014-06-03 20:33:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7a20b0770573343c73b8397487e8f04548c17c83,7a20b0770573343c73b8397487e8f04548c17c83,doc: fixed a typo.
agentzh,2014-06-03 19:54:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ab8bd1b022e22c07f6c637ae05fe2b8353e84cef,ab8bd1b022e22c07f6c637ae05fe2b8353e84cef,doc: documented the values can be passed to the timer callback function.
agentzh,2014-06-01 04:45:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/73e831f044d0305e948e6793cb1d700e5da3936d,73e831f044d0305e948e6793cb1d700e5da3936d,bumped version to 0.9.8.
agentzh,2014-05-30 22:03:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2b721c7fd23008885a13f13996d22735b9a569eb,2b721c7fd23008885a13f13996d22735b9a569eb,"doc: markdown format: inlined the TOC for the long sections ""Directives"" and ""Nginx API for Lua"" as per Pierre-Yves Gérardy's suggestion in #370."
agentzh,2014-05-30 21:04:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c91e1f5258bd9c075f73b0481cf09e37c6378a07,c91e1f5258bd9c075f73b0481cf09e37c6378a07,"doc: moved the ""Directives"" and ""Nginx API for Lua"" sections to the end because they are too long and kinda boring :) thanks Pierre-Yves Gérardy for the patch in #371."
agentzh,2014-05-30 20:43:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a9e0111fe965b5ef4d48075e5d1718f3046d3b96,a9e0111fe965b5ef4d48075e5d1718f3046d3b96,doc: moved important sections to the front. thanks Pierre-Yves Gérardy for the patch in #371.
agentzh,2014-05-30 18:50:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/91e3307fb9f34922041ab1da63b4fa02641fe407,91e3307fb9f34922041ab1da63b4fa02641fe407,use ngx_http_lua_assert() instead of plain assert() across the code base.
agentzh,2014-05-27 19:44:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ec2498a81592150e9ca74c65f05e1644afd7a1f5,ec2498a81592150e9ca74c65f05e1644afd7a1f5,added assertions to the coroutine scheduler to ensure that we do not pop or push the wrong number of stack slots for yielded coroutines.
agentzh,2014-05-27 19:29:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5318f3a697ddc6136ad01971575d5ac07f10ca0f,5318f3a697ddc6136ad01971575d5ac07f10ca0f,resolved merge conflicts.
agentzh,2014-05-25 04:09:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d3ab0edd45bffe1b9a36abdf5bff544de436ccee,d3ab0edd45bffe1b9a36abdf5bff544de436ccee,bugfix: ngx.req.set_method(): we incorrectly modified r->method when the method ID was wrong.
agentzh,2014-05-25 04:06:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/31e00155727766c4230ac3daa1bf2d87f7d41b4d,31e00155727766c4230ac3daa1bf2d87f7d41b4d,feature: added a pure C API function for FFI-based implementations of ngx.req.set_header() (single-value only) and ngx.req.clear_header().
agentzh,2014-05-25 03:15:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3a01812d8876e5c6707c113fbcf3bb7e8cf4f75f,3a01812d8876e5c6707c113fbcf3bb7e8cf4f75f,feature: added a pure C API function for FFI implementations of shdict:flush_all().
agentzh,2014-05-25 02:44:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/62b2ac5cb0650f28cbb2bd4fe7e12cf930d24dbe,62b2ac5cb0650f28cbb2bd4fe7e12cf930d24dbe,feature: added pure C API function for FFI-based implementations of ngx.req.set_method().
agentzh,2014-05-25 02:05:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f9ce770d788510ffa168d80ad61483158d5752bd,f9ce770d788510ffa168d80ad61483158d5752bd,feature: added pure C API functions for FFI-based implementations of ngx.req.get_method().
agentzh,2014-05-24 22:44:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1c3a8416200bc6665f1d79e90013b2e36b901691,1c3a8416200bc6665f1d79e90013b2e36b901691,"Revert ""optimize: use lua_pushinteger instead of lua_pushnumber in ngx_http_lua_ngx_time().""

The lua_Integer type might lead to data loss.

This reverts commit e9b8563c32d4ef0510c5a6012defba15aaf9c9b5."
agentzh,2014-05-24 22:43:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9bb1f3586b270b16eeb6db33bdc329cef2c6f398,9bb1f3586b270b16eeb6db33bdc329cef2c6f398,"the ""int"" return type of ngx_http_lua_ffi_time might lead to data loss. thanks itpp16 for the report."
agentzh,2014-05-24 19:53:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e9b8563c32d4ef0510c5a6012defba15aaf9c9b5,e9b8563c32d4ef0510c5a6012defba15aaf9c9b5,optimize: use lua_pushinteger instead of lua_pushnumber in ngx_http_lua_ngx_time().
agentzh,2014-05-24 19:51:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/99e5171c646131a78bab7e7ca4bf3c5365370405,99e5171c646131a78bab7e7ca4bf3c5365370405,renamed ngx_http_lua_ffi_ngx_now to ngx_http_lua_ffi_now.
agentzh,2014-05-24 19:48:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d9fff3b70ac9b79e76c71c1abdb47c5925c3ee94,d9fff3b70ac9b79e76c71c1abdb47c5925c3ee94,feature: added pure C API function ngx_http_lua_ffi_time for FFI-based implementations of ngx.time().
agentzh,2014-05-24 19:39:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8666424db5d5c8cddf2a4f83f318eb80bdcbbc73,8666424db5d5c8cddf2a4f83f318eb80bdcbbc73,fixed the wrong return type of the ngx_http_lua_ffi_req_start_time function in the previous commit.
agentzh,2014-05-22 23:04:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/50dbfcefd1bfa483feeffaf45f323afc08ceebe7,50dbfcefd1bfa483feeffaf45f323afc08ceebe7,feature: added pure C API function ngx_http_lua_ffi_req_start_time for FFI-based implementations of ngx.req.start_time().
agentzh,2014-05-22 21:53:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/34ab51f89f69fde41bd6ef95103b7538c8831af7,34ab51f89f69fde41bd6ef95103b7538c8831af7,updated tests to reflect recent changes in rewrite_by_lua* and access_by_lua*.
agentzh,2014-05-22 19:45:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4f0be44f75337b8886bc02552672b836e6f8fe13,4f0be44f75337b8886bc02552672b836e6f8fe13,doc: added more explanation for some user FAQs.
agentzh,2014-05-22 18:37:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ec78bf1019e10be87e81f457e0ce1e70b175683e,ec78bf1019e10be87e81f457e0ce1e70b175683e,fixed a source line exceeding 80 cols.
agentzh,2014-05-22 18:37:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/32960150fff46facf6249cb9928e59b77a9e4228,32960150fff46facf6249cb9928e59b77a9e4228,minor doc love.
agentzh,2014-05-20 23:38:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9383236449de24e599e5d78f559372db4db63682,9383236449de24e599e5d78f559372db4db63682,change: rewrite_by_lua* will now terminate the current request if the response header has already been sent (via calls like ngx.say and ngx.send_headers) at that point.
agentzh,2014-05-20 23:03:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a1ea105f4cacceddba051065bfef6572be95cef1,a1ea105f4cacceddba051065bfef6572be95cef1,change: access_by_lua* will now terminate the current request if the response header has already been sent (via calls like ngx.say and ngx.send_headers) at that point (otherwise nginx might crash when other modules try to generate their own response). thanks yaronli and Sophos for the report in #364.
agentzh,2014-05-20 23:03:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c478f41e1b8edcd3ddcd469fd58efebcede8369a,c478f41e1b8edcd3ddcd469fd58efebcede8369a,change: access_by_lua* will now terminate the current request if the response header has already been sent (via calls like ngx.say and ngx.send_headers) at that point (otherwise nginx might crash when other modules try to generate their own response). thanks yaronli and Sophos for the report in #364.
agentzh,2014-05-18 22:36:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b438f972d5a676445b0b2f6dfd832cab6100546c,b438f972d5a676445b0b2f6dfd832cab6100546c,"feature: now we save the original pattern string pointer value into our ngx_http_lua_regex_t struct, to help runtime regex profiling and debugging."
agentzh,2014-05-18 22:36:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7f184ec4c1ec7f9c114c1974d6405c0f726158b1,7f184ec4c1ec7f9c114c1974d6405c0f726158b1,"feature: now we save the original pattern string pointer value into our ngx_http_lua_regex_t struct, to help runtime regex profiling and debugging."
agentzh,2014-05-14 18:48:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fb5f9754180c0ebcc4bd5347a4909e04e04f1713,fb5f9754180c0ebcc4bd5347a4909e04e04f1713,feature: attempt to allow use of 3rd-party pcre bindings in init_by_lua*. thanks ikokostya for the feature request in #368.
agentzh,2014-05-12 20:41:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cae72592808ac7d1d3c3b2907a7dc2e5dbc20700,cae72592808ac7d1d3c3b2907a7dc2e5dbc20700,"added a fix for the leftover cases in commit b57d60d4c9d

we did not call leftover coctx cleanup handlers for ngx.exit(),
ngx.exect(), and ngx.req.set_uri(uri, true).

thanks Lipin Dmitriy for the new report in #361."
agentzh,2014-05-12 19:54:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c178302bd10fcd17d76df7518e975929a7a44cb2,c178302bd10fcd17d76df7518e975929a7a44cb2,updated the test index in 109-timer-hup.t.
agentzh,2014-05-12 04:25:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0a11b402aa192611f5d6ca56fd22f8f0020e0cb7,0a11b402aa192611f5d6ca56fd22f8f0020e0cb7,"feature: added pure C API function, ngx_http_lua_ffi_ngx_now, for FFI-based implementation for ngx.now() like lua-resty-core."
agentzh,2014-05-12 03:00:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0a845986a37c3a2d9cdbe02a7a77a1498c53622b,0a845986a37c3a2d9cdbe02a7a77a1498c53622b,"126-shdict-frag.t: force a full GC cycle at the end of the Lua handler to help the ""check leaks"" testing mode."
agentzh,2014-05-12 02:48:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a43bca8d107ec46e288d64f3c36e959673841ea7,a43bca8d107ec46e288d64f3c36e959673841ea7,fixed the wait time for slow testing mode.
agentzh,2014-05-12 02:46:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eb4f986764c2529a21325b0f053abf1aad930f52,eb4f986764c2529a21325b0f053abf1aad930f52,126-shdict-frag.t: increased the timeout threshold.
agentzh,2014-05-10 18:25:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0f68763de5856de51a0f024abb49a740b0102cf5,0f68763de5856de51a0f024abb49a740b0102cf5,"bugfix: nginx does not guarentee the parent pointer of the rbtree root is meaningful, which could lead to inifinite loops when ngx_lua tried to abort pending timers prematurely (upon worker exit). thanks pengqi for the patch in #362."
agentzh,2014-05-10 18:06:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a2dee0c62648c22060bc51a9fab440c4e84f717a,a2dee0c62648c22060bc51a9fab440c4e84f717a,added more code comments to the timer implementation.
agentzh,2014-05-10 18:02:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/af2d3570bfd25d3d35da13a87985c0bd0dae4e04,af2d3570bfd25d3d35da13a87985c0bd0dae4e04,added a (passing) fuzz testing for aborting many pending timers.
agentzh,2014-05-10 17:03:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3b3239c229504683fe47c8c62060e641ce5d451e,3b3239c229504683fe47c8c62060e641ce5d451e,added (passing) tests for yielding failures in cosocket DNS resolving.
agentzh,2014-05-09 21:54:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5d614b0945eec0be222ce88fd097d1d066d7bd94,5d614b0945eec0be222ce88fd097d1d066d7bd94,added a (passing) fuzz test case for shdict.
agentzh,2014-05-08 23:37:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b57d60d4c9db29bb9ad5961f363af52acf754aa0,b57d60d4c9db29bb9ad5961f363af52acf754aa0,"bugfix: we did not call our coroutine cleanup handlers right after our coroutine completes (either successfully or unsuccessfully) otherwise segmentation fault might happen when the Lua VM throws out unexpected exceptions like ""attempt to yield across C-call boundary"". thanks Lipin Dmitriy for the report in #361."
agentzh,2014-05-08 21:07:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/509bb9819e1ca8d183e7abfbe51fa6b6c4b16e1e,509bb9819e1ca8d183e7abfbe51fa6b6c4b16e1e,removed an obsolete code comment.
agentzh,2014-05-08 21:06:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ed1eb4f7fff24452adc7d07f5be318d820e79f1c,ed1eb4f7fff24452adc7d07f5be318d820e79f1c,bugfix: the ngx.ctx table might be released prematurely when ngx.exit() was used to generate the response header. thanks Monkey Zhang for the report. now we release ngx.ctx in a request pool cleanup handler.
agentzh,2014-05-08 20:54:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f7443edc12b2b296ecc14bfc54a1fdf93d1e72e1,f7443edc12b2b296ecc14bfc54a1fdf93d1e72e1,fixed the test index in 126-shdict-frag.t.
agentzh,2014-05-07 22:58:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/373376ce0f1318d31f0c6899b062bd334e6ad430,373376ce0f1318d31f0c6899b062bd334e6ad430,try to make a test case for shdict fragmentation pass on i386.
agentzh,2014-05-06 20:15:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fa83bb5fdad53b7dc869bc38fc4df8e88bf7446f,fa83bb5fdad53b7dc869bc38fc4df8e88bf7446f,"added tests for exercising the memory fragmentation issue in nginx's built-in allocator for blocks larger than the page size

this requires the following patch for the nginx core (1.7.0+):

https://github.com/openresty/ngx_openresty/blob/master/patches/nginx-1.7.0-slab_defrag.patch"
agentzh,2014-05-03 20:35:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d8c45b872586cce6c960de549ea0ae50dc8407d9,d8c45b872586cce6c960de549ea0ae50dc8407d9,"feature: make use of the new shm API in nginx 1.5.13+ to suppress the ""no memory"" error logging when the shared dicts run out of memory."
agentzh,2014-05-03 19:34:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ae2207bf8f186688218b5cd9a52131b7e9d1bbf2,ae2207bf8f186688218b5cd9a52131b7e9d1bbf2,bumped version to 0.9.8.
agentzh,2014-05-01 18:46:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1255864049b9e12d776cca6765bd6b623dc61054,1255864049b9e12d776cca6765bd6b623dc61054,feature: added C macro NGX_LUA_ABORT_AT_PANIC to allow generating a core dump when the Lua VM panics.
agentzh,2014-04-30 19:24:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/506728da23abfa0391f3e600184808d10fe3ed42,506728da23abfa0391f3e600184808d10fe3ed42,"doc: fixed the links to ngx_rewrite in the ""set_by_lua"" section."
agentzh,2014-04-30 19:20:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/39d3e74cbcb2dc91e7870a014bb93bd0ae39f73f,39d3e74cbcb2dc91e7870a014bb93bd0ae39f73f,updated docs to reflect recent changes.
agentzh,2014-04-30 19:07:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6c555ed505d29b2dba9541a6a28fbc5cf9a11928,6c555ed505d29b2dba9541a6a28fbc5cf9a11928,bugfix: bugs in the error handling for pure C API functions for shared dict. thanks Xiaochen Wang for the patch in #365.
agentzh,2014-04-22 20:43:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c11ceb40ad2c7d6241624641dae55e992de53230,c11ceb40ad2c7d6241624641dae55e992de53230,updated the tests to reflect the new openresty server at agentzh.org.
agentzh,2014-04-13 02:11:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b111180c179b3292c8a3445f2c942cbbdc76ec69,b111180c179b3292c8a3445f2c942cbbdc76ec69,added a (passing) test case for reading ngx.header in the context of log_by_lua.
agentzh,2014-04-09 05:38:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c1ee08e8a6ebe633ec2bcb6879fbad0152a06e3a,c1ee08e8a6ebe633ec2bcb6879fbad0152a06e3a,"Merge pull request #359 from cubicdaiya/issues/use_ngx_str_null

use ngx_str_null for simplicity."
agentzh,2014-04-09 04:48:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0d48124c9d65e8f6c2618fc1e9b5f9a8dc59b4ce,0d48124c9d65e8f6c2618fc1e9b5f9a8dc59b4ce,added a (passing) test for timeout error on tcpsock:receive(N).
cubicdaiya,2014-04-07 10:37:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0375856d8f1e11a998fe7f5f945414663e661e4e,0375856d8f1e11a998fe7f5f945414663e661e4e,use ngx_str_null
agentzh,2014-04-07 00:04:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e52a2631ecd1f7807e7715936d4a9ede72ceb8b5,e52a2631ecd1f7807e7715936d4a9ede72ceb8b5,doc: now we have tested with nginx 1.5.12; also put the 0.9.7 release date.
agentzh,2014-04-02 21:38:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/40691f409a8ef37ef4627e7f3173fb151040cf41,40691f409a8ef37ef4627e7f3173fb151040cf41,"Revert ""added assertions for the pcre pool management.""

This reverts commit 5c27180048c0910f724e16f77446ef79795c76cf."
agentzh,2014-04-01 00:07:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1117f043ca474859ed84b1ffa0a1cc06a87f7b16,1117f043ca474859ed84b1ffa0a1cc06a87f7b16,"Merge pull request #355 from lhmwzy/master

Update ngx_http_lua_string.c to fix a typo in an error message."
lhmwzy,2014-04-01 00:04:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8192b9745f4c9dde0c3cb4ab8d212f989d8a8c94,8192b9745f4c9dde0c3cb4ab8d212f989d8a8c94,Update ngx_http_lua_string.c
agentzh,2014-03-31 21:55:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4e284f73cc55d8e1a443e90006b652dbff9cf154,4e284f73cc55d8e1a443e90006b652dbff9cf154,bumped version to 0.9.7.
agentzh,2014-03-31 21:54:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5c27180048c0910f724e16f77446ef79795c76cf,5c27180048c0910f724e16f77446ef79795c76cf,added assertions for the pcre pool management.
agentzh,2014-03-31 21:54:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5c788b8b985544d26d7c54c3295dbebc0608ffa4,5c788b8b985544d26d7c54c3295dbebc0608ffa4,refactor: we no longer call ngx_pfree() in our own pcre_free hook.
agentzh,2014-03-31 20:07:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/988ac5d84e06a6e599b0bd70f3a278c6326e2404,988ac5d84e06a6e599b0bd70f3a278c6326e2404,"bugfix: when lua_code_cache was off, cosocket:setkeepalive() might lead to segmentation faults. thanks Kelvin Peng for the report."
agentzh,2014-03-31 04:50:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f08bddccd80f40af464de65b6e47b486c812242d,f08bddccd80f40af464de65b6e47b486c812242d,suppressed a false positive in libdl.
agentzh,2014-03-31 03:47:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3f7e04cf8e75a8e5ffdfbc2a70e36893cd357c57,3f7e04cf8e75a8e5ffdfbc2a70e36893cd357c57,made a test case less likely to fail on slow machines.
agentzh,2014-03-31 03:45:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cbf054f12ce60a58bafd8025e2594df77abe5d09,cbf054f12ce60a58bafd8025e2594df77abe5d09,made a test case less likely to fail on slow machines.
agentzh,2014-03-30 22:00:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/01cd00c40bfa2bf0586f379bd7435e10298c47ee,01cd00c40bfa2bf0586f379bd7435e10298c47ee,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2014-03-30 22:00:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8542d4365aa1f5e8d8448457bd7ee0aee4c6f706,8542d4365aa1f5e8d8448457bd7ee0aee4c6f706,refactor: improved the error handling and logging in the Lua code loader and closure factory.
agentzh,2014-03-27 04:03:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5719c60cf375170217a27696cd5d8e0792fb98a2,5719c60cf375170217a27696cd5d8e0792fb98a2,"Merge pull request #351 from cubicdaiya/issues/use_luapushliteral

refactor: use lua_pushliteral instead of lua_pushlstring in ngx_http_lua_ngx_get_phase."
cubicdaiya,2014-03-27 01:33:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f07a55b289e6704b3f929e5b4e50f98f910fe720,f07a55b289e6704b3f929e5b4e50f98f910fe720,use lua_pushliteral instead of lua_pushlstring
agentzh,2014-03-22 18:10:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bbb7e05d91c4682dbf1583b401ae62bb67cae539,bbb7e05d91c4682dbf1583b401ae62bb67cae539,added stronger assertions to the stream-typed cosocket implementation.
agentzh,2014-03-22 18:09:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5d4afab7aee3ee0cb3d8b8c875762d0c2d49f379,5d4afab7aee3ee0cb3d8b8c875762d0c2d49f379,"optimize: we no longer clear ""ctx->user_co_ctx"" in ngx_http_lua_reset_ctx."
agentzh,2014-03-20 20:18:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bec802ea9c41746092addb13ab6c42a466a34246,bec802ea9c41746092addb13ab6c42a466a34246,bumped version to 0.9.6.
agentzh,2014-03-20 19:51:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e5eefed3282724076e1153d153cdab546fcb6675,e5eefed3282724076e1153d153cdab546fcb6675,updated docs to reflect the change in commit 382c7201.
agentzh,2014-03-20 00:28:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f9917b93ebc0f3a343c7e4fbafe928aaab33fef7,f9917b93ebc0f3a343c7e4fbafe928aaab33fef7,skipped 2 test cases that are nonderterministic.
agentzh,2014-03-18 21:50:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4cb8dda8bddd85b7629c3b445952f217650b888e,4cb8dda8bddd85b7629c3b445952f217650b888e,"bugfix: accessing a datagram cosocket object from a request which does not create it could lead to segmentation faults. now we throw out a Lua error ""bad request"" properly in this case."
agentzh,2014-03-18 21:23:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/414db1a80b489cca4fbab96fddc018ccd61dab78,414db1a80b489cca4fbab96fddc018ccd61dab78,"bugfix: accessing a cosocket object from a request which does not create it could lead to segmentation faults. now we throw out a Lua error ""bad request"" properly in this case. thanks Ross Timson for the report."
agentzh,2014-03-17 21:53:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/382c72010b64b7b36fd0ddde62fb7624305b8376,382c72010b64b7b36fd0ddde62fb7624305b8376,change: it is now the user's responsibility to clear the captures table for ngx.re.match().
agentzh,2014-03-17 21:41:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a4db3e1b2d812c98d5cbb6093808e714c2dd1137,a4db3e1b2d812c98d5cbb6093808e714c2dd1137,bugfix: we should prefix our chunk names for from-string lua source (which also leads to nicer error messages). thanks Mike Pall for the catch.
agentzh,2014-03-16 22:17:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6c56337d7ae07b3c51d209ffb8da3f19a7e37c9f,6c56337d7ae07b3c51d209ffb8da3f19a7e37c9f,bugfix: init_worker_by_lua should honor the lua_socket_log_errors directive's configuration in the http {} block.
agentzh,2014-03-16 21:51:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9b18ca311bcff8088ac38b9b1dd90c186050abb0,9b18ca311bcff8088ac38b9b1dd90c186050abb0,"bugfix: the ""resolver"" directive's toplevel configuration in the http {} block was not respected by init_worker_by_lua. thanks Heero Zhang for the report."
agentzh,2014-03-16 05:33:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/37c86d67f84bbac6cbddcc7508f42ef21d0e7e79,37c86d67f84bbac6cbddcc7508f42ef21d0e7e79,bumped version to 0.9.6.
agentzh,2014-03-16 05:28:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/be08630ba217acd2d23c9ba305325af3505b0536,be08630ba217acd2d23c9ba305325af3505b0536,bugfix: subrequests initiated by ngx.location.capture* with the HEAD method did not result in responses without response bodies. thanks Daniel for the report in #347.
agentzh,2014-03-12 22:49:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/97d9162338bc5f9059449bd6f73aaf27082abbe8,97d9162338bc5f9059449bd6f73aaf27082abbe8,updated docs for the 0.9.5 release.
agentzh,2014-03-09 06:55:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cfc593bb93b85900ebec7aa9bcbdb309a24be505,cfc593bb93b85900ebec7aa9bcbdb309a24be505,test: skipped two invalid test cases that use cosockets beyond the creating request boundary.
agentzh,2014-03-08 06:31:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3898993ebd3bb48e6fe826de8972e573f01afb45,3898993ebd3bb48e6fe826de8972e573f01afb45,fixed a bad regressoin in commit 1b615c46.
agentzh,2014-03-08 06:15:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fb06f3958659ada56bcad0ef9a8fa4e0ce027211,fb06f3958659ada56bcad0ef9a8fa4e0ce027211,"fixed a test case that could fail in the ""check leak"" mode due to GC delays."
agentzh,2014-03-07 23:17:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1b615c46e595b467df30014a8c1f4367587f0429,1b615c46e595b467df30014a8c1f4367587f0429,"bugfix: segfault might happen in the FFI API for destroying compiled pcre regexes, which affects libraries like lua-resty-core."
agentzh,2014-03-05 01:58:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c6e28fdc053e4db4e41f2054e822a8295b5732b8,c6e28fdc053e4db4e41f2054e822a8295b5732b8,fixed the waiting time for a test case that could fail on slow machines.
agentzh,2014-03-04 20:16:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e0c5d58f203db49bbae1629077cf73561682bd94,e0c5d58f203db49bbae1629077cf73561682bd94,doc: typo fix in a code sample for ngx.req.get_post_args(). thanks Evan for the patch in #344.
agentzh,2014-03-02 18:18:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/880a1c85bc59889db5e722e70e194c37d39f03a7,880a1c85bc59889db5e722e70e194c37d39f03a7,refactor: adjusted the globals table handling a little bit.
agentzh,2014-03-02 18:17:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/911c39553924e1254735a5cbf21c47119f2da49f,911c39553924e1254735a5cbf21c47119f2da49f,increased the waiting time in two ngx.abort test cases that might fail on slow boxes.
agentzh,2014-03-02 02:24:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dc8e88cc2d5e0727f4c84c6c23ac241cbe974fd4,dc8e88cc2d5e0727f4c84c6c23ac241cbe974fd4,feature: explicitly check Lua langauge version mismatch; we only accept the Lua 5.1 language (for now).
agentzh,2014-03-01 01:49:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9ef3ca51e74897fdd6a448b4ba6974e16e6cd872,9ef3ca51e74897fdd6a448b4ba6974e16e6cd872,removed the spdy mode check from ngx.location.capture*() to renable this API again for SPDY requests.
agentzh,2014-03-01 01:46:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d74878969c2065d76fe4009124648ed31f66d1a1,d74878969c2065d76fe4009124648ed31f66d1a1,bugfix: an attempt to fix subrequests initiated by ngx.location.capture*() in the SPDY mode.
agentzh,2014-03-01 01:40:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/48af6433b6eb2f1a63a2b05e3dca14980acef586,48af6433b6eb2f1a63a2b05e3dca14980acef586,doc: documented the new ngx.config.nginx_configure() function.
agentzh,2014-03-01 01:38:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1916d0c2fd887b494aa32d00666cdb027cabf470,1916d0c2fd887b494aa32d00666cdb027cabf470,renamed ngx.config.ngx_configure to ngx.config.nginx_configure.
agentzh,2014-03-01 01:33:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/441d9c28bbb364e6e9aaa03ad6d6ccb47ff07438,441d9c28bbb364e6e9aaa03ad6d6ccb47ff07438,feature: added new API function ngx.config.ngx_configure() to return the NGINX ./configure arguments string to the Lua land. thanks Tatsuhiko Kubo for the patch in #339.
agentzh,2014-02-26 23:47:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f862915839cc4f67b5e20309bc0e6781e30cce12,f862915839cc4f67b5e20309bc0e6781e30cce12,doc: documented the ngx.resp.get_headers() API function.
agentzh,2014-02-26 23:14:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/887f0f99d54d07f78ebbdcd2289de17fb515c05d,887f0f99d54d07f78ebbdcd2289de17fb515c05d,feature: added new API function ngx.resp.get_headers() for fetching all the response headers. thanks Tatsuhiko Kubo for the patch in #335.
agentzh,2014-02-26 22:18:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4a0036c0746e62666e5de27147a6b3c33c8dc7c9,4a0036c0746e62666e5de27147a6b3c33c8dc7c9,optimize: coroutine status string look-up is now a bit more efficient by specifying the string lengths explicitly. thanks Tatsuhiko Kubo for the patch in #338.
agentzh,2014-02-18 20:04:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eab56942ac3df391b5477e75338f3e4596ce2ea1,eab56942ac3df391b5477e75338f3e4596ce2ea1,doc: fixed a typo in the doc for coroutine.yield(). thanks Ruoshan Huang for the report.
agentzh,2014-02-13 20:10:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f7db5fddb8c55fcf1274ef0bb5f5795125cd8c35,f7db5fddb8c55fcf1274ef0bb5f5795125cd8c35,doc: fixed linkrot of mod_lua. thanks Tatsuhiko Kubo for the patch in #336.
agentzh,2014-02-07 00:45:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ec368b46fcb1d21af91dc1c093d3d581a1feb741,ec368b46fcb1d21af91dc1c093d3d581a1feb741,"refactor: removed an unused parameter, ""len"", in ngx_http_lua_ffi_script_eval_data."
agentzh,2014-02-05 20:25:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/df7bf56af95d4564e20d8b893aa50d7b26a5d3e1,df7bf56af95d4564e20d8b893aa50d7b26a5d3e1,doc: documented the new ngx.worker.pid() API.
agentzh,2014-02-01 18:51:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7460a8d16cc406fa3ba3fc33c6aa8f1be409d30b,7460a8d16cc406fa3ba3fc33c6aa8f1be409d30b,adjusted a test case that could fail on slow machines.
agentzh,2014-02-01 06:17:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e5c1105beed546cddcffce295e1bb7f38905be1a,e5c1105beed546cddcffce295e1bb7f38905be1a,bugfix: fixes for small string buffer arguments in the C API for FFI-based implementations of shdict:get().
agentzh,2014-02-01 06:14:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4112e749d6ad80b2ecd54d5f9fddc32b830b12fe,4112e749d6ad80b2ecd54d5f9fddc32b830b12fe,bugfix: fixed the error message buffer overwrite in the C API for FFI-based ngx.re implementations.
agentzh,2014-01-27 23:25:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7668963788640a7d63bb2d25943b6082f0ced29c,7668963788640a7d63bb2d25943b6082f0ced29c,"skipped tests that could fail in the ""check leak"" testing mode."
agentzh,2014-01-27 22:41:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3eafa8df140e7610f20dca9b1407e356cb7d59ba,3eafa8df140e7610f20dca9b1407e356cb7d59ba,better context info in the error messages for init_by_lua* and init_worker_by_lua*.
agentzh,2014-01-27 22:27:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a1c15f46bb32c1947dae2efddc8966b82827e077,a1c15f46bb32c1947dae2efddc8966b82827e077,fixed an erorr message in ngx_http_lua_report.
agentzh,2014-01-27 05:55:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/92219bba5e9c7f27538d9929c9ba6561da06ccee,92219bba5e9c7f27538d9929c9ba6561da06ccee,feature: added new API function ngx.worker.pid() for retrieving the current nginx worker process's pid.
agentzh,2014-01-27 05:54:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a6e0f512e0faeadfe32eb266aed06a8f4a00ef9c,a6e0f512e0faeadfe32eb266aed06a8f4a00ef9c,reindexed the tests in t/058-tcp-socket.t.
agentzh,2014-01-27 05:35:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6525ec0d013530ab5c66f646377c0d318da26856,6525ec0d013530ab5c66f646377c0d318da26856,change: turned off lua_socket_log_errors in init_worker_by_lua*.
agentzh,2014-01-27 02:02:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2c4534ab264b132d7e770114615b380ed69eeb94,2c4534ab264b132d7e770114615b380ed69eeb94,test: now we require the ngx_lua_upstream module for the test suite.
agentzh,2014-01-27 01:58:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/096e2ff8ed27e6bf078d17fb78a7121920991515,096e2ff8ed27e6bf078d17fb78a7121920991515,"doc: updated the ""TODO"" section to reflect recent changes."
agentzh,2014-01-26 22:06:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/870b9a7f16845878ace78e4e8509e8f3fc35b846,870b9a7f16845878ace78e4e8509e8f3fc35b846,test: use smaller port numbers to reduce the chance of conflicting with local ports.
agentzh,2014-01-26 21:06:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2079446fae31b6f1ed2be319b5310921c85b1f54,2079446fae31b6f1ed2be319b5310921c85b1f54,bugfix: use of the public C API in other nginx C modules (extending ngx_lua) lead to compilation errors and warnings when the Microsoft C compiler is used. thanks Edwin Cleton for the report.
agentzh,2014-01-25 23:35:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/47836cec1689a4f35559904c7dd2456e6dcb5a5b,47836cec1689a4f35559904c7dd2456e6dcb5a5b,"bugfix: segmentation faults might happen when multiple ""light threads"" in the same request manipuate a stream cosocket object in turn. thanks Aviram Cohen for the report."
agentzh,2014-01-25 21:54:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c005354029733c947012bbc74fca40451ce7ffd0,c005354029733c947012bbc74fca40451ce7ffd0,bugfix: timers created by ngx.timer.at() might not be aborted prematurely upon nginx worker exit. thanks Hamish Forbes for the report.
agentzh,2014-01-24 03:18:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1d85a61f6461325ad42adaa3d33b5c4cbd4a7682,1d85a61f6461325ad42adaa3d33b5c4cbd4a7682,doc: mentioned ngx.timer.at for doing background jobs in ngx.eof's documentation.
agentzh,2014-01-24 03:14:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c5c8a1281214d2c5ab1432ea5baebc6a906e0388,c5c8a1281214d2c5ab1432ea5baebc6a906e0388,doc: markdown formatting fixes from Peter Cawley in #326.
agentzh,2014-01-23 19:59:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d633e34a31f7e55d92623d54b262aa386137078f,d633e34a31f7e55d92623d54b262aa386137078f,added a test case to exercise a bug in $args (it requires the setting_args_invalidates_uri patch for the nginx core to pass).
agentzh,2014-01-20 03:49:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7e96a2dda640c875d778d3be6bdf9f8265648c2e,7e96a2dda640c875d778d3be6bdf9f8265648c2e,doc: typo fix from Zheng Ping.
agentzh,2014-01-17 20:28:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c07aac16e7209c5650b073da706b9f4ddd68417b,c07aac16e7209c5650b073da706b9f4ddd68417b,bugfix: fixed some new warnings when using Microsft's C compiler. thanks Edwin Cleton for the patch.
agentzh,2014-01-13 00:49:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bbaa57d2a860e01cab6d0e348c96db4598e615fd,bbaa57d2a860e01cab6d0e348c96db4598e615fd,doc: added a code example for init_worker_by_lua.
agentzh,2014-01-12 21:22:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/484e7df2f2538eb2fd5a377d94033d4ebdcb114f,484e7df2f2538eb2fd5a377d94033d4ebdcb114f,doc: documented init_worker_by_lua and init_worker_by_lua_file. also updated the copyright years.
agentzh,2014-01-12 21:15:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9fc675f6841eed3123c92b62a7469e21d3c411ca,9fc675f6841eed3123c92b62a7469e21d3c411ca,added more (passing) tests for init_worker_by_lua*.
agentzh,2014-01-12 05:43:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/356661d6b334bbbd82eca6982a866c4efd4d2466,356661d6b334bbbd82eca6982a866c4efd4d2466,"feature: added new configuration directive, init_worker_by_lua, to run Lua code upon nginx worker process startup."
agentzh,2014-01-12 02:28:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/81daa5356548c3fbf54de02ee4b519f2fae9f4f4,81daa5356548c3fbf54de02ee4b519f2fae9f4f4,updated .gitignore a bit.
agentzh,2014-01-11 23:56:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6ba574878bbd331a76646248317707382b2a0791,6ba574878bbd331a76646248317707382b2a0791,minor label name fixes.
agentzh,2014-01-11 22:13:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/50f5b1b925cb193b906ffceefb8ac6284808814b,50f5b1b925cb193b906ffceefb8ac6284808814b,bugfix: the return value sizes of the C functions ngx_http_lua_init_by_inline and ngx_http_lua_init_by_file were wrong.
agentzh,2014-01-11 21:44:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8c74fb9225a5d889b51cf48fa7f1036962118c87,8c74fb9225a5d889b51cf48fa7f1036962118c87,bumped version number to 0.9.5.
agentzh,2014-01-11 21:44:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c18e03c5cf03303fdf35eba4513b0769a1e99a64,c18e03c5cf03303fdf35eba4513b0769a1e99a64,refactor: made C functions ngx_http_lua_report and ngx_http_lua_do_call global.
agentzh,2014-01-11 19:39:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/238ace2f7917e3cc533dc6c4a2772559077cfcaa,238ace2f7917e3cc533dc6c4a2772559077cfcaa,refactor: abstracted out the ngx_http_lua_create_fake_request function from the ngx.timer code base.
agentzh,2014-01-11 19:22:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b90bb2a5789bc500b4c9bff48c65063d9ea5fd51,b90bb2a5789bc500b4c9bff48c65063d9ea5fd51,refactor: abstracted out the ngx_http_lua_create_fake_connection function from the ngx.timer code base.
agentzh,2014-01-10 23:13:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6169a191d1624d984225b5ee1805b57ebf4a3b7b,6169a191d1624d984225b5ee1805b57ebf4a3b7b,"documented the 5th optional argument, ""res_table"", for ngx.re.match()."
agentzh,2014-01-10 23:01:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eb43c9c7dee0d754c78d12846d3ec149ace41504,eb43c9c7dee0d754c78d12846d3ec149ace41504,doc: fixed the year. it is 2014 now :)
agentzh,2014-01-10 22:56:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/388094027a5d4e64cba87f0efcc5cb3ee5bdf435,388094027a5d4e64cba87f0efcc5cb3ee5bdf435,updated docs to reflect recent changes.
agentzh,2014-01-08 22:55:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b4fe8acdd8014b37f32f323fffb0ff5734bc4d1e,b4fe8acdd8014b37f32f323fffb0ff5734bc4d1e,"bugfix: when ngx_http_lua_get_co_ctx returns NULL, it no longer means that the coroutine is dead."
agentzh,2014-01-08 19:50:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5581dedcbc26dfbfdf68cc2f2a02706df9624778,5581dedcbc26dfbfdf68cc2f2a02706df9624778,added a test to exercise the bug in nginx's resolver that domain names with a trailing dot is rejected.
agentzh,2014-01-08 01:11:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c27f65b2bda0c0e5ff2040cdea63e7e34c421a8a,c27f65b2bda0c0e5ff2040cdea63e7e34c421a8a,updated tests to reflect the changes in commit 60999efe3.
agentzh,2014-01-08 00:36:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/60999efe35d86282320732e461656e513edb2b16,60999efe35d86282320732e461656e513edb2b16,bugfix: segmentation fault might happen when the downstream cosocket objects were GC'd. this regression had appeared in commit e768e151ab3.
agentzh,2014-01-07 00:13:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2444f32db2a0a616a2cf9b5076cd8d78a79181f0,2444f32db2a0a616a2cf9b5076cd8d78a79181f0,ngx.shared: improved the error handling in incr() a bit.
agentzh,2014-01-06 23:35:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e768e151ab33e4b5b32fb0972b2d52bafb6d0966,e768e151ab33e4b5b32fb0972b2d52bafb6d0966,"bugfix: segfault might happen when aborting a ""light thread"" pending on downstream cosocket writes. thanks Aviram Cohen for the report."
agentzh,2014-01-06 06:43:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5948300738e66e797adb77e856c36e18bc78cfe3,5948300738e66e797adb77e856c36e18bc78cfe3,ngx.re: added the whole regex flags string to the error message when there is an unknown regex flag.
agentzh,2014-01-05 06:04:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b8efc2749bff4c8c11591c6c55922ef171ac90a0,b8efc2749bff4c8c11591c6c55922ef171ac90a0,added a (passing) test for error status to improve code coverage.
agentzh,2014-01-05 06:03:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/01f3cef14692362e3cfcdb3b41117797091b5486,01f3cef14692362e3cfcdb3b41117797091b5486,reindexed the test file 043-shdict.t.
agentzh,2014-01-05 05:56:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f6d309ffd82113ba9f9b030b4aee4541664591ea,f6d309ffd82113ba9f9b030b4aee4541664591ea,shdict: improved the error handling a bit and also added more (passing) tests.
agentzh,2014-01-05 05:31:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5bf928ede0ef00bb1802b1d184dd2a1efba1228a,5bf928ede0ef00bb1802b1d184dd2a1efba1228a,ngx.var: added a (passing) test for writing to a non-changeable nginx variable.
agentzh,2014-01-05 05:13:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c3d8da376682c00a8a6ba6187180ba65b6dd5d8a,c3d8da376682c00a8a6ba6187180ba65b6dd5d8a,ngx.var: improved the error handling a bit.
agentzh,2014-01-05 04:08:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4c1d0bd10c898292f05fd12b479f72e9d5257fe2,4c1d0bd10c898292f05fd12b479f72e9d5257fe2,"feature: ngx.escape_uri() and ngx.unescape_uri() now accept a nil argument, which is equivalent to an empty string."
agentzh,2014-01-05 03:56:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a4323aab82e7732f45ffa6053b31871699e45ef6,a4323aab82e7732f45ffa6053b31871699e45ef6,shdict: improved the error handling a bit and also increased the tests' code coverage.
agentzh,2014-01-04 22:21:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0afaeec3d0b5ce659b5c3fe444720942777a6bb6,0afaeec3d0b5ce659b5c3fe444720942777a6bb6,added (passing) tests for using lua numbers in response header names and values for the ngx.header.HEADER API.
agentzh,2014-01-04 21:32:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/76fc8a7c8271c07d9c354cefa1992028ed96911b,76fc8a7c8271c07d9c354cefa1992028ed96911b,"feature: added new pure C API, ngx_http_lua_ffi_max_regex_cache_size, for FFI-based implementations like lua-resty-core."
agentzh,2014-01-04 20:32:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dce53afc627da1611a54315d4f88d53f4e46a463,dce53afc627da1611a54315d4f88d53f4e46a463,"feature: added the optional 5th argument to ngx.re.match() which is the user-supplied result table for the captures.

This feature gives 12%+ speedup for simple ngx.re.match() calls with 4
submatch captures."
agentzh,2014-01-04 19:58:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ed3e68fc0ab859ecbe4c85fa23c02082833ce0e6,ed3e68fc0ab859ecbe4c85fa23c02082833ce0e6,added a (passing) test for providing the resulting match table to ngx.re.match().
agentzh,2014-01-04 19:51:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/73d74a0943b0defede05bd9b1d146ff7ec3a3b65,73d74a0943b0defede05bd9b1d146ff7ec3a3b65,"added (passing) tests for feeding lua numbers to ngx.md5(), ngx.md5_bin(), and ngx.sha1_bin()."
agentzh,2014-01-04 19:37:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2d0f587ec492848b80de8f8a91eddc4b5f1dd5af,2d0f587ec492848b80de8f8a91eddc4b5f1dd5af,ngx_http_lua_ffi_set_ctx_ref: return the error code NGX_HTTP_LUA_FFI_NO_REQ_CTX properly.
agentzh,2014-01-04 19:34:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/52dfc3fbf6ca794289bf6b5bfd52664e3b279890,52dfc3fbf6ca794289bf6b5bfd52664e3b279890,refactor: avoided the magic error code -3 in ngx_http_lua_ffi_get_ctx_ref.
agentzh,2014-01-04 19:25:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7e7b944ad6fe8931ed55933ef0dad0ae5c5b013d,7e7b944ad6fe8931ed55933ef0dad0ae5c5b013d,change: ngx.decode_base64() now only accepts string arguments.
agentzh,2014-01-01 00:02:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fc52e157ef566787c19a26d0d0fdae2a20860c91,fc52e157ef566787c19a26d0d0fdae2a20860c91,"Merge pull request #322 from zh-ang/master

fixed a compilation warning when PCRE is disabled."
agentzh,2013-12-30 19:49:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c50f3cd3cc5abf85b75e326972b5b5406fcc27d9,c50f3cd3cc5abf85b75e326972b5b5406fcc27d9,doc: documented that the coroutine.* API can be used in init_by_lua since 0.9.2. thanks Ruoshan Huang for the reminder.
agentzh,2013-12-22 19:35:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/26c1accef803d45101c07049855ef1513df4fbac,26c1accef803d45101c07049855ef1513df4fbac,tweaked a test case that could fail randomly on slow machines.
agentzh,2013-12-21 01:06:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eafad29902803164691c75c49eb508d5f52c0e63,eafad29902803164691c75c49eb508d5f52c0e63,bugfix: we did not set the shortcut fields in r->headers_in for request headers in our subrequests created by ngx.location.capture*(). thanks Aviram Cohen for the original patch in #318.
agentzh,2013-12-19 05:48:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f64993565fcb72946fc1e0d10ddde1910127d8fb,f64993565fcb72946fc1e0d10ddde1910127d8fb,"optimize: we no longer clear the lua_State pointers for dead ""light threads"" such that their coroutine context structs could be reused by other ""light threads"" and user coroutines."
agentzh,2013-12-19 05:29:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8f4c4853260851620af96a706fe8596ef9c3deff,8f4c4853260851620af96a706fe8596ef9c3deff,"bugfix: coroutines might incorrectly enter the ""dead"" state even right after creation with coroutine.create(). thanks James Hurst for the report."
agentzh,2013-12-19 01:56:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8d145981237d6a4e90067941ec25dfe365340030,8d145981237d6a4e90067941ec25dfe365340030,minor debugging log tweaks.
agentzh,2013-12-19 01:54:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/80c8bc0aa9a4298d7f37267241ecfb8812b1b521,80c8bc0aa9a4298d7f37267241ecfb8812b1b521,reindexed test file t/041-header-filter.t.
agentzh,2013-12-18 23:41:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3f8a592ac409bda648bd1aa49d83f7b590148b43,3f8a592ac409bda648bd1aa49d83f7b590148b43,feature: allow use of ngx.exit() in the context of header_filter_by_lua*. but in this context ngx.exit() returns immediately.
agentzh,2013-12-18 23:24:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9b76f74de46e19ed00fe070dd0c6b94b4d492717,9b76f74de46e19ed00fe070dd0c6b94b4d492717,updated the tests to reflect recent changes in ngx.exit().
agentzh,2013-12-18 21:55:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f364c82039d8d76efa0767a7fd909935d5c40a65,f364c82039d8d76efa0767a7fd909935d5c40a65,fixed incompatiblities in nginx 1.5.8 which breaks the resolver API in the nginx core.
agentzh,2013-12-18 21:28:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5a4199bb932a15f8ad25b0b386148c0c7fdf8f9f,5a4199bb932a15f8ad25b0b386148c0c7fdf8f9f,bugfix: we might try sending the response header again in ngx.exit() when the header was already sent.
agentzh,2013-12-16 00:37:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/20c41e1adb982ba6d5dd4768a7187bf8ef4eb442,20c41e1adb982ba6d5dd4768a7187bf8ef4eb442,version bump.
agentzh,2013-12-16 00:21:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/779702a17b9002b2299cd94667f57df1566fa717,779702a17b9002b2299cd94667f57df1566fa717,fixed issues in the test suite exposed by nginx 1.5.7.
agentzh,2013-12-16 00:21:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0787f2c2a2d669050fbe3c5551a640b6adf27a6b,0787f2c2a2d669050fbe3c5551a640b6adf27a6b,fixed the tests for truncated subrequests to reflect the changes in nginx 1.5.3+.
agentzh,2013-12-15 23:31:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/685f5eaf7a4e07fa46d3516b093c85fed086b61b,685f5eaf7a4e07fa46d3516b093c85fed086b61b,"bugfix: subrequests initiated by ngx.location.capture() might send their own response headers more than once. this issue might also lead to the alert message ""header already sent"" and request aborts when nginx 1.5.4+ was used."
agentzh,2013-12-14 21:29:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4f2b35ddbea1cff3addca4739aa7979e296a5f91,4f2b35ddbea1cff3addca4739aa7979e296a5f91,doc: bumped version to 0.9.3 and also stated that we work with nginx 1.4.4.
agentzh,2013-12-12 01:40:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/31e2212797d91459e2282af6ffec7d29d1167f3d,31e2212797d91459e2282af6ffec7d29d1167f3d,doc: documented the new behavior regarding zero-delay timers upon nginx worker process exiting.
agentzh,2013-12-12 01:33:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6e4a22b5239cda4dc33b74040626fb90b5c026dc,6e4a22b5239cda4dc33b74040626fb90b5c026dc,doc: documented the ngx.worker.exiting() API.
agentzh,2013-12-11 22:55:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3c5e109e31253927ef003673001d6b9ccd30c1e6,3c5e109e31253927ef003673001d6b9ccd30c1e6,bugfix: ngx.req.set_header() did not completely override the existing request header with multiple values. thanks Aviram Cohen for the report in #314.
agentzh,2013-12-11 20:27:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0b9558cb1ae400cc56804284e666f4ef81be05c9,0b9558cb1ae400cc56804284e666f4ef81be05c9,bugfix: fixed compilation warnings when ngx_devel_kit is missing in the build.
agentzh,2013-12-11 19:46:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/02abcec8a604d2b91e2b48af751203c77ef76e41,02abcec8a604d2b91e2b48af751203c77ef76e41,doc: minor formatting fixes in the markdown version.
agentzh,2013-12-05 22:48:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d11dda108bd266ab3ce03040cfe5b750832a9a5c,d11dda108bd266ab3ce03040cfe5b750832a9a5c,added test cases for commit 2a121317.
agentzh,2013-12-05 22:46:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/04a7a2cca8c4d209739f9e614a3f32bcbe395fe0,04a7a2cca8c4d209739f9e614a3f32bcbe395fe0,use Test::Nginx::Socket::Lua from the test-nginx project in our test suite.
agentzh,2013-12-05 04:50:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/de86661c6173d9e4d6a54647a2bead3ebb374973,de86661c6173d9e4d6a54647a2bead3ebb374973,fixed the test plan in 025-codecache.t.
agentzh,2013-12-05 01:27:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/af1b72ec1e133c5205e96a1b759c0b27badc3db9,af1b72ec1e133c5205e96a1b759c0b27badc3db9,"bugfix: when lua_code_cache was off and timers created by ngx.timer.at() was exceeding the lua_max_running_timers limit, memory leak would happen. this bug had appeared in the new per-request Lua VM refactoring."
agentzh,2013-12-05 01:20:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1de82ab6e4e5a41387e0c5c095d24da8200df602,1de82ab6e4e5a41387e0c5c095d24da8200df602,bugfix: memory leak would happen in the pure C API function ngx_http_lua_ffi_destroy_regex for FFI-based ngx.re implementations.
agentzh,2013-12-04 21:49:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2a121317d74f7dd25a536b42de3251070567ff92,2a121317d74f7dd25a536b42de3251070567ff92,"bugfix: when lua_code_cache is off, per-request Lua VMs should inherit package.path and package.cpath from the global Lua VM because the LUA_PATH and LUA_CPATH environments might not be inherited by nginx worker processes. thanks leaf corcoran for the report."
agentzh,2013-12-04 20:42:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1820423869c79d128eeba3cc5b704580ad5e708e,1820423869c79d128eeba3cc5b704580ad5e708e,refactor: introduced the type ngx_http_lua_ffi_str_t for FFI-based APIs.
agentzh,2013-12-03 21:36:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5ed4aa8b8a7e1e79e673734607a0bc982342ad64,5ed4aa8b8a7e1e79e673734607a0bc982342ad64,bugfix: modifying request headers in a subrequest could lead to assertion failures and crashes. thanks leaf corcoran for the report and test cases.
agentzh,2013-12-03 05:43:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d37d7475f0a46f8b95f306e470d29de8b8000f17,d37d7475f0a46f8b95f306e470d29de8b8000f17,"refactor: removed the useless ""conf"" field from ngx_http_lua_socket_pool_t."
agentzh,2013-12-03 05:27:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/69b0e98dc068a712b465614326120bd3329a4a48,69b0e98dc068a712b465614326120bd3329a4a48,refactor: cleaned up the code for Lua VM instance management.
agentzh,2013-12-02 05:54:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f61d7ba10df2e83a25eba779bd8dbd6af35a2cff,f61d7ba10df2e83a25eba779bd8dbd6af35a2cff,bugfix: turning off lua_code_cache and using cosocket connection pools might lead to memory issues (like segfaults). this regression had appeared in commit 5fc80b5b0. thanks Zheng Ping for the report.
agentzh,2013-12-02 03:12:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/77fb072570e6d5a4ee891bcb2fdf65fbaad4bb22,77fb072570e6d5a4ee891bcb2fdf65fbaad4bb22,"better debugging logs for ""lua_code_cache off"" and better test cases."
agentzh,2013-12-02 02:58:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4eade0689034886adf407fdff373dc3663c1f58f,4eade0689034886adf407fdff373dc3663c1f58f,doc: tweaked the wording for lua_code_cache a bit more.
agentzh,2013-11-30 23:13:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/26e148a0a75da543f7912ab2b1747d424d47084d,26e148a0a75da543f7912ab2b1747d424d47084d,removed an unimportant subtest from 025-codecache.t.
agentzh,2013-11-30 23:01:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/80944815ab70a0b199a43ff17168948c5f8a9009,80944815ab70a0b199a43ff17168948c5f8a9009,doc: updated the docs for lua_code_cache to reflect recent changes.
agentzh,2013-11-30 22:58:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9a9c511fedc3c4215549fe509caab70dac1c1f2d,9a9c511fedc3c4215549fe509caab70dac1c1f2d,"added more tests for ""lua_code_cache off""."
agentzh,2013-11-30 22:58:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/250ab089289ef29483e51f9a5e3a25da726c7ea0,250ab089289ef29483e51f9a5e3a25da726c7ea0,added more debugging logs to the (global) Lua VM instance managing code.
agentzh,2013-11-30 05:31:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5fc80b5b0eee31399e23e4a3e0ceb2e33c38cc9f,5fc80b5b0eee31399e23e4a3e0ceb2e33c38cc9f,bugfix: turning off lua_code_cache could lead to memory issues (segfaults and LuaJIT assertion failures) when Lua libraries using LuaJIT FFI were loaded. now we always create clean separate lua VM instances for every Nginx request when the Lua code cache is disabled. thanks Ron Gomes for the report.
agentzh,2013-11-29 01:11:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8acecfef69334acdbc2e3e51b2c8d1d790b43b87,8acecfef69334acdbc2e3e51b2c8d1d790b43b87,refactor: introduce the ngx_http_lua_get_main_lua_state function to abstract away where the global lua state is stored.
agentzh,2013-11-28 22:58:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f07a73ef556adf025c41cc5236997d7ffb7d7770,f07a73ef556adf025c41cc5236997d7ffb7d7770,refactor: made the main Lua VM state creation and initialization code detached from the configuration loading phase.
agentzh,2013-11-28 00:39:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bb9b2b341b4d2957f55d5972c1e02d15757fb30c,bb9b2b341b4d2957f55d5972c1e02d15757fb30c,feature: added pure C API for FFI-based implementations of the ngx.header.HEADER API (the write part).
agentzh,2013-11-27 19:53:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d87ded2fe22218b054490c788a58003e48a314be,d87ded2fe22218b054490c788a58003e48a314be,"fixed an issue in commit 8e6b4e3cb7: cygwin linker only issues a warning about the use of -E rather than an error, so our previous feature test for -E always succeeds. thanks Heero Zhang for the report."
agentzh,2013-11-27 19:40:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9dd88ffcdbbad4ead8f78c29075c9bf87d5556e5,9dd88ffcdbbad4ead8f78c29075c9bf87d5556e5,bugfix: fixed compiler warnings and errors when using the Microsoft Visual C++ compiler. thanks Edwin Cleton for the report.
agentzh,2013-11-27 07:11:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5a9a6f1cc54b6d7fec9b0ee1b9811176ac8b3fde,5a9a6f1cc54b6d7fec9b0ee1b9811176ac8b3fde,feature: added pure C API functions for FFI-based implementations for ngx.req.get_uri_args().
agentzh,2013-11-27 03:55:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e6b4e3cb7e8fbaeed5676bd32fe3747b11c2ff4,8e6b4e3cb7e8fbaeed5676bd32fe3747b11c2ff4,bugfix: the linker option -E is not support in Cygwin's linker; we should test --export-all-symbols when -E is unavailable. thanks Heero Zhang for the report.
agentzh,2013-11-27 03:48:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5d7e08ce0159b84953b91bf8b5fc5c99cd08e039,5d7e08ce0159b84953b91bf8b5fc5c99cd08e039,"documented the new ""nth"" argument for ngx.re.find."
agentzh,2013-11-27 00:41:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6213b040ca30a454dd827ebd5a9a5ba8d7d73143,6213b040ca30a454dd827ebd5a9a5ba8d7d73143,"bugfix: ngx.re.find: fixed the case when ""nth"" is greater than or equal to ""rc"" but not exceeds the number of captures."
agentzh,2013-11-27 00:23:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a8c0b5f2b66be07c275cf67f8e7db7340136e2d8,a8c0b5f2b66be07c275cf67f8e7db7340136e2d8,"bugfix: ngx.re.find: we incorrectly returned negative indexes for nil submatch captures; also we returned the ""nth out of bound"" when there was a trailing nil submatch capture."
agentzh,2013-11-27 00:01:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/27b804d4c92f6dbab4cda41c8797a4f458f13f41,27b804d4c92f6dbab4cda41c8797a4f458f13f41,"bugfix: ngx.re.find() did not return an error when the ""nth"" argument is out of bound."
agentzh,2013-11-26 23:53:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/55adcc6b043dcb32f192c975878d06dcff493eeb,55adcc6b043dcb32f192c975878d06dcff493eeb,"feature: ngx.re.find() now accepts the optional 5th argument ""nth"" to control which submatch capture's indexes are returned. thanks Lance Li for the feature request in agentzh/lua-resty-core#1."
agentzh,2013-11-26 01:48:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/590ac5c941bb00d2b29a5c4b915d29b25af94e7e,590ac5c941bb00d2b29a5c4b915d29b25af94e7e,updated the test suite to reflect recent changes in Test::Nginx.
agentzh,2013-11-26 01:33:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5e0db0e9a5b9d6896821bf4f1b8762f804d2dde4,5e0db0e9a5b9d6896821bf4f1b8762f804d2dde4,"fixed the ""ngx"" table preallocation space."
agentzh,2013-11-25 19:13:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/014de9d9b658c8c42681031d52de3b3d9db8ae29,014de9d9b658c8c42681031d52de3b3d9db8ae29,doc: typo fix from Zheng Ping.
agentzh,2013-11-25 04:44:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/77f24ba4a3ad8bec991a1253518ccd6893084120,77f24ba4a3ad8bec991a1253518ccd6893084120,fixed a test case in t/014-bugs.t.
agentzh,2013-11-24 04:50:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/513051779836e9393b14d9f9c141329392cf416b,513051779836e9393b14d9f9c141329392cf416b,bugfix: 0-delay timers created after the worker starts shutting down should not always expire prematurely.
agentzh,2013-11-24 04:32:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/002b68ec7527000046500b22536421544a9df421,002b68ec7527000046500b22536421544a9df421,feature: added new API function ngx.worker.exiting() for testing if the current worker process is exiting.
agentzh,2013-11-24 02:59:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4d6dc5804a3be5230173fef1d713a56634700cf3,4d6dc5804a3be5230173fef1d713a56634700cf3,feature: allow creating 0-delay timers upon worker process existing.
agentzh,2013-11-22 21:44:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e5f63816bfe07c1a6381e02077ae0602abcbb487,e5f63816bfe07c1a6381e02077ae0602abcbb487,doc: more formatting tweaks.
agentzh,2013-11-22 21:39:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/55623aca7530d401d4d1473c23762a395686ced0,55623aca7530d401d4d1473c23762a395686ced0,doc: fixed regressions in the markdown version.
agentzh,2013-11-22 21:30:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f5b78fc8089397f1b287d875a2516c3ae6e58b4f,f5b78fc8089397f1b287d875a2516c3ae6e58b4f,doc: markdown: removed unnecessary indentation from code samples.
agentzh,2013-11-22 21:27:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/159be4c9b8d5be6bff752d7ab0503fdbe0858ee4,159be4c9b8d5be6bff752d7ab0503fdbe0858ee4,doc: documented how to link against a static library (or object file archive) consisting of (many) compiled Lua module files.
agentzh,2013-11-20 04:46:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/736fce1ad46edfd5edb6e027514c419ae83fa552,736fce1ad46edfd5edb6e027514c419ae83fa552,"doc: added new section ""Statically Linking Pure Lua Modules""."
agentzh,2013-11-20 04:10:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5cb9d9d48c1c0a993ffe9d4aae4228c9cce8ee78,5cb9d9d48c1c0a993ffe9d4aae4228c9cce8ee78,doc: mention LuaJIT 2.1 wherever we mention LuaJIT 2.0.
agentzh,2013-11-18 01:20:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/98f9420bf74bca33b685014e0bbd7f5bebdb5593,98f9420bf74bca33b685014e0bbd7f5bebdb5593,added ljson.lua for the test suite so that we can have sorted keys in the JSON encoded output.
agentzh,2013-11-16 00:35:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9401a60cbd8b525bfa765f37a263abc4b7b94ec2,9401a60cbd8b525bfa765f37a263abc4b7b94ec2,fixed the table pre-allocation space for the ngx.config table.
agentzh,2013-11-15 20:53:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/86a08bab429f357cdca32078444e17dc9abbd182,86a08bab429f357cdca32078444e17dc9abbd182,documented the new ngx.config.nginx_version and ngx.config.ngx_lua_version API.
agentzh,2013-11-15 20:47:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/797fa5cac6f6979c3036e2da429bc5c8d07096b8,797fa5cac6f6979c3036e2da429bc5c8d07096b8,feature: added new API for version numbers of both nginx and the ngx_lua module itself: ngx.config.nginx_version and ngx.config.ngx_lua_version. thanks smallfish for the patch.
agentzh,2013-11-15 19:18:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3748896d6a97eadfdacb84f1cc596e8768b0d2f9,3748896d6a97eadfdacb84f1cc596e8768b0d2f9,minor debugging log message tweaks.
agentzh,2013-11-13 02:43:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e4e085f733c57ecf2c988cbade844ac1354c1b96,e4e085f733c57ecf2c988cbade844ac1354c1b96,Merge branch 'master' into ffi
agentzh,2013-11-13 01:30:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/93bc3c505aa8f6a1d5de0980d06cb6558cdd949f,93bc3c505aa8f6a1d5de0980d06cb6558cdd949f,updated docs to reflect the new support for loading LuaJIT 2.1 bytecode directly.
agentzh,2013-11-13 01:24:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/358f9a59072b5e74884144da19e6345653684023,358f9a59072b5e74884144da19e6345653684023,feature: added support for loading LuaJIT 2.1 bytecode files directly in *_by_lua_file directives.
agentzh,2013-11-12 06:40:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/11dee4a44f5a8ed59df0593769a84832c1a882b7,11dee4a44f5a8ed59df0593769a84832c1a882b7,feature: added pure C API for FFI-based implementations of ngx.req.get_headers.
agentzh,2013-11-12 05:15:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3e63ceba3c6a80c345a6998d4e5c4d32df37a739,3e63ceba3c6a80c345a6998d4e5c4d32df37a739,feature: added pure C API for FFI-based implementations for storing operations in the shared dictionaries.
agentzh,2013-11-12 05:12:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6e0a5c528caf6ff7a2f57882dafd5e81b0d2f16a,6e0a5c528caf6ff7a2f57882dafd5e81b0d2f16a,bugfix: the FFI API for ngx.var incorrectly used the storage of the input buffer.
agentzh,2013-11-11 07:10:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/15e53e3a15abc2f4c3a47d9643eca201ad424658,15e53e3a15abc2f4c3a47d9643eca201ad424658,Merge branch 'master' into ffi
agentzh,2013-11-11 07:02:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1523ab0ac13edb3832c0a0b54af493b729daf7a0,1523ab0ac13edb3832c0a0b54af493b729daf7a0,removed the plain text README file.
agentzh,2013-11-11 05:42:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/622f12aad3c576ec4523fa78cac3117f6bdaf22f,622f12aad3c576ec4523fa78cac3117f6bdaf22f,feature: added pure C API for implementing ngx.var writes via LuaJIT FFI.
agentzh,2013-11-11 02:00:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6c1e4d62182633076fbae88781826f7ad4c932da,6c1e4d62182633076fbae88781826f7ad4c932da,optimized the default implementation of ngx.headers_sent a bit.
agentzh,2013-11-11 01:54:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/97d6a8c94819c38ecb2b25a51b03a75c038ce4c4,97d6a8c94819c38ecb2b25a51b03a75c038ce4c4,feature: added pure C API for FFI-based implementations of ngx.headers_sent.
agentzh,2013-11-11 00:51:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/12920fffb8d3555578012b0212bdfb1d9a397c65,12920fffb8d3555578012b0212bdfb1d9a397c65,feature: added pure C API for FFI-based implementations of ngx.is_subrequest.
agentzh,2013-11-11 00:37:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a7a41fd0cde822f590978e7c195263abbf80a217,a7a41fd0cde822f590978e7c195263abbf80a217,feature: added pure C API for FFI-based API for ngx.status.
agentzh,2013-11-10 07:30:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7358557db4f4414435c74b2fa9c6d59f5c3148fc,7358557db4f4414435c74b2fa9c6d59f5c3148fc,feature: added pure C API for FFI-based implementations of ngx.ctx.
agentzh,2013-11-07 06:12:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7b9d886562f204929e2245591d31be87c33a0504,7b9d886562f204929e2245591d31be87c33a0504,Merge branch 'master' into ffi
agentzh,2013-11-06 20:05:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d516e4e31a404b0d02bc80d21a7851283b667ae2,d516e4e31a404b0d02bc80d21a7851283b667ae2,bumped version to 0.9.2.
agentzh,2013-11-06 19:45:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/229a22142ce953107f4c73625600d66d48fcf9d8,229a22142ce953107f4c73625600d66d48fcf9d8,documented the new ngx.config.prefix() API function.
agentzh,2013-11-05 23:11:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8228e98448ed006a706a520433f8b75add0c217e,8228e98448ed006a706a520433f8b75add0c217e,bugfix: reading ngx.header.HEADER could result in Lua string corruptions. thanks Dane Knecht for the report.
agentzh,2013-11-05 22:55:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1bedc5d4c8f5b9e5345a8d143b245d6e840b60a2,1bedc5d4c8f5b9e5345a8d143b245d6e840b60a2,ngx.re.find now returns a single nil value when no match is found.
agentzh,2013-11-05 21:46:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2d6cf5c7f9bf725c75eec25e770df04b1b12501e,2d6cf5c7f9bf725c75eec25e770df04b1b12501e,documented the new ngx.re.find API function.
agentzh,2013-11-05 21:16:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d577a63e8cabe3ad13943a68a741f67aad1005bc,d577a63e8cabe3ad13943a68a741f67aad1005bc,"merged branch ""master"" into ""ffi""."
agentzh,2013-11-05 21:04:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/87dd3cf1570334d9df9124e8aa70775e859ac1b7,87dd3cf1570334d9df9124e8aa70775e859ac1b7,updated valgrind.suppress a bit.
agentzh,2013-11-05 07:07:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e454b0b1c9a5e9ca12933a60f5a8b59cb62c9c3f,e454b0b1c9a5e9ca12933a60f5a8b59cb62c9c3f,Merge branch 'master' into ffi
agentzh,2013-11-05 07:01:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a442980372cf73fd953740db9c4dba71c6756713,a442980372cf73fd953740db9c4dba71c6756713,updated .gitignore a bit.
agentzh,2013-11-05 06:59:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e6db9d3ae44f037094663adea37e0af3810ca6ff,e6db9d3ae44f037094663adea37e0af3810ca6ff,added tests for ngx.re.find.
agentzh,2013-11-05 00:56:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/279da4d09039aba65c0c6ab7812fd9a8f0c497b8,279da4d09039aba65c0c6ab7812fd9a8f0c497b8,"feature: added new API function ngx.re.find, which is similar to ngx.re.match, but only returns the beginning index and end index of the whole match."
agentzh,2013-11-05 00:46:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/91d701d199c0672a16d8072431558e34a9e4fdfb,91d701d199c0672a16d8072431558e34a9e4fdfb,updated tests to reflect the fix in commit ccb0cbe0d.
agentzh,2013-11-05 00:02:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d333a369e91761d4f61c3283d7ccf6ccd33806d2,d333a369e91761d4f61c3283d7ccf6ccd33806d2,minor coding style fixes.
agentzh,2013-11-05 00:00:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f5944933b9bd30d6080d3514e14d3a3c8bd758ff,f5944933b9bd30d6080d3514e14d3a3c8bd758ff,updated docs to reflect recent changes.
agentzh,2013-11-04 23:56:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ccb0cbe0d07968fb40a644bd2bc36329fd272cd2,ccb0cbe0d07968fb40a644bd2bc36329fd272cd2,"bugfix: ngx.re.match: the ctx table's ""pos"" field should start from 1 instead of 0."
agentzh,2013-11-04 23:36:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8fe00e8fc932c7c212daf8ed9d1820c250d398e3,8fe00e8fc932c7c212daf8ed9d1820c250d398e3,fixed a test title.
agentzh,2013-11-04 21:07:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3c0a9d90bd60d38107bdf40fb120ad1157625f43,3c0a9d90bd60d38107bdf40fb120ad1157625f43,add debugging logs for the Lua VM initialization and shutdown.
agentzh,2013-11-04 03:22:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0c85bec1b85d97ea17e8a9ea7befac34d67db714,0c85bec1b85d97ea17e8a9ea7befac34d67db714,removed valgrind suppression rules for LuaJIT.
agentzh,2013-11-03 19:59:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f4af449f62c519c3d0df485c4260ea129c5c4b13,f4af449f62c519c3d0df485c4260ea129c5c4b13,updated valgrind.suppress when the sysmalloc is used.
agentzh,2013-11-03 05:52:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/93493ea7d455e213ca8ea51758bd54b2a5636286,93493ea7d455e213ca8ea51758bd54b2a5636286,no longer set RPATH for luajit lib in the developer build script; also updated valgrind.suppress for luajit using system malloc.
agentzh,2013-11-03 19:59:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0bd56bb8c447de3b82e28fcdc101eaa64e904a9d,0bd56bb8c447de3b82e28fcdc101eaa64e904a9d,updated valgrind.suppress when the sysmalloc is used.
agentzh,2013-11-03 05:52:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/483a3a9d7d4ef7b0797f265d399e5e86a8fa1deb,483a3a9d7d4ef7b0797f265d399e5e86a8fa1deb,no longer set RPATH for luajit lib in the developer build script; also updated valgrind.suppress for luajit using system malloc.
agentzh,2013-11-01 21:59:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/df91a47b61566a29c0b572605536e5501bf86995,df91a47b61566a29c0b572605536e5501bf86995,bugfix: compilation errors with nginx older than 1.0.0.
agentzh,2013-11-01 21:34:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/642db29e55662912f4ed171d427df837e64eb20f,642db29e55662912f4ed171d427df837e64eb20f,Merge branch 'master' into ffi
agentzh,2013-11-01 21:34:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/22f4c67a157a5bc3784d808e6e994f255fa6417f,22f4c67a157a5bc3784d808e6e994f255fa6417f,fixed the test plan for 119-config-prefix.t.
agentzh,2013-11-01 21:32:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5536b8540c0575aefbdcf2f44981d727c5c5d2e3,5536b8540c0575aefbdcf2f44981d727c5c5d2e3,"merged branch ""master"" to ""ffi""."
agentzh,2013-10-31 23:01:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/014c6b51be610cc83acd79b0e4838fbc87954fd5,014c6b51be610cc83acd79b0e4838fbc87954fd5,bugfix: localizing the coroutine.* API functions in init_by_lua* for future use in contexts like content_by_lua* might hang the Lua code. thanks James Hurst for the report in #304.
agentzh,2013-10-31 22:16:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cd52bd3692b63da448c382990a052f9b2f1eda25,cd52bd3692b63da448c382990a052f9b2f1eda25,feature: added new API function ngx.config.prefix() to return the nginx server prefix path.
agentzh,2013-10-29 19:58:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c99ebeb4de376819d6bb4cfc55d61b6e70030441,c99ebeb4de376819d6bb4cfc55d61b6e70030441,documented the new lua_use_default_type directive.
agentzh,2013-10-29 19:05:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a95851bb183a481cc1bb89fb7d2e485595cebc25,a95851bb183a481cc1bb89fb7d2e485595cebc25,doc: updated the docs for ngx.req.socket(raw) to reflect the recent change that allows reading raw request body data directly.
agentzh,2013-10-29 18:59:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b6715395c0b2a6a70c787b3d43fe00bbfeb64f6b,b6715395c0b2a6a70c787b3d43fe00bbfeb64f6b,"doc: bumped version to 0.9.1; also added a new section ""System Environment Variable Support""."
agentzh,2013-10-28 22:29:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/594f55bcb068b3d5a91926e85a7984e87700ad88,594f55bcb068b3d5a91926e85a7984e87700ad88,"added a test case to exercise a bug in ngx_gunzip module with which ngx.flush(true) could hang forever. thanks Maxim Dounin for the catch. to make this test pass, we need the gzip_flush_bug patch applied to the nginx core."
agentzh,2013-10-28 20:23:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4615fd5912621e3d7175f3a93aab87f884bc7254,4615fd5912621e3d7175f3a93aab87f884bc7254,"bugfix: use of ngx.exit() to abort pending subrequests in other ""light threads"" might lead to segfault or request hang when HTTP 1.0 full buffering is in effect."
agentzh,2013-10-28 01:32:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4ec0347d9b20b1a61091ac4c4caf662b86052033,4ec0347d9b20b1a61091ac4c4caf662b86052033,Merge branch 'master' into ffi
agentzh,2013-10-28 01:25:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b1ec27548632c954745c95461fe24315335101ed,b1ec27548632c954745c95461fe24315335101ed,optimize: made ngx.re.match and ngx.re.gmatch faster for LuaJIT 2.x when there is no submatch captures.
agentzh,2013-10-27 22:38:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9f134736c81dac4e415d1a18ef5361d637a2d0cc,9f134736c81dac4e415d1a18ef5361d637a2d0cc,added a test for accessing $proxy_host and $proxy_port in Lua. this test requires the proxy_host_port_vars patch for the nginx core to pass. thanks saravsars for the report in #301.
agentzh,2013-10-27 21:38:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b361a101f612e284cc305d9ea6028305532e2332,b361a101f612e284cc305d9ea6028305532e2332,updated valgrind.suppress to reflect recent changes.
agentzh,2013-10-27 05:22:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/db87600ebabdd96de91c2ea4967cedd08f568a5d,db87600ebabdd96de91c2ea4967cedd08f568a5d,doc: added language syntax highlighting to the markdown version.
agentzh,2013-10-26 22:00:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/647706f5b0c7bb64ea96b7701448f0126846bfeb,647706f5b0c7bb64ea96b7701448f0126846bfeb,"added a test case that exercises a bug in nginx's cache lock, which could lead to infinite request hang when cache_lock_timeout is exceeded. this test requires the cache_lock_hang_in_subreq patch to pass. thanks Akos Gyimesi for the report in #298."
agentzh,2013-10-26 01:33:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a8396e505a89c2d8763f193ed7b16ca3f2319dff,a8396e505a89c2d8763f193ed7b16ca3f2319dff,bugfix: downstream write events might interfere with upstream cosockets that are slow to write to. thanks Aviram Cohen for the report.
agentzh,2013-10-25 20:15:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1f65751fce43bfedd8f4080e9587dae748ccdb7f,1f65751fce43bfedd8f4080e9587dae748ccdb7f,bugfix: removing a request header might lead to memory corruptions. thanks Bjørnar Ness for the report.
agentzh,2013-10-23 00:01:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/82ba941d26fe97f6448a84c77c9fc0c4f4acc249,82ba941d26fe97f6448a84c77c9fc0c4f4acc249,bugfix: reading the value of ngx.status might get different values than ngx.var.status. thanks Kevin Burke for the report.
agentzh,2013-10-20 03:55:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1c0a9e831d885ee3050d1adc4ffdec79c3cac213,1c0a9e831d885ee3050d1adc4ffdec79c3cac213,added a test for using ngx.flush(true) with the standard ngx_gzip module. it could hang in mainline nginx cores older than 1.5.3.
agentzh,2013-10-18 22:41:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/350e38a348d0e725759cc7eee998392326365d75,350e38a348d0e725759cc7eee998392326365d75,bugfix: the bookkeeping state for already-freed user threads might be incorrectly used by newly-created threads that are completely different. thanks Sam Lawrence for the report.
agentzh,2013-10-18 21:57:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0f3c249a9afda88d9b7394cdb2553b459782bcef,0f3c249a9afda88d9b7394cdb2553b459782bcef,"bugfix: calling ngx.thread.wait() on a user thread object that is already waited (i.e., already dead) would hang forever. thanks Sam Lawrence for the report."
agentzh,2013-10-18 06:20:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dad8ba3ab8f4021cbffc19771ffc7165188e63c1,dad8ba3ab8f4021cbffc19771ffc7165188e63c1,doc: fixed the context for the lua_package_path and lua_package_cpath directives. thanks duhoobo for the report in #297.
agentzh,2013-10-18 00:25:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/22ba5b114ec0b7bb67745d9da182f357d92de21f,22ba5b114ec0b7bb67745d9da182f357d92de21f,fixed the test plan in 082-body-filter.t.
agentzh,2013-10-17 22:32:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9e39cfd622272df43bc70b98b79578043d62f6c6,9e39cfd622272df43bc70b98b79578043d62f6c6,"bugfix: the alert ""zero size buf"" could be logged when assigning an empty Lua string ("""") to ngx.arg[1] in body_filter_by_lua*."
agentzh,2013-10-17 22:27:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9bae5adf3fdf4c68224d4bebe9845c6258847305,9bae5adf3fdf4c68224d4bebe9845c6258847305,"refactor: eliminated introducing NULL chain link in body_filter_by_lua*, which simplied the implementation a lot."
agentzh,2013-10-17 20:53:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/45319bfe5e1b6552140ef80d754e5c4b8482a898,45319bfe5e1b6552140ef80d754e5c4b8482a898,"doc: markdown: added lots of ""Back to TOC"" links to each sections but the beginning ones."
agentzh,2013-10-17 20:43:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/71d42c6d939176736fe9b7cf045a2b7534f16796,71d42c6d939176736fe9b7cf045a2b7534f16796,"doc: markdown: added a ""Table of Contents""."
agentzh,2013-10-16 23:52:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b22569669e2bfb330f4c16046820c3353be6ed38,b22569669e2bfb330f4c16046820c3353be6ed38,docs: markdown: made the module name more readable.
agentzh,2013-10-16 23:43:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d8c8e86c0ffa2c9b451034fb3d03ae3552e5f214,d8c8e86c0ffa2c9b451034fb3d03ae3552e5f214,docs: markdown: fixed more external links that still point to wiki.nginx.org.
agentzh,2013-10-16 23:28:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f026151f09b95a897688ea699cb0e88586c63b4a,f026151f09b95a897688ea699cb0e88586c63b4a,"docs: markdown: fixed links that were pointing to wiki.nginx.org, wherever possible."
agentzh,2013-10-16 22:26:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/70ecf928f8a2af34da00cfd3c924ba7b591b3fb1,70ecf928f8a2af34da00cfd3c924ba7b591b3fb1,docs: fixed the links in the markdown source. now they no longer point to the (broken) nginx wiki site.
agentzh,2013-10-15 20:28:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/82cbbd8334f306d6432dd04edbc98283fb62ca5d,82cbbd8334f306d6432dd04edbc98283fb62ca5d,"bugfix: subrequests initiated by ngx.location.capture* could trigger unnecessary response header sending actions in the subrequest because our capturing output header filter did not set ""r->header_sent""."
agentzh,2013-10-15 18:48:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f17fc0941962b5f4d12bd23d6cfa74819f08bece,f17fc0941962b5f4d12bd23d6cfa74819f08bece,bugfix: the Lua error when ngx.sleep() was used in log_by_lua* was not friendly. thanks Jiale Zhi for the report.
agentzh,2013-10-14 23:19:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/39ac6421afb6bcdfaf3eabc94fb79650b0d75724,39ac6421afb6bcdfaf3eabc94fb79650b0d75724,"bugfix: ngx.req.set_header(""Host"", value) would overwrite the value of $host with bad values. thanks aviramc for the patch in #293 (and issue #292)."
agentzh,2013-10-14 03:14:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/335ad8cc9297113f05a5c2f7e6b4e7384880e26e,335ad8cc9297113f05a5c2f7e6b4e7384880e26e,"added a code comment regarding the ""active_connections"" field in ngx_http_lua_socket_pool_t."
agentzh,2013-10-13 02:45:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b41f546c7ba9b1a5d1765821d534db384d45ff3c,b41f546c7ba9b1a5d1765821d534db384d45ff3c,"fixed the preallocation size for the ""coroutine"" Lua table."
agentzh,2013-10-13 02:28:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9a986c9f91c51cd92d671e30c5488f5dd6f7f8a7,9a986c9f91c51cd92d671e30c5488f5dd6f7f8a7,Merge branch 'master' into ffi
agentzh,2013-10-13 02:18:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ca90ef434e616056a7f4572d680ec63ca229c768,ca90ef434e616056a7f4572d680ec63ca229c768,optimize: pre-allocate space for the resulting Lua tables in ngx.location.capture*.
agentzh,2013-10-13 01:57:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/054444dd4183291c22ce7b783e02521205aacf4f,054444dd4183291c22ce7b783e02521205aacf4f,"optimize: preallocate some space in our Lua registry tables to reduce the initial requests' ""warm-up"" time a bit."
agentzh,2013-10-13 01:43:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0b3c47a3bf8bf3812712c4e73f7594b65997695f,0b3c47a3bf8bf3812712c4e73f7594b65997695f,"optimize: preallocate the space for the metatable for the global environment table for header_filter_by_lua*, body_filter_by_lua*, and log_by_lua*."
agentzh,2013-10-13 01:36:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/101f8d9ed477ae6fda9d9902b6df4d51ddeade2c,101f8d9ed477ae6fda9d9902b6df4d51ddeade2c,optimize: preallocate 4 hashtable slots in the ngx.ctx tables.
agentzh,2013-10-13 01:19:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ace93e66fa189514b58539b5b824cc59bcc1f44a,ace93e66fa189514b58539b5b824cc59bcc1f44a,"optimize: preallocate space for the ""ngx.thread"" lua table during API initialization."
agentzh,2013-10-13 01:13:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d7e8ff8caf97669149b37482b03468d0cbf5d7cf,d7e8ff8caf97669149b37482b03468d0cbf5d7cf,resolved a merge conflict.
agentzh,2013-10-13 01:11:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/136087f328dcf9c3e2821ae1e544e59e20941578,136087f328dcf9c3e2821ae1e544e59e20941578,"optimize: preallocate space for the ""coroutine"" lua table."
agentzh,2013-10-13 01:11:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bc84964477326ecf00ef594731c2573152bfee2d,bc84964477326ecf00ef594731c2573152bfee2d,"optimize: preallocate space for the ""coroutine"" lua table."
agentzh,2013-10-12 23:48:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/330fe6e597a2cfd691bee252429bcafdacba5b30,330fe6e597a2cfd691bee252429bcafdacba5b30,"merged ""master"" into ""ffi""."
agentzh,2013-10-12 18:02:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c304f3592180c141e473d8883a94e29337b51b42,c304f3592180c141e473d8883a94e29337b51b42,"bugfix: when there were no existing Cache-Control response headers, ""ngx.header.cache_control = nil"" would (incorrectly) create a new Cache-Control header with an empty value. thanks jinglong for the patch."
agentzh,2013-10-12 17:38:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/01bf02aa044fbdccad1218784534989b78dd3f28,01bf02aa044fbdccad1218784534989b78dd3f28,bugfix: the original lettercase of the header name was lost when creating the Cache-Control response header via the ngx.header.HEADER API.
agentzh,2013-10-12 06:27:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/487618a801b32701e7b54d4a107c3153223c5413,487618a801b32701e7b54d4a107c3153223c5413,"bugfix: header_filter_by_lua*, body_filter_by_lua*, and ngx.location.capture* might not work properly with multiple http {} blocks in nginx.conf. thanks flygoast for the report in #294."
agentzh,2013-10-06 23:19:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bc43c4367aced6c5c34a4bc91041b20f39a3d0ea,bc43c4367aced6c5c34a4bc91041b20f39a3d0ea,docs: added more explanation on subrequests' request body handling. thanks Jędrzej Nowak for the suggestion.
agentzh,2013-10-03 04:56:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cd669b556074aba37174f4b035e2050da824ec82,cd669b556074aba37174f4b035e2050da824ec82,made a test case in 024-access/client-abort.t less possible to fail due to timing errors.
agentzh,2013-10-03 00:35:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fc03bfec344f4c42f97b2d3238760e7f7bd99568,fc03bfec344f4c42f97b2d3238760e7f7bd99568,"bugfix: now ngx.req.socket(raw) returns proper error when there is some other ""light thread"" reading the request body."
agentzh,2013-10-03 00:10:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ebf9cc8679c89d9330dbc0fe3d3e72ecd9c51b2b,ebf9cc8679c89d9330dbc0fe3d3e72ecd9c51b2b,"feature: now the raw request cosocket returned by ngx.req.socket() no longer requires the request body to be read already, which means that one can use this cosocket to read the raw request body data as well. thanks aviramc for the original patch."
agentzh,2013-10-02 23:58:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3740962968a43b269fd2f3fd3d1bcad26cbe0fba,3740962968a43b269fd2f3fd3d1bcad26cbe0fba,added tests for the new lua_use_default_type directive.
agentzh,2013-10-02 23:01:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e5d47c4488742787ac38be64cd45c2ae91cd898e,e5d47c4488742787ac38be64cd45c2ae91cd898e,"bugfix: we always printed the ""lua hit request header limit"" debug log message even when the limit is not hit at all. this regression had appeared in commit d8a266497a."
agentzh,2013-10-02 22:35:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/789e36b49b47ff032f0c3e31b6df4b3ab1148e0f,789e36b49b47ff032f0c3e31b6df4b3ab1148e0f,"feature: added the new configuration directive ""lua_use_default_type"" for controlling whether to send out a default Content-Type response header (as defined by the ""default_type"" directive). default on. thanks aviramc for the patch in #286."
agentzh,2013-10-02 06:05:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d8a266497a7078de0b5ecbc71da07917462af335,d8a266497a7078de0b5ecbc71da07917462af335,"optimize: now we pre-calculate the exact size of the resulting Lua table and preallocate the table space, which makes it 8%+ faster for a request with a dozen request headers and 40%+ faster for a hundred request headers."
agentzh,2013-10-02 05:49:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f998256247c3df99483466902a618f8ac214692d,f998256247c3df99483466902a618f8ac214692d,reindexed the 025-codecache.t test file.
agentzh,2013-09-30 03:39:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2063a94b2bf2d00f8fa916e2380e89ec7a574421,2063a94b2bf2d00f8fa916e2380e89ec7a574421,docs: bumped version to 0.9.0 and mentioned lua-resty-websocket and lua-resty-lock.
agentzh,2013-09-27 20:28:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eabadd9b2295a5238a4fafb8492c091895b33655,eabadd9b2295a5238a4fafb8492c091895b33655,"docs: documented the new ngx.req.socket(true) API, upon which fancy protocols like WebSocket can be implemented."
agentzh,2013-09-27 19:55:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/04e53ee374bac6f7dba1dadf332794ecddd8e145,04e53ee374bac6f7dba1dadf332794ecddd8e145,bugfix: Lua VM might run out of memory when lua_code_cache is off; now we always enforce a full Lua GC cycle right after unloading most of the loaded Lua modules when the Lua code cache is turned off.
agentzh,2013-09-27 19:49:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e6c9a312d53c45d09c46646b95b799b21bbf582,8e6c9a312d53c45d09c46646b95b799b21bbf582,"change: raised the ""lua_code_cache is off"" warning to an alert."
agentzh,2013-09-25 23:28:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c4657a35b25f1a984534d500f1edc32f2cf18e30,c4657a35b25f1a984534d500f1edc32f2cf18e30,"feature: now we allow use the raw request cosocket returned by ngx.req.socket(true) to send the raw HTTP response header. thanks aviramc for requesting this in #242. also we now always enable ""lingering close"" in the nginx core when raw req sockets are used."
agentzh,2013-09-25 22:03:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/42567bd245948a77f8f0e6c484de3b809355cf85,42567bd245948a77f8f0e6c484de3b809355cf85,"docs: made the ""Test Suite"" section up to date (I hope)."
agentzh,2013-09-25 21:59:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7720bc7d9dce44e3fa51fbe3b5229186814e882e,7720bc7d9dce44e3fa51fbe3b5229186814e882e,removed the ngx_upstream_keepalive module from the developer build script because it has been included in the official nginx distribution.
agentzh,2013-09-25 21:58:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5dfd547141ba00f4e73f0544a511a53b5982030d,5dfd547141ba00f4e73f0544a511a53b5982030d,"tests: removed the ""single"" option from the ""keepalive"" directive because it is not a public feature."
agentzh,2013-09-25 20:37:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/095ed4a235fc04451383331fc193f51508d964fc,095ed4a235fc04451383331fc193f51508d964fc,"bugfix: compilation regressions with nginx older than 1.3.13, introduced recently by the ngx.req.socket(true) API."
agentzh,2013-09-25 19:24:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0387a89e7cdb9f240688d234f44d89134538f6e5,0387a89e7cdb9f240688d234f44d89134538f6e5,bugfix: Windows compatibility issue in the Lua/LuaJIT bytecode file loader: it assumed that ngx_fd_info accepts integral fd as the 1st argument. thanks Edwin Cleton for the report (#283) and thanks jinglong for the original patch in #284.
agentzh,2013-09-25 06:25:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a41567b64c72d9e65df1beb7942f8d545a37d3d1,a41567b64c72d9e65df1beb7942f8d545a37d3d1,"bugfix: the standard Lua coroutine API was not available in the context of init_by_lua* and threw out the ""no request found"" error. thanks Wolf Tivy for the report."
agentzh,2013-09-24 21:21:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c6b6b315dfa0939a740ccefbdcad20a4c84856c8,c6b6b315dfa0939a740ccefbdcad20a4c84856c8,more warning fixes for the Microsoft Visual C++ compiler. thanks Edwin Cleton for the report.
agentzh,2013-09-24 03:22:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/585e7af92ef8f6bee22848bcdd8b269d190d8836,585e7af92ef8f6bee22848bcdd8b269d190d8836,"bugfix: fixed most of the compiler warnings from the MinGW C compiler, some of which are real overflow issues. thanks Edwin Cleton for the report."
agentzh,2013-09-23 07:10:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/33832b1f7a44921b3534c408392030e14148ac89,33832b1f7a44921b3534c408392030e14148ac89,"fixed bad request header lines in the tests in 116-raw-req-socket.t, which caused test bailout in the ""check leak"" testing mode."
agentzh,2013-09-23 03:47:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a0ff1922184e6257aa348e3c1c5bfe45aecf3b07,a0ff1922184e6257aa348e3c1c5bfe45aecf3b07,"bugfix: memory invalid reads might happen when ngx.flush(true) was used: the ""ctx"" struct could get freed in the middle of processing and we should save the state explicitly on the C stack."
agentzh,2013-09-23 00:56:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/19f6f2f366cd36230c1e467157a4555a54dbc8fa,19f6f2f366cd36230c1e467157a4555a54dbc8fa,Merge branch 'master' into websocket
agentzh,2013-09-23 00:28:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/add6df63bbac69b1b67d4766ff5ad52de1ae19d0,add6df63bbac69b1b67d4766ff5ad52de1ae19d0,Merge branch 'master' into ffi
agentzh,2013-09-22 21:52:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e78dea9e0f3039d04a6b21bc43525f0689a9a5bc,e78dea9e0f3039d04a6b21bc43525f0689a9a5bc,bumped version to 0.8.10.
agentzh,2013-09-22 21:22:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1d4c76d172142a4df2cf4eb4e86db0d15812f2d7,1d4c76d172142a4df2cf4eb4e86db0d15812f2d7,"bugfix: we did not declare the ""level"" local variable of ngx_http_lua_ngx_log at the beginning of the code block. thanks Edwin Cleton for the report."
agentzh,2013-09-19 19:27:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/db35efd18d30ad427f44c90bf2b1f6cd8df17a41,db35efd18d30ad427f44c90bf2b1f6cd8df17a41,docs: documented more limitations in the current implementation.
agentzh,2013-09-18 19:13:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a98ff5f802d5a2fa5d65f489507d63e694b367ba,a98ff5f802d5a2fa5d65f489507d63e694b367ba,docs: avoided using module() and also recommended the lua-releng tool to locate misuse of Lua globals.
agentzh,2013-09-17 22:09:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c218ed706a06164844e0b15c12944a17a419a08e,c218ed706a06164844e0b15c12944a17a419a08e,testing: fixed the stap probes for the new ffi implementation.
agentzh,2013-09-17 21:07:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8fdfc79838033d956b22e024da084d99ecd75bfa,8fdfc79838033d956b22e024da084d99ecd75bfa,bugfix: use of the ctx->headers_sent field that was already removed.
agentzh,2013-09-17 20:55:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ca27b9e36b603f9d6cbde07971863388250d8371,ca27b9e36b603f9d6cbde07971863388250d8371,Merge branch 'master' into ffi
agentzh,2013-09-16 18:23:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6597dc59199e562f481d7bb6c804ce26dad3caee,6597dc59199e562f481d7bb6c804ce26dad3caee,Merge branch 'master' into websocket
agentzh,2013-09-15 20:46:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a641101a5e99197f5be5ce3a007cf66ae6aeafc6,a641101a5e99197f5be5ce3a007cf66ae6aeafc6,bumped version to 0.8.9.
agentzh,2013-09-15 04:32:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/235875b5c6afd4961181fa9ead9c167dc865e737,235875b5c6afd4961181fa9ead9c167dc865e737,refactor: removed our own ctx->headers_sent field because we should used r->header_sent instead.
agentzh,2013-09-15 02:55:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4256020e47771bd920ffc0972c40b4c70d109760,4256020e47771bd920ffc0972c40b4c70d109760,Merge branch 'master' into websocket
agentzh,2013-09-15 02:55:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/95e293160b9c3fa9dbd3a977ac35563ea63ce8b0,95e293160b9c3fa9dbd3a977ac35563ea63ce8b0,"bugfix: the ""pool"" option value could not be nil in tcpsock:connect()."
agentzh,2013-09-14 20:38:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7b726b32cd037ab1bebdbb0c870e8bf7dbd0600d,7b726b32cd037ab1bebdbb0c870e8bf7dbd0600d,"change: we now temporarily disable the Lua API functions ngx.location.capture, ngx.location.capture_multi, and ngx.req.socket that are known to have problems with the SPDY requests for now. we will fix them eventually in the near future."
agentzh,2013-09-13 23:00:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0557e44aaa97cfb6006b3d17d00d634091b015b2,0557e44aaa97cfb6006b3d17d00d634091b015b2,Merge branch 'master' into websocket
agentzh,2013-09-13 22:31:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/22e09118b2383ea14a396d5f68598f2528d9916f,22e09118b2383ea14a396d5f68598f2528d9916f,bugfix: the nginx core does not send a default status line for 101 status code. now we construct one for 101.
agentzh,2013-09-13 22:31:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8bbd6aae271952a538e6cdfd7ef6dc4a192979ce,8bbd6aae271952a538e6cdfd7ef6dc4a192979ce,bugfix: the nginx core does not send a default status line for 101 status code. now we construct one for 101.
agentzh,2013-09-13 19:23:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/876beeef5d21f07a2abf479c3bc13833bab598da,876beeef5d21f07a2abf479c3bc13833bab598da,Merge remote-tracking branch 'origin/master' into websocket
agentzh,2013-09-13 19:22:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/36157b4cd726cf0d1d45145f4363256009a77ea6,36157b4cd726cf0d1d45145f4363256009a77ea6,bugfix: tcpsock:receive(0) could hang when no data arrived; now it always returns an empty string immediately. this new behavior diverges from LuaSocket though.
agentzh,2013-09-09 22:11:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/aa2104931c76caed2d66ad340f287addb9708008,aa2104931c76caed2d66ad340f287addb9708008,Merge remote-tracking branch 'origin/master' into websocket
agentzh,2013-09-09 22:09:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/38ebe9a3171d448e1f3ecb03a38cce52d3e01381,38ebe9a3171d448e1f3ecb03a38cce52d3e01381,bugfix: we did not honor the tcp_nodelay config directive in the raw downstream cosockets.
agentzh,2013-09-08 23:51:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5b7c567cb662627f3f2982e75ee078df1978ef4e,5b7c567cb662627f3f2982e75ee078df1978ef4e,"documented the ""always_forward_body"" option for ngx.location.capture() and ngx.location.capture_multi()."
agentzh,2013-09-08 23:15:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4c6dc4f7a2889e256dc2b88506734ef55d5422b0,4c6dc4f7a2889e256dc2b88506734ef55d5422b0,updated docs to reflect recent changes.
agentzh,2013-09-08 06:23:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/410930fa32af749cd87721a4bc85e3a45b15ea99,410930fa32af749cd87721a4bc85e3a45b15ea99,"feature: added support for raw downstream cosocket via the ngx.req.socket(true) API, upon which http upgrading protocols like WebSocket can be implemented with pure Lua."
agentzh,2013-09-08 05:44:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/55776b7b5586ee06d2e6723760d0ef426ca23f05,55776b7b5586ee06d2e6723760d0ef426ca23f05,tests: use larger timeout settings to account for slow DNS servers.
agentzh,2013-09-08 01:14:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ba7c1766b7f8cbae33c5c00982ac8614f34f6d54,ba7c1766b7f8cbae33c5c00982ac8614f34f6d54,fixed those recently-added test cases that could fail in slow testing modes on slow machines.
agentzh,2013-09-07 20:25:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0f7948d528bc9077872cd31f5ddf24ef584b54ef,0f7948d528bc9077872cd31f5ddf24ef584b54ef,"bugfix: we did not escape \z, \t, and \b properly in ngx.quote_sql_str()."
agentzh,2013-09-07 19:49:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6e4b5745a9b29dde4aba7a476510096425cf6daa,6e4b5745a9b29dde4aba7a476510096425cf6daa,bugfix: the null character ('\0') was not escaped in ngx.quote_sql_str() according to the MySQL quoting rules. thanks Siddon Tang for the report.
agentzh,2013-09-07 07:13:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fe3c318faecbb8f92206e8506b90d37f483a82b0,fe3c318faecbb8f92206e8506b90d37f483a82b0,change: we now limit the number of nested coroutines in the backtrace dump for uncaught Lua exceptions by 5.
agentzh,2013-09-07 06:59:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7c5e3548ae9f893fd54c2ceb07560b44e9373a8f,7c5e3548ae9f893fd54c2ceb07560b44e9373a8f,bugfix: Lua backtrace dumps upon uncaught Lua exceptions did not work with the standard Lua 5.1 interpreter when the backtrace was deeper than 22 levels. now we just dump the top 22 levels in the backtrace for simplicity. also optimized the Lua string concatenation operations when constructing the backtrace string.
agentzh,2013-09-06 00:32:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2926596a291d24eefb62b8f089457a127cf59286,2926596a291d24eefb62b8f089457a127cf59286,feature: now timeout errors in tcpsock:receive() and the reader returned by tcpsock:receiveuntil() no longer close the current cosocket object automatically. thanks Aviram Cohen for the original patch.
agentzh,2013-09-05 22:54:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1a9f044dc12c37b8778a201c21f4781f0118b005,1a9f044dc12c37b8778a201c21f4781f0118b005,now we allow application of the mockeagain reading mode to the test files that require the mockegain writing mode.
agentzh,2013-09-05 21:59:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/438bbca78e5848f523efcde807247540129dd93a,438bbca78e5848f523efcde807247540129dd93a,added a (passing) test for recalling the send() method on the same tcp cosocket object right after a send timeout error happens.
agentzh,2013-09-05 21:55:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/75d2524ba50b247937d1aa5c334c6364ea273378,75d2524ba50b247937d1aa5c334c6364ea273378,added a (passing) test for recalling the connect() method on the same tcp cosocket object right after a connecting timed out error happens.
agentzh,2013-09-04 23:43:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/45f430a006dc38896b37cc18d502a09c53aa4e4f,45f430a006dc38896b37cc18d502a09c53aa4e4f,"feature: added new option ""always_forward_body"" to ngx.location.capture(), which controls whether to always forward the parent request's request body to the subrequest."
agentzh,2013-09-04 19:31:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9d5bb2aa5856d9f646092a36483c976252c18e02,9d5bb2aa5856d9f646092a36483c976252c18e02,"refactor: made the ""processing flushing coroutines"" process a separate C function."
agentzh,2013-09-04 19:19:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/37a502108b916f40ba007fa88b4c3b1702ce59ed,37a502108b916f40ba007fa88b4c3b1702ce59ed,minor code refactoring to make the ngx_http_lua_wev_handler function shorter.
agentzh,2013-09-04 19:13:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/29a253b55808da5e8d5b681c1a3bdbfa3eca725f,29a253b55808da5e8d5b681c1a3bdbfa3eca725f,"Revert ""bugfix: ngx.flush(true) might hang when there was a buggy output body filter. now we only test the condition ""r->connection->buffered & NGX_LOWLEVEL_BUFFERED"".""

This reverts commit 4ed6e7a54bf960f9993c30bfe0176c2ebda664e9."
agentzh,2013-09-04 18:51:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4ed6e7a54bf960f9993c30bfe0176c2ebda664e9,4ed6e7a54bf960f9993c30bfe0176c2ebda664e9,"bugfix: ngx.flush(true) might hang when there was a buggy output body filter. now we only test the condition ""r->connection->buffered & NGX_LOWLEVEL_BUFFERED""."
agentzh,2013-09-04 00:08:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/539a3021fee028bdf25fb9979d120316910a4c59,539a3021fee028bdf25fb9979d120316910a4c59,one minor optimization in ngx.req.socket().
agentzh,2013-09-02 19:58:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/138bc9d91266a7c5636da743edda4c9c58579c68,138bc9d91266a7c5636da743edda4c9c58579c68,documented the new ngx.config.debug API and also updated docs to reflect other recent changes.
agentzh,2013-09-02 05:44:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/db7a8c90c16e1a1b42d0a9bf9c4e0a337629cfae,db7a8c90c16e1a1b42d0a9bf9c4e0a337629cfae,feature: added new FFI C API function ngx_http_lua_ffi_var_get for reading ngx.var.VARIABLE.
agentzh,2013-09-02 02:57:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b6d19752e3ea279a57378f77940dfa4ce1b26089,b6d19752e3ea279a57378f77940dfa4ce1b26089,feature: added new FFI C API ngx_http_lua_ffi_shdict_incr for shdict:incr().
agentzh,2013-09-01 07:43:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6473e2242aa93798556f820283d6ddc38e3af072,6473e2242aa93798556f820283d6ddc38e3af072,minor coding style fixes.
agentzh,2013-09-01 07:41:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e7f3b026453aee65b93970e8584f9908cca7dc5c,e7f3b026453aee65b93970e8584f9908cca7dc5c,feature: added new FFI C API for shdict:get(). also we use double instead of lua_Number when storing Lua numbers into shdict.
agentzh,2013-09-01 07:10:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b68729345b1b9bbc9342a0d6943fc1fff996aa85,b68729345b1b9bbc9342a0d6943fc1fff996aa85,bugfix: the FFI C API function ngx_http_lua_ffi_compile_regex could leak memory when pcre failed to compile the regex pattern argument.
agentzh,2013-09-01 02:19:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d9400dc435c8bfec8c7b0fab73a0ae16f15445d5,d9400dc435c8bfec8c7b0fab73a0ae16f15445d5,"skipped the regex tests for checking bad data types, which cannot pass with lua-resty-core."
agentzh,2013-09-01 02:09:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6227668ef060d9ae49ac0ce1165f3e18915cc018,6227668ef060d9ae49ac0ce1165f3e18915cc018,bugfix: the FFI version of the PCRE API did not generate debug logs indicating the result of PCRE JIT compilation.
agentzh,2013-09-01 02:06:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/65010dd0917119804809df33c807a72adf98216c,65010dd0917119804809df33c807a72adf98216c,feature: added support for lua_regex_match_limit in the FFI C API function for PCRE.
agentzh,2013-09-01 00:47:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/527009f21010a74639361838ee9cd4ee55f03ff4,527009f21010a74639361838ee9cd4ee55f03ff4,Merge remote-tracking branch 'origin/master' into ffi
agentzh,2013-09-01 00:34:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c752049275cb65f054c92e81239e21b81c85a5ec,c752049275cb65f054c92e81239e21b81c85a5ec,"optimize: fixed the initial table sizes for ""ngx"", ""ngx.config"", and ""ngx.re""."
agentzh,2013-09-01 00:30:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9577e5fc58a20a553ca01fd3d736ab80dc722870,9577e5fc58a20a553ca01fd3d736ab80dc722870,feature: added new API ngx.config.debug to indicate whether this is a debug build of nginx.
agentzh,2013-08-31 19:43:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/021645c5ec16c98551d7324ebdd20eb3b9469360,021645c5ec16c98551d7324ebdd20eb3b9469360,Merge remote-tracking branch 'origin/master' into ffi
agentzh,2013-08-31 06:58:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fdec2703561d92254fbe85b83808fa2f705abd69,fdec2703561d92254fbe85b83808fa2f705abd69,"fixed test cases that tried to send the response header twice, which were caught by nginx 1.5.4."
agentzh,2013-08-31 06:56:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3e049c59450fe7cd8f8bcc710c161fd7b0fc3b3e,3e049c59450fe7cd8f8bcc710c161fd7b0fc3b3e,minor cleanup in a recently added test case.
agentzh,2013-08-31 06:55:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1e13a16b3484072c41a8a5db704fe818d4a22125,1e13a16b3484072c41a8a5db704fe818d4a22125,minor refactoring in the closure factory.
agentzh,2013-08-31 06:53:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c9a04a9c2cc6715246979be9a4ef3351479ad5b6,c9a04a9c2cc6715246979be9a4ef3351479ad5b6,"bugfix: when a Lua line comment was used in the last line of the inlined Lua code chunk, a bogus Lua syntax error would be thrown."
agentzh,2013-08-31 06:46:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d9a48d86cfaa3ca07073e0559c8a4e01a86f495a,d9a48d86cfaa3ca07073e0559c8a4e01a86f495a,bugfix: the error message for failures in loading inlined Lua code was misleading.
agentzh,2013-08-31 06:41:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a0343434b84e02405c0b91ecfef617d8b446a0ee,a0343434b84e02405c0b91ecfef617d8b446a0ee,bugfix: ngx.exit(204) could try to send the response header for twice. nginx 1.5.4 caught this issue.
agentzh,2013-08-30 23:10:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f4c4667b513fb41d0a571a60961e4b07fe32591f,f4c4667b513fb41d0a571a60961e4b07fe32591f,fixed a potential test failure in a recently added test case in 025-codecache.t.
agentzh,2013-08-28 00:27:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3abd78b2f959cae7701fc542f508970da5d917f1,3abd78b2f959cae7701fc542f508970da5d917f1,Merge branch 'master' into ffi
agentzh,2013-08-27 01:57:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e549fc2df0c03648a4553c8310c90c61db46aa42,e549fc2df0c03648a4553c8310c90c61db46aa42,feature: log_by_lua now always runs before the standard ngx_http_log_module (for access logging). thanks Calin Don for the suggestion in #254.
agentzh,2013-08-27 01:50:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/334afb35d616560eba4680143b059031a16cb571,334afb35d616560eba4680143b059031a16cb571,fixed a test case index number in 025-codecache.t.
agentzh,2013-08-25 17:54:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b3734f0020a09fa9bdef1ad39088a5b292a678dd,b3734f0020a09fa9bdef1ad39088a5b292a678dd,"bugfix: the global Lua state's _G table was cleared when lua_code_cache was off, which could confuse the setup in init_by_lua. thanks Robert Andrew Ditthardt for the report in #257."
agentzh,2013-08-14 18:49:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4042f7bd63db31177f1177ad49c8baa9163bbbfb,4042f7bd63db31177f1177ad49c8baa9163bbbfb,"bugfix: ngx.flush() triggered response header sending when the header was not sent yet. now it just returned the error string ""nothing to flush"" for this case. thanks linbo liao for the report."
agentzh,2013-08-06 23:21:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/940429a5c6b2a2350635c3f48b6dac751e0b07c2,940429a5c6b2a2350635c3f48b6dac751e0b07c2,bumped version to 0.8.6.
agentzh,2013-08-06 19:47:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2db5028ad803fdb2b7ada0eb459cf7853c2c069b,2db5028ad803fdb2b7ada0eb459cf7853c2c069b,bugfix: segfaults would happen in ngx.req.set_header() and ngx.req.clear_header() for HTTP 0.9 requests. thanks Bin Wang for the report in agentzh/headers-more-nginx-module#14.
agentzh,2013-08-04 17:21:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/65d4b419bf531c156b542fcd180e9aadb9439e34,65d4b419bf531c156b542fcd180e9aadb9439e34,minor test fixes.
agentzh,2013-08-04 07:49:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e72ab1dba54084e9e527f14288be7f167d06ce2b,e72ab1dba54084e9e527f14288be7f167d06ce2b,minor coding style fixes.
agentzh,2013-08-04 07:44:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c7237efd8a43bf07d5fde8828594084160fe49de,c7237efd8a43bf07d5fde8828594084160fe49de,made the test for shdict:get_stale less possible to fail.
agentzh,2013-08-04 05:28:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7dbd2a5118f36ef039b79a87ef5f00f19d593f7c,7dbd2a5118f36ef039b79a87ef5f00f19d593f7c,bugfix: reading ngx.header.location did not work when auto-redirect was in action. this is a further fix for #260.
agentzh,2013-08-03 02:16:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/547d299463d95e33af7131fef82c39d4a72e7a35,547d299463d95e33af7131fef82c39d4a72e7a35,"bugfix: segfault might happen when reading or writing to a response header via the ngx.header.HEADER API in the case that the nginx core initiated a 301 redirect. this issue was caused by an optimization in the nginx core where ngx_http_core_find_config_phase, for example, does not fully initialize the ""Location"" response header after creating the header. thanks Vladimir Protasov for the report in #260."
agentzh,2013-08-02 02:00:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e0626c31275dd9892a3946493e3434fdd21edbb6,e0626c31275dd9892a3946493e3434fdd21edbb6,added tests to improve the code coverage in file ngx_http_lua_headers_out.c.
agentzh,2013-08-02 01:07:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/87a4f346b85699cfb06a2c8756af6fabbf87d904,87a4f346b85699cfb06a2c8756af6fabbf87d904,"documented the new ""get_stale"" method for shdict objects."
agentzh,2013-08-02 01:00:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/424232deb9ad204ee55b5c34567cd55ade2b2926,424232deb9ad204ee55b5c34567cd55ade2b2926,updated docs to reflect recent changes.
agentzh,2013-08-02 00:56:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/124f50fd4609fb8ffd5885416dced0835cc5a6b2,124f50fd4609fb8ffd5885416dced0835cc5a6b2,"feature: added new method ""get_stale"" to shared dict objects, which returns the value (if not freed yet) even if the key has already expired. thanks Matthieu Tourne for the patch in #249."
agentzh,2013-08-01 20:16:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2f5ebebcd3f7b63b90ac52e3dfea8d831fe3ee05,2f5ebebcd3f7b63b90ac52e3dfea8d831fe3ee05,"bugfix: the ""connect() failed"" error message was still logged even when lua_socket_log_errors was off. thanks Dong Fang Fan for the report."
agentzh,2013-07-31 00:58:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/52f48e0761ad54642b4f2b7e67c9c9e46b3d34b3,52f48e0761ad54642b4f2b7e67c9c9e46b3d34b3,"bugfix: we incorrectly returned 500 in our output header filter, body filter, and log-phase handlers upon inlined Lua code loading errors. bugfix: Lua stack overflow might happen when we failed to load inlined Lua code from the code cache."
agentzh,2013-07-30 20:18:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c7a52824a49d30e5462cf39f1f7f53d72988a95b,c7a52824a49d30e5462cf39f1f7f53d72988a95b,more coding style fixes.
agentzh,2013-07-30 20:06:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/abaa7f4272563ff132a59c54128feebe52299c1f,abaa7f4272563ff132a59c54128feebe52299c1f,more coding style fixes.
agentzh,2013-07-30 19:54:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e4641a3c77c04458954378d22f2bc84221c4bd5b,e4641a3c77c04458954378d22f2bc84221c4bd5b,more coding style fixes.
agentzh,2013-07-30 19:50:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5edc4b3fc0311a0745272924af0ad6cac802b560,5edc4b3fc0311a0745272924af0ad6cac802b560,one minor coding style fix. thanks Guanlan Dai.
agentzh,2013-07-30 02:32:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c6426fb5ed4e9b9ad5380b0d42f8882cc3c0b8d4,c6426fb5ed4e9b9ad5380b0d42f8882cc3c0b8d4,fixed the test plan in t/033-ctx.t.
agentzh,2013-07-30 02:23:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0aa9332f59d498c19c770d5a8ebb12cd533b07b3,0aa9332f59d498c19c770d5a8ebb12cd533b07b3,"bugfix: we incorrectly returned 500 in our output header filter, body filter, and log-phase handlers upon errors. bugfix: Lua stack overflow might happen when we failed to load Lua code from the code cache."
agentzh,2013-07-30 01:10:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/629330431d96d2d2f1688984d7c8621f06f5d5a2,629330431d96d2d2f1688984d7c8621f06f5d5a2,bugfix: memory leak would happen when using ngx.ctx before another nginx module (other than ngx_lua) initiates an internal redirect.
agentzh,2013-07-30 01:05:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/32aadb76d9dfcdf672bb5d9ff6983363d3c041ed,32aadb76d9dfcdf672bb5d9ff6983363d3c041ed,fixed a test case.
agentzh,2013-07-29 20:26:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e24ffb7518e7560df9673f513f11a5a66fadcdb1,e24ffb7518e7560df9673f513f11a5a66fadcdb1,bugfix: use of the ngx.ctx table in the context of ngx.timer callbacks would leak memory.
agentzh,2013-07-29 20:11:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ffe89f22642e2d1b39f96ea4a74b7d04fffb32cd,ffe89f22642e2d1b39f96ea4a74b7d04fffb32cd,refactor: abstracted the ngx.ctx releasing logic to eliminate code duplication.
agentzh,2013-07-29 20:03:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/00c5fb411852a1a31c185b225925a705c259c0d1,00c5fb411852a1a31c185b225925a705c259c0d1,one minor coding style fix.
agentzh,2013-07-28 06:08:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6859f6f8ba5690dfad50e58a869197addca4acea,6859f6f8ba5690dfad50e58a869197addca4acea,minor error message fixes in the Lua code cache.
agentzh,2013-07-28 06:02:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/197332049e830b25734447dae29088c58f0a16f6,197332049e830b25734447dae29088c58f0a16f6,added a (passing) test for using .lua files with a shebang line in the content_by_lua_file directive.
agentzh,2013-07-28 05:55:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d1c654b3ef1a665416a87cbb18106c8f88f72543,d1c654b3ef1a665416a87cbb18106c8f88f72543,bugfix: the error message was misleading when the *_by_lua_file directives failed to load the Lua file specified.
agentzh,2013-07-28 05:13:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fb38e4b277c45d0e595e78775197ee45f0a0eaab,fb38e4b277c45d0e595e78775197ee45f0a0eaab,various coding style fixes in the closure factory.
agentzh,2013-07-28 05:01:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1db1e71f18730721314199e174c5ec3d066b7a7a,1db1e71f18730721314199e174c5ec3d066b7a7a,refactor: removed the useless code for reading Lua code from stdin.
agentzh,2013-07-28 02:35:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fadd28a11e3dd50931112e4e5c21d7061ed8f8cc,fadd28a11e3dd50931112e4e5c21d7061ed8f8cc,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2013-07-28 02:31:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/918f9a2391a86566920e480e6721b11dda3f45de,918f9a2391a86566920e480e6721b11dda3f45de,refactor: removed the unused C function ngx_http_lua_clfactory_loadstring.
agentzh,2013-07-23 18:41:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/df35583dd826297a4e53e8107f115f9442c11337,df35583dd826297a4e53e8107f115f9442c11337,"Merge pull request #262 from cubicdaiya/issues/traditional_definition

give the argument of 'void' to function definitions which has no arguments"
cubicdaiya,2013-07-23 13:41:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/60902726d4a7164a70aec9db05d0cc68686f32ad,60902726d4a7164a70aec9db05d0cc68686f32ad,"give the argument of 'void' to function definitions which has no arguments

A function definition which has no arguments is
traditional-style and deprecated"
agentzh,2013-07-23 01:21:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eecb52bc480c7a06834ccde97d65202b7d68fc4c,eecb52bc480c7a06834ccde97d65202b7d68fc4c,"bugfix: when our atpanic handler for Lua VM gets called, the Lua VM is not recoverable for future use. so now we try to quit the current nginx worker gracefully so that the nginx master can spawn a new one."
agentzh,2013-07-18 19:53:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0d8143091437cdeeaf4c77309a3da07f350a59e1,0d8143091437cdeeaf4c77309a3da07f350a59e1,bumped version to 0.8.5.
agentzh,2013-07-17 19:31:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4516e5adf95781fd97c466564ae7ec27137553e1,4516e5adf95781fd97c466564ae7ec27137553e1,docs: documented the memory freeing behavior of shdict:flush_all and shdict:flush_expired.
agentzh,2013-07-17 04:46:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f36a35d39f70ccdb665b767c86ff5e08d601345d,f36a35d39f70ccdb665b767c86ff5e08d601345d,documented the lua_regex_match_limit directive.
agentzh,2013-07-17 02:35:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9d017a21ed7c4c05bd0893be30de9c44286ebf17,9d017a21ed7c4c05bd0893be30de9c44286ebf17,feature: added new directive lua_regex_match_limit for setting PCRE match_limit for regex matching.
agentzh,2013-07-15 19:39:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0aca2046ff048f94e93118f235c99f45c46d8db1,0aca2046ff048f94e93118f235c99f45c46d8db1,"bugfix: when compiling with -DDDEBUG=1, there was a compilation error in ngx_http_lua_uthread.c. thanks tigeryang for the report in #259."
agentzh,2013-07-15 19:30:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8708f604f584dacc9397dc8006aa0b7df7833e7a,8708f604f584dacc9397dc8006aa0b7df7833e7a,docs: typo fixes in the code sample for body_filter_by_lua. thanks cyberty for reporting this issue as #261.
agentzh,2013-07-15 07:07:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fe467e52bc91673780464c379346e5852ac3b163,fe467e52bc91673780464c379346e5852ac3b163,"bugfix: the ngx.ctx tables would leak memory when ngx.ctx, ngx.exec()/ngx.req.set_uri(uri, true), and log_by_lua were used together in a single location. thanks Guanlan Dai for writing the gdb utils to catch this."
agentzh,2013-07-15 06:52:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a184a9111254a2abf040e713399f5b9f080300ec,a184a9111254a2abf040e713399f5b9f080300ec,util/build2.sh: default to nginx 1.4.1 now.
agentzh,2013-07-11 06:18:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/76c2427ac56f94f708f8b4ae08874918d99fe53b,76c2427ac56f94f708f8b4ae08874918d99fe53b,test: made the resolver less possible to time out in two test cases.
agentzh,2013-07-11 06:09:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4656a290b3d4c7bdc2d5490d418856ac9c629295,4656a290b3d4c7bdc2d5490d418856ac9c629295,docs: bumped version to 0.8.4; also mentioned Nginx Systemtap Toolkit.
agentzh,2013-07-10 00:00:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4d27348ccb1761c1659707f9c1edadb7044f7832,4d27348ccb1761c1659707f9c1edadb7044f7832,"bugfix: tcpsock:send("""") resulted in the error log alert message ""send() returned zero""."
agentzh,2013-07-08 23:50:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6977e95185891a7d58d0d65b33643fae84fd1a78,6977e95185891a7d58d0d65b33643fae84fd1a78,bugfix: setting ngx.var.VARIABLE could lead to stack buffer over-read in luaL_error when an error happened.
agentzh,2013-07-03 00:38:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/25ef1f9426bb5bbbf6181a0f776f855a03c43bab,25ef1f9426bb5bbbf6181a0f776f855a03c43bab,"feature: added pure C API for ngx.exit, which is expected to be used with LuaJIT FFI (or lua-resty-core in particular). also added coroutine._yield for the original std version of coroutine.yield."
agentzh,2013-07-03 00:30:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d86d3dc6f87465a9e03a95100b42777c1817878c,d86d3dc6f87465a9e03a95100b42777c1817878c,Merge remote-tracking branch 'origin/master' into ffi
agentzh,2013-07-03 00:28:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5e256f8bf53085498ae0b6fbe51d950de32ea45b,5e256f8bf53085498ae0b6fbe51d950de32ea45b,refactor: now we store the nginx request object as a named Lua global variable __ngx_req to help FFI-based Lua code access it.
agentzh,2013-07-03 00:11:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d82196f7fd0f074335ea3434826c303383a5e0f8,d82196f7fd0f074335ea3434826c303383a5e0f8,bugfix: t::TestNginxLua: env TEST_NGINX_INIT_BY_LUA would break existing init_by_lua_file directive in the test case.
agentzh,2013-07-02 04:27:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0e5d1a8925977a14d3a9dcae6a6060f9b3de57f4,0e5d1a8925977a14d3a9dcae6a6060f9b3de57f4,Merge branch 'master' into ffi
agentzh,2013-07-02 02:11:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/569cabe17879bf56e33e5a9ea18b3a31a4fddfc0,569cabe17879bf56e33e5a9ea18b3a31a4fddfc0,refactor: no longer store cf->log into the lua registry table because we can directly access the global ngx_cycle->log thing.
agentzh,2013-07-02 02:04:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d9e3e8feea40387898bee972dc6cdf904f010b85,d9e3e8feea40387898bee972dc6cdf904f010b85,refactor: added inline functions ngx_http_lua_get_req and ngx_http_lua_set_req to eliminate code duplication when storing or fetching the nginx request object from the lua global variable table.
agentzh,2013-07-02 02:03:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fe27fc2a4c68d59688a73e2c8812709318af9854,fe27fc2a4c68d59688a73e2c8812709318af9854,updated README.markdown to reflect recent changes in docs.
agentzh,2013-07-02 01:20:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f05ef37b995a93978cfbfcfb1e91e612d277e7a4,f05ef37b995a93978cfbfcfb1e91e612d277e7a4,optimize: avoided use of the nginx request objects in ngx.encode_args.
agentzh,2013-07-02 00:49:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5a0bb76e6654bfefd85a55ce1eb9f6a8d79efed0,5a0bb76e6654bfefd85a55ce1eb9f6a8d79efed0,"optimize: avoided use of the nginx request objects in ngx.escape_uri, ngx.unescape_uri, ngx.quote_sql_str, ngx.decode_base64, ngx.encode_base64, and ngx.decode_args."
agentzh,2013-07-01 23:53:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/488ab67c00529dc9bfb0e4ffc7fd342a26d52fa2,488ab67c00529dc9bfb0e4ffc7fd342a26d52fa2,Merge branch 'master' into ffi
agentzh,2013-06-20 23:02:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d8aa2fedacd057dbf79e6d3091cce8e27b15d79e,d8aa2fedacd057dbf79e6d3091cce8e27b15d79e,updated docs to reflect recent changes.
agentzh,2013-06-19 05:47:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ff9580dd3527cf1c2de1523a32186fc97c761555,ff9580dd3527cf1c2de1523a32186fc97c761555,bugfix: ngx.flush(true) might not return 1 on success.
agentzh,2013-06-19 02:09:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5a880aea932f0465f1fc8a2bc898416a6c51980c,5a880aea932f0465f1fc8a2bc898416a6c51980c,"change: made ngx.say/ngx.print/ngx.eof/ngx.flush/ngx.send_headers return nil and a string describing the error in case of most of the common errors (instead of throwing out an exception), and return 1 for success."
agentzh,2013-06-10 23:33:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cf4f62a62032bf7ac70a1c9db19c37aab198d370,cf4f62a62032bf7ac70a1c9db19c37aab198d370,updated .gitignore a bit.
agentzh,2013-06-10 23:33:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b07a3d3c5f28b790dc5b4daee12b90a612b8ccdb,b07a3d3c5f28b790dc5b4daee12b90a612b8ccdb,fixed failing test cases to reflect the multi-value header change in nginx 1.4.1.
agentzh,2013-06-09 05:55:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f40a50427420708b1b8f6740546b942cb4cfa419,f40a50427420708b1b8f6740546b942cb4cfa419,"tests: replaced the domain name ""direct.agentzh.org"" with ""agentzh.org""."
agentzh,2013-06-07 19:43:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/34f4042f230e197a608e31278042c32acba6f59f,34f4042f230e197a608e31278042c32acba6f59f,"Revert ""bugfix: use of LuaJIT FFI when disabling the Lua code cache would lead to LuaJIT GC assertion failures like ""g->gc.total == sizeof(GG_State)"" because we unloaded the standard ""ffi"" module. thanks Ron Gomes for reporting this issue.""

Preventing unloading ""ffi"" does not reallys solve the issue here because
we can end up with FFI ctype redefinition errors.

This reverts commit b3218be26612282109897651ed5ccd4ab18a9e06."
agentzh,2013-05-30 23:20:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b3218be26612282109897651ed5ccd4ab18a9e06,b3218be26612282109897651ed5ccd4ab18a9e06,"bugfix: use of LuaJIT FFI when disabling the Lua code cache would lead to LuaJIT GC assertion failures like ""g->gc.total == sizeof(GG_State)"" because we unloaded the standard ""ffi"" module. thanks Ron Gomes for reporting this issue."
agentzh,2013-05-24 07:16:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/48067c830c5a52625ca0a459de19a0d688265cae,48067c830c5a52625ca0a459de19a0d688265cae,"feature: added pure C API for ngx.re.sub and ngx.re.gsub, which is expected to be used by lua-resty-core and etc."
agentzh,2013-05-23 23:12:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ef8779b188b7e982fe2d4c12818bdc30d43b2118,ef8779b188b7e982fe2d4c12818bdc30d43b2118,Merge remote-tracking branch 'origin/master' into ffi
agentzh,2013-05-23 19:21:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/39151875d709b1e528bad448bf99531cb169f1c7,39151875d709b1e528bad448bf99531cb169f1c7,updated docs to reflect recent changes.
agentzh,2013-05-21 23:15:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/63a9915d33fe7af240bf15655ebdc9553642f617,63a9915d33fe7af240bf15655ebdc9553642f617,added (passing) tests for use of the $invalid_referer variable in Lua. this requires the patch invalid_referer_hash for the nginx core (for now). thanks Fry-kun for reporting this issue as github #239.
agentzh,2013-05-15 00:14:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f50c7789bc211bf5fd15b07924aea24b8fafcbcd,f50c7789bc211bf5fd15b07924aea24b8fafcbcd,bugfix: a test case would fail when TEST_NGINX_PORT was set to port numbers other than 1985.
agentzh,2013-05-14 01:10:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9e4f9272d595e4df5dbefd12cc448648595e0727,9e4f9272d595e4df5dbefd12cc448648595e0727,Merge remote-tracking branch 'origin/master' into ffi
agentzh,2013-05-14 01:09:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/603c7a479672b0f7dd8a189c2ac681179ddb642a,603c7a479672b0f7dd8a189c2ac681179ddb642a,refactor: made the error messages for replacement template compilation failures less verbose in ngx.re.sub and ngx.re.gsub.
agentzh,2013-05-09 04:39:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/52bc57345189e0f8e62ef03d07255d6c8e25edd8,52bc57345189e0f8e62ef03d07255d6c8e25edd8,Merge remote-tracking branch 'origin/master' into ffi
agentzh,2013-05-09 04:37:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bd679f20ef7e89fd2200f34617dd5e72752b6f18,bd679f20ef7e89fd2200f34617dd5e72752b6f18,refactor: save the ngx_log_t pointer instead of the ngx_http_request_t pointer in ngx_http_lua_script_engine_t. this will make the new FFI-based Lua API easier to implement.
agentzh,2013-05-08 02:27:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f20bc6610968bc1a6b3a4fb6b6cbb60fd33cb3d2,f20bc6610968bc1a6b3a4fb6b6cbb60fd33cb3d2,added custom test scaffold t::TestNginxLua which subclasses Test::Nginx::Socket. it supports the environment TEST_NGINX_INIT_BY_LUA which can be used to add more custom Lua code to the value of the init_by_lua directive in the nginx configuration.
agentzh,2013-05-09 01:27:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/300b167bd4a0eec87845f5af304e2a604bb4b0b2,300b167bd4a0eec87845f5af304e2a604bb4b0b2,fixed a test that may time out unexpectedly.
agentzh,2013-05-09 00:32:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5cd82926fc3fe8b545b2454d305be147d3d937d7,5cd82926fc3fe8b545b2454d305be147d3d937d7,bugfix: no longer automatically turn underscores (_) to dashes (-) in header names for ngx.req.set_header and ngx.req.clear_header. thanks aviramc for the report.
agentzh,2013-05-08 20:08:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9cfcb06ba8aec67c40ce789c04ef988d5a215b2e,9cfcb06ba8aec67c40ce789c04ef988d5a215b2e,bugfix: segmentation fault might happen in nginx 1.4.x when calling ngx.req.set_header on the Cookie request headers because recent versions of nginx no longer always initialize r->headers_in.cookies. thanks Rob W for reporting this issue as #237.
agentzh,2013-05-08 06:19:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/06da40f9b9313a7fb2be363a6922fdf1308096fe,06da40f9b9313a7fb2be363a6922fdf1308096fe,style: fixed one line's indentation.
agentzh,2013-05-08 02:27:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/71e16c46d2bbd9e2b76ec64b4cc0e2ac9929ab33,71e16c46d2bbd9e2b76ec64b4cc0e2ac9929ab33,added custom test scaffold t::TestNginxLua which subclasses Test::Nginx::Socket. it supports the environment TEST_NGINX_INIT_BY_LUA which can be used to add more custom Lua code to the value of the init_by_lua directive in the nginx configuration.
agentzh,2013-05-08 02:13:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1f1a31c7bdc2171e184c5e7ac516f12ddcff82c3,1f1a31c7bdc2171e184c5e7ac516f12ddcff82c3,"feature: added pure C API for ngx.re.match, which is expected to be used by lua-resty-core and etc."
agentzh,2013-05-08 02:05:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/170d8f9d7a8356e8c7fd1d374d9bfb796c4364cb,170d8f9d7a8356e8c7fd1d374d9bfb796c4364cb,bugfix: ngx_http_lua_ffi_escape_uri did URI unescaping instead of URI escaping.
agentzh,2013-05-08 01:55:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1bf2344ca0d32dea9bb4013ce018aca7a36cf020,1bf2344ca0d32dea9bb4013ce018aca7a36cf020,Merge remote-tracking branch 'origin/master' into ffi
agentzh,2013-05-08 01:54:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/31a80431ccc8d1d3a76fdcf29ddd5f3e8cb423fe,31a80431ccc8d1d3a76fdcf29ddd5f3e8cb423fe,fixed some expected error messages in the ngx.re test cases for Lua implementations of the ngx_lua API like lua-resty-core.
agentzh,2013-05-08 01:30:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e8ec21e9ab96a70f45dc129eeee99382b1f04f47,e8ec21e9ab96a70f45dc129eeee99382b1f04f47,Merge remote-tracking branch 'origin/master' into ffi
agentzh,2013-05-08 01:30:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9b8a7b5e033f0a4e4bdd1f43fcf786e94d8d558f,9b8a7b5e033f0a4e4bdd1f43fcf786e94d8d558f,change: made more error messages for regex exec failures less verbose.
agentzh,2013-05-08 01:26:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a80d4e1d67048c0effa2a1cddd2d1acf3ef1f071,a80d4e1d67048c0effa2a1cddd2d1acf3ef1f071,Merge remote-tracking branch 'origin/master' into ffi
agentzh,2013-05-08 01:25:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5c5a0a87bafe08e8080d0b31ad5afa3f3ce1aebb,5c5a0a87bafe08e8080d0b31ad5afa3f3ce1aebb,change: made the error messages for regex exec failures less verbose.
agentzh,2013-05-08 01:14:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ece37a98ef011edca82939f1651b5a68ef1e0dbe,ece37a98ef011edca82939f1651b5a68ef1e0dbe,Merge remote-tracking branch 'origin/master' into ffi
agentzh,2013-05-08 01:07:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/35e6a65f9f7e8b7f093247ce7795c272bb1af85b,35e6a65f9f7e8b7f093247ce7795c272bb1af85b,change: made the error messages for regex compilation failures less verbose.
agentzh,2013-05-08 00:14:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0e9fbdfb7df14de4d0f319f283a8ffed441723d7,0e9fbdfb7df14de4d0f319f283a8ffed441723d7,Merge remote-tracking branch 'origin/master' into ffi
agentzh,2013-05-07 23:03:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4806fc2eefa925308650ba514e5530d966f3ba81,4806fc2eefa925308650ba514e5530d966f3ba81,"bugfix: fixed the warning ""argument 'nret' might be clobbered by 'longjmp' or 'vfork'"" when compiling with Ubuntu 13.04's gcc 4.7.3. thanks jacky and Rajeev's reports."
agentzh,2013-05-07 20:01:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/41e3c2f5b9511025b6aaa3dff8c27e1c5bde7219,41e3c2f5b9511025b6aaa3dff8c27e1c5bde7219,docs: documented the new WebDAV request methods; also fixed a small typo.
agentzh,2013-05-07 19:34:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b4c2ad1f8e37156a67f5373277a8335d3315221e,b4c2ad1f8e37156a67f5373277a8335d3315221e,"feature: added ngx.HTTP_MKCOL, ngx.HTTP_COPY, ngx.HTTP_MOVE, and other WebDAV request method constants; also added corresponding support to ngx.req.set_method and ngx.location.capture. thanks Adallom Roy for the patch."
agentzh,2013-05-03 23:30:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/601ddff378b71a7d8903925bef5fd8f9496a4677,601ddff378b71a7d8903925bef5fd8f9496a4677,optimize: ngx.escape_uri now runs faster when the input string contains no special chars to be escaped.
agentzh,2013-05-03 23:25:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b7b728926a28fe46e2fbdebe95653fb2d0d4a0cd,b7b728926a28fe46e2fbdebe95653fb2d0d4a0cd,"bugfix: temporary memory leaks might happen when using ngx.escape_uri, ngx.unescape_uri, ngx.quote_sql_str, ngx.decode_base64, and ngx.encode_base64 in tight Lua loops because we allocated memory in nginx's request memory pool for these methods."
agentzh,2013-05-03 23:18:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f442858bb9a3916767e822abb6fd297345fc445c,f442858bb9a3916767e822abb6fd297345fc445c,"minor coding style fixes and micro optimizations in ngx.md5, ngx.encode_base64, and ngx.decode_base64."
agentzh,2013-05-01 04:10:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1cc76f59782cfc11f511a8ce2019b28e9274b359,1cc76f59782cfc11f511a8ce2019b28e9274b359,"feature: allow injecting new APIs into the ""ngx"" table."
agentzh,2013-05-03 22:49:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c04c51a2324bff2f4d8d761a889722055b7546a3,c04c51a2324bff2f4d8d761a889722055b7546a3,"bugfix: ngx.req.set_body_file() always enabled Direct I/O which caused the alert message ""fcntl(O_DIRECT) ... Invalid argument"" in error logs on file systems lacking the Direct I/O support. buffer corruption might happen in ngx.req.set_body_file() when nginx upstream modules are used later because ngx.req.set_body_file() incorrectly set r->request_body->buf to the in-file buffer which could get reused by ngx_http_upstream for its own purposes. thanks Matthieu Tourne for reporting this issue."
agentzh,2013-05-01 05:54:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5cb2b4946efe98aaa704c9246b776915d894d7fc,5cb2b4946efe98aaa704c9246b776915d894d7fc,"feature: added pure C API for ngx.escape_uri and ngx.unescape_uri, which is expected to be used by lua-resty-core and etc."
agentzh,2013-05-01 04:38:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0ab77f96403b5628dbfdb12932acc0e41cb0235f,0ab77f96403b5628dbfdb12932acc0e41cb0235f,"feature: added pure C API for ngx.encode_base64 and ngx.decode_base64, which is expected to be used by lua-resty-core and etc."
agentzh,2013-05-01 04:11:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c355f0b5bc2abde34f140edf596769b4d92ff0e8,c355f0b5bc2abde34f140edf596769b4d92ff0e8,bugfix: failed to compile when SHA1 support is missing. this regression had appeared in cea321f7f9e2614c9e0932e367d15502507fa7e9.
agentzh,2013-05-01 04:10:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6ef7cef0dc444f782499e94b5fcecc61b82ac12b,6ef7cef0dc444f782499e94b5fcecc61b82ac12b,"feature: allow injecting new APIs into the ""ngx"" table."
agentzh,2013-04-30 23:46:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cea321f7f9e2614c9e0932e367d15502507fa7e9,cea321f7f9e2614c9e0932e367d15502507fa7e9,"added pure C API for ngx.md5, ngx.md5_bin, ngx.sha1_bin, which is expected to be used with LuaJIT FFI (or lua-resty-core in particular). such API can be excluded by specifying the C macro NGX_HTTP_LUA_NO_FFI_API."
agentzh,2013-04-27 19:48:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/34411875fbea22f4f1ae2a64d3b39f3a3123b3a3,34411875fbea22f4f1ae2a64d3b39f3a3123b3a3,added error log checks to the bytecode tests.
agentzh,2013-04-26 19:41:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e7dff1b3016435fabc33ebbdaa0b18adee1ee4d8,e7dff1b3016435fabc33ebbdaa0b18adee1ee4d8,updated the docs in plain text and markdown format to reflect recent changes.
agentzh,2013-04-26 19:27:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c558c4347b289ac96e8ad09501629f79251b3911,c558c4347b289ac96e8ad09501629f79251b3911,bumped version to 0.8.1.
agentzh,2013-04-26 06:06:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/04c81b1f84c12c4bed9a9a31b86d03b29525eea6,04c81b1f84c12c4bed9a9a31b86d03b29525eea6,minor coding style fixes.
agentzh,2013-04-26 05:56:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/65ff8d86daeb42d97e9403b0083e5a83179e6774,65ff8d86daeb42d97e9403b0083e5a83179e6774,fixed a test case that may behave slighly differently on slow machines.
agentzh,2013-04-25 02:07:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/790a74e04369d789ed92b11508314e23d1f9a1ef,790a74e04369d789ed92b11508314e23d1f9a1ef,"bugfix: when lua_http10_buffering is on, for HTTP 1.0 requests, ngx.exit(N) would always trigger the nginx's own error pages when N >= 300. thanks Matthieu Tourne for reporting this issue."
agentzh,2013-04-25 00:57:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3052bcd8a3b75c1ecfe6a12ebd6976ef561dd7dd,3052bcd8a3b75c1ecfe6a12ebd6976ef561dd7dd,updated .gitignore a bit.
agentzh,2013-04-25 00:33:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f41226883a73cbdd1ba9fe74a8d5e6d1fbe3bc84,f41226883a73cbdd1ba9fe74a8d5e6d1fbe3bc84,"refactor: removed the unused parameter, ""no_create"", from the ngx_http_set_header_helper function."
agentzh,2013-04-25 00:23:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/30cbc330743c688979a70bbafc1e2367b88d6a4d,30cbc330743c688979a70bbafc1e2367b88d6a4d,fixed several places in the header API where we should return NGX_ERROR instead of NGX_HTTP_INTERNAL_SERVER_ERROR.
agentzh,2013-04-25 00:19:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d1eca0c72ebcac9694036c9a9229f585d1019d38,d1eca0c72ebcac9694036c9a9229f585d1019d38,fixed one test case's title.
agentzh,2013-04-24 23:29:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7695a31e045cdc3999a957e04291c7063c60931d,7695a31e045cdc3999a957e04291c7063c60931d,"documented the new ""U"" regex option for the ngx.re API."
agentzh,2013-04-24 23:13:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7e515f189ee6d10e30291e351b9a7ce1879597c5,7e515f189ee6d10e30291e351b9a7ce1879597c5,"bugfix: modifying the Cookie request headers via ngx.req.set_header or ngx.req.clear_header did not update the Nginx internal data structure, r->headers_in.cookies, at the same time, which might cause issues when reading variables $cookie_COOKIE, for example. thanks Matthieu Tourne for the patch."
agentzh,2013-04-24 05:19:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0ac676f65413c1f05c54bbdce52b0336cdf024a3,0ac676f65413c1f05c54bbdce52b0336cdf024a3,"feature: added the ""U"" regex option to the ngx.re API to mean enabling the UTF-8 matching mode but disabling UTF-8 validity check on the subject strings. thanks Lance Li for the patch in #227."
agentzh,2013-04-24 04:58:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/766563fba3eb47150827d0ed465d8b3663b1024f,766563fba3eb47150827d0ed465d8b3663b1024f,one minor coding style fix.
agentzh,2013-04-24 03:43:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b90e7dd1ab93d68499d17520b4c88c91c2914b71,b90e7dd1ab93d68499d17520b4c88c91c2914b71,bugfix: modifying the Via request header with ngx.req.set_header/ngx.req.clear_header did not update the special field r->headers_in.via when the ngx_gzip module was enabled.
agentzh,2013-04-24 03:31:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/97425f8dc6963e4055ac43cebd730df3bfe676a4,97425f8dc6963e4055ac43cebd730df3bfe676a4,bugfix: ngx.req.set_header/ngx.req.clear_header did not update the special field r->headers_in.x_real_ip when the ngx_realip module was enabled. thanks Matthieu Tourne for the patch.
agentzh,2013-04-24 02:05:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a07df6151a03ec99c7aa0439e7bba93464ed6249,a07df6151a03ec99c7aa0439e7bba93464ed6249,"bugfix: modifying the Connection request header via ngx.req.set_header or ngx.req.clear_header did not update the special internal flags in the Nginx core, ""r->headers_in.connection_type"" and ""r->headers_in.keep_alive_n"". Thanks Matthieu Tourne for the patch."
agentzh,2013-04-24 01:07:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/55555a78a0faa2ef2887708213807877fcd0bf51,55555a78a0faa2ef2887708213807877fcd0bf51,"bugfix: modifying the User-Agent request header via ngx.req.set_header or ngx.req.clear_header did not update those special internal flags in the Nginx core, like ""r->headers_in.msie6"" and ""r->headers_in.opera"". Thanks Matthieu Tourne for the patch."
agentzh,2013-04-23 19:29:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2aa12ab3dff506c8fa300df75e33fba4367509d4,2aa12ab3dff506c8fa300df75e33fba4367509d4,bumped version to 0.8.0.
agentzh,2013-04-23 00:18:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/656551e6181369ff62608cef57f219dc11a8bf3c,656551e6181369ff62608cef57f219dc11a8bf3c,"documented ngx.timer.at, lua_max_pending_timers, lua_max_running_timers, and other recent changes."
agentzh,2013-04-23 00:02:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6afcc17ff157ff55a341d72a4acde62e3e0d61c6,6afcc17ff157ff55a341d72a4acde62e3e0d61c6,"feature: ngx.get_phase() now returns the string ""timer"" when being invoked within a user callback function for ngx.timer.*."
agentzh,2013-04-22 23:14:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d98a193d4ced98cc2b7dd4170fc72a375b8073c4,d98a193d4ced98cc2b7dd4170fc72a375b8073c4,added a (passing) test for using ndk.set_var.* in the context of ngx.timer callbacks.
agentzh,2013-04-21 03:08:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d997f7401fb27fbb9d8aac2e0c00d5a3bb559b87,d997f7401fb27fbb9d8aac2e0c00d5a3bb559b87,"refactor: replaced ""ngx_lua_"" with ""ngx_http_lua_"" in the identifiers used in ngx_http_lua_regex.c."
agentzh,2013-04-21 02:35:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d43a39c59ee5b64077acf6fcb9021882c4375c5e,d43a39c59ee5b64077acf6fcb9021882c4375c5e,"bugfix: setting ngx.header.etag could not affect other things reading the ETag response header (like the ""etag"" directive introduced in nginx 1.3.3+). thanks Brian Akins for the patch in #213."
agentzh,2013-04-20 22:34:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e2d299e500d3156422af1b08385ded0fb9713f1a,e2d299e500d3156422af1b08385ded0fb9713f1a,Merge branch 'timer'
agentzh,2013-04-16 23:17:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f081f212d33689935d020a30240d72ed5e0e3152,f081f212d33689935d020a30240d72ed5e0e3152,bumped version to 0.7.21.
agentzh,2013-04-16 00:34:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b2ae68b7acca4471b33fa86e49a8456110c2e464,b2ae68b7acca4471b33fa86e49a8456110c2e464,"merged ""master"" into ""timer""."
agentzh,2013-04-14 03:03:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6717d1153f5676216dcf4544e3ca20e857478577,6717d1153f5676216dcf4544e3ca20e857478577,"feature: added support for user arguments to the user callback function specified in ngx.timer.add(); the user callback function has the prototype ""function(premature, user_arg1, user_arg2, ...)""."
agentzh,2013-04-13 18:16:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/26d679f8d4071b07c9347e7706b7b45a51d90301,26d679f8d4071b07c9347e7706b7b45a51d90301,bugfix: ngx.req.raw_header() would return an empty string value when the default header buffer (c->buffer) can hold the request line but not the whole header. thanks KDr2 for reporting this issue in #229.
agentzh,2013-04-12 19:29:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/10edc8cb03dc5ed1e2e3572ae327b7e22091ef3b,10edc8cb03dc5ed1e2e3572ae327b7e22091ef3b,added a passing test for calling ngx.timer.at() after HUP reload.
agentzh,2013-04-12 06:59:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/069f07541de5df9a79d7ae912f41c75546749253,069f07541de5df9a79d7ae912f41c75546749253,"feature: when the nginx worker process is quitting (as in server shutdown or HUP reload), all the pending ngx.timer timers expire immediately and their Lua callbacks get called with a true value as the first argument (to indicate whether it is a premature expiration or not)."
agentzh,2013-04-11 22:38:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f820e5476bbbeaa213cd76facc94e29d8d302254,f820e5476bbbeaa213cd76facc94e29d8d302254,Merge branch 'master' into timer
agentzh,2013-04-11 19:48:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4e8c4bfcbd333ebedcfe04088b3b2917c5c17268,4e8c4bfcbd333ebedcfe04088b3b2917c5c17268,"bugfix: boolean values in an array table were rejected with the exception ""attempt to use boolean as query arg value"" while encoding a lua (hash) table as URL arguments. thanks Calin Don for reporting this issue."
agentzh,2013-04-10 00:38:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5df2ec9faf5c1708c9605dcb99d57a090ba14d66,5df2ec9faf5c1708c9605dcb99d57a090ba14d66,Merge branch 'master' into timer
agentzh,2013-04-09 23:59:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a414691b8e20047dabdea1ee1bebfe48b968160a,a414691b8e20047dabdea1ee1bebfe48b968160a,updated docs to reflect recent changes.
agentzh,2013-04-07 02:10:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/71bf29a2f3e97d11195e84d9dbffcee9555150a7,71bf29a2f3e97d11195e84d9dbffcee9555150a7,"merged ""master"" branch to ""timer""."
agentzh,2013-04-07 01:03:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7c6484dc20ae1333d3c353b53084aa8f8de327f2,7c6484dc20ae1333d3c353b53084aa8f8de327f2,updated tests to reflect recent changes in the upstream_truncation patch for the nginx core.
agentzh,2013-04-06 20:12:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/59fe204e928e60f540b7de6aaa7a67ab88e43dff,59fe204e928e60f540b7de6aaa7a67ab88e43dff,added error log checks in 000--init.t.
agentzh,2013-04-06 20:08:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4eeb47626cae2cf3744fe7f8018bc50951976aaa,4eeb47626cae2cf3744fe7f8018bc50951976aaa,removed too short proxy read timeout settings in two cases that are expected to pass.
agentzh,2013-04-05 01:57:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9e3b32f90cde1e2b7265298082e3003ee63f83e8,9e3b32f90cde1e2b7265298082e3003ee63f83e8,fixed a test case that might fail in slow testing modes.
agentzh,2013-04-05 01:36:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b408d5be9d8942602fec7228674a93f5226c6d6a,b408d5be9d8942602fec7228674a93f5226c6d6a,"feature: ngx.location.capture and ngx.location.capture_multi now return a lua table with the boolean field ""truncated"", which indicates whether the subrequest response body is truncated. bugfix: we no longer override the subrequest response status code later when error happens."
agentzh,2013-04-04 18:49:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e9f9fdd3afe087b3ce87c2351b1d108f39927721,e9f9fdd3afe087b3ce87c2351b1d108f39927721,"bugfix: request hung when rewrite cycled in ngx.req.set_uri(uri, true) instead of throwing out an error log message and a 500 page properly. thanks Calin Don for the report."
agentzh,2013-04-04 18:25:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/74617ac4c9e784021f4ff5c89f731872a3d0bce1,74617ac4c9e784021f4ff5c89f731872a3d0bce1,"bugfix: the debug log message ""lua set uri jump to <uri>"" generated by ngx.req.set_uri(uri, true) was wrong for <uri> was the old URI."
agentzh,2013-04-03 03:41:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8dc910197c7261235d2344ee2ecccad1cc416799,8dc910197c7261235d2344ee2ecccad1cc416799,tests: made two systemtap-based test cases less possible to fail in slow testing mode.
agentzh,2013-04-02 18:54:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/40bc1bb0f4ef191e285b066a2a0c682dbf1c9ae6,40bc1bb0f4ef191e285b066a2a0c682dbf1c9ae6,tests: ensure that TEST_NGINX_USE_STAP is unset when TEST_NGINX_USE_HUP is set.
agentzh,2013-04-02 06:38:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3c6379264ef46aff7cef803e975610e2ac5a73be,3c6379264ef46aff7cef803e975610e2ac5a73be,Merge remote-tracking branch 'origin/master' into timer
agentzh,2013-04-02 06:37:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c7a0cf5f24c661f6c9bc2c5e6e7fc2839815ecfa,c7a0cf5f24c661f6c9bc2c5e6e7fc2839815ecfa,Merge remote-tracking branch 'origin/master' into timer
agentzh,2013-04-02 06:36:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2ac8d8943917b0a5fdbc39a9e2a30b4105f43e75,2ac8d8943917b0a5fdbc39a9e2a30b4105f43e75,"feature: added new Lua API, ngx.timer.at(time, callback), for defining timers that can run the user callback as a Lua ""light thread"" (detached from the current request) after the time (in seconds) specified. also added new configure directives lua_max_pending_timers and lua_max_running_timers for limiting the number of pending timers and ""running"" timers."
agentzh,2013-03-31 19:12:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a352e1fd6b0594306961c8af4e628f03ada11c59,a352e1fd6b0594306961c8af4e628f03ada11c59,feature: now we allow zero time argument in ngx.sleep().
agentzh,2013-03-29 17:59:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/66e2ccbfae3bda08064627b0ac3ee59e82f313b0,66e2ccbfae3bda08064627b0ac3ee59e82f313b0,bugfix: assignment to ngx.status did not take effect when the response status line had already been generated (by ngx_proxy or others). thanks eqiuno for reporting this issue in #221.
agentzh,2013-03-27 19:41:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d4b8c7d84eda2594d13e7521fd763336a5250130,d4b8c7d84eda2594d13e7521fd763336a5250130,bumped version to 0.7.19.
agentzh,2013-03-27 05:34:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f203b5f460a6b4e50a085803524494af8b304e35,f203b5f460a6b4e50a085803524494af8b304e35,ngx.req.raw_header: added a buffer size assertion and two more (passing) tests regarding some special cases.
agentzh,2013-03-27 01:09:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/664d74ed7fc6761efb1c07cb948f583ce54ddd81,664d74ed7fc6761efb1c07cb948f583ce54ddd81,bugfix: ngx.req.raw_header() would return the first part of the request body when request body was read before the call. thanks Matthieu Tourne for reporting this issue. bugfix: ngx.req.raw_header() might not work properly in a subrequest.
agentzh,2013-03-25 05:15:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5193cff298c611251c07fcd8dcef3ed2e4efd429,5193cff298c611251c07fcd8dcef3ed2e4efd429,updated docs to reflect recent changes.
agentzh,2013-03-25 00:39:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c7879f30fb81428143fe9b2f6238e0bdd44f1c15,c7879f30fb81428143fe9b2f6238e0bdd44f1c15,"raised the error log level back to ""warn"" for 087-udp-socket.t, which contains test cases that can flush error logs a lot which may lead to timeouts."
agentzh,2013-03-24 18:11:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/168eb3878baf04df4fc8281ab603039236b1f53a,168eb3878baf04df4fc8281ab603039236b1f53a,typo fixes in the tests for udp cosockets.
agentzh,2013-03-24 18:10:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/357f25d10a649c65cdb6abbbac77d5be01c39f56,357f25d10a649c65cdb6abbbac77d5be01c39f56,added a (passing) test for ensuring the resolver gets shut down properly when it fails to resolve a domain.
agentzh,2013-03-24 05:44:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/84c4d1833954674e772b3d7662b9495d5f0ae144,84c4d1833954674e772b3d7662b9495d5f0ae144,bugfix: ngx.socket.udp: memory leaks or invalid memory accesses might happen when the DNS resolver failed to resolve.
agentzh,2013-03-23 07:39:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7f94cb208c7a059a4c070efae43b1faad78671af,7f94cb208c7a059a4c070efae43b1faad78671af,fixed some test cases which may fail in slow testing modes.
agentzh,2013-03-22 02:31:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/16db13b8871d3a67826b4a86e9f8465e22ba7bf8,16db13b8871d3a67826b4a86e9f8465e22ba7bf8,eliminated the use of the cjson library in a recently-added test case.
agentzh,2013-03-21 19:00:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a38ceeb00239ce3e4c0279d5c7da573ae0d6e03b,a38ceeb00239ce3e4c0279d5c7da573ae0d6e03b,optimize: we now use the bind() call to do autobind for datagram unix domain sockets in ngx.socket.udp() on Linux instead of abusing the side effect of SO_PASSCRED. thanks Dirk Feytons for the suggestion.
agentzh,2013-03-21 02:08:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/57e3a3a9fa29c00af45f2691efc96f9d722f199c,57e3a3a9fa29c00af45f2691efc96f9d722f199c,"added a test case for github issue #218, which requires the run_posted_requests_in_resolver patch for the nginx core to get passed."
agentzh,2013-03-21 00:21:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dbde4c390769c56fb2669e4cd083273e6a903918,dbde4c390769c56fb2669e4cd083273e6a903918,optimize: fixed the initial size of the ngx.shared table and also updated the tests accordingly.
agentzh,2013-03-21 00:06:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4751625f890163b8a63cd1e357e50777a6fb1298,4751625f890163b8a63cd1e357e50777a6fb1298,Merge branch 'ngx-re-no-exceptions'
agentzh,2013-03-20 23:58:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3ad47790ed39a0eed6cce88cf0d11e9d62264834,3ad47790ed39a0eed6cce88cf0d11e9d62264834,Merge branch 'shdict-safe-store'
agentzh,2013-03-20 23:35:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d52ed6c2a8fa706742379f6c6040136ef8954f9b,d52ed6c2a8fa706742379f6c6040136ef8954f9b,Merge branch 'master' into subreq-body-in-file
agentzh,2013-03-20 19:47:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f4ffb4f932739483f55ed671c150da3d244a4eab,f4ffb4f932739483f55ed671c150da3d244a4eab,one minor coding style fix.
agentzh,2013-03-20 19:46:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b582064ecc0fe6713ba98d4f963452a2397abc72,b582064ecc0fe6713ba98d4f963452a2397abc72,"bugfix: when a non-table value was specified for the ""args"" option in the ngx.location.capture or ngx.location.capture_multi call, memory invalid access might happen, which resulted in garbage data at least. thanks Siddon Tang for reporting this issue."
agentzh,2013-03-20 04:39:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/182f2e08bfdd5649815ea8544144f2a6aa639b12,182f2e08bfdd5649815ea8544144f2a6aa639b12,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2013-03-20 04:38:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dfc7a4cd71598316413c7766445886353be971ab,dfc7a4cd71598316413c7766445886353be971ab,"feature: datagram unix domain sockets created by ngx.socket.udp() can now receive data from the other endpoint via ""autobind"" on Linux. thanks Dirk Feytons for the patch."
agentzh,2013-03-18 07:07:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d3c549e9f5ad4d847a3224a8e3f80b937120fe5c,d3c549e9f5ad4d847a3224a8e3f80b937120fe5c,bugfix: (large) in-file request bodies could not be inherited correctly by multiple subrequests issued by ngx.location.capture. thanks Matthieu Tourne for reporting this issue.
agentzh,2013-03-18 07:00:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0c8fb04d6baecc4d54a1f13b73f23f69a4e68bbb,0c8fb04d6baecc4d54a1f13b73f23f69a4e68bbb,one minor coding style fix.
agentzh,2013-03-18 03:16:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3ea32c96932ebb63d234cd7b4165d63b350af323,3ea32c96932ebb63d234cd7b4165d63b350af323,"api-change: the ngx.re.match, ngx.re.gmatch, ngx.re.sub, and ngx.re.gsub functions used to throw Lua exceptions aggressively for all the error conditions; now they return an additonal string describing the error for almost all common errors instead of throwing exceptions, including pcre compile-time and exec-time failures. thanks Matthieu Tourne for requesting this change."
agentzh,2013-03-18 00:16:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/17b349e97206c3d0a43cc3a77bd91af20682d030,17b349e97206c3d0a43cc3a77bd91af20682d030,"feature: added new methods safe_set and safe_get to ngx.shared.DICT objects, which never override existing unexpired items but immediately return nil and a ""no memory"" string message when running out of storage. thanks Matthieu Tourne for requesting this."
agentzh,2013-03-17 20:33:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/835aea95fae66cc83557180a19a220cb641ecf8b,835aea95fae66cc83557180a19a220cb641ecf8b,bugfix: invalid memory access might happen when the UDP cosockets were used. this regression had appeared in the commit f84ca22c30091c75955d44bd790a714b1ef0bbe9.
agentzh,2013-03-17 20:18:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a62eadd492759bbbc030b1172c3ddeaaed02d0b7,a62eadd492759bbbc030b1172c3ddeaaed02d0b7,bugfix: invalid memory access might happen when the TCP cosockets were used. this regression had appeared in the commit 04775502b2e348181282345320b727ab1a5a8808.
agentzh,2013-03-17 04:34:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5c4c4e429c7c5af9e7ac0db7a9bcc076f10aa007,5c4c4e429c7c5af9e7ac0db7a9bcc076f10aa007,tests: avoided using taobao.com in the test suite; also decreased the resolver_timeout setting.
agentzh,2013-03-16 06:39:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f84ca22c30091c75955d44bd790a714b1ef0bbe9,f84ca22c30091c75955d44bd790a714b1ef0bbe9,"bugfix: when the Lua code using UDP cosockets + resolver was run in a subrequest, the subrequest could hang due to missing calls to ngx_http_run_posted_requests in the UDP cosocket resolver handler. thanks Lanshun Zhou for reporting this issue in #215."
agentzh,2013-03-16 01:35:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/04775502b2e348181282345320b727ab1a5a8808,04775502b2e348181282345320b727ab1a5a8808,"bugfix: when the Lua code using TCP cosockets + resolver was run in a subrequest, the subrequest could hang due to missing calls to ngx_http_run_posted_requests in the TCP cosocket resolver handler. thanks Lanshun Zhou for reporting this issue in #215."
agentzh,2013-03-11 19:23:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a768a65b25ebfb36a5d3e722db24f41fdc946018,a768a65b25ebfb36a5d3e722db24f41fdc946018,updated docs to reflect recent changes; also bumped the version number to 0.7.17.
agentzh,2013-03-11 03:42:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/88b4fda412f0017dd4e0e8db293e65bb8e43765b,88b4fda412f0017dd4e0e8db293e65bb8e43765b,fixed the timeout settings for large header test cases in 104-req-raw-header.t.
agentzh,2013-03-09 02:10:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d86bb171305d9c550a5179db7c739c8eeb979d43,d86bb171305d9c550a5179db7c739c8eeb979d43,"bugfix: rewrite_by_lua_no_postpone can only work globally and did not reject contexts like ""server"" and ""location"" configuration blocks. thanks Matthieu Tourne for reporting this issue."
agentzh,2013-03-08 00:34:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ba594765fa50691f039831e0b3030b71a5ec58d3,ba594765fa50691f039831e0b3030b71a5ec58d3,"fixed ill-formed HTTP requests in a recently-added test case, which caused issues under the ""check leaks"" testing mode."
agentzh,2013-03-07 23:44:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/545b03fd5e60b9df661d1a6b6335b25082698027,545b03fd5e60b9df661d1a6b6335b25082698027,fixed tests to reflect output format changes in agentzh/echo-nginx-module@2adcf59ec5c3dff7592b9c04dd31d34cf2f778d5.
agentzh,2013-03-07 23:41:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cf568da5966513bc5c4e81d42f4a958a9863a083,cf568da5966513bc5c4e81d42f4a958a9863a083,fixed tests to reflect the typo fix in 4927e75b0507477f425a7296cf44119453363b2d.
agentzh,2013-03-07 01:17:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/53a46aaef95f4ccc74fcbefdfe7230fb0e2dca62,53a46aaef95f4ccc74fcbefdfe7230fb0e2dca62,docs: made it explicit that redirecting to external domains is also supported in ngx.redirect(). thanks Ron Gomes for asking.
agentzh,2013-03-07 01:14:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c95456c872023dd33688943b90d0bff283b0b117,c95456c872023dd33688943b90d0bff283b0b117,feature: implemented the ngx.req.raw_header() function for returning the original raw HTTP protocol header string received by Nginx. thanks Matthieu Tourne for requesting this.
agentzh,2013-03-07 00:01:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4927e75b0507477f425a7296cf44119453363b2d,4927e75b0507477f425a7296cf44119453363b2d,fixed a typo in an error message. thanks Matthieu Tourne for reporting it.
agentzh,2013-03-05 23:59:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/89861df1c300087fa90d51c4f1a097a35314720c,89861df1c300087fa90d51c4f1a097a35314720c,feature: implemented ngx.req.http_version() that returns the HTTP version number for the current request. thanks Matthieu Tourne for requesting this.
agentzh,2013-03-05 06:22:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5361c952997117a7496796371300884859600a80,5361c952997117a7496796371300884859600a80,"bugfix: ngx.req.get_headers(limit, true) would still return header names in the all-lower-case form when the ""limit"" argument was an integer. thanks Matthieu Tourne for reporting this issue."
agentzh,2013-03-05 06:20:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/76910a32d24aecb0b7b4bf7d7982b0f93a9fe249,76910a32d24aecb0b7b4bf7d7982b0f93a9fe249,fixed tests that may fail in slow testing modes.
agentzh,2013-03-05 01:29:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eff99d5dba8351dd4afb464b1fb97804eedf63db,eff99d5dba8351dd4afb464b1fb97804eedf63db,"bugfix: use of ngx.req.socket() could make socket reading hang infinitely when the request did not take a request body at all (that is, when the Content-Length request header is missing). thanks Matthieu Tourne for reporting this issue."
agentzh,2013-03-01 00:49:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/40fabb23bb32ce67ce0f1602277ffd0f3e87d607,40fabb23bb32ce67ce0f1602277ffd0f3e87d607,"bugfix: ngx.re.match: when the ""D"" regex option was specified, an empty Lua table would always be created even when the named capture was actually empty. thanks Matthieu Tourne for reporting this issue."
agentzh,2013-02-23 06:43:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e30ea025c3207dbbe1d3690c305f7bade6d4ad42,e30ea025c3207dbbe1d3690c305f7bade6d4ad42,updated docs to reflect recent changes.
agentzh,2013-02-18 20:07:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eb2d846311632e06db1a51d5af5c6d6a062ed1cd,eb2d846311632e06db1a51d5af5c6d6a062ed1cd,fixed test cases in uthread-spawn.t for slow testing modes.
agentzh,2013-02-15 19:44:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/85841a721f4079ba7ab6fabfd748438291bbf3f4,85841a721f4079ba7ab6fabfd748438291bbf3f4,refactor: renamed ngx_http_lua_script_copy_capture_code_t to ngx_http_lua_script_capture_code_t.
agentzh,2013-02-15 19:41:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5d114acb421a5883d1cca8ba35541495cca94714,5d114acb421a5883d1cca8ba35541495cca94714,"optimize: removed the unsed ""size"" field and related computatins from the script engine."
agentzh,2013-02-15 19:39:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4beec04baab10576ac66cd5bd61c946db8ef17f3,4beec04baab10576ac66cd5bd61c946db8ef17f3,added (passing) tests for using $0 in the replacement template when no capturing parenthese are used in the regexes.
agentzh,2013-02-15 19:33:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e9dd32848964008cc51e98424aad21b25757ca4c,e9dd32848964008cc51e98424aad21b25757ca4c,minor optimizations in the script engine to save a little memory.
agentzh,2013-02-13 05:59:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/57a6471bf1e37c6a77006794920a40439bc7ed82,57a6471bf1e37c6a77006794920a40439bc7ed82,updated docs to reflect recent changes; also bumped version to 0.7.15.
agentzh,2013-02-13 01:13:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/96a18a054f0f960cf21080e12dd982627afbc3f7,96a18a054f0f960cf21080e12dd982627afbc3f7,fixed more test cases using systemtap that could fail expectedly in slow testing modes.
agentzh,2013-02-12 01:42:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/414c6605ad7521d7506d2fc0fa236e0cf3355677,414c6605ad7521d7506d2fc0fa236e0cf3355677,added a (passing) test for github issue #208: coroutine as iterator doesn't work
agentzh,2013-02-12 01:40:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6f347161588a9c7d6c9b47db10a7606cac9621e4,6f347161588a9c7d6c9b47db10a7606cac9621e4,fixed a test case that may fail expectedly in slow testing mode.
agentzh,2013-02-12 00:51:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/49eab61c2386f1e350a952bd26c9b9fae2fe3cb2,49eab61c2386f1e350a952bd26c9b9fae2fe3cb2,bugfix: the original Lua VM error messages might get lost in case of Lua code crashes when user coroutines were used. thanks Dirk Feytons for the report in github issue #208.
agentzh,2013-02-11 23:58:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b5492eedbcc67365a5fb994727bf8f009696d242,b5492eedbcc67365a5fb994727bf8f009696d242,fixed test cases using the deprecated math.mod() method.
agentzh,2013-02-11 20:24:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6d4150994bc1e43b2c00cef5f45696f2e043baaa,6d4150994bc1e43b2c00cef5f45696f2e043baaa,added more info about r->main->count to the debugging logs.
agentzh,2013-01-29 05:37:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e829556764fcae3e993d27fbdc92d84e18e26766,e829556764fcae3e993d27fbdc92d84e18e26766,massive coding style fixes.
agentzh,2013-01-29 00:37:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d931db4573dba942a283542aaa77a7e3af3426b7,d931db4573dba942a283542aaa77a7e3af3426b7,bumped version to 0.7.14.
agentzh,2013-01-29 00:14:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/85bab3a9e460723848a3e1ef96de405ef069f0d1,85bab3a9e460723848a3e1ef96de405ef069f0d1,added a (passing) test to ensure that ngx.req.get_body_data can handle request body bufs more than 2.
agentzh,2013-01-28 01:58:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7c37f85300d81c264d4990c54f825ad524abcc88,7c37f85300d81c264d4990c54f825ad524abcc88,updated valgrind.suppress a bit.
agentzh,2013-01-27 22:06:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c0f62e590eb59dd8b0e2458212781ef2567f436c,c0f62e590eb59dd8b0e2458212781ef2567f436c,"bugfix: for nginx 1.3.9+, rewrite_by_lua* or access_by_lua* handlers might hang if the request body was read there, because the nginx core now overrites r->write_event_handler to ngx_http_request_empty_handler in its ngx_http_read_client_request_body API."
agentzh,2013-01-27 20:11:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/58506f76226814da6664c6c869a41f7b71a37c77,58506f76226814da6664c6c869a41f7b71a37c77,added a (passing) test for chunked request body + ngx.req.read_body (for nginx 1.3.9+).
agentzh,2013-01-27 20:07:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bbdb69568219f26a25972f5943f3f712a28090fa,bbdb69568219f26a25972f5943f3f712a28090fa,"bugfix: for nginx 1.3.9+ compatibility, we return an error while using ngx.req.socket() to read the chunked request body (for now), because chunked support in the downstream cosocket API is still a TODO."
agentzh,2013-01-27 06:43:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/af944b1790da812ab40a0ee000c2d298a8909d28,af944b1790da812ab40a0ee000c2d298a8909d28,fixed the style in t/044-req-body.t.
agentzh,2013-01-27 04:06:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5af60191ef142267f0212b8bab068858e94b6c91,5af60191ef142267f0212b8bab068858e94b6c91,updated docs to reflect recent changes.
agentzh,2013-01-26 23:04:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e37b58e372467ea5ca3161c5785f1c2c0d30d27f,e37b58e372467ea5ca3161c5785f1c2c0d30d27f,"bugfix: for nginx 1.3.9+ compatibility, we now throw an error in ngx.req.init_body(), ngx.req.set_body_data(), and ngx.req.set_body_file() when calling them without calling ngx.req.read_body() or after calling ngx.req.discard_body()."
agentzh,2013-01-25 23:25:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/480ff88583d3b82558e42f68cb6b096b8c123e8d,480ff88583d3b82558e42f68cb6b096b8c123e8d,removed most of the leak false positives from valgrind.suppress because we now pass the option --show-possibly-lost=no to valgrind by default.
agentzh,2013-01-25 19:48:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/74221397778957b92032aeb64358cd29c2e027a6,74221397778957b92032aeb64358cd29c2e027a6,"bugfix: recent versions of ngx_lua failed to compile with old PCRE versions like 6.6 due to the ""D"" and ""J"" regex options; now these two regex options require at least PCRE 8.12. thanks Wenhua Zhang for reporting this issue."
agentzh,2013-01-25 02:00:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a1fe49f434bf6d954e15c7688b808dcdc44e5a9b,a1fe49f434bf6d954e15c7688b808dcdc44e5a9b,optimize: we no longer traverse the captured body chain everytime we append a new link to it.
agentzh,2013-01-24 19:49:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/22cf24c3f272f85297254d86341122925a2ef93f,22cf24c3f272f85297254d86341122925a2ef93f,minor documentation tweaks.
agentzh,2013-01-24 19:48:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/07d48739683039b708efbed5b52924a801d9616b,07d48739683039b708efbed5b52924a801d9616b,"feature: implemented the ""J"" regex option for the PCRE Javascript compatible mode in the ngx.re API. thanks lhmwzy for requesting this."
agentzh,2013-01-24 04:21:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b8af0b925e6dc6e41ab23514e0f00f67ddf02122,b8af0b925e6dc6e41ab23514e0f00f67ddf02122,fixed the missing bits for commit 0d120033.
agentzh,2013-01-24 02:25:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a6d8faf2bbfcda87e06b17da67e9f66777dd2c0e,a6d8faf2bbfcda87e06b17da67e9f66777dd2c0e,"feature: implemented named subpatterns for ngx.re.match, ngx.re.gmatch, ngx.re.sub, and ngx.re.gsub; also added new regex option ""D"" to allow duplicate named subpatterns. thanks Ray Bejjani for the patch in github pull #182."
agentzh,2013-01-24 02:17:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e46baf0adc56afa92d361f15f12df49b52613a8e,e46baf0adc56afa92d361f15f12df49b52613a8e,bugfix: commit 2875695b was incomplete.
agentzh,2013-01-24 01:39:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c8c56883971c4b12afc5e0e519aa4756128a5e94,c8c56883971c4b12afc5e0e519aa4756128a5e94,"docs: documented the ngx.quote_sql_str API. also updated the docs for body_filter_by_lua* regarding the ""eof"" argument in subrequests."
agentzh,2013-01-24 01:33:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2875695b7b8bc2bf07dda27ebc031df88f23d5cd,2875695b7b8bc2bf07dda27ebc031df88f23d5cd,"bugfix: setting the ""eof"" argument (i.e., ngx.arg[2]) in body_filter_by_lua for a subrequest could truncate the main request's response data stream."
agentzh,2013-01-23 20:28:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/329907fd0549813ad556421ad9684d87c2674c76,329907fd0549813ad556421ad9684d87c2674c76,tests: stopped hitting Google's open DNS server's 12345 port.
agentzh,2013-01-23 01:52:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0d12003313607eac6848f9e542a25ffced8766d8,0d12003313607eac6848f9e542a25ffced8766d8,tests: eliminated hitting Google's web servers (but we still make use of its public DNS servers).
agentzh,2013-01-23 00:14:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2603780dd4f8598e5fa6fe5434d08fb290545dff,2603780dd4f8598e5fa6fe5434d08fb290545dff,added a test case for a segfault in the nginx core when using ngx_poll_module + ngx_resolver together.
agentzh,2013-01-22 23:32:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ab02c1203a4d90f18e572812b26ba982aa08c1a3,ab02c1203a4d90f18e572812b26ba982aa08c1a3,bugfix: failed to compile with the SPDY patch 58_1.3.11 because that patch removed the field from the Nginx core. thanks Chris Lea for reporting this in github issue \#203.
agentzh,2013-01-21 23:41:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bc53e62bca728bfaa269c51707f947e6643b0e67,bc53e62bca728bfaa269c51707f947e6643b0e67,fixed those recently-added tests for 100 continue that may fail expectedly.
agentzh,2013-01-16 20:32:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b9ac4139d95921894b4a0206dceef66512d6645d,b9ac4139d95921894b4a0206dceef66512d6645d,"refactor: when the nginx core fails to send the ""100 Continue"" response in case of the ""Expect: 100-continue"" request header (or just running out of memory), ngx.req.read_body() will no longer throw out a ""failed to read request body"" Lua error but will just terminate the current request and returns the 500 error page immediately, just as what the Nginx core does in this case."
agentzh,2013-01-16 20:02:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/00bd9a4c35bdc8ddf645173316cf4c4c8b7b1912,00bd9a4c35bdc8ddf645173316cf4c4c8b7b1912,"added (passing) tests for using ngx.req.read_body in the ""rewrite"" and ""access"" phases when nginx fails to send the ""100 Continue"" response."
agentzh,2013-01-16 20:01:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6398a904855e0eb5439508c72b5432991ead0fa9,6398a904855e0eb5439508c72b5432991ead0fa9,updated tests to reflect recent changes in the DNS settings for my agentzh.org domain.
agentzh,2013-01-16 19:59:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fec300b7360d3da7f1244d22d73fcbc5791775e0,fec300b7360d3da7f1244d22d73fcbc5791775e0,bugfix: we did not get the request reference counter right when lua_need_request_body was turned on and nginx versions older than 1.2.6 or 1.2.9 were used.
agentzh,2013-01-16 19:25:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f71e4700f156da3de2fcfe3eaa0d9ca30a842e7b,f71e4700f156da3de2fcfe3eaa0d9ca30a842e7b,fixed a failing test case in normal testing mode.
agentzh,2013-01-16 19:08:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7786f978e0f37918fae45848a9626bf1829f0925,7786f978e0f37918fae45848a9626bf1829f0925,"bugfix: because of the recent API behaviour changes in nginx 1.2.6+ and 1.3.9+, the ""http request count is zero"" alert might happen when ngx.req.read_body() was called to read the request body and nginx failed to send out the ""100 Continue"" (short) response (like client connection early abortion and etc). thanks stonehuzhan for reporting this issue."
agentzh,2013-01-11 23:34:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1a52a5819def1f056a3c137a604f7a3398c812ef,1a52a5819def1f056a3c137a604f7a3398c812ef,feature: setting ngx.header.HEADER after sending out the response headers now only produced an error message in the nginx error logs and does not throw out a Lua exception. this should be handy for Lua development. thanks Matthieu Tourne for suggesting this.
agentzh,2013-01-09 02:48:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f6e62d56317c9a72e43207207770a340ddb334a4,f6e62d56317c9a72e43207207770a340ddb334a4,"bugfix: in body_filter_by_lua, the ""eof"" flag (i.e., ngx.arg[2]) was not set in subrequests."
agentzh,2013-01-06 21:59:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7837e433e3ea768feb391aa893bd9b4627d58d79,7837e433e3ea768feb391aa893bd9b4627d58d79,"Merge pull request #200 from chipitsine/master

please review OpenBSD-5.2 detection"
chipitsine,2013-01-06 20:03:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4b1adde524ecd0fe4a98cea5006a19fa9841623e,4b1adde524ecd0fe4a98cea5006a19fa9841623e,OpenBSD-5.2
agentzh,2013-01-04 00:55:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/93e0e2929f31008fcb073e57ac20b7fe3be72ae4,93e0e2929f31008fcb073e57ac20b7fe3be72ae4,docs: bumped version to 0.7.13.
agentzh,2013-01-02 20:00:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e059eac04590ffaeec4a22c42cac2bdc7f2f0636,e059eac04590ffaeec4a22c42cac2bdc7f2f0636,bugfix: using a key with underscores in ngx.header.KEY resulted in Lua string storage corruption. thanks rkearsley for reporting this as github issue #199.
agentzh,2012-12-30 05:29:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/87d109fce31b139a775f57107a0b49cce30c7001,87d109fce31b139a775f57107a0b49cce30c7001,docs: bumped version to 0.7.12.
agentzh,2012-12-28 19:58:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9354740483651d25735113763f5534ffcd3668ab,9354740483651d25735113763f5534ffcd3668ab,"bugfix: ngx.decode_args() might modify (read-only) Lua strings in-place, which could lead to bad Lua string values. thanks Xu Jian for the report and Kindy Lin for the patch."
agentzh,2012-12-28 04:41:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d3280ab61bdfbedbf7408efcac3ed30afff127b6,d3280ab61bdfbedbf7408efcac3ed30afff127b6,docs: typo in the code sample for tcpsock:receiveuntil. thanks Yecheng Fu for the patch in github pull #196.
agentzh,2012-12-28 01:37:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/58e14a62f53c6f2bcd784e5a1f3ea8f12649f741,58e14a62f53c6f2bcd784e5a1f3ea8f12649f741,bumped version to 0.7.11.
agentzh,2012-12-27 01:15:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d3c0f25469261518f3bb8c06b720bdb8eb13b9da,d3c0f25469261518f3bb8c06b720bdb8eb13b9da,"docs: fixed a typo in the Lua code sample for ngx.re.gmatch (we forgot to add ""do"" there). thanks Guo Yin for reporting this issue."
agentzh,2012-12-27 01:04:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3f69addea1496376518bf46756e827ac533907f7,3f69addea1496376518bf46756e827ac533907f7,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2012-12-27 01:03:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a78ee756108e9cf3c4c9e0cfc979045ca7d75ce6,a78ee756108e9cf3c4c9e0cfc979045ca7d75ce6,"bugfix: removed the unnecessary dot from the ""config"" file. thanks Rafael Souza for reporting this regression."
agentzh,2012-12-26 05:51:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b802870d70398de85420da93d1b35ee65634e613,b802870d70398de85420da93d1b35ee65634e613,docs: declared compatibility with nginx 1.2.6; also bumped version to 0.7.10.
agentzh,2012-12-25 20:20:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6e162fd013f56e044670eeb14aba001420f481fa,6e162fd013f56e044670eeb14aba001420f481fa,minor coding style fixes in ngx_http_lua_variable.c.
agentzh,2012-12-25 20:17:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eabefc7970a1c3d50f046efad5555ef4067563ff,eabefc7970a1c3d50f046efad5555ef4067563ff,"bugfix: accessing ngx.var.VARIABLE allocated tempory memory buffers in the request memory bool, which could lead to unnecessarily large memory footprint. not it allocates such bufferes via Lua GC."
agentzh,2012-12-24 02:10:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/508486684294e450773c4243b006bf40c93e9837,508486684294e450773c4243b006bf40c93e9837,updated the tests in 005-exit.t for nginx 1.2.6+.
agentzh,2012-12-24 00:48:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d1613a64751d9b677d2605b42cf68bbfe70f688c,d1613a64751d9b677d2605b42cf68bbfe70f688c,feature: automatically detect LuaJIT 2.0 on FreeBSD by default. thanks rkearsley for the patch.
agentzh,2012-12-23 22:37:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cf18fcbbb67c1ffbd018befd0fcd310f550ec080,cf18fcbbb67c1ffbd018befd0fcd310f550ec080,"docs: explained why ""local foo = require 'foo'"" is required to load a Lua module. thanks rkearsley for asking."
agentzh,2012-12-23 06:58:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/362fcfe460e8f2422ede0633c40f1e9acb0e5f65,362fcfe460e8f2422ede0633c40f1e9acb0e5f65,documented the request body automatic inheritance behavior in ngx.location.capture; also bumped version to 0.7.9.
agentzh,2012-12-23 06:57:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6eeb8fb81cd648737a9178d381815325d58b1991,6eeb8fb81cd648737a9178d381815325d58b1991,minor coding style fixes.
agentzh,2012-12-22 08:06:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/59fc4aea8c4aca59249c83cc55250947a6a968f1,59fc4aea8c4aca59249c83cc55250947a6a968f1,bugfix: ngx.status assignment would always be overridden by the later ngx.exit() calls for HTTP 1.0 requests if lua_http10_buffering is on (the default setting). thanks chenshu for reporting this in github issue #193.
agentzh,2012-12-14 23:00:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/543169dfbd8fb85baa4f430a0936daf5586c31d3,543169dfbd8fb85baa4f430a0936daf5586c31d3,bugfix: typo in the error message when accessing an nginx variable that has not been defined.
agentzh,2012-12-10 20:27:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eb3a36bb48f74f2e7ee1a022b0e0b77c558d7b22,eb3a36bb48f74f2e7ee1a022b0e0b77c558d7b22,updated docs to reflect recent changes.
agentzh,2012-12-10 20:24:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/515658747abd38713909c40a19d560e71edc81a7,515658747abd38713909c40a19d560e71edc81a7,"Merge pull request #186 from mizzy/fix-date-format-in-readme

Fix date format in README"
mizzy,2012-12-10 05:29:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/457cdf79e1dedf957fd1811c06c10e1740716a54,457cdf79e1dedf957fd1811c06c10e1740716a54,Fix date format
agentzh,2012-12-09 07:39:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d4eb39b40e0d783af9821a27a93df2573910625b,d4eb39b40e0d783af9821a27a93df2573910625b,bumped version to 0.7.8.
agentzh,2012-12-09 06:14:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d54a03ebd2d45aee9d50d1175bbea99578efb1b1,d54a03ebd2d45aee9d50d1175bbea99578efb1b1,made the tests in uthread-exec.t less possible to fail the systemtap subtest on slow machines.
agentzh,2012-12-09 05:47:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/477f82efcc295a03c18caf58b13ae116e0001cbd,477f82efcc295a03c18caf58b13ae116e0001cbd,made the tests for ngx.on_abort() less possible to fail due to random timing issues.
agentzh,2012-12-09 01:07:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d270ade7672b185a99fa4ad0f519725b284f4428,d270ade7672b185a99fa4ad0f519725b284f4428,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2012-12-09 01:07:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/46e32a2915d01a445322dfebb36a087a2f7a6181,46e32a2915d01a445322dfebb36a087a2f7a6181,bugfix: ngx.req.set_body_file() might lead to memory issues because it directly used the storage of lua strings allocated by the lua GC (we should allocate a new memory block on the nginx side and copy the string data over).
agentzh,2012-12-08 08:06:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/94d950eed745113f2b358760211940f83c55c6aa,94d950eed745113f2b358760211940f83c55c6aa,bumped version to 0.7.7.
agentzh,2012-12-08 04:44:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b39743aa57364dafcd93ad8962aafa6c4a12fe53,b39743aa57364dafcd93ad8962aafa6c4a12fe53,"bugfix: when a user coroutine or user ""light thread"" dies with an error, our Lua backtrace dumper written in C may access one of its dead parent threads which could lead to segmentation faults."
agentzh,2012-12-07 19:34:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd7b70de6f60ba7c6512909f6e07a12a159fa3d1,fd7b70de6f60ba7c6512909f6e07a12a159fa3d1,refactor: now we use the TEST_NGINX_SERVER_PORT env consistently in the test suite.
agentzh,2012-12-07 05:56:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd51c766cdad726d15254d3ac05f6631587f444b,fd51c766cdad726d15254d3ac05f6631587f444b,"fixed a test case that uses the hard-coded port 8888 which may not be available especially in the ""check leak"" testing mode that often runs into port shortage."
agentzh,2012-12-07 05:32:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c400c31152b5cb00678ae426a6fdd782b6af86a3,c400c31152b5cb00678ae426a6fdd782b6af86a3,minor coding style fixes in ngx_http_lua_regex.c.
agentzh,2012-12-07 05:06:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/614d6a6ef0b7bf806c2055bdf81a9e93a20c2569,614d6a6ef0b7bf806c2055bdf81a9e93a20c2569,updated the docs for ngx.req.start_time and ngx.now a bit.
agentzh,2012-12-07 04:17:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4a4bdd9506c7c834291ad364a6c63e014857cd43,4a4bdd9506c7c834291ad364a6c63e014857cd43,Merge remote-tracking branch 'origin/master' into req-start-time
agentzh,2012-12-07 02:15:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5768a6824d2126dcb1008ba139a30bd660660cf6,5768a6824d2126dcb1008ba139a30bd660660cf6,feature: added ngx.req.start_time() to return the request starting time in seconds (the milliseconds part is the decimal part just as in ngx.now). thanks Matthieu Tourne for the patch.
agentzh,2012-12-07 02:08:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f85899f503908697012ade222a1cbd4c1053c0ce,f85899f503908697012ade222a1cbd4c1053c0ce,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2012-12-07 02:08:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6969518525a2ad5610c54cb3a2e27f6a0f3a9922,6969518525a2ad5610c54cb3a2e27f6a0f3a9922,fixed an english typo in the error message for init_by_lua*.
agentzh,2012-12-07 00:41:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e83fabb0e5d0870874f90dab879c19e73d18bce3,e83fabb0e5d0870874f90dab879c19e73d18bce3,"attempted to fix a test that may fail unexpectedly in the ""hup reload"" testing mode."
agentzh,2012-12-07 00:29:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/50e41da5d8f378eecafb7df9cca7d3db3c4f8847,50e41da5d8f378eecafb7df9cca7d3db3c4f8847,fixed a test case in 020-subrequest.t for slow testing modes.
agentzh,2012-12-06 05:15:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e3d3ec3f58ac7028737d4970e108ee95e9987365,e3d3ec3f58ac7028737d4970e108ee95e9987365,"added more docs regarding using ngx.exit() to abort pending subrequests in other ""light threads"" and setting ngx.status after sending out the response headers."
agentzh,2012-12-06 05:00:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3583cb08d5694c9336f1c8801cc5bb9e8b36b089,3583cb08d5694c9336f1c8801cc5bb9e8b36b089,"added tests for the ""ngx_slab_alloc() failed: no memory"" error message. these require the patch https://github.com/agentzh/ngx_openresty/blob/master/patches/nginx-1.2.4-slab_alloc_no_memory_as_info.patch"
agentzh,2012-12-06 04:43:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/15fac2963bf75a892065f314647471a9aac80143,15fac2963bf75a892065f314647471a9aac80143,"feature: setting ngx.status after sending out response headers no longer yield a Lua exception but only leave an error message in the error.log file, which is useful for Lua-land debugging. thanks Matthieu Tourne for requesting this."
agentzh,2012-12-06 02:09:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/930b938d46720f25b38cde4ea70a73cac5b8eeb5,930b938d46720f25b38cde4ea70a73cac5b8eeb5,fixed several test cases which may fail unexpectedly due to timing errors.
agentzh,2012-12-06 02:05:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2b48ef43c52df0a9e75db1e08469eb54113e0a28,2b48ef43c52df0a9e75db1e08469eb54113e0a28,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2012-12-06 01:46:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/442b45333300ca0d296f6bb7bdc44e04610e265b,442b45333300ca0d296f6bb7bdc44e04610e265b,"bugfix: when the user callback function registered by ngx.on_abort() discarded the client abort event, the request would be aborted by force when the next client abort event happened."
agentzh,2012-12-06 01:44:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/164ef98f454f1b7e835821ad11f06c11fb094a07,164ef98f454f1b7e835821ad11f06c11fb094a07,feature: the user can now call ngx.exit(444) to abort pending subrequests in other light threads from within a light thread.
agentzh,2012-12-05 23:34:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/780b826862ecb6b3daf4a3169e06eb53ec583f96,780b826862ecb6b3daf4a3169e06eb53ec583f96,refactor: we did not need to reset the on_abort_co_ctx field in reset_ctx.
agentzh,2012-12-05 23:24:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cc57703fbf38a0184dad47132640f0bb944b8702,cc57703fbf38a0184dad47132640f0bb944b8702,updated docs to reflect recent changes.
agentzh,2012-12-05 22:56:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5feda1fee33aea2b0272bee3ebfbd4e21f82054f,5feda1fee33aea2b0272bee3ebfbd4e21f82054f,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2012-12-05 22:56:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e1dd6ff6624b53c624a548fc319ba590d7499187,e1dd6ff6624b53c624a548fc319ba590d7499187,added a test case for a regression introduced by the upstream_pipeline patch of openresty.
agentzh,2012-12-05 04:56:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/857ed86f09697251f70ba2faf9387c68d76fcab3,857ed86f09697251f70ba2faf9387c68d76fcab3,increased the timeout threshold for the slow tests in slow testing modes.
agentzh,2012-12-03 20:05:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4f7eb4f05e94d2cac44897b25fc59e085e153bdf,4f7eb4f05e94d2cac44897b25fc59e085e153bdf,"made a test case less possible to fail in slow testing modes like ""mockeagain w + valgrind memcheck""."
chaoslawful,2012-12-03 09:21:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3986c4787779cc08a6cd746c78dfcdf1b388ce97,3986c4787779cc08a6cd746c78dfcdf1b388ce97,"Merge pull request #181 from smallfish/patch-1

Update src/ngx_http_lua_log.c"
smallfish,2012-12-03 07:36:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4bd0744086b4f819d328fe0c0957102f60965030,4bd0744086b4f819d328fe0c0957102f60965030,"Update src/ngx_http_lua_log.c

update the comments ""print equal ngx.log(ngx.NOTCIE, ...) not ngx.ERR"""
agentzh,2012-12-02 01:18:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ff1949b075fb4a971f62dd5f16699e8311c3b645,ff1949b075fb4a971f62dd5f16699e8311c3b645,"bugfix: the ""light thread"" object created by ngx.thread.spawn() might be prematurely collected by the Lua GC because we did not correctly register its coroutine object into the Lua regsitry table. this bug may crash the Lua VM and nginx workers under load. thanks Zhu Dejiang for reporting this issue."
agentzh,2012-12-02 01:12:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7b0d7daca9a91c2ddb4bcdff27188f9f6121cdb8,7b0d7daca9a91c2ddb4bcdff27188f9f6121cdb8,"bugfix: the ""light thread"" object created by ngx.on_abort() might be prematurely collected by the Lua GC because we did not correctly register its coroutine object into the Lua regsitry table. this bug may crash the Lua VM and nginx workers under load. thanks Zhu Dejiang for reporting this issue."
agentzh,2012-11-29 07:38:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2ecf5afa8336729a84a3ec72cc6c044c2db886b5,2ecf5afa8336729a84a3ec72cc6c044c2db886b5,"bugfix: ngx.thread.wait() might hang infinitely when more than 4 user ""light threads"" are created in the same request handler due to the incorrect use of ngx_array_t for ngx_list_t. thanks Junwei Shi for reporting this issue."
agentzh,2012-11-29 07:33:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5abd74c3d632c8d6019e3f46c2a13ee583e50382,5abd74c3d632c8d6019e3f46c2a13ee583e50382,minor test file style fixes.
agentzh,2012-11-29 07:32:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e6b20cb2eb82b8a1a04a2af67267718fdd13a682,e6b20cb2eb82b8a1a04a2af67267718fdd13a682,feature: added new dtrace static probe http-lua-user-thread-wait.
agentzh,2012-11-29 07:29:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d3214ca9c45023f19f41f1311f0d876a86926684,d3214ca9c45023f19f41f1311f0d876a86926684,bugfix: subrequests with error status code did not trigger output header filtering any more. this bad had appeared in the last commit.
agentzh,2012-11-29 02:26:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6d7e0c0a5b8d1add55da31d7ebee53b804d73a0a,6d7e0c0a5b8d1add55da31d7ebee53b804d73a0a,bugfix: ngx.location.capture/ngx.location.capture_multi might hang infintely because the parent request might not be waken up right after the first time the post_subrequest callback was called. now we also always skip the special response handler altogether for our subrequests.
agentzh,2012-11-28 07:00:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9ad04360ceb7882249bb297fb9c9f2666227ed80,9ad04360ceb7882249bb297fb9c9f2666227ed80,ported all the documentation tweaks from the nginx wiki site.
agentzh,2012-11-28 02:21:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a9d1383bd92780a635c06c5bf127c66ad33a47b6,a9d1383bd92780a635c06c5bf127c66ad33a47b6,minor test case style formatting.
agentzh,2012-11-28 02:21:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0b838944d1f0a7d3ce422fc9dca01b5368999be9,0b838944d1f0a7d3ce422fc9dca01b5368999be9,fixed various issues in the test suite.
agentzh,2012-11-28 00:43:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/15a5793b5f9f19f99be24abdda1ba053a9b944cb,15a5793b5f9f19f99be24abdda1ba053a9b944cb,ngx.exit(N) now no longer throws out a Lua exception when N >= 300 and a response header with a different status code has already been sent (but an error message will still be printed into the error.log file). this change makes Lua code debugging based on ngx.say/ngx.print much easier. thanks Matthieu Tourne for the suggestion.
agentzh,2012-11-27 23:15:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/35b86cd5301b22507850a4adac577b16add4b9ba,35b86cd5301b22507850a4adac577b16add4b9ba,"bugfix: ngx.exit(N) threw out exceptions when N was 408, 499, or 444 and the response header was already sent. thanks Kindy Lin for reporting this issue."
agentzh,2012-11-20 22:57:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ca262cb466403030a69b7e109706b30d3d5dc6a4,ca262cb466403030a69b7e109706b30d3d5dc6a4,bumped version to 0.7.5.
agentzh,2012-11-20 19:16:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8d92e6c670b65ae4c21d4dbb75a2175ec98ad455,8d92e6c670b65ae4c21d4dbb75a2175ec98ad455,bugfix: ngx.log() would truncate the log messages with a null character (\0) in it. thanks Wang Xi for reporting this issue.
agentzh,2012-11-15 01:07:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7c0948a08e8449f7a9ffbc35244954e6aaddac5b,7c0948a08e8449f7a9ffbc35244954e6aaddac5b,bugfix: ngx.req.clear_header() would result in memory invalid reads when removing the 21st request headers. thanks Umesh Sirsiwal for reporting this issue in github issue #176.
agentzh,2012-11-12 19:50:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1a44b73fa642f34bd8056c8c6a42c85035d963f1,1a44b73fa642f34bd8056c8c6a42c85035d963f1,updated docs to eliminate use of package.seeall in code samples and also to explicitly discourage the use of it.
agentzh,2012-11-12 01:40:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a55fd25065be558666fb0d97887e28c05b6a9128,a55fd25065be558666fb0d97887e28c05b6a9128,documented the special case that client closes the connection before ngx.req.socket() finishes reading the whole body.
agentzh,2012-11-11 20:35:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fc4391e07256fff7e88b884ab304008c29b16eee,fc4391e07256fff7e88b884ab304008c29b16eee,documented lua_check_client_abort and ngx.on_abort; also bumped version to 0.7.4.
agentzh,2012-11-09 04:58:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e06f7e3a24d28d12fc72d7d28e08438a072251ac,e06f7e3a24d28d12fc72d7d28e08438a072251ac,polished the test cases that could expectedly fail.
agentzh,2012-11-09 00:39:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0990bdef77043315879ca04fb892dafc7b08f6ea,0990bdef77043315879ca04fb892dafc7b08f6ea,ported the tests for ngx.on_abort() to access_by_lua and rewrite_by_lua.
agentzh,2012-11-09 00:24:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/75be85db6397ab04640332526b691ce4b6a1c7c3,75be85db6397ab04640332526b691ce4b6a1c7c3,made the tests less possible to fail in slow testing modes.
agentzh,2012-11-08 23:55:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1d5b18a81dee56446861198ea5c111ce11a07195,1d5b18a81dee56446861198ea5c111ce11a07195,bugfix: calling ngx.on_abort() twice in a single handler will result in memory leaks; now it returns an error upon subsequent calls.
agentzh,2012-11-08 20:20:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b3a7787023985f68d369ae5ccab1bfa7167d5b94,b3a7787023985f68d369ae5ccab1bfa7167d5b94,bugfix: request might hang when a callback function is registered via ngx.on_abort() and there was no client abort event at all. also ensured that the on_abort callback will not get called when the request is already done.
agentzh,2012-11-08 04:07:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0b9466ac134bbbcae93298d1101fa2d30f8cbf3f,0b9466ac134bbbcae93298d1101fa2d30f8cbf3f,feature: ngx.exit(N) can now abort pending subrequests when N = 408 (request time out) or N = 499 (client closed request) or N = -1 (error). feature: added ngx.on_abort() for registering user Lua function callback which will get called automatically when client abortion happens.
agentzh,2012-11-07 00:55:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/52e971cb0c3a2db2bd4468f04d33fa8190e3631d,52e971cb0c3a2db2bd4468f04d33fa8190e3631d,"renamed the config directive ""lua_on_client_abort stop|ignore"" to ""lua_check_client_abort on|off""."
agentzh,2012-11-06 05:35:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ec5214cfcaed398cbcca7b801f1eebe607f0b156,ec5214cfcaed398cbcca7b801f1eebe607f0b156,added a test case for testing the kqueue-specific bug in the ngx_http_upstream_test_connect function of the nginx core.
agentzh,2012-11-06 00:36:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5ba9195e59dcc85c253f867a8e0f12d0c734610c,5ba9195e59dcc85c253f867a8e0f12d0c734610c,fixed a test case regarding cosocket set_keepalive on FreeBSD.
agentzh,2012-11-06 00:10:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8ed15a432b3f414e1867005966a519b1d18b843f,8ed15a432b3f414e1867005966a519b1d18b843f,tweaked the test cases for one-way shutdown for the mockegain writing testing mode because nginx does not really support the one-way shutdown on the client side.
agentzh,2012-11-05 06:44:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8f8cb23f36dd00af1b4467d2553953215717becd,8f8cb23f36dd00af1b4467d2553953215717becd,"bugfix: using ""lua_on_client_abort stop"" and doing internal redirects might lead to segmentation faults."
agentzh,2012-11-05 04:47:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9649c8ba6b097bb463843c5979f467b674385478,9649c8ba6b097bb463843c5979f467b674385478,"bugfix: fixed the -Werror=unused-variable gcc warning on systems without kqueue, which was introduced by commit 9205848."
agentzh,2012-11-05 04:43:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/92058483d569b1c7bb8e1d48c5eeefd9591a95eb,92058483d569b1c7bb8e1d48c5eeefd9591a95eb,"bugfix: ngx_lua cosocket's connect() method could not detect errors like ""connection refused"" when kqueue was used. tests: fixed the compatibilty issues in those test cases that were failing on non-Linux systems like FreeBSD."
agentzh,2012-11-05 04:37:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/31089a419c893eca107c293519b22c49dcbc927b,31089a419c893eca107c293519b22c49dcbc927b,bugfix: we could not compile on FreeBSD due to the recent work on lua_on_client_abort.
agentzh,2012-11-04 23:38:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1937d581121d8436c63a4bc4f2034dcea5706dd0,1937d581121d8436c63a4bc4f2034dcea5706dd0,updated --- stap_wait to --- wait in the test suite to reflect the new changes in Test::Nginx::Socket.
agentzh,2012-11-04 07:11:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c5dc5dc14752bff149e4c0268f41c7b05fc9f7a1,c5dc5dc14752bff149e4c0268f41c7b05fc9f7a1,"bugfix: reading on ngx.req.socket() now returns the error ""client aborted"" in case request body truncation even when lua_on_client_abort is ""ignore"". bugfix: for edge-triggered events, use of ngx.req.socket() might prevent ""lua_on_client_abort stop"" from detecting the connection shutdown event."
agentzh,2012-11-04 05:28:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/83f8f95542705305fd85dde55ada89dd1e4e644c,83f8f95542705305fd85dde55ada89dd1e4e644c,"bugfix: receiving data on ngx.req.socket() did not return any errors when the request body got truncated; now we return the ""closed"" error (or ""client aborted"" when lua_on_client_abort is not configured as ""ignore""). feature: implemented new config directive lua_on_client_abort which (atm) takes two possible values, ""ignore"" (the default) and ""stop""."
agentzh,2012-11-02 22:59:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/642e54112950f755059f6972b0c5466034b87107,642e54112950f755059f6972b0c5466034b87107,Merge branch 'master' into client-abort
agentzh,2012-11-02 22:48:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5cc8de8e7d6d432f081daf8acee2b335587d991c,5cc8de8e7d6d432f081daf8acee2b335587d991c,code refactoring in the module configuration part.
agentzh,2012-11-02 22:48:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/41243bfa876ddaf85b6ce0fee61f9c12cefd489d,41243bfa876ddaf85b6ce0fee61f9c12cefd489d,code refactoring in the module configuration part.
agentzh,2012-10-31 00:12:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7b1f3323a2ebc3a3cea528b5dcceedc5ecb5d5b4,7b1f3323a2ebc3a3cea528b5dcceedc5ecb5d5b4,documented the new shdict:get_keys() API. also bumped version to 0.7.3.
agentzh,2012-10-30 01:09:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f928feae8d3b4de4d5790cab06f27e4ca34698f8,f928feae8d3b4de4d5790cab06f27e4ca34698f8,"feature: added the ""get_keys"" method for the shared dictionaries for fetching all the (or the specified number of) keys (default to 1024 keys). thanks Brian Akins for the patch in pull \#170."
agentzh,2012-10-17 22:20:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e607b639beb8a7dfe71eef07654560a32ad6b5a3,e607b639beb8a7dfe71eef07654560a32ad6b5a3,bumped version to 0.7.2.
agentzh,2012-10-15 18:34:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b5531ff5bec2d82715b6626f0a4d6b8d85dadb0a,b5531ff5bec2d82715b6626f0a4d6b8d85dadb0a,"feature: now we can automatically detect the vendor-provided LuaJIT-2.0 package on Gentoo. thanks Il'ya V. Yesin for the patch in github pull #167. it is still recommended, however, to explicitly set the environments LUAJIT_INC and LUAJIT_LIB."
agentzh,2012-10-14 03:02:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/db2d5310b3c266734dbe04479e77361cfa75e4bd,db2d5310b3c266734dbe04479e77361cfa75e4bd,docs: massive wording improvements from Dayo. also bumped version to 0.7.1.
agentzh,2012-10-13 02:39:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3875a33976dc295d9d4f198029847a80fc57817d,3875a33976dc295d9d4f198029847a80fc57817d,"bugfix: ngx.re.gsub() might throw out the ""attempt to call a string value"" exception when the ""replace"" argument is a Lua function and the subject string is large. thanks Zhu Maohai for reporting this issue."
agentzh,2012-10-11 00:26:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7ee528b2037dcf807ddbf4b36745bff1104dbd18,7ee528b2037dcf807ddbf4b36745bff1104dbd18,docs: documented the new ngx.thread API. also fixed the __newindex metamethod definition for catching writes to undeclared global varaibles in a Lua module.
agentzh,2012-10-10 22:06:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1690add7f89911807dad1e5a424a6f05576dcafe,1690add7f89911807dad1e5a424a6f05576dcafe,"docs: added a warning for ngx.var.VARIABLE that memory is allocated in the per-request memory pool. also made it clear why ""return"" is recommended to be used with ngx.exit(). thanks Antoine."
agentzh,2012-10-10 05:55:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4d8cbe95cd97526723d9f637c2c50194172cc826,4d8cbe95cd97526723d9f637c2c50194172cc826,"fixed those test cases using the UDP cosockets to be prepared for data read in a single run (without EAGAIN, that is)."
agentzh,2012-10-10 05:41:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5d0fb9feaeb653e70b0c2d97ddfea40c1db24c80,5d0fb9feaeb653e70b0c2d97ddfea40c1db24c80,"bugfix: the lua light threads would leak in case of nginx filter finalization. this issue was caught by the ""check leak"" testing mode provided by Test::Nginx while running on Amazon EC2."
agentzh,2012-10-09 19:22:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2694d7758c6dfe6f7fe98aeb799abb3a9a068124,2694d7758c6dfe6f7fe98aeb799abb3a9a068124,"bugfix: older gcc versions might issue warnings like ""variable 'nrets' might be clobbered by 'longjmp' or 'vfork'"", like gcc 3.4.3 for Solaris 11. thanks Wenhua Zhang for reporting this issue."
agentzh,2012-10-07 04:39:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bfcb77b12698a6582635d2ca875cddd49b478cbc,bfcb77b12698a6582635d2ca875cddd49b478cbc,"resolved conflicts while merging ""master"" into ""thread""."
agentzh,2012-10-06 02:48:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/73d8dd231b26da46e57fb599f480407036b47193,73d8dd231b26da46e57fb599f480407036b47193,bumped version to 0.6.10.
agentzh,2012-10-05 19:11:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d3f55d7a7c421bc51e019dfba465b59ab1b93b22,d3f55d7a7c421bc51e019dfba465b59ab1b93b22,bugfix: ffi.copy() was used incorrectly in the test cases in 099-c-api.t: it might write out of the buffer. this issue was caught by valgrind on linux i386.
agentzh,2012-10-05 02:19:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/95b2761743c465abbcbf892aa0af56330c1c36d9,95b2761743c465abbcbf892aa0af56330c1c36d9,"fixed a test case using shdict for the ""use hup"" testing mode."
agentzh,2012-10-04 19:22:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cc5d928cb4bc6ef18ced670f68e736a47110d22d,cc5d928cb4bc6ef18ced670f68e736a47110d22d,renamed ngx_http_lua_shared_dict_lookup to ngx_http_lua_shared_dict_get; fixed various issues in this public C function. also added tests for it.
agentzh,2012-10-04 01:15:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ea456890a5400a44fb6b30759184e9626e121353,ea456890a5400a44fb6b30759184e9626e121353,feature: added public C API ngx_http_shared_dict_get and ngx_http_lua_find_zone as per Piotr Sikora's request.
agentzh,2012-10-03 17:58:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7fc1dc720fa47bb441127f3a62b768acb5afdae3,7fc1dc720fa47bb441127f3a62b768acb5afdae3,fixed a compilation warning in the cosocket code from some old gcc. thanks Dirk Feytons for reporting this issue as as #162.
agentzh,2012-10-03 01:08:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0f66b1b3379d5b1261ad8c6f24310e748ca151bc,0f66b1b3379d5b1261ad8c6f24310e748ca151bc,bumped version to 0.6.9.
agentzh,2012-10-03 01:02:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a30c2d83130d335f030df6ad8378097b9c22cb5d,a30c2d83130d335f030df6ad8378097b9c22cb5d,made a test case less possible to fail unexpectedly in slow testing mode.
agentzh,2012-10-02 21:50:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/beb2bfff4d50eb60481baeea714e66989fb9b287,beb2bfff4d50eb60481baeea714e66989fb9b287,updated docs to reflect recent changes in ngx.req.get_headers().
agentzh,2012-10-02 19:23:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a90cc0d99e3b1b4507c1f2c180346cc3426a7ee1,a90cc0d99e3b1b4507c1f2c180346cc3426a7ee1,"feature: now ngx.req.get_headers() will return a table with keys in all lowercase by default. made the second argument be ""raw"". when the ""raw"" argument is true, the header names will be the original form."
agentzh,2012-10-02 18:42:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b09f1578449da8ef63c82b363b9e499cee8b193e,b09f1578449da8ef63c82b363b9e499cee8b193e,"feature: when the lowercase argument to ngx.req.get_headers() is true, then any keys like ""My-Header-Name"" and ""my_header_name"" will be able to index the ""my-header-name"" entry in the Lua table returned. (behind the scene, we ngx.req.get_headers() just adds a __index metamethod to the resulting table when the lowercase argument is true.) thanks Matthieu Tourne for the proposal."
agentzh,2012-10-02 18:15:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0263ef747cb510cba5a909e68fdb447a52d9be36,0263ef747cb510cba5a909e68fdb447a52d9be36,feature: ngx.req.get_headers() now takes a second (optional) boolean argument that can be used to convert all header names into the lowercase form. thanks James Hurst and Matthieu Tourne for proposing this feature.
agentzh,2012-10-01 05:13:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/661c261bc3f14e0af9679d5f139e47fa6b171557,661c261bc3f14e0af9679d5f139e47fa6b171557,refactor: disabled ngx_http_lua_probe_info by default.
agentzh,2012-10-01 02:37:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fe4130e0f3604c878fee8acc41de7cceded9538d,fe4130e0f3604c878fee8acc41de7cceded9538d,"feature: ngx.thread.spawn(f, ...) can now take multiple arguments for the ""light thread"" coroutine's first resume."
agentzh,2012-10-01 01:52:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/56b9b8a46c71d3d2ba6fb12fb5d0e91de2da3783,56b9b8a46c71d3d2ba6fb12fb5d0e91de2da3783,polished the test for ngx.thread.wait a bit.
agentzh,2012-10-01 00:36:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0ef27947a2477489c8a50bacb6fd214294874517,0ef27947a2477489c8a50bacb6fd214294874517,bugfix: ngx.thread.wait() did not croak when the argument coroutine is not a user thread at all. also added more tests for bad arguments to ngx.thread.wait().
agentzh,2012-09-30 23:47:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/009911b4efa88425919d7d54d4f8959bc72a39c2,009911b4efa88425919d7d54d4f8959bc72a39c2,enabled all the test cases in 098-uthread-wait.t.
agentzh,2012-09-30 23:34:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d680b6b2ecade3fd4c3ed9a4d66c7be5a9e1e7ac,d680b6b2ecade3fd4c3ed9a4d66c7be5a9e1e7ac,"added (passing) tests for ngx.thread.wait(a, b) and the slower thread is aborted."
agentzh,2012-09-30 08:14:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4d0e77f5db73ebab2b608afe68abd9b36a1bdab1,4d0e77f5db73ebab2b608afe68abd9b36a1bdab1,"feature: ngx.thread.wait() can now take multiple user threads as its arguments and wait on all of them at the same time. it will return the first terminated user thread's result as soon as possible (that is, without waiting for other pending user threads to finish)."
agentzh,2012-09-30 06:55:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b842f16a1b98e57dcd8a18b69f7a4d2225347bde,b842f16a1b98e57dcd8a18b69f7a4d2225347bde,refactor: removed the ctx->fatal field and just used ctx->no_abort instead.
agentzh,2012-09-30 06:47:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5d5edcf02809f150fb0473422b86be3ba82b2a26,5d5edcf02809f150fb0473422b86be3ba82b2a26,"feature: implemented ngx.thread.wait() for synchronously waiting on a child user thread, which also returns the final results of the last implicit call of coroutine.resume() on the user thread coroutine. so now an non-captured Lua exception in a user thread will not abort other running threads in the same nginx request."
agentzh,2012-09-29 03:38:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a4083273243174415385ab5b87ffda1ec74a4b65,a4083273243174415385ab5b87ffda1ec74a4b65,Merge remote-tracking branch 'origin/master' into thread
agentzh,2012-09-29 03:33:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/97f4474a95aa9adce17ce64a3d0d9d2e6f93338e,97f4474a95aa9adce17ce64a3d0d9d2e6f93338e,bumped version to 0.6.8.
agentzh,2012-09-28 22:17:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/171de5a7c363602edc4eecdeb58416af48c937b6,171de5a7c363602edc4eecdeb58416af48c937b6,refactor: renamed ngx_http_lua_uthread_create to ngx_http_lua_uthread_spawn for consistency with the Lua API name.
agentzh,2012-09-28 22:05:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b051763cc0abe4f86c160317f2e510fe913deecd,b051763cc0abe4f86c160317f2e510fe913deecd,refactor: renamed t/*uthread.t to t/*uthread-spawn.t.
agentzh,2012-09-28 21:57:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bcfa3998482a2282dc36ed194d7a55af50e775fa,bcfa3998482a2282dc36ed194d7a55af50e775fa,Merge branch 'master' into thread
agentzh,2012-09-28 18:49:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1ff7288eb22754a926c95529c0c6c8720a8b0b2c,1ff7288eb22754a926c95529c0c6c8720a8b0b2c,added a (passing) test for empty pattern in ng.re.match.
agentzh,2012-09-28 18:38:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d37c193a933c336264fdb30b9d86a5822cc7e413,d37c193a933c336264fdb30b9d86a5822cc7e413,bugfix: ngx.re.gsub might enter infinet loops because it could not handle patterns matching emptry strings properly. bugfix: ngx.re.gsub incorrectly skipped matching altogether when the subject string was empty.
agentzh,2012-09-28 07:07:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4b9100c1dd9c3634da80f68fcdbcd39961b903df,4b9100c1dd9c3634da80f68fcdbcd39961b903df,bugfix: pattern matching an empty substring in ngx.re.gmatch did not match at the end of the subject string.
agentzh,2012-09-28 07:00:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ad5e7f7c3b7dcfb250c81a5e8294d363fe121aff,ad5e7f7c3b7dcfb250c81a5e8294d363fe121aff,bugfix: ngx.re.gmatch might loop infinitely when the pattern matches an empty string. thanks Lance Li and xingxing for tracking this issue down.
agentzh,2012-09-27 05:10:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0b6685c20c8ac2c525b1640cb1993486952d3a18,0b6685c20c8ac2c525b1640cb1993486952d3a18,bumped version to 0.6.7.
agentzh,2012-09-27 00:13:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8589412e8685764e960c5e3560bae1be869cd63a,8589412e8685764e960c5e3560bae1be869cd63a,Merge branch 'master' into thread
agentzh,2012-09-26 22:40:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/15d8550b6f25754f48ce1f30d28ed7bf08a6c6da,15d8550b6f25754f48ce1f30d28ed7bf08a6c6da,minor coding style fixes in the lua/luajit bytecode loader.
agentzh,2012-09-26 18:30:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e6297a5db0d177d6405bccf976eeac33d2b50244,e6297a5db0d177d6405bccf976eeac33d2b50244,"Merge pull request #152 from jinglong/bytecode

fix strict-aliasing warnings in ngx_http_lua_clfactory_bytecode_prepare"
agentzh,2012-09-26 00:20:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/00e99d519fb5856c066f6a8a52e5a924a251af48,00e99d519fb5856c066f6a8a52e5a924a251af48,bugfix: the ngx.thread API did not work in access_by_lua*.
agentzh,2012-09-25 23:37:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f4e8894e2dc9efc47ab72c09189b50dd09fe0fa3,f4e8894e2dc9efc47ab72c09189b50dd09fe0fa3,api: renamed ngx.thread.create() to ngx.thread.spawn().
agentzh,2012-09-25 23:21:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7ba928b52ae8c52ad3b0065e16ecd11b860b0eb4,7ba928b52ae8c52ad3b0065e16ecd11b860b0eb4,bugfix: the ngx.thread API did not work in rewrite_by_lua*.
agentzh,2012-09-25 18:57:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3a30a00ff31bb32c28603ae6cf2d6317422346d2,3a30a00ff31bb32c28603ae6cf2d6317422346d2,added some (passing) tests for ngx.redirect + ngx.thread.
agentzh,2012-09-25 18:48:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3b48d03d1d43dff12893e319828a51de94329221,3b48d03d1d43dff12893e319828a51de94329221,bugfix: aborting ngx.thread coroutines with pending subrequests caused problems and now we just prohibit this by raising Lua exceptions and aborting the main request.
agentzh,2012-09-25 05:31:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8f2f149c2d7c971caf269943aba79464dae3a8fa,8f2f149c2d7c971caf269943aba79464dae3a8fa,updated t::StapThread to reflect recent changes.
agentzh,2012-09-25 03:46:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c25f2df8aa7085c70e4e0da7b9ba471fcb62dab2,c25f2df8aa7085c70e4e0da7b9ba471fcb62dab2,bugfix: ngx.thread abortion did not abort ngx.flush(true) in time.
agentzh,2012-09-25 02:21:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/de36decd705c7424dae83fac10159ed4912b8a39,de36decd705c7424dae83fac10159ed4912b8a39,Merge remote-tracking branch 'origin/master' into thread
agentzh,2012-09-25 02:21:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2bea02618cf7f00562958aaa5ccbf0523edfd240,2bea02618cf7f00562958aaa5ccbf0523edfd240,bugfix: the write event timer might not be removed in time in ngx.flush(true) when ngx_handle_write_event failed.
agentzh,2012-09-25 02:18:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f30e42d94445a929f3b710582d031d5516217571,f30e42d94445a929f3b710582d031d5516217571,Merge remote-tracking branch 'origin/master' into thread
agentzh,2012-09-25 02:16:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d3e2e646bd11eeb25d70cc2d973304dbc8ec37f3,d3e2e646bd11eeb25d70cc2d973304dbc8ec37f3,bugfix: ngx.flush(true) might not return immediately when it should.
agentzh,2012-09-25 01:02:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/33756e1cd0380e918690eb61bec10b0ef70fab46,33756e1cd0380e918690eb61bec10b0ef70fab46,bugfix: ngx.thread abortion did not abort tcpsock:send() in time.
agentzh,2012-09-25 00:45:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7c65ad1b904495c5dcc2c663251f2784a94381e8,7c65ad1b904495c5dcc2c663251f2784a94381e8,bugfix: ngx.thread abortion did not abort ngx.req.read_body() in time.
agentzh,2012-09-25 00:27:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/73cd491de9487606741117c25db9569df3ea1061,73cd491de9487606741117c25db9569df3ea1061,Merge remote-tracking branch 'origin/master' into thread
agentzh,2012-09-25 00:27:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/51b5421fe017b5e72588c1a3bea05511367e4759,51b5421fe017b5e72588c1a3bea05511367e4759,"refactor: changed the way ngx.req.read_body() handles r->main->count, which opens the door for abortion in the middile."
agentzh,2012-09-25 00:08:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/94e623f6fe5152fbbee83bf526b7978e87b86397,94e623f6fe5152fbbee83bf526b7978e87b86397,added a (passing) test for aborting the receive() invocation on the ngx.req.socket() object.
agentzh,2012-09-25 00:06:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1d74cad1999c8bebb95c7655866b5c7d77190e3f,1d74cad1999c8bebb95c7655866b5c7d77190e3f,Merge remote-tracking branch 'origin/master' into thread
agentzh,2012-09-25 00:06:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9e127b09a71f760c342b63b4cbf75fdfe6752dd8,9e127b09a71f760c342b63b4cbf75fdfe6752dd8,bugfix: always remove the read event timer during downstream cosocket finalization if it is not removed yet.
agentzh,2012-09-24 23:40:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/198e48d161bce86242dcb233872741d685d001d9,198e48d161bce86242dcb233872741d685d001d9,bugfix: NULL pointer access might happen on u->co_ctx in *handle_success and *handle_error functions. this bug had appeared in the previous commits.
agentzh,2012-09-24 23:13:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1d05ac614900da8450235bcb5662af478e6a117b,1d05ac614900da8450235bcb5662af478e6a117b,bugfix: ngx.thread abortion did not abort udpsock:receive() in time.
agentzh,2012-09-24 23:04:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c60ea6817fe0ebe88417dab90ead87201b5d73fd,c60ea6817fe0ebe88417dab90ead87201b5d73fd,bugfix: ngx.thread abortion did not abort the reading iterators returned by tcpsock:receiveuntil() in time.
agentzh,2012-09-24 22:59:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0e54fcd7aa5e27a4a607a929b3724fffe7893ddf,0e54fcd7aa5e27a4a607a929b3724fffe7893ddf,bugfix: ngx.thread abortion did not abort tcpsock:receive() in time.
agentzh,2012-09-24 22:27:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/be896210d9905e293480b181621ffe9197234d8a,be896210d9905e293480b181621ffe9197234d8a,bugfix: ngx.thread abortion did not abort tcpsock:connect() in time.
agentzh,2012-09-24 22:11:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/05d4a3b7e5da6aaa78a6c84bd2029263ac604cb5,05d4a3b7e5da6aaa78a6c84bd2029263ac604cb5,refactor: now we use ngx_http_lua_request_cleanup for complete cleanups in all the places.
agentzh,2012-09-24 21:58:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c22c625ec0e7cfa584cd75a5db20ef4ac1a64293,c22c625ec0e7cfa584cd75a5db20ef4ac1a64293,bugfix: ngx.thread abortion did not abort the nginx resolver for ngx.socket.udp in time.
agentzh,2012-09-24 19:27:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ee02a8ca0736ae327b5c46c073813914c5353a9a,ee02a8ca0736ae327b5c46c073813914c5353a9a,updated .gitignore a bit.
agentzh,2012-09-24 19:20:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cd5522dceaf220b374dc3e668eec607dca36baa0,cd5522dceaf220b374dc3e668eec607dca36baa0,Merge remote-tracking branch 'origin/master' into thread
agentzh,2012-09-24 19:20:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9fdf63663c5d8f885a78d1a13861d49331c80836,9fdf63663c5d8f885a78d1a13861d49331c80836,bugfix: the nginx resolver might not be destroyed in time when it was used by ngx.socket.tcp and ngx.socket.udp.
agentzh,2012-09-24 18:56:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5c22e1d4b0d3baf0d5ae008d7e9ea4d592cd28c3,5c22e1d4b0d3baf0d5ae008d7e9ea4d592cd28c3,bugfix: ngx.thread abortion did not abort the nginx resolver for ngx.socket.tcp in time.
agentzh,2012-09-24 00:54:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3a916d1e9499155793cbae883edf4be9f3bcb9b4,3a916d1e9499155793cbae883edf4be9f3bcb9b4,Merge remote-tracking branch 'origin/master' into thread
agentzh,2012-09-24 00:53:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b771a2e400ef6ca95e1094c47247dba7de0376f8,b771a2e400ef6ca95e1094c47247dba7de0376f8,"bugfix: when a coroutine aborts with errors, its status might not be updated to ""dead""."
agentzh,2012-09-24 00:50:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/535edec6936d35574bede640cc6ccf4a2e9455e8,535edec6936d35574bede640cc6ccf4a2e9455e8,renamed t/094-uthread-exit to t/094-uthread-exit.t.
agentzh,2012-09-24 00:43:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9e28c48a39c5f54cc229a4b9c9f280b828658eda,9e28c48a39c5f54cc229a4b9c9f280b828658eda,"resolved conflicts when merging ""master"" into ""thread""."
agentzh,2012-09-24 00:40:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3b5dc53b86f22b8decbd1073330443d396e019c4,3b5dc53b86f22b8decbd1073330443d396e019c4,refactor: removed unnecessary code from the sleep handler for ngx.sleep().
agentzh,2012-09-24 00:26:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5e6a5b3e74eae6a98d950622d02d81e9b74adf4f,5e6a5b3e74eae6a98d950622d02d81e9b74adf4f,bugfix: ngx.thread abortion did not clean up the ngx.sleep timer in time. also refactored the uthread tests a bit.
agentzh,2012-09-23 19:39:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b63c3156ae0f05e0edb175c27eee4faee1ffea77,b63c3156ae0f05e0edb175c27eee4faee1ffea77,refactor: now we introduce an explicit is_uthread flag for each user thread.
agentzh,2012-09-23 19:24:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b6cb3a1367e2c296a48e701e69b18209aa5475e7,b6cb3a1367e2c296a48e701e69b18209aa5475e7,"resolved conflicts while merging ""master"" into ""thread""."
agentzh,2012-09-23 18:34:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/07b9b3b6ca5e89f7ba36fc6936c8efa6b2706546,07b9b3b6ca5e89f7ba36fc6936c8efa6b2706546,"bugfix: when the entry coroutine was yielded by coroutine.yield() then after it was resumed automatically its status would still be ""suspended""."
agentzh,2012-09-23 06:20:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/889a24afdfae8a2e36cbae9688cdcbc2eefc1f2d,889a24afdfae8a2e36cbae9688cdcbc2eefc1f2d,refactor: ensure that we always bypass ngx_http_postpone_filter_module when we generating downstream outputs. also removed all the legacy code handling postponed outputs.
agentzh,2012-09-23 02:23:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c1f40cd904690b30eb7fea17ecb501ab8dd3f2ab,c1f40cd904690b30eb7fea17ecb501ab8dd3f2ab,added (passing) tests for ngx.req.socket() + ngx.thread and ngx.req.read_body() + ngx.thread.
agentzh,2012-09-23 02:09:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b4e6bf1742ddd20631c027078553eb7946f05dce,b4e6bf1742ddd20631c027078553eb7946f05dce,added (passing) tests for UPD/TCP cosockets + ngx.thread.
agentzh,2012-09-23 01:18:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/985c4a5e941d68f074865b4340a6ed204281ac11,985c4a5e941d68f074865b4340a6ed204281ac11,added (passing) tests for ngx.flush(true) + ngx.thread.
agentzh,2012-09-22 23:17:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/518c94eaad30b0af6f168da2d6b8db8d8c80ba7f,518c94eaad30b0af6f168da2d6b8db8d8c80ba7f,feature: added support for manual time-slicing between lightweight threads via the coroutine.yield() API.
agentzh,2012-09-22 22:05:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3b0d04b9560408cd395f51c23ca5d8da18d4537f,3b0d04b9560408cd395f51c23ca5d8da18d4537f,added a (passing) test for creating user threads in a user coroutine. also tracked user coroutine creation in the test cases for user threads.
agentzh,2012-09-22 20:05:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4282176462ce4b7a0c412f2393efefe7a396f29b,4282176462ce4b7a0c412f2393efefe7a396f29b,"added (passing) tests for the ""coroutine status"" of user threads."
agentzh,2012-09-22 19:54:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c0ac1197848f22fa7b542d1a1de57f32808c57ac,c0ac1197848f22fa7b542d1a1de57f32808c57ac,added (passing) tests for nested user threads.
agentzh,2012-09-22 19:26:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/10c7a073927bd856411a3915fec371229f243c36,10c7a073927bd856411a3915fec371229f243c36,Merge remote-tracking branch 'origin/master' into thread
agentzh,2012-09-22 19:26:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/377bcd37893c804bcb1241b097a556cf4931382e,377bcd37893c804bcb1241b097a556cf4931382e,updated docs to reflect recent changes.
agentzh,2012-09-22 19:23:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f02a7323db5795d92d3c1b8acbf7e1bfd6f09ada,f02a7323db5795d92d3c1b8acbf7e1bfd6f09ada,added several (passing) tests for ngx.thread + ngx.location.capture.
agentzh,2012-09-22 08:32:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/12903c20dc5ddcfad434d350ea433d1d2ef3a65b,12903c20dc5ddcfad434d350ea433d1d2ef3a65b,test: enabled repeat_each(2) in 093-uthread.t.
agentzh,2012-09-22 08:31:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6d854044cf08a3b71600c79f6f9f88407524fff6,6d854044cf08a3b71600c79f6f9f88407524fff6,feature: first prototype for the ngx.thread API (aka the lightweight thread API for ngx_lua) that passes the first bunch of tests.
agentzh,2012-09-21 18:26:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/903a3e55cffeff47f5efeb01ac53882ca1b8ac8e,903a3e55cffeff47f5efeb01ac53882ca1b8ac8e,refactor: even more coding style fixes.
agentzh,2012-09-21 18:22:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/681f0dd61d2e916ed1245e9535faa466103c9577,681f0dd61d2e916ed1245e9535faa466103c9577,refactor: massive coding style fixes.
agentzh,2012-09-21 18:12:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/639cc398fbb34f7abaac8d0bc70d1da3d50966e2,639cc398fbb34f7abaac8d0bc70d1da3d50966e2,refactor: removed the unused function ngx_http_lua_has_inline_var.
agentzh,2012-09-21 05:52:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/946e907416369e2759b04ee99afbac6fa2d18ccd,946e907416369e2759b04ee99afbac6fa2d18ccd,"bugfix: the ""resume_handler"" field of the subrequest ctx was not properly initialized."
agentzh,2012-09-21 03:24:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3a7075dcd19c2c46f1b14ff8655a5bccfeb56453,3a7075dcd19c2c46f1b14ff8655a5bccfeb56453,added comments to the ngx_http_lua_run_thread function; also fixed a coding style issue.
agentzh,2012-09-21 03:07:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/51a68ac94a9fad9a9db1806430c9a7f98896d885,51a68ac94a9fad9a9db1806430c9a7f98896d885,bugfix: better error handling in ngx_http_lua_wev_handler.
agentzh,2012-09-21 02:20:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cf474bcb9f3b86c68121b24d34974ffe87d533e2,cf474bcb9f3b86c68121b24d34974ffe87d533e2,refactor: improved status code handling in content/access/rewrite_by_lua*.
agentzh,2012-09-21 00:19:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/213acb96ffe25aa2f007f4c19935b84e164f19da,213acb96ffe25aa2f007f4c19935b84e164f19da,refactor: removed the ctx->entry_co field and also made the coctx->co_status and coctx->flushing fields smaller.
agentzh,2012-09-20 21:54:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1fc023b26a313bb63a46c1b83cdcaff0a6992485,1fc023b26a313bb63a46c1b83cdcaff0a6992485,removed the declaration of the non-existent function ngx_http_lua_resume; also fixed a warning from clang.
agentzh,2012-09-20 18:42:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7d5d923400592ac588a3b6af1218fe8b4542ce70,7d5d923400592ac588a3b6af1218fe8b4542ce70,docs: fixed the documenation for ngx.req.set_header and made it explicit that the modified request headers will be inherited by the subrequests. thanks James Hurst for reporting this nit.
agentzh,2012-09-18 03:13:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d0d9140e118693ce3dfb5523ad2f6f5c428f2503,d0d9140e118693ce3dfb5523ad2f6f5c428f2503,"optimize: tcpsock:send() now calls c->send() instead of ngx_output_chain(), which gives about 4src/tcp.c ~ 5src/tcp.c performance boost for a simple test case accessing redis for several times."
agentzh,2012-09-17 18:48:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/67f8bbbde3899f841e8d5416c4ac0bb3dc69a0cc,67f8bbbde3899f841e8d5416c4ac0bb3dc69a0cc,removed the valgrind suppression rules for sendmsg/ngx_channel_write since we already fix these issues via the channel-uninit-params patch: https://github.com/agentzh/ngx_openresty/blob/master/patches/nginx-1.2.3-channel-uninit-params.patch
agentzh,2012-09-16 04:23:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2e50b19433808048b4693caac5c406a704cfb9a5,2e50b19433808048b4693caac5c406a704cfb9a5,updated valgrind.suppress for valgrind 3.8.0.
agentzh,2012-09-15 20:16:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/66e2d98b052cd638fb2c98c4b31f8d4fbe21f9e9,66e2d98b052cd638fb2c98c4b31f8d4fbe21f9e9,docs: bumped version number to 0.6.5 and also documented the trick for doing background async jobs by using ngx.eof() + keepalive_timeout 0.
agentzh,2012-09-14 21:51:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0c14852af3556ed8d26ba924453db2dae338a325,0c14852af3556ed8d26ba924453db2dae338a325,suppressed the warnings reported by valgrind 3.8.0.
agentzh,2012-09-13 22:21:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5b5a02dbedd69fcf467fd1396fb7c19481fd1179,5b5a02dbedd69fcf467fd1396fb7c19481fd1179,fixed a test case in 068-socket-keepalive.t by properly flushing the redis store first.
agentzh,2012-09-13 18:46:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/62a0b6960963547a529bf73bf807fe29bfaafa06,62a0b6960963547a529bf73bf807fe29bfaafa06,updated docs to reflect recent changes.
agentzh,2012-09-13 03:45:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b1289817d905b66d3579f8f5f8555a3024fffe61,b1289817d905b66d3579f8f5f8555a3024fffe61,added (passing) tests for using parallel subrequests after ngx.eof().
agentzh,2012-09-13 00:06:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e0adfe5ec4b6af4903b16f70daf10016fc1c5fe9,e0adfe5ec4b6af4903b16f70daf10016fc1c5fe9,bugfix: the UDP and TCP cosockets could not keep track of the current Lua coroutine. now we also explicitly clear the current Lua coroutine context in the main request context to ensure that the I/O scheduler can indeed keep track of the current Lua coroutine itself.
agentzh,2012-09-12 22:21:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e49622d8b6e4ab9925b76bd12bef6fbf88089322,e49622d8b6e4ab9925b76bd12bef6fbf88089322,added a (passing) test case for using ngx.flush(true) in a user coroutine.
agentzh,2012-09-12 22:08:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fe8d7be13249f84d8ed5a84f6c62cc04d574733e,fe8d7be13249f84d8ed5a84f6c62cc04d574733e,optimize: we now skip processing in the default write event handler when the write event is not ready.
agentzh,2012-09-12 21:45:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/79dee2697a091726645afb2eaa0df700ae01cbdd,79dee2697a091726645afb2eaa0df700ae01cbdd,coding style fixes and also fixed a warning in clang.
agentzh,2012-09-12 21:43:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2fbb4ada9920983df5b19d68ffeaf27762043638,2fbb4ada9920983df5b19d68ffeaf27762043638,"refactor: removed the ""cur_co"" field from ngx_http_lua_ctx_t because it is not necessary at all."
agentzh,2012-09-12 19:04:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/644b0b15c9cddeefdaf3a7bf066d3dabf23a778e,644b0b15c9cddeefdaf3a7bf066d3dabf23a778e,cleaned up the code a bit in ngx_http_lua_wev_handler.
agentzh,2012-09-12 05:38:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/240caaa72ec8585876e530413649ec8edf4ca785,240caaa72ec8585876e530413649ec8edf4ca785,refactor: made ngx.flush(true) keep track of the current Lua coroutine automatically.
agentzh,2012-09-12 02:34:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/59c5231b8c58bcf8e15718a9e6a0fdb31ca4ff56,59c5231b8c58bcf8e15718a9e6a0fdb31ca4ff56,"refactor: renamed the confusing ""waiting"" field of ngx_http_lua_co_ctx_t to ""pending_subreqs""."
agentzh,2012-09-12 00:55:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9155f9400da86ed15c344a81f37d1426b9bae73a,9155f9400da86ed15c344a81f37d1426b9bae73a,refactor: made ngx.req.read_body() keep track of the current Lua coroutine automatically.
agentzh,2012-09-12 00:32:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6fba5e1bff624fd0ccc2dcd599e38d8ae89032a7,6fba5e1bff624fd0ccc2dcd599e38d8ae89032a7,refactor: made ngx.req.socket() use the existing req_body_reader_co_ctx field in the context struct.
agentzh,2012-09-12 00:22:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/12981c904402ca13ee6ed3ea2055d2a35423d2b6,12981c904402ca13ee6ed3ea2055d2a35423d2b6,refactor: made the ngx.req.socket() objects keep track of the current Lua coroutine themselves. also disabled the ngx.req.socket() API in subrequests to prevent potential problems.
agentzh,2012-09-11 23:34:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/357d4d7613a0db11e449bbd378b6b602523e834b,357d4d7613a0db11e449bbd378b6b602523e834b,refactor: made the UDP/datagram cosockets schedule their I/O automatically on the Lua coroutine level.
agentzh,2012-09-11 23:14:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b88aa3eaff7588dbea718f39db4470d300b6aa7f,b88aa3eaff7588dbea718f39db4470d300b6aa7f,"refactor: removed the unused ""socket_busy"" flag from ngx_http_lua_co_ctx_t."
agentzh,2012-09-11 23:05:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9cb0d829d373b6fdfdd6b5585a7068cb11099b36,9cb0d829d373b6fdfdd6b5585a7068cb11099b36,refactor: made TCP/stream cosockets schedule their I/O automatically on the Lua coroutine level.
agentzh,2012-09-11 19:14:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e2f8b2a6b4fcacf7371f4dc24aeb910debe2a7a5,e2f8b2a6b4fcacf7371f4dc24aeb910debe2a7a5,enabled the http-lua-info static probes in ngx_http_lua_wev_handler.
agentzh,2012-09-11 02:04:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2f884b83e0ba6d254d8d0f292b196698f7e4671f,2f884b83e0ba6d254d8d0f292b196698f7e4671f,refactor: made ngx.location.capture() and ngx.location.capture_multi schedule themselves at the coroutine level (instead of the request level).
agentzh,2012-09-10 22:44:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/27dd2bab82d83b6951cc2542fb7cdae23d149684,27dd2bab82d83b6951cc2542fb7cdae23d149684,minor cleanup in ngx.sleep().
agentzh,2012-09-10 22:23:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7134d428a740b7c6702cde830de1ae3eb3e6247b,7134d428a740b7c6702cde830de1ae3eb3e6247b,refactor: made ngx.sleep() schedule itself at the coroutine level.
agentzh,2012-09-10 19:05:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4abd896cd58529a6195339b230a71a2a4d08238c,4abd896cd58529a6195339b230a71a2a4d08238c,fixed a test case in 020-subrequest.t for slow machines.
agentzh,2012-09-10 08:03:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/85c658475af9fba9a19e3b97d84d562a476a94f0,85c658475af9fba9a19e3b97d84d562a476a94f0,made the new subrequest test cases less possible to fail unexpectedly on slow machines.
agentzh,2012-09-10 07:59:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9fe21af577ec9109eda6a80be684964ac683cfc5,9fe21af577ec9109eda6a80be684964ac683cfc5,use google.com instead of taobao.com in the test suite.
agentzh,2012-09-10 04:30:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a7d6962c21f52af1d3b7a02daa69e64c73634537,a7d6962c21f52af1d3b7a02daa69e64c73634537,upgraded version to 0.6.4.
agentzh,2012-09-09 23:01:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e572d87726a84e44b71c70ecca8d6af1bd1c9dc4,e572d87726a84e44b71c70ecca8d6af1bd1c9dc4,fixed the test cases for the mockeagain (W) testing mode.
agentzh,2012-09-09 19:57:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/73faa581d8ee0d6dde0ecaf29635a2f433d96ffa,73faa581d8ee0d6dde0ecaf29635a2f433d96ffa,added more tests for bad upstream in subrequests.
agentzh,2012-09-09 05:37:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b3255acdaebbb5f4aa417e07b5b6fd9e44301154,b3255acdaebbb5f4aa417e07b5b6fd9e44301154,bugfix: reset the subrequest status code when the non-buffered ngx_http_upstream request in the subrequest fails due to timeout errors or premature connection close and etc. this requires the patch for the nginx core to fix an issue in ngx_http_upstream: https://raw.github.com/agentzh/ngx_openresty/master/patches/nginx-1.2.3-nonbuffered-upstream-truncation.patch
agentzh,2012-09-07 21:32:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d06e260181bff144ba5705e5c8470a4df437ce0f,d06e260181bff144ba5705e5c8470a4df437ce0f,made a test case requires DNS resolving less possible to fail in slow testing modes.
agentzh,2012-09-06 05:11:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c56a98cd8085aab5500735d85ef6eaf9e8378eaa,c56a98cd8085aab5500735d85ef6eaf9e8378eaa,bugfix: we should not always return NGX_OK in our post_subrequest handler even if rc >= 300 because it will prevent response headers from being sent.
agentzh,2012-09-06 04:47:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/865cb1981bec22520b4541db0ffdb2a185f0fb91,865cb1981bec22520b4541db0ffdb2a185f0fb91,added a (passing) test for returning NGX_ERROR in the output body filter for the subrequest issued by ngx.location.capture().
agentzh,2012-09-06 00:40:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/46a3c3d5245db1ec88d64ea99763e8c9f5c6c74f,46a3c3d5245db1ec88d64ea99763e8c9f5c6c74f,updated .gitignore a bit.
agentzh,2012-09-06 00:39:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9728454afd03be17fa55563da1a777f5f6e67ad3,9728454afd03be17fa55563da1a777f5f6e67ad3,bugfix: the main request might be prematurely terminated if a subrequest issued by ngx.location.capture (or its friends) was finalized with error codes.
agentzh,2012-09-05 23:15:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/75c8c30980de86bb0fbc219550c933691e8454a0,75c8c30980de86bb0fbc219550c933691e8454a0,updated valgrind.suppress for i386.
agentzh,2012-08-30 18:48:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3a90b574080d1e9a83a636af5e74a8182365cd09,3a90b574080d1e9a83a636af5e74a8182365cd09,bugfix: we did not compile with nginx cores without the allow_request_body_updating patch. thanks Dirk Feytons.
agentzh,2012-08-30 03:16:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3b6f584be34649462bfd3c06c933134885e294de,3b6f584be34649462bfd3c06c933134885e294de,tweaked a test case to make it less possible to fail in slow testing modes.
agentzh,2012-08-30 01:08:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd0a8fb182f045f9e71018dd8031730fa70f3d5f,fd0a8fb182f045f9e71018dd8031730fa70f3d5f,refactor: now ngx_lua issues subrequests without updating r->postponed at all so as to allow the parent requests flush outputs immediately without waiting for its running subrequests. this will pave a way for subrequest integration with the upcoming lightweight thread model.
agentzh,2012-08-29 19:29:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7819b4284a39ec61ea7b64574b39becb42e38dcd,7819b4284a39ec61ea7b64574b39becb42e38dcd,fixed typos in the test titles.
agentzh,2012-08-29 19:17:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ce1bcd53cbbc71bf46c007315bdd656d2c2190a3,ce1bcd53cbbc71bf46c007315bdd656d2c2190a3,"bugfix: when a user coroutine died with an error, its parent coroutine's status was still 'normal'. thanks jinglong for reporting this issue."
agentzh,2012-08-29 18:59:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/62d67ad2f2682e2a5c86b75cf3a04fe1f53d2e05,62d67ad2f2682e2a5c86b75cf3a04fe1f53d2e05,optimize: removed a duplidate ngx_memzero invocation in ngx_http_lua_reset_ctx. thanks jinglong.
agentzh,2012-08-28 23:23:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/35c1fcd04e157fe1f084e8bfa7fa75a27a152028,35c1fcd04e157fe1f084e8bfa7fa75a27a152028,"docs: removed the note for the issues regarding ""normal"" state user coroutines in coroutine.resume() and coroutine.status() because we have already fixed them."
agentzh,2012-08-28 23:15:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/50f20351b6954500b89ffca5d8a90ea70fb29874,50f20351b6954500b89ffca5d8a90ea70fb29874,"merged ""master"" into ""thread""."
agentzh,2012-08-28 23:04:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5cb6e9fa526816cbdc4894d4322c8a2d7a286241,5cb6e9fa526816cbdc4894d4322c8a2d7a286241,"refactor: now every lua coroutine takes its own context state for its nginx-side activities. bugfix: coroutine.status() returned ""suspended"" for ""normal"" coroutines. bugfix: coroutine.resume() did not return an error immediately when operating on ""normal"" coroutines. feature: added new dtrace static probes http-lua-user-coroutine-yield and http-lua-entry-coroutine-yield."
agentzh,2012-08-26 06:55:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a819a192e7cd834189bd2b88e0575ead3cea7bdc,a819a192e7cd834189bd2b88e0575ead3cea7bdc,docs: documented the new shdict:flush_expired() method. bumped the version to 0.6.3. also mentioned lua-resty-dns in the SEE ALSO section.
agentzh,2012-08-25 04:00:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f09867d915eec0708d73ee9580aeef077f9fd037,f09867d915eec0708d73ee9580aeef077f9fd037,feature: implemented shdict:flush_expired(max_count) for flushing out expired items up to max_count (or unlimited when max_count == 0). thanks Brian Akins for the patch.
agentzh,2012-08-22 22:25:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b771643dba336fdc11a99044014d13e39550bcae,b771643dba336fdc11a99044014d13e39550bcae,bumped version number to 0.6.2.
agentzh,2012-08-22 18:35:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e650dd11802dcd1e110dfe38bdb0f03d27f98a9f,e650dd11802dcd1e110dfe38bdb0f03d27f98a9f,bugfix: the dtrace static probes did not compile on non-Linux systems like FreeBSD.
agentzh,2012-08-22 04:41:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e64d60bd200ccde495c2481fda77cab7da1c793a,e64d60bd200ccde495c2481fda77cab7da1c793a,increated the timeout threshold for a test case requires resolving three domain names.
agentzh,2012-08-22 00:43:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/52018289b16f426c61ec9f06f0e27064a4c03d4e,52018289b16f426c61ec9f06f0e27064a4c03d4e,bugfix: tcpsock:send() might send garbage if it was not the first call: we did not properly initialize the chain writer ctx for every send() call. thanks Zhu Dejiang for reporting this issue.
agentzh,2012-08-22 00:12:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/28317770f0d76aa90f505561dd65a8ee7fe3641a,28317770f0d76aa90f505561dd65a8ee7fe3641a,"feature: added new dtrace static probes http-lua-socket-tcp-send-start, http-lua-socket-tcp-receive-done, and http-lua-socket-tcp-keepalive-buf-unread."
agentzh,2012-08-21 23:59:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ccc4af2a1cd4b984e8e00db8ad6112f32296f59c,ccc4af2a1cd4b984e8e00db8ad6112f32296f59c,"bugfix: ngx_http_lua_probe.h was not listed in the NGX_ADDON_DEPS list in the ""config"" file."
agentzh,2012-08-21 00:02:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e46e4907a580c8a6d17aa20d4d0e230e2d34fdb0,e46e4907a580c8a6d17aa20d4d0e230e2d34fdb0,"bugfix: the send timeout timer for downstream output was not deleted in time in our write event handler, which might result in request abortion for long running requests. thanks Demiao Lin (ldmiao) for reporting this issue."
agentzh,2012-08-19 23:14:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e282c1c6c1d7ce5f9e53df610b2b413b2520c403,e282c1c6c1d7ce5f9e53df610b2b413b2520c403,bumped version to 0.6.1.
agentzh,2012-08-19 08:08:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/936653cbd864de494f4660cb7a6fd25eb54f6fcd,936653cbd864de494f4660cb7a6fd25eb54f6fcd,removed the req_header_cached field from ngx_http_lua_ctx_t because it is not used at all.
agentzh,2012-08-19 08:05:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/43de06a0cf543fcd1508bb80c24b20f05a9c84ad,43de06a0cf543fcd1508bb80c24b20f05a9c84ad,merged merge conflicts.
agentzh,2012-08-19 08:00:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c2f3cffd549779cda62333d820d128d4a4e1092c,c2f3cffd549779cda62333d820d128d4a4e1092c,"bugfix: removed unnecessary code that was for the old coroutine abortion mechanism based on Lua exceptions. we no longer need that at all because we have switched to using coroutine yield to abort the current coroutine for ngx.exec, ngx.exit, ngx.redirect, and ngx.req.set_uri(uri, true)."
agentzh,2012-08-18 16:17:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/912707780eb720c3342fd76bce542d50cf23e66c,912707780eb720c3342fd76bce542d50cf23e66c,bumped version to 0.6.0.
agentzh,2012-08-18 05:44:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ce791df20f598ac569a605eaf2e790d12aa0ea8b,ce791df20f598ac569a605eaf2e790d12aa0ea8b,documented the limitation in the current coroutine.resume() implementation.
agentzh,2012-08-18 05:41:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2b560d359090cd659f00c94a799e61ad0420cdfe,2b560d359090cd659f00c94a799e61ad0420cdfe,documented the limitation in the current coroutine.status implementation and also included other documentation updates.
agentzh,2012-08-18 05:40:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7feb3f4f04c1e091baec6295a3f608c381672025,7feb3f4f04c1e091baec6295a3f608c381672025,fixed a source line exceeding 80 cols.
agentzh,2012-08-18 05:28:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5c1603354c27ccf8d2b34e5f23b846d8e1a125f2,5c1603354c27ccf8d2b34e5f23b846d8e1a125f2,"style: renamed ctx->cc to ctx->cur_co, ctx->cc_ref to ctx->entry_ref, and ctx->cc_op to ctx->co_op."
agentzh,2012-08-18 04:53:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c52320f5f26a11a7cafc859d4190939f3c8b7da7,c52320f5f26a11a7cafc859d4190939f3c8b7da7,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2012-08-18 04:51:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4e5cb24490116148f08994fed35c4a8e2eb9ba31,4e5cb24490116148f08994fed35c4a8e2eb9ba31,"bugfix: there was no proper error messages when we tried to resume running coroutines. bugfix: there was error logs for resuming dead user coroutines, which was too chatty."
agentzh,2012-08-17 23:06:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bed05ac93d05301b2592a6660c9e8ee27df8cf66,bed05ac93d05301b2592a6660c9e8ee27df8cf66,fixed the developer build script for FreeBSD.
agentzh,2012-08-16 21:52:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c4d7962601280825fb1604df81ebd97bd230e9f5,c4d7962601280825fb1604df81ebd97bd230e9f5,"avoided using qq.com, taobao.com, and baidu.com in the test cases because the ""check leak"" testing mode will flush these 3rd-party sites which is very very bad."
agentzh,2012-08-16 01:03:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d6c32ea39495dbfd94c95d9a79adfc636142d192,d6c32ea39495dbfd94c95d9a79adfc636142d192,feature: yielding entry coroutines from within the user Lua code will make them resume immediately.
agentzh,2012-08-16 00:47:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5065194922dd2fef19be0c7dd27814c7b0fe6226,5065194922dd2fef19be0c7dd27814c7b0fe6226,added a comment.
agentzh,2012-08-15 22:33:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/347214c0557bcaca0059e9984d613567b387911e,347214c0557bcaca0059e9984d613567b387911e,documented the new user coroutine API and claimed that we work with nginx 1.3.4. also updated the TODO list to reflect recent changes.
agentzh,2012-08-15 21:34:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9228475a523670cbcceb1fa7e48f65ec7d9d1720,9228475a523670cbcceb1fa7e48f65ec7d9d1720,removed the unused ngx_http_lua_dump_postponed function that was used for subrequest debugging. thanks Dirk Feytons.
agentzh,2012-08-15 18:58:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/47f0bf1933a367a0b38a19c2ed63d4f347812a5a,47f0bf1933a367a0b38a19c2ed63d4f347812a5a,properly handled the errors when the user coroutine does not have a parent.
agentzh,2012-08-15 18:26:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1c2cae9c704ff75ac0fbbb8a12fd78878df36e74,1c2cae9c704ff75ac0fbbb8a12fd78878df36e74,Merge branch 'master' into coroutine
agentzh,2012-08-14 05:22:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7b363ee7b216e1f851d8095ba04ade00093d30a8,7b363ee7b216e1f851d8095ba04ade00093d30a8,bumped version to 0.5.14.
agentzh,2012-08-13 07:27:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1462d9650e962d650ad4c7a66c8748c67666b068,1462d9650e962d650ad4c7a66c8748c67666b068,"resolved conflicts while merging ""master"" into ""coroutine""."
agentzh,2012-08-13 07:01:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/afb26d28466bd87954a34a3393b29c4781ade08d,afb26d28466bd87954a34a3393b29c4781ade08d,more fixes in the dtrace provider file.
agentzh,2012-08-13 06:58:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f7858fffb6acd6887eb0163853922e7936624db7,f7858fffb6acd6887eb0163853922e7936624db7,fixed the argument type again in the dtrace provider.
jinglong,2012-08-13 06:57:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f9dc0dc01d1a65fa84fd3ef46b6aebdf7884a5d7,f9dc0dc01d1a65fa84fd3ef46b6aebdf7884a5d7,fix strict-aliasing warnings in ngx_http_lua_clfactory_bytecode_prepare
agentzh,2012-08-13 06:44:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c9d779e4713bb20ae85ab08f19d26c9a5cdfa9f6,c9d779e4713bb20ae85ab08f19d26c9a5cdfa9f6,avoided declaring new C types in our dtrace provider.
agentzh,2012-08-13 06:29:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e5ebad47334759225469d8ff08846f9a6e5ad4a,8e5ebad47334759225469d8ff08846f9a6e5ad4a,bugfix: redeclared the ngx_http_request_t type in our dtrace provider file.
agentzh,2012-08-12 23:06:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2c6a88c42bdc3a356030cab9da29ceba6323089a,2c6a88c42bdc3a356030cab9da29ceba6323089a,Merge branch 'master' into coroutine
agentzh,2012-08-12 18:18:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a70c1e4c75ef83d8251cd840e3de567b68080d6d,a70c1e4c75ef83d8251cd840e3de567b68080d6d,bumped version to 0.5.13.
agentzh,2012-08-12 07:12:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/592d24f5aa2df1ab2216f2d7f32b533031b0c3ce,592d24f5aa2df1ab2216f2d7f32b533031b0c3ce,Merge branch 'master' into coroutine
agentzh,2012-08-12 07:05:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1acd7e93c019cadc85a26277b665910b9a18127b,1acd7e93c019cadc85a26277b665910b9a18127b,fixed a source line exceeding 80 cols.
agentzh,2012-08-12 07:04:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a39408060686d0339f3999eec9fa056cec2dd834,a39408060686d0339f3999eec9fa056cec2dd834,"bugfix: reads of unitialized memory might happen when variadic macros is defined and logging socket errors is enabled: when NGX_HAVE_VARIADIC_MACROS is defined, ngx_log_error_core does not take a va_list typed argument which disallows C function wrappers."
agentzh,2012-08-11 20:22:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bcaf634a27379e87128312e25baa56484bcedefc,bcaf634a27379e87128312e25baa56484bcedefc,"bugfix: segmentation faults might happen when 1. the nginx worker was shutting down (i.e., the Lua VM is closing), 2. ngx.re.gmatch was used, and 3. regex cache is enabled via the ""o"" flag. this bug had appeared in ngx_lua 0.5.0rc30 (and ngx_openresty 1.0.15.9)."
agentzh,2012-08-11 19:29:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d010f0143442cd6aaf693e461c736d855126768b,d010f0143442cd6aaf693e461c736d855126768b,bugfix: pcre_pool_resumed should be initialized to 1.
agentzh,2012-08-11 19:28:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9043e7af986cb8737fa929e8ad48b74e34044cce,9043e7af986cb8737fa929e8ad48b74e34044cce,bugfix: the pcre pool might not be properly resumed when lua panic happens in the lua coroutine scheduler.
agentzh,2012-08-11 19:23:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e3ee4b1e0fa5b8022dc68335493fc8e85b61a75,8e3ee4b1e0fa5b8022dc68335493fc8e85b61a75,renamed 090-coroutine.t to 091-coroutine.t.
agentzh,2012-08-11 19:17:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f77dffbf3b8903f04b3829750dc999c8ab0a8e12,f77dffbf3b8903f04b3829750dc999c8ab0a8e12,Merge branch 'master' into coroutine
agentzh,2012-08-11 19:16:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/de65585f38375ef3c4a501e43ea2ba9a386c273a,de65585f38375ef3c4a501e43ea2ba9a386c273a,optimize: make the coroutine scheduler faster for the entry coroutines (in contrast with user coroutines).
agentzh,2012-08-11 19:05:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/93d12de226f946b50cb6d51f382368af95b037e4,93d12de226f946b50cb6d51f382368af95b037e4,checked in files that are missing in the previous commit for lua_socket_log_errors.
agentzh,2012-08-11 18:58:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1efea1b3da70f6351f95db98adee31fa9d2e3be5,1efea1b3da70f6351f95db98adee31fa9d2e3be5,docs: documented the new lua_socket_log_errors directive and also updated the TODO list.
agentzh,2012-08-11 18:45:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f6bd4f7e6ec7e84047ee29580b860e4c436cdb04,f6bd4f7e6ec7e84047ee29580b860e4c436cdb04,feature: added new directive lua_socket_log_errors that can be used to disable automatic error logging for both the TCP and UDP cosockets. thanks Brian Akins for the patch.
agentzh,2012-08-09 23:45:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/45461af3a43effacb2bf571563fd4b652435201d,45461af3a43effacb2bf571563fd4b652435201d,fixed a source line exceeding 80 columns.
agentzh,2012-08-09 23:44:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f9e7f3703b293c8081b7c52b2dbb49b6549fb039,f9e7f3703b293c8081b7c52b2dbb49b6549fb039,"now we explicitly disable the user coroutine API in running contexts other than content_by_lua*, rewrite_by_lua*, and access_by_lua*."
agentzh,2012-08-09 23:35:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2f5f9550cd1464829c84f98d5c8e260dca4d619a,2f5f9550cd1464829c84f98d5c8e260dca4d619a,updated the systemtap-based test cases for user coroutines.
agentzh,2012-08-09 23:04:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9c54ac2d219bed4b63fcfb2460d4cef8ee10eff0,9c54ac2d219bed4b63fcfb2460d4cef8ee10eff0,improved the comments for the first few fields of ngx_http_lua_ctx_t.
agentzh,2012-08-09 22:56:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/626cb4a95c260c2a9bf6d6c2bd212ea6e1e63e75,626cb4a95c260c2a9bf6d6c2bd212ea6e1e63e75,"eliminated short enum names NONE, YIELD, and RESUME to prevent naming collisions. also use only 2 bits for the cc_op filed in the ctx struct."
agentzh,2012-08-09 01:10:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/75d2d7ab12fdae1b7ff07249d3f2c32c8b5e41ca,75d2d7ab12fdae1b7ff07249d3f2c32c8b5e41ca,added new static dtrace probe http-lua-user-coroutine-resume.
agentzh,2012-08-09 00:17:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4679f459a8fed0d8978c9946c878036e09241968,4679f459a8fed0d8978c9946c878036e09241968,added (passing) tests for calling ngx.exit() and ngx.exec() in deeply nested user coroutines. also added new static probe http-lua-user-coroutine-create.
agentzh,2012-08-08 22:14:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/849492e5bb69bbf5659da100979cd49dd69b3e94,849492e5bb69bbf5659da100979cd49dd69b3e94,"added a (passing) test for deeply nested coroutines. also avoided using 3rd-party web sites in the test cases to prevent flushing them in the ""check leak"" testing mode."
agentzh,2012-08-08 19:19:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c314499de7e862b4f6cbd8497e86814171ef3fef,c314499de7e862b4f6cbd8497e86814171ef3fef,fixed a source line exceeding 80 cols.
agentzh,2012-08-08 19:12:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/da5e425422bac93851134eb60277231c5c1c9adb,da5e425422bac93851134eb60277231c5c1c9adb,Merge branch 'master' into coroutine
agentzh,2012-08-08 19:12:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/44e38b134a5785d8e832c364b83023984ee8a468,44e38b134a5785d8e832c364b83023984ee8a468,fixed a place where we did not check the pointer returned from ngx_array_push.
agentzh,2012-08-08 18:00:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/646b0129d8fbc0911032cc540c5af4cd3414d8b2,646b0129d8fbc0911032cc540c5af4cd3414d8b2,added a subtest for the error logs when resuming dead coroutines.
chaoslawful,2012-08-08 06:39:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bd78705a1a9a052f3df1adba4cd3907fe1b9b3bb,bd78705a1a9a052f3df1adba4cd3907fe1b9b3bb,bugfix: ngx_http_lua_resume didn't recognize dead coroutine if the coroutine was resumed with args
agentzh,2012-08-08 02:01:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6add2a593726baa70616335c71082777baa068e9,6add2a593726baa70616335c71082777baa068e9,avoided using hard-coded port number of the redis service in the test cases.
agentzh,2012-08-08 00:50:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d476dec5669cd991eb86b913e2daf536a72c2bdf,d476dec5669cd991eb86b913e2daf536a72c2bdf,added a test for using the coroutine-based pubsub API provided by Daniele Alessandri's lua-redis library.
agentzh,2012-08-07 23:34:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dc33fb33962ef029eb5da401d6e1e83dbd37556b,dc33fb33962ef029eb5da401d6e1e83dbd37556b,optimize: now we use lightuserdata as the key to the coroutine parents table in the lua registry. we also use lua_rawset and lua_rawget wherever possible.
agentzh,2012-08-07 23:01:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3572114b5125e167feda07277cfc3f2b50f44602,3572114b5125e167feda07277cfc3f2b50f44602,do not call the public C API in ngx_http_lua_coroutine.c for the sake of consistency. also checks if the request pointer is null in the Lua coroutine API implementations.
agentzh,2012-08-07 22:57:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4f5e8e2f87d3abf87a1e1d059dac11416382128c,4f5e8e2f87d3abf87a1e1d059dac11416382128c,better error handling in inlined Lua loading and running.
agentzh,2012-08-07 05:55:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9c4c72c5c3d6a71587323f45f20d15f627e1b505,9c4c72c5c3d6a71587323f45f20d15f627e1b505,bugfix: we should avoid complicated stack operations that might require memory allocaitons in the lua atpanic handler because it would produce another exception in the handler leading to infinite loops.
agentzh,2012-08-07 22:23:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a2543aa2216ac2c8eaae29fc5c27745baeef145b,a2543aa2216ac2c8eaae29fc5c27745baeef145b,"removed C macros that are no longer used. this was a merge mistake happened on the git ""coroutine"" branch."
agentzh,2012-08-07 05:55:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9494c12208ecef12be56bdff731f44c06181b6a7,9494c12208ecef12be56bdff731f44c06181b6a7,bugfix: we should avoid complicated stack operations that might require memory allocaitons in the lua atpanic handler because it would produce another exception in the handler leading to infinite loops.
agentzh,2012-08-07 05:50:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fc2194ac7bcf6b6ec9316fe83dfc78db0d8c3575,fc2194ac7bcf6b6ec9316fe83dfc78db0d8c3575,more coding style fixes.
agentzh,2012-08-07 05:28:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e6952756432206d6c53c3ba40a0c172deea7659b,e6952756432206d6c53c3ba40a0c172deea7659b,eliminated hard-coded nameserver IP address in the test cases in coroutine.t.
agentzh,2012-08-07 05:12:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/22a252dee590d830ca25b00b01bca7a1e56a80db,22a252dee590d830ca25b00b01bca7a1e56a80db,bugfix: the main vm stack leaked memory when the entry coroutine completed successfully or tried to yield.
agentzh,2012-08-07 04:37:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/abd231c014d2055214e4b492bdd823ae38f2835d,abd231c014d2055214e4b492bdd823ae38f2835d,even more coding style fixes.
agentzh,2012-08-07 04:34:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9e90fbefe8999141ab8b1ab936e9e422efae5b9f,9e90fbefe8999141ab8b1ab936e9e422efae5b9f,more coding style fixes.
agentzh,2012-08-07 04:28:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e7ca4988d5551921eae739f2ee5eb1ae2390d9b6,e7ca4988d5551921eae739f2ee5eb1ae2390d9b6,more coding style fixes.
agentzh,2012-08-07 04:21:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/df844cb8e21d0b67ea2ef7cf890a90f5238a3bd6,df844cb8e21d0b67ea2ef7cf890a90f5238a3bd6,"fixed the test plan in coroutine.t and made it work with ""check leak"" testing mode; also added error message tests to all the test cases there."
agentzh,2012-08-07 04:17:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/676c3dbf846a7cbc189ebc916995eddcf564f1b9,676c3dbf846a7cbc189ebc916995eddcf564f1b9,various coding style fixes.
agentzh,2012-08-07 04:07:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/50357f146a9e1e4c4efe21b83680d10b7cd0b27d,50357f146a9e1e4c4efe21b83680d10b7cd0b27d,Merge branch 'master' into coroutine
agentzh,2012-08-07 00:47:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4cb88e2053ae5cde96cd7c61358c8e06809708ac,4cb88e2053ae5cde96cd7c61358c8e06809708ac,display the stack top as debugging logs in ngx_http_lua_run_thread.
agentzh,2012-08-07 00:14:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8d63530b7276911eb220197b09151c528e41a9ed,8d63530b7276911eb220197b09151c528e41a9ed,fixed the serial number in t/089-coroutine.t.
agentzh,2012-08-07 00:08:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6f402674bda899f83dd2f5c5163a3807b3430c73,6f402674bda899f83dd2f5c5163a3807b3430c73,"merged branch ""master"" into ""coroutine""."
agentzh,2012-08-04 23:56:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3388d424f64f91b86197be443fc8bbd87e3afa05,3388d424f64f91b86197be443fc8bbd87e3afa05,"updated docs to reflect recent changes, especially the new ""openresty-en"" mailing list for English speakers."
agentzh,2012-08-04 04:56:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0ee0c49cfd2d2c198816d61522c212b2540931eb,0ee0c49cfd2d2c198816d61522c212b2540931eb,bugfix: the UDP cosocket object could no longer be used after an read or write error happened.
agentzh,2012-08-03 18:33:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d577a3818bf4b97dcdefc536349f783401ffdc79,d577a3818bf4b97dcdefc536349f783401ffdc79,bugfix: ngx.exit(status) always resulted in 200 OK response status when status > 200 and status < 300. thanks Nginx User for reporting this issue.
agentzh,2012-08-03 18:31:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/63daa7571228e2f566eff92e1ed62af329eba70c,63daa7571228e2f566eff92e1ed62af329eba70c,minor coding style fixes.
agentzh,2012-07-31 04:57:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f0efac25b32afaa28096fd1faea93c29c116cd92,f0efac25b32afaa28096fd1faea93c29c116cd92,updated the error message in docs to reflect recent changes.
agentzh,2012-07-31 04:46:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dfe6202049a430600a6c07641cb5f1c25e211ed2,dfe6202049a430600a6c07641cb5f1c25e211ed2,bumped version to 0.5.11.
agentzh,2012-07-31 04:22:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1dc7634b5b8dc038803f7c41731037240ec9fb63,1dc7634b5b8dc038803f7c41731037240ec9fb63,improved error message when calling ngx.req.socket() when the request body aleady exists.
agentzh,2012-07-31 00:00:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ef4a8acd75447faa712423bb9e41613beb644255,ef4a8acd75447faa712423bb9e41613beb644255,documented that ngx.req.socket() is required to be called before ngx.req.init_body().
agentzh,2012-07-30 23:47:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a071d3ee6ec8b44f672b9ecb683ff4200ccb42bc,a071d3ee6ec8b44f672b9ecb683ff4200ccb42bc,fixed two test cases for ngx.req.socket + ngx.req.append_body. also added a test for calling ngx.req.socket *after* ngx.req.init_body.
agentzh,2012-07-30 23:39:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/04ef7a49959717203a9aec535d416674cd6a33f8,04ef7a49959717203a9aec535d416674cd6a33f8,bugfix: ngx.req.init_body/ngx.req.append_body/ngx.req.finish_body could not work with ngx.req.socket and resulted in infinite loops when the nginx request header reader has pre-read the beginning part of the request body. thanks Matthieu Tourne for reporting this issue. bugfix: the ngx.req.socket() object could not handle pipelined requests in some special cases. feature: added new dtrace static probe nginx_lua:::http-lua-req-socket-consume-preread.
agentzh,2012-07-30 06:46:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/db0bebedb6feb022fcf45513107cffe1e31b1228,db0bebedb6feb022fcf45513107cffe1e31b1228,"documented the ngx.req.init_body, ngx.req.append_body, and ngx.req.finish_body APIs; also bumped the version number to 0.5.10."
agentzh,2012-07-30 04:12:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4697b1dc2c8e69ebe4fb7f194db1fae1159517f7,4697b1dc2c8e69ebe4fb7f194db1fae1159517f7,"skipped the hup tests in ""check leak"" testing mode."
agentzh,2012-07-30 00:24:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d29e8b3307865c62b6748c6f04e9b1cc9a198c45,d29e8b3307865c62b6748c6f04e9b1cc9a198c45,"various fixes in the test suite for the ""use hup"" testing mode."
agentzh,2012-07-28 23:05:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3ef8844b1f078bc2da0fe26f1ed32f5baf79d228,3ef8844b1f078bc2da0fe26f1ed32f5baf79d228,minor test updates
agentzh,2012-07-27 22:11:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d07f971631e2a188fcade8d9b204256fa2871ce6,d07f971631e2a188fcade8d9b204256fa2871ce6,fixed the test plan in 089-phase.t so that it works with different repeat_each settings.
agentzh,2012-07-27 21:41:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b994240df17bc89b2dadd1c1436603b156398fa8,b994240df17bc89b2dadd1c1436603b156398fa8,added stap based tests for client body temp file cleanups.
agentzh,2012-07-27 04:51:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/446e3477d3dc3963d969bb63c3addb0b6abac200,446e3477d3dc3963d969bb63c3addb0b6abac200,fixed two places of variable set but never read reported by the clang static analyzer.
agentzh,2012-07-27 04:37:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/88ad0a0014a842966a0931fc20eeb4e0eeee0b1e,88ad0a0014a842966a0931fc20eeb4e0eeee0b1e,fixed various corner cases for ngx.req.init_body/append_body/finish_body. also added some test cases for these new API.
agentzh,2012-07-26 22:09:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/20620cb322ddba7b3c33b9df365d1085a59e46ec,20620cb322ddba7b3c33b9df365d1085a59e46ec,fixed a clang warning regarding strncmp.
agentzh,2012-07-26 21:30:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d3229461253a5db56135345fe085a5934194fdc0,d3229461253a5db56135345fe085a5934194fdc0,Merge branch 'master' into req-body
agentzh,2012-07-26 21:30:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3fc42b4178e103f72cd0c7d910e0ab962f5f111b,3fc42b4178e103f72cd0c7d910e0ab962f5f111b,fixed the ngx. table initial size.
agentzh,2012-07-26 21:24:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/15aef44c832026ef0bb56a96af419c45df78e078,15aef44c832026ef0bb56a96af419c45df78e078,"resolved conflicts while merging branch ""master"" into ""req-body""."
agentzh,2012-07-26 21:19:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9b3bbf4f8c7eacdc882f4ddd66e8c825a01d4f72,9b3bbf4f8c7eacdc882f4ddd66e8c825a01d4f72,documented the ngx.get_phase() API.
agentzh,2012-07-26 19:03:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/28a022db22f6d482322e7fddcf3d6940a54b4448,28a022db22f6d482322e7fddcf3d6940a54b4448,updated .gitignore to reflect recent changes.
agentzh,2012-07-26 19:03:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/02a8b7ba94cd1cc293b3c0fde554048151b50456,02a8b7ba94cd1cc293b3c0fde554048151b50456,minor fixes in the ngx.get_phase() call.
agentzh,2012-07-26 18:59:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c1cd173157f25a73f656307ceb60a5a7b3b628af,c1cd173157f25a73f656307ceb60a5a7b3b628af,"feature: added new Lua API, ngx.get_phase(), for fetching the name of the current running phase from within Lua. possible return values are ""set"", ""rewrite"", ""access"", ""content"", ""log"", ""header_filter"", ""body_filter"", and ""init"". thanks James Hurst for the patch."
agentzh,2012-07-26 18:20:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bd66f77fe6889ae58788f4d0dd71e6cd1197d127,bd66f77fe6889ae58788f4d0dd71e6cd1197d127,bumped version number to 0.5.9
agentzh,2012-07-26 04:37:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d1cfc94c86185bfaf1f8afa5ae3d35d038240437,d1cfc94c86185bfaf1f8afa5ae3d35d038240437,"bugfix: buffer error would happen when the ""args"" option table to ngx.location.capture (and ngx.exec) contained a multi-value argument whose key also required uri escaping. thanks Matthieu Tourne for reporting this."
agentzh,2012-07-25 22:57:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0f62a62e33f596829844f664eed1f0236f1b2722,0f62a62e33f596829844f664eed1f0236f1b2722,"bugfix: 3rd-party nginx C modules that use the public C API function, ngx_http_lua_add_package_preload, could result in segfault at nginx server startup due to uninitialized Lua VM pointer. thanks Ray Bejjani for reporting it."
agentzh,2012-07-25 22:54:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ebeb4ea8eb65bad9ff0fdc581fc94cc036a48ee6,ebeb4ea8eb65bad9ff0fdc581fc94cc036a48ee6,fixed the provider name in stability attributes in ngx_lua_provider.d.
agentzh,2012-07-25 22:23:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d3a9ba25b1d7d59ba4c4a8a4e73b59a52f95288f,d3a9ba25b1d7d59ba4c4a8a4e73b59a52f95288f,feature: initial support for dtrace static probes. it requires nginx-dtrace though: https://github.com/agentzh/nginx-dtrace
agentzh,2012-07-21 17:59:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c25689b93a681ed1f44192083798722b3471eedc,c25689b93a681ed1f44192083798722b3471eedc,updated docs and bumped version to 0.5.8.
agentzh,2012-07-19 18:36:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a624ee9482a74c62fa0fad491c28ab466a340edb,a624ee9482a74c62fa0fad491c28ab466a340edb,updated .gitignore a bit.
agentzh,2012-07-19 18:34:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3eab7b0361c8d4619a96b3ae38ea1ab0db172620,3eab7b0361c8d4619a96b3ae38ea1ab0db172620,ensured that proper error message is always thrown when the iterator returned by ngx.re.gmatch is used in the context of another nginx request.
agentzh,2012-07-19 18:11:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e73e24443199fa7001c25ff918260408f6303aa0,e73e24443199fa7001c25ff918260408f6303aa0,bugfix: ngx.re.gmatch() might result in segfaults during nginx request cleanups if the iterator returned by ngx.re.gmatch() was collected (by Lua GC) before request cleanups. this bug had appeared in ngx_lua 0.5.0rc30 (and ngx_openresty 1.0.15.9). thanks Wayne for reporting this issue.
agentzh,2012-07-14 19:32:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/54c0a354902726c7f58e4f4da8563a9a552f5f2b,54c0a354902726c7f58e4f4da8563a9a552f5f2b,bumped version to 0.5.7.
agentzh,2012-07-14 18:57:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d17a942ca136c3c22b28a49243f0961e5d697f7a,d17a942ca136c3c22b28a49243f0961e5d697f7a,"Merge pull request #141 from dirkfeytons/no_pcre_compile_fix

Fix issue with unused variable when compiling without PCRE support."
dirkfeytons,2012-07-14 16:12:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8df3747ec7fbdd7006865a91090d60b75b49f1cd,8df3747ec7fbdd7006865a91090d60b75b49f1cd,Fix issue with unused variable when compiling without PCRE support.
agentzh,2012-07-12 17:39:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6d67fc4b1237b2e761cecb313927b95e25d3c8bb,6d67fc4b1237b2e761cecb313927b95e25d3c8bb,tweaked a test case to make it less possible to fail in slow testing mode.
agentzh,2012-07-12 17:30:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1cae67d5e4ec9ce52de7332799b335ea1a2a730d,1cae67d5e4ec9ce52de7332799b335ea1a2a730d,fixed a test case.
agentzh,2012-07-11 19:12:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/24fc460b400b1054d46bc9b90fa92e7170eac875,24fc460b400b1054d46bc9b90fa92e7170eac875,"documented the new options table argument and the ""pool"" option for the tcpsock:connect() method."
agentzh,2012-07-11 17:58:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/992e4f026689bde9d994282848ae187eae4824c0,992e4f026689bde9d994282848ae187eae4824c0,bugfix: tcpsock:connect(): numeric pool option values did not really work. also nil pool option was caused trouble too and we disallow that now.
chaoslawful,2012-07-11 03:57:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/31aa26383aca7b05bceb27a4ee40cb7494627054,31aa26383aca7b05bceb27a4ee40cb7494627054,rename coroutine testsuite name
chaoslawful,2012-07-11 03:44:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8c03cc5a426f39e272650550e12004672e625b8c,8c03cc5a426f39e272650550e12004672e625b8c,Merge branch 'coroutine' of https://github.com/chaoslawful/lua-nginx-module into coroutine
chaoslawful,2012-07-11 03:44:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/927ef1e86a4264127836b3f5de3361e39a662158,927ef1e86a4264127836b3f5de3361e39a662158,Merge branch 'master' into coroutine
chaoslawful,2012-07-11 03:34:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6a375a6514808cf932deb785593eda4776fe1e39,6a375a6514808cf932deb785593eda4776fe1e39,"Merge pull request #138 from jinglong/coroutine

update ngx_http_lua_thread_traceback to print the full traceback"
jinglong,2012-07-11 03:20:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4f208bff2cf0b387c0709c682ef7bc018ec1cccc,4f208bff2cf0b387c0709c682ef7bc018ec1cccc,delete useless comment in ngx_http_lua_thread_traceback
jinglong,2012-07-11 03:13:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0976365ca021ac651fc684d9a45d2cf198b35680,0976365ca021ac651fc684d9a45d2cf198b35680,update ngx_http_lua_thread_traceback to print the full traceback for the current coroutine and his ancestors
agentzh,2012-07-11 00:48:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1d8d1578f92b733138713522c4284e7453383448,1d8d1578f92b733138713522c4284e7453383448,"feature: added an optional ""optional table"" to tcpsock:connect() which accepts a ""pool"" option to allow the user specify a custom pool name intead of the automatically generated one based on the host-port pair or the socket file path. thanks Brian Akins for the patches."
agentzh,2012-07-10 20:34:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/06abbea6b9d3cda012bcbe63a9c82404dbb4d7ab,06abbea6b9d3cda012bcbe63a9c82404dbb4d7ab,documented the UDP/datagram cosocket API.
agentzh,2012-07-10 18:55:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0a2d1d246776c9cb0088e6bfd93809ff4caf3f2a,0a2d1d246776c9cb0088e6bfd93809ff4caf3f2a,bugfix: udpsock:send() might crash on null pointer access when the request object is absent or the u pointer is null.
agentzh,2012-07-10 18:51:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4ae7d6a3c5690b3b1c8e0e7a2ffb92656f030f8b,4ae7d6a3c5690b3b1c8e0e7a2ffb92656f030f8b,added (passing) tests for the size argument of the udpsock:receive(size) method.
agentzh,2012-07-10 18:03:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/49c29a08102e082780d7e752b051824eac92f501,49c29a08102e082780d7e752b051824eac92f501,feature: added the udpsock:close() method.
chaoslawful,2012-07-10 07:30:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1a8bd0f14158ca701ded675d2792c91c74be3cf0,1a8bd0f14158ca701ded675d2792c91c74be3cf0,merge with master
agentzh,2012-07-10 00:14:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2684939001a96feff1aacb9b991fbc3bd6678b0f,2684939001a96feff1aacb9b991fbc3bd6678b0f,Merge remote-tracking branch 'origin/master' into udp-socket
agentzh,2012-07-10 00:00:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/405efbabd586fa364204cc2ea0a8137ede399b79,405efbabd586fa364204cc2ea0a8137ede399b79,tweaked the test case a bit.
agentzh,2012-07-09 23:37:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/05c3a1e756071abf9ea682d05e882a0d138ff504,05c3a1e756071abf9ea682d05e882a0d138ff504,bugfix: the udp cosocket API could not talk over a unix domain socket.
agentzh,2012-07-09 23:37:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/24991b68ae5e5ed3426ab72c94372ecb5e9b2c10,24991b68ae5e5ed3426ab72c94372ecb5e9b2c10,added a (passing) test for receive() timeout.
agentzh,2012-07-09 20:32:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8b1040d259da91ccaa74e4e1f67d7e26c8390744,8b1040d259da91ccaa74e4e1f67d7e26c8390744,bumped version number to 0.5.6.
agentzh,2012-07-08 19:48:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/053999e59be82a3cb029a2bcc16e006bd3b6895c,053999e59be82a3cb029a2bcc16e006bd3b6895c,added a test case for successive udpsocket:setpeername() calls.
agentzh,2012-07-08 19:47:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/010d17d482e00cd61c123b8325dd761efd5065ff,010d17d482e00cd61c123b8325dd761efd5065ff,removed a useless comment from ngx_http_lua_socket_udp.c.
agentzh,2012-07-08 19:17:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/06d654b02e18e8fbbbf0b0a3d99aa120aae135d6,06d654b02e18e8fbbbf0b0a3d99aa120aae135d6,documented the ngx.req.get_method() and ngx.req.set_method(method_id) methods.
agentzh,2012-07-08 18:47:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/80e86f55400ac82d5e808a22c3641e828d25c9ea,80e86f55400ac82d5e808a22c3641e828d25c9ea,updated docs to reflect recent changes.
agentzh,2012-07-08 07:23:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3b51a96c29f4dd263fccebb28493eba17a28cbc7,3b51a96c29f4dd263fccebb28493eba17a28cbc7,"merged branch ""master"" into ""udp-socket""."
agentzh,2012-07-08 07:19:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0cf6c86fac57795cfe2bdbb02880f4d4298d5306,0cf6c86fac57795cfe2bdbb02880f4d4298d5306,"bugfix: the tcp/stream cosocket object might hang when another concurrent request is accessing it while its operation is still in progress; now we always check for potential access conflicts and return the ""socket busy"" error string if it is indeed the case."
agentzh,2012-07-08 05:16:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd412f72ea01ef7da15058b8967b84c94fee94f2,fd412f72ea01ef7da15058b8967b84c94fee94f2,"bugfix: the udp cosocket object might hang when another concurrent request is accessing it while its operation is still in progress; now we always check for potential access conflicts and return the ""socket busy"" error string if it is indeed the case."
agentzh,2012-07-07 19:34:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b6b23570a309095b1f03a5b7bbdfd664e695a433,b6b23570a309095b1f03a5b7bbdfd664e695a433,fixed the test suite to reflect recent changes.
agentzh,2012-07-07 06:55:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0280aaa4f8cc60912468206ff85ad88c445bd1d1,0280aaa4f8cc60912468206ff85ad88c445bd1d1,Merge remote-tracking branch 'origin/master' into udp-socket
agentzh,2012-07-07 06:54:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3824e4466b45062e6663157613ec698a9ba87ee7,3824e4466b45062e6663157613ec698a9ba87ee7,udpsock:connect(): now we fetch ngx_socket_errno in case of error as soon as possible.
agentzh,2012-07-07 06:52:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/567da366ddcd8f6bf4fbbb749411d227a4fbd2d3,567da366ddcd8f6bf4fbbb749411d227a4fbd2d3,"bugfix: the tcpsock:connect() method always returned the (vague) error strng ""connect peer error"" instead of the (detailed) system error string."
agentzh,2012-07-07 06:49:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3232eb0784b2008a8d8eea3572f4897c0569927a,3232eb0784b2008a8d8eea3572f4897c0569927a,added more tests for udp cosockets.
agentzh,2012-07-07 06:48:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8157284b8ac7dfbacc76fdfbb0f49d0f9b991cce,8157284b8ac7dfbacc76fdfbb0f49d0f9b991cce,"bugfix: the udpsock:connect() method always returned the (vague) error strng ""connect peer error"" instead of the (detailed) system error string."
agentzh,2012-07-07 06:06:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4a79d1b8db6a84988af6a1964cdbfd7b805552db,4a79d1b8db6a84988af6a1964cdbfd7b805552db,optimize: udp cosocket: now we use a global (static) receive buffer to avoid dynamic allocations on heap.
agentzh,2012-07-06 23:57:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f85139757f849b7a63e774d38c03afc0315701e2,f85139757f849b7a63e774d38c03afc0315701e2,Merge remote-tracking branch 'origin/master' into udp-socket
agentzh,2012-07-06 23:57:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/42d9617e829ff1a9ffa55c4c2553368f2e0cc090,42d9617e829ff1a9ffa55c4c2553368f2e0cc090,"merged branch ""master"" to ""udp-socket""."
agentzh,2012-07-06 23:55:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/787a7b122a72c655b731ebe770f47f934911fab3,787a7b122a72c655b731ebe770f47f934911fab3,fixed a minor coding style issue.
agentzh,2012-07-06 23:53:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e9a74f68bbf9994700189328dab8287c7fe25ee5,e9a74f68bbf9994700189328dab8287c7fe25ee5,"feature: implemented the UDP cosocket API, ngx.socket.udp()."
agentzh,2012-07-06 23:48:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/30601c71f8e895f14d1563cea9ae8d0d1604835b,30601c71f8e895f14d1563cea9ae8d0d1604835b,"bugfix: the tcp cosocket object might automatically re-connect to the remote after it connected successfully in a single run (that is, no EAGAIN returned in the middle) and DNS domain names were used."
agentzh,2012-07-06 23:41:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/007d61a7c5759405045740aa6b0b6f347b5abcdd,007d61a7c5759405045740aa6b0b6f347b5abcdd,"bugfix: tcpsock:receive() and tcpsock:send() always returned ""error"" as the error message. now it properly returns the system error string."
agentzh,2012-07-06 06:06:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/61858d95de4e98c8fc45059de82e762505ce4b0f,61858d95de4e98c8fc45059de82e762505ce4b0f,bugfix: ngx.req.clear_header() did not remove all the instances for the builtin headers or custom headers. bugfix: ngx.req.clear_header() might accidentally remove request headers that are not specified at all and leave the specified headers with just empty header values when removing multiple built-in headers. thanks Matthieu Tourne for reporting the issues.
agentzh,2012-07-05 21:33:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e9d5d601a3ff687d09bec9305217b6b3639fb34e,e9d5d601a3ff687d09bec9305217b6b3639fb34e,feature: added new Nginx API for Lua: ngx.req.set_method(method_id) and ngx.req.get_method. thanks Matthieu Tourne for suggesting these.
agentzh,2012-07-05 21:25:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4960e01ec471cc041d26ba3af79389fa28471101,4960e01ec471cc041d26ba3af79389fa28471101,bugfix: we should always test if the request object pointer is null in the ngx.req.*_body API.
agentzh,2012-07-05 18:52:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c2f74d15e8ee25200833fbd16f5ce7413f63fa1c,c2f74d15e8ee25200833fbd16f5ce7413f63fa1c,checked in a (skipped) test case for subrequest request headers handling.
agentzh,2012-07-05 15:59:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/05c0f5a8c3b26a24b128538c3de5cde8512c09c1,05c0f5a8c3b26a24b128538c3de5cde8512c09c1,bugfix: ngx.exec() did not accept the nil value for its second (optional) argument.
agentzh,2012-07-05 04:59:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/166de0c46dbdbaaca40c4991cc5948de21f4b58e,166de0c46dbdbaaca40c4991cc5948de21f4b58e,updated the TODO list in docs to reflect recent changes.
agentzh,2012-07-05 03:33:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/584ec028b145bfdb09efd5b0ccc8bf24792dccfd,584ec028b145bfdb09efd5b0ccc8bf24792dccfd,bugfix: ngx.exit(404/403/500/...) would throw out Lua errors when the response headers with exactly the same status code had already been sent. thanks Matthieu Tourne for reporting this.
agentzh,2012-07-04 20:41:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4275482f4916f4840c7f6dbe2675ea9725db6ab5,4275482f4916f4840c7f6dbe2675ea9725db6ab5,documented the init_by_lua* directives and also bumped version number to 0.5.5.
chaoslawful,2012-07-04 07:13:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6e5e1738f5fba28b72974cd742a894f0fe8d2b89,6e5e1738f5fba28b72974cd742a894f0fe8d2b89,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module into coroutine
agentzh,2012-07-04 04:45:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/588ee4dcbb3c55526c789d587898542248ef432d,588ee4dcbb3c55526c789d587898542248ef432d,removed a test in t/023-rewrite/exit.t.
agentzh,2012-07-03 19:08:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5126e81531a25b35edece848787723431cd604cc,5126e81531a25b35edece848787723431cd604cc,fixed a test case in 085-if.t that hard-coded TEST_NGINX_CLIENT_PORT in nginx config.
agentzh,2012-07-03 18:50:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ce4314d46fee28c68061c252e31c0d1fd9a5ad7d,ce4314d46fee28c68061c252e31c0d1fd9a5ad7d,bugfix: init_by_lua* might be skipped altogether when HUP config reload was used.
agentzh,2012-07-03 17:42:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5445e0e8cafc9b885e7e5d11e1338e327c174ef7,5445e0e8cafc9b885e7e5d11e1338e327c174ef7,bugfix: invalid memory reads might happen on HUP config reload when lua_shared_dict is used.
chaoslawful,2012-07-03 11:04:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/608c89bbf554df33b1d564ae5c8f5bc95d545683,608c89bbf554df33b1d564ae5c8f5bc95d545683,fix typo in config
chaoslawful,2012-07-03 10:47:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8f1a443631a990f87b5f4f9043bde5fa29c0b12e,8f1a443631a990f87b5f4f9043bde5fa29c0b12e,fix compiling errors
chaoslawful,2012-07-03 10:33:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9c3c01aa4dfe38b31e281af257b2d2b1a7fc0026,9c3c01aa4dfe38b31e281af257b2d2b1a7fc0026,remove unexpected merged codes
chaoslawful,2012-07-03 10:29:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/35bf172eb0147aaeadf7c8ee18216b38a09f448d,35bf172eb0147aaeadf7c8ee18216b38a09f448d,merge jinglong's commit
chaoslawful,2012-07-03 09:42:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bb7d35eaa44119f0f3165c39067226b3f00bd26b,bb7d35eaa44119f0f3165c39067226b3f00bd26b,merge master and jinglong's commit
chaoslawful,2012-07-03 09:37:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2d3c907f484d44e238514cf432a435889a3f61d9,2d3c907f484d44e238514cf432a435889a3f61d9,"Merge pull request #135 from jinglong/coroutine

improve coroutine apis"
jinglong,2012-07-03 08:46:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/27366974e62ad209350947cfe2e9f06d83ecd372,27366974e62ad209350947cfe2e9f06d83ecd372,improve coroutine apis
chaoslawful,2012-07-03 08:22:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c984bedd2516bd4a1fe30e7c9fdc54dcdcd4d0fa,c984bedd2516bd4a1fe30e7c9fdc54dcdcd4d0fa,fix a harmless typo in ngx_http_lua_run_thread
agentzh,2012-07-02 22:18:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/943b3fe7a930ce8177a49ca60628933bddf08dd1,943b3fe7a930ce8177a49ca60628933bddf08dd1,Merge branch 'init'
agentzh,2012-07-02 22:12:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ae9b7893c7186195dce7ebde4e6d6e63faefeb67,ae9b7893c7186195dce7ebde4e6d6e63faefeb67,enlarged the timeout setting for TEST 16 in 082-body-filter.t to make it less possible to fail in slow testing modes.
agentzh,2012-07-02 22:06:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8149324c2ae57e16ff12facf7391b8bc5066b65b,8149324c2ae57e16ff12facf7391b8bc5066b65b,feature: enabled print() and ngx.log() in the context of init_by_lua*.
agentzh,2012-07-02 19:10:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/15ec2775855b9631871bf056cbd76c47839d79cd,15ec2775855b9631871bf056cbd76c47839d79cd,bugfix: init_by_lua* might result in segmentation faults when multiple lua_shared_dict instances are defined.
agentzh,2012-07-02 06:11:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f4a15e29ad7b391d56fcad0762adc4c934e72429,f4a15e29ad7b391d56fcad0762adc4c934e72429,feature: added new directives init_by_lua and init_by_lua_file.
agentzh,2012-07-02 02:01:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ab41caaf5c35452877ccf23ea600784c87a2ecaa,ab41caaf5c35452877ccf23ea600784c87a2ecaa,feature: now we print backtrace to error.log when Lua errors happen in body_filter_by_lua*.
agentzh,2012-07-02 01:59:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dae23ad7dc6af67d27a5d2794d304da685c90ad4,dae23ad7dc6af67d27a5d2794d304da685c90ad4,fixed the test plan in t/041-header-filter.t.
agentzh,2012-07-02 01:57:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/240fc4ab32a74eff187f8f2b5169d7c219037156,240fc4ab32a74eff187f8f2b5169d7c219037156,feature: now we print backtrace to error.log when Lua errors happen in header_filter_by_lua*.
agentzh,2012-07-02 01:56:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b75195c407b67f55326068c8d767ae81ed666069,b75195c407b67f55326068c8d767ae81ed666069,fixed the test plan in 001-set.t.
agentzh,2012-07-02 01:49:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/97ba958d0030d689d107ee8f2ffb5ce5a8e81306,97ba958d0030d689d107ee8f2ffb5ce5a8e81306,feature: now we print backtrace to error.log when Lua errors happen in set_by_lua*.
agentzh,2012-07-02 01:45:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e876411bd201ab12734f6951f268b333c5b47894,e876411bd201ab12734f6951f268b333c5b47894,feature: now we print traceback to error.log when Lua errors happens in log_by_lua*.
agentzh,2012-07-02 01:43:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7ce7fb2e295f876b19cca9712857fc2bde75bf78,7ce7fb2e295f876b19cca9712857fc2bde75bf78,coding style fixes in ngx_http_lua_socket_tcp.c.
agentzh,2012-07-02 00:00:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/924d093eafc040352b7c092b03c8d91d62500801,924d093eafc040352b7c092b03c8d91d62500801,Merge branch 'master' into backtrace
agentzh,2012-07-01 23:51:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c035746310add8d204b69df3c0181f9a70fb8061,c035746310add8d204b69df3c0181f9a70fb8061,Merge branch 'udp-socket'
agentzh,2012-07-01 23:50:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f8074dca43d37984c795bed4c53cf9533e4bc6f5,f8074dca43d37984c795bed4c53cf9533e4bc6f5,"renamed ngx_http_lua_debug_traceback to ngx_http_lua_thread_traceback, and other naming changes."
agentzh,2012-07-01 23:50:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dbc4ca7646ed1a6dd927b78de80ed024373a0fdd,dbc4ca7646ed1a6dd927b78de80ed024373a0fdd,"renamed ngx_http_lua_debug_traceback to ngx_http_lua_thread_traceback, and other naming changes."
agentzh,2012-07-01 23:17:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2902f9ff2af4b6f650d5c83c2a865e4b01963ee5,2902f9ff2af4b6f650d5c83c2a865e4b01963ee5,Merge branch 'master' into udp-socket
agentzh,2012-07-01 17:47:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5a539500c13f6303fc25d77514571aab0c84350c,5a539500c13f6303fc25d77514571aab0c84350c,bugfix: upstream data buffers were not marked as fully consumed when body_filter_by_lua* is used and ngx.arg[1] is overritten. this could result in connection hang for large response bodies. thanks Tzury Bar Yochay for reporting this issue.
agentzh,2012-06-30 00:59:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/418024960d3f381fd05b985e09f52c46a6ce1e81,418024960d3f381fd05b985e09f52c46a6ce1e81,updated .gitignore.
agentzh,2012-06-30 00:58:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a04e204d074510b9dedfdeab81013613004a1052,a04e204d074510b9dedfdeab81013613004a1052,renamed ngx_http_lua_socket* to ngx_http_lua_socket_tcp* to prepare for the udp cosocket API addition.
agentzh,2012-06-28 23:05:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a96dd55152dd61e1e5ff6bd2a4bbe1e105dbfd07,a96dd55152dd61e1e5ff6bd2a4bbe1e105dbfd07,bumped version to 0.5.4.
agentzh,2012-06-28 16:42:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d2dc90839028683f7a73d1c6d212d91e98835746,d2dc90839028683f7a73d1c6d212d91e98835746,optimize: fixed the initial table size for ngx.req.
agentzh,2012-06-28 16:17:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9ae5a3435a243775f6ce28c3ede6822cfcde96b9,9ae5a3435a243775f6ce28c3ede6822cfcde96b9,Merge branch 'master' into req-body
agentzh,2012-06-28 04:47:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3074fddd1230f40434c3d3aef98c9d7345692849,3074fddd1230f40434c3d3aef98c9d7345692849,fixed some english grammatical issues in the comments.
agentzh,2012-06-28 04:44:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e1e5b7f3b743dc19e71c674a9da9af90f0feffba,e1e5b7f3b743dc19e71c674a9da9af90f0feffba,use ngx_memzero instead of memset in the previous patch from chaoslawful.
chaoslawful,2012-06-25 06:24:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/47eff35e911c4952435ccf3333f3f51a9c31a53f,47eff35e911c4952435ccf3333f3f51a9c31a53f,bugfix: fix issue #132 dereferencing type-punned pointer will break strict-aliasing rules
agentzh,2012-06-25 03:01:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/538b97ae9205f66dcb34608538cf786087326302,538b97ae9205f66dcb34608538cf786087326302,updated docs to reflect recent changes.
agentzh,2012-06-24 14:01:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0178d4e7b8bac3727aa5fa69b3a65f89de8b6181,0178d4e7b8bac3727aa5fa69b3a65f89de8b6181,bugfix: ngx.say and ngx.print might cause nginx to crash when table-typed arguments were given. thanks sztanpet for reporting this in github issue #54.
agentzh,2012-06-24 12:59:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0428b88fc3ba7c10396810633a85f9dc19211c17,0428b88fc3ba7c10396810633a85f9dc19211c17,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2012-06-24 12:56:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c2d095a1f85eb7391b85c37ca172471ae570de31,c2d095a1f85eb7391b85c37ca172471ae570de31,"added some (passing) tests for ""location if"" compatibilities."
agentzh,2012-06-22 06:48:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f73785c64307d72b2638e59c25aad57ae0ce2a57,f73785c64307d72b2638e59c25aad57ae0ce2a57,updated docs to reflect recent changes.
agentzh,2012-06-18 10:20:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/09f063024b15f226f91e69acf69f76f5afb14f60,09f063024b15f226f91e69acf69f76f5afb14f60,"fixed an issue in the test case in 082-body-filter.t: we should not use ""echo"" and ""content_by_lua"" in the same location."
agentzh,2012-06-18 10:12:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/553432b593b9b8be80c8a4ca9773d2bddbd6d879,553432b593b9b8be80c8a4ca9773d2bddbd6d879,bugfix: header_filter_by_lua* did not run at all when body_filter_by_lua* is defined at the same time. thanks Tzury Bar Yochay for reporting this issue.
agentzh,2012-06-18 10:10:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5d59d498a51522475c54a0fe7ab3bb1ad9a72704,5d59d498a51522475c54a0fe7ab3bb1ad9a72704,reindexed the test in t/041-header-filter.t.
agentzh,2012-06-18 10:08:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9f633c860ec257939bb557624b526fc2008454d0,9f633c860ec257939bb557624b526fc2008454d0,added a (passing) test for clearing the Content-Length response header in header_filter_by_lua.
agentzh,2012-06-18 06:11:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0ff8afe0e2d77480e5559c3f4d7b39f6c2b6e000,0ff8afe0e2d77480e5559c3f4d7b39f6c2b6e000,fixed test cases that rely on the old (broken) HTTP 1.0 support in ngx_echo.
agentzh,2012-06-18 05:02:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7d6547aeb58837568f6ad16b5924c90271d4b719,7d6547aeb58837568f6ad16b5924c90271d4b719,docs: added more documentation for the Lua/LuaJIT raw bytecode support. thanks Wayne.
agentzh,2012-06-17 04:27:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/17fbfb77126a123f3a9b757f5f7e32d6c7fb312d,17fbfb77126a123f3a9b757f5f7e32d6c7fb312d,optimize: merged two successive nginx pool allocations in ngx_http_lua_socket_resolve_handler to reduce overhead.
agentzh,2012-06-16 15:47:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/37a9fcd87d6b6c769597b767e1fd1f470a4296ad,37a9fcd87d6b6c769597b767e1fd1f470a4296ad,bumped version number to v0.5.1.
agentzh,2012-06-16 12:20:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a35ff3636e0e23ebc1ab5546414648bbe0a2dad5,a35ff3636e0e23ebc1ab5546414648bbe0a2dad5,"ngx.req.init_body: when the size argument is specified, honor that exactly; when the size argument is omitted, use the same logic as ngx_http_read_client_request_body to calculate the buffer size."
agentzh,2012-06-16 06:23:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3a8d8dadcfb6ffaef0a3855e40b943b5cc3e5146,3a8d8dadcfb6ffaef0a3855e40b943b5cc3e5146,Merge branch 'master' into req-body
agentzh,2012-06-16 05:41:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0bb38b0bd10211ae3c54ae804b6b6856cddd38e0,0bb38b0bd10211ae3c54ae804b6b6856cddd38e0,made tests less possible to fail in tcp-socket-timeout.t when the DNS nameserver happens to be slow.
agentzh,2012-06-16 05:41:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cd0139dc9a0d4d93d5de5c6751b41b6210f28961,cd0139dc9a0d4d93d5de5c6751b41b6210f28961,fixed some coding style issues.
agentzh,2012-06-16 05:27:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a8e1f16f060495bf36c158f6b3b8ccb98524fddf,a8e1f16f060495bf36c158f6b3b8ccb98524fddf,"docs: redocumented the ""inclusive"" option for the cosocket:receiveuntil method."
agentzh,2012-06-16 05:14:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c4d5e3a24d6ffa0362b15a73647b9af8cb124d42,c4d5e3a24d6ffa0362b15a73647b9af8cb124d42,Merge branch 'master' into inclusive
agentzh,2012-06-16 03:05:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e0a6a36c794fc152a487785c3e4d17113416b3c5,e0a6a36c794fc152a487785c3e4d17113416b3c5,added a (passing) test for default_type + charset + content_by_lua.
agentzh,2012-06-15 13:52:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2b6c95cfe924002c70a3b4b66f3b9e11b3d418da,2b6c95cfe924002c70a3b4b66f3b9e11b3d418da,updated README and README.markdown by the tools.
agentzh,2012-06-15 13:51:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/56545205158c50adf2997400e6097b22574f830b,56545205158c50adf2997400e6097b22574f830b,bumped version number to v0.5.0rc32.
agentzh,2012-06-15 06:45:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0eba3537bb5fe56a9a46ff747fd83aae35ba0a23,0eba3537bb5fe56a9a46ff747fd83aae35ba0a23,Merge branch 'master' into inclusive
agentzh,2012-06-15 06:44:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e0cabf0438dd42b13b50fd4e2e54ebed1a9039a0,e0cabf0438dd42b13b50fd4e2e54ebed1a9039a0,"added more (passing) tests for the ""inclusive"" option of cosocket:receiveuntil()."
agentzh,2012-06-15 06:30:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2b8ea405f5e802f7cf8b0d71cbd85d8be67079ba,2b8ea405f5e802f7cf8b0d71cbd85d8be67079ba,"improved the error handling of the ""inclusive"" option for cosocket:receiveuntil and also added some test for this. removed the tests for the ""inclusive"" option to a separate test file, 084-inclusive-receiveuntil.t."
agentzh,2012-06-15 06:26:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2174ed2e5801914b7d20365ed6f7963fd062b9fe,2174ed2e5801914b7d20365ed6f7963fd062b9fe,fixed a bad test case in 083-bad-sock-self.t.
agentzh,2012-06-15 06:22:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9905167e32d1266d777c06d0395d816a0d81b864,9905167e32d1266d777c06d0395d816a0d81b864,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2012-06-15 06:21:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/51bc8fb49688727a882b30cea6f6dfe8497a08d5,51bc8fb49688727a882b30cea6f6dfe8497a08d5,bugfix: the lua VM might crash when calling the cosocket methods with a bad-typed self argument.
agentzh,2012-06-15 05:45:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5545cfaad5cc69ae4c32808694deb5db20e7840a,5545cfaad5cc69ae4c32808694deb5db20e7840a,Merge branch 'master' into inclusive
agentzh,2012-06-15 03:57:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cdb6a6f94a4285e1558480cb053b88def15f2e19,cdb6a6f94a4285e1558480cb053b88def15f2e19,fixed a coding style issue in the previous commit.
agentzh,2012-06-15 03:56:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/146fe0c614554057a38e5615cf5a0e5f23e561b5,146fe0c614554057a38e5615cf5a0e5f23e561b5,"bugfix: the zero-size buffer alert could occur in body_filter_by_lua* when the current buf is a special ""eof"" buf and the user has turned off the ""eof"" flag by assigning false to ngx.arg[2]."
agentzh,2012-06-15 03:09:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cea3929874fb6c467bdc9f023930b95d9b6d4f72,cea3929874fb6c467bdc9f023930b95d9b6d4f72,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2012-06-15 03:07:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c66daf057ab0dca5bfae5914abd310e0febc2854,c66daf057ab0dca5bfae5914abd310e0febc2854,Merge remote-tracking branch 'jinglong/bytecode' into bytecode
jinglong,2012-06-14 15:46:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bad3eee543bdba3c0bab725b34197fd7d5e0121a,bad3eee543bdba3c0bab725b34197fd7d5e0121a,Use more descriptive names in ngx_http_lua_clfactory.c(like LUA_LITTLE_ENDIAN_4BYTES_CODE)
agentzh,2012-06-14 13:15:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/33e62fcf332152b5e179f3763253d53b4771e6e9,33e62fcf332152b5e179f3763253d53b4771e6e9,docs: documented the body_filter_by_lua* directives and the new bytecode file loading support.
agentzh,2012-06-14 12:01:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d92a14d7b81b385f08898517dd02b4f79a268ce6,d92a14d7b81b385f08898517dd02b4f79a268ce6,Merge branch 'master' into body-filter
agentzh,2012-06-14 11:53:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5fa0dbc1fded016389dfde1ec1e624927b95c6a2,5fa0dbc1fded016389dfde1ec1e624927b95c6a2,"merged jinglong's ""bytecode"" branch into ""master""."
agentzh,2012-06-14 11:29:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1c6280f578599595048a0093ea7ca1ffb4fe7fe6,1c6280f578599595048a0093ea7ca1ffb4fe7fe6,docs: documented the lua_transform_underscores_in_response_headers directive.
agentzh,2012-06-14 11:17:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f81ceeb40624ba2d9eb65f9bcf5f17ebed50182b,f81ceeb40624ba2d9eb65f9bcf5f17ebed50182b,feature: added new directive lua_transform_underscores_in_response_headers. thanks Kindy Lin.
jinglong,2012-06-14 08:27:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b09b8ee4453bf1fd72f996c030f3632099b4d822,b09b8ee4453bf1fd72f996c030f3632099b4d822,"1,fix a bug in loading bytecode(faild to load no-stripped bytecode of luajit)"
agentzh,2012-06-14 07:05:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/55153ceaf8e7eaccdb4a5b56927dcafd9692b6b1,55153ceaf8e7eaccdb4a5b56927dcafd9692b6b1,fixed the test plan in t/082-body-filter.t.
agentzh,2012-06-14 06:55:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f9e534f059ae304535657779dd90b3e76a59623a,f9e534f059ae304535657779dd90b3e76a59623a,Merge remote-tracking branch 'origin/master' into body-filter
agentzh,2012-06-14 06:29:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9cabf1c4afadf2c3071d50f6ab00a6e7684c3589,9cabf1c4afadf2c3071d50f6ab00a6e7684c3589,minor tweaks of the error messages and coding style issues in the byte-code support patch from jinglong in github pull #124.
agentzh,2012-06-14 05:01:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3e9984a0319426dac59018872591cc7a9f664f8c,3e9984a0319426dac59018872591cc7a9f664f8c,various coding style fixes.
agentzh,2012-06-14 04:45:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/71467020dd7d10a684e59092f59f0f978269bd5e,71467020dd7d10a684e59092f59f0f978269bd5e,added (passing) tests for the on-demand handler registration of body_filter_by_lua*.
agentzh,2012-06-14 03:47:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2a63a168bd444e4536817db32851f937107473fe,2a63a168bd444e4536817db32851f937107473fe,docs: added a note for installation with lua 5.1 on ubuntu 11.10. thanks Dan Sosedoff.
agentzh,2012-06-14 03:44:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/81964d5a89fc503744323da295aad453959e6d4d,81964d5a89fc503744323da295aad453959e6d4d,"bufix: fixed the directive context for set_by_lua and set_by_lua_file. they really work in the contexts ""server"", ""server if"", ""location"", and ""location if"". thanks Liu Taihua."
agentzh,2012-06-13 15:27:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/119b85e162c1b50b5a78798b44e58bff69b9a63d,119b85e162c1b50b5a78798b44e58bff69b9a63d,"feature: the lua statement ""return ngx.ERROR"" can now be used to abort the output stream in body_filter_by_lua*."
agentzh,2012-06-13 14:49:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/91b23e692f3951a0953140256ac4548db00ca174,91b23e692f3951a0953140256ac4548db00ca174,feature: ngx.arg[1] now also accepts a lua table of lua strings as its new value.
agentzh,2012-06-13 14:29:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9f488b0ecbf20101d71edc10c9b6b384bf641352,9f488b0ecbf20101d71edc10c9b6b384bf641352,feature: ngx.arg[1] and ngx.arg[2] now support overwriting in body_filter_by_lua*.
agentzh,2012-06-13 12:00:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5591fb0cbc82e73b98fc9ac286d42d6c5bcdfa12,5591fb0cbc82e73b98fc9ac286d42d6c5bcdfa12,Merge remote-tracking branch 'origin/master' into body-filter
agentzh,2012-06-13 11:58:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/19c803d766a86acbd136e98fdbd13c4ae386fe85,19c803d766a86acbd136e98fdbd13c4ae386fe85,"merged ""master"" into ""body-filter""."
agentzh,2012-06-13 06:54:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6183ad4f53d68240ce38852ed125dec235b3d864,6183ad4f53d68240ce38852ed125dec235b3d864,"docs: fixed a typo: ngx.now returns time of the resolution of milliseonds, rather than microseconds. thanks Wang Xi."
agentzh,2012-06-13 05:48:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dffaf4896af52a0861dfc40e8df1402e9ae4e3b8,dffaf4896af52a0861dfc40e8df1402e9ae4e3b8,"fixed the test ""unexpected globals sharing by using _G (header_filter_by_lua*)"" by chaoslawful which did not really test what it was supposed to test."
agentzh,2012-06-13 05:43:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6ef34e54f22559544b467291ea906728b8511d90,6ef34e54f22559544b467291ea906728b8511d90,bugfix: lua main thread stack might leak when header_filter_by_lua* is used.
agentzh,2012-06-13 05:33:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1ecb2f40c7f7d716e67fed86ce67616d03115d37,1ecb2f40c7f7d716e67fed86ce67616d03115d37,bugfix: too many values on the lua stack might be concatenated when generating backtraces for lua errors and the lua vm would crash when there happened to be values on the stack that could not be concatenated (like nil). stylefix: renamed the debug_traceback function to ngx_http_lua_debug_traceback. optimize: eliminated unnecessary string concatenations when generating backtraces for lua errors.
agentzh,2012-06-13 05:29:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/46019a27145fe3d8e1f07764e146e3bb499d0608,46019a27145fe3d8e1f07764e146e3bb499d0608,reindexed the tests in t/075-logby.t.
agentzh,2012-06-13 03:17:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dff9bb898424fa203dac7ad28f5cb08f32d6584e,dff9bb898424fa203dac7ad28f5cb08f32d6584e,"fixed the test plan for 081-bytecode.t for the ""check leak"" testing mode."
agentzh,2012-06-12 15:40:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5078b14431f612693a4d468f200b792d128347d6,5078b14431f612693a4d468f200b792d128347d6,"bugfix: the ngx.arg API was not usable within external lua module files in set_by_lua*. diagnosis: now we issue user-friendly error messages when the nginx lua APIs are used in the wrong directive contexts (e.g., using ngx.location.capture in set_by_lua*)."
agentzh,2012-06-12 12:29:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4e4e0b32c93e0fc727b187d1bd04e946c29d45b3,4e4e0b32c93e0fc727b187d1bd04e946c29d45b3,fixed more coding style issues in common.h.
agentzh,2012-06-12 12:28:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/64912a7b2d55ad1f153e7cd749e6e65ee3fbc298,64912a7b2d55ad1f153e7cd749e6e65ee3fbc298,fixed coding style issues in common.h.
agentzh,2012-06-12 12:16:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/725c3a14e4984bfac5b28f5b57abf33f691372af,725c3a14e4984bfac5b28f5b57abf33f691372af,renamed ngx_http_lua_create_ng_table to ngx_http_lua_create_new_global_table; also fixed some coding style issues in 001-set.t.
agentzh,2012-06-12 11:53:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b42f6c8c56f6522b13942e0057844c7a88690eb4,b42f6c8c56f6522b13942e0057844c7a88690eb4,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2012-06-12 03:53:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/acb1b47aaa282938fc35f4547242a39784beb179,acb1b47aaa282938fc35f4547242a39784beb179,minor coding style fixes in ngx_http_lua_logby.c.
agentzh,2012-06-12 11:47:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6ce7490d64e4298e6705c2dadab1b05f27e8ae40,6ce7490d64e4298e6705c2dadab1b05f27e8ae40,Merge branch 'master' into body-filter
chaoslawful,2012-06-12 09:12:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3520a90a6fefd8691dbb89852753559494c247dc,3520a90a6fefd8691dbb89852753559494c247dc,merge conflictions
agentzh,2012-06-12 06:40:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e5363496e458ea8f4aa586309dcb36099a7dc76a,e5363496e458ea8f4aa586309dcb36099a7dc76a,bugfix: ngx.arg could not be used in user lua modules.
agentzh,2012-06-12 06:17:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9bcb50325f8e3eb701a7c36fa46fe08a089363c0,9bcb50325f8e3eb701a7c36fa46fe08a089363c0,feature: initial cut on the body_filter_by_lua and body_filter_by_lua_file directives.
chaoslawful,2012-06-12 04:32:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6c650fafd10bf0ecf0434a8538da3f230539c99a,6c650fafd10bf0ecf0434a8538da3f230539c99a,bugfix: fixed unexpected globals sharing by using _G in log_by/header_filter_by/set_by
agentzh,2012-06-12 03:53:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fede5ccb58c38cc809a7f33d81d1e95a1cfe63e0,fede5ccb58c38cc809a7f33d81d1e95a1cfe63e0,minor coding style fixes in ngx_http_lua_logby.c.
chaoslawful,2012-06-12 01:41:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/02824efe056604cd5ee37782fce0cc28e218623a,02824efe056604cd5ee37782fce0cc28e218623a,"Merge pull request #124 from jinglong/bytecode

patch code has passed review, merged."
agentzh,2012-06-11 12:59:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c5fde025d4440b81b968188018fde02fb8fa19ee,c5fde025d4440b81b968188018fde02fb8fa19ee,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2012-06-11 11:08:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/40af5cdd85377f55d992c41a33d7fc056ddc63f5,40af5cdd85377f55d992c41a33d7fc056ddc63f5,"cleaned up the ""config"" file, making lines shorter and easier to merge. thanks Matthieu Tourne for the patch."
agentzh,2012-06-11 11:01:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/656f6e272134f52203aff070e11f6ef6c01d9214,656f6e272134f52203aff070e11f6ef6c01d9214,eliminated including C headers that we do not actually use.
chaoslawful,2012-06-11 09:16:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5347f9174d5917c22ec7fc8358d939a2f0d3d986,5347f9174d5917c22ec7fc8358d939a2f0d3d986,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
chaoslawful,2012-06-11 09:16:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/08b0433d0fdee244917bb7315661fefefa1bdf98,08b0433d0fdee244917bb7315661fefefa1bdf98,bugfix: fixed unexpected globals sharing by using _G
agentzh,2012-06-11 06:42:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8481276e1aee6d1f7f14adb93c6bfb53f5c90ddc,8481276e1aee6d1f7f14adb93c6bfb53f5c90ddc,"optimize: now we register the ""ndk"" and ""ngx"" lua tables for log_by_lua* at config time rather than request time. this gives significant performance boost. also improved error handling in log_by_lua*."
agentzh,2012-06-11 03:51:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f3a3757c2645c3e282e3af5cf1445582915676c5,f3a3757c2645c3e282e3af5cf1445582915676c5,enforced lua garbage collection full cycles in those shdict test cases to prevent memory leak false alarms.
jinglong,2012-06-11 02:35:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/294ba6fe67dd293f66ad835577cb888219962abc,294ba6fe67dd293f66ad835577cb888219962abc,"1, fix code style"
chaoslawful,2012-06-11 02:00:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b79953e0ed37bb38f10f3124249f68126d374d10,b79953e0ed37bb38f10f3124249f68126d374d10,fix merge conflict
chaoslawful,2012-06-11 01:56:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9ea8ba052ab2f502e1d90d6df1c564eccfed6c21,9ea8ba052ab2f502e1d90d6df1c564eccfed6c21,add simple test for coroutine support
agentzh,2012-06-10 15:11:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f4ed28d2db15915167746871146bd3b4d0302740,f4ed28d2db15915167746871146bd3b4d0302740,improved lua error handling in header_filter_by_lua*.
agentzh,2012-06-10 14:25:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0f652c040c1c4d45f75b2738c264b21116e41fed,0f652c040c1c4d45f75b2738c264b21116e41fed,optimze: explicitly specified non-zero initial size for certain lua tables.
agentzh,2012-06-10 14:17:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7ce0102d1fce72d62ba31071961c6b6741a1ed7c,7ce0102d1fce72d62ba31071961c6b6741a1ed7c,"optimize: now we register the ""ndk"" and ""ngx"" lua tables for header_filter_by_lua* at config time rather than request time. this gives significant performance boost."
agentzh,2012-06-10 13:39:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b8e5b0219416efec304d0ed71b6327309921cbec,b8e5b0219416efec304d0ed71b6327309921cbec,"fixed the ""ngx"" table initial size for set_by_lua*."
agentzh,2012-06-10 05:48:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f1968633064c5ca22de10ad7cdf14160ab043708,f1968633064c5ca22de10ad7cdf14160ab043708,"optimize: now we initialize the ""ngx"" and ""ndk"" tables at config time instead of at request time. bugfix: the lua vm crash protection based on longjmp for set_by_lua* was not really working."
agentzh,2012-06-10 01:53:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d6d7f872a90bbbe91639885a7ffdef436dc919aa,d6d7f872a90bbbe91639885a7ffdef436dc919aa,"renamed function init_ngx_lua_registry to ngx_http_lua_init_registry, and init_ngx_lua_globals to ngx_http_lua_init_globals."
agentzh,2012-06-09 16:16:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/df104f916e8e0caa9dbdb2ff0e0e0ee88d377cb6,df104f916e8e0caa9dbdb2ff0e0e0ee88d377cb6,optimize: now we store the metatables for ngx.req.socket() and ngx.socket.tcp() objects into the lua registry.
agentzh,2012-06-09 15:59:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/89a997acac7971859f0c0c759aea8f82689fefdd,89a997acac7971859f0c0c759aea8f82689fefdd,"optimize: changed the string keys to light user data for various tracking tables (coroutines table, regex cache table, cosocket connection pool table, ngx.ctx table, and etc). This gives minor performance improvement from eliminating key hashing and etc. thanks Dirk Feytons."
agentzh,2012-06-09 14:47:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5cc8fd50fa0595af507aa149c73db20f7b5ab9b2,5cc8fd50fa0595af507aa149c73db20f7b5ab9b2,fixed a typo in program comments. thanks Dirk Feytons.
dirkfeytons,2012-06-02 14:34:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f7f744efd65851c47b947be98ac84aa2f9423f82,f7f744efd65851c47b947be98ac84aa2f9423f82,Fix typos in error message.
agentzh,2012-06-09 01:58:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1ce845313f3001fefd9b2f8751662847035bf442,1ce845313f3001fefd9b2f8751662847035bf442,docs: fixed the sample code for log_by_lua.
agentzh,2012-06-08 13:24:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7292647a758be02fe7c1f5963b2e71aa5cf82086,7292647a758be02fe7c1f5963b2e71aa5cf82086,docs: marked the APIs that are available in the log_by_lua* context.
agentzh,2012-06-08 09:54:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ead78b766d0c8000df7cb68b45e60b4dbff83d16,ead78b766d0c8000df7cb68b45e60b4dbff83d16,bumped version to 0.5.0rc31.
agentzh,2012-06-08 08:54:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1bf725345b986e008908093a6880d374b09ef26c,1bf725345b986e008908093a6880d374b09ef26c,updated the docs for log_by_lua and log_by_lua_file.
agentzh,2012-06-08 03:54:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/285b72716e7e87738abb2aec4181a78a5f684504,285b72716e7e87738abb2aec4181a78a5f684504,bugfix: memory leak would happen when accessing a location using ngx.ctx in Lua contexts other than log_by_lua* but there is also another location that uses log_by_lua*.
agentzh,2012-06-07 14:52:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/445b916a72dfbd6c459a38e0cb96749236d22156,445b916a72dfbd6c459a38e0cb96749236d22156,bugfix: header_filter_by_lua would leak memory when it is the only directive of ngx_lua configured in a location *AND* ngx.ctx is used.
agentzh,2012-06-07 14:50:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/113c65818f67848b82414c10e8ef60cfe137091d,113c65818f67848b82414c10e8ef60cfe137091d,reindexed the test numbers in t/025-codecache.t.
agentzh,2012-06-07 14:39:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c8063a8bb7703e664636e841634583b20e04236b,c8063a8bb7703e664636e841634583b20e04236b,updated .gitignore again.
agentzh,2012-06-07 14:38:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cd825f51cfbb5ecc80e46f5eb41215aa87d676d0,cd825f51cfbb5ecc80e46f5eb41215aa87d676d0,updated .gitignore.
agentzh,2012-06-07 14:15:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2a3d31d38e406fbca12ab2dde1e5317cb549124d,2a3d31d38e406fbca12ab2dde1e5317cb549124d,Merge branch 'logby'
agentzh,2012-06-07 12:19:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3b1e9aaff7317fa2ff85cd1ca59a64e98432916e,3b1e9aaff7317fa2ff85cd1ca59a64e98432916e,updated docs to reflect recent changes.
jinglong,2012-06-07 08:46:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a58ebf89f769418a47672241c4ffbf5438bd9d85,a58ebf89f769418a47672241c4ffbf5438bd9d85,"1, add more test cases for loading bytecode"
agentzh,2012-06-07 05:33:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/76dcccdfd5e1af0602c1c983aa1e7affdb5e3090,76dcccdfd5e1af0602c1c983aa1e7affdb5e3090,updated valgrind.suppress for linux i386.
agentzh,2012-06-06 15:11:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cfd3a0e439adf57ff3dff907fa2f26c7f0fb2308,cfd3a0e439adf57ff3dff907fa2f26c7f0fb2308,now we use environments in the developer build script instead of hard-coded paths.
jinglong,2012-06-06 09:48:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e72096a4784150ef9cca9b2e8b2923e667cb902c,e72096a4784150ef9cca9b2e8b2923e667cb902c,"1, check the version when loading bytecode"
agentzh,2012-06-06 09:21:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fa64f362812523c655eedde2f48f4177cfbfca36,fa64f362812523c655eedde2f48f4177cfbfca36,added downstream cosocket tests for the rewrite phase.
agentzh,2012-06-06 09:20:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/429b603c5efa263a416d080746e821209da57eae,429b603c5efa263a416d080746e821209da57eae,"optimize: now we no longer call ngx_http_post_request to wake up the request associated with the current cosocket upstream from within the cosocket upstream event handlers, but rather call r->write_event_handler directly. this change can also make backtraces more meaningful because we perserve the original calling stack."
agentzh,2012-06-06 09:17:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/54d8736f6de141a936fc0158a4c94b9dcfc39a9e,54d8736f6de141a936fc0158a4c94b9dcfc39a9e,added cosocket tests for lua code running at the rewrite phase.
agentzh,2012-06-06 08:31:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/26db2dda18cf97d3a2735451c2f6c4552e9932eb,26db2dda18cf97d3a2735451c2f6c4552e9932eb,bugfix: cosocket:connect() might hang on socket creation errors or segfault later due to left-over state flags.
jinglong,2012-06-06 06:47:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/39b9138cfa0b4d2bfb78152aa9c72ee7450316e0,39b9138cfa0b4d2bfb78152aa9c72ee7450316e0,"1, add a test case for loading bytecode"
agentzh,2012-06-06 06:38:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1099cd3b620dbdb7bb009558cfdd5dc713a7d69a,1099cd3b620dbdb7bb009558cfdd5dc713a7d69a,minor fixes in cosocket.
jinglong,2012-06-05 09:49:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2a418d8bbbbfc62a08b33a11e607833b9d4110fa,2a418d8bbbbfc62a08b33a11e607833b9d4110fa,"1, add support for loading bytecode(both lua and luajit)"
agentzh,2012-06-05 08:36:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/802e95b3013ccf50878ffe4cfa8366e827b90402,802e95b3013ccf50878ffe4cfa8366e827b90402,bugfix: the _G special table did not get cleared when lua_code_cache is turned off. thanks Moven.
agentzh,2012-06-05 08:16:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/95857be6f01b1ce9e3e75ba83ad0e12a7380981b,95857be6f01b1ce9e3e75ba83ad0e12a7380981b,feature: ngx.log() now checks if the log level number is in the valid range (0 ~ 8). thanks Xiaoyu Chen (smallfish) for suggesting this.
agentzh,2012-06-05 03:50:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/154f5af33bef522823aa0ab98c3301297a38f3b6,154f5af33bef522823aa0ab98c3301297a38f3b6,fixed the newly added test case for log_by_lua + shared dict.
agentzh,2012-06-05 03:44:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7ba84a74a137c92a2e276936ce57dbd8e267d44f,7ba84a74a137c92a2e276936ce57dbd8e267d44f,Merge branch 'master' into logby
agentzh,2012-06-05 03:43:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2afa6bfb3a9a649e7f1e2a14bc9bb0a425753caf,2afa6bfb3a9a649e7f1e2a14bc9bb0a425753caf,added one (passing) test for log_by_lua + shared dict.
agentzh,2012-06-04 09:21:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/86f97f00b15bc7a7c62c354fad6af04246e94180,86f97f00b15bc7a7c62c354fad6af04246e94180,"bugfix: ngx.sub() could leak memory when the ""replace"" template argument string is not well formed and the ""o"" regex option is specified. this issue was caught by Test::Nginx::Socket when setting environment TEST_NGINX_CHECK_LEAK=1."
agentzh,2012-06-04 09:19:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd681f8d07a146007efa31b331cb25cb0558e57e,fd681f8d07a146007efa31b331cb25cb0558e57e,bugfix: fixed a compilation error in the previous commit.
agentzh,2012-06-04 07:18:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b30b56cf3d5fce9459c81c95d8ab738bd84ae2e2,b30b56cf3d5fce9459c81c95d8ab738bd84ae2e2,"bugfix: ngx.re.gmatch leaked memory when the ""o"" option was not specified. this bug was caught by Test::Nginx::Socket when setting the environment TEST_NGINX_CHECK_LEAK=1."
agentzh,2012-06-04 03:48:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9c96a3aafb116c7f1cb992953d0d584119dbee5d,9c96a3aafb116c7f1cb992953d0d584119dbee5d,Merge branch 'master' into leak
agentzh,2012-06-04 03:48:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f9e61f04479274b8c2c6be8317bf6d20853076de,f9e61f04479274b8c2c6be8317bf6d20853076de,docs: massive wording improvements from the nginx wiki site. thanks Dayo.
agentzh,2012-06-04 02:55:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f74372491bdc2c1418afe4a0dab6f45196936d25,f74372491bdc2c1418afe4a0dab6f45196936d25,Merge branch 'master' into leak
agentzh,2012-06-04 02:54:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d2d1904b6e16a610f043934b6603185afcabc67b,d2d1904b6e16a610f043934b6603185afcabc67b,"fixed test plan for 056-flush.t for the ""check leak"" testing mode."
agentzh,2012-06-04 02:54:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8c0221fc0d8d49cdad120fe7a296385e4a986e21,8c0221fc0d8d49cdad120fe7a296385e4a986e21,"fixed test plan for 056-flush.t for the ""check leak"" testing mode."
agentzh,2012-06-04 00:55:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a058363c1d9725d6a81df7154e2d6e211dfc3392,a058363c1d9725d6a81df7154e2d6e211dfc3392,fixed another issue in the test case for the memory leak issue that was in receiveuntil().
agentzh,2012-06-04 00:54:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d803598149c5b96317f199febf24f8a00588fb5d,d803598149c5b96317f199febf24f8a00588fb5d,fixed an issue in the test case for the memory leak issue that was in receiveuntil().
agentzh,2012-06-03 09:39:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/225fc72fc8f40df3cd7260fa1b7009c201ba18a2,225fc72fc8f40df3cd7260fa1b7009c201ba18a2,fixed invalid HTTP request headers in the req-body test cases.
agentzh,2012-06-03 09:04:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1aab85928375edc0a7bae69c84ccfb8686a69f7a,1aab85928375edc0a7bae69c84ccfb8686a69f7a,"bugfix: receiveuntil could leak memory, especially for long pattern string arguments. this bug was caught by Test::Nginx::Socket when setting the environment TEST_NGINX_CHECK_LEAK=1."
agentzh,2012-06-02 02:32:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6440e4e61be08607597af6a9a9a4bf0aadde7bfe,6440e4e61be08607597af6a9a9a4bf0aadde7bfe,updated valgrind.suppress further for linux i386.
agentzh,2012-06-01 13:11:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c7374aaa38e0cd436b5e33c21b52684951fd6424,c7374aaa38e0cd436b5e33c21b52684951fd6424,"updated valgrind.suppress for the ""hup reload"" + valgrind/memcheck testing mode."
agentzh,2012-05-31 06:21:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a8dd2d70eff0aa639e1b86b06e0b87d5e8901442,a8dd2d70eff0aa639e1b86b06e0b87d5e8901442,added 080-hup-shdict.t to test if the data in shared dict is survived through nginx HUP reload. also updated valgrind.suppress accordingly.
agentzh,2012-05-30 15:03:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9fbba9aeb6de452003fa98c72825a50acc4ff214,9fbba9aeb6de452003fa98c72825a50acc4ff214,added tests for the on-demand handler registration mechansim for log_by_lua*.
agentzh,2012-05-30 14:58:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dbac005035ea289dd6971834bc30cc812dd27199,dbac005035ea289dd6971834bc30cc812dd27199,"resolved conflicts while merging ""master"" into ""logby"". we now adopt the new on-demand handler registration mechansim for our log_by_lua* directives."
agentzh,2012-05-30 14:32:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a287451c118190ecdb08c318d66b0bc6758be14a,a287451c118190ecdb08c318d66b0bc6758be14a,"Refactored on-demand handler registration

The old approach rewrites to static (global) variables at config-time,
which could have potential problems with nginx config reloading via the
HUP signal.

* now we use the main conf struct instead of static (global) varibles
  to record directive usage.

* now we also register the capturing filters on demand."
agentzh,2012-05-30 14:26:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/acb1cde11a54fe7897646926d9e09a1d29616a4b,acb1cde11a54fe7897646926d9e09a1d29616a4b,minor coding style fixes in capturefilter.c.
agentzh,2012-05-30 13:51:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e1a91744d674240bd3911f4f5c134fdb08ef5165,e1a91744d674240bd3911f4f5c134fdb08ef5165,reindexed tests in 079-unused-directives.t
agentzh,2012-05-30 13:51:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ce09217899ac5ab28df9316ebc83f4cc222421d5,ce09217899ac5ab28df9316ebc83f4cc222421d5,"added tests for handlers registered on-demand (i.e., determined whether their config directives are actually used in nginx.conf)."
agentzh,2012-05-30 13:49:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/564d2bb8c1b4bb53a3a0aef2acd32ebf403e37b8,564d2bb8c1b4bb53a3a0aef2acd32ebf403e37b8,minor coding style fixes and debug log message adjustments.
agentzh,2012-05-30 10:06:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6d2e7a0f67b84160055d83b3771c6d0777944884,6d2e7a0f67b84160055d83b3771c6d0777944884,Merge branch 'master' into logby
agentzh,2012-05-30 07:17:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a830b61eb8f9730bb160f2c9b01f30bf0b4ab65a,a830b61eb8f9730bb160f2c9b01f30bf0b4ab65a,078-hup-vars.t: no need to use the debug log level.
agentzh,2012-05-30 07:05:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a486c4cf0047f113a528f0aa47eb016ce3f0c0ef,a486c4cf0047f113a528f0aa47eb016ce3f0c0ef,added tests for the nginx core bug regarding nginx variables under HUP reload: http://mailman.nginx.org/pipermail/nginx-devel/2012-May/002223.html
agentzh,2012-05-30 06:38:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ab5069e5d63d7cffe75f3eee9eea16ae1bdbf80c,ab5069e5d63d7cffe75f3eee9eea16ae1bdbf80c,"merged branch ""master"" into ""logby""."
agentzh,2012-05-30 06:16:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1075c325ee5fd86ddc15152442153685b6b28bd2,1075c325ee5fd86ddc15152442153685b6b28bd2,fixed tests to work-around an issue with nginx listening on a unix domain socket (we have to remove the socket file before sending HUP).
agentzh,2012-05-30 06:16:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f1548c48dfc1e8c12073001e3b355d3ecc098b9e,f1548c48dfc1e8c12073001e3b355d3ecc098b9e,fixed tests to work-around an issue with nginx listening on a unix domain socket (we have to remove the socket file before sending HUP).
agentzh,2012-05-30 06:06:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c503785625357b4af2e7670de23ba64e2842b0bd,c503785625357b4af2e7670de23ba64e2842b0bd,fixed ngx. table initial size for content/rewrite/access_by_lua*.
agentzh,2012-05-29 09:36:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/da5e60c949dcd4d8ed68b838aaf681a933c3bae7,da5e60c949dcd4d8ed68b838aaf681a933c3bae7,fixed tests for floating point number inaccuracy issues on linux i836.
agentzh,2012-05-29 09:15:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e49edfa9d39222b0b61873a8f286ded3b518d9b6,e49edfa9d39222b0b61873a8f286ded3b518d9b6,fixed typos in the tests.
agentzh,2012-05-29 08:23:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/54a0e568c08005c0d320c192a2da7c96ffe07222,54a0e568c08005c0d320c192a2da7c96ffe07222,minor optimizations in ngx.sleep handling.
agentzh,2012-05-29 08:15:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a89d8ce471825ad3e0ecb7cbde46ce05a21bb29d,a89d8ce471825ad3e0ecb7cbde46ce05a21bb29d,added more tests for calling ngx.location.capture before and after ngx.sleep.
agentzh,2012-05-29 08:01:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2362917a687b7d54e9c64e494fbf7880c1d34aaf,2362917a687b7d54e9c64e494fbf7880c1d34aaf,updated docs to reflect changes (including documenting ngx.sleep.)
agentzh,2012-05-29 06:51:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c5be5ff2f4068acab72f0331acc552e13771cf6b,c5be5ff2f4068acab72f0331acc552e13771cf6b,optimize: fixed the ngx. table initial size.
agentzh,2012-05-29 06:38:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d6ba6b4505dd8c4285ee791e746171ee9985c4a4,d6ba6b4505dd8c4285ee791e746171ee9985c4a4,"renamed t/074-sleep.t to t/077-sleep.t because we already have t/074-prefix-var.t (from the ""prefix-var"" branch)."
agentzh,2012-05-28 14:34:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4e7379f93fa3b3e0491ac84fd349b772b9c5c7e7,4e7379f93fa3b3e0491ac84fd349b772b9c5c7e7,"reindexed the test numbers via the ""reindex"" script."
agentzh,2012-05-28 14:28:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cc3de56b1e6e1ea52f40ca553fd6b3fa6aaad6f5,cc3de56b1e6e1ea52f40ca553fd6b3fa6aaad6f5,Merge branch 'master' into sleep
agentzh,2012-05-28 14:28:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5a55dd6f42cf281122a3eaaf7444be69353dd48e,5a55dd6f42cf281122a3eaaf7444be69353dd48e,bugfix: fixed various issues in jinglong's patch for adding ngx.sleep() in github pull request #120.
agentzh,2012-05-27 16:20:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6446ee71b8a86e98a849e778cacf7a03f06b1b38,6446ee71b8a86e98a849e778cacf7a03f06b1b38,documented the rewrite_by_lua_no_postpone directive.
agentzh,2012-05-27 16:18:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8f6fab62187cf978f9668dfa03af90c67f377ab0,8f6fab62187cf978f9668dfa03af90c67f377ab0,Merge branch 'master' into no-postpone
agentzh,2012-05-27 15:50:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e7754953d6f1c5da61b5d085863230d9729d341d,e7754953d6f1c5da61b5d085863230d9729d341d,updated docs to reflect recent changes.
agentzh,2012-05-27 07:45:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e750fa1bcff6beaf72805192d263238652f8592,8e750fa1bcff6beaf72805192d263238652f8592,bugfix: the receiveuntil iterators would have memory issues with very small lua_socket_buffer_size settings in the inclusive mode.
agentzh,2012-05-26 12:42:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/92b47f9da62f53658b59312c24bddc34ae35d4c0,92b47f9da62f53658b59312c24bddc34ae35d4c0,fixed typos in the test case names in 075-logby.t
jinglong,2012-05-25 11:07:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6e732efe687a293ec06ca63db4d168e2b0223fad,6e732efe687a293ec06ca63db4d168e2b0223fad,"1, fix a bug in sleep() (the number of argument must be 1)"
jinglong,2012-05-25 10:56:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b2481bebeafcc46664385304b0653347a858dade,b2481bebeafcc46664385304b0653347a858dade,"1, update t/062-count.t(total count of ngx.* to 88)
2, update t/074-sleep.t"
jinglong,2012-05-25 10:31:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/080990db7c2638061a008c2a448a640c18a9ff64,080990db7c2638061a008c2a448a640c18a9ff64,"1,add test cases for ngx.sleep()"
jinglong,2012-05-25 10:30:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4c207e5403155ffb31dfb8766e8f98003fb9a23c,4c207e5403155ffb31dfb8766e8f98003fb9a23c,"1, add ngx.sleep()"
chaoslawful,2012-05-25 09:09:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0782f475c76d8935332664ed9f5b40ac21f77977,0782f475c76d8935332664ed9f5b40ac21f77977,merged from master
chaoslawful,2012-05-25 09:06:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2fd7a3a503066f496610c27eb2f8955805419846,2fd7a3a503066f496610c27eb2f8955805419846,initial implementation works
agentzh,2012-05-25 01:56:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3ac6f26141adb9a1bdc37587fd73c5e05fe4f481,3ac6f26141adb9a1bdc37587fd73c5e05fe4f481,"various coding style fixes in Matthieu Tourne's patch for adding ngx.req.init_body(), ngx.req.append_body(), and ngx.req.finish_body(). also made the size argument optional in ngx.req.init_body() in which case the client_body_buffer_size configuration is honored."
agentzh,2012-05-25 00:39:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/46aa878051ffb3b4e16441f0f65e218261af7c9c,46aa878051ffb3b4e16441f0f65e218261af7c9c,fixed coding style in Matthieu Tourne's patch for adding the rewrite_by_lua_no_postpone directive; also added some tests for it.
agentzh,2012-05-24 23:55:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b241806f2344e93f67741a26544eae91a3ea76a2,b241806f2344e93f67741a26544eae91a3ea76a2,Merge branch 'master' into logby
agentzh,2012-05-24 23:54:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f229fccc529c2706a6c2a2be2d2e837ac320b3d8,f229fccc529c2706a6c2a2be2d2e837ac320b3d8,various fixes in ngx.decode_args().
agentzh,2012-05-24 23:53:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/df2ec5acfc01647f11debe5ccd20bb680773532b,df2ec5acfc01647f11debe5ccd20bb680773532b,added tests for the optional max_args argument to ngx.decode_args(); also documented this optional argument.
agentzh,2012-05-24 14:05:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/56d992b1aa682d9c0e4aa9a7f6b7c1e8779d10fe,56d992b1aa682d9c0e4aa9a7f6b7c1e8779d10fe,docs: documented how relative paths are processed when *_by_lua_file directives are used; also documented the $prefix and ${prefix} notations in lua_package_path and lua_package_cpath directive values.
agentzh,2012-05-24 13:50:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5be3f2b3655d8271464f82843dc42d8f1a2468aa,5be3f2b3655d8271464f82843dc42d8f1a2468aa,Merge branch 'master' into prefix-var
agentzh,2012-05-24 13:48:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3d6f752a0fd5f11d50db0d675175fc78ca42e0b0,3d6f752a0fd5f11d50db0d675175fc78ca42e0b0,docs: updated docs to reflect recent changes in set_by_lua.
agentzh,2012-05-24 13:36:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/89ba4898308532743ba57c0b214f44b06d9ec85c,89ba4898308532743ba57c0b214f44b06d9ec85c,Merge branch 'master' into setby
agentzh,2012-05-24 13:32:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/47ec23a33e2fb8952f8158cbf7f6c2452d63ddef,47ec23a33e2fb8952f8158cbf7f6c2452d63ddef,updated docs to reflect recent changes in the logging API.
agentzh,2012-05-24 13:25:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e9cb5104376097ee358000f9a0a6213b6a4ee703,e9cb5104376097ee358000f9a0a6213b6a4ee703,fixed a test case in 009-log.t for luajit 2.0.
agentzh,2012-05-24 13:07:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d823b84542385d1ede0fa5f5a58b4a42de5921ee,d823b84542385d1ede0fa5f5a58b4a42de5921ee,Merge branch 'master' into logging
agentzh,2012-05-24 13:04:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2bd1f0f80ec6661fc81ea4c06049c2286cb53da3,2bd1f0f80ec6661fc81ea4c06049c2286cb53da3,updated docs to reflect recent changes.
agentzh,2012-05-24 09:47:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/732fe370a6327442408f16efa7789b4eddf3fd2e,732fe370a6327442408f16efa7789b4eddf3fd2e,added many more tests for log_by_lua* and also fixed issues with ngx.ctx in log_by_lua*.
agentzh,2012-05-24 09:08:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/447c7488b312dd757a910b629d13afbfb42c8e66,447c7488b312dd757a910b629d13afbfb42c8e66,fixed some coding style issues in Matthieu Tourne's patch for log_by_lua* and also added a simple test for log_by_lua.
agentzh,2012-05-24 08:49:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd193aa4c5d44a26cd395ea46ea9e686c3d4e992,fd193aa4c5d44a26cd395ea46ea9e686c3d4e992,fixed ngx. table initial size for ngx.decode_args().
agentzh,2012-05-24 08:36:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6a61f43845197a5f5d75de5afa0e3de576a2dff0,6a61f43845197a5f5d75de5afa0e3de576a2dff0,added some tests for ngx.decode_args().
agentzh,2012-05-24 08:28:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ecd83e9a1b71ecc825e01c0830a9c09090e1b7ab,ecd83e9a1b71ecc825e01c0830a9c09090e1b7ab,minor coding style fixes in Matthieu Tourne's patch for adding ngx.decode_args().
agentzh,2012-05-23 15:27:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4b4f48007efd15713463ce45313004ac58914a3c,4b4f48007efd15713463ce45313004ac58914a3c,resolved conflicts while merging master into prefix-var.
agentzh,2012-05-23 15:21:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2178f0bac57a43e56b9fe85f4d7bf9a8f298decc,2178f0bac57a43e56b9fe85f4d7bf9a8f298decc,updated README and README.markdown to reflect recent changes in both the .wiki doc and wiki2markdown.pl.
agentzh,2012-05-23 02:48:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/69a3d8970a403b50572146466e4172287c408d47,69a3d8970a403b50572146466e4172287c408d47,"Merge pull request #118 from zhuzhaoyuan/master

Issue a new pull request (Was: #117) for various documentation improvements."
zhuzhaoyuan,2012-05-22 15:53:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cb5c37ec762b4ddf778dba79bfa54b239da7b93e,cb5c37ec762b4ddf778dba79bfa54b239da7b93e,generated README.markdown by using wiki2markdown.pl
zhuzhaoyuan,2012-05-22 15:49:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b1ca2dd5b0adc3a324d7b9aae72b94f1609f9bc4,b1ca2dd5b0adc3a324d7b9aae72b94f1609f9bc4,updated the wiki file (http://wiki.nginx.org/HttpLuaModule had been updated)
zhuzhaoyuan,2012-05-22 12:31:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a3524ab96b146300ed555f9a24ac9711e1687c84,a3524ab96b146300ed555f9a24ac9711e1687c84,synchronized the wiki from http://wiki.nginx.org/HttpLuaModule
zhuzhaoyuan,2012-05-22 12:13:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/54d4b8fe15be9f1fae1e8f4cdb61ca748a2afa1d,54d4b8fe15be9f1fae1e8f4cdb61ca748a2afa1d,Merge branch 'master' of https://github.com/chaoslawful/lua-nginx-module
agentzh,2012-05-22 07:03:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/087694f4a277e55d104c932ec4f9ad86e93c0acd,087694f4a277e55d104c932ec4f9ad86e93c0acd,"feature: special nginx variable $prefix is now available in the lua_package_path and lua_package_cpath, which evaluates to the server prefix string (as specified by the -p PREFIX command-line option of the ""nginx"" executable). thanks Matthieu Tourne for the patch."
agentzh,2012-05-22 06:45:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/efb33ad7cb5b08566c3323a3e7a6e09188744341,efb33ad7cb5b08566c3323a3e7a6e09188744341,added a leading comment to README.markdown to indicate that is is generated automatically.
agentzh,2012-05-22 05:45:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1e6de3d93398b5269bb9885113fbd79e8d0230e3,1e6de3d93398b5269bb9885113fbd79e8d0230e3,optimize: eliminated unnecessary lua-side operations in ngx.log() and print().
agentzh,2012-05-22 05:04:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/33b3d45ea618e2e23665f8e026890af4a336ea4a,33b3d45ea618e2e23665f8e026890af4a336ea4a,"modified the message prefix of print() from ""[lua] print: "" to just ""[lua] ""; also updated tests to reflect recent changes."
zhuzhaoyuan,2012-05-21 14:38:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0a258abde21b21719504f7ae1cb80cecc7529725,0a258abde21b21719504f7ae1cb80cecc7529725,fixed some typos
chaoslawful,2012-05-21 14:06:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0538286ea62e14f0fbb52406f9d229247f6292da,0538286ea62e14f0fbb52406f9d229247f6292da,"Merge pull request #117 from zhuzhaoyuan/master

fixed minor grammatical errors in the README.markdown file"
zhuzhaoyuan,2012-05-21 13:45:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/77c715d454fa11fd4f2018d1eeb6f770a283b802,77c715d454fa11fd4f2018d1eeb6f770a283b802,fixed some minor grammatical errors
zhuzhaoyuan,2012-05-21 12:59:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5f1c7c32cee3a2229c300efe04807f077fc8016f,5f1c7c32cee3a2229c300efe04807f077fc8016f,lua -> Lua
zhuzhaoyuan,2012-05-21 12:51:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd0fa3e54d652c86ccadab91b3999bab1b723bdb,fd0fa3e54d652c86ccadab91b3999bab1b723bdb,Merge branch 'master' of https://github.com/chaoslawful/lua-nginx-module
agentzh,2012-05-21 11:12:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2ca579687d2caf16c61dc51c7a97609fc2faf14a,2ca579687d2caf16c61dc51c7a97609fc2faf14a,"Merge pull request #116 from dirkfeytons/master

Conditionally compile regex cache config option"
agentzh,2012-05-21 10:58:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/34d6f7da0b93d670205b492aa44988a526328696,34d6f7da0b93d670205b492aa44988a526328696,bugfix: the set_by_lua directive did support nginx variable interpolation and there was no easy way to use the dollar sign characters in the literal Lua source. the set_by_lua_file directive still supports nginx variable interpoloation in its lua file path argument. thanks Vittly for reporting this in github issue #111 and jinglong for the test in github pull #115.
dirkfeytons,2012-05-21 09:39:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/edd3e3f629ccf1a05b1b6a8246b0650a2c0fe135,edd3e3f629ccf1a05b1b6a8246b0650a2c0fe135,"Only include lua_regex_cache_max_entries if NGX_PCRE is defined.

The regex bindings are not compiled when the PCRE module is not included.
This patch also removes support for the config options in that case."
agentzh,2012-05-21 07:54:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2cd7586ce7ba54b467137c6bb0001664da4b2c0d,2cd7586ce7ba54b467137c6bb0001664da4b2c0d,"feature: added the ""[lua]"" prefix to the log messages produced by ngx.log() and print(). thanks Matthieu Tourne for the patch."
agentzh,2012-05-21 07:23:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/28da7e3f9b6283269d8c1fefb51b93a7c02b86c1,28da7e3f9b6283269d8c1fefb51b93a7c02b86c1,"changed the chunk name of set_by_lua from ""set_by_lua_inline"" to ""set_by_lua""."
agentzh,2012-05-21 07:28:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f75f20d186e41cde5959af20d68ea9a4d077721d,f75f20d186e41cde5959af20d68ea9a4d077721d,"feature: ngx.log() and print() now output more debugging info, i.e., the current lua source file name (if any), the current source line number, and the current calling lua function name (if any), into the nginx error.log file. thanks Matthieu Tourne for the patch."
agentzh,2012-05-21 07:23:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f8e612af329eabf6f13c7832a83a7fa08066df57,f8e612af329eabf6f13c7832a83a7fa08066df57,"changed the chunk name of set_by_lua from ""set_by_lua_inline"" to ""set_by_lua""."
chaoslawful,2012-05-18 06:02:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/57a189a55218c36c5fec88a9e94da155da1e8735,57a189a55218c36c5fec88a9e94da155da1e8735,"Merge pull request #114 from monadbobo/master

remove some dead assignment"
monadbobo,2012-05-18 03:31:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e2e4a9e721b3357c9510d4791f1cf557c7732db,8e2e4a9e721b3357c9510d4791f1cf557c7732db,remove some dead assignment via scan-build.
agentzh,2012-05-17 03:44:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e841106d16f80292d236ccccc06ce6913384e73a,e841106d16f80292d236ccccc06ce6913384e73a,added a (passing) test for setting ngx.header.content_encoding that should bypass the ngx_gzip output filter.
agentzh,2012-05-16 15:21:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/57e8d9991715513922ce5bd657f3b8f4a0356026,57e8d9991715513922ce5bd657f3b8f4a0356026,"added a (passing) test case for cosocket:send(""""), that is, sending an empty string."
agentzh,2012-05-16 15:20:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a3961fe7bc399f32eae65fed14394bcb8b1e6d92,a3961fe7bc399f32eae65fed14394bcb8b1e6d92,"bugfix: cosocket:receive(0) was not allowed and would throw an error saying ""0"" is a bad pattern. thanks huang kun for reporting this issue."
agentzh,2012-05-16 15:11:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ca3239a25d5302a3e483342a582e7a39a7a3c38c,ca3239a25d5302a3e483342a582e7a39a7a3c38c,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
zhuzhaoyuan,2012-05-16 13:12:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cd04674b83a7b35915aebcd04710580bf52cc2c8,cd04674b83a7b35915aebcd04710580bf52cc2c8,deleted a reduntant blank line
zhuzhaoyuan,2012-05-16 09:48:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c4f3716711e3d5031fddb59604e674979b9d729c,c4f3716711e3d5031fddb59604e674979b9d729c,fixed minor coding styles
zhuzhaoyuan,2012-05-16 13:12:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/54f5a70d722fb21ccf7fb64743e7b24bf6c4e905,54f5a70d722fb21ccf7fb64743e7b24bf6c4e905,deleted a reduntant blank line
zhuzhaoyuan,2012-05-16 09:48:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4174f0c6b53ab326227488824d5aa5376d9b7052,4174f0c6b53ab326227488824d5aa5376d9b7052,fixed minor coding styles
chaoslawful,2012-05-16 09:19:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/61960c5adee397f6fa475d2f3aa0e04b8f79186e,61960c5adee397f6fa475d2f3aa0e04b8f79186e,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
chaoslawful,2012-05-16 09:19:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0d1db00cf65bcb73b2b929ce2eea665b3ba017bc,0d1db00cf65bcb73b2b929ce2eea665b3ba017bc,remove duplicate string conversion
agentzh,2012-05-16 09:03:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7a7ac79f3d437906fd0ce31dc615f9d46550335c,7a7ac79f3d437906fd0ce31dc615f9d46550335c,removed dead code found by Simon Liu.
agentzh,2012-05-16 06:54:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d457e01b2464b742c07023321a5147a994ee39fc,d457e01b2464b742c07023321a5147a994ee39fc,enlarged the timeout threshold of TEST 10 in 027-multi-capture.t.
agentzh,2012-05-16 03:13:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a7bd2ef07b3df33e486f555ed5abea8931cf858e,a7bd2ef07b3df33e486f555ed5abea8931cf858e,enlarged the resolver timeout for TEST 4 in 058-tcp-socket.t.
agentzh,2012-05-16 03:08:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a11ba9b0408b25f6ab58e90c3c5bab08422fd928,a11ba9b0408b25f6ab58e90c3c5bab08422fd928,enlarged the timeout threshold of TEST 5 in 067-req-socket.t.
agentzh,2012-05-16 02:55:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3584b61d2522690f9f5a3b40a03bafde7817ba52,3584b61d2522690f9f5a3b40a03bafde7817ba52,Merge remote-tracking branch 'zhuzhaoyuan/master'
agentzh,2012-05-16 01:24:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fbbc89d93cd5bc3a835da3e659d244a76dcc8fd9,fbbc89d93cd5bc3a835da3e659d244a76dcc8fd9,cosocket: simplified the code for downstream cosockets a bit.
zhuzhaoyuan,2012-05-15 16:44:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/581e0495bfcb80167f3130e9e874ee5c27ec5dee,581e0495bfcb80167f3130e9e874ee5c27ec5dee,"lua -> Lua, luajit -> LuaJIT, and fixed some minor typos"
agentzh,2012-05-15 14:28:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a34f9b6ea5b59f30b2be8f43d954831906dfb7f0,a34f9b6ea5b59f30b2be8f43d954831906dfb7f0,bugfix: gcc 4.6 complaint about comparing size_t values with off_t values.
agentzh,2012-05-15 13:34:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/754d547ca19d6d4e5dc7c26926e1c1adb35160a7,754d547ca19d6d4e5dc7c26926e1c1adb35160a7,"bugfix: ngx.req.socket() did not honor the ""Expect: 100-continue"" request header and could hang. thanks Matthieu Tourne for the patch in pull request #107."
agentzh,2012-05-15 12:54:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/21450b7c5814f755617666863843dce0b0fd1213,21450b7c5814f755617666863843dce0b0fd1213,"bugfix: the ngx.req.socket() object (i.e., the downstream cosocket object) did not work with HTTP 1.1 pipelined requests at all."
agentzh,2012-05-15 09:08:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e7f56d021428c312e621e37d5f8c43d6b72daf31,e7f56d021428c312e621e37d5f8c43d6b72daf31,bugfix: downstream cosockets might lose the last part of the request body when receiving data. this regression had appeared in v0.5.0rc25. thanks Matthieu Tourne for reporting it.
agentzh,2012-05-14 14:45:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e6877379c0e1923e48b473e5c9158397e9aef52,8e6877379c0e1923e48b473e5c9158397e9aef52,minor coding style fixes in the patch for adding Lua backtraces. also added 073-backtrace.t to test it. see github pull request #107.
agentzh,2012-05-12 04:42:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dbe0dc4e4f533291c9866d0ae4d53e3beefe6777,dbe0dc4e4f533291c9866d0ae4d53e3beefe6777,now we call ngx_http_lua_socket_finalize in cosocket:setkeepalive() to help buffer reuse.
agentzh,2012-05-12 04:26:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d00976d807c64c50cd6e6d5895d17c95d9b1baef,d00976d807c64c50cd6e6d5895d17c95d9b1baef,bugfix: nginx could crash on request fialization when running the cosocket cleanup handler due to the lack of check of the ctx pointer. thanks shaneeb for reporting this in github issue #110.
agentzh,2012-05-12 04:00:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b440e5b2db563cf42888c2884c66053a784beb7b,b440e5b2db563cf42888c2884c66053a784beb7b,updated t/024-access/exit.t a bit.
agentzh,2012-05-11 13:59:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8f1b3d9aa3d4651008c499a46349531f9e605187,8f1b3d9aa3d4651008c499a46349531f9e605187,added a test for If-Unmodified-Since and 412 error page.
agentzh,2012-05-11 09:26:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eeb1816c65bfa48b5e23b46ffd989689f5233d2e,eeb1816c65bfa48b5e23b46ffd989689f5233d2e,optimize: now ngx.log is much faster when the log level argument is lower than the actual error_log level specified in nginx.conf. thanks Matthieu Tourne for providing the patch.
agentzh,2012-05-11 08:58:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/02b1db9e538f75deef3af8bcf205ff4a8d770eb4,02b1db9e538f75deef3af8bcf205ff4a8d770eb4,minor optimizations.
agentzh,2012-05-11 08:57:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0ceb1045f11e3b98b9a049fe6cb33c5b6e2047cf,0ceb1045f11e3b98b9a049fe6cb33c5b6e2047cf,added (passing) tests for conditional GET requests.
agentzh,2012-05-10 09:33:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/decdf012905407fb7cd7068d3dcda9273f3a8d0d,decdf012905407fb7cd7068d3dcda9273f3a8d0d,added error log tests to t/044-req-body.t.
agentzh,2012-05-10 09:23:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e9a5eb1a087f8fdcd499eb9fe869659b4dfc214b,e9a5eb1a087f8fdcd499eb9fe869659b4dfc214b,bugfix: ngx.req.get_body_data() could not handle multi-buffer request bodies and discarded the body data after the first buffer.
agentzh,2012-05-10 09:14:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/df32739d002c6f4671ecdb93f861c8d22f2b3d7c,df32739d002c6f4671ecdb93f861c8d22f2b3d7c,fixed test index in 024-access/subrequest.t.
agentzh,2012-05-10 08:21:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e2faf71b1e226b3ab36530d9cf9e432ee5eafaf,8e2faf71b1e226b3ab36530d9cf9e432ee5eafaf,added tests to expose the bug in the nginx core reported by drdrxp in agentzh/nginx-eval-module#1.
agentzh,2012-05-10 07:06:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/becf72a1a5f19fa858df73eb4aae6a58a7dc5863,becf72a1a5f19fa858df73eb4aae6a58a7dc5863,added a (passing) test for github issue #110.
agentzh,2012-05-06 05:41:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/add1a0ad8a0ac2c1f347a25da32dbc3e68b11f67,add1a0ad8a0ac2c1f347a25da32dbc3e68b11f67,updated .gitignore.
chaoslawful,2012-05-04 07:06:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9e935ee316c43e92d74e71edf95c84771a2780b3,9e935ee316c43e92d74e71edf95c84771a2780b3,add skeleton of coroutine api
agentzh,2012-05-03 12:28:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8d287851e4a16000b5c607e225a40afe4dc9219c,8d287851e4a16000b5c607e225a40afe4dc9219c,bugfix: the previous patch for using ngx.ctx in set_by_lua* could result in memory leaks; now we ensure that the request cleanup handler is always registered when set_by_lua* is used.
agentzh,2012-05-02 11:43:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ef9112084ae31abd19895ae86080f2d79586f096,ef9112084ae31abd19895ae86080f2d79586f096,added error log tests to 033-ctx.t.
agentzh,2012-05-02 11:42:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bee1cabcbaf981cdbf350e5c55be98de4ed66460,bee1cabcbaf981cdbf350e5c55be98de4ed66460,bugfix: ngx.ctx was not accessible at all in set_by_lua*. thanks Pierre.
agentzh,2012-05-02 11:41:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4e56036c2604eddb00e4384453f2424491a73754,4e56036c2604eddb00e4384453f2424491a73754,minor code refactoring.
agentzh,2012-05-01 06:04:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/004b7c8ba4996ec3de3ae382a769ee5666958974,004b7c8ba4996ec3de3ae382a769ee5666958974,"bugfix: fixed typo ""on-array"", which should be ""non-array"", in an error message."
agentzh,2012-04-28 04:49:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6de0c1c6c93ad5e65e1e93b16bbe22994d2e972b,6de0c1c6c93ad5e65e1e93b16bbe22994d2e972b,bugfix: cosocket connections from the connection pool might lead to segfaults if it is not used immediately. thanks xukaifu for reporting this as github issue #108.
agentzh,2012-04-27 08:59:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/370955d214bc4c729eb9e27893b392d91da2126d,370955d214bc4c729eb9e27893b392d91da2126d,removed too restrict timeout settings in the test suite.
agentzh,2012-04-27 08:24:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c7ec9c97d9a8674bae2c6469873ea49c0358c63a,c7ec9c97d9a8674bae2c6469873ea49c0358c63a,bugfix: debug logging in the cosocket receive line method could lead to invalid memory reads under extreme network conditions. this issue was caught by mockeagain in reading mode.
agentzh,2012-04-26 15:22:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f3f561f1ea3e26de2eb8a106036e0f26f793a930,f3f561f1ea3e26de2eb8a106036e0f26f793a930,updated valgrind.suppress for linux i386 further.
agentzh,2012-04-26 14:48:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/76bf73c7e098fd8392dd0dfee01a1dcdec681361,76bf73c7e098fd8392dd0dfee01a1dcdec681361,updated valgrind.suppress.
agentzh,2012-04-26 08:11:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/200bac2c2ad77458601d21153057a3d4c7e7f95f,200bac2c2ad77458601d21153057a3d4c7e7f95f,test: enlarged resolver timeout for the cosocket tests even more.
agentzh,2012-04-26 07:49:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7667027d452fa0ece30de1b5f78f837d77f0e8e4,7667027d452fa0ece30de1b5f78f837d77f0e8e4,enlarged resolver timeout for the cosocket tests.
agentzh,2012-04-26 06:16:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d611eeee7b21b81e255f5da9de977649d3bbb0f2,d611eeee7b21b81e255f5da9de977649d3bbb0f2,added more error_log tests for the cosocket tests.
agentzh,2012-04-24 13:54:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2bb9d6fd8b7445d93316ed7a181aed4f8e6f02bd,2bb9d6fd8b7445d93316ed7a181aed4f8e6f02bd,still use 2 sec as the resolver timeout setting in 058-tcp-socket.t TEST 8.
agentzh,2012-04-24 13:10:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e442e7661ec73327b3049dfab3f831b171a3c1ad,e442e7661ec73327b3049dfab3f831b171a3c1ad,fixed tests for mockeagain in reading mode.
agentzh,2012-04-24 13:09:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/00d05f26d842e86096fc0e848ce68d83780987a6,00d05f26d842e86096fc0e848ce68d83780987a6,bugfix: downstream cosockets might hang on the receive(size) method call for slow connections. mockeagain in reading mode caught this issue.
agentzh,2012-04-24 04:01:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1c0e24a3ce51b8a66c85d53f7efebb4862f31291,1c0e24a3ce51b8a66c85d53f7efebb4862f31291,various fixes in the test suite.
agentzh,2012-04-23 06:41:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4591dc70499efe56ce531e4c3a32bc0a2a9544fb,4591dc70499efe56ce531e4c3a32bc0a2a9544fb,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2012-04-23 06:40:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6667bf6280da8d5128c790536eae6819871e01b0,6667bf6280da8d5128c790536eae6819871e01b0,feature: made ngx_http_lua_api.h visible to other nginx modules by adding src/api to the CORE_INCS variable value in the config file. thanks Brian Akins for suggesting this in github issue #105.
chaoslawful,2012-04-20 10:17:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8a6fc75fa77c922322fe197ed1e71a40ad246c50,8a6fc75fa77c922322fe197ed1e71a40ad246c50,change lua_pop macro to lua_settop function in gdbinit script
agentzh,2012-04-19 09:53:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a84e94623b34a67e1b6884458dc7698b2dc0d3c4,a84e94623b34a67e1b6884458dc7698b2dc0d3c4,added support for PCRE_INC and PCRE_LIB to the developer build script.
agentzh,2012-04-19 09:09:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1cb522d499b73cd0836386d93b271ba7c3055b4e,1cb522d499b73cd0836386d93b271ba7c3055b4e,fixed the developer build script.
agentzh,2012-04-19 06:48:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f5aaee3d6c48a38f200455785bc444d25881253c,f5aaee3d6c48a38f200455785bc444d25881253c,updated .gitignore.
agentzh,2012-04-19 04:45:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/43cac16e51d5eb078ccc6cd05892d8742e4112ec,43cac16e51d5eb078ccc6cd05892d8742e4112ec,"renamed ngx_http_lua_add_preload to ngx_http_lua_add_package_preload; also added new public C API ngx_http_lua_get_global_state, as suggested by Brian Akins in github issue #100."
agentzh,2012-04-19 03:42:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6e927740424c541a276e6150e0f2d2df6673ba83,6e927740424c541a276e6150e0f2d2df6673ba83,minor code refactoring: we no longer include ddebug.h in common.h; and we put publich API functions into ngx_http_lua_api.h and ngx_http_lua_api.c.
agentzh,2012-04-19 03:31:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5692c8f3917668a97178780eefb342f846735249,5692c8f3917668a97178780eefb342f846735249,"Merge pull request #101 from bakins/ngx_http_lua_add_preload

feature: added publich C functions ngx_http_lua_add_preload and ngx_http_lua_get_request to help other Nginx C modules expose new functionalities to ngx_lua. thanks Brian Akins."
chaoslawful,2012-04-18 18:03:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/caecbe2e5f46f6d643ab75febf322a1eaa626108,caecbe2e5f46f6d643ab75febf322a1eaa626108,add gdbinit script to ease lua debugging
chaoslawful,2012-04-18 06:16:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/95aa6577c745663d68896267100dbcff3e1023aa,95aa6577c745663d68896267100dbcff3e1023aa,Merge branch 'master' of https://github.com/chaoslawful/lua-nginx-module
agentzh,2012-04-18 05:50:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6ff5df616043d7838a31a32db4cf1c9ac11be706,6ff5df616043d7838a31a32db4cf1c9ac11be706,updated docs to reflect recent changes (documented the ngx.HTTP_OPTIONS constant).
agentzh,2012-04-18 05:41:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/68638bd3a39690be02a8f68a0e0578ca43e3c0d5,68638bd3a39690be02a8f68a0e0578ca43e3c0d5,feature: added new constant ngx.HTTP_OPTIONS for the HTTP OPTIONS method; also added support for OPTIONS method in the subrequest capture APIs. thanks Jónas Tryggvi Jóhannsson for requesting this in github issue #102.
agentzh,2012-04-17 12:46:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2b3f5f90e4c8781cc118539de7ff3e3aca9dfa7a,2b3f5f90e4c8781cc118539de7ff3e3aca9dfa7a,bugfix: we no longer forcibly quit the lua threads by clearing out its environment and running it blindly to the end because Lua GC will collect all those unfinished coroutines anyway.
agentzh,2012-04-17 12:03:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4cfc2488f49b303a32503afab2fda0e634f750c7,4cfc2488f49b303a32503afab2fda0e634f750c7,bugfix: improved the longjmp handling.
bakins,2012-04-13 15:43:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/31378f14fccb2c3a47436f0aaf6504a2043b24fb,31378f14fccb2c3a47436f0aaf6504a2043b24fb,add ngx_http_lua_get_request
bakins,2012-04-13 12:04:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f7003733b4a7b24008b2f177172f6a9cbe72cfc1,f7003733b4a7b24008b2f177172f6a9cbe72cfc1,add ngx_http_lua_add_preload
agentzh,2012-04-07 00:38:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e96822a5adf602b9dc0fa52f13519cb2198a9722,e96822a5adf602b9dc0fa52f13519cb2198a9722,bugfix: certain compilers might complain about missing declarations for types like int8_t. now we explicitly included stdint.h. thanks runner-mei for reporting it in github issue #98.
agentzh,2012-03-25 14:10:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/19bd32224b9b2b27f54a590f61ba3a24f5e36e58,19bd32224b9b2b27f54a590f61ba3a24f5e36e58,cosocket: various optimizations in timeout handling. this gives about 2.5+% performance boost in some benchmarks using lua-resty-redis and lua-resty-mysql.
agentzh,2012-03-22 07:36:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c746674070c79d9056e29a392d7a54510e4eefb7,c746674070c79d9056e29a392d7a54510e4eefb7,updated docs to reflect recent changes.
agentzh,2012-03-22 07:27:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bbac7d623bcf541081cdf32540d225d8770d77e2,bbac7d623bcf541081cdf32540d225d8770d77e2,"bugfix: made the sha1 library an optional dependency, as suggested by runner-mei in github issue #94."
agentzh,2012-03-21 12:58:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1a1cde4caaa72aacee929855541c085d6953b6ef,1a1cde4caaa72aacee929855541c085d6953b6ef,"fixed a coding style issue: we did not declare C variables at the beginning of the current code block in ngx_http_lua_del_thread, reported by runner-mei in github issue #93."
agentzh,2012-03-20 12:04:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e84711d082338e583a693ff0870aa0836801dcab,e84711d082338e583a693ff0870aa0836801dcab,"bugfix: incorrectly used ngx_conf_log_error by using NGX_ERROR as the first argument, as reported by runner-mei in github issue #92."
agentzh,2012-03-20 11:57:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/37f749eb2c43eb99ce108023167ba32b04be842f,37f749eb2c43eb99ce108023167ba32b04be842f,fixed typos in lua exception messages.
agentzh,2012-03-15 08:45:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2ac3aa2a059ba3fab46576cb05a8769b43b85389,2ac3aa2a059ba3fab46576cb05a8769b43b85389,updated docs to reflect recent changes.
agentzh,2012-03-14 14:10:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c9c5f9486f60941972acce576c1509fd6eabaa4b,c9c5f9486f60941972acce576c1509fd6eabaa4b,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2012-03-14 14:09:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b4c2a37d38743b237afedf5633cef063bdf12fb1,b4c2a37d38743b237afedf5633cef063bdf12fb1,fixed 061-lua-redis.t a bit.
agentzh,2012-03-14 14:07:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1dc6c21e4f78d4d35fd068a1eeef59467b45bc70,1dc6c21e4f78d4d35fd068a1eeef59467b45bc70,minor coding style fixes.
agentzh,2012-03-14 12:38:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6de0dae34adc72aa9da2fc5e03e28825adb046b3,6de0dae34adc72aa9da2fc5e03e28825adb046b3,feature: added new directive lua_http10_buffering which is on by default.
agentzh,2012-03-14 12:37:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/58cd006b087cbe7c974611554ff472ead8d58c96,58cd006b087cbe7c974611554ff472ead8d58c96,fixed a test case in 024-access/satisfy.t.
agentzh,2012-03-14 10:28:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ee0bf0b89da650c181369a1194d647e5aaf5331b,ee0bf0b89da650c181369a1194d647e5aaf5331b,"feature: added new constant ngx.DECLINED. bugfix: access_by_lua could not work with the ""satisfy"" config directive."
chaoslawful,2012-03-13 08:16:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b6a6d5b1bfa2097086c72c7929930c31d6090a9d,b6a6d5b1bfa2097086c72c7929930c31d6090a9d,Merge branch 'master' of https://github.com/chaoslawful/lua-nginx-module
agentzh,2012-03-11 13:13:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/04332d929d3900ca207315befd8db0bcf2f6af96,04332d929d3900ca207315befd8db0bcf2f6af96,optimize: now we recycle the special flush buf and chain link for ngx.flush() to prevent request-scoped memory leaks when emitting long data streams to the downstream.
agentzh,2012-03-07 09:37:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/58cd7f0f25922a5dd2d0bd9beeadcbbb0b503112,58cd7f0f25922a5dd2d0bd9beeadcbbb0b503112,added a (passing) test case for multi-value args to ngx.req.set_uri_args.
agentzh,2012-03-06 13:59:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3dfd00aff2382d5d43e963a281cc242b491eeb83,3dfd00aff2382d5d43e963a281cc242b491eeb83,bugfix: timestamp could overflow on 32-bit systems in the shared dict API; now we use 64-bit integers.
agentzh,2012-03-06 13:23:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fcfdd73d24a12405bad1ba01554adcef92c4e7ee,fcfdd73d24a12405bad1ba01554adcef92c4e7ee,documented the shdict:flush_all() method.
agentzh,2012-03-06 13:13:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ae7b5e9729ac37f2e785b4d2e971bf7da3ade2f3,ae7b5e9729ac37f2e785b4d2e971bf7da3ade2f3,shdict: now we aggressively remove three items from the store in the flush_all method.
agentzh,2012-03-06 12:50:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/17bb70935eaba4d725a74b06170572c74ecbc44f,17bb70935eaba4d725a74b06170572c74ecbc44f,improved Weiqiang Li's patch by fixing the coding style and avoiding unnecessary operations. also added a test case for the new flush_all method.
liweiqiang1688,2012-03-06 04:51:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f5d9b6c907823bd95c579e4b0c3e956a7ca20ac1,f5d9b6c907823bd95c579e4b0c3e956a7ca20ac1,add flush_all api to shared dict
agentzh,2012-03-05 12:54:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2b37a7c7a198cf764572ae241b7db621bbba106b,2b37a7c7a198cf764572ae241b7db621bbba106b,docs: documented the max concurrent subrequest count limitation and max error log line size limit.
agentzh,2012-03-05 11:55:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9da8286dff92275b2e7b123553378af4d56cb285,9da8286dff92275b2e7b123553378af4d56cb285,added a test case for emitting large messages via ngx.log().
agentzh,2012-02-28 13:12:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/215a9f7af5182731538799d5507cc0d5741ff7d3,215a9f7af5182731538799d5507cc0d5741ff7d3,updated docs to reflect recent changes.
agentzh,2012-02-28 06:16:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3ff937f3aec7940275c2e89ec6efb02eb5b1cc89,3ff937f3aec7940275c2e89ec6efb02eb5b1cc89,"bugfix: the shared dict storage might leak memory in the store: ngx_http_lua_shdict_lookup incorrectly assumed that nodes with identical keys are linked together, which might not be true after tree rebalance. thanks the patch from Lanshun Zhou."
agentzh,2012-02-28 06:13:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2610206460c22cf3b64534899680e61b0967232e,2610206460c22cf3b64534899680e61b0967232e,optimize: removed a redundant piece of code for subrequest headers_in fixes in ngx_http_lua_adjust_subrequest.
agentzh,2012-02-23 08:32:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f21bd80b0fea44629648d929f74b838b504c7fcc,f21bd80b0fea44629648d929f74b838b504c7fcc,bumped the version number in docs.
agentzh,2012-02-23 07:51:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/99b02286f72472a5b44040f20781ca7ab5ab06d5,99b02286f72472a5b44040f20781ca7ab5ab06d5,"now we use the buf tag literal everywhere and removed the ""tag"" field from the location conf struct."
agentzh,2012-02-23 07:10:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ec4becfeadc9e420ebc82b97ed1ee09b1aa5ea2b,ec4becfeadc9e420ebc82b97ed1ee09b1aa5ea2b,bugfix: the exptime argument to shdict:set/add/etc methods was incorrectly ignored when the flags argument is also specified. thanks the patch from Brian Akins.
agentzh,2012-02-23 04:16:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/81f1d7ca4ae232fc04678e09e5ff4fbcd3a9b53f,81f1d7ca4ae232fc04678e09e5ff4fbcd3a9b53f,fixed typos in docs. thanks 王斌.
agentzh,2012-02-22 15:30:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6c713ea68969a8fe3fe4c3ba61ace24160c1c76e,6c713ea68969a8fe3fe4c3ba61ace24160c1c76e,removed an unnecessary line of code.
agentzh,2012-02-22 11:55:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/34f8f272c149d0e52b716111d772a204a6632728,34f8f272c149d0e52b716111d772a204a6632728,updated docs to reflect recent changes.
agentzh,2012-02-22 10:43:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cdcbef31016c12d282511bc9d1a664766f9d6f12,cdcbef31016c12d282511bc9d1a664766f9d6f12,Merge branch 'master' into cosocket
agentzh,2012-02-22 10:43:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ef311cd1c7bfb15355a7c241ba96a6160e787ee1,ef311cd1c7bfb15355a7c241ba96a6160e787ee1,updated developer build script.
agentzh,2012-02-22 10:43:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/003650d1b121d07323d5540e6c0624ded2e5c163,003650d1b121d07323d5540e6c0624ded2e5c163,bugfix: fixed a debug log message.
agentzh,2012-02-22 10:41:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e8aa2495f37b17ce2def5aa9f22f74f9a4ff0754,e8aa2495f37b17ce2def5aa9f22f74f9a4ff0754,"bugfix: for big input data, the cosocket reading methods could result in crashes due to incorrect use of luaL_Buffer. now we eliminate luaL_Buffer altogether by managing the recv buffers ourselves. the recv buffers can also be recycled."
agentzh,2012-02-22 08:36:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/87ebe182f4afd2db5515d704a97da0f860a97c44,87ebe182f4afd2db5515d704a97da0f860a97c44,updated the developer build script.
agentzh,2012-02-22 08:35:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/32e8ad4e14f69b119b330c12c9aaea11c5b40a91,32e8ad4e14f69b119b330c12c9aaea11c5b40a91,bugfix: fixed various typos in source comments also avoided using luaL_checkstring which could do another longjump on its own. thanks 王斌.
agentzh,2012-02-20 08:16:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/67c79c0d25f29a4b6a544c3b8787505335061ba1,67c79c0d25f29a4b6a544c3b8787505335061ba1,"added tests for cycled subrequests; also increased the ""repeat_each"" count in 027-multi-capture.t to make an issue with too small MAX_SUBREQUESTS easier to reproduce."
agentzh,2012-02-20 06:15:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/aaab8c750bb28e99f774155342e0231ef39a4629,aaab8c750bb28e99f774155342e0231ef39a4629,"fixed shdict tests on i386; also ensure to configure ""postpone_output 1"" for the sync flush test case that requires buf reuse."
agentzh,2012-02-19 05:46:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e7f8eb729eb9eef37779b1689b2f657ef5c0ba8d,e7f8eb729eb9eef37779b1689b2f657ef5c0ba8d,bugfix: tcpsocket:setkeepalive() will return errors when the current connection has readable data or there is still unread data in the ngx_lua upstream buffer. bugfix: cosocket methods no longer explicitly return nil error strings upon success.
agentzh,2012-02-19 04:00:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ae6b59a0ac5eb9360e10f060949b358799cd1b07,ae6b59a0ac5eb9360e10f060949b358799cd1b07,refactored the test suite a bit.
agentzh,2012-02-18 14:47:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/aa4bd387801343188c618b814eab06c5c2205402,aa4bd387801343188c618b814eab06c5c2205402,"bugfix: when the parent request takes a request body, the subrequest does not take any bodies, and the subrequest's method is neither ""PUT"" nor ""POST"", then the subrequest will no longer inherit the parent request's request body. thanks 欧远宁 for reporting this issue."
agentzh,2012-02-18 10:11:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9026d59fd453aaf9b1b20fccb12d98080ecb1b54,9026d59fd453aaf9b1b20fccb12d98080ecb1b54,bugfix: data might be accidentally read into the lua space on idle sockets when the last operation is a read operation *and* a read event suddenly arrives for edge-triggered event models. the same might also apply to write operations too. bugfix: invalid reads might happen in the reading iterators returned by the receiveuntil() method which could lead to segfaults.
agentzh,2012-02-17 14:40:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1bce88568d5c41cd23cc55ba704e51680cca304c,1bce88568d5c41cd23cc55ba704e51680cca304c,"added tests for the various ""lua socket blah blah timed out"" error messages; also tweaked other cosocket test cases for different test modes."
agentzh,2012-02-17 13:09:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f95c55f7ab7547f93fe43207495eeca7418632c0,f95c55f7ab7547f93fe43207495eeca7418632c0,"bugfix: ""closed"" error would occur for long-running requests that hold the idle cosocket object for a period of time that is longer than the read timeout setting: we should delete the read event timer in time when the receive call has already got a read event. thanks 欧远宁 for reporting this issue."
agentzh,2012-02-17 10:16:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1b702e54039575d285724f8506bdbef4e61782dd,1b702e54039575d285724f8506bdbef4e61782dd,added error logs for socket timeout errors.
agentzh,2012-02-17 08:42:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/78ed3f5738157ec66530d73a2410d41ed133c0f0,78ed3f5738157ec66530d73a2410d41ed133c0f0,added error logs for closed errors.
agentzh,2012-02-15 14:25:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7cb4e0957f00be5b19e5cc6357b9f7dc4d40713f,7cb4e0957f00be5b19e5cc6357b9f7dc4d40713f,introduced a minor optimization that we can save one recv call when the read event is active *and* the read event is not ready.
agentzh,2012-02-15 13:44:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e633e75d9df72cd60144362ef84afb874f591092,e633e75d9df72cd60144362ef84afb874f591092,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2012-02-15 13:43:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fc7893d05fc096ceaca1ad3697d0f4d4faadf879,fc7893d05fc096ceaca1ad3697d0f4d4faadf879,now we recycle the downstream output buffers to save memory and dynamic allocation times for long-running requests.
agentzh,2012-02-15 09:42:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/60e70ef7e5d4147d00738ec2b23096461f7dae69,60e70ef7e5d4147d00738ec2b23096461f7dae69,"bugfix: now we require the SHA1 library in the ""config"" file."
agentzh,2012-02-15 08:51:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/060e9bf49500817b9fa73dcf228d1bdc97afb3e1,060e9bf49500817b9fa73dcf228d1bdc97afb3e1,Merge branch 'devel'
agentzh,2012-02-15 08:50:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d4167c1a1137912245abe2a0fb2f3fc81bba707a,d4167c1a1137912245abe2a0fb2f3fc81bba707a,bugfix: macro directives were used inside a macro argument which made gcc 3.2.3 unhappy. thanks Feng Bin.
agentzh,2012-02-14 08:05:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/11a13f06940c0515e50dd144f4ea84b0948e10af,11a13f06940c0515e50dd144f4ea84b0948e10af,bugfix: cosocket API could not be used before ngx.location.capture and its friends for fast network access: tcpsock:send() method did not reset u->waiting properly. thanks 欧远宁.
agentzh,2012-02-13 12:35:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/89af745e12a7c62d6194afbb5666502834b185e0,89af745e12a7c62d6194afbb5666502834b185e0,updated docs to reflect recent changes.
chaoslawful,2012-02-13 08:51:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cbc1fd22aae20ad93f29380309d2bccdd0fd8a70,cbc1fd22aae20ad93f29380309d2bccdd0fd8a70,add gdb script to ease Lua debugging
agentzh,2012-02-12 14:53:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/96e9b3038ed592074b7ad824c182ce6d16a5c7c2,96e9b3038ed592074b7ad824c182ce6d16a5c7c2,feature: allow use of ngx.null in ngx.log() and print() arguments.
agentzh,2012-02-12 08:38:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2f1c2a5e00c13423ac63538d8fa1242aee07d40d,2f1c2a5e00c13423ac63538d8fa1242aee07d40d,"opt: fixed the ""ngx."" table initializing sizes."
agentzh,2012-02-12 08:35:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d29c611c875a206a36eee341c8463268f982946c,d29c611c875a206a36eee341c8463268f982946c,bugfix: could not compile with nginx 0.8.x. thanks 欧远宁.
agentzh,2012-02-12 08:27:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/25abe98ca89f99b0dc08d6252fc5f2671cf18712,25abe98ca89f99b0dc08d6252fc5f2671cf18712,feature: added the ngx.sha1_bin method which returns the binary form of the SHA-1 digest.
agentzh,2012-02-08 12:49:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/60335f37b4b2fad3816665fc9766ea7ebf238b18,60335f37b4b2fad3816665fc9766ea7ebf238b18,minor fixes in the tests.
agentzh,2012-02-08 03:48:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2614f3ffd144b29ea4fde989e758376ed1ff7828,2614f3ffd144b29ea4fde989e758376ed1ff7828,bugfix: we incorrectly allowed ngx.null in the string table argument to cosocket:send() method.
agentzh,2012-02-07 12:02:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c73f8748071953705b16b6015b7780fb89a61e58,c73f8748071953705b16b6015b7780fb89a61e58,updated docs to reflect recent changes.
agentzh,2012-02-07 11:55:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/14e079ccafc8264a9f0d46f845bceb8495c7d801,14e079ccafc8264a9f0d46f845bceb8495c7d801,fixed ngx. table entry count during table initialization.
agentzh,2012-02-07 11:43:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2c5a75838a5e09b123f9558a78d7d4e8e081e6ba,2c5a75838a5e09b123f9558a78d7d4e8e081e6ba,"feature: added constant ngx.null which is a NULL light userdata to represent ""nil"" values in lua tables and etc. this is compatible with at least lua-cjson library's cjson.null constant."
agentzh,2012-02-07 04:59:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/51a6bdfad097c3dd7bd150ebc6fbcd92837c52bd,51a6bdfad097c3dd7bd150ebc6fbcd92837c52bd,minor coding style fixes.
agentzh,2012-02-07 04:52:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e3123d322ddc25949c1e2b8e403ea440dcc46776,e3123d322ddc25949c1e2b8e403ea440dcc46776,Merge branch 'last_modified'
bakins,2012-02-07 03:56:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cef7991100ff1d897d34a702341cfbf90ac767ab,cef7991100ff1d897d34a702341cfbf90ac767ab,add last-modified test
bakins,2012-02-07 02:37:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/90ae31516349a1ecc88145c5433196de34020fd6,90ae31516349a1ecc88145c5433196de34020fd6,last modified jumbo
agentzh,2012-02-07 01:00:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d1085f9e988eac7aa1cf70259e03493eb9acdeb9,d1085f9e988eac7aa1cf70259e03493eb9acdeb9,fixed typos in docs. thanks @cyberty.
agentzh,2012-02-06 04:38:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a8cad73ed968ae268d0baf6cb6221abc70f959e2,a8cad73ed968ae268d0baf6cb6221abc70f959e2,updated docs to reflect recent changes.
agentzh,2012-02-06 04:17:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1d7626f4230e4ec3314fa90667cc1ccc379dd275,1d7626f4230e4ec3314fa90667cc1ccc379dd275,cosocket: feature: now cosocket:send() method supports lua tables of string fragments which can save unnecessary string concatenation operations on the lua land that are usually quite expensive.
agentzh,2012-02-05 14:46:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/907f825a48ab261ee408fe38eb8cb35f4e0bc1e1,907f825a48ab261ee408fe38eb8cb35f4e0bc1e1,cosocket: fixed bugs in debugging logs.
agentzh,2012-02-05 05:57:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5a3e31777e0beb9e0db02081f3bfa3e6ee84163d,5a3e31777e0beb9e0db02081f3bfa3e6ee84163d,updated docs to reflect recent changes.
agentzh,2012-02-05 05:45:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1e8f8e5f54a1e7546deea5601741c4fa3466feff,1e8f8e5f54a1e7546deea5601741c4fa3466feff,Merge branch 'dict_flags'
agentzh,2012-02-05 05:41:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8d576f2cecef59f4f4308f018d703c6fbecec057,8d576f2cecef59f4f4308f018d703c6fbecec057,use uint32_t as the type of shdict user flags.
bakins,2012-02-05 03:53:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c8967e5a60644200c347655b1389f586f8f7312f,c8967e5a60644200c347655b1389f586f8f7312f,match new error message
bakins,2012-02-05 03:52:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9ef0b86d61d804fdfdc94e39397f878f5232fd86,9ef0b86d61d804fdfdc94e39397f878f5232fd86,do not return flags if not set for backwards compatibility
bakins,2012-02-05 03:52:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/24177e8ed676b82b10bf28e8c8bd767bfd3bb692,24177e8ed676b82b10bf28e8c8bd767bfd3bb692,expect nil
bakins,2012-02-05 03:00:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/de5e7bf19fb9b4538e3db5109bf6b0ab9c955020,de5e7bf19fb9b4538e3db5109bf6b0ab9c955020,user flag test
bakins,2012-02-05 03:00:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/edc9633d982595e45bc43717aac86e919221d125,edc9633d982595e45bc43717aac86e919221d125,Add user flags
agentzh,2012-02-03 03:46:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/170c5484e40abdbf4bccb4ec3a7fa9284ebf3fbf,170c5484e40abdbf4bccb4ec3a7fa9284ebf3fbf,updated docs to reflect recent changes.
agentzh,2012-02-02 08:28:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ef46b7f33473741d2cb4786038677699d9a14eff,ef46b7f33473741d2cb4786038677699d9a14eff,cosocket: documented the in-pool connection monitoring feature requested by @ldmiao.
agentzh,2012-02-01 14:56:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/653d1ec1f508c19ce7b66cd7c9d38448d566f23f,653d1ec1f508c19ce7b66cd7c9d38448d566f23f,bumped the version number in docs.
agentzh,2012-02-01 14:52:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/750b92809062be4ea4a185203ffdc49e7e0f8180,750b92809062be4ea4a185203ffdc49e7e0f8180,cosocket: reverted casual changes to the developer build script in the last commit.
agentzh,2012-02-01 14:49:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1cec504101c795ec4d5a8502b212258d9fb22c5b,1cec504101c795ec4d5a8502b212258d9fb22c5b,cosocket: bugfix: fixed -Werror=unused-but-set-variable warnings from gcc 4.6.
agentzh,2012-02-01 14:46:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/07329405e1b928367d1ed96f23ce314d9ec2904b,07329405e1b928367d1ed96f23ce314d9ec2904b,"cosocket: bugfix: when the object returned from ngx.req.socket() is used across the request boundary, segfault would occur; so now we protect the downstream cosocket object from being used outside the current request lifetime."
agentzh,2012-02-01 14:12:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/72f7fb5b06f8cbf5930a1f0c37bcbae06359d9bc,72f7fb5b06f8cbf5930a1f0c37bcbae06359d9bc,cosocket: documented the ngx.req.socket() function.
agentzh,2012-02-01 13:57:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0b99b35053b5cb9fb06072eb69e20a581a8683a6,0b99b35053b5cb9fb06072eb69e20a581a8683a6,cosocket: documented the sock:receiveuntil method.
agentzh,2012-02-01 13:15:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/44459f5dde6a6b009393d5791011e2e32be9b45e,44459f5dde6a6b009393d5791011e2e32be9b45e,cosocket: documented most of the cosocket API.
agentzh,2012-02-01 13:14:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c6f165e3958e355f00b9ad412b26ed24730a972d,c6f165e3958e355f00b9ad412b26ed24730a972d,cosocket: added a (passing) test for keepalive unix domain sockets.
agentzh,2012-02-01 09:17:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bc4baee2571da9477bb77f26642c46f0352c82c9,bc4baee2571da9477bb77f26642c46f0352c82c9,Merge branch 'cosocket'
agentzh,2012-02-01 03:45:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/204ce2b3db860b1f3413982c50bc0f5fcea9e162,204ce2b3db860b1f3413982c50bc0f5fcea9e162,updated docs for the v0.4.1 release.
agentzh,2012-02-01 02:01:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9e30acfec01fdf105118ea5b4c131bd83f976105,9e30acfec01fdf105118ea5b4c131bd83f976105,cosocket: fixed compilation failures without --with-debug: misuse of the ngx_log_debugN macros.
agentzh,2012-01-31 16:23:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7848542c886cb0f4ddbd5e56c260f21ece7fbebb,7848542c886cb0f4ddbd5e56c260f21ece7fbebb,cosocket: added a test case for extremely small buffers when calling sock:receiveuntil.
agentzh,2012-01-31 16:09:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a6183a1a0cc5c7bb827fd37b473718520ec7740b,a6183a1a0cc5c7bb827fd37b473718520ec7740b,minor tweaks in tests.
agentzh,2012-01-31 13:57:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8d7cc5fba06201589495e41ce63335ba851a6ca3,8d7cc5fba06201589495e41ce63335ba851a6ca3,cosocket: optimized the chainlink and buf recycle logic for the subrequest API and cosocket API.
agentzh,2012-01-31 11:14:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ba7a62fbb5d55f58b80dfb7375b8976bc26409e3,ba7a62fbb5d55f58b80dfb7375b8976bc26409e3,cosocket: bugfix: the request cleanup handler could access the (invalid) upstream userdata after Lua GC frees it. also fixed the lua table initialization for ngx._tcp_meta.
agentzh,2012-01-30 14:16:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3bb79438c42d4154486d96a8cccae983d1267241,3bb79438c42d4154486d96a8cccae983d1267241,"cosocket: feature: implemented ""timeout"" and ""size"" arguments to the setkeepalive() method to override the config settings via the directives lua_socket_keepalive_timeout and lua_socket_pool_size."
agentzh,2012-01-30 13:03:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2bb7ba793cba97638b534a65286b1c09d9503243,2bb7ba793cba97638b534a65286b1c09d9503243,cosocket: check zero connection pool size.
agentzh,2012-01-30 13:00:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d65eeee425655a45ef67f568a80b06272a2b913d,d65eeee425655a45ef67f568a80b06272a2b913d,"cosocket: feature: ""lua_socket_keepalive_timeout 0"" now means unlimited connection idle time."
agentzh,2012-01-30 12:10:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ce5b54349cd79438aee1c449736945cdd6393ac6,ce5b54349cd79438aee1c449736945cdd6393ac6,cosocket: added tests for the default lua_socket_pool_size value (30).
agentzh,2012-01-30 12:08:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fa07de06ca3792d4a0abeda67eb2026efbf57448,fa07de06ca3792d4a0abeda67eb2026efbf57448,cosocket: feature: added config directive lua_socket_pool_size to control the connection pool size (in terms of number of connections) per host-port pair.
agentzh,2012-01-30 02:28:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bc8a9097d9ec30631413e8d03cac8ed77ede2e2a,bc8a9097d9ec30631413e8d03cac8ed77ede2e2a,cosocket: added debugging output for keepalive timeout values.
agentzh,2012-01-29 15:13:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/154fce40d25a06574a8e3ace7d2f4dc08ea53d0f,154fce40d25a06574a8e3ace7d2f4dc08ea53d0f,Merge remote-tracking branch 'origin/master' into cosocket
agentzh,2012-01-29 15:12:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fb3d82db9785c20c8553f66b8f99a3576832f371,fb3d82db9785c20c8553f66b8f99a3576832f371,Merge branch 'master' into cosocket
agentzh,2012-01-29 15:11:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f1269407d4b790c17dae1421261d3c4b993665bc,f1269407d4b790c17dae1421261d3c4b993665bc,cosocket: bugfix: we did not reset c->read->handler and c->write->handler for connections got from the connection pool which could lead to segfaults; feature: new config directive lua_socket_keepalive_timeout to specify the max idle time for connections in the pool.
agentzh,2012-01-29 13:17:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a95e02faa401dbd9ddc24e688d69c96127f0897d,a95e02faa401dbd9ddc24e688d69c96127f0897d,bugfix: ngx_http_lua_header_filter_init was called with an argument which actually accepts none. this could cause compilation errors at least with gcc 4.3.4 as reported in github issue #80. thanks bigplum (Simon).
agentzh,2012-01-29 08:20:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9d5e827c766c322f78fee6efa1634028872e3a74,9d5e827c766c322f78fee6efa1634028872e3a74,cosocket: call ngx_close_connection() directly instead of introducing ngx_http_lua_socket_keepalive_close(); also added a (passing) test case for premature close of upstream sockets for idle connections in the pool.
agentzh,2012-01-28 14:21:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dcd633f97bee7d5b2cfba54582cdaa50751616c6,dcd633f97bee7d5b2cfba54582cdaa50751616c6,cosocket: fixed connection pool cleanup logic and added support for max idle timeout.
agentzh,2012-01-27 15:51:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5b2a977b37ad5a197c198be226d04d8b1f77b003,5b2a977b37ad5a197c198be226d04d8b1f77b003,"cosocket: initial prototype for the builtin connection pool support via the new cosocket method ""sock:setkeepalive()"". also always reset u->length and u->rest for the ""sock:receive()"" method."
agentzh,2012-01-24 08:25:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e60a94814583b4c716b8511907bfc7c6321904fa,e60a94814583b4c716b8511907bfc7c6321904fa,cosocket: did a minor optimization for receiveuntil patterns no longer than 2 bytes.
agentzh,2012-01-23 15:02:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7a4cbfb4a3b3f0ab10b169795b4e61a0f2f250d0,7a4cbfb4a3b3f0ab10b169795b4e61a0f2f250d0,"cosocket: bugfix: fixed a minor inconsistency in the reading iterator returned from sock:receiveuntil when the ""size"" argument is specified. also added some (passing) tests for a true multipart parser."
agentzh,2012-01-23 13:54:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/54a6f750dfb81120d5e87bf2c88386be0a90b458,54a6f750dfb81120d5e87bf2c88386be0a90b458,cosocket: use 8.8.8.8 as the default TEST_NGINX_RESOLVER env value in the test suite.
agentzh,2012-01-23 13:07:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4cecc53e3bfd0a9ec30c4bccd545bd1fea13f791,4cecc53e3bfd0a9ec30c4bccd545bd1fea13f791,cosocket fixed a typo in ngx_http_lua_socket_read: we should use r->headers_in.content_length_in instead of r->content_length_n.
agentzh,2012-01-23 12:55:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9a7a12a461550dca44279fd1815ef5d4eeb29045,9a7a12a461550dca44279fd1815ef5d4eeb29045,cosocket: fixed lua table entry count in table initialization.
agentzh,2012-01-23 12:48:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bc93b61f711f2b9cfc5a21510bd08ef93358bfa8,bc93b61f711f2b9cfc5a21510bd08ef93358bfa8,cosocket: minor coding style fixes.
agentzh,2012-01-23 12:46:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/83d972e3850047f8f86fdf8d8751053ef0d4d998,83d972e3850047f8f86fdf8d8751053ef0d4d998,cosocket: bugfix: request sockets reading should honour the Content-Length request header (if any).
agentzh,2012-01-23 12:35:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7bd0fdbeb5107bf083b2d17446f3d536b02260c6,7bd0fdbeb5107bf083b2d17446f3d536b02260c6,cosocket: feature: ngx.req.socket() works.
agentzh,2012-01-23 10:56:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9c461bf15b47e1556d9268916a91d3173048b60d,9c461bf15b47e1556d9268916a91d3173048b60d,fixed lua table initial entry count; also added initial skeleton for ngx.req.socket() but not working yet.
agentzh,2012-01-23 05:59:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9e4abfdcd26f96295751d0ec13c0568fa4a78ffa,9e4abfdcd26f96295751d0ec13c0568fa4a78ffa,minor test fixes.
agentzh,2012-01-22 16:15:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2f20b7acd8801eb4780f8dd240c8cc5c4546eec0,2f20b7acd8801eb4780f8dd240c8cc5c4546eec0,"cosocket: added support for the ""size"" argument to the reading iterator returned by the sock:receiveuntil()."
agentzh,2012-01-22 15:36:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/51b793007ec748998eee61d937d31339e6e23e44,51b793007ec748998eee61d937d31339e6e23e44,cosocket: introduced a minor optimization that we could save the first two elements in the cp->recovering array.
agentzh,2012-01-22 15:29:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/38c4fa074115279ed8e656c678ade02f00bd7d0e,38c4fa074115279ed8e656c678ade02f00bd7d0e,cosocket: added a lot more tests for sock:receiveuntil.
agentzh,2012-01-22 15:15:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b045cfae418e4b6e465b790d4c8811ae102a3bbe,b045cfae418e4b6e465b790d4c8811ae102a3bbe,cosocket: bugfix: use the luaL_addchar macro to simplify the state machine logic.
agentzh,2012-01-22 14:39:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d8548e4a42a4b3bd46daae62800ecac7593fd92f,d8548e4a42a4b3bd46daae62800ecac7593fd92f,cosocket: decreased memory usage for unambiguous boundary patterns in sock:receiveuntil().
agentzh,2012-01-22 14:25:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9a673b787accbf2629ca3e5d010d9f96625e671c,9a673b787accbf2629ca3e5d010d9f96625e671c,added support for ambiguous boundary patterns.
agentzh,2012-01-22 11:27:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/19b071c3e26324cd9725417275d79be1cbf25385,19b071c3e26324cd9725417275d79be1cbf25385,"feature: first cut on the socket:receiveuntil(pattern) method. ambiguous boundary patterns and the ""size"" parameter to the reading iterator are not implemented yet."
agentzh,2012-01-22 05:11:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/92e0e6ef0f0e12e3efd5c3fe8eb82857edee8d8e,92e0e6ef0f0e12e3efd5c3fe8eb82857edee8d8e,added (passing) test cases for cosocket send timeout settings.
agentzh,2012-01-21 14:39:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/75a52b4653ba7fb0311c3a87c4a847b2e9feb714,75a52b4653ba7fb0311c3a87c4a847b2e9feb714,RecvUntil.pm: fixed Makefile.
agentzh,2012-01-21 14:35:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/30a17916c1156ea28eb3c5f5cb8281ecf380cadc,30a17916c1156ea28eb3c5f5cb8281ecf380cadc,checked in a perl prototype for the receiveuntil method implementation.
agentzh,2012-01-19 15:39:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/17ee6b60c4e5f06754bab8f76a6dd0ca41451abe,17ee6b60c4e5f06754bab8f76a6dd0ca41451abe,updated .gitignore.
agentzh,2012-01-19 15:34:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/884ae49bf28b54785a45ed56a474b870e300cb1f,884ae49bf28b54785a45ed56a474b870e300cb1f,feature: implemented method settimeout() for ngx.socket.tcp() objects.
agentzh,2012-01-19 14:32:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7962a9fb1404cdb22c2b504d7e2968458297bbfe,7962a9fb1404cdb22c2b504d7e2968458297bbfe,"Various fixes in cosocket

- bugfix: when socket objects are used across the request boundary,
  memory issues could occur.
- bugfix: memory issues could occur when the dynamic resolver could not
  resolve the host name.
- bugfix: the sock:send() method would return too soon when the data had
  not yet flushed into the system socket send buffer.
- bugfix: fixed warnings from the clang static analyzer."
agentzh,2012-01-19 11:00:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b1b92000bc075ceacd9d73d0f2dcc4724bec7c97,b1b92000bc075ceacd9d73d0f2dcc4724bec7c97,fixed test index.
agentzh,2012-01-19 11:00:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a2859d4feb07a6916b89d2b433c5b3177d8ab0a9,a2859d4feb07a6916b89d2b433c5b3177d8ab0a9,fixed test index.
agentzh,2012-01-19 04:37:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/735355c98b3c7e4c72c9f8472d6b778625fbebdc,735355c98b3c7e4c72c9f8472d6b778625fbebdc,Merge branch 'master' into cosocket
agentzh,2012-01-19 04:36:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6e8c4aba5d6363fb50bedd09b9676a46f6d08d2f,6e8c4aba5d6363fb50bedd09b9676a46f6d08d2f,renamed .t files.
agentzh,2012-01-19 04:35:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/30cf86dd6639a88d8773d86439cd858e80bd11e9,30cf86dd6639a88d8773d86439cd858e80bd11e9,merged master to cosocket.
agentzh,2012-01-19 02:33:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dc37474df04a784e6a1f8196a6de73a35d278cdc,dc37474df04a784e6a1f8196a6de73a35d278cdc,bugfix: fixed all the warnings from the clang static analyzer.
agentzh,2012-01-18 12:22:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fb84d6fe072880c53e15bdb2193cbfd4ccbc670b,fb84d6fe072880c53e15bdb2193cbfd4ccbc670b,adjusted the tests a bit.
agentzh,2012-01-18 11:42:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/733d26d16bc5d8fa293fd7bc36ddf81c6501fd09,733d26d16bc5d8fa293fd7bc36ddf81c6501fd09,"bugfix: ngx.exit, ngx.redirect, ngx.exec, and ngx.set_uri(uri, true) could return (they should never return as per the documentation). this bug had appeared in v0.3.1rc4. thanks @cyberty for reporting it."
agentzh,2012-01-17 06:47:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b166210bcfb0620c43f12ce4c2cc468362b481db,b166210bcfb0620c43f12ce4c2cc468362b481db,added change log for v0.4.0 and also documented the way to confirm that pcre jit is actually enabled.
agentzh,2012-01-17 06:13:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bc9142cb36140a3401d17cf13e68ba002d231993,bc9142cb36140a3401d17cf13e68ba002d231993,"allow use of the DDEBUG macro from the outside (via the ""-D DDEBUG=1"" cc opton)."
agentzh,2012-01-11 06:19:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7bdd8505bb4c846c03234f91eb29a169ae5b3861,7bdd8505bb4c846c03234f91eb29a169ae5b3861,updated README.
agentzh,2012-01-11 06:15:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/37c4880eb299ffd9d8bd68e60bf9bd5d3e70ffa9,37c4880eb299ffd9d8bd68e60bf9bd5d3e70ffa9,docs: massive wording improvement from Nginx User.
agentzh,2012-01-04 13:21:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e43eab96a2166f62fc185e9dad0e562ed384b618,e43eab96a2166f62fc185e9dad0e562ed384b618,now we state that ngx.re API requires pcre 8.21+ for its regex JIT support in the docs.
agentzh,2012-01-04 10:42:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/805f6a24a95837037e97971bf61c6812ed1a1a51,805f6a24a95837037e97971bf61c6812ed1a1a51,updated docs to reflect recent changes.
agentzh,2012-01-04 08:19:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/11ddbdf9f943984d46e832c39f01d329301b8cc9,11ddbdf9f943984d46e832c39f01d329301b8cc9,added debug logging when ngx.req.get_headers() hits header count limit.
agentzh,2012-01-04 08:10:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d40fcc6690fc867a2f7517de281e9b6f1d053578,d40fcc6690fc867a2f7517de281e9b6f1d053578,added debug log when ngx.req.get_uri_args and ngx.req.get_post_args hit max args limit.
agentzh,2012-01-04 07:25:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e8517c644e9b1ae27aa4c3ee8c35fbb77bec94e,8e8517c644e9b1ae27aa4c3ee8c35fbb77bec94e,updated valgrind.suppress a bit.
agentzh,2012-01-03 05:45:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/85f876ec1696a6ef2b32ab75eeea02f4c04e0f0b,85f876ec1696a6ef2b32ab75eeea02f4c04e0f0b,bugfix: hash table collision attacks were possible in ngx.req.get_headers() and now it only parses at most 100 headers (can be controlled by the C macro NGX_HTT_LUA_MAX_HEADERS. ngx.req.get_headers() now also takes an optional argument that can be used to specify a custom header count limit (defaul to 100). one can disable the header count limit altogether by feeding ngx.req.get_headers() with a zero value argument.
agentzh,2012-01-03 04:15:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0ece0793ec9ecf27b9098aad49f085dc7d143f03,0ece0793ec9ecf27b9098aad49f085dc7d143f03,added more tests for max_args argument.
agentzh,2012-01-01 16:17:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3a2b80b0546dabb49e2b0561758dba844037fe3b,3a2b80b0546dabb49e2b0561758dba844037fe3b,tweaked the timeout settings for two test cases.
agentzh,2012-01-01 02:43:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/75876b67c6009728daa139f1d8673139a3ee9223,75876b67c6009728daa139f1d8673139a3ee9223,bugfix: ngx.req.get_uri_args and ngx.req.get_post_args now only parse up to 100 arguments by default. but one can specify the optional argument to these two methods to specify a custom maximum number of args. thanks Tzury Bar Yochay for reporting this.
agentzh,2011-12-30 15:43:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2b18629c2f6ca8bd40822bbb6325454c68323573,2b18629c2f6ca8bd40822bbb6325454c68323573,bugfix: removing builtin headers in huge request headers with 20+ entries could result in data loss. thanks Chris Dumoulin for the patch.
agentzh,2011-12-29 08:31:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f9efd328812c25fbd6021cb022376aa7bd294eb2,f9efd328812c25fbd6021cb022376aa7bd294eb2,bugfix: ngx_lua could not compile with nginx 1.1.12+. thanks deltay for reporting it in github issue #76.
agentzh,2011-12-25 13:41:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b0f1582325389a4df5dee5cd8c8779a404d37d51,b0f1582325389a4df5dee5cd8c8779a404d37d51,fixed the test cases regarding invalid escape sequences for LuaJIT 2.0.0 beta9.
agentzh,2011-12-25 06:29:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/81b9bbb5108c9617d85fa2c006adcc2bcac71711,81b9bbb5108c9617d85fa2c006adcc2bcac71711,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2011-12-25 06:16:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6f9a1f9b753325d46af6fea525fc4062d769d4b2,6f9a1f9b753325d46af6fea525fc4062d769d4b2,now we use pcre 8.21 jit build in the developer build script.
agentzh,2011-12-25 06:03:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/33844f1b8d248d59960aafaf4618460f4037a991,33844f1b8d248d59960aafaf4618460f4037a991,fixed a test case in t/057-flush-timeout.t on FreeBSD.
agentzh,2011-12-25 03:57:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f6ea32e0e3a8868b536dddc365413487d298afac,f6ea32e0e3a8868b536dddc365413487d298afac,removed --with-cc=gcc46 from util/build2.sh.
agentzh,2011-12-24 15:57:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4f0d035cdb372ae184e121164f794e1387be4c47,4f0d035cdb372ae184e121164f794e1387be4c47,updated docs to reflect recent changes. thanks Nginx User.
agentzh,2011-12-23 13:45:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/78014b647509818a838736cfe811e072a8f20be2,78014b647509818a838736cfe811e072a8f20be2,bugfix: request header value strings must be null terminated and was possible to introduce memory invalid reads in the past. thanks Maxim Dounin.
agentzh,2011-12-22 14:15:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/66d35ae23ce7088ade9ebd73795659ce45b8fb16,66d35ae23ce7088ade9ebd73795659ce45b8fb16,cosocket: fixed the lua-redis test case a little.
agentzh,2011-12-22 14:14:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a5e501045a3d0bdbd14877b6221b15846bbc1e94,a5e501045a3d0bdbd14877b6221b15846bbc1e94,cosocket: fixed ngx_log_debugN for non-debugging builds. also added a passing test case for running Daniele Alessandri's lua-redis library by emulating LuaSocket via ngx.socket :)
agentzh,2011-12-22 12:47:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/166a71112be897f2c59e9d806c82475819578008,166a71112be897f2c59e9d806c82475819578008,cosocket: we now allow string-typed size argument for sock:receive(). also added a (passing) test case for running Neil Richardson's lua-memcached library by mocking LuaSocket with ngx.socket :)
agentzh,2011-12-22 10:44:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/74738a72164c8e812c91419931133cd7070a7f95,74738a72164c8e812c91419931133cd7070a7f95,cosocket: minor coding style fixes.
agentzh,2011-12-22 10:44:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/976d3e1fdcdb2cc267d78d41655723d2582cfe2a,976d3e1fdcdb2cc267d78d41655723d2582cfe2a,cosocket: implemented the ngx.socket.connect() shortcut.
agentzh,2011-12-22 09:09:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7ec21aeeae5724084b8a5a3f30605b3109926b9c,7ec21aeeae5724084b8a5a3f30605b3109926b9c,"cosocket: fix buffer recycling logic for the ""receive"" method; also added ""buffer too small"" error handling."
agentzh,2011-12-22 08:40:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/66f4d22e1b31f2877dfafedb45d3eb21adf2c1d2,66f4d22e1b31f2877dfafedb45d3eb21adf2c1d2,"cosocket: fixed receive(n) to only return exactly n bytes of data as per LuaSocket's behavior. also made receive() return the 3rd value for the partial result when error occurs, just like LuaSocket."
agentzh,2011-12-22 07:32:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/aeaddfe41b262f747de4a2c3e4e789b5d8330b70,aeaddfe41b262f747de4a2c3e4e789b5d8330b70,"cosocket: implemented the number-typed pattern parameter for the ""receive"" method as per the LuaSocket TCP API."
agentzh,2011-12-22 06:35:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/592a534464e7e63e16788c5409962d4867b0077c,592a534464e7e63e16788c5409962d4867b0077c,cosocket: fixed resolver error handling for cached negative results.
agentzh,2011-12-22 05:30:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3ca2a900e4016ea16200aa6dd5946d92e4822f14,3ca2a900e4016ea16200aa6dd5946d92e4822f14,"cosocket: implemented the ""*l"" and ""*a"" pattern argument for the receive() method as per the LuaSocket TCP API."
agentzh,2011-12-22 01:57:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/072456997204bf4bac1a16fafc49d84be5c9b2ba,072456997204bf4bac1a16fafc49d84be5c9b2ba,cosocket: fixed resolver error handling a bit.
agentzh,2011-12-22 01:54:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ecb161cf01bf5f182bb61f54fd28ff113616b803,ecb161cf01bf5f182bb61f54fd28ff113616b803,Merge remote-tracking branch 'origin/master' into cosocket
agentzh,2011-12-22 01:54:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f63c914375e437b246317d143380930f94663cf7,f63c914375e437b246317d143380930f94663cf7,Merge branch 'master' into cosocket
agentzh,2011-12-21 14:39:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/83a1e64a40407dbb8b60223681600812c525fb97,83a1e64a40407dbb8b60223681600812c525fb97,cosocket: added a (passing) test case for resolver timeout handling.
agentzh,2011-12-21 14:23:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f79766317ccf87476c68c1a3e0ff7a4511e8d8ad,f79766317ccf87476c68c1a3e0ff7a4511e8d8ad,cosocket: fixed bugs in resolver failure handling.
agentzh,2011-12-21 13:18:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9b21eb38dcf18e1e60de46196b684923cb419904,9b21eb38dcf18e1e60de46196b684923cb419904,cosocket: various coding style fixes.
agentzh,2011-12-21 13:16:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5353b5bd343b4fb068091370115258ce8b1d0754,5353b5bd343b4fb068091370115258ce8b1d0754,cosocket: various fixes in the unix domain socket support.
agentzh,2011-12-21 07:49:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/33fcd577bc7c896ff745111df13a2ad1f78798d7,33fcd577bc7c896ff745111df13a2ad1f78798d7,bugfix: ngx.var.VARIABLE might evaluate to nil even if there is a valid value because the nginx variable value's valid flag might not be initialized properly. this bad had appeared in v0.3.1rc40.
agentzh,2011-12-21 05:08:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4e4fe381cf161c9c8725e9099c63d7ddd3f1e29a,4e4fe381cf161c9c8725e9099c63d7ddd3f1e29a,cosocket: fixed timeout handing in the connect() method.
agentzh,2011-12-21 04:06:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6da957c9372a33284fa673a5bbeee14b0ac70734,6da957c9372a33284fa673a5bbeee14b0ac70734,"now we return the errstr ""closed"" when manipulating a closed socket object, just like LuaSocket."
agentzh,2011-12-21 03:58:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/202336c408c5dd336286603527e451851325990c,202336c408c5dd336286603527e451851325990c,better socket errstr handling.
agentzh,2011-12-21 03:28:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c0e37957537f903bcc1513124e48b903593c5a42,c0e37957537f903bcc1513124e48b903593c5a42,"added a (passing) case to test the ""connection refused"" error."
agentzh,2011-12-21 03:24:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1810fb0bc7ae4c995271230d4564ef7ee2d7ac22,1810fb0bc7ae4c995271230d4564ef7ee2d7ac22,eagerly free u->buffer in ngx_http_lua_socket_finalize.
agentzh,2011-12-20 14:31:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/32b1a58999eadafbe1edf1062c68884f3efb759a,32b1a58999eadafbe1edf1062c68884f3efb759a,"cosocket: now we support unix domain socket address for the ""connect"" method; also improved the error messages."
agentzh,2011-12-20 12:32:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4b65f824cf747fde2e24572364014d41b2077211,4b65f824cf747fde2e24572364014d41b2077211,first cut on the nginx builtin nonblocking resolver support for ngx.socket.tcp().
agentzh,2011-12-20 04:31:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eea55f5904fb54b4e481ffdc65ddc0ad7ec02b86,eea55f5904fb54b4e481ffdc65ddc0ad7ec02b86,implemented the socket:close() method.
agentzh,2011-12-20 04:02:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/978c9779b2df37bc3b9c2fdb678b0f5704cb3fcd,978c9779b2df37bc3b9c2fdb678b0f5704cb3fcd,"bugfix: socket:receive() will ignore all the CR char in the inputs, just like LuaSocket."
agentzh,2011-12-20 03:47:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1afdd526589e0f886322f564788ce63aa222895f,1afdd526589e0f886322f564788ce63aa222895f,turned off ddebug and also fixed source lines exceeding 80 cols.
agentzh,2011-12-20 03:45:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6c0edbd843cd7361e6d2c73f07684e500d772d37,6c0edbd843cd7361e6d2c73f07684e500d772d37,fixed a serious bug in socket:receive(). the test case is passing for multiple receive calls.
agentzh,2011-12-19 14:49:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fa1d4b5f1d14b846617a2ea95348ca34719846da,fa1d4b5f1d14b846617a2ea95348ca34719846da,"completed the first cut on the socket:receive() method. the first test case is now passing, but sock:receive() is still buggy."
agentzh,2011-12-19 09:32:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/37d7fd4576641ba3368abbee11bcf82e5bab8888,37d7fd4576641ba3368abbee11bcf82e5bab8888,now we use dummy handler as the read/write event handler wherever possible (a complete fix would require deleting and adding read/write events for level triggered event models).
agentzh,2011-12-19 08:14:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/563e14b1a005a34a7ea1724aa05607e0b73b24d4,563e14b1a005a34a7ea1724aa05607e0b73b24d4,ngx.socket.tcp()'s send method is mostly working now :D
agentzh,2011-12-18 11:57:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c6113b309cf97e0e8d8d8ff6394f87c5d93fe338,c6113b309cf97e0e8d8d8ff6394f87c5d93fe338,"added new directives lua_socket_connect_timeout, lua_socket_send_timeout, and lua_socket_read_timeout. only really implemented the first one ;)"
agentzh,2011-12-18 06:29:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/04e3122dec5f8a3c89f692f421a21164d0a10f77,04e3122dec5f8a3c89f692f421a21164d0a10f77,minor fixes in socket:connect().
agentzh,2011-12-18 06:28:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/220af136e766e5e8dc0e44f74846764311556ece,220af136e766e5e8dc0e44f74846764311556ece,socket:connect() kinda works.
agentzh,2011-12-17 13:17:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/37cc4a24a09389589e7b2c12b39f0bbb434c70b6,37cc4a24a09389589e7b2c12b39f0bbb434c70b6,updated valgrind.suppress further for Valgrind SGCheck.
agentzh,2011-12-17 13:17:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/709d62db35b9ca588e48791bb0b164d3f421ebaf,709d62db35b9ca588e48791bb0b164d3f421ebaf,updated valgrind.suppress further for Valgrind SGCheck.
agentzh,2011-12-17 13:10:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f0faa955e34ae7057cada221e7fd01145230be4f,f0faa955e34ae7057cada221e7fd01145230be4f,Merge branch 'master' into cosocket
agentzh,2011-12-17 13:08:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4fc7a965cbf24ddd554166ae52ea32a9b7a895f3,4fc7a965cbf24ddd554166ae52ea32a9b7a895f3,updated valgrind.suppress for Valgrind SGCheck.
agentzh,2011-12-16 14:30:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9161a993beb0b4fdc66c9c6846170fe7949bf930,9161a993beb0b4fdc66c9c6846170fe7949bf930,bugfix: more_set_input_headers did not handle the Accept-Encoding request headers properly. thanks 天街夜色.
agentzh,2011-12-16 08:31:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/29e8b41e99d433a5327039de7025c6c7c398ce6f,29e8b41e99d433a5327039de7025c6c7c398ce6f,bugfix: there were various places where we did not check the pointer returned by the memory allocator.
agentzh,2011-12-16 08:21:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b35bcb2d64389860a5797284d798484813c215f7,b35bcb2d64389860a5797284d798484813c215f7,updated README and README.markdown.
agentzh,2011-12-16 07:51:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e9de829c9b05153616803a576d151fb80931e695,e9de829c9b05153616803a576d151fb80931e695,docs: updated docs to reflect recent changes. thanks Nginx User.
agentzh,2011-12-16 04:22:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b1d8d622702d2a6d628c596271576304f53943f3,b1d8d622702d2a6d628c596271576304f53943f3,bugfix: ngx.flush(true) could not be used before I/O calls like ngx.location.capture. this bug had appeared in v0.3.1rc34.
agentzh,2011-12-15 14:17:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9e811fbbb5f65ffab15b30f7a6872e2c6e6c46a3,9e811fbbb5f65ffab15b30f7a6872e2c6e6c46a3,more work done on the cosocket scaffold.
agentzh,2011-12-15 08:40:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0e1770ac43c1217f383b850a0c8aec6068a08f7b,0e1770ac43c1217f383b850a0c8aec6068a08f7b,"initial scaffold for ngx.socket.tcp(). also did minor optimization for the ""ngx"" table and the metatable for ""ngx.shard.DICT"" objects."
agentzh,2011-12-15 06:46:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2c6a22a29a64a28e87adb80b76b3e344a645ad32,2c6a22a29a64a28e87adb80b76b3e344a645ad32,fixed some small bugs in the ngx.socket.tcp test case.
agentzh,2011-12-15 06:44:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a44b8ce963dcbd09384f000e65048cc82f3b23c1,a44b8ce963dcbd09384f000e65048cc82f3b23c1,added a test case for the ngx.socket.tcp API. not passing yet.
agentzh,2011-12-08 13:34:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8153df5c654dd142b352e86f58db8733249daa9e,8153df5c654dd142b352e86f58db8733249daa9e,bugfix: ngx.var.VARIABLE evalues to nil when the nginx variable is purely invalid.
agentzh,2011-12-02 09:27:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ea24c93c8263aff2b64c68a13433460f03bf711b,ea24c93c8263aff2b64c68a13433460f03bf711b,documented ngx.HTTP_GATEWAY_TIMEOUT and also included edits from Nginx User.
agentzh,2011-12-02 09:22:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f88d229ce6d87e411f2a2b8929be33f496b4e632,f88d229ce6d87e411f2a2b8929be33f496b4e632,added a test for ngx.HTTP_GATEWAY_TIMEOUT.
agentzh,2011-12-02 09:20:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a3bc3fceeae3f3346c3945bd0e52d9eb9ab83432,a3bc3fceeae3f3346c3945bd0e52d9eb9ab83432,added constant ngx.HTTP_GATEWAY_TIMEOUT (504) per Fry-kun in github issue #73.
agentzh,2011-11-29 14:19:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9cbf7c37627693abb19f86b8f28f56894710e075,9cbf7c37627693abb19f86b8f28f56894710e075,docs: massive documentation improvements. thanks Nginx User.
agentzh,2011-11-29 13:49:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7a4617ff8fd337c9a3f2a523a85c0f94f2b1dae5,7a4617ff8fd337c9a3f2a523a85c0f94f2b1dae5,fixed two spots of gcc 4.6 warnings.
agentzh,2011-11-29 13:39:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c9f5e028b7538ae5ebb88b65ced3237bf2291a97,c9f5e028b7538ae5ebb88b65ced3237bf2291a97,enable the default -O in the developer build script.
agentzh,2011-11-29 09:43:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a635ab8bea88f06d785e39e3b327c12bb2998ccc,a635ab8bea88f06d785e39e3b327c12bb2998ccc,"bugfix: use of the ngx.re API might lead to errors like ""pcre_compile() failed: failed to get memory"" due to incorrect pcre_malloc and pcre_free handling. thanks Vittly for reporting this in github issue #72."
agentzh,2011-11-28 08:05:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/745b47fd278c05fdb495bc9c9c6c86a3f1a0274d,745b47fd278c05fdb495bc9c9c6c86a3f1a0274d,more fixes in 057-flush-timeout.t
agentzh,2011-11-28 08:04:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/34ee97908fc70df2ef45370c64b08ee257284012,34ee97908fc70df2ef45370c64b08ee257284012,fixed the flush-timeout test script.
agentzh,2011-11-26 14:31:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bd1da870a611753bc5ee85d514abdcb1d5c8b7b7,bd1da870a611753bc5ee85d514abdcb1d5c8b7b7,bugfix: fixed ngx_log_debugN which fails to compile without --with-debug. thanks @ldmiao for reporting it.
agentzh,2011-11-26 13:28:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/47d977391a6e9f35f4143f59d71ccf422f24b878,47d977391a6e9f35f4143f59d71ccf422f24b878,checked in the tests for the bug regarding connection timeout error checking fixed in the previous commit.
agentzh,2011-11-26 13:22:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/06fd57947a4053778183cc3b62b56bcdd41d2671,06fd57947a4053778183cc3b62b56bcdd41d2671,bugfix: now we check timed out downstream connections in our wev handler.
agentzh,2011-11-25 13:22:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/28ae78f0e0c377af7860b5a5110c801824b9fd56,28ae78f0e0c377af7860b5a5110c801824b9fd56,updated docs to reflect recent changes.
agentzh,2011-11-25 12:43:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/09ccd15b5e2b2dfa4a0401397fdd07b692f7e3e1,09ccd15b5e2b2dfa4a0401397fdd07b692f7e3e1,"feature: added ""wait"" boolean argument to ngx.flush() to support synchronous flushing; ngx.flush(true) will not return until all the data has been flushed into the system send buffer or the send timeout has expired."
agentzh,2011-11-24 14:17:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/db85756a0840eb1b46f231d202b1681c54cf8123,db85756a0840eb1b46f231d202b1681c54cf8123,fixed gcc 4.6 compilation warnings by removing some dead code.
agentzh,2011-11-24 14:10:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6b8c2d8a218ddcdac7f960c5dcbc2cddac3894ec,6b8c2d8a218ddcdac7f960c5dcbc2cddac3894ec,more docs love.
agentzh,2011-11-24 14:04:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/46263348104fcbf1c32b017033d18a84e0c8c2f3,46263348104fcbf1c32b017033d18a84e0c8c2f3,updated the docs to reflect recent changes. thanks Nginx User for polishing the documentation a lot.
agentzh,2011-11-24 13:32:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c598e718c16f78c463b2555ca037a181696d8544,c598e718c16f78c463b2555ca037a181696d8544,feature: added new API ngx.update_time which calls ngx_time_update in the Nginx core.
agentzh,2011-11-24 10:53:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/79a19650a77f4aa5bede05140c79a04a37dbc426,79a19650a77f4aa5bede05140c79a04a37dbc426,reformatted the tests.
agentzh,2011-11-24 10:49:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2a134b17991297e18e5942da9ea9e74ed7d76295,2a134b17991297e18e5942da9ea9e74ed7d76295,omitted unnecessary checks in our lua hooks.
kindy,2011-11-24 09:26:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/11617ee1ed16ee85cacc0377dc6636b744ffab0d,11617ee1ed16ee85cacc0377dc6636b744ffab0d,Merge remote-tracking branch 'origin/master' into ngx-now
kindy,2011-11-24 07:47:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1e7bd81f5fe792a24f5c95daf911472e6d5765d7,1e7bd81f5fe792a24f5c95daf911472e6d5765d7,fixed the test case for ngx.now
kindy,2011-11-23 15:52:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/08318e606f7f1b48d9d419ad4011cc93df9324b8,08318e606f7f1b48d9d419ad4011cc93df9324b8,add missing test file for ngx.now
kindy,2011-11-23 15:26:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d6ae4883b6bb8749bddf4c6fc19ef39b0552a051,d6ae4883b6bb8749bddf4c6fc19ef39b0552a051,"feature: added ""ngx.now"" for get time with msec(float)

you can use nginx directive ""timer_resolution"" adjust the accuracy"
agentzh,2011-11-22 15:02:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5fcb1a7b8bc61f5ee244593b2b38ee90d058ed23,5fcb1a7b8bc61f5ee244593b2b38ee90d058ed23,updated docs to reflect recent changes.
agentzh,2011-11-22 14:26:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/806a99a3f7478c9f32b34bcfb2b5c87776197c60,806a99a3f7478c9f32b34bcfb2b5c87776197c60,"feature: added opions ""copy_all_vars"" and ""vars"" to ngx.location.capture and ngx.location.capture_multi. thanks Marcus Clyne for the patch; also fixed a bad regression in ngx.location.capture_multi when the request option table is specified."
agentzh,2011-11-21 14:51:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c43d510fb9eb726c9447a12585ab49ca96a3a128,c43d510fb9eb726c9447a12585ab49ca96a3a128,updated docs to reflect recent changes. thanks Nginx User.
agentzh,2011-11-20 15:54:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/881a0ae6048c983de7d1c973e1f34854405cd0de,881a0ae6048c983de7d1c973e1f34854405cd0de,fixed a gcc 4.6 warning.
agentzh,2011-11-20 15:34:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3e0c15ace1fce3cc8f08be85fb9fdc916800bdef,3e0c15ace1fce3cc8f08be85fb9fdc916800bdef,reverted build2.sh.
agentzh,2011-11-20 15:06:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4db4603b17f2de60b0b8bf5b67c3707525c5b40a,4db4603b17f2de60b0b8bf5b67c3707525c5b40a,fixed a gcc compilation warning for pcre < 8.20.
agentzh,2011-11-20 08:21:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/99f45c46c4c5e091d6cd40205484bc65af1c8fb4,99f45c46c4c5e091d6cd40205484bc65af1c8fb4,now we check if pcre jit indeed works by scanning error.log in the related tests.
agentzh,2011-11-20 07:52:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/951103f3beb3ff790bcf0e7104b836c7e947da56,951103f3beb3ff790bcf0e7104b836c7e947da56,"tested the ""d"" and ""j"" regex options for DFA and JIT modes for ngx.re.gsub."
agentzh,2011-11-19 11:05:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5c2a86cb3c5ce64aff5cd63c068ce869107f56d8,5c2a86cb3c5ce64aff5cd63c068ce869107f56d8,"now ""j"" and ""d"" regex options are confirmed to work with ngx.re.sub()."
agentzh,2011-11-19 09:20:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c444de8e4a92674f01521d5e0e35eea5428d0e4e,c444de8e4a92674f01521d5e0e35eea5428d0e4e,ngx.re: now we disable jit automatically when in dfa mode.
agentzh,2011-11-19 09:00:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/85fb303ffa7281779940b84522c641f570b022a3,85fb303ffa7281779940b84522c641f570b022a3,"bugfix: ngx.re.gmatch may free the pcre study data too early when the ""j"" option is specified to enable pcre jit, which might cause crashes."
agentzh,2011-11-19 06:54:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5a729fca9c2aeab8ec457c87bdf879ebbefef64b,5a729fca9c2aeab8ec457c87bdf879ebbefef64b,coding style fixes.
agentzh,2011-11-19 06:53:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/85a74e0689c875099f0a97422dcbf225980e36c7,85a74e0689c875099f0a97422dcbf225980e36c7,fixed pcre pool management in the cleanup handler.
agentzh,2011-11-19 06:42:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/df000b92d2602e253b977d2c0c4bb6e7987f2512,df000b92d2602e253b977d2c0c4bb6e7987f2512,"feature: ensured that the ""j"" (JIT) option for ngx.re.gmatch works properly."
agentzh,2011-11-18 14:49:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8f28c7f0a0e3a9161cc2f9427beb41b5f26b6e65,8f28c7f0a0e3a9161cc2f9427beb41b5f26b6e65,turned off ddebug.
agentzh,2011-11-18 14:45:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f360e6903e52385855d12e18ec22eee990ec7935,f360e6903e52385855d12e18ec22eee990ec7935,"feature: implemented ""d"" and ""j"" regex options for ngx.re.match to enable PCRE DFA mode and JIT mode, respectively. thanks @姜大炮. the support of these two new options in ngx.re.gmatch, ngx.re.sub, and ngx.re.gsub is currently broken and needs fixes in future commits."
agentzh,2011-11-17 08:51:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/457280136186db39b8b71f7718d033592b62eb01,457280136186db39b8b71f7718d033592b62eb01,massive documentation improvements. thanks Nginx User.
agentzh,2011-11-17 07:34:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/09fc7c73ee51a221d831490eb433d071fe7784c1,09fc7c73ee51a221d831490eb433d071fe7784c1,tweaked drdrxp's hmac-sha1 patch a bit and also added a test case for it.
agentzh,2011-11-17 04:18:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd47016fa831164be2060eee98d5cf51ec7a5c4e,fd47016fa831164be2060eee98d5cf51ec7a5c4e,Merge remote-tracking branch 'drmingdrmer/hmac' into hmac
agentzh,2011-11-16 07:51:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6dd6f02e010db006b2e89738840eb50edb868686,6dd6f02e010db006b2e89738840eb50edb868686,updated valgrind.suppress a bit.
drmingdrmer,2011-11-15 10:02:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5beba3733d7ccf8daf296a34f03944bb462d5818,5beba3733d7ccf8daf296a34f03944bb462d5818,add ngx.hmac_sha1
agentzh,2011-11-15 09:50:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a5dc446cd4cf0ef749a0be7936d28d6659ea7436,a5dc446cd4cf0ef749a0be7936d28d6659ea7436,tweaked the developer script a bit.
agentzh,2011-11-09 13:48:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/efd374014f15260d3687ca3a99e73a3b729d1bd4,efd374014f15260d3687ca3a99e73a3b729d1bd4,bugfix: Cache-Control header modification might introduce empty value headers when using with the standard ngx_headers module.
agentzh,2011-11-09 12:27:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ae29491ddb29e2051b63d0bec4730df612e60d7f,ae29491ddb29e2051b63d0bec4730df612e60d7f,added one more passing test.
agentzh,2011-11-09 08:59:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fa5cafdcff52925b7e1e140cee411741fe4003fe,fa5cafdcff52925b7e1e140cee411741fe4003fe,updated docs to reflect recent changes.
agentzh,2011-11-09 08:55:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/64a2b730a7d712965cc58f0b8aa1e026f8beb334,64a2b730a7d712965cc58f0b8aa1e026f8beb334,renamed ngx.req.encode_args to ngx.encode_args.
agentzh,2011-11-09 08:21:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1259fbc817c789ec90f90c7a369e74c852903907,1259fbc817c789ec90f90c7a369e74c852903907,fixed various issues in shrimp's commits for ngx.encode_query_args. also renamed ngx.encode_query_args to ngx.encode_args.
agentzh,2011-11-09 03:34:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/131f13d6b3b6ac94494b5ad4023ae441c3115ad4,131f13d6b3b6ac94494b5ad4023ae441c3115ad4,Merge branch 'master' into args
agentzh,2011-11-04 08:44:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/82c566aaed79801f1f1f6c51a7d84be544d62a62,82c566aaed79801f1f1f6c51a7d84be544d62a62,confirmed that we work with nginx 1.0.9.
agentzh,2011-11-04 07:28:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/860199f994b7ca9cdfcae798b2ecbcb6a8c2c130,860199f994b7ca9cdfcae798b2ecbcb6a8c2c130,updated docs to reflect recent changes.
agentzh,2011-11-03 14:32:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/30a2e898e18d2a62fb3615a6710fe67f935c26d9,30a2e898e18d2a62fb3615a6710fe67f935c26d9,minor tweaks.
shrimp,2011-11-02 11:31:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b92cbf45626c0e01622f7a190e3f23e7a65a6a5c,b92cbf45626c0e01622f7a190e3f23e7a65a6a5c,ngx.req.encode_query_args is now supporting args value to be lua table
shrimp,2011-11-02 06:07:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f0942d7a35aebc5afb2e3ee192e59508d26fb64d,f0942d7a35aebc5afb2e3ee192e59508d26fb64d,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module into args
shrimp,2011-11-02 00:34:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c3a6737b7c226c529c33fd980a511666ebfe365c,c3a6737b7c226c529c33fd980a511666ebfe365c,add encode_query_args function into ngx.req
agentzh,2011-10-29 14:26:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e5c62d0843f9678152cf2436e2b128334ae6fa79,e5c62d0843f9678152cf2436e2b128334ae6fa79,added one line of comment.
agentzh,2011-10-29 08:17:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dc49eb2067bb5495133007cbf020c7b96b51b303,dc49eb2067bb5495133007cbf020c7b96b51b303,"feature: added ""ctx"" option to ngx.location.capture: you can now specify a custom Lua table to pass to the subrequest as its ""ngx.ctx"". thanks @hugozhu."
agentzh,2011-10-27 14:48:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9942742eb95ada0a94b4f1711b649e7d1cbf6483,9942742eb95ada0a94b4f1711b649e7d1cbf6483,made tests more stable.
agentzh,2011-10-27 12:20:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4d92cb15899c9506626c9b8e13991ffb4975d4cf,4d92cb15899c9506626c9b8e13991ffb4975d4cf,fixed compatibility with nginx 0.8.54. thanks 郭颖.
agentzh,2011-10-27 11:07:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/74755eb0e2f44c386f508679361ebb74872fecba,74755eb0e2f44c386f508679361ebb74872fecba,bugfix: ndk.set_var.DIRECTIVE had a memory issue and may pass empty argument values to the directive being called. thanks dannynoonan.
agentzh,2011-10-27 10:16:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1eb73d67c1d7bcb956e4b0aecc95f7de45721aca,1eb73d67c1d7bcb956e4b0aecc95f7de45721aca,updated docs to reflect recent changes.
agentzh,2011-10-27 10:05:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/edde16355e8b4da27bb047a02e55097c45d09849,edde16355e8b4da27bb047a02e55097c45d09849,now incr returns the new numerical value as its first return value.
agentzh,2011-10-27 09:36:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d01adf7d7d66fb6f88a46d496feffdaf7f022cd2,d01adf7d7d66fb6f88a46d496feffdaf7f022cd2,now we still enable --with-debug in our developer build script.
agentzh,2011-10-27 09:34:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/259524953f0519db35ff31f4840c6bffe0cef97c,259524953f0519db35ff31f4840c6bffe0cef97c,fixed compilation warnings without --with-debug for gcc 4.6.0.
agentzh,2011-10-27 09:23:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a9842859ba90672a75753690f45c5330c7aa186d,a9842859ba90672a75753690f45c5330c7aa186d,fixed another spot of -Werror=unused-but-set-variable warning issued by gcc 4.6.0.
agentzh,2011-10-27 09:23:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9656a97f007815b9d8c09439a176425ce280737f,9656a97f007815b9d8c09439a176425ce280737f,fixed one spot of -Werror=unused-but-set-variable warning issued by gcc 4.6.0.
agentzh,2011-10-27 09:20:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/24da18171711f4f60e689c77fcd60057494a07bb,24da18171711f4f60e689c77fcd60057494a07bb,"feature: implemented new methods ""add"", ""replace"", and ""delete"" for ngx.shared.DICT. also made the ""set"" method return 3 values: ""success"", ""err"", and ""forcible""."
agentzh,2011-10-26 07:14:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a935e6fdbf60944e5268343ae09ccdc91ef7925e,a935e6fdbf60944e5268343ae09ccdc91ef7925e,enable the ngx.shared API in set_by_lua* and header_filter_by_lua* too ;)
agentzh,2011-10-26 07:03:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9c26604bf409920e480c86e0de51f3453ca2bac8,9c26604bf409920e480c86e0de51f3453ca2bac8,documented the shared dictionary API.
agentzh,2011-10-26 06:02:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d4224b9794380f3e767b970ad76f787e542c953d,d4224b9794380f3e767b970ad76f787e542c953d,no longer set too many worker connections in t/030-uri-args.t.
agentzh,2011-10-26 04:38:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d7c8be39ccdbf69fc3cd01ceeea8f17dcd4bd005,d7c8be39ccdbf69fc3cd01ceeea8f17dcd4bd005,fixed test cases for 32-bit systems.
agentzh,2011-10-26 04:19:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e6f6002756ec9b3f2be70c9de03e1510b69aa1a3,e6f6002756ec9b3f2be70c9de03e1510b69aa1a3,reindexed the tests.
agentzh,2011-10-26 04:15:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8d31d75ccee2b5aef04a3218b89657ccd5a72916,8d31d75ccee2b5aef04a3218b89657ccd5a72916,shared_dict set: now we try harder when failing to allocate new entry by forcily removing up to 30 least recently used entries.
agentzh,2011-10-26 03:52:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/aad4815f749e363e0bdb048980585e68150c155f,aad4815f749e363e0bdb048980585e68150c155f,shared_dict: now we use uint8_t for value type and uint32_t for value_len.
agentzh,2011-10-25 14:52:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4518fcf71df4e0f6d5a16d8602660fbc81c8ec96,4518fcf71df4e0f6d5a16d8602660fbc81c8ec96,"implemented shared_dict set nil, which effectively removes the key from the dict."
agentzh,2011-10-25 14:35:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b9d28596d1119b9967aea7227b498f4abab52a2b,b9d28596d1119b9967aea7227b498f4abab52a2b,"now we support 0 expiration time to denote infinite expiration time in shared_dict set. and it is default to 0 when the set method does not take an ""expire"" argument."
agentzh,2011-10-25 11:07:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f32e5ed8fc32aff4d6891c4669bfd631cf32614a,f32e5ed8fc32aff4d6891c4669bfd631cf32614a,added more tests for various error cases and LRU.
agentzh,2011-10-24 15:21:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/192ec1e9dfc6ab9a92a68671e3274c128aa8c352,192ec1e9dfc6ab9a92a68671e3274c128aa8c352,bugfix: shared dict get: we should not unlock the mutex too soon. thanks drdrxp.
agentzh,2011-10-24 14:53:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2549ab48eb15b52c555fadb31542878aa0bd5d16,2549ab48eb15b52c555fadb31542878aa0bd5d16,added more (passing) tests for the shared dict API.
agentzh,2011-10-24 14:27:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f5a4f7243eb6c2c6df26ffe834e69fafaae794bc,f5a4f7243eb6c2c6df26ffe834e69fafaae794bc,the shared_dict get and set are now complete and usable :D
agentzh,2011-10-24 04:34:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b71a0b52a61bb9ec64a9301772c69ec1da8e5631,b71a0b52a61bb9ec64a9301772c69ec1da8e5631,"resolved conflicts while merging the ""master"" branch to ""shm""."
agentzh,2011-10-24 04:04:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5973268d3a626d391b2fb3731a793117cfe5b48f,5973268d3a626d391b2fb3731a793117cfe5b48f,updated docs and turned off ddebug.
agentzh,2011-10-24 04:02:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d3e601fc93bbc7b073da47672b8ee9fca6497de2,d3e601fc93bbc7b073da47672b8ee9fca6497de2,added tests for setting ngx.var.VAR to nil values.
agentzh,2011-10-24 03:56:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3638fd09cc19facf79711a797fc4468cd073fb9d,3638fd09cc19facf79711a797fc4468cd073fb9d,bugfix: no longer free request body buffers that are not allocated by ourselves.
agentzh,2011-10-24 03:23:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/61b9d83fe52e34d85fa41f49e5721f6fc4e14479,61b9d83fe52e34d85fa41f49e5721f6fc4e14479,now we allow setting ngx.var.VARIABLE to nil.
agentzh,2011-10-24 02:40:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a79cc7500756b1e7c7b304bc6c34b8e7947ce944,a79cc7500756b1e7c7b304bc6c34b8e7947ce944,added a small test case.
agentzh,2011-10-22 05:04:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b25d06b326a0ebb063088c79923e9634ccf7fd49,b25d06b326a0ebb063088c79923e9634ccf7fd49,improved the README file's formatting.
agentzh,2011-10-22 03:56:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/58d6bc91e2e71ae30d2ac9608a99081dba415cf8,58d6bc91e2e71ae30d2ac9608a99081dba415cf8,fixed reading size_t as an off_t in ngx.req.set_body_data() which may lead to memory issues on 32-bit systems.
agentzh,2011-10-22 03:40:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0a8a11b99489f4bd077bc0c5e1fa7d0be03261bf,0a8a11b99489f4bd077bc0c5e1fa7d0be03261bf,put the debug log outputs to the right place.
agentzh,2011-10-22 03:33:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/739825a7c4339425fd61e897b8a027b04a8ccd58,739825a7c4339425fd61e897b8a027b04a8ccd58,no longer set the NGINX_ALLOW_REQUEST_BODY_UPDATING macro in developer build script.
agentzh,2011-10-22 01:54:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f03ac7ca368029ab748a46da9b4eda7d1692a6d4,f03ac7ca368029ab748a46da9b4eda7d1692a6d4,fixed -Wset-but-not-used warning issues caught by gcc 4.6.0.
agentzh,2011-10-21 15:36:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0cb010bb3f614c104fc3f055d832f9d1f732461d,0cb010bb3f614c104fc3f055d832f9d1f732461d,bugfix: lua_need_request_body should not skip requests with methods other than POST and PUT. thanks Nginx User.
agentzh,2011-10-21 14:18:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8eef13e10b8b92f57824a0fa4a090b9486b11db6,8eef13e10b8b92f57824a0fa4a090b9486b11db6,updated docs to reflect recent changes regarding the request body API.
agentzh,2011-10-21 13:57:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5cef7124ff67799a85f9f345ada46400a90bac43,5cef7124ff67799a85f9f345ada46400a90bac43,no longer use the NGINX_ALLOW_REQUEST_BODY_UPDATING macro and r->content_length_n. now calling ngx.req.read_body() after ngx.req.discard_body() is a no-op.
agentzh,2011-10-21 12:37:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ad0300696a5547fd077d3343620923632682ddfb,ad0300696a5547fd077d3343620923632682ddfb,fixed compatibility with standard nginx.
agentzh,2011-10-21 11:12:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5c36f6e8ca862be26df398ddbe81fc27ef75eec1,5c36f6e8ca862be26df398ddbe81fc27ef75eec1,"now we complete the work for ngx.req.set_body_file(), ngx.req.set_body_data(), and ngx.req.discard_body()."
agentzh,2011-10-21 06:51:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/893f7e72a5d77243ed20256d5d1f5c30d6bdebba,893f7e72a5d77243ed20256d5d1f5c30d6bdebba,now we also override Content-Length for ngx.req.set_body_data().
agentzh,2011-10-20 14:37:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2fbea05b93a9c6de8dd76977b6b9d42851a90638,2fbea05b93a9c6de8dd76977b6b9d42851a90638,initial cut on the ngx.req.set_body_file() API.
agentzh,2011-10-20 04:02:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ea81bb2f01344fd75814ac4a3408f8170b0dff5e,ea81bb2f01344fd75814ac4a3408f8170b0dff5e,implemented new function ngx.req.set_body_data() to override the current request body with in-memory data.
agentzh,2011-10-19 09:07:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1122cbd49d85e245e86d1b961e83dfe02392c960,1122cbd49d85e245e86d1b961e83dfe02392c960,fixed a test cause because Test::Nginx fixed a bug in its Content-Length handling.
agentzh,2011-10-19 08:53:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a0a9fb49a2a125b0786def17979427e953efbc65,a0a9fb49a2a125b0786def17979427e953efbc65,"documented the new APIs: ngx.req.read_body(), ngx.req.discard_body(), ngx.req.get_body_data(), and ngx.req.get_body_file(); also improved the coding style and the test suite a bit."
agentzh,2011-10-19 07:21:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/569e3511c565ee3dd80aaa24c3f9786fd235182c,569e3511c565ee3dd80aaa24c3f9786fd235182c,added (passing) tests for ngx.location.capture + ngx.redirect under http pipelining.
agentzh,2011-10-19 04:23:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/982cb581a93c665e7766f96eb8954d6b0e3a8582,982cb581a93c665e7766f96eb8954d6b0e3a8582,refactored the code for access_by_lua and access_by_lua_file to reduce code duplication.
agentzh,2011-10-19 04:14:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2c9a564a4d45dd6b5cf111c8c098d78342b7c834,2c9a564a4d45dd6b5cf111c8c098d78342b7c834,refactored the code for rewrite_by_lua and rewrite_by_lua_file to reduce code duplication.
agentzh,2011-10-19 03:58:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b6c7dd053d9425e2a6e7b15bdff263bf1fd81cad,b6c7dd053d9425e2a6e7b15bdff263bf1fd81cad,bugfix: fixed hanging issues when using ngx.exec() within rewrite_by_lua and access_by_lua. thanks Nginx User for reporting it.
agentzh,2011-10-18 12:15:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b0474ca7503c6f448b244f637a88217bcadada4b,b0474ca7503c6f448b244f637a88217bcadada4b,implemented new function ngx.req.get_body_file().
agentzh,2011-10-18 12:02:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/aefb1c49067a62957424286448b263c92ed4808a,aefb1c49067a62957424286448b263c92ed4808a,implemented new method ngx.req.get_body_data.
agentzh,2011-10-18 11:31:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/38c832593895b1bfdf7069ecbabe06bceabbc002,38c832593895b1bfdf7069ecbabe06bceabbc002,implemented ngx.req.discard_body() function to let user lua code to discard request body.
agentzh,2011-10-18 03:50:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/18f30a16a9fbe41ef7bb81c0a194dd06249c7442,18f30a16a9fbe41ef7bb81c0a194dd06249c7442,now we use ngx_http_block_reading instead of ngx_http_empty_request handler or read event handler.
agentzh,2011-10-17 14:10:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0f18d9936be387be247a86683f145d78d510a611,0f18d9936be387be247a86683f145d78d510a611,implemented ngx.req.read_body() which does synchronous non-blocking request body reading in full buffered mode.
agentzh,2011-10-17 07:32:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b45910b44e94fa2c9c9828414fe5dddd6f413cbe,b45910b44e94fa2c9c9828414fe5dddd6f413cbe,minor code refactoring.
agentzh,2011-10-16 13:45:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b298984e034ca830fec4510f05a03cad8d4d0751,b298984e034ca830fec4510f05a03cad8d4d0751,fixed compilation failures when --with-debug is turned off.
agentzh,2011-10-16 13:41:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6c1c1666b0a87027e70132758f63763dfa55d2ab,6c1c1666b0a87027e70132758f63763dfa55d2ab,now we prohibit use of true jump argument in ngx.req.set_uri() in contexts other than rewrite_by_lua and rewrite_by_lua_file. a lua exception will be thrown if the context is incorrect.
agentzh,2011-10-16 11:00:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6ff491bd19fb61281abf97c3e9fcddbc4867b10e,6ff491bd19fb61281abf97c3e9fcddbc4867b10e,"now we change the ngx.req.set_uri() API a bit by changing the optional argument ""break_cycle"" to ""jump"". so now it will not trigger location jump by default (because ""jump"" argument is false by default) and in case ""jump"" is given true, the function will re-search locations and jump to the new location and never return."
agentzh,2011-10-16 03:08:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6be7dad6267554669c202d7993c6136824ab8b7f,6be7dad6267554669c202d7993c6136824ab8b7f,added more complex samples to the docs for ngx.req.set_uri().
agentzh,2011-10-16 02:31:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/89dcc5b8d3f3c29c7422f3c5dc0522b621abb7fd,89dcc5b8d3f3c29c7422f3c5dc0522b621abb7fd,"documented the new APIs ngx.req.set_uri() and ngx.req.set_uri_args(). thanks Vladimir Protasov (utros) and Nginx User for suggesting this feature in github issue #62 and the nginx mailing list, respectively."
agentzh,2011-10-16 02:07:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f72eb473cb81929c54abf649943ccf08bbe93fd8,f72eb473cb81929c54abf649943ccf08bbe93fd8,documented that rewrite phase Lua code will be skipped if location re-lookup is triggered by the standard ngx_rewrite module's rewrite directive. thanks Nginx User.
agentzh,2011-10-16 01:58:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/95faaaa2d4cef86d1aaed9e5ea2e7c53cdf0e2f7,95faaaa2d4cef86d1aaed9e5ea2e7c53cdf0e2f7,now we skip rewrite phase lua handlers altogether if ngx_rewrite's rewrite directive issue a location re-lookup by changing uris (but not including rewrite ... break).
agentzh,2011-10-16 01:31:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a2d115e652f028c3129b504b44a23cf6b9b821e0,a2d115e652f028c3129b504b44a23cf6b9b821e0,added more (passing) tests for ngx.req.set_uri and ngx.req.set_uri_args.
agentzh,2011-10-16 01:11:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2df39a9e1038c0000020aedf5fe453997cb4b638,2df39a9e1038c0000020aedf5fe453997cb4b638,now we implemented ngx.req.set_uri() and ngx.req.set_uri_args() to emulate ngx_rewrite's rewrite directive (without redirect or permanent modifiers).
agentzh,2011-10-15 23:00:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0bb8899566a55e43f2d3bfa3b4b9647b1e7acb11,0bb8899566a55e43f2d3bfa3b4b9647b1e7acb11,updated docs to reflect recent changes.
agentzh,2011-10-15 22:56:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/75f960b068db1010fec89f3860481dffa6fc811d,75f960b068db1010fec89f3860481dffa6fc811d,added constant ngx.HTTP_METHOD_NOT_IMPLEMENTED. thanks Nginx User.
agentzh,2011-10-15 06:40:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3c4b1ff31d1445f243a1083201881731f697e31c,3c4b1ff31d1445f243a1083201881731f697e31c,added one more (passing) test case.
agentzh,2011-10-13 12:38:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c5fbee750cdfefedca7703825a313c084af6293f,c5fbee750cdfefedca7703825a313c084af6293f,now we explicitly clear all the modules' contexts before calling ngx_http_named_location.
agentzh,2011-10-13 06:11:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0457ff206db5aebf6a7b01e762242b864dec8e15,0457ff206db5aebf6a7b01e762242b864dec8e15,more treatment of the previous fix.
agentzh,2011-10-13 03:29:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8f849641936b7df2262cab077c1b80821edb4065,8f849641936b7df2262cab077c1b80821edb4065,fixed the download page links in docs.
agentzh,2011-10-13 03:08:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e5b8c8f46e41a0d7a7735ac15b14da5369670b8c,e5b8c8f46e41a0d7a7735ac15b14da5369670b8c,bugfix: calling ngx.exec() to jump to a named location did not clear the context object of ngx_lua properly and might cause evil problems. thanks Nginx User.
agentzh,2011-10-12 10:20:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4c71768761e56a73cfab7801c22ce3b6718ae314,4c71768761e56a73cfab7801c22ce3b6718ae314,turned off the master mode.
agentzh,2011-10-12 10:04:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d5e1642083a88f38b3fc851f07d386abbab9fdac,d5e1642083a88f38b3fc851f07d386abbab9fdac,the first test case is passing!
agentzh,2011-10-11 09:51:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b77bf67fc7e8f46f1e987ca9dd92e68647ffb329,b77bf67fc7e8f46f1e987ca9dd92e68647ffb329,first cut on the shared dict feature.
agentzh,2011-10-09 08:00:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/65e475965153ff3fdf3b854484ac201084298812,65e475965153ff3fdf3b854484ac201084298812,updated docs to state that we work with nginx 1.0.8 and 1.1.5.
agentzh,2011-10-09 02:10:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/05fbec6439d656bc649be220a1e02bf91d7155bd,05fbec6439d656bc649be220a1e02bf91d7155bd,updated developer build script a bit.
agentzh,2011-10-02 19:09:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0ebffdfb4ca4940c9a62614099b8627485504c68,0ebffdfb4ca4940c9a62614099b8627485504c68,no longer set header hash to 1. use ngx_hash instead :)
agentzh,2011-10-01 18:40:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c3acd88c23422af0a03565033835ea06a9677222,c3acd88c23422af0a03565033835ea06a9677222,minor style fixes.
agentzh,2011-10-01 18:14:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8b586da4f02d988b641a84bea303456d8537ec7f,8b586da4f02d988b641a84bea303456d8537ec7f,"fixed regression in the last commit: we should hash the header key, not value."
agentzh,2011-10-01 17:52:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/32efa828b1ad228c1805f123096af6d82e6a3da6,32efa828b1ad228c1805f123096af6d82e6a3da6,"we should not set header->hash to 1, we should use ngx_hash_key_lc to generate it."
agentzh,2011-09-30 18:56:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4ad6d40e0d918feeea3ebffdfaeaf246f762548c,4ad6d40e0d918feeea3ebffdfaeaf246f762548c,updated .gitignore.
agentzh,2011-09-30 18:47:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bb2539bb5f0695ef498260817d8024675f09c850,bb2539bb5f0695ef498260817d8024675f09c850,now we properly support setting the Cache-Control response header via the ngx.header.HEADER interface.
agentzh,2011-09-29 07:42:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eac237f88c354d17c5b76aa3f77c0d5a92c57ce8,eac237f88c354d17c5b76aa3f77c0d5a92c57ce8,fixed a test case for HTTP 1.0 streaming output.
agentzh,2011-09-29 07:36:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3cbf39f3aa1eee37b3585246d8d144b08f92a7f7,3cbf39f3aa1eee37b3585246d8d144b08f92a7f7,"now for HTTP 1.0 requests, we disable the automatic full buffering mode if the user sets the Content-Length response header before sending out the headers. this allows streamming output for HTTP 1.0 requests if the content length can be calculated beforehand. thanks 李子义."
agentzh,2011-09-23 08:09:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/752be5db1f67605fce3a856dcd9a0a3b928bba76,752be5db1f67605fce3a856dcd9a0a3b928bba76,use lua_Number instead of lua_Integer for crc32 functions' return values because 32-bit signed integers are too short for the crc32 digest.
agentzh,2011-09-23 07:42:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0727d20dd5b325963d532cc059cc23ba579a2550,0727d20dd5b325963d532cc059cc23ba579a2550,documented the ngx.crc32_short and ngx.crc32_long methods.
agentzh,2011-09-23 07:40:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9e043c690a9d20d3c0a64082dcee1fd6c235b50f,9e043c690a9d20d3c0a64082dcee1fd6c235b50f,"exposes the CRC32 API of the Nginx core to the Lua land, in the form of the ngx.crc32_short and ngx.crc32_long methods. thanks @Lance."
agentzh,2011-09-22 16:01:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6800229f0070b1e26924cb5ce4f33ebc9319891f,6800229f0070b1e26924cb5ce4f33ebc9319891f,"documented the new feature that ngx.exec accepts a Lua table as its ""args"" argument value."
agentzh,2011-09-22 15:56:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fffdb93170d06401f18ba8bc4ddcf1d71bb4c4eb,fffdb93170d06401f18ba8bc4ddcf1d71bb4c4eb,turned off ddebug.
agentzh,2011-09-22 15:56:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2b625542dfd8d9e8c5f4a643b1b5de46659a871d,2b625542dfd8d9e8c5f4a643b1b5de46659a871d,"now ngx.exec() supports lua table as the second ""args"" argument value. thanks sexybabes."
agentzh,2011-09-22 15:29:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/60a8b4a6140fd70e35846e6606ab1ad15c61eec6,60a8b4a6140fd70e35846e6606ab1ad15c61eec6,documented the new ngx.headers_sent API.
agentzh,2011-09-22 15:23:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/47bee750d929475c19e244fef15e499263e71639,47bee750d929475c19e244fef15e499263e71639,implemented the ngx.headers_sent API to check if response headers are sent (by ngx_lua). thanks @hugozhu.
agentzh,2011-09-22 14:52:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ab61a0331c2f64e3930b451f89323c84067ce66d,ab61a0331c2f64e3930b451f89323c84067ce66d,renamed ngx_http_lua_patch.[ch] to ngx_http_lua_pcrefix.[ch].
agentzh,2011-09-22 14:44:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/319800188abba8562779711ae01e4088673c8059,319800188abba8562779711ae01e4088673c8059,even more refactoring of the lua hooks.
agentzh,2011-09-22 14:36:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8a1367756ba9e85b36cfb6651b55449829b31217,8a1367756ba9e85b36cfb6651b55449829b31217,more refactoring of the lua hooks.
agentzh,2011-09-22 10:00:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2684f5b0783c697645940b8422bd6fd3e1c26a96,2684f5b0783c697645940b8422bd6fd3e1c26a96,massive refactoring of the lua hooks.
agentzh,2011-09-22 07:34:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/87f360c9f3b2745b2c5c6558ee6769daf3cd5ac5,87f360c9f3b2745b2c5c6558ee6769daf3cd5ac5,fixed doc formatting issues.
agentzh,2011-09-22 07:31:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f5c7c9d1d9b79e8d860c22481fbbc1f2b938c7c8,f5c7c9d1d9b79e8d860c22481fbbc1f2b938c7c8,updated docs from wiki.
agentzh,2011-09-22 04:46:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/88b551d3da53810261bb75e62871b32de33e4a4e,88b551d3da53810261bb75e62871b32de33e4a4e,now we also return Last-Modified for the subrequest response object. thanks @cyberty and sexybabes.
agentzh,2011-09-22 04:16:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/259d378ddbbc08e55cc6802952b39cd0d1c5ef96,259d378ddbbc08e55cc6802952b39cd0d1c5ef96,refactored ngx_http_lua_wev_handler a bit to make it smaller.
agentzh,2011-09-21 15:11:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cd53678b39ccc2af0270fb7c6c39d558bfd5241f,cd53678b39ccc2af0270fb7c6c39d558bfd5241f,minor refactoring of the various lua hooks.
agentzh,2011-09-21 11:03:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7a5016e6b6b5a7363c7ce85f062c5860ed5f5320,7a5016e6b6b5a7363c7ce85f062c5860ed5f5320,"fixed an issue in ngx.redirect, ngx.exit, and ngx.exec: these function calls would be intercepted by Lua pcall/xpcall because they used lua exceptions. now they use lua yield just as ngx.location.capture. thanks @hugozhu for reporting this."
agentzh,2011-09-15 01:13:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f147ba4e9427844543d09184100092236458fc44,f147ba4e9427844543d09184100092236458fc44,rewording the doc for ngx.exit a bit.
agentzh,2011-09-15 01:04:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ac24af7f0ed0bd8c0c71be4b0eb1c5501baccdab,ac24af7f0ed0bd8c0c71be4b0eb1c5501baccdab,documented the way to output error pages with custom dynamic bodies in Lua. thanks rik1083.
agentzh,2011-09-14 07:15:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6c7e74fb6eb9b19b7b957876dfa123816ae07d32,6c7e74fb6eb9b19b7b957876dfa123816ae07d32,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2011-09-14 07:15:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0e2b7993bd9055a5fcbd9cc59a5cb2e34e0e6b4e,0e2b7993bd9055a5fcbd9cc59a5cb2e34e0e6b4e,enlarged a timeout setting for one of our test cases.
agentzh,2011-09-13 02:43:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/71993f12ae31fe469c5e6cca2074ec1bc486c0e6,71993f12ae31fe469c5e6cca2074ec1bc486c0e6,documented the reading ngx.header.HEADER feature.
agentzh,2011-09-12 14:50:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bdf56a9da95f95174fd6d5c539c67f895c95da6b,bdf56a9da95f95174fd6d5c539c67f895c95da6b,"* fixed a bug when setting a multi-value response header to a single
  value (via writing to ngx.header.HEADER): the single value will be
  repeated on each old value.
* added support for multi-values of reading ngx.header.HEADER.
* added more tests for reading non-existent response headers."
agentzh,2011-09-12 02:56:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b0c96e306d59885831e4f20e776e34b2e54ba81c,b0c96e306d59885831e4f20e776e34b2e54ba81c,simplified the ngx.header.HEADER reading logic. but multi-value headers are still not supported yet.
agentzh,2011-09-11 15:56:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/577de863d2683e3338b66ffee569ba988e832f00,577de863d2683e3338b66ffee569ba988e832f00,implemented reading response headers: VALUE = ngx.header.KEY.
agentzh,2011-09-11 14:59:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1a3b82be833b615fc1589837bfe79694c7beddfe,1a3b82be833b615fc1589837bfe79694c7beddfe,do not use ngx_flag_t in internal implementation. we use unsigned for boolean values consistently.
agentzh,2011-09-08 07:57:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/71fba5afbae3794b64e5ce56eb1d364ac44cecca,71fba5afbae3794b64e5ce56eb1d364ac44cecca,updated the documentation from wiki.nginx.org.
agentzh,2011-09-08 07:42:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8dc5c9bb101bea7aaea1189c46bac94c6afbd543,8dc5c9bb101bea7aaea1189c46bac94c6afbd543,fixed a bug when the both the main request and the subrequst are POST requests with a body: we should not forward the main request's Content-Length headers to the user subrequests. thanks 朱峰.
agentzh,2011-09-02 08:16:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dd0d4d0966c44732db4cf683dfb9834608f561fc,dd0d4d0966c44732db4cf683dfb9834608f561fc,releng work for v0.3.0.
liseen,2011-09-02 05:24:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7e997bbbd39c6baffdd7611c90aa1cb8e60b2b1f,7e997bbbd39c6baffdd7611c90aa1cb8e60b2b1f,added header_filter_by_lua test for config merge
liseen,2011-09-02 03:47:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9255687efee6f7c25e43ccecde3730a7997ad452,9255687efee6f7c25e43ccecde3730a7997ad452,added test for overriding header_filter_by_lua config
liseen,2011-09-02 03:04:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8924e72f1d11f34878715e994def5baadf18c592,8924e72f1d11f34878715e994def5baadf18c592,"fixed bug, header_filter_by_lua didn't worked in server or http config"
agentzh,2011-09-02 01:51:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/69da13b5dc52e0ca868d783e78daf086a4ccb310,69da13b5dc52e0ca868d783e78daf086a4ccb310,added more debugging outputs to the capture filters.
agentzh,2011-09-01 15:37:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5a14de4a43640f680d5bbe65ce6497133dccd0f8,5a14de4a43640f680d5bbe65ce6497133dccd0f8,updated valgrind.suppress for archlinux.
agentzh,2011-09-01 15:26:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/864bf02749d2adeaa9a6ab22466573dbf4c14733,864bf02749d2adeaa9a6ab22466573dbf4c14733,removed those ugly lua_package_cpath from the exit.t test files.
agentzh,2011-09-01 15:21:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8ef144d5c2ddd9d9c48285f703f3b05b49774391,8ef144d5c2ddd9d9c48285f703f3b05b49774391,now we use lua-cjson in our test suite instead of lua-yajl.
agentzh,2011-09-01 15:16:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/951420328d234df6a3200ba0a9936681938c0995,951420328d234df6a3200ba0a9936681938c0995,renamed 050-header-filter.t to 041-header-filter.t.
agentzh,2011-09-01 14:29:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4bdd1548921fc5f733e9259db86ac01f0c4d1dad,4bdd1548921fc5f733e9259db86ac01f0c4d1dad,fixed -Wunused-but-set-variable warnings issed by gcc 4.6.0.
agentzh,2011-09-01 13:16:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/97d6c28a20b8dea5c6730d97751dd3d1b22b3d30,97d6c28a20b8dea5c6730d97751dd3d1b22b3d30,fixed test plan in ndk.t.
agentzh,2011-09-01 11:51:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eb666c15b148903c44f60807f2435871b48206f7,eb666c15b148903c44f60807f2435871b48206f7,marked nginx APIs available in the context of header_filter_by_lua* in the docs.
agentzh,2011-09-01 11:47:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/644b1da68c73783188ab5cbc9b75f32f3fd9f2f8,644b1da68c73783188ab5cbc9b75f32f3fd9f2f8,added more tests for header_filter_by_lua (confirmed that various APIs are properly injected).
agentzh,2011-09-01 11:32:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/138064090cee63260f5a2a8a031866875ed07d7c,138064090cee63260f5a2a8a031866875ed07d7c,added a (passing) test for header_filter_by_lua_file.
agentzh,2011-09-01 10:34:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2b53d74b58df9adea56052ab162ac4ce5878717c,2b53d74b58df9adea56052ab162ac4ce5878717c,renamed the old filter.c to capturefilter.c.
agentzh,2011-09-01 10:24:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e4d00091abc48331bc34866fb77a526e8d62b78c,e4d00091abc48331bc34866fb77a526e8d62b78c,only register our capture header/body filters when relavant directives are actually used in nginx.conf.
agentzh,2011-09-01 09:56:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/010297e8f71b385323eedea9a2daff155fe3e4c5,010297e8f71b385323eedea9a2daff155fe3e4c5,Merge branch 'header_filter' of github.com:chaoslawful/lua-nginx-module into header_filter
agentzh,2011-09-01 09:56:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/13d8ffe6e7088d458b2db3258e7d0f48c9109b87,13d8ffe6e7088d458b2db3258e7d0f48c9109b87,now we initialize the ngx_http_lua_requires_header_filter in pre config handler.
liseen,2011-09-01 09:53:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7d01579b7d3915f6b13295fc08900e26fe6634ea,7d01579b7d3915f6b13295fc08900e26fe6634ea,Merge branch 'header_filter' of github.com:chaoslawful/lua-nginx-module into header_filter
liseen,2011-09-01 09:51:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/210b38348eae5d6fcae87638c1df568223c9d71d,210b38348eae5d6fcae87638c1df568223c9d71d,added more test for header_filter_by_lua
agentzh,2011-09-01 09:42:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e3ca6ee3a23e7a2da67e6b498796664f81b3f290,e3ca6ee3a23e7a2da67e6b498796664f81b3f290,Merge branch 'header_filter' of github.com:chaoslawful/lua-nginx-module into header_filter
agentzh,2011-09-01 09:41:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2a4a22d6f972d7fea071da033758c2384fd076dc,2a4a22d6f972d7fea071da033758c2384fd076dc,we will not register an access handler if nginx.conf does not use rewrite_by_lua* after HUP reload.
agentzh,2011-09-01 09:33:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/534dc1d9ac47c6b9f1ed0b7fb5084c2f22ca4dba,534dc1d9ac47c6b9f1ed0b7fb5084c2f22ca4dba,we will not register a rewrite handler if nginx.conf does not use rewrite_by_lua* after HUP reload.
liseen,2011-09-01 09:21:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f6cd4f54b8c00bc1be025348fdf52fe1890b18bc,f6cd4f54b8c00bc1be025348fdf52fe1890b18bc,added test for capture and header_filter_by
agentzh,2011-09-01 09:05:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/16606038d53e933ddf3844e71ba50d8fce5a6b6c,16606038d53e933ddf3844e71ba50d8fce5a6b6c,fixed some coding style issues.
agentzh,2011-09-01 09:03:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a7f05f3a5a22daec6b06e222003970e90c5149bd,a7f05f3a5a22daec6b06e222003970e90c5149bd,cleaned up the API registration code.
agentzh,2011-09-01 08:54:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/da21df069824abc29711d6e6a210466bf8daa080,da21df069824abc29711d6e6a210466bf8daa080,merged master into the header_filter branch.
agentzh,2011-09-01 08:48:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d8b5cff8147a4ee7b5fb549e612ff3e4550fde4d,d8b5cff8147a4ee7b5fb549e612ff3e4550fde4d,Merge branch 'master' into header_filter
agentzh,2011-09-01 08:46:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/02d5ac66ae3e93d28f8a2ebf236acacd2f01c8db,02d5ac66ae3e93d28f8a2ebf236acacd2f01c8db,refactored the Lua API injection code into groups.
liseen,2011-09-01 08:13:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0959786f191f3bc61ae80eb83f3817a13a9252eb,0959786f191f3bc61ae80eb83f3817a13a9252eb,added test for wrong lua code
liseen,2011-09-01 07:45:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4fa354eb2711f4c4276026b19824d0d26ac9662b,4fa354eb2711f4c4276026b19824d0d26ac9662b,Merge branch 'master' into header_filter
liseen,2011-09-01 07:30:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a5b756c4f9df932a039d24c42b983c373db58c3c,a5b756c4f9df932a039d24c42b983c373db58c3c,rename file name for ngx_links script
agentzh,2011-09-01 07:25:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/66fdc880f3dc35c1530a16e37e34465cd82f670c,66fdc880f3dc35c1530a16e37e34465cd82f670c,we should set the ctx->headers_sent flag after we have actually called ngx_http_send_header. this should pave a way to the new header_filter_by_lua* directives.
agentzh,2011-09-01 06:50:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c2cbbeac2f296bcb4ae327383fc65f585b839953,c2cbbeac2f296bcb4ae327383fc65f585b839953,fixed issues for HEAD requests.
agentzh,2011-09-01 05:57:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a1aae4b11499f725821ee06f710eef4269ed13cd,a1aae4b11499f725821ee06f710eef4269ed13cd,checked in util/build2.sh.
agentzh,2011-09-01 05:52:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/06edf2a0d696ef6a4892c37c06c40a031b0d33e1,06edf2a0d696ef6a4892c37c06c40a031b0d33e1,checked in util/build2.sh
liseen,2011-09-01 04:16:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f6fa44f609e3175d174121aebb01c54cac327ac9,f6fa44f609e3175d174121aebb01c54cac327ac9,return NGX_ERROR after run lua failed in header_filter_by_lua
liseen,2011-08-31 23:56:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f415f81869cd6f20af3a9b5f4030e88d83666954,f415f81869cd6f20af3a9b5f4030e88d83666954,go on next header filter when error found in header_by_filter
liseen,2011-08-31 15:02:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/89af708199a8d03f35f00866801a3808a16d3018,89af708199a8d03f35f00866801a3808a16d3018,fixed filter chain bug
liseen,2011-08-31 12:46:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2b1788528a4852cdf8a3531c4315cae6b8d68cb2,2b1788528a4852cdf8a3531c4315cae6b8d68cb2,added header_filter_by_lua command
agentzh,2011-08-28 05:13:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d41f205df3e4cdb8f404810a64dace915efa85ed,d41f205df3e4cdb8f404810a64dace915efa85ed,updated docs in markdown and plain text accordingly.
agentzh,2011-08-28 05:12:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0b733c4af00c20a08f366a60d668e688f591a46f,0b733c4af00c20a08f366a60d668e688f591a46f,"explicitly documented the ""ngx"" and ""ndk"" standard packages introduced by this module, which are also the Nginx API exposed to the Lua land by ngx_lua. also documented the (new) ability to explicitly require them in the user Lua code."
agentzh,2011-08-27 15:49:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4355225aa1962507ba18658033299d4473cc6020,4355225aa1962507ba18658033299d4473cc6020,fixed a small formatting nit in the docs.
agentzh,2011-08-27 15:24:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e91a6a050b08a8ccfada7b0d6a3876c03575cde,8e91a6a050b08a8ccfada7b0d6a3876c03575cde,"documented the new ""o"" regex option for the ngx.re.* API, as well as the new lua_regex_cache_max_entries directive."
agentzh,2011-08-27 13:44:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cc12d56e7a59280d65d8954a12f02f35b82925e2,cc12d56e7a59280d65d8954a12f02f35b82925e2,"now we add ""ngx"" and ""ndk"" table into package.loaded such that the user can write ""local ngx = require 'ngx'"" and ""local ndk = require 'ndk'"". thanks @Lance."
agentzh,2011-08-27 11:22:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f291379d756bb066d57ff52280f85376356bd03d,f291379d756bb066d57ff52280f85376356bd03d,checked in t/040-gsub-o.t.
agentzh,2011-08-27 11:21:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/09afd869f93a9265774a74d7d1f25ecf1a6e90bb,09afd869f93a9265774a74d7d1f25ecf1a6e90bb,fixed compilation errors while bulding nginx without --with-debug; splitted source lines exceeding 80 cols.
agentzh,2011-08-27 11:04:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/59eba8b24ee33df468d14b5a59b0a6a98b9ff2e5,59eba8b24ee33df468d14b5a59b0a6a98b9ff2e5,"implemented the ""o"" regex option for ngx.re.sub()."
agentzh,2011-08-27 08:04:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1f1b0f0f8f5d104d9b56e25fde317a417a94350d,1f1b0f0f8f5d104d9b56e25fde317a417a94350d,"implemented the ""o"" option for ngx.re.gmatch, so as to cache compiled regexes."
agentzh,2011-08-27 05:11:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/108cca013ddaee7a296c71501d3da00758c582d4,108cca013ddaee7a296c71501d3da00758c582d4,"implemented lua_regex_cache_max_entries directive to control the upper limit of the global regex cache size. when the user lua code is exceeding the regex cache, it will revert to non-compile-once mode and print out a warning to error.log"
agentzh,2011-08-27 03:39:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5d887904cc04d6d202c26023e6b4d891420ed911,5d887904cc04d6d202c26023e6b4d891420ed911,added debugging outputs by ngx_log_debugN for ngx.re.match.
agentzh,2011-08-27 02:33:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e90a5a550d97fdfdce514c1cc0be76df294b50cb,e90a5a550d97fdfdce514c1cc0be76df294b50cb,"implemented the ""o"" regex option (i.e., the compiled-regex cache) for ngx.re.match()."
agentzh,2011-08-26 08:49:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2097cef560d5ab5ebb45e964270f0e232f09f3ed,2097cef560d5ab5ebb45e964270f0e232f09f3ed,"Revert ""bumped the version number.""

This reverts commit de284ea913dade2708569b2498f7670929726897."
agentzh,2011-08-26 08:47:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/de284ea913dade2708569b2498f7670929726897,de284ea913dade2708569b2498f7670929726897,bumped the version number.
agentzh,2011-08-26 08:44:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6381eba76da20ae5b5dc022baff8bfbd19136abc,6381eba76da20ae5b5dc022baff8bfbd19136abc,splitted source lines exceeding 80 cols and also updated the docs from the wiki page.
agentzh,2011-08-26 08:41:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/75a9a0dbf6dc36b51a2e16f309ab426e90f2fd81,75a9a0dbf6dc36b51a2e16f309ab426e90f2fd81,Merge branch 'regex'
agentzh,2011-08-26 08:40:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/91f12efcfec56b174cdf085b3043abcecd1f3fa2,91f12efcfec56b174cdf085b3043abcecd1f3fa2,fixed a bug in the ngx.re regex API that look-behind assertions in PCRE regexes did not work properly.
agentzh,2011-08-26 01:57:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3ef84e0f8e1f0d2e2ce37cdaf4651baf1b2d64b8,3ef84e0f8e1f0d2e2ce37cdaf4651baf1b2d64b8,updated docs to reflect recent changes.
agentzh,2011-08-26 01:51:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e92921609f7398e08b9198ccf58e3c0e53c06b25,e92921609f7398e08b9198ccf58e3c0e53c06b25,now we enable ngx.re.* regex API in set_by_lua* too :)
agentzh,2011-08-26 01:38:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9eda6ccc782ffcb5fa415414f3e60259f09190bb,9eda6ccc782ffcb5fa415414f3e60259f09190bb,minor tweaks of the tests.
agentzh,2011-08-25 11:16:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/16aa083ca9fee8f3ab8e7a8b629f1c9e833f2bb3,16aa083ca9fee8f3ab8e7a8b629f1c9e833f2bb3,fixed < and > symbols in the markdown docs.
agentzh,2011-08-25 04:46:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3ce0b7a24136510da3475174c55eac3c144dea19,3ce0b7a24136510da3475174c55eac3c144dea19,updated links in the doc.
agentzh,2011-08-25 04:46:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e0b45fe69eb48f2db48782608d296e2792bb7ffc,e0b45fe69eb48f2db48782608d296e2792bb7ffc,use HttpBlahModule instead of NginxHttpBlahModule in the doc.
agentzh,2011-08-25 04:45:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7f09f235a82848325582e5d5c376845b86d24679,7f09f235a82848325582e5d5c376845b86d24679,renamed the wiki file.
agentzh,2011-08-24 16:30:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/39556de949498d32787450409a737f01d5cac493,39556de949498d32787450409a737f01d5cac493,fixed issues found by gcc 4.6 -Wunused-but-set-variable warnings.
agentzh,2011-08-24 15:31:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f3653cede900bb57dd8095ee6fee0a1931decca3,f3653cede900bb57dd8095ee6fee0a1931decca3,fixed github issue #52: compile error with nginx 1.0.5 on Ubuntu natty.
agentzh,2011-08-24 09:53:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/188cd41039aed4de801eff17d423db21d477f7cf,188cd41039aed4de801eff17d423db21d477f7cf,documented the new ngx.re.gsub function.
agentzh,2011-08-24 09:36:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9c6595514cb4d76340842ada0cac6a99c705ca64,9c6595514cb4d76340842ada0cac6a99c705ca64,splitted source lines exceeding 80 cols.
agentzh,2011-08-24 09:34:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bd8e4a1fed475851b0ef33fbd9b6efb236dc5b9f,bd8e4a1fed475851b0ef33fbd9b6efb236dc5b9f,implemented the ngx.re.gsub method.
agentzh,2011-08-24 04:44:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2be93496f7fd115c415d143a73bc367979ac41a2,2be93496f7fd115c415d143a73bc367979ac41a2,"documented the optional ""ctx"" table argument to ngx.re.match."
agentzh,2011-08-24 04:16:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/53574fba94101a7952bce64c4ac80f0752b09e96,53574fba94101a7952bce64c4ac80f0752b09e96,added support for the ctx argument to ngx.re.match.
agentzh,2011-08-24 03:37:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b73bb88a97aee70ce41d4233de1fa160a4766f12,b73bb88a97aee70ce41d4233de1fa160a4766f12,refactored the code a bit and introduced auxiliary function ngx_http_lua_ngx_re_parse_opts.
agentzh,2011-08-23 16:29:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a713340e9ba79bba07f4d3071b942b0a02c69da0,a713340e9ba79bba07f4d3071b942b0a02c69da0,documented the new ngx.re.sub method.
agentzh,2011-08-23 15:53:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6be0d9ceadee71de4b1cefa7adb18ae24390b753,6be0d9ceadee71de4b1cefa7adb18ae24390b753,"now we support function to be passed as the ""replace"" argument to ngx.re.sub()."
agentzh,2011-08-23 12:46:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4a497814c21a633581b6a703e6490fd6c64a3615,4a497814c21a633581b6a703e6490fd6c64a3615,"added support for anchored match modifer ""a"" to ngx.re.match, ngx.re.gmatch, and ngx.re.sub."
agentzh,2011-08-23 11:20:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/10609bced612e058f914371003838a3fad36bd22,10609bced612e058f914371003838a3fad36bd22,"implemented ngx.re.sub(subj, regex, repl, opts?) method for PCRE regex subsitution. now a template scripting language is supported in the ""repl"" argument, for example, ""$0: $1"". ""repl"" does not support lua function yet."
agentzh,2011-08-19 04:59:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/14c0f0e0ccd4af2cfa5491009f5db66ed278035a,14c0f0e0ccd4af2cfa5491009f5db66ed278035a,refactored logging related APIs to a separate C compilation unit.
agentzh,2011-08-19 04:53:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9d842d0f53e07797568858be7cdf0193ac5fb009,9d842d0f53e07797568858be7cdf0193ac5fb009,minor code refactoring.
agentzh,2011-08-19 04:52:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d32ab9731f8f1397fce68fcc6d8a77b720c5f3b5,d32ab9731f8f1397fce68fcc6d8a77b720c5f3b5,refactored subrequest related APIs to a separate C compilation unit.
agentzh,2011-08-19 04:39:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/da18e0b4c821c44ec411683bbeb8abcf0e767550,da18e0b4c821c44ec411683bbeb8abcf0e767550,refactored code for NDK related APIs to a separate C compilation unit.
agentzh,2011-08-19 04:32:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2c862bb01272719d51a347f772cbbb21981e428d,2c862bb01272719d51a347f772cbbb21981e428d,checked in missing files.
agentzh,2011-08-19 04:31:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a35f8213b2c4d0d8914b584620228a7c87cf3c9c,a35f8213b2c4d0d8914b584620228a7c87cf3c9c,refactored code for redirect related APIs to a separate C compilation unit.
agentzh,2011-08-19 04:27:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/799bd9dff36568af5f65ad9a2d70d131d7ab6a8f,799bd9dff36568af5f65ad9a2d70d131d7ab6a8f,refactored code for time related APIs to a separate C compilation unit.
agentzh,2011-08-19 04:14:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a6c779c8a99f987285fd2deebc673c43705224d2,a6c779c8a99f987285fd2deebc673c43705224d2,refactored code for echo related APIs to a separate C compilation unit.
agentzh,2011-08-19 03:11:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ef08db33c2efdd98df66d209b0fd2a8fa55eae42,ef08db33c2efdd98df66d209b0fd2a8fa55eae42,refactored code for headers related APIs to a separate C compilation unit.
agentzh,2011-08-19 02:59:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/791ef6cd2384a03c2bfc7d383910c30765e3f8f3,791ef6cd2384a03c2bfc7d383910c30765e3f8f3,refactored the ngx.req.get_*_args API to a seperate C compilation unit.
agentzh,2011-08-19 02:50:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e2560a43a6af8c4c214641145c00294a429c2037,e2560a43a6af8c4c214641145c00294a429c2037,refactored the ngx.ctx API to a seperate C compilation unit.
agentzh,2011-08-19 02:45:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bd41801bcf958f9164e4e3ac94a0eb680281a475,bd41801bcf958f9164e4e3ac94a0eb680281a475,refactored the ngx.re API to a seperate C compilation unit.
agentzh,2011-08-18 12:45:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cafd7842ffde7164d559755bd4ce1ce4d8c5dce8,cafd7842ffde7164d559755bd4ce1ce4d8c5dce8,documented the ngx.re.gmatch interface.
agentzh,2011-08-18 11:54:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/aa747edf65d3b497cd4ca50c3423922aa83c4959,aa747edf65d3b497cd4ca50c3423922aa83c4959,fixed a memory bug in ngx.re.gmatch(); also added more tests.
agentzh,2011-08-18 11:32:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8be276db7d8395432384f91e3214715f06cecba0,8be276db7d8395432384f91e3214715f06cecba0,first cut on the ngx.re.gmatch() implementation. the first test case is passing now :)
agentzh,2011-08-16 15:58:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bf52ee08be0e7f59886dc6c0e8d9135afcda068c,bf52ee08be0e7f59886dc6c0e8d9135afcda068c,"documented the new ngx.re.match() API; fixed unmatched subpattern capturing (we should return nil instead of """" here); only enable ngx.re.match when PCRE is enabled in the nginx core."
agentzh,2011-08-16 12:39:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8f021621f2c527df5d2a03023093485edd775600,8f021621f2c527df5d2a03023093485edd775600,checked in the first version of the ngx.re.match() regex API implementation.
agentzh,2011-08-16 06:22:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f4f4b62967cd4e528e2ba21664659d10a74c37bc,f4f4b62967cd4e528e2ba21664659d10a74c37bc,sync'd docs from the nginx wiki page.
agentzh,2011-08-16 03:27:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dca8a24b7fe6e84bd109182a9dac2a2a998b5076,dca8a24b7fe6e84bd109182a9dac2a2a998b5076,made setting ngx.header.HEADER after sending out response headers throw out a Lua exception to help debugging issues like github issue #49. thanks Bill Donahue (ikhoyo).
agentzh,2011-08-15 07:32:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/24772d3f7270a277b0cfadd52244173abaeb6487,24772d3f7270a277b0cfadd52244173abaeb6487,sync'd docs from the nginx wiki.
agentzh,2011-08-15 07:26:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c2f3d0edc2ea832b85e9e520dc077cdb26c5ed39,c2f3d0edc2ea832b85e9e520dc077cdb26c5ed39,fixed special char escaping in internal cross links in README.markdown.
agentzh,2011-08-15 07:20:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d3800ccf238252c5555b4b8c347589a416067343,d3800ccf238252c5555b4b8c347589a416067343,added internal cross-links to README.markdown.
agentzh,2011-08-15 06:22:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/982c664f58c1c4fd1510146dfc91ce24cdedec9b,982c664f58c1c4fd1510146dfc91ce24cdedec9b,fixed links in README.markdown.
agentzh,2011-08-15 06:17:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fba615a89a79e5e50f4c9242e939e4766d85b84a,fba615a89a79e5e50f4c9242e939e4766d85b84a,added more hyper-links to docs.
agentzh,2011-08-15 06:10:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ccec92f6c577fd79673192edc2ded40431fc1940,ccec92f6c577fd79673192edc2ded40431fc1940,added hyper-links to NginxHttpBlahModule tags.
agentzh,2011-08-15 06:09:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e6f3425f8fe3e7daae38c8ee3f6c5219b20435ba,e6f3425f8fe3e7daae38c8ee3f6c5219b20435ba,massive doc improvements.
agentzh,2011-08-15 01:32:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/94c51becfeadbb5f115910d5b7feec8cce1fedc3,94c51becfeadbb5f115910d5b7feec8cce1fedc3,added two samples tiddlers on openresty.org to the See Also section in the doc.
agentzh,2011-08-15 00:55:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9ca18712e9bff4e874e591f501f277236c9f0842,9ca18712e9bff4e874e591f501f277236c9f0842,fixed formatting issues in README.markdown.
agentzh,2011-08-15 00:52:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/89cdf6e7f97418150afd1a89c99e9c97e7ecb85f,89cdf6e7f97418150afd1a89c99e9c97e7ecb85f,updated README.markdown.
agentzh,2011-08-15 00:33:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/82cab4e247da6913ff79265ed9e006019fdbe0dc,82cab4e247da6913ff79265ed9e006019fdbe0dc,updated docs from wiki.
agentzh,2011-08-14 15:21:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/507c1083117f45f2a3a0d9996a9fd41731ade447,507c1083117f45f2a3a0d9996a9fd41731ade447,now we generate README.markdown from doc/manual.wiki.
agentzh,2011-08-14 14:55:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3659ede6800627291ab112e234381bb0ef690e33,3659ede6800627291ab112e234381bb0ef690e33,more formatting improvements.
agentzh,2011-08-14 14:41:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1d13a1ca27cc9dfc10970d54e51b1fe5795f1036,1d13a1ca27cc9dfc10970d54e51b1fe5795f1036,try markdown links.
agentzh,2011-08-14 14:31:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d49e3fe4099c490dbddef497c8ed315343db70e9,d49e3fe4099c490dbddef497c8ed315343db70e9,fixed more formatting issues.
agentzh,2011-08-14 14:00:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd0ef5bb1e78c20ab98e63b23d7b713b1ee83e8e,fd0ef5bb1e78c20ab98e63b23d7b713b1ee83e8e,more README formatting fixes.
agentzh,2011-08-14 11:48:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dea32100cc8e9527ad53b8e7ee8a8ef0f69f1c3b,dea32100cc8e9527ad53b8e7ee8a8ef0f69f1c3b,even more formatting fixes.
agentzh,2011-08-14 11:44:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3048d74cd8b061bfe82b3921d15a0d13852d1199,3048d74cd8b061bfe82b3921d15a0d13852d1199,more formatting fixes.
agentzh,2011-08-14 11:40:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3565203544c45eeeedd6a5d0b1cdf031f2cdff10,3565203544c45eeeedd6a5d0b1cdf031f2cdff10,more formatting fixes in the wiki doc.
agentzh,2011-08-14 11:03:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d88e97af4f89f1f412be8bfc329c23ed585024a7,d88e97af4f89f1f412be8bfc329c23ed585024a7,udpated docs.
agentzh,2011-08-14 10:54:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/05956d68e614ee8d3fd80f5409ce764194ece566,05956d68e614ee8d3fd80f5409ce764194ece566,updated doc/manual.wiki accordingly.
agentzh,2011-08-14 10:53:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2871af3845d62a5530834a421e207093121f2f81,2871af3845d62a5530834a421e207093121f2f81,more README tweaks.
agentzh,2011-08-14 10:50:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dce23b6c1fda94f5996bc3214ffb64823f995faf,dce23b6c1fda94f5996bc3214ffb64823f995faf,updated manual.wiki.
agentzh,2011-08-14 10:43:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/205506be95a0b6bb6672688d645f7365dd239f02,205506be95a0b6bb6672688d645f7365dd239f02,more README love.
agentzh,2011-08-14 10:42:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7a2ee2e9e7bcc84a9ab4045e916e63afd6711b72,7a2ee2e9e7bcc84a9ab4045e916e63afd6711b72,massive README updates.
agentzh,2011-08-14 10:23:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4372290055692f345897a8861398ee1976e7c775,4372290055692f345897a8861398ee1976e7c775,some cross-link love.
agentzh,2011-08-14 10:18:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/62b0e84d6d7d7187712910e5851d0cffa4ca6be4,62b0e84d6d7d7187712910e5851d0cffa4ca6be4,checked in doc/manual.wiki.
agentzh,2011-08-14 10:06:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f3a628ab2e5215868f310e4cc1d337b90f40b328,f3a628ab2e5215868f310e4cc1d337b90f40b328,updated README.markdown to ease converting to wiki. also checked in doc/manual.wiki.
agentzh,2011-08-14 05:07:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5d318deafd747bb642ccdacb5d51c8794bf4bacc,5d318deafd747bb642ccdacb5d51c8794bf4bacc,updated docs to reflect recent changes.
agentzh,2011-08-14 05:06:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c43294e8bc6c2a847ff44a7da9681a9d164a0e8f,c43294e8bc6c2a847ff44a7da9681a9d164a0e8f,now ngx.ctx = {...} assignment is also supported.
agentzh,2011-08-14 03:24:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fc44ddb7b55f59a906ba7e641e6a1c8a6fe2ae7b,fc44ddb7b55f59a906ba7e641e6a1c8a6fe2ae7b,fixed a typo in README found by 万珣新.
agentzh,2011-08-13 10:29:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4b93450884f6d158706f181655429416a237b0e6,4b93450884f6d158706f181655429416a237b0e6,"documented the ngx.ctx ""magic table""; also checked in the tests for ngx.ctx."
agentzh,2011-08-13 08:52:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f26d17a89ed040289a92d5dfcd104cd35ee292dc,f26d17a89ed040289a92d5dfcd104cd35ee292dc,fixed a memory leak when setting ngx.ctx and later doing an ngx.exec() internal redirect.
agentzh,2011-08-13 07:56:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cfa5eb77258659750a9c04c0d8f174290740bce6,cfa5eb77258659750a9c04c0d8f174290740bce6,added lots of ngx_log_debugN invocations; completed the first run of the ngx.ctx implementation (still buggy).
agentzh,2011-08-13 03:41:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/445c7309b227a058d2d51726d380111f7eb69f53,445c7309b227a058d2d51726d380111f7eb69f53,minor edits in the tests.
agentzh,2011-08-12 14:14:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/302edda8612beb64e74db01fe455c7e6e438f9d4,302edda8612beb64e74db01fe455c7e6e438f9d4,added tests for outputing lua tables.
agentzh,2011-08-12 10:21:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/98804091510908c4da047bd343a1a33e5b3846ad,98804091510908c4da047bd343a1a33e5b3846ad,now ngx.print/ngx.say allow (nested) array-like table arguments. the array elements in them will be sent piece by piece. this will avoid string concatenation for templating engines like ltp.
agentzh,2011-08-12 07:54:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d9f68ec6aafc3f8fd1ee36c7a4cdce961e510131,d9f68ec6aafc3f8fd1ee36c7a4cdce961e510131,updated tests to reflect recent changes; also updated README to require identical values in client_max_body_size and client_body_buffer_size when turning lua_need_request_body on.
agentzh,2011-08-12 07:02:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cf52bc17a2db40027af703781b4605a66671f46a,cf52bc17a2db40027af703781b4605a66671f46a,renamed ngx.req.get_query_args to ngx.req.get_uri_args; the old ngx.req.get_query_args is now deprecated.
agentzh,2011-08-12 06:53:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5b2eb9633278d4a97068e68011901d82114c74ac,5b2eb9633278d4a97068e68011901d82114c74ac,documented that lua_need_request_body is required to be turned on for ngx.req.get_post_args().
agentzh,2011-08-12 06:51:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bd6e57214878a0d26fcd6271271e41d424df3cf8,bd6e57214878a0d26fcd6271271e41d424df3cf8,documented the ngx.req.get_post_args() method in README.
agentzh,2011-08-12 06:36:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8de549eab3f278969d88a0cf7fa55a2bbe73e925,8de549eab3f278969d88a0cf7fa55a2bbe73e925,added tests for ngx.req.get_post_args().
agentzh,2011-08-12 06:31:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f2ad70e1b74dfd4c62acf2959553e944daeb7b81,f2ad70e1b74dfd4c62acf2959553e944daeb7b81,implemented the ngx.req.get_post_args() method for Lua.
agentzh,2011-08-12 03:35:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c8c75c35e6f6eb62391ea9cef053eaafcd3b8c53,c8c75c35e6f6eb62391ea9cef053eaafcd3b8c53,fixed a bug in ngx.req.get_query_args(): args requiring unescaping could corrupt r->args buffer.
agentzh,2011-08-12 01:42:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0e03a44146c377748bc50b06d83e1b2a23e4dcac,0e03a44146c377748bc50b06d83e1b2a23e4dcac,updated docs to reflect recent changes in print() and ngx.log().
agentzh,2011-08-12 01:41:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/10aea81c8bdc6b7b08e8a44d47b427322c2a55f3,10aea81c8bdc6b7b08e8a44d47b427322c2a55f3,now we also allow Lua booleans and nils in arguments to ngx.log() and print().
agentzh,2011-08-12 00:59:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/44182153f3553bbd0384736a5495ee23a0a997ce,44182153f3553bbd0384736a5495ee23a0a997ce,documented the ngx.req.get_query_args method. this new interface resolves github issue #15. thanks Bertrand Mansion (golgote).
agentzh,2011-08-11 15:35:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5f0744c1505d43c18cf4ed3859b3c2b9f8edeaa3,5f0744c1505d43c18cf4ed3859b3c2b9f8edeaa3,now we support multi-value keys in ngx.req.get_query_args().
agentzh,2011-08-11 12:36:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2502bdcd00c481e23dae751ecaabdf54744eff61,2502bdcd00c481e23dae751ecaabdf54744eff61,now we allow boolean and nil values as args to ngx.print/ngx.say; also done the first cut on the ngx.req.get_query_args() API.
agentzh,2011-08-08 13:59:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/db34dab6b2ccb06cdbf85ba5521196f56b66f802,db34dab6b2ccb06cdbf85ba5521196f56b66f802,updated valgrind.suppress according to nginx 1.0.5.
agentzh,2011-08-07 13:47:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/52d265b024aaa06eeb0d40403e095cdd3c62a3dd,52d265b024aaa06eeb0d40403e095cdd3c62a3dd,reverted bad commits.
agentzh,2011-08-07 13:45:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e31406fa1cf792ceea305f495f78ae8ec1998dcf,e31406fa1cf792ceea305f495f78ae8ec1998dcf,"worked-around the ""stack overflow"" issue while using luarocks.loader and disabling lua_code_cache, as described as github issue #27. thanks Patrick Crosby."
agentzh,2011-08-07 13:44:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f2fbc1f2412f99d0873f75cd3fc44c0a8a74ba76,f2fbc1f2412f99d0873f75cd3fc44c0a8a74ba76,"worked-around the ""stack overflow"" issue while using luarocks.loader and disabling lua_code_cache, as described as github issue #27. thanks"
agentzh,2011-08-07 13:44:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d40eb065e859d0627c986d238705d3cdab462a33,d40eb065e859d0627c986d238705d3cdab462a33,"worked-around the ""stack overflow"" issue while using luarocks.loader and disabling lua_code_cache, as described as github issue #27. thanks"
agentzh,2011-08-05 09:52:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/281f7487fb3fe8a440aaa10cbcd842d1b7e8955f,281f7487fb3fe8a440aaa10cbcd842d1b7e8955f,"we should have returned NGX_DONE instead of NGX_DECLINED when waiting for more request body at rewrite and access phases. this should fix the ""zero size buf"" alert while combining lua_need_requesty_body on + access_by_lua/rewrite_by_lua + proxy_pass/fastcgi_pass. thanks 万珣新."
agentzh,2011-07-28 06:37:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1cf8f4fa64d63a8676acda248cd4e9d4b11bcf7b,1cf8f4fa64d63a8676acda248cd4e9d4b11bcf7b,minor coding style fixes.
agentzh,2011-07-21 15:47:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e06c869a01bc0d11d25f4c1705da752ee6ba7a8d,e06c869a01bc0d11d25f4c1705da752ee6ba7a8d,fixed the support for macros LUA_DEFAULT_PATH and LUA_DEFAULT_CPATH: we get these custom paths work even when the config directives lua_package_path or lua_package_cpath are not used at all.
agentzh,2011-07-21 09:46:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/65f178f59899c1296604b54fd7c3270e0532cbe4,65f178f59899c1296604b54fd7c3270e0532cbe4,documented the ngx.parse_http_time() method. thanks James Hurst.
agentzh,2011-07-21 09:43:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/35928187691aacf121c4bb6e2dcb362e548dd36a,35928187691aacf121c4bb6e2dcb362e548dd36a,"polished the implementation of ngx.cookie_time, ngx.http_time, and ngx.parse_http_time a bit: removed request object fetching code because we never use it and also added code to test NGX_ERROR returned by ngx_http_parse_time (we return nil in that case)."
agentzh,2011-07-21 09:29:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2fbc16dba664922518bd5eb6f9df212cd3ae944d,2fbc16dba664922518bd5eb6f9df212cd3ae944d,Merge remote-tracking branch 'pintsized/master' into devel
agentzh,2011-07-21 04:03:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/243eb9e5b4de28c166a5cfea9d30f8bbcf6c9f2e,243eb9e5b4de28c166a5cfea9d30f8bbcf6c9f2e,added support for user C macros LUA_DEFAULT_PATH and LUA_DEFAULT_CPATH. for now we can only define them in ngx_lua's config file because nginx configure's --with-cc-opt option hates values with double quotes in them. sigh.
pintsized,2011-07-20 14:39:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2d285e9830471d3a6e75a137f48e5d65c9f6af35,2d285e9830471d3a6e75a137f48e5d65c9f6af35,Added ngx.parse_http_time()
pintsized,2011-07-20 14:24:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dc3fa1cd182696443f90d6a90e8edcf2549cd156,dc3fa1cd182696443f90d6a90e8edcf2549cd156,Added ngx.parse_http_time()
agentzh,2011-07-14 03:42:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a2eb4c6b987de068946b6a59be80b9f987ee574f,a2eb4c6b987de068946b6a59be80b9f987ee574f,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2011-07-13 14:00:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0457c06c040aa9127f98597a950bc32d40f30cd7,0457c06c040aa9127f98597a950bc32d40f30cd7,fixed an issue regarding defining global variables in C header files: we should have defined the global ngx_http_lua_exception in a single compilation unit. thanks @姜大炮.
agentzh,2011-07-05 05:36:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9b65b671458d953ed2fba1af7bee16a03b8d769f,9b65b671458d953ed2fba1af7bee16a03b8d769f,fixed the date in the Changes file.
agentzh,2011-07-05 05:34:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/96f72bd3d302458f8ee8b0de7f65f9930e174da4,96f72bd3d302458f8ee8b0de7f65f9930e174da4,fixed a source line exceeding 80 cols.
agentzh,2011-07-05 05:28:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e7d37eb9990d5a0c18a41aec452aef8012acd6a,8e7d37eb9990d5a0c18a41aec452aef8012acd6a,checked in the Changes file.
agentzh,2011-07-05 05:15:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4dffb3cea427cdaf81d7c794185a966ed713d99e,4dffb3cea427cdaf81d7c794185a966ed713d99e,removed the limitation that we cannot capture subrequests with internal redirects from the doc.
agentzh,2011-07-04 11:15:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5cd3b677b6161773e4b9fe0b7a22d809f480fa58,5cd3b677b6161773e4b9fe0b7a22d809f480fa58,"documented setting nginx special variables $limit_rate/$args, and reading special variables $1, $2, $3, and etc."
agentzh,2011-07-04 10:19:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/31bcaa821c97215115cc1cd4ee723e5a3b19db6c,31bcaa821c97215115cc1cd4ee723e5a3b19db6c,ensure that we can compile when pcre is disabled in the nginx build.
agentzh,2011-07-04 09:34:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/95528f51141d7b6ce9071f849820d0a900b3e4e0,95528f51141d7b6ce9071f849820d0a900b3e4e0,Merge branch 'devel'
agentzh,2011-07-04 04:37:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c808ce7c3769c3da622bb05767a0006190801c0f,c808ce7c3769c3da622bb05767a0006190801c0f,Merge branch 'devel2' into devel
agentzh,2011-07-03 15:32:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7c835bde1afd5b607b6a173654fafa69035c5b14,7c835bde1afd5b607b6a173654fafa69035c5b14,"now we support ngx.var[1], ngx.var[2], and etc to refer to the nginx
regex capturing variables \$1, \$2, and etc in Lua. this resolved github
issue #43. thanks Tobia Conforto for reporting it."
agentzh,2011-07-03 14:10:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a28d67ad06a1ed8b3a8973b4343bb791dd942ea9,a28d67ad06a1ed8b3a8973b4343bb791dd942ea9,minor test suite refactoring.
agentzh,2011-07-03 14:07:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/40e8a644f2176fe8ae8a7b1ed518100f72f81f3b,40e8a644f2176fe8ae8a7b1ed518100f72f81f3b,"now we use the same value overriding mechanism as ngx_rewrite's set
command for ngx.var.VAR = new_value. Assigning values to special
variables like $limit_rate and $args should now work; also writing to
built-in variables that are not changeable (like $arg_PARAMETER) will
result in a 500 error page, as expected, now. thanks Richard Kearsley
for reporting it."
agentzh,2011-06-30 13:35:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3d1ec74e8854231be19eb497d018e53c51afb19d,3d1ec74e8854231be19eb497d018e53c51afb19d,fixed the lua_code_cache off warning when the lua_code_cache is explicitly on. thanks Feng Xingguo.
agentzh,2011-06-30 10:55:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9d47445743ddf7a0fc2b0b132560688217f3de6d,9d47445743ddf7a0fc2b0b132560688217f3de6d,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2011-06-30 10:51:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9ff893ff83937b7637c68900e7ac86ba6c2af316,9ff893ff83937b7637c68900e7ac86ba6c2af316,applied the patch from cyberty to add ngx.http_time() function to expose the nginx core function ngx_http_time to the Lua land.
agentzh,2011-06-30 10:51:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e76765ae72f17da835e969856f2ad06b7dc6632,8e76765ae72f17da835e969856f2ad06b7dc6632,applied the patch from Feng Xinguo (@cyberty) to add ngx.http_time() function to expose the nginx core function ngx_http_time to the Lua land.
agentzh,2011-06-29 07:28:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dcdcf87ca26d19a061023d44160f602e21ea6563,dcdcf87ca26d19a061023d44160f602e21ea6563,confirmed that we work with nginx 1.0.4.
agentzh,2011-06-28 04:23:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ef3605b130419fa05ab590e583590cf6f151d45a,ef3605b130419fa05ab590e583590cf6f151d45a,updated the ngx_openresty bundle link to openresty.org.
agentzh,2011-06-24 12:03:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ae7b7b8d1fff40f64377d344091662726812384b,ae7b7b8d1fff40f64377d344091662726812384b,we should have used off_t consistently. mixing it with size_t can cause Bad Things. this should have fixed github issue #42.
agentzh,2011-06-24 11:18:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f39821aaa476189835644d4124948374ff0cea43,f39821aaa476189835644d4124948374ff0cea43,fixed a formatter mismatch issue in ngx_http_echo_adjust_subrequest. thanks 王斌.
agentzh,2011-06-16 13:02:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1fa2e121ed258ad47c18a1f930e65210a09255a4,1fa2e121ed258ad47c18a1f930e65210a09255a4,added two passing tests for setting content-type response header with a charset.
agentzh,2011-06-16 10:07:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bcb1f2c1c6fb15069f9db0a6d5c9300a3f634569,bcb1f2c1c6fb15069f9db0a6d5c9300a3f634569,suppressed one more valgrind false-alarm for nginx 1.0.x.
agentzh,2011-06-16 09:46:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c52525b3a16117b0950132f401c23f05e6d9b5ab,c52525b3a16117b0950132f401c23f05e6d9b5ab,"now in the subrequest capturing processor, we worked around an issue in ngx_http_static_module that when it issues 301 redirect for directory access w/o a trailing slash, it does not inject r->headers_out.location into the r->headers_out.headers list. thanks moodydeath for reporting it in the discussion of github issue #41."
agentzh,2011-06-16 05:37:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b9a84fc3a90bd7392feeeff2facee6e33094e498,b9a84fc3a90bd7392feeeff2facee6e33094e498,"fixed a tiny bug in the subrequest + internal redirect fix: we should not override the current ctx completely, as mentioned in github issue #41."
agentzh,2011-06-15 09:41:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6709d16c01ad19ab583e478493000016aee13800,6709d16c01ad19ab583e478493000016aee13800,reindexed the tests.
agentzh,2011-06-15 09:41:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a7c0136677646c91d8717bec9960f715a9ab2d41,a7c0136677646c91d8717bec9960f715a9ab2d41,"added a test for internal redirects by the ""index"" directive."
agentzh,2011-06-15 09:37:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c3b03fed2413247d839e588eb983baf1dd933607,c3b03fed2413247d839e588eb983baf1dd933607,fixed a bug in ngx.location.capture() and ngx.location.capture_multi() that we could not capture locations with internal redirections in them. thanks moodydeath for reporting it in github issue \#41.
agentzh,2011-06-14 09:06:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1a58a29314644649fcdb07f51ba5971cee2e02e9,1a58a29314644649fcdb07f51ba5971cee2e02e9,"fixed redundant last chunk issue for ngx.exec() invocation at rewrite and access phases: we should quit the current core_run_phases cycle; this also fixed github issue #40: 2 Subrequest calls when using access_by_lua, ngx.exec and echo_location."
agentzh,2011-06-12 02:57:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9c8b21969e38ce0bbea729d0ee3819c0a2e570e8,9c8b21969e38ce0bbea729d0ee3819c0a2e570e8,Merge branch 'exit-fixes'
agentzh,2011-06-12 02:57:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6c147f4e2bfc6222b13cb8724ed050cc0f1e986a,6c147f4e2bfc6222b13cb8724ed050cc0f1e986a,used longer timeout for access/exit.t
agentzh,2011-06-07 15:41:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0f2c228ffd36bceca89c7f49f8f37caad7ac1fbc,0f2c228ffd36bceca89c7f49f8f37caad7ac1fbc,updated the documentation for ngx.exit() in README.
agentzh,2011-06-07 15:36:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7492a1ea6919db7b667b28c52c9cafee9ef750ce,7492a1ea6919db7b667b28c52c9cafee9ef750ce,fixed ngx.exit(status) where status >= 200 and status < 300 for access_by_lua*: it should quit the whole request altegother and skip all those subsequent phase handlers (if any).
agentzh,2011-06-07 15:17:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/15229c2d6ec4e3c188dfb2a879545d028c179881,15229c2d6ec4e3c188dfb2a879545d028c179881,now exit(status) where status >= 200 and status < 300 will successfully quit the current request altogether if being used in rewrite_by_lua or rewrite_by_lua_file. thanks moodydeath for reporting this issue.
agentzh,2011-05-27 05:29:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1ab26d01534603018ea662514baf12489b1f4e40,1ab26d01534603018ea662514baf12489b1f4e40,repeat each test case twice in t/016-resp-header.t.
agentzh,2011-05-27 05:28:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e4e299409daa03d3e98a2bf92485261cbcd47e0d,e4e299409daa03d3e98a2bf92485261cbcd47e0d,fixed github issue #39: setting differnt headers with common prefix might interfere with each other. thanks moodydeath.
agentzh,2011-05-23 08:38:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/43345dcbe4ca08f1cca865cdeb466e08422e1024,43345dcbe4ca08f1cca865cdeb466e08422e1024,documented that ngx.req.get_headers() and its friends only operate on the current request. it has no effect on the current request's subrequests. thanks moodydeath.
agentzh,2011-05-23 08:35:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e8c9ea9e040eacab579887dfba517ba765ddeb11,e8c9ea9e040eacab579887dfba517ba765ddeb11,"fixed GitHub issue #38: request headers did not forward to subrequests when the ""method"" or ""body"" option is explicitly specified by a non-nil value for ngx.location.capture(). thanks Richard Kearsley."
agentzh,2011-05-20 07:08:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2081f73a5e494fb13e07ec2ec5101fae086e0c85,2081f73a5e494fb13e07ec2ec5101fae086e0c85,fixed the link to ngx_openresty.
agentzh,2011-05-20 07:07:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d0026ac6d5c3a425b02cbfc8eb014818ae6bfa42,d0026ac6d5c3a425b02cbfc8eb014818ae6bfa42,added pointer to the ngx_openresty bundle in the Installation section.
agentzh,2011-05-20 04:14:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ce83076c743842ffbe07bdc6d9b61b505961bfb1,ce83076c743842ffbe07bdc6d9b61b505961bfb1,minor formatting.
agentzh,2011-05-20 04:13:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0dca6659bf7109c4c985044bb1895cab15a03cca,0dca6659bf7109c4c985044bb1895cab15a03cca,minor formatting.
agentzh,2011-05-19 09:55:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2e5d420240d8201a373db67237d2402126f43abd,2e5d420240d8201a373db67237d2402126f43abd,fixed a bug in output header set; we should always set the header->hash to 1. thanks moodydeath for reporting it.
agentzh,2011-05-11 08:19:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/33f2decc4d9144c478029266e613598aceb54e10,33f2decc4d9144c478029266e613598aceb54e10,confirmed that we work with nginx 1.0.2 as well.
agentzh,2011-05-11 04:29:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/75e67b6bb50e892f57f0d84940d578c0d18840e3,75e67b6bb50e892f57f0d84940d578c0d18840e3,confirmed that we work with 1.0.1.
agentzh,2011-05-11 04:07:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f337896d4410f00b940e8b46b1b51c5791614933,f337896d4410f00b940e8b46b1b51c5791614933,"fixed a spot that triggers the ""variable set but not used"" warning issued by gcc 4.6.0."
agentzh,2011-05-10 10:09:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/670d12b5ea58a865bf5fddebd56a13e67c411fa1,670d12b5ea58a865bf5fddebd56a13e67c411fa1,splitted source code lines exceeding 80 cols.
agentzh,2011-05-10 10:02:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6071175d737de1a8ea28c54d4fd5aa7d8d21d63b,6071175d737de1a8ea28c54d4fd5aa7d8d21d63b,suppressed the false alarms on nginx 1.0.1.
agentzh,2011-05-10 09:45:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6cfe38e071d4210110e70e20ef4d2b7abe3bd8ca,6cfe38e071d4210110e70e20ef4d2b7abe3bd8ca,minor coding style fixes.
agentzh,2011-05-10 07:48:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4ffeefec27f9f935455556060b9b1ba7e422ee4a,4ffeefec27f9f935455556060b9b1ba7e422ee4a,fixed test failures due to randomness involved in Lua table's pair order; the test suite is passing completely with LuaJIT2.0 now.
agentzh,2011-05-10 01:39:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9739fccaa50513bb0e12a30814f15e17809de117,9739fccaa50513bb0e12a30814f15e17809de117,added support for multi-value request headers in ngx.req.get_headers().
agentzh,2011-05-09 19:00:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/23cad91f06c865df4676d4334785e64f48abd72d,23cad91f06c865df4676d4334785e64f48abd72d,"now we turn the ngx.req.header table into an ngx.req.get_headers() function; we also added ngx.req.set_header(name, value) and ngx.req.clear_header(name). thanks moodydeath."
agentzh,2011-05-09 16:58:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7bba8bfec7f0ce3d70c2077740a3730abf68d0f5,7bba8bfec7f0ce3d70c2077740a3730abf68d0f5,renamed the 016-headers.t to 016-header-out.t.
agentzh,2011-05-09 16:54:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/098838e5ce6292c4d714a84e50e9ceb42cf92da9,098838e5ce6292c4d714a84e50e9ceb42cf92da9,minor code refactoring for the headers out stuffs.
agentzh,2011-05-09 15:41:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cfa8109d9723d71f8a5f50a37ac4790bb04c4065,cfa8109d9723d71f8a5f50a37ac4790bb04c4065,minor coding style fixes.
agentzh,2011-05-09 15:37:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/35b4c8d86da50cb4ca7b9cb0312b388f141b4be7,35b4c8d86da50cb4ca7b9cb0312b388f141b4be7,implemented the ngx.req.header table interface for retrieving all the request headers for Lua. thanks moodydeath.
agentzh,2011-05-09 12:21:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c230c16f584d1d5cea824669f2e974f3d05fc050,c230c16f584d1d5cea824669f2e974f3d05fc050,no longer use request_eval and respones_eval sections in the tests because they are deprecated now in Test::Nginx.
agentzh,2011-05-04 03:59:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/08ac36810211dd7771759ac0d7ba01d7958edcd1,08ac36810211dd7771759ac0d7ba01d7958edcd1,marked features that require the ngx_devel_kit (NDK) module.
agentzh,2011-05-04 02:16:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/25ff9e40d6f55424eefbc91187e6fdb61006197e,25ff9e40d6f55424eefbc91187e6fdb61006197e,Merge branch 'optional-ndk' of github.com:chaoslawful/lua-nginx-module into optional-ndk
agentzh,2011-05-03 02:21:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/28b3882d7ac742bb4835dc5466aba1c9d040ecb7,28b3882d7ac742bb4835dc5466aba1c9d040ecb7,now we make ngx_devel_kit (NDK) optional. thanks Kirill A. Korinskiy.
agentzh,2011-05-03 02:21:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1f8751d1cf9e6af3ff17f24d04741c2affd9bcc1,1f8751d1cf9e6af3ff17f24d04741c2affd9bcc1,now we make ngx_devel_kit (NDK) optional. thanks XXX.
agentzh,2011-05-01 15:44:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/babcd9e22cf828189247e945080741746f3264c8,babcd9e22cf828189247e945080741746f3264c8,documented that we work with nginx 1.0.0.
agentzh,2011-05-01 15:13:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ff7f769766b18690028c856177c612755c52d940,ff7f769766b18690028c856177c612755c52d940,updated build10.
agentzh,2011-05-01 15:13:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a367a9e57f8a6a03844c0a7219c0644b3c7eeee9,a367a9e57f8a6a03844c0a7219c0644b3c7eeee9,removed a duplicate definition of the ngx_str_set macro caught by ctags; also fixed a warning thrown by gcc -O3 on Mac OS X 10.6.
chaoslawful,2011-04-25 08:01:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0e0b0fc267581ddc7a5e70850074928bfd8f33e8,0e0b0fc267581ddc7a5e70850074928bfd8f33e8,also apply PCRE patch to set_by_lua* directives
chaoslawful,2011-04-25 07:51:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a49c175e6cf7684cc724691cf35ed6f795e9b651,a49c175e6cf7684cc724691cf35ed6f795e9b651,add patch to use PCRE related LUA extensions in ngx_lua
chaoslawful,2011-04-13 06:11:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/580279dd3922869d2fdde9793984c99ea7517327,580279dd3922869d2fdde9793984c99ea7517327,add warns about data sharing trick in readme
agentzh,2011-04-07 02:16:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/30170eff2f289556c2392cb76eafd21765479271,30170eff2f289556c2392cb76eafd21765479271,added a quick note regarding ngx.OK/ngx.DONE/ngx.AGAIN/ngx.ERROR. thanks wendal.
agentzh,2011-04-07 02:10:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ce944e1f6380af36d14c076364df6e1744987c70,ce944e1f6380af36d14c076364df6e1744987c70,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2011-04-06 13:42:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/86d6b00f97eb5b4179b72939b95b0a67252a2fa4,86d6b00f97eb5b4179b72939b95b0a67252a2fa4,documented one known issue that ngx_lua cannot capture locations with internal redirections (either via error_page or ngx_echo's echo_exec directives or ngx_lua's ngx.exec()).
agentzh,2011-04-06 13:23:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4ffe58d828a5f0ae5fc9cff4f1ad03ff29cf8d4e,4ffe58d828a5f0ae5fc9cff4f1ad03ff29cf8d4e,added more complex tests (using memcached) for the ngx.exec() after ngx.location.capture() bug; it is already passing.
agentzh,2011-04-04 16:32:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/271a7e184af219270c40068e876b01399d2fd5ba,271a7e184af219270c40068e876b01399d2fd5ba,"now we change the way we process HTTP 1.0 requests by automatically buffering all the user outputs generated by ngx.print()/ngx.say() calls, which is much more natural than the old broken way."
agentzh,2011-04-04 15:35:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bd650904748c536b1816fd1fd73a99fc62c40523,bd650904748c536b1816fd1fd73a99fc62c40523,fixed a regression in the previous ngx.exec() fix when using nginx 0.7.x and 0.8.x < 0.8.11.
agentzh,2011-04-04 13:03:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/241ba237b3d5cbd66a9e1aea1bf83bbf23f366a6,241ba237b3d5cbd66a9e1aea1bf83bbf23f366a6,"fixed the ""ngx.exec() after ngx.location.capture() hanging"" bug for rewrite_by_lua* and access_by_lua* as well. also added tests for these cases."
agentzh,2011-04-04 07:21:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2431340d8764c41162013e1fac7c819b105792ba,2431340d8764c41162013e1fac7c819b105792ba,"fixed the bug regarding use of ngx.exec() after ngx.location.capture(), which led to hang."
chaoslawful,2011-04-02 09:46:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8a37e835ba0343628ac3e24f4eaaed9d4afef5e0,8a37e835ba0343628ac3e24f4eaaed9d4afef5e0,replace readlink cmd in order to make build.sh working under OSX
agentzh,2011-03-30 03:54:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d6f7dd5600c20398daf58829ade25269b31e7798,d6f7dd5600c20398daf58829ade25269b31e7798,more README tweaks.
agentzh,2011-03-30 03:51:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/52f027bb02ac3d9a55deb1a586e4f25071f3f9fb,52f027bb02ac3d9a55deb1a586e4f25071f3f9fb,fixed another typo in README.
agentzh,2011-03-30 03:50:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f4962131823231d6bd5ddc55fbeb54bb9cc5a00d,f4962131823231d6bd5ddc55fbeb54bb9cc5a00d,fixed a typo in README.
agentzh,2011-03-30 03:49:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f7b3925bb29bacff9c8219ae238cd2fe6a0bca46,f7b3925bb29bacff9c8219ae238cd2fe6a0bca46,emphasized that the data sharing is per-worker not per-server.
agentzh,2011-03-30 03:32:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ae8c97c8cddec5f03acdb5890db0e5e4ab039715,ae8c97c8cddec5f03acdb5890db0e5e4ab039715,"added a separate section ""Data Sharing within an nginx worker."
agentzh,2011-03-30 03:29:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7a0570480795dd58f34795f8fa3f31c56f0326f9,7a0570480795dd58f34795f8fa3f31c56f0326f9,fixed a typo.
agentzh,2011-03-30 03:28:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d63963efba474e42be052f2cb0becf7a1bc62703,d63963efba474e42be052f2cb0becf7a1bc62703,documented in details about data sharing and race conditions by means of required Lua user modules.
agentzh,2011-03-29 10:01:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/74ba36fea8ad68ea6cbee77e8e73bf9fd96c5f01,74ba36fea8ad68ea6cbee77e8e73bf9fd96c5f01,updated README to reflect the changes that we always add those extra linking options on darwin systems because it is too hard to tell if it is a x86_64 system or not.
agentzh,2011-03-29 08:15:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c7907e03189d9e724818df335c314930ee0fc4f5,c7907e03189d9e724818df335c314930ee0fc4f5,added a test for the hanging bug regarding ngx.exec() used after ngx.location.capture().
agentzh,2011-03-14 12:16:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a51a2a7efb541975342cf541edb4569ddf3fa952,a51a2a7efb541975342cf541edb4569ddf3fa952,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2011-03-14 12:16:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/daad6fcefcad1aaf3821f6a06bf463a1b7bcdf41,daad6fcefcad1aaf3821f6a06bf463a1b7bcdf41,fixed a typo in the error messages.
chaoslawful,2011-03-14 09:50:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6bb9a260c78f013f4ab118d4cd274aa15fe0ff82,6bb9a260c78f013f4ab118d4cd274aa15fe0ff82,fix luajit linking opt on OSX
chaoslawful,2011-03-14 09:40:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5a57432cbdcc56c78053706ec178ff619d33e3b2,5a57432cbdcc56c78053706ec178ff619d33e3b2,add missing module info for unit-test; remove unused code; update ndk dependency
agentzh,2011-03-11 03:36:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/98924adaea54155e3807ae51171f64e13f9744be,98924adaea54155e3807ae51171f64e13f9744be,documented the ngx.is_subrequest attribute and enabled ngx.status and ngx.is_subrequest in set_by_lua* as well.
agentzh,2011-03-11 03:20:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/03b3d311d9f61472dfbb5aa93eda4b1153ca4b26,03b3d311d9f61472dfbb5aa93eda4b1153ca4b26,"applied a patch from moodydeath to introduce the ""ngx.is_subrequest"" attribute."
agentzh,2011-03-07 06:56:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a32193bdc0e53f130b8676b33a72547a42696601,a32193bdc0e53f130b8676b33a72547a42696601,now we encourage use of the client_body_in_single_buffer directive instead of big client_body_buffer_size.
agentzh,2011-03-02 03:11:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ccaf132169e778299263d13c409b917784b412f5,ccaf132169e778299263d13c409b917784b412f5,updated the contexts each config directive can be used within.
agentzh,2011-03-01 08:31:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4d4ba140f10ffad7f77c528fb812b757c9dc85de,4d4ba140f10ffad7f77c528fb812b757c9dc85de,now we allow rewrite_by_lua(_file) and access_by_lua(_file) at server and http config levels.
agentzh,2011-02-16 04:44:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0b08a6e65454222ff28786d763e54f4b7fe6e499,0b08a6e65454222ff28786d763e54f4b7fe6e499,updated valgrind.suppress.
agentzh,2011-02-15 10:40:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e42cdc0f42580faf1120615108d91df6d1105e25,e42cdc0f42580faf1120615108d91df6d1105e25,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2011-02-15 10:16:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4781ccc5c7d588058672519480899993dd61fa01,4781ccc5c7d588058672519480899993dd61fa01,set vv->no_cacheable too for ngx.var.foo = xxx.
chaoslawful,2011-02-12 09:43:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/28aa858ebb6a2e429436354c96818c61e81a1ecf,28aa858ebb6a2e429436354c96818c61e81a1ecf,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
chaoslawful,2011-02-12 09:43:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/49788e19e81a54bd187de694457245d66dfa2186,49788e19e81a54bd187de694457245d66dfa2186,fixed typo in config; added extra linking options needed by LuaJIT in 64bit OSX
agentzh,2011-02-12 09:19:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1db066e645aa62d0062f5de303f2d1df2ac31d03,1db066e645aa62d0062f5de303f2d1df2ac31d03,"emphasized in README that Mac 64-bit users have to edit the ""config"" file themselves when building with LuaJIT 2.0 (for now)."
agentzh,2011-02-12 07:17:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fde4b44e63f4a4c01d0ad531f39612a88378d5ec,fde4b44e63f4a4c01d0ad531f39612a88378d5ec,updated the Status section of README.
agentzh,2011-02-12 07:16:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/06c71b8cc6396f8fbb43a2f38714b9684a11bf4d,06c71b8cc6396f8fbb43a2f38714b9684a11bf4d,minor tweaks of README.
agentzh,2011-02-11 07:46:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/48063d36a2900c5d4977c06b3eb8d8382c5d78a8,48063d36a2900c5d4977c06b3eb8d8382c5d78a8,skip more false-alarms for valgrind when building nginx using -O3.
agentzh,2011-02-11 07:16:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8bc6ec53b555c46bd42f82744bf3a65f091ea8d9,8bc6ec53b555c46bd42f82744bf3a65f091ea8d9,"fixed the zero size alert caused by ngx.print("""") in Lua."
agentzh,2011-02-11 06:39:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4a7afc24287f1a755d69a711472617e86e69d57c,4a7afc24287f1a755d69a711472617e86e69d57c,now we always allocate r->request_body for subrequests when the method option is specified for ngx.location.capture*. this prevents accidental inheritance of parent request's request body when client_body_buffer_size < client_max_body_size.
agentzh,2011-02-10 06:30:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/44fb57098518fd1d3905a9f3be9204cd8e9ccae0,44fb57098518fd1d3905a9f3be9204cd8e9ccae0,fixed indentation.
agentzh,2011-02-10 06:17:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4de07de5ddbeb339465937ee37b384b892e4e7e1,4de07de5ddbeb339465937ee37b384b892e4e7e1,fixed a typo in README.
agentzh,2011-02-10 06:17:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/699c4abd8c248b492969093c34c2ff61224c6265,699c4abd8c248b492969093c34c2ff61224c6265,added notes about variable number of subrequests for ngx.location.capture_multi to README. thanks Marcus Clyne.
agentzh,2011-02-09 04:08:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0b39e1e2514f3fe10ab537c8c04fd8b98a532812,0b39e1e2514f3fe10ab537c8c04fd8b98a532812,"optimized the buffer management process a bit for ngx.location.capture*: one the response body is a single buf chain, do not bother concatening it into a new buffer."
agentzh,2011-02-08 10:29:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/149fea4b47f3efa23686c81da08bc9b850179b2f,149fea4b47f3efa23686c81da08bc9b850179b2f,states that we no longer require openssl in README.
agentzh,2011-02-08 09:37:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0a6ecfe67cc68e18e047a23e43dfab11bb75128a,0a6ecfe67cc68e18e047a23e43dfab11bb75128a,"now we no longer explicitly require OpenSSL crypto, we now use ngx_md5.h exclusively, and no NDK_HASH pain any more."
agentzh,2011-02-06 12:56:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6d4ab5ee128395bc9f7965857586dfd8faf56f6c,6d4ab5ee128395bc9f7965857586dfd8faf56f6c,fixed various minor coding style issues.
agentzh,2011-02-05 11:30:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/92520b0ced6c2fdd1c982c1a9d543045241d7ebe,92520b0ced6c2fdd1c982c1a9d543045241d7ebe,"mentioned the ""cosocket"" mechanism in the Future Plan section."
agentzh,2011-02-05 08:34:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/19ad8e7a5ee2619bfb3e8a5c6971e8b5667ee0e7,19ad8e7a5ee2619bfb3e8a5c6971e8b5667ee0e7,minor test adjust.
agentzh,2011-02-05 08:03:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f408e32f7dc5032780b055efb76cee02a8466c29,f408e32f7dc5032780b055efb76cee02a8466c29,now we report an error at config time when rewrite_by_lua* are used with nginx 0.8.42 ~ 0.8.53.
agentzh,2011-02-05 07:50:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a6e80250b6995562f1150e0bd041a943b69f978f,a6e80250b6995562f1150e0bd041a943b69f978f,minor README tweaks.
agentzh,2011-02-05 07:49:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f0b0540b8787b88c2b1101698aa265b1934e6e20,f0b0540b8787b88c2b1101698aa265b1934e6e20,"updated the TODO, Known Issues, and Future Plan sections in README."
agentzh,2011-02-04 18:37:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/af1ebf104de89e78946fdc577b451c11217f96c9,af1ebf104de89e78946fdc577b451c11217f96c9,fixed regressions while building with nginx 0.7.x and also confirmed that rewrite_by_lua* work with nginx 0.7.x.
agentzh,2011-02-04 18:20:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/63901b1fb3f809b89ab44f7c4328b897528232bc,63901b1fb3f809b89ab44f7c4328b897528232bc,added notes regarding cases when ngx.location.capture and ngx.location.capture_multi fail to capture subrequests' outputs.
agentzh,2011-02-04 18:14:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9729332036c0b6da37bd9601740d3d79fd8a9c8b,9729332036c0b6da37bd9601740d3d79fd8a9c8b,now we recycle the chain links and associated bufs among subrequests issued by one or more ngx.location.capture_multi() calls within a single (parent) request.
agentzh,2011-02-04 16:12:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4b9c29c6bf9a6c04da63bc38f4d91db2cad49931,4b9c29c6bf9a6c04da63bc38f4d91db2cad49931,we now free unused memory chunks more aggressively to reduce memory usage.
agentzh,2011-02-04 11:15:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/60a88383a8d0117312dc623d3fe42546f5e649ef,60a88383a8d0117312dc623d3fe42546f5e649ef,"added some tests for using ngx.location.capture_multi() at rewrite, access, and content phases at the same time and these tests are all passing :)"
agentzh,2011-02-04 11:04:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c8aeedc87a820797cd70ec2d1be17e344b9d4164,c8aeedc87a820797cd70ec2d1be17e344b9d4164,"we now cancel the ctx->body field and use the parent request's ctx->bodies instead, thus saving some bytes per request."
agentzh,2011-02-04 09:48:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ca4a243228eb3c6b6465f861ffa46a37f2f772de,ca4a243228eb3c6b6465f861ffa46a37f2f772de,now we make ctx->waiting a counter and cancel the ctx->waitings array.
agentzh,2011-02-04 09:18:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5aee1af16047bd636b2deff1b838da15585bea86,5aee1af16047bd636b2deff1b838da15585bea86,we now post the parent request ourselves in the post_subrequest callback in some extreme condition that the current (sub)request is not active AND it has some weird postponed requests associated with it. this work-around makes those crazily complicated test cases for ngx.location.capture_multi() pass now.
agentzh,2011-02-04 07:17:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a5819c8a71f6ce2062f1f352441bdca228a4056b,a5819c8a71f6ce2062f1f352441bdca228a4056b,no longer set the NGX_HTTP_SUBREQUEST_WAITED flag for subrequests.
agentzh,2011-02-04 07:08:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/71fa89025fbdb3dc75c39e64e4f72e5390334bda,71fa89025fbdb3dc75c39e64e4f72e5390334bda,"minor optimizations: we only pass NULL chains down the output filter chain when we really need (that is, the current request is active *AND* there is postponed outputs in r->postponed)."
agentzh,2011-02-03 17:29:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4265dbdc2507a2f172b6e0ad12a2216ea55d7142,4265dbdc2507a2f172b6e0ad12a2216ea55d7142,minor optimizations in ngx.location.capture_multi() and also fixed a bug in its request options handling (we did not initialize the options properly for *every* request).
agentzh,2011-02-03 15:46:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3ad08c9e3ffcfb62382376e196652b51632daf2d,3ad08c9e3ffcfb62382376e196652b51632daf2d,updated the TODO list in README to reflect recent changes :)
agentzh,2011-02-03 15:45:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ce540ead33b5fff465a2ba5bd58c11bcac687e18,ce540ead33b5fff465a2ba5bd58c11bcac687e18,documented ngx.location.capture_multi() in README.
agentzh,2011-02-03 15:35:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0048b1fbc03a6d562d7e79b3b79d0d45599413b6,0048b1fbc03a6d562d7e79b3b79d0d45599413b6,the post subrequest callback may be called multiple times (due to finalizing in-active requests) and those useless left-over calls may cause segfaults while accessing parent requests' ctx struct. now we add checks to post_subrequest to prevent its main logic from running twice or more.
agentzh,2011-02-03 13:07:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b6e2e55176f59da3cc72be3bda16240ed0822804,b6e2e55176f59da3cc72be3bda16240ed0822804,added more tests for ngx.location.capture_multi: 4 parallel subrequests are confirmed to work ;)
agentzh,2011-02-03 12:50:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ef2dbff1fc502f417728a544f6cdf23f97c79a63,ef2dbff1fc502f417728a544f6cdf23f97c79a63,ngx.location.capture_multi(): now we actively switch the active request to the next (postponed) subrequest if the current request is still waiting for its subrequests.
agentzh,2011-02-03 11:24:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/079cb2aab4f61178cdc8647aaa44ab48f737f112,079cb2aab4f61178cdc8647aaa44ab48f737f112,added tests for ngx.location.capture_multi().
agentzh,2011-02-03 11:24:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8b19dd8b1c7b4ae73343b0148384bb8a97b969b0,8b19dd8b1c7b4ae73343b0148384bb8a97b969b0,implemented ngx.location.capture_multi().
agentzh,2011-02-01 10:32:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4f8f26daedef3ba873e8022214b59da6f86effa5,4f8f26daedef3ba873e8022214b59da6f86effa5,mentioned bad race conditions while reloading lua modules when the lua code cache is off.
agentzh,2011-01-30 07:23:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2ed82042ea5db01de5acb948c41ba56a4929835f,2ed82042ea5db01de5acb948c41ba56a4929835f,minor config cleanup.
agentzh,2011-01-30 07:14:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/65b587c6ee3a5da43eeb382cafcda73439a58bfe,65b587c6ee3a5da43eeb382cafcda73439a58bfe,added notes for installation on Ubuntu/Debian/Fedora/RHEL/CentOS.
agentzh,2011-01-28 09:39:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9303bdaf7cfdca5c954b80d1ad2770de140bad4f,9303bdaf7cfdca5c954b80d1ad2770de140bad4f,added a failing test that ngx.location.capture() cannot capture subrequests with internal redirects because ngx_http_internal_redirect() clears module ctx structs.
agentzh,2011-01-28 08:56:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4f3607b9359e5ccb378f363fc1ab499697e98a9a,4f3607b9359e5ccb378f363fc1ab499697e98a9a,now we skip those lua5.1 and luajit2.0's builtin packages while clearing package.loaded when lua_code_cache is off.
agentzh,2011-01-25 12:41:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/64c6b34970621bb9bd47f412bc86a051d82afc4e,64c6b34970621bb9bd47f412bc86a051d82afc4e,"when subrequest status is 0, assuming 200."
agentzh,2011-01-25 11:22:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/adf6c00994d942118ee0593c375a0ae261469df0,adf6c00994d942118ee0593c375a0ae261469df0,added a test case to demonstrate how to kill timed out mysql queries and also confirmed that we also work with nginx 0.9.4.
agentzh,2011-01-24 11:10:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6bf0898784ab9b0ed5fbd4be31a8f01f1e775ae2,6bf0898784ab9b0ed5fbd4be31a8f01f1e775ae2,added more test cases for phase postponing.
agentzh,2011-01-24 10:29:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/43513dddf656848eb30240e987af88a6d0af040e,43513dddf656848eb30240e987af88a6d0af040e,added more docs for the Lua code cache.
agentzh,2011-01-24 10:17:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7d9e04187961d68c90ae6bcc733ee12163960133,7d9e04187961d68c90ae6bcc733ee12163960133,updated README to reflect recent changes regarding the lua code cache control.
agentzh,2011-01-22 14:03:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e1522b1d9f3a505417dd3796b930a04c44d178b8,e1522b1d9f3a505417dd3796b930a04c44d178b8,added more test cases.
agentzh,2011-01-21 11:42:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c201c8892f71c28a65c95f698b79092de1860b37,c201c8892f71c28a65c95f698b79092de1860b37,now we also pre-calculate cache keys for lua file paths that do not contain nginx variables.
agentzh,2011-01-21 10:35:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d0de36b0ab327321ae8a3294ac8f5dc8f0719388,d0de36b0ab327321ae8a3294ac8f5dc8f0719388,"inlined lua code now calculates the digest key only once at config time, this will save some CPU cycles per request."
agentzh,2011-01-21 08:46:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/68b171b73ade789d9ccb310593cff4a7c25f51d9,68b171b73ade789d9ccb310593cff4a7c25f51d9,now we make use of the new ngx_http_complex_value_t struct and related utility functions provided by the nginx core for nginx variable handling in lua file paths.
agentzh,2011-01-20 12:13:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8b30373dffae03ea1ef5d57694c1a10fccf4953c,8b30373dffae03ea1ef5d57694c1a10fccf4953c,added more code-cache tests for set_by_lua_file.
agentzh,2011-01-20 11:56:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7ea8bd5a4ceabb51cff7ba7bba961c38bac4f198,7ea8bd5a4ceabb51cff7ba7bba961c38bac4f198,fixed a typo in README.
agentzh,2011-01-20 11:55:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4dceab188f81f045d50d51e23f34282c4e6605d0,4dceab188f81f045d50d51e23f34282c4e6605d0,"documented the new ""lua_code_cache"" directive."
agentzh,2011-01-20 11:51:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/47ef132c01ea2d0599b63fe61b0bb6bac8d1cd9e,47ef132c01ea2d0599b63fe61b0bb6bac8d1cd9e,"now we forcibly flush ""package.loaded"" for each http request when lua_code_cache is off."
agentzh,2011-01-20 10:36:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/baaaabcc969b9c3f70e1f6f0d8c0f5bdae95acf8,baaaabcc969b9c3f70e1f6f0d8c0f5bdae95acf8,"first cut on the ""lua_code_cache off"" directive. mostly working but reloading lua modules still needs some work."
agentzh,2011-01-20 04:41:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7b30e2984205a06d0a4a55f5ef062e3ead68349b,7b30e2984205a06d0a4a55f5ef062e3ead68349b,now ngx.log and those log level constants are available in the context of set_by_lua and set_by_lua_file.
agentzh,2011-01-20 04:32:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/92d7a4f712c045961a1b6bab2c714bf3ac532236,92d7a4f712c045961a1b6bab2c714bf3ac532236,minor test code cleanup.
agentzh,2011-01-18 10:50:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7db7ae1347178933337114f0afb355992de6cdd6,7db7ae1347178933337114f0afb355992de6cdd6,fixed a typo in README.
agentzh,2011-01-17 11:57:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b626757ed96d8ff1c0d9be6941981f44fae8cf27,b626757ed96d8ff1c0d9be6941981f44fae8cf27,fixed README's wording a bit.
agentzh,2011-01-17 11:55:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c8f59c7fb77e3a993b316b682ef061415befb82f,c8f59c7fb77e3a993b316b682ef061415befb82f,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2011-01-17 11:55:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/284c7f1b583a4365a4abc1d8f7c3327c6d28b15f,284c7f1b583a4365a4abc1d8f7c3327c6d28b15f,documented that subrequest issued by ngx.location.capture always inherit all the request headers of the parent request.
chaoslawful,2011-01-17 09:09:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/18293939af1da83c064012f0ffda6922e26c99e2,18293939af1da83c064012f0ffda6922e26c99e2,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
chaoslawful,2011-01-17 09:09:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ac1b3de7ea4a8638a565f783b5436ac6cfe70d6c,ac1b3de7ea4a8638a565f783b5436ac6cfe70d6c,updated todos
agentzh,2011-01-17 03:48:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d2006cbfd338688febe7c2779a98c2f7f9d5f4ee,d2006cbfd338688febe7c2779a98c2f7f9d5f4ee,fixed a typo: $LIB_LIB should be $LUA_LIB. thanks Vladislav Manchev.
agentzh,2011-01-14 12:57:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/de270bf8e7794420f80dab335f068ab5a98aa032,de270bf8e7794420f80dab335f068ab5a98aa032,fixed -lcrypto library search under /lib for Solaris. ngx_lua should build out of the box there.
agentzh,2011-01-14 12:36:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5f6813866c30edc7d59fdb351eafa1b71797cd0b,5f6813866c30edc7d59fdb351eafa1b71797cd0b,No ONLY in exit.t
agentzh,2011-01-14 12:16:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0fbf2c84839d0f281dada35918e22d5cc239a54b,0fbf2c84839d0f281dada35918e22d5cc239a54b,"updated config to check openssl and -W,-E support on the fly."
agentzh,2011-01-12 10:34:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f2541c2d57e98ecbda4e191d5d0977fa799cf15c,f2541c2d57e98ecbda4e191d5d0977fa799cf15c,minor edits.
agentzh,2011-01-12 10:33:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ee1cb7dd6627fa7c754cea45564d99d7c7ee9fa0,ee1cb7dd6627fa7c754cea45564d99d7c7ee9fa0,added a more complicated sample for access_by_phase.
agentzh,2011-01-12 10:24:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/68069101e9b2bd739648b295ccb358b8b12034c8,68069101e9b2bd739648b295ccb358b8b12034c8,checked in auth.t.
chaoslawful,2011-01-12 06:05:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/96b9bbe631d36f06e21334e4938631aed28be812,96b9bbe631d36f06e21334e4938631aed28be812,removed unused debug options
chaoslawful,2011-01-12 05:26:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/84131c0fd074d1f10dbc1363570fc980796ac006,84131c0fd074d1f10dbc1363570fc980796ac006,resolved conflictions
chaoslawful,2011-01-12 05:24:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/45de0f0c0e9ab83e5bccfe0961de290542930191,45de0f0c0e9ab83e5bccfe0961de290542930191,add tests in subdirs into run_test script
agentzh,2011-01-12 05:14:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a910ced9de7bdf5a6bfa780eae09c4d115b9d478,a910ced9de7bdf5a6bfa780eae09c4d115b9d478,fixed test cases for earlier versions of nginx.
chaoslawful,2011-01-12 03:57:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1660f573168faaa547b348e84c8bf86997459609,1660f573168faaa547b348e84c8bf86997459609,updated test requirements
chaoslawful,2011-01-11 18:57:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0745d1e936051b0c7f75a3d9972efc6cf53664a1,0745d1e936051b0c7f75a3d9972efc6cf53664a1,modified doc to reflect *_file directives' change
chaoslawful,2011-01-11 18:45:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c689ef5141bd86a39daac3e99ecdba9b91792918,c689ef5141bd86a39daac3e99ecdba9b91792918,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
chaoslawful,2011-01-11 18:43:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4ba628259a0c54623b5d0f4ee79a6f5de318de25,4ba628259a0c54623b5d0f4ee79a6f5de318de25,allow using nginx vars in *_by_lua_file directives
chaoslawful,2011-01-11 16:24:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/44798330a59cbd6d833c3ed24024d9a3b6e56b91,44798330a59cbd6d833c3ed24024d9a3b6e56b91,added missing vim modeline
agentzh,2011-01-11 09:14:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4d153cbae22ad503e8654056fd30ed7f67fec0b5,4d153cbae22ad503e8654056fd30ed7f67fec0b5,updated the Installation section.
agentzh,2011-01-11 07:34:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ae257b0c24f54b8374617312213c972f91dc5012,ae257b0c24f54b8374617312213c972f91dc5012,"added one more (passing) test case from Sirsiwal, Umesh"
agentzh,2011-01-10 08:46:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e9502dd238ec8f910fd6b038e0542e05da5778b5,e9502dd238ec8f910fd6b038e0542e05da5778b5,now we no longer emit anything (even special bufs) after eof.
agentzh,2011-01-09 13:23:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/80bb55a3e9a2c9da01b02d533633709f1d04d20e,80bb55a3e9a2c9da01b02d533633709f1d04d20e,updated the year list in the copyright notice.
agentzh,2011-01-09 13:22:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/92381c521c2076d827a3f1d4b31f21c5518d8245,92381c521c2076d827a3f1d4b31f21c5518d8245,edited my names in README.
agentzh,2011-01-09 13:20:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c62a7a523786092dcf89d57798f55de07f28dd8e,c62a7a523786092dcf89d57798f55de07f28dd8e,removed a --- ONLY flag from the test suite.
agentzh,2011-01-09 12:54:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/57d1f80cf3b7b00c4d6fdd3243f945a1fd53bf3f,57d1f80cf3b7b00c4d6fdd3243f945a1fd53bf3f,rewritten the HTTP 1.0 handling section in README. we can actually automatically generate a Content-Length header for HTTP 1.0 requests.
agentzh,2011-01-09 12:32:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f2374de1901894234daea6f5cc1a4691ebe49784,f2374de1901894234daea6f5cc1a4691ebe49784,fixed a typo in README.
agentzh,2011-01-09 12:30:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/69527323ab9ee64e10a01bbc1654c3c600e23b1f,69527323ab9ee64e10a01bbc1654c3c600e23b1f,added a section in HTTP 1.0 outputs to README.
agentzh,2011-01-09 12:18:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/17bffb5c26507aa6b64ba7e249c219d87380f4a3,17bffb5c26507aa6b64ba7e249c219d87380f4a3,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2011-01-09 12:18:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ed48b9303f771eae5d91c7929c4ba8ce90ba14a0,ed48b9303f771eae5d91c7929c4ba8ce90ba14a0,fixed an issue regarding HTTP 1.0 outputs.
chaoslawful,2011-01-09 09:46:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/face45b54cdc4a6a4ce9608c33c51cef017fe125,face45b54cdc4a6a4ce9608c33c51cef017fe125,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
chaoslawful,2011-01-09 09:46:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e1da3163652c32311cf705074b6abcd98d077bd9,e1da3163652c32311cf705074b6abcd98d077bd9,fixed comment mark
agentzh,2011-01-08 08:24:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/44bbe7068d1a5a690f9056c1b3041a2cfac4bb00,44bbe7068d1a5a690f9056c1b3041a2cfac4bb00,applied a modified version of neilljordan 's patch to add support for multi-value response headers returned from subrquests.
agentzh,2011-01-08 07:20:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9a7c06c4a8f3c32d7a1dea2f12922ac14d75b526,9a7c06c4a8f3c32d7a1dea2f12922ac14d75b526,fixed a bug in rewrite_by_lua* and access_by_lua* regarding automatic response headers sending. thanks Roman Vasilyev.
agentzh,2011-01-07 12:05:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c2ec0b3ab1af542f0bdfaae5114f5f303c80bc45,c2ec0b3ab1af542f0bdfaae5114f5f303c80bc45,added a test for auth_request + ngx_access.
agentzh,2011-01-07 11:49:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/077ee1a4da84452ce7618e6c565d64884d2d17e1,077ee1a4da84452ce7618e6c565d64884d2d17e1,documented that access_by_lua* also supports lua_need_request_body.
agentzh,2011-01-07 11:24:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/417e3a76021899934dc0dc01cd7f7dfffac09fe0,417e3a76021899934dc0dc01cd7f7dfffac09fe0,"added a sample for mixing rewrite_by_lua_file, access_by_lua_file, and content_by_lua_file."
agentzh,2011-01-07 10:58:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d2e6375c8363e3f5ddbbe33ad1025806ffa763c8,d2e6375c8363e3f5ddbbe33ad1025806ffa763c8,added more tests for access_by_lua.
agentzh,2011-01-07 10:52:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3da14bc61b03377450372d008d10d36e211d6694,3da14bc61b03377450372d008d10d36e211d6694,added t/024-access/*.t.
agentzh,2011-01-07 10:52:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/02f32dd21bb8af527040e643e52f5e3e1ea938d7,02f32dd21bb8af527040e643e52f5e3e1ea938d7,added more sample configs to Synopsis section.
agentzh,2011-01-07 10:37:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/20e919d612c8c51ec6af636a119063f3d472bbf1,20e919d612c8c51ec6af636a119063f3d472bbf1,access_by_lua and access_by_lua_file are passing tests now.
agentzh,2011-01-07 08:45:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2606b2f2fda8e385ce5d66836b67ac18e0e19ee6,2606b2f2fda8e385ce5d66836b67ac18e0e19ee6,updated .gitignore.
agentzh,2011-01-07 06:56:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/51971a48f31345fa9180eae7c99b8036c9feca0a,51971a48f31345fa9180eae7c99b8036c9feca0a,added compatibility notes regarding 0.9.x.
chaoslawful,2011-01-07 01:46:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/55452425816085cb84cc052f9af7d277b8153143,55452425816085cb84cc052f9af7d277b8153143,resolved conflicts
chaoslawful,2011-01-07 01:43:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b0da782fb9f960e05ac8a587d8bf334bfa1443b3,b0da782fb9f960e05ac8a587d8bf334bfa1443b3,added typecasts to suppress clang warnings
agentzh,2011-01-06 13:59:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0590c96d5604ba2c270d440ad880752c390ad7b9,0590c96d5604ba2c270d440ad880752c390ad7b9,now we return NGX_DONE when ngx_http_read_client_request_body returns NGX_AGAIN in content_by_lua.
agentzh,2011-01-06 08:15:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f5187bff392afa192b5986dd9f7e33a2c57a49be,f5187bff392afa192b5986dd9f7e33a2c57a49be,"specified which context a specific lua nginx API is available, like being available in rewrite_by_lua and content_by_lua."
agentzh,2011-01-06 04:46:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/77a036c5a7f79dee56514855aa7ff2b369a0ef80,77a036c5a7f79dee56514855aa7ff2b369a0ef80,documented that rewrite_by_lua will NOT work with nginx 0.8.41 ~ 0.8.53.
agentzh,2011-01-06 04:43:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0d2001b0223cce228cee3f0016911d50582fa806,0d2001b0223cce228cee3f0016911d50582fa806,massive code layout refactoring.
agentzh,2011-01-06 04:25:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/17d56682c6882261357192a8c89fe9e66706547d,17d56682c6882261357192a8c89fe9e66706547d,moved the handler functions out of directive.[ch].
agentzh,2011-01-06 04:14:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/657bea5b29e1d5c521e1694e5bc8b200f461c0ae,657bea5b29e1d5c521e1694e5bc8b200f461c0ae,moved t/024-mixed.t to t/023-rewrite/.
agentzh,2011-01-06 04:13:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/530be0965da10a6d958e32bb1beb74d3a3cdac3f,530be0965da10a6d958e32bb1beb74d3a3cdac3f,checked in more tests for rewrite_by_lua.
agentzh,2011-01-05 14:08:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2f2b1b6668aab8aa37afcff91ae762af551be315,2f2b1b6668aab8aa37afcff91ae762af551be315,fixed a bug regarding content handler reading request body.
agentzh,2011-01-05 13:13:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3a25d18663f5b81383266e5cd40ff3e4dabb85c8,3a25d18663f5b81383266e5cd40ff3e4dabb85c8,"documented the current behavior of the ""lua_need_request_body"" directive."
agentzh,2011-01-05 13:03:41,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2b53d0d5277ecc82f6e6544a2f0ba8b359fc2c4a,2b53d0d5277ecc82f6e6544a2f0ba8b359fc2c4a,"re-implemented the ""lua_need_request_body"" directive. now it is both working for rewrite_by_lua and content_by_lua."
agentzh,2011-01-05 12:08:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/18df04491ff5eb15fc94b6e9b844d2d1d174fe83,18df04491ff5eb15fc94b6e9b844d2d1d174fe83,now we postpone rewrite_by_lua to the end of the rewrite phase; also reset ctx in content_by_lua to avoid left-over ctx flags set by rewrite_by_lua to taint our content_by_lua handlers.
agentzh,2011-01-04 07:39:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/65ef4ca5efa6719b330b0414b7faab128d04e3ec,65ef4ca5efa6719b330b0414b7faab128d04e3ec,fixed compatibility issues with nginx 0.7.x but still rewrite_by_lua does not work with 0.7.x.
agentzh,2011-01-04 06:38:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/11050d43b923ecc0b265222dffa2d144a6429ade,11050d43b923ecc0b265222dffa2d144a6429ade,rewite_by_lua tests.
agentzh,2011-01-04 06:34:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f8f272aee77e7b6c72ce113b8769fa166b4a6aea,f8f272aee77e7b6c72ce113b8769fa166b4a6aea,sanity.t and subrequest.t for rewrite_by_lua* now passing.
agentzh,2010-12-31 09:54:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9372747c59e699f4900bd9d501888aa22a15590c,9372747c59e699f4900bd9d501888aa22a15590c,rewrite_by_lua starts passing tests.
agentzh,2010-12-31 04:29:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ac647f3e8a16fb05c5b444a1496ce24504b5dc89,ac647f3e8a16fb05c5b444a1496ce24504b5dc89,coding style fixes.
agentzh,2010-12-31 04:23:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/13dbf2ab3f528f14c4d8133b24ba441ffbbb65eb,13dbf2ab3f528f14c4d8133b24ba441ffbbb65eb,"first cut on rewrite_by_lua support, not there yet."
chaoslawful,2010-12-17 10:31:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d66c01d39bc844212e514dbe17d3c7afcf5e95e4,d66c01d39bc844212e514dbe17d3c7afcf5e95e4,updated ndk upstream location
chaoslawful,2010-12-17 10:21:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fb58b876eb9fbe0d61f03dc591e120b85ff34f98,fb58b876eb9fbe0d61f03dc591e120b85ff34f98,updated ndk dep
agentzh,2010-12-17 09:21:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3c1b63a4f1d008196e1aa8c9d3d9d22a68cc1dff,3c1b63a4f1d008196e1aa8c9d3d9d22a68cc1dff,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2010-12-17 09:20:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2d37ba51d8d683f2ce882f577890bffa416de615,2d37ba51d8d683f2ce882f577890bffa416de615,now we use the 2-clause bsd license.
PiotrSikora,2010-12-17 08:51:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/52a7f21c3b3d5931b338af2577b0e6ce1b6cb92e,52a7f21c3b3d5931b338af2577b0e6ce1b6cb92e,Add auto-discovery for FreeBSD.
chaoslawful,2010-12-13 02:50:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bc1c2d63a1689338ff94bcf6e41039f0dc9aa322,bc1c2d63a1689338ff94bcf6e41039f0dc9aa322,added notes about using luajit under 64-bit darwin os; updated ndk depedency
PiotrSikora,2010-12-03 04:44:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/113ba8b723c452baa99cde66053e8af2fd4533e9,113ba8b723c452baa99cde66053e8af2fd4533e9,"$ngx_found value cannot be accessed before auto/feature, because it carries-over result from the previous feature check."
PiotrSikora,2010-12-02 03:51:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9ed533cc04f58fb670c5032034e7738051654bbe,9ed533cc04f58fb670c5032034e7738051654bbe,Add autodiscovery support for Debian Lenny.
agentzh,2010-12-02 09:13:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/add96fcf0c49476690a66d33785f3eff15097a29,add96fcf0c49476690a66d33785f3eff15097a29,added more tests for 500 in subrequests.
agentzh,2010-11-26 15:11:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/967557e8d60148116a8af50620712ed986f4cddb,967557e8d60148116a8af50620712ed986f4cddb,more README tweaks.
agentzh,2010-11-26 15:09:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/18588a56089296fe002d64cc6b85a7367bbb0b53,18588a56089296fe002d64cc6b85a7367bbb0b53,documented that you can only write to an nginx variable in Lua when you have predefined it outside at config time. also documented an interesting work-around for set_by_lua to return multiple values to multiple nginx variables at the same time.
agentzh,2010-11-26 08:26:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d4e72a9c2324ec947a17d5adc0f7d7ae3294a81b,d4e72a9c2324ec947a17d5adc0f7d7ae3294a81b,marked those lua interfaces only available in content_by_lua.
agentzh,2010-11-25 13:30:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ae3ae2e7fdf3544111d315c33871ac6d478a9132,ae3ae2e7fdf3544111d315c33871ac6d478a9132,"renamed ngx.utc_time() to ngx.time(), and canceled the old ngx.time() functionality. also renamed ngx.strtime() to ngx.localtime(), and ngx.utc_strtime() to ngx.utctime()."
agentzh,2010-11-22 06:50:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a348f369b54c34daee15b24df1b8b0f131d2f1c6,a348f369b54c34daee15b24df1b8b0f131d2f1c6,removed trailing spaces in README.
agentzh,2010-11-22 06:33:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ec5a8bc61ee09d3555ee30b91702d273cd0dfbb5,ec5a8bc61ee09d3555ee30b91702d273cd0dfbb5,more README tweaks.
agentzh,2010-11-22 06:32:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/561a7229848e6cebf45e458f860f90fa510fa682,561a7229848e6cebf45e458f860f90fa510fa682,fixed an english wording error.
agentzh,2010-11-22 06:26:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0e0f1e5303e72585bd16d2ec8e64696f2b9e537d,0e0f1e5303e72585bd16d2ec8e64696f2b9e537d,fixed ThinkPad spec in the Performance section.
agentzh,2010-11-22 04:03:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/93186ff6e6fd566c5510eec828c59b5581e2c066,93186ff6e6fd566c5510eec828c59b5581e2c066,minor README fixes.
agentzh,2010-11-22 03:50:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/05581823879a8c5151334f616f8df237b579d2a5,05581823879a8c5151334f616f8df237b579d2a5,fixed english wording in Known Issues.
agentzh,2010-11-22 03:44:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d7693625b34c20bb94b8356790972b97e440b444,d7693625b34c20bb94b8356790972b97e440b444,more README tweaks.
agentzh,2010-11-22 03:44:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/70bba9064b9fd96c02e787d04288f35c39a49ab1,70bba9064b9fd96c02e787d04288f35c39a49ab1,more README tweaks.
agentzh,2010-11-22 03:43:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a7b79f070b2b101da7ca2b28731fe6d543cfb43e,a7b79f070b2b101da7ca2b28731fe6d543cfb43e,states that subrequests are completely different from HTTP 301/302 redirection and internal redirection.
agentzh,2010-11-22 03:41:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d88aa2b076addcb1170acfa7d2123001e8eaa42f,d88aa2b076addcb1170acfa7d2123001e8eaa42f,more README tweaks.
agentzh,2010-11-22 03:40:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7415b527ef32c220b5cde3161d574b22c8eb2313,7415b527ef32c220b5cde3161d574b22c8eb2313,more wording tweaks in README.
agentzh,2010-11-22 03:39:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1fce2771fb7504fd6597912138e8e966f15b3b27,1fce2771fb7504fd6597912138e8e966f15b3b27,minor wording tweaks in README.
agentzh,2010-11-22 03:38:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/46642db5830fae9763f9b905ea789c7e182d80fe,46642db5830fae9763f9b905ea789c7e182d80fe,explains how nginx subrequests work and what it can do.
agentzh,2010-11-22 03:33:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e870cad23cf935f726c3d80c19f50079b9db26fb,e870cad23cf935f726c3d80c19f50079b9db26fb,"documented the ""args"" option for ngx.location.capture()."
agentzh,2010-11-21 09:49:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bf7f4f76c3ae1201c395ca15264483f3c95e66b7,bf7f4f76c3ae1201c395ca15264483f3c95e66b7,"implemented the ""args"" option for ngx.location.capture."
agentzh,2010-11-20 11:32:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/74f541f5b18f802d944101b35948546e7ebd99fa,74f541f5b18f802d944101b35948546e7ebd99fa,tweaked the docs for ngx.redirect().
agentzh,2010-11-20 11:26:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/32c3686a15300033bb5764ce743bde19156c4588,32c3686a15300033bb5764ce743bde19156c4588,"implemented, tested, and documented the new ngx.redirect(uri, status) method for Lua."
agentzh,2010-11-18 14:46:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d98a147780e2e8e670aa42e081ee62c8689e5e93,d98a147780e2e8e670aa42e081ee62c8689e5e93,documented the share_all_vars option for ngx.location.capture in README.
agentzh,2010-11-18 14:42:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d53fe2831ca448efb3cfd3b85beed16dcf5d781d,d53fe2831ca448efb3cfd3b85beed16dcf5d781d,added a share_all_vars option to ngx.location.capture to resume the old behavior of sharing all variables among parent and sub requests.
agentzh,2010-11-18 14:15:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/06563fa52857f453b2bcb525c0d13656b1de5a3a,06563fa52857f453b2bcb525c0d13656b1de5a3a,now we do not share variables by default.
agentzh,2010-11-18 13:27:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8eb0d80101b5f29c2e7d8cc1eab7ab5bda357977,8eb0d80101b5f29c2e7d8cc1eab7ab5bda357977,removed ngx.throw_error from the documentation.
agentzh,2010-11-18 13:24:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/82ff13ad1198ea71bb45e0a92ce9554f6b3c13b7,82ff13ad1198ea71bb45e0a92ce9554f6b3c13b7,more README love.
agentzh,2010-11-18 13:24:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1c1b04550d57616744e2a06998d8b270dc10d8b9,1c1b04550d57616744e2a06998d8b270dc10d8b9,implemented ngx.utc_strtime() and ngx.time().
agentzh,2010-11-18 12:44:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cbc0ca96c7f4fa7cde82f9ece1ee32ef5e342182,cbc0ca96c7f4fa7cde82f9ece1ee32ef5e342182,"further renamed ngx.utc_now to ngx.utc_time, and ngx.now to ngx.strnow per Piotr's suggestion."
agentzh,2010-11-18 12:11:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fa9f606ce7dc78424b0845a98b3a51fa7d8dd32f,fa9f606ce7dc78424b0845a98b3a51fa7d8dd32f,renamed ngx.time further to ngx.utc_now.
agentzh,2010-11-18 12:02:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8a06613c7d5334405144cc821abe408698f13b72,8a06613c7d5334405144cc821abe408698f13b72,documented that ngx.now() returns local time while ngx.time() returns GMT time.
agentzh,2010-11-18 12:00:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ad2b41ff6563e6704e8a62703f751471227e18a9,ad2b41ff6563e6704e8a62703f751471227e18a9,"renamed ngx.get_today() to ngx.today(), ngx.get_now() to ngx.now(), and ngx.get_now_ts() to ngx.time()."
agentzh,2010-11-18 11:41:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9ecb1f0730f893bad732c15fce1b9aea71fe1b87,9ecb1f0730f893bad732c15fce1b9aea71fe1b87,minor formatting fixes in README.
agentzh,2010-11-18 11:39:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f901a4064f0fdab7e0b4293558a181a8d85670e0,f901a4064f0fdab7e0b4293558a181a8d85670e0,"documented ngx.get_today(), ngx.get_now(), ngx.get_now_ts(), and ngx.cookie_time(t) in README."
agentzh,2010-11-18 11:31:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/77d344d3deb07af3e4e53554578aa8422252b451,77d344d3deb07af3e4e53554578aa8422252b451,implemented ngx.cookie_time(timestamp) as per Igor A. Valcov.
agentzh,2010-11-18 02:58:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a4b8f98d3d9fb333c88de4a114e26e943a9066f1,a4b8f98d3d9fb333c88de4a114e26e943a9066f1,added a link to chaoslawful's wiki page for ngx_lua.
agentzh,2010-11-18 02:56:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/76507f452d2df491741cd1220602bcaea821e2e8,76507f452d2df491741cd1220602bcaea821e2e8,minor README tweaks.
agentzh,2010-11-16 13:20:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b41e7dd962fe54b68df67e3dae8fd0acf5b100d7,b41e7dd962fe54b68df67e3dae8fd0acf5b100d7,removed non-GET method support in ngx.location.capture from the TODO list in README.
agentzh,2010-11-16 12:55:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1b87f64b0b66a0d81f2f589ad4dd9f309b72df29,1b87f64b0b66a0d81f2f589ad4dd9f309b72df29,"documented the option arg for ngx.location.capture as well as the ""method"" and ""body"" options."
agentzh,2010-11-16 12:50:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0e312b7b1a73e11817347970491896d7e92b4701,0e312b7b1a73e11817347970491896d7e92b4701,checked in the tests for POST/PUT/DELETE/HEAD subreqeusts issued by ngx.location.capture.
agentzh,2010-11-16 12:47:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e9a88981ae685b702b0db50daa71917ea39d510,8e9a88981ae685b702b0db50daa71917ea39d510,implemented the method and body options for ngx.location.capture.
agentzh,2010-11-16 03:41:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/539cad59910c6e55e94733ec03cae5607605b643,539cad59910c6e55e94733ec03cae5607605b643,fixed a typo in README.
agentzh,2010-11-16 03:35:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6bf961e2284f0675f9651e4a3a70b54d2024e93f,6bf961e2284f0675f9651e4a3a70b54d2024e93f,updated TODO section.
agentzh,2010-11-15 08:35:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e4a02b35086bb675a8a1612433858499aff9e353,e4a02b35086bb675a8a1612433858499aff9e353,now we escape all those chars escaped by FF3.5's encodeURIComponent in ngx.escape_uri.
agentzh,2010-11-15 04:05:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9ea82353a34ad2be9fdd15dda606ccd8ae9bb44a,9ea82353a34ad2be9fdd15dda606ccd8ae9bb44a,style fixes.
agentzh,2010-11-15 03:52:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/102608046305bce861ba6a71cd00c4439cfe10c3,102608046305bce861ba6a71cd00c4439cfe10c3,fixed line number.
agentzh,2010-11-15 03:20:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2cf4b0aa136da259c5c9316b11b2d775741a0c34,2cf4b0aa136da259c5c9316b11b2d775741a0c34,documented that nil args are allowed in print and ngx.log but not ngx.print nor ngx.say.
agentzh,2010-11-15 03:18:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/583f0075868af428befabbe3e6ad13d4fe737e57,583f0075868af428befabbe3e6ad13d4fe737e57,no longer allow nil arguments in ngx.print nor ngx.say.
agentzh,2010-11-15 02:54:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/69dabae30c4bb5f2cda71f4e2ec8650fc233c9b4,69dabae30c4bb5f2cda71f4e2ec8650fc233c9b4,added ngx.location.capture_multi to the TODO list.
agentzh,2010-11-14 08:51:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ee83dbf7881c3fc037bb4a7aa66a08d77307ea1d,ee83dbf7881c3fc037bb4a7aa66a08d77307ea1d,"now we allow use of nil in print(), ngx.log(), ngx.print(), and ngx.say()."
agentzh,2010-11-14 08:29:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cb4e032086877359ce03f19b09e3cc384478a5ce,cb4e032086877359ce03f19b09e3cc384478a5ce,more README tweaks.
agentzh,2010-11-14 08:28:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd45a1619e030339f1e33896bb4705816fa98ff0,fd45a1619e030339f1e33896bb4705816fa98ff0,more README tweaks.
agentzh,2010-11-14 08:24:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cca047e554e90ba2a5b59969b553d35f45e1d159,cca047e554e90ba2a5b59969b553d35f45e1d159,more README tweaks.
agentzh,2010-11-14 08:08:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1223e88e7f7e9b1497b9a9d7cd253a978deb0f3c,1223e88e7f7e9b1497b9a9d7cd253a978deb0f3c,minor README tweaks.
agentzh,2010-11-14 08:07:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a88715d9f5e5fa1c8d49d2292ef60ebc46710354,a88715d9f5e5fa1c8d49d2292ef60ebc46710354,"renamed ""NginX"" to ""Nginx"" in README because the former looks weird to me ;)"
agentzh,2010-11-14 08:06:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1de920040559234bc38d42b4a412bc122b20f644,1de920040559234bc38d42b4a412bc122b20f644,improved wording a bit in README.
agentzh,2010-11-14 08:04:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4383444b2831ee92a86667f311906b463fe380cb,4383444b2831ee92a86667f311906b463fe380cb,more comments on ngx.send_headers() in README.
agentzh,2010-11-14 08:02:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e5bd77e86545117730d3312dea41d25abc2e2673,e5bd77e86545117730d3312dea41d25abc2e2673,documented ngx.encode_base64 and ngx.decode_base64.
agentzh,2010-11-14 08:00:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b54c7568ad1c5074985b1014d764dfde72f90224,b54c7568ad1c5074985b1014d764dfde72f90224,renamed ngx.base64_encode and ngx.base64_decode to ngx.encode_base64 and ngx.decode_base64 for consistency.
agentzh,2010-11-14 07:50:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/47d397dd000f9dab4d9faa5e1d78f4cf8224d8a2,47d397dd000f9dab4d9faa5e1d78f4cf8224d8a2,documented res.header where res is the retval of ngx.location.capture.
agentzh,2010-11-14 07:48:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/45220955a0317fa47d08ff15371e0d11a57f4cb0,45220955a0317fa47d08ff15371e0d11a57f4cb0,implemented the response headers support in ngx.location.capture.
agentzh,2010-11-14 06:33:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/435a0a3a5bfb87700d1934f6bb3f09509835f88f,435a0a3a5bfb87700d1934f6bb3f09509835f88f,documented that keys in ngx.header.HEADER will be matched case-insentively.
agentzh,2010-11-12 09:19:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7af330114b868f0ae4bdea8a2a052c30c3144fc6,7af330114b868f0ae4bdea8a2a052c30c3144fc6,added a failing test for $arg_v not defiled side-effect bug.
agentzh,2010-11-10 12:22:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/783dc72ddba6749bf22bf99685b18ac5b52112a6,783dc72ddba6749bf22bf99685b18ac5b52112a6,minor optimizations by specifying pre-allocated item count in lua_createtable.
agentzh,2010-11-08 11:48:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e126d56649c841fef1390b99f8de12b0064b3a61,e126d56649c841fef1390b99f8de12b0064b3a61,"improved the error message: ""content_by_lua prematurely ended"" => ""content_by_lua aborted""."
agentzh,2010-11-07 09:22:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/04876fcf0714e6917bc5002ddc6081e57e966416,04876fcf0714e6917bc5002ddc6081e57e966416,now we make print in Lua use the ngx.NOTICE log level.
agentzh,2010-11-06 10:31:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3c998b20dff36060712b0dd152a1e594d8d4701d,3c998b20dff36060712b0dd152a1e594d8d4701d,renamed ngx.throw_error to ngx.exit. the former is now deprecated.
agentzh,2010-11-06 10:19:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/78667e42494e9d428d4f53ea15588a85864e99c2,78667e42494e9d428d4f53ea15588a85864e99c2,updated .gitignore.
agentzh,2010-11-06 10:18:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ed3cda136ff9a5dbe9c7e5bcdf0933e0885164bf,ed3cda136ff9a5dbe9c7e5bcdf0933e0885164bf,"now we make ""print"" use the debug log level and the ""lua print: "" prefix."
agentzh,2010-11-06 09:35:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1a29623113a97dababa7bac2f75d75d8084592c5,1a29623113a97dababa7bac2f75d75d8084592c5,confirmed that we work with 0.8.53.
agentzh,2010-11-05 15:58:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/96f6d4c606b79073205673076396022f10f4a469,96f6d4c606b79073205673076396022f10f4a469,now we cached the ndk.set_var.DIRECTIVE lua closure to eliminate config directive lookup at every call.
agentzh,2010-11-05 15:22:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c76f755bbb0df4d502f4f80450a54b9940a91e3d,c76f755bbb0df4d502f4f80450a54b9940a91e3d,"eliminate allocating ""hv"" on the heap to reduce runtime cost."
agentzh,2010-11-05 15:07:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/19c9415ad0b436734314bc1cdb7499ad696ce5b4,19c9415ad0b436734314bc1cdb7499ad696ce5b4,"now we also escape ""="" in ngx.escape_uri."
agentzh,2010-11-05 14:47:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9fd1a9704f9f70a1b4f46b0313274da1e653b430,9fd1a9704f9f70a1b4f46b0313274da1e653b430,now we allow ngx.throw_error(0).
agentzh,2010-11-05 14:26:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0927d6439edfa9c6c4eba2e68c6fab2e10d115d8,0927d6439edfa9c6c4eba2e68c6fab2e10d115d8,fixed typos in error messages.
agentzh,2010-11-05 14:22:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/855d522e182fd4397a069c4f028c9e463b147b9c,855d522e182fd4397a069c4f028c9e463b147b9c,avoid using newlines in closure factory wrapper code to ensure the line numbers in error messages are correct.
agentzh,2010-11-05 12:45:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7c8c131afad7e9a6b2de1888d6202af8d15b1849,7c8c131afad7e9a6b2de1888d6202af8d15b1849,documented ndk.set_var.DIRECTIVE interface.
agentzh,2010-11-05 12:40:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/16d947f3a797adeae8506152d7a26dee7909e8ec,16d947f3a797adeae8506152d7a26dee7909e8ec,checked in 018-ndk.t for ndk.set_var.xxx testing.
agentzh,2010-11-05 12:24:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cdc8832399b3bd5bd7a571d36ebaab3b7ef7c825,cdc8832399b3bd5bd7a571d36ebaab3b7ef7c825,added static for clarity.
agentzh,2010-11-05 11:47:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/abd0f29d2d94d83dead68896be7d5dc656cd9215,abd0f29d2d94d83dead68896be7d5dc656cd9215,minor style fixes in 006-escape.t.
agentzh,2010-11-05 11:46:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/25284b10c3472c9af085e84e35a6b7c3ab3ef7fd,25284b10c3472c9af085e84e35a6b7c3ab3ef7fd,now we also escape / in ngx.escape_uri.
agentzh,2010-11-05 09:26:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d92839afb7cf000252383e3686e8c84af3587c76,d92839afb7cf000252383e3686e8c84af3587c76,implemented ndk.set_var.DIRECTIVE such that we can invoke directives of other nginx C modules directly from within Lua :D
agentzh,2010-11-05 07:19:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d954160e3f5ee99d7eb63e3aa47cf50139bf3b4c,d954160e3f5ee99d7eb63e3aa47cf50139bf3b4c,implemented and documented and tested ngx.exec to named locations.
agentzh,2010-11-05 06:59:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6fc54f5ef1c021e6a454c3e3f56a90c2f9c763ff,6fc54f5ef1c021e6a454c3e3f56a90c2f9c763ff,fixed a typo in README.
agentzh,2010-11-05 06:58:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f33ac9d2e312024f96f3f2a860f3970ef894eadf,f33ac9d2e312024f96f3f2a860f3970ef894eadf,now we allow overriding multi-value headers.
agentzh,2010-11-05 05:11:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/10deafbf7dc2fc9129e903eb4d6da10bdc94ca78,10deafbf7dc2fc9129e903eb4d6da10bdc94ca78,documented the multi-value header setting feature.
agentzh,2010-11-05 05:09:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a1a32738b74b9e6b2cebf1aa7ea5ae45a123e851,a1a32738b74b9e6b2cebf1aa7ea5ae45a123e851,implemented multi-value header setting.
agentzh,2010-11-04 09:30:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ce82ec28c2fae9b6ed20f98145ff9d4d8ed15b5b,ce82ec28c2fae9b6ed20f98145ff9d4d8ed15b5b,states that ngx.exec never returns.
agentzh,2010-11-04 09:29:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3811a28b898812e5e9a8d13d91bad94b0898fb6d,3811a28b898812e5e9a8d13d91bad94b0898fb6d,documented how to clear a response header.
agentzh,2010-11-04 09:27:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/226a207df87b77aafafc6bbd35c1bb5563e97c7f,226a207df87b77aafafc6bbd35c1bb5563e97c7f,"documented ngx.header.xxx, ngx.exec, and ngx.status in README."
agentzh,2010-11-04 09:03:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/acdc74c143767b781d8d512c74ac2744b6ca1a0b,acdc74c143767b781d8d512c74ac2744b6ca1a0b,implemented ngx.exec for Lua.
agentzh,2010-11-04 08:00:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/53abbc08dbaaaad25870ce66fafea51b8f0e94bb,53abbc08dbaaaad25870ce66fafea51b8f0e94bb,removed C++ style line comments.
agentzh,2010-11-04 07:34:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0fa54cef423f574cfb833f786f60c72572e71fb2,0fa54cef423f574cfb833f786f60c72572e71fb2,more style fixes.
agentzh,2010-11-04 07:32:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0eebb17bafed4afd678b6bbf508297138af2a0ce,0eebb17bafed4afd678b6bbf508297138af2a0ce,coding style fixes.
agentzh,2010-11-04 05:18:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e6712e79718b1df7d967e3a6cac74c1a224ce6db,e6712e79718b1df7d967e3a6cac74c1a224ce6db,repeat_each(2) in 016-headers.t.
agentzh,2010-11-04 05:18:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/da9fa90a7d1695d3eb78126b6b8375076b020c24,da9fa90a7d1695d3eb78126b6b8375076b020c24,checked in the test file 016-headers.t
agentzh,2010-11-04 05:15:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f5bac10fcdf21531f3c90fd47ca7b42f22fae92d,f5bac10fcdf21531f3c90fd47ca7b42f22fae92d,implemented the ngx.header.foo API for Lua to set/add/clear response headers.
agentzh,2010-10-31 09:04:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cea93b2f5e9dc037a48bc757a774706b0b5bbc5b,cea93b2f5e9dc037a48bc757a774706b0b5bbc5b,"implemented 'ngx.status = xxx' and 'my_var = ngx.status' on the Lua land, which is just mapped to nginx core's r->headers_out.status"
agentzh,2010-10-19 03:39:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7dccc5a330311f433f92c35307e13ba591120b79,7dccc5a330311f433f92c35307e13ba591120b79,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2010-10-19 03:39:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b04fff9f808123df41887b3f23057dda63dfb423,b04fff9f808123df41887b3f23057dda63dfb423,"nginx core's ngx.escape_uri does not escape the plus sign (+), we now use our patched version of this function."
chaoslawful,2010-10-15 13:26:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ff30f4436497255c2c47a009138d69b5b17d798d,ff30f4436497255c2c47a009138d69b5b17d798d,merged marcus' modification; updated ndk depedency
agentzh,2010-10-08 11:48:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7aff45f2ac9f59cce26bcae7317d58729b099e57,7aff45f2ac9f59cce26bcae7317d58729b099e57,force enabling NGX_OPENSSL_MD5 to solve weird complation issues.
agentzh,2010-10-07 10:54:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f75abbaf847116f5f76dd9cfbd5afbe2d1e1d332,f75abbaf847116f5f76dd9cfbd5afbe2d1e1d332,turned off ddebug.
agentzh,2010-10-07 10:52:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/238c17c224d3b51697932a48f99fae7b5d18ac69,238c17c224d3b51697932a48f99fae7b5d18ac69,renamed 011-bugs.t to 014-bugs.t
agentzh,2010-10-07 10:51:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5d0f7a8e80d7327756bccc5676bbac2e92fec687,5d0f7a8e80d7327756bccc5676bbac2e92fec687,tweaked kindy's patch for base64/md5_bin/get_today etc a bit. and pfree aggressively to prevent leaking
kindy61,2010-10-06 19:06:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3348b1534392f04df72759a8d40aabde3e35b415,3348b1534392f04df72759a8d40aabde3e35b415,"added:
ngx.now()
ngx.now_ts() ~ timestamp
ngx.md5_bin(s)
ngx.base64_encode(s)
ngx.base64_decode(s)"
agentzh,2010-09-17 08:35:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0a6728d7827ed5312eb65a7bb1e4507e7774298a,0a6728d7827ed5312eb65a7bb1e4507e7774298a,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2010-09-17 08:34:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fadcc9f8b05d28b76b97c2b61cf55791ab7e7d95,fadcc9f8b05d28b76b97c2b61cf55791ab7e7d95,checked in t/011-bugs.t.
chaoslawful,2010-09-13 00:52:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ed8abcc5141179c36470f8ecf0212d9d7fb0e05e,ed8abcc5141179c36470f8ecf0212d9d7fb0e05e,updated config; updated dependency
agentzh,2010-09-08 12:54:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4eb5d5e435f9d0c17d67335a18ae1d98773b915b,4eb5d5e435f9d0c17d67335a18ae1d98773b915b,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2010-09-08 12:54:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/18297b16c5815bc784f9b0667efb048951801ff4,18297b16c5815bc784f9b0667efb048951801ff4,fixed ngx.quote_sql_str which should put the surrounding quotes.
chaoslawful,2010-09-08 04:12:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5a77f7ce9fd10538bd9cdf29f7d7f792f1194a92,5a77f7ce9fd10538bd9cdf29f7d7f792f1194a92,removed unused readme file
chaoslawful,2010-09-06 04:22:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e3f677a149fe4a408d8d93695514e3aa3f392dc9,e3f677a149fe4a408d8d93695514e3aa3f392dc9,removed skip tag for ngx_http_auth_request tests
chaoslawful,2010-09-06 01:32:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/387f4d5b231998418f5efc3c85cb4f2b5880e5e4,387f4d5b231998418f5efc3c85cb4f2b5880e5e4,modified build script; modified installation section of readme
chaoslawful,2010-09-05 17:55:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/712f1d15baf170e520fb8bec9d54e60457ffbf0b,712f1d15baf170e520fb8bec9d54e60457ffbf0b,complement the directive documents
chaoslawful,2010-09-05 16:51:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dc9797ecc4491402570b6fa81b3df93dd36548e2,dc9797ecc4491402570b6fa81b3df93dd36548e2,removed finished job: read request body
chaoslawful,2010-09-05 16:50:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2b134cda56a0c55426b451611f578b4151fc825d,2b134cda56a0c55426b451611f578b4151fc825d,added lua_need_request_body directive to force reading request body; modified tests prefix
chaoslawful,2010-09-04 10:08:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/253a647db4662b6746fdc64dfc0f9c3a5d77c84b,253a647db4662b6746fdc64dfc0f9c3a5d77c84b,fixed log level signess mismatch
chaoslawful,2010-09-03 16:50:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/71c41e92677d06a25463738b0496f6ac91060658,71c41e92677d06a25463738b0496f6ac91060658,fix readme typo
chaoslawful,2010-09-03 16:49:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/20c22c2f8c25aa52e26182e58e8a7c63486c17b4,20c22c2f8c25aa52e26182e58e8a7c63486c17b4,fix readme fmt
chaoslawful,2010-09-03 16:47:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1baf7b6471f3bf8afcfde8e59d67949a234f305e,1baf7b6471f3bf8afcfde8e59d67949a234f305e,fix readme fmt
chaoslawful,2010-09-03 16:46:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6073e0ea234b132cdc7e6145217e9c1126914e64,6073e0ea234b132cdc7e6145217e9c1126914e64,"removed todo file, move all contents into readme"
chaoslawful,2010-09-03 16:39:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6621e4806f8c84c5836e03ed4f8b268f1b2042f9,6621e4806f8c84c5836e03ed4f8b268f1b2042f9,modified todo fmt; add issues in readme
chaoslawful,2010-09-03 16:35:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7e808f71bb87e2daa8ded3be4d54881f7df4432c,7e808f71bb87e2daa8ded3be4d54881f7df4432c,fix readme fmt
chaoslawful,2010-09-03 16:33:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5cc5897fda42967da0174e7fa14b5086342a1e15,5cc5897fda42967da0174e7fa14b5086342a1e15,fix readme fmt
chaoslawful,2010-09-03 16:32:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/96e6f40209a3cbd24cb653e14c7971a60cbc6715,96e6f40209a3cbd24cb653e14c7971a60cbc6715,fix readme fmt
chaoslawful,2010-09-03 16:29:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/488d871c5036e20a49539b8d90fd3208f395c94a,488d871c5036e20a49539b8d90fd3208f395c94a,fix readme fmt
chaoslawful,2010-09-03 16:26:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/288ef90b0d2811f58acbba988ab8942578cc7341,288ef90b0d2811f58acbba988ab8942578cc7341,fix readme fmt
chaoslawful,2010-09-03 16:22:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e93880bc96eed49cede177136ef6d5b30340029,8e93880bc96eed49cede177136ef6d5b30340029,modified readme fmt
chaoslawful,2010-09-03 16:19:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d6d01dd894ace62b77ca8f1d9c9f98032130d910,d6d01dd894ace62b77ca8f1d9c9f98032130d910,format readme
chaoslawful,2010-09-03 16:04:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c78ba3d7fbb051d8dcc1f4c973c525cbda0f6473,c78ba3d7fbb051d8dcc1f4c973c525cbda0f6473,added markdown format readme
chaoslawful,2010-09-03 14:56:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cea679320cf9bad491d86bceec79ed29255fbe28,cea679320cf9bad491d86bceec79ed29255fbe28,added new feature intro to README
chaoslawful,2010-09-03 14:48:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/403167a27fbd1e76893cbb5235db7421836286e9,403167a27fbd1e76893cbb5235db7421836286e9,added notes to todo list
chaoslawful,2010-09-03 14:42:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/75b3362d5a2c9a81b1b0f0ca6569a00faa7e8d91,75b3362d5a2c9a81b1b0f0ca6569a00faa7e8d91,"* allow default path expanding in path/cpath and added tests
* added revim script to automatically insert vim modeline to sources
* added retab script to reexpand tabs for given files
* format sources and tests"
chaoslawful,2010-09-03 10:57:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9f206095f02c311da897f9e369ce826af3124c0c,9f206095f02c311da897f9e369ce826af3124c0c,remove ngx.log() from todo list
chaoslawful,2010-09-03 10:55:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bd5c0f471715897f1a64a074afb197deb091091d,bd5c0f471715897f1a64a074afb197deb091091d,"* added ngx.log() api and prime unit-tests
* restored missing vim filetype in unit-tests"
chaoslawful,2010-09-03 10:04:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1b18a2188496426529ad8d8804582a0a26d367e5,1b18a2188496426529ad8d8804582a0a26d367e5,updated todo list
chaoslawful,2010-09-03 10:03:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eeea4fca25417780eed13f80604badf43e5ccdd7,eeea4fca25417780eed13f80604badf43e5ccdd7,"Revert ""xx""

This reverts commit cee9eb63afff1e69598ea70c77943409c378f403."
chaoslawful,2010-09-02 17:22:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cee9eb63afff1e69598ea70c77943409c378f403,cee9eb63afff1e69598ea70c77943409c378f403,xx
chaoslawful,2010-09-02 14:32:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eb1c7ea8d79798f1cbc99c25a43e6e16be33dc69,eb1c7ea8d79798f1cbc99c25a43e6e16be33dc69,reindexed tests
chaoslawful,2010-09-02 14:30:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fd819a18ba82ece3b06dc18c749fa47536197f67,fd819a18ba82ece3b06dc18c749fa47536197f67,updated dependency
shrimp,2010-09-02 08:55:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e09ee9fd28bd459093900cd42309bb20a5544ab7,e09ee9fd28bd459093900cd42309bb20a5544ab7,added ngx.get_today support
agentzh,2010-09-02 06:43:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/15327bb00c83d516cef4b5c12a93077367830eb5,15327bb00c83d516cef4b5c12a93077367830eb5,resolved conflict between the branches ngx_md5 and share_var.
shrimp,2010-09-02 06:20:09,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/208a5468e23cb019ac3f7a745731b4b0f975696d,208a5468e23cb019ac3f7a745731b4b0f975696d,added tests of using ngx.md5 in set_by_lua
agentzh,2010-09-02 05:44:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b2ad6af08a695bf5cfe7eb2b98a89ad4d922aaf8,b2ad6af08a695bf5cfe7eb2b98a89ad4d922aaf8,Merge branch 'share_var'
chaoslawful,2010-09-02 05:39:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/900e3510470bdb623133594bb566569a9963268e,900e3510470bdb623133594bb566569a9963268e,"Merge branch 'master' of github.com:chaoslawful/lua-nginx-module

Conflicts:
	t/0-init.t"
PiotrSikora,2010-09-02 07:21:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5a563ab774869cf8e4a36b9ac66e83584fd03535,5a563ab774869cf8e4a36b9ac66e83584fd03535,Flush data from memcached during tests initialization.
chaoslawful,2010-09-02 05:35:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/604e01e32eb28f054848b849bb61aa8f72e6581a,604e01e32eb28f054848b849bb61aa8f72e6581a,flush testing memcached before tests begins
chaoslawful,2010-09-02 04:11:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d8bbb0d7f650de2ff13f91bcce4342fcd874b433,d8bbb0d7f650de2ff13f91bcce4342fcd874b433,added testing dependency modules order notes in README
shrimp,2010-09-02 03:50:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1981849256043b59f31e05592c3d7c6f6b5fbbc1,1981849256043b59f31e05592c3d7c6f6b5fbbc1,added a test of share variables in main request
shrimp,2010-09-02 03:30:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bfdd68b57efd34135e986aa9c85c3d0fc7afa6cb,bfdd68b57efd34135e986aa9c85c3d0fc7afa6cb,see nil in ngx.md5 as a null string
chaoslawful,2010-09-02 03:04:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eadf67ed5fe439801b3ee190a92d1e60cbc860dc,eadf67ed5fe439801b3ee190a92d1e60cbc860dc,"removed explicitly testing dependencies, note them in README instead"
chaoslawful,2010-09-02 01:46:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1311727d727db17687db8de932b58d4740a02056,1311727d727db17687db8de932b58d4740a02056,added impl of ngx.log to todo list; updated dependencies
PiotrSikora,2010-09-02 01:55:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9c1b5d5b13b8cf5c71ea27a883181ac30acb8438,9c1b5d5b13b8cf5c71ea27a883181ac30acb8438,Remove missed skip_nginx block.
PiotrSikora,2010-09-01 12:14:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eb2381c90c1dfbe7bd699564d796d446137e0d94,eb2381c90c1dfbe7bd699564d796d446137e0d94,Don't hide the fact that this test doesn't work with nginx-0.8.42+.
shrimp,2010-09-01 10:37:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e1eabdcfe7cbc3fce55e7bb3bcc979c83c7d1d63,e1eabdcfe7cbc3fce55e7bb3bcc979c83c7d1d63,added a test of sharing variables
shrimp,2010-09-01 10:36:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0568303bdcdcaecf2ec1fcb998d862c4a25796ff,0568303bdcdcaecf2ec1fcb998d862c4a25796ff,added a test of sharing variables
agentzh,2010-09-01 09:36:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/361bc3acd92363bc48e2817d0046ba3a35cdc296,361bc3acd92363bc48e2817d0046ba3a35cdc296,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
PiotrSikora,2010-09-01 11:20:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/93ce856ea26dfa70fb550d91d03a39d3eb67fac8,93ce856ea26dfa70fb550d91d03a39d3eb67fac8,Disable DDEBUG and lower the number of repeats for content tests.
agentzh,2010-09-01 09:36:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4c34ec535d39590c0bff6e8bb6e3ce00961d7036,4c34ec535d39590c0bff6e8bb6e3ce00961d7036,turned off ddebug :P
shrimp,2010-09-01 08:15:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f796a1aea4a5403e7afcc26c2ade08acb8f79bba,f796a1aea4a5403e7afcc26c2ade08acb8f79bba,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
PiotrSikora,2010-09-01 09:51:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/112f755d9ec01afd68ebc9814bb4fa25ef4f6415,112f755d9ec01afd68ebc9814bb4fa25ef4f6415,Fix missed lua_cpath.
shrimp,2010-09-01 08:09:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d3525580db6f11191c9eea757c70ae44b79e196a,d3525580db6f11191c9eea757c70ae44b79e196a,fixed a bug about null string in ngx.quote_sql_str
chaoslawful,2010-09-01 06:30:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3ad40f2cf30957bf8ff42e2cd31240b2c697d2a1,3ad40f2cf30957bf8ff42e2cd31240b2c697d2a1,updated dependecies
chaoslawful,2010-09-01 06:29:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2eda397771d40711b335959680486799f7e41efe,2eda397771d40711b335959680486799f7e41efe,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
chaoslawful,2010-09-01 06:24:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/52746dbfc34c747e0f591e573aefd90bf95ce374,52746dbfc34c747e0f591e573aefd90bf95ce374,added lua cmod path in CentOS to tests
shrimp,2010-09-01 06:12:18,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b559b6c84596d68afce0c5f3e1b8b313e929bd19,b559b6c84596d68afce0c5f3e1b8b313e929bd19,added ngx.md5 support
shrimp,2010-09-01 05:49:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/321d63ab20d321a5e7dae91b346889b44bc49bc4,321d63ab20d321a5e7dae91b346889b44bc49bc4,share variables in subrequest
agentzh,2010-09-01 04:23:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/670f1057baebaca154781a0d08bd2fee9220ebbd,670f1057baebaca154781a0d08bd2fee9220ebbd,added more tests.
agentzh,2010-09-01 04:20:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2ae707c62cb35a1fc8dcb41fc3177bce956bc5f0,2ae707c62cb35a1fc8dcb41fc3177bce956bc5f0,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
PiotrSikora,2010-09-01 05:24:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d6497f1d2ce918d4827320dfb81394f1dac3779f,d6497f1d2ce918d4827320dfb81394f1dac3779f,Make it work with the build farm.
agentzh,2010-09-01 04:20:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c156cbd311de5fb4d8e825d181a7337cf7fe1fee,c156cbd311de5fb4d8e825d181a7337cf7fe1fee,tags to spaces.
agentzh,2010-09-01 03:18:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6075d86b1d4b84df928ca3ec7e46db4051c9071c,6075d86b1d4b84df928ca3ec7e46db4051c9071c,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2010-09-01 03:08:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1f98681852947cdd96646c5a1ab1b4e58e889926,1f98681852947cdd96646c5a1ab1b4e58e889926,"Revert ""some tabs to spaces.""

This reverts commit f28dbe39e31a43b70e16f7c716e3a5f97292abbc."
agentzh,2010-09-01 03:07:23,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c149e866833f527fa10d9b633fac647abca4fe6e,c149e866833f527fa10d9b633fac647abca4fe6e,"Revert ""share variables in subrequest""

This reverts commit 5e8cf3d5d5ce8b6927f0fa9a43c648b71967c774."
agentzh,2010-09-01 03:06:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a0ca0193f82ec974298f519832a859d2bcaed276,a0ca0193f82ec974298f519832a859d2bcaed276,"Revert ""added ngx.md5 support""

This reverts commit 611c8568da72c15901744a5d95a7e14f38050c6a."
agentzh,2010-09-01 03:06:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5042c6e62c9e52b19ab0d0be34048575e02c2039,5042c6e62c9e52b19ab0d0be34048575e02c2039,"Revert ""fixed unitialized pad and ngx_md5 return value type issues.""

This reverts commit 65e3643395e858bdbf116cebca54c26f8c852c48."
agentzh,2010-09-01 02:55:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/65e3643395e858bdbf116cebca54c26f8c852c48,65e3643395e858bdbf116cebca54c26f8c852c48,fixed unitialized pad and ngx_md5 return value type issues.
agentzh,2010-09-01 02:40:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/88f35b179fbb6061ddba71091fc73c39f343bb43,88f35b179fbb6061ddba71091fc73c39f343bb43,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2010-09-01 02:40:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f28dbe39e31a43b70e16f7c716e3a5f97292abbc,f28dbe39e31a43b70e16f7c716e3a5f97292abbc,some tabs to spaces.
shrimp,2010-09-01 02:38:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3d071fa82a700da31d4a1cb5b886375204a7a284,3d071fa82a700da31d4a1cb5b886375204a7a284,added ngx.md5 ...
chaoslawful,2010-09-01 02:34:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/de24252a2d3d4c73cacff2ecb8767363d89329a4,de24252a2d3d4c73cacff2ecb8767363d89329a4,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
shrimp,2010-09-01 02:30:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/611c8568da72c15901744a5d95a7e14f38050c6a,611c8568da72c15901744a5d95a7e14f38050c6a,added ngx.md5 support
chaoslawful,2010-08-31 16:05:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dbb0713446f6c5e557913598ab64fea10ea8e3c7,dbb0713446f6c5e557913598ab64fea10ea8e3c7,added reported issues
shrimp,2010-08-31 15:27:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5e8cf3d5d5ce8b6927f0fa9a43c648b71967c774,5e8cf3d5d5ce8b6927f0fa9a43c648b71967c774,share variables in subrequest
shrimp,2010-08-30 07:49:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/afa444855848371cf0a1bafe6cd662e8111aea56,afa444855848371cf0a1bafe6cd662e8111aea56,added test of using symbol $ in inline lua
chaoslawful,2010-08-30 03:57:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/82a2d6f7c5728370d54a5e7b3869e28571ce9eed,82a2d6f7c5728370d54a5e7b3869e28571ce9eed,updated dependencies
chaoslawful,2010-08-30 03:53:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/30df65d82071e2a93b1941dd58a69b1cecd66a13,30df65d82071e2a93b1941dd58a69b1cecd66a13,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2010-08-30 03:41:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/048c3682de958b11fd4b0d2b85ee836051581fdf,048c3682de958b11fd4b0d2b85ee836051581fdf,committed my merge.
agentzh,2010-08-30 03:39:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ad506f9df118c20ed4f3ac291bbbe78892827dac,ad506f9df118c20ed4f3ac291bbbe78892827dac,checked in more tests.
shrimp,2010-08-30 02:01:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a18285ba865de73ae600791730b85b3d9e10a722,a18285ba865de73ae600791730b85b3d9e10a722,added ngx.quote_sql_str
chaoslawful,2010-08-27 12:08:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/324cff234e28b01363ef21b1115bc576875153ca,324cff234e28b01363ef21b1115bc576875153ca,added todo lists
chaoslawful,2010-08-26 03:44:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c00573fbfac16db6f4c0871aa6fb9941b8b4403f,c00573fbfac16db6f4c0871aa6fb9941b8b4403f,fixed several problems in tests
chaoslawful,2010-08-25 14:21:27,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/189e56da5edaf0a71bc3b5edc46ca45a4bcd6fbb,189e56da5edaf0a71bc3b5edc46ca45a4bcd6fbb,"* updated depdencies
* added vm panic protection for content_by_lua directives
* skipped not-accurate-enough test"
agentzh,2010-08-25 03:43:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9fea98919e38b1b292ea11b53d1be834b8da135e,9fea98919e38b1b292ea11b53d1be834b8da135e,enable that bug for ngx_lua.
chaoslawful,2010-08-20 13:32:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/202d948d761917b835e4888a04b2348232c10152,202d948d761917b835e4888a04b2348232c10152,updated dependencies
agentzh,2010-08-20 10:08:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9566fd75199d416cae2b6e717ae5ad775e0b546c,9566fd75199d416cae2b6e717ae5ad775e0b546c,make the lua wev handler check r->done and ctx->cleanup.
agentzh,2010-08-06 08:13:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/547786f1c303488e75564f8fb9610941f928ac4e,547786f1c303488e75564f8fb9610941f928ac4e,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2010-08-06 08:12:40,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/00b94607f41f1af0d298c58b3eb55bfc06b08254,00b94607f41f1af0d298c58b3eb55bfc06b08254,mentioned that our test suite requires th engx_auth_request module.
chaoslawful,2010-08-06 03:53:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7832a117b63529bae1ca74807542aa99943559df,7832a117b63529bae1ca74807542aa99943559df,resynced external dependencies
agentzh,2010-08-05 06:59:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b9459f1cc2c85a4451f2f34cc0b3d58a178d0918,b9459f1cc2c85a4451f2f34cc0b3d58a178d0918,documented how to build this module with LuaJIT 2.0 w/o patching config.
agentzh,2010-08-05 06:54:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d934c912ff1ea05eff1170bceee3955c8acc14ac,d934c912ff1ea05eff1170bceee3955c8acc14ac,added support for LUAJIT_LIB and LUAJIT_INC env in config. also croak when it fail to find lua/luajit when LUA_LIB or LUAJIT_LIB is set.
agentzh,2010-08-04 11:49:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4d057e4868ee04ef1c8ba344942939af339fedad,4d057e4868ee04ef1c8ba344942939af339fedad,fixed more bad links due to github escaping.
agentzh,2010-08-04 11:48:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ffb1f4326049291a866455c8657a51175c9d2994,ffb1f4326049291a866455c8657a51175c9d2994,fixed a link due to github escaping.
agentzh,2010-08-04 03:16:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d353933d0d682037db5527ae84ffed1a339aa07e,d353933d0d682037db5527ae84ffed1a339aa07e,tweaked README more.
agentzh,2010-08-04 03:15:00,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/df79322ab4a2b075127a3c672e9ec7a1c5c8591f,df79322ab4a2b075127a3c672e9ec7a1c5c8591f,tweaked README a bit more.
agentzh,2010-08-04 02:48:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/26d9dc4cd7965b17c635c910ab110fe25f51a4ed,26d9dc4cd7965b17c635c910ab110fe25f51a4ed,claims that we are already production ready :)
agentzh,2010-08-04 02:46:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9f45d4da24f5aed6f57f15201f427881d9750a0f,9f45d4da24f5aed6f57f15201f427881d9750a0f,splitted lines that are too long :)
agentzh,2010-08-04 02:45:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5e4dc3157a43b6fc384ba067809eda94be0c68d7,5e4dc3157a43b6fc384ba067809eda94be0c68d7,added a performance section to README.
agentzh,2010-08-04 02:41:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c26249505d1fbc7e064e8cc5ad9a42f3fb0e63a5,c26249505d1fbc7e064e8cc5ad9a42f3fb0e63a5,splitted long lines.
agentzh,2010-08-04 02:39:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a2f5cbe21b955a9ff64b2c8ad1e07e67a6997714,a2f5cbe21b955a9ff64b2c8ad1e07e67a6997714,documented the Nginx Lua API that we have already supported.
agentzh,2010-08-04 02:24:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eb9d381a68efe24f737526e272877fec4b99302d,eb9d381a68efe24f737526e272877fec4b99302d,documented the lua_package_path and lua_package_cpath directives.
agentzh,2010-08-03 13:26:16,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/891dffa8f7716136ecaf46773887b4a5ec95da74,891dffa8f7716136ecaf46773887b4a5ec95da74,more ddebug info...
agentzh,2010-08-03 13:14:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/52d2f6cd9dd52896d2e58eb027efb23f461f7b86,52d2f6cd9dd52896d2e58eb027efb23f461f7b86,fixed compatibility with nginx 0.8.36 and 0.7.66+.
agentzh,2010-08-03 12:32:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a146d3082c3704951eecbb74aa947dfc045ea7e7,a146d3082c3704951eecbb74aa947dfc045ea7e7,added support for lua_package_path and lua_package_cpath directives as per Piotr Sikora's suggestion.
agentzh,2010-07-31 10:01:54,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2540acd81c3e6ffdc349ef6c3b19b35ea75ef754,2540acd81c3e6ffdc349ef6c3b19b35ea75ef754,fixed a compilation error in luaL_error invocations.
agentzh,2010-07-31 09:59:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5b94570cc145707c6883bc6a6b59eba0d3cd7c61,5b94570cc145707c6883bc6a6b59eba0d3cd7c61,"use ""return luaL_error(...)"" instead of ""return NGX_ERROR"" in lua c functions."
agentzh,2010-07-31 09:56:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/16627e894f6d4a2e791db0bfca585ba0b820a6f4,16627e894f6d4a2e791db0bfca585ba0b820a6f4,implemented ngx.escape_uri and ngx.unescape_uri in both set_by_lua* and content_by_lua*.
agentzh,2010-07-31 09:33:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/62e9a546024e5202b4954b3faa6b15da54a053bf,62e9a546024e5202b4954b3faa6b15da54a053bf,even more ngx.HTTP_XXX constants.
agentzh,2010-07-31 09:31:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/514befedb7a8436508553e8da76250f3ecccf8eb,514befedb7a8436508553e8da76250f3ecccf8eb,more ngx.HTTP_XXX constants.
agentzh,2010-07-31 09:25:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c09313d9eaa93291b22712f1c30e1391cb26a2b2,c09313d9eaa93291b22712f1c30e1391cb26a2b2,minor coding style fixes.
agentzh,2010-07-31 09:24:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fac21194a3c56c06143e9fbe93becb1388f4f592,fac21194a3c56c06143e9fbe93becb1388f4f592,splitted a long long line of code.
agentzh,2010-07-31 09:23:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/64dd62de2aca862877939fdc4ced61c62ef96c3c,64dd62de2aca862877939fdc4ced61c62ef96c3c,fixed an memory issue in ngx.var.foo assignment: we should copy out the pointer returned by lua_tolstring.
agentzh,2010-07-31 08:00:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b69e7b5e9b9f71316c72f4eb30772c495ffb5154,b69e7b5e9b9f71316c72f4eb30772c495ffb5154,croak when setting non-existent nginx variables in Lua.
agentzh,2010-07-31 07:55:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5ad33b74b179d63c2871e48d03438d2e9b1b5424,5ad33b74b179d63c2871e48d03438d2e9b1b5424,added tests for setting nginx variables from within content_by_lua Lua code.
agentzh,2010-07-31 07:50:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bba0946a702fb890aad0fff032f3bd35ba6050bd,bba0946a702fb890aad0fff032f3bd35ba6050bd,"direct assignment to nginx variables from within Lua code as in ""ngx.var.some_var = 32"" now works :D"
agentzh,2010-07-30 09:52:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9abf8f2080bb8b208cb6d5ccce43ca8b8e5e2f67,9abf8f2080bb8b208cb6d5ccce43ca8b8e5e2f67,added support for reading nginx variables directly from within set_by_lua by means of ngx.var.foo.
agentzh,2010-07-15 03:41:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/70467b68a6cf6de8057a8e071f6f5d2ceefeec21,70467b68a6cf6de8057a8e071f6f5d2ceefeec21,turned off ddebug.
agentzh,2010-07-15 03:08:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a97c330a1f531c26b2472439b61f3faf2bcca7f9,a97c330a1f531c26b2472439b61f3faf2bcca7f9,confirmed that we work with nginx 0.8.45.
agentzh,2010-07-15 03:04:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/41261ce769beacacf8bcc633ba91d8d80076e268,41261ce769beacacf8bcc633ba91d8d80076e268,emphasized that default_type is used to control the MIME-type of the response.
agentzh,2010-07-08 14:02:37,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/497f2b7570f5345a11aaad9f23976ec5b121b5f9,497f2b7570f5345a11aaad9f23976ec5b121b5f9,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2010-07-08 13:51:55,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ea4c8b6ac0aa4dbc633e1e8a4ff0546a28a2fa67,ea4c8b6ac0aa4dbc633e1e8a4ff0546a28a2fa67,tab to spaces in cache.c
chaoslawful,2010-07-08 13:48:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2bdd9051afedc2571f335de01dad1a53d571318e,2bdd9051afedc2571f335de01dad1a53d571318e,updated echo-nginx-module dependency
chaoslawful,2010-07-08 13:46:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/494856411328a4b54507215aed33584d079471db,494856411328a4b54507215aed33584d079471db,update test-nginx and ngx_devel_kit dependency
agentzh,2010-07-08 12:44:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/967f7dab989427728c5b951400c30837f5eba49c,967f7dab989427728c5b951400c30837f5eba49c,repeat more times in the test suite.
agentzh,2010-07-08 12:33:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6d4830396a4179ab3b100f859236cf551ffe48d7,6d4830396a4179ab3b100f859236cf551ffe48d7,refactored the ngx.var.xxx implementation and added a (passing) test case for content_by_lua + ngx_auth_request
agentzh,2010-07-08 11:54:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ef259e7ce217f7a4c13948431b210ea6b5f4a7b8,ef259e7ce217f7a4c13948431b210ea6b5f4a7b8,implemented ngx.throw_error interface.
agentzh,2010-07-08 08:59:01,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4af58bae1b0aeafb5e5c1ca8d221bef8562dd6d2,4af58bae1b0aeafb5e5c1ca8d221bef8562dd6d2,more tests for require.
agentzh,2010-07-08 08:54:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5cf560bc67a516dbede41da857a87af5dca8a6c2,5cf560bc67a516dbede41da857a87af5dca8a6c2,restored valgrind.suppress file.
agentzh,2010-07-08 08:29:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/993590daf0842f02164bdd220b5ce14367601714,993590daf0842f02164bdd220b5ce14367601714,better error diagnostics.
agentzh,2010-07-08 07:29:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8f764bf538cc8aea90d13bf08d558dbacabae8ac,8f764bf538cc8aea90d13bf08d558dbacabae8ac,more tweaks.
agentzh,2010-07-08 07:28:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/1d33e894646927d51af8fc5082e8f5c1819e6054,1d33e894646927d51af8fc5082e8f5c1819e6054,more tweaks.
agentzh,2010-07-08 07:20:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5a50cfd9a5f1679e4430daf9d925785ec08b16c3,5a50cfd9a5f1679e4430daf9d925785ec08b16c3,indentation fixes.
agentzh,2010-07-08 07:20:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fc2bba529e6fc4b7ec0e9374aa13f5368514f81a,fc2bba529e6fc4b7ec0e9374aa13f5368514f81a,tab to spaces for directive.c
agentzh,2010-07-08 07:18:15,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c6701d161c42a3172ad767c4687f551598d29a14,c6701d161c42a3172ad767c4687f551598d29a14,backported the fix for internal redirect from ngx_echo.
agentzh,2010-07-08 07:16:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fef2069b74d04524723440d6d8f6047d3674a788,fef2069b74d04524723440d6d8f6047d3674a788,fixed the digest calculation regression for lua loadbuffer.
agentzh,2010-07-08 04:55:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/98fd900d477b80cd2cafc25dc01b67c429d58832,98fd900d477b80cd2cafc25dc01b67c429d58832,refactored the ngx.location.capture implementation a bit.
agentzh,2010-07-08 04:24:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ac2520ba4d50f191973a66f9b2043316a3d12741,ac2520ba4d50f191973a66f9b2043316a3d12741,now we rename ngx.echo to ngx.print and also introduced ngx.say that append a newline automatically like Perl 6's say
agentzh,2010-07-08 03:51:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9ecff4791b962843813c21106d9574029de6ce4d,9ecff4791b962843813c21106d9574029de6ce4d,refactored the ngx.echo function implementation.
agentzh,2010-07-06 10:22:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bbc5e44c9f624298ea997928e44d17bf3f10f749,bbc5e44c9f624298ea997928e44d17bf3f10f749,massive code refactoring and cleanup.
agentzh,2010-07-05 06:08:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bb3e73b1b867d42be941c5a5f107e77240e7de96,bb3e73b1b867d42be941c5a5f107e77240e7de96,include ngx_md5.h instead of explicit openssl/md5.h.
agentzh,2010-07-03 08:52:31,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/eed7de1e8e4812180bbc730626bafaef31293a0f,eed7de1e8e4812180bbc730626bafaef31293a0f,added more comments to the samples in README.
agentzh,2010-07-03 08:51:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9198f867c0674602b02820aaa341cc502930b688,9198f867c0674602b02820aaa341cc502930b688,added more samples to README.
agentzh,2010-06-30 02:15:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/bd4d6d51ad355a332764c8218ba3f888983f7f4b,bd4d6d51ad355a332764c8218ba3f888983f7f4b,added myself to the author list :)
chaoslawful,2010-06-25 13:49:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/87209af7195ca8f741e0206638086403b8748f08,87209af7195ca8f741e0206638086403b8748f08,fixed typo nginx version macro...
chaoslawful,2010-06-25 13:45:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ebcfcf4e1f7daf7fcd8129e03498dabf20d50336,ebcfcf4e1f7daf7fcd8129e03498dabf20d50336,fixed nginx version typo
chaoslawful,2010-06-25 09:00:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/221221dff97f31bbc8fde2e5da7ef5266035bdc8,221221dff97f31bbc8fde2e5da7ef5266035bdc8,"* lift lua-nginx-module to the top of config modules
* added conditional compilation for building under 0.7.x branch"
agentzh,2010-06-24 06:31:07,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/624f83d78a6a0adbc1d51b5842a6f8e6780da712,624f83d78a6a0adbc1d51b5842a6f8e6780da712,updated README to claim that we require at least Lua 5.1.
agentzh,2010-06-24 05:08:46,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b363ddf083bcd2fca9017c844c9d9d1e5142581d,b363ddf083bcd2fca9017c844c9d9d1e5142581d,avoid using ndk whenever possible because prototype is missing on *BSD.
agentzh,2010-06-24 04:45:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/84bdafdc7d8e39b7525fe843f0c0d56b17777b1a,84bdafdc7d8e39b7525fe843f0c0d56b17777b1a,fixed a memory issue in ngx.echo: we should copy the lua string bytes.
agentzh,2010-06-24 04:40:57,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0093e9e58b32470ab63a2f8fbc19180847139088,0093e9e58b32470ab63a2f8fbc19180847139088,updated .gitignore.
agentzh,2010-06-24 04:39:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e953ab595829fce1e6e05c796f92b58d7184dbc3,e953ab595829fce1e6e05c796f92b58d7184dbc3,checked in util/ngx-links to trim ngx_http_blah_blah_ prefix via symlinks.
agentzh,2010-06-24 04:39:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b17746e5450c63eb93c35a1786d7ad7b2f0231b9,b17746e5450c63eb93c35a1786d7ad7b2f0231b9,renamed _by.[ch] to by.[ch].
chaoslawful,2010-06-24 03:35:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8e09749fcd3c7fe9ee24f14019d36fcf53b2f575,8e09749fcd3c7fe9ee24f14019d36fcf53b2f575,added more tests
chaoslawful,2010-06-23 14:20:13,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5a3078070b08c45d406ace4ebb2457cc5ad28d69,5a3078070b08c45d406ace4ebb2457cc5ad28d69,BIG DAY! ngx.location.capture passed the 1st test!
agentzh,2010-06-23 11:51:24,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ec489c72e789d60327fce9a641cdf81a60b46abf,ec489c72e789d60327fce9a641cdf81a60b46abf,tab to spaces and also checks the case when ctx is failed to allocate.
chaoslawful,2010-06-22 17:52:14,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/02e15406c55d1cf31112340c94c023d55fae5492,02e15406c55d1cf31112340c94c023d55fae5492,make request handling coroutines fully separated
chaoslawful,2010-06-22 11:38:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c92a1a3ec3b9df8216f424d5170748937902fedf,c92a1a3ec3b9df8216f424d5170748937902fedf,added closure factory loading methods
chaoslawful,2010-06-22 08:17:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a58172a276e684e32071619486fe2ea87a13d008,a58172a276e684e32071619486fe2ea87a13d008,added nginx var modification hook skeleton
chaoslawful,2010-06-21 02:44:21,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/777c2d881e8247703e437d4b1ce6d99696a289fa,777c2d881e8247703e437d4b1ce6d99696a289fa,updated test-nginx dependency
agentzh,2010-06-19 04:08:39,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b0820ec2f0fe2bc4d84daee1d551ed9cc87da3f3,b0820ec2f0fe2bc4d84daee1d551ed9cc87da3f3,added one more test case to 2-content.t.
agentzh,2010-06-18 15:57:56,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/41a3c3e7c4ac7de05cc337e04accc76a331d77eb,41a3c3e7c4ac7de05cc337e04accc76a331d77eb,fixed the merge conflicts.
agentzh,2010-06-18 15:56:12,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d39f331ff1294700af583d25ccf2cc78941306eb,d39f331ff1294700af583d25ccf2cc78941306eb,added more test cases.
chaoslawful,2010-06-18 13:37:19,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/741b3cca007a37bb318046dda3cb91f8d11769ef,741b3cca007a37bb318046dda3cb91f8d11769ef,"added -E linker options to export lua symbols correctly, for external module usage"
chaoslawful,2010-06-18 09:11:33,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/6e2513a8a36cef4ad011f70c8e54ab4673feb072,6e2513a8a36cef4ad011f70c8e54ab4673feb072,removed unused variables
chaoslawful,2010-06-18 09:08:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/595e4e142a29bcd39cba437b8989a99fdaeb4ce1,595e4e142a29bcd39cba437b8989a99fdaeb4ce1,move all dependency modules into deps/ directory
chaoslawful,2010-06-18 09:01:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/ed0ab1881141224dbcfdbb90cdf73ed5f627d403,ed0ab1881141224dbcfdbb90cdf73ed5f627d403,added new test-nginx position
chaoslawful,2010-06-18 08:58:11,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9c554bf5d3717e2ad12484859fee5b0e86c79bf6,9c554bf5d3717e2ad12484859fee5b0e86c79bf6,changed test-nginx position
chaoslawful,2010-06-18 07:44:59,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dfac35bc8ad4d3c501ec595e6800c03ec3e192d6,dfac35bc8ad4d3c501ec595e6800c03ec3e192d6,modified todos
chaoslawful,2010-06-17 15:50:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/452335df0f9f8dde98b9c4e16a5468ca4c21f323,452335df0f9f8dde98b9c4e16a5468ca4c21f323,"* fixed keep-alive hanging bug when using HTTP/1.0 protocol
* added more documents about content_by_lua"
agentzh,2010-06-17 03:47:25,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/dd9cf532e0c0aacb653a09cff3a9262b6edbdfbf,dd9cf532e0c0aacb653a09cff3a9262b6edbdfbf,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
chaoslawful,2010-06-17 02:14:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/61a1cbdfd5b48c74df6635f7477688ce2e6dd4f0,61a1cbdfd5b48c74df6635f7477688ce2e6dd4f0,add some comments
chaoslawful,2010-06-14 16:48:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/e5d22ad73544f3277c1444a3e9e3762fc4b248d7,e5d22ad73544f3277c1444a3e9e3762fc4b248d7,fixed errors in unit-tests
chaoslawful,2010-06-13 14:53:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/12181757a38ac15e7284e6587756c385ecd2b27e,12181757a38ac15e7284e6587756c385ecd2b27e,make ngx.flush() working
chaoslawful,2010-06-13 14:43:10,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/7d5753bf5ef3c3ce5fe34be37a0e5d6680903ff6,7d5753bf5ef3c3ce5fe34be37a0e5d6680903ff6,"implemented basic content handler functions:
* override print() to output error log
* ngx.var[] table to fetch nginx variables
* ngx.echo() to output in-memory contents"
chaoslawful,2010-06-12 10:07:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/68cea2ca11ca405808e7de549d42f6dcd6b29345,68cea2ca11ca405808e7de549d42f6dcd6b29345,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
chaoslawful,2010-06-12 10:07:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4102502ee21dd3064fcca9a9b2ecc6194f2db384,4102502ee21dd3064fcca9a9b2ecc6194f2db384,reconstructed nginx request passing method for set_by_lua directives
agentzh,2010-06-12 08:12:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f422e7525f896b7183fc48b79bfab315c2cf12b5,f422e7525f896b7183fc48b79bfab315c2cf12b5,tab to spaces in t/1-set.t.
agentzh,2010-06-12 04:01:43,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2fbde3c9a6b957dc35a6333d99d74d70609bdfa0,2fbde3c9a6b957dc35a6333d99d74d70609bdfa0,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2010-06-12 04:01:26,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a6a1f9e83f474f0e09a743fcd323f1a5a2a9bf0d,a6a1f9e83f474f0e09a743fcd323f1a5a2a9bf0d,declared that we are compatible with the latest nginx 0.8.40 and 0.7.66.
chaoslawful,2010-06-11 15:22:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/844bf3326d02930765533af0864430eb58a5cc5b,844bf3326d02930765533af0864430eb58a5cc5b,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
chaoslawful,2010-06-11 15:22:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/8fde5c1b6590e4a4fff93c24298a35b67a853ff1,8fde5c1b6590e4a4fff93c24298a35b67a853ff1,removed old unit-tests
chaoslawful,2010-06-11 15:19:20,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/db5e0e1232895ed86e5b8d91b89e2050f3f56e3e,db5e0e1232895ed86e5b8d91b89e2050f3f56e3e,recovered run_test util and added missing source files
chaoslawful,2010-06-11 15:18:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/2de7148a0eee0bbe4a4aa01e56d9e27655c08d97,2de7148a0eee0bbe4a4aa01e56d9e27655c08d97,updated submodule test-nginx repository revision
agentzh,2010-06-11 10:47:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f86b58725c48db47b13948f36df41948149387dd,f86b58725c48db47b13948f36df41948149387dd,various fixes.
agentzh,2010-06-11 08:19:44,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0ef14aaf311593e03d028f3c14bc3314f205078e,0ef14aaf311593e03d028f3c14bc3314f205078e,now we print the detailed error messages to error.log when lua_load fails.
agentzh,2010-06-11 07:15:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9b3bdee1cf317812354505481089183de80bb81a,9b3bdee1cf317812354505481089183de80bb81a,added more files to ignore.
agentzh,2010-06-11 04:40:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/4f9535212ab9a4fa928cfd363c4522305292a907,4f9535212ab9a4fa928cfd363c4522305292a907,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
agentzh,2010-06-11 04:39:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/99e2b14187c5282c839b6fff94463fd6a9f5f75a,99e2b14187c5282c839b6fff94463fd6a9f5f75a,improved util/build.sh using wget.
chaoslawful,2010-06-11 04:18:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/cc76596994be56251f64338b2b2aa7b9f8c7e99c,cc76596994be56251f64338b2b2aa7b9f8c7e99c,"* modified code format, added vim modeline
* extract lua env init code into individual functions
* added some unit-tests for content_by_lua directives"
agentzh,2010-05-19 07:40:49,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/b9d2655d26def9c3d74312b5851b36ae2c9bce98,b9d2655d26def9c3d74312b5851b36ae2c9bce98,Merge branch 'master' of github.com:chaoslawful/lua-nginx-module
chaoslawful,2010-05-18 10:38:03,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/94d56e379e5dc047b3b831e61cd1b69956c579dc,94d56e379e5dc047b3b831e61cd1b69956c579dc,added more tests
chaoslawful,2010-05-18 10:35:05,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d4b754a8b1ebbccb0a67df0e966e5b670850e60f,d4b754a8b1ebbccb0a67df0e966e5b670850e60f,added basic tests and reindex script
chaoslawful,2010-05-18 10:20:32,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/97dd3cdeaf6ed29745a068dafa66fa8fe102ba4e,97dd3cdeaf6ed29745a068dafa66fa8fe102ba4e,restored nginx tarball fetching command
chaoslawful,2010-05-18 10:15:34,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3a5c8c08d6600adff6e633ccc530e1a1afb9507e,3a5c8c08d6600adff6e633ccc530e1a1afb9507e,added .gitignore file
chaoslawful,2010-05-18 10:13:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/766ade8a1424324e26ab2444b2b51d8dd8dfe10a,766ade8a1424324e26ab2444b2b51d8dd8dfe10a,changed submodule name
chaoslawful,2010-05-18 10:12:38,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9dbc8e8a80f3173c520ebcd8fc825238d6fa33cb,9dbc8e8a80f3173c520ebcd8fc825238d6fa33cb,changed test directory name
chaoslawful,2010-05-18 10:11:28,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/deac6c10964c189f8e61bc64d31df61a01c8c649,deac6c10964c189f8e61bc64d31df61a01c8c649,changed test-nginx to submodule points to external repo
chaoslawful,2010-05-18 09:04:48,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c6f98fb0855ddba944430b43da3ac6801fa28c79,c6f98fb0855ddba944430b43da3ac6801fa28c79,changed lua state storage position; added skeleton content_by_lua* entries
agentzh,2010-05-12 10:56:08,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/38b202cc7bd61409ddd6a0b4d5c39a14b4fa854b,38b202cc7bd61409ddd6a0b4d5c39a14b4fa854b,added unistd.h before including md5.h
agentzh,2010-05-12 10:39:04,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/c990a63b778d500ef357f1a916dd5b88ebaa350d,c990a63b778d500ef357f1a916dd5b88ebaa350d,fixes the feature test code.
agentzh,2010-05-12 10:33:35,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9aba7a3c4e97f7cd55d831cfd7ce7c83afebecb1,9aba7a3c4e97f7cd55d831cfd7ce7c83afebecb1,added -lm to ngx_feature_libs.
agentzh,2010-05-12 10:27:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/0235797639a9455525a34072b4bfd29ec718c6f5,0235797639a9455525a34072b4bfd29ec718c6f5,fixes the feature test code.
agentzh,2010-05-12 10:19:51,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/292ab8ab2bd8567cfde02b9aacb9a92014427638,292ab8ab2bd8567cfde02b9aacb9a92014427638,added support for env LUA_LIB and LUA_INC in config.
agentzh,2010-05-12 10:13:17,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/3154636c9bb077d12878752b53f7e9be2138b145,3154636c9bb077d12878752b53f7e9be2138b145,now we use openssl/md5.h
chaoslawful,2010-04-23 15:38:22,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/5e7c84bb8536c48e056a18b844e1cc4f0efc0431,5e7c84bb8536c48e056a18b844e1cc4f0efc0431,removed done ones; added new ones
chaoslawful,2010-04-22 15:39:47,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/a5b477357c6dd7edd5732869416de071111fd09a,a5b477357c6dd7edd5732869416de071111fd09a,added .gitignore file
chaoslawful,2010-04-22 14:31:52,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/315f20b6b3309602a9a30546283eab5c0e9dd914,315f20b6b3309602a9a30546283eab5c0e9dd914,implemented code cache and primitive vm persistence
chaoslawful,2010-04-21 15:43:29,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/fc236d105e4f7629e2e10fcdb1b85dd704aa064f,fc236d105e4f7629e2e10fcdb1b85dd704aa064f,added todo
chaoslawful,2010-04-21 15:37:36,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/82619f35be2c74d54ff3379c38d04de39a3ae1a5,82619f35be2c74d54ff3379c38d04de39a3ae1a5,added inline variable check to Lua script/file path; turn to standard Lua+Coco patch; modified log formatter char
chaoslawful,2010-04-17 14:18:02,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/539d5fe6a8fcc744330ed557b05d9ef6057778a5,539d5fe6a8fcc744330ed557b05d9ef6057778a5,modified comment
chaoslawful,2010-04-16 16:22:30,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/f07f1fb836990c1d856c70fdffcf2d27e98154d1,f07f1fb836990c1d856c70fdffcf2d27e98154d1,added NGX_HTTP_LUA_ELLIPSIS macro to control if args are passing to script as default arguments (accessed through ellipsis operator ...)
chaoslawful,2010-04-16 16:00:53,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/66d737464aef6caaf9238894ef54295d0353dd56,66d737464aef6caaf9238894ef54295d0353dd56,modifed readme
chaoslawful,2010-04-16 15:56:45,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/601633b09468954eb4f465182b6a442a3cbca89e,601633b09468954eb4f465182b6a442a3cbca89e,modified readme contents
chaoslawful,2010-04-16 15:52:42,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/23d495b8a1372444728937cacc5fce124a19b89d,23d495b8a1372444728937cacc5fce124a19b89d,"* split logic into multiple files and changed config file accordingly
* added readme"
chaoslawful,2010-04-15 08:36:58,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/81f8090280c04c5154e25426b9df00558e163ae5,81f8090280c04c5154e25426b9df00558e163ae5,prim working version
chaoslawful,2010-04-11 15:54:50,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/d6a0d6c6a597eb84c83ec48ec4666b4e7e456525,d6a0d6c6a597eb84c83ec48ec4666b4e7e456525,removed unused ddebug.h
chaoslawful,2010-04-11 15:46:06,https://api.github.com/repos/openresty/lua-nginx-module/git/commits/9240045589828b8920f724166003528d4ded5365,9240045589828b8920f724166003528d4ded5365,init commit
