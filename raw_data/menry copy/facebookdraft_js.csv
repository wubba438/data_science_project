draft-js,A React framework for building text editors.
username,timestamp,url,sha,message
lizlecrone,2019-09-11 02:38:18,https://api.github.com/repos/facebook/draft-js/git/commits/819f58cef2cdf2e400965f754034096d26325659,819f58cef2cdf2e400965f754034096d26325659,"Fixing js example and cleaning up one sentence (#2172)

Summary:
**Summary**

Cleaning up JS example to have proper order. Cleaning up sentence to be clearer.

**Test Plan**

NA
Pull Request resolved: https://github.com/facebook/draft-js/pull/2172

Differential Revision: D17306067

Pulled By: Daniel15

fbshipit-source-id: 25d94313dde4157dbea192007ece110add9d5360"
mrkev,2019-08-30 23:10:11,https://api.github.com/repos/facebook/draft-js/git/commits/db64f9361392fd988349fbd954e3bd692729bb00,db64f9361392fd988349fbd954e3bd692729bb00,"Make insertIntoList strict-local

Summary: It was mutating an argument. Simply added a level of indirection.

Reviewed By: gkz

Differential Revision: D16854301

fbshipit-source-id: d3da0dc84bcef4ff6f643ac0146bdbb6138aa943"
mrkev,2019-08-30 22:40:14,https://api.github.com/repos/facebook/draft-js/git/commits/8473e411cec7b4ec64029723b8df2084c1dbcb00,8473e411cec7b4ec64029723b8df2084c1dbcb00,"Flowify editOnKeyDown.js

Summary:
Only logic change was a sketchy null.

Slowly making my way flowifying draft.js

Reviewed By: gkz

Differential Revision: D16595681

fbshipit-source-id: a55e329e31df9a1bf485a263e0096634be656302"
zpao,2019-08-29 23:29:33,https://api.github.com/repos/facebook/draft-js/git/commits/2c61167541aa624c0d1a153ad43e1e73d2e393a9,2c61167541aa624c0d1a153ad43e1e73d2e393a9,"Adopt Contributor Covenant

Summary:
In order to foster healthy open source communities, we're adopting the
[Contributor Covenant](https://www.contributor-covenant.org/). It has been
built by open source community members and represents a shared understanding of
what is expected from a healthy community.

Reviewed By: kmeht

Differential Revision: D17103386

fbshipit-source-id: 697eedb791c7af1a5a4f9cfe3d43ee75d65c5d3a"
mrkev,2019-08-28 21:03:23,https://api.github.com/repos/facebook/draft-js/git/commits/20a619c9d313a98632ad609ac768e65ba8c7e051,20a619c9d313a98632ad609ac768e65ba8c7e051,"decodeInlineStyleRanges.js

Summary: No changes to behaviour, only types. ez ¬Ø\_(„ÉÑ)_/¬Ø

Reviewed By: kedromelon

Differential Revision: D16854823

fbshipit-source-id: db211dbd7391f57716775b6f32b6777626771fc1"
mrkev,2019-08-23 05:36:43,https://api.github.com/repos/facebook/draft-js/git/commits/594a14f27b8ae55b6e7ee5cc01ba15f4dccafce8,594a14f27b8ae55b6e7ee5cc01ba15f4dccafce8,"Flowify editOnInput.js

Summary:
Involved fixing two sketchy null checks. Nothing huge.

NOTE: There's lots of non flow-strict code that makes checks on keys. Empty string is an invalid key. This is the behavior right now, so I left it unchanged.

I extracted it to another module because I'll be using it to check the existence of keys in other parts of the code too.

Reviewed By: kedromelon

Differential Revision: D16595680

fbshipit-source-id: 13a08e3b2477ba46ba2a2c66089afe47edccb20a"
mrkev,2019-08-23 04:51:18,https://api.github.com/repos/facebook/draft-js/git/commits/69722783f1e3f27bd88376bcfee7ec4ce97b9cde,69722783f1e3f27bd88376bcfee7ec4ce97b9cde,"Flowify editOnBlur.js

Summary: The only change I had to make was switching a sketchy null check to not be so, by wrapping the value in `Boolean`.

Reviewed By: kedromelon

Differential Revision: D16595682

fbshipit-source-id: eef3f62e14dd93f8e3a3149b8fa5959b4878fbe2"
ajith23,2019-08-20 21:55:24,https://api.github.com/repos/facebook/draft-js/git/commits/85aa3a30d604f977482757a537b75b036b11201a,85aa3a30d604f977482757a537b75b036b11201a,"updated hastext method to not account for zero space width chars (#2163)

Summary:
Pull Request resolved: https://github.com/facebook/draft-js/pull/2163

\u200B (zero space width chars) is put into the blockmap while inserting tokens. Therfore hastext returns true even when there is no text in the input. Updated hastext method to not account for zero space width chars.

Reviewed By: claudiopro

Differential Revision: D16868475

fbshipit-source-id: 1b0c9142c54e9c45d19fde516167ef34d02e719d"
Daniel15,2019-08-13 23:44:55,https://api.github.com/repos/facebook/draft-js/git/commits/734bd82d8e201152c60d9ab89be563dbb3693387,734bd82d8e201152c60d9ab89be563dbb3693387,"Encode non-ASCII characters in all snapshot tests

Summary:
We're not supposed to commit non-ASCII text to www for some reason. However, some snapshots contained fancy characters.

This diff updates Jest to use the `NonASCIIStringSnapshotSerializer` I added in D16570959 to be used for **all** snapshot tests.

Reviewed By: inlineblock

Differential Revision: D16633746

fbshipit-source-id: f3055ec873571f5bbe32e8c7d958f663bf7439c9"
jkhaui,2019-08-13 17:07:58,https://api.github.com/repos/facebook/draft-js/git/commits/1ff8c8c88b3c8b17dbcd771bae330a2e3adddb66,1ff8c8c88b3c8b17dbcd771bae330a2e3adddb66,"Fix various grammatical errors (#2158)

Summary:
Improve documentation readability by inserting/removing punctuation as appropriate.
Pull Request resolved: https://github.com/facebook/draft-js/pull/2158

Differential Revision: D16785872

Pulled By: niveditc

fbshipit-source-id: 6e1208b1d6536a57be32f2fc7b91b291de3001f0"
gmertk,2019-08-06 11:39:15,https://api.github.com/repos/facebook/draft-js/git/commits/22b75997955cd8480d1c0b60bbae736fc84d5d84,22b75997955cd8480d1c0b60bbae736fc84d5d84,"Update jsfiddle links with recent versions of the Draft and React (#2145)

Summary:
Fixes https://github.com/facebook/draft-js/issues/2144

**Summary**
Previous jsfiddle links were using old versions of React and Draft.

Feel free to reject if you actually have access to previous fiddles and update the libs there.
Pull Request resolved: https://github.com/facebook/draft-js/pull/2145

Reviewed By: claudiopro

Differential Revision: D16545086

Pulled By: gmertk

fbshipit-source-id: 2450a17e0005f984dffd3e7c75b792c4edab3ef8"
mrkev,2019-07-25 01:08:56,https://api.github.com/repos/facebook/draft-js/git/commits/ed09f78c3ddf6d32c381555e7164076a62a7994f,ed09f78c3ddf6d32c381555e7164076a62a7994f,"Flow-type DataTransfer.js

Summary:
Flowifies DataTransfer.js. We have a flow libdef for the browser's DataTransfer object, **so the only non-flow change this involved was a quick name check to avoid the collision**.

This surfaced a couple of places where the module is misused (yay! means it's surfacing potential bugs!). Putting them behind flowfixme's to avoid changing functionality and keep this diff simple (and eye-testable).

I can make tasks for fixing these flowfixme's if desired.

Differential Revision: D16176363

fbshipit-source-id: 755da606d0d86b74f2024b6d8e522746072bfc61"
holloway,2019-07-16 23:36:17,https://api.github.com/repos/facebook/draft-js/git/commits/db792efd5121ceb312030c7b1d1a303bc8172ef4,db792efd5121ceb312030c7b1d1a303bc8172ef4,"Adding 'preserveSelectionOnBlur' prop (#2128)

Summary:
**Summary**

This adds a `preserveSelectionOnBlur` prop as per https://github.com/facebook/draft-js/issues/2123

**Test Plan**

Tests were added for the two possible scenarios. I'm not sure how much to mock in this test because it is just testing a specific branch of code, so I've faked certain details like the rangeCount.

What do you think mrkev claudiopro ?
Pull Request resolved: https://github.com/facebook/draft-js/pull/2128

Reviewed By: claudiopro

Differential Revision: D16270879

Pulled By: mrkev

fbshipit-source-id: 304af92c1211b8ff95741bff434b4fe3c4b6dd7d"
claudiopro,2019-07-16 20:05:54,https://api.github.com/repos/facebook/draft-js/git/commits/4064caed50117e33a18eb9d2c5d4a686eae76de7,4064caed50117e33a18eb9d2c5d4a686eae76de7,"Changes reference to BSD license to MIT (#2130)

Summary:
**Summary**
Changes reference to the BSD license to MIT in the contributing guidelines. Fixes https://github.com/facebook/draft-js/issues/2129

**Test Plan**
Proofreading
Pull Request resolved: https://github.com/facebook/draft-js/pull/2130

Reviewed By: niveditc

Differential Revision: D16286748

Pulled By: claudiopro

fbshipit-source-id: 3700f15d32fd2b1527135e8f432600009051208e"
mrkev,2019-07-11 23:04:52,https://api.github.com/repos/facebook/draft-js/git/commits/bc716b279299748d955bbdc398454bff45ea0191,bc716b279299748d955bbdc398454bff45ea0191,"All these modules can actually be strict

Summary: eyes

Reviewed By: claudiopro

Differential Revision: D16177499

fbshipit-source-id: 95cb458b3203c93ba21a673ec6a1e10195f4f3d5"
claudiopro,2019-07-10 19:53:07,https://api.github.com/repos/facebook/draft-js/git/commits/973f7ffb01ecf76262a0a307da052abc61a0fad2,973f7ffb01ecf76262a0a307da052abc61a0fad2,"Updates CHANGELOG for v0.11.0 (#2052)

Summary:
**Summary**

Updates the CHANGELOG for v0.11.0

This is going to be a refinement process from a very raw git log containing 200+ commits since v0.10.5. The focus should be on
- Advertising new functionality
- Highlighting breaking API changes
- Rolling up subsequent updates affecting the same feature or dependency into the most recent change to reduce the noise
- Attribute changes to contributors and link to relevant issues, PRs, and profiles

**Test Plan**

Proofreading
Pull Request resolved: https://github.com/facebook/draft-js/pull/2052

Reviewed By: claudiopro

Differential Revision: D16171723

Pulled By: mrkev

fbshipit-source-id: 41ca634e0e9903c45042299f05090e140e68c987"
claudiopro,2019-07-10 10:17:39,https://api.github.com/repos/facebook/draft-js/git/commits/0e8854420f8fb9ccaebb2d80099614402792c0c8,0e8854420f8fb9ccaebb2d80099614402792c0c8,"Merge pull request #2113 from danielo515/patch-1

Update Overview.md"
claudiopro,2019-07-09 19:39:54,https://api.github.com/repos/facebook/draft-js/git/commits/0f138d15399f6ba5a201b5142d137160eef0793b,0f138d15399f6ba5a201b5142d137160eef0793b,"Update ShipIt Sync

fbshipit-source-id: 5ba27243cb827f73b7052bb62a5fd671b76547f2"
claudiopro,2019-07-09 19:38:08,https://api.github.com/repos/facebook/draft-js/git/commits/7220e6cd7d8c1072131027484d35f4930dd16b76,7220e6cd7d8c1072131027484d35f4930dd16b76,"Merge pull request #2125 from claudiopro/0.11.0

Release 0.11.0"
claudiopro,2019-07-09 15:09:42,https://api.github.com/repos/facebook/draft-js/git/commits/ab7c21b87ed6b7952f7868f892b87a2d58d7f2a8,ab7c21b87ed6b7952f7868f892b87a2d58d7f2a8,Updates generated resources
claudiopro,2019-07-09 15:07:28,https://api.github.com/repos/facebook/draft-js/git/commits/fe6c335a1ce5b70f60ed1f6dbafe435b2b1ac67f,fe6c335a1ce5b70f60ed1f6dbafe435b2b1ac67f,v0.11.0
claudiopro,2019-07-09 14:22:52,https://api.github.com/repos/facebook/draft-js/git/commits/5eb49b1ce911811a9e4c5e9c15b5673e9c2906a7,5eb49b1ce911811a9e4c5e9c15b5673e9c2906a7,"Moves test for legacy convertFromHTMLToContentBlocks out of OSS repo

Summary: This diff removes the Jest snapshot test for the legacy `convertFromHTMLToContentBlocks` util from the OSS repo.

Reviewed By: mitermayer

Differential Revision: D16163233

fbshipit-source-id: 9b902aba0f9e9218fed4df5f4f54e9cd92589e1a"
claudiopro,2019-07-09 08:13:02,https://api.github.com/repos/facebook/draft-js/git/commits/a7d955e5a6325f149db5ab942d52de2645945419,a7d955e5a6325f149db5ab942d52de2645945419,"Removes legacy convertFromHTMLToContentBlocks from OSS repo

Summary: This is the last diff in the stack to deprecate and remove the legacy `convertFromHTMLToContentBlocks` util from the OSS repo.

Reviewed By: mitermayer

Differential Revision: D15899285

fbshipit-source-id: ac57fe1fb5875bb308522299f73e74228764071a"
claudiopro,2019-07-09 08:12:20,https://api.github.com/repos/facebook/draft-js/git/commits/d08399bcc6ef3718bb574684a3ffeebd95a98cd9,d08399bcc6ef3718bb574684a3ffeebd95a98cd9,"Renames convertFromHTMLToContentBlocks2 to convertFromHTMLToContentBlocks

Summary:
Renames `convertFromHTMLToContentBlocks2` to `convertFromHTMLToContentBlocks` to mark it the default.

This diff has no functional changes.

Reviewed By: mitermayer

Differential Revision: D15845011

fbshipit-source-id: 6191e7d5e2de7b094077cea143dafe77a2210f59"
jobpaardekooper,2019-07-06 19:00:38,https://api.github.com/repos/facebook/draft-js/git/commits/2487e7dfad7e0c77303e293556c3c71d0744b561,2487e7dfad7e0c77303e293556c3c71d0744b561,"Fixed dag and drop .length error (#2117)

Summary:
If you drag an image into the draft-js editor it throws an error:

```
insertTextIntoContentState.js:25 Uncaught TypeError: Cannot read property 'length' of null
    at insertTextIntoContentState (insertTextIntoContentState.js:25)
    at Object.replaceText (DraftModifier.js:63)
    at Object.insertText (DraftModifier.js:67)
    at insertTextAtSelection (DraftEditorDragHandler.js:116)
    at onDrop (DraftEditorDragHandler.js:102)
    at DraftEditor.react.js:268
    at HTMLUnknownElement.callCallback (react-dom.development.js:147)
    at Object.invokeGuardedCallbackDev (react-dom.development.js:196)
    at invokeGuardedCallback (react-dom.development.js:250)
    at invokeGuardedCallbackAndCatchFirstError (react-dom.development.js:265)
    at executeDispatch (react-dom.development.js:571)
    at executeDispatchesInOrder (react-dom.development.js:596)
    at executeDispatchesAndRelease (react-dom.development.js:695)
    at executeDispatchesAndReleaseTopLevel (react-dom.development.js:704)
    at forEachAccumulated (react-dom.development.js:676)
    at runEventsInBatch (react-dom.development.js:844)
    at runExtractedEventsInBatch (react-dom.development.js:852)
    at handleTopLevel (react-dom.development.js:5030)
    at batchedUpdates$1 (react-dom.development.js:21469)
    at batchedUpdates (react-dom.development.js:2247)
    at dispatchEvent (react-dom.development.js:5110)
    at react-dom.development.js:21526
    at Object.unstable_runWithPriority (scheduler.development.js:255)
    at interactiveUpdates$1 (react-dom.development.js:21525)
    at interactiveUpdates (react-dom.development.js:2268)
    at dispatchInteractiveEvent (react-dom.development.js:5086)
insertTextIntoContentState @ insertTextIntoContentState.js:25
replaceText @ DraftModifier.js:63
insertText @ DraftModifier.js:67
insertTextAtSelection @ DraftEditorDragHandler.js:116
onDrop @ DraftEditorDragHandler.js:102
(anonymous) @ DraftEditor.react.js:268
callCallback @ react-dom.development.js:147
invokeGuardedCallbackDev @ react-dom.development.js:196
invokeGuardedCallback @ react-dom.development.js:250
invokeGuardedCallbackAndCatchFirstError @ react-dom.development.js:265
executeDispatch @ react-dom.development.js:571
executeDispatchesInOrder @ react-dom.development.js:596
executeDispatchesAndRelease @ react-dom.development.js:695
executeDispatchesAndReleaseTopLevel @ react-dom.development.js:704
forEachAccumulated @ react-dom.development.js:676
runEventsInBatch @ react-dom.development.js:844
runExtractedEventsInBatch @ react-dom.development.js:852
handleTopLevel @ react-dom.development.js:5030
batchedUpdates$1 @ react-dom.development.js:21469
batchedUpdates @ react-dom.development.js:2247
dispatchEvent @ react-dom.development.js:5110
(anonymous) @ react-dom.development.js:21526
unstable_runWithPriority @ scheduler.development.js:255
interactiveUpdates$1 @ react-dom.development.js:21525
interactiveUpdates @ react-dom.development.js:2268
dispatchInteractiveEvent @ react-dom.development.js:5086
```
With this change the editor checks if there is any text and if there is it handles it like normal, if there isn't it does nothing.

Closes: https://github.com/facebook/draft-js/issues/2116
Pull Request resolved: https://github.com/facebook/draft-js/pull/2117

Reviewed By: niveditc

Differential Revision: D16132165

Pulled By: claudiopro

fbshipit-source-id: cd9ddc424845df3e9de1de6087201ef83e28ecb0"
claudiopro,2019-07-05 16:19:59,https://api.github.com/repos/facebook/draft-js/git/commits/ec43403d38486039f1c42c04dcee36fc7ca9f477,ec43403d38486039f1c42c04dcee36fc7ca9f477,"Removes all resolved uses of convertFromHTMLToContentBlocks_DEPRECATED

Summary:
Removes all uses of `convertFromHTMLToContentBlocks_DEPRECATED` except those that haven't been safely transitioned to `convertFromHTMLToContentBlocks2`, i.e. Recruiting Tools confirmation email template editor and the test case for `convertFromHTMLToContentBlocks_DEPRECATED` itself.

**Note:** this diff will not be landed until a few days after D15844900 is pushed, to ensure all internal customers of Draft.js are on board.

Reviewed By: mitermayer

Differential Revision: D15844926

fbshipit-source-id: c8b28513b27bba214669f1a7af82afcb79b1dc9c"
danielkza,2019-06-24 11:48:36,https://api.github.com/repos/facebook/draft-js/git/commits/0f5427a061fd0817d64401a89025621b63078a9e,0f5427a061fd0817d64401a89025621b63078a9e,"draft-js: clean up useless divs from HTML when pasting content

Summary:
When pasting rich (HTML) content into a Draft editor, the generated blocks
are flattened such that they can be represented in the internal state model.
Until a change to the tree-based model is fully implemented, that may cause
formatting to be lost if the content is wrapped in multiple levels of divs,
as the parsing does not traverse them deeply.

Improve the amount of formatting that can be preserved in the current model
by stripping out divs considered 'useless' (with no text or styling), such
that more important elements can be 'brought to the surface' and parsed
in a more pleasant manner.

Reviewed By: claudiopro

Differential Revision: D15923965

fbshipit-source-id: 72824ddba69b5d08374f505187ed4a6ea7c4d573"
danielo515,2019-06-21 12:34:00,https://api.github.com/repos/facebook/draft-js/git/commits/6394bd4da76995aad9429bc16056161344a153cd,6394bd4da76995aad9429bc16056161344a153cd,"Update Overview.md

There is no need to create an extra function just for updating the state."
claudiopro,2019-06-19 11:32:20,https://api.github.com/repos/facebook/draft-js/git/commits/ceaeebf1f50fee452d92d71c5e2008e3d4fb6d9f,ceaeebf1f50fee452d92d71c5e2008e3d4fb6d9f,"Deprecate legacy convertFromHTMLToContentBlocks

Summary: This diff renames `convertFromHTMLToContentBlocks` to `convertFromHTMLToContentBlocks_DEPRECATED` to formally declare it deprecated ahead of its removal, and give consumers a heads up that they ought to upgrade to `convertFromHTMLToContentBlocks2` and report back any issues with parsing HTML templates.

Reviewed By: mrkev

Differential Revision: D15844900

fbshipit-source-id: c7077f02627e82814f2429ec80f8a70b1e87aadc"
sajadtorkamani,2019-06-14 10:00:37,https://api.github.com/repos/facebook/draft-js/git/commits/eddcc5532b70a9f7112a2985e4e8dff0f05817d3,eddcc5532b70a9f7112a2985e4e8dff0f05817d3,"Fix broken id anchor (#2095)

Summary:
*Before* submitting a pull request, please make sure the following is done...

1. Fork the repo and create your branch from `master`.
2. If you've added code that should be tested, add tests!
3. If you've changed APIs, update the documentation.
4. Ensure that:
  * The test suite passes (`npm test`)
  * Your code lints (`npm run lint`) and passes Flow (`npm run flow`)
  * You have followed the [testing guidelines](https://github.com/facebook/draft-js/wiki/Testing-for-Pull-Requests)
5. If you haven't already, complete the [CLA](https://code.facebook.com/cla).

Please use the simple form below as a guideline for describing your pull request.

Thanks for contributing to Draft.js!

**Summary**

Just a small fix :)

**Test Plan**

1. Check out draft-js repo
1. Install dependencies with `yarn`
1. Change working directory to the website dir: `cd website`
1. Launch website in development mode: `yarn start`
1. Click the **Docs** link in the header
1. Click the **Learn more about why** link at the bottom of the page
1. Verify the page **Issues and Pitfalls** opens and scrolls to the **Missing Draft.css** heading
Pull Request resolved: https://github.com/facebook/draft-js/pull/2095

Differential Revision: D15821826

Pulled By: claudiopro

fbshipit-source-id: 85977433416c7642f477d5709bee70f0795cf313"
joerlop,2019-06-14 09:42:00,https://api.github.com/repos/facebook/draft-js/git/commits/87a812dc164c49d1ef56a384ceb1b1a89e5e76bd,87a812dc164c49d1ef56a384ceb1b1a89e5e76bd,"Typo corrected - Overview.md (#2089)

Summary:
*Before* submitting a pull request, please make sure the following is done...

1. Fork the repo and create your branch from `master`.
2. If you've added code that should be tested, add tests!
3. If you've changed APIs, update the documentation.
4. Ensure that:
  * The test suite passes (`npm test`)
  * Your code lints (`npm run lint`) and passes Flow (`npm run flow`)
  * You have followed the [testing guidelines](https://github.com/facebook/draft-js/wiki/Testing-for-Pull-Requests)
5. If you haven't already, complete the [CLA](https://code.facebook.com/cla).

Please use the simple form below as a guideline for describing your pull request.

Thanks for contributing to Draft.js!

-

**Summary**

[...]

**Test Plan**

[...]
Pull Request resolved: https://github.com/facebook/draft-js/pull/2089

Differential Revision: D15821704

Pulled By: claudiopro

fbshipit-source-id: ea47287ffcaecab0addf0e74a6f7e8c36bf50274"
jiaweihli,2019-06-14 00:49:52,https://api.github.com/repos/facebook/draft-js/git/commits/12c448036cefc191887def9c05f2a16ed90a7380,12c448036cefc191887def9c05f2a16ed90a7380,"fix: set to nested list items to right depth

Summary:
Previously, a non-root-level bullet point would be demoted by one level.

i.e.
```
- A
- B
  - C
- D
  - E
    - F
```

would render as

```
- A
- B
- C
- D
- E
  - F
```

I manually tested and verified this only affects `convertFromHTMLToContentBlocks2`, and not `convertFromHTMLToContentBlocks`.

Reviewed By: NoamELB

Differential Revision: D15748960

fbshipit-source-id: e018ac740b622fb13f7053d4d1aa4c4e50a67d00"
jiaweihli,2019-06-14 00:49:47,https://api.github.com/repos/facebook/draft-js/git/commits/7cfb055e7176dbbe6ac26450d866a10ca8a53798,7cfb055e7176dbbe6ac26450d866a10ca8a53798,"fix(styles): avoid permanently accumulating attribute styles

Summary:
Attribute styles defined on a node were permanently added to the persistent set of styles.
This meant that any bold/italic/underline/strikethrough styles would persist until the end of the document, or until a different value was set for it.

This wasn't an issue in `convertFromHTMLToContentBlocks` because it would clone the current styles before passing them off to its children.
Since this was refactored away in `convertFromHTMLToContentBlocks2` (probably for perf reasons), I safely mutated `currentStyle` around its children, in the same way as `inlineStyle`.

Reviewed By: claudiopro

Differential Revision: D15737186

fbshipit-source-id: 494f75da48f9a23a5ece450ab66002f4a3f9c43a"
claudiopro,2019-06-12 18:19:48,https://api.github.com/repos/facebook/draft-js/git/commits/96c722144acc23b269ba37004451c601b08ce7db,96c722144acc23b269ba37004451c601b08ce7db,"Adds support for nullish coalescing operator (#2076)

Summary:
**Summary**

Adds support for nullish coalescing operator which was missing from the babel config of the OSS repo.

**Test Plan**

`yarn`
Verify Travis CI tests pass
Pull Request resolved: https://github.com/facebook/draft-js/pull/2076

Differential Revision: D15781518

Pulled By: claudiopro

fbshipit-source-id: 4d6deb3503dfbbcf142a8dbaa10ebc2ec8e7a1c4"
claudiopro,2019-06-11 15:13:32,https://api.github.com/repos/facebook/draft-js/git/commits/23fc70f0cb97d0c96ac3637446f52a4c49cad8c0,23fc70f0cb97d0c96ac3637446f52a4c49cad8c0,"Fixes runtime error when cutting empty selection at the end of the content

Summary: This diff introduces an undesired behavior introduced by D13085302 where the removeRange operation triggers an error if the selection is collapsed at the end of the last content block.

Reviewed By: elboman

Differential Revision: D15758815

fbshipit-source-id: 0f0c2cc94aed23643efb36a66587189e624addc6"
samwgoldman,2019-05-29 04:24:29,https://api.github.com/repos/facebook/draft-js/git/commits/01ce68321b8b497795f53d9a10f64fbcd036bd1c,01ce68321b8b497795f53d9a10f64fbcd036bd1c,"Deploy Flow v0.99.0 to www

Reviewed By: panagosg7

Differential Revision: D15486708

fbshipit-source-id: f0717e6fbdea8845553926f462f12b54698817fc"
bennettdams,2019-05-20 16:59:46,https://api.github.com/repos/facebook/draft-js/git/commits/943f6dce5188724a11bb392645f5873fe5dcf1a6,943f6dce5188724a11bb392645f5873fe5dcf1a6,"Add import statements for hooks-example in README (#2075)

Summary:
**Summary**

The README is missing the import statements for the getting-started-example with hooks.
Pull Request resolved: https://github.com/facebook/draft-js/pull/2075

Differential Revision: D15415655

Pulled By: claudiopro

fbshipit-source-id: 64c5b766e381269ebf441ac98b79260354f1d198"
fabiomcosta,2019-05-09 16:24:05,https://api.github.com/repos/facebook/draft-js/git/commits/634bd297f1646934087051b1149164b01a09a136,634bd297f1646934087051b1149164b01a09a136,"Fixing major Android editing issues (#2035)

Summary:
This PR is a new attempt to address https://github.com/facebook/draft-js/issues/1895

On https://github.com/facebook/draft-js/pull/2031 I was trying to make compositions work using the data provided by that event, and even though that works well for most operational system, that doesn't work well for Android, where you can make composition updates in multiple places on the same composition transaction.

This PR is an improvement over that PR, in that it uses a DOM mutation observer during the `compositionStart` -> `compositionEnd` interval to detect the changes the user made, and then re-apply those to the ContentState on `compositionEnd`.

This approach is the one used by [Prosemirror](http://prosemirror.net/) (see https://github.com/ProseMirror/prosemirror-view/blob/master/src/domobserver.js), which is the only Rich Text Editor I've tried that works well on Android.
Like previously mentioned, it allows multiple mutations on multiple places in the same composition transaction, which was impossible with the previous approach, and would cause DOM<->state inconsistencies in multiple use cases.

The intent of this PR is not to fix every single Android bug, but to have a consistent editing experience on Android without introducing bugs (ideally).

**TODO, known issues:**
- [x] Removing empty line breaks with <backspace> doesn‚Äôt remove blocks.
- [x] Mutations on the same block (different leaf nodes) are not being properly applied.
- [x] Selection is not properly updated during composition events
- [ ] Keep `inlineStyleOverride` working with a consistent behavior

**TODO, others:**
- [x] Test on Android Pie v9 API 28
- [x] Test on Android Oreo v8.1 API 27
- [x] Test on Android Oreo v8.0 API 26
- [x] Test on iPhone 12.1 (with Japanese Kana keyboard)
- [x] Test composition events on Chrome Desktop v73
- [x] Test composition on IE11 (I didn't know how to test composition events though)
- [x] Unit tests

There are 3 ways to try out this PR.

Codesandbox: https://3ymzzlj9n5.codesandbox.io/ (uses `draft-js-android-fix-beta.3`)

Use the published [draft-js-android-fix](https://www.npmjs.com/package/draft-js-android-fix) package: `yarn install draft-js-android-fix`

Note that this package might not be up-to-date, it's hard for me to guarantee I'll always remember to update the package, but I'll do my best.

The other way is guaranteed to be up-to-date, but has a longer setup:
* run `git clone https://github.com/facebook/draft-js.git`
* run `git remote add fabiomcosta https://github.com/fabiomcosta/draft-js.git`
* run `git fetch fabiomcosta`
* run `git checkout -b attempt_android_fix_with_dom_diff fabiomcosta/attempt_android_fix_with_dom_diff`
* run `yarn install` (or use `npm`)
* run `open examples/draft-0-10-0/rich/rich.html`, or any other example you'd like to test
Pull Request resolved: https://github.com/facebook/draft-js/pull/2035

Reviewed By: kedromelon

Differential Revision: D14568528

Pulled By: claudiopro

fbshipit-source-id: 16861de52eca41cd98f884b0aecf034213fc1bd0"
dsainati1,2019-05-07 23:44:17,https://api.github.com/repos/facebook/draft-js/git/commits/768765f6c85a108df658687aeede2e27c54cd2e3,768765f6c85a108df658687aeede2e27c54cd2e3,"html/js/shared

Summary:
```
~/fbsource/fbcode/flow/src/facebook/komodo/scripts/annotate-exports-multi-run.sh -c -l html/shared

hg status -n --rev master | xargs grep -P -l '@(partially-)?generated' | xargs hg revert -r master
hg status -n --rev master | xargs grep -P -l 'lightSyntaxTransform' | xargs hg revert -r master
hg status -n --rev master | xargs -P 20 -n 1000 prettier --write --require-pragma
hg status -n | xargs -P 20 -n 1000 ./scripts/bin/prettier --write
~/www/scripts/third-party/node ~/www/scripts/third-party/node_modules/eslint/bin/eslint.js --no-eslintrc --fix --parser babel-eslint --plugin 'fb-www' --rule 'fb-www/order-requires: [1]' $(hg status -n --change .)
hg status -n | xargs -P 20 -n 1000 ./scripts/bin/prettier --write
```

Why we are doing this: https://fb.workplace.com/groups/179614562644215/permalink/373766316562371/
bypass-lint
allow_many_files
drop-conflicts

Reviewed By: panagosg7

Differential Revision: D15246251

fbshipit-source-id: e5e40b13f9dbf77d90d34d81704a2e295d767a18"
pvsmounish,2019-05-07 12:06:33,https://api.github.com/repos/facebook/draft-js/git/commits/f92d4b1bd04e9c9be4429407330c2be493583c2f,f92d4b1bd04e9c9be4429407330c2be493583c2f,"docs: remove --save flag (#2008)

Summary:
--save is no longer needed.
Pull Request resolved: https://github.com/facebook/draft-js/pull/2008

Differential Revision: D15239571

Pulled By: claudiopro

fbshipit-source-id: 78227dc4d3748ea64d769198a0dd9886f5e30b0c"
umanghome,2019-05-07 11:48:39,https://api.github.com/repos/facebook/draft-js/git/commits/8514b57da56218ce18a8088a626c0005adcc06dd,8514b57da56218ce18a8088a626c0005adcc06dd,"Rename DraftEditorBlock to EditorBlock (#2002)

Summary:
**Summary**

The `DraftEditorBlock` component is exposed to the public API as `EditorBlock`, while the [documentation](https://draftjs.org/docs/advanced-topics-block-components) still mentions `DraftEditorBlock`.
https://github.com/facebook/draft-js/blob/b4183b1519edcd075325adae0cb208551dc80f50/src/Draft.js#L45
Pull Request resolved: https://github.com/facebook/draft-js/pull/2002

Differential Revision: D15239547

Pulled By: claudiopro

fbshipit-source-id: 43556827d1bc571e98b528562c88038f195534c7"
jiyeonseo,2019-04-30 08:39:45,https://api.github.com/repos/facebook/draft-js/git/commits/e8e0bcfe6407463a3bc35d81cba7fd0de7053fb9,e8e0bcfe6407463a3bc35d81cba7fd0de7053fb9,"Fix broken link in Overview.md (#2062)

Summary:
**Summary**

fixed the broken link on the documentation

**Test Plan**
.
Pull Request resolved: https://github.com/facebook/draft-js/pull/2062

Differential Revision: D15146390

Pulled By: claudiopro

fbshipit-source-id: 31450d24a5326025b3fa7ffb9c142f1ccfa4fba3"
claudiopro,2019-04-25 16:37:54,https://api.github.com/repos/facebook/draft-js/git/commits/fe4e266208964324079edc7bd0af2b70ad959c6a,fe4e266208964324079edc7bd0af2b70ad959c6a,"Fix failing DraftStringKey test (#2064)

Summary:
**Summary**

Fixes failing tests by disabling Jest automock

**Test Plan**

`jest -u`
Verify the PR fixes the build on Travis CI
Pull Request resolved: https://github.com/facebook/draft-js/pull/2064

Reviewed By: kedromelon

Differential Revision: D15079625

Pulled By: claudiopro

fbshipit-source-id: 26b23ec5cca83b2a2b907a34ed43e65c95e3bb2f"
claudiopro,2019-04-25 09:38:17,https://api.github.com/repos/facebook/draft-js/git/commits/978ad6b14403800df5e82ca95f20304bd4a81d1d,978ad6b14403800df5e82ca95f20304bd4a81d1d,"Unit tests for DraftStringKey

Summary: Simple unit tests for the DraftStringKey module

Reviewed By: j-nolan

Differential Revision: D15063748

fbshipit-source-id: f857332ed835cd3d79c2d68dc8ca133885d4a5ec"
claudiopro,2019-04-25 09:32:58,https://api.github.com/repos/facebook/draft-js/git/commits/76e121e7676f688fbc63f89379d508b3f8211e8e,76e121e7676f688fbc63f89379d508b3f8211e8e,"Fixes require order lint issues /2

Summary: Fixes some require order lint issues in tests

Reviewed By: j-nolan

Differential Revision: D15064471

fbshipit-source-id: 533eb93b82393b003642ca5fa0a1af7e5bacdd31"
claudiopro,2019-04-24 15:50:54,https://api.github.com/repos/facebook/draft-js/git/commits/e2c5357734de2a66025825c2872cc236a154d60c,e2c5357734de2a66025825c2872cc236a154d60c,"Fixes require order lint issues

Summary: Fixes some require order lint issues

Reviewed By: kedromelon

Differential Revision: D15063948

fbshipit-source-id: 044b00fb1f91ebf5606f6bf8ef82a1427a9f4d55"
claudiopro,2019-04-24 15:47:57,https://api.github.com/repos/facebook/draft-js/git/commits/1ba0764cd4c6f603a88056b26770b6f0a1516db3,1ba0764cd4c6f603a88056b26770b6f0a1516db3,"Removes unnecessary eslint disable rules

Summary:
Removes unnecessary eslint disable rules:

* no-bitwise

Reviewed By: kedromelon

Differential Revision: D15064085

fbshipit-source-id: a700129232277d3714187bb9ca51a434fa377338"
teustice,2019-04-15 11:00:48,https://api.github.com/repos/facebook/draft-js/git/commits/75a89ff99c2aac83e95a2f1ef75288f3e435e198,75a89ff99c2aac83e95a2f1ef75288f3e435e198,"fix typo in README.md (#2055)

Summary:
**Summary**

Just fixing a typo in the README, changing 'use' to 'you'.
Pull Request resolved: https://github.com/facebook/draft-js/pull/2055

Differential Revision: D14933030

Pulled By: claudiopro

fbshipit-source-id: dc4034a9574e40cf1b671e7d2a9ac042ad47eb3a"
charliewilco,2019-04-11 19:28:35,https://api.github.com/repos/facebook/draft-js/git/commits/f9f5fd6ed1df237389b6bfe9db90e62fe7d4237c,f9f5fd6ed1df237389b6bfe9db90e62fe7d4237c,"Adding Hooks in docs (#2004)

Summary:
Adds React Hooks as examples in docs #1987
Pull Request resolved: https://github.com/facebook/draft-js/pull/2004

Reviewed By: claudiopro

Differential Revision: D14783281

Pulled By: claudiopro

fbshipit-source-id: 7edcdb3ee4e32afd1197ea69fed968538243eccd"
aaronabramov,2019-04-09 20:33:43,https://api.github.com/repos/facebook/draft-js/git/commits/dc58df8219fdc1e12ce947877d103b595682efa9,dc58df8219fdc1e12ce947877d103b595682efa9,"rename `*.test.js` to `*-test.js` to match naming convention

Summary:
bypass-lint

from the task:
```
Right now any file inside __tests__ on www is considered a test. This makes it difficult to create test helpers that make the code cleaner, as they're interpreted as tests and thus executed.

We should restrict tests to files ending with -test.js (as it's the general convention there).
```

Reviewed By: scotthovestadt

Differential Revision: D14856710

fbshipit-source-id: 900735c423b04472d46ab10158779a20bbcc2506"
scrollbars,2019-03-31 10:52:22,https://api.github.com/repos/facebook/draft-js/git/commits/ffd8f5919190ff5be7788346423e04d4f37ade41,ffd8f5919190ff5be7788346423e04d4f37ade41,"Correct warning condition (#2049)

Summary:
**Summary**

To my knowledge, ```warning``` works the way ```invariant``` does; it warns if the first argument is false not true.

Prior to this PR, ```moveSelectionBackward``` warns when the selection is collapsed when it should do the opposite.
Pull Request resolved: https://github.com/facebook/draft-js/pull/2049

Differential Revision: D14699712

fbshipit-source-id: bd649fa6fdc60346d80be27ab4217324c3ef21d6"
claudiopro,2019-03-21 10:39:22,https://api.github.com/repos/facebook/draft-js/git/commits/71ef3736ac6497cc3c5e0baeabd6bdd3ce7417ac,71ef3736ac6497cc3c5e0baeabd6bdd3ce7417ac,"Upgrades react-scripts to ^1.1.5 (#2042)

Summary:
**Summary**

Upgrades react-scripts to ^1.1.5 to remove an indirect dependency on the [vulnerable package macaddress@0.2.8](https://snyk.io/vuln/SNYK-JS-MACADDRESS-12141).

**Test Plan**

Smoke test the Draft.js playground

```
cd examples/draft-0-10-0/playground
yarn install
yarn run start
```
Pull Request resolved: https://github.com/facebook/draft-js/pull/2042

Reviewed By: anarelion

Differential Revision: D14560176

Pulled By: anarelion

fbshipit-source-id: b109049e545361db9ed0a35b7242fac5fd85cdc3"
claudiopro,2019-03-20 15:57:52,https://api.github.com/repos/facebook/draft-js/git/commits/21753fa3316acf03d5e0568d465503944cb9bf18,21753fa3316acf03d5e0568d465503944cb9bf18,"Upgrades docusaurus (#2039)

Summary:
**Summary**

Runs `yarn upgrade docusaurus` to ensure we're on the latest set of dependencies

**Test Plan**

Run the docusaurus build and test the website on http://localhost:3000/

```
cd website
yarn run build
yarn run start
```
Pull Request resolved: https://github.com/facebook/draft-js/pull/2039

Reviewed By: mrkev

Differential Revision: D14539917

Pulled By: mrkev

fbshipit-source-id: 16f79868bbae7e78076df26997021b13b097d66d"
fabiomcosta,2019-03-11 18:15:25,https://api.github.com/repos/facebook/draft-js/git/commits/3c01ef6eb73e912d3a9bc38e7c917bc2c4246821,3c01ef6eb73e912d3a9bc38e7c917bc2c4246821,"Fix npm run dev (#2030)

Summary:
**Summary**

Fixes the `npm run dev` command, which currently fails when run.

**Test Plan**

`npm run dev`
`yarn run dev`
Pull Request resolved: https://github.com/facebook/draft-js/pull/2030

Differential Revision: D14406346

fbshipit-source-id: 9a689d4ef3097a2728f5603d20097b98b6c3a8df"
claudiopro,2019-03-08 19:41:45,https://api.github.com/repos/facebook/draft-js/git/commits/fc3549a869201cc5856b3800fdf2bd9d55451c20,fc3549a869201cc5856b3800fdf2bd9d55451c20,"Removes unused gulp-browserify-thin (#2032)

Summary:
**Summary**

Removes unused dev dependency on `gulp-browserify-thin`. Addresses a security vulnerability that affects `minimatch@2.0.10` indirectly required through this module.

```
‚Üí yarn why minimatch
Using globally installed version of Yarn
yarn why v1.12.1
[1/4] ÔøΩ  Why do we have the module ""minimatch""...?
[2/4] üöö  Initialising dependency graph...
[3/4] üîç  Finding dependency...
[4/4] üö°  Calculating file sizes...
=> Found ""minimatch@3.0.4""
info Has been hoisted to ""minimatch""
info Reasons this module exists
   - Hoisted from ""eslint#minimatch""
   - Hoisted from ""glob#minimatch""
   - Hoisted from ""gulp-if#gulp-match#minimatch""
   - Hoisted from ""jest#jest-cli#istanbul-api#minimatch""
   - Hoisted from ""gulp-concat-css#rework-import#globby#glob#minimatch""
   - Hoisted from ""envify#jstransform#commoner#glob#minimatch""
   - Hoisted from ""jest#jest-cli#istanbul-api#fileset#minimatch""
   - Hoisted from ""jest#jest-cli#jest-runtime#babel-plugin-istanbul#test-exclude#minimatch""
   - Hoisted from ""gulp#glob-watcher#chokidar#fsevents#node-pre-gyp#npm-packlist#ignore-walk#minimatch""
info Disk size without dependencies: ""44KB""
info Disk size with unique dependencies: ""64KB""
info Disk size with transitive dependencies: ""120KB""
info Number of shared dependencies: 1
=> Found ""browserify#minimatch@2.0.10""
info Reasons this module exists
   - ""gulp-browserify-thin#browserify#glob"" depends on it
   - Hoisted from ""gulp-browserify-thin#browserify#glob#minimatch""
info Disk size without dependencies: ""76KB""
info Disk size with unique dependencies: ""96KB""
info Disk size with transitive dependencies: ""152KB""
info Number of shared dependencies: 1
‚ú®  Done in 0.96s.
```

**Test Plan**

Check if `gulp-browserify-thin` is required anywhere, it is not.
Pull Request resolved: https://github.com/facebook/draft-js/pull/2032

Reviewed By: mrkev

Differential Revision: D14388097

Pulled By: mrkev

fbshipit-source-id: 6b9b46ec8129d7899805021fbd6d6d1f8b9e443b"
claudiopro,2019-03-07 17:12:31,https://api.github.com/repos/facebook/draft-js/git/commits/68196f63be890956d29992f89856ea4d2c612fd2,68196f63be890956d29992f89856ea4d2c612fd2,"Upgrades @babel/core, babel-preset-fbjs, and gulp-util (#2028)

Summary:
**Summary**

Addresses broken flow types extracted during the gulp build. Solves #2027

Upgrades the following dependencies:

- babel-core@^6.8.0 -> babel/core@^7.3.4
- babel-preset-fbjs@^2.1.0 -> ^3.2.0
- fbjs-scripts@^0.8.0 -> ^1.1.0
- gulp-babel@^6.1.2 -> ^8.0.0
- jest@^23.5.0 -> ^24.1.0

**Test Plan**

yarn
yarn test
yarn flow

Manual inspection of generated flow types under `lib/`
Pull Request resolved: https://github.com/facebook/draft-js/pull/2028

Reviewed By: mitermayer

Differential Revision: D14366317

Pulled By: mitermayer

fbshipit-source-id: 734c15717e94c3bc7f1a552496b67ce6a509da06"
gkz,2019-03-05 05:01:30,https://api.github.com/repos/facebook/draft-js/git/commits/7b9a7e116ab6dd639ebba28736629dfc04cbc7b0,7b9a7e116ab6dd639ebba28736629dfc04cbc7b0,"Specify correct type of joinClasses

Summary:
The type of `joinClasses` in fbjs 1.0 which draft-js open-source uses is incorrect (it is correct in www), specify the correct type when importing.

I would have thought that I would have to cast the import to `any` before casting it to a different type, but apprently this works (tested in cloned github repo).

Reviewed By: claudiopro

Differential Revision: D14318804

fbshipit-source-id: e4fd34ca5efda6fd9be681a49905d9e9fdb9e3ae"
gkz,2019-03-01 22:22:47,https://api.github.com/repos/facebook/draft-js/git/commits/618393591811b890472eea89dcc06ec84e3bc9dc,618393591811b890472eea89dcc06ec84e3bc9dc,"Deploy 0.94 to www

Summary: Updates WWW to Flow 0.94.0

Reviewed By: dsainati1

Differential Revision: D14282561

fbshipit-source-id: 57f2c623f1dada2acaf1566d36cb9d162edbb2c4"
claudiopro,2019-02-26 20:39:57,https://api.github.com/repos/facebook/draft-js/git/commits/6a26a82b98f229933e483703ba702097840a0706,6a26a82b98f229933e483703ba702097840a0706,"Restores flow error suppression for fbjs@1.0.0 (#2014)

Summary:
**Summary**

Restores a flow error suppression annotation removed with D14074027

**Test Plan**

`yarn run flow`
No errors
Pull Request resolved: https://github.com/facebook/draft-js/pull/2014

Reviewed By: dsainati1

Differential Revision: D14229161

Pulled By: dsainati1

fbshipit-source-id: b169d832d0b50e3366a94d53ae7e60ca89035ae7"
guillaumeaubert,2019-02-26 03:32:13,https://api.github.com/repos/facebook/draft-js/git/commits/5081c872304384d3a213159bd8cc16e164bdf85a,5081c872304384d3a213159bd8cc16e164bdf85a,"Fix leading line feed conversion

Summary:
Pasting text from Quip results in a space being inserted at the beginning of each new line (except for the first one), due to blocks including \n as a leading character that is then turned into a space.

I couldn't repro the issue with Word flagged in the comment (could be Word on Windows, or one of the older versions of Word?), but just in case I'm only removing the leading \n that is invisible in HTML and leaving the other replacements as is.

Reviewed By: claudiopro

Differential Revision: D14199824

fbshipit-source-id: c6b9cfa72e3f75d9fae485bb87fb5bd40862375a"
dsainati1,2019-02-15 21:18:23,https://api.github.com/repos/facebook/draft-js/git/commits/3400cdafb465640c41d3728d52ed59e8f13ad78a,3400cdafb465640c41d3728d52ed59e8f13ad78a,"deploy 0.93

Summary: This diff updates ~/www to Flow 0.93.0

Reviewed By: pakoito

Differential Revision: D14074027

fbshipit-source-id: 39459cb65fb0fb10eecf31066423146499ffe634"
claudiopro,2019-02-14 11:16:20,https://api.github.com/repos/facebook/draft-js/git/commits/fdf63aa6a8907e0889b882bf1db051fa412be283,fdf63aa6a8907e0889b882bf1db051fa412be283,"Handles <br> tags in refactored HTML converter

Summary: This diff aligns the refactored HTML converter with the legacy one to correctly handle <br> tags

Reviewed By: mitermayer

Differential Revision: D14027112

fbshipit-source-id: 68c2ae2272bac4e2d90a72b71cfb43f7b20faa3a"
claudiopro,2019-02-08 23:43:41,https://api.github.com/repos/facebook/draft-js/git/commits/b4183b1519edcd075325adae0cb208551dc80f50,b4183b1519edcd075325adae0cb208551dc80f50,"Normalize case in convertFromHTMLToContentBlocks variable names

Summary: Normalize case in `convertFromHTMLToContentBlocks` variable names. It is often found as `convertFromHTMLtoContentBlocks` (lowercase 'to') and can give us unpleasant surprises in case of codemods

Reviewed By: mitermayer

Differential Revision: D14004772

fbshipit-source-id: e7dc11a6eeedbf2fa3ca607f613f99fa6583942a"
claudiopro,2019-02-08 18:49:12,https://api.github.com/repos/facebook/draft-js/git/commits/bd799f56a2594dcb177a9fbe9985059134502841,bd799f56a2594dcb177a9fbe9985059134502841,"Cleans up and refreshes generated website resources (#1998)

Summary:
**Summary**

Cleans up unused website resources from before the migration to Docusaurus, and makes sure static website resources are generated and refreshed at every build.

**Test Plan**

```
yarn
cd website
yarn build
yarn start
```

Website loads and pages contain the expected content.
Pull Request resolved: https://github.com/facebook/draft-js/pull/1998

Reviewed By: niveditc

Differential Revision: D14004275

Pulled By: niveditc

fbshipit-source-id: 2d0afaf448ae5d1c6f9f6915e530c50c983135d1"
DenrizSusam,2019-02-08 14:55:04,https://api.github.com/repos/facebook/draft-js/git/commits/e84e757caf05d0d25695ac6b88089e8d799ef8a6,e84e757caf05d0d25695ac6b88089e8d799ef8a6,"Typo fix in code comment (#1997)

Summary:
""programmatically"" instead of ""programatically"".
Pull Request resolved: https://github.com/facebook/draft-js/pull/1997

Differential Revision: D14004426

fbshipit-source-id: f775eb9e69ca0f9dbd02fbe94132ebc166f82d08"
jankdc,2019-02-07 10:49:21,https://api.github.com/repos/facebook/draft-js/git/commits/c21a9f7f09fa737f27875dc5ca8264a0b1dc86c2,c21a9f7f09fa737f27875dc5ca8264a0b1dc86c2,"Fix bad destructuring when content block key has a `-` (#1995)

Summary:
**Summary**

If a content block was created with a key that contains the `-`, it would fail to decode the `decoratorKey` and the `leafKey` because the current implementation relies on `-` to be a parsing delimiter. Here's an example:

```js
class SomeComponent extends React.Component {
  constructor(props) {
    super(props);

    const block = new ContentBlock({
      type: 'paragraph',
      text: 'some-text',
      key: 'some-key'
    });

    const contentState = ContentBlock.createFromBlockArray([block]);

    this.state = {editorState: EditorState.createWithContent(contentState)};

    this.onChange = editorState => this.setState({editorState});
  }

  render() {
    return (
      <Editor
        editorState={this.state.editorState}
        onChange={this.onChange}
      />
    );
  }
}
```

When you select anywhere on the editor, you'd get this error:

```
    TypeError: Cannot read property 'getIn' of undefined

      45 |   const focusBlockKey = focusPath.blockKey;
      46 |   const focusLeaf = editorState
    > 47 |     .getBlockTree(focusBlockKey)
         |                              ^
      48 |     .getIn([focusPath.decoratorKey, 'leaves', focusPath.leafKey]);
      49 |
      50 |   const anchorLeafStart: number = anchorLeaf.get('start');

      at getUpdatedSelectionState (src/component/selection/getUpdatedSelectionState.js:47:30)
      at getDraftEditorSelectionWithNodes (src/component/selection/getDraftEditorSelectionWithNodes.js:48:58)
      at getDraftEditorSelection (src/component/selection/getDraftEditorSelection.js:37:53)
      at assertGetDraftEditorSelection (src/component/selection/__tests__/getDraftEditorSelection-test.js:55:53)
      at Object.<anonymous> (src/component/selection/__tests__/getDraftEditorSelection-test.js:211:3)
```

**Test Plan**

Added a unit test for `DraftOffsetKey.js` to check for all delimiter cases.
Pull Request resolved: https://github.com/facebook/draft-js/pull/1995

Differential Revision: D13982004

fbshipit-source-id: 3cd5967ad86041e310c41e7bcbfff4e868062804"
claudiopro,2019-02-07 02:10:40,https://api.github.com/repos/facebook/draft-js/git/commits/a97ed7efcf0caeee8ab0a03f785b4b431eba5a8f,a97ed7efcf0caeee8ab0a03f785b4b431eba5a8f,"Upgrades Draft to React 16.8 ‚öõÔ∏è (#1996)

Summary:
**Summary**

Upgrades [react](https://npm.im/react) and [react-dom](https://npm.im/react-dom) dependencies to the freshly released 16.8 version supporting Hooks.

**Test Plan**

`yarn`
manual smoke test of editor in examples
Pull Request resolved: https://github.com/facebook/draft-js/pull/1996

Differential Revision: D13982016

fbshipit-source-id: b2f87a1d85336f60d7a03318e5e0155bb3c44fc8"
DenrizSusam,2019-02-04 20:50:44,https://api.github.com/repos/facebook/draft-js/git/commits/71672107a9593a71acf9b4d7aaed00432b75d932,71672107a9593a71acf9b4d7aaed00432b75d932,"Fix typo in code comment for DraftEditor (#1991)

Summary:
""effectively"" instead of ""effetively"".
Pull Request resolved: https://github.com/facebook/draft-js/pull/1991

Differential Revision: D13945386

fbshipit-source-id: bfc4b2edc3dff6177ccb0865e4265aeb412744f7"
claudiopro,2019-02-04 10:24:53,https://api.github.com/repos/facebook/draft-js/git/commits/a4cc10d80045d52db9dafb98ecadeb4597521077,a4cc10d80045d52db9dafb98ecadeb4597521077,"Adds email notifications for TravisCI builds (#1990)

Summary:
**Summary**

Adds claudiopro 's email for TravisCI build notifications. Feel free to do the same if you want to stay in the loop.

**Test Plan**

Wait for the next build to receive an email from TravisCI ÔøΩ‚Äç‚ôÇÔ∏è
Pull Request resolved: https://github.com/facebook/draft-js/pull/1990

Reviewed By: elboman

Differential Revision: D13935604

Pulled By: elboman

fbshipit-source-id: 0a3020e65890793b82c87626f6da284ec310805c"
claudiopro,2019-02-01 16:08:59,https://api.github.com/repos/facebook/draft-js/git/commits/e8a281c936fc78834c1e1d2505ba5153aed531c5,e8a281c936fc78834c1e1d2505ba5153aed531c5,"Upgrades flow-bin to 0.91.0 and mutes fbjs joinClasses error ÔøΩ (#1989)

Summary:
**Summary**

Fixes a CI build error (#1988) by adding a `$FlowExpectedError` annotation, and upgrading [flow-bin](https://www.npmjs.com/package/flow-bin) to 0.91.0

**Test Plan**

```
yarn run flow
flow src
```

```
‚Üí flow src
The flow server's version didn't match the client's, so it exited.
Going to launch a new one.

Launching Flow server for /Users/procidac/Development/gh/claudiopro/draft-js/src
Spawned flow server (pid=87525)
Logs will go to /private/tmp/flow/zSUserszSprocidaczSDevelopmentzSghzSclaudioprozSdraft-jszSsrc.log
Monitor logs will go to /private/tmp/flow/zSUserszSprocidaczSDevelopmentzSghzSclaudioprozSdraft-jszSsrc.monitor_log
No errors!
```
Pull Request resolved: https://github.com/facebook/draft-js/pull/1989

Reviewed By: pakoito

Differential Revision: D13917267

Pulled By: pakoito

fbshipit-source-id: ce66ee4c67c4e7cc46c51ca91a4ade3d980fdf2e"
pakoito,2019-01-31 22:59:54,https://api.github.com/repos/facebook/draft-js/git/commits/c022efba2bae265bbaf532f6c867a094b571f917,c022efba2bae265bbaf532f6c867a094b571f917,"Update to 0.92.0

Summary: This diff updates `~/www` to Flow 0.92.0

Reviewed By: motiz88

Differential Revision: D13900311

fbshipit-source-id: 2ddbbd3f02aba09fa8f24e2b9692fb10b07ad620"
claudiopro,2019-01-22 15:44:08,https://api.github.com/repos/facebook/draft-js/git/commits/e942ee9205da89354a366d05f90645736988d38d,e942ee9205da89354a366d05f90645736988d38d,"Fixes lint warnings in convertFromHTMLToContentBlocks2 tests

Summary: Fixes lint warnings in convertFromHTMLToContentBlocks2 tests and initializes with defaults from the `clear` method.

Reviewed By: j-nolan

Differential Revision: D13711386

fbshipit-source-id: e5562b69c4388b75ea5a0b5abfb4508ad9096a87"
niveditc,2019-01-22 13:24:00,https://api.github.com/repos/facebook/draft-js/git/commits/a3a35857b0697d573f425138e9260324d0b059b8,a3a35857b0697d573f425138e9260324d0b059b8,"Update webpack-dev-server & babel version in TeX examples (#1981)

Summary:
**Summary**
* Upgrade `webpack-dev-server` to 3.1.14 to fix [vulnerability in versions < 3.1.11](https://nvd.nist.gov/vuln/detail/CVE-2018-14732) & `webpack` to 4.0.0 to match it
* Upgrade `babel` to 6.0.0 & `babel-loader` to 7.0.0 to match `webpack` upgrade
* Changes to `server.js` & `app.js` to support the `webpack` & `babel` version upgrades

**Test Plan**
Run `yarn start` and load http://localhost:3000/
<img width=""1089"" alt=""screenshot 2019-01-21 13 22 30"" src=""https://user-images.githubusercontent.com/2357761/51502558-5974d780-1d8b-11e9-8568-917f43967188.png"">
Pull Request resolved: https://github.com/facebook/draft-js/pull/1981

Reviewed By: claudiopro

Differential Revision: D13754649

Pulled By: claudiopro

fbshipit-source-id: 19169f9b091d85344d975e2d7b963437b7701e9b"
chaitanya-deep,2019-01-21 22:02:39,https://api.github.com/repos/facebook/draft-js/git/commits/363f66e36790b67bea87e88813134dcd84fcc643,363f66e36790b67bea87e88813134dcd84fcc643,"Remove componentWillReceiveProps usages in examples (#1952)

Summary:
**Summary**
Resolves [1940](https://github.com/facebook/draft-js/issues/1940)
Change usage of `componentWillReceiveProps` in Tex examples to `componentDidUpdate`
Pull Request resolved: https://github.com/facebook/draft-js/pull/1952

Reviewed By: claudiopro

Differential Revision: D13417818

Pulled By: claudiopro

fbshipit-source-id: b13ff3140c3207cddaeb8d98c239f7dfd4b04a47"
anthonymuau,2019-01-21 21:19:45,https://api.github.com/repos/facebook/draft-js/git/commits/9b2a3660fa2e6abb8f6503ebf7f830bc98d0c248,9b2a3660fa2e6abb8f6503ebf7f830bc98d0c248,"Update fbjs to 1.0.0 to fix ReDos Vulnerability (#1978)

Summary:
**Summary**
draft-js was using older version of fbjs that uses older version ua-parser-js what has a vulnerability.

https://app.snyk.io/vuln/npm:ua-parser-js:20180227

**Test Plan**

1. Run npm test and it passes
2. Run npm build and it passes
Pull Request resolved: https://github.com/facebook/draft-js/pull/1978

Differential Revision: D13746429

fbshipit-source-id: 636e9ad795f97781f6dc8a88125dcea0be005987"
claudiopro,2019-01-04 10:25:12,https://api.github.com/repos/facebook/draft-js/git/commits/585af35c3a8c31fefb64bc884d4001faa96544d3,585af35c3a8c31fefb64bc884d4001faa96544d3,"Relicense under MIT and remove patents grant (#1967)

Summary:
**Summary**

After internal discussion and approval by the legal team, we decided to align Draft.js with other Facebook open source projects [recently re-licensed under MIT](https://code.fb.com/web/relicensing-react-jest-flow-and-immutable-js/).

This PR removes the patents grant and re-licenses all Draft.js source files under the MIT license.

**Test Plan**

`yarn lint`
Manual code inspection
Pull Request resolved: https://github.com/facebook/draft-js/pull/1967

Differential Revision: D13572529

fbshipit-source-id: f59982148515fdc7a2f697c92e1939e211b6125c"
claudiopro,2019-01-03 11:28:36,https://api.github.com/repos/facebook/draft-js/git/commits/642aa119af114e8db590fe76cd2f2b84e118471c,642aa119af114e8db590fe76cd2f2b84e118471c,"Normalize copyright headers to BSD + patents grant and drop the year (#1964)

Summary:
**Summary**

This PR follows up work started by niveditc on #1860 and suspended because of limitations with tooling. Let's give it another try.

- Remove all copyright years
- Correct copyright headers under `website/` referencing the MIT license
- Inline `All rights reserved.` on the same line of the copyright
- Fixes copyright headers of examples incorrectly using headers for source files

The PR also normalizes copyright headers to BSD with patents grant, as some files were later added with the newest MIT license applied to React and other OSS projects. We should discuss the switch to MIT for Draft.js as well.

**Test Plan**

Manual inspection of files + `yarn lint`
Pull Request resolved: https://github.com/facebook/draft-js/pull/1964

Differential Revision: D13562427

fbshipit-source-id: 6a15d29ff56a6340ee2a0f13f278b207f1761d28"
claudiopro,2018-12-26 14:32:44,https://api.github.com/repos/facebook/draft-js/git/commits/fb7882b436fa148629a2e0ab4784218a2fc5d630,fb7882b436fa148629a2e0ab4784218a2fc5d630,"Fixes flow error (#1962)

Summary:
**Summary**

Fixes a flow error in master (#1961) by replacing an inline `$FlowFixMe` with the appropriate type `string`

**Test Plan**

```
‚Üí yarn flow
Using globally installed version of Yarn
yarn run v1.12.1
$ flow src
No errors!
‚ú®  Done in 0.28s.
```
Pull Request resolved: https://github.com/facebook/draft-js/pull/1962

Differential Revision: D13548249

fbshipit-source-id: 6975261897187560536a08fafc24c3400d7bf645"
gabelevi,2018-12-14 22:09:01,https://api.github.com/repos/facebook/draft-js/git/commits/8dd6dda034d06326e77044677327734e02c585fd,8dd6dda034d06326e77044677327734e02c585fd,"Remove unused suppression comments from www as of v0.89

Summary:
This makes a best effort attempt to clean up unused suppressions in www.

* Removed comments from www

```
$ ~/flow/tool remove-comments --bin `which flow` --check status .
Removed 565 comments in 360 files
Ignored 38 comments in 18 files due to -flowtest.js suffix or __flowtests__ directory. Run with `--include-flowtest` to also remove those files.
```

* Revert generated code (61 files P60440612)

* Manually fixed a few things in www and mobile. Mostly flowlint comments or poorly scoped comments

* Ran prettier

* Removed comments from mobile

```
[glevi@devbig023 www-hg]$ ~/flow/tool remove-comments --bin `which flow` --check status html/js/mobile
Removed 11 comments in 11 files
Ignored 6 comments in 3 files due to -flowtest.js suffix or __flowtests__ directory. Run with `--include-flowtest` to also remove those files.
```

* Reverted generated files

* Manually fixed mobile again (a few malformed flowlint comments)

drop-conflicts
bypass-lint

Reviewed By: jbrown215

Differential Revision: D13450730

fbshipit-source-id: 6fdbd00e36e439388e221fc233f2ecf01fe07442"
mrkev,2018-12-12 20:49:19,https://api.github.com/repos/facebook/draft-js/git/commits/85ad25c3f5c8fe5a989f4d92eb0c5f100b0e57c7,85ad25c3f5c8fe5a989f4d92eb0c5f100b0e57c7,"Upgrade to Gulp 4 (fixes build) (#1957)

Summary:
Fixed the build-- it was broken from using Gulp 3 on Node 10:
https://github.com/nodejs/node/issues/19786
Pull Request resolved: https://github.com/facebook/draft-js/pull/1957

Reviewed By: pakoito

Differential Revision: D13433181

Pulled By: pakoito

fbshipit-source-id: 0f224a3ff92e1cc6abdbd4cec88a5742f9d3ff9a"
pakoito,2018-12-12 14:22:52,https://api.github.com/repos/facebook/draft-js/git/commits/83edf02d25e926449130e40cceb8bf82deefc49d,83edf02d25e926449130e40cceb8bf82deefc49d,"Add correct type annotations to DraftEditor.react.js

Summary: This diff fixes some debt introduced when the flow failed to infer the types of these functions when automatically annotating them with the Annotate_exports codemod.

Reviewed By: rubennorte

Differential Revision: D13431571

fbshipit-source-id: 53696e7e179b876ffc9d509406fe84e9a2bbb9af"
pakoito,2018-12-12 12:22:53,https://api.github.com/repos/facebook/draft-js/git/commits/81f92eee02aebe06a8e8cfebe9874c7594d844cb,81f92eee02aebe06a8e8cfebe9874c7594d844cb,"Fix $FlowFixMe type not working for CI builds of draft-js

Summary: This diff fixes a $FlowFixMe type not accepted by CI builds of draft-js, as seen in https://travis-ci.org/facebook/draft-js/jobs/466944758

Reviewed By: mjesun

Differential Revision: D13431039

fbshipit-source-id: 14b1acc68b08821fa353eaacf5b25fb4686a9cd9"
pakoito,2018-12-12 10:59:19,https://api.github.com/repos/facebook/draft-js/git/commits/7cb10f9bcbbaf5cc7187bf6cf96ac262c64a6cab,7cb10f9bcbbaf5cc7187bf6cf96ac262c64a6cab,"Annotate exports codemod on html/shared

Reviewed By: avikchaudhuri

Differential Revision: D13425830

fbshipit-source-id: 20fd7ae249fd79030dc736b0caeacb5a440f6141"
sophiebits,2018-11-19 13:55:27,https://api.github.com/repos/facebook/draft-js/git/commits/645549343e7248ae07bf8e274de971acfe1c53c0,645549343e7248ae07bf8e274de971acfe1c53c0,"Ctrl-K at end of line should delete newline

Summary: If you're at the end of a line and press Ctrl-K (on Mac OS), it should delete the newline (same as if you had just pressed forward-delete). Now it does (and stores the newline in the secondary clipboard, as Ctrl-K always does).

Reviewed By: claudiopro

Differential Revision: D13085302

fbshipit-source-id: b32cfcd41ad4ff482ff71621f98bd6524c415fc5"
iwonbigbro,2018-11-16 13:27:10,https://api.github.com/repos/facebook/draft-js/git/commits/010fce785948edaf92bd9e81e8777784c1421545,010fce785948edaf92bd9e81e8777784c1421545,"Revert D13097194: [codemod][types-first] Add type annotations to html/shared

Differential Revision:
D13097194

Original commit changeset: 3e698c746fda

fbshipit-source-id: 8af5ee4fac8cdeb10726bbc9c650238593ff5f6e"
pakoito,2018-11-16 12:57:52,https://api.github.com/repos/facebook/draft-js/git/commits/6f4102d90aa70d6f54ee16b1eb92dba9b90c10cb,6f4102d90aa70d6f54ee16b1eb92dba9b90c10cb,"Add type annotations to html/shared

Reviewed By: mjesun

Differential Revision: D13097194

fbshipit-source-id: 3e698c746fdabcb49a220886ad083d962675b447"
zpao,2018-11-13 05:36:41,https://api.github.com/repos/facebook/draft-js/git/commits/ab199efc0b744bd3bf18ff938983ae218ed42670,ab199efc0b744bd3bf18ff938983ae218ed42670,"Fix all 'curly' violations

Summary: Fix `curly` ESLint violations and reformat as needed.

Reviewed By: miorel

Differential Revision: D12966889

fbshipit-source-id: 92f589c8664f160fd00d9314a77c0c0b1cf37b0d"
thibaudcolas,2018-11-11 22:07:23,https://api.github.com/repos/facebook/draft-js/git/commits/7dddded53f479bb1f0713964659cfdc3426a5937,7dddded53f479bb1f0713964659cfdc3426a5937,"Fix tex and universal examples crash because of different React versions (#1756) (#1931)

Summary:
**Summary**

Fixes #1756, and #1930. The tex and universal examples have their own dependencies, and relied on a different version of `react`/`react-dom` from the one defined for Draft.js. This caused a JS error when running the examples.

I have also added the missing lockfile for the universal example.

**Test Plan**

- Make a clean copy of the project
- For both examples, go through the instructions to install their dependencies and build them.
- Open the examples in a browser, and attempt to type in the editor(s)
Pull Request resolved: https://github.com/facebook/draft-js/pull/1931

Differential Revision: D13019619

fbshipit-source-id: 3451737816a5ba9fe283cb65b285fd5fb5e5532a"
samwgoldman,2018-11-02 04:05:54,https://api.github.com/repos/facebook/draft-js/git/commits/744af911f4f28669a2f477145d93e63db951f0ec,744af911f4f28669a2f477145d93e63db951f0ec,"Deploy Flow v0.85 to www

Summary:
The controller you requested could not be found.
The controller you requested could not be found.
The controller you requested could not be found.
The controller you requested could not be found.

The controller you requested could not be found.

Reviewed By: panagosg7

Differential Revision: D12897571

fbshipit-source-id: 5362e2472cef0719f7294ccad9c516cf6862cdfa"
avikchaudhuri,2018-10-26 05:34:31,https://api.github.com/repos/facebook/draft-js/git/commits/59dd225738167d213558934a6e45c7f0a1c5e0c1,59dd225738167d213558934a6e45c7f0a1c5e0c1,"flow 0.84 www deploy

Summary:
The controller you requested could not be found.
The controller you requested could not be found.

Reviewed By: samwgoldman

Differential Revision: D10851590

fbshipit-source-id: 7858075ed2dd740f5105aa668c42c2e6d96aa0ef"
afercia,2018-10-24 19:40:48,https://api.github.com/repos/facebook/draft-js/git/commits/ce7f677bed3ba5a24bef7abd98e30c8248e8f211,ce7f677bed3ba5a24bef7abd98e30c8248e8f211,"Bring back the ariaOwneeID prop. (#1883)

Summary:
**Summary**

Reverts https://github.com/facebook/draft-js/commit/7f0cab28386ec4bde8ec6289377bff9e53cd019b to bring back the `ariaOwneeID` prop. The ARIA property `aria-owns` is required for the combobox ARIA widget, in both ARIA 1.0 and 1.1. Some plugins, for example the Mentions and Emoji plugins, still pass an `ariaOwneeID` prop which at the moment doesn't do anything. Also, without `aria-owns`, some browser / screen reader combinations don't read out the suggestions at all. For more details please refer to the related issue #1736.

Fixes #1736.
Pull Request resolved: https://github.com/facebook/draft-js/pull/1883

Reviewed By: vdurmont

Differential Revision: D10371390

Pulled By: vdurmont

fbshipit-source-id: 140282124128437e0d8cc9b08490420c3dc81dc1"
pakoito,2018-10-17 16:40:23,https://api.github.com/repos/facebook/draft-js/git/commits/2e3a181eb3c479a7e16a8d54899f8fe41d7b6d2b,2e3a181eb3c479a7e16a8d54899f8fe41d7b6d2b,"Add type annotations to React.Component classes in html/shared

Reviewed By: rubennorte

Differential Revision: D10426632

fbshipit-source-id: b6ba889749311f8f013c362c78f77dcd2515b028"
samwgoldman,2018-10-17 05:43:10,https://api.github.com/repos/facebook/draft-js/git/commits/280d2420c961468dd2b953d8c89a18ace09c9b3f,280d2420c961468dd2b953d8c89a18ace09c9b3f,"Add return type annotation to addEmojiInput

Summary:
Flow does not infer generics, so generic functions should have annotated return
types. This will become an error in the next Flow version.

Note that this uncovered a bunch of errors, which I mostly fixed. I suppressed
a few that would require code changes.

Reviewed By: nmote

Differential Revision: D10419507

fbshipit-source-id: 84b8f33f3c8fe272b18e35e838a0ebf7bdbaa6ff"
niveditc,2018-10-16 14:36:51,https://api.github.com/repos/facebook/draft-js/git/commits/7df9eb9b2434c7782e549a1a54172ce60fc389bb,7df9eb9b2434c7782e549a1a54172ce60fc389bb,"Add issue triage guidelines to CONTRIBUTING.md (#1896)

Summary:
**Summary**

We've been loosely following these guidelines for the past month & they seem to be working well. Adding to `CONTRIBUTING.md` to make it more visible.

**Test Plan**
<img width=""793"" alt=""screenshot 2018-10-14 12 54 05"" src=""https://user-images.githubusercontent.com/2357761/46921447-40040880-cfb0-11e8-8e74-386c17a4778e.png"">
Pull Request resolved: https://github.com/facebook/draft-js/pull/1896

Differential Revision: D10382836

fbshipit-source-id: e96336a96f27681b59510fcd15baa30e146ed631"
ericbiewener,2018-10-15 18:37:06,https://api.github.com/repos/facebook/draft-js/git/commits/a0267a94e855dcb8fac82c0b1b8b37fbc17a7047,a0267a94e855dcb8fac82c0b1b8b37fbc17a7047,"Unstyle empty list item on Enter key (#769)

Summary:
**Summary**

This appears to be standard functionality in text editors. If the list item has no text and the user pressed `Enter`, rather than creating a new list item, the current one should simply be removed. This is how it works in Google Docs, TextEdit, etc.

**Test Plan**

1. Open the Rich Text editor example.
2. Create a list item. Don't add any text to it.
3. Press enter

The list item should be removed.
Pull Request resolved: https://github.com/facebook/draft-js/pull/769

Reviewed By: flarnie

Differential Revision: D10371552

Pulled By: flarnie

fbshipit-source-id: aa975e465c5cdbb1a8def62ba079545836211152"
niveditc,2018-10-15 17:18:37,https://api.github.com/repos/facebook/draft-js/git/commits/9a96ab03d91f5e07a64f597b331f24f1cf831c18,9a96ab03d91f5e07a64f597b331f24f1cf831c18,"Add meeting notes for 10/12 (#1901)

Summary:
**Summary**

Publishing meeting notes, fixes #1899

**Test Plan**

Rendered in MacDown - [2018-10-12-meeting.pdf](https://github.com/facebook/draft-js/files/2477047/2018-10-12-meeting.pdf)
Pull Request resolved: https://github.com/facebook/draft-js/pull/1901

Differential Revision: D10382794

fbshipit-source-id: ee421b517a80ce9548f390ead86ed7cecde52d44"
alvinthen,2018-10-15 12:14:34,https://api.github.com/repos/facebook/draft-js/git/commits/0b7ec2a1d1cabb0bf22285301f8633bae04b9cfe,0b7ec2a1d1cabb0bf22285301f8633bae04b9cfe,"Update Advanced-Topics-Inline-Styles.md (#1902)

Summary:
**Summary**

Fix the Hello World words which did not rendered properly on the docs site.

**Test Plan**

Before
![image](https://user-images.githubusercontent.com/771989/46931399-8e330d80-d07d-11e8-828d-e74c52724d7a.png)

After
![image](https://user-images.githubusercontent.com/771989/46931423-a3a83780-d07d-11e8-8ada-4468acff26cf.png)
Pull Request resolved: https://github.com/facebook/draft-js/pull/1902

Differential Revision: D10378437

fbshipit-source-id: e264eadc2dd9fd9e5b660b806e9769a002c08778"
ukrbublik,2018-10-10 21:37:25,https://api.github.com/repos/facebook/draft-js/git/commits/20a0f73f0b2e479c61fb41c3e23d0e5b86d4f8ec,20a0f73f0b2e479c61fb41c3e23d0e5b86d4f8ec,"Fixes some drag-n-drop problems (#1599)

Summary:
**Summary**
Fixes issue #1383. Fixes problem which is: onDrop breaks onSelect/onChange events.
Fixes issue #1454 (partial). Fixes problem which is: after first internal drop dragged text will not be moved to target position, but copied.
The solution is to set `editor._internalDrag` to false not during onDragOver events, but after end of drag-n-drop.

**Test Plan**
Attached reproducable videos (on Chrome for Linux)
Issue #1383 before and after:
![1383-before](https://user-images.githubusercontent.com/3238637/46585340-68ec4100-ca78-11e8-9c2f-c98e7cb381ff.gif)
![1383-after](https://user-images.githubusercontent.com/3238637/46585344-6c7fc800-ca78-11e8-9c2e-fdac5594d1d0.gif)
Issue #1454 before and after:
![1454-before](https://user-images.githubusercontent.com/3238637/46585364-9e912a00-ca78-11e8-9c17-5dfcec5a2e16.gif)
![1454-after](https://user-images.githubusercontent.com/3238637/46585361-9a650c80-ca78-11e8-8b7f-dac6c6af4b23.gif)
Pull Request resolved: https://github.com/facebook/draft-js/pull/1599

Differential Revision: D10236073

fbshipit-source-id: 3b7b816630f3b5b15931cb53782a1d5b9e9d5121"
colinjeanne,2018-10-10 18:28:02,https://api.github.com/repos/facebook/draft-js/git/commits/022bcf7d224ac99d3eae3881db88c418a5600d92,022bcf7d224ac99d3eae3881db88c418a5600d92,"Allow Option+Space to be handled on OSX Chrome (#1254)

Summary:
**Summary**

Currently pressing Option+Space in Chrome on OSX will cause a nonbreaking space to always be inserted into the editor. This behavior ignores any key bindings that the editor has set.

This change moves the logic which adds the non breaking space to after the point that the key binding function has been run in order to give editors a chance to handle this behavior on their own.

**Test Plan**

This has been tested manually since there are no current tests for the event handlers and no current framework for testing the handlers. We have been running [with this change in our fork of Draft](https://github.com/textioHQ/draft-js/commit/f4c3aebe6593e3ccdb1de4c15363e72faae0f236) for about seven months without issue.
Pull Request resolved: https://github.com/facebook/draft-js/pull/1254

Differential Revision: D10241854

fbshipit-source-id: b8fe92a4f76bbb7543efdb3e5deca1dbdbc0960c"
flowkraD,2018-10-10 18:25:11,https://api.github.com/repos/facebook/draft-js/git/commits/8ad59c4e407785c685472a82bfe7ecb1cd363352,8ad59c4e407785c685472a82bfe7ecb1cd363352,"Added information about nature of block keys (#1892)

Summary:
**Summary**

Added a note letting users know the block keys are strictly alphanumeric and using the `generateRandomKey` function to generate block keys is a good approach.

Any changes needed can be mentioned and will be implemented in a jiffy!

Issue in focus: #1843
Pull Request resolved: https://github.com/facebook/draft-js/pull/1892

Differential Revision: D10303263

fbshipit-source-id: 717baed9d04b91acb4e73b936f3e367b4fb11f04"
bambii7,2018-10-09 02:01:26,https://api.github.com/repos/facebook/draft-js/git/commits/1d2d854c68216667b21505cc145a0627ebe14195,1d2d854c68216667b21505cc145a0627ebe14195,"Bug/1668 (#1691)

Summary:
**Summary**

Updating examples package.json to reference parent projects react & react dom versions. This ensures its kept in sync with the Draftjs version.

**Test Plan**

This commit updates example package.json. Not sure it is testable with jest. Unless its possible to detect when two versions of react are loaded.
Pull Request resolved: https://github.com/facebook/draft-js/pull/1691

Differential Revision: D10247219

fbshipit-source-id: 462c3d64efdbaca00563a0110d511f1865860b71"
niveditc,2018-10-09 01:33:25,https://api.github.com/repos/facebook/draft-js/git/commits/75aa88a20480ee7e9326712a8b04bb6acd477251,75aa88a20480ee7e9326712a8b04bb6acd477251,"Remove flow typing for DraftEntity mock (#1891)

Summary:
**Summary**

Flow typing this file breaks Travis CI. See also discussion in #1890

**Test Plan**
`yarn run flow`
Pull Request resolved: https://github.com/facebook/draft-js/pull/1891

Reviewed By: mjhu

Differential Revision: D10250894

Pulled By: mjhu

fbshipit-source-id: f6a3a54a8b2d2f2f589a035e42f1c743afd638b2"
andrewbranch,2018-10-08 21:26:54,https://api.github.com/repos/facebook/draft-js/git/commits/7666e95c2233540f9595fc75c6e86fdebc99f65f,7666e95c2233540f9595fc75c6e86fdebc99f65f,"Fix SelectionState‚Äôs `hasEdgeWithin` (#1811)

Summary:
Fixes #1700, which includes a detailed description and reproduction of the issue.

Hopefully it's ok that I refactored the true/false assertions not to use snapshots; I found them confusing and tedious and figured it was probably just an artifact of migrating to Jest a long time ago.
Pull Request resolved: https://github.com/facebook/draft-js/pull/1811

Differential Revision: D10234643

fbshipit-source-id: 531e45c8fe1708fb440240e1a7bd121cb126cd08"
niveditc,2018-10-08 20:54:31,https://api.github.com/repos/facebook/draft-js/git/commits/bbd3ef102b5191ef8a58edd04997a3c345e291b7,bbd3ef102b5191ef8a58edd04997a3c345e291b7,"Flow strict for some files

Summary: I went through all the test files and was able to make some of them flow strict.

Reviewed By: sophiebits

Differential Revision: D10236583

fbshipit-source-id: 480b6dc959ab9e93cb27efb8ac4d85817a76eb53"
laysent,2018-10-08 18:33:39,https://api.github.com/repos/facebook/draft-js/git/commits/800d6b5888ab3fe4a1fcdb9c12f1942bca6c3972,800d6b5888ab3fe4a1fcdb9c12f1942bca6c3972,"Fix drop issue (#1725)

Summary:
**Summary**

I have created a demo to illustrate this issue, feel free to look at [here](https://github.com/laysent/draft-js-drag-and-drop-issue)

If you look at `src/component/base/DraftEditor.react.js`, there is a problem with `_dragCount`:

When you drag a file into editor and drop it, `onDragEnter` will be triggered to increase `this._dragCount`. However, `onDragLeave` will not be triggered when dropping, thus `this._dragCount` will not be decreased back to 0.

Thus, after dragging and dropping, when user drags another file and NOT drop it, both `onDragEnter` and `onDragLeave` will be triggered. This time, `this._dragCount` will be increased then decreased. However, since it's initial value after dropping is not 0, it will not be decreased back to 0 after `dragLeave`, thus it will not trigger `this.exitCurrentMode()` in `onDragLeave`. Editor remains in ""drag"" mode.

To resolve this issue, simply set `_dragCount` back to 0 when dropping the file.

**Test Plan**

I don't think one is necessary for this issue. But would be happy to provide one if required.
Pull Request resolved: https://github.com/facebook/draft-js/pull/1725

Differential Revision: D10234644

fbshipit-source-id: 6b8ffeef21899d80f623db3554dd688038ed92ac"
niveditc,2018-10-08 14:28:37,https://api.github.com/repos/facebook/draft-js/git/commits/d87e0937a8c4f1c1bfce19dfb4815ec0d1bb0773,d87e0937a8c4f1c1bfce19dfb4815ec0d1bb0773,"Add flow to files

Summary:
These are the last two files that aren't flow typed.

I'll look into strict typing for this file & others in a bit.

Reviewed By: elboman

Differential Revision: D10236440

fbshipit-source-id: 9f546b2c62f969ab550f9d16c5e6e12fb2371479"
vinogradov,2018-10-07 16:03:30,https://api.github.com/repos/facebook/draft-js/git/commits/cc6b897e358464a8010f27dd9ee2c9431ccf2cf1,cc6b897e358464a8010f27dd9ee2c9431ccf2cf1,"Docs: add explicit deprecation notes to Entity methods (#1787)

Summary:
**Summary**

The note in the docs `Please note that the API for entity storage and management has changed recently; for details on updating your application see our v0.10 API Migration Guide` doesn't give a quick clear idea of what I should use instead of the old methods (I need to go to that migration guide, but let's suppose I'm a new user and I don't have any code to migrate). The problem becomes obvious after getting warnings in the browser console.  So my suggestion is to place deprecation notice right in the name header. I believe this would save some time for those who open docs just to see the method signatures.

Now (https://draftjs.org/docs/api-reference-entity.html):
![image](https://user-images.githubusercontent.com/439939/41491613-39a1cfb2-710b-11e8-849b-4f8a13bf9088.png)

What I suggest:
![image](https://user-images.githubusercontent.com/439939/41491621-43f89af4-710b-11e8-8d71-2c3c20054e42.png)
Pull Request resolved: https://github.com/facebook/draft-js/pull/1787

Differential Revision: D10234733

fbshipit-source-id: 8f7c32ad4f0da203ffe0a80584781413681ba158"
claudiopro,2018-10-04 23:02:49,https://api.github.com/repos/facebook/draft-js/git/commits/67d6fda1269d2c82db6092a9a2d0d196e4538974,67d6fda1269d2c82db6092a9a2d0d196e4538974,"Clarifies editor example, changes height to min-height (#1889)

Summary:
**Summary**

Clarifies editor example, explaining how to use CSS selectors from the Draft.css stylesheet, changes `height` to `min-height` in example.

**Test Plan**

Tests on CodeSandbox: https://codesandbox.io/s/9y5162ryj4
Pull Request resolved: https://github.com/facebook/draft-js/pull/1889

Differential Revision: D10207706

fbshipit-source-id: cf3a6eb659f486ec9a0d6e64018478b113c20922"
claudiopro,2018-10-04 16:24:49,https://api.github.com/repos/facebook/draft-js/git/commits/b8862fd42faaac9ce4bbced90518bc00b719dfe2,b8862fd42faaac9ce4bbced90518bc00b719dfe2,"Improves editor overview example with min height and border (#1887)

Summary:
**Summary**

Improves editor overview example providing a code sample that sets the editor's min height and border, as well as focuses the editor when clicking the editor area.

**Test Plan**

Copy and paste example into CodeSandbox
https://codesandbox.io/s/9y5162ryj4

Fixes #1880
Pull Request resolved: https://github.com/facebook/draft-js/pull/1887

Differential Revision: D10200611

fbshipit-source-id: 5c261cf78d8d36e3255528b68d30d7b46e2908bf"
claudiopro,2018-10-04 13:51:15,https://api.github.com/repos/facebook/draft-js/git/commits/8d5cbbe9bf1767ee56cb908fd95fdea9b8aaced2,8d5cbbe9bf1767ee56cb908fd95fdea9b8aaced2,"Adds iframed editor example (#1879)

Summary:
**Summary**

Adds an iframed editor example to Draft.js based on haikyuu's CodeSandbox demo https://codesandbox.io/s/y0q1q281kz

**Test Plan**

```
git clone claudiopro/draft-js .
cd draft-js
git checkout iframe-example
python3 -m http.server 8000
open http://localhost:8000/examples/draft-0-10-0/iframe/iframe.html
```
<img width=""1072"" alt=""screen shot 2018-09-24 at 4 23 24 pm"" src=""https://user-images.githubusercontent.com/860099/45957816-396c1c00-c016-11e8-9808-c4453ff6c4ff.png"">
Pull Request resolved: https://github.com/facebook/draft-js/pull/1879

Differential Revision: D10194094

fbshipit-source-id: 0beabd7b890fbc31acdc84a780d6e91ca1de31a4"
juliankrispel,2018-10-04 02:56:21,https://api.github.com/repos/facebook/draft-js/git/commits/6ba124cf663b78c41afd6c361a67bd29724fa617,6ba124cf663b78c41afd6c361a67bd29724fa617,"fixes #868 (#1878)

Summary:
**Summary**
- Updated the DraftEntity flow type to be `string`. fixes #868

**Test Plan**
N/A
Pull Request resolved: https://github.com/facebook/draft-js/pull/1878

Differential Revision: D10188002

fbshipit-source-id: e52da4d8dd708c7ed58e7d6f8c585e86835f1bb2"
niveditc,2018-10-02 17:39:15,https://api.github.com/repos/facebook/draft-js/git/commits/690f7ef2449feab85f5b803689c9d5a8a4ce9c08,690f7ef2449feab85f5b803689c9d5a8a4ce9c08,"Fix check for tree blocks

Summary: We were wrongly converting from tree to raw whenever a block had a children array, even if no blocks actually have children. This is bad because when we toggle the GK, we clear the children, but we don't necessarily delete the field altogether (and shouldn't). A tree to raw conversion (or vice versa) is needed only when blocks are actually nested.

Reviewed By: agoder

Differential Revision: D10145467

fbshipit-source-id: 10e489e9c3ba3ae0d16c3da4767cd1400345d92e"
niveditc,2018-09-29 14:46:52,https://api.github.com/repos/facebook/draft-js/git/commits/0688fa32150dc5ce8e31ce3cc871037e616c70df,0688fa32150dc5ce8e31ce3cc871037e616c70df,"Perform untab on backspace for nested items

Summary:
For nested lists, when we backspace at the start of a nested item we want to perform the same action as if we hit `Shift + Tab`.

* Abstract out the untab logic to use in both `onTab` and `onBackspace`.
* No regression in untab (`Shift + Tab`) behavior.
* Backspace on a nested block untabs it (diagrams below)

{F139898511}

Reviewed By: claudiopro

Differential Revision: D10118538

fbshipit-source-id: d6b95bd6ca85f6b9443d54de38e1e15bbfc81eba"
niveditc,2018-09-28 12:26:37,https://api.github.com/repos/facebook/draft-js/git/commits/7daa87ee3b7ec1b54ae5649844b3b9fbc5cfeded,7daa87ee3b7ec1b54ae5649844b3b9fbc5cfeded,"Fix bug in merge blocks

Summary:
I read the docs wrong for `Immutable.OrderedMap` set & merge and we don't need to reorder blocks in the `mergeBlocks` operation. We can just update the relevant blocks and delete the empty parent block.

Adds a new test case for the operation that was failing earlier and got fixed here:
{F139809753}

Reviewed By: elboman

Differential Revision: D10100468

fbshipit-source-id: c0e5ad0bf1e3ae091cda2091e57b94d8ee488e45"
niveditc,2018-09-26 18:56:27,https://api.github.com/repos/facebook/draft-js/git/commits/8ac19227a5c009355fbd3e8c55b80e03acd18555,8ac19227a5c009355fbd3e8c55b80e03acd18555,"Fix raw to tree conversion

Summary:
The existing conversion logic doesn't correctly deal with complex nested lists. Rather than using a hash table (which doesn't track order), we need to use a stack that keeps track of the active parent blocks at each level.

**Old (buggy behavior):**
https://pxl.cl/hMPf

**New (fixed behavior):**
https://pxl.cl/hMPh

Reviewed By: vdurmont

Differential Revision: D10048052

fbshipit-source-id: b2c1a3fcad19818037aa1ebfdedf3025e794048d"
niveditc,2018-09-21 03:31:50,https://api.github.com/repos/facebook/draft-js/git/commits/02e0e00b5b5545e958c678aa8a583868f60bf33f,02e0e00b5b5545e958c678aa8a583868f60bf33f,"Bug Fix - Remove deleted block from its parent's children

Summary:
Forgot to update this parent-child pointer & didn't have a test for it, so the invariant threw an error for untab in production.

https://pxl.cl/hFG6

Reviewed By: vdurmont

Differential Revision: D9982548

fbshipit-source-id: 7d97bdcea15d23f3d4fcd1a64d00e12587b76549"
niveditc,2018-09-20 17:14:59,https://api.github.com/repos/facebook/draft-js/git/commits/fbe226771b37279b0ceeb0dbce8172ede6aeecb8,fbe226771b37279b0ceeb0dbce8172ede6aeecb8,"Support custom block rendering

Summary: In tree mode, we were ignoring the custom block components passed via the block renderer function.

Differential Revision: D9954387

fbshipit-source-id: 9165b015c1ddcdd9cfbce94a09e7f2e60c68bce9"
claudiopro,2018-09-15 16:01:24,https://api.github.com/repos/facebook/draft-js/git/commits/d9c9d407d7648f0790e4bc788fd69e69548c3877,d9c9d407d7648f0790e4bc788fd69e69548c3877,"Updates favicons and launcher icons with Draftjs logo (#1872)

Summary:
**Summary**

Updates icons and launcher icons to use the Draftjs logo on a maroon backdrop instead of the ""D"" letter.

**Test Plan**

* `yarn build && cd website && yarn start`
* Verify the favicon is the new icon with the Draftjs logo

<img width=""170"" alt=""screen shot 2018-09-15 at 2 06 40 pm"" src=""https://user-images.githubusercontent.com/860099/45586618-1e9cf780-b8f2-11e8-8b7a-ebc20af5e5c4.png"">

_**Note**: apparently, Docusaurus doesn't seem to use the apple and android launcher icons on this config. I'll try and look into that on a separate PR (will add support into Docusaurus itself if needed)_
Pull Request resolved: https://github.com/facebook/draft-js/pull/1872

Differential Revision: D9846099

fbshipit-source-id: 347ae57270eebaeedadd324af9ca78a74421713c"
niveditc,2018-09-14 23:45:07,https://api.github.com/repos/facebook/draft-js/git/commits/fbd18ceadd76607cf9119302db692948368fbb41,fbd18ceadd76607cf9119302db692948368fbb41,"Merge successive non-leaf blocks resulting from tab

Summary:
When you tab a block & both its neighbors are non-leaves, we should merge the two blocks.

https://pxl.cl/ht30

This is case 6 below, which I had postponed back in D9631917:
{F137497472}

Reviewed By: vdurmont

Differential Revision: D9836483

fbshipit-source-id: 2c74a772e5c1d0b2751db10e760632ac75e77273"
niveditc,2018-09-14 23:45:03,https://api.github.com/repos/facebook/draft-js/git/commits/36e588ae3ef8580ce46718ec1089da2ee8a3ef6d,36e588ae3ef8580ce46718ec1089da2ee8a3ef6d,"Merge successive non-leaf blocks resulting from untab

Summary:
When untab results in two consecutive non-leaf blocks of the same type, it causes various bugs & issues on certain further operations.

- Implement an operation to merge two consecutive blocks in the block map by adding all the children of the next block to the given (previous) block & removing the next block.
- Use this operation during untab for the case where children were moved up & there are two consecutive non-leaf blocks (see before & after videos in test plan)

Merge operation:
https://pxl.cl/hsS9

Untab resulting in merge:
https://pxl.cl/hsSg

(these two examples are implemented as tests )

Reviewed By: vdurmont

Differential Revision: D9834729

fbshipit-source-id: 5352763266e3b5fbb030b329015298bd669a4a4f"
niveditc,2018-09-14 23:44:54,https://api.github.com/repos/facebook/draft-js/git/commits/0cb38042435a81b3740c5beb418635e50ae0a3ce,0cb38042435a81b3740c5beb418635e50ae0a3ce,"Unnest the first non-leaf child

Summary:
We don't want to leave behind doubly nested children if their preceding block is untabbed. Here we iterate to make sure that the next block is never left with a non-leaf first child.

Diagram of this operation, also implemented in the test below:
https://pxl.cl/hs20

Reviewed By: vdurmont

Differential Revision: D9826012

fbshipit-source-id: 1c14c5091ce89ddee3e80b2a7e9eef9d4759c320"
niveditc,2018-09-14 23:44:46,https://api.github.com/repos/facebook/draft-js/git/commits/77e684480012fc51933b6d307fddb285304697e3,77e684480012fc51933b6d307fddb285304697e3,"Implement untab operations

Summary:
This diff implements the `unTab` operation for nested lists.

It covers the following four cases (refer to the diagrams below for a better explanation):
1. Block is not nested => do nothing
2. Block is first child => move as previous sibling of parent
3. Block is last child => move as next sibling of parent
4. Block is neither the first nor the last child => split the block at the child, keep previous children on original parent, move block as next sibling of parent & add the new block with the next children as its next sibling.

1 - 3 =>
{F138170258}

4 =>
{F138170261}

**TODO:**
Still figuring out the correct paradigm for dealing with the block's children when the first nested block is un-nested & will add behaviors + test cases for that in the next diff.

Reviewed By: vdurmont

Differential Revision: D9757713

fbshipit-source-id: 01796b003acbfcfcc6fa8d5f6f4576d4f2a13ec6"
ValentinH,2018-09-14 22:47:58,https://api.github.com/repos/facebook/draft-js/git/commits/8bb9c6c3364ea9d4d2417e352c0ae5137abcb44a,8bb9c6c3364ea9d4d2417e352c0ae5137abcb44a,"Fix small typo (#1865)

Summary:
Anroid => Android
Pull Request resolved: https://github.com/facebook/draft-js/pull/1865

Differential Revision: D9838116

fbshipit-source-id: ef1e24d53cec41de652f0cc535560167added964"
saranshkataria,2018-09-14 09:44:50,https://api.github.com/repos/facebook/draft-js/git/commits/b9dd551e3bfabec0c44d917e569bed9bf7892944,b9dd551e3bfabec0c44d917e569bed9bf7892944,"added favicon (#1871)

Summary:
Fixed #1857 by adding a favicon. The color scheme of the icon needs to be thought about though since it is not visible when the tab is active because of the white color.

On chrome:
![image](https://user-images.githubusercontent.com/1450819/45538271-39089f80-b824-11e8-8553-5902b11a53bb.png)

Looks okay when the tab is inactive, but when it is active, the logo is not visible:
![image](https://user-images.githubusercontent.com/1450819/45538295-4b82d900-b824-11e8-9b27-339dc2c797d3.png)
Pull Request resolved: https://github.com/facebook/draft-js/pull/1871

Differential Revision: D9829164

fbshipit-source-id: 99c7f4d805b7da2713c3596992b39c125b63b221"
yangshun,2018-09-13 06:43:28,https://api.github.com/repos/facebook/draft-js/git/commits/1bf214529d5fef75002757aa1320d8fa6866fe0e,1bf214529d5fef75002757aa1320d8fa6866fe0e,"Add Algolia search (#1864)

Summary:
**Summary**

Add Algolia search as per #1775.

**Test Plan**

<img width=""1552"" alt=""screen shot 2018-09-12 at 10 07 59 am"" src=""https://user-images.githubusercontent.com/1315101/45397732-fa33e780-b673-11e8-8264-5044e82fbe61.png"">

Clicking on the results brings me to the correct location in the docs. It's magic!
Pull Request resolved: https://github.com/facebook/draft-js/pull/1864

Reviewed By: niveditc

Differential Revision: D9784511

Pulled By: niveditc

fbshipit-source-id: 4e1b0b35af85ab349d79a83315f2010bc32c7f7f"
yangshun,2018-09-12 23:13:06,https://api.github.com/repos/facebook/draft-js/git/commits/724fdc66cb54049fa1036e2fcfd4af291901c4ef,724fdc66cb54049fa1036e2fcfd4af291901c4ef,"Support npm version 6.x (#1866)

Summary:
**Summary**

Now `nvm install 8` ends up installing npm 6.4.1 but our `package.json` doesn't support that npm version. This PR includes 6.x in the versions we support.

More context: https://github.com/facebook/draft-js/pull/1864#issuecomment-420574680

**Test Plan**

CI tests.
Pull Request resolved: https://github.com/facebook/draft-js/pull/1866

Reviewed By: niveditc

Differential Revision: D9789746

Pulled By: niveditc

fbshipit-source-id: 8bdf8573c84d66bdce8281c4b2660df953399583"
niveditc,2018-09-11 02:26:20,https://api.github.com/repos/facebook/draft-js/git/commits/0a45fcdf5ebfbb011711643690e06e2b67040928,0a45fcdf5ebfbb011711643690e06e2b67040928,"Remove unused var in BlockTree (#1859)

Summary:
**Summary**

This variable is unused & caused a lint warning.

**Test Plan**
Old (with warning):
```
> npm run lint

> draft-js@0.10.5 lint /Users/niveditc/draft-js
> eslint .

/Users/niveditc/draft-js/src/model/immutable/BlockTree.js
  30:7  warning  'FINGERPRINT_DELIMITER' is assigned a value but never used. Allowed unused vars must match /^_/  no-unused-vars

‚úñ 1 problem (0 errors, 1 warning)
```

New:
```
> npm run lint

> draft-js@0.10.5 lint /Users/niveditc/draft-js
> eslint .
```
Pull Request resolved: https://github.com/facebook/draft-js/pull/1859

Differential Revision: D9762873

fbshipit-source-id: 42dab26c26164d08cda8fb2875a8fa4d6d3d9f1a"
niveditc,2018-09-11 02:15:22,https://api.github.com/repos/facebook/draft-js/git/commits/b9629747f600cb61ff15c3efe4253d8f89a72f0e,b9629747f600cb61ff15c3efe4253d8f89a72f0e,"Update jest version to latest (#1858)

Summary:
**Summary**
Follow-up to #1724. Ran `yarn add jest@latest` to update to the latest Jest version.

**Test Plan**
```
npm run test
yarn run test
```
Pull Request resolved: https://github.com/facebook/draft-js/pull/1858

Differential Revision: D9762740

fbshipit-source-id: 28a0bf01d103f835240d29fbb980dd586386de5f"
niveditc,2018-09-11 00:20:17,https://api.github.com/repos/facebook/draft-js/git/commits/b8ea2283b0fc2a15284e884eab1d374e4ad570e4,b8ea2283b0fc2a15284e884eab1d374e4ad570e4,"Add meeting notes from 9/7 (#1862)

Summary:
Meeting notes from first meeting with new maintainers.
Pull Request resolved: https://github.com/facebook/draft-js/pull/1862

Differential Revision: D9758649

fbshipit-source-id: 6b2dda9b90e2f8598bfbeac39bd1d097fe0a4ecb"
haikyuu,2018-09-10 13:26:04,https://api.github.com/repos/facebook/draft-js/git/commits/d40ff40cec807253246da6cf5dc2736219581b94,d40ff40cec807253246da6cf5dc2736219581b94,"Update Advanced-Topics-Entities.md (#1767)

Summary:
Add a line of code in the example to set the editor state after adding the entity.

For a newcomer, it's not straightforward because it wasn't mentioned anywhere in the docs prior to arriving here. Of course, you'll figure it out once you check the example. But let's save newcomers a roundtrip

**Summary**

Update the docs
Pull Request resolved: https://github.com/facebook/draft-js/pull/1767

Differential Revision: D9749305

fbshipit-source-id: 88af5ee30690fa41cc72280a6bad153a17324c33"
afhole,2018-09-08 22:11:24,https://api.github.com/repos/facebook/draft-js/git/commits/9f0d115d27da8c164dc3592f671c432145ff8de7,9f0d115d27da8c164dc3592f671c432145ff8de7,"Minor fix in entities docs (#1534)

Summary:
Minor documentation edit
Pull Request resolved: https://github.com/facebook/draft-js/pull/1534

Differential Revision: D9735000

fbshipit-source-id: 85a920ce14db84c4c5ba8b39f84f5b8a4d2fef1f"
williamboman,2018-09-08 22:09:48,https://api.github.com/repos/facebook/draft-js/git/commits/98e7730bfc3873170ad22fbaa24d257c837724e0,98e7730bfc3873170ad22fbaa24d257c837724e0,"KeyBindingUtil: add usesMacOSHeuristics method (#869)

Summary:
**Summary**

Add a public method, `usesMacOSHeuristics`, to the `KeyBindingUtil` module. This makes it possible to determine how draft-js will interpret certain keyboard events and thus alter the UI accordingly, e.g.;

<img width=""499"" alt=""screenshot 2016-12-13 at 17 58 33"" src=""https://cloud.githubusercontent.com/assets/6705160/21150013/dee64566-c15d-11e6-9639-75a39d21d079.png"">

I currently achieve this by doing (üôà);

```js
const COMMAND_MODIFIER_CHAR = (navigator && navigator.userAgent.indexOf('Mac') >= 0)
    ? '\u2318' // Mac command key character
    : 'Ctrl'
```
Pull Request resolved: https://github.com/facebook/draft-js/pull/869

Differential Revision: D9734962

fbshipit-source-id: ed3f3d0a87df51c708fd666fe85bc6acba1ecfee"
cedricmessiant,2018-09-08 20:22:03,https://api.github.com/repos/facebook/draft-js/git/commits/c6ff39d2a05589103e5f95a37f84bfc356592a35,c6ff39d2a05589103e5f95a37f84bfc356592a35,"Export RawDraftContentState publicly (#1841)

Summary:
**Summary**

When I used v0.10.1 I was able to import `RawDraftContentState`. Since I upgraded to version 0.10.5 I can't.

Example of line that does not work anymore:

`import { RawDraftContentState } from 'draft-js';`
Pull Request resolved: https://github.com/facebook/draft-js/pull/1841

Differential Revision: D9734731

fbshipit-source-id: e972a67b05b4cfc9e6e9cffe185fd0ca395ce327"
mattgreenfield,2018-09-08 19:57:31,https://api.github.com/repos/facebook/draft-js/git/commits/a18b6fe67129eac23146bddc853c9cf63c775cec,a18b6fe67129eac23146bddc853c9cf63c775cec,"Fixes incorrect docs, see #1497 (#1837)

Summary:
**Summary**

Updates the docs to fix #1497. The current suggested method results in an `Element type is invalid:` error.

I can confirm that using the component itself rather than its name as a string works as expected.

Credit goes to albertlockett
Pull Request resolved: https://github.com/facebook/draft-js/pull/1837

Differential Revision: D9734736

fbshipit-source-id: 91aee43c504a3d5eda1bc74548f806faae4bc35d"
niveditc,2018-09-06 20:22:36,https://api.github.com/repos/facebook/draft-js/git/commits/e145a2aa4f129a4db997b35954d6b97e0d84f34a,e145a2aa4f129a4db997b35954d6b97e0d84f34a,"Implement moveChildUp operation for untab

Summary:
Implements a `moveChildUp` method to help with untab (`onTab` with shift key) in `NestedRichTextEditorUtil`.

This will move the first/last child up as the previous / next sibling of its parent.

These are the operations that are implemented (and they work as the test cases):

{F137866518}

Differential Revision: D9672458

fbshipit-source-id: f2ba306ae56d243071232f04bef2746c4a060dfb"
niveditc,2018-09-06 17:14:17,https://api.github.com/repos/facebook/draft-js/git/commits/8c373b633f2ada0c611c8188e7d62606874ca743,8c373b633f2ada0c611c8188e7d62606874ca743,"Update link to code of conduct (#1855)

Summary:
**Summary**

Link to code of conduct was broken, fixed to reference https://code.fb.com/codeofconduct/

**Test Plan**
-
Pull Request resolved: https://github.com/facebook/draft-js/pull/1855

Differential Revision: D9684100

fbshipit-source-id: 7f1067605ba6afb1e0ee583007375b0d5335c313"
niveditc,2018-09-06 16:58:51,https://api.github.com/repos/facebook/draft-js/git/commits/022798c34c138f8e5c025d28fdf0797776d61555,022798c34c138f8e5c025d28fdf0797776d61555,"var => const on remaining file

Summary: Saw this flagged in Quality Analyser tool. Also added flow to the file.

Reviewed By: vdurmont

Differential Revision: D9674403

fbshipit-source-id: 1705cb7271b0eeda397d79a7b5f853f28fe94de1"
niveditc,2018-09-05 22:37:40,https://api.github.com/repos/facebook/draft-js/git/commits/6b833128a256c2812bd30dafd3ae88d144550294,6b833128a256c2812bd30dafd3ae88d144550294,"Allow insertion at a specific point for updateParentChild

Summary:
We need more flexibility for this method, so that the untab method can correctly add a child to the middle of the children array.

* insert at position 0 (first child)
* insert at len(children) position (last child)
* insert somewhere in the middle

Reviewed By: flarnie

Differential Revision: D9653244

fbshipit-source-id: 7d2bc44a9116d512838c8bbd5fe89a5ae20d5de7"
claudiopro,2018-09-05 13:47:24,https://api.github.com/repos/facebook/draft-js/git/commits/4a5ad079042ba87e4b29e9a77abf5270f6f5e090,4a5ad079042ba87e4b29e9a77abf5270f6f5e090,"Fixes warning for missing keys in example color controls (#1853)

Summary:
**Summary**

Fixes a warning in the color examples for missing keys for elements in an array for the style controls.

```
react.development.js:336 Warning: Each child in an array or iterator should have a unique ""key"" prop.

Check the render method of `ColorControls`. See https://fb.me/react-warning-keys for more information.
    in StyleButton (created by ColorControls)
    in ColorControls (created by ColorfulEditorExample)
    in div (created by ColorfulEditorExample)
    in ColorfulEditorExample
```

**Test Plan**

Manual tests on Chrome, warnings are gone

**Note:** This PR also fixes the [Travis CI build failure](https://travis-ci.org/facebook/draft-js/jobs/424170309) introduced with e6c693c
Pull Request resolved: https://github.com/facebook/draft-js/pull/1853

Differential Revision: D9654616

fbshipit-source-id: 1e4e9a4ef2eb896306404acc31623076e107b91c"
niveditc,2018-09-04 19:37:03,https://api.github.com/repos/facebook/draft-js/git/commits/8d3cfbab58f59f47141894aaad5ec01e119f0e07,8d3cfbab58f59f47141894aaad5ec01e119f0e07,"Implement onTab in NestedRichTextEditorUtil

Summary:
Implement `onTab` for `NestedRichTextEditorUtil`
* Cases 1-5 in the image below
* Decided to postpone case 6 since its not essential for the implementation
* Note that case 1 & 3 are logically equivalent, and the `createNewParent` method implemented in D9624285 handles both.

{F137497472}

Reviewed By: mitermayer

Differential Revision: D9631917

fbshipit-source-id: 9f4298488d8c2a8f172cd82423c30c16d773a8ab"
niveditc,2018-09-04 19:36:48,https://api.github.com/repos/facebook/draft-js/git/commits/6f736573a2cb1c414cf3cdcfdbde38657a5d4151,6f736573a2cb1c414cf3cdcfdbde38657a5d4151,"Add utilty methods for creating a new parent & updating node to become sibling's child

Summary:
Implement some tree operations that will be used in the `NestedRichTextEditorUtil onTab` method.

Specifically:
- Creating a new parent for a node
- Updating the node so that it is a child of its previous or next sibling

The `onTab` use case is sketched out in the diagram below. The red stars represent the `createNewParent` operation & the red squares represent the `updateAsSiblingsChild` operation.

{F137497472}

(also added a new utility method `replaceParentChild` that switches one child for another & is used in createNewParent)

Reviewed By: mitermayer

Differential Revision: D9624285

fbshipit-source-id: f5701373ce1734cb8f21aca154ed45d656a47c54"
niveditc,2018-09-04 17:21:58,https://api.github.com/repos/facebook/draft-js/git/commits/e2c24cf8c5ef0d752bca962b5859810b02a4568b,e2c24cf8c5ef0d752bca962b5859810b02a4568b,"Update prettier version to 1.13.6 (#1854)

Summary:
**Summary**

Updating to 1.13.6 which is the version used internally in Facebook's codebase, so that there are no conflicts in how prettier dictates formatting. Right now, we're seeing an issue where 1.13.6 dictates different formatting for nested ternary operators & this broke the Travis CI in https://github.com/facebook/draft-js/compare/0cb80b775ecd...fbc8a0cbfce6#diff-4e6b8232e09a07f699eebad1949b3ba3L118

Looks like the earlier breakage due to prettier version upgrade reported in https://github.com/facebook/draft-js/issues/1562 is now not an issue with a much higher version :)

**Test Plan**
Before fix (breakage in Travis at https://travis-ci.org/facebook/draft-js/jobs/424170309):
```
$ eslint .
/home/travis/build/facebook/draft-js/src/model/immutable/BlockTree.js
  30:7  warning  'FINGERPRINT_DELIMITER' is assigned a value but never used. Allowed unused vars must match /^_/  no-unused-vars
/home/travis/build/facebook/draft-js/src/model/transaction/moveBlockInContentState.js
  119:33  error  Replace `‚èé¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑?¬∑targetBlockIndex¬∑-¬∑1‚èé¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑` with `¬∑?¬∑targetBlockIndex¬∑-¬∑1`  prettier/prettier
‚úñ 2 problems (1 error, 1 warning)
  1 error, 0 warnings potentially fixable with the `--fix` option.
```

After fix:
```
> yarn run lint
Using globally installed version of Yarn
yarn run v1.5.1
$ eslint .

/Users/niveditc/draft-js/src/model/immutable/BlockTree.js
  30:7  warning  'FINGERPRINT_DELIMITER' is assigned a value but never used. Allowed unused vars must match /^_/  no-unused-vars

‚úñ 1 problem (0 errors, 1 warning)

‚ú®  Done in 8.50s.
```
(will be fixing the warning separately, that's been ongoing for a while).
Pull Request resolved: https://github.com/facebook/draft-js/pull/1854

Reviewed By: elboman

Differential Revision: D9636114

Pulled By: elboman

fbshipit-source-id: 037c692554976b4626e27d3ebc0ccf95922bfb38"
niveditc,2018-09-04 04:46:07,https://api.github.com/repos/facebook/draft-js/git/commits/fbc8a0cbfce6eba0fcd67f3682a2894c8d048662,fbc8a0cbfce6eba0fcd67f3682a2894c8d048662,"Change oncall to draft_js

Summary:
Changing the oncall from `ui_infra` to `draft_js` & add the `emails` annotation to the remaining files.

Also testing a Butterfly rule that adds the current Draft.js oncall as reviewer & the `draft_js` project as subscribers.

Reviewed By: mitermayer

Differential Revision: D9631825

fbshipit-source-id: b2756950eea62223f3ff9ada54435fccad1a168c"
niveditc,2018-09-04 04:45:48,https://api.github.com/repos/facebook/draft-js/git/commits/e6c693c9acaea29070127ebb9c72a3feb7b8335f,e6c693c9acaea29070127ebb9c72a3feb7b8335f,"Fix Lint errors for type imports

Summary: Lint flagged some errors on D9631825, so fixing them in a separate diff.

Reviewed By: mitermayer

Differential Revision: D9631877

fbshipit-source-id: edfc074fb4e7e8e15642f8722cdce2054eec5924"
niveditc,2018-08-31 21:50:04,https://api.github.com/repos/facebook/draft-js/git/commits/0cb80b775ecd44fce34ed7b41c03ecd501cd4061,0cb80b775ecd44fce34ed7b41c03ecd501cd4061,"Add utility methods for parent-child & sibling pointer updates

Summary:
When the tree is updated, we need to make sure that we correctly mirror the parent-child & prevSibling-nextSibling links. The utility methods in this diff help make these pointer updates more resilient.

This diff introduces methods to add:
- a child to a parent (either as the first or last child)
- a prev <-> next sibling relationship

These functions will only respect the local invariants on the nodes being updated, and can leave the rest of the tree in an inconsistent state that requires a few more updates (see the test file for examples of this).

In the next diff, I'll be codifying some common paradigms (such as creating a new parent node & adding an existing node as  its child) which will use the methods implemented in this diff to simplify the logic. The paradigm-based operations will preserve the tree invariant after the operation.

Differential Revision: D9601093

fbshipit-source-id: 3152ffc24a49e7a591958aada3333f331aaef9dd"
gkz,2018-08-31 07:12:54,https://api.github.com/repos/facebook/draft-js/git/commits/c5b785a47dbfc2d41a1c9e604b8af4a273ea6707,c5b785a47dbfc2d41a1c9e604b8af4a273ea6707,"Remove Flow Strict Local from files with future sketchy-null errors after bug fix

Reviewed By: wcheng86

Differential Revision: D9565308

fbshipit-source-id: 60eec8efa5c6beaab56a816e35e98b0d83d0e656"
niveditc,2018-08-30 21:38:36,https://api.github.com/repos/facebook/draft-js/git/commits/f5b2acbff7c395b28f3773f5e0e3497d744f9fb5,f5b2acbff7c395b28f3773f5e0e3497d744f9fb5,"Remove non-leaf blocks in tree => raw conversion

Summary:
The raw => tree data conversion creates new parent blocks because nodes with content on them (leaf nodes) aren't allowed to have children. When we convert to back to raw mode, we need to get rid of these extra non-leaf nodes, otherwise they get rendered.

Also fixed the test cases to respect the tree invariants.

Reviewed By: mitermayer

Differential Revision: D9567760

fbshipit-source-id: 6b53fba057dedeabad63a2492748fc1958b71a96"
yangshun,2018-08-29 20:14:35,https://api.github.com/repos/facebook/draft-js/git/commits/d6a0ac02f90e66bf2d23d81265bd2814a522d029,d6a0ac02f90e66bf2d23d81265bd2814a522d029,"Update Docusaurus to 1.3.3 (#1797)

Summary:
Docusaurus 1.3.0 brings about some [backwards-incompatible CSS changes](https://github.com/facebook/Docusaurus/blob/master/CHANGELOG.md#breaking-changes). So the team is helping the major users update üòÑ

The header font weights in Docusuaurs have been changed to bold, so I removed the custom styling that made it bold. Additionally, I made `<a>` have a different color because the primary color in Draft.js is black and users can't easily distinguish it from body text - bad for accessibility.

cc JoelMarcey endiliey

Ran the site locally and visited every page.

<img width=""1552"" alt=""screen shot 2018-06-24 at 8 38 28 pm"" src=""https://user-images.githubusercontent.com/1315101/41829262-96daa336-77ee-11e8-881a-629297843d34.png"">

<img width=""1552"" alt=""screen shot 2018-06-24 at 8 38 32 pm"" src=""https://user-images.githubusercontent.com/1315101/41829265-9adbee4a-77ee-11e8-89e7-0e95a9d58026.png"">
Pull Request resolved: https://github.com/facebook/draft-js/pull/1797

Reviewed By: flarnie

Differential Revision: D9560933

Pulled By: flarnie

fbshipit-source-id: 4e3938cda818f6d6623ab301b4d8612e80b2f973"
niveditc,2018-08-29 17:38:20,https://api.github.com/repos/facebook/draft-js/git/commits/3306ddfe63b1227b514db16c9d24ed772d98c166,3306ddfe63b1227b514db16c9d24ed772d98c166,"Fix Travis breakage caused due to unimported idx module

Summary:
**Summary**
I broke the CI build by using `idx` in the `DraftTreeAdapter` file, which is a FB-internal module not available on this project

Reviewed By: jjs0

Differential Revision: D9557731

Pulled By: jjs0

fbshipit-source-id: 1edaee3ac51525afb276a29462ffd29518b18c29"
niveditc,2018-08-28 21:00:34,https://api.github.com/repos/facebook/draft-js/git/commits/39be4887fd2d769937e8047d2eb1356f6a7c8338,39be4887fd2d769937e8047d2eb1356f6a7c8338,"Fix DraftTreeAdapter to respect the tree invariants

Summary:
`DraftTreeAdapter` is called to convert list-data style Content Blocks into a valid Tree Data structure.

* The Tree Data structure has an invariant that only leaf nodes (i.e. nodes with no children) can have text in them. To respect this invariant, we need to create a new parent block at each level of a nested list. By implementing this, we fix a bug with the rendering of nested lists.
* Also adds the tree invariant check in DEV mode in `convertFromRawToDraftState` (which calls the tree adapter) to flag if this structure breaks again due to any updates.
* Re-record snapshot for `DraftTreeAdapter-test.js` and `convertFromRawToDraftState-test.js`

Reviewed By: mitermayer

Differential Revision: D9524985

fbshipit-source-id: f5828dfb5f12cb4e34c8511456a79457c1a09808"
sophiebits,2018-08-24 19:09:14,https://api.github.com/repos/facebook/draft-js/git/commits/c0fb6a8299508c304c216a322a86f8d73baaa7a4,c0fb6a8299508c304c216a322a86f8d73baaa7a4,"Warn visibly when extensions break Draft

Summary: Content to be finalized, but I think this suffices for an employee test.

Reviewed By: flarnie

Differential Revision: D9492642

fbshipit-source-id: bf8cbcc1d590ab27643d2b4b9d3cf4171d3409a1"
lockround,2018-08-20 18:15:50,https://api.github.com/repos/facebook/draft-js/git/commits/9f86efb499fa1bb174daf1113a1294832200c6ec,9f86efb499fa1bb174daf1113a1294832200c6ec,"modify docs overview url (#1802)

Summary:
Summary

I fixed the broken link in the README.

Test Plan

I tested the change by clicking on the link to make sure that it works now.
Pull Request resolved: https://github.com/facebook/draft-js/pull/1802

Reviewed By: flarnie

Differential Revision: D9347916

Pulled By: flarnie

fbshipit-source-id: a38dd7ec8d6baa73d694eabf4b7362cab8ca8d23"
panagosg7,2018-08-19 04:27:33,https://api.github.com/repos/facebook/draft-js/git/commits/93a90a9f885d179213df8f151c52a787fca82c7e,93a90a9f885d179213df8f151c52a787fca82c7e,"v0.79.1 in www

Reviewed By: gabelevi

Differential Revision: D9390004

fbshipit-source-id: f1bff3f8db0c964b1712c1af9e142e86735d0cb7"
steveluscher,2018-08-16 23:04:44,https://api.github.com/repos/facebook/draft-js/git/commits/a6c9ffd90207ddaff535538dcccd953b06bbcf2b,a6c9ffd90207ddaff535538dcccd953b06bbcf2b,"Inline call to `gkx` to combat fatal in `ContentState`

Summary:
ngavalas has a theory that timing is causing this to fatal ‚Äì the GK map might not have been primed yet by the time the `gkx` check is made in the //module body//.

The solution herein is to inline the check. The hope is that the GK map will always be primed by the time you go to check the GK.

Reviewed By: ngavalas

Differential Revision: D9316479

fbshipit-source-id: 49bb592328e76ffbe6c2d85a3db55a12e0f9dd80"
catchingash,2018-08-16 21:20:31,https://api.github.com/repos/facebook/draft-js/git/commits/9130859f6ba1868918ede9da63274ef9c05ff676,9130859f6ba1868918ede9da63274ef9c05ff676,"Handle ReactDOM type errors

Summary:
When re-enabling ReactDOM Flow typing, we discovered Flow errors.

This commit suppresses the errors.

The controller you requested could not be found.
The controller you requested could not be found.

Reviewed By: flarnie

Differential Revision: D9224137

fbshipit-source-id: e5cbc4887d3296ae9a71523da3bb37de5f16ac4d"
sophiebits,2018-08-14 17:52:43,https://api.github.com/repos/facebook/draft-js/git/commits/1a5b27ac26a5a66f1a2964fe1fa0c4e65e7b820a,1a5b27ac26a5a66f1a2964fe1fa0c4e65e7b820a,"Remove gating on draft_non_native_insertion_forces_selection

Summary: No bugs reported.

Reviewed By: stopachka

Differential Revision: D9273799

fbshipit-source-id: ee714cbf0d76baca6f121939082138b53118f106"
niveditc,2018-08-13 20:40:52,https://api.github.com/repos/facebook/draft-js/git/commits/05208a8bbe6b3832594e933d62659394d5a8687d,05208a8bbe6b3832594e933d62659394d5a8687d,"Fix tree invariants test (#1836)

Summary:
**Summary**

Disables auto-mocks on the tree data invariants test, thus fixing the Travis CI build.

**Test Plan**

```
npm test
```
Pull Request resolved: https://github.com/facebook/draft-js/pull/1836

Reviewed By: agoder

Differential Revision: D9301796

Pulled By: agoder

fbshipit-source-id: 879207e40da993eb4070d352ebc9535d7d23ad4e"
flarnie,2018-08-09 19:12:54,https://api.github.com/repos/facebook/draft-js/git/commits/06005490641b9025790d823539a59b16383e685f,06005490641b9025790d823539a59b16383e685f,"5/n Disable forward delete across blocks when nested blocks are enabled

Summary:
We are disabling forward delete across blocks for now because it is rarely used
compared to backspace. We expect that people may not even notice, but if/when
they do then part of the roll-out for nested blocks will be to implement this
feature.

For more details about our ideal implementation of the forward-delete behavior
across nested blocks, see https://fb.quip.com/tybJAJoCmiRL

Reviewed By: mitermayer

Differential Revision: D9186965

fbshipit-source-id: a2abb17dd8a77949616d7e057da2476c534f2a77"
niveditc,2018-08-09 00:22:16,https://api.github.com/repos/facebook/draft-js/git/commits/ad4f64f3774bffdd356c61bc575982a7744f8822,ad4f64f3774bffdd356c61bc575982a7744f8822,"Add data structure invariants for tree data

Summary:
1. Only leaf nodes have text.
2. Leaf nodes cannot have children.
3. Parent and child relationships should be mirrored.
4. Sibling relationship (``prevSibling`` & ``nextSibling``) should be mirrored.
5. All children of a parent must have sibling relationships.
6. The first node has no prev sibling.
7. The last node has no next sibling.
8. The data structure is a tree - fully connected & acyclic on the ``parent -> child`` and ``nextSibling`` edges.

We do these checks as:
* Go through each node in the block map and check that it is a valid node with respect to its properties and pointers to and from other nodes
* Find the first (unique) node of the tree and check that the tree is connected

Reviewed By: mitermayer

Differential Revision: D9193098

fbshipit-source-id: 0dd6177e3cb8d15c9ee76ce48fa14d191f3ec93c"
sophiebits,2018-08-08 01:58:32,https://api.github.com/repos/facebook/draft-js/git/commits/ae25b8ff22461d6bf545b0529b99ed744e43f19a,ae25b8ff22461d6bf545b0529b99ed744e43f19a,"Fix unlucky failures in character replacement

Summary:
Fixes https://github.com/facebook/draft-js/issues/1830 (bug introduced in https://github.com/facebook/draft-js/pull/719; this is a proper fix for https://github.com/facebook/draft-js/issues/398).

* When we're allowing native insertion, we don't want to modify the selection because doing so blocks browser features like spellcheck from working
* In all other cases when typing, we *do* want to force the selection ‚Äì failing to do this is why the original issue occurred
* We use the `insert-characters` change type for both native and non-native insertions
* Instead of guessing in `EditorState.push` whether to force a selection, accept it as a parameter
* Gate all changes by `draft_non_native_insertion_forces_selection`

I verified with the feature flag disabled (same behavior as before):

* Typing over a character works, and the cursor moves as expected (because of the `chars === currentlySelectedChars` check)
* With editor contents ""ABC\ndef"", replacing ""d"", ""e"", or ""f"" with the character above *fails* to replace the char (because that check is buggy).

And with the feature flag enabled (new behavior):

* Typing over a character still works (but does so without the buggy check)
* With editor contents ""ABC\ndef"", replacing ""d"", ""e"", or ""f"" with the character above *succeeds* at replacing the char.

Reviewed By: flarnie

Differential Revision: D9209691

fbshipit-source-id: f63551dbad689391aa9c2a69f1d6ba395b8bf1ac"
flarnie,2018-08-07 16:09:10,https://api.github.com/repos/facebook/draft-js/git/commits/2d7ad181d60b97a87e2f6fff6557ae31c02a8749,2d7ad181d60b97a87e2f6fff6557ae31c02a8749,"Regression test for bug with nested block and deleting

Summary: This is a regression test for https://our.intern.facebook.com/intern/diff/D9129494/

Reviewed By: niveditc, mitermayer

Differential Revision: D9150680

fbshipit-source-id: 6f94a2f5699577fe9abdba16c3af62c5ed0e606d"
mitermayer,2018-08-06 21:42:05,https://api.github.com/repos/facebook/draft-js/git/commits/e98e91e39bb0162eab2a2e2ab123e1b5b4a03151,e98e91e39bb0162eab2a2e2ab123e1b5b4a03151,"3/n Splitting PR #1828: updates to the Rich Text Editor example (#1828)

Summary:
Splitting up this PR and updating it as I do.

This piece was an update to the Rich Text Editor example.

This is directly taken from mitermayer 's fork, props to him
Pull Request resolved: https://github.com/facebook/draft-js/pull/1828

Reviewed By: mitermayer

Differential Revision: D9181983

Pulled By: mitermayer

fbshipit-source-id: aa2b66cb87123f96c3cd9cde19eb0fa86ff47c51"
mitermayer,2018-08-06 21:41:08,https://api.github.com/repos/facebook/draft-js/git/commits/a399e43ba31f9b0c40a0301804b42d687764e552,a399e43ba31f9b0c40a0301804b42d687764e552,"2/n splitting PR #1828: updating removeRangeFromContentState (#1828)

Summary:
Splitting this PR into smaller pieces and updating them.

This chunk just makes some improvements/fixes to the removeRangeFromContentState
logic that handles nested blocks.

This is directly taken from mitermayer 's fork, props to him
Pull Request resolved: https://github.com/facebook/draft-js/pull/1828

Reviewed By: mitermayer

Differential Revision: D9181963

Pulled By: mitermayer

fbshipit-source-id: 98abba5ed76ed00207aafc59afe940dd2eeb3d00"
mitermayer,2018-08-06 21:14:51,https://api.github.com/repos/facebook/draft-js/git/commits/328ddc63525956e55027abb1a6a81d56e8fa5fae,328ddc63525956e55027abb1a6a81d56e8fa5fae,"1/n splitting PR #1828: Initial forking of RichTextEditorUtil (#1828)

Summary:
We are splitting up and updating pieces of this PR by Mitermayer.

This chunk forks the RichTextEditorUtil and puts them both under the same Flow
interface, also adding a test. The forked NestedRichTextEditorUtil is a WIP
version of this utility.

This is directly taken from mitermayer 's fork, props to him
Pull Request resolved: https://github.com/facebook/draft-js/pull/1828

Reviewed By: mitermayer

Differential Revision: D9181952

Pulled By: mitermayer

fbshipit-source-id: 75f08fdb228ae1b45f97ae29aeae2f3d5ea53650"
niveditc,2018-08-06 16:33:17,https://api.github.com/repos/facebook/draft-js/git/commits/cf48f776429989a19e20874364ae3058f1067fab,cf48f776429989a19e20874364ae3058f1067fab,"Tree Data - Fix for backspace at the start of a nested block

Summary:
On backspace (with collapsed selection) at the beginning of the first child (C) of a parent node (P), we want the behavior to be:
* The parent node P is deleted.
* All the children (siblings of C) become siblings of P's previous sibling.

Pair programmed with flarnie :)

Reviewed By: mitermayer

Differential Revision: D9129672

fbshipit-source-id: af577be995a4c1029352cd83dd71357f8f045ff8"
niveditc,2018-08-06 16:32:52,https://api.github.com/repos/facebook/draft-js/git/commits/f3d349069d0d3d5a3e254e4cb520159c1f0d063e,f3d349069d0d3d5a3e254e4cb520159c1f0d063e,"Tree Data - Don't update pointers if range is within the same block

Summary:
Fixes a bug where we were trying to fix/update block pointers even when nothing changed across blocks.

Pair programmed with @[22701560:flarnie] :)

Reviewed By: mitermayer

Differential Revision: D9129494

fbshipit-source-id: 5b935371d30bdaa87849313ccd2c3c0f5be9facd"
flarnie,2018-08-01 17:05:17,https://api.github.com/repos/facebook/draft-js/git/commits/99eca6bacccb9d768202cb5188d820e6975ba1a3,99eca6bacccb9d768202cb5188d820e6975ba1a3,"Warn if 'moveSelectionForward/Backward' called with non-collapsed selection

Summary:
Noticed that these helper methods are designed with the assumption they will
only be passed a collapsed selection, but I don't see anything enforcing that
requirement in the code. Since we will be tweaking these helpers and refactoring
things, want to make the code more sturdy and enforce this constraint.

Starting with a 'warning' in case something relies on broken behavior here, but
as a follow-up we should make this an invariant.

Reviewed By: vdurmont, mitermayer

Differential Revision: D9034617

fbshipit-source-id: 378390c308d1ab2657bea7a5cc9cae060e515658"
gaearon,2018-07-17 11:05:12,https://api.github.com/repos/facebook/draft-js/git/commits/37dadd35d76768ae8109297afad6d498cfa3bd60,37dadd35d76768ae8109297afad6d498cfa3bd60,"Fix Draft input cursor jumping to the end

Summary:
This is a missing bit from our setting/unsetting of the 'blockSelectEvents'
flag. I'll add more context when I get home, exiting shuttle soon.

Reviewed By: sophiebits, makakoa

Differential Revision: D8871413

fbshipit-source-id: b03bff193b5cb918085a9f83f0f980709db6b490"
aaronabramov,2018-07-09 21:08:15,https://api.github.com/repos/facebook/draft-js/git/commits/7f9299d02e7441d303d07cfbd4ee3e806c349c65,7f9299d02e7441d303d07cfbd4ee3e806c349c65,"codemod jasmine -> jest in html/shared

Summary: replace `spyOn` with `jest.spyOn`

Reviewed By: captbaritone

Differential Revision: D8211248

fbshipit-source-id: 7f23ae117c5cc8176bc4ff9f064ea65b03ffb62c"
zpao,2018-07-06 01:16:25,https://api.github.com/repos/facebook/draft-js/git/commits/47ae65af45a2f620a8b91c7980cab2a256ca55be,47ae65af45a2f620a8b91c7980cab2a256ca55be,"Remove logo from background circle (#1800)

Summary:
Per some discussions offline, the website logo wasn't supposed to have
the circle. This make the logo a transparent SVG with just the white
logo filling the viewbox.
Closes https://github.com/facebook/draft-js/pull/1800

Reviewed By: flarnie

Differential Revision: D8656873

Pulled By: flarnie

fbshipit-source-id: 9389f6bec1721ab6cb1fc9f65b7438836431553d"
niveditc,2018-06-11 18:47:28,https://api.github.com/repos/facebook/draft-js/git/commits/0f58b641b2319a6941cec0fddc64c04d1f92c60c,0f58b641b2319a6941cec0fddc64c04d1f92c60c,"var => const on test files

Summary: I missed these in D7803975 :)

Reviewed By: mitermayer

Differential Revision: D8346232

fbshipit-source-id: 5f27156608ee031c729e5ea1ffe6110bbcb6659b"
miorel,2018-06-07 09:39:33,https://api.github.com/repos/facebook/draft-js/git/commits/bf1a028aa55504832861c96f4c3eaaf25349aa07,bf1a028aa55504832861c96f4c3eaaf25349aa07,"Auto-fix `prefer-const` ESLint rule (3/n)

Reviewed By: dalongi

Differential Revision: D8277895

fbshipit-source-id: 91941b3761b583580afa889510d7d150cf3bcd61"
miorel,2018-06-04 07:26:35,https://api.github.com/repos/facebook/draft-js/git/commits/eea70f40fa93111085bba6ba4e473fd4f0a3d5bd,eea70f40fa93111085bba6ba4e473fd4f0a3d5bd,"Auto-fix all auto-fixable eqeqeq problems

Reviewed By: zpao

Differential Revision: D8248952

fbshipit-source-id: dad12657addf2a39d9e23b46f7995f58078afd09"
JoelMarcey,2018-05-24 18:21:04,https://api.github.com/repos/facebook/draft-js/git/commits/0ce20bcc6ac18b24b06945d54f1a4a692eee8cc9,0ce20bcc6ac18b24b06945d54f1a4a692eee8cc9,"Add Draft.js logo to header

Summary:
**Summary**

Added the Draft.js logo to the header.

Also turn on on page navigation for docs - some of the headers will need to be
changed in some of the docs to get it all to work correctly.

**Test Plan**

Ran site locally
Closes https://github.com/facebook/draft-js/pull/1768

Reviewed By: NoamELB

Differential Revision: D8148268

Pulled By: NoamELB

fbshipit-source-id: 2731fb31d87116f01de24e2953dcf3bcee0493c6"
NoamELB,2018-05-24 07:54:55,https://api.github.com/repos/facebook/draft-js/git/commits/72ad814b90c701bca732bd3d38975afbb4ea938b,72ad814b90c701bca732bd3d38975afbb4ea938b,"Fixing Docusaurus migration issues

Summary:
**Summary**

Fixes #1765

Includes:
1. Upgrading Docusaurus to 1.1.0, which fix the sticky footer issue.
2. Using production assets (for react, react-dom, immutable, babel-core) instead of development ones.
3. Supporting small screens with css.

More details in the issue.

**Test Plan**

Live site with the fixes: https://noamelb.github.io/draft-js

* Wide desktop:
![screencapture-noamelb-github-io-draft-js-2018-05-21-22_50_02](https://user-images.githubusercontent.com/7422547/40327618-45d38ba4-5d4c-11e8-908a-0f04a30a4d2c.png)

* Mobile:
![screencapture-noamelb-github-io-draft-js-2018-05-21-22_58_13](https://user-images.githubusercontent.com/7422547/40328208-4635f60c-5d4e-11e8-8838-5e2ee125e2a6.png)

* Mobile Docs:
![screencapture-noamelb-github-io-draft-js-docs-getting-started-html-2018-05-21-23_09_18](https://user-images.githubusercontent.com/7422547/40328215-49b5034a-5d4e-11e8-8166-152dfa161dcf.png)
Closes https://github.com/facebook/draft-js/pull/1771

Reviewed By: yangshun

Differential Revision: D8095846

Pulled By: yangshun

fbshipit-source-id: a07720785d787a6455c2704b2f4413b0572af321"
gkz,2018-05-24 06:54:18,https://api.github.com/repos/facebook/draft-js/git/commits/dc9fa27ced7403b441ab2c4196a9b0a528a58d71,dc9fa27ced7403b441ab2c4196a9b0a528a58d71,"Enable deprecated-type rule in www

Summary:
Enable the rule and remove `flow strict-local` files with violations. (In a previous diff, we dealt with all `flow strict` files with violations).

In subsequent diffs will enable in other `.flowconfig`s

bypass-lint

Reviewed By: wcheng86

Differential Revision: D8124247

fbshipit-source-id: 188da38c1e94c2f006f1b967f7b31a7453fca54e"
NoamELB,2018-05-16 17:13:03,https://api.github.com/repos/facebook/draft-js/git/commits/710919b6b8c7eda0ff642bd345a106c5b2f084fc,710919b6b8c7eda0ff642bd345a106c5b2f084fc,"Migrate to Docusaurus - Attempt #2

Summary:
This PR continues https://github.com/facebook/draft-js/pull/1607 (by aadsm) to update the website to https://github.com/facebook/docusaurus.

Changes from the original PR:
* Removing the `./setup.sh` line in .travis.yml (since the file was removed).
* Upgrading to the latest Docusaurus and React.
* Adding Google Analytics to Docusaurus config.
* Adding cname to Docusaurus config.
* Wiring the correct footer links.

Live Example: https://noamelb.github.io/draft-js/

Thanks flarnie & yangshun for all the help ‚ò∫Ô∏è

![screencapture-localhost-3000-2018-05-10-23_18_05](https://user-images.githubusercontent.com/7422547/39892600-d14dc6be-54a9-11e8-953e-51be1cf48637.png)
![screencapture-localhost-3000-docs-getting-started-html-2018-05-10-23_18_26](https://user-images.githubusercontent.com/7422547/39892604-d3d9bdac-54a9-11e8-8306-e878775c1f79.png)
<img width=""1055"" alt=""ga"" src=""https://user-images.githubusercontent.com/7422547/39892610-d6dc2c7e-54a9-11e8-8f58-9d256d2247ee.png"">

Co-authored-by: Ant√≥nio Afonso <aadsm@users.noreply.github.com>
Closes https://github.com/facebook/draft-js/pull/1759

Reviewed By: flarnie

Differential Revision: D8026140

Pulled By: flarnie

fbshipit-source-id: 975fcde309a8ab24af90c5363acf1b601dfdcde7"
sophiebits,2018-05-14 23:48:42,https://api.github.com/repos/facebook/draft-js/git/commits/b2f6ed0274a441aeb90b631d4897765a9a37df2f,b2f6ed0274a441aeb90b631d4897765a9a37df2f,"Remove old decorator fingerprint logic

Reviewed By: mitermayer

Differential Revision: D7977136

fbshipit-source-id: e6389c58d668b8c403020bfa3f740c4f777add75"
miorel,2018-05-11 18:01:09,https://api.github.com/repos/facebook/draft-js/git/commits/37989027063ccc8279bfdc99a813b857549512a6,37989027063ccc8279bfdc99a813b857549512a6,"Use strict-local in as many files as possible

Summary: I looked for files that had zero ""baddies"" (i.e. any, Function, Object), tried making them strict, reverted if there were errors.

Reviewed By: gabelevi

Differential Revision: D7957942

fbshipit-source-id: 22664d1add5e0a69e1f14342602abdbeef1dfc40"
flarnie,2018-05-10 22:59:16,https://api.github.com/repos/facebook/draft-js/git/commits/0ecf9a63632db5612679dfc5934bf07e4c8cd8ae,0ecf9a63632db5612679dfc5934bf07e4c8cd8ae,"Pass eventTimeStamp to 'handleKeyPress' to allow tracking

Summary:
For purposes of logging, so that we can get the exact timestamp from the event
object for this event.

Reviewed By: dwwoelfel

Differential Revision: D7955262

fbshipit-source-id: b905088a28abc0b1c18ce55cf7d1651674e3fa64"
flarnie,2018-05-10 20:50:47,https://api.github.com/repos/facebook/draft-js/git/commits/b86b5ce9bf35712abeac2a98341bdf097824c9af,b86b5ce9bf35712abeac2a98341bdf097824c9af,"Pass synthetic event to 'handleBeforeInput' callback

Summary:
For purposes of logging, so that we can get the exact timestamp from the event
object for this event.

Reviewed By: bvaughn

Differential Revision: D7954113

fbshipit-source-id: 94e90385cd47bf0fe045d91fb8fb5167a1fffc05"
sophiebits,2018-05-10 02:22:53,https://api.github.com/repos/facebook/draft-js/git/commits/fa88ee18cf9f0fd17bb29c47cc009a4cdf8c8c46,fa88ee18cf9f0fd17bb29c47cc009a4cdf8c8c46,"Fix block tree before/after comparison

Summary:
In some cases, we need to prevent native insertion because native insertion would leave the decorators in the wrong place (and critically ‚Äì editOnInput's attempt to patch things up would just make things worse and process the insertion twice). This new logic should be correct.

Previously, typing '#' before 'f' in 'x #foo' would result in 'x ###foo' (extra '#' inserted).

Reviewed By: mitermayer

Differential Revision: D7941738

fbshipit-source-id: eeff55ff082fc80c19f76fe1ea915bcbf0e7d86e"
miorel,2018-05-08 19:49:50,https://api.github.com/repos/facebook/draft-js/git/commits/a1f4593d8fa949954053e5d5840d33ce1d1082c6,a1f4593d8fa949954053e5d5840d33ce1d1082c6,"React.Element<any> / React.Element<*> -> React.Node as much as possible

Summary:
Most of the time when people annotate something with `React.Element<any>` or `React.Element<*>` they don't really care about it really being a React element, and would be just as happy with `React.Node`. The exceptions I encountered when writing this diff were:

1) places where people do `React.cloneElement` -- in that case we of course need an element
2) components that want some of the props or children to be a certain component type -- but in those cases we ought to specify the type of element rather than accepting `any` or `*`

As such, it's reasonable to replace `React.Element<any>` and `React.Element<*>` if doing so does not cause any Flow errors, and this should put a noticeable dent in our usage of unsafe Flow types.

Reviewed By: camspiers, stryju

Differential Revision: D7810983

fbshipit-source-id: d28f645a63cdfbae74370817e36c5bf590f543d6"
NoamELB,2018-05-02 17:23:46,https://api.github.com/repos/facebook/draft-js/git/commits/d2a3ae82baeb9f14c6f8a882a5c93f87afec84dc,d2a3ae82baeb9f14c6f8a882a5c93f87afec84dc,"Add different counter-style for ordered lists based on their depth

Summary:
Draft.js have only 1 type of counter-style for ordered lists - the numeric.
Current Draft.js:
https://pxl.cl/d7zZ

Quip have a 3 different counter-styles, based on the depth:
https://pxl.cl/d7x6

This can be added by implementing the second argument to the counter function:
 content: counter(ol1) "". "";
to:
  content: counter(ol1,lower-alpha) "". "";

For more info: https://css-tricks.com/numbering-in-style/
Browser support is excellent: https://developer.mozilla.org/en-US/docs/Web/CSS/list-style-type#Browser_compatibility (for Basic support)

Reviewed By: flarnie

Differential Revision: D7840010

fbshipit-source-id: 6655566baafd9c03468c1b1b7c83bdb5ecf1ada6"
NoamELB,2018-05-02 17:21:13,https://api.github.com/repos/facebook/draft-js/git/commits/06c0ee60f2b603b2872350069551d7f59173e73a,06c0ee60f2b603b2872350069551d7f59173e73a,"Finish modernizing convertFromHTMLToContentBlocks - max nesting bug fix

Summary:
The old convertFromHTMLToContentBlocks is capping depth to 4, v2 doesn't cap the depth.
DraftEditorContents-core component didn't handle cases of depth bigger then 4.
Similar to the current UI behavior, depth bigger then 4 will be shown as the same depth of 4.

Reviewed By: flarnie

Differential Revision: D7816688

fbshipit-source-id: 8989f0c5fb03bfcffc1e50575e35986d2491c3c2"
NoamELB,2018-05-02 17:07:50,https://api.github.com/repos/facebook/draft-js/git/commits/d24b80217beb76d4fa37e45835415a5ca7cb5a6f,d24b80217beb76d4fa37e45835415a5ca7cb5a6f,"Finish modernizing convertFromHTMLToContentBlocks - upgrade draft-js internals

Summary: Upgrade example and Draft.js entry file to use convertFromHTMLToContentBlocks v2 with a GK

Reviewed By: flarnie

Differential Revision: D7823689

fbshipit-source-id: ae55b232e3b40c9cd00445d7e1ca626783a4a34a"
NoamELB,2018-04-30 17:54:58,https://api.github.com/repos/facebook/draft-js/git/commits/49bdd85b80de5d8b132e5d4dd94db970c2ba46d2,49bdd85b80de5d8b132e5d4dd94db970c2ba46d2,"Finish modernizing convertFromHTMLToContentBlocks - nesting bug fix

Summary:
Adding nesting depth to ul/ol nodes.
Changed default depth to -1 (similar to the logic in convertFromHTMLToContentBlocks v1), so the first level of list will be 0 and not 1.

Reviewed By: flarnie

Differential Revision: D7796997

fbshipit-source-id: 47e7f12bc21263eb8480b96b9e9a04e8eb9c934f"
niveditc,2018-04-29 01:17:07,https://api.github.com/repos/facebook/draft-js/git/commits/8de2db9e9e99dea7f4db69f3d8e542df7e60cdda,8de2db9e9e99dea7f4db69f3d8e542df7e60cdda,"Change remaining vars to let/const

Summary: `var` was triggering my OCD while reading these files, so went through and fixed all remaining ones in Draft.js, also added Prettier to a couple of files that raised lint errors.

Reviewed By: flarnie

Differential Revision: D7803975

fbshipit-source-id: 2642f3801c096ef5e8a3952d7b13c672f68b15b6"
rubennorte,2018-04-27 16:22:21,https://api.github.com/repos/facebook/draft-js/git/commits/3e9ff8ebd33f8a447e00cde3485b09c294710fd1,3e9ff8ebd33f8a447e00cde3485b09c294710fd1,"Fixed license, Flow and lint issues in draft-js

Summary: Apply the proper license and fix Flow and lint.

Reviewed By: mjesun

Differential Revision: D7790038

fbshipit-source-id: b3dd8b582c1311c926e92122fb17766e616b4100"
rubennorte,2018-04-27 14:16:16,https://api.github.com/repos/facebook/draft-js/git/commits/ee2e9c828cf33270597965cf8f91cddaaf432935,ee2e9c828cf33270597965cf8f91cddaaf432935,"Removed @providesModule tags and dependencies from draft-js

Summary: Removed providesModule from all files and configured Jest to work with global module names without the providesModule tag.

Reviewed By: mjesun

Differential Revision: D7788813

fbshipit-source-id: 89a7f3dfc10fae63c74711eab80a2c840806fb67"
flarnie,2018-04-26 18:26:34,https://api.github.com/repos/facebook/draft-js/git/commits/7fddfcdf8f78c4a239651d3e76e0c21bdbe72b90,7fddfcdf8f78c4a239651d3e76e0c21bdbe72b90,"Add docs about DraftDecoratorComponentProps

Summary: Just so we don't forget, since this new type is really useful and should be documented.

Reviewed By: catchingash

Differential Revision: D7774659

fbshipit-source-id: fe912787035d20d801eae74bf662209955b51d3d"
flarnie,2018-04-26 14:46:36,https://api.github.com/repos/facebook/draft-js/git/commits/7e1a107c57e6d23742d2c7814fb4d731ee57c4a6,7e1a107c57e6d23742d2c7814fb4d731ee57c4a6,"Actually for real fix the flow type of decorator props

Summary:
The 'entityKey' could always have been null/undefined, and it's time that the
flow type reflects that. Our code should handle the case, though unexpected,
when it could be undefined.

A previous diff[1] was submitted but somehow the changes were not all commited.
This finishes the job, updating decorator components in our product code and the
type definition in Draft.js.

[1]: https://our.intern.facebook.com/intern/diff/D7659273/

Reviewed By: sophiebits

Differential Revision: D7710224

fbshipit-source-id: 7c673a565f79e45bced91db5b406974f9813327d"
catchingash,2018-04-17 16:06:36,https://api.github.com/repos/facebook/draft-js/git/commits/05b2b4c83c39163697dccf7a3fa28fe04eb8e008,05b2b4c83c39163697dccf7a3fa28fe04eb8e008,"Add @providesModule back to draft-js modules

Summary: While working on T28259397, I removed the providesModule labels that were causing linting errors on my diff. However, that breaks Draft-js Travis builds: https://travis-ci.org/facebook/draft-js/jobs/367227905

Reviewed By: flarnie

Differential Revision: D7639720

fbshipit-source-id: 6a5b35ceeef0aa37317770ba141a9d42c7aac9e3"
catchingash,2018-04-16 15:42:33,https://api.github.com/repos/facebook/draft-js/git/commits/8000486ed6890d1f69100379d954a62ac8a4eb08,8000486ed6890d1f69100379d954a62ac8a4eb08,"Add common Flow type for decorator components

Summary:
While working on T27852583, I came across some files missing flow and format, and had some difficultly because of T28161651 (we don't have docs about what props are passed to decorator components) and we don't have Flow typing.

In most situations, `DraftEditorBlock` supplies the props to the decorator components: https://github.com/facebook/draft-js/blob/master/src/component/contents/DraftEditorBlock.react.js#L201-L213

Note: It is possible for a Custom Block Component to be provided: https://draftjs.org/docs/advanced-topics-block-components.html#content

If we have a common Flow type declaring what props are expected, then we can ensure consistency if/when these props change.

Reviewed By: flarnie

Differential Revision: D7603743

fbshipit-source-id: a7f6ef71d9ae9864fa1d6893c168b585cd71674f"
rubennorte,2018-04-06 17:29:28,https://api.github.com/repos/facebook/draft-js/git/commits/4c4465f6c05b6dbb9eb769f98e659f917bbdc0f6,4c4465f6c05b6dbb9eb769f98e659f917bbdc0f6,"Add @providesModule back to draft-js modules

Summary: Added providesModule back to draft-js modules to unbreak the build.

Reviewed By: arcanis

Differential Revision: D7535532

fbshipit-source-id: 2d87637b97c99c40856c022bbdb3f18cd42bdf59"
rubennorte,2018-04-06 16:09:15,https://api.github.com/repos/facebook/draft-js/git/commits/293f262c4780f4ff3ec23a51d69b15fa56437b57,293f262c4780f4ff3ec23a51d69b15fa56437b57,"Removed providesModule tag from non-generated files in html/shared directories (1/1)

Summary: Codemod to remove all providesModule tags from non-generated files

Differential Revision: D7457949

fbshipit-source-id: 9185f61c8ec1decc65ee7e40370584b6734246d4"
flarnie,2018-03-27 17:42:38,https://api.github.com/repos/facebook/draft-js/git/commits/e9540910e0e0168e5fdb3ce5b9e42168b301bd91,e9540910e0e0168e5fdb3ce5b9e42168b301bd91,"2/n Remove last vestiges of cWU

Summary: We have been testing this change for the last few weeks, now time to remove the flag.

Reviewed By: bvaughn

Differential Revision: D7415031

fbshipit-source-id: 2c8d57d6645873a90a278a2f3fe838cf913b0a25"
flarnie,2018-03-27 17:41:52,https://api.github.com/repos/facebook/draft-js/git/commits/0f6199df041bc25ac0bd55db2c10dd557789129c,0f6199df041bc25ac0bd55db2c10dd557789129c,"1/n Move 'blockSelect' flag out of cWU

Summary: We have been slowly rolling out this change, and no significant new bugs have coincided with the roll-out. Let's remove the flag, so 100% of folks get this change. :)

Reviewed By: bvaughn

Differential Revision: D7415022

fbshipit-source-id: 831905c8caec5f34c54134d761644accbff03951"
etrepum,2018-03-26 17:04:45,https://api.github.com/repos/facebook/draft-js/git/commits/1d7750044099b18ba5e64b011befbb0a5a0689e0,1d7750044099b18ba5e64b011befbb0a5a0689e0,"Workaround for BlockNode variance issue caused by flow transform (#1621)

Summary:
**Summary**

This should fix #1621 (it does in our project).

This manually transforms the BlockNode interface to use properties like the build step will do, but it adds covariant property annotations to match the expectation that classes have read-only methods. A better solution would be to fix the transform itself to do the right thing with interface methods, but this should be equivalent and is easier (for me) to do.

**Test Plan**

Confirm that the output lib/BlockNode.js.flow includes the covariant property annotations (`+`) before each of the properties that were previously methods. The automated test infrastructure only runs over src so it's harder to verify in travis as-is.
Closes https://github.com/facebook/draft-js/pull/1683

Differential Revision: D7399839

fbshipit-source-id: 16fb390789f2ab7cff3781d854c6d9af900de906"
mitermayer,2018-03-22 02:01:36,https://api.github.com/repos/facebook/draft-js/git/commits/6eec8f978767103006b3ba9b6bf94649c017d8b1,6eec8f978767103006b3ba9b6bf94649c017d8b1,"Revert ""rename-unsafe-lifecycles""

Summary:
This reverts commit 8b3e8c95f197453c8806175a59403c607c4f498d.

cc bvaughn flarnie
Closes https://github.com/facebook/draft-js/pull/1705

Differential Revision: D7361922

fbshipit-source-id: c1d1acd884996c4ac1f50c13c0001815dc057088"
samwgoldman,2018-03-16 05:55:39,https://api.github.com/repos/facebook/draft-js/git/commits/a99f51eb33dc7c529f21b87d6cc7394b073f9388,a99f51eb33dc7c529f21b87d6cc7394b073f9388,"Upgrade to Flow v0.68.0

Summary:
bypass-lint
ignore-signed-source

Reviewed By: nmote

Differential Revision: D7295893

fbshipit-source-id: 73879269f64034140bcfcec869385256dc7b78d5"
miorel,2018-03-14 03:12:44,https://api.github.com/repos/facebook/draft-js/git/commits/22f9c522d3cab1aab2ea3df863c04f144d394e99,22f9c522d3cab1aab2ea3df863c04f144d394e99,"Strict-ify files that can be strict-ified with no additional changes

Summary: Diff auto-generated using Perl.

Reviewed By: Daniel15

Differential Revision: D7146936

fbshipit-source-id: c39ed21447ecf8df1862536633adcdd861ebe885"
mitermayer,2018-03-13 21:07:24,https://api.github.com/repos/facebook/draft-js/git/commits/b6ae8873bb89858f553405cfd9c592976c9bb542,b6ae8873bb89858f553405cfd9c592976c9bb542,"Integrating experiments on playground

Summary:
Integrating experiments on playground

- Allowing playground to load experiments
Closes https://github.com/facebook/draft-js/pull/1687

Differential Revision: D7259337

fbshipit-source-id: 2200c55d31f4fc8a52c2ecb72b26365cc70034f6"
flarnie,2018-03-12 21:04:22,https://api.github.com/repos/facebook/draft-js/git/commits/28cb4a3c79e45cedfab140aab147002598bf9de2,28cb4a3c79e45cedfab140aab147002598bf9de2,"Add clarifying comments to 'getRemovalRange'

Summary:
I found some of this code confusing and added comments. Will probably
add more comments while looking at this part of the code.

For now pushing this before I lose track of things. Not in any hurry to merge it.
Closes https://github.com/facebook/draft-js/pull/1103

Reviewed By: mitermayer

Differential Revision: D7137918

Pulled By: mitermayer

fbshipit-source-id: 350786c4817e122efbce146f6e6ccc26ed12ae0f"
bvaughn,2018-03-12 20:01:27,https://api.github.com/repos/facebook/draft-js/git/commits/8b3e8c95f197453c8806175a59403c607c4f498d,8b3e8c95f197453c8806175a59403c607c4f498d,"rename-unsafe-lifecycles

Summary:
Ran the [rename-unsafe-lifecycles](https://github.com/reactjs/react-codemod/blob/master/transforms/rename-unsafe-lifecycles.js) codemod. For background information on this codemod see [RFC #6](https://github.com/reactjs/rfcs/blob/master/text/0006-static-lifecycle-methods.md) and this [draft ReactJS.org blog post](https://deploy-preview-596--reactjs.netlify.com/blog/2018/03/15/update-on-async-rendering.html).

bypass-lint
drop-conflicts
allow_many_files

Reviewed By: flarnie

Differential Revision: D7220433

fbshipit-source-id: b0d7572865c002a2be9347dfe1ef7de15d76e800"
purezen,2018-03-09 17:42:49,https://api.github.com/repos/facebook/draft-js/git/commits/6ef6c667656e140ca32a6f80057aa2b69b86620b,6ef6c667656e140ca32a6f80057aa2b69b86620b,"Fix typo

Summary:
*Before* submitting a pull request, please make sure the following is done...

1. Fork the repo and create your branch from `master`.
2. If you've added code that should be tested, add tests!
3. If you've changed APIs, update the documentation.
4. Ensure that:
  * The test suite passes (`npm test`)
  * Your code lints (`npm run lint`) and passes Flow (`npm run flow`)
  * You have followed the [testing guidelines](https://github.com/facebook/draft-js/wiki/Testing-for-Pull-Requests)
5. If you haven't already, complete the [CLA](https://code.facebook.com/cla).

Please use the simple form below as a guideline for describing your pull request.

Thanks for contributing to Draft.js!

-

**Summary**

[...]

**Test Plan**

[...]
Closes https://github.com/facebook/draft-js/pull/1678

Differential Revision: D7214596

fbshipit-source-id: 3224ed09c2d8992d41ac199a6e2f1320462df59a"
mitermayer,2018-03-07 02:39:41,https://api.github.com/repos/facebook/draft-js/git/commits/227d125cb19d5fd7a8a583a0624eb0835992f2d7,227d125cb19d5fd7a8a583a0624eb0835992f2d7,"Adding Rich Editor to the playground

Summary:
This PR brings Rich editor to the playground

- Integrated Rich Editor on the playground
- Adding some basic styling

![draft-playground](https://user-images.githubusercontent.com/1042131/37007830-28ccc696-2094-11e8-8ee8-23ba18f333c5.png)
Closes https://github.com/facebook/draft-js/pull/1680

Differential Revision: D7174440

fbshipit-source-id: 5e0a76200c5499f45602b6b70157ad2f74b34950"
ericbiewener,2018-03-06 23:07:43,https://api.github.com/repos/facebook/draft-js/git/commits/73e5a9c3b57116a5a01d26016964ad3ba8fe0e66,73e5a9c3b57116a5a01d26016964ad3ba8fe0e66,"Allow indentation beyond one level deeper than block above.

Summary:
**Summary**

Solves https://github.com/facebook/draft-js/issues/270. Removes restriction on indenting beyond one level deeper than the block above. Also allows indenting the very first item in a list. And all I had to do was delete code!

![image](https://cloud.githubusercontent.com/assets/253298/19991316/8dfb376e-a1f1-11e6-8e93-b8b49c30010b.png)

**Test Plan**

1. Try indenting the first item in a list.
2. Try indenting a list item more than one level deeper than the item above it.
Closes https://github.com/facebook/draft-js/pull/762

Differential Revision: D7137964

fbshipit-source-id: 597732b363537e34a0f466c3188f334b3fa30a9e"
mitermayer,2018-03-05 19:48:17,https://api.github.com/repos/facebook/draft-js/git/commits/8eea2c281bf14984700158c553ffdda81513c73f,8eea2c281bf14984700158c553ffdda81513c73f,"Enabling a GK manager for the plaground

Summary:
This enables on the playground for us to pass `gk_enable=foo,bar,foobar` or `gk_disable=foo,bar,foobar`, on the URI,

Example:

```
http://localhost:3000/?gk_enable=foo&gk_disable=bar,foobar
```

***

TLDR:

- Updating our Gkx stub to treat undefined gks on the stub object as falsy
- This will allow us to update GK flags while interacting with the playground.
Closes https://github.com/facebook/draft-js/pull/1677

Differential Revision: D7155154

fbshipit-source-id: 99836da46aafcf0cd30d4fe613633e897f59a079"
mitermayer,2018-03-02 20:12:30,https://api.github.com/repos/facebook/draft-js/git/commits/7495adf0579881058ebda23145df95a13846c1aa,7495adf0579881058ebda23145df95a13846c1aa,"Making gkx overwrittable

Summary:
**Context:**

We currently have feature flags within our code base that can only be end-to-end tested within our internal environment.

This PR enable us to overwrite feature flag outside our internal environment
Closes https://github.com/facebook/draft-js/pull/1673

Reviewed By: flarnie

Differential Revision: D7138095

Pulled By: flarnie

fbshipit-source-id: 1b9954cd5c2a16d7c9e4ab4cdb0efceb6e67517a"
marcelometal,2018-03-01 21:20:31,https://api.github.com/repos/facebook/draft-js/git/commits/04c667c941e9ba642108a44e91e460eabd3d981b,04c667c941e9ba642108a44e91e460eabd3d981b,"Website: Fixed code highlight

Summary:
Before:

![screenshot from 2018-02-24 20-40-31](https://user-images.githubusercontent.com/665903/36636318-3ddc33e8-19a3-11e8-85e6-a2743fdb3fae.png)

After:

![screenshot from 2018-02-24 20-40-42](https://user-images.githubusercontent.com/665903/36636320-3fd2d9c2-19a3-11e8-8b45-a54458f5761d.png)
Closes https://github.com/facebook/draft-js/pull/1664

Differential Revision: D7111376

fbshipit-source-id: cd325aed60fe94fc2ef1bc51627afc6b1932c878"
flarnie,2018-03-01 18:25:47,https://api.github.com/repos/facebook/draft-js/git/commits/e57126822b23446b6d491053cf01806852bdc7f2,e57126822b23446b6d491053cf01806852bdc7f2,"2/n Do update 'blockSelectEvents' flag, during render

Summary:
We found via logging that this flag actually is being used in some cases - so we need to keep setting it.
Seems like the closest we can get to the current timing is to set it in a child
component which mounts when a successful 'render' of the parent DraftEditor
finishes. This is an amazing hack that sophiebits thought of to deal with the
other flag we were setting in cWU.

logs -
https://our.intern.facebook.com/intern/scuba/query/?dataset=draft_js_events&pool=uber&view=Table&drillstate=%7B%22sampleCols%22%3A%5B%22time%22%2C%22weight%22%2C%22accountid%22%2C%22anonymized_dom%22%2C%22browser_full_version%22%2C%22browser_name%22%2C%22browser_os%22%2C%22event%22%2C%22extra_params%22%2C%22http_referrer%22%2C%22scribe_category_type%22%2C%22script_path%22%2C%22selection_state%22%2C%22userid%22%5D%2C%22derivedCols%22%3A%5B%5D%2C%22mappedCols%22%3A%5B%5D%2C%22enumCols%22%3A%5B%5D%2C%22return_remainder%22%3Afalse%2C%22should_pivot%22%3Afalse%2C%22is_timeseries%22%3Afalse%2C%22hideEmptyColumns%22%3Afalse%2C%22start%22%3A%22-1+week%22%2C%22samplingRatio%22%3A%221%22%2C%22compare%22%3A%22%22%2C%22hide_sample_cols%22%3Afalse%2C%22minBucketSamples%22%3A%22%22%2C%22dimensions%22%3A%5B%5D%2C%22cellOverlay%22%3A%22None%22%2C%22metric%22%3A%22avg%22%2C%22top%22%3A%22200%22%2C%22timezone%22%3A%22America%2FLos_Angeles%22%2C%22end%22%3A%22now%22%2C%22cols%22%3A%5B%22accountid%22%2C%22userid%22%5D%2C%22aggregateList%22%3A%5B%5D%2C%22param_dimensions%22%3A%5B%5D%2C%22modifiers%22%3A%5B%5D%2C%22order%22%3A%22weight%22%2C%22order_desc%22%3Atrue%2C%22filterMode%22%3A%22DEFAULT%22%2C%22constraints%22%3A%5B%5B%7B%22column%22%3A%22event%22%2C%22op%22%3A%22eq%22%2C%22value%22%3A%5B%22%5B%5C%22blocked_selection_event%5C%22%5D%22%5D%7D%5D%5D%2C%22c_constraints%22%3A%5B%5B%5D%5D%2C%22b_constraints%22%3A%5B%5B%5D%5D%7D
the code - https://github.com/facebook/draft-js/blob/a6317e60b06519d3c00a2c0621701f3da0837a88/src/component/handlers/edit/editOnSelect.js#L30-L40

Depends on D7116729

Reviewed By: sophiebits

Differential Revision: D7116762

fbshipit-source-id: d5707a52c684c8ceb84624848c4c0d139f6232b2"
flarnie,2018-03-01 18:25:28,https://api.github.com/repos/facebook/draft-js/git/commits/4241f43332b6a6ab0878c0c756c82747ab366c8b,4241f43332b6a6ab0878c0c756c82747ab366c8b,"1/n remove GK on flushSync

Summary:
This has been running in production for some time and causes no problems, in
sync or async. Let's remove the GK check and make it the default behavior where
supported.

Reviewed By: sophiebits

Differential Revision: D7116729

fbshipit-source-id: f590508ea50de9639d821e1f2c8556e20c8ac54f"
mitermayer,2018-02-28 01:04:00,https://api.github.com/repos/facebook/draft-js/git/commits/7eb2a50427b704bbd73b5e878d79eb42656f92ff,7eb2a50427b704bbd73b5e878d79eb42656f92ff,"Playground - Making sure blockMap should always visible by default

Summary:
Will be iterating a bit on the playground submitting a series of small PR's

- Making sure that blockMap node is always open on the preview pane since
it's most likely one of the first debugging things we will be looking out for
- running prettier on the app.js file
Closes https://github.com/facebook/draft-js/pull/1665

Differential Revision: D7094842

fbshipit-source-id: 8666a185399135a38d4bed315bfff290f718cdf7"
altano,2018-02-28 00:50:33,https://api.github.com/repos/facebook/draft-js/git/commits/5ffce3d5b8a48a115b303498a4c29dc6ed9a8884,5ffce3d5b8a48a115b303498a4c29dc6ed9a8884,"Bundle size stats

Summary:
By naming bundle size stats with the bundle name instead of the package version:
  - `yarn build` will produce stats for both the development bundle
    (Draft.js.json) and the production bundle (Draft.min.js.json) which we can
    track separately. The minified bundle is good for understanding what file
    size we will be advertising (albeit pre-gzip/brotli) while the development version
    is useful for seeing a 1:1 mapping between changes in code and bundle size.
  - The size stats will get overwritten everytime somebody builds and checks in,
    but that is desirable. Instead of keeping the entire history of the bundle
    size always checked-in (and possibly not in sync with the actual versions),
    git will keep track of the bundle size over time. Whenever we release, the
    size of the stats file for that release is whatever is in Draft.min.js.json
    at the time of release.

Here are the separate bundles (as visualized by
https://chrisbateman.github.io/webpack-visualizer/):

Development: https://files.terriblefish.com/chrome_2018-02-16_12-11-22.png
Production: https://files.terriblefish.com/chrome_2018-02-16_12-12-01.png

`yarn test`, `yarn run lint`, and `yarn run flow` all pass.
Closes https://github.com/facebook/draft-js/pull/1654

Reviewed By: flarnie

Differential Revision: D7073462

Pulled By: flarnie

fbshipit-source-id: 64cbad2dcaf93641ff932a63aaa47e59d86c9df7"
sophiebits,2018-02-27 17:22:51,https://api.github.com/repos/facebook/draft-js/git/commits/6a1e2b00d04879e132792e7209c3f0299fc4d075,6a1e2b00d04879e132792e7209c3f0299fc4d075,"Clear block type when pressing backspace

Summary:
This is closer to how most editors work.
Closes https://github.com/facebook/draft-js/pull/1659

Reviewed By: sophiebits

Differential Revision: D7073440

Pulled By: sophiebits

fbshipit-source-id: 3f6ab214282878dd7dccf7709fc261ffe350f485"
flarnie,2018-02-26 21:44:22,https://api.github.com/repos/facebook/draft-js/git/commits/1ef4044d5c0612fc9d81fbb8a7a40f7a8786b386,1ef4044d5c0612fc9d81fbb8a7a40f7a8786b386,"Update biweekly sync meeting notes from February 2018

Summary:
(Ôæâ‚óï„ÉÆ‚óï)Ôæâ*:ÔΩ•Ôæü‚úß

Maybe some day we will support mobile web.
Closes https://github.com/facebook/draft-js/pull/1663

Differential Revision: D7086767

fbshipit-source-id: 63b4a1c5bc0fa4f21fbd5aa850039db37587a270"
thibaudcolas,2018-02-26 19:00:01,https://api.github.com/repos/facebook/draft-js/git/commits/4de1345d5ea1a373e580d20e976e3875ac3c2f35,4de1345d5ea1a373e580d20e976e3875ac3c2f35,"Move uglifyjs-webpack-plugin to devDependencies

Summary:
**Summary**

This dependency got introduced in a separate commit (f8ca29d1a7fa5a8bb89cb9be9a66d12732a0bfa7) from the others in #1644. I imagine this is a mistake since it only provides dev-time tooling.

**Test Plan**

For development, we can try a fresh install of the project:

1. `rm -rf node_modules`
2. `yarn install`. This runs `npm run build` via the `prepublish` script, so if it works it's good to go.

I don't think dependencies and devDependencies are processed any differently in a development environment, so not sure this check is even necessary.

For the published package:

1. `mkdir test`
2. `npm init -y`
3. `npm install git+https://github.com/thibaudcolas/draft-js.git#patch-2`
4. `npm ls --depth=1`

The `npm ls` result should be:

```
‚îú‚îÄ‚î¨ draft-js@0.10.5 (git+https://github.com/thibaudcolas/draft-js.git#cb06920d0f3dea77692680dddba6ec475663c7b2)
‚îÇ ‚îú‚îÄ‚îÄ fbjs@0.8.16
‚îÇ ‚îú‚îÄ‚îÄ immutable@3.7.6
‚îÇ ‚îî‚îÄ‚îÄ object-assign@4.1.1
‚îú‚îÄ‚îÄ UNMET PEER DEPENDENCY react@^0.14.0 || ^15.0.0-rc || ^16.0.0-rc || ^16.0.0
‚îî‚îÄ‚îÄ UNMET PEER DEPENDENCY react-dom@^0.14.0 || ^15.0.0-rc || ^16.0.0-rc || ^16.0.0
```

Note `uglifyjs-webpack-plugin` is absent, whereas it would have been there with `npm install git+https://github.com/thibaudcolas/draft-js.git#master`.
Closes https://github.com/facebook/draft-js/pull/1653

Differential Revision: D7073476

fbshipit-source-id: f69e31c2ca252062d2d66080055fd08b88c5a275"
mitermayer,2018-02-26 18:09:04,https://api.github.com/repos/facebook/draft-js/git/commits/f4bc3a79007159af81c1088c36c6385a4bb07842,f4bc3a79007159af81c1088c36c6385a4bb07842,"Making a more sane .gitignore

Summary:
Cleaning up .gitignore \0/

Note: deliberately excluded the ignore for yarn.lock as it makes more sense to be able to see the differences from HEAD and allow us to potentially upgrade them if necessary
Closes https://github.com/facebook/draft-js/pull/1666

Reviewed By: flarnie

Differential Revision: D7085339

Pulled By: flarnie

fbshipit-source-id: 1699373d5b3d64aa3954b0ed7b21e8aa090e3268"
hibiken,2018-02-26 16:44:56,https://api.github.com/repos/facebook/draft-js/git/commits/67f3586143ee9a804ad950cb66c18feefe072986,67f3586143ee9a804ad950cb66c18feefe072986,"Examples cleanup

Summary:
**Cleanup Examples code**
I linted code in the  `/examples` folder with ESLint config that ships with `create-react-app` and I found a few warnings.

Changes made:
- Removed unused variables, imports
- Refactored switch statement to a simple if statement
- Removed unnecessary escape in Regex

Please let me know if you want me to squash commits or make changes üòÑ
Closes https://github.com/facebook/draft-js/pull/1649

Differential Revision: D7085257

fbshipit-source-id: 3292462da3926377537e840dc45ca206a41a8a1b"
existentialism,2018-02-23 20:06:16,https://api.github.com/repos/facebook/draft-js/git/commits/084bdb66473dc1bfbefe375cf6cd739742afbc42,084bdb66473dc1bfbefe375cf6cd739742afbc42,"Ensure selection collapses if user tries to replace with matching text

Summary:
**Summary**

This PR ensures that the selection is always collapsed for the cases where a user replaces the current selection with matching text.

I admittedly didn't really dig into the original issue when fixing the previous crash :)

**Test Plan**

Small repro:

1. Type in ""abc""
1. Select ""c"" from right-to-left
1. Type ""c""
1. Select ""c"" from left-to-right
1. Type ""c""

Thanks to JLarky for bringing this to my intention!
Closes https://github.com/facebook/draft-js/pull/1661

Differential Revision: D7055502

fbshipit-source-id: ee4cf80d292ee715e40c017e4c6bd18f806b0e24"
sophiebits,2018-02-16 23:49:55,https://api.github.com/repos/facebook/draft-js/git/commits/04c2b9c038cc4086f06bfb734d4cf8e88b4db5d2,04c2b9c038cc4086f06bfb734d4cf8e88b4db5d2,"Move _latestEditorState assignment back to commit phase

Summary: Follow-up to D6994261. I believe this is more correct even though it is kind of a hacky approach.

Reviewed By: flarnie

Differential Revision: D7014753

fbshipit-source-id: 6107352ddbe5a90fa3235aae513a3c5b17574c55"
thibaudcolas,2018-02-16 23:36:48,https://api.github.com/repos/facebook/draft-js/git/commits/584d8492c16ed3092d8d0e21e9efa4b9cc3109c5,584d8492c16ed3092d8d0e21e9efa4b9cc3109c5,"Remove Node 6 from engines list in package.json

Summary:
**Summary**

Fixes #1650.

Travis is using Node 8 since 247a632ab6420e7809a8f7cf7dd2b31b495bb4c7, and Prettier is already configured in a way that's not Node-6 compatible:

https://github.com/facebook/draft-js/blob/a6317e60b06519d3c00a2c0621701f3da0837a88/prettier.config.js#L3

Node 8 is the LTS release line since late october 2017 so I think it's fair to remove support for Node 6.

NB: I see `devEngines` also states support for npm 2 and 3. Node 8 ships with npm 5 by default, so I imagine those 2 versions could be removed as well. Edit: Ah actually I see draft-js is at least partially using yarn since #1568 / #1570.

**Test plan**

No tests. This is only removing support, it doesn't affect supported versions.
Closes https://github.com/facebook/draft-js/pull/1652

Differential Revision: D7013709

fbshipit-source-id: bdb7e105352be2e8f205c36f516b1e6c4cedb591"
baldwmic,2018-02-16 22:35:35,https://api.github.com/repos/facebook/draft-js/git/commits/6cc2d857082ec62ecf67bf6bf51cd176fec95548,6cc2d857082ec62ecf67bf6bf51cd176fec95548,"added favicon to website

Summary:
**Summary**

- flarnie kedromelon finishes up #965 by adding the favicon to the website
- thanks to kedromelon for the great favicon! üéâ

<img width=""681"" alt=""screen shot 2017-11-22 at 11 58 00"" src=""https://user-images.githubusercontent.com/10538297/33140139-1c883108-cf7d-11e7-9ee6-da097eb32e29.png"">

<img width=""660"" alt=""screen shot 2017-11-22 at 11 57 46"" src=""https://user-images.githubusercontent.com/10538297/33140149-25071ccc-cf7d-11e7-8c49-043645f9294c.png"">

**Test Plan**

- not applicable
Closes https://github.com/facebook/draft-js/pull/1526

Reviewed By: flarnie

Differential Revision: D6976891

Pulled By: flarnie

fbshipit-source-id: 73a544ee6860f203361089e741007b93e8ba651e"
flarnie,2018-02-16 19:47:59,https://api.github.com/repos/facebook/draft-js/git/commits/90a8f22557a331e7301662d01b0e868290e13c31,90a8f22557a331e7301662d01b0e868290e13c31,"Update 'latestEditorState' in render too

Summary:
**tldr;** Handlers can get called after cWU and before cDU, and they use the
cached 'latestEditorState'. For them to get the fresh version of the state,
we need to update 'latestEditorState' in 'render' because that happens before
the handlers get called.

**The whole story;**
We are trying to remove cWU from `DraftEditor.react.js`. One thing which
currently happens there is that `latestEditorState` gets set to the
nextProps.editorState, so whatever is passed in by the parent. For more context
on the initial attempt at changing this, see
https://our.intern.facebook.com/intern/diff/D6873303/

This change introduced one bug that manifested in various ways - see T26034821
and T26020049. I'll focus on T26020049, which broke
`<AdsBulkTokenizedTextInputWithFieldsSelector>`.

`<AdsBulkTok...FieldsSelection>` has a button for adding a new token, and when
you hit that button it passes `<DraftEditor>` an updated editorState as a prop.
This triggers render #1, and during that render we update the browser
selection, which triggers `focus` and `blur` events. These each trigger another
render of `<DraftEditor>`; renders #2 and #3. Here is how it looks on a
timeline:
```
render #1
+
|
| cWU -> latestEditorState = FRESH_STATE
|
| render -> this.props.editorState = FRESH_STATE
| +
| |
| +--> triggers 'focus' event, calling 'handleFocus' with latestEditorState
|                   +
|                   |
+>cDU fires         | the 'handleFocus' call schedules render #2
                    | with latestEditorState, which is FRESH_STATE
                    |
render #2  <--------+
+
|
| cWU -> latestEditorState = FRESH_STATE
|
| render -> this.props.editorState = FRESH_STATE
|
+>cDU fires
```
When we move the update of latestEditorState to cDM, things go awry like this;
```
render #1
+
|
| cWU -> Nothing ... latestEditorState = STALE_STATE :(
|
| render -> this.props.editorState = FRESH_STATE
| +
| |
| +--> triggers 'focus' event, calling 'handleFocus' with latestEditorState
|                                                +
|                                                |
+>cDU -> latestEditorState = FRESH_STATE         | the 'handleFocus' call schedules render #2
                                                 | with latestEditorState, which is STALE_STATE :(
                                                 |
render #2 <--------------------------------------+
+
|
| cWU -> nothing updates
|
| render -> this.props.editorState = STALE_STATE :(  because this was passed in above
|
+>cDU fires and resets latestEditorState = STALE_STATE :(
```

So we can fix things by updating latestEditorState inside the `render` method,
like so;
```
render #1
+
|
| cWU -> Nothing ... latestEditorState = STALE_STATE :(
|
| render -> this.props.editorState = FRESH_STATE
| +         *and* set latestEditorState = FRESH_STATE
  |
| |
| +--> triggers 'focus' event, calling 'handleFocus' with latestEditorState
|                                                +
|                                                |
+>cDU -> latestEditorState = FRESH_STATE         | the 'handleFocus' call schedules render #2
                                                 | with latestEditorState, which is FRESH_STATE
                                                 |
render #2 <--------------------------------------+
+
|
| cWU -> nothing updates
|
| render -> this.props.editorState = FRESH_STATE which was passed in above
|
+>cDU fires and resets latestEditorState = FRESH_STATE
```

One possible issue would be if `render` fired and then was never completed, in
async. mode, but since Draft is intended to always be run in sync. mode I'm not
worried about that.

Reviewed By: mitermayer

Differential Revision: D6994261

fbshipit-source-id: 80986b853a57f64aa5aafbe667b4d94171d5271c"
flarnie,2018-02-13 21:02:22,https://api.github.com/repos/facebook/draft-js/git/commits/a6317e60b06519d3c00a2c0621701f3da0837a88,a6317e60b06519d3c00a2c0621701f3da0837a88,"Widen logging and add stack trace for IE selection bug

Summary:
We are hoping to remove this flag that was meant to fix an IE selection bug. It
blocks selection events from being handled while React is rendering - the thing
is, this has never been a problem that we can see.

We are logging to see if real users actually hit this bug and if the flag
prevents a bad state in that case.

If we find that the flag is never hit, then it will soon be removed, unlocking
removal of a deprecated lifecycle method.

Reviewed By: sophiebits

Differential Revision: D6971850

fbshipit-source-id: 8874b21161de3b3f0f568baca2a8c0278b01fa54"
cbeninati,2018-02-13 16:25:33,https://api.github.com/repos/facebook/draft-js/git/commits/e65a8e61d6151ac4e0db8ac8a8635844a5fcdef7,e65a8e61d6151ac4e0db8ac8a8635844a5fcdef7,"Match block and inline examples for consistency.

Summary:
**Summary**

A simple update to keep the examples consistent.
It could have gone either way, so I updated the second example to match the first.

**Test Plan**
N/A
Closes https://github.com/facebook/draft-js/pull/1648

Differential Revision: D6976848

fbshipit-source-id: c6e4047d9f41b8776a1c7f50457495cfb0ee20ea"
altano,2018-02-09 20:01:59,https://api.github.com/repos/facebook/draft-js/git/commits/0a1f981a42ba665471bf35e3955560988de24c78,0a1f981a42ba665471bf35e3955560988de24c78,"Bundle size stats + Misc changes

Summary:
**Summary**

Misc changes that:
1. Make the dev environment work on Windows and Node v9.
1. Upgrade Webpack and UglifyJS.
1. Build now outputs build stats to the `meta/bundle-size-stats directory/` dir.
    1. The build stats are named the current package version, e.g. the current one is `version-0.10.5.json`.
    1. An example of this file can be seen here: https://files.terriblefish.com/version-0.10.5.json
    1. This json file can be visualized in any of the various tools online, e.g. [the official tool](https://webpack.github.io/analyse) which is great for visualizing module dependencies and [this one from Chris Bateman](http://chrisbateman.github.io/webpack-visualizer/) that makes visualizing file sizes really nice.

**Test Plan**

`npm test`, `npm run lint`, and `npm run flow` all pass

**Misc**
* I don't think any of these changes need tests
* No API changes
Closes https://github.com/facebook/draft-js/pull/1644

Reviewed By: flarnie

Differential Revision: D6950926

Pulled By: flarnie

fbshipit-source-id: 47de3b030087af010a19694caeca3de13d16a099"
guilhermecvm,2018-02-08 00:28:39,https://api.github.com/repos/facebook/draft-js/git/commits/900ef767ca4d89198eb7e8da0e9deda337e96995,900ef767ca4d89198eb7e8da0e9deda337e96995,"Fixing tex example

Summary:
**Summary**

Fixing issue #1408
Closes https://github.com/facebook/draft-js/pull/1504

Differential Revision: D6924656

fbshipit-source-id: 6f12a01c1bed709cfb7da601b1dbf404d5b038a3"
flarnie,2018-02-05 16:40:12,https://api.github.com/repos/facebook/draft-js/git/commits/788595984da7c1e00d1071ea82b063ff87140be4,788595984da7c1e00d1071ea82b063ff87140be4,"Remove 'componentWillUpdate' under GK

Summary:
The last thing we do inside 'componentWillUpdate' in DraftEditor is update the
'_latestEditorState'.

This was introduced in https://github.com/facebook/draft-js/pull/666 and that
PR has a great explanation in the comments.

**BUT** when manually testing this, the bug with dead key deletion and korean
IME deletion not working was still happening, even with the current state of
things. So that was interesting. It doesn't seem to fix the thing we originally
intended, unless I'm missing something.

In a later change (https://our.intern.facebook.com/intern/diff/D4778712/)
passes latestEditorState to handlers, so that they can use the latest editor
state instead of stale editor state. This fixed many bugs in our own uses of
Draft.js.

And since there are many untested IME cases, it could be that some situations
are still improved by storing and tracking the '_latestEditorState'.

We already set '_latestEditorState' inside 'update' and that is always called
before 'componentWillUpdate'. My first approach is to just rely on that and
remove the updating in 'componentWillUpdate'.

Updating '_latestEditorState' in 'componentWillUpdate' does potentially give
us important info though; if the 'onChange' handler mutated the editorState
then we will need to use that, and we get it in 'componentWillUpdate'.

If we want to maintain this, then I propose the following;
- Move '_latestEditorState' into state in 'DraftEditor' and create a public
  getter method to access it.
- Update it in the new static method 'getDerivedStateFromProps' and then use
  the polyfill wrapper to make Draft.js backwards compatible.
I'd rather skip that if it turns out we don't rely on '_latestEditorState'
being updated after 'onChange' is called. With so many uses and so few tests,
the only way to know is to try it. :)

Follow-up action items:
- Add a unit test for latestEditorState being used and passed to handlers.
- Open the GK to 70% employees and let that sit for a couple of days, to verify
  that this doesn't cause major problems. Continue roll-out and remove GK.
- Add inline comments explaining why we track and use '_latestEditorState'.

Depends on D6866079

Reviewed By: sophiebits

Differential Revision: D6873303

fbshipit-source-id: 5df00598ea20d826f96d70eddcfe7043cf18a18b"
flarnie,2018-02-05 16:39:52,https://api.github.com/repos/facebook/draft-js/git/commits/d1448831223d7b742b8461b73059ee58daf079b6,d1448831223d7b742b8461b73059ee58daf079b6,"try disabling 'blockSelectEvents' flag

Summary:
In the past Draft.js set a 'blockSelectEvents' flag on 'componentWillUpdate'
and unset it in 'componentDidUpdate'.

The reason for this, according to comments in the code, was that IE will fire
a 'selectionChange' event when we programmatically change the selection,
meaning it would trigger a new select event while we are in the middle of
updating.

**Edit:**
We found that the 'selection.addRange' was what triggered the stray `selectionchange` event in IE, for the record.[1] Thanks sophiebits for the tip about that.

When manually testing, I saw no bugs or inconsistencies introduced when the extra 'selectionchange' event fired in IE. The event would go into React, and yet it was never logged as triggering a handler in Draft.js.

So either that `selectionchange` event was not one that Draft.js. listened to, or React ignores/defers it because it's in the middle of a commit.

This diff does two things:
- Add logging to verify if we ever actually use the `blockSelectEvents` flag in practice. Is it actually blocking anything??? And if not, as I suspect, then;
- We can just remove it. This also removes it under a GK, so we can test on 50% employees first and see if they experience any bugs.

Lastly - I do want to add tests for this. It is error-prone and time consuming to set up and repeately do manual testing. Going to put together an outline of what I think the test should look like in a follow-up diff.

 ---
[1]: Here are the logs I recorded, for posterity
```
// inside of DraftEditor#focus
calling forceSelection
calling udpate with new editor state and new selection
componentWillUpdate fired!
This is where blockSelectEvents would be set to true~~~
a leaf is about to call setDraftEditorSelection
removing all ranges from the selection
calling range.setStart
**calling selection.addRange**
**React got an event of type topSelectionChange**
**window got an event of 'selectionchange'**
componentDidUpdate fired
This is where blockSelectEvents would be set to false~~~
React got an event of type topBlur
React got an event of type topFocus
Draft got an event of onFocus
Draft returned early because currentSelection already matches the updated selection
```

Reviewed By: sophiebits

Differential Revision: D6866079

fbshipit-source-id: 01034c6404df892224f5c18a45cba744a64d6e38"
puopg,2018-02-02 21:42:34,https://api.github.com/repos/facebook/draft-js/git/commits/558352c81f32abf29d073038b5bf4a2dc8f69189,558352c81f32abf29d073038b5bf4a2dc8f69189,"Update site footer from 2017 -> 2018

Summary:
**Summary**

Update site footer from 2017 -> 2018
Closes https://github.com/facebook/draft-js/pull/1592

Differential Revision: D6885937

fbshipit-source-id: d4077b49b363ace6ac89d57155ff909a25c49eef"
steveluscher,2018-02-02 18:20:46,https://api.github.com/repos/facebook/draft-js/git/commits/a8940302d1d07c1fa0af411368be901b380b22ad,a8940302d1d07c1fa0af411368be901b380b22ad,"Make the Flow type of `CompositeDraftDecorator's` constructor more strict

Summary: The input array of decorators gets cloned in the constructor to prevent mutations of the original array from affecting the composite. Another way to communicate that the input array should not be mutated is with the `$ReadOnlyArray<...>` Flow type.

Reviewed By: kassens

Differential Revision: D6882262

fbshipit-source-id: 35bfb957a7d006d5554d6ba11ba7d095800d40b0"
flarnie,2018-02-02 18:14:16,https://api.github.com/repos/facebook/draft-js/git/commits/70178257f60c2bdb79b1b208cf8b7bbce09ab15e,70178257f60c2bdb79b1b208cf8b7bbce09ab15e,"Update weekly meeting notes from Oct. 2017 - Jan. 2018

Summary:
Still going~ üöÇ
Closes https://github.com/facebook/draft-js/pull/1634

Differential Revision: D6831211

fbshipit-source-id: 5f1a02f55c4db003ff1d4842a0040d05aedfd478"
steveluscher,2018-02-01 21:51:40,https://api.github.com/repos/facebook/draft-js/git/commits/dc5ca7f031ceecbfbc7cfc04c26a424ba9e0072a,dc5ca7f031ceecbfbc7cfc04c26a424ba9e0072a,"Deprecated the coarse `onArrowUp` et al key handler props on `DraftEditor.react` to make it possible to produce editor commands from these keys

Summary:
Previously, it was impossible to do this:

```
function mapKeysToEditorCommands(e) {
  if (mentionsAutocompleteIsOpen) {
    switch (e.keyCode) {
      case Keys.UP:
        return 'MentionsAutocomplete/select-previous';
      case Keys.DOWN:
        return 'MentionsAutocomplete/select-next';
    }
  }
  return getDefaultKeyBinding(e);
}

<DraftEditor
  keyBindingFn={mapKeysToEditorCommands}
  ...
/>
```

‚Ä¶because we didn't give TAB, ESCAPE, LEFT, UP, RIGHT, or DOWN a chance to produce a command name.

This pull request:

1. deprecates the prop-based key handlers (`onUpArrow` et al.) and encourages people to move their custom key logic into a `keyBindingFn`, and
2. lets the named keypresses fall through to the `keyBindingFn` whenever a prop-based key handler isn't supplied.
3. Updates the homepage and the rich text example.

![tabs](https://user-images.githubusercontent.com/13243/35651838-f129bf4a-0695-11e8-971b-38dbae48fd23.gif)
Closes https://github.com/facebook/draft-js/pull/1637

Differential Revision: D6864155

fbshipit-source-id: 23efb4caac25b1bc867350a1212f142b5b3ce7ab"
acdlite,2018-01-31 20:17:49,https://api.github.com/repos/facebook/draft-js/git/commits/cda13cb8ff9c896cdb9ff832d1edeaa470d3b871,cda13cb8ff9c896cdb9ff832d1edeaa470d3b871,"Wrap Draft handlers in flushControlled instead of flushSync

Summary:
In D6727557, we tried wrapping all Draft event handlers in `ReactDOM.flushSync`. The purpose was to ensure that updates scheduled inside event handlers would flush before React yields back to the browser. (This is only relevant to async mode, since in sync mode everything is sync by default.)

The problem was that `flushSync` contains an invariant that throws if it is called inside a lifecycle method, to protect against reentrant React renders, which we intentionally do not support. What's nice about this invariant is that it guarantees all the work is flushed by the time the function returns. Usually this is fine, because event handlers are at the top of the stack. But there are cases where an event is dispatched from inside a lifecycle, like `el.focus`.

The fix is to switch to a new lifecycle method, `unstable_flushControlled`. This is similar to `flushSync`, but it will not throw if called inside a lifecycle; instead, the work will be deferred and flushed at the end of the current batch. This still satisfies Draft's requirement that the work is flushed before React yields to the browser.

`flushSync` is still the preferred API for most cases, but what we've learned from this is that it's only safe if you can be sure it's not nested inside other React work. E.g. calling it from inside a `requestAnimationFrame` callback is perfectly safe because you know you're at the top of the stack. If there's any indirection, especially related to DOM events, you likely want `flushControlled` instead.

Reviewed By: sophiebits

Differential Revision: D6861819

fbshipit-source-id: f5d4346fdff634ddaba5955db08c0c5a1b41cd0e"
tbroadley,2018-01-30 18:26:01,https://api.github.com/repos/facebook/draft-js/git/commits/35b3605f1b7a6714be0159f2b111eadc854963ac,35b3605f1b7a6714be0159f2b111eadc854963ac,"Fix typo

Summary:
PR created using https://github.com/tbroadley/github-spellcheck-cli.
Closes https://github.com/facebook/draft-js/pull/1579

Differential Revision: D6841639

fbshipit-source-id: 698bd83cf7d8652b35c7229dbaf8ed614a81a71e"
juliankrispel,2018-01-30 18:14:58,https://api.github.com/repos/facebook/draft-js/git/commits/18fdffb63a050c693f71d0f2b5ce88260158cc05,18fdffb63a050c693f71d0f2b5ce88260158cc05,"Add draft js playground

Summary:
**Summary**

Must haves:
- [x] add an playground to `examples`
- [x] integrate draft js editor
- [x] Button to update draft js editor from codemirror content
- [x] Button to import draft js contentState into codemirror
- [x] display current contentState
- [ ] integrate basic rich text editing into draft editor
- [ ] integrate codemirror for html and json editing
- [ ] use url query parameters to toggle feature flags

Nice to haves:
- [x] resizable panels
- [ ] use visualisation tool for displaying any json structures (like contentState)
- [ ] add option for viewing other parts of editorState other than contentState, like selection, undoStack, etc
- [ ] style nicely
- [ ] use localstorage to remember last configuration?
Closes https://github.com/facebook/draft-js/pull/1572

Reviewed By: flarnie

Differential Revision: D6832449

Pulled By: flarnie

fbshipit-source-id: e57ac6ba7f06f01aa37263276365ba9f0868b2ac"
fatman-,2018-01-29 23:11:37,https://api.github.com/repos/facebook/draft-js/git/commits/27a5f106e3071c6f811590aa1296669aebf18e29,27a5f106e3071c6f811590aa1296669aebf18e29,"Update docs/APIReference-Editor.md

Summary: Closes https://github.com/facebook/draft-js/pull/1635

Differential Revision: D6835150

fbshipit-source-id: 346b9317b2c08c839e0e88188e4f8fd3056842f8"
mitermayer,2018-01-29 02:37:10,https://api.github.com/repos/facebook/draft-js/git/commits/342a51a6b943961561cca1cbace8e268b4fe329c,342a51a6b943961561cca1cbace8e268b4fe329c,"Bumping internal flow version

Summary:
This is first step In order to investigate issues reported by https://github.com/facebook/draft-js/issues/1621, this PR will bump our internal flow dep to latest released version.
Closes https://github.com/facebook/draft-js/pull/1628

Differential Revision: D6832198

fbshipit-source-id: e2a6c34f766e007a3a75a8f55e71921d6ffb1767"
mitermayer,2018-01-26 18:54:40,https://api.github.com/repos/facebook/draft-js/git/commits/4c12eadb63c9e89a1db0688da6ba5f1f0a955406,4c12eadb63c9e89a1db0688da6ba5f1f0a955406,"Fixing master

Summary:
This PR fixes the flow broken build in master
Closes https://github.com/facebook/draft-js/pull/1631

Differential Revision: D6820135

fbshipit-source-id: 7c393f66f16d6d80065974c3cf7108e2ee9c4a7f"
sophiebits,2018-01-26 01:15:31,https://api.github.com/repos/facebook/draft-js/git/commits/07eb9c4e2e2771d284c3c8f0c0d78d6b488619fd,07eb9c4e2e2771d284c3c8f0c0d78d6b488619fd,"Switch from DraftFeatureFlags to gkx()

Reviewed By: flarnie

Differential Revision: D6811498

fbshipit-source-id: f2a9128ea161c9a68d2d7e55ad23d1d5a3823069"
flarnie,2018-01-25 00:02:43,https://api.github.com/repos/facebook/draft-js/git/commits/26040e57226201af2f7e295224a9d937428a5e3a,26040e57226201af2f7e295224a9d937428a5e3a,"Add 'flushSync' to Draft.js for *only* GK folks

Summary:
We did this in https://our.intern.facebook.com/intern/diff/D6727557/ and then it
was reverted due to bugs like
https://our.intern.facebook.com/intern/tasks/?t=25244286
... But we still want to do this! Let's enable under a GK so we can dogfood and
possibly identify repro steps.

Context from original version of this diff -
We have seen various issues with Draft and other controlled text inputs when
React is in ""async mode"", such that updates are rendered asynchronously.
For more context and repro steps, see https://github.com/facebook/draft-js/issues/1577

I also added the logic to the plain text editor test page for manual testing, until we write unit tests for this.

Reviewed By: acdlite

Differential Revision: D6802653

fbshipit-source-id: 9f6952e9cb77cf79f9650d167075b1c337e3d35f"
flarnie,2018-01-22 21:06:18,https://api.github.com/repos/facebook/draft-js/git/commits/93bc209c8b7524fdbf2025487ac7b6094220e0c3,93bc209c8b7524fdbf2025487ac7b6094220e0c3,"fix typo in changelog

Summary:
Thanks to existentialism for catching this in code review :)
Closes https://github.com/facebook/draft-js/pull/1620

Differential Revision: D6772963

fbshipit-source-id: d251cc1fb87d7a87cf46fadd4556487911a5dacc"
flarnie,2018-01-20 22:00:27,https://api.github.com/repos/facebook/draft-js/git/commits/126ce9938826848eefc49191e40630cdb83c9b39,126ce9938826848eefc49191e40630cdb83c9b39,"0.10.5

Summary:
It's time for a release~! üëê‚ú®ÔøΩ
Closes https://github.com/facebook/draft-js/pull/1619

Differential Revision: D6768509

fbshipit-source-id: 7543cee5b746611cfefb89dfeb175e5b2f90fcb0"
mitermayer,2018-01-19 22:05:52,https://api.github.com/repos/facebook/draft-js/git/commits/53ebc863250e01deb42cf2be3f65df2ad8098ffd,53ebc863250e01deb42cf2be3f65df2ad8098ffd,"Updating yarn.lock dependencies

Summary:
Updating yarn.lock dependencies and making sure prettier version matches the one we use internally
Closes https://github.com/facebook/draft-js/pull/1617

Reviewed By: flarnie

Differential Revision: D6762796

Pulled By: flarnie

fbshipit-source-id: a373572cee66a1041f057aa71da1c32e4101246b"
flarnie,2018-01-17 14:59:07,https://api.github.com/repos/facebook/draft-js/git/commits/63d883580a57dac72ef0c9c6eb7c8bcd7228293e,63d883580a57dac72ef0c9c6eb7c8bcd7228293e,"Revert D6727557: [Async React + Draft.js] Wrap Draft updates in flushSync

Summary:
This reverts commit r3576306

bypass-lint

An infra SEV is better than not reverting this diff.
If you copy this password, see you in SEV Review!
cause_a_sev_many_files

Differential Revision: D6727557

fbshipit-source-id: eab5182eb619fc4df39a815f319a6c9ad62c6ed8"
flarnie,2018-01-16 20:52:12,https://api.github.com/repos/facebook/draft-js/git/commits/760caaf8b3bbe57a12410ce2498e9d23783e223f,760caaf8b3bbe57a12410ce2498e9d23783e223f,"Wrap Draft updates in flushSync

Summary:
We have seen various issues with Draft and other controlled text inputs when
React is in ""async mode"", such that updates are rendered asynchronously.

For more context and repro steps, see https://github.com/facebook/draft-js/issues/1577

Reviewed By: sophiebits, sebmarkbage

Differential Revision: D6727557

fbshipit-source-id: f0d04e290c11d4123eacdf83b0a645a18bb5afc2"
GordyD,2018-01-13 17:38:01,https://api.github.com/repos/facebook/draft-js/git/commits/3890b5c2f4f85e3ef536ad2366118e04ff7d283d,3890b5c2f4f85e3ef536ad2366118e04ff7d283d,"Fix convertHTMLToContentBlocks test

Summary: The snapshot test is failing because the test was written assuming the classname generated by cx would follow the same format as on Github. I've relied upon cx within the test so that we test behavior based upon how cx outputs a css selector.

Reviewed By: sophiebits

Differential Revision: D6718015

fbshipit-source-id: a8efbaaa2919ceaf77156dc8bd439404b5070a4d"
GordyD,2018-01-11 17:40:26,https://api.github.com/repos/facebook/draft-js/git/commits/14d9f527c172e64357c8154853797d2e19a46005,14d9f527c172e64357c8154853797d2e19a46005,"Preserve list indentation from one DraftEditor to another on paste

Summary:
**Summary**

When pasting from one editor to another we lose list indentation.  By inspecting the classList of each list item contained in HTML pasted we can preserve this state.

**Test Plan**
I validated behavior manually:

- Rebuild
- Open two tabs to rich text example
- In one create indented list
- Select all
- Paste into other
- Styling is preserved

I also added some snapshot testing for regression testing.
Closes https://github.com/facebook/draft-js/pull/1605

Reviewed By: flarnie

Differential Revision: D6702583

Pulled By: flarnie

fbshipit-source-id: 071cecc786e2aaef11af9bd21cc03f9b2544a2b4"
existentialism,2018-01-10 14:55:18,https://api.github.com/repos/facebook/draft-js/git/commits/7eb6a1abe284343b3646354246fa19d3ee12bedb,7eb6a1abe284343b3646354246fa19d3ee12bedb,"Fix updating editor when editing selected text

Summary:
Fixes #1509.

Ref: https://github.com/facebook/draft-js/pull/719
Closes https://github.com/facebook/draft-js/pull/1512

Differential Revision: D6673593

fbshipit-source-id: fb5ab4c41de7958139deb125e5e8e79c76b53ec3"
mitermayer,2018-01-09 03:22:34,https://api.github.com/repos/facebook/draft-js/git/commits/3689a93c85786b6a3fb8a3434e9c700661a8ba02,3689a93c85786b6a3fb8a3434e9c700661a8ba02,"Exploration - Feature tree / adding internal support for tree data structures

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Adding support for tree data structures**

This PR includes the missing parts for adding support for internal tree data structure by providing:

* last transaction insertFragmentIntoContentState.js
* last modifier AtomicBlockUtils
* fixing a bug on the randomizeBlockMapKeys to handle orphanated fragments

This is the last PR of the series to add support for internal tree data structures, from here we should then either update `RichTextEditorUtil` to have some `tree` awareness and having some controls for creating nesting content or create a new `NestedRichTextEditorUtil` that can be used for that. Ideally that work would also come with a `demo` example page

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1593

Differential Revision: D6679776

fbshipit-source-id: ad25593a7dd01552848a9ae2cdc7d34491b8130e"
mitermayer,2017-12-16 03:55:39,https://api.github.com/repos/facebook/draft-js/git/commits/9571a88d26bd56669846f5e8549f407d3ea80d15,9571a88d26bd56669846f5e8549f407d3ea80d15,"Re-enabling linting errors as part of the build

Summary:
This PR makes linting part of the CI build once again. While we were out of sync with our internal Prettier version we had to downgrade linting as warnings, this brings prettier linting back to error.
Closes https://github.com/facebook/draft-js/pull/1580

Differential Revision: D6586923

fbshipit-source-id: d9cbeceb7700a67b30c44f6142c35e5d2d490cda"
mitermayer,2017-12-16 02:51:37,https://api.github.com/repos/facebook/draft-js/git/commits/bbbbd14c73b97a5ba7d90aba868c8b5ee8cb6723,bbbbd14c73b97a5ba7d90aba868c8b5ee8cb6723,"Adding shims for jest

Summary:
This PR is meant to address this warnings that we get when running jest

```
   console.error node_modules/fbjs/lib/warning.js:33
      Warning: React depends on requestAnimationFrame. Make sure that you load a polyfill in older browsers. http://fb.me/react-polyfills
```

Jest is including the polyfill as part of (21.3.0), so we should be able to clean this up later
Closes https://github.com/facebook/draft-js/pull/1581

Differential Revision: D6586269

fbshipit-source-id: 7fae0ff2e1058851c9e242bb4f3911c222510c98"
mitermayer,2017-12-15 20:40:05,https://api.github.com/repos/facebook/draft-js/git/commits/247a632ab6420e7809a8f7cf7dd2b31b495bb4c7,247a632ab6420e7809a8f7cf7dd2b31b495bb4c7,"Pinning prettier to 1.9.1 and fixing travis segfault

Summary:
- Testing to see if we still get segfaults
Closes https://github.com/facebook/draft-js/pull/1575

Differential Revision: D6581397

fbshipit-source-id: 8c808550284ec292c9e327247e6c2f0c5ee58f2e"
mitermayer,2017-12-15 09:55:15,https://api.github.com/repos/facebook/draft-js/git/commits/f70550c69bf6129e76cce076f28471749b64b007,f70550c69bf6129e76cce076f28471749b64b007,"Exploration - Feature tree / Adding support for removing tree nodes ranges from content state

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Adding support for removing content state**

This PR adds support for removing range transactions for ContentBlockNodes

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1547

Differential Revision: D6555163

fbshipit-source-id: 7a2197541da062dbf8cd5c6974c4ecd1140e8e01"
mitermayer,2017-12-13 09:52:54,https://api.github.com/repos/facebook/draft-js/git/commits/327d9ed8adc56118ca27209e695908afd89ca2d0,327d9ed8adc56118ca27209e695908afd89ca2d0,"Exploration - Feature tree / Adding support for splitting transactions

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Adding support for splitting transactions**

This PR adds support for tree block nodes splitting transactions

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1548

Differential Revision: D6554958

fbshipit-source-id: 7d8e13a4f3494c81dfead78ba57a54ec82d6c06f"
flarnie,2017-12-11 22:00:31,https://api.github.com/repos/facebook/draft-js/git/commits/d630b84728568d42482bc0d8a0da06dee9adfd64,d630b84728568d42482bc0d8a0da06dee9adfd64,"Restrict 'prettier' version to unbreak CI

Summary:
**what is the change?:**
We have verified that upgrading to Prettier v1.9.0 or v1.9.1 both cause
a Segmentation Fault when running `eslint`. This happens in CI, and I
was able to verify it locally.

**why make this change?:**
We want to use Prettier in CI and not get segmentation faults.

**test plan:**
Locally I did -
`rm -rf node_modules && yarn install && yarn lint` and got no segfault.
Pushing this to github and waiting for CI to pass will further verify.

**issue:**
fixes issue #1562
Closes https://github.com/facebook/draft-js/pull/1567

Differential Revision: D6534157

fbshipit-source-id: 6c3016a7d1fc69151ee34ce73355c3163cc518b8"
mjesun,2017-12-07 16:03:07,https://api.github.com/repos/facebook/draft-js/git/commits/161da62aa25555ce66f150ce1e7953ce00a8e83a,161da62aa25555ce66f150ce1e7953ce00a8e83a,"Update Jest to 21.3.0-beta.13

Summary: This diff updates Jest to the latest version, and fixes some tests that are breaking. Notably tests overriding the `value` property of an `<input type=""file"" />`, and tests related to `<a>` URL parsing. I also removed a test that was testing a non-existing file (https://our.intern.facebook.com/intern/testinfra/testdetail/113778710).

Reviewed By: cpojer

Differential Revision: D6508625

fbshipit-source-id: 7f164d8e808c75456123fc64b80a2546ad7d8321"
mitermayer,2017-12-01 09:59:40,https://api.github.com/repos/facebook/draft-js/git/commits/8c3dd86bd1cd7c5fc0201912404312324c150b57,8c3dd86bd1cd7c5fc0201912404312324c150b57,"Exploration - Feature tree / Adding support for text into tree nodes

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Adding support for text into tree nodes**

This PR adds support for converting pasted text into tree block nodes

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1541

Differential Revision: D6457757

fbshipit-source-id: 527e54929a3e8f4c68141fd3bd260066fed14977"
mitermayer,2017-12-01 08:13:35,https://api.github.com/repos/facebook/draft-js/git/commits/26b6e422a94a1015c86409b8f512f0bc0dd2bf92,26b6e422a94a1015c86409b8f512f0bc0dd2bf92,"Exploration - Feature tree / Adding support for moving tree blocks

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Adding support for moving tree blocks**

This PR adds support for moving tree blocks via the moveBlockInContentState transaction.

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1540

Differential Revision: D6456754

fbshipit-source-id: c802b0069f11f9e6b10734f4465f19edf828522e"
mitermayer,2017-12-01 00:10:21,https://api.github.com/repos/facebook/draft-js/git/commits/ab00a2df7477e44d79a7f4d63941bf969f0a241a,ab00a2df7477e44d79a7f4d63941bf969f0a241a,"Exploration - Feature tree / Adding support for getting transaction fragments

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Adding support for getting transaction fragments**

This PR adds support for getting tree based fragments from the content state transaction

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1536

Differential Revision: D6448624

fbshipit-source-id: 17c321cc7f2eaed227de8e17e717aa2f91b3e571"
mitermayer,2017-12-01 00:09:06,https://api.github.com/repos/facebook/draft-js/git/commits/b89f98aee4a1cfa0efcd87df21dcbbba756912ec,b89f98aee4a1cfa0efcd87df21dcbbba756912ec,"Exploration - Feature tree / Wiring up tree adapter on the raw

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Wiring up tree adapter on the raw**

Making sure when the darkfeature flag is enabled/disabled we can handle both data formats to guarantee some degree of migration/backwards compatibility

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1532

Differential Revision: D6448468

fbshipit-source-id: 494bb1412e2366730c23b6a5cc5521d0199939a5"
mitermayer,2017-11-30 17:07:39,https://api.github.com/repos/facebook/draft-js/git/commits/0c80d7dc630798822f2712560d8766510b879fb6,0c80d7dc630798822f2712560d8766510b879fb6,"Exploration - Feature tree / Adding support for container text nodes

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Adding support for container text nodes**

This PR will add support for handling container text nodes that precedes real block nodes.

example:

```html
<blockquote>
   some text
   <h1>header block</h1>
</blockquote>
```

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1533

Differential Revision: D6442010

fbshipit-source-id: 70e829ccebf9b503877f201f34e6b1e03593e777"
mitermayer,2017-11-30 01:06:50,https://api.github.com/repos/facebook/draft-js/git/commits/5ca8e5cdc0a5fb402e5e2132c8b6c3f0dd762329,5ca8e5cdc0a5fb402e5e2132c8b6c3f0dd762329,"Bugfix - Making sure empty spaces leading prior to ul/ol are not

Summary:
**Converting HTML that had ol/ul with spaces prior to first list item would create extra unstyled blocks**

Before if we tried to convert:

```html
<ul>
   <li>a</li>
</ul>
```

we would get 2 content blocks, with a unstyled one for the UL.

note that the same without leading spaces was converting fine:

```html
<ul><li>a</li></ul>
```

**Test Plan**

Added unit tests and updated old snapshots
Closes https://github.com/facebook/draft-js/pull/1531

Differential Revision: D6439164

fbshipit-source-id: cb9837829b9db66fc2552540d9a06c136292c3fd"
mitermayer,2017-11-29 23:19:09,https://api.github.com/repos/facebook/draft-js/git/commits/7e1749437f69d8a17ad01783ca978d011edba380,7e1749437f69d8a17ad01783ca978d011edba380,"Exploration - Feature tree / Adding support for nested block selection

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Adding support for nested block selection**

This PR adds support for dealing with nested blocks selections and also add some tests to make sure we cover all the previous use cases when dealing with nested blocks.

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1529

Differential Revision: D6439187

fbshipit-source-id: 520e50f806eb68018c317cb40d296ca2c9c3a0bd"
sophiebits,2017-11-29 16:36:39,https://api.github.com/repos/facebook/draft-js/git/commits/c15013cc39211996636dd6857bd98b064538d0ae,c15013cc39211996636dd6857bd98b064538d0ae,"Fix text node key logic in async mode

Summary: Previously if componentWillUpdate runs twice (negating its effect), then typing ""hi"", Cmd-A, ""hello"" would end you up with a mash of text instead of ""hello"". This diff changes it to only flip the flag once per commit which should be the relevant time. This way each time it renders (and sCU returns true), we do successfully recreate the DOM.

Reviewed By: flarnie

Differential Revision: D6431545

fbshipit-source-id: 9400e24bc1ffddf2946cbfea5cb6fb1d8fbe4a5c"
mjesun,2017-11-23 13:29:46,https://api.github.com/repos/facebook/draft-js/git/commits/f50c4ca9a5881763eb3028ecacf8fd56f430bc3f,f50c4ca9a5881763eb3028ecacf8fd56f430bc3f,"Re-format affected package.jsons

Summary: Automated re-formatting of affected `package.json` files when updating `jest`.

Reviewed By: cpojer

Differential Revision: D6404886

fbshipit-source-id: 7c977ac3ab4b48120c3e6e873f240d0699f51894"
mitermayer,2017-11-22 22:27:54,https://api.github.com/repos/facebook/draft-js/git/commits/a9eedb388af1b8c8e373e688eeb85bb8d210f98c,a9eedb388af1b8c8e373e688eeb85bb8d210f98c,"Exploration - Feature tree / Adding regression tests

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Adding regression tests**

This PR adds regression tests to make sure we do not enable experimental features unless the dark feature flag is enabled

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1527

Differential Revision: D6399454

fbshipit-source-id: 60c020eaf57c73de9ee5bf7596581fb25678f009"
mitermayer,2017-11-21 22:46:33,https://api.github.com/repos/facebook/draft-js/git/commits/cf21a6b7553faa23b2568222cd36e1a2cd668194,cf21a6b7553faa23b2568222cd36e1a2cd668194,"Exploration - Feature tree / Fixing shouldComponentUpdate lifcycle for ContentBlockNode

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Fixing component lifcycle for ContentBlockNode**

`block.getChildKeys` is not a property it is meant to be a function call
***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1525

Differential Revision: D6389650

fbshipit-source-id: d9923b2042beed997cd63f83c7beb4853496be87"
flarnie,2017-11-21 22:25:33,https://api.github.com/repos/facebook/draft-js/git/commits/e48c56bf3f0b7ce5235c9dc653797c273e49a3fe,e48c56bf3f0b7ce5235c9dc653797c273e49a3fe,"Quick fix for HTML conversion regression

Summary: Some recent changes introduced this bug, this is a quick fix.

Reviewed By: mitermayer

Differential Revision: D6389556

fbshipit-source-id: 65b0b4c82a14ddfb626e3c81589fe04ba350ba04"
mitermayer,2017-11-21 17:08:49,https://api.github.com/repos/facebook/draft-js/git/commits/ab03fdda5fb6fe3c189176979fef8c3e16eb39a5,ab03fdda5fb6fe3c189176979fef8c3e16eb39a5,"Exploration - Feature tree / Integrating GK flag

Summary:
This PR is part of a series of PR's that will be exploring tree data block support in Draft.

Integrating GK flag

This PR adds support for the feature flag where we will use to conditionally load the DraftEditorContents-core.react.js or DraftEditorContentsExperimental.react.js.

Will import this and have the review done internally since it will require some internal wiring for it to work

Note:
This is unstable and not part of the public API and should not be used by
production systems.

Reviewed By: flarnie

Differential Revision: D6383180

fbshipit-source-id: fec9cd2962b881c74a69569654fbf7e5b2f5fb61"
mitermayer,2017-11-21 03:58:27,https://api.github.com/repos/facebook/draft-js/git/commits/ff54f1918484346a21b938eefabb2c2d570e0e4f,ff54f1918484346a21b938eefabb2c2d570e0e4f,"Exploration - Feature tree / Wiring up paste processor

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Wiring up paste processor**

This wires up the paste processor to make sure it pass the tree flag along. We will revisit this approach on a follow up diff where we will change the flag to actually be a GK feature flag instead of function feature argument

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1523

Differential Revision: D6382429

fbshipit-source-id: 950fc0a87b7e61f83bd134a2811947a2063396a4"
mitermayer,2017-11-20 19:56:11,https://api.github.com/repos/facebook/draft-js/git/commits/dabfc0009f896123fbd9f8851e83c94c94993862,dabfc0009f896123fbd9f8851e83c94c94993862,"Exploration - Feature tree / Tree adapter transformer

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Tree adapter to transformer**

This creates a raw tree data adapter to transform back and forth between raw tree and draft raw data

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1521

Differential Revision: D6375517

fbshipit-source-id: 548fddb1b56e066b7550d42971b7189ba38feda2"
mitermayer,2017-11-20 07:58:17,https://api.github.com/repos/facebook/draft-js/git/commits/19fb3e77898232ca46c9b15ed8dd16aecfaa6a3a,19fb3e77898232ca46c9b15ed8dd16aecfaa6a3a,"Exploration - Feature tree / Convert from html tree data support

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Convert from html tree data support**

This PR adds support for converting from HTML to tree data, as a follow up we will then hook the paste processor with this too

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1518

Differential Revision: D6372235

fbshipit-source-id: fdfe81efcb81e31aa4bb61f5cfe7b21bf11317a4"
bjohn465,2017-11-18 07:28:06,https://api.github.com/repos/facebook/draft-js/git/commits/2acb8945cee1734c0f12cad2c1a0dfa67a3789bc,2acb8945cee1734c0f12cad2c1a0dfa67a3789bc,"Mark props that have defaults as required

Summary:
Fixes facebook/draft-js#1514

**Summary**

According to the [Flow documentation](https://flow.org/en/docs/react/components/#toc-using-default-props), when using default props, the prop should be marked as required, as ""Flow will make sure that [the prop] is optional if you have a default prop for [it].""

This fixes Flow errors that would occur when using Draft.js in a project with Flow. Flow would complain that `blockRendererFn` and `blockStyleFn` could potentially be `undefined` when passed to `DraftEditorContents`, even though these two properties have default values, so they will never be undefined.

This commit also upgrades Flow to 0.59.0, since there weren't any additional Flow errors between the version of Flow that was being used (0.53.1) and the latest version of Flow (0.59.0).

**Test Plan**

 * Flow check passes
 * A sample project, such as https://github.com/bjohn465/draft-and-flow-errors, does not produce Flow errors when using Draft.js
Closes https://github.com/facebook/draft-js/pull/1520

Differential Revision: D6366083

fbshipit-source-id: 142ba22cab5d87ccbb65d6090a9634317b9e2dfa"
jackyho112,2017-11-18 00:59:11,https://api.github.com/repos/facebook/draft-js/git/commits/a33fbcdc98832a6d12e30e1491a772c5a35aaaa9,a33fbcdc98832a6d12e30e1491a772c5a35aaaa9,"Add ariaLabelledBy prop

Summary:
**Summary**

Fixes https://github.com/facebook/draft-js/issues/1213 for more accessibility support. Small change but let me know if I missed anything. üòÑ
Closes https://github.com/facebook/draft-js/pull/1519

Differential Revision: D6359438

fbshipit-source-id: 838844ce7804370d255d3a627154b5dbdde4e54b"
cdriscol,2017-11-18 00:57:01,https://api.github.com/repos/facebook/draft-js/git/commits/33e7b5202e1813bd5b1f0c751cf694242b61ced2,33e7b5202e1813bd5b1f0c751cf694242b61ced2,"Fix examples after React 16 bump

Summary:
Fixes https://github.com/facebook/draft-js/issues/1516
Closes https://github.com/facebook/draft-js/pull/1517

Differential Revision: D6364497

fbshipit-source-id: d482a2d6a8e6a141a6c6128a08eb39f4b1486c2b"
flarnie,2017-11-16 18:24:48,https://api.github.com/repos/facebook/draft-js/git/commits/925789a0e586baeb21c565a25af7c228bb8376fb,925789a0e586baeb21c565a25af7c228bb8376fb,"Add CODE_OF_CONDUCT.md

Summary:
**what is the change?:**
Adding a document linking to the Facebook Open Source Code of Conduct,
for visibility and to meet Github community standards.

**why make this change?:**
Facebook Open Source provides a Code of Conduct statement for all
projects to follow.

Draft.js already links to this Code of Conduct in the Contributing
guide, which is great!

Exposing the COC via a separate markdown file is a standard being
promoted by Github via the Community Profile in order to meet their Open
Source Guide's recommended community standards.

As you can see, adding this file will complete [Draft's Community Profile](https://github.com/facebook/draft-js/community)
checklist and increase the visibility of our COC.

**test plan:**
Viewing it on my branch -
<img width=""1321"" alt=""screen shot 2017-11-10 at 11 09 23 am"" src=""https://user-images.githubusercontent.com/1114467/32655945-c43cda22-c607-11e7-9cd2-10c0073a56b0.png"">

**issue:**
internal task t23481323
Closes https://github.com/facebook/draft-js/pull/1502

Differential Revision: D6297508

fbshipit-source-id: 27803bb3dfbf09bdf58ac2106ee90ede45fad7f9"
mitermayer,2017-11-16 18:04:48,https://api.github.com/repos/facebook/draft-js/git/commits/aa770b5a7db4cd7db51b613615801cf33b673be4,aa770b5a7db4cd7db51b613615801cf33b673be4,"Fixing FlowFixme errors

Summary:
This PR removes the $FlowFixMe and fixes the flow errors as well as minor things uncovered by the flow parser.
Closes https://github.com/facebook/draft-js/pull/1467

Reviewed By: flarnie

Differential Revision: D6206942

Pulled By: flarnie

fbshipit-source-id: 483d994e35f501ceb297d63f5364ba28851c2cc8"
flarnie,2017-11-16 16:38:06,https://api.github.com/repos/facebook/draft-js/git/commits/553161761903bed7fad971d73e1fe04bb0ff360e,553161761903bed7fad971d73e1fe04bb0ff360e,"Quick fix for safari 'node not found' bug

Summary:
This is a quick fix, but we will do a follow-up diff to add more precautions
and fix any other misnamed refs. Want to push this asap to fix the bug.

In a previous diff[1] we changed the syntax for getting the reference to the
editor node, but this spot was not updated.
[1]: https://our.intern.facebook.com/intern/diff/D5964582/

This introduced a bug where clicking a link caused the focus to move but the
selection state was not cleared, and this is a known issue in Safari in
particular. In the past we had a work-around in Draft, but the work-around was
no longer working due to the misnamed ref.

PS Thanks to @[578934877:sophiebits] for pairing with me and realizing the root cause of the bug. :)

Reviewed By: sophiebits

Differential Revision: D6344247

fbshipit-source-id: fb0c3f2a7264fc68319536d6c18c30a27053c0aa"
mitermayer,2017-11-16 02:44:59,https://api.github.com/repos/facebook/draft-js/git/commits/c1150a729080d04014551d1c78292cb05da7cf1b,c1150a729080d04014551d1c78292cb05da7cf1b,"Exploration - Feature tree / Rendering tree data format

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Rendering tree data format**

This PR adds support for react components to render the tree data structure

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1508

Differential Revision: D6341091

fbshipit-source-id: e285bb04ca51eb55b75c6912a2f5d283a4145d2d"
itssujan,2017-11-15 18:10:31,https://api.github.com/repos/facebook/draft-js/git/commits/5a965e66e6f0d8521a2853fb981197854656d7f8,5a965e66e6f0d8521a2853fb981197854656d7f8,"Support React 16

Summary:
**Summary**

Support React 16 [https://github.com/facebook/draft-js/issues/1411]

- [x] Add 16.0.0 support for  in devDependencies for `react, react-dom, react-test-renderer`
- [x] Upgrade Enzyme to 3.x
- [x] Fix failing specs due to unavailable `reactComponentExpect`

**Test Plan**
 Used `npm run test-ci` to ensure all the linting, tests and flow passes
Closes https://github.com/facebook/draft-js/pull/1464

Differential Revision: D6333830

fbshipit-source-id: e63d39b48454125bb75d321f8419aff49cfce9ba"
mitermayer,2017-11-14 16:09:38,https://api.github.com/repos/facebook/draft-js/git/commits/2da3dcb1c4c106d1b2a0f07b3d0275b8d724e777,2da3dcb1c4c106d1b2a0f07b3d0275b8d724e777,"Refactoring our test suite and introducing jest snapshots

Summary:
This PR aim on refactoring our existing tests and moving towards jest snapshot testing.

Snapshot testing will not only allow us to move faster but also reduce the barrier for contributors to be able to contribute to draft.

tldr:

- moved to jest snapshots
- refactored tests to remove duplication
- removed nested describes in favor of plain 'test' to increase readability

***

I suggest we review this internally in phabricator as it may be tricky to do that on github. Also once this is merged should be pretty easy to update tests or add some new ones.
Closes https://github.com/facebook/draft-js/pull/1490

Reviewed By: flarnie

Differential Revision: D6292507

Pulled By: flarnie

fbshipit-source-id: 915089257fad8aa5e022659f47c60d2ec5ac6c12"
mitermayer,2017-11-14 02:27:44,https://api.github.com/repos/facebook/draft-js/git/commits/93df36d1cd2799bc4527183ebffd089c4d659af8,93df36d1cd2799bc4527183ebffd089c4d659af8,"Exploration - Feature tree / converting from raw to tree Node

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**converting from raw tree Node**

Making sure we can handle tree nodes and build a linked draft content state

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1501

Differential Revision: D6319768

fbshipit-source-id: 566fe12aa2b8c0424d425e8c91b4560ad1dcd8e1"
mitermayer,2017-11-10 01:13:15,https://api.github.com/repos/facebook/draft-js/git/commits/81ea8e329669913e0a8491f789ac9cafde32d0b6,81ea8e329669913e0a8491f789ac9cafde32d0b6,"Docs - Fixing typo on Advanced-Topics-Custom-Block-Render

Summary:
Fixing typo on docs
Closes https://github.com/facebook/draft-js/pull/1499

Differential Revision: D6292213

fbshipit-source-id: 2be1718524c8014ccd4bb227547cd382bd9744c4"
mitermayer,2017-11-08 06:08:16,https://api.github.com/repos/facebook/draft-js/git/commits/68ec1319476317f8e86e8cdebd853511599ba7b6,68ec1319476317f8e86e8cdebd853511599ba7b6,"While prettier is still outdated internally we should downgrade linting to warning

Summary:
We have been getting some builds failing due to incompatible prettier versions, to avoid this we will downgrade prettier linting from error to warning. Once we have prettier internal version being bumped we will then use a `yarn.lock` to lock the prettier version on draft.js to match the internal and bump again the linting rules to `error`
Closes https://github.com/facebook/draft-js/pull/1495

Differential Revision: D6267016

fbshipit-source-id: 0328bae9e452ba0a93bd2b0fef21517d33cce024"
mitermayer,2017-11-08 02:51:44,https://api.github.com/repos/facebook/draft-js/git/commits/13c20c7fd3008ed5856beefb0030d1af2f8141c1,13c20c7fd3008ed5856beefb0030d1af2f8141c1,"Exploration - Feature tree / Serializing Draft state to tree data structure

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Serializing Draft state to tree data structure**

This PR will make sure that we can serialize existing draft state into a tree data block structure for ContentBlockNode and flat data structure for the existing ContentBlock

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1494

Differential Revision: D6267068

fbshipit-source-id: b120986d0caf49eda909a57fa21df42159508b64"
mitermayer,2017-11-07 23:27:45,https://api.github.com/repos/facebook/draft-js/git/commits/3644e1042fbcc793ef73187c663020e12c8076be,3644e1042fbcc793ef73187c663020e12c8076be,"Exploration - Feature tree / Wiring up BlockNode interface

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Wiring up BlockNode interface**

This PR will make sure that ContentBlock references are now referencing the BlockNode interface in order for us to be able to support both ContentBlock and ContentBlockNode operations

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1493

Differential Revision: D6260642

fbshipit-source-id: 09f0cb2631579cbe9e9ac6fbdc1121f1d42d6b4e"
Daniel15,2017-11-07 20:13:02,https://api.github.com/repos/facebook/draft-js/git/commits/61a5b94dd4188e7aa84630870bf76c5c8f73d974,61a5b94dd4188e7aa84630870bf76c5c8f73d974,"Link to Yarn package page in readme

Summary:
In the README, link to the Yarn package page rather than the npm one. The Yarn site has a nice package listing page.
Closes https://github.com/facebook/draft-js/pull/1476

Reviewed By: flarnie

Differential Revision: D6211416

Pulled By: flarnie

fbshipit-source-id: 2f645202964ad141500387bdaf7bb389447edbed"
flarnie,2017-11-06 21:55:48,https://api.github.com/repos/facebook/draft-js/git/commits/652afc1a073702c351ad5be107c3febdcfe9936e,652afc1a073702c351ad5be107c3febdcfe9936e,"Fix syntax nit for prettier in BlockType

Summary:
Just fixing a lint errors.
Closes https://github.com/facebook/draft-js/pull/1491

Differential Revision: D6246053

fbshipit-source-id: 452dc4058687fe2bc590773d1f76a3d129247352"
mitermayer,2017-11-06 08:28:32,https://api.github.com/repos/facebook/draft-js/git/commits/1e3b4350cccb6d8e466e6ec7f359549bc21cc1da,1e3b4350cccb6d8e466e6ec7f359549bc21cc1da,"Exploration - Feature tree / Setting up BlockNode interface

Summary:
This PR is part of a series of PR's that will be exploring **tree data block support** in Draft.

**Setting up BlockNode interface**

This PR will be laying down the foundations by creating a tree block compatible node.

In order to avoiding including conditional logic as much as possible to existing draft library while exploring we will use interfaces to guarantee that the new tree block structure is some what compatible with the existing ContentBlock

***

**Note:**
This is unstable and not part of the public API and should not be used by
production systems.
Closes https://github.com/facebook/draft-js/pull/1477

Differential Revision: D6245392

fbshipit-source-id: 1cdc9d8de09f5174f1834020a78ad013da51a9d7"
okize,2017-11-03 06:51:28,https://api.github.com/repos/facebook/draft-js/git/commits/13da5439ee637cb8eff1c1652a87da374cca22d2,13da5439ee637cb8eff1c1652a87da374cca22d2,"dedupe explanation of mobile support in documentation

Summary:
Mobile support is mentioned twice in the 'Issues and Pitfalls' section of the documentation:
* first, in the section removed in the PR
* second, beginning line 114 on the same page
Closes https://github.com/facebook/draft-js/pull/1482

Differential Revision: D6229350

fbshipit-source-id: 4acbb74ccb6f9ad3269dc070e09d5c89b5df61b4"
richardson-trevor,2017-11-03 06:01:39,https://api.github.com/repos/facebook/draft-js/git/commits/dbebb97279e36cd800303e665325d60e427f62c1,dbebb97279e36cd800303e665325d60e427f62c1,"Removed 'engineers' verbiage that was limiting.

Summary:
**Summary**
Removed verbiage specific to engineers as I don't think it added anything and could be taken as discriminatory.

**Test Plan**
n/a
Closes https://github.com/facebook/draft-js/pull/1481

Differential Revision: D6226021

fbshipit-source-id: e73920b8f8478f4c82875d5b7e577422063334f8"
richardson-trevor,2017-11-02 19:32:29,https://api.github.com/repos/facebook/draft-js/git/commits/bab5c5ebfa08eb0e1ed55978fb111679183b0171,bab5c5ebfa08eb0e1ed55978fb111679183b0171,"Correct spelling in DraftEntityMutability docs

Summary:
**Summary**
Updated a small typo.

**Test Plan**
n/a
Closes https://github.com/facebook/draft-js/pull/1479

Reviewed By: flarnie

Differential Revision: D6212351

Pulled By: flarnie

fbshipit-source-id: 72681385e64e0602ca9919d304dd2f166ef9433f"
mitermayer,2017-11-02 19:28:29,https://api.github.com/repos/facebook/draft-js/git/commits/3461269e0f22f07525a5acc574d40ebdbfe7cf3c,3461269e0f22f07525a5acc574d40ebdbfe7cf3c,"Fixing mixed up typing

Summary:
While amending diff in phabricator I got typing mixed up, this PR fixes it
Closes https://github.com/facebook/draft-js/pull/1485

Differential Revision: D6221529

fbshipit-source-id: 30087648e3ee784cedb89f2b59591c4384f52ff2"
mitermayer,2017-11-02 05:19:15,https://api.github.com/repos/facebook/draft-js/git/commits/b0f00ffa58e9a56dd4c164b9c2b4fefbdf8b9e88,b0f00ffa58e9a56dd4c164b9c2b4fefbdf8b9e88,"Making DraftBlockType less restrictive

Summary:
DraftBlockType needs to be less strict in order to allow user defined block types however we also want to retain a way to identify our core draft blocks.

fixes: https://github.com/facebook/draft-js/issues/1453
Closes https://github.com/facebook/draft-js/pull/1480

Differential Revision: D6215628

fbshipit-source-id: e4647bf2bafe9adb7788740ec64c1445e307e632"
mitermayer,2017-11-01 20:49:33,https://api.github.com/repos/facebook/draft-js/git/commits/498fd8a9544fda6674ec6b79f08c6d15bbdfdcc5,498fd8a9544fda6674ec6b79f08c6d15bbdfdcc5,"Making CharacterList optional when creating ContentBlock

Summary:
Background:

Relying on the ContentBlock constructor for record creation means that the user would have to create a valid characterList matching the length of the text passed. It makes sense to simplify the API a bit by allowing the characterList to be optional.

This fixes: https://github.com/facebook/draft-js/issues/1455
Closes https://github.com/facebook/draft-js/pull/1472

Differential Revision: D6211343

fbshipit-source-id: a803e891833474b055aed57c14abb78e927ccf32"
mitermayer,2017-10-31 20:43:19,https://api.github.com/repos/facebook/draft-js/git/commits/c832960631c7bc4b0708a2191935974818517d3d,c832960631c7bc4b0708a2191935974818517d3d,"Refactoring function binding to use arrow functions

Summary:
Run a codemod to remove function binding in favour of arrow functions
Closes https://github.com/facebook/draft-js/pull/1468

Reviewed By: flarnie

Differential Revision: D6195398

Pulled By: flarnie

fbshipit-source-id: 6c2411ee82b948f68fcf7da1047db95d4c84bffc"
mitermayer,2017-10-31 17:06:42,https://api.github.com/repos/facebook/draft-js/git/commits/a928b8809f41d22c6718b3e7343e3918687b60c8,a928b8809f41d22c6718b3e7343e3918687b60c8,"Removing rogue empty object

Summary:
- empty object `{}` was added via old codemod
Closes https://github.com/facebook/draft-js/pull/1466

Reviewed By: flarnie

Differential Revision: D6195403

Pulled By: flarnie

fbshipit-source-id: 28b96ccca0509c16f45597fc4489d1e6ea472060"
mitermayer,2017-10-31 16:36:07,https://api.github.com/repos/facebook/draft-js/git/commits/70ef8802a3124714a2688f38b59c10a570ee632f,70ef8802a3124714a2688f38b59c10a570ee632f,"Removing double mock call

Summary:
- Removing double mock call that was added via old codemod
Closes https://github.com/facebook/draft-js/pull/1465

Reviewed By: flarnie

Differential Revision: D6195400

Pulled By: flarnie

fbshipit-source-id: 0db19d10e1adbb4d300641c08beffbbda4e9cb07"
mitermayer,2017-10-31 16:01:25,https://api.github.com/repos/facebook/draft-js/git/commits/aca0861e6dd10e921a75aabac9ec0206ae61010a,aca0861e6dd10e921a75aabac9ec0206ae61010a,"Removing @typecheck pragma since now we use @flow

Summary:
Flow already provides the type checking that we need.

- Removing typechecks in favor or flow
Closes https://github.com/facebook/draft-js/pull/1462

Reviewed By: flarnie

Differential Revision: D6195407

Pulled By: flarnie

fbshipit-source-id: bcba4bfa2e2c5e446a347b7287916a5b06b6cf30"
MichaReiser,2017-10-31 14:37:07,https://api.github.com/repos/facebook/draft-js/git/commits/4fad2db4e97ded68af62eb9ceccc5a94039afbad,4fad2db4e97ded68af62eb9ceccc5a94039afbad,"Document browser support in README.md

Summary:
**Summary**

Documents the browser support according to #1393
Closes https://github.com/facebook/draft-js/pull/1423

Differential Revision: D6190206

fbshipit-source-id: e646c67db67c5aa5a991fbf46db26d59b3ed16a2"
mitermayer,2017-10-31 05:04:17,https://api.github.com/repos/facebook/draft-js/git/commits/94ba37386d3e2464d204168efab129961a6b3466,94ba37386d3e2464d204168efab129961a6b3466,"Bumping jest dependency

Summary:
Updating jest dependency

- Updating jest and its configuration
Closes https://github.com/facebook/draft-js/pull/1471

Reviewed By: flarnie

Differential Revision: D6188237

Pulled By: flarnie

fbshipit-source-id: 6a6766764fc6f37a842795df3b866e039a094a56"
GordyD,2017-10-27 16:14:51,https://api.github.com/repos/facebook/draft-js/git/commits/dc27624caaaede4dad9d182ff9918a5da8f83c99,dc27624caaaede4dad9d182ff9918a5da8f83c99,"Add list of supported types for ContentBlock for docs

Summary:
This addresses the issue raised in #1051. I've just added a list of the types towards the top of documentation for ContentBlock.
Closes https://github.com/facebook/draft-js/pull/1459

Reviewed By: mitermayer

Differential Revision: D6163067

Pulled By: mitermayer

fbshipit-source-id: 9b8cc9e6da5079b35f2d4ab3caf447048090f052"
mitermayer,2017-10-27 00:58:36,https://api.github.com/repos/facebook/draft-js/git/commits/cd20b992d4b054d70f756c258e5e75e518995e12,cd20b992d4b054d70f756c258e5e75e518995e12,"Setting up prettier

Summary:
This PR enables prettier on draft.js codebase and adds a few more standard eslint rules.

- setting up prettier dependencies
- setting up format command from the `package.json` to enable `yarn run format` or `npm run format`
- setting up eslint configuration file with new rules and with prettier compatibility
- adding old examples to the formatting eslint exclusions (If we care about fixing the new linting rules for them we can do it in a new PR)

cc vjeux
Closes https://github.com/facebook/draft-js/pull/1458

Reviewed By: flarnie

Differential Revision: D6165327

Pulled By: flarnie

fbshipit-source-id: 0f4ad491be7f901e3c12baeecba7a51b73e24ef8"
mitermayer,2017-10-26 16:38:08,https://api.github.com/repos/facebook/draft-js/git/commits/77920e777178ea0570317ea91ea8419920ddf304,77920e777178ea0570317ea91ea8419920ddf304,"This days it makes more sense to also have the ""dev"" task stated on the

Summary:
Its a common practice now for projects to have a devleopment run task, ours at the moment is living inside `gulp` adding a proxy to it on the `package.json` makes it easier to get started enabling:

`yarn run dev` or `npm run dev`
Closes https://github.com/facebook/draft-js/pull/1457

Reviewed By: flarnie

Differential Revision: D6160160

Pulled By: flarnie

fbshipit-source-id: 0a1cce273cb1d217a5d99f653d9e22dff4111b05"
athomann,2017-10-26 00:30:49,https://api.github.com/repos/facebook/draft-js/git/commits/955ca09d6947242ffde2bc6702b08d97377f8deb,955ca09d6947242ffde2bc6702b08d97377f8deb,"Convert string refs to callback refs

Summary:
**Summary**
Convert string refs to callback refs based on React team statements of likely future deprecation of string refs.  https://facebook.github.io/react/docs/more-about-refs.html#the-ref-string-attribute

**Test Plan**
No additional testing needed.
Closes https://github.com/facebook/draft-js/pull/614

Differential Revision: D5964582

fbshipit-source-id: 51415520344a6f50c7b6a7c5e7c168ce94fe12de"
flarnie,2017-10-24 15:59:38,https://api.github.com/repos/facebook/draft-js/git/commits/1ab3dca22250aa03447335848a2b9b178b2d3e40,1ab3dca22250aa03447335848a2b9b178b2d3e40,"0.10.4

Summary: Closes https://github.com/facebook/draft-js/pull/1449

Differential Revision: D6133346

fbshipit-source-id: ded420cbd4d7ce1bdb85425d6151814fc3d2f226"
juliankrispel,2017-10-23 15:00:18,https://api.github.com/repos/facebook/draft-js/git/commits/027f73d15741eeda15b76eea12c1bc0cfb56589b,027f73d15741eeda15b76eea12c1bc0cfb56589b,"docs for autoComplete, autoCorrect and autoCapitalize

Summary:
**Summary**

Documentation for `autoComplete`, `autoCorrect` and `autoCapitalize`

Addresses #1036
Closes https://github.com/facebook/draft-js/pull/1269

Differential Revision: D6120015

fbshipit-source-id: 572c965ec02729bd8d7dd7060aa12230eeb67558"
juliankrispel,2017-10-21 18:48:01,https://api.github.com/repos/facebook/draft-js/git/commits/0c609d9d3671fdbbe2a290ed160a0537f846f08e,0c609d9d3671fdbbe2a290ed160a0537f846f08e,"Update docs - add keyBindingFn prop to list of editor props

Summary:
the `keyBindingFn` prop is missing from the list of Editor Props in the docs, here it is
Closes https://github.com/facebook/draft-js/pull/1249

Differential Revision: D6111817

fbshipit-source-id: f9c059688951a9bbfc3a0d5519a228f197898524"
flarnie,2017-10-18 17:48:51,https://api.github.com/repos/facebook/draft-js/git/commits/d7462373f25ef5fecc64169c6c896193b3747025,d7462373f25ef5fecc64169c6c896193b3747025,"Expose path to Draft.css for usage by CSS pre-processors

Summary:
**what is the change?:**
CREDIT TO darobin for this change, originally made in
https://github.com/facebook/draft-js/pull/566

 ---

Some CSS pre-processors understand node_modules and are able to import without requiring an absolute path. However, without assistance from the module all that they can resolve is its root directory. This leads to import statements like the following:

```
import ""draft-js/dist/Draft.css"";
```

While this works, it requires internal knowledge of the package's layout. This requires digging around and if the layout changes, this breaks.

These pre-processors also recognise a style field in package.json, which is the equivalent of main for CSS. This allows one to import thusly:

```
import ""draft-js"";
```

It's a small change, but it helps!
Closes https://github.com/facebook/draft-js/pull/1442

Differential Revision: D6088534

fbshipit-source-id: fcede534a18620907adfb6a30391b9f722756e8c"
jvaill,2017-10-17 00:50:28,https://api.github.com/repos/facebook/draft-js/git/commits/221b6dc1588eb2c4fa20558ae14cbe61bb570c14,221b6dc1588eb2c4fa20558ae14cbe61bb570c14,"Fix rich text utils backspace not clearing the block type at the start.

Summary:
**Summary**

When backspacing at the start of the first block using rich text utils, the block type should be cleared.

Example of me frantically trying to clear the first block type **without** this PR by pressing backspace at the beginning of the document:

![clear-first-block-type](https://cloud.githubusercontent.com/assets/424704/19821170/d3296d9a-9d11-11e6-990d-e2277bbfb833.gif)

Followed by an example of me clearing the first block type **with** this PR:

![clear-first-block-type-working](https://cloud.githubusercontent.com/assets/424704/19821197/01b4826c-9d12-11e6-853b-32417ec93f10.gif)

**Test Plan**
- Pull master.
- Open the rich text example.
- Create a list.
- Put your cursor at the first offset of the first block, backspace to reset the block type, notice that it doesn't work.
- Pull this branch.
- Open the rich text example.
- Create a list.
- Put your cursor at the first offset of the first block, backspace to reset the block type, rejoice in joy as the list item disappears.
- Celebrate. üéâ
Closes https://github.com/facebook/draft-js/pull/748

Differential Revision: D6065808

fbshipit-source-id: d4b9028e255be1bdf405cf228cfd16c877872c95"
karanjthakkar,2017-10-16 14:53:18,https://api.github.com/repos/facebook/draft-js/git/commits/a8e87eacf813c3aaa882776e68c2493ee2c0dce7,a8e87eacf813c3aaa882776e68c2493ee2c0dce7,"Attempt to fix same charcter selection and replacing bug.

Summary:
_Before_ submitting a pull request, please make sure the following is done...
1. Fork the repo and create your branch from `master`.
2. If you've added code that should be tested, add tests!
3. If you've changed APIs, update the documentation.
4. Ensure that:
   - The test suite passes (`npm test`)
   - Your code lints (`npm run lint`) and passes Flow (`npm run flow`)
   - You have followed the [testing guidelines](https://github.com/facebook/draft-js/wiki/Testing-for-Pull-Requests)
5. If you haven't already, complete the [CLA](https://code.facebook.com/cla).

Please use the simple form below as a guideline for describing your pull request.

Thanks for contributing to Draft.js!

**Summary**

Fixes #398

**Test Plan**

[...]
Closes https://github.com/facebook/draft-js/pull/719

Differential Revision: D6060888

fbshipit-source-id: c56fad0850a469f8f2dbb06bebad78a67750e47a"
steveluscher,2017-10-15 23:50:39,https://api.github.com/repos/facebook/draft-js/git/commits/469e8cf6dd7ff0cdb2e5adc73f88069eb88657e1,469e8cf6dd7ff0cdb2e5adc73f88069eb88657e1,"Revert D6056162: [draft] Highlight invalid text in red

Summary:
This reverts commit r3371761

bypass-lint

Differential Revision: D6056162

fbshipit-source-id: 7d0c49ee5c110c08f751a23e88417dc6c0e5a058"
Lemmih,2017-10-14 22:34:07,https://api.github.com/repos/facebook/draft-js/git/commits/660a8b435c43f666f4cca60d6fa5eb8da1c47e09,660a8b435c43f666f4cca60d6fa5eb8da1c47e09,"Change 'lookUpwardForInlineStyle' from O(n^2) to O(n).

Summary:
**Summary**

The function 'lookUpwardForInlineStyle' repeatedly called 'getPreviousBlock' which has the complexity O(n). This tanks performance when creating a document with lots of empty lines. Simply holding down the enter key will quickly cause the frame rate to drop below 1fps.

The fix is straightforward and, in my opinion, preferable to a while loop.

**Test Plan**

I did some manual testing. The code was able to correctly (and efficiently) find the correct style.
Closes https://github.com/facebook/draft-js/pull/1429

Differential Revision: D6060417

fbshipit-source-id: 8a14af25f776ac5263747e2fc4bbb665884ad970"
haydenbleasel,2017-10-14 17:31:16,https://api.github.com/repos/facebook/draft-js/git/commits/9a4aa9aa9f5c0bbec981395fe0d9f96fccf7c2d5,9a4aa9aa9f5c0bbec981395fe0d9f96fccf7c2d5,"Support React 16

Summary:
PR for #1411
Closes https://github.com/facebook/draft-js/pull/1422

Differential Revision: D6054952

fbshipit-source-id: 0fce5e1df124bfa12531d78b2a2f30b20ba4abe5"
sophiebits,2017-10-13 23:13:23,https://api.github.com/repos/facebook/draft-js/git/commits/ec021e17d598b3fab5a6b80ecf8ede2afec2537b,ec021e17d598b3fab5a6b80ecf8ede2afec2537b,"Highlight invalid text in red

Summary:
Draft is unhappy when text manages to get added outside of the DraftEditorTextNode span. I'd like to highlight that text in red to make it more noticeable so that people might notice what editing patterns trigger it.

I would have liked to do this universally for all Draft inputs (if a certain flag is turned on), but CSS doesn't make this possible: there's no way to style just the text content in a node without styling children, and there's no way to inherit a property from the grandparent element ignoring the parent's styles.

So instead you have to do this manually per editor callsite so that you actually know the correct text color. Those rules will look like:

```
.public/myEditor/root .public/DraftEditor/highlightInvalidText .public/DraftEditor/leaf {
  /* Draft.js errors are shown in red text when in a GK */
  background: red;
  color: white;
}

.public/myEditor/root .public/DraftEditor/leaf .public/DraftEditor/textNode {
  background: white;
  color: black;  /* <-- actual text color */
}
```

Reviewed By: flarnie

Differential Revision: D6056162

fbshipit-source-id: e7f0dfc058535f5666221e4f51ff3d01336e4c0a"
mattkrick,2017-10-10 00:07:58,https://api.github.com/repos/facebook/draft-js/git/commits/808514109c121befc2788bacc7a158fe95630e6f,808514109c121befc2788bacc7a158fe95630e6f,"Support React v16 when editor is focused after removed from DOM

Summary:
**Summary**
- calling `Style.getScrollParent(editorNode)` with `null` will result in an uncaught error
- `Ref#focus()` is often called within a `setTimeout` (even in some example IIRC). `Ref` doesn't get GCd, but the DOM node it points to may no longer exist. Since React v16 is so blazing fast, it's possible that we're trying to focus something that no longer exists.
- Without this bit of code, we'd have to call `findDOMNode` on the ref before calling `focus`. That's not great since putting `findDOMNode` is discouraged in application code.
Closes https://github.com/facebook/draft-js/pull/1409

Differential Revision: D5976879

fbshipit-source-id: f8f63525fdb6e76a111ea72edae1a620505f3e93"
flarnie,2017-10-05 01:25:13,https://api.github.com/repos/facebook/draft-js/git/commits/05881dccd683602f553283be8edab07b29bd706b,05881dccd683602f553283be8edab07b29bd706b,"Update weekly meeting notes from Sept.

Summary:
This doesn't really need a review.
Closes https://github.com/facebook/draft-js/pull/1420

Differential Revision: D5978948

fbshipit-source-id: 9d21960ea6fd28c2216e76c03530de21fcfbb15c"
tleunen,2017-10-04 16:30:27,https://api.github.com/repos/facebook/draft-js/git/commits/c9aaa547e2a6a7efaa82c634218883eecb018c38,c9aaa547e2a6a7efaa82c634218883eecb018c38,"Fix when anchorNode is undefined instead of null

Summary:
Fixes #1399

`nativeSelection.anchorNode` can be undefined instead of null, so I'm changing the condition to handle this use case.
Closes https://github.com/facebook/draft-js/pull/1407

Differential Revision: D5974852

fbshipit-source-id: bb24ba0e3bf041530bdbea555f26e61d2b33022f"
flarnie,2017-10-03 15:12:42,https://api.github.com/repos/facebook/draft-js/git/commits/3e00f4aa34d91b6e48ffd67acf141f3fc92d31df,3e00f4aa34d91b6e48ffd67acf141f3fc92d31df,"Move Enzyme to devDependencies

Summary:
**what is the change?:**
see title

**why make this change?:**
This was mistakenly added to regular dependencies, when we only use it
for testing.

**test plan:**
`rm -rf node_modules && yarn install && yarn build && yarn test`

**issue:**
None open yet, but thanks for JLarky whose comment on
https://github.com/facebook/draft-js/pull/1385#issuecomment-332989959
prompted this.
Closes https://github.com/facebook/draft-js/pull/1415

Differential Revision: D5961436

fbshipit-source-id: bb9c22bf9f29a7cfaea70d2b869b2fb17f31db8c"
flarnie,2017-10-02 23:29:27,https://api.github.com/repos/facebook/draft-js/git/commits/b5d445ec47dba2131f0613549d17e55d85542e64,b5d445ec47dba2131f0613549d17e55d85542e64,"Minor ssr clean up

Summary:
Removed an inaccurate pragma and some outdated copy in the README of this example.
Closes https://github.com/facebook/draft-js/pull/1404

Differential Revision: D5956995

fbshipit-source-id: 497bf70a3f64495095a108232c11d33dd2422059"
eessex,2017-10-02 18:15:17,https://api.github.com/repos/facebook/draft-js/git/commits/8ee0449da8f38aeb24b149aef5b397a12a4cb42a,8ee0449da8f38aeb24b149aef5b397a12a4cb42a,"Right and Left Arrow Event Handling

Summary:
Exposes right and left keyboard events, as suggested in [this issue](https://github.com/facebook/draft-js/issues/219) by hellendag.

This will greatly simplify some of our arrow handling at [Artsy](https://github.com/artsy/positron/blob/master/client/apps/edit/components/content2/sections/text/index.coffee#L121).

The test suite is passing locally.
Closes https://github.com/facebook/draft-js/pull/1384

Differential Revision: D5954003

fbshipit-source-id: 90c3a7d6bb5070c455f56d60ccd64c5ad136fe59"
mattkrick,2017-09-29 19:46:38,https://api.github.com/repos/facebook/draft-js/git/commits/12ff6e3acbb5ab79c6c02879572fa83c999db231,12ff6e3acbb5ab79c6c02879572fa83c999db231,"Fix #1326 Safari can't focus with draggable parent

Summary:
**Summary**

DraftEditors that lived inside draggable parents were useless in Safari. Now they work.
Solution found here: https://github.com/react-dnd/react-dnd/issues/178#issuecomment-192021227

**Test Plan**

Use the fiddle in #1326 with the updated version.
For a quick n dirty, just add this to the stylesheet:
`div[contenteditable=""true""] { user-select: text;}`
Closes https://github.com/facebook/draft-js/pull/1356

Differential Revision: D5901625

fbshipit-source-id: 7d3797286e4040575b9b5503c776bff1e29b67a9"
flarnie,2017-09-28 21:41:32,https://api.github.com/repos/facebook/draft-js/git/commits/a29819dd3adb34e4bbd9fa087719cfbee37e0096,a29819dd3adb34e4bbd9fa087719cfbee37e0096,"0.10.3

Summary:
React 16 is out! Lets gogogo~

![go_time](https://user-images.githubusercontent.com/1114467/30974583-d4a32d3a-a424-11e7-9ef0-76d0dd5efde8.jpg)
Closes https://github.com/facebook/draft-js/pull/1414

Differential Revision: D5932258

fbshipit-source-id: 3fdfe19f65e7f970c9cf89b495e08671b48de4f5"
nikgraf,2017-09-25 14:54:29,https://api.github.com/repos/facebook/draft-js/git/commits/baa536e99917c1b47eb57d37d4089a5dd92803cc,baa536e99917c1b47eb57d37d4089a5dd92803cc,"allow for React 16 as peerDependency

Summary:
**Summary**

As Sophie suggested adding React 16 RC helps to avoid peerDep warnings. see https://twitter.com/sophiebits/status/906661088472813568
Closes https://github.com/facebook/draft-js/pull/1385

Differential Revision: D5898819

fbshipit-source-id: 56dc61046d9fc5af1074af8eda7c45b57923573d"
flarnie,2017-09-23 16:46:31,https://api.github.com/repos/facebook/draft-js/git/commits/f1997e727bf9fdbb63d0b890bb34e5755388f972,f1997e727bf9fdbb63d0b890bb34e5755388f972,"Fix require statements in new JS test

Summary:
Internally we have different paths to get at Draft modules. Going to open some
issues to follow up on Github so that we don't run into this again.

Reviewed By: ericvicenti

Differential Revision: D5893809

fbshipit-source-id: 2725251fa7ca380f2065cfbcd640a4af0464ac4f"
flarnie,2017-09-22 20:50:47,https://api.github.com/repos/facebook/draft-js/git/commits/8f0769c3f9a42e92e2589a3850c9491c66f08ad9,8f0769c3f9a42e92e2589a3850c9491c66f08ad9,"Force update of `fbjs` to get fix for #14, #1381

Summary:
**what is the change?:**
Pin the `fbjs` dependency version to 0.8.15 or later.

**why make this change?:**
We need to get everyone updated to use the fixed version, to avoid a
scroll issue in Chrome 61+
See https://github.com/facebook/fbjs/pull/229

**test plan:**
Didn't test because we already are using this fix internally at FB.

**issue:**
fixes #1381
Closes https://github.com/facebook/draft-js/pull/1401

Differential Revision: D5892624

fbshipit-source-id: 6839e647b6ba0fb99d6ec118748cdeac808cbcdb"
southerncross,2017-09-22 14:31:00,https://api.github.com/repos/facebook/draft-js/git/commits/3da87b518fa090da1c30b866914fe06586bb97a2,3da87b518fa090da1c30b866914fe06586bb97a2,"Add default value for blockRenderMap

Summary:
**Summary**

PR for issue 1211
https://github.com/facebook/draft-js/issues/1211

**Test Plan**

<s>no need</s>
**Edit by Flarnie:** added unit test
Closes https://github.com/facebook/draft-js/pull/1302

Reviewed By: zpao

Differential Revision: D5881334

Pulled By: zpao

fbshipit-source-id: b8d57b23a1654fe9cdcf84b74b25617413ef6248"
jackyho112,2017-09-20 18:36:04,https://api.github.com/repos/facebook/draft-js/git/commits/5fa2554ea58dd102add3ccc2a83d636eccb18b91,5fa2554ea58dd102add3ccc2a83d636eccb18b91,"Remove duplicate block map set expression in insertFragmentIntoContentState

Summary:
**Summary**

For https://github.com/facebook/draft-js/issues/1339. I got some time and this issue has not been dealt with for a while, so I figure I made a PR.

`blockMap.set` is called twice in `insertFragmentIntoContentState.js` with the same params. This PR removes the duplicate.

**Test Plan**

Make sure all the tests for `insertFragmentIntoContentState.js` pass.

flarnie
Let me know if there is any improvement needed! üòÑ
Closes https://github.com/facebook/draft-js/pull/1366

Differential Revision: D5871961

fbshipit-source-id: 677cf7cdb766b6a0835a6cddfab45657837dfc61"
flarnie,2017-09-18 10:28:51,https://api.github.com/repos/facebook/draft-js/git/commits/ab24d6b097dd8683862e523e2fc768aaeb7ee53b,ab24d6b097dd8683862e523e2fc768aaeb7ee53b,"0.10.2

Summary:
‚ú®üõ´‚úàÔ∏è
I completed the manual test plan, and feel pretty confident in this release since it's been in sync with FB for weeks. :)
Closes https://github.com/facebook/draft-js/pull/1390

Differential Revision: D5851723

fbshipit-source-id: 5ea76a56f8405ea5566ba6303a83d409c7c4dde4"
flarnie,2017-09-18 01:50:17,https://api.github.com/repos/facebook/draft-js/git/commits/52095d6f6c703d7a007834148e5919dec5cb04b1,52095d6f6c703d7a007834148e5919dec5cb04b1,"Update changelog for 0.10.2

Summary:
My last attempt at doing the 0.10.2 release was delayed due to finding a bug which we fixed and CI failing on Github.

Let's try again. The Changelog as mostly reviewed already in https://github.com/facebook/draft-js/pull/1376 by sophiebits so I will probably just merge this once I verify it has no typos.
Closes https://github.com/facebook/draft-js/pull/1388

Differential Revision: D5851528

fbshipit-source-id: 991c66d55a1b2ed9d95dccc336ece0364dd7d1b6"
sophiebits,2017-09-15 01:30:46,https://api.github.com/repos/facebook/draft-js/git/commits/19b9b1c5007bcb3a4111ea31f8d9a8cda629a1ff,19b9b1c5007bcb3a4111ea31f8d9a8cda629a1ff,"Remove draft_accept_selection_after_refocus flag

Summary: Don't need this any more. Chrome 60 is out.

Reviewed By: zpao

Differential Revision: D5674557

fbshipit-source-id: 878f620f6e91aa1271d13ffa644cd47540b21e76"
flarnie,2017-09-14 04:23:40,https://api.github.com/repos/facebook/draft-js/git/commits/2cc61e1f8b99a1ccd1b0c9a1e82f1f99ac8e916c,2cc61e1f8b99a1ccd1b0c9a1e82f1f99ac8e916c,"Update weekly meeting notes

Summary:
Adding notes from the past two meetings. Doesn't really need reviewed.
Closes https://github.com/facebook/draft-js/pull/1372

Differential Revision: D5828179

fbshipit-source-id: 65f9fa4fd82e278202fa37afd8693bd73bfa48e7"
aadsm,2017-09-12 17:06:53,https://api.github.com/repos/facebook/draft-js/git/commits/d9225a29220239c431c632c6545b80f6c0901b72,d9225a29220239c431c632c6545b80f6c0901b72,"Add EditorState Race Conditions documentation

Summary:
**Summary**
This new documentation page is under ""Advanced Topics"" and between ""Text Direction"" and ""Issues and Pitfalls"".
It documents the ways to have race conditions based on consecutive EditorState updates and best practices to avoid this issue.
This was motivated by issue #318.

It also updates the CSS to make all images' width to 650px which is the width of the right column content, hope that's fine. (this version of markdown (Marked) doesn't allow to set the image width).

**Test Plan**
Go to /docs/advanced-topics-editorstate-race-conditions.html and check the page loads.

Screenshot:
![localhost-8080-docs-advanced-topics-editorstate-race-conditions html](https://user-images.githubusercontent.com/78122/30224834-1b445976-9485-11e7-9387-d74c55f00621.png)
Closes https://github.com/facebook/draft-js/pull/1371

Differential Revision: D5814889

fbshipit-source-id: 4faee30e456f335d07e2fcc98169c242e6228a29"
aadsm,2017-09-12 00:43:56,https://api.github.com/repos/facebook/draft-js/git/commits/1ea57ab0b1a7e70f8f6211f96958e3bb74f2663a,1ea57ab0b1a7e70f8f6211f96958e3bb74f2663a,"Update callbacks reference to include the EditorState

Summary:
**Summary**
These 4 `Editor`'s properties: `handleReturn`, `handleKeyCommand`, `handleBeforeInput` and `handlePastedText` now also pass the latest editor state.

This is a follow up on #1371.

**Test Plan**
Go to `/docs/api-reference-editor.html#cancelable-handlers-optional` and check the method's signatures include the editorState.
Screenshot:
<img width=""677"" alt=""screen shot 2017-09-08 at 11 07 23 am"" src=""https://user-images.githubusercontent.com/78122/30225168-55aab596-9486-11e7-82e6-ee3d6ce9c79d.png"">
Closes https://github.com/facebook/draft-js/pull/1374

Reviewed By: sophiebits

Differential Revision: D5804964

Pulled By: sophiebits

fbshipit-source-id: 29a03e8b0e0af419eebbf11a01bfa7145407311c"
flarnie,2017-09-11 21:14:04,https://api.github.com/repos/facebook/draft-js/git/commits/95f7f9b4c874535db4b21105a5ae2b085b27231b,95f7f9b4c874535db4b21105a5ae2b085b27231b,"Make default text content of img blocks a little camera emoji

Summary:
**what is the change?:**
We don't allow pasting whitespace-only blocks - see https://github.com/facebook/draft-js/issues/231

In the past we set the 'src' as the text content of an 'img' block when
pasting/converting HTML, but sometimes the 'src' is really long and can
even crash the editor. Plus that's not really what users expect when
they paste an image.

An empty string as a default would be better but the code in
`convertFromHTML` needs refactored and for now I don't want to touch it.
The camera emoji is a cute and easy fix.

**why make this change?:**
Right now images are being dropped by `convertFromHTML

**test plan:**
Manual testing with examples/draft-0-10-0/convertFromHTML/convert.html

We should do a follow-up change to add a test that catches this.

**issue:**
https://github.com/facebook/draft-js/issues/1377

*Before* submitting a pull request, please make sure the following is done...

1. Fork the repo and create your branch from `master`.
2. If you've added code that should be tested, add tests!
3. If you've changed APIs, update the documentation.
4. Ensure that:
  * The test suite passes (`npm test`)
  * Your code lints (`npm run lint`) and passes Flow (`npm run flow`)
  * You have followed the [testing guidelines](https://github.com/facebook/draft-js/wiki/Testing-for-Pull-Requests)
5. If you haven't already, complete the [CLA](https://code.facebook.com/cla).

Please use the simple form below as a guideline for describing your pull request.

Thanks for contributing to Draft.js!

-

**Summary**

[...]

**Test Plan**

[...]
Closes https://github.com/facebook/draft-js/pull/1378

Differential Revision: D5804382

fbshipit-source-id: f465a1a92155b02c5650acb9622e27e4e3714492"
sophiebits,2017-09-11 15:00:31,https://api.github.com/repos/facebook/draft-js/git/commits/d49eb13fbe8d6fde6406736e9c2162864234b80c,d49eb13fbe8d6fde6406736e9c2162864234b80c,"Improve Firefox logging a little more

Summary:
As title. `message` was an empty string but stringifying an NS_ERROR_FAILURE gives a result more like

```
[Exception... ""Failure"" nsresult: ""0x80004005 (NS_ERROR_FAILURE)"" location: ""JS frame :: wuxoyuzore.js :: <TOP_LEVEL> :: line 23"" data: no]
```

Reviewed By: flarnie

Differential Revision: D5802539

fbshipit-source-id: 197c08cc37ab9e1f873ddc734a00231570d1cbd0"
flarnie,2017-09-11 14:49:43,https://api.github.com/repos/facebook/draft-js/git/commits/3754b9be461081660089c852eea660c103943ac5,3754b9be461081660089c852eea660c103943ac5,"Add hook in travis to notify FB people when they break CI

Summary:
**what is the change?:**
Add a hook similar to https://github.com/facebook/relay/commit/a1eff1a49aa511426c09c481e942256c751c9281

**why make this change?:**
We want people who sync commits out from FB to be notified (and maybe
stopped?) if their change breaks CI on Github.

**test plan:**
Do it live

**issue:**
Follow up of https://github.com/facebook/draft-js/issues/1364
Closes https://github.com/facebook/draft-js/pull/1373

Differential Revision: D5802523

fbshipit-source-id: 795c29d865c6f0b36a89bb099c7092c9a96d56fd"
sophiebits,2017-09-09 23:24:09,https://api.github.com/repos/facebook/draft-js/git/commits/82823124c665dba4d65f8c48356740aa8307dae6,82823124c665dba4d65f8c48356740aa8307dae6,"Add more logging for Firefox bug

Summary:
This will output something more like:

```
{
  ""anonymizedDom"": ""<div class=\""notranslate -cx-PUBLIC-DraftEditor__content\"" contenteditable=\""true\"" role=\""textbox\"" spellcheck=\""true\"" style=\""outline: none; white-space: pre-wrap; word-wrap: break-word;\"" data-labels=\""active element\""><div data-contents=\""true\""><div class=\""\"" data-block=\""true\"" data-editor=\""a8a8m\"" data-offset-key=\""c4805-0-0\""><div data-offset-key=\""c4805-0-0\"" class=\""-cx-PUBLIC-DraftStyleDefault__block -cx-PUBLIC-DraftStyleDefault__ltr\""><span data-offset-key=\""c4805-0-0\""><span data-text=\""true\"">[text 722 | selection anchor node, selection focus node]</span></span></div></div></div></div>"",
  ""extraParams"": ""{\n  \""activeElementName\"": \""DIV\"",\n  \""selectionRangeCount\"": 1,\n  \""selectionAnchorNodeName\"": \""#text\"",\n  \""selectionAnchorOffset\"": 0,\n  \""selectionFocusNodeName\"": \""#text\"",\n  \""selectionFocusOffset\"": 0,\n  \""message\"": null,\n  \""offset\"": 0\n}"",
  ""selectionState"": ""{\n  \""anchorKey\"": \""c4805\"",\n  \""anchorOffset\"": 0,\n  \""focusKey\"": \""c4805\"",\n  \""focusOffset\"": 0,\n  \""isBackward\"": false,\n  \""hasFocus\"": true\n}""
}
```

Note the `data-labels=""active element""` and the `| selection anchor node, selection focus node` in the anonymized DOM, and all the extra properties in extraParams.

This should help us debug getting `NS_ERROR_FAILURE` in Firefox when calling selection.extend().

Reviewed By: flarnie

Differential Revision: D5801650

fbshipit-source-id: f270b4507ee0110ea59211ff05528dbeeda878a3"
aadsm,2017-09-09 23:22:59,https://api.github.com/repos/facebook/draft-js/git/commits/5dc8debe0b9bd0971c55fa82d038c52b6947636d,5dc8debe0b9bd0971c55fa82d038c52b6947636d,"Fix website's rich text editor example

Summary:
**Summary**
PR #1346 broke the example as it didn't update all the code needed for handleKeyCommand to correctly pass the editorState.

This change mirrors the same change applied to rich.html.

**Test Plan**
Go to the website's main page `/index.html`, write text on the editor and try to delete it, it should work as expected.
Closes https://github.com/facebook/draft-js/pull/1375

Differential Revision: D5800218

fbshipit-source-id: 3b24afcda75ead7c2854cd1236a3fba956c34768"
jackyho112,2017-09-09 23:18:24,https://api.github.com/repos/facebook/draft-js/git/commits/163f8bc35a8a0bf702f118b2a1c1f7d4c109adac,163f8bc35a8a0bf702f118b2a1c1f7d4c109adac,"Fix video component style issues in media example

Summary:
Fix two style issues on the `video` component in the media example on Firefox and maybe Safari(I could not reproduce it there) by setting its `white-space` css property to 'initial' from 'pre-wrap' inherited from the `.public-DraftEditor-content` div's inline styles.

For more information on the style issues, see https://github.com/facebook/draft-js/issues/1310.

Open `media.html` in the `media` folder in Safari and Firefox and check if the above-mentioned issues still appear.

Let me know if there is anything else I can improve on this PR. Thanks!
Closes https://github.com/facebook/draft-js/pull/1317

Differential Revision: D5751265

fbshipit-source-id: b5d690f94109d1e9e4721996e8b6b324f9735d4b"
sophiebits,2017-09-08 18:47:31,https://api.github.com/repos/facebook/draft-js/git/commits/685e4cdf7f105dccd62469a4a9088740ad0131a7,685e4cdf7f105dccd62469a4a9088740ad0131a7,"Fix comment in DraftEditor::focus

Reviewed By: zpao

Differential Revision: D5759850

fbshipit-source-id: 7928831b715b6b1de8a11d2f8ffb2df04c23f3ec"
aadsm,2017-09-08 15:58:47,https://api.github.com/repos/facebook/draft-js/git/commits/fefe40ab4d754b13650b36ba7addb2275a4c5513,fefe40ab4d754b13650b36ba7addb2275a4c5513,"Update handleKeyCommand examples and docs

Summary:
**Summary**
handleKeyCommand receives a second parameter with the latest instance of the editor state. When this function needs the editor state it should use this instance instead of any other reference.

This update reflects a change made to handleKeyCommand to also receive the editor state. Since it can be potentially changed by Draft during key handling any previous references might be of an old version of the state.

**Test Plan**
Loaded `examples/draft-0-10-0/{media/media.html, rich/rich.html, tex/}` in the browser and verified the text input worked as expected and in particular that we could delete deadkeys like `.
Closes https://github.com/facebook/draft-js/pull/1346

Differential Revision: D5751246

fbshipit-source-id: 63ac45facd21c0c87de983ebfbcf109ae0e486c9"
flarnie,2017-09-07 23:14:21,https://api.github.com/repos/facebook/draft-js/git/commits/eeb71f99c2d687b2094c7f43cc5989e8942e28dd,eeb71f99c2d687b2094c7f43cc5989e8942e28dd,"Update flow and eslint-plugin-react, fix lints

Summary:
**what is the change?:**
CI was failing because our version of flow was out of date, and changes
pulled from within FB had added lints and inconsistencies.

**why make this change?:**
To get CI passing so it will provide signal for PRs.

**test plan:**
`yarn test && yarn lint && flow src`

**issue:**
None, but flagged in PR https://github.com/facebook/draft-js/pull/1346
Closes https://github.com/facebook/draft-js/pull/1349

Differential Revision: D5746215

fbshipit-source-id: c6536f78cfd5bbc6d941312882dec967e693512e"
bumbu,2017-09-07 23:10:56,https://api.github.com/repos/facebook/draft-js/git/commits/e8d101121fb9dd9203a46d899124a7be4b0b2936,e8d101121fb9dd9203a46d899124a7be4b0b2936,"Preserve block style when pasting plain text

Summary:
Preserve block style when pasting plain text. That would allow pasting into code blocks and lists and applying respective styles to new blocks.
That should work for any type of block: code, list, quote, heading...

Probably related github issues:

  - https://github.com/facebook/draft-js/issues/1276
  - https://github.com/facebook/draft-js/issues/1219

Reviewed By: sophiebits

Differential Revision: D5786405

fbshipit-source-id: 3c6d074b0c3fe200761164ec6c5ccf1a82df5072"
flarnie,2017-09-07 20:38:28,https://api.github.com/repos/facebook/draft-js/git/commits/81b1884311c27b801dddab12499e7e04df7137d7,81b1884311c27b801dddab12499e7e04df7137d7,"Fix ship-it

We made an internal commit at FB to rename some files, but it should not
be mirrored out to the repository here. We need to set up a shim commit
here pointing to the diff revision # and ship-it id etc. so that ship-it
knows what to sync against.

Reviewed By: poshannessy

Differential Revision: D5754963

fbshipit-source-id: b726504c86f1f815518f65178afd4fa5d40f4f8b"
aadsm,2017-09-01 18:37:51,https://api.github.com/repos/facebook/draft-js/git/commits/0b22d713d556ccc4820850099ad6231493b3f7aa,0b22d713d556ccc4820850099ad6231493b3f7aa,"Stop setting the url src as the textContent of the img

Summary:
WARNING: This diff introduces a **BREAKING change** from current Draft: when you paste an image it will no longer render the url of the image (it renders nothing).

= Main Issue =
This diff addresses the issue raised on https://github.com/facebook/draft-js/issues/1101

tl;dr of this issue is that by setting the url src as the textContent it creates a significant delay in parsing data: urls since they can easily be ~60KB. This happens because the content of the img will be parsed by draft and for each character there will be an entity reference and entity style entry.

= Solutions =
In the comments of the issue 2 solutions were proposed:
1) Ignore data: urls from being parsed from HTML.
2) Stop setting the textContent of the img node when parsing HTML.

In this diff I'm going with solution **2)** becase as flarnie points out in her comment, support to parse img tags was added with the decorator usecase in mind (and ignoring data: urls would make a decorator not render in this case), also, as an example, quip doesn't render anything when an image is pasted so we think this behaviour is reasonable.

The main downside of this approach is the introduction of a breaking change in the framework, but I think it's acceptable and I'm not expecting any big issue because of this (please correct me if I'm wrong).

= Implementation =
Ideally I wouldn't set anything on textContent but I'm forced too because otherwise Draft won't create an entity for it. Entity creation is only done if the current node being parsed has children, otherwise skipped: diffusion/E/browse/tfb/trunk/www/html/shared/draft-js/model/encoding/convertFromHTMLToContentBlocks.js;3261725$483.
My current solution is to set it to a single space, looks a bit clowny though.

Is the children restriction something we might want to change? The only use case I can see though is when we want to create entities just for decorators to act upon (which is this case).

= A Tale of Two URI implementations =
While fixing and testing I noticed that on our internal version of Draft it crashes when you try to paste a data url.
I looked into it and found that internally we have a version of URI that has plenty of checks: diffusion/E/browse/tfb/trunk/www/html/shared/core/URIBase.js;3262904$242 and it fails because `data:` is not an allowed protocol: diffusion/E/browse/tfb/trunk/www/html/shared/core/URISchemes.js;3263158$11. While on our public version we have a shim based implementation: https://github.com/facebook/fbjs/blob/master/packages/fbjs/src/__forks__/URI.js.

I'm not expecting pasting data urls to be a common behaviour so not a big deal but we do use URI to check other src attributes in HTML. I recommend to add 'data' to the list of supported protocols. Any reason not to?

Is there any chance we could open source our version of URI? It's tricky testing Draft if we have two different implementations for this.

= Breaking Change =
Any advice on how to deal with this?
The CRMComposer tests explicitly tested the URL rendering, adding tylercraft to the diff to make sure this is fine.

Reviewed By: flarnie

Differential Revision: D5733880

fbshipit-source-id: 2825a083d261b55e469fd73d23257778a13d609e"
calebmer,2017-08-17 10:26:01,https://api.github.com/repos/facebook/draft-js/git/commits/0a895226c417dac43c41950be6129e667cab2755,0a895226c417dac43c41950be6129e667cab2755,"Re-enable Flow at v0.53.0 and add suppression comments

Summary:
bypass-lint
ignore-conflict-markers
ignore-signed-source
ignore-nocommit

Reviewed By: avikchaudhuri

Differential Revision: D5648778

fbshipit-source-id: 761a88c93407823e30c8cb163cd308027ae0ede8"
calebmer,2017-08-17 08:10:56,https://api.github.com/repos/facebook/draft-js/git/commits/131a4a7a99b3fa9d62ad7e1dba1fe94648d44563,131a4a7a99b3fa9d62ad7e1dba1fe94648d44563,"Flow v0.53.0 Codemod #10

Summary:
bypass-lint
ignore-conflict-markers
ignore-signed-source
ignore-nocommit

Reviewed By: avikchaudhuri

fbshipit-source-id: a53fe60193b4059d73249199877cf5b8afc61aa4"
calebmer,2017-08-17 08:04:30,https://api.github.com/repos/facebook/draft-js/git/commits/897f7272219977ddee80fb068428fdb153540e9f,897f7272219977ddee80fb068428fdb153540e9f,"Flow v0.53.0 Codemod #9

Summary:
bypass-lint
ignore-conflict-markers
ignore-signed-source
ignore-nocommit

Reviewed By: avikchaudhuri

fbshipit-source-id: 66be84ebf50021cffa01f525f8cfb55ea3caf175"
calebmer,2017-08-17 07:58:43,https://api.github.com/repos/facebook/draft-js/git/commits/e1d3f7657f053fedf3d29346d3a4de81399b068b,e1d3f7657f053fedf3d29346d3a4de81399b068b,"Flow v0.53.0 Codemod #8

Summary:
bypass-lint
ignore-conflict-markers
ignore-signed-source
ignore-nocommit

Reviewed By: avikchaudhuri

fbshipit-source-id: ce6ef0603e85b0bf373e64b77b9c95e55ceaf88c"
calebmer,2017-08-17 07:54:02,https://api.github.com/repos/facebook/draft-js/git/commits/4a89df4eca5749823bd2942906a5f988a8d51c32,4a89df4eca5749823bd2942906a5f988a8d51c32,"Flow v0.53.0 Codemod #7

Summary:
bypass-lint
ignore-conflict-markers
ignore-signed-source
ignore-nocommit

Reviewed By: avikchaudhuri

fbshipit-source-id: e22a0038b5bf3a64bb3382fdef757c241cc4c39a"
calebmer,2017-08-17 07:48:37,https://api.github.com/repos/facebook/draft-js/git/commits/9d40ffb60dbdac56d5cbadf2e2c1d198dc764dfd,9d40ffb60dbdac56d5cbadf2e2c1d198dc764dfd,"Flow v0.53.0 Codemod #6

Summary:
bypass-lint
ignore-conflict-markers
ignore-signed-source
ignore-nocommit

Reviewed By: avikchaudhuri

fbshipit-source-id: b7e824f7fd36a51d790d21a62717a666b1e2dd2a"
calebmer,2017-08-17 07:43:29,https://api.github.com/repos/facebook/draft-js/git/commits/1c99ad7cab7f9a69239ddffc03f64a90921dbc23,1c99ad7cab7f9a69239ddffc03f64a90921dbc23,"Flow v0.53 Codemod #5

Summary:
bypass-lint
ignore-conflict-markers
ignore-signed-source
ignore-nocommit

Reviewed By: avikchaudhuri

fbshipit-source-id: d9b032d51619f9827e819d08198ce6a2aeae0fc5"
calebmer,2017-08-17 07:37:02,https://api.github.com/repos/facebook/draft-js/git/commits/5e74b822f92a6c0851564f616a7a1f9585c09dd4,5e74b822f92a6c0851564f616a7a1f9585c09dd4,"Flow v0.53.0 Codemod #4

Summary:
bypass-lint
ignore-conflict-markers
ignore-signed-source
ignore-nocommit

Reviewed By: avikchaudhuri

fbshipit-source-id: c2bd6183ed95176f1331b2d834c607cb276f1255"
calebmer,2017-08-17 07:30:02,https://api.github.com/repos/facebook/draft-js/git/commits/6d584d4a7bb047a7719e2fe7077976935e26065e,6d584d4a7bb047a7719e2fe7077976935e26065e,"Flow v0.53.0 Codemod #3

Summary:
bypass-lint
ignore-conflict-markers
ignore-signed-source
ignore-nocommit

Reviewed By: avikchaudhuri

fbshipit-source-id: a37b2d6dbd09b90a1407f732001abb7aef21de79"
calebmer,2017-08-17 07:23:36,https://api.github.com/repos/facebook/draft-js/git/commits/a8560841a6acf047d130cb649732bcc81ee73d2b,a8560841a6acf047d130cb649732bcc81ee73d2b,"Flow v0.53 Codemod #2

Summary:
bypass-lint
ignore-conflict-markers
ignore-signed-source
ignore-nocommit

Reviewed By: avikchaudhuri

fbshipit-source-id: e1204d44d8feec0c26d16a33bdfbdcb20497f6e9"
calebmer,2017-08-17 07:18:16,https://api.github.com/repos/facebook/draft-js/git/commits/8ab82e7cef396128864bda3d78924ae162692c96,8ab82e7cef396128864bda3d78924ae162692c96,"Flow v0.53 Codemod #1

Summary:
bypass-lint
ignore-conflict-markers
ignore-signed-source
ignore-nocommit

Reviewed By: avikchaudhuri

fbshipit-source-id: 7aec3d925c8b0c4d9b45c372d99ab67179ad2ece"
flarnie,2017-08-13 18:29:21,https://api.github.com/repos/facebook/draft-js/git/commits/00f2cbd1ac51e98c29917bd70a1038f8d7ee4bdc,00f2cbd1ac51e98c29917bd70a1038f8d7ee4bdc,"Add weekly meeting notes from Aug. 4, Aug. 11th

Summary:
just updating meeting docs, doesn't really need review.
Closes https://github.com/facebook/draft-js/pull/1335

Differential Revision: D5619881

fbshipit-source-id: 7508687bcc69a8a5e9c4c6aea5d87ce276083f70"
sophiebits,2017-08-11 21:35:55,https://api.github.com/repos/facebook/draft-js/git/commits/96688e10b22a778c76e03009da4b9f3d05eba5f7,96688e10b22a778c76e03009da4b9f3d05eba5f7,"Cautious range removal on blur without feature flag

Summary: Fixes https://github.com/facebook/draft-js/issues/1188. Closes https://github.com/facebook/draft-js/pull/1190.

Reviewed By: flarnie

Differential Revision: D5614905

fbshipit-source-id: 5d18d96e279b360cfa47b9156fc85e93424d33b5"
flarnie,2017-08-09 22:36:44,https://api.github.com/repos/facebook/draft-js/git/commits/9a55eef67c7c819ecea377a4c95ca8b1bf0e5b56,9a55eef67c7c819ecea377a4c95ca8b1bf0e5b56,"Remove webkit check on 'clearRanges' hack

Summary:
The issue where a range is not cleared was showing up across all browsers, so
we removed the 'webkit' check and clarified the comment.

Related to https://github.com/facebook/draft-js/pull/1190

Reviewed By: spicyj

Differential Revision: D5580833

fbshipit-source-id: 3949d036654597c77adb6247310f3c6b8d364702"
sophiebits,2017-08-07 23:34:00,https://api.github.com/repos/facebook/draft-js/git/commits/036e3a848e3593c97f4c3011e1ddc045e128a7af,036e3a848e3593c97f4c3011e1ddc045e128a7af,"More caution when removing all ranges in blur handler

Summary:
Now we only do it if the current selection is still in the wrong element..

Should mitigate https://github.com/facebook/draft-js/pull/1190.

Reviewed By: flarnie

Differential Revision: D5570526

fbshipit-source-id: 0b5b88542993773d71db0fffeb09c1b5c65c627e"
jessebeach,2017-08-03 21:24:52,https://api.github.com/repos/facebook/draft-js/git/commits/744e9b4eb4810797a93c66591fea6f9cac533b4b,744e9b4eb4810797a93c66591fea6f9cac533b4b,"aria-haspop indicates popup menus. It is not needed here

Summary: `aria-haspopup` is used to indicate ""popup button""; buttons that, when pressed, show a little menu of options. It's not meant to indicate any element that has a dialog associated with it. In the case of draft.js, the `aria-expanded` attribute is used to indicate that the input has a dropdown with options.

Reviewed By: spicyj

Differential Revision: D5550366

fbshipit-source-id: 90249146a7f69f538ab2177842ee925825238ccb"
jessebeach,2017-08-01 18:18:04,https://api.github.com/repos/facebook/draft-js/git/commits/7f0cab28386ec4bde8ec6289377bff9e53cd019b,7f0cab28386ec4bde8ec6289377bff9e53cd019b,"Change aria-owns to aria-controls in draft.js

Summary:
'aria-owns' creates a parent-child relationship between the owner and ownee in the AX Tree. We really don't want the typeahead dialog to be a child of the input.

`aria-controls` sets up a controller-controllee relationship. This is the correct relationship for the input and its typeahead dialog.

**This is a breaking API change.**

Reviewed By: flarnie

Differential Revision: D5476399

fbshipit-source-id: fe69255351dcd173e08de1aa21d8ee0a6728b68d"
flarnie,2017-07-29 17:52:17,https://api.github.com/repos/facebook/draft-js/git/commits/f983cd86f07a925aa3cdf271178d3deb693e4f29,f983cd86f07a925aa3cdf271178d3deb693e4f29,"Add weekly meeting notes

Summary:
just keeping things up to date~
Closes https://github.com/facebook/draft-js/pull/1313

Differential Revision: D5524500

fbshipit-source-id: f1aec9bac05fc015184ba4ca2ff6b191b4a08a07"
flarnie,2017-07-28 19:06:56,https://api.github.com/repos/facebook/draft-js/git/commits/1dd67d69aa4e2ea5431cfcb6967d759168338ae1,1dd67d69aa4e2ea5431cfcb6967d759168338ae1,"Add weekly meeting notes from 7/21/2017

Summary:
Hopefully this helps folks in the community track what is happening with Draft.js.
ÔøΩ‚öΩüí®
Closes https://github.com/facebook/draft-js/pull/1300

Differential Revision: D5518792

fbshipit-source-id: 14784052c6344d5b226b2abe2f7f70652251cacd"
jessebeach,2017-07-28 02:05:35,https://api.github.com/repos/facebook/draft-js/git/commits/3494d45d32b64d6e82e4b3e8fcade6a2b5c6bd46,3494d45d32b64d6e82e4b3e8fcade6a2b5c6bd46,"aria-haspopup and aria-expanded are null if role is textbox

Summary: `aria-haspopup` and `aria-expanded` should not be present (not even with a false value), when the role of the editor is not combobox.  Having these attributes present causes a screen reader to announce that the element is expandable.

Reviewed By: spicyj

Differential Revision: D5475018

fbshipit-source-id: bb5067619f8728503baaed4ef963860ddaa8a070"
juliankrispel,2017-07-22 19:41:15,https://api.github.com/repos/facebook/draft-js/git/commits/eb79fb02e70cc0fba4637d9f3394e0dee06f9ff3,eb79fb02e70cc0fba4637d9f3394e0dee06f9ff3,"Corrected documentation typo, example code throws an error.

Summary:
**Summary**

`this.props` throws an exception. Because we don't have component state available at that point. It's pretty obvious but still, it can be a little confusing.

**Test Plan**

- n/a
Closes https://github.com/facebook/draft-js/pull/1238

Differential Revision: D5477594

fbshipit-source-id: ec2169666d3134595acbcb69902fd2ea4b6ae3b0"
kedromelon,2017-07-22 17:31:35,https://api.github.com/repos/facebook/draft-js/git/commits/643c388de646945af3aecb4a362016a8103ade11,643c388de646945af3aecb4a362016a8103ade11,"Clarify comment above `tryToRemoveBlockStyle`

Summary:
I found the comment above `RichUtils.tryToRemoveBlockStyle` a bit confusing while trying to understand the function's logic.

I would argue that the current comment's inclusion of information about where it is used is unnecessary, and makes it seem as if its interaction with those key commands was implemented inside the function itself.
Closes https://github.com/facebook/draft-js/pull/1135

Differential Revision: D5477479

fbshipit-source-id: a8cee503bf5459c63ac58504f5c112a1a249b64a"
jessebeach,2017-07-22 00:33:58,https://api.github.com/repos/facebook/draft-js/git/commits/33e1167927798eac8623830d73190fc30e4f6d47,33e1167927798eac8623830d73190fc30e4f6d47,"Add aria-multiline attr to DraftEditor

Summary:
`aria-multiline` is used to indicate to assistive technology agents that a textbox is a multiline textbox. When `aria-multiline` is true, an AT should treat return key presses as carriage returns, not submit actions.

https://www.w3.org/TR/wai-aria-1.1/#aria-multiline

teeeeeeeested: `npm run test && npm run lint && npm run flow`
Closes https://github.com/facebook/draft-js/pull/1295

Differential Revision: D5464455

fbshipit-source-id: e0033db62f4b0529875ee77fe5b0635222b16af4"
flarnie,2017-07-20 17:47:28,https://api.github.com/repos/facebook/draft-js/git/commits/56114bdc7028135d7d7c011cd9e2ce3f45ce3d4b,56114bdc7028135d7d7c011cd9e2ce3f45ce3d4b,"Add docs on the lack of support for mobile web

Summary:
**what is the change?:**
Improvind docs by mentioning the lack of mobile web support

**why make this change?:**
For certain Android keyboards, and with IME in particular, Draft.js has
some known issues. We should document this so that folks are aware.

**test plan:**
Ran the website and manually tested.
![screen shot 2017-05-30 at 5 47 22 am](https://cloud.githubusercontent.com/assets/1114467/26583973/0bb462c2-44fc-11e7-89d8-f8bb02a07dda.png)

**issue:**
https://github.com/facebook/draft-js/issues/1224
Closes https://github.com/facebook/draft-js/pull/1228

Differential Revision: D5462589

fbshipit-source-id: 9354e7d9a73622927da69acded4db5b06b1a1c6d"
asfktz,2017-07-19 20:35:28,https://api.github.com/repos/facebook/draft-js/git/commits/47ed1be3138ecbc0169bc66848cae592654b6618,47ed1be3138ecbc0169bc66848cae592654b6618,"Removing unnecessary space

Summary:
Removing unnecessary space after from  Entities's Introduction
Closes https://github.com/facebook/draft-js/pull/1207

Differential Revision: D5428786

fbshipit-source-id: 13531f192b911b6f1e8c36ee1edcd15d5a32248b"
ialexryan,2017-07-19 15:01:00,https://api.github.com/repos/facebook/draft-js/git/commits/1f9e1a28793de262731e22691b751c2cfa4d453c,1f9e1a28793de262731e22691b751c2cfa4d453c,"Fix minor typo in docs

Summary:
Noticed a missing character in ""redering"" on ""Custom Block Rendering"" docs page.
Closes https://github.com/facebook/draft-js/pull/1239

Differential Revision: D5433774

fbshipit-source-id: dae4939ab68b35422921f05440f6e6efd4e2e51a"
mks11,2017-07-18 15:12:42,https://api.github.com/repos/facebook/draft-js/git/commits/82bbec380a9e5973f67f0b998221878a0bd44197,82bbec380a9e5973f67f0b998221878a0bd44197,"using newer 'ref' syntax

Summary:
*Before* submitting a pull request, please make sure the following is done...

1. Fork the repo and create your branch from `master`.
2. If you've added code that should be tested, add tests!
3. If you've changed APIs, update the documentation.
4. Ensure that:
  * The test suite passes (`npm test`)
  * Your code lints (`npm run lint`) and passes Flow (`npm run flow`)
  * You have followed the [testing guidelines](https://github.com/facebook/draft-js/wiki/Testing-for-Pull-Requests)
5. If you haven't already, complete the [CLA](https://code.facebook.com/cla).

Please use the simple form below as a guideline for describing your pull request.

Thanks for contributing to Draft.js!

-

**Summary**

[...]

**Test Plan**

[...]
Closes https://github.com/facebook/draft-js/pull/925

Differential Revision: D5442872

fbshipit-source-id: a99321f173a3cb64fe01b83360dbe7f30cbe8adc"
flarnie,2017-07-16 21:46:12,https://api.github.com/repos/facebook/draft-js/git/commits/89260c0be7b00638780cf1ea5e4bd7d61d73ac03,89260c0be7b00638780cf1ea5e4bd7d61d73ac03,"Update fbjs and fbjs-scripts to pull in bug fix

Summary:
**what is the change?:**
Updated the versions of `fbjs` and `fbjs-scripts`

**why make this change?:**
Latest versions include a bug fix[1] that fixes #914

[1]: https://github.com/facebook/fbjs/pull/244

**test plan:**
0) Use `n` to set my local version of node.js to `7.6.0`, with npm
   v4.1.2

1) Ran `yarn upgrade && yarn build` and saw no errors

**issue:**
https://github.com/facebook/draft-js/issues/914
Closes https://github.com/facebook/draft-js/pull/1291

Differential Revision: D5432468

fbshipit-source-id: 2dda1e9efeef662a807c87abb0bab12340c6289f"
flarnie,2017-07-16 21:07:52,https://api.github.com/repos/facebook/draft-js/git/commits/ce7f8caf2a5575b1404845b806aa6973f50d1dfe,ce7f8caf2a5575b1404845b806aa6973f50d1dfe,"Add weekly meeting notes from July 7th and 14th

Summary: Closes https://github.com/facebook/draft-js/pull/1290

Differential Revision: D5432441

fbshipit-source-id: 1709a5ee540164f5859382adcec7c19d97e59b46"
sophiebits,2017-07-14 22:05:30,https://api.github.com/repos/facebook/draft-js/git/commits/cbf97617c253208eeea18b4e6c31cc297fbc9151,cbf97617c253208eeea18b4e6c31cc297fbc9151,"Add trailing comma

Summary:
This makes OSS lint fail.

Created from Diffusion's 'Open in Editor' feature.

Reviewed By: flarnie

Differential Revision:
D5413446

Tags: accept2ship

fbshipit-source-id: a68974062eab16cd834784a5493ce781bb4b7798"
flarnie,2017-07-14 21:55:08,https://api.github.com/repos/facebook/draft-js/git/commits/19c71c9dbd7e1d0a9f665bbcb77c660d83cbac34,19c71c9dbd7e1d0a9f665bbcb77c660d83cbac34,"Empty commit to properly add the fbshipit-source-id

See https://github.com/facebook/draft-js/issues/1244

In my previous commit I had the wrong fbshipit-source-id.

fbshipit-source-id: f8f26ac6b6d22739cb0d1c73ae8fa613acf26758"
flarnie,2017-07-13 16:02:30,https://api.github.com/repos/facebook/draft-js/git/commits/514490b1322e1c123524eae97d4aea25b4da16ce,514490b1322e1c123524eae97d4aea25b4da16ce,"Fix-up diff for enabling 'ship-it' and 'import-it' (#1286)

**what is the change?:**
what is the change?:
Development on Draft.js is causing Github and our internal version to
get out of sync.

This pulls various changes from our internal version into the Github
project, so that they will be basically the same.

Some of the included changes;

Reorder requires via a codemod, maintained by an ESLint rule
(D5117037)
Fix 'first character prevention' bug that is triggered by Fiber async
rendering (D5161053)
Add 'z-index' to placeholder (D4769133)
Add possible fix for issue #1020 (D5261172)
Add 'flowfixme' comment (D5337485)
Fix 'flowfixme' comment (D5389367)

For reference, this patch was generated by the commands listed in
D5273910.

why make this change?:
We want to keep them in sync going forward, and will be enabling scripts
to automate mirroring changes back and forth.

test plan:
yarn install && yarn build && yarn test and manually tested examples.

issue:
related to #1244

fbshipit-source-id:a5d95c34f709c6fabcf0ceec876d4edb93881f85"
sophiebits,2017-07-12 21:45:41,https://api.github.com/repos/facebook/draft-js/git/commits/5863399a3a1bcbbe9b090249504a70496a7af7cc,5863399a3a1bcbbe9b090249504a70496a7af7cc,"[draft] Fix typing into text nodes containing Tab

Summary:
lolwaffle chrome is a mystery. if you have like

```
<span>ABC\tDEF</span>
```

(where \t is a tab), typing *anywhere* in that span will break the span into two pieces leaving you with like

```
<span>AB</span>x<span>C\tDEF</span>
```

Test Plan: paste ""a\tbc"" into text field. type into it. no crashes."
sophiebits,2017-07-12 21:44:21,https://api.github.com/repos/facebook/draft-js/git/commits/1c6a49b8801183fe0c29458626c0b5dbe1238e59,1c6a49b8801183fe0c29458626c0b5dbe1238e59,"[Draft] Fix first-character prevention with async rendering

Summary:
When typing the first character of a block, Draft always tries to call .preventDefault() on the beforeinput(/keypress) even for that character's insertion, because browsers are likely to mess up the DOM into a form we don't expect.

We check this by reading from the editorState and checking whether the selection is at the start of a block (either at the beginning of a line that is present, or if there is no text in a line yet).

In the case of React Fiber's async rendering, it was possible to get into a state where when inserting two characters AB, A's insertion would be correctly prevented and queued to occur via React rendering, but B's insertion would not get prevented, so it would happen natively even though in many cases A's rendering had not occurred yet.

We already had two copies of editorState we could consider to determine which path to take:

* ._latestEditorState is the last state we have enqueued a rerender for. We always read from this in most of our event handlers so that if you type multiple characters, they are queued in order and don't clobber each other, regardless of whether there has been a rerender in the meantime.
* .props.editorState is the last state that we've run cWRP/sCU/cWU/render on. In sync React, this always matches what we have actually rendered to the DOM (by the time we make it to an event handler). In async React, it doesn't, since we don't always run render in the same tick that we commit.

Checking isSelectionAtLeafStart on .props.editorState is more correct since it more closely resembles the current state of the DOM (and this logic should depend on the actual state of the DOM, not the model state), but it is still incorrect in some cases. I added:

* ._latestCommittedEditorState is the last state that we've committed to the DOM and run cDU on. In sync React, this matches .props.editorState. In async React, it is meaningfully different and does not get updated until the commit, while .props.editorState could get updated during a render that gets paused or aborted.

Changing the logic to call isSelectionAtLeafStart on ._latestCommittedEditorState makes it so we correctly determine when to prevent native character insertion. (I think.)

Test Plan:

Open plain text editor with React's useSyncScheduling set to false.
With the editor empty, press two characters on your keyboard simultaneously.
Previously, this would cause an error dialog (.removeChild of the <br> node within DraftEditorLeaf throws since it's already deleted); now it seems to reliably inserts both characters. I did this 40 or so times in a row without it crashing.
(If changed to .props.editorState but not ._latestCommittedEditorState, it fails about once every dozen or two times on my machine. Could easily be different on another machine due to scheduling randomness.)

I still occasionally saw an issue where you end up with both a <span data-text=""true""> and a <br data-text=""true""> rendered. I believe this is due to other bugs in async React, not any failing of Draft."
flarnie,2017-07-07 18:59:26,https://api.github.com/repos/facebook/draft-js/git/commits/4ec743e568786e878f9dc1aa9d7ebc2ec49aec0a,4ec743e568786e878f9dc1aa9d7ebc2ec49aec0a,"Move DraftFeatureFlags to stubs (#1278)

**what is the change?:**
Moved 'DraftFeatureFlags' to 'stubs' directory, and make it export
'DraftFeatureFlags-core'.

**why make this change?:**
The 'DraftFeatureFlags' file is, *I think*, the last file which is out
of sync with our internal FB version of Draft. That is because we
actually use different flag configs within FB than the defaults for OS.

**test plan:**
`yarn install && yarn build && yarn test` and play with example files

**issue:**
issue #1244"
ambewas,2017-07-07 18:37:31,https://api.github.com/repos/facebook/draft-js/git/commits/7a5fd51fd34cdd8090f19dd5e72648ff7b4ea67d,7a5fd51fd34cdd8090f19dd5e72648ff7b4ea67d,"Update APIReference-Editor.md (#1179)

* Update APIReference-Editor.md

update API reference Editor to include onFocus and onBlur props

* Update APIReference-Editor.md"
flarnie,2017-06-28 17:47:13,https://api.github.com/repos/facebook/draft-js/git/commits/3dd036b53cd5f9a03e7b47a71a231a9fd6a9904c,3dd036b53cd5f9a03e7b47a71a231a9fd6a9904c,"Add docs about lack of support for mobile browsers (#1267)

**what is the change?:**
Based on issues from the community and internal experiments, we know
that there are severe bugs affecting some mobile web uses of Draft.js.
In particular, Android with certain keyboards and IME/rtl on Android.

**why make this change?:**
This information is important for folks when deciding whether Draft.js
is the best choice for their use case. It may also get more interest in
improving Draft.js for mobile web use cases.

**test plan:**
Opened the docs and visually inspected. (Flarnie will insert a
screenshot.)

**issue:**
Related to https://github.com/facebook/draft-js/issues/1224"
flarnie,2017-06-26 16:15:05,https://api.github.com/repos/facebook/draft-js/git/commits/52a755f1afcaef51213afb1c48974356782dcb7a,52a755f1afcaef51213afb1c48974356782dcb7a,"Add flow pragma to 'Draft.js' (#1262)

**what is the change?:**
Adds missing pragma.

**why make this change?:**
This was causing a problem for users in some build set-ups.
Fixes #982
Thanks @yuku-t for this solution. :)

**test plan:**
Ran `yarn build` and inspected `lib/Draft.js.flow` before and after this
fix. It has the `@flow` pragma after, and did not before.

**issue:**
https://github.com/facebook/draft-js/issues/982"
oscarmorrison,2017-06-15 22:21:15,https://api.github.com/repos/facebook/draft-js/git/commits/9414ad5c9c8e07fc565257653d2318c260e355f8,9414ad5c9c8e07fc565257653d2318c260e355f8,move all .gitignores into toplevel (#1218)
sophiebits,2017-06-15 21:43:22,https://api.github.com/repos/facebook/draft-js/git/commits/6bb4619660b42d3018888334700e8f314ebfaf1a,6bb4619660b42d3018888334700e8f314ebfaf1a,Fix line breaking in docs
flarnie,2017-06-15 16:30:07,https://api.github.com/repos/facebook/draft-js/git/commits/ac650418dfda100080796183eeef4ee4c390c2ad,ac650418dfda100080796183eeef4ee4c390c2ad,"Tweak syntax of accessing '_instance' in DraftEditor test (#1247)

**what is the change?:**
We either check for the 'getEditorKey' method on the
'renderedComponent._instance' or the
'renderedComponent._instance._instance'

**why make this change?:**
Internally we are using a different variation of the 'shallowRenderer'
and this test needs to run internally at Facebook as well as on Github.

This is not an ideal solution, but we can continue improving this test
once cleaning up the inconsistencies between Facebook and Github.

**test plan:**
`jest src/component/base/__tests__/DraftEditor.react-test.js`

**issue:**
https://github.com/facebook/draft-js/issues/1244"
flarnie,2017-06-11 22:44:46,https://api.github.com/repos/facebook/draft-js/git/commits/5904c3716496892dd9b19a9faf0e4997fbfaf7c0,5904c3716496892dd9b19a9faf0e4997fbfaf7c0,"Copy over misc. changes from Facebook (#1245)

**what is the change?:**
In order to enable auto-syncing between Github and www we need to get
both to a point were they are in sync.

This copies some misc. changes from the www version of Draft into the
Github version of Draft. We are pulling in some changes as well.

Includes changes from
D5070771 Fix errors with single new in context
  (Note about above: TIL ""by design you're not supposed to use new with Immutable.js data structures (well, except Records)."")
D5172412 [codemod] disable automock by default on as many remaining tests in www as possible @bypass-lint
D5070207 [www][flowify] Start adding Flow typechecks to Style
D4966517 [TF] Minor comments and nits for the DraftJs Composer
D5109581 Add logging to catch Firefox Draft.js error

**why make this change?:**
To enable auto-syncing, to speed up speed of development.

**test plan:**
`yarn test`
I'm pretty confident of these changes since they have all been present
in FB Draft for some time.

**issue:**
https://github.com/facebook/draft-js/issues/1244"
flarnie,2017-06-03 18:12:10,https://api.github.com/repos/facebook/draft-js/git/commits/722701c7bec539f0d90758e9ee8d61a620139be1,722701c7bec539f0d90758e9ee8d61a620139be1,Add weekly meeting notes (#1235)
flarnie,2017-05-30 16:18:45,https://api.github.com/repos/facebook/draft-js/git/commits/d541ab8ee378a434d539cd9fa7f03939e8d18b86,d541ab8ee378a434d539cd9fa7f03939e8d18b86,Add meeting notes from last two weeks (#1229)
jackyho112,2017-05-18 15:01:03,https://api.github.com/repos/facebook/draft-js/git/commits/b983e54f6d3f47d175da2c5e5bef17d494417e61,b983e54f6d3f47d175da2c5e5bef17d494417e61,"Add mention of draft css in overview doc (#1208)

* Add mention of draft css in overview doc

* Remove code example from Draft.css mention in overview doc"
flarnie,2017-05-09 17:21:06,https://api.github.com/repos/facebook/draft-js/git/commits/6d126b0302d457f0172d76439c55be7eab92919c,6d126b0302d457f0172d76439c55be7eab92919c,Add documentation about textDirectionality prop (#1037)
flarnie,2017-05-09 17:20:25,https://api.github.com/repos/facebook/draft-js/git/commits/50ec6f9e6ea071c64bfe37f2165e543ef451cedb,50ec6f9e6ea071c64bfe37f2165e543ef451cedb,"Update weekly meeting notes from March-April 2017 (#1195)

**what is the change?:**
We had few things to note each week and were deferring updating the
meeting notes.

**why make this change?:**
Based on [issue #1193](https://github.com/facebook/draft-js/issues/1193)
it sounds like the meeting notes will provide signal that the project is
still maintained."
flarnie,2017-05-09 08:44:41,https://api.github.com/repos/facebook/draft-js/git/commits/196bdab58166395efbb6bbc1f93861907827a7c8,196bdab58166395efbb6bbc1f93861907827a7c8,0.10.1
flarnie,2017-05-03 15:53:16,https://api.github.com/repos/facebook/draft-js/git/commits/a399ea9ce7f5a4f6aa123b5937a7815f4e4313d4,a399ea9ce7f5a4f6aa123b5937a7815f4e4313d4,"Add 'Unreleased' version of v0.10.1 change log (#1183)

**what is the change?:**
Adding annotations for the upcoming v0.10.1 release.

**why make this change?:**
- saving time when actually doing the release
- transparency

**test plan:**
Visual inspection

**issue:**
https://github.com/facebook/draft-js/issues/1158"
mmmoussa,2017-04-26 23:13:02,https://api.github.com/repos/facebook/draft-js/git/commits/a251001e09ee7022ef1b24e08d51c05ae72e1785,a251001e09ee7022ef1b24e08d51c05ae72e1785,Removed unnecessary invariant usage (#1181)
flarnie,2017-04-25 16:18:27,https://api.github.com/repos/facebook/draft-js/git/commits/871b7fea7433a44ea3d4ace4cd3cfeece8198075,871b7fea7433a44ea3d4ace4cd3cfeece8198075,"Add changelog link (#1178)

* 0.10.0

* Add missing link to CHANGELOG"
flarnie,2017-04-25 16:00:04,https://api.github.com/repos/facebook/draft-js/git/commits/ec1f2af7f9e19fc4fbfc41c27358abc7f142dd97,ec1f2af7f9e19fc4fbfc41c27358abc7f142dd97,0.10.0 (#1177)
sophiebits,2017-04-24 19:58:29,https://api.github.com/repos/facebook/draft-js/git/commits/9d90b18357f0cec1f5a39b5c3ec7a5fa832eebc6,9d90b18357f0cec1f5a39b5c3ec7a5fa832eebc6,More logging for selection failures (#1175)
flarnie,2017-04-24 14:45:32,https://api.github.com/repos/facebook/draft-js/git/commits/1f1e66505bff7cca21c773e36c9f163c84e4461c,1f1e66505bff7cca21c773e36c9f163c84e4461c,"Add es6 polyfill to all examples (#1171)

**what is the change?:**
Draft uses some ES6 syntax and assumes users will pair it with an ES6
polyfill. See
https://github.com/facebook/draft-js/blob/c12640f05e8328f5c97902c0c5e94a02ba9f58be/docs/Advanced-Topics-Issues-and-Pitfalls.md#polyfills

**why make this change?:**
When testing some examples in IE they were not rendering, and threw an
error because we use `String.prototype.startsWith` in Draft.

**test plan:**
Open the 'convertFromHTML' and 'media' example files in IE, and they
will render.

**issue:**
https://github.com/facebook/draft-js/issues/1165"
Daniel15,2017-04-24 14:36:53,https://api.github.com/repos/facebook/draft-js/git/commits/42ac4cf5c846db16ee2d9100e905e7c04b4afc52,42ac4cf5c846db16ee2d9100e905e7c04b4afc52,"Fix ""universal"" demo on Windows. (#1168)

Closes #1166"
sophiebits,2017-04-22 21:49:43,https://api.github.com/repos/facebook/draft-js/git/commits/2726d31fb40a3b2676632b49c65a65b883e99c77,2726d31fb40a3b2676632b49c65a65b883e99c77,"Mark editor element as notranslate (#1162)

This should help a lot with ""Failed to execute 'setStart' on 'Range'"" exceptions we've logged in production and seen in bug reports.

Test Plan:
Type in editor, right-click in Chrome then ""Translate to English"", editing no longer breaks."
flarnie,2017-04-22 21:33:58,https://api.github.com/repos/facebook/draft-js/git/commits/832cb681f19d0f1ebaf8e9caaa318da0da5e9852,832cb681f19d0f1ebaf8e9caaa318da0da5e9852,"Fix errors from react update (#1159)

* update use of createClass for React v15.5

* Update location of shallow renderer

The 'shallow' renderer was moved in React v15.5, and updating this
quiets a warning about it.

**issue:**
https://github.com/facebook/draft-js/issues/1157"
flarnie,2017-04-22 19:53:36,https://api.github.com/repos/facebook/draft-js/git/commits/3c91df47f58316c6b5a734ab49df9506c583a0ac,3c91df47f58316c6b5a734ab49df9506c583a0ac,"Add logging for hard-to-reproduce bug (#1156)

Since the main logging method is stubbed out, this should have no effect
on the open source Draft project. Adding this on Github in order to
continue syncing the internal and open source version of Draft, to
unblock releasing v0.10.1 of Draft.

Context of this change:
We have gotten reports of an error thrown from `setDraftEditorSelection`
that completely breaks Draft functionality once it occurs. It happens
very inconsistently, across multiple browsers, and we have not yet been
able to find the root cause or reproduce it reliably. This logging may
help us get more information about the problem."
sophiebits,2017-04-21 14:37:07,https://api.github.com/repos/facebook/draft-js/git/commits/783e258286f787b60d40ea8af3d68becce226d83,783e258286f787b60d40ea8af3d68becce226d83,"Fix mystery text deletion (#1155)

Type `wwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwwww` in Chrome. Click at the beginning of the second line. Press space. It no longer deletes your text. That's a good thing.

T17377963"
sophiebits,2017-04-19 17:56:36,https://api.github.com/repos/facebook/draft-js/git/commits/507925ad60638734872dba52efa2d0b66cd94e4b,507925ad60638734872dba52efa2d0b66cd94e4b,"Docs tweaks (#1139)

* Docs tweaks

- Fix reference to older contentState
- Change `href` to `url` for consistency with ""link"" example in case people copy-paste between both (which I did today)
- Fix indentation in README

* Update Advanced-Topics-Entities.md"
mmmoussa,2017-04-18 15:53:04,https://api.github.com/repos/facebook/draft-js/git/commits/213cd764f61cc64552bddd672ae1748529d55333,213cd764f61cc64552bddd672ae1748529d55333,"Update lint rules, flow version, and inline documentation (#1126)"
mmmoussa,2017-04-18 02:59:28,https://api.github.com/repos/facebook/draft-js/git/commits/9ccce668eaaa157282516415477ec30a242788f8,9ccce668eaaa157282516415477ec30a242788f8,Fixed incorrect entity documentation (#1149)
hnordt,2017-04-18 02:58:07,https://api.github.com/repos/facebook/draft-js/git/commits/59f4ad276d5bdb8d5de7582febddaf7c5c58ffb7,59f4ad276d5bdb8d5de7582febddaf7c5c58ffb7,Update APIReference-ContentState.md (#1150)
hnordt,2017-04-17 18:18:03,https://api.github.com/repos/facebook/draft-js/git/commits/a652ed6f00ff04ee478876174b29691c79d89fd9,a652ed6f00ff04ee478876174b29691c79d89fd9,"Update Entities docs in Advanced Topics section to correct an error (#1141)

* Update Advanced-Topics-Entities.md"
josh,2017-04-06 22:34:38,https://api.github.com/repos/facebook/draft-js/git/commits/3894c64889f7aa25303adcecdff7c94c84ccd857,3894c64889f7aa25303adcecdff7c94c84ccd857,Configure dist output to use UMD format (#1090)
mmmoussa,2017-04-03 22:15:03,https://api.github.com/repos/facebook/draft-js/git/commits/8cd420bc881b9c024f005dfe89694d4f14691608,8cd420bc881b9c024f005dfe89694d4f14691608,Fixed bugs with deletion between blocks and atomic block deletion test case (#1108)
flarnie,2017-03-31 19:39:34,https://api.github.com/repos/facebook/draft-js/git/commits/6f2bf66bacff3ffac234fc21ff3720344ff92776,6f2bf66bacff3ffac234fc21ff3720344ff92776,"[Part 2] Pass fresh editorState to edit handlers (#1113)

I had mirrored parts of this change from FB to github but missed some
things. This is the second part of the same change - context below.
Earlier part merged as https://github.com/facebook/draft-js/pull/1112
---
There have been bugs reported in cases where the users of Draft are
updating 'editorState' in their custom handlers for keyDown, paste, etc.
This can be a problem when they are using an 'editorState' that is in
the parent's props or state and is not in sync, at that moment, with the
editorState in Draft. This allows the parent to use the most updated
editorState in custom handlers.

This change was already reviewed by @spicyj and credit for this fix goes
to @alanouri for making this change."
flarnie,2017-03-31 17:16:22,https://api.github.com/repos/facebook/draft-js/git/commits/3a390dac16466d798cdf8f997825be4cae4c55e5,3a390dac16466d798cdf8f997825be4cae4c55e5,"Pass fresh editorState to edit handlers (#1112)

There have been bugs reported in cases where the users of Draft are
updating 'editorState' in their custom handlers for keyDown, paste, etc.
This can be a problem when they are using an 'editorState' that is in
the parent's props or state and is not in sync, at that moment, with the
editorState in Draft. This allows the parent to use the most updated
editorState in custom handlers.

This change was already reviewed by @spicyj and credit for this fix goes
to @alanouri for making this change."
flarnie,2017-03-31 16:26:51,https://api.github.com/repos/facebook/draft-js/git/commits/cc6bed9b1200ae579698d41ace4bfd6f0ee88187,cc6bed9b1200ae579698d41ace4bfd6f0ee88187,Add bundles from 'universal' example to eslintignore (#1109)
flarnie,2017-03-30 22:58:29,https://api.github.com/repos/facebook/draft-js/git/commits/4cb115e6abb7d3134e0226f1a4cd5432604d0962,4cb115e6abb7d3134e0226f1a4cd5432604d0962,"Add text directionality override prop to DraftEditor (#1034)

* Add text directionality override prop to DraftEditor

Credit for this change goes to @mmmoussa

 - Added an optional textDirectionality prop of type
   DraftTextDirectionality to the DraftEditor component which allows
   overriding the directionality of all blocks in the editor.
 - Fixed lint errors in the modified Draft.js files.

Note that we will be updating the DraftTextDirectionality type
definition to move it to the `fbjs` shared utils, possibly along with
related text directionality utilities.

* Hold off on updating docs with textDirectionality

Since we haven't released this new prop yet let's not add it to the
documentation until we do.

* Use BidiDirection instead of own directionality type

Thanks to @zpao for pointing out that fbjs has BidiDirction."
flarnie,2017-03-30 22:58:16,https://api.github.com/repos/facebook/draft-js/git/commits/864ecf25126277451d7435310ce31bd9588fbafc,864ecf25126277451d7435310ce31bd9588fbafc,"Expose props for disabling auto-correct, auto-complete, auto-capitalize (#1035)

Wanted: manual testing of this PR.

There is some really weird behavior in Android 5.0 when auto-correct happens.
More details here;
https://github.com/facebook/draft-js/issues/1010

Setting 'spellCheck' to 'false' didn't seem to be enough to stop this.

My quick fix for now is to expose more properties on Draft for
controlling autocorrect. This could also be useful to people in general,
since there are often complaints about autocorrect on mobile web.

Long term we will be addressing the root causes of the bugs with mobile
web, but this seems like a useful change regardless.

We did some testing with mobile web using these props.

Ideally I'd like to get testing done of each prop in each supported
browser, and document the effects. If anyone can help verify different
behaviors please comment here, otherwise I'll get to it soon.

Note that we'll update the documentation once this change is actually
included in a released version of Draft.js."
mmmoussa,2017-03-30 22:36:23,https://api.github.com/repos/facebook/draft-js/git/commits/47c26cc778da654231df0808fcb9bb1d2052662d,47c26cc778da654231df0808fcb9bb1d2052662d,"Fix missing commas (#1107)

Updated comma-dangle eslint rule and fixed resulting errors"
flarnie,2017-03-29 21:57:52,https://api.github.com/repos/facebook/draft-js/git/commits/3b91e36317b59c4eee6cf719826f743e07c2567b,3b91e36317b59c4eee6cf719826f743e07c2567b,"Add Feature Flags in Draft, and add Entity Deletion change under GK (#1104)

We use feature flags in the FB version of Draft to test new and
potentially unstable changes. This mirrors out the flags we currently
have and sets the stage for keeping things in sync going forward.

Now internal use of feature flags will not block syncing and releasing
Draft.

This is part of an effort to make releases simpler and more frequent,
and keep the internal and external versions of Draft in sync.

As part of matching up the internal and external Draft flags we added
the changes from PR #1065 by @mmmoussa, with the main change under a
flag that is set to false.

---Test Plan
Manually tested the examples in Chrome, and we will do the full test
plan before releasing v0.10.1."
flarnie,2017-03-24 20:15:38,https://api.github.com/repos/facebook/draft-js/git/commits/eac6e2ef17c27aeb530d452fb33b6904ac4f8da6,eac6e2ef17c27aeb530d452fb33b6904ac4f8da6,"Initial fix for text insertion bugs in Android 5.1 (#1033)

Related to issue #1011

There is a bug in Android 5.1 (not 5.0 oddly enough) that makes text
entry nearly unusable. It's documented in detail here -
https://github.com/facebook/draft-js/issues/1011

Logging everything shows that;
 - when we have a block with text and spaces, and start deleting the
   characters one by one, there is an 'onInput' for each deletion that
   updates the text.
 - when you delete the very last character, the 'anchorNode' of the
   domSelection has a type that is not a text node. So we skip updating
   at all, and that means the last character doesn't actually get
   properly deleted from editorState.
 - Then the next time something fully updates the editorState, that last
   character shows up again.

The root issue is that Android 5.1, when we tested it, was in
""composition"" mode and the current handlers are not really built to
handle text deletion properly in composition mode.

We're looking forward to finding a more complete solution to the root
cause - for now this change improves the usability on mobile and doesn't
break anything."
flarnie,2017-03-24 20:11:06,https://api.github.com/repos/facebook/draft-js/git/commits/543831d9e40b360bd82d350b3cc7afb9b7c060a8,543831d9e40b360bd82d350b3cc7afb9b7c060a8,"Revert ""Correctly delete immutable and segmented entity content when at the edge of a selection"" (#1095)

* Revert ""add documentation for `editorKey` prop (#1087)""

This reverts commit c12640f05e8328f5c97902c0c5e94a02ba9f58be.

* Revert ""Correctly delete immutable and segmented entity content when at the edge of a selection. Fixes #1063. (#1065)""

This reverts commit 413e63a12e0a145e7d05c993b825e19c4ece2996."
nsfmc,2017-03-24 16:35:37,https://api.github.com/repos/facebook/draft-js/git/commits/c12640f05e8328f5c97902c0c5e94a02ba9f58be,c12640f05e8328f5c97902c0c5e94a02ba9f58be,"add documentation for `editorKey` prop (#1087)

* better description for polyfilling Draft in quickstart installation docs

just one of those things that i didn't pay much mind to until i was
trying to isolate a bug i'm having in ie that i'm testing using a c-r-a
sandbox.

* fixed git repo url in docs/sever readme

* add more detailed comments around editorKey prop

* add reference docs for editorKey prop in `<Editor />`"
mmmoussa,2017-03-17 19:57:59,https://api.github.com/repos/facebook/draft-js/git/commits/413e63a12e0a145e7d05c993b825e19c4ece2996,413e63a12e0a145e7d05c993b825e19c4ece2996,Correctly delete immutable and segmented entity content when at the edge of a selection. Fixes #1063. (#1065)
pofigizm,2017-03-15 16:11:28,https://api.github.com/repos/facebook/draft-js/git/commits/67ff1950cde77903d450fc311e5eee311962cb42,67ff1950cde77903d450fc311e5eee311962cb42,"Add `editorKey` prop for SSR (#796)

* add editorKey functionnality

* add simple tests for editorKey functionality

* fix flow error

* minimal working error case for universal rendering

adds a small express-backed universal react app that only accepts `/`
requests but that exhibits a client/server mismatch issue

* fix failing test when length of generated hash is small

* Update universal example

since this PR was created some changes were made and this updates the
example to fit with our other examples.

- moves into the version specific subdirectories
- updates package.json
- removes some ES6 destucturing temporarily because polyfill seems to be
  not loading correctly"
Lyonsclay,2017-03-13 18:24:29,https://api.github.com/repos/facebook/draft-js/git/commits/559d4e4d46e7385e477cb91a7db6c662054b5749,559d4e4d46e7385e477cb91a7db6c662054b5749,Change website main font-weight to normal. (#1069)
flarnie,2017-03-11 00:01:42,https://api.github.com/repos/facebook/draft-js/git/commits/82d396dafe35529b0433468dbd3ed146d9790c3a,82d396dafe35529b0433468dbd3ed146d9790c3a,Add weekly meeting notes for 3-10-2017 (#1064)
myyellowshoe,2017-02-27 15:22:37,https://api.github.com/repos/facebook/draft-js/git/commits/0022825422b3692ddfb69b262de7766228b6cebe,0022825422b3692ddfb69b262de7766228b6cebe,"Small update keybinding docs. (#1023)

* Bind handleKeyCommand in the constructor.

It's bad practice to bind functions in render. Updated it to handle binding in the constructor. so it is only bound once.

* Update Advanced-Topics-Key-Bindings.md"
tonygentilcore,2017-02-27 00:56:30,https://api.github.com/repos/facebook/draft-js/git/commits/d6cad2e2640144f65dcfc7d73d7653580054db41,d6cad2e2640144f65dcfc7d73d7653580054db41,"Fix editor losing focus after first word on Android. (#907)

* Fix editor losing focus after first word on Android.

This patch narrows the scope of `restoreEditorDOM` to only blow away the
`DraftEditorContents` instead of the entire editor. The key difference is
that the `contentEditable` DOM element is not replaced, which means that
the soft keyboard isn't dismissed on Android.

Manually tested against ""Cut"" and ""IME"" tests:
https://github.com/facebook/draft-js/wiki/Manual-Testing#cutcopypaste
https://github.com/facebook/draft-js/wiki/Manual-Testing#ime

Fixes #888, Ref #626, Ref #102

* Fix editor losing focus after first word on Android.

This patch narrows the scope of `restoreEditorDOM` to only blow away the
`DraftEditorContents` instead of the entire editor. The key difference is
that the `contentEditable` DOM element is not replaced, which means that
the soft keyboard isn't dismissed on Android.

Manually tested against ""Cut"" and ""IME"" tests:
https://github.com/facebook/draft-js/wiki/Manual-Testing#cutcopypaste
https://github.com/facebook/draft-js/wiki/Manual-Testing#ime

Fixes #888, Ref #626, Ref #102"
Daniel15,2017-02-26 02:42:32,https://api.github.com/repos/facebook/draft-js/git/commits/56590ef411240c26e94f316af60f6ea61273f3b2,56590ef411240c26e94f316af60f6ea61273f3b2,"Merge pull request #1031 from Daniel15/fix-web

Fix race condition in website builder script"
Daniel15,2017-02-26 02:35:56,https://api.github.com/repos/facebook/draft-js/git/commits/53543341f2fdce4cad1732924d42cd116014713d,53543341f2fdce4cad1732924d42cd116014713d,"Fix race condition in website builder script

There was a race condition in the website generation script. It calls convert.js to convert Markdown to JavaScript, and then immediately looks for the resulting js files. However, convert.js uses the async version of `glob()`. This means that the code in generate.js that looks for these files can execute **before** the conversion in convert.js finishes, resulting in no pages being built. When this happens on TravisCI, it deletes all the pages on the site, due to the `rm -Rf *` in `publish.sh`. I've simply switched convert.js to use the synchronous version of `glob()` so that it's guaranteed to finish before the generation happens."
Daniel15,2017-02-26 01:17:03,https://api.github.com/repos/facebook/draft-js/git/commits/8ec47de63e524e8e45a7a5ce507e029e4de4fd4f,8ec47de63e524e8e45a7a5ce507e029e4de4fd4f,"Merge pull request #1030 from Daniel15/oh-my-glob

Only include files in glob, not directory."
Daniel15,2017-02-26 01:14:53,https://api.github.com/repos/facebook/draft-js/git/commits/a93edfbcc94f8c71a2956d1bb094e9b702cc4dcc,a93edfbcc94f8c71a2956d1bb094e9b702cc4dcc,"Only include files in glob, not directory. References #1029"
Daniel15,2017-02-25 20:47:59,https://api.github.com/repos/facebook/draft-js/git/commits/7e33073558dc6813a8b82b3e381b3029be03d386,7e33073558dc6813a8b82b3e381b3029be03d386,"Merge pull request #1028 from flarnie/tweakToFixWebsiteBuild

Add .gitkeep to /website/src/lib"
flarnie,2017-02-25 17:43:28,https://api.github.com/repos/facebook/draft-js/git/commits/b5fb6adfa116bcf206107e96540510b0bd474aec,b5fb6adfa116bcf206107e96540510b0bd474aec,"Add .gitkeep to /website/src/lib

We need this directory to be present for the initial build of the
website."
Daniel15,2017-02-25 08:06:03,https://api.github.com/repos/facebook/draft-js/git/commits/295d6dccc47d4315c17c9702d704712f46a4e72e,295d6dccc47d4315c17c9702d704712f46a4e72e,Fix links in docs sidebar
Daniel15,2017-02-25 08:04:13,https://api.github.com/repos/facebook/draft-js/git/commits/1b3da9ab550543d92e8c56bf6eb0613c5823bdd0,1b3da9ab550543d92e8c56bf6eb0613c5823bdd0,"Fixes to website builder scripts
 - Include extensionless files in build
 - Update convert.js so it handles Windows newlines"
Daniel15,2017-02-25 07:40:16,https://api.github.com/repos/facebook/draft-js/git/commits/7f83c9b942cddea2a65ec4fcaffabe554c9c3ef0,7f83c9b942cddea2a65ec4fcaffabe554c9c3ef0,"Merge pull request #1026 from Daniel15/draftjsorg-updates

Updates to move the site to draftjs.org"
Daniel15,2017-02-25 07:27:28,https://api.github.com/repos/facebook/draft-js/git/commits/f8f940048b27f58f8b5ec6fc75236c2e92281da8,f8f940048b27f58f8b5ec6fc75236c2e92281da8,Updates to move the site to draftjs.org
Daniel15,2017-02-25 07:14:53,https://api.github.com/repos/facebook/draft-js/git/commits/f69cf951fb325c37a24d0b74402fe8d483ddaf65,f69cf951fb325c37a24d0b74402fe8d483ddaf65,Add CNAME
flarnie,2017-02-24 23:06:21,https://api.github.com/repos/facebook/draft-js/git/commits/e4f87b04b3ed22134961c8ba7be4e8c66dadd4c4,e4f87b04b3ed22134961c8ba7be4e8c66dadd4c4,Add meeting notes from 02/24/17 (#1025)
flarnie,2017-02-24 15:47:28,https://api.github.com/repos/facebook/draft-js/git/commits/7a22007f228b0f77a47f18c98c36936a1e7cc91f,7a22007f228b0f77a47f18c98c36936a1e7cc91f,Add meeting notes from 02-17-17 (#1021)
rloomba,2017-02-23 16:32:43,https://api.github.com/repos/facebook/draft-js/git/commits/799228d133e602261b70011c744cb0b5624ac457,799228d133e602261b70011c744cb0b5624ac457,Update copyright year to 2017 in footer on website (#1019)
kedromelon,2017-02-15 18:54:20,https://api.github.com/repos/facebook/draft-js/git/commits/1893a1aed38ce0f9584ca18c2063f7ffa08e6a03,1893a1aed38ce0f9584ca18c2063f7ffa08e6a03,"Test that `getDecorations` is called with correct arguments (#995)

* add EditorState test that checks `getDecorations calls` for correct argument order

* lint fix, remove unnecessary var"
flarnie,2017-02-14 21:23:24,https://api.github.com/repos/facebook/draft-js/git/commits/b076d7ba15b791e48fa90f3319c1376b0fda191a,b076d7ba15b791e48fa90f3319c1376b0fda191a,"Update contributors doc (#1009)

* Add Code of Conduct to CONTRIBUTING doc

Good stuff. Snagged from the
[React 'How to Contribute'](https://facebook.github.io/react/contributing/how-to-contribute.html)
page.

* Add stability philosophy to CONTRIBUTING doc

To address questions and concerns we have had internally and externally
about API changes.

* Fix missing newline

Thanks to @existentialism for catching this."
flarnie,2017-02-12 17:28:43,https://api.github.com/repos/facebook/draft-js/git/commits/9dbcb6956f3ef17ffc30fffca854a10deabc1e91,9dbcb6956f3ef17ffc30fffca854a10deabc1e91,Add meeting notes from 2017-02-10 weekly meeting (#1008)
GordyD,2017-02-10 16:42:36,https://api.github.com/repos/facebook/draft-js/git/commits/4b67dfec36747b41d2f1e040e6514e584183d9ea,4b67dfec36747b41d2f1e040e6514e584183d9ea,"Add default value for type in convertFromRawToDraftState (#1004)

* Add default value for type in convertFromRawToDraftState
In instances where type is undefined or null, this would be used as type due to the way type is destructured from each `block` in `contentBlocks`. This commit adds to a default value which ensure any falsey is changed to `unstyled` ensure the returned ContentBlock always has a valid DraftBlockType as its type

* Add test for to validate behavior for falsey values"
flarnie,2017-02-08 22:36:20,https://api.github.com/repos/facebook/draft-js/git/commits/186b3a1e3d9e33edc0621350ef0abbdef6d8968c,186b3a1e3d9e33edc0621350ef0abbdef6d8968c,"Add newline and bold

Minor nits"
flarnie,2017-02-08 22:35:29,https://api.github.com/repos/facebook/draft-js/git/commits/4290abaff04b4cbee3940018d67f7a77028fd17c,4290abaff04b4cbee3940018d67f7a77028fd17c,"Fix newlines

We needed some extra newlines to make this more readable."
flarnie,2017-02-08 22:34:00,https://api.github.com/repos/facebook/draft-js/git/commits/9a80ffcbb9151f3961cc06918c9dda9d142a4320,9a80ffcbb9151f3961cc06918c9dda9d142a4320,"Add H1 2017 Roadmap Update and '/meta' directory (#1003)

This roadmap was reviewed by the core contributors during a weekly
meeting and represents our current ideas about project direction.

The roadmap will evolve over time, and we'll be adding weekly notes in
this 'meta' directory in order to provide more fresh and detailed
updates about project direction.

Why use the 'meta' directory instead of a 'blog' or 'wiki'?
- People following the repo can get notifications push to them when 'meta' is updated.
- Allows roadmap to be living, breathing document with updates as time goes by
- Allows collaboration/discussion from community
- We are taking weekly meeting notes anyway; let people know that we are meeting and making progress

Similar to the (Relay repository's 'meta' directory)[https://github.com/facebook/relay/tree/master/meta].
Thanks to @wincent for advice about this."
nkt,2017-02-07 15:38:19,https://api.github.com/repos/facebook/draft-js/git/commits/7e2d1b8017f7bd02d0d717a38ba7c85b460eb78f,7e2d1b8017f7bd02d0d717a38ba7c85b460eb78f,"Update flow to 0.38 (#996)

fixes #958, references #963"
kedromelon,2017-02-01 17:34:28,https://api.github.com/repos/facebook/draft-js/git/commits/a3b94009053e10a7c93dfaf223cadd4d14d646c4,a3b94009053e10a7c93dfaf223cadd4d14d646c4,reuse <title> string for og:title meta (#984)
gbbr,2017-02-01 17:33:26,https://api.github.com/repos/facebook/draft-js/git/commits/6b01921a2a676bf26699769f78e38a2d16b34d0b,6b01921a2a676bf26699769f78e38a2d16b34d0b,Corrected link to migration guide on entity pages (#992)
Kiwka,2017-02-01 17:28:39,https://api.github.com/repos/facebook/draft-js/git/commits/067fe5be8550dd0b7633d856d2376b04bebeab7f,067fe5be8550dd0b7633d856d2376b04bebeab7f,"documentation: fix links to the examples (#983)

fix version of the draft.js in the links to examples"
Kiwka,2017-02-01 17:27:41,https://api.github.com/repos/facebook/draft-js/git/commits/4007f97112d26e757c1f8ea1f27e26f65bc7072f,4007f97112d26e757c1f8ea1f27e26f65bc7072f,documentation: fix name of the ContentState method (#988)
wchaering,2017-02-01 17:24:32,https://api.github.com/repos/facebook/draft-js/git/commits/be8e29f5cb65da171c663fde76397764c990b4ea,be8e29f5cb65da171c663fde76397764c990b4ea,Fixed broken link to v0.10 migration guide (#975)
flarnie,2017-01-30 16:38:49,https://api.github.com/repos/facebook/draft-js/git/commits/497c55ec54f798e375dbf6ae3dadc857514a47ce,497c55ec54f798e375dbf6ae3dadc857514a47ce,"Fix order of arguments for decorator strategy in docs (#981)

Fixes #973"
Kiwka,2017-01-30 14:40:32,https://api.github.com/repos/facebook/draft-js/git/commits/9f23e3720695c3d5b62ea09f6d3d047f289f9fc8,9f23e3720695c3d5b62ea09f6d3d047f289f9fc8,"add the code to show how obtain myContentBlock (#966)

* add the code to show how obtain myContentBlock

add code that make it more easier to understand how the myContentBlock can be obtained for the SelectionState

* add the code to show how obtain myContentBlock

add code that make it more easier to understand how the myContentBlock can be obtained for the SelectionState"
Kiwka,2017-01-30 14:38:52,https://api.github.com/repos/facebook/draft-js/git/commits/062ff7915345cfc419222ee47b1bf4fbf9ef266e,062ff7915345cfc419222ee47b1bf4fbf9ef266e,documentation: fix links in the methods list (#978)
kedromelon,2017-01-30 14:38:30,https://api.github.com/repos/facebook/draft-js/git/commits/421f36df97cbbfeebc5bfe754849b8eb4a15ba9e,421f36df97cbbfeebc5bfe754849b8eb4a15ba9e,add doc page titles as prefix for title header (#972)
Kiwka,2017-01-30 14:24:06,https://api.github.com/repos/facebook/draft-js/git/commits/85ec6653c648bd58a227ab226ccbbc846d52f455,85ec6653c648bd58a227ab226ccbbc846d52f455,"documentation: fix version in the link (#980)

fix the version in the link to make the link to the decorator/tweet example valid"
Kiwka,2017-01-30 14:23:23,https://api.github.com/repos/facebook/draft-js/git/commits/153c5cea11bd0018b614f41bba1fc6c9b2500181,153c5cea11bd0018b614f41bba1fc6c9b2500181,"documentation: fix the arguments in the decorators (#979)

Fix the arguments order and quantity in the decorators strategy accordingly to the code expectations https://github.com/facebook/draft-js/blob/7390e2972145494146202c3d3480eb9509dc90d4/src/model/decorators/CompositeDraftDecorator.js#L71"
Kiwka,2017-01-30 14:19:35,https://api.github.com/repos/facebook/draft-js/git/commits/34cc396c38e72d732d933ce432a0ef99f4c3e026,34cc396c38e72d732d933ce432a0ef99f4c3e026,documentation: remove duplication in methods list (#977)
tanakaworld,2017-01-30 14:18:08,https://api.github.com/repos/facebook/draft-js/git/commits/b3ce0bc2863c3d350b9fb5257bc4884c50e9b4d9,b3ce0bc2863c3d350b9fb5257bc4884c50e9b4d9,Fix typo in docs (#974)
flarnie,2017-01-28 19:10:37,https://api.github.com/repos/facebook/draft-js/git/commits/cacdc4711025c5bb96c9a048b92185bc883f99e1,cacdc4711025c5bb96c9a048b92185bc883f99e1,"Update docs for v0.10 (#968)

* Update Draft.js docs to use 0.10.0 syntax and examples

* Add 'API Migration' section to documentation and other minor edits"
mks11,2017-01-28 18:11:44,https://api.github.com/repos/facebook/draft-js/git/commits/6d7749962d92a3b7fa0be89e6538a595a3a5333b,6d7749962d92a3b7fa0be89e6538a595a3a5333b,Update Advanced-Topics-Entities.md (#942)
nkt,2017-01-28 18:11:01,https://api.github.com/repos/facebook/draft-js/git/commits/20b55b42355d13cfb9c3006734098195b8d5b685,20b55b42355d13cfb9c3006734098195b8d5b685,Add DraftDecoratorStrategy type (#826)
joao-alberto,2017-01-27 18:53:11,https://api.github.com/repos/facebook/draft-js/git/commits/d0d097ff57d90f1bd881b38b95c989de9ffc7fbb,d0d097ff57d90f1bd881b38b95c989de9ffc7fbb,Update README to install with Yarn (#960)
flarnie,2017-01-27 18:51:29,https://api.github.com/repos/facebook/draft-js/git/commits/d8d74830af8a7f1eaba7afc060f2dc130bf6a288,d8d74830af8a7f1eaba7afc060f2dc130bf6a288,"Add link to the JSFiddle (#964)

Just another nudge to help folks with showing how a bug is reproduced."
flarnie,2017-01-27 00:44:37,https://api.github.com/repos/facebook/draft-js/git/commits/dba0c420cd5ea7df65d4f5691d61ccb7658a235c,dba0c420cd5ea7df65d4f5691d61ccb7658a235c,"Make 'decorator' optional and allow null consistenly in EditorState (#920)

This fixes a minor flow error coming up in a FB use case, and makes the
overall typing more consistent in this file."
flarnie,2017-01-27 00:28:59,https://api.github.com/repos/facebook/draft-js/git/commits/63440317988cc6a7b89b9776a38ca76c726260f7,63440317988cc6a7b89b9776a38ca76c726260f7,"Fix Flow nits in DraftEditorProps (#918)

In one case it seems the return type was just incorrect. We also
clarified the comments for 'keyBindingFn' in order to avoid confusion -
previously due to some Flow issues we had almost changed this flow type
to be incorrect. See https://github.com/facebook/draft-js/pull/894

Also fixes a hanging comma lint."
namelos,2017-01-15 17:50:52,https://api.github.com/repos/facebook/draft-js/git/commits/f031cb912568ff1c06917bc55d9f8d51733e73ed,f031cb912568ff1c06917bc55d9f8d51733e73ed,adjust js object alignment in documentation (#945)
flarnie,2017-01-12 15:56:07,https://api.github.com/repos/facebook/draft-js/git/commits/b1d95d232abdc55eed1ea4ba3b62d236febb1269,b1d95d232abdc55eed1ea4ba3b62d236febb1269,"Improved version of ""Fix modifying state during onChange ... #667"" (#871)

This fixes some issues with the fix originally merged from PR #667[2]

Credit to @balpert and @srmcconomy for this fix. For now I'm getting
them back in sync.

Also thanks to @davidchang for pinging me about landing this,
@colinjeane for reporting this bug in #917 and submitting a nearly
identical fix: https://github.com/facebook/draft-js/pull/919

@colinjeane since we already had this fixed internally I'm going to use
our approach to keep things in sync.

fixes #917, #849

[2]: https://github.com/facebook/draft-js/pull/667

We also had to tweak this compared to the current internal version to
accomodate a recent change that makes 'editOnBeforeInput' and the other
handlers take 'editor' as an explicit argument instead of assumming
'this' will be the editor;
https://github.com/facebook/draft-js/commit/e64c2c3f2a3654b925b18baff448100cfbbf3738

Note that we are updating the version of 'fbjs' required in order to get
access to the 'setImmediate' polyfill."
davidchang,2016-12-31 07:41:21,https://api.github.com/repos/facebook/draft-js/git/commits/301d12ced979d03e12acc9a1474e54d89509691d,301d12ced979d03e12acc9a1474e54d89509691d,"Merge pull request #905 from marcelometal/marcelometal-patch-1

Improve README.md"
marcelometal,2016-12-30 13:27:04,https://api.github.com/repos/facebook/draft-js/git/commits/b09b8680881c8d162289e874b4f6d4ef420a7dac,b09b8680881c8d162289e874b4f6d4ef420a7dac,"Improve README.md

Added syntax highlight"
charles-toller,2016-12-30 00:26:04,https://api.github.com/repos/facebook/draft-js/git/commits/5540845a7ca24496ce52f899b62fd30dc108c382,5540845a7ca24496ce52f899b62fd30dc108c382,Fix array lookup to .includes rather than .has (#867)
delijah,2016-12-30 00:08:19,https://api.github.com/repos/facebook/draft-js/git/commits/b7fadfffec410b3332e056767f627324ecc5b725,b7fadfffec410b3332e056767f627324ecc5b725,"Moving atomic blocks (#551)

* Implemented moveAtomicBlockBefore and moveAtomicBlockAfter in AtomicBlockUtils

* Renamed EditorChangeType 'change-fragment' to 'move-block' and added to docs

* Changed interface for moving atomic blocks:

- Just use one function called moveAtomicBlock instead of three
- Introduce DraftInsertionType for determining if a fragment shall replace another fragment, or if it shall be inserted before or after another fragment

* Using ES6 variable declaration and getStart/EndKey instead of getAnchor/FocusKey"
DawnWright,2016-12-29 23:48:19,https://api.github.com/repos/facebook/draft-js/git/commits/5120924e4ed1a04f050ee58fa3a02016e83c373c,5120924e4ed1a04f050ee58fa3a02016e83c373c,Pass `block` to `customStyleFn` callback (#851)
existentialism,2016-12-29 23:33:14,https://api.github.com/repos/facebook/draft-js/git/commits/9030a865bb71cc9213efdb835e3c51b583e222de,9030a865bb71cc9213efdb835e3c51b583e222de,Prevent discarding style override on split-block (#892)
vierno,2016-12-29 23:25:32,https://api.github.com/repos/facebook/draft-js/git/commits/43c8762aa84d9f7e8299aaecc79837eec2dfd248,43c8762aa84d9f7e8299aaecc79837eec2dfd248,"Ignores 0 width rects when calculating selection (#876)

Fixes #570, Fixes #290"
davidchang,2016-12-28 21:07:36,https://api.github.com/repos/facebook/draft-js/git/commits/84a4238302945303af3872f8247a3e0288423f5a,84a4238302945303af3872f8247a3e0288423f5a,"Merge pull request #893 from existentialism/issue890

Add DraftEditorDefaultProps type"
existentialism,2016-12-21 04:22:43,https://api.github.com/repos/facebook/draft-js/git/commits/ea396e2915b7a48ccab72a5217a55f1b42a5bb93,ea396e2915b7a48ccab72a5217a55f1b42a5bb93,Add DraftEditorDefaultProps type
tylercraft,2016-12-20 20:49:39,https://api.github.com/repos/facebook/draft-js/git/commits/437410bd9dfc18077064848bab09c8da7075f09e,437410bd9dfc18077064848bab09c8da7075f09e,"EditorState.set() (#882)

* EditorState.set()

* inherited"
tylercraft,2016-12-20 18:43:50,https://api.github.com/repos/facebook/draft-js/git/commits/f943a3020ff7cb38dbbc4cd0fd5649e2d0938843,f943a3020ff7cb38dbbc4cd0fd5649e2d0938843,API Notice doc update (#883)
tylercraft,2016-12-20 18:35:50,https://api.github.com/repos/facebook/draft-js/git/commits/a54dc993aef522b422825646ec2b98c5be8b9f15,a54dc993aef522b422825646ec2b98c5be8b9f15,block doc update (#881)
tylercraft,2016-12-20 18:33:10,https://api.github.com/repos/facebook/draft-js/git/commits/ac6ac9cf2ea17df770f0f908d2f984af2c98b6e6,ac6ac9cf2ea17df770f0f908d2f984af2c98b6e6,Update applyEntity doc (#880)
flarnie,2016-12-16 23:18:28,https://api.github.com/repos/facebook/draft-js/git/commits/a26a2b3bebe916526e8def9c4cb8aef02262abb5,a26a2b3bebe916526e8def9c4cb8aef02262abb5,Add missing 'permanent' to two CSS files (#877)
taml,2016-12-15 22:09:18,https://api.github.com/repos/facebook/draft-js/git/commits/4c07e2ec5d9f2ede0243997a4c785101fc4203ea,4c07e2ec5d9f2ede0243997a4c785101fc4203ea,"Issue #865 Add 'Getting Started' section to `README` (#872)

* Update Readme.md

Updated Readme.md to include a Getting Started section using information from the documentation.

* Update Readme.md

Adjusted some headings to be H3 to appear as sub-headings in the Getting Started section to provide better reading flow."
colinjeanne,2016-12-15 21:50:25,https://api.github.com/repos/facebook/draft-js/git/commits/7390e2972145494146202c3d3480eb9509dc90d4,7390e2972145494146202c3d3480eb9509dc90d4,Fix 0.10 compatibility break in getDecorations (#860)
flarnie,2016-12-14 05:05:43,https://api.github.com/repos/facebook/draft-js/git/commits/865be66d77d230b61465dcef3e65641b8a44e4a3,865be66d77d230b61465dcef3e65641b8a44e4a3,"Update CSS Constants (#863)

Facebook has renamed these; just keeping things in sync."
oscarmorrison,2016-12-11 05:37:34,https://api.github.com/repos/facebook/draft-js/git/commits/2de3c450ff7882e24d9abd4d7a9017cd8905d0c7,2de3c450ff7882e24d9abd4d7a9017cd8905d0c7,"Update Overview.md (#841)

Simplifies code and minimizes new concepts."
flarnie,2016-12-10 19:04:53,https://api.github.com/repos/facebook/draft-js/git/commits/19172635c693de848a930855a14da33eb4225fd3,19172635c693de848a930855a14da33eb4225fd3,"Change underscore method names to bypass lint about private methods (#858)

Private methods should not be called as public methods. A recent PR
(https://github.com/facebook/draft-js/pull/814) added warnings to the
public-but-deprecated API of DraftEntity, and then moved the logic for
those methods into private methods that can be called within the
Draft.js framework.

These methods are ""private"" in the sense that we are only calling them
within Draft. They should not be used outside of the Draft library,
because they will be removed in an upcoming version of the library.

We have a transform step that causes issues when an underscore-prefixed
method is called outside of it's module, so changing the method names
seems like the easiest way to deal with this issue and still send the
message that they are private.

There is a way to turn off the transformation step on a file-by-file
basis but that would lead to touching more files than this approach, and
this code will be deprecated in the next release anyway."
flarnie,2016-12-10 18:16:17,https://api.github.com/repos/facebook/draft-js/git/commits/429592c37daa1ae935aef1e35b10ed1b005560f5,429592c37daa1ae935aef1e35b10ed1b005560f5,"Fix lints and flow errors for v0.10 (#856)

* Fix trailing comma lints

I'm not sure why ESLint didn't catch these at some point on Github - but
in any case we are fixing it now.

I ran the `trailing-commas.js` js-codemod and it only touched one file
for some reason. Probably I missed something about the jscodeshift API.
In any case, I fixed the other lints that our internal linter was
catching.

* Use DraftEntity type instead of EntityMap type in helpers

While supporting both the old and new APIs in Draft.js for Entity
manipulation, we are calling to the old DraftEntity module under the
hood instead of using the new system that would use an Immutable.js
OrderedMap called the EntityMap.

The DraftEntity module now has private methods for entity manipulation
that don't warn, and the public API which we are deprecating has
warnings and then calls the private methods.

In short, there are places where the flow typing wasn't right because
it was expecting EntityMap, and not DraftEntity.

I don't know why flow didn't catch this when we merged
https://github.com/facebook/draft-js/pull/814

test plan: `flow src`

* Fix flow error caused by passing command to RichUtils.handleKeyCommand

The 'handleKeyCommand' takes either a 'DraftEditorCommand' type or any
string.  This allows users to have their own custom editor command
types. I'm not sure how common this is, but our current flow typing
allows it.

The flow typing of 'RichUtils.handleKeyCommand' is more strict - it only
allows 'DraftEditorCommand' types, and not custom strings. This causes
an issue in one of our use cases, where we pass the 'command' received
in 'handleKeyCommand' through to 'RichUtils.handleKeyCommand'.

It seems like the 'RichUtils.handleKeyCommand' should have an API
similar to 'DraftEditor.handleKeyCommand', and so we're loosening the
flow type on 'RichTuils.handleKeyCommand'.

Test Plan: `flow`

* Fix flow error with DraftEditor.setClipboard

This was causing flow errors in our internal code because we expect that
'null' or 'undefined' is ok as an argument to 'setClipboard'.

Test Plan: `flow src`

* Fix flow and lint errors in CharacterMetadata

Again - I'm not sure why the github CI didn't catch these issues
earlier. I wonder if the issue with the typing of Immutable.OrderedMap
relates to the version of Immutable.js we are using or something."
eric-famiglietti,2016-12-09 19:29:00,https://api.github.com/repos/facebook/draft-js/git/commits/3f424d1bdb2923a68a2e99672aeb2244a249bd7e,3f424d1bdb2923a68a2e99672aeb2244a249bd7e,Fix link. (#855)
sophiebits,2016-12-06 19:52:27,https://api.github.com/repos/facebook/draft-js/git/commits/a1817a72f362d068380dfda685aea8d46e32d13b,a1817a72f362d068380dfda685aea8d46e32d13b,"Fix flow (#848)

My slip."
sophiebits,2016-12-06 07:31:57,https://api.github.com/repos/facebook/draft-js/git/commits/07892ba479bd4dfc6afd1e0ed179aaf51cd138b1,07892ba479bd4dfc6afd1e0ed179aaf51cd138b1,"Fix modifying state during onChange triggered by beforeinput (#667)

Fixes #92.

If an onChange handler replaces every ""x"" with an ""abc"", then when you type ""x"", we trigger onChange from beforeinput and rerender immediately with the content ""abc"", then the browser still inserts an ""x"" character!

This fix is surprisingly simple: instead of triggering an update during beforeinput, we simply wait until the input event to do so. This means that when we rerender, the browser would have already inserted the ""x"" character and React will correctly delete it when rerendering.

Test Plan: In plaintext example, change the handler to

```
this.onChange = (editorState) => {
  var content = editorState.getCurrentContent();
  return this.setState({
    editorState: EditorState.set(editorState, {
      currentContent: Modifier.removeInlineStyle(content, content.getSelectionAfter(), 'OVERFLOW');
    }),
  });
};
```

then type. Characters don't get duplicated like they did before."
flarnie,2016-12-04 02:10:09,https://api.github.com/repos/facebook/draft-js/git/commits/99bf098b6f5ad4b37858f8b25fe6c85733cc70ca,99bf098b6f5ad4b37858f8b25fe6c85733cc70ca,"Part two deprecate but dont delete old entity api (#814)

* Add warnings and comments about deprecating old Entity API

We are deprecating the old DraftEntity API.

Why? Because
 - currently changing or adding entities won't trigger a re-render
 - the use of a non-Immutable storage for entities doesn't fit well with
   the rest of the Draft architecture
 - moves Entity storage out of global module; this just makes more sense
   as an API, rather than having it globally available.

This moves the logic for the old API into private methods, and adds
warnings and comments around the public-but-deprecated API methods.

We then use the private methods internally while we still support both
APIs.

A future version of Draft will actually remove the old API completely,
and these warnings and comments will help folks make updates to their
code to prepare.

We will release more documentation about this soon.

* Update syntax of tex example

This example was still using the old syntax, and the new warnings we
added alerted us to this fact when doing manual testing."
flarnie,2016-12-04 01:35:31,https://api.github.com/repos/facebook/draft-js/git/commits/2dfea2a65ef5183e78bf7be11936ebc243c67ab5,2dfea2a65ef5183e78bf7be11936ebc243c67ab5,"Make contentState.createFromBlockArray work with old and new API (#838)

As part of the changing API the signature of
contentState.createFromBlockArray changed.

At some point (recently I think) this was changed to no longer support
the old API, and we didn't quite have the 0.9.1 style examples in place,
so it wasn't caught.

This adjusts the 'createFromBlockArray' to work with both the old and
new APIs."
mitermayer,2016-12-03 21:52:28,https://api.github.com/repos/facebook/draft-js/git/commits/16ed6e5a1e7c9d5a0d5718b9a50c8256ee33f938,16ed6e5a1e7c9d5a0d5718b9a50c8256ee33f938,adding-missing-type-definition-to-blockrendermap - Adding missing type for DefaultBlockRenderMap (#831)
mitermayer,2016-12-03 21:52:16,https://api.github.com/repos/facebook/draft-js/git/commits/b298df242dc88ba1c1cb7158aac35cc19b754e2f,b298df242dc88ba1c1cb7158aac35cc19b754e2f,"Fix line breaks when pasting from word to draft (#828)

* Making sure that pasted paragraphs are not converged when pasting

* Adding documentation for introducing alias

* Simplifying the logic

* Adding flow types

* Updaing docs"
tobiasandersen,2016-12-02 17:41:33,https://api.github.com/repos/facebook/draft-js/git/commits/6c6946b9683cfd909a077a394509d0bec7bf912c,6c6946b9683cfd909a077a394509d0bec7bf912c,"Add convertToHTML example for version 0.9.1 (#833)

* Add convertFromHTML example for 0.9.1

* Update docs with convertFromHTML example

* Remove image from convertFromHTML example in 0-9-1

* Update 0.9.1 convertFromHTML example to use the old Entity API

* Fix link to convertToHTML example in docs"
tobiasandersen,2016-12-02 02:10:40,https://api.github.com/repos/facebook/draft-js/git/commits/b17eb8bb2844e3070b8232523ab4cd125fb6329f,b17eb8bb2844e3070b8232523ab4cd125fb6329f,"Add deprecated examples (#824)

* Move current examples into draft-0-10-0 dir

* Add examples for version 0.9.1 into draft-0-9-1 dir

* Use unminified version of react in all examples

* Update file paths for examples

* Update paths in gitignore, 'tex' package.json, and draftjs docs

 - updates the .gitignore to ignore node_modules in both the new
   locations of the 'tex' example
 - updates a path in the script used for the draft js docs website,
   which pulls styles from the 'rich' example for some reason
 - updates the path for 'npm install' in the 'tex' examples
 - updates all links in the markdown used to generate the draft js docs."
sophiebits,2016-11-29 16:47:09,https://api.github.com/repos/facebook/draft-js/git/commits/bd3eefaa1319ffbbde9d6d870e6ec8ef1a2c077a,bd3eefaa1319ffbbde9d6d870e6ec8ef1a2c077a,Fix merge conflict from #740 and #820
sophiebits,2016-11-29 16:19:31,https://api.github.com/repos/facebook/draft-js/git/commits/e64c2c3f2a3654b925b18baff448100cfbbf3738,e64c2c3f2a3654b925b18baff448100cfbbf3738,"Change handlers to pass `editor` as an argument (#740)

* Change handlers to pass `editor` as an argument

This allows Flow to type them better and catch bugs.

* Fix Flow errors exposed by added types

No behavior change."
sophiebits,2016-11-29 07:09:19,https://api.github.com/repos/facebook/draft-js/git/commits/d1d3defb79decf9e9faa408e5c08f10981e46037,d1d3defb79decf9e9faa408e5c08f10981e46037,"Improve typing in Korean on Windows (#820)

(Landed at Facebook as D4056089 over a month ago, copying back out.)

Summary:
If we have a state update enqueued but the rerender hasn't happened, and a select event comes in, we can't do anything useful with it because although we could compare the last rendered editor state with the DOM selection, we can't make a rational choice for how to update the latest queued editor state with the DOM selection. (Previously, this code was throwing away any content change which would lead to a loss of inserted chars in many Windows IME scenarios.)

In particular, if you type in Korean w/ Windows IME then press space,

* compositionend arrives, causing us to set a 20ms timeout for resolving the composition,
* at that time, the text is already inserted in the DOM
* then keydown 32 comes in, which (due to my recent changes) makes the composition resolve immediately
* we enqueue a rerender with the composed text
* our 'select' polyfill also turns the keydown into a select event, and that select event has the *new* cursor position corresponding to the text that is already inserted to the DOM

Basically, the DOM has ÏïàÎÖïÌïòÏÑ∏Ïöî, the last editorstate is """" with selection [0, 0], the queued editorstate is ""ÏïàÎÖïÌïòÏÑ∏Ïöî"" with selection [5, 5], and you get a selection event [5, 5].

Since there's nothing useful we can do with this, we now ignore the selection event. The risk here is that we now are ignoring important selection events and the editor state selection lags behind the DOM selection. isaac and I don't know of any scenarios in which this would matter -- if we do find some, we might be able to instead change this code to re-check the selection after a rerender to make sure that we have the latest selection.

Test Plan:
Type dkssudgktpdy then Space with Korean keyboard on Windows Chrome, Windows Firefox, Windows IE, Windows Edge, Mac Chrome, Mac Firefox. It either does the right thing (inserting ""ÏïàÎÖïÌïòÏÑ∏Ïöî "") or it does the same thing as cstools which doesn't have any of my changes from this week.

Type normally, move the cursor, select all, copy, backspace, repeated backspace in the same browsers."
iroshanAV,2016-11-29 02:46:48,https://api.github.com/repos/facebook/draft-js/git/commits/104f66e2c951c8c1f8b89cba5fffad67e88b498c,104f66e2c951c8c1f8b89cba5fffad67e88b498c,Added code syntax to `\n` (#817)
flarnie,2016-11-28 02:17:28,https://api.github.com/repos/facebook/draft-js/git/commits/0cf448ef089f42ab8a478ed6515fe88493f45f4a,0cf448ef089f42ab8a478ed6515fe88493f45f4a,"Deprecate DraftEntity before removing (#790)

A previous PR had completely removed 'DraftEntity' the module and moved
control over entities into ContentState.[1] This changed several public
APIs of Draft.js in a non-backwards compabible way.

[1]: https://github.com/facebook/draft-js/pull/376

To make it easier to migrate multiple use cases to the new Draft.js API,
and because the transition is too complex for a simple codemod, we are
releasing a version that supports both the new and the old API and then
later releasing a version that breaks the old API completely.

In order to renew support for the old API while also supporting the new
API, this PR
 - restores the DraftEntity module and associated tests/mocks
 - calls into DraftEntity methods under the hood of the new API

We tried to leave as much of the new API code in place and unchanged as
possible, so that things will be easier when we are fully removing
DraftEntity and switching to the new approach.

Next steps:
 - A PR to add warnings and comments about the deprecation of the old
   API
 - Add this, the warnings, and other recent PRs to 0.10.0 alpha version
 - Add documentation about migrating from deprecated to new API
 - Release 0.10.0; support both APIs
 - Make PR that basically undoes this one, moving entity control into
   ContentState, and release that as version 0.11.0, with warning that
   it no longer supports the deprecated API."
flarnie,2016-11-27 00:30:36,https://api.github.com/repos/facebook/draft-js/git/commits/3fd9f9c84f48e0ae961d9d5a1cda4d2b6859c89d,3fd9f9c84f48e0ae961d9d5a1cda4d2b6859c89d,"Fix flow typing of 'ReactDOM' (#812)

Flow wasn't finding the 'ReactDOM' node module. In the past it was (I
assume) finding this dependency inside of the React package - but in
React 15.4.0 the ""secret"" copy of ReactDOM was split out completely
into it's own module.[1]

It seems like we should be able to use `scripts/module_map.js` to
specify the mapping of `ReactDOM` to `react-dom` but updating that was
not making a difference to Flow, so I added a mapping option to the flow
config.

[1]: https://facebook.github.io/react/blog/2016/11/16/react-v15.4.0.html#separating-react-and-react-dom"
zpao,2016-11-26 20:57:56,https://api.github.com/repos/facebook/draft-js/git/commits/2c72b2fe453d55afc37b99a5ec71f0f1a2ac44b3,2c72b2fe453d55afc37b99a5ec71f0f1a2ac44b3,"Restore 15.4 range, fix module-map (#801)"
StGeass,2016-11-23 15:55:57,https://api.github.com/repos/facebook/draft-js/git/commits/843cb5cc41c4e3498ef043ec8e72ced93883e2fe,843cb5cc41c4e3498ef043ec8e72ced93883e2fe,Fix advanced topics custom block render docs: Remove extra line in default block render map list (#803)
flarnie,2016-11-22 17:12:58,https://api.github.com/repos/facebook/draft-js/git/commits/003741d547083e5eb1ab8bc8db501d7a65444f09,003741d547083e5eb1ab8bc8db501d7a65444f09,"Temporarily limit versions of React allowed (#800)

It appears that some change in React 15.4.0 is causing builds to fail in
CI. [See issue #779.](https://github.com/facebook/draft-js/issues/799)

While we figure that out, let's limit the versions that will be used."
davidchang,2016-11-16 03:07:27,https://api.github.com/repos/facebook/draft-js/git/commits/db5e4368b49be4a8cce766a1b0db5e3f57a9b0c2,db5e4368b49be4a8cce766a1b0db5e3f57a9b0c2,"fix link that wasn't in markdown format

fix https://github.com/facebook/draft-js/issues/784"
davidchang,2016-11-09 18:14:15,https://api.github.com/repos/facebook/draft-js/git/commits/4dd0e6f368a6e84ce042db51b40338ebc857aba9,4dd0e6f368a6e84ce042db51b40338ebc857aba9,"Merge pull request #774 from smtheard/patch-1

[documentation] Include reference to example for convertFromHTML"
smtheard,2016-11-09 18:12:31,https://api.github.com/repos/facebook/draft-js/git/commits/71f5e6d575e5af936ec7f4c9f0cf94a891b127cb,71f5e6d575e5af936ec7f4c9f0cf94a891b127cb,update code snippet to match html example based on @davidchang  input
smtheard,2016-11-08 21:19:29,https://api.github.com/repos/facebook/draft-js/git/commits/ef5569e24fc3bf5f6dc8f9c6a4194bd6253e4096,ef5569e24fc3bf5f6dc8f9c6a4194bd6253e4096,"Include reference to example for convertFromHTML

This doc page is the first place people find when looking for information on convertFromHTML but the original code sample is not very useful. This hopefully will give people a better idea of how to use the function and then a reference to where I found the code snippet.

Should close #236 as well."
davidchang,2016-11-04 02:17:55,https://api.github.com/repos/facebook/draft-js/git/commits/341a49d01a492ff5a55a3ee8056e007538e2289a,341a49d01a492ff5a55a3ee8056e007538e2289a,"Merge pull request #761 from inlinestyle/by-update-editor-state-set-inline-style-override-docs

Update api docs for EditorState.setInlineStyleOverride"
inlinestyle,2016-11-03 15:44:49,https://api.github.com/repos/facebook/draft-js/git/commits/1f991cf0a474e740be931660a91140014b6fd6ae,1f991cf0a474e740be931660a91140014b6fd6ae,Update api docs for EditorState.setInlineStyleOverride
davidchang,2016-11-01 17:59:25,https://api.github.com/repos/facebook/draft-js/git/commits/05d020c2348bd325ae93b386348d96241a81d0f2,05d020c2348bd325ae93b386348d96241a81d0f2,"Merge pull request #735 from superKalo/feature/link-example-edit-existing-url

Feature / Link Example: Pre-fill the URL Input with the Current URL (if any)"
davidchang,2016-10-31 16:19:52,https://api.github.com/repos/facebook/draft-js/git/commits/6d5c4e91ddf42d7fa3f6ef310f8afae6378b07d4,6d5c4e91ddf42d7fa3f6ef310f8afae6378b07d4,"Merge pull request #746 from makenosound/fix-createfromblock-array-empty

Ensure `ContentState.createFromBlockArray` creates with an empty array"
makenosound,2016-10-28 01:34:28,https://api.github.com/repos/facebook/draft-js/git/commits/67deea8153c993fa8fb8689158654cac24444051,67deea8153c993fa8fb8689158654cac24444051,Ensure `ContentState.createFromBlockArray` creates with an empty array.
tylercraft,2016-10-26 16:54:03,https://api.github.com/repos/facebook/draft-js/git/commits/8ac72f723fb2d9102db833a9b060dfd66df65652,8ac72f723fb2d9102db833a9b060dfd66df65652,"add image support for convertFromHTML, along with new example (#734)

* add image support for convertFromHTML, along with new example

* Update example page title

* Chrome fix

* clean up requires"
davidchang,2016-10-24 22:12:18,https://api.github.com/repos/facebook/draft-js/git/commits/5a36195d124990a082498665f6824ca96ab51e09,5a36195d124990a082498665f6824ca96ab51e09,Update README.md
superKalo,2016-10-24 10:10:14,https://api.github.com/repos/facebook/draft-js/git/commits/0e48cf5e09d6d60a5c4de0cd0255927a763ced9e,0e48cf5e09d6d60a5c4de0cd0255927a763ced9e,Fixed: cover the case when the selection is not in the beginning
superKalo,2016-10-24 09:50:26,https://api.github.com/repos/facebook/draft-js/git/commits/1f3284de1b11f37d924f585a0a56201893de341d,1f3284de1b11f37d924f585a0a56201893de341d,"Added: pre-fill the link prompt input with the current url
When adding a new link on top of another link, pre-fill the input with the current url value."
davidchang,2016-10-20 00:49:53,https://api.github.com/repos/facebook/draft-js/git/commits/bb6175cb5038acee8abec3c0a696e4eef5b30e01,bb6175cb5038acee8abec3c0a696e4eef5b30e01,Update Advanced-Topics-Custom-Block-Render.md
davidchang,2016-10-20 00:48:58,https://api.github.com/repos/facebook/draft-js/git/commits/e0c6e1db2ed82af802023e25b16cfdfc4c89cd88,e0c6e1db2ed82af802023e25b16cfdfc4c89cd88,"clarifying on element: wrapper relationship

per https://github.com/facebook/draft-js/issues/725"
sophiebits,2016-10-19 21:27:48,https://api.github.com/repos/facebook/draft-js/git/commits/449fea4723498143ae3c99a2a1702c6dcedae78f,449fea4723498143ae3c99a2a1702c6dcedae78f,"Fix repeated backspace, other internal components (#727)

I can't describe entirely why the DraftEditor.react change here is necessary, but this is closer to what we had before #666.

The editOnSelect change fixes holding down Backspace in Firefox -- before this, the cursor would jump to the start of the input."
sophiebits,2016-10-17 19:21:08,https://api.github.com/repos/facebook/draft-js/git/commits/07b1eb847fb801d61b41a7a03c7c26c80cca5478,07b1eb847fb801d61b41a7a03c7c26c80cca5478,"Fix dead key deletion (#666)

* Remove unused render guard logic

* Fix dead key deletion

If you type Option-E, Backspace, then the in-progress accented character should be deleted. Similarly, in 2-Set Korean, if you press A, Backspace, the character should be deleted. Both of these don't work correctly yet, but this commit fixes it.

Currently, when you press Backspace, we are in composition mode and we receive a compositionend event then a keydown event for the backspace. Our composition handler doesn't exist composition mode immediately but rather waits 20ms to see if it gets a compositionstart event immediately (and if so, does not exit). It seems like if we receive a compositionend event then a keydown, we always want to exit composition mode immediately and re-interpret the keydown in edit mode. Here I do so.

This change is made trickier by the fact that each event handler reads from `this.props.editorState`, which doesn't get updated until the next rerender (that is, not synchronously). To combat this, we store the most current editor state in an instance variable and refer to it from all of the event handlers. (If we don't do this then the backspace isn't interpreted correctly by editOnKeyDown because the character data from compositionend hasn't been inserted into the editor state, so we'd end up effectively dropping the entire composition as well as deleting the preceding character.) In this commit, only editOnKeyDown needs the latest state but I changed the others for consistency. In cases where the parent always updates editorState in the same tick (as we recommend in the docs), there should be no behavior change.

Note: This also brings us closer to being able to handle cases where we don't always receive editorState synchronously -- instead we could store our own copy of the editorState locally but overwrite it with props when we receive new ones. It doesn't work yet though.

Test Plan: In plaintext example, type Option-E, Backspace (with US keyboard) or A, O, Backspace, Backspace (with 2-Set Korean keyboard). In both cases, the entire composition is deleted correctly."
zpao,2016-10-14 00:15:55,https://api.github.com/repos/facebook/draft-js/git/commits/91293499645ea991a30a98c1c20c22996661765a,91293499645ea991a30a98c1c20c22996661765a,"Upgrade babel-preset-fbjs (#705)

This fixes 2 issues when Draft is a dependency of a project that is
using Flow.
- `typeof` import now rewritten correctly
- `__DEV__` declaration is now inlined"
wuct,2016-10-05 17:24:54,https://api.github.com/repos/facebook/draft-js/git/commits/478e0efd4390c6a629cf27e5ad97b4ca93b72734,478e0efd4390c6a629cf27e5ad97b4ca93b72734,"Fix react-unknown-prop warning in the tweet example (#620)

* Fix react-unknown-prop warning in the tweet example

Ref: [https://facebook.github.io/react/warnings/unknown-prop.html]()

* Add data-offset-key"
mzbac,2016-10-04 21:05:14,https://api.github.com/repos/facebook/draft-js/git/commits/1559e9f753d217fb9c3c85f4cf13169641d7ebc5,1559e9f753d217fb9c3c85f4cf13169641d7ebc5,"Fix/tex example (#699)

this pull request fixed broken Tex example by removing outdated syntax that changed
in #376.

refer issue to #697"
pelhage,2016-09-26 22:26:29,https://api.github.com/repos/facebook/draft-js/git/commits/8c9afc4db65677f730561f4f7d3f862860ec1c69,8c9afc4db65677f730561f4f7d3f862860ec1c69,Fix URL linking to RichUtils module (#687)
flarnie,2016-09-26 22:23:39,https://api.github.com/repos/facebook/draft-js/git/commits/36b0e719bd73d899e21225fa31721f3de7b487ee,36b0e719bd73d899e21225fa31721f3de7b487ee,"Fix link and media examples (#679)

The link and media examples were using an outdated syntax that changed
in [#376](https://github.com/facebook/draft-js/pull/376).

Old syntax:
```
const entityKey = Entity.create('LINK', 'MUTABLE', {url: urlValue});
```

Correct:
```
const contentStateWithEntity = contentState.createEntity(
  'LINK',
  'MUTABLE',
  {url: urlValue}
);
const entityKey = contentStateWithEntity.getLastCreatedEntityKey();
```

Also while working on this, removed the 'require' of 'Entity' in the
'entity' example."
rickyvetter,2016-09-21 17:03:15,https://api.github.com/repos/facebook/draft-js/git/commits/69890ed57b5f4256cc93ae8e9ea178296851a23e,69890ed57b5f4256cc93ae8e9ea178296851a23e,"Merge pull request #677 from flarnie/fixIssuesDocs

Update docs to remove 'React ContentEditable Warning' issue"
flarnie,2016-09-20 23:18:40,https://api.github.com/repos/facebook/draft-js/git/commits/830f687d8403d9421f8f2fd53a4cdd16650cbbb0,830f687d8403d9421f8f2fd53a4cdd16650cbbb0,"Update docs to remove 'React ContentEditable Warning' issue

The issue with 'React ContentEditable Warning' was resolved when React
added the 'suppressContentEditableWarning' option[1] and then we used it
in Draft.js[2]. This doesn't need to be in the docs any more.

[1]: https://github.com/facebook/react/pull/6112
[2]: https://github.com/facebook/draft-js/pull/98"
stopachka,2016-09-20 20:15:17,https://api.github.com/repos/facebook/draft-js/git/commits/98a84cd4154ae8254c81152005d2b11918a7db66,98a84cd4154ae8254c81152005d2b11918a7db66,"fix keyseq error (#663)

Summary

convertFromRawToDraftState had a typo in the code, keyseq should have been keySeq. Seen on #660

Test Plan

Run the entity example, and make sure the convertFromRaw function works"
flarnie,2016-09-20 05:42:43,https://api.github.com/repos/facebook/draft-js/git/commits/b35ab7f534a6d1e401810d64d695ccff4bc1bb97,b35ab7f534a6d1e401810d64d695ccff4bc1bb97,"Update Flow version to 0.32.0; fix flow error in DraftEditorDragHandler (#670)

Version 0.32.0 of Flow introduced a flow error into Draft.js. We are
using 0.32.0 internally at Facebook and need to fix this Flow error in
order to upgrade to Draft.js 0.9.0 internally."
sophiebits,2016-09-20 02:43:49,https://api.github.com/repos/facebook/draft-js/git/commits/d5935f2f02bce263a7093e64945c5b5b26fdb20f,d5935f2f02bce263a7093e64945c5b5b26fdb20f,Remove unused DraftBlockTag (#669)
czak,2016-09-15 19:13:27,https://api.github.com/repos/facebook/draft-js/git/commits/c6274c592fc1aef58b8e30c289f323f5ede148fc,c6274c592fc1aef58b8e30c289f323f5ede148fc,Add missing contentState argument to strategies (#658)
tylercraft,2016-09-14 17:16:07,https://api.github.com/repos/facebook/draft-js/git/commits/6b70caef74e0be698949dbd9626754e436810c74,6b70caef74e0be698949dbd9626754e436810c74,"Edit on paste truthy fix (#654)

* editOnPaste always created a block"
zpao,2016-09-14 00:25:17,https://api.github.com/repos/facebook/draft-js/git/commits/5473e5b375574f01591de98ce8c0645ee1b57dd6,5473e5b375574f01591de98ce8c0645ee1b57dd6,"Use a stricter lint config (#653)

This will ensure Travis will fail for what were previously warnings.
This also fixes an existing issue."
qrohlf,2016-09-14 00:22:48,https://api.github.com/repos/facebook/draft-js/git/commits/5d19b1d4684b58ff05e0f7199ac66406da400f4e,5d19b1d4684b58ff05e0f7199ac66406da400f4e,"RichUtils onBackspace: remove entire atomic block (#613)

Previously, RichUtils ""removed"" atomic blocks via
Modifier.removeRange/removeRangeFromContentState.
This was problematic, because it preserves the
atomic block properties and merges the end block
content, resulting behavior where atomic block
data would transfer to unstyled blocks.

This change addresses those issues by removing
the atomic block entirely from the blockMap.

Fixes #554"
zpao,2016-09-14 00:01:40,https://api.github.com/repos/facebook/draft-js/git/commits/8f679a52dab54f2b54764b497f3f962e888346e5,8f679a52dab54f2b54764b497f3f962e888346e5,Upgrade eslint-config-fbjs & switch flow plugin (#651)
stopachka,2016-09-14 00:01:29,https://api.github.com/repos/facebook/draft-js/git/commits/a0c1ce9aee485a24a57d3c2fb583466efaff1c1f,a0c1ce9aee485a24a57d3c2fb583466efaff1c1f,Add an example jsfiddle to the issue template (#650)
johanneslumpe,2016-09-14 00:00:45,https://api.github.com/repos/facebook/draft-js/git/commits/5d5f1b4b89c509d17697965ce9a0d596ed220c43,5d5f1b4b89c509d17697965ce9a0d596ed220c43,"[WIP] Moving entities into content state #185 (#376)

* Initial demo changeset for entities in content state

* lowercase string

* add entity methods to content state

* remove `DraftEntity` module

* remove some `DraftEntity` requires

* fix linting issues

* fix flow issues

* update `DraftPasteProcessor` and `convertFromHTMLtoContentBlocks` to work with passed-in `ContentState` instance

* remove last traces of `DraftEntity` module

* allow second argument for `createFromBlockArray`

* use `contentState.getEntity` instead of pulling out entity map first

* match exported function name

* re-sort requires/imports to: classes, functions, types

* respect 80 char limit

* switch from random entity key to number

* pass around `EntityMap` instance instead of `ContentState` when creating new html fragment

* set new `entityMap` when regenerating block tree during editor state update, as the ""current"" content does not yet contain it

* change entity key to be a numerical string to prevent enity-not-found error  when using stringified key

* fix flow errors"
flarnie,2016-09-13 23:03:31,https://api.github.com/repos/facebook/draft-js/git/commits/4e4ad9805d3e112ae30df20becbd3f0ba0de5683,4e4ad9805d3e112ae30df20becbd3f0ba0de5683,0.9.0 (#652)
mferranti,2016-09-13 21:38:31,https://api.github.com/repos/facebook/draft-js/git/commits/eee83f5b0bf349633583c2bdcef8ee39a8032fef,eee83f5b0bf349633583c2bdcef8ee39a8032fef,#648 - Include endKey selected block on hasAtomicBlock analysis (#649)
aaronabramov,2016-09-13 18:29:43,https://api.github.com/repos/facebook/draft-js/git/commits/5f7187989157c9a05f8ce93b7c7250fbfa409cdf,5f7187989157c9a05f8ce93b7c7250fbfa409cdf,jest@15.1.1 (#639)
yujiangshui,2016-09-13 18:24:34,https://api.github.com/repos/facebook/draft-js/git/commits/684e37d2b3346e0d7ec6ef54ecd3a1fdaa39c1b6,684e37d2b3346e0d7ec6ef54ecd3a1fdaa39c1b6,"Add parameter intro to convertFromHTML document(#643) (#644)

fixed #643"
hellendag,2016-09-06 18:35:06,https://api.github.com/repos/facebook/draft-js/git/commits/a16bc55bf8297af627e8a4cfe5f283f88e7fc8bd,a16bc55bf8297af627e8a4cfe5f283f88e7fc8bd,"Fix failing test and lint (#633)

Fix internal test failure and lint issues for internal sync."
sophiebits,2016-09-06 01:13:03,https://api.github.com/repos/facebook/draft-js/git/commits/0873a4c567c29a0be6660093276963c97b1dfb7e,0873a4c567c29a0be6660093276963c97b1dfb7e,"Enable tab/shift-tab in rich example (#611)

Also sync rich example with homepage."
sophiebits,2016-09-05 17:01:49,https://api.github.com/repos/facebook/draft-js/git/commits/d1ec6f5b84d9ba56dbf94702a49f8809159cc2bd,d1ec6f5b84d9ba56dbf94702a49f8809159cc2bd,"Fix React children mutation warning (#610)

Fixes #590."
flarnie,2016-09-04 23:26:44,https://api.github.com/repos/facebook/draft-js/git/commits/c456bcb51a7379abc49200709c0e6d3ae4f59adb,c456bcb51a7379abc49200709c0e6d3ae4f59adb,"Add table styles to documentation (#629)

We have a PR to add a new page to the docs,[1] and it includes a table
showing the mapping of block types to elements. However, we don't have
good styles for tables in the documentation.

[1]: https://github.com/facebook/draft-js/pull/387

Adding these styles should unblock that PR so we can merge it and update
the Draft.js website."
davidchang,2016-09-04 23:25:58,https://api.github.com/repos/facebook/draft-js/git/commits/ea29a44f745b17d5cc793ccc5fe4f967df04d4ad,ea29a44f745b17d5cc793ccc5fe4f967df04d4ad,"small docs corrections, update handleKeyCommand docs to return DraftHandleValue type (#630)"
ronbak,2016-09-04 23:25:24,https://api.github.com/repos/facebook/draft-js/git/commits/8ee97d17da073baf9fc5d71adbc3597779e7522d,8ee97d17da073baf9fc5d71adbc3597779e7522d,"Minor fixes (#628)

* Fix typo analagous

* Fix typo existance"
mitermayer,2016-09-04 14:20:45,https://api.github.com/repos/facebook/draft-js/git/commits/e035cc3b99124f9f97a8ed42d69658d24059b34c,e035cc3b99124f9f97a8ed42d69658d24059b34c,"Adding missing documentation to BlockRenderMap and updating documentation for data conversion (#387)

* Adding documentation to BlockRenderMap

- Including documentation for BlockRenderMap
- Updating the data conversion for convertToHTML"
zpao,2016-08-19 00:54:11,https://api.github.com/repos/facebook/draft-js/git/commits/3747afb0f0b6251968a83745a9bbe53c000d134f,3747afb0f0b6251968a83745a9bbe53c000d134f,"Remove react import, use React$Element (#604)"
bryanrsmith,2016-08-17 20:11:24,https://api.github.com/repos/facebook/draft-js/git/commits/9ce1bab81cd006666a1a47b724e7c06f97c4ea1f,9ce1bab81cd006666a1a47b724e7c06f97c4ea1f,"Preserve depth of all block types when converting to raw (#588)

fixes #381"
bryanrsmith,2016-08-17 20:10:46,https://api.github.com/repos/facebook/draft-js/git/commits/4538fc39bccb055ac6a3825f067196a18b1261bd,4538fc39bccb055ac6a3825f067196a18b1261bd,Add change-block-data to EditorChangeType docs (#591)
johanneslumpe,2016-08-17 16:33:36,https://api.github.com/repos/facebook/draft-js/git/commits/b4afd3c6aa5dd7203362beff3d1b020738a69cf6,b4afd3c6aa5dd7203362beff3d1b020738a69cf6,"Convert handler signature to return a `DraftHandleValue` value, instead of a boolean - #339 (#340)

* Added new type file and updated editor props return types

* Checking for `handled` return value, instead of boolean

* Updated type description

* Updated docs

* Use `isEventHandled` utility to check for handled event instead of raw string comparison

* handle `true` value for backwards compatibility"
tylercraft,2016-08-16 17:01:13,https://api.github.com/repos/facebook/draft-js/git/commits/628aeb6fc760cacb292efb30b9a69cdf3da4a106,628aeb6fc760cacb292efb30b9a69cdf3da4a106,Update version in package.json
tylercraft,2016-08-12 16:39:54,https://api.github.com/repos/facebook/draft-js/git/commits/4d8482b3f59bd97de74b21cb871733e6afecca15,4d8482b3f59bd97de74b21cb871733e6afecca15,0.8.1 (#597)
tylercraft,2016-08-12 16:30:46,https://api.github.com/repos/facebook/draft-js/git/commits/837ee1b7f00a4d1608f2a462c40da2707eb124e0,837ee1b7f00a4d1608f2a462c40da2707eb124e0,Tex example deps fix (#596)
zpao,2016-08-12 15:45:09,https://api.github.com/repos/facebook/draft-js/git/commits/205d87da4176312770d512288a231abd64e40c75,205d87da4176312770d512288a231abd64e40c75,Include object-assign in deps (#595)
hellendag,2016-08-09 20:58:31,https://api.github.com/repos/facebook/draft-js/git/commits/1aa8db18e0be3cf34cf567eaec8c26a684415ab9,1aa8db18e0be3cf34cf567eaec8c26a684415ab9,Lint fixes (#589)
hellendag,2016-08-09 18:12:25,https://api.github.com/repos/facebook/draft-js/git/commits/173076f2440c19268b52fa64309e9e44cecec9fa,173076f2440c19268b52fa64309e9e44cecec9fa,"Merge pull request #585 from tylercraft/draftjs-08

Release 0.8.0"
hellendag,2016-08-09 18:09:16,https://api.github.com/repos/facebook/draft-js/git/commits/d9d4c342785a5588f6055bdb8a18bbe6db4430e6,d9d4c342785a5588f6055bdb8a18bbe6db4430e6,"Merge pull request #587 from hellendag/read-only

Fix nested editable elements in readOnly editor"
hellendag,2016-08-09 17:09:27,https://api.github.com/repos/facebook/draft-js/git/commits/7ff71193f0124b6cc77b3294d6a05a1a9a7ca1ee,7ff71193f0124b6cc77b3294d6a05a1a9a7ca1ee,"Fix nested editable elements in readOnly editor

The introduction of `user-modify: read-write-plaintext-only;` ends up breaking readOnly editors with nested editable content, as the cursor jumps back to the top-level editor when focus changes.

Fix this by applying the `user-modify` value only if the content node is editable.

Test Plan:

  - Run TeX editor.
  - Click a formula. Type inside the textarea. Verify that I can do so."
tylercraft,2016-08-08 19:25:27,https://api.github.com/repos/facebook/draft-js/git/commits/0b26f6bdf1249594897fabc2f3477d742a2b11ff,0b26f6bdf1249594897fabc2f3477d742a2b11ff,Release 0.8.0
hellendag,2016-08-04 04:56:10,https://api.github.com/repos/facebook/draft-js/git/commits/161dfa1787de1bcf69e5950d47999c748a776390,161dfa1787de1bcf69e5950d47999c748a776390,"Merge pull request #354 from bold/customStyleFn

Adds customStyleMap for more control over inline style ranges #342"
hellendag,2016-08-04 04:53:17,https://api.github.com/repos/facebook/draft-js/git/commits/f2060e863de7e35f7d7efb592f63982864f1e8d9,f2060e863de7e35f7d7efb592f63982864f1e8d9,"Merge pull request #563 from vierno/code-tweaks

Code tweaks for FragmentIntoContentState tests"
hellendag,2016-08-04 04:52:56,https://api.github.com/repos/facebook/draft-js/git/commits/d236aeaa285cfe869fb766f2e2db58d91be031ca,d236aeaa285cfe869fb766f2e2db58d91be031ca,"Merge pull request #569 from gscottolson/patch-1

Docs: Update return type for `tryToRemoveBlockStyle`"
hellendag,2016-08-04 04:52:33,https://api.github.com/repos/facebook/draft-js/git/commits/591bb802d91ee819819e0adc8d5754bd4b7c19f7,591bb802d91ee819819e0adc8d5754bd4b7c19f7,"Merge pull request #564 from SecurityInsanity/master

removes snoflwake tex linting, and lints examples"
gscottolson,2016-07-28 20:59:52,https://api.github.com/repos/facebook/draft-js/git/commits/889cabcc0adb91d82d82942822d1efce001db8b6,889cabcc0adb91d82d82942822d1efce001db8b6,"Update return type for `tryToRemoveBlockStyle`

Correctly specify return type of `ContentState`
https://github.com/facebook/draft-js/blob/9d3da64afb2a514fc4d3117e47b05e4f87df1d25/src/model/modifier/RichTextEditorUtil.js#L395"
SecurityInsanity,2016-07-27 13:06:52,https://api.github.com/repos/facebook/draft-js/git/commits/92991b8f69b2f0e0d9850ecd6a0826c98dde751f,92991b8f69b2f0e0d9850ecd6a0826c98dde751f,"removes snoflwake tex linting, and lints examples

fixes #536

this removes the special tex example linting. that had it's own
copy of eslint linting just itself. after removing eslint i removed
dependencies i didn't see were being used. after that it failed to
build, not reconizing the jsx/import statements. so i added the two
babel presets to handle that. (react, and es2015 presets).

next this starts linting the `examples/` directory. this should
introduce no new warnings/errors. as only the tex example had two
things that didn't comply (trailing commas, which have been fixed)."
vierno,2016-07-26 16:37:41,https://api.github.com/repos/facebook/draft-js/git/commits/9b5666e560371155229408aa2060b59c1e830216,9b5666e560371155229408aa2060b59c1e830216,Code tweaks for FragmentIntoContentState tests
hellendag,2016-07-24 21:13:36,https://api.github.com/repos/facebook/draft-js/git/commits/4cb881139e34b9bac84ed5847e010e3a495bd56f,4cb881139e34b9bac84ed5847e010e3a495bd56f,"Merge pull request #374 from mitermayer/adding-extra-supported-whitelist-for-entities

Adding more attributes to convertFromHTMLToContentBlocks entity whitelist"
hellendag,2016-07-24 20:58:09,https://api.github.com/repos/facebook/draft-js/git/commits/4e65d539a9a973f5eb2cd4c91d8dd168fb859b72,4e65d539a9a973f5eb2cd4c91d8dd168fb859b72,"Merge pull request #559 from mjomble/link-paste

Added test cases for pasting mailto: and javascript: links"
mjomble,2016-07-24 13:01:54,https://api.github.com/repos/facebook/draft-js/git/commits/e4c66ad219f03d8450fd651634f254b776530256,e4c66ad219f03d8450fd651634f254b776530256,Added test cases for pasting mailto: and javascript: links; corrected indentation
sophiebits,2016-07-19 04:05:32,https://api.github.com/repos/facebook/draft-js/git/commits/b5d87c2765f7a6e72cd0ae6618682e8d0c5556a3,b5d87c2765f7a6e72cd0ae6618682e8d0c5556a3,"Merge pull request #545 from SecurityInsanity/master

fixes selection-state with -webkit-user-modify"
SecurityInsanity,2016-07-18 16:03:54,https://api.github.com/repos/facebook/draft-js/git/commits/9ffe7018621dd9e49505e1f729600c9f7f147489,9ffe7018621dd9e49505e1f729600c9f7f147489,"fixes selection-state with -webkit-user-modify

turns out chrome (at least) would incorrectly not erase the placeholders
with -webkit-user-modify being applied where it was.
this was totally an oversight on my part not testing after taking
the lucidity designs comment in PR 509.

Testing this time in my normal suite of browsers (firefox, chrome, safari)
this commit moving the selection state to just target .public/DraftEditor/content
fixes the selection state problem."
hellendag,2016-07-17 00:32:46,https://api.github.com/repos/facebook/draft-js/git/commits/26182e36549803698e86594d0c273b7dfbfdebcf,26182e36549803698e86594d0c273b7dfbfdebcf,"Merge pull request #477 from ouchxp/master

Decorator do not have `data-offset-key` attribute. Fix `getSelectionOffsetKeyForNode` function"
hellendag,2016-07-17 00:20:39,https://api.github.com/repos/facebook/draft-js/git/commits/6cd4391f9d82e59f9cbf233fe9b697d22dc8d91b,6cd4391f9d82e59f9cbf233fe9b697d22dc8d91b,"Merge pull request #509 from SecurityInsanity/master

removes iOS format tooltips everywhere"
hellendag,2016-07-17 00:19:33,https://api.github.com/repos/facebook/draft-js/git/commits/6a75729726c0f6b54112b51506843553b78771ab,6a75729726c0f6b54112b51506843553b78771ab,"Merge pull request #518 from zpao/travisupdate

Update Travis CI config"
hellendag,2016-07-17 00:18:36,https://api.github.com/repos/facebook/draft-js/git/commits/745c175d486204e1467bff7abe2ae819f6b2d168,745c175d486204e1467bff7abe2ae819f6b2d168,"Merge pull request #530 from vierno/metadata-block-insertion

Use block level metadata into fragment insertion"
hellendag,2016-07-17 00:13:03,https://api.github.com/repos/facebook/draft-js/git/commits/3c50c4c383b150cee44efeb50f3eff206ef93793,3c50c4c383b150cee44efeb50f3eff206ef93793,"Merge pull request #533 from mjomble/patch-1

Accept pasted mailto: links"
SecurityInsanity,2016-07-16 17:24:03,https://api.github.com/repos/facebook/draft-js/git/commits/932349e2f4c62d8bd1ce0c7ffef20b4e18fed043,932349e2f4c62d8bd1ce0c7ffef20b4e18fed043,Moves iOS tooltip to root content
zpao,2016-07-12 22:34:11,https://api.github.com/repos/facebook/draft-js/git/commits/60b6538f83d4b3a1d293421759255c3104684a7b,60b6538f83d4b3a1d293421759255c3104684a7b,"Merge pull request #535 from zpao/eslint-fbjs

ESLint upgrade, use new fb lint config, fixes"
zpao,2016-07-12 21:26:22,https://api.github.com/repos/facebook/draft-js/git/commits/88f4074b85867cbaae0444809681efe9f3aa023e,88f4074b85867cbaae0444809681efe9f3aa023e,Fix existing lint warnings
zpao,2016-07-12 21:12:18,https://api.github.com/repos/facebook/draft-js/git/commits/873a2deb999dd415f1d9f03df0f05b3c8ec63040,873a2deb999dd415f1d9f03df0f05b3c8ec63040,Use eslint-config-fbjs for lint
mjomble,2016-07-12 16:49:34,https://api.github.com/repos/facebook/draft-js/git/commits/96c320b7b6c4a5985b0d1ae1814d711d15b19625,96c320b7b6c4a5985b0d1ae1814d711d15b19625,Accept pasted mailto: links
vierno,2016-07-07 23:26:23,https://api.github.com/repos/facebook/draft-js/git/commits/b12d7244b9068018a6850d0b88f8bd5bd6dd97d8,b12d7244b9068018a6850d0b88f8bd5bd6dd97d8,"Use block level metadata into fragment insertion

Fixes a situation when you insert new blocks with metadata,
eg using Modifier.replaceWithFragment. If the fragment have data,
it wouldn't be present on the resulting ContentState.

insertFragmentIntoContentState now uses the metadata of the
block or blocks inserted.

Adding test scenarios with the new functionalities."
zpao,2016-07-07 00:04:51,https://api.github.com/repos/facebook/draft-js/git/commits/4da7d0a00fbfdcb3db4869d8e824f2c43e2e1c00,4da7d0a00fbfdcb3db4869d8e824f2c43e2e1c00,"Add build to Travis matrix, check everything is requireable

This ensures that we won't commit a change that breaks the build. The
postbuild hook ensures that every compiled file is requirable. This
*shouldn't* be an issue but it's a good thing to protect against."
zpao,2016-07-07 00:03:03,https://api.github.com/repos/facebook/draft-js/git/commits/e35d8dfa11e41e3cb42dd1ae24b65dc667eaad5f,e35d8dfa11e41e3cb42dd1ae24b65dc667eaad5f,"Expand the matrix for finer grained results

This allows Flow results to fail distinctly from tests, making it easier
for contributors to understand their issues quickly."
zpao,2016-07-06 19:52:03,https://api.github.com/repos/facebook/draft-js/git/commits/3ebdda1dca6319334b208056d4b38cf44d690087,3ebdda1dca6319334b208056d4b38cf44d690087,"Update Travis CI config

- reorder for better readability
- add the Node v4 build requirements
- start pruning and updating npm deps so the cache doesn't get stale"
zpao,2016-07-06 23:55:27,https://api.github.com/repos/facebook/draft-js/git/commits/c24785476fdfdd898bf553c29036a40436dda58e,c24785476fdfdd898bf553c29036a40436dda58e,Update Flow comment supression regex (#514)
zpao,2016-07-06 23:42:28,https://api.github.com/repos/facebook/draft-js/git/commits/789c525dee69c89bb0a88cdf4a810618088fb4fb,789c525dee69c89bb0a88cdf4a810618088fb4fb,"Update fbjs dep to 0.8.3 (#517)

This should ensure that Flow will pass and nobody should get stuck with
a version of fbjs that isn't compatible with the version of Flow we use."
hellendag,2016-07-06 00:27:28,https://api.github.com/repos/facebook/draft-js/git/commits/7905886766326a3f40fe917e9ff0c1a0c53bd8bb,7905886766326a3f40fe917e9ff0c1a0c53bd8bb,"Merge pull request #513 from hellendag/templates

Create PR and Issue Templates"
hellendag,2016-07-06 00:25:57,https://api.github.com/repos/facebook/draft-js/git/commits/77702809fd063149ae8ca882ed6e5fc0f71881d7,77702809fd063149ae8ca882ed6e5fc0f71881d7,Remove React jsfiddle template for now
hellendag,2016-07-06 00:22:07,https://api.github.com/repos/facebook/draft-js/git/commits/000bf2039e2d23d8e14aa0024ae8ad891c1e8414,000bf2039e2d23d8e14aa0024ae8ad891c1e8414,placeholders
hellendag,2016-07-06 00:21:33,https://api.github.com/repos/facebook/draft-js/git/commits/43055e2e3a0bd4133b1d8c6e11ec556dffb4fca4,43055e2e3a0bd4133b1d8c6e11ec556dffb4fca4,A little more text
hellendag,2016-07-06 00:17:46,https://api.github.com/repos/facebook/draft-js/git/commits/c2e18a33c726157b013ec805e472e676e97a9bdf,c2e18a33c726157b013ec805e472e676e97a9bdf,Forgot my PR template
hellendag,2016-07-06 00:09:19,https://api.github.com/repos/facebook/draft-js/git/commits/6aa7d70b5706ac41a930ad60a07b359c6859fdff,6aa7d70b5706ac41a930ad60a07b359c6859fdff,Add templates for Issues and PRs
jeffmo,2016-07-05 22:30:07,https://api.github.com/repos/facebook/draft-js/git/commits/8fb61e9f8be9f330a3ce7f5ec1fac1b645bdd656,8fb61e9f8be9f330a3ce7f5ec1fac1b645bdd656,"www -> Flow v0.28

Reviewed By: mroch

Differential Revision: D3517879

fbshipit-source-id: 041ada5ccdd0464b9a261954d96518fcb14c528c"
zpao,2016-07-05 18:36:54,https://api.github.com/repos/facebook/draft-js/git/commits/d9a1898985549e22b9854719f85ac099e7a0ab25,d9a1898985549e22b9854719f85ac099e7a0ab25,"Generate .js.flow files

Summary:
> I've done this before, it'll only take a few minutes
> ‚Äî zpao, before he realized upgrading Babel was a prereq

The main goal here was to generate `.js.flow` files and fix #366. Then I needed to upgrade Babel, which meant using the new fbjs preset, which then needed to be updated as it wasn't as done as we thought since Draft has different considerations than fbjs. So now we need https://github.com/facebook/fbjs/pull/147 and https://github.com/facebook/fbjs/pull/148 to land there and ship before we can take this.

The [diff of lib/](https://gist.github.com/zpao/32c511aa1151aef1009eccb4f1cf0a5f) is pretty boring. Mostly it's a result of a few things:
- the helpers are different, this is particularly noticeable for classes
- code generation around comments got better - previously block comments near rewritten nodes (notably `require`) would be moved but now stay where they should
- conversely there are a bunch of newlines being inserted now. win some, lose some.
- a few errant `__esModule` markers
Closes https://github.com/facebook/draft-js/pull/389

Reviewed By: hellendag

Differential Revision: D3512297

fbshipit-source-id: 440de7b0f8110a850d20aa2dc420fd5638e1878a"
SecurityInsanity,2016-07-04 09:10:21,https://api.github.com/repos/facebook/draft-js/git/commits/bec44d508c170223a55955abb32f59b92a9cbc75,bec44d508c170223a55955abb32f59b92a9cbc75,"removes iOS format tooltips everywhere

fixes #214

thanks to @bradleyayers excellent digging it turns out there's a
CSS property you can assign to disable the bold/italics/underline
for iOS. although you can techincally apply this style seperately
, since the editor breaks due to the unexpected dom mutations i
think it's best if this actually gets defaultly added to the root
of the editor. which this commit does."
ouchxp,2016-07-04 03:48:15,https://api.github.com/repos/facebook/draft-js/git/commits/249d7b865ecddf3800212703bf606264d72fd1f9,249d7b865ecddf3800212703bf606264d72fd1f9,Fix style and comments according hellendag's note
hellendag,2016-07-04 02:19:12,https://api.github.com/repos/facebook/draft-js/git/commits/bda9b78a54e7b456e8833f41df2138349d3e7b03,bda9b78a54e7b456e8833f41df2138349d3e7b03,"Merge pull request #508 from LordLambda/master

removes window.prompt from media example"
SecurityInsanity,2016-07-04 00:51:22,https://api.github.com/repos/facebook/draft-js/git/commits/8099c0d34823de81d88b03304e0794ef2a855ced,8099c0d34823de81d88b03304e0794ef2a855ced,"removes window.prompt from media example

fixes #463

this fixes two things:
1. it fixes #463 where if you inserted a blank string for a piece
of media the editor state would be set to null.
2. the media example no longer uses window.prompt which previously
broke selection state. instead using an input like the link example.

it should be noted though that with this commit it's possible to
insert a blank url for media. i initially was going to add protection
for this, but after looking at the link example it appears the link
example doesn't care if you enter a blank link.

looking at the media objects generated for mp3/mp4 the play bar is still
there, and image is a whitespace. i'll happily add in a safeguard if
it's determined that's ""unwanted"" behavior. however I decided to stick
with consistency with the other examples for this commit."
hellendag,2016-07-03 19:01:37,https://api.github.com/repos/facebook/draft-js/git/commits/dff7d16e6ec8a9cd715de95159856bbb0f84319f,dff7d16e6ec8a9cd715de95159856bbb0f84319f,"Merge pull request #492 from CLowbrow/docs-paste

Add style un-setting to paste handler"
cgestes,2016-07-01 00:44:43,https://api.github.com/repos/facebook/draft-js/git/commits/7fe617d065a7d23a3a81ff35db0cb1d8011df141,7fe617d065a7d23a3a81ff35db0cb1d8011df141,"block level metadata

Summary:
This commit add support for block level metadata.

It is the same feature as https://github.com/facebook/draft-js/pull/157

This PR does not rely on entity, but just add a data field to ContentBlock.

hense block metadata are store in contentState and are supported by undo/redo.

Why not using entities?
- Entity are not made for block. what does type and mutability would map to?
- Entity are planned to be integrated into contentState anyway (see #185)
Closes https://github.com/facebook/draft-js/pull/216

Reviewed By: spicyj

Differential Revision: D3123774

fbshipit-source-id: 27fdf0090d8faafba2848cb72f584987af3bbe0e"
CLowbrow,2016-06-27 20:22:50,https://api.github.com/repos/facebook/draft-js/git/commits/b0ee1a80e8365765a49f1e35c756f1e96f14d797,b0ee1a80e8365765a49f1e35c756f1e96f14d797,"Update ambiguous handlePastedText docs

Summary:
handlePastedText docs don't say what the return value does. This came up in the slack.
Closes https://github.com/facebook/draft-js/pull/495

Differential Revision: D3489439

fbshipit-source-id: 1ce7a1f585332daa60c5e1f114884b0941021dd6"
CLowbrow,2016-06-26 22:31:06,https://api.github.com/repos/facebook/draft-js/git/commits/c6d74aed6acf5fb06d88a0529c4744f9cf308772,c6d74aed6acf5fb06d88a0529c4744f9cf308772,Add style un-setting to paste handler
zpao,2016-06-25 01:02:25,https://api.github.com/repos/facebook/draft-js/git/commits/3574709da8e811a7d8b91ff5a2fe1b0f10b69d69,3574709da8e811a7d8b91ff5a2fe1b0f10b69d69,"Codemod to use comma in Flow Object Types

Reviewed By: cpojer

Differential Revision: D3440404

fbshipit-source-id: e8030e9f468037c19c18c45c98d23f4817585ab4"
zpao,2016-06-21 16:40:20,https://api.github.com/repos/facebook/draft-js/git/commits/0d5124ead59cef45d3620e4098b1a456f634d359,0d5124ead59cef45d3620e4098b1a456f634d359,"Lock gulp-header at 1.8.2

Summary:
This works around the regression that 1.8.3 introduced.

Fixes #475.
Closes https://github.com/facebook/draft-js/pull/479

Differential Revision: D3463512

fbshipit-source-id: 27a6792c27ec0490e3e7d55b8d32159fde038518"
mitermayer,2016-06-20 23:11:54,https://api.github.com/repos/facebook/draft-js/git/commits/27a83d2bc4b69f8800e7a771b90960ce83676e76,27a83d2bc4b69f8800e7a771b90960ce83676e76,Fixing tests
bradleyayers,2016-06-20 15:46:34,https://api.github.com/repos/facebook/draft-js/git/commits/73cd60aa6065e01552c874ba7b3ba8a05622c5f8,73cd60aa6065e01552c874ba7b3ba8a05622c5f8,"Switch to the more conservative Immutable.js ~3.7.4 version to avoid upstream flow definition errors.

Summary:
The `3.8.x` versions of Immutable.js have changed `#toOrderedMap(): OrderedMap` to `#toOrderedMap(): Map` which breaks Draft.js ‚Äî so I propose we use `~3.7.4` instead of `^3.7.4`.

Draft.js's definition of `BlockMap` is `OrderedMap<string, ContentBlock>` which is not compatible with `Map`.

In the interim (until Immutable.js makes a decision as to whether `#toOrderedMap(): Map` is correct) using the `3.7.x` range allows Draft.js `master` to pass flow checks.
Closes https://github.com/facebook/draft-js/pull/468

Differential Revision: D3456991

fbshipit-source-id: 0e9a176d800d3216d30b00ae1da1a682ee93273b"
ouchxp,2016-06-20 05:23:45,https://api.github.com/repos/facebook/draft-js/git/commits/10105599918fb58dd4b41a4880b9e3ccbae61e61,10105599918fb58dd4b41a4880b9e3ccbae61e61,Decorator do not have `data-offset-key` attribute. Fix the implementation of `getSelectionOffsetKeyForNode` function to resolve the `data-offset-key` from decorator's children and fix tests.
SecurityInsanity,2016-06-20 03:28:44,https://api.github.com/repos/facebook/draft-js/git/commits/32c0412d464e4951550d07dd95d0ce7fdf12e87b,32c0412d464e4951550d07dd95d0ce7fdf12e87b,"handle xml carriage return, and zero width spaces

Summary:
Fixes #274

ignores carriage returns from xml entities, and also their zero-width-spaced
bretheren.
Closes https://github.com/facebook/draft-js/pull/361

Differential Revision: D3456170

fbshipit-source-id: da585741c000f87d9b236d573c4e9d5315c595c2"
zpao,2016-06-17 18:53:11,https://api.github.com/repos/facebook/draft-js/git/commits/49766c290c379018a2dc306b6558d22e226807a6,49766c290c379018a2dc306b6558d22e226807a6,"Upgrade Jest

Summary:
Might as well.
Closes https://github.com/facebook/draft-js/pull/472

Differential Revision: D3451299

fbshipit-source-id: fadefd301f78637c0041b8949f181f0114faf1ef"
mitermayer,2016-06-16 23:47:27,https://api.github.com/repos/facebook/draft-js/git/commits/306ec47764f86ffe0da52fc3d47160e305531aeb,306ec47764f86ffe0da52fc3d47160e305531aeb,Removing Flow Object casting
mitermayer,2016-06-16 21:54:56,https://api.github.com/repos/facebook/draft-js/git/commits/0ca47db11111a9dee8aae0f419448653a7646e35,0ca47db11111a9dee8aae0f419448653a7646e35,Merge branch 'master' into adding-extra-supported-whitelist-for-entities
mitermayer,2016-06-16 21:53:27,https://api.github.com/repos/facebook/draft-js/git/commits/b84ac070fde0017d97789010233e0427dbefb838,b84ac070fde0017d97789010233e0427dbefb838,Merge branch 'master' into adding-extra-supported-whitelist-for-entities
mitermayer,2016-06-16 17:28:09,https://api.github.com/repos/facebook/draft-js/git/commits/98ac53ff34fa28c8bc8d93f5a14f9d8ee73661ce,98ac53ff34fa28c8bc8d93f5a14f9d8ee73661ce,"draftBlockRender-compatibility-with-custom-blocks - Making sure user ‚Ä¶

Summary:
Having the nullthrows defined for the blockRenderMap meant that any custom block that defined a type would have to also add to the blockRenderMap.
Closes https://github.com/facebook/draft-js/pull/372

Reviewed By: ezequiel

Differential Revision: D3444496

fbshipit-source-id: 02b82474cba790d5423234ef4afe0e18b6853cda"
mitermayer,2016-06-16 00:06:28,https://api.github.com/repos/facebook/draft-js/git/commits/1ffa0cc0e64c5417b4eaa63371a3a6cc7640b457,1ffa0cc0e64c5417b4eaa63371a3a6cc7640b457,"minor-fix-for-getting-supported-tags - Making sure the supported tags‚Ä¶

Summary:
Making sure that we always return a valid array of tags

- Before this fix we could sometimes have 'null' as part of the set depending on how the blockRenderMap has been defined, since they could have defined just a wrapper renderer and no element.
Closes https://github.com/facebook/draft-js/pull/373

Differential Revision: D3441519

fbshipit-source-id: 10da42187dde77058cb5a92fc53d9aef4279b033"
paulyoung,2016-06-15 23:49:47,https://api.github.com/repos/facebook/draft-js/git/commits/314dc5ad918ef3ae4f1feb15bf9fb50458a38ee9,314dc5ad918ef3ae4f1feb15bf9fb50458a38ee9,"Fix a typo in the comment for blockRenderMap

Summary:
FWIW, this doesn't appear to be used in any generated documentation.
Closes https://github.com/facebook/draft-js/pull/447

Differential Revision: D3441359

fbshipit-source-id: d29c6d29fdad646a965c27d09ebfaefffc7ff6df"
aviraldg,2016-06-15 23:42:43,https://api.github.com/repos/facebook/draft-js/git/commits/217e5132209c79b9c5bbca7582624e67be231d39,217e5132209c79b9c5bbca7582624e67be231d39,"Correct RichUtils.handleKeyCommand return type in docs.

Summary: Closes https://github.com/facebook/draft-js/pull/460

Differential Revision: D3441314

fbshipit-source-id: 26731776baaa5567754743c06d3dd75b0d1856cd"
SecurityInsanity,2016-06-15 21:07:53,https://api.github.com/repos/facebook/draft-js/git/commits/083f3f6beb73e43969c9f41d8a121a134ad24c68,083f3f6beb73e43969c9f41d8a121a134ad24c68,"removes non-existant ""undo/redo"" from docs

Summary:
fixes #462

in the api reference for editor state under the ""push"" method there
was a link to a non-existant ""advanced undo/redo"" page. since this page
didn't exist we should just remove it, and add it back in if it ever
comes to fruition.
Closes https://github.com/facebook/draft-js/pull/469

Differential Revision: D3439705

fbshipit-source-id: 9250cbd3d82ffc6bc1cc7baec101e0afda42d7a2"
brookslyrette,2016-06-15 18:49:42,https://api.github.com/repos/facebook/draft-js/git/commits/f233b42ccdff63406c8e0c39fdb61af0e76c5f4f,f233b42ccdff63406c8e0c39fdb61af0e76c5f4f,"Now uses internalClipboard when present and in Safari.

Summary:
After looking at how CKEditor I realized I was overthinking this. No extra clipboard library was need. The clipboard was already being stored.

The only drawback to this solution is that formatting is only preserved when cut and pasted within one editor instance.

Fixes #147
Closes https://github.com/facebook/draft-js/pull/285

Reviewed By: spicyj

Differential Revision: D3245884

fbshipit-source-id: 38a77227d6cad16e5114a419acc4ff792a55a453"
jeffmo,2016-06-13 23:57:25,https://api.github.com/repos/facebook/draft-js/git/commits/3181012f7b171d4f6acd2c1b33cd01ab14af5798,3181012f7b171d4f6acd2c1b33cd01ab14af5798,"v0.27.0: www

Reviewed By: gabelevi

Differential Revision: D3422049

fbshipit-source-id: 55361b4c405a99e7d07e33c23c33ebb4ba93e9bd"
mitermayer,2016-06-13 07:40:12,https://api.github.com/repos/facebook/draft-js/git/commits/bd74cf78af6a7f61a6b9bd7a7f493f0d9cc27307,bd74cf78af6a7f61a6b9bd7a7f493f0d9cc27307,Refactoring minor updates
davidbyttow,2016-05-01 15:32:04,https://api.github.com/repos/facebook/draft-js/git/commits/f9ae680e5ee9ed2a995d007bd1def247df89685e,f9ae680e5ee9ed2a995d007bd1def247df89685e,Fixes previous merge conflict
sampepose,2016-05-27 23:53:46,https://api.github.com/repos/facebook/draft-js/git/commits/8689bcd0a9b3aff402db0720789f3d4028645ef1,8689bcd0a9b3aff402db0720789f3d4028645ef1,"Codemod: replaced `jest.fn().mockReturnValue(x)` with `jest.fn(() => x)`

Reviewed By: cpojer

Differential Revision: D3360170

fbshipit-source-id: c133a2a2677b7dc72e2b8fbbdf1c9d70c4d69d85"
bhosmer,2016-05-20 01:51:02,https://api.github.com/repos/facebook/draft-js/git/commits/1ce48f67728681fcb7c24a73ac26fa8b97a6e909,1ce48f67728681fcb7c24a73ac26fa8b97a6e909,"explicit type args in static_upstream

Reviewed By: zpao

Differential Revision: D3315855

fbshipit-source-id: 147ca8b5faf8ad292c3cc8e171cec3b25412d09d"
gabelevi,2016-05-17 16:19:47,https://api.github.com/repos/facebook/draft-js/git/commits/c6337f2af75db79850c9cab3c35b836f9170400c,c6337f2af75db79850c9cab3c35b836f9170400c,"Update static_upstream to use v0.25.0

Reviewed By: jeffmo

Differential Revision: D3308267

fbshipit-source-id: 43d72045bca7471eaae25fbf1b76dffd5ea6702a"
johanneslumpe,2016-05-11 20:40:43,https://api.github.com/repos/facebook/draft-js/git/commits/325421dc7d049e6bd950abe7f61773225bf0e79d,325421dc7d049e6bd950abe7f61773225bf0e79d,"Typo-fix: added missing paren

Summary: Closes https://github.com/facebook/draft-js/pull/383

Differential Revision: D3289131

fbshipit-source-id: 820ad689e19143e11b5486cdb83aa6cb71452dfa"
benbriggs,2016-05-11 17:48:47,https://api.github.com/repos/facebook/draft-js/git/commits/ae55bee446558a3fadb57b28a443ec5517c45780,ae55bee446558a3fadb57b28a443ec5517c45780,"Improve variable use and names in joinChunks

Summary:
When making my own modifications to this function this bugged me a bit. Renamed `lastInB` to `firstInB` to match what it actually is and add parity for chunk `A` by adding a `lastInA` instead of manually slicing every time.
Closes https://github.com/facebook/draft-js/pull/379

Reviewed By: ezequiel

Differential Revision: D3286667

fbshipit-source-id: b30a1ff8fccc1d1e4accd29b3cfa3e099ed00c10"
MarcelCutts,2016-05-09 20:13:08,https://api.github.com/repos/facebook/draft-js/git/commits/5476a16fb79a72b1e13e28a7d64541c763e220c8,5476a16fb79a72b1e13e28a7d64541c763e220c8,"Corrected extremely minor typo in convertFromHTMLToContentBlocks.js

Summary:
A comment within `convertFromHTMLToContentBlocks.js` uses 'hare' when it should be 'here'.
Closes https://github.com/facebook/draft-js/pull/370

Reviewed By: ezequiel

Differential Revision: D3264867

fbshipit-source-id: f68c07a49c37ffce860307517ea26b5dd8683d07"
johanneslumpe,2016-05-09 18:23:44,https://api.github.com/repos/facebook/draft-js/git/commits/4c682eef054973a0e4b814992aa6e235330e671c,4c682eef054973a0e4b814992aa6e235330e671c,"Preserve pasted block type when pasting at the beginning of a block

Summary:
Fixes https://github.com/facebook/draft-js/issues/302.
Closes https://github.com/facebook/draft-js/pull/356

Reviewed By: ezequiel

Differential Revision: D3276799

fbshipit-source-id: 601d6603097396c74e2007e591f842d14385bba1"
mitermayer,2016-05-06 03:41:47,https://api.github.com/repos/facebook/draft-js/git/commits/6ee39888022a5fb463ae1991fa9208ee1563b452,6ee39888022a5fb463ae1991fa9208ee1563b452,"adding-extra-supported-whitelist-for-entities - Making sure that entities also support other common attributes

- Including className, rel, target, title for entities. This is very important when using for pasting or importing HTML for compatibility with already existing apps"
hellendag,2016-05-04 00:15:13,https://api.github.com/repos/facebook/draft-js/git/commits/d2360b6ded6fae6acc4d845972763a9959528c95,d2360b6ded6fae6acc4d845972763a9959528c95,"Release 0.7.0

Summary:
Please see #355 -- the next release will most likely be in early June. :)
Closes https://github.com/facebook/draft-js/pull/364

Differential Revision: D3256442

fb-gh-sync-id: 3f3a4904565d720dcbe0a4755713115f17807c94
fbshipit-source-id: 3f3a4904565d720dcbe0a4755713115f17807c94"
hellendag,2016-05-03 17:04:11,https://api.github.com/repos/facebook/draft-js/git/commits/575e051369e11ecb9a362e843f557acc36d934b7,575e051369e11ecb9a362e843f557acc36d934b7,"Rich example: Remove P

Summary:
I think this adds confusion, and it breaks spacing. I'd be happy to have a different example for this, but I don't think this is the right way to exemplify the block render map.
Closes https://github.com/facebook/draft-js/pull/362

Differential Revision: D3253192

fb-gh-sync-id: 557ba9096c66fb15af5c665d07db4b030c61ec5d
fbshipit-source-id: 557ba9096c66fb15af5c665d07db4b030c61ec5d"
phs1919,2016-05-02 15:39:09,https://api.github.com/repos/facebook/draft-js/git/commits/04bbb39c8c32c7bbd910145e0e71823f20d7f8b9,04bbb39c8c32c7bbd910145e0e71823f20d7f8b9,"Fix rich example

Summary:
`rich` example is currently not working since `immutable` library and  `customBlockRenderMap` are not properly used. Updated after signing CLA.
Closes https://github.com/facebook/draft-js/pull/360

Differential Revision: D3247535

fb-gh-sync-id: d8d8b6ef567e3d65ab3d19c2501d65789a68a413
fbshipit-source-id: d8d8b6ef567e3d65ab3d19c2501d65789a68a413"
hellendag,2016-05-01 02:46:30,https://api.github.com/repos/facebook/draft-js/git/commits/9d3da64afb2a514fc4d3117e47b05e4f87df1d25,9d3da64afb2a514fc4d3117e47b05e4f87df1d25,"Fix deletion behavior around atomic blocks

Summary:
There is currently a selection state bug for deletion behavior around atomic blocks. Namely, removing an atomic block from a neighboring block will remove the atomic block but leave the cursor in an invalid state.

Make it so that atomic blocks will be removed during:

- Forward deletion from the last offset of a preceding block
- Backward deletion from the zero offset of a following block

tasti and I discussed whether there should be some special behavior for forward deletion from an empty preceding block, i.e. removing the current block and moving the cursor upward, but this seemed magical.

We can try this out and adjust the behavior as needed.
Closes https://github.com/facebook/draft-js/pull/332

Reviewed By: ezequiel

Differential Revision: D3245579

fb-gh-sync-id: a250cf87515f225d13e1da30023b9fb681e06ef5
fbshipit-source-id: a250cf87515f225d13e1da30023b9fb681e06ef5"
johanneslumpe,2016-05-01 02:45:45,https://api.github.com/repos/facebook/draft-js/git/commits/3001e47907ce5ac28a0d5a25b0e144c48127d09a,3001e47907ce5ac28a0d5a25b0e144c48127d09a,"Fixed applying entities across multiple blocks

Summary:
Fixes https://github.com/facebook/draft-js/issues/349
Closes https://github.com/facebook/draft-js/pull/350

Reviewed By: spicyj

Differential Revision: D3243261

fb-gh-sync-id: 1ad571819a839c256e2a91628e288ba7e0aba9b4
fbshipit-source-id: 1ad571819a839c256e2a91628e288ba7e0aba9b4"
mitermayer,2016-05-01 02:37:00,https://api.github.com/repos/facebook/draft-js/git/commits/e2037984f32de4d3c267f6d43e0588fd124c0168,e2037984f32de4d3c267f6d43e0588fd124c0168,"adding-support-for-paragraph - making blockTypes configurable

Summary:
This fixes issue https://github.com/facebook/draft-js/issues/204

- Including paragraph on converter
- Updating website and demo
- Updating example
Closes https://github.com/facebook/draft-js/pull/205

Reviewed By: ezequiel

Differential Revision: D3147267

fb-gh-sync-id: ae51df9b838597066a699dced879b2795e59db26
fbshipit-source-id: ae51df9b838597066a699dced879b2795e59db26"
sota000,2016-04-28 19:56:44,https://api.github.com/repos/facebook/draft-js/git/commits/5c957ad75d299fd77b098bed3965f753defc4d9a,5c957ad75d299fd77b098bed3965f753defc4d9a,"Keeping the visual and aural experiences the same

Reviewed By: jessebeach

Differential Revision: D3232302

fb-gh-sync-id: 60cc28da92b34d14775b39532d491c0bc5ff6e02
fbshipit-source-id: 60cc28da92b34d14775b39532d491c0bc5ff6e02"
sota000,2016-04-27 18:40:13,https://api.github.com/repos/facebook/draft-js/git/commits/0ef9dcb0b5da9d14cf7cd6335b48a410b638080f,0ef9dcb0b5da9d14cf7cd6335b48a410b638080f,"Remove the use of the title attribute

Reviewed By: hellendag

Differential Revision: D3226729

fb-gh-sync-id: 236a3397ae8f0979975572262746e4a0115a24c8
fbshipit-source-id: 236a3397ae8f0979975572262746e4a0115a24c8"
hellendag,2016-04-27 18:33:54,https://api.github.com/repos/facebook/draft-js/git/commits/6e73b435fbf2643339e80aac9944912b30167c5f,6e73b435fbf2643339e80aac9944912b30167c5f,"Release 0.6.0

Summary: Closes https://github.com/facebook/draft-js/pull/343

Differential Revision: D3230727

fb-gh-sync-id: 000133d5f45648f42e7e913db108448e5f8dd1a6
fbshipit-source-id: 000133d5f45648f42e7e913db108448e5f8dd1a6"
johanneslumpe,2016-04-26 23:12:18,https://api.github.com/repos/facebook/draft-js/git/commits/b252b70533e1420192b2f44e4e4c39ebe061bbfa,b252b70533e1420192b2f44e4e4c39ebe061bbfa,"Prevent loss of entity during spellchecking

Summary:
Right now entities are lost when using the spellchecking feature of a browser. This change fixes that.

- [x] Fix `IMMUTABLE` entity undo bug
- [x] Completely remove `IMMUTABLE` entity and insert characters if spell change adds characters
- [x] Completely remove `IMMUTABLE` entity and insert characters if spell change changes characters
- [x] Completely remove `IMMUTABLE` entity and insert all characters if spell change removes characters
- [x] Completely remove `SEGMENTED` entity and insert characters if if spell change removes characters
- [x] Completely remove `SEGMENTED` entity and insert characters if character within entity is changed
- [x] Completely remove `SEGMENTED` entity and insert characters if character is added within entity
Closes https://github.com/facebook/draft-js/pull/276

Reviewed By: spicyj

Differential Revision: D3219189

fb-gh-sync-id: 58550b9bfc8e3c6589a425b2d481f6d6f6a1c19e
fbshipit-source-id: 58550b9bfc8e3c6589a425b2d481f6d6f6a1c19e"
rickyvetter,2016-04-26 19:18:40,https://api.github.com/repos/facebook/draft-js/git/commits/e66673d4f1776a3cd58a5e9100b09f0bd96d8244,e66673d4f1776a3cd58a5e9100b09f0bd96d8244,"Let cmd+backspace delete new line character.

Summary:
This adds extra logic to allow cmd+backspace to check for empty selections
at the beginning of a line a delete the new line character instead of doing
nothing. This behavior matches Chrome textarea.

Closes #295
Closes https://github.com/facebook/draft-js/pull/301

Reviewed By: hellendag

Differential Revision: D3219188

fb-gh-sync-id: 42c945d125d1a4b62ab3ec88bcda6a2f364e7bc5
fbshipit-source-id: 42c945d125d1a4b62ab3ec88bcda6a2f364e7bc5"
cpojer,2016-04-26 10:22:53,https://api.github.com/repos/facebook/draft-js/git/commits/e2949e4ba26a3daa7de639e9cf8de736db05456e,e2949e4ba26a3daa7de639e9cf8de736db05456e,"Update to Jest 11.0.2.

Summary:
I ran a codemod and broke draft-js. Updated to the latest version. Had to fix one test that in open source wasn't behaving. I think this fixes it properly, must have been a Jest bug before :)
Closes https://github.com/facebook/draft-js/pull/341

Differential Revision: D3223859

fb-gh-sync-id: 03ea20ebcb14caa40103ffa06c3561c0faaa645d
fbshipit-source-id: 03ea20ebcb14caa40103ffa06c3561c0faaa645d"
cpojer,2016-04-26 09:13:03,https://api.github.com/repos/facebook/draft-js/git/commits/0f75b0292659d63a59ef3aa6ef73bcdc1f4b356b,0f75b0292659d63a59ef3aa6ef73bcdc1f4b356b,"Codemod to new Jest APIs

Reviewed By: kentaromiura

Differential Revision: D3223799

fb-gh-sync-id: a5e4786df5b861a90bae0e0504af6b6ceb787f52
fbshipit-source-id: a5e4786df5b861a90bae0e0504af6b6ceb787f52"
hellendag,2016-04-24 22:26:46,https://api.github.com/repos/facebook/draft-js/git/commits/d8823c95eb3488b491fd05b909666db190d32d96,d8823c95eb3488b491fd05b909666db190d32d96,"Fix return types in Data Conversion doc

Summary:As noted in #333.
Closes https://github.com/facebook/draft-js/pull/336

Differential Revision: D3218108

fb-gh-sync-id: 6623e6646672ed733b4e0bf87a25ea740bba3cfa
fbshipit-source-id: 6623e6646672ed733b4e0bf87a25ea740bba3cfa"
zpao,2016-04-21 23:21:27,https://api.github.com/repos/facebook/draft-js/git/commits/555f646bd942f960691499411495a0bdfbb73a8c,555f646bd942f960691499411495a0bdfbb73a8c,"Use React 15 for the website (client-side)

Summary:It doesn't use v15 for the server-side generation. That requires changes to react-page-middleware and I just wanted to get this up quickly.

Fixes #323
Closes https://github.com/facebook/draft-js/pull/330

Differential Revision: D3210313

fb-gh-sync-id: 29779759cc0a14802144c0ee84d69f07a4a14dff
fbshipit-source-id: 29779759cc0a14802144c0ee84d69f07a4a14dff"
remko,2016-04-21 18:57:07,https://api.github.com/repos/facebook/draft-js/git/commits/d67d3e8b035d165fb397daebc8f19b82a6fbdc8b,d67d3e8b035d165fb397daebc8f19b82a6fbdc8b,"Make 'Return' key go through command flow

Summary:As suggested by hellendag in https://github.com/facebook/draft-js/pull/216#issuecomment-197979832

This allows customization of custom block  split behavior when hitting 'Return'.
Closes https://github.com/facebook/draft-js/pull/264

Reviewed By: CLowbrow

Differential Revision: D3169102

fb-gh-sync-id: 6eab0913a78b8f95c0c624ba25f7c33cd5033753
fbshipit-source-id: 6eab0913a78b8f95c0c624ba25f7c33cd5033753"
hellendag,2016-04-20 17:27:07,https://api.github.com/repos/facebook/draft-js/git/commits/9efb9af73a4e42e70c8aa0a5025912d4571280c7,9efb9af73a4e42e70c8aa0a5025912d4571280c7,"Document EditorChangeType

Summary:Also remove some unused values and alphabetize the enum.
Closes https://github.com/facebook/draft-js/pull/315

Differential Revision: D3202473

fb-gh-sync-id: 2a30eadfc15a83d1ac2af18e0c7cc036c0851d77
fbshipit-source-id: 2a30eadfc15a83d1ac2af18e0c7cc036c0851d77"
zpao,2016-04-20 16:51:20,https://api.github.com/repos/facebook/draft-js/git/commits/419ea3d1132ea8e75a793bcb675fc81ac71166d1,419ea3d1132ea8e75a793bcb675fc81ac71166d1,"Upgrade fbjs to 0.8.1 to force that dependency for flow

Summary:Mostly this should trigger Travis CI to upgrade I think, but also it's technically right and I should have done this in my Flow change.
Closes https://github.com/facebook/draft-js/pull/328

Differential Revision: D3202328

fb-gh-sync-id: e5fd0993a3d10b2e2df1fe3f2f92d9246a48f620
fbshipit-source-id: e5fd0993a3d10b2e2df1fe3f2f92d9246a48f620"
zpao,2016-04-19 02:52:57,https://api.github.com/repos/facebook/draft-js/git/commits/47e369510316e8f885df520cdb13d61d94e39f84,47e369510316e8f885df520cdb13d61d94e39f84,"Upgrade flow to 0.23

Summary:Simplified version of #313. We don't actually need the Promise definition here (anymore?), though I did ship it in fbjs@0.8.1.

I also added the flow version we expect to the flowconfig so we'll hard fail there if we ever mismatch.
Closes https://github.com/facebook/draft-js/pull/322

Differential Revision: D3195262

fb-gh-sync-id: dc6bc1db8b0a1b941656bccfa9a8ff22335c5e0a
fbshipit-source-id: dc6bc1db8b0a1b941656bccfa9a8ff22335c5e0a"
hellendag,2016-04-15 20:37:13,https://api.github.com/repos/facebook/draft-js/git/commits/ee082faaa2e7bd57ef755e1674511aa9aa11fb26,ee082faaa2e7bd57ef755e1674511aa9aa11fb26,"Fix examples

Summary:The recent change to `convertFromRaw` left some examples broken.

Also update TeX example to React 15.

Fixes #307 and #308.
Closes https://github.com/facebook/draft-js/pull/314

Differential Revision: D3186362

fb-gh-sync-id: b52c7ea61415580b554d69b646449d141442b7c7
fbshipit-source-id: b52c7ea61415580b554d69b646449d141442b7c7"
remko,2016-04-15 19:09:00,https://api.github.com/repos/facebook/draft-js/git/commits/d020f38751e5c34884e2ed062af6ee901896266c,d020f38751e5c34884e2ed062af6ee901896266c,"Documentation Updates

Summary: Closes https://github.com/facebook/draft-js/pull/300

Differential Revision: D3185861

fb-gh-sync-id: 12394994555e1089762a9f20ee8dbef6c3e2810a
fbshipit-source-id: 12394994555e1089762a9f20ee8dbef6c3e2810a"
gabelevi,2016-04-15 08:53:03,https://api.github.com/repos/facebook/draft-js/git/commits/fadf9ace40e5f1e869e50f75fa3a97769bf95aa2,fadf9ace40e5f1e869e50f75fa3a97769bf95aa2,"Deploy v0.23.0 to static upstream

Reviewed By: samwgoldman

Differential Revision: D3182102

fb-gh-sync-id: d41bda76d7472fbe0e7109cd88f97597021126da
fbshipit-source-id: d41bda76d7472fbe0e7109cd88f97597021126da"
ianstormtaylor,2016-04-13 21:20:39,https://api.github.com/repos/facebook/draft-js/git/commits/844b85e6576b0575a716bbfe0381336737482b53,844b85e6576b0575a716bbfe0381336737482b53,"change convertFromRaw to return a ContentState, fixes #230

Summary:This way convertFromRaw and convertToRaw are parallel, both dealing with ContentState instead of one returning an array of ContentBlocks. Fixes #230.

hellendag Let me know how this looks! I didn't see any tests for the converters, and I haven't used Flow before, or contributed to any Facebook repos.
Closes https://github.com/facebook/draft-js/pull/239

Reviewed By: spicyj

Differential Revision: D3109637

fb-gh-sync-id: 6f9cd8796c4e29eed037d22ea20de90cbe69e18f
fbshipit-source-id: 6f9cd8796c4e29eed037d22ea20de90cbe69e18f"
hellendag,2016-04-13 16:53:53,https://api.github.com/repos/facebook/draft-js/git/commits/ed54d816a883c30d68fed5c3c3b2ed48fd5840d4,ed54d816a883c30d68fed5c3c3b2ed48fd5840d4,"Add ContentState.getFirstBlock()

Summary:Also do some documentation cleanup.
Closes https://github.com/facebook/draft-js/pull/299

Reviewed By: CLowbrow

Differential Revision: D3170417

fb-gh-sync-id: 1d07793326610905b3256bfc5058c93ff422cac2
fbshipit-source-id: 1d07793326610905b3256bfc5058c93ff422cac2"
jaaberg,2016-04-13 16:28:12,https://api.github.com/repos/facebook/draft-js/git/commits/55a3f58f1aa0d386b9b1c47b5910818e840a7312,55a3f58f1aa0d386b9b1c47b5910818e840a7312,"Add the release talk to the docs

Summary:Fixes [#163](https://github.com/facebook/draft-js/issues/163). Been in the loop for over a month, so I thought it was time to get it in.

Placed it under overview section in the docs.
Closes https://github.com/facebook/draft-js/pull/288

Differential Revision: D3173936

fb-gh-sync-id: b5f09d4246acb50fbe5f2fdfce6c40e59f8060b0
fbshipit-source-id: b5f09d4246acb50fbe5f2fdfce6c40e59f8060b0"
johanneslumpe,2016-04-12 22:03:38,https://api.github.com/repos/facebook/draft-js/git/commits/329563f5dc470cb267deb7c92803b322296106d1,329563f5dc470cb267deb7c92803b322296106d1,"Use inline-block for proper button wrapping

Summary:This fixes https://github.com/facebook/draft-js/issues/222
Closes https://github.com/facebook/draft-js/pull/279

Differential Revision: D3170667

fb-gh-sync-id: 72e4efb7dffd0aa1310abc67ac0a5f2514854b62
fbshipit-source-id: 72e4efb7dffd0aa1310abc67ac0a5f2514854b62"
hellendag,2016-04-12 17:39:21,https://api.github.com/repos/facebook/draft-js/git/commits/e15d6b2cd54c7bd5a1c6e3700fb224e47864053a,e15d6b2cd54c7bd5a1c6e3700fb224e47864053a,"Release 0.5.0

Summary:Now that we've got some more changes live on facebook.com, we can get the current master out as a release.
Closes https://github.com/facebook/draft-js/pull/297

Differential Revision: D3168835

fb-gh-sync-id: cae701017d3c37d264f71db10ec481677694921a
fbshipit-source-id: cae701017d3c37d264f71db10ec481677694921a"
remko,2016-04-12 16:41:56,https://api.github.com/repos/facebook/draft-js/git/commits/5ce1591ca5b2ca9b5b4fb71d5d4efbf46e99317f,5ce1591ca5b2ca9b5b4fb71d5d4efbf46e99317f,"docs: Fix incorrect anchor

Summary: Closes https://github.com/facebook/draft-js/pull/298

Differential Revision: D3168538

fb-gh-sync-id: 64642e2d89bdf61ff8f5b469a9c89ea16523f0dd
fbshipit-source-id: 64642e2d89bdf61ff8f5b469a9c89ea16523f0dd"
jaaberg,2016-04-12 15:43:04,https://api.github.com/repos/facebook/draft-js/git/commits/af69c3ed4c8d635120fd1668e6c81efb5549d8a8,af69c3ed4c8d635120fd1668e6c81efb5549d8a8,"Remove h3-h6 from the lightweight editor demo

Summary:Removed the H3-H6 from the demo as it is just a lightweight demo, and H1-H2 should be enough to get the point across. As suggested by hellendag in [#222 (comment)](https://github.com/facebook/draft-js/issues/222#issuecomment-199341556).
Closes https://github.com/facebook/draft-js/pull/287

Differential Revision: D3168315

fb-gh-sync-id: 9c30caf8fe970d504f3242bd7a5a24acc9e55e53
fbshipit-source-id: 9c30caf8fe970d504f3242bd7a5a24acc9e55e53"
ffxsam,2016-04-12 15:38:28,https://api.github.com/repos/facebook/draft-js/git/commits/50fd445c6c516c36801967e15865e01ddcad6b3b,50fd445c6c516c36801967e15865e01ddcad6b3b,"Method needed to be bound

Summary:Added pre-bind for `handleKeyCommand`
Closes https://github.com/facebook/draft-js/pull/294

Differential Revision: D3168316

fb-gh-sync-id: 1bea0f0d8844dc8ca3762be42ee7ab00339f7176
fbshipit-source-id: 1bea0f0d8844dc8ca3762be42ee7ab00339f7176"
remko,2016-04-12 15:38:27,https://api.github.com/repos/facebook/draft-js/git/commits/62953cac18f37b692d5745123e386d9b24db6c75,62953cac18f37b692d5745123e386d9b24db6c75,"Documentation fixes

Summary:Fix incorrect & missing anchors in docs.
Closes https://github.com/facebook/draft-js/pull/281

Differential Revision: D3168317

fb-gh-sync-id: f8d3011a1706d8e9735eb8ecfad7ef5fe32bd8cc
fbshipit-source-id: f8d3011a1706d8e9735eb8ecfad7ef5fe32bd8cc"
hellendag,2016-04-06 23:07:17,https://api.github.com/repos/facebook/draft-js/git/commits/72cc76fab1f00e7120efce2d5f7f98b6c5b2134c,72cc76fab1f00e7120efce2d5f7f98b6c5b2134c,"Release 0.4.0

Summary: Closes https://github.com/facebook/draft-js/pull/273

Differential Revision: D3147269

fb-gh-sync-id: 43877fc0a71b1f6d0d0996b8d32c97e803c6ee5e
fbshipit-source-id: 43877fc0a71b1f6d0d0996b8d32c97e803c6ee5e"
bryanrsmith,2016-04-06 18:02:10,https://api.github.com/repos/facebook/draft-js/git/commits/b636434e00cd7a8924f73f703fd32e28bd651798,b636434e00cd7a8924f73f703fd32e28bd651798,"Add EditorState.setInlineStyleOverride

Summary:As discussed on Slack, this change adds a convenience method to `EditorState` for setting the inline style override without resorting to the undocumented `EditorState.set` method.
Closes https://github.com/facebook/draft-js/pull/247

Reviewed By: spicyj

Differential Revision: D3123611

fb-gh-sync-id: b7635ea5cfc012635122751902938d55201cdbbe
fbshipit-source-id: b7635ea5cfc012635122751902938d55201cdbbe"
tasti,2016-04-06 07:13:47,https://api.github.com/repos/facebook/draft-js/git/commits/0096d9873e5f7e98145c0a835a52a42f54003306,0096d9873e5f7e98145c0a835a52a42f54003306,"Rename media to atomic

Reviewed By: hellendag

Differential Revision: D3139263

fb-gh-sync-id: 44b724e2a975d9f12d71f4ef936ab7dd16ab5165
fbshipit-source-id: 44b724e2a975d9f12d71f4ef936ab7dd16ab5165"
brookslyrette,2016-04-06 01:04:15,https://api.github.com/repos/facebook/draft-js/git/commits/358dc595f0820f2703d95e81b96b5e8271e1f878,358dc595f0820f2703d95e81b96b5e8271e1f878,"Opt-Space no longer scrolls (Chrome OSX)

Summary:`Option + Space` no longer causes scrolling. This was only happening in Chrome/OSX. This was happening in the keyDown handler not the keyPress handler.

I'm not sure if I like adding the ' ' to the editor in editOnKeyDown. Maybe I should implement this as a command?

Fixes #19
Closes https://github.com/facebook/draft-js/pull/244

Reviewed By: spicyj

Differential Revision: D3132586

fb-gh-sync-id: b94bd73094a58ce9b39528df34b899ae62366761
fbshipit-source-id: b94bd73094a58ce9b39528df34b899ae62366761"
johanneslumpe,2016-04-05 22:10:37,https://api.github.com/repos/facebook/draft-js/git/commits/75908adf1890cac7e4802582e783bf3922ea2677,75908adf1890cac7e4802582e783bf3922ea2677,"Fix cursor behavior for soft new lines

Summary:Forcing a selection will cause the browser to behave properly and show the cursor for multiple new lines.
Closes https://github.com/facebook/draft-js/pull/255

Reviewed By: spicyj

Differential Revision: D3132587

fb-gh-sync-id: 93d94cfae96e7233b573623cd8076fa212a87182
fbshipit-source-id: 93d94cfae96e7233b573623cd8076fa212a87182"
remko,2016-04-05 17:45:02,https://api.github.com/repos/facebook/draft-js/git/commits/8ac9cf31deca5b021ff2ae0a98a8e32ecf9f6d14,8ac9cf31deca5b021ff2ae0a98a8e32ecf9f6d14,"Documentation updates

Summary:Added some missing documentation.

I didn't really document `RichUtils`, I just added a placeholder so it's at least easy to find out which methods are available without having to resort to the source code (and the names should be self explanatory enough for it to be good for now).

Resolves #263
Closes https://github.com/facebook/draft-js/pull/269

Differential Revision: D3139568

fb-gh-sync-id: 34cfa671c189b561c6a84c5ba991be224019dbe1
fbshipit-source-id: 34cfa671c189b561c6a84c5ba991be224019dbe1"
tasti,2016-03-31 23:40:35,https://api.github.com/repos/facebook/draft-js/git/commits/226d3616c6edf5937bdc5a9c8696efb0df57e6d7,226d3616c6edf5937bdc5a9c8696efb0df57e6d7,"Add a media example

Summary:Looks like people were interested in seeing an example using media (https://github.com/facebook/draft-js/issues/46).

I created an example that shows how to use Custom Block Components to attach audio, image, and video into the editor.

Side note:

The docs (http://facebook.github.io/draft-js/docs/advanced-topics-block-components.html) led me to believe it's much simpler to render custom blocks. However, more steps (see `insertMedia(...)`) were needed to wrap around the media for it to work well. The `tex` example (https://github.com/facebook/draft-js/blob/master/examples/tex/js/modifiers/insertTeXBlock.js) has the same code to handle this. Can we provide this as a utility function?
Closes https://github.com/facebook/draft-js/pull/67

Reviewed By: hellendag

Differential Revision: D2989709

fb-gh-sync-id: 76c11119760c61d9935e4dd14030fb85485355d2
fbshipit-source-id: 76c11119760c61d9935e4dd14030fb85485355d2"
tasti,2016-03-29 21:05:58,https://api.github.com/repos/facebook/draft-js/git/commits/67c5e69499e3b0c149ce83b004872afdf4180463,67c5e69499e3b0c149ce83b004872afdf4180463,"Custom block component wrapper

Reviewed By: hellendag

Differential Revision: D3053015

fb-gh-sync-id: f6371d5a799d3a9603289fc3c60f5fae3457d3ee
fbshipit-source-id: f6371d5a799d3a9603289fc3c60f5fae3457d3ee"
mitermayer,2016-03-29 20:51:57,https://api.github.com/repos/facebook/draft-js/git/commits/ef76da80ef548b8a086a8c3090e632b306d4da90,ef76da80ef548b8a086a8c3090e632b306d4da90,"gulp-development-task - Adding a dev gulp task

Summary:- Having a development task for gulp allow us to do TDD a lot quicker and exploratory testing using the html files
Closes https://github.com/facebook/draft-js/pull/242

Differential Revision: D3110358

fb-gh-sync-id: 50f105e0ec9d8e180b057b2f025b33408628ccc7
fbshipit-source-id: 50f105e0ec9d8e180b057b2f025b33408628ccc7"
mitermayer,2016-03-29 18:13:35,https://api.github.com/repos/facebook/draft-js/git/commits/cc67a42eb236172343a3dc39ee13495a3ee7ed01,cc67a42eb236172343a3dc39ee13495a3ee7ed01,"adding-flow-to-travis - adding flow to travis

Summary:Adding flow to travis builds

using the `flow-bin` node module since it makes easier for people to test locally and it is the recommended way from https://github.com/facebook/flow
Closes https://github.com/facebook/draft-js/pull/245

Reviewed By: CLowbrow

Differential Revision: D3109560

fb-gh-sync-id: 6b031e6fb0d72b8dedfbaa82e622cb4ab09e0767
fbshipit-source-id: 6b031e6fb0d72b8dedfbaa82e622cb4ab09e0767"
brookslyrette,2016-03-28 19:08:18,https://api.github.com/repos/facebook/draft-js/git/commits/227eea82bb555a3d74c72fb1ca7c134695ac73ae,227eea82bb555a3d74c72fb1ca7c134695ac73ae,"Editor now gracefully handles ctrl +m

Summary:When `ctrl + m` is pressed the block is split.

Closes #218
Closes https://github.com/facebook/draft-js/pull/235

Reviewed By: spicyj

Differential Revision: D3104393

fb-gh-sync-id: 8d8ecaae4a376fdfa5eb8938ad003752e30cd279
fbshipit-source-id: 8d8ecaae4a376fdfa5eb8938ad003752e30cd279"
rnicholus,2016-03-24 19:13:01,https://api.github.com/repos/facebook/draft-js/git/commits/7b0ffc5d24de1fd49cca972ec8ff798e8424ad5e,7b0ffc5d24de1fd49cca972ec8ff798e8424ad5e,"Hotfix/block type inline style override

Summary:This fixes #228. I also fixed a few existing lint violations and added a simple but useful test to verify this behavior change.
Closes https://github.com/facebook/draft-js/pull/229

Reviewed By: CLowbrow

Differential Revision: D3093673

fb-gh-sync-id: e5a49f286311b537d07a281911def78606904f59
shipit-source-id: e5a49f286311b537d07a281911def78606904f59"
brookslyrette,2016-03-24 18:17:20,https://api.github.com/repos/facebook/draft-js/git/commits/a472db9335a1ecf8fe4b8b18afe93561e0eb695e,a472db9335a1ecf8fe4b8b18afe93561e0eb695e,"Improved documentation for EditorState.

Summary:Added documentation for `moveSelectionToEnd` and `moveFocusToEnd`. These were missing from the documentation.

Closes https://github.com/facebook/draft-js/pull/227

Reviewed By: spicyj

Differential Revision: D3093447

fb-gh-sync-id: 5a685ec2d4e51897455194f6e92c42d39ab696b0
shipit-source-id: 5a685ec2d4e51897455194f6e92c42d39ab696b0"
hellendag,2016-03-23 00:48:42,https://api.github.com/repos/facebook/draft-js/git/commits/ffce7490161e5728f3498e8e0e0501ec6a5fdfa6,ffce7490161e5728f3498e8e0e0501ec6a5fdfa6,"Release 0.3.0

Summary: Closes https://github.com/facebook/draft-js/pull/225

Differential Revision: D3085667

fb-gh-sync-id: 8b0b4d605f5fbeffd7a4e9e87abd70957a59aa7b
shipit-source-id: 8b0b4d605f5fbeffd7a4e9e87abd70957a59aa7b"
mitermayer,2016-03-17 18:41:28,https://api.github.com/repos/facebook/draft-js/git/commits/6a0bb1296d353998f007847ee250365f2cee7848,6a0bb1296d353998f007847ee250365f2cee7848,"missing-headers-on-convertFromHTMLToContentBlocks - Including missing‚Ä¶

Summary:This fixes issue https://github.com/facebook/draft-js/issues/206

- Adding missing headers for convertFromHTMLToContentBlocks
Closes https://github.com/facebook/draft-js/pull/207

Reviewed By: ezequiel

Differential Revision: D3053014

fb-gh-sync-id: 8cf5eaab6b85352d177620e1421023da0b92e295
shipit-source-id: 8cf5eaab6b85352d177620e1421023da0b92e295"
gscottolson,2016-03-12 22:31:10,https://api.github.com/repos/facebook/draft-js/git/commits/31fadb27c8dec1f98c3aa48a04812f25679f073e,31fadb27c8dec1f98c3aa48a04812f25679f073e,"Improve `html` styles

Summary:When the browser is narrower than `.container` or taller than the content, `<html>` `background-color` is visible:

<p align=""center"">
  <img src=""https://cloud.githubusercontent.com/assets/220979/13725333/ff857572-e863-11e5-92bf-33f8626014cc.png"" width=""400"">
</p>

_You can also see this issue if you decrease the browser‚Äôs zoom level._

**Changes:**
- De-dupe the `html` selector
- Move `body` `background-color` to `html`
- Remove `body` rule
- :abc: `html` properties
Closes https://github.com/facebook/draft-js/pull/201

Differential Revision: D3045903

fb-gh-sync-id: 53a4b4f211fb3329f33ed7e1054b51c8fd7d703d
shipit-source-id: 53a4b4f211fb3329f33ed7e1054b51c8fd7d703d"
zpao,2016-03-11 18:15:20,https://api.github.com/repos/facebook/draft-js/git/commits/17559052075ed4cfb08d38d7e128d4ff3d7432aa,17559052075ed4cfb08d38d7e128d4ff3d7432aa,"Make some dist build changes

Summary:- Inline `process.env.NODE_ENV === 'production'` checks
- Compress CSS
- Add copyright headers to dist files

It's not a *huge* difference on the size front but definitely better. And the copyright thing is something we should do regardless of the rest.
<img width=""591"" alt=""screen shot 2016-03-09 at 4 26 17 pm"" src=""https://cloud.githubusercontent.com/assets/8445/13655376/bc78d212-e613-11e5-8f39-0268bf4d32f2.png"">
Closes https://github.com/facebook/draft-js/pull/189

Differential Revision: D3034186

fb-gh-sync-id: ede05fcc42f4d3831edcd809adb204f3f6ddf8f2
shipit-source-id: ede05fcc42f4d3831edcd809adb204f3f6ddf8f2"
zpao,2016-03-11 18:02:48,https://api.github.com/repos/facebook/draft-js/git/commits/ebd782c76438094969930911988633cde41f4685,ebd782c76438094969930911988633cde41f4685,"Ensure we're using latest fbjs alpha

Summary:Fresh installs will be already be using this but upgrades might not be, so lets just guarantee it
Closes https://github.com/facebook/draft-js/pull/193

Differential Revision: D3041517

fb-gh-sync-id: 3092033de7152bdd267e8b48c58892764c930ebd
shipit-source-id: 3092033de7152bdd267e8b48c58892764c930ebd"
kennethormandy,2016-03-11 17:18:18,https://api.github.com/repos/facebook/draft-js/git/commits/981483ce0483482e98345f9196c761c862dc74f8,981483ce0483482e98345f9196c761c862dc74f8,"Updates Quick Start examples to run as expected

Summary:Hey! Thanks so much for the hard work on this project. I‚Äôm just making my way through the documentation now, and I couldn‚Äôt get the Quick Start examples to run until I made the following changes.

I have very little React experience, and even less with ES2015 stuff‚Äîit‚Äôs entirely possible I just misunderstood something in all these cases. Regardless, the examples didn‚Äôt work as-is for me, and to the best of my understand, these changes fix that.

The one change I made that was maybe more of an opinion was turning:

```js
const {editorState} = this.state;
return <Editor editorState={editorState} onChange={this.onChange} />
```

‚Ä¶into:

```js
return <Editor editorState={this.state.editorState} onChange={this.onChange} />
```

‚Ä¶which just reduced the complexity for me at the beginning, and had more in common with the initial Input example.
Closes https://github.com/facebook/draft-js/pull/180

Reviewed By: spicyj

Differential Revision: D3034470

fb-gh-sync-id: c99ba4e24dd42a2c5a0634dfcc6c8faab8cd5b7c
shipit-source-id: c99ba4e24dd42a2c5a0634dfcc6c8faab8cd5b7c"
CLowbrow,2016-03-10 19:09:35,https://api.github.com/repos/facebook/draft-js/git/commits/360f7375eb92bd06eb00930588bcd36b6689026c,360f7375eb92bd06eb00930588bcd36b6689026c,"Expose html to block converter through Draft object

Summary:Optional second parameter to pass in a function that will generate a dom element from whichever implementation.

Should help with #55
Closes https://github.com/facebook/draft-js/pull/174

Reviewed By: hellendag

Differential Revision: D3023635

fb-gh-sync-id: 71b83c05610279d67c6e84f29565ed645bc4be30
shipit-source-id: 71b83c05610279d67c6e84f29565ed645bc4be30"
hellendag,2016-03-10 01:43:59,https://api.github.com/repos/facebook/draft-js/git/commits/c0f241482b393d31937409e0104d1d67b8cc7952,c0f241482b393d31937409e0104d1d67b8cc7952,"Improve internal paste behavior

Reviewed By: spicyj

Differential Revision: D3025262

fb-gh-sync-id: c22dfcc271e0867ad0e0e81f76d4a51a08cca860
shipit-source-id: c22dfcc271e0867ad0e0e81f76d4a51a08cca860"
zpao,2016-03-10 01:03:08,https://api.github.com/repos/facebook/draft-js/git/commits/52717871b1871d107b86a40b44488506b5fa268f,52717871b1871d107b86a40b44488506b5fa268f,"Run build on prepublish so we don't publish incomplete packages

Summary: Closes https://github.com/facebook/draft-js/pull/186

Differential Revision: D3033435

fb-gh-sync-id: 8b344b681508e26fa878d093c2e666eb9b49da78
shipit-source-id: 8b344b681508e26fa878d093c2e666eb9b49da78"
hellendag,2016-03-09 22:52:24,https://api.github.com/repos/facebook/draft-js/git/commits/b920ea9de03022987a6e8bb4bb40acc8fe1a9e0f,b920ea9de03022987a6e8bb4bb40acc8fe1a9e0f,"Release 0.2.2

Summary:Oops. Looks like I need to run build before publishing.
Closes https://github.com/facebook/draft-js/pull/184

Differential Revision: D3032243

fb-gh-sync-id: e1c3c50df95f186e86c2e14dce96fe83214a4513
shipit-source-id: e1c3c50df95f186e86c2e14dce96fe83214a4513"
hellendag,2016-03-09 21:48:36,https://api.github.com/repos/facebook/draft-js/git/commits/2b7e3cceae70e74caf6aff588fa1ca10680dffa0,2b7e3cceae70e74caf6aff588fa1ca10680dffa0,"Expose DraftEditorBlock

Summary:This is needed for people who are wrapping `DraftEditorBlock` in custom components.

cc #124
Closes https://github.com/facebook/draft-js/pull/173

Differential Revision: D3031572

fb-gh-sync-id: 6818f49a59ddc56edc9fa44477f706242ec9ae06
shipit-source-id: 6818f49a59ddc56edc9fa44477f706242ec9ae06"
hellendag,2016-03-09 20:25:30,https://api.github.com/repos/facebook/draft-js/git/commits/bc250a096e3430f43b08eac917a69edb0671328b,bc250a096e3430f43b08eac917a69edb0671328b,"Release 0.2.1

Summary:Quick turnaround to get React 15 RC and `suppressContentEditableWarning` in.
Closes https://github.com/facebook/draft-js/pull/183

Differential Revision: D3031186

fb-gh-sync-id: 23e2e881ce567bd9dab9d93a9a4235fb180609b2
shipit-source-id: 23e2e881ce567bd9dab9d93a9a4235fb180609b2"
nikgraf,2016-03-09 04:27:58,https://api.github.com/repos/facebook/draft-js/git/commits/2a8dd168d8e1008922a682d9f4f18d83c73370d5,2a8dd168d8e1008922a682d9f4f18d83c73370d5,"upgrade to React 15 & suppress contentEditableWarning

Summary:```
npm WARN EPEERINVALID draft-js@0.2.0 requires a peer of react@^0.14.0 but none was installed.
npm WARN EPEERINVALID draft-js@0.2.0 requires a peer of react-dom@^0.14.0 but none was installed.
```
Closes https://github.com/facebook/draft-js/pull/179

Differential Revision: D3028633

fb-gh-sync-id: 03110f8dc77ace8147176562702ec6c80449218a
shipit-source-id: 03110f8dc77ace8147176562702ec6c80449218a"
hellendag,2016-03-09 01:50:41,https://api.github.com/repos/facebook/draft-js/git/commits/11f3de6f55d62bfe2dbe84ea8fb374150a9c49d7,11f3de6f55d62bfe2dbe84ea8fb374150a9c49d7,"Release 0.2.0

Summary: Closes https://github.com/facebook/draft-js/pull/178

Differential Revision: D3027987

fb-gh-sync-id: 578a74ee6dacb1e88b11d2689f278cf4c5afbd0a
shipit-source-id: 578a74ee6dacb1e88b11d2689f278cf4c5afbd0a"
hellendag,2016-03-05 00:03:07,https://api.github.com/repos/facebook/draft-js/git/commits/2990c519d217135c74461eb3ec47864b18f2e4cd,2990c519d217135c74461eb3ec47864b18f2e4cd,"Move critical editor style into JS

Summary:There have been a number of bug reports caused by Draft.css not being included. The main one is that the editor can start flipping out if `white-space: pre-wrap` is not applied.

Users should generally be including Draft.css, and should be aware of behavior gaps if they choose not to. Documenting this accordingly.
Closes https://github.com/facebook/draft-js/pull/159

Reviewed By: spicyj

Differential Revision: D3013416

fb-gh-sync-id: 6423b84be619fa1013ef7babba30be8956456a97
shipit-source-id: 6423b84be619fa1013ef7babba30be8956456a97"
bkniffler,2016-03-03 21:58:53,https://api.github.com/repos/facebook/draft-js/git/commits/9d7d5af9fddea0b127496d9261b15ba71a106974,9d7d5af9fddea0b127496d9261b15ba71a106974,"Allow to pass handleDrop, similar to handleDroppedFiles

Summary:This will allow to handle drops and suppress the default behavior if
necessary.
Closes https://github.com/facebook/draft-js/pull/145

Reviewed By: ezequiel

Differential Revision: D3004761

fb-gh-sync-id: 39aef0b8f8388ef6a1cb05917afc82a79e9a190b
shipit-source-id: 39aef0b8f8388ef6a1cb05917afc82a79e9a190b"
hellendag,2016-03-03 00:04:51,https://api.github.com/repos/facebook/draft-js/git/commits/70b271597bca692fd47b3832016c9bf3407bf4e8,70b271597bca692fd47b3832016c9bf3407bf4e8,"Add decoratedText prop to DecoratorComponent

Summary:Resolves #140 and #68.

Tested with `console.log(this.props.decoratedText)` in render method of TokenSpan in entity.html.
Closes https://github.com/facebook/draft-js/pull/144

Reviewed By: ezequiel

Differential Revision: D3002917

fb-gh-sync-id: 2451c82c74c0835217edcc7923c4430ae5ae3969
shipit-source-id: 2451c82c74c0835217edcc7923c4430ae5ae3969"
hellendag,2016-03-02 20:16:24,https://api.github.com/repos/facebook/draft-js/git/commits/4b24a9a9060baf3edc80c98601c2841fca3a8a6b,4b24a9a9060baf3edc80c98601c2841fca3a8a6b,"generateBlockKey -> generateRandomKey

Summary:I'd like to generate an editor-level key, too. Might as well reuse the same module, since it's useful.
Closes https://github.com/facebook/draft-js/pull/135

Reviewed By: spicyj

Differential Revision: D3000350

fb-gh-sync-id: e708a29fcccfdbcbbeeb0e981ab6e5cc01d52635
shipit-source-id: e708a29fcccfdbcbbeeb0e981ab6e5cc01d52635"
mjrussell,2016-03-01 22:49:01,https://api.github.com/repos/facebook/draft-js/git/commits/505d5f73b80000944133ff67e7d2ca41390efc50,505d5f73b80000944133ff67e7d2ca41390efc50,"Typo fix in getBlockForKey example

Summary: Closes https://github.com/facebook/draft-js/pull/134

Differential Revision: D2996962

fb-gh-sync-id: 542b449c38e3c679852283b184f03528b329c74a
shipit-source-id: 542b449c38e3c679852283b184f03528b329c74a"
hellendag,2016-03-01 22:21:53,https://api.github.com/repos/facebook/draft-js/git/commits/3e838bca62b4dc6378ef73c7152249b597099834,3e838bca62b4dc6378ef73c7152249b597099834,"Use Slackin link for Slack invites

Summary:Still not sure if we'll be moving over to Discord, but in the meantime this will streamline things.
Closes https://github.com/facebook/draft-js/pull/131

Differential Revision: D2996725

fb-gh-sync-id: 1b0c51682d4e79754da9ab23fa876fb64685a050
shipit-source-id: 1b0c51682d4e79754da9ab23fa876fb64685a050"
zpao,2016-03-01 18:17:58,https://api.github.com/repos/facebook/draft-js/git/commits/bdcf351446b4d56df0a90c71a8380b8b7b63ff50,bdcf351446b4d56df0a90c71a8380b8b7b63ff50,"Use es6-shim, mention polyfill requirement in docs

Summary:Should fix #83
Closes https://github.com/facebook/draft-js/pull/123

Reviewed By: zpao

Differential Revision: D2995005

fb-gh-sync-id: bf7df7fd4a19efdb560c00ea3131c6fc7911ba44
shipit-source-id: bf7df7fd4a19efdb560c00ea3131c6fc7911ba44"
mitermayer,2016-03-01 18:12:53,https://api.github.com/repos/facebook/draft-js/git/commits/76b9778844842fcdaaac2b4cf37e5dcc568a8e78,76b9778844842fcdaaac2b4cf37e5dcc568a8e78,"Including extra headings to the DraftPasteProcessor

Summary:‚Ä¶to DraftPasteProcessors

- Including missing headings
Closes https://github.com/facebook/draft-js/pull/118

Reviewed By: tasti

Differential Revision: D2989580

fb-gh-sync-id: a7e6c44e61eb19a7629213ce1d6eedbb499267af
shipit-source-id: a7e6c44e61eb19a7629213ce1d6eedbb499267af"
hellendag,2016-03-01 05:21:36,https://api.github.com/repos/facebook/draft-js/git/commits/a747ceb20c561b928f9ea8b9fe8ac1e5f0066364,a747ceb20c561b928f9ea8b9fe8ac1e5f0066364,"getVisibleSelectionRect

Reviewed By: spicyj

Differential Revision: D2988045

fb-gh-sync-id: 91cd7db02efd0accdd5db1e044e94225033b1cc0
shipit-source-id: 91cd7db02efd0accdd5db1e044e94225033b1cc0"
hellendag,2016-02-28 19:29:11,https://api.github.com/repos/facebook/draft-js/git/commits/94c6824e55449f8dbe9f88831e8663133b8c7a00,94c6824e55449f8dbe9f88831e8663133b8c7a00,"Add Slack signup info to readme

Summary: Closes https://github.com/facebook/draft-js/pull/115

Differential Revision: D2987800

fb-gh-sync-id: 801b982e5271db5b719ced055a32c19c72cd7912
shipit-source-id: 801b982e5271db5b719ced055a32c19c72cd7912"
brijeshb42,2016-02-28 18:51:37,https://api.github.com/repos/facebook/draft-js/git/commits/38860d5339b24548e54b2147662bb23501ccf36c,38860d5339b24548e54b2147662bb23501ccf36c,"Fix the link example to render links when rich text containing links are pasted

Summary:Make the example for links consistent by using the same key (`url`) as defined by `draft-js` paste instead of `href` and use `LINK` in `Entity.create` instead of `link` to maintain consistency as suggested in [issue 112](https://github.com/facebook/draft-js/issues/112).

This PR enhances link example by:
* Rendering links in pasted rich text.
* Handling `ENTER` key press for link's url input box besides clicking on.
Closes https://github.com/facebook/draft-js/pull/114

Differential Revision: D2987774

fb-gh-sync-id: db461f8ecfc3590f185e4a7ef3041c771a0272dd
shipit-source-id: db461f8ecfc3590f185e4a7ef3041c771a0272dd"
hellendag,2016-02-28 03:37:40,https://api.github.com/repos/facebook/draft-js/git/commits/b213d5b903cf366c25b690429d8df7fc8998b31d,b213d5b903cf366c25b690429d8df7fc8998b31d,"Exclude trailing block for type toggling if at zero offset

Summary:Resolves #86.

In cases where the user triple-clicks on a block, then toggles the block type, it feels weird to have the trailing block also change block type.

The `SelectionState` resulting from the triple-click is correct, but to improve the interaction here, let's discard the trailing block for this modifier.
Closes https://github.com/facebook/draft-js/pull/111

Reviewed By: spicyj

Differential Revision: D2987166

fb-gh-sync-id: 66dea913955ac5eef354f3222ac5afd7e6fdb92d
shipit-source-id: 66dea913955ac5eef354f3222ac5afd7e6fdb92d"
hellendag,2016-02-27 23:00:36,https://api.github.com/repos/facebook/draft-js/git/commits/4c7fa43ce2a1457acc7e77bf71914ee5bd636a9d,4c7fa43ce2a1457acc7e77bf71914ee5bd636a9d,"Link example: Use regular input instead of window.prompt

Summary:Repairs #91. See discussion there for details.
Closes https://github.com/facebook/draft-js/pull/110

Differential Revision: D2987111

fb-gh-sync-id: 1254972193a530b8432c3147bf6a021c0d6341de
shipit-source-id: 1254972193a530b8432c3147bf6a021c0d6341de"
rgbkrk,2016-02-27 03:46:54,https://api.github.com/repos/facebook/draft-js/git/commits/1e099d4aa4e626a21f420ad5ee25c3236aa5cc6b,1e099d4aa4e626a21f420ad5ee25c3236aa5cc6b,"Check devEngines on pretest

Summary:To support users on 5.x and `npm 3`. All the examples worked for me, including the TeX one.

Follow up to #31.

Thank you so much for this library, I've been wondering about handling `contentEditable` cleanly with React for editor components for some time. :heart:
Closes https://github.com/facebook/draft-js/pull/37

Differential Revision: D2986309

fb-gh-sync-id: 1bc9202064594582dafd3104be19119ae09cf494
shipit-source-id: 1bc9202064594582dafd3104be19119ae09cf494"
mitermayer,2016-02-27 03:17:17,https://api.github.com/repos/facebook/draft-js/git/commits/34a97f246825a4db5f36646ff88463f974b85fab,34a97f246825a4db5f36646ff88463f974b85fab,"extra-headings-support - Adding support for other blockmode headings

Summary:- adding support for other blockmode headings
Closes https://github.com/facebook/draft-js/pull/96

Reviewed By: spicyj

Differential Revision: D2981702

fb-gh-sync-id: ed14c7fd66291071b8d1ced493c19540909b335e
shipit-source-id: ed14c7fd66291071b8d1ced493c19540909b335e"
hellendag,2016-02-27 02:51:12,https://api.github.com/repos/facebook/draft-js/git/commits/8d38f105ebc2364613489156e795d2a04530ed6e,8d38f105ebc2364613489156e795d2a04530ed6e,"Re-render DraftEditorLeaf when style changes

Reviewed By: ezequiel

Differential Revision: D2985255

fb-gh-sync-id: 9f88e8c29efbccfa2612313bb3af60c67cdbdfae
shipit-source-id: 9f88e8c29efbccfa2612313bb3af60c67cdbdfae"
sophiebits,2016-02-26 23:44:50,https://api.github.com/repos/facebook/draft-js/git/commits/bb8a1434493351d11dd276db8f67ea327f1f3e1b,bb8a1434493351d11dd276db8f67ea327f1f3e1b,"Fix some lint errors in website

Summary:Fixes most errors and some warnings, especially the autofix ones.

- copyright headers
- no unicode in source files
- `.indexOf('javascript:')` is legit; suppress the eslint error
- trailing commas, semicolons

bypass-lint

Reviewed By: hellendag

Differential Revision: D2981752

fb-gh-sync-id: 5ceb842c215c5787aa2c981a1eae3254f19ef687
shipit-source-id: 5ceb842c215c5787aa2c981a1eae3254f19ef687"
tasti,2016-02-26 06:10:53,https://api.github.com/repos/facebook/draft-js/git/commits/555fe1f6b2945d42d0a7d4b4d1af73e273d8dcbf,555fe1f6b2945d42d0a7d4b4d1af73e273d8dcbf,"Change button + nav color to match theme

Summary:Some colors were left over from the flux template. So, I got rid of the greens and threw in some reds.
Closes https://github.com/facebook/draft-js/pull/94

Differential Revision: D2980484

fb-gh-sync-id: d7567b098f05195b6d336f12410e8ccc2482f00e
shipit-source-id: d7567b098f05195b6d336f12410e8ccc2482f00e"
ohanar,2016-02-26 02:16:14,https://api.github.com/repos/facebook/draft-js/git/commits/1abef7a5dba041cafd8fd1887e4b03082b1f14bd,1abef7a5dba041cafd8fd1887e4b03082b1f14bd,"Correct and clarify docs for handleBeforeInput

Summary:Currently the docs state that a `beforeInput` event is passed as an argument to the `handleBeforeInput` prop. This is incorrect, only the characters to be inserted are passed.
Closes https://github.com/facebook/draft-js/pull/76

Reviewed By: spicyj

Differential Revision: D2980486

fb-gh-sync-id: e924947f9f6729f4766813cbd736184815135f48
shipit-source-id: e924947f9f6729f4766813cbd736184815135f48"
tasti,2016-02-26 00:13:52,https://api.github.com/repos/facebook/draft-js/git/commits/7c2c1fe5763d48b42ad8c6dda22bde13caaead3e,7c2c1fe5763d48b42ad8c6dda22bde13caaead3e,"Only make code-block unstyled if blockBefore isn't a code-block

Summary:Fixes https://github.com/facebook/draft-js/issues/54 using suggestion.
Closes https://github.com/facebook/draft-js/pull/59

Reviewed By: tasti

Differential Revision: D2977232

fb-gh-sync-id: D2977232
shipit-source-id: D2977232"
sophiebits,2016-02-26 01:05:29,https://api.github.com/repos/facebook/draft-js/git/commits/c129993774c00962e179a64b1413db71ac55a5f8,c129993774c00962e179a64b1413db71ac55a5f8,No UTF-8 in source files
hellendag,2016-02-25 19:13:21,https://api.github.com/repos/facebook/draft-js/git/commits/6ef2ffd9a0ff68490bacb058d53e67e68d071a45,6ef2ffd9a0ff68490bacb058d53e67e68d071a45,"Merge pull request #89 from brwr/brwr-make-key-binding-importable

Export getDefaultKeyBinding and KeyBindingUtil"
hellendag,2016-02-25 05:37:20,https://api.github.com/repos/facebook/draft-js/git/commits/cb04af7a5c8efdb950e589312a66dd923a522c07,cb04af7a5c8efdb950e589312a66dd923a522c07,"Merge pull request #82 from mitermayer/fix-missing-keys

Fixing missing keys"
mitermayer,2016-02-25 05:34:34,https://api.github.com/repos/facebook/draft-js/git/commits/628753ccf3e79a9805e8c04aab1f9a7d9dbb3e50,628753ccf3e79a9805e8c04aab1f9a7d9dbb3e50,Fixing missing keys
hellendag,2016-02-25 04:28:11,https://api.github.com/repos/facebook/draft-js/git/commits/7b96215a518268e4e07ad6bbc8cbe04c8b122d3a,7b96215a518268e4e07ad6bbc8cbe04c8b122d3a,"Merge pull request #80 from brwr/brwr-add-utf8-meta-tag-to-overview-docs

Add mention of UTF-8 meta tag to Overview docs."
sophiebits,2016-02-25 01:15:38,https://api.github.com/repos/facebook/draft-js/git/commits/5eaa7dd9ef1449a1daf3670dff6a9defc0914dae,5eaa7dd9ef1449a1daf3670dff6a9defc0914dae,Sync changes from internal
sophiebits,2016-02-25 00:24:04,https://api.github.com/repos/facebook/draft-js/git/commits/1e88bd2b11ce916cfefcdbce15d25b81424a0e97,1e88bd2b11ce916cfefcdbce15d25b81424a0e97,"Merge pull request #66 from spicyj/cx

Transform cx modules in gulp"
sophiebits,2016-02-24 19:39:05,https://api.github.com/repos/facebook/draft-js/git/commits/47fc43dbd5cde9ef32c0222fc2fe585142e0ea8c,47fc43dbd5cde9ef32c0222fc2fe585142e0ea8c,"Transform cx modules, var() in gulp

This lets us reuse the original files directly."
sophiebits,2016-02-24 21:50:08,https://api.github.com/repos/facebook/draft-js/git/commits/bea4d01bd8759be2151736b2f4f0973f3af1115b,bea4d01bd8759be2151736b2f4f0973f3af1115b,"On Travis, fail build if any page fails (like RN)"
hellendag,2016-02-24 21:23:29,https://api.github.com/repos/facebook/draft-js/git/commits/e163e8ff36185c3842645e5c9795d8601644cc48,e163e8ff36185c3842645e5c9795d8601644cc48,"Merge pull request #64 from jerrysu/master

Fix some CSS classnames"
sophiebits,2016-02-24 19:20:38,https://api.github.com/repos/facebook/draft-js/git/commits/86acb9a0680c462d5be5700ed30b9e55dd567a0a,86acb9a0680c462d5be5700ed30b9e55dd567a0a,Set user on Travis
hellendag,2016-02-24 18:44:35,https://api.github.com/repos/facebook/draft-js/git/commits/7bbbb55d6fc191e9df84397f9b21b0433a9451b1,7bbbb55d6fc191e9df84397f9b21b0433a9451b1,"Merge pull request #57 from CentaurWarchief/README-badges

Add Travis and NPM (version) badges to README.md"
sophiebits,2016-02-24 01:51:17,https://api.github.com/repos/facebook/draft-js/git/commits/ca80dbbccbdfac96226e53a1c8c57039716d6830,ca80dbbccbdfac96226e53a1c8c57039716d6830,Build before pushing website
andreyvital,2016-02-24 01:38:41,https://api.github.com/repos/facebook/draft-js/git/commits/6aceb9b0da398e478a223b6cd4612a4d3bd74663,6aceb9b0da398e478a223b6cd4612a4d3bd74663,Add Travis and NPM version badges
hellendag,2016-02-23 21:43:29,https://api.github.com/repos/facebook/draft-js/git/commits/80358ac528364495a39a187620073b689fb34e37,80358ac528364495a39a187620073b689fb34e37,"Merge pull request #48 from spicyj/tr-web

Autobuild website on Travis"
sophiebits,2016-02-23 19:28:52,https://api.github.com/repos/facebook/draft-js/git/commits/58d62ca40e57b3720750dc033f571ee089d0bfa1,58d62ca40e57b3720750dc033f571ee089d0bfa1,Autobuild website on Travis
hellendag,2016-02-23 18:29:44,https://api.github.com/repos/facebook/draft-js/git/commits/3893e30f1371fba4c0fb2b8297b8f92f665ed0a2,3893e30f1371fba4c0fb2b8297b8f92f665ed0a2,"Merge pull request #38 from pooyaj/examples-link-remove-consts

removed two instances of unused content constants."
sophiebits,2016-02-23 18:16:46,https://api.github.com/repos/facebook/draft-js/git/commits/f5e6cf50558f5797b079db80fcda706664c74e14,f5e6cf50558f5797b079db80fcda706664c74e14,"Merge pull request #29 from ZuTa/mkdir

Fix missing src/draft-js/lib/ dir"
pooyaj,2016-02-23 06:06:31,https://api.github.com/repos/facebook/draft-js/git/commits/aa7c647a6579e813242694c35f1a8dfdad4bc93d,aa7c647a6579e813242694c35f1a8dfdad4bc93d,removed two instances of unused content constants.
hellendag,2016-02-23 02:13:46,https://api.github.com/repos/facebook/draft-js/git/commits/83af9bc8236f21ebd843214e7894f63dcc115123,83af9bc8236f21ebd843214e7894f63dcc115123,"Merge pull request #31 from zpao/check-engines

Check engines before building"
zpao,2016-02-23 01:31:34,https://api.github.com/repos/facebook/draft-js/git/commits/b8f41e28986b60ceaea4830602ae208b8e2dd05b,b8f41e28986b60ceaea4830602ae208b8e2dd05b,Check engines before building
hellendag,2016-02-23 01:06:31,https://api.github.com/repos/facebook/draft-js/git/commits/3d8506ca756f739f8c9c46ea7fea0ae327614de3,3d8506ca756f739f8c9c46ea7fea0ae327614de3,"Merge pull request #30 from dustin-H/patch-1

[docs] Fix return type of convertFromRaw (See #28)"
hellendag,2016-02-23 01:05:45,https://api.github.com/repos/facebook/draft-js/git/commits/fb2a88132f1b1fb5f5221b9d19a53af66f32460b,fb2a88132f1b1fb5f5221b9d19a53af66f32460b,"Merge pull request #25 from tasti/fix-typos-in-docs

Fix typos in docs"
hellendag,2016-02-23 01:05:00,https://api.github.com/repos/facebook/draft-js/git/commits/a7fcad4aec770808efde2c74c90935c19959d2c2,a7fcad4aec770808efde2c74c90935c19959d2c2,"Merge pull request #23 from alextaylor000/alextaylor000-fix-quickstart-rich-styling-doc-typo-1

Fix typo in QuickStart-Rich-Styling.md"
hellendag,2016-02-23 01:04:44,https://api.github.com/repos/facebook/draft-js/git/commits/cfd5af2c1a9ff7da9e8dbc2e161a84cd7d0049f8,cfd5af2c1a9ff7da9e8dbc2e161a84cd7d0049f8,"Merge pull request #24 from NYDrewReynolds/patch-3

[docs] Fix broken link in API Reference ContentBlock"
dustin-H,2016-02-23 00:29:22,https://api.github.com/repos/facebook/draft-js/git/commits/aa48ab74736d5687c7acb58256c24fd647227c90,aa48ab74736d5687c7acb58256c24fd647227c90,"[docs] Fix return type of convertFromRaw (See #28)

Closes #28"
tasti,2016-02-22 23:19:51,https://api.github.com/repos/facebook/draft-js/git/commits/1ed60d9d30a91b403cb73bc3872a3b6001a96b56,1ed60d9d30a91b403cb73bc3872a3b6001a96b56,One more typo
tasti,2016-02-22 23:18:00,https://api.github.com/repos/facebook/draft-js/git/commits/210adb73fa5d598ce6f01a05ca3b616ee93f0bdb,210adb73fa5d598ce6f01a05ca3b616ee93f0bdb,Fix typos in docs
NYDrewReynolds,2016-02-22 22:49:30,https://api.github.com/repos/facebook/draft-js/git/commits/7b12a1475d2160205a1b4cd49f353de9faf82a62,7b12a1475d2160205a1b4cd49f353de9faf82a62,[docs] Fix broken link in API Reference ContentBlock
hellendag,2016-02-22 22:48:19,https://api.github.com/repos/facebook/draft-js/git/commits/241e815ab8ffb8dac13b98e0238326188eafeef9,241e815ab8ffb8dac13b98e0238326188eafeef9,"Merge pull request #12 from jeffreylin/patch-1

[docs] Fix broken link in Advanced Topics Entities"
hellendag,2016-02-22 22:47:39,https://api.github.com/repos/facebook/draft-js/git/commits/01f29c39391a8ccb3377ffb1b3dac536968872fc,01f29c39391a8ccb3377ffb1b3dac536968872fc,"Merge pull request #11 from razh/link-example

Fix logState calls in entity and link examples"
hellendag,2016-02-22 22:44:19,https://api.github.com/repos/facebook/draft-js/git/commits/57e23c7b58898e4422ab5b4191434c895f068514,57e23c7b58898e4422ab5b4191434c895f068514,"Merge pull request #22 from NYDrewReynolds/patch-2

[docs] Fix broken link in API Reference ContentState"
hellendag,2016-02-22 22:43:34,https://api.github.com/repos/facebook/draft-js/git/commits/c2d491c06f73fe4d4119990fb63a6ab36b3d7bc9,c2d491c06f73fe4d4119990fb63a6ab36b3d7bc9,"Merge pull request #15 from ankurp/patch-1

Use const instead of var"
sophiebits,2016-02-22 22:33:40,https://api.github.com/repos/facebook/draft-js/git/commits/3d4fe2215c3736d9f1afb731ada355af2f8172d4,3d4fe2215c3736d9f1afb731ada355af2f8172d4,"Merge pull request #21 from NYDrewReynolds/patch-1

Fix broken link in Advanced Topic Inline Styles"
NYDrewReynolds,2016-02-22 22:33:32,https://api.github.com/repos/facebook/draft-js/git/commits/f4e89e63a12e4c17568b446a3dac9388db6bcc7d,f4e89e63a12e4c17568b446a3dac9388db6bcc7d,[docs] Fix broken link in API Reference ContentState
hellendag,2016-02-22 22:29:51,https://api.github.com/repos/facebook/draft-js/git/commits/9c294758b0104cb8a3da25d935e8f17b93ba5108,9c294758b0104cb8a3da25d935e8f17b93ba5108,"Merge pull request #16 from vitorbal/master

[docs] Change examples to use ES6 Classes"
NYDrewReynolds,2016-02-22 22:27:07,https://api.github.com/repos/facebook/draft-js/git/commits/9a22784c99c44c1efa3f2d187bfb1e1deb66cabd,9a22784c99c44c1efa3f2d187bfb1e1deb66cabd,Fix broken link in Advanced Topic Inline Styles
vitorbal,2016-02-22 21:54:59,https://api.github.com/repos/facebook/draft-js/git/commits/bc124271b171edc5e42560856233eaf30fbef387,bc124271b171edc5e42560856233eaf30fbef387,[docs] Change examples to use ES6 Classes
ankurp,2016-02-22 21:42:37,https://api.github.com/repos/facebook/draft-js/git/commits/c3cd3932191425e58405c8ecf5ebc683a6abeff2,c3cd3932191425e58405c8ecf5ebc683a6abeff2,Use const instead of var
jeffreylin,2016-02-22 21:24:08,https://api.github.com/repos/facebook/draft-js/git/commits/f5c08635c0c6732229b6b792fd907d944b885e88,f5c08635c0c6732229b6b792fd907d944b885e88,[ez] Fix typo draf -> draft
jeffreylin,2016-02-22 21:16:12,https://api.github.com/repos/facebook/draft-js/git/commits/fdec8d529591457a943c56721db5104e22e2a48f,fdec8d529591457a943c56721db5104e22e2a48f,"Fix broken link

Currently links to https://facebook.github.io/draft-js/docs/docs/advanced-topics-block-components.html which has /docs/ repeated twice. =P"
razh,2016-02-22 20:59:52,https://api.github.com/repos/facebook/draft-js/git/commits/7170a40816c86a326542c1207a07c38c4508a95e,7170a40816c86a326542c1207a07c38c4508a95e,Fix logState calls in entity and link examples
zpao,2016-02-22 20:31:32,https://api.github.com/repos/facebook/draft-js/git/commits/5df303bdb651dc897b061a90ff0212d6d5b653a8,5df303bdb651dc897b061a90ff0212d6d5b653a8,"Merge pull request #6 from wyze/patch-1

Add syntax highlighting to API Basics documentation"
zpao,2016-02-22 20:30:38,https://api.github.com/repos/facebook/draft-js/git/commits/11ddcfea579e12806f9875b5e018e47dfe17e17d,11ddcfea579e12806f9875b5e018e47dfe17e17d,"Merge pull request #8 from mihalik/patch-1

Update broken example links in Inline Styles doc"
zpao,2016-02-22 20:30:20,https://api.github.com/repos/facebook/draft-js/git/commits/5082be80383f42465d03441022d4ab2d4e95f83e,5082be80383f42465d03441022d4ab2d4e95f83e,"Merge pull request #9 from jerolimov/patch-1

Fix tex example (add missing react-dom dependency)"
wyze,2016-02-22 20:13:16,https://api.github.com/repos/facebook/draft-js/git/commits/969b54a65fd7532b56ef4a7c77598065ae9e7ae9,969b54a65fd7532b56ef4a7c77598065ae9e7ae9,Add syntax highlighting to docs
jerolimov,2016-02-22 20:25:21,https://api.github.com/repos/facebook/draft-js/git/commits/997def5882259776bb2f42fc55a15473771a3043,997def5882259776bb2f42fc55a15473771a3043,Fix tex example (add missing react-dom dependency)
zpao,2016-02-22 20:22:18,https://api.github.com/repos/facebook/draft-js/git/commits/b25762d8bfedf7191dc4ebed6cae5677553524f7,b25762d8bfedf7191dc4ebed6cae5677553524f7,[docs] Ignore generated content
zpao,2016-02-22 20:19:23,https://api.github.com/repos/facebook/draft-js/git/commits/78397800e0ba6538329727f259f6917b0be015a5,78397800e0ba6538329727f259f6917b0be015a5,"Merge pull request #5 from farhanpatel/master

Typo in Advanced-Topics-Entities.md"
farhanpatel,2016-02-22 20:18:25,https://api.github.com/repos/facebook/draft-js/git/commits/657444c32916d974c0ab0e39c2d153cbf647ab80,657444c32916d974c0ab0e39c2d153cbf647ab80,Fix typo in advanced-topics-entities.js
mihalik,2016-02-22 20:18:12,https://api.github.com/repos/facebook/draft-js/git/commits/f35556cfce3c7e8f25524d5a2e2258b2a7d916de,f35556cfce3c7e8f25524d5a2e2258b2a7d916de,"Update broken example links in Inline Styles doc

This looks like the file that generates this page:  http://facebook.github.io/draft-js/docs/advanced-topics-inline-styles.html

Updating two links to point to the correct path."
zpao,2016-02-22 20:16:01,https://api.github.com/repos/facebook/draft-js/git/commits/4e791e05495de5dfc54dca5678b3ef2189a80d04,4e791e05495de5dfc54dca5678b3ef2189a80d04,Fix link in readme
farhanpatel,2016-02-22 20:05:20,https://api.github.com/repos/facebook/draft-js/git/commits/29875a758288089b2bd2c394de873c40d784bac0,29875a758288089b2bd2c394de873c40d784bac0,Typo in Advanced-Topics-Entities.md
zpao,2016-02-22 19:36:49,https://api.github.com/repos/facebook/draft-js/git/commits/06891490069d3ccfb89caf53f33a7545d39fc3ec,06891490069d3ccfb89caf53f33a7545d39fc3ec,Make package public so we can publish
zpao,2016-02-22 19:11:09,https://api.github.com/repos/facebook/draft-js/git/commits/54fbc9b38b4c372a47c4c137d6d1bfe7179d8818,54fbc9b38b4c372a47c4c137d6d1bfe7179d8818,[docs] Fix getting started code
hellendag,2016-02-22 17:47:16,https://api.github.com/repos/facebook/draft-js/git/commits/342576bf7186d07c82a41d9ca8169130669747d6,342576bf7186d07c82a41d9ca8169130669747d6,Open source Draft.js üéâ
