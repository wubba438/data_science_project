devstack,System for quickly installing an OpenStack cloud from upstream git for testing and development.
username,timestamp,url,sha,message
jharbott,2019-09-05 08:51:33,https://api.github.com/repos/openstack/devstack/git/commits/ce396d374bc00f21671bcdae30e12c44cd1ef1eb,ce396d374bc00f21671bcdae30e12c44cd1ef1eb,"Fix worlddump log collection

All credit for figuring this out goes to frickler (and that was the hard
bit so thank you!). The worlddump files were not being collected because
they weren't in our log collection list. Add worlddump to this list
so that we collect these files.

One thing that makes this slightly complicated is the worlddump files
are named with a timestamp and we can't have globs in our collection
list. To address this we create a copy of the file with a -latest.txt
suffix. This gives us a deterministic file name for log collection
without using globs.

Note we do not use a symlink here because some jobs gzip their log files
(breaking symlinks) and others do not. This makes it painful to always
have a valid link. Not having a valid link can break log collection.

Hardlinks may be another option but simply making a copy is easier to
manage as you don't have to worry about links preexisting and the
dumpfiles are not that large.

Change-Id: I96ae5f5290546ad25ca434c1106c01354d2d053c"
brtknr,2019-08-08 16:20:19,https://api.github.com/repos/openstack/devstack/git/commits/951e14d6dd534236e2710a48fb3d86d66f5c0228,951e14d6dd534236e2710a48fb3d86d66f5c0228,"Fix default security group in samples/local.sh

The script currently complains about multiple default security groups. This
obtains the default and uses it when creating security group rules.

Change-Id: I81e59eae5df79889ed1fb02d45af26e3a55aa0e9"
sdatko,2019-08-22 13:39:53,https://api.github.com/repos/openstack/devstack/git/commits/28c498150d89a8a414a50ad307a79b764514e424,28c498150d89a8a414a50ad307a79b764514e424,"Select proper flavor_ref_alt for Tempest

Currently if user selects the default instance type for Tempest
tests, some of resize-related tests may fail due to resize attempt
into flavor with smaller disk size. It is because there is just
simple check if flavor_ref and flavor_ref_alt (IDs) aren't the same.
To ensure resize is really possible, there shall be additional
verification introduced.

Co-Authored-By: Micha≈Ç Madarasz <michal.madarasz@corp.ovh.com>
Change-Id: Iaa1bfa9cb76cbe54be658d2d70d97d99e7fb5be9"
mriedem,2019-08-22 16:15:09,https://api.github.com/repos/openstack/devstack/git/commits/f92c346131db2c89b930b1a23f8489419a2217dc,f92c346131db2c89b930b1a23f8489419a2217dc,"Fix MySQL log collection

The mysql logs weren't being copied to logs and published.

Change-Id: I20740b468e4b310ac07e77f3930cae92026942fb"
hjensas,2019-08-21 08:49:57,https://api.github.com/repos/openstack/devstack/git/commits/f1a794e1326b79aa5c5e67530f2169479b9bf1f2,f1a794e1326b79aa5c5e67530f2169479b9bf1f2,"flat_networks - Don't hardcode public network name

Use the PUBLIC_NETWORK_NAME variable instead of hardcoding
it when setting the [ml2_type_flat]/flat_networks option.

Change-Id: I8bfc37089ec90eb06ee41d85744dad0f3f734c16"
ghanshyammann,2019-07-29 10:42:24,https://api.github.com/repos/openstack/devstack/git/commits/d331fa7a2d027e98c08aba442c05ba54abc7d6d8,d331fa7a2d027e98c08aba442c05ba54abc7d6d8,"Set cinder's my_ip based on SERVICE_IP_VERSION value

Devstack's lib/cinder set the my_ip on cinder side but it
hard-code it with HOST_IP[1]. It is no issue for IPv4 env
but when you build or run the IPv6 job then this ip is left
to set with IPv6. my_ip should be set to HOST_IP or HOST_IPV6
based on SERVICE_IP_VERSION value.

As part of Train community goal 'Support IPv6-Only Deployments',
we will expand the 'devstack-tempest-ipv6' job to do IPv6-only
deployments verification so we need fix the the my_ip setting.

Closes-Bug: #1838250

Depends-On: https://review.opendev.org/#/c/677524/

[1]https://github.com/openstack/devstack/blob/6aeaceb0c4ef078d028fb6605cac2a37444097d8/lib/cinder#L231

Change-Id: I71c74e46467a5d3c1bf9c7d683f364cba7cf9d80"
ajaeger,2019-08-13 17:27:06,https://api.github.com/repos/openstack/devstack/git/commits/d3a2fcf48597ab7486a193567a02e650188370dc,d3a2fcf48597ab7486a193567a02e650188370dc,"Use list tables

Reformat overlong table into a list-table to make it easier to edit.
The change contains no wording changes besides giving titles to the
list-tables.

Fix formatting for setup-devstack-source-dirs so that the variable does
not get displayed with a grey bar at
https://docs.openstack.org/devstack/latest/zuul_roles.html#role-setup-devstack-source-dirs

Change-Id: I7378d46c507b1d86f1d5319655a55f2a8c5a8f60"
juliakreger,2019-06-21 03:39:53,https://api.github.com/repos/openstack/devstack/git/commits/0fe25e31a8ff40d76279e55c731fd31a93f0d21c,0fe25e31a8ff40d76279e55c731fd31a93f0d21c,"Add the IPv6 IP to the TLS cert

For some crazy reason, we've forgotten about trying
to use IPv6 addresses directly with the SSL certificates.

So lets add some logic so clients can connect directly
with the v6 IP.

Change-Id: Ie8b8a2d99945f028bebe805b83bfd863b7b72d57"
ajaeger,2019-08-11 14:00:12,https://api.github.com/repos/openstack/devstack/git/commits/8dd89e52d04da2230914deceaee7c4d41e73ccc2,8dd89e52d04da2230914deceaee7c4d41e73ccc2,"Update docs building

Switch to ""modern"" way of building docs using sphinx-build directly,
remove now unsed parts from setup.cfg.

Upgrade to openstackdocstheme 1.20 and remove obsolete variables from
conf.py.

Convert external links to internal RST links so that Sphinx can verify
that they are correct.

Replace redirected links with new targets.

Use opendev.org instead of github.com where appropriate.

Change-Id: Iedcc008b170821aa74acefc02ec6a243a0dc307c"
melwitt,2019-08-09 15:57:50,https://api.github.com/repos/openstack/devstack/git/commits/0a3288c1b40a4338df351a3fef9a346e78e12191,0a3288c1b40a4338df351a3fef9a346e78e12191,"Set console server host/address in nova-cpu.conf for multi-host

Currently, the console server host and listen address on the compute
host is always being set to localhost. This works fine in a single
node all-in-one deployment, but will not work properly when
nova-compute is running on a separate host in a multi-node deployment.

This sets the console server host and listen address on the compute
host to the nova host IP and service listen address instead of the
localhost.

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Closes-Bug: #1669468

Change-Id: Id8b0b4159b98c7ff3c85ec3daa03d556d9897ce9"
aspiers,2019-08-07 13:34:56,https://api.github.com/repos/openstack/devstack/git/commits/6c7337e80ee10ed180df284e492d36fa1f60ebc2,6c7337e80ee10ed180df284e492d36fa1f60ebc2,"Make stop/disable of apparmor work on all SLE systems

The existing code to disable apparmor on SUSE systems only worked for
recent openSUSE / SLE releases.  On SLE12 (at least), aa-enabled and
aa-teardown are not available, so instead use systemd's interface for
stop/disable.  However on newer releases, systemctl stop apparmor is a
no-op:

    https://www.suse.com/releasenotes/x86_64/SUSE-SLES/15/#fate-325343
    https://gitlab.com/apparmor/apparmor/merge_requests/81
    https://build.opensuse.org/package/view_file/openSUSE:Leap:15.2/apparmor/apparmor.service?expand=1

So we still need to call aa-teardown if it's available.

Change-Id: I8d99c8d743cc1935324e2e4fcb67efaa5241199e"
ianw,2019-08-07 23:15:11,https://api.github.com/repos/openstack/devstack/git/commits/474f535a14598133728fedda884b437b1ce6e5e2,474f535a14598133728fedda884b437b1ce6e5e2,"oscwrap: make a little quieter

A huge part of the logs is irrelevant bash aliases captured by the
openstack client timing wrapper from the run of ""openstack complete"",
which is only helpful on interactive systems where you'll interact
with the command line.  Call it directly to avoid capturing the logs.

While we're here, turn off tracing inside the oscwrap function, which
is called frequently.  It's not useful for debugging.

Change-Id: I1cb5399fe7ee6f0e547a9cfff70396aa2007632e"
slawqo,2019-08-01 12:58:37,https://api.github.com/repos/openstack/devstack/git/commits/d33cdd01f83b891b010e0fd238f1816910f3fd77,d33cdd01f83b891b010e0fd238f1816910f3fd77,"Add options to configure cache in nova

This patch adds new options:
* CACHE_BACKEND - with default ""dogpile.cache.memcached""
* MEMCACHE_SERVERS - with default ""localhost:1121""

to add possibility to configure various backends as cache in
Nova and Keystone.
It also adds options:
* KEYSTONE_ENABLE_CACHE - True by default
* NOVA_ENABLE_CACHE - True by default

To make possibility to enable and disable cache in those projects'
config files.

Default values configured there are the same as before were
hardcoded for Keystone config.

Nova has also enabled this cache by default.

Change-Id: I9082be077b59acd3a39910fa64e29147cb5c2dd7
Closes-Bug: #1836642"
ghanshyammann,2019-07-31 12:39:49,https://api.github.com/repos/openstack/devstack/git/commits/99bcaf5721b89a7e74b6ac8888d82e3f83b04ef4,99bcaf5721b89a7e74b6ac8888d82e3f83b04ef4,"Add 'tempest-ipv6-only' job on devstack gate

We recently added the 'tempest-ipv6-only' job on
tempest side which will use the devstack base job
'devstack-ipv6' job and add more verification and testing
for IPv6 deployment.

Let's add that job on devstack gate also to avoid any
break due to devstack changes.

Change-Id: Ib2c85ec262b027351872e2b5a39b06a4ba1b880a
Story: #2005477
Task: #35923"
ajaeger,2019-07-30 15:52:55,https://api.github.com/repos/openstack/devstack/git/commits/0fc6b2c5a87a1884bf3cff086081b3a253cd9302,0fc6b2c5a87a1884bf3cff086081b3a253cd9302,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I8a6c3403192d1416cb66cc9e92ec827b339f1270"
grahamhayes,2015-07-20 15:28:52,https://api.github.com/repos/openstack/devstack/git/commits/352d58a7afd9e2261e639af78e4fb4c99d8f9f81,352d58a7afd9e2261e639af78e4fb4c99d8f9f81,"Only modify folders created by devstack

running chown and chmod on files and folders not created by
devstack causes a few issues:

* On nfs mounted directories it can take an extremely
  long time to chown -R some of the git repos, especially
  if any tox commands have been ran in the host
* chown can cause the host files to get into a weird state
  if nfs is set up wrong.

If files and folders are pre-existing we should assume
they are in the correct state, and not modify them.

Fix setup-devstack-log-dir to create the logs directory with
correct permissions in the first place.

Change-Id: I5ebdaded3ffd0a5bc70c5e9ab5b18daefb358f58
Signed-off-by: Graham Hayes <gr@ham.ie>"
ghanshyammann,2019-07-24 10:31:27,https://api.github.com/repos/openstack/devstack/git/commits/b0b80d76e1b8787fbfa66aedaf700c2abe44e22d,b0b80d76e1b8787fbfa66aedaf700c2abe44e22d,"Remove VNC server listen addresses seeting to IPv4 from base job

'devstack' job set the VNC listen addresses 'VNCSERVER_LISTEN' and
'VNCSERVER_PROXYCLIENT_ADDRESS' IPv4 which makes 'devstack-ipv6' job
to either unset those or set for IPv6 values.

Let's remove the setting of those in base job and let lib/nova
set based on configured ip version from job.

'devstack-ipv6' base job will be used to define the IPv6-only jobs
on Tempest and project side gate.

Change-Id: Iea469128b15298aee61245e702d20603c8d376fb
Story: #2005477
Task: #35923"
ghanshyammann,2019-07-25 06:48:39,https://api.github.com/repos/openstack/devstack/git/commits/420d3df48125a276974741a4f14a50df55184b8d,420d3df48125a276974741a4f14a50df55184b8d,"Make 'devstack-ipv6' job as voting

'devstack-ipv6' job set the devstack to deploy
the services on IPv6. As part of community goal
'Support IPv6-Only Deployments'[1], this is going
to be the base job for all project specific or tempest
IPv6 jobs. Running this as voting make sure any devstack
setting or changes would not break the IPv6 jobs.

Story: #2005477
Task: #35923

[1] https://storyboard.openstack.org/#!/story/2005477

Change-Id: Id6580e8b29b6b04e34c2c1eca3125fa08920eb1d"
mriedem,2019-07-12 15:51:17,https://api.github.com/repos/openstack/devstack/git/commits/d51baee40d0e50675d8055cab67b262ef0fc9f1f,d51baee40d0e50675d8055cab67b262ef0fc9f1f,"Add NOVA_SHUTDOWN_TIMEOUT variable

This adds a variable to control the [DEFAULT]/shutdown_timeout
config in nova to control whether or not a guest should have
a graceful shutdown of the OS or if it should just stop
immediately (no timeout). Since devstack uses CirrOS images
by default, the default value for the NOVA_SHUTDOWN_TIMEOUT
variable is 0 which should speed up tempest runs. The default
in nova.conf [1] is 60 seconds.

[1] https://docs.openstack.org/nova/latest/configuration/config.html#DEFAULT.shutdown_timeout

Change-Id: Ida83f70a1c4e61e5248f2bd42b4c24f7ac6d2310
Related-Bug: #1829896"
tipabu,2019-07-11 16:47:48,https://api.github.com/repos/openstack/devstack/git/commits/764ccd07a7f30ecf6549bad618bc05ffb97fae35,764ccd07a7f30ecf6549bad618bc05ffb97fae35,"Remove Swift from default DISABLED_PYTHON3_PACKAGES

As of https://review.opendev.org/#/c/653548/ this is no longer
necessary.

Change-Id: Iab43d77c3444fa97f3339f0e5fa4ad24e87e3fd6"
vanou,2019-07-02 04:40:24,https://api.github.com/repos/openstack/devstack/git/commits/705e9cb5dc8b63c902f588d29271686501be0c6e,705e9cb5dc8b63c902f588d29271686501be0c6e,"Fix error in configure_nova_hypervisor with hardware Ironic node

Trying to deploy OpenStack environment consisting of ironic nova
hypervisor & hardware Ironic node (not VM Ironic node) with devstack
got failed.

Devstack error says error occurred while calling configure_libvirt
in configure_nova_hypervisor. This happens because libvirt related
packages are not installed when specifying ""VIRT_DRIVER=ironic""
and ""IRONIC_IS_HARDWARE=True"".

To fix this problem, this commit add ""if"" statement to check
Ironic node is hardware or not using ""is_ironic_hardware"" function
in ""function-common"" file.

Change-Id: I1113478175fadec79d0f8bf6ae842ed86e5e686b
Closes-Bug: #1834985"
dirkmueller,2019-06-26 07:57:02,https://api.github.com/repos/openstack/devstack/git/commits/70fca49de75a77fd766d5b72f8757e4f7c0a7a48,70fca49de75a77fd766d5b72f8757e4f7c0a7a48,"Add and switch to the newly created opensuse-15 nodeset

opensuse-150 nodeset is referring to openSUSE 15.0, which is still in
maintenance but openSUSE 15.1 has been released already. ""opensuse-15""
is going to refer to the ""latest openSUSE 15.x"" build released and
working for OpenStack going forward, so add this nodeset and use
it by default going forward.

Change-Id: Ic3f4d6998a66da5226bc95088d7e3c83dfe737ce"
melwitt,2019-05-24 20:09:28,https://api.github.com/repos/openstack/devstack/git/commits/d7d902f6b60298d56359a07a63b2355373e54956,d7d902f6b60298d56359a07a63b2355373e54956,"Configure console proxy ports in nova-cpu.conf

In change I8934d0b9392f2976347391c8a650ad260f337762, we began
configuring console proxy ports for multiple cells in the nova
controller config files to avoid ""Address already in use"" errors from
port collisions when running multiple cells on a single host.

This correspondingly configures the console proxy ports in the nova
compute config file based on what cell we're in, according to the
NOVA_CPU_CELL variable.

The base_url config for serial console is also added where the default
was previously used. The url is taken from the config option default in
the nova code: nova/conf/serial_console.py [1].

[1] https://github.com/openstack/nova/blob/8f00b5d/nova/conf/serial_console.py#L54

Change-Id: Id885fc5a769bce8111f1052a1b55d26be817c890
Closes-Bug: #1830417"
cgoncalves,2019-06-21 11:13:40,https://api.github.com/repos/openstack/devstack/git/commits/8b31dce38b630ba3ed1883bcf91a90d296ae44f2,8b31dce38b630ba3ed1883bcf91a90d296ae44f2,"Fix rdo-release install

The URL for rdo-release package is version-less and redirects to latest
stable version. This becomes problematic when stacking older stable
versions as dependencies might not be met or newer and incompatibile
ones might get installed.

Closes-Bug: #1833696

Change-Id: Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1"
dirkmueller,2017-11-17 18:52:29,https://api.github.com/repos/openstack/devstack/git/commits/8ab64b3236c93c8449edf80165017898b83f1269,8ab64b3236c93c8449edf80165017898b83f1269,"Drop signing_dir option from configure_auth_token_middleware

This is no longer being used due to Keystone PKI tokens no longer
being implemented.

In order to not break backward compatibility we create a new function
that is to be used instead and deprecate the old one. Modify the old
function to ignore the 3rd argument and display a deprecation warning.
Adjust callers to no longer create and set that directory, calling the
new function instead.

Change-Id: Id0dec1ba72467cce5cacfcfdb2bc0af2bd3a3610"
ghanshyammann,2019-06-20 07:42:31,https://api.github.com/repos/openstack/devstack/git/commits/52c2886f7ede0e47f53b65fd1fd30f7d6ca7c086,52c2886f7ede0e47f53b65fd1fd30f7d6ca7c086,"Add capability of adding additional network API extensions

Currently, devstack has NETWORK_API_EXTENSIONS var to define
the network API extensions. NETWORK_API_EXTENSIONS is defaulted
to 'all' for master and hard coded list of extensions per release.
Zuul jobs of network extensions (for example neutron-fwaas) need
add the some extra extensions in the default list. To do so, they
need to duplicate all the defaults extensions and then add the extra
extensions. Much difficult situation is when defaults extensions list
vary from release to release so they have to keep updating the
NETWORK_API_EXTENSIONS per release.

This commit defines a new var ADDITIONAL_NETWORK_API_EXTENSIONS which
will take extra extensions and append into the default list. This way
Zuul jobs do not need to duplicate the default extensions.

Change-Id: I7270c9b9e047a851970439522c0356c9089a5b74"
mriedem,2019-06-21 13:38:24,https://api.github.com/repos/openstack/devstack/git/commits/99e7445fb245deaa67d831a23c4e4ee21c13c855,99e7445fb245deaa67d831a23c4e4ee21c13c855,"Adjust repo namespace for pbr

This is a follow up for change Ifcfce490edb3d77e4e436e002d35bc909e1a057c
where the GIT_BASE was changed to the opendev URL to avoid redirects.
The pbr namespace in stackrc was old and still getting redirected and
this change fixes that.

Change-Id: Ib444e928fa2ca7650670f97be6927202333a1dd7"
mriedem,2019-06-18 14:43:16,https://api.github.com/repos/openstack/devstack/git/commits/9b6d2f20b47523ddc51349943dd76bb76d1c58d8,9b6d2f20b47523ddc51349943dd76bb76d1c58d8,"Update (git|review).openstack.org links to opendev

This updates links going to git.openstack.org and review.openstack.org
to go to their respective opendev locations to avoid redirects.

Change-Id: I78e3bb5303718962f591117f9c0ee11f2314b128
Closes-Bug: #1833256"
markmcclain,2019-05-07 16:12:29,https://api.github.com/repos/openstack/devstack/git/commits/371a25328525ac16677ad721f725e81628f9d941,371a25328525ac16677ad721f725e81628f9d941,"Change the GIT_BASE default to https://opendev.org

Change-Id: Ifcfce490edb3d77e4e436e002d35bc909e1a057c"
ianw,2019-06-04 07:30:13,https://api.github.com/repos/openstack/devstack/git/commits/d5634c4723df4f6b597578a8588ad3730e4b5bbc,d5634c4723df4f6b597578a8588ad3730e4b5bbc,"Fix plugin doc generation for opendev transition

Update the server to opendev and update paths for gitea, along with
any other references.

Switch to a blacklist where we just remove stackforge; this leaves all
the new namespaces like x/ and starlingx/ being checked.

Use a common session for checking for the plugin file which makes it a
*lot* faster.

Remove unsed ""plugins"" array variable

Regenerate the file

Change-Id: Ie3e615ba352a389da22e129c5c67cf6abd8cfdc8"
stmcginnis,2019-06-19 16:49:40,https://api.github.com/repos/openstack/devstack/git/commits/f7302e1af10938a0ffc259ab9bfd3919693fe36b,f7302e1af10938a0ffc259ab9bfd3919693fe36b,"Fix configuration doc block formatting

Many of the code blocks in the configuration documentation had extra
leading spaces. This resulted in the blocks being both code block
formatted as well as blockquoted in the output.

This patch removes leading spaces and some minor cleanup to get the
formatted output correct.

Change-Id: Ic4dfb49c547d51e16b673bc88d7b2b1a907e3258
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>"
oomichi,2019-06-18 23:38:28,https://api.github.com/repos/openstack/devstack/git/commits/5b8656e748dca1c822556b27f51d67ab238e0721,5b8656e748dca1c822556b27f51d67ab238e0721,"Remove RetryFilter from config

Since Ic0a03e89903bf925638fa26cca3dac7db710dca3 RetryFilter has been
deprecated. So we should not enable the RetryFilter on our tests.

Change-Id: I48c2c4d0714f582af8948dc88b48df1c2c62fcd2"
mriedem,2019-06-03 20:08:09,https://api.github.com/repos/openstack/devstack/git/commits/b57757ae14a54e78ebd533198564d24af77c51da,b57757ae14a54e78ebd533198564d24af77c51da,"Add NOVA_NOTIFICATION_FORMAT variable

Nova change https://review.opendev.org/603079/ changed the
default configuration to send only unversioned notfications rather
than both versioned and unversioned notifications. This could break
unsuspecting downstream projects (like Watcher) whose CI jobs are
not explicitly configuring nova for the types of notifications
they need but are just relying on getting both per the previous
default of the config option.

This adds a variable which defaults to ""unversioned"" to match the
nova default but allows downstream CI jobs to easily configure
another value.

Needed by https://review.opendev.org/663332/

Change-Id: Ied9d50b07c368d5c2be658c744f340a8d1ee41e0"
juliakreger,2019-01-10 01:00:45,https://api.github.com/repos/openstack/devstack/git/commits/6e5b1384665c0c039222ff6cbea5a120e60e89d1,6e5b1384665c0c039222ff6cbea5a120e60e89d1,"Enable vlan networking for newer neutron plugin

Ironic's CI makes extensive use of VLAN based networking
and the newer neutron plugin hardcodes the tenant networking
type to vxlan which is naturally problematic. It also lacks the
ability to set the necessary constraints for vlan networking
which are added for vxlan networking.

This patch enables the type of tenant networking to be defined
as vlan, and enables for a physical network vlan range mapping
setting to be configured which is required for a vlan to be
allocated upon network creation.

Change-Id: I55874c1ce82898e9dfb81505d8f3b14abde33579"
mriedem,2019-05-24 19:09:01,https://api.github.com/repos/openstack/devstack/git/commits/58abccb89f46576b573733fd424056b2f5a0203d,58abccb89f46576b573733fd424056b2f5a0203d,"Add nova-multi-cell job to experimental queue

Nova has had a multi-cell job (nova-multi-cell) since the
Train release but is currently non-voting in the check queue
for nova changes. This change adds the job to the experimental
queue for devstack changes so we can test changes to devstack
and make sure they work for the multi-cell job.

Change-Id: Icf31baf6fd4313aec5ecfb9e8f9cbcef1ff7f61d"
ghanshyammann,2019-06-05 08:24:45,https://api.github.com/repos/openstack/devstack/git/commits/fc207050988e236c32b0736f44c6bf2883cea95f,fc207050988e236c32b0736f44c6bf2883cea95f,"Add setting of placement microversion on tempest conf

Tempest not support placement microversion setting so that
test can call APIs with specific placement microversion.

This commit adds the setting of placement API microversion on
Tempest conf.

Change-Id: Ie04aa993ec7a1495740d9267b076a40f4291e25e"
Krenair,2019-06-04 00:21:44,https://api.github.com/repos/openstack/devstack/git/commits/5e2d0e0bb5beffc23087383e7923dabaa2004a98,5e2d0e0bb5beffc23087383e7923dabaa2004a98,"Permit use of sudo-ldap instead of sudo package

If the sudo-ldap package is providing the sudo command instead of the plain
sudo package, accept that instead of breaking the system and requiring direct
root login intervention to fix things.

Change-Id: I45d7e4617bd59e72b4f0bf2e91750a6830e2a010"
slawqo,2019-05-31 14:23:57,https://api.github.com/repos/openstack/devstack/git/commits/1b15176b0598f00c442c3b40985df30204dc6963,1b15176b0598f00c442c3b40985df30204dc6963,"Use neutron-legacy on subnodes in devstack zuul job

There are still some issues with lib/neutron thus neutron-legacy is used
on controller node in multinode jobs and in single node jobs.
But in ""group-vars"" in devstack job it was configured to use
lib/neutron which can cause some problems in multinode jobs.

So lets switch to neutron-legacy on subnodes also until lib/neutron
will be ready to use everywhere.

Change-Id: I0d7f9f2baaee2836a719f199939156bd4f53f778"
stephenfin,2019-05-22 09:46:02,https://api.github.com/repos/openstack/devstack/git/commits/a23e4153ef6711ebddc05290bb19c4c2d4fc2c18,a23e4153ef6711ebddc05290bb19c4c2d4fc2c18,"nova: Stop setting '[DEFAULT] use_ipv6'

Change I188fc2cd1b26fe7a71804f7e7d66b111d6f15e30 in nova stopped us
respecting this when generating the network templates injected into
instances on boot. With the removal of nova-network, there is no longer
any other reason to set this.

Change-Id: I925b7c6c23133cd5a835960f4507c979f615d78e
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>"
stephenfin,2019-05-22 09:38:28,https://api.github.com/repos/openstack/devstack/git/commits/283e86fbb59aa11afb21b916d3a106e442baee0e,283e86fbb59aa11afb21b916d3a106e442baee0e,"nova: Set '[neutron] default_floating_pool' instead

In change I2ce8ff3d7c33a402b8af50182ec01f512859c388, we duplicated the
'default_floating_pool' option, found in the '[DEFAULT]' group, to the
'[neutron]' group. This allowed us to continue with our deprecation
plans for the former option, which should be retired along with
nova-network.

Update the nova lib module so it'll set the new option, we can safely
assume to be the correct one now that we've removed support for cells v1
and nova-network.

Change-Id: If9a02b640e6c2e1300c7b11b7552ba13c1496d79
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>"
stephenfin,2019-05-21 13:17:11,https://api.github.com/repos/openstack/devstack/git/commits/4b8cba77fe3444c925b5e4fe39743d54b0243eef,4b8cba77fe3444c925b5e4fe39743d54b0243eef,"Remove n-cells, n-net and n-cauth

Remove nova cells v1 support, which also allows/necessitates removing
support for nova networks (which was only supported with cells v1) and
nova-consoleauth (which was required by cells v1 but is unnecessary
otherwise).

The Depends-On isn't really necessary, but it's here to make sure this
doesn't merge until we _really_ have killed cells v1.

I honestly expected this patch would be bigger.

Change-Id: I90316208d1af42c1659d3bee386f95e38aaf2c56
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Depends-On: Ib0e0b708c46e4330e51f8f8fdfbb02d45aaf0f44"
xuhang57,2019-05-30 20:49:29,https://api.github.com/repos/openstack/devstack/git/commits/f745a0a7aa8cc86a02cd43012b307bb65df5b1aa,f745a0a7aa8cc86a02cd43012b307bb65df5b1aa,"Fix Typo on Devstack-with-lbaas-v2.rst

Change ""creeate"" to ""create"" in thie CLI

Change-Id: Ic9997ad2b852ae25b28c5ad7481fad188b632a50"
tombarron,2019-01-09 13:43:52,https://api.github.com/repos/openstack/devstack/git/commits/4db9d567d19759ee090e506adf7ad77d8e64e452,4db9d567d19759ee090e506adf7ad77d8e64e452,"Safety check for python version in get_pip_command

We know empirically that some legacy gate jobs pass and appear
to be running with python3 but actually pip was invoked with
PYTHON3_VERSION unset so that they are actually ran with python2
packages.

As a followup to this discussion [1], add a safety check in the
get_pip_command function to ensure that a python version has been
set when it is invoked.

[1] https://review.openstack.org/#/c/622415/4/inc/python@283

Change-Id: I3a08406fb7d68282c6b98abb33a625821510046a"
swami-dvr,2019-05-02 20:45:46,https://api.github.com/repos/openstack/devstack/git/commits/9bf7e2654124205cd71343c2af175d730c634ab7,9bf7e2654124205cd71343c2af175d730c634ab7,"DVR-Enable ARP Responder when DVR and L2pop is enabled

This patch enables ARP Responder with DVR routers along with
l2pop in devstack.

Related-Bug: #1774459

Change-Id: I82f628c32f6e38c2419b6ffe90d9f9adf96777b1"
ralonsoh,2019-04-05 11:30:14,https://api.github.com/repos/openstack/devstack/git/commits/8b8158ed8f2f448a214ce3b1978b9cb5b039f6ed,8b8158ed8f2f448a214ce3b1978b9cb5b039f6ed,"""raw_input()"" deprecated in Python3

Built-in function ""raw_input()"" is deprecated in favor of ""input()"" [1].

[1] https://www.python.org/dev/peps/pep-3111/

Change-Id: I31c4c59373a2ad04987da3daffb3eed50916a6db
Closes-Bug: #1823321"
bloodeagle40234,2018-09-12 18:08:19,https://api.github.com/repos/openstack/devstack/git/commits/070e4ee65e73584bae5fdb23135abb972baf8ae9,070e4ee65e73584bae5fdb23135abb972baf8ae9,"Deprecate swift3, use s3api in Swift repo

swift3 is no longer actively maintained in the upstream.
That has been moved to Swift repository as s3api so we should
use s3api middleware instead. As well as swift3, s3token is
also maintained in Swift upstream.

Change-Id: I4582d81da066ab53e6f11ad1df7af91425f2b0ca"
mriedem,2018-09-04 20:51:45,https://api.github.com/repos/openstack/devstack/git/commits/9e3b3bf5244e0b62cd4ab9914c622e81ba08f4c8,9e3b3bf5244e0b62cd4ab9914c622e81ba08f4c8,"Add nova-status upgrade check call post-deploy

Once nova is setup and n-cpu on the host is reporting
a service record and discovered (the host is mapping in
the API DB), we should run the nova-status upgrade check
to verify the deployment.

Change-Id: I9683bf94233ebacb3057ce159cb3dc53aa55a2f4
Related-Bug: #1790721"
zhongshengping,2019-04-30 02:12:51,https://api.github.com/repos/openstack/devstack/git/commits/5fe60c1a342f78482042f34f9a6d1a6739cbb1b7,5fe60c1a342f78482042f34f9a6d1a6739cbb1b7,"Option ""lock_path"" from group ""DEFAULT"" is deprecated

Option ""lock_path"" from group ""DEFAULT"" is deprecated. Use option
""lock_path"" from group ""oslo_concurrency"".

Change-Id: I7c7501a4a351155eeba77bb7cd43c8d6f5ea73bc"
ostackbrian,2019-04-15 16:00:07,https://api.github.com/repos/openstack/devstack/git/commits/87daf8abe64f9b51fb840a455088b18fd0a791ff,87daf8abe64f9b51fb840a455088b18fd0a791ff,"End support for changing cinder periodic_interval

Support for changing the cinder periodic_interval config option
was added way back in havana as a workaround for bug #1180976
by change I20e52e66fcc94b224476cdd14c88bd6981b4e617.  As the fix
for that bug does not require modifying this config value, and
such modification may have unintentional adverse effects, end
the support.

Change-Id: I1ef1fe564123216b19582262726cdb1078b7650e
Partial-bug: #1824837"
mriedem,2019-04-23 17:44:37,https://api.github.com/repos/openstack/devstack/git/commits/62e27d3b1c81cd8a45ee6a8e77dce9f68fc9ea1a,62e27d3b1c81cd8a45ee6a8e77dce9f68fc9ea1a,"Remove n-obj from zuul and docs

n-obj hasn't been around for many years and devstack
doesn't use it anymore anyway so this just cleans up
some vestigial use of the old service.

Change-Id: I04b2d2dc2b4e49fab90f5ef94f4e087e969aa24b"
notartom,2018-05-23 14:08:56,https://api.github.com/repos/openstack/devstack/git/commits/4705861dd01fdb37bde2a9432571501599d20766,4705861dd01fdb37bde2a9432571501599d20766,"Explicitly set scheduler_available_filters

Tempest's scheduler_available_filters has a special 'all' value that
is understood to mean 'all filters are enabled' by various tempest
tests. However, what it really means is 'the default nova filters are
enabled.' In an effort to help clean that up, this patch explicitly
sets scheduler_available_filters to nova's $FILTERS. Because $FILTERS
is now used in both lib/nova and lib/tempest, it is renamed
$NOVA_FILTERS.

Change-Id: I6ffc1e9989cd61d666f9c1db9c94fbabd7151918
Related-bug: 1628443"
emonty,2019-04-23 13:02:00,https://api.github.com/repos/openstack/devstack/git/commits/dc9ba8b8aee4022ef1598cd0d8cfd7dfe34a4b6b,dc9ba8b8aee4022ef1598cd0d8cfd7dfe34a4b6b,"Add opendev to repo search list

glean is in opendev and is used by nodepool devstack jobs.

Change-Id: I38dfd7cc531b20b26862193be14f4ebb53352efa"
dtroyer,2019-04-20 14:11:58,https://api.github.com/repos/openstack/devstack/git/commits/e7f3d91a7ddb0a1d01a4394f42feb51ffc3b9b43,e7f3d91a7ddb0a1d01a4394f42feb51ffc3b9b43,"Update repo namespace search list

With the new namespaces we have to look around a bit more to find
repos top copy into the DevStack working directory. Add:

* starlingx/
* x/
* zuul/

Depends-On: https://review.opendev.org/653988
Change-Id: I8a55522a5fee46f415f0c0ce580ded3476133460
Signed-off-by: Dean Troyer <dtroyer@gmail.com>"
eandersson,2019-04-18 19:18:23,https://api.github.com/repos/openstack/devstack/git/commits/a13474fd7892312ef42a211c344d8c785f9a5f93,a13474fd7892312ef42a211c344d8c785f9a5f93,"Add region_name to ironic compute configuration

We should always pass on a region when talking to
ironic. This will also help detect and test issues
specific to regions.

Change-Id: Iaab3c1bcedc5aaa2106c0758cbb43bade3de2cf5"
slawqo,2019-04-15 21:54:31,https://api.github.com/repos/openstack/devstack/git/commits/a9a51ca6382eb01c99fce51084f64a69f4c7d58a,a9a51ca6382eb01c99fce51084f64a69f4c7d58a,"Fix is_neutron_legacy_enabled function

This function will now first filter out all ""neutron-"" strings from
DISABLED_SERVICES list before looking for ""neutron"" string in it.

Change-Id: I5cab6a3be553713e1257599fb72042c6001f2672
Close-Bug: #1824884"
cmurphy,2019-02-28 22:44:14,https://api.github.com/repos/openstack/devstack/git/commits/10f44098825d1d13452117dc5ee31e3e895b495f,10f44098825d1d13452117dc5ee31e3e895b495f,"Add hack to fix ply installation on opensuse

The python3-ply package is indirectly a dependency of dhcp-client, which
is not exactly an optional package. Pip >=10 refuses to install ply from
global-requirements with this distro package is installed, so our only
option is to remove it manually.

Change-Id: I377fdd4a581eb4b6275584d92cafc0b783fe3b84"
emonty,2017-12-06 15:21:43,https://api.github.com/repos/openstack/devstack/git/commits/28a62242843ff45315f4918062ed654a3f3e3b31,28a62242843ff45315f4918062ed654a3f3e3b31,"Add openstacksdk functional job to devstack pipelines

openstacksdk gates on the new-style devstack functional base jobs. It
serves as a good test case to make sure the functional base jobs don't
break.

Change-Id: I817639ed30cda8ea51d156872a14bbcf10a4e63d"
dangtrinhnt,2018-12-14 08:27:46,https://api.github.com/repos/openstack/devstack/git/commits/56af9229a04b29c1ac70099e8361cec423096e99,56af9229a04b29c1ac70099e8361cec423096e99,"Remove pkg/elasticsearch.sh

The pkg/elasticsearch.sh is only used by Panko but Panko has
moved the script to its own repository [1].

[1] https://review.openstack.org/#/c/643262/

Change-Id: I0ce40f4299246b68624abd2072c2abce06f1e70b
Signed-off-by: Trinh Nguyen <dangtrinhnt@gmail.com>"
amotoki,2019-04-04 13:30:24,https://api.github.com/repos/openstack/devstack/git/commits/1348ac990df40c504056a235156979629b844e8a,1348ac990df40c504056a235156979629b844e8a,"stack.sh: Clear OpenStack related envvars

stack.sh usually fails when it is started in a shell session
where OpenStack related environment variables OS_* are set.
Most common failure scenarios are failures in keystone operations.

This commits clears OpenStack related environment variables
at the begining of stack.sh.

Change-Id: I3a924a0586dc9bb28f3bf3e151e100c24015efe5"
cboylan,2017-06-01 03:27:59,https://api.github.com/repos/openstack/devstack/git/commits/cc072fd32f72d4f05257d0b0c8c7c41fa1178f52,cc072fd32f72d4f05257d0b0c8c7c41fa1178f52,"Run devstack CA and cert setup early

Previously apache was configured and restarted before we configured
the CA and certs. In most cases this is fine because those specific
vhosts didn't use tls. However, if you had previously run devstack
and had leftover vhosts and an unconfigured CA or certs devstack would
fail.

This is a small corner case, but its simple to address by moving CA and
cert setup up in stack.sh to before we do anything related to web
servers.

Change-Id: I31dbaf9471088b9faff26c7b790da6f6feebb2d5"
jharbott,2019-02-14 12:56:48,https://api.github.com/repos/openstack/devstack/git/commits/5fcb4447cf601905a795064e67cfb479c0af67a1,5fcb4447cf601905a795064e67cfb479c0af67a1,"Make most platform jobs run with python3

python2.7 will be EOL soon, let's test on python3 instead.
Exclude CentOS 7, as there is no python3 easily available.

Change-Id: I24d8812c0c37b6d376fd5ae38067513bb62a2804"
melwitt,2019-04-02 22:52:23,https://api.github.com/repos/openstack/devstack/git/commits/d5a68a6b7039a66455d7e320379a6b0b3879891c,d5a68a6b7039a66455d7e320379a6b0b3879891c,"Configure console proxy ports in nova_cellN.conf

We're able to run multiple cells in devstack by setting the variable
NOVA_NUM_CELLS in the devstack local.conf. Since we run console
proxies per cell, we will start two console proxies if
NOVA_NUM_CELLS=2. However, we've not been configuring the console
proxy ports in the nova_cellN.conf files, so an attempt to start
more than one will result in a port conflict and failure to start
the subsequent console proxy services with error:

  ERROR nova error: [Errno 98] Address already in use

This adds configuration of the console proxy ports based on an offset
while looping across NOVA_NUM_CELLS. The base port values are taken
from the config option defaults in the nova code: nova/conf/vnc.py,
nova/conf/spice.py, and nova/conf/serial_console.py.

Closes-Bug: #1822873

Change-Id: I8934d0b9392f2976347391c8a650ad260f337762"
tosky,2019-04-02 10:28:31,https://api.github.com/repos/openstack/devstack/git/commits/3ffc00940fdfddbef2c3bd4bc2298104ab606504,3ffc00940fdfddbef2c3bd4bc2298104ab606504,"sync-devstack-data: new argument devstack_data_base_dir

When the role is used by grenade, the data directory is shared among
different devstack executions, and the base directory is different,
for example: /opt/stack/data vs /opt/stack/{old,new}.
The new devstack_data_base_dir parameter allows user to specify
a base directory for the data/ directory which is unrelated
to the devstack directory. The default value is devstack_base_dir,
so the default behavior is unchanged.

Change-Id: Ie69b7b51947cbf1a8b31d2701783de2fb56a2d33"
mriedem,2019-04-01 16:19:45,https://api.github.com/repos/openstack/devstack/git/commits/e03bcb2c8b8f1ee1cbef579454a30776e43175b3,e03bcb2c8b8f1ee1cbef579454a30776e43175b3,"Remove crusty old python 3 package version logic

If we are running with python3, just assume that any
package that is not blacklisted is available for py3
and just attempt to install it and let pip sort it out
whether it gets installed from a local or remote package.

Change-Id: Ic05d183e489320f6dfc721575d47e7e4d661f87c
Closes-Bug: #1820892"
jharbott,2019-04-01 11:43:28,https://api.github.com/repos/openstack/devstack/git/commits/7f0b4f3001575d1419c5020e007ce2c841c88f2f,7f0b4f3001575d1419c5020e007ce2c841c88f2f,"Fix double quoting issue when writing localconf

When [0] introduced quoting all arguments, it broke existing consumers
that already quote their value themselves. Fix this by avoiding to add
additional quotes to the value when it already starts with a double
quote.

[0] https://review.openstack.org/636078

Change-Id: I92146e04731efc6dcc632ae6c3a7c374e783cdba
Closes-Bug: 1822453"
jharbott,2019-04-01 11:16:53,https://api.github.com/repos/openstack/devstack/git/commits/7224a6b54d4114d1b82a63e702586951860bab95,7224a6b54d4114d1b82a63e702586951860bab95,"Update docs index page

- Switch from proposing Ubuntu 16.04 to 18.04 as the most tested
  platform.
- Make it clearer that creating an additional ""stack"" user is
  optional when running on a cloud image, as this step often leads
  to errors for new users.
- Fix some minor nits along the way.

Change-Id: I39aef1a230b668b932b1681fcd0deeb423b411f1"
ianw,2019-02-11 02:35:43,https://api.github.com/repos/openstack/devstack/git/commits/1124a055711c01ad61da8063de47eed9d9acffeb,1124a055711c01ad61da8063de47eed9d9acffeb,"Handle pcp-dstat transition

dstat is Python 2, never going to be updated and effectively
abandonded.  The replacement is pcp-dstat [1] which is mostly
compatible, with a few differences.  As distro start transitioning
(Fedora has), just drop the unsupported args for now.

[1] https://pcp.io/man/man1/pcp-dstat.1.html

Change-Id: Ibec8a37cb18a14656d97e2096c66bc8b21406068"
ianw,2019-02-11 01:28:15,https://api.github.com/repos/openstack/devstack/git/commits/8213d7c03990c8134cbe12bb6c7dac32bb7a0c50,8213d7c03990c8134cbe12bb6c7dac32bb7a0c50,"Add ISCSI_DEBUG option

This option adds a systemd override to start the iscsi daemon with
debugging enabled.

Change-Id: Ie27991776aa07a695026036e47513221220332a0"
ianw,2019-02-11 01:25:38,https://api.github.com/repos/openstack/devstack/git/commits/2bbc9bbbb8616711a0a52540f9a35d4394f0d0ad,2bbc9bbbb8616711a0a52540f9a35d4394f0d0ad,"Add service to tcpdump during run

This adds a service to run a tcpdump during the run.  This can be
useful to capture various network traffic for post analysis.

There didn't seem to quite be an appropriate place to document it, so
a new debugging file is started, with some terse explaination of our
various system-wide debugging services.

Change-Id: I09aaa57611c5047d09a9bce7932d34e9d50b30e6"
ianw,2019-02-11 01:27:10,https://api.github.com/repos/openstack/devstack/git/commits/59ce1d902e2137bb7346a0d1f223e0ce1cb83216,59ce1d902e2137bb7346a0d1f223e0ce1cb83216,"Export all journal logs

Currently we only export the devstack@ services, and then separately
export the kernel & sudo logs to syslog.txt.

This leaves a lot of logs potentially behind in the journal for
various daemons.  Just export the whole lot.

Using this output is currently very opaque and makes use of systemd
export tools that are very un-discoverable.  Add a README that will
appear alongside the journal explaining how to actually use it.  This
is a template as it would be nice to put into things like the list of
services that are in the journal, or maybe other magic.

Also make sure we export the logs since the start timestamp; currently
during a full run we drop the initial logs.

Change-Id: Id2626f9113d82c6d524039acda8a8ec74afb2081"
ianw,2019-02-11 01:26:03,https://api.github.com/repos/openstack/devstack/git/commits/e769348882ea3e6b4465e3a6af72029633b2485e,e769348882ea3e6b4465e3a6af72029633b2485e,"Quote devstack_localrc arguments

If you have

 devstack_localrc:
   ARGUMENT: ""argument with spaces""

The quotes get lost during YAML processing and the resulting file has

  ARGUMENT=argument with spaces

which is a shell error.

Quote all arguments to avoid this sort of thing.

Change-Id: Ia63a53d745dfea7262bcdb5d46425f431c3ccfe5"
ghanshyammann,2019-03-26 18:47:06,https://api.github.com/repos/openstack/devstack/git/commits/315bc13595bf1ebae205f462fc6078f9fc3c840b,315bc13595bf1ebae205f462fc6078f9fc3c840b,"Update DEVSTACK_SERIES to train

stable/stein branch has been created now and
current master is for train.

Change-Id: I119f0388891db44c9753e49cedfeb32c74f2a40d"
melwitt,2019-03-13 13:16:51,https://api.github.com/repos/openstack/devstack/git/commits/e2853bf2d0a2e63d53d0f2d0cb21fd406f6289b0,e2853bf2d0a2e63d53d0f2d0cb21fd406f6289b0,"Set ownership of /etc/pki/<console> files for TLS

OpenSSL 1.0.2 generates key files with default permissions: 644 and the
files are copied to the /etc/pki/* directories with sudo.

When the default CI node Ubuntu version was changed from Xenial =>
Bionic we changed from OpenSSL 1.0.2 => 1.1.0. And OpenSSL 1.1.0
generates key files with default permissions: 600. When we copy the key
file to /etc/pki/* using sudo, it becomes owned by root and then the
console-related users are unable to read it.

This sets the ownership of the /etc/pki/<console> files to the
user:group intended to read them.

Closes-Bug: #1819794

Change-Id: I437a46c875cf633272e8cad0811e5557f2ac3641"
lennybe,2019-03-14 11:19:36,https://api.github.com/repos/openstack/devstack/git/commits/a30dd1cc96a75d565ae924e4698c4208150e5564,a30dd1cc96a75d565ae924e4698c4208150e5564,"Fixed support python 2 on Fedora 27

I7d16194d6ba1391ca31251d5b50cbb8de033fc38 added wrong behavour
on Fedora > 26 and Centos 7 when python3 disabled
pip should install packages in /usr/bin

Closes-Bug: #1820070
Change-Id: I3a8efbc8eb6e311db9c7347577c5d2047ba523a9"
mriedem,2019-03-19 19:04:12,https://api.github.com/repos/openstack/devstack/git/commits/ddb6179b0479ea9478cf2a146fe9b0d7592acaec,ddb6179b0479ea9478cf2a146fe9b0d7592acaec,"Ease python 3 classifier check in check_python3_support_for_package_local

This makes the grep match in check_python3_support_for_package_local
the same as check_python3_support_for_package_remote.

Change I0349de2026c49279ba7f262d5e86d37018d66326 in grenade started
setting the PYTHON3_VERSION variable, and then we recently started
using bionic nodes everywhere which means we're running python 3.6.

The etcd3gw package has a python 3 and 3.5 classifier, but not 3.6:

https://pypi.org/project/etcd3gw/

The pip_install function code that is dealing with installing py3
packages is hitting a problem installing etcd3gw if the package is
local because of the more restrictive grep in the
check_python3_support_for_package_local function, and since
PYTHON3_VERSION=3.6 now, we don't install from py3 and install
etcd3gw on python 2.7 which makes services like cinder-volume and
cinder-backup, which use etcd3gw, fail when they are running under
python 3 (they get module import errors).

This simply removes the $ restriction on the grep. Looking at the
change that added those local/remote functions:

  I243ea4b76f0d5ef57a03b5b0798a05468ee6de9b

There is no explanation for the difference, it just said:

  Also, since not many packages are classified correctly, fallback
  to looking for just ""Programming Language :: Python :: 3"" and
  log a message for the package to highlight the problem.

So that's what this change does.

Note that alternatives would be:

1. Update the etcd3gw package to add the 3.6 classifier and do
   a release (this should probably happen anyway).

2. Add etcd3gw to ENABLED_PYTHON3_PACKAGES but that would be a
   short-term hack workaround.

Change-Id: Icd3768870ba0f1659bb2e6f002043d975047b73e
Closes-Bug: #1820892"
rajathere,2019-03-13 18:11:05,https://api.github.com/repos/openstack/devstack/git/commits/f28c75f87abdda00dcfc2f673816728676313c95,f28c75f87abdda00dcfc2f673816728676313c95,"Cinder: create target directory for targetcli-fb package

While installing 'targetcli-fb' on bionic, a dependent package
'python-rtslib-fb' requires (but doesn't create) /etc/target
and fails[1] when this directory not found.
This patch creates the required directory.

[1] http://logs.openstack.org/26/641926/1/check/cinder-tempest-dsvm-lvm-lio-barbican/8f95df1/logs/devstacklog.txt.gz#_2019-03-13_03_36_44_623

Related-bug: #1819819
Change-Id: I7efefead873037da4aaacbdc6284458bdaad0f6b"
rajathere,2019-03-14 05:31:18,https://api.github.com/repos/openstack/devstack/git/commits/deadc7c439f1126ba986b9c4f3c4d0b6d7774016,deadc7c439f1126ba986b9c4f3c4d0b6d7774016,"Fix : sort variables fetched from env list

In bionic, when exporting env variables, the env list displays
variables in unsorted format.
While fetching we are getting 'https_proxy' before 'http_proxy'
which is failing in comparison to our expected values[1].
This patch sorts the variables fetched from env.

[1] http://logs.openstack.org/30/643130/3/check/devstack-unit-tests/effbf7a/job-output.txt.gz#_2019-03-13_23_12_35_465026

Change-Id: Ie504eabf0d3fec1b97bc711e2702c06bcf75d158"
tosky,2019-03-12 21:25:44,https://api.github.com/repos/openstack/devstack/git/commits/70d043dd6039fb55aa9d40d593839037bb8c43cf,70d043dd6039fb55aa9d40d593839037bb8c43cf,"zuul: new variable to easily populate TEMPEST_PLUGINS

TEMPEST_PLUGINS contains the list of the tempest plugins installed
alongside tempest by lib/tempest.
If TEMPEST_PLUGINS is not explicitly set, the new tempest_plugins
variable is used to fill it by combining its items with
the base devstack path.

Change-Id: I9f1fa2755e16871ff9d6ba33fdeaf3023eedf8d4"
tosky,2019-02-26 17:39:51,https://api.github.com/repos/openstack/devstack/git/commits/610927f4255f0ed4877a3e85d628202e4af2f7d4,610927f4255f0ed4877a3e85d628202e4af2f7d4,"zuul job: write the enable_plugin lines last

Plugins must be the last items in the local.conf file
otherwise the configuration set in the rest of the file
is not applied to them (for example a different value of DEST.)

Change-Id: Ia001badca179c3f3436d5ecd26b0755a3f3a3078"
hongbin,2019-03-10 14:55:48,https://api.github.com/repos/openstack/devstack/git/commits/676957ffcff78e790134776f71035a3b14974896,676957ffcff78e790134776f71035a3b14974896,"Update etcd version to 3.3.12

The default version is 3.2.17 which seems to be too old.
Some external tools are not compatible with this old version.
For example, kubeadm cannot support external etcd version that is
older than 3.2.18.

This commit update the etcd version to 3.3.12 wich is the current
latest version.

Change-Id: Icfabbe580bb83a3babb98cc9fdbfb8eb388dc108"
kashyapc,2019-02-22 19:11:35,https://api.github.com/repos/openstack/devstack/git/commits/4eb455aa287155646f78a4621365b37f9df30793,4eb455aa287155646f78a4621365b37f9df30793,"Capture the content of 'audit.log' file

On CentOS/ Fedora machines, this can be useful when QEMU silently fails
to start up due to SELinux denials.  For Debian-based machines, which
use AppAromor, DevStack already captures the output of 'kern.log' (via
`journalctl -t kernel` redirected into 'syslog.txt.gz').

Change-Id: I231b22664f0944b905e00568759785615a1d47c3
Acked-by: Clark Bolyan <clark.boylan@gmail.com>
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>"
eharney,2019-03-04 22:50:47,https://api.github.com/repos/openstack/devstack/git/commits/363acd9d3d83af2ab088d84b069c1ffba2512e3b,363acd9d3d83af2ab088d84b069c1ffba2512e3b,"Cinder: install targetcli-fb for Bionic

The ""targetcli"" package no longer exists
in Bionic and has been superseded by
""targetcli-fb"".

Change-Id: I99e4e8ad8fbb6e7c86571af8b0c222dafacf6447"
ianw,2019-03-04 06:26:20,https://api.github.com/repos/openstack/devstack/git/commits/6509fd334e0956dc44870d19a80381578e3e3574,6509fd334e0956dc44870d19a80381578e3e3574,"Remove git:// openstack references

This updates various parts of documentation to use https, rather than
git, which is not implemented by gitea

Change-Id: I8d2a93128dcdaba0a00b43d18652781733f90cf0
Story: #2004627
Task: #29701"
ianw,2019-03-04 05:50:42,https://api.github.com/repos/openstack/devstack/git/commits/8b003e0ed2f41fb1ab0007c969bba33c5701f625,8b003e0ed2f41fb1ab0007c969bba33c5701f625,"Switch GIT_BASE to https://

Infra are looking at implementing gitea for serving git, but this does
not have a git protocol handler ATM.  Switch GIT_BASE, and some
testing, to https:// to be in a better position to handle this.

Change-Id: I97a7b0de7b1ec2dd15d15c58699a631b09273df1
Story: #2004627
Task: #29701"
nate-johnston,2018-11-12 16:17:07,https://api.github.com/repos/openstack/devstack/git/commits/56946cfc5f88d8df3b4b9a1a2530ce2cc9a68cde,56946cfc5f88d8df3b4b9a1a2530ce2cc9a68cde,"Replace deprecated brctl with ip commands

The bridge-utils package has been deprecated for some time now [1] and
'brctl' does not exist on some more recent distros like Fedora 28.
Replace references to brctl with the proper ip commands.

Calls to ""brctl show"" are not being replaced with calls to ""bridge link""
because the output format is very different and in testing some bridges
were not listed.  So the simpler method of consulting /sys/class/net is
used.

In worlddump.py we try running both because failures are handled
gracefully by _dump_cmd(), as well as ""ip link show type bridge"" for
additional info.

[1] https://lwn.net/Articles/703776/ for example

Change-Id: Ie4c8ad6ce4a09c38023c9e4ec7834c249403145f
Partial-Bug: #1801919"
mriedem,2019-02-28 22:30:47,https://api.github.com/repos/openstack/devstack/git/commits/36773b262e79c1eb66432cc19862f2097d94ec65,36773b262e79c1eb66432cc19862f2097d94ec65,"Document the wonders of scale testing nova with the fake driver

Devstack has some little known variables for running nova
with the fake compute driver and running several nova-compute
services on a single host, which can be useful for testing
move operations and scale testing of controller services like
nova-api and nova-scheduler.

This adds documentation about the fake virt driver and related
variables and scaling considerations when using them.

Change-Id: Ic89d463d0f3f180b323edd6e2c8ff0404638ef07"
SeanMooney,2019-02-28 11:20:36,https://api.github.com/repos/openstack/devstack/git/commits/c759706686abb421879148410adced34e44333f2,c759706686abb421879148410adced34e44333f2,"support python 3 on centos 7

when installing with python 3.6 on centos7 pip installs
packages to /usr/local/bin as it does on new versions
of fedora.

this change updates the check to include centos

Change-Id: I7d16194d6ba1391ca31251d5b50cbb8de033fc38"
stephenfin,2018-05-11 10:42:17,https://api.github.com/repos/openstack/devstack/git/commits/8c5486993dec738a3e83746af2d62bdba648c999,8c5486993dec738a3e83746af2d62bdba648c999,"Bump noVNC to 1.0.0

This introduces a breaking change in the URLs used to access the console
[1]. This is updated in both the documentation and linked nova change.

[1] https://github.com/novnc/noVNC/commit/83391ffc

Change-Id: I14a0be0034f4a76ab37eb90325967500c3bf1ff9
Depends-On: I9a50a111ff4911f4364a1b24d646095c72af3d2c
Related-bug: #1682020"
lbragstad,2018-12-12 19:41:36,https://api.github.com/repos/openstack/devstack/git/commits/30d48ff88782347e5deb31369aa228f7345cfc6f,30d48ff88782347e5deb31369aa228f7345cfc6f,"Remove admin_domain_scope tempest setting

Keystone is currently working through a bunch of changes to add proper
system, domain, and project scope support for its API. This includes
implementing ``admin``, ``member``, and ``reader`` roles for system,
domain, and project assignments. More informaiton on those specific
changes can be found here:

  https://review.openstack.org/#/q/(status:open+OR+status:closed)+project:openstack/keystone+branch:master+topic:implement-default-roles

One thing that was uncovered in implementing that support for the
project API was that setting tempest
``CONF.identity.admin_domain_scope = True`` meant domain admins of one
domain would be able to list projects in other domains, highlighted in
the following patch:

  https://review.openstack.org/#/c/624218/2

This commit doesn't set this option and assumes the proper
domain-scoping behavior being built into keystone natively.

Change-Id: I12a57cc43de0b17eababa19b7b94de5277689f82
Related-Bug: 1750660"
hongbin,2018-11-20 19:22:01,https://api.github.com/repos/openstack/devstack/git/commits/55f172961a2b5422baa6ce3d9e46989c7902bbd1,55f172961a2b5422baa6ce3d9e46989c7902bbd1,"Revert ""Revert ""remove external_network_bridge option""""

This reverts commit e3e9ea299601665a295e31a98e90dd9587165850.

Change-Id: I23e1b98bd2839b79226b55700ee404a8fda83f83"
ghanshyammann,2019-02-27 11:10:05,https://api.github.com/repos/openstack/devstack/git/commits/0d83e09464551a8eb4ee5c66dc82de7053b14d70,0d83e09464551a8eb4ee5c66dc82de7053b14d70,"Use master upper-constraints when installing tempest plugins

when tempst venv is build, it use the master upper_contraint[1]
but when we install tempest plugin, it use branch upper_contraint.

This leads to mismatch the dependency version between tempest and required
tempest plugins setup.

Current flow after this change is:

1. install tempest form master (until you explicitly change TEMPEST_BRANCH
   which is default to master in all stable branch). It applies the upper_constraint
   from the stable branch but that will be overridden in step2
2. configure tempest, here the created venv will install all dependency with
   master's upper_constraint.
3. install tempest plugins in same venv created above. Now tempest plugin
   will also use the master upper_constraint.

With this tempest venv which has all enabled plugin will be contsraint with
master.

[1] https://github.com/openstack-dev/devstack/blob/72f632222f6d90d3545b5d7ca48297da4218e2ea/lib/tempest#L590

Change-Id: I89314e8391e8f26c622fc090cbe27997b3cf049a
Closes-Bug: #1816022"
slawqo,2019-02-25 09:46:52,https://api.github.com/repos/openstack/devstack/git/commits/cf7fc9c757a53113405e8f52af1020e5d21b04fe,cf7fc9c757a53113405e8f52af1020e5d21b04fe,"Add 3 nodes nodeset based on Ubuntu bionic

It is needed for example in neutron-tempest-dvr-ha-multinode-full
job.

Change-Id: I1b9dbb256e338d7018adb8b2ee97999ebd8eda44
Related-Bug: #1804844"
tosky,2019-02-21 09:36:18,https://api.github.com/repos/openstack/devstack/git/commits/29771c1c1e09e6bf2cad0f67cf4c176735f5ac0a,29771c1c1e09e6bf2cad0f67cf4c176735f5ac0a,"Remove the usage of read_password from library files

The read_password function is defined inside stack.sh
and it cannot be used inside the ""public library interface""
provided by DevStack.

Move the calls found inside library files to stack.sh,
following the same pattern of the other calls to read_password.

Change-Id: I8adc6723b677dfac2bef735f660e056c498bf773"
ianw,2018-04-20 05:22:47,https://api.github.com/repos/openstack/devstack/git/commits/543aed422fd89875113861e6a554da7980f8dd4f,543aed422fd89875113861e6a554da7980f8dd4f,"Don't install numpy packages

numpy is a python requirement of the websockify package (it appears
there was some disucssion over *removing* this in [1], but did not
happen).  Possibly these packages were installed a long time ago
before wheel support as it was taking a long time to build.  But we
have wheels today, and later versions than the distro provides are
being dragged in anyway.  Remove all distro installs.

[1] https://github.com/novnc/websockify/pull/163

Change-Id: I322dd9e1a07d8ce03c26cf3fcccebd6e21282fe4"
ianw,2018-04-20 00:42:07,https://api.github.com/repos/openstack/devstack/git/commits/f0dc93dcb4bc69442733056e88de9aff0f890664,f0dc93dcb4bc69442733056e88de9aff0f890664,"Workaround pip10 uninstall of packages

As noted in comments, this is a hack to get pip10 to overwrite some
package installed libraries.

Change-Id: Iea24a3ea915e13f7e0882144028ec5ff5bfdfae1"
ianw,2019-02-19 03:06:18,https://api.github.com/repos/openstack/devstack/git/commits/72f632222f6d90d3545b5d7ca48297da4218e2ea,72f632222f6d90d3545b5d7ca48297da4218e2ea,"Update cirros256 flavor to have some disk

It seems nova has changed defaults on who can create zero-sized disk
instances [1] and now some devstack jobs, like nodepool's, can't
create cirros images using this flavor.  It seems the easiest thing to
do is just to bump it up.

[1] https://review.openstack.org/#/c/603910/

Change-Id: I1172d4775d608568ccbeb27e2975d83add892ea9"
nguyentrihai93,2019-02-13 06:04:02,https://api.github.com/repos/openstack/devstack/git/commits/e729976c82791c513feedd51c9c2c45d79b09f61,e729976c82791c513feedd51c9c2c45d79b09f61,"Add placement as default project in index webpage

Change-Id: I101ade5368fbdf108906e89e1c3ba03a46cd6f35"
afazekas,2019-02-08 19:49:16,https://api.github.com/repos/openstack/devstack/git/commits/bfd2a54c13b8f3235991e534d5aa822be2aeaf19,bfd2a54c13b8f3235991e534d5aa822be2aeaf19,"Stop creating the cinderv1 endpoint

The cinder v1 api is disabled by default,
the catalog entry is confusing.

Change-Id: Ifea283d8aff9f7a70b68d601c5225c3d4fe250e6"
ostackbrian,2019-02-07 21:46:49,https://api.github.com/repos/openstack/devstack/git/commits/b43810a36635f1d0fe9291b157506fcf20272adf,b43810a36635f1d0fe9291b157506fcf20272adf,"Glance should not reference Cinder v1

Cinder v1 was removed over a year ago.  Change the cinder template
URLs devstack defines in the glance-api.conf to use cinder v3
instead.

Change-Id: I4a68dc0b53631be0708e7411c37619dd6dfd4fa6"
mriedem,2019-01-31 01:50:47,https://api.github.com/repos/openstack/devstack/git/commits/4a3cc1ce341eca821ddf004ca484bd827d060507,4a3cc1ce341eca821ddf004ca484bd827d060507,"Remove hard-coded VOLUME_BACKING_FILE_SIZE from multinode docs

The default for VOLUME_BACKING_FILE_SIZE changes over time
and the docs referencing it are clearly not keeping pace so
rather than hard-code a default in the docs just remove it
since the doc already mentions the variable used to set that
size.

Change-Id: I4242584d13250872250689863d1b70c68594eefe"
mriedem,2019-02-05 16:21:39,https://api.github.com/repos/openstack/devstack/git/commits/1516e720ce1d6eb6eca38feb1ca18dc7fc8c105c,1516e720ce1d6eb6eca38feb1ca18dc7fc8c105c,"Set ETCD_USE_RAMDISK=True by default

Cinder and etcd are enabled by default and by default
cinder uses etcd as a distributed lock manager with
tooz as an intermediary. We see a lot of ToozConnectionErrors [1]
in the cinder logs when etcd is backed up [2] which results in
cinder operations timing out causing test failures, like
when a volume is not deleted within a given time.

This changes ETCD_USE_RAMDISK=True by default to try and
alleviate some of the pressure. An alternative is if we know
we're in a single-node job we could just not use a DLM for
Cinder.

[1] http://status.openstack.org/elastic-recheck/#1810526
[2] etcd[26824]: sync duration of 12.076762123s, expected less than 1s

Change-Id: I5f82aa40e9d84114e7b7b5cf19ec4942d6552490
Partial-Bug: #1810526"
mriedem,2019-01-31 01:48:18,https://api.github.com/repos/openstack/devstack/git/commits/ec8285271e0c0b7c97fb6cd8816eca8ad844c5bd,ec8285271e0c0b7c97fb6cd8816eca8ad844c5bd,"Change ""Options pimp your stack"" heading in multinode docs

Uses a less offensive and arguably better understood section
header in the multinode docs.

Change-Id: Ie6fd58e9abd5c1ce88d88ac55419807790f61851
Closes-Bug: #1810317"
aspiers,2019-01-23 18:55:16,https://api.github.com/repos/openstack/devstack/git/commits/b6f04ca5c9c09db2d567ecbf7fad757158fd0aba,b6f04ca5c9c09db2d567ecbf7fad757158fd0aba,"Fix distro detection for SUSE Linux Enterprise

On SUSE Linux Enterprise distributions, lsb_release -i typically
returns ""SUSE"" not ""SUSE LINUX"" as the vendor string.

To avoid duplication of the same regular expressions in multiple
places, add is_opensuse() and is_sle() helper functions, and modify
is_suse to invoke those.

This may also be helpful in the future for distinguishing some corner
cases where things are handled differently between openSUSE and SLE.

Change-Id: I43bf163bc963758ddbb6289928837f5f6512f265"
SeanMooney,2019-01-29 18:17:30,https://api.github.com/repos/openstack/devstack/git/commits/ee4b6a0128bad7ae64e9ae7a9c79470585e93dc6,ee4b6a0128bad7ae64e9ae7a9c79470585e93dc6,"set owner and group to no for fetch-devstack-log-dir

As the user on the node under test may not exist on
the zuul executor node we do not copy the log owner
or group to avoid the rsync task failing when it
tries to chown the files.

Change-Id: I500cf3692a4d27b0c2a0a4f5586580d180a8778e"
ostackbrian,2018-12-17 15:38:42,https://api.github.com/repos/openstack/devstack/git/commits/96269d8e758e168fb857fca6e96cbd9a50628ac0,96269d8e758e168fb857fca6e96cbd9a50628ac0,"Change config-file to config-dir for g-api start

The glance-api service may use multiple config files, so
tell oslo.config about the config dir instead of a specific
config file when the service is started.

Change-Id: Iad3602d209cbb31e10683c67e1fd6b465d19f560
Partial-bug: #1805765"
aspiers,2019-01-25 00:29:42,https://api.github.com/repos/openstack/devstack/git/commits/bbb6b0c2409278a4c9266c39bd1f5d91f7066bb8,bbb6b0c2409278a4c9266c39bd1f5d91f7066bb8,"Fix version comparison for SUSE Linux Enterprise 12

The version comparison introduced in
I5152f2585c3d4d18853988d6290039d6b1713b99 was broken, because it tried
to use bash's -lt operator for floating point comparison, but bash
only supports integer arithmetic.

So instead use devstack's vercmp() function.

Change-Id: I8aac71c5bb6c2e82479d62831ea0672ba6a9a534"
aspiers,2019-01-24 18:57:33,https://api.github.com/repos/openstack/devstack/git/commits/bc2a88d1f493f4f0784650e5ac959e8677495669,bc2a88d1f493f4f0784650e5ac959e8677495669,"On SUSE-based systems, check whether we have mariadb or mysql service

Older mariadb packages on SLES 12 provided mysql.service.  The newer
ones on SLES 12 and 15 use mariadb.service; they also provide a
mysql.service symlink for backwards-compatibility, but let's not rely
on that.

Change-Id: Ife6bd007ba30af0b77d44832b19d518034bdb12b"
aspiers,2019-01-23 19:31:53,https://api.github.com/repos/openstack/devstack/git/commits/d6bbeabb5c5c35eb9ada92656c9b65fbef8aff07,d6bbeabb5c5c35eb9ada92656c9b65fbef8aff07,"Fix installation of mkisofs on SUSE Linux Enterprise 12

It's provided by the cdrkit-cdrtools-compat package.

Change-Id: I4b57e03391d47bed777016ab1d735b8ba4aa5ceb"
johnsom,2019-01-24 18:49:35,https://api.github.com/repos/openstack/devstack/git/commits/8b9864d7bf2eaad3c42030cf8e7a2a0b764dc552,8b9864d7bf2eaad3c42030cf8e7a2a0b764dc552,"Update the devstack LBaaS guide for Octavia

The existing devstack guide for load balancing is out of date.
This patch updates the guide to reflect the current way to install
devstack with the Octavia plugin(s).

Change-Id: Id48b70b50e44ec7b965d969b2d93f77543d7364c"
dulek,2018-12-21 12:17:05,https://api.github.com/repos/openstack/devstack/git/commits/6757a9c5dec32f39b984ceaaa0eb9e903602769a,6757a9c5dec32f39b984ceaaa0eb9e903602769a,"Add option to place etcd data dir on RAM disk

Seems like for etcd-heavy services like Kubernetes, the fsync
performance of gate VM's are too low [1]. This commit implements an
option to put etcd data directory on RAM disk (tmpfs) to work this
around.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-January/001849.html

Change-Id: I5a17099cb9d6941b1a009dc82daefd2c7946d892"
tosky,2019-01-22 15:23:42,https://api.github.com/repos/openstack/devstack/git/commits/29ab9b8e3065488842a2477a8a8c48020d955094,29ab9b8e3065488842a2477a8a8c48020d955094,"Always start iscsid for nova-compute

Recently iscsid was disabled by default on Ubuntu 18.04 (bionic),
and it may be on Xenial too, see:

https://bugs.launchpad.net/ubuntu/+source/open-iscsi/+bug/1755858

On a local Bionic deployment with Python 3, the lack of iscsid makes
nova-compute fail with an exception when trying to attach a volume:

Invalid input received: Connector doesn't have required information: initiator

Asking for the service to be started even if it is already running should not
hurt, so remove the check for the distribution.

This does not seem to be an issue on CentOS 7 (but Python 2) where
the socket activation of iscsid seems to work, so maybe there is
another way to make this working. Also, the service could be
enabled, not just started.

Change-Id: Ifa995dcf8eb930e959f54e96af6f5fce3eac28ae"
mriedem,2019-01-18 15:42:13,https://api.github.com/repos/openstack/devstack/git/commits/82537871376afe98a286e1ba424cf192ae60869a,82537871376afe98a286e1ba424cf192ae60869a,"Restrict database access to nova-compute in singleconductor mode

Change I4820abe57a023050dd8d067c77e26028801ff288 removed access
to the database for the nova-compute process but only in
superconductor mode. Grenade runs in singleconductor mode though
so we are getting tracebacks in nova-compute logs during grenade
runs because nova-compute is running with nova.conf which is
configured with access to the nova API database.

This change handles removing database access for nova-compute
generically to cover both the singleconductor and superconductor
cases.

Change-Id: I81301eeecc7669a169deeb1e2c5d298a595aab94
Closes-Bug: #1812398"
ianw,2019-01-15 07:31:05,https://api.github.com/repos/openstack/devstack/git/commits/fa9aadfdd8c5f67a47f5a4abafbae0671283affa,fa9aadfdd8c5f67a47f5a4abafbae0671283affa,"Install from bindep.txt in plugins

This allows plugins to specify their binary dependencies in bindep
format.

Some thinking on the implementation: this is in contrast to the
files/[deb|rpm] installation, which is called from the external
install_prereqs.sh script.  This script being an externally callable
entry-point is really an artifact of the days when we would build
snapshot images for CI and wanted to pre-cache downloads.  These days
we use the mirror system to keep packages close to CI nodes.  Thus
rather than expand install_prereqs.sh to also be installing
virtualenvs and python dependencies, this seems to fit better as a
separate internal phase of stack.sh.

Documentation is updated

Change-Id: Icbdfbf97c17c906a7ae86f43e80eb2c445816228"
cdent,2019-01-14 17:16:01,https://api.github.com/repos/openstack/devstack/git/commits/16a10d7435be54c97982b93bbc07686ebeb536ac,16a10d7435be54c97982b93bbc07686ebeb536ac,"Configure nova's use of placement more correctly

This change addresses a few inconsistencies in how nova processes
are configured to speak to the placement service.

The initial inspiration was that region_name was not being set in the
[placement] section, despite $REGION_NAME being used when setting
the endpoint in the catalog. That's fixed.

While fixing that two other issues became clear:

* Configuring nova process to use placement should happen in lib/nova
  not lib/placement so the function has been moved.
* auth_strategy is not relevant in the [placement] section of a
  nova process

The name of the function is maintained, in case there are plugins which
call it, but a comment is added to indicate that other services besides
nova compute (such as the cell conductor) may use the function.

Change-Id: I4a46b6460596e9a445bd90de2d52dbb71fb963df"
ianw,2018-12-13 03:05:53,https://api.github.com/repos/openstack/devstack/git/commits/58243f6203f3385039fe7124b037d5abf7e1d59e,58243f6203f3385039fe7124b037d5abf7e1d59e,"Add options for development bindep install

This adds a -bindep option to the key development library install
functions.  With this option the bindep.txt file will be referenced
and the relevant packages installed.

Change-Id: I856f1f59fca49b6020920d8f859b797f3b904300"
wangyi4,2018-12-14 02:35:26,https://api.github.com/repos/openstack/devstack/git/commits/698796f1aeb0d9a559488bad9f1d03e4941b061e,698796f1aeb0d9a559488bad9f1d03e4941b061e,"Fix an issue in iniset function

Given the file to be configured, if user ""stack"" even doesn't have
read access, the result of configuration is not expected. iniset with
""-sudo"" option will always create the section and the option which we
want to configure for each calling, no matter whether this section and
this option exist in the file or not. The root cause is the calling of
grep and ini_has_option in iniset don't use the ""sudo"" option.

Change-Id: I9d21322046b7be411c4c7c28fefc24894fa2e131
Signed-off-by: Yi Wang <yi.c.wang@intel.com>"
iurygregory,2019-01-09 14:55:47,https://api.github.com/repos/openstack/devstack/git/commits/bab27cbff1431ebd9f72e595e86b5a1e902092f0,bab27cbff1431ebd9f72e595e86b5a1e902092f0,"Rename ironic job name to match zuulv3

Depends-On: https://review.openstack.org/#/c/629173/
Change-Id: Ifa8d075729c6347ecda41c79e4de09c71483b4c6"
dhellmann,2018-12-04 16:33:03,https://api.github.com/repos/openstack/devstack/git/commits/36377f63e348200cd091b702c74350062a69fff9,36377f63e348200cd091b702c74350062a69fff9,"install under python3 by default when enabled

Remove the requirement that services explicitly enable python3 support
in order to be tested under python3 when running with python3
enabled. Keep the enable_python3_package() function for backwards
compatibility, for now, since it is called in some devstack plugins.

Explicitly add swift to the set of packages that should not be installed
using python3 by default until full support is available.

Change-Id: I8ab0a7c242bbf5bf3f091f5a85a98e2f4543f856
Signed-off-by: Doug Hellmann <doug@doughellmann.com>"
jharbott,2018-12-19 12:20:51,https://api.github.com/repos/openstack/devstack/git/commits/0b855007f8d44662ad4fd52bda7df85f94b241c2,0b855007f8d44662ad4fd52bda7df85f94b241c2,"Allow plugin names to contain non-letter characters

There are already devstack plugins that contain a hyphen in the name,
like `networking-baremetal`. In order to allow ordering for these to
work properly, amend the regexes we are using to match any
non-whitespace characters instead of only alphanumerics.

Amend the test to cover this use case.

Change-Id: I91093a424f8d5e8007f140083e1ea36a81fe849f
Closes-Bug: 1809016"
jharbott,2018-12-19 11:53:16,https://api.github.com/repos/openstack/devstack/git/commits/6d103a7ff845076da984afbd317cd8cf4504fb7a,6d103a7ff845076da984afbd317cd8cf4504fb7a,"Fix testing for the write-devstack-local-conf role

The test_plugin_deps function in the test code for the
write-devstack-local-conf role was missing the import part of actually
executing the code under test and asserting the expected result.

Change-Id: I125870b13d2581cdec0dede11157b19b702565cd"
emonty,2019-01-08 15:29:16,https://api.github.com/repos/openstack/devstack/git/commits/5690582073756bdc156550b90a8e284a8d4e0e5f,5690582073756bdc156550b90a8e284a8d4e0e5f,"Add devstack-system-admin for system scoped actions

Keystone is moving more things to require a system scoped token to
work. Getting one of those requires that domain and project information
are not set.

Change-Id: I2e1640e9f9ef6cdf56bef49d1ae8f0591570c3e6"
lyarwood,2018-12-07 18:52:16,https://api.github.com/repos/openstack/devstack/git/commits/77866259e4204eb08afd55e8a29994ad49c58e0b,77866259e4204eb08afd55e8a29994ad49c58e0b,"Update supported Fedora releases

Fedora 27 has now hit EOL [1] while Fedora 29 has been released [2].

[1] https://fedoramagazine.org/fedora-27-end-of-life/
[2] https://fedoramagazine.org/announcing-fedora-29/

Change-Id: I12e287e36f01581f1c7145545ab05be527ed15c6"
lyarwood,2018-12-03 14:21:06,https://api.github.com/repos/openstack/devstack/git/commits/5d7d891380f569deaf403aae46a9354eb0243999,5d7d891380f569deaf403aae46a9354eb0243999,"Drop the deprecated and now removed barrier XFS mount options

Both barrier and nobarrier were deprecated with the 4.10 kernel [1] and
then removed [2] with the 4.19 kernel as now used by Fedora >= 28. Both
should be safe to drop at this point.

[1] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=4cf4573
[2] https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=1c02d50

Change-Id: I6871a7765e3e04122d8d546f43d36bb8415383fc"
lbragstad,2019-01-04 15:21:43,https://api.github.com/repos/openstack/devstack/git/commits/8e802da4069349a2f6ccdef348999304669a6cbe,8e802da4069349a2f6ccdef348999304669a6cbe,"Cleanup LDAP integration guide

This commit fixes a grammar issue in the LDAP integration guide
and it adds prompts to the command-line examples to be more
explicit about where or how commands are being run.

Change-Id: Ic6a5adfbcf2841656929e6c3875889a31d314089"
dulek,2018-12-20 17:55:29,https://api.github.com/repos/openstack/devstack/git/commits/119ee66cded7d6e1ed04419a00e59c269eea1c54,119ee66cded7d6e1ed04419a00e59c269eea1c54,"Log debug on etcd if $ENABLE_DEBUG_LOG_LEVEL is on

Change-Id: I452a2e4882377d165e3c28fcec18e237e45db8a4"
npraveen35,2018-12-20 12:55:36,https://api.github.com/repos/openstack/devstack/git/commits/6a7e3ec6479097f4918eb66d25b52cfa46953dec,6a7e3ec6479097f4918eb66d25b52cfa46953dec,"typo fixed

Change-Id: Id777576d8876d7ba257f0243f3b4ce5756dd9b58"
jharbott,2017-11-21 11:55:57,https://api.github.com/repos/openstack/devstack/git/commits/15b6ac98cb932488bce77b267f0f27903f0d47d0,15b6ac98cb932488bce77b267f0f27903f0d47d0,"Update default cirros version

Cirros has a new release 0.4.0, which fixes a couple of issues.

Change-Id: I419348f1784600e3989c8e86a99c04b24f3610c4"
ianw,2018-12-19 03:16:41,https://api.github.com/repos/openstack/devstack/git/commits/7bb5fff85c0f7b4131bc669abe99c04391682a91,7bb5fff85c0f7b4131bc669abe99c04391682a91,"setup-devstack-source-dirs: also copy github libraries

This will help us use standard mechanisms to install libraries that
Zuul has cloned from github

Change-Id: I8ecfeeba9133ce175fb72fc59be696879013d927"
ghanshyammann,2018-12-19 04:23:30,https://api.github.com/repos/openstack/devstack/git/commits/dc33485ff28989db389b57a7d1a9bce97259ad12,dc33485ff28989db389b57a7d1a9bce97259ad12,"Use renamed template 'integrated-gate-py3'

'integrated-gate-py35' template is going to be
renamed to 'integrated-gate-py3' in https://review.openstack.org/#/c/626078/

Integrated jobs are running on Bionic now where python 3.6 is available.
Which means gate jobs in 'integrated-gate-py35' template are
running on python 3.6 not on 3.5 which makes this template name confusing.

depends on commit rename the 'integrated-gate-py35' to 'integrated-gate-py3'
so that it can convey that template will use available python 3 version
in used distro. For example: 3.5 in xenial and 3.6 in bionic and so on.

This commit starts using the new template name so that old
template name can be removed.

Depends-On: https://review.openstack.org/#/c/626078/
Change-Id: I07048817eb826337dd5bd89a97711bb9d43495cf"
elfosardo,2018-12-18 10:19:59,https://api.github.com/repos/openstack/devstack/git/commits/b3ee6f46153c46e46493f187b3b246e2229ce208,b3ee6f46153c46e46493f187b3b246e2229ce208,"Correcting typo in plugins section

Fixing the example of the plugin's name as the last component
of the git repo path should be foo.

Change-Id: I2f12d4d26993ec192517de7f5541c4219ee59ed9"
pshchelo,2018-12-18 09:01:36,https://api.github.com/repos/openstack/devstack/git/commits/16fe9646486d0b621c7fb2c15ffec0c004508f73,16fe9646486d0b621c7fb2c15ffec0c004508f73,"Ignore local.conf in root of repo

gitignore is not parsing regex, only shell globs,
so '^' has no meaning, and local.conf is being thus tracked.

This patch properly ignores only local.conf in root of repo but still
tracks samples/local.conf and others.

Change-Id: I93ef778f1f3ee8101ce21cce377f7b527b7153f3"
kk7ds,2018-12-14 14:39:59,https://api.github.com/repos/openstack/devstack/git/commits/93a94f503b058a1452cc8b1eef389cbec5975863,93a94f503b058a1452cc8b1eef389cbec5975863,"Enable direct-io on LVM loop devices

This enables direct-io on the loop devices that we create for LVM backing
stores. The goal here is to reduce the buffer cache overhead involved with
loop mounting a very large file on a filesystem, as well as potentially
providing a little more block-device-like behavior for things that expect
them. We are hoping this will address some of the very long LVM calls that
cinder does, which randomly take a very long time, causing timeouts.

The loop direct-io support was added in kernel 4.4.0, which was xenial,
but the losetup binary does not have the required flag. Thus, this patch
checks the ""losetup -h"" output for the flag before deciding to enable it.

Change-Id: Idc69cf3598d6ed6646c0145733c90ad0b1b60883"
amotoki,2018-12-14 08:29:27,https://api.github.com/repos/openstack/devstack/git/commits/e0b375c8ce77ca256d108b2c558d57e17efab4f7,e0b375c8ce77ca256d108b2c558d57e17efab4f7,"Use volume v3 API in clouds.yaml by default

Volume API v2 has been deprecated for a long time.
There is no reason to use volume v2 in clouds.yaml by default.

This commit also drops ""--os-identity-api-version 3"" from
write_clouds_yaml in functions -common as ""3"" is the default value
of tools/update_clouds_yaml.py. They are hardcoded in DevStack
so there is no reason to pass it.

Change-Id: Ie84026a3d19f7711fc781b7012355096c7ff6b5a"
mriedem,2018-12-13 13:22:12,https://api.github.com/repos/openstack/devstack/git/commits/584979ce2eeb0c2e590a996657e601bfd5543eee,584979ce2eeb0c2e590a996657e601bfd5543eee,"docs: cleanup install docs

This does a few things to the home page and all-in-one single
machine install guide:

* Uses code blocks for formatting
* Adds the customary ""$"" to the console blocks in the
  all-in-one single machine install guide
* Instructs to use ""sudo su stack"" and adds a note about
  ""sudo visudo"" in the all-in-one single machine doc
* Creates a symbolic link to the sample local.conf and links to
  it from the install guide (note that local.conf might be old
  by now)
* Fixes the .gitignore file to only ignore local.conf in the root
  of the repository, otherwise it would ignore local.conf everywhere
  including the samples and doc/source/assets directories.

Change-Id: I50ae7bd32c4c1caa2ac8551fc54b31dd2dfae568"
jharbott,2017-11-21 11:55:57,https://api.github.com/repos/openstack/devstack/git/commits/0ce6ae813707678541697b2ffe24056f0f8e26b7,0ce6ae813707678541697b2ffe24056f0f8e26b7,"Update cirros version

This is the next release in the 0.3.x stable series, containing a fix
for getting out of disk errors when cirros reads metadata from a
config-drive[0].

[0] https://bugs.launchpad.net/cirros/+bug/1808119

Change-Id: Id2f20ebafdd78c2dadf81b8f80f22e7bd6db7755"
cboylan,2018-12-07 22:49:15,https://api.github.com/repos/openstack/devstack/git/commits/e344c97c0eb93e1d96ca8ebe250bb08d227ef5ac,e344c97c0eb93e1d96ca8ebe250bb08d227ef5ac,"Set apache proxy-initial-not-pooled env var

We've run into what appears to be a race with apache trying to reuse a
pooled connection to a backend when that pool connection is closing.
This leads to errors like:

  [Fri Dec 07 21:44:10.752362 2018] [proxy_http:error] [pid 19073:tid 139654393218816] (20014)Internal error (specific information not available): [client 104.130.127.213:45408] AH01102: error reading status line from remote server 127.0.0.1:60999
  [Fri Dec 07 21:44:10.752405 2018] [proxy:error] [pid 19073:tid 139654393218816] [client 104.130.127.213:45408] AH00898: Error reading from remote server returned by /image/v2/images/ec31a4fd-e22b-4e97-8c6c-1ef330823fc1/file

According to the internets this can be addressed (at the cost of some
performance) by setting the proxy-initial-not-pooled env var for mod
proxy. From the mod_proxy docs:

  If this variable is set, no pooled connection will be reused if the client
  request is the initial request on the frontend connection. This avoids the
  ""proxy: error reading status line from remote server"" error message caused
  by the race condition that the backend server closed the pooled connection
  after the connection check by the proxy and before data sent by the proxy
  reached the backend. It has to be kept in mind that setting this variable
  downgrades performance, especially with HTTP/1.0 clients.

Closes-Bug: #1807518

Change-Id: I374deddefaa033de858b7bc15f893bf731ad7ff2"
mriedem,2018-12-07 15:26:18,https://api.github.com/repos/openstack/devstack/git/commits/5a9e32afeb723dac3f0111b96cea7da77cdc722e,5a9e32afeb723dac3f0111b96cea7da77cdc722e,"Update comment about nova-cells-v1 job

Nova is moving nova-cells-v1 to its experimental
queue set of jobs so the comment in devstack should
be updated.

Depends-On: https://review.openstack.org/623538

Change-Id: Iefbaa9b809d1426640cbd47a42213f28c9ec5ff3
Related-Bug: #1807407"
ghanshyammann,2018-12-06 10:23:51,https://api.github.com/repos/openstack/devstack/git/commits/14a22dff3429b9bf237dcd6d92572f2e53b76d9a,14a22dff3429b9bf237dcd6d92572f2e53b76d9a,"Fix README for rolevar name 'devstack_sources_branch'

This commit fixes the name of role in README file
- https://review.openstack.org/#/c/549517

Change-Id: I0b7ada56339e5e3ff461c2b62e27f226720bb52f"
cgoncalves,2018-12-04 20:59:55,https://api.github.com/repos/openstack/devstack/git/commits/d2a927264aa71e3103a9b265f1e0d9911fd4653e,d2a927264aa71e3103a9b265f1e0d9911fd4653e,"Enable the SCL repository for CentOS

Enable the Software Collections (SCL) repository for CentOS. This
repository includes useful software (e.g. the Go Toolset) which is not
present in the main repository.

For example, Octavia uses a Go based testing tool and its CentOS-based
jobs got broken now with the update to CentOS 7.6 which no longer
provides golang.

Change-Id: Ic68a6d6cd7da41510e624b6bea7976d9a960af98"
QingsZhao,2018-12-04 13:03:28,https://api.github.com/repos/openstack/devstack/git/commits/d1fe5ad507c6dcb6955d66fab0b6bc9fb59a80f2,d1fe5ad507c6dcb6955d66fab0b6bc9fb59a80f2,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: Id639a45680b149ca1ffe8e91fcdea713576b355d"
jharbott,2018-11-30 13:57:17,https://api.github.com/repos/openstack/devstack/git/commits/3492feeedda7accb58a179c64932d4b6d154473a,3492feeedda7accb58a179c64932d4b6d154473a,"Use trueorfalse for NEUTRON_DEPLOY_MOD_WSGI

Current code assumes the variable is being set to either ""True"" or
""False"", which will lead to weird errors if it is being set to something
like ""true"" instead.

Change-Id: I88983c9150efad882cd867c2d14d86ba6b2522c9"
jharbott,2018-10-16 13:57:23,https://api.github.com/repos/openstack/devstack/git/commits/4727aaa742e142427cc5138fe09b3c69c559b5e5,4727aaa742e142427cc5138fe09b3c69c559b5e5,"Switch devstack jobs to run on Bionic

Switch the nodesets that devstack job run on from Xenial to Bionic,
i.e. the latest Ubuntu LTS release. Keep variants running on Xenial
in order to make sure that we stay backwards compatible while we keep
running Xenial jobs on the older stable branches.

Change-Id: I8749ed24d5f451d29f767ebb2761abd743b7d306"
jharbott,2018-10-16 13:57:23,https://api.github.com/repos/openstack/devstack/git/commits/a6017b6eec743981fdbc9b50bf6b6752d1c86c0d,a6017b6eec743981fdbc9b50bf6b6752d1c86c0d,"Add openstack-single-node-xenial nodeset

Allow other jobs to explicitly require a node running Xenial. This seems
clearer than having a generic openstack-single-node nodeset which
implicitly uses Xenial.

Change-Id: I013fb8abd4e6ab6539bd9410acbc8446e57ec70c"
cdent,2018-11-20 22:18:26,https://api.github.com/repos/openstack/devstack/git/commits/3027c20545688a39c1db84a83e0e8252d238603c,3027c20545688a39c1db84a83e0e8252d238603c,"Address nits on lib/placement for extracted placement

Earlier review [1] suggested some cleanups which have been
done here:

* Removing a redundant call from cleanup_placement
* Fixing a typo in a comment

[1] https://review.openstack.org/#/c/600162/15/lib/placement

Change-Id: I8abd2f02b123c6c1937c026ff13eb4e600de3202"
cdent,2018-10-05 09:17:56,https://api.github.com/repos/openstack/devstack/git/commits/78a564bb0304b6f930e1491e7e116a0a0f6d9ab6,78a564bb0304b6f930e1491e7e116a0a0f6d9ab6,"Use openstack/placement instead of placement-in-nova

We introduce and set PLACEMENT_REPO, add a placement-manage command
to sync database tables (see one of the commits on which this
depends), use /etc/placement/placement.conf for config, and put the
uwsgi config file (pointing to placement-api instead of
nova-placement-api) in /etc/placement.

openstack/placement is also added to the required-projects in
the devstack zuul job.

Change-Id: I0b217e7a8c68a637b7a3445f6c44b7574117e320"
mriedem,2018-11-21 17:10:32,https://api.github.com/repos/openstack/devstack/git/commits/23d33a8b5bc945bd98c8fffe86b38f97247afbd9,23d33a8b5bc945bd98c8fffe86b38f97247afbd9,"Set non-0 disk sizes for tempest flavors

Nova change https://review.openstack.org/603910/ is
going to change the default rule on policy
os_compute_api:servers:create:zero_disk_flavor to
admin-only, which will prevent non-admins from
creating image-backed servers with a flavor that
has disk=0 since it's a potential security exposure.

Therefore we need the test flavors that are created
for tempest to use non-0 disk values. Since the flavor_ref
and flavor_ref_alt can be aligned to the image_ref and
image_ref_alt in tempest.conf, we get the image sizes
from glance (in bytes) and convert those to GiB disk
sizes for each flavor, respectively. Since we're using
Cirros images by default, we need to make sure to round
up otherwise we'd still have a 0-disk flavor.

There are lots of ways the math could be done here
using numfmt, bash, awk, bc, etc, but it's simplest to
write and probably easiest to read by using python for
the size conversion code.

Change-Id: I537c299b0cd400982189f35b31df74755422737e
Related-Bug: #1739646"
ajaeger,2018-11-24 09:14:46,https://api.github.com/repos/openstack/devstack/git/commits/67394b02417802842021fdef95f68edbf723eb71,67394b02417802842021fdef95f68edbf723eb71,"Remove is_in_projects_txt

This function is nowhere used as confirmed by codesearch:
http://codesearch.openstack.org/?q=is_in_projects_txt&i=nope&files=&repos=

We can remove the function.

Note that usage of this function was removed in change
I843208e2e982eb04931b76f5cb4bd219fbcd70de in 2015.

This came up in context of https://review.openstack.org/619089 where
requirements/projects.txt is getting removed.

Change-Id: I487d3f9e340bd45e83245b9ca91e8e3b5ac3ae02"
amotoki,2018-11-22 20:18:40,https://api.github.com/repos/openstack/devstack/git/commits/80769c5714770c02c300ac9f3e9c06a44791dbfc,80769c5714770c02c300ac9f3e9c06a44791dbfc,"Migration logic for neutron policy-in-code

Neutron is in a process to migrate to policy-in-code.
DevStack needs to be able to handle both cases with and
without policy.json in the neutron repo.

Note that nova assumes neutron API access with admin
so user_name:neutron needs to be included in context_is_admin
to make DevStack work properly. Hopefully this can be cleanup
but this is a separate topic from policy-in-code.

Needed-By: https://review.openstack.org/#/c/585037/
Change-Id: Id1b0600d92e839ade1790a15c372e82e8e16ee9f"
jharbott,2018-11-22 13:17:01,https://api.github.com/repos/openstack/devstack/git/commits/8d1b20b4c2334dc3045cea93441568657869f6d1,8d1b20b4c2334dc3045cea93441568657869f6d1,"Enable universe repository on Ubuntu

The universe repository is not enabled when installing Ubuntu from an
ISO (at least for Bionic). This leads to some errors during the devstack
run that are not seen when running based on a cloud image which has that
repo enabled by default. Enable that repository unconditionally, the
operation is idempotent.

Change-Id: Ifcb7ecd78fb25ca2136f5848c19b74500e520873
Closes-Bug: 1792936"
derekhiggins,2018-11-09 15:43:13,https://api.github.com/repos/openstack/devstack/git/commits/e3e9ea299601665a295e31a98e90dd9587165850,e3e9ea299601665a295e31a98e90dd9587165850,"Revert ""remove external_network_bridge option""

This reverts commit faaf96bfb15c5f4c45a72b149dc6fe1e1f907a71.

Ironic jobs were still using this option, it needs to be
switched to an alternative first.

Change-Id: I1683d7cfa81f5fe2497cc7045e87f8b20fed4968"
dulek,2018-10-19 10:08:12,https://api.github.com/repos/openstack/devstack/git/commits/994e82e57f78a4c302d620e44bcdda36c4c0d5f0,994e82e57f78a4c302d620e44bcdda36c4c0d5f0,"Update ETCD_DOWNLOAD_URL

Looks like https://github.com/coreos/etcd is redirecting to
https://github.com/etcd-io/etcd, so let's use that official address as
the download URL.

Change-Id: I39355b4deb17ae11927a5339e73fb8ec3a274cf7"
afazekas,2018-09-10 21:52:46,https://api.github.com/repos/openstack/devstack/git/commits/0d4c9c9fa37c6f47523359044e5f65629321ff6d,0d4c9c9fa37c6f47523359044e5f65629321ff6d,"Have lib/tempest to create shared network

In order to make sure not possible to introduce a change in tempest
which breaks the shared network compatibility.

Depends-On: I6e3e53c4ac26b4fef09fefb9c590dfa91f577565

Change-Id: Ib2e7096175c991acf35de04e840ac188752d3c17"
jharbott,2018-05-09 06:36:38,https://api.github.com/repos/openstack/devstack/git/commits/7ddd733b7251259ddd67b93be6305380582f7ce7,7ddd733b7251259ddd67b93be6305380582f7ce7,"Drop devstack-platform-opensuse-tumbleweed

Builds of opensuse-tumbleweed nodes are currently failing, so these jobs
are receiving NODE_FAILURE.

Change-Id: I3c2d73a150df009e7dadc76277be36eb72e0dfa7"
enriquetaso,2018-10-11 22:13:17,https://api.github.com/repos/openstack/devstack/git/commits/1c75d2f06c03b0ed0517b499674d36052bcc3793,1c75d2f06c03b0ed0517b499674d36052bcc3793,"Fedora version updated in Devstack doc

Docs say that you require Fedora 24/25 to run Devstack, but Devstack
is working in newer versions. Update document to say that Fedora 28
can be used instead.

Closes-Bug: #1797239

Change-Id: Ie5227db9943e5ddb93cd37440165eabbae22f4fc
Signed-off-by: Laura Sofia Enriquez <lsofia.enriquez@gmail.com>"
ajaeger,2018-10-12 08:09:17,https://api.github.com/repos/openstack/devstack/git/commits/2c90239acc840659d8ae08e66be01917a2395bac,2c90239acc840659d8ae08e66be01917a2395bac,"Use tempest-pg-full

The legacy job legacy-tempest-dsvm-neutron-pg-full is now named
tempest-pg-full - using the new tempest and Zuul v3 frameworks.

Change experimental job to use new job.

Change-Id: If16397724fb4facd2a0db8148bdf7ba427ca10b6
Depends-On: https://review.openstack.org/609530"
kk7ds,2018-10-11 15:59:26,https://api.github.com/repos/openstack/devstack/git/commits/7d0003ef7ed2c2609ffe6782e0ce6147f9c9a3bf,7d0003ef7ed2c2609ffe6782e0ce6147f9c9a3bf,"Make sure nova-compute is not configured with database access

Apparently we're inheriting some database config from the main file,
which should not be set for nova-compute. If we're properly in superconductor
mode where we have a dedicated config for compute, remove those lines
if present.

Closes-Bug: #1797413

Change-Id: I4820abe57a023050dd8d067c77e26028801ff288"
aojea,2018-10-08 14:43:19,https://api.github.com/repos/openstack/devstack/git/commits/0d91c29d9e363ac09d98d17bae90da1acd5ee66a,0d91c29d9e363ac09d98d17bae90da1acd5ee66a,"Add devstack ipv6 jobs

We can see that there is more demand on using ipv6 as the underlay
infrastructure to deploy new services, and OpenStack should be ready for
that.

These devstack ipv6 jobs are based on the work started by Jens Harbott in
https://review.openstack.org/#/c/608168/

Change-Id: I55bd067487665e5026e82a0737cb0f38a69499fb
Signed-off-by: aojeagarcia <aojeagarcia@suse.com>"
ghanshyammann,2018-10-09 07:39:07,https://api.github.com/repos/openstack/devstack/git/commits/35485ca21f13788958a636829e135ee639881a76,35485ca21f13788958a636829e135ee639881a76,"Remove setting of unnecessary tempest config options

Tempest have removed the volume-feature-enabled.api_v1
config options[1] and modified the default value of
volume-feature-enabled.api_v3 to True.

These config options not needed to be set from devstack
side.

[1] https://review.openstack.org/#/c/573135/

Change-Id: Ic35cf4482ab4d3c2e69348ec92568e68f6ea74ee"
dirkmueller,2018-06-20 09:08:54,https://api.github.com/repos/openstack/devstack/git/commits/297a50ac86e597cb31c7f4347925ad0e5984960f,297a50ac86e597cb31c7f4347925ad0e5984960f,"Convert to openSUSE Leap 15.0 platform testing

Leap 15.0 has been released May 25th, 2018 (see
https://en.opensuse.org/Portal:15.0 ) and we'd like to
transition devstack against it and remove Leap 42.3 from
the testing matrix. Leap 15.0 is newer than Leap 42.3 as
the numbering schema of openSUSE was changed.

Co-Authored-By: Antonio Ojea <itsuugo@gmail.com>

Change-Id: I078f9a2580160c564c33e575008516f5e92239d6"
aojea,2018-09-24 08:17:16,https://api.github.com/repos/openstack/devstack/git/commits/eb7d1ad198276821c3037cb6a23f995537572dcd,eb7d1ad198276821c3037cb6a23f995537572dcd,"Disable apparmor for openSUSE distros

Dnsmasq and haproxy are used frequently by neutron and nova, apparmor
profiles can block some operations and the deployed cloud can't
work properly so some tests are going to fail.

Some openSUSE distros has apparmor enabled by default so we need to
disable it.

Change-Id: I30fda684effb09810643e58bf0b31a73d7d9b378
Signed-off-by: aojeagarcia <aojeagarcia@suse.com>"
ianw,2018-10-08 04:20:34,https://api.github.com/repos/openstack/devstack/git/commits/e8a6a0261c8118e8f89b51f1e31015a236a0fba3,e8a6a0261c8118e8f89b51f1e31015a236a0fba3,"Quote error messages

As a follow-on to I28aebffce6c5561360a9e44c1abc44b709054c30; make sure
we quote the error messages on the way through so they retain their
newlines.

Change-Id: I493317948264941b4788b100a0b0bc13d2698acf"
aojea,2018-09-28 06:55:49,https://api.github.com/repos/openstack/devstack/git/commits/9a543a81acb808e4275765da7ff0f613109b6603,9a543a81acb808e4275765da7ff0f613109b6603,"Don't use ipv6 for DNS SAN fields with python3

Python2 match routines for x509 fields are broken and have to use
the DNS field for ip addresses.

The problem is that if you use ipv6 addresses in the DNS field,
urllib3 fails when trying to encode it.

Since python3 match routines for x509 fields are correct, this patch
disables the hack for python3, encoding the ip address in the
corresponding field only of the certificate.

Partial-Bug: #1794929
Depends-On: https://review.openstack.org/#/c/608468

Change-Id: I7b9cb15ccfa181648afb12be51ee48bed14f9156
Signed-off-by: aojeagarcia <aojeagarcia@suse.com>"
aojea,2018-09-28 08:43:46,https://api.github.com/repos/openstack/devstack/git/commits/866efef17af8f0d04240bf05714cb12452185822,866efef17af8f0d04240bf05714cb12452185822,"Allow ipv6 ECMP in devstack

It turns out that a host can have multiple valid default gateways,
something that's not common in ipv4.

This patches add supports for multiple default gateways in ipv6
environments.

Closes-Bug: #1786259

Change-Id: I30bf655f7160dd19c427ee79acdf145671a3e520
Signed-off-by: aojeagarcia <aojeagarcia@suse.com>"
melwitt,2018-09-27 18:30:38,https://api.github.com/repos/openstack/devstack/git/commits/991b1f13f0aed578dccec2e761be69005357444f,991b1f13f0aed578dccec2e761be69005357444f,"Update cinder backup_driver to full class name

Legacy backup service support was recently dropped from cinder in
change I3ada2dee1857074746b1893b82dd5f6641c6e579 and we need to
adjust how we set the config option in devstack accordingly. This
updates the backup_driver option to specify a full class name instead
of only the module name.

Closes-Bug: #1794859

Change-Id: I3a72f38b564b8b83b233fccba7685833b6394d45"
gouthampacha,2018-09-27 16:59:24,https://api.github.com/repos/openstack/devstack/git/commits/d543ecb737507cae19d5e9d4b4c9fe1265ffbb6f,d543ecb737507cae19d5e9d4b4c9fe1265ffbb6f,"Add a Bionic Beaver nodeset

I'm switching tempest/dsvm jobs to run on
Ubuntu 18.04 LTS (Bionic Beaver) on openstack/manila,
and I believe this nodeset can be here
so other projects can use it too.

Change-Id: Ib8279cde3e14d5378f27254188ee14dbb0800428
Needed-By: https://review.openstack.org/#/c/604929/"
hongbin,2018-09-20 17:16:23,https://api.github.com/repos/openstack/devstack/git/commits/faaf96bfb15c5f4c45a72b149dc6fe1e1f907a71,faaf96bfb15c5f4c45a72b149dc6fe1e1f907a71,"remove external_network_bridge option

The external_network_bridge option is deprecated/legacy and being
removed from neutron (see I07474713206c218710544ad98c08caaa37dbf53a).
This patch removes the external_network_bridge option iniset from
devstack scripts.

Change-Id: I4d9641cc9bb83719c9af1edabb89a63c4c2b1d96"
pasuder,2018-09-26 13:52:13,https://api.github.com/repos/openstack/devstack/git/commits/4e16c3dd5f4c5740ab92facf2083282440df9ac0,4e16c3dd5f4c5740ab92facf2083282440df9ac0,"Fix common systemd pitfalls die msg

That change introduces correct way of generating msg
for die in common systemd pitfalls.

Co-Authored-By: Szymon Datko <szymon.datko@corp.ovh.com>
Co-Authored-By: Piotr Bielak <piotr.bielak@corp.ovh.com>
Change-Id: I28aebffce6c5561360a9e44c1abc44b709054c30"
aojea,2018-09-24 10:34:15,https://api.github.com/repos/openstack/devstack/git/commits/61f6cafed7030a70e76b1836fba2390a22b052dd,61f6cafed7030a70e76b1836fba2390a22b052dd,"Switch to lioadm in openSUSE distros

This patch switches the CINDER_ISCSI_HELPER from tgtadm
to lioadm in openSUSE distros, as it increase the performance
and reduce the flakiness on some tests.

Change-Id: Ic3ee9c6baabe20f8f4d14246f6e29808796a5db9
Signed-off-by: aojeagarcia <aojeagarcia@suse.com>"
elajkat,2018-09-21 08:51:47,https://api.github.com/repos/openstack/devstack/git/commits/dae1041c9412e76927614dcd1e1b3bc5600692d3,dae1041c9412e76927614dcd1e1b3bc5600692d3,"doc: Add USE_PYTHON3 to configuration guide

Change-Id: I8b6743c1dbdc00001691b2727bd0c344fb6ccd51"
afrittoli,2018-09-13 15:50:29,https://api.github.com/repos/openstack/devstack/git/commits/147388466daef8e6589013d9bae684f9f8b8c57a,147388466daef8e6589013d9bae684f9f8b8c57a,"Setup branch in setup-devstack-source-dirs

Allow the setup-devstack-source-dirs role to accept a target role
to be setup - when available - for the repos.

Change-Id: Iebcba0d4be6d9d71b783e10a82c35a406afbd6bf"
ajaeger,2018-09-12 09:37:48,https://api.github.com/repos/openstack/devstack/git/commits/6403b1447fd9e1bcb6fc6f3ebb77d9abd9b776fc,6403b1447fd9e1bcb6fc6f3ebb77d9abd9b776fc,"Remove master only job

legacy-periodic-tempest-dsvm-oslo-latest-full-master
runs only on master, remove it. This needs to stay in project-config.

Change-Id: I81e66ddb0976bb4bb7a7cd8efbbae3bda551191d"
ajaeger,2018-09-10 16:40:41,https://api.github.com/repos/openstack/devstack/git/commits/b4b6789848b485c6bbdc8cabab5134f0cc2a3828,b4b6789848b485c6bbdc8cabab5134f0cc2a3828,"Follow job renames

the swift and devstack-plugin-ceph jobs have been renamed, follow rename
and use in-repo jobs.

Depends-On: https://review.openstack.org/543048
Change-Id: Idccc21e47b2cc04e5eeab4db7f7fb7cf156f8049"
s-t-e-v-e-n-k,2018-09-10 22:17:54,https://api.github.com/repos/openstack/devstack/git/commits/770690eda1c4578dcca5c5cdfed6688e7e084b24,770690eda1c4578dcca5c5cdfed6688e7e084b24,"Remove cgroup natty or less block

Given that Natty and other releases that don't use cgroups have been out
of support in Ubuntu for years now, it's high time we removed the
special case code block that sets up the cgroup mount.

Change-Id: I5403a4b1b64a95236b4dfcb66c35c594a3460cca"
dhellmann,2018-09-09 02:53:59,https://api.github.com/repos/openstack/devstack/git/commits/53db72c6c64229db62649fc31965e024fbfec365,53db72c6c64229db62649fc31965e024fbfec365,"switch documentation job to new PTI

This is a mechanically generated patch to switch the documentation
jobs to use the new PTI versions of the jobs as part of the
python3-first goal.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I338fc71919a41ec890bcb5edd0552ec7eb680eb5
Story: #2002586
Task: #24327"
dhellmann,2018-09-09 02:50:06,https://api.github.com/repos/openstack/devstack/git/commits/a0d1016e5540791d63a09a80a49181c08725f011,a0d1016e5540791d63a09a80a49181c08725f011,"import zuul job settings from project-config

This is a mechanically generated patch to complete step 1 of moving
the zuul job settings out of project-config and into each project
repository.

Because there will be a separate patch on each branch, the branch
specifiers for branch-specific jobs have been removed.

Because this patch is generated by a script, there may be some
cosmetic changes to the layout of the YAML file(s) as the contents are
normalized.

See the python3-first goal document for details:
https://governance.openstack.org/tc/goals/stein/python3-first.html

Change-Id: I9169d41d790ae874af29c8ceccf0c55ab0df7727
Story: #2002586
Task: #24327"
amotoki,2018-09-08 18:32:25,https://api.github.com/repos/openstack/devstack/git/commits/41fe3ebd4b1570c83ddf45cb8c240528aa06a56c,41fe3ebd4b1570c83ddf45cb8c240528aa06a56c,"Update horizon wsgi wrapper to the recommended one

During Rocky cycle, horizon updates the path of the wsgi wrapper
to the one recommended by Django [1]. The old path will be dropped
in the T release.

[1] https://review.openstack.org/#/c/561802/

Related-Bug: #1763204
Change-Id: Ie942518b587d193a7de55ffcc0a2848406146eb2"
lennybe,2018-08-29 13:41:04,https://api.github.com/repos/openstack/devstack/git/commits/6465219ec39ea3ec75e796b3bd80b96550470546,6465219ec39ea3ec75e796b3bd80b96550470546,"Fixed git show for upper-constraints.txt in lib/tempest

Change-Id: Id133108e0436018be81fca74a15ff29a4fe2e796
Closes-Bug: #1789643"
jharbott,2018-08-27 13:23:18,https://api.github.com/repos/openstack/devstack/git/commits/57bc01b3202e14ce8b722f7fcebddc8c8ae2159e,57bc01b3202e14ce8b722f7fcebddc8c8ae2159e,"Revert ""Update branches for stable/rocky""

This reverts commit e5cac49b04084407432b60c5670c25961bd7302a.

Change-Id: Ieceb5030a6c21378adcb9bf9c51cd862e0b0d01a"
ghanshyammann,2018-08-24 10:44:54,https://api.github.com/repos/openstack/devstack/git/commits/ef72d1ea77e2d5b8f210f222bcaf41b0fc7520e2,ef72d1ea77e2d5b8f210f222bcaf41b0fc7520e2,"Update DEVSTACK_SERIES to stein

stable/rocky branch has been created now and
current master is for stein.

Change-Id: Id5d75e7a8a38a749f387f3ba670e3d2c10cb9719"
ghanshyammann,2018-08-24 10:38:01,https://api.github.com/repos/openstack/devstack/git/commits/e5cac49b04084407432b60c5670c25961bd7302a,e5cac49b04084407432b60c5670c25961bd7302a,"Update branches for stable/rocky

Change-Id: Ia6de4b83f56c5ac0af19b0ca4f12aa4d47fd963a"
mrostecki,2018-08-09 13:19:17,https://api.github.com/repos/openstack/devstack/git/commits/70be0d14a62680f415daf6e15af6dd01f38749fe,70be0d14a62680f415daf6e15af6dd01f38749fe,"gitignore: Ignore all log files

Before this change, only *.log and *.log.[0-9] patterns were
ignored, which was not enough. Examples of file names which were
not ignored:

    devstack.log.2018-08-09-100547
    wget-log
    wget-log.1

Patterns *.log.* and *-log.* work for every log file generated by
devstack.

Change-Id: I6f0de5de74f196ab9df66cf3f2f969e53da01c22
Signed-off-by: Michal Rostecki <mrostecki@suse.de>"
zhubx007,2018-07-23 03:42:07,https://api.github.com/repos/openstack/devstack/git/commits/59f50c7967de9274d4c125e40fee8b2bfbe9cfc7,59f50c7967de9274d4c125e40fee8b2bfbe9cfc7,"BUG Fix: add sudo to run command arping

Set 'PUBLIC_INTERFACE' in local.conf, so the code will
be entered into _move_neutron_addresses_route of
neutron-legacy.

But if lack of sudo to run command arping, the information
""arping: socket: Operation not permitted"" occurs. So add
'sudo' for 'ARP_CMD' of lib/neutron-legacy.

Change-Id: I8ac8a9bc2bbba049c45b28bf9b93d9a10e398fe6
Closes-Bug: #1783046"
ghanshyammann,2018-08-07 08:37:24,https://api.github.com/repos/openstack/devstack/git/commits/11b8649e839f55b1d7e17fa3636f7b160e6c5d22,11b8649e839f55b1d7e17fa3636f7b160e6c5d22,"Fix TEMPEST_AUTH_VERSION comparision condition for identity v2

TEMPEST_AUTH_VERSION should be 'v3' or 'v2' not 'v2.0'.
To disable the identity v2 admin tests TEMPEST_AUTH_VERSION is
being compared with 'v2.0' which is incorrect.

Change-Id: I5f7e3bcf733edbbee06016bcad4845dda552815e"
pabelanger,2018-08-02 20:15:52,https://api.github.com/repos/openstack/devstack/git/commits/b73fb370511563b5607db149dae66e33333dd445,b73fb370511563b5607db149dae66e33333dd445,"Remove devstack-single-node-fedora-27

There is no projects using this and allows openstack-infra to delete
fedora-27 images.

Change-Id: I37d482dd2b5e099c370ab693ff430cb9c56360f8
Depends-On: https://review.openstack.org/588369
Signed-off-by: Paul Belanger <pabelanger@redhat.com>"
lbragstad,2018-08-01 18:03:44,https://api.github.com/repos/openstack/devstack/git/commits/ed6e1d0996a910eca42a202f17dfeee53d250c00,ed6e1d0996a910eca42a202f17dfeee53d250c00,"Set transport_url in proper keystone config section

The RPC transport_url for keystone was being set in the DEFAULT
section, even though keystone doesn't do anything with it. Instead,
keystone leans on the [oslo_messaging_notification] section from
oslo.messaging to register the transport_url option.

This change sets the transport_url in the proper section instead of
using the DEFAULT section.

Change-Id: I11590d0175da7ea310d5529f2d7c0bf8d7fb25b3"
kevinbenton,2017-06-13 07:31:01,https://api.github.com/repos/openstack/devstack/git/commits/66b361b53884ef1755d18cbab1b6898ebd78caa1,66b361b53884ef1755d18cbab1b6898ebd78caa1,"WSGI Neutron integration

This patch provides a new mechanism to deploy Neutron using
WSGI script. This also starts a Neutron RPC server process
when the Neutron API is loaded via a WSGI entry point to
serve the agents.

Co-Authored-By: Victor Morales <victor.morales@intel.com>
Co-Authored-By: Nguyen Phuong An <AnNP@vn.fujitsu.com>

Change-Id: I16a199b04858bfc03ef50d9883154dba8b0d66ea
Depends-On: https://review.openstack.org/#/c/580049/
Partially-implements: blueprint run-in-wsgi-server"
edmondsw,2018-07-27 19:48:38,https://api.github.com/repos/openstack/devstack/git/commits/1481322d7466c2b53a6144963663173ff0404422,1481322d7466c2b53a6144963663173ff0404422,"Correct neutron docs

The neutron guide refers to ENABLE_PROJECT_VLANS and
PROJECT_VLAN_RANGE but these are not present/checked in the code,
which uses ENABLE_TENANT_VLANS and TENANT_VLAN_RANGE. This
corrects the documentation to match.

Change-Id: I204356c861157e9fab357bb4dde55185bf18a707"
mriedem,2018-07-23 13:25:08,https://api.github.com/repos/openstack/devstack/git/commits/31c7d5c796fac2d3d67e893388166f7cf26c6a33,31c7d5c796fac2d3d67e893388166f7cf26c6a33,"cinder: configure backup_swift_url in subnodes

The tempest-multinode-full job is running the c-bak
service on the subnode where swift isn't running, and
because of the ""is_enabled_service swift"" check, cinder
on the subnode wasn't getting configured to talk to
swift so the c-bak service was down. Since chances are
good that we're running swift, just configure cinder
to always use it.

Change-Id: I86b090967dadeeefc017ff0311beeea9441b6ba6
Closes-Bug: #1783128"
dirkmueller,2018-07-10 14:28:44,https://api.github.com/repos/openstack/devstack/git/commits/e484f3b1c8086567ce5dc1e55ee503def8e5b429,e484f3b1c8086567ce5dc1e55ee503def8e5b429,"Remove devstack exercises

These seem to be not run for quite some time and they don't
succeed anymore - drop the code to avoid somebody accidentally
running it and wondering. A good example of ""if it isn't tested
its broken"".

Depends-On: https://review.openstack.org/583146
Depends-On: https://review.openstack.org/583147

Change-Id: I99e8a5ca2925217a5a2401984f3f4f6f032017be"
ghanshyammann,2018-07-10 09:21:46,https://api.github.com/repos/openstack/devstack/git/commits/274287598252b04f0ddf9741d7145a71cbb953a1,274287598252b04f0ddf9741d7145a71cbb953a1,"Cleanup keystone's removed config options

token.provider.drvier.uuid and token.driver
has been removed from keystone[1].

Devstack has reference/setting of those config
options which is confusing for user and it can
lead to import error like[2]

This commit cleanup the devstack bits of removed
config options.

bp removed-as-of-rocky

[1] https://blueprints.launchpad.net/keystone/+spec/removed-as-of-rocky

[2] http://paste.openstack.org/show/725391/

Change-Id: I29b3b356622c485c4c1046679234a38e7b645071"
pabelanger,2018-07-10 18:22:48,https://api.github.com/repos/openstack/devstack/git/commits/ef3571338ababf4627c32118fc082f195a9e136c,ef3571338ababf4627c32118fc082f195a9e136c,"use fqdn for zuul projects

When setting up a 3pci zuul, there is an edge case where a downstream
zuul may already have openstack/foo projects, eg:
review.rdoproject.org/openstack/foo.  In this case, if openstack
projects are not namespaced to include the connection information zuul
gets confused and complains.  We can avoid this by using the fqdn for
git.o.o for devstack jobs and both upstream and downstream zuul will
properly use the correct connection.

Change-Id: I01419ea9f51ce7491aa319b6240aec9c0d4f2356
Signed-off-by: Paul Belanger <pabelanger@redhat.com>"
mnestratov,2018-07-04 19:07:20,https://api.github.com/repos/openstack/devstack/git/commits/c3a33fb6911a5618eb1dc2e7448652ab844a191a,c3a33fb6911a5618eb1dc2e7448652ab844a191a,"Fix Virtuozzo CI

Don't specify hypervisor_type=vz property for hds images as nova
now reports only really connected hypervisors and not all supported
by a compute host

Change-Id: Ibec0856519ffe593d44d123f3b401eae19f7d95a"
safchain,2018-07-04 15:59:34,https://api.github.com/repos/openstack/devstack/git/commits/19eefe5e61187bab5fb893d51e0f771101441b4a,19eefe5e61187bab5fb893d51e0f771101441b4a,"Increase the Elasticsearch service timeout

On some slow system with recent version of
Elasticsearch we saw that the service
becomes ready after more than 1 minute.

Change-Id: Id2b21ab24a96d10fffdcccd652a7d3ec4e8ce39c"
morganfainberg,2018-07-03 14:14:16,https://api.github.com/repos/openstack/devstack/git/commits/16d46483dd83dd4117fd4980208910d4be6a2c8e,16d46483dd83dd4117fd4980208910d4be6a2c8e,"Keystone no longer uses paste-ini

With the move to flask, Keystone does not utilize paste-ini. This
patchset removes the paste-ini support from devstack for Keystone.

Change-Id: I8dd629937c9178660992fd648175dbef80ffa3c2"
pranjank,2018-03-16 11:03:46,https://api.github.com/repos/openstack/devstack/git/commits/6f38cf4ad846f394489334caae7a38b8e49b646c,6f38cf4ad846f394489334caae7a38b8e49b646c,"Fix wait_for_compute to work for modified compute host name

When we change the name of compute host then devstack is breaking
because it is using default host name from host.

How to change compute host name in local.conf
[[post-config|$NOVA_CONF]]
[DEFAULT]
host = foo

Change-Id: I4d4392f1f58f0431b10764610668565af88d392f
Signed-off-by: Prabhat Ranjan <pranjank@in.ibm.com>"
umago,2018-06-28 10:00:28,https://api.github.com/repos/openstack/devstack/git/commits/e63859362487856f1f53c173909cb8aa3bb55bab,e63859362487856f1f53c173909cb8aa3bb55bab,"Make configure_neutron_nova_new and create_nova_conf_neutron param optional

The commit e95f2a36645b58b172855213cb8311a3486bfcd9 broke
networking-ovn (and potentially other ml2 drivers) by making the config
parameter mandatory. It doesn't need to be.

Change-Id: I0d5738ac3a6d27ddb7655835d77689409a6ff6f4"
ianw,2018-06-22 12:17:00,https://api.github.com/repos/openstack/devstack/git/commits/78dff2852b4070168e103976aa3e7d72beb098b0,78dff2852b4070168e103976aa3e7d72beb098b0,"Update all rpms for Fedora 28

Bring along the required rpms for the ride on Fedora 28 (we really
should find a way to maybe do f* or something to avoid this
... consider it a todo :)

Change-Id: I37fd38de9baab478c86d23ea2cebca59dc8a5ed1"
sjamgade,2018-06-13 15:30:41,https://api.github.com/repos/openstack/devstack/git/commits/53e9aca6ce196d874b96829c32b51f8112174d69,53e9aca6ce196d874b96829c32b51f8112174d69,"install and start elasticsearch on openSUSE

this will allow install and start of elasticsearch on openSUSE based
distributions

Change-Id: I4d778c260247e73b500ca7d17835655c21941541"
ianw,2018-06-22 05:17:05,https://api.github.com/repos/openstack/devstack/git/commits/2f5771541209b6016c07c25d6808e1e3162f9d3b,2f5771541209b6016c07c25d6808e1e3162f9d3b,"Remove old packages from rpms/horizon

I'm not sure what the history of the (capital-D) Django package or
pyxattr; they've been there for a long time and should just be
installed like other dependencies these days.

Change-Id: I423230cc5cbb13d2cfb7b926a9571a8157ce5c46"
mriedem,2018-06-18 20:17:29,https://api.github.com/repos/openstack/devstack/git/commits/e95f2a36645b58b172855213cb8311a3486bfcd9,e95f2a36645b58b172855213cb8311a3486bfcd9,"Configure [neutron] in nova_cell*.conf

The nova-conductor service running in the cell
needs to be configured to talk to neutron for
things like deallocating networks during server
build failure. This changes the configure_neutron_nova
flows such that the top-level nova.conf is configured
as before, but we also configure each nova_cell*.conf
cell conductor config files to also be able to talk
to neutron.

Change-Id: Ic5e17298996b5fb085272425bb3b68583247aa34
Closes-Bug: #1777505"
lbragstad,2018-06-18 15:06:48,https://api.github.com/repos/openstack/devstack/git/commits/a7d0c6fa2c443b2b4b5f4680faff09c6b2bd00d2,a7d0c6fa2c443b2b4b5f4680faff09c6b2bd00d2,"Use `member` instead of `Member`

Keystone now provides a set of default roles in addition to `admin`
by default [0]. This is done during the `keystone-manage bootstrap`
process.

This change aligns the `Member` role override from devstack with the
`member` role provided from keystone.

[0] https://review.openstack.org/#/c/572243/

Change-Id: I3da3530aa73a8a1500116bcefdcba7b947d5e05e
Closes-Bug: 1777359"
ianw,2018-06-14 11:11:10,https://api.github.com/repos/openstack/devstack/git/commits/7f33552d347f400fc1f2c290da3d3fa863197cee,7f33552d347f400fc1f2c290da3d3fa863197cee,"Switch to dnf when it exists

This has all been around for a *long* time, like when dnf was a weird
new thing.  Now it's the opposite and yum is a weird old thing :)
Choose it by default for platforms with it (Fedora, for now).

Change-Id: Id2bd7d145354b996de31944929fd0267ec24a08e"
dhellmann,2018-06-12 19:37:00,https://api.github.com/repos/openstack/devstack/git/commits/0417858afa5cb65726579640231019de2215e530,0417858afa5cb65726579640231019de2215e530,"fix typo in python3_version

The function was using an undefined variable to show the version of
python3 being used.

Change-Id: Ibc956975d620ed5174de8823f9c202a680c56aaf
Signed-off-by: Doug Hellmann <doug@doughellmann.com>"
QingsZhao,2018-06-12 00:25:20,https://api.github.com/repos/openstack/devstack/git/commits/51aec325e6252703371ab001bea0853af05ca2d8,51aec325e6252703371ab001bea0853af05ca2d8,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: Id83cb3cdd62517045c45388f88cb3de0e3d75da1"
tosky,2018-06-04 08:59:57,https://api.github.com/repos/openstack/devstack/git/commits/c7c67658c1daa40bfcdddfc99d1e05a70d205e66,c7c67658c1daa40bfcdddfc99d1e05a70d205e66,"iniset: fix handling of keys with spaces

Ceph for example uses them. Creation already worked, but not
updates of existing keys.

Closes-Bug: 1774956

Change-Id: I20cb61c08079b9cd9ad56ac875525abf1442bff6"
mriedem,2018-06-02 16:40:58,https://api.github.com/repos/openstack/devstack/git/commits/5e832d3061a9edd77dff6b9a051df7f116104ea2,5e832d3061a9edd77dff6b9a051df7f116104ea2,"Modernize VIRT_DRIVER=fake usage

This makes three changes:

1. The quota options set when using the fake
   virt driver have been renamed so we're getting
   deprecation warnings on using the old names.
   Rather than set each quota limit value individually,
   we can just use the noop quota driver for the same
   effect.

2. The enabled_filters list for the scheduler was last
   updated when using the fake virt driver back in Juno
   via Ic7ec87e4d497d9db58eec93f2b304fe9770a2bbc - with
   the Placement service, we don't need the CoreFilter,
   RamFilter or DiskFilter. Also, in general, we just
   don't need to hard-code a list of scheduler filters
   when using the fake virt driver. If one needs to set
   their own scheduler filter list, they can do so using
   the $FILTERS variable (or post-config for nova.conf).

3. The largeops job, which ran the Tempest scenario tests,
   has been gone for a few years now, as have the Tempest
   scenario tests, so the API_WORKERS modification when
   using the fake virt driver should be removed. If we had
   a CI job like the largeops job today, we would set the
   worker config via the job rather than in devstack.

Change-Id: I8d2bb2af40b5db8a555482a0852b1604aec29f15"
mriedem,2018-06-02 13:34:20,https://api.github.com/repos/openstack/devstack/git/commits/0f4af398a98e7a9e742162910135e300521ea026,0f4af398a98e7a9e742162910135e300521ea026,"Set workers=$API_WORKERS in glance-registry.conf

We use $API_WORKERS to throttle the number of workers
in other services but were not doing it for g-reg for
some reason, which by default will run ncpu workers
up to a limit of 8.

Change-Id: Idc81ce05546e6d625c10e2229256eafbe7c057a5
Closes-Bug: #1774781"
stephenfin,2018-05-31 13:49:59,https://api.github.com/repos/openstack/devstack/git/commits/43f25c0fc3bee28ccd50b1bd6c40046b5cd12b4f,43f25c0fc3bee28ccd50b1bd6c40046b5cd12b4f,"doc: Describe running a command as a separate group

Some commands must be run as a separate group to work. Users can use the
'sg' tool to do this.

This may be assumed knowledge for many users but it's helpful to note in
this, the definitive resource for DevStack's systemd integration.

Change-Id: I271c1d21b44fa972c152780c1caa01c21c265159
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>"
sjamgade,2018-05-24 14:24:00,https://api.github.com/repos/openstack/devstack/git/commits/1fccf0b3391ca9d60fa47cc2f9f7ccbae841d483,1fccf0b3391ca9d60fa47cc2f9f7ccbae841d483,"swift expects an internal client config to start

using the sample form the source

Change-Id: I01874b650cd5d662ca2feabe58cc880155c9421e"
mriedem,2018-05-14 15:31:54,https://api.github.com/repos/openstack/devstack/git/commits/306fca807bbe69d104aeb3a135eceb18d47e7f93,306fca807bbe69d104aeb3a135eceb18d47e7f93,"Add dosfstools to files

dosfstools provides mkfs.vfat which is needed if n-cpu is
configured with 'config_drive_format=vfat'.

Change-Id: If1e1537a079e71847d91ae03ed0c18290a467c4e
Related-Bug: #1770640"
cubeek,2018-05-14 14:12:52,https://api.github.com/repos/openstack/devstack/git/commits/a99ab7002cfea539e035e203c0d05415fac3eb6a,a99ab7002cfea539e035e203c0d05415fac3eb6a,"neutron: Use openvswitch firewall driver by default

openvswitch firewall has been in Neutron tree since Newton and has gone
through lots of improvements since including simple upgrade path from
the iptables hybrid driver.

We have a tempest job running in Neutron tree with openvswitch firewall
that's been voting and stable for a while. For neutron_tempest_plugin,
we have had the openvswitch firewall in use since the beginning.

This patch proposes openvswitch firewall driver to become a default
driver for openvswitch agent deployments.

Change-Id: If26d0180e459210511f25f1faa83dd8ccea25ff4"
melwitt,2018-05-09 17:55:40,https://api.github.com/repos/openstack/devstack/git/commits/65ad79409537a76aec5cdba4360094a3047a025d,65ad79409537a76aec5cdba4360094a3047a025d,"Configure console proxy settings for nova-cpu.conf

Change 12579c3db7b28381c8ec97945aa23ee02d54d22b moved console-related
settings from the global nova.conf to the per cell nova_cellN.conf
because of a recent change in nova that moved console token
authorizations from the nova-consoleauth service backend to the
database backend and thus changed the deployment layout requirements
from global console proxies to per cell console proxies.

The change erroneously also removed console configuration settings from
the nova-compute config file nova-cpu.conf because the nova-cpu.conf
begins as a copy of the global nova.conf.

This adds configuration of console proxies to the nova-cpu.conf in the
start_nova_compute routine. The settings have also been split up to
clarify which settings are used by the console proxy and which settings
are used by nova-compute.

Closes-Bug: #1770143

Change-Id: I2a98795674183e2c05c29e15a3a3bad1a22c0891"
mattsmithdatera,2018-05-07 21:43:56,https://api.github.com/repos/openstack/devstack/git/commits/f774ecf4f9f44b38f345bb614b72c83b3ec15136,f774ecf4f9f44b38f345bb614b72c83b3ec15136,"Changing openrc default Cinder API version to v3

* v3 is a superset of v2 and has been the defacto Cinder version for
several years now.
* Devstack installs Cinder v3 API by default, so the default environment
variables should reflect this.

Change-Id: I86e1ae4e020e2be043cf8e190d7959b65b6c093c"
melwitt,2018-05-05 23:55:32,https://api.github.com/repos/openstack/devstack/git/commits/12579c3db7b28381c8ec97945aa23ee02d54d22b,12579c3db7b28381c8ec97945aa23ee02d54d22b,"Set console proxy configuration according to cells v2 setup

Change 969239029d4a13956747e6e0b850d6c6ab4035f0 completed the
conversion of console token authorization storage from the
nova-consoleauth service to the database backend. With this change,
console proxies need to be configured on a per cell basis instead
of globally.

There was a devstack change 6645cf7a26428f3af1e4739ac29c6a90b67f99dc
following it that re-enabled the novnc tempest tests, but the nova-next
job that runs the console proxies with TLS is *not* part of the normal
set of jobs that run on devstack changes (it's in the experimental
queue), so it was able to merge without the nova-next job passing.

This configures the nova console proxies in the per cell configuration
file if cells v2 is configured for multiple cells in order to pass the
nova-next job.

Closes-Bug: #1769286

Change-Id: Ic4fff4c59eda43dd1bc6e7b645b513b46b57c235"
pabelanger,2018-05-02 01:36:37,https://api.github.com/repos/openstack/devstack/git/commits/bed03ea77a93ad09ce8f06a467d5de02ef48e603,bed03ea77a93ad09ce8f06a467d5de02ef48e603,"Switch to fedora-latest for nodeset name

To help avoid the amount zuul.yaml chrun when we bring a new version
of fedora online, switch to using fedora-latest. As of writing,
fedora-28 is the latest release which we update our testing for.

Also add fedora-28 support to stash.sh and remove fedora-25 /
fedora-26 as they are EOL.

Change-Id: I3d716554e8f270f4434cc9cac3408f8e890e0665
Depends-On: https://review.openstack.org/565758/
Signed-off-by: Paul Belanger <pabelanger@redhat.com>"
mriedem,2018-05-02 15:45:09,https://api.github.com/repos/openstack/devstack/git/commits/59e6ff10ce65509beefb3fdee7aa0c8ca966a8a9,59e6ff10ce65509beefb3fdee7aa0c8ca966a8a9,"Remove IRONIC_USE_RESOURCE_CLASSES check

Nova has dropped support for non-resource class
baremetal scheduling, so the IRONIC_USE_RESOURCE_CLASSES
flag is no longer useful and has been removed.

Depends-On: https://review.openstack.org/565805/
Change-Id: Ib2e6c96409c98877f6a43b76f176c1420d2d415e"
notartom,2018-05-02 14:38:57,https://api.github.com/repos/openstack/devstack/git/commits/7e36ded0cff9d753c1bfa4ae05d5c97ccf0dd957,7e36ded0cff9d753c1bfa4ae05d5c97ccf0dd957,"docs: Add placement-client to compute's ENABLED_SERVICES

In a multinode setup, the compute node needs to report to the
placement service. If it does not do so, it effectively does not exist
from the scheduler's point of view. This patch adds placement-client
to the compute node's ENABLED_SERVICES so that this can happen.

Change-Id: Ibfcd84e4626301bcdea70f719ade7f8365d03497"
emonty,2018-05-01 10:57:21,https://api.github.com/repos/openstack/devstack/git/commits/69057d46556db95267a4bc4156dadc88b5064ab9,69057d46556db95267a4bc4156dadc88b5064ab9,"Register versioned endpoint for block-storage service

cinder does not yet support operations without project_id in the url.
The unversioned endpoint is not a usable endpoint for a user that
requests the block-storage service. Although it would be lovely to have
the block-storage service have the unversioned endpoint in the catalog,
we need to get project-id out of the urls first.

Change-Id: I4246708b6ea31496ba4d565ab422abc76f730ee7
Needed-By: https://review.openstack.org/564494"
melwitt,2017-12-13 23:59:09,https://api.github.com/repos/openstack/devstack/git/commits/6645cf7a26428f3af1e4739ac29c6a90b67f99dc,6645cf7a26428f3af1e4739ac29c6a90b67f99dc,"Re-enable novnc tempest tests

Once the nova patch series that converts from the nova-consoleauth
backend -> cell database backend lands, we can re-enable the novnc
tests in tempest.

Depends-On: If1b6e5f20d2ea82d94f5f0550f13189fc9bc16c4

Change-Id: I2939191a1c3ce49fa2104b4ffdf795fc416a1c33"
melwitt,2017-07-18 22:29:41,https://api.github.com/repos/openstack/devstack/git/commits/ed2d491960138f92e819b6f6ed9dd5eb99d4a54f,ed2d491960138f92e819b6f6ed9dd5eb99d4a54f,"Run console proxies per cell instead of globally

Along with converting to the database backend for console token auth,
the console proxies need to run per cell instead of globally. This way,
the instance UUID isn't needed in the access url as users will be
handed an access url local to the cell their instances is in. With
console proxies sharded across cells, a large cloud will no longer have
a bottleneck of one console proxy for the entire deployment.

This also disables the novnc tempest tests with a TODO to re-enable
them once the nova patch series that converts from the nova-consoleauth
backend -> cell database backend lands.

Change-Id: I67894a31b887a93de26f3d2d8a1fa84be5b9ea89"
cdent,2018-04-25 12:01:03,https://api.github.com/repos/openstack/devstack/git/commits/e8bad5cd6a65821c54d66bbc5f7ba17091439d34,e8bad5cd6a65821c54d66bbc5f7ba17091439d34,"Init placement before nova

With change I7e1e89cd66397883453935dcf7172d977bf82e84 the placement
service may optionally use its own database. In order for this to
work, however, the ordering of how both nova and placement are
configured and initialized in stack.sh requires careful control.

* nova.conf must be created first
* then placement must make some adjustments to it
* then lib/placement needs to create the placement database
* before nova does a database sync (of both databases)

Otherwise, when the placement_database/connection is defined, the nova
db_sync command will fail because the placement database does not yet
exist. If we try to do a sync before the nova_api database is created
_that_ sync will fail.

This patch adjusts the ordering and also removes a comment that will
no longer be true when I7e1e89cd66397883453935dcf7172d977bf82e84 is
merged.

Change-Id: Id5b5911c04d198fe7b94c7d827afeb5cdf43a076"
afrittoli,2018-04-25 12:52:44,https://api.github.com/repos/openstack/devstack/git/commits/05da9a9b1e86babe829c1c2349fa7e9838095ee8,05da9a9b1e86babe829c1c2349fa7e9838095ee8,"Enable nova VNC configuration on the subnode

The n-novnc service only runs on the controller node, however novnc
settings must be enabled on both nodes for vnc to work, since both
hosts are compute hosts.

Change-Id: Icc29441f507e6e4df9fd900eb7f35b0862f52043"
afrittoli,2018-04-20 12:36:22,https://api.github.com/repos/openstack/devstack/git/commits/afe141401997db054cd9987ca17d989415c65ad4,afe141401997db054cd9987ca17d989415c65ad4,"Ensure passwordless ssh with stack between nodes

For compute migration to work, the stack user needs to be configured
with passwordless ssh between all hosts involved in the migration.

Reuse the build ssh-key for this, which is already distributed for
user root.

Depends-on: https://review.openstack.org/563584

Change-Id: Id07f55fea06509466add35315c135dbfba6aa714"
lbragstad,2018-04-17 17:01:46,https://api.github.com/repos/openstack/devstack/git/commits/fe628b9fb2e9511e78a7dc6883fa1d4766413a54,fe628b9fb2e9511e78a7dc6883fa1d4766413a54,"Remove the sample configuration file for keystone

This commit just makes sure that the configuration file for keystone
exists on the system. We use iniset to actually populate the values
we want before we run keystone anyway.

This results in a cleaner configuration file that isn't bloated with
comments and help text.

Change-Id: I7a1f879e9e242a11e2c4663ec116e33da28db7f5"
hongbin,2018-04-14 19:33:15,https://api.github.com/repos/openstack/devstack/git/commits/f99d1771ba1882dfbb69186212a197edae3ef02c,f99d1771ba1882dfbb69186212a197edae3ef02c,"Do not use pip 10 or higher

It looks pip 10 failed the uninstallation of distutils installed
packages. This patch temporarily cap the version of pip to work-around. 

Closes-Bug: #1763966
Change-Id: I8bf80efc04883cd754c19bea0303064080112c6e"
danielmellado,2018-04-12 15:41:59,https://api.github.com/repos/openstack/devstack/git/commits/dc5d88bc0b2233ee8490d31ce67d6a8f6e503b23,dc5d88bc0b2233ee8490d31ce67d6a8f6e503b23,"Apply contraints to tempest plugins

This commit applies the constraints for the tempest plugin installation
so they won't go over the upper reqs.

Closes-Bug: 1763436
Change-Id: I5cf91157bbdae79dec01d5b3db32efea21f1b2b7"
dirkmueller,2018-04-11 19:33:50,https://api.github.com/repos/openstack/devstack/git/commits/c114449bdb6fc8c4ede2b7845aa2ba049bdc332f,c114449bdb6fc8c4ede2b7845aa2ba049bdc332f,"Switch to mkisofs for openSUSE distributions

In Tumbleweed genisoimage was dropped in favor of cdrtools,
so installing that no longer works. We can however install
mkisofs directly and switch to that as that is also available
in Leap 42.3 and Leap 15.0+ family distros.

Also drop dependency on libmysqlclient-devel which appears
unnecessary (and is no longer available with mariadb 10.2+)

Change-Id: Ie8402204b6cdf94c21865caba116d3fd1298c5ad"
dirkmueller,2018-03-21 12:59:18,https://api.github.com/repos/openstack/devstack/git/commits/486057f3391ce3a262f8226f7652ed14b3b444f3,486057f3391ce3a262f8226f7652ed14b3b444f3,"Start OVS as root on Tumblweed to workaround bsc#1085971

There is currently a OVS 2.9.0 update in Tumbleweed that
fails to start as it is having a race with systemd on creating
the home directory. Workaround is to run it as root for now.

Change-Id: Ief610c6473834b02a1d644d8f50d11138a48e6e6"
cmurphy,2018-02-18 13:11:10,https://api.github.com/repos/openstack/devstack/git/commits/931f82dc291dae10b9a484f25e044aed788311e1,931f82dc291dae10b9a484f25e044aed788311e1,"Enable tempest tests for application credentials

In Queens and later, the application credentials feature is available on
keystone and enabled by default. It should be tested in devstack.

Depends-on: https://review.openstack.org/545627
Change-Id: I4b0dc823487e79df16e1e603012ba4a7dc438389"
DavidRabel-b1,2018-04-05 18:56:22,https://api.github.com/repos/openstack/devstack/git/commits/c77c9497a5ef79dab74e23a21783044241fe1670,c77c9497a5ef79dab74e23a21783044241fe1670,"Fix indentation in devstack-with-lbaas-v2

guides/devstack-with-lbaas-v2 contained an indentation misstake,
that formatted some of the text unintentionally as quotations.

Change-Id: Ibbad4974c45f028d3de461ba69e0cea837d9c871"
mriedem,2018-03-20 14:54:39,https://api.github.com/repos/openstack/devstack/git/commits/295610c89edc60faba1f5d8d80f40ab00b73a39c,295610c89edc60faba1f5d8d80f40ab00b73a39c,"Remove [placement]/os_region_name usage

The [placement]/os_region_name config option is deprecated
and no longer required to be set (the default is fine for
devstack) with the dependent nova change.

Depends-On: I973180d6a384b32838ab61d4e6aaf73c255fd116

Change-Id: I6379acf179ed511f1cdadbd7fb09e2454182a5d3"
lbragstad,2018-03-30 20:56:04,https://api.github.com/repos/openstack/devstack/git/commits/f3f7c079257701efcc3eb50125e09171ad88811e,f3f7c079257701efcc3eb50125e09171ad88811e,"Add documention for setting up LDAP

Devstack supports deploying an LDAP server and configuring keystone
to use it, but we didn't have any documentation for it. This commit
adds some basic documentation that should help developers setup
LDAP-backed development environments.

Change-Id: I8ba07d73f52cb7f575ff2953977e9fdcade92d83"
emonty,2017-11-15 15:45:56,https://api.github.com/repos/openstack/devstack/git/commits/4d7e33757670890ec2c8a862d504c018df744f1c,4d7e33757670890ec2c8a862d504c018df744f1c,"Extract a devstack-minimal base job

For folks who are doing functional testing with less than the full set
of normal base services. Should be a no-op/ignorable for most people.

Change-Id: If14ee018c01995e0a5b6bcdaac9ddc8810c6d503"
jharbott,2018-04-03 15:16:30,https://api.github.com/repos/openstack/devstack/git/commits/87c0de5240d33cf053815d90ba8e766958f412bb,87c0de5240d33cf053815d90ba8e766958f412bb,"Export OS_CACERT after sourcing .stackenv file

This makes sure that it is available to subprocesses like the other
authentication data.

Change-Id: I513b7c2620b171ce20a1ceb5536226f3a69f2b82
Closes-Bug: 1760901"
pabelanger,2018-03-14 15:58:56,https://api.github.com/repos/openstack/devstack/git/commits/a62ede7d5034185a85c8ee99a916f41c0f2bde75,a62ede7d5034185a85c8ee99a916f41c0f2bde75,"Use NOVA_BIN_DIR / SWIFT_BIN_DIR for binaries

Fix a few path issues where we didn't properly use NOVA_BIN_DIR /
SWIFT_BIN_DIR.

This is part of the effort to start using a virtualenv for openstack
services.

Change-Id: I6eb383db65cc902c67c43e5cb1a16a9716a914b2
Signed-off-by: Paul Belanger <pabelanger@redhat.com>"
tbreeds,2018-03-29 01:10:28,https://api.github.com/repos/openstack/devstack/git/commits/d9060111d9496306c90e0349f4df1167e9b01ad5,d9060111d9496306c90e0349f4df1167e9b01ad5,"[trivial] Comment fix

In I5103b4331a8d7c5660848fc148ebe4139ce6dad9 it was noted that the
comment was wrong.  While this has no functional impact let's clean it
up while it's fresh.

Change-Id: Ia6cf8125214c69f8289fa7cff948afc10801ed2f"
dtroyer,2018-03-28 15:05:05,https://api.github.com/repos/openstack/devstack/git/commits/aab248bc89b11aa527ebf185ec4b12a2e951b11c,aab248bc89b11aa527ebf185ec4b12a2e951b11c,"Another openstacksdk rename fix

Missed one, this is blocking OSc's functional-tips tests

Change-Id: Iecf848c1791b1f204b0867e9da3e2ed994f02da3"
esberglu,2018-03-21 16:04:37,https://api.github.com/repos/openstack/devstack/git/commits/b8fcb2594cbee90c559bfc68840ac4380c8567c7,b8fcb2594cbee90c559bfc68840ac4380c8567c7,"Update default ETCD_VERSION to latest 3.2 etcd release

This updates the default ETCD_VERSION to the latest 3.2 etcd release,
v3.2.17.  3.2 is chosen as it is packaged in bionic and fedora; we
hope to move to packaged versions for distros that support it in due
course.

This version supports arm64 and ppc64le which were not supported by the
previous default, v3.1.10.

We have removed the override to tarballs.o.o, as these files are now
cached as described in [1]

[1] http://lists.openstack.org/pipermail/openstack-infra/2018-March/005871.html

Depends-On: https://review.openstack.org/556688
Change-Id: I5103b4331a8d7c5660848fc148ebe4139ce6dad9"
mriedem,2018-03-23 23:56:26,https://api.github.com/repos/openstack/devstack/git/commits/2b3bb30d9906f70894a1945956fb8216cd929ad0,2b3bb30d9906f70894a1945956fb8216cd929ad0,"Only sync the local cell in superconductor mode

When nova-manage db sync runs on cell1 in superconductor
mode, the [api_database]/connection config option isn't
set in the config file on purpose so the cell can't
reach the API database.

As a result, the db sync on the cell config can't hit
the API DB to sync cell0, which is not something we need
here anyway, but it results in an error message.

This tells the cell config db sync to just run it on the
cell database and not try to sync cell0.

Change-Id: Iac092762decd6de9e90e264f2998d255e8e40d00"
emonty,2018-03-23 13:27:57,https://api.github.com/repos/openstack/devstack/git/commits/236250f1c3e9f328f0dc23ab168afbcfa639a33b,236250f1c3e9f328f0dc23ab168afbcfa639a33b,"Rename python-openstacksdk to openstacksdk

Change-Id: Ia77163f330f674146b369dfebea56bd97820057e
Depends-On: https://review.openstack.org/554662"
mriedem,2018-03-19 18:27:01,https://api.github.com/repos/openstack/devstack/git/commits/23df4da0d4e61e2149e0ec164d0bad02fc8a3f07,23df4da0d4e61e2149e0ec164d0bad02fc8a3f07,"Use Queens UCA

This updates the UCA usage from Pike to Queens. As a result,
the various volume multiattach checks can also be removed
because the Queens UCA has libvirt 4.0.0.

Change-Id: Icb971831c8d4fe5f940d9e7993d53f1c3765e30f"
tosky,2018-03-18 16:56:27,https://api.github.com/repos/openstack/devstack/git/commits/34e09dd3a90e7782a96c5a500368cad04f553e1c,34e09dd3a90e7782a96c5a500368cad04f553e1c,"Fix devstack job: the dict name is devstack_local_conf

It looks like a typo.

Change-Id: Id017b169f25a7589da3eca509c28f5d867fd5962"
mriedem,2018-03-15 00:09:14,https://api.github.com/repos/openstack/devstack/git/commits/18abffb72b514e0b364f54459df62c2ebc12d4bf,18abffb72b514e0b364f54459df62c2ebc12d4bf,"Mention test-config phase in config docs

I had to dig into the stack.sh code to figure out why
my tempest.conf post-config wasn't work, and it's because
post-config isn't the thing to use to configure tempest,
test-config is.

Change-Id: Ic5bbe36b5d44880d0a3a602f653b4f61fd89e9c8
Related-Bug: #1755947"
jharbott,2018-03-06 19:22:59,https://api.github.com/repos/openstack/devstack/git/commits/cb1448495b3c8ea63febeeda862040447839f716,cb1448495b3c8ea63febeeda862040447839f716,"Add bionic as supported distro

Add the upcoming release Ubuntu 18.04 Bionic Beaver to the list of
supported distros. Drop the now unsupported 17.04 (zesty) instead.

Change-Id: Iea0b4bfdc510797f7886fac96eff6fdfb730252d"
jharbott,2018-03-13 12:21:34,https://api.github.com/repos/openstack/devstack/git/commits/e6faf84ec347470b32362098e69fe2b1844d3fed,e6faf84ec347470b32362098e69fe2b1844d3fed,"Revert to using neutron-legacy based services

The patch to remove the use of the test-matrix [0] also switched from
using the neutron-legacy based service names (q-*) to the new neutron-*
names. However it turns out that the new implementation is not yet working
properly for most neutron-consuming projects, so we switch back to the
previous situation for now.

[0] https://review.openstack.org/546765

Change-Id: Id6de87211d6c4ea8fd14aa9203d8d5b17e9e2f04"
e0ne,2017-11-06 16:17:39,https://api.github.com/repos/openstack/devstack/git/commits/165199eebdef5d43bdc34683bdad9054f8c897d0,165199eebdef5d43bdc34683bdad9054f8c897d0,"Remove default value for Cinder Auth Strategy

Cinder supports both noauth and keystone auth mode. So now we can
configure this value via local.conf:

[[post-config|$CINDER_CONF]]
[DEFAULT]
auth_strategy = noauth

Change-Id: I1e434362117ab30dae71a8f3a80bc139e78f51bc"
stephenfin,2018-01-23 09:30:31,https://api.github.com/repos/openstack/devstack/git/commits/c81947a37d06fa07a53a891750e4864b89622e58,c81947a37d06fa07a53a891750e4864b89622e58,"Remove remnants of SCREEN_LOGDIR

These appear to have been missed in commit 'cdba1b371'.

Change-Id: Ibb7fd7a0d54750c16360dfceb8e6b024ed8f504e"
jharbott,2018-03-12 14:48:53,https://api.github.com/repos/openstack/devstack/git/commits/dc78ef8880b65f56abb0e0c2b80c25d9a0a495e1,dc78ef8880b65f56abb0e0c2b80c25d9a0a495e1,"Save rc from stack.sh in run-devstack role

Avoid overriding the failure state of stack.sh by the trailing echo
command.

Change-Id: I74820709edc98f67ff1a0c620ce5db3a3571b7f5"
Tehsmash,2018-03-12 10:34:01,https://api.github.com/repos/openstack/devstack/git/commits/db5a5b3c20b4dfeb2325594e700adb3b98d7d8fd,db5a5b3c20b4dfeb2325594e700adb3b98d7d8fd,"Remove use of git -C option from tempest venv creation

The -C option is not available in git versions older than ""1.8.5"" which
are still shipped by several distributions including centos 7.

Due to this incompatibility the patch has broken third party CI for
Cisco on Ironic.

Change-Id: I09a6f83f8b2fee870e6e1c50cbfdf2da4d70dfb2"
dirkmueller,2018-03-01 23:37:58,https://api.github.com/repos/openstack/devstack/git/commits/4404f680f2447912dcdbcecde14339bc6d1f5175,4404f680f2447912dcdbcecde14339bc6d1f5175,"Add an openSUSE Tumbleweed devstack non-voting check job

This adds the necessary fixes to pass a devstack run
on openSUSE Tumbleweed. Also removes opensuse 42.2 as it
is EOL for some time already and no longer actively tested
in the OpenStack infra.

Depends-On: I1b68c08c07cf6653ea58506f738cbe0054b38f3a
Change-Id: I2894482deef063fd02b0818c695a2ddbf6767039"
afrittoli,2018-03-09 17:12:38,https://api.github.com/repos/openstack/devstack/git/commits/02bb57bfefbe3658b570060a9eb084377dddaddd,02bb57bfefbe3658b570060a9eb084377dddaddd,"Enforce linear strategy for orchestrate-devstack

Document that orchestrate-devstack requires a linear strategy in the
invoking play. Also enforce the strategy in devstack.yaml.

Change-Id: Ia081225ec2be959fc5a4ddfd491f526296a8ca10"
jharbott,2017-09-19 10:52:32,https://api.github.com/repos/openstack/devstack/git/commits/dc7b4294632172d0b743f98448942fe260a8a3ff,dc7b4294632172d0b743f98448942fe260a8a3ff,"Fix running with SERVICE_IP_VERSION=6

- There are some locations where we need the raw IPv6 address instead of the
  url-quoted version enclosed in brackets.
- Make nova-api-metadata service listen on IPv6 when we need that.
- Use SERVICE_HOST instead of HOST_IP for TLS_IP.

Change-Id: Id074be38ee95754e88b7219de7d9beb06f796fad
Partial-Bug: 1656329"
afrittoli,2018-02-19 21:45:22,https://api.github.com/repos/openstack/devstack/git/commits/f32f3f5266fe9a88955129fb01a9284465b9e7e5,f32f3f5266fe9a88955129fb01a9284465b9e7e5,"Document v2 to v3 devstack job migration

Document how to map DEVSTACK_GATE flags into the zuul v3 ansible
world. This is just an initial structure, the idea is to document
most of the flags as well as provide example in-line and links to
finished jobs.

Change-Id: I377ebb529bcd8f4971906563c577e8cfc48b98e6"
afrittoli,2018-02-23 16:04:46,https://api.github.com/repos/openstack/devstack/git/commits/067e36582b8d1589c831524e921f396b270d4f44,067e36582b8d1589c831524e921f396b270d4f44,"Document jobs

Add inline documentation to jobs and render it in the jobs doc page.
Adjust the roles page to match jobs for title and filename.

Change-Id: I47a2b4b379c8517b0dea59a75943f3f871c29046"
afrittoli,2018-02-17 22:21:26,https://api.github.com/repos/openstack/devstack/git/commits/5e714d33081455af4bd7a45bb9e60a905ad6f2e7,5e714d33081455af4bd7a45bb9e60a905ad6f2e7,"Fix multinode mode for devstack

Extend the devstack job so that it can support both single and multinode
cases.  Multinode mode require extra settings in devstack configuration,
some of which as subnode specific, some controller specific.

Also keep a simple devstack-multinode job defined for now so we can run
a multinode job in devstack gate, until the full tempest multinode job
is ready to match the old
gate-tempest-dsvm-neutron-multinode-full-ubuntu-xenial-nv.

Fixing multinode also requires sharing the CA configuration between
controller and peers, overlay network configuration for communication
between virtual machines and running discover_hosts for nova after the
subnode has been setup.

The extra orchestration required for multinode is encoded in a
dedicated role to allow for jobs in other repos to re-use it.

Change-Id: I2dcbd9bdb401860820e655d97aa3c4775af2827f"
mriedem,2018-03-06 15:08:36,https://api.github.com/repos/openstack/devstack/git/commits/21221d1ad1462cdcaed4d052c3324ae384b407d4,21221d1ad1462cdcaed4d052c3324ae384b407d4,"Configure nova to auto-calculate compute RPC upgrade levels

The openstack-ansible team found a regression in Queens when setting
the compute RPC upgrade_levels to 'auto' on a fresh install before any
computes had started up. The dependent change fixes the issue in nova
but for future proofing against this sort of issue again, we can set
the compute RPC upgrade levels in devstack to 'auto' for fresh installs
as well. Note that grenade already sets 'auto' for compute upgrade
levels, which is why we didn't catch this in grenade testing with the
compute RPC 5.0 version bump that caused the issue.

Depends-On: https://review.openstack.org/549737/

Change-Id: I07f34dbc09b6108ba8f5b2a83a28c75eb42be495
Related-Bug: #1753443"
mriedem,2018-03-05 15:03:27,https://api.github.com/repos/openstack/devstack/git/commits/36c3aaa07e638af0b581efa28828e04146ae1364,36c3aaa07e638af0b581efa28828e04146ae1364,"Add nova-cells-v1 to experimental queue jobs

The legacy-tempest-dsvm-cells job is being moved into the
nova repo and renamed to nova-cells-v1. This change adds
the new job name to the in-tree definition of the experimental
queue jobs that run on devstack changes. A project-config change
will depend on this patch to undefine the legacy job name from
being used on devstack changes.

Depends-On: https://review.openstack.org/549780
Change-Id: I22fa1411809c46ffc423e0dd1cde0d8f40362635"
ianw,2018-03-06 00:40:46,https://api.github.com/repos/openstack/devstack/git/commits/1610cc22199f84395c87f4d37d079e8398934378,1610cc22199f84395c87f4d37d079e8398934378,"Add a note on experimental jobs

With I4161e1f1c8d47070dd35fad38b00715438d94eb2 and
I37fe007dc6f387d43cbaf55771027718005ac40d we have removed most of the
legacy experimental jobs.

Add a short note so we don't go back to the Hotel California model of
""you can check in but never check out"".  With zuulv3 it is possible to
have self-testing changes for testing indiviual jobs.  Experimental
should be for things with wider application to run against all
changes.

Change-Id: Ibfb902b17a8f7d5355689f2a584c061c001df0d8"
afrittoli,2018-02-14 19:24:04,https://api.github.com/repos/openstack/devstack/git/commits/2a2349be5f82455c462b294dfada76820d4d2aa4,2a2349be5f82455c462b294dfada76820d4d2aa4,"Stage .localrc.auto

Change-Id: I9beb713a0b037e0229b13fd13d7d4de156ed0b59
Depends-on: https://review.openstack.org/544606"
afrittoli,2018-03-03 22:16:50,https://api.github.com/repos/openstack/devstack/git/commits/acca80414ff3db373138ed5e7124ced7306c28df,acca80414ff3db373138ed5e7124ced7306c28df,"Ensure that stack home is owned by stack

The role that sets up the user and its home folder must ensure that
the home folder is owned by stack as well.

Change-Id: I2e72d7b9d68a2a14f8a148ef82cbb3f569bd1cea"
afrittoli,2018-02-21 14:35:58,https://api.github.com/repos/openstack/devstack/git/commits/d9c1275c5df55e822a7df6880a9a1430ab4f24a0,d9c1275c5df55e822a7df6880a9a1430ab4f24a0,"Define devstack services without the test-matrix

Emit a disable_all_services and define which service we run in
the job directly. This drops the dependency from the test matrix,
from devstack default list of services and it makes it easier for
jobs to add/remove services based on the list in the base job.

Change-Id: Ib1debefd541b933dbfc54d484c263cc0ed60423d"
dirkmueller,2018-03-02 20:13:12,https://api.github.com/repos/openstack/devstack/git/commits/6bab8321b44db260f9e001d8276a660d1ff56ed4,6bab8321b44db260f9e001d8276a660d1ff56ed4,"Remove references to hardcoded file writing in /tmp

/tmp is a world writeable directory, so using hardcoded filenames
in there is just a bad coding style (susceptible to symlink attacks).
Avoid using it to not give a bad precedent.

Change-Id: Ia66763a0e4714f2226e98dbd85600b2035bd5088"
dirkmueller,2018-03-02 20:08:34,https://api.github.com/repos/openstack/devstack/git/commits/3360ffb5f27cef3f22da944e8a1314678a4bf970,3360ffb5f27cef3f22da944e8a1314678a4bf970,"devstack master is rocky now

See #snowpenstack!

Change-Id: I2df485c2acf1bec0d0f7ddc6538bff2c2ec141e3"
lennybe,2018-02-25 14:48:05,https://api.github.com/repos/openstack/devstack/git/commits/f63ddd609f8ba0c6000d7d07074dc64232830351,f63ddd609f8ba0c6000d7d07074dc64232830351,"Replace depricated iscsi_helper with target_helper

Cinder change I5231f8fe3399deb9c57e6efb121d0d008dc9c7f4
replaces iscsi_helper with more general one.



Change-Id: I49fe0365b170e5a5b0449d80003bcf970e4c191d"
toabctl,2018-02-28 13:46:05,https://api.github.com/repos/openstack/devstack/git/commits/ca61966f47af9070a7c6ed6fef3f2d630c43c919,ca61966f47af9070a7c6ed6fef3f2d630c43c919,"neutron: Do no longer set ""url"" in nova.conf

Since[1], ""url"" in the [neutron] section in nova.conf should no
longer be set.

[1]
https://github.com/openstack/nova/commit/6cde77ebbab85bc8ccd2ab7ad977b1d4af4a13fa

Depends-On: https://review.openstack.org/548572
Related-Bug: #1752289
Change-Id: Ied6c155da9d51a25ba7a524e69d018d39ed3442c"
pshchelo,2018-02-26 16:36:54,https://api.github.com/repos/openstack/devstack/git/commits/b59c93cc44bc9ff0e041ff24805880294117f745,b59c93cc44bc9ff0e041ff24805880294117f745,"Actually generate pip freeze outputs

the shell script used is actually being run thru 'sh', not bash,
which does not understand ""[["" test operators.

Explicitly run this script with /bin/bash instead.

Change-Id: I551d2631bcb6aef49550d69b3830ffcb509abfb7"
afrittoli,2018-02-26 22:23:02,https://api.github.com/repos/openstack/devstack/git/commits/7b1d5b64ac53e4fea9c2bdb0a6e44fc90fbac067,7b1d5b64ac53e4fea9c2bdb0a6e44fc90fbac067,"Define devstack-base abstract job

Define an abstract job devstack base that does not require any
project apart from devstack. This job defines basic devstack_localrc
settings that are common to any devstack job (mostly to work with
infra) and devstack_services to emit ""disable_all_services"" so to
cancel any devstack default.

The variables are defined as global ones as well as host-vars for
the controller and group-vars for peer nodes, so that any
descendent job may extend them, thanks for Zuul dict merging.

Change-Id: I2cdb723f6ee209683044fecec59ff7b510a2752b"
hudayou,2018-02-26 10:36:59,https://api.github.com/repos/openstack/devstack/git/commits/7880904d15c1dbbea5c26ece1a30eb0850bf10ab,7880904d15c1dbbea5c26ece1a30eb0850bf10ab,"Run local script after nova cellsv2 is configured

If user try to create a server in local script before nova cells is
configured, it will run into the following error:
Host 'x' is not mapped to any cell.

Change-Id: I4fe76865fd6e16d5beb5ed9e5d6a9f3542e990a5"
jharbott,2018-02-23 13:56:48,https://api.github.com/repos/openstack/devstack/git/commits/730ce45466a903c639554b2e70f6e40a02e9e29d,730ce45466a903c639554b2e70f6e40a02e9e29d,"Create NOVA_READY_TIMEOUT in is_nova_ready function

The function was introduced in [0] using a hardcoded timeout of 60
seconds which turns out to be too small on slow machines. Create a new
global variable NOVA_READY_TIMEOUT instead so that users can
override the timeout if necessary.

[0] I32eb59b9d6c225a3e93992be3a3b9f4b251d7189

Co-Authored-By: Mohammed Naser <mnaser@vexxhost.com>
Change-Id: I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db"
jianghuaw,2018-02-23 03:49:18,https://api.github.com/repos/openstack/devstack/git/commits/e619603bdab1eebc05690e42de887614a778022a,e619603bdab1eebc05690e42de887614a778022a,"XenAPI: remove xen tools

The xen tools have been moved to the project of *os-xenapi* since
os-xenapi 0.3.0. We also did some refact work on these tools in
os-xenapi. This commit is to remove these tools from devstack. So
that os-xenapi will be the single place for xen tools.

Change-Id: I4fdbe6bce12dfedd0d1e975ab8dd624ee3740c11"
ianw,2018-02-05 03:39:18,https://api.github.com/repos/openstack/devstack/git/commits/11641ce14ddec3567187099e87f03b148aadc584,11641ce14ddec3567187099e87f03b148aadc584,"Move platform jobs to zuulv3 native

We've called the jobs that don't run on our main Ubuntu targets
""platform"" jobs; start at moving these jobs to native jobs.

Depends-On: https://review.openstack.org/541010

Change-Id: Ib64d91206a9ac677f4d77873bc54c6a84702d6c3"
ianw,2018-02-09 01:49:22,https://api.github.com/repos/openstack/devstack/git/commits/2346e9a8b531d621c1adc167d8117474f69638bc,2346e9a8b531d621c1adc167d8117474f69638bc,"Run swift-container-sync under run_process

All the evidence from [1] suggests that on opensuse swift-init is not
detaching the daemon process correctly.  It's possible there's a pipe
still in play that somehow holds our ansible-streamer open.

This is a minimal fix to avoid swift-init.  Although it's possible in
non-default paths to still use swift-init (and hence possibly hit
another variant of this issue), after discussions with swift
developers it was decided the intersection of tests running under our
current ansible, on suse, that would enable these services is
sufficiently small that this is the best course for now.

[1] https://storyboard.openstack.org/#!/story/2001528

Change-Id: I1b68c08c07cf6653ea58506f738cbe0054b38f3a"
ianw,2018-02-05 23:03:34,https://api.github.com/repos/openstack/devstack/git/commits/83ecb97fec7efde09f543fb1f5ef65bd6d4f1011,83ecb97fec7efde09f543fb1f5ef65bd6d4f1011,"Add VERBOSE_NO_TIMESTAMP flag

As described in the documentation, this flag is intended for the case
where the console output is being captured by a tool that appends its
own timestamps.

In the gate this is the job-output.txt.  We want the console output as
people like to watch that scrolling by as part of the live console
log.  Although this gets saved to job-output.txt, we still want to
keep logging to the individual log files even though it's technically
a duplicate -- in the multinode case the job-output.txt gets
interleaved by all the running nodes; it's much easier to just look at
the individual log files.  Also, people are used to it where it is :)

Change-Id: I3486636f1c76139581f6cd9668426f507b7c621d"
ianw,2017-06-16 02:56:53,https://api.github.com/repos/openstack/devstack/git/commits/e033e1b80f70c6e31364218b69f9a4fe5c8135a1,e033e1b80f70c6e31364218b69f9a4fe5c8135a1,"py3 changes for outfilter.py

I started running this with dib where we have pure python3
environments and it failed.

You can't have unbuffered text i/o in python3 for ... reasons? [1]
Changing the file to binary mode works around this.  Python3 opens
sys.stdin in text mode, so we need to manually convert the unicode
strings to bytes before we write them to the binary file.

[1] http://bugs.python.org/issue17404

Change-Id: Iebb26f0d3c2347d262cbc10dfd0912840cd05878"
ianw,2018-02-05 21:03:03,https://api.github.com/repos/openstack/devstack/git/commits/a9e946471ef029755d7dd22f70a20273578c9813,a9e946471ef029755d7dd22f70a20273578c9813,"Role apache-logs-conf: fix redhat matching

Ansible complains:

  The task includes an option with an undefined variable. The error
  was: 'dict object' has no attribute 'RedHat'

which is just a mismatch on the ""Redhat"" string

Change-Id: I447038256561740c224c68388fa5b6a068cc8fed"
pabelanger,2018-02-21 21:06:49,https://api.github.com/repos/openstack/devstack/git/commits/d3106720d22eed7861e14b746e36715adc2933ee,d3106720d22eed7861e14b746e36715adc2933ee,"Suppress more stats tasks

By default stat is pretty verbose, we can set no_log: true to avoid
adding this info to our logs.

Change-Id: Ia18ebfe179443382cc670ffc4363ab037c43bb85
Signed-off-by: Paul Belanger <pabelanger@redhat.com>"
pabelanger,2018-02-21 19:23:10,https://api.github.com/repos/openstack/devstack/git/commits/c9c39a4b043af60d06e71976dab218115ffdf524,c9c39a4b043af60d06e71976dab218115ffdf524,"Make the apache-logs-conf role even less verbose

Round 2 to add no_log to more things. Specific looping over stats, it
is pretty noise in logs and doesn't seem to add any value.

Change-Id: I580171e0061fa331f3ed510713f1ac7a1a6cb5ea
Signed-off-by: Paul Belanger <pabelanger@redhat.com>"
danielmellado,2018-02-20 11:17:55,https://api.github.com/repos/openstack/devstack/git/commits/2e9e90b9a862fee3a47ad211b712171497f13e97,2e9e90b9a862fee3a47ad211b712171497f13e97,"Fix RedHat entry in apache_config_path

With CentOS 7, ansible is expecting to have RedHat as an attribute for
the dict so Discover configurations task fails with an undefined
variable error.

Closes-Bug: #1750573
Change-Id: I5bf9c4057ca9f75d730add9e429d0ef050c6d900"
afrittoli,2018-02-19 18:34:43,https://api.github.com/repos/openstack/devstack/git/commits/fddf3430d8b3bb6bc60c6c69c344e7ae437ee894,fddf3430d8b3bb6bc60c6c69c344e7ae437ee894,"Render devstack ansible roles via zuul-sphinx

Change-Id: Ie0db5bcfdacc2543488704fe4428b68910bd6bf1"
mriedem,2018-02-18 22:14:48,https://api.github.com/repos/openstack/devstack/git/commits/a3844240ab80626adbfdfda59df0fa8133340a50,a3844240ab80626adbfdfda59df0fa8133340a50,"Set [scheduler]workers=$API_WORKERS

Since blueprint placement-claims in Pike, the Nova FilterScheduler
uses the placement service to make resource allocation 'claims'
before sending the build request to the chosen compute host to
perform the legacy style resource claim. This allows us to safely
scale out the number of scheduler workers when using the FilterScheduler.

The [scheduler]workers option defaults to ncpu if using the
FilterScheduler (which is the default scheduler driver) so to avoid
out of memory issues, we need to set $API_WORKERS scheduler workers
if using the FilterScheduler in devstack.

Depends-On: Ifdcd363d7bc22e73d76d69777483e5aaff4036e3
Change-Id: Ieae234eb5388560b3f66bf60c156a91a8e831bc4"
toshiiw,2018-02-05 07:57:41,https://api.github.com/repos/openstack/devstack/git/commits/4d835e33b6e901ef87023ce9b7d71bc21170a9e3,4d835e33b6e901ef87023ce9b7d71bc21170a9e3,"Break up fixup_stuff

Neutron functional tests want to use ubuntu cloud archive but it's
not possible to source the fixup_stuff.sh from a neutron CI setup
script. Break it up so that only the UCA portion can be executed
from neutron.

Change-Id: Ie18833bfa30f1789e63cbe9c86f5ece3453f43fb"
emonty,2018-02-15 22:41:19,https://api.github.com/repos/openstack/devstack/git/commits/22d70554acf711558c1a5018f9162eb5f1f4086c,22d70554acf711558c1a5018f9162eb5f1f4086c,"Add /volume to block-storage endpoint

The block-storage endpoint was added to the catalog, but in the suburl
case it was not added with the /volume suburl. This leads to find it and
attempting to use it but not being able to because it's mis-formed.

Needed-By: https://review.openstack.org/545117
Change-Id: I84721c8ae637417e4b01be9e546ff77c250fc149"
stmcginnis,2018-02-15 13:45:10,https://api.github.com/repos/openstack/devstack/git/commits/a4922067009b4e293811ec6aa976ef7f72363069,a4922067009b4e293811ec6aa976ef7f72363069,"Centralize setting default branch for stable branching

One of the steps when we create a new stable branch is to
branch devstack, then update the default branch for most
repos to use the new stable branch for each repo.

This requires making multiple updates throughout stackrc,
and to further complicate things, there are some repo
branch variables for branchless repos that should not be
updated along with the others.

This can be error prone if not fully aware of these
exceptions. To simplify this process a little, this
patch adds two common variables - one that can be set to
the new stable branch name for all of the repos that
should be branched, and one that can be used for all of
the branchless repos to make it explicit that those
values should be left alone. The cycle-trailing repos
have until two weeks after final release to branch, so
also adding another variable for those to make it easy
to update them at a later time, separately from the
other repos.

Change-Id: I82aa19e739eeda3721bac1cb5153ad0bf2d1125a"
mriedem,2018-02-06 22:19:38,https://api.github.com/repos/openstack/devstack/git/commits/21e3be8a5e2768f35246e2c8ac03e09a51070225,21e3be8a5e2768f35246e2c8ac03e09a51070225,"Add the nova-next job to the experimental queue

The nova-next job is being moved from openstack-zuul-jobs
to the nova repo and so we'll remove it's usage from
project-config, therefore we need to define it's usage for
devstack here.

The related project-config change is:

I36d96f89b3e5323746fcbcef5cc7e4d0384a184d

Depends-On: I24a5f73c29094a23e2fdef8ee8b43601300af593
Change-Id: I28971dc7e5cb0b5cf9698e5251a7bb099e63f3db"
cdent,2018-02-07 18:35:40,https://api.github.com/repos/openstack/devstack/git/commits/ac475bbb2a906f481b953494ba28690a716a3554,ac475bbb2a906f481b953494ba28690a716a3554,"Correct configuration setting using NUMBER_FAKE_NOVA_COMPUTE

In Change-Id Ia3843818014f7c6c7526ef3aa9676bbddb8a85ca the 'host'
setting used for each of the fake compute hosts was accidentally named
'nhost' ('\nhost' was edited poorly), so the setting doesn't actually do
anything: you create multiple nova-compute processes they think they are
all on the same host and only one hypervisor and resource provider is
created.

With the correction in place, the wait_for_compute function needs to be
updated to be aware of the fact that the hostnames on the compute
services will have a numeric prefix when the fake virt driver is used.

Change-Id: I5e8430d170c0b1c4f195ebe510aff8be59e4a3bc"
cboylan,2018-01-19 18:14:45,https://api.github.com/repos/openstack/devstack/git/commits/81fac768b5a414c7ddd347e799fb49c0ccbc1d0a,81fac768b5a414c7ddd347e799fb49c0ccbc1d0a,"Remove unneed devstack early log file

In the run devstack role we specify a path to devstack_early_log then
hand it to stack.sh as a parameter which stack.sh does nothing with.
While looking at a fix for this it was pointed out that these early logs
make it into the job's output log now so we don't need a special file
for them. Rather than handle this as a special case just let the
job-output.txt log file pick up the logs for us which allows us to
remove this unneeded feature.

Change-Id: I9bedbe91c60257d94173b1c70676dd6c2b49dc91"
ianw,2018-02-04 23:54:48,https://api.github.com/repos/openstack/devstack/git/commits/b355a9489f5da99daa5b4eb827353630a37a8138,b355a9489f5da99daa5b4eb827353630a37a8138,"Add pcre-devel for opensuse

As a follow-on for I59fc688519341c90dc33b79d536f0625a6c4dd17 add to
suse as well.

Change-Id: I72a3cf33cb98ee2eca7f027c9e28f6fbf1404002"
ajaeger,2018-02-04 16:55:54,https://api.github.com/repos/openstack/devstack/git/commits/838b833b638ee13599707d8a0be899815f201927,838b833b638ee13599707d8a0be899815f201927,"Add Zuul v3 native unit-tests

Add new job to replace legacy-devstack-unit-tests.

Change-Id: I4fe59b1954514a7146a4412e3103a0a05a9250f2"
lyarwood,2018-01-22 11:42:01,https://api.github.com/repos/openstack/devstack/git/commits/da6de10f5dda20fc023a8215b13b873a068b6a37,da6de10f5dda20fc023a8215b13b873a068b6a37,"fixed_key: By default use a hardcoded fixed_key across devstack envs

This change mimics how fixed_key would actually be deployed in a real
world environment, with a single key shared across Nova and Cinder
across all hosts.

Change-Id: I50a48e2da57a1cc1ecd250150ea6e9c3745baaca"
afrittoli,2018-01-31 21:01:36,https://api.github.com/repos/openstack/devstack/git/commits/63171eeae238c09cbda8c37fc55af0cd43edd82c,63171eeae238c09cbda8c37fc55af0cd43edd82c,"Move extensions_to_txt to the job defintion

Move extensions_to_txt to the job defintion so that it may be
extended by descendant jobs.

Depends-on: https://review.openstack.org/540485/

Change-Id: I6e9009faa1451698ed781ce1ffdd9f22c97daa93"
afrittoli,2018-02-02 17:03:24,https://api.github.com/repos/openstack/devstack/git/commits/0f39756f6158bf5cf9a7bfc7eda655b883002722,0f39756f6158bf5cf9a7bfc7eda655b883002722,"Make the apache-logs-conf role less verbose

The role is logging a lot of useless data with all the stat info
from various config and log files. Remove verbosity using no_log.

Change-Id: I72c721573ffc4a14adc3e2b29285c1071b7ec4f7"
emonty,2018-01-22 22:18:55,https://api.github.com/repos/openstack/devstack/git/commits/a904caded4269039a087292a8b7b95eb2de21142,a904caded4269039a087292a8b7b95eb2de21142,"Move zuul_copy_output to be a job variable

The zuul_copy_output variable is designed to be able to be used as
a zuul job variable so that zuul dictionary merging will work. However,
it's currently being set in the playbook rather than as a job variable,
so it's not possible to supplement it in a child job.

Move it to be a job variable. Also remove the wrapping {} as they should
not be needed to make zuul_copy_output a dictionary.

Change-Id: I78c7fed47c2ab868384c74dbff7904d33d510dd9"
jianghuaw,2018-01-30 03:18:17,https://api.github.com/repos/openstack/devstack/git/commits/540141cc1c32dbd451c0cc7805eda84c2e248a8f,540141cc1c32dbd451c0cc7805eda84c2e248a8f,"Remove libpcre3-dev&pcre-devel from horizon prerequisite

As libpcre3-dev&pcre-devel are now added as general prerequisite,
remove it from horizon prerequisite.

Change-Id: I872aec210028373c39baee0ab846469fd9920de9"
r-mibu,2017-12-25 07:28:50,https://api.github.com/repos/openstack/devstack/git/commits/842d54a2997adaf65369e56942e1d4f2b27aeb77,842d54a2997adaf65369e56942e1d4f2b27aeb77,"use openstack command instead of nova command

In function 'get_instance_ip', 'nova' client command is used to get
instance information in order to retrive IP address of the instance.

There is no need to use the nova command, since 'openstack' client
already supports such basic operation.

Moreover, 'openstack' client has an option to get value of specified
column. That brings more accurate way of retriving IP address.

This patch replaces nova command in 'get_instance_ip' by 'openstack'
command. Note, this nova command is the only one in devstack tree.

Change-Id: Iee0b81a994a4da5b3f4572c2e8eb30514cd43f89
Signed-off-by: Ryota MIBU <r-mibu@cq.jp.nec.com>"
kaitersgonnakait,2017-10-24 13:34:03,https://api.github.com/repos/openstack/devstack/git/commits/8dd918c59e630cc9e7be87b8eb35aa12079e3693,8dd918c59e630cc9e7be87b8eb35aa12079e3693,"Update nova api_class setting to backend

Castellan switches the `api_class` config option to `backend`. The change
is still backwards compatible with the old `api_class` setting, but cinder
already updated to use the new option (see I5e46c738531d5d56777e91a00f4cee9531356f2e)
and it is better to use the new setting.

Change-Id: Ib609c82e7076d19676baaf4f08abd79ea11db0e3"
jumpojoy,2018-01-23 10:06:57,https://api.github.com/repos/openstack/devstack/git/commits/64039ef3008ccacbacad5c45dbc1881af4e868fa,64039ef3008ccacbacad5c45dbc1881af4e868fa,"Increse api_max_retries and api_retry_interval for ironic

There is no way to upgrade ironic before nova because of
grenade design. In multinode job we do not restart nova
as we test partial upgrade of ironic there.
On slow nodes upgrading ironic takes time and nova looses
ironic connectivity

This patch increases api_retry_interval and api_max_retries
to make sure we have a time to upgrade ironic before nova
compute stuck.

Change-Id: I3b1429d6561431a82edda04a0e574cac38771837"
emonty,2018-01-18 23:41:04,https://api.github.com/repos/openstack/devstack/git/commits/0b45e2f8e8d120d9103e735c580e6f7396df3e29,0b45e2f8e8d120d9103e735c580e6f7396df3e29,"Remove hack for ubuntu cloud archive

There is a hack here to set up ubuntu cloud archive, pinning it to
mirror.dfw.rax.openstack.org. The mirror-info role seems to be doing
this correctly now though, so let's remove the hack and let things work
normally.

Change-Id: I283cb3452245b64e9492806f06404b484f21c358"
mriedem,2016-01-13 01:58:44,https://api.github.com/repos/openstack/devstack/git/commits/ffe691ecd5f77795666baa9317910de8d6b858e1,ffe691ecd5f77795666baa9317910de8d6b858e1,"tempest: set compute-feature-enabled.volume_multiattach

This adds the ENABLE_VOLUME_MULTIATTACH flag and if True
configures Tempest to run volume multiattach tests.

Note that due to https://bugzilla.redhat.com/show_bug.cgi?id=1378242
we can't run multiattach tests with the Pike UCA packages since
those include qemu 2.10 and libvirt 3.6, and the valid versions for
multiattach support with libvirt is qemu<2.10 or libvirt>=3.10.

Depends-On: I80c20914c03d7371e798ca3567c37307a0d54aaa
Depends-On: I158c6f20e3e6a24bd2e5299abbeb3fc5208e5885

Part of nova blueprint multi-attach-volume

Change-Id: I46b7eabf6a28f230666f6933a087f73cb4408348"
tiswanso,2017-12-16 22:14:10,https://api.github.com/repos/openstack/devstack/git/commits/bb7d2f233b92a3f9ee17ad0702fecb68bbf1e712,bb7d2f233b92a3f9ee17ad0702fecb68bbf1e712,"Allow public router external net to use a non-flat provider network.

Allow users to auto-create a neutron non-flat providernet public network
and use it for external router interfaces.  By default, keep the existing
flat network type behavior.

Change-Id: I64f71b0c9fcac97b9b84b7d30ee61659b2a690f1"
stephenfin,2018-01-18 15:12:29,https://api.github.com/repos/openstack/devstack/git/commits/ffd0047afa78bfd4d6576afe1d4b8c79435b158c,ffd0047afa78bfd4d6576afe1d4b8c79435b158c,"functions-common: Don't reguess Python versions

We have already established the correct version of Python to use during
installation, either automatically or through user-provided information
(USE_PYTHON3, PYTHON3_VERSION). Don't do it again.

Change-Id: I7bdf2be9a885994bf2c437dd104048a1ff2f6666
Closes-Bug: #1744096"
chengebj5238,2018-01-18 07:53:27,https://api.github.com/repos/openstack/devstack/git/commits/789301240adc7fa91cd34405bf87e15c3b21bc51,789301240adc7fa91cd34405bf87e15c3b21bc51,"URL changes are modified to be correct

Change-Id: Ied5ee7da0a37405f130f7cecff48919f16435952"
ianw,2017-12-04 00:32:36,https://api.github.com/repos/openstack/devstack/git/commits/dc04b5aa24411b4081f0ad08021e0dc694c982e8,dc04b5aa24411b4081f0ad08021e0dc694c982e8,"CentOS: Fix EPEL mirroring and RDO install on CI nodes

CentOS tests have reverted to using upstream for EPEL rather than
local mirrors, introducing some unnecessary instability.  The root of
the problem is that /etc/nodepool/provider disappeared with zuulv3, so
we now always re-install the EPEL repo and overwrite the local EPEL
.repos files that were made during test setup and point to local
mirrors.

The other change is that we stopped installing the RDO repositories on
the testing nodes too.  That we were incorrectly taking this path and
reinstalling EPEL has hidden the removal of these packages from the
base image in the test, since it ends up installing them too.

Split the install into two parts -- epel and RDO.  Check for
/etc/ci/mirror_info.sh (the sourcable mirror script provided by base
test setup) and if so, just enable EPEL so we get the CI-mirror
version correctly.  Install the RDO repositories (if not already
installed) unconditionally.

Change-Id: Iccb045a6695deb10da4d68a5694e1fa45ccbb810"
ghanshyammann,2017-12-10 02:11:53,https://api.github.com/repos/openstack/devstack/git/commits/23e87ef6188514b17435897fac067568f0f71ac6,23e87ef6188514b17435897fac067568f0f71ac6,"Remove deprecated 'deactivate_image' feature flag setting

'deactivate_image' feature flag was added long back during kilo
cycle. Tempest is going to remove this feature flag.

Depends-On: I843d4c64f24407d9d217005d5ea59d50d7ad62e7
Change-Id: I1ae8efc0e62acc5e05c1c00dc8970b74d8b16da0"
afazekas,2017-12-11 11:20:25,https://api.github.com/repos/openstack/devstack/git/commits/9fd38e79701b65d41116a8915e47978fc50176c6,9fd38e79701b65d41116a8915e47978fc50176c6,"Add Fedora 27 support

Removing the (f23,)f24 support they are EOL.
The only non-trivial change is the apache-httpd default worker change,
however might not be bad idea to use `event` instead of `worker`
in the future, but for now keep it AS-IS and continue to use `worker`.

Change-Id: I96d414a30b58bc4b43da45066fdf310a6a830079
Closes-Bug: #1740194"
vstinner,2018-01-08 14:20:36,https://api.github.com/repos/openstack/devstack/git/commits/b9891eea1f981fa51682f2c94f8e04f047f3dec4,b9891eea1f981fa51682f2c94f8e04f047f3dec4,"Fix Python3 get_python_exec_prefix on Fedora 27

On Fedora 27, the default Pytho 3 install prefix changed from /usr
to /usr/local:
https://fedoraproject.org/wiki/Changes/Making_sudo_pip_safe

Closes-Bug: #1741901
Change-Id: Id40620efdf173189df053b5d380a801092933f83"
snapiri,2017-09-19 06:52:00,https://api.github.com/repos/openstack/devstack/git/commits/fe4c3cfcf54f863ec10f970805528f9d3d0cc750,fe4c3cfcf54f863ec10f970805528f9d3d0cc750,"Modified the subnet-range parameter to be optional

The subnet-range parameter is only sent now if a valid value exists so
the command will not fail

Change-Id: I5296f5b59bc6d3d3db90a685a8678db9a156eece
Closes-Bug: #1718111"
snapiri,2017-12-06 12:45:06,https://api.github.com/repos/openstack/devstack/git/commits/fabaa991ca28a181909b420701bbd8e195177814,fabaa991ca28a181909b420701bbd8e195177814,"Added the ability to specify checksum for etcd

It is possibe for the user to override te etcd version, thus download a
different etcd file, but the checksum is constant, so the checksum
verification will fail in that case.
Added the ability to specify a different checksum, so the user would be
able to specify the new version checksum

Change-Id: I85af3af841ae957964f18d4e37a86ab0703882bc
Closes-Bug: #1736718"
cboylan,2018-01-04 18:16:16,https://api.github.com/repos/openstack/devstack/git/commits/2700bf88a549088285bef41fe86ac323965c8727,2700bf88a549088285bef41fe86ac323965c8727,"Gzip openstack service logs

These files are quite large and disk space is limited so make sure we
compress the log files before copying them to storage. Additionally
os-loganalyze will only operate on gzipped log files so this should fix
os-loganalyze with tempest-full job's logs.

This is mostly a check to confirm everything works as expected but we
probably want to move the gzip step into the log publication roles so
that all log files end up compressed.

Change-Id: Ie87962428e0ca755c211cc5e664a14a9f2a79ac4"
natsumetakashi,2017-12-20 02:38:23,https://api.github.com/repos/openstack/devstack/git/commits/7b1b6f3446965dda570806dfab06538e6796012e,7b1b6f3446965dda570806dfab06538e6796012e,"Fix that DISTRO is not set in unstack.sh

Change-Id: I36cab41fdb767e8e31073a4fa1f929090f702910
Closes-Bug: #1738938"
amotoki,2017-12-23 23:17:01,https://api.github.com/repos/openstack/devstack/git/commits/f8dc558486fdb484b31338aa30933e33c061638c,f8dc558486fdb484b31338aa30933e33c061638c,"Drop django_openstack_auth related code

In Queens cycle, the code of django_openstack_auth was merged into
the horizon repository. The master branch of django_openstack_auth
will be retired. (horizon blueprint merge-openstack-auth)
This commit drops django_openstack_auth related code from DevStack.

_prepare_message_catalog_compilation in lib/horizon was used only
in install_django_openstack_auth, so it is dropped too.

Change-Id: If9467c520a1e07d1968b29e485df0097330356bc"
ajaeger,2017-12-23 19:17:33,https://api.github.com/repos/openstack/devstack/git/commits/b4d772b9fdb00fbdec1304ce6fbeafaa77915071,b4d772b9fdb00fbdec1304ce6fbeafaa77915071,"devstack job: Add irrelevant-files

Do not run devstack and its siblings if only rst files, releasenotes, or
files in doc directory change.

This is the minimal set of irrelevant files shared by most projects
already.

Needed-By: Ie8504ba3d5d46f6338a228ed2d248ba6363e37ae
Change-Id: Id0095763eb91592c2fd1a913526883987df704bd"
mriedem,2017-12-22 16:39:29,https://api.github.com/repos/openstack/devstack/git/commits/f6d566c21d0b33344e58fcbc9ec388d7503570da,f6d566c21d0b33344e58fcbc9ec388d7503570da,"Configure nova_cell1.conf to use placement for reschedules

Nova now calculates alternate hosts in the scheduler and
sends those to the cell for reschedules in case a build on
a given compute node fails.

The cell conductor needs to claim resources against the
alternate hosts in Placement during a reschedule, therefore
it needs to be configured to talk to the placement service.

Part of blueprint return-alternate-hosts

Change-Id: Ie599968d9e7537e551fe6d9deb63a91b256b1e11"
Bhagyashribs,2017-12-14 07:53:41,https://api.github.com/repos/openstack/devstack/git/commits/6a25fb96c1e2c00ec2ec2c2b456d549c092ae495,6a25fb96c1e2c00ec2ec2c2b456d549c092ae495,"Initialize newly added glance-image-import config file

This patch creates a new config file glance-image-import.conf
at /etc/glance path. Also, each config option is initialized
with default values.

Need these changes to implement specs [1]:

[1]: https://blueprints.launchpad.net/glance/+spec/inject-automatic-metadata

Related-Change-Id: If14c7dc4f38360006f9cb350fbba54fa2f33be61
Change-Id: I665507db1838a50e344d3be909d7490f1f52040c"
emonty,2017-12-20 14:31:15,https://api.github.com/repos/openstack/devstack/git/commits/421753f71d1e2e88b55dcbe58672395afbeced87,421753f71d1e2e88b55dcbe58672395afbeced87,"Switch to consolidated fetch-subunit-output role

fetch-testr-output and fetch-stestr-output are being merged.

Change-Id: I00d448c4e6b98a1f504b048c74eff4e110c0b511
Depends-On: I833320cf9a932d8e119645eb798ce0c93d854321"
hjensas,2017-12-20 11:07:40,https://api.github.com/repos/openstack/devstack/git/commits/f0636bac05dfb1c963cc1eda2832259075127809,f0636bac05dfb1c963cc1eda2832259075127809,"Fixing a typo - internationalized

Assuming confusingness a few lines down is intentional ...

Change-Id: I3bd18aa32e1166bb1012ac65e83461b75be4f006"
jharbott,2017-12-11 09:24:15,https://api.github.com/repos/openstack/devstack/git/commits/49f3cc76bffaa09c710212ef6779943071bb050d,49f3cc76bffaa09c710212ef6779943071bb050d,"Make stackenv file visible

The file won't be listed as long as it is called .stackenv.txt.gz, with
this it will be called _stackenv.txt.gz instead.

Change-Id: Ib3b44c287ffb2ec0e48fefef1662a1c02d162657"
afrittoli,2017-12-15 17:35:31,https://api.github.com/repos/openstack/devstack/git/commits/a2b174168a5d9bd3558e60297bea9dd91f39a546,a2b174168a5d9bd3558e60297bea9dd91f39a546,"Stage a number of system type logs

This could be ansiblesed a more, for now more or less the bash code
from d-g wrapped in a role.

Change-Id: Ia7fe40f05ca394da9a65fef6383d72f29a532e2f"
afrittoli,2017-12-15 13:55:50,https://api.github.com/repos/openstack/devstack/git/commits/5a9872a9b90c06cddbbd4a18b16e715e3db9a939,5a9872a9b90c06cddbbd4a18b16e715e3db9a939,"Stage openstack config files

Stage config files from openstack and all projects used by the
devstack run.

Change-Id: I99f1bc71856b0da7fc5b438d13d4f508d2341e44"
afrittoli,2017-12-08 18:19:23,https://api.github.com/repos/openstack/devstack/git/commits/e6b0169a0207bed66ae7bec683b5a7a816e1dd13,e6b0169a0207bed66ae7bec683b5a7a816e1dd13,"Stage libvirt logs and sudoers

Stage libvirt logs and sudoers configuration.

Change-Id: I46112c52f05c6015a9f397eda130404beeb5e899"
afrittoli,2017-12-08 17:52:29,https://api.github.com/repos/openstack/devstack/git/commits/d04658eb50d7e1f59625039deaef17208a0c9eb9,d04658eb50d7e1f59625039deaef17208a0c9eb9,"Stage rabbitmq and DB logs

Stage rabbitmq and DB logs so they are copied to logs.o.o

Change-Id: Ica8a86c2649b2871f366e3ca48a8b47f455879bc"
afrittoli,2017-12-08 17:41:40,https://api.github.com/repos/openstack/devstack/git/commits/9c977b56eb74944b45b0f0513ac36347b526c096,9c977b56eb74944b45b0f0513ac36347b526c096,"Stage apache logs

Add apache logs to the list of things we stage.

Change-Id: I9d3d8e710ae87a71b74f96538cad6fad58dbef79"
afrittoli,2017-12-14 16:08:51,https://api.github.com/repos/openstack/devstack/git/commits/b7f8624bed8aabf52a0fbb5ac73a9fdd41400273,b7f8624bed8aabf52a0fbb5ac73a9fdd41400273,"Setup devstack-early log

The whole devstack log is written into the console output
(job-output.txt) and into devstacklog.txt.

Remove it from job-output and add a devstack-early log file (same as in
legacy job) that includes all the output of stack.sh.

Make sure the log file is pulled into the stage folder so that it will
end up on logs.o.o.

Change-Id: Ia7c1d8fe5cc03d15f455c6e62ebf4a5f6d62ab1f"
afrittoli,2017-12-14 20:35:38,https://api.github.com/repos/openstack/devstack/git/commits/71bf831a906a02c9801500bcabd4ee2b9c773f22,71bf831a906a02c9801500bcabd4ee2b9c773f22,"Add a few more devstack confs and logs

Add localrc for places where it may be still used.
Collect verify_tempest_conf.

Change-Id: I733c6472e8452ed6fc04c6de1c170713812a436f"
afrittoli,2017-12-11 14:30:59,https://api.github.com/repos/openstack/devstack/git/commits/290d9d87f4e8048078a83c19d056db0c320e1c63,290d9d87f4e8048078a83c19d056db0c320e1c63,"Use stage_dir instead of /opt/stack

Historically we have collected devstack logs under /opt/stack.
Stop doing that and collect them in the stage_dir instead, so that
once the base job logs pull service comes around we are ready for it.

This add the benefit of writing things into a folder which is
already owned by the ansible user (ansible_user_dir), so we don't
run into issue writing there.

A few logs (devstack log, log summary and dstat) use to show up on
logs.o.o. just because they happened to already be in /opt/stack/logs.
With this change they would be lost, so adding them to post.yaml.

Depends-on: I5ad4dfccbc1389da3afc53f3c866d3475e006db6

Change-Id: Ib4be2f5056c0dc2b776de4a0d18b47b12624be92"
emonty,2017-12-18 17:11:03,https://api.github.com/repos/openstack/devstack/git/commits/4187d2fc4adbebf84e5d03e2f5c1c587b4bc9d04,4187d2fc4adbebf84e5d03e2f5c1c587b4bc9d04,"Add doc/requirements.txt file with doc requirements

The sphinx jobs need to find doc requirements in either
test-requiremnts.txt or doc/requirements.txt. Putting them directly in
to tox.ini, not so much.

Change-Id: I98a43b511a6949fa4f00c26eec224d24d6fa6588"
ghanshyammann,2017-12-14 09:16:56,https://api.github.com/repos/openstack/devstack/git/commits/7a8d850dcc31597d80ddecd4c4bbba3dd37914ce,7a8d850dcc31597d80ddecd4c4bbba3dd37914ce,"Add variable to set volume service version on tempest

Tempest is going to test volume v3 APIs as default
in gate and running a separate job to run tests on v2 APIs.

To give this ability, this commit provide a var to tell
which API version need to be tested and accordingly it
configure the catalog_type and microversion setting on tempest.

Change-Id: I531f3b32e81ac5d282461597ca286c09429cb143
Needed-By: I0c9193501eb9eaa25eb5f0786bb72eb7855099fb"
liumk28,2017-12-13 07:09:02,https://api.github.com/repos/openstack/devstack/git/commits/38a23d901aa1fd55dbe0d57718124c00d4f658cb,38a23d901aa1fd55dbe0d57718124c00d4f658cb,"ceph plugin installation: umount correct device if it existed.

The loopback device is created for ceph osd. If the directory
${storage_data_dir} has been mounted when create disk, we should
umount ${storage_data_dir} instead of ${storage_data_dir}/drives/sdb1.

Change-Id: Ie9fe81c820c485dab9f049cf5a81c02424925728
Closes-Bug: #1689089"
ostackbrian,2017-12-11 23:07:50,https://api.github.com/repos/openstack/devstack/git/commits/44a19b4fdceb0d13190b26af04e5092873cd0866,44a19b4fdceb0d13190b26af04e5092873cd0866,"Clean up Glance config files

The current Glance config files are a combination of copied and
generated files.  This patch makes all the files generated and
removes now unnecssary ini(un)comment statements.  It additionally
removes some ini(un)comment statements that weren't having any
effect on the previously generated files.

Change-Id: I6e4b7694e8bebb7fe6661ead034ee257c768e342"
emonty,2017-12-06 15:07:47,https://api.github.com/repos/openstack/devstack/git/commits/e1b0c3886ba5551d3fa8c79849d6a6406037c811,e1b0c3886ba5551d3fa8c79849d6a6406037c811,"Add base jobs for functional tests

I keep copy-pasting these to projects from the shade repo. Let's make
some base jobs people can more easily use.

devstack-tox-functional runs devstack and a tox functional environment.

devstack-tox-functional-consumer is the same, but runs devstack in pre.
It's intended for projects for whom patches to the project won't
actually impact the devstack deployment (shade, nodepool, gophercloud
are all examples of such things)

Change-Id: I84de60181cb88574e341ff83cd4857cce241f2dd"
afazekas,2017-12-11 11:01:32,https://api.github.com/repos/openstack/devstack/git/commits/501aaeb4e7ee07d4c52db987d748ac75dabcaaa6,501aaeb4e7ee07d4c52db987d748ac75dabcaaa6,"lioadm make sure targetcli is there

Without installing the targetcli package
tools and configs can be missing.

The code was correct baside a typo,
it is `ISCSI` not `ICSI`

Change-Id: I32e5d84d87560458f0eaaf820dcd00c86e6dec8b"
emonty,2017-12-06 15:11:07,https://api.github.com/repos/openstack/devstack/git/commits/52804403ca821abc887e616cba758c997b46386a,52804403ca821abc887e616cba758c997b46386a,"Gate on v3 devstack job

The devstack base job in in use in many projects, but it is not being
gated here in devstack. Let's add it to the list so that we don't
accidentally break it.

Change-Id: Iea13235a8438d4b540f9f27b94aed13e719481dc"
dtroyer,2017-10-25 21:05:46,https://api.github.com/repos/openstack/devstack/git/commits/986cd13a21d34886688a1f22c6dc4a5ba8bfc6d2,986cd13a21d34886688a1f22c6dc4a5ba8bfc6d2,"Collect devstack config files in post.

Co-Authored-By: yong sheng gong <gong.yongsheng@99cloud.net>
Co-Authored-By: Dean Troyer <dtroyer@gmail.com>
Co-Authored-By: Andrea Frittoli <andrea.frittoli@gmail.com>

Change-Id: Id9ad3be4be25e699f77d6b5a252f046ce8234f45"
afrittoli,2017-12-01 17:36:38,https://api.github.com/repos/openstack/devstack/git/commits/7d4446541d6265491999efc536bc88520beadace,7d4446541d6265491999efc536bc88520beadace,"Set the base set of services

Use the test-matrix role from devstack-gate to define a base set of
services to be enabled for the controller and compute nodes.

Extend the local conf module to handle the base set of services.

Since the test-matrix defines services for primary and subnode nodes, we
need a multinode job to test that this works. Add a new host group
called subnode that includes the non-controller hosts. Add a new job
that runs devstack on a two nodes environment.

Using service from the test matrix enables swift in the gate, so we need
to set SWIFT_HASH for devstack to work.

Depends-on: Ie36ba0cd7cfcd450b75000a76a64d856f2a83eba
Depends-on: Id9ad3be4be25e699f77d6b5a252f046ce8234f45
Change-Id: I379abf482c89122533324e64fefbff3d5a618a89"
cdent,2017-12-05 23:46:58,https://api.github.com/repos/openstack/devstack/git/commits/1489b9e7101fef6270eea008917b08f3da91a771,1489b9e7101fef6270eea008917b08f3da91a771,"Move remove_uwsgi_config to cleanup_placement

It had been in stop_placement, but we don't want it there: the old
side of grenade needs to call that but should not remove the uwsgi
configuration when doing so. It is configuration, after all.

Change-Id: Iee763adf7895145d97b184924896db3f1f48a015
Partial-Bug: #1736385"
afrittoli,2017-11-30 15:49:39,https://api.github.com/repos/openstack/devstack/git/commits/5551170ad3902de9c3f271122821a9822658ad50,5551170ad3902de9c3f271122821a9822658ad50,"Allow jobs to disable all services

Several legacy jobs use the OVERRIDE_ENABLED_SERVICES variable
from d-g so set the list of services that should be enabled and
ignore the default set calculated via the feature matrix.

Add support for a similar functionality in the zuulv3 jobs
using the 'disable_all_services' localconf function.

Change-Id: I690554ec62cef3be600054071efbb3f92a99249e"
lkuchlan,2017-08-30 04:36:11,https://api.github.com/repos/openstack/devstack/git/commits/cb8256f22531b59470703ca4090064cba4a0b55e,cb8256f22531b59470703ca4090064cba4a0b55e,"Add fixed_key parameter under key_manager section in cinder conf

This change is necessary for uploading an encrypted volume to glance.

Change-Id: I0975fc0c49ec243025d076f0406e28c4f5522d3a"
emonty,2017-12-03 16:21:26,https://api.github.com/repos/openstack/devstack/git/commits/e46f22db7fcb6e9aae5922d650eda14a15231fb8,e46f22db7fcb6e9aae5922d650eda14a15231fb8,"Add workaround for openstacksdk in check_libs_from_git

python-openstacksdk does not match its pip name which is openstacksdk.
So setting python-openstacksdk in LIBS_FROM_GIT leads to devstack
thinking there is a problem.

Put in a workaround for now. It would be better to either:

  a) rename python-openstacksdk repo to openstacksdk
  b) rename the pip name for openstacksdk back to python-openstacksdk
  c) add general support in the various GIT hashes for a pip name

Change-Id: I57cf95763d54ad2060a4ce2af91c3ba18ca04db0"
emonty,2017-12-03 16:11:12,https://api.github.com/repos/openstack/devstack/git/commits/9ef3e8448580e9d166e1a4669a036da0205243b5,9ef3e8448580e9d166e1a4669a036da0205243b5,"Add python-openstacksdk to python3 enabled list

It's perfectly with with python3, add it to the list.

Change-Id: Ieb9f563a2f95e78a994cef388e56a6d5a84c8935"
stmcginnis,2017-11-30 20:15:04,https://api.github.com/repos/openstack/devstack/git/commits/1d127849121974fe6c8161eabe5ebd7151fa4f4d,1d127849121974fe6c8161eabe5ebd7151fa4f4d,"Remove Cinder policy.json install

Cinder has now implemented ""policy in code"" and policy.json is
only needed for overriding default policies. The default policy.json
file has been removed in Cinder so we need to stop trying to copy
it during Cinder setup.

Change-Id: I364e401227fe43e2bacf8a799e10286ee445f835"
dims,2017-11-28 13:20:48,https://api.github.com/repos/openstack/devstack/git/commits/27367bea48a14ce991f6e60400d61ab2aa11532b,27367bea48a14ce991f6e60400d61ab2aa11532b,"Allow overrides for ETCD ports

This will enable us to run one etcd for devstack and another
for kubernetes in the same box if necessary

Change-Id: Ib71ded24727b80afd4d98eb68bade0f8c0f72311"
hongbin,2017-11-29 18:21:30,https://api.github.com/repos/openstack/devstack/git/commits/ad180e0e35d45ebe15840e02dbba835d864a2c58,ad180e0e35d45ebe15840e02dbba835d864a2c58,"Install etcdctl along with etcd3

It is better to have this command line tool for debugging etcd.

Change-Id: Ie0eb79d4e543df29ce6a38b57c8ef57a5d2211b4"
bclau,2017-06-12 16:32:21,https://api.github.com/repos/openstack/devstack/git/commits/34c1679f2ee42df40c32ad96b4269f94721dc8d4,34c1679f2ee42df40c32ad96b4269f94721dc8d4,"use master upper-constraints when building tempest venv

The local requirements repo can be checked out to a stable branch,
in which case, the requirements might conflict with tempest's master
requirements.

Master branch's upper-constraints should be used when building tempest's
venv.

Closes-Bug: #1706009

Change-Id: Ifd64638cae2886671421149dbbff3a57f9c64257"
rabi,2017-11-22 02:44:29,https://api.github.com/repos/openstack/devstack/git/commits/b5fb7fd627fe24876a8dd2782fce065cf1957b55,b5fb7fd627fe24876a8dd2782fce065cf1957b55,"Fix lib_installed_from_git

In commit f0cd9a8b08d92524fc8e2c3f05d08cdebc638e2a we changed to
use column format, but it checks for zero length string and
check_libs_from_git fails.

Change-Id: I97b52b80efb33749647229a55147a08afa112dd2"
Yikun,2017-09-07 09:56:13,https://api.github.com/repos/openstack/devstack/git/commits/1a2c86cff99d5628f93105c8d4ed815baf781941,1a2c86cff99d5628f93105c8d4ed815baf781941,"Cleanup nova cell configuration before config it

Some old configuration(such as, LOG_COLOR config) will remain
if we don't cleanup.

So, we should cleanup the configuration before we config it.

Change-Id: I7aff609dadf3acba13a36894614b35005f51280d"
ianw,2017-11-16 23:33:11,https://api.github.com/repos/openstack/devstack/git/commits/0d0b69027bc2b0195ed365619be78466867311ec,0d0b69027bc2b0195ed365619be78466867311ec,"Restore qemu-kvm install for CentOS

The kvmibm removal I009ae4779588615633bff81d0c47a1b879ec9279
incorrectly removed this (the check was install if *not* kvmibm).
Since we don't support kvmibm any more, it should be safe to install
everywhere as done here.

For the full history, it started with us installing qemu-kvm-ev with
Ide91b261f35fb19d8bd7155ca016fa3b76a45ea1, then we fixed it to be more
generic and just install qemu-kvm with
I46da627c0da8925064862fdc283db81591979285, then Fedora 26 support in
I5c79ad1ef0b11dba30c931a59786f9eb7e7f8587 made this install everywhere
*but* kvmibm.

Change-Id: If3e9661451ad1055e7c8d670605a53095f0aeda4"
jharbott,2017-11-03 14:14:53,https://api.github.com/repos/openstack/devstack/git/commits/83194f956e1c5308386adbf7146626e75875bcfe,83194f956e1c5308386adbf7146626e75875bcfe,"Update supported Ubuntu releases

With the release of 17.10(artful), support for 16.10(yakkety) has ended.
Update our list of supported distros accordingly.

Change-Id: Id85e00f109cfd43141dec0c0d2bfedb66f14e664"
dulek,2017-11-14 15:04:51,https://api.github.com/repos/openstack/devstack/git/commits/3b815a3cb2537885b501ad559bfd69ad5efb9085,3b815a3cb2537885b501ad559bfd69ad5efb9085,"Provide finite value for systemd's TimeoutStopSec

This commit switches TimeoutStopSec in DevStack's systemd unit files
from ""infinity"" to ""300"". There are two motivations for that change:

* 5 minutes should be more than enough to stop a service.
* systemd included in CentOS 7 and RHEL 7 doesn't support ""infinity"" as
  a value, ""0"" should be provided instead. When ""infinity"" is set,
  systemd will kill the service instantly, leaving service children
  processes orphaned. Instead of differentiating here, we can just set a
  sane, finite number.

Closes-Bug: 1731275
Change-Id: I0a079ea9879fa4fbba23104c2f5ab6e0721a2a2a"
jharbott,2017-11-03 08:37:21,https://api.github.com/repos/openstack/devstack/git/commits/1db9b5d3cab9ecfdc3505ea40ac4f504075fbea0,1db9b5d3cab9ecfdc3505ea40ac4f504075fbea0,"Remove apache tls-proxy sites when stopping

Currently doing a cycle of

    ./stack.sh; ./unstack.sh; ./stack.sh

fails because the leftover tls-proxy sites will cause apache startup to
fail on the second stack.sh run. So we need to disable these sites on
running stop_tls_proxy.

Change-Id: I03e6879be332289d19ca6a656f5f9f139dffff6f
Closes-Bug: 1718189"
dirkmueller,2017-09-23 12:45:42,https://api.github.com/repos/openstack/devstack/git/commits/1d968d7a542c7a271d72aac08fdd7fe8b235011f,1d968d7a542c7a271d72aac08fdd7fe8b235011f,"Switch to mariadb on openSUSE

The mysql-community-server is a compat provide, openSUSE uses
mariadb for quite some time. Make it futureproof in case
the compat provide goes away in the future. Cleanup
mysql service name to MYSQL_SERVICE_NAME and consistently
use it.

Change-Id: I2df7b8d8b798dfa7ceade90e0c127e0609524a8b"
caoweigit,2017-11-01 03:45:21,https://api.github.com/repos/openstack/devstack/git/commits/32ecccaeef1b06bb48fc6fe066be4f42332e5a2a,32ecccaeef1b06bb48fc6fe066be4f42332e5a2a,"Add ""sudo"" before the journalctl command

Change-Id: I41c396f704918e88168c9a9c6cc9e633e7a81437"
chkumar246,2017-10-26 10:04:05,https://api.github.com/repos/openstack/devstack/git/commits/e8db8674855634dadd90adaadd4381f70c7227ed,e8db8674855634dadd90adaadd4381f70c7227ed,"Change ENABLE_KSM to $ENABLE_KSM

* Since ENABLE_KSM param will be used in local.conf file
  and it's value is received in a variable and while compairing,
  the variable needs to be compared. So we need to change the
  same.

Change-Id: Id4ed17c0642acd2313e456503cfc375ca6f61409
Closes-Bug: #1724690"
emonty,2017-10-21 16:04:49,https://api.github.com/repos/openstack/devstack/git/commits/c9e109f1359e2310fab1190d164a28822fc09208,c9e109f1359e2310fab1190d164a28822fc09208,"Disable nested virt in base devstack job

We were doing this in devstack-gate. The gate can't handle nested virt.

Change-Id: Ie71663c3144908ddd134fa5a5b1b2d265a60edcf"
cboylan,2017-10-20 19:14:29,https://api.github.com/repos/openstack/devstack/git/commits/065779517f9c99a80fbc39d51784c614e4ee341c,065779517f9c99a80fbc39d51784c614e4ee341c,"Properly get pip version

The old code was strip()ing the version string instead of split()ing the
version string so we always got the first character of the version
string. This worked fine as long as the pip version was single digit but
as soon as it rolls over to '10.stuff' we will compare:

  pip version 1 (instead of 10) > 6

Which fails bceause 1 is less than six. Instaed we really do want to
compare 10 > 6 so use split on '.' instead.

Change-Id: Ic7d0c04d7fa77774ab2d70fb9d11f182becec553"
ianw,2017-10-20 03:21:33,https://api.github.com/repos/openstack/devstack/git/commits/d8753b7dc997b5b5558ae4bbe3e14ffd0209666b,d8753b7dc997b5b5558ae4bbe3e14ffd0209666b,"Use configure-swap from o-z-j

Use the generic role

Change-Id: I534ed0256b7dfe5bef4ab13ae57cd73c51e8bd15
Depends-On: I0e9c846ace7fac8a1340746c6818fba6ec963018"
berrange,2016-11-10 13:03:32,https://api.github.com/repos/openstack/devstack/git/commits/e9870eb18d19dbb807d4d312cf4aead23c6f8f40,e9870eb18d19dbb807d4d312cf4aead23c6f8f40,"nova: add support for TLS between novnc proxy & compute nodes

Nova is gaining the ability to run TLS over the connection between the
novnc proxy service and the QEMU/KVM compute node VNC server.

This adds a new config param - 'NOVA_CONSOLE_PROXY_COMPUTE_TLS=True' -
which instructs devstack to configure libvirt/QEMU to enable TLS for the
VNC server, and to configure the novncproxy to use TLS when connecting.
NB this use of TLS is distinct from use of TLS for the public facing API
controlled by USE_SSL, they can be enabled independently.

This is done in a generic manner so that it is easy to extend to cover
use of TLS with the SPICE and serial console proxy services too.

Change-Id: Ib29d3f5f18533115b9c51e27b373e92fc0a28d1a
Depends-on: I9cc9a380500715e60bd05aa5c29ee46bc6f8d6c2
Implements bp: websocket-proxy-to-host-security"
emonty,2017-10-06 18:11:48,https://api.github.com/repos/openstack/devstack/git/commits/f0cd9a8b08d92524fc8e2c3f05d08cdebc638e2a,f0cd9a8b08d92524fc8e2c3f05d08cdebc638e2a,"Update lib_install_from_git to use column format

The pip list command supports a --format=columns option which outputs
things in space delimited columns. Switch to using that.

Change-Id: I5140a7d83bf567b1c3c67516112eb4c57074fa53"
JanZerebecki,2017-10-17 16:27:47,https://api.github.com/repos/openstack/devstack/git/commits/2c2ca80ce0caadc9efa18c9f9289f6b98b3c486e,2c2ca80ce0caadc9efa18c9f9289f6b98b3c486e,"Fix libvirt daemon name condition

This makes the condition that chooses which daemon name libvirt to call
the same as for choosing the livirt package names.

Without this fix the condition checking for a directory is incorrect
when livirt is not yet installed, but is used before installing the
packages.

Change-Id: Ib5eb12769128527a6f4b3b5f7674bd2dad0ed160"
emonty,2017-10-02 15:05:17,https://api.github.com/repos/openstack/devstack/git/commits/36ddea31a257b38aa22d3232f4c4389c851f5456,36ddea31a257b38aa22d3232f4c4389c851f5456,"Add devstack base job for zuul v3

This should be managed in the devstack repo, since it's a base job to
run devstack.

Change-Id: Iffe54fbccbccd68db08f79a1b51dd7f76dbff408
Depends-On: Ie2119f24360d56690ffd772b95a9ea6b98dd4a39"
sjamgade,2017-10-13 13:08:27,https://api.github.com/repos/openstack/devstack/git/commits/135ebe955e19992e54350e2ed70c5f0517c93b26,135ebe955e19992e54350e2ed70c5f0517c93b26,"Revert ""Resolve openSUSE devstack failures""

This reverts commit d325875508e7d35d6dd62302d852e83815be2278.
the issue mentioned in the comment is now resolved.

Change-Id: I2705daead3d3b95f6ad82261212f2a1f40a77fb5"
jianghuaw,2017-09-21 14:16:06,https://api.github.com/repos/openstack/devstack/git/commits/843b039b3ca24c79865d991df43bfcd5ebe0b97b,843b039b3ca24c79865d991df43bfcd5ebe0b97b,"Use the renamed vnc options

As the following commit has renamed the two vnc options; let's
use the new options in devstack:
https://review.openstack.org/#/c/498387/

Change-Id: Id125666814ea9bb8a22b579aee0f6bc1c65ade80"
oomichi,2017-10-11 16:57:25,https://api.github.com/repos/openstack/devstack/git/commits/2da019f133bb3e53ef67e33cfd269a9b6a72d27a,2da019f133bb3e53ef67e33cfd269a9b6a72d27a,"Replace the deprecated nova_metadata_ip

As [1], the option nova_metadata_ip has been deprecated and
we can use nova_metadata_host instead. This patch makes devstack
do it.

[1]: http://git.openstack.org/cgit/openstack/neutron/tree/neutron/conf/agent/metadata/config.py#n49

Change-Id: Ifda43ec8c7743af6acdd3003c55c081ef5b1311c"
rgerganov,2017-10-10 13:51:12,https://api.github.com/repos/openstack/devstack/git/commits/2b97a81640df1f8d537d6cf7b291f15d8f084a18,2b97a81640df1f8d537d6cf7b291f15d8f084a18,"Remove references to $USE_SCREEN in comments

The USE_SCREEN variable is not used any more

Change-Id: I29ad9cdb6c8498404502d91fbc4e1299bf4a633e"
markuszoeller,2017-09-26 06:32:50,https://api.github.com/repos/openstack/devstack/git/commits/b8335eebe88f5ebe0c1d42344ced60e55ead3c5e,b8335eebe88f5ebe0c1d42344ced60e55ead3c5e,"Drop support for ""kvmibm"" distro

The IBM hypervisor distro ""KVM for IBM z Systems"" gets discontiued,
like announced in March 2017 [1]. The key dates are:

* 03/2017: announcement
* 08/2017: the last day to order (EOM)
* 03/2018: the End of Service (EOL)

As the CI which tests OpenStack with KVM on IBM Z doesn't rely on this
distro anymore and EOM has reached, we remove the Devstack support for
this distro.

This basically reverts commit a5ea08b of Dec 2015.

NOTE: This doesn't affect other distros which have KVM on Z support.

References:
[1] FAQ for KVM for IBM z Systems Delivery Strategy Change
    https://www-01.ibm.com/common/ssi/cgi-bin/ssialias?htmlfid=ZSQ03110USEN&

Change-Id: I009ae4779588615633bff81d0c47a1b879ec9279"
zaneb,2017-10-05 20:51:09,https://api.github.com/repos/openstack/devstack/git/commits/9e7ead9ac2e791f70542741aa2c84e7ad828ac7a,9e7ead9ac2e791f70542741aa2c84e7ad828ac7a,"Calculate package directory correctly in pip_install

Strip the [<extras>] string from a <package_dir>[<extras>] argument
when looking for the package directory.  Explain what the heck is
going on.

Change-Id: I79beb5c3e9e7c35c91cdd0d5a1d91532bebc4b6d
Closes-Bug: #1721638"
cboylan,2017-09-30 16:55:38,https://api.github.com/repos/openstack/devstack/git/commits/56131eb11fa431a13028e90f179e5444c0297f2a,56131eb11fa431a13028e90f179e5444c0297f2a,"Move glance auth cache creation to configure_glance

We install the glance api on all nodes in multinode testing. This has
been failing because we don't configure the glance auth cache dirs if
we only install the glance api service. This was done as part of
init_glance which is only run when installing g-reg.

Fix this by moving the auth cache dir creation step into
configure_glance which is run for the glance api.

Change-Id: Ie669827507df0f524e6e53fe4ab3dff848dd4bd7"
ianw,2017-10-03 22:51:02,https://api.github.com/repos/openstack/devstack/git/commits/1f82f43016f5e3c51560c8b7c0b9c07350731f6c,1f82f43016f5e3c51560c8b7c0b9c07350731f6c,"Revert ""Remove cache dirs from the services""

This reverts commit ef5ebed6c9ca3d9d47fd2a732a1542555a0f65ba.

The problem here is a backwards-incompatible change to
configure_auth_token_middleware.  Plugins are still passing a
""signing_dir"" which is interpreted now as the ""section"" argument
... this leads to an interesting red-herring issue; because ""v"" is a
gnu sed command for checking the version, a signing_dir of ""/var/...""
(as done in most plugins) gives the weird error:

 sed: -e expression #1, char 32: expected newer version of sed

I think we'll either need a new function, or dummy arguments to get
this back in.

Change-Id: I2098d4eb2747282622cf486fa7dbf216f932f58b"
ianw,2017-09-29 00:16:47,https://api.github.com/repos/openstack/devstack/git/commits/ae9c6ab759d9dc1c7e72159092539444ca03cf33,ae9c6ab759d9dc1c7e72159092539444ca03cf33,"Use ""pip list"" in check_libs_from_git

As described in the change, ""pip freeze"" has issues with the way
zuulv3 clones repos without a remote.  This is an attempt to use ""pip
list"" to check for local install

Change-Id: I33d25f86b6afcadb4b190a0f6c53311111c64521"
ianw,2017-09-28 22:42:34,https://api.github.com/repos/openstack/devstack/git/commits/5b419ffb1f20dfe613bd694fab8c1f08c8db7cce,5b419ffb1f20dfe613bd694fab8c1f08c8db7cce,"Don't check_libs_from_git for now

""pip freeze"" reports an error when checking because the repos don't
have a remote under zuulv3

---
Error when trying to get requirement for VCS system Command ""git
config --get-regexp remote\..*\.url"" failed with error code 1 in
/opt/stack/new/keystone, falling back to uneditable format

Could not determine repository location of /opt/stack/new/keystone
Complete output from command git config --get-regexp remote\..*\.url:

---

This means this check fails.  I think we can fix this by looking at
""pip list"" which I will propose in a follow-on, but this fixes the
immediate breaking issue.

Depends-On: Ib12ddf768ee20fd7614622179f6842f5d57864ff
Change-Id: I21ff749ab3e7911fa074e6d53056768f42f8aa57"
jharbott,2017-09-28 11:56:40,https://api.github.com/repos/openstack/devstack/git/commits/59251693e7e0e576b26a33633cfff5d92d0a700e,59251693e7e0e576b26a33633cfff5d92d0a700e,"Add a note about overriding the journalctl nowrap default

Hoping that this helps people who consider this as annoying as I do.

Change-Id: I45e71301efb8d9a17989b57232a142e786175c2a"
mriedem,2017-09-27 20:45:25,https://api.github.com/repos/openstack/devstack/git/commits/ba4830b84e529943353e71f375ab6538f37efa02,ba4830b84e529943353e71f375ab6538f37efa02,"Download default image when using VIRT_DRIVER=fake

Change f119121d21fa0446197b26378091677daac1606a removed
the default image to download which meant if you were using
the fake virt driver, no image would get downloaded and
tempest setup would fail.

This adds it back in but doesn't use a wildcard.

The default image is the same as before, but uses the
variables that are also used for the default libvirt image
case.

Change-Id: I80eddd0d3a99572ed494b5cd36fed8ceb4d05d77
Closes-Bug: #1720003"
dirkmueller,2017-09-26 08:15:28,https://api.github.com/repos/openstack/devstack/git/commits/602a057fe0d0b357533feb84d87256edfb7970e2,602a057fe0d0b357533feb84d87256edfb7970e2,"Fix dstat dependencies for memory_tracker on SUSE

Memory_tracker imports psutil, but does not run inside a pip/virtualenv
so the system provided psutil library needs to be provided. This
is matching what is done for other non-SUSE distributions

Change-Id: I96f944730dc8644333d906d71339351b29b03e08"
jamielennox,2017-09-24 23:38:38,https://api.github.com/repos/openstack/devstack/git/commits/ef5ebed6c9ca3d9d47fd2a732a1542555a0f65ba,ef5ebed6c9ca3d9d47fd2a732a1542555a0f65ba,"Remove cache dirs from the services

PKI tokens have been actively deprecated from keystone and there are
deprecations being emitted from keystonemiddleware. Because of this we
no longer need an auth cache directory in the services where the PKI
certifcates used to be stored.

Remove the creation and use of all these AUTH_CACHE directories.

Change-Id: I5680376e70e74882e9fdb87ee1b95d5f40570ad7"
mriedem,2017-09-23 00:54:39,https://api.github.com/repos/openstack/devstack/git/commits/5085dc0fa50da4a78820c814005f89ab02d36d84,5085dc0fa50da4a78820c814005f89ab02d36d84,"doc: add journalctl example for grepping the logs

I had to dig around for awhile to figure this out, so
this adds an example on how to grep journalctl nova logs
for a server instance UUID.

Change-Id: I6a5c47fbcba3af1822e2f9efc2ac20ebe0387f3f"
stmcginnis,2017-09-22 12:49:15,https://api.github.com/repos/openstack/devstack/git/commits/32712717788d9ff373afd4ecd20b3c4f9079b260,32712717788d9ff373afd4ecd20b3c4f9079b260,"Change Cinder api_class setting to backend

Castellan switched the `api_class` config option to `backend` in commit
8980bf7da55dd084ad84c84534fe937f0d43b9c0. The old setting will still be
recognized for now, but we should switch to using the new, correct config
option.

Change-Id: I5e46c738531d5d56777e91a00f4cee9531356f2e"
dirkmueller,2017-09-20 20:49:44,https://api.github.com/repos/openstack/devstack/git/commits/062829c3f600bef1187c3d8a4baca6f66327b62a,062829c3f600bef1187c3d8a4baca6f66327b62a,"Drop MySQL-python installation from packages

We want that one to be installed via pip, if we still use it
(by default PyMySQL is used, which is already installed via
pip as well).

Change-Id: I76454aa7f84379aa387b144686bcfaa327b141ed"
dirkmueller,2017-09-25 11:53:10,https://api.github.com/repos/openstack/devstack/git/commits/721f7c2cd0f8c1e4dba95f5f6be7ff342b355f01,721f7c2cd0f8c1e4dba95f5f6be7ff342b355f01,"Switch DEVSTACK_SERIES to queens

pike is handled in stable/pike branch for some time
already.

Change-Id: I47dc5bf661c50b3b05c19ad665c2671f807233ae"
jharbott,2017-09-25 11:36:20,https://api.github.com/repos/openstack/devstack/git/commits/07a8823d4f42ceb8146cf5eb8b1fffcbb4599e25,07a8823d4f42ceb8146cf5eb8b1fffcbb4599e25,"Update default etcd version

There have been a couple of new stable releases in the meantime, update
to using v3.1.10 which is the currently latest stable version.

Change-Id: Ifa1421c9f12af9753052f992929deb7ebd45e804"
dirkmueller,2017-09-25 11:08:51,https://api.github.com/repos/openstack/devstack/git/commits/5ef8a125cc3a8b8f461a9636001c0ad7f6f88957,5ef8a125cc3a8b8f461a9636001c0ad7f6f88957,"Install minimal lsb-release package on openSUSE

lsb-release is a dependency of ""lsb"", so it used to work
before just fine as well, but it was installing about 300MB
of ""stuff"" that we don't actually need..

Change-Id: I25c7c750cbaeb40bf4f2e8695608c4b1003289ea"
dirkmueller,2017-09-23 12:37:58,https://api.github.com/repos/openstack/devstack/git/commits/3a59c9d7e3e54f3d3d4e64cd6c42fc1572d9ca17,3a59c9d7e3e54f3d3d4e64cd6c42fc1572d9ca17,"Remove deprecated forbid_global_implied_dsr

This setting was only useful for Mitaka and older, however Mitaka
is now EOL.

Change-Id: Ia1eb87d68a6265d8541cb87a88523246885e5a8a"
mriedem,2017-09-23 00:51:38,https://api.github.com/repos/openstack/devstack/git/commits/66a14df49ebe99805e6a332a2c346ba3e1290a68,66a14df49ebe99805e6a332a2c346ba3e1290a68,"doc: prefix journalctl examples with sudo

In a devstack environment you likely need to use sudo
to run the journalctl command, so this adds that to
the examples.

Change-Id: Ibe6b71285a3014e80e06a50130f18bfbdb4ff3ab"
emonty,2017-09-19 19:22:19,https://api.github.com/repos/openstack/devstack/git/commits/03ae3c485e497296146a102f89853fd4063a20db,03ae3c485e497296146a102f89853fd4063a20db,"Fix comment wording nit

Change-Id: I558522121099f14d380c163a2c397b34335b03df"
mtreinish,2017-09-22 19:07:36,https://api.github.com/repos/openstack/devstack/git/commits/c4b0059c6b9818e622f9fb010719d6c92de9d91d,c4b0059c6b9818e622f9fb010719d6c92de9d91d,"Disable the v2.0 identity API by default

The v2.0 identity API is being removed in the Queens release, but in
order to do so we need to stop some v2.0 tempests tests from being
run. This commit switches the default to disable the keystone v2 api.
In a future commit after the removal of the api from keystone the bits
to deploy the v2 api will be removed.

Change-Id: I5afcba6321f496b8170be27789bee7c9ad8eacce"
weiyuanke,2017-09-17 14:18:07,https://api.github.com/repos/openstack/devstack/git/commits/c652a498fb6ae1cdd7480b590be0f1e843768666,c652a498fb6ae1cdd7480b590be0f1e843768666,"Fix partial download problem

(1) when checksum fails, better delete the broken files and try the second time;
(2) amazon s3 is not good in mainland China, better try one more time with wget

Change-Id: I24ee73f216b78bd80564863cd335e5d5a9b56360"
booxter,2017-02-24 06:24:47,https://api.github.com/repos/openstack/devstack/git/commits/e3915938f35737fc231ab7b8b9981dae9048438e,e3915938f35737fc231ab7b8b9981dae9048438e,"Configure bridge_mappings for ovs and linuxbridge agents

Otherwise neutron will fail to bind external ports because of missing
entries for external physical network in the mapping.

Configure it only when l3 agent is also installed on the node (otherwise
the l2 agent is not exposed to external network and hence doesn't have
the bridge).

Change-Id: I561b74538acb0dc39f1af3e832108ce6a99441b0"
mriedem,2017-09-20 14:46:48,https://api.github.com/repos/openstack/devstack/git/commits/917ad0998be8c48bfcc0e3031bc1b75cd9ed1927,917ad0998be8c48bfcc0e3031bc1b75cd9ed1927,"Update to using pike cloud-archive

This reverts commit ee22ca8373abd3b5a4c44a9c5c4da39c511195c8

Depends-On: Iae2962bb86100f03fd3ad9aac3767da876291e74

Change-Id: I4d5fa052bdc5eef1795f6507589e2eaf4e093e23
Related-Bug: #1718295"
jharbott,2017-09-20 06:18:08,https://api.github.com/repos/openstack/devstack/git/commits/146332e349416ac0b3c9653b0ae68d55dbb3f9de,146332e349416ac0b3c9653b0ae68d55dbb3f9de,"Make etcd3 setup work with IPv6 addresses

The client are told to connect to SERVICE_HOST instead of HOST_IP, so
we need to start etcd3 with matching listening parameters.

Change-Id: I96389090180d21d25d72df8f9e8905b850bcaee9
Partial-Bug: 1656329"
jharbott,2017-09-19 17:43:48,https://api.github.com/repos/openstack/devstack/git/commits/7617ac208596665061453dfa04b75e4cc8a76ac9,7617ac208596665061453dfa04b75e4cc8a76ac9,"Make is_ipv4_address a bit more robust

Still not ideal, but at least should avoid matching IPv6 addresses.

Change-Id: Ibb64263fdb0308f56c18518289501dd4642dcbad"
mriedem,2017-09-20 00:29:36,https://api.github.com/repos/openstack/devstack/git/commits/ee22ca8373abd3b5a4c44a9c5c4da39c511195c8,ee22ca8373abd3b5a4c44a9c5c4da39c511195c8,"Revert ""Update to using pike cloud-archive""

This reverts commit a7e9a5d447b3eeacfb52d7ddc94445058a8d6fd1.

The jobs that run live migration tests are failing at about
a rate of 50% since this merged. There are no recent changes
to nova in the last 24 hours that are related to live
migration, and this is failing on the master branch only,
so I suspect the failures are due to new qemu packages
getting pulled in from this change.

Change-Id: Ic8481539c6a0cc7af08a736a625b672979435908
Closes-Bug: #1718295"
jharbott,2017-09-19 09:10:21,https://api.github.com/repos/openstack/devstack/git/commits/b2330c89196c65662fcf98a2295b7e41b1652b28,b2330c89196c65662fcf98a2295b7e41b1652b28,"Fix memcached_servers setting

By default memcached is bound to 127.0.0.1 and we have no code in place
to change that. So instead of using the $SERVICE_HOST variable, we
hardcode it to localhost, just as we do for the cache settings, see [1].

This also avoids a bug that occurs when $SERVICE_HOST contains an IPv6
address, as in that case it would have to be prefixed by ""inet6:"" [2].

[1] I95d798d122e2a95e27eb1d2c4e786c3cd844440b
[2] https://bugs.launchpad.net/swift/+bug/1610064

Change-Id: I46bed8a048f4b0d669dfc65b28ddeb36963553e0
Partial-Bug: 1656329"
JohnVillalovos,2017-09-07 22:33:57,https://api.github.com/repos/openstack/devstack/git/commits/5ad4e58868bf48a72841bee313fd2aae61b6ddf7,5ad4e58868bf48a72841bee313fd2aae61b6ddf7,"Display unaccounted time in ""DevStack Component Timing""

In the ""DevStack Component Timing"" section, display the unaccounted
time.

Also add the units (seconds) to the output to make it clear to viewers.

Change-Id: Iaca82cc54a355f7077e20e548b771e53387f6628"
javierpena,2017-09-15 13:55:00,https://api.github.com/repos/openstack/devstack/git/commits/6bd4924cec73908225e6744b1b00dd86cb39d3ed,6bd4924cec73908225e6744b1b00dd86cb39d3ed,"Ignore stderr when checking for Python version

https://review.openstack.org/504171 prevented Python version detection
from failing when python3 is not installed. However, ""which python3""
returns a message in stderr when python3 is not there, and this output
can make diskimage-builder get confused when parsing
source-repository-images.

Change-Id: Idb649dc341ede73c39954b0432ef3cacf379ed37"
sdague,2017-09-14 18:59:25,https://api.github.com/repos/openstack/devstack/git/commits/4324f4ecd99f3cc50dea585bc8b5a680327e54bc,4324f4ecd99f3cc50dea585bc8b5a680327e54bc,"Fix devstack python detection if python3 is missing

On platforms without python3 installed devstack fails the python
version check. This does it more gracefully.

Change-Id: I4d79a41eb2d66852ab1a1aa8bd383f8e3e89cdc0"
booxter,2017-09-14 15:25:59,https://api.github.com/repos/openstack/devstack/git/commits/387aadd14e87f2890ad8969c15edbe9f1d218a5a,387aadd14e87f2890ad8969c15edbe9f1d218a5a,"Install neutron rpms/debs when lib/neutron is used

lib/neutron service prefixes are neutron-* not q-*. We should install
those packages either way.

The patch moves files/*/neutron into files/*/neutron-common so that we
can correctly match */neutron against service specific dependency files
(f.e. */neutron-agent) and load the common packages if any neutron-*
service is present.

Change-Id: I57b36f2ed3f33737223a35d9ed734bb414f31e0b"
booxter,2017-09-13 21:44:18,https://api.github.com/repos/openstack/devstack/git/commits/868746b5dac21e4c97a03f53459fca4e5aba73db,868746b5dac21e4c97a03f53459fca4e5aba73db,"lib/neutron: fix metering agent startup with systemd

With systemd, we now require absolute paths passed to run_process.

Change-Id: Iabd425a6d0ebaaaa5b13bc4a7b062158940958e6"
gyurco,2017-05-23 14:52:35,https://api.github.com/repos/openstack/devstack/git/commits/c04ac03e21546a3d25a2b6794802c4988f4ff532,c04ac03e21546a3d25a2b6794802c4988f4ff532,"Change deprecated nova settings

Change-Id: I0d129150411ede344c9b710d1aca5af1df3478b6"
scheuran,2017-09-12 22:24:02,https://api.github.com/repos/openstack/devstack/git/commits/941940a92cd5424bbe5125569b083f1059569bdb,941940a92cd5424bbe5125569b083f1059569bdb,"Add etcd3 support for s390x

Since [1] devstack is failing on s390x with ""Distro not supported"".
The reason for this is the missing etcd3 support. It worked before
[1] as we were able to disable etcd3 via local.conf. But as etcd3 is
a base service, we might not be able to rely on this workarond in
the future anymore.

As there is no etcd3 binary hosted on github like it is for other
architectures, the user needs to specify an alternative download
URL via local.conf. Otherwise devstack will exit with an appropriate
error message.

  ETCD_DOWNLOAD_URL=<custom-download-url>

[1] https://github.com/openstack-dev/devstack/commit/d8bb220606737719bcdf7c5b4f54906f2974c71c

Change-Id: I1c378a0456dcf2e94d79a02de9d3e16753d946d6
Partial-Bug: #1693192"
dirkmueller,2017-09-10 00:51:10,https://api.github.com/repos/openstack/devstack/git/commits/02f9e8bbdddd69603cbb0afc93279c4151afd5f5,02f9e8bbdddd69603cbb0afc93279c4151afd5f5,"Replace pmap shellout with pure python implementation

Without this patch, the pmap -XX call fails on openSUSE Leap
distributions as those have a fairly ancient procps version that
does not support the -XX parameter. A pure python implementation
is more portable, faster and even shorter than the subprocess
call.

Closes-Bug: #1716066
Change-Id: I2fdb457e65359a1c9d40452c922cfdca0e6e74dc"
emonty,2017-09-10 21:00:29,https://api.github.com/repos/openstack/devstack/git/commits/cbd5f4e0ad2ccc5903d12df73e3f0b033df1b3ae,cbd5f4e0ad2ccc5903d12df73e3f0b033df1b3ae,"Check that generate-subunit exists before using it

If stack.sh fails before os-testr is installed, the generate-subunit
command won't exist.

Change-Id: I7998ed81e419e25d183e5a780df0b4459cca237c"
sdague,2017-09-07 15:16:40,https://api.github.com/repos/openstack/devstack/git/commits/a7f32720228968a589aab9dd10a08a03834b81a5,a7f32720228968a589aab9dd10a08a03834b81a5,"Fix up main readme

A few tweaks to make this more accurate.

Change-Id: I36ae24870be2ca6b5ac0e0507dd457b688739348"
malor,2017-04-18 13:18:14,https://api.github.com/repos/openstack/devstack/git/commits/a066abedac916751660c73548e7eab2d216323c5,a066abedac916751660c73548e7eab2d216323c5,"placement: install osc-placement

This makes sure that the openstack client placement plugin gets
installed when either LIBS_FROM_GIT includes osc-placement or
placement is used, which is always now if you've enabled nova,
which is enabled by default.

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Depends-On: Ica83e29780722dd1555904e46b9ff1d1fdf72516

Change-Id: I7c5a5c10288b356302bb3027837d4ed4f0fbad8c"
stmcginnis,2017-09-06 00:56:06,https://api.github.com/repos/openstack/devstack/git/commits/486376e91b1f9a7680371036e470b8692804e917,486376e91b1f9a7680371036e470b8692804e917,"Change CINDER_LVM_TYPE to 'auto' as the default

This was previously set to thin as the default, but at the time
there were failures seen with what appeared to be race conditions
when creating snapshots.

These failures are not seen locally, and we have a lot of installs
using the default auto by this point with no reports from the field
of seeing this failure. This is to be able to more extensively test
this in the gate, and hopefully get this switched over to be able
to thinly provision by default when possible.

Change-Id: I3e99adadd1c37ba8b24b6cb71a8969ffc93f75a1
Related-bug: #1642111"
jharbott,2017-09-06 10:58:04,https://api.github.com/repos/openstack/devstack/git/commits/a7e9a5d447b3eeacfb52d7ddc94445058a8d6fd1,a7e9a5d447b3eeacfb52d7ddc94445058a8d6fd1,"Update to using pike cloud-archive

Now that Pike has been released, switch to using the pike version of
UCA instead of ocata, too.

One reason to do so it that it adds python3-ceph packages, allow to have
progress with the python3 compatibility of the Ceph integration.

Change-Id: I7d95e53892b697c72af75ad0ce7ce2dec6d31fde"
jharbott,2017-09-06 10:55:39,https://api.github.com/repos/openstack/devstack/git/commits/acb48a1a192b9531c6b30ed42426cb96f012ebb0,acb48a1a192b9531c6b30ed42426cb96f012ebb0,"Update link to nova config reference

For devstack master branch we should point to the latest version and not
to some possibly outdated older branch.

Change-Id: I4af3aef90a2c295df3de4a5b49d127e85ab517ac"
mtreinish,2017-08-04 15:09:26,https://api.github.com/repos/openstack/devstack/git/commits/477a962861afe2e859179245d6d39cb41f6c499d,477a962861afe2e859179245d6d39cb41f6c499d,"Enable graceful shutdown for services

1] Process using uwsgi:
   uwsgi services doesn't support for graceful shutting down [1].
   It requires some changes in unit files [2] including adding below
   graceful shutdown hook and changing KillSignal:
      --hook-master-start ""unix_signal:15 gracefully_kill_them_all
   All the steps and changes required are specified in etherpad [1].

2] Non uwsgi services needs below changes:
   In [service] section:
   a. Add KillMode = process
   b. Add TimeoutStopSec = infinity

NOTE:
Creating unit file for services other than uwsgi is handled by the
'write_user_unit_file' function [3]. This function is common for all
the services so this patch adds the above mentioned parameters for
services using ServiceLauncher also though they don't require.

Added a new stackrc variable WORKER_TIMEOUT which is required to add
graceful shutdown support to uwsgi services. It will be set as a value
to 'worker-reload-mercy' [4] in uwsgi file of service. The default
value set to this variable is 90.

[1] https://etherpad.openstack.org/p/uwsgi-issues
[2] https://www.freedesktop.org/software/systemd/man/systemd.kill.html
[3] https://github.com/openstack-dev/devstack/blob/2967ca3dfd0d64970dfa5dfa7ac2330ee7aa90ed/functions-common#L1439-L1461
[4] http://uwsgi-docs.readthedocs.io/en/latest/Options.html#worker-reload-mercy

Co-Authored-By: Dinesh Bhor <dinesh.bhor@nttdata.com>
Change-Id: Ia95291325ce4858b47102dd49504250183f339ab"
emonty,2017-09-03 17:13:59,https://api.github.com/repos/openstack/devstack/git/commits/d8bb220606737719bcdf7c5b4f54906f2974c71c,d8bb220606737719bcdf7c5b4f54906f2974c71c,"Make list_images.sh emit the etcd3 tarball

We need this for every devstack run now, so downloading it from github
every time isn't the most awesome thing in the world.

Add an extra variable EXTRA_CACHE_URLS which will be appended to the
output of tools/image_list.sh.  This way, these files will be
downloaded during the daily nodepool build, but they will not be in
the IMAGE_LIST and hence be considered as images to upload.

Add a function get_extra_file which echos the path to a file given the
URL.  It will first check the cache at $FILES, and if not present
download it.

Update the documentation in image_list.sh to reflect what's happening.

Move the defaults for etcd variables into stackrc, since it is a base
service now.

Change-Id: I86104824a29d973a6288df1f24b7891feb86267c"
1049965823,2017-09-02 02:46:16,https://api.github.com/repos/openstack/devstack/git/commits/c63d9331a78159833a784806db4b2cd6b58a3eed,c63d9331a78159833a784806db4b2cd6b58a3eed,"Replace http with https for doc links in devstack's document

1) Update doc links according to OpenStack document migration
2) Use https instead of http for docs links

Change-Id: I81b560d1e4c5210dc00a6a6ac06c03bb1e69d595"
annakhm,2017-09-01 23:25:09,https://api.github.com/repos/openstack/devstack/git/commits/730faa2626cb2522dd07465b8c8cf87e39a99ace,730faa2626cb2522dd07465b8c8cf87e39a99ace,"Cap tox != 2.8.0 temporarily to avoid ValueError

This is proposed temporary change to avoid
""ValueError: need more than 1 value to unpack"" error in stack.

Change-Id: I743febbef3a1f201cea37471356518be31585277"
sdague,2017-08-30 18:16:58,https://api.github.com/repos/openstack/devstack/git/commits/0eebeb415ada3437b598d0ceb6952dc7ad9134d9,0eebeb415ada3437b598d0ceb6952dc7ad9134d9,"clean up screen and tail_log references

Change-Id: I6bcfa09931ed1f70e071ccb16688c15c7ef2898f"
sdague,2017-08-30 15:11:06,https://api.github.com/repos/openstack/devstack/git/commits/cdba1b371628aa0e8bc5b687351c5ee9b39e9bc6,cdba1b371628aa0e8bc5b687351c5ee9b39e9bc6,"Remove screen support from devstack completely

This tears out the alternative path of using screen, so that we only
use systemd enabled paths. This simplifies the number of ways that
devstack can be run, and provides a much more reliable process
launcher than the screen based approach.

Change-Id: I8c27182f60b0f5310b3a8bf5feb02beb7ffbb26a"
jharbott,2017-08-28 11:49:28,https://api.github.com/repos/openstack/devstack/git/commits/52609c684af195b84d99473cfb7d286a972e334e,52609c684af195b84d99473cfb7d286a972e334e,"Fix errors in tls-proxy startup for cinder

Two typos made starting tls-proxy fail when CINDER_USE_MOD_WSGI is
False.

Change-Id: I0435282182087a36d987843699152c1c08c4a494"
openvdro,2017-08-30 16:19:56,https://api.github.com/repos/openstack/devstack/git/commits/b79be36cdb9e0368d7976e0876ee1273110d5b5c,b79be36cdb9e0368d7976e0876ee1273110d5b5c,"Remove setting some of the scheduler settings

It makes sense to set them only if resource classes are not used.

Change-Id: I76d8501a1d1a20357acadad4cd8f2d6cef3896c1"
Tehsmash,2017-08-30 10:39:16,https://api.github.com/repos/openstack/devstack/git/commits/def67a47e80c1ed1ed8f1bdcf105563935f6d921,def67a47e80c1ed1ed8f1bdcf105563935f6d921,"Stop using ironic host manager with resource classes

There should be no needs to use the ironic host manager when using
resource classes.

Change-Id: I9a51ea6582dfef28e4da5f8510742230d88cbaf3"
jharbott,2017-08-29 09:52:58,https://api.github.com/repos/openstack/devstack/git/commits/81f67fd7eb33fe3b197dd9b337d900a2271963b9,81f67fd7eb33fe3b197dd9b337d900a2271963b9,"Delete the default guest user from rabbitmq

Leaving the default user enabled is a security issue, as it can be used
without credentials. It also may mask issues like seen in [1].

[1] https://bugs.launchpad.net/bugs/1651576

Change-Id: I75b4e5696c0f8017b869127a10f3c14e2f8bd121"
jharbott,2017-08-29 14:40:26,https://api.github.com/repos/openstack/devstack/git/commits/411c34da69f423059a04431a542be2b1b7a65f38,411c34da69f423059a04431a542be2b1b7a65f38,"Fix URLs when running with tls-proxy enabled

Various services are returning broken links when running behind
tls-proxy. These issues can be fixed by setting the X-Forwarded-Proto
header in the apache config and letting oslo_middleware parse it.

Change-Id: Ibe5dbdc4644ec812f0435f59319666fc336c195a
Partial-Bug: 1713731"
clayg,2017-08-28 21:03:18,https://api.github.com/repos/openstack/devstack/git/commits/0e58d22897457831b9dbf02d66a2f29d43803597,0e58d22897457831b9dbf02d66a2f29d43803597,"Create correct directory layout for swift on purpose.

The pre-existing configuration for swift on devstack set's the
*-server's devices option (the root of the servers list of devices) to:

    devices = /opt/stack/data/swift/1

where ""1"" is the node_number, and will be 2, 3, ... N if the devstack
machine is built with more than one swift node/device (pretty sure no
one does that on devstack ever).

The device(s) in the rings are named (perhaps confusingly similar to the
swift loopback image) just ""sdb1"", so all storage servers expect to have
a $STACK_USER writeable file system at:

    os.path.join(<devices_root>, ""sdb1"")

That directory does not exist when you start up a devstack [1].

Currently Swift's object-server's require that directory exist before
they write data into it (even with mount_check = false!).

Unfortunately however, with mount_check=false the account/container
servers are able to create the device directory when it does not exist
[2].  Which can lead to some unfortunate results with permissions on
some deployments using mount_check = false (e.g. testing or
containerized environments).  Fixing this issue [3] uncovered the
previously benign [4] mis-configuration in devstack.

Attempting

1. It was lost a long while ago I7c65303791689523f02e5ae44483a6c50b2eed1e
2. Essentially they want to:

    mkdir -p /opt/stack/data/swift/1/sdb1/containers/<part#>

... but end up creating the ""sdb1"" dir too!
3. I3362a6ebff423016bb367b4b6b322bb41ae08764
4. Benign because the object-server share their device with the
account-container devices and they would create the dirs before trying
to write an object.  It was incorrect, but worked by happenstance, which
is nearly as good as worked on purpose.

Change-Id: I52c4ecb70b1ae47e613ba243da5a4d94e5adedf2"
jharbott,2017-08-28 11:43:37,https://api.github.com/repos/openstack/devstack/git/commits/4639984b96a3ff7be28357ccbd7c8ffa60371c42,4639984b96a3ff7be28357ccbd7c8ffa60371c42,"Update function description for start_tls_proxy

In [1] the definition of the function was changed, adding the service
name as first parameter. Since this seems to have caused failures in
some plugins, at least update the function template accordingly.

[1] Ifcba410f5969521e8b3d30f02795541c1661f83a

Change-Id: I4d03957f8d3a18625f06379fb21aa7ba55e32797"
dimakuz,2017-08-28 06:09:38,https://api.github.com/repos/openstack/devstack/git/commits/787412ce6cf9447733dd8986c07883d791b520b2,787412ce6cf9447733dd8986c07883d791b520b2,"tempest: Disable l3_agent_scheduler when running without L3 agent

Dragonflow can operate without L3 agent, and does not advertise L3 agent
scheduler extension when running this way

Change-Id: I23d0e558c8454636fcde0a1903c78965b70bc324"
houl7,2017-08-28 09:25:38,https://api.github.com/repos/openstack/devstack/git/commits/c09eaf8e401b12c7b37f18b79d761876953d54a8,c09eaf8e401b12c7b37f18b79d761876953d54a8,"Update OS_AUTH_URL in Configuration.rst

I am a new participant, and when I read the document I found that the command in the OS_AUTH_URL example is v2.0, so I want to update it.

Change-Id: I973adc303a3cb37ce377ca4e31d1d666cd41b358"
slawqo,2017-08-27 08:44:27,https://api.github.com/repos/openstack/devstack/git/commits/08367bac0bb46a4ada14ed6b9416d570e976dd9f,08367bac0bb46a4ada14ed6b9416d570e976dd9f,"Switch from $DEST/data/etcd to $DATA_DIR/etcd

Etcd should use $DATA_DIR/etcd instead of ""hardcoded""
$DEST/data/etcd directory for its data.

Change-Id: Icdc65f52a9d75981b63789036248e00d8ab72f11"
mriedem,2017-08-25 14:17:18,https://api.github.com/repos/openstack/devstack/git/commits/9d7e74e57c73d25e214e0269dbd9d342e8cd960c,9d7e74e57c73d25e214e0269dbd9d342e8cd960c,"Setup logging for nova_cell1.conf

When run in the default superconductor mode, the screen-n-cond-cell1
logs are not formatting in oslo format or colorized like the other
logs. This is because screen-n-super-cond is running using nova.conf
which is configured for oslo format logging with color.

The oslo format logging is also needed to correctly index the logs
from screen-n-cond-cell1 in logstash.

This change simply configures nova_cell*.conf files for logging
like nova.conf.

Change-Id: I44fc11f09bb7283be0b068f5e02a424f3e5dafe2
Closes-Bug: #1713070"
ianw,2017-08-22 06:05:16,https://api.github.com/repos/openstack/devstack/git/commits/6d213dfda7d0c3446595ce9edc56408e3924b355,6d213dfda7d0c3446595ce9edc56408e3924b355,"Get default python versions from interpreter

Query the python2/python3 interpreter for it's version to fill in
PYTHON3_VERSION and PYTHON2_VERSION defaults.  This means on a
python3.6 platform such as Fedora 26, we don't need to override the
default.

Change-Id: Id826f275b99b9f397b95e817941019fc503daa1d"
omeranson,2017-08-24 14:47:37,https://api.github.com/repos/openstack/devstack/git/commits/5158486124814cbf032c0e79413c6f856225fd98,5158486124814cbf032c0e79413c6f856225fd98,"Add function is_plugin_enabled

Add a function which tests if a plugin has been enabled with
enable_plugin. This is helpful if two co-ordinating projects want to run
specific setup in devstack in one only if the other is enabled.

Change-Id: Ibf113755595b19d028374cdc1c86e19b5170be4f"
JohnVillalovos,2017-08-17 20:21:25,https://api.github.com/repos/openstack/devstack/git/commits/64edfd47caba71a0c351269663dd457fd911fcac,64edfd47caba71a0c351269663dd457fd911fcac,"Correct spelling for 'lose' from 'loose'

We can 'lose' networking configuration, not 'loose' it.

Change-Id: I538270c05da6fce63340cc75ec53c3834efcecfe"
dims,2017-08-17 02:51:07,https://api.github.com/repos/openstack/devstack/git/commits/aa33c878d8da59369aed737cb636b628a1f444bb,aa33c878d8da59369aed737cb636b628a1f444bb,"Fix Cleanups for keystone/placement/nova

* Check KEYSTONE_DEPLOY flag and cleanup appropriately
* When we stop process, we should not wipe uwsgi config we should
  remove files only on cleanup
* We should not call cleanup *BEFORE* configure, we are just wiping
  out the uwsgi ini files
* cleanup_placement should be called from clean.sh

Change-Id: I066f5f87ff22d7da2e3814f8c2de75f2af625d2b"
dims,2017-08-17 12:59:59,https://api.github.com/repos/openstack/devstack/git/commits/aceb27e858b594ae80bf07bb0278a715e5a4cd3b,aceb27e858b594ae80bf07bb0278a715e5a4cd3b,"Add procname for uwsgi based services

Code in grenade and elsewhere rely on the process/service name
when one runs ""ps auxw"" and they grep for example ""grep -e glance-api""
to check if the service is running. with uwsgi, let us make sure
we use process name prefix so it is easier to spot the services
and be compatible with code elsewhere that relies on this.

Change-Id: I4d1cd223ed9904fcb19b26fc9362b676e0b4f9b3"
leticiawanderley,2017-08-04 03:42:59,https://api.github.com/repos/openstack/devstack/git/commits/1d141daaf673d7e28e4980812b4bff953a97518b,1d141daaf673d7e28e4980812b4bff953a97518b,"Feature flag on tempest conf to notify enabled LDAP

This adds a new feature flag on tempest conf whenever LDAP is enabled.
When this flag is set to True Tempest users and groups identity tests
adapt to fetch users and groups from different domains.

Change-Id: I368ddf34908b906355c422bd1afd6ab9b1a80053
Depends-On: Iedb470c51fa2174ab7651e6b7e22eff1f25f7aac"
cdent,2017-08-16 15:00:16,https://api.github.com/repos/openstack/devstack/git/commits/ebbbc0500c7bb7a975967e4b1fadad7d1681c9a7,ebbbc0500c7bb7a975967e4b1fadad7d1681c9a7,"Make reference to service-types-authority from plugins.rst

We want people creating plugins (that add services) to be aware of the
service-types-authority (STA), so this change adds a Prerequisites
section and notes the existince of the STA there, and the need to apply
there to create a service-type.

Change-Id: I1aa48fe231aaa4499f8b4fe336abea668841b9af"
dims,2017-08-16 13:10:04,https://api.github.com/repos/openstack/devstack/git/commits/98c95f4fa1029adff778902be3afb92c080e15b3,98c95f4fa1029adff778902be3afb92c080e15b3,"Stop nova conductor properly (singleconductor mode)

stop_nova_conductor dropped the ball when the CELLSV2_SETUP mode is
set to ""singleconductor"". We should cleanup the older style ""n-cond""
in this case.

Change-Id: I9ffd6d09df6f390a842b8a374097f144564d2db4"
tipabu,2017-08-15 20:48:04,https://api.github.com/repos/openstack/devstack/git/commits/59fb961180caf0981aa5e3fc5a022fbe3bf3e463,59fb961180caf0981aa5e3fc5a022fbe3bf3e463,"Allow both Keystone and Tempauth reseller prefixes

... to be used with domain_remap. Swift will start functionally testing
domain_remap in I63428132283986bda9e5c082ffe85741449b71ba.

Change-Id: I4c1ab06d040d91fd8c314d0aa2cecbbb00adf8ad"
jumpojoy,2017-08-15 19:02:30,https://api.github.com/repos/openstack/devstack/git/commits/0525e77d9f297bff5b3a37276b1c28440a384229,0525e77d9f297bff5b3a37276b1c28440a384229,"Increase host_subset_size for ironic

This patch increase host_subset_size when ironic is used to 999
to minimize race conditions.

Change-Id: I0874fe3b3628cb3e662ee01f24c4599247fdc82d"
cboylan,2017-08-14 20:58:30,https://api.github.com/repos/openstack/devstack/git/commits/6b354a909535a9dfef164c3e844544989d17514a,6b354a909535a9dfef164c3e844544989d17514a,"Don't special case Grenade + systemd

Now that the pike branch exists we don't want to special case grenade +
system on the target side. We should use systemd for both sides of the
pike -> master upgrade. Note this change should not be backported so
that we do not attempt to use systemd on the ocata -> pike upgrade path.

Depends-On: Iedf824a1772115e0dff287a898636f8e58471269
Change-Id: I6198bf1842a44773fce80672c81eee3afc3c6f38"
mtreinish,2017-08-10 18:55:15,https://api.github.com/repos/openstack/devstack/git/commits/a3488d5f0067b570974c14572c58bbf8cedf7ed2,a3488d5f0067b570974c14572c58bbf8cedf7ed2,"Remove proxy-sendcl from mod_proxy_uwsgi apache path

Calling setenv appears to be globally scoped which is breaking the
glance path which relies on chunked uploads. The glance path is
separated by using mod_proxy instead of mod_proxy_uwsgi because
mod_proxy_uwsgi doesn't support chunked encoding.[1] The proxy-sendcl [2]
was set on the mod_proxy_uwsgi path just in case someone tried to send a
chunked request to the api server we would be able to handle it. It
tells apache to locally cache the chunked request and send the
content-length as a normal upload to the upstream server. However, if we
can only set it globally across then small potential benefit is not worth
having all glance uploads cached by apache. This commit just removes
setting the flag. In the future if we can have devstack isolate this
flag it might be worth adding back to the mod_proxy_uwsgi path, but for
right now it's not worth the tradeoff.

[1] https://github.com/unbit/uwsgi/issues/1540
[2] https://httpd.apache.org/docs/2.4/mod/mod_proxy.html#request-bodies

Depends-On: Idf6b4b891ba31cccbeb53d373b40fce5380cea64
Change-Id: Iab2e2848877fa1497008d18c05b0154892941589
Closes-Bug: #1709970"
sampathP,2017-08-03 07:12:40,https://api.github.com/repos/openstack/devstack/git/commits/87d2396d225533aefd8d52bb5fa574ea57dbb987,87d2396d225533aefd8d52bb5fa574ea57dbb987,"Don't uninstall pip packages if OFFLINE=True

lib/nova does a pip re-install of libvirt-python to rebuild the python
library incase the underlying libvirt version changed during package
installs.  In offline mode, the underlying version of libvirt can't
have changed; so we have the situation that we've removed the libvirt
python bindings but can't reinstall them (because we're offline).

This fixes that particular situation, but skipping uninstalls in
offline mode seems generically OK.

Change-Id: I2b75d45d94d82f87d996c7570c125d46f5f99f6a
Closes-Bug: #1708369"
lbragstad,2017-08-11 19:37:07,https://api.github.com/repos/openstack/devstack/git/commits/63962fbbe41fe966df96fe2e1bb30943e7ae4047,63962fbbe41fe966df96fe2e1bb30943e7ae4047,"Remove keystone configs for ldap read/write

Configuration options that toggle support for LDAP read/write
were deprecated and removed as of the Ocata release:

  I13eada3d5c3a166223c3e3ce70b7054eaed1003a

This means we no longer need to clutter the domain-specific
configuration with these values since they are no longer used.

Change-Id: I23b5b994862f066c3d48ce524c396faecabf60f8"
sbauza,2017-08-10 13:34:29,https://api.github.com/repos/openstack/devstack/git/commits/0629c4fe22ce02aefde7ee9a18ef75a2687bee01,0629c4fe22ce02aefde7ee9a18ef75a2687bee01,"Remove DiskFilter and RamFilter from Nova scheduling defaults

In Ocata, we replaced the verification logic for CPU, RAM and disk by calling
the Placement API instead of using those legacy scheduler filters, it's time
to remove them from the default list of filters that are run, especially
since Nova now removes them from the conf opt defaults thanks to
Ibe1cee1cb2642f61a8d6bf9c3f6bbee4f2c2f414

Change-Id: I2e81f1bbce7476d63e84e70dcdd59a1163f89f09
Related-Bug: #1709328"
eharney,2017-08-02 15:40:41,https://api.github.com/repos/openstack/devstack/git/commits/8ea8660e363b0bd1fd8bc40a9b74f76e42649f90,8ea8660e363b0bd1fd8bc40a9b74f76e42649f90,"Fix Cinder tls-proxy WSGI test

This currently will throw errors like:

lib/cinder: line 480: [True: command not found

Change-Id: I6bc08532cf99411f39d23523f9fc7851e7804131"
joelin,2017-08-09 09:25:03,https://api.github.com/repos/openstack/devstack/git/commits/a6c782722378827ecc4606afae26f3fb7a48b92d,a6c782722378827ecc4606afae26f3fb7a48b92d,"modify the default url of noVNC

i had sync the all repos of devstack for installing in intranet
environment, and found the url of noVNC had changed to
https://github.com/novnc/noVNC. This module upgrade from individual to
an organization. the old url had redirect to the new one.

Change-Id: I19fc1e2ad30dcd97cad232c9ad58f53a523616b4"
1049965823,2017-08-09 08:43:00,https://api.github.com/repos/openstack/devstack/git/commits/32608da2c4ecc523fb331212c441fc86aabb6355,32608da2c4ecc523fb331212c441fc86aabb6355,"Modify some spelling mistakes

There are some comment errors, it's modify 'Captial' to 'Capital' in
keystone file, and modify 'possition' to 'position' in openrc file, and
modify 'comming' to 'coming' in stack file, and
modify 'prefered' to 'preferred' in stackrc file.

Change-Id: I0fdd539cbfff842a4ba7fca9100b881443300f9a"
ianw,2017-08-03 04:35:37,https://api.github.com/repos/openstack/devstack/git/commits/2d57f93f68ae14e17313486e0d5ad2513af58fd1,2d57f93f68ae14e17313486e0d5ad2513af58fd1,"Don't reinstall python-virtualenv on infra nodes

In the original change I said ""for infra nodes, it shouldn't do
anything anyway ..."".  Well that was pre-Fedora 26 :)

It seems that dnf > 2.0 now intentionally throws an error when trying
to explicitly install an ignored package.  Thus, as described in the
comment, take a simpler approach of skipping this on infra nodes.
pip-and-virtualenv in dib should have installed the latest pip,
virtualenv and setuptools, so we don't want to fiddle with that
anyway.

[1] https://review.openstack.org/#/c/338998/

Change-Id: Ib300b58377a0d0fe1bd7444c71acdb9a87dc033b"
ianw,2017-08-08 07:51:29,https://api.github.com/repos/openstack/devstack/git/commits/139837d69d8566088125d29739089aec7b2a9e7c,139837d69d8566088125d29739089aec7b2a9e7c,"Make TLS logs more readable

After looking at these for I9881f2e7d51fdd9fc0f7fb3e37179aa53171b531 I
found them not as useful as they could be.

Fix the CustomLog command, that wants the logfile then the format
string (or a nickname, which the LogFormat line wasn't setting).  Use
standard micro-second timestamps, and trim the access log to have more
relevant info.

Change-Id: I9f4c8ef38ab9e08aeced7b309d4a5276de07af4b"
ianw,2017-08-08 05:06:26,https://api.github.com/repos/openstack/devstack/git/commits/41e6e12318718c3c5eb6f47ed75a215ed67eccf2,41e6e12318718c3c5eb6f47ed75a215ed67eccf2,"Switch Centos/Fedora to Apache woker MPM

In trying to debug periodic gate instability of CentOS, I noticed that
it is using the prefork mpm, while Ubuntu is defaulting to the
multi-threaded worker mpm.

One of the problems seems related to 502 proxy errors from the TLS
proxy.  We see out-of-sync timestamps in the centos TLS proxy access
logs, which might be innocent behaviour based on the prefork model or
indicate something else.

Before going too deep down this rabbit-hole, I think it is better for
consistency to use the same mpm model on all our platforms, and start
debugging from there.

Change-Id: I9881f2e7d51fdd9fc0f7fb3e37179aa53171b531"
kgiusti,2017-08-04 22:08:37,https://api.github.com/repos/openstack/devstack/git/commits/b645904d4aae46a8be5cee3a23710565b211f458,b645904d4aae46a8be5cee3a23710565b211f458,"Use get_notification_url when configuring notifications

If a project manually configures the oslo.messaging transport url for
notifications it should use 'get_notification_url', not
'get_transport_url'.  get_transport_url should only be used to obtain
the RPC transport address.

Change-Id: I77772dfa9f30a3db2db6d0387260dfe3452a26ef
Closes-Bug: #1708754"
sdague,2017-08-02 13:49:27,https://api.github.com/repos/openstack/devstack/git/commits/49144e627120f9ec1cf72dfc84e02b9b81e669b6,49144e627120f9ec1cf72dfc84e02b9b81e669b6,"Remove glance api_servers from nova config

This should now be able to be discovered from the service catalog,
there is no reason to set it.

Change-Id: I7383b589fbcef9423beeab735db42c594f7b56fd
get auth from context for glance endpoints:
Depends-On: I4e755b9c66ec8bc3af0393e81cffd91c56064717"
Tehsmash,2017-08-03 11:41:36,https://api.github.com/repos/openstack/devstack/git/commits/801494550a58220e1bcbd531e810e1ca59efa7e8,801494550a58220e1bcbd531e810e1ca59efa7e8,"Disable baremetal sched filters when using resource classes

When using resource classes to schedule baremetal nodes the baremetal
filters like ExactRam etc should not be used. This patch disables them
in the nova config if devstack is configured to enable ironic resource
classes.

Change-Id: Ic262ccaf8b541308042d61113a953653d2261964"
sdague,2017-07-28 11:29:18,https://api.github.com/repos/openstack/devstack/git/commits/c2fe916fc7c6c00cdfa0085e198eaf2ad4d915d1,c2fe916fc7c6c00cdfa0085e198eaf2ad4d915d1,"Wait for compute service to check in

With cell v2, on initial bring up, discover hosts can't run unless all
the compute nodes have checked in. The documentation says that you
should run ``nova service-list --binary nova-compute`` and see all
your hosts before running discover hosts. This isn't really viable in
a multinode devstack because of how things are brought up in parts.

We can however know that stack.sh will not complete before the compute
node is up by waiting for the compute node to check in before
completing. This happens quite late in the stack.sh run, so shouldn't
add any extra time in most runs.

Cells v1 and Xenserver don't use real hostnames in the service table
(they encode complex data that is hostname like to provide more
topology information than just hostnames). They are exempted from this
check.

Related-Bug: #1708039

Change-Id: I32eb59b9d6c225a3e93992be3a3b9f4b251d7189"
mriedem,2017-08-01 20:38:42,https://api.github.com/repos/openstack/devstack/git/commits/ab980ce5d6792a273db3e93eb3d163bfdc38b1de,ab980ce5d6792a273db3e93eb3d163bfdc38b1de,"Disable track_instance_changes when in superconductor mode

When configured for superconductor mode, which is the default,
nova-compute can't reach the MQ for nova-scheduler so there is
no point in even enabling the track_instance_changes code since
it's a waste of time as the scheduler will never get the message.

Change-Id: I2662ebd47323428b403d3c2236bec78f1fb1050f"
mat128,2017-01-24 16:32:24,https://api.github.com/repos/openstack/devstack/git/commits/fa55cb5f978f6bd9476f1b09a94c8d6aaa18beb4,fa55cb5f978f6bd9476f1b09a94c8d6aaa18beb4,"Ensure valid service names are passed to stack_install_service

Currently, stack_install_service will accept any service name. This is
problematic because a project plugin can pass an invalid name without
noticing. This has been the case in ironic-inspector[0].

This commit ensures that stack_install_service will not silently fail
when passing an invalid service name.

[0] https://review.openstack.org/#/c/424680/

Change-Id: I1a8105bdbaf4aecb630df08da416808bf7180824
Closes-Bug: #1659042"
jumpojoy,2017-07-31 21:16:51,https://api.github.com/repos/openstack/devstack/git/commits/dea3083d984569eac9647f1a28f10ae98afc42f7,dea3083d984569eac9647f1a28f10ae98afc42f7,"Fix path to mlock_report

This patch fixes path to mlock_report.py. Also add python-psutil
to dstat depends as it is required by mlock_report.

Change-Id: Ia2b507a7b923f1e3393a9cb7746c66d39d6abfde"
dirkmueller,2017-07-27 18:28:43,https://api.github.com/repos/openstack/devstack/git/commits/6effdf370a1a638e72319337db57c5ef1fa1312d,6effdf370a1a638e72319337db57c5ef1fa1312d,"Remove extra websockify dependency cleanup step

This started to fail due to a missing || : / --force option now
that the dependencies got fixed:

2017-07-30 19:38:37.260 | ++ tools/install_prereqs.sh:source:97       :   sudo rpm -e --nodeps python-cffi python-cryptography python-pyOpenSSL
2017-07-30 19:38:37.293 | error: package python-cffi is not installed
2017-07-30 19:38:37.293 | error: package python-cryptography is not installed
2017-07-30 19:38:37.293 | error: package python-pyOpenSSL is not installed

Change-Id: Ia59afb7ee564cf2044ebdb3c5ad3e54ee91d1222"
sdague,2017-07-27 20:53:57,https://api.github.com/repos/openstack/devstack/git/commits/01c0cc6d37ccca13e0e7e48a58dcc7ba98967f1c,01c0cc6d37ccca13e0e7e48a58dcc7ba98967f1c,"Revert ""Wait for compute service to check in""

This reverts commit dcdf8c8e60a9db0adb4ee5cae98ed7cc511ecf83.

Change-Id: Ib14016a3bc6f2714758ad0291396233218c593c6"
sdague,2017-07-27 11:09:48,https://api.github.com/repos/openstack/devstack/git/commits/afc14c8e8585e6f6f00fafc78daa4e478b1635ae,afc14c8e8585e6f6f00fafc78daa4e478b1635ae,"Fix last place where we need singleconductor

The actual logic of launching a singleconductor didn't get all the way
to the launch of the conductor itself, so we were still launching 2
conductors in the Ironic case. This attempts to fix that.

Change-Id: I7ddb123dbdf3e1ec9a991e474a9990d2ccbc30d3"
sdague,2017-07-26 15:14:37,https://api.github.com/repos/openstack/devstack/git/commits/5adfef0a53a19436cd759b1d345bcad0a46fc1bf,5adfef0a53a19436cd759b1d345bcad0a46fc1bf,"Introduce CELLSV2_SETUP variable

Some environments, like grenade and ironic, need a way to revert to
the non fleet version of the conductor setup. This really comes down
to a global topology for CELLSV2_SETUP. The prefered is with a
superconductor, but allow a downgrade to singleconductor.

Depends-On: I5390ec14c41da0237c898852935aba3569e7acae

Change-Id: I10fb048ef2175909019461e585d117b4284448c6"
sdague,2017-07-25 23:51:08,https://api.github.com/repos/openstack/devstack/git/commits/dcdf8c8e60a9db0adb4ee5cae98ed7cc511ecf83,dcdf8c8e60a9db0adb4ee5cae98ed7cc511ecf83,"Wait for compute service to check in

With cell v2, on initial bring up, discover hosts can't run unless all
the compute nodes have checked in. The documentation says that you
should run ``nova service-list --binary nova-compute`` and see all
your hosts before running discover hosts. This isn't really viable in
a multinode devstack because of how things are brought up in parts.

We can however know that stack.sh will not complete before the compute
node is up by waiting for the compute node to check in before moving
forward. This puts a few more seconds into the run, but ensures
everything is solid in multinode environments.

Change-Id: I667e6a9be3fee8bb5bfd73426eef567489e3d88d"
mriedem,2017-07-25 21:08:50,https://api.github.com/repos/openstack/devstack/git/commits/c63ecadb08245eda3f4ef2327a2b9ca85cf4b4f9,c63ecadb08245eda3f4ef2327a2b9ca85cf4b4f9,"Add instructions for discovering hosts in the multinode guide

When doing a multi-node devstack deployment starting in Ocata
the child compute nodes must be discovered and mapped to the
single nova cell (cell1). In the upstream CI we do this discovery
in devstack-gate after the subnodes are stacked, but for anyone
doing this manually we need to provide some notes on what needs
to happen after child compute nodes are stacked for a multinode
environment.

Change-Id: I68418bcf28d86c60fe42537186d89458fa778bda
Closes-Bug: #1688397"
dirkmueller,2017-07-21 06:19:16,https://api.github.com/repos/openstack/devstack/git/commits/d325875508e7d35d6dd62302d852e83815be2278,d325875508e7d35d6dd62302d852e83815be2278,"Resolve openSUSE devstack failures

This update resolves multiple issues with python-cryptography
causing keystone server and nova deployment to fail.

This is a temporary workaround until I196f025dbf1a9ac297946b8165620676645f7210
has landed and the extraneous dependency on python-cryptography (the
package) has been removed.

Change-Id: Ifb29b9089197c0429a5fc1cd08a25d2095d481f1"
dirkmueller,2017-07-23 12:14:23,https://api.github.com/repos/openstack/devstack/git/commits/46a54c90895cf5d90ebe4921fc5ce958e960d31c,46a54c90895cf5d90ebe4921fc5ce958e960d31c,"Switch to cirrors 0.3.5 also for the xen case

This image is available on the download site since Feb 2016,
so let's use it.

Change-Id: I3b89211f6e57f2c35056d7e9c57d08651a3a314f"
afazekas,2017-07-13 13:12:55,https://api.github.com/repos/openstack/devstack/git/commits/7bbd4e95d02d2c54b673a93e53fc91dee61f2c90,7bbd4e95d02d2c54b673a93e53fc91dee61f2c90,"Add f26 to the supported distros

The only mentionable diff is the kvm alias
does not exists so we will install
qemu-kvm as with rhel7 which also exists
in the older supported fedoras.

kvm also just an alias in suse so
switching to qemu-kvm  in suse as well.

Change-Id: I5c79ad1ef0b11dba30c931a59786f9eb7e7f8587"
ianw,2017-07-24 00:34:22,https://api.github.com/repos/openstack/devstack/git/commits/d2fbcd275dfe9c7d11dc9dd5e8ab93244f653b79,d2fbcd275dfe9c7d11dc9dd5e8ab93244f653b79,"doc: Switch from oslosphinx to openstackdocstheme

Per the manuals migration effort, switch to openstackdocstheme [1]

[1] https://specs.openstack.org/openstack/docs-specs/specs/pike/os-manuals-migration.html

Change-Id: I0463f7d39bd72f1d27cfe3f6d5395608b9ed6b29"
natsumetakashi,2017-07-21 23:59:43,https://api.github.com/repos/openstack/devstack/git/commits/fa0077707e15abfbecddbd22fe8594ffe3b4ecc4,fa0077707e15abfbecddbd22fe8594ffe3b4ecc4,"Update URLs

Some URLs are broken, so fix them.
The others are redirect to new URLs,
so replace them with new ones.

The config options of nova serial console proxy
have been gathered in nova/conf/serial_console.py.
So the description in doc/source/guides/nova.rst
is fixed.

Change-Id: Ifd81cc09969341fbf8f135a913fc6003b94e0acc"
tipabu,2017-07-19 16:55:26,https://api.github.com/repos/openstack/devstack/git/commits/ab7035040319d8b145e1ad4ffcefa184ad6bd8a9,ab7035040319d8b145e1ad4ffcefa184ad6bd8a9,"When configuring temp urls, give Swift time to start up

Otherwise, we've seen intermittent ""Unable to establish connection""
failures, with the main devstack log reporting things like

   2017-07-19 13:54:29.973 -> start proxy service
   2017-07-19 13:54:30.082 -> start OSC to store temp url key
   2017-07-19 13:54:31.908 -> OSC reports failure

Meanwhile, the s-proxy screen session tells us things like

   Jul 19 13:54:31.919988 -> start child worker
   Jul 19 13:54:32.206598 -> still loading the WSGI app

... and ports aren't actually bound until *after* the app is loaded.

Add a wait_for_service call to wait for the proxy to come up.

Change-Id: I1a722de31b144797230991700e110353a2d937dd"
mriedem,2017-07-19 18:01:22,https://api.github.com/repos/openstack/devstack/git/commits/ecbebd5d7b2f332d3e2432bb7f612d6191bc23b2,ecbebd5d7b2f332d3e2432bb7f612d6191bc23b2,"Only setup nova-dhcpbridge if using nova-network

Closes-Bug: #1705324

Change-Id: I3abc84483bbd256e0bbbfe64d570903080f2a2b7"
dirkmueller,2017-07-15 10:16:58,https://api.github.com/repos/openstack/devstack/git/commits/04016a5dd117d1696221de1e32b9d2c389b795c8,04016a5dd117d1696221de1e32b9d2c389b795c8,"List openSUSE 42.3 as a supported distro

openSUSE 42.3 is a relatively minor update over 42.2 and I'd
like to maintain it and keep it passing.

Experimental gates are being proposed, once those are passing
(which should be the case with this patch included), we could
enable it as a non-voting gate.

Change-Id: Ia421ada0ed3751c65a2a93a208e3f4a43edf8b16"
dirkmueller,2017-06-27 06:31:26,https://api.github.com/repos/openstack/devstack/git/commits/a6467d36dbcb50c7501d5b237e32ed69ed1b4a44,a6467d36dbcb50c7501d5b237e32ed69ed1b4a44,"Prepare guestfs-support for openSUSE

With libguestfs usage for file injection now being enabled by
default as part of I568c56dbcb62ec541661364c142eff2397e3eed7
the opensuse job started to fail due to lack of guestfs images
being available.

The error in question was
NovaException: libguestfs installed but not usable (cannot
find any suitable libguestfs supermin, fixed or old-style
appliance on LIBGUESTFS_PATH (search path: /usr/lib64/guestfs)

This part is being fixed by explicitly adding the missing package
dependencies to the compute node rpm package list while the maintenance
update for Leap 42.2 is in preparation.

Change-Id: Ie76ac0a51c1ee2ad6559917825dee1c7a91a3a76"
pabelanger,2017-07-14 17:11:19,https://api.github.com/repos/openstack/devstack/git/commits/331b3de88e02d6cc480b386766f47b7a2d943125,331b3de88e02d6cc480b386766f47b7a2d943125,"Reduce tools/image_list.sh down to 4 images

Now that mysql.qcow2 has been removed, we only have 4 images to worry
about. This fixes cache-devstack element for openstack-infra.

Change-Id: Ia06f0e0679e253a1a6614f7c38abf1f5cd13991b
Signed-off-by: Paul Belanger <pabelanger@redhat.com>"
bodgix,2017-06-28 11:34:52,https://api.github.com/repos/openstack/devstack/git/commits/8175df1912a5722c2e308dc27623063ac542f496,8175df1912a5722c2e308dc27623063ac542f496,"Remove VGs when cleaning LVM up in devstack

This patch adds removing of the volume group
before removing the loopback device and
the backing file when performing LVM cleanup
in unstack.sh

Without this commit:

unstack.sh removes logical volumes, removes the
loopback devices and deletes the backing file
but leaves a dangling volume group

  $ ./stack.sh && ./unstack.sh
  $ sudo vgs
  VG                    #PV #LV #SN Attr   VSize  VFree
  stack-volumes-default   1   0   0 wz--n- 10.01g 10.01g
  $ sudo losetup -a
  $ sudo vgremove stack-volumes-default
  /dev/loop0: lseek 4096 failed: Invalid argument
  vg_remove_mdas stack-volumes-default failed

With this commit:

unstack.sh removes volume groups after removing
all logical volumes but before removing
the loopback device and deleting the backing file

Partial-Bug: 1441236
Change-Id: Id9c06fa50f6cad28764f5a3396f559cac9999649"
liujiong63,2017-07-12 02:09:48,https://api.github.com/repos/openstack/devstack/git/commits/2f7df51cfa422ae79942953ca63d6b3a4aa37dd3,2f7df51cfa422ae79942953ca63d6b3a4aa37dd3,"Correct 'uswgi' to 'uwsgi'

Change-Id: I22026e5640a626f45b7508b60f492dbdb30631af"
pabelanger,2017-07-11 15:25:19,https://api.github.com/repos/openstack/devstack/git/commits/254116305c4a471ee857a9301e310bd2c406d937,254116305c4a471ee857a9301e310bd2c406d937,"Remove mysql.qcow2 from stackrc

We no longer host this on tarballs.o.o, additionally it is no longer
used my trove.

Change-Id: I2034e8ebc530704d6e63a231056f92e14a8654e4
Signed-off-by: Paul Belanger <pabelanger@redhat.com>"
leticiawanderley,2017-06-27 02:52:52,https://api.github.com/repos/openstack/devstack/git/commits/cc36397134716116d802ba82b9ea9a0bc4830a42,cc36397134716116d802ba82b9ea9a0bc4830a42,"Fixes devstack ldap plugin

When the ldap service is enable on local.conf devstack ldap
plugin starts slapd service using its default config on Ubuntu
and installs ldap-utils package.
Enables domain specific drivers on Keystone and creates LDAP
domain 'Users' with a demo user.

Change-Id: I8d7aa260b01f675e4ed201ef93bfd66474f4b228"
kk7ds,2017-06-08 12:22:38,https://api.github.com/repos/openstack/devstack/git/commits/f3d533157267a1568eeb36a349aee637195e9c8a,f3d533157267a1568eeb36a349aee637195e9c8a,"Fleetify nova conductor for N cells

This makes us start two levels of nova-conductor processes, and one per cell.

Note that this also sets the notification transport_url to the top-level mq
so that we continue to get a unified stream of notifications.

Related-Bug: #1700496
Change-Id: I08d7da843d18b426dda8a8a231039d950a4c0ce5
Depends-On: I64b600b30f6e54db0ec9083c6c176e895c6d0cc2
Depends-On: If59453f1899e99040c554bcb9ad54c8a506adc56"
mriedem,2017-07-06 00:25:02,https://api.github.com/repos/openstack/devstack/git/commits/17cdecc689b20bfa3dc06ea23edacccf9e37497d,17cdecc689b20bfa3dc06ea23edacccf9e37497d,"Enable tempest testing for extending an attached volume

In Pike, Cinder and Nova will support extending the size of
an attached volume, but it's not supported by all volume and
compute backends. Tempest will also test it but uses a config
option that we need to set based on how devstack is configured.

Depends-On: Ibace6c2f91be9753a44e5f79fd013df11654851b

Related to cinder blueprint extend-attached-volume
Related to nova blueprint nova-support-attached-volume-extend

Change-Id: I52cc2952a2938ce44c442aa3e3b69a905b2b55d5"
ianw,2017-06-30 02:29:19,https://api.github.com/repos/openstack/devstack/git/commits/07cbc4494255efa2c394b4b60e5beaa3d10f244e,07cbc4494255efa2c394b4b60e5beaa3d10f244e,"Put devstack-version info into separate file

As a follow on to I4c269a7f3d63ee9a976e7c3636fc3e5e8dab9ae3; the
quoting gets tricky when putting arbitrary command-substitution
strings into saved echo-able strings.  As they say, ""the only winning
move is not to play"" :)

An alternative proposal is to not write this into a script but just
dump info into a file.  To my mind, this has several advantages --
avoid getting involved in quoting, not dropping a script into the
global environment -- it's just as easy to ""cat"" -- and the plain-text
file can be collected as an artifact during log collection (also moved
git commit line to separate line for easier parsing during log search,
etc).

Change-Id: Ic7391dd087657c0daf74046e4a052c53f4eb6e1a"
mtreinish,2017-06-30 16:10:06,https://api.github.com/repos/openstack/devstack/git/commits/b79531a9f96736225a8991052a0be5767c217377,b79531a9f96736225a8991052a0be5767c217377,"Increase the socket timeout on uwsgi local mode

This commit increases the socket timeout value from 4 secs to a much
higher 30 secs. This is just for sanity, the load is high when we're
seeing the wsgi.input timeouts, so uwsgi might be just closing the
socket waiting for data over the wire. 30 seconds is overly conservative
just so we can rule this out. This will likely be shrunk to a more
reasonable value in the future.

Change-Id: Iae85d3a084fb33b2a63550d6e353413e98c0b39c
Partial-Bug: #1701088"
mtreinish,2017-06-30 16:15:26,https://api.github.com/repos/openstack/devstack/git/commits/1560efe9c93b17438ab37d94443832dde3842637,1560efe9c93b17438ab37d94443832dde3842637,"Switch local http uwsgi conf to http-socket mode

Previously the local uwsgi server mode was using uwsgi in http mode.
This was unessecary and actually not recommend by the uwsgi docs [1][2]
This is because http mode starts a frontend http process that forwards
requests to the workers running the python code. This is done for the
largely the same reasons we're using apache as a proxy and is
unnecessary. http-socket mode doesn't do this and just exposes the
workers as an http interface to the proxy. (in our case apache)

[1] http://uwsgi-docs.readthedocs.io/en/latest/HTTP.html#http-sockets
[2] http://uwsgi-docs.readthedocs.io/en/latest/ThingsToKnow.html

Change-Id: I5671687c8083fa4bdee066c07b083a0f00be532b"
stmcginnis,2017-03-03 18:09:35,https://api.github.com/repos/openstack/devstack/git/commits/daf1274409ce8b9bd6b21955f4172bd70a7e5c68,daf1274409ce8b9bd6b21955f4172bd70a7e5c68,"Run cinder-api with uWSGI

Per the Pike goal, switching the Cinder API control plane to
use WSGI in Apache.

Co-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>
Depends-On: Ie8a0eeab1bf31887d6f37cf155b2d161ddfb172d
Depends-On: I14b68f36e7fcc5341bbdbcf165274d9d50f7dd04
Change-Id: I8cef6c98f9242cc38d66de0ac499490e2a237887"
mtreinish,2017-06-28 21:42:31,https://api.github.com/repos/openstack/devstack/git/commits/82d0610f14e09931e00443364c7da25f42aa89de,82d0610f14e09931e00443364c7da25f42aa89de,"Ensure keepalive isn't used on uwsgi http mode

According to the uwsgi docs [1] for http keepalive there is a separate
option for http keep alive, and just setting connection close isn't
enough. This commit makes sure we disable http keepalive. This will
hopefully fix the random connection issues we get on image uploads to
glance, which uses uwsgi http mode.

[1] http://uwsgi-docs.readthedocs.io/en/latest/HTTP.html#http-keep-alive

Change-Id: Ic5f83c5c93f28b2bd62ca9ac96ca8c87797ea5c9
Closes-Bug: #1701088"
sdague,2017-06-28 13:13:04,https://api.github.com/repos/openstack/devstack/git/commits/2c0faca0380050b697b7d7fe6589102fa8a0cb5d,2c0faca0380050b697b7d7fe6589102fa8a0cb5d,"Add devstack-version script

This will help in collecting information about the devstack version
being used.

Change-Id: I23a8ca023bda6d097051cd57ae45401806451ad5"
cdent,2017-04-18 16:30:14,https://api.github.com/repos/openstack/devstack/git/commits/b90bb1a46193b052cd98513213eed688e8e29d23,b90bb1a46193b052cd98513213eed688e8e29d23,"Use uwsgi for nova when NOVA_USE_MOD_WSGI is not False

Unless NOVA_USE_MOD_WSGI is False, run nova-api and nova-metadata
using uwsgi.

Because the metadata server is always expected to run on a port and
without a prefix, we have it configured to use uwsgi but not to
proxy from apache: uwsgi listens on the configured port itself.

uwsgi process that listen themselve do not need a socket or to
chmod-socket, so those config lines have been moved to the block
that is also writing proxy configuration for apache.

Because this change only uses uwsgi for nova-api and nova-api-meta,
nova-api-meta is set to default to enabled in stackrc because the
nova-api wsgi application used by wsgi only presents the one service
(osapi_compute).

If NOVA_USE_MOD_WSGI is False and tls_proxy service is enabled,
nova-api is run on an internal port reached via the tls_proxy.

Depends-On: I8ff08d61520ccf04e32dcd02f4cecc39dae823cb
Change-Id: If2d7e363a6541854f2e30c03171bef7a41aff745"
mriedem,2017-06-26 07:53:08,https://api.github.com/repos/openstack/devstack/git/commits/20eeff813d21e86c1d529d5cbc4f7b0ad732e69d,20eeff813d21e86c1d529d5cbc4f7b0ad732e69d,"Revert ""Fleetify nova conductor for N cells""

This reverts commit f63aa021cf996b500b6a570c0114c490bb57461a.

Change-Id: I541abe7311e5721d79e300fcb2a0b8ffdcd3c015
Related-Bug: #1700364"
mtreinish,2017-06-23 22:32:37,https://api.github.com/repos/openstack/devstack/git/commits/1fa653635781cd975a1031e212b35b6c38196ba4,1fa653635781cd975a1031e212b35b6c38196ba4,"Revert ""Revert ""Use uwsgi for glance-api""""

This reverts commit 3410e3e01bdbdbfd360d9baebeac081c33ee0821.

Change-Id: Ic58711311eb8534cb3c4b25c333197c412ffdce5"
cbf123,2017-06-23 17:28:20,https://api.github.com/repos/openstack/devstack/git/commits/0ffd5a944c371ae441c2c8d977486c5a20bc75fc,0ffd5a944c371ae441c2c8d977486c5a20bc75fc,"remove unnecessary cleanup in nova startup

nova's instances directory may be a shared directory (ie nfs), in
these cases, we do not want to call nova_cleanup at startup since it
deletes everything under $NOVA_INSTANCES_PATH.

The nova_cleanup routine will still be called by the clean.sh script
which is fine since we're presumably cleaning up the whole openstack
cluster at that point.

Change-Id: Ieb4e5d0508d4ed4c5349c497554c5da2993c9cb0
Closes-Bug: #1649389"
yamt,2017-06-15 12:10:45,https://api.github.com/repos/openstack/devstack/git/commits/c087c71834a6eb1d44040142f888b33ffefb5192,c087c71834a6eb1d44040142f888b33ffefb5192,"Revert ""systemd: Always create the systemd unit files""

This reverts commit 15b0a5f1eb849a30bcea9a1e437e9a88ae2c6f92.

The change had an assumption that a service
is properly configured even when it isn't enabled.
The assumption is not true.

Change-Id: Ib5a8ffe63eaec15bc29bfdd133db7169507bab82
Closes-Bug: #1698129"
jhamhader,2017-06-23 07:32:16,https://api.github.com/repos/openstack/devstack/git/commits/13e81ad1cf6d652946b78082b280fb12d190f6f2,13e81ad1cf6d652946b78082b280fb12d190f6f2,"Fedora mariadb: disable cracklib

In Fedora mariadb, cracklib has been enabled [0] in order to verify the
password strength.
Disable cracklib in Fedora devstack in order to allow simple passwords
in dev environments.

[0] https://src.fedoraproject.org/cgit/rpms/mariadb.git/
    commit: 9442da192282aa74f43e86c96202109a173bbaba

Change-Id: I2d5e965f0f19f86992794eec78134e862899c931"
kaitersgonnakait,2017-06-19 20:50:38,https://api.github.com/repos/openstack/devstack/git/commits/ed7dbe5754b95f54f663f695b27c7c14b1fdbd6c,ed7dbe5754b95f54f663f695b27c7c14b1fdbd6c,"Add python-barbicanclient to LIBS_FROM_GIT

Allow python-barbicanclient to be installed from git instead of pip.

Change-Id: I99cd72724e11bab362bcaaeb773f33b2abfe815c"
TommyLike,2017-06-20 03:32:25,https://api.github.com/repos/openstack/devstack/git/commits/599ecfbd4c71de5f71663b1cadf2700b31a84ec2,599ecfbd4c71de5f71663b1cadf2700b31a84ec2,"Download etcd3 only zip file not exists

Give a change to manually prepare the zip file
for etcd.

Change-Id: I54283cf2ed62bb716af34df21e8c168014264c8c"
ianw,2017-06-21 12:07:53,https://api.github.com/repos/openstack/devstack/git/commits/3410e3e01bdbdbfd360d9baebeac081c33ee0821,3410e3e01bdbdbfd360d9baebeac081c33ee0821,"Revert ""Use uwsgi for glance-api""

This reverts commit e6217a9719b88b550ccbbce7c9bc064cb746c1a3.

Unfortunately it seems to break glance; for examples see some of the
nodepool dib jobs which have all failed to upload images into glance.

Note this has a revert for 43304849cfde41fa86a6fdd334ab6e703598ef8d as
well, since that uses GLANCE_URL defined here.

[1] http://logs.openstack.org/51/475051/2/gate/gate-dsvm-nodepool-redhat-src/e1bdb34/
[2] http://logs.openstack.org/51/475051/2/gate/gate-dsvm-nodepool-ubuntu-src/6a7665b/
[3] http://logs.openstack.org/51/475051/2/gate/gate-dsvm-nodepool-opensuse-src/b357de1/

Change-Id: I2aea120e733b05e806801121ec994f4e31a337d9"
emonty,2017-06-21 20:45:14,https://api.github.com/repos/openstack/devstack/git/commits/43304849cfde41fa86a6fdd334ab6e703598ef8d,43304849cfde41fa86a6fdd334ab6e703598ef8d,"Set public_endpoint to GLANCE_URL for glance-api

We run glance behind uwsgi. This means that the URL glance knows about
itself is wrong, and version discovery fails. Set the public endpoint to
the value of GLANCE_URL which should always be correct.

Change-Id: Ia7c69024a0ef6cc0fdc284ffcd06eee5678a1007"
sdague,2017-06-21 14:55:16,https://api.github.com/repos/openstack/devstack/git/commits/7e41c6ce669a082fcb5f50ef3503b8d66d19b35f,7e41c6ce669a082fcb5f50ef3503b8d66d19b35f,"cleanup comments

Change-Id: I685f726178722e58ccfd008bad16a671cc8b8e2a"
sdague,2017-06-21 14:46:12,https://api.github.com/repos/openstack/devstack/git/commits/99a6477c498588b4639c8669eb1a04a128dc7f2b,99a6477c498588b4639c8669eb1a04a128dc7f2b,"remove lib/os_brick

Fold this back into lib/libraries

Change-Id: I2c4e3ebf1a1cc65841e4470d5cfe073f9b505d5f"
pshchelo,2017-06-21 09:06:37,https://api.github.com/repos/openstack/devstack/git/commits/d064acce4ceca5c897b31304439e235a230ac8f3,d064acce4ceca5c897b31304439e235a230ac8f3,"Ignore etcd files downloaded to files/ dir

Change-Id: Ic1458a612ccdefdcc34880529a259513135fa7a1"
sdague,2017-06-20 18:09:30,https://api.github.com/repos/openstack/devstack/git/commits/3ed99c0b27122ff00e2d236086ab16b0cc1887c1,3ed99c0b27122ff00e2d236086ab16b0cc1887c1,"mv lib/oslo to lib/libraries

There is confusion about where installation of new libraries should
end up, to prevent lots of little files being added make a
lib/libraries which is the old lib/oslo. Put compat functions and
includes in place to help with transition.

Change-Id: Ieeab605d187ef6aec571211ab235ea67fa95a607"
sdague,2017-06-19 12:27:16,https://api.github.com/repos/openstack/devstack/git/commits/62b56601a9c6d6e9ad573e87bdecf360a3dd915e,62b56601a9c6d6e9ad573e87bdecf360a3dd915e,"rework etcd3 install to be like other devstack services

This separates out the install phase early from the start phase to
make this mirror other services in devstack.

Depends-On: I4124dc7e3fd3b4d973979da85209ec991c0f8c4b

Change-Id: I76f8740448b25a48869ee80006e826baa6cafc2b"
celebdor,2017-06-16 14:03:32,https://api.github.com/repos/openstack/devstack/git/commits/19279b0f87e2ab1c684d62078df296211d3a60cc,19279b0f87e2ab1c684d62078df296211d3a60cc,"etcd3: Allow for multi-host deployments

In Multi host deployments, it is possible to run ETCD in a different
host than the SERVICE_HOST (where all the controllers run). This patch
brings that distinction.

Change-Id: I15fe6f25eedf1efebaab81cce26b080577b856cc
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>"
sdague,2017-03-27 19:35:13,https://api.github.com/repos/openstack/devstack/git/commits/85cf2933ccdd70f4f6d505c9aca36f063eddf229,85cf2933ccdd70f4f6d505c9aca36f063eddf229,"Provide timings for OSC during devstack run

The OSC number remain high, and it's useful to understand how much
time we spend making OSC calls, especially to surface it relative to
other items. The way we embed this in our code makes it hard to
instrument.

This patch creates a wrapper function for OSC which collects the timings
then aliases `openstack` to that function. This means any invocations of
the openstack utility goes through our function while devstack is
running. Because this is an alias it only affects the stack.sh shell and
any subshells.

This also moves the time tracking infrastructure to count in ms,
instead of s, because some of these operations are close enough to a
second that rounding early is losing way to many significant
digits. We divide by 1000 before reporting to the user.

Change-Id: Ic5f1844ce732d447ee980b3c9fdc417f72482609"
cboylan,2017-06-14 22:29:47,https://api.github.com/repos/openstack/devstack/git/commits/3e9b562d0b1f1815597daa5346ba32ef48f868af,3e9b562d0b1f1815597daa5346ba32ef48f868af,"Actually check if roles are set

In the helper functions to check if roles are set and if not add the
role and return the id we weren't actually checking if the role was set.
The reason for this was we grepped for name values while outputing only
uuid values with OSC. Fix for this is straightforward, we just add the
--role argument to OSC which will filter for us then we don't have to
use a grep on the wrong value type.

Change-Id: I2691b347d2a6273100deb4a1750ab353a8e49673"
cboylan,2017-06-14 19:09:21,https://api.github.com/repos/openstack/devstack/git/commits/633dbc3d8e7d3f06e13d532748c71ffba6cd21ea,633dbc3d8e7d3f06e13d532748c71ffba6cd21ea,"Track db sync command time useage

We are trying to keep better track of what pieces of devstack consume
the most time. Add the db sync commands to the time tracking as they run
the database migrations which can take more time than expected.

Change-Id: Ib92f2b8304ccf703712d45fd7207444de3599e2d"
cboylan,2017-06-13 17:18:36,https://api.github.com/repos/openstack/devstack/git/commits/d095e97624467fb1e0fa38955b45960d3cbc5651,d095e97624467fb1e0fa38955b45960d3cbc5651,"Support unicode via en_US.utf8

Because C.utf8 is not everywhere and is sometimes called C.UTF-8 (just
to confuse people) use en_US.utf8 which is in most places. This isn't
language/region agnostic but gives a consistent unicode aware locale to
devstack.

Change-Id: I67a8c77a5041e9cee740adf0e02fdc9b183c5bc4
fixes-bug: 1697733"
markuszoeller,2017-05-31 09:21:22,https://api.github.com/repos/openstack/devstack/git/commits/15b0a5f1eb849a30bcea9a1e437e9a88ae2c6f92,15b0a5f1eb849a30bcea9a1e437e9a88ae2c6f92,"systemd: Always create the systemd unit files

Commit 5edae54 introduced the usage of systemd in Devstack. This allowed
the transition away from 'screen'. Systemd needs ""user unit files"" to
describe the services. Currently, those unit files get only created when
an openstack service (n-cpu, c-sch, g-api, ...) is in the list of enabled
services (`ENABLED_SERVICES`). This means, when Devstack is fully stacked,
there is no way to start the systemd unit of an openstack service which
is *not* in that list.

This commit changes that behavior, and creates the systemd unit files
independently of the list ENABLED_SERVICES. This means, when Devstack
is fully stacked, I can start a systemd unit of an openstack service which
wasn't in the ENABLED_SERVICES list. This allows more flexible lifecycle
management of openstack services in the gate, which is useful for tests
which test components which are not in the ""default configuration"" (e.g.
the ""nova-serialproxy"" service).

The `clean.sh` script purges all traces of systemd user unit files created
by devstack.

Change-Id: I0f7e1ee8723f4de47cbc56b727182f90a2b32bfb"
boris-42,2017-06-13 00:08:33,https://api.github.com/repos/openstack/devstack/git/commits/2b6e9ac47127453fdf907f3d9b56c71260ed0ba2,2b6e9ac47127453fdf907f3d9b56c71260ed0ba2,"Improve OpenStack performance by redcuing bcrypt hasing rounds number

Reduce bcrypt hashing rounds from 12 to 4 (minimal possilbe).

This is going to imporve a lot of perforamcne of OpenStack.

Bcrypt is hashing algorithm that is designed to use a lot of resources and
in that way stops brutforce attacks. It's exponential algorithm that depends
on amount of rounds. By default they use 12 rounds which is quite high value,
good enough for real secure production enviorments.

In case of DevStack it's going to slow down all authentication by many times.
Rally shows about 5 times slownest (adding 2-5 seconds to every authenticate)
DevStack is meant for developemnt & CI so performance is way more important than
security.

Change-Id: Id8c763d63cb91f37a774f9400f35c309f37d6f12"
cboylan,2017-06-12 21:57:59,https://api.github.com/repos/openstack/devstack/git/commits/f266a2dc81be050fec41a180906723ab5cf61df5,f266a2dc81be050fec41a180906723ab5cf61df5,"Install test-requirements with main install

To reduce the total number of invocations necessary for pip which isn't
the quickest thing ever (due to needing to evaluate constraints and deps
lists and what is currently installed) combine the main installation of
software with its test-requirements.txt file which should roughly halve
our pip invocations.

Change-Id: Ibcc3264136e66d34a879ad1c90a62e1bb6a84243"
kk7ds,2017-06-08 12:22:38,https://api.github.com/repos/openstack/devstack/git/commits/f63aa021cf996b500b6a570c0114c490bb57461a,f63aa021cf996b500b6a570c0114c490bb57461a,"Fleetify nova conductor for N cells

This makes us start two levels of nova-conductor processes, and one per cell.

Change-Id: Ice4aceac5dc44954db3661480b9365f54e47a4c9"
lbragstad,2017-06-12 14:41:42,https://api.github.com/repos/openstack/devstack/git/commits/dcd4b64c990660f9b11b999a3b70e17c36323c4c,dcd4b64c990660f9b11b999a3b70e17c36323c4c,"Increase KEYSTONE_LOCKOUT_DURATION to 10

Transient failures were being reported because the current lockout
period for users was too short. While this does increase the
run time IdentityV3UsersTest.test_user_account_lockout, it
allows for more flexibility if there is network latency or some
other factor that cause the lockout to expired before the
next authentication.

Change-Id: I61bc39bbc35ac414b4a72929a90845956c99eb1a
Closes-Bug: 1693917"
Annie-XIE,2017-05-27 08:30:52,https://api.github.com/repos/openstack/devstack/git/commits/f15fd26943c0209859d2b6ee7c0d500134b34f3f,f15fd26943c0209859d2b6ee7c0d500134b34f3f,"XenAPI: Move dom0 related operations to os-xenapi devstack plugin

When installing OpenStack via DevStack on XenServer, we need to
some preparation operations in dom0 which will refer the function
in devstack/tools/xen/functions file, but we are planning to move
the whole folder of tools/xen from devstack to os-xenapi, so it
this patch is to moving the dom0 related operation to os-xenapi
repo first.

Change-Id: Ib59d802a7a4eab4ccce0e29d80f29efa4655bc0b
Depends-On: I712ee74ce945859ba5118e09b7d9436ca2686cb7"
cboylan,2017-05-30 21:11:09,https://api.github.com/repos/openstack/devstack/git/commits/902158bb8fb8452d747225e5986fb789828e4e67,902158bb8fb8452d747225e5986fb789828e4e67,"Don't treat service as enabled if in disabled list

The old implementation for is_$service_enabled simply checked if any of
the subservices were enabled and if so the service was considered to be
enabled. This makes disabling services complicated as it means you have
to list every single subservice which can and do change over time.

Instead also check if the generic service name is in the disabled
services list and if so don't treat the service as enabled.

Change-Id: I7fe4dfca2cd9c15069d50a04161a29c5638291cb"
mriedem,2017-06-05 15:32:32,https://api.github.com/repos/openstack/devstack/git/commits/886d7dbe12bb0f25a3612d54877a41a917dee1f0,886d7dbe12bb0f25a3612d54877a41a917dee1f0,"nova: fix usage of scheduler_driver config option

The scheduler_driver option has been moved and deprecated. This
change uses the new group and name for the option.

Change-Id: I27aeff5911510c9f47191acaa0c0b5b71f977cd7"
dirkmueller,2017-06-06 21:28:26,https://api.github.com/repos/openstack/devstack/git/commits/bbf14db3a7cb72703ee19040e29242ed128ddf0f,bbf14db3a7cb72703ee19040e29242ed128ddf0f,"Remove temporary openSUSE-42.2 workaround

We required initially 42.2 test updates to be enabled as the
liberasurecode-devel update wasn't released. It is now released
so we can stop pulling that part in.

Change-Id: I4e514e317da8a95809593a49c6dce619bc4c021f"
mriedem,2017-05-31 19:39:48,https://api.github.com/repos/openstack/devstack/git/commits/aefc926cd45b2dc74d98f89e3a3b4cc92f2090ff,aefc926cd45b2dc74d98f89e3a3b4cc92f2090ff,"Support installing os-traits from git

This will be used in a src job for running os-traits changes
in a dsvm/tempest setup.

Change-Id: I3c4433fb1ca2787e96b577a15d584b625c364ef3"
cboylan,2017-05-31 20:17:22,https://api.github.com/repos/openstack/devstack/git/commits/f4dbd12f78236c7c98b68d7841783ed29d6e77d7,f4dbd12f78236c7c98b68d7841783ed29d6e77d7,"Set specified header size when enabling tls-proxy

As part of getting swift's functional testing to work properly through
the tls-proxy we need to increase the allowed request header size in
apache. This was a non issue without tls proxy as requests hit the
eventlet webserver directly which was configured via the swift config
which sets this relatively large limit (by default devstack configures
swift to have a header size limit of 16384).

Now we pass in an optional parameter to start_tls_proxy that includes
the desired header size. lib/swift then passes in the value it also
configures in its swift.conf.

If not explicitly set we default to 8190 which is apache2's default.

Change-Id: Ib2811c8d3cbb49cf94b70294788526b15a798edd"
dirkmueller,2017-05-27 21:43:05,https://api.github.com/repos/openstack/devstack/git/commits/e61e19ee82b8b35decdaa4151aa9d4762b8153cb,e61e19ee82b8b35decdaa4151aa9d4762b8153cb,"Enable opensuse-42.2 as a tested distro

openSUSE 42.2 passes testing on the experimental gate and
in order to add it as continuosly tested target we need to
add it to the positive list of tested distributions.

Change-Id: I46f94cfad828534f324994c3d21bddff40e8f9a2"
cboylan,2017-06-01 23:07:32,https://api.github.com/repos/openstack/devstack/git/commits/e28db4c2f297c8438fdc614954339f9178c07d54,e28db4c2f297c8438fdc614954339f9178c07d54,"Set swift functest config when using tls

Because the swift functests (which use test.conf) run out of a
virtualenv they don't get access to the system wide trust of the
devstack CA. Handle this by explicitly configuring the cafile to trust
in the test.conf file.

We also set the web_front_end to apache2 as that is what is terminating
TLS for us. The tests handle different web server behaviors using this
flag.

Swift's functests will need to read these values in and properly
configure things on its end.

Change-Id: I4cdba36ccab6acd76205184882ee29e4f1e12333"
cdent,2017-06-05 16:06:06,https://api.github.com/repos/openstack/devstack/git/commits/7a74c2ab24dc7083996df5c9ed7baf89cbf219f3,7a74c2ab24dc7083996df5c9ed7baf89cbf219f3,"Start placement before services that might like to use it

Otherwise those services, notably n-cpu, will try to register
resource providers before placement is ready.

Change-Id: I89fd4fa42baf3d19ee209c59cd85b97adb97c58b
Closes-Bug: #1695634"
mriedem,2017-06-05 15:01:45,https://api.github.com/repos/openstack/devstack/git/commits/1ade00da55cfc383b4832f8da03df01001b40fcd,1ade00da55cfc383b4832f8da03df01001b40fcd,"Fix scheduler_default_filters usage

The scheduler_default_filters config option moved out of the
DEFAULT option group into a more specific group, and the old
option is deprecated as a result so we need to update our usage.

Change-Id: I5d6574d19c3f16abadddb19f34cb645dcdcc07f4"
gongysh2004,2017-06-05 06:02:28,https://api.github.com/repos/openstack/devstack/git/commits/07b3bc24a3dc30cf4ec7ab2448128bf5a07fbfc0,07b3bc24a3dc30cf4ec7ab2448128bf5a07fbfc0,"Change restart Always to always

Change-Id: I1cb00cc012eda72ff50e958ba1fb04daeac69e26
Closes-bug: #1695822"
stmcginnis,2017-05-30 19:21:39,https://api.github.com/repos/openstack/devstack/git/commits/29ec28216f91eab118134b5444e0276ef845e0d0,29ec28216f91eab118134b5444e0276ef845e0d0,"Configure volume_clear setting per backend

volume_clear is currently set in the DEFAULT section,
but this is a backend specific setting, and therefore
needs to be set in the backend config section.

Change-Id: Ifa3a659bb4768b8915a0f23e7f14b0f3348d93d2"
cboylan,2017-05-25 21:57:19,https://api.github.com/repos/openstack/devstack/git/commits/2dfca047d97d4867048dbc9eec34b6f7ff54655e,2dfca047d97d4867048dbc9eec34b6f7ff54655e,"Don't run and check c-api if it is disabled

Previously we didn't block out the c-api startup code because the
devstack functions to start services check that for us. However, since
the cinder devstack code checks the service is up and runs the tls proxy
if tls is enabled we need to block it all off to avoid doing those
things if c-api is disabled.

Change-Id: I1c4f22f785af96caaf4baa21ff28714b9afd3458"
markuszoeller,2017-05-29 13:39:21,https://api.github.com/repos/openstack/devstack/git/commits/14728c7a51c56141eafbf58617814680887c6690,14728c7a51c56141eafbf58617814680887c6690,"docs: add ""kvm on s390x"" specific configuration in `local.conf`

The upstream CI runs exclusively on nodes with x86 architectures, but
OpenStack supports even more platforms. One of them is the KVM
on s390x (IBM z systems), which is supported since the *Kilo* release.
This change describes the additional settings in the ``local.conf`` file
to enable Devstack on that platform. This is useful for PoCs.

Change-Id: I943b552ca2e36210ac57f36c16db930eb5e58623"
cboylan,2017-05-28 00:52:55,https://api.github.com/repos/openstack/devstack/git/commits/35649ae0d2a356c310fd92f16356bdd086cab290,35649ae0d2a356c310fd92f16356bdd086cab290,"Make stack.sh work on SUSE

This adds packages to suse for systemd python linkages as well as
apache2 and which. And configures mod_proxy and mod_proxy_uwsgi with
a2enmod.

We also properly query if apache mods are enabled to avoid running
into systemd service restart limits. Enable mod_version across the board
as we use it and it may not be enabled by default (like in SUSE).

Also in addition to enabling mod_ssl we enable the SSL flag so that TLS
will work...

Finally we tell the system to trust the devstack CA.

Change-Id: I3442cebfb2e7c2550733eb95a12fab42e1229ce7"
mtreinish,2017-04-24 20:49:04,https://api.github.com/repos/openstack/devstack/git/commits/e6217a9719b88b550ccbbce7c9bc064cb746c1a3,e6217a9719b88b550ccbbce7c9bc064cb746c1a3,"Use uwsgi for glance-api

This commit adds support for deploying glance as a wsgi script under
uwsgi. To get around limitations in the uwsgi protocol when using
python3 for chunked encoding we have to setup uwsgi in http mode on a
random port listening on localhost and use mod_proxy to forward the
incoming requests. The alternative approach of having apache buffer the
requests locally with the send_cl option with mod_proxy_uwsgi only
worked on python2 and also has the limitation that apache is buffering
the entire chunked object, which could be several gigabytes in size.

Depends-On: I089a22a4be4227a551c32442dba27c426f54c87d
Change-Id: Ie98fb7da5e8ecfa49cd680b88139cb7034d5f88f"
mtreinish,2017-05-23 19:18:31,https://api.github.com/repos/openstack/devstack/git/commits/309b99ebcfa9d8bcf18c1d3eed1e52787c63f8c7,309b99ebcfa9d8bcf18c1d3eed1e52787c63f8c7,"Add a function to get an available random port

This commit adds a new function get_random_port to return a randomly
available port from the local port range.

Change-Id: Icaed180cc14602a74cdb3fd3456b690d8a4c729c"
cboylan,2017-05-28 03:53:20,https://api.github.com/repos/openstack/devstack/git/commits/4baac6572573945f49b3b3df7b7ea27f15955477,4baac6572573945f49b3b3df7b7ea27f15955477,"Use proper python when configuring certs

We have to do silly overrides of cert locations for requests for
reasons. If we are running under python3 then we were previously looking
in the wrong location for the requests certs. Update the cert fixing
function to properly use python3 to find the certs if python3 is
enabled.

Change-Id: Id1369da0d812edcf9b1204e9c567f8bfe77c48b2"
invalid-email-address,2017-05-27 07:01:16,https://api.github.com/repos/openstack/devstack/git/commits/fabc976e41ae1d036403403719aac42f111caa35,fabc976e41ae1d036403403719aac42f111caa35,"Fix configuration link syntax error

The configuration guide link has syntax problem in README.rst,
and the click the link will lead to page 404.

Fix the syntax problem

Change-Id: I47a1641a6898930dca508cdac98b1b43c05dc446"
hongbin,2017-05-24 18:42:33,https://api.github.com/repos/openstack/devstack/git/commits/de8580691d133fb8ad479ef53008d197e651332b,de8580691d133fb8ad479ef53008d197e651332b,"Expose etcd port as a variable

This allows devstack plugins to retrieve the etcd port from devstack
instead of hard-coding it.

Change-Id: I106b559b8ac0fb99a0426bce97a27f67e32d264d"
teferi,2017-05-26 16:02:52,https://api.github.com/repos/openstack/devstack/git/commits/d0db62a476e29355ca08db0237295139c8fce4f6,d0db62a476e29355ca08db0237295139c8fce4f6,"Use systemd-tmpfiles to create /var/run/uwsgi

On ubuntu contents of /var/run do not persist between reboots. Devstack
uses /var/run/uwsgi as home for wsgi sockets. This means that after
rebooting the machine services, that rely on uwsgi would fail to start.
Currently it affects keystone.service and placement-api.service.
This patch changes delegates directory creation to systemd-tmpfiles,
which would run on startup.

Change-Id: I27d168cea93698739ef08ac76c828695a49176c7
Closes-Bug: #1692767"
sdague,2017-05-23 19:53:48,https://api.github.com/repos/openstack/devstack/git/commits/e123edeebf1559731b451cec0fd3c06ff974bbf2,e123edeebf1559731b451cec0fd3c06ff974bbf2,"Add global_request_id to systemd logs

With cinder supporting this now, start logging global_request_id in
systemd logs. It will be None for all the services until the work
starts coming together, but it is safe to do.

Change-Id: Ic6ba1a42da88c03e43d89658b453f6a0b353e0db"
dims,2017-05-25 17:03:10,https://api.github.com/repos/openstack/devstack/git/commits/853b475bfd79621ce7189b133625cb404d618efb,853b475bfd79621ce7189b133625cb404d618efb,"Fix typo

should be etcd3

Change-Id: Icfa24654699a4e4e4be8a53f7bbe4634badbff7b"
amrith,2017-05-10 12:21:04,https://api.github.com/repos/openstack/devstack/git/commits/bb436d3373715253a17b6e1fd9211c2bc110a96f,bb436d3373715253a17b6e1fd9211c2bc110a96f,"Make use of Ubuntu Cloud Archive switchable

The trove development environment is typically a linux VM within which
openstack is installed, and trove launches guest vm's within that
environment. To make it possible for these vm's to launch in one human
lifetime, one must set vt/x and enable nested hypervisors to use with
kvm; qemu emulation will take way too long.

The new libvirtd (v2.5.0) in Ubuntu Cloud Archive doesn't handle
nested hypervisors well and if you use it, you end up with a guest
hanging on the GRUB line.

To enable that use-case, we provide ENABLE_UBUNTU_CLOUD_ARCHIVE which
the trove developer can set (to False) before running devstack.

Change-Id: Ia0265c67bb7d2a438575a03c0ddbf2d9c53266ed
Closes-Bug: #1689370"
teferi,2017-05-24 10:00:47,https://api.github.com/repos/openstack/devstack/git/commits/c0644f39a47958a416a82f10f1091d07fec97896,c0644f39a47958a416a82f10f1091d07fec97896,"Use correct argument order in truorfalse for USE_JOURNAL

truorfalse function from common-functions accepts default as the first
parameter. The arguments for USE_JOURNAL were mixed up and this commit
restores correct order.

Change-Id: Id3621b0e1910a625d6cfb8e81bd27bea82543ae9"
dims,2017-05-19 14:23:46,https://api.github.com/repos/openstack/devstack/git/commits/c0d16c279ad2a24bd13e2dbd6ae6986c37c4f230,c0d16c279ad2a24bd13e2dbd6ae6986c37c4f230,"Get rid of zookeeper from devstack

In Ibbb430fb1dbf66942168e0cb52d990ab6a2eb8d7, we are adding
etcd3 as a new base service. We should drop zookeeper
and use etcd3 as the backend.

Since cinder is the first service for this tooz+etcd3 DLM
scenario and cinder uses eventlet we have cannnot use the
grpc based driver in tooz. So new CINDER_COORDINATION_URL
that defaults to the etcd3's grpc HTTP gateway based
tooz backend.

We need to hold this change until the tooz change (see
Depends-On) is available in a tooz release.

Depends-On: I6184ed193482dad9643ccb2b97133d4957485408
Change-Id: Ia187e1a86413edf25b909b6bb57e84fb4930a696"
scheuran,2017-05-24 11:31:13,https://api.github.com/repos/openstack/devstack/git/commits/94b9fae4e9f43eb1329384cbeb1977baac60846e,94b9fae4e9f43eb1329384cbeb1977baac60846e,"Allow disabling etcd3

Etcd3 was enabled recently as new service in devstack [1]. But there's
no way to disable etcd3. This is required on architectures where no etcd
binaries are available (e.g. s390x). The long term goal of course should
be to have those binaries available. The short term circumvention is to
allow disabling the service in local.conf:

   disable_service etcd3

[1] https://github.com/openstack-dev/devstack/commit/546656fc0543ec2bc5b422fd9eee17f1b8122758
Change-Id: I6184ed193482dad9643ccb2b97133d4957485408
Partial-Bug: #1693192"
sdague,2017-05-24 11:56:10,https://api.github.com/repos/openstack/devstack/git/commits/bba924121c8ad5e95f5cf55ab489d4276dcc39b1,bba924121c8ad5e95f5cf55ab489d4276dcc39b1,"Use sha256sum instead of gpg for verification

gpg verification requires network connectivity which is non
mirrorable. We try to avoid that in devstack whenever possible. A
sha256sum is a totally reasonable way of knowing if the downloaded
package is valid.

Closes-Bug: #1693092

Change-Id: Id496ab53f76444f08dc6961f1ecd25f450cc96d7"
petrutlucian94,2017-05-24 08:31:56,https://api.github.com/repos/openstack/devstack/git/commits/2715fd0b4acf44842ceb67760bbc348093e7d70d,2715fd0b4acf44842ceb67760bbc348093e7d70d,"Do not upload vhdx images as vhd

This change ensures that when uploading vhdx images, we use the
proper format.

At the moment, vhdx images are uploaded as vhd, which can be
troublesome: first because this is misleading, second because the
actual image format may be checked, having the image rejected.

Change-Id: I9578be41ea9dc252404b7553679ac527e08a0ff6"
dims,2017-05-24 02:12:39,https://api.github.com/repos/openstack/devstack/git/commits/d8283fde660bee2d4a5f639197a6a7010988b269,d8283fde660bee2d4a5f639197a6a7010988b269,"Avoid installing etcd3 in subnodes

We need to handle this better, for now, just don't install
etcd in the sub nodes. We need to setup the proper clustering
mechanism if we want to have etcd3 running in multiple nodes

Change-Id: I8dd385e3c993942473e67d04367cdf74495dbeef"
mjozefcz,2017-05-23 08:17:48,https://api.github.com/repos/openstack/devstack/git/commits/0d9fd60ad4a999ba3d57042b7bc861d86126651a,0d9fd60ad4a999ba3d57042b7bc861d86126651a,"Change version of noVNC to stable

In master branch of noVNC project file vnc_auto.html was renamed to
vnc_lite.html Because of that nova-novncproxy looks for file that
actually doesn't exist.

We need to change branch of noVNC to latest stable, because other
projects are not ready yet to rename the path. Those projects
depends on noVNC package installed in system, but it is too old
for now for both CentOS (version 0.5) and Ubuntu (version 0.4).
The only way to make noVNC console working on Devstack is to change
the branch to stable one.

Unit test also has to be modified in order to ignore novnc repo
from checking against cloning non-master branch.

Change-Id: Iaf4761aedf93bc6b914a6a0c5cf1cfedcc29583c
Closes-bug: #1692513"
dims,2017-03-14 11:05:19,https://api.github.com/repos/openstack/devstack/git/commits/546656fc0543ec2bc5b422fd9eee17f1b8122758,546656fc0543ec2bc5b422fd9eee17f1b8122758,"etcd3 as a base service

ETCD_DOWNLOAD_URL is set to github url, in our CI, we can point
ETCD_DOWNLOAD_URL to a url in tarballs.openstack.org possibly
in devstack-gate

Download the etcd binaries and drop them into /opt/stack/bin and
use it from there. Cache the tgz for subsequent use (local workflow)

daemon-reload is called twice once from inside the write_user_unit_file
and then when we adjust the entries with additional things recommended
by the etcd team. We need a better way to do this in the future.

Added a TODO to verify the downloaded artifact later. The etcd team
posts gpg signature, we could verify that or run sha256sum and hard
code that in lib/etcd3 file. We would have to update it whenever we
bump the etcd3 version.

We use the public key ""CoreOS Application Signing Key <security@coreos.com>""
with ID FC8A365E to verify the integrity of the downloaded file

Any jobs that need to be run on architectures where v3.1.7 is not available
should rey the v3.2.0-rcX release candidates. We can switch to v3.2.0
when it gets released.

Initial version of this code was borrowed from the dragonflow
repo:
http://git.openstack.org/cgit/openstack/dragonflow/tree/devstack

Change-Id: Ibbb430fb1dbf66942168e0cb52d990ab6a2eb8d7"
nmagnezi,2017-05-22 09:40:57,https://api.github.com/repos/openstack/devstack/git/commits/ac2ae8c04779e4ad78d3813b8bc4bc4200b6d686,ac2ae8c04779e4ad78d3813b8bc4bc4200b6d686,"Remove nova cert from devstack

As a followup to I2c78a0c6599b92040146cf9f0042cff8fd2509c3, the nova
cert service should be removed from devstack.

Without this fix, stacking will fail is USE_SCREEN=True

Change-Id: I115580352fa380b896bae290f9a4efbfe4ff0dfd"
dhellmann,2017-05-09 11:35:45,https://api.github.com/repos/openstack/devstack/git/commits/4db30f9f05ad8aba9001d444313ee2915f86ecd1,4db30f9f05ad8aba9001d444313ee2915f86ecd1,"update sphinx

Update sphinx to the version used to build the documentation elsewhere
and turn on the option to treat warnings as errors to ensure that no
poorly constructed rst is introduced. Cap sphinx<1.6.1, since that
version has a conflict with pbr right now.

Change-Id: I19b3332229e2094988cbf8968c42a0323194a209
Signed-off-by: Doug Hellmann <doug@doughellmann.com>"
lyarwood,2017-05-19 12:40:56,https://api.github.com/repos/openstack/devstack/git/commits/00ff904b09e07880a274cc9b0cf35b6433dc5877,00ff904b09e07880a274cc9b0cf35b6433dc5877,"stack: Workaround libvirt issue with multiple of 16 byte fixed_key values

Unable to use LUKS passphrase that is exactly 16 bytes long
https://bugzilla.redhat.com/show_bug.cgi?id=1447297

Change-Id: I565339762549b076119ffedb6b83abfa12977f5e"
melwitt,2017-05-16 23:04:46,https://api.github.com/repos/openstack/devstack/git/commits/fc572a5da0cad4f0f6f247abfe835a5948d3aa47,fc572a5da0cad4f0f6f247abfe835a5948d3aa47,"Add --tcp option to dstat command for connection stats

This enables tcp stats (listen, established, syn, time_wait, close) in
dstat to allow us to get a high-level view of performance changes in
the system during gate runs.

Change-Id: Ifbffbed22446e7e6a3b825c18266b63d2f2e7718"
kevinbenton,2017-05-17 05:27:58,https://api.github.com/repos/openstack/devstack/git/commits/d1fe0e62e77b2eaf711e0b4c157dc571be9ad13e,d1fe0e62e77b2eaf711e0b4c157dc571be9ad13e,"Always setup libvirt for tap devices when using Neutron

This logic has been tied to OVS since it was introduced in [1] and
revised in [2]. However, many other backends may use tap devices that
aren't related to OVS, such as Calico[3] and Linux Bridge after [4]
merges.

This patch just removes the dependency on OVS specifically so
/dev/net/tun is added to cgroups whenever any Neutron backend is used.
This is done in other deployment tools like Juju[5] so it's not
unprecedented.

1. Ifab268f739b004db13024633e8abeb17691b9e46
2. Ic1da132fa421f1c70c10a319ee3239831b0f956f
3.
http://docs.projectcalico.org/master/getting-started/openstack/installation/ubuntu#compute-node-install
4. I23c5faaeab69aede1fd038a36f4a0b8f928498ce
5.
https://github.com/openstack/charm-nova-compute/blob/2790f81ecd32d9962617c4c3126621fffdc318a0/templates/qemu.conf

Change-Id: I075595158d8f3b5a6811c4794aa7b91912940db5
Partial-Bug: #1675343"
kk7ds,2017-05-16 15:50:53,https://api.github.com/repos/openstack/devstack/git/commits/1f55d38911cec5e597e7b10cc7324804c2ba063f,1f55d38911cec5e597e7b10cc7324804c2ba063f,"Add systemd ulimit override function and set an override for NOFILE

This sets our default ulimit NOFILE to 2048, which is double what we
set things like mysql'd max_connections to.

Change-Id: I5126bed1e6b9f8c64db00eae4151ac61e47b1bf8"
dhellmann,2017-05-09 11:35:08,https://api.github.com/repos/openstack/devstack/git/commits/84ce2f1c9b0e2aaba95015aea8ed9acaacb62e1b,84ce2f1c9b0e2aaba95015aea8ed9acaacb62e1b,"add a table of contents

Add a table of contents help readers find the information they need
without having to read all of the prose on every page. Remove the
site-map file, which doesn't appear to be linked anywhere.

Change-Id: Ib5761c9cfdd5a083df562413d727cb4ac7547c9e
Signed-off-by: Doug Hellmann <doug@doughellmann.com>"
cboylan,2017-05-12 17:16:33,https://api.github.com/repos/openstack/devstack/git/commits/2a6112ea9ab698714c6b4e92ddb829e2d4574a7c,2a6112ea9ab698714c6b4e92ddb829e2d4574a7c,"Document testing of new devstack features

At the Boston 2017 Summit I had mentioned that the pattern of using non
voting/experimental jobs was not working for getting new features into
Devstack. It is slow and leads people to being too conservative when it
comes to pushing new things in. Instead I suggested that since Devstack
changes are self testing we add the features, have change that enables
the feature, and if that changes passes we move forward with merging
(assuming code review is fine and necessary communication is done).

Document this process in the HACKING file so that we have something we
can point to when people want to add a new experimental job for every
new little thing (ipv6, tls, systemd, etc).

Change-Id: I5190cc3d3de4e81d52748347306133b5034d5531"
mellanox-cloudx-qa,2017-05-11 12:13:29,https://api.github.com/repos/openstack/devstack/git/commits/f24e29920b9ec40e924c71bbe1999e027d61390e,f24e29920b9ec40e924c71bbe1999e027d61390e,"Add support for image name end with .raw

Change-Id: If3bd42825a29755fa8e68fa5661d068c6f0019d2"
vinay50muddu,2017-05-11 09:33:43,https://api.github.com/repos/openstack/devstack/git/commits/db8a199b309e22f1341186517c00ec875ae421bb,db8a199b309e22f1341186517c00ec875ae421bb,"Add files/ironic-inspector* to .gitignore

When ironic-inspector is enabled through devstack, these two files
are created which needs to be masked.

Change-Id: I7a3db6fd6197da20cca1e938727d54195957ac18
Closes-Bug: #1690105"
sdague,2017-05-08 02:02:10,https://api.github.com/repos/openstack/devstack/git/commits/f28e7ef6ba48030d7bc5c6ea27f28b8a1fc281e9,f28e7ef6ba48030d7bc5c6ea27f28b8a1fc281e9,"uninstall libvirt-python and reinstall

libvirt-python compiles against the currently installed libvirt. If
you upgrade that, it needs to rebuild, however it won't change
versions, so pip install just noops. Force an uninstall / reinstall of
it every time to handle potential upgrades of libvirt.

Change-Id: If34541b34aa6d55eedaf6c603fd1fe92eb887308"
yamt,2017-05-01 08:00:42,https://api.github.com/repos/openstack/devstack/git/commits/1df17c94f512f0d1a084ba70cc0d4feb05feb8fb,1df17c94f512f0d1a084ba70cc0d4feb05feb8fb,"lib/neutron: Don't assume plugin config is provided by neutron repo

It isn't the case for plugins provided by subprojects.

Change-Id: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55"
Thingee,2017-05-05 15:59:25,https://api.github.com/repos/openstack/devstack/git/commits/621704f4b3503b2509db18a9a0db134d54789fab,621704f4b3503b2509db18a9a0db134d54789fab,"Stop setting osapi_volume_base_URL

This option is a duplicate of public_endpoint for Cinder.

Change-Id: I8aee1b9f93a09d2e92bde80c0e413e1540723bac
Depends-On: I2a74af7906d14cbc49b8cf0a88c344ca30fcbd26"
sdague,2017-05-05 11:50:52,https://api.github.com/repos/openstack/devstack/git/commits/f41bf2a92fab6ffcea48d8b295c04ace4d2fa7ff,f41bf2a92fab6ffcea48d8b295c04ace4d2fa7ff,"Set SyslogIdentifier for uwsgi processes

Now that we aren't using native journal messages by default, the
syslog identifier of all the uwsgi processes is the same. We should be
more explicit with those.

Change-Id: Id5406d02407b022d4016517c2e18890973876d88"
sdague,2017-05-04 20:05:19,https://api.github.com/repos/openstack/devstack/git/commits/eaadffe07b0516f103321c84013b755061ba7fb5,eaadffe07b0516f103321c84013b755061ba7fb5,"Always have ./clean.sh run ./unstack.sh

There was detection code in clean.sh to only run it if a screen
session was found, but in systemd world, that's obviously not
true. This was causing me (and others) substantial confusion.

Change-Id: I204e94cd86b8c67012aabfca74796e593151c3a4"
sdague,2017-05-04 19:56:37,https://api.github.com/repos/openstack/devstack/git/commits/e264b4ab323385e8c861da79c96cf9d643ca395d,e264b4ab323385e8c861da79c96cf9d643ca395d,"disable journald rate limiting

systemd-journald has rate limiting built in, but that's not sufficient
for the level of logging of OpenStack services during test
runs. Disable the rate limiting so that no log messages are lost.

Change-Id: I64599aba74c5a39276bb8f946cd236600b9cc81b"
ianychoi,2017-05-04 19:13:29,https://api.github.com/repos/openstack/devstack/git/commits/c2200bc880f8d7ea4b6489f8daafa9c02136e174,c2200bc880f8d7ea4b6489f8daafa9c02136e174,"Fix systemctl option: removes --unit option in doc

--unit option is for journalctl, not systemctl.
Just executing systemctl without ""--unit="" works.

Change-Id: I9752561332e62ec6327b17b12d2d868892718041"
sdague,2017-05-04 17:08:25,https://api.github.com/repos/openstack/devstack/git/commits/148d58c3519aca4723edd6eb59fc7150b92e74d7,148d58c3519aca4723edd6eb59fc7150b92e74d7,"Make devstack fail early for common systemd pitfalls

There are a couple of issues that have ended up being hit by devstack
plugin authors which we can detect and error in a much nicer way
instead of them having a cryptic systemd failure.

Change-Id: I45e4ac363aeefb4503015f9e1b57c58f79b58f40"
TommyLike,2017-05-04 09:56:22,https://api.github.com/repos/openstack/devstack/git/commits/401de4d20cb204b811dd5877e9e7688d72eb6e39,401de4d20cb204b811dd5877e9e7688d72eb6e39,"Copy 'resource_filters.json' file to cinder config folder

Cinder use 'resource_filters.json' to config allowed filters,
copy the new added json file when set config files.

Change-Id: I397cb5859e2b3349af3cb07ee02b6463c6eccc35
Depends-On: 27aeba0b5d3cf64286125937e8336ba1d3b26b16"
sdague,2017-05-03 13:58:21,https://api.github.com/repos/openstack/devstack/git/commits/b2bfe5617ac43a678a9113d5c955f5456c151319,b2bfe5617ac43a678a9113d5c955f5456c151319,"Turn off use_journal because of eventlet concerns

use_journal uses the systemd native path for logging, however there
are concerns that this might be negatively interacting with
eventlet. To be on the safe side fall back to stdout.

This introduces a USE_JOURNAL option which will let folks turn this
back on for testing.

This also adjusts the debug lines. When using the journal the pid
reported by systemd is correct. When using stdout, it will be the
parent process id, so we need to keep it to see which child each thing
is coming from.

Change-Id: Id7891c532bf99c099252e82d511a37a49506fea9"
sdague,2017-05-02 12:45:34,https://api.github.com/repos/openstack/devstack/git/commits/3336b4bed6455e9e77a7696b353d8798270c5b2e,3336b4bed6455e9e77a7696b353d8798270c5b2e,"remove out of date heat references

This removes some remnant heat code and references now that heat is
running in a plugin. Before merging this patch the heat team should
verify they got everything they needed into their heat plugin, as
there were more parts left than I was expecting.

Change-Id: I477e3a6e75591aa8ff836c28f7ef56aa1b5f8727"
sdague,2017-05-02 12:49:17,https://api.github.com/repos/openstack/devstack/git/commits/2686b36c32cf99e3fad5e55466d8c582b58f82cb,2686b36c32cf99e3fad5e55466d8c582b58f82cb,"Correct various inaccuracies in overview.rst

This still was referencing nova-network

Change-Id: Id584d3fd26482330f42319aee4cb36981066db55"
sdague,2017-05-02 12:40:26,https://api.github.com/repos/openstack/devstack/git/commits/29c1f981feded19f81f873e5147428ec87cd7c52,29c1f981feded19f81f873e5147428ec87cd7c52,"convert README to rst

Everything else in our documentation is RST, we should convert the
Readme to RST as well (as github supports this, so it's fine to read
it there)

Change-Id: If2aabf629affc09b5daa570f4ca3bdf268cb53b0"
sdague,2017-05-02 13:08:17,https://api.github.com/repos/openstack/devstack/git/commits/27f66e9830727addd3d84b7a23eee907210540bb,27f66e9830727addd3d84b7a23eee907210540bb,"Fix logging when under systemd

Both keystone and neutron didn't yet have systemd awareness for
setting up logging (i.e. drop the extra date / time stamps)

Change-Id: Ib442c603c9afb679676976c37c2c6122201ae846"
sdague,2017-05-02 10:14:11,https://api.github.com/repos/openstack/devstack/git/commits/8b8441f3becbae2e704932569bff384dcc5c6713,8b8441f3becbae2e704932569bff384dcc5c6713,"Default developer use case to systemd

This moves the developer use case over to systemd, and updates all the
relevant docs to discuss the systemd workflow instead of screen. It
does so by defaulting USE_SCREEN=False, so will not impact people that
set it explicitly.

Change-Id: I6d664612bc2b850eb7f56852afbc841867223ab7"
sdague,2017-05-01 14:52:38,https://api.github.com/repos/openstack/devstack/git/commits/803acffcf9254e328426ad67380a99f4f5b164ec,803acffcf9254e328426ad67380a99f4f5b164ec,"Make ./clean.sh work in more situations

When transitioning between different wsgi modes, or service modes, we
should really safely stop and cleanup things that are started in any
service mode, which makes it easier to ensure that we don't leave
things around from past runs.

Change-Id: I33acbee39e1a2da2bfd79a5dd54b84a12a778be1"
sdague,2017-04-20 10:54:51,https://api.github.com/repos/openstack/devstack/git/commits/c13b8a1f33a3ea78388794896a3e7f3256c89ec9,c13b8a1f33a3ea78388794896a3e7f3256c89ec9,"try to use unversioned keystone endpoints everywhere

Change-Id: Iad2a3654d8ba181a7ad452d8aba872a8313d4ece"
sdague,2017-04-19 20:22:42,https://api.github.com/repos/openstack/devstack/git/commits/bb4431126b80be4805f1072442676797e6019576,bb4431126b80be4805f1072442676797e6019576,"Try to remove /identity_admin

We should be able to operate without the identity admin endpoint,
given that in v3 it's all the same. This floats that out there to see
if we can or not.

Change-Id: Ic233f6b43dd1e3cfdadff0f18aba4ea78825a996"
sdague,2017-04-19 20:12:00,https://api.github.com/repos/openstack/devstack/git/commits/38d4782c9f6b8558fea2c5268b9bf5de5070a0fe,38d4782c9f6b8558fea2c5268b9bf5de5070a0fe,"remove auth_uri from keystonemiddleware config

auth_uri is not a keystonemiddleware option, and it's use in config
files is confusing at best. Remove it for clarity.

Change-Id: Ie3a9ab30d81809363444d5f3b41588b3889dc185"
mtreinish,2017-04-25 05:30:10,https://api.github.com/repos/openstack/devstack/git/commits/fa898f5174e3aff9c65366024c170ce3cdda306d,fa898f5174e3aff9c65366024c170ce3cdda306d,"Add external lock dir to glance api config

As we move to enabling glance-api to use a wsgi script that might be run
as multiple processes, there are a couple places where external
synchronization is necessary. To use this we need to set the lock_path
config option from oslo.concurrency so external locks will work.

Change-Id: I9a66a8636d12037ff9aa4fb73cc3f9b9343dd7e9"
sdague,2017-04-26 10:57:58,https://api.github.com/repos/openstack/devstack/git/commits/c006bbdeb26df2c60f43d222bdf918f9e24d551f,c006bbdeb26df2c60f43d222bdf918f9e24d551f,"make USE_SCREEN=False imply USE_SYSTEMD=True

In order to start making the transition in the gate make
USE_SCREEN=False also mean USE_SYSTEMD=True. We'll never actually
declare USE_SYSTEMD=True in the gate (as that doesn't exist for stable
branches), but this will let us roll over the existing transition.

We also have to install systemd-python 234 because we are recording
exception info in the journal, and all versions before that had a bug
in processing that.

Remove the somewhat pointless screen following journalctl commands. We
really don't want or need those, and they tend to build up over time.

Depends-On: I24513f5cbac2c34cf0130bf812ff2df6ad76657c

Change-Id: I6af6d1857effaf662a9d72bd394864934eacbe70"
emonty,2017-04-27 23:27:36,https://api.github.com/repos/openstack/devstack/git/commits/e43f60ba2a3a227918e5fdb652a0adc2643f618d,e43f60ba2a3a227918e5fdb652a0adc2643f618d,"Use the proper keystone endpoints in clouds.yaml

KEYSTONE_SERVICE_API is the keystone endpoint and it is what we should
use. The admin url should DIAF - but until it does, it CERTAINLY should
not be the thing we put into clouds.yaml.

Change-Id: If8196a04f852f633e0b7548793f68c92376aa6da"
cboylan,2017-04-27 16:54:27,https://api.github.com/repos/openstack/devstack/git/commits/faffde1f970c0786d0256e4d51725fbe2ceda063,faffde1f970c0786d0256e4d51725fbe2ceda063,"Use string cert CA defaults

Switch from sha1 to sha256 and from 1024 bits to 2048 bits. Do this
because things don't like the old inseucre sha1+1024bits combo.

Change-Id: Iae2958969aed0cd880844e19e8055c8bdc7d064d"
ianw,2017-04-27 06:07:51,https://api.github.com/repos/openstack/devstack/git/commits/bc6c992e3c5cf7ae48e64203cc83cb7665c5050e,bc6c992e3c5cf7ae48e64203cc83cb7665c5050e,"Remove fping requirement

The os-fping API was deprecated in nova in
I92064cbcb5f6414da0c9d294f912a860428af698.  I can't see anything
obviously using it on codesearch.

This is only in EPEL for centos, which I'm trying to remove.  But I
think less dependencies is always better than more in general hence
the removal.

This is essentially a revert of
Ibdc7479a9038321e4fc3953774a6f3e1dac90530

Change-Id: I163fc48c860bae2a92c83cfdaed26b2e54630e20"
ianw,2017-04-19 05:42:34,https://api.github.com/repos/openstack/devstack/git/commits/a881b887211a6bc9ce24a9b42400dffe88abdb67,a881b887211a6bc9ce24a9b42400dffe88abdb67,"Switch to lioadm for centos cinder

Centos/RHEL 7 doesn't support tgtd.  While the packages are still in
EPEL, there's no point in testing because nobody runs like this.
Switch cinder to use lioadm which uses LIO, and update package
installations.

Depends-On: I964917d13d9415223845ac17eb804ee7faceaf6f
Change-Id: Idc5a4e856bfc93e9dc650d565a98a8e9b3df3481"
ianw,2017-04-21 01:48:12,https://api.github.com/repos/openstack/devstack/git/commits/71d20e6582e07a4567abc785e7237872574b6ac8,71d20e6582e07a4567abc785e7237872574b6ac8,"Always disable use of libvirt wheel with UCA

It's not only using our upstream caches that you might get an old
libvirt-python wheel that is incompatible with UCA.  Move the ignore
out of the mirror check to apply it globally.

This is an alternative to Iba301a8c80c9ed584f5fb5a816f3d2cf5f5f0e77

Change-Id: I588b1e8e49aa60f3ce976dc1b6c8013ba1d88079"
mtreinish,2017-02-16 20:45:11,https://api.github.com/repos/openstack/devstack/git/commits/befe0925e7cb3d3b34ee9e856c4bc822a499975f,befe0925e7cb3d3b34ee9e856c4bc822a499975f,"Differentiate between DEFAULT_IMAGE_NAME and filename

The DEFAULT_IMAGE_NAME variable is used to reference the name of the
default image in glance after it has been uploaded by devstack. It is
used both inside and outside of devstack for that purpose. However, when
configuring tempest there are some tests which also do image uploads and
need a filename for specifying which file they should upload into glance
for testing purposes. Previously we were just using DEFAULT_IMAGE_NAME
for both purposes, but this causes a conflict if the name of the image
we upload into glance does not have a file extension. So instead of
conflating the things this commit differentiates between them and adds a
new DEFAULT_IMAGE_FILE_NAME variable to use for this purpose.

Change-Id: Icf74badcf2093d8c75db538232b10b3ac7b86eb8"
scheuran,2017-04-26 11:40:42,https://api.github.com/repos/openstack/devstack/git/commits/92e6b1a0e83cbfeeb1d29bbe2b8c71e212f885fd,92e6b1a0e83cbfeeb1d29bbe2b8c71e212f885fd,"default gateway regex: use exact match for iface name

If the current interface has a default gateway configured is
determined by the regex

  default.+<interface-name>

If for example 'enc1' is used, but also an interface 'enc1800' is
present, the regex will also match the 'enc1800' default gateway.

This patch fixes this by looking for <interface-name><white-space>.
This way 'enc1800' is not matched.

Change-Id: Id1d58f5be6296c3a37aef788359ae8fe0fe11d8b"
ianw,2017-04-26 00:50:29,https://api.github.com/repos/openstack/devstack/git/commits/f6a2d2cd4edd06408690081d6207ff73b76f543a,f6a2d2cd4edd06408690081d6207ff73b76f543a,"Always restart apache

As described in [1], it seems that mod_wsgi is not ""graceful"" reload
safe.  Upon re-init, it can end up in a segfault loop.

The ""reload"" (not *restart*) after setting up uwsgi was added with
I1d89be1f1b36f26eaf543b99bde6fdc5701474fe but not causing an issue
until uwsgi was enabled.

We do not notice in the gate, because the TLS setup ends up doing a
restart after this setup.  In the period between the
write_uwsgi_config and that restart, Apache is sitting in a segfault
loop, but we never noticed because we don't try talking to it.  Other
jobs that don't do any further apache configuration have started
failing, however.

Looking at the original comments around ""reload_apache_server"" I'm not
sure if it is still necessary.  [2] shows it is not used outside these
two calls.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1445540
[2] http://codesearch.openstack.org/?q=reload_apache_server&i=nope&files=&repos=

Closes-Bug: #1686210
Change-Id: I5234bae0595efdcd30305a32bf9c121072a3625e"
rabi,2017-04-20 05:25:16,https://api.github.com/repos/openstack/devstack/git/commits/aa26baacb8206967d61aef74686be94e3f8c90b8,aa26baacb8206967d61aef74686be94e3f8c90b8,"Create custom dir for uwsgi domain sockets

On Centos, apache has a private view of /tmp and thus can't see this
socket, causing keystone to fail. This happened after
I46294fb24e3c23fa19fcfd7d6c9ee8a932354702.

Move it to /var/run.

Closes-Bug: #1684360
Change-Id: I47f091656802719c259752454ec88bf50760b967"
afrittoli,2017-04-20 22:37:32,https://api.github.com/repos/openstack/devstack/git/commits/ef1e88ec09bda30cad19589629744b59e12b4093,ef1e88ec09bda30cad19589629744b59e12b4093,"Enable ssh validation by default

The -ssh job with ssh validation enabled has been quite stable
for a while now [0] so I think it's time to add ssh validation
to the integration gate to prevent regressions from lurking in.

Doing this in devstack ensures that the change only affects
master as we didn't test ssh validation on on stable branches.

[0] http://status.openstack.org/openstack-health/#/g/build_name/gate-tempest-dsvm-neutron-full-ssh?duration=P3M

Change-Id: I187e560911f5d5d482eb7959e5174068c4c9a801"
sdague,2017-04-20 19:11:43,https://api.github.com/repos/openstack/devstack/git/commits/9bfabc68c4ff2094ed8463b11382d6982743b768,9bfabc68c4ff2094ed8463b11382d6982743b768,"Make openrc more robust for grenade scenarios

This makes openrc more robust for the grenade scenarios by having a
sane fallback when stackrc is not found.

Change-Id: I297ba519d581d2b6fb4d80d59434acace054bada"
sdague,2017-04-19 19:51:52,https://api.github.com/repos/openstack/devstack/git/commits/1b245cef7f078139f95260b080558422063f363f,1b245cef7f078139f95260b080558422063f363f,"Cleanup duplicate get_or_add_user_domain_role

It turns out that we ended up with duplicate versions of this function
merging on top of each other within 3 days, and gerrit didn't catch
it. Boo gerrit. Boo bash.

Change-Id: Ic6aa2f9bafdec906de2bc51d5929beeec48a6a40"
pabelanger,2017-04-19 17:19:21,https://api.github.com/repos/openstack/devstack/git/commits/37c7843aad745fcde7584777e8a7ec896bb154e2,37c7843aad745fcde7584777e8a7ec896bb154e2,"Increase rsyslog buffer sizes.

Swift proxy logs to syslog during the devstack-gate tempest runs. To
better capture the swift logs increase the rsyslog buffer size to 6k
bytes allowing for longer messages like tracebacks.

This was setup by openstack-infra previous during our diskimage
builds.

  I03e42964e14d9f930c07ed047851bdf775639c59

Change-Id: Iaa232335865410600c93f47d4777ed4f1bce08e2
Signed-off-by: Paul Belanger <pabelanger@redhat.com>"
tipabu,2017-04-19 04:51:57,https://api.github.com/repos/openstack/devstack/git/commits/f43ea4776668e259b3053e0c1d4b7d13685f424d,f43ea4776668e259b3053e0c1d4b7d13685f424d,"Send useful auth_port and auth_prefix to swift's test.conf

Until we can test with a version of swiftclient that knows how to eat
auth_uri, swift still needs a working gate.

Change-Id: I09f9ad5c87b542df962a79898e06fbf1e968b1e3
Related-Change: I46294fb24e3c23fa19fcfd7d6c9ee8a932354702
Related-Change: Ie427f3b0b9eb834ff940fa5d52444a5a6cdcab15"
sdague,2017-04-18 19:16:37,https://api.github.com/repos/openstack/devstack/git/commits/0effa1a6cb6960b0d1cf82087e6d60c066b7a5f6,0effa1a6cb6960b0d1cf82087e6d60c066b7a5f6,"remove some unused *_PROTOCOL from export

Things like SERVICE_PROTOCOL and KEYSTONE_AUTH_PROTOCOL shouldn't
really be exported in openrc as they encourage using them directly to
build up keystone urls instead of actually using the OS_AUTH_URL.

Remove them.

Change-Id: I4b7cc680f7f14dae29b706a227be540c9e212cad"
cdent,2017-04-18 15:54:12,https://api.github.com/repos/openstack/devstack/git/commits/2fcdaac56e20f1002ae76c6ae1b30a093452d21b,2fcdaac56e20f1002ae76c6ae1b30a093452d21b,"Make a2dissite fail softly if the site is not enabled

a2dissite will return a non-zero error code if the site that is being
disabled is not currently enabled (that is, if the conf file for it does
not exist). This can happen during development if you've been messing
with files by hand. Rather than exploding out of a ./stack.sh, accept
the missing file as meaning ""it's disabled"" and carry one. The rpm
version of disable, which does not use a2dissite, does this already.

Change-Id: Ie5dfd42efdff4bdba5ffaa765af000dd8e1d596e"
cdent,2017-04-18 15:52:25,https://api.github.com/repos/openstack/devstack/git/commits/e0be9e3a2e527754a72d6282883370c09159fac1,e0be9e3a2e527754a72d6282883370c09159fac1,"Remove a TODO that no longer applies

The removed TODO was talking about USE_SYSTEMD, not WSGI_MODE.

WSGI_MODE makes sense, so the TODO has been done.

Change-Id: Ib574ef123ea4c82d4d88012c990cd1ad660d7879"
sdague,2017-04-13 17:33:16,https://api.github.com/repos/openstack/devstack/git/commits/6ed53156b6198e69d59d1cf3a3497e96f5b7a870,6ed53156b6198e69d59d1cf3a3497e96f5b7a870,"Convert keystone to use uwsgi with the proxy

This makes keystone use the proxy uwsgi module when running in uwsgi
mode. It also introduces a new stackrc variable which is WSGI_MODE
that we can use to control the conditionals in services that current
work with mod_wsgi.

Also update retry timeouts on proxy pass so that workers don't disable
their connections during polling for initial activity.

Change-Id: I46294fb24e3c23fa19fcfd7d6c9ee8a932354702"
sdague,2017-04-13 17:36:42,https://api.github.com/repos/openstack/devstack/git/commits/64ffff9b7d79b9e75616cf43f9f7b31c89026f30,64ffff9b7d79b9e75616cf43f9f7b31c89026f30,"Convert placement to new uwsgi mode

This converts the placement API to use the new WSGI_MODE variable
(which is not introduced until the next changeset). We do this so that
placement and keystone patches can be reviewed independently, but
there are some hidden coupling of mod_wsgi setup which happens only in
keystone, so if we do keystone first, it breaks placement.

Change-Id: Id5b2c67701bcc7b12c8e3764c7199d10f85df80f"
sdague,2017-04-13 17:28:12,https://api.github.com/repos/openstack/devstack/git/commits/604e598e2abca37c84d6cd3c84ad8fa5295fb327,604e598e2abca37c84d6cd3c84ad8fa5295fb327,"Install and enable apache uwsgi proxy

The uwsgi proxy version that comes with Ubuntu xenial is too old, so
we have to build it from source. This is a temporary solution until
the next LTS.

This lays the ground work for using it in keystone.

Change-Id: I00fb1759e6988c7df0ce0f3df5ff1ce9fd7cd381"
sdague,2017-04-17 18:31:21,https://api.github.com/repos/openstack/devstack/git/commits/a1446b960fa7c21bc1e7141921d6fc95c6e212d2,a1446b960fa7c21bc1e7141921d6fc95c6e212d2,"always retry proxy errors

When an apache worker gets a proxy error, it will not retry talking to
the backend server until the retry timeout expires. We bring up the
proxy server *before* the backend server, and poll it. If we are
running a small number of workers, there is a likely chance that we're
going to hit one that errored before the backend was up, thus failing
for now real reason.

Set this to 0 instead to mean always retry failed connections.

Change-Id: I9e584f087bd375f71ddf0c70f83205c425094a17
Ref: https://httpd.apache.org/docs/2.4/mod/mod_proxy.html#proxypass"
sdague,2017-04-13 14:11:48,https://api.github.com/repos/openstack/devstack/git/commits/f3b2f4c85307b14f115a020f5eaf6c92026b55b4,f3b2f4c85307b14f115a020f5eaf6c92026b55b4,"Remove USE_SSL support

tls-proxy is the way we're now doing a standard install using https
between services. There is a lot more work to make services directly
handle https, and having python daemons do that directly is a bit of
an anti pattern. Nothing currently tests this in project-config from
my recent grepping, so in the interest of long term maintenance,
delete it all.

Change-Id: I910df4ceab6f24f3d9c484e0433c93b06f17d6e1"
sdague,2017-04-13 13:08:39,https://api.github.com/repos/openstack/devstack/git/commits/2f8c88e0532b6b712cc386a9c15d833d3629b19a,2f8c88e0532b6b712cc386a9c15d833d3629b19a,"Factor out code to write uwsgi config files

Instead of this code all existing in keystone inline, factor out into
a dedicated set of functions, and make keystone use this. This drops
uwsgi supporting https directly, but that's not going to be a
supported model going forward once we get to proxy only anyway.

Change-Id: I1d89be1f1b36f26eaf543b99bde6fdc5701474fe"
sdague,2017-04-13 13:02:14,https://api.github.com/repos/openstack/devstack/git/commits/2b85cf0f06b099f9a771e9fbdbdef173c9d04784,2b85cf0f06b099f9a771e9fbdbdef173c9d04784,"Just use normal restart for apache

We're now in a systemd world where systemd is managing the restart
effectively, there is no reason to be tricksy with apache now that
we're not working around weird upstartd issues.

Change-Id: Ifadfd504eb10a90db5177ea9180b9cd8331a2948"
sdague,2017-04-13 12:56:44,https://api.github.com/repos/openstack/devstack/git/commits/4da0fa8c1387e3888de1f4174b478e82e7cc7a67,4da0fa8c1387e3888de1f4174b478e82e7cc7a67,"Always install apache and proxy-uwsgi

We're going to want to start using it by default so just start with
always installing it. This should not negatively impact anything else.

Also had to fix the test using cowsay, now that cowsay depends on
cowsay-off.

Part of uwsgi in devstack.

Change-Id: I8306a992d9d006bc0130a255145a6880065aa0df"
briannapoulos,2017-04-14 17:00:19,https://api.github.com/repos/openstack/devstack/git/commits/f9c2a68338aa566051bb301aa0f1b3dec44f5c90,f9c2a68338aa566051bb301aa0f1b3dec44f5c90,"Add cursive to LIBS_FROM_GIT

Allow cursive to be installed from git instead of pip.

The barbican-tempest-plugin, which uses cursive indirectly
through nova and glance, would benefit from the ability to
use cursive from git instead of pip.

Change-Id: Icae7d310f1ee392d080e7c8e421a26d7c0ef4727"
briannapoulos,2017-04-14 15:33:56,https://api.github.com/repos/openstack/devstack/git/commits/968ebeee4146b306c026ca9b51d43ae6a993d1e2,968ebeee4146b306c026ca9b51d43ae6a993d1e2,"Add castellan to LIBS_FROM_GIT

Allow castellan to be installed from git instead of pip.

Castellan has recently been moved under the oslo framework,
and the barbican-tempest-plugin tests which use castellan
would benefit from the ability to usd castellan from git
instead of pip.

Change-Id: I96edca90c61aec84637b7b1ce842eff04c521923"
sdague,2017-04-14 00:33:42,https://api.github.com/repos/openstack/devstack/git/commits/4222ee35f64d1950ecfc146b51738b74c316e758,4222ee35f64d1950ecfc146b51738b74c316e758,"Make auth_uri available in the swift test setup

The swift functional tests use a config which requires keystone ports,
we're about to make those go away. This exposes the actual auth_uri to
swift for consumption.

Change-Id: I5868dfdb8e5f0972ba04e359d212b04351502436"
pabelanger,2017-04-13 19:06:36,https://api.github.com/repos/openstack/devstack/git/commits/bc4b8eb5bf4804cb2e6e5d9d07f1b87d46a6a689,bc4b8eb5bf4804cb2e6e5d9d07f1b87d46a6a689,"Enable EPEL mirror by default

We recently disabled EPEL in openstack-infra, enable it again.

Change-Id: I213b302b34b740354d63b69e8ac7f4e1b3d3cdd7
Signed-off-by: Paul Belanger <pabelanger@redhat.com>"
sdague,2017-04-13 12:31:00,https://api.github.com/repos/openstack/devstack/git/commits/13a29ab787657491aff3b463e1a328a0872f65d0,13a29ab787657491aff3b463e1a328a0872f65d0,"Add python3-systemd package

Otherwise journal logging under python3 doesn't work

Change-Id: Ib136d88a522c40482a3e94d0386a26600236f135"
pabelanger,2017-04-13 16:07:57,https://api.github.com/repos/openstack/devstack/git/commits/1f92d44544998291165942ae59626ccac7731fc8,1f92d44544998291165942ae59626ccac7731fc8,"Use apt_get_update after we setup UCA

It is possible some CI system are using an http_proxy. Use the helper
function to cover this use case.

Change-Id: Iee685147ca0244fc7de328a765f937602223de20
Signed-off-by: Paul Belanger <pabelanger@redhat.com>"
sdague,2017-04-13 13:34:12,https://api.github.com/repos/openstack/devstack/git/commits/8f8b274e60ac94bd6b2486ea075217411550c257,8f8b274e60ac94bd6b2486ea075217411550c257,"Clean up apache 2.2 cruft from Ubuntu 12.04

All the apache 2.2 handling is obsolete now, as we don't support those
distros, so get rid of it.

Change-Id: I9c0f78af2b32afabb2c4264aebc92089c4694f91"
cboylan,2017-04-12 20:57:36,https://api.github.com/repos/openstack/devstack/git/commits/3d4c6d2dd16280de150b462ae51ccf85a932c7c1,3d4c6d2dd16280de150b462ae51ccf85a932c7c1,"Install netcat for libvirt live migration

Libvirt live migration requires netcat. It appears that newer UCA
packages may not automagically pull this in so explicitly list it as a
dependency of nova compute here. Note that netcat/netcat-traditional do
not appear to work and netcat-openbsd is required.

Change-Id: If2dbc53d082fea779448998ea12b821bd037a14e"
CyrilRoelandteNovance,2017-04-06 13:23:13,https://api.github.com/repos/openstack/devstack/git/commits/a48ffa8c5823d2e0c26fff6ec9804f9da1981ffa,a48ffa8c5823d2e0c26fff6ec9804f9da1981ffa,"Do not ask users to overwrite their /etc/sudoers file

Give instructions to add permissions for stack user without touching
main config.

Closes-Bug: #1680459
Closes-Bug: #1681418
Change-Id: Idd27e684e63c616466de28c07551729a1e091bdd"
cboylan,2017-03-29 17:28:55,https://api.github.com/repos/openstack/devstack/git/commits/c9a9e415b9a955525a407b78650f93e9193c8117,c9a9e415b9a955525a407b78650f93e9193c8117,"Test using UCA for libvirt 2.5.0

We have had issues with libvirt 1.3.1 which is stock on Xenial. Try
using 2.5.0 from UCA instead.

Related-Bug: 1643911
Related-Bug: 1646779
Related-Bug: 1638982
Change-Id: Ia4434541c71f050fe1ffb54f4c4c1e302391d00b"
Annie-XIE,2017-04-10 05:37:50,https://api.github.com/repos/openstack/devstack/git/commits/2a2db2efc522306acf90b2fb9cf0106cf7cf8e6d,2a2db2efc522306acf90b2fb9cf0106cf7cf8e6d,"XenAPI: Remove final references to Integration bridge

The change to remove references of XEN_INTEGRATION_BRIDGE
(If5886e3711765a97f40f20e478f958b988b5a620) unfortunately left some
code which should have been removed.  This remaining code caused an
error in some situations when deploying from scratch (which the CI
avoids for expediency)

Change-Id: Ia568462c9cca8cff8fcfada8148d185609d61a7d"
leticiawanderley,2017-04-06 23:40:19,https://api.github.com/repos/openstack/devstack/git/commits/7f80649eaf1969a4b3d22fa8c654dc68f7000f30,7f80649eaf1969a4b3d22fa8c654dc68f7000f30,"Removes double colon on script comments

A few comment lines on stack.sh had two colons where only one colon
was necessary.

Change-Id: Ia02e1ca28a8fadc2e5477201887a1f4d59996db8"
dtroyer,2017-04-07 17:28:40,https://api.github.com/repos/openstack/devstack/git/commits/9fecc2ad04a9414bfb3127d80ee02fed1d36a30d,9fecc2ad04a9414bfb3127d80ee02fed1d36a30d,"Add OpenStackSDK as a lib install

This is required to install python-openstacksdk from source for testing
other projects against master.

Change-Id: Iee7b043ac7d381dadf89d26098f69e935ed81d6b"
sdague,2017-04-06 14:52:48,https://api.github.com/repos/openstack/devstack/git/commits/eb235814d3436953d548bb83c65851f7cec6d1e7,eb235814d3436953d548bb83c65851f7cec6d1e7,"Install systemd python bindings by default

These are needed for oslo.log to use journald support. They are
*probably* already installed, but just in case we force install them.

Change-Id: I0dc66bd2628ff4b3e1caa7ab4366d7f36ff7ea94"
sdague,2017-04-05 11:23:37,https://api.github.com/repos/openstack/devstack/git/commits/5cd44dbe6c0a641258f36d7959952bc971435b74,5cd44dbe6c0a641258f36d7959952bc971435b74,"add use_journal if we are enabling systemd

This is going to be a new option in oslo.log, which we can start
setting early to make it take effect.

Change-Id: If0e5e4717a1810c759058f33608fbac7543f2d85"
mtreinish,2017-03-29 20:47:57,https://api.github.com/repos/openstack/devstack/git/commits/9c5ffd8d132866bd6120696e138e5b7b42dc3f23,9c5ffd8d132866bd6120696e138e5b7b42dc3f23,"Handle uwsgi on systemd properly

uwsgi is a different service type under systemd and shouldn't be run as
a standard oneshot type. The uwsgi docs outline a good pattern for
writing systemd unit files:

http://uwsgi-docs.readthedocs.io/en/latest/Systemd.html

This commit takes those suggestions and creates a separate path for
writing uwsgi unit files.

Change-Id: I9b541b86781afdded311dba058cedd783e1a0dfa"
hongbin,2017-03-30 02:06:54,https://api.github.com/repos/openstack/devstack/git/commits/571ba8b3bb6b600a9b2479be1e88f829b086631b,571ba8b3bb6b600a9b2479be1e88f829b086631b,"Change mode of DATA_DIR to 0755 as well

It looks libvirt/qemu requires mode 0755 to functioning properly,
but DATA_DIR won't be set to 0755 if it is different from default.

Change-Id: I37ca0b02b6a75b3756860b547e84c37ccfc99d13
Closes-Bug: #1677421"
sdague,2017-03-30 11:18:49,https://api.github.com/repos/openstack/devstack/git/commits/def07b21f86ee70cae223785f0195c91de1f2b64,def07b21f86ee70cae223785f0195c91de1f2b64,"Updated docs from finding more things about systemd

Change-Id: I3d807cd342f30eada04a6be2af7db482f9c4a796"
ianw,2017-03-29 00:52:06,https://api.github.com/repos/openstack/devstack/git/commits/bfcc760b9650b09af073e1c6beb489069e5eec0d,bfcc760b9650b09af073e1c6beb489069e5eec0d,"Enable libvirt coredumps

This adds a flag and basic config for enabling coredumps for libvirt.

Partial-Bug: 1643911
Co-Authored-By: Matthew Booth <mbooth@redhat.com>

Change-Id: If7cd54e804a5a389a0d82a325b58f5b41b8ef0db"
cboylan,2017-03-17 19:54:30,https://api.github.com/repos/openstack/devstack/git/commits/f85e0ba353c71fc5c8bacebe006e68bebf2af024,f85e0ba353c71fc5c8bacebe006e68bebf2af024,"Enable Kernel Samepage Merging by default

In an effort to reduce memory consumption enable KSM by default. The
biggest win here is when using libvirt with nova or ironic with its
fake baremetal instances. In theory any process that runs duplicates
with mergeable memory will benefit though.

Change-Id: I4c5addfd3e83b6516023b36cbaabd5169f0d5ceb"
lbragstad,2017-03-28 14:32:28,https://api.github.com/repos/openstack/devstack/git/commits/213c9a151f907988b283e4223404d0a09a5d4aa3,213c9a151f907988b283e4223404d0a09a5d4aa3,"Remove installation of keystone policy file

As of Id6e3c0ac54b21d85e68625a5b52fe2559fb70f24 keystone's policy
file is empty and it is no longer required at runtime. This commit
updates devstack to not deploy a policy file for keystone because
devstack doesn't specify any policy overrides. Instead, we can remove
the sample policy file and rely on the defaults that have been
registered in code. This is the same approach nova took with policy
in I85a251376dfe38caa4b100861bf764014a98bc37.

Change-Id: Ib1d9a51a78e2a84a3d7294dc8782605a681fa9e8"
sdague,2017-03-22 00:50:24,https://api.github.com/repos/openstack/devstack/git/commits/5edae54855b6b9af4283cef07e0b0d1a0f90cd3e,5edae54855b6b9af4283cef07e0b0d1a0f90cd3e,"initial work to enable systemd service running

During the PTG there was a discussion that the screen developer
workflow wasn't nearly as useful as it once was. There were now too
many services to see them all on one screen, and one of the most
common service restart scenarios was not restarting one service, but a
bunch to get code to take effect.

This implements a 3rd way of running services instead of direct
forking via bash, or running under screen, which is running as systemd
units.

Logging is adjusted because it's redundant to log datetime in oslo.log
when journald has that.

Swift needed to have services launched by absolute path to work.

This is disabled by default, but with instructions on using it. The
long term intent is to make this the way to run devstack, which would
be the same between both the gate and local use.

Some changes were also needed to run_process to pass the run User
in. A hack around the keystone uwsgi launcher was done at the same
time to remove a run_process feature that only keystone uwsgi uses.

Change-Id: I836bf27c4cfdc449628aa7641fb96a5489d5d4e7"
ianw,2017-03-28 08:37:39,https://api.github.com/repos/openstack/devstack/git/commits/9573edb4ebc8af68002f499f54da3616a1bfaa48,9573edb4ebc8af68002f499f54da3616a1bfaa48,"Run mlock_report under python3

psutil is only installed under python3 for the 3.5 gate jobs.  Call
mlock_report.py with $PYTHON so we support both environments.

Updates to mlock_report.py for python3 compatability

Change-Id: If7926ce6a2996b766c49b010a7f6640ae624f860"
dlux,2017-03-23 17:34:19,https://api.github.com/repos/openstack/devstack/git/commits/2954e337e2d2993bd3fee3f2861b3fc2f85312bc,2954e337e2d2993bd3fee3f2861b3fc2f85312bc,"Update devstack supported OS's on documentation

Since Feb 25th devstack supported operating systems changed
due to Nova increasing its minimum required libvirt version.
Further details see: I6617283afd798af37e64913b7865cea3c8a62aba

This patch is to update versions on devstack documentation.

Change-Id: I12bb59b0903a728376ee9422213c2903b9138249"
DavidRabel-b1,2017-03-17 18:19:00,https://api.github.com/repos/openstack/devstack/git/commits/682e0abe1a58edcdde40a92df1f060dc8fa758c8,682e0abe1a58edcdde40a92df1f060dc8fa758c8,"Do not use libvirt-bin package anymore

The package libvirt-bin is a transitional package in Debian and should
not be used anymore.

Ubuntu Xenial is an exception here.

Because of that this change also adds the possibility to use ""not:"" to
exclude distros in files/debs/* just as ""dist:"" limits distros.

Depends-On: Icc59ea79f54d4ff8751f2e353ee3530fff3d961e
Closes-Bug: #1673840
Change-Id: I3998a7178d14ec40eae5cb199d66da9546cd6ccf"
sdague,2017-03-23 16:45:29,https://api.github.com/repos/openstack/devstack/git/commits/5ae945244ec22634f95897cb50e44fb7c2da43a6,5ae945244ec22634f95897cb50e44fb7c2da43a6,"run memory_tracker as root

In order to get memlocked pages this needs to be run as root, just
start it as root so that we don't have issues with the inability to
run sudo later in the run.

Change-Id: I7adab8cbb6d89d4717e427aec22e316d27bea075"
paresh-sao,2017-03-23 05:52:33,https://api.github.com/repos/openstack/devstack/git/commits/d18d7c86581b419541b291990173f5fb33a45445,d18d7c86581b419541b291990173f5fb33a45445,"Change for the 'running_in_container' check

This commit change check of 'running_in_container'
method so that other services ironic, nova and neutron
will not break.

Change-Id: I42eb587cfaebf37944cb10e459b8b8f7b4b4e4ba"
Annie-XIE,2017-03-10 04:05:57,https://api.github.com/repos/openstack/devstack/git/commits/9e64bad03ab11918f6b08f7926685bfb9d7e4596,9e64bad03ab11918f6b08f7926685bfb9d7e4596,"Use br-int when XenServer is hypervisor

Previously we use a specific integration bridge for neutron ovs agent
which is running in compute node, but this isn't necessary, this
patch is to remove the specific integration bridge for XenSever and
remove the custom integration bridge definition

Depends-On: I675565e1ea6c887d40d7a53f62968c4aa385ecca

Change-Id: If5886e3711765a97f40f20e478f958b988b5a620"
DavidRabel-b1,2017-03-22 07:25:26,https://api.github.com/repos/openstack/devstack/git/commits/530d90c9c245e11feaae5b4031bd4d8b95e4db84,530d90c9c245e11feaae5b4031bd4d8b95e4db84,"Delete unnecessary groupadd in multinode-lab

Change-Id: I13c86a19c421d8ef102f35bcae63f6dc69317268
Closes-Bug: #1674897"
DavidRabel-b1,2017-03-17 13:47:18,https://api.github.com/repos/openstack/devstack/git/commits/fca0da5069f0c90ddcd38d489cb81597d569953a,fca0da5069f0c90ddcd38d489cb81597d569953a,"Create /opt/stack and make it home directory

single-machine.rst and index.rst

Before this, one had to create /opt/stack
manually and chown it to the stack user.
Now it is created when the user is created.

This is the same way the multi-node guide
handles it. A stack group is created too.

Change-Id: I5363d81c8fb38796f565cc6ebf6ab2dee2673989
Closes-Bug: #1673787
Closes-Bug: #1671409"
Annie-XIE,2017-02-17 04:10:36,https://api.github.com/repos/openstack/devstack/git/commits/c779b00840b79ce9c0b3a3c80ade5267e6fcb5f8,c779b00840b79ce9c0b3a3c80ade5267e6fcb5f8,"Remove XenServer specific ovs agent config

With XenServer we have two neutron-openvswitch-agent(q-agt, q-domua)
For the q-domua it is specific for XenServer, this patch is to move
the specific configurations to os-xenapi which we have devstack plugin
in that repo

Depends-On: Ic816404c84f6a8899d01a77cb67fbfb421653e6b

Change-Id: I8a31c81d9475387fe4ed7030b70b26098e588771"
jimrollenhagen,2017-03-21 22:37:24,https://api.github.com/repos/openstack/devstack/git/commits/983cccb75be919677bacb8c9b292550075b0358f,983cccb75be919677bacb8c9b292550075b0358f,"Enable baremetal scheduler filters when using ironic

These are recommended for all ironic deploys; turn them on.

Change-Id: Ia3df144e626266ed1774c4cd9863aedb876c409f"
sdague,2017-03-21 15:15:05,https://api.github.com/repos/openstack/devstack/git/commits/583c52066da6738d12201bf3fcbb02b6c6690cfc,583c52066da6738d12201bf3fcbb02b6c6690cfc,"rebuild the tempest tox env during install

When redoing a stack.sh over and over again, tempest venv can get out
of sync and cause issues until deleted. We should rebuild that tempest
venv on every stack.

Change-Id: I2f66bb1a7ccf9f89e11db1326d8553589e52fbf2"
armando-migliaccio,2017-03-21 05:27:20,https://api.github.com/repos/openstack/devstack/git/commits/bacfb94390e0680fac13cb7f7236b9d5d0e89b89,bacfb94390e0680fac13cb7f7236b9d5d0e89b89,"Enable openSUSE to work in Python 3.x environments

Add packages required to run devstack with USE_PYTHON3=True.

Change-Id: Iee43c9335bd82c10cfaeffb02d1d99290c34bb83"
DavidRabel-b1,2017-03-17 15:14:00,https://api.github.com/repos/openstack/devstack/git/commits/a4c57cadf2fcc448dbee04a5f911af5613038678,a4c57cadf2fcc448dbee04a5f911af5613038678,"Replace ""sid"" and ""testing"" by ""stretch""

Supported Debian distros (codenames) are ""sid"", ""testing"",
and ""jessie"", but it should be ""stretch"" and ""jessie"".

""testing"" is no codename and therefore should be replaced by
""stretch"".

""sid"" changes all the time and cannot be guaranteed to run
correctly or is at least not tested.

Change-Id: Id4b80a055452bbff69036d4dc1adeda46ce99664
Closes-Bug: #1673810
Closes-Bug: #1674416"
bigjools,2017-03-15 23:01:39,https://api.github.com/repos/openstack/devstack/git/commits/4ae92b846b45ac9ef02e9d19b5d9ddcb4ac05bf3,4ae92b846b45ac9ef02e9d19b5d9ddcb4ac05bf3,"Make running_in_container work in more containers

Instead of grepping for 'lxc' in /proc/1/cgroup, use systemd's
features. This now at least also works in LXD containers.

Change-Id: I35e807c26f0b1fbba83ddbe04cfb4901a7a95cbe"
cboylan,2017-03-16 21:06:58,https://api.github.com/repos/openstack/devstack/git/commits/8cf9acd577a30bf9e6a54a9d82b9b7fc9ae769fb,8cf9acd577a30bf9e6a54a9d82b9b7fc9ae769fb,"Tune apache connection limits down

We are facing memory pressure in gate testing. Apache is fairly large so
tune its connection limits down to try and squeeze out more useable
memory. THis should be fine for dev envs, also tlsproxy is not enabled
by default so we can check that this tuning works well on a subset of
jobs before making it default everywhere.

Data comparisons done with gate-tempest-dsvm-neutron-full-ubuntu-xenial
jobs.

Old: http://logs.openstack.org/37/447037/2/check/gate-tempest-dsvm-neutron-full-ubuntu-xenial/721fc6f/logs/screen-peakmem_tracker.txt.gz
       PID   %MEM             RSS       PPID       TIME     NLWP WCHAN                     COMMAND
     20504    0.2           16660      19589   00:00:00       34 -                         /usr/sbin/apache2 -k start
     20505    0.2           16600      19589   00:00:00       34 -                         /usr/sbin/apache2 -k start
     20672    0.2           16600      19589   00:00:00       34 -                         /usr/sbin/apache2 -k start
     20503    0.1           14388      19589   00:00:00       34 -                         /usr/sbin/apache2 -k start
     19589    0.1            9964          1   00:00:00        1 -                         /usr/sbin/apache2 -k start
Total RSS: 74212

New: http://logs.openstack.org/41/446741/1/check/gate-tempest-dsvm-neutron-full-ubuntu-xenial/fa4d2e6/logs/screen-peakmem_tracker.txt.gz
       PID   %MEM             RSS       PPID       TIME     NLWP WCHAN                     COMMAND
      8036    0.1           15316       8018   00:00:01       34 -                         /usr/sbin/apache2 -k start
      8037    0.1           15228       8018   00:00:01       34 -                         /usr/sbin/apache2 -k start
      8018    0.1            8584          1   00:00:00        1 -                         /usr/sbin/apache2 -k start
Total RSS: 39128

Note RSS here is in KB. Total difference is 35084KB or about
34MB. Not the biggest change, but we seem to be functional and it
almost halves the apache overhead.

Change-Id: If82fa347db140021197a215113df4ce38fb4fd17"
jianghuaw,2017-03-14 08:04:53,https://api.github.com/repos/openstack/devstack/git/commits/5f8bd0e452957c2b8f7c2a9c962342e69d33b17e,5f8bd0e452957c2b8f7c2a9c962342e69d33b17e,"Xen: restrict devstack VM use upto 8 vCPUs.

Change-Id: Iea6086a3feb03dff581d9c04560133c4f57a6f6c
Closes-Bug: 1672642"
JohnVillalovos,2017-03-13 20:47:34,https://api.github.com/repos/openstack/devstack/git/commits/3345a6d316bd50f005d22bfd231a4f9c0a5b7d62,3345a6d316bd50f005d22bfd231a4f9c0a5b7d62,"Use string comparison to compare UUID values

Was using the '-ne' integer comparison operator to compare UUID
values. This caused error messages like:

/opt/stack/new/devstack/lib/tempest: line 226: [[: dfae26ac-1780-4677-902d: value too great for base (error token is ""902d"")

Change it to use '!=' string comparison operator

Change-Id: Ib7c9197dd0fe58addf33b4f82beea6de64f6b10b"
wangxiyuan,2017-03-07 12:47:58,https://api.github.com/repos/openstack/devstack/git/commits/b763dbda739c644ca048059d402d5667fe0e45ef,b763dbda739c644ca048059d402d5667fe0e45ef,"Remove glare from glance

glare has been removed from glance already. Now error will be raised
if enable g-glare in local.conf.

Remove the glare support by glance.

Change-Id: I9a389af194dd2b8aed75d3c921293d800f8c591b"
bswartz,2017-01-24 05:23:41,https://api.github.com/repos/openstack/devstack/git/commits/d15f222e2b2c3ab40ae719cca115f984178e71e4,d15f222e2b2c3ab40ae719cca115f984178e71e4,"Fix IPv6 provider networks

Add a missing --subnet-range argument when creating an ipv6 provider
network. Also changed SUBNET_V6_ID to IPV6_SUBNET_ID. And remove the
--ipv6-address-mode arg because it doesn't apply to subnets on routers.

Change-Id: I82796804a06e758e458606dc9eb400bcd08ad6e4"
Doude,2017-03-09 17:53:18,https://api.github.com/repos/openstack/devstack/git/commits/93a415601562853301d44e82ab07ee6bf1734945,93a415601562853301d44e82ab07ee6bf1734945,"Don't create keystone account for disabled service

If service is disabled, don't expect to create the corresponding
keystone account.

Change-Id: I007088862de1c8643eca3a6b9b313f0125b9b8d1"
sbauza,2015-10-16 13:57:50,https://api.github.com/repos/openstack/devstack/git/commits/b75a4928707feb53d0e306f8b289096eb5c0b37b,b75a4928707feb53d0e306f8b289096eb5c0b37b,"Add a new FAQ entry for dev environments

Since it's pretty common to see blogposts recommending to mount /opt/stack
remotely or editing inline the code, adding some notes about the potential
risk of a reclone that could impact weeks of work.

Change-Id: I733d40b76fb02d8edf3719533fc8202547771871
Co-Authored-By: Stephen Finucane <sfinucan@redhat.com>"
zhangjun-inspur,2017-03-08 07:27:37,https://api.github.com/repos/openstack/devstack/git/commits/d5919d08ba131ac2bde27251c8b4e77bf428e876,d5919d08ba131ac2bde27251c8b4e77bf428e876,"Restrict enabling the manage_volume volume feature

Not all Cinder backends support the 'manage volume' feature. The test that
in tempest for this feature is specific to LVM and will *not* work for
other work backends regardless of them supporting the feature.

Change-Id: I055aa66738deb5ae2fb925429cec565e3901340c"
sdague,2017-03-06 19:07:23,https://api.github.com/repos/openstack/devstack/git/commits/afef8bf097356d7bb37c57d0daa44653c7905c17,afef8bf097356d7bb37c57d0daa44653c7905c17,"Make declared variables global

When variables use the 'declare' directive, it is by default a local
variable. While other variables have global scope.

For example:
   declare -A AN_ARRAY   # local in scope
   foo=1                 # global in scope

This causes errors to occur as some of the variables will be local only
and others will be global.

Update the code, as appropriate, so that variables using the 'declare'
directive also include the '-g' flag to have them also be global. Not
every instance of a declared variable has been updated.

Closes-Bug: #1669509
Co-Authored-By: John L. Villalovos <john.l.villalovos@intel.com>
Change-Id: I2180b68fe861ad19c6d4ec0df0f9f8a528347862"
booxter,2017-03-07 06:31:49,https://api.github.com/repos/openstack/devstack/git/commits/f511c368f8e1e6690b7be4da926cad97d07ee85f,f511c368f8e1e6690b7be4da926cad97d07ee85f,"lib/neutron: allow to add more ml2 extension drivers

The patch will allow jobs to append new ml2 extension drivers without
overriding port_security.

Change-Id: I45f017d1b8a3054452c3166ed4fb460d21959adb"
brantlk,2017-02-24 02:15:47,https://api.github.com/repos/openstack/devstack/git/commits/c2c89e4b35a9ad5fb1a2670943328a9725b37001,c2c89e4b35a9ad5fb1a2670943328a9725b37001,"Use KEYSTONE_SERVICE_URI consistently

lib/keystone builds KEYSTONE_SERVICE_URI so that other services
don't need to reconstruct the identity URI. Many services already
use it, but some parts were still building the identity URI from
the different parts.

This will allow changing the identity URI to include a path
(e.g., to http://<host>/identity) in 1 place rather than in
multiple places.

Change-Id: I58cbdbe591d8869807545e0815480fc3375e0479"
booxter,2017-02-24 17:47:55,https://api.github.com/repos/openstack/devstack/git/commits/e65ab4a1c57a56161ebbf51a10b3c47a665037d7,e65ab4a1c57a56161ebbf51a10b3c47a665037d7,"lib/neutron: configure root_helper for agents

Before the patch, we were only configuring root_helper_daemon to point
to oslo.rootwrap, but not root_helper. (The former is used for long
running commands only, while the latter is used for short lived
commands.) This made neutron agents to directly call to sudo when a
privileged process was to be executed. This failed because /etc/sudoers
was not configured to allow anything except the rootwrap call itself.

This patch simplifies rootwrap handling in the code; it also sets
root_helper to point to rootwrap; as well as configure daemon in
sudoers. While at it, we also set l2 agent to use rootwrap too.
Hopefully, it will be enough for agents to actually configure backend as
needed.

Change-Id: Ib05a6e0e024f534d7f616d41d70fb67ecf6daeaf"
mriedem,2017-03-05 18:07:39,https://api.github.com/repos/openstack/devstack/git/commits/45da777d2526acd355da974eb338695559dd64c8,45da777d2526acd355da974eb338695559dd64c8,"Change to messagingv2 for oslo_messaging_notifications.driver

The oslo.messaging docs on the notification messaging driver
says that ""messaging"" (1.0) is a legacy format and you should
use messagingv2 unless otherwise required for that old format.

By default we should be testing with messagingv2.

Change-Id: I3031afe7551a0c8dde46e1ccfacff445fb68e122"
booxter,2017-02-10 06:17:37,https://api.github.com/repos/openstack/devstack/git/commits/2b4735f1b3ac2834fa46a288ba5d09290acfbf3d,2b4735f1b3ac2834fa46a288ba5d09290acfbf3d,"Added list of mlock-using processes to peakmem_tracker output

The change makes peakmem_tracker list processes that lock memory pages
from swapping to disk. It may be helpful when debugging oom-killer job
failures in gate in case when dstat shows that swap is not fully used
when oom-killer is triggered.

The peakmem_tracker service was renamed into memory_tracker to reflect
its new broader scope.

Needed-By: I5862d92478397eac2e61b8a61ce3437b698678be
Change-Id: I1dca120448ee87930fe903fd81277b58efaefc92"
oomichi,2017-03-04 00:55:50,https://api.github.com/repos/openstack/devstack/git/commits/dc6e55021861afceae2a7778b299df94ceab0a6e,dc6e55021861afceae2a7778b299df94ceab0a6e,"Change auth_version to v3 on Tempest

Keystone v3 API is CURRENT and the v2 API is deprecated now.
So we need to change the default config of auth_version to fit
for current API status.

Depends-On: Id5e5ed9bf4f8b0f9eb376bfc7c5801f0956da1d9
Change-Id: I801e6740258ddea2a1b628a209970e0307d39d12"
mriedem,2016-07-16 02:53:17,https://api.github.com/repos/openstack/devstack/git/commits/80e82eac4cd127a68fceea37270d09f9cbd71c75,80e82eac4cd127a68fceea37270d09f9cbd71c75,"Disable glance v1 by default

Nova has been supporting glance v2 since Newton and removed
support for glance v1 in Ocata:

97e7b97210139a7f7888f0d6901e499664de02a3

We should disable glance v1 by default because there are several
test paths in Tempest which don't get run when glance v1 is
available because it uses glance v1 rather than v2.

Depends-On: I54db379f6fbe859fd9f1b0cdd5b74102539ab265

Change-Id: I7f962a07317cdad917ee896d79e49ee18938d074"
mriedem,2017-03-02 17:45:47,https://api.github.com/repos/openstack/devstack/git/commits/f15224c740b880842e8d34e9a6c2ad08ba34448f,f15224c740b880842e8d34e9a6c2ad08ba34448f,"Create cell1 cell before n-api starts

Change ac5fdb4c4090efd682cc5c55aa30ec433da29fc7 introduced
a problem for gnocchi CI because the deployments steps
are now:

1. create cell0
2. start nova-api (with multiple workers)
3. install ceilometer via extras
4. ceilometer calls nova-api to list servers; at this point
   nova-api getes the list of cells and caches them, which
   will just be cell0
5. create cell1 via simple_cell_setup which also discovers
   the n-cpu node so we can schedule instances
6. gnocchi tests create and list instances and at this point it hits
   an n-api worker that only has cell0 cached so it does not
   find some test servers it created and fails.

The cell0 and cell1 cells should be created in the nova_api db
before starting n-api so that when we first list instances, we
store both cells in the cache that's in n-api. This deployment
order is also how the nova docs describe rolling out cells v2
but the way we were doing this devstack wasn't following that,
or accounting for when devstack plugins are loaded via extras.

This change creates the main cell1 cell earlier in the setup
before n-api is started, and then changes to just run
discover_hosts at the end after n-cpu is running (which is what
simple_cell_setup and map_cell_and_hosts would do implicitly).

Change-Id: I38eab6707340253a10159a169ae61d34784c2d28
Related-Bug: #1669473"
booxter,2017-02-24 05:13:53,https://api.github.com/repos/openstack/devstack/git/commits/0ce4ba915bb6649884e1a3b6c72a8e879eb562f9,0ce4ba915bb6649884e1a3b6c72a8e879eb562f9,"Use lib/keystone to configure [nova] section in neutron.conf

This simplifies neutron library code and makes it less prone to breakage
in the future. So far there are no specific known issues with existing
code per se, it works, still.

Change-Id: I28f1997d226baae902dae5ca8ee6cd4fd89efe31"
amrith,2017-02-27 18:29:03,https://api.github.com/repos/openstack/devstack/git/commits/1e66388c5f2b81b4fc5d544dbf5fde2935218bd0,1e66388c5f2b81b4fc5d544dbf5fde2935218bd0,"put mysql on a memory diet

We propose several MySQL configuration parameter changes (with
explanations) to reduce the memory footprint of MySQL. A demonstration
of the improvement is provided in
https://etherpad.openstack.org/p/change-438668.

As Clint provided some of the descriptions that I've used, I have
listed him as a co-author (thanks Clint). Let this serve as a warning
to all that commetors may be enlisted :)

Change-Id: Icb2d6ea91d3d45a68ce99c817a746b10039479cc
Co-Authored-By: Clint 'SpamapS' Byrum <clint@fewbar.com>"
kk7ds,2017-02-23 16:01:32,https://api.github.com/repos/openstack/devstack/git/commits/b1d8519b40845c3b28c32e530010aa015f970185,b1d8519b40845c3b28c32e530010aa015f970185,"Move rpc backend start/configure to earlier

Because things like nova may need to create vhosts in the rpc backend,
we need to have started and created credentials before we configure
the service.

Change-Id: I01c9c5288e197fc50a8a4a032e3a32cd166eb180"
sdague,2017-02-16 21:33:08,https://api.github.com/repos/openstack/devstack/git/commits/f119121d21fa0446197b26378091677daac1606a,f119121d21fa0446197b26378091677daac1606a,"clean up virt drivers that we do image logic for

openvz is not in the nova tree, and is referencing a crazy old image,
we're going to assume that if anyone is using this they can build a
devstack plugin.

drop doing anything by default because this actually requires that we
special case things like ironic in tree to *not* do anything by
default.

Change-Id: I9d33b98263c3d52a95b9983e90eb0b341fa1d363"
dhellmann,2017-02-28 19:04:59,https://api.github.com/repos/openstack/devstack/git/commits/0b1ea080a256b02610f1c9a840a3c2a3f4ea0e68,0b1ea080a256b02610f1c9a840a3c2a3f4ea0e68,"install OSC with py3 by default

Add python-openstackclient to the list of packages installed under
Python 3 by default, so that jobs running with Python 3 exercise the
client that way.

Change-Id: I9778a6810bb3e4850132cfc19e583d50fed23ef5
Signed-off-by: Doug Hellmann <doug@doughellmann.com>"
booxter,2017-02-23 20:44:18,https://api.github.com/repos/openstack/devstack/git/commits/19f4b3faae5f64a497bf6c13fb29b65301ae499c,19f4b3faae5f64a497bf6c13fb29b65301ae499c,"lib/neutron: stop loading all config files into all processes

DHCP agent should not load core plugin config file; L3 agent has no
interest in metadata agent configuration file; etc. It's a mistake to
form a single global list of configuration files and pass it into all
processes. Every process should have its own list, that may or may not
have some files in common with other processes.

The only file that is common to all neutron processes is neutron.conf,
and we could in theory keep it into the common list. But I decided at
this point it's better to be explicit about what's loaded into services.
Also the order of arguments is important, and neutron.conf should always
be the first CLI argument, which is hard to achieve by keeping
neutron.conf file in the global list.

Plugins may be interested in loading additional files into neutron
processes. For example, dragonflow needs to load /etc/neutron/dragonflow.ini
into neutron-server. But we should not necessarily load all those files
into all processes, so such extendable lists should be per process.
Besides, neutron_server_config_add_new is already available to use to
append additional configuration files for neutron-server. That's why the
patch completely kills the NEUTRON_CONFIG_ARG variable.

Depends-On: I4bd54a41a45486a5601373f9a9cce74d7686d1aa
Change-Id: Ia3c3862399bba335db5edf9ea70f850fb2638d09"
ianw,2017-02-27 04:11:11,https://api.github.com/repos/openstack/devstack/git/commits/52bb64105fd559ee69a8ec1c0733e1f7448401a5,52bb64105fd559ee69a8ec1c0733e1f7448401a5,"Use qemu-kvm-ev package on centos

For the latest qemu-kvm, you have to use the qemu-kvm-ev package,
which is based off the qemu-kvm-rhev package, which is explained in
[1] but you probably can't read it.  The gist is, that qemu-kvm-rhev
is a later build of kvm that is incompatible with the base version
provided.  qemu-kvm-rhev is only provided with the RHV (ovirt) and
RHOS (openstack) products.  CentOS rebuilds this package as
qemu-kvm-ev as part of it's virtualisation SIG.

I9a972e3fde2e4e552f6fc98350820c07873c3de3 has bumped up the minimum
qemu version to 2.1.0.  It seems there is a an issue (bug #1668164)
where having the qemu-system package installed gets picked up if
installed, and reports the incorrect version to nova, causing failure.

This removes the installs from files/rpms/nova as it is all being done
in function-libvirt.  We only install the qemu-kvm-ev package on
centos and remove the old work-around.

[1] https://access.redhat.com/solutions/629513
[2] https://wiki.centos.org/SpecialInterestGroup/Virtualization

Change-Id: Ide91b261f35fb19d8bd7155ca016fa3b76a45ea1"
ianw,2017-02-27 00:19:40,https://api.github.com/repos/openstack/devstack/git/commits/1e7f738f284b85ed95d514fb13fbc1afb6b31087,1e7f738f284b85ed95d514fb13fbc1afb6b31087,"Ensure we install setuptools from requirements

Use pip_install_gr so we get the version pinned by requirements.  The
depends-on is an example of where we're trying to pin to workaround
issues.

Depends-On: I9c57c08a150571c5bb62235d502839394d53a4c1
Change-Id: I780cca681b12a3e9d228dbf2fd9fa6e8ab1a82e1"
booxter,2017-02-25 05:12:38,https://api.github.com/repos/openstack/devstack/git/commits/3a6916e76811cbd1962636e4fe8016f79ed6028e,3a6916e76811cbd1962636e4fe8016f79ed6028e,"Install same packages for neutron-* services as for q-*

This patch creates symlinks between neutron-* files tracking runtime
dependencies for services, and q-* files. Since lib/neutron is the
new recommended way to deploy neutron with devstack, this patch made
neutron-* files real files, while q-* files are just symlinks.

Change-Id: I0f361f31160d0fee40ad3e8de873edd05173e54e"
yamt,2017-02-24 03:30:08,https://api.github.com/repos/openstack/devstack/git/commits/c043b6f8a84a575ea5cedc71499a81414a610e70,c043b6f8a84a575ea5cedc71499a81414a610e70,"lib/neutron: Add neutron_deploy_rootwrap_filters

Change-Id: Icfa2cfa662013324d38099b82ce0f58ed8377e60"
yamt,2017-02-22 20:44:22,https://api.github.com/repos/openstack/devstack/git/commits/a1875b1ffcf29a7c1645d8e21402da331c102b6e,a1875b1ffcf29a7c1645d8e21402da331c102b6e,"neutron-legacy: Defer service_plugins configuration

This allows post-config phase to use neutron_service_plugin_class_add
so that devstack plugins can use it in the same way for both of
neutron-legacy and its ""modern"" counterpart, lib/neutron.

Closes-Bug: #1667037
Change-Id: I9068fd608e82e70db8d725f92269a26920efebcb"
sileht,2017-02-24 13:55:33,https://api.github.com/repos/openstack/devstack/git/commits/807de8e5907f4bce8a697c194383d161b0e9c572,807de8e5907f4bce8a697c194383d161b0e9c572,"Set OS_AUTH_TYPE to password

Devstack configures keystone for auth mechanism but don't tell
keystoneauth1 library that it should use keystone too.

In simple case, this is not an issue because some application
set 'password' by default (like the openstack cli).

But applications can have no default or another default.

Change-Id: Idd1e1d2e7546fce7531175440788a8c7cb27aec1"
gkotton,2017-02-22 15:00:59,https://api.github.com/repos/openstack/devstack/git/commits/79b55f51e4a2a44e7e2a7a8c7df435e3451a4e22,79b55f51e4a2a44e7e2a7a8c7df435e3451a4e22,"Fix file permissions for lib/neutron_plugins/linuxbridge_agent

The permissions changed with commit
40aae6adbfce1bd896d5f7b0e281e798b56d1ca8

TrivialFix

Change-Id: I100cb9589309f9289b4581265a5e4206464ddc0e"
danalsan,2017-02-16 09:38:13,https://api.github.com/repos/openstack/devstack/git/commits/1d0841286e8eb4fbb18334cf664d89d78fef8efe,1d0841286e8eb4fbb18334cf664d89d78fef8efe,"Adding haproxy package to Neutron

This patch adds haproxy package to devstack as Neutron will rely on it
for serving metadata instead of the current Python implementation.

haproxy will reduce the memory footprint from ~50MB to ~1.5MB for
serving metadata. It will be spawned for every Neutron router so,
for large deployments, it will be a significant memory reduction.

Change-Id: I36a5531cacc21c0d4bb7f20d4bec6da65d04c262"
booxter,2017-02-23 12:09:01,https://api.github.com/repos/openstack/devstack/git/commits/bf697f50650beecea46b665b706fa5bb5ecb1ede,bf697f50650beecea46b665b706fa5bb5ecb1ede,"lib/neutron: untangle metering configuration from legacy

The old code assumed _neutron_service_plugin_class_add presence, as well
as used a configuration file path that is not standard (under
/etc/neutron/services/ instead of /etc/neutron/metering_agent.ini).

The patch untangles metering configuration in the new library from that
old and bad code, and reimplements it inline.

This should help the effort to switch gate from lib/neutron-legacy to
lib/neutron.

Change-Id: I0d235498af4b6a70bd5dae6ea178d5aa8ba41e80"
booxter,2017-02-23 10:41:51,https://api.github.com/repos/openstack/devstack/git/commits/615e115474a570a9d3b7f6edfec365d1bbd31dc3,615e115474a570a9d3b7f6edfec365d1bbd31dc3,"lib/neutron: set variables needed for sane l3 agent setup

Since for the new devstack library we still rely on some functions from
ovs_base, we need to initialize them with sane default values so that
setup works as intended and as lib/neutron-legacy behaves by default for
external connectivity setup.

Change-Id: I412ed4f988b8e03a3e3a08066375b55a6e6aa3e6"
kk7ds,2017-02-22 13:59:30,https://api.github.com/repos/openstack/devstack/git/commits/6f0205b03630ecb308877f65ca3d4ab9020bc28d,6f0205b03630ecb308877f65ca3d4ab9020bc28d,"Refactor rpc backend vhost creation

The creation of the cellsv1 rpc vhost was buried in the restart function,
which makes it hard to extend. This breaks it out into a helper method
and moves the conditional logic into the nova module itself.

Change-Id: Ib0e377aabe45c27bb6ce59ca275ce73085e8b9d2"
prashantshetty,2017-02-23 13:48:12,https://api.github.com/repos/openstack/devstack/git/commits/f58b37356323262d9ce22815a4cf4e129195c679,f58b37356323262d9ce22815a4cf4e129195c679,"Enable placement section on controller in multinode setup

Currently placement api section will be configured on controller
only if service n-cpu is running. It breaks multi node setup.
Closes-Bug: #1667219

Change-Id: I8b0f60f253859f704bb9831d7dac8f55df353ac7"
yamt,2017-02-22 19:25:14,https://api.github.com/repos/openstack/devstack/git/commits/84e45c91434c3c7e6796f9a201fd9b0fb8f7adcd,84e45c91434c3c7e6796f9a201fd9b0fb8f7adcd,"lib/neutron: Fix an extra comma in service_plugins

Closes-Bug: #1667077
Change-Id: Ib63a94a931c38a7b2a5fc91a8339a9cd657f7927"
yamt,2017-02-22 19:21:33,https://api.github.com/repos/openstack/devstack/git/commits/ed887d8b9f91f8c75b45770d5c250b9939f36619,ed887d8b9f91f8c75b45770d5c250b9939f36619,"lib/neutron: Fix conf handling

- Remove extra spaces
- Fix a missing space in the generated option string
- Fix a fatal typo

Change-Id: Ieca1c3e3c7e2ff59089ef45435e126ce7ff4f9b5
Closes-Bug: #1667073"
e0ne,2016-07-28 15:42:25,https://api.github.com/repos/openstack/devstack/git/commits/447f141d4f0e1b7be7f186714f18236c069b486e,447f141d4f0e1b7be7f186714f18236c069b486e,"Added support for fake drivers as Cinder backend

FakeLoggingVolumeDriver  will be used for functional Cinder tests to
prevent dependencies on any storage.

FakeGateDriver is based on LVM and will be used to run Tempest tests for
such features like CG's, replication, etc.

Depends-On: I383bcdb531c7d52c0fdbb6875de73f1274a92854
Change-Id: I2dc8ea416f5eb3fcc9d2e959533497e464220ff5"
jianghuaw,2017-02-22 03:42:22,https://api.github.com/repos/openstack/devstack/git/commits/6e49cab0913c13cb2fbf2620a9abe20cfc5f7ce3,6e49cab0913c13cb2fbf2620a9abe20cfc5f7ce3,"Xen: support Ubuntu Xenial for xen DevStack

Upgrade xen tool to install Ubuntu Xenial; change the upstart
task to systemd task to finish the OpenStack installation
by using devstack.

Change-Id: I8129923be3c41e7f60e9d32348a5ea8e07d4845b"
sdague,2017-02-17 16:51:36,https://api.github.com/repos/openstack/devstack/git/commits/0b259c3abdafa99e7194e62c9a47483ddcf6b65a,0b259c3abdafa99e7194e62c9a47483ddcf6b65a,"only set nova catalog if it's not the default

This ensures we only set the nova catalog when it's not the default,
instead of also putting defaults in devstack.

Change-Id: Ibb0dcb8bae2e9223db302d7b19e8fbee4ebbf0e3"
JohnVillalovos,2017-02-06 22:24:42,https://api.github.com/repos/openstack/devstack/git/commits/c6e6939e89a44a408065eb4585963175f8d0d6e3,c6e6939e89a44a408065eb4585963175f8d0d6e3,"Fix error in 'ip netns' parsing

Sometimes when doing worlddump would see a command line like this:
 sudo ip netns exec (id: ip addr

This would cause an error to be seen in console.log:
  2017-02-07 00:03:03.659570 | /bin/sh: 1: Syntax error: ""("" unexpected

This is caused by there sometimes being extra data returned from the
'ip netns' command [1]. For example it might look like:
    qrouter-0805fd7d-c493-4fa6-82ca-1c6c9b23cd9e (id: 1)
    qdhcp-bb2cc6ae-2ae8-474f-adda-a94059b872b5 (id: 0)

[1] https://lwn.net/Articles/629715/

Change-Id: Icece442023125ef55696b8d92a975d37e358b1b4
Closes-Bug: 1653969"
mtreinish,2016-07-06 17:44:55,https://api.github.com/repos/openstack/devstack/git/commits/6fc332d85279865c32f50b081efb25ba7b671a9a,6fc332d85279865c32f50b081efb25ba7b671a9a,"Switch devstack to use qcow cirros img

This commit switches devstack to use the published qcow2 cirros image
instead of the AMI version. Using AMI was mostly a historical artifact
dating pretty far back, but in the real world no one really uses AMI
images with openstack clouds. This change reflects that and also
enables tempest ro remove its deprecated config options for using AMI
as a fallback on misconfiguration (which was just there to support
devstack's defaults)

Change-Id: Id65ebae73b28da7185cb349b714b659af51ef77f"
mriedem,2017-02-13 17:44:24,https://api.github.com/repos/openstack/devstack/git/commits/ff10ac318ce4be49d8bceafb7fea92ae1655b497,ff10ac318ce4be49d8bceafb7fea92ae1655b497,"Remove distro support based on new libvirt minimum

Nova is going to increase the minimum required libvirt
in Pike to 1.2.9 in change:

I9a972e3fde2e4e552f6fc98350820c07873c3de3

Based on the libvirt distro support matrix wiki [1] that
drops support for Ubuntu Trusty and Debian 7.0/Wheezy.

Trusty has libvirt 1.2.2 and Wheezy has 0.9.12 (the Wheezy
support should have been removed long ago apparently). The
7.0 removed here is for Wheezy also based on commit
b2ef890db3d78b24f9da2f4dd80502165c669ad0.

This does not undo the check for ""trusty"" with the
EBTABLES_RACE_FIX in lib/nova_plugins/function-libvirt
since you can still force devstack to run on Trusty if
you specify the FORCE=yes variable.

Note that RHEL 7.1 has libvirt 1.2.8 so it won't technically
work with devstack and nova + pike + libvirt, but with the
way os_RELEASE is calculated the minor version is dropped
for RHEL distros so we just get ""rhel7"".

Also note that this doesn't attempt to continue supporting
Trusty or Wheezy if nova is not configured to use libvirt,
simply in order to start moving forward on devstack distro
support in general and to keep some sanity and closeness
to what we test with in the CI system.

While we're in here, we also drop Fedora 23 and add
Ubuntu Zesty.

[1] https://wiki.openstack.org/wiki/LibvirtDistroSupportMatrix

Depends-On: I9a972e3fde2e4e552f6fc98350820c07873c3de3
Depends-On: If69f99bd789e646b0261e27a8a061efde32436f7

Change-Id: I6617283afd798af37e64913b7865cea3c8a62aba"
sdague,2017-02-13 21:18:08,https://api.github.com/repos/openstack/devstack/git/commits/bfff93e1568a236be26a8e6c67e758b877f55a2a,bfff93e1568a236be26a8e6c67e758b877f55a2a,"remove keystone internal uri

There is really no reason to have an internal uri referenced for
keystone in devstack.

Change-Id: If0588a0ab512d94451992e7131dd3c8a33c5797c"
sdague,2017-02-13 21:16:59,https://api.github.com/repos/openstack/devstack/git/commits/11eb2017ef70a758c54cc984e90e445205886e7e,11eb2017ef70a758c54cc984e90e445205886e7e,"simplify endpoints used in devstack

The proliferation of internal/admin endpoints is mostly legacy and
based on some specific deployment patterns. These are not used by
everyone, and for the devstack case aren't really that useful. We
should simplify our service catalog down to the minimum we need for
development.

Change-Id: Ided7a65c81b3a0b56f0184847fc82e17c29a771e"
afazekas,2017-02-13 14:09:35,https://api.github.com/repos/openstack/devstack/git/commits/9ef346f59da92416b0e27ead8a846bc8dbd68c0b,9ef346f59da92416b0e27ead8a846bc8dbd68c0b,"Using sudo in the Quick start section

Adding sudo to the example commands in the quick start section.

Also adding '-' as su argument in order to use
the stack user's env (home).

Change-Id: I23ab38104d05c3f4c8d48b55e66cf19dc4e4f90d"
sdague,2017-02-08 16:24:31,https://api.github.com/repos/openstack/devstack/git/commits/ee37d20f80d3a4871edd17a16c12e8ea5f0afadf,ee37d20f80d3a4871edd17a16c12e8ea5f0afadf,"pass role by name not id

Change-Id: Ie67758bed3563c9a46a5180eaa9c8d47721fffd8"
afrittoli,2017-02-12 22:14:15,https://api.github.com/repos/openstack/devstack/git/commits/9f2dcd333103553626db1924a019e151e3e7252e,9f2dcd333103553626db1924a019e151e3e7252e,"Use the latest 0.3.5 version of CirrOS

This new version of CirrOS is built on top of 0.3 branch, so wrt
version 0.3.4 it includes only two commits:

- Cherry-pick of the fix for https://launchpad.net/bugs/1564948
- One extra fix to make the above working on 0.3

Cherry-picked commit is http://bazaar.launchpad.net/~cirros-dev/cirros/trunk/revision/366

A Tempest test for hard reboot in some cases hits the case where
host key are empty. This triggers bugs/1564948, i.e. the ssh
daemon does not start at all, and the Tempest test fails with
""connection refused"", which is misleading.

The new version of CirrOS solves this problem as it ensure host
keys are generated if missing, and the sshd deamon started.

I tested the scenario of missing host keys in Iea74c63925be17a1df894c1a2c23f5ba2793e0c6
using a private build of what then became 0.3.5.

Change-Id: I5c154ec25555e768954538fc22b4f5d5975b2deb"
booxter,2017-01-13 18:30:19,https://api.github.com/repos/openstack/devstack/git/commits/952ecb6fec87e98bf7677cd4b481a20a8ffe36aa,952ecb6fec87e98bf7677cd4b481a20a8ffe36aa,"Don't set external_network_bridge by default

Since the empty value is the default for the option, and when explcitly
set in config file, it triggers a deprecation warning for the option,
avoid setting it unless we actually need to override the new default
value.

Change-Id: If423114d7a52da29b97d1fb473a955d9d69a1a3e"
booxter,2017-01-13 18:27:38,https://api.github.com/repos/openstack/devstack/git/commits/47bcf4fbcb6572cb72a8f4e268a09bf3edff23d8,47bcf4fbcb6572cb72a8f4e268a09bf3edff23d8,"Removed neutron_plugin_configure_debug_command functions

Those are not called by devstack anymore. This cleanup also gets rid of
code that attempts to set external_network_bridge to an empty value,
which triggers a deprecation warning for the option since it's going to
be removed in a next Neutron release.

Change-Id: I5adcbab877b4e8742522de81b1a85acfc33160d7"
sdague,2017-02-09 22:56:40,https://api.github.com/repos/openstack/devstack/git/commits/999dd7e989ae850bec7158a0058c0d38893ecdae,999dd7e989ae850bec7158a0058c0d38893ecdae,"only apply ebtables race fix on trusty

Change-Id: Ifc83e7301d9d921ce9ceed349f116584ce03842b"
sdague,2017-02-08 12:49:26,https://api.github.com/repos/openstack/devstack/git/commits/d9aaae95f2b84170bf35e037715e4963d89f940c,d9aaae95f2b84170bf35e037715e4963d89f940c,"Generate deprecation warning for postgresql

Change-Id: I599e6d84b70bb6a7718ae48dd0cfc91796af189e"
kevin-zhaoshuai,2017-02-08 02:54:29,https://api.github.com/repos/openstack/devstack/git/commits/cfc3edc97c3075c800e8366e3ff4e1d21578caca,cfc3edc97c3075c800e8366e3ff4e1d21578caca,"Add ""--nvram"" to virsh undefine domain when clean_nova

For the instance which has boot by uefi, we should use
virsh undefine --nvram to undefine it. Check the libvirt
version for whether it supports nvram and use new undefine
parameters since this parameters is compatible with those
instance which don't use uefi.

Closes-bug: #1612613

Change-Id: Ibca1450e965df1481e6cd6b0d597b4323d667e60
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>"
malor,2017-02-07 11:34:12,https://api.github.com/repos/openstack/devstack/git/commits/88b84094ec1e2a18b6edba91f510cae53bc9c821,88b84094ec1e2a18b6edba91f510cae53bc9c821,"mysql: set default sql_mode to TRADITIONAL

We currently use a more permisive STRICT_ALL_TABLES mode, but that's
not what modern MySQL versions default to (i.e. TRADITIONAL):

https://dev.mysql.com/doc/refman/5.7/en/sql-mode.html#sql-mode-changes

(non-Devstack deployments will most likely use TRADITIONAL as well)

Due to the fact that we default to TRADITIONAL in oslo.db, this
produces annoying warnings on MySQL 5.7 versions we use in the gate:

    Warning: (3090, u""Changing sql mode 'NO_AUTO_CREATE_USER' is
              deprecated. It will be removed in a future release."")

https://git.openstack.org/cgit/openstack/oslo.db/tree/oslo_db/options.py#n49

Unlike STRICT_ALL_TABLES, TRADITIONAL mode includes NO_AUTO_CREATE_USER,
and MySQL emits this warning on switching it on:

https://dev.mysql.com/worklog/task/?id=8326

So we have two options here:

1) make oslo.db default to STRICT_ALL_TABLES
2) make Devstack default to TRADITIONAL

The latter seems to be more appropriate as:

1) it's what modern MySQL versions default to
2) it's what people are actually using, if they do not override the
   oslo.db default
3) it's more strict

Closes-Bug: #1652452

Change-Id: Ie6d823c9f8465ac9f2ce4825929d1a50438fab45"
hichihara,2017-02-07 15:08:53,https://api.github.com/repos/openstack/devstack/git/commits/40aae6adbfce1bd896d5f7b0e281e798b56d1ca8,40aae6adbfce1bd896d5f7b0e281e798b56d1ca8,"Down PUBLIC_BRIDGE before trying to delete it

When cleanup devstack with linuxbridge, PUBLIC_BRIDGE should be
DOWN before trying to delete it.

Change-Id: I2d205cbe4d92a03ee5c376a23282d9880dd9a1df
Closes-Bug: #1662543"
JohnVillalovos,2017-02-06 21:46:32,https://api.github.com/repos/openstack/devstack/git/commits/09949e0dc61d9ef420b1528d0549092f88bc422a,09949e0dc61d9ef420b1528d0549092f88bc422a,"worlddump: Use __future__ print_function

Commit e7361775c112e32ea517eddc344641897d273d25 changed the code to
use Python 3 style print function, but when doing 'print()' in Python
2.7 it would print '()':
    >>> print()
    ()

Import the __future__ print function so that a blank line will be
printed as expected. This will now work the same in Python 2 & 3.

Change-Id: I61742e107278f2327c18c9ab0de52d1914f16c97"
jtaryma,2017-02-06 19:30:15,https://api.github.com/repos/openstack/devstack/git/commits/9d49ed983435cd0ff3791224dff47a4d51f0bf01,9d49ed983435cd0ff3791224dff47a4d51f0bf01,"Added printing exit code of component process if it failed to start

When command failed and component failed to start, original exit code
was overwritten due to original command being executed in background.
This commit adds information about command's exit code to echoed message
about component's start up failure.

Change-Id: I8a3dd485b1b1f2d70d42c5610baac7c0c713f53a
Signed-off-by: Joanna Taryma <joanna.taryma@intel.com>"
armando-migliaccio,2017-02-03 00:47:00,https://api.github.com/repos/openstack/devstack/git/commits/06f2ea2b962ffafeb415770d7eec5ee7886ee3b5,06f2ea2b962ffafeb415770d7eec5ee7886ee3b5,"Cut back on the number of workers ran for neutron

The dedicated RPC worker is overkill in single or multinode
devstack deployments. Also metadata API workers was left
default, which meant they were as many as the CPU cores.

Related-bug: 1656386

Change-Id: Ibbf7787dfa48e13a51f961f3e0ee2b8f49964759"
mtreinish,2017-02-02 15:52:53,https://api.github.com/repos/openstack/devstack/git/commits/6d79ebcae10dddb804856e7838aa391749266ebb,6d79ebcae10dddb804856e7838aa391749266ebb,"Add top memory consuming process to dstat output

Right now we under pressure because of increasing memory consumption in
dsvm jobs. So it'll be good to see which process is eating the most ram
at a given time. It may not end up being useful, but it doesn't hurt to
at least display just in case.

Change-Id: I096bf4b425db51358240335e41f6238d1ec1bb40"
PranaliDeore,2017-02-01 06:02:09,https://api.github.com/repos/openstack/devstack/git/commits/705b3785ca5383179c970c7d707bde9f69d96635,705b3785ca5383179c970c7d707bde9f69d96635,"Corrected router gateway set command

While configuring the external network as the default
router gateway for IPV6 in lib/neutron_plugins/services/l3,
""router"" keyword is missing in the command.

Corrected the command.

Change-Id: I055bea5137a841f709d4865ec9a43d6b53f8f4c9
Closes-Bug: 1660712"
mriedem,2017-01-31 20:20:18,https://api.github.com/repos/openstack/devstack/git/commits/ac5fdb4c4090efd682cc5c55aa30ec433da29fc7,ac5fdb4c4090efd682cc5c55aa30ec433da29fc7,"nova: call map_cell0 much earlier in the setup

The map_cell0 command creates a cell mapping record in the
nova_api database, and the nova-manage db sync command
will migrate the db schema for the nova_cell0 database. This
patch takes advantage of that by moving the map_cell0 call
much earlier in the setup process so we get the nova_cell0
db schema migrated at the same time as the main nova db.

This also removes the || true condition around map_cell0
since it's idempotent now due to fix:

aa7b6ebbb254f00fcb548832941ca9dbd3996d9f

Change-Id: Ice4fbb1771270c618b2acbc933d4fbfb6805df81"
mriedem,2017-01-31 16:59:09,https://api.github.com/repos/openstack/devstack/git/commits/e1644ac1d86d4836ca26e89258b5aa6e93b9f770,e1644ac1d86d4836ca26e89258b5aa6e93b9f770,"Remove OS_NO_CACHE from openrc

Nothing uses this variable either in devstack or libraries,
so it's dead code (at least on master), and we can remove it.

Change-Id: I5975c476ae5b26402c209d6e5746e7a5a5a91507"
mriedem,2017-01-31 03:22:43,https://api.github.com/repos/openstack/devstack/git/commits/e9a9fbef8fc29437d1f69727e2ab73c31e957488,e9a9fbef8fc29437d1f69727e2ab73c31e957488,"Don't run swap_volume tests in Tempest if cells v1 is enabled

Cells v1 apparently doesn't support the swap volume API which
was recently enabled for testing in change:

92575baa6b010ec09fea3e715030da8be61c0c64

Rather than revert that change, we should just handle the cells
v1 case and not enable that test in that environment.

Change-Id: I80f52e8299641098d90d3c374a80770fc45b8122
Closes-Bug: #1660511"
sileht,2017-01-26 10:31:58,https://api.github.com/repos/openstack/devstack/git/commits/5c6aa56e11b2dc79adc70154187d3a029e8e0976,5c6aa56e11b2dc79adc70154187d3a029e8e0976,"Don't assume nova-manage is present

tools/discover_hosts.sh is run by devstack-gate, and breaks all dsvm job
that doesn't use nova.

nova-manage is perhaps not installed if nova services are not enabled.

This change checks the presence of nova-.

Change-Id: Ic555d241f98d0fa027897c69a7115d1be88f6c96"
mriedem,2017-01-20 14:01:49,https://api.github.com/repos/openstack/devstack/git/commits/5713497aa5819f240050fee05d047c480845a8cd,5713497aa5819f240050fee05d047c480845a8cd,"Add discover_hosts.sh script

This adds a simple script to run the
'nova-manage cell_v2 discover_hosts'
command which will be used by
devstack-gate to discover the compute
hosts after devstack is fully setup.

This allows us to manage the branches
where this can run from devstack rather
than require branch logic in devstack-gate.

Change-Id: Icc595d60de373471aa7ee8fb9f3a81fc12d80438
Depends-On: I4823737246a8e9cc4eaebf67ff6bdba8bf42ab29"
jianghuaw,2016-11-08 09:49:45,https://api.github.com/repos/openstack/devstack/git/commits/465ee459867bc972fdd6568839db800a12289e05,465ee459867bc972fdd6568839db800a12289e05,"XenAPI: enable root_helper_daemon for XenServer

The daemon mode of root helper for XenAPI has been implemented by
this change which has been merged to neutron:
https://review.openstack.org/#/c/390931/
It will help to import the performance. Let's enable this mode
by default in devstack.

Change-Id: I52246bef3e4434dfc49446535b122580bc475ac3"
sdague,2017-01-17 17:17:48,https://api.github.com/repos/openstack/devstack/git/commits/fb1c7b51b57b11d263c8b08d4f12992fb58748cb,fb1c7b51b57b11d263c8b08d4f12992fb58748cb,"remove obsolete s3 conf from nova.conf

Change-Id: If0b42c647382b739ee4f1d98ea0394ec7b171ebf"
sdague,2016-04-05 16:08:57,https://api.github.com/repos/openstack/devstack/git/commits/9751be66fa45681d069af200632515c3693833d0,9751be66fa45681d069af200632515c3693833d0,"unify logging setup on all services

This provides a single setup_logging function which builds consistent
colorization if the config supports it, otherwise builds the identity
strings that we need to actually keep track of requests.

Change-Id: Iffe30326a5b974ad141aed6288f61e0d6fd18ca9"
sdague,2016-04-05 15:52:44,https://api.github.com/repos/openstack/devstack/git/commits/b6753cea8cd0e07d982048d2f856c6168fc74a92,b6753cea8cd0e07d982048d2f856c6168fc74a92,"simplify colorized logging setup

This makes setup_colorized_logging be a thing which takes a single
parameter and doesn't let projects do things differently. It also
changes the order of values from user / project to project / user to
represent the hierachy more clearly.

Change-Id: I8c0ba7da54be588e3e068734feb4f78ed7c5a14a"
sdague,2017-01-18 20:42:32,https://api.github.com/repos/openstack/devstack/git/commits/f80e2cfee85a200ba204ac00bada74695abcd964,f80e2cfee85a200ba204ac00bada74695abcd964,"add install_devstack_tools

An initial install for devstack-tools, this will need to use all the
fun pip extra variables for installation, however the current
pip_install always prefers python2, and we only want to do python3
here.

Change-Id: I3dcdb35130f76fad81cb7b0d4001b7e96efbbd84"
sdague,2017-01-18 12:53:33,https://api.github.com/repos/openstack/devstack/git/commits/1b457c9acfe7c0bcf7ba06dd4029d1e4ef9cdded,1b457c9acfe7c0bcf7ba06dd4029d1e4ef9cdded,"remove db setting when no nova service need it

We shouldn't have the db connection laying around if services don't
need it.

Change-Id: I9290e80c499c0c4644094e3c0666fd0ab002a23c"
Annie-XIE,2017-01-16 04:07:04,https://api.github.com/repos/openstack/devstack/git/commits/ba3c8f48bb07707e421f1c5aac5acedd1e63d3fd,ba3c8f48bb07707e421f1c5aac5acedd1e63d3fd,"Change the way to get conntrack-tools version

In the incoming XenServer, it failed to install conntrack-tools
in Dom0 due to the bash script which is trying to find the correct
CentOS release version to be used in yum command. This patch is to
fix the problem

Change-Id: If7f169e118ccb7c29fc479c361417a916dc40b40"
kk7ds,2017-01-15 17:50:40,https://api.github.com/repos/openstack/devstack/git/commits/29bb53fd3e7762c1fea023842ba09fcbfab60252,29bb53fd3e7762c1fea023842ba09fcbfab60252,"Fix cellsv2 cell0 database name

For some reason we were defaulting the name of the cell0 database
to nova_api_cell0 instead of nova_cell0. Devstack inherited that to
make things work, but we don't really want that. This patch makes us
use the proper name and create the cell0 mapping accordingly. As a
side effect, it also starts the process of unifying the cellsv1 and
cellsv2 paths by creating the cell0 mapping the same for both.

Change-Id: I4e7f6c5eaa068c98e5c4ef3feaee50d8e4f5d484"
electrocucaracha,2017-01-13 01:53:07,https://api.github.com/repos/openstack/devstack/git/commits/b612b6281a424556f6ed30d421214d0aa32ded55,b612b6281a424556f6ed30d421214d0aa32ded55,"Use delete action for clean up *.pyc files

Findutils added in release 4.2.3 a new --delete action for deleting
matching files. This action performs better than -exec rm {} \;
because it doesn't have to spawn an external process.  This change
uses a new action whenever is possible.

Change-Id: Iff16a86b18e924cfe78ac7c6107910940ce51e03"
kk7ds,2017-01-04 15:26:58,https://api.github.com/repos/openstack/devstack/git/commits/e194330f2753c8cacbcb18668ee32b4722cba2ec,e194330f2753c8cacbcb18668ee32b4722cba2ec,"Don't skip cellsv2 setup for cellsv1

Since cellsv2 setup is no longer optional, we can't even exclude
cellsv1 from this step. Since cellsv1 users can't use the simple
command, this does the individual steps as needed.

Depends-On: Icfbb17cce8ce8b03dc8b7b4ffb202db01e5218a6
Change-Id: I3c9101a34b2bb0804fc4deda62dbb8637e7b8f94"
mriedem,2016-09-21 20:15:31,https://api.github.com/repos/openstack/devstack/git/commits/92575baa6b010ec09fea3e715030da8be61c0c64,92575baa6b010ec09fea3e715030da8be61c0c64,"tempest: configure compute-feature-enabled.swap_volume if libvirt

The only virt driver in nova that supports the swap volume API is
libvirt so enable testing that in Tempest only if using libvirt.

Depends on two changes:

1. The Tempest change that adds the new config option and test.

Depends-On: I2d4779de8d21aa84533f4f92d347e932db2de58e

2. A nova fix for correctly waiting for the block copy job in the guest
   to complete.

Depends-On: I0c52917a5555a70c4973f37dea1aebf878dd73b4

Change-Id: Ibb6b309574d2c6a06fcecb0626ea21527fb7f412"
dhellmann,2017-01-09 22:11:49,https://api.github.com/repos/openstack/devstack/git/commits/a2eb89417fbb6d61526b1819cbe3d0a60537eedd,a2eb89417fbb6d61526b1819cbe3d0a60537eedd,"install LIBS_FROM_GIT using python 2 and 3 where appropriate

When installing a library from source and python 3 is enabled, first run
the installation process with python 2 enabled to ensure the library is
also installed under python 2 for any services not yet running under
3. The python 3 version is installed second so that command line tools
installed with libraries are installed under python 3 when python 3 is
enabled.

Change-Id: Ibb0f7a68d21081bf7652a0c1515080c0c54888ca
Signed-off-by: Doug Hellmann <doug@doughellmann.com>"
dhellmann,2017-01-09 21:24:24,https://api.github.com/repos/openstack/devstack/git/commits/94129c7d02902e0f000c09c8245be341df1c5965,94129c7d02902e0f000c09c8245be341df1c5965,"allow config to manage python3 use explicitly

Add variables ENABLED_PYTHON3_PACKAGES and DISABLED_PYTHON3_PACKAGES to
work like ENABLED_SERVICES and DISABLED_SERVICES and to manage which
packages are installed using Python 3. Move the list of whitelisted
packages in pip_install to the default for ENABLED_PYTHON3_PACKAGES,
except swift which is not enabled by default for now.

Add enable_python3_package and disable_python3_package functions to make
editing the variables from local.conf easier.

Add python3_enabled_for and python3_disabled_for functions to check the
settings against packages being installed by pip.

Update pip_install to check if python3 is disabled for a service, then
see if it is explicitly enabled, and only then fall back to looking at
the classifiers in the packaging metadata.

Update pip_install messages to give more detail about why the choice
between python 2 and 3 is being made for a given package.

Change-Id: I69857d4e11f4767928614a3b637c894bcd03491f
Signed-off-by: Doug Hellmann <doug@doughellmann.com>"
Annie-XIE,2016-11-16 08:40:32,https://api.github.com/repos/openstack/devstack/git/commits/c60818421152e5711fc93cab79122379c4e243aa,c60818421152e5711fc93cab79122379c4e243aa,"XenAPI: Use XenServer DevStack plugins

Hypervisor XenServer will change to use os-xenapi in the future,
this will need DevStack changes, this patch is to remove install
Dom0 plugins part to our own DevStack plugins.

Change-Id: Ic327135b893a77672fd42af919f47f181e932773"
umago,2016-12-23 14:35:45,https://api.github.com/repos/openstack/devstack/git/commits/0c6956862e6ac1cdb51b674c872183074df98c50,0c6956862e6ac1cdb51b674c872183074df98c50,"Remove default image logic for Ironic from DevStack

The logic to set the default image for Ironic has been moved into the
Ironic tree. This patch is just removing it from DevStack.

Change-Id: Iaeb177f194adc83e40d86696e5553f9f72bbd1f9
Depends-On: Id828b41dc44113ce1cd094ce5fc245989699d4ff"
vuntz,2017-01-06 10:25:46,https://api.github.com/repos/openstack/devstack/git/commits/09698d0e0e21f2cb401418db94d725d305acdc7d,09698d0e0e21f2cb401418db94d725d305acdc7d,"Fix typo in commands to enable nested KVM with kvm-amd

Change-Id: Ie3c6df2409385d9c6bbc50b3b1f8b20689478466"
dims,2017-01-05 21:11:17,https://api.github.com/repos/openstack/devstack/git/commits/51ecf0a869720ae5e8845b95fd2973b2760dcecf,51ecf0a869720ae5e8845b95fd2973b2760dcecf,"Introduce a PYTHON env var

* $PYTHON will have the path to python runtime to be used
* Use $PYTHON to run all the scripts

Change-Id: Ib5ab7820fc18cae5e50ea47302b610494197ad47"
dims,2017-01-02 14:30:16,https://api.github.com/repos/openstack/devstack/git/commits/80f3635521c23235b75c6a9cbb8e8edcaf667ae6,80f3635521c23235b75c6a9cbb8e8edcaf667ae6,"Run Swift services under py35

* iniuncomment followed by iniset for reseller_prefix just adds a
  duplicate line in the config file that configparser does not like
  so just remove the uncomment
* fall back to http:// url for glance->swift keystone authentication
* insecure flag to talk to swift

Depends-On: I51d56d16a5b175bd45dee09edc0b2748d72a5d06
Change-Id: I02ed01e20f8dce195c51273e8384130af53384ce"
yatinkarel,2017-01-05 07:02:57,https://api.github.com/repos/openstack/devstack/git/commits/0f97841dfa0187a34f3345ba5f6e58d398e82832,0f97841dfa0187a34f3345ba5f6e58d398e82832,"Remove duplicate entry for flat_networks

Currently if PHYSICAL_NETWORK and PUBLIC_PHYSICAL_NETWORK are
same then duplicate entry is created in ml2_conf.ini like below:
flat_networks = public,public,

With this patch, if PHYSICAL_NETWORK and PUBLIC_PHYSICAL_NETWORK
are same then add only PHYSICAL_NETWORK to flat_networks in
ml2_conf.ini

Change-Id: Iae4d1ee3882f6d96b4e4abd52ecc673a620563b5
Closes-Bug: #1654148"
mtreinish,2017-01-05 00:51:50,https://api.github.com/repos/openstack/devstack/git/commits/85879f1f8157a60fc190eb2731e4edd0deb1dae3,85879f1f8157a60fc190eb2731e4edd0deb1dae3,"Use the installed swift scripts

This commit switches how scripts we use to launch the installed version
in the path. Previously the scripts were manually executed in the source
repo, but this has issues if you're trying to run with py3 in a system
where python == py2. Setuptools already does the shebang magic for us
at install time, so we just need to use the installed version of the
script.

Change-Id: Iaa4d80ec607a2aa200400330e16cad3a4ca782ac"
hongbin,2016-12-23 22:16:50,https://api.github.com/repos/openstack/devstack/git/commits/53a49d104a59678ec36c5b8f4406ad51d69cf5f7,53a49d104a59678ec36c5b8f4406ad51d69cf5f7,"Add virt driver 'zun' to devstack

According to the feedback in the TC meeting [1], we renamed the Nova
virt driver from ""docker"" to ""zun"" [2] to avoid name collision
to nova-docker. This rename also help to clarify the difference
between these two drivers.

[1] http://eavesdrop.openstack.org/meetings/tc/2016/
    tc.2016-11-29-20.01.log.html
[2] https://review.openstack.org/#/c/414651/

Change-Id: I747080953ae4d1d35ed334831100413b6e4466c4"
sileht,2016-12-01 15:11:17,https://api.github.com/repos/openstack/devstack/git/commits/52b10746154d57c067b152009bbc13024c2951d9,52b10746154d57c067b152009bbc13024c2951d9,"cinder: configure dlm when this one is zookeeper

Previous this was set the zake, but that was revert to missing
dependencies issue and because zake is a test fixture and not somthing
to deploy.

This change configures the Cinder dlm with this one is zookeeper.
And it installs tooz and the extra dependencies needed for the
zookeeper driver.

To do it, this commit have to introduce a new method for package
installation: 'pip_install_gr_extras package extra1,extra2'.

Change-Id: Idca310c08e345db59840eb31434c6cb1f849fa70"
mriedem,2017-01-04 02:11:55,https://api.github.com/repos/openstack/devstack/git/commits/2a7e909b3f9480d3a61bd9ec497a954c833d14c8,2a7e909b3f9480d3a61bd9ec497a954c833d14c8,"Explicitly set use_neutron=False in nova.conf when running nova-net

nova-network has been deprecated since Netwon and Nova change
I8388c29ad310cd8800084b4d5c026013158bfbed is switching the default
value of use_neutron to True, so we need devstack to explicitly
set use_neutron=False when running and configuring nova-network.

Part of blueprint use-neutron-by-default

Change-Id: I82721b5d10711401b9b0ebc2b0ed07cc8287bbf7"
dims,2017-01-03 13:52:25,https://api.github.com/repos/openstack/devstack/git/commits/0c0d848b8ce151c72b21114ac741508351a0bf37,0c0d848b8ce151c72b21114ac741508351a0bf37,"Add swift and uwsgi to py35 whitelist

Really close to getting swift and keystone under uwsgi working, so
let's white list them. Won't affect any existing jobs, so we should
be good.

Change-Id: I51d56d16a5b175bd45dee09edc0b2748d72a5d06"
dims,2016-12-19 14:51:01,https://api.github.com/repos/openstack/devstack/git/commits/afa8a00c14f100cf610ac076f07db2379cfcee20,afa8a00c14f100cf610ac076f07db2379cfcee20,"Switch to python 3.5

Use trueorfalse to normalize the values for USE_PYTHON3

Install 3.5 instead of 3.4 When USE_PYTHON3 is specified.
Also, since not many packages are classified correctly, fallback
to looking for just ""Programming Language :: Python :: 3"" and
log a message for the package to highlight the problem.

Also special case some services that are *almost* ready

Depends-On: Id48e1b328230fcdf97ed1cb4b97f4c3f9cf6eb8a
Depends-On: Ib7d9aa0e0b74a936002e0eea0b3af05102b06a62
Change-Id: I243ea4b76f0d5ef57a03b5b0798a05468ee6de9b"
armando-migliaccio,2016-11-03 00:50:56,https://api.github.com/repos/openstack/devstack/git/commits/36f81ff6d568395bd2fd7f48bc983b9756924e3d,36f81ff6d568395bd2fd7f48bc983b9756924e3d,"Switch to using openstack client for setting the router's gateway

Depends-on: Ifb5a4d1965cd7e75c0c8cf2cfb677e0628b699dc
Change-Id: Iba58f5275cacc7bc82fa2f2d2b96315c2350ab70"
pkoniszewski,2016-10-05 14:14:19,https://api.github.com/repos/openstack/devstack/git/commits/8a92b7f1deeb1b9e99b41b7d7b8e22ca9636b6af,8a92b7f1deeb1b9e99b41b7d7b8e22ca9636b6af,"Add new configuration option for LM+grenade job

In order to test whether live migration is backward compatible
we need to live migrate VM back and forth between two versions
of nova. This configuration option will allow to reuse existing
tests just by adding if condition in a method that invokes live
migration and validates outcome:

* If set to False, it will use existing behaviour
* If set to True, it will live migrate VM, validate whether it
succeded, then live migrate the same VM once again and again
validate the result

Depends-On: Icaeca404ec3e4b8f3cd489789fdac6117740ec43
Change-Id: I8da2b3bd0c08d9a3111d3531c346d06bd52cae7b"
sbauza,2016-12-20 14:34:29,https://api.github.com/repos/openstack/devstack/git/commits/70a620846483c3f65500dbfe26aef7f3dc1ce50c,70a620846483c3f65500dbfe26aef7f3dc1ce50c,"Placement service only using default HTTPd ports

The placement API configuration was binding a specific port *and* was supporting
to be called by the default HTTPd ports using a Location directive.

Given that the corresponding service catalog entry for the placement service type
doesn't mention the specific application port but is rather using the default
port 80, we can remove that specific port and just use the default config.

Note that we still need to use a VirtualHost directive for the specific placement
config because ErrorLog is only scoped for either server or virtualhost but can't
be set for a Location (or a Directory) context.

Change-Id: I9a26dcff4b879cf9e82e43a3d1aca2e4fe6aa3e6"
pkoniszewski,2016-12-21 12:27:09,https://api.github.com/repos/openstack/devstack/git/commits/20eb274b753ed7cfeabd4eca8865774fe4bed182,20eb274b753ed7cfeabd4eca8865774fe4bed182,"Move RABBIT_HOST to lib/rpc_backend

This moves setting of RABBIT_HOST from stack.sh to lib/rpc_backend
so it may be used in grenade runs, which don't have the defaulted
value from stack.sh. The RABBIT_HOST is needed in order to call
get_transport_url in lib/rpc_backend.

Change-Id: I504f7fac7bb9a8c158e20046dbd1dd2d507db02b
Closes-Bug: #1649586
Depends-On: I3d4d7b309e50f4e2970cda55aada02d68c4fa705"
zaneb,2016-12-20 22:29:14,https://api.github.com/repos/openstack/devstack/git/commits/95ed7c6f0513debdc0c692e78b898c08b84eab99,95ed7c6f0513debdc0c692e78b898c08b84eab99,"Don't buffer log output in sed

Services that run inside Apache use tail -f on the corresponding log
file to display output in the screen session. However, they also use sed
to replace some control characters, and this means that the output is
buffered. This results in debugging experiences that range from
""impossible"" (the log you want isn't shown) to ""Kafkaesque nightmare""
(the log you want isn't shown, except that sometimes it is, and
sometimes it isn't even though you double-checked and you're completely
sure that you must have output a log, but when you check back later you
realise it actually is and you wonder if history is actually not mutable
after all and begin to question what is real and what is not).

This adds the --unbuffered option to ensure streaming output.

Change-Id: I665ff5f047156401d8152f478d834ac40ff31658"
sbauza,2016-12-19 17:07:55,https://api.github.com/repos/openstack/devstack/git/commits/91070d7e408de28ae6971fb480f499aa5ba41919,91070d7e408de28ae6971fb480f499aa5ba41919,"Add placement services to default devstack

Now that the placement service is mandatory for running Nova in Ocata,
we want to enable it by default when running devstack by default.

In the past, we added a placement-client service with
I04a655fbc58913b3d607400a7f677be299499142

Devstack-gate will also be able to run a multinode devstack with the
help of Ibd760c642e3c1ffff2dd61be48e30530b0d24720

Change-Id: I273c3c8299ee329bed425f3e7cd4b583ed1187a4"
booxter,2016-12-17 04:12:24,https://api.github.com/repos/openstack/devstack/git/commits/3f771b7bcb04a22c056f87e9e9bae76209fd3555,3f771b7bcb04a22c056f87e9e9bae76209fd3555,"iptables: don't enable arptables firewall

Neutron doesn't use any arptables based firewall rules. This should
somewhat optimize kernel packet processing performance.

I think the setting came from:
http://wiki.libvirt.org/page/Net.bridge.bridge-nf-call_and_sysctl.conf

but does not apply to the way we use iptables.

Change-Id: I41796c76172f5243e4f9c4902363abb1f19d0d12
Closes-Bug: #1651765"
sdague,2016-12-15 21:32:08,https://api.github.com/repos/openstack/devstack/git/commits/51a225c5d7f7d8655be62cab0e4d677b6839f35a,51a225c5d7f7d8655be62cab0e4d677b6839f35a,"Create mechanism for enabling placement-client on subnodes

When doing multinode devstack we need a way to specify that we've
enabled for the placement service. We use a pseudo service of
placement-client for this.

Change-Id: I04a655fbc58913b3d607400a7f677be299499142"
esberglu,2016-11-29 23:33:28,https://api.github.com/repos/openstack/devstack/git/commits/8e14240d232366b8b1dd7de59800595211698fc1,8e14240d232366b8b1dd7de59800595211698fc1,"Confirm network is created before setting public_network_id

The current code assumes that there exists a public openstack network
and uses that assumption to set the public_network_id variable in
tempest lib. If NEUTRON_CREATE_INITIAL_NETWORKS is set to false this
step will fail as there is no public network to be found. This change
adds a check for NEUTRON_CREATE_INITIAL_NETWORKS before attempting to
set this variable.

Change-Id: I62e74d350d6533fa842d64c15b01b1a3d42c71c2
Closes-Bug: #1645900"
cboylan,2016-12-14 15:57:26,https://api.github.com/repos/openstack/devstack/git/commits/a09cb5acf908e04b6509484fdff43016ebebf2cf,a09cb5acf908e04b6509484fdff43016ebebf2cf,"Use java version independent package on Ubuntu

Different versions of Ubuntu ship with different versions of Java.
Trusty had 7, Xenial has 8, and so on. This causes problems when we
hardcode a versioned package name into our dep lists as that version may
not exist everywhere. Thankfully Ubuntu provides a default-jre-headless
package that we can use instead that maps properly onto whatever java
version is correct.

Change-Id: I4e5da215c8f7aa426494686d5043995ce5d3c3af"
sc68cal,2016-12-15 16:29:28,https://api.github.com/repos/openstack/devstack/git/commits/edcb7e5bb321d247c9667933f3ff7c72973caa6f,edcb7e5bb321d247c9667933f3ff7c72973caa6f,"lib/neutron: Fix some settings

* Set ml2_type_flat setting so that the public flat network is created
correctly

* Set securitygroup driver correctly

It should be set as:

[securitygroup]
firewall_driver = iptables

Change-Id: I7369b45fbc5a47ce958693c67a1902a8cb24f367"
jamielennox,2016-12-13 04:47:11,https://api.github.com/repos/openstack/devstack/git/commits/7f68548538a5855cff8fe1debf4e65ff74074e09,7f68548538a5855cff8fe1debf4e65ff74074e09,"Always add the service role to service users

When creating a service user we allow the user to be created with a
different role. Currently in auth_token middleware we want to check that
the service token is specified with the service role so we should always
add the service role and optionally add additional roles.

Change-Id: Ie954a679674b4795079b539ebc8d4d2dcbd7dacc"
sdague,2016-12-09 12:33:01,https://api.github.com/repos/openstack/devstack/git/commits/22b63666de41bf62b008cff709168c5e84a0bf3b,22b63666de41bf62b008cff709168c5e84a0bf3b,"Warn instead of die on undefined config names

When using local.conf in multinode envs not everything is going to be
defined in all places. Eventually we probably want to make it so we
have a host role for these sections or something. But for now warn
instead of die when we can't find a config var.

Change-Id: I6959099373f035fbfe9e540a44e4c52b8e7c95c0
Closes-Bug: #2000824"
malor,2016-10-11 10:15:55,https://api.github.com/repos/openstack/devstack/git/commits/f575aefdfa2db204f975b3b4b178da1e292f4372,f575aefdfa2db204f975b3b4b178da1e292f4372,"lib/nova: create api db first

Since I21ae13a6c029e8ac89484faa212434911160fd51 nova-manage db sync
may try to make a request to api db in order to get cell mapping and
will fail, as the db is not created yet. While this is non fatal, we
could avoid the error anyway.

Change-Id: I19483e9420071d484f029779bcc8c6d623c210ce
Related-Bug: #1631033"
dirkmueller,2016-12-08 23:57:57,https://api.github.com/repos/openstack/devstack/git/commits/ea774b684d5116c626eb7b64eed9de4ecd5821a4,ea774b684d5116c626eb7b64eed9de4ecd5821a4,"[opensuse] add python-xml to general deps list

the python-xml is a subpackage from the standard cpython package that
that contains elementtree and other bits that are needed almost
everywhere in OpenStack but isn't installed on a absolutely minimal
openSUSE Leap installation. This package doesn't exist on pip but
is a SUSE only invention, so just treat it similar to a bindep.

Change-Id: I82887c2e6895740d1b16d1269574519450ca783e"
dirkmueller,2016-12-08 23:58:54,https://api.github.com/repos/openstack/devstack/git/commits/30b58bfa277820e0d41a7dc5edd06d8b4ff53500,30b58bfa277820e0d41a7dc5edd06d8b4ff53500,"Update openvswitch restart for suse

Starting with SLE12 SP2 and with openSUSE Leap the distro-shipped
openvswitch is the normal systemd openvswitch.service service file
and no longer the older openvswitch-switch Sysv5 init script. Add
a special case for that.

Change-Id: I5152f2585c3d4d18853988d6290039d6b1713b99"
ghanshyammann,2016-12-08 04:10:59,https://api.github.com/repos/openstack/devstack/git/commits/470580bba68e5dc727ceb4d575649cb143eef7d5,470580bba68e5dc727ceb4d575649cb143eef7d5,"Remove baremetal tempest config setting from devstack

Now all configuration are present in Ironic tempest plugin
and those are going to be removed from tempest in
Id518a6d87d0949737cd1c50cb6a83149b85e5f85

Patch- I73c649625d106fc7f068e12e21eaacba8f43cbbb set
those in ironic devstack plugin.

We can remove all baremetal config setting from devstack.

Along with moved one this patch deletes other unused baremetal
config setting.

Change-Id: If826321ebc0c20ea372d206d49383f3826c9b547
Depends-On: Id518a6d87d0949737cd1c50cb6a83149b85e5f85
Depends-On: I73c649625d106fc7f068e12e21eaacba8f43cbbb"
jumpojoy,2016-12-06 07:35:02,https://api.github.com/repos/openstack/devstack/git/commits/8e0fc9dc8e89994cedfa152e4ff5d2895d19c8a8,8e0fc9dc8e89994cedfa152e4ff5d2895d19c8a8,"Fix doc formating

Fix formating issue in the doc/source/plugin.rst

Trivial fix.

Change-Id: Ifc9a43aebdab0c15c83485cf0b6d4133d7194a9d"
sdague,2016-12-05 11:28:26,https://api.github.com/repos/openstack/devstack/git/commits/6d66e647ca35910cbca4d940b5203d7307efa1db,6d66e647ca35910cbca4d940b5203d7307efa1db,"don't setup cells if n-cpu isn't also running

create_cell requires n-api and at least one n-cpu up and running. If
we have a configuration where it is not guarunteed that there is an
n-cpu at the end of a devstack run we have to skip this step and make
the user run it manually later.

Change-Id: I2287ab29f3c1a7252271dcce81673ef365615296"
mav96,2016-11-30 11:29:18,https://api.github.com/repos/openstack/devstack/git/commits/ae61e6f3d25df98f4ebeca9695a3c73239ce82b2,ae61e6f3d25df98f4ebeca9695a3c73239ce82b2,"Postgres: fix detection of existing roles

Role ""root"" it is hardcode.
In general case role name comes from  local.conf: string  ""DATABASE_USER=""

Change-Id: Iedfca48e04d23c313851f48d68ac40ba29340805"
jeckxie,2016-12-05 07:32:25,https://api.github.com/repos/openstack/devstack/git/commits/8a834940b893b0535887d8cf08504dab4b9b710e,8a834940b893b0535887d8cf08504dab4b9b710e,"Missing parameter in comment

Change-Id: Iba55013b3be00974321ad58a276bb37ff2cac4da"
armando-migliaccio,2016-11-29 23:58:53,https://api.github.com/repos/openstack/devstack/git/commits/1c08b191fd04e028a8d908c9ccb4fdc536248c96,1c08b191fd04e028a8d908c9ccb4fdc536248c96,"Fix devstack with linuxbridge without l3 agent

The linuxbridge agent for Neutron expects that the public bridge will
already be created by the time it starts. On devstack, this only occurs
as part of the l3 agent configuration. If a compute node doesn't have an
l3 agent and is using a linuxbridge agent, then br-ex won't be created
and the process will not be able to start (causing stack.sh to fail).

This causes the gate-grenade-dsvm-neutron-linuxbridge-multinode-nv gate
to fail. To avoid the issue, skip the bridge mappings setup unless L3 is
configured. This is done in a backward compatible fashion: if localrc
uses the old q-l3 tags, the is_service_enabled neutron-l3 would not be
able to succeed.

Closes-Bug: #1643562

Change-Id: I292ff0dc080fb84b5f879ba2f00f03eff295b55b"
afrittoli,2016-11-30 20:44:44,https://api.github.com/repos/openstack/devstack/git/commits/1c442eebc8fe005af453bd610e750a1919a2b3ed,1c442eebc8fe005af453bd610e750a1919a2b3ed,"Fix libguestfs on Ubuntu

libguestfs does not work on ubuntu because the kernel is not
world readable. This breaks file injection with libvirt.
See https://bugs.launchpad.net/ubuntu/+source/linux/+bug/759725
for more details.

The workaround proposed by Ubuntu is to relax the kernel ACL
if needed, so we need to do that in case file injection is
enabled on an Ubuntu host running libvirt.

Partial-bug: #1646002
Change-Id: I405793b9e145308e51a08710d8e5df720aec6fde"
sdague,2016-12-01 15:24:06,https://api.github.com/repos/openstack/devstack/git/commits/8bf8c8f3810766d19b92f9cb21231095beca30c6,8bf8c8f3810766d19b92f9cb21231095beca30c6,"Add test-config local.conf processing

We need a local.conf processing phase after every run phase which lets
us override config options after that point. We didn't explicitly
support this for test-config before, which broke some CI systems when
we moved tempest to use this later phase.

Closes-Bug: #1646391

Change-Id: I7d693afa19acf3e8231e84e45b7a868628ebdbc0"
yamt,2016-07-15 01:27:53,https://api.github.com/repos/openstack/devstack/git/commits/eede9ddb1d0f0970672f02bcdfb33923603e65e7,eede9ddb1d0f0970672f02bcdfb33923603e65e7,"Deprecate Q_PLUGIN_EXTRA_CONF_PATH

This single global variable is no longer useful as we have multiple
repositories and devstack plugins nowadays.

Also, add a utility function, neutron_server_config_add, for devstack
plugins to add an extra config file.

Related-Bug: #1599936
Change-Id: I90112823ef96ae2fba97d7b09b00bec8cb816d8d"
yamt,2016-12-01 13:29:12,https://api.github.com/repos/openstack/devstack/git/commits/8b1bbd690c3aea36dea804542c1bc56274b2ad31,8b1bbd690c3aea36dea804542c1bc56274b2ad31,"Make deprecated() output to stderr

So that it can be used by functions like _determine_config_server,
which is used like RESULT=$(_determine_config_server).

Change-Id: Ia4e641c5529b95ada30ae662221f370bc7fa88a7"
yamt,2016-07-21 08:49:43,https://api.github.com/repos/openstack/devstack/git/commits/c74315e055a770ef3508276442816fffde07cfc6,c74315e055a770ef3508276442816fffde07cfc6,"Load neutron-legacy only if enabled

To avoid using legacy functions accidentially.

Depends-On: Ida1f83b6b3ef9b76be13c063c7e35a8703214078
Change-Id: I3ff136fc8330c92007cdfe91b77d7f9865eabd8d"
ghanshyammann,2016-12-01 08:45:43,https://api.github.com/repos/openstack/devstack/git/commits/50ce0a8032bf315df20c594df1dd3d0822168b4d,50ce0a8032bf315df20c594df1dd3d0822168b4d,"Revert ""Set cinder coordination backend url""

gate-tempest-dsvm-layer4 job is failing due to this change as no module found on zake[1]. Heat not able to create cinder stack.
This is blocking tempest now so we will revert revert this once find the real cause.

This reverts commit a283526c88d98f7668d369f4c20db44d3d06425a.

..1 http://logs.openstack.org/64/405064/2/check/gate-tempest-dsvm-layer4/feb21fe/logs/screen-c-vol.txt.gz#_2016-12-01_05_43_40_369

Change-Id: I50981db7760688a25a2bf4de9a41153ede76f4aa"
sc68cal,2016-11-30 19:22:24,https://api.github.com/repos/openstack/devstack/git/commits/1d83a08a385ad079c546d8a0ac9558dc72eaa9fd,1d83a08a385ad079c546d8a0ac9558dc72eaa9fd,"lib/neutron: Remove type_driver configuration

Instead, rely on what Neutron ships by default.

Change-Id: I8bdc646d24b3edf10f421e4472a790caeb8e4887"
Annie-XIE,2016-12-01 03:47:24,https://api.github.com/repos/openstack/devstack/git/commits/df875c5f16980228e2443c50298f35063f2b54ae,df875c5f16980228e2443c50298f35063f2b54ae,"Reconfig ml2 ovs configuration for neutron on XenServer

XenServer already support OVS native mode and I have a patch for
configuring it https://review.openstack.org/#/c/372952/ which
is fine. But we have another patch which revert the usage of
ml2_confi.ini and ml2_conf.ini.domU
https://review.openstack.org/#/c/396573/. Both patches work well
separately. But the two should have some dependent relationship.
Once one merged, the other should change accordingly. Sorry that
we missed the dependency.
This patch is to fix the ovs config based on reverted ml2_conf.ini
and ml2_conf.ini.domU to make sure we configure the correct IP for
ovs agent

Change-Id: Ib53e37e210cc849f161dd6630f81e5b2331a91d5"
sc68cal,2016-11-30 19:27:36,https://api.github.com/repos/openstack/devstack/git/commits/50bf4fc0758df3dfb0bf9fa6e5f56ecebd1200e4,50bf4fc0758df3dfb0bf9fa6e5f56ecebd1200e4,"lib/neutron-legacy - Use stevedore alias for ML2 plugin

Similar to 30ab23cd9b103470a7d89c4c88bccba789884c36, fix the
plugin name to avoid warnings like:

WARNING stevedore.named [-] Could not load neutron.plugins.ml2.plugin.Ml2Plugin

Change-Id: Ibb45f1305816b255ba2419ba662d9e29eff68f58"
Annie-XIE,2016-09-20 06:49:50,https://api.github.com/repos/openstack/devstack/git/commits/2864150940bfb003e86bf103cb18b32bdb4a080b,2864150940bfb003e86bf103cb18b32bdb4a080b,"Make neutron ml2 use ovs native interface

Neutron has changed to use ovs native interface by default, but when
the hypervisor is XenServer, we cannot use ovs native interface without
extra configurations in neutron-openvswitch-agent(q-agt) in compute
node.

This patch is to add the needed configurations automatically during
deployment, so user needn't to do it manually and restart q-agt.

Change-Id: Ibc69d3cdb4d75833f2ac16840c62bcacf460dd4f"
armando-migliaccio,2016-11-29 23:30:18,https://api.github.com/repos/openstack/devstack/git/commits/6653d74fc4cbff1b06888fe53a0712117e2394dc,6653d74fc4cbff1b06888fe53a0712117e2394dc,"Revert ""Fix devstack with linuxbridge without l3 agent""

I am seeing red all over the linuxbridge gate.

This reverts commit 7f95baa5706980a0910741693abee73abea98b89.

Change-Id: I179f761f991db4b63c0e3445a9a13e43ffe68992"
cboylan,2016-11-29 18:43:05,https://api.github.com/repos/openstack/devstack/git/commits/cfb9f057ea5896687d95cdcc5aa5216ef32b87f8,cfb9f057ea5896687d95cdcc5aa5216ef32b87f8,"Tune apache connections for tls proxy

We are seeing connection errors to the proxy occasionally. These errors
do not result in a logged http request or error to the backends,
resulting in a theory that the proxy itself may just not be able to
handle the number of connections. More than double the total number of
connections that will be accepted by the proxy in an attempt to fix
this.

Change-Id: Iefa6c43451dd1f95927528d2ce0003c84248847f
Related-bug: 1630664"
gkotton,2016-11-29 11:48:34,https://api.github.com/repos/openstack/devstack/git/commits/2a5981402ff26973c77ccf534164e4318dd8897a,2a5981402ff26973c77ccf534164e4318dd8897a,"Provide configuration file to ovs-cleanup utility

There may be cases when the configuration of the OVS is different
from the default one. This enables one to make use of the neutron
configuration file to contain all of the OVS settings.

Change-Id: I728cf8cdc653667c076b07b39c13c1278281c01b
Closes-bug: #1645691"
sharat-sharma,2016-10-03 06:40:23,https://api.github.com/repos/openstack/devstack/git/commits/89a855f784644f2c4d88331a0d29f85e5fcd741c,89a855f784644f2c4d88331a0d29f85e5fcd741c,"Changed the order of steps in the devstack install document

The order of the steps were a bit confusing for the first timers
in the devstack document. So, changed the order of installation
steps to make it clear.

Change-Id: Ifaa051887dab95719b9ca5d1b2fbe2f5f549d269
Closes-Bug: #1627939"
yamt,2016-07-21 07:14:52,https://api.github.com/repos/openstack/devstack/git/commits/d9ec42028df9ad12aa7760e21c664d6927790d9e,d9ec42028df9ad12aa7760e21c664d6927790d9e,"lib/neutron: Add a utility method to add service plugin

Partial-Bug: #1604664
Change-Id: I6d49ac188f7f1cfc8da314a26c9c5fc4b6d65bf4"
yamt,2016-11-25 15:43:07,https://api.github.com/repos/openstack/devstack/git/commits/02f3f9a6bbb6c4af989ad6cf504d5c49d7c9b4e2,02f3f9a6bbb6c4af989ad6cf504d5c49d7c9b4e2,"meta-config: Fix consecutive same sections

The current coding fails to process local.conf like
the following.  Note: This example is taken from a
real use case. [1]

    [[post-config|$NEUTRON_CONF]]
    [qos]
    notification_drivers = midonet
    [[post-config|$NEUTRON_CONF]]

    [quotas]
    # x10 of default quotas (at the time of writing)
    quota_network=100
    quota_subnet=100
    quota_port=500
    quota_router=100
    quota_floatingip=500
    quota_security_group=100
    quota_security_group_rule=1000

[1] https://review.openstack.org/#/c/400627/

Closes-Bug: #1583214
Change-Id: Ie571b5fa5a33d9ed09f30ba7c7724b958ce17616"
peterstac,2016-11-21 20:36:31,https://api.github.com/repos/openstack/devstack/git/commits/0dab8d63b3e5431bd5edb562f466296478285251,0dab8d63b3e5431bd5edb562f466296478285251,"(doc) Fixed references to FIXED_RANGE_V6

In the 'Private Network Addressing' section of the doc,
there are references to FIXED_RANGE when referring to V6
networks.  These have been changed to FIXED_RANGE_V6.

Also fixed a few typos and grammatical errors when
giving the doc a quick read-through looking for more
references to FIXED_RANGE.

Change-Id: Iaa530c476ce2b36a3f616945ddd2e24fa599a16c"
kornicameister,2016-11-14 08:10:57,https://api.github.com/repos/openstack/devstack/git/commits/868a6631721219bac4042eca88e290c278589e26,868a6631721219bac4042eca88e290c278589e26,"Always set ALLOWED_HOSTS=['*'] for horizon

If devstack is deployed in the VM with defined
public IP address (like 192.168.10.6) it is not possible to
access the Horizon from the browser.
This is because DEBUG=True means that ALLOWED_HOSTS, if not set,
is equal to ['localhost', '127.0.0.1', '[::1]'] according
to Django's documentation.

Change-Id: I0ab2b57e459dbfa3b01b3e9388bbcefac076a142
Co-Authored-By: David Lyle <dklyle0@gmail.com>
Closes-Bug: #1643050"
dankolbrs,2016-11-16 19:47:49,https://api.github.com/repos/openstack/devstack/git/commits/5c4691af3e9cf9d0fe9a2afa2bbe1fc73796610d,5c4691af3e9cf9d0fe9a2afa2bbe1fc73796610d,"remove listen directive bound to only ipv4

Using devstack on a  RHEL based system results in
""Listen 0.0.0.0:80"" being added to the
/etc/httpd/conf/httpd.conf.
This configures Apache to only listen to port 80 on an IPv4 interface.
This makes it not possible to access Horizon via IPv6 without
re-configuring and restarting httpd.

Removing this sed leaves the default ""Listen 80"" from the rpm package,
 which binds to all interfaces and will allow connection to Horizon
via IPv6.

Change-Id: I9fe8cbebff0ca6a30ceeaae0f7e035c9bb828d44"
afazekas,2016-11-23 11:43:02,https://api.github.com/repos/openstack/devstack/git/commits/bcaadd63d8739b528f0121775d6612aebd333a4f,bcaadd63d8739b528f0121775d6612aebd333a4f,"Apache reload issue when it is stopped

Since 4b49e409f853104dae021dfca1a9342ec9ac4709 devstack
started to use reload instead of restart.

Using reload in devstack for a fresh install,
does not makes too much sense unless multiple service
plugin touches the same service configs.

Systemd rejects to reload something,
which was not loaded before.

 $ sudo /bin/systemctl reload httpd
 httpd.service is not active, cannot reload.

We will switch to `reload-or-restart` action instead of `reload`,
it is more likely the action what the previous patch wanted.

Change-Id: I70d597fbe4a8923d937ba8432e29edefb27d1058"
afazekas,2016-11-23 11:24:52,https://api.github.com/repos/openstack/devstack/git/commits/471855ecd1b36c744162ec7c6c52768e1a1073e2,471855ecd1b36c744162ec7c6c52768e1a1073e2,"Add Fedora 25 support

Fedora 25 released,
adding the required knobs.

Change-Id: I8ce86aa9f23e9572d69eadcfc81af2e96d5be64f"
mriedem,2016-11-22 02:10:49,https://api.github.com/repos/openstack/devstack/git/commits/b6cbf922d79d7189dab7d68dc6014fa8682aad9d,b6cbf922d79d7189dab7d68dc6014fa8682aad9d,"Change CINDER_LVM_TYPE back to 'default' as the default

Change dddb2c7b5f85688de9c9b92f025df25d2f2d3016 recently
changed devstack to enable the Cinder image cache by default
and changed to use thinly provisioned LVM volumes by default.

Since then we've had a spike in thin LVM snapshot test failures
in the gate, which is by far our top gate bug at 219 hits in the
last 10 days.

So unless there is a fix on the Cinder side, this changes the
default lvm_type back to 'default' for thick provisioning.

Change-Id: I1c53bbe40177fe104ed0a222124bbc45c553b817
Related-Bug: #1642111"
dklyle,2016-11-21 22:16:17,https://api.github.com/repos/openstack/devstack/git/commits/2ccd1203423ea29cc7b8c462aa17e18981d32d60,2ccd1203423ea29cc7b8c462aa17e18981d32d60,"Revert ""Always set ALLOWED_HOSTS for horizon""

This reverts commit 37f48f3c208de1031ef4589d15194c4079ad4a97.

Change-Id: I8c853c35c5b0b61925c27b461ad625266381f73b"
kaitersgonnakait,2016-01-27 03:46:13,https://api.github.com/repos/openstack/devstack/git/commits/a5b72b053efec9af8a57c59b35f96142e4f38433,a5b72b053efec9af8a57c59b35f96142e4f38433,"Set fixed-key key manager

With the key manager refactoring in nova and cinder, the key manager
class will need to be explicitly set.

Nova key manager refactoring: Ib563b0ea4b8b4bc1833bf52bf49a68546c384996
Cinder key manager refactoring: Ief8885bb4ca8d62b03cf1a52c25dd0e62c835bfe

Change-Id: I733279864ee1a4aaffc9c8eed81b5e12f8d8821b
Implements: blueprint use-castellan-key-manager"
hidekazuna,2016-11-09 06:27:19,https://api.github.com/repos/openstack/devstack/git/commits/541617b15ef678cd5daf05d19ceea84ec1c8ebf9,541617b15ef678cd5daf05d19ceea84ec1c8ebf9,"Improve Live Migration section in multinode-lab.rst

Added root user login check to ensure SSH keys exchanged.


Change-Id: I8513bc883ac273af8dcc2f61562a838d33b45a82"
samirjorina,2016-11-18 13:28:47,https://api.github.com/repos/openstack/devstack/git/commits/90742fc1be7b4ad77bf3fda110d5a9bda4eb2100,90742fc1be7b4ad77bf3fda110d5a9bda4eb2100,"Pass branch parameter to git clone

Without this parameter, when we set GIT_DEPTH,
it may happen that we clone only master and
then cannot checkout branch

Change-Id: I39376914f8bfc286a308c99db6bc92cddab195b5"
cboylan,2016-11-18 20:32:19,https://api.github.com/repos/openstack/devstack/git/commits/a5afa7d81ad380eeb91f7c58dd07facb214b347b,a5afa7d81ad380eeb91f7c58dd07facb214b347b,"Fix default ipv6 fixed range var

The intent was to make any ipv6 safe addr range bigger than a /64 a /64
when setting the fixed range. Unfortunately the awk only emited the mask
and not the addr. Fix this by sprinkling the address back in.

Fixes-Bug: 1643055
Change-Id: I526d4c748fd404ecb3c77afcbb056aa95090c409"
kornicameister,2016-11-14 08:10:57,https://api.github.com/repos/openstack/devstack/git/commits/37f48f3c208de1031ef4589d15194c4079ad4a97,37f48f3c208de1031ef4589d15194c4079ad4a97,"Always set ALLOWED_HOSTS for horizon

If devstack is deployed in the VM with defined
public IP address (like 192.168.10.6) it is not possible to
access the Horizon from the browser.
This is because DEBUG=True means that ALLOWED_HOSTS, if not set,
is equal to ['localhost', '127.0.0.1', '[::1]'] according
to Django's documentation.

Change-Id: I74ae99569dafa10eee7066713a05fb49183e3fca"
mjturek,2016-04-12 18:55:21,https://api.github.com/repos/openstack/devstack/git/commits/7938d83d3bd37ef63cfea60e188918848ea87858,7938d83d3bd37ef63cfea60e188918848ea87858,"Allow provider network to be used for ssh validation

Currently devstack assumes that the network used for ssh
validation is the private network. This patch adds a hook that
sets the network used for ssh validation based on whether or not
provider networking is being used. It also moves the function
'is_provider_network' into functions-common as it will now be
used by both tempest and neutron.

Change-Id: I265c9e26c9bfb18b7e201f27d8912b8bec235872"
JohnVillalovos,2016-11-11 23:26:11,https://api.github.com/repos/openstack/devstack/git/commits/21d84c29b22fb69b00739ae40d69f80d5182a94e,21d84c29b22fb69b00739ae40d69f80d5182a94e,"If plugin is enabled multiple times fail

When using the enable_plugin command and grenade jobs it can be
easy to enable the same plugin twice, as the grenade job has a
registration section and the configuration in project-config can also
enable it due to code-reuse in project-config.

If a plugin is enabled twice it will likely fail, though it won't be
obvious that it was due to the plugin being enabled multiple times.

This change makes it so if it sees the same plugin name is enabled
more than once it will die and an error message outputted.

Change-Id: I9f1d7e58b861b04473b6a57c9ad404203fb7277a"
kevinbenton,2016-11-16 01:26:05,https://api.github.com/repos/openstack/devstack/git/commits/4bfbc291eefd92d8b7885f36275b7ff541e067ab,4bfbc291eefd92d8b7885f36275b7ff541e067ab,"Derive IP ranges from new ADDRS_SAFE_TO_USE vars

The switch to using subnetpools caused quite a bit of confusion
because it didn't respect the value of FIXED_RANGE. This caused
conflicts in the gate with it's default IPv4 value of 10.0.0.0/8.

This patch does a few things to address the issue:
* It introduces the IPV4_ADDRS_SAFE_TO_USE and IPV6_ADDRS_SAFE_TO_USE
  values and adjusts all of the FIXED_RANGE and SUBNETPOOL_PREFIX values
  to dervive from them by default.
  * This addresses the concern that was raised about implying that
    SUBNETPOOL_PREFIX and FIXED_RANGE are equivalent when setting
    SUBNETPOOL_PREFIX=FIXED_RANGE by default. Now we have a new value
    for the operator specify a chunk of addresses that are safe to
    use for private networks without implementation implications.
  * Backwards compatibility is maintained by alloing users to override
    override all of these values.
* The default for IPV4_ADDRS_SAFE_TO_USE uses /22 instead of /24
  * Because we want to be able to use subnetpools for auto allocated
    topologies and we want to be able to have a large chunk of
    instances on each network, we needed a little more breathing room
    in the default v4 network size.
* SUBNET_POOL_SIZE_V4 default is changed from 24 to 26
  * In conjuction with this change and the one above, the default
    subnetpool will support up to 16 64-address allocations.
  * This should be enough to cover any regular gate scenarios.
  * If someone wants a bigger/smaller subnet, they can ask for that
    in the API request, change this value themselves, or use a different
    network entirely.
* FIXED_RANGE_V6 defaults to a max prefix of /64 from IPV6_ADDRS_SAFE_TO_USE
  * This avoids the private subnet in the non-subnetpool case from being
    larger than /64 to avoid issues identified in rfc 7421.
  * Users can still explicitly set this value to whatever they want.
    This 'max' behavior is only for the default.
  * This allows IPV6_ADDRS_SAFE_TO_USE to default to a /56, which leaves
    tons of room for v6 subnetpools.

Closes-Bug: #1629133
Change-Id: I7b32804d47bec743c0b13e434e6a7958728896ea"
kevinbenton,2016-11-15 23:02:23,https://api.github.com/repos/openstack/devstack/git/commits/df5e69114fa2af663c50e734b4a842c727e6a7e9,df5e69114fa2af663c50e734b4a842c727e6a7e9,"Stop setting route pointing back to tenant router

This removes the logic to add a route pointing to the IPv4
tenant private network range since the router is performing
SNAT. If reaching the IPs via the route worked at all, it was
by accident since this behavior is certainly not guaranteed
by Neutron.

Change-Id: If45e3fc15c050cfbac11b57c1eaf137dd7ed816f"
jianghuaw,2016-11-11 10:23:17,https://api.github.com/repos/openstack/devstack/git/commits/caa822fce46d0fab1163bbae4fb5d520745aef20,caa822fce46d0fab1163bbae4fb5d520745aef20,"XenAPI: correct the ml2 configuration for neutron

XenAPI requires two instances of L2Agent: the standard one manages OVS
bridges in DomU and the service name is called as q-agt in Devstack;
the other new L2Agent manages OVS bridges in Dom0 and the service name
is called as q-domuA. In order to support the new agent q-domuA, it
requires some XenAPI-specific configurations. But unfortunately those
XenAPI-specific configurations were configured in the standard agent
file, meaning other changes made to the standard agent file would not
have the correct effect. So it has caused issues, for example, floating
IP addresses are not reachable.
This fix is to move the XenAPI-specific configurations from the stardard
agent configuration file to the XenAPI-specific agent configuration file
so that it won't impact the standard agent's behavior.

Change-Id: I45944e84a1f81d016aa00da6d782801ee8457ea4"
berrange,2016-11-14 13:23:14,https://api.github.com/repos/openstack/devstack/git/commits/c30b8def82c14e161c0242307e117697e24e1ece,c30b8def82c14e161c0242307e117697e24e1ece,"Move certificate setup earlier in deployment

Currently the x509 certificate setup is done after all the
openstack services have been deployed. This is OK because
none of the services require that the x509 certs exist
when they are being deployed. With the integration of TLS
into the nova novnc proxy (and later spice & serial proxy)
service, x509 certs will need to exist before Nova is
deployed.

The CA setup must thus be moved earlier in the devstack
deployment flow, prior to the setup of any services. One
part of the CA setup, however, fixes up the global cert
bundle locations and this can only be done after the
python requests module is install, thus must remain in
its current location.

Change-Id: Idcd264fb73bb88dc2f4280c53c013dfe4364afff"
jianghuaw,2016-11-09 04:50:00,https://api.github.com/repos/openstack/devstack/git/commits/2b3ac6dc64a6d31a1dae2ede6483bf9f73a3918f,2b3ac6dc64a6d31a1dae2ede6483bf9f73a3918f,"Specify the correct image parameters for XenServer

The deprecated AMI image file opts will be removed soon.
See https://review.openstack.org/#/c/338377.
So we can't use the fallback mechanism anymore. This patch is to
specify the correct image parameters for XenServer.

Change-Id: Ic287a3ed1725c42ea29022158bc9720c9a96533f"
JohnVillalovos,2016-11-12 19:09:15,https://api.github.com/repos/openstack/devstack/git/commits/bd42d4918eebc7ca2a72bb459bc5f8d953623e5f,bd42d4918eebc7ca2a72bb459bc5f8d953623e5f,"Remove call to undefined teardown_neutron_debug

Previously the usage of neutron debug ports was removed by
5e01c47e4d671166b9396c507a7105a5ac8256dc but there was still call to
teardown_neutron_debug. Recently a change to devstack-gate
1d6cc0771a3399300117f488e9d71e7ea46a4d82 caused that call to be
triggered and breaking the gate-devstack-dsvm-updown job.

This patch deletes the call and comments regarding setup_neutron_debug
and teardown_neutron_debug.

Change-Id: Ifdacb0cec1307db469bd66f551474539184cf2cd"
cgoncalves,2016-11-11 14:02:57,https://api.github.com/repos/openstack/devstack/git/commits/bac2e4ddc28393fbd3c6f45248737893b5d0fd97,bac2e4ddc28393fbd3c6f45248737893b5d0fd97,"Update local.sh sample file to use OSC

Besides updating to OSC CLI, this patch also fixes an argument name typo
present before in 'nova keypair-add' (--pub_key should be --pub-key).

Specifying $OS_PROJECT_NAME in case user is associated to multiple
projects containing security groups with same name (e.g. 'default').

Change-Id: I776f6edfc4c6c798a39d3260827a18c695f05c87"
mriedem,2016-11-01 19:44:06,https://api.github.com/repos/openstack/devstack/git/commits/f166081d0e4a3b04b157a25e94f0bb2a1769f813,f166081d0e4a3b04b157a25e94f0bb2a1769f813,"Always setup cells v2

Nova is going to land a database migration in Ocata
under change I72fb724dc13e1a5f4e97c58915b538ba761c582d
which enforces that at least the simple cells v2 setup
is performed, which creates the cell mappings, cell0 and
host mappings. Before we can land that change in Nova
we have to make cells v2 setup a default in the integrated
gate jobs.

Depends-On: Ie44e615384df464516aa30b9044b5e54b7d995bb

Change-Id: If1af9c478e8ea2420f2523a9bb8b70fafddc86b7"
armando-migliaccio,2016-10-27 13:15:23,https://api.github.com/repos/openstack/devstack/git/commits/4f11ff30cf2f7c674316fe8c98f1c006f397013f,4f11ff30cf2f7c674316fe8c98f1c006f397013f,"Adopt openstack client for neutron commands

The neutron client is going to be deprecated during the
Ocata timeframe, so it is time to start switching to the
openstack client to invoke networking commands.

use of neutron client in neutron-legacy has been left as is.

The command for setting the router gateway is left as follow up.

Change-Id: I0a63e03d7d4a08ad6c27f2729fc298322baab397"
priteau,2016-11-03 10:10:03,https://api.github.com/repos/openstack/devstack/git/commits/62f29a98d70298372590957bcec7b9f7bc59d963,62f29a98d70298372590957bcec7b9f7bc59d963,"Update stable branch example

The stable/juno branch was deleted 11 months ago:
http://lists.openstack.org/pipermail/openstack-announce/2015-December/000869.html

Update the example to Newton, which should keep it valid for a while.

Change-Id: I4cd8738862a529fd319be2ec5694d00defd94f84"
Annie-XIE,2016-09-27 05:57:06,https://api.github.com/repos/openstack/devstack/git/commits/f881a0e4ee995a2e2122e0e048cc8b7ccc88d6a0,f881a0e4ee995a2e2122e0e048cc8b7ccc88d6a0,"XenAPI: Enable linux bridge in Dom0 for neturon

When using neutron network under xenserver, we must enable linux bridge
in Dom0 as neutron will use linux bridge qbr in compute node for
security group. But by default XenServer use openvswitch and disabled
linux bridge. This patch is to remove this restriction.

Change-Id: I0e8124ff2323810fdc46c717a750ce7e8f4aa0c6"
pauloewerton,2016-01-22 19:13:31,https://api.github.com/repos/openstack/devstack/git/commits/75bf9722392c9fc1ca7c6a95b99e8897c86d4271,75bf9722392c9fc1ca7c6a95b99e8897c86d4271,"Move default Keystone API version to v3

This patch sets Keystone v3 as default in services
configuration files and in the openrc and stackrc scripts.

Change-Id: I24546f02067ea23d088d383b85e3a78d7b43f166
Partially-Implements: bp keystonev3"
Annie-XIE,2016-10-09 09:47:48,https://api.github.com/repos/openstack/devstack/git/commits/54482cd80b9d64f2d7043cd8560504d9d5752fc1,54482cd80b9d64f2d7043cd8560504d9d5752fc1,"Stop q-domua process when XenServer is used

When using XenServer, it will create two neutron-openvswitch-agent
q-agt and q-domua even it's single box environment, but it didn't
stop the q-domua, this patch is to stop q-domua in unstack.sh

Change-Id: I511ed534bfb7d5fe6136f6a0b33f1d749d30862c
Closes-Bug: #1631721"
castulo,2016-11-01 20:34:20,https://api.github.com/repos/openstack/devstack/git/commits/2d9959c53b7866e0dbfb0bcda15c59db1c3de6b6,2d9959c53b7866e0dbfb0bcda15c59db1c3de6b6,"Removing config values no longer in tempest.conf

This commit removes some config values for tempest that no
longer exist in tempest/config.py therefore are no longer needed
in tempest.conf.

Change-Id: I5778973012e57e8d9df9bf864590f8ed7fe05561"
mriedem,2016-09-16 00:33:22,https://api.github.com/repos/openstack/devstack/git/commits/c9c9d31d3eb98f3d6382cedfd2aebc75ce236d1f,c9c9d31d3eb98f3d6382cedfd2aebc75ce236d1f,"tempest: set network-feature-enabled.port_security

Sets the port_security feature flag in tempest.conf
if the port_security extension is enabled, which it's not
by default in neutron but is set by default in devstack.

This adds global variable for setting the port_security
extension in ml2.conf and in tempest.conf so we only have
to set this in one place.

Depends-On: I1efd5c838aa0d73cc6e8864e3041eea25850198d

Change-Id: I6334b200e42edd785f74cfb41520627393039619
Related-Bug: #1624082"
stevemar,2016-09-08 02:29:25,https://api.github.com/repos/openstack/devstack/git/commits/dc486bc12fb63ecb5939f8d29dd9cf7a659847cd,dc486bc12fb63ecb5939f8d29dd9cf7a659847cd,"Switch fernet to be the default token provider

this is the first patch in a series to actually make fernet the default
token provider in keystone. the patches for grenade, release notes, and
actually switching the value in keystone all depend on this patch first.

reasons for switching over:

- fernet tokens are the recommended token provider
- the install guide for newton recommends deployers use fernet tokens [0]
- we previously attempted this switch but ran into timing issues [1],
  the timing issues have been resolved [2]

[0] http://docs.openstack.org/newton/install-guide-ubuntu/keystone-install.html
[1] 153db269705f37d4144ad3fcf26dc67269755d7d
[2] https://review.openstack.org/#/q/topic:make-fernet-default

Change-Id: I3b819ae8d2924f3bece03902e05d1a8c5e5923f1"
ericwb,2016-10-28 09:03:37,https://api.github.com/repos/openstack/devstack/git/commits/fb73d85afe7df7b93b9a460372a8ad6558e887e0,fb73d85afe7df7b93b9a460372a8ad6558e887e0,"Remove unused KEYSTONE_CATALOG_BACKEND

This patch simply removes a var noted to be removed back in Newton.

Change-Id: I7c66e1d8d65f562596543ed8ca402dba8c8ea271"
ericwb,2016-10-27 13:14:00,https://api.github.com/repos/openstack/devstack/git/commits/7b07ccf5e4b7f724eceedb069a51c29284b357aa,7b07ccf5e4b7f724eceedb069a51c29284b357aa,"Remove deprecated/obsolete ldap options

The devstack ldap configuration for keystone is still using some
old options that are no longer valid. The write support is
being removed this release. And in previous releases, the ldap
assignment driver support was removed and was not removed here.

Change-Id: I538626b681eaee6a7ac10dfbc29605b73fbe13bf"
yamt,2016-10-19 19:21:00,https://api.github.com/repos/openstack/devstack/git/commits/07edde1c14d8ab91533c1ef6fe0470f088d5c8bb,07edde1c14d8ab91533c1ef6fe0470f088d5c8bb,"lib/neutron: Create initial topology only on controller node

To avoid it being created multiple times for multinode setup.

Note: This reverts ""Enable neutron to work in a multi node setup""
(commit 88f8558d874072536e7660a233f24207a7089651) partly and fixes
the issue differently.
The configuration in question uses the new lib/neutron. (not neutron-legacy)
In that case, calling create_neutron_initial_network from stack.sh directly
is a wrong way, as create_neutron_initial_network is sourced by
neutron-legacy.  The new neutron code should not rely on the legacy one.

Closes-Bug: #1613069
Change-Id: I868afeb065d80d8ccd57630b90658e330ab94251"
yamt,2016-07-21 09:39:44,https://api.github.com/repos/openstack/devstack/git/commits/d5f730caf41430a142fcf37b216dfa4d69ec4d2c,d5f730caf41430a142fcf37b216dfa4d69ec4d2c,"lib/neutron: Remove remaining references to Q_ variables

Q_ variables belong to neutron-legacy.

These are True by default in neutron.
Remove them in favor of post-config meta section.

Change-Id: If691a79b09003f85a07c9f33e0379a2b21e48141"
mriedem,2016-10-21 02:27:25,https://api.github.com/repos/openstack/devstack/git/commits/aa47a0a8be9a9aced97d6a083d955949635fa3b3,aa47a0a8be9a9aced97d6a083d955949635fa3b3,"ceph: set rbd_secret_uuid in cinder.conf, not rbd_uuid

The ceph cinder backend script was setting the wrong
config option in cinder.conf for the secret uuid. This
was being masked by a bug in nova which is failing on
this bug when trying to fix the nova bug...right. It
makes sense.

See:

http://docs.ceph.com/docs/master/rbd/rbd-openstack/#configuring-cinder

Change-Id: I4655cae3212d589177d2570403b563a83aad529a
Closes-Bug: #1635488"
emonty,2016-10-18 12:24:00,https://api.github.com/repos/openstack/devstack/git/commits/201c01f19b855aec3521c206fc0add5a01940c4b,201c01f19b855aec3521c206fc0add5a01940c4b,"Don't clone dib-utils in install_heat

It's not used, and a recent change to trim down projects lists in
devstack-gate broke devstack in the gate that enabled heat.

Change-Id: I405423bdc9ba8dd9b30fce6fdceacccf662d5da3"
hongbin,2016-10-09 16:31:15,https://api.github.com/repos/openstack/devstack/git/commits/bc5cfc05842a4d4514082a2431020c5b881e52a1,bc5cfc05842a4d4514082a2431020c5b881e52a1,"Allow running nova compute with docker group

A use case is from Zun project that needs to start n-cpu with
""docker"" group.

Change-Id: Ib8f193ea1edf1f148e9ba505205495170ebf6d67"
eharney,2016-10-14 18:36:29,https://api.github.com/repos/openstack/devstack/git/commits/d8682dbdf9f8247c20c4aa9612a560d2a9022c09,d8682dbdf9f8247c20c4aa9612a560d2a9022c09,"worlddump: Add cinder-volume guru meditation report

cinder also supports GMR, it would be good
to have this when debugging gate failures.

Change-Id: I4db6dfd810d011faaca084e0dacaec4031b2a4ff"
afazekas,2016-10-13 06:24:57,https://api.github.com/repos/openstack/devstack/git/commits/2bd8d906813679cfc22f5bc62882a289906a64af,2bd8d906813679cfc22f5bc62882a289906a64af,"Objects versions new style config

allow_versions is going to be a deprecated option.
Setting up the object versining in the new way.

[1] http://docs.openstack.org/developer/swift/overview_object_versioning.html

Change-Id: Ia520fbb6eb535b08ce83c0cb4bea31e7bba55eb3"
stevemar,2016-09-06 19:10:22,https://api.github.com/repos/openstack/devstack/git/commits/5ff77d6a2ac81a411505dc1d3b7b814eb7fbb259,5ff77d6a2ac81a411505dc1d3b7b814eb7fbb259,"Remove workaround for `openstack complete`

This reverts commit 6930ba312f787e0459f7455ac6ba2a70b3c7c37d.

By reverting this patch we are no longer using the bandaid fix mentioned
in the code. The latest openstackclient release (3.3.0) fixes the bug.

Related-Bug: 1619274

Change-Id: I20e3c5a92b97bf46c8d2318cd37044f0f36e1745"
afazekas,2016-10-11 06:23:48,https://api.github.com/repos/openstack/devstack/git/commits/cac6ef09c5a7ecc0e9959b1e3ace48c41a0add71,cac6ef09c5a7ecc0e9959b1e3ace48c41a0add71,"Remove the heat stack owner role

We should not require any special role for heat
since very long time.

We should use the same roles as with the primary user.

Change-Id: Id9150f94c30505ed0da33b8fbc2a5a7bd4fcf5d0"
sdague,2016-10-07 10:57:03,https://api.github.com/repos/openstack/devstack/git/commits/f06455e1b55b5419b6546a0d85ebfa734bf3c6b4,f06455e1b55b5419b6546a0d85ebfa734bf3c6b4,"Add a screen session for tls logs

When tls is enabled, we aren't bringing the logs to the forefront,
which makes it hard to debug when things go wrong. This does that.

Change-Id: I7c6c7e324e16da6b9bfa44f4bad17401ca4ed7e3"
clayg,2016-09-01 09:38:06,https://api.github.com/repos/openstack/devstack/git/commits/148d0e6e08caaaa9c6ca828c8404e5e82b6de8ee,148d0e6e08caaaa9c6ca828c8404e5e82b6de8ee,"Clarify default IP_VERSION in docs

The prior art on other options in the same document seemed to be
calling out the default in a pre-formatted block after describing the
possible values.

I believe the default value for the option was first changed [1], then
the docs were fixed [2], then the information was unintentionally
dropped from the docs [3].

1. Related-Change: If0e0b818355e4cb1338f7fa72af5e81e24361574
2. Related-Change: Ib6603b4f6ea0b4079f9a4ea46e723ecbb2ea371d
3. Related-Change: Iddd27cb54f1d9f062b9c47ff9ad6a2bef3650d6b

Change-Id: I662403db3b08a351a680587440ad1f15a6f8ee5d"
sdague,2016-10-06 19:00:44,https://api.github.com/repos/openstack/devstack/git/commits/ec498cd0619805c409b28f81c6a7bcd3a01136ed,ec498cd0619805c409b28f81c6a7bcd3a01136ed,"remove sites-enabled/keystone.conf link on clean

doing a clean.sh / stack.sh cycle with USE_SSL=True was failing
because we were no longer cleaning up the keystone site fully, so some
of the early mod_ssl queries hit an invalid apache configuration.

Change-Id: Ic6f3f601e532ec50c0234d928c25b378d9e95e32"
cboylan,2016-10-05 19:11:05,https://api.github.com/repos/openstack/devstack/git/commits/66ce5c257ae32e269ede901f1737d04e194a6457,66ce5c257ae32e269ede901f1737d04e194a6457,"Update apache tls proxy logs

This creates log files per proxy vhost and sets the log level to info to
help debug potential issues with tls proxying.

Change-Id: I02a62224662b021b35c293909ba045b4b74e1df8"
gonzolino,2016-07-15 17:13:38,https://api.github.com/repos/openstack/devstack/git/commits/a283526c88d98f7668d369f4c20db44d3d06425a,a283526c88d98f7668d369f4c20db44d3d06425a,"Set cinder coordination backend url

If DLM is enabled, cinder should be configured to use the correct
backend url for the dlm.
At the moment only zookeeper is supported, as it is the only backend
currently supported in devstack.

Change-Id: I7afc8dc95bc5b3f11b888e10607615c1212c45f4"
clenimar,2016-06-30 20:30:26,https://api.github.com/repos/openstack/devstack/git/commits/57df186c132c522231aab1e577d879f7fa51c992,57df186c132c522231aab1e577d879f7fa51c992,"Make Nova/Ironic communication use Identity v3

As long as nova already supports an Identity v3 auth flow when talking
to ironic (Id837d26bb21c158de0504627e488c0692aef1e24), make it use
v3 by default.

This way we don't fail in a keystone v3-only situation, for
example.

Change-Id: I028dfb52108d0630f47a53f8b420b70d4979eb55"
mangelajo,2016-10-04 16:17:44,https://api.github.com/repos/openstack/devstack/git/commits/ca89d071b3c249fba55a824f7f4fc247b7c22948,ca89d071b3c249fba55a824f7f4fc247b7c22948,"Reduce the scope of the subnet pool prefix in neutron

Some of the clouds used for CI use the 10.2xx.0.0/16 range
for VMs, and collide with the wider 10.0.0.0/8.

This setting allows for creation of 256 subnets out of the pool.

Change-Id: I48c86f94098f1501f0e7f90a265dda7e81440eb0
Closes-Bug: 1629133"
Thingee,2016-10-03 23:00:33,https://api.github.com/repos/openstack/devstack/git/commits/c271b3ea1fe16561b7a46507fdf961668182b256,c271b3ea1fe16561b7a46507fdf961668182b256,"Update OpenStackClient role list commands

This command is deprecated. The new command is role assignment list.

Change-Id: I8dba0be21d5af6751bea13d8ff29cd4b7589ab3e"
booxter,2016-09-29 13:26:30,https://api.github.com/repos/openstack/devstack/git/commits/b3a210f643989603d192b32a40b2001664f8ed73,b3a210f643989603d192b32a40b2001664f8ed73,"Enable bridge firewalling if iptables are used

With the plan [1] to stop enabling it by Neutron iptables firewall
driver itself, deployment tools should catch up and enable the firewall
themselves.

This is needed for distributions that decided to disable the kernel
firewall by default (upstream kernel has it enabled). This is also
needed for distributions that ship newer kernels but don't load the
br_netfilter module before starting nova-network or Neutron iptables
firewall driver. In the latter case, firewall may not work, depending on
the order of operations executed by the driver.

To isolate devstack setups from the difference in distribution
kernel configuration and version, the following steps are done:

- we load bridge kernel module, and br_netfilter if present, to get
  access to sysctl knobs controlling the firewall;
- once knobs are available, we unconditionally set them to 1, to make
  sure the firewall is in effect.

More details at:
http://wiki.libvirt.org/page/Net.bridge.bridge-nf-call_and_sysctl.conf

[1] I9137ea017624ac92a05f73863b77f9ee4681bbe7

Change-Id: Id6bfd9595f0772a63d1096ef83ebbb6cd630fafd
Related-Bug: #1622914"
alaski,2016-09-28 19:05:31,https://api.github.com/repos/openstack/devstack/git/commits/0009869caebe3b671c84f19cbde694547e3dd11b,0009869caebe3b671c84f19cbde694547e3dd11b,"Don't install Nova policy.json

Nova ships with an empty policy.json file which it does not need.
oslo.policy previously required the empty file to be there but as of
version 1.14.0 it is possible to run with no policy file at all. Since
there are no policies defined in the sample file let's no install it.

Change-Id: I85a251376dfe38caa4b100861bf764014a98bc37
Depends-On: I09fa842ffbe75bed269cef6edc9c82d18bfe9297"
hshiina,2016-09-28 11:21:57,https://api.github.com/repos/openstack/devstack/git/commits/aa7ec81fd794d4ab02b96f726ae08f53abc90073,aa7ec81fd794d4ab02b96f726ae08f53abc90073,"Fix typo in documentation

This patch just removes a duplicate 'the'.

Change-Id: I3393a51d55ba8ec1639c2548781f8972f0d5c9d0"
dragorosson,2016-09-26 18:23:23,https://api.github.com/repos/openstack/devstack/git/commits/b34d459bbc100e65fbc308438b3b7f72bd5fb5b6,b34d459bbc100e65fbc308438b3b7f72bd5fb5b6,"Allow default IPv6 route device names to have dots

When dots are used with sysctl, they are reinterpreted as slashes.
Route devices can have dots in their names, so when they are used in a
sysctl command that also uses dots, its dot will be replaced with a
slash, causing an error.

Change-Id: Ie32126a3aa8d646568d7d37ec4874419b9658935
Closes-Bug: #1627770"
yamt,2016-07-21 10:37:04,https://api.github.com/repos/openstack/devstack/git/commits/1aa436813566081c24f0223b2ac48c2389c244ce,1aa436813566081c24f0223b2ac48c2389c244ce,"Move Q_ROUTER_NAME to where it belongs

The motivation is to make it more friendly with lib/neutron.
ie. independent from lib/neutron-legacy

Change-Id: I19821b009cbf1bc715a6c7b2854e4c77d2041ec4"
yamt,2016-08-24 06:30:09,https://api.github.com/repos/openstack/devstack/git/commits/4a55d2a66092e351726251bb21a1d82b3501bdcd,4a55d2a66092e351726251bb21a1d82b3501bdcd,"lib/neutron: Rename core plugin variables

NEUTRON_PLUGIN -> NEUTRON_CORE_PLUGIN
NEUTRON_PLUGIN_* -> NEUTRON_CORE_PLUGIN_*

Change-Id: I1d93d8bd1e6e3bbca0e56a2da0684ab3f3fbb525"
sigmavirus24,2016-09-26 17:53:14,https://api.github.com/repos/openstack/devstack/git/commits/69e3c0aac99981f17c76c22111e5c397824b8428,69e3c0aac99981f17c76c22111e5c397824b8428,"Update certificate creation for urllib3

urllib3 1.18 was released today and contains new more correct hostname
matching that takes into account the ipAddress portion of a certificate
and disallows matching an IP Address against a DNS hostname.

Change-Id: I37d247b68911dc85f55adec6a7952ed321c1b1d8"
jamielennox,2016-07-26 22:05:05,https://api.github.com/repos/openstack/devstack/git/commits/04e69de6c513e1cddaaa74eb2ff428a5db4d223b,04e69de6c513e1cddaaa74eb2ff428a5db4d223b,"Mount identity admin script at /identity_admin

The /identity_admin endpoint is the port 80/443 equivalent of the
service that typically runs on port 35357. In v2 some operations must be
performed on the admin endpoint whereas on v3 the services on 5000 and
35357 are exactly the same. This would be why the service was mounted at
/identity_v2_admin however that is misleading because both the v2 and v3
services are present on that endpoint.

This is particularly confusing because we set this as the OS_AUTH_URL
endpoint and it makes it seem like we are doing v2 authentication when
we are not.

Change-Id: If73735026079fb19ca5bd44b3a4dc1f507b5c99d"
cboylan,2016-09-23 20:33:40,https://api.github.com/repos/openstack/devstack/git/commits/323b726783d6d4ef24a0c9f0d7c77b9e8b152c61,323b726783d6d4ef24a0c9f0d7c77b9e8b152c61,"Don't make root CA if it exists

To support multinode testing where we just copy the CA to all the
instances don't remake the CA if it already exists.

The end result is that you can trusty a single chain and all your
clients will be happy regardless of which host they are talking to.

Change-Id: I90892e6828a59fa37af717361a2f1eed15a87ae4"
huazhihao,2016-09-26 03:43:49,https://api.github.com/repos/openstack/devstack/git/commits/499a9e39c1bfeb39928b04a9f1cc84a91521dcad,499a9e39c1bfeb39928b04a9f1cc84a91521dcad,"XenAPI: Remove legacy tty image

UPLOAD_LEGACY_TTY was for console access, but it's no longer used.

Change-Id: I294c8716be2e6ee9f53108d4eb41faf99e975538"
ianw,2016-09-23 05:08:48,https://api.github.com/repos/openstack/devstack/git/commits/a4705403aa6a4ba0f5ea8c67bff89a67d0be2070,a4705403aa6a4ba0f5ea8c67bff89a67d0be2070,"yum_install: fix awk return code

TIL:

  Similarly, all the END rules are merged, and executed when all the
  input is exhausted (or when an exit statement is executed).

i.e. matching YUM_FAILED calls ""exit"", which falls through to the END
rules which calls ""exit result"" ... which is zero.  i.e. if the return
code is 1 then we actually hide that and return with zero.

This is rather annoying because errors that should halt to alert us of
a package install failure pass through, only for you to have to debug
much later on seemingly unrelated problems.

This always sets ""result"" and thus should be returning the right
thing.  I've updated the documentation to hopefully make it clearer
what's going on.

Change-Id: Ia15b7dc55efb8d3e3e945241b67a468b8a914672"
kevin-zhaoshuai,2016-08-11 10:41:34,https://api.github.com/repos/openstack/devstack/git/commits/a80d4097a973acaff9c7718334487a1182ba7dc6,a80d4097a973acaff9c7718334487a1182ba7dc6,"Modify the default Qemu packages name for AArch64.

In Debian jessie and later release,there is no packages
called ""qemu-kvm"" for AArch64. Also modify the libguestfs0
packages for AArch64

Closes-bug: #1612182

Change-Id: I5eb6bd137896eb9abfc4f8dbb41b41105e4820cd
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>"
tosky,2016-09-21 17:39:36,https://api.github.com/repos/openstack/devstack/git/commits/4c813ac0fb64c7b4eeec7f67692ccfd7affd2153,4c813ac0fb64c7b4eeec7f67692ccfd7affd2153,"Fix the logic of if used with is_service_enabled

The value to be evaluated is the returned value, not the output of the
command.

Change-Id: I22d7c967e911bcfee6b1910f666dbbc647c00085"
greghaynes,2016-09-01 01:19:51,https://api.github.com/repos/openstack/devstack/git/commits/4b49e409f853104dae021dfca1a9342ec9ac4709,4b49e409f853104dae021dfca1a9342ec9ac4709,"Use apache for tls-proxy ssl termination

Stud is now abandonware (see https://github.com/bumptech/stud) and is
not packaged in xenial. Lets use Apache for SSL termination since its
there already.

Change-Id: Ifcba410f5969521e8b3d30f02795541c1661f83a"
gkotton,2016-09-20 11:12:11,https://api.github.com/repos/openstack/devstack/git/commits/d2ef615d8f2edc9d8b535c94fca1a5afde3d0694,d2ef615d8f2edc9d8b535c94fca1a5afde3d0694,"Neutron: enable setting debug as True or False

The flag ENABLE_DEBUG_LOG_LEVEL indicates if this should be
set or not.

This will now be supported in Neutron.

Change-Id: I3afe0546b379873247fee1ef9f4cc2708a7b5713"
HenryGessau,2016-09-17 23:28:53,https://api.github.com/repos/openstack/devstack/git/commits/734f144f5d47c9b76562d5b5c705428be0963aec,734f144f5d47c9b76562d5b5c705428be0963aec,"Neutron L3: account for all default routes

Some systems may have more than one default route.
Set up iptables NAT rules on all v4 default route devices.
Accept RAs on all v6 default route devices.

Closes-Bug: #1624773

Change-Id: If58509297497ea33c6c156f083a4394000bd0561"
mriedem,2016-09-08 17:07:59,https://api.github.com/repos/openstack/devstack/git/commits/14cb490d1e9837c237ade5c0a63de56faae5e89d,14cb490d1e9837c237ade5c0a63de56faae5e89d,"nova: stop setting deprecated use_usb_tablet option

The use_usb_tablet option is replaced by the pointer_model
option.

Depends-On: Id18b5503799922e4096bde296a9e7bb4f2a994aa

Change-Id: Ic2a49f88df988c6404c1c72e9ee28a487e4f7908"
mriedem,2016-09-12 15:23:19,https://api.github.com/repos/openstack/devstack/git/commits/6390d5ef8236028c8dc00c5514e7ceac60ffd627,6390d5ef8236028c8dc00c5514e7ceac60ffd627,"libvirt: install python-guestfs when ENABLE_FILE_INJECTION=True

There is a bit of a weird history here, but the net is we're not
installing python-guestfs when ENABLE_FILE_INJECTION is set, which
it is in the gate-tempest-dsvm-neutron-full-ssh job, which makes
file injection (personality) tests fail.

The history:

Commit 0ae942b41c6dcd0fe7353e7d68574194fb72a66d moved installing
python-guestfs to the hypervisor-libvirt file and it was conditional
on a flag to enable file injection and the backing distro.

Commit a3c94468baa159840a47c34cf94d97d816208313 removed the ability
to configure nova for file injection, which never made any Tempest
tests fail because we didn't have a job that tested file injection
with ssh, which is what gate-tempest-dsvm-neutron-full-ssh does.

Commit 6d3670a65280d71529f8aad8ca5a0422abffebd0 added the ability
back to enable file injection and the gate-tempest-dsvm-neutron-full-ssh
job uses it, but missed added the condition back in from 0ae942b41
which installed the python-guestfs package. This change adds that
back in.

Change-Id: I1c1ef093b70007100646c086dc5724cd64751d00
Closes-Bug: #1622649"
ianw,2016-09-12 04:58:20,https://api.github.com/repos/openstack/devstack/git/commits/9c69eacabaac45a7ea3574744975fac5cf1ac10d,9c69eacabaac45a7ea3574744975fac5cf1ac10d,"Don't add deb-* packaging repos to plugin list

A couple of hundred of these were added with
Ia02f4e1819ac47b12b4ce4381e04253eb26e9f70 and you can see in some of
the proposals at I21fd2b3866efe66dd1f7173003c2521688aa7fd6 they're
starting to match.  Just ignore packaging repos as they're not really
relevant for the purposes of plugin list.

Change-Id: Iaf9e0c0fb672a70c3aee1bbcf587bb0d387e5945"
cboylan,2016-09-09 00:08:36,https://api.github.com/repos/openstack/devstack/git/commits/95469032656c442982730ea307644d47d7755a81,95469032656c442982730ea307644d47d7755a81,"Set sensible default for LB_PHYSICAL_INT

Configure the linux bridge physical interface to use the interface for
the default route on the current host. In the future we should consider
using a dangling interface so that we aren't affecting the host
instances networking but this roughly matches what testing has been
using in the past.

Change-Id: I7859437f97e6cab929e90208fe56f7efd62dfe01"
scheuran,2016-08-26 08:29:20,https://api.github.com/repos/openstack/devstack/git/commits/0063495b00409651c3bd02a7b3a31ba5b6ea40c0,0063495b00409651c3bd02a7b3a31ba5b6ea40c0,"Make PIP_GET_PIP_URL configurable via local.conf

The default get_pip url regulary times out when starting devstack
from behind company firewalls. Making this a configureable variable,
user can make use of internal git-pip.py mirrors without modifying
any code.

Change-Id: I66a5534d51ab23a4d8586c27d37b4b6b8a6892c9"
lennybe,2016-09-04 12:52:01,https://api.github.com/repos/openstack/devstack/git/commits/0a40710b9f82555abd0478498d743a973680f5d9,0a40710b9f82555abd0478498d743a973680f5d9,"Adding vfio to cgroup_device_acl during libvirt configuration

vfio should be added to cgroups on some of the Distributions like
Ubuntu 16-04

Change-Id: I7239858b6307e37bf1237b92d69a0520ab5ad304"
oomichi,2016-09-02 21:00:39,https://api.github.com/repos/openstack/devstack/git/commits/085f2fb0e2d399281b137c9fa95a7a39e270be7d,085f2fb0e2d399281b137c9fa95a7a39e270be7d,"Remove the same configurations as the default

The default value of force_dhcp_release is True on Nova side:
https://github.com/openstack/nova/blob/master/nova/conf/network.py#L306
The default value of vnc.enabled is True on Nova side:
https://github.com/openstack/nova/blob/master/nova/conf/vnc.py#L27
The default value of spice.enabled is False on Nova side:
https://github.com/openstack/nova/blob/master/nova/conf/spice.py#L30

So it is not necessary to set them on Devstack.

Change-Id: I67cc103269d2d612ad443c72f2a77d7ae2ca09e3"
kk7ds,2016-08-15 19:06:55,https://api.github.com/repos/openstack/devstack/git/commits/71119b47a0e3fb86b349732a1777be8c83d2e6c2,71119b47a0e3fb86b349732a1777be8c83d2e6c2,"Setup cellsv2 for Nova

This patch setup cellsv2 for Nova after plugin initialization phase.
Since this requires compute hosts to be started, we need to do it
after we have initialized all other plugins. Things like ironic
aren't setup when we were running this as part of nova setup, and
thus this command can fail.

When cellsv1 is used (n-cell is enabled) skip calling
cells_v2 simple_cell_setup, which will never have hosts
at the top level and which will always fail.

Change-Id: Ic7d0115da51d6ea17ee49071af259a7789c62ab9
Depends-On: I9bbaa4c92503222c9fd015fe075926b50f3dcc8c"
emonty,2016-09-01 12:25:28,https://api.github.com/repos/openstack/devstack/git/commits/6930ba312f787e0459f7455ac6ba2a70b3c7c37d,6930ba312f787e0459f7455ac6ba2a70b3c7c37d,"Specify a cloud for openstack complete

there is a bug in openstackclient that is causing a password prompt

Related-Bug: 1619274
here.

Change-Id: I3aee25845ece846ed2b35aa242dc684b55ac2381"
clayg,2016-09-01 09:07:12,https://api.github.com/repos/openstack/devstack/git/commits/40b433fb07d2612075a30e2e18fbae094c2c8ec0,40b433fb07d2612075a30e2e18fbae094c2c8ec0,"Make unstack.sh more independently deterministic

In some initialization conditions (having never ran stack.sh) the
result of unstack.sh is dependent on if the user had previously
installed lvm2 or disabled the cinder service.

This change makes all results the same with a bit of LBYL.

There's also a drive-by to put a comment back where it belongs after
being accidentally moved in the related change.

Related-Change: I09b1a7bee0785e5e1bb7dc96158a654bd3f15c83

Change-Id: I9a7e052677d60cbbbdd582877f3c6c48c387f668
Closes-Bug: #1619195"
brantlk,2016-08-31 21:26:17,https://api.github.com/repos/openstack/devstack/git/commits/eb77eef8a57f8a4d012d8bee316e56b1764919de,eb77eef8a57f8a4d012d8bee316e56b1764919de,"Keystone re-enable catalog caching

Catalog caching was disabled due to bug 1537617, but this has been
fixed for some time. Re-enabling to get some performance back.

Change-Id: Ic0edf5c70a5040edf3393dbd1e110ab5fb56c110
Related-Bug: 1537617"
brantlk,2016-08-31 20:47:56,https://api.github.com/repos/openstack/devstack/git/commits/542abbab3bc58c40a499531165943df4bf2e4ab0,542abbab3bc58c40a499531165943df4bf2e4ab0,"Keystone uwsgi set lazy-apps=true

Keystone had a problem where there was a memcached socket
opened very early on startup which then got shared between
worker processes when running under uwsgi. This can be
prevented by setting lazy-apps so this is the recommended
setting.

See http://uwsgi-docs.readthedocs.io/en/latest/ThingsToKnow.html

""""""uWSGI tries to (ab)use the Copy On Write semantics of the
fork() call whenever possible. By default it will fork after
having loaded your applications to share as much of their
memory as possible. If this behavior is undesirable for some
reason, use the lazy-apps option. This will instruct uWSGI to
load the applications after each worker‚Äôs fork(). Beware as
there is an older options named lazy that is way more invasive
and highly discouraged (it is still here only for backward
compatibility) """"""

Change-Id: I6f271dc906528f0c86060452deaf15df81b267d2
Related-Bug: 1600394"
melwitt,2016-08-30 22:14:04,https://api.github.com/repos/openstack/devstack/git/commits/0bf25506b03c78dd809e3638cabcf1fc11e9f1a0,0bf25506b03c78dd809e3638cabcf1fc11e9f1a0,"Move RABBIT_USERID to lib/rpc_backend

This moves setting of RABBIT_USERID from stack.sh to lib/rpc_backend
so it may be used in grenade runs, which don't have the defaulted
value from stack.sh. The RABBIT_USERID is needed in order to call
get_transport_url in lib/rpc_backend.

Change-Id: I6f211e9102f79418f9f94a15784f91c4150ab8a7"
alaski,2016-08-29 14:02:41,https://api.github.com/repos/openstack/devstack/git/commits/eb6ef2f80ea11aa7ba3f9ff52cb03704db3547d4,eb6ef2f80ea11aa7ba3f9ff52cb03704db3547d4,"Create the nova_api_cell0 database

As part of Nova cellsv2 there is now a third database that must be setup
for use by Nova. This database is an exact copy of the 'nova' database.
Only do this if NOVA_CONFIGURE_CELLSV2 is overridden.

Change-Id: I8775b8066ba85fbdbcdfb42c28cb567fc7759fe5"
mriedem,2016-08-31 14:39:46,https://api.github.com/repos/openstack/devstack/git/commits/44bf88cd3990c5255e1a0b94842446b8a472b87d,44bf88cd3990c5255e1a0b94842446b8a472b87d,"Fix region name placement config option

The placement config option for setting the region is
actually 'os_region_name', not 'region_name', see:

https://review.openstack.org/#/c/358797/13/nova/conf/placement.py

Change-Id: I62e79c6860e2329428e3115d14ee86f5ff15d7e8"
sdague,2016-08-31 12:56:37,https://api.github.com/repos/openstack/devstack/git/commits/a25ae6c03de2d87bca4f708ffc338c66164eec3b,a25ae6c03de2d87bca4f708ffc338c66164eec3b,"convert apache logs to color for screen

If we left the ansi color codes in apache logs, we can run a sed
script to convert the escaped escapes back to ansi escapes which make
the logs colorized again.

There are 8 \ because we need to end up with 2 in the final sed, and
we get interopolated twice. How much fun is escape interpolation? All
the fun.

Change-Id: Id8531cf03ba80f0df62f20add02e757bd63d4f2d"
yamt,2016-07-21 07:02:49,https://api.github.com/repos/openstack/devstack/git/commits/11817482c03b3994cde93320f138d5a7ccd821d3,11817482c03b3994cde93320f138d5a7ccd821d3,"lib/neutron: Use NEUTRON_PLUGIN instead of hardcoding ml2

Change-Id: Ia60381694f30978984cdf33e3141dc153d294e17"
sdague,2016-08-31 01:13:15,https://api.github.com/repos/openstack/devstack/git/commits/43ff27b7e8e9d209d8f1fc0483da717296be93bc,43ff27b7e8e9d209d8f1fc0483da717296be93bc,"Use wsgi-script installed nova-placement-api

We should use the standard install nova-placement-api script which is
managed by the python package instead of a one off copy procedure.

Depends-On: I00d032554de273d7493cfb467f81687c08fd5389

Change-Id: I74b39d6a0cedea7c18ce8080dcddb43d13df1de8"
oomichi,2016-08-31 01:13:52,https://api.github.com/repos/openstack/devstack/git/commits/d3fab7bfc16284a24a66f1724805c35535432fc0,d3fab7bfc16284a24a66f1724805c35535432fc0,"Revert ""Allow properly overriding DEST""

After I00847bb6733febf105855ae6fc577a7c904ec4b4, we cannot see the
test result (testr_result.html) on gate jobs.
So let's revert the patch for verifying the test result on the gate.

Change-Id: I9db1ff9f43b22d1634a43c7d5e502cc205aa26f2
Closes-Bug: #1617476"
ianw,2016-08-31 00:07:06,https://api.github.com/repos/openstack/devstack/git/commits/0385caa2ee503486cab1a81dbdda691aa259134c,0385caa2ee503486cab1a81dbdda691aa259134c,"Fix comment in plugin-registry header

Fix the comment to actually be a comment.  Regenerate page.

Although we've got a pretty cool system for generating this, I wonder
if anyone actually looks at it?  Maybe it's just helpful as a form of
SEO.

Change-Id: I15aaa983716f9ee897293c2954ca7ae561951372"
mriedem,2016-08-30 21:21:30,https://api.github.com/repos/openstack/devstack/git/commits/c9f6327844c794789ea3c3905cc8e04523262f71,c9f6327844c794789ea3c3905cc8e04523262f71,"Remove lib/ceph

All jobs using ceph as a storage backend have been moved over
to using the devstack-plugin-ceph repo in project-config so we
should be safe to remove the now unused lib/ceph file.

The files are left in place because the devstack plugin does not
install xfsprogs but it's used by the create_disk function.

And the ceph cinder backend file is left in place since the
devstack-plugin-ceph repo uses that by setting
CINDER_ENABLED_BACKENDS=${CINDER_ENABLED_BACKENDS:-ceph}.

Change-Id: I3fb09fc92bc6ab614e86d701ea46d5741a76b7a8"
eharney,2016-08-30 14:59:52,https://api.github.com/repos/openstack/devstack/git/commits/5237d16d69cf54487b72dd8d12862cb4339efcbc,5237d16d69cf54487b72dd8d12862cb4339efcbc,"LVM: Handle missing loop device at cleanup

When the loop device is not present because something
has gone wrong, this will print an error:
""losetup: option requires an argument -- 'd'""

Just skip the losetup -d in this case.

Change-Id: Iedc439b1ae924e9a599f6522eb081b83d43190c7"
cdent,2016-07-12 19:34:09,https://api.github.com/repos/openstack/devstack/git/commits/4d6017566a2fd550b418609c8452e6cf35dd29a7,4d6017566a2fd550b418609c8452e6cf35dd29a7,"Add support for placement API to devstack

Uses lib/placement, but relies on some functionality from
lib/nova. This leads to some weirdness since the nova has
special status in stack.sh. If/when placement is extracted
it may be good to follow the devstack plugin structure
instead.

Because the placement code is currently a part of nova, there
are dependencies in lib/placement on a some $NOVA_* variable
and, if virtenv is being used, the virtualenv used by nova.

Because placement currently runs using nova's configuration
settings, not a lot actually happens in lib/placement: apache
is configured and keystone accounts and endpoints are created.

If PLACEMENT_DB_ENABLED is true then a separate placement db
will be configured.

When complete the initial version of the placement service will
provide support for managing resource providers, inventories and
allocations.

The placement api only runs under mod-wsgi.

Change-Id: I53dd3e6b41de17387a0e179fc9ac64c143b6a9eb"
Annie-XIE,2016-08-08 07:23:36,https://api.github.com/repos/openstack/devstack/git/commits/26edd7b071f84e2fd2a9953086209e02b0c27ef3,26edd7b071f84e2fd2a9953086209e02b0c27ef3,"Install conntrack in XenServer Dom0

Neutron openvswitch agent running in compute node will control the
actual connection of the VMs in Dom0 via conntrack-tools, but Dom0
doesn't install conntrack-tools RPM by default.
This patch is to add such support with XenServer 7.0 and above.

Change-Id: Iec56db761015d4b7baa5a5f54314f4ff3fa67e02"
Jaanki,2016-07-18 02:49:25,https://api.github.com/repos/openstack/devstack/git/commits/8f586fbefe10893343c6cf9d906f1e6734e89e88,8f586fbefe10893343c6cf9d906f1e6734e89e88,"Start virtlogd service

Ensure the virtlogd service is started, to work-around various
platform issues where it isn't started correctly.

Closes-Bug: #1603009
Change-Id: I548b377df6b2f0c287429e4387ee33184a82a64d"
lbragstad,2016-08-27 01:01:37,https://api.github.com/repos/openstack/devstack/git/commits/69d4a71dfe86e8111101dcd1bcf5a4138a7956a4,69d4a71dfe86e8111101dcd1bcf5a4138a7956a4,"Allow setup of credential encryption using fernet

With the addition of encrypted credential in keystone, we need to be able to
add setup steps in devstack to configure the credential repository with
encryption keys.

Depends-On: I97e7701bc5b8765d207cc721793643bcefa2d4e2
Depends-On: Id3e8922adc154cfec5f7a36613e22eb0b49eeffe
Change-Id: I433da9a257daa21ec3b5996b2bca571211f1fbba"
kevinbenton,2016-07-22 16:40:19,https://api.github.com/repos/openstack/devstack/git/commits/1554adef26bd3bd184ddab668660428bdf392232,1554adef26bd3bd184ddab668660428bdf392232,"Revert ""Revert ""Use real Neutron network for L3 GW by default""""

This reverts commit 7da968a8be03229cfa72b215b87f17e28e23a988.

Change-Id: I9ed28ccf6af611b280ada3420d7d2a833178fcac"
zhur0ng,2016-08-25 15:35:21,https://api.github.com/repos/openstack/devstack/git/commits/1c5fc97136cfd9f89afc1d51239af343e0dda6a3,1c5fc97136cfd9f89afc1d51239af343e0dda6a3,"Add files/*.deb and files/*.deb.* to gitignore

Change-Id: Ieb8bc6a0852eabce987fef9441cca8770b711a38"
emonty,2016-08-24 00:07:57,https://api.github.com/repos/openstack/devstack/git/commits/c12d1d9ce06ad9f524430469b15a066edadcddde,c12d1d9ce06ad9f524430469b15a066edadcddde,"Accept IPv6 RAs on the interface with the default route

Because neutron sets ipv6 forwarding settings, we stop accepting RAs
from IPv6-only host environments. This leads to a loss of external
connectivity, which is bad for zuul running tests and stuff.

Setting accept_ra to 2 will cause the RAs to be accepted.

Change-Id: Ia044fff2a1731ab6c04f82aea47096b425e0c0a0"
gkotton,2016-08-14 13:55:42,https://api.github.com/repos/openstack/devstack/git/commits/88f8558d874072536e7660a233f24207a7089651,88f8558d874072536e7660a233f24207a7089651,"Enable neutron to work in a multi node setup

On the controller node where devstack is being run should create
the neutron network. The compute node should not.

The the case that we want to run a multi-node neutron setup we need
to configure the following (in the case that a plugin does not
have any agents running on the compute node):
ENABLED_SERVICES=n-cpu,neutron

In addition to this the code did not enable decomposed plugins to
configure their nova configurations if necessary.

This patch ensure that the multi-node support works.

Change-Id: I8e80edd453a1106ca666d6c531b2433be631bce4
Closes-bug: #1613069"
cdent,2016-08-22 17:00:50,https://api.github.com/repos/openstack/devstack/git/commits/85ad108adf84718d5d7747e892ba236a21fc2dac,85ad108adf84718d5d7747e892ba236a21fc2dac,"Fix typo in tools/info.sh comment

A trivial fix to a typo in tools/info.sh discovered while looking at
it to see what it was.

Change-Id: I9fb8906c375f99e43cdd0f41f7e4510c901fd3a1"
sdague,2016-08-18 20:19:36,https://api.github.com/repos/openstack/devstack/git/commits/7682ea88a6ab8693b215646f16748dbbc2476cc4,7682ea88a6ab8693b215646f16748dbbc2476cc4,"Change default for FORCE_CONFIG_DRIVE

We really should be using the metadata server more in our normal
testing, this changes the default to use it.

Change-Id: I8ef14e6110da1160163c0106e32032d27226f929"
brantlk,2016-08-18 18:50:18,https://api.github.com/repos/openstack/devstack/git/commits/0a318ab8a6ede38a330b5bff10479772ab4776f0,0a318ab8a6ede38a330b5bff10479772ab4776f0,"Switch keystone to dogpile.cache.memcached backend

memcache_pool is there to keep a limited number of thread-associated
connections open rather than a connection for every thread. If you
don't have a huge number of threads it doesn't offer anything.
Keystone is an example of a service where memcache_pool doesn't
improve things -- eventlet isn't supported anymore and more threads
is not useful due to GIL.

As such, keystone cache backend is changed to dogpile.cache.memcached.

See https://review.openstack.org/357407 for the oslo.cache help text
change.

Change-Id: I4452a8c4968073cdea4c0f384453a5a28519fa08"
leseb,2016-08-18 13:09:44,https://api.github.com/repos/openstack/devstack/git/commits/556139e710392c4f2586504b17490d8b63c4b21d,556139e710392c4f2586504b17490d8b63c4b21d,"fix ceph config file path variable

CEPH_CONF does not exist anymore, resulting both cinder-volume and
cinder-backup being configured with an empty rbd_ceph_conf option.
Using CEPH_CONF_FILE to fix this.

Change-Id: I1aa590aba900a4a94698917e45a0ea5c6f497f18
Signed-off-by: S√©bastien Han <seb@redhat.com>"
lvdongbing,2016-08-17 07:44:42,https://api.github.com/repos/openstack/devstack/git/commits/62f6eb68fdca2ecd30fbf0a1092b6b36dad368b0,62f6eb68fdca2ecd30fbf0a1092b6b36dad368b0,"Change quota_injected_file_path_bytes to quota_injected_file_path_length

'quota_injected_file_path_bytes' has been renamed to
'quota_injected_file_path_length' long time ago, this patch fixes this
issue in devstack.

Change-Id: I5d3c52c5ded5321435d2d395b682c4c0725279a7"
jimrollenhagen,2016-08-15 18:58:00,https://api.github.com/repos/openstack/devstack/git/commits/9301e8875b8c50e486a3751b3d894d4ccdc94f84,9301e8875b8c50e486a3751b3d894d4ccdc94f84,"Revert ""Setup cellsv2 for Nova""

This reverts commit b1a4f34bfc6adb9ab4577520601c44e8ccff277d, which
breaks Ironic's jobs. For example:
http://logs.openstack.org/90/355390/1/check/gate-tempest-dsvm-ironic-ipa-wholedisk-agent_ssh-tinyipa/b9e264a/logs/devstacklog.txt.gz#_2016-08-15_17_31_13_358

Change-Id: Iafc579f73fe4a97056944872e2f2c8cd1a62c21c"
pshchelo,2016-08-14 10:26:13,https://api.github.com/repos/openstack/devstack/git/commits/b08b673def8f5c80b7a91ba2127edbb13c39c26a,b08b673def8f5c80b7a91ba2127edbb13c39c26a,"Allow properly overriding DEST

Change the order of variable declarations in stackrc so that setting
custom DEST in local.conf is also affecting DATA_DIR, SERVICE_DIR and
SUBUNIT_OUTPUT.

Change-Id: I00847bb6733febf105855ae6fc577a7c904ec4b4
Closes-Bug: #1285720"
armando-migliaccio,2016-08-13 02:07:12,https://api.github.com/repos/openstack/devstack/git/commits/14b12a74f6a258b6e97dbf85b0ccfd74028b83b0,14b12a74f6a258b6e97dbf85b0ccfd74028b83b0,"Remove stale config l3|dhcp_agent_manager options

There is no longer a trace of these options anywhere in the
Neutron codebase. These can be safely removed.

Change-Id: Ibf00e158248e2a20248917c8cfc0011d30da6a82"
dtroyer,2016-08-12 14:35:42,https://api.github.com/repos/openstack/devstack/git/commits/06f3639a70dc5884107a4045bef5a9de1fb725a5,06f3639a70dc5884107a4045bef5a9de1fb725a5,"Add os-client-config and osc-lib from source

There is currently a hole in our testing that lets os-client-config,
which sits at the bottom of the dependency chain for some key pieces
like neutronclient and python-openstackclient, introduce gate breakages.
Step one in fixing this is allowing os-client-config to be optionally
installed from source so that jobs can be put into its gate to exercise
its master vs devstack installs.

Additionally, osc-lib is a new and lovely library that's going to need
the same things.

We're putting both in install_oslo, even though they're not oslo
libraries, because that'll make grenade work properly.

Co-Authored-By: Monty Taylor <mordred@inaugust.com>
Change-Id: I747480b6063a62e82ca2b030f274d3e87bf28b3b"
alaski,2016-05-27 19:23:54,https://api.github.com/repos/openstack/devstack/git/commits/b1a4f34bfc6adb9ab4577520601c44e8ccff277d,b1a4f34bfc6adb9ab4577520601c44e8ccff277d,"Setup cellsv2 for Nova

Run ""nova-manage cell_v2 simple_cell_setup --transport_url ..."" after
Nova is started. This will add all compute hosts into a new cell, and
setup a db for cell0.

Change-Id: I50a955b97d0e18426406c15397bdfbc9e807d908
Depends-On: I559f9c87e89926414b368cac9442dec4eadcb89b"
sdague,2016-08-12 11:21:59,https://api.github.com/repos/openstack/devstack/git/commits/bc883df1c23fab66f681f2c4fe9c0d3affadc671,bc883df1c23fab66f681f2c4fe9c0d3affadc671,"add networking write up for devstack

This explains the current state of networking in devstack, and a
couple of scenarios that people might want to try out for local
testing.

Change-Id: I2be35f4345bf9306c981ef6f0186b48da7d06772"
Andrey-mp,2016-08-10 09:46:50,https://api.github.com/repos/openstack/devstack/git/commits/3d5f03abe515009aea34599c0e5b0d541afcac0a,3d5f03abe515009aea34599c0e5b0d541afcac0a,"fix nova's fake virt driver plugin

nova's config was changed -
now virt driver parameter needs not full path for virt driver

Change-Id: I2a32b4dee3f27efc78bd1e546a96cfbc1225b8b5"
sdague,2016-08-11 13:05:16,https://api.github.com/repos/openstack/devstack/git/commits/bd6614a8e0040690aca5121cdf08a7ee17fe7984,bd6614a8e0040690aca5121cdf08a7ee17fe7984,"Add development page with devstack

It turns out we never really had a document on how to work with
devstack in the devstack docs. At one point this was just cultural
knowledge passed down, but with the size of our community, we can't
rely on that any more.

Change-Id: I28f896ea507ccbba5164ebfc5415d22207f52e98"
greghaynes,2016-07-29 03:45:37,https://api.github.com/repos/openstack/devstack/git/commits/14d86e841c964ba12a57a652ece4239ca9283c92,14d86e841c964ba12a57a652ece4239ca9283c92,"Set oslo_messaging_notifications driver

This config option is requied in order for nova notificaions to
function, and enabling it doesn't cause any harm (there is another
option for turning notifications on).

Change-Id: I309af6cc43af485f795c368d304ebe71fceb1a03"
kk7ds,2016-08-10 18:14:00,https://api.github.com/repos/openstack/devstack/git/commits/a2ec7fdb48d5df464fec3fae1f93ae3ea1071c54,a2ec7fdb48d5df464fec3fae1f93ae3ea1071c54,"Configure project_network_cidr for tempest

This value defaults to something not (necessarily) in our fixed range,
which will cause spurious test behavior. We know the value for this, so
just configure it properly.

Change-Id: I0ee3b71f509377dc7174ce97575e60ee2095f893"
Tehsmash,2016-08-10 14:58:27,https://api.github.com/repos/openstack/devstack/git/commits/5c39154c39cb23c78f3f130719614624681bd1f3,5c39154c39cb23c78f3f130719614624681bd1f3,"Ensure testing configuration can run as late as possible

Before the code in the extra.d plugins was removed from the devstack
tree they could define the order they ran. When this code is decomposed
into a plugin, there is still a need to do some form of ordering. This
caused problems with the Ironic devstack plugin and Tempest because the
code is run in this order:

 1. The tempest configuration is run from extra.d, processing
    DEFAULT_INSTANCE_TYPE, and writing the flavor_ref to tempest.conf

 2. The Ironic devstack plugin is run, creating the flavor needed for
    DEFAULT_INSTANCE_TYPE

This leads to build failures as tempest can not find the required
flavor, so it writes which ever flavor it can find at the time into
flavor_ref. Ironic now has code it its devstack plugin duplicated from
the tempest plugin to work around this problem until this is merged.

This patch fixes this by using the test-config phase to move the tempest
plugin as late as possible in the devstack process.

Change-Id: I3d98692e69d94756e0034c83a247e05d85177f02"
mriedem,2016-08-09 18:52:57,https://api.github.com/repos/openstack/devstack/git/commits/5068b291f427a55b40357cc0cb77875294963e39,5068b291f427a55b40357cc0cb77875294963e39,"tempest: toggle allow_port_security_disabled=True

This enables a new test in Tempest to run on a per-branch
basis since by default it's disabled because it won't pass
on liberty given the bug fix isn't in liberty and won't be
backported there.

Depends-On: I20b8d5d2a300c83a59bdb33374fc20447ce2ede3

Change-Id: I18fd5e0978795fec39a763e1e0f07d758905b9b8
Related-Bug: #1175464"
sdague,2016-08-09 17:29:11,https://api.github.com/repos/openstack/devstack/git/commits/7b229359671f23b73e8df9f6ef6dbbe443cc96ae,7b229359671f23b73e8df9f6ef6dbbe443cc96ae,"delete compute api extension config for tempest

Compute API extensions are deprecated, we should never be setting this
in Tempest in master.

Change-Id: I6ad25fab48277abf8a000a275d3fea73a595cdf6"
diltram,2016-08-02 21:35:22,https://api.github.com/repos/openstack/devstack/git/commits/0ffdfbdbd72ae447eb4b5e3d0f255c5498a07a36,0ffdfbdbd72ae447eb4b5e3d0f255c5498a07a36,"Run n-cpu using LXD_GROUP when LXD virt driver

Enabling nova-lxd require to run n-cpu using lxd group

Change-Id: I0553dafcc797fcc1342501a558c7455261cf3daf"
watanabeisao,2016-08-09 07:28:52,https://api.github.com/repos/openstack/devstack/git/commits/ea270d50d091bad57ee0b21b405c41bf2d798631,ea270d50d091bad57ee0b21b405c41bf2d798631,"Give PUBLIC_INTERFACE a default value

Also means to make it changeable.

Closes-Bug: #1611247
Change-Id: I0dc253b7ecf44a49d152f97f4858f7f2cf2ca6b2"
sdague,2016-08-08 20:19:05,https://api.github.com/repos/openstack/devstack/git/commits/894ccc90c0a0795c84ce69afd9a68863a9004f20,894ccc90c0a0795c84ce69afd9a68863a9004f20,"disable metering extension in tempest if q-metering not running

We don't run q-metering in default single host configuration, so we
should make it so that tempest won't attempt to test for it either.

Change-Id: I928be70e3b10fc3753fd1081631e54fa839b671d"
kevinbenton,2016-07-21 18:11:54,https://api.github.com/repos/openstack/devstack/git/commits/6a42a85b561c35157b14f63ab02536e18e5bb0d9,6a42a85b561c35157b14f63ab02536e18e5bb0d9,"Fixes for linux bridge and Q_USE_PROVIDER_NET

===Set bridge_mappings for linux bridge===
The external network physnet needs a bridge_mapping to the public
bridge when the L2 agent is responsible for wiring.

===Add PUBLIC_PHYSICAL_NETWORK to flat_networks===
This network must be present in the ML2 flat_networks config if
flat_networks is specified.

===Set ext_gw_interface to PUBLIC_BRIDGE in provider net case===
ext_gw_interface must be a bridge in a bridge_mapping when
Q_USE_PROVIDERNET_FOR_PUBLIC is used.

Closes-Bug: #1605423
Change-Id: I95d63f8dfd21499c599d425678bf5327b599efcc"
sdague,2016-08-05 12:29:54,https://api.github.com/repos/openstack/devstack/git/commits/cea7ec8d4bd9f93568eb2e9e05c306535f0ec292,cea7ec8d4bd9f93568eb2e9e05c306535f0ec292,"update front page of devstack docs

The devstack docs have gotten a bit meandering so even the quick start
guide doesn't get you to a working setup without referencing other
pages. This attempts to pull this back in a bit.

Change-Id: I608331cbdae9cbe4f3e8bd3814415af0390a54d0"
jumpojoy,2016-08-05 10:48:23,https://api.github.com/repos/openstack/devstack/git/commits/04d51e4943fff897b7f81799d267e75897fbe672,04d51e4943fff897b7f81799d267e75897fbe672,"Fix doc formating issue

Change-Id: I9aa8c1fd114e4f4329e06ac263f337ea566d8355"
bkopilov,2016-06-06 13:00:48,https://api.github.com/repos/openstack/devstack/git/commits/3ac1ea85b16cfd5c0d88d3575fc5453cc5dea7c2,3ac1ea85b16cfd5c0d88d3575fc5453cc5dea7c2,"Add a multibackend list to tempest.conf

A change was made to tempest.conf for volume multibackend. Previously,
tempest used the following, with a limit of 2 backends:
 backend1_name = BACKEND1
 backend2_name = BACKEND2
That was changed to accomodate >2 backends. tempest.conf now uses a comma
separated list:
 backend_names=BACKEND1,BACKEND2,BACKEND3

devstack/lib/cinder uses a comma separated list with ""type:backend_name"":
 enabled_backends = lvm:BACKEND1,ceph:BACKEND2
This is in order to use scripts in devstack/lib/cinder_backends to setup
devstack basked on ""type"".

This patch allows parsing of the CINDER_ENABLED_BACKENDS to pass the proper
backend_name to tempest.

Change-Id: I76973c3fad4998a0f9e534fc9f6a271c1923f7b3"
sdague,2016-08-04 18:10:07,https://api.github.com/repos/openstack/devstack/git/commits/78801c10f023eba12910e92c16a49e2ba7bb1e2f,78801c10f023eba12910e92c16a49e2ba7bb1e2f,"enable dns resolution from guests in neutron

When running a default devstack environment, having guests that
actually can resolve DNS, so that they can do package updates from
well known hosts. This addresses a gap between nova-net and neutron
behavior in devstack.

Change-Id: I42fdc2716affd933e9158f1ef7ecb20bc664ef21"
sdague,2016-08-03 19:09:01,https://api.github.com/repos/openstack/devstack/git/commits/6a008fa74bce0497b7902dd95300599a3026e2dd,6a008fa74bce0497b7902dd95300599a3026e2dd,"Change to neutron by default.

nova-net is deprecated, and it's long time to switch to neutron by
default. This patch does that, and has an auto configuration mode that
mostly just works for the basic case.

It does this by assuming that unless the user specifies an interface
for it to manage, that it will not automatically have access to a
physical interface. The floating range is put on br-ex (per normal),
fixed ranges stay on their OVS interfaces.

Because there is no dedicated interface managed by neutron, we add an
iptables rule which allows guests to route out. While somewhat
synthetic, it does provide a working out of the box developer
experience, and is not hugely more synthetic then all the other
interface / route setup we have to do for the system.

You should be able to run this with a local.conf of just

[[local|localrc]]
ADMIN_PASSWORD=pass
DATABASE_PASSWORD=pass
RABBIT_PASSWORD=pass
SERVICE_PASSWORD=pass

And get a working neutron on a single interface box

Documentation will come in subsequent patches, however getting the
code out there and getting feedback is going to help shape this
direction.

Change-Id: I185325a684372e8a2ff25eae974a9a2a2d6277e0"
ianw,2016-08-04 05:17:38,https://api.github.com/repos/openstack/devstack/git/commits/9162608d6e1d13a64dd387486faa221c694ba913,9162608d6e1d13a64dd387486faa221c694ba913,"Revert ""stackrc set the LC_ALL to C""

This reverts commit f327b1e1196eacf25e7c4c9e3a7ad30c53bb961c.

The problem being addressed in the original commit was that
rejoin-stack.sh would run with the user's locale, instead of C that
was set in stack.sh

We overlooked that this gets pulled in by openrc, so it is overriding
the user's locale when using clients, etc.

rejoin-stack.sh was removed in
I2f61bb69cc110468a91dcaa4ee7653ede7048467 so we don't have to worry
about that part.  A revert to not touch the user's locale seems
appropriate.

Change-Id: I7c858bb92ce7ba5b5d323bf3ad6776100026c7a2
Closes-Bug: #1608687"
sdague,2016-08-03 12:09:54,https://api.github.com/repos/openstack/devstack/git/commits/b8286a3a06c48c10b9efc50c4f0487eba8cdf706,b8286a3a06c48c10b9efc50c4f0487eba8cdf706,"remove neutron 3rd party infrastructure

This was used solely by bigswitch, and everyone else has moved over to
devstack plugins. Cleaning this out makes the core logic much simpler.

Depends-On: I8fd2ec6e651f858d0ce109fc335189796c3264b8
(grenade removal)

Change-Id: I47769fc7faae22d263ffd923165abd48f0791a2c"
diltram,2016-08-03 15:21:41,https://api.github.com/repos/openstack/devstack/git/commits/0a099763b022ce476f921c8a4bc2ea20ce5f67b4,0a099763b022ce476f921c8a4bc2ea20ce5f67b4,"Change python version to 3.5

On Ubuntu Xenial there is no way to install python3.4
Use value specified in PYTHON3_VERSION

Change-Id: Ibc69b1c8270bdd240c82cf2acfdfd0730ef0f182"
rcritten,2016-08-02 17:19:14,https://api.github.com/repos/openstack/devstack/git/commits/5631ca5e126ec2d4c6802d09e312fcb8c1ab4952,5631ca5e126ec2d4c6802d09e312fcb8c1ab4952,"Clean up Horizon Apache configuration files in clean.sh

The horizon cleanup function wasn't being called at all during
cleanup which left the Apache configuration.

Change-Id: Iff5336d0c5e79cfc82f1c648afaabb869d86020e"
sc68cal,2016-08-01 18:41:10,https://api.github.com/repos/openstack/devstack/git/commits/75a6454097071523a8617fcbea0f650d42c03341,75a6454097071523a8617fcbea0f650d42c03341,"neutron: Wait until ovs-vswitchd creates the bridge

Seeing a race condition where lib/neutron code tries to
set the MTU on br-ex before it exists.

Thanks to some good grepping by sdague, it appears that the difference
between lib/neutron and lib/neutron-legacy is that the initial bridge
being created is br-int while in lib/neutron the initial bridge
created is br-ex, which means there must be some kind of warm-up that
occurs between the first bridge that is created by ovs-vswitchd and the
second, and the second one created is much faster.

So instead, let's just wait for the bridge to be created successfully.

Change-Id: I271dc8b6ae5487c80d2a22153b3fc45fb247707f"
sdague,2016-08-01 14:29:03,https://api.github.com/repos/openstack/devstack/git/commits/e56318f9bc87b0ed0e1ce6fcd1216aebe3689fe8,e56318f9bc87b0ed0e1ce6fcd1216aebe3689fe8,"Remove manual setting of privsep helper

The privsep helper should have a sane default for all libraries,
pushing this into devstack means we cheat past a part of the upgrade
that we really shouldn't be.

Change-Id: I52259e2023e277e8fd62be5df4fd7f799e9b36d7"
BobBall,2016-08-01 11:52:44,https://api.github.com/repos/openstack/devstack/git/commits/c694e55ad9707426c05a2139edee037104b009f4,c694e55ad9707426c05a2139edee037104b009f4,"XenAPI: Don't assume specific network interfaces

The default for GUEST_INTERFACE_DEFAULT now uses the ip command
to find an interface; so it will work on multiple distributions.

XenAPI should not be setting a specific interface here, as it will
almost always be wrong.  In most cases, the calculated value for
GUEST_INTERFACE_DEFAULT will be a better default.

PUBLIC_INTERFACE_DEFAULT makes even less sense as it's often an
internal bridge for devstack scenarios.

In both cases, the right way to override these is to set
GUEST_INTERFACE / PUBLIC_INTERFACE in the localrc rather than
changing the _DEFAULT values.

Change-Id: I0cf84438d778bf1a2481328165513c59167490e2"
WenyanZhang,2016-07-07 10:57:32,https://api.github.com/repos/openstack/devstack/git/commits/8f0e97c1460f015f4eb03a8221b4b02b61559d9d,8f0e97c1460f015f4eb03a8221b4b02b61559d9d,"Remove all *.pyc files in $DEST when executing clean.sh

Currentlly, the *.pyc files could not be removed in any scripts or
functions. But the redundant files would lead stack.sh not to find the
correct script for some versions after branch switched from master to
stable/mitaka in migration_helpers.sync_database_to_version.

So this commit adds the process of cleaning all the *.pyc files in
clean.sh.

It is needed to execute clean.sh before re-stack.sh to prevent the
exception.

Change-Id: I9ba0674d6b20b13c0a26b22cd5d1939daa121a94
Closes-Bug: #1599124"
sc68cal,2016-07-25 15:32:42,https://api.github.com/repos/openstack/devstack/git/commits/ba1a64d8eb7ce8611cf518df882845908c72bb0b,ba1a64d8eb7ce8611cf518df882845908c72bb0b,"lib/neutron: Add port_security ml2 extension driver

Tempest currently conducts tests for this extension driver by
default.

Change-Id: I5f9881d0713965b66358dc9cade8d623da98d75d"
strigazi,2016-07-24 20:13:57,https://api.github.com/repos/openstack/devstack/git/commits/88ccd47c88dc39b8d746afae89dea31d46558a68,88ccd47c88dc39b8d746afae89dea31d46558a68,"Keep old behavior of setuptools for editable installs

In the 25.0.0 release [1] of setuptools during any install
operation the package in not overwritten. If a package is
installed from another requirement via pip and then it is
installed again from git, it is not updated causing
check_libs_from_git to fail.

[1] https://setuptools.readthedocs.io/en/latest/history.html#v25-0-0

Change-Id: Ibaa1d4157816ea649f4452756fbde25951347001
Closes-Bug: #1605998"
zhangyanxian,2016-07-25 08:44:28,https://api.github.com/repos/openstack/devstack/git/commits/c6f857f49ca1459f0874e8dcc83be539829e6ee3,c6f857f49ca1459f0874e8dcc83be539829e6ee3,"Fix the typo in the file

Change-Id: I3a3976bdab6743f6d741d39708b01eacf6a01074"
yamt,2016-07-20 10:44:05,https://api.github.com/repos/openstack/devstack/git/commits/c07170abd7a382bda028c6ae14bfde5d912ab78f,c07170abd7a382bda028c6ae14bfde5d912ab78f,"lib/neutron: Create initial networks regardless of neutron-l3

Closes-Bug: #1604768
Change-Id: I699977930675512e9767a90f317fc0faa1ea9901"
kevinbenton,2016-07-22 06:02:22,https://api.github.com/repos/openstack/devstack/git/commits/7da968a8be03229cfa72b215b87f17e28e23a988,7da968a8be03229cfa72b215b87f17e28e23a988,"Revert ""Use real Neutron network for L3 GW by default""

This reverts commit 130a11f8aaf08ea529b6ce60dd9052451cb7bb5c.
Linux bridge devstack logic needs some changes first.

Change-Id: I5885062ad128518c22f743db016e1a6db64f3313
Closes-Bug: #1605423"
kgiusti,2016-07-07 13:28:58,https://api.github.com/repos/openstack/devstack/git/commits/df6c1ffbe110495d94f607a4344e0703be54c6ce,df6c1ffbe110495d94f607a4344e0703be54c6ce,"Force reinstall of virtualenv to ensure installation is valid

On RHEL-based systems pip and yum share the same installation
directory for virtualenv.  If yum pulls in the python-virtualenv
package (e.g. due to a dependency) it will clobber what pip has
already installed. The file tools/fixup_stuff.sh tries to ensure that
the proper virtualenv package is installed via pip. If virtualenv has
already been installed via pip, then clobbered by yum, pip skips the
install since it appears as if virtualenv is already installed and at
the correct version.

The reinstall of virtualenv must use the --force-reinstall argument to
pip to fix up the damage done by yum.

Change-Id: Ib0edf6c4ee8a510e9d671213de35d787f56acfed
Closes-Bug: #1599863"
rcritten,2016-07-20 22:12:09,https://api.github.com/repos/openstack/devstack/git/commits/a1e1f5128a22a7d0cdc8136063d27d64c270021d,a1e1f5128a22a7d0cdc8136063d27d64c270021d,"Add keystone VirtualHost for port 443 when USE_SSL is True

Add a VirtualHost that defines the necessary options for
enabling SSL. The existing keystone Apache configuration already
does all the location handling.

Change-Id: I836a471a7258f14f051d3dd8bdb428286b5a11aa"
kevinbenton,2016-07-18 04:19:30,https://api.github.com/repos/openstack/devstack/git/commits/130a11f8aaf08ea529b6ce60dd9052451cb7bb5c,130a11f8aaf08ea529b6ce60dd9052451cb7bb5c,"Use real Neutron network for L3 GW by default

Relying on 'external_network_bridge=br-ex' for the L3
agent has been deprecated in Neutron. This patch adjusts
the devstack defaults to setup Neutron in the preferred
manner (empty external_network_bridge value and
correct bridge_mappings for the L2 agent).

This will also help with correct MTU calculations now that
the external network will have the correct segmentation
type on it ('flat' now instead of 'vxlan' by default).

Related-Bug: #1511578
Related-Bug: #1603493
Change-Id: Id20e67aba5dfd2044b82c700f41c6e648b529430"
obutenko,2016-06-21 14:29:54,https://api.github.com/repos/openstack/devstack/git/commits/881373c049eceefc4fd7f6c69543d42528830a0e,881373c049eceefc4fd7f6c69543d42528830a0e,"Add flag for snapshot_backup

We have new feature in cinder and new test for it.
The test is skipped by default.
Need to add flag to unskip this test on master and
Mitaka.

new test: I1964ce6e1298041f8238d76fa4b7029d2d23bbfb

Change-Id: Ib695e60c2ed7edf30c8baef9e00f0307b1156551"
kevin-zhaoshuai,2016-07-19 15:52:12,https://api.github.com/repos/openstack/devstack/git/commits/5d7992a0189d940c0ffbb01e93bf3a0e4eba4ec7,5d7992a0189d940c0ffbb01e93bf3a0e4eba4ec7,"Modify the default cpu-mode for aarh64 in Libvirt

For AArch64, KVM don't recognize the cpu-mode ""none"",
so change the default cpu-mode as host-passthrough for
generating nova.conf

Change-Id: I94a22e5a15a974b9c11e9f9fd996857453b6e2ca
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>"
hshiina,2016-07-15 16:02:49,https://api.github.com/repos/openstack/devstack/git/commits/e2b75363699124cfd2c19de69286cfafa98aa9a0,e2b75363699124cfd2c19de69286cfafa98aa9a0,"Remove remaining fwaas code

Change-Id: I24fe7a559760b985bd53373523276a8f075e5974"
venkatamahesh,2016-07-19 12:04:20,https://api.github.com/repos/openstack/devstack/git/commits/d55513a07c610da479a6e59ff50605f48caeabef,d55513a07c610da479a6e59ff50605f48caeabef,"Corrected the local.conf configuration file link

Change-Id: Id28a9f85ae5ba789f09269163c6e5b2c8c36a7c8
Closes-Bug: #1603848"
booxter,2016-07-15 18:17:13,https://api.github.com/repos/openstack/devstack/git/commits/7b5c7dce53ab9e9778d1d72fcbbed565bfce65bd,7b5c7dce53ab9e9778d1d72fcbbed565bfce65bd,"Introduce PUBLIC_BRIDGE_MTU variable to set br-ex MTU

This variable can be used to accommodate for underlying infrastructure
that does not provide full 1500-sized traffic, or maybe instead gives
access to Jumbo frames.

Change-Id: I38a80bac18673a30842a7b997d0669fed5aff976
Related-Bug: #1603268"
afazekas,2016-07-14 10:55:51,https://api.github.com/repos/openstack/devstack/git/commits/5813265ce597dd5eb1105fad5922339a38ea9092,5813265ce597dd5eb1105fad5922339a38ea9092,"remove OS_AUTH_TYPE  from the userrc files

The openstack client just gets more confused when it is specified.

Change-Id: I8b498be835b63733cb38d33b02c3a8531a2da45b"
mattmceuen,2016-07-11 13:37:59,https://api.github.com/repos/openstack/devstack/git/commits/e24707bb594eece8a3172c6763ac8fc3a1a8681f,e24707bb594eece8a3172c6763ac8fc3a1a8681f,"lib/neutron-legacy: replace ip when re-stacking

Replicated Yi Zhao's fix for re-adding ipv6 addresses to neutron-legacy
(review I9ff62023dbc29a88aec3c48af331c0a49a1270bb).
Previously, re-stacking failed with ""File exists"" for ipv6 addresses
on br-ex.  With this change, the existing address is replaced on
br-ex with the appropriate address.

Change-Id: I6e6235132a34469f4e68b5bb3cf51ebdf01c83a2"
kashyapc,2016-07-13 10:34:03,https://api.github.com/repos/openstack/devstack/git/commits/eecb983529a9164a0dabf19ea4c3186a708fa0c3,eecb983529a9164a0dabf19ea4c3186a708fa0c3,"Remove support for End Of Life (EOL) Fedora 22

Fedora 22 reaches its EOL on 19-JUL-2016[1].  Remove it as
officially supported distribution.

The current two supported Fedora distributions are Fedora 23 and Fedora
24.  (Change Ia4a58de4973ef228735c48b33453a0562dc65258 already added
support for Fedora 24.)

[1] https://fedoramagazine.org/fedora-22-end-of-life-2016-july/

Change-Id: I5b4e1ddb6165a9065e80e84175246678a7356f18"
mriedem,2016-07-12 23:12:30,https://api.github.com/repos/openstack/devstack/git/commits/6267ec01d6b4c503bca21ca6cbf95b443eff3408,6267ec01d6b4c503bca21ca6cbf95b443eff3408,"Remove juno/kilo specific tempest config

This removes several config flags for Tempest
now that juno and kilo are end of life. Tempest
has already removed these flags too.

Change-Id: I748429e73073f4202f77dfe1002687f76ee9a451"
sc68cal,2016-06-20 17:23:11,https://api.github.com/repos/openstack/devstack/git/commits/a9286886e413fbf055284dc167a7640a5a79b83c,a9286886e413fbf055284dc167a7640a5a79b83c,"Neutron: include metering service plugin in conf

The common code for metering calls _neutron_service_plugin_class_add,
which despite the description only just appends a service plugin to
$Q_SERVICE_PLUGIN_CLASSES - it doesn't actually write it into a
configuration file.

So for now, read out the configuration, and append metering to it, then
write it back out.

Change-Id: Ice96cca8b43dcd54f2aa81461000a4597db8260d"
mnestratov,2016-07-11 19:33:39,https://api.github.com/repos/openstack/devstack/git/commits/d565d62efe9a4476367be58551f6412e8e85688a,d565d62efe9a4476367be58551f6412e8e85688a,"ploop: specify hypervisor_type=vz property for ploop images

This is necessary to make it possible to filter out compute nodes,
which don't support such type of images.

Change-Id: I347953876e2057e6f3dca71c2f5e8b638b85aaf8"
xurong00037997,2016-07-05 03:09:40,https://api.github.com/repos/openstack/devstack/git/commits/7ef31d0fe4d3b93dd08edcd511a32ae66c51fdba,7ef31d0fe4d3b93dd08edcd511a32ae66c51fdba,"neutron_plugin_configure_dhcp_agent invalid config file

ADD dhcp config file name for neutron_plugin_configure_dhcp_agent

Change-Id: I6578bcb40c4df2231c0b54f231ac3b78ede5a71d
Closes-Bug: #1598745"
mriedem,2016-07-07 18:43:39,https://api.github.com/repos/openstack/devstack/git/commits/16edbe4356056daba18a7b912b4514fa11115e18,16edbe4356056daba18a7b912b4514fa11115e18,"Remove check for nova-volumes API

The osapi_volume API in Nova has been gone forever,
so we don't need to check for that anymore.

Change-Id: I7303d3f434fc27a4a1a127e455a7d3b88f588537"
dlux,2016-07-06 19:13:18,https://api.github.com/repos/openstack/devstack/git/commits/67700ca5209c8d5605cfd94d6ac264f5247a2b8d,67700ca5209c8d5605cfd94d6ac264f5247a2b8d,"Remove large_ops_number from devstack tempest

Option was deleted from Tempest config file. Also test scenario
was deleted. See commit I93b2fb33e97381f7c1e0cb1ef09ebc5c42c16ecc

Change-Id: I750e50ba7cf8fca1dde391c2620b4a815d6b02a1
Closes-Bug: #1599619"
mriedem,2016-07-03 23:40:25,https://api.github.com/repos/openstack/devstack/git/commits/6d3670a65280d71529f8aad8ca5a0422abffebd0,6d3670a65280d71529f8aad8ca5a0422abffebd0,"Add a way to enable file injection for nova/tempest

File injection is disabled by default for the libvirt
driver in nova. This adds a variable to enable file
injection for the libvirt driver and is also used
to configure tempest.conf for running personality
tests.

Change-Id: I34790fadeffd6e3fdc65bd9feed3d6e62316896c
Related-Bug: #1598581"
mriedem,2016-07-03 23:20:27,https://api.github.com/repos/openstack/devstack/git/commits/9079a40e9ebf6c20d754b8221a55b183de1a0766,9079a40e9ebf6c20d754b8221a55b183de1a0766,"nova: remove explicit file injection being disabled

Change 9ce99a44cf85e431227536e2251ef05b52e61524 disabled file
injection with the libvirt driver by default back in Icehouse,
so devstack doesn't need to do this explicitly anymore.

Change-Id: Id0c521f6f624367bd497463c8c2d99488548fcff"
sdague,2016-06-07 15:20:55,https://api.github.com/repos/openstack/devstack/git/commits/bb35715cfe68ad8d1d2ccb2b2e7eb4143e87d678,bb35715cfe68ad8d1d2ccb2b2e7eb4143e87d678,"add local.conf modifying functions

This adds a set of local.conf modifying functions which make it easier
for consuming projects like devstack-gate to programatically add
elements to local.conf structured files.

Change-Id: I3427968c2bd43aba12b3619acc27f73c74f0dabb
Co-Authored-By: fumihiko kakuma <kakuma@valinux.co.jp>"
kevin-zhaoshuai,2016-06-24 08:30:12,https://api.github.com/repos/openstack/devstack/git/commits/a9cc38a1986a7c5f78f2d1e331fcc6ac8bd1023c,a9cc38a1986a7c5f78f2d1e331fcc6ac8bd1023c,"Modify the image property for aarch64

In Aarch64, the default cdrom bus is scsi, and the default scsi
controller is virtio-scsi. The cdrom with virtio bus will not be
recognized by the instance.

Change-Id: Ib8cec79f9e9083239092fa7348793ee3b64a9c94
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>"
sc68cal,2016-06-20 17:53:44,https://api.github.com/repos/openstack/devstack/git/commits/d00cbb77b166e222fdb5adf2aa5ff7dff6294ca4,d00cbb77b166e222fdb5adf2aa5ff7dff6294ca4,"Neutron: check if q-l3 or neutron-l3 is enabled

Change-Id: I7aff59fdf0fd75e134d2ae3ba8b7d63db98cc5ed"
sc68cal,2016-06-17 20:15:30,https://api.github.com/repos/openstack/devstack/git/commits/60f394aee25cfd22c6c5e13622697c27acbb402d,60f394aee25cfd22c6c5e13622697c27acbb402d,"Fix amateur level mistake.

Happy Friday!

Change-Id: I2b1112ce74577d6e3d50c5ea2131d46c77307571"
rcritten,2016-05-06 16:35:22,https://api.github.com/repos/openstack/devstack/git/commits/21e3d1e55b3140e8b14105df05c1e5253a3d04ec,21e3d1e55b3140e8b14105df05c1e5253a3d04ec,"Make wait_for_service more robust by checking HTTP response

wait_for_service just checked to see if the remote service
was started, not that it was returning data. This caused
problems when the service was behind a proxy because the
proxy would respond quickly but the service may not have
fully started.

Wait for a non-503 HTTP response code and non-7 exit code
(connection error) from curl

Return an error if a successful connection cannot be made.

Change-Id: I059a12b1b920f703f28aca0e2f352714118dee97"
rtheis,2016-06-08 15:28:37,https://api.github.com/repos/openstack/devstack/git/commits/8906b481e0d34ae1bf64a623ce5e734f50c5f2ec,8906b481e0d34ae1bf64a623ce5e734f50c5f2ec,"Support ""geneve"" ML2 plugin type driver

Add support for the ""geneve"" ML2 plugin type driver. The
networking-ovn ML2 mechanism driver uses geneve for its
project network type. Geneve is part of core neutron but
didn't have any DevStack configuration for it. This patch
set adds the necessary options. It also removes the default
for ML2 type drivers to rely on the neutron default and
consolidates the tunnel ranges default for gre, vxlan and
geneve by using TENANT_TUNNEL_RANGES.

Change-Id: Id75651dfe57a07045a6932a0369668f33c7eef09
Partial-Bug: #1588966"
stephenfin,2016-06-15 13:31:51,https://api.github.com/repos/openstack/devstack/git/commits/24e29f2265e6fd496addf00adfcc13ba8533b912,24e29f2265e6fd496addf00adfcc13ba8533b912,"lib/neutron-plugins: Pass conf file parameter

The 'neutron_plugin_configure_l3_agent' function expects a path to a
configuration file as a parameter. This was not done for one call,
resulting in the generation of a 'DEFAULT' file in the DevStack
directory along with an invalid L3 configuration file. Resolve this.

Change-Id: I5781cb1ec4cfc1699e61dbc324d0bdb824b56be1"
scheuran,2016-04-14 12:23:53,https://api.github.com/repos/openstack/devstack/git/commits/28128e2f7a509510fe4139bd1905ccf51bd0ceb8,28128e2f7a509510fe4139bd1905ccf51bd0ceb8,"Docs for devstack MacVTap agent setup

MacVTap mechanism driver and agent have been added during
Mitaka [1][2]. Now adding the related doc to run a
multinode devstack with MacVTap compute nodes.

[1] https://review.openstack.org/209538
[2] https://review.openstack.org/275306

Depends-On: I0dd4c0d34d5f1c35b397e5e392ce107fb984b0ba
Change-Id: Ie743a207a5faeab2e2a7274fda503699f3072e98"
watanabeisao,2016-06-08 05:18:10,https://api.github.com/repos/openstack/devstack/git/commits/1c4c16ce539b73f3e198cc4f2cc74de1bb9deb13,1c4c16ce539b73f3e198cc4f2cc74de1bb9deb13,"Don't configure router in flat network

Due to the fix [1] of neutron-refactor, some flat network usages of devstack
installation start fale.

This fix enables ML2_L3_PLUGIN to be set to empty to solve the problem.

By default l3_router_plugin.L3RouterPlugin will be set to ML2_L3_PLUGIN,
and for neutron, in such of configuration, router (ASA some others) will be
set into supported_extension_aliases,
then devstack will create a router that we do not want in a flat network.

Before fix [1], we can disable q-l3 to aviod the issue.
But now we don't, and we need this fix to disable the whole L3 plugin.

[1] https://review.openstack.org/318145

Change-Id: I61a2142d5121e0af4cc6cdf50e6bceafaf791fb0"
BobBall,2016-06-13 08:09:44,https://api.github.com/repos/openstack/devstack/git/commits/1d23b93568e113169da54cff31ff8a2908648c02,1d23b93568e113169da54cff31ff8a2908648c02,"Fix brick cinderclient override

CINDERCLIENT_REPO cannot refer to both python-cinderclient.git
and python-brick-cinderclient-ext.git so make sure
the overrides have different names.

Bug introduced by: I6d0f09950ea1200d3367a53aa4a3eea9be7abc66

Change-Id: I9cbbf71ba08ef5394537d7b294846faa3c5be5bd"
ameade,2016-05-13 14:57:29,https://api.github.com/repos/openstack/devstack/git/commits/0c0c09af3b14b74b035b50956e545832b26cb6af,0c0c09af3b14b74b035b50956e545832b26cb6af,"Set volume service min and max microversions

Implements Blueprint: configure-tempest-volume-microversion
Related to: I3d9b3fe288333721bf3b2c6c988949f2f253bfcc

Change-Id: I80c6a0c46c667291c6f7fe2a036717504c110314"
afrittoli,2016-06-08 23:33:30,https://api.github.com/repos/openstack/devstack/git/commits/5cda4911adde3e8d6b20d90e52520d0587cf4399,5cda4911adde3e8d6b20d90e52520d0587cf4399,"Enable admin_domain_scope by default in Tempest

Tempest introduced a new ability to use domain scoped tokens for
identity v3 admin APIs. Since domain scoped tokens can be used
with the base keystone policy used in the gate, and the
pre-provisioned admin user is assigned a role on the domain, turn
the option alway on.

Change-Id: Ib1bb958eee076364b407fc03e77e6882d92147d2
Depends-on: I91ca907992428a5a14fb8d48a4fad105d2906e27"
berrange,2016-06-08 15:53:06,https://api.github.com/repos/openstack/devstack/git/commits/c425977a55dde6b99b07c716dc3cf82990bd4fa2,c425977a55dde6b99b07c716dc3cf82990bd4fa2,"nova.conf: set privsep helper command for os-vif plugins

privsep will default to invoking privsep-helper directly
via sudo, which won't work for people with a locked down
sudo config. To deal with this we should explicitly
configure the os-vif plugins to use nova-rootwrap for
running privsep-helper. This change makes such a change
for the two official in-tree os-vif plugins.

Change-Id: I3d26251206a57599385f2b9f3e0ef7d91daafe35"
brantlk,2016-06-07 22:44:06,https://api.github.com/repos/openstack/devstack/git/commits/75ace7a5edbb6496633b97dc1d6b60e000ff3e5f,75ace7a5edbb6496633b97dc1d6b60e000ff3e5f,"Correct keystone memcached host setting

keystone was configured to connect to memcached on the host IP
address. Unfortunately, memcached is only listening on localhost,
so this setting actually hurts performance as keystone fails to
connect to the memcached server. There's no indication of this in
the keystone logs since this is just how memcache client works
(ignoring errors).

You can verify this by
1) in /etc/memcached.conf, set -vv
2) restart memcached: service memcached restart
3) watch /var/log/memcached.log
4) There will be no output

with this change, there will be output in /var/log/memcached.log

Also the performance should be a lot better.

Change-Id: I95d798d122e2a95e27eb1d2c4e786c3cd844440b"
sc68cal,2016-06-07 16:36:50,https://api.github.com/repos/openstack/devstack/git/commits/e34ec9901ea04b4fab81742f9556e486849dfb4e,e34ec9901ea04b4fab81742f9556e486849dfb4e,"Neutron/l3 - die if provider settings for v6 are not set

If you are using provider networking, and have IP_VERSION set to include
IPv6 (which we do by default) - you must set the required variables.

If you do not want this behavior, set IP_VERSION=4

This arose from a third party CI system which was configured[1] to have
provider networking, but would explode when hitting the router IPv6
setup step[2] since there was no IPv6 subnet created, and IPV6_SUBNET_ID
would be empty, causing a python-neutronclient error and causing
stack.sh to exit.

[1]: http://paste.openstack.org/show/508710/
[2]: https://github.com/openstack-dev/devstack/blob/c35110e7c5c35dd1edc310dc3d0bb8693e58d336/lib/neutron_plugins/services/l3#L320

Change-Id: I267799b62284c3086ed7c3e2d8a9cbadb9ddcd60"
sdague,2016-06-07 14:55:54,https://api.github.com/repos/openstack/devstack/git/commits/026cad84a34ff914707538470ec3ae6e2015e54b,026cad84a34ff914707538470ec3ae6e2015e54b,"remove local.conf documentation for phases we don't implement

The local.conf docs talk about phases which don't exist for config
file processing, which makes it more confusing then it needs to be.

Change-Id: If7f9255eab0535c3d57a2fd5f1bc18ba4d0801aa"
tsufiev,2016-04-29 11:08:51,https://api.github.com/repos/openstack/devstack/git/commits/a44dd9a741a08d9f586ae8fe1d2543bcf32f6593,a44dd9a741a08d9f586ae8fe1d2543bcf32f6593,"Support Glance CORS options in devstack configuration

To properly test the integration between Glance CORS feature and
Horizon Javascript environment uploading image files directly to Glance
(using this feature), we need to enable CORS support for Glance in
integration tests. Adding corresponding Devstack variable to configure
Glance in such a way that it accepts direct requests from Horizon
Javascript is the prerequisite step for the integration testing of this
feature.

By default Horizon and Glance are located on the same host, hence
default value cors.allowed_origin = http://$SERVICE_HOST should work.
If a more complicated setup is desired, where Horizon is located on a
different host, GLANCE_CORS_ALLOWED_ORIGIN environment variable should
be exported to Devstack.

Partially implements blueprint: horizon-glance-large-image-upload
Change-Id: I4881fb6631c2daa2ad8946210eff4bb021957374"
Annie-XIE,2016-06-07 03:17:48,https://api.github.com/repos/openstack/devstack/git/commits/36afed43534e5f50e0598ff69c7ea8249c24b5c2,36afed43534e5f50e0598ff69c7ea8249c24b5c2,"Set ima_disk_format to vhd when hypervisor is XenServer

When running tempest testcase test_minimum_basic_scenario will always fail
due to lack of configuration [scenario] img_disk_format=vhd in tempest.conf
This patchset is to add this configuration when XenServer is used.

Change-Id: I4b916200e6eefb62f148ec8b644fb23ffc7e00a6
Closes-Bug: #1589787"
mjturek,2016-01-19 19:28:51,https://api.github.com/repos/openstack/devstack/git/commits/f90c8e105ba71fb8ac019b61d2a0bb94d9164169,f90c8e105ba71fb8ac019b61d2a0bb94d9164169,"Set deploywait_timeout via localrc option

Currently a hardcoded value is used for the DEPLOYWAIT timeout in
tempest. The patch in review 269249 adds a config option to use
instead of this hardcoded value. This patch allows the value to be
set via the BUILD_TIMEOUT variable.

Change-Id: Id79014fd6e07f93029111f6c28e3537e2e39be9f
Related-Bug: 1526466"
sc68cal,2016-05-24 18:27:36,https://api.github.com/repos/openstack/devstack/git/commits/8063fee829d1e22bb7958599d8b0359846cde462,8063fee829d1e22bb7958599d8b0359846cde462,"Add neutron-metering agent and configuration

This is the equivalent of the q-metering from neutron-legacy

Change-Id: Ie2ad6e18cfd6f5cd9af0da30bc36a1cd27e39189"
sc68cal,2015-08-18 21:24:44,https://api.github.com/repos/openstack/devstack/git/commits/84409516d56417464dfe0c4e6904a1a76f9fa254,84409516d56417464dfe0c4e6904a1a76f9fa254,"Remove fwaas from DevStack

Depends-On: Iadcee07e873fcb4f099ebccc2e33780e74438140
Change-Id: Ic60cd1fa90c19dfac00be583e2ddc5633dbb68a3"
Annie-XIE,2016-06-02 08:24:22,https://api.github.com/repos/openstack/devstack/git/commits/f179eb7c4798d5058ebbfd1c7b851070f86fd5ac,f179eb7c4798d5058ebbfd1c7b851070f86fd5ac,"Support installing OpenStack on XenServer 7.0

XenServer 7.0 has changed some iso files' name, this made devstack script
install_os_domU.sh failed to install VM before installing OpenStack. This
patch is to fix the problem, make install_os_domU.sh support 7.0 and other
prior versions of XenServer

Change-Id: I49459bfff2b101fc6927eb4578c5eb47cc8c3ad6"
anguslees,2016-05-31 04:43:14,https://api.github.com/repos/openstack/devstack/git/commits/a1c70f2a7519bd7482b2834f380f2a9f5f61fb5a,a1c70f2a7519bd7482b2834f380f2a9f5f61fb5a,"neutron-legacy: Consistently use `--config-file foo`

This change adjusts a few instances of `--config-file=foo` to
`--config-file foo` (no `=`) in order to make neutron command
lines more consistent and easier to match in sudoers/rootwrap
filters.

This is particularly useful for oslo.privsep, which needs to start a
helper command with the same `--config-file` arguments (see
Ia9675dff9232e0e987a836ecaf9e842eb5c3cb18).

Change-Id: I91fe18f66f3c3bc2ccd1ca8be91be2915ed3e3ec"
brantlk,2016-06-03 20:59:11,https://api.github.com/repos/openstack/devstack/git/commits/b97a60e90c46c101b6c2c9a5dbf42140bd8bb8d1,b97a60e90c46c101b6c2c9a5dbf42140bd8bb8d1,"Keystone uwsgi performance tuning

I ran some tests locally that showed that when using the uwsgi
deploy the keystone server wasn't using all the processes
available. When I switched from ""threads"" to ""processes"" the
concurrent performance improved considerably. So I'm proposing
that devstack switch to processes to improve performance.

Change-Id: I8cfe9272e098e636441b7cfb51bff08d62c3336e"
flaper87,2016-05-11 17:49:07,https://api.github.com/repos/openstack/devstack/git/commits/22c695f08a82d527668ef906e11089e6b0046a50,22c695f08a82d527668ef906e11089e6b0046a50,"Have a way to disable Glance v1 in devstack

As part of the process of deprecating Glance's V1, the glance team would
like to start testing V2-only environments. Therefore, this change
provides a way to force other services to use V2.

Change-Id: I87e77d07964eac01e9a796817cbc88bd6e59c721"
sdague,2016-06-02 14:29:59,https://api.github.com/repos/openstack/devstack/git/commits/214459cdf776a77dacd70a9205c5b8a6ceaff31a,214459cdf776a77dacd70a9205c5b8a6ceaff31a,"remove addition of gate64 cpu

Nova has been fixed to not need this work around. We shouldn't keep it
in devstack.

Change-Id: Ie2b1c6b8ddce4a2fd94af06745d59455208f0633"
sileht,2016-05-18 10:10:08,https://api.github.com/repos/openstack/devstack/git/commits/6176ae6895c3c62e9406ebca0055fed9a58f35d1,6176ae6895c3c62e9406ebca0055fed9a58f35d1,"Use transport_url instead of driver-specif options

Future oslo.messaging is going to deprecate usage of driver-specific
options for hosts/port/user/password options.

This change uses transport_url that exists since a while now and
works with all drivers (even devstack handles only the rabbit one).

Change-Id: I3006b96ff93a3468249177c31c359c2f9ddc5db6"
mtreinish,2016-06-01 22:16:14,https://api.github.com/repos/openstack/devstack/git/commits/7e603d1bf8689a50ffa3dd93c901a71ea5f5ae36,7e603d1bf8689a50ffa3dd93c901a71ea5f5ae36,"Move tempest plugin install to the end

For the tempest plugin install inside the tox venv to hold we need to
ensure that it's the last thing run that touches the tox venv before
devstack ends. Otherwise there is a chance we'll recreate the venv in
a later step of installing and configuring tempest. This commit
moves the plugin installation into it's own function and calls that
function as last phase of the tempest setup to make sure it runs last.

Change-Id: Ie253171537e8c5a9887cc30aba1cad4b31e57663"
kashyapc,2016-06-01 10:21:00,https://api.github.com/repos/openstack/devstack/git/commits/07dc2bf7760fa1c5b28d2dd71fb4eebd7a8921f2,07dc2bf7760fa1c5b28d2dd71fb4eebd7a8921f2,"functions-libvirt: Add log filter to capture CPU driver errors

Two things:

  (a) Add the log filter to capture libvirt CPU manipulation driver
      related error messages when things fallout (e.g. CPU model
      comparision failures during live migration).

  (b) While we're at it, remove the ""1:qemu_monitor"" log filter, because
      the existing filter ""1:qemu"" should take care of logging the
      interactions with QEMU monitor console.  This is the case since
      the introduction of VIR_LOG_INIT() macro in upstream libvirt,
      which performs a substring match on a given file name.  (Available
      from libvirt version v1.2.10 onwards).

Change-Id: I75befd52d9f892eb5a6236eee9a397fab7602ecc"
afazekas,2016-06-01 14:43:07,https://api.github.com/repos/openstack/devstack/git/commits/72b233c1e042dd55cc7e7785f2e1ecd6ae4fc1aa,72b233c1e042dd55cc7e7785f2e1ecd6ae4fc1aa,"Allow to use Fedora 24 with devstack

Looks like f24 does not have any special change compared to the
previous release, we just need to add f24 where f23 present.

Change-Id: Ia4a58de4973ef228735c48b33453a0562dc65258"
gkotton,2016-05-29 07:01:01,https://api.github.com/repos/openstack/devstack/git/commits/c47bd1df65d6c327a34d1a9cd771940595bf8c87,c47bd1df65d6c327a34d1a9cd771940595bf8c87,"Remove verbose setting from l3 service plugin

This is following the nail:
http://lists.openstack.org/pipermail/openstack-dev/2016-May/095166.html

Change-Id: I4380279992e53ec9926bbcba5524e98f5c96ce8b"
rcritten,2016-05-26 21:55:14,https://api.github.com/repos/openstack/devstack/git/commits/38245da0b8ab1a08ae192ef2c0d5755a8f88841a,38245da0b8ab1a08ae192ef2c0d5755a8f88841a,"Fix typo in local variable name in time_stop

This didn't break functionality but it would use a global instead
of a local variable so nested calls to time_* might have issues.

Change-Id: If61ef07c4ce15f1a356975a0b0611fdf5e49109a"
e0ne,2016-05-26 20:41:49,https://api.github.com/repos/openstack/devstack/git/commits/8d0d3115ccf528ff5ae1533a670fc3bd475d0bcc,8d0d3115ccf528ff5ae1533a670fc3bd475d0bcc,"Allow override of python-brick-cinderclient-ext library used by cinder

Added to requirements:
https://review.openstack.org/309084

Functional tests were added
https://review.openstack.org/265811

But they still use the version of python-brick-cinderclient-ext from pip.

This change updates devstack to pull in the changes from
python-brick-cinderclient-ext patch sets instead, when configured to do so.

Change-Id: I6d0f09950ea1200d3367a53aa4a3eea9be7abc66
Needed-by: I34f3b5ceaad7a50b1e9cadcc764f61c0aabe086d"
sc68cal,2016-05-19 15:36:57,https://api.github.com/repos/openstack/devstack/git/commits/5e01c47e4d671166b9396c507a7105a5ac8256dc,5e01c47e4d671166b9396c507a7105a5ac8256dc,"Neutron: stop creating neutron debug probes

They seem to be more trouble than they are worth.

http://lists.openstack.org/pipermail/openstack-dev/2016-May/095476.html

Neutron has already deprecated the utility in
https://review.openstack.org/#/c/318786/

Change-Id: I470ed5bc1cbe754c4bfae41f411150331bc4335d"
sc68cal,2016-05-12 15:17:53,https://api.github.com/repos/openstack/devstack/git/commits/fbba3b9d8b4094b20f55fcf6860d8e5e303a39bc,fbba3b9d8b4094b20f55fcf6860d8e5e303a39bc,"Neutron: Remove verbose and always set debug to true

http://lists.openstack.org/pipermail/openstack-dev/2016-May/095166.html

Change-Id: I7c51518c10d96eb84a6ddd2514011bfd42623d5d"
kashyapc,2016-05-20 11:34:41,https://api.github.com/repos/openstack/devstack/git/commits/247e44625cdd3b4bf251dabfeca0ca241d9109a8,247e44625cdd3b4bf251dabfeca0ca241d9109a8,"functions-common: Use `systemctl` when applicable

We live in a new systemd world, use the native commands to talk to it
if available.

Change-Id: Iccdc35f0c9da2997f9e672bc1d24ca15d3403d98"
mtreinish,2016-05-20 21:30:17,https://api.github.com/repos/openstack/devstack/git/commits/b65586739098d9c13ff93b3588a25343f82dc7fa,b65586739098d9c13ff93b3588a25343f82dc7fa,"Add printing the plugin list after the plugin install

This commit just adds a sanity check output to lib/tempest. It will
use tempest list-plugins to print a table of installed plugins after
the pip install phase is run for any provided plugins. This will
enable users to check that the plugins they think they're running are
detected by tempest.

Change-Id: Icff286da6c68ec9a57f2288458976341bc095875"
sc68cal,2016-05-18 14:38:51,https://api.github.com/repos/openstack/devstack/git/commits/c35110e7c5c35dd1edc310dc3d0bb8693e58d336,c35110e7c5c35dd1edc310dc3d0bb8693e58d336,"Neutron: check if a plugin has the l3 API extension

If a plugin has the L3 API extension available, issue the L3 API
extension calls that creates routers and networks

Change-Id: I77e269ce0025054bcf2a2f4156124f2921ba2d59"
brantlk,2016-05-03 20:21:47,https://api.github.com/repos/openstack/devstack/git/commits/e86b91ba784994285de78ae06a490fc6cac50502,e86b91ba784994285de78ae06a490fc6cac50502,"Reference keystone URIs rather than building URI

lib/keystone sets KEYSTONE_AUTH_URI and KEYSTONE_SERVICE_URI that
other projects should use rather than building the URL themselves.
This will allow us to more easily drop the port altogether.

Change-Id: I7467aae680215f3045d32a088af2187e1eba8169"
sc68cal,2016-05-12 20:14:26,https://api.github.com/repos/openstack/devstack/git/commits/6d4843ed96fed4ed7ca6a18394fd2a64439d3707,6d4843ed96fed4ed7ca6a18394fd2a64439d3707,"Neutron: only do ARP_CMD if IP_BRD is not an empty string

Some third party CI systems leave PUBLIC_INTERFACE as the default,
but do not actually create the device. ip would set errno to 1 when
this happens[1], and that's fine - however arping would exit with errno
set to 2, which triggers the exit_trap and stops stacking.[2]

[1]: http://openstack.fit-tecnologia.org.br:10000/36/295836/6/check/hitachi-hnas-ssc/3362683/logs/devstacklog.txt.gz#_2016-05-12_17_24_40_458

[2]: http://openstack.fit-tecnologia.org.br:10000/36/295836/6/check/hitachi-hnas-ssc/3362683/logs/devstacklog.txt.gz#_2016-05-12_17_24_40_545

Change-Id: Iaf08b475eeec5e179a11a42d35fe532b2a15aa41"
mriedem,2016-05-18 17:38:38,https://api.github.com/repos/openstack/devstack/git/commits/9278eb78dfc47e3b48e2b72faf90efc6bb44e18f,9278eb78dfc47e3b48e2b72faf90efc6bb44e18f,"Move setting lvm libvirt configs to hypervisor-libvirt

When the nova backend is LVM we set some libvirt configs
in nova.conf. Those should happen in the libvirt plugin
file rather than the generic nova file since it's specific
to running nova-compute with libvirt.

Change-Id: I37a63a5fba2e9eea4daafe4ec390b2e7aac236f3"
mriedem,2016-05-18 14:05:14,https://api.github.com/repos/openstack/devstack/git/commits/153db269705f37d4144ad3fcf26dc67269755d7d,153db269705f37d4144ad3fcf26dc67269755d7d,"Revert ""Switch fernet to be the default token provider""

This reverts commit 181588b9ba50fefea12617a9a5e774daddfed20c.

Since this change landed on 4/29 it's been the cause of the
top two gate failures (besides known latent infra issues) and
hasn't had good progress on landing a fix, so until it's a
priority for the keystone team we need to revert this change
to get the integrated gate jobs moving again.

Change-Id: I588a84c5179eab072d21bc1394aea2df00929650
Related-Bug: #1577558
Related-Bug: #1578866"
sc68cal,2016-05-11 18:24:46,https://api.github.com/repos/openstack/devstack/git/commits/17398a3de3fc993b47f8a8fe8af669dbbfa21625,17398a3de3fc993b47f8a8fe8af669dbbfa21625,"Make ARP_CMD local

Change-Id: Iaa540f7685197a17f1db4c3351373a6d77a80105"
sc68cal,2016-05-12 16:04:03,https://api.github.com/repos/openstack/devstack/git/commits/e7d2b563918c9fdb06bd1635cb391d1888336839,e7d2b563918c9fdb06bd1635cb391d1888336839,"Always pass $NEUTRON_CONF

When running a compute node that only runs n-cpu and neutron-agent,
there are still configuration items that are needed by the agent that
reside in $NEUTRON_CONF - such as the rabbit rpc information.

Change-Id: Ib7f5dde3afb0c19dc88f351c99bc669217952a14"
ianw,2016-05-18 00:42:56,https://api.github.com/repos/openstack/devstack/git/commits/bda194adb97ba2bc9b45e91b35ff393378095ea6,bda194adb97ba2bc9b45e91b35ff393378095ea6,"Skip EPEL & RDO install for CI nodes

If the nodepool info file is around, assume we're on a OpenStack CI
node and skip re-installing EPEL & RDO

Change-Id: Ife80af015b26514098e0633f568e3da35b9eea8c"
armando-migliaccio,2016-05-17 22:12:24,https://api.github.com/repos/openstack/devstack/git/commits/53f59d802f9cc76bf898509344463d8ff3a32143,53f59d802f9cc76bf898509344463d8ff3a32143,"Use Neutron extension information to configure Tempest's public network

Neutron L3 may implement a variety of extensions: router, external-net,
dvr, ext-gw-mode, extraroute, l3-ha, etc. The public network uuid is
only going to be made available if and only if the external-net extension
is available, because that's the one that provides Floating IP support.

Rather than making Tempest aware of q-l3 service (when q-* services
are supposed to be legacy), it is better to tune this configuration
based on the extension availability. This decouples Tempest from
Neutron setup internals.

Change-Id: I4889fc3d21bd221785b507995f1b3da0e8f52b46
Related-bug: 1582119"
regallabhargava,2016-05-17 08:34:26,https://api.github.com/repos/openstack/devstack/git/commits/69d3b79e03e0ba4c9679bcb5279b226b9606e1ff,69d3b79e03e0ba4c9679bcb5279b226b9606e1ff,"Wrong container name in devstack ""All-In-One Single LXC Container"" manual.

Wrong container name in devstack ""All-In-One Single LXC Container"" manual.

Link: http://docs.openstack.org/developer/devstack/guides/lxc.html

After creating ""devstack"" container with below command
sudo lxc-create -n devstack -t ubuntu -f devstack-lxc.conf -- --packages=bsdmainutils,git

The name should be 'devstack' instead of 'p2' in the below command
ssh ubuntu@$(sudo lxc-info -n p2 | awk '/IP/ { print $2 }')).

Change-Id: I7a84b97b03b2dd4338f1d946b7eafb8ec6e3767d
Closes-bug: #1582248"
mkoderer,2016-05-13 07:08:16,https://api.github.com/repos/openstack/devstack/git/commits/46f8cb7f208d00f89863cf57f2400309cf8f6bd4,46f8cb7f208d00f89863cf57f2400309cf8f6bd4,"Add option to download all libs from git

For client debugging that invokes multiple libs it can be useful
to have all libs directly in git and not listing all of them
in LIBS_FROM_GIT.

TrivialFix

Change-Id: Ie631cc4045231ebbe8177d2d113e47e4bf83f61c"
jumpojoy,2016-05-13 09:51:30,https://api.github.com/repos/openstack/devstack/git/commits/d894221457efa3a2a0bf3db76a4c5e8ffba36e29,d894221457efa3a2a0bf3db76a4c5e8ffba36e29,"Replace Q_L3_ENABLED by is_service_enabled q-l3

This patch replaces Q_L3_ENABLED with is_service_enabled q-l3.
Both of them idicates wherever Neutron L3 agent is enabled or not.

Change-Id: I33f0f5a6174d1d170bc2ac1c2e3a096d88d17cc1"
mtreinish,2016-05-12 23:26:20,https://api.github.com/repos/openstack/devstack/git/commits/abde96acd275c71f1ea99fdb1be48db46bc65d93,abde96acd275c71f1ea99fdb1be48db46bc65d93,"Add a deprecation warning for lib/neutron-legacy

This commit adds a deprecation warning for lib/neutron-legacy. Right
now lib/neutron isn't quite in a place where we can use it by default
but we're getting close. As soon as it's passing in the gate we plan
to make a switch over and a hard delete of lib/neutron-legacy. To give
any users which have a hard dependency on it (which is not actually
a supported use case) a heads up this adds the deprecation warning
in front of that change.

Change-Id: Idf1faf2e9dd497f9b97abfcc6e796ca72d60d955"
sc68cal,2016-05-11 19:07:19,https://api.github.com/repos/openstack/devstack/git/commits/1cd2828da4829649d6af98b4d1eef2d5d5286005,1cd2828da4829649d6af98b4d1eef2d5d5286005,"Neutron refactor: Clarify use of neutron-metadata-agent

The commit message of 2a242519f71e86416e78541826cac2b54fcd04a5 indicated
that neutron-metadata-agent was the correct name for the metadata
proxy, but parts of the code were not consistent.

Change-Id: I52f08266a169aeb9005c0f84296fc814d05b90d4"
watanabeisao,2016-05-12 11:35:20,https://api.github.com/repos/openstack/devstack/git/commits/4f4d95a12c5b9de0ea09864c67dcad6a19fb0145,4f4d95a12c5b9de0ea09864c67dcad6a19fb0145,"Add lost function of is_provider_network

This is a follow up patch of [1].
In [1], source has been moved from lib/neutron-legacy to lib/neutron_plugins/services/l3.
However, one necessary function of is_provider_network is lost.
And this cause devstack install fail.

[1]https://review.openstack.org/168438/

Change-Id: I413b3577ec5b11ee0ee01f2368364117962494bb"
sc68cal,2016-05-11 19:03:38,https://api.github.com/repos/openstack/devstack/git/commits/5394cc101d06bbd3795a1a7ee0e86298418e6dc2,5394cc101d06bbd3795a1a7ee0e86298418e6dc2,"Neutron refactor: Fix missing call to init RPC backend

Change-Id: I2c7f116230f53d3a2460192bc7b513b2e230c736"
sc68cal,2016-05-11 19:35:10,https://api.github.com/repos/openstack/devstack/git/commits/a2ed055810bc3ef22b91faffb7f6308908527be3,a2ed055810bc3ef22b91faffb7f6308908527be3,"Fix _configure_neutron_l3_agent

I goofed when moving it over, and it looks like the calls
to _move_neutron_addresses_route got clobbered.

Changes like a0d1b0151a9d9e169e6342f36a073e8154119924 ended up getting
dropped on the floor, so let's reintroduce them.

Change-Id: I3bbfbc56e2c663c47a03659a1dff96443c13af47"
sc68cal,2016-04-28 18:33:38,https://api.github.com/repos/openstack/devstack/git/commits/53b63cc97f84ac3d63f20e7f3ba524cf95c684be,53b63cc97f84ac3d63f20e7f3ba524cf95c684be,"Use arping when moving an IP address

This helps fix an issue where an IPv4 address is moved from an interface
and you lose your SSH session.

Change-Id: Idf37ccbaa6f615fcc714d49c3f0c00c893f56021"
sc68cal,2016-05-03 13:03:09,https://api.github.com/repos/openstack/devstack/git/commits/2a242519f71e86416e78541826cac2b54fcd04a5,2a242519f71e86416e78541826cac2b54fcd04a5,"Begin new lib/neutron

Background for this work can be read on the mailing list:

http://lists.openstack.org/pipermail/openstack-dev/2016-May/094063.html

Usage of the new Neutron is by setting the following in
ENABLED_SERVICES:

* neutron-api
* neutron-l3
* neutron-agent
* neutron-dhcp
* neutron-metadata-agent

For now, the new neutron library supports just the ML2 plugin, with the
Open vSwitch and Linux Bridge agents supported. All other Neutron
plugins should be creating their own DevStack plugin if they wish for
DevStack to support them. Many of them already do.

Other notable changes compared to neutron-legacy:

* Rely on the Neutron defaults, and force Neutron to make
  sane defaults instead of all kinds of knobs in DevStack.

* Default to rootwrap daemon support

* Use the security group driver by default

* interface_driver can now use NEUTRON_AGENT (linuxbridge, openvswitch), since
  they are entrypoints in neutron's setup.cfg

* Use NEUTRON_AGENT variable to determine which agent to run
  Works with NEUTRON_AGENT set to either ""linuxbridge"" or ""openvswitch""
  Default is openvswitch for the time being.

* Set ML2 configuration for VXLAN support

* Remove Xen hypervisor stuff - it should be a plugin

* Move L3 crud into separate service file:

  There's a lot of L3 configuration that was in the main neutron file, but
  a lot of it is self contained and can be moved into its own file.

  The new l3 service file will contain all the previous L3 plumbing and
  configuration that the OpenStack Gate expects, while also eventually
  moving the whole l3 network creation step into a single hook that can be
  overridden by plugins.

* Introduce a check for a function ""neutron_plugin_create_initial_networks"" which
  will become the mechanism through which different topologies, and
  networking plugins can create and wire the initial networks that are
  created during a stack.sh run.

The new lib/neutron is considered experimental, and followup patches
will build upon this one. Existing users of lib/neutron-legacy should
remain unharmed.

Co-Authored-By: Hirofumi Ichihara <ichihara.hirofumi@lab.ntt.co.jp>
Co-Authored-By: Dean Troyer <dtroyer@gmail.com>
Change-Id: I31b6362c6d9992f425f2dedbbeff2568390a93da"
dtantsur,2016-05-09 09:36:04,https://api.github.com/repos/openstack/devstack/git/commits/3b79e5f9f76fb1b86731e1053c3749a84f43ebd7,3b79e5f9f76fb1b86731e1053c3749a84f43ebd7,"Revert ""Update auth params in Nova Hypervisor-Ironic""

This seems to break Ironic gate with n-cpu not starting
any more.

This reverts commit c527ded91bef5d4c56cbdb2402a4d68015364b37.

Change-Id: Idfb01448e8ecf53fbd2e1df61c8f08f3107981ac
Closes-Bug: #1579683"
ianw,2016-05-09 03:19:09,https://api.github.com/repos/openstack/devstack/git/commits/db01ca6d163f01ad9622da9ab0a60203fee51acc,db01ca6d163f01ad9622da9ab0a60203fee51acc,"Fix return code detection in plugin list generation

As can be seen in logs of the periodic generation job, our cgit does a
weird thing where sometimes it returns a 404 page with content, and
sometimes a zero response (see [1] for example, the last number is
response size).  This appears to be an openstack CI issue; possibly
due to cgit caching or similar (see [2] for manual test).  It will
have to be investigated with the host apache logs.

This is resulting in a lot of projects incorrectly being picked up as
having plugins (I7116571d2a2b1fc3a61e5f1ed46ac2cbc244775a).  I'm not
sure if this problem is also releated to the original status-code
issues mentioned in the code, but testing shows that cgit is correctly
returning 404's for missing files (you can see in the logs [1]).  Thus
switch the logic to examine the return code which avoids this issue.

[1] http://logs.openstack.org/periodic/propose-devstack-plugins-list/e55790c/console.html.gz#_2016-05-04_06_46_51_660
[2] http://paste.openstack.org/show/496434/

Change-Id: I6a06347d91d091441f6f7b70f99aba6d8e9add4b"
yanheven,2016-04-29 07:59:56,https://api.github.com/repos/openstack/devstack/git/commits/6ba17f7d014aa50643a8920ee092424051d78c08,6ba17f7d014aa50643a8920ee092424051d78c08,"Fix ovs-vsctl executed in worlddump.py failed issue

add sudo before ovs-vsctl command.

Change-Id: I1a7dd9504da766beb452bd749e325931678de64e
Closes-Bug: #1576560"
hongbin,2016-04-17 15:11:58,https://api.github.com/repos/openstack/devstack/git/commits/3feceb0e4a2e9527be0d5e51ff317851417654d4,3feceb0e4a2e9527be0d5e51ff317851417654d4,"Support decompressing bz2 image

CoreOS cloud image is compressed with bz2 extension [1]. In such
case, we need to decompress the image before uploading it to glance.

[1] https://coreos.com/os/docs/latest/booting-on-openstack.html

Change-Id: I705d0813d180aefaa2507c00d1ae40af07d12fcf"
JohnVillalovos,2016-05-05 19:50:52,https://api.github.com/repos/openstack/devstack/git/commits/daa7a41e219f435006f412e4ff45d93cf4c4827d,daa7a41e219f435006f412e4ff45d93cf4c4827d,"Export the 'short_source' function & don't keep PS4 in sudo

Export the 'short_source' function so that it will be present in the
environment for child shell scripts. Do this because we are passing PS4
to the child shell scripts and it is using 'short_source'

Don't do an 'env_keep' in the sudoers file for PS4, since it is
difficult to also pass along the 'short_source' function.

Change-Id: I9781010d6eb336d02939c7fd47f18bedeae5ccc6
Closes-Bug: #1563443"
ttripp,2016-05-05 16:19:53,https://api.github.com/repos/openstack/devstack/git/commits/b523f3108f3fccd5b728e4dfe6e3c044b11b7c18,b523f3108f3fccd5b728e4dfe6e3c044b11b7c18,"Update ElasticSearch version default to 1.7.5

Devstack installs elasticsearch version 1.4.2 by default.
This version is really out of date and you can't run kibana
4.x against it.  We are working towards 2.x support [0],
but in the meantime would like our example to install a more
recent version of ES.

[0] http://lists.openstack.org/pipermail/openstack-dev/2016-April/092583.html

Change-Id: I9ca244f8b817dd9c5f6d7435e347df28282db0a9"
mtreinish,2016-05-02 17:29:10,https://api.github.com/repos/openstack/devstack/git/commits/655c22c77f21b360ba00b8c41b42fd0d0feec974,655c22c77f21b360ba00b8c41b42fd0d0feec974,"Add an explicit test-config phase to devstack plugins

This commit adds a new phase to the devstack plugin interface for
configuring test environments. It runs after everything in devstack
(except for the final output commands) to ensure that tempest or
any other dependency is installed prior to running it.

Change-Id: I52128756f18d3857963a0687de77f7cdfd11fb3e"
muellerbe,2016-05-04 20:30:08,https://api.github.com/repos/openstack/devstack/git/commits/b1518427c63e1c8da87f87b8be4a0d517c574283,b1518427c63e1c8da87f87b8be4a0d517c574283,"removed dead link to stack.sh.html

the referenced file was removed with the following change
Ie7f4b265368f1d10a8908d75e11d625b2cc39e7c

Change-Id: I0e25b1f38e0969037d1c8af367432da56bb12e92"
mtreinish,2016-05-04 15:55:12,https://api.github.com/repos/openstack/devstack/git/commits/440464ccbbaf33e4687bd9fece5e1de64542f263,440464ccbbaf33e4687bd9fece5e1de64542f263,"Use common tempest tox venv and add plugin install variable

This commit adds a new variable to lib/tempest to provide the plugins
that should be installed into common tox venv that gets created. In
order to make this work the workarounds to handle migrating to a common
tox venv have to be removed otherwise the plugins could be installed in
a venv that isn't used.

Change-Id: I63658b8d8dfa999e0feb79f8f2968f2b32e3ff57
Depends-On: Iab2e6e04b6c5795a4d0c8214564106525b942308"
mtreinish,2016-05-02 20:33:29,https://api.github.com/repos/openstack/devstack/git/commits/b31640af5ef46e00e9cb0d2cffb22a043998eb31,b31640af5ef46e00e9cb0d2cffb22a043998eb31,"Handle common and seperate tempest tox venvs

In order to support the effort to unify the tox venvs being created
by tempest this commit temporarily cases the path of the venv being
created. Once tempest is updated to only use .tox/tempest we can
remove the if blocks and just use it unconditionally.

Change-Id: I34a69020eee07156e64026781a3c0bffdb5ab415"
pratikgadiya12,2016-05-04 11:33:21,https://api.github.com/repos/openstack/devstack/git/commits/5069b8d8942ddd591d80586acd71bc6ee6de1262,5069b8d8942ddd591d80586acd71bc6ee6de1262,"Added fix to install zookeeper for fedora

Partially Implements: #1513855

Change-Id: Ic302461f38d76183b75cc8de0a25fa84a8a8ff69"
rabi,2016-05-04 10:39:47,https://api.github.com/repos/openstack/devstack/git/commits/d1c9198bbe0e90717a9e70c662b806841bc82564,d1c9198bbe0e90717a9e70c662b806841bc82564,"Change the domain name in keystone.conf

As we are creating a domain with id 'default' and name
'Default', we should iniset the correct name.

Change-Id: If67338fbbd255b8aa1b91e18e4cf8213baebab95"
brantlk,2015-06-21 15:08:22,https://api.github.com/repos/openstack/devstack/git/commits/841fdafa0bc542b595b267428c5d929bf0726205,841fdafa0bc542b595b267428c5d929bf0726205,"Use path-mounted keystone when running in httpd

When running in httpd, keystone accepts requests on /identity and
/identity_v2_admin.

The path endpoints should be preferred over the ports so keystone
is configured to point applications to the path endpoints by
setting admin_endpoint and public_endpoint.

Change-Id: I34569b9e03c3f36748c92d803349e22a7ee1a633"
oomichi,2016-05-01 14:22:34,https://api.github.com/repos/openstack/devstack/git/commits/269704c119940fbbc18e275396770e1e591350f0,269704c119940fbbc18e275396770e1e591350f0,"Remove NOVA_V2_LEGACY option

There are two implementation code for similar API in Nova repository.
One is newer: v2.1 API, another is legacy: v2 API. v2.1 API has been
used as the default API since Liberty and legacy v2 API has been marked
as deprecated. We have used and tested v2.1 API so well and now is
nice time to remove legacy API code based on the consensus of the
design summit of Austin.
This patch removes NOVA_V2_LEGACY which set up legacy API code.

NOTE: The gate job which uses this NOVA_V2_LEGACY option has been
      removed already since Iac81b7d569b76b99e9d86eaa5001ae7f9b78cdfe.

Partially implements blueprint remove-legacy-v2-api-code

Change-Id: I0e16b7ce608d7eeb3a35fd77e66531dfc8c142ef"
psachin,2016-04-30 08:31:38,https://api.github.com/repos/openstack/devstack/git/commits/aac43e1e71dd27fa7955f0385a67a91916676fee,aac43e1e71dd27fa7955f0385a67a91916676fee,"Suppressed echoing of the line.

I think the objective of the line is to display message, but it was
also echoing entire line before printing the message.

Change-Id: I758759638003deec3205983863f4b7e23ba94e89
Signed-off-by: Sachin Patil <psachin@redhat.com>"
booxter,2016-04-28 19:39:26,https://api.github.com/repos/openstack/devstack/git/commits/1a791cbc449a3cfdbc3d3b94c6cda3ddefa17af4,1a791cbc449a3cfdbc3d3b94c6cda3ddefa17af4,"Remove vpnaas code from devstack

This service is now configured by devstack plugin in master.

Change-Id: Ie5fc0d2a45c1b564f98c69ec9ea6fbdeeb465d32"
vryzhenkin,2016-04-27 12:15:52,https://api.github.com/repos/openstack/devstack/git/commits/878d7d8f13592bf254cb5f647bd3db87c191d2d3,878d7d8f13592bf254cb5f647bd3db87c191d2d3,"Adjust region name for images, networks and volumes during deployment

In a multiregion installation of devstack, conflicts occur in the
creation of images, networks, or volume types, when the region is not
set.

This patch adjusts commands to include the region, and
also adjusts the region_name in the nova configuration section of
neutron.conf to include the region.

Change-Id: Ifedff6a124fa49d57cc7b2f35916d8d96f5e5f7a"
jckasper,2016-04-25 03:56:04,https://api.github.com/repos/openstack/devstack/git/commits/7b3ae5332813c79b734c99fbba3ab876224aa73c,7b3ae5332813c79b734c99fbba3ab876224aa73c,"Update is_service_enabled

The nova check in is_service_enabled() is loading the nova repo
when ENABLED_SERVICES=ovn-northd.  Add a comma before each of the
checks to prevent this error with any of the other services.

Change-Id: I9deee735812cde44ea5140b1ad76848f02576609
Closes-Bug: #1574431"
mitrimm,2016-04-27 16:40:19,https://api.github.com/repos/openstack/devstack/git/commits/1da4e790eb26d1333d57c7673ba491ca9b6dbde8,1da4e790eb26d1333d57c7673ba491ca9b6dbde8,"Added RHEL rebuild ScientificLinux to supported distributions

Change-Id: I8b3844bf28b11254e7cc9a96126bd66efbd1212e"
lebauce,2016-04-26 18:39:18,https://api.github.com/repos/openstack/devstack/git/commits/7fa0efffab3662c0e0d4ba001d10d35e1eab87a6,7fa0efffab3662c0e0d4ba001d10d35e1eab87a6,"Remove deprecated references to g-search

Commit 020586fab4173ea860789e459cb941c85179c739 removed support
for g-search as it was promoted to its own project. The devstack
plugin for Searchlight triggers the installation of elasticsearch,
so it can be removed from upstream devstack.

Change-Id: Iada75fc59c66b776c506431f93deb668ab0a84b9"
ianw,2016-04-26 07:53:45,https://api.github.com/repos/openstack/devstack/git/commits/c8af407eb2fd2634eeb61fc5c60ef9d965ac1da6,c8af407eb2fd2634eeb61fc5c60ef9d965ac1da6,"Update to bashate 0.5.1

This minor release of bashate just fixes one small issue with python3
compatability.  This is an alternative to
Ic91b5ce8cb85e376573f9bf3659d2a86cc437179.

Change-Id: Ie5ad29003cf80a332b9a9258749757a15de79966"
jumpojoy,2016-04-26 07:26:25,https://api.github.com/repos/openstack/devstack/git/commits/e3a04dd857d8e6f8afc83a20673fedd79936d19b,e3a04dd857d8e6f8afc83a20673fedd79936d19b,"Fix ironic compute_driver name

This commit fixes breaking change [0].
Long driver names like 'nova.virt.libvirt.libvirtDriver' are
no longer available and 'libvirt.libvirtDriver' should be used
instead.

Reference:
[0] https://review.openstack.org/309504

Change-Id: I27a1b75b921c7401bc8614caadfd1e09e7dd5d65
Closes-Bug: 1574990"
gonzolino,2016-04-01 08:53:13,https://api.github.com/repos/openstack/devstack/git/commits/336390f9b3691914f8aaf7a87867036fae35d8ba,336390f9b3691914f8aaf7a87867036fae35d8ba,"Set user/project domain ID when using keystone v3

Change I24546f02067ea23d088d383b85e3a78d7b43f165 aimed to use
keystone v3 as default in devstack. The change was later reverted in
Ia792b23119c00089542ba08879dca1c29dc80945 because it broke some
projects.
This patch contains a small portion of the first change to set the
environment variables $OS_USER_DOMAIN_ID and $OS_PROJECT_DOMAIN_ID in
openrc, so that users don't have to set them manually when using
keystone v3.

Change-Id: Ie4c316d60590d55830d417f13817298dac70864f
Partially-Implements: bp keystonev3
Closes-Bug: 1387814"
oomichi,2016-04-23 03:14:15,https://api.github.com/repos/openstack/devstack/git/commits/229685112d0de969e19e834be728d9c95c845abe,229685112d0de969e19e834be728d9c95c845abe,"Remove unused tempest options

Since I380dd20e5ed716a0bdf92aa02c3730359b8136e4 , tempest options
tempest_username and tempest_tenant_name have been added.
However, they are never used at all.
So this patch removes them for the cleanup.

Change-Id: Ic40047c5903d664e4a2d5eea88ff788e39d1e416"
mriedem,2016-04-23 01:45:40,https://api.github.com/repos/openstack/devstack/git/commits/ae4578bed986ebaaf3e09e1ecc9d4d7ae9f022ab,ae4578bed986ebaaf3e09e1ecc9d4d7ae9f022ab,"Revert ""Don't check for existing endpoints""

This reverts commit 7d1ec430046256ac3f536f4920a43936e28ef0c4.

This broke the sahara and layer4 dsvm jobs. The layer4 job
is voting on tempest changes so tempest is also broken.

Change-Id: Ide69f10cd85bf7ff0d86bc8cba56dedd26850362
Partial-Bug: #1573868"
sdague,2016-04-22 13:19:10,https://api.github.com/repos/openstack/devstack/git/commits/7d1ec430046256ac3f536f4920a43936e28ef0c4,7d1ec430046256ac3f536f4920a43936e28ef0c4,"Don't check for existing endpoints

We really should only have code that create endpoints once, making all
osc calls get_or_set adds 3 seconds per call for no really good
reason.

This also stops creating the internal endpoints in the service
catalog. It's a pattern that we're trying not to propogate, so lets
not have it in devstack any more.

Change-Id: Ia8cefe43753900d62117beae330db46deb6a9fc9"
Annie-XIE,2016-04-19 06:01:30,https://api.github.com/repos/openstack/devstack/git/commits/bea1e1954ad793f528876c030bc0ffecb83b0787,bea1e1954ad793f528876c030bc0ffecb83b0787,"Set default value and configurable value for integration bridge

When using XenServer as hypervisor, install_os_domU.sh will create
integration bridge for compute node when neutron network is used.
But it should provide a way to allow moving of the VM to another
host (with a different XEN_INTEGRATION_BRIDGE) for easier install.
This patch is to provide the way to let user have the chance to
configure integration bridge themselves

Change-Id: If923a5e978e77fc091d24b6e1fe7a83a3375da09"
clenimar,2016-03-31 18:43:51,https://api.github.com/repos/openstack/devstack/git/commits/c527ded91bef5d4c56cbdb2402a4d68015364b37,c527ded91bef5d4c56cbdb2402a4d68015364b37,"Update auth params in Nova Hypervisor-Ironic

As Nova hypervisor uses deprecated parameters when trying to
authenticate to Ironic, as well as a hardcoded /v2.0 endpoint, a fatal
error occurs when creating a keystone v3-only devstack.

This patch updates auth parameters (ironic section in nova.conf) that Nova
uses when trying to connect to Ironic to v3 parameters.

Change-Id: I2d7ebf750115613aa917448f20daaece614633ef"
tpatzig,2016-04-19 14:43:05,https://api.github.com/repos/openstack/devstack/git/commits/67223b0265501c17357f91a956ff4b1f76a67523,67223b0265501c17357f91a956ff4b1f76a67523,"Fix Q_PLUGIN_EXTRA_CONF_PATH usage comment

The bug #1542282 added Q_PLUGIN_CONF_PATH to the comment on how to use
Q_PLUGIN_EXTRA_CONF_FILES. But the right variable name is
Q_PLUGIN_EXTRA_CONF_PATH; this patch fixes this comment.

Change-Id: I6b6b39068fe54509b1bb8af47ae0b21dd77c444a
Related-Bug: #1469434
Closes-Bug: #1542282"
brantlk,2015-06-25 22:58:51,https://api.github.com/repos/openstack/devstack/git/commits/181588b9ba50fefea12617a9a5e774daddfed20c,181588b9ba50fefea12617a9a5e774daddfed20c,"Switch fernet to be the default token provider

Use the fernet token provider as the default for keystone.

 The Keystone token provider of choice is changing from UUID to Fernet.
 However, due the the need for multi-site keystone deploys to have keys
 kept in sync, we cannot change the default in upstream Keystone
 without  breaking existing deployments.  Fernet requires a deliberate
 setup step like what is done in devstack.  Making the change in
 devstack documents the expected setup.

Change-Id: I8c0db244634b0861b0eb3c48fe6ede153f7f04f2"
tpatzig,2016-04-19 15:02:34,https://api.github.com/repos/openstack/devstack/git/commits/73467041b6853ee99b5f973f52a0be092de9c48a,73467041b6853ee99b5f973f52a0be092de9c48a,"Remove additional '/' in Q_PLUGIN_EXTRA_CONF_FILES

Currently there is added an obsolote/wrong '/' when passing
Q_PLUGIN_EXTRA_CONF_FILES to the service start arguments.
Thats not a problem when using absolute paths, but wrong for
relative paths. This patch removes that extra '/'.

Change-Id: I2136d39889eaf83ecfcc711c733e95e261f455e0
Closes-Bug: #1572192"
ameade,2016-04-01 17:18:32,https://api.github.com/repos/openstack/devstack/git/commits/06c7a4404edf25b9a4d913e77d12a2f61a608053,06c7a4404edf25b9a4d913e77d12a2f61a608053,"Add volumev3 endpoint for Cinder

Change-Id: I97caa6bfababf7d1cc714296ae66f77d22bf24ab"
jamielennox,2016-01-21 22:08:14,https://api.github.com/repos/openstack/devstack/git/commits/cbcbd8f33c87904b2293e68ec9868be0b6e4393e,cbcbd8f33c87904b2293e68ec9868be0b6e4393e,"Allow putting service users in a seperate domain

Make it possible to construct the service users in their own seperate
domain. Changing this away from Default will not work for everyone yet,
though it does work for basic service interaction however enabling it
will allow us to start testing and hopefully gating that services aren't
relying on v2 only concepts.

Change-Id: I7e73df5dd1caabf355783da2bc0f3007ade92fba"
ajaeger,2016-04-15 18:54:11,https://api.github.com/repos/openstack/devstack/git/commits/fdb388314679b19493cef1861318190d017f7724,fdb388314679b19493cef1861318190d017f7724,"Add venv tox environment

This environment is used by the normal docs job, add it.
Manually add requirements needed for doc building.

Change-Id: I1be193d113683966f6a76e862713f3a550543168"
bodenr,2016-04-15 16:56:09,https://api.github.com/repos/openstack/devstack/git/commits/82bca44845b8dd25d34d5ee4b7c75d95c8ccf82c,82bca44845b8dd25d34d5ee4b7c75d95c8ccf82c,"Fix Q_PLUGIN_EXTRA_CONF_FILES usage comment

Related bug #1469434 fixed the usage comments for
Q_PLUGIN_EXTRA_CONF_FILES. However that change didn't
make it into neutron-legacy. This patch updates the comments
in neutron-legacy to reflect proper assignment of
Q_PLUGIN_EXTRA_CONF_FILES as well indicate
Q_PLUGIN_CONF_PATH is required when using extra conf files.

Change-Id: I447f1158d333ac4a35c4903a509146a62d93b272
Related-Bug: #1469434
Closes-Bug: #1542282"
booxter,2016-02-11 12:54:48,https://api.github.com/repos/openstack/devstack/git/commits/ef219bfcafb69970b83db8b503d5947ced9eca16,ef219bfcafb69970b83db8b503d5947ced9eca16,"worlddump: request Guru Mediation reports for neutron agents

Those reports may be helpful when debugging neutron gate issues.

pgrep is backwards compatible with old Solaris tools, which means it
does not match with commands that are longer than 15 characters. To
avoid that for neutron agent names which are longer than that, we need
to pass -f argument to match against the full cmdline.

Also killall instead of kill + pgrep in a subshell.

Change-Id: I9b3801e927c0e80443ed76e38cd8e3618e888e49"
rabi,2016-02-01 07:50:18,https://api.github.com/repos/openstack/devstack/git/commits/955609356a1586b3b39892bd8433de7d75cb05f3,955609356a1586b3b39892bd8433de7d75cb05f3,"Add heat_stack_owner role required by tempest

Create specific heat_stack_owner role to be used by
tempest tests, rather than using _member_ which is not
automatically created in keystone v3.

Change-Id: Iff13a47e360b628bc48a8cb897d9368af49db01b
Partial-Bug: #1539692"
zqfan,2016-04-12 12:26:33,https://api.github.com/repos/openstack/devstack/git/commits/0b4a009e56d29e4fe51ae06132c5766d0da9be7d,0b4a009e56d29e4fe51ae06132c5766d0da9be7d,"remove clouds.yaml in clean.sh

devstack failed to install because glance:
Could not determine a suitable URL for the plugin

patch I618ea8e27b49af360c905df85af06d9b1eef8407 tries
to fix this problem, but with a wrong way because path is not
correct, the clouds.yaml is not under /path/to/devstack/~/.config/openstack/
but ~/.config/openstack.

patch I8af6bd465f74099c560dddba6b5221dd79cbc965 tries to
fix this problem, but with a worng way to specify the path,
~$STACK_USER/.config/openstack/clouds.yaml will not expand with
a variable, only const string can.

$ whoami
zqfan
$ touch ~/.config/openstack/clouds.yaml
$ export STACK_USER=zqfan
$ rm -rf ~$STACK_USER/.config/openstack/clouds.yaml
$ ls ~/.config/openstack/
clouds.yaml

Change-Id: I549817d2f4638be615991c1726b39d270ba71357
ref: I618ea8e27b49af360c905df85af06d9b1eef8407"
cschwede,2016-04-12 08:53:46,https://api.github.com/repos/openstack/devstack/git/commits/91d2245d6ebe5f2b1627771adfe1f0fe45570c43,91d2245d6ebe5f2b1627771adfe1f0fe45570c43,"Add variable SWIFT_STORAGE_IPS

If the variable SWIFT_STORAGE_IPS contains a space-separated list of
IPs, we can use this to create consistent rings across all proxy and
storage nodes.

Change-Id: If9307196dc7e74e4a842c95503958ae2d7f7acc7"
ianw,2016-04-13 21:48:24,https://api.github.com/repos/openstack/devstack/git/commits/982b9911fb66d8c098442f0785972b3a3fcb1414,982b9911fb66d8c098442f0785972b3a3fcb1414,"Deprecate SERVICE_TENANT

This is a follow-on to I6f392d3c16726f6dd734184dcf3014fb4f388207 to
note the variable is kept for backwards compatibility.

Change-Id: I1008b2d4e2baf82e1aa531d9eaf96a084beb69aa"
armando-migliaccio,2016-04-13 23:28:06,https://api.github.com/repos/openstack/devstack/git/commits/b3f26cb66c70b599c4d77945f2bdadd9537c7c35,b3f26cb66c70b599c4d77945f2bdadd9537c7c35,"Revert ""WIP - Remove lbaas from devstack proper""

The WIP prefix and the statement

""This can't merge until p-c no longer references lbaas jobs.""

Should have been an indication that this patch is not quite ready to
go in as is.

This reverts commit 130c3adb0e88044c9cf3789e79f6e669fa30d7d2.

Change-Id: I57d5f9f2e66b1bdf6fca70074bc1d5678de65f38"
ianw,2016-04-07 23:40:56,https://api.github.com/repos/openstack/devstack/git/commits/7cd16ce48a9e8986a3ae1427fc8f916f5aa67f3a,7cd16ce48a9e8986a3ae1427fc8f916f5aa67f3a,"Remove shocco docs and other cleanups

This is a fairly opinionated change to do some spring cleaning on the
documentation.

The current output of shocco as rendered at [1] is completely broken.
I can not see that it is worth us maintaining this.  Honestly, the
github page does a better job at showing the scripts with a bit of
formatting.  The ""changes"" page is similarly useless today.  cgit or
github show allow browsing of changes in the repo better.  Both are
removed along with support scripts.

When you currently hit the first page, it gives no clue as to what
DevStack actually is.  Add a paragraph explaining that, and link to
the cgit for easy source browsing.

stackrc.rst is not necessary; the stuff about database backends is
already discussed in configuration.rst; move the things about service
repos into a section of configuration.rst.

The discussion in openrc.rst is moved into the configuration.rst file.

localrc.conf.rst was just a paragraph pointing back to
configuration.rst; this is removed.

The variables described in exercise.rst are moved into a separate
section of configuration.rst

[1] http://docs.openstack.org/developer/devstack/#scripts

Change-Id: Ie7f4b265368f1d10a8908d75e11d625b2cc39e7c"
fkakuma,2016-04-06 23:15:45,https://api.github.com/repos/openstack/devstack/git/commits/578459f8088474f8b1d1d29e4ca6f3aa3a5f42c5,578459f8088474f8b1d1d29e4ca6f3aa3a5f42c5,"In worlddump, execute ovs-ofctl for an only existing bridge

When devstack fails, some or all bridges may not exist.
This change allows an only existing bridge to executes ovs-ofctl command.
And fix duplicate ofp version specified in protocol option of ovs-ofctl.

Change-Id: Ied01de727ca9b867ce87db358f72ae44838b63af"
fribeiro1,2016-04-13 02:34:03,https://api.github.com/repos/openstack/devstack/git/commits/4e6f8ca67047aef99ff1573bddc21b18aae1ce0b,4e6f8ca67047aef99ff1573bddc21b18aae1ce0b,"Add installation support for Oracle Linux 7

This removes Oracle Linux 6 support (""OracleLinux"") which, like RHEL6,
is now unsupported.  ""OracleServer"" matches Oracle Linux 7.

Change-Id: I35b1c7d0b103c509283dba0f6551453e7d8ac4cc
Closes-Bug: #1568634"
masayukig,2016-04-13 10:02:40,https://api.github.com/repos/openstack/devstack/git/commits/d0931db1e89bee66ced796552d9db172f9f43639,d0931db1e89bee66ced796552d9db172f9f43639,"Add execution bit to generate-devstack-plugins-list.sh

This commit adds an execution bit to generate-devstack-plugins-list.sh.
This should be useful for users.

Change-Id: I12d0a257eb1d487979d044c2e52e824a6ea4c02d"
luckyvega,2016-04-07 10:36:46,https://api.github.com/repos/openstack/devstack/git/commits/6f1781f9684d803e1168c20c382ec6fa95fe161f,6f1781f9684d803e1168c20c382ec6fa95fe161f,"Fix DevStack failure in multi-region setting

In stack.sh, REGION_NAME is used to set environment variable
OS_REGION_NAME before using OpenStack client to configure accounts
for services. OpenStack client will try to find Keystone endpoint
in REGION_NAME to send the requests.

However, in the case of deploying multiple DevStack instances in
different regions with shared Keystone, Keystone is only running
in one the of region. When installing DevStack for the region that
does not host Keystone, OpenStack client will fail to find the
Keystone endpoint and thus DevStack fails to start.

This patch fixes this bug by introducing KEYSTONE_REGION_NAME for
user to specify which region Keystone is running in. Document of
multi-region setup is also updated.

Change-Id: I3e82c7ff69326d4171623299ffecea103d40c80d
Closes-Bug: #1540802"
ianw,2016-04-12 00:30:52,https://api.github.com/repos/openstack/devstack/git/commits/cb32230e528414f6280a2ceaaf2d77f895b3587d,cb32230e528414f6280a2ceaaf2d77f895b3587d,"Revert ""Work around broken rabbitmq 3.6.1 packages on Fedora 23""

This reverts commit 616957d5981310e465e9fb3fd0c040751d8b0b63.

Fixed packages are released to F23 stable

Change-Id: I6c1ecaf9afb78afa3051922eb8347a2610e57416"
mtreinish,2016-04-11 16:52:39,https://api.github.com/repos/openstack/devstack/git/commits/e8f3f7aa0d650da49325ab5ccd072232a6ab088c,e8f3f7aa0d650da49325ab5ccd072232a6ab088c,"Fix usage of tempest utils during config

Most of the tempest utilities need at least a partially setup
configuration file to work properly. This is because most of them
make api requests in order to perform the expected operations.
This causes a bit of a chicken and egg problem when we rely on
these utilities for configuration purposes since we don't know if
we have enough of a configuration file to run things. This previously
wasn't an issue because all we needed to run was verify-tempest config
and it wasn't in a critical path just for api extension discovery and
it wasn't relied on. But, with the addition of tempest preprovisioned
credentials we rely on a tempest util to create the credentials we
use for running things. We need to ensure the util has as complete of
a config file when it's run to ensure that everything is in the
correct state.

This commit moves the running of all tempest utils and the associated
iniset calls to the end of the configure_tempest function to ensure
that the utils have as complete a config file as possible.
Additionally, it makes all tempest util calls are venv isolated. (which
is mostly future proofing for when things are branched on stable)

Change-Id: I5844aed4e134fbc7210aa0eca83500e260915b7b"
markuszoeller,2016-04-11 08:17:55,https://api.github.com/repos/openstack/devstack/git/commits/b6259586bf241b4589965642ac76d250a0774e6f,b6259586bf241b4589965642ac76d250a0774e6f,"Replace deprecated config option [DEFAULT].rabbit_vritual_host

The test job ""gate-tempest-dsvm-cells"" uses the Nova cells concept.
This triggered a deprecation warning:

    WARNING oslo_config.cfg [...]
    Option ""rabbit_virtual_host"" from group ""DEFAULT"" is deprecated.
    Use option ""rabbit_virtual_host"" from group ""oslo_messaging_rabbit"".

This change removes that warning.

Change-Id: Ieaf437ecbf58edb8994f6afcb0ac2afcd5585a1e"
Annie-XIE,2016-04-06 05:22:48,https://api.github.com/repos/openstack/devstack/git/commits/2f5596e59051ab23dfc0dd85b083e9328600fbb1,2f5596e59051ab23dfc0dd85b083e9328600fbb1,"Use configured values instead of default value

Variables PUBLIC_INTERFACE_DEFAULT and GUEST_INTERFACE_DEFAULT
are only use to provide default value, deployment script should
not use such values directly

Closes-Bug: #1566768

Change-Id: Ib543b416df861086fa2edbe7df769b224d0b0add"
ianw,2016-04-04 23:21:24,https://api.github.com/repos/openstack/devstack/git/commits/e8177a5412da6b190825dc1944fe3f93e208b890,e8177a5412da6b190825dc1944fe3f93e208b890,"Be a bit more explicit about the plugin generation

Make the warning in the auto-generated file stand-out a bit more, so
people don't waste time trying to add entries that appear
automatically.

Change-Id: Icf4290e1fad21ce72af54c178bafcce0b287cdf6"
eyalb1,2016-04-05 13:18:56,https://api.github.com/repos/openstack/devstack/git/commits/e7361775c112e32ea517eddc344641897d273d25,e7361775c112e32ea517eddc344641897d273d25,"print statment has become a function in py3

Change-Id: Ia616e1fdd4c3fc8e1a36b026e0c3e2a568dc6517"
mriedem,2016-04-10 01:42:24,https://api.github.com/repos/openstack/devstack/git/commits/3888098245a8d1c9c48f9af717d3991e7acf99d9,3888098245a8d1c9c48f9af717d3991e7acf99d9,"Move nova's api_paste_config into wsgi group

Change 0b9e378cca2be4e034ad401d71fbe4470907f93a moved the
api_paste_config from the DEFAULT group to the wsgi group
and deprecated it's usage in DEFAULT.

Change-Id: I283db638e76b986d3e728c6caf34a0b3f37fc9b6"
pabelanger,2016-04-07 18:41:58,https://api.github.com/repos/openstack/devstack/git/commits/cdf9c0f73b7a8d332852d43dacad8cd0c8993a1e,cdf9c0f73b7a8d332852d43dacad8cd0c8993a1e,"Replace vivid support with xenial

Ubuntu vivid support is EOL lets make room for xenial.

Change-Id: I21c4966c80e0b5fc2b1a7448020dd1c75e0070ad
Signed-off-by: Paul Belanger <pabelanger@redhat.com>"
ianw,2016-04-07 23:10:55,https://api.github.com/repos/openstack/devstack/git/commits/e9820732f16386facc526d14a5150ba68da68161,e9820732f16386facc526d14a5150ba68da68161,"Fix table in generated plugins list

Fix the table with a bottom border.  Regenerate the plugin list using
the script to make sure it works this time.

Change-Id: Iab3eb3879fd6017c55259e470477e4a9e34514e2"
armando-migliaccio,2016-04-07 00:12:51,https://api.github.com/repos/openstack/devstack/git/commits/8dda061a1fc3b06675cc873681d3bdaaad98f734,8dda061a1fc3b06675cc873681d3bdaaad98f734,"Revert ""Revert ""Use unversioned keystone endpoints""""

This reverts commit da1ca6e07c0d54d0ec5b94ebd78da81c6a46e780.

Depends-on: Id2c7e09611c1f8b06e6d272589b4ea3435b8de86
Change-Id: I1b2a65179b5863d8bcbc5dd02b615f4e6e564213"
armando-migliaccio,2016-04-06 21:57:28,https://api.github.com/repos/openstack/devstack/git/commits/da1ca6e07c0d54d0ec5b94ebd78da81c6a46e780,da1ca6e07c0d54d0ec5b94ebd78da81c6a46e780,"Revert ""Use unversioned keystone endpoints""

This reverts commit 4921d4dbb937b8a9ca26379a33252f0bebcfb53f.

Change-Id: Ic8888fca5d25ca6caa3f29f712db319f1d3869ba"
kk7ds,2016-04-06 21:06:00,https://api.github.com/repos/openstack/devstack/git/commits/d3d21394db4a958bed55d856f780c127324a71b8,d3d21394db4a958bed55d856f780c127324a71b8,"Fix create_flavors on subnodes

This makes us depend on n-api being enabled, which should avoid running
this on subnodes, where it fails because of no credentials.

Change-Id: I209bd59cd57be27c3375f5a2074361307abcafe9
Closes-Bug: #1567065"
sdague,2016-04-06 12:09:31,https://api.github.com/repos/openstack/devstack/git/commits/db48db1cf0b9c36890439a161424842d07d94f60,db48db1cf0b9c36890439a161424842d07d94f60,"update docs to reference project not tenant

Change-Id: Iad66e14fa33609ea6d2a115469e054762051b964"
ianw,2016-04-06 06:50:45,https://api.github.com/repos/openstack/devstack/git/commits/616957d5981310e465e9fb3fd0c040751d8b0b63,616957d5981310e465e9fb3fd0c040751d8b0b63,"Work around broken rabbitmq 3.6.1 packages on Fedora 23

Downgrade this package until we have a fix for the bug in the
comments.

Change-Id: I980d625fec7b11aff74814ee2d24fe9650e9f0a6"
sdague,2015-10-09 14:07:11,https://api.github.com/repos/openstack/devstack/git/commits/7f87efdd21e92721fe2bf8bb493deb4822e32f1b,7f87efdd21e92721fe2bf8bb493deb4822e32f1b,"Remove project_id from nova service urls

Nova API itself supports both URL modes:
  with project-id and without project-id
However, we are changing service catalogs for removing project-id
based on the discussion.
We have agreement on https://review.openstack.org/#/c/181393 like the
following:

 - Standard required naming for endpoints (versioned vs. unversioned,
   contains project ID vs. no project ID).
    * We want unversioned endpoints so that the user can get
      information about multiple available versions in a given cloud.
    * We do not want project ID, account ID, or tenant ID as part of
      the resource URI for an OpenStack API endpoint.

So this patch removes project-id from Nova service catalog for this
direction.

Change-Id: Ifd74152727b5c0c75924419a7a52e024a69ce72c"
ianw,2016-04-05 23:27:56,https://api.github.com/repos/openstack/devstack/git/commits/17e450131cc5f6508bea99172b6200bd6fce5584,17e450131cc5f6508bea99172b6200bd6fce5584,"Pad around table in plugin list

Make sure the table is separated out from header and footer content so
it actually gets picked up as a table.

Change-Id: I60a24b2476a55cfbf5c864a1c27ce5b98e699886"
sdague,2016-04-04 14:15:47,https://api.github.com/repos/openstack/devstack/git/commits/0b1465b6f699a974e3900fff2a810aec6a6bf43c,0b1465b6f699a974e3900fff2a810aec6a6bf43c,"change tenant to project in keystone bootstrapping

Change-Id: I6f392d3c16726f6dd734184dcf3014fb4f388207"
sdague,2016-04-04 14:11:54,https://api.github.com/repos/openstack/devstack/git/commits/19dfa2af3286a6fbd8ea74dbc41a6affd2123e3f,19dfa2af3286a6fbd8ea74dbc41a6affd2123e3f,"convert tenant -> project for internal variables

This sets all the internal variables and service users that are set to
use project instead of tenant for clarity.

Change-Id: I4aa833bac2ee2281c5f2881f7ae1fd8e7c759f74"
sdague,2016-04-04 13:17:01,https://api.github.com/repos/openstack/devstack/git/commits/0486a3659e9a24fbcc34e266ecc56f25d1e5cf99,0486a3659e9a24fbcc34e266ecc56f25d1e5cf99,"use project_id instead of TENANT_ID in neutron internal functions

This converts the create initial network to using project_id instead
of TENANT_ID.

Change-Id: Idf09b629cd13d842fceed5609b42fd1593552953"
sdague,2016-04-04 13:12:24,https://api.github.com/repos/openstack/devstack/git/commits/bd27cc2e675ad5d0e21065ea3029d02ea5a2716a,bd27cc2e675ad5d0e21065ea3029d02ea5a2716a,"switch over nova to using $(project_id) in service catalog

This makes one less place we reference tenant_id

Change-Id: I53dfeb4d23a9babf7bb46fd3736b4ac005e45993"
mriedem,2016-04-05 14:34:42,https://api.github.com/repos/openstack/devstack/git/commits/2bebf2d8d8c249d25c44a4d4cc6a9fecf8fcd454,2bebf2d8d8c249d25c44a4d4cc6a9fecf8fcd454,"Skip rescue tests for cells v1

The rescue tests in Tempest don't work with cells v1 so
let's skip them.

Change-Id: I234f778c9d264ee2e5fe6050ca6b33283be464f7"
kk7ds,2016-04-04 17:37:11,https://api.github.com/repos/openstack/devstack/git/commits/4b205db45b34e698734740b50752e11b75035e72,4b205db45b34e698734740b50752e11b75035e72,"Create default flavors in nova

This makes devstack create default flavors in nova, like cinder, now
that nova no longer hard-codes them into its database.

The flavors created here match the legacy default flavors that nova
kept for so long, and also creates a new devstack-namespaces set of
flavors which are likely more useful for people.

Change-Id: Ic275887e97221d9ce5ce6f12cdcfb5ac94e300b0"
sdague,2016-04-04 13:11:25,https://api.github.com/repos/openstack/devstack/git/commits/260583e25eabffd70942c7d97df09a5dd2ed55d6,260583e25eabffd70942c7d97df09a5dd2ed55d6,"Switch over swift to using $(project_id) in service catalog

This removes one more place where we use tenant_id in our code.

Change-Id: I628fb7c1dd6f22ce499fc5cbe97b79458cce966f"
fkakuma,2016-04-05 01:33:50,https://api.github.com/repos/openstack/devstack/git/commits/2bd2568bd186162f44814d149030368cfa2db006,2bd2568bd186162f44814d149030368cfa2db006,"Fix a typo in comment for _get_ofp_version

OpenFlow11 -> OpenFlow10

Change-Id: I2a501ccd32f5f7a39fd4bc746f00ca3f67bd98c1"
stmcginnis,2016-04-04 18:58:59,https://api.github.com/repos/openstack/devstack/git/commits/2a9a9df942d68431b893fdfd83eec24fb7999391,2a9a9df942d68431b893fdfd83eec24fb7999391,"Remove driver certs directory

Cinder was the only project with a script in driver_certs. That cert is
no longer required for Cinder as we now just require that third party CI
is run for all drivers before acceptance.

This removes the cinder cert test script and the now empty driver_certs
directory.

Change-Id: I8d0867c4720f324b8dbf3c64ddf66ff267996d10"
sdague,2016-04-04 13:10:44,https://api.github.com/repos/openstack/devstack/git/commits/cbdc5d9e48d9d91fcc7a667839d592ff85ed1f09,cbdc5d9e48d9d91fcc7a667839d592ff85ed1f09,"switch over heat to using $(project_id) in service catalog

This removes one more place where we reference tenant_id

Change-Id: I721269c3397bd5e5d9cea5faf3fc691f296a517b"
sdague,2016-04-04 13:09:27,https://api.github.com/repos/openstack/devstack/git/commits/ab0a1b881225f83cfe6454091881d5ffd6626a65,ab0a1b881225f83cfe6454091881d5ffd6626a65,"change cinder SC to use $(project_id)

This removes another place where we reference tenant_id

Change-Id: I88fa1c5475105c301b27672b028bddb289f9c108"
sdague,2016-04-04 13:07:08,https://api.github.com/repos/openstack/devstack/git/commits/76392b5b44103c1ed061f4e2f1bae8ca6767c6a6,76392b5b44103c1ed061f4e2f1bae8ca6767c6a6,"change internal variables from tenant_id -> project_id

As part of the ""reduce confusion on tenant_id"" we need to change as
many references as possible over to project_id.

Change-Id: Ia665312f24672b106e12fde93b60f142620c3a45"
travelist,2016-04-02 16:08:38,https://api.github.com/repos/openstack/devstack/git/commits/1c7333c40ece0199761fa6e2ab93a9ed143240ad,1c7333c40ece0199761fa6e2ab93a9ed143240ad,"Add kafka-devstack-plugin to plugin-registry.rst

kafka-devstack-plugin is available now:

  Iceb054f0dfab2fff1920cc7dc36a4be256c6f161

Change-Id: I518bd079296a110a018f77b9b107883f3933e38a"
fkakuma,2016-03-08 11:55:01,https://api.github.com/repos/openstack/devstack/git/commits/6099401e002f228daf5110e1dd0a530dc1c737fc,6099401e002f228daf5110e1dd0a530dc1c737fc,"In worlddump, cover all supported version of OpenFlow protocol by ovs-ofctl

Currently ovs-ofctl command is executed for only default ofp version
(OpenFlow10).
Some Neutron's plugin uses OpenFlow13 and in that case ovs-ofctl fails.
This chage allows us to get ovs info for all ofp versions supported by ovs.
And adds dump by dump-ports and dump-ports-desc.

Change-Id: I2d3c42835a5ad0f5ebf540e8127762f466347c9c"
sc68cal,2016-03-16 15:53:09,https://api.github.com/repos/openstack/devstack/git/commits/087ed52cb523956ccace89ba11483207f663abf1,087ed52cb523956ccace89ba11483207f663abf1,"Neutron: MTU settings are now sane, so remove from DevStack

Neutron had a lot of work done during the Mitaka cycle to fix MTU
issues, so let's see if Neutron can stand on its own.

This commit reverts 06cfce37560243d22cd05b2c620be6702528a0b1

Neutron patches:
I6ffc8973c9b8f46cc19922ff04fdd2d23646b878
I4096a3e7704032fa4aa5c3aa8bcaec4e38d0d06d
I6a10c4dfc1f2198667f3d02528e2ca8020cb5bb8
Ic091fa78dfd133179c71cbc847bf955a06cb248a
Idf6221fee2c7da86123b330ad3c235ecc6868242
I6859ebdde1f7e3a8163b49d705620e522ada606a

Change-Id: Ie88c7ebb29adadde530217c95e2f38aacb119dc8"
dims,2016-03-31 13:54:42,https://api.github.com/repos/openstack/devstack/git/commits/7a9d78a59e7a1b7bcba390c18d6f5ca3a07bf4b4,7a9d78a59e7a1b7bcba390c18d6f5ca3a07bf4b4,"Cleanup from zookeeper->dlm change

In I33525e2b83a4497a57ec95f62880e0308c88b34f, we switched
from zookeeper to dlm. Somehow this got left behind.

Change-Id: I41d13d33c9a81271d4a9752cbe98c0028a17ab1e"
ianw,2016-03-29 03:47:09,https://api.github.com/repos/openstack/devstack/git/commits/908a3a952300ae5ff8a00392ee2b5577ea5c6e7d,908a3a952300ae5ff8a00392ee2b5577ea5c6e7d,"Add total timings

Printing the total makes it easier to compare runs at a glance.  Clean
up the output a little, and use some consistent, name-spaced globals
while we're there.

Note the total runtime is at the top to avoid giving the impression
that it is the sum of the components below, since you can nest/overlap
timers (I made that mistake in a prior change :).  It might be a fun
exercise in tree building to one day track the overlaps and present a
nice nested breakdown.

Change-Id: I878ce03813d21138df493b82bceff3aaa7f83064"
jd,2016-03-29 10:04:24,https://api.github.com/repos/openstack/devstack/git/commits/de40d9234b2436c6279ca1f913d9a2c69c11976d,de40d9234b2436c6279ca1f913d9a2c69c11976d,"Remove Ceilometer leftover

Ceilometer uses a devstack plugin for a while now, so there should not
be any need for this file in the main devstack repository.

Change-Id: I3577c52b106c63c465a40ea3740eb5b8384e900e"
kk7ds,2016-03-28 18:03:35,https://api.github.com/repos/openstack/devstack/git/commits/bb49d35739b6375202a4ff23d49fdced6693472c,bb49d35739b6375202a4ff23d49fdced6693472c,"Run online_data_migrations during nova setup

This is a normal step in the process for upgrade and is now
required for migration of flavors from the main DB to the API DB.
Since we previously made a bad decision to encode those flavors into
the first database migration, that means that even on new installs we
need to run these.

Deployment tools are going to be running this command any time they
do anything to the database post-deployment, which means adding this
to devstack is putting it in line with what normal deployments will
be doing.

Change-Id: I8ab03af9d2f4974f26a7f8487ec978caea957e45"
ajaeger,2016-03-28 16:40:05,https://api.github.com/repos/openstack/devstack/git/commits/70dcc17592c647600ec566686a1f63f2e802225e,70dcc17592c647600ec566686a1f63f2e802225e,"Remove libnspr4-dev for ceilometer-collector

Since change Ie38deadf190db33863c99d4610157349484ac10f ceilometer does
not use spidermonkey which needed libnspr4-dev to be installed. Thus the
requirement can be removed now.

Change-Id: Ib0685181f1cc4c9b58411a1679ac9dec1812f683"
rcritten,2016-03-24 22:09:22,https://api.github.com/repos/openstack/devstack/git/commits/be00e95da5ae57c6aaa547ee01a5cab9a13862ca,be00e95da5ae57c6aaa547ee01a5cab9a13862ca,"Add OS_CACERT to userrc_early and ensure SERVICE_HOST is SAN

OS_CACERT was being added directly to the environment rather
than usercc_early. This caused an untrusted CA error to be
thrown.

Ensure that SERVICE_HOST is in the Subject Alt. Names of the
issued TLS server cert. The gate sets it to 127.0.0.1 which
wasn't being handled. Only the FQDN of the host and actual
IP address of the machine were being added.

Change-Id: I8a91dffe1a5263d2bcc99ea406a8556045b52be2"
toabctl,2016-03-27 06:59:42,https://api.github.com/repos/openstack/devstack/git/commits/fb94891b80e5bfa19acf8b261d68db108a147042,fb94891b80e5bfa19acf8b261d68db108a147042,"Use configure_auth_token_middleware for neutron

auch configuration in the nova section in neutron.conf was
still setup manually. Just reuse the function
configure_auth_token_middleware() for configuration to simplify
the code.

Change-Id: Ib5a7e9212e2d1242bdbec75cf3fac13d5c42a2e2"
mtreinish,2016-03-25 23:39:43,https://api.github.com/repos/openstack/devstack/git/commits/0948ab90ae2097da2d9e4f401cda3698e32621f4,0948ab90ae2097da2d9e4f401cda3698e32621f4,"Move auth setup earlier in tempest config

This commit moves the auth setup for tempest config to occur before
we run tempest verify-config. The API requests that command runs
require auth and in the case we run tempest without admin creds set
the config file will not have any credentials to run the query with.
By moving the auth setup to occur before this it will ensure tempest
is always configured with credentials before we run the command.

Change-Id: I6d11b24e4492f1fde3aa3a7a239c40d63111bfa1"
sdague,2016-03-25 12:58:54,https://api.github.com/repos/openstack/devstack/git/commits/8b416ae821d8487f22d3d564c30da44d6cb2826a,8b416ae821d8487f22d3d564c30da44d6cb2826a,"run swift blocks if any services are enabled

Previously the swift blocks only ran if s-proxy is enabled, which
prevents a multinode configuration. We should run these blocks if any
swift services are enabled, and push proxy specific conditionals one
step lower.

Change-Id: I540a97615b3c19f882c8673b1a4a29cd47e36aa8"
brantlk,2016-03-24 19:01:57,https://api.github.com/repos/openstack/devstack/git/commits/556eeb0d358746ed4587440093c2739fb0a57c2b,556eeb0d358746ed4587440093c2739fb0a57c2b,"Drop keystone eventlet support

Keystone has dropped support for running under eventlet (using
keystone-all).

Change-Id: Ib38c0b1a54633a6b6dfa3a0a605cd2b02ca48989"
dougwig,2015-06-24 21:40:32,https://api.github.com/repos/openstack/devstack/git/commits/130c3adb0e88044c9cf3789e79f6e669fa30d7d2,130c3adb0e88044c9cf3789e79f6e669fa30d7d2,"WIP - Remove lbaas from devstack proper

Lbaas devstack support is now in the neutron-lbaas repo, so we can move
towards removing it here. This will explode hard, but let's start peeling
the onion.

This can't merge until p-c no longer references lbaas jobs.

Change-Id: I1c49877bab53f6b25385302420086b25e3eeeebf"
afazekas,2016-03-22 14:22:03,https://api.github.com/repos/openstack/devstack/git/commits/9ea497539bb1e20fc2d247719f98401d5f7cd67c,9ea497539bb1e20fc2d247719f98401d5f7cd67c,"Configure the admin as admin

Make our usual admin user to be a real admin,
and open the way for improving the per project
policy.json files.

Change-Id: I133a5953d209bc1edbd03ecfae750f77e3eaa64d
Related-Change: https://review.openstack.org/#/c/242232"
sdague,2016-03-21 21:00:51,https://api.github.com/repos/openstack/devstack/git/commits/646085d701049004f9b2bcdc38610f3e87579cda,646085d701049004f9b2bcdc38610f3e87579cda,"Add colorful PS4

PS4 can include functions, so when running in the LOG_COLORS=True mode
provide a grey function line so that it's easier to visually
distinguish the content from the location.

Also make it so the main prompt chunks off all the common path, which
means we can printf to 40 characters and have a pretty reasonable and
readable PS4.

Change-Id: I4a10a49db97d413349bcfceeb8c4164936fbcc40"
bradbehle,2016-03-22 19:27:32,https://api.github.com/repos/openstack/devstack/git/commits/629917a5dd0f5b56349294e0edc8b5bdd766aa46,629917a5dd0f5b56349294e0edc8b5bdd766aa46,"Check for valid network before probe-create call

Check that a public and/or private network exists before calling
probe-create for it, to avoid an error in the case where that
network hasn't been created

Change-Id: If01cec47dc4ab02b5d78074b1354df10dc23b384
Closes-bug: #1560629"
yamt,2016-03-22 05:29:47,https://api.github.com/repos/openstack/devstack/git/commits/c8c1c615f2bf63e6a1ad9be70a340058bd813919,c8c1c615f2bf63e6a1ad9be70a340058bd813919,"Normalize path for upper-constraints

It seems pip distinguishes paths with .. or extra / for constraints.
For example, the following directories are considered different.

    /path/to/dir
    /path/to//dir
    /path/to/dir/subdir/..

This commit tries to normalize the given directory name to avoid
""Could not satisfy constraints for 'xxxx': installation from path
or url cannot be constrained to a version"" error due to directory
name mismatch.

Reference: https://github.com/pypa/pip/pull/3582
Closes-Bug: #1542545
Change-Id: Iae9d58c27d3b10bca16e4a471507c4d5c16439a0"
kramvan1,2016-03-17 17:19:16,https://api.github.com/repos/openstack/devstack/git/commits/d99c29032bb0cc89ffe6874c7b879b84897ff0b0,d99c29032bb0cc89ffe6874c7b879b84897ff0b0,"Add dependency for hexdump

hexdump is used in common function generate_hex_string which is
used by nova and heat.  The current general dependencies do not
have this dependency covered, instead it is usually pulled in by
other implicit dependencies when a full devstack is built. In
cases where only a subset is built (like just Heat and keystone)
hexdump is missing.

Added unit tests for the generate_hex_string function.

Depends-On: Ib47d802a31a0f4c2a49daa7e6698e37c70a2365a
Change-Id: I77c8c2019fb8b8174cdfaed3e56ebf728f0732b7
Closes-Bug: #1558672"
belous,2016-03-21 09:32:06,https://api.github.com/repos/openstack/devstack/git/commits/1258da64085cef851be09923e37d1ed59348b43d,1258da64085cef851be09923e37d1ed59348b43d,"Allow install os-vif library used by Nova

In future Nova will use os-vif library for some communication with Neutron.
This patch add ability to install os-vif library that requires for run
tempest-jobs for new patches, that used os-vif.

Change-Id: I28e48afd3c740b1aa50c994d99f660f095e7deda"
ianw,2016-03-21 02:03:34,https://api.github.com/repos/openstack/devstack/git/commits/c10989bf189c42a99e56f0017705d1b7a8c71499,c10989bf189c42a99e56f0017705d1b7a8c71499,"Plugin autogen list: handle variable-width plugin names

We've had a couple of cases where plugin names are longer than our
table width.

Take the fixed-with table-header out of the header file, and generate
it dynamically based on first-column width.  To simplify, take
advantage that RST allows a variable-length last column and so don't
specify it's width.

Add a link to the cgit URL for each project you can click on to browse
the source (link text remains the git:// URL).

Add some logging so you can see what the python generator is doing,
should you run it.

Change-Id: I5d5e692039bbb30b2508119412472dac1d105c08"
yamt,2016-03-18 12:24:46,https://api.github.com/repos/openstack/devstack/git/commits/7c98cfb56e73e326446a812be19b3ac9d6e2f240,7c98cfb56e73e326446a812be19b3ac9d6e2f240,"install_pip.sh: Remove stale comments

Change-Id: Id91c8e579977bedae1410095d9b4cef9d9ae2178"
booxter,2015-04-10 16:45:35,https://api.github.com/repos/openstack/devstack/git/commits/198887e8903696ea9fcbec0f8a91c2f6ca5a34c7,198887e8903696ea9fcbec0f8a91c2f6ca5a34c7,"logging: don't set logging format strings for keystone

Don't override those format strings since the overridden
values are identical to those used by oslo.log by default [1].

logging_exception_prefix is still set since it changes the logging
format to use TRACE label for exceptions instead of default ERROR.

[1]: https://git.openstack.org/cgit/openstack/oslo.log/tree/oslo_log/_options.py?id=c47a91dbbb586c27d8521b1016bf7901c47b1c90#n110

Closes-Bug: #1433687
Change-Id: Ibd11cd6b0defb6dc709dbd3e718a49fd71cce6b6"
balagopalraj,2016-03-01 04:43:31,https://api.github.com/repos/openstack/devstack/git/commits/7ed812c6cdb4814be2f40f4331aec43c62d13179,7ed812c6cdb4814be2f40f4331aec43c62d13179,"Change ""secrete"" to ""secret""

Apparently this is intentional as a joke on devstack leaking
passwords, but the dual meaning of the word confuses people.  Let's
change it before we get yet another review fixing it.

Change-Id: I3bee03612f6ea197362aab04a37f81043f77f235"
chungg,2016-03-16 21:58:07,https://api.github.com/repos/openstack/devstack/git/commits/f21b86fefbcebd1430909b1db89ef2cf3154c705,f21b86fefbcebd1430909b1db89ef2cf3154c705,"Install uuid-runtime on Ubuntu

It seems uuidgen doesn't exist by default on the new trusty nodes [1].
There are quite a few projects that use uuidgen [2] so we need to
ensure it's on the node.

On Trusty, this is provided by the uuid-runtime package.  Note that on
Centos & Fedora this is provided by util-linux which is already tehre.

[1] http://logs.openstack.org/75/292475/1/check/gate-telemetry-dsvm-integration-ceilometer/2e85d1f/logs/devstacklog.txt.gz#_2016-03-16_19_20_30_116
[2] http://codesearch.openstack.org/?q=uuidgen&i=nope&files=&repos=

Change-Id: I230836d8b644698473d0611931334c232cf00734"
jamielennox,2016-02-24 04:51:04,https://api.github.com/repos/openstack/devstack/git/commits/4921d4dbb937b8a9ca26379a33252f0bebcfb53f,4921d4dbb937b8a9ca26379a33252f0bebcfb53f,"Use unversioned keystone endpoints

Insert the unversioned keystone URLs into the service catalog. Services
should be able to determine the correct URL for their work from this.

Depends-On: I931f0c558aafc8dfaa5519744c6e4e7fcffc3205
Change-Id: I6171f782a1dd397720a9b2a3393b30ae5aca0cc2"
dtroyer,2016-03-16 13:13:49,https://api.github.com/repos/openstack/devstack/git/commits/d014002d034ecfebf9f3b3e10296de15b7a9edb0,d014002d034ecfebf9f3b3e10296de15b7a9edb0,"Remove n-crt from default services

Depends-on: I8a07320b59ea6cd7d1fe8bce61af84b5a28fb39e
Change-Id: I3441317911c8e940ef038c79f97554c1c669e120"
tengqm,2016-03-16 03:08:00,https://api.github.com/repos/openstack/devstack/git/commits/78d3739dbec518bc81e635d5a9c19eb68530454c,78d3739dbec518bc81e635d5a9c19eb68530454c,"Fix RHEL7 vendor detection

When detecting os_VENDOR, the lsb_release output may be different
from what is expected today. This patch fixes the detection.

Change-Id: I850ad1acbc2397c73e7cc85c1765cba6ba2f98d4"
sc68cal,2016-03-15 19:18:14,https://api.github.com/repos/openstack/devstack/git/commits/54d16f706a4c9886a5de93fc8b3cd08cd324de33,54d16f706a4c9886a5de93fc8b3cd08cd324de33,"Revert ""Automate OVS bridge creation for multiple mappings""

After reviewing I5b1d49be8d9e3e331826e30182fba70f099b5e7f and
I161a157895b4ed0c9ea5a7a00302e30f4ad75ed3 - I have come to the
determination that this really should be in a DevStack plugin.

If both of the patches under review were to merge, we would be blessed
with at least the following variables:

OVS_NICS_FROM_BRIDGES
OVS_NIC_MAPPINGS
OVS_BRIDGE_MAPPINGS
OVS_PHYSICAL_BRIDGE
PHYSICAL_NETWORK
PUBLIC_PHYSICAL_NETWORK

Which really is not good. Let's just push this into a plugin, I don't
want to deal with it.

This reverts commit 3095ff51320291b3622cacc3bf2fb1043bff8d31.

Change-Id: I746022f5db93d3333101a014692fbdcd790a0004"
ianw,2016-03-15 01:21:34,https://api.github.com/repos/openstack/devstack/git/commits/3bf69e835a043e7deecbbe3568426042961116a3,3bf69e835a043e7deecbbe3568426042961116a3,"Remove EC2 API from devstack

This all started with an investigation into Fedora's use of ecua2ools
package.  This package is a bit of a nightmare because it pulls in a
lot of other system-python packages.

For Ubuntu, this package was removed in
I47b7e787771683c2fc4404e586f11c1a19aac15c.  However, it is not
actually a ""pure python"" package as described in that change, in that
it is not installable from pypi.  I can't see how you could actually
run exercises/euca.sh on Ubuntu unless you installed euca2ools by hand
-- ergo I suggest it is totally unused, because nobody seems to have
reported problems.

In the mean time, ec2 api has moved to a plugin [1] anyway where the
recommendation in their README is to use the aws cli from amazon.

Thus remove all the parts related to EC2 and ecua2ools from base
devstack.

[1] https://git.openstack.org/cgit/openstack/ec2-api

Change-Id: I8a07320b59ea6cd7d1fe8bce61af84b5a28fb39e"
brantlk,2016-03-14 19:54:18,https://api.github.com/repos/openstack/devstack/git/commits/9f5e7ba1004dcc4b9f1f0cbe94f61d0120baff0c,9f5e7ba1004dcc4b9f1f0cbe94f61d0120baff0c,"Update gitignore for docs

These files are created when generating docs and should not be
checked in.

Change-Id: I1dc4ca05ab522237328f79f3a855750b8202f5da"
brantlk,2016-03-11 14:30:05,https://api.github.com/repos/openstack/devstack/git/commits/4abcfaa86e7bb8827bc1b8b0e48352a0b748446f,4abcfaa86e7bb8827bc1b8b0e48352a0b748446f,"uwsgi keystone under master process

Normally a standalone uwsgi server would run in ""master"" mode -- it
handles signals to reload the processes. I tried this originally
with keystone but found that the server didn't shut down when
unstacking. The reason it didn't shut down is because (by default)
uwsgi does a reload on SIGTERM & SIGHUP rather than shutting down by
default, see [1].

Setting ""die-on-term = true"" & ""exit-on-reload = true"" changes the
uwsgi server to shut down when unstacking.

[1] http://uwsgi-docs.readthedocs.org/en/latest/Management.html#reloading-the-server

Change-Id: I145fef185d4a31078295941779e175b7452a5760"
brantlk,2016-03-14 18:57:01,https://api.github.com/repos/openstack/devstack/git/commits/0d38e2d5d87e98552692f4c177df3a216bfac9dd,0d38e2d5d87e98552692f4c177df3a216bfac9dd,"Cleanup duplication in keystone uwsgi options

There was a lot of duplication in the uwsgi options between the
admin and public config files. The options common to both are
moved into their own section.

Change-Id: I5519c7d4d8b8446a7a5fdb8033852655d8a2c67b"
stevemar,2016-03-12 03:37:27,https://api.github.com/repos/openstack/devstack/git/commits/84f6c0fa6838ffa06aafb17c460a3990c10f4443,84f6c0fa6838ffa06aafb17c460a3990c10f4443,"remove the keystone bash completion install step

keytone has removed it's CLI and will release a new version
when Newton begins. As part of the removal process we also
need to remove the bash completion script, which is currently
failing devstack gates.

Change-Id: I132b862bde5b4173bf34beae12a7a882f5a96314"
dtroyer,2016-03-10 21:45:40,https://api.github.com/repos/openstack/devstack/git/commits/9ba49cd82631ada84b8458b370ac535985d57725,9ba49cd82631ada84b8458b370ac535985d57725,"Remove rejoin-stack.sh

This command has never completely worked to restart DevStack.
It periodically prompts attempts to work around this brokenness
in ways that harm other functions.  Let's finally remove it.

Requiring a complete re-run of DevStack after a reboot has always
been intentional.

TODO: follow-up cleaning all of the screen hackage if this merges.

Change-Id: I2f61bb69cc110468a91dcaa4ee7653ede7048467"
sc68cal,2016-03-10 17:23:09,https://api.github.com/repos/openstack/devstack/git/commits/6b1f49910e1c55bd7a3fbc8d23ad97aa96225361,6b1f49910e1c55bd7a3fbc8d23ad97aa96225361,"Tip for single interface runs that are started remotely

Change-Id: I6e2870b5c409dd81a34cd9934f540d9558642f91"
sc68cal,2016-03-09 18:02:25,https://api.github.com/repos/openstack/devstack/git/commits/f0e5d230437c643b868d78c04dbc8a02df83c1e8,f0e5d230437c643b868d78c04dbc8a02df83c1e8,"Neutron guide: Add missing newline for code block

Change-Id: I4eb5ec05d9db525158d47c7b16bef04fb3965f1a"
sc68cal,2016-03-08 20:25:16,https://api.github.com/repos/openstack/devstack/git/commits/d1ee4cfdf935bc62a7752592624991f0646c501a,d1ee4cfdf935bc62a7752592624991f0646c501a,"Remove check for OVS_VERSION < 1.4

1.4 was released in 2012. I think we can assume everyone is running
something newer.

http://openvswitch.org/releases/NEWS-1.4.0

Change-Id: I3cfe99d2647800ae3ffb32c9e6749d03224c2967"
ronaldbradford,2016-03-08 15:19:48,https://api.github.com/repos/openstack/devstack/git/commits/8ff298a8715d39d8ac260afba1593b6ecf95b0ce,8ff298a8715d39d8ac260afba1593b6ecf95b0ce,"Updated deprecated keystone_authtoken option

* memcache_servers is a deprecated name for memcached_servers.
  See: keystonemiddleware/auth_token/__init__.py#n287

NOTE: memcache_serves in the cache section is valid option for
    oslo.cache.  See oslo_cache/_opts.py#n65

Depends-on: Id65f1bff8e38c777fa406d88ac6a2355d6033d94
Change-Id: I3e1230b139e710a0433e71ce118ca246d7c6a0e6"
sdague,2016-03-08 17:00:15,https://api.github.com/repos/openstack/devstack/git/commits/6fff3cc03589cb0fdf02b4bedf1c35bcb000f28d,6fff3cc03589cb0fdf02b4bedf1c35bcb000f28d,"Fix sorting on LC_ALL=C platforms

We made assumptions on the platform for sorting purposes, which turned
out to break with new images being deployed. Explicitly setting LC_ALL
should make this work.

Change-Id: Id65f1bff8e38c777fa406d88ac6a2355d6033d94"
jamielennox,2016-03-08 01:24:52,https://api.github.com/repos/openstack/devstack/git/commits/32bf2c4f6f36dbe6e0b68143810b0f4e5b5ae3b8,32bf2c4f6f36dbe6e0b68143810b0f4e5b5ae3b8,"Use extended keystone-manage bootstrap parameters

Use the additional keystone-manage parameters to setup the identity
endpoint in the service catalog rather than manually fetching a token
for this.

Change-Id: I6f5be1df205dee8f3251b4eb413e00ae64f00f07"
matthewoliver,2016-03-07 07:21:29,https://api.github.com/repos/openstack/devstack/git/commits/7b85723c0421affdb82a201bf4231c4d00c18599,7b85723c0421affdb82a201bf4231c4d00c18599,"Set the Swift max_file_size to 1/2 the loopback

Currently Devstack (and devstack gate) uses the default
max_file_size of for Swift (5GB). However the loopback file
is only 1 or 2 GB is size.

We are looking at setting a default FALLOCATE_RESERVE in swift
https://review.openstack.org/#/c/288011.
Because of this our max file size test fails due to the max_file_size
and devstacks loopback size being too small.

This patch sets this to a more sane size by default inside DevStack.
See the gerrit link above for more details.

Tempest uses a loopback of 6GB, so in this case the swift default of 5GB
should be fine.

Change-Id: If09eab7d16ae67bd252020e00e8812ff252f065b"
tracyajones,2016-03-07 18:49:51,https://api.github.com/repos/openstack/devstack/git/commits/a440bf8629ac4103244ab090a471f68852412a1c,a440bf8629ac4103244ab090a471f68852412a1c,"Ignore vmdk files as well as other image types

Change-Id: I012b21181f1e54a1e4a3707b0fdf8c0afa6222c2"
ianw,2016-03-07 03:00:58,https://api.github.com/repos/openstack/devstack/git/commits/c709d50afed14308c3cef4a823f440ca7972ba6f,c709d50afed14308c3cef4a823f440ca7972ba6f,"Update bashate to 0.5.0

Update bashate to 0.5.0 release.  We got things ready for this with
I3fd5d55236e90c2f2c25243af87adaf0c1b763e2.

I'm not sure what I was thinking in
I9e4b1c0dc9e0f709d8e76f9c9bf1c9478b2605ed when I added "".orig"" files
to the list of files to check.  Ignore diff/merge files.

Change-Id: I8bb0c8b39972abb775b4e5556e79d2e17005bc8c"
ianw,2016-03-06 23:25:41,https://api.github.com/repos/openstack/devstack/git/commits/c21194875e8dc4dd7a2c4150c6b5ae017e65c35d,c21194875e8dc4dd7a2c4150c6b5ae017e65c35d,"Add some notes on trove image

The trove image is one of the larger ones we cache, and after
double-checking it is still used as part of the
gate-tempest-dsvm-trove tests (although integration tests seem use
their own dib-built version)

Add some notes to clarify the situation with this image.

Change-Id: I2319dd5811d6bd215d1e8778eca5b4c9399f0efb"
sdague,2016-03-04 16:08:32,https://api.github.com/repos/openstack/devstack/git/commits/f21cc1fd9664575dbc9c31cff1b09ac16fdef985,f21cc1fd9664575dbc9c31cff1b09ac16fdef985,"Use new use_neutron variable

This uses the new use_neutron variable instead of the crazy class
path. This helps us test the use of this in our jobs.

Change-Id: Ic6d0cc4b7a0df6b3f5336ee58886f7edff26e846
Depends-On: I1c2eb51d10ba6370492a911f59370b9870646a38"
mtreinish,2016-03-04 15:36:10,https://api.github.com/repos/openstack/devstack/git/commits/6cf412bb7ee2f667c38cf113440018b1ffcc7546,6cf412bb7ee2f667c38cf113440018b1ffcc7546,"Update account generator calls with correct password

Change I380dd20e5ed716a0bdf92aa02c3730359b8136e4 updated the tempest
configuration to stop creating a bunch of globals. But as part of
that refactor it started using $admin_password as the password
argument for tempest-account generator, which is never defined.
This commit rectifies the situation by using the correct variable
$password.

Change-Id: Ieeed58751e5784020e04bcc2911ac74791662110"
toabctl,2016-03-04 15:06:24,https://api.github.com/repos/openstack/devstack/git/commits/c15d59157c4aab0147ab5d388642c6c08cae875a,c15d59157c4aab0147ab5d388642c6c08cae875a,"Ignore errors when uninstalling a pkg with zypper

I.e. when trying to uninstall python-pip and it's not installed,
don't exit.

Change-Id: I21ac715a0090ad01811af47f23c61823dfa65629"
toabctl,2016-03-03 11:11:15,https://api.github.com/repos/openstack/devstack/git/commits/dab3901d9aa9d4485495d066c58a3e82c76e2261,dab3901d9aa9d4485495d066c58a3e82c76e2261,"Use ""command -v"" instead of ""which"" to find path

If /usr/bin/which is not available, the current code
doesn't detect i.e. /usr/bin/zypper . Using ""command -v"" solved
the problem.

Change-Id: I1c281c3184d69cd9dc2418295b6a392d8e5693e0"
twm2016,2016-02-26 17:44:57,https://api.github.com/repos/openstack/devstack/git/commits/5fe81c50a2606b9763676e40b4a1083c5a72e58a,5fe81c50a2606b9763676e40b4a1083c5a72e58a,"Add error handling for euch.sh volume creation

Error handling for volume creation calls die with the appropriate
 message.

Change-Id: Ib095992384edf895aaf78cb4115702d6a0675a3f
Closes-Bug: #1206180"
booxter,2016-03-03 14:30:49,https://api.github.com/repos/openstack/devstack/git/commits/7976aacdf6827558d01fffa0320fcc9354e32094,7976aacdf6827558d01fffa0320fcc9354e32094,"worlddump: log command failure details

If a command we trigger fails for some reason, it's worth logging
details about the failure (like return code).

Change-Id: Ib19aa474eccdd11e138a4f55e125935b621bca05"
umago,2016-03-03 10:33:17,https://api.github.com/repos/openstack/devstack/git/commits/f85a7e90f02ca691545cba2d2ce03aef671c9f15,f85a7e90f02ca691545cba2d2ce03aef671c9f15,"Ironic: Set DEFAULT_IMAGE_NAME to full disk image for agent

The agent_* drivers in Ironic are not yet capable of deploying partition
images. The code in DevStack was aware of that but it was looking at the
agent_ssh driver specifically.

This patch is fixing this assumption and extending that conditional for
all agent drivers.

Change-Id: I416faa9ef6fba9621cd664d5a0747b1e80e281d1"
toabctl,2016-03-03 10:27:53,https://api.github.com/repos/openstack/devstack/git/commits/899dfeef466914c6695e6f3baa1c6576e784da8f,899dfeef466914c6695e6f3baa1c6576e784da8f,"Fix lsb installation for SUSE

zypper has a ""-n"" (non-interactive) switch. ""-y"" is not known
as a global option.

Change-Id: I6537529e91c12c5f0d15a9faa2cca8aedaf7d956"
rhafer,2016-03-02 14:25:57,https://api.github.com/repos/openstack/devstack/git/commits/37dddb73fd17308fa3fbb127f6e49c1bb06f89e7,37dddb73fd17308fa3fbb127f6e49c1bb06f89e7,"Fix is_suse() check for openSUSE distros

We need to do a substring match on the vendor here. As most releases return
""openSUSE project"" for the vendor.

Change-Id: Ia05db8d93b5e3f42cb6a9c8d77616ca9f7c32039"
matrohon,2016-02-25 10:00:36,https://api.github.com/repos/openstack/devstack/git/commits/0c985c8627da3db8c9766724e07295c726ac63df,0c985c8627da3db8c9766724e07295c726ac63df,"Disable nova calls from tempest when heat is enabled

This patch ensures that lib/tempest doesn't call nova when heat is
enabled and nova is disabled.

Change-Id: I2debbae1bb82ecace1058e99ab172272393fb5ea
Closes-bug: #1549708"
ianw,2016-03-01 02:14:39,https://api.github.com/repos/openstack/devstack/git/commits/1b1cc8c1d491b1469c7082d28d3e4a3a8a4a4fd9,1b1cc8c1d491b1469c7082d28d3e4a3a8a4a4fd9,"yum_install_package: fix errexit and retry

Since I93e9f312a94aeb086925e069a83ec1d3d3419423 yum_install isn't safe
under errexit.  This means it really only works when called by
tools/install_prereqs.sh because for some reason, we don't set that
there.

However, there is a problem with the retry logic when detecting failed
installs.  A failed package install should stop further progress, but
with the current retry logic it just goes ahead and retries the
installation, which then incorrectly passes.  You can see this
happening in a test like [1].

In our detection scripts, make a failed package or missing packages
exit with error-code 2, and ""die"" when we see this to correctly stop.

[1] http://logs.openstack.org/81/285881/1/check/gate-tempest-dsvm-platform-fedora23-nv/a83be30/logs/devstacklog.txt.gz

Change-Id: I4ea5515fa8e82a66aefa3ec3a48b823b645274f7"
skazi0,2016-02-26 22:14:54,https://api.github.com/repos/openstack/devstack/git/commits/3ded0dbba567e81f49c1b82c1b03853486d1da74,3ded0dbba567e81f49c1b82c1b03853486d1da74,"Disable tempest tox venv recreation in OFFLINE mode

Setting OFFLINE=True in local.conf should enable stack.sh to run multiple
times without an internet connection. This was broken for some cases
when recreation of tox venv for tempest was forced in lib/tempest.

This change makes recreation of tox venv enabled only when OFFLINE mode is
disabled.

Change-Id: I2bf6caf60038a3690378eead905b35e9175ac356
Closes-Bug: #1550537"
molecul,2015-12-15 13:14:26,https://api.github.com/repos/openstack/devstack/git/commits/b65cf0aae40a69d5935a248b690187770ad366e3,b65cf0aae40a69d5935a248b690187770ad366e3,"Add Glance Artifact API in devstack installation

Since EXPERIMENTAL Glance v3 API has been removed in favor of
standalone API implementation was added we need to add some
changes in devstack to support it.

Implements blueprint: move-v3-to-glare
Depends-On: I5b7bd4cdcc5f2a40fc4a5f74bcc422fd700c4fb0

Change-Id: Iced3c68010eb6bcd2a6a1ec8f1c6883f84cbe77f"
ianw,2016-02-29 04:15:39,https://api.github.com/repos/openstack/devstack/git/commits/3c60168532b9202baa6d163d3501d8323239eb5b,3c60168532b9202baa6d163d3501d8323239eb5b,"Also detected failed packages in dnf/yum wrapper

As seen in [1]; dnf can output a ""Failed:"" section when installation
issues with a package are detected.  This does not, however, trigger
an exit failure code when running with ""-y"".  So add this to our
checking wrapper.

[1] http://logs.openstack.org/49/280449/1/check/gate-tempest-dsvm-platform-fedora23-nv/dc70ca8/logs/devstacklog.txt.gz#_2016-02-28_22_42_45_145

Change-Id: I12f7b3bc9e9cf5a97114082d3a634a42742843d5"
nikolay-fedotov,2016-02-24 16:07:18,https://api.github.com/repos/openstack/devstack/git/commits/7f66503de0dcfce6884f2dbe08fa5fd4ee9b05e3,7f66503de0dcfce6884f2dbe08fa5fd4ee9b05e3,"Use SCREEN_NAME variable instead of hardcode in unstack and rejoin scripts

Change-Id: I7382eccf96d14df223777cd43344d554b8452a77"
anguslees,2016-02-09 05:56:55,https://api.github.com/repos/openstack/devstack/git/commits/58467e2102824e92655f448fd6cb55f8820a4cf7,58467e2102824e92655f448fd6cb55f8820a4cf7,"nova.conf: Set privsep_osbrick.helper_command

When os-brick starts using privsep, it will need to know how to invoke
its privileged half.  Amazingly the name of the rootwrap executable
isn't anywhere else in the config, so the privsep default uses just
""sudo"" (no rootwrap).

We need to either:

1. set the privsep command line to use nova-rootwrap in nova.conf (and
   similar in other configs), or

2. add the privsep-helper line to sudoers and bypass rootwrap entirely.

This change implements (1) for devstack (nova only for now, cinder to
follow shortly).

Change-Id: I90dc41bc77993bd83b80c92286e015e14f290b45"
anguslees,2016-02-14 23:53:20,https://api.github.com/repos/openstack/devstack/git/commits/8a6d7678b58c3dc834fec343332020d624e4006a,8a6d7678b58c3dc834fec343332020d624e4006a,"cinder.conf: Set privsep_osbrick.helper_command

When os-brick starts using privsep, it will need to know how to invoke
its privileged half.  Amazingly the name of the rootwrap executable
isn't anywhere else in the config, so the privsep default uses just
""sudo"" (no rootwrap).

We need to either:

1. set the privsep command line to use cinder-rootwrap in
   cinder.conf (and similar in other configs), or

2. add the privsep-helper line to sudoers and bypass rootwrap entirely.

This change implements (1) for devstack/cinder and is similar to the
corresponding nova change in I90dc41bc77993bd83b80c92286e015e14f290b45

Change-Id: I8a0b1728cc66c4861f69623b1b16b1f759b57b25"
cdent,2016-02-23 15:38:43,https://api.github.com/repos/openstack/devstack/git/commits/57d79673d9f80b96e4bddc99bd8cfe95abea0103,57d79673d9f80b96e4bddc99bd8cfe95abea0103,"Skip ovs_ and ebtables_dump if needed commands not present

Skip with a notification that a command was not found when trying
to run a dump that relies on optional external command.

Otherwise we produce noise in the error output that is misleading.

Change-Id: I0e3d99da8c54d2912463ecba7c1783864a7c7fc7
Closes-Bug: #1548833
Closes-Bug: #1506873"
zhangjinnan,2016-02-22 15:01:47,https://api.github.com/repos/openstack/devstack/git/commits/bb16c87a2164dcea36bcb3836793d99265dca01e,bb16c87a2164dcea36bcb3836793d99265dca01e,"Ignore files created by pkg/elasticsearch.sh

When running pkg/elasticsearch.sh the following files are created:

.localrc.password
files/elasticsearch-1.4.2.noarch.rpm
files/elasticsearch-1.4.2.noarch.rpm.sha1.gen
files/elasticsearch-1.4.2.noarch.rpm.sha1.txt


Change-Id: Ie2ab8b7fe72f51cb350e1f46ca97570b84047ac4
Closes-Bug: #1548201"
sileht,2016-02-23 11:57:02,https://api.github.com/repos/openstack/devstack/git/commits/13fe6f59d1b6d209bf770b0959d408ee1a8fb659,13fe6f59d1b6d209bf770b0959d408ee1a8fb659,"Fix telemetry integration gate jobs

Since https://review.openstack.org/#/c/281779/2 have been
merged the telemetry integration job is broken.

Unfortunatly, it can't be fixed on our side, because we have to
rename SERVICE_TENANT_NAME in many devstack plugin, we can't merge thing
until all plugins have been fixed.

So this change restores SERVICE_TENANT_NAME, to be able to switch to SERVICE_PROJECT_NAME.

Related-bug: #1548634
Change-Id: I14ebf23aa63f0f153b934ad213a6209d22e73e9d"
assafmuller,2016-02-22 22:38:17,https://api.github.com/repos/openstack/devstack/git/commits/f5515409d5253b9063f421cf37f45ddfc062aa90,f5515409d5253b9063f421cf37f45ddfc062aa90,"Change default subnetpool size

Commit 7dbcfae introduced a subnetpool needed for the
auto-configured-topology Neutron extension. However, it allows
only up to 4 tenants, then you'd hit an error about no more
available IPs. This patch changes the size of the subnetpool
and the subnets it creates.

Change-Id: I4f43bebc52fb20e39853a1632fe31506958f5071"
brantlk,2016-02-22 19:49:52,https://api.github.com/repos/openstack/devstack/git/commits/d8589fa01a57feccc2d20a72307098b7e3eeb1d3,d8589fa01a57feccc2d20a72307098b7e3eeb1d3,"Fix uwsgi keystone

The uwsgi keystone jobs are failing with an error like

 + devstack/functions-common:_run_process:L1391:   setsid uwsgi /etc/keystone/keystone-uwsgi-admin.ini
 + devstack/functions-common:_run_process:L1395:   exit 0
 execvp: No such file or directory

I think this is because uwsgi isn't installed on the images. The fix
is to pip install it.

Also, use the full path to the uwsgi executable (even though execvp
is used) because eventlet (calling keystone-all) does.

Also, the uwsgi process wasn't shutting down on ./unstack.sh. This
is worked around by not running master process.

Change-Id: Id02e16c5149ba3dfa13051e87cfccd8e505b7362"
sdague,2016-02-18 11:53:08,https://api.github.com/repos/openstack/devstack/git/commits/0f7653587ecf22d3461775ad9da77a7090334b74,0f7653587ecf22d3461775ad9da77a7090334b74,"localize user/project variables in tempest

lib/tempest is using / setting a ton of globals, a lot which don't
look used. As a first step to converting over to s/tenant/project/
make all of these local which means they can not be impacting anything
outside of this function. That will make them safe to change names
later.

Change-Id: I380dd20e5ed716a0bdf92aa02c3730359b8136e4"
sdague,2016-02-17 11:23:36,https://api.github.com/repos/openstack/devstack/git/commits/7580a0c3e37932a8fc03750d35ccd4e13e18f8c4,7580a0c3e37932a8fc03750d35ccd4e13e18f8c4,"Replace TENANT => PROJECT phase 1

This replaces the use of TENANT variables with PROJECT ones during the
initial setup. The openrc will still export a OS_TENANT_NAME because
many tools (cinderclient, glanceclient amoung them) will not function
without it. We warn when we do that.

Change-Id: I824b1121842eb5821034071874bf1bb2d7c3631e"
amotoki,2016-01-13 14:01:39,https://api.github.com/repos/openstack/devstack/git/commits/2688eedc51fc7b4ef0a5332c1aafce8a557928da,2688eedc51fc7b4ef0a5332c1aafce8a557928da,"Remove Neutron VMware NSX plugin files completely

override-defaults mechanism allows us to define
s_neutron_plugin_security_group before loading lib/neutron,
and we no longer need to have a plugin-specific file in
the master DevStack repository.

Change-Id: Ib0f6e3d9463357d2dd66a2d61b8c722fa1f0bfba
Depends-On: I8b19b8f1b0694a96132f158146848aee7d14e8ff"
armando-migliaccio,2016-02-19 22:43:42,https://api.github.com/repos/openstack/devstack/git/commits/7dbcfae7033a244e0ebeaa8e116f1c9364c23d48,7dbcfae7033a244e0ebeaa8e116f1c9364c23d48,"Provision deployment requirements for get-me-a-network

Neutron implemented an extension to allow users to automatically
provision a basic network topology to connect their instances.

One of the requirements for this feature is to be able to mark
an external network to be the one to be used for external
connectivity. Another requirement is subnetpools, which are
used to determine the IP space to allocate for private tenant
networks.

This patch codifies these requirements. The provisioning
needs to be  made conditional  based on the extensions
needed for this to work correctly.

Partially-implements: blueprint get-me-a-network

Change-Id: I43ce5d65e754f131f7ca1ce2088a397d266cf821"
ianw,2016-02-19 03:28:37,https://api.github.com/repos/openstack/devstack/git/commits/1ff75ff87fc2a46d1f88918d94be48e5d59e3aab,1ff75ff87fc2a46d1f88918d94be48e5d59e3aab,"Always strip package comments

In the ""I can't believe I missed this"" category -- the existing strip
method removes shortest match (%); which fails when you put another #
in the comment (like ""refer to bug#1234"").  Change to the longest
match which should strip everything from the first ""#"" to the end
(since that's going to be the longest).

Change-Id: I47f5e710ebd87b0f54549732e7d64cf42c7a6b65"
chungg,2016-02-18 20:50:01,https://api.github.com/repos/openstack/devstack/git/commits/b9201ccbbff301fea18fae56696b59bb7f68189d,b9201ccbbff301fea18fae56696b59bb7f68189d,"fix postgres service name

in fedora postgresql is the service name and postgresql-server is
the package.[1]

os: Fedora release 23 (Twenty Three)
psql: psql (PostgreSQL) 9.4.5

i'm not entirely sure when this changed, but it's devstack is broken
in above environment.

[1]https://fedoraproject.org/wiki/PostgreSQL

Change-Id: Id940fed2a777ca469ce77402e1136251ba572359"
umago,2016-02-18 15:52:22,https://api.github.com/repos/openstack/devstack/git/commits/8a4dea24faa51e79507aa3f1655cea46a382e95d,8a4dea24faa51e79507aa3f1655cea46a382e95d,"Ironic: Update is_ironic_hardware function

The DevStack module of Ironic added a new configuration variable called
IRONIC_IS_HARDWARE that can be set to True/False to indicate that we are
setting up devstack to deploy physical or virtual machines (see the
depends flag). Prior to that, the devstack code assumed that if the
driver name loaded is != *_ssh then it's a physical hardware but now we
need to kill this assumption because we have means (see the virtualbmc
utility) to test drivers such as pxe_ipmitool and agent_ipmitool using
virtual machines.

Depends-On: I5edc51c7fc8b6f0bb7fe4ca129596709a32eb93e
Related-Bug: #1544642
Change-Id: I8b6363bbe280ddd2720c570851bc40e2804a40e2"
armando-migliaccio,2016-02-17 02:23:47,https://api.github.com/repos/openstack/devstack/git/commits/14a7148f41f859c0b42641596d7d9f2c0fa295ef,14a7148f41f859c0b42641596d7d9f2c0fa295ef,"Revert ""Fix stack failure when default subnetpool is set""

This reverts commit 8a3b7d424d8edf53d0560db48247e6bca11176ee.

This change masked a non-backward compatible change made to the
Neutron core API. This is being cleaned up and thus this workaround
is no longer required.

Depends-on: Idf516ed9db24d779742cdff0584b48182a8502d6

Change-Id: I6695a6e17df1a395ada4ecf2b063b2c20870d99d"
li-ma,2016-01-19 11:11:51,https://api.github.com/repos/openstack/devstack/git/commits/a15d9de92f724baebea0c202b14c2220df68e2a9,a15d9de92f724baebea0c202b14c2220df68e2a9,"Kill radvd when stopping neutron-l3 service

When stopping neutron-l3 service, radvd should be
stopped.

Change-Id: I46416c1df3a4da66e863a16baeb73886e110d447
Closes-Bug: #1535661"
ianw,2016-02-16 03:50:53,https://api.github.com/repos/openstack/devstack/git/commits/7ae97298c55d9ba21d2dc037cc7d9fae54afa183,7ae97298c55d9ba21d2dc037cc7d9fae54afa183,"Minor fixes for bashate trunk

We don't have a new bashate release yet, but this fixes some minor
issues when used with bashate trunk.

The only two things triggered are stricter checking of assignment in
local declartions (catches quotes) and one instance of evaluating
arithmetic result in tools/xen/functions.

Therefore, hopefully, this change has no effect!

Change-Id: I3fd5d55236e90c2f2c25243af87adaf0c1b763e2"
ianw,2016-02-16 03:35:51,https://api.github.com/repos/openstack/devstack/git/commits/76d05400ec64fc4f177f9dc9ad8d821fceae5e05,76d05400ec64fc4f177f9dc9ad8d821fceae5e05,"Update to bashate 0.4.0

Update to bashate 0.4.0.  The biggest change in this is that bashate
does a syntax check with ""bash -n"" which can be useful

Change-Id: Iff625ef2181dfaba28349dc17de0749faddec539"
the2hill,2016-02-15 22:07:50,https://api.github.com/repos/openstack/devstack/git/commits/96006658bedbdfa98e4d0685852f057aeb2ae1a6,96006658bedbdfa98e4d0685852f057aeb2ae1a6,"Add LinuxMint to distro check

Adds LinuxMint to the distro checking. This allows linux mint with
the FORCE option to run. This will not fix for other distros that
do not pass the checks.

Change-Id: I42599c1bd851d2b61a56a3960f42ad051aab1727
Closes-Bug: #1545864"
ianw,2016-02-15 23:56:56,https://api.github.com/repos/openstack/devstack/git/commits/ed92e43178b4f910adc038d1b0b6788e21513f32,ed92e43178b4f910adc038d1b0b6788e21513f32,"Add some notes on DISTRO setting

It was pointed out in I42599c1bd851d2b61a56a3960f42ad051aab1727 that
after I46a2c36d95327087085df07cb797eb91249a893c we now die if we can't
determine DISTRO, rather than take a guess.

After some consideration, I don't consider this a regression.  This
default matching was basically only working for LinuxMint, because we
already have some matching there for setting os_PACKAGE that makes us
know the platform is Ubuntu-ish.

However, I would certainly agree it is not particularly clear as to
why.  This just adds some comments explaining why we can not just add
a default DISTRO fall-through and directs implementors on how to add
support for their platform.

Change-Id: I4b07259be1427d86a7154906646073d08dd07294"
brantlk,2015-12-14 21:32:05,https://api.github.com/repos/openstack/devstack/git/commits/edc11c2f834e45dea9c9c0fcda21369d2afa30e2,edc11c2f834e45dea9c9c0fcda21369d2afa30e2,"Keystone support deploy in uwsgi

Keystone is going to remove support for eventlet. Rather than only
have one way to run keystone (in Apache Httpd with mod_wsgi), we
should continue to gate on multiple wsgi containers to ensure that
keystone remains container-agnostic. The suggested alternative
container is uwsgi.

To run keystone in uwsgi rather than httpd or eventlet, set the
following env var in local.conf:

 KEYSTONE_DEPLOY=uwsgi

There's a lot of options to uwsgi. Here's some protips:
http://uwsgi-docs.readthedocs.org/en/latest/ThingsToKnow.html

Change-Id: If3b49879ce5181c16f0f0ab0db12fa55fe810a41"
brantlk,2016-01-25 19:38:27,https://api.github.com/repos/openstack/devstack/git/commits/a03053660a3867b4f7622303c0499a6b79292cca,a03053660a3867b4f7622303c0499a6b79292cca,"Keystone deploy switch

Currently there's a boolean KEYSTONE_USE_MOD_WSGI to switch between
running keystone in mod_wsgi and eventlet. We've got a need to
support more/different deployment options (e.g., uwsgi), so a
boolean is inadequate.

A new input variable KEYSTONE_DEPLOY is introduced that can be
set to mod_wsgi or eventlet (and other values in future) to
control how keystone is deployed. KEYSTONE_USE_MOD_WSGI is
deprecated.

Change-Id: I9b2815e6f007309f088346df9ac48e6a24ae3656"
stephenfin,2016-02-15 14:12:06,https://api.github.com/repos/openstack/devstack/git/commits/9bdd611dd25ccbc5ea0fcfd20157c2b7ef86b636,9bdd611dd25ccbc5ea0fcfd20157c2b7ef86b636,"lib/nova: Move 'novncproxy_host' to 'vnc' group

This option was moved in '11a42d4'. Move it, fixing the deprecation
warning in the process.

Change-Id: I567a04f6201695f1ca0d0919b1d1f769bad05964"
dougwig,2016-02-11 01:37:21,https://api.github.com/repos/openstack/devstack/git/commits/86561c347d70c5124c139eb80fe1c0466e5a62f2,86561c347d70c5124c139eb80fe1c0466e5a62f2,"Enable neutron-lib for LIBS_FROM_GIT for backwards compat jobs

Change-Id: I8dd84c59d2ec3a7c01ff4f1aaf7fa61d7466cfd5"
booxter,2016-02-11 12:50:46,https://api.github.com/repos/openstack/devstack/git/commits/c1b7cb11171a55ba21ab4597977dea0ba6bc7b2d,c1b7cb11171a55ba21ab4597977dea0ba6bc7b2d,"worlddump: include Open vSwitch info

This may be useful when debugging neutron gate failures.

Change-Id: Iea3589456d2b05d233ba88523a5bd4ac114a0c86"
booxter,2016-02-11 12:42:21,https://api.github.com/repos/openstack/devstack/git/commits/190b29d45e15fd7a0fddb89dbb304fb35554814e,190b29d45e15fd7a0fddb89dbb304fb35554814e,"worlddump: add empty newline after every command output

It makes it a bit easier to read the output since each new command is
now visually separated from the output of the previous one.

Change-Id: If441c61bb6f13f85f771dd31609b10d3dd1ee93c"
booxter,2016-01-30 15:18:01,https://api.github.com/repos/openstack/devstack/git/commits/72c34ee1aaddefe23b68ce2ae2d373356c283121,72c34ee1aaddefe23b68ce2ae2d373356c283121,"worlddump: collect networking stack info from namespaces

Neutron hugely relies on namespaces, so we should try to dump
internal IP stack state for non-root network namespaces.

Change-Id: Ib980d22fbf3c6b680473754fa2b1684c2ef91b72"
sdague,2016-02-11 11:31:56,https://api.github.com/repos/openstack/devstack/git/commits/629e56540f3dec14465bc88ef51c6974bac67f12,629e56540f3dec14465bc88ef51c6974bac67f12,"Revert ""reduce default lease time to 5 minutes""

We have a fix in Nova which should make this unessessary,
revert to see if that's true.

This reverts commit 61aa0e9f1968c9991dee7bb5aec9a2a63ac0339d.

Change-Id: If109af452ad583417e3a3a3ef1c9b545f1ec9b89"
cody-somerville,2016-02-11 06:23:14,https://api.github.com/repos/openstack/devstack/git/commits/baa35d06e106a74365051bf26c56faf92ec92f88,baa35d06e106a74365051bf26c56faf92ec92f88,"Add guide on running devstack in lxc container

Running OpenStack in a container can be a useful workflow for developers.
The primary benefits are faster performance and lower memory overhead
while still providing a suitable level of isolation.

The guide walks the user through procedure for configuring an LXC container
and deploying OpenStack in it using devstack. It also discusses the limitations
of this setup - particularly related to cinder.

Change-Id: I2e0921fd118cfe98cef86ba110a94b3edccf9a29"
dklyle,2016-02-09 18:01:04,https://api.github.com/repos/openstack/devstack/git/commits/076ef7f0fbf43fd10cb30abbfdf93bb9402968a9,076ef7f0fbf43fd10cb30abbfdf93bb9402968a9,"Remove CUSTOM_THEME_PATH setting

Horizon now uses the WEBROOT to populate the value of $webroot in
the CSS code. The CUSTOM_THEME_PATH pointing to the webroot theme
to explicitly set the same value is no longer necessary.

Closes-Bug: 1540801
Change-Id: Ic212796ee0905751ac3fd619bbbc902d25ea10d5"
jeckersb,2016-02-05 20:39:11,https://api.github.com/repos/openstack/devstack/git/commits/a6f3229eb02c409b2d875c9692e9d3b62e859f71,a6f3229eb02c409b2d875c9692e9d3b62e859f71,"Re-add ""redhat-rpm-config"" dependency

This was removed in commit 19363fc1e79e70d390da0f4d0a19a5ef476b11d4 as
an unneeded F21 dependency, but due to missing dependencies as
described in the bug, /usr/lib/rpm/redhat/redhat-hardened-cc1 is
required and is provided by this package.

Change-Id: I2c0c3b0198d795d947fd77005fd7528de561dfcb"
sdague,2016-02-10 12:25:24,https://api.github.com/repos/openstack/devstack/git/commits/985e958dda3e843442f76199caf63fa8b93680cc,985e958dda3e843442f76199caf63fa8b93680cc,"remove keystone templated catalog

This is just another code path for little benefit in devstack which is
going to rot out. We should be opinionated here and only support the
dynamic catalog.

Change-Id: I4e5c7e86aefe72fc21c77d423033e9b169318fec"
ionosphere80,2016-02-10 19:04:08,https://api.github.com/repos/openstack/devstack/git/commits/28af7962e99a844675e175ec23bba15378231d5f,28af7962e99a844675e175ec23bba15378231d5f,"Neutron: Change auth_plugin to auth_type

The keystoneauth1 library replaces the auth_plugin option
with auth_type. In neutron.conf, change [nova] auth_plugin
to auth_type. In nova.conf, change [neutron] auth_plugin to
auth_type.

Change-Id: Ifbd26b8999e453f4cd875e1be3ae1211bdd8fb2a"
mriedem,2016-02-09 23:13:25,https://api.github.com/repos/openstack/devstack/git/commits/8d6d116530634cdaca5ab6d3af9ca0ae1960c025,8d6d116530634cdaca5ab6d3af9ca0ae1960c025,"Install libosinfo on n-cpu nodes

As of 9de8f7230d069e4da9736f09ad5d17773315b476 nova is now attempting
to import libosinfo packages, so install them for goodness sake.

Change-Id: Ib481dda475dd2975a513052478be0007aa1cf4a8
Related-Bug: #1543288"
mtreinish,2016-02-10 04:50:54,https://api.github.com/repos/openstack/devstack/git/commits/1e31e68557205fa61929ff579e427b7ef86aa2ea,1e31e68557205fa61929ff579e427b7ef86aa2ea,"Respect constraints in tempest tox venvs

This commit is a workaround for respecting upper-constraints. Since
we're using tox to handle setting up a venv and running tempest
commands we need to manually install the constrained packages inside
the tox venvs. This patch does that for all the venvs being created by
devstack via tox. However, since tempest has additional tox jobs
defined if those are run via devstack those will default to the
default pip install -U -r requirements.txt defined in tempest's
tox.ini.

Change-Id: I7f84dfb67a3c97003947aefd8a7e3c6454106db4
Closes-Bug: #1543841"
mtreinish,2016-02-09 23:51:02,https://api.github.com/repos/openstack/devstack/git/commits/1a9e294ff398e5f3c3a0a62621b8872273aeb0f9,1a9e294ff398e5f3c3a0a62621b8872273aeb0f9,"Switch tempest verify-config usage to avoid bug

This commit will unblock the world breakage caused by the recent
cliff release. This exposes a hole in our constraints usage in
devstack. We need to fix this bug for real in devstack and cliff,
but that will take a few minutes to an hour or so. So let's just
change the usage in the meantime, we can revert this when things
are fixed for real.

Related-Bug: #1543841

Depends-On: Ic63612dc50e064a3a69b88618e394ba17e083c22
Change-Id: I19e477fa5068474bc3471307732f89adaafb2952"
JohnVillalovos,2016-02-09 21:30:58,https://api.github.com/repos/openstack/devstack/git/commits/6f013631a27a726ae45e27b209fa769d96d5f069,6f013631a27a726ae45e27b209fa769d96d5f069,"Handle case where FUNCNAME[0] is undefined

If FUNCNAME[0] is undefined and 'set -u' has been used it will cause the
devstack run to fail.

Handle undefined values in PS4.

Closes-Bug: #1543749
Change-Id: I06a013a5e7683e3a3461ff06361d867f61d48e6a"
sdague,2016-02-09 11:34:36,https://api.github.com/repos/openstack/devstack/git/commits/d6f922364e3e8a500602f65691d395ef64a077b4,d6f922364e3e8a500602f65691d395ef64a077b4,"push out some deprecations to figure out what's using these bits

There are some parts of devstack we should really delete, but we have
no idea who is using them. Push out some deprecations so we can look
at this through logstash.

Change-Id: Id5c8748606cce16f64e978ad7ac9309bebac0eb7"
morganfainberg,2016-02-02 17:09:28,https://api.github.com/repos/openstack/devstack/git/commits/da1cc5780d9501f5705a5e9844e819067514217f,da1cc5780d9501f5705a5e9844e819067514217f,"Remove microseconds from apache log(s)

Remove the microseconds from the apache logs and move back to using
milliseconds. There is no longer any 2.2 workarounds in the keystone
setup process.

Change-Id: I8787eee41fbde1f9794aeffe1e862af0d5117bc3"
cboylan,2016-02-05 20:00:18,https://api.github.com/repos/openstack/devstack/git/commits/e20cb43fd691c77919d77618bce46bc8c3e4de11,e20cb43fd691c77919d77618bce46bc8c3e4de11,"Set different cloud name for alt_demu user

Having multiple clouds with the same name in clouds.yaml confuses
openstack client config and it may not choose the intended cloud.
Unfortunately the new alt_demo user's clouds.yaml config used a
duplicate name creating confusion for clouds.yaml consumers.

Correct this by using a unique cloud name, devstack-alt, for use by the
alt_demo user.

Change-Id: I2cb8f10ab5abfedf76ead309f237730ce8ce2ad4"
sdague,2016-02-03 11:58:39,https://api.github.com/repos/openstack/devstack/git/commits/e73f88e70b9f547bb8306f1f5715c898426f87b8,e73f88e70b9f547bb8306f1f5715c898426f87b8,"tweak ps4 for readability

After staring at a bunch of logs, try to crisp up the ps4 output for
maximum readability.

This also adds PS4 to all calling scripts by having a common PS4 in
stackrc. It should make understanding when clean fails a bit more
straight forward.

Change-Id: Ia1f8dff5c1102c32c146a020a9f033c65d2c50de"
dtroyer,2016-02-03 23:40:17,https://api.github.com/repos/openstack/devstack/git/commits/50f75a9f64efc00e17028c780b6df261fc2c27ec,50f75a9f64efc00e17028c780b6df261fc2c27ec,"Followup comment fix from alt_demo user creation

Tweak a code comment based on a review comment from Steve Martinelli in
https://review.openstack.org/#/c/275121/ where the alt_demo user is now
always created.

Change-Id: I9e9a769f601e52c030e9f6953f1746788c24a185"
igordcard,2016-01-19 18:07:47,https://api.github.com/repos/openstack/devstack/git/commits/3095ff51320291b3622cacc3bf2fb1043bff8d31,3095ff51320291b3622cacc3bf2fb1043bff8d31,"Automate OVS bridge creation for multiple mappings

Allows the definition of the global variable OVS_BRIDGE_MAPPINGS (e.g.
in local.conf) to automatically trigger the creation of multiple OVS
bridges. For example:

OVS_BRIDGE_MAPPINGS=physnet1:br-br-enp0s20f1,physnet2:br-enp0s20f2

should automatically yield the creation of two bridges, respectively
associated to the two physical networks declared,
by simply running DevStack with the OVS agent enabled.

Documentation has also been added to doc/source/guides/neutron.rst.

Change-Id: I79dc0213c9d70ba628621c4c0f65481783590085
Closes-Bug: #1535835"
flaper87,2015-12-18 12:14:45,https://api.github.com/repos/openstack/devstack/git/commits/020586fab4173ea860789e459cb941c85179c739,020586fab4173ea860789e459cb941c85179c739,"Remove g-search from devstack

The g-search service was promoted to its own project and it's now called
Searchlight. This patch removes that code from devstack.

Change-Id: I9dd7ce62f0339911e025329b8a841792219ea02b"
sdague,2016-02-02 10:51:14,https://api.github.com/repos/openstack/devstack/git/commits/c67d22e2ed0eb3fa0786f4314752ab7b26758ea3,c67d22e2ed0eb3fa0786f4314752ab7b26758ea3,"make the alt_demo user during normal install

For testing reasons it's typically very useful to have a second non
admin user to cross check that it can't do a thing to the first
user. It was useful enough we always created it with tempest (though
we didn't always use it).

This makes devstack always create an alt_demo user, which is available
in occ as devstack-alt. This will help us unwind some of the keystone
v3 breaks with functional tests using keystone cli to build this
second user.

Change-Id: Iaaf02469180563e2d8c413fee0ee66ada2296cfa"
jerryz1982,2016-02-02 02:22:21,https://api.github.com/repos/openstack/devstack/git/commits/8eab6ad31b7d34f26c912e7c1e60d39bf596124a,8eab6ad31b7d34f26c912e7c1e60d39bf596124a,"make fwaas plugin and driver configurable

user can pass fwaas plugin and driver from localrc

Change-Id: Id956d4d7e62ba81f77319c199c9cb9f354b13d12"
shihhaoli,2016-02-01 21:19:12,https://api.github.com/repos/openstack/devstack/git/commits/557cc8159eaeb67587f9bb2724a6b04830688d27,557cc8159eaeb67587f9bb2724a6b04830688d27,"Fix xvpvncproxy_host config path

Fix xvpvncproxy_host config path due to Change
I1e34a0f98de125c8b8b145377835d95035e2b472.

Change-Id: I835950e75509ad54e5dc1c4a740d2e5cfed9f5a9"
sc68cal,2016-02-01 19:00:20,https://api.github.com/repos/openstack/devstack/git/commits/f81ae88c55739bbdfee7db711cc6b2e910794e05,f81ae88c55739bbdfee7db711cc6b2e910794e05,"docs: Neutron - add required newline for code formatting

Otherwise it doesn't render it as the correct HTML tag.

Change-Id: Ibc5c846824c7248c64473512e9dcfe5dd4205924"
sdague,2016-02-01 14:58:20,https://api.github.com/repos/openstack/devstack/git/commits/74b91c3eaf150eb40a5d5ab2df1533ae192ee26d,74b91c3eaf150eb40a5d5ab2df1533ae192ee26d,"Revert ""Move default Keystone API version to v3""

It seems like the fallout from this was not well sorted.
A lot of things aren't working, and there is still vestigial
v2 bits left behind.

This should have come with a much greater warning and some
spot checking of additional services working with this.

This reverts commit b162a1d58cdecfb32847b59bd341e06c26efb1ed.

Change-Id: Ia792b23119c00089542ba08879dca1c29dc80945"
cyx1231st,2016-01-29 05:11:27,https://api.github.com/repos/openstack/devstack/git/commits/b298e57c9f44081767c726a36d60caca66f604aa,b298e57c9f44081767c726a36d60caca66f604aa,"Change scheduler configurations to use entrypoints

Full class path style configuration of options scheduler_host_manager
and scheduler_driver are deprecated because of dependent changes. This
commit changes the related configurations to use entrypoints in setting
up nova scheduler in devstack.

Related to blueprint scheduler-driver-use-stevedore
Depends-On: I8c169e12d9bfacdbdb1dadf68b8a1fa98c5ea5bc
Depends-On: I3fd42ead44487a21eb5cfaf5a91209277ce30ad0

Change-Id: Iad96c270073b63719237cf9a9aa1c2dc4daa213a"
JohnVillalovos,2016-01-22 02:35:43,https://api.github.com/repos/openstack/devstack/git/commits/09883c0a1801daaacd26a7a38d1b72a1b2dbb4e9,09883c0a1801daaacd26a7a38d1b72a1b2dbb4e9,"Set PS4 in stack.sh to provide additional debug info

Add:
export PS4='+(${BASH_SOURCE}:${LINENO}): ${FUNCNAME[0]:+${FUNCNAME[0]}(): }'

To stack.sh to provide additional debug info. This will show the
filename, line number, function name, and the content of the line.

An example output line:
+++(/opt/stack/old/devstack/functions-common:675): get_field(): local data field

Info on this PS4 variable found at:
http://wiki.bash-hackers.org/scripting/debuggingtips

Change-Id: I272df6c79f6ff7afa8f102da24706558d9169eda"
sc68cal,2016-01-25 14:10:52,https://api.github.com/repos/openstack/devstack/git/commits/2977b300132b1006c30d851f5d1a259c009e10ec,2977b300132b1006c30d851f5d1a259c009e10ec,"docs: Linux Bridge configuration for Neutron

Add a section for single interface networking with Linux Bridge.
Change-Id: I595bc539297bf02182db5a33eeb44360e9eef9a3"
j-griffith,2016-01-27 18:30:22,https://api.github.com/repos/openstack/devstack/git/commits/2d57f2f88d647dc7433e873f10546242c7fad0f6,2d57f2f88d647dc7433e873f10546242c7fad0f6,"Remove lib/cinder_backends/solidfire

This was something we used a while back, but since support
for sections was added to devstack local.conf parsing we
don't need this, and actually prefer just using the
sections in local.conf.

Here's an example of how to achieve the same thing via
local.conf sections:

CINDER_ENABLED_BACKENDS=solidfire
TEMPEST_VOLUME_DRIVER=SolidFireDriver
TEMPEST_VOLUME_VENDOR=""SolidFire Inc""
TEMPEST_STORAGE_PROTOCOL=iSCSI

[[post-config|$CINDER_CONF]]
[DEFAULT]
CINDER_ENABLED_BACKENDS=solidfire
[solidfire]
volume_driver=cinder.volume.drivers.solidfire.SolidFireDriver
san_ip=192.168.160.3
san_login=admin
san_password=admin
volume_backend_name=solidfire

Change-Id: I8068fd4fb14510b15c31edf490283454f167f6c6"
morganfainberg,2016-01-25 04:36:35,https://api.github.com/repos/openstack/devstack/git/commits/a8ffe8a4734ceb7dc82ae50addcda96b84e934b7,a8ffe8a4734ceb7dc82ae50addcda96b84e934b7,"Enable keystone caching

Enable keystone caching since there is now a memcache server available
for the middlewares to cache validation. Offload queries to the
keystone backend to memcache as well.

Change-Id: I6d1d28f5b974e79d44d1e86ea53c666e3f5771df"
MikeSpreitzer,2016-01-26 19:06:17,https://api.github.com/repos/openstack/devstack/git/commits/4baa4ce2b3ad5450b9eb3f59b61da80ffc990113,4baa4ce2b3ad5450b9eb3f59b61da80ffc990113,"Document using Q_ML2_PLUGIN_PATH_MTU

I tested it, and it works!

Change-Id: Ic345ededc37b2e0b7b5dbeb397aa55540d5c3bd8
Related-Bug: #1527675"
pauloewerton,2016-01-22 19:13:31,https://api.github.com/repos/openstack/devstack/git/commits/b162a1d58cdecfb32847b59bd341e06c26efb1ed,b162a1d58cdecfb32847b59bd341e06c26efb1ed,"Move default Keystone API version to v3

This patch sets Keystone v3 as default in services
configuration files and in the openrc and stackrc scripts.

Change-Id: I24546f02067ea23d088d383b85e3a78d7b43f165
Partially-Implements: bp keystonev3"
ronaldbradford,2016-01-20 21:16:33,https://api.github.com/repos/openstack/devstack/git/commits/e826490a437e13a493f53b7751bea58dff2b30f5,e826490a437e13a493f53b7751bea58dff2b30f5,"Simplify oslo.log configuration options

Use the preferred logging_user_identity_format option to specify an alternative context format
in log files.  The removal of defining logging_context_format_string brings this more inline
with optimal production configuration of using the defined default.  logging_user_identity_format
is set in devstack to maintain current compatibility of names instead of ids.

Change-Id: I3807d76b91b6cc1614b4a9a203509f8e1ad7146d"
boris-42,2016-01-25 20:32:32,https://api.github.com/repos/openstack/devstack/git/commits/fadebe1be337e076109860f28b213f327fc95283,fadebe1be337e076109860f28b213f327fc95283,"Fix OSprofiler installation from Git

Without this line DevStack fails to install OSprofiler from git

Change-Id: I0fe0e10bcece51759fbf4fd4a533b01501414d6d"
gaowanlong,2016-01-25 09:59:31,https://api.github.com/repos/openstack/devstack/git/commits/75446deea06107fa63a7f08990f0de26e5761833,75446deea06107fa63a7f08990f0de26e5761833,"Remove the pip version pinning to < 8

The pip issue pypa/pip#3384 has already been fixed after pip 8.0.1
released. But leave the facility to easy flip this on in the future.

TrivialFix

Change-Id: I49658ce4056c773943321270defd461bbf3e9fb9"
sdague,2016-01-25 13:27:06,https://api.github.com/repos/openstack/devstack/git/commits/5544c4a74fb985d10bc3f27fa7778a5824248979,5544c4a74fb985d10bc3f27fa7778a5824248979,"always default to floating ips for validation

fixed ips are not cross host accessible in our current config. So
always configure tempest to use floating ips.

Change-Id: I1cf605229070024c9d5d29c7a08967aa505fda7b"
gaowanlong,2016-01-19 00:53:37,https://api.github.com/repos/openstack/devstack/git/commits/40e2f508e42a793379c3bd1184bf1b7f36faa4d4,40e2f508e42a793379c3bd1184bf1b7f36faa4d4,"Remove option 'DEFAULT/verbose'

Option ""verbose"" from group ""DEFAULT"" is deprecated for removal.
Its value may be silently ignored in the future.

If this option is not set explicitly, there is no such warning.
Furthermore, the default value of verbose is true, so there is
no need to set this value in config files.

TrivialFix

Change-Id: I581238e661c2eb0c29dd915d1b1e4773dcdeb4c8"
markuszoeller,2016-01-22 15:35:28,https://api.github.com/repos/openstack/devstack/git/commits/19363fc1e79e70d390da0f4d0a19a5ef476b11d4,19363fc1e79e70d390da0f4d0a19a5ef476b11d4,"remove ""redhat-rpm-config"" (F21 dependency)

Commit d5004a380294e05963d4de39007f3336e975fb0f introduced the package
""redhat-rpm-config"" to make the Fedora 21 gate job running again.

As we dropped the F21 support in December 2015 with
commit 90bc5867728aafb66b374ae6e6a93318303dcff0 we don't need
this package anymore.

Change-Id: I71b969b7fd6651082451f6c4fd1e01d205771a11"
sdague,2016-01-22 12:48:49,https://api.github.com/repos/openstack/devstack/git/commits/61aa0e9f1968c9991dee7bb5aec9a2a63ac0339d,61aa0e9f1968c9991dee7bb5aec9a2a63ac0339d,"reduce default lease time to 5 minutes

Devstack used in development is about things coming and going
quickly. The long dhcp leases mean that we might miss a release, and
keep a stale lease around for way too long. See if this helps.

Change-Id: I9a58a4e64777f56ad7ec66242a319f985469469e"
morganfainberg,2016-01-20 20:43:22,https://api.github.com/repos/openstack/devstack/git/commits/5997ce3ab657293bda11c69b6078e9290676e54b,5997ce3ab657293bda11c69b6078e9290676e54b,"Always cache tokens in a shared memcache

Instead of using in-process caching for tokens per service per
worker (disabled by default now), use a shared memcache to cache
token validation(s). This should both offload/speedup validations
and avoid the issues surrounding inconsistent validation responses
when using in-process caching [since each worker caches separately].

Change-Id: Ifc17c27744dac5ad55e84752ca6f68169c2f5a86"
Yusuke0710,2016-01-21 15:08:31,https://api.github.com/repos/openstack/devstack/git/commits/6e187218820afaa4f05f34ce0483c21170369db1,6e187218820afaa4f05f34ce0483c21170369db1,"Rdo-release install failure under proxy

In RHEL under proxy, installation by stack.sh failed
because of rdo-release.rpm install failure.

This patch fixes install command for rdo-release.rpm
because it is caused by lack of http(s)_proxy.

Change-Id: I176d1e140f52e1bb0343170ba4d90c06b98d5a99
Closes-Bug: #1536478"
emonty,2016-01-21 15:20:08,https://api.github.com/repos/openstack/devstack/git/commits/74379df11f6ce2e76d1448f4ffd6db9528768727,74379df11f6ce2e76d1448f4ffd6db9528768727,"Remove leftover homedir clouds.yaml files

We don't write files here anymore, but it's higher in the precedence
order than the /etc/openstack/clouds.yaml file we do write. Some
developers who have long-lived devstacks who update infrequently have
been bitten by the leftover file.

Change-Id: I8af6bd465f74099c560dddba6b5221dd79cbc965"
booxter,2016-01-14 14:31:31,https://api.github.com/repos/openstack/devstack/git/commits/06cfce37560243d22cd05b2c620be6702528a0b1,06cfce37560243d22cd05b2c620be6702528a0b1,"neutron: enable ml2 mtu calculation mechanism

Setting path_mtu to reflect mtu for physical devices that handle traffic
issued from br-tun makes ml2 plugin to calculate mtu for tenant networks
properly, considering encapsulation headers. After that, calculated mtu
values can be propagated into instances (currently, only DHCP approach
is implemented; RA support for IPv6 subnets is under review).

This change allows to run tunnelled tenant networks in multinode when
underlying physical devices don't support jumbo frames.

Note: changing the default value in neutron would not be backwards
compatible, since it could slow down east-west tunnelled traffic in
clouds that run on jumbo-aware networks.

Change-Id: I8287677c7ad0f13fa9f5cb194f9372d04b78cb61
Related-Bug: #1527675"
mtreinish,2016-01-20 01:29:46,https://api.github.com/repos/openstack/devstack/git/commits/1d27155f650e9b8e4053a201f1f08c494b820de2,1d27155f650e9b8e4053a201f1f08c494b820de2,"Cap installed pip to be < 8

Pip 8 just release which made uninstalling distutils installed packages
fatal. This was previously a deprecation warning and is now causing all
dsvm jobs to fail.

Depends-On: I511d216d9d8619c7cf919c482aaead4e833cdaac
Change-Id: I22f5c3af1adf96cfbd5747122f915a82e947843a"
mtreinish,2015-10-13 13:51:17,https://api.github.com/repos/openstack/devstack/git/commits/4af2afcd52db5b278cf2660ef4e1d502c20cd5ff,4af2afcd52db5b278cf2660ef4e1d502c20cd5ff,"Add subunit output for total elapsed time

This commit adds a success output for the entire devstack run to the
subunit output. Ideally we wouldn't need this, but because we don't
have timing data for every single operation performed by devstack we
need to do this to track the total duration of the devstack run.

To capture failures this commit adds saving a devstack event when we
trip the exit_trap. This will save a similar result to the stream in
the successful case, but instead mark it as a failure.

Depends-On: Icc7df33e4d73ba6322af38fbdf3aea230f2fcf4d
Change-Id: I07112dde996c3e2c73f5aafc9b73d33d26374633"
cboylan,2016-01-19 16:15:36,https://api.github.com/repos/openstack/devstack/git/commits/ba6fb27bc874b940a2a8a34e24a6c34ecabb3ba8,ba6fb27bc874b940a2a8a34e24a6c34ecabb3ba8,"Remove vme and ssse3 from gate64 cpu mapping

It turns out that we need to be even more restrictive on the cpu flags
we expose as some clouds don't expose vme or ssse3.

Fixes-Bug: 1535799
Change-Id: I6c8c1101771d1c5496884be7a405285472ae803a"
gaowanlong,2016-01-16 09:46:35,https://api.github.com/repos/openstack/devstack/git/commits/cf04a9acb395cd31b231da17cba779ff61b6e8eb,cf04a9acb395cd31b231da17cba779ff61b6e8eb,"notification_driver is deprecated to driver

TrivialFix
https://review.openstack.org/#/c/249508/

Change-Id: I18599c7221272279dfc2e9f5b297af09faff5c3b"
stevemar,2016-01-18 19:00:41,https://api.github.com/repos/openstack/devstack/git/commits/8e3df96cec11ae32fba6a6031ee60850251789f9,8e3df96cec11ae32fba6a6031ee60850251789f9,"use sudo to remove /etc/openstack directory

the /etc/openstack directory needs to be removed with sudo privs,
the loop at the end will not suffice.

Change-Id: Icc0ac45f9216d538ca214176d90241f973a4687b"
dtantsur,2016-01-18 09:52:59,https://api.github.com/repos/openstack/devstack/git/commits/f90c0b7d29abe58d7d10608599e6399cf6adc509,f90c0b7d29abe58d7d10608599e6399cf6adc509,"Stop referencing no longer existing SERVICE_ENDPOINT variable

It was probably finally removed by one of recent refactoring changes.
Now ironic gate fails due to Swift trying to access it to override OS_AUTH_URL.
This change drops this override and just uses OS_AUTH_URL.

Closes-Bug: #1535245
Change-Id: I145bec110c4299e61f2bce49df41dcd82e5d462d"
stevemar,2016-01-18 06:20:53,https://api.github.com/repos/openstack/devstack/git/commits/16246acb4c3d81e2907ba938b9404a0fc9d30ff6,16246acb4c3d81e2907ba938b9404a0fc9d30ff6,"remove clouds.yaml files when running clean.sh

There have been a few reported errors of folks running into
issues with old clouds.yaml files that linger around. Remove
these if the user runs clean.sh.

1. http://lists.openstack.org/pipermail/openstack-dev/2016-January/084283.html
2. https://ask.openstack.org/en/question/84825/glance-upload_image-fails-in-latest-devstack/
3. https://ask.openstack.org/en/question/86071/devstack-installation-failure/

Change-Id: I618ea8e27b49af360c905df85af06d9b1eef8407"
BobBall,2016-01-15 13:56:37,https://api.github.com/repos/openstack/devstack/git/commits/2dd761b16950603555409e33ac63a196eefd2607,2dd761b16950603555409e33ac63a196eefd2607,"XenAPI: Fix disk_formats verified by tempest

lib/glance restricts the disk_formats to those supported by XenAPI, so
tempest needs a similar restriction for the disk_formats tested.

Confirmed as passing internal Citrix CI (affected tempest jobs are
currently disabled in voting XenServer CI until this change lands)

Change-Id: Iefa5b16a3fa1789ed583426ea47ebb22e6cb571e"
dims,2016-01-14 17:11:23,https://api.github.com/repos/openstack/devstack/git/commits/bd7a51200f3a3c11ca5f18f0b7f95ee9049e1e40,bd7a51200f3a3c11ca5f18f0b7f95ee9049e1e40,"Better location for the nova dhcp logs

Use LOGDIR to compute the location of the dhcp logs
instead of hardcoding to /opt/stack/logs/

Change-Id: I97ca2d8c8b7901e0895fe89a57675caf8effea53"
boris-42,2016-01-15 01:31:40,https://api.github.com/repos/openstack/devstack/git/commits/ba0a659c762e07951cd4f3e305aa5bd09a1a2918,ba0a659c762e07951cd4f3e305aa5bd09a1a2918,"Make OSprofiler repo and branch configurable

OSprofiler is now under Oslo:
https://review.openstack.org/#/c/103825/

And we really need this patch to make proper dsvm job for
OSprofiler

Change-Id: I20f59c52c147303de01544dc975a82b4a741a1b9"
dims,2016-01-13 22:28:43,https://api.github.com/repos/openstack/devstack/git/commits/ac8ff0f1e9e5116c390bf8a711c950bcaca71d32,ac8ff0f1e9e5116c390bf8a711c950bcaca71d32,"Support for logging the nova-dhcpbridge command line

We are seeing a lot of gate failures as vm(s) are unable to acquire
DHCP leases:
https://bugs.launchpad.net/nova/+bug/1532809

we need to set log_file for nova-dhcpbridge configuration, so clone
the nova.conf and set the log_file properly to a path where the
CI can pick up from for analysis.

Change-Id: Iec4fe3f2235da9d1f5bd399d4ffc45af516c58ce"
amotoki,2016-01-13 14:11:09,https://api.github.com/repos/openstack/devstack/git/commits/7e843edca791224eea1d53fc963267dded0c220b,7e843edca791224eea1d53fc963267dded0c220b,"Remove Neutron Midonet plugin file completely

override-defaults mechanism allows us to define
s_neutron_plugin_security_group before loading lib/neutron,
and we no longer need to have a plugin-specific file in
the master DevStack repository.

Change-Id: I37d5012e89cb3650e4f325b6d77d70f28f87d3e7
Depends-On: I5e02acd288e53dd06a369d348ec77ead57d476fd"
amotoki,2016-01-13 13:54:37,https://api.github.com/repos/openstack/devstack/git/commits/5aa2014e67f329f1751052643161b2e0e98ef621,5aa2014e67f329f1751052643161b2e0e98ef621,"Remove Neutron NEC plugin completely

override-defaults mechanism allows us to define
s_neutron_plugin_security_group before loading lib/neutron,
and we no longer need to have a plugin-specific file in
the master DevStack repository.

Change-Id: I78a4e05fa72b1dd545b8d9e97a8fd8fdbf23739c
Depends-On: Id6765245459c1aff3aab27dbc60d320ce2951b38"
booxter,2016-01-13 10:35:12,https://api.github.com/repos/openstack/devstack/git/commits/09a3e715ec708a214eef1bed9aef01a593f96673,09a3e715ec708a214eef1bed9aef01a593f96673,"Create LOGDIR earlier in the process

Specifically, before _install_epel_and_rdo is called, that may need to log an
error.

Change-Id: I4979eb9530e6ea366c99d168587b87ea358dc908"
dims,2016-01-11 21:20:34,https://api.github.com/repos/openstack/devstack/git/commits/ed9487a885caf81b9283f39702261d91c94ac393,ed9487a885caf81b9283f39702261d91c94ac393,"Revert ""Don't die when yum fails.""

This reverts commit 2babf3963f4eea8558b0c287c51e6faeb7069c70.

This breaks oslo.messaging jobs:
http://logs.openstack.org/32/265932/1/check/gate-oslo.messaging-dsvm-functional-amqp1-centos7/f5f3eb9/console.html#_2016-01-11_20_03_33_162

@kgiusti reports that PIPESTATUS[0] is always 1 on his centos7 box

Change-Id: I013c22a3545f22c79a0616b4a98622d41bb17d77"
dims,2016-01-12 03:10:43,https://api.github.com/repos/openstack/devstack/git/commits/4a974e61c8c53c692d0e2d0dc85b3ce9b2eff446,4a974e61c8c53c692d0e2d0dc85b3ce9b2eff446,"Remove Nova object store service

As of I8bf7cbaa7015bb61656ab90ccc8f944aaeebb095, Nova
removed the n-obj service, so we should cleanup

Change-Id: I7db3796a6448decb4ac5e66d980f487c7d1f394e"
ianw,2014-08-27 06:15:32,https://api.github.com/repos/openstack/devstack/git/commits/7710e7fc273dd9af6799ea565bbd21ce03745a44,7710e7fc273dd9af6799ea565bbd21ce03745a44,"Only use lsb_release for distro tags

The existing GetOSVersion has a lot of unused code which is wrong in
several ways

 - the only path tested in upstream CI is with lsb_release, because
   it's pre-installed on all nodes

 - the /etc/redhat-release checking probably still works, but is
   unnecessary

 - If using lsb_release, os_UPDATE has never actually been set.

 - the /etc/SuSE-release branch checking is broken if the lsb package
   is actually installed.  lsb checking does not set os_UPDATE but yet
   the SuSE DISTRO setting relies on this to set a patch level (and so
   does some of the rpm tags).  SuSE 11 is up to update 3, but the rpm
   matching is stuck hard-coded to update 2.  I'm guessing
   installation is actually broken there.

 - the debian checking branch is broken.  The VERSION tags have been
   removed and were not supposed to be relied on anyway (see notes in
   [1])

This simplifies things:

 - remove OSX checking (moved here after discussions in
   I31d0fdd30928ecc8d959a95838b1d3affd28ac6f)

 - only use the output of lsb_release.

 - A small best-effort check to pre-install lsb packages if not
   detected (that avoids chicken-egg-problem of package-install
   wrappers relying on os_* flags).

 - The unset os_UPDATE is removed.  It's only previous use was for
   setting separate suse versions in the DISTRO element for matching
   during package installs (since removed)

 - DISTRO setting is modified to use the parts of os_RELEASE it wants.
   Per-above, this is the correct place to parse out specifics.

 - Call out the is_* functions, which are a better way to detect
   platforms

 - Export the variables as read-only, since they shouldn't be reset

[1] http://sources.debian.net/src/base-files/7.5/debian/changelog/

Change-Id: I46a2c36d95327087085df07cb797eb91249a893c"
umago,2015-12-14 12:02:55,https://api.github.com/repos/openstack/devstack/git/commits/3919d4c822a38d324adf47697f4b9bedbc906a36,3919d4c822a38d324adf47697f4b9bedbc906a36,"Add diskimage-builder to the list of libraries

Add diskimage-builder to the list of libraries so it can be installed
from source to be tested in gate.

Change-Id: I6cefac1eb4ebf0196a6b4d4bfc038c00921f0d70"
mjturek,2016-01-11 18:17:50,https://api.github.com/repos/openstack/devstack/git/commits/d091a2dd5467f42491e85208b236956b78c1c837,d091a2dd5467f42491e85208b236956b78c1c837,"Revert ""Replace deprecated baremetal timeouts with new deploy_timeout""

This reverts commit 00b5f4af92a640a2507046cf76ee57caa166310b.

This patch was merged before the timeout was merged to
tempest. This means that devstack is currently referencing
a non-existent config option. As such I think it needs to be reverted.

Change-Id: I947261dc330ef35efce1ecd805ba6e649e81a6aa"
stevemar,2016-01-06 02:36:23,https://api.github.com/repos/openstack/devstack/git/commits/3567d6103abab8484c40f1a46f2465d0931dfbb0,3567d6103abab8484c40f1a46f2465d0931dfbb0,"remove SERVICE_TOKEN from the docs

there are a few lingering instances of SERVICE_TOKEN in the docs
and some of the scripts in tools.

Change-Id: I9d2147eea6639db1f4ea15a259c147eecfc339ff"
stevemar,2015-12-20 05:24:19,https://api.github.com/repos/openstack/devstack/git/commits/923be5f791c78fa9f21b2e217a6b61328c493a38,923be5f791c78fa9f21b2e217a6b61328c493a38,"bootstrap keystone using new bootstrap command

Be gone ADMIN_TOKEN, long live keystone-manage bootstrap.

This patch reworks the initial setup for keystone by using
the new bootstrap command. After a minimal service catalog
has been created, using this process, we simply authenticate
as usual.

implements bp: bootstrap
Depends-On: I113c6934b6b83ceff23a94101967a6df1126873f
Change-Id: Ia1475d461eab60b68c6a0356714b21c7f92e0194"
nya17y,2016-01-06 15:14:45,https://api.github.com/repos/openstack/devstack/git/commits/af8b6e10a3470808b54c2a2f5031a68ce1a151df,af8b6e10a3470808b54c2a2f5031a68ce1a151df,"Add flag for test_volume_services

test_volume_services works incorrect with host info if it includes
backend name (host@backend). The test is skipped by default for
Liberty and Kilo gates. Need to add flag to unskip this test in new release.
This fix related with bug #1530144 in service-list filter.

Change-Id: Ifdc0bab819c05a00cd0c20316bd81961cf6aeb88"
JohnVillalovos,2016-01-08 03:10:50,https://api.github.com/repos/openstack/devstack/git/commits/f568c3a141f04c86ba2d971eb0fa908b4a060731,f568c3a141f04c86ba2d971eb0fa908b4a060731,"Fix SIGITIN hang with apt-get

Fix an issue where apt-get consistently hangs due to a SIGTTIN being
received. This occurs on a 'vanilla' devstack-gate VM, when running an
ironic-grenade job.

Upstream has a bug related to this:
https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=555632

http://www.gnu.org/software/libc/manual/html_node/Job-Control-Signals.html
Macro: int SIGTTIN

    A process cannot read from the user's terminal while it is running
    as a background job. When any process in a background job tries to
    read from the terminal, all of the processes in the job are sent a
    SIGTTIN signal. The default action for this signal is to stop the
    process. For more information about how this interacts with the
    terminal driver, see Access to the Terminal.

Change-Id: I8b1f3dccf329bb88e017eff7492da5e701b4892c
Closes-Bug: #1532080"
mestery,2016-01-07 22:46:37,https://api.github.com/repos/openstack/devstack/git/commits/75633266c851856b32056b8b5eb1b6ed4f29b84e,75633266c851856b32056b8b5eb1b6ed4f29b84e,"rpc_backend: Conditionally enable rabbit on fedora

Change 4d8c03a3 added logic to enable rabbit on Fedora/CentOS systems
whether or not rabbit is enabled. This corrects that to only enable
rabbit when it is configured as such.

Change-Id: I270e79ff989176770d65df1ac0ac4e2c4382bb9a
Signed-off-by: Kyle Mestery <mestery@mestery.com>"
alexschm,2015-12-02 15:30:44,https://api.github.com/repos/openstack/devstack/git/commits/a5ea08b7526bee0d9cab51000a477654726de8fe,a5ea08b7526bee0d9cab51000a477654726de8fe,"Add distro support for KVM for IBM z Systems

Add ""KVM for IBM z Systems"" to the list of Fedora-like distros.

As the distribution does not have a dedicated kvm package,
prevent the installation of the kvm package during the libvirt
setup.

Change-Id: Ibb5c60797d6867264f9dea7fea85cdf1d7c72ded"
zhangjinnan,2015-08-20 14:00:20,https://api.github.com/repos/openstack/devstack/git/commits/4d8c03a377dbb819f28d199fe9fca7e4b576e7e3,4d8c03a377dbb819f28d199fe9fca7e4b576e7e3,"Enable some serivce when on boot

Solve the devstack ./rejoin-stack.sh when is reboot-safe in RHEL 7.
Enable mysql, postgresql, rabbitmq-server, openvswitch service when on boot.

Change-Id: I3ce9fc58ccc76092ad08314de1c3c9339ebfb3b5
Related-Bug: #1486833"
stevemar,2016-01-06 04:56:40,https://api.github.com/repos/openstack/devstack/git/commits/3526276a0827afb5a598c046e410b88bcb8f2e65,3526276a0827afb5a598c046e410b88bcb8f2e65,"Add support for role and resource keystone backends

Keystone further broken apart the assignment backend into: role,
resource, and assignment. We should define the backends in the
config file and allow users to override the default by passing in
their own value.

Change-Id: Ieb22c428609d3db852814c7eceb77efa6bbde633"
oomichi,2015-12-17 08:47:46,https://api.github.com/repos/openstack/devstack/git/commits/e0d61118f198e6a46af0956902485098f78e8d26,e0d61118f198e6a46af0956902485098f78e8d26,"Enable SameHostFilter and DifferentHostFilter

The default filters of nova don't contain SameHostFilter and
DifferentHostFilter, so we cannot test them on the gate.
This patch makes these filters available for the development.

Change-Id: Ia6b4847e9bb21048d254d0a460ae4c5be896b17b
Closes-Bug: #1526620"
henriquetruta,2016-01-05 16:43:18,https://api.github.com/repos/openstack/devstack/git/commits/f212622cbd8165caba640625159d35dd2fcde38f,f212622cbd8165caba640625159d35dd2fcde38f,"Adding ENABLE_IDENTITY_V2 on docs

Adds the documentation of ENABLE_IDENTITY_V2 property on keystone
section.

Change-Id: If72325751c3bfd7f11f46c518c9fbf59f10a894f"
brantlk,2015-08-01 14:19:18,https://api.github.com/repos/openstack/devstack/git/commits/6a4d3eb55fb377a0ddef3d8978a85d2137430834,6a4d3eb55fb377a0ddef3d8978a85d2137430834,"Use keystone[ldap] for ldap packages

Keystone now provides an ""ldap"" in extras to install its ldap
dependencies so devstack doesn't have to track the python
dependencies itself.

Installation of the extras is done in an extra install line. This is
slightly redundant, however this pattern works much better from an
install stand point as it supports an arbitrarily large number of
extras.

Partial-Bug: 1479962
Change-Id: If0f0ff48f3d6b3c414f2d6fcd747ecf45a397658"
brantlk,2015-08-03 18:31:25,https://api.github.com/repos/openstack/devstack/git/commits/0842b8147f098106b679cf652edbcb5ea4330f04,0842b8147f098106b679cf652edbcb5ea4330f04,"Support extra dependencies when setup_develop

Recent pip supports using [extras] to install extra dependencies
from the project setup.cfg. Add support so that projects can take
advantage of it.

For example, if devstack is configured to use ldap, install the
extra ldap dependencies using:

 setup_develop $KEYSTONE_DIR ldap

Partial-Bug: 1479962
Change-Id: Ic13d95b99aaa4d3854b2723343e90f5de6b98aa2"
kashyapc,2015-12-01 17:04:40,https://api.github.com/repos/openstack/devstack/git/commits/90bc5867728aafb66b374ae6e6a93318303dcff0,90bc5867728aafb66b374ae6e6a93318303dcff0,"Remove support for Fedora 21 (EOL); add F22 where appropriate

Fedora 21 reached its End Of Life (EOL) on 1-DEC-2015[1]; remove it as
supported distribution.

    - stack.sh: Remove Fedora 21 from list of supported distributions.
    - tools/fixup_stuff.sh: Make the minimum Fedora version to be F22 in
      from a conditional check in 'Python packages' section
    - files/rpms/general: Remove 'f21' from NOPRIME.
    - lib/ceph: Remove 'f21' from the check_os_support_ceph() function.
    - doc/source/index.rst: s/Fedora 21/Fedora 22/
    - pkg/elasticsearch.sh: Remove the 'if' conditional in the
      install_elasticsearch() function.

[1] https://fedoramagazine.org/fedora-21-end-life-december-1st/

Change-Id: Ifbcc3dd783ff2f362a464fbf4ca22f20cc2c658e"
emonty,2015-12-25 14:29:32,https://api.github.com/repos/openstack/devstack/git/commits/f73263d47a85f1fe6d1b80d10e85fe35a46aa8ef,f73263d47a85f1fe6d1b80d10e85fe35a46aa8ef,"Remove uses of --os-url and --os-token

Those were originally used to bootstrap with admin-token from keystone,
but the openstack client is fully configured now, leaving no reason to
not just use the actual users that are there.

Change-Id: I80bdee33a78a97f5d3910aa36dc331f19780d2f1"
emonty,2015-12-31 22:22:04,https://api.github.com/repos/openstack/devstack/git/commits/5bf6a9489c52600ab0fe5a68e554398531894051,5bf6a9489c52600ab0fe5a68e554398531894051,"Write volume API version into clouds.yaml

We're trying to get things to use volume v2 by default. devstack already
deploys a v2 endpoint. Tell clouds.yaml that this devstack cloud is a v2
enabled cloud.

Change-Id: I6f792ce65153389aa1ee133e9bd363c394b28534
Closes-Bug: 1467589"
dtantsur,2016-01-03 17:08:14,https://api.github.com/repos/openstack/devstack/git/commits/5979f47a3df4e7662c70236e7ddf0bedcbe5ea25,5979f47a3df4e7662c70236e7ddf0bedcbe5ea25,"Fix get_plugin_packages when multiple plugins are in use

Due to missing space no plugin packages are installed in this case.

Change-Id: I56b105510e4d31a411f2531fdb20c4ddf1ebff20
Closes-Bug: #1530675"
jumpojoy,2015-12-11 09:03:52,https://api.github.com/repos/openstack/devstack/git/commits/135bd484a9f83099e33e18dd97274ad550a392bb,135bd484a9f83099e33e18dd97274ad550a392bb,"Introduce iniget_sections function

This function returns list of sections from specified INI file.
It is needed for I7938f26015d953efdf720774b5ad2cee4068ac90.
'iniget_sections' is needed for automatic node enrollment to
Ironic from INI syntax file.

Change-Id: I52a69ad3bc8fc528e7f20e6b03a98f327acaaa74
Implements: blueprint ironic-ml2-integration"
Annie-XIE,2015-12-23 02:17:01,https://api.github.com/repos/openstack/devstack/git/commits/cc6af3fc94ea56b0f081eabcb65404b0fa3716fe,cc6af3fc94ea56b0f081eabcb65404b0fa3716fe,"XenAPI: add support to use local.conf

XenServer install with devstack doesn't support local.conf, this fix
is to add support for using local.conf and backward-compatibility of
localrc

Change-Id: Ie494e01f8f1ecb8720e14392ef3f12d5a5a01dcd
Closes-Bug: #1528520"
liyingjun,2015-12-25 02:32:14,https://api.github.com/repos/openstack/devstack/git/commits/44ee7e307b49c5ee9e30ba380e36576189efdc34,44ee7e307b49c5ee9e30ba380e36576189efdc34,"Fix heat config when using keystone v3

Use configure_auth_token_middleware to generate keystone_authtoken
section configration.

Change-Id: I87e0e60afb958683add2aff2552d26cbf8c9e374
Closes-bug: #1300246"
nya17y,2015-12-23 14:00:02,https://api.github.com/repos/openstack/devstack/git/commits/a6bbe031f17d82e2a4ef7338de65acb762e9527a,a6bbe031f17d82e2a4ef7338de65acb762e9527a,"Fix restoring a backup volume to a larger volume

We cannot restore a backup to a larger volume on ceph because it
fails with status ""error_restoring"". This patch adds read/write
permissions to volumes pool for backup user. We need such permissions
to change volume size during restoring backup when the backup is
smaller than a volume.

Change-Id: I794c1126bcee4e07baf5a9dcfee779fd61da5636
Closes-Bug: 1519749"
humble00,2015-12-23 04:15:59,https://api.github.com/repos/openstack/devstack/git/commits/f7dc06cb892ca9d2918ae9bafba13bfa72a7da98,f7dc06cb892ca9d2918ae9bafba13bfa72a7da98,"Option ""auth_plugin"" is deprecated.

Option ""auth_plugin"" from group ""keystone_authtoken"" is deprecated.
Use option ""auth_type"" from group ""keystone_authtoken"".

Change-Id: I01371bd924114d6470e960a91a3045fe7dc22339
Closes-Bug: #1528746"
li-ma,2015-12-13 02:41:34,https://api.github.com/repos/openstack/devstack/git/commits/50120fa047726c8ff9b76ef8bd9294bab0c7bb5d,50120fa047726c8ff9b76ef8bd9294bab0c7bb5d,"Kill neutron-rootwrap-daemon when stop neutron service

Neutron-rootwrap-daemon cannot be killed when you stop
neutron services, so here we add the right command in
the neutron stop-service scripts.

Change-Id: I91fefb277427e0e16ff59760b7255e4c7eee1792
Closes-Bug: #1525601"
Andrey-mp,2015-12-22 20:33:30,https://api.github.com/repos/openstack/devstack/git/commits/ba23ba317abd6a65979b3006410eb4ba6429cf09,ba23ba317abd6a65979b3006410eb4ba6429cf09,"remove configuration for boto section

thirdparty.boto tests was removed from tempest and this section
is no needed more

Change-Id: Ibec0534d118423be7a51c2e2b82f1c61531503a0"
sputnik13,2015-12-22 18:31:03,https://api.github.com/repos/openstack/devstack/git/commits/79e65304708605979589568ad3b2909482ee4496,79e65304708605979589568ad3b2909482ee4496,"Adding cue to plugin registry

Adding cue to the plugin registry under ""Official OpenStack Projects""

Change-Id: I24fc76eb6aadb653c0db5a0fa1d8e22cd166dbe9"
ahsan518,2015-10-20 21:20:27,https://api.github.com/repos/openstack/devstack/git/commits/512be7de181b1ede95e1d31dd67cd87b7d2d41e8,512be7de181b1ede95e1d31dd67cd87b7d2d41e8,"docs: Add additional configuration in Neutron guide

Adding NETWORK_GATEWAY to the docs

Change-Id: I67be468d9fbe5f323e21c81b673248d4b629c8ef
Closes-Bug:#1508195"
dims,2015-12-21 13:36:40,https://api.github.com/repos/openstack/devstack/git/commits/f59e6df23a430f0622215fec5bbbe18cfe7fee9c,f59e6df23a430f0622215fec5bbbe18cfe7fee9c,"Do not fail with Tox 2.3.1

Latest tox causes failures:
   File ""/usr/local/lib/python2.7/dist-packages/tox/config.py"", line 1140, in processcommand
     argv = list(shlexer)
   File ""/usr/lib/python2.7/shlex.py"", line 269, in next
     token = self.get_token()
   File ""/usr/lib/python2.7/shlex.py"", line 96, in get_token
     raw = self.read_token()
   File ""/usr/lib/python2.7/shlex.py"", line 172, in read_token
     raise ValueError, ""No closing quotation""
 ValueError: No closing quotation

This is caused by a backwards incompatible change in tox:
https://bitbucket.org/hpk42/tox/issues/181

Change-Id: Ic28c634cf806394cfa82b61cb45be60b8f40a61a"
hongbin,2015-12-20 21:30:36,https://api.github.com/repos/openstack/devstack/git/commits/bfdd47c8538260db26ead098cbafa62afb637a60,bfdd47c8538260db26ead098cbafa62afb637a60,"Enable swap stats in dstat

Swap stats could be useful for trouble-shooting. It is better to
have it enabled in dstat.

Change-Id: I44e0735a95cd6ca3def9b04510551df16a1337a4"
stevemar,2015-12-20 06:27:30,https://api.github.com/repos/openstack/devstack/git/commits/4ce859ab2b99e68ce937c9c9df83d9270c8ef9fb,4ce859ab2b99e68ce937c9c9df83d9270c8ef9fb,"update create_heat_accounts, don't use os_url and os_token

Currently, the function create_heat_accounts uses the OS_URL and
OS_TOKEN environment variables. This is a bad choice for several
reasons, most importantly we are sending the ""ADMIN_TOKEN"" value
as a header. There is also no reason to not use a standard admin
user to create these resources.

Change-Id: I70b41d69917b9e53ad09c2c61e022ef09a50acfd"
mtreinish,2015-12-11 00:36:50,https://api.github.com/repos/openstack/devstack/git/commits/fbe0a62785781f2a5764697dd4b3e60f44fbe4e4,fbe0a62785781f2a5764697dd4b3e60f44fbe4e4,"Stop using deprecated tempest options

This commit updates lib/tempest to stop using deprecated config
options when tempest is configured.

Change-Id: I65b56ff681d6c27094380693c953fbc3664eceb0"
jckasper,2015-11-23 21:47:45,https://api.github.com/repos/openstack/devstack/git/commits/50ce626db752d5b20dc79b9118a877db2c5b1c1c,50ce626db752d5b20dc79b9118a877db2c5b1c1c,"Neutron: Fix IPv6 provider networks

The creation of the IPv6 subnet with provider networks does not
specifiy the correct parameters:
 . V6_NETWORK_GATEWAY is specified but never set
       - created new IPV6_PROVIDER_NETWORK_GATEWAY
 . PROVIDER_SUBNET_NAME_V6 is specified but never set
       - created new IPV6_PROVIDER_SUBNET_NAME
 . FIXED_RANGE_V6 is being used
       - created new IPV6_PROVIDER_FIXED_RANGE
 . subnetpool_id is incorrect
       - changed to subnetpool

Related-Bug: #1507870
Closes-Bug: #1417410
Change-Id: I9a1ad11bc54529080ec84d4677fa5633708890c7"
jimrollenhagen,2015-12-10 14:24:00,https://api.github.com/repos/openstack/devstack/git/commits/47367071cdc110c40ec5c92d12f4dbe50cc553d4,47367071cdc110c40ec5c92d12f4dbe50cc553d4,"Remove ironic code from tree

This removes all of the ironic code from the devstack tree, in favor of
the devstack plugin in Ironic's tree.

Depends-On: I659e3de5c64df798441798ff48ba5c9c0506585a
Depends-On: I2c52bc014f1b0dbc6b0ae22a4deb4132b4c28621
Change-Id: I5125fce295c79600781469c2f48bea80e7600081"
hickeyma,2015-12-18 11:08:38,https://api.github.com/repos/openstack/devstack/git/commits/47115b0314bcb9006d674fb0c7da6ac6eb94de29,47115b0314bcb9006d674fb0c7da6ac6eb94de29,"Neutron VPNaaS: Set default service provider

Default value needs to be set for service_provider config item in
neutron_vpnaas.conf. This is to support backward compatability
for using the enable_service q-vpn. It should be noted that the
recommended way to use VPN is the devstack plugin.

Change-Id: I0d5960c81c47a138087d480527eff2a8eef59445
Closes-bug: #1527483"
dims,2015-10-08 14:57:44,https://api.github.com/repos/openstack/devstack/git/commits/168be83597dcfc38b6d552ecbf20b5093580e2cb,168be83597dcfc38b6d552ecbf20b5093580e2cb,"Nuke EC2 API service in defaults

Tempest does not test EC2 by default anymore:
Ib5e24e19bcba9808a9f49fe7f328668df77fe4f9

So we don't need to run nova ec2 API service by default.

Change-Id: Ieec0ca1361baf0978d96e69e1134f699c1af3bb9"
mjturek,2015-12-15 18:16:35,https://api.github.com/repos/openstack/devstack/git/commits/00b5f4af92a640a2507046cf76ee57caa166310b,00b5f4af92a640a2507046cf76ee57caa166310b,"Replace deprecated baremetal timeouts with new deploy_timeout

See review 258670 for more information. The preceeding patch
consolidates Ironic timeouts into one blanket timeout. This
patch sets the new timeout via the BUILD_TIMEOUT variable and
removes the deprecated timeouts.

Change-Id: I320461b2b40aa2b68afc38a901a5933e39aac1b6
Related-Bug: #1526863"
sakaia,2015-12-08 06:36:13,https://api.github.com/repos/openstack/devstack/git/commits/2ca8af45a78226f29c3251cbef6449a0a51a4c1f,2ca8af45a78226f29c3251cbef6449a0a51a4c1f,"Add 5 time measurement points

run_process           process starting time
test_with_retry       process starting time (for neutron legacy)
restart_apache_server Apache HTTPD restart time
wait_for_service      HTTP server waiting time
git_timed             git command execution time

example

========================
DevStack Components Timed
========================

run_process - 52 secs
test_with_retry - 3 secs
apt-get-update - 8 secs
pip_install - 76 secs
restart_apache_server - 9 secs
wait_for_service - 11 secs
git_timed - 127 secs
apt-get - 15 secs

Change-Id: I66140726617450cd9fe9b702092cacf053a20065"
sdague,2015-12-15 22:16:19,https://api.github.com/repos/openstack/devstack/git/commits/563a7e75b7d26275a7416eb4d6641fcfe867b45a,563a7e75b7d26275a7416eb4d6641fcfe867b45a,"set the validation path to fixed for n-net

See if using fixed IPs for connectivity to hosts is more reliable than
floating ips, which really were not intended for these purposes (at
least in nova-net).

Change-Id: I251710ee9186a68bb3ddc58ca803c33b81c8ac49"
amotoki,2015-12-15 07:44:41,https://api.github.com/repos/openstack/devstack/git/commits/43f62c08499de004a964c3a2f90ce400a0f932ad,43f62c08499de004a964c3a2f90ce400a0f932ad,"Move horizon config and start to appropriate phase in stack.sh

Previously horizon configuration and start are done too early
and as a result horizon init and start need to be run twice
after horizon plugins are enabled.
- horizon config was done before ""run_phase stack install""
- horizon init and start were done before ""run_phase stack post-config""

This commit rearrange horizon setup to the appropriate phases
defined in the devstack plugin interface.

- Configuration of horizon settings is moved to configure_horizon.
- horizon config is now called between run_phase stack install
  and post-config.
- horizon init and start are now called between run_phase stack
  post-config and extra.

Change-Id: I8bf2ceaf7734c4f7cec68bc05d7cdbae81ef311e"
hickeyma,2015-12-04 14:40:03,https://api.github.com/repos/openstack/devstack/git/commits/2b4d6d16211cc55794b7d96594394f5e8c40fa4b,2b4d6d16211cc55794b7d96594394f5e8c40fa4b,"Neutron VPNaaS: Use generated configuration files if available

Generate the Neutron VPNaaS sample config files by using the oslo
generator. The files are generated with a .sample extension and
replace the static example configuration files.

Once the generation code is delivered, the static config files
will be removed.

Change-Id: Icef8f7e8f0e8e78bfffa7a5af3f9f2300376b115
Related-blueprint: autogen-neutron-conf-file
Partial-bug: #1199963
Depends-On: I4a6094b8218dfd320d05bfb1e3bc121e8930c551"
yamt,2015-12-07 08:09:59,https://api.github.com/repos/openstack/devstack/git/commits/239a9788b3f73495efbdf586425a83d714be4412,239a9788b3f73495efbdf586425a83d714be4412,"Remove a stale comment about SQLALCHEMY_DATABASE_DRIVER

SQLALCHEMY_DATABASE_DRIVER is no longer used
after If6d8d08e5b7b7c48ca012677b536d71058def6fd .

Also, remove mysql connector packages from the install list.

Closes-Bug: #1523377
Related-Bug: #1493304
Change-Id: I5ecbc3b0bac989faa5c46d3c2866558a505414d8"
markmc,2015-12-07 10:05:04,https://api.github.com/repos/openstack/devstack/git/commits/76cbbe37aae5d54542d62a5c6deec428a8cdc75e,76cbbe37aae5d54542d62a5c6deec428a8cdc75e,"libvirt: don't repeatedly configure libvirtd logging

/etc/libvirt is not world-readable (at least on Fedora and RHEL) so
use sudo with the grep that checks whether we have already configured
libvirtd logging. Also, change the regex so we don't count commented
out logging config.

Change-Id: I67484b28aafd0fa828385321fa96d9141cb4cb59
Signed-off-by: Mark McLoughlin <markmc@redhat.com>"
stmcginnis,2015-12-11 19:51:24,https://api.github.com/repos/openstack/devstack/git/commits/357dff588ef63935a2a36e89b1aa96419ef09ece,357dff588ef63935a2a36e89b1aa96419ef09ece,"Remove Cinder API version cap

Cinder API was pinned to v1 due to openstackclient missing some of the
v2 commands, as reported in osc bug 1475060. That bug has since been
marked invalid, but its intent was covered by the blueprint:

https://blueprints.launchpad.net/python-openstackclient/+spec/volume-v2

This removes the pinning to the v1 API now that osc supports v2. Also
removing the enablement of v1 as it was deprecated three releases ago
and we would like to get more coverage on v2.

Change-Id: Ia4d97734738d026c8721791669110778ff5eb6e5"
ramineni,2015-12-08 06:34:27,https://api.github.com/repos/openstack/devstack/git/commits/69431725eb526d9daf320d7a05cccf22d10eaafd,69431725eb526d9daf320d7a05cccf22d10eaafd,"Add congress to plugin registry

Now congress supports devstack plugin model, hence including the
same in plugin registry

Change-Id: I1ac83c529a466e6a75a9b46ed9b56085140a63ed"
chungg,2015-12-10 19:54:01,https://api.github.com/repos/openstack/devstack/git/commits/e42306d9db86a6cbb7cf1c062d8a5bdcd8479654,e42306d9db86a6cbb7cf1c062d8a5bdcd8479654,"only set admin_* options for eventlet

keystone+apache don't need these values set.

Change-Id: Iebdb31b5f0888613e0454f09a426933d6fcd71b3
see: http://lists.openstack.org/pipermail/openstack-dev/2015-December/081984.html"
hickeyma,2015-12-03 15:18:10,https://api.github.com/repos/openstack/devstack/git/commits/10bff0e9968d7a9c59ea7f09f49775973f8b5008,10bff0e9968d7a9c59ea7f09f49775973f8b5008,"Neutron LBaaS: Use generated configuration files if available

Generate the Neutron LBaaS sample config files by using the oslo
generator. The files are generated with a .sample extension and
replace the static example configuration files.

Once the generation code is delivered, the static config files
will be removed.

Change-Id: Iae1e581ec2bea9c0ced700229effcc716d53fe4e
Related-blueprint: autogen-neutron-conf-file
Partial-bug: #1199963
Depends-On: I25507f3bc6e995580aa91a912c2cf4110757df15"
jimrollenhagen,2015-12-10 13:33:28,https://api.github.com/repos/openstack/devstack/git/commits/9fc3ba408a97d0dd39ce26dd8dbcdb3b110cde71,9fc3ba408a97d0dd39ce26dd8dbcdb3b110cde71,"Ironic: add flag for using plugin

This adds a flag to skip ironic code if the ironic devstack plugin is in
use. This flag will be set to true in ironic's devstack plugin to
indicate that the plugin should be in control, rather than devstack.

This is for the transition period only, and will be removed with the
rest of the ironic code in the devstack tree, once the gate
is configured to use the ironic plugin.

Change-Id: Id01d97fd13fa9f866d645ec5077834ddb78b2b89"
jimrollenhagen,2015-12-10 13:57:19,https://api.github.com/repos/openstack/devstack/git/commits/56632fc75ddd4af3239c44e27673854dd65f4628,56632fc75ddd4af3239c44e27673854dd65f4628,"Fix override-defaults in plugin docs

Docs specify that this file should be override_defaults, when really
devstack looks for override-defaults.

Change-Id: I3900ec4d16ffb48c6969dac5081ea2817536c246"
phmarek,2015-12-09 12:51:56,https://api.github.com/repos/openstack/devstack/git/commits/af0801de3c1b1c51cf1a995c2939e182d2ef4926,af0801de3c1b1c51cf1a995c2939e182d2ef4926,"Make logfile symlinks with relative names.

Using absolute names for the symlink breaks in quite a few ways;
 * when creating a tar file of the logs,
 * when serving via NFS,

or any other case where the directory gets transferred to
a different machine.

So just create the symlink with relative names, then they'll work
in any location.

Change-Id: I432a69754985fc71feb0068b7adca01066d7bc1b"
ghanshyammann,2015-11-19 01:01:14,https://api.github.com/repos/openstack/devstack/git/commits/642b07b930cf5f49d1ed9aa220021d45ca631b1a,642b07b930cf5f49d1ed9aa220021d45ca631b1a,"Add compute microversions configuration on tempest

Many projects like Nova, Ironic etc have implemented the
microversions for versioning their APIs.

Tempest is going to tests those microversions -
I57b78b4c0543b6fb0533b556886a19a03297555e.

For testing microversion in Tempest on gate, we need to set
a valid range of microversion in Tempest config and based on that
Tempest will run appropriate tests.

This commit adds the below range options for compute microversion testing-
- [None, 'latest'] - for master branch as default
- [None, None] - for tests running on v2.0
- option to set the range.

Depends-On: I81e86faca6f8c0ffb7da22154a62236ac25cf0c0

Partially implements blueprint api-microversions-testing-support

Change-Id: I171b862d1bba1af467f5b9a76288216c39e2adda"
hardys,2015-12-08 13:26:29,https://api.github.com/repos/openstack/devstack/git/commits/2a688440132173d493dff7c7c3760681d41e11be,2a688440132173d493dff7c7c3760681d41e11be,"Heat - revise keystone/trusts config to avoid deprecated options

There are some inter-related changes required to avoid using legacy
fallback/deprecated paths in heat, which result in warnings in the
log, e.g because we fall-back to reusing keystone auth_token
configuration instead of heat specific sections.

To fix this:
- Don't explicitly set deferred_auth_method=trusts, as this is now
  the default (since kilo)
- Create a new ""trustee"" section containing configuration used for
  the password auth-plugin associated with deferred authentication
  via trusts (support for this was added during liberty to enable
  us to stop incorrectly using the keystone auth_token config)
- Create a ""clients_keystone"" section to avoid falling back to the
  legacy behavior of stealing the uri from auth_token.

This also means we can remove the FIXME and auth_token auth_uri
mentioned by jamielennox.

Change-Id: Ie34332a7aec3b9b271df0759dd6ab66b45302832
Related-Bug: #1300246"
hickeyma,2015-12-01 22:17:42,https://api.github.com/repos/openstack/devstack/git/commits/7b7101f1c5ccd4d0722245613df8c8f7a67e79b9,7b7101f1c5ccd4d0722245613df8c8f7a67e79b9,"Neutron FWaaS: Use generated configuration files if available

Generate the Neutron FWaaS sample config files by using the oslo
generator. The files are generated with a .sample extension and
replace the static example configuration files.

Once the generation code is delivered, the static config files
will be removed.

Change-Id: Ic8208850a27408c8fbeed80ecdb43345aa7dfaa4
Related-blueprint: autogen-neutron-conf-file
Partial-bug: #1199963
Depends-On: I8e9113dfb88e5290f6eedd012d1a52fc35c3c88c"
AevaOnline,2015-12-03 17:16:18,https://api.github.com/repos/openstack/devstack/git/commits/2391d4321ffe3a0a482e01d133038dfd38c76bac,2391d4321ffe3a0a482e01d133038dfd38c76bac,"Update lib/ironic to always skip cleaning

Previously, devstack would disable ironic's cleaning phase if a driver
with ""agent"" in the name was used. However, we have begun using the IPA
ramdisk for all tests in the gate, which caused cleaning to be run for
the ""pxe_ssh"" job which therefore fails due to timeouts.

As a result, for now, we need to always disable cleaning.

As a point of record, we should actually be testing cleaning in the
gate. However, running 'shred' on the disks of a nested VM is too slow
and causes the gate to timeout // take too long. Some options have been
discussed for ways to test the callback mechanism but avoid actually
running 'shred' on the disks.

This needs to be revisited.

Change-Id: Id15cf6cc49122b08e557e44871b31a8c0d20b55d
Related-to-Bug: #1517277"
sdague,2015-12-03 13:12:23,https://api.github.com/repos/openstack/devstack/git/commits/41d01104b16bf5d0d6d4d7d2a1e5883d34bff810,41d01104b16bf5d0d6d4d7d2a1e5883d34bff810,"remove generic extras.d support

This removes the generic extras.d support, which we said we'd do at
Mitaka-1. In tree extras.d continues to function as before, though we
need stories to get ceph and ironic into plugins, and a better
solution for Tempest.

Change-Id: I8b134446dc08a2c3852423ca71af2f469f85496e"
sdague,2015-12-02 12:47:31,https://api.github.com/repos/openstack/devstack/git/commits/88ee8ce4684e13865123636dd5d2baa5d6a44ef7,88ee8ce4684e13865123636dd5d2baa5d6a44ef7,"create apt_get_update to try to work around broken mirrors

Ubuntu's apt mirroring mechanism produces inconsistent mirrors pretty
regularly. The devstack-gate apt-get update model seems to have been
more effective getting past this than what we did in devstack. Adopt
that method for our updates.

Change-Id: I97c7896ef38b275aacb4f933fc849acee1bab858"
dhellmann,2015-05-07 21:06:24,https://api.github.com/repos/openstack/devstack/git/commits/ddc3839bdc7ff73f6224273605db10fd88cd60df,ddc3839bdc7ff73f6224273605db10fd88cd60df,"Enable optional Python 3 support

Add USE_PYTHON3 and PYTHON3_VERSION variables to allow services to use
python 3 if they indicate support in their python package metadata.

Tested in Heat here -> I837c2fba682ab430d50e9f43913f2fed20325a7a.
Project config change to add a dedicated job to Heat is here -> I0837e62d6ccc66397a5e409f0961edd4be31f467

Change-Id: I079e18b58b214bf8362945c253d6d894ca8b1a6b"
ianw,2015-11-27 03:15:56,https://api.github.com/repos/openstack/devstack/git/commits/1afc28bf6c33c792eb9d2fd1992534e82af29291,1afc28bf6c33c792eb9d2fd1992534e82af29291,"Turn off tracing when outputting errors

When outputting these error strings, turn off the tracing so the user
can actually read it.  Also reword the ""not root"" user message so it
fits into a standard terminal window length.

Change-Id: I466c60865bc1128f4edd219f831a9c6cffa67829
Parital-Bug: #1517199"
dmitry-guryanov,2015-11-30 15:48:23,https://api.github.com/repos/openstack/devstack/git/commits/e0ac37c257bf08db8d220d13773859d9202305d2,e0ac37c257bf08db8d220d13773859d9202305d2,"Fix path setup in add_sudo_secure_path

There are two bugs in add_sudo_secure_path.

Firstly we don't properly check if the file exists, so always append
the new line.  This will overwrite any existing changes.

Secondly the logic for checking if the path exists is inverted, so we
miss adding paths when we should.  This particularly causes failures
when installing with virtualenv's since the paths are inside the
virtualenv, rather than the standard system locations.

Change-Id: I646fe0c68958470d464fe4f3d81d5c17dd6f2ab6
Closes-bug: #1521241"
hickeyma,2015-11-10 13:44:15,https://api.github.com/repos/openstack/devstack/git/commits/30d5fae31548ed998e4c053ba957f95e068eaebc,30d5fae31548ed998e4c053ba957f95e068eaebc,"Neutron: Use generated configuration files if available

Generate the neutron core sample config files by using the oslo
generator. The files are generated with a .sample extension and
replace the static example configuration files.

Once the generation code is delivered, the static config files
will be removed.

Change-Id: Ic37a16b6cf8eb92030649f1fc8b198738a8cc104
Related-blueprint: autogen-neutron-conf-file
Partial-bug: #1199963
Depends-On: I1c6dc4e7d479f1b7c755597caded24a0f018c712
Co-Authored-By: Louis Taylor <louis@kragniz.eu>"
jdandrea,2015-11-30 15:35:13,https://api.github.com/repos/openstack/devstack/git/commits/779d8670287952b8865a1d506ba2d68406139430,779d8670287952b8865a1d506ba2d68406139430,"Force heat deferred_auth_method to password in standalone mode

Heat does not support Keystone Trusts when deployed in standalone
mode. This change forces an error when HEAT_DEFERRED_AUTH is set
to anything other than ""password"" if HEAT_STANDALONE is True and
advises of the acceptable setting.

Change-Id: Ib4ee9d9af396093137a2a0f99f1b18ae153ccdb3
Closes-Bug: #1463837"
sakaia,2015-11-30 11:20:21,https://api.github.com/repos/openstack/devstack/git/commits/5509ed579773bf1a69bc5fb406a206a6da010c56,5509ed579773bf1a69bc5fb406a206a6da010c56,"Fix comment typos in inc/ and tests/ directories

valu3 => value3
enviromnet => environment
direcotry => directory
virualenv => virtualenv
editiable => editable
envirnment => environment

Change-Id: I97fb2d44a37b16d02d4fbdb08bfa33414349f651"
ianw,2015-10-13 00:03:03,https://api.github.com/repos/openstack/devstack/git/commits/523f48803609b35350b624244fa73b1030c1d5fa,523f48803609b35350b624244fa73b1030c1d5fa,"Namespace XTRACE commands

I noticed this when debugging some grenade issues failures.

An include of grenade/functions stores the current value of XTRACE
(on) and disables xtrace for the rest of the import.

We then include devstack's ""functions"" library, which now overwrites
the stored value of XTRACE the current state; i.e. disabled.

When it finishes it restores the prior state (disabled), and then
grenade restores the same value of XTRACE (disabled).

The result is that xtrace is incorrectly disabled until the next time
it just happens to be turned on.

The solution is to name-space the store of the current-value of xtrace
so when we finish sourcing a file, we always restore the tracing value
to what it was when we entered.

Some files had already discovered this.  In general there is
inconsistency around the setting of the variable, and a lot of obvious
copy-paste.  This brings consistency across all files by using
_XTRACE_* prefixes for the sotre/restore of tracing values.

Change-Id: Iba7739eada5711d9c269cb4127fa712e9f961695"
jumpojoy,2015-11-23 14:07:21,https://api.github.com/repos/openstack/devstack/git/commits/be3e553556a1a89f5046db79d3bc88fcad1d982a,be3e553556a1a89f5046db79d3bc88fcad1d982a,"Add discussion of LIBS_FROM_GIT

Add a pointer to installing clients via LIBS_FROM_GIT to local.conf
sample.  Mention in the git tree setup that the projects within are
usually installed via released pip versions.

Change-Id: I245094e51ea4a8ce983f6a1e48b6ab7ca5d309d0"
kahou82,2015-10-24 19:18:57,https://api.github.com/repos/openstack/devstack/git/commits/d663e29d40b04017c515c19891bb846ea984acde,d663e29d40b04017c515c19891bb846ea984acde,"Ensure the Linux Bridge agent can be used with provider networking

The root cause is that when provider network is used, devstack
is trying to build ovs related interface.

We need to make a condition such that if linux bridge is used, don't
build any ovs related interface.

Change-Id: I7f26ce7893a0ecce55b3467cd5621abf25745b8e
Closes-bug: #1509705"
jckasper,2015-11-23 17:56:33,https://api.github.com/repos/openstack/devstack/git/commits/bdc0fa8ab13ec5c75f1c793ca33f5a773fac1abc,bdc0fa8ab13ec5c75f1c793ca33f5a773fac1abc,"Neutron: Clean up documentation typo

Remove duplicate SERVICE_HOST and MYSQL_HOST settings in the
examples.

Change-Id: I0e102b671f03ccb183d30ec6a762d00ebcf1e4b5"
obutenko,2015-10-20 16:07:04,https://api.github.com/repos/openstack/devstack/git/commits/a366b97c0a76304bf0ddf7eb78e0efb4493df221,a366b97c0a76304bf0ddf7eb78e0efb4493df221,"Add flag for test_incremental_backup

Forced creation of incremental backup is not
implemented in old release (Juno and Kilo).
The test is skipped by default for Juno and Kilo gates.
Need to add flag to unskip this test in new release.

New test: Idde2c14aba78382b1063ce20269f4832f9fdd583
Change-Id: I565b5941d6067644fc9ca6cb0891d97f4946e031
Partial-Bug: #1506394"
jumpojoy,2015-11-18 08:12:34,https://api.github.com/repos/openstack/devstack/git/commits/f0dd6894af777d53c6d158d0720ea1b189f065a7,f0dd6894af777d53c6d158d0720ea1b189f065a7,"Use autogenerated flavor id

Fix to trove has been merged, and autogenerated flavor ID
is available since Kilo.

Related-Bug: #1333852

Change-Id: Ie4b3dd11a23fa5f91cf9ff22dd05f1afd0532cb4"
sdague,2015-11-18 15:02:31,https://api.github.com/repos/openstack/devstack/git/commits/c18b4a4e5c4ffa25fba1da0ec99c3ff061d1472e,c18b4a4e5c4ffa25fba1da0ec99c3ff061d1472e,"remove precise from the supported list

We haven't been testing master on precise for a long time, and changes
are coming that won't work on precise. If people want to keep running
on precise they should realize they are on their own with it. And that
we won't block any changes that use it.

Change-Id: I3697f1c2409ad08f49793dabb37011606188e6f6"
travelist,2015-11-20 09:36:05,https://api.github.com/repos/openstack/devstack/git/commits/255a58fec613b1304c8396cd969c72043073be30,255a58fec613b1304c8396cd969c72043073be30,"Add existing devstack plugins to the devstack plugin list

Change-Id: I336a4c652a78e778e39652f1f16ff69be10ab065"
afazekas,2015-11-19 09:47:58,https://api.github.com/repos/openstack/devstack/git/commits/e0129f3c248d8f246b470e21982cfefb919482b6,e0129f3c248d8f246b470e21982cfefb919482b6,"Fedora 23 supported

This change allows to use f23 without the FORCE=yes option.

Make sure you have latest kernel, or you have kernel-modules
installed for the running kernel.

f21 support will be removed when the gate jobs are upgraded
to use newer fedora version.

Change-Id: I6e3e64088187a7f6da745e3cfb07524fd31782ab"
ianw,2015-11-12 02:52:36,https://api.github.com/repos/openstack/devstack/git/commits/2ba36cda7940d630514a7864132837191d8c561f,2ba36cda7940d630514a7864132837191d8c561f,"Add vercmp function

The existing vercmp_numbers function only handles, as the name says,
numbers.  I noticed that ""sort"" has had a version sort for a long time
[1] and, rather than re-implement it badly, use this as a version of
vercmp that works a bit more naturally.

This is intended to be used in an ""if"" statement as in

  prog_ver=$(prog_ver --version | grep ...)
  if vercmp $prog_ver ""<"" 2.0; then
     ...
  fi

A test-case is added to test the basic features and some edge-cases.

[1] http://git.savannah.gnu.org/gitweb/?p=coreutils.git;a=commitdiff;h=4c9fae4e97d95a9f89d1399a8aeb03051f0fec96

Change-Id: Ie55283acdc40a095b80b2631a55310072883ad0d"
sdague,2015-11-17 16:59:07,https://api.github.com/repos/openstack/devstack/git/commits/7860f2ba3189b0361693c8ee9c65d8d03fb115d6,7860f2ba3189b0361693c8ee9c65d8d03fb115d6,"install ebtables locking workaround

ebtables is racing with itself when nova and libvirt attempt to create
rules at the same time in the nat table. ebtables now has an explicit
--concurrent flag, that all tools must opt into to prevent ebtables
from inherently being unsafe to run.

libvirt gained this support in 1.2.11, which is too new for our ubuntu
primary testing environment. Nova still hasn't added this support,
though even if it did, we'd run into the issue with libvirt.

We can do the most ghetto thing possible and create a wrapper for
ebtables that does explicit locking on it's own. It's pretty terrible,
but it should work. And it is the kind of work around that people
unable to upgrade libvirt will probably need to do.

This is an opt in value which we should set in the gate to True.

Related-Bug: #1501558

Change-Id: Ic6fa847eba34c21593b9df86a1c2c179534d0ba5"
dpkshetty,2015-11-18 06:59:33,https://api.github.com/repos/openstack/devstack/git/commits/93e2499ee1abfd2f9ed1ebda7a7d4d0deab04f80,93e2499ee1abfd2f9ed1ebda7a7d4d0deab04f80,"doc: document override_defaults phase

override_defaults phase was added to devstack in [1]
but documentation was pending. This patch adds the
same. For history around override_defaults, one can
refer to the mail thread [2]

Also fixes a small typo

[1]: https://review.openstack.org/#/c/167933/
[2]: http://lists.openstack.org/pipermail/openstack-dev/2015-March/059621.html

Change-Id: I1b58ca0ce0e4b85a1dbd710b4c426606fd4dcf45"
steveb,2015-11-17 21:55:22,https://api.github.com/repos/openstack/devstack/git/commits/bd4048a3c50e3cd215785e187e9e40b78bd064ae,bd4048a3c50e3cd215785e187e9e40b78bd064ae,"Never uninstall python-pip on fedora

Python in f23 and f22 depends on the python-pip package so removing it
results in a nonfunctional system. pip on fedora installs to /usr so pip
can safely override the system pip for all versions of Fedora.

Change-Id: I336c7ffdf00784ca8deba7d6612a08b96a0ad098
Closes-Bug: #1467569"
rcritten,2015-05-26 19:33:45,https://api.github.com/repos/openstack/devstack/git/commits/cdba7b0e533b07d9ea896ced5085c5ce98ee2aaa,cdba7b0e533b07d9ea896ced5085c5ce98ee2aaa,"Specify HTTPS URLs to fix tls-proxy mode

A number of new settings are required for glance, cinder
and keystone to be installable when the tls-proxy
service is enabled.

For cinder a new public_endpoint option was added and this
needs to be set to the secure port.

Keystone needs the admin_endpoint and public_endpoints
defined otherwise during discovery the default,
non-secure versions, will be returned.

The keystone authtoken identity_uri was set at its default value
in the glance registry and API configuration files.

Change-Id: Ibb944ad7eb000edc6bccfcded765d1976d4d46d0
Closes-Bug: #1460807"
ianw,2015-11-12 03:49:20,https://api.github.com/repos/openstack/devstack/git/commits/95a9ff0587adece32817b4f432588b1ab76a5972,95a9ff0587adece32817b4f432588b1ab76a5972,"Add option to skip EPEL & other repo installs

Add an option to skip the EPEL & other repo installs for rhel7 based
platforms.

This option can serve two purposes; firstly as described in
I834f20e9ceae151788cec3649385da1274d7ba46 during platform bringup, a
publically available EPEL might not be available.  This will allow you
to pre-configure a hand-built repo, etc. so you can continue testing.

The other thing is that in a CI system you might be frequently
building images and pre-installing EPEL/RDO etc.  In that case this is
just extra work.

Change-Id: I9809449f4a43fa9b547c6e3ca92722c7f6e66d6a"
ianw,2015-11-09 06:42:23,https://api.github.com/repos/openstack/devstack/git/commits/ecf06dbadb7c4cafb7a2fab13e58c1b05dd8a3f2,ecf06dbadb7c4cafb7a2fab13e58c1b05dd8a3f2,"Add test for package file ordering

Add a simple test to ensure package install files remain sorted
alphabetically (follow-on from the sorting of the files done in
I01e42defbf778626afd8dd457f93f0b02dd1a19d)

Change-Id: I75568871e92afcd81dac2c3ce18b84aa34cdd289"
ianw,2015-11-13 00:15:15,https://api.github.com/repos/openstack/devstack/git/commits/ca7e4f285cfb68bae13e8df770dc2b5856559ecd,ca7e4f285cfb68bae13e8df770dc2b5856559ecd,"Fix error detection & exit in report_results

We wish to fail if we have >0 zero errors, not >1 errors (i.e. exactly
one error did not trigger a failure!)

This change also brings consistency to the pass & failure paths by
ensuring report_results exits in both cases, since report_results is
supposed to be the last thing run in a test file.

Change-Id: Id4721dffe13721e6c3cd71bca40c3395627e98bf"
stevemar,2015-10-21 04:47:43,https://api.github.com/repos/openstack/devstack/git/commits/bbe59edb6f4a5828362c59a200f6ede00f97a4c3,bbe59edb6f4a5828362c59a200f6ede00f97a4c3,"Use openstackclient in swift exercises

With the release of osc 1.8.0, swift support has been expanded and
we can now remove references to the swift CLI from this exercise
file. Also made minor improvements to comments.

Change-Id: I04069eb6251f8cbf8266183441b2cfdb64defd7d"
lyanchih,2015-11-13 11:10:48,https://api.github.com/repos/openstack/devstack/git/commits/65a028bf1c3685e16fafbc7c44adaeeeb6e9cf58,65a028bf1c3685e16fafbc7c44adaeeeb6e9cf58,"[ceph] Deploy ceph failed at controller node for multiple node

Controller node wouldn't install libvirt package. The package will only
been installed at nodes which had enable nova-compute.
We only need to configure libvirt secret if it had enable nova-compute.

Change-Id: I9cd6baf1820ce9f71c276d7e8b670307833578a5
Closes-Bug: 1515960"
sakaia,2015-11-13 08:06:16,https://api.github.com/repos/openstack/devstack/git/commits/fe7b56cdefa4d5cb99b868e5659128601edf3600,fe7b56cdefa4d5cb99b868e5659128601edf3600,"Fix typos for stack.sh and lib of comments and message

Fix 10 comments and 1 message

stack.sh
  Certicate => Certificate (comment)
lib/stack
  Sentinal => Sentinel (comment)
lib/neutron-legacy
  overriden => overridden (comment)
  necesssary => necessary (comment)
  notifiy => notify (message)
  notifations => notifications (comment)
lib/rpc_backend
  orginal => original (comment)
  cofiguration => configuration (comment)
lib/stack
  confgured => configured (comment)
lib/swift
  additinal => additional (comment)
  calclution => calculation (comment)
  maximun => maximum (comment)

Change-Id: I3637388b67decb007cd49af9addecc654009559b"
sc68cal,2015-11-11 18:36:35,https://api.github.com/repos/openstack/devstack/git/commits/790266f0d2b752627a8ac641c8f1c9ba1e8e85e8,790266f0d2b752627a8ac641c8f1c9ba1e8e85e8,"Delete $IPV6_PUBLIC_NETWORK_GATEWAY IP during cleanup

So that it does not end up being the IP address that is picked to move
back to $PUBLIC_INTERFACE when we call _move_neutron_address_route

Change-Id: I3d29d4f11feff308f6ad5d950ef004b48ec11b67
Closes-Bug: 1514984"
afazekas,2015-11-05 08:47:38,https://api.github.com/repos/openstack/devstack/git/commits/adcf40d5f8ec0509fe9230e04bf0bd3f269a3f53,adcf40d5f8ec0509fe9230e04bf0bd3f269a3f53,"Ensure python is installed

devstack can call python before parsing the
package requirements, so the python installation
needs to be done eralier.

Closes-Bug: #1488625
Change-Id: I85cca899aeedd741cf7dc695435d61390e260f22"
sakaia,2015-11-12 10:50:00,https://api.github.com/repos/openstack/devstack/git/commits/33c9a67ead4b61a9eb423f71ca4f8e062c3b5ebd,33c9a67ead4b61a9eb423f71ca4f8e062c3b5ebd,"Fix typos on three comments and one message

Fixes typos on three comments and one message
in functions/functions-common

Change-Id: I2c926ca29b284afd4534b92860fa46f248676a83"
Annie-XIE,2015-08-27 11:34:24,https://api.github.com/repos/openstack/devstack/git/commits/201e3c133e28acb6dcdeb017389718db0775a748,201e3c133e28acb6dcdeb017389718db0775a748,"XenAPI:Fix problems to support xenserver+neutron

The lack of a CI for XenAPI + Neutron has meant this support has been
broken over time. This is set of one-off fixes that are needed to
reintroduce support while we work towards getting a CI functional

Related-Bug: #1495423
Change-Id: Id41fdc77c155756bda9e2e9ac0446a49f06f0603"
tbreeds,2015-11-10 04:23:30,https://api.github.com/repos/openstack/devstack/git/commits/34a5aa5110c9651e2cf33d694d71b1e450495495,34a5aa5110c9651e2cf33d694d71b1e450495495,"Remove unused compat variable SCREEN_DEV

Currently we set USE_SCREEN to SCREEN_DEV if it's set.  There is a
comment to remove it once it's eracticated from CI.

AFAICT this pre-condition has been met.

Change-Id: I1423c8b9c18d1b3e34dbfe1c03be735c646a12b4"
tbreeds,2015-11-09 04:45:04,https://api.github.com/repos/openstack/devstack/git/commits/9329290183c96be45363325a244861065413562d,9329290183c96be45363325a244861065413562d,"Update comments to reflect current USE_SCREEN usage

In a couple of places the tracking of USE_SCREEN has drifted from the
comments.

Correct that.

Change-Id: I63bdd5ca4de49bf653f5bc8f8e0e5efe67ef605c"
sdague,2015-11-10 19:39:07,https://api.github.com/repos/openstack/devstack/git/commits/5cad4d3fe94f2e3823a8d9a2588b3a580d69605c,5cad4d3fe94f2e3823a8d9a2588b3a580d69605c,"refactor zookeeper into a slightly more generic dlm module

This attempts to make the zookeeper installation a bit more modular
(assuming that other folks will want to add other dlms as plugins),
and addresses the service start issues with zookeeper under
ubuntu/upstart.

Zookeeper is not going to be installed by default. Services need to
ask for it with use_dlm.

Change-Id: I33525e2b83a4497a57ec95f62880e0308c88b34f"
tbreeds,2015-10-20 00:21:57,https://api.github.com/repos/openstack/devstack/git/commits/2e8695b0756969d89cd4152e7496df9bf540eaa3,2e8695b0756969d89cd4152e7496df9bf540eaa3,"Add development libraries needed by Pillow

Change I8da7dd95ae24cf06dc7bdc300fcf39947a6df093 added Pillow build deps
to nodepool thick slaves.  This means that Pillow 3 will work in unit
tests.

Make the matching change to allow Pillow 3.0.0 to work under devstack.

The longer term aim is to remove temporary upper cap.

Change-Id: I2bec8cf1bfeaaa6ae329704229fdeb86d26e55c7"
rtheis,2015-10-13 12:51:05,https://api.github.com/repos/openstack/devstack/git/commits/7e550682977b0c3a6a667af6691760d8a7506e9b,7e550682977b0c3a6a667af6691760d8a7506e9b,"doc: Update LBaaS v2 setup for Liberty

- Updated LBaaS v2 setup to use Octavia.
- Removed the old cirros image URL, the default should be sufficient.
- Fixed nova boot commands based on Liberty DevStack.
- Added sleeps to LBaaS v2 commands since most commands
  can take a few seconds to complete.
- Added wait to load balancer creation since it can take
  a few minutes to complete.
- Wrapped long lines in the descriptions.

Change-Id: Ib4a3f02ebc2606e3e16591ae3a23676cb0a6cd64"
sdague,2015-11-10 17:22:03,https://api.github.com/repos/openstack/devstack/git/commits/90dd262c19d7387ef6b438aea5e6eb13f3fd609d,90dd262c19d7387ef6b438aea5e6eb13f3fd609d,"fail if devstack attempts to be run under virtualenv

This has come up on the mailing list recently, we should just fail
early and explicitly so that people don't get way down this path and
not realize it's never going to work.

Change-Id: I8a7f001adf3a5244b8655858ebd5fc7014a4af55"
sc68cal,2015-10-12 15:01:44,https://api.github.com/repos/openstack/devstack/git/commits/1650166c2594905ca16c02b58430f4f5bd9ed24c,1650166c2594905ca16c02b58430f4f5bd9ed24c,"docs: Add more networking details to single interface section

Add complete localrcs, and also add a section for additional compute
nodes, to help demonstrate the OVS layout and how traffic flows over
VXLAN tunnels from compute nodes, to the L3 node, and out onto the
wire.

Closes-Bug: #1506733

Change-Id: Ibb5fd454bdcb8c13400c1e11f640c2aafc0f73ca"
sc68cal,2015-11-10 18:30:20,https://api.github.com/repos/openstack/devstack/git/commits/9af81997b543f7634c180b73a036c59456118b50,9af81997b543f7634c180b73a036c59456118b50,"Only take the first global, non temporary ipv6 address

Taking a temporary IPv6 address created through the OS' support for
Privacy Extensions (RFC 4941) is not very useful. It would occur because
it happened to be the first in the list returned from ip(8). Instead,
grab the first IPv6 address that is not a temporary address.

Related-Bug: #1488691

Change-Id: I7f455572241e7d0c7406f173239a2270a4d8926a"
sc68cal,2015-11-09 16:06:39,https://api.github.com/repos/openstack/devstack/git/commits/59e86a3aae3ca49ae3a400c1fcc49c53c9328fd2,59e86a3aae3ca49ae3a400c1fcc49c53c9328fd2,"Replace default route for inet6

When taking the IPv6 addresses from an interface, also update any routing
table entries.

Change-Id: I0424de6c5c1b0fcb7a9bc3fc1475036668cab09d
Closes-Bug: 1514494"
afazekas,2015-11-06 17:18:57,https://api.github.com/repos/openstack/devstack/git/commits/f6cee0fa2041a9188ad5e3e24e87ebd513729da8,f6cee0fa2041a9188ad5e3e24e87ebd513729da8,"Install kernel-modules package on fedora

Since f21 the kernel modules are split to multiple packages
and by default just the core modules gets installed.

nova requires iscsi_tcp module for attaching a volume
from any iscsi source (default cinder lvm setup).

On el7 it is not required.

Change-Id: I31705720ade5defd1b6d4b95bc51c2a11a5f0364
Related-Bug: #1429504"
tbreeds,2015-11-08 23:05:37,https://api.github.com/repos/openstack/devstack/git/commits/536b8c1d2cf9d2523dc60f74190ef566a8c3fc4b,536b8c1d2cf9d2523dc60f74190ef566a8c3fc4b,"Allow screen without logging to disk

In some niche setups it is desirable to run OpenStack services under
screen, but undesirable to automatically keep a persistent log from
each service.

Add a new variable SCREEN_IS_LOGGING that controls if screen logs each
window to disk automatically.

Ideally screen itself would be configured to log but just not activate.
This isn't possible with the screerc syntax.  Temporary logging can still
be used by a developer with:
    C-a : logfile foo
    C-a : log on

Change-Id: I2a3abf15dea95ae99ddbdfe1309382df601b7d93"
johndavidge,2015-07-07 10:10:54,https://api.github.com/repos/openstack/devstack/git/commits/8a3b7d424d8edf53d0560db48247e6bca11176ee,8a3b7d424d8edf53d0560db48247e6bca11176ee,"Fix stack failure when default subnetpool is set

Currently stack.sh will fail if a value is set for
default_ipv4_subnet_pool and/or default_ipv6_subnet_pool in
neutron.conf. This is because setting either of these values
overrides the default behaviour of using the implicit (none)
subnetpool for subnet creation, and the subnetpools
specified in neutron.conf have not been created at the time
of the devstack calls to subnet-create.

This patch fixes the failure by specifying subnetpool = None
in calls to subnet-create, so that neutron will behave as
devstack expects. This parameter will no longer be required
once these configuration options are removed in the OpenStack
N release, but will be required for compatibility with Kilo,
Liberty, and Mitaka.

Change-Id: I29b2d62a022b43f6623b127af2ca303f9de847b0
Closes-Bug: #1472200"
sdague,2015-11-09 19:08:15,https://api.github.com/repos/openstack/devstack/git/commits/5c5e08669cb7539886cb3477fc7c4c7deb701f50,5c5e08669cb7539886cb3477fc7c4c7deb701f50,"loop all ebtables tables

ebtables has 3 built in tables, if we don't call them out we only get
'filter' (per man page).

Change-Id: I52360cbb3b910cb492b61e2314848cc29dcd8266"
sc68cal,2015-11-09 13:08:53,https://api.github.com/repos/openstack/devstack/git/commits/7ddf6741d24485aa40de122f4bfdf4cd55e7cfad,7ddf6741d24485aa40de122f4bfdf4cd55e7cfad,"Neutron-legacy: Remove LINUXNET_VIF_DRIVER option

A value is never assigned, and it ends up in the nova.conf file as:

linuxnet_interface_driver =

So, let's delete it.

Change-Id: Ibc270ce6ee622eee871df1f8c11f21e8be8280ee"
ianw,2015-11-09 06:26:24,https://api.github.com/repos/openstack/devstack/git/commits/3dac869f80e90795efc2127b713cc5282f4eabb5,3dac869f80e90795efc2127b713cc5282f4eabb5,"Cleanup some of the deb/rpm installs

python-devel and the mysql/postgresql client dev-libs should all be
installed globally via the ""general"" installs; no need to installs
them separately

Change-Id: I91a9ace2e62a891634dbb4635ab2ad8c8dc59f91"
ianw,2015-11-09 04:20:22,https://api.github.com/repos/openstack/devstack/git/commits/c416d8b94f473908a82f4e842c768927b62fc20a,c416d8b94f473908a82f4e842c768927b62fc20a,"Sort rpm/deb files alphabetically

This is rather trivial, but it makes comparing the files much easier

Change-Id: I01e42defbf778626afd8dd457f93f0b02dd1a19d"
ianw,2015-11-09 04:04:32,https://api.github.com/repos/openstack/devstack/git/commits/7d515b5db8e98a54ff9c8c5211383f9f2c33b2db,7d515b5db8e98a54ff9c8c5211383f9f2c33b2db,"Add check for get_packages argument

Add a quick check so we don't reintroduce bad arguments as in
Ie1b8d09369281059d21da61b2725a457f708ae9e

Change-Id: Ibebc71791f2743eef64d6f7c2596d54a73ea92aa"
sirushtim,2015-10-07 09:36:51,https://api.github.com/repos/openstack/devstack/git/commits/c00df207eed1d4dec808824d8e9dcd238e7d4e08,c00df207eed1d4dec808824d8e9dcd238e7d4e08,"Add a more accurate expression for obtaining (IPV6_)ROUTER_GW_IP

neutron port-list returns a dictionary that's of random order in python 3.
This expression sometimes returns a NULL value thus failing devstack.
Add an expression that always returns a consistent ROUTER_GW_IP.

Change-Id: Id23d9afda275051ca68bcba2dfd1b6e30f02c628"
ianw,2015-11-09 01:21:10,https://api.github.com/repos/openstack/devstack/git/commits/a5e4c0f279b6101436820dbb6b3da3d06131c12d,a5e4c0f279b6101436820dbb6b3da3d06131c12d,"Clear out some duplicate package dependencies

I think these duplicate dependencies came in because we were not
correctly always installing ""general"" packages (see
Ie1b8d09369281059d21da61b2725a457f708ae9e)

Most of these are just extras for the lxml dependencies; I added zlib
devel to general for glance (seems pretty generic), and then that can
go too, as all other packages are specified.

Change-Id: I44b14ca15c64fad9daf1ac8d851704b02ea2eae0"
ianw,2015-11-09 01:02:51,https://api.github.com/repos/openstack/devstack/git/commits/a7e0b39a64f53f77f970c90d17f621be74f95215,a7e0b39a64f53f77f970c90d17f621be74f95215,"Move devlib packages into ""general""

The removal of the wheel caching code
(Ia140dc34638d893b92f66d1ba20efd9522c5923b) removed the install of the
""devlib"" packages, which was being done with a call in
tools/build_wheels.sh

The idea of ""devlibs"" and ""general"" seems to be pretty much the same
thing -- global build requirements.  I have removed the unused devlibs
files, and moved any missing packages into the ""general"" package
install file.

Change-Id: I8f34a164d6785a122394b42387d4221a7b447ae1"
ianw,2015-11-09 00:55:56,https://api.github.com/repos/openstack/devstack/git/commits/b8509f09d670460aa3e9e2b09cf60dbf8cdbb03b,b8509f09d670460aa3e9e2b09cf60dbf8cdbb03b,"Really get the ""general"" packages

We are specifying the argument to get_packages incorrectly, so we are
not actually adding the packages in ""general"" to the list of packages.

In most cases, this is hidden as other more specific plugins/services
request their packages.  However, as
I2dafd32f211fcbc9fff53030d736d97a5f1bb2df shows, not always.  I think
this was uncovered by 5f8133caac097235ed4fe73d878df0ee907eb51c

Change-Id: Ie1b8d09369281059d21da61b2725a457f708ae9e"
jimrollenhagen,2015-11-06 20:37:32,https://api.github.com/repos/openstack/devstack/git/commits/63cac536efa3474af40ea24603fca5e1d0a74e13,63cac536efa3474af40ea24603fca5e1d0a74e13,"Ironic: Explicitly allow DHCP ports

This adds an iptables rule to allow ports 67 and 68. We see
occassionally dropped DHCP packets, which may be causing PXE failures in
ironic jobs.

I'm not 100% confident this fixes the issue, however I don't think it
can break anything and it rules out one theory.

Change-Id: I4630afb6f010a4c2cb146a79264c480c64c6e4b7
Related-Bug: #1393099"
mriedem,2015-11-06 18:26:14,https://api.github.com/repos/openstack/devstack/git/commits/6cd616a9edf6561ebc802f3083eb24f2713d4e96,6cd616a9edf6561ebc802f3083eb24f2713d4e96,"Disable resize tests in Tempest if using cells with custom flavors

By default, devstack creates it's own test flavors for Tempest runs.

These are not in the cells API database since they are non-default
for nova so any resize tests in Tempest with cells and these custom
flavors fail.

Configure Tempest to not run resize tests if using cells and custom
flavors.

This allows us to also clean up a bunch of the resize skips found
in nova/devstack/tempest-dsvm-cells-rc.

Change-Id: I20f46024e45e32c60275703a193a56ae8cfe7eca
Closes-Bug: #1513925"
sdague,2015-11-06 16:48:19,https://api.github.com/repos/openstack/devstack/git/commits/5f8133caac097235ed4fe73d878df0ee907eb51c,5f8133caac097235ed4fe73d878df0ee907eb51c,"remove gratuitous python packages

With pip + upper-constraints we're nearly always over installing all
python packages because we no longer support a range, we support
*exactly* one version.

This removes a bunch of the gratuitous package installs which we're
going to install over, lxml, numpy, libvirt. All of these we had
coming from packages in the past for speed concerns, but upper
constraints removes that.

It also ensures that all the headers to build all those are in
general, so they are guarunteed available at all times.

Change-Id: Ia76de730d65c84d81c4fb2c980ae1b4d595f9f5b"
sakaia,2015-11-06 05:25:46,https://api.github.com/repos/openstack/devstack/git/commits/e9ef0fefa52a2d30079eba1dead1a4df61a6ad7d,e9ef0fefa52a2d30079eba1dead1a4df61a6ad7d,"Remove lib/neutron_plugins/ibm

SDN-VE on neutron is already removed.
This patch removes SDN-VE from devstack.

Ref.
  Removing the SDN-VE monolithic plugin
  https://review.openstack.org/#/c/217703/
  Remove IBM SDN-VE left-overs
  https://review.openstack.org/#/c/237716/

Change-Id: Ie1b531153d1632798235b1100cdf9b068edcce26"
sakaia,2015-11-06 04:35:24,https://api.github.com/repos/openstack/devstack/git/commits/ec7f490a687ab01f520835341c09cef9f697f05d,ec7f490a687ab01f520835341c09cef9f697f05d,"Remove 'enable_service tempest' from sample/local.conf

tempest is already defined in stackrc as default.
Without this definition in local.conf,
tempest is installed successfully.

If it still needs ""enable_service tempest"" definition
on local.conf,
devstack itself has some problem.
In my environment, tempest installation works
without this definition on local.conf.

Change-Id: I25cda0142538d21bb9656b471e65ca5b018e8378"
sakaia,2015-11-06 04:23:47,https://api.github.com/repos/openstack/devstack/git/commits/e3c2673ae447d8b3cc4649f5efde5b84e26f6cd9,e3c2673ae447d8b3cc4649f5efde5b84e26f6cd9,"Fix two typos on faq.rst

guarunteed => guaranteed
Centos     => CentOS

Change-Id: Id356443fcdc4128ff20d7a89158265aa16c105b2"
afazekas,2015-11-05 09:09:02,https://api.github.com/repos/openstack/devstack/git/commits/9127c1a56bc1504ae77df25b0da7a6d0a5f0bfe8,9127c1a56bc1504ae77df25b0da7a6d0a5f0bfe8,"Do not remove python-pip package on Fedora-23

python on fedora 23 compiled with rewheel support,
in this case the python-pip is a required package, and cannot be
removed.

[1] http://pkgs.fedoraproject.org/cgit/python.git/tree/python.spec?id=3b6fac0339bab69ca5fbf2881568f0565ab0e252#n174

Change-Id: I499b7bec97c4360b32d156079f2b7f3923e3888a"
sdague,2015-11-04 17:31:39,https://api.github.com/repos/openstack/devstack/git/commits/9013bb0c24623ce8d064b561d4fd331e370762e1,9013bb0c24623ce8d064b561d4fd331e370762e1,"remove wheel cache code

Thanks to lifeless, pip now implicitly has a wheel cache so that it
builds a wheel before every install, and uses that cache. All our
clever attempts at manually doing wheelhouse things is actually
bypassing the existing cache and making things take longer.

We should remove all of this code and just let pip do this thing,
which is does very well, and get out of the way.

Change-Id: Ia140dc34638d893b92f66d1ba20efd9522c5923b"
dims,2015-11-02 22:23:39,https://api.github.com/repos/openstack/devstack/git/commits/33a96ffc2609d8477542002e56515a5026c2c48d,33a96ffc2609d8477542002e56515a5026c2c48d,"Zookeeper for DLM scenarios

In Tokyo, there was a cross project session on distributed
key locking:
https://etherpad.openstack.org/p/mitaka-cross-project-dlm

In support of the discussion there, we'll need support for
a zookeeper service in Devstack and ability to use libraries
like Tooz for DLM functionality.

In this review, we pick up some configuration files from
monasca-api and copy the lib/template to implement the
zookeeper lifecycle. Those services that need zookeeper
need to add ""zookeeper"" in ENABLED_SERVICES.

Change-Id: Icef26e5cdaa930a581e27d330e47706776a7f98f"
dims,2015-11-02 02:45:29,https://api.github.com/repos/openstack/devstack/git/commits/0c96c37b5d9775a5c0ad257f210112f76f7987e7,0c96c37b5d9775a5c0ad257f210112f76f7987e7,"Enable devstack for Ubuntu 15.10 Wily

Change-Id: I2056fd26d42f29ececc4c38fdd791589ec7037a0"
stevemar,2015-10-21 03:15:38,https://api.github.com/repos/openstack/devstack/git/commits/a91d455e23f68613db0e67fea339a13fd9eae7d4,a91d455e23f68613db0e67fea339a13fd9eae7d4,"change `swift post` to openstackclient cli command

with the release of osc 1.8.0, modifying object store account
properties is now available. use this mechanism and avoid setting
environment variable that are only helpful for swift CLI.

Change-Id: Ie51e3e2bb86162763f23d0a6bed36208811f89fc"
hickeyma,2015-10-20 11:13:19,https://api.github.com/repos/openstack/devstack/git/commits/dca49de22f57f3b2f502380b2cbfedb0dcdba209,dca49de22f57f3b2f502380b2cbfedb0dcdba209,"Use stevedore aliases for interface_driver configuration

interface_driver configuration was updated to use stevedore aliases.
This patch is to change devstack scripts to now use the aliases
instead of the previous class imports.

Closes-Bug: #1504536

Change-Id: Ic56bfcc1f9da05a999e6fd328e4dd6617e9470ff"
tmmorin,2015-09-01 08:33:10,https://api.github.com/repos/openstack/devstack/git/commits/85f42f698c7bd74d53309da486fbf44ed860c348,85f42f698c7bd74d53309da486fbf44ed860c348,"Provide an error message on bogus config file spec

If local.conf specifies a config file addition in the following way...

[[post-config|$MY_CONF_FILE]]
[xyz]
foo=bar

...and $MY_CONF_FILE points to a file whose directory is not writable by
the user running the script, then stack.sh aborts with the following
obscure message:

  2015-09-01 08:20:08.113 | touch: setting times of '/': Permission denied

This patch modifies inc/meta-config to provide a useful error message,
such as:

  2015-09-01 08:20:08.114 | could not create config file / ($MY_CONF_FILE)

This patch also modifies inc/meta-config so that it provides an error
message if $MY_CONF_FILE is empty (instead of silently ignoring this local.conf
statement):

  2015-09-01 09:38:53.406 | bogus config file specification: $MY_CONF_FILE
  is undefined

Change-Id: I9b78407420318548561012a8672762bc7fdd6db6
Closes-Bug: 1490881"
markuszoeller,2015-11-02 10:27:46,https://api.github.com/repos/openstack/devstack/git/commits/c30657d7de1a253ffd541d07a0b449d395cb8eab,c30657d7de1a253ffd541d07a0b449d395cb8eab,"Cleanup ReST format issues

* ReST doesn't allow monospace in italic sections.
      bash$ grep -R \`\` doc/build/html/ --include ""*.html""
* The code-block section ""::"" needed an empty line before the code,
  otherwise it gets shown in the HTML output.
      bash$ egrep -R ""<dt>::"" doc/build/html/ --include ""*.html""
* Monospaced font incorrectly marked with a single back tick
      bash$ egrep -nR '\w`(\s|[\.,;:])' doc/source/ --include ""*.rst""

Change-Id: I66c3f685f33851c3f3f0f859996037fc24930246"
hichihara,2015-11-02 08:39:48,https://api.github.com/repos/openstack/devstack/git/commits/508931ff367df646d1fa6068008fe550c5572d02,508931ff367df646d1fa6068008fe550c5572d02,"Remove Ubuntu 14.10 as supported distribution

Ubuntu 14.10(utopic) reached end of life[1].

[1]: https://lists.ubuntu.com/archives/ubuntu-announce/2015-July/000197.html

Change-Id: Iab13ca797bda56462d9d117aa500d3ba0d9bebcb"
niwa-kj,2015-07-11 13:09:49,https://api.github.com/repos/openstack/devstack/git/commits/463a0e6d980690d00b17b9ebcfaf83c2f12d7615,463a0e6d980690d00b17b9ebcfaf83c2f12d7615,"Replace hard-coded --ipv6-address-mode

Looks like this was just a typo in the original
d1498d74db816b3edbb8376ca5acb7cc5792ea5c ; replace with
environment variable

Change-Id: I877c1a570a68e926c91fc8a393217e6b18245f82"
mhorban,2015-06-11 17:01:41,https://api.github.com/repos/openstack/devstack/git/commits/08abba008e735d333f9180180c6a28e7cd5a1171,08abba008e735d333f9180180c6a28e7cd5a1171,"Add ability to run Nova metadata under Apache2

This patch allows to run Nova metadata service using Apache
on port 80 under /metadata URL.

Change-Id: I18f3399738c31166eac884a9b0d5c4045d3f445c"
andreykurilin,2015-10-30 14:24:19,https://api.github.com/repos/openstack/devstack/git/commits/55a1bca28215a7623c9bd067a663e176d4b3e672,55a1bca28215a7623c9bd067a663e176d4b3e672,"Remove wrong paramter COMPUTE_API_VERSION

Since:
 - novaclient doesn't require specify the *compute api* version
  (default is 2.latest now)
 - novaclient doesn't use COMPUTE_API_VERSION, since it's wrong name(
   OS_COMPUTE_API_VERSION is a correct name)

we can remove COMPUTE_API_VERSION and NOVA_VERSION vars

Change-Id: I47856863e9403870b8d60c778b97d3de1a212ae1"
gonzolino,2015-10-30 13:25:41,https://api.github.com/repos/openstack/devstack/git/commits/0ec80802735163fdbdb4ceaa339aa73f93bbd87a,0ec80802735163fdbdb4ceaa339aa73f93bbd87a,"Remove multi-region workaround

When keystone API v3 was introduced, filtering regions when listing
endpoints was not supported (see [1]). This caused multi-region devstack
deployments to fail (see [2]). A workaround was introduced to devstack
to enable for multi-region deployments until region filtering would work
in keystone API v3.
Now that the bug related to region filtering in keystone is resolved,
the workaround should be removed.

[1]: https://bugs.launchpad.net/keystone/+bug/1482772
[2]: https://bugs.launchpad.net/devstack/+bug/1483784

Closes-Bug: #1511745
Related-Bug: #1483784
Related-Bug: #1482772
Change-Id: I52d13c3f5e7b77a7f8fb1be4dcea437988ebddfe"
stephenfin,2015-10-29 20:12:26,https://api.github.com/repos/openstack/devstack/git/commits/5ea1e16d83d6312fb17976ded0ab1a6a3773ca4d,5ea1e16d83d6312fb17976ded0ab1a6a3773ca4d,"lib/nova: Remove 'DEFAULT/verbose'

The 'verbose' option has been deprecated by oslo_log. Using it
results in a warning for the 'nova-manage' command and likely
many other OpenStack commands.

Change-Id: Icc11b25f56ebc62443c6afa90b9572d5c63b3882
Partial-bug: #1511505"
mriedem,2015-10-29 16:48:17,https://api.github.com/repos/openstack/devstack/git/commits/cdcdeb64602ea271bedf20f58a9f1ca1c0075c84,cdcdeb64602ea271bedf20f58a9f1ca1c0075c84,"Remove CINDER_VOLUME_CLEAR value validation

132fbcd38ebae52bdd20da54905131b75581520f in cinder changed the
volume_clear StrOpt to use the choices kwarg which enforces the value
specified and raises a ValueError if an invalid value is set for the
option in cinder.conf.

This lets us remove the validation that devstack was doing.

Change-Id: Ia7eead6297ed0f3a972de2021170fe9c7225e856"
mhorban,2015-10-22 19:47:49,https://api.github.com/repos/openstack/devstack/git/commits/7159b4ba5956c0fd3141fe13ac40057364683c9c,7159b4ba5956c0fd3141fe13ac40057364683c9c,"Config graceful_shutdown_timeout option for services

To avoid hanging services during gracefull shutdown option
graceful_shutdown_timeout should be configured.

Closes-Bug: #1446583

Change-Id: I2b7f0df831d65c55ae8cae241478f49c9641d99f"
0xDEC0DE,2015-01-21 21:40:42,https://api.github.com/repos/openstack/devstack/git/commits/347dbac04e8988a01e3330e34b57f1e5b3c6aa2a,347dbac04e8988a01e3330e34b57f1e5b3c6aa2a,"Add the ability to install/enable Heat plugins

Adds the $ENABLE_HEAT_PLUGINS variable, which should be a list of
the names of the plugins the user wishes to install.

Change-Id: I2ba90002a8fad1cdce6543c89dc37c5912fe133e"
ianw,2015-10-19 03:17:18,https://api.github.com/repos/openstack/devstack/git/commits/5cdee8dd3311e501302993cd8c81b39cb6b45090,5cdee8dd3311e501302993cd8c81b39cb6b45090,"Update to bashate 0.3.2

Bashate 0.3.2 has a few new checks -- firstly make sure some of the
plugins have #!/bin/bash, and fix up a couple of ""local"" changes that
were missed by I9c8912a8fd596535589b207d7fc553b9d951d3fe

Change-Id: I9e4b1c0dc9e0f709d8e76f9c9bf1c9478b2605ed"
mriedem,2015-10-28 16:50:01,https://api.github.com/repos/openstack/devstack/git/commits/cf94edcbbdde75de3ce627d7e092936bc014d5f6,cf94edcbbdde75de3ce627d7e092936bc014d5f6,"Disable shelve/snapshot/cinder when running Tempest with libvirt+lxc

The libvirt+lxc backend in nova does not support shelve, image snapshot
or any volume-related actions (so pretty much anything to do with
cinder), so we need to configure tempest to not run tests that hit those
operations/service when using libvirt/lxc.

This is part of an overall effort to get a CI job running for nova with
the libvirt+lxc configuration per:

Ic07c39e219121ba6b8b20de2b83a193bb735133d

Change-Id: I4decfcc5a5dfbabdecb3eb9fc93f1d1d6c2af805"
ochuprykov,2015-06-11 12:56:58,https://api.github.com/repos/openstack/devstack/git/commits/a692810ef05304856e5fd12ec786f3445ecca576,a692810ef05304856e5fd12ec786f3445ecca576,"Add toggle to run Heat API services via Apache2

Add templates for running Heat API services via
apache mod_wsgi. Also add appropriate functions to
lib/heat for configuring Heat.

Change-Id: I1bdd678c44ddfa616a9db7db85ff6f490ff08947"
emonty,2015-10-19 19:16:18,https://api.github.com/repos/openstack/devstack/git/commits/ee9bb76647e1424e0dc84d32df6ab8607dc4ec96,ee9bb76647e1424e0dc84d32df6ab8607dc4ec96,"Write clouds.yaml to only /etc

After having migrated the copies of clouds.yaml to just consume from
/etc, remove the duplicate copy.

Change-Id: I036704734785958c95d2234917d7b40bd797a375"
lennybe,2015-10-20 08:26:34,https://api.github.com/repos/openstack/devstack/git/commits/313ddaee6102fc03a3885bec3bf5e0d1e0214878,313ddaee6102fc03a3885bec3bf5e0d1e0214878,"Remove sudo from mkdir in $STACK_USER folder

This fails in the environment where sudo does not have permissions to
write in /home/$USER folder, e.g. [1]

Also clean-up the comment/variable usage a bit; the location isn't
actually variable at all (and that's fine, but we don't need a global
here)

[1] http://144.76.193.39/ci-artifacts/228979/10/Nova-ML2-Sriov/console.html.gz

Change-Id: I6807eae9d1c27219aa7c19de29f24fa851aa787c"
mhorban,2015-10-26 16:35:45,https://api.github.com/repos/openstack/devstack/git/commits/4abb31d9d86bee139a0bc3e9f7dfc5041e8b875f,4abb31d9d86bee139a0bc3e9f7dfc5041e8b875f,"Format of nova-api log files was corrected

When nova-api and nova-ec2-api services are started by Apache
(it can be done with devstack config option NOVA_USE_MOD_WSGI=True)
log files contained duplication of timestamp value.

Change-Id: I5439ea8f89ca3073600456f67220e9d3f5257d97
Closes-Bug: #1510517"
ZZelle,2015-10-22 20:25:45,https://api.github.com/repos/openstack/devstack/git/commits/b814b536c54f4ed840cf3eb436c4841d2ed575c4,b814b536c54f4ed840cf3eb436c4841d2ed575c4,"Prepare neutron ""use_namespaces"" option removal

The neutron use_namespaces option is deprecated since Kilo, it's time
remove it from neutron and devstack.

Related-bug: #1508188
Change-Id: I4feb2a15c7e1e4bfdbed2531b18b8e7d798ab3cc"
tbreeds,2015-10-23 02:57:14,https://api.github.com/repos/openstack/devstack/git/commits/7792bc39d4f9f7ec7fd1b81ddbb30c30988f03e6,7792bc39d4f9f7ec7fd1b81ddbb30c30988f03e6,"Add new oslo.privsep library to oslo repos

A new project olos.privsep has been created but failes sdvm testing as
even though the library is added ro PROJECTS and LIBS_FROM_GIT it isn't
installed by devstack.

Add oslo.privsep to the install_oslo function

Change-Id: Ia4d56747d56dcfe50889ebbdf9d553df13e1b950"
reimannf,2015-08-28 10:40:19,https://api.github.com/repos/openstack/devstack/git/commits/22f747b8df023dd74808df097f5fa5a92168f620,22f747b8df023dd74808df097f5fa5a92168f620,"Use swift port variable in keystone and cinder

This patch alows specifiying a deviation of the swift default port 8080 with
variable SWIFT_DEFAULT_BIND_PORT. The created endpoints in keystone for
object-store and the backup_swift_url in cinder.conf will use variable
SWIFT_DEFAULT_BIND_PORT instead of the fixed port 8080.

Change-Id: I47bbcf77368c430718fb8f29b7de1ff305e64422
Closes-Bug: #1489767"
mtreinish,2015-10-22 14:05:00,https://api.github.com/repos/openstack/devstack/git/commits/c148b13c60525be637d23a1330cf56376f11432f,c148b13c60525be637d23a1330cf56376f11432f,"Ensure we disable tenant isolation without admin

This commit fixes an issue with the tempest configuration when
TEMPEST_HAS_ADMIN is disabled. Without admin credentials tempest
is unable to create credentials at all so enabling tenant isolation
is not going to work. Previously devstack wasn't setting it one way
or the other when TEMPEST_HAS_ADMIN was set, which results in the
default of being enabled. So jobs that try to run tempest without
admin were failing.

Change-Id: Iff496cb5cbf29f17c130cfad746b48d8547ca965"
mhorban,2015-10-22 08:21:34,https://api.github.com/repos/openstack/devstack/git/commits/c49917250f2dc5243d652e59d8c70c1437975dea,c49917250f2dc5243d652e59d8c70c1437975dea,"Removed starting of nova-ec2-api service

Since nova-ec2-api service was removed from nova it is not
needed in devstack.

Change-Id: I91d4be02a1a9c2ca4d18256d9a37a5c2559f53b7
Closes-Bug: #1530798"
emonty,2015-10-19 19:13:30,https://api.github.com/repos/openstack/devstack/git/commits/8f385dde22815de5e7487e52cf78374f5c2967b3,8f385dde22815de5e7487e52cf78374f5c2967b3,"Write clouds.yaml to /etc as well

There are more than one user that need to access clouds.yaml values
in tests. Rather than copying the file everywhere, simply output
it to /etc/openstack.

However, we have things copying it at the moment, so output to
both places. A follow up patch will remove the homedir version.

Change-Id: I21d3c2ad7a020a5ab02dc1ab532feae70b718892"
zhangjinnan,2015-10-19 17:19:06,https://api.github.com/repos/openstack/devstack/git/commits/9f6b542a25dd6b48265c5e7317eb068886dc51c1,9f6b542a25dd6b48265c5e7317eb068886dc51c1,"change stackforge url to openstack url

beacuse of the stackforge project move to openstack project,
so change the document url to git://git.openstack.org/openstack/.

Change-Id: I1628c0aeb62ee519867fdaee56386e22978c4271"
zqfan,2015-10-18 08:31:40,https://api.github.com/repos/openstack/devstack/git/commits/c581c78c92dc5ea453bee8dd0a244554b4d6d57d,c581c78c92dc5ea453bee8dd0a244554b4d6d57d,"add file userrc_early to .gitignore list

After devstack runs ./stack.sh, there is a file named userrc_early
which contains sensitive information is created, we should add it
to ignore list, because it is only for end user debugging.

Change-Id: Ic99c279ec6a3606dc6f6ba9a7612b5ca7a2b6b10"
ianw,2015-10-15 00:50:10,https://api.github.com/repos/openstack/devstack/git/commits/b14f96fb7aa9512d17399eb38024af652df7bc11,b14f96fb7aa9512d17399eb38024af652df7bc11,"Pin bashate and allow for substitution

I want to release a new bashate, but I also don't want to risk
consuming it before fully testing it.  By pinning here, we can run all
our usual CI on new versions before accepting them.

Additionally, allow substitution of the bashate dependency via an
environment variable.  We can use this in a bashate test to substitute
a path to a checkout with any changes applied.

Change-Id: I165c4d66db8b7bdcff235ef7d8c99029637bb76a"
mriedem,2015-10-15 19:51:13,https://api.github.com/repos/openstack/devstack/git/commits/c94403d8e6c480dad6d962e517c623e1c14ac6d2,c94403d8e6c480dad6d962e517c623e1c14ac6d2,"Disable compute interface attach Tempest tests if using cells

Cells doesn't support the os-attach-interfaces API so disable those
tests in Tempest if running with Cells.

Change-Id: I5c7884407868eae70ea125f3f893c73214c04c75"
dtantsur,2015-10-15 12:30:50,https://api.github.com/repos/openstack/devstack/git/commits/5ed8af671328a0f9824bb33f9c637cc779a83ae3,5ed8af671328a0f9824bb33f9c637cc779a83ae3,"Fix devstack failure due to incorrect variable assignment

After I9c8912a8fd596535589b207d7fc553b9d951d3fe this approach leads
to a failure and breaks (at least) ironic-inspector gate.

Change-Id: I19bb8ada9a6f42d375838cc88a376715918c2a3e"
ianw,2015-10-14 04:12:32,https://api.github.com/repos/openstack/devstack/git/commits/975f4209d0d7e6a38ec82ce9caafabaea18f2e9d,975f4209d0d7e6a38ec82ce9caafabaea18f2e9d,"Save interactive passwords to separate file

The interactive password prompt currently saves to .localrc.auto

However, this is removed when you re-run stack; that is required as it
is how we source the localrc bits of local.conf, and we want the
users' changes to be picked up.

The passwords, however, should remain constant, because everything has
already been setup with them.  So write them to a separate file.  Note
we source before localrc so it can still overwrite them.

Some minor flow-changes too

Change-Id: I9871c8b8c7569626faf552628de69b811ba4dac0
Closes-Bug: #1505872"
hamzy,2015-10-14 18:42:18,https://api.github.com/repos/openstack/devstack/git/commits/746e72d4c3494b9765c2ba221c50f0ca20128c29,746e72d4c3494b9765c2ba221c50f0ca20128c29,"Restrict requests to fedora

The os_RELEASE for RHEL is 7.1 (for example). Which does not work for comparisons
to an integer.  And, while I am at it, change base_path to not use a hard-coded
directory.

Change-Id: I64a04810cc7ba4668c2cb7a8df79c206301e9e16"
ianw,2015-10-14 03:53:18,https://api.github.com/repos/openstack/devstack/git/commits/8043bfaf5ec6059e7245ff397672b1da0e563013,8043bfaf5ec6059e7245ff397672b1da0e563013,"Turn off tracing for service functions

These functions commonly externally called (as part of stackrc
inclusion, even) and do a fair bit of iteration over long
service-lists, which really fills up the logs of devstack and grenade
with unnecessary details.

The functions are well tested by unit-tests, so we are very unlikely
to need to debug internal issues with them in a hurry.  Thus turn
logging down for them.

Change-Id: I63b9a05a0678c7e0c7012f6d768c29fd67f090d2"
mhorban,2015-10-12 15:36:51,https://api.github.com/repos/openstack/devstack/git/commits/085855479f5a56e9ce21fdb83e2691c8aad56aa0,085855479f5a56e9ce21fdb83e2691c8aad56aa0,"Added processing /ec2 URL

With config option NOVA_USE_MOD_WSGI=True nova-ec2-api handles
requests on /ec2 URL.

Change-Id: I0c2e99bf8b5e5cf53cd176685b206038a4b0f78b"
litong01,2015-09-22 15:16:11,https://api.github.com/repos/openstack/devstack/git/commits/1d662e86bbafebbdef01307b20a7f8a21d1f8e03,1d662e86bbafebbdef01307b20a7f8a21d1f8e03,"HOST_IP should not be used in moving address to route

In neutron-legacy function _move_neutron_addresses_route, there are
few lines trying to figure out the bridge IP by assuming that the
bridge IP will be always same as the HOST_IP, this is not always true.
When the nic bears the HOST_IP and the nic which will be used as the
public network are different nics, the code in that method fails.
Eventually the function fails with network unreachable error.

This patch set fixes the problem, so that when HOST_IP and the IP for
the bridge are different, devstack will still be setup correctly.

Change-Id: I4d67f61c2ffd93f1e8ea2f8fe3b551044fab294e
Closes-bug: #1498538"
sdague,2015-10-08 21:12:03,https://api.github.com/repos/openstack/devstack/git/commits/cb658fab15dbf8074038bc76fc54ec4afccf5716,cb658fab15dbf8074038bc76fc54ec4afccf5716,"add pip install timing

Change-Id: I368fec44858bd97fc6a314fb20eed2b10932cbb1"
sdague,2015-10-07 15:05:59,https://api.github.com/repos/openstack/devstack/git/commits/95c33d532f5d69516c0fbe123595f00f00792995,95c33d532f5d69516c0fbe123595f00f00792995,"add timing infrastructure to devstack

this adds a timing infrastructure to devstack to account for time
taken up by set of operations. The first instance of this is
accounting the time taken up by doing apt_get calls.

Change-Id: I855ffe9c7a75e9943106af0f70cf715c34ae25c5"
sc68cal,2015-10-12 14:36:34,https://api.github.com/repos/openstack/devstack/git/commits/887f182fa146b20011f9127e5653df8b42fa4897,887f182fa146b20011f9127e5653df8b42fa4897,"docs: merge multiple interface sections with provider network section

In this guide, multiple interfaces in DevStack is only used when doing
provider networking, so let's go ahead and just put the information
inside the provider network section. That way it won't be confusing.

Change-Id: I66f58ffb936230e72ac4cf8c04668e25dac5b17a"
sdague,2015-10-12 11:34:41,https://api.github.com/repos/openstack/devstack/git/commits/95d4226c4ce4e3ddd0d159572790d04c17bea831,95d4226c4ce4e3ddd0d159572790d04c17bea831,"make i local

This prevents bleed out of the i variable to other functions that
might call this inside their own iteration loop.

Change-Id: I42d0c287a6f4bb24ae3871de9abb7e0de98a8462"
dtantsur,2015-10-12 11:10:24,https://api.github.com/repos/openstack/devstack/git/commits/64be3210e6bae709ee88736f2b7554db6e82f28e,64be3210e6bae709ee88736f2b7554db6e82f28e,"Don't assume that $i variable won't be overriden in extras.d plugins

This causes an incorrect warning about ironic jobs putting an unexpected
file in extras.d.

Change-Id: I57acf91fba3fe13b3cc8dd739034e146a0b237c4"
sc68cal,2015-10-09 16:54:32,https://api.github.com/repos/openstack/devstack/git/commits/611cab4b48f14227c636f34cec155dbd99a1d7f2,611cab4b48f14227c636f34cec155dbd99a1d7f2,"docs: Add IPs to provider net node configurations

Also remove variable definitions from compute node localrc that is only
applicable on the control node.

Change-Id: I37b00611ff08d8973f21af7db340d287b1deb4af"
sc68cal,2015-10-09 16:31:57,https://api.github.com/repos/openstack/devstack/git/commits/4696db94a9b3b749cac61608daffdd883e057479,4696db94a9b3b749cac61608daffdd883e057479,"docs: Add network diagram for provider net section

Change-Id: Id39aaab5a7eadfa3fc09ba3d30c48b452d685904"
sc68cal,2015-10-09 16:21:30,https://api.github.com/repos/openstack/devstack/git/commits/d8aa10e583efbd6574abad03f41674178fa89925,d8aa10e583efbd6574abad03f41674178fa89925,"docs: Move tip about Extension Drivers into misc section

Change-Id: Ifd458495992a0fd1b7437c315b4fe45906830cb1"
sdague,2015-06-22 15:26:26,https://api.github.com/repos/openstack/devstack/git/commits/022c6672ce0e49273e21ece35186d8291f905ca2,022c6672ce0e49273e21ece35186d8291f905ca2,"Revert ""Install g-r version of OSC in configure_tempest""

This reverts commit 1fa82aab6634bf815d162978e33b211e1fdef343.

Change-Id: I931756e6d534839a6c9fb3cc6f5dc32c9a1e6436"
ianw,2015-08-25 04:29:08,https://api.github.com/repos/openstack/devstack/git/commits/e82bac04981c8e41a919907d16621c9c952d9224,e82bac04981c8e41a919907d16621c9c952d9224,"Detect blank variable in trueorfalse

As a follow-on to I8cefb58f49dcd2cb2def8a5071d0892af520e7f7, put in
some detection around missing variable-to-test arguments in
trueorfalse.

Correct a couple of places where we were passing in blank strings,
resulting in the default always being applied.

Add test-cases and enhance the documentation a little.

Depends-On: I8cefb58f49dcd2cb2def8a5071d0892af520e7f7
Change-Id: Icc0eb3808a2b6583828d8c47f0af4181e7e2c75a"
sdague,2015-10-08 16:27:07,https://api.github.com/repos/openstack/devstack/git/commits/56037e9a6e0286640fce1f812f3a9d10c3f8535b,56037e9a6e0286640fce1f812f3a9d10c3f8535b,"provide devstack lockout with .no-devstack file.

This lets you specify that devstack should not be run by the user on
the box that you are on. Helps with running commands in the wrong
window.

Change-Id: I7aa26df1a2e02331d596bbfefb0697937787252f"
sdague,2015-10-08 10:05:20,https://api.github.com/repos/openstack/devstack/git/commits/fa41b5b47ebbf6f2d973bdde235cb58694a2103f,fa41b5b47ebbf6f2d973bdde235cb58694a2103f,"make curl fail on pypi errors

This will make curl fail on pypi errors, and should prevent corrupt
images from pypi going offline for a few hours randomly, which it does
from time to time.

Closes-Bug: #1503909

Change-Id: Ib4a740b7d1772e1e36aa701e42d3ac0f0ee12883"
gongysh2004,2015-09-15 07:00:29,https://api.github.com/repos/openstack/devstack/git/commits/3d6eaae21c0b11361b4d83a47e3e345682641e57,3d6eaae21c0b11361b4d83a47e3e345682641e57,"don't install root filters when Q_USE_ROOTWRAP is false

Change-Id: I2f6edfcfb3789310fbeea8a509e0d9a13428becc
Closes-bug: #1495822"
sdague,2015-10-07 13:19:53,https://api.github.com/repos/openstack/devstack/git/commits/0280f6f6c83b45b06220050e0a9353dfe364ef18,0280f6f6c83b45b06220050e0a9353dfe364ef18,"remove corrupt get-pip.py

If get-pip servers fall over and return 503 for a few hours (which
they do medium regularly) we'll cache crud html, and everything will
suck. We know this script should be python, so if it isn't, delete it.

Change-Id: Ia9f6f7c7217939bc1ab5745f4a9d568acfbf04c8"
jianghuaw,2015-10-08 05:40:21,https://api.github.com/repos/openstack/devstack/git/commits/797668ba77d781bf65cbf0832c69c8337603b9a4,797668ba77d781bf65cbf0832c69c8337603b9a4,"XenServer: the cron job shouldn't print debug text into stderr

one cron job attempts to print debug text into stderr; so the file
of /root/dead.letter gets created and its size grows continuously.
It could eventually threaten dom0 disk space. Maybe there are two
solutions: one is to redirect the output to a specific log file;
and rotate log files in the script. And the other one is simply
to redirect the output /dev/null. By considering the function of
this cron job and the printed contents are straight and simple,
this patch set goes with the later solution.

Change-Id: I4875e5e3837e6f0249e314c6c5f408c79145c6c1
Closes-Bug: 1503966"
ianw,2015-09-23 01:56:02,https://api.github.com/repos/openstack/devstack/git/commits/7adf15df5c0812a74a1697b930003bc1dcddb127,7adf15df5c0812a74a1697b930003bc1dcddb127,"Add a debugging userrc after keystone is up

As a follow-on to the issues raised by
I069f46f95656655ae7ba8f3dd929f47eae594b68, rather than a re-write of
create_userrc.sh logic, create a temporary userrc that can be helpful
for debugging until we have the whole system bootstrapped

Change-Id: I3325acffd259cf7f6f4a153c88037cfe8405ca50"
dave-mccowan,2015-10-07 20:57:58,https://api.github.com/repos/openstack/devstack/git/commits/33e3969081e9d3acd332f909cf405193603ec915,33e3969081e9d3acd332f909cf405193603ec915,"Add Barbican to plugin registry list

Barbican can now be installed with devstack via:

enable_plugin barbican https://git.openstack.org/openstack/barbican

Change-Id: I81af04bb6600d1e58590c39efdc2c0c91563321d"
sdague,2015-10-07 13:06:42,https://api.github.com/repos/openstack/devstack/git/commits/a0cc2918adb4fc9f43c4f2e7f2cec9f46630636f,a0cc2918adb4fc9f43c4f2e7f2cec9f46630636f,"fix warning in install_get_pip

we were unconditionally adding -z to the curl command even if the file
doesn't exist that we are referencing. That produces a scary warning
for users. Lets not do that.

Change-Id: Id2860c1c702510b0f8fd496abce579d0fa3ff867"
sdague,2015-10-07 15:51:40,https://api.github.com/repos/openstack/devstack/git/commits/72ad942796adb03c96154cd1df4f97ad775e6092,72ad942796adb03c96154cd1df4f97ad775e6092,"use deprecated function instead of modifying global

It's safer to run this through a common function to let us make
changes later.

Change-Id: Ic661824027577e1946726c1843a29ac8325915bf"
sdague,2015-10-07 12:46:13,https://api.github.com/repos/openstack/devstack/git/commits/1de9e330de9fd509fcdbe04c4722951b3acf199c,1de9e330de9fd509fcdbe04c4722951b3acf199c,"add big warning for extras.d usage

This adds a warning for extras.d usage. This will give us something to
keep an eye on in logstash to build up the list of projects that will
break at Mitaka-1.

This also makes the deprecated handling done through a function, which
will hopefully make it more consistent in the future.

Change-Id: Icd393bc3e7095fe58be0fd13ef74fece3aa5c5f1"
berendt,2015-10-07 16:11:46,https://api.github.com/repos/openstack/devstack/git/commits/056a0c6bbc277937ee79361f901e4f6bd5513eec,056a0c6bbc277937ee79361f901e4f6bd5513eec,"build_docs: do not handle md and conf files with shocco

At the moment the following md and conf files are handled with shocco.
This should not be the case.

* samples/local.conf
* lib/neutron_thirdparty/README.md
* lib/neutron_plugins/README.md

Change-Id: I11ea5ebda111e6cdab71d3cffaeb4f16443bfd3c"
ianw,2015-10-07 03:06:26,https://api.github.com/repos/openstack/devstack/git/commits/ada886dd43ccc07f48d3a82d8d3d840fe5096c03,ada886dd43ccc07f48d3a82d8d3d840fe5096c03,"Don't mix declaration and set of locals

Ia0957b47187c3dcadd46154b17022c4213781112 proposes to have bashate
find instances of setting a local value.  The issue is that ""local""
always returns 0, thus hiding any failure in the commands running to
set the variable.

This is an automated replacement of such instances

Depends-On: I676c805e8f0401f75cc5367eee83b3d880cdef81
Change-Id: I9c8912a8fd596535589b207d7fc553b9d951d3fe"
ianw,2015-10-07 02:29:31,https://api.github.com/repos/openstack/devstack/git/commits/433a9b10ddd6fa67d7459c4943a92ce4f488cebc,433a9b10ddd6fa67d7459c4943a92ce4f488cebc,"Don't set xtrace directly in local call

Ia0957b47187c3dcadd46154b17022c4213781112 detects setting local
variables with subshell commands.

Although this is a particuarly benign case, it trips the test.  Rather
than putting in an ignore for this, we can easily change it to make
the test pass.  This seems better than putting in special work-arounds
to bashate, etc.

Change-Id: I37c3967c0f2d780a636a7d26cda83755085c5c69"
sc68cal,2015-10-06 16:45:06,https://api.github.com/repos/openstack/devstack/git/commits/872a2622b9dc9295918784114bce4f4f991187b7,872a2622b9dc9295918784114bce4f4f991187b7,"Move the firewall disable section into a misc section

It broke the flow of the section it was in.

Change-Id: I4c6ec7ccbe7e856600037eb5a3a73863319aa232"
booxter,2015-10-06 16:09:07,https://api.github.com/repos/openstack/devstack/git/commits/bb4654b869722feb400d65869350465d8ff5439c,bb4654b869722feb400d65869350465d8ff5439c,"Don't configure neutron metadata agent for neutron API access

Metadata agent now talks to neutron-server thru AMQP, so there is no use
for API access configuration.

Change-Id: I8f81eea91fe3448d5098e77312f64f2eaba68a68
Depends-On: I254c575c66214f50fb93a94c46c4c9caebfc2937
Closes-Bug: #1502947"
ianw,2015-10-06 09:18:15,https://api.github.com/repos/openstack/devstack/git/commits/f80c37dd47ac11b6cbd4cd08a0af2c4c17e31198,f80c37dd47ac11b6cbd4cd08a0af2c4c17e31198,"Ignore bashate long-line warnings (E006)

Since Ic2532676e46e93f129d590d1fa7a044ef65f50fb bashate warns on
long-lines.  Traditionally, for whatever reason, devstack hasn't cared
too much about long lines unless it really damages readability.

So ignore this to avoid thousands of warnings on the long lines.  Note
even though released bashate doesn't have this, ignoring a missing
test doesn't matter.

Change-Id: I16aeaa3b334fac1eec5085f2cfe26c81c53023a8"
armando-migliaccio,2015-10-05 23:51:33,https://api.github.com/repos/openstack/devstack/git/commits/c961e791c1068c3054260c0fa59eed412a1aa6ed,c961e791c1068c3054260c0fa59eed412a1aa6ed,"Remove explicit support for OneConvergence plugin

This is being removed from the Neutron tree, so there is
no need to keep it here anymore.

Change-Id: Ice869bc445cb9dab6f227c30d38fb9b7ba04442b
Depends-on: I949a51873ee5af654b577952d423dd29a6ced8e7"
sdague,2015-10-05 19:26:43,https://api.github.com/repos/openstack/devstack/git/commits/1759618adb90853a76b77bb6ba24f2bed8b3b1f5,1759618adb90853a76b77bb6ba24f2bed8b3b1f5,"update faq entry about running other branches

Change-Id: I4f982f9050024245c4a656e9535d4fdfb4413f36"
denisra,2015-10-03 03:51:41,https://api.github.com/repos/openstack/devstack/git/commits/dbe0868d11531204b1dcc3a7eafdf9da711a7cc6,dbe0868d11531204b1dcc3a7eafdf9da711a7cc6,"Change the default bind_port for swift

The default bind_port (6011-6013) in the sample config files for swift
use port numbers that are in the range registered by X11 (6000-6063) and
can prevent swift from starting if the ports are in use.

We should use an unregistered range (6611-6613).

Change-Id: Ifd95b99004aead5ddc8ae1a8dd3ccd9c4f2abe91
Closes-Bug: #1254328"
kk7ds,2015-04-23 16:41:06,https://api.github.com/repos/openstack/devstack/git/commits/ce7246a34ba51a5ccff0ac08d6e85a8cda7d275b,ce7246a34ba51a5ccff0ac08d6e85a8cda7d275b,"Workaround potential failure to shutdown services

Kill them twice to make sure they're good'n'dead. There is a supposed
fix to oslo-incubator code, but we're working around that here in the
meantime with this change.

This returned in Liberty.

Change-Id: I02a7af995dc7de857c4efcf2cef2f95d357c007a
Related-Bug: #1446583
(cherry picked from commit 953baa7998f253681ed31013fd18bd8aa8098b34)"
aaronorosen,2015-09-26 00:55:45,https://api.github.com/repos/openstack/devstack/git/commits/bd5e6b16590f852402ae60eb6e2b45178be85870,bd5e6b16590f852402ae60eb6e2b45178be85870,"Remove unnecessary execute permissions

These files have acquired execute permissions that
are not strictly necessary because they are being 
sourced, and not intended to be run separately.

Restore to 644

Change-Id: I0b8654123416a07521502b61610ca45c94494a07"
sdague,2015-09-30 10:33:57,https://api.github.com/repos/openstack/devstack/git/commits/36218e6c50c9eb22003eefe0389b00cbf7132dfb,36218e6c50c9eb22003eefe0389b00cbf7132dfb,"Revert ""Disable Cinder v1 API support by default""

There has been a ton of fall out from this change, and I 
think it's been premature. We should revert and try again
when more of the client space supports this.

This reverts commit a29434460e869b7bb397044d8f073531e4ee112d.

Change-Id: I1658dc48a024627be0fdb39c46137aaa3d9b911a"
sirushtim,2015-09-30 09:42:50,https://api.github.com/repos/openstack/devstack/git/commits/713fd2f6c644e13ed8ad7e8d819f6a3d44ff5370,713fd2f6c644e13ed8ad7e8d819f6a3d44ff5370,"Additionally install test-requirements with pip_install

When moving to Python 3, we also need to install test-requriements
to allow projects to install any python 3 test dependencies they
might be missing otherwise.

Change-Id: I2d19aa2f7ec8de869a82aa7764ab72cc8693101f"
li-ma,2015-08-04 01:28:19,https://api.github.com/repos/openstack/devstack/git/commits/c295bca61fbef22d4816b2db8cec40e924c709c4,c295bca61fbef22d4816b2db8cec40e924c709c4,"Fix tunneling support for linuxbridge-agent

When I deploy linuxbridge-agent and enable tunneling,
the configuration of neutron isn't right. It lacks
the whole section [vxlan] to be properly configured.

Change-Id: Ib3bfe0f3445f466f4dbb36f7f0cb0d940114e7f6
Closes-Bug: #1481126"
stevemar,2015-09-06 22:03:54,https://api.github.com/repos/openstack/devstack/git/commits/050a0d5b304a013e23cd5909abf6e11b7dda5f18,050a0d5b304a013e23cd5909abf6e11b7dda5f18,"Revert ""Revert ""Convert identity defaults to keystone v3 api""""

This reverts commit f768787bdd6dddf2790f83a884618d29677ca77c.
And sets OS_AUTH_VERSION so swift CLI doesn't fall flat when
not using v2 keystone

Change-Id: If44a7e0d85e48020a3c90d8c5c027513129f0f3b"
olivierlemasle,2015-09-14 12:21:12,https://api.github.com/repos/openstack/devstack/git/commits/7dd890d6e13e3bc021952ed1e4b81d3ae4bb4356,7dd890d6e13e3bc021952ed1e4b81d3ae4bb4356,"Install python db client if a db backend is configured

If `DATABASE_TYPE` is configured in `local.conf`, the database backend
is currently configured with `initialize_database_backends` even if no
database backend is enabled.

On a multi-nodes Devstack environment, such as devstack-vagrant, the
compute node currently fails because it does not have PyMysql. This
compute node has no database backend enabled, but has to connect to
the database on another node.

We should install the python client if DATABASE_TYPE is set, even
if no database backend is enabled.

Closes-Bug: 1501001
Change-Id: Iffd5f7243a0dfdbe56cf6b9a87b96ed7678c81dd"
mriedem,2015-09-28 21:46:27,https://api.github.com/repos/openstack/devstack/git/commits/c35eee5dbbb6b4dbc2901ebef4c4d88780aa74ec,c35eee5dbbb6b4dbc2901ebef4c4d88780aa74ec,"use nproc/2 workers for large ops job

Commit 1ce19ab76d67a89b04f907f1d292d013a3b699e0 dropped API_WORKERS from
nproc/2 to nproc/4 and also started using API_WORKERS for the number of
conductor workers, so in gate runs that dropped conductor workers from 8
to 2.  We're now seeing instance build timeouts in the large ops job.

This change goes back to nproc/2 for the large ops job (VIRT_DRIVER=='fake').

Closes-Bug: #1500615

Change-Id: Ie6ef855fce0a99c930d479b7459c15b69e8de499"
venkatamahesh,2015-09-26 12:35:34,https://api.github.com/repos/openstack/devstack/git/commits/3c68501356c319ecda80a9eba82f0575e7714eb2,3c68501356c319ecda80a9eba82f0575e7714eb2,"Replace the devstack.org with devstack docs url

Change-Id: I870300b90e1e5f4f382238c209fc5416914d49f0"
ianw,2015-09-25 03:28:58,https://api.github.com/repos/openstack/devstack/git/commits/1eca508c57dd987fa6f7a7e6f441096365e6892d,1eca508c57dd987fa6f7a7e6f441096365e6892d,"Simplify RDO install

We can just directly install the latest RDO repo rather than having to
keep this up-to-date.  I don't think there is actually much there we
need any more; there was a lot more coming from RDO in the centos6
days.  openvswitch is one big one, however.

Change-Id: I42b8bc1aea8ff61770987eecd5fc3b8309c1e210"
michalxptacek,2015-09-23 20:02:02,https://api.github.com/repos/openstack/devstack/git/commits/c1605550d94736f5698d3f6ea7bc1e0b0914cb4e,c1605550d94736f5698d3f6ea7bc1e0b0914cb4e,"Propagate OVS_DATAPATH_TYPE to ml2_conf.ini

If OVS_DATAPATH_TYPE is configured it should be visible in ML2 config

Changing OVS_DATAPATH_TYPE default value to 'system' from ''

Closes-Bug: 1499029
Change-Id: I88e7d2554e8a1d6dcfea71fc1fb8e9fb2491d8b7"
kashyapc,2015-09-14 11:17:56,https://api.github.com/repos/openstack/devstack/git/commits/8872545a0f98c5681147a08541e119813f0bdc01,8872545a0f98c5681147a08541e119813f0bdc01,"worlddump: Use SIGUSR2 instead of SIGUSR1

The function guru_meditation_report() currently uses the User-defined
signal SIGUSR1 to kill a Nova Compute process so that a Guru Meditation
Report is generated.

Testing locally, in a DevStack instance, manually attempting to kill a
Nova compute process [kill -s USR1 `pgrep nova-compute`] does not result
in process being terminated, and no error report generated.

It turns out[1] that SIGUSR1 is used by Apache 'mod_wsgi'.

Using the signal SIGUSR2 resolves this issue (i.e. 'nova-compute'
process is terminated, and the Guru Meditation Report is generated).

So, use USR2, instead of USR1.

Corresponding oslo.reports related commit[2].

[1] https://code.google.com/p/modwsgi/wiki/ConfigurationDirectives#WSGIRestrictSignal
[2] 45b1c02d113051d147e54ef921ce8e94135542d8 -- guru_meditation_report:
    Use SIGUSR2 instead of SIGUSR1
[3] Original DevStack commit that brought in this change --
    2ebe993b25462919e8aeeb896c9f91b6be7aa573

Change-Id: I8a7eaf71b83edca3c80074d6bf2d471e3db6142b"
dtantsur,2015-09-24 14:51:50,https://api.github.com/repos/openstack/devstack/git/commits/1c42846a62dfafd43eb3cca4f7f1c8f3819cf867,1c42846a62dfafd43eb3cca4f7f1c8f3819cf867,"Mention ironic-inspector in plugin-registry docs

Change-Id: Ia508a3af5a65e4fbf34dd8b9ae537ca133358fa3"
sdague,2015-09-23 14:36:53,https://api.github.com/repos/openstack/devstack/git/commits/1ce19ab76d67a89b04f907f1d292d013a3b699e0,1ce19ab76d67a89b04f907f1d292d013a3b699e0,"attempt to cut api workers in half

One of the key reasons for the large number of API_WORKERS was that
mysql would block API workers, so would start rejecting work. Now with
the python mysql driver we should be eventlet aware, and life should
be good.

Let's see if this works.

Change-Id: Iaf8730a4dcdc30ef390795bfb5fb73ec3cd665fe"
dims,2015-09-23 21:42:54,https://api.github.com/repos/openstack/devstack/git/commits/59756e990ca527d017e698e54bc7c6432af1b1fd,59756e990ca527d017e698e54bc7c6432af1b1fd,"Don't use python with run_process

First noted in change id by fumihiko and kyle:
I079e18b58b214bf8362945c253d6d894ca8b1a6b

Neutron and few others seem to use an extra ""python"" along
with run_process which is quite unnecessary and complicates
adding python3 support in devstack. So let's clean this up.

Change-Id: I2d478f2b04c04d05c18420563e2ad77eba73be3f"
jianghuaw,2015-09-18 10:17:46,https://api.github.com/repos/openstack/devstack/git/commits/78f6c1d70b51c29e5d36143e6051e6ff96ceb41c,78f6c1d70b51c29e5d36143e6051e6ff96ceb41c,"tools/Xen: failed to install domU in new XenServer

Current install_os_domU.sh depends on some keywords which are changed in the
next version XenServer which is upgraded to CentOS 7. So with the existing
script to install domU in the new version XenServer, it will always fail.
This patch is to make it to be compatible with all XenServer versions:
1. the output format of ""ifconfig"" is changed; the fix is to use the ip
   command to retrieve IP address.
2. In XS 6.5 and the previous XS, the ""xe-guest-utilities"" package file name
   is as ""xe-guest-utilities_<version>_<arch>.deb"" but now it delivers a
   single file for all Arch's and the file name is
   ""xe-guest-utilities_<version>_all.deb"". In order to make it to be
   compatible, the fix will try to search the old file name pattern by
   default. If it does't exist, then try to search the new file name pattern.

Change-Id: I893e89e42a5ef7dd079b571ea308f318c9befc9e
Closes-Bug: #1494241"
Andrey-mp,2015-09-22 18:20:36,https://api.github.com/repos/openstack/devstack/git/commits/5090142969e162e115d6eb1ea7582f68f34d8879,5090142969e162e115d6eb1ea7582f68f34d8879,"Revert change I2f8ae86e17d26ec4defa16e843faa8987d27fac9

The commit breaks creation of user rc file.
Now devstack doesn't create certificate for user
(because it's too early to do it) and doesn't react
to changes of EC2/S3 urls if they is recreated by devstack plugins.
So the commit totally broke ec2-api gating for example.

Change-Id: I069f46f95656655ae7ba8f3dd929f47eae594b68"
peterstac,2015-09-22 19:38:02,https://api.github.com/repos/openstack/devstack/git/commits/5aeea6ae3e2434d7b08bce2da672061cdba08ab0,5aeea6ae3e2434d7b08bce2da672061cdba08ab0,"Removed unused TOKEN from upload_image

Changeset https://review.openstack.org/#/c/225426/ changed how images
were uploaded into Glance, however the (now) unused TOKEN variable
and function argument to upload_image remained.

These have been removed.

Change-Id: I9910c469f72d52e56111048cc24ea3c992c1d480"
clintonk,2015-09-22 16:39:23,https://api.github.com/repos/openstack/devstack/git/commits/91b7fa134ccc4d58dc14f08fef4641602c98db9e,91b7fa134ccc4d58dc14f08fef4641602c98db9e,"Add manila to devstack plugin registry

Manila has had a devstack plugin since Kilo.  The registry should
reflect that.

Change-Id: I910198495e98b6f8d92c4880d1bee0c16d6c1559"
jd,2015-09-21 14:19:52,https://api.github.com/repos/openstack/devstack/git/commits/382f982e51d6117cf8d478b94f975455dabe4ce9,382f982e51d6117cf8d478b94f975455dabe4ce9,"keystone: fix prefixed URL

Commit 2ad1a42ca667ff21e6f7d2ae906be23a20430036 broke entirely the
Apache configuration for Keystone when used without a port on the
/identity URL. This patch fixes that.

Change-Id: I47805138c66456c9c5fa9af1f4ac33b03d0ce5b9"
emonty,2015-09-19 15:35:22,https://api.github.com/repos/openstack/devstack/git/commits/31c313d3a35e1b222fdb3aa72993a27c288d10bb,31c313d3a35e1b222fdb3aa72993a27c288d10bb,"Use normal API not token/endpoint for image uploads

There is no reason to use keystone token bootstrapping for image
uploads. Glance is a service, and images can be uploaded to it normally
without special shenanigans.

Depends-On: If7b81c4a6746c8a1eb0302c96e045fb0f457d67b
Change-Id: I7092fb10cbe243e091789134263fab081af0c7f4"
emonty,2015-09-19 15:26:18,https://api.github.com/repos/openstack/devstack/git/commits/7224eecb98883a91e9da445baefc23a194e8fd68,7224eecb98883a91e9da445baefc23a194e8fd68,"Extract writing clouds.yaml to function

It's a bit wordy to be directly in stack.sh and not in a function.

Change-Id: Ibddfd8018d861191f1b1dc3270e0e81c274733cd"
emonty,2015-09-19 15:19:31,https://api.github.com/repos/openstack/devstack/git/commits/16a2d64f379974e7c88ef9f7879c88511e43c2eb,16a2d64f379974e7c88ef9f7879c88511e43c2eb,"Move writing of credentials earlier in the process

If something goes wrong after keystone is running with services
registered, but before credentials are written, it's hard to poke at the
existing half-running state because none of the auth information is
recorded.

Write the files right after we're done bootstrapping keystone.

Change-Id: I2f8ae86e17d26ec4defa16e843faa8987d27fac9"
PandaWei,2015-09-21 09:52:14,https://api.github.com/repos/openstack/devstack/git/commits/e3340f1fe6a79166e50dc2a89e7a74fa038e9014,e3340f1fe6a79166e50dc2a89e7a74fa038e9014,"Fix typo: falure => failure

Change-Id: Ic1a53eec71d5e20194505aa8655a99b2fedd7632"
PandaWei,2015-09-21 09:51:02,https://api.github.com/repos/openstack/devstack/git/commits/91e3c1ec9a0e003e5cea08383852be6535e11c45,91e3c1ec9a0e003e5cea08383852be6535e11c45,"lib/nova: make redirects happen in correct order

It should redirect stdout to /dev/null firstly,
then redirect stderr to whatever stdout currently points at.

Change-Id: I4666fa90a96301f0b504a8501f0ffc3fe17616b0"
berendt,2015-09-19 16:42:21,https://api.github.com/repos/openstack/devstack/git/commits/2a16b512640afd6290a4f023e359b83d7052a0de,2a16b512640afd6290a4f023e359b83d7052a0de,"registry: list mistral project

Change-Id: Icbc73b3df9cedf9bd228c23b20aebf9b69c4a39c"
berendt,2015-09-19 16:44:29,https://api.github.com/repos/openstack/devstack/git/commits/261d10080900908e3377d88a82adb47b607d0174,261d10080900908e3377d88a82adb47b607d0174,"registry: list rally project

Change-Id: I29ec5693ad1e2c3edd5a8ed2d18a4433e4eee627"
flaper87,2015-04-30 06:54:15,https://api.github.com/repos/openstack/devstack/git/commits/624ab1e65dac94572de04e4a12b28d31e342faf1,624ab1e65dac94572de04e4a12b28d31e342faf1,"Remove Zaqar from devstack

Zaqar's devstack code has been moved into a plugin in the Zaqar repo.
This patch removes the remaining code from devstack.

Depends-On: Iceefabb6cd528b23075a91e8039b8264eb3f33f5
Change-Id: Ifcf54fa2d4a5bf49b6757b593bb70cdeda8edb2a"
e0ne,2015-06-23 16:09:34,https://api.github.com/repos/openstack/devstack/git/commits/a29434460e869b7bb397044d8f073531e4ee112d,a29434460e869b7bb397044d8f073531e4ee112d,"Disable Cinder v1 API support by default

Cinder API v1 will be removed Mitaka so we don't need to setup it be
default.

To enable Cinder API v1 you need to set CINDER_ENABLE_V1_API=True in
your Devstack config.

Related-Bug: #1467589

Depends-On: I6916eb3e4b7c85f37be8b365b11ca8b48f88177c
Change-Id: I0754e357433cfcd9fde7e937a4a1b440580b6289"
PandaWei,2015-09-14 10:52:47,https://api.github.com/repos/openstack/devstack/git/commits/be65c6f88d5922e356178a2958afa9ae452fb85e,be65c6f88d5922e356178a2958afa9ae452fb85e,"Fix typos in stackrc and unstack.sh

Componets => Components
pluggins => plugins

Change-Id: I82634a55fd5895599099c94817af7d8d2f602859"
sdague,2015-09-08 11:12:48,https://api.github.com/repos/openstack/devstack/git/commits/c71973eb04d05c2497eb930c4e1b59dcaf983085,c71973eb04d05c2497eb930c4e1b59dcaf983085,"check LIBS_FROM_GIT

after the glance_store vs. upper-constraints bug, it's probably worth
actually enforcing and sanity checking that devstack is doing what
it's being asked of with LIBS_FROM_GIT. This will hopefully reduce
user generated error.

This *might* not work with the current oslo naming, we'll have to test
and normalize that.

Change-Id: Iffef2007f99a0e932b68c4c897ebbfb748cac2b4"
sdague,2015-09-10 18:01:40,https://api.github.com/repos/openstack/devstack/git/commits/2105b9f9ce325394d205d9c5f7a7427141bc4ebd,2105b9f9ce325394d205d9c5f7a7427141bc4ebd,"move back to editable install for oslo

Now that we don't have namespace packages any more, editable installs
should be fine. This also means that we apply constraints to these
libraries during installation, which is important for future testing.

This is needed in order to be able to easily sanity check
LIBS_FROM_GIT, as then all libs installed from git will have pip urls
with git in them.

Change-Id: I46c3b8f943b97f912eccc7278e3e033ae67e7e31"
hidekazuna,2015-09-11 10:50:26,https://api.github.com/repos/openstack/devstack/git/commits/17fe88a72c65fa1f926f3ada5a0cfb45bf6649a9,17fe88a72c65fa1f926f3ada5a0cfb45bf6649a9,"Fix typo in lib/keystone

nonadmin => nonadmins

Change-Id: I9d51e079c10f7c48b962a1d6f4577e8a6ec4a229"
cschwede,2015-09-10 11:15:39,https://api.github.com/repos/openstack/devstack/git/commits/3db0aad63c182a88830ec61fc048240058c02d85,3db0aad63c182a88830ec61fc048240058c02d85,"Fix is_service_enabled when using multiple arguments

is_service_enabled might actually fail to return the expected result if
there is a is_${service}_enabled function available and multiple
services are checked.

For example, if one defines swift as a service but disables glance, the
following check fails:

 if is_service_enabled swift glance horizon; then
     install_swiftclient
 fi

This is because the second for-iteration resets the local ""enabled"" var
again to 1 and finally exits with 1 as a return code.

This patch fixes this.

Change-Id: Ic76b72897efe9597d1412470353895001a1a4c66"
berendt,2015-09-10 10:15:16,https://api.github.com/repos/openstack/devstack/git/commits/1c394829d1a6523b6b0b2f449b9ba92f5e8c472b,1c394829d1a6523b6b0b2f449b9ba92f5e8c472b,"Fix the FLOATING_RANGE in the Neutron guide

The range should be 172.18.161.0/24 and not 172.18.161.1/24.

Change-Id: I29bb24a1a278c285a00cd69188de340670891c53"
hichihara,2015-09-08 04:51:01,https://api.github.com/repos/openstack/devstack/git/commits/97cc85b9b1661cb73f732b854a3f2ebd738539ed,97cc85b9b1661cb73f732b854a3f2ebd738539ed,"Provide hook for neutron plugin config

This removes a restriction for neutron vendor plugin.
Some neutron vendor plugins were already decomposed and
there is no config file in Neutron tree. They should prepare
the file in each plugin.

Change-Id: I4997b8eae1f433b1c23f20c06ba254568ac4982b"
gkotton,2015-09-09 04:39:20,https://api.github.com/repos/openstack/devstack/git/commits/54616845dfd0942164a67f69aef4e929d004d2d9,54616845dfd0942164a67f69aef4e929d004d2d9,"VMware: remove configuration integration_bridge from nova

There are a number of different neutron plugins that work with the
VMware nova driver. If necessary this flag can be set by each plugin
if necessary.

Change-Id: I47ac2a5c71ff573f474d45b85a523fc243ec3ade"
jd,2015-09-08 10:45:06,https://api.github.com/repos/openstack/devstack/git/commits/0eec4f86c1ac607bfbdf1ec19561b3bbdb56cf4f,0eec4f86c1ac607bfbdf1ec19561b3bbdb56cf4f,"database: fix PostgreSQL connection string

If all databases drivers are loaded, MySQL SQLAlchemy driver
overrides all the other one that might not have set one.
This patches fixes that.

Change-Id: If6d8d08e5b7b7c48ca012677b536d71058def6fd
Closes-Bug: #1493304"
PandaWei,2015-09-08 10:03:22,https://api.github.com/repos/openstack/devstack/git/commits/2af6915e08da87334da9ea023ad65b1f10040604,2af6915e08da87334da9ea023ad65b1f10040604,"Fix typos in devstack/stack.sh

log to the the file => log to the file
pluggins => plugins

Change-Id: Iff5c54c39afb4398962bfe6a0500b1f011c75c8a"
cschwede,2015-09-04 11:02:19,https://api.github.com/repos/openstack/devstack/git/commits/3e3212b52d14c27c002c27b6d4f8bcfa7f5ffbcf,3e3212b52d14c27c002c27b6d4f8bcfa7f5ffbcf,"Add trailing IDENTITY_API_VERSION to OS_AUTH_URL in swift_configure_tempurls

The python-keystoneclient requires a trailing /v<IDENTITY_API_VERSION> to
successfully authenticate, otherwise it fails with a 404 error due to a not
found resource.

This error showed up only when generating Swift tempurls, because the error was
raised when using python-swiftclient.

This change fixes this for python-swiftclient within devstack.

Change-Id: Ibe222d65162898db69acba076b5fe1cb3621fbc3
Closes-Bug: 1492216"
natsumetakashi,2015-09-08 01:56:28,https://api.github.com/repos/openstack/devstack/git/commits/b848ad783ffa417c4e1a732c164774ee22442f1d,b848ad783ffa417c4e1a732c164774ee22442f1d,"Fix a typo in make_cert.sh

Change-Id: I6d4f02edf843f0519c3d0413bb033604a7ec73e9"
Andrey-mp,2015-09-06 09:05:49,https://api.github.com/repos/openstack/devstack/git/commits/e0550190a597c9c78caf2f0cfe3d79ad1d368259,e0550190a597c9c78caf2f0cfe3d79ad1d368259,"remove unused param from tempest config

Remove setting of ssh_user param to boto section.
Because boto uses user name to ssh from compute.ssh_user

Change-Id: Ifd5b99ef35eaf126a3c6e0055837c4741353345e"
umago,2015-09-04 14:34:06,https://api.github.com/repos/openstack/devstack/git/commits/f768787bdd6dddf2790f83a884618d29677ca77c,f768787bdd6dddf2790f83a884618d29677ca77c,"Revert ""Convert identity defaults to keystone v3 api""

This change have broke the Ironic tests. Reverting to unblock the Ironic
gate.

This reverts commit 4b115ad526df7e12bbdc71e0280b3c691e53ed04.

Closes-Bug: #1492216
Change-Id: I03acfdf47caf435cede1df08fd79b288a6662435"
mriedem,2015-09-04 14:15:27,https://api.github.com/repos/openstack/devstack/git/commits/975243189216561f66ca91520495e0c6e2f747e2,975243189216561f66ca91520495e0c6e2f747e2,"Revert ""turn multi host true for nova network by default""

This reverts commit 2e1a91c50b73ca7f46871d3a906ade93bbcac6a7

It looks like this introduced race bug 1491949 in the
gate-tempest-dsvm-large-ops job causing rpc timeouts when
deallocating network information for an instance,
specifically around the dnsmasq callback to release the
fixed IP that the instance was using which triggers the
disassociation between the fixed IP and the instance in the
nova database.

Change-Id: I163cdeea75e92485f241647c69aea0d7456c3258
Closes-Bug: #1491949"
afazekas,2015-09-01 13:18:57,https://api.github.com/repos/openstack/devstack/git/commits/c7e772c164c0c08be90624d76d4c3e11864364b7,c7e772c164c0c08be90624d76d4c3e11864364b7,"Use the pip installed version of requests with Fedora

The upstream version of requests contains a copy
of urllib3 and cardet library, common practice in many distros
to create symbolic links for these libraries instead of creating
a huge package which contains the same library as the distro provides
as separate package as well.

Now devstack upgrades the urllib3 to incompatible version,
but it leaves the requests unchanged because Fedora already has the
latest version.
The issue does not happens with Ubuntu because it has older requests
and devstack updates it as well.
The pip installed version contains a bundled urllib3 and the actually
installed urllib3 version does not matters.

This is not the `usual` distro package overrides pip installed package
case.

Change-Id: Icfa71368384b0c2e3ff39265b2fa9190b5566b9b
Related-Bug: #1476770"
mfeoktistov,2015-09-03 15:15:28,https://api.github.com/repos/openstack/devstack/git/commits/0c3a3b051e08589189914bc543378e4dd2dcdeb8,0c3a3b051e08589189914bc543378e4dd2dcdeb8,"Fix upload_image error in stackrc

This commit fixes error caused by adding default image path to IMAGE_URLS without ','
If user sets IMAGE_URLS in localrc like
IMAGE_URLS=""path1, path2"" (with a space after the comma)
the we get an error ""binary operator expected"" in
if [ -n $IMAGE_URLS ] condition and a comma will not be added to the end of IMAGE_URLS
In the code below we add default image path(path3) to IMAGE_URLS and we get
IMAGE_URLS=""path1, path2path3""

Change-Id: I6543f7178c49a42c71ad9df4cdb4c6e78cbf7758"
hichihara,2015-07-23 08:50:40,https://api.github.com/repos/openstack/devstack/git/commits/36daecd1a362a6a5388aa4ee5c5269563a820cbf,36daecd1a362a6a5388aa4ee5c5269563a820cbf,"Remove restraint on plugin file from neutron plugins

Neutron plugin always needs plugin file even if the plugin
is out of tree. This patch remove the restraint.

Change-Id: Iedd52db6430def47505a127986170d7279966141
Closes-Bug: #1477452"
ghanshyammann,2015-09-02 04:19:48,https://api.github.com/repos/openstack/devstack/git/commits/e5a6f82e431bece62deb830257439b309b2921ec,e5a6f82e431bece62deb830257439b309b2921ec,"Cleanup nova v2.1 API testing options

Now gate will tests Nova v2.1 as default and separate jobs
for v2 legacy and v2 compatible APIs -
 I86a627b8ec7b1246452a16c10dcfb1ad5f83bdef

This commit cleanup the options used for old v2.1 jobs.

Separate options are provided for Nova APIs testing-
 Ie6b7e4290d9a1d9789d04099b3b31c9a557bc22b

Depends-On: Ie0430cedb7a8136c04b9fb7d08746293aab79f42
To remove old V2.1 jobs.

Change-Id: Ibbed44e1c41ec1e6b3675317f08061810762796c"
mriedem,2015-09-01 20:20:48,https://api.github.com/repos/openstack/devstack/git/commits/f798ec12422b6ff9314e0f5fbaa995ab7203b419,f798ec12422b6ff9314e0f5fbaa995ab7203b419,"docs: add a blurb in the single-vm doc about cloud-init log output

I had to poke around for awhile to find /var/log/cloud-init-output.log
so I figured I'd add a sentence in the docs about using that.

Change-Id: I8bb6cb730032e41661ee443da816cbea2b28f76d"
sdague,2015-09-01 16:45:28,https://api.github.com/repos/openstack/devstack/git/commits/8349aff5abd26c63470b96e99ade0e8292a87e7a,8349aff5abd26c63470b96e99ade0e8292a87e7a,"add options to support nova test matrix

This adds 2 devstack options:

NOVA_V2_LEGACY={True/False} which is whether we'd like to force the
/v2 endpoint to use the legacy v2.0 code base.

it also provides TEMPEST_COMPUTE_TYPE as an way to pass in which
service catalog entry we'd like to use for compute testing.

We also make v2.1 the default compute endpoint, as that's what we'd
like everyone to be testing and using. The other options will let us
build jobs that nova can run to ensure those APIs don't regress.

Change-Id: Ie6b7e4290d9a1d9789d04099b3b31c9a557bc22b"
sdague,2015-08-31 13:43:00,https://api.github.com/repos/openstack/devstack/git/commits/2e1a91c50b73ca7f46871d3a906ade93bbcac6a7,2e1a91c50b73ca7f46871d3a906ade93bbcac6a7,"turn multi host true for nova network by default

With multi host set to true devstack's dnsmasq server no longer
listens on the network to other systems. In the gate we can see we're
getting a ton of spurious dhcp requests from other systems on the
network, and it's better that we never even see it.

Change-Id: Ie600de91e4a7da734eae722e78101c2401a7b1f5"
ianw,2015-07-21 20:08:09,https://api.github.com/repos/openstack/devstack/git/commits/9c0b9f30247d30babf35147351cfcf8bdf64d223,9c0b9f30247d30babf35147351cfcf8bdf64d223,"Use sudo iniset to modify /etc files

The existing mysql code is wrong and not detected as failing [1], and
boto config requires work-arounds [2,3] that are all fairly ugly.  Use
-sudo argument to iniset to handle this.

[1] I24388b5de777995f92d73076524122cf599d6371
[2] I5f4c43bbbe477c570936e2e40ac05cc38febbb3f
[3] Ib7556dac9aaaf2f3c96237e0ca28ed6ae1b1b7ac

Change-Id: Iaceb8d42ce37be728adae6fd0a30a1f9d33d4029"
chungg,2015-08-28 19:29:14,https://api.github.com/repos/openstack/devstack/git/commits/e89126f6a446ad9a8e17a0e6481644403f8d5a22,e89126f6a446ad9a8e17a0e6481644403f8d5a22,"remove too_slow_to_test flag

this flag was added to deal with inefficiencies of Icehouse. this
patch removes flag as it's not used in post-Icehouse

Change-Id: Ib715e68dc61f3c3ea0a40fae0ea57028e36285bd
Depends-On: I842dfe04725b2482399c0e95b54403fb82001645"
huazhihao,2015-08-06 12:53:35,https://api.github.com/repos/openstack/devstack/git/commits/a4693b5dea459acb02f226bbd1a8efdbcf1fc2b2,a4693b5dea459acb02f226bbd1a8efdbcf1fc2b2,"Add/Overwrite default images in IMAGE_URLS and detect duplicates

IMAGE_URLS could be set both in localrc with customization or stackrc by
default. By setting DOWNLOAD_DEFAULT_IMAGES, user could choose to add
default images to IMAGE_URLS or overwrite them.

As uploading duplicate images will cause a ""409 Conflict"" error, a
duplicate detection will expose it earlier.

Care needs to be taken that you don't end up with a duplicate image, so
clean up Xen's README.

Depends-On: I6fbae12f950a03afab39f341132746d3db9f788c
Change-Id: I3ca4e576aa3fb8992c08ca44900a8c53dd4b4163
Closes-Bug: #1473432"
ianw,2015-08-10 03:53:40,https://api.github.com/repos/openstack/devstack/git/commits/a35391e3bb497190e7e78cd0f233ddf1684fe18e,a35391e3bb497190e7e78cd0f233ddf1684fe18e,"Talk about local.conf first

We bury the lead with all the historical notes about localrc; just
talk about what is important to somebody setting up a current
devstack, which is local.conf.

There are already inline examples of config-variables, etc.  Remove
them, but add a small overview example for logging in its place.

Change-Id: I466252ffba66ef4ea180c9355f715a19eb4f8017"
ianw,2015-08-10 03:39:17,https://api.github.com/repos/openstack/devstack/git/commits/7d5be299206e801d39e0e07eec54dfc5948a15a5,7d5be299206e801d39e0e07eec54dfc5948a15a5,"Move configuration notes into configuration guide

We have configuration information split between the README.md and
configuration documentation.  A lot of it is duplicated and it shows
little organisation.

This clears the README.md of detailed configuration options and
consolidates it into the existing configuration guide.  When someone
first hits the README they don't need details on changing the RPC
back-end; but more importantly this indicates clearly where we should
be adding or clarifying details.

Firstly, the detailed overview of local.conf is removed; it was
duplicated in the configuration guide.  This is left as a first-level
section of that guide.

The configuration notes are divided into generic devstack things
(logging, database-backend, etc) and then the rest of the notes on
various projects' configuration options have been moved into a
dedicated sub-section ""Projects"".

Each project gets its own sub-sub-section.  Duplicated swift guides is
consolidated into the single ""Swift section"". The neutron and
multi-node nodes, which were all duplicated in their more specific
dedicated guides are removed and replaced with links to those.  Other
sections are moved directly.

Change-Id: Ib0bac56d82be870fe99c47c53fda674d8668b968"
dtantsur,2015-08-13 11:36:23,https://api.github.com/repos/openstack/devstack/git/commits/869b72b8512d73d24b42e0fa5c39b8dc0d7b28f7,869b72b8512d73d24b42e0fa5c39b8dc0d7b28f7,"Support installing ironic-lib

ironic-lib will soon become a dependency of ironic, make sure we can
write dsvm gates against it.

Change-Id: I6e66ae770cf5065980848e7e987bfd75765a5ac6"
sdague,2015-08-26 13:38:37,https://api.github.com/repos/openstack/devstack/git/commits/346edcc532719f6f29471920f9434b6d5300d43a,346edcc532719f6f29471920f9434b6d5300d43a,"check all possible services when configuring tempest

The previous approach assumed that devstack in tree service support
would always be a super set of tempest. That's not necessarily
true. Instead when configuring tempest we should look at all the
possible services that tempest could know about, which will let us
disable services we don't have support for.

Change-Id: I9c24705e494689f09a885eb0a640efd50db33fcf"
sc68cal,2015-08-25 23:24:51,https://api.github.com/repos/openstack/devstack/git/commits/d20435bdd4fb5ea856497c797376517ed516d833,d20435bdd4fb5ea856497c797376517ed516d833,"Filter out temporary addresses

Some IPv6 addresses are temporary and are generated by IPv6 privacy
extensions. They eventually expire and are regenerated, so we should
filter them out.

Change-Id: I916d6a335bab096f765ae8c7e0e540a4349dd15f
Closes-Bug: #1488691"
mriedem,2015-08-25 20:40:25,https://api.github.com/repos/openstack/devstack/git/commits/925c256cd45bd845c8dd03827ae9c26f43ad5481,925c256cd45bd845c8dd03827ae9c26f43ad5481,"Remove NOVA_VIF_DRIVER variable

Commit 7561c8ded211d53e8745d1420a73b82bd0fc35cf removed the
libvirt.vif_driver option from Nova in Juno so we should remove the
variable from devstack since it's useless / confusing.

Change-Id: I70a8cb4a3606eb5eabd3c0ef331945e72c80543a"
brantlk,2015-06-23 15:53:50,https://api.github.com/repos/openstack/devstack/git/commits/2ad1a42ca667ff21e6f7d2ae906be23a20430036,2ad1a42ca667ff21e6f7d2ae906be23a20430036,"Use keystone wsgi_scripts

Devstack was setting up a separate directory and copying
http/keystone.py into it for the admin and public endpoints.

Keystone now defines wsgi_scripts entrypoints so that
keystone-wsgi-admin and keystone-wsgi-public are created on
install so devstack can reference these files instead.

See http://httpd.apache.org/docs/2.4/upgrading.html#access for
the apache docs with examples for the Allow|Deny/Require
directives.

Depends-On: Ic9c03e6c00408f3698c10012ca98cfc6ea9b6ace
Change-Id: Ided688be62b64066d90776313c963ec5016363f2"
mtreinish,2015-08-25 14:01:39,https://api.github.com/repos/openstack/devstack/git/commits/b274dbd7d04b643932fc583e2901353cfded45c3,b274dbd7d04b643932fc583e2901353cfded45c3,"Fix syntax error on if else statement

This commit fixes an simple syntax error on an else statement causing
it to crash instead of eval. Clearly someone has been writing too much
python and not enough bash.

Change-Id: I81d2324abd17790dc4790147f210ad7d9f0db74b"
mtreinish,2015-08-25 01:17:37,https://api.github.com/repos/openstack/devstack/git/commits/403fbb1d33a3bbb0901d1a696ef68a3fe099dd70,403fbb1d33a3bbb0901d1a696ef68a3fe099dd70,"Fix trueorfalse call in tempest use accounts check

The lib/tempest variable definition for TEMPEST_USE_TEST_ACCOUNTS was
incorrectly calling the trueorfalse function by passing the variable's
value to the function instead of the variable's name. This was causing
trueorfalse the default value of false to always be returned even when
specifying the option as true in the localrc. (well assuming True or
it's variants wasn't an actual defined variable with a value that
would return true) This commit fixes this issue by properly using the
trueorfalse function.

Change-Id: I8cefb58f49dcd2cb2def8a5071d0892af520e7f7"
Andrey-mp,2015-08-24 19:55:19,https://api.github.com/repos/openstack/devstack/git/commits/485c962667631e4f321ee2513729718305f4f372,485c962667631e4f321ee2513729718305f4f372,"Fix create_userrc.sh script

Patchset fixes calculating EC2_URL/S3_URL for user rc files in 'accrc' directory.
Currently calculation of these url's uses 'openstack endpoint show' command
without specifying os-identity-v3 flag. But output is empty without such flag.
So this patchset uses same construction as exists in functions-common.

Change-Id: Ia4f2510750fa0f46e2f1d58cf0a7a16782f022b3"
mriedem,2015-08-20 20:56:57,https://api.github.com/repos/openstack/devstack/git/commits/dca06dc7dec148cac2d9e27cdb20d7d26bb0a941,dca06dc7dec148cac2d9e27cdb20d7d26bb0a941,"Enable nbd if you're running an lxc virt_type without an lvm backend

If nbd isn't enabled you can't boot instances with libvirt using lxc
(unless you're using an lvm backend).

Closes-Bug: #1487195

Co-Authored-By: Andrew Melton <andrew.melton@rackspace.com>

Change-Id: I08c4d498ed35166f566291d9530ca1ecfae05625"
Andrey-mp,2015-08-20 20:37:04,https://api.github.com/repos/openstack/devstack/git/commits/9b21f98ce0aa5093e477bab68aede5af0fb8d9ad,9b21f98ce0aa5093e477bab68aede5af0fb8d9ad,"Add region definition to swift3

Swift3 should be in the same region as all other cloud.
By default it has regaion name 'US'. It's ok for requests
that signed by version 1 of signature because they haven't
region information in request.
But S3 signature of version 4 protocol sends region name to server
and swift3 plugin checks that input region equals to internal.
And because all cloud lives with 'RegionOne' then swift3 fails
request because it has 'US' region name by default.

Change-Id: Icd817183b1a040110372a8ae5d73fd2f0ec5559c
Related-Bug: #1411078"
chungg,2015-08-12 15:58:11,https://api.github.com/repos/openstack/devstack/git/commits/b203d0c71aeb155ae194650004f3a10335801b0f,b203d0c71aeb155ae194650004f3a10335801b0f,"do not redefine path in elasticsearch

in I0272d56bc2e50e8174db78bd449f65f60f7f4000, we reset DEST value
when installing elasticsearch. it gets set to /opt/stack/ which is
not always correct in gate causing the path to be wrong and
elasticseach cannot be installed. we should reuse DEST from stackrc

Change-Id: Ia3a2383ada30c4e92c37386aedd6164c69cac60a
Closes-Bug: #1484182"
dims,2015-08-19 14:33:23,https://api.github.com/repos/openstack/devstack/git/commits/d6456e67589a78f50f71e93fd789c1423513ab60,d6456e67589a78f50f71e93fd789c1423513ab60,"Ability to specify keystone v3 in nova.conf for neutron

As part of moving components to use keystone v3, this review
allows nova.conf's [neutron] section to switch to using the
auth_plugin in keystoneclient for talking to keystone /v3 API

Change-Id: I42502bff147534199096fb581630b8559f311963"
shashankhegde,2015-08-19 01:33:55,https://api.github.com/repos/openstack/devstack/git/commits/2d91fe8a6ba466c57bae9c7f16ece1d1cc6d7563,2d91fe8a6ba466c57bae9c7f16ece1d1cc6d7563,"Cloning requirements repository before pip install

The commit 05aa3846a0402edc9cc49f4ba36f09592004b273 into devstack exposed a bug
where pip_install is called before the requirements repository is cloned. This
change ensures that the requirements repository exists before pip_install is
called.

Change-Id: I60b157fc98691764a69cf022852e7a95fc50cdd7
Closes-Bug: #1486304"
tsekiyama,2015-08-18 22:51:24,https://api.github.com/repos/openstack/devstack/git/commits/0612b485d3646e40ea0f70dfaadd7705a2b10c71,0612b485d3646e40ea0f70dfaadd7705a2b10c71,"Ironic: Fix tag ID detection of tap devices

On Linux kernel 4.1, `ip link` reports peer interface name for
each Open vSwitch interface, like:
  $ ip link
  ...
  71: ovs-tap1@brbm-tap1: <BROADCAST,MULTICAST,UP,LOWER_UP> ...
              ~~~~~~~~~~
Currently it is regarded as a part of interface name, so
causes failure in tap id detection from ovs-vsctl output,
that results into ironic deployment failure.
This patch removes the peer name from the interface name.

Change-Id: Id3b181fa821e9bff1afabef4d63964f61fa49a65
Closes-Bug: #1486273"
hichihara,2015-08-18 19:59:08,https://api.github.com/repos/openstack/devstack/git/commits/2bb3a648929550ae9ff237185be43d864e1e0225,2bb3a648929550ae9ff237185be43d864e1e0225,"Fix duplicated section name

Although l3_agent.ini, dhcp_agent.ini and metadata_agent.ini have
""AGENT"" section as default, devstack added ""agent"" section.

Change-Id: Ie4034257d8aed00d67e3f28e7dd3b05cc5d89fc4"
mhorban,2015-08-18 10:57:18,https://api.github.com/repos/openstack/devstack/git/commits/ea21eb4f69e2f2ea2c9c6d2fb9c4ed9aef4fc198,ea21eb4f69e2f2ea2c9c6d2fb9c4ed9aef4fc198,"Remove non-ASCII characters

Change-Id: If1c68e5aab6990617519150d8aeb3f073df2ad17"
cboylan,2015-08-03 18:14:13,https://api.github.com/repos/openstack/devstack/git/commits/05aa3846a0402edc9cc49f4ba36f09592004b273,05aa3846a0402edc9cc49f4ba36f09592004b273,"Just use constraints everywhere

Having behavior on your laptop diverge from behavior in the gate is
confusing. Just use constraints on every devstack run to be consistent.
Users of devstack can edit the requirements repo in order to change
these constraints locally if necessary.

Change-Id: I843208e2e982eb04931b76f5cb4bd219fbcd70de"
yamt,2015-07-23 06:52:49,https://api.github.com/repos/openstack/devstack/git/commits/fc657f4ff280e0908e096d562ce0770dbfd9e41a,fc657f4ff280e0908e096d562ce0770dbfd9e41a,"neutron-legacy: Update after DEFAULT.root_helper removal

Update after change I17cd62c8763430bf3a4b67ab5e9cf5b736065133 .

Closes-Bug: #1483501
Change-Id: Ieb5270484205cffe4ec97db0d59f012d1e7708d4"
yamt,2015-07-23 06:49:39,https://api.github.com/repos/openstack/devstack/git/commits/1e7fb4c9a0a7a45fb89363a25504e8b173e032aa,1e7fb4c9a0a7a45fb89363a25504e8b173e032aa,"_configure_neutron_dhcp_agent: Modify the right config file

This has been incorrect since the initial commit
(I632df4149e9d7f78cb5a7091dfe4ea8f8ca3ddfa)

Closes-Bug: #1483499
Change-Id: Ife4defce989c4f3c7eb5381376c0f93de50a9668"
mmasaki,2015-08-15 02:35:20,https://api.github.com/repos/openstack/devstack/git/commits/597c902dfc9ea62f1a1455d6db7c7c50d09a5876,597c902dfc9ea62f1a1455d6db7c7c50d09a5876,"use $SERVICE_HOST in multi-node doc

The change fix multi-node doc to use SERVICE_HOST.
It resolves duplicate IP address.

Closes-Bug: #1485159
Change-Id: If86393e9a37bcb911a9aa125829cd8ce684edd9f"
umago,2015-08-14 16:21:47,https://api.github.com/repos/openstack/devstack/git/commits/51bddb8c64f5cb4086d672574202262ad9c38332,51bddb8c64f5cb4086d672574202262ad9c38332,"Ironic: Create nodes with names

This patch is setting a name for each node created in Ironic, when
testing stuff it's easier to refer to a nome by its name then uuid.

The format of the name is: node-0, node-1, ...

Change-Id: I60fcddbcb36d1b1da8b3846b6edf14c59401f102"
timothyb89,2015-08-05 16:25:00,https://api.github.com/repos/openstack/devstack/git/commits/a83e90b56080d1c86f98e66d146f781c19d150c5,a83e90b56080d1c86f98e66d146f781c19d150c5,"Enable CSV logging output for DStat.

Future work toward visualization of DevStack and devstack-gate performance
would benefit greatly from the availability of machine-parsable DStat output.
This patch outputs an additional logfile to $LOGDIR, `dstat-csv.log`, using
DStat's built-in CSV logging functionality.

An additional instance of DStat is started during start_dstat that outputs
to CSV-formatted text without `--top-cpu-adv` and `-top-io-adv` enabled, as
these plugins are currently incompatible with CSV output. To facilitate this,
a new `dstat.sh` script is added to $TOP_DIR/tools/ to act as a daemon to
manage the two processes.

Change-Id: I826c94c35b6a109308b4f132c181ff7a1f63bc7b
Depends-On: I534fb1f9356a7948d2fec0aecc7f275e47362a11"
pmichali,2015-08-14 15:49:27,https://api.github.com/repos/openstack/devstack/git/commits/e4289c88c8007ae942a18a1786fc6fd36f2489c7,e4289c88c8007ae942a18a1786fc6fd36f2489c7,"Prevent spawning two VPN agents

Currently, if the VPN devstack plugin is enabled (which is
the method used for VPN in all test jobs), there will be
two VPN agent processes started. This doesn't seem to
affect the tests, but is incorrect.

To resolve this, the proposal is to do this in two steps.
With this commit, the script is modified to start the q-vpn
process, if q-vpn is enabled (legacy), and to only start
q-l3 process, if neither q-vpn nor neutron-vpnaas is enabled.

Once committed, the opertion will be the same - if no VPN
service is enabled, we get q-l3 (correct); if legacy q-vpn is
enabled (only), we get q-vpn (correct); if the plugin is used
(the default), we get two q-vpn processes started (wrong).

With a separate plugin commit (to be pushed next), the plugin
will be renamed to neutron-vpnaas, and then we'll get only
one agent process (q-vpn or neutron-vpnaas) runing. We can't
commit the plugin first, because both the VPN agent and the
q-l3 agent will be started at once (just as bad, if not worse).

Change-Id: I2bb7ac01e619c8a9b22bd517a4ff60d67035dfed
Partial-Bug: 1484141"
venkatamahesh,2015-08-10 10:37:03,https://api.github.com/repos/openstack/devstack/git/commits/b237b93f2bdfd66152bd68eedccec85ce0cb75b8,b237b93f2bdfd66152bd68eedccec85ce0cb75b8,"Location of the ""local.conf"" file is confusing. It is updated.

It was shown that the local.conf is at root devstack directory, but
it is at devstack/samples directory. So the path is updated.

1.) Copy the file into root Devstack directory.

Change-Id: I6ff8a404a3664c892bb458023c57ccc5d0926fdf
Closes-Bug: #1464491"
dklyle,2015-07-27 23:14:32,https://api.github.com/repos/openstack/devstack/git/commits/7b105c572ed51510d951304b31c043cfe4674731,7b105c572ed51510d951304b31c043cfe4674731,"Move horizon apache root to /dashboard

With keystone's move to /identity, a conflict in for resources was
created as both keystone and horizon used /identity. The keystone
config took precedence and rendered API output in the horizon UI.

This patch sets the root for horizon to /dashboard and serves all
horizon content from there. Additionally, a RedirectMatch has been added
to the apache config for horizon to redirect '/' to '/dashboard' this
will allow the implementation to change without being immediately
painful to users.

Also made the path '/dashboard/' configurable in stackrc.

Closes-Bug: #1478306
Depends-On: I9a04f936ed6d8c14775a332dc28e903992806c42

for devstack-gate changes to remove hard coded horizon url structure
assumptions.

Change-Id: I6fbca5cea9e44df160afbccc71bd045437657320"
gonzolino,2015-08-11 17:34:22,https://api.github.com/repos/openstack/devstack/git/commits/1991e7599313cdbc75cf7674df94f32e9443cc60,1991e7599313cdbc75cf7674df94f32e9443cc60,"Fix creation of endpoints in multi-region

Keystone API v3 does currently not support filtering for region names.
As a consequence an additional check is needed in get_or_create_endpoint
to check if an endpoint must be created for a given region or if it
already exists.
See related bug for more information regarding the missing region
filtering in keystone.

Closes-Bug: #1483784
Related-Bug: #1482772
Change-Id: Ia6a497b9fb58f7474636ab52dc01b99857bed3a2"
mtreinish,2015-08-10 00:30:39,https://api.github.com/repos/openstack/devstack/git/commits/df8f43b44adec60ce6528441f2a0ea193793adb8,df8f43b44adec60ce6528441f2a0ea193793adb8,"Add support to lib/tempest for using tempest test accounts

This commit adds support to lib/tempest for configuring tempest to use
the test accounts mechanism. It adds a new variable
TEMPEST_USE_TEST_ACCOUNTS which will be used to trigger using test
accounts. The generate tempest-account-generator utility packaged with
tempest is used to generate the users and projects and write an
accounts.yaml. Another option TEMPEST_CONCURRENCY is added to specify
the the number of accounts to create, the value defaults to the number
of processors on the system.

The auth configuration section is moved to the bottom of the
configure_tempest function to ensure the proper auth endpoint and
catalog entries are all set in the tempest.conf file because the
tempest-account-generator tool depends on tempest knowing how to talk
to keystone to create the accounts.

Change-Id: I8682f72ffe26fd133874f5c575df6389f787ffcc"
ianw,2015-08-10 02:51:29,https://api.github.com/repos/openstack/devstack/git/commits/144dbc62f8aa6a62cdca403a69bb883cb8552142,144dbc62f8aa6a62cdca403a69bb883cb8552142,"Remove config_apache_wsgi mention

This has only ever appeared in
I3a5d1e511c5dca1e6d01a1adca8fda0a43d4f632 and has never been exported,
referenced, etc.

Remove it to avoid confusion
(e.g. Icfad40ee6998296727a95613199e5c2d87bd0a45)

Change-Id: Ic71e841f6f751ff43083e12ad734b9c84be7b645"
jerryz1982,2015-08-08 00:43:54,https://api.github.com/repos/openstack/devstack/git/commits/296c1e3809082db4173f00141a981d3a2d168922,296c1e3809082db4173f00141a981d3a2d168922,"Move policy.json creation to _configure_neutron_common

To allow separating neutron l3, metadata, or dhcp agent from neutron
server or controller, there is supposed to be policy.json on the nodes
with l3, dhcp, metadata agent enabled, so it would be more appropriate
to create policy.json in _configure_neutron_common.

Change-Id: I890d647ffca05482f36ebaaf9c2c6e9e6cb23e2b"
ianw,2015-08-07 02:36:00,https://api.github.com/repos/openstack/devstack/git/commits/c0057ed5158c61446d3ba025a3b1feb337688859,c0057ed5158c61446d3ba025a3b1feb337688859,"exercises/aggregates.sh: Only source openrc once

Only source openrc once, and remove the unnecessary re-sourcing of
""functions"" which is done by openrc.

Change-Id: I61c87a0742de274d47753a0b216c56d96344d161"
sdague,2015-08-06 14:02:43,https://api.github.com/repos/openstack/devstack/git/commits/2da606da2e47b7260732bb6ef43f1cbf6b4a1559,2da606da2e47b7260732bb6ef43f1cbf6b4a1559,"add ebtables to world dump

I'm still at a loss about why guests stop being pingable in grenade,
so lets get ourselves some ebtables output as well.

Change-Id: I4e40eff6d0b1ef194e43b151a83206fbd50deb66"
afazekas,2015-08-06 09:49:46,https://api.github.com/repos/openstack/devstack/git/commits/66919076838771c3a07864037ab661994145a958,66919076838771c3a07864037ab661994145a958,"Install cryptsetup on the n-cpu nodes

test_encrypted_cinder_volumes.* tempest test failes,
when cryptsetup package is not installed.

The following error can be seen in the n-cpu log:
Stderr: u'/usr/bin/nova-rootwrap: Executable not found: cryptsetup
(filter match = cryptsetup)\n'

Change-Id: I86603f1301fa946c8bb22de3e69a2ec1ab7f1ef3"
ianw,2015-08-06 00:25:45,https://api.github.com/repos/openstack/devstack/git/commits/815db16c2099610a52dec35f0846c0d19b9bd5b9,815db16c2099610a52dec35f0846c0d19b9bd5b9,"Clean up configuration documentation

The current format is just copy-paste after auto-conversion and very
inconsistent.  Move discussion of each option into a section and
reword some slightly so they read more clearly.  Group some together
into a section+sub-sections, such as the logging and ip-version option
discussions.

Add a top table-of-contents for the major sections, and then a
separate toc for each of the configuration options that are discussed
in detail.

Change-Id: Iddd27cb54f1d9f062b9c47ff9ad6a2bef3650d6b"
sdague,2015-08-04 10:23:28,https://api.github.com/repos/openstack/devstack/git/commits/a6db5e30cc53d6dae11ffdc228e0ed01865bf603,a6db5e30cc53d6dae11ffdc228e0ed01865bf603,"fix multinode guide

The multinode guide erroneously said to enable n-api on the worker
nodes, which is a typo. n-api-meta is the thing that's needed.

Change-Id: I733896681f7f6fe3bea0fdeeb8ffc9033d7fc761"
jlanoux,2015-08-03 13:48:12,https://api.github.com/repos/openstack/devstack/git/commits/994db6173861a8c6f8c73d59cdf85cd28463ab31,994db6173861a8c6f8c73d59cdf85cd28463ab31,"Add tempest run_validation option

This change adds the tempest run_validation option to run
tests with ssh connection in the gate.

Change-Id: I140f79b06d2e85c1d5d07fa5f117d4f8b250fa3d"
cboylan,2015-07-31 19:22:44,https://api.github.com/repos/openstack/devstack/git/commits/57aafb5a9ad20e19e2c248a8e853a32d5b719c03,57aafb5a9ad20e19e2c248a8e853a32d5b719c03,"Clone reqs repo prior to using pip constraints

We pull the pip constraints from the requirements repo so need to clone
that repo prior to using the constraints. In fixup_stuff.sh devstack
attempts to install packages like prettytable using the constraints. It
is also possible to need constraints before fixup_stuff.sh if tracking
depends. To deal with this clone requirements repo before any possible
use of constraints in pip_install.

Change-Id: I42e981c8c5ce1b8a57b9f6cce213065c72d6af11"
0xDEC0DE,2015-07-28 18:46:46,https://api.github.com/repos/openstack/devstack/git/commits/e97cb825d2800d34d1fe6eceae85a3a7f84549d1,e97cb825d2800d34d1fe6eceae85a3a7f84549d1,"update cinder's key permission to allow nova snapshots

Preparing the field for this patch:

https://review.openstack.org/205282

The client.cinder key needs to have write permission to the glance pool
in order to complete the snapshot process.

Change-Id: I98f16167db864ffd14e8c3dd5dec81fc16245448"
pkilambi,2015-07-31 15:07:31,https://api.github.com/repos/openstack/devstack/git/commits/d73df506f29854997f3b74f1b60968535923316b,d73df506f29854997f3b74f1b60968535923316b,"Remove the old meter.yaml path from devstack

This will let us defauilt to the path within the code,
we can add the right path in once we have the file in
the codebase.

Change-Id: I9de94c5ac6349c3b46adbacb77fc877b5201285c"
mtreinish,2015-07-31 14:38:50,https://api.github.com/repos/openstack/devstack/git/commits/93c10571e8b1b2c8e6916c759d5b92ab379c037f,93c10571e8b1b2c8e6916c759d5b92ab379c037f,"Stop relying on the tempest sample config file

This commit stops using the sample config file as the base for tempest
configuration. The sample config isn't actually needed as a based for
configuration because all the options are commented out so from the
perspective of the config parser it's a blank file.

There are 2 reasons for making this change, first using the sample
like this creates a hard dependency on tempest having a sample config
file in tree. This is something that the project wants to change since
keeping the file in sync causes headaches because of new oslo
releases. The second aspect is that it makes the generated output
difficult to read. It includes *every* option and it's description in
the generated output which makes finding where devstack is actually
setting something more difficult to find.

Change-Id: I4064a041a965ed2419b68efc8dc31fce37b24cfd"
yamt,2015-07-31 04:45:27,https://api.github.com/repos/openstack/devstack/git/commits/961643e404919e0fa3b90f7620a4daccc962e6a3,961643e404919e0fa3b90f7620a4daccc962e6a3,"configuration.rst: Document post-extra meta section phase

Change-Id: I81d121424057fd79c1a0a65d420df3ee1badb6f3"
sdague,2015-07-27 17:10:44,https://api.github.com/repos/openstack/devstack/git/commits/dd07c484e474f3e9410c558c8fb3103233facd3e,dd07c484e474f3e9410c558c8fb3103233facd3e,"line wrapping for longer ceph commands

Some of the ceph commands had gotten quite long, so reviewing them in
gerrit is a bit problematic. Do some line wrapping just to bring these
back to a bit more managable state.

Change-Id: Ice5122702f2466d059dd275b038d5ff983bcda44"
sdague,2015-07-27 17:33:30,https://api.github.com/repos/openstack/devstack/git/commits/ac9313e5a5af9e350d66c0ae628ca900c4cfc218,ac9313e5a5af9e350d66c0ae628ca900c4cfc218,"add -n --name flag to worlddump

We're worlddumping at success points in grenade, and it would be much
handier to explain when that happens via a symbolic name in the
filename. Add a --name option to worlddump to allow it.

Change-Id: I644200fe08e404dc7ca2006478ae4e11ca020672"
leseb,2015-07-27 12:29:57,https://api.github.com/repos/openstack/devstack/git/commits/64ab8d122893d4ab1e135e82dab17f14cc74c33c,64ab8d122893d4ab1e135e82dab17f14cc74c33c,"Re-enable direct URL

This parameter is needed in order to test the copy on write cloning
functionnality.

Change-Id: Ie8179a68827acba2dd8614ea9c6cecf2ddb20e29
Signed-off-by: S√©bastien Han <seb@redhat.com>"
leseb,2015-07-24 15:07:07,https://api.github.com/repos/openstack/devstack/git/commits/089f044cbee4be1d2e1c3ad943c20eec33df736f,089f044cbee4be1d2e1c3ad943c20eec33df736f,"update cinder's key permission to allow nova snapshots

Preparing the field for this patch:
https://review.openstack.org/#/c/205282/2

The client.cinder key needs to have write permission to the glance pool
in order to complete the snapshot process.

Change-Id: I90c6aa056b99944aa558783f3f81d06f918f3e26
Signed-off-by: S√©bastien Han <seb@redhat.com>"
sakaia,2015-07-27 11:42:44,https://api.github.com/repos/openstack/devstack/git/commits/20401434091e6083c85f7269cd4e7cf44e5713b4,20401434091e6083c85f7269cd4e7cf44e5713b4,"Fix four typos on devstack documentation

behaviour => behavior
mechansim => mechanism
glustfs => glusterfs
pluggin => plugin

Change-Id: I3de6740e5d4b2b55009614007767458124036b75
Closes-Bug: #1478538"
sileht,2015-07-24 08:55:42,https://api.github.com/repos/openstack/devstack/git/commits/eef5d8590f560e4dd2be21942086e1e8b1223de4,eef5d8590f560e4dd2be21942086e1e8b1223de4,"Adds two new configuration files

Ceilometer introduces two new configuration files

This change adds them.

Change-Id: I4da44f09eb0a839f36fef513aec41d9b1564155d
Depends-On: I5a202c30614d06821063e243d4e2330736aba5fd"
hichihara,2015-07-24 01:42:13,https://api.github.com/repos/openstack/devstack/git/commits/1c506c5c3422b80ca01903f929b47011a4f969e1,1c506c5c3422b80ca01903f929b47011a4f969e1,"Remove unused variable

Change-Id: Ib3b50c0e34403311b529e116f39bf82dd03dca0e"
hichihara,2015-07-23 09:13:55,https://api.github.com/repos/openstack/devstack/git/commits/22cf648cf64029b6ba34a77aadd43b356acd53e7,22cf648cf64029b6ba34a77aadd43b356acd53e7,"Remove restraint on agent file from ml2 plugin

Ml2 plugin always needs agent file even if the agent is out of tree.
This patch removes the restraint and ofagent_agent.

Change-Id: I12de58e13da1fd162ad8b632d895779ae7560c3c
Closes-Bug: #1477459"
ianw,2015-07-22 03:36:12,https://api.github.com/repos/openstack/devstack/git/commits/cede78748291a8b5ae0dd0dc34c95da4a72fb3ea,cede78748291a8b5ae0dd0dc34c95da4a72fb3ea,"Add file creation test

Ensure that iniadd is creating files that don't exist, as it has
historically done.

Change-Id: I2798996f3d46ff1dce410b815a87395f1bf729f9"
ianw,2015-07-22 00:34:47,https://api.github.com/repos/openstack/devstack/git/commits/f44a024f022d843fd204da6e23b4a98a142c07f3,f44a024f022d843fd204da6e23b4a98a142c07f3,"Add -sudo option to ini setting options

Add a -sudo option to allow these functions to operate on root-owned
files.  Test-case is updated, but not enabled by default as we can't
expect test-runner to have sudo access.

Change-Id: I134c3397314c7d9395996eb6c825ecb7e7fdfc69"
ianw,2015-07-22 00:05:32,https://api.github.com/repos/openstack/devstack/git/commits/b997db602e15b60c68c0f7a99db74b5d2419a85c,b997db602e15b60c68c0f7a99db74b5d2419a85c,"Cleanup of ini test-case

Various cleanup to this file.

Firstly create a temporary space to test, rather than working in the
source directory.

We have ""assert_equal"" which simplifies a lot.  Add ""assert_empty""
that is used in a couple of tests too.  Remove a couple of duplicate
tests.

Change-Id: I7fd476ed63026e67d66a8ac2891b2e4a6687d09c"
ianw,2015-07-22 02:16:45,https://api.github.com/repos/openstack/devstack/git/commits/92884ede5d20a399186c61cf5e003da61838eec4,92884ede5d20a399186c61cf5e003da61838eec4,"ini-config : always reenable xtrace on return

These return paths doesn't renable xtrace, so output mysteriously goes
missing until the next time it is enabled.

Change-Id: I3a8018dfa9397c07534970c39fba8dc10afcbe41"
miurahr,2015-07-22 03:18:35,https://api.github.com/repos/openstack/devstack/git/commits/c1dded9b91ae46d339430efcc69b0d3a4882b88b,c1dded9b91ae46d339430efcc69b0d3a4882b88b,"fix typo in guide for nested kvm

Change-Id: Ie103a097830401248c75fcb16d4dd746bbbb7288
Signed-off-by: Hiroshi Miura <miurahr@nttdata.co.jp>"
tbreeds,2015-07-21 19:11:49,https://api.github.com/repos/openstack/devstack/git/commits/0294ddc7352d5cf9ab0eca48a6cab3894aa866dc,0294ddc7352d5cf9ab0eca48a6cab3894aa866dc,"mysql: Fix mysql config

devstack attempts to set bind-address, sql_mode, default-storage-engine,
max_connections, query_cache_type and query_cache_size.

However the bash command is missing some '&&'s and was omiting
max_connections, query_cache_type and query_cache_size.

Change-Id: I24388b5de777995f92d73076524122cf599d6371"
pkilambi,2015-07-20 20:16:31,https://api.github.com/repos/openstack/devstack/git/commits/3756687d1777153e1d6fbf938a74470011aa7bef,3756687d1777153e1d6fbf938a74470011aa7bef,"Include meter.yaml when devstack sets up ceilometer

Partially Implements: blueprint declarative-notifications

Change-Id: Ia20f3558eb85b4e3478e33a9e54b7e696eb6c3fd"
ianw,2015-07-01 23:34:34,https://api.github.com/repos/openstack/devstack/git/commits/11d276c73cdd848c0287f6718d0163369cefd157,11d276c73cdd848c0287f6718d0163369cefd157,"local call masks errors in subshells

In another ""things from the man page""

   The return status is 0 unless local is used outside a function, an
   invalid name is supplied, or name is a readonly variable.

Thus if anything fails in ""cmd"" of ""local foo=$( cmd )"" we don't
notice.

Change-Id: I22b10d5d39f014b6c92d2e101b167cbacf81afca"
mnestratov,2015-06-30 11:54:12,https://api.github.com/repos/openstack/devstack/git/commits/e6f37b91e5cd5b0f70d2be1e75eb4f61adc1e16a,e6f37b91e5cd5b0f70d2be1e75eb4f61adc1e16a,"libvirt virt_type=parallels support enchancement

As soon as Parallels Cloud Server/Virtuozzo is based on CloudLinux distribution
this new rpm kind of distribution is introduced.
Also we setup vnc and set vnc_encoding parameter to None as soon it isn't
supported by parallels.

Change-Id: Ib97a09f397f950227498cfc2ce162d19b700f6f4"
mnestratov,2015-07-15 08:47:11,https://api.github.com/repos/openstack/devstack/git/commits/54ee8a82a837eb2b28746c77e0259ec326ab15cc,54ee8a82a837eb2b28746c77e0259ec326ab15cc,"Make it possible to upload ploop images

Add support of ploop images (*.hds extension) for both exe and hvm types.
In devstack we assume that images have '-exe' and '-hvm' suffixes in
their names correspondently.

Change-Id: I1c074876c530be0535a6e02e764d67a4ebcbbbe5"
IsaoYamagata,2015-07-11 16:07:22,https://api.github.com/repos/openstack/devstack/git/commits/7aaaf9090145b3e84e1d9a3c90e12bd370f5f31f,7aaaf9090145b3e84e1d9a3c90e12bd370f5f31f,"Fix distribution link in documentation

Fix broken link to distributions of OpenStack

Closes-Bug: #1469433
Change-Id: Ica572e11c0dedfe0684fad1c4d48b248f7003d47"
jeffrey4l,2015-07-15 00:18:23,https://api.github.com/repos/openstack/devstack/git/commits/11cf23e03457357368cc40622ecc37cebe56293c,11cf23e03457357368cc40622ecc37cebe56293c,"Fix the typo zaqar

Change-Id: Ic05b88a55f4110cd2e72985c7f3f544d0de8dd67"
dirkmueller,2015-06-23 10:23:29,https://api.github.com/repos/openstack/devstack/git/commits/a3c94468baa159840a47c34cf94d97d816208313,a3c94468baa159840a47c34cf94d97d816208313,"Remove support for enabling file injection

File injection is disabled in nova meanwhile, and devstack core
reviewers think it shouldn't be configureable in devstack anymore.
This basically reverts https://review.openstack.org/#/c/70560/

Change-Id: Ia7dd407da00c0b1c9641865aea1f7b74533d7357"
BobBall,2015-06-22 12:48:57,https://api.github.com/repos/openstack/devstack/git/commits/ee6161720360f589485596dd572286d7a1865b17,ee6161720360f589485596dd572286d7a1865b17,"XenAPI: Update to a newer Cirros image

Update to 0.3.4 as it has support for config drive v2

Change-Id: Id8143f16fb3f0b6ce82c1332e8f695ac739a9e8c"
mriedem,2015-07-09 20:25:04,https://api.github.com/repos/openstack/devstack/git/commits/89ee58523050443a38c284e8f0920dae152a901a,89ee58523050443a38c284e8f0920dae152a901a,"neutron: add NOVA_ALLOW_DUPLICATE_NETWORKS config option

Nova commit 322cc9336fe6f6fe9b3f0da33c6b26a3e5ea9b0c added the
neutron.allow_duplicate_networks config option in Juno and it defaults
to False. The option was deprecated in Kilo with commit
4306d9190f49e7fadf88669d18effedabc880d3b and removed in Liberty with
commit b06867c581541ed325ddc5e5b5a2d53b1b0261ac so it's the default
behavior in Liberty.

To test it in the gate with Tempest, we need to be able to set it to
True in devstack-gate and update tempest.conf (since tempest is branchless
and we don't want to try to test duplicate networks against kilo/juno code).

We can remove the change to lib/tempest when it's removed from Tempest
after kilo-eol.

Depends-On: I05f81d86cde249c23be06d5804fadbf40fc4a7f3

Change-Id: Ifd075420f57c9b60746f4a6af6520c0ef04800db"
ianw,2015-07-09 05:49:16,https://api.github.com/repos/openstack/devstack/git/commits/f0247ed21ab38e525fb6edace5dbbdd7c14cfb2d,f0247ed21ab38e525fb6edace5dbbdd7c14cfb2d,"Move xtrace early

I dug back through the history to see why xtrace is enabled where it
is.  Originally (like first commit originally), it was somewhat sanely
placed to turn on tracing after it had done the interactive
""read_password"" prompt stuff.  Over time, it has just shuffled it's
way down as stuff got added around it.

This was noticed this because I was looking for tracing of earlier
commands when looking at the repo setup (see
Iec2ad7b5598fdaefbc2338ade702bc7b08963b96) and couldn't find it.

Putting this at the start means we both capture all output
unconditionally, and avoid needlessly getting this interleaved at some
odd place again.

Change-Id: I441d7eecbab9d204258c18a071ccc1cbf4f7512a"
zhangjinnan,2015-07-08 15:36:32,https://api.github.com/repos/openstack/devstack/git/commits/23cd71ac94cf11a18d5d153b963a96eabcb0cd15,23cd71ac94cf11a18d5d153b963a96eabcb0cd15,"Update Centos/RHEL to use Kilo RDO packages

Update Centos/RHEL to use Kilo based RDO

Change-Id: I901c4e9dfb6bce377b6afb19bbce94c71dfe127f"
mriedem,2015-07-08 19:10:15,https://api.github.com/repos/openstack/devstack/git/commits/e446fc3f5982089770a936cd8614fe75566cc103,e446fc3f5982089770a936cd8614fe75566cc103,"Set ATTACH_ENCRYPTED_VOLUME_AVAILABLE=False if testing with Ceph

The encrypted Cinder volume tests in Tempest don't actually work
properly for a Ceph backend in cinder since the volume encryption
support is not in Nova for RBD volume types.

This is needed for Cinder change
I03f8cae05cc117e14f7482115de685fc9f3fa54a which tells Nova that the rbd
volume connection is on an encrypted volume type.

Related-Bug: #1463525

Change-Id: I8548d41095513b9e669f773e3f35353e9228ead9"
huazhihao,2015-07-08 02:00:07,https://api.github.com/repos/openstack/devstack/git/commits/6e121ff53e85fbe8f9eb9437403a4302bd0ee222,6e121ff53e85fbe8f9eb9437403a4302bd0ee222,"Remove unused files from tools/xen.

Most of unused files were used with build_domU_multi.sh which has been 
replaced by build_xva.sh. Besides tools/xen/scripts/templatedelete.sh 
was created for convenience purposes and now not in use.

Change-Id: I4282c779629e3413ee3cd3ff134c3b7b19eee487
Closes-Bug: #1470535"
eharney,2015-07-07 13:34:33,https://api.github.com/repos/openstack/devstack/git/commits/9ef663a70fb02d4829b4c5a50f7fe6ef3ec6a8b4,9ef663a70fb02d4829b4c5a50f7fe6ef3ec6a8b4,"Don't uninstall ceph packages at cleanup

We stop the services, which should be sufficient.
Uninstalling the packages means that doing repeated
runs with devstack takes longer than necessary.

Change-Id: I5626e42ce83710690a3523439bb2c9c9af560cd9"
hichihara,2015-07-04 14:11:52,https://api.github.com/repos/openstack/devstack/git/commits/7ab3e39bc485acc2b54d7496a77c2e43eda4e799,7ab3e39bc485acc2b54d7496a77c2e43eda4e799,"Add cleanup for br-tun with OVS

Change-Id: I5c4d28844f40eaad622ef7590c54e0e6647c85e3
Closes-Bug: #1471390"
hichihara,2015-07-04 13:58:44,https://api.github.com/repos/openstack/devstack/git/commits/d48d672a8d36a70b10456496159fecf7551e89f8,d48d672a8d36a70b10456496159fecf7551e89f8,"Add tunnel_bridge configuration for openvswitch agent

Change-Id: I0235aa05cf86b3ed9d9620dda3f16b69ced077e3"
hichihara,2015-07-04 11:45:24,https://api.github.com/repos/openstack/devstack/git/commits/4f91f93557d088b315e1687db9fa462888a06312,4f91f93557d088b315e1687db9fa462888a06312,"Remove duplication in ml2 and openvswitch_agent

Configuration of local_ip is duplication in ml2 because there is
the configuration in both ml2 and openvswitch_agent.
It also should be set in each driver using openvswitch.

Change-Id: Ib0b874aed8db883d778426ed1ae01679fc0cc075"
mhorban,2015-06-24 20:25:16,https://api.github.com/repos/openstack/devstack/git/commits/e62c906baf9f94be1cd4d3a66c3e5b7b6324bed8,e62c906baf9f94be1cd4d3a66c3e5b7b6324bed8,"Added processing /compute URL

With config option NOVA_USE_MOD_WSGI=True nova-api handles
requests on /compute URL.

Depends on I83bc4731507fa028377ae6701ed4d32adefa9251

Change-Id: Ic84b5c0dc0726662470ef9c076a0cadca55a3917"
dtroyer,2015-07-02 14:09:51,https://api.github.com/repos/openstack/devstack/git/commits/0ffdb368a65d4e1532aba14c82c8b91e30db0acd,0ffdb368a65d4e1532aba14c82c8b91e30db0acd,"Move USE_CONSTRAINTS normalization back to stackrc

stackrc needs to do all of the initialization for situations (Grenade,
unstack.sh, etc) that do not run stack.sh

Change-Id: Ib8c7b923dde817b37f852515dd049fcf970b999a"
assafmuller,2015-07-01 22:19:11,https://api.github.com/repos/openstack/devstack/git/commits/a709b11a533c40bee910b8a4a4c9d102fab004cc,a709b11a533c40bee910b8a4a4c9d102fab004cc,"Update Neutron section in README

Change-Id: Ic4b354a587a1d5f83037fb5250e8e5c9cfe6d48c"
mriedem,2015-06-20 21:48:00,https://api.github.com/repos/openstack/devstack/git/commits/e57a33224bcc8a22b4c64be2a7e3b7e784a2536a,e57a33224bcc8a22b4c64be2a7e3b7e784a2536a,"Set compute-feature-enabled.attach_encrypted_volume Tempest option

This allows setting the new option in Tempest for toggling whether
or not the Cinder encrypted volume tests should run.

Depends-On: I48eba7c645cc1c979fd766ae9c05efb00957f787

Related-Bug: #1463525

Change-Id: I9e12f8dc9e3e6b68dc031351cb081ee2bc6e6cbb"
dtroyer,2015-07-01 16:28:32,https://api.github.com/repos/openstack/devstack/git/commits/99970389925f8fb79d55d1a2e00a2d0407f76580,99970389925f8fb79d55d1a2e00a2d0407f76580,"Replace RPC Backend text in README

Review https://review.openstack.org/#/c/192154/ removed support for RPC backends
other than RabbitMQ, but we should still document how to disable rabbit.

Change-Id: I1fd64b5f02573c58d7b0d1005c39a22c459a09a5"
Frostman,2015-07-01 11:20:23,https://api.github.com/repos/openstack/devstack/git/commits/3381e09f72e7edbf39080893212b533b8e01a3a9,3381e09f72e7edbf39080893212b533b8e01a3a9,"Move Sahara into in-tree plugin

Once the Sahara related code moved to Sahara repo and used, we can
remove Sahara specific code from Devstack.

Partial-Implements: bp sahara-devstack-intree

Change-Id: I34412b5cb2e86944b8555b8fd04b43556eb2bbe6
Depends-on: I2e00b2ebc59dd3be6a0539dea2985f2e801a1bd7
Depends-on: I07c3fede473030e8a110cbf5a08309f890905abf"
booxter,2015-06-26 08:45:44,https://api.github.com/repos/openstack/devstack/git/commits/2ba4a7214c96542987e1c379a28765a242136b12,2ba4a7214c96542987e1c379a28765a242136b12,"Fixed detection of a project in projects.txt

Before the fix, requirements soft-update was used for projects that are
in the file.

Change-Id: I095d42521f54b45a6b13837e2f8375fa04532faa
Closes-Bug: #1469067"
afazekas,2015-07-01 10:17:35,https://api.github.com/repos/openstack/devstack/git/commits/f750a6fedbb34399e1ee4dd540c13028d53c0e13,f750a6fedbb34399e1ee4dd540c13028d53c0e13,"Already dead process tolerance in unstack.sh

The gate/updown.sh calls the unstack.sh with
-ex option. Normally we do not use -e with unstack.sh.

The unstack.sh can fail if the service already stopped,
and it also can have flaky failures on the gate.

For example the stop_swift function tries to kill swift in two
different ways, and if the first one succeeds before the 2th attempt
the pkill fails the whole unstack.sh.

This change accepts kill failure.
Normally the kill can fail if the process does not exits,
or when you do not have permission to the kill operation.

Since the permission issue is very unlikely in our case,
this change does not tries to distinguish the two operation.

The behavior of the unstack.sh wen you are not using -ex should
not be changed by this change.

Change-Id: I64bf3cbe1b60c96f5b271dcfb620c3d4b50de26b"
ianw,2015-06-30 20:29:27,https://api.github.com/repos/openstack/devstack/git/commits/5c7f39fdcd29a74c402840021ca55f47c359fbf1,5c7f39fdcd29a74c402840021ca55f47c359fbf1,"Add worlddump unit test

Add a worlddump unit test to avoid simple breakages

Change-Id: I6b87d4dbe22da2c1ca5ceb13134e9bb570f5cef2"
ianw,2015-06-30 20:18:47,https://api.github.com/repos/openstack/devstack/git/commits/3a9df1dab73e2cb2f27dd014543ab16f22ac3846,3a9df1dab73e2cb2f27dd014543ab16f22ac3846,"Check for nova-compute before running kill

Unconditionally running this can lead to confusing failure output from
kill as the pgrep matches nothing when nova-compute isn't yet running.

Change-Id: I37cb84fe8e0b393f49b8907af16a3e44f82c46a6"
ianw,2015-06-30 20:14:01,https://api.github.com/repos/openstack/devstack/git/commits/99440f9d596668724690d9091e0a5def1d7f1d6d,99440f9d596668724690d9091e0a5def1d7f1d6d,"Wait for command in worlddump

Wait for the command to complete and catch errors when running
commands.

Change-Id: I2c93b3bdd930ed8564e33bd2d45fe4e3f08f03f5"
dims,2015-06-22 20:44:13,https://api.github.com/repos/openstack/devstack/git/commits/77a7d11dfa828468f27bce5456d11a9827473b20,77a7d11dfa828468f27bce5456d11a9827473b20,"Add new oslo libraries

Full list for liberty is as follows:
* oslo.service
* oslo.reports
* automaton
* futurist

oslo.cache was already added in the earlier review

Some of the entries are already there, though automaton was
missing in one spot. Made sure all references have all five
libraries.

Change-Id: Iffb720d46058424924469695a3ae1e4f20655f99"
ianw,2015-06-30 01:00:32,https://api.github.com/repos/openstack/devstack/git/commits/4ffb4541452a95ae964c562c89e31c49e39dbaa7,4ffb4541452a95ae964c562c89e31c49e39dbaa7,"Add header guard to functions/functions-common

To avoid sourcing this twice and getting globals mixed up,
particularly when using multiple plugins, add a ""header guard"" that
ensures we only source it once.

In general I don't think functions/functions-common have been written
or considered to be idempotent.  I don't think going down that path is
going to be a long-term solution as it's easy to break.

Change-Id: Idca49eb996d2b7ff3779ec27ed672a2da7852590
Closes-Bug: #1469178"
ianw,2015-06-30 03:47:51,https://api.github.com/repos/openstack/devstack/git/commits/04c0f0be2643ef95380a7dcf4b510d86ff11cd58,04c0f0be2643ef95380a7dcf4b510d86ff11cd58,"Move failure trap after functions it uses

Move the failure trap after the functions it uses, so that
""delete_all"" is defined when it is triggered.

Change-Id: Icb2465d0f834b8cb2d46dca3c7df4ae06e49d9b5"
hichihara,2015-06-26 08:43:28,https://api.github.com/repos/openstack/devstack/git/commits/5c0546e427a02ca7f84eac0894bc84073fa32638,5c0546e427a02ca7f84eac0894bc84073fa32638,"Add cleanup for Linuxbridge-agent

Change-Id: I53f445e7f8efd950823f79aca95b9e65d1544ee9
Closes-Bug: #1469609"
stevemar,2015-06-27 03:37:39,https://api.github.com/repos/openstack/devstack/git/commits/531017cf3e760dc1e9af25684465681277dec8d4,531017cf3e760dc1e9af25684465681277dec8d4,"Add oslo.cache to devstack

as part of the graduation process, add oslo.cache to lib/oslo
and stackrc.

Change-Id: I2baf0384dd5d71d234a95b7acd0bfe5534f2732c"
brantlk,2015-06-25 22:57:53,https://api.github.com/repos/openstack/devstack/git/commits/cef5e40e0c1479f12f78c9dab74dc3100b2f10f7,cef5e40e0c1479f12f78c9dab74dc3100b2f10f7,"Support fernet token provider

Keystone added the ""fernet"" token provider in Kilo. This adds
support for it.

Change-Id: I6b7342ea67157a40edc8b9ba3d84d118e39d86ed"
brantlk,2015-06-25 23:15:05,https://api.github.com/repos/openstack/devstack/git/commits/68e6ae60e70161eb1f359912da42a450070846b6,68e6ae60e70161eb1f359912da42a450070846b6,"Support identity API v3 when generate clouds.yaml

When using IDENTITY_API_VERSION=3, the clouds.yaml must also set
auth/user_domain_id and project_domain_id.

Change-Id: If028f2935ea729276f40039a4003c07c08e91672"
dtantsur,2015-06-26 13:20:54,https://api.github.com/repos/openstack/devstack/git/commits/f2a05497a3716b5eaa178b970d5cd2e6db865a97,f2a05497a3716b5eaa178b970d5cd2e6db865a97,"Drop no longer needed and broken check for cinder in is_service_enabled

There is properly working is_cinder_enabled now, and this check
actualy matches ironic-inspector, breaking its devstack plugin.

Change-Id: I659ec9b9b2b49690fd075f9766ae8cbf19e81848
Closes-Bug: #1469160"
ianw,2015-06-26 04:45:04,https://api.github.com/repos/openstack/devstack/git/commits/614ca26b47076321e1e06d0d79b9f7c53c5ef259,614ca26b47076321e1e06d0d79b9f7c53c5ef259,"Install qemu-kvm package on centos/fedora

Change I79a8d8ac7ad2fbd7d2fce696821d130218e43e03 removed the install
of python-libguestfs, which was actually hiding a dependency issue on
Centos.  The ""kvm"" package is ultimately missing some bios files from
""seabios-bin"" -- however with python-libguestfs installed this was
coming in via a dependency chain that pulled in qemu-kvm, which has
the dependency.

qemu-kvm is not strictly required as all the functionality is within
qemu-system-x86.  But while we get [1] sorted out this restores the
job functionality.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1235890

Change-Id: I3379bc497978befac48c5af0f1035b96d030b7eb"
sc68cal,2015-06-17 21:33:02,https://api.github.com/repos/openstack/devstack/git/commits/71947d5fd05c3609417351ab37b9ac24b0eae9ef,71947d5fd05c3609417351ab37b9ac24b0eae9ef,"Fixes for Linux Bridge in the L3 agent

Prior to this patch, the logic for configuring the interface used for
the L3 agent was OVS specific. This patch introduces code to correctly
identify the brq device that is used for the L3 agent when using the
Linux Bridge mechanism driver.

Change-Id: I1a36cad0fb790aaa37417a1176576293e4f2c87f
Co-Authored-By: Jens Rosenboom <j.rosenboom@x-ion.de>"
sdague,2015-06-23 16:53:51,https://api.github.com/repos/openstack/devstack/git/commits/b0160d0fa9b20a4c1bda01dda6ffceac6beb9842,b0160d0fa9b20a4c1bda01dda6ffceac6beb9842,"Log all input/output in rootwrap calls

This should make it easier to understand possible interactions between
rootwrap processes calling commands that might be the cause of race
bugs.

Closes-Bug: 1081524
Change-Id: Ic1f1fa42e4478a9d30f0f582a68f648935d0097d"
brantlk,2015-06-21 14:56:17,https://api.github.com/repos/openstack/devstack/git/commits/3bae7d48c0bd283779c206152e6dcfa4c5883521,3bae7d48c0bd283779c206152e6dcfa4c5883521,"Keystone also handle /identity and /identity_admin

When configured to run under Apache Httpd, keystone will also
handle requests on /identity (public) and /identity_admin (admin).

Change-Id: I4e6eb0cad1603aa0e612d0adc5431565da93870e"
sdague,2015-06-24 17:24:02,https://api.github.com/repos/openstack/devstack/git/commits/442e4e962559479fa0000ad64e6fa34da2c141c8,442e4e962559479fa0000ad64e6fa34da2c141c8,"make test_with_retry a function

We have this pattern of timeout with while tests for a non infinite
while loop condition. It's enough of a pattern that we should probably
extract it into a function to make it more widely used.

Change-Id: I11afcda9fac9709acf2f52d256d6e97644d4727c"
sdague,2015-06-24 09:51:54,https://api.github.com/repos/openstack/devstack/git/commits/7af8a1b9b3180da54e2c9505228ad722db44ca27,7af8a1b9b3180da54e2c9505228ad722db44ca27,"only soft enforce requirements not in projects.txt

We're adding the ability to have devstack plugins, which should be
much more free to require new things not in global requirements. Our
old thinking of locking down all the requirements doesn't really work
in a plugin model.

Instead, if the project is in projects.txt, continue with the old
behavior. If it is not, do a soft update (update all the requirements
we know about, leave the ones we don't). This was previously the SOFT
requirements update mode, but now it will just be the default.

Change-Id: Ic0c6e01a6d7613d712ac9e7e4a378cc3a8ce75e6"
gongysh2004,2015-06-23 06:03:47,https://api.github.com/repos/openstack/devstack/git/commits/348c6ace71f791034dae19a3467d18cea3140d5a,348c6ace71f791034dae19a3467d18cea3140d5a,"Use ip route replace to avoid the existing route

Change-Id: I3cc82aca1e3fd26e3beb4baee1f11a9b45e8b9f7
Closes-Bug: 1467762"
umago,2015-06-23 13:16:39,https://api.github.com/repos/openstack/devstack/git/commits/010963c677a1c4e558e09afa320595fa5584b329,010963c677a1c4e558e09afa320595fa5584b329,"Correct logging_context_format_string for Ironic

We should use ""tenant"" and ""user"" instead of ""project_name"" and
""user_name"" by calling setup_colorized_logging with these parameters.

Closes-Bug: #1467942
Change-Id: I484ef431ac422e25545391ed41fab45060a7b821"
umago,2015-06-23 10:50:18,https://api.github.com/repos/openstack/devstack/git/commits/365d11dfa9fec3b1025c14e38ad3a66f8c79a148,365d11dfa9fec3b1025c14e38ad3a66f8c79a148,"Ironic: Fix iPXE Connection timed out

This patch fixes the problem of iPXE connection timing out when it's
trying to fetch the configuration files and images from the HTTP server
by accepting requests to HTTP server port on iptables.

Closes-Bug: #1467894
Change-Id: I43d66335a97c376ab64d604ff807540d0decc401"
dirkmueller,2015-06-03 12:09:05,https://api.github.com/repos/openstack/devstack/git/commits/0ae942b41c6dcd0fe7353e7d68574194fb72a66d,0ae942b41c6dcd0fe7353e7d68574194fb72a66d,"Only install python-libguestfs bindings when needed

Currently those bindings are missing from SLES12, and since
they're not actually used unless file injection is enabled
(which is not by default), only conditionally depend on it.

Change-Id: I79a8d8ac7ad2fbd7d2fce696821d130218e43e03"
dirkmueller,2015-06-01 10:57:33,https://api.github.com/repos/openstack/devstack/git/commits/c7e89f23808abf837d2a410ec9f4b1a452957c6d,c7e89f23808abf837d2a410ec9f4b1a452957c6d,"SUSE: Clean up libxslt/libxml2 related dependencies

libxml2-devel is a dependency of libxslt-devel, so we don't need
to explicitly include it. Also, since it is only really needed
by python-lxml, consolidate it into devlibs and remove the copies.
Also remove a non-existing package reference along the way

Change-Id: If9afaaa93f2c485baa1efff74d7ae58c59713de6"
mriedem,2015-06-21 16:02:59,https://api.github.com/repos/openstack/devstack/git/commits/2f63da9e0e0d0491acab31cafcee530ca0982e2e,2f63da9e0e0d0491acab31cafcee530ca0982e2e,"Ensure yum-utils is installed before using yum-config-manager

yum-utils provides yum-config-manager but the check for yum-utils is
currently being done after the first usage of yum-config-manager, which
fails if you don't have yum-utils already installed, so move it up
before the first usage of yum-config-manager.

Putting yum-utils in files/rpms/general doesn't help since
yum-config-manager is used in stack.sh before tools/install_prereqs.sh
is called.

Closes-Bug: #1467270

Change-Id: I74996c76838b7dc50d847e3bedb2d04dc55b4431"
brantlk,2015-06-21 14:16:44,https://api.github.com/repos/openstack/devstack/git/commits/e123830c15a4bd07f7ea700a46ca1e158487cdd9,e123830c15a4bd07f7ea700a46ca1e158487cdd9,"Add devstack-admin cloud to clouds.yaml

A lot of commands developers use require admin by default, so add a
""devstack-admin"" cloud to clouds.yaml that has admin authority.

 $ openstack --os-cloud devstack-admin user list

Change-Id: Ie0f1979c50901004418f8622d4ca79dc4bdadd8d"
brantlk,2015-06-21 13:54:43,https://api.github.com/repos/openstack/devstack/git/commits/e1fa0701b3920932d40b031b08d19c6fd2e3397e,e1fa0701b3920932d40b031b08d19c6fd2e3397e,"Update clouds.yaml

If the user already has a clouds.yaml, update it with the ""devstack""
entry.

Change-Id: Id02378b6f3a86f9fee201d91688205705202c0a8"
jerryz1982,2015-06-20 01:57:13,https://api.github.com/repos/openstack/devstack/git/commits/d3d78cc528ea2d35a8794ea21c2b8d043e3119e2,d3d78cc528ea2d35a8794ea21c2b8d043e3119e2,"use pip_install_gr for ceilometermiddleware

Since this patch https://review.openstack.org/#/c/171685 has been
merged in global requirements, better to switch to pip_install_gr.

Change-Id: Ibe708d4f523c32ade3c6a273f80b9c38bb03e382"
sdague,2015-06-19 12:26:45,https://api.github.com/repos/openstack/devstack/git/commits/0124e08ede770caf8b787d3a54e4683e7e1277cb,0124e08ede770caf8b787d3a54e4683e7e1277cb,"refresh the devstack plugin docs, add plugin registry

The devstack plugin docs mostly referred to in tree plugins, which is
honestly something we don't want people doing. Instead restructure the
whole document to talk about external plugins as the only kinds of
plugins, and focus on a workflow to make that easy for people to work
through.

This also adds a plugin-registry page to start listing known plugins
somewhere centrally. Some sample content was added, hopefully people
will submit patches to include their plugins.

This does drop the section on hypervisor plugins. That's not currently
something that we expect a ton of people to work on, so diving into
the code for this should be fine.

Change-Id: Ifc0b831c90a1a45daa507a009d1dcffcd6e2deca"
sc68cal,2015-06-18 16:40:09,https://api.github.com/repos/openstack/devstack/git/commits/d72b839b7f15a8065d2f7bcceff0a9299ea9c901,d72b839b7f15a8065d2f7bcceff0a9299ea9c901,"Docs: Use RFC5737 for Provider Networking

That'll make things more clear that with the provider networking
feature in DevStack, FIXED_RANGE will be a routed IPv4 subnet that gives
routed IPv4 addresses to instances without using floating IPs.

Change-Id: Ie26d75ac5ff285a25762c4f61fd9800b0382886b"
SpamapS,2015-06-18 20:22:35,https://api.github.com/repos/openstack/devstack/git/commits/d16bfa48ee33f07ebb60221267082002aea5c47b,d16bfa48ee33f07ebb60221267082002aea5c47b,"Tune mysql a bit better for concurrent operations

With PyMySQL in the projects we can expect things to happen more
concurrently now. The query cache is a hinderance to concurrency, and
more connections will be required.

Change-Id: Icfb8cdbb9ed39cfd7732ad05fe740e01c767af7b"
dims,2015-06-18 10:32:00,https://api.github.com/repos/openstack/devstack/git/commits/18d1cca6cb1e56827e04c2f38c9db745b881f98a,18d1cca6cb1e56827e04c2f38c9db745b881f98a,"Add oslo.service to devstack

Add the ability to switch on oslo.service master using
LIBS_FROM_GIT

Change-Id: I00fe7776aea005b6d4e0a84fce54f33a862b57e3"
rcritten,2015-06-10 15:00:59,https://api.github.com/repos/openstack/devstack/git/commits/1987fcc8a31478911d6c815eb0a94afcf9fa5788,1987fcc8a31478911d6c815eb0a94afcf9fa5788,"Replace pip-installed requests CA bundle with link

If the version of python-requests required is higher than
that provided by the operating system, pip will install
it from upstream.

The upstream version provides its own CA certificate bundle
based on the Mozilla bundle, and defaults to that in case
a CA certificate file is not specified for a request.

The distribution-specific packages point to the system-wide
CA bundle that can be managed by tools such as
update-ca-trust (Fedora/RHEL) and update-ca-certificates
(Debian/Ubuntu).

When installing in SSL/TLS mode, either with SSL=True or by
adding tls-proxy to ENABLED_SERVICES, if a non-systemwide
CA bundle is used, then the CA generated by devstack will
not be used causing the installation to fail.

Replace the upstream-provided bundle with a link to the
system bundle when possible.

Change-Id: I651aec93398d583dcdc8323503792df7ca05a7e7
Closes-Bug: #1459789"
sirushtim,2015-06-16 17:55:17,https://api.github.com/repos/openstack/devstack/git/commits/9e68af7d170db8f4231727ebdc6630320213da8d,9e68af7d170db8f4231727ebdc6630320213da8d,"Invoke Heat via console script generated binaries

Depends-On: Ic8f5b8dc85098de752bbf673c4b15c06fdc4162a
Change-Id: Iffb6d09bfef593d854b38e68200ae6039c4727e7"
sdague,2015-06-16 11:19:22,https://api.github.com/repos/openstack/devstack/git/commits/37eca48970106abb9b982af4f1262bcb227411ea,37eca48970106abb9b982af4f1262bcb227411ea,"remove non RabbitMQ messaging

Part of what was decided at summit is devstack needs to return to a
more opinionated stance, the following removes support for non
RabbitMQ messaging. RabbitMQ is used by over 95% of our community
(statistically all of it), so it's a pretty clear line to draw that
this shouldn't be in tree.

iniset_rpc_backend will be our stable hook for other projects that
want to implement this out of tree. The burden on creating those out
of tree plugins will be on those that wish to support those
alternative stacks.

Change-Id: I8073a895c03ec927a2598eff6c2f01e5c82606fc"
dirkmueller,2015-06-01 10:39:12,https://api.github.com/repos/openstack/devstack/git/commits/6bc089fce03e1b29405224eeed4761f08339255a,6bc089fce03e1b29405224eeed4761f08339255a,"Cinder: On SUSE, avoid restarting tgt

There is a known bug that restart tgtd fails, so go the
workaround way and stopping/starting it instead.

In addition, remove the else case since unstack also
uses cleanup_cinder, which already unconditionally supports
all distros.

Change-Id: Ib70917a95f001ef36a51815f08416fa30084aad6"
mhorban,2015-06-10 18:34:22,https://api.github.com/repos/openstack/devstack/git/commits/13f655720d77149d908fcae7d0b7c6d377c972d5,13f655720d77149d908fcae7d0b7c6d377c972d5,"Small fixes for running Nova services under Apache2

Following fixed were done:
1. Cleanup fixed.
2. API_WORKERS config option was added to nova config templates.
3. Nova API screen tabs were named as nova-api and nova-ec2-api.

Change-Id: I68dc6fd6c8aeffcec7f9039afd63bd1599c65682"
armando-migliaccio,2015-06-12 15:55:02,https://api.github.com/repos/openstack/devstack/git/commits/e155b894c8975f649cbbbc08675095fe728d0b69,e155b894c8975f649cbbbc08675095fe728d0b69,"Set Neutron api_workers to $API_WORKERS

Change [1] brings back this feature in Neutron, so we want to have
the ability to set the number of API workers the same way other
projects do.

However, this cause some instability, so we need to be careful on
how we bring it back.

[1] https://review.openstack.org/#/c/191127/

Closes-Bug: #1432189
Related-bug: #1432065

Change-Id: Id4986a49d33fa4b8a7291150488665e200525dac
Co-authored-by: Russell Bryant <rbryant@redhat.com>"
armando-migliaccio,2015-06-12 14:54:03,https://api.github.com/repos/openstack/devstack/git/commits/b3d8822ec835f1ca7eb5d9742b28f2ece480b387,b3d8822ec835f1ca7eb5d9742b28f2ece480b387,"Revert ""Revert ""change the default to PyMYSQL""""

Some projects (Neutron) seem to be affected more than others, so we should revert this
to allow for a more selective choice of the DB driver on a per project basis.

We can re-enable the use MySQL-python just for Neutron.

This reverts commit de8d29ed8ce4a26b61cbee48f9fe5418d5416a06.

Related-Bug: #1464612

Change-Id: I889f4f8b116c413b300ab9eecc7b428a9a4afb1a"
dirkmueller,2015-06-01 10:43:30,https://api.github.com/repos/openstack/devstack/git/commits/987f83da5adcf5f8dd2b78a526613cc23a9cdfdd,987f83da5adcf5f8dd2b78a526613cc23a9cdfdd,"SUSE: Add dependencies for L3 agent

Change-Id: If3f4f5ab9a3072273d2f440718ce0c75fd71fdf1"
sdague,2015-06-12 10:43:28,https://api.github.com/repos/openstack/devstack/git/commits/de8d29ed8ce4a26b61cbee48f9fe5418d5416a06,de8d29ed8ce4a26b61cbee48f9fe5418d5416a06,"Revert ""change the default to PyMYSQL""

The failure rate with neutron is too high to keep this
as the default.

Related-Bug: #1464612

This reverts commit b3798af474955368211a297ba85332fde5491993.

Change-Id: Ie9550aeb25d472a38e3d3ef6f3711622c9221c46"
jd,2015-06-12 07:05:12,https://api.github.com/repos/openstack/devstack/git/commits/0f63eb3a37c547b4aa9027fb83cc444d60157adf,0f63eb3a37c547b4aa9027fb83cc444d60157adf,"Install PyMySQL if used

Change Ic609ce136061b753ca692b37509a0b29c60bb8b5 switched to PyMySQL by
default but does not make sure it is installed. This is causing gate
failure in Gnocchi for example:

  http://logs.openstack.org/25/186025/3/check/gate-gnocchi-dsvm-functional-file-mysql/eebd773/logs/devstacklog.txt.gz

Change-Id: I23d313220607fcc8acb95ab43f55b7d9899b9b1f"
dkranz,2015-06-11 17:09:37,https://api.github.com/repos/openstack/devstack/git/commits/d1d6667c6b201d8c01f6b1d89660ceb4176de070,d1d6667c6b201d8c01f6b1d89660ceb4176de070,"Enable the volume bootable feature flag that was added in kilo

Change-Id: I5f8e0154a8b654b4c65b95f8b5c03e1a9be9e137"
kk7ds,2015-06-10 18:31:51,https://api.github.com/repos/openstack/devstack/git/commits/03786b1cca196473d90c8ce0dc1c98a1b3081ac5,03786b1cca196473d90c8ce0dc1c98a1b3081ac5,"Create and initialize the nova api_db

Going forward, nova will have another database at the API level (similar to how
current cells has an api-level cell, with its own database). This patch creates
and initializes it so that we can start testing the migrations with grenade.

Change-Id: I0dfae32102aeda9c5d17e134527b6a18f4b88014"
kragniz,2015-06-10 12:55:10,https://api.github.com/repos/openstack/devstack/git/commits/21afa42da6c3f0d7d73cc71718cfd7c9588fc43b,21afa42da6c3f0d7d73cc71718cfd7c9588fc43b,"ceph: remove deprecated glance_store options

glance_store has now been fully migrated, so we can stop setting these
options in the config files.

Change-Id: I3c6c2eea0171227b1ed362e74bcc5b10770721be"
russellb,2015-06-09 13:14:13,https://api.github.com/repos/openstack/devstack/git/commits/cfbc7918c5e7720fcfba88d2c18d26dd9d0cf5cf,cfbc7918c5e7720fcfba88d2c18d26dd9d0cf5cf,"Simplify start_neutron_other_agents

This patch just simplifies the start function a bit by removing some
unnecessary is_service_enabled checks that just wrap run_process
calls.  run_process does this exact check internally so it's not
needed here.

Change-Id: Id12a23f77ea0342854337c7d65821dd4e574dec2
Signed-off-by: Russell Bryant <rbryant@redhat.com>"
sdague,2015-06-10 10:26:57,https://api.github.com/repos/openstack/devstack/git/commits/7272afdf8bf55580f778530d590afd505394b4ae,7272afdf8bf55580f778530d590afd505394b4ae,"Revert ""Replace pip-installed requests CA bundle with link""

This does not gracefully handle the situation where requests
is not there at the beginning. Needs to be rethought.

This reverts commit 7d350720fe5d25fece68c5d1625a33a6cad431ef.

Change-Id: I101fac0dc6fdc97b7fb0b2955cffc6b4905152e5"
aaronorosen,2015-06-09 20:15:24,https://api.github.com/repos/openstack/devstack/git/commits/d8ed29dcb3c73bd0eec61939164b90b914c6530c,d8ed29dcb3c73bd0eec61939164b90b914c6530c,"Add vmware_nsx_v3 support

Sadly this is needed. We should refactor this out from all of the
plugins so we don't need to have all of these files. Adding this one
for now though.

Change-Id: Id382443fa7bef6b45237688c7e88d9e9a80a6ba1"
cybertron,2015-06-05 17:22:36,https://api.github.com/repos/openstack/devstack/git/commits/64b2ebca15701785af09d2c225d7c81e3c6acdce,64b2ebca15701785af09d2c225d7c81e3c6acdce,"Make sure iptables-services is installed

The iptables service files are no longer included by default on
Fedora.  This causes the systemctl calls in fixup_stuff.sh to fail
when disabling firewalld in favor of iptables.

Change-Id: If37691d03e3d07ca8b53c541717081beeb184c16
Closes-Bug: #1462347"
ianw,2015-06-02 00:28:55,https://api.github.com/repos/openstack/devstack/git/commits/64cf20440865595a4c6c71859a964ddbea0389e2,64cf20440865595a4c6c71859a964ddbea0389e2,"Add note on openrc and zsh

Add a note about running openrc through bash for import into zsh, as
shown by Chmouel Boudjnah in I5b6c8cfedcdd36efb4cbc91831501ee5c9c3b1d1

Change-Id: I5f1c9fc3fdc045cf6fb69af13f6264a81bf5f763
Closes-Bug: #1460656"
ianw,2015-06-02 00:18:49,https://api.github.com/repos/openstack/devstack/git/commits/2f27addf660d768988b1d9ec199e59584f0d4022,2f27addf660d768988b1d9ec199e59584f0d4022,"Move FAQ to a section-based format

Move to a section-based format, and add a TOC so we can see an
overview of the questions.

Change-Id: Ie480f2ab759a5a7081d4dc7d2491b44a85b6503a"
ianw,2015-06-02 00:08:04,https://api.github.com/repos/openstack/devstack/git/commits/a16e46100a2f676457abf884fc2b852d67597807,a16e46100a2f676457abf884fc2b852d67597807,"Cleanup FAQ somewhat

Remove some old discussions that no longer seem relevant and cleanup a
few other points.

Change-Id: I175ddaf9362bf48d35b0e648904eeb21bdc3c793"
rcritten,2015-06-04 22:01:29,https://api.github.com/repos/openstack/devstack/git/commits/ce2d75df01071a06ac08c8f5ba73a8fd78002da4,ce2d75df01071a06ac08c8f5ba73a8fd78002da4,"Remove hardcoded http in URL in sahara exercise script

The script hardcoded http://$SERVICE_HOST/... which failed
when SSL or tls-proxy was enabled. Calculate the protocol
based on enabled services instead.

Change-Id: I192eeeafe7bf4dc5cbd382c505ffb9307651d78a"
russellb,2015-06-08 19:25:43,https://api.github.com/repos/openstack/devstack/git/commits/09b94603bb4f903616da3b1b4970ee1e2a666b91,09b94603bb4f903616da3b1b4970ee1e2a666b91,"Separate start/stop control of Neutron L2 agent.

This patch separates out control of the Neutron L2 agent from
starting/stopping the rest of Neutron.  This is needed for the same
reason that control of nova-compute was separated out for Nova.  When
doing rolling upgrade testing with Grenade, we need to be able to stop
and upgrade everything except the L2 agent, as that is what would be
running on a compute node.

After this is in place, we can update grenade to support a partial
upgrade scenario with Neutron and run it in jenkins to ensure we don't
break live upgrade support of Neutron.

Change-Id: I7eb87fba778aff3e4514813c6232dafa99ee2912
Signed-off-by: Russell Bryant <rbryant@redhat.com>"
sc68cal,2015-06-08 16:36:30,https://api.github.com/repos/openstack/devstack/git/commits/7bc2af7a6b75a0e7f383546c1d61e02b27cf45b5,7bc2af7a6b75a0e7f383546c1d61e02b27cf45b5,"Neutron: Add a cleanup function for Linux Bridge

Change-Id: Ia1bad5d2fa3b94afc662463b2e072f8482b0ce1f"
jogo,2015-06-07 07:57:34,https://api.github.com/repos/openstack/devstack/git/commits/2ebe993b25462919e8aeeb896c9f91b6be7aa573,2ebe993b25462919e8aeeb896c9f91b6be7aa573,"guru meditation report for nova-compute in worlddump

Nova-compute is hanging in the multinode test, and its difficult to
figure out why. So trigger a guru meditation report for nova-compute in
worlddump so we can see what nova-compute is doing when it is hung.

Having a hung nova-compute causes tempest to fail and
I035fe8e3333034e44b403ed0f986220ab5b0e57a runs worlddump whenever
tempest fails.

Bug 1462305 is one of the last issues left before the multinode job is
stable enough to gate on, and this patch should make it much easier to
debug.

Change-Id: I87d7536b5992c47b8082684cc662f953113fd1a8
Related-Bug: #1462305"
rcritten,2015-06-05 15:58:15,https://api.github.com/repos/openstack/devstack/git/commits/6254d5fd0d87e65aa0a53b9fb30b36145e47d46d,6254d5fd0d87e65aa0a53b9fb30b36145e47d46d,"Fix nova and glance discovery URLs when tls-proxy is enabled.

Retrieving the root page in the nova and glance APIs include
URLs for the various versions supported. These are by default
reported using unsecure URLs. Configure the services to report
a SSL-based URL instead.

Change-Id: I220757e53b94a5f6d19291371407220fdf54c645"
kashyapc,2015-05-27 19:59:32,https://api.github.com/repos/openstack/devstack/git/commits/a53ae68889746d61ad84cc19d2f2b61eec2c052a,a53ae68889746d61ad84cc19d2f2b61eec2c052a,"Remove Fedora 20 as supported distribution

Fedora 20 will reach end of life on 23-JUN-2015[1]; remove it as
supported distribution. Add Fedora 22 where applicable.

    - stack.sh: Remove Fedora 20 from list of supported distributions.
    - files/rpms/general: Remove 'f20' from NOPRIME.
    - lib/ceph: Remove 'f20' from the check_os_support_ceph()
      function.
    - doc/source/index.rst: s/Fedora 20/Fedora 21/

[1] https://lists.fedoraproject.org/pipermail/devel-announce/2015-May/001586.html

Change-Id: I8f2e1ddc24c071754b1cceb5bed5bdafdc9d9f79"
afazekas,2015-05-27 09:50:12,https://api.github.com/repos/openstack/devstack/git/commits/50a3edf1b77fbe91c8101cfca9c1abad9c756a3d,50a3edf1b77fbe91c8101cfca9c1abad9c756a3d,"Enable deactivate image tests in tempest

Deactivate image is new feature, so it cannot be default
enabled in tempest.

Change-Id: Ic33b3e2f7a9f62543680647312603bdd19b90198
Depends-On: I7880f0e2646ce8660e035ebaa19a60f5bf271b64"
yamt,2015-06-03 08:29:50,https://api.github.com/repos/openstack/devstack/git/commits/3fe4c4e789f266b1367a770e12f3c461e8981a15,3fe4c4e789f266b1367a770e12f3c461e8981a15,"MAINTAINERS.rst: Add MidoNet section

While the most part of MidoNet code is now externally maintained
using the external plugin mechanism, it can be still useful to
have a contact list.

Change-Id: I3e0a0586c07875ca37ce101dd169eaf78f34f7a5"
yamt,2015-06-03 08:10:43,https://api.github.com/repos/openstack/devstack/git/commits/aa54511727614a837992845be416b9bd921be2e4,aa54511727614a837992845be416b9bd921be2e4,"midonet: Provide has_neutron_plugin_security_group

Change-Id: I6ac12022bb8998fbec17cfa503db9277aa2eb8b7
Partial-Bug: #1458871"
rcritten,2015-05-28 18:59:31,https://api.github.com/repos/openstack/devstack/git/commits/7d350720fe5d25fece68c5d1625a33a6cad431ef,7d350720fe5d25fece68c5d1625a33a6cad431ef,"Replace pip-installed requests CA bundle with link

If the version of python-requests required is higher than
that provided by the operating system, pip will install
it from upstream.

The upstream version provides its own CA certificate bundle
based on the Mozilla bundle, and defaults to that in case
a CA certificate file is not specified for a request.

The distribution-specific packages point to the system-wide
CA bundle that can be managed by tools such as
update-ca-trust (Fedora/RHEL) and update-ca-certificates
(Debian/Ubuntu).

When installing in SSL/TLS mode, either with SSL=True or by
adding tls-proxy to ENABLED_SERVICES, if a non-systemwide
CA bundle is used, then the CA generated by devstack will
not be used causing the installation to fail.

Replace the upstream-provided bundle with a link to the
system bundle when possible.

Change-Id: I349662ff8f851b4a7f879f89b8975a068f2d73dc
Closes-Bug: #1459789"
sc68cal,2015-06-01 18:13:41,https://api.github.com/repos/openstack/devstack/git/commits/64d5ecf3bf7e0bd08762a7fe5f94f7947ae0204c,64d5ecf3bf7e0bd08762a7fe5f94f7947ae0204c,"Define PUBLIC_BRIDGE in the main Neutron lib

This way, it can be used by both OVS and Linux Bridge

Change-Id: Iea5a8bb720d327b69f64791a23d414d4cde2e3ea
Closes-Bug: #1460758"
redixin,2015-06-01 16:06:46,https://api.github.com/repos/openstack/devstack/git/commits/25cb34606eb25ad2760e4ac50fa4d08036afbc96,25cb34606eb25ad2760e4ac50fa4d08036afbc96,"Fix sample multinode configuration

There should not be c-sch and c-api services on compute node.

Change-Id: Ice057eb80e7ab6e917ca972abe7eaae7d635e8a5
Closes-Bug: 1393721"
dkranz,2015-06-01 14:29:59,https://api.github.com/repos/openstack/devstack/git/commits/f100e1cfe6860cc3b7d5384ed41d5bdad6af2fd2,f100e1cfe6860cc3b7d5384ed41d5bdad6af2fd2,"Enable image deactivate feature which was added in kilo

Change-Id: Ia1d3d811bd57d3de16d397cfab341e8d0f17cb69"
dirkmueller,2015-06-01 08:43:58,https://api.github.com/repos/openstack/devstack/git/commits/643779873acfaca160caac5ef94c1286eb33ae51,643779873acfaca160caac5ef94c1286eb33ae51,"Remove packaged rpm python libraries

We want to use the pip versions instead, only python-devel
should be needed.

Change-Id: If7720d54c4ad3358f9dc2fceedd6f5897085eb8f"
dirkmueller,2015-05-29 11:36:09,https://api.github.com/repos/openstack/devstack/git/commits/1ebe4f1ff0b9056d8015eee021a11ce1bd18b184,1ebe4f1ff0b9056d8015eee021a11ce1bd18b184,"Add missing libmysqlclient-devel dependency for SUSE

Currently devstack unconditionally installs MySQL-python, so
we need to have its dependencies available. Since this is
transitional until the switch to PyMysql happened, lets just
add the dependency for now to have devstack working again.

Change-Id: I638b5999d35a06eee962679b1cd95950bbf2b1d7"
tbreeds,2015-05-15 02:51:16,https://api.github.com/repos/openstack/devstack/git/commits/0bedeb906244b8ecf32cff43d4a73717217801b2,0bedeb906244b8ecf32cff43d4a73717217801b2,"Add utopic and vivid as a supported distros

Change-Id: I63843335bd70ab9701bbd10dcf61f3eaa45a10e8"
tbreeds,2015-05-15 02:51:43,https://api.github.com/repos/openstack/devstack/git/commits/6bc905c3488a93fa87776bcd0af7e362a90b082f,6bc905c3488a93fa87776bcd0af7e362a90b082f,"Change the restart_rpc_backend loop to accomodate async rabbitmq

Some distros have converted to systemd for starting RabbitMQ.  This has
resulted in:
---
[Call Trace]
./stack.sh:904:restart_rpc_backend
/home/stack/projects/openstack/openstack-dev/devstack/lib/rpc_backend:201:die
[ERROR] /home/stack/projects/openstack/openstack-dev/devstack/lib/rpc_backend:201 Failed to set rabbitmq password
Error on exit
World dumping... see /opt/stack/logs/worlddump-2015-05-29-031618.txt for details
---

Because 'restart_service rabbitmq-server' returns before the server is ready to
accept connections.

Alter the retry loop to only restart the rabbitmq-server every second time
through the loop.  Allowing time for the slow rabbit to start.

Closes-Bug: 1449056
Change-Id: Ibb291c1ecfd109f9ed10b5f194933364985cc1ce"
toabctl,2015-05-30 22:04:33,https://api.github.com/repos/openstack/devstack/git/commits/a858085afb46922760d9e89c34feb988ea283a54,a858085afb46922760d9e89c34feb988ea283a54,"Simplify add_user_to_group function

Current SLE12 and openSUSE13.X versions can handle usermod's '-a' and '-G'
switches so remove the special case.

Change-Id: If0f1390a0eb8f41ffffca74525a4648cfe8ea61d"
toabctl,2015-05-30 21:55:33,https://api.github.com/repos/openstack/devstack/git/commits/06efa2ac5df6f64785c2574e653595625dbbffde,06efa2ac5df6f64785c2574e653595625dbbffde,"Fix horizon files for SUSE

python-CherryPy and python-beautifulsoup are not needed so remove them
from the list of packages for horizon.

Change-Id: I45ddf98b5891a1f1f1da82bb4afa79ea43d156cc"
toabctl,2015-05-30 21:19:18,https://api.github.com/repos/openstack/devstack/git/commits/4be092da3eb79ffe172d29ed767815fb13d658ca,4be092da3eb79ffe172d29ed767815fb13d658ca,"Fix devlibs for SUSE

libmysqld-devel is needed for installing MySQL-python. Otherwise the
following error occurs:

EnvironmentError: mysql_config not found

Change-Id: Id84d3116d5987976169d8e2f9aca754ded205880"
dklyle,2015-05-29 19:49:03,https://api.github.com/repos/openstack/devstack/git/commits/7ef246492c8613c80b197fcec93ca65c5db47cb1,7ef246492c8613c80b197fcec93ca65c5db47cb1,"Fixing keystone v3 version use for horizon

The setting for overriding Horizon's OPENSTACK_API_VERSIONS is not
the correct format. The version should be a number, not a string.

so should be 3, not ""v3"".

Change-Id: I193d21514b196336796eac067417dc2aaec56433
Closes-Bug: #1460190"
sc68cal,2015-03-20 16:58:55,https://api.github.com/repos/openstack/devstack/git/commits/02ae50dc995815641c787d821c69ac537ac6527a,02ae50dc995815641c787d821c69ac537ac6527a,"Documentation for single interface Neutron networking with OVS

Change-Id: I7a72377f55952db629c2ce7ba4ed648635e581ef"
tbreeds,2015-05-29 02:26:31,https://api.github.com/repos/openstack/devstack/git/commits/6d50d95cae72435330690e518e4b7dbf06c75f84,6d50d95cae72435330690e518e4b7dbf06c75f84,"Skip the .tox dir when building docs

When running tools/build_docs.sh in a devstack dir that has also run tox
build_docs needlessly runs shocco on the .tox files.

Just skip them.

Change-Id: Ia561e49ea2214ac75bd55964f1b86872118b2031"
tbreeds,2015-05-15 03:09:26,https://api.github.com/repos/openstack/devstack/git/commits/31127a2a74ab851fe4b133e7f413719f370d7c94,31127a2a74ab851fe4b133e7f413719f370d7c94,"Skip 'shocco' code when running tox

when running tox in a devstack directory where you have previously run tox
-edocs the bashate testenv will fail as the shocco code doesn't match the
devstack style.

eg:
---
E003: Indent not multiple of 4: '           2>/dev/null ||'
 - /home/stack/projects/openstack/openstack-dev/devstack/shocco/shocco.sh : L352
<snip>
27 bashate error(s) found
---

Take the easy path and avoid running bashate in the shocco dir.

Change-Id: I5b0155332ec994afaffc5c5961902281864cff61"
afazekas,2015-05-28 13:38:01,https://api.github.com/repos/openstack/devstack/git/commits/c550f2158970fc222cf01ddccf71d03f96a4651d,c550f2158970fc222cf01ddccf71d03f96a4651d,"Enable F22 without the FORCE flag

F22 has a stable release and working with devstack.

The change also removes the version flags regarding to the
mariadb-devel.

NOTE: You may see yum deprecation warnings, unless
you set the YUM variable to dnf.

Change-Id: I05140765bffc16faef5a29dfaba291c290bfae02"
BobBall,2015-05-28 05:42:03,https://api.github.com/repos/openstack/devstack/git/commits/40c5ea67d34168048068d115e5d870a5065d4b0f,40c5ea67d34168048068d115e5d870a5065d4b0f,"XenAPI: Increase OpenStack DomU usage again

Devstack has continued to grow in memory requirements and now we cannot
reliably fit in 4GB, with several services being unable to start.  Increase
the minimum for DomU to 6GB to leave room for virtual machines

Change-Id: Idbdfa1f36015b6af347d1ce27eb28baa360af5ef"
ianw,2015-05-25 01:50:32,https://api.github.com/repos/openstack/devstack/git/commits/dd363a182fb1f8472bc163c82ea5f48e8f8fd29e,dd363a182fb1f8472bc163c82ea5f48e8f8fd29e,"Cleanup test_ip.sh to give more consistent output

Minor changes to give more consistent output; no functional changes to
tests.

Change-Id: I6c4ef74587c59b786761735c7bd528f3d7f94905"
umago,2015-05-27 10:41:33,https://api.github.com/repos/openstack/devstack/git/commits/73d24b2c1c1795a1d8b7f6dcdd608ad387d125b9,73d24b2c1c1795a1d8b7f6dcdd608ad387d125b9,"Ironic: Remove deprecated parameters

Ironic have updated some parameters to have a consistent name
across drivers. This patch is updating devstack to stop using the
pxe_deploy_{kernel, ramdisk} parameters which have been deprecated since
early Kilo eliminating the deprecation warnings in the logs.

WARNING ironic.drivers.modules.pxe [-] The ""pxe_deploy_kernel"" parameter
is deprecated. Please update the node 267e42c8-df07-49f5-bc7f-48b566acb109
to use ""deploy_kernel"" instead.

WARNING ironic.drivers.modules.pxe [-] The ""pxe_deploy_ramdisk"" parameter
is deprecated. Please update the node 267e42c8-df07-49f5-bc7f-48b566acb109
to use ""deploy_ramdisk"" instead.

Change-Id: I3dcf8df130efc0c2ea35695018bedba31bf0570c"
rcritten,2015-05-26 19:24:38,https://api.github.com/repos/openstack/devstack/git/commits/aece9ff9eff94fcdd2bdac14d64536e16207139d,aece9ff9eff94fcdd2bdac14d64536e16207139d,"Use correct conf file variable name in sahara

When the tls-proxy service is enabled then a separate
set of ports is used internally vs externally. The
services listen on the internal port and a proxy (stud)
listen on the ""standard"" port and forward requests to
the internal port.

An incorrect environment variable was being used to set
the internal port in the sahara configuration so it wasn't
listening on the correct port, causing stack.sh to fail
because it thought the service wasn't up (at least not
on the right port).

Change-Id: I3384039392be786d3c189f3e4f84e069ddaf4339
Closes-Bug: #1458984"
sdague,2015-05-20 13:48:02,https://api.github.com/repos/openstack/devstack/git/commits/b3798af474955368211a297ba85332fde5491993,b3798af474955368211a297ba85332fde5491993,"change the default to PyMYSQL

As discussed in the Liberty Design Summit ""Moving apps to Python 3""
cross-project workshop, the way forward in the near future is to
switch to the pure-python PyMySQL library as a default.

    https://etherpad.openstack.org/p/liberty-cross-project-python3

Change-Id: Ic609ce136061b753ca692b37509a0b29c60bb8b5"
fkakuma,2015-04-13 00:55:06,https://api.github.com/repos/openstack/devstack/git/commits/8606c98c53722f425525fa06eee554b7d30f62f6,8606c98c53722f425525fa06eee554b7d30f62f6,"Fix remove_disabled_extensions to remove an extension at the last position

remove_disabled_extensions do matching by '$ext_to_remove"",""'. So it doesn't
match an extension at the last position in extensions_list.
This patch fixes that.

Closes-Bug: #1443254
Change-Id: I194b483de797697ba06b320cf33f1bac67fc0cc7"
ggiamarchi,2015-05-26 00:08:44,https://api.github.com/repos/openstack/devstack/git/commits/93ee8c876ca2a8cdea98b6685538f85f1a7979ef,93ee8c876ca2a8cdea98b6685538f85f1a7979ef,"Set IP_VERSION default value to 4+6

This is actually the default value since 645114b

Change-Id: Ib6603b4f6ea0b4079f9a4ea46e723ecbb2ea371d"
gkotton,2015-04-26 15:50:49,https://api.github.com/repos/openstack/devstack/git/commits/fcefb0a910f78f36b329d8eb74d3849678a7a2b7,fcefb0a910f78f36b329d8eb74d3849678a7a2b7,"VMware: add support for simple DVS

Add the file vmware_dvs that will enable the external CI to be
run.

The patch in the VMware repo for the DVS support is:
https://review.openstack.org/#/c/177597/

Change-Id: I6dee978fd2be3818c5ce57b1dcb2917234ab61e2"
ianw,2015-05-25 01:29:48,https://api.github.com/repos/openstack/devstack/git/commits/165afa2377ee8eb6bad1b6cfb454a7de525a4498,165afa2377ee8eb6bad1b6cfb454a7de525a4498,"Fix msg argument to assert_equal

I noticed this was taking an argument but not dealing with it.  In
general the functions were undocumented, so I added some terse usage.

Also, the intent of the test-case was to expand the values before
using them as the message; make sure this happens by using a temp
variable.

Change-Id: Ib317ad1e9dd2a5d2232b9c64541fe4a601a2b8da"
sdague,2015-05-20 13:37:11,https://api.github.com/repos/openstack/devstack/git/commits/37421991b446f2077a9fb4e9a6d580b1c08044a3,37421991b446f2077a9fb4e9a6d580b1c08044a3,"optional pymysql support

This allows you to specify MYSQL_DRIVER=PyMySQL and get it in the
environment.

Change-Id: Ic9d75266640b7aa6d7efb6e882d3027e81414059"
mtreinish,2015-05-15 16:38:09,https://api.github.com/repos/openstack/devstack/git/commits/4b684aed316a89d4bc0d365e594ed345fe99d6b4,4b684aed316a89d4bc0d365e594ed345fe99d6b4,"Don't set tempest fixed_network_name with neutron

If neutron is enabled then there isn't a shared private network
between all tenants which is what is required for the
fixed_network_name config option. This commit adds a conditional
to not set that option when neutron is enabled. While not necessarily
fatal to tempest it does emit a warning on almost every server create
call if it is set with a non-existent network name.

Change-Id: I1a42fa6b0b5a93b411c08ec35df043d6ea69d453"
ianw,2015-05-15 03:12:02,https://api.github.com/repos/openstack/devstack/git/commits/3380a16974defc62db65fbc8e30e2510b57b84b6,3380a16974defc62db65fbc8e30e2510b57b84b6,"Disable firewalld always

We've bike-sheded over this before
(I5252a12223a35f7fb7a4ac3c58aa4a3cd1bc4799) but I have just traced
down further issues to firewalld with neutron+ipv6 (see the bug).

In fact, as mentioned in the comments, RDO disables firewalld and the
neutron guide says to disable it [1].  The force flag is left if
anyone really wants this; but nobody is testing (or, as far as I can
tell, working on) this so bring devstack back into line and disable it
always.  Note we do not remove the package; as has been found in the
puppet scripts this can lead to dependency issues.

[1] http://docs.openstack.org/developer/devstack/guides/neutron.html

Change-Id: Ief7cb33d926a9538f4eb39c74d906ee0c879de35
Partial-Bug: 1455303"
dims,2015-05-14 00:53:08,https://api.github.com/repos/openstack/devstack/git/commits/8afbaa1c80d54d7f6591f8f2c1a26c34f60c77e1,8afbaa1c80d54d7f6591f8f2c1a26c34f60c77e1,"Support for running Nova with oslo.rootwrap daemon

Nova is being enhanced to use rootwrap as a daemon. For this effort,
we need an additional entry for nova-rootwrap-daemon in the
sudoers.d/ directory.

Needed by:
I57dc2efa39b86fa1fa20730ad70d056e87617c96

Change-Id: I80c7b9dd8e9e0f940aa4e54a95b241dfc40d3574"
ianw,2015-05-14 00:01:53,https://api.github.com/repos/openstack/devstack/git/commits/c6782413081cbdc72c7b24e34acec383a1cf2f46,c6782413081cbdc72c7b24e34acec383a1cf2f46,"Infer rootwrap arguments from project

We can infer the binary and configuration paths just from the project
name and expanding this to the known *_DIR & *_BIN_DIR variables.  A
similar thing is done for policyd settings

Change-Id: I7c6a9fa106948ae5cbcf52555ade6154623798f1"
emonty,2015-05-14 15:20:39,https://api.github.com/repos/openstack/devstack/git/commits/61045ca58a89f9ce3a2c905450885700119a8a6f,61045ca58a89f9ce3a2c905450885700119a8a6f,"Write out a clouds.yaml file

os-client-config consumes clouds.yaml files, which is now supported in
python-openstackclient and shade. It also makes for a non-envvar way of
getting config info into functional tests.

Change-Id: I1150b943f52f10d19f8434b27e8dde73a14d7843"
jeblair,2015-03-24 23:32:03,https://api.github.com/repos/openstack/devstack/git/commits/9e220b9b2b560b160c93058b255b3d69e49c0cbc,9e220b9b2b560b160c93058b255b3d69e49c0cbc,"Move trove into in-tree plugin

Once the trove code is copied into the trove repo and it is used
as a devstack-plugin, we can remove trove-specific code from
devstack.

Change-Id: I8f9f1a015edb7ec1033e2eaf0b29ab15d89384ce
Depends-On: I3506dec0e6097f9c2e9267110fdfb768faa23c85"
dtroyer,2015-05-13 20:41:03,https://api.github.com/repos/openstack/devstack/git/commits/6816234dc84b3e81a3de8745e84691d09123ba7f,6816234dc84b3e81a3de8745e84691d09123ba7f,"Save stackenv values more often

Having these for debugging can be handy

Change-Id: I18c2658eec83a0f20f697a3c4c36aa1cf46b7a92"
sdague,2015-05-12 23:51:39,https://api.github.com/repos/openstack/devstack/git/commits/737e94202fe635b7bd9ad59195352bb5dfe54817,737e94202fe635b7bd9ad59195352bb5dfe54817,"dump compute consoles on fail as well

This provides a dump of the compute consoles as well on failure.

Change-Id: Ib253537a54a1b9d83a930bbefa4512e039575fd1"
jogo,2015-05-13 03:04:49,https://api.github.com/repos/openstack/devstack/git/commits/1fa82aab6634bf815d162978e33b211e1fdef343,1fa82aab6634bf815d162978e33b211e1fdef343,"Install g-r version of OSC in configure_tempest

configure_tempest uses python-openstackclient (OSC) and we call
configure_tempest in grenade on the new side. So we need to make sure
the version of OSC is installed matches global-requirements on new.

Change-Id: I6fae9b8b081355b45e7c8d622d8db2482d41b464
Closes-Bug: #1454467"
j-griffith,2015-05-12 23:28:59,https://api.github.com/repos/openstack/devstack/git/commits/ce8e6f6aa61c267df7892e7e8748963db8c83bc3,ce8e6f6aa61c267df7892e7e8748963db8c83bc3,"Add ability to specify cinder lvm_type option

Cinder has had an lvm_type option for quite a while
that allows the LVM driver to be configured to use
thin provisioning.

This required an additional PPA in Precise, but is
available in the default Trusty packages.

This patch adds the lvm_type option, and we'll use
it to do gate testing against the lvm_thin configuration.

Change-Id: I99c7fea131f3d79747ec75052adf8b24f41ba483"
kragniz,2015-05-12 16:49:49,https://api.github.com/repos/openstack/devstack/git/commits/cbe12eb72eaf70001b80b0a6357cde3048cbc81f,cbe12eb72eaf70001b80b0a6357cde3048cbc81f,"glance: remove deprecated store options

glance_store has now been fully migrated, so we can remove these from the
config files.

Change-Id: I987ab6338b235f0beeed7c7fe74b0f5b6526f70d"
sdague,2015-05-11 18:53:39,https://api.github.com/repos/openstack/devstack/git/commits/60a140571ea3a4ad07772f1eedae6d4d1a6e4c67,60a140571ea3a4ad07772f1eedae6d4d1a6e4c67,"add network info to the worlddump

This adds potentially helpful networking info to the world dump.

It also refactors some of the output mechanisms into reusable
functions for cleanliness in the code.

Change-Id: I39f95bd487c152925f8fadd1799149db35cffd52"
brantlk,2015-05-11 17:54:33,https://api.github.com/repos/openstack/devstack/git/commits/eb7a0d9b2d22da3d1e0fbc3f581c597a1a510666,eb7a0d9b2d22da3d1e0fbc3f581c597a1a510666,"Remove KEYSTONE_AUTH_CACHE_DIR

Keystone doesn't use a cache directory.

Change-Id: I569b406db46cf6bdabcbfd8c5eb6f3cbdbc3cff7"
brantlk,2015-05-11 15:37:18,https://api.github.com/repos/openstack/devstack/git/commits/71a8eccdc3594b2e0395d7df75e69eb877269e81,71a8eccdc3594b2e0395d7df75e69eb877269e81,"Remove setting nonexistant [ec2] driver option in keystone

There's no [ec2] driver option in keystone.

Change-Id: Ifee92127f32db85d4d55f665471c8da1c9a970e7"
brantlk,2015-05-11 15:02:24,https://api.github.com/repos/openstack/devstack/git/commits/331a64f9d087692cba10f3dd15c6b01595e1c127,331a64f9d087692cba10f3dd15c6b01595e1c127,"Use stevedore for keystone backends

With bp stevedore, keystone will load backend drivers using
stevedore entrypoints. Using the qualified class name is
deprecated.

Since stevedore is going to validate that the entrypoint is
found, there's no need to list the valid backends, so backend
validation was removed. This change will cause the server to fail
to start if the backends are misconfigured rather than using the
default one.

The names of the stevedore endpoints are ""sql"", ""ldap"", etc.,
rather than the qualified class name, so the way that these
are specified in KEYSTONE_IDENTITY_BACKEND, etc., is the same as
the stevedore entrypoint and there's no need to translate.

Change-Id: I81e4e3a6c97b0057610e6b256aff5df4da884e33"
Mahito,2015-05-11 09:02:34,https://api.github.com/repos/openstack/devstack/git/commits/98f59aafaf88328f6aee98efa0f563fb8bf91ebd,98f59aafaf88328f6aee98efa0f563fb8bf91ebd,"Fix function and test for 'trueorfalse'.

The function's comment is written as follow, however the function accepts
other values (ex. ""e"", ""t"", ""T"", ""f"", ""F"", etc...).

---
Accepts as False: 0 no No NO false False FALSE
Accepts as True: 1 yes Yes YES true True TRUE
---

Moreover if testval mach True or False, the function exits without resetting
xtrace.

This patch fixes the issue and add test patterns.

Change-Id: Ie48a859476faff22a4dfef466516e2d7d62ef0c0
Closes-bug: #1453687"
fungi,2015-05-08 17:43:08,https://api.github.com/repos/openstack/devstack/git/commits/091b42b7da7650d528bb5f88ec411a04af3da828,091b42b7da7650d528bb5f88ec411a04af3da828,"Stop installing nose and pylint from distros

The distro packages of nose and pylint depend on python-setuptools
on some platforms, and on some of those platforms (at least CentOS
6.x) you can't resolve dependencies on python-setuptools properly if
you've forcibly removed it already (as we do on our CI workers). It
appears that any current upstream use of these tools in relation to
DevStack-based testing is now relying on tox and pip to obtain them
instead.

Change-Id: Ibd16ac550c90364115caf57fae4f5f4cb5d5f238"
accelazh,2015-05-08 10:14:11,https://api.github.com/repos/openstack/devstack/git/commits/99de7cc1782ed00905068d0ec894ac08db5aa06f,99de7cc1782ed00905068d0ec894ac08db5aa06f,"Fix wrong `sudo ceph -c` command in lib/ceph

The `sudo -c ${CEPH_CONF_FILE} ceph ...` in lib/ceph misplaced
`ceph`. The correct syntax is `sudo ceph -c ${CEPH_CONF_FILE} ...`,
see lib/ceph:308.

While installing ./stack.sh with ceph enabled, the above malformed
command raises a `usage: sudo -h | -K | -k | -V ...` error and stops
the installation.

This patch fixes `sudo -c ${CEPH_CONF_FILE} ceph ...` by moving
`ceph` to the right place.

Change-Id: I3da943d5a353d99b09787f804b79c1d006a09d96
Closes-bug: #1453055"
accelazh,2015-05-08 15:55:31,https://api.github.com/repos/openstack/devstack/git/commits/ad0a518ca92f86a9f1361d717413f8d1d65d2994,ad0a518ca92f86a9f1361d717413f8d1d65d2994,"Use an actual existing nova scheduler in README.md

The Multi-Node Setup guide in README.md

    https://github.com/openstack-dev/devstack/tree/master#multi-node-setup

guides users to use

    SCHEDULER=nova.scheduler.simple.SimpleScheduler

where the SimpleScheduler doesn't actually exist in nova. Even
though this is just an example, it is misleading enough for a
beginner to put SimpleScheduler into local.conf. The resulting
error message where n-sch fails to start

    ImportError: No module named simple

Isn't intuitive enough and may takes the beginner long time to
locate what's wrong.

This patch replaces SimpleScheduler with a real existing
FilterScheduler in nova.

Change-Id: I14a2a5c0604ce08a498accfc3a795c1c9aa3e642
Closes-bug: #1453186"
mriedem,2015-05-08 13:59:39,https://api.github.com/repos/openstack/devstack/git/commits/b3a8f6032a47fd78fcaeb46bca6572a700c775ce,b3a8f6032a47fd78fcaeb46bca6572a700c775ce,"nova: remove allow_migrate_to_same_host config usage

Nova commit 9b224641295af3763d011816d6399565ac7b98de removed the option
in Liberty so we can remove it's usage in devstack.

Related-Bug: #1364851

Change-Id: If051f43fb75d57c118db4e8e97895ff06fbb54e2"
openvdro,2015-04-29 10:36:52,https://api.github.com/repos/openstack/devstack/git/commits/41309002fa1a1c00f8485ef71acdec93fbfbd014,41309002fa1a1c00f8485ef71acdec93fbfbd014,"Add new options to baremetal config section

This change adds setting of deploy_img_dir and node_uuid baremetal
config options during tempest configuration to enable ironic w/o
glance scenario testing.
Needed for change I171e85cb8a21fae4da45028f1f798988a36f6c95

Change-Id: I6fd393390389c4c643b93198fa461fc2adc415ae"
ukinau,2015-05-08 07:29:55,https://api.github.com/repos/openstack/devstack/git/commits/0a9d03d5059356a9f494ad331b548cc74d85d75f,0a9d03d5059356a9f494ad331b548cc74d85d75f,"Move install_infra before execute build_wheels.sh

The pip_install_gr function in build_wheels.sh use requirements project.
So requirements project must exist before execute build_wheels.sh.
Then we moved install_infra function which install requirements project.

Change-Id: I8f80ecafff0f7e1942731379b70bccac338ea3b3
Closes-Bug: 1453012"
sdague,2015-05-07 12:57:28,https://api.github.com/repos/openstack/devstack/git/commits/168b7c226cd17fa75eecc0e6ce4c81d001747f78,168b7c226cd17fa75eecc0e6ce4c81d001747f78,"dump iptables in the worlddump

If we fail during devstack / grenade runs, it would be nice to have
the map of iptables that are currently active as well. This makes it
handy to start figuring out what's going on when test servers don't
ping.

Change-Id: Ia31736ef2cb0221586d30c089473dfdc1db90e23"
SpamapS,2015-05-05 22:00:03,https://api.github.com/repos/openstack/devstack/git/commits/52a3bebcfcb09ec2b78d0357f1a074458ab04053,52a3bebcfcb09ec2b78d0357f1a074458ab04053,"Do not set OS_CACERT if there is no CA cert

In openrc, if we set OS_CACERT, some things will expect it to be there
in pre-flight checks. But it may very well be missing. This ""fails
closed"" because if we find the file, we try to use it, but if we don't
find the file, and the user thought we should be using it, we'll just
not be able to verify the server's name, and the libs will fail on that.

Change-Id: Ia5d06afa74bc645c2f19711cfa37e57a377c329b
Closes-Bug: #1452036"
sdague,2015-05-06 13:48:54,https://api.github.com/repos/openstack/devstack/git/commits/5a59ac7d43bb10a5bbc912b94edea19e1009b675,5a59ac7d43bb10a5bbc912b94edea19e1009b675,"create a more generic work around for cffi & wheels

This is an attempt to fix the cffi vs. wheels bug in a more generic
way by just ensuring that pip has installed cffi with a pip understood
version into the venv before we try to do any builds.

Related-Bug: #1451992

Change-Id: Ibc58668c53933033405b40f79b0e9ffc73a01a6f"
CyrilRoelandteNovance,2015-05-06 15:30:48,https://api.github.com/repos/openstack/devstack/git/commits/e8a2fa431b4b432c5a05da0cab6c4af5999e5aee,e8a2fa431b4b432c5a05da0cab6c4af5999e5aee,"lib/swift: the s3_token middleware should be provided by keystonemiddleware

Recently, keystoneclient.middleware has been moved from keystoneclient to
keystonemiddleware. The latter should be used.

Change-Id: Ib9489a21b988b32fc17399c08eeb60862efae034
Closes-Bug: #1452315"
greghaynes,2015-05-05 22:14:24,https://api.github.com/repos/openstack/devstack/git/commits/ee3d2a8ece24efe8ee8b0304c133574967eb60d3,ee3d2a8ece24efe8ee8b0304c133574967eb60d3,"Import xattr with sudo early on

xattr fails to import due to being unable to build cffi bindings unless
it is imported as root beforehand.

Depends-On: I6a9d64277974933ae9b7bbe2a40b8a0eb0fa8c6a

Change-Id: I835e55bbafc7e0640987e6f3c8ee0c873f875ee0
Closes-Bug: #1451992"
dims,2015-05-01 01:10:48,https://api.github.com/repos/openstack/devstack/git/commits/d5537c1dc835413f1911ab797e3007d85322eace,d5537c1dc835413f1911ab797e3007d85322eace,"Add toggle to run Nova API and EC2-API under Apache2

Inspired by keystone and rcbops-cookbooks's nova scripts,
this review adds apache2 templates for two of the Nova
services. Also add code in lib/nova to switch between
the old and new ways to these two services. The patch
depends on the Nova review mentioned below as the two
scripts that are needed will be in Nova's repository.

TODO for later would be to switch on NOVA_USE_MOD_WSGI
when ENABLE_HTTPD_MOD_WSGI_SERVICES is switched on.

Related Nova blueprint:
https://blueprints.launchpad.net/nova/+spec/run-nova-services-under-apache2

Depends-On: Idd7d3d1b3cc5770cdecea7afe6db3c89d5b2c0d0
Change-Id: I9fc0c601db2776d3e9084be84065e728e3f5d414"
jdandrea,2015-04-29 19:39:17,https://api.github.com/repos/openstack/devstack/git/commits/dfcc3871c022516330b6afb6c74751ac42a87480,dfcc3871c022516330b6afb6c74751ac42a87480,"cinder setup now refers to CINDER_VOLUME_CLEAR and volume_clear

CINDER_SECURE_DELETE previously iniset volume_clear to none as a
side effect, however secure_delete is not documented in cinder.
Now using CINDER_VOLUME_CLEAR outright. CINDER_SECURE_DELETE is
supported but now deprecated.

Change-Id: Ic8694cf16654c23b27d23853a9f06ddf1050fa93
Closes-Bug: #1450159"
sdague,2015-04-29 12:22:24,https://api.github.com/repos/openstack/devstack/git/commits/6e137abbfe66837bc7456425472b53d067591d24,6e137abbfe66837bc7456425472b53d067591d24,"clean up logging around run_process

We do a bunch of exec magic unwind in run_process that leads to a lot
of confusing lines in the logs under xtrace. Instead, disable xtrace
through these parts to ensure that the flow at the end of the day
makes more sense.

Change-Id: I91e02465240e704a1a0c0036f5073c0295be018e"
sdague,2015-04-28 17:15:22,https://api.github.com/repos/openstack/devstack/git/commits/7efba991f78667c19d13431524c95f77660781c5,7efba991f78667c19d13431524c95f77660781c5,"don't source openrc

There is actually no reason why we need openrc for these tests, don't
source it as it prevents some ip math errors from randomly killing
tests.

Change-Id: Iface7c21898d92e14e840379938b25844cd85565"
sdague,2015-04-28 12:57:57,https://api.github.com/repos/openstack/devstack/git/commits/e4af92987a882dc2f7bb48527d0bcdbaa2427d4a,e4af92987a882dc2f7bb48527d0bcdbaa2427d4a,"fix warn function

The warn function was putting content into a side log file which made
it kind of hard to keep an eye on when warnings were actually being
issued. Let's just get this into the main output stream.

The calling of the warn function in git_timed was also incorrect, so
the output would not have been what we expected. This solves that as
well.

This will hopefully give us trackable data about how often we need to
recover from git clone errors.

Change-Id: Iee0d2df7fb788a4d34044d29ab10afdcafb9bb5a"
kk7ds,2015-04-23 16:12:59,https://api.github.com/repos/openstack/devstack/git/commits/6cdb2e0f1a2c2429587f1e9187344cb26eb31812,6cdb2e0f1a2c2429587f1e9187344cb26eb31812,"Remove the lvm.conf filter during cleanup

This avoids us leaving the filter in the global lvm config. Without cleaning
this up, we can hit some failures to run stack.sh because devices are excluded
that we need to be able to see. This resets it to what it was before when
we do a cleanup.

Also, do this before we add the line, so we don't add multiple lines on
successive runs.

Closes-bug: #1437998
Change-Id: Idbf8a06b723f79ef16a7c175ee77a8c25f813244"
ianw,2015-04-14 22:59:04,https://api.github.com/repos/openstack/devstack/git/commits/2796a82ab48107d4445c03938e037e60dd1bbfa9,2796a82ab48107d4445c03938e037e60dd1bbfa9,"Fix negated services with common prefix

The current sed matching mixes up common-prefix matching;
e.g. ""-q-lbaas,q-lbaasv2"" is changed into just ""v2""

This is more verbose, but I think more reliable.  See also
Ib50f782824f89ae4eb9787f11d42416704babd90.

Change-Id: I3faad0841834e24acc811c05015625cf7f848b19"
sdague,2015-04-21 17:32:11,https://api.github.com/repos/openstack/devstack/git/commits/fad7b43abece71ccee09bf0a3b729c72e81d9465,fad7b43abece71ccee09bf0a3b729c72e81d9465,"testr requires python's gdbm

Debian/Ubuntu have *helpfully* removed gdbm from the base python
package and put it into another package, which is not dragged in by
installing python. Testr doesn't function without this.

We should ensure this always gets installed.

Depends-On: If48a8444b02ee1e105bc1d9ce78a0489ea0c405b

Change-Id: I85a0ffe5ee384e055e78fd3164c27d42a86bc39d"
shillasaebi,2015-04-21 19:02:13,https://api.github.com/repos/openstack/devstack/git/commits/2ed09d88fb2847fe8ec813bf518dd945d8d813fa,2ed09d88fb2847fe8ec813bf518dd945d8d813fa,"made several changes to guides to comply to doc conventions

‚ÄúSpeed not required‚Äù is not a sentence
Gb should be GB
added a , after floating IPs
fixed sentence around ‚ÄúTo implement a true multi-node test of Swift
since it did not make sense
removed extra underline line after Machines
removed capitalization of service names to comply with docs conventions
https://wiki.openstack.org/wiki/Documentation/Conventions
changed to DevStack for consistency throughout
Change-Id: I531bf6b2bad62fbf9d1417b2b1ce06de3715e0f0"
rameshg87,2015-04-17 12:48:39,https://api.github.com/repos/openstack/devstack/git/commits/8f5fe871a45585fdbc72aacca6f8528b1f4d328d,8f5fe871a45585fdbc72aacca6f8528b1f4d328d,"Fix issue with ml2 plugin on using provider network

This commit fixes the issue that ml2 plugin
sets 'flat_networks' in ml2 configuration file as
empty.  The value of 'flat_networks' need to be set 
as the name of the physical network that was specified 
in the localrc file (or it's default value).

Change-Id: Ib4c31f6576da57534b36aefebd1ca8cd397c6c1a"
morganfainberg,2015-03-13 00:55:51,https://api.github.com/repos/openstack/devstack/git/commits/a80cb815fff0b625718550a2f19a0be08c1af6a1,a80cb815fff0b625718550a2f19a0be08c1af6a1,"Add response time to keystone access log

Add the response time to keystone's access log for each request. This
will be the last element in the log-line and will be represented in
microseconds.

Change-Id: I19204369af5cdf06df2237550c350dfb3ffc995d"
ianw,2015-04-09 03:51:23,https://api.github.com/repos/openstack/devstack/git/commits/72a8be60cd6b6efd32ebe2d81346ece48434510f,72a8be60cd6b6efd32ebe2d81346ece48434510f,"Add a peak memory tracker to dstat

We can see at-a-glance memory usage during the run with dstat but we
have no way to break that down into an overview of where memory is
going.

This adds a peer-service to dstat that records snapshots of the system
during peak memory usage.  It checks periodically if there is less
memory available than before and, if so, records the running processes
and vm overview.

The intent is to add logic into the verify-pipeline jobs to use this
report and send statistics on peak memory usage to statsd [1].  We can
then build a picture of memory-usage growth over time.  This type of
report would have allowed better insight into issues such as
introduced by Idf3a3a914b54779172776822710b3e52e751b1d1 where
memory-usage jumped dramatically after switching to pip versions of
libraries.  Tracking details of memory usage is going to be an
important part of future development.

[1] http://graphite.openstack.org/

Change-Id: I4b0a8f382dcaa09331987ab84a68546ec29cbc18"
chungg,2015-03-16 20:33:01,https://api.github.com/repos/openstack/devstack/git/commits/71e4e6f601381494e640f424876bad0f92b6dc9b,71e4e6f601381494e640f424876bad0f92b6dc9b,"ceilometer: add tempest option to test events

event support in Ceilometer was implemented in Kilo. to enable
tests in tempest, we add an option to run tests only on Kilo+
branch.

Change-Id: Ia4a73b7df343e31e6301f8314490fd42a01b7cd0"
j-griffith,2015-04-18 17:20:15,https://api.github.com/repos/openstack/devstack/git/commits/95b994d54815027904504cf173451cd87fd99c66,95b994d54815027904504cf173451cd87fd99c66,"Add logging config to cinder.conf

Part of the effort to clean up the Cinder logs is to use
the resource tag in the log format.  We also want to have
some consistency with other projects in how we do logging.

This change adds the logging format to cinder.conf similar to
what Nova and others use, and most importantly turns on the use
of the resource tag that's in olso_log.

We're slowly cleaning up the logging in Cinder by doing things
like replacing ""Delete volume %(volume_id)s compoleted"" with
(""Delete volume completed successfully."", resource=volume)

It woudl be good to have these picked up as we transition so we're
not missing info.  Also, there's sure to be cases where ""volume""
isn't a valid dbref and we find issues that need fixed.

Change-Id: I193637fea14d97183f6a9782f37d8edcf929e0c4"
sc68cal,2015-03-03 15:56:03,https://api.github.com/repos/openstack/devstack/git/commits/645114b7133bc70fb52f9f0c3f841766595358c8,645114b7133bc70fb52f9f0c3f841766595358c8,"Set DevStack to dual stack by default in Kilo+

This patch sets DevStack to run in dual stack networking, with both IPv4
and IPv6 networking configured. This change is required for dual stack
testing at the gate.

A different patch was created against devstack-gate to make this the
default, but the Juno branch of Neutron is missing required fixes to the
L3 agent that are present in Kilo. This was the suggested alternative.

Related-change: I3d416275f77913769b98e77f7e47bed17fc4d1cc

Co-Authored-By: Henry Gessau <gessau@cisco.com>
Co-Authored-By: Andrew Boik <dboik@cisco.com>

Depends-On: Ib66a9109cc1c7999474daca5970d0af1f70886e4
Depends-On: I0f9ea98cb84aa72cb1505fb9ff8ac61561cc1376
Depends-On: I85fe68782bc54f28f3e14aa4a1d042cb15959dac
Depends-On: I9395834f673038dc23b25eaeefe14895fe154e0e

Change-Id: If0e0b818355e4cb1338f7fa72af5e81e24361574"
sdague,2015-04-16 12:58:32,https://api.github.com/repos/openstack/devstack/git/commits/af9bf8663b43a2cc80f2c3adb09b8aa3641f99ab,af9bf8663b43a2cc80f2c3adb09b8aa3641f99ab,"refactor ping_check

Encapsulate all the neutron specific things you have to do ping a
neutron guest into a separate script. Refactor the main ping_check so
all logic is contained within it.

Change-Id: Ic79d8e3a2473b978551a5635a11dba07e1020bb2"
ianw,2015-04-17 01:53:40,https://api.github.com/repos/openstack/devstack/git/commits/fa3e8412864a92715c296c6ed5e3828dd4bb2205,fa3e8412864a92715c296c6ed5e3828dd4bb2205,"Create config file in merge_config_file

Change If132a94e53545d9134859aa508da7b9819ede2f8 introduced a small
regression; it added an ""inidelete"" which looks in the config file to
delete rows.

However, at least for the test-case, the config file isn't created
yet.  The end result is that the test fails but we don't notice.

 2015-04-17 00:55:03.169 | merge_config_file test-multiline: sed: can't read test-multiline.conf: No such file or directory
 2015-04-17 00:55:03.195 | OK

So fix this up by creating the config-file if it isn't there.

Also, add ""-e"" to the test file so we catch things like this in the
future.

Change-Id: I43a4ecc247f19cccf51d5931dfb687adbd23d6b1"
ianw,2015-04-17 03:16:24,https://api.github.com/repos/openstack/devstack/git/commits/9b64bbf06eab19534e58a1b7af1757e427e6b3b6,9b64bbf06eab19534e58a1b7af1757e427e6b3b6,"Remove old comment in run_tests.sh

The scope of this has expanded to run everything in ./tests

Change-Id: I640b0a8b7aa578ddd24dd3e58d5b2a1e09fe0284"
ianw,2015-04-17 03:13:04,https://api.github.com/repos/openstack/devstack/git/commits/09f4ad227976eb95d70045b67d0f724294cf7e22,09f4ad227976eb95d70045b67d0f724294cf7e22,"Convert test_functions.sh to use unittest helpers

This currently does not exit with any failure code when tests are
failing.  Convert it to use the helper functions from unittest.sh so
it correctly reports failures.

Change-Id: I2062d9c00ebffcc98ba75a12f480e4dd728ee080"
ianw,2015-04-17 03:10:33,https://api.github.com/repos/openstack/devstack/git/commits/9b845da478ae2fb65ac63de95f6005ecacbb52ce,9b845da478ae2fb65ac63de95f6005ecacbb52ce,"Fix die_if_not_set tests

The ""die_if_not_set"" test has the LINENO as a positional argument.
The existing tests are not passing this in, so they are failing.

Along with this, remove the ""-x"" from the invocation and hide the
output of the tests that are expected to fail to avoid confusion.

Change-Id: Ibf6b9d7bb72b9f92831e1a90292ff8b0bec7faea"
ianw,2015-04-17 03:06:47,https://api.github.com/repos/openstack/devstack/git/commits/9b0ebc44f413edac87e52d23e8852ca7c52cb091,9b0ebc44f413edac87e52d23e8852ca7c52cb091,"Move function.sh to test_functions.sh

run_tests.sh runs tests starting with test_*

The existing test_functions.sh is really testing true/false.  Move
that to test_truefalse.sh

Then move functions.sh to test_functions.sh.  This will ensure it is
run during unit testing from run-tests.sh

Change-Id: I959ac38c946da1fb47458b8c4f09157f74f0e644"
ianw,2015-04-17 03:02:49,https://api.github.com/repos/openstack/devstack/git/commits/fcdca05de55b9ecec2b66f0cccb88ee01beebbd0,fcdca05de55b9ecec2b66f0cccb88ee01beebbd0,"Fix return of test_ini_config & test_meta_config

Convert test_ini_config to use the ""passed / failed"" functions in
unittest.sh.  test_meta_config wraps everything into a function; it's
not work unrolling this so just make sure it exits with non-zero if a
test fails.

Change-Id: I9e9883fdad42358255383eede9121b1d361799c8"
ianw,2015-04-17 02:58:56,https://api.github.com/repos/openstack/devstack/git/commits/f56348bcb2c736b9e66ebfe20c1f118cfc96b9f6,f56348bcb2c736b9e66ebfe20c1f118cfc96b9f6,"Use unittest help in test_ip.sh

Use the unittest helper to track test runs and correctly exit with a
failure code if there is a problem

Change-Id: Ie62f354a8cd3b8fd5986e6943a073f7955fb55ba"
ianw,2015-04-17 02:55:38,https://api.github.com/repos/openstack/devstack/git/commits/1cb809d8ef81931ea0b1f15619b7e830281f2556,1cb809d8ef81931ea0b1f15619b7e830281f2556,"Add ""passed"" and ""failed"" functions

Add two generic ""passed"" and ""failed"" functions to the unittest
helper.  Also keep a count of passed and failed tests.  Later changes
will use these functions to ensure they exit with a correct return
code.

Change-Id: I8574dcb1447b04fcda3d72df0bf8605cf7488d3c"
shillasaebi,2015-04-16 17:58:56,https://api.github.com/repos/openstack/devstack/git/commits/cae97da9c7786990acb12c43f691483f549a2945,cae97da9c7786990acb12c43f691483f549a2945,"doc changes to devstack overview.rst

changed to comply with doc conventions
When referring to services, use ""Compute,"" ""Image service""
and ""Identity"" instead of ""nova,"" ""glance,"" and ""keystone.""
Use the project names like ""nova"" and ""keystone""
glance is officially Image service not storage
removed extra .

Change-Id: I39457c20dc2ede775fe3f3c63077133fbb6c917b"
ianw,2015-04-15 22:43:43,https://api.github.com/repos/openstack/devstack/git/commits/b28b27082c63bc701b4cad8f9c686ba2c1880e6e,b28b27082c63bc701b4cad8f9c686ba2c1880e6e,"Append command to screenrc after we update it

If a group is specified we modify the command to run under ""sg"".  This
currently isn't reflected in screenrc so rejoining fails

Change-Id: I5c18ba664a6ae9ba9aaa4439a9086bc85085cd75
Closes-Bug: #1444267"
lianhao,2015-04-15 02:27:06,https://api.github.com/repos/openstack/devstack/git/commits/37b779c3bc40bbd72cb2f55d15d5b2d43a3bb03d,37b779c3bc40bbd72cb2f55d15d5b2d43a3bb03d,"Acknowledge API_WORKERS in glance-registry

Change-Id: Ifaf671439480719255c07673b54dc49c0c2ca4f6
Closes-Bug: #1444231"
lianhao,2015-03-24 04:36:00,https://api.github.com/repos/openstack/devstack/git/commits/c39f6405254b100fbfc0f2471bf85b74aafa3282,c39f6405254b100fbfc0f2471bf85b74aafa3282,"Added ceilometer-agent-ipmi support

Enable devstack to start ceilometer-agent-ipmi.

Change-Id: Ia5f4c78760415a50f329fc2f1cf2f20be2e3c221
Closes-Bug: #1410614"
ianw,2015-04-09 09:57:13,https://api.github.com/repos/openstack/devstack/git/commits/c00d2a53136d4d37a519829c4c9cad668fa69a44,c00d2a53136d4d37a519829c4c9cad668fa69a44,"run dstat with run_process

It is not clear to me why this can't use run_process?  Currently we
end up with two log-files both with the same thing

- dstat.txt.gz which comes from the ""tee"" and is symlinked into
  SCREEN_LOGDIR, so gets picked-up by the gate scripts
- screen-dstat.txt.gz which comes from screen_it

Change-Id: I00b9e09b8d44f72ff14e69dc6e4a4bd5e2a0439e"
allenmiller,2015-04-11 16:52:48,https://api.github.com/repos/openstack/devstack/git/commits/e6843e5ea1d97c194536d1fc54e909ef9aa3740c,e6843e5ea1d97c194536d1fc54e909ef9aa3740c,"clean.sh needs to load plugin settings.

Change-Id: Id957f585d2aa93075b138d462d6076d2d70d450e"
peterstac,2015-04-08 19:48:09,https://api.github.com/repos/openstack/devstack/git/commits/9a808922c194929bff88bdc7dca4f8e2431de1a4,9a808922c194929bff88bdc7dca4f8e2431de1a4,"Use openstack CLI instead of keystone

When running './stack.sh' messages are output stating that
the keystone CLI has been deprecated. These calls should be
replaced to ones utilizing the openstack CLI program instead.

Documentation examples were also updated to reflect the new syntax.

Change-Id: Ib20b8940e317d150e5f6febb618e20bd85d13f8b
Closes-Bug: #1441340"
gonzolino,2015-04-07 14:44:54,https://api.github.com/repos/openstack/devstack/git/commits/e53e15845144533debc48b32620d420d9f0ece4e,e53e15845144533debc48b32620d420d9f0ece4e,"Fix readme for multi-node setup

The readme currently states that a compute node in a multi-node setup
requires the glance-api service to be enabled. But actually
the glance-api service is only required on the controller node where
glance-registry is running.
Running the glance-api service on a node without glance-registry will
even lead to a failure of glance-api, as the glance cache directory
will not be created without enabling glance-registry.

Change-Id: Ie92533f3333f3fe3e2d747762e60f2f42a233e79
Closes-bug: #1441198"
pshchelo,2015-04-12 10:23:08,https://api.github.com/repos/openstack/devstack/git/commits/8768ee39c4775b656304169e18acce3c3c0dd095,8768ee39c4775b656304169e18acce3c3c0dd095,"Ignore *.img images in files folder

Some (qcow) images have .img file name extension (e.g. Cirros).
Ignore such files in files/ folder too (as we already do
with .qcow2 and .gz images).

Change-Id: Iac8593b65205e25fd3f94244a136c584d9af8eab"
dims,2015-04-11 22:45:09,https://api.github.com/repos/openstack/devstack/git/commits/93d09c24e35611cc7fc1ef8e6796d177d460fecc,93d09c24e35611cc7fc1ef8e6796d177d460fecc,"Setting LOGFILE to a file in root directory wipes everything

clean.sh picks the parent of LOGFILE and wipes it clean! So if you
set it to a log file in the users root directory, you lose everything

We should delete just the LOGFILE and cleanup LOGDIR and SCREEN_LOGDIR if
they are explicitly set.

Change-Id: I45745427dcaed3dcf0b78cc9ed680833d9d555e8"
armando-migliaccio,2015-04-09 06:32:17,https://api.github.com/repos/openstack/devstack/git/commits/c2dc95add6e46829f1705041c1d9dddab9b360d3,c2dc95add6e46829f1705041c1d9dddab9b360d3,"Avoid flushing br-ex during stacking

This operation seems vestigial, as it was added to the code when stack.sh
did not have a robust cleanup procedure. These days, unstack.sh does destroy
all bridges, therefore during subsequent stack.sh runs (or even initially, from
a clean environment), the flush operation has become superfluous.

Its removal has also been deemeded necessary to enable certain multi-node
cloud deployments, like the one available in OpenStack infra [1].

[1] https://review.openstack.org/#/c/158525/

Change-Id: I6b4e5b82958e6d29dd450f1c4c9513f6a9e5053a"
sdague,2015-04-07 14:40:49,https://api.github.com/repos/openstack/devstack/git/commits/4d7ee095a18af9e834202e92534d2ba7a0b371c5,4d7ee095a18af9e834202e92534d2ba7a0b371c5,"Make screen sleep time configurable

the sleep 3 in screen_it was added to make devstack pass in the gate
with exceptionally slow test cloud nodes. In the gate we now bypass
the screen path entirely. However the sleep 3 remains and can add a
couple minutes delay into local development runs.

We're not sure yet how low this can safely be tuned, so step 1 is to
make it configurable, then get devstack team members to try various
options to see what works.

Change-Id: I0e6476176fc8589efc4e40e78c2231f704d14e45"
clarktlaugh,2015-04-07 16:31:47,https://api.github.com/repos/openstack/devstack/git/commits/fcc3f6ee986c1166c001774052c05b5d974593ea,fcc3f6ee986c1166c001774052c05b5d974593ea,"Add support for arm64 images

This patch enables proper support for arm64 images by disabling VNC support
and adding several properties to the image in glance that are necessary to
boot correctly:
  hw_cdrom_bus=virtio
  hw_machine_type=virt
  os_command_line='console=ttyAMA0'

Change-Id: I68c9a5e0e083af2f92875c3bdf70df750f6e4d8f"
amrith,2015-04-08 19:37:58,https://api.github.com/repos/openstack/devstack/git/commits/9860876f5dbb07826b680143a4e111ad580053fe,9860876f5dbb07826b680143a4e111ad580053fe,"perform install_infra sooner in stack.sh

The install_infra() call needs to be done earlier since
pip_install_gr() depends on it. Also the fact that python module names
are supposed to be lower case but some use camel case is a problem
(for example with XenAPI).

Change-Id: I7012d77134fa0d9c746d87e837934e7dcb337e5c
Closes-Bug: #1441820"
sdague,2015-04-08 13:06:49,https://api.github.com/repos/openstack/devstack/git/commits/60996b1b60c3efb1376b9f0d659acebd05c47f09,60996b1b60c3efb1376b9f0d659acebd05c47f09,"introduce pip_install_gr

This creates a new pip_install_gr that installs from global
requirements allowed versions. Now that stable branches are getting
capped all of devstack needs to be fixed to do things like this.

Change-Id: I8fd0ef2bfc544ca2576fab09d3018f760b8848fe"
dims,2015-04-07 20:23:53,https://api.github.com/repos/openstack/devstack/git/commits/97aa81d905ce73054747a56a4ba0d93c308d23a5,97aa81d905ce73054747a56a4ba0d93c308d23a5,"Fix docs about heat in devtack

In 279cfe75198c723519f1fb361b2bff3c641c6cef, we disabled heat by default.
So fixing the README to reflect that.

Change-Id: I3da257158b37e235eed1c78e0c4df432caeefa1d"
ukinau,2015-03-29 14:35:39,https://api.github.com/repos/openstack/devstack/git/commits/0089035504a97fca58cb2383f62ccbb4e6108820,0089035504a97fca58cb2383f62ccbb4e6108820,"Assurance status of rabbitmq is running

I changed it so that rabbitmq always restart.

Current devstack don't restart rabbitmq in case of ubuntu. Because
rabbitmq is running at default.
But this approach have the following bug.
If rabbitmq is already installed and not running ,  stack.sh will
fail.
So I change it so that rabbitmq always restart.

Closes-bug: #1030798
Change-Id: Ie45446d3817b2f15631f03b2af84749fe936c67b"
screwgoth,2015-04-06 21:45:45,https://api.github.com/repos/openstack/devstack/git/commits/8c6276ea0a2332f5210fc1f16399281c083520cd,8c6276ea0a2332f5210fc1f16399281c083520cd,"Added libxml2-dev package as a pre-requisite when installing tempest.
This is required so that devstack can be installed on vanilla Ubuntu systems.

Closes-Bug: 1225395

Change-Id: Id9116e00e18c23e8e6391d8aa652c04d8bdb86c3"
jogo,2015-04-06 17:25:54,https://api.github.com/repos/openstack/devstack/git/commits/33ba738b052cd642f7ea2e6c2196e193be14122f,33ba738b052cd642f7ea2e6c2196e193be14122f,"Revert ""List all CIRROS ARCH images in image_list.sh""

This reverts commit 71e82f52bde99b4bf791ea1558f1abf86019a384.

aioppcu now uses x86_64 so no need to list the i386 images for caching.

Change-Id: If500367c8bf3fdb4590c866e007ecd7de1ab5781
Depends-On: I839e1c724821ba2624beddb5233eda24b50c149f"
sdague,2015-04-03 12:52:29,https://api.github.com/repos/openstack/devstack/git/commits/5e5a29cc8c83b3f9032de2482987bb9989422b7b,5e5a29cc8c83b3f9032de2482987bb9989422b7b,"fix bashate target

there was a missing -or which meant we weren't running this on most of
the files in the repository.

Change-Id: If926afc8f12f6beb80d7a9af7c787b3dcc360a89"
budnyjj,2015-03-31 10:09:09,https://api.github.com/repos/openstack/devstack/git/commits/db02bbf107ff0a9f0ffcf3dc8a9b9219ccd7a2c0,db02bbf107ff0a9f0ffcf3dc8a9b9219ccd7a2c0,"Fixes ovs-vsctl add port issue

Setup of OVS may fail, if ports that are added,
are already exist. Add ""--may-exist"" directive to OVS
add-port command to prevent this behaviour.

Change-Id: I2280be9a63a4a6fbc747b5e32b602697b555ffa8
Closes-Bug: #1394162"
Andrey-mp,2015-04-02 19:39:59,https://api.github.com/repos/openstack/devstack/git/commits/40e652af0e40203e870d6d4c3b8d77176ef8785d,40e652af0e40203e870d6d4c3b8d77176ef8785d,"Use ec2 and s3 urls from keystone catalog

In current implemetation these two urls are defined from Nova
definitions. And urls point to nova. But standalone EC2API
project has another urls that are defined in keystone catalog
in plugin setup.
I suggest to use urls from catalog to be able to test
stackforge/ec2-api by current tempest.

Change-Id: Ibec8c36a8c2fc7ea3d8fab57819adae5f7378045"
Andrey-mp,2015-03-30 17:49:22,https://api.github.com/repos/openstack/devstack/git/commits/7cc3907ff1070858af2fcc8dd2d5b480f83022b6,7cc3907ff1070858af2fcc8dd2d5b480f83022b6,"install euca2ools for tempest preparation

euca-bundle-image can be run only if euca2ools is installed.
but now it doesn't installed and several tests for EC2 doesn't run.

Change-Id: Ib3824052d5f4155d3cb5c0ef6fe334d44de5153c"
mtreinish,2015-04-02 15:08:24,https://api.github.com/repos/openstack/devstack/git/commits/d2cb234be4b5e6d70635fc7578d951a42a41cc4a,d2cb234be4b5e6d70635fc7578d951a42a41cc4a,"Set qcow image file location with right cirros version

This commit ensures we also set the qcow image location in the
tempest config when we update qcow version. The tempest config has
a default value for img_file (which is incorrect) but before we can
remove the defaults in tempest we need to ensure devstack is using
it properly first. The only reason the tests weren't failing here is
because tempest falls back to using uec images (which devstack was
correctly setting config for) if qcow isn't found. The img_dir was
also hardcoded assuming a uec image, however if qcow is intended to be
used you'll need to be able to override that, which is added as
part of this commit.

Change-Id: I05af346b3c9be9560dc8846dd1f437cfbb2d5005"
jayofdoom,2015-03-26 22:19:32,https://api.github.com/repos/openstack/devstack/git/commits/6c0da09b00fcfa8c4a9d34fb2ed08f6c704ed06e,6c0da09b00fcfa8c4a9d34fb2ed08f6c704ed06e,"Prepare devstack for Ironic cleaning testing

This patch changes the two config options required for Ironic to
successfully test cleaning in devstack.

First, we disable erase_devices clean step. Erase devices in VMs
ends up running shred on the drives for the agent driver, which is
incredibly slow and completely unneeded in devstack.

Additionally, we allow Ironic more time to complete the unprovision
after the nova instance is deleted. This time is spend in the CLEANING
state to clean up the node.

This is related to the Ironic blueprint ""implement-cleaning-states"".

Change-Id: I77081165a80491da3e66d8a4554b6d71fc3d9353"
sdague,2015-04-01 11:40:10,https://api.github.com/repos/openstack/devstack/git/commits/ba1c56bf5e292df74b17eebdc998c74428c925a7,ba1c56bf5e292df74b17eebdc998c74428c925a7,"remove extraneous +x bits from lib files

2 files had execute bits set on them, fix as a cleanup. These files
should not be directly executed.

Change-Id: Ic0fdb85d77a3b47ef777524faf4fcdb0d8cedece"
sdague,2015-04-01 11:33:55,https://api.github.com/repos/openstack/devstack/git/commits/279cfe75198c723519f1fb361b2bff3c641c6cef,279cfe75198c723519f1fb361b2bff3c641c6cef,"minimize the default services

This changes the default service list in devstack to minimize what is
running out of the box, so that it's likelihood of working in a 4G vm
is much higher.

This removes heat from the default enabled service list.

It drops the ec2 only needed n-obj and n-crt services.

It drops all the alternative consoles (xvnc, consoleauth). novnc is
fine for libvirt which is the default.

It adds dstat, because that's turned out to be so useful in debugging
things.

Change-Id: I84457260dff6f42a5c6ebcc2c60fb6e01aec9567"
kashyapc,2015-04-01 09:30:57,https://api.github.com/repos/openstack/devstack/git/commits/d3cfb82c65ae7f85b9d92e1245b1d81792a5641b,d3cfb82c65ae7f85b9d92e1245b1d81792a5641b,"functions-libvirt: Enable DEBUG_LIBVIRT config attribute by default

Enabling it by default because:

  - This allows you to get the relevant logs right away when something
    in the libvirt code path fails, without having to submit another
    change and keep doing a 'recheck' to re-run the CI check/gate jobs
    until you hit the bug.

  - The libvirt log filters specified in the function
    'configure_libvirt' are much more _selective_ and not a catch-all
    debug option where you end up with the unhelpful situation of having
    to find a ""specific piece of hay in a haystack""[1].

FWIW, I always have it enabled in local test environments, and I don't
see the resulting libvirtd.log growing beyond a couple of MB for
three-four days of usage.

[1] http://lists.openstack.org/pipermail/openstack-dev/2014-January/024414.html

Change-Id: I5e0b35446075b419fe473e1db8d0bfedd7009741"
cboylan,2015-03-27 16:19:57,https://api.github.com/repos/openstack/devstack/git/commits/edd60481682bf2cca061f94f113835922cd79709,edd60481682bf2cca061f94f113835922cd79709,"Update libvirt cpu map before starting nova

We are trying to get a working 64bit qemu cpu model in the gate for nova
live migration testing. It appears that we need to make this change
prior to nova starting.

Make the change in configure_libvirt() to handle this along with the
other libvirt config updates. This allows us to restart the libvirt
service once. This function calls a python tool which parses and updates
the XML if necessary.

Change-Id: I00667713bfba67ab8cedbcb1660ff94d4f4bcc07"
kashyapc,2015-03-31 18:49:15,https://api.github.com/repos/openstack/devstack/git/commits/ae7b4f9b9e811f2c0abfb4f7f4e85dd91ca1c2b3,ae7b4f9b9e811f2c0abfb4f7f4e85dd91ca1c2b3,"functions-libvirt: Enable 'qemu_monitor' logging filter for libvirt

A lot of libvirt interactions with QEMU are via the QEMU monitor
console, which allows you to either query or modify the state of a
virtual machine. Spefici examples include: querying the status of live
block operations, live snapshot operations, live migration, etc.

Enabling the 'qemu_monitor' log filter allows us to capture precisely
what commands libvirt is sending to QEMU.

Note that the log level was intentionally set to '1' (i.e. debug) for
this specific filter, because (a) it's not extremely verbose, (b) when
something breaks, it's helpful to have the exact sequence of
interactions between libvirt and QEMU.

Change-Id: Iba95b6bd7c9f197c8d48c7d978f538e50d4e31fa"
dtroyer,2015-03-28 15:14:47,https://api.github.com/repos/openstack/devstack/git/commits/f3d52335e728995209feec1c9813d341c2690cb7,f3d52335e728995209feec1c9813d341c2690cb7,"Add basic Makefile

There are a couple of targets in here that some might find useful in
doing DevStack testing in multiple remote VMs.

There are some of the usual boring targets too, like stack and unstack,
that do exactly what you would expect.

Change-Id: I7974cac4cc527bacf6f183ac1f344428b05f2fdc"
gandelman-a,2015-03-30 21:25:27,https://api.github.com/repos/openstack/devstack/git/commits/84ee55b3ee3630945792fa849d793a6d71d2364d,84ee55b3ee3630945792fa849d793a6d71d2364d,"Set fixed_network_name in Tempest config

This previously defatuled to 'private' and aligned with devstack's
defaults but it has since been updated to 'None'.  This sets the config
value according to devstack's.

Change-Id: I3f480d5480521a93992bedfe602eb20a4999263d
Closes-bug: #1438415"
sdague,2015-03-30 17:56:11,https://api.github.com/repos/openstack/devstack/git/commits/206c596d693d429cbbfa738e4e0a397c646d77c1,206c596d693d429cbbfa738e4e0a397c646d77c1,"add back python-guestfs

This is needed otherwise we fall back to the nbd code path which is
super hacky. This shouldn't have been deleted for the venv path.

Change-Id: If5cb6cb4944bd0ed3548d53c98443b76725d1c0c"
jamezpolley,2015-03-30 06:36:26,https://api.github.com/repos/openstack/devstack/git/commits/5f2eb6dade5f3b19b8905b97d8e4018b5e068321,5f2eb6dade5f3b19b8905b97d8e4018b5e068321,"Add a target for, and link to, minimal config docs

Reading through the docs for the first time, the reader encounters an
instruction to provide a minimal configuration, with a link that they'd
expect to tell them how to do this.

At present the link actually takes them to the top of
configuration.html, where they read some history about how devstack's
configuration has changed over time.

This is interesting and important and should be in the docs - but in my
opinion a link about setting up a minimal configuration would be more
useful if it takes me to a place that tells them about a minimal
configuration.

To get this, I've had to an an explicit link target into
configuration.rst. I'm not hugely keen on this approach, as I don't
think it scales well. I'd be open to suggestions about other
approaches. The only idea I've had so far though is to simply move the
minimal configuration section right to the top of the page, so that a
link to the doc is a link to the minimal config - the historical
information could be moved to its own topic somewhere further down the doc.

Change-Id: I231ca1b7f17b55f09a4e058dab8ee433893f737e"
dtroyer,2015-03-29 19:16:44,https://api.github.com/repos/openstack/devstack/git/commits/32d6bc6ad1f5d857c8e34e15001f8eb8666c601c,32d6bc6ad1f5d857c8e34e15001f8eb8666c601c,"Add inc/rootwrap

Rootwrap shouldn't be a unique snowflake.  Plus the binaries tend
to be called assuming PATH will find them.  Not so with venvs
so we need to work around that brokenness.

Configure Cinder and Nova to use configure_rootwrap().

Change-Id: I8ee1f66014875caf20a2d14ff6ef3672673ba85a"
dtroyer,2015-03-28 13:20:50,https://api.github.com/repos/openstack/devstack/git/commits/dc97cb71e85fc807d2cce6f054c785922d322eb9,dc97cb71e85fc807d2cce6f054c785922d322eb9,"Mostly docs cleanups

Fix documentation build errors and RST formatting

Change-Id: Id93153400c5b069dd9d772381558c7085f64c207"
dtroyer,2015-03-28 15:27:43,https://api.github.com/repos/openstack/devstack/git/commits/3bb5a6f445f4938f1edca3c649aa22ff4ef8e5c3,3bb5a6f445f4938f1edca3c649aa22ff4ef8e5c3,"Remove symlink for lib/neutron compat

Depends-On: I146910403879c9a85d644bd07a53830ea17ca77d
Change-Id: Ia25331fc74fd26df347024a8314bc4c6ed54428e"
dtroyer,2015-03-28 18:37:26,https://api.github.com/repos/openstack/devstack/git/commits/bba4742e8cbdc577121bf1010f5fe307c958cd15,bba4742e8cbdc577121bf1010f5fe307c958cd15,"Add parent id to worlddump output

Helpful in tracking down some process-doesn't-die problems.

Change-Id: I146910403879c9a85d644bd07a53830ea17ca77d"
ianw,2015-03-27 03:43:14,https://api.github.com/repos/openstack/devstack/git/commits/9e98f9435ec36f2fffed0ac368befd520f07e0e1,9e98f9435ec36f2fffed0ac368befd520f07e0e1,"Install packaged pyOpenSSL

pyOpenSSL has done a rewrite of itself in Python.  This may be good
for many reasons, but memory usage is not one of them.  It just about
doubles the size of at least swift, which usually consumes about 6% of
a CI testing vm's 8gb RAM.  This is enough to push centos hosts into
OOM conditions and then everything falls apart.

The distro packages of pyOpenSSL are the older C-based versions, which
doesn't bring in the kitchen sink of cffi & pycparser.

Change-Id: Icd4100da1d5cbdb82017da046b00b9397813c2f2"
yamt,2015-03-27 01:56:16,https://api.github.com/repos/openstack/devstack/git/commits/909fa8f49e0e253009be1299a4a067a22d80bb9b,909fa8f49e0e253009be1299a4a067a22d80bb9b,"Fix Q_USE_PUBLIC_VETH regression

A recently merged change Ie35cb537bb670c4773598b8db29877fb8a12ff50
and I71e2594288bae1a71dc2c8c3fb350b913dbd5e2c broke Q_USE_PUBLIC_VETH.
This commit fixes the regression.

Closes-Bug: #1436637
Change-Id: I1447bf98607143ba4954ce5ec3ed94010320baa5"
dtroyer,2015-03-26 03:42:46,https://api.github.com/repos/openstack/devstack/git/commits/41d6f858be8431975762e65db470929c72b8f2a8,41d6f858be8431975762e65db470929c72b8f2a8,"Clean up additional INSTALL_TESTONLY_PACKAGES bits

The original removal is in https://review.openstack.org/#/c/167669/

Change-Id: I3c59f040523d2cd1453465e80280955218880634"
steveb,2015-03-26 20:08:53,https://api.github.com/repos/openstack/devstack/git/commits/11cf7b64a78d225d7ba84b86597a934d0417ad3c,11cf7b64a78d225d7ba84b86597a934d0417ad3c,"iptables rule for heat pip mirror

This is required for guest VMs to reach http://$HOST_IP:8899

Change-Id: I814c682fb02974ae05dfbe5e212409cdd11d16ac"
gandelman-a,2015-03-26 20:03:49,https://api.github.com/repos/openstack/devstack/git/commits/fab7880bcd98ff8d64e1389aac073b79728e77e5,fab7880bcd98ff8d64e1389aac073b79728e77e5,"lib/ironic: Do not check for database or message queue

Only check for OpenStack services, not specific database or
messaging backends.

Change-Id: I7960718defa3f521d1c2128d8523e8ee9328da64"
dtroyer,2015-02-17 22:25:38,https://api.github.com/repos/openstack/devstack/git/commits/4533eeec1fe4834ced0996fc8f9c8487dcd31d45,4533eeec1fe4834ced0996fc8f9c8487dcd31d45,"Install Nova into its own venv

Install a couple of optional feature prereqs in hypervisor plugins.

rootwrap is horribly called indirectly via PATH.  The choice, other than fixing
such nonsense, is to force the path in sudo.

TODO:
* python guestfs isn't in pypi, need to specifically install it to not
  use the distro package

Change-Id: Iad9a66d8a937fd0b0d1874005588c702e3d75e04"
afazekas,2015-01-26 14:44:47,https://api.github.com/repos/openstack/devstack/git/commits/c70605d1013296d0127ad38d8c53a69ed982e647,c70605d1013296d0127ad38d8c53a69ed982e647,"Add lioadm cinder iscsi helper support

The Linux-IO is a modern way of handling targets.
Per the IRC discussions lioadm as default
seams like a better default for everyone, for now it will be
optional, but the tgtadm admin support expected to be removed when
lioadm works well with all CI (including third party).

Change-Id: Ia54c59914c1d3ff2ef5f00ecf819426bc448d0a9"
sdague,2015-03-26 09:54:28,https://api.github.com/repos/openstack/devstack/git/commits/6e275e170c042794560c9b2c442a32c3de55566e,6e275e170c042794560c9b2c442a32c3de55566e,"provide an override-defaults phase

during the glusterfs integration it was seen that plugins might need
to set new defaults on projects before the project files load. Create
a new override-defaults phase for that.

Intentionally not adding to the documentation yet until we're sure
this works right in the glusterfs case.

Reported-By: Deepak C Shetty <deepakcs@redhat.com>
Change-Id: I13c961b19bdcc1a99e9a7068fe91bbaac787e948"
sc68cal,2015-02-20 16:45:21,https://api.github.com/repos/openstack/devstack/git/commits/00e16a9d53905f309655172d8a2b1cbcfc1cbfa5,00e16a9d53905f309655172d8a2b1cbcfc1cbfa5,"Support for single interface Neutron networking with OVS

When running Neutron on a single node that only has a single interface,
the following operations are required:

    * Remove the IP address from the physical interface
    * Add the interface to the OVS physical bridge
    * Add the IP address from the physical interface to the OVS bridge
    * Update the routing table

The reverse is done on cleanup.

In order run Neutron on a single interface, the $PUBLIC_INTERFACE and
$OVS_PHYSICAL_BRIDGE variables must be set.

Co-Authored-By: Brian Haley <brian.haley@hp.com>
Change-Id: I71e2594288bae1a71dc2c8c3fb350b913dbd5e2c"
mtreinish,2015-03-23 20:38:30,https://api.github.com/repos/openstack/devstack/git/commits/0fc946ddc805989adb68c1e836e86b51d1f011cf,0fc946ddc805989adb68c1e836e86b51d1f011cf,"Remove the compute-admin section from tempest config

This commit removes the compute-admin section from the tempest config
file that devstack generates. These options have been removed from
the tempest config and aren't being used, so there is no reason to
keep them around.

Change-Id: I7500fe3b329b913c60fa505a5230db4a5d35d7f1"
afazekas,2015-02-24 13:06:56,https://api.github.com/repos/openstack/devstack/git/commits/1bd79596c3c5f62cbbef92558156401447a9b5d3,1bd79596c3c5f62cbbef92558156401447a9b5d3,"Move back isset to the functions-common

isset function was moved to config file related functions by accident,
this change also simplfies the isset in a bash >=4.2 way.

All supported distro has at least bash 4.2. (RHEL6 used 4.1)

Change-Id: Id644b46ff9cdbe18cde46e96aa72764e1c8653ac"
mtreinish,2015-03-23 19:51:54,https://api.github.com/repos/openstack/devstack/git/commits/7ced150f8c70e1acaa4b83c25d3c9271cdb512c3,7ced150f8c70e1acaa4b83c25d3c9271cdb512c3,"Add variable to indicated if Tempest should have admin

This commit adds a new flag, TEMPEST_HAS_ADMIN, to enable or disable
setting admin credentials in the tempest config file. This allows for
devstack / tempest configurations where tempest doesn't have admin to
ensure it would work in public cloud scenarios.

Change-Id: Id983417801e4b276334fb9e700f2c8e6ab78f9ba"
afazekas,2015-03-26 08:25:02,https://api.github.com/repos/openstack/devstack/git/commits/d9de1199bd3f79fc7b71e933970c6f14afa8d310,d9de1199bd3f79fc7b71e933970c6f14afa8d310,"Print kernel version

Adding `uname -a` to stack.sh to make easy to see from the devstack logs
what was the actually running kernel version.

Change-Id: I0068504bf055a588b155b0a60215440d365bf53e"
asalkeld,2015-03-26 02:53:51,https://api.github.com/repos/openstack/devstack/git/commits/93b906d53ee457b3768c755615fc7c2395d26c85,93b906d53ee457b3768c755615fc7c2395d26c85,"Always set the Heat deferred auth method

Otherwise in standalone mode we use the new default of ""trusts""
which won't work.

Change-Id: If18db711faf7810217af0a89d1e38590a94d8e5b
Closes-bug: 1436631"
dtroyer,2015-03-25 16:33:51,https://api.github.com/repos/openstack/devstack/git/commits/5a9739a4cae7957a24898fb11562559be2916121,5a9739a4cae7957a24898fb11562559be2916121,"Rename lib/neutron to lib/neutron-legacy

Preparing to refactor lib/neutron to support Neutron as the default
network config.  lib/neutron will be renamed internally and refined
to support a couple of specific configurations.

Change-Id: I0d3773d14c4c636a4b915734784e7241f4d15474"
alexpilotti,2015-03-25 23:14:05,https://api.github.com/repos/openstack/devstack/git/commits/85c98b3e18b132d99c569626e1b747eafa59f7c6,85c98b3e18b132d99c569626e1b747eafa59f7c6,"Revert ""Support for single interface Neutron networking with OVS""

This patch is causing blocking failures in some 3rd party CIs.
The issue can be tracked to the fact that the PUBLIC_INTERFACE
interface might have no address assigned.

This reverts commit 93b2100c983e1c271a8d51aa7f4755a6445be6a8.

Partial-Bug: #1436607
Change-Id: I0943aa542b911fbcebb100543e0adbb38159b233"
afrittoli,2015-03-25 21:24:24,https://api.github.com/repos/openstack/devstack/git/commits/72f026b60d350ede39e22e08b8f7f286fd0d2633,72f026b60d350ede39e22e08b8f7f286fd0d2633,"Always defines tempest_roles as Member

Because tests might force the auth version to v3, we always need
to have Member in the list of roles.

Change-Id: I06fd043e1b31ae0e5e33f4dcf898fb58f2907267"
sdague,2015-03-25 15:55:32,https://api.github.com/repos/openstack/devstack/git/commits/eeb7bda510ad29dce7bfc5eb8aed9b6fe25efea1,eeb7bda510ad29dce7bfc5eb8aed9b6fe25efea1,"eliminate TEST_ONLY differentiation

devstack is a development and test environment, but by default we were
only installing the runtime dependencies. We should install all the
testing required packages as well.

Change-Id: I7c95927b9daad15766aac9d1276b10ca62efb24c"
sc68cal,2015-02-20 16:45:21,https://api.github.com/repos/openstack/devstack/git/commits/93b2100c983e1c271a8d51aa7f4755a6445be6a8,93b2100c983e1c271a8d51aa7f4755a6445be6a8,"Support for single interface Neutron networking with OVS

When running Neutron on a single node that only has a single interface,
the following operations are required:

    * Remove the IP address from the physical interface
    * Add the interface to the OVS physical bridge
    * Add the IP address from the physical interface to the OVS bridge
    * Update the routing table

The reverse is done on cleanup.

In order run Neutron on a single interface, the $PUBLIC_INTERFACE and
$OVS_PHYSICAL_BRIDGE variables must be set.

Co-Authored-By: Brian Haley <brian.haley@hp.com>

Change-Id: Ie35cb537bb670c4773598b8db29877fb8a12ff50"
ianw,2015-03-24 19:26:03,https://api.github.com/repos/openstack/devstack/git/commits/51c48d4c801fecce9d2486ce956a2602eb8a0ea9,51c48d4c801fecce9d2486ce956a2602eb8a0ea9,"Add a note on default values of globals

Add a note on default values of globals in plugin settings

Change-Id: I0d5d3a7e0597abe7e2401f8bae30ccc5682eab03"
steveb,2015-03-17 22:12:15,https://api.github.com/repos/openstack/devstack/git/commits/89983b6dfe15e8e83f390e9870cc3ddfbf2b8243,89983b6dfe15e8e83f390e9870cc3ddfbf2b8243,"Do not download Fedora cloud image for heat

Tempest can now do all heat tests with cirros, and heat functional
tests now load a custom test image from tarballs.o.o, so devstack
no longer needs to register the fedora cloud image.

Depends-On: I6041b8d6e7e9422f6e220d7aef0ca38857085e4b
Change-Id: I9b3ea2c157b96dee139a24f0fa6f68f6764a7d67"
peterstac,2015-03-24 18:00:29,https://api.github.com/repos/openstack/devstack/git/commits/668749ae8582bd19e22bb1d0ec46cf3a18cc1bf0,668749ae8582bd19e22bb1d0ec46cf3a18cc1bf0,"Allow external ENV setup for conf files

In order to keep redstack in synch with devstack, the conf files
referenced within devstack need to be able to be declared externally.

This change allows *_CONF values to be specified, and uses the
original values as defaults.

Change-Id: Ic67f6347b92b05619103a77e9f7ea80a299a6869"
jogo,2015-03-19 22:32:20,https://api.github.com/repos/openstack/devstack/git/commits/16e0656bd0def2ea37b9020109aa9cdf8146e89b,16e0656bd0def2ea37b9020109aa9cdf8146e89b,"Until we prebuild wheels don't build wheels for deb installed libs

Until we have the ability to prebuild wheels so we don't spend time
compiling them during devstack runs, stop building wheels for libraries
that we still install from deb packages.

Long term we want to move away from using deb packages to install python
packages and use wheels. But until the wheel building logic is in place
so we don't have to compile wheels on each devstack run, don't waste
time compiling python libraries that we just use the packaged version of
anyway.

Change-Id: I962e2cfff223f7ab8efd5766ee0ef22229ab27bf"
li-ma,2015-03-24 06:05:15,https://api.github.com/repos/openstack/devstack/git/commits/0f20ad41f3bb7f674a85b341556386cea492830e,0f20ad41f3bb7f674a85b341556386cea492830e,"Add pluggability for matchmaker-redis

This commit introduces stevedore to matchmaker-redis:

https://review.openstack.org/#/c/161615/

Change-Id: I547157c02c9e0536add6949910a911540f27fb2d"
jogo,2015-03-23 22:05:39,https://api.github.com/repos/openstack/devstack/git/commits/d01ff96e3f330684f3f1041ce6e08f729cf4006c,d01ff96e3f330684f3f1041ce6e08f729cf4006c,"Stop using deprecated rabbit related config options

Stop services from throwing the following warning:
  Option ""rabbit_password"" from group ""DEFAULT"" is deprecated. Use option
  ""rabbit_password"" from group ""oslo_messaging_rabbit"".
Same for rabbit_hosts and rabbit_userid

Change-Id: I7da503ef50b3653b888cb243caa74b4253a495e2"
at1012,2015-02-18 09:51:13,https://api.github.com/repos/openstack/devstack/git/commits/7c57306c33630bd5e8a99b9afbd27b45b1157959,7c57306c33630bd5e8a99b9afbd27b45b1157959,"Added devstack-with-lbaas-v2 installation documentation

This document explains the steps to configure Load-Balancer in
kilo.

Change-Id: Ic8c2f3cca80e331b7275f689051c07d863d918ea
Depends-On: I64a94aeeabe6357b5ea7796e34c9306c55c9ae67"
gkotton,2015-03-22 14:20:06,https://api.github.com/repos/openstack/devstack/git/commits/d2287cfb9f4dfac71f14f3374514f5b8c2b0c70b,d2287cfb9f4dfac71f14f3374514f5b8c2b0c70b,"Config driver: use ""True"" instead of ""always""

Commit c12a78b35dc910fa97df888960ef2b9a64557254 has set the
""always"" flag to be deprecated in liberty. This moves to using
""True"" instead.

Change-Id: Idecf7966968369d2f372abffcab85fbf9aa097c7"
Mahito,2015-03-23 06:19:57,https://api.github.com/repos/openstack/devstack/git/commits/a519f429cf3cd90f06dd50b95608ec18f81d400c,a519f429cf3cd90f06dd50b95608ec18f81d400c,"Fix unstack.sh to stop stop_dstat when it is disabled.

unstack.sh always stop dstat process, however unstack.sh show 'dstat: no process
found' when dstat is disabled.
This patch stop function of stop_dstat, when dstat is disabled.

Change-Id: If9054826bed8a7fedd4f77ef4efef2c0ccd7f16e
Closes-Bug: #1435148"
wbora,2015-03-19 15:20:38,https://api.github.com/repos/openstack/devstack/git/commits/ec47bc1d720852ca07f1af2143c2a6c1353e9306,ec47bc1d720852ca07f1af2143c2a6c1353e9306,"Add support for Oracle Linux 7 and later.

Most of the changes revolves around using MySQL rather than MariaDB,
plus enabling the addon repos on public-yum.oracle.com.
The patch just touch the areas where there is a divergence between the
Fedora and Oracle distributions and in all other cases the is_fedora
will result in the correct decision to be made and left as is.

Collapsed the is_suse and is_oraclelinux into a single check in
configure_database_mysql and cleanup_database_mysql

Added Oracle Linux to MAINTAINERS.rst

Rather than duplicating most of the Redhat version check code, added
a check in the block to do the determination if it is Oracle Linux

Change-Id: I5f1f15106329eec67aa008b17847fa44863f243f"
ianw,2015-03-20 01:18:52,https://api.github.com/repos/openstack/devstack/git/commits/c7df4df0b18a50313497bfca31af04e5475f780f,c7df4df0b18a50313497bfca31af04e5475f780f,"Add some discussion about review criteria

An attempt to layout some of the ratioanle behind devstack reviews.

Change-Id: I9f4878653b5c746159206cd44b49255d9fdd32ef"
gorozco1,2015-03-19 18:08:23,https://api.github.com/repos/openstack/devstack/git/commits/2f6576bfaf7f43d9bf820e3e5ecc0b7fd136ce3c,2f6576bfaf7f43d9bf820e3e5ecc0b7fd136ce3c,"Creates SWIFT_DATA_DIR if it does not exist

If SWIFT_DATA_DIR is set on local.conf we need to make sure to create
the directory with proper permissions

Change-Id: If29fa53f01b4c0c8a881ec3734383ecffac334ce
Closes-Bug: 1302893"
dtroyer,2015-02-18 13:09:04,https://api.github.com/repos/openstack/devstack/git/commits/6aaad5f7239c8e199fde0d1e5fca14f0a77164f2,6aaad5f7239c8e199fde0d1e5fca14f0a77164f2,"Install Cinder into its own venv

rootwrap is horribly called indirectly via PATH.  The choice, other than fixing
such nonsense, is to force the path in sudo.

Change-Id: Idac07455359b347e1c617736a515c2261b56d871"
dtroyer,2015-02-17 21:38:16,https://api.github.com/repos/openstack/devstack/git/commits/aed607920542ee27f87f8e5cdb659faf1bde00eb,aed607920542ee27f87f8e5cdb659faf1bde00eb,"Install Glance into its own venv

Change-Id: Ib46b89dafa1fc81a2d0717150203b848b87ea323"
dtroyer,2015-02-17 17:05:06,https://api.github.com/repos/openstack/devstack/git/commits/f8ae647f2eabfd06c1006a1c3c92a3ef78578cfa,f8ae647f2eabfd06c1006a1c3c92a3ef78578cfa,"Install Keystone into its own venv

Configure Apache to use the Keystone venv.

Change-Id: I86f1bfdfd800f5b818bfb5c4d2750ff732049107"
brantlk,2015-03-12 01:06:26,https://api.github.com/repos/openstack/devstack/git/commits/7448edb031028af2e26e17bce6373d8f8929570d,7448edb031028af2e26e17bce6373d8f8929570d,"Keystone use new section for eventlet server options

Configuration options that are only relevant when running keystone
under eventlet (rather than Apache httpd) were moved to the
[eventlet_server] and [eventlet_server_ssl] groups in the
keystone.conf file to avoid confusion. This change updates devstack
to use the new non-deprecated group for these options.

Change-Id: I651a278d09f6a3a32b2e96fac87f1e5ea0f18c39"
dtroyer,2015-03-09 19:27:51,https://api.github.com/repos/openstack/devstack/git/commits/5686dbc45dbdc552080592e31bed63b0f201717e,5686dbc45dbdc552080592e31bed63b0f201717e,"Add global venv enable/disable knob

Adds USE_VENV to globally enable/disable use of virtual environments.

ADDITIONAL_VENV_PACKAGES is used to manually add packages that do not
appear in requirements.txt or test-requirements.txt to be installed
into each venv.  Database Python bindings are handled this way when
a dataabse service is enabled.

Change-Id: I9cf298b936fd10c95e2ce5f51aab0d49d4b7f37f"
ianw,2015-03-20 01:16:28,https://api.github.com/repos/openstack/devstack/git/commits/6f6e2fd2cc9517b09b98fc45912d21c8574a4f94,6f6e2fd2cc9517b09b98fc45912d21c8574a4f94,"Move contributing into HACKING

contributing.rst doesn't add very much over the extant HACKING.rst, so
move some of the unique bits into HACKING.rst and then link that into
the documentation.

Change-Id: I0530f38eda92f8dd374c0ec224556ace6e679f54"
gumho,2015-03-19 23:26:45,https://api.github.com/repos/openstack/devstack/git/commits/6f3f310848d1134ff73dd23e246ad00f7cd13365,6f3f310848d1134ff73dd23e246ad00f7cd13365,"Fix packages not getting installed if service name in base path

Currently, if devstack base path includes the name of a given
service (e.g. nova), then the service's prereq packages will
not be installed. This fix changes the checking the match
against the full path of the package list file rather than the
name of a given service.

Closes-Bug: #1434314
Change-Id: Ie81352ebd5691afc6d0019f71d5b62370e8bb95f"
e0ne,2015-03-08 21:51:55,https://api.github.com/repos/openstack/devstack/git/commits/9ebd65be32357a0554e4e5525037e7f1803077f8,9ebd65be32357a0554e4e5525037e7f1803077f8,"Increase Swift disk size up to 2GB if Glance is enabled

Minimum Cinder volume size is 1GB so if Swift backend for Glance is only
1GB we can not upload volume to image.

Change-Id: Ifd4cb42bf96367ff3ada0c065fa258fa5ba635d9"
yuntongjin,2015-02-28 02:50:34,https://api.github.com/repos/openstack/devstack/git/commits/f26deea6b1d7a91da44979d8c7feaf1ff8970b25,f26deea6b1d7a91da44979d8c7feaf1ff8970b25,"create install_default_policy

Recent versions of oslo policy allow the use of a policy.d to break up
policy in a more user understandable way. Nova is going to use this in
Kilo to break out v2 and v2.1 API policy definitions.

This provides a unified helper for installing sample policies. It
makes some assumptions on project directory structure. Porting other
projects to use this can happen in the future.

Change-Id: Iec23b095176332414faf76a9c329f8bb5f3aa6c3"
stevemar,2015-03-13 01:30:58,https://api.github.com/repos/openstack/devstack/git/commits/4599fd174c0c10f3a7e51ad6cba5d4c74abac207,4599fd174c0c10f3a7e51ad6cba5d4c74abac207,"Add roles when we create groups

We should prime the groups that were created with some roles on
projects. Eventually we can add users directly to the groups
and not have to resort to individual user assignments.

Change-Id: Icebafc06859f8879c584cfd67aa51cb0c9ce48af"
mtreinish,2015-03-19 02:03:01,https://api.github.com/repos/openstack/devstack/git/commits/886cbb2a86e475a7982df1d98ea8452d0f9873fd,886cbb2a86e475a7982df1d98ea8452d0f9873fd,"Set heat stack role in tempest config to _member_

In kilo heat started to use keystone delegations to perform the needed
operations, as part of this the need to set the explicit role in
devstack for stack management disappeared. However, in tempest as part
of the effort to make credentials configuration more explicit an option
was added to ensure that the users created by tempest have the proper
role set for stack management in the heat tests. This commit sets the
value of this config option in tempest to be the default role _member_
to reflect that there is no separate heat_stack_owner role created
anymore. (which is the tempest default value)

Change-Id: Id98a83f0a716de0fdb5f36d03407364830e8fa5f"
steveb,2015-03-18 00:45:40,https://api.github.com/repos/openstack/devstack/git/commits/16819951038c464d330233d0d3df4173420f14ae,16819951038c464d330233d0d3df4173420f14ae,"Install missing heat agent projects

This change adds the dib-utils repo, and adds git_clone calls for the
required os-*-config projects.

Change-Id: I2641feb0c462d2940f2698515ff62a2ff06c0e70"
j-griffith,2015-03-18 03:07:39,https://api.github.com/repos/openstack/devstack/git/commits/4bf861c76c220a98a3b3165eea5448411d000f3a,4bf861c76c220a98a3b3165eea5448411d000f3a,"Create global_filter to avoid scan of missing devs

A while back I added an lvm.conf file with a device filter setting
to try and clean up the LVM hangs in the gate:
  (commit 0b9e76f280208b5b5ad54bb6fbc4133e63037286)

It turns out this wasn't the real problem, the real problem
is that on an LVS/VGS command LVM  will attempt to open and read
all potential block devices in /dev to see if they have LVM data
on them.  I initially thought the local filter would keep that
from happening, as it turns out the local filter only limits what's
returned AFTER the actual scan process.  In order to keep the scan
from happening at all, either a global_filter needs to be used or
lvmetad needs to be running and enabled.

There are situations in gate tests where /dev/sdX devices are created and
deleted and the result is that we hit situations where LVM tries
to open up devices to check them even if they've been removed.  The
result is we have a blocking open call from LVM that takes approx
60 seconds to time out and fail.

Ubuntu won't have a version of lvmetad until Vivid, so for now
that just leaves the global_filter as an option.

This patch adds the filter routine to the end of stack.sh.  We don't
want to put the routine in lib/cinder_backend/lvm like we had it because
now we have to set the global filter for all LVM commands on the system.
So we put this as one of the last steps in stack.sh and run it if Cinder
is enabled.  This way we can query PV's on the system regardless of what
other services may be running and using LVM and make sure that all of
their devices are added to the filter as well.

Also, make sure we only set this for Ubuntu as Fedora/RHEL variants
utilize lvmetad.

This patch also removes the old change that set the local filter.

DocImpact
Should add this to recommended config for Cinder on systems
that don't have lvmetad, and recommend lvmetad for those that do.

Change-Id: I5d5c48e188cbb9b4208096736807f082bce524e8
Closes-Bug: #1373513"
pshchelo,2015-03-18 10:48:47,https://api.github.com/repos/openstack/devstack/git/commits/199c6048fd209d87c87c0bb40860f4b4b2661a5e,199c6048fd209d87c87c0bb40860f4b4b2661a5e,"Recreate tox venv for tempest on stack.sh run

Sometimes when certain dependencies are changed, recreating an existing
DevStack fails, as tempest is using an old existing venv for tox run,
where dependencies are not met.

This change should help developers who are reusing
their existing DevStack.
The gate should not be affected as there the vev is freshly created
anyway.

Change-Id: Ic42ba1cb0aa829c5120151d3d8cdafa4efc3ffaa"
dtroyer,2015-03-16 18:52:19,https://api.github.com/repos/openstack/devstack/git/commits/8421c2b9ab5d8242abb7d1bdc20435408db8b802,8421c2b9ab5d8242abb7d1bdc20435408db8b802,"Use install(1) where possible

This eliminated a number of sudo calls by doing the copy/chown/chmod in
a single step and sets a common pattern.

Change-Id: I9c8f48854d5bc443cc187df0948c28b82c4d2838"
ianw,2015-03-13 00:50:02,https://api.github.com/repos/openstack/devstack/git/commits/fdf00f27db19f572ac1d8fd3714c5b412556dbf3,fdf00f27db19f572ac1d8fd3714c5b412556dbf3,"Add defaults for yum proxy variables

Without these defaults, sourcing functions-common with -u turned on
(as say ./tools/build_wheels.sh does) will bail out with unset
variable errors.  Also fix up quoting, and add no_proxy for zypper run

Change-Id: Ideb441634243c1c5ce7db3a375c2d98617e9d1dc"
steveb,2014-12-15 23:00:40,https://api.github.com/repos/openstack/devstack/git/commits/744c2afd6f5a594a5a16144c773436fbca263c4d,744c2afd6f5a594a5a16144c773436fbca263c4d,"Allow heat-standalone to work with keystone v3

Heat can now run in standalone mode with the default v3 keystone
backend.

This change removes the installation of the v2 contrib backend.
It also configures saner defaults when HEAT_STANDALONE is True.
Using trusts and a stack-domain will never work in standalone mode
since they both require a service user which doesn't exist in
standalone mode.

Finally, this change prevents heat.conf being populated with service user options
not required by standalone mode.

Configuring the v2 backend may be reintroduced later with a dedicated
flag variable.

Change-Id: I88403e359e5e59e776b25ba1b65fae6fa8a3548e"
parath,2015-03-12 20:15:50,https://api.github.com/repos/openstack/devstack/git/commits/a03ed3762613a70e9f15811bc02a5006c0004f05,a03ed3762613a70e9f15811bc02a5006c0004f05,"Adds documentation for devstack unit tests enablement

Closes Bug: 1283214
Closes Bug: 1203723

Change-Id: Iac25185c7cc92ddebd3a22b602f7c8885d009807"
sdague,2015-03-17 13:10:01,https://api.github.com/repos/openstack/devstack/git/commits/d66bac3f70ce2470be8d19f91b6945483a62328f,d66bac3f70ce2470be8d19f91b6945483a62328f,"remove horizon exercises

The horizon team keeps changing how the UI is exposed. This exercise
keeps lagging and doesn't really test anything useful any more. Just
delete it.

Change-Id: Id62904868f1d4b39e33d2ad63340b5ee2177fb56"
YorikSar,2014-07-16 13:41:53,https://api.github.com/repos/openstack/devstack/git/commits/2662395fac0c7cf8e842b56987ad0f0cdedc3d5f,2662395fac0c7cf8e842b56987ad0f0cdedc3d5f,"Add rootwrap daemon mode support for Neutron

Daemon mode is turned on by default.

Implements: blueprint rootwrap-daemon-mode
Change-Id: I632df4149e9d7f78cb5a7091dfe4ea8f8ca3ddfa"
brantlk,2015-03-14 17:14:31,https://api.github.com/repos/openstack/devstack/git/commits/ad13c0a8dacbf5d5d399aa2df99313bb5fb6a39b,ad13c0a8dacbf5d5d399aa2df99313bb5fb6a39b,"Keystone stop using config refs

 - Rather than using config refs, deployments should be using a tool
   such as chef or puppet to set the options correctly.

 - Config refs have a bug where you can only reference an option in
   the DEFAULT group, which limits the usefulness, and with this
   feature it's impossible to move any config options out of the
   DEFAULT group, luckily this has been ignored anyways since I think
   everyone realizes how broken it is.

Change-Id: I74cae09f9d75177f8efea69e7ae981ed8f14039f"
scheuran,2015-03-09 15:55:32,https://api.github.com/repos/openstack/devstack/git/commits/a3430270f3b652317a85c9eabe76962bd64f4543,a3430270f3b652317a85c9eabe76962bd64f4543,"Support detection of interfaces with non-word chars in the name

The current regex only matches host interface names that consits
of ""word characters"" (regex \w). Intefaces having other special
chars like ""-"" or ""."" are not parsed. Examples that are not yet
matched are br-ex (ovs bridge) or enccw0.0.1234 (s390 eth device
name).

In addition it's hard to understand the the regex.

This fix is replacing the regex by a simple awk statement also
matching those names.

In addition the determination of the host_ip_iface was moved
down into the if clause, as it is only used inside.

Change-Id: I3d1b1afa32956e4e8c55c7e68cbafaf8e03e7da2
Closes-Bug: #1429903"
mtreinish,2015-03-16 14:37:51,https://api.github.com/repos/openstack/devstack/git/commits/cb3ceceda227036c357a1c3173ecbd8c3116b148,cb3ceceda227036c357a1c3173ecbd8c3116b148,"Set INSTALL_TEMPEST to default true

This commit switches the default value for INSTALL_TEMPEST on master
devstack to be true. Not installing tempest by default on devstack is
confusing for devs and people working with tempest in devstack. The
venv isolation is only really required on stable branches because of
conflicting requirements, however it is not really necessary on master.

Change-Id: I368cb56fd9e0cbf59cefe24a46507d3f58b9a8e3"
anand1712,2015-03-14 13:54:10,https://api.github.com/repos/openstack/devstack/git/commits/1577663f4a7d50542e1c729a3f975af627f6c47b,1577663f4a7d50542e1c729a3f975af627f6c47b,"Fix Traceback exceptions in g-api and g-reg

The log_context format specified in glance-api and glance-reistry
are causing tracebacks.  This fix changes the
project_id and user_id to tenant and user which are supported
in oslo-context.  This is the format used by other projects

Change-Id: Ifbf268e9765039a0085c9af930dabf8a5cc681b8
Closes-Bug: #1431784"
brantlk,2015-03-14 17:39:14,https://api.github.com/repos/openstack/devstack/git/commits/2dd110ce8668f6cb7b507928bad972d94656e2d7,2dd110ce8668f6cb7b507928bad972d94656e2d7,"iniset_rpc_backend default section

iniset_rpc_backend should know what section it needs to set the
config options in better than the callers. The config options
have actually been moved to different sections and the options
in the DEFAULT section are deprecated.

Change-Id: I0e07fe03c7812ef8df49e126bf71c57588635639"
brantlk,2015-03-14 17:28:59,https://api.github.com/repos/openstack/devstack/git/commits/5dfecc8966912c2f74a4c7ecc85dd5f0b930cd99,5dfecc8966912c2f74a4c7ecc85dd5f0b930cd99,"Keystone RPC backend config consistency

lib/keystone was setting up rabbit config directly rather than
using the iniset_rpc_backend function that other projects use.

Change-Id: Ic368f102c808cdbd2e4cbc1ff457cdf17a681332"
mriedem,2015-03-14 13:13:26,https://api.github.com/repos/openstack/devstack/git/commits/58065f26b6f35272636174c3b07006255424b9c5,58065f26b6f35272636174c3b07006255424b9c5,"Set compute-feature-enabled.preserve_ports=True in tempest.conf

Because of branchless Tempest we have to set a compute-feature-enabled
flag to test preserving preexisting ports from Neutron since the code
only works starting in Kilo and won't be backported to stable/juno or
stable/icehouse.

We can remove this flag once juno-eol happens.

Depends-On: I95469e4c2f4aa2bc4e6342860a9c222fb4fa7e16

Related-Bug: #1431724

Change-Id: I214baa3b861e29bedf6bb7b50534ac2286676dd1"
afrittoli,2015-03-13 12:05:49,https://api.github.com/repos/openstack/devstack/git/commits/7b2eaedabf0700a50ddcb32ac54570ea200c616e,7b2eaedabf0700a50ddcb32ac54570ea200c616e,"Adding tempest_roles when auth_version is v3

With identity v3 the _member_ role is not added on the projects
automatically for the user when it's created.

Setting _member_ to tempest_roles so that tempest adds the role.

Change-Id: Iaae9286ecc6f019d36261a5c450068a650e24a28"
chungg,2015-02-12 20:33:35,https://api.github.com/repos/openstack/devstack/git/commits/b6197e6ab0b6085f2b81f7a29fa6a3ea5ec03748,b6197e6ab0b6085f2b81f7a29fa6a3ea5ec03748,"switch to use ceilometermiddleware

swift middleware contained in ceilometer is now deprecated. the
middleware is available in ceilometermiddleware.

Change-Id: I6e41986245f4d95a9385dc7829479ed1199f10ac"
ianw,2015-03-04 22:35:52,https://api.github.com/repos/openstack/devstack/git/commits/e52f6ca11fc581d5ab3da4200ed0128287ec2d39,e52f6ca11fc581d5ab3da4200ed0128287ec2d39,"Remove packaged rpm python libraries

Let's just use pip versions

Change-Id: Idf3a3a914b54779172776822710b3e52e751b1d1"
chungg,2015-03-12 04:34:06,https://api.github.com/repos/openstack/devstack/git/commits/3011ec75493c456589947567d972c3a3c1f602bb,3011ec75493c456589947567d972c3a3c1f602bb,"install missing elasticsearch client

elasticsearch client must be explicitly installed as it's an
optional backend requirement. this patch installs the client when
installing elasticsearch

Change-Id: I534cf0c78ab1fe7d309ef5f808bbe7b5422b403e"
jogo,2015-03-06 23:24:22,https://api.github.com/repos/openstack/devstack/git/commits/23d6d5068752358c1d3bbacc314594b1b50e2fc8,23d6d5068752358c1d3bbacc314594b1b50e2fc8,"Stop using deprecated oslo_concurrency and sql_connection config options

As per the logs:
 Option ""lock_path"" from group ""DEFAULT"" is deprecated. Use option ""lock_path"" from group
""oslo_concurrency"".

Option ""sql_connection"" from group ""DEFAULT"" is deprecated. Use option
""connection"" from group ""database"".

Change-Id: I2109cec07ebee916c9ce0ccd24bd9a47d8d3c688"
afazekas,2015-03-12 12:57:11,https://api.github.com/repos/openstack/devstack/git/commits/b1a094d289a53fcbb0d04c0d3fa72707583728bd,b1a094d289a53fcbb0d04c0d3fa72707583728bd,"Install rsync-daemon on f22

swift requires to have rsyncd running as service or behind xinetd.
/etc/xinetd.d/rsync is not shipped with f22 and the daemon mode
 requires an additional package.
Adding rsync-daemon as swift dependency for f22 and f23(rawhide).

Change-Id: I33222719cabed59a261ce1b8ddedc457aa03800e"
gandelman-a,2015-03-12 00:15:42,https://api.github.com/repos/openstack/devstack/git/commits/de77c471f3df400c4c7df724c78dbd7dc771c618,de77c471f3df400c4c7df724c78dbd7dc771c618,"Make ironic's service check flexible

We currently assume we are deploying ironic with the rest of
a cloud and assert that glance/neutron/nova are enabled. This
makes it a bit more flexible and allows deploying with only
the minimum required services if desired, and asserts the others
are enabled when we intend on testing nova+ironic integration.

This is required for in-tree python-ironicclient functional tests,
which we aim to run against a minimal devstack deployment.

Change-Id: I99001d151161fa225b97c3ba6b167a61aa9b59fe"
flaper87,2015-02-26 13:10:05,https://api.github.com/repos/openstack/devstack/git/commits/e32c868f220720079facf462fa11c2bc9737e9c0,e32c868f220720079facf462fa11c2bc9737e9c0,"Comment `log_file` for Zaqar

Instead of logging to a file, let it use stdout so we can see the output
in the screen logs.

Change-Id: I0e5e12a6ddc5ad91dd37e97362ac9a5bed238e32"
gandelman-a,2015-03-05 01:25:07,https://api.github.com/repos/openstack/devstack/git/commits/7ca90cded374685c8c68ea50381220b915eb0b63,7ca90cded374685c8c68ea50381220b915eb0b63,"Allow devstack plugins to specify prereq packages

We offer main devstack components the ability to install their own
system package preqreqs via files/{debs, rpms}/$service.  This adds
similar functionality for plugins, who can now do the same in their
own tree at ./devstack/files/{debs, rpms}/$plugin.

Change-Id: I63af8dc54c75a6e80ca4b2a96c76233a0795aabb"
berendt,2015-03-11 17:53:33,https://api.github.com/repos/openstack/devstack/git/commits/d28ea9cbcb1db93d6ae925ee6efc8a032a319816,d28ea9cbcb1db93d6ae925ee6efc8a032a319816,"Add package mongodb to files/rpms/zaqar-server

The command mongo, used in lib/zaqar, is part of the package mongodb.
At the moment only mongodb-server is listed in files/rpms/zaqar-server,
mongodb has to be added there.

Change-Id: I60edeae6760addad62b9b61c3dcdecc2ff01cba7
Closes-bug: #1430939"
yamt,2015-03-11 07:41:32,https://api.github.com/repos/openstack/devstack/git/commits/10a8c88cccc43a8a9222b5e414198b105b190a67,10a8c88cccc43a8a9222b5e414198b105b190a67,"README.md: Correct the defaults of some of Q_ML2_PLUGIN variables

Also, tweak Q_AGENT description and note its default.

Change-Id: Ie24d14f58c09ccd375fd981683dba2efd5211f24"
ianw,2015-03-10 22:45:59,https://api.github.com/repos/openstack/devstack/git/commits/4d74e0f49515e23668a9dd955f30939cd03f94b2,4d74e0f49515e23668a9dd955f30939cd03f94b2,"Fail if run in POSIX compatability mode

This is mostly to detect if someone is running the script with ""sh
./stack.sh"" where sh is the bash-symlink that puts it in POSIX mode
(this can be invoked in other ways, but much less common).

In this case POSIXLY_CORRECT is set; so if we see that, bail out early
before we start hitting syntax errors.

Closes-Bug: #1430535
Change-Id: I7bbc4b0f656df9f6d9da2243c8caeb42d30ace95"
ianw,2015-03-11 01:04:49,https://api.github.com/repos/openstack/devstack/git/commits/b0595235a2374451c3f899fb893ad989a74b04d1,b0595235a2374451c3f899fb893ad989a74b04d1,"Don't use packaged unittest2

Let pip install unittest2; pip installation can conflict with the
packaged version.

Change-Id: Iec9b35174ac68ebf713cd7462d7b5a82583d6e22
Partial-Bug: #1430592"
ianw,2015-03-10 00:32:26,https://api.github.com/repos/openstack/devstack/git/commits/7c4ce9edbad6f3c33469d45be832ebea4a46ff70,7c4ce9edbad6f3c33469d45be832ebea4a46ff70,"Check for new versions of get-pip.py

People can leave their devstack installs around for a long time, and
in the mean time new versions of pip can be released.

The current check does not download a new version if an old one
exists.  We want to check for new versions, but we also don't want the
gate jobs trying this sometimes unreliable fetch.

So add a flag-file that tells devstack if it downloaded get-pip.py
originally.  If so, on each run check for a new version using curl's
""-z"" flag to request only files modified since the file's timestamp.

Change-Id: I91734528f02deafabf3d18d968c3abd749751199
Closes-Bug: #1429943"
ianw,2015-01-12 23:18:49,https://api.github.com/repos/openstack/devstack/git/commits/db1152c96e8e5a4ce599677f9ee3d556f925d734,db1152c96e8e5a4ce599677f9ee3d556f925d734,"Document use of plugins for gate jobs

Document use of plugins for gate jobs.  See also [1]

[1] http://lists.openstack.org/pipermail/openstack-dev/2015-January/054291.html

Change-Id: I9ed82f5d195511fb612517745f93f2a54475091a"
kchen-sh,2015-02-27 06:12:23,https://api.github.com/repos/openstack/devstack/git/commits/360839e0addbd2692ee34333ac06d957cf60b780,360839e0addbd2692ee34333ac06d957cf60b780,"Remove setting use_floating_ips values

We remove the code to set use_floating_ips. In old code it was set
false if we do not use neutron. However, we cannot deploy clusters
with floating ips by that. So we just use the default value, which
is set True in Sahara.

Closes-Bug: #1426226
Change-Id: Idfcdc5ab776681ddc740dc12035e04da349ea089"
natsumetakashi,2015-03-10 05:51:39,https://api.github.com/repos/openstack/devstack/git/commits/4de0f1cd0ba1541f49eb54a68b32ec7f973c274b,4de0f1cd0ba1541f49eb54a68b32ec7f973c274b,"Fix typo in devstack-with-nested-kvm.rst

'succesfully' has been fixed to 'successfully'.

Change-Id: Ib14b1b8cb612aba759f3fe8b94d35cf47eb9b339
Closes-Bug: #1430149"
dtroyer,2015-03-09 20:16:10,https://api.github.com/repos/openstack/devstack/git/commits/bf2ad7015d068f9a85c01813cea0aa79143b1d0f,bf2ad7015d068f9a85c01813cea0aa79143b1d0f,"Move configuration functions into inc/*

* config/INI functions from functions-common to to inc/ini-config
* local.conf meta-config functions from lib/config to inc/meta-config

Change-Id: I00fab724075a693529273878875cfd292d00b18a"
afazekas,2015-03-03 14:08:28,https://api.github.com/repos/openstack/devstack/git/commits/fbb3e773f017e90286f7e988c4167c3758edba45,fbb3e773f017e90286f7e988c4167c3758edba45,"Remove the kesytone admin token from swift

The keystone admin token supposed to be used only
for setting up keystone and it should not be used
in any other service config.

Change-Id: Iaa9be1878e89a6bc3a84a0c57fc6f5cecc371d2f"
amotoki,2015-03-08 06:13:23,https://api.github.com/repos/openstack/devstack/git/commits/a3c103be7dd218168fcd9f4d78a113490902a26d,a3c103be7dd218168fcd9f4d78a113490902a26d,"neutron-nec: Vendor code split

Neutron NEC plugin support is configured using DevStack external
plugin mechanism. The following needs to be added in local.conf:

Q_PLUGIN=nec
enable_plugin networking-nec https://git.openstack.org/stackforge/networking-nec

Also removes lib/neutron_thirdparty/trema and files/debs/trema.
DevStack external plugin for Trema Sliceable Switch is available
and the following is needed to enable it in DevStack.

enable_plugin trema-devstack-plugin https://github.com/nec-openstack/trema-devstack-plugin

Change-Id: If983b986355fcc0118b6e0446b3b295f23b3c40e"
jogo,2015-03-06 23:33:32,https://api.github.com/repos/openstack/devstack/git/commits/40ce320bb013f850a47d32781dd2f77a4d7927fa,40ce320bb013f850a47d32781dd2f77a4d7927fa,"Temporarily stop building mumpy wheel

It turns out we aren't actually using this wheel since we are still
installing the deb python-numpy, and building numpy takes several
minutes which is a lot considering we do it on every single dsvm job.

So until we have wheel caching in place, and are actually using the
version we build ourselves, stop wasting time.

Change-Id: I7643c55598e5ecc29ea708c537818b37a8047d4b"
BobBall,2015-03-06 21:11:55,https://api.github.com/repos/openstack/devstack/git/commits/1340ee72bfefa5a4fd0930cb90987275301280c8,1340ee72bfefa5a4fd0930cb90987275301280c8,"XenAPI: Default JEOS VM to only use 1GB RAM

While Devstack needs 4GB RAM (or more!) the JEOS
used as the base for the Devstack VM for XenServer
needs much less.  Allowing the initial install to
use 1GB means we have lower requirements overall

Change-Id: Iecaeeb4db0dffcc43c5532b5d57cb041d47047a6"
yeasy,2015-03-05 09:14:06,https://api.github.com/repos/openstack/devstack/git/commits/82450a5ebcc050bc4161d99dc5e6d41d7b289a40,82450a5ebcc050bc4161d99dc5e6d41d7b289a40,"Fix typo of setings to settings

The typo happens at the head part, and only one time occurs.

Change-Id: Ic6d3d8e17447066fe5e8ab867b10516dc8f185cc"
jogo,2015-03-05 00:40:19,https://api.github.com/repos/openstack/devstack/git/commits/cd8824ac04989e625d7f1ae442498383250932a9,cd8824ac04989e625d7f1ae442498383250932a9,"Pass PIP_FIND_LINKS through sudo to pip

We weren't actually using the wheels since PIP_FIND_LINKS environmental
variable was getting lost during the sudo

Change-Id: I4a89a70df63772a16ee5a8c3f1cd86e9c7bb5242"
steveb,2015-03-05 01:01:45,https://api.github.com/repos/openstack/devstack/git/commits/249e36dec6198c1dfd8e4f80d1f0a815fe6f36aa,249e36dec6198c1dfd8e4f80d1f0a815fe6f36aa,"Remove lib/dib

diskimage-builder is a utility rather than a service, and is already
installed in devstack via pip when required.

lib/dib was created to allow an image to be created during a devstack
run for the heat functional tests, however this approach is no longer
being taken and there are no other known uses for lib/dib.

This change removes lib/dib and moves the pip mirror building to
lib/heat so that snapshot pip packages of the heat agent projects can
be made available to servers which the heat functional tests boot.

This also removes tripleo-image-elements, which has never
been utilised, and since images won't be created
during heat functional test runs it is no longer required.

Change-Id: Ic77f841437ea23c0645d3a34d9dd6bfd1ee28714"
gandelman-a,2015-03-04 22:53:05,https://api.github.com/repos/openstack/devstack/git/commits/8c32e0df7bf35e860ce95e5db3c78e5d6dd33ff6,8c32e0df7bf35e860ce95e5db3c78e5d6dd33ff6,"Set rootfstype=ramfs for low memory Ironic nodes

When running with low memory (<1024), we need to switch from the default
rootfstype from tmpfs to ramfs to ensure nodes can decompress deployment
ramdisks.

Change-Id: I1b9dd614e592d99b2f59dea899b1ed3859ae0811"
jogo,2015-03-05 00:25:40,https://api.github.com/repos/openstack/devstack/git/commits/ab7df5ea1d4bd579c97bc739d7b9893df1715845,ab7df5ea1d4bd579c97bc739d7b9893df1715845,"Add cryptography to list if files to build before hand

building this takes 20 seconds or so

Change-Id: I95c71b1d0255c02038006bc743125ff2c49d9da9"
afazekas,2015-03-04 10:14:00,https://api.github.com/repos/openstack/devstack/git/commits/802473e45ab897144d81d48164d8342763a119d8,802473e45ab897144d81d48164d8342763a119d8,"Do not install the python-virtualenv on Fedora

The files/rpms/general:python-virtualenv explicitly
installed this package on Fedoras.

This package is not installed on other distros by devstack
by default.

If you stack/unstack the package gets reinstalled,
and confuses the system about the installed virtual-env version.
The uninstall works in CI, but it can be problematic when you do
reinstalls on the same machine.

The uninstall introduced by
834b804d3eda9029d3c66db0ab732a76a22ed08b, this commit deos not
has any reference to the external bug what it supposed to solve.

Related RDO thread started here:
https://www.redhat.com/archives/rdo-list/2015-March/msg00015.html

Change-Id: I4a723f179bdc28d39a4910fb9e3787e9e67c354b"
dougwig,2015-03-03 17:31:30,https://api.github.com/repos/openstack/devstack/git/commits/93e682c558f954fa35a00d7cc6a6903e8ed59178,93e682c558f954fa35a00d7cc6a6903e8ed59178,"Revert change to remove lbaas from devstack; it breaks grenade.

Change-Id: Ie2adaeb7f27d6d646ca2e6e575fb430b9b74b276"
kk7ds,2015-03-03 16:50:27,https://api.github.com/repos/openstack/devstack/git/commits/aca8a7fd991484a59fc20aadc3cedb339fc55ca5,aca8a7fd991484a59fc20aadc3cedb339fc55ca5,"Add support for oslo.versionedobjects

Change-Id: I01dba39259a3b264d4ec2b21db8429d340751979"
mdbooth,2015-03-03 16:37:35,https://api.github.com/repos/openstack/devstack/git/commits/0fdf34959eb8f330301adfcd0ab1cfe975b5460c,0fdf34959eb8f330301adfcd0ab1cfe975b5460c,"Don't cleanup ceph config when REMOTE_CEPH=True

If REMOTE_CEPH=True then we didn't write the contents of /etc/ceph, so
we shouldn't delete them.

Change-Id: I6291c6562a2864de775b1acb4be0be35b866f30d"
mdbooth,2015-03-03 16:13:31,https://api.github.com/repos/openstack/devstack/git/commits/e3ceaedbd7b111c1e8b28510a4eb11e540d4af77,e3ceaedbd7b111c1e8b28510a4eb11e540d4af77,"Fix defaulting of REMOTE_CEPH

A typo in lib/ceph was causing REMOTE_CEPH to be defaulted whenever
lib/ceph was sourced, regardless of its existing value. The
`trueorfalse` function takes a variable name as its second argument,
not a value.

Change-Id: Iec846e0b892eaa63a0a2a59aa045bc56d5606af1"
peterstac,2015-03-03 04:32:04,https://api.github.com/repos/openstack/devstack/git/commits/dd4bafd7ef832f6264659af8d63f4db66d32828f,dd4bafd7ef832f6264659af8d63f4db66d32828f,"Add guestagent to defined Trove conf variables

When the Trove configuration files were defined in variables, the
guestagent wasn't included. In order for profiling to continue on the
guestagent, its configuration file must be defined as well.
(See https://bugs.launchpad.net/devstack/+bug/1421403)

TROVE_GUESTAGENT_CONF is now defined.

Change-Id: Ie7cb531e2a1eca74100e2466a430e85eaf936263
Closes-Bug: #1427506"
afazekas,2015-03-03 08:54:49,https://api.github.com/repos/openstack/devstack/git/commits/c4c27232c869633030022b750c2bf0cd65b66d4c,c4c27232c869633030022b750c2bf0cd65b66d4c,"Use the Member role with horizon

Horizon by default using the _member_ role,
which is considered as a legacy role.

The tools/create_userrc.sh already creates the regular users,
with Member role.

Change-Id: Ibc07a0f28d0729f8a717a54e94fe014853363592
Closes-Bug: #1421616"
chungg,2015-02-11 23:28:37,https://api.github.com/repos/openstack/devstack/git/commits/76e724b9f7417a666fcd1a792fbce5e825c1ed56,76e724b9f7417a666fcd1a792fbce5e825c1ed56,"elasticsearch event support in ceilometer

add support to store events in elasticsearch in ceilometer.

Change-Id: I9c9801d2b83af8332df21f221c2ac8579898d56b"
r0ckpine,2015-02-27 04:34:12,https://api.github.com/repos/openstack/devstack/git/commits/a67ef00a6dc303659873bf6e60c8a488e96d0762,a67ef00a6dc303659873bf6e60c8a488e96d0762,"Handle proxy environment variables for epel-release install

Use yum_install() to support proxy environment variables when
epel-release package is installed from epel-bootstrap repo.

Change-Id: I45f7a38c6c71bbce07bd0d21c1ac8a75c04113cb
Closes-Bug: 1426221"
li-ma,2014-12-22 07:51:40,https://api.github.com/repos/openstack/devstack/git/commits/c24b399b7e37480ee57546fee9fab4d4c6b452e0,c24b399b7e37480ee57546fee9fab4d4c6b452e0,"Complete the support of MatchMakerRedis driver

MatchMakerRedis is the only tested routing method
for ZeroMQ driver. For others, like MatchMakerLocalhost
and MatchMakerRing, it still takes some time to work
on and completely test.

MatchMakerRedis is enough to run under real-world
deployment.

Change-Id: I3b2e8e68ceebd377479d75bbb8b862ae60cfc826
Partially-Implements: blueprint zeromq"
peterstac,2015-02-22 17:47:00,https://api.github.com/repos/openstack/devstack/git/commits/84c9ceff7baa9711415a6ccfcf03cef24e15be38,84c9ceff7baa9711415a6ccfcf03cef24e15be38,"Change the Guest Agent log_dir to /var/log/trove

In trove-integration, a patch was submitted to change the value
of the log_dir variable in the trove-guestagent.conf.sample file.
This should be changed here as well so that devstack uses the same
location.

The devstack trove-guestagent.conf file is created by devstack, not
from the sample file, so it needs to be changed here.

(For reference, an actual trove-guestagent.conf file is created by
the cloud provider implementing Trove, who may or may not use the
sample file provided.)

See: https://review.openstack.org/#/c/157973

Change-Id: I41b8e6fe443a2eff376ffc1f92c2ed90c94530b0"
jogo,2015-02-18 23:24:40,https://api.github.com/repos/openstack/devstack/git/commits/c82c30c55afea76efee63ae48669b457986ab465,c82c30c55afea76efee63ae48669b457986ab465,"Remove debs for diablo volumes

Diablo is long gone. Remove debs for diablo nova volumes

Original commit that added this: I3e7c412ff125dbadd18b59af55fb7dea9ea17b07

Move open-iscsi requirement over to ironic, (ironic conductor calls
iscsiadm)

libvirt driver uses iscsiadm for iscsi based volume attaches as well.
lvm backend is supported for libvirt driver

Change-Id: I536ba0ebdb6e3fa68f0a82b3027e70d8e2f35085"
umago,2015-02-25 12:38:47,https://api.github.com/repos/openstack/devstack/git/commits/1d3a6ec0de8badae58492021e9025f0ef78878b6,1d3a6ec0de8badae58492021e9025f0ef78878b6,"Add support for using IPA with iSCSI

This patch is adding a new boolean that can be toggled to indicate
that we should use the IPA ramdisk instead of the normal ramdisk when
deploying a node with the iSCSI methodology. Defaults to False.

Depends-On: Iaabc6ada729461f18d69ee12d01b9f1465944454
Change-Id: If4004078866d833eb946be40b6dfb204aa4a6840"
pmichali,2015-02-23 22:07:48,https://api.github.com/repos/openstack/devstack/git/commits/6fd4720e606ffa91a2db7d0bef1961128014e0ed,6fd4720e606ffa91a2db7d0bef1961128014e0ed,"VPNaaS Support for StrongSwan driver.

The StrongSwan driver under development for kilo-3 will replace the
default reference OpenSwan driver.

In the interim though, we need to be able to run functional tests
for both drivers. This change is intending to do the additional
steps that are needed to set up for Strongswan, so that when a
functional test has IPSEC_PACKAGE=strongswan, everything will be
correct.

The intent here is to explicitly set the device driver class in
vpn_agent.ini, so that this will work for when OpenSwan is the
default (currently), when no drivers are specified, and will work
for when StrongSwan is made the default in the code.

For Ubuntu, AppArmor is disabled for charon and stroke.

Note: Both OpenSwan and StrongSwan cannot be installed on the
host at the same time.

Change-Id: Ib8467e24633230d6643d812068e4ed6ffb33f104
Partial-Bug: 1424757"
scheuran,2015-02-26 08:08:09,https://api.github.com/repos/openstack/devstack/git/commits/15d40a56832baadc65fe5261f5f53ce24ad00e84,15d40a56832baadc65fe5261f5f53ce24ad00e84,"Add quotation marks to parse string correclty on rhel7

Problem:
On rhel7 the lvm.conf filter is generated wrongly

Root Cause:

bash-4.2 (rhel7/centos7) incorrectly splits herestrings 
when combined with IFS.  See [1] and [2]

Quoting the argument is a safe work-around

[1] http://stackoverflow.com/questions/20144593/trying-to-split-a-string-into-two-variables
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1196566

Closes-Bug #1425839
Change-Id: Ie82fcd7ef0deacbb6aaf18c5c466a5d5baf52681"
umago,2015-02-23 15:39:22,https://api.github.com/repos/openstack/devstack/git/commits/c08d5470aa797923f613ada052b399e8ddfee54b,c08d5470aa797923f613ada052b399e8ddfee54b,"Fix Ironic for Syslinux >= 5.00

Syslinux >= 5.00 pxelinux.0 binary is not ""stand-alone""
anymore, it depends on some c32 modules to work correctly.
See: http://www.syslinux.org/wiki/index.php/Library_modules

Closes-Bug: #1419867
Change-Id: Ia62e980052ece3d5e2abf090b5609dea31f0d6b8"
NaohiroTamura,2015-02-19 11:57:20,https://api.github.com/repos/openstack/devstack/git/commits/907d41c2623809702b887ada97a87a2e7a23dfba,907d41c2623809702b887ada97a87a2e7a23dfba,"Add error checks to provider net and subnet creation

Error checks are added to detect provider network and subnet
creation.

Closes-Bug: #1423766
Change-Id: I4d4323d1c3159f84ce3d19924a569b153038d542"
jogo,2015-02-25 19:39:18,https://api.github.com/repos/openstack/devstack/git/commits/71e82f52bde99b4bf791ea1558f1abf86019a384,71e82f52bde99b4bf791ea1558f1abf86019a384,"List all CIRROS ARCH images in image_list.sh

image_list.sh is used to make a list of all possible images. Loop over
both x86_64 and i386 instead of just using the default arch of x86_64

For live migration we are starting to use the i386 arch based images and
don't want to cache them like all other images.

Change-Id: I47da72a0e9da3689cb085bb43ac6536094445112"
afazekas,2015-02-24 11:15:21,https://api.github.com/repos/openstack/devstack/git/commits/99b598887bfb189b38ac3ae97abe0a303bc1063c,99b598887bfb189b38ac3ae97abe0a303bc1063c,"Fedora-21 has openjdk-1.8.0 only

Fedora-21 does not have openjdk-1.7.0 it has only 1.8.0.

This change also fixing the no op statement in the configure.

Change-Id: I6012aeb17b8e8fafa37d48aa29482702fa3491fd"
viggates,2015-02-13 19:35:55,https://api.github.com/repos/openstack/devstack/git/commits/834b804d3eda9029d3c66db0ab732a76a22ed08b,834b804d3eda9029d3c66db0ab732a76a22ed08b,"Upgrades pip under virtualenv

The version of pip supported by python-virtualenv has issues in
environment under proxy, hence uninstalling python-virtualenv package
and installing the latest version using pip.

Change-Id: Id749c37ab7fefa96b35f11816b56b9def5ef4b08
Closes-Bug: 1421541"
afazekas,2015-02-24 12:00:51,https://api.github.com/repos/openstack/devstack/git/commits/b8cf38c05d4c73710bbdf9a14a0a80a90c3bf925,b8cf38c05d4c73710bbdf9a14a0a80a90c3bf925,"Remove duplicated isset function

stackrc defines the isset function, but this function is already
declared in functions-common.

The stackrc sources the `functions` which sources the `functions-common`.

Change-Id: I0772c42d049833334107c2e6da3700e544ce094f"
tbreeds,2014-12-04 05:52:58,https://api.github.com/repos/openstack/devstack/git/commits/a339efcd676b81804b2d5ab54d4bba8ecaba99b5,a339efcd676b81804b2d5ab54d4bba8ecaba99b5,"Create service definition for nova-serialproxy

Nova has the ability to do remote interactive consoles but there is no
easy way to enable this in devstack.  This change defines a service
called n-serial to enable the service.  Documentation is added to a
new guide on nova, describing how to set further options in local.conf

Change-Id: I401d94b2413c62bfae9b90d2214d77bd4cfc15d5"
afazekas,2015-02-23 13:33:52,https://api.github.com/repos/openstack/devstack/git/commits/0fda343c1893527934171c45349ebc63bb2c5b34,0fda343c1893527934171c45349ebc63bb2c5b34,"msgpack-python requires g++

msgpack-python when installed from source requires a C++ compiler
installed on the system, otherwise it falls back to the python
implementation.

Change-Id: Iffe1f90f3a70780be22459c3f7a3cddfe47f01ca"
afazekas,2015-02-23 11:32:05,https://api.github.com/repos/openstack/devstack/git/commits/d5004a380294e05963d4de39007f3336e975fb0f,d5004a380294e05963d4de39007f3336e975fb0f,"F21 requires redhat-rpm-config for mariadb-devel

As you can see in the f21 job, the python-MYSQL compilation
fails without this library.

At the first look it seams like packaging issue, so
I created bug related to this. [1]
Until the issue is addressed, the redhat-rpm-config will be
considered as build time dev dependency for f21.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1195207

Change-Id: I731828cac912d1b11eaf2269364411c77a57d76c"
flaper87,2015-02-20 12:51:22,https://api.github.com/repos/openstack/devstack/git/commits/b592454e5113b19fba6f6cacfd97bcb8ec11f4f3,b592454e5113b19fba6f6cacfd97bcb8ec11f4f3,"Install python-redis from pip

Following the leads of  I47b7e787771683c2fc4404e586f11c1a19aac15c and as
an attempt to fix a bug blocking Zaqar's gate, this patch installs
python-redis from pypi instead of using the distro package.

Change-Id: Idfef2fe1b41b44c4cba6b6948b621bc44e77659b"
jogo,2015-02-10 22:32:39,https://api.github.com/repos/openstack/devstack/git/commits/c9b245bb438cdfe1155a86986e3fe2eb83f6f328,c9b245bb438cdfe1155a86986e3fe2eb83f6f328,"Optionally install tempest and disable by default

In I78d51f04ed01da4ce8aa0e127be028f969d3b4f8 we turned off installing
tempest because we install it on stable branches where the stable reqs
do not equal the tempest master (branchless) reqs.

Leave this off by default since that is the behaviour we have in the
gate, and make default devstack as similar to the gate as possible. But
add an option to install tempest by default so developers can opt and
reproduce the previous behaviour.

Update the tempest section of the README with how to run tempest tests
and how to install tempest if desired.

Change-Id: Ie4ea7335a57917244873ec54658ca269ab765ce1"
booxter,2015-02-20 15:23:15,https://api.github.com/repos/openstack/devstack/git/commits/1ffa33210def38e488b8887c69b70faad5965a00,1ffa33210def38e488b8887c69b70faad5965a00,"Install openstackclient after other services

Let's see whether openstackclient will trigger unneeded version bump for
clients if its installation is put below all other services that are
expected to intall client libraries on proper versions on their own.

Change-Id: Ifa774219b7057112fc794a5e3d93bc963c55ba90"
dtroyer,2015-02-19 19:05:15,https://api.github.com/repos/openstack/devstack/git/commits/99c463d56df9e82e5f81e695a8e7b97a4a6fdfbc,99c463d56df9e82e5f81e695a8e7b97a4a6fdfbc,"Recent virtualenv review cleanups

This is a follow-on to comments in https://review.openstack.org/156356
and https://review.openstack.org/#/c/151513/

* Remove work-around for /var/cache/pip
* Remove WHEELHOUSE setting in tools/build_wheels.sh and use the pip
  default directory '<cwd>/wheelhouse'
* Remove bogus MySQL-python install
* Removed unused bits and clean up pip commands in from tools/build_venvs.sh

Closes-Bug: #1423720
Change-Id: I0283b0dff9146b1b63bd821358505a93566270c6"
mtreinish,2015-02-19 00:01:20,https://api.github.com/repos/openstack/devstack/git/commits/83e166b707bbce1501146db06e968194f3c7b376,83e166b707bbce1501146db06e968194f3c7b376,"Ensure we install tempest-lib from git in tempest's tox venv

This commit adds installing tempest-lib from git to the tempest full
job's tox venv. Since by default tempest isn't being installed
globally anymore and when we do run tempest it is normally within a
tox venv that means previously the install from git flag isn't being
taken into account.

Change-Id: I98b0754c4a91690c9402fa2ae2c3e9ba9195d444"
sdague,2015-02-20 11:10:48,https://api.github.com/repos/openstack/devstack/git/commits/aa8d31ac8b6a69b40569f7d906b8217ac6612c2d,aa8d31ac8b6a69b40569f7d906b8217ac6612c2d,"fix missing TOP_DIR which can break sourcing

There were a couple of places where TOP_DIR is missing when we do a
source of content in tools. Given that working directory can change
quite often during devstack, we need to always be explicit here.

Change-Id: I14b5699637d7f5db745bccf116f440cdcbaa8d91"
mmedvede,2015-02-20 01:05:19,https://api.github.com/repos/openstack/devstack/git/commits/69741a99c783c4113280988d51c3226a7a1613fd,69741a99c783c4113280988d51c3226a7a1613fd,"Fix package names that cause f20/f21 breakage

Closes-Bug: #1423720
Change-Id: I8fdea7d24d1ec09885d2a395d4ba656f4194d39f"
afazekas,2015-02-18 15:22:06,https://api.github.com/repos/openstack/devstack/git/commits/380d92cc7a0601d89e40d311172e7e3ee4a58640,380d92cc7a0601d89e40d311172e7e3ee4a58640,"Ensure lvm2-lvmetad service running on Fedora

When the lvm package gets installed the meta service does
not gets started automatically, but it becomes enabled so it would be
running on the next reboot.

The lvm commands are configured to use this service.
In the past this issue just causes warnings in the cinder log,
but now it can lead to a real issue.

It is better to ensure it is really running,
because it speeds up the lvm related commands.

Change-Id: I17fe2c3bcf77a6505ed2b6c824c5b20807beb725"
stevemar,2015-02-04 07:38:13,https://api.github.com/repos/openstack/devstack/git/commits/20b027b79cf628a8be974bc5b9aff17b46c773b3,20b027b79cf628a8be974bc5b9aff17b46c773b3,"Add oslo.policy to lib/oslo and stackrc

As per the graduation work items, any new libraries should be
added to lib/oslo and stackrc

partially implements bp graduate-policy

Change-Id: Ief8f28715ecff5a602d6d840d736ea07b5e7ff39"
dtroyer,2015-02-18 20:47:54,https://api.github.com/repos/openstack/devstack/git/commits/8c2ce6ea724c9123b8cc5660c6ad52aa8ebf9865,8c2ce6ea724c9123b8cc5660c6ad52aa8ebf9865,"Virtual environment groundwork

Introduce the tooling to build virtual environments.

* tools/build_venv.sh: build a venv
* introduce lib/stack to house functionality extracted from stack.sh that
  is needed in other places, such as Grenade; start with stack_install_service
  to wrap the venv install mechanics
* declare PROJECT_VENV array to track where project venvs should be installed
* create a venv for each project defined in PROJECT_VENV in stack_install_service()

Change-Id: I508588c0e2541b976dd94569d44b61dd2c35c01c"
jogo,2015-02-18 23:20:31,https://api.github.com/repos/openstack/devstack/git/commits/b787b684f39eef779e416d5c86941810969ed456,b787b684f39eef779e416d5c86941810969ed456,"Add qemu-utils to n-cpu debs

Qemu-utils is needed by nova-cpu, we are hitting issues with this in
multi node testing where fewer services are installed on the second
node.

Change-Id: I4b0a217a252c7862014443230dda2bcced355c93"
berrange,2015-02-16 13:24:35,https://api.github.com/repos/openstack/devstack/git/commits/20a3dbdfa178f6e916e09f65476b9dfeb4748a4a,20a3dbdfa178f6e916e09f65476b9dfeb4748a4a,"mysql: disable query logging by default

Having DATABASE_QUERY_LOGGING enabled results in devstack turning
on verbose mysql query logging. This results in a log file
/var/log/mariadb/mariadb-slow.log that grows to 10's of GB in
size in very little time (few weeks if that). Developers never
seem to notice this exists until their host OS runs out of disk
space due to this logfile that is never truncated.

Very few people will ever look at this logged data, so a more
sensible default is False, to make the out of the box setup be
suitable for the majority. Those few people who want to debug
mysql query performance can enable it in local.conf, as will
the devstack gate setup scripts.

Depends-On: I6970d61474528f554134d0aa333cd52b7b20f309
Change-Id: Ia4a366c839ac51623bc1fbee3560dc4d848cce14"
dtroyer,2015-02-16 19:58:35,https://api.github.com/repos/openstack/devstack/git/commits/b1d8e8e274f0c220ae19ee3ea1a3b9a533459297,b1d8e8e274f0c220ae19ee3ea1a3b9a533459297,"Build wheel cache for venvs

Building a bunch of virtual envs later is going to be tedious if we do not
pre-cache certain annoying-to-build packages.

* tools/build_wheels.sh: pre-build some wheels for annoying package installs
* list distro package dependencies in files/*/venv
* list packages to pre-build as wheels in files/venv-requirements.txt
* install database Python modules when setting up the database

Change-Id: Idff1ea69a5ca12ba56098e664dbf6924fe6a2e47"
jogo,2015-02-18 19:24:31,https://api.github.com/repos/openstack/devstack/git/commits/6b9debaa2476a393d90dae1c33111d4c29d37464,6b9debaa2476a393d90dae1c33111d4c29d37464,"Stop referring to grizzly

I am pretty sure that won't even work.

Also fix tiny typo in the faq

Change-Id: Ie2e5640b8d4214a271d5af3b652b1a18db010b61"
ukinau,2015-02-17 10:00:23,https://api.github.com/repos/openstack/devstack/git/commits/d5323979ad247ae247f9b201934cba86f59aeba6,d5323979ad247ae247f9b201934cba86f59aeba6,"Change config of keystone_authtoken in lib/ironic

This commit is temporary work-around until Ironic is fixed(bug#1422632)

The reason of creating temporary work-around is following
Ironic re-uses specific values from the keystone_authtoken middleware.
So we should specify admin_user, admin_password and so on instead of username, password.

Change-Id: If8869e16a167eea0af87afda0eabcbb803627db6
Closes-Bug: #1418341 at devstack"
yamt,2015-02-18 04:55:48,https://api.github.com/repos/openstack/devstack/git/commits/606f3478b1ac0021d4e66bf56aaa3b3ea5aba865,606f3478b1ac0021d4e66bf56aaa3b3ea5aba865,"Remove no longer used definitions for Ryu

Change-Id: Ie6dcf1569aacfa8d20e905d694847594b136fed1"
jogo,2015-02-07 03:29:23,https://api.github.com/repos/openstack/devstack/git/commits/d5ac7852473a8a34ae097c33ed173d640db80379,d5ac7852473a8a34ae097c33ed173d640db80379,"Add new function get_from_global_requirements

Instead of specifying the version of a library in devstack, use the version from
global-requirements

Add new function get_from_global_requirements and use it
where it makes sense.

Change-Id: I6b2f062761ac05ef72fc6cc9993bc204faf06fa5"
sdague,2015-02-17 14:00:57,https://api.github.com/repos/openstack/devstack/git/commits/39282bf769e26d012b179f32286737f1151219fa,39282bf769e26d012b179f32286737f1151219fa,"purge all pure python libraries

python libraries should be installed from upstream, not from the
distro, as much as possible. The following is a first attempt at
purging all the python libraries and making it so that they instead
should fall back to the pypi versions.

Libraries which are known to include native code are left behind.

Change-Id: I47b7e787771683c2fc4404e586f11c1a19aac15c"
BobBall,2015-02-17 15:05:34,https://api.github.com/repos/openstack/devstack/git/commits/e356d8cff6b972ad9e7fda2ec0c51f89d5a1fd33,e356d8cff6b972ad9e7fda2ec0c51f89d5a1fd33,"XenAPI: Recommend using xl console rather than vncviewer

Some vncviewers do not support the -via option, so default to suggesting
xl console.  XenCenter continues to be an option for those running
Windows.

Change-Id: I1e53fd33d309e30a60031965e589167dcbacfbbe"
NaohiroTamura,2015-02-17 13:20:19,https://api.github.com/repos/openstack/devstack/git/commits/4abc4d1b6174eb0cd105fec6a6fe51576fbc0045,4abc4d1b6174eb0cd105fec6a6fe51576fbc0045,"Fix an error message in the neutron script

The $PHYSICAL_NETWORK in the error message should be
$PRIVATE_NETWORK_NAME, because the command just before this error
message refers to $PRIVATE_NETWORK_NAME.

Change-Id: I9a648f8bd0e61abde8e93bc08282c14b35ec06bd"
therootcause,2015-02-12 21:14:02,https://api.github.com/repos/openstack/devstack/git/commits/236fd078c085446f7239feba61a1f52c81be5c57,236fd078c085446f7239feba61a1f52c81be5c57,"define variables for Trove to be used in local.conf

This defines a number of variables for Trove configuration files
and options
In addition to general cleanup within devstack, this also enables 
consumers to enable features such as Openstack profiling, without
the need to repeat the hardcoding of these parameters in their
local.conf

Change-Id: Ieaa999ea3ca5c4f7d320416a8d2375c9a1d03d39
closes-bug: #1421403"
dtroyer,2015-02-13 04:18:33,https://api.github.com/repos/openstack/devstack/git/commits/5ce44cd63b6e2b53f08a6b4b87cb4ab11d1ade26,5ce44cd63b6e2b53f08a6b4b87cb4ab11d1ade26,"Fix is_keystone_enabled()

is_keystone_enabled() was calling is_service_enabled(), which is what called
is_keystone_enabled() in the first place.  Make it work as designed and
also change calls to use the full service name.  Note that this is all
still comptible with the prior usage of 'is_service_enabled key'.

Change-Id: I9c28377ecf074b7996461d2a4ca12d88dfc4d47e"
yamt,2015-01-26 04:39:30,https://api.github.com/repos/openstack/devstack/git/commits/183a9c0386e2d4c6846e342855e3ecc1df1b0878,183a9c0386e2d4c6846e342855e3ecc1df1b0878,"ofagent: Vendor code split

Install networking-ofagent from StackForge, using DevStack's
external plugins mechanism.

The following line needs to be added to the existing local.conf settings:
    enable_plugin networking-ofagent https://git.openstack.org/stackforge/networking-ofagent

Remove neutron_thirdparty/ryu, as Ryu is installed via
networking-ofagent's requirements.

Change-Id: I12287a47eac4689414f70b517ee37fb98b260e60
Partially-implements: blueprint core-vendor-decomposition
Partial-Bug: #1412653"
chungg,2015-02-12 20:17:25,https://api.github.com/repos/openstack/devstack/git/commits/ad61e7f9dd6cd0e19204e0ce5a15c0d7888b752a,ad61e7f9dd6cd0e19204e0ce5a15c0d7888b752a,"add ceilometermiddleware lib

middleware in ceilometer has been broken into it's own lib. this
first patch adds the package.

Change-Id: I63795787b909effcc4fcdee7f262207bb59fd8c2"
sdague,2015-02-12 20:31:58,https://api.github.com/repos/openstack/devstack/git/commits/b9f2e25fa8afb2ea17a89ed76c4fac03689b5f07,b9f2e25fa8afb2ea17a89ed76c4fac03689b5f07,"Revert ""Remove NoVNC from the default enabled services""

Reverting this is probably appropriate because until we can
get Debian/Ubuntu to fix their underlying dependencies. 
It's confusing a lot of people that this is no longer
available

This reverts commit 2bfb9af0c952f59287be4ce684b78cfb710a6105.

Change-Id: Id352db9dcd40bfb5eb771dad42cdf04e0ce72313"
dtroyer,2015-02-11 23:01:02,https://api.github.com/repos/openstack/devstack/git/commits/2b564763aafe6466f42bc5cf2ccc47ddf4169986,2b564763aafe6466f42bc5cf2ccc47ddf4169986,"Teach pip_install() about virtual envs

Set PIP_VIRTUAL_ENV to install the package(s) into an existing virtual
environment.  This works by simply using the pip command already
in the venv, and not using sudo.

Change-Id: I910e1752e58a666174f83b4f97e547851e66e655"
jimrollenhagen,2015-02-12 15:33:36,https://api.github.com/repos/openstack/devstack/git/commits/ae74ed778a2daef5490caa085ee33029e693fc5c,ae74ed778a2daef5490caa085ee33029e693fc5c,"Make swift user an admin

This breaks Ironic's use of temp URLs, which the key for the service
account is configured via the Swift user.

Change-Id: I69f6f6eef4ad573f406d64d579a9811c70ac5d28
Closes-Bug: #1421006"
BobBall,2015-02-12 11:59:46,https://api.github.com/repos/openstack/devstack/git/commits/0df75a7288ec0e8e9fa6f861afd7db676a73e6d1,0df75a7288ec0e8e9fa6f861afd7db676a73e6d1,"XenAPI: Move where os-vpx is set

os-vpx is only true after we know it's not a JEOS we're creating
Move the location we set the os-vpx flag to as we're starting to
prepare the VM for devstack

Change-Id: If736f3a7de171b8090b0bb905e04accb70470a90"
j-griffith,2015-02-12 01:55:47,https://api.github.com/repos/openstack/devstack/git/commits/c3c94ca6bc28930de54443713d7b28218c5f8cb3,c3c94ca6bc28930de54443713d7b28218c5f8cb3,"Add eval message when setting Cinder lvm.conf

We added an lvm filter for use when using Cinder's
LVM driver that would only scan devices that we have
actually deployed Cinder Volume Groups on.

This patch adds a simple output message to the setup
routine so we can more easily inspect what was found
and what has been set during devstack setup.

Change-Id: Iba5012caffd45dfb5143b6df954eed277445a60e"
kragniz,2015-02-11 19:34:09,https://api.github.com/repos/openstack/devstack/git/commits/701276a800f97af501de3f4cf9163e48fbcfb562,701276a800f97af501de3f4cf9163e48fbcfb562,"Enable colorized logging for glance

Extensive QA has found this makes glance 100% more fabulous.

Change-Id: I1cf94096d6bd5033ef0f9e3ed2a77108677581f0"
berrange,2015-02-11 17:25:32,https://api.github.com/repos/openstack/devstack/git/commits/a99e5c9b0e308aa5fa66591e5213243463313ba6,a99e5c9b0e308aa5fa66591e5213243463313ba6,"Revert ""Exit when printing error about database config""

This reverts commit 2d7c346f0c8cefe622edc8fed47cc2782aeb9a9b.

Not setting DATABASE_TYPE is not a fatal error since it is
valid to create nodes which only run a subset of services,
and so a database may not be needed.

Change-Id: I7d957e628141ba333b6f38940b39845b18fba4df"
kashyapc,2015-02-11 16:58:15,https://api.github.com/repos/openstack/devstack/git/commits/a7c655850c5efec2fdd2f25328e0ed9b84e96362,a7c655850c5efec2fdd2f25328e0ed9b84e96362,"guides: devstack-with-nested-kvm: Fix typo - s/AMD/Intel

In section ""Configure Nested KVM for Intel-based Machines"", this
sentence:

  Procedure to enable nested KVM virtualization on AMD-based machines.

should (obviously) read as:

  Procedure to enable nested KVM virtualization on Intel-based machines.

Change-Id: I9872a5d20a23f1cce7bf2a79bf29e1b11511b418"
dtroyer,2014-12-18 22:31:34,https://api.github.com/repos/openstack/devstack/git/commits/311f48764465d809cbc86f0ea38882a98221f7ec,311f48764465d809cbc86f0ea38882a98221f7ec,"Remove deprecated vars

These have been emitting deprecated warnings for over a full release cycle:
Q_AGENT_EXTRA_AGENT_OPTS, Q_AGENT_EXTRA_SRV_OPTS, CINDER_MULTI_LVM_BACKEND

Change-Id: I3aa5cabd6ce3a0072cba08bbca1ad23d4a831219"
sileht,2015-02-10 16:54:53,https://api.github.com/repos/openstack/devstack/git/commits/d1e3ff14b872de704a1b21da7e84a8e5e8d7b756,d1e3ff14b872de704a1b21da7e84a8e5e8d7b756,"qpid: plain auth needs cyrus-sasl-plain package

On fedora 21, qpidd cannot authenticate user, because
cyrus-sasl-plain is no more automatically installed.

This change fixes that.

Change-Id: I74452f40723881291b8c7577e5509da1c0e4e6e5"
BobBall,2015-02-10 08:09:08,https://api.github.com/repos/openstack/devstack/git/commits/5b9adb60de38584b94596a07fdb7e5ffbe4c9480,5b9adb60de38584b94596a07fdb7e5ffbe4c9480,"XenAPI: Move some boot-time functions to install-time

The boot-time script (prepare_guest.sh) is one of the less reliable parts
of the install process.  This change enables SSH into the host as well as
reporting of the IP address.  This significantly helps debugging issues
now and enables moving of all other setup code to being executed over SSH.

Change-Id: I1555f1d91353ba8b75e2de4607df33ee20307a6e"
sdague,2015-02-04 17:44:18,https://api.github.com/repos/openstack/devstack/git/commits/9a413abcd4bb0a7527b37fcaab4a16c9aa7cd938,9a413abcd4bb0a7527b37fcaab4a16c9aa7cd938,"add gating up/down script for devstack

This adds the test infrastructure for testing that unstack.sh and
clean.sh do the right thing, and actually stop what's expected. This
is designed to be used in upstream testing to make unstack and clean a
bit more certain.

It includes numerous fixes to make these pass in an errexit
environment with the gate config. The scripts still don't run under
errexit because we don't assume we've handled all possible cleanup safely.

Change-Id: I774dfb2cc934367eef2bb7ea5123197f6da7565b"
sdague,2015-02-10 12:53:36,https://api.github.com/repos/openstack/devstack/git/commits/117c6c2048e232660613666b9e606991a5ad32b6,117c6c2048e232660613666b9e606991a5ad32b6,"remove lib/stackforge

Now that we have a working external plugin mechanism stackforge
projects definitely don't need to be directly in devstack. These were
largely unused previously anyway.

Change-Id: I300686b2ac976d9b454404842b3f210fd7c239d9"
rcritten,2015-02-10 19:15:35,https://api.github.com/repos/openstack/devstack/git/commits/e1d013f9265a86c00ec02822f2425874fa97769f,e1d013f9265a86c00ec02822f2425874fa97769f,"Set ca_certificates_file in tempest, fix test for ""keystone""

Configure tempest with the location of the devstack CA bundle.

Fix a conditional that was looking for the ""keystone"" service
when it should be ""key"". This affected users who set
USE_SSL=True

Change-Id: I7171d7bd539443dce9f3b1a80274b7861abdcfdb"
rcritten,2015-02-10 19:16:56,https://api.github.com/repos/openstack/devstack/git/commits/ebcb8496348fad84053c79a933771ce6063994f8,ebcb8496348fad84053c79a933771ce6063994f8,"Unconfigure the devstack CA when USE_SSL is True

Change-Id: I17cb5e5d93bfe6fc6746ee530f639e2ed42da85a"
sdague,2015-02-09 20:17:27,https://api.github.com/repos/openstack/devstack/git/commits/33127a1287da160676ff337ae980603f8c183006,33127a1287da160676ff337ae980603f8c183006,"update plugin doc

After doing a couple of external plugins I found that basically things
don't work unless you enable_service in the settings file. Document
that as a requirement, and clean up the rest of the docs around the
external plugins to be consistent with that.

Change-Id: I13aee7dbf112ce9663e8338b555a208327f89b61"
jogo,2015-02-04 23:28:18,https://api.github.com/repos/openstack/devstack/git/commits/1368b98669ae9365193f8cd22bdce1c9abdc5499,1368b98669ae9365193f8cd22bdce1c9abdc5499,"Stop installing tempest

We run tempest inside of tox so no nee to install it. By not installing
it we decouple one more thing from the requirements sync.

Without this patch, due to branchless tempest, tempest must work with
master and all stable branch global requirements.

Although installing tempest should work on master, don't install it
anyway to make the user experience more uniform across master and
stable branches.

Note: Long term we can install this inside of a virtualenv
(I92648fffc1ad6af53006a0970722fd15f4e79dc2) but that logic hasn't landed
yet and installing tempest is breaking us. So leave moving this to a
virtualenv for a later patch.

Change-Id: I78d51f04ed01da4ce8aa0e127be028f969d3b4f8"
sdague,2015-02-09 12:51:53,https://api.github.com/repos/openstack/devstack/git/commits/b36a13a76a9434daa8257a88a558fb301339970d,b36a13a76a9434daa8257a88a558fb301339970d,"gantt is a dead project, remove it

The gantt source trees are dead projects, we should remove them from
devstack.

Change-Id: I0f271891846d2ad7a7a8edd975cdfb4f08419f0c"
sdague,2015-02-09 12:50:03,https://api.github.com/repos/openstack/devstack/git/commits/fa94dfcb17317b192f8a13f2b833dbcae9f7fde4,fa94dfcb17317b192f8a13f2b833dbcae9f7fde4,"remove tuskar

Tuskar server support is proposed as an external plugin here
I67dc8420582a40e18de7d5e00094bccc1184a7f9, we should remove Tuskar
from the main devstack tree.

Change-Id: I93e97e7ae8fd03cabc1245a10588c4474d7e3728"
BobBall,2015-02-07 15:15:12,https://api.github.com/repos/openstack/devstack/git/commits/347e30877b12fb9d096bcab50255ba992416bfce,347e30877b12fb9d096bcab50255ba992416bfce,"XenAPI: Use round-robin mirror for Ubuntu

ANL has discontinued their Ubuntu mirror.  Update the target
to be the official round-robin mirror which should be more stable long-term

Change-Id: I1271301d96a44888f45664537435e31dd38ff30d"
yamt,2015-02-09 03:43:12,https://api.github.com/repos/openstack/devstack/git/commits/b1a153ed71b90345119112700a2a2796198fe072,b1a153ed71b90345119112700a2a2796198fe072,"plugins.rst: Fix a typo

Change-Id: I3f85166a1e0f2fea02055dae6871746ad1b8d897"
brantlk,2015-02-08 17:03:02,https://api.github.com/repos/openstack/devstack/git/commits/0fc336df89833945457a597ff2a3dfee97517958,0fc336df89833945457a597ff2a3dfee97517958,"Keystone set debug in config file

Change keystone so that the debug setting is always in the config
file. This way the debug setting is done consistently whether it's
run as keystone-all or in Apache httpd.

Change-Id: I10f091e32b8b12ac71f0e7f613c5d1d3f4a8cbec"
mestery,2015-02-06 21:43:52,https://api.github.com/repos/openstack/devstack/git/commits/76a08f5a931c9c9a052d8a5bdcd5d99621ec41c0,76a08f5a931c9c9a052d8a5bdcd5d99621ec41c0,"Remove OpenDaylight from being in-tree for devstack

Now that we have a patch to make this pluggable [1], lets remove this
from the devstack repository.

[1] https://review.openstack.org/#/c/153700/

Change-Id: Ia23f99476ec16df9cc12f63864189835a09eb644"
sdague,2015-02-06 20:27:43,https://api.github.com/repos/openstack/devstack/git/commits/365421b99a6e76cd3c2e3dbb02638005e456abf8,365421b99a6e76cd3c2e3dbb02638005e456abf8,"isolate unit tests from stackrc HOST_IP check

The HOST_IP check in stackrc is useful for real users, but some cloud
nodes that infra runs don't detect it correctly, and it's not actually
required for unit tests to work right.

Change-Id: Id2aaa713aea91825021e9d8d49d19f3e40a8e6c9"
Andrey-mp,2015-02-06 19:37:53,https://api.github.com/repos/openstack/devstack/git/commits/0ea8b72a20be9026f025eaa6d9b4277b058aa735,0ea8b72a20be9026f025eaa6d9b4277b058aa735,"Make EC2 compatible with current AWS CLI.

Nova listens for EC2 calls now at the URL without path -
http://some.server.com:8773/
I was made in review -
https://review.openstack.org/#/c/152496/

So I suggest to change EC2 urls in keystone catalog.

Change-Id: Ia2975ce0f6a30eed6016733e12c98b5f97648307
Closes-Bug: 1417555"
sdague,2015-02-04 20:46:03,https://api.github.com/repos/openstack/devstack/git/commits/f8b4f85aeb7d38db029eb89c28d00082b71eab2b,f8b4f85aeb7d38db029eb89c28d00082b71eab2b,"implement elasticsearch pkg for devstack

the first implementation of arbitrary installation in tree for
components for elasticsearch.

Change-Id: I88e852ad009735ae77c6d4c19c4f4838c49cc0ad"
marun,2015-02-05 00:05:23,https://api.github.com/repos/openstack/devstack/git/commits/cbfe93bb4861d3129b82984c3aefc658a743d69b,cbfe93bb4861d3129b82984c3aefc658a743d69b,"Add postgresql dev package as testonly neutron dep

The neutron functional job needs to build psycopg2 which has a
dependency on postgresql dev packages.

Change-Id: Ie5c8e2bd02e148d6638f4a4c1fbf6667c30313d5"
kashyapc,2015-01-20 16:39:25,https://api.github.com/repos/openstack/devstack/git/commits/75afd6d33c93f510fb9f62abd443eac4131480e6,75afd6d33c93f510fb9f62abd443eac4131480e6,"guides: Notes to setup DevStack with Nested KVM Virtualization

Add a document with procedure to configure KVM-based nested
virtualization on the physical host and to configure DevStack (in a VM)
to take advantage of it.

Current topics:

   - Configure nested virt on Intel hosts
   - Configure nested virt on AMD hosts
   - Expose virt extensions to DevStack VM
   - Ensure DevStack VM is using KVM

Change-Id: Ibe6fa482cc0d51183438d99680a0e10d0da652cb"
sdague,2015-01-28 14:29:03,https://api.github.com/repos/openstack/devstack/git/commits/2e17d85d80f647d04054aca1571ef1910f9c2c62,2e17d85d80f647d04054aca1571ef1910f9c2c62,"Document where we are going

Somewhat opinionated document on where we want to be going, should be
an accurate first approximation of what Dean and I have chatted about
over the last few weeks. Hopefully helpful in framing where we are
going.

Change-Id: Ia153af27a08203ffc44e37c7db73e04573d3be9f"
sdague,2015-02-05 12:34:12,https://api.github.com/repos/openstack/devstack/git/commits/e3e9b226d003589028a05cfa10e153eaac5a0349,e3e9b226d003589028a05cfa10e153eaac5a0349,"Revert ""Make neutron the default in devstack""

The simple case of a single interface doesn't work
out of the box, and this is now failing for lots of 
people. We need to back up and get that working.

This reverts commit c906bb38851037880f557b15ad30c9b0bb7fa295.

Change-Id: If20df670e06cda2d65028bceb46d257d011cf917"
yamt,2015-02-05 02:54:12,https://api.github.com/repos/openstack/devstack/git/commits/1a669dce052e45b0e7de74e1613c06f41b6be1ce,1a669dce052e45b0e7de74e1613c06f41b6be1ce,"lib/neutron: Update comments about entry points

Change-Id: Iefb8057f71d4a3589cb3f0b18375779dd3896916"
dims,2015-02-04 15:53:31,https://api.github.com/repos/openstack/devstack/git/commits/005b1db5c0f7ba6b20d4eede2b731614bc757cb4,005b1db5c0f7ba6b20d4eede2b731614bc757cb4,"Add Service token to conf in single vm documentation

This is probably the 3rd time i got bitten by this, So
filing a review :)

Change-Id: Icd0834dda9c7ef806eb0fe976de85130e0220781"
dtroyer,2015-02-04 18:35:39,https://api.github.com/repos/openstack/devstack/git/commits/d97ee3095eea53ed21da397c6b46c01948bc0e76,d97ee3095eea53ed21da397c6b46c01948bc0e76,"Update minimum bash version

Clarify our position on bash and other shells.

Change-Id: I30e801afa03f8d7235556b0933d0205a30310899"
afazekas,2015-02-04 11:45:50,https://api.github.com/repos/openstack/devstack/git/commits/58e694e223138dde60fb82f1ca9ebbdbd665ba09,58e694e223138dde60fb82f1ca9ebbdbd665ba09,"Use the site-wide boto.cfg

The boto.cfg in the TEMPEST_DIR is not read by any tool at the momement,
including tempest and euca2ools.

Adding the ssl setings to the site-wide config file.

Change-Id: Ibeab5671ac81e5092da0ee7ec1ecf867f8555082"
ianw,2015-02-03 23:29:31,https://api.github.com/repos/openstack/devstack/git/commits/36298eec001f900c00a8ac89143375620af9ce3e,36298eec001f900c00a8ac89143375620af9ce3e,"Add default for YUM

This allows tools/* to use install_packages, etc, without having to
pull in stackrc for the $YUM definition.  Alternative to
Ief944af1ab177638bf818624a216751821e6330b

Change-Id: I7fe37079240e8cabbdffdcae5ad9d21e122e43c2"
sc68cal,2015-02-03 21:24:48,https://api.github.com/repos/openstack/devstack/git/commits/1add6fc222745d6cd4b396fd105fccee3c015e1b,1add6fc222745d6cd4b396fd105fccee3c015e1b,"Increase the suggested minimum ram to 4gb

Change-Id: I4f098d731693e635ebcc89357d382674c7730201"
flavio-fernandes,2015-01-09 21:09:12,https://api.github.com/repos/openstack/devstack/git/commits/0413d2db8d55f0d6a32551bc48a8e7d65800a0e2,0413d2db8d55f0d6a32551bc48a8e7d65800a0e2,"Add param for turning on debug logs on opendaylight's net-virt

When looking at issues related to opendaylight and openstack, it
helps to bump up the logs on ovsdb and neutron northbound. This
commit introduces a param for doing that:

ODL_NETVIRT_DEBUG_LOGS=True

Change-Id: I109fc61ddc44255de031341fb41bef8db5f0714f"
fungi,2014-12-05 03:30:41,https://api.github.com/repos/openstack/devstack/git/commits/3eeed23751f75d0cf27e11bc73eba9e9ae5e321c,3eeed23751f75d0cf27e11bc73eba9e9ae5e321c,"Workflow documentation is now in infra-manual

Replace URLs for workflow documentation to appropriate parts of the
OpenStack Project Infrastructure Manual.

Change-Id: Idf519ff362731c106bbd9b63135f8dab4c7b7b92"
dougwig,2015-01-31 06:30:08,https://api.github.com/repos/openstack/devstack/git/commits/37da4592c200a54dc8dcf6a549fb634a1d5814ca,37da4592c200a54dc8dcf6a549fb634a1d5814ca,"Copy neutron service conf files into NEUTRON_CONF_DIR

As part of splitting neutron into pieces, one of the steps was splitting
the various bits of configuration into their respective repos. That just
happened, and this change propagates those config files into /etc/neutron
in the same manner that devstack is using for neutron.conf (and which is
done via setup.cfg, like neutron, for regular package installs.)

Required for neutron review: https://review.openstack.org/#/c/151541/

Change-Id: Ic9aec4401925eca9e1678d84662b96d346a911e3"
chungg,2015-02-03 14:23:39,https://api.github.com/repos/openstack/devstack/git/commits/99f5bcc35338aecc0ba1478369970baf1f5013e2,99f5bcc35338aecc0ba1478369970baf1f5013e2,"add event pipeline yaml

Ceilometer as added support for an event pipeline to enable
transformations and publishing of events. this patch adds the new
event_pipeline.yaml file

Change-Id: I7018a57e7db3690d72fd7c7d5090e6e61cf73e18"
marun,2015-01-30 22:27:12,https://api.github.com/repos/openstack/devstack/git/commits/952fd90ff12e4964a35b63da2ec4226325f8f373,952fd90ff12e4964a35b63da2ec4226325f8f373,"Refactor lib/neutron rootwrap conf for reuse

This change separates out the creation and permision setting for
the /etc/neutron so that it can be reused by functional test
setup in rootwrap deployment.

Change-Id: Ib2ad5b21630ac82a3d7ffc7b088600b2168f1ecd"
marun,2015-01-30 22:24:30,https://api.github.com/repos/openstack/devstack/git/commits/c4b871f613b2bb8f29083f4a7200734d1cf3d8b1,c4b871f613b2bb8f29083f4a7200734d1cf3d8b1,"Add q-l3 conntrack dependency for ubuntu

The conntrack binary is included with conntrackd on rpm-based
distros but needs to be explicitly installed on ubuntu.

Change-Id: I615627c85d6aa5a465355c0ea27148f24d863a01"
dtroyer,2015-01-30 20:38:35,https://api.github.com/repos/openstack/devstack/git/commits/490430dbe3b7d9979b4623f2c327bb0a74436401,490430dbe3b7d9979b4623f2c327bb0a74436401,"Split functions-common: python functions

Move Python-related functions into inc/python

Should be transparent to all callers as it is sourced from functions-common

Change-Id: I88043830cef9211b4e0baa91bfcc7a92125afa9f"
dtroyer,2015-01-30 19:54:40,https://api.github.com/repos/openstack/devstack/git/commits/a1b82cc1b5a7172c3fdf17d2c3f0725660911ad7,a1b82cc1b5a7172c3fdf17d2c3f0725660911ad7,"Fix unbound literal in trueorfalse()

Change-Id: I4c465819c311604e97d24e081389ff531f8a42fa"
berrange,2015-01-30 17:03:32,https://api.github.com/repos/openstack/devstack/git/commits/901dbecd4ca2d851cfb929b18aec546481699978,901dbecd4ca2d851cfb929b18aec546481699978,"dstat: avoid creating self-referential symlink

If the SCREEN_LOGDIR and LOGDIR environment variables point to the
same location, devstack creates a dstat.log which is a symlink
pointing to itself. The second invokation of devstack then fails
trying to reference this broken symlink

Change-Id: I1de2bb7983e7535b41b28f526083a0d77312ff85"
dtroyer,2015-01-29 18:05:43,https://api.github.com/repos/openstack/devstack/git/commits/b43b3595061ce3138889ac78ded0eebbb144e4db,b43b3595061ce3138889ac78ded0eebbb144e4db,"Create LOGDIR if it doesn't exist

Create LOGDIR when LOGFILE is not set.  This fix is rather blunt
as logging setup will be further tweaked as
https://github.com/openstack/qa-specs/blob/master/specs/devstack/devstack-logging-and-service-names.rst
progresses.

Change-Id: I4a574f295eb6d55c7196ec563bd356d6c0bc8833"
cboylan,2015-01-29 17:25:42,https://api.github.com/repos/openstack/devstack/git/commits/d8267b74aeb865ac1289d75bd2a965d3248aeed5,d8267b74aeb865ac1289d75bd2a965d3248aeed5,"Revert ""Exit after printing error about RPC config""

This reverts commit c1dbf10562796c7006fd0a66c6cb39a1b990c8c1.

Reverting because it is valid to run devstack without enabling an rpc
backend. For example when you run devstack on a multinode deployment
compute hosts probably shouldn't run rabbit and instead will just talk
to the rabbit server set up on the controller node. As a result we
should not die when no rpc backends are set.

Change-Id: If9a31e031552f4161d42094fa960221b4d9e893c"
afazekas,2015-01-29 10:16:00,https://api.github.com/repos/openstack/devstack/git/commits/ec89fa039bb115bce8dc40c4b72359c07e487a3a,ec89fa039bb115bce8dc40c4b72359c07e487a3a,"Remove --skip-redirect form the tgtd service restart

skip-redirect was intruduced with the first commit related
to cinder support, nobody remembers why was this undocumented option
there those times.

Change-Id: If579a93090392327bce96ddd1b562977edf762de"
marun,2015-01-27 17:44:44,https://api.github.com/repos/openstack/devstack/git/commits/c070a3dbb5c52fb9099bd6cec477ba3d0a75760a,c070a3dbb5c52fb9099bd6cec477ba3d0a75760a,"Init default lvm volume group only if required

A recent patch [1] added support for lvm ephemeral storage for nova,
but at the cost of initializing a default lvm volume group even if it
was not required.  This change ensures that init of the default volume
group is only performed when nova and/or cinder are configured to use
lvm.

1: https://review.openstack.org/#/c/132333

Change-Id: I7634ca0ed0ffe1b13464e4d66744918f85149f2e
Closes-Bug: #1414820"
mestery,2014-12-01 07:20:33,https://api.github.com/repos/openstack/devstack/git/commits/c906bb38851037880f557b15ad30c9b0bb7fa295,c906bb38851037880f557b15ad30c9b0bb7fa295,"Make neutron the default in devstack

This changes the default devstack configuration to use Neutron instead of
nova-network.

Change-Id: Ia161695a8414cad751c3e66b985a78384a76890d"
eharney,2014-09-18 17:02:55,https://api.github.com/repos/openstack/devstack/git/commits/a27b74cdf74a83ef2d197d026526211d12990228,a27b74cdf74a83ef2d197d026526211d12990228,"Ceph: wait for services to shutdown during cleanup

It can take ceph-osd and ceph-mon a few seconds to complete when
they are killed.  This races against the umount command in cleaup
and can often result in $CEPH_DATA_DIR failing to unmount since
it is still in use.

Wait for these processes to stop to ensure the mount point is
umounted successfully.

Change-Id: I1a635e75a68be6b14fbee52ff981b5f5a3a8eb0e"
afazekas,2015-01-26 15:39:57,https://api.github.com/repos/openstack/devstack/git/commits/1f316beb2052b715f077ef42279361026d1a24c3,1f316beb2052b715f077ef42279361026d1a24c3,"Remove rhel6 and py26 support

el6 is shipped with Python 2.6.x which is not expected
to be supported with the openstack kilo release.

For el6 support we need to do lot of thing differently,
which makes the code more complicated.

This change removes el6 and py26 support from devstack.

This change also removed a discontinued (1 year ago)
openSUSE 12.2 code path, which used a similar codepath as el6.

Several comment related to el6 also removed or modified.

Change-Id: Iea0b0c98a5e11fd85bb5e93c099f740fe05d2f3a"
steveb,2014-12-23 00:13:05,https://api.github.com/repos/openstack/devstack/git/commits/8874115668427b9d60bb65cbe3670d01d3f7eb14,8874115668427b9d60bb65cbe3670d01d3f7eb14,"Define extra_elements inside disk_image_create_upload

This avoids the need to define a global variable,
and tolerates extra_elements not being set when bash
flag -u is set.

Change-Id: I343951a678bed9ca3cda347a9c902e60c7b70e2d"
afazekas,2015-01-26 17:06:33,https://api.github.com/repos/openstack/devstack/git/commits/55383f1a9bb2538b3e6add6dd9bf38080b910492,55383f1a9bb2538b3e6add6dd9bf38080b910492,"Do not install wsgiref for glance

wsgiref is not used by glance.

Change-Id: I5085e6418ca3cea2549b1b5d8a5877445b10c4a7
Related-Bug: #1255826"
BobBall,2015-01-26 14:13:02,https://api.github.com/repos/openstack/devstack/git/commits/f35e95706c42f98336059c2177261a77b55427a9,f35e95706c42f98336059c2177261a77b55427a9,"XenAPI: Replace remaining instances of 'devstack.succeeded'

Commit I05990c7154366350b0f9cc3e6c70d6f34238486f was incomplete
and left two references to the, now replaced, devstack.succeeded.

The impact of this is that the XVA always claims that devstack failed
to run when actually the run may have been successful

Change-Id: Ie4ac673011d77a9edc8923db94d914efe9f45d5d"
dims,2015-01-25 00:21:34,https://api.github.com/repos/openstack/devstack/git/commits/905275ec9f51614911fbb915f8bba9896b3ab684,905275ec9f51614911fbb915f8bba9896b3ab684,"Bump up the count of workers for heat

Looks like the workers is set to 0 which in heat is used
mainly for profiling/debugging and not really useful in
the devstack scenarios.
https://github.com/openstack/heat/blob/master/heat/common/wsgi.py#L286

Partial-Bug: #1412923
Change-Id: Iccf6aeffd461fdc1f78022cbda370be4b9573267"
hardys,2015-01-23 13:26:29,https://api.github.com/repos/openstack/devstack/git/commits/3163c17170b0b2bd7775e5e0d50040504b559ea1,3163c17170b0b2bd7775e5e0d50040504b559ea1,"Make elements for heat test image configurable

Allow the elements built into the heat functional test image to
be overridden via the localrc, allows easier testing of local
images with different/additional elements.

Change-Id: Ibaf2322e0572d25461579bbb2dc8a18858f4e09c"
li-ma,2015-01-23 11:10:49,https://api.github.com/repos/openstack/devstack/git/commits/529f8113c2d93c85bbede7041cde1b455bc2119f,529f8113c2d93c85bbede7041cde1b455bc2119f,"Fix oslo_messaging package and related object names

Use the latest oslo_messaging package and the related driver names.

Change-Id: I20d4c9286cd2216aa238705f00d8f4537ed91234"
Thingee,2015-01-22 16:25:59,https://api.github.com/repos/openstack/devstack/git/commits/a0126b642c6021310798762342139dc41614697b,a0126b642c6021310798762342139dc41614697b,"Use LVMVolumeDriver instead of LVMISCSIDriver

The Cinder LVMISCSIDriver is now deprecated. As a result, default
settings in devstack are giving warnings in the Cinder volume serivce.
The LVMVolumeDriver now handles all cases, by looking at the
iscsi_helper. This will use that driver instead, which will stop the
deprecation warnings.

Closes-bug: #1413761
Change-Id: Ifbb9ce45694095ff9e30f3ca4c3859a07de8df73"
stevemar,2015-01-20 18:30:33,https://api.github.com/repos/openstack/devstack/git/commits/bbe771a8d0682dbf85ecd18f9da071c40886fe7c,bbe771a8d0682dbf85ecd18f9da071c40886fe7c,"Add bash completion for OSC

use openstackclient to generate bash completion script, and move
the file to the right location.

Change-Id: I96f2230cbba030e235161165d3b173c7af5e28fe"
j-griffith,2015-01-21 20:46:59,https://api.github.com/repos/openstack/devstack/git/commits/0b9e76f280208b5b5ad54bb6fbc4133e63037286,0b9e76f280208b5b5ad54bb6fbc4133e63037286,"Auto add a cinder lvm.conf file

We have a number of issues where LVM scan commands hang during
test runs.  Looking closer at this with strace it turns out
that what seems to be happening is that we're scanning all of the
devices on the node, this includes the loop devices for swift and
other projects as well as the Cinder devices that are being attached
to the system during the test.

This is particularly messy for example when we issue a VG or LV scan
on a device like /dev/vdb and at the same time issue a detach.  The
result is LVM scan commands hanging waiting for timeout.

This patch adds a function to the cinder_backend/lvm module which
is called as the last part of cinder init.  If Cinder LVM is in use
as per cinder.conf this function will copy the default
/etc/lvm/lvm.conf to /etc/cinder/lvm.conf and use the cinder.conf file
and PVS to create filters so that ONLY the devices actually being used
by Cinder are included in scans.

There are two pieces to this fix; the first is to properly setup an
lvm.conf file with filters.  The second step is to merge the Cinder
change that modifies the Cinder LVM commands to specify the lvm.conf
file usage.

The Cinder part of this fix can be found here:
    https://review.openstack.org/#/c/148747/

Change-Id: I962b6e21cbfb6f5612b6c973053d86828ca8071a
Partial-Bug: #1373513"
hardys,2015-01-14 10:52:03,https://api.github.com/repos/openstack/devstack/git/commits/1f3f4b0a69a70bb5fce0707a517d67c896c3cf2c,1f3f4b0a69a70bb5fce0707a517d67c896c3cf2c,"Check dib is available before building heat test image

When running with HEAT_CREATE_TEST_IMAGE=True, it's necessary
to add dib to ENABLED_SERVICES, or the image building will fail
so check for is_service_enabled dib before we start and error
with a helpful message if it's not.

Change-Id: Ia7ee64f6f8dd628267e485a1dc67581d8896d19c"
berrange,2015-01-22 14:37:04,https://api.github.com/repos/openstack/devstack/git/commits/2d7c346f0c8cefe622edc8fed47cc2782aeb9a9b,2d7c346f0c8cefe622edc8fed47cc2782aeb9a9b,"Exit when printing error about database config

When finding no configured database, devstack prints
a suitable error in the logs

   ""No database enabled""

but then just carries on running, as a result the developer
is very unlikely to ever see the original error message.
Change the 'echo' to a 'die' so that it stop immediately
making the error message clearly visible.

Change-Id: Ibd86bfcb5d4a3b90a1ee7a5bd637b01124e3a6ba"
berrange,2015-01-22 14:09:00,https://api.github.com/repos/openstack/devstack/git/commits/c1dbf10562796c7006fd0a66c6cb39a1b990c8c1,c1dbf10562796c7006fd0a66c6cb39a1b990c8c1,"Exit after printing error about RPC config

When finding an invalid RPC configuration, devstack prints
a suitable error in the logs

    ERROR: only one rpc backend may be enabled,
           set only one of 'rabbit', 'qpid', 'zeromq'
           via ENABLED_SERVICES.

but then just carries on running, as a result the developer
is very unlikely to ever see the original error message.
Change the 'echo' to a 'die' so that it stop immediately
making the error message clearly visible.

Change-Id: If108f314e1ad2ecc79f41cbca47d08c4024a23cd"
dims,2015-01-22 12:57:37,https://api.github.com/repos/openstack/devstack/git/commits/f5b415425199c3496872849a3ada08e5a821b36b,f5b415425199c3496872849a3ada08e5a821b36b,"Switch on curl retry options for fetching get-pip.py

Let's retry a few times before giving up.

Related-Bug: #1413034

Change-Id: I7c5c1a3936b5c08c5de43edc569b5a53d11b55a7"
zyluo,2014-12-18 07:57:31,https://api.github.com/repos/openstack/devstack/git/commits/2548e6f290b90c790fd055bef03ee60d97a1eb26,2548e6f290b90c790fd055bef03ee60d97a1eb26,"Provider network subnets based on IP version

Subnets for both IP version 4 and 6 are created even if IP_VERSION is set to 4.
Added two if statements to only create subnets that are nessesary.

Change-Id: I87c97741808726a260c846db48c10931e8991a74"
cubeek,2015-01-21 15:08:12,https://api.github.com/repos/openstack/devstack/git/commits/e9a96ea8855574b157d336c51ff876d1c76ae620,e9a96ea8855574b157d336c51ff876d1c76ae620,"Use openstackclient>=1.0.2

After changing usage of ""openstack role"" [1] python-openstackclient
stoppped working with 1.0.1 and less. This patch bumps version to use at
least 1.0.2v.

[1] https://review.openstack.org/#/c/148361

Change-Id: I2fdca28ae97a215cff5e2a6dd7cab2d3321caa6c
Closes-bug: 1413252"
dtroyer,2014-12-09 23:47:57,https://api.github.com/repos/openstack/devstack/git/commits/dde41d0797f0b085099cd5c9ff1e0110d5ae3fbd,dde41d0797f0b085099cd5c9ff1e0110d5ae3fbd,"Deprecate SCREEN_LOGDIR in favor of LOGDIR

This is the first step in the log file cleanup.  If SCREEN_LOGDIR
is still set, symlinks will be created in the old screen log directory
so things like the devstack-gate log collector continues to work.

bp:logging-and-service-names
Change-Id: I3ac796e322a18dbd0b8b2310a08310ca159d7613"
mmedvede,2015-01-20 17:04:48,https://api.github.com/repos/openstack/devstack/git/commits/fc9cc96514bf582d644029f114441891a087d665,fc9cc96514bf582d644029f114441891a087d665,"Remove locals that were not inside functions

Using 'local' keyword outside a function is invalid.

Also uppercase the variables to adhere to the style.

Related: I02aba9ca82c117a1186dafc1d3c07aa04ecd1dde
Change-Id: I76d358f8ebf5145cd3c65f9a470c83d4af67fd32"
kevinbenton,2015-01-17 19:29:12,https://api.github.com/repos/openstack/devstack/git/commits/59d52f307b8fee53c29cda803ba3d1848ef91a8b,59d52f307b8fee53c29cda803ba3d1848ef91a8b,"Disable shallow cloning with GIT_DEPTH=0

The recent patch to enable shallow cloning added a method to skip
it by checking if GIT_DEPTH was null. However, this could never
be triggered because if the user specified it as null, the default
setting code would take over and set it to 1.

This patch allows the user to specify GIT_DEPTH=0 to skip the
shallow clone.

Change-Id: I00ea7ab54ed51dc3ede9ceb9ff0f11575a035d1c"
HackToday,2015-01-20 08:19:49,https://api.github.com/repos/openstack/devstack/git/commits/3566310ea8731547afd1ca18e1416a2d12dbc0c7,3566310ea8731547afd1ca18e1416a2d12dbc0c7,"Remove unneeded word

Change-Id: Ic3f7fb5bc992e1a8c5b9fc433572d7e39f81f08a"
stevemar,2015-01-19 21:11:44,https://api.github.com/repos/openstack/devstack/git/commits/789af5ccfa49e40eabe1454e9e2d31bd6c6f0ef8,789af5ccfa49e40eabe1454e9e2d31bd6c6f0ef8,"Update osc server create to have type as positional arg

In Keystone, for v2 and v3 service creation, there was a bug that
allowed a service to be created with no type, which made it useless.

See reference bug for details.

Change-Id: I5d095007fe2ebc8219dc012c5b16cb4c122179cd
Related-Bug: #1404073"
stevemar,2015-01-19 20:58:49,https://api.github.com/repos/openstack/devstack/git/commits/5541a618de890ec721c375506057eeb6cb7a5a63,5541a618de890ec721c375506057eeb6cb7a5a63,"Use `os role list` instead of `os user role list`

Since `os user role list` is being deprecated, we should start
migrating to `os role list`, which now has the required ability
to list a users role on a project as of v1.0.2 of osc.

Change-Id: I3fa8bf8f1feaac16e1cde5c55b1be00b92eaa5f6"
BobBall,2015-01-19 10:56:42,https://api.github.com/repos/openstack/devstack/git/commits/90333437337ff38c04e363cd3dbd7aa970ef21c4,90333437337ff38c04e363cd3dbd7aa970ef21c4,"Set password irrespective of mysql server version

Ubuntu recently upgraded from 5.1 to 5.5 so the previous debconf
settings no longer work.  Removing the version number should make
the settings work for all versions of mysql

Change-Id: I6b399a06232364d3ba3bf74430b663e0b8b922ed"
venkataanil,2015-01-15 07:38:22,https://api.github.com/repos/openstack/devstack/git/commits/9b1df576342e2151df4b6e8daec3ccb72abc238a,9b1df576342e2151df4b6e8daec3ccb72abc238a,"neutron should log user_name and project_name by default like in nova

neutron doesn't log user_name and project_name along side req-id in
devstack logs. So, Openstack jenkins neutron check and gate jobs also
not logging user_name and project_name along side req-id.
Without knowing the user and tenant, its hard to understand what the
logs are doing when multiple tenants are using the cloud.

Nova is logging user_name and project_name by default.
So porting the same changes to neutron.

Change-Id: I10eac2e4177a898e9bcc60c08f3bd39a2ec9f31b
Closes-Bug: #1399788"
dtroyer,2014-12-10 22:35:32,https://api.github.com/repos/openstack/devstack/git/commits/ad5cc986d86e9deff506c0451409f26fc8e86efe,ad5cc986d86e9deff506c0451409f26fc8e86efe,"Rename screen logfiles

This renames the log files in logs/screen that contain timestamps to put
the timestamp after '.log' and '.log.summary' in the names.  This will
simplify devstack-gate's search for log files to copy to '*.log'.

dstat.txt is also renamed to dstat.log

Make LOGDIR and LOGFILE local

bp:devstack-logging-and-service-names
Change-Id: I02aba9ca82c117a1186dafc1d3c07aa04ecd1dde"
BobBall,2015-01-16 13:06:58,https://api.github.com/repos/openstack/devstack/git/commits/1e3a5d2d6cfd298080a9596ae4efa5c450341b69,1e3a5d2d6cfd298080a9596ae4efa5c450341b69,"XenAPI: Use SCREEN_LOGDIR rather than assuming a static value

This value was defined in Citrix's install-devstack-xen script, so
only worked for those using that script.

Change-Id: Iab63389f41760865f2b67f6dccd57d774e889905"
BobBall,2015-01-15 12:48:26,https://api.github.com/repos/openstack/devstack/git/commits/0686dae6617407270e08b9313b9be3fa7a2592a0,0686dae6617407270e08b9313b9be3fa7a2592a0,"XenAPI: Fix another race condition

Fix it properly this time by forcing a PID from run.sh and using that to track.

A second issue is that upstart may run services twice, introduce a flock test
to ensure that we only run stack.sh once as running in parallel causes issues.

Change-Id: I05990c7154366350b0f9cc3e6c70d6f34238486f"
ryu25ish,2015-01-15 17:00:03,https://api.github.com/repos/openstack/devstack/git/commits/5bc957711ddefddc686af6a3be7ef8f984ee4779,5bc957711ddefddc686af6a3be7ef8f984ee4779,"Clone neutron_lbaas for midonet plugin

MidoNet plugin needs the 'neutron_lbaas' module available when it
starts up without needing to start the LBaaS service.  After the
advanced service split, however, devstack clones 'neutron_lbaas'
only when the 'lbaas' service is enabled.  To get around this
conflict, clone 'neutron_lbaas' everytime midonet is configured
as the Neutron plugin.

Change-Id: Ide620db383fc44a66a84d00b2365ec2e846469fe
Closes-Bug: 1402242"
zyluo,2014-12-16 02:56:54,https://api.github.com/repos/openstack/devstack/git/commits/37026f536663f6d915169b356db08ac5fe4831cb,37026f536663f6d915169b356db08ac5fe4831cb,"Avoid VM configuration with Ironic hardware mode.

If ""IRONIC_HARDWARE"" is True, VMs are not required when using Ironic.

Change-Id: I33ba294f1e2ea583cd4c24c392637a4ee60a39ab"
sdague,2014-12-05 00:38:15,https://api.github.com/repos/openstack/devstack/git/commits/537532931da4103e1a873684476dac6d7fe56489,537532931da4103e1a873684476dac6d7fe56489,"Make changes such that -o nounset runs

This makes a bunch of variable cleanups that will let -o nounset
function, for the time being we hide nounset behind another setting
variable so that it's not on by default.

Because this is bash, and things are only executed on demand, this
probably only works in the config it was run in. Expect cleaning up
all the paths to be something that takes quite a while.

This also includes a new set of unit tests around the trueorfalse
function, because my change in how it worked, didn't. Tests are good
m'kay.

Change-Id: I71a896623ea9e1f042a73dc0678ce85acf0dc87d"
stevemar,2014-12-18 06:35:35,https://api.github.com/repos/openstack/devstack/git/commits/b74e01c34de76cb451f80d2f1ac1c4ccac1bb7e4,b74e01c34de76cb451f80d2f1ac1c4ccac1bb7e4,"Add a group create function, and a sample group

Slowly trying to introduce more v3 concepts into a generic
devstack installation.

Work with description of none and description with spaces

Change-Id: I7d2fde58363698ff020f92f129f1ff7378f945a8"
sdague,2015-01-14 15:36:48,https://api.github.com/repos/openstack/devstack/git/commits/8f90f765faf269c3b1f9c04d80a1369223bc982c,8f90f765faf269c3b1f9c04d80a1369223bc982c,"clean mysql better

The purge that was previously removed was actually kind of important
to burning mysql back down to a stateless zero point. Bring this back
with the addition of doing it for mariadb as well.

Change-Id: If608db8731d9ddfb2440a37387409798619b163c"
zyluo,2014-12-16 03:36:49,https://api.github.com/repos/openstack/devstack/git/commits/56b7efbf93d8afbdd093934f183a7096ce798552,56b7efbf93d8afbdd093934f183a7096ce798552,"Gracefully add provider network port

Patch 5ec6f8f1 introduced the provider network support in DevStack. However, this patch
does not include a port clean up routine during ./unstack that openvswitch complains
that the PUBLIC_INTERFACE already exists and exits when you run DevStack multiple times.
Adding --may-exist to ovs add-port command solves this problem.

Change-Id: I89dc560ffb35fccf6ceed2557047adca37054ce7"
moshe010,2015-01-12 20:47:29,https://api.github.com/repos/openstack/devstack/git/commits/d97d2cb01767d670969449d7f11f8438c014933e,d97d2cb01767d670969449d7f11f8438c014933e,"fix mysql clean on ubuntu

Closes-Bug: 1409902
Change-Id: I72900eb2c7f3c6f66d829b10e9bb73b6d186da98"
afazekas,2015-01-13 13:01:26,https://api.github.com/repos/openstack/devstack/git/commits/057d6ae2255f8895baada8d00767ffa71c8615ac,057d6ae2255f8895baada8d00767ffa71c8615ac,"wget less verbose

wget is too verbose in devstack logs [1] on image download.

Changing the progress bar style to giga, in order
to be less verbose.

http://logs.openstack.org/73/146573/2/check/
check-tempest-dsvm-full-juno/41ba988/logs/devstacklog.txt.gz#_2015-01-13_11_34_15_330

Change-Id: Ic5304893f4c97c50e7a2f29ad5cd77dba3d5a9dd"
leseb,2014-12-04 15:22:41,https://api.github.com/repos/openstack/devstack/git/commits/4eb04a5f9e378fa67175056ab94b5803db2be875,4eb04a5f9e378fa67175056ab94b5803db2be875,"Ability to use a remote Ceph cluster

Sometimes we want to run some benchmarks on virtual machines that will be
backed by a Ceph cluster. The first idea that comes in our mind is to
use devstack to quickly get an OpenStack up and running but what about
the configuration of Devstack with this remote cluster?

Thanks to this commit it's now possible to use an already existing Ceph
cluster. In this case Devstack just needs two things:

* the location of the Ceph config file (by default devstack will look
for /etc/ceph/ceph.conf
* the admin key of the remote ceph cluster (by default devstack will
look for /etc/ceph/ceph.client.admin.keyring)

Devstack will then create the necessary pools, users, keys and will
connect the OpenStack environment as usual. During the unstack phase
every pools, users and keys will be deleted on the remote cluster while
local files and ceph-common package will be removed from the current
Devstack host.

To enable this mode simply add REMOTE_CEPH=True to your localrc file.

Change-Id: I1a4b6fd676d50b6a41a09e7beba9b11f8d1478f7
Signed-off-by: S√©bastien Han <sebastien.han@enovance.com>"
jogo,2015-01-13 03:36:43,https://api.github.com/repos/openstack/devstack/git/commits/06005723922dcecff9be67685345e02f8f173ca8,06005723922dcecff9be67685345e02f8f173ca8,"log dstat top io

We aren't always cpu bound, track top io usage as well.

Change-Id: I3c16b851ebab61ef96a6e3016237a294038561de"
booxter,2014-12-22 10:49:42,https://api.github.com/repos/openstack/devstack/git/commits/5893cc7c5f14ecf645a010b930577eaaa01a3eb8,5893cc7c5f14ecf645a010b930577eaaa01a3eb8,"neutron: use config files from neutron-*aas repos

Now that we split the neutron repository and have service configuration
files maintained in their own repos, start using them.

The old files are going to be cleaned up from the Neutron tree.

Change-Id: Iaeff0b9de88e9bcca87da1092cc888c4cc1bedfd"
marun,2015-01-09 13:35:18,https://api.github.com/repos/openstack/devstack/git/commits/5ecf46b581b70d2ef9139ad168c80f532e901abb,5ecf46b581b70d2ef9139ad168c80f532e901abb,"Add 'acl' package to neutron deps

The acl package has been added as a test-only dependency of neutron.
It is used by the functional job in configuring postgres.

Change-Id: Ie28da793237b51cced3bd0a9b35273d9c50472e8"
marun,2015-01-09 13:06:56,https://api.github.com/repos/openstack/devstack/git/commits/13519e8a5b8bb9141ecff09f5273d5c2896a8082,13519e8a5b8bb9141ecff09f5273d5c2896a8082,"Fix get_packages when $DISTRO is not set

Sourcing the tools/install-prereqs.sh script with TOP_DIR set results
in GetDistro being called in get_packages and echoing the result.
Since all output from get_packages is assumed to be package names,
this results in the attempted installation of the non-existant 'Found'
'Distro' and '[distro name]' packages.  This change removes the echo
statement to avoid this problem.

Change-Id: Idd05c31b9eec9e6209666fa16fa425cdf1f35aa2"
git-harry,2015-01-08 17:37:40,https://api.github.com/repos/openstack/devstack/git/commits/afc1423e70074762e5c8d74b7295b9e55f91a44c,afc1423e70074762e5c8d74b7295b9e55f91a44c,"Change default nova service name in cinder.conf

In cinder the config options nova_catalog_info and
nova_catalog_admin_info define values to be matched when searching for
the correct compute service in the catalog.

The commit 5ad15c040fdc115bca9efb1c952279988a2a48b3 in the cinder
project has changed these defaults.

This commit sets the options in cinder.conf to the values set by
devstack.

Change-Id: I2a0b09c34fac5f63a5cdbbe05761a0857f243465
Closes-Bug: #1408734"
shuichiro-makigaki,2015-01-04 08:53:12,https://api.github.com/repos/openstack/devstack/git/commits/b968b0c36b09b8b5df860d5334e175ec75a838f6,b968b0c36b09b8b5df860d5334e175ec75a838f6,"Fix comments to use 'local.conf' instead of 'localrc'

Instead of 'localrc', 'local.conf' should be used.
Example codes to enable neutron also should follow local.conf syntax.

Change-Id: I4f4c03fdbf0f612e5b518177b29669fb202d9f7a
Closes-Bug: #1407391"
li-ma,2014-12-22 07:41:07,https://api.github.com/repos/openstack/devstack/git/commits/26ac3d7ebbc739a2a5378716aebaa68c6ab9c84d,26ac3d7ebbc739a2a5378716aebaa68c6ab9c84d,"Fix service start sequence

1. zmq-receiver should be started in advance
2. when using zeromq driver, nova-compute relies
on nova-conductor's rpc to be initialized

This fix is totally safe and won't influence
on other services.

Change-Id: I9d7b682df4d411af24a1ff6bcad79697e32fa723
Partially-Implements: blueprint zeromq"
li-ma,2014-12-22 07:36:43,https://api.github.com/repos/openstack/devstack/git/commits/d3ca1418c4f048be58080bd51c9497abe33d49b9,d3ca1418c4f048be58080bd51c9497abe33d49b9,"Fix matchmaker-redis dependencies for zeromq driver

Add an option 'ZEROMQ_MATCHMAKER' to indicate which
matchmaker driver to use.

When it indicates 'redis', the dependencies will be
installed.

Change-Id: I910b48347bad0685ea10083a3b0b243524f32095
Partially-Implements: blueprint zeromq"
gandelman-a,2015-01-06 20:18:03,https://api.github.com/repos/openstack/devstack/git/commits/f303d7ed0b2061b49eb9390c7b8f2a18de7bc8dd,f303d7ed0b2061b49eb9390c7b8f2a18de7bc8dd,"Allow specification of ironic callback timeout

We need to be able to adjust Ironic's timeout for a node's deployment
callback.  The default is much longer than Tempest's server build
timeout, causing Ironic deployment issues to be masked by more generic
server timeouts in the tempest logs.  Being able to set this to be
lower than the nova timeout, we'll have Ironic errors that we can
fingerprint.

Change-Id: I7b8eeda504da7ffd64967bbcfa2625acf418f263
Related-bug: #1408067"
asalkeld,2015-01-07 07:52:05,https://api.github.com/repos/openstack/devstack/git/commits/826e4509363ff6415a257ce1ff9ea13af390d47d,826e4509363ff6415a257ce1ff9ea13af390d47d,"Add support for enabling heat adopt and abandon

This is by default disabled, but we need to enable
it to test it in the gate.

Change-Id: I2339ebcaf4bd6308041675bcd35c0b70206e2e5e"
sdague,2014-12-18 14:44:56,https://api.github.com/repos/openstack/devstack/git/commits/2c65e71ab85a6271818048f79541e9b269566df5,2c65e71ab85a6271818048f79541e9b269566df5,"Implement devstack external plugins

This is an initial pass at plugin infrastructure for devstack which
allows specifying an external repository via:

enable_plugin <name> <giturl> [branch]

It implements the devstack specification for this at
I173dee3d57967b1d2ffd30e4868a2832aeac97ce

Change-Id: I8e4175313b3cf0b12e981122358b1288a7eb0746"
kashyapc,2015-01-02 17:39:29,https://api.github.com/repos/openstack/devstack/git/commits/7c9df1017cb249afd329e915aab8a04b04940bc2,7c9df1017cb249afd329e915aab8a04b04940bc2,"Remove Fedora 19 as supported distribution

Fedora 19 will reach its end of life on 6-JAN-2015

  https://lists.fedoraproject.org/pipermail/announce/2014-December/003243.html

Remove it as a supported distribution and add Fedora 21

  - stack.sh: Remove Fedora 19 from list of 'supported' distributions.
  - tools/fixup_stuff.sh: Remove Fedora 19. Also remove the workaround
    of disabling firewalld for Fedora 21.

Change-Id: If92b87d2f9a2bb95469730cda201a7981670f727"
nelsnelson,2015-01-05 22:36:42,https://api.github.com/repos/openstack/devstack/git/commits/7b47c47308a601839008413d20acacf2c52e3f45,7b47c47308a601839008413d20acacf2c52e3f45,"Customizing tempest configuration for libvirt-lxc

In order to support the continued testing of the libvirt driver
with lxc virtualization, certain compute features must be disabled
including rescue, resize, and suspend.

Change-Id: I52150fef11ba6e3ab2fd0acacaa3c64413c0c0d1"
dougwig,2014-12-15 18:23:20,https://api.github.com/repos/openstack/devstack/git/commits/f9512d6459599e947cd393cfd711798e95f513aa,f9512d6459599e947cd393cfd711798e95f513aa,"Initialize neutron service db with neutron

Partially-Implements: blueprint services-split
Change-Id: I407a4bb3c60ab6a491669b4ddd16aee1239808f1"
booxter,2014-10-06 11:29:39,https://api.github.com/repos/openstack/devstack/git/commits/157c84b8766ae67f6868f26505ce9a5d7291730b,157c84b8766ae67f6868f26505ce9a5d7291730b,"Enforce UTF-8 encoding when creating databases

We use InnoDB everywhere, so there should be no issues with long unicode
keys. Dropped charset parameter for recreate_database since it's not
needed anymore.

Change-Id: Ib768402a9337c918309030a92ab81da17269f4f6"
hichihara,2014-09-25 11:00:29,https://api.github.com/repos/openstack/devstack/git/commits/cc5715531b46f558faffefe4fe6e77d48af2368b,cc5715531b46f558faffefe4fe6e77d48af2368b,"Fix configure to metadata_agent.ini

Devstack set auth_uri to metadata_agent.ini in _neutron_setup_keystone function.
But Metadata_agent use auth_url not auth_uri.

This is regression caused by https://review.openstack.org/#/c/122882/

Change-Id: Iac8f240558abcdc5bcee3d3c87cef5ad3bb007e8
Closes-bug: #1373859"
sdake,2014-12-31 21:27:22,https://api.github.com/repos/openstack/devstack/git/commits/3a6b128f3af8068362bdd78a0d264aa54672328e,3a6b128f3af8068362bdd78a0d264aa54672328e,"Improve firewall recommendations for Neutron documentation

The documention does not mention that either ufw or firewalld should be
disabled to operate a devstack+Neutron environment.  This change adds a
description of fault symptoms as well as a simple workaround.

Change-Id: Ie0ec614dfa56febbf6588836d2e1fc057aa8830f"
skraynev,2014-12-16 09:25:11,https://api.github.com/repos/openstack/devstack/git/commits/a38bc5b3c2b97230896948073401153b0c3d157f,a38bc5b3c2b97230896948073401153b0c3d157f,"Adding installation Heat package after cloning

There are two important reasons for this change:
 - Other OpenStack components contain this code already.
 - Heat store references on client/constraint/version plugins in
   setup.cfg and and stevedore uses these references, so we should
   install Heat after changing this part of code. As example look patch
   https://review.openstack.org/#/c/86978/ for grenade job, where
   heat-engine can not find two constrainsts due to changing their code
   place between releases.

Change-Id: Ic6b1f70ec2d2c06002eb6877a747b7b84213c710
Closes-Bug: #1402985"
LiuZhiyan,2014-12-30 06:37:02,https://api.github.com/repos/openstack/devstack/git/commits/0f52d93d6ddc0716f78fa2cd18ec16422fd367f6,0f52d93d6ddc0716f78fa2cd18ec16422fd367f6,"Setup notification properly for Zaqar

As we integrated OSprofiler with Zaqar by change
I32565de6c447cd5e95a0ef54a9fbd4e571c2d820 , then service
zaqar-server requires using notification API sends profiling
data to ceilometer, so zaqar needs relevant options to make
it work.

Change-Id: Ib09b241f60dd9961e9366f69cf7fbe8388179f96
Signed-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>"
gongysh2004,2014-12-24 01:21:01,https://api.github.com/repos/openstack/devstack/git/commits/1eb4c6a3753fad0166359fff417f63f028ab871d,1eb4c6a3753fad0166359fff417f63f028ab871d,"remove brackets around boolean condition expression

Change-Id: Ia550d4603d9520ddea84a144e5e042903456d96d
Closes-Bug: 1405319"
Haomeng,2014-12-28 03:15:14,https://api.github.com/repos/openstack/devstack/git/commits/7b5c4e6797b8e7344f42728ef5cd2208cdc8717d,7b5c4e6797b8e7344f42728ef5cd2208cdc8717d,"ironic scripts should support $Q_USE_NAMESPACE

add logic for ironic to support $Q_USE_NAMESPACE, if it is false,
will not call 'ip netns' with network namespace

Change-Id: Idc4dfb49ee478486476973a41b420b9b7e11a4e0"
gandelman-a,2014-12-27 22:01:00,https://api.github.com/repos/openstack/devstack/git/commits/130efefe6c8e8750504152742bd82961f18c8a02,130efefe6c8e8750504152742bd82961f18c8a02,"Call sudo /w -H in install_pip.sh as well

We updated other usage of sudo to pass -H when installing pip things,
to avoid creating a .cache directory in $STACK_USER's $HOME that is
owned by root. get-pip.py also ends up creating a ~/.cache, so we
need to update sudo usage there as well.

Closes-bug: #1405626
Related-bug: #1405732

Change-Id: If791b9b25d6a4280dab19117004184e57e78d038"
emonty,2014-12-26 15:53:21,https://api.github.com/repos/openstack/devstack/git/commits/18a81a20581e7e53fa69d91b6b77f739b1e960b2,18a81a20581e7e53fa69d91b6b77f739b1e960b2,"Stop installing setuptools from distros

We go through a bunch of trouble to install setuptools via pip. Having
it in the distro install too is confusing.

Change-Id: I6875fe2a1ee6b7d296f7f44b4b1601794b136440"
cboylan,2014-12-24 00:56:15,https://api.github.com/repos/openstack/devstack/git/commits/013f52b01508f20c34209a30d76c1843764f88ca,013f52b01508f20c34209a30d76c1843764f88ca,"Always install latest pbr

When not installing pbr from source always install the latest version of
pbr. It turns out that python-pbr is a system package that satisfies
many of our requirements files pbr requirements but breaks under
setuptools 8.0. Fix this by passing the -U flag to pip when installing
pbr so that we install the latest version of pbr always.

Note that we likely need to make this more generic to avoid other system
package leakage when installing packages not from source.

We should also probably bump our pbr requirements across the board to
reflect the new setuptools 8.0 world needs.

Change-Id: I23dd21cea37d26f879aa8d864ee7d371e70221ea
Fixes-bug: 1405318"
ityaptin,2014-12-23 10:53:43,https://api.github.com/repos/openstack/devstack/git/commits/fe5164aeef1c3fab581272201e4e21f8821e8784,fe5164aeef1c3fab581272201e4e21f8821e8784,"Fix redis service restarting for Ceilometer

In Ubuntu redis service is named as redis-server. So in this
patchset different restarting for this service at different
OSes have been added.

Change-Id: I406e3556c7b9a2bef8277f34862375c5ffd3888e
Closes-bug: #1405147"
fungi,2014-12-22 17:17:51,https://api.github.com/repos/openstack/devstack/git/commits/6ec66bb3d1354062ec70be972dba990e886084d5,6ec66bb3d1354062ec70be972dba990e886084d5,"Install prettytable>=0.7 to satisfy pip 6/PEP 440

Also use sudo -H with pip so that it doesn't create a ~stack/.cache
other things can't write to as the stack user later.

Change-Id: I2134c7d8f58f8b83f33150c9ed86d87f8ccba2f3"
li-ma,2014-12-21 08:46:34,https://api.github.com/repos/openstack/devstack/git/commits/ce1524d0843894b099c4abd20a64f92acad50c55,ce1524d0843894b099c4abd20a64f92acad50c55,"Fix proper oslo.messaging object for zeromq driver

Currently, as almost all the rpc driver of projects
have been switched to oslo.messaging, the object should
be imported via oslo.messaging rather than its own rpc lib.

Change-Id: I9633446e78cb5af21f61a26f6fb365a8ed57a85f
Partially-Implements: blueprint zeromq
Closes-Bug: #1395721"
guikcd,2014-12-20 16:09:05,https://api.github.com/repos/openstack/devstack/git/commits/95d1a43f1feef36ee50b0f53a6da258a4a646244,95d1a43f1feef36ee50b0f53a6da258a4a646244,"uuidgen binary is needed by lib/{neutron,ceph}

When using unstack.sh script on Debian Wheezy, i saw a failing call on
uuidgen binary:

    $ ./unstack.sh
    /home/stack/devstack/lib/neutron: line 83: uuidgen: command not found
    Site keystone disabled.
    [...]

Change-Id: I47e158abce9d090eb839c6e97d9191dc99ccfe55"
patelsa,2014-12-19 12:09:05,https://api.github.com/repos/openstack/devstack/git/commits/933827cccea4d0866ecac9513a5f3ebeb90749ff,933827cccea4d0866ecac9513a5f3ebeb90749ff,"Fix typo errors in devstack documentation

This submission fixes typo errors in following files
  1. contributing.rst
  2. exerciserc.rst
  3. faq.rst
  4. local.conf.rst
  5. openrc.rst

Change-Id: I2b2d61673c3c95f60c56978b5a81016603fef252"
fungi,2014-12-18 23:14:54,https://api.github.com/repos/openstack/devstack/git/commits/9d0d3fb46824d3f9056acf18ad218b22b31b64af,9d0d3fb46824d3f9056acf18ad218b22b31b64af,"Revert ""Revert ""Revert ""Pin version of setuptools""""""

This reverts commit 2191f838a718049b3ba3be42f3aef8a970ff4278.

Approve once Setuptools 8 is silencing runtime warnings by default,
e.g. via https://github.com/jaraco/setuptools/pull/23 or a similar
patch.

Change-Id: I3c97a4d7810870c9ac058350b362930ce2af713b"
dtroyer,2014-12-18 23:11:07,https://api.github.com/repos/openstack/devstack/git/commits/305c4debde80a79676848c108cb42c0a12ce7405,305c4debde80a79676848c108cb42c0a12ce7405,"Fix wsgi dir cleanup in Keystone

Change-Id: I8350d2de8602472e5a7d80b490d2c24f43865e19"
fungi,2014-12-18 22:13:13,https://api.github.com/repos/openstack/devstack/git/commits/2191f838a718049b3ba3be42f3aef8a970ff4278,2191f838a718049b3ba3be42f3aef8a970ff4278,"Revert ""Revert ""Pin version of setuptools""""

This reverts commit b7ebc4765a327e97837f2f6696682859eb77a93d.

We weren't quite ready yet... :/

Change-Id: Idccc4b79a700ca34a80f590e942e1647cdfdefb0"
fungi,2014-12-18 17:27:22,https://api.github.com/repos/openstack/devstack/git/commits/35b5283a8f365f12996af1209448ccd816276e1f,35b5283a8f365f12996af1209448ccd816276e1f,"Comment option to enable Setuptools warnings

Change-Id: I9fc247ab343c2cea0a8a5b7a3823b5525d6c311f"
fungi,2014-12-17 03:32:42,https://api.github.com/repos/openstack/devstack/git/commits/b7ebc4765a327e97837f2f6696682859eb77a93d,b7ebc4765a327e97837f2f6696682859eb77a93d,"Revert ""Pin version of setuptools""

This reverts commit 3b782d304ec2073a6406c37b9e1a76c8aecfc9a3.

The blockers for setuptools 8 compatibility should all be resolved
now.

Change-Id: I6d2d63746f98f0f885816395f36022a2706fb9c5"
emonty,2014-12-17 16:48:59,https://api.github.com/repos/openstack/devstack/git/commits/684e9e9ce2bfbe21571b7ba61aa9b91ea49892fa,684e9e9ce2bfbe21571b7ba61aa9b91ea49892fa,"Don't install sphinx from distro

We don't generate docs in devstack. But also, sphinx depends on babel
which has a hard depend that breaks with setuptools 8. However, pip
installed babel/sphinx should not have this problem.

Change-Id: I84a82e56f6540724d50c6201a68c480ba7645add"
jogo,2014-12-16 21:32:41,https://api.github.com/repos/openstack/devstack/git/commits/f6287c2adb4722b5688da9a4ac61dc6eda4a1372,f6287c2adb4722b5688da9a4ac61dc6eda4a1372,"Fix rabbit_userid for multi node devstack

I43a231c9611b4cc2e390b603aa3bfb49c915bdc5 introduced a new setting
RABBIT_USERID but only set it if rabbit is enabled. In multi node
devstack the second node uses RABBIT_USERID but the service rabbit isn't
enabled on it.

Always set RABBIT_USERID, if a different message queue is used the
variable will just be ignored.

Change-Id: I8568bddda2a5c66235ecae23af58983ee94c720a"
mestery,2014-12-16 16:50:46,https://api.github.com/repos/openstack/devstack/git/commits/5c66ff6f20e8fd9a439d9c0edabd3e88423e0ac0,5c66ff6f20e8fd9a439d9c0edabd3e88423e0ac0,"Update the default ODL to Helium SR1.1

Per a nasty security vulnerability, OpenDaylight has released a security
update for Helium, SR1.1. You can read more about this here [1].

[1] https://lists.opendaylight.org/pipermail/discuss/2014-December/004135.html

Change-Id: I8b9f436b5bf7cabd2d32aaf7388f3f82f9617c3e"
jogo,2014-12-16 05:11:20,https://api.github.com/repos/openstack/devstack/git/commits/981ed299abe07b2b3e6d8df695a6b045804a5716,981ed299abe07b2b3e6d8df695a6b045804a5716,"Fix TRACKING_DEPENDS mode

TRACKING_DEPENDS mode was added in I89677fd54635e82b10ab674ddeb9ffb3f1a755f0

TRACKING_DEPENDS creates a global virtualenv and assumes it exists for
all pip_installs (except for installing virtualenv), so we need to set
this up before any other pip install

Change-Id: Iebe6295913094b32124295e7c5e674e1cebaaa87"
stevemar,2014-12-16 01:55:54,https://api.github.com/repos/openstack/devstack/git/commits/b57f636ec8fc648917c05c80469473d4f1deb14e,b57f636ec8fc648917c05c80469473d4f1deb14e,"Add WSGIPassAuthorization to the admin port too

Accidentally only added WSGIPassAuthorization to the public port,
like all the other WSGI props, it should be added for both ports.

Change-Id: I4e52e0881df464dfb7b28e22581f462e14e37bdb"
zhangjinnan,2014-12-15 00:19:53,https://api.github.com/repos/openstack/devstack/git/commits/fc99426a907473de3fc392c19eded30b88e8f46f,fc99426a907473de3fc392c19eded30b88e8f46f,"Install Juno RDO repos for RHEL7

RHEL7 does not include Open vSwitch in the default repos, but it
is available via the RDO repo.  This patch automatically
configures the RDO repo for RHEL7.

Move this into the existing rhel6/rhel7 section.  We update RHEl6 to
the latest icehouse release, but it is not supported with Juno

Closes-Bug: #1402390
Change-Id: I4707cf68e39d9e900ec6c01331d7e124c8c4f6c4"
ianw,2014-12-15 22:53:36,https://api.github.com/repos/openstack/devstack/git/commits/64b56a53d8f5136c6902ce0fa948317f171a664d,64b56a53d8f5136c6902ce0fa948317f171a664d,"Fix rabbitmq retry for error checking

I think this retry check has been broken since we introduced ""set -e"".
Unfortunately it seems the issue of rabbitmq not starting first-time
persists on centos 7 hosts occasionally, e.g. [1]:

---
 + rabbit_setuser stackrabbit secretrabbit
 + local user=stackrabbit pass=secretrabbit found= out=
 ++ sudo rabbitmqctl list_users
 Error: unable to connect to node 'rabbit@devstack-centos7-rax-iad-100675': nodedown

 DIAGNOSTICS
 ===========

 nodes in question: ['rabbit@devstack-centos7-rax-iad-100675']

 hosts, their running nodes and ports:
 - devstack-centos7-rax-iad-100675: [{rabbitmqctl29293,39511}]

 current node details:
 - node name: 'rabbitmqctl29293@devstack-centos7-rax-iad-100675'
 - home dir: /var/lib/rabbitmq
 - cookie hash: KieJnx1pnllKbHVihGcDqA==
---

Fix up this retry while we investigate [2]

[1] http://logs.openstack.org/64/141864/1/check//check-tempest-dsvm-centos7/4308f0c/logs/devstacklog.txt.gz
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1144100

Change-Id: I11fb3728e08adc1e0f7acca63e5a308d24dce78e"
sdague,2014-12-15 21:32:43,https://api.github.com/repos/openstack/devstack/git/commits/ef844fd08da208947c8e5d8e74e598d7cf7072af,ef844fd08da208947c8e5d8e74e598d7cf7072af,"remove $KEYSTONE_TOKEN_HASH_ALGORITHM

Now that Keystone is back to UUID token defaults the use case for this
in devstack is extremely dubious, and it can be set through via
local.conf if anyone *really* cares.

Part of bp:devstack-nounset

Change-Id: I644b5b1579952959d253758b2a12b97d8a704657"
alexpilotti,2014-12-15 18:02:08,https://api.github.com/repos/openstack/devstack/git/commits/f3e75bf979bac5330034d350c416c61df7d8feb4,f3e75bf979bac5330034d350c416c61df7d8feb4,"Fixes Heat tempest issue due to hardcoded qcow2 extension

The orchestration image_ref is set incorrectly if the extension is not
qcow2, as a result tempest cannot find the Glance image and the
associated tests fail.

This patch fixes the issue by handling any extension.

Change-Id: I32ffe021714590a1b1bab232b1d4f5da238bd4d8
Closes-Bug: #1402774"
sdague,2014-12-15 19:57:15,https://api.github.com/repos/openstack/devstack/git/commits/1cbb5d3f0c3200ce0446de59a8b9b3af1b8db483,1cbb5d3f0c3200ce0446de59a8b9b3af1b8db483,"Clean database ubuntu/RHEL/SUSE use uninstall_package and clean /var/lib/mysql

Change-Id: I72c9df06903e536320a807fae8b817379e448444
Related-Bug: #1395776"
dougwig,2014-12-13 18:56:16,https://api.github.com/repos/openstack/devstack/git/commits/1f65fd64ce2f4ed32a706f9bcb28c2ee0cf51e5b,1f65fd64ce2f4ed32a706f9bcb28c2ee0cf51e5b,"Clear multi-line sections before adding lines

With multiline support for local.conf, the first line is created with
iniset, which will set *all* previous lines to the same thing, and then
subsequent lines will be added. Modify the multiline support to first
clear existing lines from the section.

This causes fatal errors with neutron.conf, which defines drivers with a bunch
of service_provider= options, and the current code ends up with the first
driver defined in local.conf being present twice.

Change-Id: If132a94e53545d9134859aa508da7b9819ede2f8"
stevemar,2014-12-14 04:34:15,https://api.github.com/repos/openstack/devstack/git/commits/dc31f76a27a909d010408428d938121b3abd3101,dc31f76a27a909d010408428d938121b3abd3101,"Add WSGIPassAuthorization to the keystone apache template

For the OS-OAUTH1 Keystone extension to fully work under Apache,
the WSGIPassAuthorization parameter must be set to On, rather
than the default of Off. This will make functional testing of
this extension much easier.

Change-Id: I5dcbdd27e7ef7a60fe3c7cb8b9c3c83b4197dfc1"
ruhe,2014-12-13 20:18:31,https://api.github.com/repos/openstack/devstack/git/commits/3b782d304ec2073a6406c37b9e1a76c8aecfc9a3,3b782d304ec2073a6406c37b9e1a76c8aecfc9a3,"Pin version of setuptools

Latest release of setuptool 8.0 made several versions used in
requirements.txt of OpenStack projects invalid. Instances:
* SQLAlchemy>=0.8.4,<=0.8.99,>=0.9.7,<=0.9.99 in oslo.db 1.2.0
* python-neutronclient 2.3.9.40.g9ed73c0 in openstackclient

Cap '<8.0' is set as a temporary fix until a better solution
comes up.

Change-Id: I4cfe2e4c86474ec9bf69a3c2007c0277288ea2b6"
gandelman-a,2014-12-11 22:53:17,https://api.github.com/repos/openstack/devstack/git/commits/d4a6e355cab59f61c269139092e261aa105f52dc,d4a6e355cab59f61c269139092e261aa105f52dc,"Enroll Ironic nodes /w IRONIC_KEY_FILE

Do not compose a full path to the ironic ssh keyfile.  Instead,
use IRONIC_KEY_FILE which will be set to the full path to the key.
This is required when IRONIC_KEY_FILE is user-specified, otherwise
we're still enrolling nodes with the default path that is only
used when generating a key.

Change-Id: Icf1ba97becc3e800caf9329a16b79cf106ac3c9a"
BobBall,2014-12-10 10:33:53,https://api.github.com/repos/openstack/devstack/git/commits/be485221b321ebb418f3f5dd8d86e164797f07de,be485221b321ebb418f3f5dd8d86e164797f07de,"XenAPI: Simplify installed packages

Remove duplicate packages.
pip is handled by devstack, so don't try and install it here.

Change-Id: I6f22e0f86ae071d30bf69de9ed5dec6b28ebc92b"
zyluo,2014-12-12 07:41:17,https://api.github.com/repos/openstack/devstack/git/commits/31f70b4016b9f65325d1f7d2d7fc594b4dc98c12,31f70b4016b9f65325d1f7d2d7fc594b4dc98c12,"Delete is_ironic function

This function is not used in DevStack anymore.

Change-Id: I4a4430e451094d638704a2da1eb2de7f22f25b84"
steveb,2014-12-12 00:52:59,https://api.github.com/repos/openstack/devstack/git/commits/6d012cf16f8d0f4f0a2fae4f5215fadf9884f7fc,6d012cf16f8d0f4f0a2fae4f5215fadf9884f7fc,"Revert ""Update used Fedora images to version 21""

This breaks check-heat-dsvm-functional-mysql which assumes the previous glance image name.

This reverts commit 21dbe993348b794a1b77c4f9db0081d1cc32138c.

Change-Id: I77749f3f9f1a64719447ddd25ee95bc6d3afa5b3"
gandelman-a,2014-12-09 22:44:24,https://api.github.com/repos/openstack/devstack/git/commits/0c99e2f65b6e86236c0d29928c110628f1e32f3d,0c99e2f65b6e86236c0d29928c110628f1e32f3d,"Poll resource tracker for ironic cpus as well as count

When ironic nodes are enrolled, their resources are not available
to the nova scheduler until after a round of ironic and nova periodic
tasks have run  In addition to waiting for ironic nodes to show up in
the resource tracker, also wait for associated CPU resources.  In
the worst case, this means waiting for 3 total rounds of periodic
tasks.

Change-Id: Idbbc43bf74ff5fff3d50f3494148454bb51e378f
Closes-bug: #1398128"
berendt,2014-12-09 20:01:40,https://api.github.com/repos/openstack/devstack/git/commits/21dbe993348b794a1b77c4f9db0081d1cc32138c,21dbe993348b794a1b77c4f9db0081d1cc32138c,"Update used Fedora images to version 21

Change-Id: I26a3d7d0842f9d4c5fc33350992a19f597f39b2e"
dtroyer,2014-11-07 13:44:25,https://api.github.com/repos/openstack/devstack/git/commits/2bfb9af0c952f59287be4ce684b78cfb710a6105,2bfb9af0c952f59287be4ce684b78cfb710a6105,"Remove NoVNC from the default enabled services

Preparing to remove all non-stackforge git repos

Change-Id: I91f628f09fcdfd1aefbc40c9e26be0509eee484d"
berrange,2014-12-09 15:21:22,https://api.github.com/repos/openstack/devstack/git/commits/63d25d978ba0a0cdb1b689cafcebdaae7d609e06,63d25d978ba0a0cdb1b689cafcebdaae7d609e06,"Allow use of dnf instead of yum on Fedora

Since Fedora 20 it has been possible to use 'dnf' as a drop-in
replacement for 'yum', and it is targetted to become the default
in Fedora 22

   http://fedoraproject.org/wiki/Changes/ReplaceYumWithDNF

There are many benefits of 'dnf' over 'yum' but the biggest
from the POV of an openstack developer is its speed.

Assuming an existing running devstack install ie all required
RPMs already installed on the system. Now look at how long it
takes to run stack.sh, during which yum does not have to
actually install anything

 # ./unstack.sh
 # time ./stack.sh
 real 11m12.193s
 user 10m17.129s
 sys  0m15.275s

Now, with 'export YUM=dnf' set in local.conf, run the same
test again

 # ./unstack.sh
 # time ./stack.sh
 real 0m48.610s
 user 0m28.939s
 sys  0m7.801s

So, this is showing that devstack is wasting 10 minutes just
for yum to figure out that everything is already installed.
The overhead of yum vs dnf is even worse when yum has to
acutally depsolve to install new packages.

Change-Id: Ia01a5f330a47b32207586902a861bedfc8a0f6e2"
neosab,2014-12-09 23:54:40,https://api.github.com/repos/openstack/devstack/git/commits/342ac4b77429aa0ccf0bfbd864d91477cfb656c0,342ac4b77429aa0ccf0bfbd864d91477cfb656c0,"Use latest version of python-openstackclient

Some options in openstack client like --or-show are available only
from 1.0.0. Adding this 'requirement' explictly as openstackclient
is not as part of requirements of other projects.

Change-Id: I96a98331ece15da869a3ea7af80d16fab2351329"
sdague,2014-12-05 19:25:28,https://api.github.com/repos/openstack/devstack/git/commits/e263c82e48a431e502bd6baceb6dfcfdc1750cbb,e263c82e48a431e502bd6baceb6dfcfdc1750cbb,"add shebang lines to all lib files

With gerrit 2.8, and the new change screen, this will trigger syntax
highlighting in gerrit. Thus making reviewing code a lot nicer.

Change-Id: Id238748417ffab53e02d59413dba66f61e724383"
j-griffith,2014-12-10 04:48:58,https://api.github.com/repos/openstack/devstack/git/commits/19d22bd19a1802cae3eab2c194cb7c0dd7d3c47c,19d22bd19a1802cae3eab2c194cb7c0dd7d3c47c,"Change Cinder Cert script to run all Volume tests

The Cinder Cert script currently only runs the Tempest
tests tagged with volume.api, should be all Volume tests
to make sure we get things like attach and other commands
fully tested.

Change-Id: Ic15d2ad6d3616bfde4838873d0c79664b009ef1f"
sc68cal,2014-12-09 18:36:53,https://api.github.com/repos/openstack/devstack/git/commits/fc094655080955f7bfcb628b544d131145830b67,fc094655080955f7bfcb628b544d131145830b67,"Generate an IPv6 address when PUBLIC_BRIDGE does not have one

Closes-Bug: #1400823
Change-Id: Ic79fd003aea2af7b258397ec2cdfd70c8568743c"
BobBall,2014-12-09 17:37:03,https://api.github.com/repos/openstack/devstack/git/commits/f3b49e23b04878a2a4d37bbb1884c677b6b56c2a,f3b49e23b04878a2a4d37bbb1884c677b6b56c2a,"XenAPI: Add another plugin directory

Buildroot on 64-bit systems may use /usr/lib64 to store the XAPI plugins
Add this as an option to search for.

The list is getting of acceptable paths is getting longer but some work is going
on in XAPI to allow us to query for this path, which will mean we can get
rid of this list in future.

Change-Id: I79aafb6a86032c7ab04937c9e9bec08661ecdefa"
salv-orlando,2014-10-04 23:36:34,https://api.github.com/repos/openstack/devstack/git/commits/33e8ee20a4ad087f5538e813eace1ca23243e2c5,33e8ee20a4ad087f5538e813eace1ca23243e2c5,"Tempest: configure exact set of extensions to test

So far devstack configures tempest either for testing all extensions
or a specific subset. It does not allow users for specifying a set
of extensions which should not be exercised.

This patch adds this support. To this aim, the tempest configuration
process will scan API endpoints for active extensions using the
verify_tempest_config.py tool, and then will remove those extensions
which have been explicitly disabled by the user.

If an explicit subset of extensions to enable is passed to devstack,
tempest will use this subset, rather than the list of active
extensions.

Implements blueprint branchless-tempest-extensions

Change-Id: I263bcf04668953f414a4ef18cb98c1c373e142ad"
jd,2014-12-09 14:41:55,https://api.github.com/repos/openstack/devstack/git/commits/c187b88e698a203a222b38cbf3a045b520918042,c187b88e698a203a222b38cbf3a045b520918042,"Add tooz support from Oslo

Change-Id: I4ccf4bf08e10c0ba651f973aa62562af85ea0f19"
mestery,2014-12-08 17:35:15,https://api.github.com/repos/openstack/devstack/git/commits/6accb136d3219af588d26a904f8a1f748d5e8818,6accb136d3219af588d26a904f8a1f748d5e8818,"Fix fwaas service plugin location

This was missed during the services split.

Change-Id: I8b51ca2c6ef734bf2747cec48a2f751eb682afe5"
mestery,2014-12-08 06:17:27,https://api.github.com/repos/openstack/devstack/git/commits/20b839fd51ff0ccecbc67f3d29578ce042c8b3c3,20b839fd51ff0ccecbc67f3d29578ce042c8b3c3,"Update devstack to work with new split neutron services repos

This commit udpates devstack to work with the latest neutron services, which
are now in their own repositories. This will also unblock third party CI for
services testing. This also allows devstack users to run neutron with
services again.

Change-Id: I9cdd51f09edaccf218988240b48ce733d5771a65"
stevemar,2014-11-14 07:17:22,https://api.github.com/repos/openstack/devstack/git/commits/245daa27da40cb94410c7a8f8f19961c21821231,245daa27da40cb94410c7a8f8f19961c21821231,"Use --or-show for get_or_create_user/project/role function

Exploit the --or-show functionality of openstackclient,
rather than issuing two different commands at the shell level,
let the CLI handle things.

Change-Id: I1db239fd3473eb580def1c5fb28ce472a1363569"
gandelman-a,2014-12-06 00:49:12,https://api.github.com/repos/openstack/devstack/git/commits/0354640587cde740aa0299c722f019ae1c01e05d,0354640587cde740aa0299c722f019ae1c01e05d,"Move ironic ssh key creation early in preparation

SSH creds should be in place before nodes are enrolled.  If not,
ironic cannot sync power state causing nova to skip nodes in
its resource tracker.

Change-Id: I6b98ae57ce33783f69e2cf9ba357807d384b3012
Closes-bug: #1398128"
ekhugen,2014-11-21 22:15:08,https://api.github.com/repos/openstack/devstack/git/commits/fb3ce0bd6be04a5f23d33f3444a48a92fd8d0af1,fb3ce0bd6be04a5f23d33f3444a48a92fd8d0af1,"Adding tempest install to devstack

Stack.sh doesn't install tempest, but it would be useful if it did.

Change-Id: I2eba3738342cb4835a992aa1152939a8dc2f74da"
sdague,2014-12-05 13:31:16,https://api.github.com/repos/openstack/devstack/git/commits/2f8e08b5728f4272b415b1c0aab8ff62eae29b06,2f8e08b5728f4272b415b1c0aab8ff62eae29b06,"remove nova baremetal driver support

This has been deleted from the nova tree, we should purge it from
devstack, as it will not work any more.

Change-Id: I20501fec140998b91c9ddfd84b7b10168624430a"
neosab,2014-12-05 01:48:26,https://api.github.com/repos/openstack/devstack/git/commits/88cde0b3da7102cd28b3b44fbf6112b17303b27d,88cde0b3da7102cd28b3b44fbf6112b17303b27d,"VMware: add default image metadata for hw_vif_model

During glance image-create we are currently setting a null value
for the hw_vif_model, if we are unable to introspect from the vmdk
file.

This patch adds a default value if not found.

Change-Id: I6d0f551b18f03e2a799ae14c3347652a285693f0"
gandelman-a,2014-12-03 00:20:50,https://api.github.com/repos/openstack/devstack/git/commits/6c74932bf7f02ddd5bad7c276bca68b58e5b745d,6c74932bf7f02ddd5bad7c276bca68b58e5b745d,"Do not regenerate ironic ssh key if one exists

Gets rid of redundant globals and avoids regenerating an ssh key
for ironic if one exists.  Also allows key file to be user-specified,
letting ironic use pregenerated keys.

Change-Id: Iaa6f8918bf14dae2116269a0be5039fc5afaecfa"
gandelman-a,2014-12-03 00:49:14,https://api.github.com/repos/openstack/devstack/git/commits/9bc3459927ea48b2633b4a8c4a247764d6d4b8bd,9bc3459927ea48b2633b4a8c4a247764d6d4b8bd,"Tighten up parsing of neutron tap device for ironic

The current parsing of the interfaces from the neutron network namespace
fails if there are other things that match 'tap' (ie, gretaps created
for other purposes)  This tightens up the parsing to only match devices
starting 'tap' instead of anything containing 'tap'

Change-Id: I9a31ec8ad253da0b3c5bd7f5eb105c49850f3060"
sdague,2014-12-04 12:20:03,https://api.github.com/repos/openstack/devstack/git/commits/c30d3213f8fc683523267574676fa5062c2c36de,c30d3213f8fc683523267574676fa5062c2c36de,"remove legacy work around for nova paste.ini

This code goes *way* back and is not needed any more

Change-Id: I23716d88899a7fc18b7d4ccfa12b563d288810b0"
vkmc,2014-12-04 13:24:37,https://api.github.com/repos/openstack/devstack/git/commits/5bef3e1633ec2c7e2b932f6d519baa23526f5f87,5bef3e1633ec2c7e2b932f6d519baa23526f5f87,"Enable Zaqar to run in debug mode

Change-Id: Ia751f04119ce1b4c6213be75d087ef24de904498"
gkotton,2014-11-26 12:00:33,https://api.github.com/repos/openstack/devstack/git/commits/ffc1f8d426573f78e3a4bb88bd0246b59694bdcc,ffc1f8d426573f78e3a4bb88bd0246b59694bdcc,"Fix tools upload_image.sh utility

The utility would fail due to the fact that the GLANCE_SERVICE_PROTOCOL
was not set.

Change-Id: Iff0b59274fa909895abd70c3a6d1da63dbd70483
Closes-bug: #1396567"
hardys,2014-12-04 10:43:52,https://api.github.com/repos/openstack/devstack/git/commits/8b469c1c5e36047a9e5a80e040f137957bdb8d66,8b469c1c5e36047a9e5a80e040f137957bdb8d66,"Remove heat_stack_owner role

Since https://review.openstack.org/#/c/128509/ heat no longer requires
the ""heat_stack_owner"" role by default, as we now delegate all roles
via the trust.  So remove the now unnecessary role creation and assignment
from lib/heat.

Change-Id: Ia097ac9a76b3242ed6e62b11ca64c7ac7680b97c"
hardys,2014-12-03 23:15:08,https://api.github.com/repos/openstack/devstack/git/commits/bfadd227ecd593d1aa151246fdc18952fcbe9d37,bfadd227ecd593d1aa151246fdc18952fcbe9d37,"heat remove copy of sample config file

We're moving to a model like nova where we don't maintain a static
sample config, instead providing a readme showing how to generate
it in https://review.openstack.org/#/c/138800/, so this change
is needed before we can land that change.

Change-Id: I335a33646eef72962c9036dcd1de50144d8575c8"
jtomasek,2014-12-02 12:23:19,https://api.github.com/repos/openstack/devstack/git/commits/6623049ec48058afcb207855a9754df197a8cbb6,6623049ec48058afcb207855a9754df197a8cbb6,"Horizon front page test fix

Fixes the test string in horizon front page test so it is not failing
when header tag gets new attributes

Change-Id: Ibf62bf6f6300eeb0ab2f22086b0ff1c05c69d86b"
gandelman-a,2014-12-01 19:24:37,https://api.github.com/repos/openstack/devstack/git/commits/c78e4671098f08c2eaf0b033777d3c01082141cd,c78e4671098f08c2eaf0b033777d3c01082141cd,"Wait for hypervisor-stats to reflect ironic nodes

When enrolling nodes into Ironic, poll nova's hypervisor-stats until
the hypervisor count reflects the number of enrolled nodes.  This
eliminates a race where devstack completes and an instance is spawned
before the first post-enrollment periodic task ticks on the Nova side,
which has recently started popping up in the gate.

Change-Id: Ib3d8005e0094ee8af2d5fcb65aca6cd92736da90
Closes-bug: #1398128"
masayukig,2014-11-21 12:55:09,https://api.github.com/repos/openstack/devstack/git/commits/5a252d9a0e860e27676b60851766728451c29c17,5a252d9a0e860e27676b60851766728451c29c17,"Fix variable typo of use_syslog in lib/tempest

TEMPEST_CONF is not set but used it. As a result the meaningless file
'DEFAULT' is created. So this commit fixes to use proper variable name.

Closes-bug: #1394969
Change-Id: If6e58f269319df3c4f71b4fc13aa855c63f7e3a3"
JAORMX,2014-11-28 12:19:19,https://api.github.com/repos/openstack/devstack/git/commits/b7c1ce4d0f40cb24c78d6a14bb092b57ee12be03,b7c1ce4d0f40cb24c78d6a14bb092b57ee12be03,"Fix path to network interfaces configurations

This commit changes the path that is used as reference in the
documentation to one that is widely used in both ubuntu and debian. This
was made in order to avoid confusions (that actually happened while I
was trying out the devstack guide).

Change-Id: Ic3ce40816f79f9f522fc33ed8b4a574d7a57d586"
JAORMX,2014-11-28 11:12:14,https://api.github.com/repos/openstack/devstack/git/commits/fe6dccb0a8b1ca05e73982f0aba647044bf79a2d,fe6dccb0a8b1ca05e73982f0aba647044bf79a2d,"Fix typos in the configuration documentation

Change-Id: I0089c195f4cda313c3b68a7c5c215b9dbff94db2"
sdague,2014-11-27 12:13:35,https://api.github.com/repos/openstack/devstack/git/commits/f10c81869e27f215092c98af5d5b7c19bd64a8c9,f10c81869e27f215092c98af5d5b7c19bd64a8c9,"drop tempest xml variable setting

tempest has dropped xml support, this variable no longer does
anything.

Change-Id: Iab4dbb88f6f01fe301fd54b3ac53995bed1c485a"
jpichon,2014-11-21 14:57:16,https://api.github.com/repos/openstack/devstack/git/commits/a3d60c80d9f39ee6a0410dcdd5c778d0b7511c9d,a3d60c80d9f39ee6a0410dcdd5c778d0b7511c9d,"Explicitly pass in SLAPPASS when setting up LDAP

Change-Id: Ibcceabf2c76aaeeb8902a670557cc0093943a3e4
Closes-Bug: #1373750"
jogo,2014-11-26 03:07:11,https://api.github.com/repos/openstack/devstack/git/commits/ea70cc94719b140f90fb3a3d86e37bd543146ee3,ea70cc94719b140f90fb3a3d86e37bd543146ee3,"Copy nova-api-paste.ini if n-api* is enabled

In multi node devstack using multi-host nova-networking, n-api-meta runs
on every machine but n-api only runs on the API node. So copy
nova-api-paste.ini if any version of n-api* is running.

Change-Id: I323f39f5080b94e22907a173a1a2bc4a324567b8"
gandelman-a,2014-11-21 17:41:45,https://api.github.com/repos/openstack/devstack/git/commits/9eb8177eb7afa1e1cc9c64f80d175a1cb658ea50,9eb8177eb7afa1e1cc9c64f80d175a1cb658ea50,"Move sgabios setup to hypervisor-ironic

This moves setup of sgabios ROM to the ironic hypervisor library.
This is failing to backport to juno because of an error in the sideways ironic
grenade. install_ironic() is expected to setup only python things and happens
earlier than initial package installation.

Fixes-bug: #1396352
Change-Id: I75f0052045143571619e6712d57014228abf7a20"
eharney,2014-10-01 17:20:50,https://api.github.com/repos/openstack/devstack/git/commits/b01fb940c93dfa3ae75b11e34b8a99e6906c8a25,b01fb940c93dfa3ae75b11e34b8a99e6906c8a25,"Ceph: undefine secret from nova.conf when deleting secret

At teardown time we delete the libvirt secret but leave
nova.conf referencing the stale UUID.  Remove it to make
debugging and repeated runs less error-prone.

Additionally, only try to delete secret if it Cinder is
enabled (causing it to be defined when deploying devstack).

Change-Id: Id5e1290b8dcfd79238f02e31084ab12c3d6aed5f"
mestery,2014-11-13 07:57:09,https://api.github.com/repos/openstack/devstack/git/commits/ff8de0c707a779bcd329b3bb513c5fea806bcbea,ff8de0c707a779bcd329b3bb513c5fea806bcbea,"Update the ODL support to Helium SR1.

This commit updates the default ODL package to be tested with to the
first stable release of Helium. Critically, this includes ODL fixes
for some IPV6 issues.

Change-Id: I4eaa52a8baffdcc3a5e74cabca2f9cd7ea4ec237"
jayofdoom,2014-11-24 19:12:20,https://api.github.com/repos/openstack/devstack/git/commits/7f8a27da52e9564c0d6ff477eedb2bafb6864179,7f8a27da52e9564c0d6ff477eedb2bafb6864179,"IPA Ramdisk should log to console in devstack

Setting these kernel command line parameters will have journald log
everything to the console, which means it'll end up in the appropriate
log in the ironic-bm-logs/ directory.

Change-Id: I0f4c79436c4856a5aa72f00f1ac8c2ed534b702e"
pcrews,2014-11-19 04:50:00,https://api.github.com/repos/openstack/devstack/git/commits/6de7dba863cfbe0fda6f918eea31adbd7d652676,6de7dba863cfbe0fda6f918eea31adbd7d652676,"Return mysql-server to default for all ubuntu installs

Change: I97cbede806e5c00363c7174fa1e9f286de96aab6 altered
the logic in lib/databases/mysql from installing mariadb only if
one was using rhel7 to installing it by default unless one was using
rhel6.

Change: Iae9a7a1c09f1fc83573c3926b3470955c244c401
Attempted to fix this, but only does so for precise.

Unless mariadb has become the default, I strongly prefer to keep
standard mysql as the database on ubuntu (precise or otherwise).

Closes-Bug: 1395776

Change-Id: I3afb89ae6d55405313b7219dd6daa24d9ca80f70"
flaper87,2014-11-24 15:44:50,https://api.github.com/repos/openstack/devstack/git/commits/b64738f1c9fb69ba4af8e2088fc8585ab38f50b3,b64738f1c9fb69ba4af8e2088fc8585ab38f50b3,"Enable admin mode by default

Zaqar has an admin mode which enables certain endpoints. This mode
should be enabled by default in devstack so that tests environments can
rely on those endpoints to be present.

Change-Id: Ic50875f4515bb631a6bf800c9338d3b6bbeaafae"
emonty,2014-11-15 20:18:13,https://api.github.com/repos/openstack/devstack/git/commits/81a016dbcd7bbf9fde791386fcc294fca0a59d71,81a016dbcd7bbf9fde791386fcc294fca0a59d71,"Rename apts to debs

apts aren't a thing, debs are. apt-get installs debs, like yum installs
rpms. Another option would be to rename rpms to yums, but that is even
sillier, considering then for suse we'd have to call it ""zypper-suse"" or
something, even though it would want to consume yums-general as a base.

Include a symlink to the old name to help out with grenade. The symlink
should go away later.

This is a long-standing annoyance of mine.

Related-to: I915f0e59c13d8cf5fb3549c6202f8aa2f8be0856
Change-Id: I0416180db5b6add996ce5b48c6966c1b68adbcb0"
matrohon,2014-11-21 21:12:40,https://api.github.com/repos/openstack/devstack/git/commits/50187eec280422fe091297901bb5e9396728d10a,50187eec280422fe091297901bb5e9396728d10a,"Restore linuxbridge-agent compatibility

This patch partially reverts commit
15130cd5fd1688b8984d78136b97bb8de7c32b64.

This commit was desupporting ovs and linuxbridge plugins.
But the ML2 plugin can be deployed with the linuxbridge agent.

The current patch restores the linuxbridge agent configuration
file.

Closes-Bug: #1393429

Change-Id: If824185b22e22a1de6498f1f0f2742a279235675"
dtroyer,2014-11-21 03:13:15,https://api.github.com/repos/openstack/devstack/git/commits/af14029553a3aaeb3edaf49568b175c47f88fbc0,af14029553a3aaeb3edaf49568b175c47f88fbc0,"Rework the old logo

* Re-work the old banner logo for the Sphinx docs
* Remove the remaining leftover assets from the old web site

So this is one possibility, I retained the other logo files so we have
options to play with.

Change-Id: Iac15899780072450dc30600a719283c0e2b0c0ae"
rcritten,2014-11-17 06:16:22,https://api.github.com/repos/openstack/devstack/git/commits/90c20209088eca3dcf830856a3a3118367dbc09f,90c20209088eca3dcf830856a3a3118367dbc09f,"Configure boto.cfg in tempest to point to SSL bundle

The boto client uses the ca_certificate_files value in the
Boto section of /etc/boto.cfg when making an SSL client
connection. Configure that to be the devstack SSL CA bundle
so the boto tests will pass when running against an SSL or
TLS-proxy configured devstack environment.

Change-Id: I55ae6d6e0c5b3adb4370ec93f40ae1cd47741457"
yamt,2014-11-21 01:42:18,https://api.github.com/repos/openstack/devstack/git/commits/98a0ad44722182453a74872c93c904d35bcac708,98a0ad44722182453a74872c93c904d35bcac708,"ovs_base: Fix debug-agent config for Q_USE_PROVIDERNET_FOR_PUBLIC=True

Set up external_network_bridge correctly for the case
of Q_USE_PROVIDERNET_FOR_PUBLIC=True.

This is an oversight in commit 6a633fd024347aade777ecd6545fa3efde5a959c.

Closes-Bug: #1394826
Change-Id: I33f0fe15bafb7071d8a09899d636471f49031606"
gandelman-a,2014-11-21 00:42:32,https://api.github.com/repos/openstack/devstack/git/commits/a1ffcfab478888ac4b0953c51e6d92f586d31d42,a1ffcfab478888ac4b0953c51e6d92f586d31d42,"Set libvirt live_migration_uri

Sets up n-cpu to migrate domains via SSH.  By default, hosts attempt
to connect to each other as root, so this specifies STACK_USER instead.

Change-Id: Ic6e868091c89a2cc6b2f0fada3f7e95002aaff8b"
sdague,2014-11-20 22:23:04,https://api.github.com/repos/openstack/devstack/git/commits/86b65dd77b14a757b1bdbec2b6ae6b4900a88bed,86b65dd77b14a757b1bdbec2b6ae6b4900a88bed,"fix tempest-lib setup

The setup should have been with setup_dev_lib, which looks up the path
from GITDIR. This should let tempest-lib src jobs function.

Change-Id: Ia160708c089adce469d878030196b6fed8acc92d"
sc68cal,2014-10-27 15:57:20,https://api.github.com/repos/openstack/devstack/git/commits/34296016632a82ebbc88978a41f12ac2af1730e6,34296016632a82ebbc88978a41f12ac2af1730e6,"Documentation: Using Neutron with DevStack

Change-Id: I75f30a6809a6276dbd8a61e73535913be63b54f0"
sdague,2014-11-19 20:19:51,https://api.github.com/repos/openstack/devstack/git/commits/aecd189f80533b2680184d648f393bd0f5479882,aecd189f80533b2680184d648f393bd0f5479882,"add unit tests for GIT* definitions

This adds unit tests for all the GIT* definitions, ensuring that for
libraries we think should be defined, they are. It exposed a bug in
glance_store definitions in the process.

The GITDIR definition for python-openstackclient is moved to stackrc
for testability.

Change-Id: Ibd9ab665f0362a84f4f7e80e80da56a4737f584e"
kragniz,2014-11-20 13:09:03,https://api.github.com/repos/openstack/devstack/git/commits/8df690c52530589816a7323c24e4d616478b596c,8df690c52530589816a7323c24e4d616478b596c,"Install bash completion for glanceclient

This installs the new bash-complete file in the standard location,
alongside the rest of the completion files:

    /etc/bash_completion.d/glance.bash_completion

Change-Id: I2944c47d857f7125f370b2b1ee041d1282db09c5"
chungg,2014-11-19 20:54:17,https://api.github.com/repos/openstack/devstack/git/commits/48bbfe93f5b4b600db0f12c1f8574d4177ccce36,48bbfe93f5b4b600db0f12c1f8574d4177ccce36,"switch to use ceilometer specific connections

in Juno/Kilo, we added ceilometer purpose specific connections for:
metering, alarms, event. Rather than piggyback off oslo.db's
connection option (which gives misleading sql help message), we
should use Ceilometer specific connections.

Change-Id: I7703b73708a5807fb8de89fbb828f06b488acf69"
gashev,2014-11-19 05:29:03,https://api.github.com/repos/openstack/devstack/git/commits/9d09f0980285b5b5d5ccf3865cab1c5df49b25d5,9d09f0980285b5b5d5ccf3865cab1c5df49b25d5,"Remove is_rackspace function from functions-common

is_rackspace function never used and can be removed from code.

Change-Id: Ic5d1dc419bdea3619fe248afad027e7d7c602b4f
Closes-Bug: #1394076"
salv-orlando,2014-10-29 17:22:46,https://api.github.com/repos/openstack/devstack/git/commits/e4e535b0bf07bc823bdd72b31f66628e5ea96465,e4e535b0bf07bc823bdd72b31f66628e5ea96465,"Ensure syslog option is honored by neutron and tempest

Syslog settings were not configured at all for these two
projects. As a result, regardless of the value of the
SYSLOG environment variable, the use_syslog options for
these two projects was always set to False.

Change-Id: Iba6155d62beffa06e5bb9ac16b06082ec64d0926
Closes-Bug: #1394024"
yjiang5,2014-11-05 10:30:25,https://api.github.com/repos/openstack/devstack/git/commits/fe96ed66f5fea37484dfaae597c43756c16e5779,fe96ed66f5fea37484dfaae597c43756c16e5779,"Add agent_ipmitool support

This patch enables to use the agent_ipmitool deploy driver to
deploy the ironic on real hardware, instead of virtual machine.

It also append the deploy driver name to the kernel/ramdisk
path, so that if developer switch the deploy driver after
./unstack.sh, devstack will use the correct kernel/ramdisk.

Change-Id: Iac0415f6895d037c876e137aa4f2bf2990eb47c5"
mmedvede,2014-11-18 18:11:26,https://api.github.com/repos/openstack/devstack/git/commits/088e66028c4eb41cf583a76409febce13475b66c,088e66028c4eb41cf583a76409febce13475b66c,"Deal with different django-admin executables

After the recent patch [1] the devstack is broken for Fedora 20 with
the error ""django-admin.py: command not found"" during horizon setup.

This is due to differences in how django currently packaged for Fedora,
where we should use ""django-admin"", without the .py

This patch sets up executable alias by checking if ""django-admin""
exists, and falling back on ""django-admin.py"".

[1] https://review.openstack.org/#/c/120940/

Change-Id: I2b6de25fe32446edbdc0418674fea8579ec739d9"
leseb,2014-11-18 19:10:11,https://api.github.com/repos/openstack/devstack/git/commits/849d0b8ebb9aff4a2106c01a691112578f25281c,849d0b8ebb9aff4a2106c01a691112578f25281c,"Fix the variable substitution

Prior to that commit if ceph_version was equal to 0.80.5, the variable
substitution ${ceph_version%.*} was returning 0.80 and not 0. Using
${ceph_version%%.*} returns the desired value.
Also refactoring the version output to get a X.X format since only
major and minor are important.

Change-Id: Iab50f3c4b24a01a68acda417eae0501f00038f54
Signed-off-by: S√©bastien Han <sebastien.han@enovance.com>"
gandelman-a,2014-11-17 17:59:23,https://api.github.com/repos/openstack/devstack/git/commits/4b45fca7bb3ad93d7ee3fb0f121eb715798044f4,4b45fca7bb3ad93d7ee3fb0f121eb715798044f4,"Do not hardcode ironic svc port, protocol

The Ironic API server's port and protocol are hardcoded in various
places.  This updates the ironic bits to use configured values instead
and fixes a bug around iptables rule creationl.

Change-Id: I1ace68affff3afdbc0058be4d32f8044a24e9338
Closes-bug: #1393498"
hardys,2014-10-27 17:22:17,https://api.github.com/repos/openstack/devstack/git/commits/d591a25e424ea8cec4d67854fcce236671210139,d591a25e424ea8cec4d67854fcce236671210139,"Add support for tuskar-api service

Adds initial support for configuring and starting the tuskar-api
service.

To enable, add the following to your localrc:

enable_service tuskar
enable_service tuskar-api

The aim of this addition is to provide a more accessible (non devtest)
way for developers to run up tuskar in a familiar devstack environment.

See the official repos for more information:
https://github.com/openstack/tuskar/
https://github.com/openstack/python-tuskarclient

Change-Id: Id0c3c0d3a38100c66dbe6e3adf1f715162f99742"
sdague,2014-11-18 12:13:35,https://api.github.com/repos/openstack/devstack/git/commits/91b229058cd8204d0c3a038d24aa09d1baadef2f,91b229058cd8204d0c3a038d24aa09d1baadef2f,"apparently the upstream naming is tempest-lib

tempest_lib was how this was generally referred to, however that meant
that the job naming wasn't specifying the correctly src
library. Change to tempest-lib to actually test these things before
release.

Change-Id: I4c0712156d7ff71ee43747f30ab940e249d12ebc"
sdague,2014-11-18 11:51:16,https://api.github.com/repos/openstack/devstack/git/commits/3293046d3091e7017beafe92bfe361e6d204bfb1,3293046d3091e7017beafe92bfe361e6d204bfb1,"use a more common rst header hiearchy

While rst doesn't actually care about the order of headers, reviewers
sometimes do. And the build in emacs mode has a certain order
specified that it can easily rotate between.

Standardize on == h1, = h2, - h3, ~ h4 in the code.

Change-Id: I80ff6df6ef0703a3c3005809069428018bb355d4"
sdague,2014-11-17 12:10:14,https://api.github.com/repos/openstack/devstack/git/commits/07d7e5b1f9b2201da006201f99a9b357a45b9b37,07d7e5b1f9b2201da006201f99a9b357a45b9b37,"add LIBS_FROM_GIT to docs

Also reformat common configuration variables to have an additional
header level which makes it easy to direct link to specific
configuration vars when directing someone.

Reformat header markup to us a more standard == = - for h1, h2, h3

Change-Id: I10bac5a93529cdfbcde0a05f9ebdbc1799d403cd"
sdague,2014-11-17 20:14:49,https://api.github.com/repos/openstack/devstack/git/commits/9f20ea13826234ac2c508ea1d50a0822b68d42dc,9f20ea13826234ac2c508ea1d50a0822b68d42dc,"make run_tests.sh run devstack unit tests

run_tests.sh was created as an entry point for bashate. We stopped
using it now that we know how to run bashate directly in the gate. 
We lost running an unrelated bashate test when that happened.

Devstack does have unit tests. We don't run them. We should. 
Especially when working on things like the LIBS_FROM_GIT which is
sufficiently tricky that we really need to add unit tests to ensure
that we don't break it.

Change-Id: Ife067855569e2eae4c085471d326e8086de37332"
gashev,2014-11-18 07:16:01,https://api.github.com/repos/openstack/devstack/git/commits/1f26c0ef61e4e37bacac68014d993df108f70296,1f26c0ef61e4e37bacac68014d993df108f70296,"Fixed conditions to determine if current distribution is a Fedora based distribution

stack.sh line 223:
if [[ is_fedora && $DISTRO == ""rhel6"" ]]; then

stack.sh line 234:
if [[ is_fedora && ( $DISTRO == ""rhel6"" || $DISTRO == ""rhel7"" ) ]]; then

stack.sh line 358:
if [[ is_fedora && $DISTRO == ""rhel6"" ]]; then

Condition [[ is_fedora && $DISTRO == ""rhel6"" ]] return wrong result.
This condition is equivalent to the
[[ -n is_fedora && $DISTRO == ""rhel6"" ]]. First expression -n is_fedora
always not null, therefore this condition the same is
[[ $DISTRO = ""rhel6"" ]].

Change-Id: Ida9eaa7950554bcd2f183dede7ad19522f9ca558
Closes-Bug: #1393684"
slokesh184,2014-11-10 09:37:59,https://api.github.com/repos/openstack/devstack/git/commits/683ed9eeb2dedddb5053b09ded060a276bed928c,683ed9eeb2dedddb5053b09ded060a276bed928c,"fixes cleaning up of ironic directory from /etc

Closes-Bug: 1391083

Change-Id: Ic47161ab375716cc39ee1a7dd57034782717e323"
amotoki,2014-11-18 04:41:58,https://api.github.com/repos/openstack/devstack/git/commits/8f003ef9bf466f931cecfc5a34b51a40b2203f43,8f003ef9bf466f931cecfc5a34b51a40b2203f43,"Use mysql in Ubuntu 12.04 (precise)

After commit 6d20f090, devstack does not work on Ubuntu 12.04
because Ubuntu 12.04 does not provide mariadb but devstack expects it.

Change-Id: Iae9a7a1c09f1fc83573c3926b3470955c244c401"
dklyle,2014-09-11 23:50:08,https://api.github.com/repos/openstack/devstack/git/commits/45ce98275c15472f0b6c92b75088064cd3763ff1,45ce98275c15472f0b6c92b75088064cd3763ff1,"Moving horizon compression offline

Making the horizon scss compilation and compression happen offline.
Potentially fixing an issue with parallel compression in devstack.

Related-Bug: #1345955
Change-Id: I066c80e06a92302a3f8dc5fd45d127fbde6cf99c"
yamt,2014-11-18 04:03:08,https://api.github.com/repos/openstack/devstack/git/commits/44f4e205aa81f8fdb0b47b354192b4bb44efad56,44f4e205aa81f8fdb0b47b354192b4bb44efad56,"lib/dstat: Include page stats

Add -g option for dstat.

From the man page:

       -g, --page
              enable page stats (page in, page out)

Change-Id: I865304483af0a529ea8722ed0a9f35ab350670d2"
yamt,2014-11-18 03:30:16,https://api.github.com/repos/openstack/devstack/git/commits/42373c7bfe68302922feb76015534a16d8c00bf5,42373c7bfe68302922feb76015534a16d8c00bf5,"lib/dstat: Fix a comment

Apparently this file was copied from lib/apache.

Change-Id: Ie89d423ca225c697122820a1d9e859769aea9f86"
gandelman-a,2014-11-17 20:26:08,https://api.github.com/repos/openstack/devstack/git/commits/ffd66ad77ff07fff9812836b832bbcd952a61fff,ffd66ad77ff07fff9812836b832bbcd952a61fff,"Log early boot of Ironic VMs to serial with sgabios

This adds sgabios to the list of packages for Ironic and configures
the libvirt domain to redirect BIOS messages to serial via sgabios,
when console logging is enabled.  The sgabios package in Ubuntu
currently has an apparmor bug, so that is worked around here.

This allows visibility into early boot of Ironic nodes and should
help get to the bottom of a frequent failure we're seeing in the gate.

Change-Id: Ifd18851e2d23d198d36e67883a81afc6a92d2a58
Related-Bug: #1393099"
dtroyer,2014-11-17 18:45:09,https://api.github.com/repos/openstack/devstack/git/commits/b3fdb1c93593faa6fb674937155f911beb2f0200,b3fdb1c93593faa6fb674937155f911beb2f0200,"Simplify docs build

Remove unnecessary old code from tools/build_docs.sh; it now only builds
docs for the current branch in the current working directory.

Fix the merging if the git log changes into changes.html.

Change-Id: I965dc3383b6317807ca0d47fe42648a19e96b57b"
johndavidge,2014-06-30 13:55:11,https://api.github.com/repos/openstack/devstack/git/commits/21529a50e3b49ce378da88ce10ce903933fa3a02,21529a50e3b49ce378da88ce10ce903933fa3a02,"Add IPv6 support for tenant data network

Define IP_VERSION with one of the three values 4, 6, or 4+6 in
your localrc to indicate if you intend to run your tenant data network
as either IPv4, IPv6, or dual stack respectively. Default value is 4.

If your IP_VERSION is set to 6 or 4+6, then the following variables
should be defined in your localrc:
  - FIXED_RANGE_V6: The IPv6 prefix for your tenant network
  - IPV6_PRIVATE_NETWORK_GATEWAY: The gateway IP with the same prefix
  - IPV6_RA_MODE (with default as slaac)
  - IPV6_ADDRESS_MODE (with default as slaac)

If you're going to use IPV6_RA_MODE/IPV6_ADDRESS_MODE settings other
than the defaults then you should make sure your VM image has dhcpv6
client enabled at bootup, otherwise you'll need to run it manually
after the VM is booted.

It's recommended to run the latest version of dnsmasq 2.68.
If you intend to enable internet access in your VM, make sure
your network node has IPv6 internet access, and the IPv6 prefix for
your tenant network is a GUA and routable.

Implements: blueprint ipv6-support
Change-Id: I848abf18e00e2a869697c5ef6366bc567dde448a
Co-Authored-By: John Davidge <jodavidg@cisco.com>"
rcritten,2014-11-17 05:03:47,https://api.github.com/repos/openstack/devstack/git/commits/7d0a0f7d48222369f36a1a5a27a39c45430c9615,7d0a0f7d48222369f36a1a5a27a39c45430c9615,"Remove hardcoded protocol from backup_swift_url

Use SWIFT_SERVICE_PROTOCOL when configuring backup_swift_url for
cinder configuration.

Change-Id: I09de62e8deca86b473cee969ba2c5919d4f9892d
Closes-Bug: #1393554"
emonty,2014-11-15 20:15:49,https://api.github.com/repos/openstack/devstack/git/commits/0eed532ce392f7db7cc004ca4b28c22407499d1d,0eed532ce392f7db7cc004ca4b28c22407499d1d,"Remove nose things

We don't use nose anywhere in anything related to devstack. The only
legitimate OpenStack things that are still nose are horizon and swift
unittests, and it turns out we don't really run those in devstack.

Change-Id: I215e0f3664f269e0e1b8f5d5f9c70553dededddd"
ianw,2014-11-16 23:46:56,https://api.github.com/repos/openstack/devstack/git/commits/6a41ba20e7978c5f62a125412a9489d59e520a43,6a41ba20e7978c5f62a125412a9489d59e520a43,"Remove rackspace/centos7 work-around

The current centos 7 images from rackspace do not have cloud-init
installed via pip, so this is no longer needed.  This work around is
actually a little wrong too, see the bug.

Change-Id: I6642593ca2248d9e01f653cc8e70c70ba8372e50
Partial-bug: #1393073"
sdague,2014-11-14 16:35:56,https://api.github.com/repos/openstack/devstack/git/commits/658312ca2f54aaabd43f91d2fca73cbee0319735,658312ca2f54aaabd43f91d2fca73cbee0319735,"move keystonemiddleware to pypi libs

Make keystonemiddleware install from pypi releases by default

Change-Id: I3dc4b096b4184f4cf00fb0df66b76fcc8f19785b"
sdague,2014-11-14 14:31:02,https://api.github.com/repos/openstack/devstack/git/commits/3c8973a90abc7601e46e2fcaf3d50343338e24d8,3c8973a90abc7601e46e2fcaf3d50343338e24d8,"support installing django_openstack_auth from pypi

Part of the libs from pypi conversion, convert django_openstack_auth
to this format.

Change-Id: I97c8ea19d8aed1e0bdd62c06cfadd1d616573d76"
yjiang5,2014-10-08 14:01:02,https://api.github.com/repos/openstack/devstack/git/commits/ae9ee6bf97c721e43f468b70eb6fb5c234e3eeba,ae9ee6bf97c721e43f468b70eb6fb5c234e3eeba,"Add Ironic hardware deployment support

Currently devstack create VMs and then deploy Ironic on these VMs.
Sometimes developer may want to deploy on real platform.

A separated file is required to provide the baremetal compute node
information, which includes four fields for each hardware platform,
the ipmi address, the mac address, the ipmi user name and the
password.

Change-Id: I422b43eae6edc95f15b8c40383d0ba7fbcd9b1ff"
sdague,2014-11-13 18:23:27,https://api.github.com/repos/openstack/devstack/git/commits/ee5ae7b92369484007d8deb249f6c941d422123c,ee5ae7b92369484007d8deb249f6c941d422123c,"further pypi libs conversions

glance_store and saharaclient were missed in the last round, make
them install from released clients in this patch.

Change-Id: I2e0ed2b7fb5994ae6abd92612a67ce5fd82b3f7e"
sdague,2014-11-13 22:09:28,https://api.github.com/repos/openstack/devstack/git/commits/e08ab104e62da041fcc6b2aafba4349326f4a969,e08ab104e62da041fcc6b2aafba4349326f4a969,"fix python-* lib from git installation

We're using all the magic variables based on python-fooclient, however
all the inline code was using fooclient for variables. So we had a
mismatch, which was kindly pointed out by some of the 3rd party ci
testers.

Change-Id: I27a56222c7e8e610fba8bf97672d2a42f5cf14ca"
kashyapc,2014-11-13 11:18:33,https://api.github.com/repos/openstack/devstack/git/commits/91e4018afd98e454a0d56a69271e089ac97aab5c,91e4018afd98e454a0d56a69271e089ac97aab5c,"Add 'net-tools' package dependency

Noticed this on a freshly installed, minimal Fedora-21 (from
development repos):

  $ ./stack.sh
  [. . .]
  2014-11-13 10:56:22.442 | + local exitcode=0
  2014-11-13 10:56:22.453 | + sudo route add -net 10.1.0.0/24 gw 172.24.4.2
  2014-11-13 10:56:22.479 | sudo: route: command not found
  2014-11-13 10:56:22.488 | + exit_trap
  [. . .]

Also added it to files/rpms-suse/general, just in case.

Change-Id: I77954d97e654e8f384a2016631df14e73be927fe"
queria,2014-10-22 13:34:46,https://api.github.com/repos/openstack/devstack/git/commits/6d20f09045dba237caf50d8d55dcc90a9f105ee0,6d20f09045dba237caf50d8d55dcc90a9f105ee0,"Initial support for Fedora 21

Initial support for Fedora 21.  Add f21 to the distribution lists for
rpms, ensure ""mariadb"" is used over ""mysqld"" and enable it in the
distro check, as we have several reports of it working.

Tested with [1]

[1] http://download.fedoraproject.org/pub/fedora/linux/releases/test/21-Beta/Cloud/Images/x86_64/Fedora-Cloud-Base-20141029-21_Beta.x86_64.qcow2

Change-Id: I97cbede806e5c00363c7174fa1e9f286de96aab6"
sdague,2014-11-12 11:33:36,https://api.github.com/repos/openstack/devstack/git/commits/52f13a4087ef8b49640053bebd6a5046d55c63fe,52f13a4087ef8b49640053bebd6a5046d55c63fe,"remove the trove exercise

The trove cli has been changed in an incompatible way. Exercises
are the requirements of projects to keep functioning, if they aren't
we should fast delete them.

Related-Bug: #1391840

Change-Id: I3b61194ff220525aed202c7f7851faa0be446646"
yamt,2014-11-11 02:11:00,https://api.github.com/repos/openstack/devstack/git/commits/b2631211abf752afad85b18ff479e0d76f4097fa,b2631211abf752afad85b18ff479e0d76f4097fa,"Remove neutron ryu-plugin support

Ryu plugin was marked deprecated in Juno and will be removed for Kilo.

We (Ryu team) recommend users to migrate to ofagent, on which
we aim to concentrate our development resources by this deprecation.

Partial-Bug: #1391714
Change-Id: I1ef28818e9400664ae3d83758dc2dcf71c02f185"
afazekas,2014-08-19 14:48:14,https://api.github.com/repos/openstack/devstack/git/commits/c411fcfc9224894db55d82b8ce4fa4a2b68de89d,c411fcfc9224894db55d82b8ce4fa4a2b68de89d,"Allow installing tempest only with keystone

Modify the lib/tempest to not fail
 if no nova or glance available.

* This allows performance test of keystone and neutron with
  tempest (or tempest stress runner) without having system
  noise from another components.
* Depending on not required components for tempest is bad practice,
  tempest service decorators expected to allow tempest,
  to run in more minimal system out-of-the-box.

Change-Id: Ifc40b1eb5c4b79d96a5fae919b88afecca642ca0"
afazekas,2014-11-10 08:04:54,https://api.github.com/repos/openstack/devstack/git/commits/af81d672937fb4cefb7d723769af232cac714c22,af81d672937fb4cefb7d723769af232cac714c22,"Drop PIP_USE_MIRRORS environment variable

The PIP_USE_MIRRORS does not do anything else than adding
 the --use-mirrors option to the pip command line.

The --use-mirrors is deprecated since pip-1.5,
and does not do anything else than printing a warning message.

For using alternate pypi index url this option is not required and
not sufficient. The current way for using alternate mirrors
is to defining them in the .pip/pip.conf either manually (before
devstack), or by using the PYPI_ALTERNATIVE_URL and PYPI_OVERRIDE
environment variables.

Change-Id: Ia33e783360e5661c2ef03b77e9f7af32b2633f2f"
leseb,2014-10-31 11:05:20,https://api.github.com/repos/openstack/devstack/git/commits/90f77fb01579b1859199b451d090170d4752a3e2,90f77fb01579b1859199b451d090170d4752a3e2,"Fix DevStack Ceph on the Giant release

As of the Ceph Giant release, pools 'data' and 'metadata' (used for
CephFS) were removed. Thus applying the pool change command fails on
Giant since those pools don't exist anymore. Now we are checking for
every release prior to Giant and apply proper commands accordingly.

Change-Id: Ia12042899c0e6809f5b98c2e0de177bb61c8a790
Signed-off-by: S√©bastien Han <sebastien.han@enovance.com>"
dtroyer,2014-11-08 14:29:16,https://api.github.com/repos/openstack/devstack/git/commits/ea3cdfad1fe6f63c8a6acdd4df4b5c4db85fabb5,ea3cdfad1fe6f63c8a6acdd4df4b5c4db85fabb5,"Pass through the rest of the docs

Do the link cleanups and update a handful of things that were
out of date.

Change-Id: I758027bf3577c66cfb13df963516823a5c247080"
dtroyer,2014-11-06 15:33:02,https://api.github.com/repos/openstack/devstack/git/commits/26dd21be8cbf789a8774c9a1941b364a497c4643,26dd21be8cbf789a8774c9a1941b364a497c4643,"One last format and content cleanup for the index page

Update the form of the links to other documents in the tree;
the generated HTML links must remain in the original form.
The layout is changed from the previous tables to a more Sphinx-y
TOC-like list.

Also editorial changes to the index page and guide titles

Change-Id: I52df0cc542754c386fb3c99d9efdf2524c11bf48"
sailajay,2014-11-07 00:14:32,https://api.github.com/repos/openstack/devstack/git/commits/a12dee433c12c336d804ebe36a6a36f7d3c85f65,a12dee433c12c336d804ebe36a6a36f7d3c85f65,"Devstack Nuage Plugin correct the ovs_bridge parameter

This commit fixes the name of ovs_bridge parameter and the section it is set in nova.conf by the nuage plugin

Closes-Bug: 1390256

Change-Id: I63c929e827db10d0cf5450907a273d880fc757f6"
dtroyer,2014-11-06 15:33:02,https://api.github.com/repos/openstack/devstack/git/commits/d224ae1086c7641726a961208cab8af350a81b51,d224ae1086c7641726a961208cab8af350a81b51,"Update index page doc links

This updates the form of the links to other documents in the tree;
the generated HTML links must remain in the original form.

Change-Id: I6c2179e3b7cb5b8e2589ede84ab7d02340812e80"
mestery,2014-11-06 08:36:09,https://api.github.com/repos/openstack/devstack/git/commits/6a709ab25a294d03009936322d753ce13ead1204,6a709ab25a294d03009936322d753ce13ead1204,"Add ODL_NAME variable for OpenDaylight configuration

This makes the name of the unzipped package configurable so you can run
with releases other than the default specified in lib/opendaylight.

Change-Id: Iad879c558d742da03375cb61b0c2ef141573ffec"
dtroyer,2014-10-30 03:08:13,https://api.github.com/repos/openstack/devstack/git/commits/0986a7b760e34741d4df6f97851f6d98fec4f99c,0986a7b760e34741d4df6f97851f6d98fec4f99c,"Remove old HTML headers

Change-Id: I39107df88aeb89d3364ad479d8c313b7a79b9440"
dtroyer,2014-10-30 02:57:31,https://api.github.com/repos/openstack/devstack/git/commits/63baba2711552e0f818ad2482281d93dc11e7212,63baba2711552e0f818ad2482281d93dc11e7212,"Clean up index page

There were a lot of artifacts left from the HTML translation.

The toctree at the end is to suppress the errors until the remaining
docs are cleaned up.

Change-Id: I4a8f29f0be524d0a15c7c6f590ffc3ceed6ff811"
emagana,2014-11-04 16:32:54,https://api.github.com/repos/openstack/devstack/git/commits/7bce8fa3171801db9bf2261b65b1f5b8978bb46e,7bce8fa3171801db9bf2261b65b1f5b8978bb46e,"Includes a validation to disable creating initial networks for Neutron

Neutron external and internal networks are created by default
This commit let developers by configuration to decide if those
networks needs to be created. This is needed to test Neutron DVR
in a distributed Multi-node environment

Change-Id: I17d891d072f189925676b4557094cde1c7a71579
Closes-Bug: 1389288"
yjiang5,2014-10-06 16:34:35,https://api.github.com/repos/openstack/devstack/git/commits/73d32161df5bc0255d32b1ce1eefb4068d09596b,73d32161df5bc0255d32b1ce1eefb4068d09596b,"Passing config for flat type network

Add support to passing the flat_network configuration. User can
either passing the physical network name, or use the physical
network definition

Change-Id: Ie42679f207eb14620883778314f74abf378b5cbc"
ianw,2014-11-04 22:52:27,https://api.github.com/repos/openstack/devstack/git/commits/c973e6c96ce0d37bc22877f3af65135989c469e4,c973e6c96ce0d37bc22877f3af65135989c469e4,"Move platform check after localrc

This got moved around with some of the recent cleanups I think.  My CI
was putting FORCE=yes into localrc which used to work.  Noticed doing
some bring-up on F21

Change-Id: I7c0ea6b67b42b768278de0fd41d0c0bfbb572387"
sdague,2014-11-01 00:37:45,https://api.github.com/repos/openstack/devstack/git/commits/5cb190697c1bce5dcd2ad843922813b0cc74bd24,5cb190697c1bce5dcd2ad843922813b0cc74bd24,"support installing clients at released versions

expand the devstack support for libraries from released versions to
support python-* clients and tempest_lib.

Depends-On: I81b0d228e7769758c61e5b0323ecfce8c8886d39

Change-Id: I26fac0ccf8fd4818e24618d56bf04b32306f88f6"
Tan0,2014-10-31 07:44:34,https://api.github.com/repos/openstack/devstack/git/commits/27a196e26064aba615b0177435071d569b82389b,27a196e26064aba615b0177435071d569b82389b,"Add options to enable using DHCP agent Metadata-proxy

Add options to support DHCP agent providing metadata-proxy.
In some cases, users have to disable L3 Agent. But people still
need metadata services.

Change-Id: I4664fc3a4937c3b7b5c27e74f509b683ffbedd09"
rcritten,2014-10-30 23:49:20,https://api.github.com/repos/openstack/devstack/git/commits/213f13a28399657955be263c936db0a87310b5b1,213f13a28399657955be263c936db0a87310b5b1,"Don't hardcode glance protocol when finding trove guest image

This allows configuration of trove when devstack is configured
for SSL or tls-proxy.

Change-Id: I680effda94926951f9068e2df1e354c708aa4495"
flaper87,2014-10-31 17:48:00,https://api.github.com/repos/openstack/devstack/git/commits/5a91c3548370d3de856e5522f2d11775278115cf,5a91c3548370d3de856e5522f2d11775278115cf,"USe `trueorfalse` for INSTALL_TESTONLY_PACKAGES

INSTALL_TESTONLY_PACKAGES is assumed to be set to `True` or `False`.
However, in devstack-gate this variable is set to 0 or 1. The patch uses
the already existing `trueorfalse` function to evaluate
INSTALL_TESTONLY_PACKAGES and normalize its value.

Change-Id: I0e4a31e422bad2a31d919d9f871e24833a0faa99"
kopparam,2014-10-31 12:02:57,https://api.github.com/repos/openstack/devstack/git/commits/cd1c3c7adb45e6fda75df48d0313aad8836a7453,cd1c3c7adb45e6fda75df48d0313aad8836a7453,"added the localrc section to the local.conf

Change-Id: Iffcc61ca886df96e1dc7c0df3c02125cb2b4a7dc"
yamt,2014-10-31 04:48:58,https://api.github.com/repos/openstack/devstack/git/commits/292b2a7ee61f9b034230e8c99d2e5c7154dcf79b,292b2a7ee61f9b034230e8c99d2e5c7154dcf79b,"Workaround openrc failure on zsh

The recent GIT_DEPTH change introduced a [[ ]] construct
which doesn't work for zsh 5.0.2.  Workaround it by tweaking the test.

The following is a demonstration to show how zsh behaves:

    % if [[ """" ]];then echo hoge;fi
    zsh: parse error near `]]'
    % if [[ ""x"" ]];then echo hoge;fi
    zsh: parse error near `]]'
    % if [[ -n """" ]];then echo hoge;fi
    % if [[ -n ""x"" ]];then echo hoge;fi
    hoge
    %

Closes-Bug: #1387943
Change-Id: Ia88de876dacb3664a7c3d8f5a035e8e50fddb678"
jimrollenhagen,2014-10-29 21:15:22,https://api.github.com/repos/openstack/devstack/git/commits/74b28bc43b9570496f2b67688e0c4c04aa273733,74b28bc43b9570496f2b67688e0c4c04aa273733,"Add iptables rule for Ironic VMs -> Swift

The agent ramdisk gets instance images from swift, set firewall
rules to allow this.

Also configure Ironic API port using the correct variable, and
use SWIFT_DEFAULT_BIND_PORT for Swift ports everywhere.

Change-Id: Ieec8cc64e504b04a21daa49e90e2d4925f4838ee"
dtroyer,2014-10-30 03:11:05,https://api.github.com/repos/openstack/devstack/git/commits/17314d242e1fea5a5ebc602c2a72fc28fb5473b4,17314d242e1fea5a5ebc602c2a72fc28fb5473b4,"Remove old guides

Change-Id: I2f8cd36aef1e0018ed4d5619c934dc9772823656"
jogo,2014-10-28 20:37:15,https://api.github.com/repos/openstack/devstack/git/commits/18d6298ea1eb0ff9697258dc323f1aba2b9b3d46,18d6298ea1eb0ff9697258dc323f1aba2b9b3d46,"Make allow_{resize|migrate}_to_same_host configurable

In preparation for supporting 2 node devstack jobs, where the first node
is an all in one and the second is a compute node. Make nova config
options allow_resize_to_same_host and allow_migrate_to_same_host
configurable so we can turn them off when we have two compute nodes.

Change-Id: If6989200b56c4597d6e8506d0dda2cc75d0881f1"
amotoki,2014-10-15 10:53:11,https://api.github.com/repos/openstack/devstack/git/commits/20522e3b0e69c1f37ebeb7b4a66d9ced9e2a4236,20522e3b0e69c1f37ebeb7b4a66d9ced9e2a4236,"Add pcre devel package for Horizon

pyScss python module uses pcre if available for performance
and it is better to be installed.
This commit adds it for files/{apts,rpms}/horizon.

Change-Id: If711fa222d3f395efd670334c8a84f35d195dc25"
ianw,2014-10-16 02:15:51,https://api.github.com/repos/openstack/devstack/git/commits/46b0be31372e2f1aa9c2e55f3112b65a76167f8e,46b0be31372e2f1aa9c2e55f3112b65a76167f8e,"Fix up file-matching in bashate tox test

The current test does not match file files in /lib/* because the
-wholename command is missing the preceeding \*.  The whole command is
a little difficult to understand.

This re-lays the find command, using -prune to skip dot directories
and keeping a hopefully clearer flow of what is being matched.

Change-Id: Idd856e897ff97095fb116294a9187ff4b198fa26"
ianw,2014-10-29 10:53:56,https://api.github.com/repos/openstack/devstack/git/commits/f3bf8b6cc0dc94684a3bbecc4cc1e2169506f804,f3bf8b6cc0dc94684a3bbecc4cc1e2169506f804,"Revert ""Single quote iniset argument in merge_config_file""

This reverts commit e2c9fee8ed846aba124a2fc1bba245790ed7ba90.

We have decided that we don't want to support the json-style argument
as described by bug#1374118 (see thread at [1]).

This restores the old behavior of sending the argument in
double-quotes so environment variables get expanded.  As a bonus,
tests for this are added.

[1] http://lists.openstack.org/pipermail/openstack-dev/2014-October/049341.html

Change-Id: I9fc99f3716cc53366907878adb00ae6cf3898f14
Closes-Bug:#1386413"
yamt,2014-10-28 03:21:38,https://api.github.com/repos/openstack/devstack/git/commits/d16197b689e9087d6c22e0488c0aa671578a927d,d16197b689e9087d6c22e0488c0aa671578a927d,"Stop setting deprecated OVS.enable_tunneling option

The option has been deprecated in IceHouse and now being removed.

Related-Bug: #1195374
Change-Id: I38d962551173892144c369df71e0524b43e1fc89"
wanghonghw,2014-10-28 11:09:04,https://api.github.com/repos/openstack/devstack/git/commits/7fb5082c5c7abff95eb46dd9a92c5fd8fc63ddd2,7fb5082c5c7abff95eb46dd9a92c5fd8fc63ddd2,"correct templated catalog driver class

Now the templated catalog driver class ""TemplatedCatalog"" is removed
in this patch https://review.openstack.org/#/c/125708/2 use
""keystone.catalog.backends.templated.Catalog"" instead.

Change-Id: Ib9c8ea557e7171ff0c78a1e10d752ed564aff9e7
Closes-Bug: #1386562"
SlickNik,2014-10-26 22:41:15,https://api.github.com/repos/openstack/devstack/git/commits/3ec8a9032724a5ad86d80b3ac3ef7143c6c68890,3ec8a9032724a5ad86d80b3ac3ef7143c6c68890,"Use updated trove mysql image location

Use the updated trove mysql image at:
tarballs.openstack.org/trove/images/ubuntu/mysql.qcow2
instead of the older deprecated image at:
tarballs.openstack.org/trove/images/ubuntu_mysql.qcow2/ubuntu_mysql.qcow2

Change-Id: If76f25dfe0f975faf1883f0a6d993c21b26e1b29"
yamt,2014-10-28 02:49:58,https://api.github.com/repos/openstack/devstack/git/commits/15130cd5fd1688b8984d78136b97bb8de7c32b64,15130cd5fd1688b8984d78136b97bb8de7c32b64,"Desupport neutron openvswitch and linuxbridge monolithic plugins

These plugins were removed in Juno.
Note: this doesn't affect the corresponding ML2 mechanism drivers.

Partial-Bug: #1323729
Change-Id: Ia8da1e20a03fef5657ba1584bf83ddd224b5d5f2"
salv-orlando,2014-10-15 12:09:45,https://api.github.com/repos/openstack/devstack/git/commits/e7f071b49fa0a4cb695220a2d159214779803cd8,e7f071b49fa0a4cb695220a2d159214779803cd8,"Remove no_wait ovs flag from vmw_nsx 3rd party lib

The no_wait flag can trigger a race conditon with ip addr flush
if the public bridge is not yet up. Due to this race condition
the local route for the external subnet might not be added.

The patch also renames br-ex to $PUBLIC_BRIDGE in some places

Change-Id: I11335c99dba580e7ca26b0b15b0df8dead367fdc"
sdague,2014-10-27 16:26:04,https://api.github.com/repos/openstack/devstack/git/commits/def1534ce06409c4c70d6569ea6314a82897e28b,def1534ce06409c4c70d6569ea6314a82897e28b,"allow for soft updating of global-requirements

This creates a devstack REQUIREMENTS_MODE which is how we handle
syncing of global requirements. The default is 'strict', which is
current behavior. There is a new 'soft' mode which does a
--soft-update for projects *not* found in projects.txt, which lets
them specify additional requirements.

Change-Id: I4aa606514131b5dde67d87f5c8db5a3f3e50fc03
Depends-On: I1f195ef9ff1509659848e14ec9936ff6f66a6496"
sc68cal,2014-10-27 15:36:41,https://api.github.com/repos/openstack/devstack/git/commits/f76ed01665d8718641a1c5e421571bd165486d24,f76ed01665d8718641a1c5e421571bd165486d24,"Docs: Fix exercise table in index.rst

Change-Id: I305414a5a38c6837a765110e726771ba2f94fe45"
yjiang5,2014-10-10 13:12:47,https://api.github.com/repos/openstack/devstack/git/commits/0d6e992d90b84bcafe16468b0a2aec903e3b7aa0,0d6e992d90b84bcafe16468b0a2aec903e3b7aa0,"Fix a minor comments

A minor mismatch in lib/neutron since now unstack.sh invokes
three functions and also start_neutron_agents() is called before
create_neutron_initial_network().

Change-Id: Ibbe68501cce4c062a9ac610cbc44188dc9bab6c8"
dtroyer,2014-10-21 16:16:58,https://api.github.com/repos/openstack/devstack/git/commits/f5cb1ce4c6f1733c3a5276dcf58f99c2984adafb,f5cb1ce4c6f1733c3a5276dcf58f99c2984adafb,"Update docs section for new build

The devstack.org build process was recently changed to run as a CI post
job, publishing the site after every commit.

Change-Id: I05ddb353fae524178a25f28f2437d4fc635167f9"
sc68cal,2014-10-24 14:48:46,https://api.github.com/repos/openstack/devstack/git/commits/0f3bafc74edce5fbc091b3cacf27f916ebf04fc7,0f3bafc74edce5fbc091b3cacf27f916ebf04fc7,"Remove copyright footer from RST docs

Change-Id: I2fe6aac7caec21af26983636d6ec827b3525ee15"
jogo,2014-10-23 17:52:40,https://api.github.com/repos/openstack/devstack/git/commits/cac1317676dcb0efa489dd667793cf4f6b366170,cac1317676dcb0efa489dd667793cf4f6b366170,"Move to download.fedoraproject.org

download.fedoraproject.org is the mirror system, while
dl.fedoraproject.org is just one system. We have seen performance issues
with dl.fedoraproject.org and using download.fedoraproject.org was a
recommended as a solution by the folks at #fedora-admin.

Local testing on a rackspace server with dl.fedoraproject.org got about
70K/s while download.fedoraproject.org got over 1M/s

Move over to https as well.

Related-Bug: #1383928
Change-Id: I318d8844cfcfbc42c1e552e443c6b793d20f321f"
gandelman-a,2014-10-22 20:21:22,https://api.github.com/repos/openstack/devstack/git/commits/ab50c702a770fa9d7fd0ff533566fc7a1775dde5,ab50c702a770fa9d7fd0ff533566fc7a1775dde5,"Use service tenant id for Ironic agent swift auth

Config of ironic conductor currently references a non-existent variable.
This corrects it by obtaining and using the correct tenant id.

Change-Id: I4340f75b2b22a8fd3fd8dd5cb30d7e91bce4f654"
sc68cal,2014-10-21 15:40:08,https://api.github.com/repos/openstack/devstack/git/commits/09e550c370cc79442236f8b05d00a7554bec9505,09e550c370cc79442236f8b05d00a7554bec9505,"Convert all HTML doc to RST

The motivation for this conversion is to have DevStack's docs be
generated using a more familair workflow for OpenStack projects, using
Sphinx.

Changing from raw HTML to RST will also make it easier to contribute
more documentation, as well as making edits less of a hassle.

The majority of the work was done by using Pandoc to convert from HTML
to RST, with minor edits to the output to remove errors in Sphinx.

Change-Id: I9636017965aeade37b950ddf5bdb0c22ab9004bd"
ianw,2014-10-22 00:35:29,https://api.github.com/repos/openstack/devstack/git/commits/ed077b2846af2b412247208316e6881bed65e6bb,ed077b2846af2b412247208316e6881bed65e6bb,"Always install latest EPEL

Having issues with the centos7 job, that seem to be because they use
an old snapshot that hasn't updated to the latest EPEL.  Thus we
re-install it to ensure we're getting the latest.

Change-Id: I7930f3e05ee953dab80b06142c17d6aa70f2c2d1"
rcritten,2014-10-21 22:17:48,https://api.github.com/repos/openstack/devstack/git/commits/4b109297d5b3dcdcdc2c7e4df1a1571cc674ee9f,4b109297d5b3dcdcdc2c7e4df1a1571cc674ee9f,"Configure glance CA certificate path in cinder

A new configuration option is available in cinder for setting
the CA path. Configure this option in devstack when native SSL
or TLS proxy is configured.

Change-Id: I2cf9a3b8ba8e4896bd98efe0fb6f7d62fb279d90
Closes-Bug: 1384267"
dtroyer,2014-10-17 16:04:48,https://api.github.com/repos/openstack/devstack/git/commits/50e9b9e25b94b6a088680d93b8873c0368a974b4,50e9b9e25b94b6a088680d93b8873c0368a974b4,"Remove internal bash8

We use the one installed from pypi in the tox venv, so dump
the original.  Fix up run_tests.sh.

Change-Id: I6b0aa1da9bfa4d742a7210e6ff800d72492a2178"
Adri2000,2014-10-21 11:46:54,https://api.github.com/repos/openstack/devstack/git/commits/eaff3e1b8c7133e4a5ea8a783e23536871be409a,eaff3e1b8c7133e4a5ea8a783e23536871be409a,"Reference git.o.o DevStack repo rather than GitHub

In docs, use git.o.o URLs rather than GitHub URLs for the DevStack repo,
and don't mention GitHub when git.o.o is more appropriate.
Also, replaced GitHub logo with Git logo in quickstart.png.

Change-Id: Iab0006144f008963b8cb5be2d10ce0f360c0e6ca"
ianw,2014-10-21 00:41:37,https://api.github.com/repos/openstack/devstack/git/commits/761c456a4e89802d2f78a8dbdc5f20d71716f7dd,761c456a4e89802d2f78a8dbdc5f20d71716f7dd,"Remove usage of $[ for arithmetic, take 2

I did a similar change in I8ba180be036836f37ebdbb6da36ff0be486c043e
but I guess somehow missed these ... maybe I forgot to add them to the
change.

As described originally, this causes TOT bashate to fail, so fix this
up before it gets released.

Change-Id: I5580cb46f1c8bd71c631549aab78428d95a6dc51"
gandelman-a,2014-10-17 00:42:33,https://api.github.com/repos/openstack/devstack/git/commits/8543a0f763c1f4fcc3ca7e13efece54a0ff7fbb6,8543a0f763c1f4fcc3ca7e13efece54a0ff7fbb6,"Make screen_service() useful for more than services

screen_service() can currently only be used to launch things that
pass the 'is_service_enabled' check, even though its calling functions
will have already done this.  This removes such check, renames it
to screen_process() and updates its usage elsewhere.

Change-Id: I480a4560a45b131a95c1b2d2d2379aeba542a9bc"
gandelman-a,2014-10-17 00:41:22,https://api.github.com/repos/openstack/devstack/git/commits/22ec45e63a45bb38f63ca995446338859dacb207,22ec45e63a45bb38f63ca995446338859dacb207,"Move generation of baremetal VM names to lib/ironic

The create-nodes script currently receives a total # of VMs to create
and creates them all, generating their names on the fly.  This moves
that name generation to lib/ironic and makes the script create only
single VMs as directed.  This centralizes the naming of things to
lib/ironic and will make it easier to reference these things elsewhere.

Change-Id: I98e61f7188e027e690303e32aff7cd2347f6d2c2"
amotoki,2014-10-15 08:26:59,https://api.github.com/repos/openstack/devstack/git/commits/6518c0b88ea52e93513fa34dd63eeb4596875212,6518c0b88ea52e93513fa34dd63eeb4596875212,"Compile Horizon message catalogs during stack.sh

Recently compiled message catalogs (mo files) were removed
in Horizon and django_openstack_auth repositories.
We need to compile message catalogs to make translations
available for Horizon users. It is useful for developers too.

Change-Id: I0831e8308205c116d8e3bb8b43be7f0dd6fa0c0a"
yamt,2014-09-12 14:44:58,https://api.github.com/repos/openstack/devstack/git/commits/0f18c23de880a38c15aa4bb5d3a8f114f48dfe20,0f18c23de880a38c15aa4bb5d3a8f114f48dfe20,"ofagent: Support physical_interface_mappings

Also, add a knob to create a veth pair instead of a bridge
to provide host connectivity for l3-agent.  (Q_USE_PUBLIC_VETH)

Related: blueprint ofagent-physical-interface-mappings
Change-Id: I4c2538f0fd3fb05bfdb69e7e4c3a8462af42ba10"
mestery,2014-10-15 16:30:15,https://api.github.com/repos/openstack/devstack/git/commits/3d6d89935f13635d3fe982ccf870c017155ea903,3d6d89935f13635d3fe982ccf870c017155ea903,"Update the OpenDaylight support to the Helium release

The OpenDaylight project recently released their latest release, codenamed
Helium. This commit updates the devstack support for OpenDaylight to this
new version, which includes changes to configuration files as well as the
startup of OpenDaylight itself.

Also update my email address in MAINTAINERS.rst.

Change-Id: I124b5e7e8ef7feb6c90de907916a9530409c4ad4"
eharney,2014-10-14 22:53:53,https://api.github.com/repos/openstack/devstack/git/commits/014564873e98f521338f8bf3ac97e1a7e96ecc9c,014564873e98f521338f8bf3ac97e1a7e96ecc9c,"Set Tempest storage protocol and vendor w/o setting driver

Set TEMPEST_STORAGE_PROTOCOL and TEMPEST_VOLUME_VENDOR if
they are changed from their defaults, or if
TEMPEST_VOLUME_DRIVER is changed.

This maintains the current behavior of setting these options if
TEMPEST_VOLUME_DRIVER is set to something other than ""default"".

Change-Id: I1fb7f5db0446f97de48b97a6f451882cc51c51a4"
gandelman-a,2014-10-14 22:50:18,https://api.github.com/repos/openstack/devstack/git/commits/8f38572588af308d433a3bd7fbd93163348d98d3,8f38572588af308d433a3bd7fbd93163348d98d3,"support proposed/* branches

Provide support for named proposed branches for selection logic

This syncs the get_release_name_from_branch() function from grenade.

Change-Id: I1adabf07cdc3ea6863cd30d8b6454fb40fc20288"
emonty,2014-10-07 20:25:01,https://api.github.com/repos/openstack/devstack/git/commits/0cbddea50d9651342647884bf9b8733354238884,0cbddea50d9651342647884bf9b8733354238884,"Move the doc paths to match other repos

In order to build in the Infra system, we'd like to be able to reuse the
existing doc build macros. To support that, move docs/source to
doc/source and docs/html to doc/build/html.

Change-Id: Ibd8e8e82e54c69b182120df67e6ec6908fed2908"
emonty,2014-10-07 20:13:28,https://api.github.com/repos/openstack/devstack/git/commits/ebb983d3f218e276bbcda5875d513b8d4dae9d3c,ebb983d3f218e276bbcda5875d513b8d4dae9d3c,"Make the tox docs env build the docs

The tools/build_docs script builds the docs for devstack. Use it.

Change-Id: I530ff6c8090f2c58160cb11bee35534b79db52ed"
kevinbenton,2014-10-14 11:54:42,https://api.github.com/repos/openstack/devstack/git/commits/e0d6a46b8afaeacc070a84f58ecf8e03ffe8275c,e0d6a46b8afaeacc070a84f58ecf8e03ffe8275c,"Add test case for colon in value

Adds a test case for a colon in a value

Change-Id: Ica56b8af5fa59a008cfe96424b1d3e17fd6cf7d6"
kevinbenton,2014-10-14 11:35:59,https://api.github.com/repos/openstack/devstack/git/commits/a7eb07a3e22eb0362b28cec4bd289201a9adf699,a7eb07a3e22eb0362b28cec4bd289201a9adf699,"Revert ""Allow multi-line config items in meta-section of local.conf""

This reverts commit 6ff21acf4c4d4ef08bbef419ba582cade4da8da7.

This commit has broken config options with colons in them.
The following is a sample configuration that no longer works:

[[post-config|/etc/neutron/plugins/ml2/ml2_conf.ini]]
[restproxy]
server_ssl=False
servers=10.211.1.9:80
server_ssl=False

With the above config and the code present that this reverts,
the 'servers' option will come out blank.

Change-Id: I328852d2d941605051a1bf5eaf0f7674191f8c48"
leseb,2014-10-05 22:15:33,https://api.github.com/repos/openstack/devstack/git/commits/fa16ae92cd7339a830851dea17ce263205b78865,fa16ae92cd7339a830851dea17ce263205b78865,"Add the ability to activate Nova ceph without Cinder

Prior to this patch, if we wanted to boot a VM in Ceph using
libvirt_image_type we must had Cinder enabled. This patch allows you to
use libvirt_image_type without having Cinder enabled.

Change-Id: Ia61e6effc5a4ccba69f4fa48f6e9984f15bb8979
Signed-off-by: S√©bastien Han <sebastien.han@enovance.com>"
sirushtim,2014-10-09 09:05:38,https://api.github.com/repos/openstack/devstack/git/commits/2f92c8d723f6e244faf410c5121de4c462c08a35,2f92c8d723f6e244faf410c5121de4c462c08a35,"Replace deprecated conf option for heat

Change-Id: I0419b188ecc2bd946c1c1f565875c6a04f4afd9b
Closes-Bug: #1379234"
stevemar,2014-10-06 07:36:20,https://api.github.com/repos/openstack/devstack/git/commits/bf1b8ed4707e6ee3588c5b5237317325fe2d57c4,bf1b8ed4707e6ee3588c5b5237317325fe2d57c4,"Move swift CLI commands to OSC commands

Only a few instances in exercises/swift.sh

Change-Id: I0a39b11f660453a378d44e4f9f28a4a57352f4a8"
morrisson,2014-10-08 06:52:21,https://api.github.com/repos/openstack/devstack/git/commits/d03915f9c08ff91c5d39f8cadb064718079bdb4b,d03915f9c08ff91c5d39f8cadb064718079bdb4b,"Enable Swift's newer feature of container-sync

Newer version of container-sync feature is introduced in Swift ver. 1.12.0.

The spec:
http://docs.openstack.org/developer/swift/overview_container_sync.html

Before this commit, Devstack does not configure any realm used in
container-sync, therefore this feature does not work.
To test this feature in CI system, moreover to show the sample
configuration of realms, Devstack now edits realms configuration file.

Change-Id: I9f1e3224403e08e725a989162729470357fe90b0
Closes-Bug: 1378646"
ianw,2014-10-08 04:37:23,https://api.github.com/repos/openstack/devstack/git/commits/3682b6de55ee88109147516be0a2634aeeb951ab,3682b6de55ee88109147516be0a2634aeeb951ab,"Install latest EPEL release

Use a little trick cribbed from [1] to install the latest EPEL
release, rather than hard-coding versions

[1] http://stackoverflow.com/questions/14016286/how-to-programmatically-install-the-latest-epel-release-rpm-without-knowing-its

Closes-bug: #1376321
Change-Id: Ib89d73d669efe2e2d61fc0b12b46395fce113386"
gandelman-a,2014-10-02 00:06:19,https://api.github.com/repos/openstack/devstack/git/commits/0f72625fba22783bf78ffdc809da7fd42d0c4310,0f72625fba22783bf78ffdc809da7fd42d0c4310,"Enable DIB service to build with minimal net access

Adds two new options to lib/dib that will help devstack slaves
use cached content and content local to cloud provides:

 * DIB_BUILD_OFFLINE: This will enable DIB to rely entirely on
   cached images without making any additional calls to cloud-images.ubuntu.com
   to validate hashes/freshness.

 * DIB_APT_SOURCES: Used to specify alternatve sources.list for image builds.
   Setting this enables the addition of the apt-sources element during image
   builds and is only supported for ubuntu/debian builds.

Change-Id: I9b9ca72ec551565d454610aacb86c585f0384f13
Partial-bug: #1375488"
eharney,2014-10-08 14:39:46,https://api.github.com/repos/openstack/devstack/git/commits/9a706107d6603c9a13c8ec128b6f0ca397492f02,9a706107d6603c9a13c8ec128b6f0ca397492f02,"Set Glance default_store to rbd in [glance_store]

Glance is moving from [DEFAULT] to [glance_store] for this option.
Since lib/glance sets both, let's also set it in both places for now.

Failing to do this causes g-api to fail to start with error:
""Store for scheme swift not found""

Change-Id: I9e33ababf7c51f5c750f90b8b366b9892bb4c8cd"
stevemar,2014-10-06 06:23:28,https://api.github.com/repos/openstack/devstack/git/commits/e321e305f3b571b1b3ae26f169b71786537d400a,e321e305f3b571b1b3ae26f169b71786537d400a,"Correct swift service name in docs

The docs incorrectly show an example of:

  enable_service swift

This does not work, it must be enabled on a per swift service
basis, like:

  enable_service s-proxy s-object s-container s-account

Change-Id: Ib4ed8b43f777d308f5464d45dc87735e843c0daf"
ianw,2014-09-25 23:42:11,https://api.github.com/repos/openstack/devstack/git/commits/e2c9fee8ed846aba124a2fc1bba245790ed7ba90,e2c9fee8ed846aba124a2fc1bba245790ed7ba90,"Single quote iniset argument in merge_config_file

If we don't single quote the extracted argument to iniset we drop any
quotes from the source.  Add a simple test-case for this.

Partial-bug: #1374118

Change-Id: If2f47b64b11015e727a011c7e5f6e8ad378b90eb"
gandelman-a,2014-10-06 21:33:59,https://api.github.com/repos/openstack/devstack/git/commits/d29ca35e79fab38a48399a305074fd72663f998a,d29ca35e79fab38a48399a305074fd72663f998a,"Stop n-cpu by correct process name /w fake

When VIRT_DRIVER=fake, n-cpu processes are numbered (ie, n-cpu-1) in
start_nova. However, this scheme is not taken into account when
stopping nova, resulting in leftover n-cpu processes that fail
grenade's stop-base if USE_SCREEN=False. This special cases for the
fake driver in stop_nova_compute and ensures n-cpu(s) is shutdown
correctly.

Change-Id: Icebece9eadc4e10bb12fe4fdd2fa37d5f3983f66
Close-bug: #1378112"
gandelman-a,2014-10-03 20:27:17,https://api.github.com/repos/openstack/devstack/git/commits/0e4cd038287bcf36ff31c4e7b22266051198b44c,0e4cd038287bcf36ff31c4e7b22266051198b44c,"Source functions from stackrc

stackrc now requires GITREPO, GITBRANCH, GITDIR and has been
dependent on functions for a while (is_package_installed).  Ensure
we source the required functions file when stackrc is loaded.  Avoids
unexpected issues in grenade where they may or may not have been loaded
depending on the configuration.

Closes-bug: #1377274

Change-Id: I5027cfad07af0de7ff39f424601d6f7ec5dcadae"
kshileev,2014-10-03 18:48:58,https://api.github.com/repos/openstack/devstack/git/commits/608f884edb2faff59100bb5aa84e8d59e5d3e6d8,608f884edb2faff59100bb5aa84e8d59e5d3e6d8,"Use ALT_INSTANCE_USER for image_alt_ssh_user

Change-Id: Ib9cfb6e989575d62c493cbe92fdefd8c90256bcd
Closes-Bug: 1377914"
sdague,2014-10-02 16:29:08,https://api.github.com/repos/openstack/devstack/git/commits/24516d04fb6d0b3a5213e9d962fdf307e6a38d55,24516d04fb6d0b3a5213e9d962fdf307e6a38d55,"restructure stackrc into groupings

in order to support installing from stable libraries we first need to
actually sort out all the categories our giant list of git repos fit
into. This will make it much easier to not lose one in the process.

Change-Id: I708c65428fdc7442e1661037f425e466048166d3"
sdague,2014-10-03 12:00:52,https://api.github.com/repos/openstack/devstack/git/commits/b7cda389376ed6996f84122fb7b021cf8c6b5007,b7cda389376ed6996f84122fb7b021cf8c6b5007,"fix olso != oslo typos

Apparently oslo is the hardest word in the world for me to understand
that I didn't spell correctly.

Change-Id: Id1b52529001319eaf41321118ab560711c752003"
MikeSpreitzer,2014-08-29 06:52:54,https://api.github.com/repos/openstack/devstack/git/commits/3edd4540b936d1f03e990660312f2377354140a8,3edd4540b936d1f03e990660312f2377354140a8,"Added libvirt-dev[el] as a required system package

Added libvirt-dev as a system package to install with apt-get and
libvirt-devel as a system package to install with rpm.

Early drafts qualified with ""testonly"" (meaning to install only if
INSTALL_TESTONLY_PACKAGES is true).  This is needed because installing
libvirt-python version 1.2.5 on Ubuntu 14.04 was observed to fail in
the building step if libvirt-dev is missing.  Later drafts removed
that qualification, because Sean Dague said he thinks libvirt-dev[el]
is always required.

Change-Id: Ie6a272f60059a1f363630f307416b32c450a1ebb
Closes-Bug: 1362948"
dtroyer,2014-06-12 23:45:42,https://api.github.com/repos/openstack/devstack/git/commits/a08ba1c5e362fe294759339ffe3fdf3408149788,a08ba1c5e362fe294759339ffe3fdf3408149788,"Add NetApp Cinder backend support

Supports both iSCSI and NFS, and now both 7mode and cluster mode

Change-Id: If590a7a255268fcce4770c94956607251c36fdf5"
dtroyer,2014-09-18 14:26:39,https://api.github.com/repos/openstack/devstack/git/commits/3324f19f5aeb3c8933447752dbc2c1b8c7f9b2de,3324f19f5aeb3c8933447752dbc2c1b8c7f9b2de,"Fix docs build errors

Fix shocco errors during docs generation

Closes-Bug: 1362691
Change-Id: I2b7fb008c89f0b4e7280b2d0a054320765e83e47"
gandelman-a,2014-10-02 18:25:03,https://api.github.com/repos/openstack/devstack/git/commits/6566f21ddfb038c2eee402cdcb097f43f3480006,6566f21ddfb038c2eee402cdcb097f43f3480006,"Adds qemu packages to ironic's apts

Nodepool images have recently migrated to being built with DIB, resulting
in strange changes in how the package dependency chain works out.  This
explicitly adds required qemu packages to Ironic's apts to avoid some
not being pulled in by package dependencies alone.

Change-Id: I60373ee5ad7445cd54c8c013085b28d82bb0d085
Closes-bug: #1376863"
flaper87,2014-09-05 14:03:01,https://api.github.com/repos/openstack/devstack/git/commits/e29a55ade1af386fda16217f4c07b90e6e95f47a,e29a55ade1af386fda16217f4c07b90e6e95f47a,"Add support for redis to Zaqar's lib

A new redis driver has landed in Zaqar. This patch adds support for that
driver to Zaqar's lib.

Change-Id: I97629a303c55ee098e3bfbc534bfb05ccab94649"
flaper87,2014-09-08 07:48:27,https://api.github.com/repos/openstack/devstack/git/commits/dec13c336dd24150d57be35b54a8d40618a5e29e,dec13c336dd24150d57be35b54a8d40618a5e29e,"Specialize Zaqar's cleanup function

Instead of having mongodb specific cleanup logic in `cleanup_zaqar`,
specialize it to perform clean ups based on the driver that has been
enabled.

Change-Id: I5807a83443b87b2c8d184e0cd2d5563a649c6273"
jogo,2014-10-02 01:21:08,https://api.github.com/repos/openstack/devstack/git/commits/944b28280b86bba7592b1c7a2032dbd0eaa39014,944b28280b86bba7592b1c7a2032dbd0eaa39014,"Drop workaround for pip < 1.4

Now that we are on pip 1.5.6 lets drop the workaround to make pip 1.4
work. As this is a development/testing tool requiring a newer pip
shouldn't be an issue. Also stack.sh installs pip by default.

Work around introduced in https://github.com/pypa/pip/issues/709

Change-Id: I0e7aad1d21f4fce4c020ce36685bb56893c66bdc"
sdague,2014-10-01 13:06:43,https://api.github.com/repos/openstack/devstack/git/commits/cc52406a7843367c42e276b85cb9e73e4c525d51,cc52406a7843367c42e276b85cb9e73e4c525d51,"use released library versions by default

This patch provides a new path for installing libraries in devstack so
that it's possible to either test with upstream released libraries, or
with git versions of individual libraries.

Libraries are added by name to 3 associative arrays GITREPO,
GITBRANCH, GITDIR. When we get to the library install phase we inspect
LIBS_FROM_GIT and look for libraries by name (i.e. ""oslo.config"") and
if they exist we'll clone and install those libraries from
git. Otherwise we won't, and just let pip pull them as dependencies
when it needs them.

This patch provides the conversion of the oslo libraries, including
pbr.

Devstack-gate jobs for these libraries will need to change to support
actually forward testing their content.

Change-Id: I6161fa3194dbe8fbc25b6ee0e2fe3cc722a1cea4"
kgiusti,2014-09-30 14:14:08,https://api.github.com/repos/openstack/devstack/git/commits/062a3c3e707e69778d2bb95e3e861e7bd65114b7,062a3c3e707e69778d2bb95e3e861e7bd65114b7,"Configure an authorized user for the QPID broker

If QPID_USERNAME is set, add the user to the QPID broker's
authentication database.  Use the value of QPID_PASSWORD as the
password for the user, prompting for a password if QPID_PASSWORD is
not set.  This requires that all clients provide this username and
password when connecting to the QPID broker, or the connection will be
rejected.

If QPID_USERNAME is not set (the default), disable QPID broker
authentication. This allows any client to connect to the QPID broker
without needing authentication.

Change-Id: Ibd79873379740930ce5f598018c1ca1fffda7c31
Closes-Bug: 1272399"
jogo,2014-09-26 17:17:57,https://api.github.com/repos/openstack/devstack/git/commits/82d6e537522083749a664b99e1bdca2d8a33c6b9,82d6e537522083749a664b99e1bdca2d8a33c6b9,"don't set nova.conf auth_strategy

keystone is the default value, so no need to override it.

Change-Id: I8e00071612d79959531feffc7e7993fa8c536359"
sdague,2014-10-01 02:37:52,https://api.github.com/repos/openstack/devstack/git/commits/c53e83601a4ffc572ae99b3a4f330a940066cc1d,c53e83601a4ffc572ae99b3a4f330a940066cc1d,"remove deprecated pip option

--build is a deprecated option in pip, remove it

Change-Id: I8cb5f570431dcbd3389cd3b8d54d9ef40aa66dee"
emonty,2014-09-30 16:53:34,https://api.github.com/repos/openstack/devstack/git/commits/50495b0163e731f2fd5fe2d43aed10c8c2fe8e1e,50495b0163e731f2fd5fe2d43aed10c8c2fe8e1e,"Install dib from pip

diskimage-builder makes releases to PyPI and is not part of the
integrated release. Since it's not, we don't need to consume its
master branch - rather, we can consume its releases.

Change-Id: If9297a28604612140c39dfe44e77107d1372f0bb"
kevinbenton,2014-07-18 23:06:12,https://api.github.com/repos/openstack/devstack/git/commits/08a5fcc7faae8cab558617b46b684009df595fdd,08a5fcc7faae8cab558617b46b684009df595fdd,"Use service role for neutron instead of admin

When creating the account for neutron to use in keystone,
give it a service role instead of an admin role so it isn't
overprivileged with the ability to create and delete tenants.
Also set the Neutron policy.json file to allow the Neutron
account to administer Neutron.

Closes-Bug: #1344463
Change-Id: I86b15cfcffe549654c28f425c2bcf99403ac10bc"
j-griffith,2014-09-19 16:26:51,https://api.github.com/repos/openstack/devstack/git/commits/44e16e01da9d3b7d647d379f8c9cab763fc7912a,44e16e01da9d3b7d647d379f8c9cab763fc7912a,"Relocate SERVICE_TIMEOUT to stackrc

cinder_driver_cert.sh restarts volume services
and needs the SERVICE_TIMEOUT variable set, but
that was being declared in stack.sh.

Rather than create another duplicate variable in
the cert script, just move the SERVICE_TIMEOUT
variable to stackrc so it can be shared like other
common variables.

Change-Id: I650697df015fed8f400101a13b6165ac39626877
Closes-Bug: 1350221"
BobBall,2014-09-29 11:53:02,https://api.github.com/repos/openstack/devstack/git/commits/3cd1771408f5025177ff0ac7578527c5a9a64bfa,3cd1771408f5025177ff0ac7578527c5a9a64bfa,"XenAPI: Upgrade built-VM to Trusty

If you're not using an XVA then the built-VM was previously Saucy, which is
not supported by openstack any more.

Change-Id: I1040d9e43d517582e76f2e1df787986b5ffbc42c"
jpichon,2014-09-29 03:55:21,https://api.github.com/repos/openstack/devstack/git/commits/ac937bc06eb68cb1c94804995325b9fa8b850959,ac937bc06eb68cb1c94804995325b9fa8b850959,"Install ldappool when LDAP is enabled

Keystone expects ldappool to be installed when using the LDAP backend.

Change-Id: I35e6585ec8416153ed6d0c6fa8c10c992bf0de6d
Closes-Bug: #1373750"
sdague,2014-08-28 11:26:31,https://api.github.com/repos/openstack/devstack/git/commits/68e9f05f7c19b1bd9d4c7e8e7f88fbf93d18b9f9,68e9f05f7c19b1bd9d4c7e8e7f88fbf93d18b9f9,"remove kombu from package lists

This is a pure python library that we should probably let pip
handle so that we don't accidentally only test whatever patched
version is in trusty instead of the upstream versions.

Change-Id: I93d2f9344b9f83d2397466b4bc29c97210919ed9"
gkotton,2014-09-22 07:55:02,https://api.github.com/repos/openstack/devstack/git/commits/3fcd2baf95332e814e56a7cddc1b85dd15ae6391,3fcd2baf95332e814e56a7cddc1b85dd15ae6391,"Ensure that keystone uses global debug setting

When setting ENABLE_DEBUG_LOG_LEVEL the keystone screen would ignore
this setting and always use the debug mode.

Change-Id: I934443c2976e936198fc93da4cca717e6cb84e6f"
jogo,2014-09-26 16:59:47,https://api.github.com/repos/openstack/devstack/git/commits/1f79bad7ecc28d472b1e2c185fdba7a9dd61a524,1f79bad7ecc28d472b1e2c185fdba7a9dd61a524,"Stop setting nova.conf settings that mean nothing

* DEFAULT.fixed_range isn't a valid option in nova anymore
* DEFAULT.osci_compute_workers was never a thing, it should be
  DEFAULT.osapi_compute_workers

Change-Id: Ib08f3e20e4685b331385431276f890205fa76da6"
jogo,2014-09-26 16:52:13,https://api.github.com/repos/openstack/devstack/git/commits/a7bde1fdf7df38490b80871dd652401fb1721232,a7bde1fdf7df38490b80871dd652401fb1721232,"Cleanup nova-cinder nova.conf section

Stop using deprecated conf names, don't override default values with
default values.

Change-Id: I2c7e0833a61926b9fc9b5de4e38fdd626501d78d"
toabctl,2014-09-25 05:55:15,https://api.github.com/repos/openstack/devstack/git/commits/293869fbacea6939a63a8a83311063af8376cf9c,293869fbacea6939a63a8a83311063af8376cf9c,"Fix pkg name for mysql-connector-python on SUSE

The correct package name on SUSE distros is python-mysql-connector-python.

Change-Id: I5250356f782f149f87f3d0ffba3380911fa437be"
rcritten,2014-03-19 21:47:42,https://api.github.com/repos/openstack/devstack/git/commits/18d4778cf7bffa60eb2e996a13c129c64f83575f,18d4778cf7bffa60eb2e996a13c129c64f83575f,"Configure endpoints to use SSL natively or via proxy

Configure nova, cinder, glance, swift and neutron to use SSL
on the endpoints using either SSL natively or via a TLS proxy
using stud.

To enable SSL via proxy, in local.conf add

ENABLED_SERVICES+=,tls-proxy

This will create a new test root CA, a subordinate CA and an SSL
server cert. It uses the value of hostname -f for the certificate
subject. The CA certicates are also added to the system CA bundle.

To enable SSL natively, in local.conf add:

USE_SSL=True

Native SSL by default will also use the devstack-generate root and
subordinate CA.

You can override this on a per-service basis by setting

<SERVICE>_SSL_CERT=/path/to/cert
<SERVICE>_SSL_KEY=/path/to/key
<SERVICE>_SSL_PATH=/path/to/ca

You should also set SERVICE_HOST to the FQDN of the host. This
value defaults to the host IP address.

Change-Id: I36fe56c063ca921131ad98439bd452cb135916ac
Closes-Bug: 1328226"
toabctl,2014-09-24 12:50:45,https://api.github.com/repos/openstack/devstack/git/commits/cbd892b4363716be3d900ba753c81c06639fa97d,cbd892b4363716be3d900ba753c81c06639fa97d,"Install haproxy on SUSE distros

haproxy package is available for SUSE distros, so install it.

Change-Id: If363dbf439dbea9aafd265c2c665ff4c2b733738"
amotoki,2014-09-23 19:48:14,https://api.github.com/repos/openstack/devstack/git/commits/0843f0ab05a7f477cfc83a70f7711f438e7e8cbd,0843f0ab05a7f477cfc83a70f7711f438e7e8cbd,"Update Horizon Neutron-related settings

- Horizon no longer has ""enable_security_group"" setting
  so we need to remove it.
- There is no need to set enable_lb/firewall/vpn to True
  when q-lbaas/q-fwaas/q-vpn is enabled because Horizon now checks if
  Neutron ext-list and enables corresponding dashboards accordingly.

Change-Id: I37073d73e4cba0103ab1a3d935302f1cd0ef73c5"
BobBall,2014-09-23 10:22:41,https://api.github.com/repos/openstack/devstack/git/commits/0be63f3979d081fb7bf039b753218915a9ec487f,0be63f3979d081fb7bf039b753218915a9ec487f,"XenAPI: stackrc now depends on nproc

Install it automatically in the devstack DomU

Change-Id: Ie282dd128ebc92377d85800585962bc8767483fe"
steveb,2014-09-23 05:10:39,https://api.github.com/repos/openstack/devstack/git/commits/e389aed5bdb6d0a0c5b1fbc672f62628726a6544,e389aed5bdb6d0a0c5b1fbc672f62628726a6544,"Allow heat standalone to work devstack stack

For functional testing of heat-standalone it is desirable for
heat to orchestrate on the rest of the cloud which is brought up
by devstack. This change makes the following changes to enable
this when HEAT_STANDALONE=True:

- Don't register the orchestration endpoint or create any dedicated
  heat accounts
- Install and configure the heat keystone V2 auth plugin instead of
  the default v3
- set heat.conf [clients_heat] url so that heat can call its own
  API when no orchestration endpoint is registered
- Modify create_userrc.sh to set the required heat client env
  variables to work with the standalone heat

Change-Id: Idae33bf1a9d550e2575e6390d2d7c8d3b94c401d"
toabctl,2014-09-22 17:04:05,https://api.github.com/repos/openstack/devstack/git/commits/8732afe2f92545f2b9956c37bdfca4ee1bc07cae,8732afe2f92545f2b9956c37bdfca4ee1bc07cae,"Use correct WSGI dir on SUSE distros

The current default (/var/www) leads to:

AH01797: client denied by server configuration:
/var/www/keystone/admin

For /var/www the needed permissions on SUSE are not set.
For /srv/www/htdocs/ the permissions are correct on SUSE systems.

Change-Id: I3f2df896daecdfe510d45ff121af2a8433a4d5be"
brantlk,2014-08-24 23:54:51,https://api.github.com/repos/openstack/devstack/git/commits/3951a9449924f0e8ce962738bfe557f2b48085c7,3951a9449924f0e8ce962738bfe557f2b48085c7,"Configurable token hashing algorithm

The Keystone server and auth_token middleware were enhanced to
support a configurable hash algorithm.

With this change, the user can set

 KEYSTONE_TOKEN_HASH_ALGORITHM=sha256

in their localrc to use the SHA256 algorithm rather than the
default md5. Any hash algorithm supported by Python's hashlib can
be used. The MD5 algorithm doesn't provide enough protection from
hash collisions and some security standards mandate a SHA2 hash
algorithm.

Change-Id: I8b373291ceb760a03c4c14aebfeb53d8d0dfbcc1
Closes-Bug: #1174499"
brantlk,2014-09-19 22:22:22,https://api.github.com/repos/openstack/devstack/git/commits/0595237e8adee0320dbcabe5647f7aa179378741,0595237e8adee0320dbcabe5647f7aa179378741,"Function for auth_token middleware config

Each project was configuring the auth_token middleware using several
lines of inisets. Since all the projects should configure the
auth_token middleware in the same way create a function and call it.

Change-Id: I3b6727d5a3bdc0ca600d8faa23bc6db32bb32260"
brantlk,2014-09-13 19:49:24,https://api.github.com/repos/openstack/devstack/git/commits/85a17ea1ded77204fa7f0d2510a637805d1724bb,85a17ea1ded77204fa7f0d2510a637805d1724bb,"Configurable Keystone admin workers

The API_WORKERS option wasn't setting the number of admin workers
for the Keystone server when running in eventlet mode. This will
allow for control of throughput and memory usage.

Change-Id: Iecbce4a601f93784164e53d8b0c542d48f7b5650"
vkmc,2014-09-19 22:07:10,https://api.github.com/repos/openstack/devstack/git/commits/f080e893076ff29055c204d2e4c76951c3064713,f080e893076ff29055c204d2e4c76951c3064713,"Updates DevStack to match Zaqar's API name change

Zaqar is a messaging service which provides support for different
messaging patterns and messaging related semantics.
This fix changes the old API name -queuing- to a more accurate name, -messaging-.

Change-Id: I07ca6ca704a4f07d88c192a5ce1a7c626de1fcea"
jogo,2014-09-15 03:52:38,https://api.github.com/repos/openstack/devstack/git/commits/ecad2f277e9e109115e7cc1cb9dd4527adc4f6de,ecad2f277e9e109115e7cc1cb9dd4527adc4f6de,"Add trove-api to $API_WORKERS

Ie4bb075310a61a0873c9e56e4974600dbb4794a1 missed trove when adding
support for $API_WORKERS.

Change-Id: Iaeb43ef63596a61ad9c128e57d6a2d68b688719e"
dtroyer,2014-09-16 22:25:33,https://api.github.com/repos/openstack/devstack/git/commits/05bd7b803d87bbdd1a6f11cfd278eec319c819ea,05bd7b803d87bbdd1a6f11cfd278eec319c819ea,"Set default API_WORKERS

Set the API_WORKERS default to control memory usage. Maximum is nproc / 2 and
minimum is 2.

* Also updates https://review.openstack.org/#/c/117517/ to remove the
  conditional test as API_WORKERS should always be set.
* Update https://review.openstack.org/#/c/109058/ for ceilometer to use API_WORKERS

The following reviews can move forward either as-is or with minor tweaks:
* Keystone: https://review.openstack.org/#/c/121384/ - remove the if check
* Swift: https://review.openstack.org/#/c/121456/ - unabandon, the default
  to 1 is fine, or remove it to match the others.
* Trove: https://review.openstack.org/#/c/121438/ - remove the if check

https://etherpad.openstack.org/p/devstack-workers has the details

Change-Id: Id28d72ebf01c88b7df301edf7d1dd7ec23fcd0d6"
chungg,2014-09-17 18:54:21,https://api.github.com/repos/openstack/devstack/git/commits/bdeea69d726eca7a899b1d2225d213724b31df22,bdeea69d726eca7a899b1d2225d213724b31df22,"ceilometer compute agent not started correctly

command isn't properly parsed after switch to run_process. this
patch corrects the regression

Change-Id: Ib28d4bbf6f150854fc5aa04e3fa4eed92005ce19
Closes-Bug: #1370673"
BobBall,2014-09-17 11:39:50,https://api.github.com/repos/openstack/devstack/git/commits/6a95b605bcf94ba8385660a6681ffbbe46f2e39d,6a95b605bcf94ba8385660a6681ffbbe46f2e39d,"XenAPI: Fix race condition waiting for VM to start

Buildroot on Ubuntu Trusty is slow to populate the vnc-port.
Wait for 20 seconds until the port is populated.

Change-Id: I50e5b5a161207d46e8ce0e304d816e8e5b68dbe8"
mtreinish,2014-09-08 18:01:21,https://api.github.com/repos/openstack/devstack/git/commits/3472386273bccea2375b15c1902e300bade88c33,3472386273bccea2375b15c1902e300bade88c33,"Install tempest-lib as part of install_tempest

This commit adds support to devstack to install the newly created
tempest-lib project.

Change-Id: Ifcf56639757ec4814dcd31f791931afe61f5a672"
gandelman-a,2014-09-03 18:44:31,https://api.github.com/repos/openstack/devstack/git/commits/c4b067134c735b62b3c41105d29f83814abe8f90,c4b067134c735b62b3c41105d29f83814abe8f90,"Split keystone mod wsgi config from start/stop

We currently cleanup keystone apache config during stop_keystone
when mod wsgi is enabled, but only create it during initial keystone
configuration.  Grenade expects to be able to stop and start the
service without reconfiguring it, using only the respective functions.
This moves cleanup of config from stop_keystone to cleanup_keystone,
and enables/disables the apache vhost during start/stop.

Closes-bug: #1365105

Change-Id: I9e57c9a763fbdb8c5737decfe797ba0e9894150b"
leseb,2014-09-15 14:17:42,https://api.github.com/repos/openstack/devstack/git/commits/7c9abcad0dfeb0a2d8537e897ca26c0396633709,7c9abcad0dfeb0a2d8537e897ca26c0396633709,"Add RBD as a known store

Adding RBD as a known store in the glance-api.conf file allows us to use
Ceph as a backend for Glance.

Closes-Bug: 1369578

Change-Id: I02cbafa68ca3293cedc9fef7535e79930cc4ee5c
Signed-off-by: S√©bastien Han <sebastien.han@enovance.com>"
kgiusti,2014-09-15 18:21:55,https://api.github.com/repos/openstack/devstack/git/commits/a1875b7b67f26f0bb1e82ef8f31c3181e630b34b,a1875b7b67f26f0bb1e82ef8f31c3181e630b34b,"The python-qpid packages must be installed when qpidd is configured

The python-qpid package is available for Ubuntu trusty, precise, and
all the supported RHEL based platforms.  This package is necessary if
qpidd is configured as the RPC backend.  It is the client API used to
talk to the broker, and must be installed on each system that
communicates with the broker.

Change-Id: I635d3e857aa4b769a80cb7cde405cfd6cae44d32"
dtroyer,2014-07-25 19:45:34,https://api.github.com/repos/openstack/devstack/git/commits/ef66a77a6713612288731d9c6285e109583474a4,ef66a77a6713612288731d9c6285e109583474a4,"Clean up local variable usage - LDAP

Change-Id: I9545884eeabcd6c41f3cc5f091a71e726dc44e87"
ianw,2014-08-13 04:30:28,https://api.github.com/repos/openstack/devstack/git/commits/887fb54013feff6e063001fb4d879666b38fdbbd,887fb54013feff6e063001fb4d879666b38fdbbd,"Fix preparation of aki/ari/ami images on Ubuntu

The boto tests currently don't run because euca-bundle-image fails on
Ubuntu; e.g.

---
 ++ euca-bundle-image -r x86_64 \
  -i /opt/stack/new/devstack/files/images/cirros-0.3.2-x86_64-uec/cirros-0.3.2-x86_64-vmlinuz \
  --kernel true \
  -d /opt/stack/new/devstack/files/images/s3-materials/cirros-0.3.2

 euca-bundle-image: error: No such file or directory: /opt/stack/new/devstack/files/images/s3-materials/cirros-0.3.2
---

I noticed this in debugging why Fedora tests are running slower.  I
think that the version of euca-bundle-image in Fedora must create the
directory if it doesn't exist, while the Ubuntu one fails.

I also think this doesn't get caught by errexit because it's running
in a special sub-shell to use other credentials.

Change-Id: I79125e956088353aa76a3f7d6d81af1e4f6a27d4"
gyliu513,2014-09-14 13:23:05,https://api.github.com/repos/openstack/devstack/git/commits/04e3e502e407422e37035f8b7131640a32522e15,04e3e502e407422e37035f8b7131640a32522e15,"Set allow_migrate_to_same_host as True by default

After OpenStack was installed with devstack on a single node, cold
migration always failed because the default value of
allow_migrate_to_same_host is False. This means that devstack do not
support cold migrate a VM to a same host by default.

Normally, a developer will set up OpenStack with devstack on a single
node, so it is better that we change this value to True to enable
cold migration with a single node after installed by devstack.

Change-Id: I961395f1c79d9600917b6186964c13c92a8a6266"
yamt,2014-07-23 07:39:28,https://api.github.com/repos/openstack/devstack/git/commits/fec7b15cf778c23ee499c11f1e94d81966c5737c,fec7b15cf778c23ee499c11f1e94d81966c5737c,"ofagent: Switch to IptablesFirewallDriver

The latest version of ofagent
(ie. after blueprint ofagent-port-monitor)
follows IptablesFirewallDriver naming scheme.

Closes-Bug: #1364731
Related: blueprint ofagent-port-monitor
Change-Id: I690aab71b1cb222ffb8b458c90740ba623b0b37e"
dtroyer,2014-08-02 21:07:03,https://api.github.com/repos/openstack/devstack/git/commits/ffd17680d523bc0042a3c2eb8be8e29c307ce1b0,ffd17680d523bc0042a3c2eb8be8e29c307ce1b0,"Re-order stack.sh 3: logging and error traps

Part 3 of a series

Re-order the setup and check bits in the top portion of stack.sh to
have a logical flow with similar things done together.

No behaviour changes are intended aside from the order of execution.
Any such changes are bugs.

* Move logging and error configuration earlier to cover initial project setup.

Change-Id: Ib16bbe20f224b1cf5e86c7a2fda0d9472c108873"
dtroyer,2014-07-25 20:54:11,https://api.github.com/repos/openstack/devstack/git/commits/188493d50d888bd38665cd676f126b543692cc70,188493d50d888bd38665cd676f126b543692cc70,"Clean up local variable usage - Neutron

Change-Id: I3e19efd46cadcf0b4129a0f923fa7881f702d65c"
maurorodrigues,2014-09-12 02:21:13,https://api.github.com/repos/openstack/devstack/git/commits/4f58c429721087e34db91063637a0d08f2dbcf24,4f58c429721087e34db91063637a0d08f2dbcf24,"Add $TOP_DIR to the path when calling worlddump script

The missing reference to $TOP_DIR cause stack.sh to fail when called
from outside devstack's directory

Change-Id: I7faec7720896e7dcfe60fa87fb417f22c8801eef"
jimrollenhagen,2014-09-11 23:45:58,https://api.github.com/repos/openstack/devstack/git/commits/4cb0d8c8bb63061366ac6b125d1843f9ec3f77fe,4cb0d8c8bb63061366ac6b125d1843f9ec3f77fe,"Fix Ironic agent ramdisk URL

This URL was wrong in the first place, not sure how that happened.

Change-Id: I8a9a19c9776c06d062751becf8382b9a014e45eb"
kgiusti,2014-07-23 20:44:37,https://api.github.com/repos/openstack/devstack/git/commits/7e58c06a06bffc7b57386f9aed5ebb1829feeb07,7e58c06a06bffc7b57386f9aed5ebb1829feeb07,"Add an option to enable version 1.0 of the AMQP messaging protocol

This change adds the RPC_MESSAGING_PROTOCOL configuration option that
selects the messaging protocol that is used by the RPC backend and
client.

Some brokers can support different kinds of 'on the wire' messaging
protocols.  Qpid, for example, supports both AMQP 0-10 (the default),
and AMQP 1.0.  Use the RPC_MESSAGING_PROTOCOL configuration variable
to override the default protocol for those brokers that support
multiple protocol options.

This new option is necessary in order to enable the new AMQP 1.0
oslo.messaging transport as described in the blueprint.

Note well: currently this AMQP 1.0 functionality is only available on
fedora 19+ platforms.  Support is WIP on ubuntu/debian and rhel/centos
7. Enabling the RPC_MESSAGING_PROTOCOL option on an unsupported
platform will cause devstack to exit with an approriate error
message.

Change-Id: Ib8dea59922844e87d6c947b5dca557f5b5fc1160
Implements: blueprint amqp10-driver-implementation"
thang-pham,2014-09-09 21:30:54,https://api.github.com/repos/openstack/devstack/git/commits/3e13d60005b830b7b7d037e370eb95e8b828c7fa,3e13d60005b830b7b7d037e370eb95e8b828c7fa,"Add VMware vmdk cinder backend

The following patch adds VMware vmdk as a cinder backend.

Change-Id: I9c7fd99c3307278326e81758c0b74fc84428d237"
e0ne,2014-08-22 14:02:40,https://api.github.com/repos/openstack/devstack/git/commits/18b9dcc6692e9a329d9baee7db02b532d8990c84,18b9dcc6692e9a329d9baee7db02b532d8990c84,"Increase CEPH_LOOPBACK_DISK_SIZE_DEFAULT to 4GB

CEPH_LOOPBACK_DISK_SIZE_DEFAULT should be more than 2GB
to make volume snapshot feature works. 2GB is not enough
because min Cinder volume size is 1GB and no snapshot
could be created.

This also fixes related Tempest tests and experimental
check-tempest-dsvm-full-ceph gate job.

Change-Id: Ifa41d0d1764d68ea02dcb32a5fc62f7f6282904d"
BobBall,2014-08-28 13:50:04,https://api.github.com/repos/openstack/devstack/git/commits/2f72050ace4055fb8190257be910aadd83786ebf,2f72050ace4055fb8190257be910aadd83786ebf,"Allow setting the number of workers to be used.

Environments with large numbers of CPUs will create a large
number of workers which can have an unnecessarily large
impact on memory usage, particular where you know how many
workers are needed.

Change-Id: Ie4bb075310a61a0873c9e56e4974600dbb4794a1"
emonty,2014-09-08 20:47:06,https://api.github.com/repos/openstack/devstack/git/commits/81fa6c7b4bd5a1d57cc095395b9d2ba3eeb6c20f,81fa6c7b4bd5a1d57cc095395b9d2ba3eeb6c20f,"Add docs environment to tox.ini

As per the governance resolution https://review.openstack.org/119875,
projects should have a docs environment in their tox.ini testing
interface. Add one.

Change-Id: Ib3548bc23713e120089ae29b5c4e851de48cf8d3"
dtroyer,2014-08-27 19:13:58,https://api.github.com/repos/openstack/devstack/git/commits/3159a821c2e0662278746c5311e187bcfd4d8b75,3159a821c2e0662278746c5311e187bcfd4d8b75,"Run processes without screen

This introduces new run_process() and screen_service() functions and sets the
groundwork to change how DevStack starts services.  screen_service() is simply a
direct call to the screen portion of the old screen_it() function and is intended
to run commands that only need to run under screen, such as log file watchers.

run_process() is a replacement for screen_it() (which remains until all of the
services are updated).  The usage is similar but requires updates to every current
screen_it() call to remove everything that requires the command to be interpreted
by a shell.

The old run_process() and _run_process() functions are still present as
old_run_process() and _old_run_process() to support the deprecated screen_it()
function.  These will all go away in the future once all services have been
confirmed to have been changed over.

There is a similar new set of stop process functions stop_process() and
screen_stop_service().  The old screen_stop() will also remain for the deprecation
period.

As an initial test/demostration this review also includes the changes for
lib/cinder to demonstrate what is required for every service.

I included the scripts I used to test this; tests/fake-service.sh and
tests/run-process.sh are quite rough around the edges and may bite.  They should
mature into productive members of the testing ecosystem someday.

Change-Id: I03322bf0208353ebd267811735c66f13a516637b"
flaper87,2014-09-09 07:37:42,https://api.github.com/repos/openstack/devstack/git/commits/4f78f8f3911e8b57b46ed8f50e2c412a8ea39a4d,4f78f8f3911e8b57b46ed8f50e2c412a8ea39a4d,"Test against latest glance_store code

Install glance_store from git so we can test Glance against master. This
is useful for both, glance and glance_store gates, to make sure nothing
is broken there.

Change-Id: I6c01165c4384c41f46f2c32d64475703b3178dab"
pkoniszewski,2014-09-06 11:06:46,https://api.github.com/repos/openstack/devstack/git/commits/76e3925dc4e7796d0e43e8069dff93c9eae5420e,76e3925dc4e7796d0e43e8069dff93c9eae5420e,"Initialize metadata definitions catalog

This patch copies all files from /etc/metadefs to
/etc/glance/metadefs and calls glance-manage db_load_metadefs
after successful database migration. This covers whole
process of initializing the metadata catalog.

Change-Id: I2ffd19bf543708b42229ef78dd17ee317f58e6ad
Implements: blueprint glance-metadata-definitions-support
Co-Authored-By: Travis Tripp <travis.tripp@hp.com>"
AevaOnline,2014-09-08 17:41:04,https://api.github.com/repos/openstack/devstack/git/commits/d0023fd7dd14c943ff4146c7ef246a8ff896043a,d0023fd7dd14c943ff4146c7ef246a8ff896043a,"Switch config to use Ironic driver from Nova's tree

Change the Nova config to use the IronicDriver from the Nova tree,
so that the copy of this driver in Ironic's tree may be deleted.

Also removes the unneeded [ironic] ""sql_connection"" config parameter
which was cruft copied from the nova_bm configuration in commit
06fb29c66124b6c753fdd262eb262043b4551298

Change-Id: I35473b54d760bfa7395decbe6b086f64db60ab10"
masayukig,2014-09-01 08:30:05,https://api.github.com/repos/openstack/devstack/git/commits/d3654058e555c48e498e03e85f2fbe93d0572a09,d3654058e555c48e498e03e85f2fbe93d0572a09,"Fix another_role variable for swift

An error occurs because ANOTHER_ROLE variable in lib/swift is not set.
This patch gets and sets the value to another_role variable.

Change-Id: I9d67ce243eb6bb42ed7e3522ef816295847d48fa
Closes-Bug: #1363884"
mandre,2014-09-08 08:58:58,https://api.github.com/repos/openstack/devstack/git/commits/48a75c14a1ad8b6dd7d894d2bf02307f00c23389,48a75c14a1ad8b6dd7d894d2bf02307f00c23389,"Source lib/dstat in unstack.sh

`stop_dstat` function was extracted into $TOP_DIR/lib/dstat in commit
e0b08d04ab41f9aca96997c87bd9fa13feba2536 but the new lib was not sourced in
unstack.sh.

Change-Id: I6878552d9f384fdd7882e52000b37ac6a60844c3
Closes-Bug: 1366713"
r0ckpine,2014-07-02 09:31:31,https://api.github.com/repos/openstack/devstack/git/commits/b4495eb410e3ad348700f127dcf7c0562014c325,b4495eb410e3ad348700f127dcf7c0562014c325,"Use mod_version to clean-up apache version matching

This change uses mod_version (shipped by default on everything we care
about) to set-up version-specific config within apache rather than
within devstack scripts.

Clean up the horizon and keystone config file generation to use the
internal apache matching.

Since I6478db385fda2fa1c75ced12d3e886b2e1152852 the apache matching in
'functions' is actually duplicated.  just leave get_apache_version in
lib/apache as it is used for config-file name matching in there.

Change-Id: I6478db385fda2fa1c75ced12d3e886b2e1152852"
yamt,2014-09-05 03:21:19,https://api.github.com/repos/openstack/devstack/git/commits/c8601e11daa4719e7c3bd6bec66331d964dad6b9,c8601e11daa4719e7c3bd6bec66331d964dad6b9,"Add ryu team to the MAINTAINERS file for ofagent and ryu

Change-Id: I02fa641c34248c9e6bbaab5caa66892165308c36"
hichihara,2014-09-03 01:03:33,https://api.github.com/repos/openstack/devstack/git/commits/469a6d8f663bc335bdb86248a951065c2260a0cb,469a6d8f663bc335bdb86248a951065c2260a0cb,"Fix keystone auth parameter to neutron conf

Devstack set auth_uri to  metadata_agent.ini.
But auth_uri is wrong parameter for metadate_agent.

This is regression caused by https://review.openstack.org/#/c/94545/

Change-Id: I3dcf1d619b5d204937f072b3fbb9966069793680
Closes-bug: #1364684"
shuichiro-makigaki,2014-08-28 10:07:09,https://api.github.com/repos/openstack/devstack/git/commits/3710eece149ecd98bfe80b5aaf8fe99b30e24ec9,3710eece149ecd98bfe80b5aaf8fe99b30e24ec9,"Fix to avoid undefined variables in initial sanity checks

This commit moves check to see if screen is already running after reading
stackrc, and changes messages in check if root is running DevStack.
STACK_USER is defined in stackrc, and SCREEN_NAME can be replaced with
""a non-root account"".

Change-Id: I022ed1099169a3549b7e31883abe33d6298f6fa5
Closes-Bug: #1362091"
gildub,2014-07-15 04:14:56,https://api.github.com/repos/openstack/devstack/git/commits/a8008f090981fe35999f51089c05ecab2b39a74d,a8008f090981fe35999f51089c05ecab2b39a74d,"FAQ: Removed LXC not being supported on Fedora

Change-Id: Ie62e3d81170702c1b87077f6a1a82f407587c684"
jimrollenhagen,2014-08-28 00:03:00,https://api.github.com/repos/openstack/devstack/git/commits/792dc5f8cf7275d35aff39a5a5127b10f310274d,792dc5f8cf7275d35aff39a5a5127b10f310274d,"Simplify ironic-python-agent download

The kernel and ramdisk for IPA are now uploaded separately, this
commit simplifies the download by downloading them separately.

Change-Id: I630b0a9c3d1179a6b97754f1474f62ae7da068a5"
jimrollenhagen,2014-08-15 01:08:11,https://api.github.com/repos/openstack/devstack/git/commits/f00766b8bbc31eeee1fb6f473ed8eb67452420e5,f00766b8bbc31eeee1fb6f473ed8eb67452420e5,"Allow devstack to build ironic agent ramdisk

This provides a way to test Ironic-python-agent code that is
not yet merged.

Change-Id: I85084c383263173a33250592a95a17f46827b347"
brantlk,2014-08-21 23:24:42,https://api.github.com/repos/openstack/devstack/git/commits/966463c802c6c2f3a04da812cd689502aa8006cd,966463c802c6c2f3a04da812cd689502aa8006cd,"Keystone access log in key-access screen

When Keystone was run in Apache Httpd the access log wasn't in a
screen. A new screen called key-access is now started with
Keystone's access log.

Change-Id: Ie1f4d4b679e1b9c87f0cea37deb25f7b6636fe01
Closes-Bug: #1359995"
ianw,2014-09-04 11:25:45,https://api.github.com/repos/openstack/devstack/git/commits/62cae13d7e7e13102a02aa385ae63b8e2afb7c83,62cae13d7e7e13102a02aa385ae63b8e2afb7c83,"Fix tools/xen/functions for bashate errors

Change I205d675ff231c0403dd135eacc8d57b45317859f modified the matching
for bashate and it has started running on this file, whereas before it
wasn't.  This fixes the errors it is now picking up.

Change-Id: I7876b5c94d90f15e3b0228999c0750bfbebcaa1c"
sdague,2014-09-03 15:30:54,https://api.github.com/repos/openstack/devstack/git/commits/bcd3f63a99c5a256322ce46d18475bdf9fc59a3d,bcd3f63a99c5a256322ce46d18475bdf9fc59a3d,"don't install boto from packages

installing boto from packages pins some other pure python libraries
(like requests) in an unexpected way. As this is pure python we should
instead let this be install from pip and thus be controlled by global
requirements.

Change-Id: If5df9de8c3e1ad8faceab4b43c86134dbbc55a51"
flaper87,2014-09-03 09:51:00,https://api.github.com/repos/openstack/devstack/git/commits/fe65e2dffac177db61ab868343d6dc32e2da3b6c,fe65e2dffac177db61ab868343d6dc32e2da3b6c,"Set configs for glance_store

glance_store uses a new section to keep its configs. This patch
duplicates the existing, store related, config options and sets them
under the glance_store section.

Once glance is fully migrated, the old options will be removed.

Change-Id: Ie3de87cf07a321415d111e644ccbb360c7491151"
gandelman-a,2014-07-17 19:53:21,https://api.github.com/repos/openstack/devstack/git/commits/29c3d63b28503a06b15daecdf584753e0c0aafe8,29c3d63b28503a06b15daecdf584753e0c0aafe8,"Set flavor id for Ironic's baremetal flavor

An existing trove bug prevents it from functioning when Nova flavors exist
with an id that is a UUID instead of an integer, causing Tempest failures.
This sets an integer ID when creating the baremetal flavor for Ironic's use.

Change-Id: Ic090f61a9a47421117dc86b640422f00f468112c
Related-bug: #1333852"
ianw,2014-09-01 23:09:43,https://api.github.com/repos/openstack/devstack/git/commits/bdab7c74ed2f9b581d2d9394128e32fde1ab8ca1,bdab7c74ed2f9b581d2d9394128e32fde1ab8ca1,"Move to epel 7-1 release

EPEL7 has updated.  AFAIK there is no better way to determine this; we
could possibly scrape [1] but this just seems to replace one problem
with another (maintaining the scraping)

[1] http://download.fedoraproject.org/pub/epel/7/x86_64/repoview/epel-release.html

Change-Id: Iadf66c92fcf31edeb0f364a5b1de5d87630e9a42"
masayukig,2014-09-01 06:32:58,https://api.github.com/repos/openstack/devstack/git/commits/264174500c943a5c28a86c09fe81cf0661ed253a,264174500c943a5c28a86c09fe81cf0661ed253a,"Remove sahara-dashboard

sahara-dashboard has been removed in the commit:
  Change-Id: I1f0e93e1dee3d065c4f00d8bf2042bebc8d45a22
However, there is still sahara-dashboard in extras.d/70-sahara.sh. This
causes an error.

/opt/stack/new/devstack/extras.d/70-sahara.sh: line 7:
/opt/stack/new/devstack/lib/sahara-dashboard: No such file or directory

So this commit just removes it.

Change-Id: Iae76dc5f92a1f0a557d43d74b9b5d2c347cc23a9
Closes-Bug: #1363828"
morganfainberg,2014-08-29 20:26:31,https://api.github.com/repos/openstack/devstack/git/commits/947d7468c84423e5a9079ffda292924097a0b404,947d7468c84423e5a9079ffda292924097a0b404,"Use correct class path for token persistence backend

Keystone has moved over to using a new location for the token
persistence backends (drivers). The old values will continue to
work, but this will limit the deprecation warnings for an out
of the box devstack install.

Change-Id: I7c437788c8aee0106fa7f3c37617fbd1220291ef
bp: non-persistent-tokens"
sc68cal,2014-08-28 19:32:44,https://api.github.com/repos/openstack/devstack/git/commits/d738a9ecf738c741abc677c9c6102c88d4f1ed8c,d738a9ecf738c741abc677c9c6102c88d4f1ed8c,"Ubuntu: Start openvswitch-switch service after install

Change-Id: I73a7cec67d0f0782de1598c4ebb1815726e38199
Closes-Bug: #1362782"
morganfainberg,2014-06-25 04:33:39,https://api.github.com/repos/openstack/devstack/git/commits/d074dc7f7e37c8ff1ce781f0bbc7f88196567f00,d074dc7f7e37c8ff1ce781f0bbc7f88196567f00,"Use the apache 2.4 ErrorLogFormat directive

Use the new ErrorLogFormat directive to make the Keystone logs
under Apache to look like the standard oslo log format.

Change-Id: Ie823abf2fa06b8ce22027c21bef455808a4a768e"
matrohon,2014-08-28 14:40:14,https://api.github.com/repos/openstack/devstack/git/commits/62ec61c211563bac71b693c64ce2d5389a9e3fe6,62ec61c211563bac71b693c64ce2d5389a9e3fe6,"Detect when Debian is used to launch libvirtd

this patch checks if os_VENDOR is ubuntu to launch
libvirt-bin service. Previously, is_ubuntu() was used, but
this function only detects if a deb packaging is used, so
there were no distinction between Ubuntu and Debian.

Change-Id: I222b71962f49896063910ff2a25e4f57be4bf819
Closes-Bug: 1361260"
dtroyer,2014-08-28 14:29:47,https://api.github.com/repos/openstack/devstack/git/commits/a25922b9616f74f74049368e8f4e5de11b851921,a25922b9616f74f74049368e8f4e5de11b851921,"Fix regression in Cinder volume type creation

The local-vars cleanup (Iedeafa15def1fa26d4ddcbc5f670129f66e38b9d)
spanned (and missed) this fix (Ib35ffc09f6582354010ac8ca35da581ea508877a)
for volume type creation.

Change-Id: I2b95cbc946727d7708283eca0c07ba1eaddf5db8"
ianw,2014-08-14 01:43:54,https://api.github.com/repos/openstack/devstack/git/commits/d968f2b2bbb454d1d960e0d32e3bfd18311ce253,d968f2b2bbb454d1d960e0d32e3bfd18311ce253,"Remove usage of $[ for arithmetic

$[ is deprecated for the more familiar $((

Required when bash8 starts testing from tox and [1] goes in

[1] https://review.openstack.org/#/c/117430/

Change-Id: I8ba180be036836f37ebdbb6da36ff0be486c043e"
s00218254,2014-08-12 07:24:23,https://api.github.com/repos/openstack/devstack/git/commits/9ec58aec649c1f0899b3f0cf2a9d7821cf00008b,9ec58aec649c1f0899b3f0cf2a9d7821cf00008b,"Support ipset for security group

Install ipset if the q-agt service is enabled.

Partially implements blueprint: add-ipset-to-security

Change-Id: Ic0820a03e9823be39e26254e7c99fe2c4c811c8b"
Frostman,2014-08-05 12:14:12,https://api.github.com/repos/openstack/devstack/git/commits/a90898d90438834ac32224162500b7d54fe2e603,a90898d90438834ac32224162500b7d54fe2e603,"Move sahara client installation to lib/sahara

All other projects installs their clients in the same lib file as the
main services.

Remove sahara-dashboard installation

Sahara dashboard is now merged into the Horizon and enabled by default
(when data_processing endpoint is available), so, we should stop
installing it as separated dashboard.

Change-Id: I1f0e93e1dee3d065c4f00d8bf2042bebc8d45a22"
dhellmann,2014-08-27 13:42:41,https://api.github.com/repos/openstack/devstack/git/commits/5cd17f71ca8cf335beeaad55a1b530825bd181c8,5cd17f71ca8cf335beeaad55a1b530825bd181c8,"Add oslo.utils and oslo.serialization

Install the oslo.utils and oslo.serialization libraries from source so
the gate tests run against master.

Change-Id: I2cb35c9dfd18588e4caa11134e6a34d83324e136"
afazekas,2014-05-28 07:52:22,https://api.github.com/repos/openstack/devstack/git/commits/f71b500beaf3d09c0388fed8480c9a5a25524c87,f71b500beaf3d09c0388fed8480c9a5a25524c87,"Faster nova fixed key generation

Using bc 64 times in loop is too verbose and slow,
replacing the echo/bc loop with hexdump and urandom.

The hexdump approach is 75 times faster and
does not floods the debug logs.

Using the common function for generating,
this kind of string with lib/heat and by the read_password.

Change-Id: If6a86dfaf0c21e2635c6de0a7b96a8ed7ec5b507"
jogo,2014-08-20 07:34:55,https://api.github.com/repos/openstack/devstack/git/commits/e0b08d04ab41f9aca96997c87bd9fa13feba2536,e0b08d04ab41f9aca96997c87bd9fa13feba2536,"Pull dstat logic into its own function so grenade can use it

In order to use dstat on the new side of grenade, pull dstat code into
its own lib with the function start_dstat

Change-Id: I5c908d594a6f3a90ed4b3f744002bf606841cf07"
brantlk,2014-08-21 23:23:12,https://api.github.com/repos/openstack/devstack/git/commits/2a6ce7197e5da9fddddaba2faff2a18c04ece957,2a6ce7197e5da9fddddaba2faff2a18c04ece957,"Change httpd Keystone access log to keystone_access.log

Keystone's access log was going to httpd/access.log, which is the
common place for all access logging. This made it difficult to see
Keystone accesses apart from other access. Keystone's access log
will now be keystone_access.log

This makes the Keystone configuration similar to Horizon which uses
horizon_access.log.

Change-Id: I6e5ac121302b3d138758e6c49dffa9f05ad2fb85
Partial-Bug: #1359995"
brantlk,2014-08-21 23:22:00,https://api.github.com/repos/openstack/devstack/git/commits/e1d004aa4441ec031b6b09ea67e707f9143f91c1,e1d004aa4441ec031b6b09ea67e707f9143f91c1,"Change httpd Keystone log level to default

Having Keystone's log level at debug caused a lot of uninteresting
Httpd-related log lines to be displayed which makes debugging more
difficult than it should be.

Rather than set the log level explicitly, Keystone will use the
Httpd server's setting, which defaults to warn.

Partial-Bug: #1359995
Change-Id: Ieef882944bafd98f7b27497a5276124b21c3e576"
marun,2014-07-28 22:31:14,https://api.github.com/repos/openstack/devstack/git/commits/1a332836df4352f45d29b1eb80bd06e48222a9a0,1a332836df4352f45d29b1eb80bd06e48222a9a0,"Add mysql devel as testonly alongside mysql-server

Neutron needs to be able to install MySQL-python in the functional
test job, which requires devstack to install mysql devel libraries as
testonly.

As per sdague's recommendation mysql devel libraries are now installed
for nova as well.  In the future, any service that installs
mysql-server should also install mysql devel libraries for consistency.

Related-bug: #1346444

Change-Id: Ie715841e33a2c2d31cb4ac724b302eb98ed3366a"
brantlk,2014-08-21 23:25:29,https://api.github.com/repos/openstack/devstack/git/commits/cfc9465ee0ce212287f8426a883a94c1eee675a0,cfc9465ee0ce212287f8426a883a94c1eee675a0,"Change httpd Keystone log to keystone.log

The normal extension for log files is .log. Log rotation should
work because the extension is as expected.

Change-Id: Ia5e42ea9d953e8395b86ab58cdef6c2d852efc94
Related-Bug: #1359995"
flaper87,2014-08-21 09:41:40,https://api.github.com/repos/openstack/devstack/git/commits/4059e3ae7b0b37d52bfa49ffd7e044e02299f240,4059e3ae7b0b37d52bfa49ffd7e044e02299f240,"Rename Marconi to Zaqar

2 files missed the rename patch, this patch renames those files.

Change-Id: Ic0393fe577a6bfc170ebb9de5a7db4f27d76d28c"
steveb,2014-05-05 04:13:39,https://api.github.com/repos/openstack/devstack/git/commits/2a6009cd00c73b187f0cbd3541361c7d46837856,2a6009cd00c73b187f0cbd3541361c7d46837856,"Build an image for heat functional tests

This is only triggered if HEAT_CREATE_TEST_IMAGE is True

This custom image contains the following:
* heat-cfntools from git rather than the packaged version, which
  will allow gating on heat-cfntools changes
* os-collect-config, os-apply-config, os-refresh-config, which
  will allow gating on these projects, and will allow heat
  software-config tests to be written
* software-config hooks from heat-templates, which will allow tempest
  tests to be written for software-config with different configuration
  tools (script, puppet, cfn-init etc)

The heat functional tests will soon replace the heat-slow tempest job,
so heat-slow tempest configuration will be removed after the heat
functional test job is gating.

Change-Id: I2e0490c1662a184d4c6d8c7e9ebb128e1912f1b0"
steveb,2014-05-27 00:24:40,https://api.github.com/repos/openstack/devstack/git/commits/da786b2fd9ca3a0641dcb1a7cb6aec7754e76a97,da786b2fd9ca3a0641dcb1a7cb6aec7754e76a97,"Utility functions for building test images

These functions allow images to be built using diskimage-builder which
contain packages built from local project checkouts:
build_dib_pip_repo() - Builds a local pip repo from local projects and configures
                       apache to serve it
disk_image_create_upload() - Creates and uploads a diskimage-builder built image

The unused function lib/heat disk_image_create has been deleted.

Change-Id: Ia75c7c35bfd48dbe6ae3cb9c3241de0b598cbf84"
salv-orlando,2014-08-21 19:11:10,https://api.github.com/repos/openstack/devstack/git/commits/3046bc68c0484e6e38112606f4eafc58b4b2ae46,3046bc68c0484e6e38112606f4eafc58b4b2ae46,"Configure enabled and disabled extensions in tempest

This patch adds support for configuring the api_extensions
option of the various feature-$service-(enabled|disabled)
sections in tempest's configuration file.

Please note that enabled extensions for the object storage
service are specified in tempest using the discoverable_apis
configuration options.

Partially-implements: Blueprint branchless-tempest-extensions

Change-Id: Ib64c0a474b153f42f3a4a427d86275c85f107997"
mriedem,2014-08-21 01:32:28,https://api.github.com/repos/openstack/devstack/git/commits/ad9776e1073f085fb11dc1712a3a683ef85a9db8,ad9776e1073f085fb11dc1712a3a683ef85a9db8,"Remove API_RATE_LIMIT variable since it's wrong anyway

The api_rate_limit config option in nova has defaulted to False since
Havana per commit cfdc59860ef1482e3b064f90f719ec9e484590ce. This change
removes the variable and code that's used to set it in nova.conf since
if we left it in we'd change the default to False to match the code, and
we'd be breaking anyone that is relying on this to be True anyway.

Note that this variable exists in devstack essentially for Tempest so we
can set it in devstack-gate, which is kind of a moot point now given the
code defaults to it anyway.

Change I21dbd72f9959a4e3d62c36831df03b351a51172e removes it from
devstack-gate.

Change-Id: Ib0538bdd23b17e519b9c917018ccc9fa8c6425c5"
booxter,2014-08-14 12:39:00,https://api.github.com/repos/openstack/devstack/git/commits/cf355aa012afdda8cdb450a421b7749ebfd3c16e,cf355aa012afdda8cdb450a421b7749ebfd3c16e,"Install sqlalchemy-migrate from master if requested

Added possibility to install sqlalchemy-migrate from master instead of
pypi packages.

Change-Id: I8af92cbb03609799442b05db9772e3c82b76725b"
mriedem,2014-08-21 01:09:44,https://api.github.com/repos/openstack/devstack/git/commits/18d5db8452fb8fc5bfb55c4e9c7aa5f03cdbe829,18d5db8452fb8fc5bfb55c4e9c7aa5f03cdbe829,"Add graphviz package to general list for building docs

A few projects are now gating on docs not having warnings/errors in them
during the docs build with sphinx, so developers are going to want to be
able to run 'tox -e docs' locally and fix issues.

The graphviz package is used by sphinx when building docs but you have
to get it from the distro, so this change adds the package to the
various distro lists.

Closes-Bug: #1359749

Change-Id: I7b7dee5e5d0dce6d5020b3e711f500118be163f8"
frozencemetery,2014-07-14 22:11:39,https://api.github.com/repos/openstack/devstack/git/commits/4e07fdcba76a58fc2b21ce6670144312ddb73869,4e07fdcba76a58fc2b21ce6670144312ddb73869,"Add and document $NOVA_VNC_ENABLED for forcing VNC on

This allows multinode setups to function correctly without enabling the
unneeded n-novnc and n-xvnc services on pure compute nodes.

Change-Id: Ie02734bb598d27560cf5d674c9e1d9b8dca3801f
Closes-Bug: 1342155"
jesusaurus,2014-08-20 19:49:32,https://api.github.com/repos/openstack/devstack/git/commits/0c256abd766265b8fdb11d354be7115c05bcaeb5,0c256abd766265b8fdb11d354be7115c05bcaeb5,"Use tox for bashate testing

Create a tox.ini file to install bashate into a virtualenv for running
tests. It can be run with a command such as ""tox -v -ebashate"". The find
command being used is equivalent to the default list of files discovered
by bashate plus the exclusion of the .tox/ directory. Also add the .tox/
directory to the .gitignore file.

Change-Id: I94cab4e4a9118d62edfce29ead1f1e2a5f48e529"
umago,2014-08-19 09:01:45,https://api.github.com/repos/openstack/devstack/git/commits/5851e5f6984afe1f3a71d3a0420b442c55770f3e,5851e5f6984afe1f3a71d3a0420b442c55770f3e,"Ironic: Setup/Configure iPXE

Setup the enviroment and configure Ironic to use iPXE for deployments. If
IRONIC_IPXE_ENABLED enviroment variable is True, DevStack will now start
and configure an Apache HTTP server to serve the images, will copy the
undionly.kpxe boot file in place of the standard pxelinux.0 and will set
the right configuration to Ironic to deploy the images using iPXE+HTTP.

Implements: blueprint ipxe-boot
Change-Id: I0ea40cb8bbf9236c634f803c2bde1081634679ff"
cboylan,2014-08-20 05:37:10,https://api.github.com/repos/openstack/devstack/git/commits/33dc8699e6b774cc39b39e0dba97be41bbb47abe,33dc8699e6b774cc39b39e0dba97be41bbb47abe,"Latest tox should work for openstack now, use it

Remove the tox pin that was in place to avoid issues with tox 1.7.0 and
1.7.1. Latest tox (1.7.2) is compatbile with openstack's tox.ini files
again and should work with tempest. This change is self testing and will
confirm this.

Making this change is important so that devs can stop worrying about
package version pins and helps ensure we don't get left behind by
upstream.

Change-Id: Ibf2102d6ad439dd354ae687f7aafec9ceca6cf9c"
dtroyer,2014-08-20 03:17:50,https://api.github.com/repos/openstack/devstack/git/commits/6430919f0569d745a5544c94c3bd8e0713888896,6430919f0569d745a5544c94c3bd8e0713888896,"Clean up local variable usage - Zaqar

Change-Id: Ie274ce587134d3a3a928a3825dc4452298c5c4d0"
dtroyer,2014-08-20 00:31:34,https://api.github.com/repos/openstack/devstack/git/commits/16ef976007057afc7ab500f30d4f5880be4909f3,16ef976007057afc7ab500f30d4f5880be4909f3,"Clean up local variable usage - Account setup

This does the local var cleanup for the account creation in the following projects:
* Ceilometer
* Glance
* Sahara
* Trove

Change-Id: I67631578f79eeaaf2814db84f0f5c19d93aee4f3"
dtroyer,2014-07-25 19:57:54,https://api.github.com/repos/openstack/devstack/git/commits/b1e3d0f222da5e3edd68dd92020962beb1155e1e,b1e3d0f222da5e3edd68dd92020962beb1155e1e,"Clean up local variable usage - Remainder

Minor cleanups in a couple ofplaces:
* Config funtions
* Stackforge
* TLS

Combined a couple of smaller changesets that are loosly related

Change-Id: Ifa16f2e4c0eca0ef3401c0dfdc4f3d91809021a5"
dtroyer,2014-07-25 17:37:41,https://api.github.com/repos/openstack/devstack/git/commits/e8a35acd1d6ef877f9723fc4cc9b766356431b6f,e8a35acd1d6ef877f9723fc4cc9b766356431b6f,"Clean up local variable usage - cinder

Change-Id: Iedeafa15def1fa26d4ddcbc5f670129f66e38b9d"
steveb,2014-05-05 04:06:17,https://api.github.com/repos/openstack/devstack/git/commits/122ab703307d20f32fc83d23202b04fb43140be8,122ab703307d20f32fc83d23202b04fb43140be8,"A service to install diskimage-builder

Enabling service 'dib' will install the following repos:
* diskimage-builder
* tripleo-image-elements
* os-collect-config
* os-refresh-config
* os-apply-config

These repos are already pre-fetched in devstack-gate.

This will facilitate gating on changes in these projects by building
a custom image then running the heat-slow job against that image.

diskimage_builder is pip installed from the current git checkout
if the dib service is enabled. This allows devstack gating on
diskimage-builder changes while also allowing diskimage-builder to
be installed from releases for other scenarios (for example, ironic).

Change-Id: Ia911cdee86f5b2e2ba1557e5aa8bf392b92ef555"
steveb,2014-05-27 00:24:18,https://api.github.com/repos/openstack/devstack/git/commits/315971d972e26d1444a103965a10c0be5ffe6396,315971d972e26d1444a103965a10c0be5ffe6396,"Install heat-cfntools and heat-templates repos

These projects contain agents which can be installed on custom
images. Installing these repos will allow a future change to
build a custom image containing these projects. This will allow
gating on any changes in these projects by running heat-slow
on the custom image.
The corresponding devstack-gate change is
https://review.openstack.org/#/c/92055/
Change-Id: I7b1343c094f755f79ddeb1bac3ff4c0daa3fb70c"
steveb,2014-05-05 04:06:47,https://api.github.com/repos/openstack/devstack/git/commits/cbfb3ae1c85647d8f84e8a4d1ddb616541cc09ba,cbfb3ae1c85647d8f84e8a4d1ddb616541cc09ba,"Ironic and baremetal install diskimage-builder with pip

This change installs diskimage-builder with pip instead
of from git, and only if the executable ramdisk-image-create
isn't already installed.

This allows the ironic and baremetal to consume the latest
release of diskimage-builder by default, and gives the option of
defining version constraints for which version to install.

If the dib service is enabled (which it isn't by default) then
diskimage-builder will already be installed from git and will
not be re-installed for ironic and diskimage-builder.

Change-Id: Ic6613a11e2c4fb7a1261b81cdc2cf958515e60cd"
dtroyer,2014-08-13 22:20:31,https://api.github.com/repos/openstack/devstack/git/commits/68c9adbad35cf4cc6e0491c6b872b35372ad7820,68c9adbad35cf4cc6e0491c6b872b35372ad7820,"Add some known contacts

These were taken from frequent committers for the area.

Change-Id: I3bdcb3e54cfb1a8e3d53748ab39da009b428c593"
gandelman-a,2014-07-30 01:43:18,https://api.github.com/repos/openstack/devstack/git/commits/cec9792f7fee789705d250379a89cb6f69736b2a,cec9792f7fee789705d250379a89cb6f69736b2a,"Share the fixed network for Ironic

When using Ironic, ensure the private Neutron network is shared across
all tenants.  This allows connectivity to the host's TFTP server from
nodes booted accross multiple tenants and more closely resembles the current
real world Ironic PXE+IPMI use cases.

Change-Id: I5d293493bafa37b1796f47aa738cfff2e3be9f59"
dtroyer,2014-08-19 15:54:59,https://api.github.com/repos/openstack/devstack/git/commits/85ebb3a868560c5272c0c8a16a99d5073edcad1e,85ebb3a868560c5272c0c8a16a99d5073edcad1e,"Remove firewalld on Fedora 20 by default

firewalld interacts badly with the libvirt on f20, causing slow-downs
so great that it can timeout the gate.

Developers who want to leave it enabled should set FORCE_FIREWALLD=True

Change-Id: I5252a12223a35f7fb7a4ac3c58aa4a3cd1bc4799"
malini-kamalambal,2014-08-01 21:41:08,https://api.github.com/repos/openstack/devstack/git/commits/9504bb376d02533ae9193050879f518699316ce2,9504bb376d02533ae9193050879f518699316ce2,"Rename Marconi to Zaqar

This patch changes all Marconi references to Zaqar.

Change-Id: Iec4aeca54c0f383c995fba564bc59daa550d3747
Implements: blueprint project-rename"
rconradharris,2014-08-18 18:53:42,https://api.github.com/repos/openstack/devstack/git/commits/2696e5a0676c1ba39ee7f97b48ef65f5dc986d4f,2696e5a0676c1ba39ee7f97b48ef65f5dc986d4f,"Guard for worlddump in case LOGDIR is undefined

If LOGDIR is undefined, we'll end up calling worldump with the `-d` option but
pass in an empty string as the option value. This causes an argument parsing
error inside worlddump.

The proposed fix is to detect if LOGDIR is undefined, and if so, omit the `-d`
argument.

Change-Id: I77968849ebd3e3bebd2e5929b87b60fc1b6541bf
Closes-Bug: 1333321"
chungg,2014-07-23 18:06:31,https://api.github.com/repos/openstack/devstack/git/commits/80786e0d2390eef3f1a9404f42a6cb3306d38314,80786e0d2390eef3f1a9404f42a6cb3306d38314,"enable multiple collector workers

currently, a single worker thread writes received samples into
database. this is fine for most occasions but during message
spikes, it is not enough. this patch increase amount of workers to
half the number of processors (so we can ensure ceilometer maintains
lightweight design)

this will also help validate mulitple worker setup works.

Partial-Bug: #1336755
Change-Id: I33037f2f9ebfda43238e5cd0cff75adbed65d055"
dtroyer,2014-08-15 20:53:03,https://api.github.com/repos/openstack/devstack/git/commits/010269341e0adf87dd96af9bb8b1cda4d8183ba4,010269341e0adf87dd96af9bb8b1cda4d8183ba4,"Fix missing --container-format options

Cooresponding fix to https://review.openstack.org/114619 for lib/baremetal.

Closes-bug: 1357602
Change-Id: I1f4482f218b51ce7d7617cbd5771790c8dcb631a"
dtroyer,2014-08-15 19:03:52,https://api.github.com/repos/openstack/devstack/git/commits/04a351133a5f4819df1a6474d5599900d55ae501,04a351133a5f4819df1a6474d5599900d55ae501,"Source fixup_stuff...

...so it can pick up config variables from local.conf

Change-Id: I0991f59881f16c72789e3b0342c26a2419ba0878"
jimrollenhagen,2014-08-05 18:08:29,https://api.github.com/repos/openstack/devstack/git/commits/a6a45467c412476b2cddb8526a97e421b0b74db7,a6a45467c412476b2cddb8526a97e421b0b74db7,"Add ironic-python-agent support to devstack

This adds support for using ironic-python-agent with Ironic.

Change-Id: I8f1e93e09ddde447996ecbedceb091f51d60040e"
jimrollenhagen,2014-08-15 18:04:02,https://api.github.com/repos/openstack/devstack/git/commits/722284f24b51b9b9f0f35af5d65ed83ef6eec70f,722284f24b51b9b9f0f35af5d65ed83ef6eec70f,"Fix image create functions for Ironic

This fixes an issue where --container-format was not passed to
'openstack image create'.

Change-Id: If1431c8dc8ff8e940f99e984939f5b2732bb0ee0
Closes-Bug: 1357495"
berendt,2014-08-04 12:29:55,https://api.github.com/repos/openstack/devstack/git/commits/21cb67c1e5058591d907641dbd6805ceafcad308,21cb67c1e5058591d907641dbd6805ceafcad308,"Remove code tagged as ""can be removed after Icehouse""

Change-Id: Ib78f3d55c9dcd46e0dfc3343c32e077cf530b5f7"
dtroyer,2014-07-25 15:33:21,https://api.github.com/repos/openstack/devstack/git/commits/0e8dcedf71eecc0a9f455bf5f1bfa9f27c41ada4,0e8dcedf71eecc0a9f455bf5f1bfa9f27c41ada4,"Re-order stack.sh 2: target dir setup

Part 2 of a series

Re-order the setup and check bits in the top portion of stack.sh to
have a logical flow with similar things done together.

No behaviour changes are intended aside from the order of execution.
Any such changes are bugs.

* Consolidate DEST dir setup
* Move rpc & database init to just before project init

Change-Id: I2af1d4ed32ec34417c04592bf94fe645bb97f831"
dtroyer,2014-07-25 15:20:19,https://api.github.com/repos/openstack/devstack/git/commits/d3bf9bdbda9acab17223cf25dd0a2b83b96db522,d3bf9bdbda9acab17223cf25dd0a2b83b96db522,"Re-order stack.sh 1: sanity checks

Part 1 of a series

Re-order the setup and check bits in the top portion of stack.sh to
have a logical flow with similar things done together.

No behaviour changes are intended aside from the order of execution.
Any such changes are bugs.

* Do sanity checks that have no configuration needs earlier
* Do supported distro check earlier

Change-Id: I7d15bac199d6c4382d4a4d222784d34f2707da56"
thang-pham,2014-07-27 04:06:52,https://api.github.com/repos/openstack/devstack/git/commits/eae7c9979adb7bc6b3150fba02cc696187cbe69d,eae7c9979adb7bc6b3150fba02cc696187cbe69d,"Support GlusterFS cinder backend

Commit 0971833 added support for multiple cinder backend types.
It initially only contains lvm and nfs. The following patch adds
glusterfs to the backends supported.

Change-Id: I9d5c1dfd4e0d05fcbfe3c35172150c57aa4e6eb2"
afrittoli,2014-08-14 07:18:40,https://api.github.com/repos/openstack/devstack/git/commits/122a16fb95e480126319844d94196ea3327b71e8,122a16fb95e480126319844d94196ea3327b71e8,"Tempest allow_tenant_isolation in auth section

Tempest change 107685 moves allow_tenant_isolation from compute
group to auth group, making the old format deprecated.
Switching to the new format.

Change-Id: Iff79986c2564610efde4791b7e61df3db859e199"
freyes,2014-08-14 15:41:55,https://api.github.com/repos/openstack/devstack/git/commits/2c95fcd60c71e0a0c0a7b3801b1a5ca17507f20b,2c95fcd60c71e0a0c0a7b3801b1a5ca17507f20b,"Set display name in apache processes

This change makes apache set process group name in the process name,
so when listing the processes the user can easily identify what's
running in each apache process. This is specially useful to debug
memory consumption or when a process consumming too much CPU.

Change-Id: I9787980052f451f452d3b8e5e51385ad5aa01e6a"
assafmuller,2014-07-30 15:26:12,https://api.github.com/repos/openstack/devstack/git/commits/7f31a93ba017c6caa6de007f1f2d39e62f1f7e6c,7f31a93ba017c6caa6de007f1f2d39e62f1f7e6c,"Add keepalived, conntrackd as dependencies

Neutron L3 HA blueprint l3-high-availability requires
keepalived and conntrackd in order to work for developers as
well as for functional tests.

Change-Id: Ic32d913c2bc6fae339b4d5ec509a77df5a21de72"
ianw,2014-08-07 05:06:47,https://api.github.com/repos/openstack/devstack/git/commits/27fc42d2bc39a21e70c913b0e92d249583cbfc62,27fc42d2bc39a21e70c913b0e92d249583cbfc62,"Remove AUTHORS

AUTHORS isn't really relevant in the days of git.  devstack has no
formal release where it would make sense to auto-generate an AUTHORS
file either.

If you really want to see who contributes, you can run

 $ git log --format='%aN <%aE>' | sort -f | uniq > AUTHORS

Change-Id: I9e154f7fdf814b4bd21a9d4cf82e46ec3db2f1ca"
amotoki,2014-08-09 09:58:20,https://api.github.com/repos/openstack/devstack/git/commits/2307f9de752244104ba049cef380916c87918060,2307f9de752244104ba049cef380916c87918060,"Avoid using deprecated Q_AGENT_EXTRA_AGENT_OPTS in ML2 setup

Q_AGENT_EXTRA_AGENT_OPTS is deprecated now and stack.sh displays
the warning that it will be removed early in ""K"" cycle.
Neutron ML2 devstack uses Q_AGENT_EXTRA_AGENT_OPTS to pass tunnel
configurations to Neutron plugin agents.

This commit removes the usage of Q_AGENT_EXTRA_AGENT_OPTS and
configures these config options directly.

Change-Id: I7fc1613ff78c0a8b1e80cc041b06f5d4680c34f2
Closes-Bug: #1354670"
dtroyer,2014-07-25 17:50:14,https://api.github.com/repos/openstack/devstack/git/commits/1bbfcc7a795eb54a922c3ea984a41439c03c3f03,1bbfcc7a795eb54a922c3ea984a41439c03c3f03,"Clean up local variable usage - Horizon

Change-Id: I1924ecdd68a9c7bf947c06f33aa79c38ada1d3b4"
boris-42,2014-08-13 15:18:56,https://api.github.com/repos/openstack/devstack/git/commits/0d02924639e1ca138f2c7eee795f2d208680e7ab,0d02924639e1ca138f2c7eee795f2d208680e7ab,"Setup AMQP properly for glance-registry

As we integrated OSprofiler with Glance:
https://review.openstack.org/#/c/105635/

glance-registry service started using notification API so it requires
proper seted up AMQP.

Change-Id: I0c4bb8a10960ed3ee06b67a209703d7ee81cf1ca"
gkotton,2014-08-12 06:38:47,https://api.github.com/repos/openstack/devstack/git/commits/dd74550581a3529cb1eca3ace311d5aac1a89115,dd74550581a3529cb1eca3ace311d5aac1a89115,"Update deprecated service_neutron_metadata_proxy variable

Commit c2697f8735a38fb05d54ff4f82110829ead85ee9 moved
service_neutron_metadata_proxy to the neutron section.

Change-Id: I08cdaae9bded1797c663d1bfeaae61535ce64099"
gandelman-a,2014-08-11 21:27:50,https://api.github.com/repos/openstack/devstack/git/commits/7614d21fe157a6b3a833d3eb278fb9267ef13e06,7614d21fe157a6b3a833d3eb278fb9267ef13e06,"Centralize neutron config file argument generation

Moves dynamic generation of the --config-file list from local functions
to global utility functions.  This breaks up the current non-obvious
dependency between start_neutron_agents and _configure_neutron_l3_agent
for setting the correct arguments for the vpn agent.   This also similarly
updates generation of arguments for neutron-server and neutron-l3-agent to
use said functions.  Finally, this cleans lib/neutron up a bit and moves
all default paths to config files and binaries out of local functions and
into the top-level, allowing external tools like Grenade to make use of the
library for starting Neutron services and agents currently.

Change-Id: I927dafca8a2047d6c0fd3c74569ed2521f124547
Closes-bug: #1355429"
alonm,2014-07-30 20:44:33,https://api.github.com/repos/openstack/devstack/git/commits/d178cf401eca16664673737b27bb493e37b8366d,d178cf401eca16664673737b27bb493e37b8366d,"Adds xiv_ds8k cinder driver support

To use xiv_ds8k, set the following in localrc:
CINDER_ENABLED_BACKENDS+=,xiv:<volume-type-name>
XIV_DRIVER_VERSION=<version-string>
SAN_IP=<storage-ip-or-hostname>
SAN_LOGIN=<storage-admin-account>
SAN_PASSWORD=<storage-admin-password>
SAN_CLUSTERNAME=<cluster-name>
CONNECTION_TYPE=<connection-type> iscsi|fc
XIV_CHAP=<chap-type> disabled|enabled

Change-Id: I084ad2b2cb8e34c4a8aed77a52e90f9a9739f1f3"
ianw,2014-08-07 04:59:15,https://api.github.com/repos/openstack/devstack/git/commits/f901dd0049d0fc6a885e5e076d272af155a0d5b4,f901dd0049d0fc6a885e5e076d272af155a0d5b4,"Add MAINTAINERS.rst

Add a MAINTAINERS.rst file with two goals

1) to help seed initial reviews with relevant people.  Devstack by its
nature attracts new contributors, so when they hit some obscure bug,
this will help them find out who to put on a review.

2) core reviewers can't know everything about everything.  Having
someone who has flagged themselves as interested in an area sign-off
off on relevant changes can help move changes through.

Change-Id: Idf0914f55d72832a829ac99edf763ff51f71ca6c"
sdague,2014-08-07 23:28:41,https://api.github.com/repos/openstack/devstack/git/commits/5bae6ca0be8273e4e9866f12f00d5a7dae0d0220,5bae6ca0be8273e4e9866f12f00d5a7dae0d0220,"scope warnings to only display if the services are enabled

On my devstack environments I'm now always getting the Q_AGENT
warnings even though I don't have neutron enabled. This is mostly
confusing.

For these juno warnings lets just make sure that the whole thing
only prints out in the case where we've actually got that service
enabled.

Change-Id: I7d1bb2e65594c8bee2f572ca58a1b666e5d6caed"
jimrollenhagen,2014-08-05 18:01:48,https://api.github.com/repos/openstack/devstack/git/commits/abbb0e9a0d6c183b6c6f10e197bed6aa2dde20b1,abbb0e9a0d6c183b6c6f10e197bed6aa2dde20b1,"Add swift tempurl support to devstack

This commit adds the ability to automatically set a tempurl key
in swift for service accounts.

Change-Id: I0d5d16c5601d022f034df2cc291106c5dc13511e"
alexpilotti,2014-08-06 23:05:26,https://api.github.com/repos/openstack/devstack/git/commits/ca8239449fbdbc3a73f691683be2ec9d4a941ff6,ca8239449fbdbc3a73f691683be2ec9d4a941ff6,"Adds support for Hyper-V image formats

Adds support for VHD and VHDX image formats, including gz compression.

Change-Id: I9b143c9883b947397b435a671f13703f78019d23
Closes-bug: #1353726"
kevinbenton,2014-08-04 17:25:20,https://api.github.com/repos/openstack/devstack/git/commits/e3cfbf1580d4e0b77191a2f4bcb61bde9f8d9815,e3cfbf1580d4e0b77191a2f4bcb61bde9f8d9815,"Don't set tunnel_types on VLAN network type

The current code sets tunnel types for the neutron agent
even when the network type is 'vlan'. This results in the
agent not starting because 'vlan' is not a valid tunnel type.
This patch changes it so tunnel_types is not populated when
vlans are used.

This bug just now surfaced because of commit
8feaf6c9516094df58df84479d73779e87a79264 requiring Q_ML2_TENANT_NETWORK_TYPE
to be set to avoid being set to the 'local' type.

Change-Id: If2bc57b36dad2bfb34df573581acce176604812e"
gongysh,2014-07-10 03:21:37,https://api.github.com/repos/openstack/devstack/git/commits/5988e623c390eef76292870b148ee56230f1a5a1,5988e623c390eef76292870b148ee56230f1a5a1,"Makes vpn plugin configurable

Currently, it is hardcoded and not good for those who have their
own vpn plugin developed.

Change-Id: I6244040dd2abea016556cd515e06f53edbb993a0
Closes-bug: 1339977"
malini-kamalambal,2014-06-26 16:50:26,https://api.github.com/repos/openstack/devstack/git/commits/f7ae9ff5dd0f7e20037d49869251d2367b46c459,f7ae9ff5dd0f7e20037d49869251d2367b46c459,"Use Mongo DB as the default backend

With the gate upgrade to Trusty, Marconi should now be able to run with
Mongo DB at the gate.

Change-Id: I7bfe25d42c9429606ee209860685077806eb6756"
gandelman-a,2014-08-06 01:12:29,https://api.github.com/repos/openstack/devstack/git/commits/6d27148eb6b72ba829f0c9ecf0dd6cf280063787,6d27148eb6b72ba829f0c9ecf0dd6cf280063787,"Cleanup lib/ironic

This moves around a bunch of functionality and attempts to isolate setup
steps into discrete functions (new or existing), making them easier to
consume from outside of Devstack (ie, Grenade).

Change-Id: I480167dcc008506ec2fe8c412db4114b74496e60"
gandelman-a,2014-07-24 14:06:18,https://api.github.com/repos/openstack/devstack/git/commits/fdfe7a010e65935fde22c2af7093e49934035f87,fdfe7a010e65935fde22c2af7093e49934035f87,"Set Tempest feature flags for Ironic

Many features tested by Tempest are not relevant to baremetal deployments.
This sets compute-feature-enabled flags accordingly.

Change-Id: I8a1820946bfc5d8f8c25692f9db67df59506126e"
sdague,2014-07-31 18:20:09,https://api.github.com/repos/openstack/devstack/git/commits/34bd2313f8be3202cea2f63715d3af58e618f072,34bd2313f8be3202cea2f63715d3af58e618f072,"remove tools/jenkins

The last non bashate change in this directory was from 2012, which
means I assume nothing down here is useful any more as this is largely
the precursor to devstack-gate.

Remove it for cleanliness reasons and to not confuse people setting
up 3rd party ci.

Change-Id: I54f06c2ff5a49a9f811df07a7cdfda4a675953c8"
sdague,2014-07-31 18:11:42,https://api.github.com/repos/openstack/devstack/git/commits/01796fad29d6708ee983102ff7f98cec938180b5,01796fad29d6708ee983102ff7f98cec938180b5,"remove kernel override ability

This was landed to try to address an issue with netns vs nbd during
icehouse development. It never really got us anywhere, and is now
just cruft.

Change-Id: Ie498fae8d1f796c1fc83459c65d0de948d1d50ce"
sdague,2014-07-31 18:06:33,https://api.github.com/repos/openstack/devstack/git/commits/ab5b5dedf854119bcb07623198c8f02d81b398b3,ab5b5dedf854119bcb07623198c8f02d81b398b3,"remove saucy support

ubuntu 13.10 is no longer supported by ubuntu. We should remove it.

Change-Id: Ie0f92c3ba5df4848a0ff101ef52139c3a16a9dec"
sdague,2014-07-15 10:07:42,https://api.github.com/repos/openstack/devstack/git/commits/f3f4b0ac78a07457b730c0a6ab3b48799c350339,f3f4b0ac78a07457b730c0a6ab3b48799c350339,"install test-reqs when TESTONLY packages are installed

INSTALL_TESTONLY_PACKAGES in devstack only impacts .deb/.rpm files
even though most of our test requirements are actually specified
in python. This will do an explicit install of test-requirements.txt
if pip_install is called with args that look like a directory,
and test-requirements.txt exists in that directory.

Change-Id: Id21e282ddc945c819c9c8c4d724658e28bfde785"
aaronorosen,2014-08-05 19:20:54,https://api.github.com/repos/openstack/devstack/git/commits/2988497b5d136f3646459d2fcc7e226e08d4bfb7,2988497b5d136f3646459d2fcc7e226e08d4bfb7,"NSX: remove req_timeout as it's not longer used

This patch removes req_timeout from devstack as it's no longer used.
This was removed from neutron here:
    Id7244cd4d9316931f4f7df1c3b41b3a894f2909a

Change-Id: Ife901479605323e32f24e11266a232fddbd6bdca"
ianw,2014-08-04 05:44:58,https://api.github.com/repos/openstack/devstack/git/commits/bdc90c5f0243e3d2b3efa893cfd080d039fed8e4,bdc90c5f0243e3d2b3efa893cfd080d039fed8e4,"Work around pip installed pkgs on Rackspace image

The upstream rackspace image has a bunch of pip installed packages as
cloud-init was installed via pip due to a lack of available system
packages.  This can break further system package installs, such as
markdown, which fails with

---
 Error unpacking rpm package python-markdown-2.4.1-1.el7.noarch
  error: unpacking of archive failed on file
   /usr/lib/python2.7/site-packages/Markdown-2.4.1-py2.7.egg-info: cpio: rename
---

Because that is a directory for the pip-installed package, and a file
in the RPM

Remove all pip installed packages on rackspace images before we start
to work around this.  I have filed an upstream issue with Rackspace
(ticket-id 140804-ord-0000134) and the issue is being worked on.

Change-Id: Id12d175143ed3b8e024d057d65fa67505c08042a"
ianw,2014-08-04 04:11:26,https://api.github.com/repos/openstack/devstack/git/commits/a36167e38146c9bc328718458a4d7413b920f79f,a36167e38146c9bc328718458a4d7413b920f79f,"Exact match rhel6

With rhel6 & rhel7 having a common prefix, use an exact match to make
sure we don't mix them up.  This is breaking Centos7.

Change-Id: Ia4665ea78f0bafeaa2b2284a6d3de4474ea195e9"
stevemar,2014-08-03 00:32:31,https://api.github.com/repos/openstack/devstack/git/commits/5c206c2b7d3a983094daa9b6f383d72e396caf55,5c206c2b7d3a983094daa9b6f383d72e396caf55,"Migrate from using glance image-list to openstackclient

Modify instance of `glance image-list` to `openstack image list`,
in an effort to migrate all commands to unified CLI.

Change-Id: Ieef661d209606e088fbf6a3a394f9a6577667618"
stevemar,2014-08-03 03:47:15,https://api.github.com/repos/openstack/devstack/git/commits/8d3ac2df582730717392798ae46b436238d91b70,8d3ac2df582730717392798ae46b436238d91b70,"Modify `glance image-create` commands to use openstackclient

Change `glance image-create` commands to use `openstack image create`,
in an effort to unify the CLI.

Change-Id: I96cef118daf931b648c0483525ac7d2287fec2e0"
yamt,2014-07-23 03:02:18,https://api.github.com/repos/openstack/devstack/git/commits/6a633fd024347aade777ecd6545fa3efde5a959c,6a633fd024347aade777ecd6545fa3efde5a959c,"Allow to use flat providernet for public network

The support of ancillary bridges (aka br-ex) is planned to be
dropped for ofagent.  This commit prepares the deprecation by
providing devstack support for an alternative way to connect
public network.

Related to blueprint ofagent-port-monitor
Change-Id: I6c2ce646070db0ed248665216071499a9b5567ab"
yamt,2014-07-23 07:07:21,https://api.github.com/repos/openstack/devstack/git/commits/ea3dac9a3c57ee59270e3321d68b93f2734f24b0,ea3dac9a3c57ee59270e3321d68b93f2734f24b0,"Disable in-band control for PUBLIC_BRIDGE

By default, Open vSwitch installs internal flows for in-band control
to bridges with controller setting.  ""with controller setting"" part
is false for openvswitch agent but can be true for ofagent.
Unfortunately the internal flows are incompatible with our use of
the local port here to communicate with neutron router.  This commit
avoids the problem by disabling the in-band control functionality.

Related to blueprint ofagent-port-monitor
Change-Id: Ia79d12da3c2224366425be5f6927859181e18909"
dtroyer,2014-07-31 18:29:34,https://api.github.com/repos/openstack/devstack/git/commits/4a3d590fd948e931fd7ba80623f48ac2bc885a19,4a3d590fd948e931fd7ba80623f48ac2bc885a19,"Remove unused tools

Remove old tools for building ramdisk images and the original
PXE boot environment.

Change-Id: I81dcc823387c610d3090e5397ed5e42244d6dc3d"
frozencemetery,2014-07-31 17:55:06,https://api.github.com/repos/openstack/devstack/git/commits/1229a0879f44cfd96be208fee8c56ed68c669576,1229a0879f44cfd96be208fee8c56ed68c669576,"Resolve circular dependency when tracking dependencies.

When TRACK_DEPENDS=True, there is a circular dependency wherein virtualenv is
used to install virtualenv before a virtualenv has been established.
TRACK_DEPENDS does not work in any use case without this fix.

Change-Id: I7a6652ba091cb95dac3871b6c71edcd762a7be62
Closes-Bug: 1208867"
dtroyer,2014-06-12 23:24:01,https://api.github.com/repos/openstack/devstack/git/commits/bcd2ba4b23f0b1a4963dfdc5f2738a2f57a7a4bc,bcd2ba4b23f0b1a4963dfdc5f2738a2f57a7a4bc,"Additional Cinder backend: solidfire

Change-Id: I465a77e9862a00885bdccc560404ffcbb26547f8"
dtroyer,2014-07-25 16:13:11,https://api.github.com/repos/openstack/devstack/git/commits/d5dfa4c5c721e6edd71add63b3bf301f2cc4c27b,d5dfa4c5c721e6edd71add63b3bf301f2cc4c27b,"Clean up local variable usage - misc functions

A catch-all for a bunch of smaller functions

Change-Id: I3f97a514f9964ef36bff2f24a2f0a98614871a9f"
ianw,2014-07-30 01:27:54,https://api.github.com/repos/openstack/devstack/git/commits/8fdb42fc0b73f26fb8c664f831d9da9f273f348c,8fdb42fc0b73f26fb8c664f831d9da9f273f348c,"Workaround for overwriting setuptools on RHEL

This old setuptools egg-info file causes havoc and really weird pip
install errors.  I think possibly not everyone has the
python-setuptools package installed, so it may only appear in some
situations.

Change-Id: I7ef0fa35c650e323a8945ed7c5c7754ca62a0ca5"
afazekas,2014-07-27 18:47:04,https://api.github.com/repos/openstack/devstack/git/commits/8feaf6c9516094df58df84479d73779e87a79264,8feaf6c9516094df58df84479d73779e87a79264,"vxlan default ml2 tenant network type

ovs vxlan become supported on most distribution and provides
isolated `multi tenant` networking without special `vlan` aware switch.

In single node deployment you will just see the br-tun ovs bridge
created.

In multi-node setup you might need to adjust the MTU settings.

If your physical switch supports >=1550 MTU size
 probably you will not see any issue.

If your guest image honors the MTU size offered via dhcp,
you can adjust your dnsmask settings with the correct (likely 1450 byte)
MTU size.

cirros (udhcp) does not honors these setting, you might need to
set lower MTU size on br-ex and/or adjust network_device_mtu option
in your local.conf.

The default changed, because it will be used with the multi-node neutron
jobs.

If you want the original behavior for whatever reason add these to your
`local.conf`:
ENABLE_TENANT_TUNNELS=False
Q_ML2_TENANT_NETWORK_TYPE=local

Change-Id: Id33ff0eca44905b3996618f1035ad984a6819b5b"
dtroyer,2014-07-25 16:09:36,https://api.github.com/repos/openstack/devstack/git/commits/e9f7667050c7385c734e6d653b2ee63b9c7dc0ed,e9f7667050c7385c734e6d653b2ee63b9c7dc0ed,"Clean up local variable usage - upload_image()

Cleans up the rather coplex upload_image() function

Change-Id: Ie1ef200b905dd5d17ef887390d620817208f2bf5"
BobBall,2014-07-29 12:40:57,https://api.github.com/repos/openstack/devstack/git/commits/5fb83a0a33f8c30c83484b06d2e4d9d633c255cd,5fb83a0a33f8c30c83484b06d2e4d9d633c255cd,"XenAPI: Fix declare definition

Some versions of bash do not initialise a variable with declare -a
therefore with set -u bash can terminate the script.

Be more verbose in declaring the array if it is not set

Change-Id: I6ec2b6e986aeffe539a2ab93432fa7af9e5a4f5d"
booxter,2014-07-21 11:53:50,https://api.github.com/repos/openstack/devstack/git/commits/b816e5d2a079a52c92482a138583376617bded47,b816e5d2a079a52c92482a138583376617bded47,"neutron: set connection string in neutron.conf

it's not recommended to put the connection string in plugin specific
config file [1].

[1]:
https://github.com/openstack/neutron/blob/master/etc/neutron.conf#L534

Change-Id: I3c9d7fe3d34385185f483b509dadf7e2ba920a45"
booxter,2014-07-29 09:45:29,https://api.github.com/repos/openstack/devstack/git/commits/a89a0dc62429b4752ab0566bc3bc4954613c132a,a89a0dc62429b4752ab0566bc3bc4954613c132a,"Revert ""cleanup potentially installed older oslo.config""

Icehouse is for long behind our back, so let's remove that hack.

Conflicts:
	lib/oslo

This reverts commit db5fadb5cb768820df54fc3d1c7428a57b511582.

Change-Id: I06d3b0a8779ba51e05c439832ef3b7dbdc97ded1"
dtroyer,2014-07-28 22:51:13,https://api.github.com/repos/openstack/devstack/git/commits/1c42599a3bb6be64266d04ebc1c753a8a05e4cdc,1c42599a3bb6be64266d04ebc1c753a8a05e4cdc,"devstack.org site updates

Includes:
* Change Precise to Trusty
* Add the new plugin phase
* Remove deprecated config options
* much, much more

Change-Id: I0385f18a3256ad37a611e505e49572f27b3bcc10"
glucas1,2014-07-09 17:30:38,https://api.github.com/repos/openstack/devstack/git/commits/e6aeb5912bec29eecd18852c75f49ddd868c62f0,e6aeb5912bec29eecd18852c75f49ddd868c62f0,"Avoid uploading trove guest image twice

When creating the trove datastore, get the guest image id from glance.
The trove guest image gets uploaded along with all the other
images specified in $IMAGE_URLS. It is not necessary to upload
it again in init_trove.

Also: add xenapi case to stackrc for trove guest image

Closes-Bug: 1339818
Change-Id: I2973af27ab93182fcd674f874daba1036d767d52"
arxcruz,2014-07-18 14:34:33,https://api.github.com/repos/openstack/devstack/git/commits/1bde9b4bafc766c57e6829e530a7d5da48430fec,1bde9b4bafc766c57e6829e530a7d5da48430fec,"Enable custom BUILD_TIMEOUT

The BUILD_TIMEOUT is hardcoded in lib/tempest. This patch
enables people to pass a custom BUILD_TIMEOUT parameter

Change-Id: I260c32e7ed6bf9a49a6bc40272a5535afbca2731"
dtroyer,2014-07-25 20:27:54,https://api.github.com/repos/openstack/devstack/git/commits/0038a1ac6e6aca42b21f358a83c530270d5d3724,0038a1ac6e6aca42b21f358a83c530270d5d3724,"Clean up local variable usage - Nova

Change-Id: Ia4896746a2f574b7fcb95f85640e0d31c50c372b"
berendt,2014-07-24 10:48:27,https://api.github.com/repos/openstack/devstack/git/commits/f6f42c6a64f8d3b5841695d2a8b00e8fb637c17b,f6f42c6a64f8d3b5841695d2a8b00e8fb637c17b,"Remove configuration parameter Q_DHCP_EXTRA_DEFAULT_OPTS

According to the comments in stack.sh the configuration parameter
Q_DHCP_EXTRA_DEFAULT_OPTS should be removed during the Juno cycle.

Change-Id: I3b38ff57f00e93e6d9692f516291f7129584bc74"
berendt,2014-07-24 10:54:15,https://api.github.com/repos/openstack/devstack/git/commits/4a67885629c99fcbec1779906699a0df231450b4,4a67885629c99fcbec1779906699a0df231450b4,"Remove configuration parameter EXTRA_OPTS

According to the comments in stack.sh the configuration parameter
EXTRA_OPTS should be removed during the Juno cycle.

Change-Id: Ic71d38d6f9b8a8949e45ce3321d593ee2f8feb40"
aaronorosen,2014-07-25 22:35:09,https://api.github.com/repos/openstack/devstack/git/commits/186119c39ea49b06af0220bf1241e2fd94406c87,186119c39ea49b06af0220bf1241e2fd94406c87,"Use Q_PORT variable rather than hardcoded port

Change-Id: I647c6bdf14f2551bd120821a16044cec2b03b197
closes-bug: 1348834"
mriedem,2014-07-25 20:35:53,https://api.github.com/repos/openstack/devstack/git/commits/6a4aa78fa3728f1b0a98850f432211da5c8caedf,6a4aa78fa3728f1b0a98850f432211da5c8caedf,"Fix cinder volume type creation and rename variable

Commit 7062b12b9b91a1eb405d7079c62b62b0de59109f introduced
a bug where the default_volume_type is set to 'lvm' but
that is not the volume-type that's actually created, that
is 'lvmdriver-1' in gate runs, so we see a ton of
VolumeTypeNotFoundByName for the 'lvm' volume type in the
cinder-api logs.

This simply sets the default_volume_type to the volume
type that's created in the create_volume_types function.

Also renames the default_type variable to default_name to
be consistent with variable naming in the rest of the
cinder script.

Change-Id: Ib35ffc09f6582354010ac8ca35da581ea508877a
Closes-Bug: #1348786"
dtroyer,2014-07-25 19:56:22,https://api.github.com/repos/openstack/devstack/git/commits/3ef23bceec1acc73ec766a64ece920be9f41128c,3ef23bceec1acc73ec766a64ece920be9f41128c,"Clean up local variable usage - Backends

Combines cleanup for mysql, postgresql and rpc

Change-Id: I37b928a669146671c946fc1ccb8e3ef1a27a3891"
dtroyer,2014-07-25 18:40:25,https://api.github.com/repos/openstack/devstack/git/commits/c50c983c5687371a4b49222bb853684a919fb8ea,c50c983c5687371a4b49222bb853684a919fb8ea,"Clean up local variable usage - Keystone

Change-Id: I8e5506e9d29879459158ef796854ce7a67107d89"
dtroyer,2014-07-25 20:08:52,https://api.github.com/repos/openstack/devstack/git/commits/084f51f7bba732f79ee114a9f690dd58cffa4973,084f51f7bba732f79ee114a9f690dd58cffa4973,"Clean up local variable usage - Swift

Change-Id: Id02ebdfa5cb3f6c763293876c6bb031184ebd663"
dtroyer,2014-07-25 18:04:13,https://api.github.com/repos/openstack/devstack/git/commits/b52caa386cbaac1e463ed127465bd93610617b99,b52caa386cbaac1e463ed127465bd93610617b99,"Clean up local variable usage - Ironic

Change-Id: I7a455299c6aa079de02b75d4d53df43074880ff7"
dtroyer,2014-07-25 17:50:05,https://api.github.com/repos/openstack/devstack/git/commits/7d31bdcfdaa130a75be1ecb7c475e423891a1a69,7d31bdcfdaa130a75be1ecb7c475e423891a1a69,"Clean up local variable usage - Heat

Change-Id: Ia912a8d3ea764dc713e8fdc380175ab98f887a60"
dtroyer,2014-07-25 16:57:20,https://api.github.com/repos/openstack/devstack/git/commits/50cda69f3c80f4f479fb0748ae6ee2cb9caf945c,50cda69f3c80f4f479fb0748ae6ee2cb9caf945c,"Clean up local variable usage - git functions

Cleans up the git-related functions in functions-common

Change-Id: I5f1851c0473e92c61b1e8af60e7ef32c3019f719"
dtroyer,2014-07-25 15:34:11,https://api.github.com/repos/openstack/devstack/git/commits/14fd979a814a396184f8a28faaa0a661c1b03f37,14fd979a814a396184f8a28faaa0a661c1b03f37,"Fix log_error calls

There is no log_error function, these should have been calls to
die() all along...

Change-Id: I6d853711bcf645de5ceb306f980ef654d5fabac5"
strider,2014-07-24 21:53:02,https://api.github.com/repos/openstack/devstack/git/commits/d3121f649d672fdaf757655b94ecd68c71b56b8e,d3121f649d672fdaf757655b94ecd68c71b56b8e,"Fixes some typos in stack.sh

Change-Id: Ia627d1793c6db76590844d51854dce35a87206b7
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>"
berendt,2014-07-24 10:50:48,https://api.github.com/repos/openstack/devstack/git/commits/a5b70a10828455647b8da1b21b3f32a8f651ccd0,a5b70a10828455647b8da1b21b3f32a8f651ccd0,"Remove configuration parameter Q_SRV_EXTRA_DEFAULT_OPTS

According to the comments in stack.sh the configuration parameter
Q_SRV_EXTRA_DEFAULT_OPTS should be removed during the Juno cycle.

Change-Id: I2a00c924cd51dab00b56cdab1e48e32ffa007de4"
berendt,2014-07-24 10:37:13,https://api.github.com/repos/openstack/devstack/git/commits/9e8ac9942da31e3cefa311ed2bddde4b06364154,9e8ac9942da31e3cefa311ed2bddde4b06364154,"Remove configuration parameter EXTRA_BAREMETAL_OPTS

According to the comments in stack.sh the configuration parameter
EXTRA_BAREMETAL_OPTS should be removed during the Juno cycle.

Change-Id: I8564d16e56d1f77d3afa4af9a50fbffa3da8bfe5"
rameshg87,2014-07-24 10:30:47,https://api.github.com/repos/openstack/devstack/git/commits/c294c503e1285cd3b8f1bc3e78dca53664d1652f,c294c503e1285cd3b8f1bc3e78dca53664d1652f,"Add support for ironicclient bash completion

This commit adds statement to copy the file /ironic.bash_completion
file to the default bash completion directory.

Change-Id: I436d46dbac0895a8ca14d085fec041981435936c"
galstrom21,2014-07-24 02:59:40,https://api.github.com/repos/openstack/devstack/git/commits/053364cf60a3fade888eccd53076d8088657486f,053364cf60a3fade888eccd53076d8088657486f,"Install gettext from apt on Trusty (Ubuntu 14.04)

The binary 'msgfmt' is not installed as part of python-gettext for Trusty
(Ubuntu 14.04), so gettext needs to be installed from apt.

Change-Id: I415814559d82be453e978a0d92a0cdb38f105683
Closes-Bug: 1331328"
rcritten,2014-07-24 00:29:57,https://api.github.com/repos/openstack/devstack/git/commits/26867a63c14cea76a5a36e835ce7cb18bec98eac,26867a63c14cea76a5a36e835ce7cb18bec98eac,"Move SERVICE_PROTOCOL from stack.sh to stackrc

This ensures that SERVICE_PROTOCOL is available to other consumers
of the devstack environment like grenade.

Change-Id: I702d7d239e50dd1446d55c076c7a7c57768486ff
Closes-Bug: 1335953"
sdague,2014-07-23 20:45:12,https://api.github.com/repos/openstack/devstack/git/commits/4f3b66f538937cf0c7f9fdc97e5472f4c77bbe69,4f3b66f538937cf0c7f9fdc97e5472f4c77bbe69,"add is_keystone_enabled

This is missing, and makes logic much harder for the grenade use
case.

Change-Id: Ib6670096d190e69273256b87e6a67e2b46945a0d"
sdague,2014-07-23 19:14:07,https://api.github.com/repos/openstack/devstack/git/commits/f0bd8dbe37bd855669ad4cddff0a49bccfd9b64e,f0bd8dbe37bd855669ad4cddff0a49bccfd9b64e,"stop leaking service as a global var

the tls code was leaking out $service as a global variable, which
was causing all manner of confusing errors in grenade trying to
use that variable name. All lower case vars should be localize.

Change-Id: I74fa597f20ee7c714cab83490b42d874ea93db02"
leseb,2014-01-06 17:09:26,https://api.github.com/repos/openstack/devstack/git/commits/36f2f024dbeafdc4cbd7a76ed1c96d28fea61fb4,36f2f024dbeafdc4cbd7a76ed1c96d28fea61fb4,"Implement Ceph backend for Glance / Cinder / Nova

The new lib installs a full Ceph cluster. It can be managed
by the service init scripts. Ceph can also be installed in
standalone without any other components.
This implementation adds the auto-configuration for
the following services with Ceph:

* Glance
* Cinder
* Cinder backup
* Nova

To enable Ceph simply add: ENABLED_SERVICES+=,ceph to your localrc.
If you want to play with the Ceph replication, you can use the
CEPH_REPLICAS option and set a replica. This replica will be used for
every pools (Glance, Cinder, Cinder backup and Nova). The size of the
loopback disk used for Ceph can also be managed thanks to the
CEPH_LOOPBACK_DISK_SIZE option.

Going further pools, users and PGs are configurable as well. The
convention is <SERVICE_NAME_IN_CAPITAL>_CEPH_<OPTION> where services are
GLANCE, CINDER, NOVA, CINDER_BAK. Let's take the example of Cinder:

* CINDER_CEPH_POOL
* CINDER_CEPH_USER
* CINDER_CEPH_POOL_PG
* CINDER_CEPH_POOL_PGP

** Only works on Ubuntu Trusty, Fedora 19/20 or later **

Change-Id: Ifec850ba8e1e5263234ef428669150c76cfdb6ad
Implements: blueprint implement-ceph-backend
Signed-off-by: S√©bastien Han <sebastien.han@enovance.com>"
ianw,2014-07-23 04:24:11,https://api.github.com/repos/openstack/devstack/git/commits/7ccf4e025a3bcb90b4fe419b232742a67746872b,7ccf4e025a3bcb90b4fe419b232742a67746872b,"Remove output filter on rabbitmq install

The original workaround was for an init script that grabbed stdout.
This was some time ago and I think it's safe to remove.

It can be a problem on Fedora; out-of-the-box some old F20 images can
have a broken dependency when rabbitmq installs.  With this in place,
all helpful output goes into the temp log file, but it is never shown
because the install_packages function exits the script.  Thus things
just stop and you have no idea why.

Change-Id: I2f5b934492a8c9d7b93e89fdcfa776bf15f25cb8"
jogo,2014-07-22 21:26:05,https://api.github.com/repos/openstack/devstack/git/commits/13344bd975b01cbfce6017f91e14964cf03a47be,13344bd975b01cbfce6017f91e14964cf03a47be,"Fix install_ceilometer and install_ceilometerclient

Other projects do a setup_develop in install_*. This standard is used by
grenade to do installations. Currently grenade uses install ceilometer
as part of the upgrade script, but this doesn't actually install the new
ceilometer.

Change-Id: I4e44bec6574e6a4fcfc252418bc267191aef28fb
Closes-Bug: #1347178"
strider,2014-07-21 23:12:12,https://api.github.com/repos/openstack/devstack/git/commits/6dd8a8bee402a6be683075e0669a010a279950ae,6dd8a8bee402a6be683075e0669a010a279950ae,"Users in service group should not have email addresses

Change-Id: Ieed9dffce5cf1e735e482dd3494ac1e103b50955
Closes-Bug: 1185201
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>"
ideaship,2014-07-22 13:35:02,https://api.github.com/repos/openstack/devstack/git/commits/c21cfc92861b060b250ded2eb345d32db9390b34,c21cfc92861b060b250ded2eb345d32db9390b34,"Fix trivial typo in HACKING.rst: tec. -> etc.

Change-Id: Ibdb119249b53e95bdf963ce349703c79611e0720"
afazekas,2014-07-22 12:31:03,https://api.github.com/repos/openstack/devstack/git/commits/40f4438f9baa945e451f8a9fc682efe3fdf9b8f7,40f4438f9baa945e451f8a9fc682efe3fdf9b8f7,"Add conntrack-tools to nova dependencies

'Error deleting conntrack entries' appears in all
n-net. Adding conntrack-tools/conntrack as nova dependency,
in order to eliminate this issue.

Change-Id: Ief9deeb3349a07e22fb365e58f3368c847f845ef"
madjar,2014-07-22 09:45:03,https://api.github.com/repos/openstack/devstack/git/commits/5753eb8e267ccb7a89c0a0ead5e8837633b5c414,5753eb8e267ccb7a89c0a0ead5e8837633b5c414,"Add SERVICE_TOKEN to the sample local.conf

I expect the sample local.conf file to contain all the required
variables. However, after copying samples/local.conf, the stack.sh
script still asks for SERVICE_TOKEN.

This commit adds the SERVICE_TOKEN definition to local.conf so that a
new user can just copy samples/local.conf, edit it, and have a running
stack.sh without the mild annoyance of having more variables to set.

Change-Id: Ifb163c7f67c80037d8b10458f2df458a20da4667"
anguslees,2014-07-21 05:35:34,https://api.github.com/repos/openstack/devstack/git/commits/7df9d1be17162feabeaba35faa87baf09debe590,7df9d1be17162feabeaba35faa87baf09debe590,"Ensure sbin is in PATH.

Some distros (Debian) don't have sbin in PATH for non-root users.

Nova (and possibly other services) assumes that it can invoke ""sysctl""
without sudo.

Change-Id: Iced21fc1378af309fb49688f9b63f2cd8383e304
Closes-Bug: #1300800"
ianw,2014-07-17 09:54:50,https://api.github.com/repos/openstack/devstack/git/commits/dcdcb5ace8ea30ffe164310e6771cbffac4374ab,dcdcb5ace8ea30ffe164310e6771cbffac4374ab,"Add WSGISocketPrefix to apache keystone config

I think since probably fdf1cffbd5d2a7b47d5bdadbc0755fcb2ff6d52f
devstack on RHEL6 fails and it comes down to:

---
2014-07-17 05:05:49.235 | +++ openstack role create admin -f value -c id
2014-07-17 05:05:49.615 | ERROR: cliff.app Service Unavailable (HTTP 503)

[Thu Jul 17 15:05:46 2014] [error] [client 10.0.2.15]
  (13)Permission denied: mod_wsgi (pid=30125): Unable to connect to WSGI
   daemon process 'keystone-public' on
   '/etc/httpd/logs/wsgi.30098.0.1.sock' after multiple attempts.
---

The apache user doesn't have permissons to this directory.  Adding
WSGISocketPath to /var/run solves it

Change-Id: If4b74019b6bd389b576fc981154bb1b3aa471c9b"
anjutiwari,2014-07-15 12:41:54,https://api.github.com/repos/openstack/devstack/git/commits/6c639c9dd71099437bf27da0aed0c6dd7b0a32b2,6c639c9dd71099437bf27da0aed0c6dd7b0a32b2,"Added Oracle Linux distribution support

Enabled devstack to support oracle Linux Server

Change-Id: I1749cd3c7756a9903d2a0b0ab19606f87a4937d4"
ianw,2014-07-17 04:50:29,https://api.github.com/repos/openstack/devstack/git/commits/f565bf2d3af6cd8f5a43a1f77c713f24ec340e8c,f565bf2d3af6cd8f5a43a1f77c713f24ec340e8c,"Add argparse for RHEL6

python2.6 doesn't have argparse, required by outfilter.py.  This
package is a dependency on cloud-init, so this problem is often masked
in many testing environments.

Change-Id: Ia564f1b8a7b540faa7bbdbd1a1a290c591901682"
emonty,2014-07-17 03:56:59,https://api.github.com/repos/openstack/devstack/git/commits/72ab17b8301eaae717873595c8a4d37f08dc5c45,72ab17b8301eaae717873595c8a4d37f08dc5c45,"Remove unfubar_setuptools

It is no longer used for anything, nor does it seem to be
needed in the modern world of get-pip.py.

Change-Id: I5554514dd862a2004454daf295abbcf9cf9f2bfb"
leseb,2014-07-16 07:37:41,https://api.github.com/repos/openstack/devstack/git/commits/7062b12b9b91a1eb405d7079c62b62b0de59109f,7062b12b9b91a1eb405d7079c62b62b0de59109f,"Fix default_volume_type for Cinder multi backend

The default_volume_type option doesn't support comma separated
arguments. We can only select one default volume type.
We have a variable that contains the default volume type, so we simply use it.

Closes-Bug: 1342569

Change-Id: Ibd080442f00f3d446ec374fc5906f0778d449007
Signed-off-by: S√©bastien Han <sebastien.han@enovance.com>"
BobBall,2014-07-16 12:14:11,https://api.github.com/repos/openstack/devstack/git/commits/5c64a463d87a6b49807a641fa457be040740204a,5c64a463d87a6b49807a641fa457be040740204a,"XenAPI: Always add latest Cirros euc image

Some tests, such as test_minimum_basic_scenario, assume qcow and if
a qcow image does not exit, falls back to the euc image.
This change ensures these tests work in the stock XenServer environment.

Change-Id: I718f178f7e5e0fa4eebd17a49caf5254124092e3"
SlickNik,2014-07-15 21:31:04,https://api.github.com/repos/openstack/devstack/git/commits/9c4f24afd972987076a125876e148a785de993e9,9c4f24afd972987076a125876e148a785de993e9,"Fix trove guest confing to ignore user os_admin

This value of ignore_users in the guest config needs to be set
correctly to ignore the local os_admin user for the trove functional
tests to pass in a devstack-gate environment.

Change-Id: Ia31dfe8f2eab4b24790b6be0dbc474cf50f39afa"
morganfainberg,2014-07-15 18:06:36,https://api.github.com/repos/openstack/devstack/git/commits/2df0046fa759481f793d9c51563728b21c7858d8,2df0046fa759481f793d9c51563728b21c7858d8,"Make apache restarts a little more forgiving

Apache sometimes is slow to release the port (from the kernel's
perspective) which can cause restarts of apache to fail due to the
requested port already being bound. This fix introduces a small sleep
between the stop and start to help make apache deployments a bit
more resilient.

Change-Id: I9697d71f3cb2d8d5da8fe7ffa8b3e1ade9d52afd
Closes-Bug: #1342256"
BobBall,2014-07-14 14:18:33,https://api.github.com/repos/openstack/devstack/git/commits/d6b43a09c42dbc4d9e82d86482f961f84bb4bbe2,d6b43a09c42dbc4d9e82d86482f961f84bb4bbe2,"XenAPI: Fix race condition on tailing stack.log

Stack.log is created by stack.sh, which is started by run.sh.  Using
the pid from run.sh doesn't mean that stack.log has been created yet
so wait for the log to be created before tailing

Change-Id: I86e563478949cb7bbe0d1afd80b790ba70328e3a"
dtroyer,2014-07-03 15:46:57,https://api.github.com/repos/openstack/devstack/git/commits/097183356e60f6375061914e89816c8faafb3a6f,097183356e60f6375061914e89816c8faafb3a6f,"Support multiple Cinder backend types

This is the first step in supporting multiple Cinder backend types at
once.  It initially converts the existing hard-coded multi-lvm support
to a new cinder_backends driver form.  Eventually the cinder_plugins
will be converted to this form so they can be enabled more than just
one at a time using CINDER_ENABLED_BACKENDS.

The default configuration should be identical to the previous defaults,
including for both True and False values of CINDER_MULTI_LVM_BACKEND.

The existing cinder_plugins are expected to be removed when this is
complete. They should continue to work until they have been converted.

Add wait for c-api to ensure it is started before continuing.

Change-Id: I93b8ef32832269d730c76a6dc24ddb4f20c6d9df"
sdague,2014-07-15 08:03:59,https://api.github.com/repos/openstack/devstack/git/commits/0ae54daa4a34502f16cc1751d6ddf8f5f9525171,0ae54daa4a34502f16cc1751d6ddf8f5f9525171,"add python-mock to testonly package list

Python-mock is needed by most of OpenStack for testability. Add
this is a testonly package. This should fix current issues with
functional tests in OpenStack that use devstack, but not tox to
run their tests.

Closes-Bug: #1341507

Change-Id: I26cbe42ace75554bae993a6d849c3b4ac649c78e"
gildub,2014-07-15 04:30:26,https://api.github.com/repos/openstack/devstack/git/commits/a216254a13933cfc37764be2605394b9bf078133,a216254a13933cfc37764be2605394b9bf078133,"FAQ: Clarification - Devstack is a gating project

Change-Id: I52fdfc5c865e864939df49fecb71b8e615a28cbf"
jameschapma,2014-06-11 18:29:26,https://api.github.com/repos/openstack/devstack/git/commits/c83cc75e61c66d761ff8a222af92a6a6218494ab,c83cc75e61c66d761ff8a222af92a6a6218494ab,"Configure the OVS datapath type with devstack.

This feature provides the user with a means of easily configuring
the required Openvswitch datapath type. (Netdev, dpdk, etc)

Define the OVS_DATAPATH_TYPE variable in the devstack configuration file
local.conf.

This feature enables Intel(R) DPDK vSwitch and netdev DPDK vhost.

Implements blueprint config-ovs-datapath-type

Change-Id: I5698720960b1ac532c790d3e5735c5cef36d5e3d"
BobBall,2014-07-14 14:21:07,https://api.github.com/repos/openstack/devstack/git/commits/105eaee2c0f9aedeb75807728beb25e27aea78df,105eaee2c0f9aedeb75807728beb25e27aea78df,"XenAPI: Use GUEST_PASSWORD when installing DomU

We know what the GUEST_PASSWORD will be, so set it during DomU
installation; therefore if the installation fails for any reason
we have a correct GUEST_PASSWORD set rather than the obscure and
undocumented 'r00tme'

Change-Id: I684646a74f2cede43667a40556e247955e042ae4"
paul-stratoscale,2014-07-14 05:23:00,https://api.github.com/repos/openstack/devstack/git/commits/9e17974a622797d6249ebc85d999a9b89aba9e58,9e17974a622797d6249ebc85d999a9b89aba9e58,"Fixed NO_UPDATE_REPOS variable usage

Change-Id: I50a2fd73f30321e97c99947b62fb1729870a2c14"
DinaBelova,2014-07-11 14:18:12,https://api.github.com/repos/openstack/devstack/git/commits/58adaa6b75717d39f406cf059c57f3c7f983770a,58adaa6b75717d39f406cf059c57f3c7f983770a,"Fix Neutron configuration if Ceilometer is enabled

Previously if Ceilometer service was enabled,
configuration option to enable Neutron network
notifications was not set. This fixes it.

Change-Id: Ia53d9db1828ef2daa0ce637b2a2635795856502c
Closes-Bug: #1340754"
emagana,2014-07-10 22:42:44,https://api.github.com/repos/openstack/devstack/git/commits/6f335b9a4b093cd96ebf8373e9014120f461e382,6f335b9a4b093cd96ebf8373e9014120f461e382,"Add a Tunnel end-point variable for Neutron configuration

The HOST_IP address is being used as IP address
for end-point tunnel configruation. A new variable is
needed to specify a different IP address for the tunnel
end-point that Neutron will use

Change-Id: Ic7fb4853df167e78bf882af6a712b903db754dc2
Closes-bug: #1340433"
mriedem,2014-07-09 19:38:36,https://api.github.com/repos/openstack/devstack/git/commits/94c654ef37f6a0247a307578f3240f97201a3cba,94c654ef37f6a0247a307578f3240f97201a3cba,"Set postgresql max_connections=200

Now that we have multiple workers running by default
in various projects (nova/cinder/glance/trove), the
postgresql job is failing intermittently with connection
failures to the database.

The default max_connections for postgresql is 100 so here
we double that.

Note that the default max_connections for mysql used to
be 100 but is now 151, so this change brings the postgresql
configuration more in line with mysql.

Change-Id: I2fcae8184a82e303103795a7bf57c723e27190c9
Closes-Bug: #1338841"
afazekas,2014-07-09 18:18:04,https://api.github.com/repos/openstack/devstack/git/commits/87d74a0bddc3db0f1541050be104ea78b3076afe,87d74a0bddc3db0f1541050be104ea78b3076afe,"Promote libffi-dev as a general dependency

libffi-dev/libffi-devel can be requested for rebuilding the
python clients which is an un-skipable part of the devstack install.

Promoting the libffi-devel to a general dependency.

Change-Id: I1dac7fd536b94de1e49aaf335ac29ffae1bd39d1"
dtroyer,2014-07-09 16:27:42,https://api.github.com/repos/openstack/devstack/git/commits/5c3a63e6337961497ec3d29c409d64301108a2e3,5c3a63e6337961497ec3d29c409d64301108a2e3,"Add pre-install phase for extras.d plugins

An additional call hook for the extras.d plugins that is called before
any service installation occurs turns out to be needed by Ceph and
useful for other plugins.

This is called between the installation of the system packages listed
as prerequisites and the installation of the actual services.

Change-Id: Id723bdc7542182d2b2eff40c0dc0127307f094c5"
redixin,2014-07-08 18:05:23,https://api.github.com/repos/openstack/devstack/git/commits/8464a4cba38a4e4b98305712fb577bbe60068775,8464a4cba38a4e4b98305712fb577bbe60068775,"Configure rabbitmq credentials in keystone.conf

Rabbitmq credentials in keystone.conf should be updated according
to localrc

This is done mostly to enable keystone notifications.

There are 2 cases where we can use notifications from keystone:
A) Collect audit notifications in ceilometer
B) Collect profiling data

Change-Id: I381d4d670755aa691743caa02df7dc55e05784c2"
morganfainberg,2014-06-26 00:25:25,https://api.github.com/repos/openstack/devstack/git/commits/e6dd4e665d2a10e7cbbf2d0c35011700ddabf0ad,e6dd4e665d2a10e7cbbf2d0c35011700ddabf0ad,"Enable Keystone under Apache by default

Make the default run mode of Keystone HTTPD + mod_wsgi. This will
enable gating on Keystone under mod_wsgi.

Depends On: https://review.openstack.org/#/c/100764/

Change-Id: I4b664a1d6c9bbb1ff999158f3a8c8ab3bd8d891b"
morganfainberg,2014-06-20 17:37:18,https://api.github.com/repos/openstack/devstack/git/commits/46455a34d56c4bd91ccab5a33f801d3c3e065121,46455a34d56c4bd91ccab5a33f801d3c3e065121,"Update Apache + mod_wsgi deployment mechanisms

Added a global toggle for enabling HTTPD + mod_wsgi for services
that default deploy to running under Apache. When the variable
``ENABLE_HTTPD_MOD_WSGI_SERVICES`` is set to ``True`` any service
that recommends deploying under HTTPD + mod_wsgi, will be run
under Apache.

If ``ENABLE_HTTPD_MOD_WSGI_SERVICES`` is set to ``False`` the
any service that is defaulted to running under HTTPD + mod_wsgi
will (if capable) be run in an alternate deployment strategy (e.g.
eventlet).

Updated Swift and Keystone to have individual toggles for deploying
under HTTPD + mod_wsgi. This is done to allow for gate to run on
the services under mod_wsgi where appropriate. Toggles are
``KEYSTONE_USE_MOD_WSGI`` and ``SWIFT_USE_MOD_WSGI`` and are both
defaulted to ""False"" (do not deploy under HTTPD + mod_wsgi).

Change-Id: Id3b121b8f1cde369d184b586e0d875bdbda34813"
chungg,2014-07-03 15:56:27,https://api.github.com/repos/openstack/devstack/git/commits/4ede37aa8664dd034f33f28731b95f0d32159b11,4ede37aa8664dd034f33f28731b95f0d32159b11,"Revert ""Add missing config option os_auth_url""

This reverts commit 524bbed05ce9de0bd711aa18c35afa4476978404.

Change-Id: I0dc3ec7a55cb65bd2a5ff76f32b3d99f8962597b"
gandelman-a,2014-07-04 00:57:49,https://api.github.com/repos/openstack/devstack/git/commits/ea335f4e06416c14f7d6e3fe6006e963239e7fe6,ea335f4e06416c14f7d6e3fe6006e963239e7fe6,"Lower default IRONIC_VM_SPECS_RAM

Revert the default required RAM for Ironic nodes from 1024MB to 512MB.
Ironic now passes a kernel parameter to deploy ramdisks that avoids use
of tmpfs and lowers minimum memory requirements.

Change-Id: I20226c496fdd06ecfc6769a60b6d6f82887130a8"
dtroyer,2014-07-02 01:46:04,https://api.github.com/repos/openstack/devstack/git/commits/926c99d072e948f69dc32caa157f5d2247f78c47,926c99d072e948f69dc32caa157f5d2247f78c47,"Generate recent changes list from git log

The list of recent commits to the DevStack repo is now generated
by tools/build_docs.sh from the last 6 month of the git log.

Change-Id: Idefdb5d5188ab7e743af131e3d6cb132382d25d4"
boris-42,2014-07-01 10:15:52,https://api.github.com/repos/openstack/devstack/git/commits/46e1abafa5b47304f4fa536b38d6da7a810d7609,46e1abafa5b47304f4fa536b38d6da7a810d7609,"Add ability to enable OSprofiler

To enable OSprofiler we should be able to add ""profiler"" notification
topic to ceilometer notification topics.

More about OSprofiler:
https://github.com/stackforge/osprofiler

More about ceilometer plugin:
https://review.openstack.org/#/c/100239/

Sample of trace (via Cinder and Nova Services):
http://pavlovic.me/rally/profiler/

Change-Id: I6137174a3ecddd58f62e0f98b235b71b1c070f13"
berrange,2014-07-01 12:21:34,https://api.github.com/repos/openstack/devstack/git/commits/a12f996778712866079711a981cdd6b58aa77419,a12f996778712866079711a981cdd6b58aa77419,"Avoid huge libvirtd.log files on Ubuntu hosts

The libvirt log filter settings match against the filename of
the libvirt source emitting the log message. Normally these
file names are relative to the source tree root, but in the
Ubuntu binary packages these have somehow ended up as absolute
filenames from the OS root. This means that a log filter of
'1:libvirt' which is only intended to match src/libvirt.c
will in fact match every single file. This caused enourmous
log files on Ubuntu hosts running the gate.

The fix is to use '1:libvirt.c' as a more specific filename
match, but we can't do this unconditionally because libvirt
>= 1.2.3 does not use filenames for log filter matching
anymore. So only change the match on Ubuntu hosts for now,
since that's where the original problem lies.

While doing this, also turn off the logging of object ref
and unref operations, since those pollute the logs with lots
of noise.

Change-Id: I71b67507a4e68a7bff0c358857aaaac08ef0c420"
hanney,2014-02-28 13:15:19,https://api.github.com/repos/openstack/devstack/git/commits/0abde393c5e2d15e840c0321b736e22291b59780,0abde393c5e2d15e840c0321b736e22291b59780,"Adds support for multi-region

Change-Id: Ib85fe7cb375692b04aca4c46f61ba7e1fbfa501b
Implements: blueprint multi-region"
sdague,2014-06-30 20:49:30,https://api.github.com/repos/openstack/devstack/git/commits/fafb62b93e56b43d20e3dbbee45534f2dcb3d590,fafb62b93e56b43d20e3dbbee45534f2dcb3d590,"fix trove image addition

the previous addition to trove was done in a way that it was not
possible to discover from nodepool. This fixes our ability to do
that, especially with non-default on services.

Change-Id: I8ca682354e0d4e2eb9cf05f40c6dd783de1c6355"
morganfainberg,2014-06-24 19:26:07,https://api.github.com/repos/openstack/devstack/git/commits/58936fdbcda70b28e14dfe9a5fe344fc1f22c40e,58936fdbcda70b28e14dfe9a5fe344fc1f22c40e,"Add keystone middleware to devstack

Add the keystonemiddleware repository to devstack to support testing
with tempest and stable branches.

Change-Id: Ib635465e6568d9cd51d6e432ec8b8633a27d19ce"
viraptor,2014-06-25 14:29:43,https://api.github.com/repos/openstack/devstack/git/commits/bd5dae0618ed697504a25a692a02e8372fc3d66c,bd5dae0618ed697504a25a692a02e8372fc3d66c,"Do a proper tls/ca cleanup in unstack

Certificates and the index were left in the data directory after
running unstack. That would break devstack on the next run.

partial blueprint devstack-https
Change-Id: I6eb552a76fb29addf4d02254c027e473d6805df1"
zqfan,2014-06-28 08:50:22,https://api.github.com/repos/openstack/devstack/git/commits/ecd05637a34451da48e959a9595cf58de960198b,ecd05637a34451da48e959a9595cf58de960198b,"Do not clean docs directory

The docs/source has been introduced by change-id:
Ide5f7d980a294c7a9f8a3decaed0939f1c239934, but clean.sh try to clean
whole docs direcotry, which is not right.

Meanwhile, there are directories in FILES_TO_CLEAN variable, which means
rm -f will not work. We need to use rm -rf.

Change-Id: I4e10d70d5638ce7e7a9215f5bd848422aa90aad3
Closes-Bug: #1335399"
kashyapc,2014-06-25 10:51:05,https://api.github.com/repos/openstack/devstack/git/commits/2b5c14d2d8b07d35c176b4f1702d57424bd9ee19,2b5c14d2d8b07d35c176b4f1702d57424bd9ee19,"Add libyaml-devel package dependancy

Without libyaml-devel package installed (on Fedora-20),
running ./stack throws:

  [. . .]
  build/temp.linux-x86_64-2.7/check_libyaml.c:2:18: fatal error: yaml.h:
  No such file or directory #include <yaml.h> ^ compilation terminated.

  libyaml is not found or a compiler error: forcing --without-libyaml
  [. . .]

Adding this dependency to files/rpms/general resolves it. Also added to
files/apts/general.

Change-Id: If1aa23bf3fc76ea2b321c3725dd07050ddd4b825"
sdague,2014-06-27 19:21:41,https://api.github.com/repos/openstack/devstack/git/commits/ea22a4fdba6c942e310588c4e2652be4fef5fe29,ea22a4fdba6c942e310588c4e2652be4fef5fe29,"Revert ""Build retry loop for screen sessions""

This reverts commit 0afa912e99dc9bad8b490960beb8f0cf85750dcc.

This possibly made things worse, though it times in with the
trusty add, so it's hard to tell. Revert to see if grenade gets
better.

Change-Id: Ic399957fc9d4a7da28b030cdf895df061b2567c8
Related-Bug: #1331274"
viraptor,2014-06-27 15:05:53,https://api.github.com/repos/openstack/devstack/git/commits/2e0f0544ec0af0af31d923c2fc3e3fd08e60129b,2e0f0544ec0af0af31d923c2fc3e3fd08e60129b,"Comment fix - correct function names

Change-Id: Idecc6cd9bc255ab20d3bc8f4b3a3e7f248b585f0"
viraptor,2014-06-26 16:47:56,https://api.github.com/repos/openstack/devstack/git/commits/317ecdb865ab3b14ad49d94cd5f798a928d5f4e1,317ecdb865ab3b14ad49d94cd5f798a928d5f4e1,"Stud is available in new distributions

Stud was marked as precise-only. In reality it's only not available in
lucid. All supported distributions are ok now.

partial blueprint devstack-https
Change-Id: Ie86f345102cfddcca5387be514b67641ef750313"
ianw,2014-06-27 03:26:27,https://api.github.com/repos/openstack/devstack/git/commits/3171cb98a9aea3e1c53664d75985de81a289a855,3171cb98a9aea3e1c53664d75985de81a289a855,"Add rhel7 as supported distro

rhel7 testing has been fairly stable with redhatci bot testing beta
and RC builds for some time.  Centos7 testing is now coming online
with the nightly builds.  Thus no need to require the unsupported flag
any more.

Change-Id: Iceab5c1d8b713f1f96b5751cf988fe060cfeff58"
longgeek,2014-06-01 15:44:21,https://api.github.com/repos/openstack/devstack/git/commits/524bbed05ce9de0bd711aa18c35afa4476978404,524bbed05ce9de0bd711aa18c35afa4476978404,"Add missing config option os_auth_url

Without this option will appear as an error:
Skip interval_task because Keystone error:
Authorization Failed: Unable to establish connection to
http://localhost:5000/v2.0/tokens

Closes-Bug: #1325383

Change-Id: I42fe92596d9d475f2c5b2a6aa6b49d2b7b821c54"
afazekas,2014-06-26 10:38:20,https://api.github.com/repos/openstack/devstack/git/commits/bfcb2ff732ffdf2ed50be6a677f1b6182a0213a4,bfcb2ff732ffdf2ed50be6a677f1b6182a0213a4,"Switch to Fedora-x86_64-20-20140618-sda

The heat-slow job using the Fedora-20 image as L2 guest, the
currently used version is affected by the heartbleed issue and
the Mb-Bios bug issue observed with emulation.

This version of the  Fedora cloud image uses the no_timer_check
kernel parameter, which solves the MP-Bios Bug issue.

The Image tested with ~3000 heat-slow job, without any issue.

Change-Id: I9ce9b7769c2d91e630b0362f2c2c6ac9066defbc
Closes-Bug: #1312199
Closes-Bug: #1297560"
afazekas,2014-05-28 14:15:53,https://api.github.com/repos/openstack/devstack/git/commits/b3e722df60bef0aae1381c962b252ab26b52b589,b3e722df60bef0aae1381c962b252ab26b52b589,"soft-qemu handling with F20 could image

When the qume used with Linux image without
a para-virtualized timer, various timing issues can happen,
if the qemu process preempted in the wrong time, for example
at timer test.

The issues less like happens on low load, high core number
host system, but it can happen.

For soft qemu (TCG) generally recommended to explicitly disable the
timer check.

Pre-caching the Fedora `gate edition` image, which contains the
the no_timers_check option.

Related-Bug: #1297560
Partial-Bug: #1312199

Change-Id: Id5cd01a92a047b7859914e5bb017c15ee443b4d5"
viraptor,2014-06-11 16:52:49,https://api.github.com/repos/openstack/devstack/git/commits/be4c953e5a46dc20401e217a23b206483f24d01b,be4c953e5a46dc20401e217a23b206483f24d01b,"Always check keystone using http

The check to $service_port must be done using http. It's
$KEYSTONE_SERVICE_PORT that may use either the http or https protocol.

partial blueprint devstack-https
Change-Id: I8ae081e9710c54396b765210336a7de331947086"
Thingee,2014-06-25 15:51:31,https://api.github.com/repos/openstack/devstack/git/commits/f64f43b533b5bd3ef58b25bdabecd6789c6172ad,f64f43b533b5bd3ef58b25bdabecd6789c6172ad,"Default cinder enable_v1_api to true

As of Juno, Cinder will be deprecating the Cinder V1 API and setting it
to not be enabled by default. We'll make it enabled in devstack to
continue tests while it's supported.

Change-Id: Ia09eed0375a73c69a29b1aa379b5bd9fd3a1f5b7"
mestery,2014-06-24 11:07:54,https://api.github.com/repos/openstack/devstack/git/commits/86af4a0e5d5b0dc5bfb9c98e19e3b18518cab2e8,86af4a0e5d5b0dc5bfb9c98e19e3b18518cab2e8,"Don't install openvswitch-datapath-dkms on newer kernels

On kernels >= 3.13 for Ubuntu, there is no need to install the
openvswitch-datapath-dkms package anymore. Consequently we don't need the
dkms package anymore, nor the linux headers.

Update the opendaylight devstack code to correctly check for this and make
the right decision.

While here, also utilize get_packages() and common code where possible.

Change-Id: Idd6a71951f6f77b6e3c4e536e735dfead6a40bc1
Closes-Bug: #1331111"
viraptor,2014-06-25 14:07:48,https://api.github.com/repos/openstack/devstack/git/commits/2f69c6b85387f85db63e0a087c8b3fac992bd04d,2f69c6b85387f85db63e0a087c8b3fac992bd04d,"Don't try to regenerate existing ssl certificates

Rerunning stack.sh after some failure unrelated to ssl setup will fail
due to certificates already existing in the CA index. Don't regenerate
them instead. This is a workaround making devstack development easier
rather than something typical user would run into.

Change-Id: Icfd4cb5132c8c9297eb73159e592b7006295184f"
SlickNik,2014-06-24 20:06:00,https://api.github.com/repos/openstack/devstack/git/commits/afefaa7822c189ff9a63fbcde8751e29f995e2c0,afefaa7822c189ff9a63fbcde8751e29f995e2c0,"Update trove to install guest image and datastores

Update the trove bits to actually upload the trove guest image to
glance, and create the datastore and datastore version objects that
are associated with the guest image ID.

Change-Id: I6c5c56b3fac981e91cdd7ed60079a5649b8dfea8"
BobBall,2014-06-24 12:59:49,https://api.github.com/repos/openstack/devstack/git/commits/dc7ebbb9a42c5d497cb8de18842116c76096a72f,dc7ebbb9a42c5d497cb8de18842116c76096a72f,"XenAPI: Tail output from stack.sh

While installing devstack in XenServer's DomU we can easily
track the output so end-users have much more visibility of
both what is going on and what (if anything!) went wrong.

Change-Id: I7d12a13cea9dffda6c1388ce711b6adf76cae72c"
DinaBelova,2014-06-24 12:52:46,https://api.github.com/repos/openstack/devstack/git/commits/eedfdee060b17d38b14628b7e706967cb15a35af,eedfdee060b17d38b14628b7e706967cb15a35af,"Fix Swift config for Ceilometer usage

Ceilometer filter was previously removed from the Swift
configuration to avoid useless Ceilometer logs in the Swift
ones. This was fixed by setting only warning log level for
this Ceilometer part of the pipeline to keep only important
ones.

Change-Id: I8c41355bb98dbf3bb59ec792221b05ea936086b7
Partial-Bug: #1294789"
BobBall,2014-06-24 10:15:50,https://api.github.com/repos/openstack/devstack/git/commits/8230296ec39abca84d3763f653b0b7d5f300ea82,8230296ec39abca84d3763f653b0b7d5f300ea82,"Use curl to download from github.com

Github recently removed some sslv3 ciphers - wget seems to only
enable a subset of the ciphers available so fails now, but curl
continues to succeed.

Use --no-sessionid to work around
https://bugzilla.redhat.com/show_bug.cgi?id=1098711

Change-Id: Ia110bd2d0a222e438189c10a9c1a236bd7ea3d0e"
julienvey,2014-05-27 13:51:49,https://api.github.com/repos/openstack/devstack/git/commits/00da58a0da77e168b8fe01e8909e5f2f8815172e,00da58a0da77e168b8fe01e8909e5f2f8815172e,"Add an environment variable to enable extensions in keystone

Following https://review.openstack.org/#/c/44401/3

Change-Id: I8e0391cd68e29e6d57c0f35517bf4155110861c7
Closes-Bug: #1218733
Co-Authored-By: Yong Sheng Gong <gongysh@unitedstack.com>"
ianw,2014-06-24 05:06:02,https://api.github.com/repos/openstack/devstack/git/commits/bcdce9ea12a5a0613936bbfdc13f43f7f0c13d97,bcdce9ea12a5a0613936bbfdc13f43f7f0c13d97,"Handle failure of openstack endpoint

Change 4f7bf6963a1e9ae03bc0ae9189874cba561ad62f introduced finding the
endpoint via ""openstack endpoint show"" only.  Previously that output
was piped through grep, etc. so it handled fell back to a blank
output when the endpoints were not available.

Ignore failures of this command so the blank output is matched

Change-Id: Iae2f09784ffa38efd2f858513bf284c84c32edac"
fyelles,2014-06-19 09:14:42,https://api.github.com/repos/openstack/devstack/git/commits/683ff42d3cac11dbd25ed82f4c419215c5c1f84f,683ff42d3cac11dbd25ed82f4c419215c5c1f84f,"Support of an alternate pypi server

Currently pip will get the package from the https://pypi.python.org server.
For CI, it's a problem as Internet connection can be down,
the pypi server down, etc...

The usecase is for a company/user that maintain a local pypi mirror
and give the option to use this server instead of the official one

Change-Id: I83aac4646cb78827a92c9636d78238f8a6118642
Implements: blueprint support-local-pypi-server"
sdague,2014-06-23 12:11:05,https://api.github.com/repos/openstack/devstack/git/commits/e83f7785a7609284f74667e266e38e12a29b326b,e83f7785a7609284f74667e266e38e12a29b326b,"retry apt operations to avoid network issues

One of the major gate failures is do to something being wrong with
the apt mirrors. The Acquire group provides an implicit retry on
network operations which seems like it might be helpful here.

Ref: http://linux.die.net/man/5/apt.conf

Change-Id: I099f47ed86ad6a3d4296bff4cce75e7f7d946d27
Related-Bug: #1286635"
sdague,2014-06-23 12:21:07,https://api.github.com/repos/openstack/devstack/git/commits/e837714244b974e5bdbea5349d02b3edee4e4d0b,e837714244b974e5bdbea5349d02b3edee4e4d0b,"use setup_install for django_openstack_auth

This is fundamentally a library. As such we should setup_install
so that we can possibly pin it, otherwise we *always* get the
git version instead.

Change-Id: Ia815f2675cf535bb05a7e8eda853690171559b86"
bcrochet,2014-06-23 12:16:56,https://api.github.com/repos/openstack/devstack/git/commits/e66da49c2976992286ab54668af28dbb00d6c529,e66da49c2976992286ab54668af28dbb00d6c529,"Bump EPEL release rpm for RHEL 7 to 7.0-2

Change-Id: I67aca97770cd6f89072e881ae37e39d70bfaba53"
toabctl,2014-06-23 11:47:36,https://api.github.com/repos/openstack/devstack/git/commits/a650901837c703b6877016208caccd4c11581d7b,a650901837c703b6877016208caccd4c11581d7b,"Cleanup postgresql-server on openSUSE

During database cleanup, delete postgresql-server package also on
openSUSE.

Change-Id: I4dff0ac6493ab9b9a8c6ed15b7cfcdb35264da27"
sdague,2014-06-16 21:24:14,https://api.github.com/repos/openstack/devstack/git/commits/97fcc7b27b9972dd43f9466f1b662ed6e8f58417,97fcc7b27b9972dd43f9466f1b662ed6e8f58417,"add worlddump tool to devstack

when we exit poorly, start building a tool for doing a capture
as to why. This tool is expected to be consumed directly from
grenade as well.

Change-Id: Ia1bc1c2e259587035ca7252baceec25fa464cb82"
dtroyer,2014-06-20 22:53:55,https://api.github.com/repos/openstack/devstack/git/commits/54b973233904f8870bf2d4dc6a5dfedb031531fb,54b973233904f8870bf2d4dc6a5dfedb031531fb,"Move static docs into master branch

The hand-maintained static HTML docs for DevStack have been in a
GitHub gh-pages branch; move them into the master branch in
preparation for hosting them in openstack.org infrastructure.

By default tools/build_docs.sh now builds the static HTML output
into docs/html.

Change-Id: Ide5f7d980a294c7a9f8a3decaed0939f1c239934"
gkotton,2014-06-20 07:51:09,https://api.github.com/repos/openstack/devstack/git/commits/8f8ea9ac91d21d66aa53e2638ea6190f9d7381dc,8f8ea9ac91d21d66aa53e2638ea6190f9d7381dc,"Glance: start to use nova's glance configuration section

Commit 4b6e75b5f8037adbf63ac2f03dca17f0c8c0bc08 added support
of a neutron section. This updates the code to make use of
that section.

Change-Id: Ib9a0f2aeb0d91adeb567f79917804f0a89fdb6e1"
brantlk,2014-06-19 21:55:45,https://api.github.com/repos/openstack/devstack/git/commits/1e1fce856dfafe60c477a8ba956eaa9fa160c6c4,1e1fce856dfafe60c477a8ba956eaa9fa160c6c4,"Use Keystone's default token format if not set

Devstack was setting its own default for Keystone's token format, so
when Keystone's default token format changed then devstack needed to
be updated. With this change, devstack will only override Keystone's
token format if KEYSTONE_TOKEN_FORMAT is set explicitly. PKI setup
is assumed to be needed unless the KEYSTONE_TOKEN_FORMAT is set to
UUID.

Change-Id: Idfa78e93abd80273dadcf37007a024bb6a783a48"
sdague,2014-06-18 19:36:19,https://api.github.com/repos/openstack/devstack/git/commits/0afa912e99dc9bad8b490960beb8f0cf85750dcc,0afa912e99dc9bad8b490960beb8f0cf85750dcc,"Build retry loop for screen sessions

There is a timing window where we might lose the commands being
stuffed into screen because bash is spawning. In those cases, loop
around and try building screen sessions again.

Change-Id: I49247de06bbd59424cb10fb9a8db145907be5138
Related-Bug: #1331274"
eezhova,2014-06-19 08:49:32,https://api.github.com/repos/openstack/devstack/git/commits/2d451967be1aa9f8154d14325a6a673b2833b281,2d451967be1aa9f8154d14325a6a673b2833b281,"Use oslo-messaging-zmq-receiver to start zeromq receiver

The project-specific receiver command nova-rpc-zmq-receiver
has been replaced with oslo-messaging-zmq-receiver.

We need to update devstack code accordingly.

Change-Id: I7696c649fa818ecb523b698ea4a23f70da60147d
Closes-Bug: 1279739"
Frostman,2014-04-23 10:47:17,https://api.github.com/repos/openstack/devstack/git/commits/0d286089b2e74f84c3d096d0620358537a5be2e6,0d286089b2e74f84c3d096d0620358537a5be2e6,"Remove obsolete sahara keystone auth conf

Change-Id: I9005d99540572bd1e9251683b1e9cc6638afa7e7"
gkotton,2014-06-18 06:24:53,https://api.github.com/repos/openstack/devstack/git/commits/13d385e4028c8b770b8cc9f7422c9f64fbd4ec55,13d385e4028c8b770b8cc9f7422c9f64fbd4ec55,"Neutron: start to use nova's neutron configuration section

Commit 5cacad3508570ce70b1f9ef620e0508169687fda added support
of a neutron section. This updates the code to make use of
that section.

Change-Id: I86119476fde5066182d3aadcee5985019202647a"
niuzhenguo,2014-03-12 08:58:12,https://api.github.com/repos/openstack/devstack/git/commits/e385d1e0309a4fc5d414277260702a7c0fff6ad0,e385d1e0309a4fc5d414277260702a7c0fff6ad0,"Add support for django_openstack_auth

It would be useful for development, reviewing and testing to add
support for django_openstack_auth to devstack.

This change adds the integration tests to the openstack_auth
list of test: https://review.openstack.org/#/c/86528/

Change-Id: Ifbd336b83f6b2beb23996b599ec820232c13efdd
Closes-Bug: #1262121"
r-mibu,2014-04-03 17:00:31,https://api.github.com/repos/openstack/devstack/git/commits/410f5c0016a9d3b1fbd42b95ce1402a1c614e3d3,410f5c0016a9d3b1fbd42b95ce1402a1c614e3d3,"Fix unsubstituted filename creation

Since merge_config_file() tries to create an unsubstituted config file,
stack.sh fails due to permission denied in the file creation when you
use '[[post-config|/$Q_PLUGIN_CONF_FILE]]' and the file does not exist.

This patch deletes unnecessary 'touch' command, because the file will
be made by 'iniset' function in the next command line with evaled
string from 'configfile'.

This patch also fixes merge_config_group() to use evaled 'configfile'
when it checks the directory of the config file exists.

Change-Id: I608847a34143b5c6a1708c180186dd88a32dd44b
Closes-bug: #1294213"
markmc,2014-06-17 05:37:43,https://api.github.com/repos/openstack/devstack/git/commits/dc0938e1c9f8303cc162f074eca4312d91a88b17,dc0938e1c9f8303cc162f074eca4312d91a88b17,"cinder: use non-deprecated notification_driver

Cinder has been using oslo.messaging since Icehouse so it should be
using 'messaging' as its notification driver and not the now deprecated
full python path to the oslo-incubator notification driver.

Change-Id: I3edca1ff54e51b464cc1b23935c8530e2e242fee"
maurorodrigues,2014-06-17 01:10:54,https://api.github.com/repos/openstack/devstack/git/commits/dae115251828e035fcad229f9c9d78856fb867b7,dae115251828e035fcad229f9c9d78856fb867b7,"Add $TOP_DIR to the path when calling tools' scripts

The missing reference to $TOP_DIR prevent us to run stack.sh from a different
directory.

Change-Id: Ie15b89734264789bef9a8efcfdbbf2cdb89c936e"
sc68cal,2014-06-16 15:19:48,https://api.github.com/repos/openstack/devstack/git/commits/21e6c62c150e761193575630df2447a36507f079,21e6c62c150e761193575630df2447a36507f079,"Remove external attribute from the Provider Network

Co-Authored-By: Sridhar Gaddam <sridhar.gaddam@enovance.com>

Related-Bug: #1284718
Change-Id: Iad2f051a2b7b0a324dff4e716b8d2469a4f20895"
bcrochet,2014-06-16 14:27:19,https://api.github.com/repos/openstack/devstack/git/commits/c359921cce096bf2c019fc084ab2601696f42115,c359921cce096bf2c019fc084ab2601696f42115,"Add optional repo enablement for RHEL 7

The RHEL 7 and RHEL 6 optional repos have different names. This enables
the correct repo depending on the release.

Change-Id: I6772c9903a5b9e98cb870d586629564126a6119a"
flavio-fernandes,2014-06-16 04:36:03,https://api.github.com/repos/openstack/devstack/git/commits/51783ccf383e3c04641bb4615ae57989c097b041,51783ccf383e3c04641bb4615ae57989c097b041,"Invoke create_nova_conf_neutron from odl-compute post-install
only if nova is enabled.

Change-Id: I4627ab97eccd7fd4a2ffc31b6a0bb939b2343659"
sdague,2014-06-16 13:39:19,https://api.github.com/repos/openstack/devstack/git/commits/43d8f1cdddee5ed20dfef267dc59f7c4805d3a75,43d8f1cdddee5ed20dfef267dc59f7c4805d3a75,"double the screen sleep timeout

HP Cloud 1.1 is quite slow per core. So much so that grenade is
often failing to start services because bash in a screen session
isn't ready in 1.5s. Double this to 3s to try to decrease failures
in the gate.

We should instead do this via some readiness check to decrease
races.

Change-Id: I2b066a687916742e966190f00b5b06a795d4a014"
rhafer,2014-06-16 12:10:05,https://api.github.com/repos/openstack/devstack/git/commits/633a1290e5afbc13030baa2744a9619ef6e332d3,633a1290e5afbc13030baa2744a9619ef6e332d3,"Fix Apache Site configuration for openSUSE

We can use the mechnism as on Fedora for openSUSE.

Change-Id: Ic0d1734df3bdc9ec66e1592109b2d3770d6e0144"
sdague,2014-06-11 15:06:32,https://api.github.com/repos/openstack/devstack/git/commits/62cb563ddc5f6923a9734a96d394ff2c27c320ca,62cb563ddc5f6923a9734a96d394ff2c27c320ca,"convert devstack from awk to outfilter

The complexity of the awk script was pretty high, and it would
be good to do it in summaries as well, which starts to get a bit
squirelly. Instead bring over the outfilter.py from grenade and
use it for the timestamping.

Any additional overhead from python should be offset from not
shelling out to date on every line of output.

Change-Id: Ic2b86ddba3e7f6520a0fd35599b01143936c6deb"
BobBall,2014-06-16 07:37:05,https://api.github.com/repos/openstack/devstack/git/commits/786a3a3849b0b2d72cabe9a9b931b00a6d1041fc,786a3a3849b0b2d72cabe9a9b931b00a6d1041fc,"XenAPI: Fix deprecated config options

I346ee0248c03e60716bd7dc4a5ee4493610867cb broke the XenServer CI as
devstack was still setting the deprecated config options.

Change-Id: Icd84212e97a9d5e007745be8096fa552bc23cb6f"
afazekas,2014-06-13 14:09:37,https://api.github.com/repos/openstack/devstack/git/commits/51557a502550e5b672f1e2c7187e08d3ded91c99,51557a502550e5b672f1e2c7187e08d3ded91c99,"Cut the heat flavor

1024Mb memory is too much for single instance.
approximately 4 GiB memory used even without a booted VM.

The heat auto-scaling scenario needs to boot 3 VM
(currently disabled), if any other test running in parallel
and boots up a vm it would easily can cause OOM an
issue.

The heat-slow job can work with 128 MiB instance memory,
but this change reduces it just to 512 MiB (safer for the guest),
and enough to avoid OOM issues on the host,
and let us to heve more vm at the same time.

The m1.tiny flavor is not good because now it has a hard coded
1 GiB disk limit and the f20 image requires 2 GiB.
Setting the disk size to '0' -> automatically use the virtual size
of the image.

Using multiple cores does not really helps in boot time :(,
but it might cause higher host load. (More locking)
Reducing the core number to 1.

Change-Id: Ice7c1253d15e91fd1c02bc8c6809335aaebfff4a"
morganfainberg,2014-06-12 22:08:48,https://api.github.com/repos/openstack/devstack/git/commits/6cae83efd72133adae891da0665f51f526705592,6cae83efd72133adae891da0665f51f526705592,"Reserve Keystone ports from the ephemeral range

Reserve Keystone ports from the ephemeral range as early as reasonably
possible in the fixup_stuff.sh process to reduce the likelihood that the
port will be in use. This does not completely resolve the issue
where Keystone's IANA assigned port falls into Linux's ephemeral
range, but this should reduce the occurrences. The default ports
are 35357 and 35358.

Change-Id: I8cfb53d8f90c1ff1fb1083c59fefabca3d14323b
Partial-Bug: #1253482"
mtreinish,2014-06-06 21:22:04,https://api.github.com/repos/openstack/devstack/git/commits/d514d60f5f639cb208ee0e0067a5b29048863d65,d514d60f5f639cb208ee0e0067a5b29048863d65,"Add flag to set nova v3 api for tempest

This commit adds a new env variable, TEMPEST_NOVA_API_V3 to set
whether the tempest api v3 tests are enabled.

Change-Id: If14deb80f271061e70fae6c3d13b210ac0dd9399"
AevaOnline,2014-06-12 17:33:45,https://api.github.com/repos/openstack/devstack/git/commits/23a64e2af8690e6c21c2e32b3f890c4ed854b74a,23a64e2af8690e6c21c2e32b3f890c4ed854b74a,"Install 'ipmitool' package for Ironic

Ironic's reference / recommended driver is the ""pxe_ipmitool"" driver,
which requires the 'ipmitool' package and system binary. Thus,
devstack should install it.

Also, Ironic will soon be validating that ipmitool is present in the
system path when loading the pxe_ipmitool driver, as it does for other
drivers (seamicro, pyghmi) that have external dependencies.

Causing devstack to install this package when Ironic is enabled will
also help users who wish to test Ironic against physical hardware that
has IPMI support, without having to perform additional manual steps
(like enabling the pxe_ipmitool driver and installing the ipmitool
packge by hand).

Change-Id: I13da5f8978b280b192f9b033c348a11bfc44c9d2"
afazekas,2014-06-12 09:41:54,https://api.github.com/repos/openstack/devstack/git/commits/d7967a4879d38d86e5d7b870ba5a140f8adc1061,d7967a4879d38d86e5d7b870ba5a140f8adc1061,"selinux permissive on Fedora

The f20 gate job is failing on hpcloud images
(official F20 cloud image), with enforcing selinux.

Setting selinux to permissive on all Fedoras.

Currently selinux policies are violated, when
 - horizon/httpd tries to access a files without
httpd_t friendly security label.
 - horizon/httpd_t tries to connect to openstack
   service port, without an allowing policy.
 - swift tryes rsync content without an authorized
   security label and without rsync_full_access sebool.
 - ..

In permissive mode you will be able to track,
the missing policies and labels by checking
the /var/log/auidit/audit.log*

The enforcing mode might be turned on in the future,
when all label and policy configured correctly.

Change-Id: I6dad705dd11b9eb5f01ce67814f05d294b3979a5"
ianw,2014-06-11 22:47:50,https://api.github.com/repos/openstack/devstack/git/commits/83afcfe9a939b9af91c50eb6dfd3b435ee75b881,83afcfe9a939b9af91c50eb6dfd3b435ee75b881,"[Fedora] Devstack fails to install in firewalld less system

The official F20 cloud image does not contains the firewalld,
there is nothing to restart, and it fails the installation.

The previous workaround change, assumed all is_fedoras has
a restartable firewalld without ensuring is it installed at all.

RHEL6 even does not have a firewalld.

Closes-bug: #1329102
Change-Id: I3d119ce48af81b30bf02b01c2cd386612ac6ef90"
dave-tucker,2014-06-11 16:02:24,https://api.github.com/repos/openstack/devstack/git/commits/f60e8c0fbe84f58e416966cdf3f13f289717f6fc,f60e8c0fbe84f58e416966cdf3f13f289717f6fc,"Wait for OVS to reconfigure when creating PUBLIC_BRIDGE

The '--no-wait' flag will not wait for ovs-vswitchd to reconfigure after
changes have been made to the database. This causes a race condition as
the bridge may or may not be up when 'ip addr flush dev $PUBLIC_BRIDGE' is
called. This commit removes the '--no-wait' flag which is safe as the
openvswitch services are already started earlier in stack.sh

Change-Id: I73ef1b731295d03b0f064c5f786196284c3e39ce
Closes-bug: #1328962"
umago,2014-05-26 13:58:37,https://api.github.com/repos/openstack/devstack/git/commits/cd7cfef429003224b184626fe3b1ece26d68a3f0,cd7cfef429003224b184626fe3b1ece26d68a3f0,"Ironic: Add deploy kernel and deploy ramdisk to driver_info

Pass deploy kernel and deploy ramdisk as parameters to the driver
to enable Ironic to support different deploy provisioning
methods using the same flavor. This patch is part of the
https://blueprints.launchpad.net/ironic/+spec/add-node-instance-info
work which is separating the instance-level data from the driver-leval
data in the Node's resource of Ironic, once it's finished another patch
will be submitted to DevStack to remove the part of the code which is
adding the deploy kernel and deploy ramdisk parameters to the flavor,
for now a TODO was left inline as a reminder.

Change-Id: Id7cfb17cc6f6133964be139bfedbca1dc644b9cd
Implements: blueprint add-node-instance-info"
gkotton,2014-06-11 11:16:57,https://api.github.com/repos/openstack/devstack/git/commits/b405256309aef08634d07870176dbd6f90637c1b,b405256309aef08634d07870176dbd6f90637c1b,"VMware NSX: fix typo

Fix typo in the Neutron VMware NSX driver

Change-Id: I0519e30469c5cfbf285b2ad1032d110f8e9fdbb4"
morganfainberg,2014-06-09 19:07:29,https://api.github.com/repos/openstack/devstack/git/commits/970ee9083e95fda7359ed1e25abc8bec0d4cde05,970ee9083e95fda7359ed1e25abc8bec0d4cde05,"Use apache2ctl after apache is installed.

Ensure that apache2ctl is only called if apache2 is being used when
setting up Keystone. This patch corrects a case where apache2ctl
is being called at the time lib/keystone is being sourced. This
error breaks attempts to deploy Keystone under apache unless
apache is already installed at the time stack.sh is run.

Change-Id: I02d426438fa1246effd68c6bb3c3358910ed4c05"
glucas1,2014-06-09 15:42:12,https://api.github.com/repos/openstack/devstack/git/commits/50e53925e107526915d9bd06b48884c9a574d083,50e53925e107526915d9bd06b48884c9a574d083,"Use correct path when extracting tar.gz image

Fix issue with file:/ image urls.

Change-Id: I8c5f5b27b5d6ebe5be84dc58d37752adbd12f89b
Closes-Bug: 1277609"
gandelman-a,2014-06-06 22:12:32,https://api.github.com/repos/openstack/devstack/git/commits/ab592931e2a2ddd262753ab99c037bd1d34eca97,ab592931e2a2ddd262753ab99c037bd1d34eca97,"Setup color logging for Ironic

If enabled, setup colorized logging for Ironic API and Conductor.

Change-Id: I8c6d60185dd7907a0f9aa46fd1ae7a92f53406d0"
dtroyer,2014-06-06 21:36:52,https://api.github.com/repos/openstack/devstack/git/commits/444a8d53ca32adc4c1bb531f9a7b4f65dcc71ddb,444a8d53ca32adc4c1bb531f9a7b4f65dcc71ddb,"Fix Apache site config handling on Fedora

Allow enable/disable_apache_sites() on Fedora to gracefully fail if the
config is not present.  This is primarily an issue when the config from
a previous run is not completely cleaned out (unstack.sh vs clean.sh).

Make APACHE_CONFIG_DIR fully qualified and overrideable in local.conf.

Also fix Horizon's handling of its Apache config file to be removed
in clean.sh.

Change-Id: I78a5de579dd3b02fa2e4e7e00ac0aabe71b531ad"
mriedem,2014-06-06 18:52:30,https://api.github.com/repos/openstack/devstack/git/commits/9800256ba7d1b47d1f9bd2ab2586ca31dc360e8f,9800256ba7d1b47d1f9bd2ab2586ca31dc360e8f,"Don't set nova api/conductor workers since nova handles this

The changes to devstack to set nova api/conductor workers to 4 predated
commit 75c96a48fc7e5dfb59d8258142b01422f81b0253 to default the workers
equal to the number of CPUs, so this change just removes the hard-coding
from devstack and relies on nova's defaults for number of workers.

Change-Id: I384fc9eeb7a7eddf4679a6852203307a92d88a93"
emonty,2014-06-06 12:45:16,https://api.github.com/repos/openstack/devstack/git/commits/5cc6d2cd0cb3fbfdd1b26899dc7a5667eab7605e,5cc6d2cd0cb3fbfdd1b26899dc7a5667eab7605e,"Update again and retry a failed package install

On ubuntu, if we run into an error installing the package, it can be
because of transient upstream errors with repo sync state. Although
retrying the update won't fix it all of the time, it's low cost enough
to be worth a try before we totally give up.

Related-bug: 1286818
Change-Id: I522ac0d0bd8f82dc98f386c89f66c2b743efa525"
brantlk,2014-06-06 15:55:42,https://api.github.com/repos/openstack/devstack/git/commits/0b0cbd1378e82015f683bbb2f35824dad424bb42,0b0cbd1378e82015f683bbb2f35824dad424bb42,"PKIZ is the default token provider

Keystone changed the default token provider to PKIZ from PKI.

Change-Id: I56b975383ded450308a8fe01908b6e5549e7cd74"
sdague,2014-06-05 23:06:05,https://api.github.com/repos/openstack/devstack/git/commits/fdb920c31dcb9998aa501c8f5e73d9bb29351142,fdb920c31dcb9998aa501c8f5e73d9bb29351142,"a more proper default nic selection criteria

look at all interfaces that ip link shows as being up, then filter
them for ^e or ^p devices. Should hold even after the bridges get
built.

Change-Id: If6b1e623f9d146c2430dc8a4a007997290b90846"
mgagne,2014-06-05 20:50:40,https://api.github.com/repos/openstack/devstack/git/commits/76ed427ca17fb271974b4882c0b5e3c18ed3d889,76ed427ca17fb271974b4882c0b5e3c18ed3d889,"Update setuptools to latest for .dist-info support

Support for .dist-info directories was added in setuptools 0.6.28.

At this moment, Ubuntu Precise 12.04 provides setuptools 0.6.24
which is too old for our needs.

Six is installed from wheel which uses the .dist-info directory.
For six to be found, we need to install setuptools >= 0.6.28.

Updating setuptools to the latest version using pip will provide use
the needed version to make six discoverable.

Closes-bug: #1326811
Change-Id: I761d0aeb2b8b593cee38d512afc8fed6a2d1fe37"
afazekas,2014-06-05 16:59:03,https://api.github.com/repos/openstack/devstack/git/commits/23b12a6e40c958d762f772d511e8babb6e069887,23b12a6e40c958d762f772d511e8babb6e069887,"[Fedora] Install dnsmasq on n-cpu less host

The libvirt-daemon-driver-network pulls the dnsmasq,
on hosts where the n-cpu installed with libvirt backend.

But nothing installs it if you have only n-net or q-dhcp,
on the given hosts.

dnsmasq-utils does not depends on dnsmasq,
because it can work with other local dhcp servers.

Change-Id: I17a769df3bd51ca608c1728e892009125eea42ed"
sdague,2014-06-05 11:04:41,https://api.github.com/repos/openstack/devstack/git/commits/f625ffe24f94a658adbe1a119df361cf84ef3a4d,f625ffe24f94a658adbe1a119df361cf84ef3a4d,"make get-pip.py download failures more clear

curl dying ends up being a really unclear failure condition, and
hard to fingerprint in the gate. We should make this much more
explicit when we die.

Also, don't trust the upstream filename, because all the rest of
our logic would break if it changes anyway.

Change-Id: Ibc2a96b33471d24c597af0d7af896fb10523156f"
sdague,2014-06-04 20:25:52,https://api.github.com/repos/openstack/devstack/git/commits/7b63c5ec9e9aea54024105a6521a754efc9f9983,7b63c5ec9e9aea54024105a6521a754efc9f9983,"be opinionated: only use get-pip.py

get-pip.py is now on a CDN, and is the prefered way to get pip.

Remove the default path of using pip tarballs from pypi and use
get-pip.py on from here on.

Closes-Bug: #1326539

Change-Id: I0661f7c6913ba6b3e1d00b30e22740d150bfd060"
brantlk,2014-06-04 14:06:01,https://api.github.com/repos/openstack/devstack/git/commits/754c4408b3e1af671dd9cf4cadd2ec8c8a41482e,754c4408b3e1af671dd9cf4cadd2ec8c8a41482e,"Support option for Keystone PKIZ token provider

Keystone added support for a compressed token provider, PKIZ. This
change adds support to devstack. Set the KEYSTONE_TOKEN_FORMAT
option to ""PKIZ"" to configure Keystone to use it.

Change-Id: I123eef661c85cc805e950f1179b48e885078d40f"
afazekas,2014-06-03 14:53:03,https://api.github.com/repos/openstack/devstack/git/commits/afda4efb2c9d69795ecaf1da10322fec67cac093,afda4efb2c9d69795ecaf1da10322fec67cac093,"Enable horizon on Fedoras

The previous apache/horizon a688bc65104e7d8998ffdb321d67a9f33df6997e
change left horizon disabled on Fedora.

Closes-Bug: #1326126

Change-Id: I79f84bb63471f84c6b37538e8dfe2bcca3ce3eac"
sdague,2014-06-03 09:57:30,https://api.github.com/repos/openstack/devstack/git/commits/e56c137edb504cb86c4bb2cc5749603829438378,e56c137edb504cb86c4bb2cc5749603829438378,"make mysql run in strict mode

this might obviate the need for postgresql in the gate, as it will
make mysql act more strict. Suggested by Monty during Atlanta
summit on test matrix.

Change-Id: Ibfcb0959159f3b84fe35a1198d481bff308da0d4"
vrovachev,2014-05-29 14:48:10,https://api.github.com/repos/openstack/devstack/git/commits/2541d611ff004efa99f002c2c0c79edaf471d67b,2541d611ff004efa99f002c2c0c79edaf471d67b,"Add flag for ceilometer tests

Added flag for enable or disable tests for ceilometer
feature of fast work with databases

Change-Id: If68c2b733358a98f56265b70c31366e6a9120dfa"
ianw,2014-06-03 06:05:12,https://api.github.com/repos/openstack/devstack/git/commits/54e3910f2d2b2dc49719c7c2f1dca1abb6481870,54e3910f2d2b2dc49719c7c2f1dca1abb6481870,"Add basic echo_* functions for grenade

Grenade, and possibly other components, re-use parts of devstack
libraries.  This provides basic echo_* functions to avoid missing
commands in several libraries.

Change-Id: I972d6208055a8c4ca4c9bfd5383ad3c7159d5cbe"
dtantsur,2014-06-02 18:19:33,https://api.github.com/repos/openstack/devstack/git/commits/0c6a6545b2bc59ae8f7381d22a40d21e071dffde,0c6a6545b2bc59ae8f7381d22a40d21e071dffde,"Call ironic-dbsync with proper --config-file option

Without --config-file option ironic-dbsync creates SQLite database
in the current directory, instead of migrating MySQL database.

Change-Id: Ib733dbf9198a037114f6221e974acb29d109ff22"
j-griffith,2014-05-30 15:40:04,https://api.github.com/repos/openstack/devstack/git/commits/55c0b225e22a40e51c30215825f266dadb635513,55c0b225e22a40e51c30215825f266dadb635513,"Remove copy of cinder.conf.sample file

Rather than continue to be bit by conf updates
from external sources, Cinder is going to join
the party and cease generation of the sample.conf
as part of the unit tests.

First step however is to not attempt to copy it
from cinder/etc/cinder in the devstack setup.

This just removes that cp operation, nothing
in that sample conf was modfied from defaults
so it wasn't really doing anything anyway.

Change-Id: I727b1747ff36d775ef881e93e3b9a8528a17a4df"
gabriel-bezerra,2014-05-27 20:58:22,https://api.github.com/repos/openstack/devstack/git/commits/a688bc65104e7d8998ffdb321d67a9f33df6997e,a688bc65104e7d8998ffdb321d67a9f33df6997e,"Fix the way Apache site configuration files are used, to improve OS portability

On Ubuntu 14.04, the site configuration file must have a .conf suffix for a2ensite and a2dissite to
recognise it. a2ensite and a2dissite ignore the .conf suffix used as parameter. The default sites'
files are 000-default.conf and default-ssl.conf.

On Ubuntu 12.04, the site configuration file may have any format, as long as it is in
/etc/apache2/sites-available/. a2ensite and a2dissite need the entire file name to work. The default
sites' files are default and default-ssl.

On Fedora, any file in /etc/httpd/conf.d/ whose name ends with .conf is enabled.

On RHEL and CentOS, things should hopefully work as in Fedora.

This change puts all distribution-related site configuration file name differences in lib/apache and
the other services gets the file name for its sites using the new exported function
apache_site_config_for <sitename>.

It also makes Fedora disabled sites use the .conf.disabled suffix instead of removing the .conf from
the file name.

The table below summarizes what should happen on each distribution:
+----------------------+--------------------+--------------------------+--------------------------+
| Distribution         | File name          | Site enabling command    | Site disabling command   |
+----------------------+--------------------+--------------------------+--------------------------+
| Ubuntu 12.04         | site               | a2ensite site            | a2dissite site           |
| Ubuntu 14.04         | site.conf          | a2ensite site            | a2dissite site           |
| Fedora, RHEL, CentOS | site.conf.disabled | mv site.conf{.disabled,} | mv site.conf{,.disabled} |
+----------------------+--------------------+--------------------------+--------------------------+

Change-Id: Ia2ba3cb7caccb6e9b65380f9d51d9d21180b894e
Closes-bug: #1313765"
sdague,2014-05-28 21:30:10,https://api.github.com/repos/openstack/devstack/git/commits/110071775344610bbb132a473949fba2fd09512d,110071775344610bbb132a473949fba2fd09512d,"be a little more clever about interface default

the interface default of eth0 has become more wrong since we've
got a generation of Linux distros that don't use eth* as their
interface naming. Instead of that do a slightly more clever, but
probably still wrong thing, of picking an interface that exists
and is a physical interface.

This is still overridable, however won't cause really cryptic
failures in nova-compute because it's trying to use an interface
that doesn't exist *really* late in the network creation.

Change-Id: I93016ff5a25678de76254418155c839a269486a0"
sdague,2014-05-28 11:41:58,https://api.github.com/repos/openstack/devstack/git/commits/b57cda986634685685acf5e0dfde6af7df9fd3a4,b57cda986634685685acf5e0dfde6af7df9fd3a4,"remove the build timeouts

the defaults in tempest will be set to 1s in a related change,
so we can remove these.

Change-Id: I05d8b4f08614fdf92611e3ff34d124fe918bd457
Depends-On: If8332d4be8515ac574cbbf4e00cbe0a75b6ebc5d"
rcritten,2014-05-28 02:27:15,https://api.github.com/repos/openstack/devstack/git/commits/fefd64b878a3e4ecfc2b1b385f47c1d7f7593648,fefd64b878a3e4ecfc2b1b385f47c1d7f7593648,"Configure heat keystone client for SSL when keystone uses SSL

When SSL is enabled in Keystone, the path to the Keystone CA file
needs to be set in ca_file in the clients_keystone section.

Change-Id: Ic324e09b42a96d0ba31e13f8e8042cb3ac24d0b6
Closes-Bug: 1324207"
ianw,2014-05-27 03:58:12,https://api.github.com/repos/openstack/devstack/git/commits/e6d99a946fb00791e52671e22b6bd848e7392b8d,e6d99a946fb00791e52671e22b6bd848e7392b8d,"Remove Fedora/libvirt workaround

An updated libvirt package to address [1] is in Fedora 20 now, so we
don't need this work-around.  Modify the comments of the other part of
the work-around (restart of services) and link to the most relevant
bug

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1098376

Change-Id: I47fba7b4f273162c2af1e37902a512041449750b"
yamt,2014-05-26 02:28:13,https://api.github.com/repos/openstack/devstack/git/commits/f12a434bbf8c6e90268a22c823f2bcb6057c5f41,f12a434bbf8c6e90268a22c823f2bcb6057c5f41,"Install ryu's requirements

Install packages ryu requires explicitly becuase they are
no longer covered by neutron's requirements.
(They used to be until very recently.)

Closes-Bug: #1323136
Change-Id: I6a603d95c053ac1deba59d8e479dbaf1a70293f3"
harshadakakad,2014-05-23 09:16:52,https://api.github.com/repos/openstack/devstack/git/commits/4912623321df7226827168d37aba6badd87fc707,4912623321df7226827168d37aba6badd87fc707,"devstack should put admin_tenant_id in tempest.conf file while setup

Some of the test cases in tempest related to quota use
admin_tenant_name, ideally it should use admin_tenant_id.
As tempest.conf file does not contains admin_tenant_id
it should also be updated. tempest.conf file is generated
by devstack while setup of openstack, changes should be made
in devstack so as to put admin_tenant_id in tempest conf file.

Change-Id: I62baf5b1e21ebf8d3b511624c54741015b304955
Closes-Bug: #1321624"
malini-kamalambal,2014-05-22 16:07:34,https://api.github.com/repos/openstack/devstack/git/commits/22ab3b9f31a6d8cd0e135e1c303f1c1a0d25c626,22ab3b9f31a6d8cd0e135e1c303f1c1a0d25c626,"Fix syntax error in script

One of the recent patches introduced a syntax error in the marconi
script. This patch fixes the issue & gets marconi running in
devstack again.

Change-Id: I46a039f72174c4898869983de03a1e29cbe435bf"
sc68cal,2014-05-14 21:01:53,https://api.github.com/repos/openstack/devstack/git/commits/e13fd6006d04a3732a776b94164e0bc5a2fec14d,e13fd6006d04a3732a776b94164e0bc5a2fec14d,"Create an IPv6 network that uses an external router for IPv6

Change-Id: Id1498d74db816b3edbb8376ca5acb7cc5792ea5c"
sc68cal,2014-05-14 21:01:03,https://api.github.com/repos/openstack/devstack/git/commits/5ec6f8f15d6b6aa46f6b33228999d5df6c70d3b9,5ec6f8f15d6b6aa46f6b33228999d5df6c70d3b9,"Add support for creating provider networks

Implements blueprint neutron-provider-networking

Change-Id: I4bad9483b92875ea5e143b0e11652e01faed35a4"
mlowery,2014-04-22 15:41:30,https://api.github.com/repos/openstack/devstack/git/commits/ba8635a247e659be22ea8ebe416513028ca8a96d,ba8635a247e659be22ea8ebe416513028ca8a96d,"Remove *_url inisets since now come from catalog

Another proposed change fetches endpoints from the Keystone catalog as
long as the *_url opts are not present. This change will make Trove on
DevStack use the catalog.

Note: This must merge after https://review.openstack.org/68015.

Change-Id: I397254e72823ab7c7b28014d4fa18e2cefb79e6d
Closes-Bug: #1222891"
ftersin,2014-05-21 18:07:36,https://api.github.com/repos/openstack/devstack/git/commits/4f7bf6963a1e9ae03bc0ae9189874cba561ad62f,4f7bf6963a1e9ae03bc0ae9189874cba561ad62f,"Fix getting EC2 and S3 urls in create_userrc

Invalid parsing of openstackclient output was introduced in
I03c17cfc9740c3eb257152c95d9c4f021db2c89e. Here command lines
was changed to get urls with no parsing.

Also default EC2_URL was fixed.

Change-Id: Ic46a9989321cf6310c56edeeb737c603a4f9c1ed"
jogo,2014-05-21 05:22:04,https://api.github.com/repos/openstack/devstack/git/commits/7a15a0e04b5128b2c6bd42d5094183ba94577037,7a15a0e04b5128b2c6bd42d5094183ba94577037,"Add Core, Ram and Disk filter to fake virt setting

The FakeVirt driver shouldn't need custom scheduling options, so it run
instead of a real virt driver for testing purposes. This simplifies the
use case where someone wants to run the FakeVirt driver along side a
real driver so someone can test there cloud application without wasting
real instances.

Since the FakeVirt driver should look like it has near infinite resources,
turn on Core, Ram and Disk filters to make sure the drive works with them
enabled.

Change-Id: Ic7ec87e4d497d9db58eec93f2b304fe9770a2bbc
Related-Bug: #1268943"
otherwiseguy,2014-05-20 15:54:51,https://api.github.com/repos/openstack/devstack/git/commits/f06c4434f5ecb9a4bd3992ca2ffb3e606f443fe1,f06c4434f5ecb9a4bd3992ca2ffb3e606f443fe1,"Fix notify_nova options

This patch fixes various typos that prevent the neutron nova
notification options from working.

Change-Id: Ia3fb1e02008b338e2d08e927346397292be4e398
Closes-Bug: #1321347"
longgeek,2014-05-20 09:00:04,https://api.github.com/repos/openstack/devstack/git/commits/4c11089739e6d32b77aea0c8fd2dd3d79570b1c8,4c11089739e6d32b77aea0c8fd2dd3d79570b1c8,"ceilometer.conf configuration option missing os_auth_url

ceilometer-agent-centrol error connection keystone: \
Skip interval_task because Keystone error: \
Authorization Failed: Unable to establish connection to
http://localhost:5000/v2.0/tokens

Fixed bug #1320951

Change-Id: Iae722595cb51e11e604d373779d74a8968ea3324"
ianw,2014-05-16 04:00:01,https://api.github.com/repos/openstack/devstack/git/commits/3ca91b2186bb710357eda49e81694d07d8fe792b,3ca91b2186bb710357eda49e81694d07d8fe792b,"Workaround Fedora libvirtd issues on Xen instances

Fedora libvirtd fails to start on Xen instances (i.e. rackspace
instances) due to [1].  This works around the issue until it can be
fixed upstream.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1098376

Change-Id: I3790b5025982730263a6a84fce596e80f09efd5a"
malini-kamalambal,2014-05-15 21:04:13,https://api.github.com/repos/openstack/devstack/git/commits/b0c3859c30632e24b1da6c65645cb7fd735791a1,b0c3859c30632e24b1da6c65645cb7fd735791a1,"Use daemon flag only when USE_SCREEN=False

This patch removes the daemon option, when devstack is started
with USE_SCREEN=True.

Change-Id: Ib3b1c0b2abf9111b767b3d557dacdc7a89a38f59"
afazekas,2014-05-18 07:32:41,https://api.github.com/repos/openstack/devstack/git/commits/692011593eedb662205471606d9099afba062bd1,692011593eedb662205471606d9099afba062bd1,"Move gcc to general

Lot of packages explicitly requires gcc now, but almost all of
the components needs it.

Always keep gcc in hand-range.

files/rpms/general: always installs the libxlst2-devel, not just on
RHEL 6, package recompile capability always handy and these are small
packages anyway.

Change-Id: Ia7d0e1938fb2453e3c02b979f99d6d179c6a24c6"
zqfan,2014-05-16 08:27:41,https://api.github.com/repos/openstack/devstack/git/commits/95053cf4d0465bcb9ba6a0fb56080bba2c4e4b1a,95053cf4d0465bcb9ba6a0fb56080bba2c4e4b1a,"Add new configuration files for ceilometer

According to patch: https://review.openstack.org/#/c/77957/, and patch:
https://review.openstack.org/#/c/42713/15, new configuration files named
api_paste.ini and event_definitions.yaml are introduced, this patch
adds them to ceilometer configuration directory.

Change-Id: I57165d588da35f13b2d22629b48dc087502598a7"
BobBall,2014-05-15 20:12:50,https://api.github.com/repos/openstack/devstack/git/commits/d06d4550de42a24023f8d2cc63e2d94a0c476eee,d06d4550de42a24023f8d2cc63e2d94a0c476eee,"XenAPI:  Fix final script to include functions

Generally a ubuntu template is supplied - but in the case
where it is not, we need to source functions before sourcing
stackrc (Through xenrc)

Change-Id: I8325cf1c6f83946b7798e6d1bb8278e86831d3c4"
sc68cal,2014-05-15 14:24:31,https://api.github.com/repos/openstack/devstack/git/commits/bb2908b7e7c49faeab40cd8c62eec3b85f527fc4,bb2908b7e7c49faeab40cd8c62eec3b85f527fc4,"Add support for the IPv6 extended attributes in Tempest

Implements blueprint tempest-ipv6-attributes-support

Change-Id: I96bb78828eeb5548bb075f936342a027b9d11652"
ianw,2014-05-14 04:10:47,https://api.github.com/repos/openstack/devstack/git/commits/26a28b4af5dde62b88ffedc9b8455aff0f6690e4,26a28b4af5dde62b88ffedc9b8455aff0f6690e4,"Use urandom rather than openssl for password gen

I tried using devstack on a cloud image that didn't have openssl, so
it generated blank passwords and gave an error about openssl missing.
Using urandom should not require more than minimal shell tools.

Change-Id: Ib3091183eb1d85fc8cf7c76e47da24a04ae4791f"
BobBall,2014-05-08 12:35:28,https://api.github.com/repos/openstack/devstack/git/commits/8901245ef55dc1f68d3a3e7d0002ac2a27d9970e,8901245ef55dc1f68d3a3e7d0002ac2a27d9970e,"client-env requires admin permissions

openstack endpoint show identity will not be successful without
admin permissions; this causes exercise.sh to fail because it
claims keystone is not present

Change-Id: I769d70d0439c0b4c7e174a0adad7adcf1938095e
Closes-bug: 1317507"
mestery,2014-04-30 23:50:29,https://api.github.com/repos/openstack/devstack/git/commits/bd0855056b2dd71663334be2fd7dacc6c3f141d0,bd0855056b2dd71663334be2fd7dacc6c3f141d0,"Fix incorrect comparisions

The files changed in this commit had incorrect bash syntax in that they were
assigning variables (=) instead of checking if they were equal (==). The
incorrect checks were preventing the configuration of VLANs with the Neutron
ML2 plugin.

Change-Id: I4b54bb5c69cc836c22900bd7a966197e9c616076"
SlickNik,2014-05-08 06:46:01,https://api.github.com/repos/openstack/devstack/git/commits/bc22e918d56dc620ae75b0d5571ef8c540e5972c,bc22e918d56dc620ae75b0d5571ef8c540e5972c,"Use public gateway for Trove if neutron is enabled

Fix Trove to use the PUBLIC_NETWORK_GATEWAY if neutron is enabled.
This is needed since in this case the guestagent is able to reach
the devstack host only via the public PUBLIC_NETWORK_GATEWAY and
not via the private NETWORK_GATEWAY.

Change-Id: I61ee707e16d0222e7f479369e769cbe7ef2de7d7"
julienvey,2014-05-06 13:10:07,https://api.github.com/repos/openstack/devstack/git/commits/63024d91258969c6d785c364de33a2240878c941,63024d91258969c6d785c364de33a2240878c941,"Add an option in lib/swift to increase max_header_size

With the increasing number of entries in the service_catalog header,
some projects will have a header bigger than 8192 and Swift cannot
handle headers of this size. Solum is the first one to have this issue

As a temporary hack to fix Solum's gate, we are increasing
the value of the max_header_size parameter in our ""lib"" script.

This patch makes this settings global to all projects using devstack,
so that in a near future, if a project has a service_catalog header
bigger than 8192, it doesn't have the same problems we had.

Closes bug 1316585

Change-Id: I5c15f8f9531839353c3d99e46d920688058ec33c"
afazekas,2014-04-11 09:14:07,https://api.github.com/repos/openstack/devstack/git/commits/522cfe0951d5c25d156e0fd89b3ec8ecf449e2d9,522cfe0951d5c25d156e0fd89b3ec8ecf449e2d9,"tempest py26 setup

Simplifying the steps between devstack install and tempest run, by
 * installing tox<1.7, bacuse 1.7 is not compatible with our tox.ini
 * installing and patching 'discover' when the python version is 2.6

Change-Id: I8008837d2fae6cebeeeb051b63066279ca477e01"
quark-zju,2014-04-28 12:36:08,https://api.github.com/repos/openstack/devstack/git/commits/8710b6501b0c3886d4884a0abfc726255a5712c9,8710b6501b0c3886d4884a0abfc726255a5712c9,"Better ""exec 3>&1"" comment

""Copy stdout to fd 3"" is confusing. Explain the intention behind `exec 3>&1`.

Change-Id: Id19434121876e65a14c709beac26b9daf4a36a0a"
Frostman,2014-05-02 20:53:01,https://api.github.com/repos/openstack/devstack/git/commits/850e0fbdd4f5d6682916e23f08c5c8b5b84eea98,850e0fbdd4f5d6682916e23f08c5c8b5b84eea98,"Run all-in-one instead of sahara-api

We're upgrading sahara architecture, so, we've added an alias to run
sahara in all-in-one process.

Change-Id: I7f92e13c1a9b15070c5ec46428ca3949190abfc9"
dtantsur,2014-04-15 12:51:53,https://api.github.com/repos/openstack/devstack/git/commits/8c0bd9fe46d447fdc98346323158331288c40679,8c0bd9fe46d447fdc98346323158331288c40679,"Force TFTP to listen on IPv4 endpoint

On Fedora with the default configuration TFTP will listen only
on IPv6 endpoint, making imporrible for a node to reach TFTP.
This patch forces TFTP to listen on IPv4 endpoint by modifying
Xinet.d template.

Change-Id: I1ed315fae38816c8e0c2a736261d1c3736f437ff"
morganfainberg,2014-05-02 05:57:06,https://api.github.com/repos/openstack/devstack/git/commits/c11d6e0b09af41a9de62c274b45c8481ba6035a1,c11d6e0b09af41a9de62c274b45c8481ba6035a1,"Cleanup WSGI config for keystone on stop

Ensure that the VHOST and the scripts used to enable keystone under
mod_wsgi are properly cleaned up.

Change-Id: I76a748b0fd5f1a5182d10e425202857c5621e25a"
morganfainberg,2014-05-02 05:05:41,https://api.github.com/repos/openstack/devstack/git/commits/2c2b1cccc93771dfaa5a520c9d9634e5af47a55e,2c2b1cccc93771dfaa5a520c9d9634e5af47a55e,"Fix logging for keystone under mod_wsgi

When Keystone is configured under mod_wsgi, Keystone configuration 
requires debugging to be enabled as the debug flag cannot be passed
via cli arguments.

Because Apache 2.2 (default for a number of distributions) does not 
support passing an explicit format to the ErrorLog, Keystone under 
mod_wsgi ends up with duplicated timestamps in the Keystone log. 
This patchset eliminates the %(asctime) and %(msecs) substitution 
targets from the log format options when Keystone is configured 
under mod_wsgi.

Change-Id: I0bf32db6e53cb653921162cb1957eb988b819815"
emagana,2014-05-01 23:34:34,https://api.github.com/repos/openstack/devstack/git/commits/41a4f27ef7a7d0d202412b92b0da6aad2de6ddcd,41a4f27ef7a7d0d202412b92b0da6aad2de6ddcd,"Add driver parameter for PLUMgrid configuration file

PLUMgrid plugin for Neutron supports to load dynamically a back-end driver.
This parameter has been added in the plugin configuration file.

Change-Id: I1698a8fa558841aeb94476bc8c7f103b21f2a2d3
Closes-bug: #1315466"
gkotton,2014-05-01 12:16:59,https://api.github.com/repos/openstack/devstack/git/commits/b00e4181a8da9eabe0951c064898089c8ed1e8b8,b00e4181a8da9eabe0951c064898089c8ed1e8b8,"Ensure neutron configuration files are cleaned by clean.sh

Add the /etc/neutron directory to the list of directories
that are deleted.

Change-Id: Ia560179a3cf121f8d09a0c10c8b68375fdd13be7"
gandelman-a,2014-04-14 20:21:22,https://api.github.com/repos/openstack/devstack/git/commits/c1f0db2b1d6ba47ec6edfdcd430ccfcf5f39da0c,c1f0db2b1d6ba47ec6edfdcd430ccfcf5f39da0c,"Insert required iptables rules for Ironic

Devstack gate slaves have locked down local iptables firewalls.
Ironic nodes boot on an 'external' network and require TFTP
and Ironic API access back to the node via its HOST_IP.  This inserts
the required rules to the top of the INPUT chain.

Change-Id: I2e5dfa2346d45fdd549a3a3fbc255f190195cdd6"
gabriel-bezerra,2014-04-30 16:08:25,https://api.github.com/repos/openstack/devstack/git/commits/71fd1c47072b12a9c27e792b4312999aca7f34e4,71fd1c47072b12a9c27e792b4312999aca7f34e4,"Fixes README.md on APACHE_ENABLED_SERVICES=keystone

The documentation stated that, to enable Keystone running on Apache,
one should set:
APACHE_ENABLED_SERVICES+=keystone,swift

However, it actually works with:
APACHE_ENABLED_SERVICES+=key,swift

Change-Id: I8cc92e9426d7fc3117b30df01babdb50576328af
Closes-bug: #1311461"
vikt0rs,2014-04-28 12:44:29,https://api.github.com/repos/openstack/devstack/git/commits/da945f3161ce9e32d4fa62bc0d9caf6e53752f87,da945f3161ce9e32d4fa62bc0d9caf6e53752f87,"Add oslo.db

blueprint oslo-db-lib

Change-Id: If952099fa4dcf8638cad70d42a12ebcdac28de84"
afazekas,2014-04-30 09:57:22,https://api.github.com/repos/openstack/devstack/git/commits/3b53aebabdf6c9714ee7fa4c6fe4f800abdbaacc,3b53aebabdf6c9714ee7fa4c6fe4f800abdbaacc,"Fedora mysql log dir is /var/log/mariadb

/var/log/mysql does not exists on f20, f19, rhel7 by default,
but the /var/log/mariadb exists.

Change-Id: I0def3eaead491a00e6f8467db6b31502b9376188"
ideaship,2014-04-30 05:03:24,https://api.github.com/repos/openstack/devstack/git/commits/73919cbcdd7b39f69a3ed4d43ac969bc8059b2e9,73919cbcdd7b39f69a3ed4d43ac969bc8059b2e9,"Remove lib/tempest errexit handling

lib/tempest had code to set -o errexit and restore the setting after
configure_tempest had run. This code didn't work, but it is no longer
necessary since we set errexit for all of devstack (see change 88521;
Change-Id Ia477e04567046a7fcdedf699423165bc577b72ad).

This changeset removes the errexit handling code from lib/tempest.

Change-Id: I2b0bc3c55a5d9bbb688f1e2e8e0fe133830a4172"
rcritten,2014-03-17 04:07:52,https://api.github.com/repos/openstack/devstack/git/commits/c31fa40b77d47e456005718b473570a3d52e76e5,c31fa40b77d47e456005718b473570a3d52e76e5,"Configure Horizon to use SSL-enabled Keystone

SSL can be enabled in Keystone when devstack is executed.
Horizon was not being configured to use the SSL port so
authentication was failing.

Change-Id: I253766d359aaab0bd1f844a8a637adc77e8eee2b
Closes-Bug: 1293749"
gandelman-a,2014-04-28 21:06:42,https://api.github.com/repos/openstack/devstack/git/commits/74eafa4b49dcf2f76b7627739d26e457fa1775db,74eafa4b49dcf2f76b7627739d26e457fa1775db,"Bump minimum default RAM for Ironic nodes to 1GB

Set the default RAM for Ironic BM VMs to 1GB to ensure DIB produced deployment
ramdisks function correctly across older and newer kernels, regardless of
rootfstype.

Change-Id: Ifc15a4430aa63c3599e7fd76f5116dc7b728ead0
Closes-bug: #1311987"
slokesh184,2014-04-28 15:17:37,https://api.github.com/repos/openstack/devstack/git/commits/559145253d3a5b5b06b19cf235af24596c706adc,559145253d3a5b5b06b19cf235af24596c706adc,"Closes-Bug:1313755 adding code to remove heat conf files

Change-Id: Iefe1a34b09958d21d2516fdce0937e00e32afcb5"
BobBall,2014-04-28 07:30:18,https://api.github.com/repos/openstack/devstack/git/commits/527f21c7e79cee86c6ce6c6bc8a52d819c3dcd19,527f21c7e79cee86c6ce6c6bc8a52d819c3dcd19,"Only use heat image where support

Glance will reject images that it doesn't understand, and only certain drivers can
use qcow2 images.  This means for systems without qcow2 support, devstack
will fail to run until this change is merged.

Change-Id: Ic92815f3d32880e987456c0428953dddaa81c94c"
ideaship,2014-04-26 12:21:33,https://api.github.com/repos/openstack/devstack/git/commits/de56ee15c7243e74a8ba7c3b3633eccb68630774,de56ee15c7243e74a8ba7c3b3633eccb68630774,"Kill spinner process when stack.sh exits

The last spinner process active in non-verbose mode does not get killed
when stack.sh exits -- the spinner keeps spinning indefinitely.

Killing the spinner in err_exit cleans up no matter how the program
got terminated.

Because the code to kill the spinner is now called regardless of
whether spinners are in use, it has to check LAST_SPINNER_PID or the
kill command without an argument will trigger the ERR trap (or EXIT
with an error status, depending on where program execution stops).

This patch resurrects and fixes an abandoned changeset, hence:

Co-Authored-By: Adalberto Medeiros <adalbas@linux.vnet.ibm.com>

Fixes bug 1302112

Change-Id: I2d5b27971889b672361e9173bf6faf38fb1a1ec6"
gkotton,2014-04-22 08:40:56,https://api.github.com/repos/openstack/devstack/git/commits/51c681d6054d875dd9e01fa152fc8d44ad8a9c0b,51c681d6054d875dd9e01fa152fc8d44ad8a9c0b,"Add support for deprecated configuration vars in Juno

Just like the beginning of every other release, remove the deprecated
config option aliases that were marked as deprecated in Icehouse.

Nova patch - https://review.openstack.org/#/c/88456/

Change-Id: Idd051c516002030e8e191c7b8d31f1ff408e1c7d"
Frostman,2014-04-25 07:42:41,https://api.github.com/repos/openstack/devstack/git/commits/10f416136b8cd8e7c42c65f3cc97f75281719687,10f416136b8cd8e7c42c65f3cc97f75281719687,"Expose enabled plugins for Sahara

Make devstack users able to specify enabled plugins. By default enable
vanilla, hdp and fake plugins. Fake plugin is needed for gate testing.

Change-Id: Ia557eafe19b7d8eb62b6511d8d5331a106ef4bc2"
sdague,2014-04-24 20:06:51,https://api.github.com/repos/openstack/devstack/git/commits/4418d1fb5be8cf21850675c9fef6c566cde672cd,4418d1fb5be8cf21850675c9fef6c566cde672cd,"update heat image to the 64bit one we cached previously

start caching the next 64bit update image to deal with heat
breaks we see from time to time.

Change-Id: If62840f4807151ada1598046fb7ad47c7210df12"
DinaBelova,2014-04-23 13:47:36,https://api.github.com/repos/openstack/devstack/git/commits/0f6d4537e1457ab8e5cb447df8eab009b9525906,0f6d4537e1457ab8e5cb447df8eab009b9525906,"Fix ceilometer-acompute rejoin problems

The problem was in the screenrc file generated, where the
following command appeared:

sg libvirtd ""ceilometer-agent-compute
                 --config-file /etc/ceilometer/ceilometer.conf""^M""

The final ""^M"" was not then parsed.

Change-Id: Ie6c5b1c9e3d196a3a9c343c2afb46435711c10f5
Closes-bug: #1311666"
obulpathi,2014-04-21 15:43:08,https://api.github.com/repos/openstack/devstack/git/commits/9b2c5796edde3da060b2c8fe7849c9114ad7dee2,9b2c5796edde3da060b2c8fe7849c9114ad7dee2,"Add ""daemon"" flag to marconi script

This patch adds daemon flag to marconi script. This change was
needed to run the latest build of marconi-server in background.
Since mongodb can not be used with marconi until gate is updated
to Ubuntu 14.04, we are changing our backend to sqlite.

Change-Id: I1a4148bd545818d5e943257be2f6e752ce43f793"
Frostman,2014-04-22 14:37:45,https://api.github.com/repos/openstack/devstack/git/commits/65dabd378adef2d1b49daa0c15944dfc2094ffbc,65dabd378adef2d1b49daa0c15944dfc2094ffbc,"Fix Sahara auth configs

* auth_ host/port/protocol should use corresponding $KEYSTONE_AUTH_
* add missed auth_ host/port/protocol to [keystone_authtoken]

Change-Id: I0fc6434d552cdd03eb8d886681e57bb374e5bb61"
gandelman-a,2014-04-22 00:09:52,https://api.github.com/repos/openstack/devstack/git/commits/cf1ef23b723f2f859dfcc0302260a13d0f426adb,cf1ef23b723f2f859dfcc0302260a13d0f426adb,"Also pass FWAAS conf to VPN agent if enabled

If q-vpn is enabled, the Neutron neutron-vpn-agent is started
instead of the neutron-l3-agent, but only neutron-l3-agent receives
the fwaas_driver config when q-fwaas is enabled.  This ensures the FW driver
config is passed to either so that a properly configured agent is running
when the FWAAS extensions are enabled.

Closes-bug: #1310858

Change-Id: I237d2831a6b87ae46dfef047d3dc0b85fa6423d3"
ericwb,2014-04-21 15:44:32,https://api.github.com/repos/openstack/devstack/git/commits/641722b85ab8a0b884f16fcce31367ca0fc54ebb,641722b85ab8a0b884f16fcce31367ca0fc54ebb,"VMware: update to latest cirros image

The default image used is cirros 0.3.0, which is out-dated and
does not support cloud-init for config drive.  By upgrading to
0.3.2, we gain config drive support testing in our tempest runs.

Change-Id: Ibe7f70f1fb457d210b891b19ba3b5be94b2343f0"
AevaOnline,2014-04-11 17:08:41,https://api.github.com/repos/openstack/devstack/git/commits/83eeed0ebc24d0e34d924a5751429f0e59c65dbf,83eeed0ebc24d0e34d924a5751429f0e59c65dbf,"Rename ironic option drivers_whitelist -> enabled_drivers

There were competing patches to implement this feature in Ironic.

Patch I2da37409cea98731a2ca18dfe7298861fde37783 calls the option
'enabled_drivers', which is more consistent with other option names.

Change-Id: Ifa7eae594c6d9ea743a17b4c31e407501bba8467"
jogo,2014-04-18 00:02:50,https://api.github.com/repos/openstack/devstack/git/commits/3317437caca5eb769ab4c6d3ea7c5d3e062517e2,3317437caca5eb769ab4c6d3ea7c5d3e062517e2,"Don't set nova.conf values to there default value

No need to set osapi_compute_extension and volume_api_class to there
default values.

Change-Id: I1f5345fa2e0ac3a3fbb96a63f36207d2233d7837"
jogo,2014-04-17 23:46:36,https://api.github.com/repos/openstack/devstack/git/commits/1cd8efc89073a2867c8e2bd3a79d6887a180a590,1cd8efc89073a2867c8e2bd3a79d6887a180a590,"Don't use deprecated nova libvirt conf names

libvirt_cpu_mode was renamed to libvirt.cpu_mode
libvirt_type was renamed to libvirt.virt_type

This patch is needed before I346ee0248c03e60716bd7dc4a5ee4493610867cb can
land.

Change-Id: Ie8a39147ece3a3c86f4b146fa0af3641b1079319"
ygbourhis,2014-04-16 11:37:46,https://api.github.com/repos/openstack/devstack/git/commits/f894c2ab805f9dfc0dfdd3668ccd3a83ee4eb9f2,f894c2ab805f9dfc0dfdd3668ccd3a83ee4eb9f2,"Do not modify rsyslog files if rsyslog is not used.

Swift was missing an 'if [[ $SYSLOG != ""False"" ]]' statement which is used
by other services, and therefor failed with a 'No such file or directory'
error when 'SYSLOG=False' was set in localrc.

Closes-Bug: 1308461

Change-Id: I8655a955ebb322516d92bee418b93d4cc23bdc5c"
zqfan,2014-04-16 06:52:12,https://api.github.com/repos/openstack/devstack/git/commits/1af4afb004df05a03d8d70cb8829123da48f4bb1,1af4afb004df05a03d8d70cb8829123da48f4bb1,"Replace DEFAULT section with service_credentials

Some options defined in ceilometer.service should be in service_credentials
section instead of DEFAULT, which is deprecated since Havana.

Change-Id: I69077394a77f379db2be593a9fa15d414015610a"
stevemar,2014-03-14 05:40:06,https://api.github.com/repos/openstack/devstack/git/commits/bce8899cde42f50a7d719c16c5e960f51853176c,bce8899cde42f50a7d719c16c5e960f51853176c,"Update create_userrc to openstackclient commands

Updated keystoneclient commands in tools/create_userrc.sh
to their openstackclient equivalents.

Change-Id: I03c17cfc9740c3eb257152c95d9c4f021db2c89e"
rhafer,2014-04-15 15:40:26,https://api.github.com/repos/openstack/devstack/git/commits/65aaa183f470862b0b733b7212748d5385cd7965,65aaa183f470862b0b733b7212748d5385cd7965,"Some smaller fixes for openSUSE 13.1 support

* dnsmasq-utils is also required on openSUSE 13.1 (for dhcp_release)
* make sure that iscsid is actually started. On openSUSE it's not
  started by default.

Change-Id: Ibceb7ce1372ca74010bdc9f44258a5a25182adc6"
gandelman-a,2014-04-14 23:14:33,https://api.github.com/repos/openstack/devstack/git/commits/3f2a7b75bb440e5658a61cb06097de280d9f572e,3f2a7b75bb440e5658a61cb06097de280d9f572e,"Add sudoers.d entry for Ironic conductor

Ironic conductor requires sudo access for ironic-rootwrap.

Change-Id: Ic6f24a864ca0255e2a8e69969f347bcaf8493e1f"
gandelman-a,2014-04-14 18:57:13,https://api.github.com/repos/openstack/devstack/git/commits/867651049a07a087e619a17d05f569188032f7e0,867651049a07a087e619a17d05f569188032f7e0,"Remove sshd reconfig from lib/ironic

The sshd reconfiguration to listen on port 2222 provides no
benefit and complicates deployment on some systems.  This removes
the reconfiguration and instead just confirms SSH connectivity.
Default SSH host and ports are left configurable, but the port now
reflects the default 22.

Change-Id: Iaf7c71854c3741a505a79037ffb8c86ace74fc27"
ygbourhis,2014-04-14 12:49:07,https://api.github.com/repos/openstack/devstack/git/commits/d79a8acbb700886a24c5ed553d919d1a90385381,d79a8acbb700886a24c5ed553d919d1a90385381,"Fixed pip with http(s)_proxy

pip failed to insall packages with the http_proxy and https_proxy localrc
environment variables. indeed, the case of the variables was uppercase
and these variables are normally lowercase.

Change-Id: I73054aafd353ccf53986f0ec05426f6a2c4e2240
Closes-Bug: 1307492"
dtroyer,2014-04-13 23:16:54,https://api.github.com/repos/openstack/devstack/git/commits/a79617c12a7045156a98651de4203a388eb69e81,a79617c12a7045156a98651de4203a388eb69e81,"Prevent the use of 'swift' in ENABLED_SERVICES

This is not supported and we missed a comment in stackrc that still
said otherwise.  Fix the comment and abort in the sanity check section
if 'swift' is detected in ENABLED_SERVICES.

Change-Id: I78222d7ee2ea8a281962129d5bcf06c118469510"
ideaship,2014-04-13 11:47:42,https://api.github.com/repos/openstack/devstack/git/commits/473b628eb9a9c733e47f9905e543018a075148f6,473b628eb9a9c733e47f9905e543018a075148f6,"Fix typos in HACKING.rst

Two trivial fixes. One makes a broken external link work, the other
completes consistent casing (Devstack -> DevStack).

Change-Id: I147a3c5fe72071e9ebf24e7f226ba01a0a1204e3"
gandelman-a,2014-04-12 00:06:14,https://api.github.com/repos/openstack/devstack/git/commits/8af6faed817e8128498551603ee04470559410a5,8af6faed817e8128498551603ee04470559410a5,"Enable console logging for Ironic baremetal VMs

Logs console output of VMs created for use by Ironic to
$DATA_DIR/ironic/logs. This gives Jenkins something to archive
that will be useful for debugging any deployment ramdisk issue
blocking provisioning.

Change-Id: I7d234a6a13dbe8579f685e46d7712dae497272a5"
rhafer,2014-04-11 15:08:28,https://api.github.com/repos/openstack/devstack/git/commits/55dd68a6e17f0e5e13d7d6f83fee6003069951d2,55dd68a6e17f0e5e13d7d6f83fee6003069951d2,"Use nova bindir of /usr/bin on SUSE

Similar to Fedora pip on SUSE installs things into /usr/bin by default.

Change-Id: I73a71288915b99d553ebe9d8e17ac7abef451a60"
rhafer,2014-04-03 06:27:33,https://api.github.com/repos/openstack/devstack/git/commits/0526bb8222c14f2dfe927305625d78a3f13021b3,0526bb8222c14f2dfe927305625d78a3f13021b3,"Use iniset for changing my.conf and avoid deprecated config options

The mysql config file is using INI format so use the iniset function to
manipulate it. This change also rearranges the config updates a bit
allowing us to make mulitple changes in a single sudo call. This reduces
the number of required process forks, and the number of times the 'functions'
file needs to be sourced a bit.

The ""log-slow-queries"" option is deprecated since mysql 5.1.29 and got
removed with 5.6.x. Use the newer slow-query-log-file/slow-query-log
settings instead. They are available since 5.1.12. This fixes a problem
with running devstack with mysql-5.6, which is e.g. part of openSUSE
13.1.

Change-Id: Iea28bf05c664b5387d51dae1a63a780344623596"
pmichali,2014-04-02 19:12:22,https://api.github.com/repos/openstack/devstack/git/commits/746dceeb68e6bd2bee4b06fc5744821ba801642c,746dceeb68e6bd2bee4b06fc5744821ba801642c,"Devstack support for Neutron VPNaaS

Includes two enhancements to support VPNaaS and allow other
vendor implementation support. Goal is to provide a solution
for VPN .ini files until a more general solution can be defined
to handle all reference and vendor .ini files.

First, the /opt/stack/neutron/etc/vpn_agent.ini file is copied
to /etc/neutron, to allow the selected device drivers for agent
to be specified. Both reference and vendor implementations can
be uncommented in this file, prior to stacking.

Second, to allow vendor VPN implementations to provide an .ini
file to the agent at start-up time, an environment variable is
defined and can be set in the localrc to specify one or more
.ini files. The desire is NOT to include vendor settings in the
global vpn_agent.ini.

Change-Id: Ia8250db660216a5296cb6ba2af1538b8c90d187c
Closes-Bug: 1301552"
afazekas,2014-04-09 12:42:42,https://api.github.com/repos/openstack/devstack/git/commits/6d227a4a5b64e052a27bf01450024504f6c50e3a,6d227a4a5b64e052a27bf01450024504f6c50e3a,"Add EPEL-7 repo for RHEL7

* RHEL7 requires epel for many dependencies.
* The default RDO URL also switched to an icehouse version.
* RHEL6 RDO repo also will be configured for RHEL7, but the
  configuration variable name remains RHEL6_RDO_REPO_RPM for compatibility
  reasons.

Change-Id: I414c0f5357bf24c8d5657ea8231515461862e734"
markmcclain,2014-04-09 20:42:31,https://api.github.com/repos/openstack/devstack/git/commits/5cd250f11e11aff809c207b0a77bc8e7ba5b6c36,5cd250f11e11aff809c207b0a77bc8e7ba5b6c36,"Revert ""Devstack support for Neutron VPNaaS""

This reverts commit 8450a92a4d0299fff89717e665ce31d54731d3f0.

Change-Id: I6dd0f44a1a57735de292bc4ed4eaa929dc308297"
afrittoli,2014-04-08 12:43:56,https://api.github.com/repos/openstack/devstack/git/commits/03523256179905b0bf8afd7ec0facb427e29de82,03523256179905b0bf8afd7ec0facb427e29de82,"Inject the domain name for devstack in tempest

A new setting for the keystone domain name is introduced in
tempest by change https://review.openstack.org/#/c/81872/.

The default value in tempest is set to None, so that it is
not devstack specific. It's up to devstack to configure
the name of the keystone domain defined in devstack.

Partially implements bp multi-keystone-api-version-tests

Change-Id: I3d1406407759e1fdce0704fa2d6aa025f23a5f08"
gandelman-a,2014-04-08 18:52:05,https://api.github.com/repos/openstack/devstack/git/commits/5f060e62f756e89f2988c7fc4cc385beccdf6514,5f060e62f756e89f2988c7fc4cc385beccdf6514,"Restart only nova-compute when deploying Ironic

lib/ironic redundantly restarts *all* Nova services as part of its bootstrap.
Only nova-compute should be restarted to ensure its resource tracker has picked
up newly enlisted Ironic nodes.  This change limits the restart to only
nova-compute and triggers it after nodes have been enlisted in Ironic.

Change-Id: I87a508d6611a16fa6b966ab18e15aa9fbcc5e8c7"
thang-pham,2014-03-26 15:57:04,https://api.github.com/repos/openstack/devstack/git/commits/61c09b88cd1e26e54e44408d3888e9b563d8f49f,61c09b88cd1e26e54e44408d3888e9b563d8f49f,"Enabled non-root users to read nfs_shares.conf.

If you use the cinder NFS driver, it will create a file called
nfs_shares.conf, containing a list of NFS shares cinder can
use.  The file is created with 660 permissions and owned by
root:root.  When c-vol starts, it has problems reading
nfs_shares.conf, resulting in a ""[Errno 13] Permission denied:
'/etc/cinder/nfs_shares.conf'"".  This patch creates
nfs_shares.conf without using sudo, so c-vol can at least
read it.

Change-Id: Ifce2bd4b9ff2191445a1964c1ce09c823d096d68
Closes-Bug: #1297916"
rhafer,2014-04-07 15:01:53,https://api.github.com/repos/openstack/devstack/git/commits/ce03d102879755581222d1171e24d22654ff9ea4,ce03d102879755581222d1171e24d22654ff9ea4,"Fix openvswitch package and service names for openSUSE

Change-Id: Iaf173422e4d009bdd7ed7ed79af2269c44039060"
berendt,2014-04-07 13:31:07,https://api.github.com/repos/openstack/devstack/git/commits/7a7fb49b155c6efa5c5545ffe2a66f5f5e116f02,7a7fb49b155c6efa5c5545ffe2a66f5f5e116f02,"only remove network states from Nova when n-net is enabled

When n-net is not enabled but q-dhcp is enabled then it's not
necessary to remove the states directory of nova-network.

Change-Id: Ib4b37aa7df2b3cda3048b278ddad24e87e3744c9"
dirkmueller,2014-04-04 20:48:02,https://api.github.com/repos/openstack/devstack/git/commits/5ca261aadaa39c9076f5d31ad2b2a9f3c88bf83d,5ca261aadaa39c9076f5d31ad2b2a9f3c88bf83d,"Fix typo in nova_admin_username

The last parameter is unneeded, the value is always
set to ""nova"".

Change-Id: I7167d3559e8dfdb51ac8264e274f7ba167c18dfe"
masayukig,2014-03-04 01:57:50,https://api.github.com/repos/openstack/devstack/git/commits/28491ef1f262803cce5740067a5b5372d40c0142,28491ef1f262803cce5740067a5b5372d40c0142,"Install fping package

Now, we can't use os-fping API by default because devstack doesn't
install the fping package.
This commit adds installing the package and enabling to use os-fping
API.

Change-Id: Ibdc7479a9038321e4fc3953774a6f3e1dac90530
Closes-Bug: #1287468"
gandelman-a,2014-04-03 18:13:13,https://api.github.com/repos/openstack/devstack/git/commits/43bd667be6b299eba72011a501bdf332665a045d,43bd667be6b299eba72011a501bdf332665a045d,"Set flag in Tempest enabling Ironic scenario tests

When Ironic has been configured as the backing compute driver,
set the corresponding flag in Tempest that will cause a corresponding
scenario test to run.

Change-Id: I2bb6009c338cb301bd332e640a845fc1f6cb9336"
tosky,2014-04-03 17:24:57,https://api.github.com/repos/openstack/devstack/git/commits/b4bef1fd1c62871cff6669d8c480ba2ddef96331,b4bef1fd1c62871cff6669d8c480ba2ddef96331,"Enable colors for Sahara log

Change-Id: If915be21a7090c93e0be4c1961058c155ed9ca2c"
pmichali,2014-04-02 19:12:22,https://api.github.com/repos/openstack/devstack/git/commits/8450a92a4d0299fff89717e665ce31d54731d3f0,8450a92a4d0299fff89717e665ce31d54731d3f0,"Devstack support for Neutron VPNaaS

Includes two enhancements to support VPNaaS and allow other
vendor implementation support. Goal is to provide a solution
for VPN .ini files until a more general solution can be defined
to handle all reference and vendor .ini files.

First, the /opt/stack/neutron/etc/vpn_agent.ini file is copied
to /etc/neutron, to allow the selected device drivers for agent
to be specified. Both reference and vendor implementations can
be uncommented in this file, prior to stacking.

Second, to allow vendor VPN implementations to provide an .ini
file to the agent at start-up time, an environment variable is
defined and can be set in the localrc to specify one or more
.ini files. The desire is NOT to include vendor settings in the
global vpn_agent.ini.

Change-Id: I5370ee57bbe326eff505a53055da4fddc0838de4
Closes-Bug: 1301552"
ninja-cat,2014-04-03 12:17:58,https://api.github.com/repos/openstack/devstack/git/commits/1ab92d9f228326eb469ab9c9b466089347752e95,1ab92d9f228326eb469ab9c9b466089347752e95,"Delete unused neutron port

For purpose of creating fake baremetal nodes environment for ironic
functional/integration testing the unused neutron port to be created.
Adding the removal part and helpful comments.

Change-Id: I855ba1dbbf13f343d513ba387716996d6e4c20a6"
afazekas,2014-04-02 16:47:02,https://api.github.com/repos/openstack/devstack/git/commits/45d3d9ab2ba55ece2fa4add9cdbac08c0ab51a1d,45d3d9ab2ba55ece2fa4add9cdbac08c0ab51a1d,"horizon does not uses django-registration

It was removed from the requirements since long, by
a47aa6fdc33ee29be886b45236e276a42a70b4df.

Just the files/rpms/horizon referencing it.

Change-Id: Ic1d413855e80a6f64d9d255f2d3a41f0925332c5"
redixin,2014-03-14 12:13:16,https://api.github.com/repos/openstack/devstack/git/commits/d7f7cb275cf0dd78a1490a056685b6753591d14f,d7f7cb275cf0dd78a1490a056685b6753591d14f,"Add python-dev to general requirements

Package python-openstackclient depends on pycrypto, and pycrypto depends
on python-dev. Since python-openstackclient should be installed in any
case, python-dev should be in general requirements.

Change-Id: I2d6f5919bdc1175252c78cd203a8769d3892b923
Closes: bug 1292477"
sphoorti,2014-04-01 14:17:40,https://api.github.com/repos/openstack/devstack/git/commits/ce365ce1ccc801e05a8ca0a6ee13f9a52886724d,ce365ce1ccc801e05a8ca0a6ee13f9a52886724d,"Edit docs to include git.openstack.org url

This patch proposes a change to clone the devstack repository from
git://git.openstack.org rather than https://github.com since git urls
are faster than https and put less loads on the server.

Change-Id: I7fe6a0f81be812dacfef575caa1cf0ae800f9a29"
stephen-ma,2014-04-02 02:13:09,https://api.github.com/repos/openstack/devstack/git/commits/9b38eb239294b91d3f8d6cc1471d12e8e15e7cb7,9b38eb239294b91d3f8d6cc1471d12e8e15e7cb7,"Neutron.conf is not setup unless q-svc is enabled

In a multi-node environment, a node may have the neutron-
openvswitch-agent running but not the neutron API server.
The agent uses neutron.conf as one of the configuration
files. Devstack sets up neutron.conf only when q-svc is
enabled. Neutron.conf also needs to be configured when
q-agt is enabled.

Change-Id: I3d454caff0b49a61ee1a78f68b1bca98e29f21de
Closes-Bug: 1184064"
BobBall,2014-04-01 21:31:00,https://api.github.com/repos/openstack/devstack/git/commits/e500346e404d99d8d779150c57043fcf8c5bcaae,e500346e404d99d8d779150c57043fcf8c5bcaae,"Trove: Set appropriate service URLs

Without setting these, they default to localhost which
works in the the gate, but may not work in all devstack
setups.

Change-Id: I50eadbf0b4975cf04ec945bcf463c2738e6e7a3c"
BobBall,2014-04-01 15:28:36,https://api.github.com/repos/openstack/devstack/git/commits/e309e5a9f80808eaede72e4d8885d2b16a4b5153,e309e5a9f80808eaede72e4d8885d2b16a4b5153,"Default RABBIT_HOST to be the SERVICE_HOST.

Using localhost for RABBIT_HOST can cause problems - particularly
on systems where IPv6 is partially broken and localhost resolves
to an IPv6 address.

The service should logically be running on SERVICE_HOST unless
otherwise overridden.

Change-Id: I6efb71b8b95174770066f38403d5d428ec88c3b6"
gandelman-a,2014-03-31 18:41:54,https://api.github.com/repos/openstack/devstack/git/commits/1bb9ef63c535b274a4b8c905f54335bbb1d779c3,1bb9ef63c535b274a4b8c905f54335bbb1d779c3,"Update compute driver name for Ironic

Commit 08448e3a mistakenly updated the location of the Ironic compute
driver to be loaded from within the Nova tree.  However, no such module
exists as the compute and scheduler drivers both live in the Ironic tree.
This reverts that and adds a note explaining the setting.

Change-Id: I7f32f77bd7e5fd1f6b41014ac71bbf6e1a7d84cf"
rmcnair,2014-03-07 05:31:56,https://api.github.com/repos/openstack/devstack/git/commits/0ebf2dfe62b094b1c7e507c75794dbef2bf250cd,0ebf2dfe62b094b1c7e507c75794dbef2bf250cd,"cinder_driver_certs.sh always passes driver

In cinder_driver_certs.sh, the tests are run and output is
piped to ""tee"".  Currently, checking the exit code of this
command only checks that ""tee"" exited properly.  Using the
pipefail option for this script will ensure the entire
pipe succeeds before passing a driver.

Change-Id: I58311aa0e2c779467d39c4477c4ea39d14eda207
Closes-Bug: #1289129"
saschpe,2014-03-31 11:29:18,https://api.github.com/repos/openstack/devstack/git/commits/c9c0e370392915671063b43cb706adcabb06916a,c9c0e370392915671063b43cb706adcabb06916a,"Update openSUSE-13.1 dependencies

The package libxml2-python was replaced by python-libxml2 since 12.2.
Rather use mariadb instead of mysql-community-server since the package
receives far more attention.

Change-Id: I8514048d05731750684862aa1e94331d7f602b68"
dtroyer,2014-03-28 17:40:56,https://api.github.com/repos/openstack/devstack/git/commits/e3a9160c0d6c7802141fb147339ab12f76482c85,e3a9160c0d6c7802141fb147339ab12f76482c85,"Fix Neutron plugin XTRACE handling

The various Neutron plugin files need to have unique variables for the
xtrace state as they are sometimes nested more than two levels deep
and MY_XTRACE is getting stomped.  This gives each of the neutron_plugin
and neutron_thirdparty include files a unique XTRACE state variable.

I don't think this is a problem with any of the other plugin include
files (yet) so this just handles Neutron for now.

Change-Id: I7c272a48e7974edecaff5f431ff7443dd6622588"
berendt,2014-03-27 12:48:43,https://api.github.com/repos/openstack/devstack/git/commits/cbd97ca975d1889d39f2ffd34b498080ef1ca3a9,cbd97ca975d1889d39f2ffd34b498080ef1ca3a9,"use disable/enable_apache_site on Ubuntu

Using the specific Apache2 tools a2ensite and a2dissite
(used in the methods disable/enable_apache_site in lib/apache)
should be the preferred way to disable the default site and
to enable the horizon site.

fixes bug #1298031

Change-Id: I2f247c0b6e605a330086a558e03e2c36666c55be"
gandelman-a,2014-03-27 07:14:24,https://api.github.com/repos/openstack/devstack/git/commits/b0f8beb8f1e851321f2d03d2ae687dc2ba2e296e,b0f8beb8f1e851321f2d03d2ae687dc2ba2e296e,"Install qemu-kvm instead of kvm package on Ubuntu

Since at least 12.04, the kvm package is a transitional dummy
package intended to move users to the newer qemu-kvm package.  This
removes the dependency on this dummy package, which will be going away
in 14.04, and instead depends on the proper qemu-kvm package.

Change-Id: I4a88ada3cf32106413a9fae6fe77c9c4c28a524e
Closes-bug: #1294557"
jogo,2014-03-27 02:19:01,https://api.github.com/repos/openstack/devstack/git/commits/6b2f26577b5384b0669ae2e0d082d7fe6a1716e9,6b2f26577b5384b0669ae2e0d082d7fe6a1716e9,"Fix is_n-cell-enabled

devstack-gate just adds the n-cell to the list of enabled_services and
devstack does the rest.

Change-Id: I1d7f8d085a5f46078131f0f6f670e929ec63f805"
stevemar,2014-03-14 05:33:58,https://api.github.com/repos/openstack/devstack/git/commits/2a09d0c6a80a9ae65555e1f5b3bb1493d8253b09,2a09d0c6a80a9ae65555e1f5b3bb1493d8253b09,"Update neutron-adv-test to use openstackclient commands

There were a few references of keystoneclient in
exercises/neutron-adv-test.sh, this patch will change those
commands to their openstackclient equivalents.

Change-Id: I88892fcfacd3dd6354ec269b270cee3da358447a"
longgeek,2014-03-24 09:32:02,https://api.github.com/repos/openstack/devstack/git/commits/fd034f0085d5b589ce23d4e63729c582bf8a0612,fd034f0085d5b589ce23d4e63729c582bf8a0612,"Increase in the full path to mkfs.xfs(/sbin/mkfs.xfs).

Xfsprogs package has been installed. This is the cause of the error stack does not have
permission to perform mkfs.xfs command rather mkfs.xfs command in /sbin/
path, stack in order to perform mkfs.xfs must add the full path or use
the sudo command mode.

Fixed bug #1292466

Change-Id: I488133539331b4a0034a2afb4e75665904754245"
afazekas,2014-03-25 09:42:14,https://api.github.com/repos/openstack/devstack/git/commits/499315fb655680a97042d09787d377c754b28fc3,499315fb655680a97042d09787d377c754b28fc3,"Use urandom for heat key generation

Reading from /dev/random can block an virtual machine
even for several minutes, when the entropy pool is empty at the read time.

I have doubts we really need to use /dev/random here.
Even the ssh-keygen uses /dev/urandom by default,
 so the /dev/random is a little bit overkill here.

Change-Id: I6d2c6364c2b445304a33b0140e3cdc6804404b63"
neosab,2014-03-24 21:26:08,https://api.github.com/repos/openstack/devstack/git/commits/1a3c3734b2c8de2dd2f2fa221f773c5ae602375a,1a3c3734b2c8de2dd2f2fa221f773c5ae602375a,"VMware: Use multiline for cluster_name opt

cluster_name opt for vSphere driver is MultiStrOpt and currently
users are not able to set multiple values from localrc. This is
fixed by using iniset_multiline function.

Thus, new usage would be :
VMWAREAPI_CLUSTER='cluster1 cluster2 cluster3'
where c1, c2, c3 are the name of the clusters

Change-Id: Ie0f3a48614e6134d849050754932a3613363ce66"
gandelman-a,2014-03-24 20:55:34,https://api.github.com/repos/openstack/devstack/git/commits/d3011989070f81f488f2cd8f83435b6b4881d1d6,d3011989070f81f488f2cd8f83435b6b4881d1d6,"Ironic: Use HOST_IP instead of SERVICE_HOST

Ironic virtual machines boot on a different network and are expected
to fetch via tftp from the conductor and callback to the API.  We
need to ensure both endpoints are accessible, even when SERVICE_HOST
is 127.0.0.1 (eg, devstack-gate).

Change-Id: I96aee75b76ad11d83143736da00ea304db971c9c"
Frostman,2014-03-24 20:06:31,https://api.github.com/repos/openstack/devstack/git/commits/3cd59e1284f64b5e4dd42156182b47ad936d5ecf,3cd59e1284f64b5e4dd42156182b47ad936d5ecf,"Improve log level conf for Sahara

* set verbose to True
* set debug to $ENABLE_DEBUG_LOG_LEVEL

Change-Id: I229f6ed7c13caf7bea9c090de43ede4ed9ea1536"
DirectXMan12,2014-03-18 19:12:05,https://api.github.com/repos/openstack/devstack/git/commits/66115e532350840272293ead8d211f26af5c8c23,66115e532350840272293ead8d211f26af5c8c23,"Fix broken if statement in lib/tls on ZSH

When using ZSH, the line `if [[ (!$cert && !$key && $ca) ]]` fails
due to a syntax error.  Instead of checking the variables as a boolean,
we can simply check if they have a non-zero length.  This works in ZSH.

Change-Id: I171ed10a8c0af354e82bd6119508a0c44b6bcd9c"
BobBall,2014-03-20 16:56:04,https://api.github.com/repos/openstack/devstack/git/commits/348ae44f640d14ebeb15ee3b514cf9b46e35771e,348ae44f640d14ebeb15ee3b514cf9b46e35771e,"XenAPI:  Find location for XenAPI plugins

Plugins can be installed in different places in dom0; re-enable the
use of xapi_plugin_location

Change-Id: If94ec6b250ad5b4f7730cfbf443d937eb85feb5c"
dguerri,2014-03-21 18:14:18,https://api.github.com/repos/openstack/devstack/git/commits/08448e3a0c2e2bf3b55223b61ec2fc39b21ba16a,08448e3a0c2e2bf3b55223b61ec2fc39b21ba16a,"Fix wrong compute driver name for Ironic

Change-Id: Ia29e019065476f9884ab3fce4e26fe66700fb02d"
dtroyer,2014-03-21 18:00:32,https://api.github.com/repos/openstack/devstack/git/commits/a3935fb0ad9afd48e4ac6bd68f79d5fb83a0238d,a3935fb0ad9afd48e4ac6bd68f79d5fb83a0238d,"Skip child process kills in stack.sh exit trap

Logs are still being cut off in certain circumstances, almost certainly
because the awk process handling the output for verbose logging to a file
dies/is killed early.

Don't kill child processes in the EXIT trap function in this specific case.

Change-Id: I89600b61d59f87e93ff959710d0169e49d2c9845"
dtroyer,2014-03-21 16:48:01,https://api.github.com/repos/openstack/devstack/git/commits/d401c84a77cb1ea0e565f3429e0b94bb3ff16bb5,d401c84a77cb1ea0e565f3429e0b94bb3ff16bb5,"Fix run_tests to not mask bash8 errors

The addition of the crazy-refs check masked the bash8 exit code.  So add
the same pass/fail handling from exercise.sh to provide a neat summary at
the end of the run.

Change-Id: I169eb90c619a114cf8584bee70b7dcda67769dc5"
cubeek,2014-03-21 15:53:19,https://api.github.com/repos/openstack/devstack/git/commits/815782de274808f52d54807305582ca62d8c4202,815782de274808f52d54807305582ca62d8c4202,"Fix typo in setting neutron to notify nova about port change

Change-Id: I4d1c8076c5943359088e3cd5226adb8fcaa683e7"
hardys,2014-03-12 16:54:01,https://api.github.com/repos/openstack/devstack/git/commits/f83cf93618ffc6e8c90c50fe567ba9329946718d,f83cf93618ffc6e8c90c50fe567ba9329946718d,"heat add HEAT_DEFERRED_AUTH option

Adds a HEAT_DEFERRED_AUTH, defaulted to trusts, so users can
by default take advantage of the heat trusts functionality
which provides the following benefits:
- Deferred operations (e.g autoscaling) work with token-only auth
- The password field in the heat page of horizon can be made optional
  (horizon patch pending)
- It's more secure because heat no longers stores username/password
  credentials in the DB, only a trust ID.

The previous behavior can be obtained by setting HEAT_DEFERRED_AUTH
to something other than ""trusts"" - the value will only be set in
the heat.conf if the value of ""trusts"" is found, otherwise the
heat.conf default will be used (currently ""password"" which doesn't
use trusts)

Change-Id: I549f1e0071a082ac5d07d0f99db633f8337f3d87
Related-Bug: #1286157"
ninja-cat,2014-03-14 14:44:48,https://api.github.com/repos/openstack/devstack/git/commits/f177f72623b3c47f8a63fada1541891864cb0a6d,f177f72623b3c47f8a63fada1541891864cb0a6d,"Remove any lib/baremetal usage for ironic deploy

Get rid of lib/baremetal usage so that it can be simply
deleted when that time comes:
Copy upload_baremetal_deploy function to lib/ironic;
Rename it to upload_baremetal_ironic_deploy;
Remove any $BM_* variables references from lib/ironic;
Rename $BM_IMAGE_BUILD_* environment variables to $DIB_*;
Improve logic around deploy k&r building;
Add check for $OFFLINE mode;

Change-Id: I4302b32328df9156bf8738773a127db914e8edde"
afazekas,2014-03-19 09:42:01,https://api.github.com/repos/openstack/devstack/git/commits/2d4c8da8031d4ca8638befe1c039c6197d3ac08d,2d4c8da8031d4ca8638befe1c039c6197d3ac08d,"Upgrade to cirros 0.3.2

Cirros 0.3.2 is fixing the host name setting issue, which
is required for turning on the tempest instance validation tests.

Change-Id: I1b87740ab02c4eb0a8df653a35e1f85d40abda51
Related-Bug: #1132686"
jogo,2014-03-19 18:09:31,https://api.github.com/repos/openstack/devstack/git/commits/c381a54db1bf5eba30106f59477083c6b85b5ea8,c381a54db1bf5eba30106f59477083c6b85b5ea8,"Disable ceilometer's swift middleware

This middleware is spamming rsyslog with rabbitmq debug logs, making
this middleware practically unusable in combination with rsyslog. Because of
this, the rsyslog logs now account for 35% percent of the logs we store
in logstash. Until the underlying problem is solved disable the
offending code.

Change-Id: I50a73ae6beb1a11c41225340779fe8d7a1081e46
Related-Bug: #1294789"
BobBall,2014-03-19 11:08:54,https://api.github.com/repos/openstack/devstack/git/commits/f1a2dbffe8ba369b0a8a125e975864a5d88f3e87,f1a2dbffe8ba369b0a8a125e975864a5d88f3e87,"XenAPI: Cirros images must always boot as PV.

The default for VHD disk-types is PV, which is why booting from a
server works.  However, creating a volume from the image needs to
pass this parameter on to the volume.  Note that
Id673158442fde27e8d468ca412c9bd557a886e6b is also required to fix
bug 1294069

Change-Id: I7ea1d85d6082787ac4551f78300a04bf59074261
Partial-Bug: 1294069"
gandelman-a,2014-03-19 01:57:43,https://api.github.com/repos/openstack/devstack/git/commits/539ec43882780194471b3cba9d5f3e230a50a60b,539ec43882780194471b3cba9d5f3e230a50a60b,"Parse Ironic packages files/{apts, rpms}/ironic

When VIRT_DRIVER=ironic, make sure devstack picks up packages listed in its
respective packages file.  These were previously missed unless ""ironic"" was
explictly added to the enabled services.  This ensures required packages
are installed for any of the ir-* services.

Change-Id: I3d70009819a3a6933220cabd5a951a20c7b48849"
gandelman-a,2014-03-18 02:47:14,https://api.github.com/repos/openstack/devstack/git/commits/b875d01cdf11683febf0fb4919c116eb8db08022,b875d01cdf11683febf0fb4919c116eb8db08022,"Special casing for Ironic VIRT_DRIVER in exercises

Ironic on Devstack does not currently suppport security groups or
anything volume related.  Add some special casing so exercises can
be run without error against the Ironic driver.

Change-Id: I2a54d8cca06fc17894e74b4401af9423cef95635"
gandelman-a,2014-03-17 23:37:56,https://api.github.com/repos/openstack/devstack/git/commits/ea2fcb55388ec71fecf6a84ed8f5ac937ea37d25,ea2fcb55388ec71fecf6a84ed8f5ac937ea37d25,"Allow sudo access without a controlling terminal

Ironic setup uses some external scripts that use sudo but they
are not called with a TTY.  This patch allows STACK_USER sudo
access without a controlling terminal.

Change-Id: I0c60fcd5d8418738405d4dd9d08fdf5c8f766829"
gandelman-a,2014-03-17 23:31:49,https://api.github.com/repos/openstack/devstack/git/commits/bd93f02850dfbbfbdde7aee36f57388a2d3fabc8,bd93f02850dfbbfbdde7aee36f57388a2d3fabc8,"Set VIRSH_DEFAULT_CONNECT_URI in Ironic scripts

Ironic setup scripts that interface with virsh should default to always
connecting to the 'qemu:///system' URI.  Adds LIBVIRT_CONNECT_URI that
ends up exported as VIRSH_DEFAULT_CONNECT_URI in scripts that require
it.

Change-Id: Ib660bd51a8c7bfe96e14aab4b6d3a6e83a5a4220"
gandelman-a,2014-03-17 23:23:01,https://api.github.com/repos/openstack/devstack/git/commits/ea861741d8f95044be516126b9d04cbd5c9a65eb,ea861741d8f95044be516126b9d04cbd5c9a65eb,"Reuse existing libvirt setup functions for Ironic

When deploying Ironic, make use of the existing libvirt installation
and configuration used by the Nova libvirt driver. Ensures a functional
libvirt setup across distributions.

Change-Id: I904ae2bdd4e8299827270c351eb60b833f90ae75"
Frostman,2014-03-12 18:27:01,https://api.github.com/repos/openstack/devstack/git/commits/1bf038221a1839bc2a94176098030a47c69bff53,1bf038221a1839bc2a94176098030a47c69bff53,"Remove TEMPEST+=,savanna

Tempest tests integration has been updated.

Change-Id: I6e56f00b99252d145ee0684d3d9705dee768da3e"
stevemar,2014-03-14 04:38:11,https://api.github.com/repos/openstack/devstack/git/commits/df6793a86e8d8ac4c29cd763ac928bdc9876ac04,df6793a86e8d8ac4c29cd763ac928bdc9876ac04,"Update stack.sh to use openstackclient commands

There were a few instances of keystoneclient still being used,
these were replaced with their openstackclient equivalent.

Change-Id: I47fb7cf949b9ab054b97ae387ecbc6d7070fa9c3"
ninja-cat,2014-03-17 13:58:54,https://api.github.com/repos/openstack/devstack/git/commits/84d0ec5ebcda4293f0f24ece845226292c068550,84d0ec5ebcda4293f0f24ece845226292c068550,"Set IRONIC_VM_SPECS_RAM to 512 by default

Fix insufficient amount of RAM provided for fake baremetal nodes

Change-Id: I87d04a23a28dcb03dfdaf3c6cfad96cf2bda2516"
steveb,2014-03-11 01:01:57,https://api.github.com/repos/openstack/devstack/git/commits/16aca8a37a23bd62b0047a12f67ed774f93e37c3,16aca8a37a23bd62b0047a12f67ed774f93e37c3,"Make configurable the creation of heat stack domain

Heat has graceful fallback code if stack_user_domain is not configured.

It is important that this be configurable, for testing and for those who choose to
not run with a stack_user_domain yet.

Change-Id: I08f017412636327853b3c606afd36ae93aa09288"
ninja-cat,2014-01-31 14:02:07,https://api.github.com/repos/openstack/devstack/git/commits/06fb29c66124b6c753fdd262eb262043b4551298,06fb29c66124b6c753fdd262eb262043b4551298,"Integration testing preparation for Ironic

Add ability to create/register qemu vms for Ironic testing purposes

Implements bp:deprecate-baremetal-driver

Change-Id: If452438fcc0ff562531b33a36cd189b235654b48"
malini-kamalambal,2014-03-14 16:22:18,https://api.github.com/repos/openstack/devstack/git/commits/380587bde6444edcc8c0b3adad250de70b27ad33,380587bde6444edcc8c0b3adad250de70b27ad33,"Rollback workaround for Marconi

This patch rollsback the stderr redirection in Marconi.

Change-Id: Iaa2d897295cf2bc2e4a8c370d3e0592def337c78"
pmasrani,2014-03-14 13:51:48,https://api.github.com/repos/openstack/devstack/git/commits/846609b627bff979ce767dd9ad00daa46a150342,846609b627bff979ce767dd9ad00daa46a150342,"Devstack changes to ceilometer to support vsphere

Ceilometer currently supports only libvirt when installed
using devstack. Have extended this support to Vmware Vsphere in this changelist.

Change-Id: I98c64204973bca5e6a7f859a5431adb2b661277f"
stevemar,2014-03-14 04:32:46,https://api.github.com/repos/openstack/devstack/git/commits/2f6c30b33c074a03748b7c0273c49fe81ab96607,2f6c30b33c074a03748b7c0273c49fe81ab96607,"Update client-env to use openstackclient commands

Updated the only instance of a keystoneclient command, to
check if the identity service is enabled.

Change-Id: If86f71c1610a79690d6c6a8eb423b6fa234372bb"
stevemar,2014-03-14 04:22:39,https://api.github.com/repos/openstack/devstack/git/commits/1e94eb1a3f1c87670ff4720b89f25b95e0d15e07,1e94eb1a3f1c87670ff4720b89f25b95e0d15e07,"Move from keystoneclient to openstackclient in eucarc

Updating an ec2 create command to openstackclient syntax.

Change-Id: I3dd21ddd52b77f3af76988db9ae6b863427d9106"
jogo,2014-03-14 01:09:17,https://api.github.com/repos/openstack/devstack/git/commits/bbf759e9ed59b31258bcc8ba9fd3c79db9e57aee,bbf759e9ed59b31258bcc8ba9fd3c79db9e57aee,"Only stop n-cpu in stop_nova_compute

Move screen_stop n-cpu from stop_nova_rest to stop_nova_compute.

Change-Id: I672673a55869d3f68e12c476924fc742e8260f39"
gandelman-a,2014-03-13 21:20:43,https://api.github.com/repos/openstack/devstack/git/commits/0f73ff2c516cb9fdb6849f7feb19cd0cfde46852,0f73ff2c516cb9fdb6849f7feb19cd0cfde46852,"Move libvirt install + setup to functions-libvirt

Moves installation and setup of libvirt to a common functions-libvirt,
which can be used by other drivers in the future that may require
cross-distro libvirt installation and config but are not using
VIRT_DRIVER=libvirt (ie, Ironic).

Change-Id: I4a9255c8b4bacd5acfde9b8061c9e537aeea592c"
afazekas,2014-02-06 09:33:40,https://api.github.com/repos/openstack/devstack/git/commits/7eb99343979921993dc361f71b5efd77e9130f78,7eb99343979921993dc361f71b5efd77e9130f78,"Setup the correct ec2 manifest path

setup correctly the path to the ec2 boundled images.

Change-Id: If3bce845e009a73c6b685976de3fa6d44b907bed"
dtroyer,2014-03-12 19:59:50,https://api.github.com/repos/openstack/devstack/git/commits/1a0c090057dde13fd3bb8ffcb84a923eb5952084,1a0c090057dde13fd3bb8ffcb84a923eb5952084,"Additional attempts to flosh stdout/stderr

The logfile output is piped through awk to apply a timestamp
and filter out all of the xtrace commands in the xtrace output.

A while back we added fflush("""") which is supposed to flush all
open output files and pipes. It appears that gawk in precise
is old enough that it may only flush stdout, so explicitly
flush the logfile handle.

Change-Id: If5198c2da2a3278eed8ae3d50c7ca5c15eac6d94"
Frostman,2014-03-12 18:26:12,https://api.github.com/repos/openstack/devstack/git/commits/51ebda6c8d37539473e463e8b24f27f21d798392,51ebda6c8d37539473e463e8b24f27f21d798392,"Use sahara.conf.sample instead of old one

Sahara internals was updated, now we can use correct conf sample.

Change-Id: Ia8d99c2742785c3b5c724617a5dfc2880624a03f"
Frostman,2014-03-10 16:04:51,https://api.github.com/repos/openstack/devstack/git/commits/7ff8443e46c94562822895b86b24122bc7474cfd,7ff8443e46c94562822895b86b24122bc7474cfd,"Rename all Savanna usages to Sahara

There are several backward compatibility nits.

Change-Id: I93cac543375896602d158860cc557f86e41bcb63"
jogo,2014-03-12 17:33:15,https://api.github.com/repos/openstack/devstack/git/commits/767b5a45b7c6a91a449e0cb41baf16221a7de5e1,767b5a45b7c6a91a449e0cb41baf16221a7de5e1,"Split up stop_nova to match start_nova

Split stop_nova into: stop_nova_compute and stop_nova_rest. This is
needed to support the partial-ncpu grenade test where we want to stop
everything but nova_compute.

Change-Id: I6a21821277e56897d705ca5746806e2211632d12"
afazekas,2014-03-12 13:38:25,https://api.github.com/repos/openstack/devstack/git/commits/1749106c3abb17ee7cf30eb69bc9b744f3fc5a95,1749106c3abb17ee7cf30eb69bc9b744f3fc5a95,"Remove unused package dependencies

* /sbin/vconfig command is not used by either nova or neutron.
* Now the AMQP carrot is not used, not even optionally by
  the oslo.messaging.
* python-gfalgs just referenced as a similar configuration style,
  by neutron.

Change-Id: Idde5446e47e7da1dd204ea518ab816e2cce77c7d"
hemanthravi,2014-01-27 01:30:11,https://api.github.com/repos/openstack/devstack/git/commits/d78c4057d4ae53a994eefb4d4b0ee01a9365e5d5,d78c4057d4ae53a994eefb4d4b0ee01a9365e5d5,"Install script for One Convergence Neutron plugin.

Change-Id: I1dcc625a7c986e7533820b01af9eee5b8addcffe
Implements: install for blueprint oc-nvsd-neutron-plugin"
yamt,2014-02-24 11:30:07,https://api.github.com/repos/openstack/devstack/git/commits/3b1f2e4e885559957a939f8a260b4cff9938bc80,3b1f2e4e885559957a939f8a260b4cff9938bc80,"Fix inverted conditionals in setup_develop

This fixes regressions introduced by:
    Change-Id: Ic97e68348f46245b271567893b447fcedbd7bd6e
    (""Handle non-zero exit code from git diff"")

Change-Id: I053a292c287f3035eef37db2264eda06a170f9bc
Closes-Bug: 1287513"
rhafer,2014-03-11 10:38:24,https://api.github.com/repos/openstack/devstack/git/commits/c20bab89c47e02d88fb314d4d0a8dbfc73fca20e,c20bab89c47e02d88fb314d4d0a8dbfc73fca20e,"Use the python-pyOpenSSL package openSUSE

Recent pyOpenSSL releases when installed from pip depend on
cryptography>=0.2.1, which itself depends on cffi>=0.8. That is conflicting
with the python-cffi (0.7.2) package on openSUSE-13.1 which is required by the
installed python-xattr.

Change-Id: I721ce5288d150a3b01fb2558f7ca86028d734138"
newell,2014-03-10 21:28:52,https://api.github.com/repos/openstack/devstack/git/commits/ccb3d10e04f7be773daf1bddd0bc2bff024ce6f4,ccb3d10e04f7be773daf1bddd0bc2bff024ce6f4,"Makes error message easier to understand.

If the host ip address is indeterminate while executing
stack.sh, an error message is displayed.  This error message
could be a source of confusion since it references localrc,
which is depreciated.

This patch makes the error message clearer and easier to
understand.  It does this by taking out the reference to
localrc.  It also points the user towards local.conf where there
are suggestions on how to set HOST_IP.

Change-Id: I41f14a2de85449d2a08ab7eb2849844a1087b147
Closes-Bug: #1290556"
ianw,2014-03-10 22:35:55,https://api.github.com/repos/openstack/devstack/git/commits/936284b02ab6365bb0bcde49b617a57a902d491c,936284b02ab6365bb0bcde49b617a57a902d491c,"Make mongo install for ceilometer NOPRIME

mongodb packages are missing on some platforms, so we switch to a
manual install.  Also gate the mongo call in cleanup

Change-Id: I1755e461c66be30da3db2a0994f908503c4c38ea"
dtroyer,2014-03-03 20:31:29,https://api.github.com/repos/openstack/devstack/git/commits/42a59c2bfae69eca5520748d6b45803a387fdb88,42a59c2bfae69eca5520748d6b45803a387fdb88,"Complete moving Keystone setup out of keystone_data.sh

* Move remaining role creation to create_keystone_accounts()
* Move glance creation to create_glance_accounts()
* Move nova/ec2/s3 creation to create_nova_accounts()
* Move ceilometer creation to create_ceilometer_accounts()
* Move tempest creation to create_tempest_accounts()
* Convert moved code to use OpenStackClient for setup
* files/keystone_data.sh is removed

Note that the SERVICE_TENANT and ADMIN_ROLE lookups in the other service
implementations are not necessary with OSC, all operations can be done
using names rather than requiring IDs.

Change-Id: I4283ca0036ae39fd44ed2eed834b69d78e4f8257"
aaronorosen,2014-03-05 00:20:14,https://api.github.com/repos/openstack/devstack/git/commits/cea32b1f86631761e170413124dbf80972234a8c,cea32b1f86631761e170413124dbf80972234a8c,"Configuration needed for neutron nova callback

Change-Id: I07cb476f5e87e967cd6fbbfc82881e8a147453b4"
afazekas,2014-03-09 17:36:42,https://api.github.com/repos/openstack/devstack/git/commits/2983474e37d6c97c482e154a1f0d1f60a709915b,2983474e37d6c97c482e154a1f0d1f60a709915b,"Use the $SERVICE_HOST in backup_swift_url

The $SERVICE_HOST is used to specify the swift proxy endpoint,
the c-bak should use the same endpoint.

Change-Id: Ia815f514839b0d1ec3fb9bb40992637c4f123e06"
smerritt,2014-03-08 15:54:05,https://api.github.com/repos/openstack/devstack/git/commits/f19ccb63593e4c3e6c1c2a7d4f2552c30ca1ee62,f19ccb63593e4c3e6c1c2a7d4f2552c30ca1ee62,"Take tempurl out of Swift pipeline additions

Swift commit 165dd44 added tempurl to the sample config, so now it
appears twice in the default devstack-installed configuration. This
commit removes tempurl from $SWIFT_EXTRAS_MIDDLEWARE so that it only
appears once in the generated proxy pipeline.

Change-Id: I4204b2a444312ab87c17f5fb296a43818a4528a6"
ianw,2014-02-28 03:29:02,https://api.github.com/repos/openstack/devstack/git/commits/b27f16d71660f75fcd82a035cdaf2b2eddec99ce,b27f16d71660f75fcd82a035cdaf2b2eddec99ce,"Detect missing packages with yum

yum -y doesn't report an error when packages are missing (see [1] for
upstream discussion).  Thus we run the output of yum through a small
awk script looking for missing packages output.

The one change required for RHEL is that python-wsgiref is included in
the distro python, so doesn't need a separate package.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=965567

Change-Id: I9908ff4edbf2b0d961d25837a08a34e1417bbb02"
jogo,2014-03-06 17:40:27,https://api.github.com/repos/openstack/devstack/git/commits/bb1e07859cce688e3beed2c573e9073a72f778fb,bb1e07859cce688e3beed2c573e9073a72f778fb,"Don't install vim or locate by default

Devstack doesn't need vim or locate, if someone wants to use them, they
can just install them afterwards.

Change-Id: I00f27c20c86d89465e4aefc67ed645a309c09a03"
dtroyer,2014-03-06 17:49:22,https://api.github.com/repos/openstack/devstack/git/commits/1eae3e155a25faa8e0bb6ddba77e580c774fd265,1eae3e155a25faa8e0bb6ddba77e580c774fd265,"Make stop_swift() more robust for Grenade

stop_swift() wasn't calling screen_stop() so the pid files and screen
sessions were not being cleaned up.  DevStack doesn't really care but
Grenade does for the 'base' copy of DevStack.  This should be backported
to stable/havana for this reason.

Change-Id: Ib5afb321cef2b7ad74e69a3fd0d1dad469f78b11"
dtroyer,2014-03-06 17:25:04,https://api.github.com/repos/openstack/devstack/git/commits/b44a8ef14f4e177aef0528db2b7721030f76b290,b44a8ef14f4e177aef0528db2b7721030f76b290,"Fix errexit in lib/ldap

clear_ldap_state() deletes an object from the DIT that doesn't exist
on the first run, this is OK but fails with errexit enabled.

Change-Id: I3b881eedc891caa6b2dfd5913e43f3babcfa7d47"
redixin,2014-03-05 12:47:58,https://api.github.com/repos/openstack/devstack/git/commits/a99b869d3c14b33d0cf59877f3ae60686763f8ae,a99b869d3c14b33d0cf59877f3ae60686763f8ae,"Do not restart libvirt if n-cpu is disabled

If this service is disable in localrc, libvirt does not installed at all,
and should not be restarted.

Change-Id: Iaf482d4a82a26546c25249b3e32c7e629d862a1b
Closes: bug 1288236"
mestery,2014-01-28 20:29:18,https://api.github.com/repos/openstack/devstack/git/commits/d44517dfcfacb5aa9e1952847a1505fd3a92580b,d44517dfcfacb5aa9e1952847a1505fd3a92580b,"Add support for configuring OVS to work with OpenDaylight

This adds support for running OpenDaylight as an OpenStack Neutron plugin
under devstack. This entails downloading the latest version of OpenDaylight,
configuring it, and running it as a service under devstack. This code also
includes pieces which configure Open vSwitch on each devstack node to point
at OpenDaylight as their OpenFlow and OVSDB control interface. This is
required for compute hosts, which will not be running any Neutron software
on them at all. This post-devstack configuration is handled in the extras
directory because of the fact there is no Neutron code running on the compute
hosts themselves.

Closes-bug: #1273917

Change-Id: I696e7c7fe63c835f90c56105775def305a702877"
ninja-cat,2014-03-06 11:07:53,https://api.github.com/repos/openstack/devstack/git/commits/4d8af4aa05a76219b634d02485ae637a404b399f,4d8af4aa05a76219b634d02485ae637a404b399f,"Add n-obj to stop_nova

Add missing nova-object service to nova services list

Change-Id: Ib26204b69356ad030ba3d03f095993370fbb2676"
rhafer,2014-02-20 15:28:15,https://api.github.com/repos/openstack/devstack/git/commits/581f0ee48510d8eead8a95888ad9b56d89009a76,581f0ee48510d8eead8a95888ad9b56d89009a76,"Add a few missing package for SUSE

Additionally rearranged the package list to be alphabetically sorrted

Change-Id: I52cea97da60437250d0b7cf86a71e4a05d765568"
gumho,2014-03-05 23:35:49,https://api.github.com/repos/openstack/devstack/git/commits/99b622a936c0b6f5b6283f3bcdca3bd7d0628e29,99b622a936c0b6f5b6283f3bcdca3bd7d0628e29,"Refactor vmdk upload code

A syntax error is hit when trying to upload a flat vmdk file that
is accompanied by a descriptor file. The code block that handles
this has some unneeded characters that cause the error. Also,
an else-block has been removed so that we can remove an extra
indent.

Change-Id: Iaf5c914e09da6831eeeec141228b39554a1e2216
Closes-bug: #1288471"
afrittoli,2014-03-05 13:38:19,https://api.github.com/repos/openstack/devstack/git/commits/d46d9dd8de00d07eee9170365b1a025f0fc01ed9,d46d9dd8de00d07eee9170365b1a025f0fc01ed9,"Inject all account details in tempest.conf

The tempest configuration function did not inject all account
details in tempest.conf. The only reason why it worked, was
because tempest uses default config values which are valid for
the current devstack setup.

To remove this dependency, two patches are needed:
- this one in devstack, to inject all values
- https://review.openstack.org/#/c/77602/ in tempest, to change
  default values to None

Partially fixes bug 1287191

Change-Id: I01507b142703a1ff66707464b9a743e9d0ca3e01"
flaper87,2014-03-05 17:49:02,https://api.github.com/repos/openstack/devstack/git/commits/5fc5b7e231710c2d67522d1bcabdc448dadd0f94,5fc5b7e231710c2d67522d1bcabdc448dadd0f94,"Add support for sqlalchemy to Marconi

This patch adds a way to setup a marconi instance using sqlalchemy.

Change-Id: Ia694b76286835ca2ca935814370aa43544fe84fa"
flaper87,2014-03-05 17:45:56,https://api.github.com/repos/openstack/devstack/git/commits/961328fc4622b16135d6d580429dc3e5db01ded5,961328fc4622b16135d6d580429dc3e5db01ded5,"Fix marconi's storage setting for MongoDB

The storage driver should be set to mongodb and the driver's uri to the
mongodb:// uri.

Change-Id: I6193a5d78f6cd7283b4e3b1831978883b9e99b06"
dtroyer,2014-03-05 17:50:23,https://api.github.com/repos/openstack/devstack/git/commits/8068455a023063b615fc66ee038211a9ae300a81,8068455a023063b615fc66ee038211a9ae300a81,"Close all logging file descriptors

This has lingered for a long time, finally do something about it...

Change-Id: Ib90408187698d5d4c23ffb0e527011446efc3c7e"
ronakmshah,2014-03-04 23:48:22,https://api.github.com/repos/openstack/devstack/git/commits/ae1728917373986b68d2b0abe2e7052fb78e5903,ae1728917373986b68d2b0abe2e7052fb78e5903,"Supporting Nuage Networks' Plugin through devstack

Nuage networks' plugin specific configuration setting file for devstack

Change-Id: I936f87b8fbc6f90130514b2fc0d111eab861da7c
Implements: blueprint nuage-networks-plugin"
malini-kamalambal,2014-03-04 09:40:19,https://api.github.com/repos/openstack/devstack/git/commits/e2aa91b237e7e23f70847cba60a54a40560a5a3c,e2aa91b237e7e23f70847cba60a54a40560a5a3c,"Enable marconi-server to run when USE_SCREEN=false

This patch,
1. adds log_file option to marconi.conf
2. redirects the output from marconi-server, in the same precedent
set by another project.

Change-Id: Ib273a03625d5a4edf8bb3ed7d522d2b087975acd"
ninja-cat,2014-03-04 14:38:33,https://api.github.com/repos/openstack/devstack/git/commits/a67cb1af4df6b5c758c319e0590a3188d951e68d,a67cb1af4df6b5c758c319e0590a3188d951e68d,"Fix typo in ironic configure function

IRONIC_CONF should be replaced by IRONIC_CONF_FILE

Change-Id: Ie43e376f42f14c46d21df7dbb19db923521f438b"
yamt,2014-02-24 13:02:08,https://api.github.com/repos/openstack/devstack/git/commits/0e598c3c81fc3d652415095101a095de69ec8a6d,0e598c3c81fc3d652415095101a095de69ec8a6d,"Stop running setup_devel for Ryu

It doesn't work here for various reasons.
- Ryu's setup.py is incompatible with global requirements
- This code is called before install_infra.

Ryu is not a part of OpenStack anyway.

Closes-Bug: 1287569
Change-Id: I01a942411f7d06bdf8f1fec5d1a0bc319560f329"
yamt,2014-02-24 11:32:19,https://api.github.com/repos/openstack/devstack/git/commits/a439faa85b89b0d2c73085743426fd8741293cb6,a439faa85b89b0d2c73085743426fd8741293cb6,"Update required packages for ryu

Sync with the recent reality.

Change-Id: I4c37d09e511f3763d2267267815387bd5c825e0e
Closes-Bug: 1287541"
kevinbenton,2014-02-14 01:17:30,https://api.github.com/repos/openstack/devstack/git/commits/753afeba7464464a3fd050eb2085e51580f9b5a7,753afeba7464464a3fd050eb2085e51580f9b5a7,"Use neutron security groups in BigSwitch plugin

Configures the Big Switch third-party plugin to
use neutron security groups instead of nova
security groups.

Change-Id: I6bc3046ff0e70b8288a7c3f3d6f975376adc081a
Implements: blueprint bigswitch-neutron-security"
shwetaap,2014-03-03 18:38:37,https://api.github.com/repos/openstack/devstack/git/commits/de3b82037d863b55cc245c343a8697b5cf4b1904,de3b82037d863b55cc245c343a8697b5cf4b1904,"NCCLIENT_REPO is using the wrong url

NCCLIENT_REPO value in lib/neutron_plugins/cisco is pointing to a repo
that does not exist. This fix corrects the url.

Closes-Bug #1286302

Change-Id: I42db0b3f7a4bbf5d1d053e3da8b4fbb67d47de94"
hardys,2014-03-03 18:07:33,https://api.github.com/repos/openstack/devstack/git/commits/2ca3bf18dd756621f012ebb7ffb338f2fa38d6f2,2ca3bf18dd756621f012ebb7ffb338f2fa38d6f2,"Add heat_stack_owner role for heat trusts usage

Heat supports deferred operations via keystone trusts,
and we'd like to make that the default.  To do this, we
require a new role, which is the default role specified
in heat.conf trusts_delegated_roles, heat_stack_owner.

Add the role to the admin/demo users so they can create
heat stacks when we make deferred_auth_method=trusts the
default.

Change-Id: Idfc70ee89428c23f5965e643486ff2ad9566471c
Related-Bug: #1286157"
hardys,2014-02-28 16:37:43,https://api.github.com/repos/openstack/devstack/git/commits/57d478d87438912e1a33d4a2d00d4a300148e2fc,57d478d87438912e1a33d4a2d00d4a300148e2fc,"Move heat keystone setup into lib/heat

Move the heat setup which currently happens in files/keystone_data.sh
to lib/heat, where we have create_heat_accounts.

Move the user, role, service and endpoint creation as that is consistent
with what other services, e.g lib/nova are doing.

Change-Id: Iaa2c822cad581d6b2b4f22f8863daf81e25f8485"
dtroyer,2014-02-28 17:11:45,https://api.github.com/repos/openstack/devstack/git/commits/91baef3e26994c64249453dd0b1d8998eda10eca,91baef3e26994c64249453dd0b1d8998eda10eca,"Clarify deprecation of EXTRA_xxx_OPTS

The various EXTRA_xxx_OPTS variables will be removed in the Juno
development cycle, change the README to reflect the new way for
the Neutron variables.

Change-Id: Ic84da4a9b5a83e66cf0b57d643a87691f15517f0"
mbanikazemi,2014-02-05 19:45:04,https://api.github.com/repos/openstack/devstack/git/commits/729236ca1a38804b3c31ec39ef65592e0108f863,729236ca1a38804b3c31ec39ef65592e0108f863,"Adds support for IBM SDN-VE Neutron plugin

This provides the support for the monolithic plugin
for IBM SDN-VE that is being added to Neutron here:
https://review.openstack.org/#/c/66453/

Implements: blueprint ibm-sdnve-plugin-support
Depends-On: I92619a95bca2ae0c37e7fdd39da30119b43d1ad6
DocImpact

Change-Id: I0958457355036fdab93156cd7fb4afd1a458918b"
masayukig,2014-02-24 09:42:37,https://api.github.com/repos/openstack/devstack/git/commits/46c688c1ae2bdb0fc923635392a602efa3fd38c2,46c688c1ae2bdb0fc923635392a602efa3fd38c2,"Fix pep8 errors

This commit fixes pep8 errors.

Change-Id: Ia1f1d61081a86b8a58251918392171cbc60f5ab8"
fkakuma,2014-01-29 05:42:06,https://api.github.com/repos/openstack/devstack/git/commits/5a110d4e684d5cf936621608003f6b30eb75c2b1,5a110d4e684d5cf936621608003f6b30eb75c2b1,"Add configurations for the OpenFlow Agent mechanism driver

This patch supports configurations for an environment of the OpenFlow Agent mechanism driver
Set the following variables in a localrc to be ran this mechanism driver.

Q_ML2_PLUGIN_MECHANISM_DRIVERS=ofagent
Q_AGENT=ofagent

Implements: blueprint ryu-ml2-driver
Change-Id: I774da9a26f241487dfa4ec124b12f528704d860b"
0xDEC0DE,2014-03-01 01:01:41,https://api.github.com/repos/openstack/devstack/git/commits/8f084c6b855a747467274facb1218837e0f53c88,8f084c6b855a747467274facb1218837e0f53c88,"use ""rabbit_hosts"" config option instead of ""rabbit_host""

This allows for easy client configuration against clustered RabbitMQ
setups.  Does not break existing configs.

Change-Id: I2b180f8860a727e35d7b465253689e5e8c44eb98
Closes-Bug: 1286411"
malini-kamalambal,2014-02-28 19:06:59,https://api.github.com/repos/openstack/devstack/git/commits/2e978dd6286a33af72796dc97cd81ed5fa2255de,2e978dd6286a33af72796dc97cd81ed5fa2255de,"Add use_syslog to Marconi config

This patch adds use_syslog option to the marconi config file. This
is needed to allow marconi to run, when USE_SCREEN is set to False
in devstack.

Change-Id: I547697ec2745975e235a4e58cde81132ac37b70d"
afazekas,2014-02-28 08:09:52,https://api.github.com/repos/openstack/devstack/git/commits/0e57b967e558fa843277d0119e50f0cb807929a2,0e57b967e558fa843277d0119e50f0cb807929a2,"Devstack install can fail on missing xinetd.d/rsync config

Assuming if the system does not have the xinetd.d/rsync,
the dedicated service is the prefered way.

Change-Id: Ic42651c5c3fb5bf0099786ca81a7bd06ace896a8"
masayukig,2014-02-28 00:22:37,https://api.github.com/repos/openstack/devstack/git/commits/d20f632a70565003ab8c72b2598201be79f4d782,d20f632a70565003ab8c72b2598201be79f4d782,"Move some comments of variables to right place

setup_develop*() in functions has been moved to functions-common. But
some comments about the variables are still left.
This commit moves it to the right place.

Change-Id: Ic360454f1ee72f51c9979d0468dee0913e9b32e4"
shashankhegde,2014-02-28 00:46:43,https://api.github.com/repos/openstack/devstack/git/commits/cb415697f37d3df2965f71b19c909a4c50f32eed,cb415697f37d3df2965f71b19c909a4c50f32eed,"clean.sh removes all the files

clean.sh was incorrectly looping over the list of files to remove. Because of
this the files were not being removed.

Change-Id: Ie0559e1d396a4d35df6a12dfbceefa7eb261bac5
Closes-Bug:1285924"
ianw,2014-02-28 00:24:29,https://api.github.com/repos/openstack/devstack/git/commits/531aeb7900fd7f24794efb8f9da5fce65dc80f4b,531aeb7900fd7f24794efb8f9da5fce65dc80f4b,"Preinstall yum-utils; move sudo check before install

Some cloud images don't have yum-utils installed, so the call to
yum-config-manager fails.  Pre-install it (I still think it's easier
than fiddling config files).

Also, these repo setup steps are using sudo, but the root/sudo checks
happen after this.  Move them up before we start trying to do
repo/package installs.

Change-Id: I875e1f0663c9badc00278b2cc1a3b04ca3dde9fc"
sukhdevkakpur,2014-02-27 22:17:44,https://api.github.com/repos/openstack/devstack/git/commits/c03f975150bf97b5aef42daa77fc419a9e241123,c03f975150bf97b5aef42daa77fc419a9e241123,"devstack (stack.sh) fails when extra config files are specified

Latest merge of https://review.openstack.org/#/c/71996/ exposes an issue
in stack.sh which did not surface before.

Please see the details of the issue in the bug description.

Closes bug: 1285884

Change-Id: Ie231c9835497c2a418a61d339dfd5df1aab9e3d7"
dtroyer,2014-02-26 23:35:37,https://api.github.com/repos/openstack/devstack/git/commits/e2907b4838230940a8ff1735feffd80acf13bdab,e2907b4838230940a8ff1735feffd80acf13bdab,"Fix Neutron enabled check

* Remove the check for neutron enabled on a block of variable settings, there
  is no conflict and serves no purpose.
* Also floating_ips.sh and volume.sh needed to properly source lib/neutron
  for do ping_check() to work properly.

The current error in check-devstack-dsvm-neutron is not related to this fix.

Change-Id: I1c458aaa787ffb98c945aefc3afa80c6861a405f"
ianw,2014-02-21 04:35:08,https://api.github.com/repos/openstack/devstack/git/commits/aee18c749b0e3a1a3a6907a33db76ae83b8d41d9,aee18c749b0e3a1a3a6907a33db76ae83b8d41d9,"Enforce function declaration format in bash8

Check that function calls look like ^function foo {$ in bash8, and fix
all existing failures of that check.  Add a note to HACKING.rst

Change-Id: Ic19eecb39e0b20273d1bcd551a42fe400d54e938"
AevaOnline,2014-02-27 18:50:38,https://api.github.com/repos/openstack/devstack/git/commits/657ce7fa213b680904c07f09029467d8a195761d,657ce7fa213b680904c07f09029467d8a195761d,"Stop trying to create the 'ironic' user twice

After 09bd7c8fd5a6 landed, a conflict between lib/ironic and
extras.d/50-ironic.sh was exposed, breaking Ironic's check and gate
tests.

This resolves that conflict by only creating the 'ironic' user once.

Change-Id: Ic41517f0977c84a82f92f58565aaee6b5cc7eb3e"
dtroyer,2014-02-27 18:41:28,https://api.github.com/repos/openstack/devstack/git/commits/83b6c99b503dced1e92761e1de8ceaf23a396453,83b6c99b503dced1e92761e1de8ceaf23a396453,"Handle non-zero exit code from git diff

The check for a changed repo in setup_develop() 'git diff --exit-code'
returns a status of 1 when the repo has changes; trap that so errexit
does not abort the script.

Bug-Id: 1285780
Change-Id: Ic97e68348f46245b271567893b447fcedbd7bd6e"
dtroyer,2014-02-27 17:13:36,https://api.github.com/repos/openstack/devstack/git/commits/94b9e8203919e206be7bc68abda4ba898d2fcc80,94b9e8203919e206be7bc68abda4ba898d2fcc80,"Fix exit_trap() error if no child processes

Bug-Id: 1285776
Change-Id: Iad7a9f2c03cc39159beda55345f232cefed10520"
afazekas,2014-02-27 12:08:30,https://api.github.com/repos/openstack/devstack/git/commits/a42650fb7e4d3fc8853f04d84109199fa1d9f5e4,a42650fb7e4d3fc8853f04d84109199fa1d9f5e4,"Fix libvirt polkit settings

After the https://review.openstack.org/#/c/75314 merged
the /etc/polkit-1/rules.d/50-libvirt-stack.rules files contains
subject.user == '""stack""' instead of
subject.user == 'stack'.

Change-Id: I09f252b2d0e53f012facb9f7eaa21c1e1bdf492b"
dtroyer,2014-02-24 22:03:41,https://api.github.com/repos/openstack/devstack/git/commits/a25a6f6d80cb844f13540fecf616b289c42e3ebe,a25a6f6d80cb844f13540fecf616b289c42e3ebe,"Unbuffer log output

* Force-flush log output so we don't lose log output in certain error cases.
* Slow down exit paths: add sleep to die(), wait until last moment to
  kill child processes (including the awk log output filter)

Change-Id: I1620fd33b89b237d9c2bb6206f3de2c81719f676"
dtroyer,2014-02-26 19:08:00,https://api.github.com/repos/openstack/devstack/git/commits/1755f689e807cd73b7bb2c67ac0531afbc8c6448,1755f689e807cd73b7bb2c67ac0531afbc8c6448,"Fix heat role create error

https://review.openstack.org/#/c/76036/ changed the user creat commands,
missed the argument to --user

Change-Id: Iaf10ef80a2fb0227dd66a314e7ec253dfb4dc4fe"
ianw,2014-02-26 03:52:02,https://api.github.com/repos/openstack/devstack/git/commits/3b57829ece7aa231770b640afd6da961dae2fc1c,3b57829ece7aa231770b640afd6da961dae2fc1c,"Don't use --skip-redirect for cinder restart on rhel6

RHEL6 doesn't support this flag so the restart fails.  Not exactly
sure why it is required, seems unchagned from the initial
commit 67787e6b4c6f31388cbee6d83b67371b31c443d4

(found running stack.sh with -e per [1])

[1] https://review.openstack.org/#/c/71996/

Change-Id: Ib34c3663409d7b96b932286cb5a6974e940075d3"
ianw,2014-02-26 02:29:31,https://api.github.com/repos/openstack/devstack/git/commits/3e37326a3566ac38ea7ccf053fc183b7a8fccc08,3e37326a3566ac38ea7ccf053fc183b7a8fccc08,"Move enablement of rhel6-optional repo earlier

Change 4f1fee6eae300a3384900df06ebc857e95854eb0 added the RHEL6
optional repo in fixup_stuff.sh, but it turns out that doesn't get run
until after the package prerequisites phase.  Move this into stack.sh
with the RDO repo setup.

Change-Id: Iae0df85fa94c6c1b6f497dd29fda90d03b903a41"
ianw,2014-02-26 00:16:09,https://api.github.com/repos/openstack/devstack/git/commits/2a6f1bd99b01b01356a82222e38c2a1260b899dc,2a6f1bd99b01b01356a82222e38c2a1260b899dc,"Run yum repolist commands as root

Otherwise you get yum errors like [1] when you run stack.sh as !root.
The solution is to run yum commands as root so it can access the right
certs

[1] https://access.redhat.com/site/solutions/312413

Change-Id: I54b0df13508c50aba67e23da11953c536933917a"
ianw,2014-02-21 05:14:29,https://api.github.com/repos/openstack/devstack/git/commits/b8e250232ec55b946d2fd7e4237f12632408bdcc,b8e250232ec55b946d2fd7e4237f12632408bdcc,"Add end-of-file checks to bash8

Add two end-of-file checks to bash8.  Firstly, alert if heredoc hasn't
finished.  Some heredocs were done like:

---
sudo bash -c ""cat <<EOF > foo
...
EOF""
---

(A better way to do this is ""cat <<EOF | sudo tee ..."" as it retains
the usual heredoc layout in the code).

The trailing quote was throwing the matching in bash8 off and it kept
appending the next file as if it was still part of the heredoc.  To
avoid this, we check if we're still in a heredoc when we start a new
file; if so raise an error and reset the heredoc status fresh.  We
track the state of the previous file, line and lineno so we can give a
good error.

---
E012: heredoc did not end before EOF: 'cat <<EOF'
 - lib/trove: L221
---

This includes fixes for the existing problem heredocs.

A similar EOF check is to ensure the previous file ended with a
newline.

---
E004: file did not end with a newline: '$MY_XTRACE'
 - lib/neutron_plugins/embrane: L40
---

This requires only one fix

Change-Id: I5e547d87b3921fc7ce6588c28f074e5c9f489c1f"
hardys,2014-02-24 18:09:10,https://api.github.com/repos/openstack/devstack/git/commits/dd029da5b9b5600b8f6893247645db4fb0b95efe,dd029da5b9b5600b8f6893247645db4fb0b95efe,"Create stack_domain_admin user

Create an additional service user for Heat, which is a domain admin
for the stack_user_domain - this is necessary since the normal service
user cannot manage the projects/users in the stack_user_domain when
keystone is configured to use the v3cloudsample policy (such as in
gate integration tests).

Change-Id: If59c11a74145b9bd02f78a7e0882afe1b0a72e40"
Frostman,2014-02-25 07:02:44,https://api.github.com/repos/openstack/devstack/git/commits/6857dbb2b4fb40a2ed3362ba46f7b130a85b2de1,6857dbb2b4fb40a2ed3362ba46f7b130a85b2de1,"Savanna: use heat infra engine if available

In Savanna we have two provisioning engines:

* ""savanna"" that directly work with nova/neutron/glance/cinder/etc and
   we'd like to deprecate it early in Juno release cycle, but it's still
   useful due to the fact that it could work ok w/o Heat;
* ""heat"" engine uses Heat for provisioning of cluster resources, it's
   currently under active development and we're ready to make it default
   for OpenStack installations with enabled Heat.

Change-Id: I937337b3921e9e51768a118fb4b6bd95962622bd"
ianw,2014-02-24 04:40:42,https://api.github.com/repos/openstack/devstack/git/commits/5f90fc06f5cd3138de112eddf1b04fe1db56d226,5f90fc06f5cd3138de112eddf1b04fe1db56d226,"Fix permissions for tempest.conf

The current script uses 'sudo' to copy tempest.conf.sample and thus
the .conf file gets owned by root.  It then makes the permissions 644,
meaning that when the 'stack' user does the iniset() calls, it doesn't
have permisson on the .conf file.

Since the dir has been chowned to the stack user, it seems safe to
just copy the sample file in without sudo.  In addition, I moved the
$TEMPEST_CONFIG_DIR creation closer to the copy to make it clearer
what's going on.

Seems to be related to dc4dc7f03335e26ea3d86b6184f0475cc5f3d51b

Fixes bug: #1284378
Change-Id: I103b4e90cbcfa693c9cef319f4135868a1b83de3"
ianw,2014-02-24 03:24:13,https://api.github.com/repos/openstack/devstack/git/commits/4f1fee6eae300a3384900df06ebc857e95854eb0,4f1fee6eae300a3384900df06ebc857e95854eb0,"Fix missing libffi-devel for python-glanceclient

python-glanceclient is failing to install on rhel6 with a dependency
chain from pip as

  cryptography>=0.2.1 (from pyOpenSSL>=0.11->python-glanceclient==0.12.0.56.gb8a850c)

cryptography requires libffi-devel to build.  I'm not sure what
changed, but remove it from ""testonly"" so it is always installed.

However, RHEL6 includes this in the optional repo, so we enable this
repo in the fixup script.

Change-Id: I9da0e91b75f41578861ee9685b8c7e91dd12dae7"
dkranz,2014-02-24 18:30:59,https://api.github.com/repos/openstack/devstack/git/commits/041fa712472d887550a540dd50ade546f847c6b4,041fa712472d887550a540dd50ade546f847c6b4,"Make admin_bind_host configurable

The use case is running devstack inside an OpenStack vm and running tempest
from some other machine. To make the catalog export urls that can be accessed
from off the devstack machine, you need to set KEYSTONE_SERVICE_HOST to an
external IP. But devstack uses that address in its setup of keystone in
addition to exporting in the catalog. Because OpenStack has an issue where
a vm cannot access itself through its own floating ip, devstack fails. There
is no way to have this use case by providing an ip address. The workaround
is to use the hostname of the devstack machine. That worked until recently
when a change was made to set admin_bind_host to the value of
KEYSTONE_SERVICE_HOST. The result is that port 35357 is only opened locally.
This change allows the devstack user to restore the original behavior
allowing this use case.

Change-Id: I97b938b305b7dd878397e7e64462650064e59cd2
Closes-Bug: #1283803"
armando-migliaccio,2014-02-20 06:19:24,https://api.github.com/repos/openstack/devstack/git/commits/71ef61ac8727137da01b3ca970a70b3adc81fd51,71ef61ac8727137da01b3ca970a70b3adc81fd51,"Add variable to configure the run of IPv6 Tests

Related Tempest change:
  https://review.openstack.org/#/c/74933/

Closes-bug: 1282387

Change-Id: If9e9c5319c484dc4c00ed3bdcefc132410719b87"
dtroyer,2014-02-17 18:57:55,https://api.github.com/repos/openstack/devstack/git/commits/af616d93411a9a446ce0d2e72ea4fb7d281cd940,af616d93411a9a446ce0d2e72ea4fb7d281cd940,"Move setup_develop() to common

It's in the wrong place for current Grenade

Change-Id: Ia670198332af5945a56d708cd83d9239df0c2287"
sahid,2014-02-23 17:55:51,https://api.github.com/repos/openstack/devstack/git/commits/e9648276a6396a630d0eca812e36fc82ec4b2a0c,e9648276a6396a630d0eca812e36fc82ec4b2a0c,"Removes the dependence with aptitude

Removes the dependence with aptitude by replacing
the call of:
  aptitude purge -y ~npackage by apt_get purge -y package*

Change-Id: I08875ffad9dc6293047827666f02453a355b16ea
Closes-Bug: 1281410"
jimrollenhagen,2014-02-18 19:17:58,https://api.github.com/repos/openstack/devstack/git/commits/010959de403660e13eca54c6ef306ef5df24b436,010959de403660e13eca54c6ef306ef5df24b436,"Perform safety checks in create-stack-user.sh

This adds some safety checks to the stack user creation script.

This includes:
- Using set -o errexit to exit early on errors
- Make sure STACK_USER is set before doing anything with it

Change-Id: If027daddd03e32c5ba3c2ebb05ad5b27d2868b0a"
ianw,2014-02-20 02:55:13,https://api.github.com/repos/openstack/devstack/git/commits/d53ad0b07d3e7bdd2668c2d3f1815d95d4b8f532,d53ad0b07d3e7bdd2668c2d3f1815d95d4b8f532,"Add GIT_TIMEOUT variable to watch git operations

During my CI testing of each devstack change I can often see git get
itself stuck and hang indefinitely.  I'm not sure if it's transient
network issues, or issues at the remote end (seen with both github.com
and git.openstack.org) but it hits fairly frequently.  Retrying the
command usually gets it going again.  Searching for ""git hanging"" and
similar shows its not entirely uncommon...

This adds a watchdog timeout for remote git operations based on a new
environment variable GIT_TIMEOUT.  It will retry 3 times before giving
up.  The wrapper is applied to the main remote git calls.

Change-Id: I5b0114ca26b7ac2f25993264f761cba9ec8c09e1"
malini-kamalambal,2014-02-20 19:48:59,https://api.github.com/repos/openstack/devstack/git/commits/67df3b2fc2b2e7b1cfb0418e59f96db7561277be,67df3b2fc2b2e7b1cfb0418e59f96db7561277be,"Bind Marconi to SERVICE_HOST & add health check

This patch,
1. Binds Marconi to SERVICE_HOST, to be consistent with other services.
2. Adds a health check to verify if marconi started correctly.

Change-Id: I1d48d0e610369cc97d479a5cd47b2bd11656da3f"
rabi,2014-02-21 14:38:28,https://api.github.com/repos/openstack/devstack/git/commits/f2ca87a8d8ded80384b2cafb46ef2ca4cf19a986,f2ca87a8d8ded80384b2cafb46ef2ca4cf19a986,"Implements fix to run lbaas service on fedora with devstack

changes 'user_group = nobody' in 'haproxy' section of lbaas_agent.ini

Change-Id: I801fec5a11d8abd97cb6f5cdff35fabb9eaf9000
Closes-Bug: 1283064"
hardys,2014-02-21 14:45:48,https://api.github.com/repos/openstack/devstack/git/commits/8e1a1ffdfbf59e01688fd2e6e007ab72d49263ed,8e1a1ffdfbf59e01688fd2e6e007ab72d49263ed,"Set stack_user_domain config correctly

The recently merged patch which creates a domain for heat
fails to correctly set the domain ID in heat.conf, so move the
setting of the config option to immediately after we create the
domain.  Also add the missing DEFAULT section identifier in the
iniset, and use OS_TOKEN instead of OS_SERVICE token, because
the stack.sh comment says this is exported for the openstackclient
workaround.

Change-Id: I912f774f1215d68cbcfe44229b371f318d92966a
Closes-Bug: #1283075"
ianw,2014-02-21 04:16:31,https://api.github.com/repos/openstack/devstack/git/commits/f8e86bb3129c6aa5cb9c70ceb2a55f01b2dd1bf0,f8e86bb3129c6aa5cb9c70ceb2a55f01b2dd1bf0,"Un-nest generate_swift_config

I think this got accidentally nested during some code refactorizing?

Change-Id: Ie486cf3395b6acf3a10eb32e116d39ca56134b9f"
ianw,2014-02-21 03:33:29,https://api.github.com/repos/openstack/devstack/git/commits/09bb9e67923c1de4d4479000eb329b139732c57b,09bb9e67923c1de4d4479000eb329b139732c57b,"Add more files to run_tests.sh bash8 check

Add functions-common, stackrc, openrc, exerciserc, eucarc to bash8
checks

Change-Id: Ic14b348c871bf98bf35c7e866e715bb75bdccf97"
afazekas,2014-02-20 14:49:13,https://api.github.com/repos/openstack/devstack/git/commits/2d65059e725ad27d1e9bdddbea9982d1d8027c01,2d65059e725ad27d1e9bdddbea9982d1d8027c01,"Add RHEL7 beta support

RHEL7 still in beta status, so it will require the FORCE option,
until the GA release.

The main notable difference from another RHEL family members, it does
not have the mysql alias for the mariadb.

Change-Id: Ic90bb6c3dd9447fc80453c3dc1adb22cdfc6226f"
gfidente,2014-02-20 15:43:49,https://api.github.com/repos/openstack/devstack/git/commits/3d60f4dd531388cd01a3aa689053dfc22acbd16c,3d60f4dd531388cd01a3aa689053dfc22acbd16c,"Disable tempest backup tests if c-bak unavailable

This will update the tempest config to not run the cinder backup
tests when the c-bak service is not enabled.

Change-Id: I0b6486f1222afa7ae9bd9d13c7d3648d2b870710"
masayukig,2014-02-20 05:32:15,https://api.github.com/repos/openstack/devstack/git/commits/1958c1eb5e3521a70a3cf4185a177da7d17d83e9,1958c1eb5e3521a70a3cf4185a177da7d17d83e9,"Remove unnecessary comment out lines

This commit removes some comment-outed codes. If we want to use them, we
can get them from the git repository.

Change-Id: Ie438c43d332d0631750f0ad458653fc40e23faad"
masayukig,2014-02-20 04:31:26,https://api.github.com/repos/openstack/devstack/git/commits/f6368d3eaccc33d5afdbc53a34bf6e37b6e11eb8,f6368d3eaccc33d5afdbc53a34bf6e37b6e11eb8,"Fix comments about System Functions

This commit fixes comments about ""System Functions"".
 * Add a missing comment about System Functions in the header
 * Fix singular to plural like others

Change-Id: I3feb94cd11a6683ca80093574d60fdf7420e3af2"
invsblduck,2014-02-20 02:23:16,https://api.github.com/repos/openstack/devstack/git/commits/27f29440d1b6f5343e02b8beff04c21882139ce7,27f29440d1b6f5343e02b8beff04c21882139ce7,"Set umask

Ensure we have a known-good umask.  Otherwise files such as
/etc/polkit-1/rules.d/50-libvirt-$STACK_USER.rules may not be readable
by non-root users afterwards.

Also reworded some comments to be more clear.

Change-Id: I7653d4eee062cf32df22aa158da6269b1aa9a558
Closes-Bug: #1265195"
Frostman,2014-02-19 10:00:42,https://api.github.com/repos/openstack/devstack/git/commits/de2057290a368e339cb66a8a61d483c90f964089,de2057290a368e339cb66a8a61d483c90f964089,"Improve savanna keystone auth configuration

We're doing to use common keystone configuration approach - section
keystone_authtoken with config opts from the python-keystoneclient
auth_token middleware.

Change-Id: Ibbe0c76ee3b00045f5cb5134bd7661e9cef6ccdd"
malini-kamalambal,2014-02-18 18:45:18,https://api.github.com/repos/openstack/devstack/git/commits/2dcc77422348e55b6f7028679647cfbdf872f6a2,2dcc77422348e55b6f7028679647cfbdf872f6a2,"Add retry to connect to mongo db

This patch adds retries to connect to the mongodb, after a restart.

Change-Id: I16e37614736c247fa0b737db2b868c052c2aa33a"
ryu25ish,2014-02-18 15:33:46,https://api.github.com/repos/openstack/devstack/git/commits/18d5c833d47e41c8c8dcd73f35268d6e2b43df5b,18d5c833d47e41c8c8dcd73f35268d6e2b43df5b,"Remove provider router configuration

To be compatible with the Icehouse release of MidoNet, the
provider router configuration is removed from devstack since
it is no longer necessary to configure it.

Change-Id: I4be2d9bbf2c82fd375702cbb1d60c3277086134f
Implements: blueprint remove-provider-router-config-for-midonet"
imsplitbit,2014-02-17 00:57:20,https://api.github.com/repos/openstack/devstack/git/commits/b72235611d9659a49caf87b2cc89f05fce27a3e0,b72235611d9659a49caf87b2cc89f05fce27a3e0,"Fixed missing backslash in lib/trove
This is breaking the installation of trove with devstack

Change-Id: I8b59d96072da47b8be5000eda835258654230b0f
Closes-Bug: 1280915"
dtroyer,2014-02-17 17:00:42,https://api.github.com/repos/openstack/devstack/git/commits/d8864feae93f898f043febf0b4734f0b61c602d4,d8864feae93f898f043febf0b4734f0b61c602d4,"Fix shocco errors

Clean up comments to fix errors seen while processing with shocco

Change-Id: I0e97ad27613313f03e47c107051ea93b115d4744"
Frostman,2014-02-17 14:38:07,https://api.github.com/repos/openstack/devstack/git/commits/351173624c4a3e24aa479c6ce5f557732bff40e7,351173624c4a3e24aa479c6ce5f557732bff40e7,"Improve savanna-dashboard installation

* split configurations setting to one-per-line;
* don't set SAVANNA_URL in horizon configs - we're now using endpoits
  keystone to find corresponding edpoint.

Change-Id: I9497a511656a2f70e923b651c66c5ef2917a0939"
hardys,2014-02-13 15:00:33,https://api.github.com/repos/openstack/devstack/git/commits/33d1f86a4931de76fba555a9a3f5e5fa3fd7c171,33d1f86a4931de76fba555a9a3f5e5fa3fd7c171,"Add support for creating heat stack domain

The Heat instance-users blueprint requires an additional domain
where heat creates projects and users related to stack resources
so add support for creating this domain when configured to install
Heat.  Note a workaround is currently required to make the
openstack command work with the v3 keystone API.

Change-Id: I36157372d85b577952b55481ca5cc42146011a54"
stevemar,2014-01-24 19:02:26,https://api.github.com/repos/openstack/devstack/git/commits/19685428e3d3e51ff88aa5254f7c27d476053798,19685428e3d3e51ff88aa5254f7c27d476053798,"Change most keystoneclient commands to openstacklient in libs

migrated most keystoneclient commands from the following libs:
 ceilometer
 cinder
 ironic
 keystone
 marconi
 neutron
 nova
 savanna
 swift
 trove

Also need to set and unset openstackclient specific environment
variables from stack.sh

Change-Id: I725f30bc08e1df5a4c5770576c19ad1ddaeb843a"
russellb,2014-02-02 01:06:42,https://api.github.com/repos/openstack/devstack/git/commits/5705db691386809e288758a0314dfa60d9b36da7,5705db691386809e288758a0314dfa60d9b36da7,"Optionally enable file injection

There is a patch up for nova right now that disables file injection by default.
This is a corresponding devstack change that only sets file injection options if
it is enabled in the devstack config.  This is good to keep around so that we
can easily turn it on for testing.

The nova change is id Icff1304fc816acc843f8962727aef8bbbc7bbaa3.

Change-Id: I5015f2c351b1d680c205d7f9a5204febca490b91"
malini-kamalambal,2014-02-14 16:29:26,https://api.github.com/repos/openstack/devstack/git/commits/1e4e3acaadc1397a7d69a83e8fe9a54dd879983a,1e4e3acaadc1397a7d69a83e8fe9a54dd879983a,"Revert the tempest service name to marconi

This patch is to rollback the change introduced by
https://review.openstack.org/#/c/73100/. 73100 is no longer needed
because of the recent https://review.openstack.org/#/c/69497/.
Using 'marconi' as the service name will keep us aligned with the
naming convention used by other projects.

Change-Id: I5da6d2aaeb5c9dc29a1cbc70c8425449807eb34c"
dtroyer,2014-02-11 15:08:35,https://api.github.com/repos/openstack/devstack/git/commits/41d96d7b4837c6bafc2622954a3c6c1fdcc13a82,41d96d7b4837c6bafc2622954a3c6c1fdcc13a82,"Marconi fixes for precise

Fix a couple of problems found on Ubuntu:
* $MARCONI_DIR/etc/marconi/policy.json doesn't exist; removed the copy to /etc/marconi
* added a seting of nssize in /etc/mongodb.conf for Ubuntu
* restart the correct serice name on Ubuntu

Change-Id: I9bd2ab1aa4fb94ff96559e069e5b62138c358fb5"
brantlk,2014-02-14 00:59:50,https://api.github.com/repos/openstack/devstack/git/commits/16d3ad057dc0b982c801fcfa9d5497c1daeb34cd,16d3ad057dc0b982c801fcfa9d5497c1daeb34cd,"Use database connection for keystone

The keystone configuration used the 'connection' option in the
'sql' section of the keystone.conf file. This option is deprecated
in favor of 'connection' in the 'database' section.

The keystone setup code is changed to use the option in the new
section rather than the deprecated one.

Change-Id: I62fd2f50ded3b8848e9e5225e88c80ed8fed3bff"
malini-kamalambal,2014-02-13 23:18:51,https://api.github.com/repos/openstack/devstack/git/commits/0b3aacc707ab8b3593285e02dc172b3c96730efc,0b3aacc707ab8b3593285e02dc172b3c96730efc,"Fix MARCONI_USER

This patch fixes the MARCONI_USER in create_marconi_accounts().

Change-Id: I9618530fa20ee84d25646107c7450017ada908df"
j-griffith,2014-02-13 22:56:29,https://api.github.com/repos/openstack/devstack/git/commits/d6997d317685353482a0aa7a18408c1313583460,d6997d317685353482a0aa7a18408c1313583460,"Fix tee statement for catching tempest output

The use of exec and tee doesn't seem to be quite right, and was
unreliable in terms of catching the exit status of the tempest
test as well as not catching the output when things went wrong.

This changes the way we do the redirect and the tee to something
that should be more robust and seems to work reliably in testing.

Change-Id: Ieb9d725839fb8e3f9e2e63a2b7b2e9c7c86713a2"
jeckersb,2014-02-13 21:21:24,https://api.github.com/repos/openstack/devstack/git/commits/22dece0d969b476cf187fe7359fa38d96189cdc1,22dece0d969b476cf187fe7359fa38d96189cdc1,"Add Fedora support to install_docker.sh

On Fedora, just install the docker-io package as supplied in the
Fedora repository.

Change-Id: Iea74878d3e1c434863c188ea2253817384e56bf4"
amotoki,2014-02-13 15:54:58,https://api.github.com/repos/openstack/devstack/git/commits/4074e298112ba179ba743982c6904c8bd70030b2,4074e298112ba179ba743982c6904c8bd70030b2,"Use lowercase section name in Neutron ML2 security group config

All other security group configs in Neutron are lower-case
and it should be consistent.

Change-Id: I683333c1e186446a69172446cca6d9b952673ed4
Closes-Bug: #1279862"
hardys,2014-02-13 15:14:41,https://api.github.com/repos/openstack/devstack/git/commits/1bcd2800271d6a72237084ad7f36f84072eecd18,1bcd2800271d6a72237084ad7f36f84072eecd18,"Don't warn about heat modifying flavors

Since de0898a Heat no longer modifies flavors, so the comment
and output related to modified flavors is no longer needed.

Change-Id: I1007d2ab3387f28b8d7487f450cab4592f2824aa"
malini-kamalambal,2014-02-12 23:23:36,https://api.github.com/repos/openstack/devstack/git/commits/1d50d78560910779d28db85591fbb67e1617ff34,1d50d78560910779d28db85591fbb67e1617ff34,"Fix service name for marconi

This patch updates TEMPEST_SERVICES, to have the same name as devstack
marconi service.

Change-Id: Ibc9b4a66fccd3d95ddd1717bf549476bd843204a
Implements: blueprint add-basic-marconi-tests"
dtroyer,2014-02-12 18:09:22,https://api.github.com/repos/openstack/devstack/git/commits/abc7b1d765665b66a027fe93c841b62e537c7843,abc7b1d765665b66a027fe93c841b62e537c7843,"Backport Grenade updates

Backport changes made in Grenade's copy of functions since the last sync:
* d0654b9,i 4c7726e - get_release_name_from_branch()
* 7907766 - edits to install_package()

Change-Id: I0714c0b1072f1360c3c08fe24225e65e2a550fad"
dtroyer,2014-01-30 21:37:40,https://api.github.com/repos/openstack/devstack/git/commits/dff49a242eef817efa23d4e808aaa6a74ac82ed0,dff49a242eef817efa23d4e808aaa6a74ac82ed0,"Split functions

Move shared and non-DevStack-specific functions to `functions-common`.  This is
a code move only with some updated comments.  The functions are now
sorted alphabetically within function groups, eg. all git-related functions
are grouped together.  The groups are listed at the top of the file.

'functions' sources 'functions-common' so no additional changes are required
for backward-compatability.

All functions shared with Grenade have also been moved.

functions-common was created from commit e0ed8ea038299952826b27a16753775472f108d8

Change-Id: I73bf7134fd6a60ec1ea44a5bfab08b0569b60ded"
sahid,2014-02-11 16:56:07,https://api.github.com/repos/openstack/devstack/git/commits/1814e671d3af0231aa18a08d3406d54332f9b4ef,1814e671d3af0231aa18a08d3406d54332f9b4ef,"Fix bug ""Invalid OpenStack Nova credentials."" on the gate

During the process, when create_userrc.sh tries to creates
certificates and sourcable rc, it assumes that all users have
the same password.

Change-Id: Ifb57a43aad439ffe041e98465719a8a8eceae544
Closes-Bug: #1260723"
yuriy-z,2014-02-12 09:03:18,https://api.github.com/repos/openstack/devstack/git/commits/c86ec3568c7ed11ce38584b654b91594eb0d235a,c86ec3568c7ed11ce38584b654b91594eb0d235a,"Fix hook script for Ironic

cleanup_ironic should not be started on ""unstack"" phase,
otherwise API service not restarted because auth cache
directory removed.

Change-Id: I3da86b9fb8c3ce1185aff05df0fa83cf259708f4"
j-griffith,2014-01-23 18:31:10,https://api.github.com/repos/openstack/devstack/git/commits/d0860cc26d78c3f1c70b332ecc793442a1c8048d,d0860cc26d78c3f1c70b332ecc793442a1c8048d,"Replace custom cinder driver configs

The devstack/lib/cinder file has a number of third party
driver config options hard-coded in it.  Rather than add
yet another if driver== statement here let's use plugin
files and do something similar to what's already
in place for nova_hypervisors and neutron plugins.

This works the same way folks were implementing their
drivers already, the key is to use a CINDER_DRIVER
variable in your localrc file that matches the name
of the lib/cinder_plugin file to use.

The existing third party driver entries that were
in lib/cinder have been migrated to cooresponding
plugin files.

Change-Id: I4ee51ea542d5aa63879afd5297311a9df727c57f"
malini-kamalambal,2014-02-10 16:22:39,https://api.github.com/repos/openstack/devstack/git/commits/9972ec23c43cea1be6ee5174e72c06e32f295212,9972ec23c43cea1be6ee5174e72c06e32f295212,"Add marconi to enabled services

This patch adds marconi to enabled services. This is needed to run
the tempest experimental job for marconi.

Change-Id: I28794c3acacc6daa9f698f8031b58d1ee13c3bad
Implements: blueprint add-basic-marconi-tests"
sahid,2014-02-10 10:36:25,https://api.github.com/repos/openstack/devstack/git/commits/9e032c2d374f80612c010775dd8d71389d5d09a3,9e032c2d374f80612c010775dd8d71389d5d09a3,"read_password needs to store in .localrc.auto if local.conf is used.

when running stack.sh with no passwords in local.conf
read_password() creates localrc and local.conf is ignored

Change-Id: I25ad07569d2b42b190449591d5a01ade8022392c"
jogo,2014-02-06 23:33:52,https://api.github.com/repos/openstack/devstack/git/commits/d73af8787280002321ab52a3262a2d0b5a8e54cd,d73af8787280002321ab52a3262a2d0b5a8e54cd,"If n-api-meta is being run, remove from NOVA_ENABLED_APIS

If running n-api-meta as a separate service we shouldn't run it inside
of n-api. This patch is in support of Iddd44f7ee43b9287a788dea49eaa484316f8da04

Change-Id: I8a54cf13dc6083b78e89c9ea5413d9e4d8d4b37a
Related-Bug: #1270845"
chilicat,2014-02-08 11:35:48,https://api.github.com/repos/openstack/devstack/git/commits/d1cd0c66487cc00fa50c6638fb233e04b023d744,d1cd0c66487cc00fa50c6638fb233e04b023d744,"Docker install script fails to install docker registry

The tools/docker/install_docker.sh script fails during the
installation/setup of the docker registry.
The problem is that the used environment variables are wrong.

REGISTRY_IMAGE > DOCKER_REGISTRY_IMAGE
REGISTRY_IMAGE_NAME > DOCKER_REGISTRY_IMAGE_NAME

Change-Id: I16f051abe5c426f295c69d518b49c1b9a7b4cc94"
shane-wang,2014-02-07 03:01:43,https://api.github.com/repos/openstack/devstack/git/commits/5ed43bf82ac9eeb30ca543bcf695f9d45ddf77f5,5ed43bf82ac9eeb30ca543bcf695f9d45ddf77f5,"Fix misspellings in devstack

Fix misspellings detected by:
 * pip install misspellings
 * git ls-files | grep -v locale | misspellings -f -

Change-Id: I19726438d15cd27b813504aac530e7e53c4def12
Closes-Bug: #1257295"
dtroyer,2014-01-15 21:04:49,https://api.github.com/repos/openstack/devstack/git/commits/e4fa72132228688d2fe74dd974fe04b0fe4c3d6b,e4fa72132228688d2fe74dd974fe04b0fe4c3d6b,"Begin is_service_enabled() cleanup

This converts the special cases in the is_service_enabled() function to call
individual functions declared by the projects.  This allows projects that
are not in the DevStack repo and called via the extras.d plugin to handle
an equivalent service alias.

* Ceilometer
* Cinder
* Glance
* Neutron
* Nova
* Swift

TODO: remove the tests from is_service_enabled() after a transition period

Patch Set 2: Rebased

Change-Id: Ic78be433f93a9dd5f46be548bdbd4c984e0da6e7"
ttx,2014-02-06 15:00:08,https://api.github.com/repos/openstack/devstack/git/commits/d5d4974cb72880799d7ec736237ca01eacb2f6da,d5d4974cb72880799d7ec736237ca01eacb2f6da,"Cleanup cinder-rootwrap support

cinder_rootwrap support in devstack handled a number of now-abandoned
use cases:

- no $CINDER_DIR/etc/cinder/rootwrap.d (old-style rootwrap)
- using oslo-rootwrap instead of cinder-rootwrap (abandoned experiment)

This change removes unused code paths and aligns
configure_cinder_rootwrap() with configure_nova_rootwrap().

Change-Id: I387808dae0e064cc9c894c74ab78e86124f08dd2"
brantlk,2014-02-05 21:19:27,https://api.github.com/repos/openstack/devstack/git/commits/a7a23addd3634d890a44ff3e44ebefe29a3f7910,a7a23addd3634d890a44ff3e44ebefe29a3f7910,"Update orchestration-related service names in template catalog

The orchestration-related service names were not consistent with
the other AWS compatibility and native API names, so this change
makes them consistent.

Related-Bug: #1240138
Change-Id: I29a26bc6b0ddab0bff579a900e28da65df097a96"
hemna,2014-02-04 22:56:15,https://api.github.com/repos/openstack/devstack/git/commits/75dbd9b1a3d6fa7d72b95d72a3102d8fdc76fd34,75dbd9b1a3d6fa7d72b95d72a3102d8fdc76fd34,"Added the import of lib/infra

This fixes an error in the devstack/functions
setup_develop call, which tries to cd to
$REQUIREMENTS_DIR, which is created in lib/infra

Change-Id: Ie65d2ba83547acc4ea36d1191e6e90dc21da1fa7
Closes-Bug: #1276365"
dtroyer,2014-01-27 20:56:44,https://api.github.com/repos/openstack/devstack/git/commits/1023ff7c3ac184da00b6306f361f285301849881,1023ff7c3ac184da00b6306f361f285301849881,"Move ironic to plugin

Also adds an is_ironic_enabled() function to prepare for an upcoming
change in is_service_enabled().

Change-Id: I6e6e0e8b70221e231785ab27e9b5d4836933ac4c"
armando-migliaccio,2014-02-04 21:39:32,https://api.github.com/repos/openstack/devstack/git/commits/41e36d6bcd3ab04cd3955aef68162c3266dc958e,41e36d6bcd3ab04cd3955aef68162c3266dc958e,"Replace NvpPluginV2 with NsxPlugin

The king is dead, long live the king!

Partial-implements blueprint: nicira-plugin-renaming

Change-Id: I9b71479a8d4228d45a6591b169c489c0107fb04c"
arnaudleg,2014-02-04 01:57:39,https://api.github.com/repos/openstack/devstack/git/commits/8dad4bde886ed2a5bb28d8eb43cfa874ee81c790,8dad4bde886ed2a5bb28d8eb43cfa874ee81c790,"upload_image.sh to support streamOptimized disks

The current version of the script will use ""preallocated"" as the
disk type of a stream optimized disk. This needs to be fixed by
introspecting the createType of the vmdk file.

Closes-Bug: #1275993

Change-Id: I98594acecf26dd1164870f43890254a19ef23fe9"
jd,2014-02-03 14:26:20,https://api.github.com/repos/openstack/devstack/git/commits/ca920576cb9c36b7d26a3ce523c9d9a25b3f5db8,ca920576cb9c36b7d26a3ce523c9d9a25b3f5db8,"nova: use the correct notification driver

Nova now uses oslo.messaging and not the Oslo RPC code anymore,
therefore the new driver should be used instead.

Change-Id: I3533975ad38ff99bee6cfaa5332843444650f61f"
BobBall,2014-02-02 09:16:20,https://api.github.com/repos/openstack/devstack/git/commits/c643ebb26dac484e56aea7b5f30d97fe7711f6f3,c643ebb26dac484e56aea7b5f30d97fe7711f6f3,"XenAPI: Fix new useage of trueorfalse

* Ensure that Xen setup scripts will continue to function when unset
  variables are used in stackrc
* Ensure that the generic functions are sourced in all places that xenrc
  (which sources stackrc) is sourced.

Change-Id: I54eba20733c2e149621b74a1387f0bef14fca12e"
afazekas,2014-02-02 09:07:39,https://api.github.com/repos/openstack/devstack/git/commits/8664ca53f80849553043aba9663f7cb72a9cec42,8664ca53f80849553043aba9663f7cb72a9cec42,"bash_completion for heat and ceilometer

Installing bash completion for heat and ceilometer by using a
similar way used with other services.

Change-Id: I5094648272f2666f6bff181bfa3aeb35e863bd97"
afazekas,2014-01-21 10:13:55,https://api.github.com/repos/openstack/devstack/git/commits/85a85f87f814446dd2364eea1b6d976d50500203,85a85f87f814446dd2364eea1b6d976d50500203,"Use service role with glance service

glance just used to admin role for token validation,
the service role is sufficient for this.

glance also needs an user with enough permission to use swift,
so creating a dedictated service user for swift usage when s-proxy is
enabled.

Change-Id: I6df3905e5db35ea3421468ca1ee6d8de3271f8d1"
afazekas,2014-02-02 08:38:05,https://api.github.com/repos/openstack/devstack/git/commits/2ed4ae70b820ad3cbd12f2b6c2452ff66005ebaa,2ed4ae70b820ad3cbd12f2b6c2452ff66005ebaa,"Have ceilometer to respect the keystone settings

lib/ceilometer ignored the global settings related to keystone settings.

It can cause issues for example when the keystone does not listen on
127.0.0.1 even in single node deployment.

Change-Id: I6e4654daa2ec624ac11aaf7f49495fcfaa72071d"
nkinder,2014-02-01 00:54:10,https://api.github.com/repos/openstack/devstack/git/commits/7bc783b95b2e115f40a4db8823823573afe7a768,7bc783b95b2e115f40a4db8823823573afe7a768,"LDAP root DN creation fails

When keystone is configured to set up an LDAP server to use as
it's identity backend, the creation of the root DN fails.  The
problem is that one of the mods in the modify operation that sets
up the root DN is incorrect, which causes the entire modify
operation to fail.  The incorrect mod is attempting to configure
some attribute indexes, but one of the attributes it specifies is
undefined.  This patch removes the undefined attribute from the
template that is used to create the modify operation.

Change-Id: I413587130c64ca4f5f467b2ea1c0ab12867999ce
Closes-Bug: 1275158"
SlickNik,2014-01-31 23:04:05,https://api.github.com/repos/openstack/devstack/git/commits/1272bc5e93f171c8d7193475547c43b9032b5c39,1272bc5e93f171c8d7193475547c43b9032b5c39,"Pipeline filter is 'authtoken' and not 'tokenauth'

The pipeline fileter in the api-paste.ini for the keystone
middleware was renamed to 'authtoken'. Trove install is not
able to authenticate against keystone unless this is renamed

Change-Id: I6f912d29c143b3acbc43da222cf8b4c3fafb2c8d"
fungi,2014-01-25 01:10:31,https://api.github.com/repos/openstack/devstack/git/commits/c4f47345a588b15d83ebc5584c8698843b568a40,c4f47345a588b15d83ebc5584c8698843b568a40,"Make MySQL query logging optional

* lib/databases/mysql: Wrap query log configuration in a check for a
ENABLE_QUERY_LOGGING variable.

* stackrc: Add the DATABASE_QUERY_LOGGING variable defaulted to True.

Change-Id: Iddf8538ad0a1e36e2c6944dc70315984026c8245"
russellb,2014-01-30 22:49:22,https://api.github.com/repos/openstack/devstack/git/commits/43d950843769135d32ce316cfb0f72697a879623,43d950843769135d32ce316cfb0f72697a879623,"Install libguestfs for nova-compute on Ubuntu

We were already installing this for n-cpu on rpm distros, but not
Ubuntu.  Install it so that nova-compute can use it for file injection,
which is the preferred method over nbd.

Set CONF.libvirt.inject_partition to -1.  This enables using libguestfs to
determine the proper partition to inject into.

Don't bother trying to load the nbd kernel module anymore.  It won't be used
since we know always expect libguestfs to be installed.

Change-Id: Ifa9d95bf759f1dad8685590a2df242d852dd2cb0"
jd,2014-01-30 14:51:37,https://api.github.com/repos/openstack/devstack/git/commits/061c14da01bb25ff86e0bfdb5e1bed887cb63997,061c14da01bb25ff86e0bfdb5e1bed887cb63997,"ironic: remove notifier_strategy option

This has never exited in Ironic, and it does not even uses notification.

Change-Id: I4a3d386116561d9a22d650f123df1aae5ed9849e"
jd,2014-01-30 14:49:53,https://api.github.com/repos/openstack/devstack/git/commits/19a3814b9a3afc24a77c5c301622661f388475d5,19a3814b9a3afc24a77c5c301622661f388475d5,"glance: stop using deprecated notifier_strategy

Change-Id: Ic796f0ad57db45bf053312ad10815461528030b3"
cybertron,2014-01-30 16:07:23,https://api.github.com/repos/openstack/devstack/git/commits/ec5918f2f6ee54c3384e85866e98b67ef01e1e1e,ec5918f2f6ee54c3384e85866e98b67ef01e1e1e,"Retry rabbitmq password change

Due to the bug referenced below, on Fedora it is possible for
the rabbitmq password change to fail the first time rabbitmq is
started.  This change adds a retry loop to avoid the problem in
devstack.  One retry should be enough in most (all?) cases, but
this will retry up to ten times just to be safe.

Note that just retrying the password change is not enough.  The
rabbitmq-server service must be restarted as well.

Change-Id: I403dcd503aa8e74e2ba6312a0decf0d4fd0d8795
bz: https://bugzilla.redhat.com/show_bug.cgi?id=1059028"
cboylan,2013-11-21 01:00:21,https://api.github.com/repos/openstack/devstack/git/commits/6c57fbab26e40af5c5b19b46fb3da39341f34dab,6c57fbab26e40af5c5b19b46fb3da39341f34dab,"Set keystone admin_bind_host to KEYSTONE_SERVICE_HOST

On Linux ports 32768-61000 can be used by just about
anything needing a socket. Keystone's IANA assigned port is 35357.
Occasionally something else will be using port 35357 first because Linux
allows this. Workaround is to bind to port 127.0.0.1 instead of 0.0.0.0.
$KEYSTONE_SERVICE_HOST gets its value from $SERVICE_HOST which is set to
127.0.0.1 in the gate.

""Ephemeral (client) ports will *never* be sourced from 0.0.0.0, and are
uniquely identified by the full connection five-tuple (proto, src IP,
src port, dst IP, dst port) anyway, allowing them to overlap src IP/src
port as long as proto/dst IP/dst port are different. Thus it is up to
keystone/devstack to bind more appropriately and not use wildcard bind
addresses unless explicitly necessary for some reason. For example, in
the log output, the URLs are configured with dst IPs of 127.0.0.1
anyway, so binding explicitly to localhost would change nothing, while
skirting this particular edge case nicely."" ~Evan Callicoat

This doesn't fix bug 1253482 it works around it while a better solution
is prepared (running keystone behind apache in devstack).

Co-Authored-By: Joe Gordon <joe.gordon0@gmail.com>
Change-Id: I112309661dadf8b753c3311182f82464d9d3595e
Related-bug: #1253482"
dtroyer,2014-01-29 22:22:11,https://api.github.com/repos/openstack/devstack/git/commits/4237f590b7b93117e59f9f777bc70d212969f61a,4237f590b7b93117e59f9f777bc70d212969f61a,"Generate Tempest service list rather than hard-code it

The list of services that Tempest used to set its 'service_available'
config values was hard-coded. To be plugin-friendly have each
service (project) add its name to the TEMPEST_SERVICES variable
and use that for setting the 'service_avilable' values.

Change-Id: I208efd7fd0798b18ac2e6353ee70b773e84a2683"
shalini-khandelwal,2014-01-29 09:48:15,https://api.github.com/repos/openstack/devstack/git/commits/4a0cd374e2911adb33af44fa6643d6323ea523e6,4a0cd374e2911adb33af44fa6643d6323ea523e6,"Renamed file 70-trove to 70-trove.sh

Reason: Devstack not installing trove
        stack.sh ignores the trove installation script(70-trove)

Change-Id: I3f179a6b5ded46e9f96a1c4bcc673ec52fa8bf0e
Closes-Bug: #1274022"
cubeek,2014-01-28 22:01:38,https://api.github.com/repos/openstack/devstack/git/commits/1f76328027bb5cee0b0ea7077f4c59c919f1c4ae,1f76328027bb5cee0b0ea7077f4c59c919f1c4ae,"Stop all neutron-ns-metadata-proxy with stop_neutron

Process name is actually python therefore neutron-ns-metadata-proxy
pattern didn't match wanted process.

Closes-bug: #1269982
Change-Id: Ib4439b0d32f103253b461841fa903c65763ff280"
Frostman,2014-01-28 18:38:06,https://api.github.com/repos/openstack/devstack/git/commits/abb7df152328fd83924070c4c40843847fb6d87a,abb7df152328fd83924070c4c40843847fb6d87a,"Include SAVANNA_CONF_DIR into SAVANNA_CONF_FILE

It's the commom way of using X_CONF_FILE variable.

Change-Id: Ibc284be44ffdd25be3191913c78424cbf06b2bb0"
dtroyer,2014-01-27 19:45:21,https://api.github.com/repos/openstack/devstack/git/commits/fc744f9713fcccfebeb52e35c7fc1ce955b89200,fc744f9713fcccfebeb52e35c7fc1ce955b89200,"Convert trove to plugin

Also adds an is_trove_enabled() function to match
https://review.openstack.org/69497 changes for is_service_enabled().

Change-Id: Ic0408ff6d9816aec8a3506931470470342a5dcd7"
dtroyer,2014-01-27 18:21:52,https://api.github.com/repos/openstack/devstack/git/commits/bb8227ce69b9b040b98dbe339e4f5c02172d19ac,bb8227ce69b9b040b98dbe339e4f5c02172d19ac,"Fix Swift process kill

stop_swift() was not killing all swift processes properly.  Change to
manually clean up all screen services with pkill.

Closes-bug: 1268794
Change-Id: Ibb7a2e0dd10a313609f05963264087f82f6f00e2"
afazekas,2014-01-27 10:44:03,https://api.github.com/repos/openstack/devstack/git/commits/e7b6399d455ea3f44c46448449cc90d55356f23e,e7b6399d455ea3f44c46448449cc90d55356f23e,"Install bc with all distribution

After commit def4c141 the bc is requred for devstack install on minimal
image, commit fbe12f98 fixed the issue with ubuntu, but not with other
distribution.

Adding bc to the files/rpms-suse/general and files/rpms/general.

Change-Id: Ieb2e3e2af454bca03bb3d7565ff731dc357e699f"
afazekas,2014-01-27 08:40:29,https://api.github.com/repos/openstack/devstack/git/commits/315f7b0747effbd490ff3b25d85bc6399ed290a1,315f7b0747effbd490ff3b25d85bc6399ed290a1,"Use service postgresql initdb with el6

postgresql-setup does not exists on el6,
the service postgresql initdb is the documented db init command.

Change-Id: I2b92a3c8e7db603eb13378e46893fc81f507405b"
hichihara,2014-01-27 05:54:02,https://api.github.com/repos/openstack/devstack/git/commits/daa9a734e2fe008a32ed0f98501e2ce2f80167c8,daa9a734e2fe008a32ed0f98501e2ce2f80167c8,"Repeatedly add log_filters,log_outputs to libvirtd.conf when restart

Change-Id: I14f07f3164f9201305ed1e94e9277a5a5792e850
Closes-bug: 1273058"
steveb,2014-01-27 02:21:29,https://api.github.com/repos/openstack/devstack/git/commits/e61bc61a31ba05c9af5d0801d2f120e919e0bd5f,e61bc61a31ba05c9af5d0801d2f120e919e0bd5f,"Use HOST_IP instead of SERVICE_HOST for heat API conf

Heat config values heat_metadata_server_url, heat_waitcondition_server_url and
heat_waitcondition_server_url currently derive their host from devstack
SERVICE_HOST. In gating this is set to 127.0.0.1, which would explain why
nova servers are not reaching heat with waitcondition signalling.

This change uses HOST_IP as the default instead of SERVICE_HOST.

Change-Id: I373b086e3a36a3484cfd34f0d1c8c168ac6d465d"
amotoki,2014-01-26 13:57:47,https://api.github.com/repos/openstack/devstack/git/commits/fbe12f988cd1026b2f074a5b5bfe15ff19171b90,fbe12f988cd1026b2f074a5b5bfe15ff19171b90,"Add 'bc' to files/apts/general

After commit def4c141, ""bc"" command is used in stack.sh,
but 'bc' command is not available in very minimal Ubuntu
installation (without any tasks installed).
We need to add 'bc' to required package list.

Closes-Bug: #1272914
Change-Id: I5797707e8eaa9dd2a21d1a1fc3af028d1951a2ee"
dtroyer,2014-01-10 18:05:51,https://api.github.com/repos/openstack/devstack/git/commits/38e38fb16d5d597e41c486812ae7ba480696b31c,38e38fb16d5d597e41c486812ae7ba480696b31c,"Update samples

* Skip commands for services that are not started in local.sh
* Rename localrc to local.conf

Change-Id: Ida3a8cc836d56db94da4a133fbeb81c7f5fc5f26"
dtroyer,2013-12-17 17:13:40,https://api.github.com/repos/openstack/devstack/git/commits/53ffc713b1d352a9ecf701b452e8e6659daf9748,53ffc713b1d352a9ecf701b452e8e6659daf9748,"clean.sh updates

* Clean out data, log and state dirs
* Include lib/apache to clear is_apache_enabled_service not found error
* Clean errors removing tgt config files

* Clean errors removing VG backing file in lib/cinder

Change-Id: I33dfde17eb8daaaed7f7e76337fe6a8085a266bf"
armando-migliaccio,2014-01-05 15:41:30,https://api.github.com/repos/openstack/devstack/git/commits/db20cd5436ec6301b134f2d92053cb98fb15717b,db20cd5436ec6301b134f2d92053cb98fb15717b,"Add Neutron/NSX plugin sanity check

Supports-blueprint: nvp-third-party-support (aka bp vmware-nsx-third-party)
Related-bug: #1265671

Change-Id: Ifa4e1d36b8735e81f24b8852103a9c433d736e84"
j-griffith,2014-01-23 01:09:32,https://api.github.com/repos/openstack/devstack/git/commits/dc4dc7f03335e26ea3d86b6184f0475cc5f3d51b,dc4dc7f03335e26ea3d86b6184f0475cc5f3d51b,"Fix up tempest conf settings

The tempest api.volume.test_volume_types test won't
work with non-default drivers configured for cinder's backend
any more.  The reason is that we create a type using capability
scheduler keywords in the extra-specs for the test;
(vendor_name and storage_protocol).  The result is the extra-spec
uses the filters: ""vendor_name=Open Source"" and
""storage_protocol=iSCSI"", but for example if you have another backend
say SolidFire, EMC, NetApp, IBM etc the capabilities filter will fail
the create with a ""No valid host available"".

This is intended to work by simply setting these values in your
tempest.conf file.  That's fine, however upon setting this up
in my localrc I found that the tempest config variables being
set via devtsack were never picked up

Currently devstack doesn't use the same variable names for
configuration variables as tempest expects. Devstack is using
the variable ""TEMPEST_CONF"" however the Tempest project is
expecting the variable ""TEMPEST_CONFIG"", so currently the
devstack lib/tempest rc variables are never picked up by
tempest properly.

This change modifes devstack's naming of TEMPEST_CONF, my though
being that since this doesn't work in devstack currently
that changing it here would be better than changing it in Tempest
where it's possible people had their own custoizations already
outside of devstack.

In addition this change creates rc variables in devstack to actually
set these via devstack.  The idea here is that Cinder 3'rd party testing
needs to be a simple devstack config and run stack.sh.  By fixing up
the configuration file variable naming and adding the variables for
the vendor and protocol settings that's now possible.

An example localrc for a custom config is shown below.  The example
sets the tempest config file to /etc/tempest/tempest.conf, and
configures tempest to use the SolidFire driver as the cinder backend.

TEMPEST_VOLUME_VENDOR ==> tempest.conf.volume_vendor
TEMPEST_STORAGE_PROTOCOL ==> tempest.conf.storage_protocol

relevant example localrc entries:
  TEMPEST_CONFIG=/etc/tempest/tempest.conf
  TEMPEST_CONFIG_DIR=/etc/tempest
  TEMPEST_VOLUME_DRIVER=solidfire
  TEMPEST_VOLUME_VENDOR=""SolidFire Inc""

***NOTE***
storage_protocol and vendor_name MUST match what the backend device reports from
get capabilities.

Change-Id: I28dfa90c877b27f5d4919f2748fae092bb2f87fa
Closes-Bug: 1271781"
arnaudleg,2014-01-24 01:12:21,https://api.github.com/repos/openstack/devstack/git/commits/b93cd643432d3633c48bec02fcd7cb4f354f67ed,b93cd643432d3633c48bec02fcd7cb4f354f67ed,"upload_image.sh should parse filenames correctly

The upload_image script gives the ability to the user to provide
specific metadata using the filename:
file-adapter_type;disk_type;network_type.vmdk
Currently, the regex expects each of these types to be populated.
This patch fixes this issue by making the regex more flexible and
accepts only one of these metadata to be populated.

Change-Id: If74cb06cc640864e7e91fd88943cdb37e05935d6
Closes-Bug: #1272126"
russellb,2014-01-23 17:41:18,https://api.github.com/repos/openstack/devstack/git/commits/bdeadf59d4273515df0f47edb820ff159bbc5380,bdeadf59d4273515df0f47edb820ff159bbc5380,"Add pidstat support

pidstat is a script that comes from sysstat, but will give us
per-process information.  Allow enabling ""pidstat"" that will run pidstat
to give info every 5 seconds by default.

Change-Id: I5ec7d5abce81125b55985bba3ccaf8073ccdfa2a"
flaper87,2014-01-23 12:48:16,https://api.github.com/repos/openstack/devstack/git/commits/c3e5b77b45068ed07e53fdda1276f5c863de5973,c3e5b77b45068ed07e53fdda1276f5c863de5973,"Add missing file argument to iniset_multiline

Change Id9aab356b36b2150312324a0349d120bbbbd4e63 introduced a call to
iniset_multiline to enable swift stores explicitly. However, the call
has a missing file argument which resulted in this call setting the
values to the wrong file, section and param. This patch fixes that.

Change-Id: Ib17048e05c467bc8ca2c13fe4297d6bac6c8a880"
dtroyer,2014-01-23 17:32:22,https://api.github.com/repos/openstack/devstack/git/commits/579af5d6786f62008807a473749600e88cea21fc,579af5d6786f62008807a473749600e88cea21fc,"Kill process groups in screen_stop()

Previously only the top child process was killed, killing the process
group also takes all of the child processes with it.

Closes-bug: 1271889
Change-Id: If1864cc4f1944f417ea3473d81d8b6e8e40030c2"
Frostman,2014-01-23 10:18:54,https://api.github.com/repos/openstack/devstack/git/commits/fe42255bfac23a74890c2c7d8cfef385428cef32,fe42255bfac23a74890c2c7d8cfef385428cef32,"Use savanna-db-manage to init db for Savanna

It uses alembic migrations to initialize database.

Change-Id: I6cf01f69c6bc7c9e403040607dd397cfc3b574a4"
Frostman,2014-01-23 11:01:50,https://api.github.com/repos/openstack/devstack/git/commits/55c468c422ae7bc48f46847d6fa21e53d4673259,55c468c422ae7bc48f46847d6fa21e53d4673259,"Use DATABASE/connection opt for db url in Savanna

DATABASE/sql_connection opt is now deprecated.

Change-Id: I58058f0d51e16de53e6472c8c01065438d709edc"
masayukig,2014-01-21 02:18:11,https://api.github.com/repos/openstack/devstack/git/commits/ab491bcc88acd83e9fa21de1d4a3fe60bfba577a,ab491bcc88acd83e9fa21de1d4a3fe60bfba577a,"Add get-pip.py/*.qcow2 to .gitignore

files/get-pip.py and *.qcow2 are installed by DevStack itself. So
we shouldn't manage it with the git repository.

Change-Id: Ib22ed814d3d3eb33ef3ff45874b0ff36b2036cf5"
toshiiw,2014-01-23 03:02:34,https://api.github.com/repos/openstack/devstack/git/commits/0b8f6e0fbba961de04d95ff0e06e515d1ea3ea8b,0b8f6e0fbba961de04d95ff0e06e515d1ea3ea8b,"Make sure not to revert local changes.

""git diff --quiet"" has a bug ignoring local changes if there's a
unchanged file with a newer timestamp.  This patch works around
the bug.

Change-Id: I0ddc24e0f7af21287c43c1e04dd166ebff6f2dca
Closes-Bug: 1264422"
brantlk,2014-01-23 01:06:44,https://api.github.com/repos/openstack/devstack/git/commits/4968d1ad5d8d6b0537c68548eb5f8c08bc33f63a,4968d1ad5d8d6b0537c68548eb5f8c08bc33f63a,"Keystone use common logging setup

The Keystone setup was using logging.conf to configure logging,
unlike other projects. This may have been left over from before
Keystone switched to oslo logging.

Switching to common logging configuration allows:
- Common format for logs for easier parsing
- Pretty colorized logs
- Keystone can control the default logging levels for libraries
  that are used by setting the defaults in keystone.
- Potentially using a function to setup logging for all components
  using oslo-logging (e.g., share with lib/nova).

Change-Id: I4e9b1e6cffce30f16a1e039224312852b8abda07
Closes-Bug: #1271775
Closes-Bug: #1269987"
zqfan,2014-01-22 14:56:59,https://api.github.com/repos/openstack/devstack/git/commits/1b6ba540887ab73432488f5d81339227052c423c,1b6ba540887ab73432488f5d81339227052c423c,"Remove unnecessary slash from ceilometer endpoint

The last slash in ceilometer endpoint is not needed, it should be
removed because it will generate redundant slash which has been
treated as a bug in ceilometer.

Change-Id: Ifcff9b63921f5b1dda667d8e77aab22ca2928a8b
Closes-Bug: #1271556
ref: https://review.openstack.org/#/c/63279/"
cubeek,2014-01-20 17:18:58,https://api.github.com/repos/openstack/devstack/git/commits/cf903938eceb0188c9ecd405e6c89b63b1c8910d,cf903938eceb0188c9ecd405e6c89b63b1c8910d,"Added missing sudo when killing ns-metadata

Closes-bug: #1269982
Change-Id: Ib6b641a8d5c92fb4a8aaed6b5d7b63e66acd6bd9"
steveb,2014-01-18 22:05:08,https://api.github.com/repos/openstack/devstack/git/commits/9acb965e572d672f1d5632ee92768b4708b03fbd,9acb965e572d672f1d5632ee92768b4708b03fbd,"Do not set bind_host for heat APIs

This results in the APIs binding to 0.0.0.0
which is what other devstack services bind to anyway.

Change-Id: Ic229dbed02b224fe7c5e14f20998bb5d5987aa39
Closes-Bug: #1172991"
infraredgirl,2014-01-06 20:46:35,https://api.github.com/repos/openstack/devstack/git/commits/39d500335ad2bff0ffdf1d543d0d7528b3812480,39d500335ad2bff0ffdf1d543d0d7528b3812480,"Add missing mongodb client package on Fedora

On Fedora, when ceilometer is enabled and mongodb is used as backend,
devstack installation would fail due to missing mongodb client package.
This patch ensures the package gets installed.

Change-Id: I981bb55f86541e5ff19c52160269a7789b94423f"
brantlk,2014-01-17 00:16:48,https://api.github.com/repos/openstack/devstack/git/commits/0049c0c434b4672963b6622486c6c638259bdfda,0049c0c434b4672963b6622486c6c638259bdfda,"Make unstack.sh more like stack.sh

unstack.sh and stack.sh both have to ""configure projects"", but the
code was different. This change makes it so the 2 sections of the
files are the same.

Change-Id: Ia06f8bbfbe2a6e87fb406e34e13a39bd7fa9e5af"
j-griffith,2014-01-15 18:24:03,https://api.github.com/repos/openstack/devstack/git/commits/fe4c4f7a9e6d1a4f26c67b8e1609fc5e80c5ef83,fe4c4f7a9e6d1a4f26c67b8e1609fc5e80c5ef83,"Update cinder cert script to use run_tempest

Changes to tempest run_tests.sh
(commit: 17520e49a7e69b3817856a739121a1fb2906f2cc)
breaks the cinder_driver_cert script. A backward
compatible run_tempest.sh script was added,
so for now we should update the cinder_driver_cert
script to use that

Change-Id: I611a01dd4788ae01da8a6167a530f9e44733dfc6
Closes-Bug: #1269531"
jogo,2014-01-15 21:43:25,https://api.github.com/repos/openstack/devstack/git/commits/14daa57d67fed6dc98b833f4c3698fef8ff7f312,14daa57d67fed6dc98b833f4c3698fef8ff7f312,"Remove old DEFAULT.root_helper setting

root_helper is now under the agent group and not DEFAULT

Change-Id: I11867f7ceff1f3b8b0bc2ef8aa508b6ecee653fc"
jogo,2014-01-15 21:42:32,https://api.github.com/repos/openstack/devstack/git/commits/2394605a635c86c9a90f683f1f3a3ee718d17d5f,2394605a635c86c9a90f683f1f3a3ee718d17d5f,"Typo: funstions=>functions

Change-Id: I59caf62b049d09450ce3236648cf1ede2f48e7f5"
sdake,2014-01-15 17:56:51,https://api.github.com/repos/openstack/devstack/git/commits/d5a5460888869eb22cc6f2622c3adbf492680971,d5a5460888869eb22cc6f2622c3adbf492680971,"Revert ""Change the libvirtd log level to DEBUG""

Suggested by Daniel Berrange in this thread:
http://lists.openstack.org/pipermail/openstack-dev/2014-January/024407.html

This reverts commit 3bd85c9d6e257fc952cb3c6d0c09e199685bd5ed.

Change-Id: I370ba61cf8a00b51684cd504fed4ba4078d868be"
yamt,2014-01-10 07:39:32,https://api.github.com/repos/openstack/devstack/git/commits/b4a215cce2c649ce811893f5e57b7ee6c55158e8,b4a215cce2c649ce811893f5e57b7ee6c55158e8,"Sanitize language settings

To avoid commands bailing out with ""unsupported locale setting"" errors.

Change-Id: I54ae4cd84a0a4b4875533181b1d96563a1604775"
cubeek,2014-01-14 17:52:51,https://api.github.com/repos/openstack/devstack/git/commits/52a7b6ecbad11c08dcd77a6fcd8bfef6a20324a9,52a7b6ecbad11c08dcd77a6fcd8bfef6a20324a9,"Run neutron-debug with admin tenant in neutron-adv-test

Because neutron-debug create-probe needs admin role only, demo tenants
cannot create ports. neutron-debug is wrapped in order to run it only
with admin tenant.

Change-Id: Ib65e8639858c597345c6a5fdc0192b40f34a0300
Closes-Bug: #1269090"
armando-migliaccio,2014-01-03 00:33:53,https://api.github.com/repos/openstack/devstack/git/commits/ef1e08022b9553b07757005e7a5103fbdc0d99f0,ef1e08022b9553b07757005e7a5103fbdc0d99f0,"Add sanity check framework to verify neutron server/backend integration

Some Neutron plugins require controllers and multiple backend services
to operate correctly. This patch adds the framework for third party
plugins to run sanity checks after Neutron Server has started.

This simple addition may reveal potential configuration pitfalls
much earlier in the dev/test cycle, thus speeding up the build
churn process.

The first plugin that uses this framework is the VMware NSX one.

Closes-bug: #1265671

Change-Id: I17f9c5c8e828316ff03f0eff42ae4ae6c6c58733"
umago,2014-01-14 11:37:51,https://api.github.com/repos/openstack/devstack/git/commits/279295c72c4e7028fc6eac75412b9b5f92cd630b,279295c72c4e7028fc6eac75412b9b5f92cd630b,"Fix duplicated rootwrap.d in lib/ironic

The Ironic setup of devstack is duplicating the rootwrap.d directory at
/etc/ironic/rootwrap.d/rootwrap.d, this will cause the ironic-rootwrap
command to fail to execute. This patch is removing the duplicated
rootwrap.d directory.

Change-Id: I24844c24620b5b33ad1a6acd0d872e9df11d6d89
Closes-Bug: #1268930"
dtroyer,2014-01-13 17:22:41,https://api.github.com/repos/openstack/devstack/git/commits/d2bcbea5f95377043b0dcdba330501d7b81a4561,d2bcbea5f95377043b0dcdba330501d7b81a4561,"Updates for tools/info.sh

* Handle local.conf localrc section
* remove blank lines
* rather than removing password lines, just remove the password itself to at
  least show which password vars have been set

Change-Id: Ieca9baaf03e53b23e336944ad0ed2581c9bee460"
malini-kamalambal,2014-01-08 14:54:13,https://api.github.com/repos/openstack/devstack/git/commits/38d1f2339a88c389e4be44fc00e59f25a62fec14,38d1f2339a88c389e4be44fc00e59f25a62fec14,"Add Marconi to Tempest config

This patch adds queuing to tempest config, provided queuing is
available in devstack.

Change-Id: I2925a07d312c1f8ab2fe465f74f0bef9299eef40
Implements: blueprint add-basic-marconi-tests"
dtroyer,2013-05-22 22:19:06,https://api.github.com/repos/openstack/devstack/git/commits/9fc8792b0ac7525b4c353b0a55b8b80eabf76e2a,9fc8792b0ac7525b4c353b0a55b8b80eabf76e2a,"Robustify service shutdown

* Save PID when using screen in screen_it()
* Add screen_stop()
* Call out service stop_*() in unstack.sh functions so screen_stop()
  can do its thing

Closes-bug: 1183449
Change-Id: Iac84231cfda960c4197de5b6e8ba6eb19225169a"
ttx,2014-01-10 13:23:03,https://api.github.com/repos/openstack/devstack/git/commits/63e1784354a49ca45bb4ae9465d2cb6dfb31db12,63e1784354a49ca45bb4ae9465d2cb6dfb31db12,"Put cinder rootwrap config in separate function

Separate out Cinder's rootwrap configuration so that it can be called
from Grenade's upgrade scripts. This follows the same model as Nova uses
with configure_nova_rootwrap() which can be called from Grenade to
refresh rootwrap config.

Change-Id: Id808abc2b5754443362b3de4b3453e305d3720f3"
dirkmueller,2014-01-10 10:51:01,https://api.github.com/repos/openstack/devstack/git/commits/1b0eccdf75cf70a26c1b2ae6b9beaa75ebaf7a6a,1b0eccdf75cf70a26c1b2ae6b9beaa75ebaf7a6a,"Fix Heat/Cloud formation catalog template

Cloud formation and Heat API ports where mixed.

Change-Id: I029592c4821bb93c8a1dd91519f30908efd56627
Closes-Bug: #1267355"
alobbs,2013-12-22 16:03:47,https://api.github.com/repos/openstack/devstack/git/commits/d7f6090f29786f091773497bc3597142d94619ec,d7f6090f29786f091773497bc3597142d94619ec,"Add support for Fedora 20

The list of RPM packages have been updated to support the recently
released Fedora 20 distribution.

Closes-Bug: #1263291

Co-Authored: Alvaro Lopez Ortega <alvaro@gnu.org>
Change-Id: Ia66abef1a1a54e6d5ee6eebc12908cef3f1d211d"
dirkmueller,2014-01-09 12:27:35,https://api.github.com/repos/openstack/devstack/git/commits/fa5ccfff1098bb85eb7810ad5146fbdfee83fb15,fa5ccfff1098bb85eb7810ad5146fbdfee83fb15,"Setup Keystone catalog information for Ceilometer

Change-Id: I3f536f38fe7862ee41b06d1d48b848cc07492c8d
Closes-Bug: #1267322"
amotoki,2014-01-09 12:57:22,https://api.github.com/repos/openstack/devstack/git/commits/72dc98ed6bcdaa1cdd81c1b655b5cbdf5490291d,72dc98ed6bcdaa1cdd81c1b655b5cbdf5490291d,"Correct Qpid package name in files/apts/neutron

Ubuntu qpid server package is named as ""qpidd"", but
files/apts/neutron has an entry ""qpid"".

Change-Id: Ie3f8391a7404bdeb222acfcce77ca80a14ea8693
Closes-Bug: #1267459"
dirkmueller,2014-01-09 12:53:52,https://api.github.com/repos/openstack/devstack/git/commits/25049cd23de0e8055326c668ff119dd8cdf0bae4,25049cd23de0e8055326c668ff119dd8cdf0bae4,"Use --tenant-id, not --tenant_id

Change-Id: I0e3d65d5b69ac82cbf7ee6ffc41ead369af8c126"
jogo,2013-09-09 21:22:07,https://api.github.com/repos/openstack/devstack/git/commits/96f8e34c38f172689f09842761dd20600a60fc5a,96f8e34c38f172689f09842761dd20600a60fc5a,"Enable multi-threaded nova-conductor

Just like I09f4c6f57e71982b8c7fc92645b3ebec12ff1348, enable
multi-threaded nova-conductor.  This feature was merged into nova in
I8698997d211d7617ee14a1c6113056a694d70620.

Change-Id: Id7042284e81bd64092a400d24a3170ce07beb08c"
kaitersgonnakait,2014-01-06 13:52:49,https://api.github.com/repos/openstack/devstack/git/commits/def4c141f1d917705ac1dbdbfe7525f47382dada,def4c141f1d917705ac1dbdbfe7525f47382dada,"Adds default value for fixed_key

Adds a default value for fixed_key, for use by a key manager
implementation that reads the key from the configuration settings.
This single, fixed key proffers no protection if the key is
compromised.  The current implementation of the key manager does
not work correctly if the key is not set, so including this option
is helpful for Tempest testing and volume encryption within
DevStack.

Implements: blueprint encrypt-cinder-volumes
Change-Id: Id83060afc862c793b79b5429355b213cb4c173fd
https://blueprints.launchpad.net/nova/+spec/encrypt-cinder-volumes"
SlickNik,2014-01-03 21:53:14,https://api.github.com/repos/openstack/devstack/git/commits/74103f2b3ffd047a4582ae9d37a057534cb6cce7,74103f2b3ffd047a4582ae9d37a057534cb6cce7,"Handle trove service availabilty in tempest.

Partially implements blueprint: trove-tempest
Change-Id: I5413a7afeffe670f6972b41d61dd27ed05da5ba2"
armando-migliaccio,2014-01-05 15:59:06,https://api.github.com/repos/openstack/devstack/git/commits/05952e3fcc6bdd9ccd1c7980e6a73c527711c08c,05952e3fcc6bdd9ccd1c7980e6a73c527711c08c,"Configuration changes required to support VMware NSX plugin

(Formerly known as Nicira NVP plugin).

Following Neutron change 79fbeb7ebebc0dfbe143aee96fbc250d1b9e7582,
this patch introduces the new naming scheme for Neutron VMware NSX
plugin configuration.

Related-blueprint: nvp-third-part-support (aka bp vmware-nsx-third-party)
Partial-implements blueprint: nicira-plugin-renaming

Change-Id: If7790887661507bfdec6d2b97c0f99609039aa73"
ttx,2014-01-02 14:05:41,https://api.github.com/repos/openstack/devstack/git/commits/0915e0c6bd9d9d370fbf05963704690580af62ec,0915e0c6bd9d9d370fbf05963704690580af62ec,"Add oslo.rootwrap to devstack gate

oslo.rootwrap recently graduated but was not made part of the
devstack-gate. This change is part of a series of changes affecting
devstack-gate, config and devstack which will collectively fix this:

https://review.openstack.org/#/q/status:open+topic:rootwrap-gate,n,z

This should probably be merged once the config and devstack-gate changes
are in, so that it can be self-testing.

Change-Id: I7b1332c8004845a0dd76e27d871370d41d4524ac"
cybertron,2013-12-12 19:26:12,https://api.github.com/repos/openstack/devstack/git/commits/3ee52c81a12f1b823c1bc22e39d9f09a8d8b2ca8,3ee52c81a12f1b823c1bc22e39d9f09a8d8b2ca8,"Ensure hostname resolves correctly

rabbitmq hangs on startup if the unqualified hostname for the
system doesn't resolve properly.  This change ensures that the
hostname is added to /etc/hosts so that will never happen with
devstack.

Change-Id: I2c250f38f9feb18d1a59f3a457c6d01c1d98499c"
hub-cap,2013-12-28 03:42:07,https://api.github.com/repos/openstack/devstack/git/commits/0f9a1b058423b293935b414b2035713d8ead3e71,0f9a1b058423b293935b414b2035713d8ead3e71,"Migrating trove to entry points

partially implements blueprint entrypoints-for-binscripts

Change-Id: Iaafde0ab7f27598d566fc008fba7eddc582139c9"
cybertron,2013-12-20 19:51:04,https://api.github.com/repos/openstack/devstack/git/commits/e4b85590037974b04487be5b4e23166a8a35d9dc,e4b85590037974b04487be5b4e23166a8a35d9dc,"Set default_network in tempest.conf

This is to support testing of change
Ia78582cac3790653c2281a5b63d953cd46d5c290 in Tempest.

Change-Id: Ibb812e2598fb11b7eef21a0868ee9baeea73186c"
BobBall,2013-12-23 17:23:47,https://api.github.com/repos/openstack/devstack/git/commits/60fcfb5c91063bb71252b7077a363092d8bebe2b,60fcfb5c91063bb71252b7077a363092d8bebe2b,"XenAPI: Fix bug with Xen ext4-using guests

Ubuntu saucy is using ext4, which means it hits a barrier
bug with certain versions of Xen, leading to a read only
filesystem.

This is bug https://bugs.launchpad.net/ubuntu/+source/linux/+bug/824089

Change-Id: I9a72b203d473dc555324d44ad7c240c80dccda15"
salv-orlando,2013-12-22 15:59:37,https://api.github.com/repos/openstack/devstack/git/commits/6fbb28d021d168271bb2a0643059e8c65c8ce74b,6fbb28d021d168271bb2a0643059e8c65c8ce74b,"Neutron: create network resources when agents are started

Creating network resources before the agents start with the ml2
plugin might result in bnding failures for some resources such as
DHCP ports because the resources are created before the agents
report to the server.

This patch should ensure all agents have started and reported
their state to the server before creating network resources.

Change-Id: Ifafb73bd3c5409a555a573ad9a94b96d79061c38
Related-Bug: #1253896"
chmouel,2013-12-21 09:19:09,https://api.github.com/repos/openstack/devstack/git/commits/63d9f3e550e0918ae59ed76bd5cf0fe6ef15353b,63d9f3e550e0918ae59ed76bd5cf0fe6ef15353b,"Fix bad copy and paste in lib/swift

Change-Id: I3b7526b52867525b1d7aa634aa8163c520a92f97"
flaper87,2013-11-29 13:27:35,https://api.github.com/repos/openstack/devstack/git/commits/355fc866833e0bd83796da1c45e4f94b58d5f500,355fc866833e0bd83796da1c45e4f94b58d5f500,"Explicily enable the stores used by devstack

Devstack currently relies on the default value of the `known_stores`
configuration option. This patch enables explicitly the default stores
used by devstack.

The real fix for the issue below will land in Glance. However, since the
default stores will be FS and HTTP we need devstack to enable Swift's as
well, which is required in the gates, hence this patch.

Partially-fixes: #1255556
Change-Id: Id9aab356b36b2150312324a0349d120bbbbd4e63"
steveb,2013-12-19 19:39:12,https://api.github.com/repos/openstack/devstack/git/commits/af72b68ab0bb69178084d27374a3ec96ced40e98,af72b68ab0bb69178084d27374a3ec96ced40e98,"Use final release of Fedora 20 for heat test image

The image file has not changed, but the URL now points to
the release directory for Fedora 20.

Change-Id: Ie1a9bcc7da634996b25ef7f6fc694398c632549d"
BobBall,2013-12-18 13:20:40,https://api.github.com/repos/openstack/devstack/git/commits/cff1c7d3700278263da1a6f0daa381e97df15f28,cff1c7d3700278263da1a6f0daa381e97df15f28,"HEAT_FETCHED_TEST_IMAGE may not be defined in some cases.

Some scripts that source stackrc use set -u, which will error
when unknown variables are accessed

Change-Id: I5af2d58475e1793dfa728b7ce9180fcbba1145e9"
ianw,2013-12-17 05:26:21,https://api.github.com/repos/openstack/devstack/git/commits/be2ff9a745c46bd6627b68d9b6fbdbb724f3854d,be2ff9a745c46bd6627b68d9b6fbdbb724f3854d,"Match RHEL Beta release strings

RHEL7 (in beta) has ""Beta"" after the release number and before the
code-name.  Add a number-match to the regex so everything between that
match and the codename in parenthesis is considered the release.

Change-Id: I992f20eedcefc6aeed6bd3ad57fc4cf20c8ef15d"
armando-migliaccio,2013-12-13 18:15:34,https://api.github.com/repos/openstack/devstack/git/commits/1692bda49264e35757c0f2f8d9264681256657b6,1692bda49264e35757c0f2f8d9264681256657b6,"Add ability to configure tempest tests based on network extensions

This patch introduces a Devstack variable to specify which network
extensions are enabled; this is useful for configuring tempest runs
when third-party plugins that do not support certain extensions.

Closes-bug: #1247778
Closes-bug: #1231152

Change-Id: Iee170993cb164502774f9ac4201b963d9a2715ba"
amotoki,2013-12-09 11:21:06,https://api.github.com/repos/openstack/devstack/git/commits/edddb1fddf6b571286d85057abe8aa1cd21e67a6,edddb1fddf6b571286d85057abe8aa1cd21e67a6,"Stop Neutron advanced service external processes

Some of Neutron advanced services (LBaaS, VPNaaS, ....) creates
external processes and they should be stopped in unstack.
This commit defines neutron_<XaaS>_stop functions for all services
and implements the cleanup logics if necessary.

Also cleanup_neutron removes netns used by LBaaS haproxy.

Change-Id: Ied3a2c374ffcb6b59ecaf1027fb6e6083eded2ae"
steveb,2013-12-15 22:04:03,https://api.github.com/repos/openstack/devstack/git/commits/8c1b95eef119837428993d32a05f97a231f44b9e,8c1b95eef119837428993d32a05f97a231f44b9e,"Add Fedora 20 to IMAGE_URLS

Fedora 20 is only added to IMAGE_URLS if
$HEAT_FETCHED_TEST_IMAGE contains the exact known image name

This image is used for running heat tempest tests which require
an image which has heat-cfntools installed.

Change-Id: Ic6cdea932a5d5f3de138da96d27e407775b3e84b"
salv-orlando,2013-11-25 13:44:10,https://api.github.com/repos/openstack/devstack/git/commits/90234ac4b03426d844b72d251d4cae13fa09cde5,90234ac4b03426d844b72d251d4cae13fa09cde5,"Default to /24 prefix for floating IP range with neutron

When running Tempest parallel tests with neutron, several long-running
tests might create routers and floating IPs, which will result in
IP allocations over the public network.

Increasing the public network size should ensure tests do not fail
due to IP address shortage; this patch also updates the public network
gateway IP address.

Related-Bug: 1253966

Change-Id: Ie075b3c4d14a07b06c42fd29b09770dd1972aa45"
brantlk,2013-12-13 19:51:25,https://api.github.com/repos/openstack/devstack/git/commits/055cdee2bf4582e39fa91b96de745783850f082d,055cdee2bf4582e39fa91b96de745783850f082d,"Remove duplicate debug option from keystone-all

The keystone server was started with the options like

 keystone-all ... -d --debug ...

The -d and --debug options are the same so one of them is
redundant.

This will make it less confusing if someone removes --debug and
thinks that debug is off, but debug is still on because they
didn't notice there was an extra -d.

Change-Id: I1ac977e6b12f1cc44f02b636c1bfb5c115b5b3e4"
malini-kamalambal,2013-12-13 17:42:31,https://api.github.com/repos/openstack/devstack/git/commits/0f7ad6bba6fe451c69cdc27fadfbb8ed8fdc7b71,0f7ad6bba6fe451c69cdc27fadfbb8ed8fdc7b71,"Fix Issues in Marconi integration

This patch fixes a couple of issues, that prevents marconi from running
on devstack.

Change-Id: I47060a0334ad6f90f1402b34c83bb6ad22f723d4
Closes-Bug: #1260820"
ttx,2013-12-13 14:20:26,https://api.github.com/repos/openstack/devstack/git/commits/0718568b1203bd11058d3cd28402f84841c01dda,0718568b1203bd11058d3cd28402f84841c01dda,"Support oslo-rootwrap in lib/cinder

Make lib/cinder support both cinder-rootwrap (current case) and
oslo-rootwrap (future case) to handle the Cinder transition towards
oslo-rootwrap usage peacefully.

Related blueprint:
https://blueprints.launchpad.net/cinder/+spec/cinder-oslo-rootwrap

Change-Id: I663986304bd74cb6d72d51c553540fb5f9db1d1d"
afrittoli,2013-12-05 08:09:12,https://api.github.com/repos/openstack/devstack/git/commits/cd7d956fbc30eae3c1694b187ea605a5f0d960d3,cd7d956fbc30eae3c1694b187ea605a5f0d960d3,"Handle the case of pipe char in value for iniset

iniset did not handle the case of ""|"" in the value
to be injected. Fix this by replacing | with \000 (NULL).

Fixes bug #1258050

Change-Id: I8882c2f3f177ebdfa0c66270dbbc7fd50f30b065"
steveb,2013-12-04 04:01:01,https://api.github.com/repos/openstack/devstack/git/commits/0c5a04267458271fb1010cc7dad4226bec7238e7,0c5a04267458271fb1010cc7dad4226bec7238e7,"Allow heat tests to use already uploaded test image

If $HEAT_FETCHED_TEST_IMAGE is set then tempest is configured to
use the image named $HEAT_FETCHED_TEST_IMAGE for any orchestration
tests which require an image.

Fallback to checking $HEAT_CREATE_TEST_IMAGE and invoking
diskimage-builder if necessary.

The intent is to use Fedora 20 as the test image for gating
since this image has heat-cfntools already installed.

Change-Id: I177ae091a641ba99fd4c618e30a39c5148ae617f"
armando-migliaccio,2013-12-10 15:41:26,https://api.github.com/repos/openstack/devstack/git/commits/19a47a49a98931ab311fe22ec78ffa4900013b2c,19a47a49a98931ab311fe22ec78ffa4900013b2c,"Neutron/NVP plugin: fix 'ip link' usage

Closes-bug: #1258141

Change-Id: Id26eca6c3174a108d1822440956ab7f66cc3ebd3"
matthewoliver,2013-12-09 04:40:22,https://api.github.com/repos/openstack/devstack/git/commits/0a85df9e41593c692db7f65a59779e4abbd7a7fc,0a85df9e41593c692db7f65a59779e4abbd7a7fc,"Added keystone auth port to the nova config

Added the $KEYSTONE_AUTH_PORT to the keystone_authtoken
section of the create_nova_conf function.
This is required as without it nova doesn't communicate
to the keystone server. Generating an ""Unauthorised (HTTP 401)""
page when acceesing /admin/.

Change-Id: Ibf4d9d1c21081a1e3de4ea765f4db6de5fbdb237"
dtroyer,2013-12-04 23:20:28,https://api.github.com/repos/openstack/devstack/git/commits/2ac8b3f3c2ebe586802d7789cf152b13fe0d0497,2ac8b3f3c2ebe586802d7789cf152b13fe0d0497,"Fix a couple of INI whitespace bugs

* iniset() bails if no section or option (attribute) is supplied
* merge_config_file() properly skips lines with only whitespace

* Also split the ini-tests into their own script

Bug 1257954

Change-Id: Ie31c5bd0df8dfed129fbcf1e37228aaf25e9305d"
BobBall,2013-12-03 17:35:02,https://api.github.com/repos/openstack/devstack/git/commits/57bf097e5a10e16b7d0cf5bf6c48bc86d78a1553,57bf097e5a10e16b7d0cf5bf6c48bc86d78a1553,"XenAPI:  Increase DomU's memory

Devstack has been increasing in complexity, and if we use too
much of our memory it can lead to fragmentation which in turn
causes a DomU error and a failure of random tests.

Change-Id: Ide9cc84625caed4e35a64a47ee1e92a6cd567651"
djoreilly,2013-12-09 13:16:16,https://api.github.com/repos/openstack/devstack/git/commits/bf36e8e4cf89a9de75746ce3e2ae1c98c3948993,bf36e8e4cf89a9de75746ce3e2ae1c98c3948993,"Make rejoin-stack.sh resume file logging if enabled

This patch ensures that screen will resume logging to files
after rejoin-stack.sh when SCREEN_LOGDIR is set.

Change-Id: I4c3eae0df7755b700dd8acf4bf14b7e383372ca3
Closes-bug: 1192568"
mriedem,2013-12-07 21:53:33,https://api.github.com/repos/openstack/devstack/git/commits/7103a84e3900502648e81bd4313b777f2da63f92,7103a84e3900502648e81bd4313b777f2da63f92,"Workaround Cinder ""wishlist"" bug 1255593 for multi-backend volume_clear

Cinder currently only applies the volume_clear setting from the DEFAULT
section of cinder.conf if you're using a single backend.

The Cinder team has determined this is a 'wishlist' item to propagate
volume_clear to each backend, but it does impact usability and
performance.

To improve the performance of running Tempest with multi-backends in the
gate, workaround the bug in devstack.

Related-Bug: #1255593

Change-Id: Ia0ff5422f53eeda9a3ac4336eefec3b9bdea6da2"
gorozco1,2013-11-29 23:53:32,https://api.github.com/repos/openstack/devstack/git/commits/485dd811f6da244c794171362c8ae59d2e6f2d38,485dd811f6da244c794171362c8ae59d2e6f2d38,"Adds python2 to general packages to be installed

devstack works only for python2 python3 will break the install.
This commit adds python2 to the general dependencies of ubuntu

Change-Id: I7721ff85a63f635ff798407a5ee1d6766405c683
Closes-Bug: #1188215"
Frostman,2013-12-04 14:03:25,https://api.github.com/repos/openstack/devstack/git/commits/0c08e7b2b978b71fbb25cea6a9949cea0081db5c,0c08e7b2b978b71fbb25cea6a9949cea0081db5c,"Setup user and endpoints for Savanna

* create savanna user with admin role for auth token checks
* create service data_processing
* create savanna endpoint
* use savanna user for auth token checks

It's needed for running tempest tests.

Change-Id: Iff26960746e36012c275f43c0de0dedcaebc8b0a"
dtroyer,2013-11-22 17:30:44,https://api.github.com/repos/openstack/devstack/git/commits/526b79f98825963c5fbb157bca5a54750bd045af,526b79f98825963c5fbb157bca5a54750bd045af,"Eradicate last of underscores in options

The --ip_range in stack.sh remains due to nova-manage needing to be fixed.

(Rebased 05Dec2013)

Change-Id: Ic0f93d41b6edfdc5deb82ae820e2c0c5a8bce24e"
sbauza,2013-12-05 13:56:14,https://api.github.com/repos/openstack/devstack/git/commits/a49422e33ec08c2e8391168dd71689674ad8fc7c,a49422e33ec08c2e8391168dd71689674ad8fc7c,"Fix install_get_pip in order to work behind a proxy

Proxy envvars are not passed to pip when sudo, we need to export
them.

Change-Id: I67622f5ea8ecb948006e032bdc395ecf36914146
Closes-Bug: #1258155"
BobBall,2013-12-04 23:13:57,https://api.github.com/repos/openstack/devstack/git/commits/9a48a351fbb3cadb02cf0162d2bc66054cb6def1,9a48a351fbb3cadb02cf0162d2bc66054cb6def1,"XenAPI: Update DomU to Ubuntu Saucy

Driven by a race condition in LVM being hit in the tempest
tests.  This is a locking race between a file lock and a
semaphore which is fixed in 2.02.96-5.

Change-Id: I8a8c215c90a0602288292ffd06b7694d2db6219e"
infraredgirl,2013-12-04 14:25:45,https://api.github.com/repos/openstack/devstack/git/commits/1bbb0ca9c6126b726ed21738b76befe40345c773,1bbb0ca9c6126b726ed21738b76befe40345c773,"Fix noVNC git repo

Recent change switched base git URL to git.openstack.org.
However, noVNC is only hosted on GitHub.
Change git repo URL for noVNC back to the GitHub one.

Change-Id: Iaa9f570639301be1c29cc400c1c73afcbf637b70"
arnaudleg,2013-11-23 00:05:39,https://api.github.com/repos/openstack/devstack/git/commits/90bcd2ff4d4ea11883a58521e58b67f2d981693b,90bcd2ff4d4ea11883a58521e58b67f2d981693b,"Attempt to retrieve the vmdk descriptor data-pair

VMDK formats such as monolithicFlat and vmfs require two files to be
fully consumable by the Nova drivers (a descriptor-data pair: *.vmdk and
*-flat.vmdk).
On the upload of the descriptor (*.vmdk), upload_image.sh should attempt to
retrieve the *-flat.vmdk. The same way, the descriptor should be
retrieved when a flat disk is uploaded.
On success, the upload script will be able to use the flat disk as the image
content and the relevant descriptor settings as the image metadata.

Change-Id: I9214754029c46dd60b9e7d606d84d8819a498a8d
Closes-Bug: #1252443"
Frostman,2013-12-03 21:41:11,https://api.github.com/repos/openstack/devstack/git/commits/7858510ba7d8fa44878374ad71b14e21618adc17,7858510ba7d8fa44878374ad71b14e21618adc17,"Fix savanna-dashboard git repo clone dest

It breaks savanna d-g jobs due to the ERROR_ON_CLONE=True in d-g
(enforce that nothing will be cloned during the installation).

Change-Id: I0531e1baf7252c31eb63ee5b46c28d1dfa7d0a1b"
afazekas,2013-12-03 05:17:16,https://api.github.com/repos/openstack/devstack/git/commits/f9e773982a905517d78ccaf51ef00ce1860bf591,f9e773982a905517d78ccaf51ef00ce1860bf591,"Use fixed network for ssh when n-net is enabled

Server rebuild test has stability issues with n-net + floating ip.

Change-Id: I8a921fddbca49c8499938a25f9722ea40cee76cc"
emagana,2013-12-02 22:27:31,https://api.github.com/repos/openstack/devstack/git/commits/500a32f4f8e8526ba075b61f336cf91dc9d8c652,500a32f4f8e8526ba075b61f336cf91dc9d8c652,"Adds entries for missing parameters in PLUMgrid plugin

Three configuration parameters were missing for the PLUMgrid plugin.
In this patch all those three have been properly added.

Change-Id: If070aa5eb35678d0984470ebcd43fd99e08bcc8a
Closes-Bug: #1255808"
amotoki,2013-11-28 07:56:51,https://api.github.com/repos/openstack/devstack/git/commits/130c90ed0b6111946e4004b125b5ae1a92772a08,130c90ed0b6111946e4004b125b5ae1a92772a08,"Do not create an unnecessary file ""ml2""

Previously when running devstack with Neutron ML2 plugin,
an unnecessary file ""ml2"" is created in devstack directory.
It is because when the first argument is not defined the second
argument becomes the first one.

This change moves the first ""options"" argument of populate_ml2_config
to the last and checks the given options has a value before adding
them to a file.

Change-Id: I9ff40456798c42216d414d5f8d443e671ab7d497
Close-Bug: #1255853"
salv-orlando,2013-11-25 18:11:14,https://api.github.com/repos/openstack/devstack/git/commits/bc7f643bb7c7fe704cf436b9d96d878adaadf3c4,bc7f643bb7c7fe704cf436b9d96d878adaadf3c4,"Fix neutron log format with colorization

Closes-Bug: #1254817

Change-Id: I6de17ef15c18e2f8ab246934461a2b7c6ae4f95f"
flaper87,2013-09-04 13:35:47,https://api.github.com/repos/openstack/devstack/git/commits/06b345e509f7fa213be17715f9ac581a51f2fd56,06b345e509f7fa213be17715f9ac581a51f2fd56,"Add marconi support to devstack

Marconi has an optional dependency on keystone for authentication. This
code was tested with everything enabled and also with the following
localrc:

    STACK_USER=fedora
    SERVICE_TOKEN=secrete
    ADMIN_PASSWORD=secrete
    MYSQL_PASSWORD=secrete
    RABBIT_PASSWORD=secrete
    SERVICE_PASSWORD=secrete

    disable_all_services
    enable_service qpid
    enable_service key
    enable_service mysql
    enable_service marconi-server

Implements blueprint marconi-devstack-integration
Implements blueprint devstack-support

Change-Id: I13495bcc5c5eb66cee641894e9f84a0089460c8b"
sorenh,2013-11-27 09:06:58,https://api.github.com/repos/openstack/devstack/git/commits/3d94736b60d9f3c2f159e81eab5841dba255515a,3d94736b60d9f3c2f159e81eab5841dba255515a,"Assign unique name to each fake nova-compute

Without a unique name, the scheduler (and anything else, really) will
consider each of these nova-compute processes as being one and the same,
so only one entry in the services table, only one hypervisor seen by the
scheduler, etc. Assigning unique names lets us simulate an arbitrary
amount of nova-computes which is very handy for benchmarking the
scheduler.

Change-Id: Ie03aad81bd2a8e73b876a9eae934bc00bf2f71e9"
dtroyer,2013-10-01 19:45:04,https://api.github.com/repos/openstack/devstack/git/commits/b9e25135c51ee29edbdf48d41e1cb637188cc358,b9e25135c51ee29edbdf48d41e1cb637188cc358,"freshen the LDAP support

* Build the base DN from a given domain name
* Remove all hard-coded names to allow configuration of base DN
* Fix manager DN (cn=Manager,dc=...)
* Add ldap init_ldap()
* Add support for clean.sh

Change-Id: Ieb69be9740653645b8e000574ad3fe59a0f97540"
portante,2013-11-20 22:34:39,https://api.github.com/repos/openstack/devstack/git/commits/8afc8935362388c54101e4d34b3310aa2e57c412,8afc8935362388c54101e4d34b3310aa2e57c412,"Use the swift logging adapter for txn IDs

Change-Id: I2b2308eb9606279cffc1965fc3b86e9597d63e87
Signed-off-by: Peter Portante <peter.portante@redhat.com>"
portante,2013-11-20 19:33:16,https://api.github.com/repos/openstack/devstack/git/commits/cee4b3bddff851d875562bf9ce27b2754b75b36a,cee4b3bddff851d875562bf9ce27b2754b75b36a,"Shorten PKI token logging

Log only the first 12 characters of auth-token for the Swift
API, since PKI based auth-tokens from keystone can huge (>> 2K).

Also tidy up a comment.

Change-Id: Ib784e8ecdcb7e371fe03458c7fd82b4460fa82b9
Signed-off-by: Peter Portante <peter.portante@redhat.com>"
rmyers,2013-11-25 19:15:35,https://api.github.com/repos/openstack/devstack/git/commits/674ee84ec6c6cd2e802e132db64855d2f36c16e1,674ee84ec6c6cd2e802e132db64855d2f36c16e1,"Adding optional colorized log output for trove

Change-Id: Ibdaed9c2d1527b4c38551efbc147597e2a668b1a"
emonty,2013-11-23 18:02:45,https://api.github.com/repos/openstack/devstack/git/commits/480309eea527d7721148f66f557772da0e9b5941,480309eea527d7721148f66f557772da0e9b5941,"Allow overriding USE_GET_PIP via env vars

devstack-gate wants to pre-cache and then use get-pip, but we can't
throw the flag currently. Make the flag default settable via env vars.

Change-Id: I661b52670b6ce494666cbdd611e4eee6b96c8321
Partial-Bug: #1254275"
afazekas,2013-11-24 17:53:20,https://api.github.com/repos/openstack/devstack/git/commits/3a82319ad7172de938cb1e7e01a270f41d09fe3d,3a82319ad7172de938cb1e7e01a270f41d09fe3d,"fixup_stuff prettytable min version

The minimum prettytable version is changed from 0.6 to 0.7
 in the global requirements.

If the system has an older prettytable version the fixup_stuff does not
takes effect in time, because at fixup time the system has the old
version.

Ensure the fixup installs the minimum required version in time.

Change-Id: If1737dacb25db73b68e707953d05576ad8a97da7"
locke105,2013-11-21 22:12:56,https://api.github.com/repos/openstack/devstack/git/commits/001c7b6c11574f60aecd47a6fc3b8ca54a393105,001c7b6c11574f60aecd47a6fc3b8ca54a393105,"Remove powervm nova virt driver support

The powervm virt driver was removed from nova in a
recent change. This functionality is no longer needed in
devstack.

Change-Id: Iec620938a8cce63e0830fc7b9e9a679b361b4389"
cboylan,2013-11-21 01:51:50,https://api.github.com/repos/openstack/devstack/git/commits/3b80bde8c7345a5e8c217b6c5c256c2f83aa7900,3b80bde8c7345a5e8c217b6c5c256c2f83aa7900,"Check if flavors exist before creating them.

* lib/tempest: When creating the m1.tiny and m1.nano flavors ensure that
they don't exist first. This is important for Grenade where code may be
run multiple times and should expect that some things preexist.

Change-Id: I1772d4334f39d612f8a187eb5311a1b2caee3953"
jogo,2013-11-20 05:06:29,https://api.github.com/repos/openstack/devstack/git/commits/d254da5213bf0868663b630dbb1ee99fe9157c6f,d254da5213bf0868663b630dbb1ee99fe9157c6f,"Set swift timeouts higher

Devstack is commonly run in a small slow environment, so bump the
timeouts up.

node_timeout is how long between read operations a node takes to
respond to the proxy server
conn_timeout is all about how long it takes a connect() system call to
return

Change-Id: Ib437466a3fc9274b8aa49b19e4fe7fa26f553419
Co-Authored-By: Peter Portante <peter.portante@redhat.com>
Related-Bug: #1252514"
Frostman,2013-11-19 20:19:59,https://api.github.com/repos/openstack/devstack/git/commits/75cb61ba39e17f3e3fb0d8a99b9aecf877e88819,75cb61ba39e17f3e3fb0d8a99b9aecf877e88819,"Handle Savanna service availability in tempest

Change-Id: I51300304655803f114d3bb911086cd88aa09638f"
gumho,2013-11-12 05:20:14,https://api.github.com/repos/openstack/devstack/git/commits/bfb3e5ec9cfb6f06bfc4373e3c795e2918602c8e,bfb3e5ec9cfb6f06bfc4373e3c795e2918602c8e,"Update vsphere image filename pattern

The vsphere image filename pattern has been updated so that semi-
colons are used to delimit image properties rather than colons,
which are not permitted in Windows filesystems. To support back-
wards compatibility, colons can still be used.

Change-Id: I29a3ac03dcae294326dc8813a66512a79f705f81
Closes-Bug: #1250319"
brantlk,2013-11-17 19:03:52,https://api.github.com/repos/openstack/devstack/git/commits/f653419b15d244fa7e01a101de93174d282185ed,f653419b15d244fa7e01a101de93174d282185ed,"Keystone don't use deprecated token_format option

devstack was setting the token_format option in the keystone
configuration file. This option is deprecated so should not be
used.

Change-Id: I047de155f0d9d2a1c009533c2f97f505cc80c6de"
s-t-e-v-e-n-k,2013-11-07 11:36:10,https://api.github.com/repos/openstack/devstack/git/commits/047cac56e14552eb6b2d374a35f3a092c5f2a5d4,047cac56e14552eb6b2d374a35f3a092c5f2a5d4,"Switch the base URL to git.openstack.org

The git repositories on github for openstack are mirrors of the primary
repositories, which are hosted on git.openstack.org, so switch as much
as I can to using the primary, rather than the github mirror.

Change-Id: Idcfda49a691582055256b830c61e098f4a271339"
arnaudleg,2013-11-16 00:06:03,https://api.github.com/repos/openstack/devstack/git/commits/3e439448b5ab1ea1cf2bfaef5d08c6ce41819912,3e439448b5ab1ea1cf2bfaef5d08c6ce41819912,"upload_image.sh should handle file URLs

upload_image.sh doesn't handle correctly file URLs: a file URL works only
if the file is already in the cache.
This patch provides support for file URLs of local files (RFC 1738)
http://tools.ietf.org/html/rfc1738

Change-Id: I107299c543cfa189e32848c32eefdbeb51a5e1f5
Closes-Bug: #1251752"
romcheg,2013-11-14 07:58:53,https://api.github.com/repos/openstack/devstack/git/commits/d0059595529883719726ec146534a6639dbae65e,d0059595529883719726ec146534a6639dbae65e,"Enable/disable ironic in tempest config

In order to run tempest tests for Ironic in devstack
the availability of the Ironic service must be set in
the tempest config.

This patch adds a shortcut for Ironic services and sets
availability of Ironic in tempest config.

Change-Id: I206fc2ea13412ceb128f8bfe90c153348d6f2f3e"
asalkeld,2013-11-14 03:36:46,https://api.github.com/repos/openstack/devstack/git/commits/e231438bf62adb9014e644a443c2165a89812fd3,e231438bf62adb9014e644a443c2165a89812fd3,"Use the oslo db database connection for Heat

This is the preferred configuration now, and sql_connection is
deprecated.

Change-Id: I2d8342b5025ab481e1db0521a3e0610b73bda9de"
jogo,2013-11-13 00:24:14,https://api.github.com/repos/openstack/devstack/git/commits/66c54249805c9a6e863c81b754f4abae71aa1b2b,66c54249805c9a6e863c81b754f4abae71aa1b2b,"Bump SWIFT_LOOPBACK_DISK_SIZE_DEFAULT over swift max_file_size

Swift is returning 50x error codes because its disk is too small, set
size bigger then max_file_size in an attempt to fix the problem, or at
least reduce it.

""we create a 4GB device, but swift thinks it can write 5GB, hence fail""
--sdague

This patch based off of Iccd6368e4df71abb5ccfe7d361c64d86e1071d35

Change-Id: Ib56a98cd74e7edf1fa90facc25c72632d43180f1
Related-Bug: #1225664"
arnaudleg,2013-11-01 23:42:54,https://api.github.com/repos/openstack/devstack/git/commits/5ea53ee5f710076eba80ee9677afd3769fd2f36a,5ea53ee5f710076eba80ee9677afd3769fd2f36a,"Use vmdk descriptor to populate image properties

image_upload.sh doesn't use the descriptor properties embedded inside
the vmdk file. This requires the user to manually change the filename of the
vmdk file to add the properties (disk type, storage adapter and network
adapter).
In case of a sparse monolithic sparse or stream-optimized sparse, these
properties are extracted from the descriptor.
The user can still override these values by modifying the filename.

Change-Id: I1734311c66efe60a1a30e3ea63cc2a9da9cdb5b4
Closes-Bug: #1247300"
j-griffith,2013-11-01 00:00:40,https://api.github.com/repos/openstack/devstack/git/commits/4debfe2b2da5011a93b44d09283b8dfdaf40c0bc,4debfe2b2da5011a93b44d09283b8dfdaf40c0bc,"Add driver_cert wrapper for cinder

This adds a simple wrapper to call tempest volume tests.
The idea is to make it easy to execute and capture results
from tempest.api.volume.test_*

Concept is for drivers in Cinder to configure cinder.conf as
needed and then run this script which will restart services and
kick off the tempest tests, and capture the output to a logfile
for submission.

To run,
1. deploy devstack as normal with tempest included in enabled_services
2. modify cinder.conf appropriately for your driver
3. execute the script devstack/driver_certs/cinder_driver_cert.sh

Change-Id: I98ec9e1e418a8416406db5e2e6ffd21992e392cf"
noorul,2013-11-12 14:54:57,https://api.github.com/repos/openstack/devstack/git/commits/261852ddfca72882e3e1f8a0bd3011465b1e70ac,261852ddfca72882e3e1f8a0bd3011465b1e70ac,"Add pip folder to ignore list

Change-Id: I26da80b9e09774b9940d382a32cf69e75c61a527"
akscram,2013-11-12 08:44:20,https://api.github.com/repos/openstack/devstack/git/commits/645171c5fdfa1d43441c411c00c8080218cb6bbe,645171c5fdfa1d43441c411c00c8080218cb6bbe,"Don't install novnc from package by default

By default the installation is failed because the novnc package has got
the a dependency of the nova-common package. The last package provides
""/etc/nova/*"" files with appropriate privileges. It potentially brings
to the problem of an access to those files.

Change-Id: I1689bef817365b10bf972dc4a8033892ad5939d1
Related-Bug: 1248923"
cybertron,2013-11-08 17:22:51,https://api.github.com/repos/openstack/devstack/git/commits/add4ca3ef0f916e31a781e118c8c4d04a9bec5cf,add4ca3ef0f916e31a781e118c8c4d04a9bec5cf,"Fix FROM_PACKAGE checks for novnc and spice

The logic for installing novnc and spice from packages is broken,
which makes it impossible to install from git, which makes bug
1248923 more serious.

Change-Id: I9ae722a5470a16555bca9018da342485f6d3e896
Related-Bug: 1248923"
gumho,2013-11-07 20:12:35,https://api.github.com/repos/openstack/devstack/git/commits/feb28837f4db9177835f94b6b9899a90c45a685d,feb28837f4db9177835f94b6b9899a90c45a685d,"Add new stack phase: post-extra

The current existing phases ""post-config"" and ""extra"" are not
sufficient to allow local.conf overrides to extra type services
because they run after the services are installed and configured.
This commit introduces a new phase called ""post-extra"" that runs
after these existing phases. With this change, users are able to
leverage local.conf to provide overridden options to services
like Tempest.

Change-Id: I5d758eebfda804dd1d8cbc3d5cc35ef4dcc8c96f
Closes-Bug: #1249085"
afazekas,2013-10-29 07:23:43,https://api.github.com/repos/openstack/devstack/git/commits/5a35e73b3419df571f55efd2a68ef565469e3d1b,5a35e73b3419df571f55efd2a68ef565469e3d1b,"Option for installing spice-html5 and novnc from packages

The novnc and spice-html5 is installed from git repository by default,
but not from an openstack* repository.

In order to add vnc/spice proxy related gating tests they should be installed
from packages.

New boolean variables added to control the installation source:
NOVNC_FROM_PACKAGE and SPICE_FROM_PACKAGE

Related changes:
https://review.openstack.org/#/c/51790/
https://review.openstack.org/#/c/50822/

Change-Id: I1e55fd99edd30876924a13160afb74ff3e97c485"
dtroyer,2013-11-06 08:15:11,https://api.github.com/repos/openstack/devstack/git/commits/c04ddbe8680dd91d2749e74b36728aee27036dea,c04ddbe8680dd91d2749e74b36728aee27036dea,"Robustify shocco install and config

* shocco has some non-optional prereqs, make sure they are present if
shocco is being installed
* set the path to installed shocco correctly
* add the working dir to .gitignore

Change-Id: If786ea9e28d3595775f7b86d2fe760dff8047f49"
afazekas,2013-11-06 14:41:04,https://api.github.com/repos/openstack/devstack/git/commits/237225dd394d43e17c5406c8c0549e3e7d5e4cd2,237225dd394d43e17c5406c8c0549e3e7d5e4cd2,"Fixing space issues between "" and ]

When we are using '[' aka. ``test`` , before the closing ']'
we need to use a space.

Otherwise the commands return with '2' so the ""expression"" will be a constant
false.

Change-Id: I673762e802c28335e03390b6608cf6bbee6aaba6"
paulczar,2013-10-29 22:15:22,https://api.github.com/repos/openstack/devstack/git/commits/eca0a1c7b901e9602c7df89c32b35402360d22f6,eca0a1c7b901e9602c7df89c32b35402360d22f6,"removed unecessary lines for docker install

* script was trying to copy file from a source
	that doesn't exist to destination that does.
* variable DOCKER_BRANCH no longer used.

Change-Id: I50fd55e97dfc4eaaa3c1f2bfc42e8cfc0e76cdf4"
comstud,2013-10-23 09:54:53,https://api.github.com/repos/openstack/devstack/git/commits/86199fcdfead581a03b453484879d046729a0fcd,86199fcdfead581a03b453484879d046729a0fcd,"Clean up use of global conf vars in start_nova

Make it clear which services run in the API cell and compute (child)
cells by using appropriately named local variables for the conf files.
This should help save from future bugs.

Also: When cells is enabled, there's no need to run nova-conductor in
the API cell right now.  Cells bypasses any use of conductor in the API
cell.

Change-Id: I3af17d3db028f5df36814cb83c7db4de8f141f84"
dtroyer,2013-10-22 22:46:00,https://api.github.com/repos/openstack/devstack/git/commits/d561b70930f7184ade05953faa11a47dc250a16c,d561b70930f7184ade05953faa11a47dc250a16c,"Set keystone.conf to mode 0600

Set keystone.conf readable only by owner
Fixes CVE-2013-1977

Fixed bug: 1168252

Change-Id: Idd13b7a58e257565052c54f72c65d8dceb23f27a"
jpeeler,2013-10-31 20:21:52,https://api.github.com/repos/openstack/devstack/git/commits/1143f7e45fd2760b8d5fecc8fbd598078ba92fd3,1143f7e45fd2760b8d5fecc8fbd598078ba92fd3,"Turn off Nova firewall driver when using Neutron

As referenced in the OpenStack documentation, the firewall_driver in
nova.conf should be set to nova.virt.firewall.NoopFirewallDriver, ""so
that nova-compute does not perform iptables-based filtering itself"".

Without this change, the driver gets set to
nova.virt.libvirt.firewall.IptablesFirewallDriver, which seems to
make networking unusable.

Change-Id: Id9cce0f5f4efe719683aaf3284b128188b61b919
Closes-bug: #1246888"
dprince,2013-10-31 14:27:58,https://api.github.com/repos/openstack/devstack/git/commits/24f6efadbdef558655abc5f1052bb61ae87b55f0,24f6efadbdef558655abc5f1052bb61ae87b55f0,"Add FORCE_CONFIG_DRIVE and make it the default

Adds a new FORCE_CONFIG_DRIVE option to lib/nova which
is by default enabled. Using config drive should speed
things up a bit and is a more likely production default
instead of file injection.

Change-Id: I2388ef0df12a6289b619bfaf30cb952fcc48ef41"
dprince,2013-10-30 19:11:08,https://api.github.com/repos/openstack/devstack/git/commits/b245c5d21c4eee77e4649e0115d579b7e28c9851,b245c5d21c4eee77e4649e0115d579b7e28c9851,"Set Nova auth_proto regardless of tls-proxy.

We actually want to comment out the keystone auth_proto in Nova's
api-paste.ini file regardless of the tls-proxy setting. Likewise
lets always set it in nova.conf as well.

This should fix an issue in trying to get this in:

  https://review.openstack.org/#/c/52825/

Change-Id: I1b8202aa1666cbb6ca13d2f77d50fa0175969266"
JoeMido,2013-10-28 07:38:55,https://api.github.com/repos/openstack/devstack/git/commits/e4a523f543e59d92ab227b5bcfaad09fc171b6a9,e4a523f543e59d92ab227b5bcfaad09fc171b6a9,"Cleanup unused settings, use interface_driver setter

* Remove unused MIDONET specific settings from nova.conf
* Remove unused MIDONET specific settings from dhcp_agent.ini
* Move the interface_driver settings to the proper setting
  function so that it can be used by lbaas_agent.ini as well.

Change-Id: Id686ff5f55db00bce42b8a2bd56e7655c73211fb
Closes-Bug: #1245401"
joehakimrahme,2013-10-22 13:19:09,https://api.github.com/repos/openstack/devstack/git/commits/1ce2ffd15fbb9423cd5f705e10d34dee5e23a4d5,1ce2ffd15fbb9423cd5f705e10d34dee5e23a4d5,"Enables Swift crossdomain middleware by default

This step is needed to enable its testing in Tempest. The patch adds a
variable SWIFT_EXTRAS_MIDDLEWARE_NO_AUTH that holds a list of
middlewares inserted in the pipeline before authentication middlewares
(tempauth, keystoneauth, ...).

Change-Id: I1927103feff997a354ccf82ccf12aa77db083ad3"
aaronorosen,2013-10-24 20:59:33,https://api.github.com/repos/openstack/devstack/git/commits/4540d00ebdd3283de47d6546b6e7575e2e9041ff,4540d00ebdd3283de47d6546b6e7575e2e9041ff,"All neutron plugins should now use LibvirtGenericVIFDriver

Change-Id: I70015ae55fe6db9c6c4663a8d021fe9cfe2eddcf"
samalba,2013-10-25 00:09:40,https://api.github.com/repos/openstack/devstack/git/commits/20150864eb3ea1fbaa616f6a6cc022dc9bc13c14,20150864eb3ea1fbaa616f6a6cc022dc9bc13c14,"Removed dependency from dotcloud repos for the Nova docker driver

Since the Nova driver is in Nova core from the Havana release, this
will just clean the docker nova driver install.

Change-Id: Ic98012b8b5e54e727a1b11f4d32f6623d2067621"
samalba,2013-10-21 23:17:30,https://api.github.com/repos/openstack/devstack/git/commits/5a77d03addeab27704eeeb6a43ea75c1a9941764,5a77d03addeab27704eeeb6a43ea75c1a9941764,"Removed docker version requirement

Change-Id: I9f04db46706bf6453def09ca1e22e0db918d811b
Closes-Bug: #1237581"
aspiers,2013-10-24 16:40:13,https://api.github.com/repos/openstack/devstack/git/commits/4b2c5ed209514534a0ead54cd3c91fc3b42d6194,4b2c5ed209514534a0ead54cd3c91fc3b42d6194,"only clone docs from gh-pages branch if they aren't there

Allow the caller of this script to decide which commit
from the gh-pages branch should be used to build the docs.
This also avoid excessive repeated git clones during development.

Change-Id: I3e58eef0ac03b15903c06d5632c0eb41413db02c"
aspiers,2013-10-24 10:27:02,https://api.github.com/repos/openstack/devstack/git/commits/6a5aa7c6a20435bbd276a0f1823396b52a8f0daf,6a5aa7c6a20435bbd276a0f1823396b52a8f0daf,"Fix some Markdown formatting issues

Address miscellaneous issues with Markdown formatting in comments which
are consumed by shocco when generating the online documentation.

Change-Id: I953075cdbddbf1f119c6c7e35f039e2e54b79078"
aspiers,2013-10-24 15:32:21,https://api.github.com/repos/openstack/devstack/git/commits/6fa67c99ba687f659fab0ad3f965993d833ca2b4,6fa67c99ba687f659fab0ad3f965993d833ca2b4,"git-ignore files generated by ""./tools/build_docs.sh .""

Change-Id: Ibf190998e52e7814ddc7f7ab4cf174aee28df9bf"
aspiers,2013-10-05 11:11:07,https://api.github.com/repos/openstack/devstack/git/commits/cb961597cc30f9d8ece17529f09a8291454827e3,cb961597cc30f9d8ece17529f09a8291454827e3,"Fix shocco errors and warnings

A few Markdown-oriented issues were causing Docutils errors to
leak into the end-user docs on http://devstack.org

Change-Id: I51fa9698afb1bfb48596478d83bd1fdcd84ac52e"
jogo,2013-10-24 13:12:44,https://api.github.com/repos/openstack/devstack/git/commits/33eaa5698ca3ced12d7ab5a181cc381bdb19ce76,33eaa5698ca3ced12d7ab5a181cc381bdb19ce76,"Use heat's default value for max_template_size

Instead of aligning value with tempest, make tempest use heat's default
value as that is what most people will be deploying with.

Change-Id: I77549f2b5e953ff712c50a2b372f6b04725d5eb0"
afazekas,2013-10-21 07:27:18,https://api.github.com/repos/openstack/devstack/git/commits/386ae8c17162d8cc950c0f6c71fa364b9cbea9d4,386ae8c17162d8cc950c0f6c71fa364b9cbea9d4,"Additional ssh tests with tempest

The run_ssh option is used on the default 'false',
 so several test case and validation step was disabled.

It was disabled because:
 * Admin password injection with the cirros image is not supported.
  (We 'cannot' inject password/shadow to a ram disk.)
 * In the current system setup floating IP is required for connecting
   with neutron

The run_ssh boolean option will be removed from tempest, it will be replaced
with ssh_connect_method and ssh_auth_method.

Since using a floating ip with nova flat network is not required in these
case, the 'fixed'/private IPs (ssh_connect_method) will be used with nova network
, and we will use the 'floating' IPs with neutron when the NAMESPACES
are enabled(default).

The default value of ssh_auth_method is keypair, it works in both cases.

Change-Id: I3d47811d801985687526749a430ed6db64224f99"
comstud,2013-10-22 16:22:36,https://api.github.com/repos/openstack/devstack/git/commits/6db29904df63ae26a0f4a4b2e4e0c2e6f2cef669,6db29904df63ae26a0f4a4b2e4e0c2e6f2cef669,"Start nova-compute with child cell conf

A recent commit broke the cells support and switched nova-compute to always
start with the API cell .conf.  This corrects the regression.

Change-Id: I633344c8784c154f61e751cd0a408196e61525b3
Closes-bug: 1243961"
amotoki,2013-10-09 15:40:38,https://api.github.com/repos/openstack/devstack/git/commits/7a4ae3d24260cc2cd8eaed495829ec44ff121458,7a4ae3d24260cc2cd8eaed495829ec44ff121458,"Modification for Ubuntu 13.10 and minor fixes in Neutron NEC plugin

Modifications for Ubuntu 13.10:
* Add .conf suffix to apache2 config files. In Ubuntu 13.10,
  files in sites-available should have "".conf"" suffix.
  Otherwise it is not recognized by a2ensite.
* libglib2.0-dev is added to lib/files/apt/trema. Trema is
  an OpenFlow controler framework used by Neutron NEC plugin
  Ubuntu package dependency seems to be changed.

Minor cleanups are also done in OVS configuration:
* Set datapath_id before connecting to the OpenFlow controller
  to ensure datapath_id changes after connected.
  Previously datapath_id is changed after connecting to the controller.
* Drop ""0x"" prefix from datapath_id passed to OVS.
  OVS ignores datapath_id with 0x prefix.
* Fix a bug that SKIP_OVS_BRIDGE_SETUP skips all confiugration of
  the plugin agent. It should skip only OVS setup.

Change-Id: Ifac3def8decda577b5740c82fe8d24e8520c7777"
dtroyer,2013-10-16 20:13:56,https://api.github.com/repos/openstack/devstack/git/commits/9b973670a6c200e5f6251bb21eb443be619694c6,9b973670a6c200e5f6251bb21eb443be619694c6,"Add the doc build tools

tools/build_docs.sh generates the devstack.org website from the static
pages and generated pages created by running shocco against a DevStack
checkout.

Note that while this is the complete auto page generation of the
devstack.org site, pushing the content back to GitHub is limited
to those with push access to the current repo.

Partial-bug 1235626

Change-Id: I61dc3d56e4a4832a9ddd1904dd8af65c15a17e50"
jogo,2013-08-29 19:45:20,https://api.github.com/repos/openstack/devstack/git/commits/e095daa73267cedbd3cc7b68f517bbe0624f770e,e095daa73267cedbd3cc7b68f517bbe0624f770e,"Make nova use fatal_deprecations=true

We should not be using deprecated config options here, so lets set
fatal_deprecations=True to make sure.

Stop using deprecated LibvirtHybridOVSBridgeDriver

Change-Id: I0a43780270d092a42ede6c0667343f0d02b3aa67"
degorenko,2013-10-01 16:03:39,https://api.github.com/repos/openstack/devstack/git/commits/a45a0a0276f542ef5d624067e98dfa2de830fd84,a45a0a0276f542ef5d624067e98dfa2de830fd84,"Added Savanna Project

Added services Savanna, Savanna Dashboard, Savanna python client.

Implements blueprint devstack-savanna-support
Implements blueprint devstack-integration

Change-Id: I8725f59a0cc9aef4817988470313136c56711cf1"
kk7ds,2013-10-21 20:06:11,https://api.github.com/repos/openstack/devstack/git/commits/2e159460126febc8be6d65477cc94ef6ef159649,2e159460126febc8be6d65477cc94ef6ef159649,"Allow starting nova-compute manually

This breaks out the code that starts nova-compute into a separate
function. This will be used for upgrade testing so that we can
arrange for a nova-compute running on a different version of the
code to be running alongside the rest of the stack.

Change-Id: I88687cefdac7fa4a3c45789461a95fd8d061aba6"
dtroyer,2013-10-17 17:03:55,https://api.github.com/repos/openstack/devstack/git/commits/b8dd27bf457d1c7a7ad0f1b3a946529c8a1d073f,b8dd27bf457d1c7a7ad0f1b3a946529c8a1d073f,"Fix typos and thinkos in docs

Updates for the new major features and some clarification

Partial-Bug: #1235626

Change-Id: If2da63e62a14894e498b4163b5052d9b2b2069ed"
BobBall,2013-10-18 14:33:26,https://api.github.com/repos/openstack/devstack/git/commits/105c6e8718da2db50e48cb4a68be8522a80e101e,105c6e8718da2db50e48cb4a68be8522a80e101e,"Create-stack-user script should have execute permissions

Currently running stack.sh as root advises you about this script, which is not
executable

Change-Id: I674af044b8f3c31bcc86be5c6552e8086453d5cd"
afazekas,2013-10-18 14:21:26,https://api.github.com/repos/openstack/devstack/git/commits/8111ef0aa55d2bec3ca958940171a5c9992eaee9,8111ef0aa55d2bec3ca958940171a5c9992eaee9,"Decrease tempest BUILD_TIMEOUT

The BUILD_TIMEOUT is the generally used timeout option in tempest.

Almost never expected to any operation takes more than 60 sec,
the 400 sec is too match for timeout.
Changing the BUILD_TIMEOUT to 196 sec, it is still expected to be safe.

It can make faster the failing test jobs.

Change-Id: I7e7c767400ca448cb86d27b60a1229a2afa69726"
dprince,2013-10-16 22:57:15,https://api.github.com/repos/openstack/devstack/git/commits/82dea7c64a1a7ac81a1a02753e516bb1d67eebd2,82dea7c64a1a7ac81a1a02753e516bb1d67eebd2,"Use cinder.conf for auth_token configs.

Updates lib/cinder so that we use the application config file (cinder.conf)
instead of the Cinder api-paste.ini config file.

Related-Bug #1240753

Change-Id: I6636d33ee522757145ac97fc354324a8b9379700"
dprince,2013-10-16 21:48:16,https://api.github.com/repos/openstack/devstack/git/commits/741fc5c08496db1518a7698b093aa1f696f67c4f,741fc5c08496db1518a7698b093aa1f696f67c4f,"Use nova.conf for auth_token configs.

Updates lib/nova so that we use the application config file (nova.conf)
instead of the Nova api-paste.ini config file.

Related-Bug #1240753

Change-Id: I393a67f1f005e775928130c9241aa7e25c391ae3"
no2a,2013-10-17 12:42:49,https://api.github.com/repos/openstack/devstack/git/commits/8b5d3cf3df65682f94a1885ef71d2fb31bdfb3ba,8b5d3cf3df65682f94a1885ef71d2fb31bdfb3ba,"Do not install pip when OFFLINE=True

install_pip.sh trys to fetch pip from the internet even if
OFFLINE=True. It causes stack.sh to fail if the environment
is actually disconnected from the internet. With this patch,
stack.sh skips install_pip.sh if OFFLINE=True.

Change-Id: Ica9e5cfa0a4ee684c05393896c2fd6ddbd9ccd06
Closes-Bug: 1240956"
dtroyer,2013-10-16 17:10:13,https://api.github.com/repos/openstack/devstack/git/commits/65f1af6dd3ea97803cbd6f910e5619cca3ac5173,65f1af6dd3ea97803cbd6f910e5619cca3ac5173,"Fix fixup_stuff.sh package permissions fix

There are a number of different attempts to fix this issue, specifcally on RHEL6.
None of them actually get it right.
* This does not upgrade an OS installed package because we trust them to not make
  these sorts of permissions mistakes. Also we do not have nor want to figure out the
  right version that the OpenStack projects will require.
* This specfically targets the upstream package versions as we do not know how
  later versions behave.

This should address the following reviews:
* https://review.openstack.org/#/c/50540/
* https://review.openstack.org/#/c/51233/ (1238707)
* https://review.openstack.org/#/c/51651/ (1239747)
* https://review.openstack.org/#/c/51843/
* https://review.openstack.org/#/c/51838/
* https://review.openstack.org/#/c/52148/ (1236941)

Change-Id: I99906451dc25654628187b383e8893cce0e276bf"
Thingee,2013-08-21 04:53:30,https://api.github.com/repos/openstack/devstack/git/commits/bd8ac01b02cafba7cfd98364c8f3009c19042da4,bd8ac01b02cafba7cfd98364c8f3009c19042da4,"Default to Cinder REST API v2

Set OS_VOLUME_API_VERSION environment variable to 2 so we use
specifically Cinder REST API v2. v1 is still enabled in the catalog, but
we want more exposure to v2 for testing.

Change-Id: I6c2f29edf44a0f58a7830fe4dd2db35f2db3658c"
sahid,2013-10-16 08:34:05,https://api.github.com/repos/openstack/devstack/git/commits/75e851a6de99d57eaab3e682b249067cb6065cd0,75e851a6de99d57eaab3e682b249067cb6065cd0,"exercices: aggregates needs to be more flexible

The actual regex checks a result in python format and
because of the change in the bug 1132961, Jekins failed.

I have update the regex to work with the old result
and the new result.

Change-Id: I393e1358f99be5f20d9ac8b3e214355a453ecfcb
Closes-Bug: 1239726"
dtroyer,2013-10-15 14:42:43,https://api.github.com/repos/openstack/devstack/git/commits/cdf3d766478d04e62a860754298e7d86f89b33a9,cdf3d766478d04e62a860754298e7d86f89b33a9,"Add stack phases to extras.d handling

Add hooks to stack.sh, unstack.sh and clean.sh to call the extras.d
scripts at multiple points in stack.sh.  This allows these scripts to
perform installation and startup tasks at similar times as they would
if integrated into stack.sh.

extras.d/70-tempest.sh is present as an example of the structure
of these scripts.

See extras.d/README.md for more information.

Change-Id: Ic1fe522559b94d204d6c0319a2e3d23684c8d028"
romcheg,2013-10-15 14:03:15,https://api.github.com/repos/openstack/devstack/git/commits/43e00660c30d5f7b78d9eacfe2540a0c92fe5bb9,43e00660c30d5f7b78d9eacfe2540a0c92fe5bb9,"Install Ironic client

Since python-ironicclient was published to github it's
reasonable to include it to the default Ironic set up.

Change-Id: Id1d0209959a3b482977b5e710c0885c714ad7e10"
romcheg,2013-10-01 14:19:05,https://api.github.com/repos/openstack/devstack/git/commits/c48c3124c87de2c233c2596e1a759106b598b22b,c48c3124c87de2c233c2596e1a759106b598b22b,"Enable keystone authentication in Ironic

Currently Ironic installation script leaves authenticaiton
strategy in its default value which is noauth. This is not
relevant for the most of development and testing environments.

This patch sets authentication strategy for Ironic to keystone
and specifies the path to the policy file.

Closes-bug: #1233612
Change-Id: Idacbda05663e7ef949cbce0dbdf28eaa36b6a1a9"
BobBall,2013-09-29 20:45:49,https://api.github.com/repos/openstack/devstack/git/commits/83dcf2046060b275373993959b118bb2f3f3ff58,83dcf2046060b275373993959b118bb2f3f3ff58,"XenAPI: Get pool default SR rather than ""Local storage""

Match the nova default of using the Pool default SR as the storage for
VMs

Change-Id: I3b681ae7062ba0db3d9eab70b410b7d9658e37c9"
imaxmin,2013-10-09 19:45:41,https://api.github.com/repos/openstack/devstack/git/commits/fdc9ae8b9e52004a4fa0a4e0cf7df67f81cba955,fdc9ae8b9e52004a4fa0a4e0cf7df67f81cba955,"Fix bugs for installing docker, bug #1237581.
  -The change in install_docker.sh corrects a typo ('=' should be '-').
   This typo resutls in 'unable to locate the packet' error when executing apt-get.

  -The second change is in hypervisor-docker fix the error for reporting
   docker is not installed when docker is actually set up. The original line
   missed the version part of the package name.

Change-Id: Ic48f45158cf84f89080f095d53c355e9f6969bfd"
dtroyer,2013-09-13 20:05:51,https://api.github.com/repos/openstack/devstack/git/commits/893e66360caf3bcf0578d4541b3c17d089c33b02,893e66360caf3bcf0578d4541b3c17d089c33b02,"Add meta-config via local.conf

This defines a new local.conf file that is designed to take the place of all
of the 'pass-through'[1] configuration options that have been defined in DevStack.

* new local.conf file can contain multiple config file settings to be
  merged in to existing project config files
* localrc can be embedded into local.conf and will auto-extract if
  localrc does not exist
* Adds functions get_meta_section(), get_meta_section_files(),
  merge_config_file() and merge_config_group()
* Adds EXTRA_OPTS, EXTRA_BAREMETAL_OPTS, Q_DHCP_EXTRA_DEFAULT_OPTS and
  Q_SRV_EXTRA_DEFAULT_OPTS to the deprecated warning list at the end of stack.sh

[1] Pass-through options are those that do not configure or change DevStack's behaviour
but simply set a value in a project config file.  This includes most of the EXTRA_XXX_OPTS
configuration variables.

Change-Id: I367cadc86116621e9574ac203aafdab483d810d3"
dtroyer,2013-09-23 18:53:13,https://api.github.com/repos/openstack/devstack/git/commits/8c032d1635320ad9b5162136a8876cc48e7fa8bd,8c032d1635320ad9b5162136a8876cc48e7fa8bd,"Convert remaining hypervisors to plugin model

Convert BareMetal, OpenVZ, PowerVM hnd libvirt ypervisor configurations
in Nova to the new plugin setup.

Change-Id: I47d744a2c9fdda0771f5b473ec3b26fb099f7439"
no2a,2013-10-11 12:56:56,https://api.github.com/repos/openstack/devstack/git/commits/af15d35414abea1e0dd9792d3fffcffab47afc1c,af15d35414abea1e0dd9792d3fffcffab47afc1c,"baremetal: Allow BM_SECOND_MAC to be unset

Currently DevStack registers the second nic of the baremetal
node even if BM_SECOND_MAC is not set or empty. However
an interface with an empty mac address causes dhcp to fail
(bug 1238595). And such operation will get to return a error
after the bug is resolved. So we should not register the
second nic if BM_SECOND_MAC is not set.

Related-Bug: #1238595
Change-Id: Ib3cc77686b72311403ccacbd70ae9cf43e6eb4c9"
skraynev,2013-10-10 13:08:48,https://api.github.com/repos/openstack/devstack/git/commits/84783c72fe31dbc7656cfb4b9ee0af947e5ce3ed,84783c72fe31dbc7656cfb4b9ee0af947e5ce3ed,"Adding value for lock_path in configuration file

Now oslo code include new lockutils. According this code
if lock_path is not set in configuration file, will be
raised Error message.

So for updating lockutils in cinder project is needed
lock_path definition in configuration file.

Change-Id: I413f0a2ccec0f9d9e06acaa8cc06c41206d9dcc2"
no2a,2013-10-10 08:56:21,https://api.github.com/repos/openstack/devstack/git/commits/b7fcf3f6c0b41bbba16dd52d124711e8e2b8bc9d,b7fcf3f6c0b41bbba16dd52d124711e8e2b8bc9d,"Update diskimage-builder's URL

diskimage-builder has moved from stackforge to openstack.

Change-Id: I5bc8d5d162d7d671e062efd67992f15fbb4307b2"
no2a,2013-10-09 09:49:32,https://api.github.com/repos/openstack/devstack/git/commits/4897ff55d77cd957c57f9717785d12f86cd5b824,4897ff55d77cd957c57f9717785d12f86cd5b824,"Correct logging_context_format_string for Heat

We should use ""tenant"" and ""user"" instead of ""project_name"" and
""user_name"" by calling setup_colorized_logging with these parameters.

Change-Id: I47820c890bf4585e7c8f64c41f48d7576ca56862
Closes-Bug: 1237314"
salv-orlando,2013-09-20 23:17:06,https://api.github.com/repos/openstack/devstack/git/commits/9732b57e3de7c24cb494c0f923d791a782ca9c9a,9732b57e3de7c24cb494c0f923d791a782ca9c9a,"Nicira plugin: do not die if NVP gateway IP is missing

Devstack should not die if the IP and prefix len for establishing
a connection to the public network are not provided.
In this case, the public gateway IP address used to configure
Neutron's public network should be used, together with the prefix
length of the public network's CIDR.

This patch also ensures $PUBLIC_BRIDGE is created, even if
Q_USE_DEBUG_COMMAND is disabled. Finally this patch also adds
the teardown operation for restoring the original IP addresses
on the interface used for connectivity to the public network
implemented on the NVP gateway.

Bug #1227750

Change-Id: Ib58738a578c46f2183d503cabfdc6039bfbeb702"
afazekas,2013-10-07 05:29:27,https://api.github.com/repos/openstack/devstack/git/commits/46ea7238682642990ef67dd73582e86a2d4e2a2d,46ea7238682642990ef67dd73582e86a2d4e2a2d,"install_pip script fails if pip was not installed

'set -o errexit' recently added to the pip installer script, which causes
the script fail when it does not able to find an already installed pip.

This change handles the situation when pip is not installed.

Change-Id: I18a42d13c4be6699db21ec5b6a095a88a199912d"
aspiers,2013-10-04 22:20:24,https://api.github.com/repos/openstack/devstack/git/commits/d903476aa5270df703bd22bb58fed2c740042fbf,d903476aa5270df703bd22bb58fed2c740042fbf,"Fix ""instal_prereqs.sh"" typo

Change-Id: I745b159aea70412d424df506af0e3d1ca2d78034"
dtroyer,2013-10-04 17:35:24,https://api.github.com/repos/openstack/devstack/git/commits/23f69d83e5564ece0308535117cc6d224fcc3557,23f69d83e5564ece0308535117cc6d224fcc3557,"Split the creation of $STACK_USER account out of stack.sh

Automatically creating a new user account is not always the right course
of action when stack.sh is running as root.  Plus, the re-exec did not
work correctly in some cases.

* Create tools/create-stack-user.sh to set up a suitable user
  for running DevStack
* Abort stack.sh and unstack.sh if running as root and suggest creating a
  suitable user account.

Change-Id: I5d967c00c89f32e861449234ea8fe19261cd9ae3"
dtroyer,2013-10-04 18:33:07,https://api.github.com/repos/openstack/devstack/git/commits/ca5af8615e58b78dbb0242074bc35aec5de1dda5,ca5af8615e58b78dbb0242074bc35aec5de1dda5,"Remove general assumption in get_packages()

get_packages() always included 'general' as a default 'service' file.
Remove this assumption and add it explicitly to the primary package
installation call.  This allows get_package() to be used in other places
where 'general' is not desired to be included.

Change-Id: I1eed4386d073d6ae9534aedae32654208c6662e8"
JoeMido,2013-10-04 11:46:10,https://api.github.com/repos/openstack/devstack/git/commits/a2fd222ee976e93898a66372ef764b7756724321,a2fd222ee976e93898a66372ef764b7756724321,"Change Midonet vif driver to generic

Use generic vif driver for Midonet to support port bindings through
the mm-ctl script.

Change-Id: Iddc8a1c7b0128a76cd778c0245f2098bfb2c0145
Closes-Bug: 1235202"
afazekas,2013-09-15 16:38:48,https://api.github.com/repos/openstack/devstack/git/commits/e6024413ae69bd0ec2abefe613b850680047a09c,e6024413ae69bd0ec2abefe613b850680047a09c,"lib/swift variable changes and dd replaced by truncate

- ${SWIFT_DATA_DIR}/drives/images/swift.img replaced by
${SWIFT_DISK_IMAGE}.

- using truncate -s command instead of dd over seeking

Change-Id: I0dd29af3247ba7819ef0c74775412074b6b62017"
gumho,2013-10-04 05:27:03,https://api.github.com/repos/openstack/devstack/git/commits/49f4486f1caff209254f560deecd774246c91c79,49f4486f1caff209254f560deecd774246c91c79,"Fix typo in property passed to glance

In the upload_image function, a property that is passed to glance in
the vmdk conditional block has a typo. Changes ""vmware-disktype"" to
""vmware_disktype"" (dash to underscore)

Change-Id: I6c4e1875b6ab4544f9742ab08893dae0e86965a0
Closes-Bug: #1235080"
mriedem,2013-10-02 18:08:56,https://api.github.com/repos/openstack/devstack/git/commits/96ba6ec1bf0b7cc54f9968e4cc3aa80b8f2c368e,96ba6ec1bf0b7cc54f9968e4cc3aa80b8f2c368e,"Change DATABASE_HOST default to 127.0.0.1

Attempt to fix what is suspected to be a DNS resolution issue with
postgresql check job.

Closes-Bug: #1232748

Change-Id: Ic82e54b2af038e6c21d4f026f3da10f34c3c185c"
JoeMido,2013-10-01 08:13:06,https://api.github.com/repos/openstack/devstack/git/commits/87acc91fc67dd2c349008aad9a4f6c1770f3eb7e,87acc91fc67dd2c349008aad9a4f6c1770f3eb7e,"Add MIDONET settings to dhcp.ini

The midonet specific settings were not being added to the dhcp
specific config file. This change adds those settings.

Closes-bug: #1233941
Change-Id: I4155135528c6ba77cf57d30ac256580c7239794f
Signed-off-by: Joe Mills <joe@midokura.com>"
aspiers,2013-10-01 14:59:05,https://api.github.com/repos/openstack/devstack/git/commits/6d8fce732523c183fa307c6c5a685e257bdbd78a,6d8fce732523c183fa307c6c5a685e257bdbd78a,"Fix handling of pip and virtualenv on openSUSE

openSUSE's python-virtualenv rpm depends on the python-pip rpm, but
tools/install_pip.sh prefers to deinstall the latter (if installed) and
install pip directly from upstream source instead.

This deinstallation of python-pip will break if attempted via rpm -e,
since rpm does not transitively remove dependents (in this case
python-virtualenv).  In contrast, ""zypper rm"" does, so we switch to
that.

It is safe to remove the python-virtualenv package, since stack.sh will
install virtualenv via pip instead.

Change-Id: I5bc23de0f2de2e3940c4be3b76b7c0634836239b"
aspiers,2013-10-01 00:08:20,https://api.github.com/repos/openstack/devstack/git/commits/3ac8612b55b9d79d214ce5a10eb37e3b017a74ad,3ac8612b55b9d79d214ce5a10eb37e3b017a74ad,"Don't bail when setting up horizon on openSUSE

I85325179f1792d985b0375572abfe8c8a82fecc3 accidentally removed the
conditional branch required to prevent setup of horizon aborting on
openSUSE, so put it back in.

Change-Id: Ia3e4464a2d718e402d84a0bcf60f13ef30404969"
aspiers,2013-10-01 00:10:16,https://api.github.com/repos/openstack/devstack/git/commits/15aa0fc315e231ab3564eab646ca72a359964278,15aa0fc315e231ab3564eab646ca72a359964278,"Uniquify unsupported distro error message

Change a distro-not-supported error message in lib/horizon so that it
can't be confused with a similar error case in lib/apache.

Change-Id: I1197cb4de1497906e93a2c3ce09c3c06afe03b65"
aspiers,2013-09-30 23:56:54,https://api.github.com/repos/openstack/devstack/git/commits/1f3e19363808d03cea14cec620aab441d5d61ee9,1f3e19363808d03cea14cec620aab441d5d61ee9,"Ensure SSL CA certificates are installed for curl

On openSUSE, ensure that the ca-certificates-mozilla package is
installed to avoid curl aborting with

  curl: (60) SSL certificate problem: unable to get local issuer certificate

when trying to download the pip source tarball.

Change-Id: Iaf74204ea5330e9abf56f6c9d5a0f9d83992aa59"
aspiers,2013-09-30 23:35:16,https://api.github.com/repos/openstack/devstack/git/commits/c85ade77204af724ee04f7b7d6d406e50f25ead6,c85ade77204af724ee04f7b7d6d406e50f25ead6,"set errexit and xtrace in helper scripts

stack.sh invokes some helper scripts as separate processes, rather than
by source'ing them.  As with stack.sh itself, abort immediately on the
first error, so that errors don't compound and result in confusing error
messages.  If one of these helper scripts aborts, stack.sh itself will
also abort in the usual manner.

Due to the change in behaviour, tweak some mv invocations to ensure that
they don't trigger false failures.

As with stack.sh itself, also enable xtrace so we can see exactly what's
happening.  In particular this allows us to see the cause of any
premature termination due to a command failing whilst errexit is
enabled.

Change-Id: I7a55784c31e5395e29ab9bbe2bb112b83b9be693"
aspiers,2013-09-30 22:48:26,https://api.github.com/repos/openstack/devstack/git/commits/5946b57bb2b43c1690d85d6423d0a7a56565c6a4,5946b57bb2b43c1690d85d6423d0a7a56565c6a4,"Show where files are copied for sudo switch to stack user

The home directory for the 'stack' user defaults to /opt/stack, which is
not obvious to devstack newbies, and can also be overridden by exporting
a value for DEST.  Therefore it's friendlier to be explicit about the
location of this home directory, to which devstack is copied before
being run as the 'stack' user.

Change-Id: Ia1941a5f2f8cf86a06681e85da52b817a855b8ff"
BobBall,2013-09-29 10:36:28,https://api.github.com/repos/openstack/devstack/git/commits/78ef1f3b2ce978191955f59fcb63892a692c7173,78ef1f3b2ce978191955f59fcb63892a692c7173,"XenAPI: Get the management network dynamically

xenbr0 is correct for most installations, but not all.  Notable xenserver-core
may use a differently named device.  Since we can auto detect this, remove the
config and do so.

Change-Id: I989f6ddd5ffb526ab350f263ef6fc402c596304a"
afazekas,2013-09-27 05:45:56,https://api.github.com/repos/openstack/devstack/git/commits/dc0bd1a88613b1659b780cc412527ee88f84c2e8,dc0bd1a88613b1659b780cc412527ee88f84c2e8,"Use the rdo havana repo with the RHEL family

In devstack viewpoint there is not too much differences at the moment.
But using the grizzly named repo close to havana release, was strange to me.

Switching to the repo link which does not have a version like '-3'.

Change-Id: Ib421d50d19baeeeff264aa0cb9c105fffcf572f8"
CyrilRoelandteNovance,2013-09-27 15:16:51,https://api.github.com/repos/openstack/devstack/git/commits/d9883407e910da0fc8307f12f76c0c8e594321fe,d9883407e910da0fc8307f12f76c0c8e594321fe,"Revert ""Revert ""Swift: configure Ceilometer when it is enabled""""

Commit 6650fda680310e71b5dda7764bf4033f670d90f0 is no longer needed:
https://review.openstack.org/#/c/46048 has been merged.

This reverts commit 6650fda680310e71b5dda7764bf4033f670d90f0.

Change-Id: I47d28a292667eb8ece2061c0ef19c7c925e5747c"
gfidente,2013-09-27 11:17:34,https://api.github.com/repos/openstack/devstack/git/commits/384454de57299981f8020e75bab781f73bacae86,384454de57299981f8020e75bab781f73bacae86,"ensure tgtd is running in debug mode

this change enables on-the-fly tgtd debug before starting cinder

Change-Id: I193bfd77c5a82e8347d75e2a7fe670a6e25f5558"
dtroyer,2013-09-23 18:56:19,https://api.github.com/repos/openstack/devstack/git/commits/7b7bc9209a533c371a13946eac35f3fa6243f74a,7b7bc9209a533c371a13946eac35f3fa6243f74a,"vSphere hypervisor plugin

Convert vSphere hypervisor configuration in Nova to the new plugin setup.

Change-Id: Ibf6f5918e6a8d8a7b7784dac832d806e993cff8f"
sirushtim,2013-09-25 06:00:31,https://api.github.com/repos/openstack/devstack/git/commits/a8d41e3af70309fb9c8df150ef162685bae41ee4,a8d41e3af70309fb9c8df150ef162685bae41ee4,"Normalise RECLONE flag to True Or False.

RECLONE flag now uses function trueorfalse for flag handling.
Added more flag cases to normalisation function trueorfalse.

Fixes bug #1200382

Change-Id: I0738537c87634281c6a92fa93b7f84a6b0dad497"
morganfainberg,2013-09-25 06:43:08,https://api.github.com/repos/openstack/devstack/git/commits/2dc11fb5c843ccf057fac9e01cf6beca7d877421,2dc11fb5c843ccf057fac9e01cf6beca7d877421,"Update user_attribute_ignore for LDAP Identity config

With a recent patch to keystone, the use of tenantId, tenant_id, and
default_project_id was normalized to reference default_project_id for
all cases internally and translate to the expected results at the
controller (v2.0 returns tenantId, v3 returns default_project_id).

Devstack must now properly ignore the expected mapped LDAP attribute
of 'default_project_id' instead of the old 'tenantId'.  Without this
fix devstack will fail when using the LDAP identity backend because
the 'default_project_id' has been made a special case that requires
the operator of a Openstack cloud to explicitly choose an attribute
to map 'default_project_id' to if storing that value is desired.
Without explicitly mapping that attribute and not having it in the
'user_attribute_ignore' config option, the user_creates can fail.

related-bug: 1219739
Change-Id: I1dd3719de50f6d0948b3a9743e32a03d0ac56b3c"
mestery,2013-09-18 20:27:08,https://api.github.com/repos/openstack/devstack/git/commits/6d23500aa66e3d399cd263c2fb1d07dba0e0170c,6d23500aa66e3d399cd263c2fb1d07dba0e0170c,"Default to the ML2 plugin in Neutron instead of OVS

In Icehouse, the OVS and LinuxBridge plugins are being deprecated in
favor of the Modular Layer 2 (ML2) plugin. This change modifies
devstack to default to ML2 when Neutron is used for networking.

Fixes bug 1220745

Change-Id: I9a4c84b04727a710219fc11f862a655309ffb99b"
dtroyer,2013-09-23 19:07:31,https://api.github.com/repos/openstack/devstack/git/commits/f4bd16ac84904eb3afc0eca283b63a1a6efd2c5a,f4bd16ac84904eb3afc0eca283b63a1a6efd2c5a,"fake hypervisor plugin

Convert fake hypervisor configuration in Nova to the new plugin setup.

Change-Id: I8b1404ee97a2a65f0884efae642b98bb134cb2aa"
dtroyer,2013-09-23 18:44:38,https://api.github.com/repos/openstack/devstack/git/commits/9a532b84474f5c6e9e11808bcda9566f20274011,9a532b84474f5c6e9e11808bcda9566f20274011,"XenServer hypervisor plugin

Convert XenServer hypervisor configuration in Nova to the new plugin setup.

Change-Id: I8916560ca3f2dae8b8d8bcb60b7aa2eb5984cbcb"
mestery,2013-09-22 03:04:56,https://api.github.com/repos/openstack/devstack/git/commits/14ea1a2b79aa7a9e7fff284b7d534c0038bbaa89,14ea1a2b79aa7a9e7fff284b7d534c0038bbaa89,"Correctly set the L3 service plugin for ML2

ML2 uses a service plugin for L3. This patch to devstack
correctly sets this by setting or updating the variable
Q_SERVICE_PLUGIN_CLASSES, which makes ML2 compatible when
running with other service plugins (e.g. LBaaS and VPN).

Fixes bug 1231622

Change-Id: I0ce1f5a42bd052995135ffac1ee5ef382d69789e"
zqfan,2013-09-19 18:20:35,https://api.github.com/repos/openstack/devstack/git/commits/7d5621583737fd74119cc30e8216780e1a192291,7d5621583737fd74119cc30e8216780e1a192291,"Replace OpenStack LLC with OpenStack Foundation

Change-Id: I7642e7163b615798867881b012240164465c5e43
Fixes-Bug: #1214176"
rhafer,2013-09-12 12:24:47,https://api.github.com/repos/openstack/devstack/git/commits/704106a1bd316d9a0df2f82233817ceeda92e744,704106a1bd316d9a0df2f82233817ceeda92e744,"Fix LDAP support for openSUSE

Closes-Bug: #1227651
Change-Id: I1c55fbb2f65f882a0ae2bcf4767c0a3e0f0f47e7"
afazekas,2013-09-16 16:35:49,https://api.github.com/repos/openstack/devstack/git/commits/3418c1caa5c52fd9989e5829fda0848b4a8dfea7,3418c1caa5c52fd9989e5829fda0848b4a8dfea7,"Increase default swift storage

Swift storage is used as glance image back-end. Tempest have cinder to
uploads 1 GiB image from cinder in twice.

In parallel execution in cause an issue, bacuse the current default size is
1_000_000 KiB.

Increasing the default swit storage size from 1_000_000 KiB 4_000_000
KiB when tempest is enabled.

Fixing bug 1225664

Change-Id: Iccd6368e4df71abb5ccfe7d361c64d86e1071d35"
russellb,2013-09-17 21:15:25,https://api.github.com/repos/openstack/devstack/git/commits/0f4f44315905db86fb0e3f43f9c6cf3b85ea34c1,0f4f44315905db86fb0e3f43f9c6cf3b85ea34c1,"docker: ensure socat is installed

install_docker.sh failed for me because socat wasn't installed.  Add it
to this script since it expects it to be there.

Change-Id: Ic55f5e38de1b38bdd37407b7bec533d4c3eff2a9"
aaronorosen,2013-09-16 20:58:08,https://api.github.com/repos/openstack/devstack/git/commits/1e4551db44d6c6d89ab5a595935b310ea0584210,1e4551db44d6c6d89ab5a595935b310ea0584210,"use method pip_install over sudo pip install so proxy settings work

Change-Id: I2f0c69a72ef73c317b707d99c65cab0fb590d158"
afazekas,2013-09-15 23:40:13,https://api.github.com/repos/openstack/devstack/git/commits/8f5bf93d069f2ec4b85710fb05378e5d3027be86,8f5bf93d069f2ec4b85710fb05378e5d3027be86,"lib/tempest remove whitebox section

tempest whitebox tests are removed from the tempest repo, so it's
configuration is unnecessary.

Change-Id: I6659e2af894014518a486f411ca06179d43bbb8b"
jogo,2013-09-12 18:42:08,https://api.github.com/repos/openstack/devstack/git/commits/c76c058df21ae9fa0198dfcaad0c0ea4ead8e09f,c76c058df21ae9fa0198dfcaad0c0ea4ead8e09f,"Disable ceilometer.compute.nova_notifier driver

It appears that the ceilometer nova notification driver is causing
nova-compute to hang.  The last thing nova-compute logs before hanging
is a line from this driver.  At the very least the ceilometer nova
notification keeps stacktracing.

Change-Id: Ic375272b751159a64777ca73c1b64515195aacfb
Related-Bug: #1221987"
salv-orlando,2013-08-20 21:51:08,https://api.github.com/repos/openstack/devstack/git/commits/05ae833be298d1b8fa85cfbb9ef57c059baea05e,05ae833be298d1b8fa85cfbb9ef57c059baea05e,"Colorize Neutron log output and refactor log setup code

Bug 1214616

This patch adds colors to on-screen Neutron log output in the same way nova,
cinder, and heat engine do.
To this aim, colorized logging configuration has been moved to ./functions.
The reason for this refactoring is that these instruction are the same or
very similar for each project, with the only exception of the target
configuration file.

Change-Id: Idf0d1b842bb9ab046c9ef826de1dfc55b3f1df9d"
SlickNik,2012-12-04 01:15:09,https://api.github.com/repos/openstack/devstack/git/commits/0cccad43aad08487ad1712c63afed602889aaf72,0cccad43aad08487ad1712c63afed602889aaf72,"Added Trove (Database as a Service).

- Added changes to stackrc for the Trove Repos.
- Added support to devstack for ""install"", ""configure"",
  ""init"", and ""run""

implements blueprint:trove-devstack-integration

Change-Id: Ib3f6daad33e629f764a174b80762c808ce8588e2"
OrKoN,2013-09-01 14:26:03,https://api.github.com/repos/openstack/devstack/git/commits/cd77058ee0e974bd9bd7acaf8426ef24ea9a7a52,cd77058ee0e974bd9bd7acaf8426ef24ea9a7a52,"blueprint devstack-support-for-keystone-mixbackend

Added KEYSTONE_ASSIGNMENT_BACKEND to support mixed backend

Modified code for KEYSTONE_IDENTITY_BACKEND according to comments.
Implemented the check for variables instead of case statements.
UPD: Removed arrays.
UPD2: fixed spacing issues
Change-Id: Ie92eed1fb5be5f875ef6633ede9c9e08daf6bf4f
Implements: devstack-support-for-keystone-mixbackend"
cboylan,2013-09-10 23:39:18,https://api.github.com/repos/openstack/devstack/git/commits/6650fda680310e71b5dda7764bf4033f670d90f0,6650fda680310e71b5dda7764bf4033f670d90f0,"Revert ""Swift: configure Ceilometer when it is enabled""

This reverts commit f208aafa35996c98de40c1388bbebf326ab2ed20. This
commit broke swift functional tests because the ceilometer middleware
changes HTTP 404 responses into zero byte responses. This results in
BadStatusLine exceptions. Back out the use of ceilometer middleware
until it can be fixed.

Change-Id: Ie25269b58334c40dc1ecae985326af1cf29c3af4"
SpamapS,2013-09-10 18:37:47,https://api.github.com/repos/openstack/devstack/git/commits/f68c9d3fb77dab0a3ba4a63cd20e3f4bfac11c2b,f68c9d3fb77dab0a3ba4a63cd20e3f4bfac11c2b,"Fix section on iniset for max_template_size

The section was not specified, leading to trying to create a section of
max_template_size.

Change-Id: Ie3b525030efa780e9cef2d3108be92169d400857"
gkotton,2013-09-10 12:20:07,https://api.github.com/repos/openstack/devstack/git/commits/5c3b861c1963ca6fee9048ed88873c4efea64b8c,5c3b861c1963ca6fee9048ed88873c4efea64b8c,"VMware: remove invalid configuration variable

The configuration variable vmware_cluster_name is not used by the cinder plugin.

Change-Id: I8c0ed58d1dcd66b6f8ea3325007bf5135216933c"
gfidente,2013-09-10 00:51:26,https://api.github.com/repos/openstack/devstack/git/commits/3632ab1b66e4928ed0b9ef6ef65392c0e5531a66,3632ab1b66e4928ed0b9ef6ef65392c0e5531a66,"enable volume backup tests if c-bak is enabled

this will set to True the tempest volume/volume_backup_enabled
option if c-bak is in ENABLED_SERVICES

Change-Id: I69931d668411fc8144d0fdb2f58ad9b6e987f793"
amotoki,2013-09-09 20:22:37,https://api.github.com/repos/openstack/devstack/git/commits/eaa9e1e3e0af74ac66cd934bde6762a63d14d1a8,eaa9e1e3e0af74ac66cd934bde6762a63d14d1a8,"Configure VPNaaS Horizon panel if q-vpn is enabled

Change-Id: I062fd31cb1de50f356c2c549a783d9c597b129fa
Closes-Bug: #1223012"
CyrilRoelandteNovance,2013-09-05 09:20:15,https://api.github.com/repos/openstack/devstack/git/commits/f208aafa35996c98de40c1388bbebf326ab2ed20,f208aafa35996c98de40c1388bbebf326ab2ed20,"Swift: configure Ceilometer when it is enabled

This allows the storage.objects.{incoming,outgoing}.bytes measurements to be
easily used.

Closes-Bug: #1221097
Change-Id: If988a85930d7df1e043997763c3b5ebd720d6d86"
SpamapS,2013-09-09 18:54:28,https://api.github.com/repos/openstack/devstack/git/commits/54d1faecc56e8008717b02e3c92b5abf628024db,54d1faecc56e8008717b02e3c92b5abf628024db,"Lower Heat max_template_size for Tempest

The default size leaves a very large padding for users to create larger
templates, but for testing and development a 10kB template is plenty.

This value is specifically meant to mirror upcoming changes to tempest
so that they are unified and can be tested in lock-step.

Change-Id: I0ea9798018a6d864ac04429c3ac89fb374583fb6"
bobmel,2013-01-31 16:12:56,https://api.github.com/repos/openstack/devstack/git/commits/748fe3d5e33337555b0ae16ef1d3b3ed02ad80f2,748fe3d5e33337555b0ae16ef1d3b3ed02ad80f2,"Changes to make Devstack work with Neutron L3 plugin patch.

Implements bp/quantum-l3-plugin-support

Change-Id: I0c56661685fb641efe34fee1390d7d4f37f84494"
umago,2013-09-06 17:14:51,https://api.github.com/repos/openstack/devstack/git/commits/c33d1f986ed4c0ed8a944ada3030c1de51892290,c33d1f986ed4c0ed8a944ada3030c1de51892290,"Wrong arguments for die() call

die() needs $LINENO as its first arg

Change-Id: I7c8043dbeb55ec9ed566e7055a02c0a2993d0a8a"
dirkmueller,2013-09-09 12:31:37,https://api.github.com/repos/openstack/devstack/git/commits/46d1ba6ef02b52de47897b78ccf9a29d022a0c17,46d1ba6ef02b52de47897b78ccf9a29d022a0c17,"Install schema-image.json

Otherwise a warning is logged during startup

Change-Id: I958ab8bb7bce474d3e6854b43bb4709986fb61d4
Fixes: LP Bug#1222797"
mestery,2013-09-09 08:52:19,https://api.github.com/repos/openstack/devstack/git/commits/061d52507d4f4e597b825e7e7fb0d9d1858e08db,061d52507d4f4e597b825e7e7fb0d9d1858e08db,"Augment instead of override extra ML2 options.

The existing ML2 code overwrote extra options set in localrc with
defualt values in some cases. This fixes it so it no longer does
that and instead adds to rather than overrides those values.

Fixes bug 1222854

Change-Id: Iafdaad7d4253f1b61e8a214c50adaf7599a641f2"
ryu25ish,2013-08-27 09:32:00,https://api.github.com/repos/openstack/devstack/git/commits/35f0966d351c6cf4fe11c7bf482e1d9c02c7dac5,35f0966d351c6cf4fe11c7bf482e1d9c02c7dac5,"Modify midonet plugin to support the latest MidoNet

MidoNet has been upgraded and devstack needs to be updated to
be compatible.  This change is required to run the current
version of MidoNet plugin with DevStack.

Closes-Bug: #1222314
Change-Id: If3379b4d5da4e4fcf989ee7398b5952d71b68d5a"
umago,2013-08-28 10:32:14,https://api.github.com/repos/openstack/devstack/git/commits/74aad31c33b08f53681af07d79421970a106548f,74aad31c33b08f53681af07d79421970a106548f,"Missing pxelinux.0 on RedHat systems

On a RedHat system the syslinux binaries are located in a different
directory.

Change-Id: I3b7a111e82e8845b6222c57fb2cfb725d9bb1dd7"
mestery,2013-09-06 14:59:30,https://api.github.com/repos/openstack/devstack/git/commits/bc6324771b538ff9aee3ad44c4ca5ecdad402273,bc6324771b538ff9aee3ad44c4ca5ecdad402273,"Default to linuxbridge and openvswitch drivers for ML2.

Since the addition of ML2 port-binding, the linuxbridge and openvswitch
drivers are required to be loaded when running with ML2. This small
patch adds their loading into ML2 into devstack.

Fixes bug 1220743

Change-Id: I97c5f4e0e4af59766e0084ed3b2dea2843cb33bf"
asalkeld,2013-09-06 03:35:09,https://api.github.com/repos/openstack/devstack/git/commits/e118655028bfb093c5dd0cde4d615a23a0abbc7c,e118655028bfb093c5dd0cde4d615a23a0abbc7c,"Fix Heat's signing_dir

This is not critical but looks odd using api-cfn.

Change-Id: Ie0f5c66f635b4a7c6ba51581ad01bab624158e61"
gumho,2013-09-05 06:51:29,https://api.github.com/repos/openstack/devstack/git/commits/a6273b9378622318057c2f5f685022389a066818,a6273b9378622318057c2f5f685022389a066818,"Provide a means of setting vmdk custom properties via image filename

Custom properties for vmdk disk type, storage adapter type, and
networking adapter type can now be retrieved from a vmdk image's
filename. The filename format is defined as:

  <name>-<disk type>:<storage adapter>:<network adapter>

An example filename following this format would be
debian-2.6.32-i646-thin:ide:VirtualE1000. If the vmdk filename does not
match the above format then underlying nova driver will supply default
values.

Change-Id: I83483d20f984250bd8154d8e270b2e801d2df303
Closes-bug: #1221044"
jogo,2013-09-05 20:06:52,https://api.github.com/repos/openstack/devstack/git/commits/33b331875d9ec904419ad8da3f5bf66077e5d78c,33b331875d9ec904419ad8da3f5bf66077e5d78c,"Enable multi-threaded nova API servers

Add an additional worker thread for each nova service: compute, ec2 and
metadata.  Any real deployment will be using multiple API server
threads, so lets make devstack test that scenario.  With this patch we
will have four worker threads for each type of API server.

Change-Id: I09f4c6f57e71982b8c7fc92645b3ebec12ff1348"
jd,2013-08-27 09:43:53,https://api.github.com/repos/openstack/devstack/git/commits/69f745748d4f2bcfd3e678037187bce1f8e53ccf,69f745748d4f2bcfd3e678037187bce1f8e53ccf,"Switch Ceilometer default backend to MySQL

MongoDB 2.4 not being available in Ubuntu cloud archive for a while now,
and the catch up done by this driver allows me to think it might be a
good idea to switch by default on SQL for now on devstack.

We can add another job to have Ceilometer tested on MongoDB too later.

Change-Id: I74c3c436d009fed898c5ae4ffb82763e9a337d90"
sbauza,2013-08-29 15:29:46,https://api.github.com/repos/openstack/devstack/git/commits/e2c4ee23642a00ebed0343ad2086b5c250f24516,e2c4ee23642a00ebed0343ad2086b5c250f24516,"Fix Neutron issues related to Baremetal service

When deploying devstack on a single host with a single NIC and
baremetal and neutron services enabled, the host looses Internet
access as default route is deleted.

Also, if localrc is not correctly set with correct values, OVS ports
and Neutron net and subnet aren't created (commands missing
arguments), we need devstack to properly fail.

Change-Id: I7f39bbdf7b8cb544b8b4a59effe16f04b85d1425"
hemna,2013-08-30 19:39:42,https://api.github.com/repos/openstack/devstack/git/commits/4d0d5ce778d4fa79cdbe2e5532608060a95870e3,4d0d5ce778d4fa79cdbe2e5532608060a95870e3,"Cinder needs iscsiadm available

This patch adds the binary packages that contains
the iscsiadm utility for cinder.   Cinder
uses the iscsiadm utility for various actions
and it should be there for devstack users.

Fixes bug #1219032

Change-Id: I8e1c6e2e5d4bfade50aba9259b6da3957d6d622d"
dtroyer,2013-08-30 20:11:22,https://api.github.com/repos/openstack/devstack/git/commits/533e14d6a5fc1ba3dbd24fb0075ef1eafd00a705,533e14d6a5fc1ba3dbd24fb0075ef1eafd00a705,"Copy policy_add() from Grenade functions

policy_all() was added to Grenade's functions file, which is notmally synced
from DevStack so we need to bring it over here before the next sync.

Change-Id: Ifd852e9d1ffe39fa23f6312d1ddf2874b5f2b9f0"
dtroyer,2013-08-10 00:51:20,https://api.github.com/repos/openstack/devstack/git/commits/49ba22460bfc7932f061e7c2a100d73c8781d48b,49ba22460bfc7932f061e7c2a100d73c8781d48b,"Move RHEL6 hacks to tools/fixup_stuff.sh

Change-Id: Ice983bc16379bc2bc25659c37cfc16b63fdfc34b"
jogo,2013-08-30 17:48:08,https://api.github.com/repos/openstack/devstack/git/commits/bee5c50766698baa87f5e049734708436766777b,bee5c50766698baa87f5e049734708436766777b,"Disable neutron quotas when using fake virt driver

Nova's fake virt driver, can be used to do scale testing, so when using
it disable neutron's quota limits.

Change-Id: I9ce995079af04202179820777217ef294df71226"
asalkeld,2013-08-30 00:48:46,https://api.github.com/repos/openstack/devstack/git/commits/a213e2c3cafe0739c60766b451d0d44755e87ced,a213e2c3cafe0739c60766b451d0d44755e87ced,"Move Heat to a single heat.conf

the old config files that are no longer needed (but still supported):
heat-engine.conf, heat-api.conf, heat-api-cfn.conf, heat-api-cw.conf

Change-Id: I7ba0566325539bf7215bcb606843a90b5e3e4a98"
dtroyer,2013-08-05 00:53:19,https://api.github.com/repos/openstack/devstack/git/commits/2aa2a89cdb9071cea919116e283c16ac9dd841d6,2aa2a89cdb9071cea919116e283c16ac9dd841d6,"Add support for Docker as Nova hypervisor

* Add basic support for hypervisor plugins in lib/nova_plugins
* Add lib/nova_plugins/hypervisor-docker to use Docker as a Nova
  hypervisor.
* Add tools/install_docker.sh to install the Docker daemon and
  registry container, download base image and import
* Configure Nova to use docker plugin
* Add docker exercise and skip unsupported ones

Nova blueprint: new-hypervisor-docker

Change-Id: I9e7065b562dce2ce853def583ab1165886612227"
gongysh,2013-08-28 09:02:56,https://api.github.com/repos/openstack/devstack/git/commits/300e1bf276b16c7aeab1631f709048346db63bd8,300e1bf276b16c7aeab1631f709048346db63bd8,"Use the varialbe to export right keystone api version

Change-Id: I1e8ea2b7173c549065ed1f08814eb4b4bb2f05cd
Fixes: Bug #1217783"
dtroyer,2013-08-27 22:06:14,https://api.github.com/repos/openstack/devstack/git/commits/04762cd823302ca9992b67419e55ad5fc4dbf8fe,04762cd823302ca9992b67419e55ad5fc4dbf8fe,"Fix is_package_installed() check with dpkg

is_package_installed() incorrectly returned '0' for packages that
had 'un' status in the dpkg database.

Change-Id: I81b77486c2ed7717ed81cb2c2572fe6c4b394ffc"
jogo,2013-08-26 21:00:05,https://api.github.com/repos/openstack/devstack/git/commits/bb8c6d42a4628f2a696babcc960e293786f67af6,bb8c6d42a4628f2a696babcc960e293786f67af6,"add TEMPEST_LARGE_OPS_NUMBER to option

The tempest scenario.large_ops test tries to catch any performance issues
when running large numbers of operations at once, in this case launching
instances.

Set to 0 by default, to maintain the current default, but add this as an
option so this can be set via devstacks localrc.

Part of regression test for bug 1199433

Change-Id: I459717b849f9b6d180a7956c0ff470cefe7c1ff6"
gkotton,2013-08-20 06:46:17,https://api.github.com/repos/openstack/devstack/git/commits/dc4f2342dba3bb37c42f1c0782eb2cb82d3a63a3,dc4f2342dba3bb37c42f1c0782eb2cb82d3a63a3,"VMware: update cinder support for VMware configuration settings

The review https://review.openstack.org/#/c/41600 was update to
have a 'vmware' prefix for all of the VMware cinder settings. These
were previously in a 'vmware' section and now they are in the
'DEFAULT' section.

Change-Id: I8eadfb0f64914d3b0667760aff651415df48f627"
asalkeld,2013-08-26 00:15:38,https://api.github.com/repos/openstack/devstack/git/commits/fb71a272db2bc447f2ee7c842f8b245d497b4217,fb71a272db2bc447f2ee7c842f8b245d497b4217,"Add support for heat resource templates

These are resources that are defined as a template and
can be customised by a deployer.

Change-Id: Ia739a36d627b7cfec26641b89513355e65cd1d1f"
asalkeld,2013-08-26 00:13:36,https://api.github.com/repos/openstack/devstack/git/commits/f645a8504a2b0b824cfa6693a49e5032d0b9d1ee,f645a8504a2b0b824cfa6693a49e5032d0b9d1ee,"Add support for heat enviroments

heat now has global environments that make it easy
to rename and customise resource behaviour. These
are yaml files that need to be in /etc/heat/environment.d/

Change-Id: I5a08c6ce8f5d7222f79aab2be0903ba783c10aa1"
gongysh,2013-08-25 03:21:13,https://api.github.com/repos/openstack/devstack/git/commits/8535d8b3fc283ac4ebb7a851b19bf2bff36d78d0,8535d8b3fc283ac4ebb7a851b19bf2bff36d78d0,"use keystone service port instead of admin port

Change-Id: Iaf1848ecabf100171f741fde0efee5d8f65b7795
Fixes: Bug #1214921"
gongysh,2013-08-25 02:21:10,https://api.github.com/repos/openstack/devstack/git/commits/032e45468ecf9f8e1ee6745f03a43e8ec3dd2b59,032e45468ecf9f8e1ee6745f03a43e8ec3dd2b59,"change quantum into neutron for neutron configuration values in nova.conf

Change quantum into neutron Since nova already
supports the new neutron items and values

Change-Id: I747eae613c0ec28596ea67da4e98fb3d7f6d93bc
Fixes: Bug #1216455"
mestery,2013-08-22 11:25:21,https://api.github.com/repos/openstack/devstack/git/commits/73b21910123704ac64ca3d2ba7f50e90e248d7ea,73b21910123704ac64ca3d2ba7f50e90e248d7ea,"Add support for setting Neutron DHCP agent options.

This patch adds support for setting arbitrary Neutron DHCP agent options.
An example of using it would be to add this to your localrc:

    Q_DHCP_EXTRA_DEFAULT_OPTS=(enable_multihost=True)

Change-Id: I56d267eafa06c52c3867e3396483f5fde3ee5570"
romcheg,2013-08-09 07:40:45,https://api.github.com/repos/openstack/devstack/git/commits/ce696b60d77752f74924fa133c45910e9d0ef706,ce696b60d77752f74924fa133c45910e9d0ef706,"Basic support of Ironic

Ironic is an OpenStack project than brings a
separate service for baremetal provisioning.
Currently Ironic is in incubation but it needs
to have basic support in devstack to provide
automatic deployment testing.

Change-Id: Ide65a1379fa207a6c8b2c7d9a4f9c874b10fd9ba"
afazekas,2013-08-14 14:04:01,https://api.github.com/repos/openstack/devstack/git/commits/fac533e38db871631cee33d0e3c94884035851b8,fac533e38db871631cee33d0e3c94884035851b8,"Configure bash completion

Add bash completion rules to the /etc/bash_completion.d from the
 cinder, neutron, keystone, nova and nova-manage.

This is very fast operation and makes the cli usage easier.

Change-Id: Icdcdaf55d58efaaa1afe25fd55f088bf7dc8b3f1"
berendt,2013-07-22 09:37:42,https://api.github.com/repos/openstack/devstack/git/commits/71d5630c4ad2dd74964119a4ad8f16833f61fc21,71d5630c4ad2dd74964119a4ad8f16833f61fc21,"Adds new tag for testonly packages in package lists

Also introduces a new parameter INSTALL_TESTONLY_PACKAGES
in the stackrc with False as default value. Setting it to
True stack.sh will install all packages tagged with the tag
testonly in the package lists.

Includes needed packages for Ubuntu and Fedora

fixes bug #1203680

Change-Id: I911a6601819a34262853bba0658f6751148bfbec"
jd,2013-08-19 14:16:54,https://api.github.com/repos/openstack/devstack/git/commits/7fb9808e61e9e38eb62a446dee9933d88a6dd086,7fb9808e61e9e38eb62a446dee9933d88a6dd086,"Remove useless sources.list

Change-Id: I136b568f04f1de35556aa7c3d546c44402254eef"
joequant,2013-08-19 03:58:25,https://api.github.com/repos/openstack/devstack/git/commits/4f7dccc34729cf15195f80c753e0f8a27c24171c,4f7dccc34729cf15195f80c753e0f8a27c24171c,"turn out usb_tablet for libvirt

This patch turns out usb_tablet for the libvirt nova.conf file.
When usb_tablet is turned on, qemu will poll for usb events and
this causes CPU usage even when the qemu is idle.

Change-Id: I03e260dfd0873b7d15e01c10c206203833d04e73"
cboylan,2013-08-16 21:57:38,https://api.github.com/repos/openstack/devstack/git/commits/41815cdc7bcbd91500f9efad0f4e8d57fa4b284c,41815cdc7bcbd91500f9efad0f4e8d57fa4b284c,"Echo service start failures.

* functions: Previously screen_it would log service start failures by
touching a file, this isn't very useful when working with Jenkins.
Switch to echo'ing that a service failed to start and pipe that through
tee so that we can keep the old behavior of touching a file (note this
behavior is slightly modified and the touched file will now have
contents).

Change-Id: I2d3f272b9a65a9d64dbbc01373a02fccf52f56a8"
aababilov,2013-08-16 18:53:22,https://api.github.com/repos/openstack/devstack/git/commits/c2a4c9238d4004f0271d51a5fc9b66bb94ba3a8f,c2a4c9238d4004f0271d51a5fc9b66bb94ba3a8f,"Fix 'olso' typo in lib/oslo

This enables commit If92073be5a431840701c952a194e63a7c452c9ca
for cleaning up potentially installed older oslo.config. Here are
its original details.

If the user had oslo.config installed prior to us setting up the
oslo.config out of git they can get themselves into this very funny
situation where pip doesn't see oslo.config 1.1.x, however some
packages might. This manifests itself as a user error trying to
start nova-api which uses DeprecatedOption, not in oslo.config 1.1.x

Because of the funny state pip is in, you can't uninstall oslo.config.

So in these situations, if we see old oslo.config in the filesystem,
pip install / uninstall it to ensure that everyone ends up using the
git version instead.

To reduce the amount of user confusion, do this on every
install_oslo for a while, which we can purge after Havana ships.

Change-Id: I7fa0b70497bf5622f4638da284afe5363a004d3c
Fixes: bug #1213089"
afazekas,2013-08-06 06:00:06,https://api.github.com/repos/openstack/devstack/git/commits/248a8cce71754b4a16c60bd161ec566098b81305,248a8cce71754b4a16c60bd161ec566098b81305,".conf suffix for the horizon config on Fedora

On Fedora by default the *.conf imported only from
the /etc/httpd/conf.d/.

Changing the default config name to horizon.conf with all
distribution in order to have a simple logic.

Change-Id: I08c3e825f697640fd73ac1f9c569f313abc3c04f"
BobBall,2013-08-12 16:28:50,https://api.github.com/repos/openstack/devstack/git/commits/4669122dc8e50a3c0cead54e227a5a46508fed50,4669122dc8e50a3c0cead54e227a5a46508fed50,"Add XenServer to GetDistro's logic

This is primarily to satisfy the expectations of various scripts that os_*
variables are defined, and will result in a distro similar to ""xs6.1.0-59235p""

Fixes bug 1211001

Change-Id: I951e1eb3a5e25f4d8773a11b15cf38157b6492fe"
lorin,2013-08-13 18:34:18,https://api.github.com/repos/openstack/devstack/git/commits/cfb708d9c53e1680f21ef63c1715ca2693b9758d,cfb708d9c53e1680f21ef63c1715ca2693b9758d,"Redirect dpkg -l stderr to /dev/null

Fixes bug 1211413

Change-Id: I33a7e1e8fb3755c69ca0570e333e4908cb6f3da4"
afazekas,2013-08-13 16:55:33,https://api.github.com/repos/openstack/devstack/git/commits/025fc5e5f5d7f92f0d0bda7032cf1782b029f28a,025fc5e5f5d7f92f0d0bda7032cf1782b029f28a,"Faster old oslo.config detection

Just search in the path where python searches for modules.
Let's use python for searching, it knows the exact rules.

Change-Id: I659f734c418ab5e56f4956f418af48dfbe054c8a"
salv-orlando,2013-08-13 16:02:46,https://api.github.com/repos/openstack/devstack/git/commits/f5dbf8c8ef30c66cd40b07605b4aefa06b3e3c1d,f5dbf8c8ef30c66cd40b07605b4aefa06b3e3c1d,"Fix option for metadata access in nicira neutron plugin

Bug 1211850

Set metadata_mode option rather than enable_metadata_access_network.

Change-Id: Ia85aba4d0dfb3e7b21937cf15aebc629e3705aed"
gkotton,2013-08-13 07:32:20,https://api.github.com/repos/openstack/devstack/git/commits/c325227465e5b31936bbab888d2a282be097d01e,c325227465e5b31936bbab888d2a282be097d01e,"VMware: Add cinder support to devstack

The patch set adds cinder support to devstack. VMware cinder support
can be found at:
 - Nova - https://review.openstack.org/#/c/40245/
 - Cinder - https://review.openstack.org/#/c/41600/

Change-Id: I0a05643010ea6cfb6635505accc3dcf411fdd419"
cybertron,2013-08-10 14:56:16,https://api.github.com/repos/openstack/devstack/git/commits/039979424bebc71b94f53f51030eda5e9d2b7734,039979424bebc71b94f53f51030eda5e9d2b7734,"Allow disabling of debug logging

I find that enabling the debug log level often causes me to miss
important error messages due to the sheer volume of information
logged.  This change allows configuration of the debug option
in a number of the projects so it can be disabled globally
without having to make one-off changes after each re-stack.

Note that this does not apply to Keystone or Swift right now.
They use a different method to configure their logging level and
I'm not as familiar with them so I didn't want to mess with their
settings.

Change-Id: I185d496543d245a644854c8a37f3359377cb978c"
marun,2013-08-10 21:27:54,https://api.github.com/repos/openstack/devstack/git/commits/bf10ac55a99d226a81bdbc7e6bd1e85b4f48652d,bf10ac55a99d226a81bdbc7e6bd1e85b4f48652d,"Add auth config for neutron metadata proxy

 * Without auth config, the proxy will return 500 errors on
   cloud-init requests, which will cause VM connectivity
   checks to fail.
 * A cleaner fix would be for the metadata proxy to reuse the
   configuration from the keystone_authtoken section of
   neutron.conf, but I chose the easier route because of a
   pending switch from REST to RPC communication (RPC won't
   need the auth config).
 * Fixes bug 1210664

Change-Id: Iaa3c74f5ada2404119c44c8cbdad380eda158f66"
holms,2013-08-07 13:20:36,https://api.github.com/repos/openstack/devstack/git/commits/99405a45aa3930a9b695d9a1c1dabf0d967e48ad,99405a45aa3930a9b695d9a1c1dabf0d967e48ad,"Pip install fails because of --use-mirrors parameter

Having --use-mirrors parameter in pip commands causes pip to hang on
some distros.

Pypi uses CDN for long time already, so there's no point to keep this
parameter no more.

Wipe PIP_USE_MIRRORS out of the ""function"" file.

Change-Id: I70adaf6591834af2482e09eb7f8f9f60df8e7692
Closes-Bug: #1069309"
steveb,2013-08-06 04:42:38,https://api.github.com/repos/openstack/devstack/git/commits/556ffe402252b8e993f7849a2d7e959adc8c6291,556ffe402252b8e993f7849a2d7e959adc8c6291,"Colorize heat engine log

Change-Id: If6ffb234e360e8a579eb8e1e7baedb90354b10ae"
steveb,2013-07-18 22:34:24,https://api.github.com/repos/openstack/devstack/git/commits/d5cccad2f0655b59e1db9219458f8bc35edb9ad1,d5cccad2f0655b59e1db9219458f8bc35edb9ad1,"Generate heat images for tempest tests

This requires HEAT_CREATE_TEST_IMAGE to be set for any images
to be created.

If the file (files/fedora-vm-heat-cfntools-tempest.qcow2) already
exists then disk-image-create will not be called, and the existing
image file will be registered with glance. This is most likely to
happen in the following scenarios:
- a second run of stack.sh
- the image has been pre-built elsewhere (such as during devstack-gate
  image building)
Change-Id: I276573a20927e72f2cb68784f655c1ba1913ae8a"
emonty,2013-08-11 02:49:47,https://api.github.com/repos/openstack/devstack/git/commits/dace92f557a3c07a80bb9a5d9e480810d81611e9,dace92f557a3c07a80bb9a5d9e480810d81611e9,"Stop doing special things with setuptools

pip 1.4 can handle the distribute/setuptools upgrade sequencing
appropriate. So it turns out all we need to upgrade is pip, and then the
rest will fall in to place. This will still not fix the packages vs. pip
interactions, but we don't to muck with the system setuptools packages
at all.

Change-Id: I99220ccc190798c3eb77bb2361abc6606bd546b4"
dtroyer,2013-08-09 20:09:31,https://api.github.com/repos/openstack/devstack/git/commits/9acc12a3921a261c7ae7a1902871183a6a5b64da,9acc12a3921a261c7ae7a1902871183a6a5b64da,"More Python package fixes

* Add tools/fixup_stuff.sh to fix prettytable and httplib2 install
  with pip 1.4+
* Cache downloads properly in tools/install_pip.sh

Change-Id: I482590cb91f7a10c1436bc9015afd572ac1cc73e"
j-griffith,2013-08-10 17:48:07,https://api.github.com/repos/openstack/devstack/git/commits/4b600898743a19f18e83c938eb15744bb2dc13c1,4b600898743a19f18e83c938eb15744bb2dc13c1,"Add some missing pkgs to Cinder install

Added python-dev even though it's picked up
by other projects already, just to be explicit.

Also added libpq-dev, this way users can just
run ""sudo pip install -r test-requirements.txt""
and perform everything in run_tests.sh without the
need for venv.

Change-Id: I3953032ac40ef78fc6f67d77539e13539fbbb2ac"
BobBall,2013-07-29 12:10:25,https://api.github.com/repos/openstack/devstack/git/commits/376b6316608fe72bc4a0bd997e1c94f76b086588,376b6316608fe72bc4a0bd997e1c94f76b086588,"Force $DEST to have wider permissions

This is particularly useful in the case where we create the
home directory above and the permissions are too strict.

Other users, such as the apache user, need read/execute for this
directory.

Change-Id: I908d993dbcd863b482030afcc04e5e7b9f4cffa1"
Thingee,2013-02-12 10:16:41,https://api.github.com/repos/openstack/devstack/git/commits/b3862f98718317042dd48871d50da1e5255c0329,b3862f98718317042dd48871d50da1e5255c0329,"Add Cinder V2 API to keystone catalog

Support both SQL and templated keystone backend. This will add an
additional endpoint to go with v1.

Change-Id: I19168d55c2ffad2b1cd668b6c1341dc8e49e9c1f"
dtroyer,2013-08-01 22:40:40,https://api.github.com/repos/openstack/devstack/git/commits/62d1d698a0c1459e2519938259175cfed86f4a55,62d1d698a0c1459e2519938259175cfed86f4a55,"Add tools/install_pip.sh

Install a known working recent version of pip that handles installation
dependencies more correctly than before.  Extract to a separate script
so it can be used apart from stack.sh.

* Install distro setuptools if it not already present
* Install pip from source tarball as get-pip.py proved to be unreliable
* Remove python-distribute and python-pip from all prereq files,
  move python-setuptools to 'general'
* Remove the earlier unfubar_setuptppls() call that attenpted to fix this
* Only update requirements.txt when no changes in repo

Tested on Precise, F18 and CentOS6.
* Fedora and RHEL allow pip to install packages ON TOP OF RPM-installed
  packages.  THIS IS BROKEN.  And is one reason we have to be so picky
  about order and so forth.

Change-Id: Ibb4b42119dc2e51577c77bbbbffb110863e5324d"
steveb,2013-07-31 22:44:09,https://api.github.com/repos/openstack/devstack/git/commits/389b3a02335887a3d6dbc73b0d0b8476a0f69c33,389b3a02335887a3d6dbc73b0d0b8476a0f69c33,"Support heat in standalone mode.

The following localrc will launch only heat in standalone mode
and allow it to provision within the openstack specified by
the configured keystone endpoint:
HEAT_STANDALONE=True
ENABLED_SERVICES=rabbit,mysql,heat,h-api,h-api-cfn,h-api-cw,h-eng
KEYSTONE_SERVICE_HOST=...
KEYSTONE_AUTH_HOST=...

Change-Id: I0d8a541fc9d592577423b074c789829f8b8d6702"
BobBall,2013-07-29 14:51:43,https://api.github.com/repos/openstack/devstack/git/commits/32e1603e9581746d0a4020b2db9f5b399c1a26c8,32e1603e9581746d0a4020b2db9f5b399c1a26c8,"Default to xenserver driver if xenserver-core is installed

Fixes bug 1209205

Change-Id: I63085cc87610a59fc48e519e4351c9233b3961be"
emonty,2013-08-06 14:45:07,https://api.github.com/repos/openstack/devstack/git/commits/985debe5cee5ce8c1847b192b98224a66a85c3c2,985debe5cee5ce8c1847b192b98224a66a85c3c2,"Don't uninstall packages when on xenserver

It turns out our fix for package madness breaks when running on
xenserver. Put in a simple exclusion for that case until we figure out a
more total and systemic solution to everyone's problems.

Change-Id: I491917015337f83206937c53949a62aa63f4679f"
emonty,2013-08-06 13:35:02,https://api.github.com/repos/openstack/devstack/git/commits/b5bbaac09a2424da68288f90f7de415b8f7b48e8,b5bbaac09a2424da68288f90f7de415b8f7b48e8,"Re-enble pip -e in setup_develop

We had a bad merge somewhere along the way which reverted the pip -e
part of things. Replace it.

Change-Id: I620bea80eac7ad53b5bfb79dd2b21c29ad1b2267"
afazekas,2013-08-06 13:25:01,https://api.github.com/repos/openstack/devstack/git/commits/1a794a3d9e8ada8a4ac671cba392d6ed53d99e18,1a794a3d9e8ada8a4ac671cba392d6ed53d99e18,"Show ip address before associating address

In order to see is the instance has a fixed ip at the moment.

Change-Id: I506f2f099a03e8b63f1f2daeb564ed72f1322a68"
BobBall,2013-07-30 08:43:17,https://api.github.com/repos/openstack/devstack/git/commits/46287d8d71f358b330a5b2c28dace72cbdd3492f,46287d8d71f358b330a5b2c28dace72cbdd3492f,"Some bash versions don't support negative lengths

Fix to make the service string work on these versions of bash too

Change-Id: Ibb9868ea7bf44480be76a8ea9d7d9fbc278a8ef3"
salv-orlando,2013-08-05 15:56:17,https://api.github.com/repos/openstack/devstack/git/commits/dd64988ff4c0a174691cc7d45e3eaef8acdc4fc8,dd64988ff4c0a174691cc7d45e3eaef8acdc4fc8,"Run Neutron migrations after creating schema

Partial-Bug 1207402

This patch executes Neutron DB migrations (based on alembic)
before starting the Neutron services, similar to what happens
for most of other openstack projects managed by devstack.
This will ensure devstack always creates correctly version-stamped
Neutron databases.

Change-Id: Ia941c426a1563bcc4cb5eae64ea30c0bf7677220"
aguzikova,2013-08-05 08:51:56,https://api.github.com/repos/openstack/devstack/git/commits/cf2d0d3db9bda81a6795d5e57e893fea234b462c,cf2d0d3db9bda81a6795d5e57e893fea234b462c,"Add keystoneclient support for cinder.

Add an ability to ask keystone about users and groups
through keystoneclient in cinder.

blueprint volume-acl

Change-Id: Ice261e9709833d057722b4f13c404df54e10b204"
jameskyle,2013-08-02 17:40:32,https://api.github.com/repos/openstack/devstack/git/commits/3f1d0e2688ea471a467730d5677dd560671071d1,3f1d0e2688ea471a467730d5677dd560671071d1,"Ensures cross compatibility for zsh and bash.

Fixes bug #1207853

Change-Id: I8ab3959ac8dbb5bb199e325bfdfdc513b4327410"
mestery,2013-08-05 12:24:32,https://api.github.com/repos/openstack/devstack/git/commits/3ea28ece4a71b0137050314af0e4f3e55046db11,3ea28ece4a71b0137050314af0e4f3e55046db11,"Correctly setup ML2 mechanism_drivers

The ML2 code in devstack was not correctly configuring the mechanism_drivers
when asked to do so. This corrects the typo in the variable assignment, and
also actually sets these in the plugin configuration file.

Fixes bug 1208557

Change-Id: I3746ca099f45d44dcf1cc2ca1c3726745b8e8a1d"
emonty,2013-08-02 21:12:45,https://api.github.com/repos/openstack/devstack/git/commits/60aba9cb6a251b72a73a0c52f6c77c5356d6dcfc,60aba9cb6a251b72a73a0c52f6c77c5356d6dcfc,"Remove installation of python-netaddr

System and pip installation of this conflit and cause breakages.

Change-Id: I87a03f88a134683310d6ec0bd62d86c5007fcd72"
emonty,2013-08-02 19:43:47,https://api.github.com/repos/openstack/devstack/git/commits/408a4a7d1c24322b35f9a8617c7c62adeeee0dbe,408a4a7d1c24322b35f9a8617c7c62adeeee0dbe,"Install things in setup_develop with pip -e

We have some complex logic in here to try to do the right things with
the requirements before doing the install of the package which still
winds up being wrong in some cases. Since having written this code,
we've learned that the logic we're trying to achieve is actually what
pip install -e does. So just use that. We have to follow up with a chown
of the resulting egg-info directory, because the sudo command will cause
it to be written by root, which prevents subsequent commands from
operating without privilege in the directory.
Change-Id: Iffd068c94ef84475ebb30758bcf612075d225bea"
no2a,2013-08-02 11:58:56,https://api.github.com/repos/openstack/devstack/git/commits/d3a18ae1ecc757008ee7686f709209a930d90ab8,d3a18ae1ecc757008ee7686f709209a930d90ab8,"Update baremetal to work with the latest DIB

Adjust DevStack to the current DIB's naming to kernel/ramdisk.

BM_HOST_CURRENT_KERNEL is removed since the kernel is extracted from
a diskimage with the ramdisk and the host's kernel is not used.

BM_BUILD_DEPLOY_RAMDISK is added to control whether use DIB or not.

If you set BM_BUILD_DEPLOY_RAMDISK=False, you must BM_DEPLOY_KERNEL
and BM_DEPLOY_RAMDISK to point existing deploy kernel/ramdisk.

Fixes bug 1207719

Change-Id: I62af0b1942b07ac12665c0ed3619d64c1cccbe1f"
skuicloud,2013-08-02 09:55:41,https://api.github.com/repos/openstack/devstack/git/commits/17df0775edaf1d45c59a41147779fd65fd986911,17df0775edaf1d45c59a41147779fd65fd986911,"misleading source filename in error message

when ./stack.sh encounters error, the output may look like this:
[ERROR] ./stack.sh:698 nova-api did not start

The source filename is wrong. Actually, it should be like this:
[ERROR] /<path_of_devstack>/lib/nova:698 nova-api did not start

stack.sh uses bash as interpreter, which define ""Shell Variables""
BASH_SOURCE:
    An array variable whose members are the source filenames where
    the corresponding shell function names  in  the  FUNCNAME  array
    variable  are  defined.   The  shell  function
    ${FUNCNAME[$i]}  is  defined  in  the  file ${BASH_SOURCE[$i]}
    and called from ${BASH_SOURCE[$i+1]}.

The function ""err"" is called by function ""die"" ( and ""err_if_not_set"",
and ""err_if_not_set"" is not used at all). ${BASH_SOURCE[2]} will
ignore the deepest two call entries, which corresponding to the shell
functions: ""err"" and ""die"".

In one sentence, this change will print the source filename where the
function is defined and exits via function ""die"".

Fixes bug #1207658

Change-Id: I2aa6642c5cf4cfe781afe278b3dec3e7cba277fa"
skuicloud,2013-08-02 09:26:28,https://api.github.com/repos/openstack/devstack/git/commits/5e28a3e2d2e7f02d6f0c81ddfe4ae3b0387112b6,5e28a3e2d2e7f02d6f0c81ddfe4ae3b0387112b6,"Add call trace in error message

Call trace can help user to locate problem quickly.

stack.sh uses bash as interpreter, which defines a series of
""Shell Variables"":
BASH_SOURCE:
An array variable whose members are the source filenames

BASH_LINENO:
An array variable whose members are the line numbers in source
files where each corresponding member of FUNCNAME  was  invoked.

FUNCNAME:
An array variable containing the names of all shell functions
currently in the execution call stack.

run ""man bash"" and search the variable name to get detailed info.

In function backtrace, it gets the call deepth from
${#BASH_SOURCE[@]}, then print the call stack from top to down.

In function die, backtrace is called with parameter ""2"" to ignore
the call trace of function ""die"" and ""backtrace"".

I add a broken function in lib/database, and call it in stack.sh,
the output looks like this:

[Call Trace]
./stack.sh:104:broken
/home/kui/osd/devstack/lib/database:24:die
[ERROR] ./stack.sh:24 It is broken

Fixes bug # 1207660

Change-Id: I04d0b3ccf783c769e41582c20f48694c19917334"
jogo,2013-08-02 02:02:01,https://api.github.com/repos/openstack/devstack/git/commits/2c94ee5237a453a0024bdcc6c6d3f4805534f56e,2c94ee5237a453a0024bdcc6c6d3f4805534f56e,"Add support for running multiple n-cpus for performance testing

When using the fake VIRT_DRIVER, we can launch an arbitrary number of
instances, the next step for performance testing is running an arbitrary
number of n-cpus. This can be done with the following settings in your localrc

 VIRT_DRIVER=fake
 NUMBER_FAKE_NOVA_COMPUTE=50

This can be used for things like measuring load from n-cpu's periodic tasks.

Change-Id: I40e0f05374e2c10c48ea6b8816ef6e7609b3dc80"
skuicloud,2013-08-01 21:53:58,https://api.github.com/repos/openstack/devstack/git/commits/f9b4738d59c9416893918228041de8d1f810dd89,f9b4738d59c9416893918228041de8d1f810dd89,"Update tempest test sample in devstack/README.md

As part of bp:tempest-repo-restructure, the scenario directory is added and
scenario tests are moved there. The tempest test sample should be updated
in README.md.

Fixes bug #1207109

Change-Id: I25067e4b42697985e8f4b808fad5eb801c805f9f"
dtroyer,2013-08-01 19:17:27,https://api.github.com/repos/openstack/devstack/git/commits/d2cfcaa5767b12cd1bb7d80f0d0823dd66bbb5c6,d2cfcaa5767b12cd1bb7d80f0d0823dd66bbb5c6,"Fix get_pip_command()

Be more flexible in finding pip, especially after we start replacing it

Change-Id: I14b0ac1584aab99c2fe58a78e3a43196ae8130ca"
emonty,2013-07-31 17:12:30,https://api.github.com/repos/openstack/devstack/git/commits/a8ca815b85e7ae5a3ac71795eddfe063ccceb4bf,a8ca815b85e7ae5a3ac71795eddfe063ccceb4bf,"Fix a typo error in the openvz image link

It's a -, not a ..

Change-Id: I05a39e20234d89c08cff66b57f6b350ad0fe4a98"
berendt,2013-07-30 16:22:32,https://api.github.com/repos/openstack/devstack/git/commits/a7a219ab76d4a346f794daafd499ece5c32c5e3c,a7a219ab76d4a346f794daafd499ece5c32c5e3c,"renamed deprecated glanceclient parameter

According to the sources the parameter --public in python-glanceclient
should be removed after only using the new parameter --is-public in
Devstack.

Change-Id: I25fbb23f4823b3766db647dd50a5b538aad3e55a"
emagana,2013-07-29 23:39:56,https://api.github.com/repos/openstack/devstack/git/commits/c973f1249a08c5dcb42b335b6d3249e8c6c6da24,c973f1249a08c5dcb42b335b6d3249e8c6c6da24,"Set horizon configuration for security groups

Fix bug #1206271

Change-Id: I33a530265be1e5ab9181e605eb4b7c3bf1fdf9c4"
no2a,2013-07-26 11:26:07,https://api.github.com/repos/openstack/devstack/git/commits/bbf0645981ce0b9aee73cde88d041f07f213473f,bbf0645981ce0b9aee73cde88d041f07f213473f,"Add option to serve PXE for baremetal from nova-network

New variable BM_DNSMASQ_FROM_NOVA_NETWORK: if setting this true,
DevStack configures nova-network's dnsmask to provide PXE and does
not run baremetal's one. In this case PXE traffic occur in the fixed-ip
network, so no dedicated network for PXE is needed.

Change-Id: I67cade02c03ab45ab6b77d8da9066d7d5ec6c78b"
mestery,2013-07-19 14:26:53,https://api.github.com/repos/openstack/devstack/git/commits/b772659f9df8153caa3b0fa155614d2d6504541e,b772659f9df8153caa3b0fa155614d2d6504541e,"Update the ML2 configuration in devstack

This commit adds support to devstack to set ML2 options including
MechanismDrivers, TypeDrivers, and TypeDriver specific configuration for ML2
when running with devstack.

This also allows for simple configuration of VLAN, GRE, and VXLAN ML2 devstack
setups with the OVS agent as follows:

    # VLAN configuration
    Q_PLUGIN=ml2
    ENABLE_TENANT_VLANS=True

    # GRE tunnel configuration
    Q_PLUGIN=ml2
    ENABLE_TENANT_TUNNELS=True

    # VXLAN tunnel configuration
    Q_PLUGIN=ml2
    Q_ML2_TENANT_NETWORK_TYPE=vxlan

Fixes bug 1200767

Change-Id: Ib16efac13440b5d50658a0e6be35bc735510a262"
emagana,2013-07-29 23:47:13,https://api.github.com/repos/openstack/devstack/git/commits/f34424ea7d6aafeed0f371ec2131924cf3c2ec06,f34424ea7d6aafeed0f371ec2131924cf3c2ec06,"Update to PLUMgrid plugin configuration

Fix bug #1206308
Add function for security groups
Add function for ovs check
Update plugin class configuration

Change-Id: I603e902f985277a61f162abdfffd6430cc00efaa"
alex,2013-07-29 15:12:39,https://api.github.com/repos/openstack/devstack/git/commits/b6f7ea4fb0bfd4bcc1d1bb35f97d29eb70075b73,b6f7ea4fb0bfd4bcc1d1bb35f97d29eb70075b73,"Added libffi-dev to the needed packages

Change-Id: Ida7001886f17c9413b33312f12f2478a54bd6c90"
jpichon,2013-07-29 10:22:08,https://api.github.com/repos/openstack/devstack/git/commits/fea70f80c0f653910b68dc5557a9f5b318091f72,fea70f80c0f653910b68dc5557a9f5b318091f72,"Configure horizon and horizon URLs in Tempest

Tempest now supports testing the dashboard. Adjust the configuration
accordingly.

Change-Id: Ifb5619caab8bd6080c5df4ed43e16c921e7f9b1f"
zhang-hua,2013-06-21 10:18:02,https://api.github.com/repos/openstack/devstack/git/commits/d98a5d0a58c1fae2ce8adcd8098cefaa9f558381,d98a5d0a58c1fae2ce8adcd8098cefaa9f558381,"enable apache2 server as front end for swift

1.install apache and wsgi module
2.config apache2 vhost and wsgi files for proxy,
account, container and object server.
3.refactor apache functions from horizon and swift
into lib/apache

Change-Id: I3a5d1e511c5dca1e6d01a1adca8fda0a43d4f632
Implements: blueprint enable-apache-frontend-for-swift"
gyliu513,2013-07-28 10:01:52,https://api.github.com/repos/openstack/devstack/git/commits/73bd1233a72ea074cced809af31c113cc3c63af0,73bd1233a72ea074cced809af31c113cc3c63af0,"Do not set os_aut_url for ceilometer

When install ceilometer with devstack, if do not set environment
variable OS_AUTH_URL, then devstack will set os_aut_url as empty
in /etc/ceilometer/ceilometer.conf, this will cause both
ceilometer-agent-central and ceilometer-agent-compute cannot start.

Fix bug 1205776

Change-Id: I32c77c92dc2e9d03c86e703f170e0216dd829a61"
emonty,2013-07-27 19:36:53,https://api.github.com/repos/openstack/devstack/git/commits/a49ee32bc957e1082b4c21e62e7d5504b09533d1,a49ee32bc957e1082b4c21e62e7d5504b09533d1,"Update OpenVZ driver image

11.10 simply does not exist, so this simply does not work. However,
devstack-gate tries to pre-cache all images referenced, so even though
we're not doing anything with this, it's breaking devstack-gate.

Change-Id: I64b03ed387f5205a885427498e8cf8c2a5b32b91"
comstud,2013-07-24 10:56:13,https://api.github.com/repos/openstack/devstack/git/commits/c62c2b9b6617c731c7979d490a1d2e7a048c1cf7,c62c2b9b6617c731c7979d490a1d2e7a048c1cf7,"Fix various things when n-cell is enabled

1) Use the newer cell_type configuration option instead of overriding
the compute_api_class.

2) A nova-cells service is started for both the API cell (region) and
the compute cell (child).  The screen names were both 'n-cell' which
caused both services to log to the same log file.  The screen names have
been changed to n-cell-region and n-cell-child.

3) Security groups are not supported with cells.  Multiple exercises are
patched to use the 'default' security group instead of creating a new
one.  Additionally, if one uses the 'default' security group, do not try
to delete it, as one can never delete the default.

4) Disable the floating_ips and aggregates exercises when n-cell is
enabled, as they are not supported by cells.

5) Related to #4, disable the floating_ips tests within euca.sh

6) Update the README.md.  No services need to be disabled, and one only
needs to enable the n-cell service.

Change-Id: I9782d1e3cda3c9dd3daefa15c043f5b06473cb87"
afazekas,2013-07-25 21:02:48,https://api.github.com/repos/openstack/devstack/git/commits/12bb53b6a0b003434f0e39610f46d2425263ea20,12bb53b6a0b003434f0e39610f46d2425263ea20,"Add ceilometer to the sys.path before the nova starts

The setup.py setup develop adds package to the
 /usr/lib/python2.7/site-packages/easy-install.pth.

The nova uses the ceilometer.compute.nova_notifier, so it must be
in the path before the nova started.

Change-Id: I80ed5e5611278e75afa7ab7f8fb91417897d423f"
dtroyer,2013-07-24 17:24:43,https://api.github.com/repos/openstack/devstack/git/commits/d4f69b21f530059be8d3a7001ebbd1ce53aa7926,d4f69b21f530059be8d3a7001ebbd1ce53aa7926,"Remove python-netaddr requirement

Remove python-netaddr as a DevStack (stack.sh) requirement,
this does not change any individual project requirements.

Specifically it replaces address_in_net() and adds cidr2netmask()
and maskip() functions.

Change-Id: Ic604437fde2e057faced40a310ab282f3eb27726"
eugene64,2013-07-24 16:59:49,https://api.github.com/repos/openstack/devstack/git/commits/ea66acb131645650b12de05ea96a5db6ce6df7dd,ea66acb131645650b12de05ea96a5db6ce6df7dd,"Remove unused parameter from lbaas_agent.ini

That makes devstack installation script consistent with latest
change in neutron lbaas_agent

Change-Id: I7946301a7fb4adddb5911575cbdfaf6b024132e3"
gkotton,2013-07-24 12:37:52,https://api.github.com/repos/openstack/devstack/git/commits/4125fe2fb599715c0f12ea5af1c281c5d94aa61a,4125fe2fb599715c0f12ea5af1c281c5d94aa61a,"Use vmware section

The vmware configurations are now in a specific vmware section.

Change-Id: I283b36bd023a43800852f792dd7fd8adf4d6ac84"
ianw,2013-07-24 03:01:32,https://api.github.com/repos/openstack/devstack/git/commits/0352f584abe0e88f372b9b8898b10e2ac25842f0,0352f584abe0e88f372b9b8898b10e2ac25842f0,"Update README for swift off by default

Change 11277b1f3cfa850c074d3effbb43987b6e6e6391 disabled swift due to
port conflicts but the documentation still states that it is enabled
by default, which can be quite confusing.

While we're there, wrap affected lines to 80 chars.

Change-Id: I9d543f3368bdadadae482c163d814065009ab395"
ianw,2013-07-16 03:36:34,https://api.github.com/repos/openstack/devstack/git/commits/31dcd3e7ab60855d9664bd0aeb87b79eba94913f,31dcd3e7ab60855d9664bd0aeb87b79eba94913f,"Use unique build dir for pip installs

There is a bug in pip [1] where it will choose to install a package
from an existing build-dir if it exists over the version actually
requested.

Thus if a prior component has installed a later version of the
package, the unpacked code is already in /tmp/$USER-pip-build; it gets
re-installed and manifests in a confusing error along the lines of

---
 Downloading/unpacking requests>=1.1,<1.2.3
   (from -r /home/stack//python-cinderclient/requirements.txt (line 5))
   Running setup.py egg_info for package requests
   Requested requests>=1.1,<1.2.3 (from -r
   /home/stack/python-cinderclient/requirements.txt (line 5)),
    but installing version 1.2.3
...
  error: Installed distribution requests 1.2.3 conflicts with
    requirement requests>=1.1,<1.2.3
---

I believe pip 1.4 fixes this problem, but it should always be safe to
specify a unique build-directory for pip installs to avoid picking up
old versions.

We also add a cleanup_tmp function for clearing out anything that
stack.sh might leave around when un-stacking, and add a catch-all for
the pip-build dir.

[1] https://github.com/pypa/pip/issues/709

Change-Id: I7ce919cddfd6d6175ae67bd864f82e256ebc7090"
afrittoli,2013-06-17 14:34:54,https://api.github.com/repos/openstack/devstack/git/commits/806233e0ed30e59d9deb9934f831f8ffad879733,806233e0ed30e59d9deb9934f831f8ffad879733,"Create an endpoint for nova api v3.

Supports both SQL and templated keystone backend.
Create an additional endpoint for nova api v3.
The service type is computev3.
The endpoint is similar to the v2 one but the version
part is ""v3"" rather than ""v2"", and it does not include
the tenantid anymore.

Fixes: bug #1191798
Change-Id: I86e4734c3a9e57f1dc68f1104449d7c041d6927d"
hackerain,2013-07-17 07:22:21,https://api.github.com/repos/openstack/devstack/git/commits/9778b3cb68fc872df089d3272a548d75aad0d8a2,9778b3cb68fc872df089d3272a548d75aad0d8a2,"Add mysql support for ceilometer storage backend in devstack

Currently, devstack only support mongodb as ceilometer storage backend,
this patch is to add mysql storage support for ceilometer.
If you want to use mysql as backend during developing, you can specify
CEILOMETER_BACKEND=mysql in localrc file.
If you use mongodb, just ignore the parameter.

Change-Id: Ic2f475a9baa6d71a43cd29a6ca777ac972e47b0a
Implements: blueprint ceilometer-mysql-support"
smoser,2013-07-17 15:32:35,https://api.github.com/repos/openstack/devstack/git/commits/50686e56200e7064f5ba65834a03977b6d9ce413,50686e56200e7064f5ba65834a03977b6d9ce413,"fix name of scheduler_driver in produced nova.conf

Fixes bug #1202174.  The nova.conf config variable that configures which
scheduler to use is scheduler_driver, not compute_scheduler_driver.

Change-Id: I775cae40edc9f8f55177f9d95cdbaa9416c4bfcd"
jd,2013-07-17 14:26:22,https://api.github.com/repos/openstack/devstack/git/commits/4594eb9271e9e3b71a304f61af8c35e82a7059be,4594eb9271e9e3b71a304f61af8c35e82a7059be,"Remove notify_on_any_change

This option has been removed from Nova.

Change-Id: Ic1369cc05861686daae36ec8e5f96b687cac728c"
ianw,2013-07-17 06:30:19,https://api.github.com/repos/openstack/devstack/git/commits/0ff314c01dc1184fc443a85f4110615f32ec8d90,0ff314c01dc1184fc443a85f4110615f32ec8d90,"Only create swift account if swift enabled

Only call the swift account creation function if swift is enabled,
otherwise the endpoints are created in keystone even though swift
isn't running.

This causes failures when tempest queries keystone and thinks swift is
there; it starts running tests against it that fail with unhelpful
""connection refused"" errors.

Change-Id: Icf08409c9443ec703e5f1da4531aa34c326f3642"
rchunduru,2013-07-16 11:18:47,https://api.github.com/repos/openstack/devstack/git/commits/95c93e2b54ff0dcb5d7a4dd0f7f78e21c789f511,95c93e2b54ff0dcb5d7a4dd0f7f78e21c789f511,"Adds support for Openstack Networking FWaaS (Firewall)

blueprint quantum-fwaas-devstack

Change-Id: I3c546433415ab18a5933a25774a06df7c4cb42e9"
sacharya,2013-07-16 00:47:54,https://api.github.com/repos/openstack/devstack/git/commits/3763141cf7763390bf35b86b2d143b156c25a915,3763141cf7763390bf35b86b2d143b156c25a915,"UUID Token provider in keystone.conf

Token provider needs to be set to uuid.Provider when the token format is
UUID. PKI is the default.

Change-Id: I967289524a50f650cdf2476d5067d263dbf55b03
Fixes: bug #1201639"
j-griffith,2013-07-15 23:35:54,https://api.github.com/repos/openstack/devstack/git/commits/e6d4fe5f0fbf1c48307a27f7073569f4f09857ff,e6d4fe5f0fbf1c48307a27f7073569f4f09857ff,"Modify startup order of Cinder services.

There are cases where the timing between the start up
for cinder-volume and cinder-scheduler service can result
in a race where the scheduler doesn't know about the volume-service
until the next periodic update.

This change does attempts to do an easy fix by swapping the start
order of the cinder services to ensure that the scheduler will be
able to receive the volume service capabilities update.

Fixes bug: 1189595

Change-Id: I8f477ddc04c15c04493f7ce6863e08e1de8f0128"
gkotton,2013-07-15 16:41:25,https://api.github.com/repos/openstack/devstack/git/commits/503e9ac4cf9ddb634279bf98c856adb135f43ac9,503e9ac4cf9ddb634279bf98c856adb135f43ac9,"Set external ID on br-ex

This will enable Neurtron identify that the external bridge is a
Neutron bridge (this is required for bug 1192883)

Change-Id: I8ad1b0b3d93d5068beec2021abf9afbacf8c48ff"
afazekas,2013-07-11 09:26:35,https://api.github.com/repos/openstack/devstack/git/commits/a3dc399965409206aa325769551cf4121d2db0ee,a3dc399965409206aa325769551cf4121d2db0ee,"QPID default host

Using SERVICE_HOST as a default QPID_HOST.

Change-Id: I65df0ea4be7df37d4d6f22591b175870808a5c84"
euanh,2013-07-04 15:25:33,https://api.github.com/repos/openstack/devstack/git/commits/a3ec804ad90fd13944c1b6bd5e55e85e6ecdb62c,a3ec804ad90fd13944c1b6bd5e55e85e6ecdb62c,"manage-vdi: Wait until devices have been created before mounting

kpartx creates partition devices asynchronously - it may exit before
the devices have been created.  This may cause a subsequent mount call
to fail, because the device it is trying to mount does not yet exist.
kpartx now has a -s option which makes it wait for the devices to be
created before returning, but the version XenServer's dom0 doesn't have
this option.   Work around this by retrying the mount.

When dom0's kpartx is updated, we will be able to use the -s option.

Change-Id: I823a8eac4f3a2ef313d06e21da0f38ed46d7386a"
euanh,2013-07-10 15:30:31,https://api.github.com/repos/openstack/devstack/git/commits/6f0017161f76ffecd1ee489bcb33462729ad96e6,6f0017161f76ffecd1ee489bcb33462729ad96e6,"xenapi: Exit immediately if zipball download fails

If install_os_domU.sh fails to download the Xapi plugins zipball
correctly it ignores the error and continues the installation.
This could damage the hypervisor's filesystem, as it may delete
files or overwrite them with garbage.

Change-Id: I9f6dc31b977592e2818e37b2d310c2a5dc477364
Fixes: bug #1195640"
nobuto-m,2013-07-11 07:26:02,https://api.github.com/repos/openstack/devstack/git/commits/73a39bf2c61c9cf4c7cf398dea4170c86d46a269,73a39bf2c61c9cf4c7cf398dea4170c86d46a269,"replace left quantum string for enable_lb

writing the correct config for horizon to show LBaaS entry properly
like:

OPENSTACK_NEUTRON_NETWORK = {
    'enable_lb': True
}

Change-Id: I7f522a150a3732ee734f2b818910ff92c8c73028
Fixes: bug #1200098"
euanh,2013-07-03 16:51:01,https://api.github.com/repos/openstack/devstack/git/commits/12229a77a525ea92f037fb2bdfd54681de6bde6a,12229a77a525ea92f037fb2bdfd54681de6bde6a,"devstack: Add paths specific to XenServer Core

 * XenServer Core keeps its Xapi plugins in a different path to XenServer,
   in order to comply with the Filesystem Hierarchy Standard.

 * XenServer Core mounts devices under /dev/xen/blktap-2 in dom0,
   whereas XenServer mounts them under /dev/sm.

Change-Id: I0a66cd03f000f19c8ff63a8ae4231c00fda88380"
vuntz,2013-07-04 07:59:34,https://api.github.com/repos/openstack/devstack/git/commits/cf6d809d8d13b8177826b9c95b0ccab6f0dcb9c4,cf6d809d8d13b8177826b9c95b0ccab6f0dcb9c4,"Add openSUSE support for openvswitch

Change-Id: I4665a2719c0050cb5413a8ffcefb977106533d1a"
emagana,2013-07-05 18:03:57,https://api.github.com/repos/openstack/devstack/git/commits/aeb85c1ab0e287abce3e956c02c3a390a6a20044,aeb85c1ab0e287abce3e956c02c3a390a6a20044,"Renaming NOS to Director
Moving PLUMgrid Director parameters to the common
configuration function

Fix bug #1198281

Change-Id: I5231950121cfaac9d2d8cc58c4e7b904ccaa9dce"
dtroyer,2013-07-08 20:06:33,https://api.github.com/repos/openstack/devstack/git/commits/53fe11a8227bc96e55d31227a08f5af7cb337797,53fe11a8227bc96e55d31227a08f5af7cb337797,"More neutron renames

Rename quantum-adv-test.sh and the package prereq files in files/*/quantum

Change-Id: I4dab635c2ae79f1f42a9cfdadbf7a4d06cf2b925"
markmcclain,2013-07-07 03:29:39,https://api.github.com/repos/openstack/devstack/git/commits/b05c876994183b6a1d53dfbdcea2ca4a7743035f,b05c876994183b6a1d53dfbdcea2ca4a7743035f,"update for name change to Neutron

Note: Nova and Horizon are not updated until those projects have
migrated.

Change-Id: I256ef20e7caadd9c96e6dd908c5d8b69ca5c4aeb"
emonty,2013-07-04 18:10:46,https://api.github.com/repos/openstack/devstack/git/commits/e7e51ac5e6a2c61afab11d30d5dd034e66877734,e7e51ac5e6a2c61afab11d30d5dd034e66877734,"Directly install requirements with pip

Rather than parsing then feeding the pip requirements file to pip,
just have pip consume it directly.

Change-Id: I17bbe4324e6957c7165bc0f340ddae1e51039471"
vuntz,2013-07-04 07:45:32,https://api.github.com/repos/openstack/devstack/git/commits/19570302712d7ed252cf4303e39490d4e3e46f92,19570302712d7ed252cf4303e39490d4e3e46f92,"On openSUSE, qemu-tools provides qemu-img

Change-Id: I6ab0b7dd871acd6103b15b5fe10350667b72d1a8"
afazekas,2013-07-01 20:49:31,https://api.github.com/repos/openstack/devstack/git/commits/a6ed3dcf3cabbb841304499277dc141181ea6196,a6ed3dcf3cabbb841304499277dc141181ea6196,"lib/cinder comment

The default volume backing size is ~10G now.
Changing the comment to be more future-proof by including
the shell variable name.

Change-Id: I27879b240f3f8348fa069853de18e47871ce00d2"
jd,2013-07-02 09:30:40,https://api.github.com/repos/openstack/devstack/git/commits/a9787d077f2c06ff2804e6b84c6f769d507a971f,a9787d077f2c06ff2804e6b84c6f769d507a971f,"Enable all notifications update from Nova for Ceilometer

This will allow Ceilometer to grab even more events about instances states
changes.

Change-Id: Ie28258607695caf96dcfa292cb74355aced85ccf"
kevinbenton,2013-06-18 22:58:53,https://api.github.com/repos/openstack/devstack/git/commits/14625c288742a6d7532986e7dde1adb8b021c884,14625c288742a6d7532986e7dde1adb8b021c884,"Adds support for the Indigo Virtual Switch

Allows users to specify which virtual switch Quantum should use
and inform Nova to use. It configures the quantum dhcp agent
interface driver to bind to the correct switch and sets the
vif_type that the BigSwitch/Floodlight plugin will send to Nova.

Change-Id: I077a9ce8ab205e2949e0a438307f7da46a8a247d
Implements: blueprint ivs-support"
dillaman,2013-07-01 12:52:13,https://api.github.com/repos/openstack/devstack/git/commits/056df827ff3f8d40eeeedea3d09daae86982e5b5,056df827ff3f8d40eeeedea3d09daae86982e5b5,"Set QPID_HOST parameter to better support multi-node mode

When deploying OpenStack in a multi-node configuration,
the Qpid clients need the hostname of the potentially
remote Qpid server in order to permit the necessary RPC
communication between components.

Fixes bug #1196521

Change-Id: Iee3c3747cedea9488ec345e78f8eddbc6e850573"
sdake,2013-06-30 23:11:54,https://api.github.com/repos/openstack/devstack/git/commits/303965768887ef75895c9890be1d8c22d1faf935,303965768887ef75895c9890be1d8c22d1faf935,"Enable Fedora 19 on DevStack

Fedora uses a special PROMPT_COMMAND for screen terminal types,
which are the default with DevStack.  The PROMPT_COMMAND interacts
in a negative way with the -t and -X and -p flags, causing DevStack
not to work.  To solve this problem, this patch forces PROMPT_COMMAND
to default to /bin/true, triggering no changes to the window title
used within screen.  Also this patch enables F19 as a non-FORCE
distribution.

Change-Id: I2414d9e28dd95b69272e132163b29ed83f73b2f6
Fixes: bug #1196340"
jogo,2013-06-30 11:32:27,https://api.github.com/repos/openstack/devstack/git/commits/4640026cc1077232f609caf24c42a7dd477e3f68,4640026cc1077232f609caf24c42a7dd477e3f68,"Fix spelling mistakes

git ls-files | misspellings -f -
Source: https://github.com/lyda/misspell-check

Change-Id: I7d63578734ca5cc1ec865a7d024c1a013d1ada87"
dtroyer,2013-06-28 14:16:08,https://api.github.com/repos/openstack/devstack/git/commits/245a431374183639962f1245002b4d19ccc54ec0,245a431374183639962f1245002b4d19ccc54ec0,"Set the correct URLs in the version return data

The URLs advertised in the data returned by keystone's '/' route default
to localhost and is not usable from off-host.  Not that anything in
DevStack uses it (yet).

Change-Id: I049789f568eff48c1abb0678c3ac0ae8a8960c64"
dtroyer,2013-01-24 20:14:28,https://api.github.com/repos/openstack/devstack/git/commits/3005e17853416db571936e527c1288c4e27c3499,3005e17853416db571936e527c1288c4e27c3499,"Enable configuration of Identity API v3

* Default IDENTITY_API_VERSION to '2.0' in stackrc

Note: the value of these *_API_VERSION variables will NOT include
the leading 'v' as the CLI tools do not allow it.

Change-Id: Ic6473833be35625282e7442f3c88fc1c4d0cc134"
pmichali,2013-06-24 19:44:58,https://api.github.com/repos/openstack/devstack/git/commits/9297319fdb18440b7f37aa71b12a7599cd691dbb,9297319fdb18440b7f37aa71b12a7599cd691dbb,"Enhance DevStack to allow user to specify the
following customizations for the predefined networks
created on startup (default in parenthesis):

PRIVATE_SUBNET_NAME    - Name of the local subnet (private-subnet)
PUBLIC_SUBNET_NAME     - Name of the public subnet (public-subnet)
PUBLIC_NETWORK_GATEWAY - IP for the public subnet (172.24.4.225)

Moved NETWORK_GATEWAY into lib/quantum, along with these new
customizations.

bug 1194218

Change-Id: I87ebc22e338df278db7523f11be07de1ca88234b"
ianw,2013-06-28 04:21:17,https://api.github.com/repos/openstack/devstack/git/commits/4ca55309f28f9470701487881847a7efdc3c5628,4ca55309f28f9470701487881847a7efdc3c5628,"Add python-libguestfs to RPM list

libguestfs appears to be the best way to access images for injection,
so add the python bindings to the RPM list.  Indeed, on RHEL it is the
only way, because the fallback of nbd access isn't available.  There,
this change prevents a lot of errors in nova.virt.disk.vfs.localfs
when it can't import the nbd module.

Change-Id: I9c2a81bb7c26bc17f8b5f1b5a682c05a419b33ba"
mvidner,2013-06-27 13:11:22,https://api.github.com/repos/openstack/devstack/git/commits/4f9b33d077cacaed524175902f6209f20cc4c5a7,4f9b33d077cacaed524175902f6209f20cc4c5a7,"Fix python exec prefix on SUSE.

https://bugs.launchpad.net/devstack/+bug/1068386
""sudo python setup.py develop"" installs to /usr/bin on SUSE

Otherwise it fails with ""stack.sh:191 g-api did not start"".

Change-Id: I1258240ce2a5a765188353fbc8a2e085d0b02fec"
ianw,2013-06-26 12:31:48,https://api.github.com/repos/openstack/devstack/git/commits/0db171378dc97fea47f7d536ab92ab363e544127,0db171378dc97fea47f7d536ab92ab363e544127,"Update LVM autoextend config for RHEL6

Cinder clones are slightly larger due to some extra metadata.  RHEL6
will not allow auto-extending of LV's without this, leading to clones
giving hard-to-track disk I/O errors.

See https://bugzilla.redhat.com/show_bug.cgi?id=975052

Change-Id: I09a5e061a9665c5310383f9f9eb281bfdc8e416d"
bradtopol,2013-06-26 15:26:33,https://api.github.com/repos/openstack/devstack/git/commits/6e88f8e14f5e7f15e37ceebf0f588483ad4bb82b,6e88f8e14f5e7f15e37ceebf0f588483ad4bb82b,"Remove creation of Domain entries in LDAP

Domain entries are no longer stored in keystone ldap.
Removing the creation from devstack ldap install

Fixes Bug 1194204

Change-Id: I9c93d3021cc2bb058d1ef57bebcf3a13dc5bdd34"
ianw,2013-06-25 04:11:48,https://api.github.com/repos/openstack/devstack/git/commits/7fa1902f9bcad80b3bbf1831805ec10d937b3d9a,7fa1902f9bcad80b3bbf1831805ec10d937b3d9a,"Add cli_dir to tempest config

Add the cli_dir option to the generated tempest config.  This is
required on platforms such as RHEL where the binaries are not in the
standard location.

Note that to be fully operational this requires [1] in tempest so that
the cli path is created correctly.

[1] https://review.openstack.org/#/c/34302/

Change-Id: Ic7369193f1434974366cfabc7550e8545de244cd"
BobBall,2013-06-17 11:51:33,https://api.github.com/repos/openstack/devstack/git/commits/39aeda23b23c1f1a3db3c7f81017271c4780f7ad,39aeda23b23c1f1a3db3c7f81017271c4780f7ad,"Create the /images directory used by the resize functionality.

XenServer's resize uses /images as a known-path for each hypervisor.
This is a symlink to the storage repository so disks can be moved between
the /images path and the storage repository efficiently.

Change-Id: I13b39dbf5537ad45160c1af4cc10bd867b7f89c1"
steveb,2013-06-19 01:57:31,https://api.github.com/repos/openstack/devstack/git/commits/e3111329f1bf82d07859ffdb8cf3e98fdd5cb2ad,e3111329f1bf82d07859ffdb8cf3e98fdd5cb2ad,"Use heat-manage to sync heat db.

heat-db-setup has been deprecated and doesn't work when
devstack uses postgres and mysql isn't installed.

This is causing postgres gating to fail for heat.

Change-Id: I84f0a2d40f0033e52c87b6f0c9c7265471134ffe"
bradtopol,2013-06-17 20:13:49,https://api.github.com/repos/openstack/devstack/git/commits/e7a2ba45a72a838f47a1fafc67c855c159a269c0,e7a2ba45a72a838f47a1fafc67c855c159a269c0,"Update the ou name of Group to be the new default of UserGroups

This update sets the ou value for groups to be the new keystone
ldap default of UserGroups

Fixes Bug1191807

Change-Id: I9b7383100045155ca35b04190f42be641a0c6ea8"
ianw,2013-06-17 03:23:44,https://api.github.com/repos/openstack/devstack/git/commits/c42ed258b4ae88c208650185298c0b673c3439c3,c42ed258b4ae88c208650185298c0b673c3439c3,"Fix syntax error in lib/tempest

Fix syntax error in lib/tempest:
 Created tempest configuration file:
 21:06:30 ++ CINDER_MULTI_LVM_BACKEND=False
 21:06:30 ++ '[' False == 'True ]'
 21:06:30 /home/stack/devstack/lib/tempest: line 278: [: missing `]'

Change-Id: Ib4e393dad12751bdfb0e6f8fac3accd380a1f760"
skuicloud,2013-06-16 02:11:46,https://api.github.com/repos/openstack/devstack/git/commits/a8a11cf1f6616dbd93b41a884c582f346731b997,a8a11cf1f6616dbd93b41a884c582f346731b997,"exercise euca.sh check the volume just created

In devstack, the exercises/euca.sh test the ""VOLUME"". it should always
check the volume which was just created. Because there may be volumes
left by the last failed euca.sh, then the variable VOLUME
VOLUME=`euca-describe-volumes | cut -f2`
will be assigned a list of volumes, which is not expected.

Fixes bug #1191424

Change-Id: Ie004c9cfeaef4a8a313866d21d45c7b41f1b2ba0"
afazekas,2013-06-08 19:18:45,https://api.github.com/repos/openstack/devstack/git/commits/22f4d5e7365f83f7e32ce76c57a740be980820a8,22f4d5e7365f83f7e32ce76c57a740be980820a8,"F19 rpm dependencies

Fedora 19 rpm dependencies are the same as Fedora 18.
* Adding f19 to the 'dept:' list.

Change-Id: I927c31d45ac03b8bddac117e7f501d1255a25200"
mestery,2013-06-13 11:47:56,https://api.github.com/repos/openstack/devstack/git/commits/51a3f1f6369d27193daa6132fd8bcf6ba1972bd2,51a3f1f6369d27193daa6132fd8bcf6ba1972bd2,"Fix the OVS version check to work with upstream master versions of OVS.

This patch adds two functions to check version strings in the toplevel
functions file. The openvswitch_agent then uses these to compare versions
when checking for tunneling support. The tunneling version check now
also takes into account upstream master versions of Open vSwitch, which
the previous version check always failed on.

Fixes bug #1190734

Change-Id: I0102fb57f8ce5529169025efa21a0996ad68bef1"
eugene64,2013-06-13 18:11:42,https://api.github.com/repos/openstack/devstack/git/commits/b7196174ddc0205c6b15325b957df2f393ca4861,b7196174ddc0205c6b15325b957df2f393ca4861,"Change path to loadbalancer plugin

LoadbalancerPlugin path needs to be changed to reflect renaming
agent_loadbalancer to loadbalancer and moving services directory
one level up.

Change-Id: Ib2ece411b5fb84575673a66421eb474888dd8f43"
gfidente,2013-06-04 03:33:52,https://api.github.com/repos/openstack/devstack/git/commits/97e1bd032345395dfae7291882e77398f008d2ca,97e1bd032345395dfae7291882e77398f008d2ca,"Enables the multibackend Cinder tests in tempest when useful.

The change adds in lib/tempest an optional dependency on the var
$CINDER_MULTI_LVM_BACKEND which, if set, enables the multibackend
tests in the tempest config.

Change-Id: Iccafd00f5adabbbc2309fa72664bf29440744d91"
dtroyer,2013-06-03 21:47:36,https://api.github.com/repos/openstack/devstack/git/commits/1a6d4492e25365ec2947e93d5d69507088281415,1a6d4492e25365ec2947e93d5d69507088281415,"Periodic formatting cleanup

This is the semi-irregular comment and docs cleanup.

No functional changes should be here although some code is moved in a
small attempt to sort functions and get things where they need to be.

Change-Id: Ib4a3e2590c6fbd016c391acc7aef6421e91c0dca"
gfidente,2013-06-07 15:11:30,https://api.github.com/repos/openstack/devstack/git/commits/eeaa41a1ce5668698b86ad12c4ce37fc13bd637d,eeaa41a1ce5668698b86ad12c4ce37fc13bd637d,"Adds openssl-devel to the RPMs dependencies

pyOpenSSL (required by glanceclient) fails to build if openssl
header files are missing.

Change-Id: I3ebce749ee9ca88cbbecc6b7676a086d82670f4d
Fixes: bug #1188650"
fungi,2013-06-10 00:23:38,https://api.github.com/repos/openstack/devstack/git/commits/18b0906e1fa6510087c7455c7dee652e5b5842ef,18b0906e1fa6510087c7455c7dee652e5b5842ef,"Correct InvalidInstanceID.NotFound test.

* exercises/euca.sh: The match filtering InvalidInstanceID.NotFound
is cleaned up to eliminate numerous leaning toothpicks, and now also
actually works. The previous version was incorporating literal
square brackets into the pattern where I think a character list
match may have been intended instead, but was not actually necessary
anyway.

Change-Id: I765a20000e7b6ba6deadce8cad3bbc9559fcdd0d"
afazekas,2013-05-09 07:24:49,https://api.github.com/repos/openstack/devstack/git/commits/bae0233cf991ea18104120841a80ec4e3e932223,bae0233cf991ea18104120841a80ec4e3e932223,"Decrease the tempest build interval

Decreasing the build interval leads to faster state change detection,
so it will speed up the gating jobs.

It may increase the possibility of a ""hidden"" issues causes
indeterministic test results.

Change-Id: Ida5e7296e4ea53d761e0efef34376699337d8377"
mestery,2013-05-17 20:20:56,https://api.github.com/repos/openstack/devstack/git/commits/ebfac64d2a53b46e597b7b6a30787c4e276afb93,ebfac64d2a53b46e597b7b6a30787c4e276afb93,"Add support for setting extra networking configuration options.

Add support for generically setting arguments for OpenStack Networking
for both the server and agent. This is done using Q_SRV_EXTRA_OPTS for the
server, which let you place settings in the ""OVS"" or ""LINUX_BRIDGE""
sections of the plugin configuration file. For the agent, two variables
are defined: Q_AGENT_EXTRA_AGENT_OPTS lets you set items in the ""AGENT""
section of the plugin configuration file, and Q_AGENT_EXTRA_SRV_OPTS
lets you set things in the ""OVS"" or ""LINUX_BRIDGE"" sections of the
plugin configuration file.

Implements blueprint devstack-quantum-config.

Change-Id: I9ba44b21231f88cda1bcc5e3389c7875f03d8145"
BobBall,2013-05-30 15:47:19,https://api.github.com/repos/openstack/devstack/git/commits/b1e49bfdf7f33b52e7aa14e5dfbb11c3328d3e6f,b1e49bfdf7f33b52e7aa14e5dfbb11c3328d3e6f,"Make dependency on libvirt dynamic

Fixes bug 1184960

Change-Id: If702807d9ae326bf216a2e076ce61062045d7c6b"
jogo,2013-06-07 00:37:56,https://api.github.com/repos/openstack/devstack/git/commits/5747b8017577ea7b8f41c1456aeb91ee13d000e1,5747b8017577ea7b8f41c1456aeb91ee13d000e1,"Don't install pep8 from packages

We have migrated to flake8 and most distros don't have the version of
pep8 that flake8 (and hacking) use.  Instead of installing pep8 from
packages it should be installed from pip

Change-Id: I86e4f8316f3cdc27303bfd039a78c0d6202ce321"
jogo,2013-06-05 22:18:44,https://api.github.com/repos/openstack/devstack/git/commits/baf37ea81720982050eceea2b1b1e9bbdf6f0c94,baf37ea81720982050eceea2b1b1e9bbdf6f0c94,"Add Fake virt driver support

nova fake virt driver can be used to simulate running arbitrarily large
number of VMs.  When the fake virt driver is selected, all other arbitrary
limits are disabled (quotas, scheduler limitations) as well. The fake
virt driver can be selected by adding the following line to your localrc

      VIRT_DRIVER=fake

This setting can be used to do simulated large scale (as defined by
number of VMs) testing (such as boot 500 VMs at once) inside a single
devstack instance.

Change-Id: I000c3cba107cd91bef11c4d5325e1ce7308faa6c"
ianw,2013-06-06 01:19:16,https://api.github.com/repos/openstack/devstack/git/commits/00fd79d324283882c23059f1e12906d413b0a64f,00fd79d324283882c23059f1e12906d413b0a64f,"Use nova bindir of /usr/bin on Fedora

Fedora (and RHEL) like to install things in /usr/bin, e.g.

 01:30:42 Creating /usr/lib/python2.7/site-packages/nova.egg-link (link to .)
 01:30:42 Adding nova 2013.2.a1031.gfc5137d to easy-install.pth file
 01:30:42 Installing nova-dhcpbridge script to /usr/bin
 ...

The default nova/paths.py defaults to /usr/local/... which causes
quite a few errors when stressing various parts of nova and tools
aren't found.

Change-Id: Iaa93af96ddfb4deb6d16ea1dcac25ae6ed1e317d"
jogo,2013-06-05 22:31:09,https://api.github.com/repos/openstack/devstack/git/commits/32a348df5140d0546fa8866f569601aa8478a9d9,32a348df5140d0546fa8866f569601aa8478a9d9,"Update my mailmap

Change-Id: Ia5e9b543ad1c9e21a722cf739d1469e63e2c005c"
jogo,2013-06-04 18:55:06,https://api.github.com/repos/openstack/devstack/git/commits/1216b9fae9d8b93c9387147ab2b5bce07af7daa4,1216b9fae9d8b93c9387147ab2b5bce07af7daa4,"Use service role instead of admin role for service users

Instead of using a full admin role to validate tokens just use the
service role. Change where possible, some services use the service user
for more then just token validation.

Fixes bug 1153789

Change-Id: I0801475b62a7b025fdd871f52d8606aa614d1a32"
dtroyer,2013-06-04 17:51:54,https://api.github.com/repos/openstack/devstack/git/commits/58f9cf761a5f4b7968de2286797e2e4d2284fff8,58f9cf761a5f4b7968de2286797e2e4d2284fff8,"Check for .stackenv

* Skip sourcing .stackenv if it doesn't exist
* Remove .stackenv at end

Change-Id: Icc2e8e4ea6fada5f9d0b906fedacdbe2c1b3b320"
JordanP,2013-05-23 08:27:51,https://api.github.com/repos/openstack/devstack/git/commits/51c90b858d5106a6a3fe57aa417e1fb8faea414d,51c90b858d5106a6a3fe57aa417e1fb8faea414d,"On unstack, cleanup LVM setup for Cinder

Change-Id: I4f01dd65a4e5dd0dff33ea7c0024fb75fe83834b"
steveb,2013-06-04 01:15:04,https://api.github.com/repos/openstack/devstack/git/commits/26824b054623dfda64ffe9617bcf5df835c7c433,26824b054623dfda64ffe9617bcf5df835c7c433,"Run heat tempest tests if heat is enabled in devstack.

Change-Id: I6a5d1bae99982a8f0201885abd1203e1a8d78dcc"
jpeeler,2013-06-01 04:54:47,https://api.github.com/repos/openstack/devstack/git/commits/ebdd61d1363cd8b99ee00d6d87e08e2f6e33d87e,ebdd61d1363cd8b99ee00d6d87e08e2f6e33d87e,"Functions are required to parse localrc

This is essentially a revert of
73695d0ea490c4c7a1158957dd5a85586cfa0933. Since stackrc is
responsible for sourcing localrc, the required functions
are necessary (like for enable_service).

fixes bug 1186488

Change-Id: Iad90f802e77b94416821008c294c1a2ede8a4729"
ianw,2013-05-14 23:25:27,https://api.github.com/repos/openstack/devstack/git/commits/535a8148ccfc0ff99d58ba9242950811d14d2935,535a8148ccfc0ff99d58ba9242950811d14d2935,"Install EPEL for rhel6 if not detected

Simple check to see if EPEL repo is enabled for RHEL6 and, if not,
automated install of the repo RPM.

Also adds an additional sanity check which checking for pip.  In the
prior case of EPEL being disabled, a RHEL6 host may not have access to
python-pip.  Although this shouldn't happen, its a good sanity check.

Change-Id: I4e8a4dda9475b75d071534d4eef469198502a048"
ema,2013-05-25 21:48:33,https://api.github.com/repos/openstack/devstack/git/commits/796cf890ffe2add16bddc8fa59cb73a51e8f3b50,796cf890ffe2add16bddc8fa59cb73a51e8f3b50,"Add missing .debs required by Debian

dnsmasq-utils is available on all Debian-based supported distros.

Debian Wheezy and Jessie need qemu to be installed in order for the resulting
OpenStack environment to be fully functional.

Change-Id: I910968f60ca1ed5c300a1fa599fb480d65591145"
cloudnull,2013-05-28 19:10:58,https://api.github.com/repos/openstack/devstack/git/commits/e4859f0bd3aee92ccc588614925ed697d1ba06d2,e4859f0bd3aee92ccc588614925ed697d1ba06d2,"Set variables in rsyslog.conf to disable rate-limiting.

Per Bug https://bugs.launchpad.net/openstack-ci/+bug/1024487, this will
modify the rate-limiting setting for rsyslog.conf.  If rate-limiting is
being used the addition will set it to 0 otherwise the addition will
add the variables to the configuration file and set them to 0.

Implements: Variables ""$SystemLogRateLimitBurst 0"", and
""$SystemLogRateLimitInterval 0"" in ""/etc/rsyslog.conf"". These changes
are persuent to what has been outlined in the rsyslog docs as found
here : http://www.rsyslog.com/tag/SystemLogRateLimitInterval/

Updated commit implements changes in code and placement post code
review. Recent change implements the ""SystemLogRateLimitBurst"" in first
if statement, which was ""SystemLogRateLimitInterval"" and wrong.

Fixes: Bug 1024487
Change-Id: I2637889cbe9e5e87bbfc0f1bb5047abae34d953c"
ianw,2013-05-22 23:25:10,https://api.github.com/repos/openstack/devstack/git/commits/2bda6cfabf5e60f8bb74bb22f3c895ca108dff3c,2bda6cfabf5e60f8bb74bb22f3c895ca108dff3c,"Install nodejs for RHEL/Fedora

nodejs is required for Horizon (ships a copy of lessc internally).  I
couldn't find nodejs in the rpm list, despite it being installed in
lib/horizon.  This adds to the rpm list as NOPRIME and retains the old
install point.

RHEL6 has nodejs in EPEL now, so we remove the old hack that installed
an upstream version and add it to the install mentioned previously

Change-Id: Ib3ee2f7d77e22666c9055c8528288c01b46a95d3"
ljjjustin,2013-05-22 08:55:25,https://api.github.com/repos/openstack/devstack/git/commits/f02be85cc8096a458f03d18fb92fd36f5cedbc12,f02be85cc8096a458f03d18fb92fd36f5cedbc12,"specify session name on perform rejoin stack

rejoin-stack.sh would not specify screen session name which will lead
unstack.sh unable to kill the screen session started by rejoin-stack.sh
after hypervisor rebooted. So specify the session name if
rejoin-stack.sh need to start a new sreen session.

fixes bug 1182806

Change-Id: I68635887aa82fa63f3667e0f090ea2836eec7b68"
conkiztador,2013-05-28 01:31:31,https://api.github.com/repos/openstack/devstack/git/commits/7033829d71084a6183a0c6432e748ddd3e48a6ea,7033829d71084a6183a0c6432e748ddd3e48a6ea,"Add h-api to suggested ENABLED_SERVICES for Heat

Currently lib/heat says:

    To enable, add the following to localrc
    ENABLED_SERVICES+=,heat,h-api-cfn,h-api-cw,h-eng

Once the stack is up, `heat list` fails because the API server
isn't running.

This commit adds h-api to that list.
Also make sure h-api is killed in stop_heat().

Change-Id: I2e818bb343680b3778f9277c23c766f784d28887"
marun,2013-05-22 05:50:21,https://api.github.com/repos/openstack/devstack/git/commits/4a9f26bf2081f6d3643f4d4e30434024b8724887,4a9f26bf2081f6d3643f4d4e30434024b8724887,"Install nose 1.1 from EPEL for RHEL.

 * It's not possible to prevent python-nose (which is not compatible
   with Tempest) from being installed since so many os packages
   dependent on it.
 * This patch installs python-nose1.1 from EPEL and adds a
   /usr/local/bin symlink for nosetests1.1 so that invocations for
   Tempest will work as expected.

Change-Id: I756d1ca5eda127dcdd2efb047c8e14dd344f710d"
ljjjustin,2013-05-14 09:48:15,https://api.github.com/repos/openstack/devstack/git/commits/e6f2ee508a44b1008ac226b86a68e22dc5ea7ac5,e6f2ee508a44b1008ac226b86a68e22dc5ea7ac5,"add firewall driver if we use quantum security group

fixes bug 1179820

we must set firewall driver if we want to use quantum security group because
quantum will disable security group if we do not change the default firewall
driver. Currently devstack will not change the default firewall driver
if we just running quantum server on a node which will cause nova unable to
security group information.

Change-Id: Ie274325decbf252630a237ed3d6ee3136eb259fe"
JordanP,2013-05-16 09:16:13,https://api.github.com/repos/openstack/devstack/git/commits/614202fc40923a60f83d7108ea66ce07846de324,614202fc40923a60f83d7108ea66ce07846de324,"On unstack : clean up network namespaces created by quantum

Also removes OVS ports

Fix Bug #1156837

Change-Id: Id4178c0a12a3ada76403a57a736a9c7a908d6a4a"
amotoki,2013-04-26 15:23:27,https://api.github.com/repos/openstack/devstack/git/commits/64539924db3744d2483a1da7231cc801e332e180,64539924db3744d2483a1da7231cc801e332e180,"Remove temporary logic for Quantum auth_token transition

When Quantum auth_token configuration were moved to quantum.conf,
the temporary logic to disable auth_token in api-paste.ini was added
to avoid gating test failures of patches based on the version with
api-paste.ini auth_token configurations.
This temporary logic is no longer needed.

Change-Id: I539301a338d5ada01c83af5e9cf203849a67c6c1"
marun,2013-05-15 21:28:29,https://api.github.com/repos/openstack/devstack/git/commits/eb2da5dfb8c1014fb973bb21428af5b8ed5d8848,eb2da5dfb8c1014fb973bb21428af5b8ed5d8848,"Ensure Open vSwitch can be installed on RHEL6.

 * RHEL6 does not include Open vSwitch in the default repos, but it
   is available via the RDO repo.  This patch automatically
   configures the RDO repo for RHEL6.
 * The openvswitch package is now listed as an rpm dependency to
   ensure it can be cached by a pre-built CI environment.

Change-Id: I8f93f53039cca4ff29bcb91720be7bb047b3ed8a"
marun,2013-05-16 10:57:17,https://api.github.com/repos/openstack/devstack/git/commits/70e6b7d14c159045f9e648c34f265c6cee196c71,70e6b7d14c159045f9e648c34f265c6cee196c71,"Avoid installing python-nose for RHEL6.

 * python-nose on RHEL isn't new enough to support Tempest.

Change-Id: I98107bf664a12f6252f74b4511e3228d511ff855"
berrange,2013-05-20 14:03:43,https://api.github.com/repos/openstack/devstack/git/commits/d52008acd48dbff6fcee01a159e9f65bf142b714,d52008acd48dbff6fcee01a159e9f65bf142b714,"Use --managed-save flag to virsh undefine

If a virtual machine has got a managed save image, it is not
possible to delete it using a plain 'virsh undefine' command.
While Nova doesn't use 'managed save', the libvirt-guests
init script or systemd service may have created one if the
user rebooted their host. Thus we devstack should pass the
--managed-save flag to virsh to ensure the VM's removal.

Change-Id: Id9b072a6dceeb4e179d2b6a25bbdfb559c299e95
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>"
BobBall,2013-05-16 13:27:01,https://api.github.com/repos/openstack/devstack/git/commits/337bd8176fff19f22a5cc8e2ce256ca6b574198b,337bd8176fff19f22a5cc8e2ce256ca6b574198b,"Move hypervisor-specific code into a case statement

Change-Id: Id799506f180ac81d493f49de140cc079338430aa"
marun,2013-05-15 19:44:10,https://api.github.com/repos/openstack/devstack/git/commits/b1802db8078b61fe3ee4d3d6239d069123638932,b1802db8078b61fe3ee4d3d6239d069123638932,"Do not run selinux commands if it is disabled.

 * Execution of the setenforce command when selinux was not enabled
   was resulting in a non-zero exit status, which halted devstack.
 * Addresses bug 1175444

Change-Id: I7f6492dea7c52d153e755cda826d6fabd53f3771"
vishvananda,2013-05-10 00:20:31,https://api.github.com/repos/openstack/devstack/git/commits/78a53d92c734e6921a555313a0163bd3ca7afa31,78a53d92c734e6921a555313a0163bd3ca7afa31,"Only search the lib dir for rpc_backend

The grep in rpc_backend uses . to search all files. Unfortunately
the current directory when the command is called is not the lib
directory, so change it to search the lib directory instead.
Without this fix the command is forced to grep all files under
devstack which could be very slow if one has downloaded large
images.

Fixes bug 1174718

Change-Id: Ic8a59885cd07e5d6f2e734e80824762f9ac12996"
conkiztador,2013-03-11 23:55:49,https://api.github.com/repos/openstack/devstack/git/commits/fb2a3ae3cabe4fae3f6d9bc0d600807ff39e5e78,fb2a3ae3cabe4fae3f6d9bc0d600807ff39e5e78,"Basic cells support

Adds support for running a region and child cell within a single
devstack environment.

README.md has been updated with some info on getting started.

Rebased/updated from initial work by Andrew Laski <andrew.laski@rackspace.com>.

Change-Id: Ic181da2180ccaa51df7efc9d66f7ccb820aac19b"
JordanP,2013-05-08 20:19:59,https://api.github.com/repos/openstack/devstack/git/commits/1e4587ef99cef970ef881ebf2ee2e65f9e939f34,1e4587ef99cef970ef881ebf2ee2e65f9e939f34,"Clean up horizon apache logs on unstack

It feels like the right think to do. Moreover it will avoid to display
horizon errors from a previous devstack run that would be displayed because
of the tail -f in start_horizon()

Change-Id: Id1ab272e60e0733a4feef3b85029f438f2273cb0"
ianw,2013-05-03 03:08:52,https://api.github.com/repos/openstack/devstack/git/commits/053dafe6dee084d0caf5cf49836263c00166066c,053dafe6dee084d0caf5cf49836263c00166066c,"Disable selinux for RHEL6

selinux locks down httpd which causes various issues for Horizon
working from git checkouts.  Dealing with selinux is more a deployment
than a development issue, so we just disable it for devstack.

Change-Id: I1e61f34e812360dafacd3b3288e66bc9cc5f1648
Fixes: 1175444"
JordanP,2013-05-08 17:14:29,https://api.github.com/repos/openstack/devstack/git/commits/2ae6acfe38db1142a4a93471bc15d642e40c3db6,2ae6acfe38db1142a4a93471bc15d642e40c3db6,"Stop quantum-ns-metadata-proxy process on unstack

Change function stop_quantum() in lib/quantum to also kill quantum-ns-metadata-proxy process

Fix Bug #1175658

Change-Id: I9e8f8437817cc645ab15eecfea1a134ea5ac13f2"
emonty,2013-05-08 18:29:52,https://api.github.com/repos/openstack/devstack/git/commits/5e159496b88772a20102b646d02ed4cc13b15f7a,5e159496b88772a20102b646d02ed4cc13b15f7a,"Add pbr to devstack.

It's being used in all of the core projects, so we should install it
at the start so we can ensure that we don't break everything all at
once.

Change-Id: I326d724264803e88315ee9e40f4634836baf6e0b"
ianw,2013-04-11 02:04:36,https://api.github.com/repos/openstack/devstack/git/commits/0488edda8a34b0be6693cafdf506cfc8185a2a83,0488edda8a34b0be6693cafdf506cfc8185a2a83,"Basic check for homedir permissions

Several guides suggest using data directories under your homedir,
rather than the default /opt area.  This is fine, but on RHEL6 and
similar distros homedirs are very restrictive 0700 permissions which
doesn't allow things like httpd to pass through to serve up files.

Even though stack.sh is taking over the host, changing permissions
automatically is not a nice idea.  So we just warn when it looks like
this is happening.

Change-Id: I9cd70e7fe90638a2a5c3b8fd94756afacac7c7be"
steveb,2013-05-07 23:37:26,https://api.github.com/repos/openstack/devstack/git/commits/de0898a02c453a0fbff5119cc74b37a1e336d28d,de0898a02c453a0fbff5119cc74b37a1e336d28d,"Do not run heat/tools/nova_create_flavors.sh

This script takes a long time to run which will affect tempest
run times. Instead of running this, example templates will be modified
to align with the default heat flavors.

Change-Id: I588b1da9f5a02de3bf64ac8011d75c7d5432ef26"
ianw,2013-05-02 02:02:22,https://api.github.com/repos/openstack/devstack/git/commits/b85f9d73c1be03ebcd6ce55eb654e53c2fc4837c,b85f9d73c1be03ebcd6ce55eb654e53c2fc4837c,"Ensure correct polkit config written for RHEL6

Ensure the correct polkit config is written for RHEL6, or nova-cpu
will fail to start with libvirt permission errors

Change-Id: I871ef4e03157883db15be41222b7338765fbb843"
ianw,2013-05-01 03:26:01,https://api.github.com/repos/openstack/devstack/git/commits/f91d6d21ba64906aa2d8b0ba67f60333908e710f,f91d6d21ba64906aa2d8b0ba67f60333908e710f,"Pre-install hgtools for RHEL6

See the inline comment; pre-installing this package works around [1]

[1] https://bugzilla.redhat.com/show_bug.cgi?id=924038

Change-Id: Id021b44ac9d8aa28286828ccfd6515b7850bad16"
marun,2013-05-01 20:48:54,https://api.github.com/repos/openstack/devstack/git/commits/a8f7a62f133976af32736fd892f64b56787ebe3c,a8f7a62f133976af32736fd892f64b56787ebe3c,"Add XAPI config to quantum rootwrap for XS/XCP.

 * Supports blueprint xenapi-ovs

Change-Id: I902458ec26cd07e94fe50bb3648efa75658ccba3"
marun,2013-04-23 06:16:11,https://api.github.com/repos/openstack/devstack/git/commits/d7150e9bbce54479028c5c744d5648ae530925ea,d7150e9bbce54479028c5c744d5648ae530925ea,"Add configurable use of veths with Quantum+OVS.

 * This patch adds the ability to configure use of veths with
   OVS via the Q_OVS_USE_VETH variable.  The use of veths with OVS
   is required to support namespaces on RHEL.
 * Supports bug 1171727

Change-Id: I5f557d659684ead99a3e5e2b4df787699d9d3f05"
BobBall,2013-04-29 22:35:57,https://api.github.com/repos/openstack/devstack/git/commits/2634be00b862b3577d6f40c72486339fbc27c937,2634be00b862b3577d6f40c72486339fbc27c937,"Correcting comment for HOST_IP_IFACE

Change-Id: I4c3438dc1168401c193841976cf8ba8534b33679
Fixes: bug #1174455"
ianw,2013-04-11 01:13:09,https://api.github.com/repos/openstack/devstack/git/commits/ad43b3957ee8082c1e27568de1070edb81734181,ad43b3957ee8082c1e27568de1070edb81734181,"Grab upstream nodejs for RHEL6

RHEL6 has no nodejs in main packages or in EPEL.  The easiest way is
to just install the upstream binary version which works fine for the
very minimal usage by lesscss.

Change-Id: Ia35e7dbaf4c7add43797d6b7d0c846bab1cf0cb0"
ianw,2013-04-26 01:28:29,https://api.github.com/repos/openstack/devstack/git/commits/7919d851a9e532c9d92c82a067e68cf95b6770c8,7919d851a9e532c9d92c82a067e68cf95b6770c8,"RHEL6 support rpms

Install some rpms required for operation on RHEL6.  Additionally,
remove some system packages that interfere with pip installs.

Change-Id: I273ce59d7bf066e73d524f61b8ad048599101dab"
ianw,2013-04-26 09:49:15,https://api.github.com/repos/openstack/devstack/git/commits/e88b3a4d67f84d660f3043dbf7cc33e946458e5e,e88b3a4d67f84d660f3043dbf7cc33e946458e5e,"Remove unused post-prereq phase

This phase was going to be part of RHEL6 support, but is no longer
necessary

Change-Id: I8614710b35db018dcf9d906e0af70e4f6b8c7191"
mhuin,2013-04-15 15:13:41,https://api.github.com/repos/openstack/devstack/git/commits/7a7a4667386424b949a9e4e1c65683d71a1161fe,7a7a4667386424b949a9e4e1c65683d71a1161fe,"Removes ""RPC not enabled"" error message when no backend is needed

When no service needing a RPC backend is activated, no error message
should appear if a RPC backend is not installed. A simple check is
done on the services installation files to see which services need to
initialize a RPC backend at some point; if none of these services
are in ENABLED_SERVICES then the error message is skipped.

Change-Id: I4e47e0c675c74775b4ea53a00848ac1d777f0125
Fixes: bug #1167338"
hartsock,2013-04-24 21:49:56,https://api.github.com/repos/openstack/devstack/git/commits/a418af9503d6e5d7b767d6840efd6eb7ca199e13,a418af9503d6e5d7b767d6840efd6eb7ca199e13,"fix support for VMware vCenter Driver

Change-Id: Iedd26dbb89731f49718604eb09eb84b3e0b648c0"
steveb,2013-04-13 18:14:41,https://api.github.com/repos/openstack/devstack/git/commits/d5cd79b16bbb4bae6da7dadfcbb7a4c2520a7045,d5cd79b16bbb4bae6da7dadfcbb7a4c2520a7045,"Install api-paste.ini and policy.json

This is related to this Heat change, and Heat on Devstack will not work
while only one of these changes is applied:
Consolidated api-paste.ini file
https://review.openstack.org/#/c/27384/

Change-Id: Iba02b56173f796de5348289247233c8765f83ac2"
steveb,2013-04-12 23:49:14,https://api.github.com/repos/openstack/devstack/git/commits/fd1ebe7cba2388803e37b8f55475ffff50028506,fd1ebe7cba2388803e37b8f55475ffff50028506,"Move ec2authtoken config from paste.ini to conf

Nothing now needs to be configured in paste.ini on launch

This change relates to these committed Heat changes:
https://review.openstack.org/#/c/27382/
https://review.openstack.org/#/c/27382/

Change-Id: Ia29dee8e32cd3d43d1b9200dd94de70e02a54bfc"
steveb,2013-04-09 01:41:47,https://api.github.com/repos/openstack/devstack/git/commits/c32490838a2bbbda4ab383f573dedfc484ca9cf9,c32490838a2bbbda4ab383f573dedfc484ca9cf9,"Move auth_token config to .conf, key cache directories

auth_token configuration can now be read from the conf files
rather than the paste.ini files.

A key cache directory has been created for each of the 3 API services
under /var/cache/heat

This is the devstack change relating to
Heat Blueprint: keystone-middleware

This is related to this committed change:
https://review.openstack.org/#/c/26351/

Devstack users will find Heat to be broken until this corresponding change
is approved.

Change-Id: If6f77f86a3eeb08a58b516725bd806e39ccedb50"
rhafer,2013-04-12 10:39:58,https://api.github.com/repos/openstack/devstack/git/commits/76ca9a9e235c9f57eaecb387dc22d02e241de402,76ca9a9e235c9f57eaecb387dc22d02e241de402,"Fix nova compute failing to start on openSUSE 12.3

The syntax of polkit authorization rules is different now. Using the same code
as for Fedora 18 now.

Change-Id: I4f66d8fc65c90a309aab478a4df35c77c7669314"
joehakimrahme,2013-04-24 08:40:07,https://api.github.com/repos/openstack/devstack/git/commits/9d2647a93f8788b22bc1d22046d40165bfba0013,9d2647a93f8788b22bc1d22046d40165bfba0013,"Set the port of S3_URL to 8080 with swift3 enabled

Fixes: bug #1171608
The value of the port defaults to 3333 which is the
default for nova-objectstore.

Change-Id: If87df6a765bcfc4d467628411dceec72d5af412e"
vuntz,2013-04-23 08:04:12,https://api.github.com/repos/openstack/devstack/git/commits/5fe933399f57a2753d1f7615534b707160d6d497,5fe933399f57a2753d1f7615534b707160d6d497,"Install polkit on Fedora/openSUSE when using nova

We clearly depend on polkit. It's usually already installed, but for
people using JeOS images, it's not.

Change-Id: Ieccd0ff569f7d4541833b98232aeebb36b3493cb"
ianw,2013-04-11 02:01:09,https://api.github.com/repos/openstack/devstack/git/commits/64dd03dd78b420a7983e2e36fb8ffb234c12e859,64dd03dd78b420a7983e2e36fb8ffb234c12e859,"Modify RPM lists for RHEL6

Modifications to the RPM list to make devstack work on RHEL6.  Makes
various packages only install on Fedora distros; generally letting pip
install the missing dependencies on RHEL.

Additionally the Qpid package name is different in RHEL6 to Fedora.
Also a small re-write of the config file is required to avoid
authenication issues.

Change-Id: If497099d27aa9cd80e1c1cee1aff2ed6b076d309"
eharney,2013-04-10 16:48:09,https://api.github.com/repos/openstack/devstack/git/commits/cd26151261425ab81e678a6f6b16011ab4ca8b2f,cd26151261425ab81e678a6f6b16011ab4ca8b2f,"Add support for GlusterFS Cinder driver

The GlusterFS volume driver can be used with Cinder by setting the
following in localrc:

CINDER_DRIVER=glusterfs
CINDER_GLUSTERFS_SHARES=""127.0.0.1:/vol1;127.0.0.1:/vol2""

Shares are <host>:<volume> and separated by semicolons.

Change-Id: Iaa105233c9fce8d8fda0a9ea447e045b8d010db7"
ianw,2013-04-11 01:15:57,https://api.github.com/repos/openstack/devstack/git/commits/2578565d55c6ebee538b9d960da195f1dab0670d,2578565d55c6ebee538b9d960da195f1dab0670d,"Add rhel6 as an allowed distro

Add RHEL6 based distributions as a valid install target

Change-Id: I89fb68d18a0d2079493be93b230162679123881d"
ianw,2013-04-11 01:14:36,https://api.github.com/repos/openstack/devstack/git/commits/d67dd87bfb59e602f564abbdbe9dee8cc8214a9e,d67dd87bfb59e602f564abbdbe9dee8cc8214a9e,"Skip pip mirrors for RHEL

The RHEL6 version of pip doesn't have support for mirrors, so skip
asking for them.

Change-Id: Iaf2900067bb4b41f88d8fe82ea16b6b53d6bcc60"
ianw,2013-04-02 02:42:16,https://api.github.com/repos/openstack/devstack/git/commits/aa8242970dc46da60d95ecbd3e8ee207409ff82f,aa8242970dc46da60d95ecbd3e8ee207409ff82f,"Add a generic post-prereq phase

This generic extra phase is handy for fixing up things like python
modules after pip is installed or other distro specific requirements.

Change-Id: I4a68b830cd98c6f93191dac1edd7de2a0381feaa"
emagana,2013-04-17 22:11:04,https://api.github.com/repos/openstack/devstack/git/commits/43a655c312de0c2f9bd0b053f3e0a0c5ef64476e,43a655c312de0c2f9bd0b053f3e0a0c5ef64476e,"Parameterized configuration variables for PLUMgrid plugin

Fixes bug 1171028

Change-Id: Ie60ef8903001913996e265917c449bdce1e5aae9"
sthaha,2013-04-10 04:11:44,https://api.github.com/repos/openstack/devstack/git/commits/627d9c77e538bdcf972ff1c7d48dafd966b44d74,627d9c77e538bdcf972ff1c7d48dafd966b44d74,"Fixes running horizon on fedora 18 and above

Fixes bug: 1167066
Summary:

1. Starting with fedora 18 the httpd.conf has
    <Directory />
        AllowOverride none
        Require all denied
    </Directory>
  which requires you to explicitly permit access to web content
  directories in other <Directory> blocks

2. Install nodejs on fedora 18 and above

Change-Id: I487a7a74bad6627d32c1081dcbe48630a704a106"
steveb,2013-04-14 19:48:41,https://api.github.com/repos/openstack/devstack/git/commits/18225d92c0ef8d56dc7df3177eaed4860d97604b,18225d92c0ef8d56dc7df3177eaed4860d97604b,"link /etc/tgt/stack.d to cinder volumes directory

This creates /etc/tgt/stack.d as a symlink to the cinder volumes
directory and includes it in /etc/tgt/targets.conf in a similar way
to /etc/tgt/conf.d

targets.conf only gets appended to when the symlink is created.
Any old /etc/tgt/conf.d/stack.conf is deleted

Change-Id: Ifb6412f6860ceb28b724644fb9b618638f552102
Fixes: bug #1072121"
vuntz,2013-04-11 06:41:27,https://api.github.com/repos/openstack/devstack/git/commits/623a0a58f6db70dd563c951bd601c18e6a1eb524,623a0a58f6db70dd563c951bd601c18e6a1eb524,"Do not install mysql if mariadb is installed on openSUSE

mariadb and mysql are conflicting on a package level, but are compatible
for our needs. So if mariadb is already installed, do not try to install
mysql.

Change-Id: I3aa991c1c4691df3e3f4798505668da3ab908998"
jasondunsmore,2013-04-10 15:17:40,https://api.github.com/repos/openstack/devstack/git/commits/4e971118ff410407ead7b577cc31bf7341555746,4e971118ff410407ead7b577cc31bf7341555746,"Make sure custom grep options don't get in the way

Change-Id: I3c8fa21793906d80790c31ed02f585eff35a64a5"
dtroyer,2013-04-08 20:38:03,https://api.github.com/repos/openstack/devstack/git/commits/cc6b4435458b5db6aed17631e4789c43d21ee8e5,cc6b4435458b5db6aed17631e4789c43d21ee8e5,"Formatting cleanups, doc updates and whatnot

Change-Id: Ica8298353be22f947c8e8a03d8dc29ded9cb26dd"
matrohon,2013-04-09 13:09:07,https://api.github.com/repos/openstack/devstack/git/commits/3ebb01adfe05326a96418bc97e6674a250601ccd,3ebb01adfe05326a96418bc97e6674a250601ccd,"Enable debug logging in q-agt output

when only q-agt is used, without q-svc, typically in a multi-host config, q-agt wasn't logging debug output.
This change enable debug output, as it's done for q-l3, q-dhcp or q-meta agent.

Change-Id: I1f49cf9994fa9cfbaa166dac8d4e713ba99c5674
Fixes: bug #1166775"
mhuin,2013-04-08 11:31:54,https://api.github.com/repos/openstack/devstack/git/commits/a44d5ed1353745258fec1a0e2c9a778d1c1f77d9,a44d5ed1353745258fec1a0e2c9a778d1c1f77d9,"Set swift3 before s3token in proxy server middleware pipeline

swift3 and s3token middlewares were not set in correct order in
/etc/swift/proxy-server.conf when the swift3 service is enabled
with keystone. swift3 must be set before s3token.

Fixes: bug #1166123
Change-Id: I97c051af95cbdc26ccfe9753c5719394e1875dde"
dcmorton,2013-04-09 04:46:08,https://api.github.com/repos/openstack/devstack/git/commits/4a8496eca628f03944cd2abdce38bb6c5f521bdf,4a8496eca628f03944cd2abdce38bb6c5f521bdf,"Linux Mint support

This patch allows DevStack installation on Linux Mint. Installations
on Linux Mint previously failed since its distribution ID did not
match any of the package installation methods and defaulted to using
rpm packages. Linux Mint is a Ubuntu derivative and such does not have
native support for rpm packages.

This change adds ""LinuxMint"" to the distribution matching options along
with Debian and Ubuntu.

Change-Id: Ice6a201cabe07373a9c1354699777835addeac53
Fixes: bug #1166422"
no2a,2013-04-08 06:25:30,https://api.github.com/repos/openstack/devstack/git/commits/c4193b22f3ef30c9975e53562c02173c638f5631,c4193b22f3ef30c9975e53562c02173c638f5631,"Use baremetal-interface-add, not baremetal-add-interface

Since nova doesn't have such subcommand.

Change-Id: I3c99de38f959418f82d45078c7784ba6ab60c383"
dtroyer,2013-04-05 20:02:01,https://api.github.com/repos/openstack/devstack/git/commits/896eb666e8825b25ce86d3293b13aa5cff4ad781,896eb666e8825b25ce86d3293b13aa5cff4ad781,"Add err()/err_if_not_set()

* err() and err_if_not_set() do error-like reporting without aborting the script
* die_if_not_set() now properly dies
* add is_running() from Grenade

Change-Id: I38b88112415a3c07e35bbc2dc65ad839c4d63fce"
vuntz,2013-04-04 07:22:02,https://api.github.com/repos/openstack/devstack/git/commits/d8246c2abb0ac32a0038ba65d2c18d7f81370328,d8246c2abb0ac32a0038ba65d2c18d7f81370328,"Update dependencies on openSUSE

openSUSE 12.3 comes with the DHCP lease utilities in the dnsmasq-utils
package.

Also drop the gcc dependency in n-api (like it was done for debian, see
e9e80f9)

Change-Id: Id045674946d7856f6364c2357f3e126b05651461"
ianw,2013-03-20 03:51:06,https://api.github.com/repos/openstack/devstack/git/commits/d857f4b4a4af2ed468c219d24da9d98416aff5d1,d857f4b4a4af2ed468c219d24da9d98416aff5d1,"Add rhel to DISTRO match

Match RHEL and CentOS and provide them as a DISTRO prefix of ""rhel""

Change-Id: Ida19130ce9499d4d1fd2360fadc6b870b24bbc95"
andycjw,2013-04-03 07:04:50,https://api.github.com/repos/openstack/devstack/git/commits/ba04583cb7ef827829b746ae4b9b70b4e9f05157,ba04583cb7ef827829b746ae4b9b70b4e9f05157,"Add network block device package to support LXC rootfs mount on it.

This fix the bug 970645.

Change-Id: If9fde90ac71cdaaff0d006a4df1a325f6f656744"
dtroyer,2013-04-01 20:48:44,https://api.github.com/repos/openstack/devstack/git/commits/fe51a90005fbea4bacb660907d4f7dd3a1c7f0f1,fe51a90005fbea4bacb660907d4f7dd3a1c7f0f1,"Refactor source installation

Clean up and organize the download and configuration of source repositories.

Change-Id: Iaf38c0aed0a83ebf9a5da3505fe92c9fa200ac1e"
marun,2013-03-26 04:15:34,https://api.github.com/repos/openstack/devstack/git/commits/a81dcaa62466d6f1260895fd08d1de607f34da21,a81dcaa62466d6f1260895fd08d1de607f34da21,"Increase flexibility of stackrc repo config.

 * Offline use of devstack previously required defining individual
   repo overrides.  This change maintains support for individual
   overrides while adding the ability to override GIT_BASE.

Change-Id: I4ca8b8e69c0fb05a7c9cf2fd4643eac2f7643aa9"
kghost,2013-03-29 18:06:19,https://api.github.com/repos/openstack/devstack/git/commits/4b1dbb5dabb6a30097030c0a625830a17c5c065f,4b1dbb5dabb6a30097030c0a625830a17c5c065f,"Keystone doesn't depend on bcrypt any more

see https://github.com/openstack/keystone/commit/48f2f650c8b622b55e67610081336055ec9a2c8e#keystone/common/utils.py

Change-Id: I3038a96deb9ca319224c07f549c893d24707be0d"
lianhao,2013-04-02 07:59:33,https://api.github.com/repos/openstack/devstack/git/commits/bd461a36927ba025b7523c005c6abd228ec8c302,bd461a36927ba025b7523c005c6abd228ec8c302,"Remove unused option for ceilometer.

This fixed the bug #1163158.

Change-Id: Ib93e5b26d1f1309edf2baa5c147337db1411eee5"
dtroyer,2013-04-01 23:23:22,https://api.github.com/repos/openstack/devstack/git/commits/253a1a351b13fd434c9246e7994fb669b1691d20,253a1a351b13fd434c9246e7994fb669b1691d20,"Move setup_develop call

Move setup_develop() call into the install_XXX() function as the
distinction has no real purpose.  This eliminates the configure_XXXclient()
function for Nova and Swift.

Also create install_cinderclient() as we will need it to handle dependencies
in a followup patch.

Chasing down another #$^%&&^^^$%%#$ prettytable version pin

Change-Id: I61d761bc57a31caf2ed0ade326ab236eb2bb7358"
ianw,2013-03-20 02:00:44,https://api.github.com/repos/openstack/devstack/git/commits/2c678ccf632ed17fde609c210dcb698e08f5395c,2c678ccf632ed17fde609c210dcb698e08f5395c,"Use sudo to remove packages

yum and others need root to remove packages

Change-Id: I556505636c41296f9188c248dff13b85616c667c"
dtroyer,2013-03-29 19:06:52,https://api.github.com/repos/openstack/devstack/git/commits/1151d6ff6116ffa86eb49221cdd949380a4d7423,1151d6ff6116ffa86eb49221cdd949380a4d7423,"Make Swift *_PORT_BASE configurable

DevStack's Swift port defaults changed in the Grizzly cycle, we need to
put it back to complete the upgrade without going through the ring build process.

Change-Id: I30c09839690ad7ba9bb3fdffa3f05aedfc47559e"
dtroyer,2013-03-27 22:40:53,https://api.github.com/repos/openstack/devstack/git/commits/1c6c1125199f1d987848bb1e3522b90358a4531b,1c6c1125199f1d987848bb1e3522b90358a4531b,"Split disk creation out of configure_swift()

Grenade needs to be able to configure Swift without initializing the
backing disk files.  Move it into create_swift_disk() and call
from init_swift().

Also move start of n-obj (if swift3 is not enabled) to start_nova().

Change-Id: Id33939182d84eeff10ba4139eeced2c1bc532f0f"
dtroyer,2013-03-29 15:51:01,https://api.github.com/repos/openstack/devstack/git/commits/c77b932e16398eebb810501973f6c8a706a3ba58,c77b932e16398eebb810501973f6c8a706a3ba58,"Move glace's swift config to lib/glance

Change-Id: Icbb355c15bfffe17725ea5cc64cfa5e76c1e74e6"
dtroyer,2013-03-29 15:22:53,https://api.github.com/repos/openstack/devstack/git/commits/e9e80f9bfaed608cbff8249cab52561bb3d67a4d,e9e80f9bfaed608cbff8249cab52561bb3d67a4d,"Clean up Nova API prereq

Bug 980966

Change-Id: If5bbcc094b54a2de96151d69653e57e0e540d6de"
dtroyer,2013-03-29 15:15:36,https://api.github.com/repos/openstack/devstack/git/commits/3ac95355bc4240ff04f997609a9aba93c22a6b45,3ac95355bc4240ff04f997609a9aba93c22a6b45,"Correctly source .stackenv

Specifically to recall HOST_IP and SERVICE_HOST for the current DevStack configuration.

Bug 930274

Change-Id: I299d94101ab93faccc88917503409e0afaa0a523"
amotoki,2013-03-22 07:35:38,https://api.github.com/repos/openstack/devstack/git/commits/c07112a203aa9a25d2abaf497a740abd908e5919,c07112a203aa9a25d2abaf497a740abd908e5919,"Allow a plugin specific interface_driver config in q-lbaas

Previously interface_driver for q-lbaas is hardcoded and q-lbaas does
not work when quantum plugin requires additional configuration (like
ovs_use_veth=True). This commit set up interface_driver using
quantum_plugin_setup_interface_driver function.

This commit also moves a script related Quantum service plugin to
lib/quantum_plugins/services/

Change-Id: Iad11c1b31071dfb580843be18be78c83feb91f10"
kk7ds,2013-03-28 19:22:25,https://api.github.com/repos/openstack/devstack/git/commits/c0fad2b6a1729e7b1e7c6f892d6cac9d4a086433,c0fad2b6a1729e7b1e7c6f892d6cac9d4a086433,"Don't clobber all iSCSI connections during nova cleanup

The existing cleanup_nova() code inadvertently logs out of all iSCSI
connections on the machine because it does not pass the target name
as the -T parameter. This patch changes it to step through the targets
that match the pattern, logging out of each individually, and following
up with a delete op to cleanup the database.

Change-Id: I26c14acbe0e8de18f0e3bf7ad83b37379503e199"
amotoki,2013-03-27 10:47:11,https://api.github.com/repos/openstack/devstack/git/commits/7104ab406a30e20dbeffdbdcc5820cc508d8cab2,7104ab406a30e20dbeffdbdcc5820cc508d8cab2,"Use example settings in horizon repo as local_settings.py

The current horizon_settings.py in devstack is out-of-date and we
tend to forget to update this file. This commit changes devstack
to use the example settings in horizon repo.

Change-Id: I0bb6af21a806a72ed59f31b094dd21da85ca335e"
emonty,2013-03-27 22:40:59,https://api.github.com/repos/openstack/devstack/git/commits/e542883c898de40702ae3506f042ba84040f1f71,e542883c898de40702ae3506f042ba84040f1f71,"Only start zeromq-receiver when we're using zeromq.

Change-Id: Ibd3e6a74f1098e330be0fcbbb83b9188e51202ad"
jmichalon,2013-03-21 13:29:58,https://api.github.com/repos/openstack/devstack/git/commits/0680204b1f437f140d6b4ef8f81e587dce4cb17b,0680204b1f437f140d6b4ef8f81e587dce4cb17b,"Add support for iso files as glance images

Change-Id: Id1731c1a0a579fab44bb3944d2369b3feecf15d2"
aaronorosen,2013-03-26 23:52:53,https://api.github.com/repos/openstack/devstack/git/commits/640f1e4c8d0da6de70e358f5bad28fb1b0306e0d,640f1e4c8d0da6de70e358f5bad28fb1b0306e0d,"Change default PUBLIC_NETWORK_NAME/DEFAULT_FLOATING_POOL name

This patch changes the default network name/floating pool from nova
to pubic as the name public makes more sense than nova for a public
network.

Change-Id: I4153750c08d1510dbad3051681e8c142a79fe1a1"
obondarev,2013-03-25 12:34:23,https://api.github.com/repos/openstack/devstack/git/commits/1f11f9ac8f644b8bc6981f462af46fe4de816d40,1f11f9ac8f644b8bc6981f462af46fe4de816d40,"Add comments on how to run devstack with Quantum

Fixes bug 1077826

Change-Id: I224db4e00e3c937f3106e9a099b79de789be1fc1"
amotoki,2013-01-12 20:01:08,https://api.github.com/repos/openstack/devstack/git/commits/f85fa089bb76d57b5df85507d5b4163a9e5b0733,f85fa089bb76d57b5df85507d5b4163a9e5b0733,"Add Quantum NEC OpenFlow plugin support

NEC OpenFlow plugin supports several OpenFlow controllers. This commit
also adds a third party script to support Trema Sliceable Switch,
one of open source OpenFlow controllers.

Change-Id: I5dddf04a25bc275c3119d751ca79b482e1875902"
amotoki,2013-03-21 05:11:27,https://api.github.com/repos/openstack/devstack/git/commits/3452f8eb8663a8cfc5733784d918b59947630cf8,3452f8eb8663a8cfc5733784d918b59947630cf8,"Support Quantum security group

Adds Q_USE_SECGROUP flag for quantum security group

- Added has_quantum_plugin_security_group method for each plugin.
- Set NOVA_VIF_DRIVER to the hybrid VIF driver for plugins with
  iptables based security group support.
- Specifying device_owner type on debug port in lib/quantum and
  quantum-adv-test.sh. This change makes apply quantum security
  group fro debug port

Change-Id: Ifd155798912247d85a9765ef73a2186b929237b4"
dtroyer,2013-03-18 21:07:56,https://api.github.com/repos/openstack/devstack/git/commits/b7490da972c673960c800e3803c2a568bb7a43b6,b7490da972c673960c800e3803c2a568bb7a43b6,"Clean up stack.sh config

* Clean up interactive configuration
* Complete moving initialization of service-specific varialbes into the
  service lib/* files.
* Cosmetic cleanups

Change-Id: Iea14359bd224dd5533201d4c7cb1437d5382c4d1"
dtroyer,2013-02-28 01:00:39,https://api.github.com/repos/openstack/devstack/git/commits/681f3fddeca89dde1140b79e494aa9ff936273f7,681f3fddeca89dde1140b79e494aa9ff936273f7,"Add run_process() to start services without screen

* USE_SCREEN defaults to True, set it to False to exec the services
  directly via bash.  SCREEN_DEV is still supported until the CI
  scripts get updated.
* The extra logging file descriptors are properly closed in the child process
  and stdout/stderr are redirected to the log files.
* The screen_rc() call is still present; this means that stack-screenrc will
  have a complete record of what was started and rejoin-stack.sh may be able
  to re-create the setup under screen.
* The python interpreter was unwilling to write to the log files without
  unbufering stdout by using PYTHONUNBUFFERED.  This feels hackish and should
  be investigated further.

Change-Id: I012ed049f2c8b185a2e6929d73edc29e167bc21f"
matrohon,2013-03-18 16:34:03,https://api.github.com/repos/openstack/devstack/git/commits/cf9c10d63a4b6f2a24dd335c9f14e6a4289172d8,cf9c10d63a4b6f2a24dd335c9f14e6a4289172d8,"Enable multi-agent support

even when q-svc is disabled, i.e. on node without q-svc in multi-agent architecture,
state_path will be configured in quantum.conf so that agent doesn't crashs anymore

Bug 1156685

Change-Id: I28625e4b606fa61c35179248321632d3d797c547"
dtroyer,2013-03-19 20:39:47,https://api.github.com/repos/openstack/devstack/git/commits/58ab929de63a3a3d7a615edff6c04044071cee5d,58ab929de63a3a3d7a615edff6c04044071cee5d,"Force Quantum processes to run in a subshell

Force bash to evaluate the command line passed to screen_it so the
commands are executed in a subshell.  This seems to make a difference
when using run_service() when the server process is owned by init.

These Quantum services were the only ones in all of DevStack being
spawned in this manner.  This will allow the run_service() patch
https://review.openstack.org/#/c/23148/ to succesfully be merged
and the number of test failures due to screen should be reduced to 0.

Change-Id: I97d562adda51d39a5e7fa1dc4d945d4a396201cd"
bradtopol,2013-03-19 08:01:30,https://api.github.com/repos/openstack/devstack/git/commits/0c2c3fc20e99372f3fb54390f023ce5657feefbf,0c2c3fc20e99372f3fb54390f023ce5657feefbf,"Explicitly add cosine and inetorgperson schemas on Fedora

Fixes Bug1156651

Change-Id: I957a8cdc562a887b0def7bc07c6bb434ce0a0437"
echohead,2013-03-19 01:08:27,https://api.github.com/repos/openstack/devstack/git/commits/9a3ba4b3e1a6286cd1ccaafdb2c1d9960c91da9c,9a3ba4b3e1a6286cd1ccaafdb2c1d9960c91da9c,"Fix typo in baremetal header comment.

Change-Id: I553c37581c92dcdc13e0d8dcdb9c8be7309deaa1"
dirkmueller,2013-03-18 17:55:09,https://api.github.com/repos/openstack/devstack/git/commits/13aab25d3da100b494d61548654f29b1999d33ec,13aab25d3da100b494d61548654f29b1999d33ec,"Accept Quantums rootwrap.conf in etc/quantum/rootwrap.conf

As part of the review request
https://review.openstack.org/#/c/24615/
the Quantum rootwrap.conf is moving to etc/quantum subdir.
Prefer the new location.

Change-Id: I2a893c7b21e252543372854ba511f61cd1fde02f"
dtroyer,2013-03-17 20:17:05,https://api.github.com/repos/openstack/devstack/git/commits/b3236914f15261a60fae254361b1e65ccf94c583,b3236914f15261a60fae254361b1e65ccf94c583,"Mova nova configuration initialization

* Move shared volume configuration from stack.sh to stackrc
* Move Nova network and vnc/spice configuration settings from stack.sh
  into lib/nova
* Rename NET_MAN to NETOWRK_MANAGER to match nova.conf attribute name

Change-Id: I9bd2955def553499aa832eda1f0959afe494206a"
dtroyer,2013-03-13 16:44:53,https://api.github.com/repos/openstack/devstack/git/commits/6ec72fab12e9e23402825028788b3cb9f0b01f18,6ec72fab12e9e23402825028788b3cb9f0b01f18,"Fix Swift config dir variable name

Change SWIFT_CONFIG_DIR to SWIFT_CONF_DIR to be consistent with all other projects.

Change-Id: I52b7d08f038c28a16caa669d7d1aa5248fbe7789"
dtroyer,2013-03-07 22:11:40,https://api.github.com/repos/openstack/devstack/git/commits/995eb927f76d9c30984fb416a6cb59b9247c6812,995eb927f76d9c30984fb416a6cb59b9247c6812,"Add clean.sh

clean.sh gets rid of all residue of running DevStack except installed
packages and pip modules.

And it eradicates rabbitmq-server and ts erlang dependencies as well as
the other RPC backends and databases.

Change-Id: I2b9a251a0a151c012bae85a5a2f9c2f72e7700be"
dtroyer,2013-03-13 19:30:54,https://api.github.com/repos/openstack/devstack/git/commits/ac93efb3c13095d89412081893cc6ff7f9240408,ac93efb3c13095d89412081893cc6ff7f9240408,"Minor comment corrections

Change-Id: Ibe516911e76bb250bc5ea582b0d8b8a3b12890f1"
dtroyer,2013-03-13 19:06:13,https://api.github.com/repos/openstack/devstack/git/commits/c892bde6b415229a8b40229ea2c7ed57c69fa80b,c892bde6b415229a8b40229ea2c7ed57c69fa80b,"Extract HOST_IP default process to a function

This process is required by Grenade also...

Change-Id: I263a4351e70b9cfb0965e57e518fe5fd377f4b43"
markmc,2013-03-13 06:57:19,https://api.github.com/repos/openstack/devstack/git/commits/7ddbea25c4c443709809a8da92ecbb562cc3a62d,7ddbea25c4c443709809a8da92ecbb562cc3a62d,"Don't directly pip install tempest pip-requires

This code:

    # Tempest doesn't satisfy its dependencies on its own, so
    # install them here instead.
    pip_install -r $TEMPEST_DIR/tools/pip-requires

causes us to do:

    Found existing installation: oslo.config 1.1.0
     Uninstalling oslo.config:

so rather than 1.1.0 installed, we end up with 1.1.0b1 and everything
goes kabloomy.

It looks like this comment came from a time (commit 9a352daf) before
tempest included proper install_requires (tempest commit 5abb253c3).

It should be safe to delete this and allow setup_develop() do all the
work just like the other projects.

Change-Id: I869f727900bb08c72e5e8f4e84858a9c77049715"
mathrock,2013-03-13 04:23:18,https://api.github.com/repos/openstack/devstack/git/commits/27c06950cda2e4efc49325546f580af2be1d6aef,27c06950cda2e4efc49325546f580af2be1d6aef,"Deprecate use of fixed_range flag in nova conf

Since a3786b4b8aa47cf19b9dc2babb4df85f578a1280 merged into nova we
now can default to setting fixed_range in nova.conf to """". This will
cause nova to do automatic NAT set up based on the networks
configured rather than relying on the user to set fixed_range to the
largest subnet that includes the networks they've configured.

Leave the stack.sh default value of $FIXED_RANGE alone because it is
used for creating the networks, etc.

Change-Id: Iad13588af3dcf22ce81823de301b73b05cf2aae9"
russellb,2013-03-07 20:16:01,https://api.github.com/repos/openstack/devstack/git/commits/a845ddedfc61b3654963925d28333ac713850b85,a845ddedfc61b3654963925d28333ac713850b85,"Add RUN_EXERCISES to exercise.sh.

The exercise.sh accepted a SKIP_EXERCISES var for limiting which
exercises run.  Sometimes I only want to run one of this.  This new
variable make that much easier than having to list every other exercise
as one that should be skipped.

Change-Id: I21d3cc6ead677d25f7697c6cc1fd690cbbbfbdd7"
vuntz,2013-03-12 17:04:29,https://api.github.com/repos/openstack/devstack/git/commits/cd1fe9849431403893bdef50d5327b65ec273f77,cd1fe9849431403893bdef50d5327b65ec273f77,"Handle LSB data for openSUSE 12.3

The LSB vendor changed to ""openSUSE project"" in openSUSE 12.3. Deal with
it as if it were simply ""openSUSE"".

Change-Id: Id20eac6abba4c07aed1cf4617e89357974f62ff8"
vuntz,2013-03-12 16:57:36,https://api.github.com/repos/openstack/devstack/git/commits/3f34d9af711af1b0f5cc77180ae2791a532fb291,3f34d9af711af1b0f5cc77180ae2791a532fb291,"Make openSUSE port up-to-date

Several changes didn't properly deal with openSUSE, so fix this.

Change-Id: Icc9c894031a8a693d9c41e2ec5717bd76f618342"
salv-orlando,2013-03-12 14:12:12,https://api.github.com/repos/openstack/devstack/git/commits/3de02e8b9afeccdeb7b3169d736c530102bd84fe,3de02e8b9afeccdeb7b3169d736c530102bd84fe,"Add policy_file option to quantum.conf

Bug 1154102

Ensure /etc/quantum/policy.json is the one used by quantum when
deployed through devstack.

Change-Id: Ib4e324911d1ba631d411eb3be78355eee09c39f0"
apevec,2013-03-12 10:10:52,https://api.github.com/repos/openstack/devstack/git/commits/e0bb447244cebb86adde5617d67c8ba828f661fb,e0bb447244cebb86adde5617d67c8ba828f661fb,"Support for separate Keystone paste.deploy configuration

Support for Keystone change https://review.openstack.org/24126
while keeping the backward compatiblity with mixed cfg/paste.deploy
configuration file.

Also remove insertion of s3 extension which was merged in
https://github.com/openstack/keystone/commit/b2aa620bc9d040f803c49707237f43ff1a04ef93

Change-Id: Ib7e2913ebb507f882dcd71b1142bcdb4b040ae6b"
eugene64,2013-03-07 12:10:10,https://api.github.com/repos/openstack/devstack/git/commits/b663b33f51f39a6912b0c01bbd9f8559c3e03418,b663b33f51f39a6912b0c01bbd9f8559c3e03418,"Configures horizon lbaas dashboard

fixes bug 1151865

Change-Id: I1f2c7f7f11170571fe37a9cf5444d26c1c8de959"
salv-orlando,2013-03-07 12:34:57,https://api.github.com/repos/openstack/devstack/git/commits/d1742febe8b03e3c921e37c2f51639eb069779af,d1742febe8b03e3c921e37c2f51639eb069779af,"Set allow_overlapping_ips to True by default

Bug 1152141

Change-Id: I36b3a91ac9c52ea8371df3adc7fcd0f55ad27a58"
jogo,2013-03-06 18:25:47,https://api.github.com/repos/openstack/devstack/git/commits/933120695d3203df99e3747d198b63c18fb8723a,933120695d3203df99e3747d198b63c18fb8723a,"Remove unused n-vol package lists

Nova-volume was removed in Grizzly

Change-Id: If911e50d4d5cd89ce6d4e442335634ed635545cd"
eugene64,2013-03-06 12:28:33,https://api.github.com/repos/openstack/devstack/git/commits/b7d8284271170041a3134fcf99e14e46703d6546,b7d8284271170041a3134fcf99e14e46703d6546,"Implements blueprint quantum-lbaas-plugin-support

Add support for quantum lbaas plugin.
Configure service_plugins and lbaas agent
in case q-lbaas service is enabled in localrc

Change-Id: Iebaa1ed6a7209175504230faf802a94dc841392f"
GheRivero,2013-03-06 10:48:03,https://api.github.com/repos/openstack/devstack/git/commits/cc404a481af74e3cc17db357236092743dfb79b3,cc404a481af74e3cc17db357236092743dfb79b3,"Fix minor typo in IPMI virt driver

The correct driver to use is:
    nova.virt.baremetal.ipmi.IPMI
instead of:
    nova.virt.baremetal.ipmi.Ipmi

Change-Id: I2bf11a3acb72f7c2ba37f1a03efe09f50dc9d239"
lianhao,2013-03-01 07:54:02,https://api.github.com/repos/openstack/devstack/git/commits/239f3246ad741cb824a283642a54dfe5935b74dd,239f3246ad741cb824a283642a54dfe5935b74dd,"Support MultiStrOpt options in configuration file.

Fixed bug #1136964.

1. Added 3 ini functions to support MultiStrOpt:
  Function ""iniset_multiline config-file section option value1 value2
value3 ..."" sets a MultiStrOpt option in an ini file.

  Function ""iniget_multiline config-file section option"" gets the
MultiStrOpt option values.

  Function ""iniadd config-file section option value1 value2 value3...""
appends an option without relacing the old values, which would result
the option to be MultiStrOpt.

2. Modified the nova configuation to correctly enable notification for
ceilometer.

Change-Id: I1c27db1a6e58b35bc4428e761f40627988f69e37"
j-griffith,2013-03-05 23:01:38,https://api.github.com/repos/openstack/devstack/git/commits/997c10306e6bcbc3c6242cc50b6ae138c345b10f,997c10306e6bcbc3c6242cc50b6ae138c345b10f,"Set debug to True in cinder.conf

Adds a line to lib/cinder to turn on debug logging
by default in Cinder.

Change-Id: I9cc7d78b97eea40fc787ca68721b58fc7a00faf4"
AevaOnline,2013-03-04 19:47:14,https://api.github.com/repos/openstack/devstack/git/commits/2920b7decc6769707ea45552c94864701c55988e,2920b7decc6769707ea45552c94864701c55988e,"Stash baremetal deploy image IDs in a namespace.

Baremetal PXE driver should read deploy_kernel_id & deploy_ramdisk_id
from the 'baremetal:' namespace within instance_type['extra_specs']
so that it doesn't conflict with ComputeCapabilitiesFilter any more.

This allows nova-compute to use ComputeCapabilitiesFilter with baremetal
again. For this filter to properly match the baremetal ndoe's RAM,
we need to tune two other Nova options for physical hardware.

Fixes bug 1129485.

Change-Id: I0aa1b0fef8ac59a06217577af8c747437d2d6bf5"
bradtopol,2013-03-04 19:14:27,https://api.github.com/repos/openstack/devstack/git/commits/8aa51064482f61f19eaa754ee59d3efd2302944c,8aa51064482f61f19eaa754ee59d3efd2302944c,"Add Domain subtree to keystone LDAP structure

Fixes Bug1144927
This fix adds a Domain subtree to the initial
LDAP structure for configuring keystone's LDAP.

Change-Id: I6ec06efc9e0a40bfc81d838b9f0d6167e9441dff"
emagana,2013-03-01 02:03:03,https://api.github.com/repos/openstack/devstack/git/commits/057a41bf3b2726369c769341c5f4b45f5001a771,057a41bf3b2726369c769341c5f4b45f5001a771,"Quantum PLUMgrid Plugin Support

The commit introduces devstack support for the Quantum PLUMgrid Plugin.

Change-Id: Idc4d97a65f9e7669075609aafe7ffc8286f0b94a
Implements: blueprint plumgrid-plugin"
afazekas,2013-03-03 11:23:04,https://api.github.com/repos/openstack/devstack/git/commits/7e79d9139f931e45f732de9a39cc54bedd95bd6f,7e79d9139f931e45f732de9a39cc54bedd95bd6f,"Simplify database_connection_url

* does not expects dynamic scoping.
* does not uses eval.

Change-Id: I5ba4e5b7ffaabbb3c2bddadf9e53a2875de8b7c0"
amotoki,2013-03-02 16:24:45,https://api.github.com/repos/openstack/devstack/git/commits/09d6185b3f79f558cf6a42ca3d9b3c7d685dbce7,09d6185b3f79f558cf6a42ca3d9b3c7d685dbce7,"Set l3_agent_manager for ovs/linuxbridge plugin

related to quantum bug 1139726, L3NATAgentWithStateReport makes
no longer the default, as doing so broke DHCP for other plugins.

Quantum linuxbridge has the agent extension support. This commit also
set dhcp/l3_agent_manager to *AgentWithStateReport in linuxbridge plugin.

Change-Id: I4095f4276499468d02265169cc26bbd8489679bc"
BobBall,2013-02-28 17:39:41,https://api.github.com/repos/openstack/devstack/git/commits/3aa8887170200a8bcf3e4a909059428b360f0c3d,3aa8887170200a8bcf3e4a909059428b360f0c3d,"Allow DATABASE_TYPE to be specified in localrc

The use of DATABASE_TYPE without forcing it into ENABLED_SERVICES
seems to be the only way to set up a multi-host devstack installation.

Only deprecate use_database.
Changes functionality of use_database to be equivalent to specifying DATABASE_TYPE
This means that people with localrc's that only specify use_database used to have
a database service brought up, but now will not until they add it to ENABLED_SERVICES.

Change-Id: I4c6e8ee31f298004338ca46bfc330a3e3af288aa
Fixes: bug 1136028"
echohead,2013-02-27 19:16:39,https://api.github.com/repos/openstack/devstack/git/commits/f7bfa71df92a6ef0bfd7f5ff544ef40a1427dd41,f7bfa71df92a6ef0bfd7f5ff544ef40a1427dd41,"Add genisoimage to package dependencies:

This package is required to boot instances with config_drive.

bug #1053304

Change-Id: Ib85220d17a73563d0af813d95b7de8fa95445ded"
imsplitbit,2013-02-26 16:01:05,https://api.github.com/repos/openstack/devstack/git/commits/2c6382111985c1fbeb84f90174484188d84bdde8,2c6382111985c1fbeb84f90174484188d84bdde8,"Change the openvz driver compute_driver entry to match
all other compute drivers in nova.

Change-Id: Ic9ce4dae930d46a8ce0e64a984880d5603f84f85
Fixes: bug #1133397"
jgallard,2013-02-22 16:28:10,https://api.github.com/repos/openstack/devstack/git/commits/dda2b7afc7f399b6065ac90b3adcaf46bffd963a,dda2b7afc7f399b6065ac90b3adcaf46bffd963a,"Add cinder multi backend support to devstack

* add CINDER_MULTI_LVM_BACKEND parameter
* if CINDER_MULTI_LVM_BACKEND = True, creates 2 LVM volumes
    - Name : stack-volumes and stack-volumes2
    - Size : 5GB for each of them

Change-Id: I6e03b96e6b2aed0f0c166472300139fba9eaa68b"
amotoki,2013-02-26 05:50:56,https://api.github.com/repos/openstack/devstack/git/commits/3c6e9a5ac20d60e915d6d54cce3a0ac65da85108,3c6e9a5ac20d60e915d6d54cce3a0ac65da85108,"Set state_path to quantum.conf

This change is required to make quantum security groups support of
OVS/LinuxBridge plugins work.

Previously state_path was configured in each agent config files in
Quantum, but it is moved to quantum.conf. This change follows it.

Change-Id: I290dc98878661375cf8a31a53d857433de0e5462"
aaronorosen,2013-02-21 20:10:30,https://api.github.com/repos/openstack/devstack/git/commits/0ae742c3b9267dd6ffd7ae0a4dcdfd9147dc63ea,0ae742c3b9267dd6ffd7ae0a4dcdfd9147dc63ea,"Fix hard coded quantum url and port

Fixes bug 1131384

Change-Id: I88804808e9b2c2d181a3c74af82bd3fad05f63cc"
bradtopol,2013-02-19 21:36:41,https://api.github.com/repos/openstack/devstack/git/commits/f41024e4b0b39f4b2d5d6bdb4873010f2e625b42,f41024e4b0b39f4b2d5d6bdb4873010f2e625b42,"Fixes Bug1130377  devstack ldap set values in keystone.conf

Addressed reviewers comments and added some extra properties
needed by latest version of keystone.
This fix sets some needed values in keystone.conf to ensure
that keystone can add entries to LDAP and remain schema
compliant.  It creates a new special role (_member_) that
is needed by the latest version of keystone and also
fixes tenant_id to be tenantId.

Change-Id: Ia2a1ebb7cbedb0af106c74aa9181843cc9739f5d"
dtroyer,2013-02-07 21:56:24,https://api.github.com/repos/openstack/devstack/git/commits/afc29fe5f210a8e78bafaafe7e8b3b5de733971c,afc29fe5f210a8e78bafaafe7e8b3b5de733971c,"Deprecate DATABASE_TYPE and use_database

Select a database by adding it to ENABLED_SERVICE like the other
services.  This greatly simplifies using the lib/* functions in
places other than stack.sh

Backward-compatibility is maintained or now (into havana at least).

Change-Id: I967e44603b4d69d5d70e1a75a9938172ca434025"
dtroyer,2013-02-20 23:51:19,https://api.github.com/repos/openstack/devstack/git/commits/0f2d954b82e44d7bbd646e200510beb1ca3e469e,0f2d954b82e44d7bbd646e200510beb1ca3e469e,"Fix create_userrc.sh private key hang

tools/create_userrc.sh hangs in a couple of mv commands now that
private keys are created with mode 400.  mv is prompting to
override the permissions, so let's just -f it all.

Change-Id: I8fbb24da6582edcff741653ffdf8bf683b79851a"
jogo,2013-02-20 20:45:02,https://api.github.com/repos/openstack/devstack/git/commits/a58382acb6bffcd0c6cbc5e1d114f492606644dc,a58382acb6bffcd0c6cbc5e1d114f492606644dc,"Update cinder to use rootwrap_config

Move from using deprecated option root_helper to rootwrap_config

Fix bug 1130890

Change-Id: Iea8ad55f29bd74f2805c05d417ff56ab6afe6d72"
smoser,2013-02-20 17:33:39,https://api.github.com/repos/openstack/devstack/git/commits/cde655acb0f6790f2921aae14775d09ef002bf28,cde655acb0f6790f2921aae14775d09ef002bf28,"replace use of cirros 0.3.0 with 0.3.1

cirros 0.3.1 images have several significant improvements over 0.3.0, including:
 * newer kernel (3.2.0-25.40)
 * support for more filesystems (vfat, iso9660)
 * support for configdrive (config-drive-v2) as a datasource
 * acpi reboot/shutdown
 * curl with https support (previously there was no way to get https urls)

Change-Id: Idd7bef0cebb941f77d1cead9dc990fa0b03ff46b"
afrittoli,2013-02-20 16:31:34,https://api.github.com/repos/openstack/devstack/git/commits/2bccb8604e3ef9ccfd3e33471b049a2ca6dfeb9c,2bccb8604e3ef9ccfd3e33471b049a2ca6dfeb9c,"Remove ssh tests diabling as #1074039 is fixed

Removed the setting completely so that this is
left under control of tempest.conf.sample

Fixes LP# 1130750
Change-Id: I710f1c111e66834f4bc7020cad82c04bf495441c"
BobBall,2013-02-20 15:56:25,https://api.github.com/repos/openstack/devstack/git/commits/7fcc157b3f3c2c62aab05cff6ee680e5ac03f115,7fcc157b3f3c2c62aab05cff6ee680e5ac03f115,"Remove excessive verbosity to make log files easier to debug

Change-Id: I8e10c706662b6e82e3d00aeaa436dbe0ec6a0ffd"
no2a,2013-02-19 03:42:26,https://api.github.com/repos/openstack/devstack/git/commits/38ac402023f6f761b66062985109a757417ae624,38ac402023f6f761b66062985109a757417ae624,"Fix EXTRA_BAREMETAL_OPTS

Replace only the first '=' in each item in
EXTRA_BAREMETAL_OPTS to handle multiple '='.

Change-Id: I2d4c1b664425bf35bcdbf0bda53cfda4c66b1c6d"
AevaOnline,2013-02-13 05:58:33,https://api.github.com/repos/openstack/devstack/git/commits/86d8fbb59c774569d9b273302e22ae5a664cdaff,86d8fbb59c774569d9b273302e22ae5a664cdaff,"Baremetal should start using scheduler filters.

The baremetal driver should start using scheduler filters, particularly
the RetryFilter and ComputeFilter, as some functionality in Nova depends
on these.

However, the ComputeCapabilitiesFilter currently does not work with
baremetal in devstack due to an order-of-operations issue, so we
explicitly list the other filters that we do want.

Change-Id: Icc4b074c6f99e3e4ffbcf5eef0f9bb6f0f5c1996"
stephen-ma,2013-02-18 13:32:59,https://api.github.com/repos/openstack/devstack/git/commits/8396d4f27c296eed4ced5e44d868e6d90257e73e,8396d4f27c296eed4ced5e44d868e6d90257e73e,"Added option Q_FLOATING_ALLOCATION_POOL to define an allocation-pool for floating IPs.

Change-Id: If31b34ebb8095aa260c19292cf63826522908db9"
no2a,2013-02-18 09:49:01,https://api.github.com/repos/openstack/devstack/git/commits/5096ba79c1ba8ebf83933054d69e21741984e54c,5096ba79c1ba8ebf83933054d69e21741984e54c,"Correct syntax error in stack.sh

for baremtal dhcp-option

Change-Id: I0e29bf2e429b65065fdcd9e38b16a7ab6c04d917"
fungi,2013-02-17 15:45:55,https://api.github.com/repos/openstack/devstack/git/commits/25ebbcd1a7bc95e69ad32b19245ce0990a29eaa7,25ebbcd1a7bc95e69ad32b19245ce0990a29eaa7,"Bring back screen logs for noninteractive runs.

* functions(screen_it): Prior to 58e2134 screen logs were generated
even when run without $SCREEN_DEV. We want to be able to capture
these with devstack-gate for later inspection, so this patch
reintroduces that capability.

Change-Id: Ife127b47d7700878e02285281854595bc6585972"
dtroyer,2013-02-12 16:58:28,https://api.github.com/repos/openstack/devstack/git/commits/f03bafeb84ed87e5e5fd219e063ee1eb067f1c49,f03bafeb84ed87e5e5fd219e063ee1eb067f1c49,"Refactor init functions to simplify Grenade upgrades

* Glance: create_glance_cache_dir()
* Cinder: create_cinder_cache_dir() and create_cinder_volume_group()
* Nova: create_nova_cache_dir() and create_nova_keys_dir()
* Random tidy-up changes

Change-Id: I20d995d4c2e5facfb912ee03a6cda6c56f20bbe9"
dtroyer,2013-02-15 17:07:14,https://api.github.com/repos/openstack/devstack/git/commits/da85cdadd9a2331a28d4913b878e18c9c5abaccf,da85cdadd9a2331a28d4913b878e18c9c5abaccf,"Exercise cleanup

* Make common steps consistent
* Make comments consistent

aggregates.sh
boot_from_volume.sh
client-args.sh
client-env.sh
euca.sh
floating_ips.sh
sec_groups.sh
swift.sh
volumes.sh

Change-Id: Ib93dcdfdead93c259e3cd184fbc5ccc0a4a87c9a"
no2a,2013-02-13 12:01:18,https://api.github.com/repos/openstack/devstack/git/commits/24f796149a4cb7cf588d5481cf2786c4c9fe735d,24f796149a4cb7cf588d5481cf2786c4c9fe735d,"Use 'nova baremetal-*' instead of nova-baremetal-manage

Change-Id: Iee4dd721387dce39c8e46ea0e1e428513498c5a0"
afazekas,2013-02-14 14:00:02,https://api.github.com/repos/openstack/devstack/git/commits/25c42f6eb4955d0032c911c991db8b72643ea7c4,25c42f6eb4955d0032c911c991db8b72643ea7c4,"Remove old tempest configuration variables

Change-Id: I4c15c876514e1a8071a557ce79f56266a83b24b8"
vishvananda,2013-02-12 00:48:12,https://api.github.com/repos/openstack/devstack/git/commits/58e21349644f42d4aff078e4da26ecd98d76ba19,58e21349644f42d4aff078e4da26ecd98d76ba19,"Add option to make screen starting more robust.

We have seen a number of failures in ci where a host is overloaded
and the 1.5 second sleep before stuffing data into screen is not
long enough. This means the service doesn't start and tests fail.

This change adds a config option to allow us to turn off the developer
friendly option to stuff text into the screen. When SCREEN_DEV is
set to False it will use a simple exec in screen instead of stuff.
This should be far more reliable because we don't have to wait
for bash to start.

Change-Id: I7f1b5dbf5329b23507cb767d54a2795be0d73e01"
dtroyer,2013-02-11 23:34:39,https://api.github.com/repos/openstack/devstack/git/commits/b205cc8ff17885790a38a55bb5ee9facfac769cf,b205cc8ff17885790a38a55bb5ee9facfac769cf,"Clean up configure_nova() a bit

Change-Id: I2228221051a5a4413a34ca359856d90794fce69a"
amotoki,2013-02-11 14:45:19,https://api.github.com/repos/openstack/devstack/git/commits/712feb663c314da65cd215f3dae3045bf2c8b057,712feb663c314da65cd215f3dae3045bf2c8b057,"Move auth_token configurations to quantum.conf

keystone auth_token middleware now allows quantum to have auth_token
configuration in quantum.conf. auth_token middleware supports
auth_token configuration both in api-paste.ini and quantum.conf,
so we can apply this change at any timing.

Change-Id: Ie5dd63e6c6938d2c8118e0f6090ef057c21a772a"
AevaOnline,2013-01-16 01:27:34,https://api.github.com/repos/openstack/devstack/git/commits/37a8d157a11abe55736707fdec2fc8a273027a2f,37a8d157a11abe55736707fdec2fc8a273027a2f,"Add quantum support for baremetal virtual env.

Add quantum networking support when nova-baremetal is active.
This creates a ctlplane network and br-ctlplane bridge, and moves IPs
from PHYSICAL_INTERFACE to OVS_PHYSICAL_BRIDGE.

Change-Id: If2026c01b93de0ccc7c3f9112de07b3a9c01ac20"
imsplitbit,2013-02-08 23:17:53,https://api.github.com/repos/openstack/devstack/git/commits/5a3f90bea7296a9b9ec5b99452c03280a056a232,5a3f90bea7296a9b9ec5b99452c03280a056a232,"Fixes openvz driver support for nova when deployed with devstack.

Change-Id: I70599333a09267cbe2cd8afd075658f3f7d8bc9d
Fixes: bug #1119859"
dtroyer,2012-12-12 18:50:38,https://api.github.com/repos/openstack/devstack/git/commits/48352ee7c05cf79734abf74a2e7ac47425babb3a,48352ee7c05cf79734abf74a2e7ac47425babb3a,"Create tools/install_prereqs.sh

* Factor system package prereq installs out to tools/install_prereqs.sh
* Set minimum time between runs with PREREQ_RERUN_HOURS
  default = 2 hours
* Create export_proxy_variables
* Force an update with install_prereqs.sh -f or by setting
  FORCE_PREREQ=true

Fixed an issue with exit/return in tools/install_prereqs.sh

Change-Id: I9a62090ad2f900b9b150cacb9cb02b326cb46972"
dtroyer,2013-02-07 23:16:35,https://api.github.com/repos/openstack/devstack/git/commits/8d55be31a95043236d52ee891bacae5ea9f5ed37,8d55be31a95043236d52ee891bacae5ea9f5ed37,"Handle nested xtrace states (Quantum edition)

The lib/quantum_* directories include plugin files that also
contains the $XTRACE bits at entry and exit.  The nested XTRACE handling overwrote
the value from lib/quantum.  So...make the nested files use their own
XTRACE variables.

Change-Id: Ib5e643371666b21402eef2ec58bfb1dfb7e1ccc4"
yjiang5,2013-02-07 05:48:33,https://api.github.com/repos/openstack/devstack/git/commits/8407b2de2ad0e83690c9f1b193b50b984a40ddfb,8407b2de2ad0e83690c9f1b193b50b984a40ddfb,"Copy the pipeline configuration file

Update the pipeline configuration file for ceilometer

Change-Id: I7a46f61391b76447d7973be5c43b7d0360c56da0
Signed-off-by: Yunhong, Jiang <yunhong.jiang@intel.com>"
NoBodyCam,2013-02-03 23:48:43,https://api.github.com/repos/openstack/devstack/git/commits/35336282da621d5189bad97c5bddd1840721f632,35336282da621d5189bad97c5bddd1840721f632,"Add dhcp server option to dnsmasq for baremetal

This sets the dns option for baremetal deploy clients.
this is useful for clients who may require external access
during the deployment process.

Change-Id: Ibe680d2acaad826e4868223ebfd1f112d7796662
Authored-by: Chris Krelle <nobodycam@gmail.com>"
bradtopol,2013-01-22 16:17:50,https://api.github.com/repos/openstack/devstack/git/commits/f127e2f316f1161bacdf4cccdbc3e56b2b8a54a8,f127e2f316f1161bacdf4cccdbc3e56b2b8a54a8,"Add optional silent install and config of ldap to devstack

Edited initial ldap entries and olcdb template file as recommended by Brant.

Change-Id: I1404cc5c754f878e32a2d10254840d092211e6e6"
BobBall,2013-01-31 15:21:43,https://api.github.com/repos/openstack/devstack/git/commits/a814f22ce49a3674fd6f266f52bf7de990521adc,a814f22ce49a3674fd6f266f52bf7de990521adc,"Minor fix to readme - corrected indentation for some commands

Change-Id: I0a16c59d258be4ce8bb8cdebfb3d1cbc30ce9d54"
jogo,2013-01-30 21:07:25,https://api.github.com/repos/openstack/devstack/git/commits/07db713549fab67e7288ebe8e2190f9629b2e9df,07db713549fab67e7288ebe8e2190f9629b2e9df,"Improve millisecond logging

Always display 3 digits for milliseconds (appends 0s)
Based on I3f1461839258be0723e2d3616ec225a830d13029

Change-Id: I48b3f3781b4d34ed6a5fb9e4e78cee919afda6c1"
yac,2013-01-30 14:35:54,https://api.github.com/repos/openstack/devstack/git/commits/4196d5565e48608c64fccdd9e17fcc01dd8d06fe,4196d5565e48608c64fccdd9e17fcc01dd8d06fe,"Introduce get_python_exec_prefix function.

get_python_exec_prefix returns the path to the direcotry where python
executables are installed, that is /usr/bin on Fedora and /usr/local/bin
everywhere else.

It is used to properly locate OpenStack executables.

Fixes: bug #1068386

Change-Id: I228498ebe2762568d00757d065e37377ee2c8fb3"
BobBall,2013-01-24 13:13:51,https://api.github.com/repos/openstack/devstack/git/commits/63c6c2b006a3b23ecbb324de93db51d7725ccd52,63c6c2b006a3b23ecbb324de93db51d7725ccd52,"Improved feedback for domU install on XS

Change-Id: I5b9d07493eb334169fb2643047a014f56ee265fa"
dtroyer,2013-01-28 20:04:39,https://api.github.com/repos/openstack/devstack/git/commits/41bf4520231bb6454333d6acb1e011bfc9976bae,41bf4520231bb6454333d6acb1e011bfc9976bae,"Handle nested xtrace states

The lib/database abstraction includes the appropriate database file that also
contains the $XTRACE bits at entry and exit.  The nested XTRACE handling overwrote
the value from lib/database.  So...make the nested files use their own
XTRACE variables.

Change-Id: Ibdfc8d7d1e1457a9bc889b781ce176b417789ea1"
dprince,2013-01-28 14:53:38,https://api.github.com/repos/openstack/devstack/git/commits/9f22f07a154a2d94c0e0f6d419497e3f94fbe929,9f22f07a154a2d94c0e0f6d419497e3f94fbe929,"Cinder: update osapi_volume_extension default.

Updates the Cinder config file to use the new extension
loader location.

Change-Id: I515e16e00b54c69ae3c09e64841818eb4a9c8f73"
dtroyer,2013-01-24 20:19:55,https://api.github.com/repos/openstack/devstack/git/commits/74759aa17a3b9e687aebf30c11b9bcb477aa48ef,74759aa17a3b9e687aebf30c11b9bcb477aa48ef,"Remove DEFAULT_STACK_USER, just use STACK_USER

STACK_USER needs to be set for more than just stack.sh, there
was no real distinction for using DEFAULT_STACK_USER instead
of just setting STACK_USER directly in stackrc and allowing it
to be overridden in localrc.

Change-Id: I9e8d70db29bb421f1ce3dbf40a5ad299cc7ea785"
jogo,2013-01-18 22:15:44,https://api.github.com/repos/openstack/devstack/git/commits/767cd631796b5404e6331cee72977a1fcec68024,767cd631796b5404e6331cee72977a1fcec68024,"Set MySQL slow log to record every query

Since devstack is for development, lets record all SQL queries to enable
debugging, and further development.

Change-Id: Idb4078a0d3a84151ad4c506f8861637d84ae47ad"
chmouel,2013-01-10 14:40:01,https://api.github.com/repos/openstack/devstack/git/commits/ad8b27626ecef3509a1ffca8dac7392d32e1b2d6,ad8b27626ecef3509a1ffca8dac7392d32e1b2d6,"have the run and logs files in $SWIFT_DATA_DIR

- Set all the run lock and logs files to go to $SWIFT_DATA_DIR.

Change-Id: I42b72572e9700457475398043057d37d0dbc65ac"
vmmqa,2013-01-22 03:49:03,https://api.github.com/repos/openstack/devstack/git/commits/4a30b849ec69344e82b13070d839a1ffb4504e7c,4a30b849ec69344e82b13070d839a1ffb4504e7c,"Add check for RABBIT_HOST and RABBIT_PASSWORD in iniset_rpc_backend

In multi-node environment, RABBIT_HOST and RABBIT_PASSWORD are used to
indicate the server running rabbitmq service. We should check the
variables in iniset_rpc_backend.

Change-Id: Iaea8cc87315be91429a8747254310d6474930eec"
sthaha,2013-01-21 07:00:50,https://api.github.com/repos/openstack/devstack/git/commits/a534e0bf1a1ec0abc1d1f673af1b70fbf8239350,a534e0bf1a1ec0abc1d1f673af1b70fbf8239350,"Fixes nova-compute failing to start on Fedora 18

Fixes bug #1086784
Adds a rule to the policy-kit allowing the stack user to manage libvirt

Change-Id: I6e9c0106c932f5f5f5c5c18ff79ac81a050c4599"
afazekas,2013-01-21 05:50:33,https://api.github.com/repos/openstack/devstack/git/commits/3c52922f4f2a94cec2c94fdd56474a9224c13213,3c52922f4f2a94cec2c94fdd56474a9224c13213,"Use the correct directory for image files in tempest

Change-Id: Ic40065a04b8015333b4cb6844211e9a0afb9d4c1"
afazekas,2013-01-19 18:20:49,https://api.github.com/repos/openstack/devstack/git/commits/97d3d202ff6ad40d9201b43a37861f58a9503d14,97d3d202ff6ad40d9201b43a37861f58a9503d14,"Support Tempest config file format transition

* Identity server location just configure by an URI
* Image service location resolved by service endpoint
* Credentials will be defined only in the identity section
* Whitebox gets it's own section
* ssh username is per image option

Change-Id: I3b0d51a323560451c5636363896cadb39e0ea2d6"
hemna,2013-01-18 04:40:09,https://api.github.com/repos/openstack/devstack/git/commits/f2696c0d85de4070504699bce767a27f4dd5a297,f2696c0d85de4070504699bce767a27f4dd5a297,"Add Nova fibre channel support required packages

This patch is to support the nova patch that adds
Fibre Channel support to nova.  Fibre Channel requires
sysfsutils, sg3-utils, multipath-tools

Change-Id: I9e44ef9152f1916b245dba3be77076f0283fed44"
jogo,2013-01-18 04:49:50,https://api.github.com/repos/openstack/devstack/git/commits/8750b3d533df1174fe7d11290f97ef6a5779758c,8750b3d533df1174fe7d11290f97ef6a5779758c,"Enable nova Verbose logging

With oslo-incubator commit 751c35b1c8ff0730883a8ccdda9b77a49fff2405,
(Change-Id: Ic9e3cb5979b2d7283552ad3a461870373f45a239)
Verbose does not enable debug level logging.

Change-Id: I1741ec0ca61e4c7234ee4e29cbd52ded73995451"
dtroyer,2013-01-17 17:17:16,https://api.github.com/repos/openstack/devstack/git/commits/029598ea74ab2adf08801e384b919cc2cd13398c,029598ea74ab2adf08801e384b919cc2cd13398c,"Fix secgroups exercise on postgres

This should fix the failing (but non-voting) postgres gate tests.

Why does postgresql change the value '0.0.0.0/00' to '0.0.0.0/0'?
Clearly the correct value for the network CIDR bits is with only
one zero but even an incorrect value shouldn't be changing.

SQLalchemy is given this for the column:
        Column('cidr', String(length=255)),

Change-Id: Ib19dad23789654664e90518087e5a462fa8b8034"
berrange,2013-01-03 11:51:42,https://api.github.com/repos/openstack/devstack/git/commits/d10e12f1335492550d558d56c510fdf8ce55a9dc,d10e12f1335492550d558d56c510fdf8ce55a9dc,"Add support for setting up nova-spicehtml5proxy

Add a new service 'n-spice' which is off by default, but can
be enabled to turn on SPICE support in the Nova libvirt driver.
Also if neither n-novnc or n-xvnc are enabled, then disable
VNC support. This allows running in a SPICE only environment.

The spice-html5 repo will be checked out to support the Horizon
client integration

Change-Id: If74fad33a7b491450afd823758d35b06ebe72cb9
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>"
berrange,2013-01-03 12:06:47,https://api.github.com/repos/openstack/devstack/git/commits/3edddd108a4b5c785c7916b40aa153e055d54d8a,3edddd108a4b5c785c7916b40aa153e055d54d8a,"Run nova-novncproxy binary in the nova GIT trree

The nova-novncproxy binary was pulled into the nova GIT tree
several months back, so devstack should run that version,
rather than the legacy version from the noVNC GIT tree.

Change-Id: I289989d5c0831c75117f059dd8f2decb1f9d3a90
Signed-off-by: Daniel P. Berrange <berrange@redhat.com>"
kazum,2013-01-17 07:16:25,https://api.github.com/repos/openstack/devstack/git/commits/af22a477d1326c345cc1c59049bf3b16e3510acd,af22a477d1326c345cc1c59049bf3b16e3510acd,"lib/cinder: add sheepdog support

This enables us to use Sheepdog as a Cinder backend storage by setting
the CINDER_DRIVER environment variable.

Change-Id: I70cfb7f89ac3260d277fa160c457d220255de065"
afazekas,2013-01-16 07:38:17,https://api.github.com/repos/openstack/devstack/git/commits/a1e1b5c192d3c6176c9a16da9db4ff98a64fbe7c,a1e1b5c192d3c6176c9a16da9db4ff98a64fbe7c,"Case correct InvalidInstanceID.NotFound

Change-Id: Iab067398205f51d640355ef91f0896afaecc4dea"
afazekas,2013-01-07 14:51:32,https://api.github.com/repos/openstack/devstack/git/commits/1d29d8bcf734cdd6db54da3c1458bfdb636e453c,1d29d8bcf734cdd6db54da3c1458bfdb636e453c,"Add basic uec image preparation to tempest

Add uec image preparation to lib/tempest.
cirros as image is hard coded at the moment.

If the images does not exists or the system is not able to use uec images the
image prepare step will be skipped and tempest will skip the related
tests as well.

Setting ssh username correctly.
Setting instance type for the boto test.

Change-Id: I0d36ac7834e1eb677007e2c92dfc375d134a6023"
sdake,2013-01-14 18:35:17,https://api.github.com/repos/openstack/devstack/git/commits/532908f6021f5e031cae01aa2374cd62da0200a9,532908f6021f5e031cae01aa2374cd62da0200a9,"Remove error from httpd/apache on unstack.sh

Fedora/RHEL use httpd for the package name of httpd.  This is handled
in other parts of the horizon startup code, but not in shutdown.

Change-Id: I2732dad652d83a9cbe055f5f077678b7111ca782
Fixes: bug #1099538"
afazekas,2013-01-14 18:10:17,https://api.github.com/repos/openstack/devstack/git/commits/02c0bcc38c143e0a9f66b9c4080f3881f8b3ddfd,02c0bcc38c143e0a9f66b9c4080f3881f8b3ddfd,"Increase tempest memory

32 MB not enough for boot correctly

Change-Id: I58ca4c7e8dd303450a9970136d6f60661ea70f67"
emonty,2013-01-07 08:17:01,https://api.github.com/repos/openstack/devstack/git/commits/7c73e8dee705b4670cd051fad53e20e4a3cbe623,7c73e8dee705b4670cd051fad53e20e4a3cbe623,"Enable MySQL slow query log.

Change-Id: I3db33839bea28abaff01f1d7b7d6698c5dd2c083"
afazekas,2013-01-14 12:14:34,https://api.github.com/repos/openstack/devstack/git/commits/3860a9252a8546326a7ac9f0c8b2c09afe655491,3860a9252a8546326a7ac9f0c8b2c09afe655491,"Have ecua.sh to accept the correct error code

ecua.sh will accept both the current and the correct error code

Change-Id: I364e411986b9780fd5c5df29697753f04a9a4935"
amotoki,2013-01-13 08:58:12,https://api.github.com/repos/openstack/devstack/git/commits/b0f1c38bdcb02068e2e3d0daf2d65695d9d58478,b0f1c38bdcb02068e2e3d0daf2d65695d9d58478,"Refactor rpc backend configuration logic

This commit also changes the following:
- Fixes Nova QPID module path
- Fixes a bug Cinder ZeroMQ RPC points to nova module
- Adds ZeroMQ setting for Heat RPC

qpid_is_supported is moved from functions to lib/rpc_backend.

This work is based on the work by Isaku Yamahata <yamahata@valinux.co.jp>
in https://review.openstack.org/#/c/19074/.

Change-Id: I45e21b1fb85e539213f5243764132a37906d7455"
afazekas,2013-01-13 13:20:47,https://api.github.com/repos/openstack/devstack/git/commits/af988fd1d20aff684cde07d8683ecf5e0d539dfe,af988fd1d20aff684cde07d8683ecf5e0d539dfe,"Support RHEL with lsb_release

Consider all distributor as ""Red Hat"" which id matches to the Red.*Hat regexp.

Example Distributor ID: ""RedHatEnterpriseServer""

Change-Id: I29cc2e83cccaafa3e1e056e506fda5c9771764a1"
afazekas,2013-01-12 16:31:26,https://api.github.com/repos/openstack/devstack/git/commits/7bf1dd351fc859346ac8cdd3574b86f294e97def,7bf1dd351fc859346ac8cdd3574b86f294e97def,"Tempest should create his own flavors

* Decrease memory usage caused by tempest significantly

Change-Id: I0ea59d9bb1fbeb93f04353bc6b4e148637edf945"
chmouel,2013-01-12 20:10:34,https://api.github.com/repos/openstack/devstack/git/commits/43eb0b3159d8ad1eb14e0430124cc72cb50ae3c2,43eb0b3159d8ad1eb14e0430124cc72cb50ae3c2,"Make sure to cleanup swift on unstack/relaunch.

- Fixes bug 1049553.

Change-Id: I9fef93d25512c014dfb882adf0e169487bf877d8"
snaiksat,2013-01-04 18:32:54,https://api.github.com/repos/openstack/devstack/git/commits/4b26d3191ee82e96fedaffa68362919deb8a3813,4b26d3191ee82e96fedaffa68362919deb8a3813,"Quantum FloodLight/BigSwitch Plugin Support

The patch introduces devstack support for the Quantum FloodLight/BigSwitch
RESTProxy Plugin.

Change-Id: I8c032fd16723ed6055821de0860fae508df371b7
Implements: blueprint quantum-floodlight-bigswitch-plugin-support"
dtroyer,2013-01-11 21:07:53,https://api.github.com/repos/openstack/devstack/git/commits/15bda3e4630618135b26bd5a41f48e8c2fb0112b,15bda3e4630618135b26bd5a41f48e8c2fb0112b,"Handle existing security group rules in volume exercise

Change-Id: I0aa3bc0c6179f92a12c1e9bbace61597778ffa1f"
afazekas,2013-01-06 21:40:09,https://api.github.com/repos/openstack/devstack/git/commits/91b8d13edad4d21bfd5b67219347f934728ee462,91b8d13edad4d21bfd5b67219347f934728ee462,"Fix ""sudo: sorry, you must have a tty to run sudo""

On many systems the requiretty sudoers option is turned on by default.
With ""requiretty"" option the sudo ensures the user have real tty access.

Just several ""su"" variant has an option for skipping the new session creation step.

Only one session can posses a tty, so after a ""su -c"" the sudo will not
work.

We will use sudo instead of su, when we create the stack account.

This change adds new variable the STACK_USER for
 service username.

Change-Id: I1b3fbd903686884e74a5a22d82c0c0890e1be03c"
dtroyer,2013-01-11 02:51:28,https://api.github.com/repos/openstack/devstack/git/commits/dff95122f79c83e7e3b108b12e6b8a48aa62c01d,dff95122f79c83e7e3b108b12e6b8a48aa62c01d,"Fix EXTRA_OPTS handling

In the conversion away from add_nova_opt the EXTRA_OPTS handling
inadvertently replaced all '=' chars in the value rather than
just the first.  Additional '=' is legal for an option value.

FWIW here is the setting that tripped it:
EXTRA_OPTS=default_log_levels=sqlalchemy=WARN,boto=WARN,eventlet.wsgi.server=WARN

Change-Id: I2deb139171250eb0ef5028bb924569cec31e1a4e"
dtroyer,2013-01-10 19:22:45,https://api.github.com/repos/openstack/devstack/git/commits/2b7ce5a8f37232c8cc28f86c6d659a0ec3f3f00b,2b7ce5a8f37232c8cc28f86c6d659a0ec3f3f00b,"Add stackrc comments to HACKING

Change-Id: I46ff885184a2b5b71caca905c27f28d8b1304011"
SpamapS,2013-01-10 19:12:45,https://api.github.com/repos/openstack/devstack/git/commits/df1cf94cf0f6191842dd48b5e9a640510c33b3c0,df1cf94cf0f6191842dd48b5e9a640510c33b3c0,"Fixing python-heatclient's git repo path.

heatclient was moved to the official openstack repo.  Thanks Simon
Pasquier for the patch.

Change-Id: I561bf1ea11f1c74b5e75ab93170bd367ba36f90f
Fixes: bug #1096922"
chmouel,2013-01-10 14:42:49,https://api.github.com/repos/openstack/devstack/git/commits/9a28c86b4c43eb8e311c60dc7400b9989a6745bb,9a28c86b4c43eb8e311c60dc7400b9989a6745bb,"Add .stackenv to gitignore.

Change-Id: I39e91aaf5e9ff29b025fd5a1aa74bad01c5e5bdd"
lyda,2013-01-09 13:39:57,https://api.github.com/repos/openstack/devstack/git/commits/d66c965b0c00209905747754cd580fc2f887af0a,d66c965b0c00209905747754cd580fc2f887af0a,"Correct comment about SWIFT_LOOPBACK_DISK_SIZE.

The comment regarding SWIFT_LOOPBACK_DISK_SIZE in lib/swift used the
incorrect unit (bytes instead of kilobytes).

Change-Id: I86117e36141c0a028a6fa6878a4d540f624e759d"
dtroyer,2012-12-12 23:09:57,https://api.github.com/repos/openstack/devstack/git/commits/ceaa38b3299d56adc1e65e7128bb67cb7364acd1,ceaa38b3299d56adc1e65e7128bb67cb7364acd1,"Fix tempest flavors and DEFAULT_INSTANCE_TYPE

The flavor selection was broken if DEFAULT_INSTANCE_TYPE is defined
but not yet created, for example when it is created in local.sh.
This also has the side effect of setting flavor_ref_alt to the first
flavor where it was unset in the previous code.

Change-Id: I1fa48b3f90af45144c92298b6b07a4f7ee3b499f"
dtroyer,2013-01-10 01:08:02,https://api.github.com/repos/openstack/devstack/git/commits/ca8021712325dd4d4ac7185a287cb81cb10fd23d,ca8021712325dd4d4ac7185a287cb81cb10fd23d,"Add tools/make_cert.sh

This allows use of either the DevStack CA or creating another CA
independent of stack.sh.

Change-Id: I055679b5fd06e830c8e6d7d7331c52dd8782d0b6"
dtroyer,2013-01-09 19:42:03,https://api.github.com/repos/openstack/devstack/git/commits/768295e9f1b0ee74635f8b3002cf7e1971bbdddf,768295e9f1b0ee74635f8b3002cf7e1971bbdddf,"Add mechanism to automatically load additional projects

This adds an extras.d directory to contain startup scripts that
stack.sh runs automatically at the end.  Similar to local.sh
except the scripts are sourced into the stack.sh process rather
than executed as a child process.  This gives them complete
access to the stack.sh environment.

Convert Tempest to use this format as an example.

Change-Id: Ibc95e6aaecf4211da948319eb452293ae4357780"
lianhao,2013-01-09 02:41:54,https://api.github.com/repos/openstack/devstack/git/commits/8c54849d79b8d78679898bd4fcc47b340ecc9bdb,8c54849d79b8d78679898bd4fcc47b340ecc9bdb,"Create signing_dir for ceilometer.

Create and initialize the signing_dir for ceilometer keystone
authentication. This ensures the ceilometer to use its own PKI cache
directory for authentication and avoids the authentication error due to
the invalid cached certifications.

Change-Id: I6fbc364695ae9be800245d14fd8945d531679550"
AevaOnline,2013-01-09 23:29:03,https://api.github.com/repos/openstack/devstack/git/commits/1edba3318b5d0b52d00905edf0f1632c258225d4,1edba3318b5d0b52d00905edf0f1632c258225d4,"Add EXTRA_BAREMETAL_OPTS to stack.sh

Allow the passing of extra options to the [baremetal] option group
by specifying EXTRA_BAREMETAL_OPTS, using the same format as the
existing flag EXTRA_OPTS.

Change-Id: I209675786c6a33a68d83a371292a1e1749ecb14c"
AevaOnline,2012-12-13 00:52:55,https://api.github.com/repos/openstack/devstack/git/commits/9bc47db29c3767cb4aac492e1fd6f1c74e85ca5c,9bc47db29c3767cb4aac492e1fd6f1c74e85ca5c,"convert add_nova_opt to iniset

Convert all calls to add_nova_opt to use
   iniset $NOVA_CONF DEFAULT

Convert baremetal options to use
   iniset $NOVA_CONF baremetal

Change-Id: I03ce2149e1f3abc2feb40c156c50de7dabaf47a2"
chmouel,2012-12-20 13:11:43,https://api.github.com/repos/openstack/devstack/git/commits/8e5d2f0c7a29a8002c3be1c94f1abca65ddaea08,8e5d2f0c7a29a8002c3be1c94f1abca65ddaea08,"Set recon_cache_path to ${SWIFT_DATA_DIR}/cache.

- Fixes bug 1092538.

Change-Id: Id9eb9446b32a800b1c7e0ef72882747424c65b6e"
yjiang5,2013-01-09 01:33:07,https://api.github.com/repos/openstack/devstack/git/commits/e583d9b8f9bc8f3367df96027a83996ac1303b43,e583d9b8f9bc8f3367df96027a83996ac1303b43,"Add ceilometer client in devstack

Ceilometer client CLI is helpful to develop ceilometer related code. Add
it to devstack also involve more developer to use it.

Change-Id: I4147e50c00cb520ec15d63a0c34524ba8cb6654f
Signed-off-by: Yunhong, Jiang <yunhong.jiang@intel.com>"
cboylan,2013-01-08 19:54:43,https://api.github.com/repos/openstack/devstack/git/commits/4d9f6e36e0f3cc5f2a6e2d9b08462246524d644e,4d9f6e36e0f3cc5f2a6e2d9b08462246524d644e,"Use apt git package instead of git-core.

The git-core package is deprecated in favor of the git package. Use the
git package instead.

Change-Id: Ib136e34c7a0d4f87b02e32996420b3f507ca0bf4"
afazekas,2013-01-08 15:51:05,https://api.github.com/repos/openstack/devstack/git/commits/5b813bc489eff682025d530557e2beda50db2eac,5b813bc489eff682025d530557e2beda50db2eac,"Fix role creation in tools/create_userrc.sh

* use role-create instead of tenant-create
* add some missing quote

Change-Id: I3e263bfbfe63a35c5a95248f05d78bd6a1c2e593"
dtroyer,2013-01-07 21:18:12,https://api.github.com/repos/openstack/devstack/git/commits/22853c1974ca1ce50b946290bc7bf9b2dd34b64d,22853c1974ca1ce50b946290bc7bf9b2dd34b64d,"Clean up cinder volume group rather than remove it

Removing the cinder volume group breaks devstack installations
that share that volume group with other logical volumes. It also was
leaking loopback devices.

Change-Id: Ice4470e06e08ce49a0e1f82af70abcc015c91c20"
SlickNik,2013-01-04 01:49:58,https://api.github.com/repos/openstack/devstack/git/commits/35138ed6732fd2d4d06b9ffa92a391626acddfb1,35138ed6732fd2d4d06b9ffa92a391626acddfb1,"Use 'which pip' rather than /usr/bin/pip

Bug 1095472: Bugfix to use 'which pip' rather than assume pip always lives in /usr/bin

Change-Id: I0cc8a5e35306372653c3c27da9504c64e39d56dd"
jogo,2013-01-04 01:39:16,https://api.github.com/repos/openstack/devstack/git/commits/c99853ca7187d20a8ba6b59c6e44f089c2d7d74f,c99853ca7187d20a8ba6b59c6e44f089c2d7d74f,"Enable millisecond logging for nova and cinder

Change-Id: Ic28867ae9a436e81c7f2fcf79f40a1ecc251072c"
AevaOnline,2012-12-28 23:40:21,https://api.github.com/repos/openstack/devstack/git/commits/75eaaf43c7c0798c4d92726e448d4c0e9372ccf2,75eaaf43c7c0798c4d92726e448d4c0e9372ccf2,"Minor fixes for lib/baremetal

A recent patch moved the flavor management out of nova-manage
and into python-novaclient. This corrects the behaviour of lib/baremetal
so that it calls ""nova flavor-key"" instead of ""nova-manage"". This also
fixes a logical error in testing whether dnsmasq is installed.

Change-Id: I3fa821c22ae45a49e283d091b6e5ed51c9757e88"
dtroyer,2012-12-21 17:03:37,https://api.github.com/repos/openstack/devstack/git/commits/6d04fd7ba59450c4d9c6c7317eef05c7812056b1,6d04fd7ba59450c4d9c6c7317eef05c7812056b1,"Holiday docs and comment formatting cleanup

Change-Id: Ia4ca88c67d3b94e306a79a669805a2fa1b0dc069"
dtroyer,2012-12-28 21:38:28,https://api.github.com/repos/openstack/devstack/git/commits/64ab774313a5791cfbd8798c68a93068a11229ac,64ab774313a5791cfbd8798c68a93068a11229ac,"Set up swift's auth cache dir

Swift backing glance doesn't work due to auth_token failing without
a signing_dir configured and set up.  Create the dir and configure
in proxy-server.conf

Bug 1092783

Change-Id: If9ac46592bb7fc09e6cfd0a802a4fa61304fc369"
AevaOnline,2012-11-23 18:54:54,https://api.github.com/repos/openstack/devstack/git/commits/7611c894b598c876912ab967642f0e8c8ad9171b,7611c894b598c876912ab967642f0e8c8ad9171b,"Add fake env support to baremetal

Use bm_poseur to create VM and network bridge
so that, in the absence of physical hardware,
baremetal driver still has something to manipulate.

Change-Id: Id80ede13a35e4380f358b47f08d41ff98ea9d70f"
AevaOnline,2012-12-13 00:52:55,https://api.github.com/repos/openstack/devstack/git/commits/c9702f9a6de5f9860937d438fac3eb59b03db5d7,c9702f9a6de5f9860937d438fac3eb59b03db5d7,"update baremetal option names

update power_manager and instance_type_extra_specs config opts
to match the new values in nova, introduced by
https://review.openstack.org/#/c/17994/

Change-Id: Ic624362df17c217406e142ef4c2e65a4c0c2765d"
AevaOnline,2012-11-13 01:58:38,https://api.github.com/repos/openstack/devstack/git/commits/f35cf91a1d4f13cfa77f9411a1eef38953abebbc,f35cf91a1d4f13cfa77f9411a1eef38953abebbc,"adding support for baremetal hypervisor

New files for baremetal driver:
- lib/baremetal
- files/apts/baremetal

Adds two dependencies:
- google shell-in-a-box
- diskimage-builder

Enable by setting both:
  VIRT_DRIVER=baremetal
  ENABLED_SERVICES=""$ENABLED_SERVICES,baremetal""

Change-Id: Ibf6fe1671a759a449c9eb0df47751d1b31ade591"
mikalstill,2012-12-28 00:08:20,https://api.github.com/repos/openstack/devstack/git/commits/796342c06e8ca3dcfd2e8f1ba4e0300a703b8de1,796342c06e8ca3dcfd2e8f1ba4e0300a703b8de1,"Handle the new behaviour for invalid instances.

The behaviour of this case changed with bug/836978. Requesting the
status of an invalid instance will now return an error message
including the instance id, so we need to filter that out.

Resolves the devstack elements of bug 836978.

Change-Id: I385eb6f04cff90e1ddc0b79d835fbbdf92e4e9ff"
amotoki,2012-12-21 06:34:13,https://api.github.com/repos/openstack/devstack/git/commits/66afb47cb9b470bfa40f11f23ca4f80483cb7aad,66afb47cb9b470bfa40f11f23ca4f80483cb7aad,"Refactor quantum installation

* Move quantum installation to lib/quantum
* Refactor quantum configuration
* Move Quantum service account creation from keystone_data.sh to lib/quantum
* Define generic functions to install third party programs

* Minor cleanups related to Quantum
  * Kill dnsmasq which watches an interface 'ns-XXXXXX' in unstack.sh
  * Set default_floating_pool in nova.conf to make default flaoting pool
    work when PUBLIC_NETWORK_NAME is other than 'nova'
  * Make tempest work even when PRIVATE_NETWORK_NAME is other than 'private'

Change-Id: I4a6e7fcebfb11556968f53ab6a0e862ce16bb139"
jd,2012-12-21 14:39:28,https://api.github.com/repos/openstack/devstack/git/commits/8e36cbe8c8f06576f634452cdb16c9876840572e,8e36cbe8c8f06576f634452cdb16c9876840572e,"Use new RPC notifier

Stop using the deprecated rabbit_notifier.

Change-Id: I84574c555031b23fb5f256d248af1cdafc8979ce
Signed-off-by: Julien Danjou <julien@danjou.info>"
cody-somerville,2012-12-21 07:10:45,https://api.github.com/repos/openstack/devstack/git/commits/c24e23b43e42aeec636d58a5a66787541b5b4488,c24e23b43e42aeec636d58a5a66787541b5b4488,"Fix selection of image(s) tested by tempest.

The variable DEFAULT_IMAGE_NAME is set to 'cirros-0.3.0-x86_64-uec' by default.
This will cause configure_tempest to 'exit 1' and abort stack.sh if an image
with that name is not uploaded to glance. According to the relevant code
comment, this behaviour is incorrect. Updated code to match behaviour described
in comment: If image with name matching DEFAULT_IMAGE_NAME exists, use it for
both primary and secondary test image otherwise select first image and, if
available, second image listed by glance. Will still 'exit 1' if no images
are available at all (though it probably shouldn't).

Change-Id: I92773d4afd52cf533d16772ae2a087e23e206f8c
Fixes: bug #1092713"
dtroyer,2012-12-11 21:26:24,https://api.github.com/repos/openstack/devstack/git/commits/3a3a2bac674041f5bb92bc1ef59c7fc55a9946bd,3a3a2bac674041f5bb92bc1ef59c7fc55a9946bd,"Set up Nova for TLS

* Start n-api proxy if 'tls-proxy' is enabled
* Configure nova service catalog for TLS

Change-Id: If031eb315f76c5c441a25fe3582b626bbee73c6e"
afazekas,2012-12-16 13:03:06,https://api.github.com/repos/openstack/devstack/git/commits/22ef57317222b3e64eb5d2dcb3ae0588738062e3,22ef57317222b3e64eb5d2dcb3ae0588738062e3,"Add generic account rc creater

* Creates account rc files for all tenant user
* Able to create new accounts
* The rc files contains certificates for image bundle
* euca related steps can be simpler in the future

Change-Id: I917bffb64e09a5d85c84cde45777c49eaca65e64"
vuntz,2012-12-20 14:09:20,https://api.github.com/repos/openstack/devstack/git/commits/e7bca2f86446e773472603b18728ce38c33acde9,e7bca2f86446e773472603b18728ce38c33acde9,"Make opensuse-12.2 a supported distribution

This has been working well in my tests, and has been confirmed to work
by others.

I'll of course step up to fix things for openSUSE when needed.

Change-Id: I1ecd345adf975b082aff3a473ab94291b39c8c93"
afazekas,2012-12-20 09:57:16,https://api.github.com/repos/openstack/devstack/git/commits/588eb4129d34ea58fd40438eb1c6edd1a9f9a2d0,588eb4129d34ea58fd40438eb1c6edd1a9f9a2d0,"Fix iniset and his friends

* In python the white spaces are part of the section name
* Handle options with empty value
* Support paths with white spaces

Change-Id: I69a584608853cfdb8b7dce1e24d929216ef2fc41"
dtroyer,2012-12-19 22:27:12,https://api.github.com/repos/openstack/devstack/git/commits/a3b0255313996ec13153d83e898e59b98bbbe973,a3b0255313996ec13153d83e898e59b98bbbe973,"Fix script matching in exercise.sh

This prevents false matches in exercise skip test

Change-Id: I5656a20bcf11b2ccaf55e280655d0600124adedc"
dtroyer,2012-12-13 23:05:24,https://api.github.com/repos/openstack/devstack/git/commits/560346b506616a505718dd18c5053b4bf4360a5b,560346b506616a505718dd18c5053b4bf4360a5b,"Set up Cinder for TLS

* Start c-api proxy if 'tls-proxy' is enabled
* Configure Cinder service catalog for TLS

Change-Id: Ic692a0a16ffa51bfd4bfb67f827cd941ac0e72a4"
dtroyer,2012-12-12 18:50:38,https://api.github.com/repos/openstack/devstack/git/commits/7be0b047dc668a0095d0c7e51948edf83b66d5b8,7be0b047dc668a0095d0c7e51948edf83b66d5b8,"Create tools/install_prereqs.sh

* Factor system package prereq installs out to tools/install_prereqs.sh
* Set minimum time between runs with PREREQ_RERUN_HOURS
  default = 2 hours
* Create re_export_proxy_variables

Change-Id: I4a182b1da685f403d6abdd8540d2114796c01682"
bobmel,2012-12-19 13:49:34,https://api.github.com/repos/openstack/devstack/git/commits/c439b5dfc2da1b8582f2cafcae20bfe55207372b,c439b5dfc2da1b8582f2cafcae20bfe55207372b,"Changed so that nova databases are only created once in a multi-host setup.

Change-Id: Idb17bcb8b6d558f03c188d14509bb5e732079585
Fixes: bug #1091730"
vishvananda,2012-12-12 23:57:33,https://api.github.com/repos/openstack/devstack/git/commits/23431f352618372b6204c3a591653784d77effa1,23431f352618372b6204c3a591653784d77effa1,"Clear out the keystone pki data for each run

This prevents old invalid tokens from working after a rerun of stack.sh
and potentially providing users and tenants that don't exist.

Fixes bug 1089700

Change-Id: Icfc22978e41e459d51b50bc7ad2e6d98d766e402"
afazekas,2012-12-16 14:05:44,https://api.github.com/repos/openstack/devstack/git/commits/251d3b5fbcf445c41e127c6afd6350af47b3e011,251d3b5fbcf445c41e127c6afd6350af47b3e011,"Remove unnecessary returns

* remove duplicated xtrace
* remove some unnecessary return

Change-Id: If9e0a979e0bd5a334e82d42572ac0b149de341d7"
dtroyer,2012-12-13 22:22:38,https://api.github.com/repos/openstack/devstack/git/commits/671c16e63aad003e12151bc94ee2a82365141507,671c16e63aad003e12151bc94ee2a82365141507,"Move cinder account creation out of keystone_data.sh

Supports the coming HA/proxy configuration for Cinder

Change-Id: If2e08e45430dce895ed6bb1070612517a38ca4bc"
vuntz,2012-12-13 07:59:57,https://api.github.com/repos/openstack/devstack/git/commits/90dd96d4785bf12d66199c3fc8e2ea6a83090602,90dd96d4785bf12d66199c3fc8e2ea6a83090602,"Use the right service name for tgt/tgtd in stop_cinder

Change-Id: I58cf8cdf88a3edebed729f4460e8ce222db3664d"
vuntz,2012-12-13 07:50:37,https://api.github.com/repos/openstack/devstack/git/commits/7e86dbe16695808f8206b26d73c1dcfddd173d13,7e86dbe16695808f8206b26d73c1dcfddd173d13,"Do not use sudo when sed'ing $KEYSTONE_CATALOG

We already edited this file earlier without sudo.

Change-Id: I366053edd1a2ad729cfd983ea7491c6252cad905"
vuntz,2012-12-13 07:47:06,https://api.github.com/repos/openstack/devstack/git/commits/90e10888547dd1b256e851c6e5fd2488ddda8b5b,90e10888547dd1b256e851c6e5fd2488ddda8b5b,"Always chown $KEYSTONE_CONF_DIR

If the directory exists but is owned by another user, then this will
cause failures.

Note that we already do this for other components (glance, for
instance).

Change-Id: Ic7d2a2dd179f721636afc9ea9c3fe6bb314c9b33"
dtroyer,2012-12-10 22:47:36,https://api.github.com/repos/openstack/devstack/git/commits/33cb43034e13ceb9b55d26ac95e28eeaf47a9cec,33cb43034e13ceb9b55d26ac95e28eeaf47a9cec,"Write selected env variables to .stackenv

There are some environment variables that are derived in stack.sh
and cubersome to re-create later, so save them at the end of stack.sh
for use by other supporting scripts, such as openrc.

Change-Id: I1bbf717b970f8ceac0ff7da74aeaf19474997e07"
SpamapS,2012-12-12 20:57:16,https://api.github.com/repos/openstack/devstack/git/commits/1bd2a1b18601fa4f896160c348f2f5988d8b0106,1bd2a1b18601fa4f896160c348f2f5988d8b0106,"Fixes lib/heat to use DATABASE_PASSWORD instead of MYSQL_PASSWORD

The latter is not used anywhere else, but the former is used in all
of the other projects sharing the mysql database for devstack.

Change-Id: I2a0cd7e5b908eb144468caf410a6c41e0e5e3fd0"
vuntz,2012-12-05 16:59:04,https://api.github.com/repos/openstack/devstack/git/commits/f1c094cbcd7917593a2f92b82a5d29931a5698a7,f1c094cbcd7917593a2f92b82a5d29931a5698a7,"Fix polkit configuration to allow usage of libvirt on openSUSE

There is a buggy limitation with pkla files on openSUSE, that blocks
using 'unix-group:libvirtd' from working. A pkla with such a matching
identity will be overruled by the pkla generated by polkit-default-privs
containing 'unix-group:*' (which will match the other groups the user
belongs to, likely after matching libvirtd).

To work around this, explicitly allow the user instead.

Also, move the creation of the libvirtd group a bit later, to clarify
the code.

Change-Id: Ia3e4ae982accfc247a744eaa6d6aa4935e4f404c"
vuntz,2012-12-06 10:59:29,https://api.github.com/repos/openstack/devstack/git/commits/b1b04d066d56162013fe08fd893e51060365653e,b1b04d066d56162013fe08fd893e51060365653e,"Fix postgresql setup on openSUSE

The initdb call is part of starting the service for the first time, so
we need to do that.

Also, restart postgresql after sed'ing its configuration files: if it
was already running for some reason, it needs to be restarted, not
started.

Change-Id: Ib7d3ff5217d06a7764a62a36084090514a1825ea"
vuntz,2012-12-04 17:34:25,https://api.github.com/repos/openstack/devstack/git/commits/f2a18c065e2447083e874eeae59bf6988491ae3f,f2a18c065e2447083e874eeae59bf6988491ae3f,"Two small fixes for openSUSE support

- Use right package files for openSUSE in tools/info.sh
- Use a2enmod to enable the wsgi apache module

Change-Id: I51e3019be32dc0938674c9c8d285a55f5b023707"
jogo,2012-12-12 12:03:19,https://api.github.com/repos/openstack/devstack/git/commits/5c1bedd1edcd04c749721d55710c629bc3d91d12,5c1bedd1edcd04c749721d55710c629bc3d91d12,"Update aggregates test for aggregates bp

Instead of implementing availability zones in the service table,
availability zones will be implemented using general aggregate metadata.

So when an aggregate is created it will already have metadata.

Part of blueprint aggregate-based-availability-zones

Change-Id: I0fd22399b99a14087fef63fc91d0baef746efbed"
dtroyer,2012-12-11 22:52:37,https://api.github.com/repos/openstack/devstack/git/commits/a0dce264d93909af3052e1fa59210032bb9a994d,a0dce264d93909af3052e1fa59210032bb9a994d,"Move Nova account creation out of keystone_data.sh

Supports the coming HA/proxy configuration for Nova

Change-Id: I2baf1f51486537a1489f1376d38f5710bd96c314"
dtroyer,2012-11-29 17:47:58,https://api.github.com/repos/openstack/devstack/git/commits/c83a7e125fc1fea0370fffed37435097346befa6,c83a7e125fc1fea0370fffed37435097346befa6,"Add TLS support for keystone via proxy

* Adds lib/tls to create test CA/certs
* Start proxy if 'tls-proxy' is enabled
* Configure keystone service catalog for TLS
* Tear down proxy in unstack.sh
* Set auth protocol and ca-cert chain in openrc
* Add DATA_DIR to stackrc

This is the first in a series of patches to enable TLS support
for the service API endpoints.

Change-Id: Ia1c91dc8f1aaf94fbec9dc71da322559a83d14b6"
amotoki,2012-12-11 08:09:02,https://api.github.com/repos/openstack/devstack/git/commits/5e3deb678e95737e05f43832d07a37d74c4e8aca,5e3deb678e95737e05f43832d07a37d74c4e8aca,"Always create signing_dir regardless of token format

Fixes bug 1088801

devstack does not create signing_dir when keystone token format is UUID.
If the default value of signing_dir is read-only, OpenStack services
such as Quantum server failed to start due to permission denied.

On the keystone client cannot know which token_format is used in keystone
in advance, so signing_dir should be created regardless of the token format.

Change-Id: I1b0d25c1ac4d22d9fb2c5443d15b96fdaa5a4c81"
steveb,2012-12-11 04:08:48,https://api.github.com/repos/openstack/devstack/git/commits/053a5f8425395efb7b2b7111120fa92c6134fc0b,053a5f8425395efb7b2b7111120fa92c6134fc0b,"Add the role heat_stack_user for heat

Change-Id: I0c3ac92d222ff746baca817002821f109815fee9"
steveb,2012-12-11 01:18:02,https://api.github.com/repos/openstack/devstack/git/commits/9ec34214fce505892937b1cb91c5ece60cdd7882,9ec34214fce505892937b1cb91c5ece60cdd7882,"Fix Heat waitcondition URL configuration

Change-Id: I32fb7f5ef91aebdf574a98845988b3a2a91d5550"
dtroyer,2012-12-06 21:52:52,https://api.github.com/repos/openstack/devstack/git/commits/60e9c0ab22309d1b0b857761be16d4d58a1b251e,60e9c0ab22309d1b0b857761be16d4d58a1b251e,"Quantum cleanups

* Set base default env vars in lib/quantum
* Rename common dirs to match devstack conventions
  Q_CONF_FILE -> QUANTUM_CONF
  QUANTUM_CLIENT_* -> QUANTUMCLIENT_*

Change-Id: I7a2a92b50ef953195f078ac62cb975f28892c05c"
vmmqa,2012-12-06 08:30:57,https://api.github.com/repos/openstack/devstack/git/commits/a9414249af522324c68e4d8fe1656283162e5738,a9414249af522324c68e4d8fe1656283162e5738,"Add a service_check function

There is no function to check if the services invoked by devstack are
running well or not. We could use the function to check their status
and print them at the end of devstack running.

Change-Id: I845f6b5dddce5cffa7165ec58517f9ae5d8632a6"
afazekas,2012-12-07 13:20:51,https://api.github.com/repos/openstack/devstack/git/commits/65c0846e379ba629fcc389486057322d5e30b34a,65c0846e379ba629fcc389486057322d5e30b34a,"Local variable cosmetic changes in lib/tempest

Change-Id: I5e83531c32968bc734abb0f9a8d03e2f9500a074"
vuntz,2012-12-06 08:56:32,https://api.github.com/repos/openstack/devstack/git/commits/00011c0847a9972b78051954e272f54e9d07ef51,00011c0847a9972b78051954e272f54e9d07ef51,"Add is_fedora and exit_distro_not_supported functions

Between is_fedora, is_ubuntu and is_suse, we can make the code a bit
simpler to read. We also use exit_distro_not_supported to identify
places where we need implementation details for new distros.

As ""/sbin/service --skip-redirect"" is Fedora-specific, guard this with a
is_fedora test too.

Change-Id: Ic77c0697ed9be0dbb5df8e73da93463e76025f0c"
afazekas,2012-12-07 07:36:14,https://api.github.com/repos/openstack/devstack/git/commits/6994296bf64f8b07db7e970b53691502d5341298,6994296bf64f8b07db7e970b53691502d5341298,"Remove tools/configure_tempest.sh

Related bug #1087203

Change-Id: I2df4601197214d9d50d86876d4a2892b3421217a"
dims,2012-12-04 21:06:52,https://api.github.com/repos/openstack/devstack/git/commits/a784748527404f59e2c920c889e7958c6532f408,a784748527404f59e2c920c889e7958c6532f408,"Enable the correct instance managers for instance/floating ips.

Currently the default is nova.network.dns_driver.DNSDriver for
both. We need to switch to nova.network.minidns.MiniDNS for
both instance_dns_manager and floating_ip_dns_manager.
nova.network.dns_driver.DNSDriver is just the interface, we
need a good implementation as the default

Fixes LP #1040236

Change-Id: If6e65cb1c7802b1ba0c1e64d4c06185cabf9eeca"
afazekas,2012-12-01 09:42:46,https://api.github.com/repos/openstack/devstack/git/commits/b79574b4954406d6d9e65ce5b1fb8d07678e7128,b79574b4954406d6d9e65ce5b1fb8d07678e7128,"Name the tgt/conf.d enties based on the vg name

On one system multiple volume and volume manger could be installed and
needs dedicated tgt config entries.
cinder-volumes, stack-volumes, nova-volumes are the default volume group
names.
/etc/tgt/conf.d/ files should be named based on the volume-group name.
The vg name is uniq on one system.
In devstack case the stack.conf is usable.

Changes:
* Rename conf.d/cinder.conf to conf.d/stack.conf
* Handle conf.d similary on all distribution

Change-Id: I856cdf4a21a414d2940d8f9d8b0b0368b1fad887"
afazekas,2012-12-05 19:03:40,https://api.github.com/repos/openstack/devstack/git/commits/2aa35174b0f99b1b7ea95af474ae1807542b74c6,2aa35174b0f99b1b7ea95af474ae1807542b74c6,"Move tempest config to lib/tempest

* Using iniset
* Config based on the tempest.config.sample
* tools/configure_tempest.sh is pending for removal

Change-Id: Ia42e98ba4b640b89bcd2674008090909d88a2efb"
vuntz,2012-12-05 16:39:33,https://api.github.com/repos/openstack/devstack/git/commits/818a9fa327414ec6123d572755cecb12ca483922,818a9fa327414ec6123d572755cecb12ca483922,"Install qemu on openSUSE

qemu is used as a fallback when kvm cannot be used.

On Debian and Fedora, the binaries are there when kvm is installed, but
this is not the case on openSUSE.

Change-Id: I96592d105428acde9636608002109c166ac7a56a"
vuntz,2012-12-05 15:15:26,https://api.github.com/repos/openstack/devstack/git/commits/3ab927c9b04e372b66196d9b253fe32cbdf75a65,3ab927c9b04e372b66196d9b253fe32cbdf75a65,"Use getent to find if a group exists, not grep

Change-Id: Ia181f41ae122dc5e5d3d33633dfd1d0e7420f8a9"
vmmqa,2012-12-04 00:51:35,https://api.github.com/repos/openstack/devstack/git/commits/d75bc1f3c19fb8eb2c79434e2fc9307dc83bff26,d75bc1f3c19fb8eb2c79434e2fc9307dc83bff26,"use pip_install to install packages for tempest

Change-Id: Ia892e0bc3c8c16119686daf26595c2b82d7e27b0"
markmcclain,2012-12-04 15:32:41,https://api.github.com/repos/openstack/devstack/git/commits/ec903059d5ab4c387f49f429976da9c147fab808,ec903059d5ab4c387f49f429976da9c147fab808,"Revert ""Set the rabbit_durable_queues to match local consumers""

This reverts commit 71cf53a9f60176419732f3ecbbce11c75190c059.

The attempt to set the queue durability for Glance notifications always
sets the queues to durable. We are reverting this until a refined
approach is available.

Change-Id: I469e5149d21e3fcdd409da8114d5ccef1ff1243c"
vuntz,2012-12-04 11:36:34,https://api.github.com/repos/openstack/devstack/git/commits/c18b96515279064c85cb7a71939d9e9de961d905,c18b96515279064c85cb7a71939d9e9de961d905,"Add is_ubuntu function

This replaces all of the [[ ""$os_PACKAGE"" = ""deb"" ]] tests, except when
those tests are before straight calls to dpkg.

Change-Id: I8a3ebf1b1bc5a55d736f9258d5ba1d24dabf04ea"
mvidner,2012-12-04 09:33:49,https://api.github.com/repos/openstack/devstack/git/commits/2ed63f4f8ede2a5819eb76f109a947f6bab24d0d,2ed63f4f8ede2a5819eb76f109a947f6bab24d0d,"Fix the default for APACHE_GROUP

It should be the group of the effective apache user.

For example, on openSUSE, we use wwwrun:www for apache and $USER:users
for users.

Change-Id: I8e12a8d90d45cfd18e67a41cf5462216ae404733"
dtroyer,2012-11-29 23:11:35,https://api.github.com/repos/openstack/devstack/git/commits/d835de892a9426a96f16e187d23eff715311d492,d835de892a9426a96f16e187d23eff715311d492,"Move keystone account creation out of keystone_data.sh

keystone_data.sh is getting unwieldly and increasingly needs
configuration information for services.  Also need the ability
to manipulate HOST/IP information for hosts to handle service
HA/proxy configurations.

Begin moving the creation of service account information into
the service lib files, starting with the common accounts and
keystone itself.

Change-Id: Ie259f7b71983c4f4a2e33ab9c8a8e2b00238ba38"
vuntz,2012-11-29 08:25:31,https://api.github.com/repos/openstack/devstack/git/commits/8ec27220c5c63de59f129c839eddf5380efe46a4,8ec27220c5c63de59f129c839eddf5380efe46a4,"Add a get_pip_command function

There are two places where we need to find the right command for pip, so
instead of having one version we fix and a buggy version we forget,
simply use a function :-)

Change-Id: I728c17ad7be5c86690c4d7907f77f1f98ec2b815"
markmcclain,2012-11-16 05:15:28,https://api.github.com/repos/openstack/devstack/git/commits/205bc49ef5fd642fe83fddd07cc2578ed7c6f165,205bc49ef5fd642fe83fddd07cc2578ed7c6f165,"adding Quantum metadata service support

Change-Id: I8985c169401eee7a435b99293bdf6d42f28ab66c"
russellb,2012-12-03 15:02:40,https://api.github.com/repos/openstack/devstack/git/commits/c2d2f52bbdf7b83fbd74a7396c7380b6da9b2ae3,c2d2f52bbdf7b83fbd74a7396c7380b6da9b2ae3,"Fix qpid support on Fedora.

The new qpid_is_supported function returned the opposite value from what
it was supposed to.  It returned success for the platforms where qpid is
not supported.

Change-Id: I0ceaae1dddaa6192657926834c6eb8006925f0cf"
hardys,2012-12-03 12:41:02,https://api.github.com/repos/openstack/devstack/git/commits/9a27dd8dd557c9bf64bfaf4965eff7a8f75fb1af,9a27dd8dd557c9bf64bfaf4965eff7a8f75fb1af,"heat : heat repo moved to openstack

Main heat repo has now moved under the github openstack project
Note the old checkout will require removal to trigger stack.sh to
re-clone it from the new location

Change-Id: I4163e35cad7c319961d42f0c53a68ec6244508ed
Signed-off-by: Steven Hardy <shardy@redhat.com>"
torandu,2012-12-03 08:17:38,https://api.github.com/repos/openstack/devstack/git/commits/8f393df3524563813068ac0a646b86bbcfa28d30,8f393df3524563813068ac0a646b86bbcfa28d30,"Use TOP_DIR to find devstack directory

Change two statements to use TOP_DIR instead of PWD

Change-Id: I6d3d16ce853493a06850b078d39e964f873c16fe
Fixes: bug #1085819"
steveb,2012-12-03 04:04:02,https://api.github.com/repos/openstack/devstack/git/commits/1a7bbd255fd02fbfee6a26b990d15d38402f1992,1a7bbd255fd02fbfee6a26b990d15d38402f1992,"is_suse false positives on Fedora

Also, uses of is_suse were also always evaluating to true
on Fedora.

Change-Id: I068f3179edbfb295163a4e4faa4998f2f7b2c124"
emonty,2012-12-02 21:07:39,https://api.github.com/repos/openstack/devstack/git/commits/99fcd8184d078efb9f8fcbe6d714b04ea44259e1,99fcd8184d078efb9f8fcbe6d714b04ea44259e1,"A few more NOVA_BIN_DIR cleanups.

Change-Id: I1d1225c894f1857a3723e01f18d0f0dade670dc9"
afazekas,2012-11-30 22:28:07,https://api.github.com/repos/openstack/devstack/git/commits/83e109571ec2c2a08a378d9c3a69bfbf3f5ec1ba,83e109571ec2c2a08a378d9c3a69bfbf3f5ec1ba,"Allow Versioning with swift

* add the allow_versions to the container configs

Change-Id: I2d39ba7c60f5f1c4cd4f80ed61a02a64979e8f19"
afazekas,2012-11-29 13:19:41,https://api.github.com/repos/openstack/devstack/git/commits/ece6a332b7d5791c73071fbfea5723d4991c6c85,ece6a332b7d5791c73071fbfea5723d4991c6c85,"Refactor swift installation

* Optimize loops
* Move install steps to the lib/swift

Change-Id: Ie8a74b2627395620ccb0501171fa0150ee7497f2"
hardys,2012-11-30 13:31:49,https://api.github.com/repos/openstack/devstack/git/commits/08b4e9b445f460d36a78a68b5273aee8155e4839,08b4e9b445f460d36a78a68b5273aee8155e4839,"heat : Remove heat-metadata as it has been removed in heat master

The heat-metadata service has been removed as of the following commit
in heat master: 6ae3ff0 Remove heat-metadata service

So remove the heat-metadata service and related config-file items

Change-Id: If36efe5924e9e0a7697f51dd3c9fc140fed8090b
Signed-off-by: Steven Hardy <shardy@redhat.com>"
russellb,2012-11-30 03:00:51,https://api.github.com/repos/openstack/devstack/git/commits/ff7f308e9cbdaf69fa116a628ed3114bb7aad54e,ff7f308e9cbdaf69fa116a628ed3114bb7aad54e,"Start nova-conductor before nova-compute.

nova-compute is going to need to talk to nova-conductor during startup,
so go ahead and start it conductor before compute.

Change-Id: I565436e06b5bf4189ead0a57d57ec2ce4cf79bd8"
afazekas,2012-11-29 15:52:59,https://api.github.com/repos/openstack/devstack/git/commits/ed30160c0454bcd7c203db0f331e2adfcbd62ea3,ed30160c0454bcd7c203db0f331e2adfcbd62ea3,"Add OBJECT_CATALOG_TYPE to tempest config

* add OBJECT_CATALOG_TYPE

Change-Id: I776f7ce65e44ceef139e34a1b1aff52e069b90e6"
gpernot,2012-11-29 07:44:58,https://api.github.com/repos/openstack/devstack/git/commits/901eed70b4b6257ad3a9192c0d0522969ef67509,901eed70b4b6257ad3a9192c0d0522969ef67509,"Add ResellerAdmin role to ceilometer user.

For the sake of swift metering, 'ceilometer' user needs to be a
ResellerAdmin for tenant 'service'.

Change-Id: I65b3bdedddded9d5f3bac5c5d714288800ffa8b6"
vuntz,2012-11-29 08:19:16,https://api.github.com/repos/openstack/devstack/git/commits/7c3053da69681ed5a57729812d4a357ac1c23b17,7c3053da69681ed5a57729812d4a357ac1c23b17,"Remove leftover references to files/pips/

The files/pips/* files were removed a while ago (replaced by
pip-requires in individual projects). So remove leftover code that was
dealing with that.

Change-Id: Id521a3365ab018193607389f022a25acddb49714"
fungi,2012-11-28 17:22:39,https://api.github.com/repos/openstack/devstack/git/commits/9a352daf892a78bcef232e2da32b0d46c4c10fe7,9a352daf892a78bcef232e2da32b0d46c4c10fe7,"Install Tempest's dependencies along with it.

* lib/tempest(install_tempest): Directly install Tempest's
tools/pip-requires list after cloning the repo.

Change-Id: I5c508faab8756d5cdfec53193e08e3440fda1b2c"
dtroyer,2012-11-28 17:54:45,https://api.github.com/repos/openstack/devstack/git/commits/afd472cb30ba90611b3b3907ad2570f26905532c,afd472cb30ba90611b3b3907ad2570f26905532c,"Don't combine sed options

Combining '-i -e' into '-ie' changes behaviour, don't do that

Change-Id: Ice46c6b4f899b4c76f355cc88241dd33bc60f459"
vuntz,2012-11-21 16:45:49,https://api.github.com/repos/openstack/devstack/git/commits/ca5c4713869fb88c2e8753039f80f1f8bf1d8fef,ca5c4713869fb88c2e8753039f80f1f8bf1d8fef,"Add package names for openSUSE/SLE

Change-Id: I487cc7b8bd228ff77c9881528e3395cbe3c43d4a"
vuntz,2012-11-21 15:04:12,https://api.github.com/repos/openstack/devstack/git/commits/856a11e0e42c253b84b6074c620d54e620cd17c6,856a11e0e42c253b84b6074c620d54e620cd17c6,"Add partial openSUSE/SLE support

Note that this is the first part of the support. A second part involves
dealing with the package names.

Among the changes:
 - add several functions to determine some distro-specific behavior (how
   to call usermod, if some features are available on the distro, etc.)
 - correctly detect openSUSE and SLE in GetOSVersion, and set DISTRO
   accordingly
 - new is_suse() function to check if running on a SUSE-based distro
 - use zypper to install packages
 - adapt apache virtual host configuration for openSUSE
 - some simple fixes (path to pip, mysql service name)

Change-Id: Id2f7c9e18a1c4a7b7cea262ea7959d183e4b0cf0"
dtroyer,2012-11-27 23:00:11,https://api.github.com/repos/openstack/devstack/git/commits/e83356217b48308b3a4dc975940c79a22e159238,e83356217b48308b3a4dc975940c79a22e159238,"Fix ini functions to handle spaces in section names

This allows section names to look like:

[ default ]

OpenSSL is the primary offender for this usage.

Change-Id: If5c711107e73cebab9d4a26ca02a7ce572224377"
emonty,2012-11-23 23:00:38,https://api.github.com/repos/openstack/devstack/git/commits/0edfd6f6e39e01b6acf29be32b2cb18a0c4f4482,0edfd6f6e39e01b6acf29be32b2cb18a0c4f4482,"Use NOVA_BIN_DIR for newer binaries.

We added a variable a while ago, NOVA_BIN_DIR which is set properly to the
location of the binaries. Rather than using the in-tree bin-dir, which is
going away in favor of entrypoints console_scripts.

Change-Id: I65040cfe8321d49595a909353870f981bbd6a480"
rbtcollins,2012-11-19 22:34:25,https://api.github.com/repos/openstack/devstack/git/commits/0a9954f2c251c68a8261a5ed6999c1585e48de67,0a9954f2c251c68a8261a5ed6999c1585e48de67,"Also pickup quantum distro dependencies (bug 1080886).

Change-Id: Ic0fc0b03dc01782d0d85d98de765f04fcbcacd74"
dtroyer,2012-11-26 18:56:20,https://api.github.com/repos/openstack/devstack/git/commits/9f61d29e66433eac5c657f6d3a3903b35ecfb7d1,9f61d29e66433eac5c657f6d3a3903b35ecfb7d1,"Revert ""Remove python-openstackclient.""

This reverts commit 6e3330967c5c7be73a8ffee3779c214768683c56

This is in fact useful to an admittedly small population.  And if I had not been on vacation I'd have -2'd it..."
amotoki,2012-11-22 11:04:02,https://api.github.com/repos/openstack/devstack/git/commits/766ae34261a33fbf7661e63f30b227dd9177bd71,766ae34261a33fbf7661e63f30b227dd9177bd71,"Creates nova endpoint when n-api is enabled.

Fixes bug 1081975

Nova endpoint in keystone was registered if n-cpu is enabled. However it is
a usual case where n-cpu runs on a different host in multi-node setup and
it results in no endpoint for nova. n-api is a better condition since nova-api
and keystone usually run on a same host.

Change-Id: Ic097e1c3bd30798d9d3c5fb76023fbdb3ae189d9"
steveb,2012-11-21 01:20:12,https://api.github.com/repos/openstack/devstack/git/commits/b592b29f923b4ea137d8efd4bb5f0a6dde356075,b592b29f923b4ea137d8efd4bb5f0a6dde356075,"Configure heat engine server URLs

Wait conditions do not work without them.

Change-Id: I64ed75e4b84c73678af11182ac951cb1da561428"
otherwiseguy,2012-11-20 18:08:13,https://api.github.com/repos/openstack/devstack/git/commits/adfc7a3c0aec56030da5369e3598520ba18b3e9c,adfc7a3c0aec56030da5369e3598520ba18b3e9c,"Re-add postgresql-setup initdb for Fedora

The Fedora RPM does not set up the postgresql data directory.
postgresql-setup initdb must be run after installing the RPM.

Change-Id: I5e5ab659e83f4ee6a024f74a23bf4562ea0065ce"
kk7ds,2012-11-15 18:09:33,https://api.github.com/repos/openstack/devstack/git/commits/d57ccf0271e2d416fb0fc73b5ab96f342eae7f28,d57ccf0271e2d416fb0fc73b5ab96f342eae7f28,"Add nova-conductor service

This is a new service for nova that will soon be required for
n-cpu to function.

Change-Id: I9a2e62f25200a47233a7796084ad8ebabc852c59"
jaypipes,2012-11-19 15:58:50,https://api.github.com/repos/openstack/devstack/git/commits/596b906b63e2f60a185ae969e35f58c6318480e7,596b906b63e2f60a185ae969e35f58c6318480e7,"Adds requisite changes to configure_tempest.sh for EC2/S3 tests

* Adds all the BOTO_XXX variables to the configuration file
  setup that are needed by https://review.openstack.org/#/c/14689/15

Change-Id: I44b2950705807fcfd026f1069fbe0d2727632760"
rbtcollins,2012-11-19 05:59:04,https://api.github.com/repos/openstack/devstack/git/commits/443ac48fdef510835bf2de1ba27f0b6baac8f5b8,443ac48fdef510835bf2de1ba27f0b6baac8f5b8,"Make it possible to choose a different VIF driver.

This is useful when working with baremetal which uses openvswitch quantum
plugin, but baremetal-vif vif driver.

bug 1080562

Change-Id: I9f94a8f2d7f11fa0771a5304b0aed1d0de5a3db7"
rbtcollins,2012-11-19 05:55:33,https://api.github.com/repos/openstack/devstack/git/commits/07ccefd6bee75dc6df1d6544b92682f65aa0202f,07ccefd6bee75dc6df1d6544b92682f65aa0202f,"Default Q_HOST to HOST_IP rather than localhost.

This makes it less likely to interact with e.g. http_proxy settings.

I filed this as bug 1080561.

Change-Id: If97459a28f2d2a77cd322bb3f6024d11fbb8fcd4"
jeblair,2012-11-17 00:41:26,https://api.github.com/repos/openstack/devstack/git/commits/6e3330967c5c7be73a8ffee3779c214768683c56,6e3330967c5c7be73a8ffee3779c214768683c56,"Remove python-openstackclient.

It's not used.

Change-Id: I00deaa9ebcd844dd9c3c9d2560d11ad37589d847"
dtroyer,2012-11-05 20:26:09,https://api.github.com/repos/openstack/devstack/git/commits/c1b486a520dd3c2c9596244a0aa899f2e35ec3bf,c1b486a520dd3c2c9596244a0aa899f2e35ec3bf,"Simplify database selection

Do not require every script that sources stackrc to also
source lib/databases.

* Move use_databases() to functions
* Set DATABASE_TYPE in stackrc
* Allow setting DATABASE_TYPE in localrc to work
  (use_database() essentially just sets DATABASE_TYPE at this stage
  so continuing to use it is equivalent)
* Validate DATABASE_TYPE in stack.sh.
* Change sudo to postgresql user to go through root to eliminate
  password prompt
* fix use_database error condition

Change-Id: Ibb080c76e6cd7c6eebbb641a894d54b1dde78ca6"
vmmqa,2012-11-15 02:45:44,https://api.github.com/repos/openstack/devstack/git/commits/203edc569bec0fe845ab1d64388c53aaedc256f0,203edc569bec0fe845ab1d64388c53aaedc256f0,"Fix the parameter expansion issue in configure_tempest.sh

We need follow the syntax like ${parameter:-word} for OS_PASSWORD set.

Change-Id: I44f630007b578779658ddcd68417a778b242ed4d"
jogo,2012-11-14 00:55:41,https://api.github.com/repos/openstack/devstack/git/commits/6fd2811726c098e0311bc22c84c5da0d6aa89c62,6fd2811726c098e0311bc22c84c5da0d6aa89c62,"Remove support for nova-volume

* nova-volume has been removed in Grizzly
* part of delete-nova-volume

Change-Id: Iba91d69950767823d77aaaa93243b0f476dbb04d"
lianhao,2012-11-12 08:36:42,https://api.github.com/repos/openstack/devstack/git/commits/af5cd77e180bad81aadc51e3f224910a8fe02141,af5cd77e180bad81aadc51e3f224910a8fe02141,"Change the ceilometer's git repository.

Changed the ceilometer's git repository from stackforge/ceilometer.git
to openstack/ceilometer.git.

Change-Id: I8cf1854641fc7df318f42a56ba061c93614728aa"
jaypipes,2012-11-09 17:22:16,https://api.github.com/repos/openstack/devstack/git/commits/efcda85b7ddfe045c5e7f340977031416d64491f,efcda85b7ddfe045c5e7f340977031416d64491f,"Ensure BASE_SQL_CONN is set properly in tools/configure_tempest.sh

Recent changes to enable more than just MySQL to be used
in devstack moved some setup stuff to lib/database. While
this file was source'd in tools/configure_tempes.sh, the
BASE_SQL_CONN variable was not being set because
lib/database/initialize_database_backends was not called.

Change-Id: I53c3302097a94c842860fcb781e21383150bde7f
fixes: LP bug#1077056"
jaypipes,2012-11-09 15:38:49,https://api.github.com/repos/openstack/devstack/git/commits/71cf53a9f60176419732f3ecbbce11c75190c059,71cf53a9f60176419732f3ecbbce11c75190c059,"Set the rabbit_durable_queues to match local consumers

Due to a problematic bug in Glance (https://bugs.launchpad.net/glance/+bug/1074132),
I was unable to get stack.sh to complete successfully. The workaround on the
Glance bug was to set the rabbit_durable_queues value to match the setting
of the local Rabbit consumers and exchanges.

This patch merely looks for any consumer or exchange that
is durable and ensures that the default durable_rabbit_queues
config option of False is set to True in that case.

Change-Id: Ia5a165a5a06d11d1fe6492ca32139972d49d3a1e"
bcwaldon,2012-11-09 03:39:03,https://api.github.com/repos/openstack/devstack/git/commits/8263c22cd952ea24e7190dd54727d07a1d2494d4,8263c22cd952ea24e7190dd54727d07a1d2494d4,"Add genisoimage as dependency

Fixes bug 1076854

Change-Id: I51cd293898f40edaf241a2fb7aff27e73f3a8e07"
dtroyer,2012-10-22 20:24:46,https://api.github.com/repos/openstack/devstack/git/commits/86a796941e3a6b29c95581dcaba45bf16f9e9fe2,86a796941e3a6b29c95581dcaba45bf16f9e9fe2,"Clean up operation with no Nova services enabled

Change-Id: Ib9054bacc34e923c05f0bc699afd514eaa3cad01"
dtroyer,2012-11-07 22:51:21,https://api.github.com/repos/openstack/devstack/git/commits/6931c137b9f214a2ac3bdda42904952f9aa8b7ca,6931c137b9f214a2ac3bdda42904952f9aa8b7ca,"Fix spacing issue in ssh_check()

Change-Id: Ia5bd7b678b86f2e3e3b1fa04e628096feb1ace81"
dtroyer,2012-11-07 18:31:34,https://api.github.com/repos/openstack/devstack/git/commits/b9182d65ccf2e560975c2bc0b64d143ac8f29e54,b9182d65ccf2e560975c2bc0b64d143ac8f29e54,"Documentation and formatting cleanup

* No functional changes to see here

Change-Id: I68b7abb3a30effc9e76c6e7deb1e3c6ef140f6bb"
dtroyer,2012-11-07 02:38:14,https://api.github.com/repos/openstack/devstack/git/commits/4d3049e7cd8571aac26bd9aec6cfda9b6933433d,4d3049e7cd8571aac26bd9aec6cfda9b6933433d,"Configure Cinder for syslog if enabled

Change-Id: I3d2770cd2c3e3b93c0f26de359e5b0cb166826c1"
aaronorosen,2012-10-30 19:57:47,https://api.github.com/repos/openstack/devstack/git/commits/8ec719b4d43a2c234442256df1ade62cc26755d6,8ec719b4d43a2c234442256df1ade62cc26755d6,"nova-manage network commands only when n-net enabled

This patch checks if n-net is enabled rather than any nova service
before creating networks through nova.  Fixes bug 1073313

Change-Id: I8810737ddbb26a5e281060f5395cfad5d186b6d3"
jeblair,2012-11-06 08:38:36,https://api.github.com/repos/openstack/devstack/git/commits/213c416878eaf42aae3a0e4343c220a72951d14c,213c416878eaf42aae3a0e4343c220a72951d14c,"Add CINDER_SECURE_DELETE flag.

Defaults to true which means no change in behavoir.  Adds option
to disable secure delete as in https://review.openstack.org/15477.

Change-Id: I2b19ed4223460b550026ad4975080c0079c8b433"
budnik,2012-11-06 07:58:24,https://api.github.com/repos/openstack/devstack/git/commits/3edca54923495cf48186808dd2ed788315c29126,3edca54923495cf48186808dd2ed788315c29126,"Fixed path for calling build_uec_ramdisk.sh from build_usb_boot.sh

Bug desc: build_usb_boot.sh is unable to find build_uec_ramdisk.sh while being called from tools directory. Variable with correct path wasn't been used at all.

Change-Id: I5ddff3d587a495e6768163f6b282e5b5f7a40849"
j-griffith,2012-11-05 20:59:49,https://api.github.com/repos/openstack/devstack/git/commits/161e2807a9f530988e21b9b723fb43dbc992496c,161e2807a9f530988e21b9b723fb43dbc992496c,"Update devstack exercises to call cinderclient

Exercises use nova volume-* commands still.  This works fine,
however moving forward now that cinder is the default volume service
we should use the cinderclient explicitly for the applicable calls.

Attach/Detach are still novaclient commands, however the others
(create, delete, list, etc) should be cinderclient.

Change-Id: I336de1b69a32eee6c91655b0a5bf8541b243f2f0"
steveb,2012-11-04 20:57:57,https://api.github.com/repos/openstack/devstack/git/commits/32761a4961857bd7f46b31866edc24ec5ef2f614,32761a4961857bd7f46b31866edc24ec5ef2f614,"Install and configure python-heatclient.

This uses the new REST API. It installs a client executable called 'heat'.
The old heat client in the heat repo has been renamed to heat-cfn.

Change-Id: I7bc8662c531e3639cc940a44df96ff426ac3aada"
budnik,2012-10-20 23:00:07,https://api.github.com/repos/openstack/devstack/git/commits/0c49539288ddfc6446f2f198a4b1b76355a4c52b,0c49539288ddfc6446f2f198a4b1b76355a4c52b,"Few changes to get_uec_image.sh:

Fixed typo in usage message

Fixed usage message to represent actual code

Set default minimum image size to 2000MB from 2000*BS

fixed bug not creating directory for downoladed files

Change-Id: Id736ac7984f88e61b685569b6ba5e9158bea5889

added percise and quantal

Change-Id: Id9cb74dded044ec998700c1b456a8077f76c96e8"
otherwiseguy,2012-11-01 20:12:39,https://api.github.com/repos/openstack/devstack/git/commits/428af5a257310dbbae9bd7d3b9cd81f92ef7ba9a,428af5a257310dbbae9bd7d3b9cd81f92ef7ba9a,"Add PostgreSQL support to devstack

This patch adds an interface for supporting multiple database backend
types and implemnts support for PostgreSQL. It also adds a function,
use_exclusive_service, which serves as a base for enabling a service
that conflicts with other services. The use_database function uses it,
and it might also be useful for selecting messaging backends.

MySQL is still selected by default. Tested on Fedora 17 and Ubuntu
12.04 with MySQL and PostgreSQL. Implements blueprint postgresql-support

Change-Id: I4b1373e25676fd9a9809fe70cb4a6450a2479174"
dtroyer,2012-11-02 21:59:03,https://api.github.com/repos/openstack/devstack/git/commits/e88c0a20360ac0b9cef6ab5dde2101127a6c2da7,e88c0a20360ac0b9cef6ab5dde2101127a6c2da7,"Fix errors when commands return error text rather than data

I'm looking at you euca2ools

Change-Id: I82bfb8a3ee58fdc54ead6a285c9415593e741892"
dtroyer,2012-10-01 19:06:44,https://api.github.com/repos/openstack/devstack/git/commits/bc071bcef0bcb726e49f9ccaa2063f58b7eaf96d,bc071bcef0bcb726e49f9ccaa2063f58b7eaf96d,"Configure PKI cache dirs

* Configure Cinder, Glance, Keystone, Nova to put cached credentials
  from keystone.auth_token into /var/cache/<service>

It is not obvious to me that having each of these service share a
credentials cache is a good idea.  It does appear to work but this
patch takes the conservative approach of putting each service's cache
in a distinct directory.

More importantly it gets them out of $HOME!

Change-Id: If88088fc287a2f2f4f3e34f6d9be9de3da7ee00d"
steveb,2012-10-25 01:49:47,https://api.github.com/repos/openstack/devstack/git/commits/bad9d89fa0a785a965abaafd423f1e6b9f47ebd3,bad9d89fa0a785a965abaafd423f1e6b9f47ebd3,"If heat is enabled, replace nova flavors.

All heat users will need to run heat/tools/nova_create_flavors.sh as an admin
user. This change runs nova_create_flavors.sh if heat is enabled.

This saves the hassle of switching to an admin user and running this every time
devstack is started.

Flavors are changed in heat_init, so heat_init is deferred until after nova
is running.

Change-Id: I4576c83f5ef55809567e40e56c25eb0e1bbe6d45"
davidkranz,2012-10-26 17:25:19,https://api.github.com/repos/openstack/devstack/git/commits/867cf42ebdc7e99405615ba455621b00125c46ed,867cf42ebdc7e99405615ba455621b00125c46ed,"Clean database when configuring ceilmeter.

Change-Id: If9e35f645b35fbe2e2550930da6b909a40f309b1"
zhang-hua,2012-10-26 07:32:48,https://api.github.com/repos/openstack/devstack/git/commits/e747efb3f6420f16028c3ed2a3ed731c77ab3f33,e747efb3f6420f16028c3ed2a3ed731c77ab3f33,"Fix the typo of Q_USE_ROOTWRAP expression.

Fixes bug 1071636

Change-Id: If384d1d9205300e11722e5280107b773368825ba"
otherwiseguy,2012-10-26 02:20:54,https://api.github.com/repos/openstack/devstack/git/commits/adeefbf3e704522b1d2959b28112aab9f049ffbf,adeefbf3e704522b1d2959b28112aab9f049ffbf,"Correct misspelled OVS plugin variable

Fixes bug 1071567, the broken setup of external gateway IP/routes
when using quantum with the openvswitch plugin due to a misspelled
variable name.

Change-Id: I950701a55f770cf075bca500e5a935628f6bf14a"
jd,2012-10-24 14:32:01,https://api.github.com/repos/openstack/devstack/git/commits/4b3e4e529f4c2b78064f6153e690babff77abeaa,4b3e4e529f4c2b78064f6153e690babff77abeaa,"ceilometer: build the configuration file from scratch

Stop using the one from nova. Fix the keystone_authtoken default
auth_protocol.

Change-Id: Id9b30a4105a7187966c3953958477967cf58fe9b"
jd,2012-10-04 16:00:10,https://api.github.com/repos/openstack/devstack/git/commits/f36afe587b1cdef02797cc5fb36b395b3ff682aa,f36afe587b1cdef02797cc5fb36b395b3ff682aa,"Add ceilometer-api to service catalog

This fixes bug #1060344

Change-Id: I0fee6b4660f564c4f8d62274ed52fa4b367f67da
Signed-off-by: Julien Danjou <julien@danjou.info>"
ljjjustin,2012-10-19 01:48:30,https://api.github.com/repos/openstack/devstack/git/commits/61bb2c1b5c5fe406300fd184a2249a0b0c9bb622,61bb2c1b5c5fe406300fd184a2249a0b0c9bb622,"clear screen rc file every time you run stack.sh

fixes bug 1032022.

Devstack will not update service's start up command if the command already
exists in screen rc files due to previous deployment. There is no way to
clear a service's start up command so this would be a problem if the service's
start up command changes between different deployment. Clear the content of
screen rc file every time you run stack.sh to deploy openstack can solve
this problem.

Change-Id: I18d0700bb2169bdb0dadfa7982168aef2eff8b22"
jogo,2012-10-24 00:10:56,https://api.github.com/repos/openstack/devstack/git/commits/0921c453e4cf3bb3bde3133220bbe1b46ca50b98,0921c453e4cf3bb3bde3133220bbe1b46ca50b98,"Remove unused nova.conf option image_service

FLAGS.image_service was removed in:
[3aaa0b103447d56f8d3b259c693cd9a3a8dcbe36] Cleanup of image service code

Change-Id: Ie566f972e2c196228cd83edda0924b5a679a63a6"
dtroyer,2012-10-23 20:09:50,https://api.github.com/repos/openstack/devstack/git/commits/1331445b6f360f975e2304a2e063737cc1db4036,1331445b6f360f975e2304a2e063737cc1db4036,"Clean up local state paths

Puts additional state and lock paths for swift, quantum and nova
into $DATA_DIR/project that can be set independently of $DEST.

Change-Id: I2cca701856d3caa7fe472fefdd8b070a3c7f3adf"
dtroyer,2012-10-23 20:47:01,https://api.github.com/repos/openstack/devstack/git/commits/5a4148d33adbbae7fc178ba79ee86927a6d7f1c7,5a4148d33adbbae7fc178ba79ee86927a6d7f1c7,"Fix quantum typo

Change-Id: Ib6343f5c6b7dedb8bda33110460372bc52b6c6a7"
dtroyer,2012-10-08 23:12:14,https://api.github.com/repos/openstack/devstack/git/commits/da7b8091b9f62efaa79473e22ad7ea50736dded1,da7b8091b9f62efaa79473e22ad7ea50736dded1,"Extract create_nova_conf() from init_nova()

Allows creating a new nova.conf without wiping the database,
say, during an upgrade.

Change-Id: I7703b54bc3a32485b3cdab8d6185f93a6675040d"
vuntz,2012-10-04 09:57:37,https://api.github.com/repos/openstack/devstack/git/commits/782c00b1f54a3b9d21d393b460d5db8b0d5c2328,782c00b1f54a3b9d21d393b460d5db8b0d5c2328,"Add missing debian packages for quantum

The rpm list is more complete than the debian list, so complete the
debian one based on the rpm one.

Change-Id: I707a16d3d2646b4b3d0bc200fed62e5e6743c030"
ykaneko,2012-07-23 06:27:36,https://api.github.com/repos/openstack/devstack/git/commits/602cf9bd68399e55448da001eb823be31d03030a,602cf9bd68399e55448da001eb823be31d03030a,"Add support for the Quantum Ryu plugin.

This patch allows using the Quantum Ryu plugin.
Ryu plugin lets Quantum link Open vSwitch and Ryu OpenFlow controller[1].

Ryu OpenFlow controller is not Openstack component, but I added some
processing that is related with Ryu to stack.sh for the convenience of
the person who intend to try the plugin.

Instructions for using Ryu plugin:
1. Enable services: ""q-svc"", ""q-agt"", ""q-dhcp"", ""q-l3"", ""quantum"", ""ryu""
2. Set Q_PLUGIN to ""ryu""
3. Set an internal network interface name to connect br-int on plural
   hosts to RYU_INTERNAL_INTERFACE (optional)

Example localrc:
  disable_service n-net
  enable_service q-svc q-agt q-dhcp q-l3 quantum ryu
  Q_PLUGIN=ryu
  RYU_INTERNAL_INTERFACE=eth1

[1] http://osrg.github.com/ryu/

Change-Id: Ic1da132fa421f1c70c10a319ee3239831b0f956f"
jeblair,2012-10-10 00:54:48,https://api.github.com/repos/openstack/devstack/git/commits/9dae3bd1e53daa886d535cb3cb7fafcbb41546e8,9dae3bd1e53daa886d535cb3cb7fafcbb41546e8,"Change mysql -> mysql-server in quantum.

There is no package called mysql in precise.

Change-Id: If047cb8d03f51c2f56e5da43573af596a8aca367"
steveb,2012-10-10 00:19:10,https://api.github.com/repos/openstack/devstack/git/commits/bb421bed58bc8a4b3f21ee3cba719e5d46c4c33a,bb421bed58bc8a4b3f21ee3cba719e5d46c4c33a,"Configure and launch Heat REST API.

This is a REST API in the same style as other OpenStack APIs.

This also creates a new endpoint for the REST API which uses the
serivce type 'orchestration'. The old endpoint now has the service
type 'cloudformation'.

This matches the pattern where the native openstack API gets a
generic service type while the emulated EC2 API gets a specific
type (eg, object-store, s3).

There will be breakage for the time period where only one of this
change and https://review.openstack.org/#/c/14263/ are approved,
since keystone will have the incorrect service type for that period.

Change-Id: I6a0d51a63da8017d375b4c065c4c9079dfca8fe3"
j-griffith,2012-10-07 04:19:33,https://api.github.com/repos/openstack/devstack/git/commits/082a3da01f01de6b71e24710b4201f969e69d1c9,082a3da01f01de6b71e24710b4201f969e69d1c9,"Remove extraneous timing messages from volumes.sh

Change: I3bbcc5b9f8a4da2fcdb9f6f70913c2d6bc6e2b9b
added some timing messages around the volume operations in
exercises/volumes.sh.  This was a good idea, but some
useless timing info was added to failed cases, this patch
pulls that back out.  The only parameter used to detect
failure is a timeout, so outputing the time elapses in
these cases is useless.

Change-Id: I609a803a7293aa8a8e3cec186984de59bfe9b409"
suryaprabhakar,2012-10-06 14:05:56,https://api.github.com/repos/openstack/devstack/git/commits/a9c4a8aff202225cd02239c9c76e36ef76f88de4,a9c4a8aff202225cd02239c9c76e36ef76f88de4,"kill throws an error while finding pid
in quantum dhcp agent section

Change-Id: I602df7875710336125cdbb8407ff293a8e7d448e"
dtroyer,2012-10-04 18:52:22,https://api.github.com/repos/openstack/devstack/git/commits/1b23d7cd6e49b124f77765bc2e1e324357f8812c,1b23d7cd6e49b124f77765bc2e1e324357f8812c,"Update horizon config to current example from horizon repo

includes https://review.openstack.org/14048

Change-Id: I49952dd34408d2e94bcecd9063c21633f4139a99"
vuntz,2012-10-04 11:36:46,https://api.github.com/repos/openstack/devstack/git/commits/855c5875c7756db192fe7078bed207ab280f7780,855c5875c7756db192fe7078bed207ab280f7780,"Directly use GetDistro instead of failing if $DISTRO is not set

Change-Id: I81d73a767e1c7f5e83eb535b2e1645e6ab29f347"
dtroyer,2012-10-02 16:51:27,https://api.github.com/repos/openstack/devstack/git/commits/3cf1ffbcdda2f74a7f0d57eb2b8bac8d90af108f,3cf1ffbcdda2f74a7f0d57eb2b8bac8d90af108f,"Fix NOVA_CONF usage

NOVA_CONF now includes NOVA_CONF_DIR, fix remaining usage in lib/nova

Change-Id: I750d6e3ad73bed5c8a911f6dfe61770bbc804704"
vuntz,2012-10-02 10:13:56,https://api.github.com/repos/openstack/devstack/git/commits/7e3c3f8fe9e705a518b62e0b67adba585f9d8414,7e3c3f8fe9e705a518b62e0b67adba585f9d8414,"Do not hardcode mysql service name when we have a variable for it

This is useful in case a different service name will be used (when
porting to another distribution, for instance).

Change-Id: I5b66ada02f3c4424384c728f1dadb4872bf4d490"
dtroyer,2012-09-29 22:25:02,https://api.github.com/repos/openstack/devstack/git/commits/1a3c9fe41b9b20d98b0b7afe6dbec9fcb025d551,1a3c9fe41b9b20d98b0b7afe6dbec9fcb025d551,"Fix setup_develop

Change-Id: I64324436eebebfb05ad724335eece10cba107d91"
dtroyer,2012-09-21 20:09:37,https://api.github.com/repos/openstack/devstack/git/commits/bf67c19c30ec0f14034e74a86c57f7f9396a9b4d,bf67c19c30ec0f14034e74a86c57f7f9396a9b4d,"Move Nova to lib/nova

The next in a line of changes to break down stack.sh and make
it a bit more manageable.

Part of blueprint devstack-modular

Change-Id: I3fae739996aad0b340dae72ef51acd669a3ab893"
j-griffith,2012-09-26 21:09:52,https://api.github.com/repos/openstack/devstack/git/commits/496ffc74bb255efce367033d56f23f626efa4db4,496ffc74bb255efce367033d56f23f626efa4db4,"Add timing info to volume exercises.

Looking at some failures lately in Jenkins/Devstack runs and it would
be handy to see if failures were time-out related versus flat out failed
operations.

More interestingly it might be worthwile to harvest the completion time
info from the jenkins logs and keep track of any significant deviations
introduced by code changes.

Change-Id: I3bbcc5b9f8a4da2fcdb9f6f70913c2d6bc6e2b9b"
vishvananda,2012-09-21 22:36:06,https://api.github.com/repos/openstack/devstack/git/commits/7879a3cecc6bd46f86f440e44f6ef4515680240c,7879a3cecc6bd46f86f440e44f6ef4515680240c,"Add a spinner so users know the script is going

The spinner will appear if VERBOSE=False.

Change-Id: I6413decbab2da3996dce5150a4600701eadd6f82"
dtroyer,2012-09-24 20:02:05,https://api.github.com/repos/openstack/devstack/git/commits/baa8b42af8d128d145d7a0d2b100bf8577007145,baa8b42af8d128d145d7a0d2b100bf8577007145,"Fix logfile output getting stomped

The LOGFILE would get stomped due to a non-appending tee command.

Change-Id: I851ee83171c27fc425c0d666fcf84437f0d118b2"
vishvananda,2012-09-21 23:20:06,https://api.github.com/repos/openstack/devstack/git/commits/dc9e2880a3510205f3e2d0a7db3185005303b42d,dc9e2880a3510205f3e2d0a7db3185005303b42d,"Modify euca test to get zone using describe

This modifies the euca test to include describe-availability-zones
so that it is covered. This allows us to not need to hard-code a
zone name for the volume tests.

Change-Id: Iaae0589d4338d948981ca6e2229d2ceb73ff38ef"
dtroyer,2012-09-10 19:10:27,https://api.github.com/repos/openstack/devstack/git/commits/699a29f72decbfc1edabde3042a236ba0ae5760f,699a29f72decbfc1edabde3042a236ba0ae5760f,"Implement screen process stop() function

Implements screen process stop in ceilometer, cinder, glance, heat, n-vol

Change-Id: Ic5e02926f026d0e6f4b39846bfe77634dd414c60"
vishvananda,2012-09-21 00:23:41,https://api.github.com/repos/openstack/devstack/git/commits/8efdbacce33f86bb319dc50b29501c51fad331c0,8efdbacce33f86bb319dc50b29501c51fad331c0,"Change default zone back to nova

Change-Id: I9a097ab77c6b9fab3f33a245bca3bc0037f67fd1"
therealjrd,2012-09-11 20:13:37,https://api.github.com/repos/openstack/devstack/git/commits/b782a2c0f329653a94e9fcbb9de62659b47cd663,b782a2c0f329653a94e9fcbb9de62659b47cd663,"Update stack.sh to track quantum rootwrap

Resubmit of https://review.openstack.org/12822
Fix bugs 1044084 and 1048483

Copy new conf files into /etc at stack time.
iniset the agents' init files to include new rootwrap conf
Launch agents as regular user, not root
Fix service launch of ovs
Correctly handle qemu.conf permissions

Change-Id: Ib6b8a97698df1b816eecc18d1df11267cb027a3d"
dtroyer,2012-09-17 16:22:21,https://api.github.com/repos/openstack/devstack/git/commits/73f6f25b87d0f06276540b5ea67dc924bebf0581,73f6f25b87d0f06276540b5ea67dc924bebf0581,"Move glance to lib/glance

The next in a line of changes to break down stack.sh and make
it a bit more manageable.

Part of blueprint devstack-modular

Change-Id: Ie0104f0de281497f2c10f653aebb8e7cbedc4204"
steveb,2012-09-17 04:49:24,https://api.github.com/repos/openstack/devstack/git/commits/36cf7ee141204c392499cdd351307d1d7838f087,36cf7ee141204c392499cdd351307d1d7838f087,"Fix the variable used for the service_id of the heat endpoint

Change-Id: I0c8190713722e3bcef19e94629d4f0d4fbfaa8fa"
dtroyer,2012-09-13 22:16:12,https://api.github.com/repos/openstack/devstack/git/commits/7903b795dd4be552e4d21c879958fadc82472259,7903b795dd4be552e4d21c879958fadc82472259,"Add non-verbose output mode

Set VERBOSE=False to turn off the noise of stack.sh output.  All
output still is written to the logfile if LOGFILE is set.

Rebased

Change-Id: I316bc4d68c997ec907a48e720e2f7778428d935b"
suryaprabhakar,2012-09-17 14:55:41,https://api.github.com/repos/openstack/devstack/git/commits/31d31855feb25c23664c191b05f94db626f6495d,31d31855feb25c23664c191b05f94db626f6495d,"Adding ceilometer-api for devstack
unable to use ubuntu repos(apt) since they were having previous
Flask version. Adding it in files/pips/ceilometer-api

Change-Id: Ia397468eacd3cd2b4233617e1ffeb763ac207478"
j-griffith,2012-09-11 20:15:54,https://api.github.com/repos/openstack/devstack/git/commits/d53bedc6bbe4de8daabca2015d05ddda50574ca8,d53bedc6bbe4de8daabca2015d05ddda50574ca8,"Enhance tgt cleanup in unstack.sh

  *Check that tgt driver is in good state when we start
   if not try to just restart it

  *Remove targets based on iqn entries in persist files

  *Remove the persist files themeselves

  *Stop the tgt service

Updated to use *_STATE_DIR vars

Change-Id: I3ba9f2b8c099c7f290696760527fe2147d9b1d38"
jogo,2012-09-14 00:19:03,https://api.github.com/repos/openstack/devstack/git/commits/e5d923808b4f23f82830232914b8c962ddc5cf5a,e5d923808b4f23f82830232914b8c962ddc5cf5a,"Spelling fixes

Change-Id: Ia3c494be4460dc95f1119492dfef730c62467f34"
dtroyer,2012-09-14 16:36:07,https://api.github.com/repos/openstack/devstack/git/commits/636a3ff4294a6841f6076283bbed561dc2676e30,636a3ff4294a6841f6076283bbed561dc2676e30,"Spiff up the upload_image() format handling

* attempt to detect format of *.img files automatically, recognizing:
  qcow2,raw,vdi,vmdk,vpc

Change-Id: I92ec141584ba8237b67ca640e401a1b88860747e"
dtroyer,2012-09-13 19:02:01,https://api.github.com/repos/openstack/devstack/git/commits/50ac792157fa2d86c6bc2cb5866f6767aa861b02,50ac792157fa2d86c6bc2cb5866f6767aa861b02,"Move Glance data and Nova state dirs out of source dir

* allow NOVA_STATE_PATH to be overridden,
  default is now /opt/stack/data/nova
* add NOVA_INSTANCES_PATH to move the instances dir separately
  from the state dir
* allow GLANCE_CACHE_DIR to be overridden,
  default is now /opt/stack/data/glance/cache
* allow GLANCE_IMAGE_DIR to be overridden,
  default is inow /opt/stack/data/glance/images
* set GLANCE_BIN_DIR to support entry points (future)
* allow CINDER_STATE_PATH to be overridden,
  default is now /opt/stack/data/cinder

Change-Id: If95dc19b957ef5b9b14397835cd0543f82717f50"
dtroyer,2012-09-12 19:45:48,https://api.github.com/repos/openstack/devstack/git/commits/834805350a1f75b6a301cc9e6ffb2d6222e423be,834805350a1f75b6a301cc9e6ffb2d6222e423be,"Fix errors in client-* exercises

Change-Id: Ib100c7a2a4bb7f7c02cf4a66cb8bcf506aa11339"
ramielrowe,2012-09-06 19:18:11,https://api.github.com/repos/openstack/devstack/git/commits/98ab500c2c9f1bd98309915643a44bf140a40391,98ab500c2c9f1bd98309915643a44bf140a40391,"prepare_guest_template.sh fails when there are multiple xs-tools iso's in ISO_DIR

In the case of two iso's ('xs-tools-6.0.2.iso' and 'xs-tools-6.0.2-1111.iso'),
TOOLS_ISO gets set to 'xs-tools-6.0.2-1111.iso xs-tools-6.0.2.iso' This causes
'mount -o loop xs-tools-6.0.2-1111.iso xs-tools-6.0.2.iso $TMP_DIR' to get
called, which fails as it's meant to be called with only one file. This fix
simply sets TOOLS_ISO to the first iso that ls returns.

Change-Id: Id4d883e2b1e33b233c9ee907016b4ce117c28021"
dtroyer,2012-09-12 17:34:50,https://api.github.com/repos/openstack/devstack/git/commits/5bc706268f1f1dab489293a6ea9538bf825e0799,5bc706268f1f1dab489293a6ea9538bf825e0799,"Add python-netaddr to horizon requirements

Fixes bug 1036416

Change-Id: I97c1f193d30ad43e434ff33e4aacd1230be0341c"
asalkeld,2012-09-11 01:24:09,https://api.github.com/repos/openstack/devstack/git/commits/e2790210108cf808bcf317aa8fc3bfe926a655a5,e2790210108cf808bcf317aa8fc3bfe926a655a5,"heat had it's api split into two binaries (cfn & cloudwatch)

- Rename heat-api to heat-api-cfn
- Add heat-api-cloudwatch
- Also removed unused heat-engine-paste.ini file.
- Fix the path to the conf dir (etc/heat not etc/)

Change-Id: I9b2c7c5cd7052d5eb6d730833c65812c2f8a0ee1
Signed-off-by: Angus Salkeld <asalkeld@redhat.com>"
dtroyer,2012-09-10 23:30:37,https://api.github.com/repos/openstack/devstack/git/commits/b80379c3fc85d04619bfa81c559a3917eaeb23ce,b80379c3fc85d04619bfa81c559a3917eaeb23ce,"Change default keystone backend to sql

The templated backend for Keystone is limited and does not support the
CRUD operations so does not fully exercise the Identity API.  Change
the default to SQL but leave the templated back-end in place for now.

Set KEYSTONE_CATALOG_BACKEND=template in localrc to restore the old
behaviour.

Change-Id: Id4490194d49b8004583016a9666cb9439cd4700a"
steveb,2012-09-10 22:05:14,https://api.github.com/repos/openstack/devstack/git/commits/8d6c9bcabbd5cd4c4b278a2d541a6569d72af960,8d6c9bcabbd5cd4c4b278a2d541a6569d72af960,"Fix keystone_data.sh to match default_catalog.templates

Endpoint creating in keystone_data.sh tends to drift because
KEYSTONE_CATALOG_BACKEND=sql is not the default.

This patch should bring them closer together, and fix a problem I was having
with keystone auth

Change-Id: Ifac57b8e69234975d1ff65ace72d46d3a5808119"
jogo,2012-09-07 00:41:54,https://api.github.com/repos/openstack/devstack/git/commits/4e30ba886f577f53a9a340c5195d2e40625a6f24,4e30ba886f577f53a9a340c5195d2e40625a6f24,"Switch from root_helper to rootwrap_config

root_helper is deprecated, and has been replaced by
rootwrap_config.

Change-Id: I088ab1c6054fe5bbe0ad3c430432b84c8702fba8"
dtroyer,2012-08-31 23:04:55,https://api.github.com/repos/openstack/devstack/git/commits/d81a0274aa083531bb70a49d77074850e1adfc48,d81a0274aa083531bb70a49d77074850e1adfc48,"Move keystone to lib/keystone

The next in a line of changes to break down stack.sh and make
it a bit more manageable.

Part of blueprint devstack-modular

Change-Id: I40405af07b776f045d6bf801f7e4f1ad863139ae"
vuntz,2012-06-12 11:45:15,https://api.github.com/repos/openstack/devstack/git/commits/71ebc6ff65e6ae3982a7e8a7ecf9ff80fd18d6bb,71ebc6ff65e6ae3982a7e8a7ecf9ff80fd18d6bb,"Add is_package_installed function to know if a package is installed

This helps reduce the distro-dependent code in stack.sh, and also fixes
the bug where ""rpm -qa | grep sudo"" will work if gnome-sudoku is
installed.

Rebased

Change-Id: Ib1330b29b915b41d9724197edd791f0d4e0fe373"
vuntz,2012-06-12 09:30:43,https://api.github.com/repos/openstack/devstack/git/commits/c0482e6efcc34515b9383e6a0de1e03b75d6ce62,c0482e6efcc34515b9383e6a0de1e03b75d6ce62,"Add contitional update package repositories to install_package()

This helps us ensure that we update the repositories only the first time
we need to install packages

Rebased and incorporated into install_package()

Change-Id: Id987aa7742f5d6807bc97eb6784cf18557c919d2"
vishvananda,2012-09-09 06:16:40,https://api.github.com/repos/openstack/devstack/git/commits/3a19d18e41487755e5fd9d48760de6451bb5e6ae,3a19d18e41487755e5fd9d48760de6451bb5e6ae,"Allow empty FLAT_INTERFACE for local-only access

Change-Id: Icdee4ba6419bb89fd128a1dbd9e792fef6a62f23"
dtroyer,2012-09-08 19:20:43,https://api.github.com/repos/openstack/devstack/git/commits/c5dfecd81829a08986ce3e5f2ab2aba4d9909886,c5dfecd81829a08986ce3e5f2ab2aba4d9909886,"Fix RST formatting errors

Clean up some shocco RST errors

Change-Id: I9afa0f155f2bfcc73638ae11447c693579288355"
djipko,2012-09-08 16:36:35,https://api.github.com/repos/openstack/devstack/git/commits/20df2a839d9e890ef5dc065777dcba4642e7416d,20df2a839d9e890ef5dc065777dcba4642e7416d,"Changes the qpid package that gets installed on Fedora

Changes the qpid package that will be installed on Fedora when
running stack.sh. The original package (qpid-cpp-server) was
split up into qpid-cpp-server and qpid-cpp-server-daemon.
systemd unit files were moved into the second package and
if only the first package is installed, qpid service  fails
to start.

Change-Id: Ia7cae795d7e456f0e21e0bedaee583a9e8b35f2d"
russellb,2012-09-07 15:09:06,https://api.github.com/repos/openstack/devstack/git/commits/4797e8f7bc4fb7ac801a7fb2b99bcbd00a2da45f,4797e8f7bc4fb7ac801a7fb2b99bcbd00a2da45f,"Set virt_use_execmem boolean if SELinux is enabled.

If SELinux is enabled, this boolean is required to be able to launch VMs using qemu.
Set the boolean if we're switching the libvirt_type to 'qemu' and SELinux is enabled.

Change-Id: Ieead35aae94c9fa86df1f4829584f71c97dcbeb8"
salv-orlando,2012-08-31 11:55:20,https://api.github.com/repos/openstack/devstack/git/commits/d6767d0d459466ddd84043329cfeaab0b68c2316,d6767d0d459466ddd84043329cfeaab0b68c2316,"Devstack support for Quantum L3 agent

Fixes bug #1036910

Starts the L3 agent for Quantum, if the corresponding service is enabled.
Supports L3 agent with or without namespaces.
Available with openvswitch plugin only at this time.

Change-Id: Ic2dd7a2d32e985c5df0a94eee1ecb602f555cd14"
jk0,2012-09-06 18:47:06,https://api.github.com/repos/openstack/devstack/git/commits/659eabfb6fd9896d90e0ba3267d9e3470002b0d5,659eabfb6fd9896d90e0ba3267d9e3470002b0d5,"Shut down rabbitmq-server when shutting down all services.

Fixes bug 978205.

Change-Id: I688887e4b4426db36438f2bf0e537956f4f94757"
dtroyer,2012-09-06 16:51:30,https://api.github.com/repos/openstack/devstack/git/commits/15733351ad5650fc9ab93eb3b7b405d51ac2a3d6,15733351ad5650fc9ab93eb3b7b405d51ac2a3d6,"Move screen_it() and screen_rc() to functions

Change-Id: I9b119e2c6d4d88a67d485f61662037984c2d9b15"
alaski,2012-09-05 21:23:14,https://api.github.com/repos/openstack/devstack/git/commits/f900bd79463821c8f5a677c566f9af053d81a860,f900bd79463821c8f5a677c566f9af053d81a860,"Add git_update_remote_branch to functions.

When $RECLONE=yes, and the branch specified for a project in stackrc is
a remote branch, the git_clone function would not recognize it as a
branch.  git_clone now attempts to recognize a remote branch and handle
it appropriately.

Change-Id: Ie23ff12eb5a7905088a9c2bb0ea2b02453ec0258"
dtroyer,2012-08-17 19:11:55,https://api.github.com/repos/openstack/devstack/git/commits/96288ba9a9fffa0d45545d091bd9781476503f7c,96288ba9a9fffa0d45545d091bd9781476503f7c,"Clean up security groups in exercises

* fix problem with deleting security groups too early in
  floating_ips.sh and euca.sh
* create and clean up security groups
* cosmetic cleanups

Change-Id: Ie45e03f889c540ec83f27a02b10e787060c5d4d7"
steveb,2012-09-04 20:19:39,https://api.github.com/repos/openstack/devstack/git/commits/694a42a02c36816db524b548e97874eb4b448e51,694a42a02c36816db524b548e97874eb4b448e51,"Fixes for heat keystone registration.

- Pass HEAT_API_PORT into keystone_data.sh from stack.sh
- Use the correct service type in default_catalog.templates key

Change-Id: I17dad3a0255dc0307b052927a8ad1971cb9142a8"
dtroyer,2012-09-04 19:19:24,https://api.github.com/repos/openstack/devstack/git/commits/1de40cf69110c1ca58844c6731dd820488594fad,1de40cf69110c1ca58844c6731dd820488594fad,"Fix start_XXXX function header

Change-Id: I14e1f80d327e723408993a955d9fce9501ba8ef5"
kk7ds,2012-09-04 17:18:18,https://api.github.com/repos/openstack/devstack/git/commits/88ae3761dd370f6979047ae4fc33cf126518a3a7,88ae3761dd370f6979047ae4fc33cf126518a3a7,"Support new allow_tenant_reuse parameter in tempest config

This adds support for setting the above-mentioned attribute, which
was added in tempest recently.

Change-Id: I14fe21f97d1c57f538254fa0420e9bc56115fc3b"
dtroyer,2012-08-31 15:55:36,https://api.github.com/repos/openstack/devstack/git/commits/5547baa5bb26a58d0eea6cf73adfad4866ac8fde,5547baa5bb26a58d0eea6cf73adfad4866ac8fde,"Freshen samples

Tend the bit rot in the sample local.sh and localrc files.

Change-Id: I58bc3929629d088ac1c3f1dc355c5bec2c6e6b98"
dtroyer,2012-08-17 18:12:38,https://api.github.com/repos/openstack/devstack/git/commits/5bf7d5ccb297bcfe4d429be4bacce2f0b9d04687,5bf7d5ccb297bcfe4d429be4bacce2f0b9d04687,"Move nova volumes to lib/n-vol

The next in a line of changes to break down stack.sh and make
it a bit more manageable.

Part of blueprint devstack-modular

Change-Id: I9f7ba23391851959412779f842934f5b26724713"
bcwaldon,2012-08-30 20:44:39,https://api.github.com/repos/openstack/devstack/git/commits/ea78a6a1ed1f9b6da1716e6422a0ff676f96c9ed,ea78a6a1ed1f9b6da1716e6422a0ff676f96c9ed,"Configure Glance caching and cachemanagement

This configures and enables Glance's image caching layer.
* Set glance-api paste flavor to keystone+cachemanagement
* Copy glance-cache.conf into config dir
* Set appropriate values in glance-cache.conf

Change-Id: I230a984a08618c554727584538ed35d72f9bfbd5"
bcwaldon,2012-08-29 20:30:03,https://api.github.com/repos/openstack/devstack/git/commits/0fe0606a8fb6bfd01fbdbc0f81bb7f481524faac,0fe0606a8fb6bfd01fbdbc0f81bb7f481524faac,"Set glance authtoken in config, not paste

Glance can use the keystone_authtoken config section in
glance-api-conf and glance-registry.conf instead of having
to write into paste files.

Change-Id: Iaf372f3a01558b8305b5c5f5f64113a3674e9782"
dtroyer,2012-08-29 20:20:21,https://api.github.com/repos/openstack/devstack/git/commits/05f23656d016f99c56b1a9c193c5715d6d614529,05f23656d016f99c56b1a9c193c5715d6d614529,"Add lib/template

Add a template for the lib/* sub-scripts and a description
to HACKING.

Change-Id: Ia490de8e565982c517525e09d8941a847ba530aa"
dtroyer,2012-08-28 22:43:40,https://api.github.com/repos/openstack/devstack/git/commits/4a43b7bd90f8e42baaf950a8177cb13fc30f5f2f,4a43b7bd90f8e42baaf950a8177cb13fc30f5f2f,"Cosmetic, comment and text cleanups

* functions
* stack.sh
* stackrc
* unstack.sh

A recent commit to stack.sh broke the RST formatting done by shocco to
produce the HTML-formatted files on devstack.org.  A bunch of comment
and spacing fixes were done (ala pep8 if there were such a thing for
shell scripts).

The only non-comment changes made were to the content of some error
messages.

Fixes bug 1042271

Change-Id: Id1c74cf25c03c4f18ed741f8026e36b0d4a598dd"
steveb,2012-08-17 21:00:42,https://api.github.com/repos/openstack/devstack/git/commits/bfdad75eda98c5eec4c7a59ad7dd7ac45a5712cf,bfdad75eda98c5eec4c7a59ad7dd7ac45a5712cf,"Add support to optionally launch the heat service.

This allows the heat service to be started as a devstack service.

Heat is disabled by default, and can be enabled with this in your localrc:
ENABLED_SERVICES+=,heat

There is now a repo of heat-enabled images here:
https://github.com/heat-api/prebuilt-jeos-images/downloads

These can be added to the IMAGE_URLS in your localrc.

After devstack is launched, a template can be invoked with:
nova keypair-add --pub_key $HOME/.ssh/id_rsa.pub heat_key
heat -d create wordpress \
--template-file=../heat/templates/WordPress_Single_Instance.template \
--parameters=""InstanceType=m1.tiny;DBUsername=wpuser;DBPassword=wppassword;\
KeyName=heat_key;LinuxDistribution=F16""

Change-Id: I07591295eb2b9eb7868b1577dd3c24b19812a689"
j-griffith,2012-08-21 21:26:15,https://api.github.com/repos/openstack/devstack/git/commits/43bedda56c8a695a7362cd0ceaa499bb58bc0020,43bedda56c8a695a7362cd0ceaa499bb58bc0020,"Add standard extensions to cinder.conf

  * Set the standard extensions in the default cinder.conf file

Change-Id: Ib56f38b61a7a95b313031bf60bff005b17b888c4"
emonty,2012-08-17 16:52:27,https://api.github.com/repos/openstack/devstack/git/commits/9fbeeddc3b6ea28c06d5468b0bc28966d4fbc6ce,9fbeeddc3b6ea28c06d5468b0bc28966d4fbc6ce,"Support the possibility of using entry-points.

If console scripts are generated via entry-points, they will go into
/usr/local/bin on python setup.py develop and they will not be found in
/opt/stack/$PROJECT/bin any more. This patch supports a transition to
entry-points console scripts, but should still allow the old thing too.

Change-Id: I816f5f796ad00ac55a8352743ba01723df140072"
dtroyer,2012-04-13 20:58:37,https://api.github.com/repos/openstack/devstack/git/commits/ca0e3d0230879fbad55472f742d3166a5579208c,ca0e3d0230879fbad55472f742d3166a5579208c,"Add tools/upload_image.sh

* moves the image upload logic from stack.sh to functions upload_image()
* tools/upload_image.sh which is a thin wrapper around upload_image()

Change-Id: I8746beebf50cf623b6fe903d6497e66e3fa5dda6"
chmouel,2012-08-03 11:42:51,https://api.github.com/repos/openstack/devstack/git/commits/1057bffa37cd2cbda088f747cd81122b42ff22a6,1057bffa37cd2cbda088f747cd81122b42ff22a6,"Add log colouring to cinder.

- based on vish's log coulouring version for nova.

Change-Id: I9d4251b4292188c0174ebac1dcd98318df44c0e3"
AevaOnline,2012-08-15 23:38:29,https://api.github.com/repos/openstack/devstack/git/commits/2700492c349c32a4e3a93a327231256c8db50ec5,2700492c349c32a4e3a93a327231256c8db50ec5,"Fix tools/configure_tempest FLAVOR_LIST

Correct the grep expression in tools/configure_tempest.sh
which generates the FLAVORS that tempest will boot.

Fixes bug 1037347

Change-Id: I50352fd23ca1e5332592bb343821c6355b274e9f"
jhtran,2012-07-26 18:22:05,https://api.github.com/repos/openstack/devstack/git/commits/93361643c6f06319fd3b6b7bb8aff48eb0473edd,93361643c6f06319fd3b6b7bb8aff48eb0473edd,"Add ceilometer

Implements bug 1023972. Add mongodb and pymongo installation.

Change-Id: I631dc8a37f3269e55112ec5a5f375d3a2fd3a604"
markmcclain,2012-08-13 15:34:01,https://api.github.com/repos/openstack/devstack/git/commits/2053753baf197bd1f7f51b361eda24910b3f7c94,2053753baf197bd1f7f51b361eda24910b3f7c94,"Update stack.sh to pass quantum.conf to DHCP agent

The DHCP agent now utiliizes the the main Quantum configuration file to
get RPC information.

Change-Id: Ia42350d7d18ff25a77712a43ff20bc4669174380"
steveb,2012-08-12 03:25:17,https://api.github.com/repos/openstack/devstack/git/commits/c29e3df0f1267f612b112e0bd23da6facafd79d6,c29e3df0f1267f612b112e0bd23da6facafd79d6,"Fix for glance image-create of *.qcow2 and *.img files

Currently *.qcow2 and *.img files in IMAGE_URLS are piped into glance
using zcat, which fails and leaves the image in a perpetual SAVING state.

This change makes only *.img.gz files use zcat.

Change-Id: I6e02ccff93a42bbc149d8f1058bba7825c910e05"
vishvananda,2012-08-10 22:31:19,https://api.github.com/repos/openstack/devstack/git/commits/7b0f002b7cf38b261e645ebb0adcbd0679a213d7,7b0f002b7cf38b261e645ebb0adcbd0679a213d7,"Turn off caching of the token by default

Change-Id: I176f4595370b37e7928a96dd89629830aeae6dae"
chmouel,2012-08-06 10:07:43,https://api.github.com/repos/openstack/devstack/git/commits/84394b9f8f0894eb174b3d002ae833c33aa37fab,84394b9f8f0894eb174b3d002ae833c33aa37fab,"Use keystoneauth middleware from swift.

- We have moved swift to keystone middleware to swift use it.
- Should be referenced now as keystoneauth.
- Make swift-init silently pass in unstack even when swift was not yet
  installed.

Change-Id: Ibf9443608b7aa81be5f48f555e95ff5f4c8065bd"
rohit-k,2012-08-08 09:34:51,https://api.github.com/repos/openstack/devstack/git/commits/2eb9a13cce822251fd8e3115bf71ee62b777c265,2eb9a13cce822251fd8e3115bf71ee62b777c265,"Splits out build config params in Tempest.

The build parameters for instances and volumes should be configured separately.

This patch adds the following Tempest vars:
COMPUTE_BUILD_INTERVAL
COMPUTE_BUILD_TIMEOUT
VOLUME_BUILD_INTERVAL
VOLUME_BUILD_TIMEOUT

Change-Id: Ia5357114f8e4248a8de4bd0327e08323c487e897"
saschpe,2012-07-18 11:27:32,https://api.github.com/repos/openstack/devstack/git/commits/5da67fe42f88987875bbfa40d9c81a7519e72abc,5da67fe42f88987875bbfa40d9c81a7519e72abc,"Use right service name when stopping tgt in unstack.sh

On non-deb systems, 'tgt' is 'tgtd'.

Change-Id: I357b47cf117a5e615eb4af9603b7c5670e5cff1c"
vuntz,2012-08-07 07:43:22,https://api.github.com/repos/openstack/devstack/git/commits/d1804b32fbf462161caa314a7d20494321eb721b,d1804b32fbf462161caa314a7d20494321eb721b,"Add Vincent Untz to AUTHORS

Several of my patches are in already.

Change-Id: I0b96f4d262205346e112ec8ac23dd7d5a0f252dd"
AevaOnline,2012-07-07 00:49:12,https://api.github.com/repos/openstack/devstack/git/commits/c0c6f00698ca88f3c88f90ba211b234096eb3ac6,c0c6f00698ca88f3c88f90ba211b234096eb3ac6,"enable testing of openvz guests

This patch adds several options to allow using OpenVZ virt layer.
- modifies stack.sh and stackrc to recognize a new VIRT_TYPE option
- set IMAGE_URLS to an openvz image, if VIRT_TYPE == openvz

It also makes a few changes to some tests so that some implicit
defaults (such as the guest user account) can be overridden.

Change-Id: I0dde2dffbf3848fac1dd27eb37af84c0ac73d9aa"
bcwaldon,2012-08-03 19:56:21,https://api.github.com/repos/openstack/devstack/git/commits/2163aa18579a1a76161cc14d3d79f93c13d3d993,2163aa18579a1a76161cc14d3d79f93c13d3d993,"Change glance client flag --public to --is-public

The --public flag is deprecated. Let's not use it.

Change-Id: Ic6785ec2d1d5d3f7ab7cf2f584010ac38e339e0a"
vuntz,2012-06-13 15:45:43,https://api.github.com/repos/openstack/devstack/git/commits/f2a25b776bd1e7bffadf6939ffdc76384da34848,f2a25b776bd1e7bffadf6939ffdc76384da34848,"Ensure that we have access to sbin binaries through sudo

We need to add the sbin paths to the secure path in sudoers for the user
running the script, to make sure that running sbin binaries from sudo
will work.

Change-Id: I7942407df768bfa8dd035f15fa8b43ba05319779"
jaypipes,2012-08-01 15:55:12,https://api.github.com/repos/openstack/devstack/git/commits/4ba6eeb53afe4b06f87f034cfe2d9cd82eb1634f,4ba6eeb53afe4b06f87f034cfe2d9cd82eb1634f,"Adds compute whitebox configuration options

Adds the following options to the tempest configuration
file:

COMPUTE_CONFIG_PATH
COMPUTE_SOURCE_DIR
COMPUTE_WHITEBOX_ENABLED
COMPUTE_PATH_TO_PRIVATE_KEY
COMPUTE_DB_URI
COMPUTE_BIN_DIR

These options are used in an upcoming Tempest patchset

Change-Id: I50409d03255b92f154112b57e96ad71f8542ac96"
dtroyer,2012-07-06 20:09:10,https://api.github.com/repos/openstack/devstack/git/commits/05530caf2cc12716f6b22c103212ba3ea7fe7910,05530caf2cc12716f6b22c103212ba3ea7fe7910,"Source functions before stackrc

The enable_service() and disable_service() functions in
https://review.openstack.org/9407 require the functions
file be sourced before stackrc.

* exercise.sh
* samples/local.sh (this will require manual addition to the user's
  local.sh if they based it on the sample)
* tools/build_bm.sh

Change-Id: I1bed687867e870bef5748289d712376435a776af"
dtroyer,2012-07-19 23:35:50,https://api.github.com/repos/openstack/devstack/git/commits/32c520f46d25dd95db1fd2283e5621068d9223f3,32c520f46d25dd95db1fd2283e5621068d9223f3,"Add bridge-utils to deps for Ubuntu and Fedora.

They don't always get installed via dependencies any more.

Change-Id: I46f333c79ecccca9e10170d06039611fad5813dc"
jogo,2012-08-01 23:13:42,https://api.github.com/repos/openstack/devstack/git/commits/b7ef539b126e845ceeb2a724e8abc0d2e5e36a14,b7ef539b126e845ceeb2a724e8abc0d2e5e36a14,"Improve exercises/aggregates.sh

* Update for blueprint general-host-aggregates
* Test for add/remove hosts
* Now uses nova host-list

Change-Id: Id6fef649c13032cf9148d7152fa2b28654717892"
rohit-k,2012-07-31 13:20:35,https://api.github.com/repos/openstack/devstack/git/commits/5ef90475937a0ac6b7b160cd2385c406d93a64c4,5ef90475937a0ac6b7b160cd2385c406d93a64c4,"Adds parameter interpolation for Tempest config

Adds Tempest variable for Volume catalog Type

Change-Id: I4ab968f30146bd9e40533d67dba49114649f029d"
habuka036,2012-07-25 03:39:32,https://api.github.com/repos/openstack/devstack/git/commits/7abe4f24a3b77a1507ab0d1c994c3f5052aa0fe9,7abe4f24a3b77a1507ab0d1c994c3f5052aa0fe9,"support no_proxy environment variable

Change-Id: I5175f9752abe358cca0d2e3e5cf6d94605df451a"
vishvananda,2012-07-03 20:29:01,https://api.github.com/repos/openstack/devstack/git/commits/c9ad14bd3879e54c30cc88b186128dca3f6ab21a,c9ad14bd3879e54c30cc88b186128dca3f6ab21a,"Use default route to find HOST_IP

When running devstack, nova moves the host ip from eth0 onto the
bridge. This causes devstack to fail on the second run unless you
explicitly set HOST_IP in localrc.

This patch searches for an ip on the interface that is used for
the default route. This will be eth0 (or en0) in most cases, but
it will search br100 instead if nova has moved the ip, since it
moves the default route as well.

It also will filter out ips from the potential list that are part
of the fixed range and floating range if the netaddr library is
installed. This allows us to find the proper ip even if we have
accidentally left a floating ip or fixed ip on the bridge.

Change-Id: I13288e53ee2786c5ae0edb3f9ab457be8303f1f6"
amotoki,2012-07-25 08:53:40,https://api.github.com/repos/openstack/devstack/git/commits/1a4166ca66e71e5ed57ace68f4bfea9af2346ce1,1a4166ca66e71e5ed57ace68f4bfea9af2346ce1,"Enables keystone-enabled Quantum in devstack.

Fixes bug 1028075.

Whether keystone is enabled for Quantum is determined according to Q_AUTH_STRATEGY.
* 'keystone' (default): Enables authN with keystone for Quantum
* 'noauth': No authN used by Quantum.

Change-Id: Icfc77089e085b43e97601869d9c61c9f4da1164b"
emonty,2012-07-26 18:22:42,https://api.github.com/repos/openstack/devstack/git/commits/e9659e503ebaad23db0ed2a3489ece204b0f1640,e9659e503ebaad23db0ed2a3489ece204b0f1640,"Add python-cmd2 install for openstackclient.

Change-Id: I5cf6772c6fa1c813efa4993bd0461c45bbaae4ea"
emonty,2012-07-26 16:09:24,https://api.github.com/repos/openstack/devstack/git/commits/47f02060ad0500ccb2d4ceeb6015ad7a4c56b4e9,47f02060ad0500ccb2d4ceeb6015ad7a4c56b4e9,"Optionally install all pip into a global venv.

This is useful for tracking what pip is causing to be
installed over and beyond os pacakges.

In support of this, move all package installation to before
the section where we install via pip. Leave the deferred configuration
until later though.

Change-Id: I89677fd54635e82b10ab674ddeb9ffb3f1a755f0"
emonty,2012-07-26 14:21:01,https://api.github.com/repos/openstack/devstack/git/commits/d5b18ecb724ba64a57a7bf97f4982b670d639da5,d5b18ecb724ba64a57a7bf97f4982b670d639da5,"Add ability to override base git location.

Change-Id: I823cf5ac467e903677783aee082785ec85c36186"
j-griffith,2012-07-11 19:21:08,https://api.github.com/repos/openstack/devstack/git/commits/d586e1c2b9f33a63237a2ccd5f3440522360aa96,d586e1c2b9f33a63237a2ccd5f3440522360aa96,"Change default volume service to Cinder

  * Modifies stackrc to load Cinder instead of n-vol by default
  * Depends on https://review.openstack.org/#/c/9746/
  * Depends on https://review.openstack.org/#/c/9747/

Change-Id: I1fcb4bd274311d048dee54826b6408e5abb493d2"
davidkranz,2012-07-24 13:15:44,https://api.github.com/repos/openstack/devstack/git/commits/686f98ea10e137669cc09e903944261ce6fbc2c5,686f98ea10e137669cc09e903944261ce6fbc2c5,"Add flag for availablility of change password API.

Change-Id: Ic63754050ef4a5838144edd1d24a2e9206cc0fa5"
j-griffith,2012-07-20 19:18:17,https://api.github.com/repos/openstack/devstack/git/commits/4e823ff4ad8fb22602c6d70c02b5910e0ad467ef,4e823ff4ad8fb22602c6d70c02b5910e0ad467ef,"Add Cinder to ROOTWRAP_SUDOERS

 * Perform operations in lib/cinder
 * Use specific cidner-rootwrap file
 * Add root_helper to cinder.conf

Change-Id: Ibcae8bae2d06c9cbb4c41c39791e8dbdc8bbb0ac"
chmouel,2012-07-20 15:00:02,https://api.github.com/repos/openstack/devstack/git/commits/d55509d46e59b1b734605965fae3bc5d94161ce9,d55509d46e59b1b734605965fae3bc5d94161ce9,"Use c-api for service when creating cinder user.

- cinder is not a service but c-api is.

Change-Id: I580fe91216d3fa066120dc774811bfe08119ca02"
vuntz,2012-06-14 08:07:42,https://api.github.com/repos/openstack/devstack/git/commits/6a57f2649d6d8b28c8fa1a03c8b5eb8b8b6789aa,6a57f2649d6d8b28c8fa1a03c8b5eb8b8b6789aa,"Use latin1 character set when creating the nova database

Nova expects the latin1 character set to be used in its database by
default and then alters the database to utf8 when upgrading the
database (in 082_essex.py).

Nova works this way to work around bug 829209 (""Specified key was too
long"" errors) that will be hit with the dns_domains table.

Change-Id: I81e6ed476e8a310fe01809e9afcc2c8d5360e9df"
zhang-hua,2012-07-02 05:57:53,https://api.github.com/repos/openstack/devstack/git/commits/91b0acdefff432edf0021b00fe535637ecb8d789,91b0acdefff432edf0021b00fe535637ecb8d789,"Allow wget to handle Non-English output

The stack.sh has a loop to wait for keystone to start. But the output of wget tool has been globalized
which means it won't return the English word 'refused' on Non-English environment even the keystone is
not up. So the script will assume the keystone has been started and continue. The command of keystone
tenant-create always failed immediately after skipping this loop since it require keystone to be started
to authenticate. That's why you can see authentication error in the log because the tenant information
was not correctly set up.

Fix bug 1019942

Change-Id: Icc2bd9551e235173683e3677880c2641faee62a9"
chmouel,2012-07-03 16:20:41,https://api.github.com/repos/openstack/devstack/git/commits/3aabdbad1d1b73144ad5aad522706dd473ff5bb4,3aabdbad1d1b73144ad5aad522706dd473ff5bb4,"Enable delay_auth_decision for swift/auth_token.

- Add delay_auth_decision=1 in swift proxy configuration to allow
  anonymous access or tempurl.

Rebased

Change-Id: I6a97d0ff6d24a3ffef56d3d426683e48206eff71"
vuntz,2012-06-14 06:51:01,https://api.github.com/repos/openstack/devstack/git/commits/0230aa899bb6900ca5c343d6360e79e205ac8f2c,0230aa899bb6900ca5c343d6360e79e205ac8f2c,"Start tgtd service after installing the rpm

The later call to tgtadm needs the daemon to be running, and the rpm
package doesn't start it.

Rebased and add a corresponding change for cinder.

Change-Id: Ia72b935575ed8b7c635e8f8edeea835754b2d49f"
saschpe,2012-06-21 14:09:27,https://api.github.com/repos/openstack/devstack/git/commits/345363023da70404180dc645538547a84fa326e2,345363023da70404180dc645538547a84fa326e2,"Set a valid / unique SECRET_KEY others than the empty default.

Django's default SECRET_KEY is an empty string, which is actually not
secure. Use horizon.util.secret key to generate a unique key and store
it securely.

Change-Id: I7b6deed7db6136ee15ac7ea315019a5b78698f7d"
jeblair,2012-07-16 21:28:24,https://api.github.com/repos/openstack/devstack/git/commits/3b73df764686b592f84ea6da1d5f0c1ca37f2fed,3b73df764686b592f84ea6da1d5f0c1ca37f2fed,"Don't setup swift3 if it's not being used.

""setup_develop"" was still being called for swift3, even if it's
not in enabled services.  This wraps that call in an
""is_service_enbled"" conditional so that stack.sh doesn't attempt
to set it up if it's not enabled.

- Fixes bug 1021150.

Change-Id: I26ed1a1e73eee24da78580eda3b13e5d3eb65361"
aaronorosen,2012-07-06 20:08:49,https://api.github.com/repos/openstack/devstack/git/commits/9313dfac0358503b679090aba3884937c7d1d813,9313dfac0358503b679090aba3884937c7d1d813,"devstack support for v2 nova/quantum integration

Adds support to use v1 or v2 quantum api via  NOVA_USE_QUANTUM_API

This fixes bug 1017760

Change-Id: Iaf77b830edc51fd4c820ddff9e1f482bc4c9904d"
russellb,2012-07-12 15:06:50,https://api.github.com/repos/openstack/devstack/git/commits/e80c0be554a54337b6300c6429d037f61cfc90b0,e80c0be554a54337b6300c6429d037f61cfc90b0,"Set libvirt_cpu_mode=none in nova.conf.

This patch sets the libvirt cpu mode to ""none"" unconditionally.  Optimal
CPU performance isn't really critical with devstack.  Without this
option, we are getting some devstack failures on some of the cloud
providers used by jenkins.

Fixes bug 1023513.

Change-Id: I01dc89a3edc6f118e248a965db858b26acbfeafe"
chmouel,2012-07-12 05:22:44,https://api.github.com/repos/openstack/devstack/git/commits/2a5f681be6f7a9fc1858ab5b9e20a9e20df1c696,2a5f681be6f7a9fc1858ab5b9e20a9e20df1c696,"Use swift-init to kill swift processes.

- That pkill wasn't working.

Change-Id: Ibcb6fc6d9433dca08e0584ae811a2ca276cc469a"
chmouel,2012-07-05 06:50:51,https://api.github.com/repos/openstack/devstack/git/commits/6ae9ea595b346a6ce0d37a8104b67405293c8411,6ae9ea595b346a6ce0d37a8104b67405293c8411,"Disable swift3 by default.

- Disable swift3 by default but add a new service `swift3` to enable it.
- Fixes bug 1021150.

Change-Id: I6b635008659e1a77fdfce364dfceaca593273c54"
dtroyer,2012-07-09 19:07:23,https://api.github.com/repos/openstack/devstack/git/commits/a9e0a488cf72431aabc972f7aac76abb56aaba02,a9e0a488cf72431aabc972f7aac76abb56aaba02,"Update info.sh

* Works properly on Fedora 17 now, possibly other RPM-based distros
* Add GetDistro() function taken from logic in stack.sh
* Source functions in tools/info.sh
* Use GetDistro() and get_packages() in tools/info.sh
* Report all installed pips
* Don't sort localrc output as order is important

Change-Id: I1b3e48e94786378c7313a0a6bea88d5cf9d0f0c0"
gabrielhurley,2012-07-09 03:03:55,https://api.github.com/repos/openstack/devstack/git/commits/8156062dc4f0e8338590dcb74cfade5af31daa8a,8156062dc4f0e8338590dcb74cfade5af31daa8a,"Run syncdb command without user input.

Change-Id: Ic21455e640ece9d77409a2589c531d124f7d2a1b"
jaypipes,2012-07-09 01:04:12,https://api.github.com/repos/openstack/devstack/git/commits/3edd5b41bcb969bc6f8403b03ae41700701fac1c,3edd5b41bcb969bc6f8403b03ae41700701fac1c,"Adds new parameter interpolations for tempest config

Tempest recently added a number of new config variables
and this patch merely adds those variables to the
template replacement process in tools/configure_tempest.sh

This needs to go in before this:

https://review.openstack.org/#/c/8738/2

Additionally, this patch sets the build_interval to 3
and the build_timeout to 400. This faster status check
interval should allow Tempest to run a bit quicker in the
Jenkins gate job.

Change-Id: I8835ccdee6af58da66c6327ddae8a05b6789d454"
dtroyer,2012-07-06 14:39:07,https://api.github.com/repos/openstack/devstack/git/commits/1214d9d05a1f61752f8723ceefa8d55e890268dc,1214d9d05a1f61752f8723ceefa8d55e890268dc,"Define DEST in stackrc

Move the initial definition of DEST so it is available in localrc and
the tools/*.sh scripts.

Change-Id: Ifc1b3cf3c3cd7b732007e83e74710f14f20f7624"
dtroyer,2012-06-27 22:55:52,https://api.github.com/repos/openstack/devstack/git/commits/7d28a0e1fceae826b4c25fbd4236bcb547ade92d,7d28a0e1fceae826b4c25fbd4236bcb547ade92d,"Cleanup stack/unstack

* whitespace and comment cleanups only

Change-Id: I31b3057657bb3bc5c4e085886ef6ac561967706f"
vuntz,2012-06-12 12:21:18,https://api.github.com/repos/openstack/devstack/git/commits/e29b94e26eb3fd98f18cd9b6a8f765bf4e241f54,e29b94e26eb3fd98f18cd9b6a8f765bf4e241f54,"Do not pass -U to useradd

The -U option doesn't have the same meaning on all distributions,
unfortunately: in some cases, it means ""create a group for the user with
the same name"", and in others, it means ""default umask for the user"".

Instead, manually create a stack group with groupadd.

Change-Id: I32f4c0603785e54a465c2d3b47a1852b8635fde0"
vuntz,2012-07-04 10:27:42,https://api.github.com/repos/openstack/devstack/git/commits/03086e18b4ea63e7b3a398e7edead425087410f2,03086e18b4ea63e7b3a398e7edead425087410f2,"Add tar to list of packages to install

It turns out a minimal Fedora installation doesn't have tar by default.
Since we use tar when uploading the default image to glance, we need to
make sure it's installed. And since it might be useful for other very
generic tasks DevStack might do, just always install it (by putting it
in the general list of packages).

Change-Id: I4dae3b43a700d80b8752a5b846a6ce302fadb751"
sleepsonthefloor,2012-07-03 20:57:39,https://api.github.com/repos/openstack/devstack/git/commits/1cdf5fa4b5cef19672786ef3073fae8faf4172e4,1cdf5fa4b5cef19672786ef3073fae8faf4172e4,"Register cinder when using sql keystone catalog.

* Fixes bug #1020735

Change-Id: Ibd954cdda3c855800ae1080950c62dd71b094a01"
vuntz,2012-06-29 13:04:19,https://api.github.com/repos/openstack/devstack/git/commits/9604b7427199a3dd65f67f7f32b423cdac4479ff,9604b7427199a3dd65f67f7f32b423cdac4479ff,"Stop avoiding calling systemctl for tgtd on Fedora

The bug that lead to this workaround was fixed and an update is
available for Fedora:
  https://bugzilla.redhat.com/show_bug.cgi?id=797913

Keeping this workaround would be annoying as --skip-redirect doesn't
exist on all rpm-based distributions, and we'd have to remember using it
everywhere we interact with the tgtd service.

Change-Id: I22a5d4fe154ea04bd35d89db6d63734b5bd405aa"
dtroyer,2012-06-28 22:50:28,https://api.github.com/repos/openstack/devstack/git/commits/5cc2129c4b160b3d03c5514abc9cda1ca263071c,5cc2129c4b160b3d03c5514abc9cda1ca263071c,"Fix keystone auth failures

Set up environment credentials after keystone is initialized

Fixes bug 1019056

Change-Id: Ifd0080f102e08c1f5517a08681ac277709f191c0"
dtroyer,2012-06-14 20:23:24,https://api.github.com/repos/openstack/devstack/git/commits/7e27051ccb125de4e419cc9b6d33528ca66b9774,7e27051ccb125de4e419cc9b6d33528ca66b9774,"Move get_packages() to functions.

This is a prerequisite to fixing the tools/build_uec* scripts to properly
install prereq packages.

Change-Id: I1c60f7b9a9d07076841d9aff524c0833dc987c66"
dtroyer,2012-06-28 03:07:34,https://api.github.com/repos/openstack/devstack/git/commits/e62ba4d312e3bb9ea6d754b6267f57b793ad0f60,e62ba4d312e3bb9ea6d754b6267f57b793ad0f60,"Cleanup tools scripts

* whitespace and comment cleanups only

Change-Id: I4e631e9a9b8151758dc8c96b3aef76b963d5ea7e"
dtroyer,2012-06-28 03:04:40,https://api.github.com/repos/openstack/devstack/git/commits/ad101767b7f611ad5ac9a7972b74d6221b962908,ad101767b7f611ad5ac9a7972b74d6221b962908,"Cleanup exercise scripts

* whitespace and comment cleanups only

Change-Id: Iab9c2d9a25c3473f14190d60f2f2cf5be0ed59dc"
dtroyer,2012-06-27 22:55:15,https://api.github.com/repos/openstack/devstack/git/commits/e26232bc9283a6f26a4d37bc0451b2fe06968bad,e26232bc9283a6f26a4d37bc0451b2fe06968bad,"Move DEST ahead of stack account creation

Change-Id: I25892e8a9249d3d421062d910d53b8de8134ef80"
chmouel,2012-06-27 09:01:40,https://api.github.com/repos/openstack/devstack/git/commits/c4cd4140d3bb64a02321918df2f0f9258c6c4148,c4cd4140d3bb64a02321918df2f0f9258c6c4148,"Allow removing services explicitly.

- When adding a - (hyphen) at the begining of a service in
  ENABLED_SERVICES the service will be removed explicitly.

Change-Id: I69ce082d13b79aa88426e8012a941c4ae99741f6"
dtroyer,2012-06-26 18:05:33,https://api.github.com/repos/openstack/devstack/git/commits/a34961b07446b47c11cfec151d12f17a1e267c4d,a34961b07446b47c11cfec151d12f17a1e267c4d,"Install glanceclient before horizon tries to

Change-Id: I6e8434ee3cce07b740c9c83380114ad6ed4375b0"
jeblair,2012-06-22 22:28:29,https://api.github.com/repos/openstack/devstack/git/commits/94cb960009cabe0afbf35bd843ae7580fbbd56d1,94cb960009cabe0afbf35bd843ae7580fbbd56d1,"Add ERROR_ON_CLONE.

This lets the user assert that stack.sh should never need to clone
any git repositories.  If set to True, and devstack does need to
clone a git repo, stack.sh will exit with an error.

This is useful in testing environments to make sure that the correct
code is being tested instead of silently falling back on cloning
from the public repos.

Change-Id: Ic0312ab4df492c5cf2e04c08aa7669a81736daa6"
aaronorosen,2012-06-19 23:09:40,https://api.github.com/repos/openstack/devstack/git/commits/4402d6e9d7d1ac5cb29e48e4c3e1341623110fd7,4402d6e9d7d1ac5cb29e48e4c3e1341623110fd7,"update stack.sh due to quantum changes

The following git commit a86c31ba1544528cd8473896076e8b1b4ef14bce
changes the following variables in ovs_quantum_plugin.ini from
(enable-tunneling, local-ip) to enable_tunneling, local_ip).
Therefore the quantum configuration section of stack.sh needs
to also update these variable names.

Fixes bug 1015333

Removes the logic used for plugins.ini which is no
longer needed and adds a mv to copy policy.json

Fixes bug 1015418

Change-Id: Ib4f39b3095bab3db116395e750cef695113340e8"
ttx,2012-06-22 13:30:28,https://api.github.com/repos/openstack/devstack/git/commits/76a9eaf72b42b289205376a04abcda61d45a664c,76a9eaf72b42b289205376a04abcda61d45a664c,"Support last version of upcoming rootwrap changes

Hopefully last adjustment needed to support the upcoming rootwrap
changes at https://review.openstack.org/#/c/8747/. I think core
reviewers there finally agree on where things should live and how they
should be named.

Change-Id: If8814ca0d147856aeed37676e9c3de4767b561c0"
dtroyer,2012-06-21 14:57:43,https://api.github.com/repos/openstack/devstack/git/commits/4a1f5a723db8cc7508e58e9063555700eb29476c,4a1f5a723db8cc7508e58e9063555700eb29476c,"Add f17 to tested distro list

Change-Id: I2cbd1f90a0986936fa3e6139f789c1274aead627"
gabrielhurley,2012-06-20 20:14:38,https://api.github.com/repos/openstack/devstack/git/commits/8b3f438ab83cad88f745bdf9f4f5dc55bdd4ff57,8b3f438ab83cad88f745bdf9f4f5dc55bdd4ff57,"Execute Horizon bin script with correct group.

Fixes bug 1014735.

Change-Id: I21217fd722ca85124818c1347680734ccd152eb8"
dtroyer,2012-05-02 16:48:15,https://api.github.com/repos/openstack/devstack/git/commits/67787e6b4c6f31388cbee6d83b67371b31c443d4,67787e6b4c6f31388cbee6d83b67371b31c443d4,"Add cinder support

* using the new functional pattern: cinder_XXX functions are in
  lib/cinder
* enable with 'c-api,c-sch,c-vol' in ENABLED_SERVICES, n-vol is still the default
* exercises/volumes.sh runs for cinder and n-vol
* move config to /etc/cinder
* change volume_group to stack-volumes; this also renames the backing file
  to /opt/stack/data/stack-volumes-backing-file.
* removes osapi_volume from nova.conf enabled_apis
* integrates cinder + keystone
* launches c-sch
* tweaks for multi node
* move enabled_apis substitution to init_cinder

18Jun2010
* restored & rebased
* update setup.py to use setup_develop() in lib/cinder

Change-Id: I1e1aa4387031c56e4fa239eb73bea2af8cef0e38"
ttx,2012-06-20 16:17:03,https://api.github.com/repos/openstack/devstack/git/commits/be5d3f23beb24836074b3de450b46e70cd50ad79,be5d3f23beb24836074b3de450b46e70cd50ad79,"Adjust support for upcoming rootwrap changes

Adjust the recently-added support for upcoming nova-rootwrap changes to
match the latest proposed implementation. We now have a rootwrap.conf
configuration files that must point to the directory where the filters
are actually defined.

See https://review.openstack.org/#/c/8747/1 for the Nova change that
justifies this.

Change-Id: I20f2bff0f9e87cb11d58f083a326656c4a124bf1"
dtroyer,2012-04-03 22:19:36,https://api.github.com/repos/openstack/devstack/git/commits/3f7c06f5aaff5d3e2ec28931e0fe4ab8376208e6,3f7c06f5aaff5d3e2ec28931e0fe4ab8376208e6,"Support sql service catalog backend

* Add KEYSTONE_CATALOG_BACKEND to select 'sql' or 'template'
  'template' is the default
* Add service creation to keystone_data.sh

Rebased and re-submitted

Fixes bug 966457

Change-Id: Id24fbdeba3de11537559e24b72571ec92ab44750"
chmouel,2012-06-19 11:01:04,https://api.github.com/repos/openstack/devstack/git/commits/f8be4288836c1dac97871a733401a81f8be93ea5,f8be4288836c1dac97871a733401a81f8be93ea5,"Fix swift3 middleware entry point.

- Fixes bug 1015071.

Change-Id: I969d8826b2a2633488d6eac321e1f52bd47bf7f8"
ttx,2012-06-14 10:27:58,https://api.github.com/repos/openstack/devstack/git/commits/ce5b8ed38b32f13a00411dfc980bf02e89932d7b,ce5b8ed38b32f13a00411dfc980bf02e89932d7b,"Support upcoming rootwrap.d config files

Add support in devstack for upcoming /etc/nova/rootwrap.d
configuration files. Note that we don't change anything if Nova
doesn't ship them, so devstack supports both cases.

This is the first step for blueprint folsom-nova-rootwrap. It needs
to go in first so that tests pass when rootwrap.d changes will be
proposed in Nova.

Change-Id: I0189575ed9adb1be61c8563ce8f3199c52fc08ff"
vuntz,2012-06-12 12:18:57,https://api.github.com/repos/openstack/devstack/git/commits/3378b3a69ef911d2bdd2548891a0c29f66e9b4cc,3378b3a69ef911d2bdd2548891a0c29f66e9b4cc,"Stop adding the stack user to the sudo or wheel group

This is not needed since we explicitly add a sudoers rule for the stack
user.

Change-Id: I4c63ab25811d55b7eee2677c954133dc3e7ae397"
dtroyer,2012-06-14 14:11:38,https://api.github.com/repos/openstack/devstack/git/commits/eeaf266a7962fd1ee751288bae38a0710b3a6771,eeaf266a7962fd1ee751288bae38a0710b3a6771,"Skip screen if not present

Change-Id: I018249c415fa91ca6461a8f9d236767aa57a8fbd"
vuntz,2012-06-14 07:20:55,https://api.github.com/repos/openstack/devstack/git/commits/4556b5d2b041b279f17501d1c8037ee5c5e35931,4556b5d2b041b279f17501d1c8037ee5c5e35931,"Fix grep on MySQL configuration file

The file is not readable by non-root users (at least on openSUSE), so we
need to use sudo.

Change-Id: I42fff066a60318a954110736d5352387888931e8"
vuntz,2012-06-13 09:26:31,https://api.github.com/repos/openstack/devstack/git/commits/bf3923174e40b7931963bcba455d837e0ec864e3,bf3923174e40b7931963bcba455d837e0ec864e3,"Remove test.ini when done with it during tests

The file is created in the tests, and so should also be removed.

Change-Id: I8c087cc5cc71ac80b7c4974e2a69a747a929bedf"
vuntz,2012-06-13 09:24:48,https://api.github.com/repos/openstack/devstack/git/commits/ef352b51c5b8840c70c396196d3a9c155a40fd02,ef352b51c5b8840c70c396196d3a9c155a40fd02,"Ignore vim swap files

Makes the life of vim users simpler.

Change-Id: I62da9821be8b619fe3fc41d4eeb6286d3ec88e1c"
chmouel,2012-06-14 13:08:24,https://api.github.com/repos/openstack/devstack/git/commits/f87fd042e730a42ddbd4615cd0e44c2b3d99a94a,f87fd042e730a42ddbd4615cd0e44c2b3d99a94a,"Kill all swift processes before trying to install.

- Before trying to install swift we ensure there is no swift processes
  running.

Change-Id: Ibeb511a67f1ccc4914d9cdf2874324159e3928cc"
vishvananda,2012-06-01 23:17:38,https://api.github.com/repos/openstack/devstack/git/commits/6f13ba33d84b95808fc2a7672f332c1f0494e741,6f13ba33d84b95808fc2a7672f332c1f0494e741,"Make the log output pretty and more useful

 * requires https://review.openstack.org/#/c/8067/

Change-Id: Ib26c1bd7e9ef933a7dbe2ee0c476e8d439e17574"
dprince,2012-06-13 19:17:19,https://api.github.com/repos/openstack/devstack/git/commits/0f39c5df1442a9d72c55408f76ad0480ab7939a4,0f39c5df1442a9d72c55408f76ad0480ab7939a4,"Run glance-manage db_sync.

Updates stack.sh so that it runs glance-manage db_sync. This
should pave the way for us to default Glance DB auto-creation
to False in Glance.

Previously we would rely on glance-registry (and glance-api in Folsom)
to auto create the DB for us. I've found this to be a bit racey
so explicitly using glance-manage seems the way to go.

Change-Id: I61f165db6e0591e819d12aa2e2a4d336ad1172c3"
vuntz,2012-06-13 14:49:06,https://api.github.com/repos/openstack/devstack/git/commits/0a4c34529b1dbdda627417eeead13eca43f283d8,0a4c34529b1dbdda627417eeead13eca43f283d8,"Add python-devel to rpms list for glance

It's needed to build the pysendfile module with pip.
This was fixed for Debian in 2be6155c6e4ad7bc0df61c47a1cfbb093a48b43d

Change-Id: I4ee2b12e2fd3fd9ea44420fdb44cc8ec339ff4fa"
dtroyer,2012-06-11 21:51:39,https://api.github.com/repos/openstack/devstack/git/commits/bbafb1b5b24377f9d471fc73de3ef07f97deed96,bbafb1b5b24377f9d471fc73de3ef07f97deed96,"Fix issues when working through an outbound proxy

* reqork setup-develop() to handle proxy operations and empty dependency lists
* use keystone to get admin token (eliminate a direct curl invocation)
* check for cached image files of 0 bytes and re-download if needed

Change-Id: Ief356667ed3ef8d05c6604f12513ae81f68cec04"
chmouel,2012-05-22 10:27:08,https://api.github.com/repos/openstack/devstack/git/commits/fda9df8795d422679387b2ea8b20556fe4116645,fda9df8795d422679387b2ea8b20556fe4116645,"Install python-swiftclient when installing swift.

- Fixes bug 1002789.

Change-Id: I8ee54652c6a38c7c226c820366897e53807f664d"
dtroyer,2012-06-11 19:39:16,https://api.github.com/repos/openstack/devstack/git/commits/f07d9b1956c35367ef3481c5103b1df8cbcb8cab,f07d9b1956c35367ef3481c5103b1df8cbcb8cab,"Add BeautifulSoup dependency for Horizon

This is a workaround for an undocumented dependency on the Python
BeautifulSoup package.  It fixes both Ubuntu and Fedora builds.

Fixes bug 1010968

Change-Id: If7f5d55c38d3b9ab677378c57839bc8f03898e2f"
ttx,2012-06-11 14:45:29,https://api.github.com/repos/openstack/devstack/git/commits/d2f8fa3b444d944a7fad29cabb4216e745c66772,d2f8fa3b444d944a7fad29cabb4216e745c66772,"Always setup rootwrap sudoers entry

Setup /etc/sudoers.d/nova-rootwrap in all cases, and not just
when devstack is not run as root. Fixes bug 1011652.

Change-Id: Ib4cdeaa282f01cf2ce98119618f232c91b6e8db4"
emonty,2012-06-07 18:21:59,https://api.github.com/repos/openstack/devstack/git/commits/66c70c72d49c42059ee649725ee038bed3b252dc,66c70c72d49c42059ee649725ee038bed3b252dc,"Use pip to install python depends.

When we use python setup.py develop, if there is a packages not installed
already, it means distutils/easy_install installs it. Unfortunately, those
are both way more stupid than pip. Instead, get pip to install missing
depends, then run the setup.py develop so that distutils doesn't need to
install things.

Change-Id: Ifad3bbc8e9eac0b14dc5bb40175cf2bd45b64b00"
jeblair,2012-06-07 00:30:49,https://api.github.com/repos/openstack/devstack/git/commits/fa3fb4ab9078b4917f00eb187eafc3590c0d01c9,fa3fb4ab9078b4917f00eb187eafc3590c0d01c9,"Remove pips.

All of the requirements should now be specified in the pip-requires
of individual projects, which will be installed via setup.py install.

Therefore, remove the few remaining pip dependencies from devstack.

Distutils has a problem installing django 1.4 when django 1.3 is
already installed via debian packages.  Therefore, remove the
dependency on the django debian package (which installs 1.3
and is obsolete anyway).

Change-Id: Ia4dc1f4c94c7f5c0811bafcf41dadc5d629a516d"
chmouel,2012-06-06 11:56:39,https://api.github.com/repos/openstack/devstack/git/commits/c7214e838e65b51b81b84e2a3e2ce3c34490fd46,c7214e838e65b51b81b84e2a3e2ce3c34490fd46,"Use swift config files shipped with swift.

- Fixes bug 1004548.
- Add function iniuncomment.
- Trying to match the indent as the other stack.sh file.

Change-Id: I70339f7b4c0dd3ef8a018daecb2e1b3fb72c741b"
dtroyer,2012-05-30 15:58:18,https://api.github.com/repos/openstack/devstack/git/commits/83d475eebea28d3ff8e8a0f54b90db465c2419fb,83d475eebea28d3ff8e8a0f54b90db465c2419fb,"Set default image for exercises

The exercises search for an 'ami' image to run; when multiple images are
loaded this fails.  Rather than try to guess or just use the first one
we set the default image name to the cirros image that we load by default.

Change-Id: Iae91a011ca9c42a7715747a68e0deba0dba20835"
dtroyer,2012-05-31 21:39:36,https://api.github.com/repos/openstack/devstack/git/commits/3ea11129012b9ffdf5f38724e11fa9efda9362f5,3ea11129012b9ffdf5f38724e11fa9efda9362f5,"Fix multiple distro dependency bug

get_packages() icorrectly handled multiple distros listed in a dependency
file, such as:

    xyz  # dist:fred,barney,wilma

Change-Id: Ib1178b2aaaddafe581902b32776180bb0b41f1ae"
bcwaldon,2012-05-25 15:31:59,https://api.github.com/repos/openstack/devstack/git/commits/7f9833fb9db48875cffa7d4e81af5bffe20e9b52,7f9833fb9db48875cffa7d4e81af5bffe20e9b52,"Set sql_connection in glance-api.conf

The v2 API uses the database directly from the glance-api server. We
need to provide the same connection credentials as we set for the
glance-registry server.

Change-Id: I5093a9f7978f627e1dee4047b1f45383f9e4e7da"
jogo,2012-05-24 21:11:01,https://api.github.com/repos/openstack/devstack/git/commits/42b1aa9c136bd738c32075b2098cebdfa3a886f8,42b1aa9c136bd738c32075b2098cebdfa3a886f8,"Fix devstack to support the new pulled out swift3

Change-Id: Ia4f5092e666b581aab4af4851c2848e84817c07a"
jogo,2012-05-24 02:06:34,https://api.github.com/repos/openstack/devstack/git/commits/819d2bed1d0cccf8f5afc31975c9a674a6938096,819d2bed1d0cccf8f5afc31975c9a674a6938096,"Remove unused tools/rfc.sh

OpenStack now uses git-review from pip

Change-Id: If9f59738b807f36168076dc5b1c6bfb8cc780536"
jeblair,2012-05-21 16:04:27,https://api.github.com/repos/openstack/devstack/git/commits/d0e55c859ab2482ea1d85f1c234238a153fe334e,d0e55c859ab2482ea1d85f1c234238a153fe334e,"Add ""dist:precise"" to qpidd.

It is also marked NOPRIME, but some setups (devstack-gate) would
like to cache, but not install, all .debs to avoid false negative
tests due to network problems.  This way it can be cached only on
appropriate platforms.

Change-Id: Ia4216e9e8e6e7f55bf5fe9bc683fee97976a9b04"
jogo,2012-05-07 22:18:27,https://api.github.com/repos/openstack/devstack/git/commits/1fad810cef247356a362448ec01a808b9b13a107,1fad810cef247356a362448ec01a808b9b13a107,"Remove unused service_* from authtoken middleware

service_port and service_host are not used by the current keystone authtoken
Change-Id: Iff5d2dccdc69b0a05443500d45b144acfbbe3c79"
russellb,2012-03-13 17:44:12,https://api.github.com/repos/openstack/devstack/git/commits/4a221459b72856a0593c6182334cbbcc8def5f6c,4a221459b72856a0593c6182334cbbcc8def5f6c,"Add support for using Qpid instead of RabbitMQ.

To use Qpid instead of RabbitMQ, you set 'qpid' instead of 'rabbit' in
ENABLED_SERVICES in your localrc file. Otherwise, RabbitMQ is still
used by default.

(dtroyer) fixed problem with service test that failed to configure
rabbitmq if it was still selected.

Change-Id: I8c62b588a461a068463821b2c079ffa4bfa1f804"
dtroyer,2012-05-17 16:10:36,https://api.github.com/repos/openstack/devstack/git/commits/00edc95c6bd80927c727742ac044082f64b26bec,00edc95c6bd80927c727742ac044082f64b26bec,"Create new swift data store filesystem every time

The Swift data store was not cleaned out between stack.sh runs; although
the contents were not visible they were still taking up space.  Create a
new XFS filesystem on every stack.sh run.

Fixes bug 1000827

Change-Id: Ieab6b5f65b7964906f244975cbcdf2cf50344ca5"
dtroyer,2012-05-16 16:07:52,https://api.github.com/repos/openstack/devstack/git/commits/9a4478b8b20bbb4008c8a62d14574377fb2909fd,9a4478b8b20bbb4008c8a62d14574377fb2909fd,"Remove prettytable pin to 0.5

* The clients have all been fixed to work with prettytable 0.6

Change-Id: I968d73862e6d45d6974c43ea47ba84e8210ed787"
markmc,2012-05-10 06:12:36,https://api.github.com/repos/openstack/devstack/git/commits/27e39fded215058b4a7424da6884721b07e06a88,27e39fded215058b4a7424da6884721b07e06a88,"Copy Nova's policy.json to /etc/nova

Change-Id: I170e536331e617ea8984182d95616928f02a34a6"
jaypipes,2012-05-10 15:21:22,https://api.github.com/repos/openstack/devstack/git/commits/b297d2d0a8e1b38ffaebc4590bced3361df6fe89,b297d2d0a8e1b38ffaebc4590bced3361df6fe89,"Fixes LP #996571 - Alternate Tempest user

Adds an alternate user to Keystone for Tempest

Tempest has a number of tests that are skipped if
the compute.alt_username is the same as compute.username
or None. Here, we modify files/keystone_data.sh to add
an additional regular user called alt_demo if Tempest
is enabled in stackrc. We also make corresponding changes
to the tools/configure_tempest.sh script to make use
of this alternate user credential

Change-Id: I551f3b378f843c62fffcf6effa916056708d54d3"
chmouel,2012-05-09 16:19:09,https://api.github.com/repos/openstack/devstack/git/commits/ee76d26f232beced4e12ff636fe3bdcce8b91c55,ee76d26f232beced4e12ff636fe3bdcce8b91c55,"Store glance images in Swift if enabled.

- Fixes bug 968950.
- This should be applied after review 5856 for glance.

Change-Id: I779fd75ce7394bdfc2ffc1354b4ed35a6109321f"
etoews,2012-05-08 22:13:08,https://api.github.com/repos/openstack/devstack/git/commits/a143e73cafb0d92f31907f6817a7007aad1e6503,a143e73cafb0d92f31907f6817a7007aad1e6503,"Changed --user to --user_id and --role to --role_id in the keystone client for consistency. Need to update keystone calls here.

This change should be applied after [bug/994744 b7fe11c] in python-keystoneclient.

Fixes bug 994744.

Change-Id: I13e643f8552d86ed0bf92799271899f777bde9b2"
dtroyer,2012-05-07 18:16:23,https://api.github.com/repos/openstack/devstack/git/commits/c39e681ecb9196fd2968a8ad68c96cd453c22f04,c39e681ecb9196fd2968a8ad68c96cd453c22f04,"Force prettytable==0.5

prettytable 0.6 was released recently and removed the printt() method.
All non-pinned prettytable projects (all of them) are now broken.  This
forces a pre-loaded prettytable 0.5 package in order to allow the real
fix (removing printt() calls) to proceed.

Change-Id: Iacf24b8474f12b28090329496720767281181d7e"
bcwaldon,2012-05-04 20:42:35,https://api.github.com/repos/openstack/devstack/git/commits/e7114ca22f39e98d7a0dc3125f0a05dc8fc7ff97,e7114ca22f39e98d7a0dc3125f0a05dc8fc7ff97,"Copy Glance's policy.json to /etc/glance

Change-Id: Ib83c9874b7d31e66206cf8907a12c65d9794a1a2"
sleepsonthefloor,2012-05-04 17:19:44,https://api.github.com/repos/openstack/devstack/git/commits/220d93848f0254a72d15d7a16f288b85634ab180,220d93848f0254a72d15d7a16f288b85634ab180,"Update to point noVNC to kanaka/master

 * nova-novncproxy was accepted into kanaka/master
 * Fixes bug 994653

Change-Id: I1cb40440e6cfbad9ed28203c45deea9fb9305f91"
zhang-hua,2012-05-03 10:17:18,https://api.github.com/repos/openstack/devstack/git/commits/520a9ca5565d145d4e970595419cb00b19735030,520a9ca5565d145d4e970595419cb00b19735030,"Allow wget to handle Non-English output

The stack.sh has a loop to wait for keystone to start. But the output of wget tool has been globalized
which means it won't return the English word 'refused' on Non-English environment even the keystone is
not up. So the script will assume the keystone has been started and continue. The command of keystone
tenant-create always failed immediately after skipping this loop since it require keystone to be started
to authenticate. That's why you can see authentication error in the log because the tenant information
was not correctly set up.

Fix bug 978739

Change-Id: Ia4ebe6ad0f9b5a886de48a4bea7c2aebff420dad"
shwetaap,2012-04-04 20:17:40,https://api.github.com/repos/openstack/devstack/git/commits/4dc53aa7983a18d9fe2ff6267cbc97ccf6049444,4dc53aa7983a18d9fe2ff6267cbc97ccf6049444,"Adds LinuxBridge plugin setup support.

Change-Id: I4c3250ac9bd3f3eb466a211bcaddaf1855d6ef8d"
vishvananda,2012-05-02 00:27:27,https://api.github.com/repos/openstack/devstack/git/commits/0ac5a8ae69878a6d85319afcdcd1d0729ae6cfde,0ac5a8ae69878a6d85319afcdcd1d0729ae6cfde,"change volume name template to prepare for 6511

Change-Id: I1162c169eeffbd9adf9cfb9f473761d6f8b2d120"
dtroyer,2012-04-27 20:29:14,https://api.github.com/repos/openstack/devstack/git/commits/255db3da19c11ce3b6d7dbbb871a57d7df215aae,255db3da19c11ce3b6d7dbbb871a57d7df215aae,"Update quantum.sh for glance client change

Change-Id: Ib67301b26e1c3e1b68669eed6cd89e40687b14e9"
jaypipes,2012-04-30 19:56:13,https://api.github.com/repos/openstack/devstack/git/commits/c0e1ef520cead9038b345f28652801f75857c8a2,c0e1ef520cead9038b345f28652801f75857c8a2,"Add host/port/api_version to tempest.conf

* Something exposed by LP #992096 was that the image
  tests were broken because the URL returned from the
  service catalog was no longer including a version
  identifier. The fix in Tempest was to pass the configure_via_auth=False
  parameter to the glance.client.Client constructor. However, in order
  for this to work, the host/port in the [image] section of the
  Tempest configuration file needs to be set

Change-Id: I9f661a02270a1ad52c10f2233baf899e5f706c82"
markmc,2012-04-30 19:06:04,https://api.github.com/repos/openstack/devstack/git/commits/90e7eeb24a95b28033dad045e41b6e4645160d36,90e7eeb24a95b28033dad045e41b6e4645160d36,"Remove duplicate setting of keystone's template_file option

It seems pretty clear that this is a duplicate line

Change-Id: I3390df30cb34ced9fe74bdea387dbc67f5ee8f10"
jaypipes,2012-04-27 21:46:58,https://api.github.com/repos/openstack/devstack/git/commits/a1c87388a45ede40cb150a137560d0aeb50bee0c,a1c87388a45ede40cb150a137560d0aeb50bee0c,"Fixes parsing of glance(client) image-list.

There are still failures when tempest runs because
of recent changes with glanceclient, but at least
this patch gets the tools/configure_tempest working
again.

Change-Id: I73a5042dac2c930998663c478fb2ccd907c3ef87"
dtroyer,2012-04-13 18:16:38,https://api.github.com/repos/openstack/devstack/git/commits/45495258d64589795b16f2b1927f5ca3490f9e16,45495258d64589795b16f2b1927f5ca3490f9e16,"Add glance client

* python-glanceclient overrides the old client shipped with glance in /usr/local/bin
* start adding exercises

Change-Id: I460ed5749bca69425f23d328c0537c2ef91f84a4"
jeblair,2012-04-24 21:08:49,https://api.github.com/repos/openstack/devstack/git/commits/4fcab6d0cf381a147e40121e0d0bc940d6882476,4fcab6d0cf381a147e40121e0d0bc940d6882476,"Add nosexunit as a pip requires.

Install the nose xunit plugin so that tempest can produce nice
reports in Jenkins.

Change-Id: Ia8c4c9db8b0733d09a0bef59a08f438c6a92f1ca"
jaypipes,2012-04-24 20:05:08,https://api.github.com/repos/openstack/devstack/git/commits/1a61bf96d6f8895796dc1db3a5a641ec2c14c617,1a61bf96d6f8895796dc1db3a5a641ec2c14c617,"Fixes typo on ADMIN_XXX variables

Change-Id: Idae7b0db7d2cbc28873d613dd31cf2fff20b7855"
jaypipes,2012-04-23 14:56:15,https://api.github.com/repos/openstack/devstack/git/commits/678a188e2d6ddd9230a80a63901202d573281d31,678a188e2d6ddd9230a80a63901202d573281d31,"Tempest - Remove Kong support and fix images

* Removes (non-working) Kong config.ini support
* Replaces copy/paste code from stack.sh that was not
  properly grabbing image UUIDs with a call to glance
  index
* Grabs any non-kernel non-ramdisk images and properly populates
  the IMAGE_UUID_ALT variable if more than 1 image is
  available

Change-Id: Ieaf892b8b3fb4ef4fe2e6168f7a53bbe42dd684c"
dtroyer,2012-04-19 16:16:47,https://api.github.com/repos/openstack/devstack/git/commits/2be6155c6e4ad7bc0df61c47a1cfbb093a48b43d,2be6155c6e4ad7bc0df61c47a1cfbb093a48b43d,"Add python dev dependency

pysendfile 2.0 needs this to build

Change-Id: I40a2c08bfc6d533bdcb052d0c36353e95e059e03"
dtroyer,2012-04-18 06:45:16,https://api.github.com/repos/openstack/devstack/git/commits/e8309627edca10cb60ad3b284176469926c8c8d5,e8309627edca10cb60ad3b284176469926c8c8d5,"Add Apache 2 LICENSE file

Fixes bug 979172

Change-Id: I4ad8e78adf116a1e7120222456f6131542b11759"
jaypipes,2012-04-05 21:19:02,https://api.github.com/repos/openstack/devstack/git/commits/58d34ea9c168992659238eee726c14005d0c23cf,58d34ea9c168992659238eee726c14005d0c23cf,"Make required changes to tempest.conf build

* Echo out the tempest.conf for easier debugging
* Make sure IDENTITY_HOST defaults to 127.0.0.1
* Source and ensure openrc is available
* Ensure BUILD_TIMEOUT and BUILD_INTERVAL are set appropriately
* Set COMPUTE_RESIZE_AVAILABLE to False because QEMU does not support

Change-Id: If39c3cc011c1a2207fbcb2922094bd9ff2973746"
dtroyer,2012-04-02 21:50:49,https://api.github.com/repos/openstack/devstack/git/commits/588f4069e56d8f59e178cd68c9cd88b412b13f04,588f4069e56d8f59e178cd68c9cd88b412b13f04,"Change MySQL engine default to InnoDB

Fixes bug 971881

13Apr2012 - rebased to add Fedora support

Change-Id: Ib93187b4727157cc8dc63cd4599970535c85adce"
ddutta,2012-02-29 01:47:26,https://api.github.com/repos/openstack/devstack/git/commits/8ad0351148a850f4f34fb19797a1e0538cc8ac76,8ad0351148a850f4f34fb19797a1e0538cc8ac76,"Updated CI test script
Debo~ Dutta@Cisco, Dave Lapsley@Nicira
 * original at https://review.openstack.org/#change,3682
 * Allow this exercise to be skipped if quantum is not enabled

Change-Id: I8463f654fb85394d78dd01c93c7f7b2706511030"
dtroyer,2012-04-13 16:35:07,https://api.github.com/repos/openstack/devstack/git/commits/ba429edfe149307cdc1e3041710e433df28a1de8,ba429edfe149307cdc1e3041710e433df28a1de8,"Another prereq for n-api on a compute node

* work around n-api on a compute node pulling in glance without running
  through the glance prereqs

Change-Id: I400c555dd5c04d52bf8aa415747769374a145390"
sleepsonthefloor,2012-04-13 16:13:36,https://api.github.com/repos/openstack/devstack/git/commits/d4c420dcfe5b6b799594e721471cb62d53628fe3,d4c420dcfe5b6b799594e721471cb62d53628fe3,"Remove code that allows use of swift + glance.

 * Removing since it only works with essex, not trunk
 * Reverts https://review.openstack.org/#/c/5988/

Change-Id: Iedcfa536c25d9ee3cc36714aa9028672b2e59a66"
chmouel,2012-04-12 19:15:35,https://api.github.com/repos/openstack/devstack/git/commits/55e82033c928b68b940f7af74ca8e7df493fe352,55e82033c928b68b940f7af74ca8e7df493fe352,"Store glance images in Swift if installed.

- Fixes bug 968950.

Change-Id: I62587965cd01e7d7bb1ffb6081c57099a76fc87e"
gabrielhurley,2012-04-12 18:35:07,https://api.github.com/repos/openstack/devstack/git/commits/9ac2aa4618154384af716f16d41014bd0c60e9f8,9ac2aa4618154384af716f16d41014bd0c60e9f8,"Bumping Horizon Django dependency to v1.4 for Folsom.

Horizon is moving to Django 1.4 as the minimum version, however
1.4 is not the packaged version in the apt repositories. Thereby
the dependency needs to be moved back to being installed by pip.

Change-Id: I3c3116c1d02bdfaccab521175816502fd8ea054a"
dtroyer,2012-04-12 16:19:42,https://api.github.com/repos/openstack/devstack/git/commits/7030ec58c4a58aeb2a7c0002952eacc41d7acd20,7030ec58c4a58aeb2a7c0002952eacc41d7acd20,"Add gcc to glance prereqs

Change-Id: I60584e5f3c99d15cd0f3a2222a448f7e01295779"
dtroyer,2012-02-04 08:13:23,https://api.github.com/repos/openstack/devstack/git/commits/5218d451dc6d21c32e5bf5ab81c53bdd1db50234,5218d451dc6d21c32e5bf5ab81c53bdd1db50234,"E) Add support for Fedora 16

Highlights:
* Add files/rpms/*
* get_packages() only loads deps for services that are enabled

11Apr2012
* change mod_wsgi cwd to $HORIZON_DIR
* fix horizon apache log file name and location

Note: This superceeds https://review.openstack.org/4364

Change-Id: I95486584561e4418907a6a4feb0ffbe4f4ea1843"
jk0,2012-04-09 20:41:09,https://api.github.com/repos/openstack/devstack/git/commits/07e27e0b2399f4c1dedc59bf9b02a2077dcc6fbb,07e27e0b2399f4c1dedc59bf9b02a2077dcc6fbb,"Remove temporary fix for keystone.conf file.

Fixed in https://review.openstack.org/#change,6387.

Change-Id: I7fd73fa2658fcb8ba3a6db4d19ebde25e67cfbda"
dtroyer,2012-04-06 17:10:05,https://api.github.com/repos/openstack/devstack/git/commits/9bab2597ca880e8aa3cc420021fcb656f778aa74,9bab2597ca880e8aa3cc420021fcb656f778aa74,"Use glance config files from source tree

This rewrites the config files for Glance API and Registry (-paste.ini and .conf)
rather than use templates from devstack/files.

Fixes bug 950289

Change-Id: I90151e36bb5f778499481e9abe0d8637d41f19aa"
dtroyer,2012-03-19 21:31:12,https://api.github.com/repos/openstack/devstack/git/commits/09e636e435ed15302e3960affef0a450fa7accf6,09e636e435ed15302e3960affef0a450fa7accf6,"B) Use keystone config files from source; move to /etc/keystone

* Put all config files in /etc/keystone
* keystone.conf rewritten
* logging.conf.sample rewritten to logging.conf
* default_catalog.templates copied from devstack/files
* iniset() now properly adds options that do not previously exist

Fixed to re-configure the catalog templated backend; sql is the
default in trunk now but DevStack needs a bit more work before
it can use it.

Change-Id: Ic7060ef897e47495cd08ca3786e49fdebadf6723"
jk0,2012-04-05 21:25:03,https://api.github.com/repos/openstack/devstack/git/commits/076e86aefee03358aad4ca1b53ed5b931924334c,076e86aefee03358aad4ca1b53ed5b931924334c,"Properly generate the hardstatus for stack-screenrc.

Fixes bug 974641.

Change-Id: I56879083c6e9d6711afacb786f5e238ff843f55b"
dtroyer,2012-03-28 01:59:22,https://api.github.com/repos/openstack/devstack/git/commits/c6c1d439240c0dcb5cd6d77ae608c407cdcd5e50,c6c1d439240c0dcb5cd6d77ae608c407cdcd5e50,"D) Reorganize top of stack.sh

Pull stack.sh sanity check reorg from multi-distro branch.
This performs OS detection checks earlier and moves the
Sanity Check section later so we have more information available.

Change-Id: I5b9e64c4dc024a9ad90bd4f7e5ed86d601c0f610"
jk0,2012-04-04 22:47:56,https://api.github.com/repos/openstack/devstack/git/commits/0a7a41eb1ebbbed7814e47690db8248576e4ed47,0a7a41eb1ebbbed7814e47690db8248576e4ed47,"Make the screen hardstatus line configurable.

The default hardstatus line now includes the system load along with the hostname. Minor color changes.

Change-Id: I70ebeef0981c741dd647c0e98df3f4b7e09de9cd"
dtroyer,2012-03-16 15:42:00,https://api.github.com/repos/openstack/devstack/git/commits/1e51c11582fc2da61595ae94b60ae0b5d3e7956b,1e51c11582fc2da61595ae94b60ae0b5d3e7956b,"C) Move swift defaults for config & data

* change config vars _LOCATION to _DIR to be consistient with other vars
* let config files live in /etc/swift like they want to
* move swift backing files to $DEST/data/swift

Change-Id: Idbd507736b46c5c2330e0255cc87f40068d3faf6"
vishvananda,2012-04-04 20:46:27,https://api.github.com/repos/openstack/devstack/git/commits/d252e06e3b2b2de23f8fd14ae1853255e57c4aff,d252e06e3b2b2de23f8fd14ae1853255e57c4aff,"Install dnsmasq-utils on precise as well

Change-Id: I1a730d9ffdf934cfcec466d15453dd908b1a58de"
jaypipes,2012-04-04 20:21:33,https://api.github.com/repos/openstack/devstack/git/commits/d01325f3e45d1a9a107db6bc9045146436a53d42,d01325f3e45d1a9a107db6bc9045146436a53d42,"Get tempest configuration file up2date with trunk

The old configure_tempest script wasn't writing an
appropriate Tempest config file. This should get things
updated to the point where Tempest should at least run
properly without erroring out on configuration issues like
we've been seeing...

Change-Id: Ice7aca10e74c0a365e1638f7b3e423aa768d3074"
andrewsben,2012-04-04 18:43:32,https://api.github.com/repos/openstack/devstack/git/commits/dbdf6be8790305bbf1bb4e97369e097a4aa314cb,dbdf6be8790305bbf1bb4e97369e097a4aa314cb,"added sec_groups exercise

Change-Id: Ib969efab4ef4c408fa59a44eff25d2c4ac56d024"
dtroyer,2012-03-27 19:50:45,https://api.github.com/repos/openstack/devstack/git/commits/13dc5ccd13a636dcde03324ef7586728caa59db2,13dc5ccd13a636dcde03324ef7586728caa59db2,"A) Add/move functions to 'functions' file

Add ini*() and tests
Add GetOSVersion()
Add install_package(), yum_install()
Add *_service()

Rebased

Change-Id: I570dba5ed4d2b988cdd1771cf6bed0aaf8e0fe27"
sleepsonthefloor,2012-03-28 16:40:17,https://api.github.com/repos/openstack/devstack/git/commits/60df29a234a03bb6b94c030c1661dbc8d1421156,60df29a234a03bb6b94c030c1661dbc8d1421156,"Fix quantum deps

* Compile linux headers
* Install quantum before libvirt/n-cpu since openvswitch
  complains if bridges are present during installation
* Fixes bug 968424

Rebased

Change-Id: Iec7c029f264998ad9e23901bdf2129a404d057cd"
gabrielhurley,2012-02-16 01:39:05,https://api.github.com/repos/openstack/devstack/git/commits/71f23ebeb7c45fb25b41d891e0fb42797c276f1e,71f23ebeb7c45fb25b41d891e0fb42797c276f1e,"Converts all tables and connections to UTF8.

This is https://review.openstack.org/4221 resurrected as the original
was auto-abandoned.

Nova database is handled in db migrations; this adds the nova.conf
change noted by Naveed Massjouni in the original proposal.

Connections to quantum and melange DB changed to utf8

References bug 933208.

Change-Id: Ifc4e5cd71cafb719da62214aafc394563ed1aa29"
dtroyer,2012-03-29 21:19:42,https://api.github.com/repos/openstack/devstack/git/commits/b315ddf82616d6f6157f13ab19961fa0338af7d3,b315ddf82616d6f6157f13ab19961fa0338af7d3,"Fix oversight in container format handling

https://review.openstack.org/5934 changed the container and disk format handling,
but I forgot to reset the variables at the top of the loop (DOH!)

Change-Id: I2782c06e7b4da1b69ecb72f847a5593bda522b7d"
dtroyer,2012-03-29 00:15:48,https://api.github.com/repos/openstack/devstack/git/commits/314da5a432d4cac2c63304fe084971db7e8066b4,314da5a432d4cac2c63304fe084971db7e8066b4,"Handle additional directory structures in image upload

There appear to be multiple forms if AMI archive directory structures
in common use.  Add the one used by the tty-linux so we can get rid of
the special case for it to support UPLOAD_LEGACY_TTY

(new):
image-name/aki-tty/image
image-name/ami-tty/image
image-name/ari-tty/image

and

(existing):
image-name/*.img
image-name/*.initrd
image-name/*.vmlinuz

Change-Id: Ia7d88d53760f571c6a488c3139049502b484d33e"
russellb,2012-03-28 20:22:52,https://api.github.com/repos/openstack/devstack/git/commits/20121bd1dca3e02272c861cb2469277241007cb8,20121bd1dca3e02272c861cb2469277241007cb8,"Add support for qcow2 images in $IMAGE_URLS.

This patch adds support for loading a qcow2 image and using the 'bare'
container format for all single file images.

I tested this successfully by setting:

IMAGE_URLS=""http://berrange.fedorapeople.org/images/2012-02-29/f16-x86_64-openstack-sda.qcow2""

Change-Id: Ia55ffd4957866a3d7b9fd7ba4c62e38663b35080"
dtroyer,2012-03-28 16:19:24,https://api.github.com/repos/openstack/devstack/git/commits/f4d2395e76a9b64176e301fbfd8c7a08c96f1c3a,f4d2395e76a9b64176e301fbfd8c7a08c96f1c3a,"Add unstack.sh

unstack.sh is a simple clean-up script to kill known running
OpenStack processes:
* quit devstack's screen session
* stop swift daemons
* stop apache
* remove volumes

Change-Id: I41b33817c4436e644c336e4e0673144ac0844c26"
dtroyer,2012-03-28 16:21:40,https://api.github.com/repos/openstack/devstack/git/commits/f5633ddb7d543397fb881a4d3cbf9207abd6b1de,f5633ddb7d543397fb881a4d3cbf9207abd6b1de,"Add local.sh support and samples of local.sh and locarc

Run $TOP_DIR/local.sh at the end of stack.sh if it exists and is executable.
This allows the user to automatically perform local actions on every re-stack,
such as creating custom flavors or specific tenants/users.  Like localrc, this
file is not distributed with DevStack so user modifications will be undisturbed.

Add local.sh to .gitignore

Examples of local.sh and localrc are in the samples/ directory.

Change-Id: I0be6b4d80ce084981cac8a3a8f1dc9bc8c3bbd4e"
russellb,2012-03-28 19:23:58,https://api.github.com/repos/openstack/devstack/git/commits/08e07fb4c817796db06bf8b90982c3b7cc5c41f2,08e07fb4c817796db06bf8b90982c3b7cc5c41f2,"Don't use $USERNAME in openrc.

Fix bug 967429.

Don't use $USERNAME as a variable in openrc.  It's commonly set by
default and can result in $OS_USERNAME getting set to something else
unexpectedly, resulting in an environment that doesn't work.

Change-Id: I6083a871209d30c81ca6876b1ef6c154aef7f598"
chmouel,2012-03-15 23:21:55,https://api.github.com/repos/openstack/devstack/git/commits/408b009ccda94a95d3b3999f6db2bd62e92cdfb9,408b009ccda94a95d3b3999f6db2bd62e92cdfb9,"Allow skipping exercises.

- Catch a special exit signal 55 to notify that we want to skip an
  excercise.
- Move is_enabled_service to functions.
- Fix bug 928390.

Change-Id: Iebf7a6f30a0f305a2a70173fb6b988bc07e34292"
emonty,2012-03-23 18:32:29,https://api.github.com/repos/openstack/devstack/git/commits/5440ac0e09acfbb45bc663af3d08fcd75f7595d2,5440ac0e09acfbb45bc663af3d08fcd75f7595d2,"Install quantumclient from git before quantum.

There is an issue with installing git dependency_links via
setuptools develop command. We're working on it generally,
but for now this will make quantum happier with devstack.

Change-Id: I8df88f4bca9f2b43b1d56fc7e77e26793b4c4b9f"
dtroyer,2012-03-21 16:25:06,https://api.github.com/repos/openstack/devstack/git/commits/e9819d59502beb2470788a70467a23ee1dbbb8bb,e9819d59502beb2470788a70467a23ee1dbbb8bb,"README updates:

* Remove out of date branch example
* Make formatting of variables and filenames consistient

Change-Id: I24983b1bcf1531307ccb0af66f5ba0aeb39f4ae5"
vishvananda,2012-03-20 22:08:15,https://api.github.com/repos/openstack/devstack/git/commits/ed111950f86300774ec963d644fc29ee5934052c,ed111950f86300774ec963d644fc29ee5934052c,"Allow nova rate limiting to be disabled

 * fixes bug 959518

Change-Id: Ifc469a2e1cd90737420c17af513d9c39fb57ffb5"
chmouel,2012-03-19 13:50:45,https://api.github.com/repos/openstack/devstack/git/commits/ecdd8fc6ba872f7615bf78a1df71e3dc7d8e1d23,ecdd8fc6ba872f7615bf78a1df71e3dc7d8e1d23,"Remove service_ and admin_token.

- Remove cache = swift.cache as well from swift config as not needed as
  well.

Change-Id: I39f0b7ed48e6ee8926cdc011a46fdd2d01880a89"
bcwaldon,2012-03-19 14:54:16,https://api.github.com/repos/openstack/devstack/git/commits/6aef757432595ec4aa318c20246bf1d6aaf681db,6aef757432595ec4aa318c20246bf1d6aaf681db,"Update glance pipelines to use context middleware

* Glance no longer depends on keystone.middleware.glance_auth_token

Change-Id: Ie634a007f710792eda810e479fae463c158ebc5f"
dtroyer,2012-03-16 21:16:56,https://api.github.com/repos/openstack/devstack/git/commits/27e326995aaddf9e34cdf54a56f0ed02fc04bfcc,27e326995aaddf9e34cdf54a56f0ed02fc04bfcc,"Simplify die_if_error

* Replace die_if_error() with the simpler die()
* Attempt to clean up unnecessary trace output
* Formatting cleanups on all exercise scripts

Change-Id: I72a542b3a59ee9bf12bee6bcc605edd7579205e0"
gabrielhurley,2012-03-18 23:26:22,https://api.github.com/repos/openstack/devstack/git/commits/09407d90a841c05d83f82b588af0769161326a4d,09407d90a841c05d83f82b588af0769161326a4d,"Removes extraneous quotes from service names.

Fixes bug 958894.

Change-Id: Id517519b027c70eff22e04b79597f6d47fcc5eed"
sleepsonthefloor,2012-03-15 18:27:13,https://api.github.com/repos/openstack/devstack/git/commits/84a03e0d8338fb566680517fb138382fc089ba43,84a03e0d8338fb566680517fb138382fc089ba43,"Remove default quantum-keystoneclient dep.

 * Don't automatically install q-cli with horizon
 * Always install q-cli if ENABLED_SERVICES includes 'quantum'
 * Completely remove quantum config from horizon (there is no quantum+horizon in essex)

Change-Id: I0897437326abd757b6c792fd6ec946fa6e7981c9"
sleepsonthefloor,2012-03-17 00:01:49,https://api.github.com/repos/openstack/devstack/git/commits/b3e2f3399c62cb4e4515de587db91999ecbacb3c,b3e2f3399c62cb4e4515de587db91999ecbacb3c,"Some tweaks for xen + devstack.

 * Import functions for git_clone (allows RECLONE for xen plugins)
 * Fix a potential xvas path issue
 * Tweaks to docs

Change-Id: I34f5c57a53884dfe944f3b0eb8896c57e348e389"
chmouel,2012-03-16 17:38:49,https://api.github.com/repos/openstack/devstack/git/commits/e347b990ceb091fb3b4e8d1924ee3f6bddaa7cba,e347b990ceb091fb3b4e8d1924ee3f6bddaa7cba,"Don't enabled nova-objectstore if swift is enabled

- Fixes bug 957178.

Change-Id: Ieb2840344bf8c0d9a1da50925f5ca0649d9dad21"
dtroyer,2012-03-16 14:23:23,https://api.github.com/repos/openstack/devstack/git/commits/b1f6c1835b52f4045e73eda34d3a98d89518f388,b1f6c1835b52f4045e73eda34d3a98d89518f388,"Fix swift restart error

'swift-init all {restart|stop}' exits with '1' if there are any problems
sutting down any swift server, including if they were not running to begin with.
An attempt to address this has already been ignored by the Swift team, and it
would not have completely eliminated the problem, so we'll just be defensive here.

Change-Id: Ib8e30221e1c8873d0e849add89dc87d5ccda9d82"
chmouel,2012-03-16 15:42:21,https://api.github.com/repos/openstack/devstack/git/commits/7ee6a9724db57eb5395d661a525bacba061085bc,7ee6a9724db57eb5395d661a525bacba061085bc,"Add python-mysqldb to keystone apt package list.

- Fixes bug 957065.

Change-Id: If811a725c2348cebfb326e08ef69909905e46420"
chmouel,2012-03-15 17:17:39,https://api.github.com/repos/openstack/devstack/git/commits/185c66e44f786393f40724c7d2f74c5ac27f7034,185c66e44f786393f40724c7d2f74c5ac27f7034,"Run swift-proxy from screen.

- Fixes bug 956172

Change-Id: I9a83d6afc04596bf84e3cf27a3f3f6f7b7d05180"
chmouel,2012-02-29 16:55:43,https://api.github.com/repos/openstack/devstack/git/commits/77b0e1d8ff9617dc71cf92a7a9d7fb850e2e5998,77b0e1d8ff9617dc71cf92a7a9d7fb850e2e5998,"Converts bundle exercise to use swift/s3

- Fix keystone s3token configuration (in admin api not public api).
- Set s3 service in keystone to swift if installed.
- Fixes a bug in bundle.sh
- Adds config options for nova to use swift as s3 store

Change-Id: Ic2fca5aba06a25c0b3a74f1e97d062390a8e2ab1"
chmouel,2012-03-15 20:43:26,https://api.github.com/repos/openstack/devstack/git/commits/504f871cdb1ca4f630847f38a007698747d9a019,504f871cdb1ca4f630847f38a007698747d9a019,"Update Swift doc.

Update README.md with the latest changes.

Change-Id: I63e8094cce31e0490b72a131f8a3bcf928c5881a"
chmouel,2012-03-15 17:21:24,https://api.github.com/repos/openstack/devstack/git/commits/c9e0188e929a44e8a2ce957885ed755f2096058e,c9e0188e929a44e8a2ce957885ed755f2096058e,"Only do a nova-manage db_sync when we have nova.

- Fixes bug 956226.

Change-Id: I823e8f43425c2d629219bb426fb6aa5d1ab9ff34"
chmouel,2012-03-14 14:13:03,https://api.github.com/repos/openstack/devstack/git/commits/7dadd35c087df2c7f98e0c7e5458cb237cd3644d,7dadd35c087df2c7f98e0c7e5458cb237cd3644d,"Ubuntu precise support.

- Fixes bug 954249.
- Install python-argparse only on oneiric (tks: dtroyer for
  suggestions).

Change-Id: I5ba8424a9cd172ac5246106163d21ca6a67ef6ef"
sleepsonthefloor,2012-03-15 08:08:13,https://api.github.com/repos/openstack/devstack/git/commits/1df0789c0a0ee478b946ffec553683da9bca8678,1df0789c0a0ee478b946ffec553683da9bca8678,"Use sudo+virsh to clean instances frm previous run

 * fixes bug 955782

Change-Id: I8868132d5e18908d309da025760582a778ab4e72"
sleepsonthefloor,2012-02-11 05:42:39,https://api.github.com/repos/openstack/devstack/git/commits/440be4b6a85f6e25de834d4f5b2736fd82785b17,440be4b6a85f6e25de834d4f5b2736fd82785b17,"Add exercise that boots an instance from a volume.

 * Launches a cirros builder instance
 * Mounts a disk to the builder instance
 * Creates a bootable volume from builder
 * Launches the volume-backed instance
 * Update glance syntax
 * Don't require instance-to-web communication (that only works with
   fully configured floating ips)
 * Add footer/header

Change-Id: Ia6dcf399ee49154aaf4e597b060164c2f41cf3d2"
dtroyer,2012-03-14 04:56:49,https://api.github.com/repos/openstack/devstack/git/commits/4d88347f59afbb99a3674bd93cf520c8ac305eea,4d88347f59afbb99a3674bd93cf520c8ac305eea,"Add exercises/client-args.sh to test the pending cli changes for Keystone, Nova,
Glance and Swift.

Change-Id: I05aeda9be61e9c556d23ebc33076477c71708460"
sleepsonthefloor,2012-03-13 00:12:00,https://api.github.com/repos/openstack/devstack/git/commits/ae604985e78ae5e9763a348d132cb8e120b85c95,ae604985e78ae5e9763a348d132cb8e120b85c95,"Remove references to deprecated ec2 authorizor.

 * remove replace_pipeline
 * removes references to sysadmin and netadmin roles
 * removes references to admin ec2 api
 * fixes bug 953744
 * related fix in nova: https://review.openstack.org/#change,5024

Change-Id: I8792dae0157b8596a5f946670742411781fe47c0"
dtroyer,2012-03-07 23:31:03,https://api.github.com/repos/openstack/devstack/git/commits/df0972c1ee4d8dbb5b7a053198d8772a39fbdf86,df0972c1ee4d8dbb5b7a053198d8772a39fbdf86,"Spring cleaning in docs

This is nearly all about spiffing up stack.sh to improve comment
content and readability.  Shocco has been fixed so the comments and
code line up properly again in http://devstack.org/stack.sh.html so
the comments are being cleaned up and updated.

Change-Id: I2add0351106fb832fbf6e236cbd90630df97dec3"
dtroyer,2012-03-12 19:43:26,https://api.github.com/repos/openstack/devstack/git/commits/06a09d0c33f0626379cad377b4ffa20fcda54858,06a09d0c33f0626379cad377b4ffa20fcda54858,"Fix double-quoted service names

The Keystone service template parser doesn't do any quote interpolation,
it just splits on ' = ' and passes the two parts on. So we just remove
the quotes for now.

Fixes bug 943523

Change-Id: Ia2a10ec18db1a82f23f36200b0cdef84b4f78155"
dtroyer,2012-03-10 04:21:59,https://api.github.com/repos/openstack/devstack/git/commits/51fb454f71a9814486b5f3ad14bfad4d9c950596,51fb454f71a9814486b5f3ad14bfad4d9c950596,"Create exerciserc to configure exercises

* Move timeouts from openrc to (new) exerciserc
* Update all exercise scripts
* Update HACKING.rst

Fixes bug 951315

Change-Id: Icc4ff03a7dcf0cc711e204046176fb5186990c17"
chmouel,2012-03-09 14:21:40,https://api.github.com/repos/openstack/devstack/git/commits/8da5656ffd8b28d88536efbe6d452ab86c3b3e74,8da5656ffd8b28d88536efbe6d452ab86c3b3e74,"Move ENABLED_SERVICES to stackrc.

allow us to do things like that :

ENABLED_SERVICES=""$ENABLED_SERVICES,swift""

in localrc instead of having to copy the full config from stack.sh.

Fixes bug 951598.

Change-Id: I17e168473540760bcfa40a752ff2c266bd9b7044"
dtroyer,2012-03-08 06:33:54,https://api.github.com/repos/openstack/devstack/git/commits/0bd2410d469f11934b5965d83b57d56418e66b48,0bd2410d469f11934b5965d83b57d56418e66b48,"Move all EC2 cred creation to eucarc

* Remove credential creation from files/keystone_data.sh
* Remove EC2 cert setup from openrc
* Remove sourcing of ec2rc from stackrc
* Collect the above in eucarc
* Allow rc files to be sourced from other directories; based on Chmouel's
  4881 proposal but is simpler and doesn't actually change the directory
* Create S3 endpoint
* Get EC2 and S3 endpoints from Keystone service catalog
* Add EC2 credential checks to exercises/client-env.sh
* exercises/bundle.sh and exercises/euca.sh use eucarc

Updates:
* remove readlink -f to stay bash 3 compatible
* use service catalog
* create S3 endpoint

Fixes bug 949528

Change-Id: I58caea8cecbbd10661779bc2d150d241f4a5822e"
chmouel,2012-03-05 12:42:48,https://api.github.com/repos/openstack/devstack/git/commits/d966ed23e27bd3af3eebae48b8bc20747b1c0c96,d966ed23e27bd3af3eebae48b8bc20747b1c0c96,"Implement logging of screen windows.

- Fixes bug 945231.

Change-Id: Ie26555d3e99905ba053510f6b08822b1043aa974"
sleepsonthefloor,2012-03-09 23:47:28,https://api.github.com/repos/openstack/devstack/git/commits/e2d139b8c86dcb1e7c2be3ee00c686ca47199849,e2d139b8c86dcb1e7c2be3ee00c686ca47199849,"Remove calls to service-create in devstack for now.

 * The recommended backend for essex is the template backend.
 * Fixes bug 950213

Change-Id: I2f8bc9f74cee2d783cbadcc1d4d4e674ddb905b9"
chmouel,2012-03-09 15:37:56,https://api.github.com/repos/openstack/devstack/git/commits/fff6fec46d2659c39e05984a682ec8986715fbc9,fff6fec46d2659c39e05984a682ec8986715fbc9,"Make sure Logdir is created.

- FIxes bug 950902.

Change-Id: I1e387b4c97551744673281fdeae61d87c1fc39ab"
dtroyer,2012-03-05 13:15:30,https://api.github.com/repos/openstack/devstack/git/commits/07c3557383a02b630c7dee720495b65f41410bac,07c3557383a02b630c7dee720495b65f41410bac,"Add hacking guideline

After all, it _was_ docday when this was proposed!

This is by no means complete but some of this has come up a lot recently.

Change-Id: I72300506e1c74077d3f9e6bbabea3b2a25a8e829"
hudayou,2012-03-09 08:03:00,https://api.github.com/repos/openstack/devstack/git/commits/3b719e50fb8c3bf770018178e522580293a25cd4,3b719e50fb8c3bf770018178e522580293a25cd4,"Remove trailing whitespaces in regular file

Change-Id: I5faf840dd6649afcb53e91f1d033447f9729cee1"
termie,2012-03-08 22:18:22,https://api.github.com/repos/openstack/devstack/git/commits/f056b7d2d098361908df490e6683d26065a7cd3a,f056b7d2d098361908df490e6683d26065a7cd3a,"update policy driver

Change-Id: I2450806d27455ae8304446f5b6054e14a66658b1"
gabrielhurley,2012-03-08 21:40:29,https://api.github.com/repos/openstack/devstack/git/commits/c9166055ed3fa663cfaa28361644904457b1b24e,c9166055ed3fa663cfaa28361644904457b1b24e,"Moves python-cloudfiles dependency back to PIP.

For reasons currently unknown, apt-get seems to install
an unusably old version of python-cloudfiles in some
small subset of cases. To avoid that frustration for the
users it does affect, this patch moves python-cloudfiles
back to being installed by pip instead.

Fixes bug 931269.

Change-Id: I4c2e17ddcc0c0d327b3810b4fd4db117076df069"
dtroyer,2012-03-07 20:11:33,https://api.github.com/repos/openstack/devstack/git/commits/e0d677c71e30f2caefc1d1c117d3633a064de930,e0d677c71e30f2caefc1d1c117d3633a064de930,"Configure nova-rootwrap

* Nova runs as the same user as the rest of devstack and due to the
  sudo configuration for devstack itself it may be possible that
  root subprocess execution that doesn't go through utils.execute() will
  not be caught by the expected sudo failure.

Fixes bug 944373

Change-Id: I0554b3850a59d065059f8ad349c8ff8fb7cfa132"
dtroyer,2012-03-07 22:47:56,https://api.github.com/repos/openstack/devstack/git/commits/0b31e8678e5817950a0aba37d5930601cb4a1d24,0b31e8678e5817950a0aba37d5930601cb4a1d24,"Ensure that ip_forwarding is always enabled for compute and network

Libvirt gets this in most cases, but it can be disabled.  This is
belts + suspenders + super glue...

Fixes bug 885274

Change-Id: Ifb8d627689800b23cce02a623caa525cd17e507d"
heckj,2012-03-07 22:20:11,https://api.github.com/repos/openstack/devstack/git/commits/165121f7b69d9b8ad01d3256d068fdf77cebf840,165121f7b69d9b8ad01d3256d068fdf77cebf840,"adding default bind_host to enable change 4880

Change-Id: I949effe56cad7ae466a458da48bc85fe1c110138"
dtroyer,2012-03-07 20:52:25,https://api.github.com/repos/openstack/devstack/git/commits/d0b21e2d1967f650ddd123c1ecc1659b1baff783,d0b21e2d1967f650ddd123c1ecc1659b1baff783,"Fix dependency list generation corner cases

* Handle empty install lists in apt_get() and pip_install()
* pip_install now uses get_packages() to get the dependency list

Fixes bug 948714

Change-Id: I174a60976df18c670eab2067edcd1871c51d07d6"
vishvananda,2012-03-06 20:45:19,https://api.github.com/repos/openstack/devstack/git/commits/51aa401ff1bc5a217c53dcdfe74c3d13a6a991f6,51aa401ff1bc5a217c53dcdfe74c3d13a6a991f6,"Use the suggested default scheduler

Change-Id: I99de26ab653e670576e0825ad35b0a67eacda6f7"
vishvananda,2012-03-06 07:12:04,https://api.github.com/repos/openstack/devstack/git/commits/50aef3ba305ecf1855999997e05b8aba6f2000de,50aef3ba305ecf1855999997e05b8aba6f2000de,"Sets nova auth strategy to keystone

 * Prepares for https://review.openstack.org/#change,4955

Change-Id: I9bacd36d88dc434b1799336e7b2bd8fbf4354bf3"
dtroyer,2012-03-02 22:36:16,https://api.github.com/repos/openstack/devstack/git/commits/ced651797a630356d78a19a7f41a1542d291ad4f,ced651797a630356d78a19a7f41a1542d291ad4f,"Create nova.conf in INI format (rather than flagfile)

* Rename EXTRA_FLAGS to EXTRA_OPTS
* Is dependant on https://review.openstack.org/4946 (MERGED)

Fixes bug 938924

Change-Id: Idee4f86e7846cff3529e173526d3ccb2289472f0"
dtroyer,2012-03-02 14:43:09,https://api.github.com/repos/openstack/devstack/git/commits/b7d1fbbe20ce8ef60607d937c22293dfff90e964,b7d1fbbe20ce8ef60607d937c22293dfff90e964,"Cleanup keystone_data.sh

* Remove the compatibility code for older keystone client
* Reformat commands similar to keystone sample_data.sh
* Improve documentation

Change-Id: I2fc544555a1b936d28f11c3c4eaaf885b2cb6d17"
anotherjesse,2012-03-05 07:40:05,https://api.github.com/repos/openstack/devstack/git/commits/9f1891e668fa23c9097197f2a3c6e3047cae5d51,9f1891e668fa23c9097197f2a3c6e3047cae5d51,"fix kvm configuration for jenkins

Change-Id: I46cd63f2ff1eaf24872486f1b0bcb16f2e6f1dd6"
anotherjesse,2012-03-03 08:51:46,https://api.github.com/repos/openstack/devstack/git/commits/7052f7299065650dccb69dd12b6e5414aac32005,7052f7299065650dccb69dd12b6e5414aac32005,"use --silent-upload for glance - bug 945454

Change-Id: Ib96b38223e21644e3bfbbb3836eb24cbd5d33b49"
dtroyer,2012-03-02 16:44:29,https://api.github.com/repos/openstack/devstack/git/commits/489bd2a62b5949665bc7c4a05a52d27a987e0489,489bd2a62b5949665bc7c4a05a52d27a987e0489,"Improve exercise robustness

* Test returns and exit codes on most command invocations
* Add start and end banners to make output easier to find in
  long log files
* Adds die_if_error(), die_if_not_set() and is_set() to functions
* Add some function tests

Fixes bug 944593

Change-Id: I55e2962c5fec9aad237b674732b1e922ad37a62e"
dtroyer,2012-02-24 16:44:18,https://api.github.com/repos/openstack/devstack/git/commits/4807df8e5bc0e5e78536ecea37a0ca7621720524,4807df8e5bc0e5e78536ecea37a0ca7621720524,"Update openrc to focus on current OS_* environment variables

* Support for NOVA_* variables removed
* Support for username and tenant on command line added

Change-Id: Icd50e8bd06eaeedbc4bfd10a67ad0329d72d5756"
dtroyer,2012-02-28 22:41:10,https://api.github.com/repos/openstack/devstack/git/commits/b3288381047690510845209cc372d07e5b11e396,b3288381047690510845209cc372d07e5b11e396,"Add service account configuration

* Use username/password instead of service token for service auth to Keystone
* Updates files/glance-*-paste.ini and files/swift/proxy-server.conf
* keystone_data.sh creates 'service' tenant, 'nova' and 'glance' users
  ('swift' and 'quantum' if those services are enabled)
* Uses $SERVICE_PASSWORD for the service auth password. There is no default;
  to default to $ADMIN_PASSWORD, place the assignment in localrc.

Fixes bug 942983

Change-Id: If78eed1b509a9c1e8441bb4cfa095da9052f9395"
justinsb,2012-02-29 19:11:01,https://api.github.com/repos/openstack/devstack/git/commits/2144ea23bb8621647dfb92b114718c2e3a401f41,2144ea23bb8621647dfb92b114718c2e3a401f41,"Add xml filter to keystone.conf

Bug #943499

Change-Id: If636705839606a28c6a6905cd11deaa1fff76438"
justinsb,2012-02-06 20:15:59,https://api.github.com/repos/openstack/devstack/git/commits/cc86a9e43a23a1e7f86d978fbea3eb56824c705a,cc86a9e43a23a1e7f86d978fbea3eb56824c705a,"Support passing extra args to network create if NETWORK_CREATE_ARGS is defined

Change-Id: I17b96b74bc7c137589e9af85379c9c6c1bed76c8"
chmouel,2012-02-29 14:11:01,https://api.github.com/repos/openstack/devstack/git/commits/a6bdfddd2b9ac89ea5ceba7cde5f37eddaf936df,a6bdfddd2b9ac89ea5ceba7cde5f37eddaf936df,"Use OS common cli auth arguments.

Change-Id: I80c9e42abb7060622d82cffc83d0108654a36562"
chmouel,2012-02-29 13:42:44,https://api.github.com/repos/openstack/devstack/git/commits/782f24ee39a1c9cc201956b726c95140cb73dc83,782f24ee39a1c9cc201956b726c95140cb73dc83,"Add small note about Swift.

Change-Id: Id1c014e6fcdf8e52a5e01e7bacf01a567d25e70a"
gabrielhurley,2012-02-29 09:36:53,https://api.github.com/repos/openstack/devstack/git/commits/f1a11adf2bc308c386cb2c818088fe040019f114,f1a11adf2bc308c386cb2c818088fe040019f114,"Updates devstack to E4 final horizon package structure.

Change-Id: Iedc30eb532b93e5755310b1037a2ecbb3552aab0"
zyluo,2012-02-10 16:56:18,https://api.github.com/repos/openstack/devstack/git/commits/0d7b5a4035a2d9db10f3209d543dbddddc8cb983,0d7b5a4035a2d9db10f3209d543dbddddc8cb983,"Backslash continuations (DevStack)

Fixes bug #943087

Backslash continuations removal for DevStack

Change-Id: I3e3e6d35b939ce8d0e3bc2b529c9d172286ba2c0"
vishvananda,2012-02-27 22:41:54,https://api.github.com/repos/openstack/devstack/git/commits/854d8c93b81667b04a3ad38720bcc02acf3d15b0,854d8c93b81667b04a3ad38720bcc02acf3d15b0,"Add a helper method to volumes test to get fields

 * The way we retrieve data from cli output is janky, this
   improves it slightly by creating a helper method.

Change-Id: Ib0889fd56f6a78bed85dad4c5e9e6e34bac9fb0d"
vishvananda,2012-02-27 01:14:58,https://api.github.com/repos/openstack/devstack/git/commits/112a360128a216829f30bb99fabfbc73303b44ca,112a360128a216829f30bb99fabfbc73303b44ca,"Update incorrect comment about certs in openrc

Change-Id: I1efdf9f43572b169a5d35406195c2228bddc90e3"
chmouel,2012-02-25 08:04:48,https://api.github.com/repos/openstack/devstack/git/commits/8534bcb6bb15db3d781228880040fd684a7cf228,8534bcb6bb15db3d781228880040fd684a7cf228,"Update Swift configuration with keystone latest.

- Update Swift to use the new tokenauth and swift_auth from keystone.
- Drop swift-keystone2.
- Add swift3 / s3token in swift proxy pipeline (TODO: figure out
testing).
- Fix exercises/swift.sh (workaround until review #3712 get merged).

Change-Id: Ie85d30e14cee21c6f80043fccde92dfb229f0e80"
chmouel,2012-02-25 08:02:18,https://api.github.com/repos/openstack/devstack/git/commits/2e9158ebc61b349d4f238d2254bc1b9899d3f6fa,2e9158ebc61b349d4f238d2254bc1b9899d3f6fa,"Add S3 extension to keystone.conf

Change-Id: I52bae49a8071cc0087a9ddc6b9857245ffdae556"
russellb,2012-02-24 15:23:33,https://api.github.com/repos/openstack/devstack/git/commits/5836b1533a8d3cbe4dac7ad90c862948dadb1fbc,5836b1533a8d3cbe4dac7ad90c862948dadb1fbc,"Wait for VM to stop before deleting security group.

Related to bug 938853.

The patch for this bug prevents deleting security groups through the
OpenStack API if they are still in use.  This patch for devstack updates
the floating_ips exercise script to wait until the VM has stopped before
deleting the security group.

Change-Id: If42f85934c2b92d4d001c419cabb09e2e3dc1aae"
dtroyer,2012-02-04 04:56:38,https://api.github.com/repos/openstack/devstack/git/commits/ce043c4dbf38a4947274cbfcbee79bd8e6283a6c,ce043c4dbf38a4947274cbfcbee79bd8e6283a6c,"README updates

Change-Id: I0732a26a50b736e89d35b03a9ff79fa068804677"
dtroyer,2012-02-24 03:34:29,https://api.github.com/repos/openstack/devstack/git/commits/31986b247c9182e37d497588cfe26ff753ef50dc,31986b247c9182e37d497588cfe26ff753ef50dc,"Remove pycli from keystone pips

Removed from keystone pip-requires in https://review.openstack.org/4261

Change-Id: I629881f47fa198019e60fc81ca38917fa0b60dd8"
vishvananda,2012-02-24 01:57:07,https://api.github.com/repos/openstack/devstack/git/commits/5f9473e8b9bdc15f42db597d5d1e766b760f764e,5f9473e8b9bdc15f42db597d5d1e766b760f764e,"Add nova-volume endpoint to service catalog

Change-Id: Id04568d7f8eecc8c8e7c1a92990d37a46923caf7"
vishvananda,2012-02-24 02:01:31,https://api.github.com/repos/openstack/devstack/git/commits/231ce63a146003a38c336b2f1f539882c9380266,231ce63a146003a38c336b2f1f539882c9380266,"Enable nova-volume by default

Change-Id: I624eaab54619ef0ea6aec980df4a26e019b9674a"
dtroyer,2012-02-23 17:21:10,https://api.github.com/repos/openstack/devstack/git/commits/f4565c46940c1e2e5ab62b2fb05fc59633a15fc0,f4565c46940c1e2e5ab62b2fb05fc59633a15fc0,"Make keystone_data.sh handle existing and updated keystone client

Keystone client commands and options have been normalized and
keystone_data.sh needs to support both versions for a transition
period.

The merge prop for the updated keystone client is
https://review.openstack.org/4375

Necessary for bug 396422

Also fix an intermittent problem extacting IDs from command output.

Change-Id: Ib13445a0bd3029fb02b0b7a86e8e0b8278717b57"
gabrielhurley,2012-02-24 00:54:01,https://api.github.com/repos/openstack/devstack/git/commits/155266b94713da74065e5555cd42485f6e8915e7,155266b94713da74065e5555cd42485f6e8915e7,"Preserve swift tenant_id variable when writing into keystone catalog.

Change-Id: Ib01e520f554dbf3f3a07e120e28c95a005172dfc"
vishvananda,2012-02-23 23:35:43,https://api.github.com/repos/openstack/devstack/git/commits/7a103dda1c7c40529d5eee4a2fdc9bf9aae883c9,7a103dda1c7c40529d5eee4a2fdc9bf9aae883c9,"Remove legacy paste config and nova.conf

 * Fixes bug 939907

Change-Id: Icef50b51bca86f78214f68f027283f2fa00807e1"
gabrielhurley,2012-02-23 21:20:03,https://api.github.com/repos/openstack/devstack/git/commits/7bd3087e73c0683acf5df40d1eed51709d865c06,7bd3087e73c0683acf5df40d1eed51709d865c06,"Only add Quantum and Swift to Keystone catalog if enabled.

Incidentally removes some outdated (unused) settings from the
Horizon settings file.

Fixes bug 939820.

Change-Id: I61e97c194070e46d21a6c0eb66eef88bd14efeee"
thrawn01,2012-02-21 15:53:53,https://api.github.com/repos/openstack/devstack/git/commits/aaa0dbb2e7aab9a1b8ebeb2cc6c3d373a0f81d5c,aaa0dbb2e7aab9a1b8ebeb2cc6c3d373a0f81d5c,"Restart openstack services after running stack.sh

* Added screen_rc function in stack.sh to save started services to stack-screenrc file
* Added rejoin-stack.sh to rejoin the current screen session or start a new session

Change-Id: I381a7832bc8a107bfbd51c5ecfbd2e9134cf0a0a
blueprint: restart-services"
dtroyer,2012-02-22 16:18:31,https://api.github.com/repos/openstack/devstack/git/commits/55707079af9e711ac226dc1e47754f008ee40868,55707079af9e711ac226dc1e47754f008ee40868,"Fix nova.conf paths

https://review.openstack.org/4227 missed a couple of paths to nova.conf
that need to be corrected.

Fixes bug 938692

Change-Id: I083baacc18792088a2a3ab032768c895a4feae76"
russellb,2012-02-22 16:19:32,https://api.github.com/repos/openstack/devstack/git/commits/243b26a84e0328eaa5e3051a17416b3323c2c703,243b26a84e0328eaa5e3051a17416b3323c2c703,"Wait for instance termination to complete.

This patch waits for instance termination to complete before trying to
delete the security group.  The last change to simply move the security
group deletion to after euca-terminate-instance was not sufficient, as
it has to wait until the termination is complete.

Change-Id: Icba579534f324afb4d44abd42d8c755834dd2a57"
russellb,2012-02-21 22:43:33,https://api.github.com/repos/openstack/devstack/git/commits/e7ed17eea4975931401d80e360cbd66e797ef258,e7ed17eea4975931401d80e360cbd66e797ef258,"Delete security group after terminating instance.

This patch slightly modifies the order of operations in the euca exercise
script.  It moves the deletion of the security group to the end, after
the instance has been terminated.  The reason this change must be made
is because of this change proposed to nova:

    https://review.openstack.org/#change,4154

Without this change, when exercise.sh is run against this patch, the euca
exercises will fail when the security group is deleted.  Moving it to the
end should make it pass, as the security group will no longer be in use.

Change-Id: I9095a02c42173ed1837ec20b38d5ef00fe4474ec"
gabrielhurley,2012-02-13 20:29:23,https://api.github.com/repos/openstack/devstack/git/commits/a3a496f9c2de8ab161bbe1e5723e66659bb1072e,a3a496f9c2de8ab161bbe1e5723e66659bb1072e,"Adds quantum service and endpoint to keystone if quantum is enabled.

Change-Id: I41eac84a48e8e716b77b7c874244c626b5df3006"
sleepsonthefloor,2012-02-17 23:22:30,https://api.github.com/repos/openstack/devstack/git/commits/18ee4eaf582d27012173ed017d57283f662d7cb5,18ee4eaf582d27012173ed017d57283f662d7cb5,"Fix admin version pipeline.

 * ala https://review.openstack.org/#change,4282

Change-Id: I1cb3ad4b3ff2c8f339c18db15e44a862bbc07282"
dtroyer,2012-02-16 22:31:24,https://api.github.com/repos/openstack/devstack/git/commits/6a3f6072729b4405d4201cf5f8340e3f4f40416d,6a3f6072729b4405d4201cf5f8340e3f4f40416d,"Use keystone master branch by default

Change-Id: I25cf3908dcdde87e79d9a55ff3f7aef5610d7102"
chmouel,2012-02-16 10:35:26,https://api.github.com/repos/openstack/devstack/git/commits/a95efab1c3031b5060bb02d2409237772419bab8,a95efab1c3031b5060bb02d2409237772419bab8,"Allow to configure a number of swift replicas.

Remove the scripts swift-remakerings and swift-startmain along the way.

Change-Id: I7c65303791689523f02e5ae44483a6c50b2eed1e"
chmouel,2012-02-16 10:16:52,https://api.github.com/repos/openstack/devstack/git/commits/a6651e94001a2f024902c3dc772a8be9a3218118,a6651e94001a2f024902c3dc772a8be9a3218118,"Add is_service_enabled function.

Add a function to detect if one of the feature/server is enabled.
Some catch all for nova glance quantum

Thanks for dtroyer reviews and suggestions.

Change-Id: I082be08ebad666de16f0710627696516b3b3c48b"
dtroyer,2012-02-13 17:22:36,https://api.github.com/repos/openstack/devstack/git/commits/bd13b708f2895a1e6e49096231ce3c60c3bbfa8e,bd13b708f2895a1e6e49096231ce3c60c3bbfa8e,"Fixes bug 885087: /etc/nova/nova.conf

(This commit didn't get backported to redux, so needs to be re-applied now.)

Move Nova config files (nova.conf, api-paste.ini) to /etc/nova
so all binaries can find them, particularly /usr/local/bin/nova-manage.

Change-Id: I002a9ae1c601894c943a49057cdcf0ab9e9d6c61"
jeblair,2012-02-14 23:56:37,https://api.github.com/repos/openstack/devstack/git/commits/bfb52735dd1d26d32a0679ad5fdf94d753e92179,bfb52735dd1d26d32a0679ad5fdf94d753e92179,"Merge redux branch (keystone light)

Change-Id: I2cb5b198a06848f42f919ea49e338443131e263e"
invalid-email-address,2012-01-19 21:28:21,https://api.github.com/repos/openstack/devstack/git/commits/b115341253b30fd51b5ac2fa763c701737eaae6c,b115341253b30fd51b5ac2fa763c701737eaae6c,"Generalize xen network config

Allow dhcp for IP addresses.
dhclient3 bug workaround.
Refactor code to improve network creation logic.

Change-Id: Ia3e2e65bbe8b68cf4832595cb7c283c3dc84db19"
sleepsonthefloor,2012-02-14 22:20:36,https://api.github.com/repos/openstack/devstack/git/commits/258c95de099309bd6b26f441d004ca3f67e9c25a,258c95de099309bd6b26f441d004ca3f67e9c25a,"Update paste config to return version info

Change-Id: I67edb5c9aab6899c105666a4541918bad9116386"
dtroyer,2012-02-02 00:01:01,https://api.github.com/repos/openstack/devstack/git/commits/31cce21808d259037703cc3386ad99b50482d5f5,31cce21808d259037703cc3386ad99b50482d5f5,"Blueprint cli-auth

* Add proper test for swift in client-env.sh
* Remove all VERIFY variables; nothing beyond the 4 OS_ vars is set now
* Update exercises for Keystone 2.0 auth
* swift understands Keystone 2.0 auth now, don't download custom binary
* cleanup uploaded bundle in bundle.sh

Change-Id: I99c818d81534bbf93c0e142513acb80e5fe613ea"
sleepsonthefloor,2011-12-16 20:23:07,https://api.github.com/repos/openstack/devstack/git/commits/00596bb5f227732045c0aa0fab38f2e0c6054aca,00596bb5f227732045c0aa0fab38f2e0c6054aca,"switch public_interface to br100 so that floating ips don't get bumped between interfaces

 * Set VLAN_INTERFACE to eth0 by default

Change-Id: I8a85465fa389af3af04d91775a99df58b2da575a"
sleepsonthefloor,2012-02-11 08:17:31,https://api.github.com/repos/openstack/devstack/git/commits/4f830e11f3e2497693243a423913d5799af71012,4f830e11f3e2497693243a423913d5799af71012,"Logout and delete iscsi sessions

Change-Id: I4906f943adc226c2dba9faf5e1595f47c4466432"
sleepsonthefloor,2012-02-03 20:17:22,https://api.github.com/repos/openstack/devstack/git/commits/2fcb6661cc13d77add8133e769b3c1650e093272,2fcb6661cc13d77add8133e769b3c1650e093272,"Configure vnc url endpoints on compute hosts

 * The compute manager constructs access urls, and so needs this info

Change-Id: Ifa5f515a071d5006f6fc5cc6103eff91eafdb2b7"
chmouel,2012-02-09 15:36:15,https://api.github.com/repos/openstack/devstack/git/commits/73c70890785e2c9e7312fe5ad579bf9a9d400de1,73c70890785e2c9e7312fe5ad579bf9a9d400de1,"Launch screen with bash as shell

Since screen commands are bash specifics make sure we launch screen with
bash login shell instead of other shells.

Fixes bug928883.

Change-Id: I62b4c7182682deb4ef16ed0cf1a3b5a130c1c4ee"
chmouel,2012-02-09 15:44:32,https://api.github.com/repos/openstack/devstack/git/commits/6869d1ab7812c378ae65cab92ed6b84b699ec019,6869d1ab7812c378ae65cab92ed6b84b699ec019,"Add object-expirer.

Fixes bug 928198.

Change-Id: I0f3bbe323cdb285714d1c80fe7e7b7d9842ece06"
chmouel,2012-02-09 15:27:58,https://api.github.com/repos/openstack/devstack/git/commits/36867add0ea38dc88f58a1b77bf28f762f384a91,36867add0ea38dc88f58a1b77bf28f762f384a91,"Remove TMUX support.

After discussion on the mailing list tmux is not used much and since it
was broken for a while remove that support.

Fixes bug 928967.

Change-Id: Iff1eea45190f4ef873c60b3563fe94359702446d"
dtroyer,2012-02-08 17:49:28,https://api.github.com/repos/openstack/devstack/git/commits/e830a780f03753b18e423c0e66abc5813e84d0cf,e830a780f03753b18e423c0e66abc5813e84d0cf,"Not all distros include a symlink from euca-describe-group to euca-describe-groups

Change-Id: Iaba71c36b405d2891aebdb45c1b9fd84853988f5"
sleepsonthefloor,2012-02-08 00:54:20,https://api.github.com/repos/openstack/devstack/git/commits/6325216cde36c3af89161c0be0d7b652fdc0fccd,6325216cde36c3af89161c0be0d7b652fdc0fccd,"Update code to remove iscsi targets

 * Fixes bug 928475

Change-Id: I9b54436522422d865c7add750d612c371945817a"
dtroyer,2012-02-02 00:01:01,https://api.github.com/repos/openstack/devstack/git/commits/80756ea71a86e91b2ec45ac25875a2e928b183be,80756ea71a86e91b2ec45ac25875a2e928b183be,"Blueprint cli-auth

* Add proper test for swift in client-env.sh
* Remove all VERIFY variables; nothing beyond the 4 OS_ vars is set now
* Update exercises for Keystone 2.0 auth
* swift understands Keystone 2.0 auth now, don't download custom binary
* cleanup uploaded bundle in bundle.sh

Change-Id: I99c818d81534bbf93c0e142513acb80e5fe613ea"
dtroyer,2012-02-13 17:22:36,https://api.github.com/repos/openstack/devstack/git/commits/d1dd25e6a60d7987f94cb39f2150d8083f562032,d1dd25e6a60d7987f94cb39f2150d8083f562032,"Fixes bug 885087: /etc/nova/nova.conf

Move Nova config files (nova.conf, api-paste.ini) to /etc/nova
so all binaries can find them, particularly /usr/local/bin/nova-manage.

Change-Id: I2fb71159c16dffc610dcfda4158593dbd6423c5e"
sleepsonthefloor,2011-12-16 20:23:07,https://api.github.com/repos/openstack/devstack/git/commits/689b2ac1b925e3957bb5af7a5efa1cc33e8070d7,689b2ac1b925e3957bb5af7a5efa1cc33e8070d7,"switch public_interface to br100 so that floating ips don't get bumped between interfaces

 * Set VLAN_INTERFACE to eth0 by default

Change-Id: I8a85465fa389af3af04d91775a99df58b2da575a"
sleepsonthefloor,2012-02-11 08:17:31,https://api.github.com/repos/openstack/devstack/git/commits/53fca56da2e257dff90ba5400945bb1e227e7f38,53fca56da2e257dff90ba5400945bb1e227e7f38,"Logout and delete iscsi sessions

Change-Id: I4906f943adc226c2dba9faf5e1595f47c4466432"
vishvananda,2012-02-08 23:33:41,https://api.github.com/repos/openstack/devstack/git/commits/53284c8ed04e249e81c07532bdeb6876f2404bb7,53284c8ed04e249e81c07532bdeb6876f2404bb7,"Change to use the right keystonelight repo

Change-Id: Ie216b9eade59f09c76d193a6d0fd353a02dd575f"
sleepsonthefloor,2012-02-03 20:17:22,https://api.github.com/repos/openstack/devstack/git/commits/febded24995fc10c7890e84c6df71bc48b5f2a8c,febded24995fc10c7890e84c6df71bc48b5f2a8c,"Configure vnc url endpoints on compute hosts

 * The compute manager constructs access urls, and so needs this info

Change-Id: Ifa5f515a071d5006f6fc5cc6103eff91eafdb2b7"
chmouel,2012-02-09 15:36:15,https://api.github.com/repos/openstack/devstack/git/commits/0cbe851b294a114e7ffd7c669f88cad41d019292,0cbe851b294a114e7ffd7c669f88cad41d019292,"Launch screen with bash as shell

Since screen commands are bash specifics make sure we launch screen with
bash login shell instead of other shells.

Fixes bug928883.

Change-Id: I62b4c7182682deb4ef16ed0cf1a3b5a130c1c4ee"
chmouel,2012-02-09 15:44:32,https://api.github.com/repos/openstack/devstack/git/commits/12c7d4b30327c50d7fa35595e9854ee9d600eb5f,12c7d4b30327c50d7fa35595e9854ee9d600eb5f,"Add object-expirer.

Fixes bug 928198.

Change-Id: I0f3bbe323cdb285714d1c80fe7e7b7d9842ece06"
chmouel,2012-02-09 15:27:58,https://api.github.com/repos/openstack/devstack/git/commits/90c9310555dca3630478f0ed0cb8495b9cb6463f,90c9310555dca3630478f0ed0cb8495b9cb6463f,"Remove TMUX support.

After discussion on the mailing list tmux is not used much and since it
was broken for a while remove that support.

Fixes bug 928967.

Change-Id: Iff1eea45190f4ef873c60b3563fe94359702446d"
vishvananda,2012-02-09 03:50:57,https://api.github.com/repos/openstack/devstack/git/commits/d1f5243d91de2756fecd52c3b3a15a4f0a488fdf,d1f5243d91de2756fecd52c3b3a15a4f0a488fdf,"Uses keystone client instead of keystone-manage

 * Depends on https://review.openstack.org/#change,3948
 * Depends on https://review.openstack.org/#change,3945
 * Fixes bug 928558

Change-Id: I83c337e3b92a9ab0dac254afe83673185867b7b0"
chmouel,2012-02-07 17:13:44,https://api.github.com/repos/openstack/devstack/git/commits/44b5736d23aa544ea4ac1c9feadd4724b18102be,44b5736d23aa544ea4ac1c9feadd4724b18102be,"Check if screen is installed before using it.

Fixes 928377

Change-Id: Ie34860e6d08a457dd52a6c3106d63b54c284f6f3"
sleepsonthefloor,2012-01-13 01:11:56,https://api.github.com/repos/openstack/devstack/git/commits/af6d47cb3da92df0a49adbad1d4c9d4f50124147,af6d47cb3da92df0a49adbad1d4c9d4f50124147,"Separate out build_xva process so that it can be run on a machine besides dom0

Change-Id: I3a6e1ef874c83d79d09a8df1f086ec06d39db2df"
dtroyer,2012-02-03 17:23:32,https://api.github.com/repos/openstack/devstack/git/commits/efa578aabe8a2fa3b1d432856186b0e193fcad89,efa578aabe8a2fa3b1d432856186b0e193fcad89,"Fixes bug 920762: change Admin to admin in swift/proxy-server.conf

Change-Id: I6cb564ed2a6eaaf325a9573b4a6d372ae8a73c8d"
dtroyer,2012-01-31 18:11:56,https://api.github.com/repos/openstack/devstack/git/commits/6563a3ce76c5ea8e20056350d68c19a6366bca5d,6563a3ce76c5ea8e20056350d68c19a6366bca5d,"Extract common functions into a separate file

This is the start of an effort to organize devstack's code
to better document the requirements for configuring the individual
components.

Change-Id: I3476b76b9d1f9ee63687fb9898a98729118cbd84"
dtroyer,2012-02-08 17:49:28,https://api.github.com/repos/openstack/devstack/git/commits/a94784135e5c420e967e14ad535926ddc2580a9c,a94784135e5c420e967e14ad535926ddc2580a9c,"Not all distros include a symlink from euca-describe-group to euca-describe-groups

Change-Id: Iaba71c36b405d2891aebdb45c1b9fd84853988f5"
sleepsonthefloor,2012-02-08 00:54:20,https://api.github.com/repos/openstack/devstack/git/commits/2f9cdef933f6ae96e1a660fac773a07657f0d694,2f9cdef933f6ae96e1a660fac773a07657f0d694,"Update code to remove iscsi targets

 * Fixes bug 928475

Change-Id: I9b54436522422d865c7add750d612c371945817a"
chmouel,2012-02-07 17:13:44,https://api.github.com/repos/openstack/devstack/git/commits/06980ea0aeaec4d4f6b7df756ca1a9238efc7b92,06980ea0aeaec4d4f6b7df756ca1a9238efc7b92,"Check if screen is installed before using it.

Fixes 928377

Change-Id: Ie34860e6d08a457dd52a6c3106d63b54c284f6f3"
termie,2012-02-04 05:40:32,https://api.github.com/repos/openstack/devstack/git/commits/84c0599a3a4b5de4f3b23b894e44a65db7d81cd1,84c0599a3a4b5de4f3b23b894e44a65db7d81cd1,"Move the clone of keystoneclient

Change-Id: I82eb457e36e9f43636bc27242fb4a1b4b1ecad36"
vishvananda,2012-02-06 22:56:37,https://api.github.com/repos/openstack/devstack/git/commits/658ac7a4cc0f54ce64e9704dcabd2d4a262bb24f,658ac7a4cc0f54ce64e9704dcabd2d4a262bb24f,create and store secret and access keys
sleepsonthefloor,2012-01-13 01:11:56,https://api.github.com/repos/openstack/devstack/git/commits/1188904eee9a1473b154850e5ae77a48a71ef9f4,1188904eee9a1473b154850e5ae77a48a71ef9f4,"Separate out build_xva process so that it can be run on a machine besides dom0

Change-Id: I3a6e1ef874c83d79d09a8df1f086ec06d39db2df"
vishvananda,2012-02-06 21:21:52,https://api.github.com/repos/openstack/devstack/git/commits/d281376de8059d0f29bb2df725c0924800ab06db,d281376de8059d0f29bb2df725c0924800ab06db,fix logging and move keystone client earlier in the install chain
sleepsonthefloor,2012-02-04 05:40:32,https://api.github.com/repos/openstack/devstack/git/commits/b0b6d315bd12f952d95c9dc02ca9f5e6c4e53a01,b0b6d315bd12f952d95c9dc02ca9f5e6c4e53a01,"Changes to get devstack working again with ksl + trunk

Change-Id: I7261b2d88325d4f9cb3337478dbcbd04c25e52ed"
dtroyer,2012-02-03 17:23:32,https://api.github.com/repos/openstack/devstack/git/commits/2e8bb8851fcb633edb0acbb00bd8b7b228638041,2e8bb8851fcb633edb0acbb00bd8b7b228638041,"Fixes bug 920762: change Admin to admin in swift/proxy-server.conf

Change-Id: I6cb564ed2a6eaaf325a9573b4a6d372ae8a73c8d"
termie,2012-02-03 01:31:19,https://api.github.com/repos/openstack/devstack/git/commits/8a41c9dad483c1da89f8763e76d76a0c9a9984b4,8a41c9dad483c1da89f8763e76d76a0c9a9984b4,update to get keystone working
termie,2012-02-03 00:53:42,https://api.github.com/repos/openstack/devstack/git/commits/221367c0a3f278b923f32881b585787a826ea9da,221367c0a3f278b923f32881b585787a826ea9da,yup
termie,2012-02-03 00:45:48,https://api.github.com/repos/openstack/devstack/git/commits/3b15b0566435ba4a11fe948b4c8c74306406da34,3b15b0566435ba4a11fe948b4c8c74306406da34,update keystone.conf
heckj,2012-01-29 20:54:57,https://api.github.com/repos/openstack/devstack/git/commits/950bb4555aad563fc91ba2d09382fd5a0d66f03f,950bb4555aad563fc91ba2d09382fd5a0d66f03f,updating to match master ksl CLI options
heckj,2012-01-18 18:19:15,https://api.github.com/repos/openstack/devstack/git/commits/708a2ad10d1cab4a928b38c7455e0b853faae73e,708a2ad10d1cab4a928b38c7455e0b853faae73e,logging tweaks for devstack/keystone and cd for keystone db_sync
termie,2012-01-11 22:31:59,https://api.github.com/repos/openstack/devstack/git/commits/747ee33efd9c4142cc46c4e0eb4772f0ca3e149a,747ee33efd9c4142cc46c4e0eb4772f0ca3e149a,working now
termie,2012-01-11 02:04:39,https://api.github.com/repos/openstack/devstack/git/commits/50edca6dd4fa226643e0f714c73c145845d3a6af,50edca6dd4fa226643e0f714c73c145845d3a6af,proper conf
termie,2012-01-11 01:59:00,https://api.github.com/repos/openstack/devstack/git/commits/eacc5953d26a8d1c4b0db4fb4a9cd9b6e201e10b,eacc5953d26a8d1c4b0db4fb4a9cd9b6e201e10b,bunch of fixes
termie,2012-01-10 06:15:40,https://api.github.com/repos/openstack/devstack/git/commits/82aa41a2bd92d693309a325492df2e4ae3ef88a2,82aa41a2bd92d693309a325492df2e4ae3ef88a2,"oh, comment that out"
termie,2012-01-10 06:13:29,https://api.github.com/repos/openstack/devstack/git/commits/a96a418171f8762e55938186b85443f47c215ad3,a96a418171f8762e55938186b85443f47c215ad3,new keystone support
dolph,2012-02-02 21:02:23,https://api.github.com/repos/openstack/devstack/git/commits/e60c9d03594b27368c3b8bb5bdeac799a97735eb,e60c9d03594b27368c3b8bb5bdeac799a97735eb,"Hyphens in var names produce warnings (bug 925718)

Change-Id: Ib1b81273e2b2ec5e56dead920252684a997ce12d"
jkoelker,2012-01-23 17:17:27,https://api.github.com/repos/openstack/devstack/git/commits/64a9066018d21626cff7389766c89de83db1e0ee,64a9066018d21626cff7389766c89de83db1e0ee,"Add Melange Support

Change-Id: I3961a007b10aed5ef47422bcf0eedd43d35a2cff"
dtroyer,2012-01-24 17:26:15,https://api.github.com/repos/openstack/devstack/git/commits/10670d1bad6b4afd3dce9af61d22c8cd5eeded59,10670d1bad6b4afd3dce9af61d22c8cd5eeded59,"Add support for OS_* environment vars

Add the OS_* env variables to mirror the NOVA_* vars; example:
setting OS_USERNAME will override NOVA_USERNAME in the clients and
tools, but if left unset it defaults to NOVA_USERNAME.

Adds exercises/client-env.sh to test operation of command-line
clients with only the OS_* variables set

Addresses bug 897304, http://wiki.openstack.org/CLIAuth

Change-Id: I72450153541072fe8026a82748cfcd1cf5ed31d8"
dtroyer,2012-01-31 18:11:56,https://api.github.com/repos/openstack/devstack/git/commits/7f9aa71bcea98a27d144a71841842069106bb3bc,7f9aa71bcea98a27d144a71841842069106bb3bc,"Extract common functions into a separate file

This is the start of an effort to organize devstack's code
to better document the requirements for configuring the individual
components.

Change-Id: I3476b76b9d1f9ee63687fb9898a98729118cbd84"
dtroyer,2012-01-10 20:43:17,https://api.github.com/repos/openstack/devstack/git/commits/608bb12ae5fe22f3e9984706a2484d6839975e96,608bb12ae5fe22f3e9984706a2484d6839975e96,"Update devstack's Tempest integration

Split build_ci_config.sh into:
* tools/build_tempest.sh - checks out Tempest and installs prereqs
* tools/configure_tempest.sh - creates tempest.conf from devstack

Change-Id: I22f40226afb617a5a6e32f2631b07d5509f10b13"
sleepsonthefloor,2012-01-26 20:59:26,https://api.github.com/repos/openstack/devstack/git/commits/a575d500bae42646471cafef72d39a4f61c1c56f,a575d500bae42646471cafef72d39a4f61c1c56f,"Remove horizon session db.

 * Removes stale sessions
 * Forcefully logs out the user between runs

Change-Id: I5374076283b8bc63826004c455b86afc86009b00"
sleepsonthefloor,2012-01-26 20:29:51,https://api.github.com/repos/openstack/devstack/git/commits/fc3c62d17cff9e5b7b54d60f6dd135bde8e8bd91,fc3c62d17cff9e5b7b54d60f6dd135bde8e8bd91,"Remove openstackx from devstack

 * Fixes bug 917457

Change-Id: I590eb54195b2783adb78f64486c300f6db650ac2"
sleepsonthefloor,2012-01-26 17:38:33,https://api.github.com/repos/openstack/devstack/git/commits/50fc5c64ec496cba6dfa494b9cbc1faae95d0775,50fc5c64ec496cba6dfa494b9cbc1faae95d0775,"Make --vnc_listen configurable

Change-Id: I3499306f5fd56f602657794632dddb0bb11f2958"
dtroyer,2012-01-26 17:09:25,https://api.github.com/repos/openstack/devstack/git/commits/d4f44b49d944ae0498108f33c5ff2a9e9ad24376,d4f44b49d944ae0498108f33c5ff2a9e9ad24376,"Add python-dateutil for nova api

Change-Id: I6926fec02e432cbbe49312aa51b0a931d8a091f3"
dtroyer,2012-01-25 22:35:57,https://api.github.com/repos/openstack/devstack/git/commits/7d9543075ac9533749e53e808bc3ad179a74b2b6,7d9543075ac9533749e53e808bc3ad179a74b2b6,"Keystone updates

* use master branch (was stable/diablo)
* add database sync

Change-Id: Ie3bd383e2fca14ec37379bd21d93d92d62451f3b"
davlaps,2012-01-25 22:22:15,https://api.github.com/repos/openstack/devstack/git/commits/5a09c9220b7be5101c123487fb9330a616f25fae,5a09c9220b7be5101c123487fb9330a616f25fae,"Fix bug 921845

Update stack.sh and stackrc to support new Quantum server/client
repo split.

Change-Id: Iea8df5270f765a635a444c0e39a22809473a605f"
vishvananda,2012-01-19 23:28:46,https://api.github.com/repos/openstack/devstack/git/commits/75bbd75d9189a380b254ffd2f89cbf5108e2efb0,75bbd75d9189a380b254ffd2f89cbf5108e2efb0,"Allow euca-upload-bundle to work with devstack

 * modifies stack.sh to run nova-cert and nova-objectstore
 * adds exercises/bundle.sh to test for bundling
 * requires https://review.openstack.org/#change,3200

Change-Id: I850891948fbdfdf5890225f94df755e5dbc733d0"
dtroyer,2012-01-24 17:45:52,https://api.github.com/repos/openstack/devstack/git/commits/9bb84f0a706ddf18a550c75ecaf18e25a087a273,9bb84f0a706ddf18a550c75ecaf18e25a087a273,"Allow configuration of Apache user and group

* Fixes bug 915064
* APACHE_USER defaults to $USER
* APACHE_GROUP defaults to $APACHE_USER

Change-Id: I06cf39cfd884d8f858ab98b84b3f40c3f6ff3a40"
vishvananda,2012-01-24 01:36:42,https://api.github.com/repos/openstack/devstack/git/commits/cb5dd679190e8a637f0d5131e0641a1b78fa6dfd,cb5dd679190e8a637f0d5131e0641a1b78fa6dfd,"Removes the additions to api-paste.conf

 * Keystone middleware moved back into nova in b160d731
 * Removaes old pipeline replace
 * Adds validator in to ec2 pipeline

Change-Id: Idf7a274e7961bf18b9dd7533f7a0f0a606a291d8"
sleepsonthefloor,2012-01-22 19:56:47,https://api.github.com/repos/openstack/devstack/git/commits/94c67aafa7f14f33a09f753c3f36c09430f9c268,94c67aafa7f14f33a09f753c3f36c09430f9c268,"Remove openstack.compute dep for horizon

 * Fixes bug 920142

Change-Id: I4c522dfdca2ddb0b46d0377d60485976ef61f916"
sleepsonthefloor,2012-01-20 20:45:32,https://api.github.com/repos/openstack/devstack/git/commits/edef244e4019696c2e31474eb4ba4ba23b712709,edef244e4019696c2e31474eb4ba4ba23b712709,"Fix test that checks whether insances from previous runs need to be removed

  * Fixes bug 919389

Change-Id: I11e0c46426e627448562802e56fca186a5a365ef"
sleepsonthefloor,2012-01-20 20:10:39,https://api.github.com/repos/openstack/devstack/git/commits/af0f7cadb93c484207a707d4108369f9e3262f08,af0f7cadb93c484207a707d4108369f9e3262f08,"Downcase Admin user role to support nova's new policy engine

 * Fixes bug 919373

Change-Id: If786f59995327f15fe72420950c7109e2eb0a307"
sleepsonthefloor,2012-01-17 23:46:53,https://api.github.com/repos/openstack/devstack/git/commits/ce116914884694a04a8692b350df456ba582fe47,ce116914884694a04a8692b350df456ba582fe47,"Add nova's new vnc support to devstack

 * Fixes 917933
 * Use cloudbuilders/master for noVNC
 * s/n-nvnc/n-novnc/g

Change-Id: I45361489a584325ed6a7fbcf3026e8ff0b25e667"
dtroyer,2012-01-10 21:34:34,https://api.github.com/repos/openstack/devstack/git/commits/751c15243fff7a805031397e85d3dec6d3033aa3,751c15243fff7a805031397e85d3dec6d3033aa3,"Increase exercise robustness

* increase some timeouts
* tolerate existing security groups and rules
* add optional DEFAULT_IMAGE_NAME to select the image to boot
* fix image lists via glance

Change-Id: I31ae743e602f69a2c9f872273273f542fc4afda3"
dtroyer,2012-01-13 18:13:59,https://api.github.com/repos/openstack/devstack/git/commits/c727aa8992f6ab28e643d88e6d6ab8fc304f02b7,c727aa8992f6ab28e643d88e6d6ab8fc304f02b7,"Add support for proxy servers

Set http_proxy and https_proxy as usual outside of devstack, or
in localrc.  All clients running under sudo need env vars passed
explicitly (apt-get, pip, curl).  Some tests using wget need proxy
turned off since they point to our services (i.e. glance, keystone).

Change-Id: Ie87aa2d3502ed5a1312f148db12bb61e5eaf1054"
jaypipes,2012-01-17 03:01:06,https://api.github.com/repos/openstack/devstack/git/commits/8cafc80551a0c471e0b1ed55fff258daad3302e2,8cafc80551a0c471e0b1ed55fff258daad3302e2,"Corresponds to the Glance patch that splits paste

The patchset https://review.openstack.org/#change,3036 splits
paste.deploy application pipeline stuff from regular configuration
file options. This is the change to devstack that will be needed
to go along with that change in Glance.

Change-Id: I606aa81c8ebdf50cdc554611ab3781c554991205"
dtroyer,2012-01-17 04:27:20,https://api.github.com/repos/openstack/devstack/git/commits/6577b4685aebc9303eafff2b6ac3430c7c759c5c,6577b4685aebc9303eafff2b6ac3430c7c759c5c,"Glance changes to stack.sh for https://review.openstack.org/3092

* Handle before/after upcoming Glance configuration file changes
* Add configuration vars for Keystone URIs to configure Glance
  and other services

Change-Id: I465065592ade11fb86c40cd04d29c4ae3f1706d7"
sleepsonthefloor,2012-01-17 23:57:04,https://api.github.com/repos/openstack/devstack/git/commits/d38f942bc3819d0c896d313e8fdfef8409b1a27f,d38f942bc3819d0c896d313e8fdfef8409b1a27f,"Fixes dashboard for new nova api changes
 * Fixes bug 917457

Change-Id: I55babe184666b9a327086f915a9fa9c79af738ed"
vishvananda,2012-01-14 01:08:34,https://api.github.com/repos/openstack/devstack/git/commits/524aa547e7900ceb3310fad23ecf34fe1ccddef9,524aa547e7900ceb3310fad23ecf34fe1ccddef9,"Make volumes work again with oneiric

Change-Id: I70ba7f8b1d5493e795262e433f8c5783e08482bc"
dtroyer,2012-01-10 21:34:34,https://api.github.com/repos/openstack/devstack/git/commits/696ad331a4af3a0d259b1db7eed5ef6b691ba045,696ad331a4af3a0d259b1db7eed5ef6b691ba045,"Add some additional floating ip pool testing

Change-Id: I62cd6b43e3250dc28d66dc84d3759f47e81ff134"
sleepsonthefloor,2012-01-12 01:35:40,https://api.github.com/repos/openstack/devstack/git/commits/419770faadd5390277d94098518cc439f83f7997,419770faadd5390277d94098518cc439f83f7997,"Changes to make devstack work with the essex + xen

Change-Id: If932d82ec72494d871ad65ae863947816e719624"
vishvananda,2012-01-11 19:34:13,https://api.github.com/repos/openstack/devstack/git/commits/ea4a53da619c8ce7e65141a17b68ce314e729e60,ea4a53da619c8ce7e65141a17b68ce314e729e60,"Stop devstack from exploding in paste config changes

Change-Id: I842691479c7c1b46bab627a1f436d9cef3f5148d"
dtroyer,2011-11-24 05:19:10,https://api.github.com/repos/openstack/devstack/git/commits/3320c55d10b65d370f1b91bde1bcbd4d78a6a5ca,3320c55d10b65d370f1b91bde1bcbd4d78a6a5ca,"Set up downloaded images for testing

Change-Id: Ia08d314e26fcf4a443b567432d0c36202d151c9f"
dtroyer,2011-12-27 17:45:55,https://api.github.com/repos/openstack/devstack/git/commits/471de7a34ba3a3842576fda56602884bf149a9fc,471de7a34ba3a3842576fda56602884bf149a9fc,"Improve log file handling:

* Elimiate subshells to produce logfiles (fixes bug 885091)
* Clean up log files older than 7 days (default)
* Append date/time to specified log file name
* Default LOGFILE='', now must set to get logging

This changes the default behaviour of stack.sh to not write a log file
unless LOGFILE is set.

Change-Id: I5d3fb65e12ccdb52fca5a41ee8f5777c046cd375"
vishvananda,2012-01-05 22:21:08,https://api.github.com/repos/openstack/devstack/git/commits/19b2f9b44fda7e8d0553373c9504aa586811a5db,19b2f9b44fda7e8d0553373c9504aa586811a5db,"Use moved manage.py in horizion

Change-Id: Idb769634fd7d7fc4efce974690b5f24cf632d83d"
sleepsonthefloor,2012-01-04 17:32:48,https://api.github.com/repos/openstack/devstack/git/commits/33d5029041a3f5678f759ac7eda29b9aff99b13a,33d5029041a3f5678f759ac7eda29b9aff99b13a,"Better domain parsing and improved instance cleanup

 * Fixes bug 911506
 * Fix typo - logical or not pipe

Change-Id: Id92a7e1d7e974710635899d43a7d428ce525227c"
dtroyer,2011-12-30 23:43:20,https://api.github.com/repos/openstack/devstack/git/commits/dec00f61fce0c2669f833a048fc49975548cf49e,dec00f61fce0c2669f833a048fc49975548cf49e,"Add info.sh

Change-Id: I4394482df2db4d4b251d97678d2692a2849715a1"
jeblair,2011-12-31 19:14:56,https://api.github.com/repos/openstack/devstack/git/commits/0a22780dddbd35ef1464b0cdbe95b98c36d755ee,0a22780dddbd35ef1464b0cdbe95b98c36d755ee,"Use --log-config with keystone.

Keystone does not support a log_config config file option.  It
only respects the command line argument.

Fixes bug 910436.

Change-Id: I276ad5da239d5d9b6a1dcdd1013972c7948c511b"
dtroyer,2011-12-30 20:27:02,https://api.github.com/repos/openstack/devstack/git/commits/c384424e94f7d4a84670630860bf1848a0563342,c384424e94f7d4a84670630860bf1848a0563342,"exercises/euca.sh timing fixes

Adjust timing in the script for testing on slower systems,
such as VMs on laptops.

Change-Id: I657fe54c7a4b75169b84ae1af37c88e2941e918a"
kiall,2011-12-30 18:53:26,https://api.github.com/repos/openstack/devstack/git/commits/34694f156874e10199e29d4d92f35626b68d88d2,34694f156874e10199e29d4d92f35626b68d88d2,"Fix the glance endpoint template URL. Fixes bug 909075.

Conflicts:

	files/keystone_data.sh

Change-Id: I82a45ef1e653a7de9ab3b48e7675f1440172b3f9"
dtroyer,2011-12-29 23:27:45,https://api.github.com/repos/openstack/devstack/git/commits/4e6a2b71e398d34267a3aec93fa2f261855ab774,4e6a2b71e398d34267a3aec93fa2f261855ab774,"Allow only aphanum chars in user-entered passwords

Fixes bug 885345

Change-Id: Ib41319676d2fd24144a1493bd58543ad71eb8d6c"
gabrielhurley,2011-12-29 00:15:41,https://api.github.com/repos/openstack/devstack/git/commits/98f4ce82f013b64f5f93034931d0bfd362573e5c,98f4ce82f013b64f5f93034931d0bfd362573e5c,"Added ""Admin"" as an allowed role in swift proxy-server.conf.

Change-Id: Ia98ef5c5ff02a7a9bd24729ca37d87338087ab66"
sleepsonthefloor,2011-12-28 06:22:14,https://api.github.com/repos/openstack/devstack/git/commits/52e631d8aace4bc50dba5f9d84dd4b0c1e2cbc44,52e631d8aace4bc50dba5f9d84dd4b0c1e2cbc44,"make python-keystoneclient configurable via devstack, remove pip requirement for horizon.

 * Update to use https://github.com/openstack/python-keystoneclient

Change-Id: I54c1ba7fe11de9a6a8f53bdfe8b1c0bd2f5b8f58"
dtroyer,2011-12-23 18:45:13,https://api.github.com/repos/openstack/devstack/git/commits/1d6e0e196e6f2ee5fef7c5cf2571e4b3ab947300,1d6e0e196e6f2ee5fef7c5cf2571e4b3ab947300,"Use DEFAULT_INSTANCE_TYPE in exercises

Change-Id: I5a98a3a4e8057f613a94054b08ff5439f1ccf7cd"
sleepsonthefloor,2011-12-28 07:22:14,https://api.github.com/repos/openstack/devstack/git/commits/1097c7ca9156c8bd40a015f00fdda3d757b7a1af,1097c7ca9156c8bd40a015f00fdda3d757b7a1af,"Port work on SERVICE_HOST from stable/diablo.  Allows user to specify service endpoint host separately from HOST_IP

 * Improve openrc comment

Change-Id: Ib542b39350bae8d92b6c3c4cf6b5d9aabff7a61c"
ziadsawalha,2011-12-23 22:03:52,https://api.github.com/repos/openstack/devstack/git/commits/c245fd8bdead54202c3347a4bcd379d1d4a301ad,c245fd8bdead54202c3347a4bcd379d1d4a301ad,"Remove deprecated Keystone middleware: RAX-KSKEY

It is no longer supported and will fail in the Essex release

Change-Id: I6520149f1ecbe4966c786af40db987557d9101f6"
anotherjesse,2011-12-23 20:28:34,https://api.github.com/repos/openstack/devstack/git/commits/2f15df8a2997adc8c2f4a9a97660f8930ad2d376,2f15df8a2997adc8c2f4a9a97660f8930ad2d376,"add adapters for exercises jenkins integration)

Change-Id: If15570612e784d6a1b9fbd54c83f9cd3a9a36941"
anotherjesse,2011-12-22 07:17:42,https://api.github.com/repos/openstack/devstack/git/commits/b89c75178b9d35d0c2ed562d955c0790faa94afe,b89c75178b9d35d0c2ed562d955c0790faa94afe,"remove unused splats

Change-Id: I7a321ba31c2b6cdcb9f60255055af71391934ae2"
emonty,2011-12-22 02:27:00,https://api.github.com/repos/openstack/devstack/git/commits/e8d970c20e0bf8b3556ef1a52adc74fe17a970d6,e8d970c20e0bf8b3556ef1a52adc74fe17a970d6,"Updated the horizon pips to use gerrit.

Change-Id: Ice5139a41b6f99e99e892a1d73c1453f7fcd554a"
dtroyer,2011-12-17 04:40:46,https://api.github.com/repos/openstack/devstack/git/commits/25dab66b44a3059a9ff6f3bd28eba82fbda8c057,25dab66b44a3059a9ff6f3bd28eba82fbda8c057,"Add OFFLINE support to allow stack.sh to run cleanly without
Internet access after having initialized /opt/stack with access.
Good for those long flights on a Friday night.

Change-Id: If97c22eef91bbd88aed644f05c56bf815036e78f"
sleepsonthefloor,2011-12-21 19:55:35,https://api.github.com/repos/openstack/devstack/git/commits/331ae29e4ffc17f13eb9c73297ba9bc18d4998d9,331ae29e4ffc17f13eb9c73297ba9bc18d4998d9,"Fix build_uec to properly respect the devstack directory that is used when COPY_ENV=1

Change-Id: Ib9fd5d18d58349a145d50faa33228dd161965a9e"
anotherjesse,2011-12-21 17:29:32,https://api.github.com/repos/openstack/devstack/git/commits/e23f6de4d2d634278e92d31c40298cc79aeee866,e23f6de4d2d634278e92d31c40298cc79aeee866,"Add ec2 endpoint to service catalog

Change-Id: Id779d4d818621db042c420e034083577a3d3ab0d
blueprint: ec2-service-endpoint"
sleepsonthefloor,2011-12-17 00:21:49,https://api.github.com/repos/openstack/devstack/git/commits/55458455c2f851297a66c9065f05d06c463b1542,55458455c2f851297a66c9065f05d06c463b1542,"Clean out old instances and iptables rules

Fixes bug 905344

Change-Id: I844a90246bace792d293ef2df9504fb654104e4b"
sleepsonthefloor,2011-12-16 20:16:20,https://api.github.com/repos/openstack/devstack/git/commits/abda427a10873a6d11026f767d53d2cecf967d1c,abda427a10873a6d11026f767d53d2cecf967d1c,"Improve euca exercise to use floating ips and secgroups.  This ensures that the full instance lifecycle gets 'worked.'

Change-Id: Ibf22054ae3fb864242ff3df2b8066985a43803d7"
dtroyer,2011-12-16 18:22:02,https://api.github.com/repos/openstack/devstack/git/commits/a8dda1709f4cb6b64ea9664bf22aa88ae691a047,a8dda1709f4cb6b64ea9664bf22aa88ae691a047,"Add volume.sh exercise

Change-Id: Ic339c34c85493d21f9fbf5280bb5ff1660644f98"
smoser,2011-12-16 15:29:10,https://api.github.com/repos/openstack/devstack/git/commits/a368218a7e46037e6962290a386fc10efc41c9d0,a368218a7e46037e6962290a386fc10efc41c9d0,"if using lxc, use cirros rootfs image

The cirros 'uec' image contains a kernel, a ramdisk, and a rootfs.
However, the rootfs is empty. cirros copies its ramdisk to it on its first
boot.  That means, if you try this with lxc, there is no filesystem for
lxc to boot.

So, in the case of lxc, import the rootfs image, which is a populated
ext3 filesystem, which is what nova lxc expects.

Change-Id: I3ada380c61044a08697b0a964a962b269ea5224c"
dolph,2011-12-15 22:04:49,https://api.github.com/repos/openstack/devstack/git/commits/50e3229c799c2ef3dce45146ba6229209350a3f8,50e3229c799c2ef3dce45146ba6229209350a3f8,"Keystone tenant ID's are no longer predictable (UUID's)

Applicable to keystone master post essex-m2

Depends on: https://review.openstack.org/#change,2394

Change-Id: I1431f7177ff22e03cdf89bc7513473fdbbb1415d"
xtoddx,2011-12-15 21:42:56,https://api.github.com/repos/openstack/devstack/git/commits/22a0f5fdedf91cb1b4b6b35da6bedfc0404c398e,22a0f5fdedf91cb1b4b6b35da6bedfc0404c398e,"Alternate capitalization schemes for True/False.

Change-Id: I3c6a9443e9c80dbe7a13caefd5be9121d8335f69"
dtroyer,2011-12-15 18:00:31,https://api.github.com/repos/openstack/devstack/git/commits/0c3db253b52949f3d14d955f3251c8424111f9f6,0c3db253b52949f3d14d955f3251c8424111f9f6,"Prevent nesting of devstack directories
Fix a comment typo

Change-Id: I8704c1a6d4c91d2e51a38b7aadc29d56d5eedd95"
chmouel,2011-12-15 18:02:15,https://api.github.com/repos/openstack/devstack/git/commits/cb9fbd905b3a35d372a5eff1e2d15c4cdef85582,cb9fbd905b3a35d372a5eff1e2d15c4cdef85582,"Rename of keystone_admin_group variable.

It has been moved to keystone_swift_operator_roles

Change-Id: I74db43379fac55c75efcfbb5f7328c41661b5578"
dtroyer,2011-12-14 21:52:02,https://api.github.com/repos/openstack/devstack/git/commits/cebdd8fcff8da6919b94ac040d3b593bfb25e2c9,cebdd8fcff8da6919b94ac040d3b593bfb25e2c9,"Update glance config files for https://review.openstack.org/#change,2139

Change-Id: I61d10508282ebbc1a1910f1723b25f360068f366"
anotherjesse,2011-12-14 21:55:55,https://api.github.com/repos/openstack/devstack/git/commits/4541e1497d0cf253ada25a5370c0240498fbb205,4541e1497d0cf253ada25a5370c0240498fbb205,"nova needs python-feedparser

Change-Id: I46b90d7643e043b1624874e6919e1acba9b2b3d8"
anotherjesse,2011-12-14 16:44:52,https://api.github.com/repos/openstack/devstack/git/commits/e46f8891676898e9cfb7735c767719d5e69236b4,e46f8891676898e9cfb7735c767719d5e69236b4,"move horizon pips to apts

Change-Id: Ia855da34d6ae22ed88501cc3b6bcc74cc4ed2f3a"
smoser,2011-12-08 21:23:27,https://api.github.com/repos/openstack/devstack/git/commits/3584e555bc55cd2c62dce4120b326c7296f337dd,3584e555bc55cd2c62dce4120b326c7296f337dd,"stackrc: replace ttylinux-uec images with cirros

http://launchpad.net/cirros is basically ""ttylinux-uec 2.0"".

These images should function wherever ttylinux-uec did, and
work well better under lxc.

Change-Id: I5b8485a7bb3518e05172b297fccd16e497463525"
dtroyer,2011-12-12 23:42:24,https://api.github.com/repos/openstack/devstack/git/commits/60e6e3468778a6738894f76f6de90972146989f6,60e6e3468778a6738894f76f6de90972146989f6,"Add open-iscsi packages for Nova compute nodes.

Begin splitting packages into service-specific files, n-cpu and
n-vol are the first.

Change-Id: I3e7c412ff125dbadd18b59af55fb7dea9ea17b07"
dtroyer,2011-12-01 23:02:07,https://api.github.com/repos/openstack/devstack/git/commits/2229a6e34b0c31994bb1ae5525708c55cdc6d28a,2229a6e34b0c31994bb1ae5525708c55cdc6d28a,"Clean out old volumes from an existing VOLUME_GROUP if present

On subsequent runs of stack.sh clean out old volumes from $VOLUME_GROUP
(if it exists) and remove the iSCSI targets.  Also clean up the handling
when using a backing file rather than a physical disk for the PV.

VOLUME_NAME_PREFIX is used to determine which volumes to delete and to
set volume_name_template in nova.conf.

Change-Id: Iaf9effcc7e0ea5cdfad7bb180e67089e7f8b3583"
anotherjesse,2011-12-10 21:55:44,https://api.github.com/repos/openstack/devstack/git/commits/d9eafd58913453b70b2664c272ac3063ae14280c,d9eafd58913453b70b2664c272ac3063ae14280c,"move back to nova.sh method of configuring screen

instead of overwriting screenrc (which is useful for new VMs), we manually set
the screen status line - fixes bug 902297

Change-Id: I507dc36e85e2bc3635503cde426bab8a2e966f06"
smoser,2011-12-08 21:22:51,https://api.github.com/repos/openstack/devstack/git/commits/4f6d7b61b38c380ff28f3d859414ca37c372e600,4f6d7b61b38c380ff28f3d859414ca37c372e600,"support non ""uec style"" IMAGE_URLS

This adds support for image urls that end in .img.gz or .img.
The assumption is that they're a full disk image or a compressed
disk image.

Some examples:
 https://cloud-images.ubuntu.com/server/releases/11.10/release/ubuntu-11.10-server-cloudimg-i386-disk1.img
 http://launchpad.net/cirros/trunk/0.3.0/+download/cirros-0.3.0-x86_64-rootfs.img.gz
 http://launchpad.net/cirros/trunk/0.3.0/+download/cirros-0.3.0-x86_64-disk.img

Change-Id: I79b67b461fb02f2403dad3e15f630fa9817eb0db"
smoser,2011-12-08 21:22:27,https://api.github.com/repos/openstack/devstack/git/commits/6b549fdb13f88d76a8dc948bc1b7316bb2c84206,6b549fdb13f88d76a8dc948bc1b7316bb2c84206,"install libvirt as a dependency of nova

nova compute depends on libvirt, but it was not being installed
in the case of LIBVIRT_TYPE=lxc.

Change-Id: Iedae29e476ad529daa7c7b1be39a58a1c86c3b7c"
smoser,2011-12-08 21:21:52,https://api.github.com/repos/openstack/devstack/git/commits/3f5e1893e5603f3a353c4db4fe6e443813bd4823,3f5e1893e5603f3a353c4db4fe6e443813bd4823,"use cgroup-lite package

Instead of managing cgroup via /etc/fstab ourselves, let the
cgroup-lite package do it.

Change-Id: I3c4b8e6583bcf644f3840819bdad972c3b52f088"
anotherjesse,2011-12-05 21:38:29,https://api.github.com/repos/openstack/devstack/git/commits/1a52a02f109b9c6a24a8ace789ce5f361b0c5bc7,1a52a02f109b9c6a24a8ace789ce5f361b0c5bc7,"support gerrit style refs/changes/... for branch names

To use a gerrit ""branch"" with devstack I would find the repo/remote and
set it for the specific project.

Example: https://review.openstack.org/2059

Would mean I update my localrc with the following settings:

KEYSTONE_REPO=https://review.openstack.org/p/openstack/keystone
KEYSTONE_BRANCH=refs/changes/59/2059/2

Change-Id: I0793415fb03cc08d1eb1a3faf1b8ec3e723beb31"
sleepsonthefloor,2011-12-01 21:44:51,https://api.github.com/repos/openstack/devstack/git/commits/ef4e5367d20cfeadb77e706bf81cd8401e36feb4,ef4e5367d20cfeadb77e706bf81cd8401e36feb4,"Allow individual services to specify dependencies.  Also fixes lp897879: https://bugs.launchpad.net/bugs/897879

Change-Id: Ib9de4571501771f12b1aeb6550e94eea03643290"
dtroyer,2011-11-22 23:48:10,https://api.github.com/repos/openstack/devstack/git/commits/ff603ef5c5eab962591af15930386d7c545ab8fb,ff603ef5c5eab962591af15930386d7c545ab8fb,"Support rsyslog and RELP protocol

Configure rsyslog and services if SYSLOG=True in localrc.
Support logging to head node if SYSLOG_HOST has head note IP.
Use RELP for remote logging to prevent dropped records.

Change-Id: I960a1b4d2a24cbd9a900e68c758f362ec3d8c78e"
dtroyer,2011-12-01 16:21:42,https://api.github.com/repos/openstack/devstack/git/commits/f79cc42d0ddda1369d1b7f2d28b327fb77c6c138,f79cc42d0ddda1369d1b7f2d28b327fb77c6c138,"Rename openstack-integration-tests to tempest

Change-Id: Ib565edd1278c609796e1f8692a2f6ef276152328"
dtroyer,2011-11-30 23:44:10,https://api.github.com/repos/openstack/devstack/git/commits/628f58f7a695e8a9bd67cbc4927b2ad6d1d9ee07,628f58f7a695e8a9bd67cbc4927b2ad6d1d9ee07,"Fix glance config

A change to glance-api.conf hit master this morning, need to update
our local copy to match.

Change-Id: I2bd3d6fe6a268164aea12ea3a3b45a301f47ccc9"
dtroyer,2011-11-29 23:39:51,https://api.github.com/repos/openstack/devstack/git/commits/f44e98d1c7baf7dde9b56c559bb372cf63ffa267,f44e98d1c7baf7dde9b56c559bb372cf63ffa267,"Set sane defaults, get config info from localrc

Change-Id: If8f942723c5e796207f3caf15a65c8501cd63d83"
anotherjesse,2011-11-29 20:46:54,https://api.github.com/repos/openstack/devstack/git/commits/eacd755212309a4807dc6f2c60cffc096c0b17c3,eacd755212309a4807dc6f2c60cffc096c0b17c3,"these deps should come via git_clone

Change-Id: I98ab1dc6a25076be9653c0b79d4d903ea9a04e39"
dtroyer,2011-11-24 05:21:06,https://api.github.com/repos/openstack/devstack/git/commits/44d8f8f826a962eabcd219316d9f5e9650a807c3,44d8f8f826a962eabcd219316d9f5e9650a807c3,"Check out integration tests and install prereqs

Change-Id: I2a70a91c69005051f149a247faef42cfa88856a0"
sleepsonthefloor,2011-11-23 20:50:46,https://api.github.com/repos/openstack/devstack/git/commits/073d17d07273fcfac2a3c9e4abf811719bc37fe2,073d17d07273fcfac2a3c9e4abf811719bc37fe2,"Update README.md to let users know how to access stable/[milestone] versions of devstack.  Other text cleanup as well.

Change-Id: Ic40106e40f65289cd276cb680509e0ff62745aa0"
anotherjesse,2011-11-23 18:10:53,https://api.github.com/repos/openstack/devstack/git/commits/9c7c9083a4866e4c225fe8dac7d17054c640ba03,9c7c9083a4866e4c225fe8dac7d17054c640ba03,"initial devstack + essex

* update horizon apache config
* updates apts for horizon
* better logging for horizon
* keystone conf settings
* only add swift endpoint if it is enabled
* new nova paste

Change-Id: I1edacbe5d8adc4bd5265d36abcaf01ce5490aefd"
sleepsonthefloor,2011-11-22 00:11:18,https://api.github.com/repos/openstack/devstack/git/commits/9726215da3471c06a01d41a10143cf4dec3de23e,9726215da3471c06a01d41a10143cf4dec3de23e,"Don't use NOVACMDS, as that conflicts with packages

Change-Id: I7968177ceaac3a3e3c96e83b76763aa0f73e5154"
chmouel,2011-11-22 12:04:40,https://api.github.com/repos/openstack/devstack/git/commits/769eb1cf4592802409d9487de68ef3cd430f84b2,769eb1cf4592802409d9487de68ef3cd430f84b2,"Configure swift logging.

Split logs by storage node proxy and don't fill up the
/var/log/messages.

Set proxy-server in debug.

Only one worker by proxy-server since we are usually in debugging mode.

Change-Id: If39f35b98ad821e8a62e36e4c22e723f83e01db8"
chmouel,2011-11-22 10:13:56,https://api.github.com/repos/openstack/devstack/git/commits/c9d9851bf333ae132e039d0e8dab3ddd8e5ea4f6,c9d9851bf333ae132e039d0e8dab3ddd8e5ea4f6,"Use -e to read

Which use readline for interactive read command (allow to do control-a/e
and such).

Change-Id: I143d6f14dd7e853197f2e30909d4f7b33262351a"
vishvananda,2011-11-21 23:15:43,https://api.github.com/repos/openstack/devstack/git/commits/b39ed2f496f984e0bff46d20f894a116fb7e441e,b39ed2f496f984e0bff46d20f894a116fb7e441e,"fix extra flags handling

Change-Id: Ifecf908b1949e2afc8874f2fcccd741e34c50b8d"
anotherjesse,2011-11-20 18:02:26,https://api.github.com/repos/openstack/devstack/git/commits/d7326d2ea98b75c5e92e7309cc49abd680476693,d7326d2ea98b75c5e92e7309cc49abd680476693,"remove old build scripts and clean for those that work

Change-Id: I5c156879f3c85f1555a1411695ac43cefbbf3b99"
anotherjesse,2011-11-20 17:55:44,https://api.github.com/repos/openstack/devstack/git/commits/38df1228decc04dfcce990eb996322b2ade5dedb,38df1228decc04dfcce990eb996322b2ade5dedb,"revive working with subset of services

Change-Id: I645c5df457a2ac2c997ac32720d53cacc0fa109b"
vishvananda,2011-11-17 00:38:24,https://api.github.com/repos/openstack/devstack/git/commits/f6c09edf25a6da0fcdb7c2997dbddfaf90b33e21,f6c09edf25a6da0fcdb7c2997dbddfaf90b33e21,"pause is admin-api, we shouldn't be testing it

Change-Id: Ia7b9d2f06aecb67f3e0c2f12687f18e3e386da3f"
jeblair,2011-11-16 19:24:15,https://api.github.com/repos/openstack/devstack/git/commits/a208dcc34077c96f5f4ab580c5c462f52bf114e1,a208dcc34077c96f5f4ab580c5c462f52bf114e1,"Add .gitreview config file for gerrit.

The CI team is developing a new tool, git-review:

https://github.com/openstack-ci/git-review

which is intendend to replace rfc.sh. This adds a .gitreview file
so that it can automatically determine the canonical gerrit location
for the repository when first run. Later, rfc.sh will be updated to
indicate it is deprecated, and then eventually removed.

Change-Id: I9f1be3e80aa40732ec500d329d31d3e880427a8a"
vishvananda,2011-11-16 06:58:19,https://api.github.com/repos/openstack/devstack/git/commits/7436ab47b96e526143e52cb71c9ab743b31ea219,7436ab47b96e526143e52cb71c9ab743b31ea219,"Merge pull request #201 from cloudbuilders/fix_noprime_again

add back NOPRIME, and explicitly install libvirt-bin"
sleepsonthefloor,2011-11-16 06:43:34,https://api.github.com/repos/openstack/devstack/git/commits/a6353c62d503036691b6a2d691a87c071fe3633f,a6353c62d503036691b6a2d691a87c071fe3633f,"add back NOPRIME, and explicitly install libvirt-bin"
anotherjesse,2011-11-16 00:20:18,https://api.github.com/repos/openstack/devstack/git/commits/40d6ac4e97119707e37baad8bc4c1cb1552dc56a,40d6ac4e97119707e37baad8bc4c1cb1552dc56a,"Merge pull request #199 from cloudbuilders/enable_openstackx

enable openstackx by default so dash works"
vishvananda,2011-11-15 23:33:29,https://api.github.com/repos/openstack/devstack/git/commits/9f3ebced86cf6ac93fadb3a432a70273f6dae4b2,9f3ebced86cf6ac93fadb3a432a70273f6dae4b2,"Merge pull request #198 from cloudbuilders/fix_noprime

don't use NOPRIME in stack.sh"
sleepsonthefloor,2011-11-15 23:33:20,https://api.github.com/repos/openstack/devstack/git/commits/4982ef9075a0458caceb4a033b61614e74a45630,4982ef9075a0458caceb4a033b61614e74a45630,enable openstackx by default so dash works
sleepsonthefloor,2011-11-15 23:29:37,https://api.github.com/repos/openstack/devstack/git/commits/dfc0748b7c6db926bdd198cc5c3a6f815b04dad1,dfc0748b7c6db926bdd198cc5c3a6f815b04dad1,some fixes for lxc
sleepsonthefloor,2011-11-15 23:18:36,https://api.github.com/repos/openstack/devstack/git/commits/871a7ae4d0fae4647f82985fc0a3ec9a319b67a6,871a7ae4d0fae4647f82985fc0a3ec9a319b67a6,don't use NOPRIME in stack.sh
sleepsonthefloor,2011-11-15 21:30:50,https://api.github.com/repos/openstack/devstack/git/commits/8745286d7492e71e8a681140c2738c25f38226ad,8745286d7492e71e8a681140c2738c25f38226ad,Merge remote-tracking branch 'origin/master'
sleepsonthefloor,2011-11-15 21:30:20,https://api.github.com/repos/openstack/devstack/git/commits/977b334690d53cbbfb3c38026ae66eafbfb83117,977b334690d53cbbfb3c38026ae66eafbfb83117,user must configure a jenkins ssh key
anotherjesse,2011-11-15 21:17:21,https://api.github.com/repos/openstack/devstack/git/commits/5334ca021020c3e9d73131eac4b5e85f943824d4,5334ca021020c3e9d73131eac4b5e85f943824d4,"Merge pull request #184 from chmouel/install-packages-only-for-services-distros

Install packages only for services distros"
sleepsonthefloor,2011-11-15 21:15:42,https://api.github.com/repos/openstack/devstack/git/commits/f7df79e290067ba40a62524252d17b2ae19419ba,f7df79e290067ba40a62524252d17b2ae19419ba,"Merge pull request #195 from cloudbuilders/openvpn

Add vpn alias"
sleepsonthefloor,2011-11-15 21:07:58,https://api.github.com/repos/openstack/devstack/git/commits/69257f253466b58e75b346d1da0bfaf2d79613d1,69257f253466b58e75b346d1da0bfaf2d79613d1,update jenkins branches to master
sleepsonthefloor,2011-11-15 21:03:19,https://api.github.com/repos/openstack/devstack/git/commits/8326fd2038945aacc3a44dbf073773925b590094,8326fd2038945aacc3a44dbf073773925b590094,fix for concurrent builds
sleepsonthefloor,2011-11-15 18:54:56,https://api.github.com/repos/openstack/devstack/git/commits/1c48c891c74854020047ac291a8356843849237d,1c48c891c74854020047ac291a8356843849237d,"Merge pull request #132 from cloudbuilders/tmux

add support for tmux if USE_TMUX=yes"
sleepsonthefloor,2011-11-15 18:47:40,https://api.github.com/repos/openstack/devstack/git/commits/296234b8963d8b2fa31ff9ffe784963d48e12de1,296234b8963d8b2fa31ff9ffe784963d48e12de1,"Merge pull request #172 from cloudbuilders/eth0_ip

Use eth0 to determine host ip address"
dtroyer,2011-11-15 16:55:36,https://api.github.com/repos/openstack/devstack/git/commits/45cb7d1590acc91c770c7df9520fbd65a8f51dce,45cb7d1590acc91c770c7df9520fbd65a8f51dce,Add vpn alias
anotherjesse,2011-11-15 16:54:37,https://api.github.com/repos/openstack/devstack/git/commits/b7c3a5eefd35f499c423cb53d9abb1b0787a5fe7,b7c3a5eefd35f499c423cb53d9abb1b0787a5fe7,"Merge pull request #181 from jeblair/master

    Don't clone or install disabled services."
sleepsonthefloor,2011-11-15 00:12:33,https://api.github.com/repos/openstack/devstack/git/commits/5179a3e607e7b1a7770c1f610b257fa9047ce1a5,5179a3e607e7b1a7770c1f610b257fa9047ce1a5,"Merge pull request #170 from cloudbuilders/ci-tests

Add CI tests"
dtroyer,2011-11-14 23:45:37,https://api.github.com/repos/openstack/devstack/git/commits/78f21408f458528236da87972d62f8211504aff4,78f21408f458528236da87972d62f8211504aff4,Change vpn to bridged mode
chmouel,2011-11-14 21:16:11,https://api.github.com/repos/openstack/devstack/git/commits/2d1a8b34143f7d66a9aaf89ad6d0591bb52656ce,2d1a8b34143f7d66a9aaf89ad6d0591bb52656ce,Use internal bash reader.
sleepsonthefloor,2011-11-14 21:11:34,https://api.github.com/repos/openstack/devstack/git/commits/de918e002cc9d3359c1a54337c881db526fc8772,de918e002cc9d3359c1a54337c881db526fc8772,fix dep install line
sleepsonthefloor,2011-11-14 21:08:12,https://api.github.com/repos/openstack/devstack/git/commits/375c1955904fd7e9a88bae6df5a8b494217079c3,375c1955904fd7e9a88bae6df5a8b494217079c3,remove sudo from test runner
sleepsonthefloor,2011-11-14 20:46:51,https://api.github.com/repos/openstack/devstack/git/commits/a138eaf25b30a06c5fe0b4830aea07e30a00fdda,a138eaf25b30a06c5fe0b4830aea07e30a00fdda,install deps
sleepsonthefloor,2011-11-14 20:40:04,https://api.github.com/repos/openstack/devstack/git/commits/5dbfdeafbaeb664af73112920612c88b33e002df,5dbfdeafbaeb664af73112920612c88b33e002df,fix typo
anotherjesse,2011-11-14 19:32:15,https://api.github.com/repos/openstack/devstack/git/commits/28c6779856a2566b914a01e5e5653390dccbcfa5,28c6779856a2566b914a01e5e5653390dccbcfa5,"Merge pull request #192 from cloudbuilders/jenkins

Jenkins"
sleepsonthefloor,2011-11-14 19:32:02,https://api.github.com/repos/openstack/devstack/git/commits/fd5cf0bbb3fe84a063f3279caf0fb97a0f462435,fd5cf0bbb3fe84a063f3279caf0fb97a0f462435,readme fix
sleepsonthefloor,2011-11-14 19:30:44,https://api.github.com/repos/openstack/devstack/git/commits/cc503be3da9dc487b660b375ea2dfe4a536dd953,cc503be3da9dc487b660b375ea2dfe4a536dd953,fix readme
anotherjesse,2011-11-14 19:30:43,https://api.github.com/repos/openstack/devstack/git/commits/a0dfb9d7474e2f0badf990652fdec219d2003215,a0dfb9d7474e2f0badf990652fdec219d2003215,"Merge pull request #191 from cloudbuilders/stable-diablo

switch to using stable-diablo"
vishvananda,2011-11-14 19:07:04,https://api.github.com/repos/openstack/devstack/git/commits/e46bec6e3f5086656efad15247297f5e913f07a6,e46bec6e3f5086656efad15247297f5e913f07a6,Merge branch 'master' into stable-diablo
vishvananda,2011-11-14 19:05:52,https://api.github.com/repos/openstack/devstack/git/commits/e219b1218d3586b022c9d8789504c0d483e05cdc,e219b1218d3586b022c9d8789504c0d483e05cdc,"Merge pull request #190 from cloudbuilders/fix-reclone

Fix the reclone to actually remove *.pyc"
sleepsonthefloor,2011-11-14 19:05:04,https://api.github.com/repos/openstack/devstack/git/commits/d99f5fd775d0ab57e964d8403266fc1adc7a4004,d99f5fd775d0ab57e964d8403266fc1adc7a4004,add a script to print a json summary of our jenkins configs
vishvananda,2011-11-14 18:55:47,https://api.github.com/repos/openstack/devstack/git/commits/e978e7fde29bec158360aa4c1f8dc5e5225f3b18,e978e7fde29bec158360aa4c1f8dc5e5225f3b18,switch to using stable-diablo
vishvananda,2011-11-14 18:51:17,https://api.github.com/repos/openstack/devstack/git/commits/6b8855cd4f7143e9d7e489bb57c008be9b84fc8c,6b8855cd4f7143e9d7e489bb57c008be9b84fc8c,Fix the reclone to actually remove *.pyc
anotherjesse,2011-11-14 18:05:56,https://api.github.com/repos/openstack/devstack/git/commits/9bb1a3c5c55af00f27ea986bcdfc676ce9a6bdd5,9bb1a3c5c55af00f27ea986bcdfc676ce9a6bdd5,allow pip to use mirrors (pypi is down)
vishvananda,2011-11-14 18:05:30,https://api.github.com/repos/openstack/devstack/git/commits/a7c37b0a96bf1c1d8792982e64a1d127239d6623,a7c37b0a96bf1c1d8792982e64a1d127239d6623,"Merge pull request #189 from cloudbuilders/volumes-fix

need iscsitarget-dkms for iscsi to work on oneiric"
anotherjesse,2011-11-14 17:48:29,https://api.github.com/repos/openstack/devstack/git/commits/1f7011926406fde7462132281d3b281e54a872c8,1f7011926406fde7462132281d3b281e54a872c8,need iscsitarget-dkms for iscsi to work on oneiric
anotherjesse,2011-11-14 17:14:23,https://api.github.com/repos/openstack/devstack/git/commits/f707adefd9b81411cb9c90d0dccf30126396eb3b,f707adefd9b81411cb9c90d0dccf30126396eb3b,"Merge pull request #187 from cloudbuilders/vgs

allow name of volumes group to be set"
anotherjesse,2011-11-14 16:59:05,https://api.github.com/repos/openstack/devstack/git/commits/d02b7b7bd36115f66521d90079b1660210063def,d02b7b7bd36115f66521d90079b1660210063def,allow name of volumes group to be set
chmouel,2011-11-02 17:27:40,https://api.github.com/repos/openstack/devstack/git/commits/3ad59ea15148fc96329e3e6d69ad9d166b5a3b5e,3ad59ea15148fc96329e3e6d69ad9d166b5a3b5e,"Use C-M for return carriage for tmux.

Conflicts:

	stack.sh"
chmouel,2011-11-14 14:26:13,https://api.github.com/repos/openstack/devstack/git/commits/f990ded56786b21258cdff2acc946ab2eba2ee76,f990ded56786b21258cdff2acc946ab2eba2ee76,a-space-after-then/do compliance.
chmouel,2011-11-14 14:20:39,https://api.github.com/repos/openstack/devstack/git/commits/0277d5b91f8ad7763bf32e63d7b6d3c2236fce3c,0277d5b91f8ad7763bf32e63d7b6d3c2236fce3c,"Install packages only for distros/services.

- We are installing packages only for the services needed.
- We are parsing the packages files and detecting metadatas.
 - If there is a NOPRIME as comment mean we are not doing the install
   just yet.
 - If we have the meta-keyword distro:DISTRO or
   distro:DISTRO1,DISTRO2 it will be installed only for those
   distros (case insensitive)."
chmouel,2011-11-14 14:19:34,https://api.github.com/repos/openstack/devstack/git/commits/a4adff43cb18a26ce2975b6fcdcf1d972a0d9027,a4adff43cb18a26ce2975b6fcdcf1d972a0d9027,Only install dnsmasq-utils on oneiric.
chmouel,2011-11-14 13:24:30,https://api.github.com/repos/openstack/devstack/git/commits/adfc029a023ccff700fe31e433717b05a3eaefa2,adfc029a023ccff700fe31e433717b05a3eaefa2,Use lsb_release for distro detection.
sleepsonthefloor,2011-11-11 23:56:51,https://api.github.com/repos/openstack/devstack/git/commits/4a10d436c0b6ca57b29eece5334bf95edf4dba34,4a10d436c0b6ca57b29eece5334bf95edf4dba34,add in config.xml for xs
anotherjesse,2011-11-11 21:59:05,https://api.github.com/repos/openstack/devstack/git/commits/c20428241ad8f6d034436b1bc3507d5e56b28631,c20428241ad8f6d034436b1bc3507d5e56b28631,always check deps
anotherjesse,2011-11-11 21:56:29,https://api.github.com/repos/openstack/devstack/git/commits/2679303c89334cbd0c79cd143e22c807788fcde3,2679303c89334cbd0c79cd143e22c807788fcde3,build_uec requires libvirt
sleepsonthefloor,2011-11-11 21:53:56,https://api.github.com/repos/openstack/devstack/git/commits/57346b7fcd63fe746491d088864e5f8d2c0822c3,57346b7fcd63fe746491d088864e5f8d2c0822c3,show how to uninstall jenkins if there are issues upgrading
anotherjesse,2011-11-11 21:51:55,https://api.github.com/repos/openstack/devstack/git/commits/ec74eef1870112478a2593bcaa622efbc260bd94,ec74eef1870112478a2593bcaa622efbc260bd94,build pxe env tweaks
sleepsonthefloor,2011-11-11 21:46:44,https://api.github.com/repos/openstack/devstack/git/commits/c0d4e678d4bbbdcae1f09ef18319bf4f3c2950ff,c0d4e678d4bbbdcae1f09ef18319bf4f3c2950ff,use /etc/init.d/jenkins to start/stop server
sleepsonthefloor,2011-11-11 21:42:09,https://api.github.com/repos/openstack/devstack/git/commits/723e2d2246b86ba9ca5c9cfe63c240dc98e25325,723e2d2246b86ba9ca5c9cfe63c240dc98e25325,trunk jenkins!
sleepsonthefloor,2011-11-11 19:19:57,https://api.github.com/repos/openstack/devstack/git/commits/715944008accc1990f41573000f5c65284f9adc9,715944008accc1990f41573000f5c65284f9adc9,byobu is nor getting disabled :/
sleepsonthefloor,2011-11-11 19:17:47,https://api.github.com/repos/openstack/devstack/git/commits/c8af0c5d8980374610e8c5c5dac4f3af70144920,c8af0c5d8980374610e8c5c5dac4f3af70144920,tweak defaults for kvm config
anotherjesse,2011-11-11 19:09:50,https://api.github.com/repos/openstack/devstack/git/commits/c6e0fc37fd5fcf59bb25e389ff9efd3eff9df0b7,c6e0fc37fd5fcf59bb25e389ff9efd3eff9df0b7,"Merge pull request #178 from chmouel/swift-admin-user-is-members

Admin group is Member."
sleepsonthefloor,2011-11-11 18:57:35,https://api.github.com/repos/openstack/devstack/git/commits/8d6c7c4083742e23dd6ea3cec18ed5b7e1d2ba2d,8d6c7c4083742e23dd6ea3cec18ed5b7e1d2ba2d,"Merge pull request #179 from chmouel/swift-install-memcache-with-swkeystone

Install memcached with swift+keystone midleware."
anotherjesse,2011-11-11 18:55:41,https://api.github.com/repos/openstack/devstack/git/commits/bc714cdaf3f57a30f8f331a3a12f8f4a30ac91a1,bc714cdaf3f57a30f8f331a3a12f8f4a30ac91a1,"Merge pull request #180 from chmouel/swift-make-work-on-rerun

Force creation of the symlink."
sleepsonthefloor,2011-11-11 18:51:24,https://api.github.com/repos/openstack/devstack/git/commits/3bff7b3d51aff27e215cb5b7fccbe632ecdd7aa7,3bff7b3d51aff27e215cb5b7fccbe632ecdd7aa7,increase timeouts for kvm
sleepsonthefloor,2011-11-11 18:23:22,https://api.github.com/repos/openstack/devstack/git/commits/fa4ecc6e2be8b2e08b489cba4a15334c5db68ad8,fa4ecc6e2be8b2e08b489cba4a15334c5db68ad8,destroy orphaned vdis
sleepsonthefloor,2011-11-11 17:53:22,https://api.github.com/repos/openstack/devstack/git/commits/ad0378613b44bea53db74fcb26909c2f815458ad,ad0378613b44bea53db74fcb26909c2f815458ad,fix path
sleepsonthefloor,2011-11-11 17:51:14,https://api.github.com/repos/openstack/devstack/git/commits/aae02c09a7ad202341adefa87eba50617726c972,aae02c09a7ad202341adefa87eba50617726c972,+x
sleepsonthefloor,2011-11-11 17:49:47,https://api.github.com/repos/openstack/devstack/git/commits/7f91d5e3115adeba4aad1c7ca9767d0173deb4d8,7f91d5e3115adeba4aad1c7ca9767d0173deb4d8,add in xs configuration
jeblair,2011-11-10 23:11:28,https://api.github.com/repos/openstack/devstack/git/commits/c639ef0123b7c46eb79f3955a77469b955e2f95d,c639ef0123b7c46eb79f3955a77469b955e2f95d,"Source stackrc in exercises.
Exit with error if there are failed tests."
sleepsonthefloor,2011-11-10 22:46:52,https://api.github.com/repos/openstack/devstack/git/commits/674db1ab2c041cae7f2fb00c31a6d4370f1e76d6,674db1ab2c041cae7f2fb00c31a6d4370f1e76d6,fix usage for clean.sh
chmouel,2011-11-10 22:46:08,https://api.github.com/repos/openstack/devstack/git/commits/2f2160eac2be76d778abe1c8d85147799f7186cc,2f2160eac2be76d778abe1c8d85147799f7186cc,"Force creation of the symlink.

It would allow to not fail when we run stack.sh again."
sleepsonthefloor,2011-11-10 22:36:42,https://api.github.com/repos/openstack/devstack/git/commits/305e3f5524603f700eaeea31586f6a015b5aec29,305e3f5524603f700eaeea31586f6a015b5aec29,tweaks to the hacky clean script
sleepsonthefloor,2011-11-10 22:06:13,https://api.github.com/repos/openstack/devstack/git/commits/1277eab04d0040ae02c7c1a4daabecb57e7cea53,1277eab04d0040ae02c7c1a4daabecb57e7cea53,run tests for floaitng ips
sleepsonthefloor,2011-11-10 21:46:52,https://api.github.com/repos/openstack/devstack/git/commits/760ddde15747261a1528e04880e69400b2144bee,760ddde15747261a1528e04880e69400b2144bee,configuring stack user is optional
sleepsonthefloor,2011-11-10 21:43:01,https://api.github.com/repos/openstack/devstack/git/commits/7faa17e3683e7749392497c913dbc516bc0a49f0,7faa17e3683e7749392497c913dbc516bc0a49f0,byobu-disable
sleepsonthefloor,2011-11-10 21:33:31,https://api.github.com/repos/openstack/devstack/git/commits/ff7771e5fb8ac249480abc1e39a27b8abe310e6c,ff7771e5fb8ac249480abc1e39a27b8abe310e6c,fix useradd
sleepsonthefloor,2011-11-10 21:26:16,https://api.github.com/repos/openstack/devstack/git/commits/33d2a4e2d9318443c1e2b1b362ac02d127078a09,33d2a4e2d9318443c1e2b1b362ac02d127078a09,fix typo
sleepsonthefloor,2011-11-10 21:09:25,https://api.github.com/repos/openstack/devstack/git/commits/b7661282d10eefe9df260841286f49d04f248c7a,b7661282d10eefe9df260841286f49d04f248c7a,still trying to get pub key working
sleepsonthefloor,2011-11-10 21:06:44,https://api.github.com/repos/openstack/devstack/git/commits/ddb44b4e09709c4d084c65003034d02ed417c5bd,ddb44b4e09709c4d084c65003034d02ed417c5bd,missing quotes around pub key
jeblair,2011-11-10 21:06:11,https://api.github.com/repos/openstack/devstack/git/commits/1ec915e6b5307caf143417c1293966b68d51078e,1ec915e6b5307caf143417c1293966b68d51078e,Merge branch 'master' of https://github.com/cloudbuilders/devstack into test
jeblair,2011-11-10 21:05:13,https://api.github.com/repos/openstack/devstack/git/commits/e7ce24fc96eed61d34a10b6bb2e8bc86c7e7755a,e7ce24fc96eed61d34a10b6bb2e8bc86c7e7755a,Don't clone or install disabled services.
sleepsonthefloor,2011-11-10 21:04:40,https://api.github.com/repos/openstack/devstack/git/commits/2838f12e75d608249c9c2f2c3e2751ad7859e9d5,2838f12e75d608249c9c2f2c3e2751ad7859e9d5,fix appends on user data
sleepsonthefloor,2011-11-10 20:57:59,https://api.github.com/repos/openstack/devstack/git/commits/b225682189b872f490fa285a67e5d0d1e5351ed0,b225682189b872f490fa285a67e5d0d1e5351ed0,progress on getting a working test configuration
sleepsonthefloor,2011-11-10 19:59:31,https://api.github.com/repos/openstack/devstack/git/commits/72c84f799937d5352b9063e106cdcdc4a464fd35,72c84f799937d5352b9063e106cdcdc4a464fd35,Merge remote-tracking branch 'origin/master' into jenkins
sleepsonthefloor,2011-11-10 19:55:29,https://api.github.com/repos/openstack/devstack/git/commits/a4e6d13656dae54d419f7dd94763e7775f1572e3,a4e6d13656dae54d419f7dd94763e7775f1572e3,add clean script
anotherjesse,2011-11-10 19:47:59,https://api.github.com/repos/openstack/devstack/git/commits/6f98f223bbb748d2838b11f0c8c86c87cb8e64a1,6f98f223bbb748d2838b11f0c8c86c87cb8e64a1,"Merge pull request #144 from cloudbuilders/exercises

Exercise -> Exercises!"
anotherjesse,2011-11-10 19:47:34,https://api.github.com/repos/openstack/devstack/git/commits/b74b74a2b321adfc976590a58685b6a506e5db64,b74b74a2b321adfc976590a58685b6a506e5db64,permissions
anotherjesse,2011-11-10 19:46:18,https://api.github.com/repos/openstack/devstack/git/commits/16b6efab4c36456beb3c56157c4d854cafb4a87d,16b6efab4c36456beb3c56157c4d854cafb4a87d,merge origin/master
sleepsonthefloor,2011-11-10 19:43:41,https://api.github.com/repos/openstack/devstack/git/commits/63f84bbfb60fca96a2412009f4e81c9c548afb0d,63f84bbfb60fca96a2412009f4e81c9c548afb0d,pass rc to tests
sleepsonthefloor,2011-11-10 19:38:09,https://api.github.com/repos/openstack/devstack/git/commits/053906d137822f8c3c7f7686879648ecdab0aee4,053906d137822f8c3c7f7686879648ecdab0aee4,add in rc
sleepsonthefloor,2011-11-10 19:27:51,https://api.github.com/repos/openstack/devstack/git/commits/ea1a5869fd6ef897ed92223e3d5cca5200a2cfd4,ea1a5869fd6ef897ed92223e3d5cca5200a2cfd4,net name should be base
sleepsonthefloor,2011-11-10 19:14:16,https://api.github.com/repos/openstack/devstack/git/commits/dbcdf90df180f0505ed724fa6b6f3914d74875e5,dbcdf90df180f0505ed724fa6b6f3914d74875e5,clean up for executor on each run
chmouel,2011-11-10 18:44:58,https://api.github.com/repos/openstack/devstack/git/commits/904b0d7d1d3fa68b940c82da5cedd171408f71ae,904b0d7d1d3fa68b940c82da5cedd171408f71ae,Install memcached with swift+keystone midleware.
chmouel,2011-11-10 18:36:14,https://api.github.com/repos/openstack/devstack/git/commits/ce1b4a24da7bf149e9a5551bde2e754565b945d2,ce1b4a24da7bf149e9a5551bde2e754565b945d2,"Admin group is Member.

This is not the admin group per-se but the group where users can
create/delete containers.

This is will be fixed properly when the swift-keystone2 middleware would
be commited in keystone (should be sometime soon)."
sleepsonthefloor,2011-11-10 18:24:18,https://api.github.com/repos/openstack/devstack/git/commits/484dd5512575069a22f81d48ef9ca7b55178943e,484dd5512575069a22f81d48ef9ca7b55178943e,switch around naming scheme
sleepsonthefloor,2011-11-10 17:56:12,https://api.github.com/repos/openstack/devstack/git/commits/5df681819ab58413a7c65d147bb9e4e8c72adcf9,5df681819ab58413a7c65d147bb9e4e8c72adcf9,fix typo in job iteration
sleepsonthefloor,2011-11-10 17:42:28,https://api.github.com/repos/openstack/devstack/git/commits/ec38c40a4dc70206e4cf7a4e43362e986555df42,ec38c40a4dc70206e4cf7a4e43362e986555df42,do an explicit stop/start
sleepsonthefloor,2011-11-10 17:38:43,https://api.github.com/repos/openstack/devstack/git/commits/c986b3f8c7cb449646b0f802a6b1b00d70d62f5a,c986b3f8c7cb449646b0f802a6b1b00d70d62f5a,Merge remote-tracking branch 'origin/master' into jenkins
sleepsonthefloor,2011-11-10 17:38:17,https://api.github.com/repos/openstack/devstack/git/commits/aa4aa2ecb8508c12c64d1dd9fcc77e98133c0817,aa4aa2ecb8508c12c64d1dd9fcc77e98133c0817,"Merge pull request #173 from cloudbuilders/warm

script to warm apts/pips on a base image"
sleepsonthefloor,2011-11-10 07:38:18,https://api.github.com/repos/openstack/devstack/git/commits/72eab2276e264bc40417df7d1f16d8c0111cf8a2,72eab2276e264bc40417df7d1f16d8c0111cf8a2,fix network name in libvirt.xml
sleepsonthefloor,2011-11-10 07:36:18,https://api.github.com/repos/openstack/devstack/git/commits/8b47cdf15ac0c0611503f688df376faf36172e43,8b47cdf15ac0c0611503f688df376faf36172e43,working to improve debugability
sleepsonthefloor,2011-11-10 06:40:49,https://api.github.com/repos/openstack/devstack/git/commits/792b1165a4ce0d1851603e2a7b8b9126b15da8e8,792b1165a4ce0d1851603e2a7b8b9126b15da8e8,update builder interface
sleepsonthefloor,2011-11-10 06:39:56,https://api.github.com/repos/openstack/devstack/git/commits/0ae5fd039b4504f37195c831d9dbf4dcbec436c3,0ae5fd039b4504f37195c831d9dbf4dcbec436c3,missing space
sleepsonthefloor,2011-11-10 06:38:48,https://api.github.com/repos/openstack/devstack/git/commits/6ecc4f2839583bae69c01c9b12cb585a7397f2d4,6ecc4f2839583bae69c01c9b12cb585a7397f2d4,changes to improve debugability - more legible instance name
sleepsonthefloor,2011-11-10 06:29:22,https://api.github.com/repos/openstack/devstack/git/commits/e228093ecda9300428a399600758580eff3b44fe,e228093ecda9300428a399600758580eff3b44fe,some cleanup for utility scripts
sleepsonthefloor,2011-11-10 02:58:07,https://api.github.com/repos/openstack/devstack/git/commits/c1024d8987a9b35ef41f5a5615f9827d4b4e4468,c1024d8987a9b35ef41f5a5615f9827d4b4e4468,"tweaks to warm script, add script to configure stack user"
sleepsonthefloor,2011-11-10 02:49:47,https://api.github.com/repos/openstack/devstack/git/commits/4c012b207c3ee5318c1c1d8d798bbaa6b7ba5287,4c012b207c3ee5318c1c1d8d798bbaa6b7ba5287,remove newline
sleepsonthefloor,2011-11-10 01:47:03,https://api.github.com/repos/openstack/devstack/git/commits/c5b58a102cc663f572e432730a51e0218430de43,c5b58a102cc663f572e432730a51e0218430de43,Merge remote-tracking branch 'origin/jenkins' into jenkins
sleepsonthefloor,2011-11-10 01:46:28,https://api.github.com/repos/openstack/devstack/git/commits/ec67f1e0644c74a6c6beb7bb42b56f8ce68ab24c,ec67f1e0644c74a6c6beb7bb42b56f8ce68ab24c,more progress on jenkins on clean build
anotherjesse,2011-11-09 20:47:37,https://api.github.com/repos/openstack/devstack/git/commits/5945e1ef9105ebcf5c020431c2e4e2bf8d3a514d,5945e1ef9105ebcf5c020431c2e4e2bf8d3a514d,"Merge pull request #176 from cloudbuilders/cloud-utils

install cloud-utils, so that we have resize-part-image"
sleepsonthefloor,2011-11-09 20:43:36,https://api.github.com/repos/openstack/devstack/git/commits/2e7046dd49d0472a59046cd96f7e5e28908c6bb9,2e7046dd49d0472a59046cd96f7e5e28908c6bb9,Merge remote-tracking branch 'origin/master' into jenkins
sleepsonthefloor,2011-11-09 20:42:54,https://api.github.com/repos/openstack/devstack/git/commits/1d95523180cd548df55d372c1de057d5377366f2,1d95523180cd548df55d372c1de057d5377366f2,Merge remote-tracking branch 'origin/master' into jenkins
sleepsonthefloor,2011-11-09 20:42:08,https://api.github.com/repos/openstack/devstack/git/commits/593e9aa87a2f81b4e1ff03ca8b8ee1789164890b,593e9aa87a2f81b4e1ff03ca8b8ee1789164890b,fix message - no natty support
anotherjesse,2011-11-09 20:40:01,https://api.github.com/repos/openstack/devstack/git/commits/5605ec11446d70e466f4ff0a4a50292b8c3f633f,5605ec11446d70e466f4ff0a4a50292b8c3f633f,now that we are using apt-get download this file doesn't speed things up that much
sleepsonthefloor,2011-11-09 20:20:37,https://api.github.com/repos/openstack/devstack/git/commits/c18af14af886b2bf1d93c1595e41e734e5904006,c18af14af886b2bf1d93c1595e41e734e5904006,progress on out-of-box testing
sleepsonthefloor,2011-11-09 19:48:09,https://api.github.com/repos/openstack/devstack/git/commits/e28f77565d0dd214db5fa01bdea41c88e52dbafc,e28f77565d0dd214db5fa01bdea41c88e52dbafc,"install cloud-utils, so that we have resize-part-image"
sleepsonthefloor,2011-11-09 19:12:14,https://api.github.com/repos/openstack/devstack/git/commits/48336d0e9f04d49879d669c30fc0b4255dd63387,48336d0e9f04d49879d669c30fc0b4255dd63387,always update the jobs link
sleepsonthefloor,2011-11-09 19:10:26,https://api.github.com/repos/openstack/devstack/git/commits/316117a5a2c4cd5af5487019d5dcc554c1ab7fb7,316117a5a2c4cd5af5487019d5dcc554c1ab7fb7,more usability feedback
sleepsonthefloor,2011-11-09 19:00:26,https://api.github.com/repos/openstack/devstack/git/commits/79a20a01df3f698530e868173e6791196b428ff7,79a20a01df3f698530e868173e6791196b428ff7,rename jenkins home
anotherjesse,2011-11-09 18:51:57,https://api.github.com/repos/openstack/devstack/git/commits/c1ea5ec91d5828ad470c5398e3032dbf532f95ac,c1ea5ec91d5828ad470c5398e3032dbf532f95ac,"Merge pull request #174 from cloudbuilders/force-release

use dhcp_release"
sleepsonthefloor,2011-11-09 18:44:45,https://api.github.com/repos/openstack/devstack/git/commits/e830c7800a6409f73440cb2085704a49da0051d7,e830c7800a6409f73440cb2085704a49da0051d7,"Merge pull request #171 from jaypipes/glance-cleanups

Comment out log_file options in glance configs"
vishvananda,2011-11-09 08:12:00,https://api.github.com/repos/openstack/devstack/git/commits/7e436c212ea2ac7fe60bddedf49548729675111e,7e436c212ea2ac7fe60bddedf49548729675111e,use dhcp_release
sleepsonthefloor,2011-11-09 00:21:35,https://api.github.com/repos/openstack/devstack/git/commits/2b2c86ef34b335695198b49ca6450d8e78f7fe7a,2b2c86ef34b335695198b49ca6450d8e78f7fe7a,add in kvm job
sleepsonthefloor,2011-11-09 00:20:14,https://api.github.com/repos/openstack/devstack/git/commits/4aab9030f4c251382d2e9b8abd4da2276642d97d,4aab9030f4c251382d2e9b8abd4da2276642d97d,rename
sleepsonthefloor,2011-11-08 23:25:12,https://api.github.com/repos/openstack/devstack/git/commits/ccd4ea37b80e9e6018ccf294d680a5d8e34100b5,ccd4ea37b80e9e6018ccf294d680a5d8e34100b5,more work on jenkins stuff
sleepsonthefloor,2011-11-08 23:24:58,https://api.github.com/repos/openstack/devstack/git/commits/b996b2b8550a2b3face3c7c8a4f9c165338916be,b996b2b8550a2b3face3c7c8a4f9c165338916be,Merge remote-tracking branch 'origin/master' into jenkins
sleepsonthefloor,2011-11-08 22:23:56,https://api.github.com/repos/openstack/devstack/git/commits/43acae4aa51ab66d522d83568a7e9271be7e65f7,43acae4aa51ab66d522d83568a7e9271be7e65f7,add initial build_jenkins script
dtroyer,2011-11-07 23:01:05,https://api.github.com/repos/openstack/devstack/git/commits/af95a4775ad01364b53a4fd6d2bcfda95dfcfa70,af95a4775ad01364b53a4fd6d2bcfda95dfcfa70,Install pika for CI tests
dtroyer,2011-11-07 22:41:47,https://api.github.com/repos/openstack/devstack/git/commits/8e99829ae33aaec89dac141ed9102211a6323d87,8e99829ae33aaec89dac141ed9102211a6323d87,Only download UEC image if UPLOAD_LEGACY_TTY is unset; bind mount /dev for oneiric openssl
dtroyer,2011-11-07 22:40:35,https://api.github.com/repos/openstack/devstack/git/commits/39c2efcd235b88d214bf65c93268ecd05df8f5da,39c2efcd235b88d214bf65c93268ecd05df8f5da,Change default build to oneiric
sleepsonthefloor,2011-11-07 22:38:03,https://api.github.com/repos/openstack/devstack/git/commits/208ae2f6aa0bf5dbc669c6fd4f2e4649c04ed039,208ae2f6aa0bf5dbc669c6fd4f2e4649c04ed039,fix some comments
sleepsonthefloor,2011-11-07 22:37:00,https://api.github.com/repos/openstack/devstack/git/commits/8655bf0e6efdd3d87a5ed149be2ee5e3aa8473db,8655bf0e6efdd3d87a5ed149be2ee5e3aa8473db,more checks to make sure script is run as intended
sleepsonthefloor,2011-11-07 22:13:03,https://api.github.com/repos/openstack/devstack/git/commits/069f2f7a534b8ace5e9a6e68143c7951b65d4046,069f2f7a534b8ace5e9a6e68143c7951b65d4046,+x
sleepsonthefloor,2011-11-07 22:10:59,https://api.github.com/repos/openstack/devstack/git/commits/e7fa90934d3d0f1dc0a89fbf6f498e927f041d39,e7fa90934d3d0f1dc0a89fbf6f498e927f041d39,"script to warm apts/pips on a base image, to speed up performace of build_ scripts"
dtroyer,2011-11-07 20:08:50,https://api.github.com/repos/openstack/devstack/git/commits/3c36ba2a8e91ed486069eef6fb3202c0117aeec6,3c36ba2a8e91ed486069eef6fb3202c0117aeec6,Merge remote-tracking branch 'origin/ci-tests' into ci-tests
sleepsonthefloor,2011-11-07 20:02:13,https://api.github.com/repos/openstack/devstack/git/commits/857035dc6728383579528aa1b203717279d75eaf,857035dc6728383579528aa1b203717279d75eaf,improve comment
sleepsonthefloor,2011-11-07 19:24:00,https://api.github.com/repos/openstack/devstack/git/commits/a3475e53c1eba531e8ff718c33788abfb7c58b77,a3475e53c1eba531e8ff718c33788abfb7c58b77,fix typo
sleepsonthefloor,2011-11-07 19:18:28,https://api.github.com/repos/openstack/devstack/git/commits/7c259cea84b474b76b811f63a4f5274214d96fb8,7c259cea84b474b76b811f63a4f5274214d96fb8,Use eth0 to determine host ip address
jaypipes,2011-11-07 19:06:15,https://api.github.com/repos/openstack/devstack/git/commits/8957fead2e17766ebecf293189a6ad65675d0690,8957fead2e17766ebecf293189a6ad65675d0690,"Comment out log_file options in glance configs

Comment out log_file options in glance config files
to make log output appear in g-api and g-reg screen windows,
like the other server daemons..."
sleepsonthefloor,2011-11-07 19:02:55,https://api.github.com/repos/openstack/devstack/git/commits/08c999d59883eaf1b60b602de0f2ee2f282ebe5c,08c999d59883eaf1b60b602de0f2ee2f282ebe5c,"Merge pull request #167 from cloudbuilders/trunk-fixes

make some changes prepping for trunk branch"
anotherjesse,2011-11-07 18:51:21,https://api.github.com/repos/openstack/devstack/git/commits/92c9a4d624af61a2434daff416a2dae0edc6823e,92c9a4d624af61a2434daff416a2dae0edc6823e,"Merge pull request #169 from jeblair/master

fix typo in exercise.sh"
sleepsonthefloor,2011-11-07 18:50:05,https://api.github.com/repos/openstack/devstack/git/commits/2403e717360b2087880c111aa3c711c26d1d8507,2403e717360b2087880c111aa3c711c26d1d8507,"Merge pull request #168 from cloudbuilders/uec-simple

Uec simple"
anotherjesse,2011-11-07 18:44:43,https://api.github.com/repos/openstack/devstack/git/commits/e3c47a351e869cd9026bc37879ccf7f9c709e285,e3c47a351e869cd9026bc37879ccf7f9c709e285,"parameterize vm size, improve metadata, conditional for ubuntu version"
anotherjesse,2011-11-07 18:29:05,https://api.github.com/repos/openstack/devstack/git/commits/955e5e73f2badc22532d8054bd0965e26510cab8,955e5e73f2badc22532d8054bd0965e26510cab8,don't need static uec meta/user data since we generate
anotherjesse,2011-11-07 17:51:15,https://api.github.com/repos/openstack/devstack/git/commits/f0b41f3fb7c8802cfbd1576e10f268e20d5e1e7b,f0b41f3fb7c8802cfbd1576e10f268e20d5e1e7b,update for why we sleep
dtroyer,2011-11-05 21:16:54,https://api.github.com/repos/openstack/devstack/git/commits/89d1d0282189ecd85ffc77516bc6f5bb6eb9bb24,89d1d0282189ecd85ffc77516bc6f5bb6eb9bb24,Cache UEC image earlier
dtroyer,2011-11-05 21:15:11,https://api.github.com/repos/openstack/devstack/git/commits/ff0ed1db2732d88c056fb864b8e10fce20497ac8,ff0ed1db2732d88c056fb864b8e10fce20497ac8,Support UPLOAD_LEGACY_TTY
dtroyer,2011-11-05 00:44:06,https://api.github.com/repos/openstack/devstack/git/commits/a0e294852fd44fd2a1920319baf9f02a5c8c858a,a0e294852fd44fd2a1920319baf9f02a5c8c858a,Change glance apiver
dtroyer,2011-11-04 18:22:09,https://api.github.com/repos/openstack/devstack/git/commits/264aba554327d8888b647b9966c2672079f1004a,264aba554327d8888b647b9966c2672079f1004a,Checkout tests and download image file
dtroyer,2011-11-04 17:13:43,https://api.github.com/repos/openstack/devstack/git/commits/b0e57cf38f90a005f057fc88e7ee112cb54bba53,b0e57cf38f90a005f057fc88e7ee112cb54bba53,Add CI tests
dtroyer,2011-11-03 02:21:36,https://api.github.com/repos/openstack/devstack/git/commits/5db287c4659ed425b67d4bc2158b4019ecb3c280,5db287c4659ed425b67d4bc2158b4019ecb3c280,Keystone uses api v2.0
dtroyer,2011-11-02 17:13:33,https://api.github.com/repos/openstack/devstack/git/commits/fda65b83f465ad372ac3d9088ebf17c97cff4a3a,fda65b83f465ad372ac3d9088ebf17c97cff4a3a,New build_ci_config.sh
jeblair,2011-11-07 15:23:34,https://api.github.com/repos/openstack/devstack/git/commits/6cbf2872544be0d81f0c9471ae5be7d8e319b7ea,6cbf2872544be0d81f0c9471ae5be7d8e319b7ea,Fix typo in exercise.sh
vishvananda,2011-11-06 19:18:26,https://api.github.com/repos/openstack/devstack/git/commits/9812ffb9980a7ed7c3512873d522ac6ee5f52742,9812ffb9980a7ed7c3512873d522ac6ee5f52742,clean up service token
anotherjesse,2011-11-06 18:33:33,https://api.github.com/repos/openstack/devstack/git/commits/dca89009f5f5468f13158eec3b080ecb0bb5545f,dca89009f5f5468f13158eec3b080ecb0bb5545f,destroying the network isn't enough to delete the leases
anotherjesse,2011-11-06 18:29:10,https://api.github.com/repos/openstack/devstack/git/commits/02cc96ca32ded5a7985570d99ee8eb44a95d7340,02cc96ca32ded5a7985570d99ee8eb44a95d7340,increase the dhcp range
anotherjesse,2011-11-06 18:12:55,https://api.github.com/repos/openstack/devstack/git/commits/1a5a65f4a02d88c8d110cb1a68411b8f05e61ed9,1a5a65f4a02d88c8d110cb1a68411b8f05e61ed9,"Merge pull request #164 from cloudbuilders/xen_multi

Add script that demonstrates separation of head and compute roles for xen"
anotherjesse,2011-11-06 17:35:13,https://api.github.com/repos/openstack/devstack/git/commits/6e3a4c56a553e340d08fdc245e3b491b29d17e12,6e3a4c56a553e340d08fdc245e3b491b29d17e12,run hostname on remote server
anotherjesse,2011-11-06 17:25:55,https://api.github.com/repos/openstack/devstack/git/commits/b17c4f30eb6038f58e0186d8621406b68bf54914,b17c4f30eb6038f58e0186d8621406b68bf54914,make sure hostname resolves
anotherjesse,2011-11-06 16:22:35,https://api.github.com/repos/openstack/devstack/git/commits/662e1b0333a88ed994aae56f54b9cb3e75a3ecb9,662e1b0333a88ed994aae56f54b9cb3e75a3ecb9,"Merge pull request #163 from cloudbuilders/toddexercises

Toddexercises"
anotherjesse,2011-11-06 16:16:42,https://api.github.com/repos/openstack/devstack/git/commits/d55a5159128a213789d9a7a6db3ed6225206eec3,d55a5159128a213789d9a7a6db3ed6225206eec3,egrep needed for parens
anotherjesse,2011-11-06 16:09:03,https://api.github.com/repos/openstack/devstack/git/commits/dadb07f5be83afe5ed2adb90d3b4c580c59024f2,dadb07f5be83afe5ed2adb90d3b4c580c59024f2,Switch the way we check for completion
anotherjesse,2011-11-06 16:00:28,https://api.github.com/repos/openstack/devstack/git/commits/c7f72ad890b3b7372d15933c6814d4528accedf8,c7f72ad890b3b7372d15933c6814d4528accedf8,should speed up by 20 seconds - sudo and no sleep
anotherjesse,2011-11-06 15:56:18,https://api.github.com/repos/openstack/devstack/git/commits/00d6bc6529899326568f37375db77ac3cea008e1,00d6bc6529899326568f37375db77ac3cea008e1,Don't forget to echo so we can find it
anotherjesse,2011-11-06 15:54:11,https://api.github.com/repos/openstack/devstack/git/commits/53d7533d1570a7fe536126c3b4e84ae4928931a1,53d7533d1570a7fe536126c3b4e84ae4928931a1,pull DIST_NAME from source
anotherjesse,2011-11-06 15:47:09,https://api.github.com/repos/openstack/devstack/git/commits/5f4ae107efbc481db5d3c30c90a63934a2664d51,5f4ae107efbc481db5d3c30c90a63934a2664d51,"chown should be to stack user, not root"
anotherjesse,2011-11-06 07:42:11,https://api.github.com/repos/openstack/devstack/git/commits/ab6105ccf6e36ed0ec8aabd3048e33d5064fa70a,ab6105ccf6e36ed0ec8aabd3048e33d5064fa70a,sleep half a second to allow bash to start in screen
anotherjesse,2011-11-06 07:32:21,https://api.github.com/repos/openstack/devstack/git/commits/11416bfeafd4c3872a704348b6a4445636203f9a,11416bfeafd4c3872a704348b6a4445636203f9a,use the right revision
anotherjesse,2011-11-06 07:26:29,https://api.github.com/repos/openstack/devstack/git/commits/0c0089576a36d4d432cb7377c7ab9304cc37ecb8,0c0089576a36d4d432cb7377c7ab9304cc37ecb8,accidentally running stack.sh ...
anotherjesse,2011-11-06 07:22:41,https://api.github.com/repos/openstack/devstack/git/commits/81881ec89f9c1b8872270e6e8c85891394370578,81881ec89f9c1b8872270e6e8c85891394370578,use the right devstack sha
anotherjesse,2011-11-06 07:13:30,https://api.github.com/repos/openstack/devstack/git/commits/6b1c26e96194d8a20d25cf3b11674d2a2fe72136,6b1c26e96194d8a20d25cf3b11674d2a2fe72136,use the provided localrc
anotherjesse,2011-11-06 06:49:08,https://api.github.com/repos/openstack/devstack/git/commits/9102d454f6a892ebb9e000f34a1b515c49da3f8c,9102d454f6a892ebb9e000f34a1b515c49da3f8c,resize the uec image
anotherjesse,2011-11-06 06:36:29,https://api.github.com/repos/openstack/devstack/git/commits/446a3304bcdff585d0fcea487a89e247bbaa4f6b,446a3304bcdff585d0fcea487a89e247bbaa4f6b,another attempt at userdata
anotherjesse,2011-11-06 06:30:22,https://api.github.com/repos/openstack/devstack/git/commits/2d40c2685089394827d4761aa501688cc1b2469a,2d40c2685089394827d4761aa501688cc1b2469a,git clone
anotherjesse,2011-11-06 06:20:11,https://api.github.com/repos/openstack/devstack/git/commits/e735833c1ffa5e262f95367ff157e4dcee28ead8,e735833c1ffa5e262f95367ff157e4dcee28ead8,more userdata
anotherjesse,2011-11-06 06:16:53,https://api.github.com/repos/openstack/devstack/git/commits/63cb9239aa2d551d90ce69b1dd1a070cc23c442a,63cb9239aa2d551d90ce69b1dd1a070cc23c442a,more userdata
anotherjesse,2011-11-06 06:13:34,https://api.github.com/repos/openstack/devstack/git/commits/7306f3bfc77e92657107c9ec17da35a6df2110f5,7306f3bfc77e92657107c9ec17da35a6df2110f5,more metadata
anotherjesse,2011-11-06 06:05:33,https://api.github.com/repos/openstack/devstack/git/commits/9645b0c9c9d862a585e8923cad79e916f7585b6e,9645b0c9c9d862a585e8923cad79e916f7585b6e,kill ...
anotherjesse,2011-11-06 05:54:54,https://api.github.com/repos/openstack/devstack/git/commits/cc03cc8d58514a4c88579791fdfa0559569f9818,cc03cc8d58514a4c88579791fdfa0559569f9818,kill works
anotherjesse,2011-11-06 05:52:20,https://api.github.com/repos/openstack/devstack/git/commits/3ce79aa55bdadd4be53cee8ad9c0ef5da0ad3749,3ce79aa55bdadd4be53cee8ad9c0ef5da0ad3749,improve kill
anotherjesse,2011-11-06 05:49:51,https://api.github.com/repos/openstack/devstack/git/commits/947a7651301dafb325bdce8b0cdf11361b7e496d,947a7651301dafb325bdce8b0cdf11361b7e496d,switch lsof syntax
anotherjesse,2011-11-06 05:47:28,https://api.github.com/repos/openstack/devstack/git/commits/d7ce7afe0fc67e40ff5c711794ef31d3f7a3031c,d7ce7afe0fc67e40ff5c711794ef31d3f7a3031c,set the hostname
anotherjesse,2011-11-06 05:41:57,https://api.github.com/repos/openstack/devstack/git/commits/ee34f62ba7b552062388df1520287d856d216c8d,ee34f62ba7b552062388df1520287d856d216c8d,kill the old metadata process
anotherjesse,2011-11-06 05:34:45,https://api.github.com/repos/openstack/devstack/git/commits/e49f751aa9b495f7e2f19f5a82caff6aec27da18,e49f751aa9b495f7e2f19f5a82caff6aec27da18,force the uec to be recreated
anotherjesse,2011-11-06 05:33:49,https://api.github.com/repos/openstack/devstack/git/commits/438ea577c4a27570ff402087cfbede07b888e239,438ea577c4a27570ff402087cfbede07b888e239,typo
anotherjesse,2011-11-06 05:29:35,https://api.github.com/repos/openstack/devstack/git/commits/f504e281c0e1563f7d2d1c6faa6c6f820a2982af,f504e281c0e1563f7d2d1c6faa6c6f820a2982af,don't need to spawn a bash
anotherjesse,2011-11-06 05:28:46,https://api.github.com/repos/openstack/devstack/git/commits/9ed6bbd503469e23bbe03b4ec15c955a07a47e9d,9ed6bbd503469e23bbe03b4ec15c955a07a47e9d,attempt to run the metadata service
anotherjesse,2011-11-06 05:15:50,https://api.github.com/repos/openstack/devstack/git/commits/64164078c1eab5a408e7ce15a8e533486281b320,64164078c1eab5a408e7ce15a8e533486281b320,simple metadata service
anotherjesse,2011-11-06 01:49:36,https://api.github.com/repos/openstack/devstack/git/commits/63fa7abd561d401df613a9611ab125737895563e,63fa7abd561d401df613a9611ab125737895563e,tweaks
anotherjesse,2011-11-06 01:39:33,https://api.github.com/repos/openstack/devstack/git/commits/a6282623449666f945d6a3e569513486513eb9cf,a6282623449666f945d6a3e569513486513eb9cf,let dhcp work
anotherjesse,2011-11-06 00:47:50,https://api.github.com/repos/openstack/devstack/git/commits/f5a76919b3da9a6a4c3a9a84b2455293b91e2711,f5a76919b3da9a6a4c3a9a84b2455293b91e2711,closer to fine
anotherjesse,2011-11-06 00:40:20,https://api.github.com/repos/openstack/devstack/git/commits/3b7685823ca62469499f6e4354cce8cfea6e8ee1,3b7685823ca62469499f6e4354cce8cfea6e8ee1,extract tarball in image dir
anotherjesse,2011-11-06 00:37:33,https://api.github.com/repos/openstack/devstack/git/commits/96dffbcdcedc65d1c5fc51f203c382744a7ba017,96dffbcdcedc65d1c5fc51f203c382744a7ba017,uec_url should be underscore
anotherjesse,2011-11-06 00:36:14,https://api.github.com/repos/openstack/devstack/git/commits/228f246a838ace75b620292f46f746aee1035c48,228f246a838ace75b620292f46f746aee1035c48,work towards booting
sleepsonthefloor,2011-11-06 00:36:05,https://api.github.com/repos/openstack/devstack/git/commits/9fc02e0088cc8cf099fc34dcb8813addb8391442,9fc02e0088cc8cf099fc34dcb8813addb8391442,"Merge pull request #165 from cloudbuilders/service_timeout

Add SERVICE_TIMEOUT"
vishvananda,2011-11-05 23:12:20,https://api.github.com/repos/openstack/devstack/git/commits/5f039326268cf452aa45c011b8ec4552fb49a578,5f039326268cf452aa45c011b8ec4552fb49a578,make some changes prepping for trunk branch
anotherjesse,2011-11-05 23:08:33,https://api.github.com/repos/openstack/devstack/git/commits/f0f1f69d1e6a3ae2462d648318bc3af48acc179b,f0f1f69d1e6a3ae2462d648318bc3af48acc179b,"Merge pull request #166 from cloudbuilders/get_uec_image

Beef up error handling (#886666)"
anotherjesse,2011-11-05 23:05:14,https://api.github.com/repos/openstack/devstack/git/commits/8b3eb5ffe31c6a112e9461f16c6955f303018f17,8b3eb5ffe31c6a112e9461f16c6955f303018f17,work towards simpiler uec
dtroyer,2011-11-05 21:55:15,https://api.github.com/repos/openstack/devstack/git/commits/43392f74b85f2ca74bdfd2b6268d0fb46cf57423,43392f74b85f2ca74bdfd2b6268d0fb46cf57423,Beef up error handling (#886666)
dtroyer,2011-11-05 21:19:03,https://api.github.com/repos/openstack/devstack/git/commits/2bbcd682aaa615957ae3c4758cdc5ac9aab91e83,2bbcd682aaa615957ae3c4758cdc5ac9aab91e83,Add SERVICE_TIMEOUT
xtoddx,2011-11-05 15:05:56,https://api.github.com/repos/openstack/devstack/git/commits/3ef87eedce4cde0c23e2dd310772eeef2fb39fb7,3ef87eedce4cde0c23e2dd310772eeef2fb39fb7,Merge branch 'toddexercises' of github.com:cloudbuilders/devstack into toddexercises
xtoddx,2011-11-05 15:02:34,https://api.github.com/repos/openstack/devstack/git/commits/9a3066f9fd4efae4ec838a673fe1517554e0e531,9a3066f9fd4efae4ec838a673fe1517554e0e531,RUNNING_TIMEOUT = BOOT_TIMEOUT + ACTIVE_TIMEOUT
xtoddx,2011-11-05 14:46:56,https://api.github.com/repos/openstack/devstack/git/commits/0367cf1585eb7359a6bc741aab06dc3a3750575a,0367cf1585eb7359a6bc741aab06dc3a3750575a,remove spacicolons.
sleepsonthefloor,2011-11-05 05:30:07,https://api.github.com/repos/openstack/devstack/git/commits/40b5737c4d00c0ba45989e98fb36dff102ffad4a,40b5737c4d00c0ba45989e98fb36dff102ffad4a,fix comment
sleepsonthefloor,2011-11-05 05:22:47,https://api.github.com/repos/openstack/devstack/git/commits/346e49131b40d3dc492ce2ad193a3e316839631e,346e49131b40d3dc492ce2ad193a3e316839631e,add script that demonstrates separation of head abd compute roles when using xen
anotherjesse,2011-11-04 20:09:41,https://api.github.com/repos/openstack/devstack/git/commits/49946a14b5c4ef290397a8ffd4254f2ff3c0797e,49946a14b5c4ef290397a8ffd4254f2ff3c0797e,proper path for arping in sudoers
sleepsonthefloor,2011-11-04 18:43:47,https://api.github.com/repos/openstack/devstack/git/commits/5f3f21f677c3eca520449c0357e50875b0fd0f8e,5f3f21f677c3eca520449c0357e50875b0fd0f8e,"Merge pull request #161 from cloudbuilders/lessapt

rework how pre-caching works.  add the ability to flag  packages #NOPRIME in files/apts so that services that can't be installed with chroot can be skipped."
xtoddx,2011-11-04 16:23:35,https://api.github.com/repos/openstack/devstack/git/commits/3e6ec236f01abaf80fe7dc8db73ecbfdf3532e89,3e6ec236f01abaf80fe7dc8db73ecbfdf3532e89,Pull in swift testing from master.
xtoddx,2011-11-04 16:09:54,https://api.github.com/repos/openstack/devstack/git/commits/9e9132ddaf77a4b858352e827da29ce214a6848d,9e9132ddaf77a4b858352e827da29ce214a6848d,"Exercises: euca bugfix, output cleanup.

Don't log stderr per-exercise, because stdout is barfy anyway.
Move the state of skip/pass/fail to the end of the exercise run."
xtoddx,2011-11-04 14:31:37,https://api.github.com/repos/openstack/devstack/git/commits/2599b3165ad35c9c62b5bfa543c03f2a3aecb4cd,2599b3165ad35c9c62b5bfa543c03f2a3aecb4cd,"Wrap exercises with master script, with logs, and move common variables."
anotherjesse,2011-11-04 06:19:58,https://api.github.com/repos/openstack/devstack/git/commits/f5763105f93465a61fa5b485715cd6ff40b04860,f5763105f93465a61fa5b485715cd6ff40b04860,"Merge pull request #162 from cloudbuilders/volpath

Use $DEST for volume backing file."
sleepsonthefloor,2011-11-03 23:31:20,https://api.github.com/repos/openstack/devstack/git/commits/f7fe442ded0b56e95ff0f145abc23d0b71e757bf,f7fe442ded0b56e95ff0f145abc23d0b71e757bf,"Merge branch 'fix_cache' into lessapt

Conflicts:
	tools/build_libvirt.sh"
sleepsonthefloor,2011-11-03 23:29:32,https://api.github.com/repos/openstack/devstack/git/commits/ca2c047b6eb28cebba25870f3dda9e6eae2ab1ea,ca2c047b6eb28cebba25870f3dda9e6eae2ab1ea,fix caching so that there is the ability to download services without installing them.  This is done with a #NOPRIME comment in apts/files/
xtoddx,2011-11-03 22:19:21,https://api.github.com/repos/openstack/devstack/git/commits/b244ef34d581f14ed8889c61ef5cd2fa06e8f5fa,b244ef34d581f14ed8889c61ef5cd2fa06e8f5fa,Use $DEST for volume backing file.
anotherjesse,2011-11-03 21:10:48,https://api.github.com/repos/openstack/devstack/git/commits/cc197481ad52236f27e6c34a72f0fbc0f78f95bd,cc197481ad52236f27e6c34a72f0fbc0f78f95bd,"Merge pull request #160 from cloudbuilders/mk_cachedir

create the uec cachedir if it doesn't exist."
anotherjesse,2011-11-03 20:52:37,https://api.github.com/repos/openstack/devstack/git/commits/1468133003a7f380dc9ae60328d5c187c975ff10,1468133003a7f380dc9ae60328d5c187c975ff10,only download - don't install apts - also pip install
sleepsonthefloor,2011-11-03 20:47:15,https://api.github.com/repos/openstack/devstack/git/commits/23324e94e2f44eb685f7c3decf7ab75d3ed4c60c,23324e94e2f44eb685f7c3decf7ab75d3ed4c60c,create the uec cachedir if it doesn't exist.  Otherwise build_libvirt fails on clean installs
chmouel,2011-11-03 16:39:54,https://api.github.com/repos/openstack/devstack/git/commits/a81bbbda93e11357b818cc5cba074ce5bd300a93,a81bbbda93e11357b818cc5cba074ce5bd300a93,"Merge pull request #157 from cloudbuilders/swift-config-location

change swift config location to SWIFT_DIR/config"
chmouel,2011-11-03 16:13:48,https://api.github.com/repos/openstack/devstack/git/commits/05ffac1ee0c27a88cf2b33631882eaa06e443f44,05ffac1ee0c27a88cf2b33631882eaa06e443f44,"Merge pull request #159 from chmouel/swift-excercise-only-when-enabled

Only do swift excercise when enabled."
chmouel,2011-11-03 16:04:26,https://api.github.com/repos/openstack/devstack/git/commits/53ca603b4590b59392511c61fa152cdabc9a43f8,53ca603b4590b59392511c61fa152cdabc9a43f8,Only run swift excercise when swift is enabled.
sleepsonthefloor,2011-11-03 15:51:13,https://api.github.com/repos/openstack/devstack/git/commits/e1664a469b423a22861a87f90211fee2ed16198d,e1664a469b423a22861a87f90211fee2ed16198d,"Merge pull request #158 from chmouel/swift-shush-question-if-not-needed

As discussed via skype, only ask for swift_hash when needed."
chmouel,2011-11-03 15:19:14,https://api.github.com/repos/openstack/devstack/git/commits/b2857e4df6b4a13b2ba0b05073ed44dbe71eab26,b2857e4df6b4a13b2ba0b05073ed44dbe71eab26,Only ask for swift_hash if swift is enabled.
sleepsonthefloor,2011-11-03 15:12:49,https://api.github.com/repos/openstack/devstack/git/commits/d24f6898ac9ce61ee506543a8e5aa9c17ff10ded,d24f6898ac9ce61ee506543a8e5aa9c17ff10ded,"Merge pull request #156 from chmouel/swift-stable-diablo-repo

Use stable/diablo for swift."
anotherjesse,2011-11-03 14:36:13,https://api.github.com/repos/openstack/devstack/git/commits/df5e9949aa599523c3e97203a2a70f4fd9b2a094,df5e9949aa599523c3e97203a2a70f4fd9b2a094,don't install memcached in general list
chmouel,2011-11-03 09:43:46,https://api.github.com/repos/openstack/devstack/git/commits/3a64826b67c4fac5995600316db243fb8c7d4697,3a64826b67c4fac5995600316db243fb8c7d4697,"Redefine swift configs in SWIFT_DIR

We still need a link in /etc/swift until #885595 is fixed."
chmouel,2011-11-03 08:17:06,https://api.github.com/repos/openstack/devstack/git/commits/3875015010110fc31368676d8885218ea5dca3b5,3875015010110fc31368676d8885218ea5dca3b5,Change SWIFT_LOCATION to SWIFT_DATA_LOCATION
chmouel,2011-11-03 09:00:06,https://api.github.com/repos/openstack/devstack/git/commits/f7788ac680a5fa50a96d57b61fecc4c77a7cfca8,f7788ac680a5fa50a96d57b61fecc4c77a7cfca8,Use stable/diablo for swift.
chmouel,2011-11-03 08:12:06,https://api.github.com/repos/openstack/devstack/git/commits/e3e42867e89596c4a29dfcc89ca7b51572034359,e3e42867e89596c4a29dfcc89ca7b51572034359,"Merge pull request #137 from cloudbuilders/new-swift-support

Add swift support"
chmouel,2011-11-03 08:08:14,https://api.github.com/repos/openstack/devstack/git/commits/24ec3499cc06e119ac7d4eedd1db9be576e3d3d0,24ec3499cc06e119ac7d4eedd1db9be576e3d3d0,"Merge remote-tracking branch 'origin/master' into new-swift-support

Conflicts:
	stack.sh"
sleepsonthefloor,2011-11-03 05:29:30,https://api.github.com/repos/openstack/devstack/git/commits/072a67194cd1e686c881a06a28ce64c59ce9aff2,072a67194cd1e686c881a06a28ce64c59ce9aff2,"Merge pull request #155 from cloudbuilders/fix_quantum_branchname

fix quantum branch name - branch diablo does not exist"
sleepsonthefloor,2011-11-03 05:23:51,https://api.github.com/repos/openstack/devstack/git/commits/9a766999c82458783da274ac9fc2ecb642f837a9,9a766999c82458783da274ac9fc2ecb642f837a9,fix quantum branch name - diablo does not exist
sleepsonthefloor,2011-11-03 05:13:51,https://api.github.com/repos/openstack/devstack/git/commits/978207e6426fb280398bd9469107d85ff774d6c6,978207e6426fb280398bd9469107d85ff774d6c6,"Merge pull request #154 from cloudbuilders/openvswitch_fix

emergency fix to avoid installation of openvswitch if user is not using quantum"
sleepsonthefloor,2011-11-03 05:07:55,https://api.github.com/repos/openstack/devstack/git/commits/0c3b60ce00bb23926668289110917cebcf47e0e4,0c3b60ce00bb23926668289110917cebcf47e0e4,typo
sleepsonthefloor,2011-11-03 05:03:53,https://api.github.com/repos/openstack/devstack/git/commits/ae7f264970d0139831e899810995523e72a89dda,ae7f264970d0139831e899810995523e72a89dda,remove -y since this is using apt_get
sleepsonthefloor,2011-11-03 04:57:12,https://api.github.com/repos/openstack/devstack/git/commits/bdc254eb38037be51f125f3b84f5d4c698e7c2ab,bdc254eb38037be51f125f3b84f5d4c698e7c2ab,emergency fix to not install openvswitch if user is not using quantum
anotherjesse,2011-11-03 02:04:42,https://api.github.com/repos/openstack/devstack/git/commits/51255798b58d7dde2fa83ba363ed36cdf2383177,51255798b58d7dde2fa83ba363ed36cdf2383177,"Merge pull request #147 from bgh/quantum

Add Quantum support"
chmouel,2011-11-02 18:09:30,https://api.github.com/repos/openstack/devstack/git/commits/537ddff25987e79470613a605fdfc24629eaa862,537ddff25987e79470613a605fdfc24629eaa862,Move all swift files to $FILES/swift/
chmouel,2011-11-02 18:09:04,https://api.github.com/repos/openstack/devstack/git/commits/1298dccb3d1696916ee2028f87634623ac33abc8,1298dccb3d1696916ee2028f87634623ac33abc8,Fix delete of container.
chmouel,2011-11-02 17:50:57,https://api.github.com/repos/openstack/devstack/git/commits/8d5334c729c3625b97a23ead01aac313c40c7db8,8d5334c729c3625b97a23ead01aac313c40c7db8,Remove dup and whitespaces.
chmouel,2011-11-02 17:22:43,https://api.github.com/repos/openstack/devstack/git/commits/bbed01d3905fca1561b4071e7a2c2fffaf8aca88,bbed01d3905fca1561b4071e7a2c2fffaf8aca88,Add swift to exercise.sh
chmouel,2011-11-02 17:16:32,https://api.github.com/repos/openstack/devstack/git/commits/e8d11580912fbf3580b268baa7cb0371d214a8ab,e8d11580912fbf3580b268baa7cb0371d214a8ab,Missed one variable subst from the last commit.
chmouel,2011-11-02 16:57:11,https://api.github.com/repos/openstack/devstack/git/commits/3d9c5d5e4eaadd5f28b6830fb3d6056aa918704c,3d9c5d5e4eaadd5f28b6830fb3d6056aa918704c,"Add documentation and fixes.

- Fix some spelling mistakes in the documentation.
- Add swift documentation.
- Try to make the code more explicit (ie: remove shortcut variables)."
chmouel,2011-11-02 15:49:56,https://api.github.com/repos/openstack/devstack/git/commits/b93478f6c752380481a75119bcf56abae5533d25,b93478f6c752380481a75119bcf56abae5533d25,"Change drives location.

Change drives and data location to ${SWIFT_DIR}/data"
chmouel,2011-11-02 15:19:16,https://api.github.com/repos/openstack/devstack/git/commits/e1136cb8dc5c4583165e7472a7112bae6f165e02,e1136cb8dc5c4583165e7472a7112bae6f165e02,Fix SWIFT_HASH_PREFIX variable.
chmouel,2011-11-02 15:18:47,https://api.github.com/repos/openstack/devstack/git/commits/06018a6bdbfea7b423194bde1b8b05cd8ed91dff,06018a6bdbfea7b423194bde1b8b05cd8ed91dff,Fix wording.
chmouel,2011-11-02 13:28:41,https://api.github.com/repos/openstack/devstack/git/commits/55ca8c31647cd28d2870cddb8e38ea7316f82205,55ca8c31647cd28d2870cddb8e38ea7316f82205,Remove fstab entry and mount it manually.
chmouel,2011-11-02 13:25:06,https://api.github.com/repos/openstack/devstack/git/commits/067163dfd1db129d089a393d0a15d301f5384335,067163dfd1db129d089a393d0a15d301f5384335,More stack user removals.
chmouel,2011-11-02 00:10:38,https://api.github.com/repos/openstack/devstack/git/commits/88d54996db69113e2ac5d9e5347072faa959cec7,88d54996db69113e2ac5d9e5347072faa959cec7,Don't use 'stack' in static but use $USER.
chmouel,2011-11-02 00:07:43,https://api.github.com/repos/openstack/devstack/git/commits/a55b09d9e86794c782e954084415da86cdb846ff,a55b09d9e86794c782e954084415da86cdb846ff,change stack to $USER
chmouel,2011-11-02 00:03:29,https://api.github.com/repos/openstack/devstack/git/commits/ab75f4becfb839e8bab5f602bb414a8f4eab090e,ab75f4becfb839e8bab5f602bb414a8f4eab090e,Ask for SWIFT_HASH.
chmouel,2011-11-02 00:02:30,https://api.github.com/repos/openstack/devstack/git/commits/5c50f0dcde905e41725d6bb4d2a708373916a26b,5c50f0dcde905e41725d6bb4d2a708373916a26b,Don't enable it by default.
chmouel,2011-11-01 18:32:23,https://api.github.com/repos/openstack/devstack/git/commits/45c5113701ecbb426d8fea95d0c416a89b089671,45c5113701ecbb426d8fea95d0c416a89b089671,Add keystone support with swift.
chmouel,2011-11-01 17:15:36,https://api.github.com/repos/openstack/devstack/git/commits/5ab5b2293240f7600e6b24aecfebe85f1abb1aa3,5ab5b2293240f7600e6b24aecfebe85f1abb1aa3,Fix variabe subst.
chmouel,2011-11-01 16:42:52,https://api.github.com/repos/openstack/devstack/git/commits/3b3b775f3bb668671fe91ac4b440b466f668be46,3b3b775f3bb668671fe91ac4b440b466f668be46,Ordering is important here.
chmouel,2011-11-01 16:32:11,https://api.github.com/repos/openstack/devstack/git/commits/e1d2bcb1b9ba1dc178f753c4b41c4e75ef29b7f8,e1d2bcb1b9ba1dc178f753c4b41c4e75ef29b7f8,"Fixes.

Fix mounting location at the right place.
Fix rerun of the script.
Start rsync.
Fix permissions."
chmouel,2011-11-01 15:22:08,https://api.github.com/repos/openstack/devstack/git/commits/d5651bb5c6fe3e51849742527aae77dadf826cb4,d5651bb5c6fe3e51849742527aae77dadf826cb4,More fixes (this is now working).
chmouel,2011-11-01 14:36:00,https://api.github.com/repos/openstack/devstack/git/commits/a2118984c0b83925360bfe3388902696146b3468,a2118984c0b83925360bfe3388902696146b3468,Add script to create ring and start server
chmouel,2011-11-01 11:36:10,https://api.github.com/repos/openstack/devstack/git/commits/a2cd841265c81e03a92a7abb5d788ad3d2d46bcd,a2cd841265c81e03a92a7abb5d788ad3d2d46bcd,"Change SWIFT_DRIVE_LOCATION to SWIFT_LOCATION

Fix some retarness along the way."
chmouel,2011-11-01 11:30:55,https://api.github.com/repos/openstack/devstack/git/commits/28fa4e8d940cb8a7a3d5fcb932a7552ad5f1c90c,28fa4e8d940cb8a7a3d5fcb932a7552ad5f1c90c,"Add swift support.

Based on github.sh/cloudbuilders/deploy.sh/swift. This is a WIP branch."
anotherjesse,2011-11-02 14:32:39,https://api.github.com/repos/openstack/devstack/git/commits/e70806452d819c2857b001c87cb72e9fcbcadaaa,e70806452d819c2857b001c87cb72e9fcbcadaaa,"Merge pull request #145 from cloudbuilders/screen-name

change screen name to stack"
sleepsonthefloor,2011-11-02 12:50:27,https://api.github.com/repos/openstack/devstack/git/commits/af6ed6b1b5966aa468798584f81334510fb128a2,af6ed6b1b5966aa468798584f81334510fb128a2,source stackrc
sleepsonthefloor,2011-11-02 12:03:38,https://api.github.com/repos/openstack/devstack/git/commits/2cec3dc846e5202c2cdf0f3f829a588392514d74,2cec3dc846e5202c2cdf0f3f829a588392514d74,unpause paused instances before terminating
anotherjesse,2011-11-02 05:06:21,https://api.github.com/repos/openstack/devstack/git/commits/4bd41ad77f9bc26b64a3a4362f787f5c9814f29a,4bd41ad77f9bc26b64a3a4362f787f5c9814f29a,deleting build_kvm.sh in favor of build_libvirt.sh
anotherjesse,2011-11-02 04:52:07,https://api.github.com/repos/openstack/devstack/git/commits/f1b3dbc41a294ccfc25042ea106a10f8ae6c3457,f1b3dbc41a294ccfc25042ea106a10f8ae6c3457,install arping - used in ha network
anotherjesse,2011-11-02 03:06:55,https://api.github.com/repos/openstack/devstack/git/commits/e19d88478949bc31c7d2d224722655992414910a,e19d88478949bc31c7d2d224722655992414910a,add some spacing to the output
anotherjesse,2011-11-02 02:46:17,https://api.github.com/repos/openstack/devstack/git/commits/1d1dda14572576a3242f113bc0d3a8c5f09b14fa,1d1dda14572576a3242f113bc0d3a8c5f09b14fa,allow build_libvirt.sh not to destroy/recreate net
anotherjesse,2011-11-02 00:34:35,https://api.github.com/repos/openstack/devstack/git/commits/037d3bdea4a2ce2ca8c5475e6c3367093c70aa15,037d3bdea4a2ce2ca8c5475e6c3367093c70aa15,"Merge pull request #143 from cloudbuilders/fix_races

Fix NBD race conditions"
anotherjesse,2011-11-02 00:23:04,https://api.github.com/repos/openstack/devstack/git/commits/de8b9a2340437220a45a5f1181a23576d12a37bb,de8b9a2340437220a45a5f1181a23576d12a37bb,change screen name to stack - addresses issue #139
anotherjesse,2011-11-02 00:11:16,https://api.github.com/repos/openstack/devstack/git/commits/34cc802b509df8e4a346c4472a4aa006d616ef7a,34cc802b509df8e4a346c4472a4aa006d616ef7a,"Merge pull request #135 from chmouel/gitignore

Add a gitignore."
anotherjesse,2011-11-01 23:44:19,https://api.github.com/repos/openstack/devstack/git/commits/787af01bddbaace8f83c65c273da6a62a9658a06,787af01bddbaace8f83c65c273da6a62a9658a06,fix sourcing of openrc
anotherjesse,2011-11-01 23:05:40,https://api.github.com/repos/openstack/devstack/git/commits/9f1863450e71e19bb8ff42e9a7c182c3f5f67c3d,9f1863450e71e19bb8ff42e9a7c182c3f5f67c3d,docs
anotherjesse,2011-11-01 23:04:14,https://api.github.com/repos/openstack/devstack/git/commits/f6705491868494fb3b78139dad23f35cd99f12c7,f6705491868494fb3b78139dad23f35cd99f12c7,move from exercise.sh to exercises/..
dtroyer,2011-11-01 22:44:03,https://api.github.com/repos/openstack/devstack/git/commits/55c027372326380c3f29ed4dcd6a0b498c52a4dd,55c027372326380c3f29ed4dcd6a0b498c52a4dd,"Trap SIGINT, etc and release used resources"
sleepsonthefloor,2011-11-01 21:23:14,https://api.github.com/repos/openstack/devstack/git/commits/f0dca55a29048a6183c103e47bee667c5e3a76e3,f0dca55a29048a6183c103e47bee667c5e3a76e3,fix typos
dtroyer,2011-11-01 20:47:38,https://api.github.com/repos/openstack/devstack/git/commits/2826911a9c2cfb36312b23f88c3c38b6d7b90109,2826911a9c2cfb36312b23f88c3c38b6d7b90109,Merge remote-tracking branch 'origin/master' into fix_races
dtroyer,2011-11-01 20:46:14,https://api.github.com/repos/openstack/devstack/git/commits/dccd6b923e3308387464721a717229a0a81b0252,dccd6b923e3308387464721a717229a0a81b0252,Add map_nbd function
sleepsonthefloor,2011-11-01 19:33:20,https://api.github.com/repos/openstack/devstack/git/commits/06ab43b4f92e2591e0d9b5f5928b6dc002ca35d2,06ab43b4f92e2591e0d9b5f5928b6dc002ca35d2,"Merge pull request #141 from cloudbuilders/xen_exercise

Changes to make exercise.sh work with xen"
sleepsonthefloor,2011-11-01 19:19:18,https://api.github.com/repos/openstack/devstack/git/commits/1de18c62508c05ecf79642b083046c114887f37e,1de18c62508c05ecf79642b083046c114887f37e,Changes to make exercise.sh work with xen
dtroyer,2011-11-01 17:36:59,https://api.github.com/repos/openstack/devstack/git/commits/2567c81b27adc119046bb1cd9289307ea5edd22d,2567c81b27adc119046bb1cd9289307ea5edd22d,Update for variable dist name
anotherjesse,2011-11-01 05:29:23,https://api.github.com/repos/openstack/devstack/git/commits/a06ac1cb2d824ff07406c85602b094c194500b67,a06ac1cb2d824ff07406c85602b094c194500b67,build_libvirt should check for completion not failure
anotherjesse,2011-11-01 02:22:18,https://api.github.com/repos/openstack/devstack/git/commits/c2e05b6a776495aa63b21653ebd277cdda119aa2,c2e05b6a776495aa63b21653ebd277cdda119aa2,typos
anotherjesse,2011-11-01 02:02:07,https://api.github.com/repos/openstack/devstack/git/commits/02a08696154153b1fc88b52aacfba4a9d53f65c9,02a08696154153b1fc88b52aacfba4a9d53f65c9,"Merge pull request #130 from cloudbuilders/fix_races

Address races in NBD and images"
dtroyer,2011-11-01 01:30:04,https://api.github.com/repos/openstack/devstack/git/commits/6fe687b989f180d5d87fa5ebc6bc9f3a2273f2f5,6fe687b989f180d5d87fa5ebc6bc9f3a2273f2f5,Cleanups for NBD and GRUB2
anotherjesse,2011-10-31 22:42:51,https://api.github.com/repos/openstack/devstack/git/commits/70d2b2c2249eada14bde3beb23fe9da8d5c449dd,70d2b2c2249eada14bde3beb23fe9da8d5c449dd,use rackspace apt mirrors
anotherjesse,2011-10-31 22:34:44,https://api.github.com/repos/openstack/devstack/git/commits/981f19487779e5931e0d24d3cd432a5f128c8a79,981f19487779e5931e0d24d3cd432a5f128c8a79,"Merge pull request #131 from cloudbuilders/xen_env

copy over ssh keys and other env"
dtroyer,2011-10-31 22:34:29,https://api.github.com/repos/openstack/devstack/git/commits/7a569734417f8331719219b055d5e3fa2768faa5,7a569734417f8331719219b055d5e3fa2768faa5,Address NBD race
sleepsonthefloor,2011-10-31 22:32:38,https://api.github.com/repos/openstack/devstack/git/commits/a1a90773a03f51665baea5127b32e72ec913b15c,a1a90773a03f51665baea5127b32e72ec913b15c,copy over ssh keys and other env
dtroyer,2011-10-31 21:59:02,https://api.github.com/repos/openstack/devstack/git/commits/71745fe62aa64837e388cc37514cadeb803e51b3,71745fe62aa64837e388cc37514cadeb803e51b3,Address races in NBD and images
xtoddx,2011-10-31 21:08:44,https://api.github.com/repos/openstack/devstack/git/commits/b5f0b2825adcfb492fc80fefb9036e445019c4eb,b5f0b2825adcfb492fc80fefb9036e445019c4eb,"Merge pull request #127 from cloudbuilders/oneiric

allow oneiric without FORCE=yes"
dtroyer,2011-10-31 20:46:49,https://api.github.com/repos/openstack/devstack/git/commits/2dfdbc9e6511292631d8d1fa324ba708259803fd,2dfdbc9e6511292631d8d1fa324ba708259803fd,Fix up sources.list
dtroyer,2011-10-31 20:32:54,https://api.github.com/repos/openstack/devstack/git/commits/2c1a2d56c192fe56a67cf6aec4d5eaa1ae52de75,2c1a2d56c192fe56a67cf6aec4d5eaa1ae52de75,Switch to e2fsck
vishvananda,2011-10-31 20:31:19,https://api.github.com/repos/openstack/devstack/git/commits/d80e380675a3b9bf003d8858a3776981df427f43,d80e380675a3b9bf003d8858a3776981df427f43,fix warning line to include oneiric as well
vishvananda,2011-10-31 18:15:05,https://api.github.com/repos/openstack/devstack/git/commits/eec092b920e87aa4a31d81d0d3020047be4c97ec,eec092b920e87aa4a31d81d0d3020047be4c97ec,allow oneiric without FORCE=yes
dtroyer,2011-10-31 20:13:47,https://api.github.com/repos/openstack/devstack/git/commits/426f82423c904698e4887fba96cabc94b0aad75e,426f82423c904698e4887fba96cabc94b0aad75e,Fix typo
dtroyer,2011-10-31 20:04:27,https://api.github.com/repos/openstack/devstack/git/commits/c2ddc97003f720cdbe73170344ef7168e7ed29c8,c2ddc97003f720cdbe73170344ef7168e7ed29c8,Leave downloaded image untouched
dtroyer,2011-10-31 20:04:27,https://api.github.com/repos/openstack/devstack/git/commits/78d94198f28e43190a101f6ced57216870f46978,78d94198f28e43190a101f6ced57216870f46978,Leave downloaded image untouched
anotherjesse,2011-10-31 19:24:27,https://api.github.com/repos/openstack/devstack/git/commits/8b42562d0e931d720d2b7edfa742696b2cd08dd2,8b42562d0e931d720d2b7edfa742696b2cd08dd2,"Merge pull request #128 from cloudbuilders/grub1

Remove GRUB 1 config"
dtroyer,2011-10-31 19:18:31,https://api.github.com/repos/openstack/devstack/git/commits/4e20969e36125b9b0ea5c6e143c3475a04148f3f,4e20969e36125b9b0ea5c6e143c3475a04148f3f,Remove GRUB 1 config
anotherjesse,2011-10-31 18:59:55,https://api.github.com/repos/openstack/devstack/git/commits/04156dbe86e74b0d7341058561271ec082b4b63c,04156dbe86e74b0d7341058561271ec082b4b63c,attempt to fix path issues
anotherjesse,2011-10-31 18:45:17,https://api.github.com/repos/openstack/devstack/git/commits/97c84744cee0c70036ad0ebc89d634a9720b6293,97c84744cee0c70036ad0ebc89d634a9720b6293,sources.list needs to support multiple dists - #124
anotherjesse,2011-10-31 18:27:55,https://api.github.com/repos/openstack/devstack/git/commits/95156a4e603a5a32a754307b666f010514b0384b,95156a4e603a5a32a754307b666f010514b0384b,"Merge pull request #126 from cloudbuilders/fix_timeouts

make exercise.sh timeouts configurable"
sleepsonthefloor,2011-10-31 18:16:44,https://api.github.com/repos/openstack/devstack/git/commits/79e807a14506f28f319470f03a3aca270b15ba78,79e807a14506f28f319470f03a3aca270b15ba78,make exercise.sh timeouts configurable
anotherjesse,2011-10-31 17:36:45,https://api.github.com/repos/openstack/devstack/git/commits/3a0e4902883ed9ca7132c612561d7e7df9ec31d2,3a0e4902883ed9ca7132c612561d7e7df9ec31d2,"Merge pull request #125 from cloudbuilders/fix-vnc

make novnc work on oneiric"
vishvananda,2011-10-31 17:15:33,https://api.github.com/repos/openstack/devstack/git/commits/6abc5cde0f3543f79c8425132d0775f544ad0f4e,6abc5cde0f3543f79c8425132d0775f544ad0f4e,make novnc work on oneiric
anotherjesse,2011-10-31 16:18:37,https://api.github.com/repos/openstack/devstack/git/commits/0d0cddd1254cb4989aa6d4edf745808e63aeda9e,0d0cddd1254cb4989aa6d4edf745808e63aeda9e,don't need to reboot with proper console
anotherjesse,2011-10-31 07:21:56,https://api.github.com/repos/openstack/devstack/git/commits/16341967b11499ae2ea1ed70c6524e6e628083a5,16341967b11499ae2ea1ed70c6524e6e628083a5,don't show the grep in build_libvirt.sh
anotherjesse,2011-10-31 07:05:35,https://api.github.com/repos/openstack/devstack/git/commits/0a247835ac7e8d54e897d103560ec9b0bd85ecd3,0a247835ac7e8d54e897d103560ec9b0bd85ecd3,attempt to get around the tail not outputing issue
anotherjesse,2011-10-31 05:55:45,https://api.github.com/repos/openstack/devstack/git/commits/b07381f1c36ddf2a0dd5cf538c2e566b523883e6,b07381f1c36ddf2a0dd5cf538c2e566b523883e6,nbd default via the guest network
anotherjesse,2011-10-31 05:48:42,https://api.github.com/repos/openstack/devstack/git/commits/861b7dd15479aacf324d2f907396545f508f2ffd,861b7dd15479aacf324d2f907396545f508f2ffd,Merge branch 'libvirt'
anotherjesse,2011-10-31 05:41:23,https://api.github.com/repos/openstack/devstack/git/commits/ddcc36d445c1dafecd6e752554e7112df8b1a9f6,ddcc36d445c1dafecd6e752554e7112df8b1a9f6,try to overwrite the overwrite
anotherjesse,2011-10-31 03:44:26,https://api.github.com/repos/openstack/devstack/git/commits/2c5201b461229d199846a6af3b12c5ae5de62f01,2c5201b461229d199846a6af3b12c5ae5de62f01,can't figure out cloudinit
anotherjesse,2011-10-31 03:34:44,https://api.github.com/repos/openstack/devstack/git/commits/ed8aa54909ffd7295d58bbe9072c3d657e03b956,ed8aa54909ffd7295d58bbe9072c3d657e03b956,try ds=nocloud-net;h=foo
anotherjesse,2011-10-31 03:30:39,https://api.github.com/repos/openstack/devstack/git/commits/932649fac38186c3673833272b7e78cd37467a6a,932649fac38186c3673833272b7e78cd37467a6a,proper way of setting hostname using uec kernel params
anotherjesse,2011-10-31 03:02:03,https://api.github.com/repos/openstack/devstack/git/commits/7e4a33bc6bd87988ccd2bb936e374516050565ee,7e4a33bc6bd87988ccd2bb936e374516050565ee,another attemp at setting guest name
anotherjesse,2011-10-31 02:58:16,https://api.github.com/repos/openstack/devstack/git/commits/fd584eb6bbe55a173e50646598304598c5e0efc5,fd584eb6bbe55a173e50646598304598c5e0efc5,set hostname using uec kernel options
anotherjesse,2011-10-31 02:52:50,https://api.github.com/repos/openstack/devstack/git/commits/5f894cd346f2339a47b43962e431a22c6b671980,5f894cd346f2339a47b43962e431a22c6b671980,typo
anotherjesse,2011-10-31 02:46:54,https://api.github.com/repos/openstack/devstack/git/commits/b0559b2e4ded3015ee3267b39e2f55d5ac90bf01,b0559b2e4ded3015ee3267b39e2f55d5ac90bf01,having work_dir in here complicates jenkins
anotherjesse,2011-10-31 02:44:07,https://api.github.com/repos/openstack/devstack/git/commits/63e6b774b79c282fccbf582fb57228e5c1598380,63e6b774b79c282fccbf582fb57228e5c1598380,"Merge pull request #123 from maoy/ip_flag_fix

Ip flag fix"
anotherjesse,2011-10-31 02:40:38,https://api.github.com/repos/openstack/devstack/git/commits/d6ee73f94ff7c83c900acf9a12507df5be3a2b82,d6ee73f94ff7c83c900acf9a12507df5be3a2b82,blow up if CACHEDIR doesn't exist
anotherjesse,2011-10-31 02:37:56,https://api.github.com/repos/openstack/devstack/git/commits/2b7d221e6c7707a9973c8d32dd72f66fe7bb7ab7,2b7d221e6c7707a9973c8d32dd72f66fe7bb7ab7,switch to uec
anotherjesse,2011-10-31 02:26:28,https://api.github.com/repos/openstack/devstack/git/commits/19d62879dd0a4da690b77b38d2c4cda0b387d19e,19d62879dd0a4da690b77b38d2c4cda0b387d19e,another attempt at exclude
anotherjesse,2011-10-31 02:24:05,https://api.github.com/repos/openstack/devstack/git/commits/16ba919aeabf0069ab47cb89f0eebabd59e1a3db,16ba919aeabf0069ab47cb89f0eebabd59e1a3db,use rsync so we can exclude the work_dir
anotherjesse,2011-10-31 01:56:05,https://api.github.com/repos/openstack/devstack/git/commits/319897424c95d6da189585f33f014f27252e6aa5,319897424c95d6da189585f33f014f27252e6aa5,topdir should be a real path
anotherjesse,2011-10-31 01:43:54,https://api.github.com/repos/openstack/devstack/git/commits/7fa561371a7b7a77e34df652af0c88cb13ecd48f,7fa561371a7b7a77e34df652af0c88cb13ecd48f,fix sourcing
anotherjesse,2011-10-31 01:42:16,https://api.github.com/repos/openstack/devstack/git/commits/489edb038599715e32dd81ec8103822f3dbe90e4,489edb038599715e32dd81ec8103822f3dbe90e4,don't need bridge
anotherjesse,2011-10-31 01:37:49,https://api.github.com/repos/openstack/devstack/git/commits/e97a2e79b9ffc6f17721ad4f9a26d06a30bdbad4,e97a2e79b9ffc6f17721ad4f9a26d06a30bdbad4,convert build_kvm to build_libvirt - using libvirt net
maoy,2011-10-30 03:39:24,https://api.github.com/repos/openstack/devstack/git/commits/4c7f430a683491d3ebf08650c31978043e26a401,4c7f430a683491d3ebf08650c31978043e26a401,Merge branch 'ip_flag_fix' of https://github.com/maoy/devstack into ip_flag_fix
maoy,2011-10-30 03:30:10,https://api.github.com/repos/openstack/devstack/git/commits/9720eb8a241c0ca934085b3b4962df65d35e9ad3,9720eb8a241c0ca934085b3b4962df65d35e9ad3,added the fixed range flag in nova.conf (to fix issue #119)
maoy,2011-10-30 03:30:10,https://api.github.com/repos/openstack/devstack/git/commits/b8ec03064c1fd10fa17d3e46337b71f78884198a,b8ec03064c1fd10fa17d3e46337b71f78884198a,added the fixed range flag in nova.conf
anotherjesse,2011-10-30 00:11:17,https://api.github.com/repos/openstack/devstack/git/commits/7fd53b3de933c7aed283361d0b5ef4afb474826e,7fd53b3de933c7aed283361d0b5ef4afb474826e,finish horizon renames
anotherjesse,2011-10-29 23:14:27,https://api.github.com/repos/openstack/devstack/git/commits/c4cc93f9beedede85cf338cc1a7bbe11f6a49f97,c4cc93f9beedede85cf338cc1a7bbe11f6a49f97,"Merge pull request #113 from cloudbuilders/pause

Add pause to exercise.sh (requires nova flag)"
anotherjesse,2011-10-29 22:35:58,https://api.github.com/repos/openstack/devstack/git/commits/2f4118828ab56e651fe5e3cf37554625863ebf05,2f4118828ab56e651fe5e3cf37554625863ebf05,"Merge pull request #118 from ohnoimdead/horizon

changing dash to horizon"
anotherjesse,2011-10-29 01:48:40,https://api.github.com/repos/openstack/devstack/git/commits/defb3aa97a63eb01c59f1249c4772519e5c9fcae,defb3aa97a63eb01c59f1249c4772519e5c9fcae,"Merge pull request #117 from cloudbuilders/instances-path

allow instances path to be set in the script"
ohnoimdead,2011-10-28 21:00:21,https://api.github.com/repos/openstack/devstack/git/commits/ca85b7996a39e20833358eec638a2edb07789ffb,ca85b7996a39e20833358eec638a2edb07789ffb,changing dash to horizon
vishvananda,2011-10-28 20:34:38,https://api.github.com/repos/openstack/devstack/git/commits/e72bdb094503a04dd8f225368e7d7d34b27680c5,e72bdb094503a04dd8f225368e7d7d34b27680c5,add the fi
vishvananda,2011-10-28 19:36:47,https://api.github.com/repos/openstack/devstack/git/commits/f8747f7c5fc52e2510f204b3ebc27a1e8959ec9d,f8747f7c5fc52e2510f204b3ebc27a1e8959ec9d,"Merge pull request #116 from cloudbuilders/ec2-roles

create roles for demo user so ec2 api is happy"
vishvananda,2011-10-28 19:28:30,https://api.github.com/repos/openstack/devstack/git/commits/4d4cf0c49a8526271f30a7eb8fcb0a05660288b1,4d4cf0c49a8526271f30a7eb8fcb0a05660288b1,"Merge branch 'master' into instances-path

Conflicts:
	stack.sh"
vishvananda,2011-10-28 19:20:07,https://api.github.com/repos/openstack/devstack/git/commits/3e2b1744edf43a924c381638fea48894db7b52e5,3e2b1744edf43a924c381638fea48894db7b52e5,allow instances path to be set in the script
vishvananda,2011-10-28 19:11:18,https://api.github.com/repos/openstack/devstack/git/commits/3a22d818cd0fe69c402a460cc466dec0f5c1dadf,3a22d818cd0fe69c402a460cc466dec0f5c1dadf,create roles for demo user so ec2 api is happy
anotherjesse,2011-10-28 17:42:37,https://api.github.com/repos/openstack/devstack/git/commits/80944692531372977727a3ecaa76c84a1a36ab33,80944692531372977727a3ecaa76c84a1a36ab33,"Merge pull request #108 from cloudbuilders/jcannava

Restart apache after linking the default dash config."
anotherjesse,2011-10-28 17:34:26,https://api.github.com/repos/openstack/devstack/git/commits/c96b024767ab1ec6c2938189ff8c1289acea7b7f,c96b024767ab1ec6c2938189ff8c1289acea7b7f,"don't need to restart apache inside screen

it is now being restarted during installation"
anotherjesse,2011-10-28 16:46:29,https://api.github.com/repos/openstack/devstack/git/commits/5476581c98ed73eb07bfa24debd30722c5e1143b,5476581c98ed73eb07bfa24debd30722c5e1143b,"Merge pull request #115 from cloudbuilders/rootfixes

Make running as root work."
xtoddx,2011-10-28 16:27:20,https://api.github.com/repos/openstack/devstack/git/commits/f8c4684b6cc77954fc6c57192b594ca25bd16906,f8c4684b6cc77954fc6c57192b594ca25bd16906,Change cp -p to mv.
xtoddx,2011-10-28 06:34:19,https://api.github.com/repos/openstack/devstack/git/commits/0a16145a9351547944a6c63e0e7fec4a1395e28e,0a16145a9351547944a6c63e0e7fec4a1395e28e,Make running as root work.
anotherjesse,2011-10-28 05:42:46,https://api.github.com/repos/openstack/devstack/git/commits/fc1519f87afc695629786c3cc460cbc18d3867a9,fc1519f87afc695629786c3cc460cbc18d3867a9,"Merge pull request #107 from cloudbuilders/xen

Support for devstack + XenServer 5.6"
sleepsonthefloor,2011-10-28 00:07:32,https://api.github.com/repos/openstack/devstack/git/commits/082cc3bec6d728c4f14178ab7a6079b6bce0000f,082cc3bec6d728c4f14178ab7a6079b6bce0000f,Merge remote-tracking branch 'origin/master' into xen
sleepsonthefloor,2011-10-27 23:28:22,https://api.github.com/repos/openstack/devstack/git/commits/1fdddf8d71618a20aba889656a4018f7c0b0ea34,1fdddf8d71618a20aba889656a4018f7c0b0ea34,remove extraneous doc
anotherjesse,2011-10-27 21:10:47,https://api.github.com/repos/openstack/devstack/git/commits/0c484feda47263cf1de5eaf034b39cb46a304d7c,0c484feda47263cf1de5eaf034b39cb46a304d7c,check that you can't hit the floating ip as well
anotherjesse,2011-10-27 21:10:13,https://api.github.com/repos/openstack/devstack/git/commits/a2710c518a83a0533460cce78a1b4066f6dbef3c,a2710c518a83a0533460cce78a1b4066f6dbef3c,Merge remote-tracking branch 'origin/master' into pause
anotherjesse,2011-10-27 21:06:33,https://api.github.com/repos/openstack/devstack/git/commits/467135e20cbdd180c81bf27756e72fc778d7e50d,467135e20cbdd180c81bf27756e72fc778d7e50d,another attempt at pause/unpause
sleepsonthefloor,2011-10-27 20:53:05,https://api.github.com/repos/openstack/devstack/git/commits/d395b3a29f8c0337ba654154eafdaab21d6443ba,d395b3a29f8c0337ba654154eafdaab21d6443ba,add --no-check-certificate so that document procedure works
anotherjesse,2011-10-27 20:35:40,https://api.github.com/repos/openstack/devstack/git/commits/7767d0b7ca14b57e924c56f96e7f7a76b646a2af,7767d0b7ca14b57e924c56f96e7f7a76b646a2af,"Merge pull request #112 from cloudbuilders/better_floats

fix so that our first floating ip doesn't end in .0"
anotherjesse,2011-10-27 20:35:06,https://api.github.com/repos/openstack/devstack/git/commits/a04cd8b38350c9e162071b6542ca09dfdb8e28a0,a04cd8b38350c9e162071b6542ca09dfdb8e28a0,"Merge pull request #111 from cloudbuilders/fix_109

fix for #109 - set the hostname to GUEST_NAME"
sleepsonthefloor,2011-10-27 20:21:52,https://api.github.com/repos/openstack/devstack/git/commits/0e74ecb4ac81832fa8d1340e45a2008825067b91,0e74ecb4ac81832fa8d1340e45a2008825067b91,fix so that our first floating ip doesn't end in .0
sleepsonthefloor,2011-10-27 20:07:37,https://api.github.com/repos/openstack/devstack/git/commits/b957a855f944f1dd62622679d16ff98cf84e99eb,b957a855f944f1dd62622679d16ff98cf84e99eb,fix for #109 - set the hostname to GUEST_NAME
sleepsonthefloor,2011-10-27 20:06:39,https://api.github.com/repos/openstack/devstack/git/commits/138b283823c1fd5d225ebbe1184e4368949da9bf,138b283823c1fd5d225ebbe1184e4368949da9bf,clean up setting of hostname
vishvananda,2011-10-27 19:55:29,https://api.github.com/repos/openstack/devstack/git/commits/293c2ef6333901b4bb960716bcb4635fa54cf67a,293c2ef6333901b4bb960716bcb4635fa54cf67a,turn on admin api to make pause work
sleepsonthefloor,2011-10-27 19:53:30,https://api.github.com/repos/openstack/devstack/git/commits/ea1290a997d5ea6c9ac764fcb9b9dc26b68c811c,ea1290a997d5ea6c9ac764fcb9b9dc26b68c811c,use better bridge names
anotherjesse,2011-10-27 19:42:37,https://api.github.com/repos/openstack/devstack/git/commits/4d53b1ab110684ff793ad5c4006f33039db2d6e4,4d53b1ab110684ff793ad5c4006f33039db2d6e4,"Merge pull request #104 from jeblair/master

Add syslog option"
anotherjesse,2011-10-27 19:15:24,https://api.github.com/repos/openstack/devstack/git/commits/093f3f558681cabba1b0b5bb1183c8adf9563ac3,093f3f558681cabba1b0b5bb1183c8adf9563ac3,Merge branch 'master' into pause
anotherjesse,2011-10-27 18:29:43,https://api.github.com/repos/openstack/devstack/git/commits/47bb211cadbf2383c9e03f02858731e57ee3c4d9,47bb211cadbf2383c9e03f02858731e57ee3c4d9,need to chmod 440 for sudoers file
anotherjesse,2011-10-27 18:27:17,https://api.github.com/repos/openstack/devstack/git/commits/67a3a55f691753a27dce01ff678258236a1638bd,67a3a55f691753a27dce01ff678258236a1638bd,"Merge pull request #105 from cloudbuilders/timeout

exercise using timeouts instead of sleeping"
anotherjesse,2011-10-27 18:20:38,https://api.github.com/repos/openstack/devstack/git/commits/84a399b43d618fe0d438694a4f1a9d1e9965a930,84a399b43d618fe0d438694a4f1a9d1e9965a930,typo
anotherjesse,2011-10-27 18:18:09,https://api.github.com/repos/openstack/devstack/git/commits/509992fe4c24d81af4a14596531c21b4f4543499,509992fe4c24d81af4a14596531c21b4f4543499,if you are running as a regular user add sudo priveledges
sleepsonthefloor,2011-10-27 16:07:02,https://api.github.com/repos/openstack/devstack/git/commits/d7f29e6366bfa74687d750a4f9f17d51527dd205,d7f29e6366bfa74687d750a4f9f17d51527dd205,update docs to tell how to get xs5.6sp2
jcannava,2011-10-27 15:45:20,https://api.github.com/repos/openstack/devstack/git/commits/aca9a418e139dd404f1505c4e6b99c03113a819a,aca9a418e139dd404f1505c4e6b99c03113a819a,Restart apache after linking the default dash config.
sleepsonthefloor,2011-10-27 07:39:30,https://api.github.com/repos/openstack/devstack/git/commits/f54bc06d9166e045e28ef9bd7ce3e0036c18c640,f54bc06d9166e045e28ef9bd7ce3e0036c18c640,fix typo
sleepsonthefloor,2011-10-27 06:48:43,https://api.github.com/repos/openstack/devstack/git/commits/91f58c90c81991b71a5707f9ff0f967009b8b4f2,91f58c90c81991b71a5707f9ff0f967009b8b4f2,fix grammar
sleepsonthefloor,2011-10-27 06:40:46,https://api.github.com/repos/openstack/devstack/git/commits/f6ef5690e7de6460ff060eaedc9166f9e7335803,f6ef5690e7de6460ff060eaedc9166f9e7335803,make vm net ip configurable
sleepsonthefloor,2011-10-27 06:36:25,https://api.github.com/repos/openstack/devstack/git/commits/fe1c6dedcb0bf0f89c0ebca717d79e259af57fd9,fe1c6dedcb0bf0f89c0ebca717d79e259af57fd9,fix license
sleepsonthefloor,2011-10-27 06:32:30,https://api.github.com/repos/openstack/devstack/git/commits/2a4a3424b4a80a5ccbe21daea3890cd454269c75,2a4a3424b4a80a5ccbe21daea3890cd454269c75,fix typo
sleepsonthefloor,2011-10-27 06:29:59,https://api.github.com/repos/openstack/devstack/git/commits/a693655cac465bb80c79a586cd78d830199f3399,a693655cac465bb80c79a586cd78d830199f3399,use GUEST_PASSWORD instead of PASSWORD
sleepsonthefloor,2011-10-27 06:29:49,https://api.github.com/repos/openstack/devstack/git/commits/876e4b9a700c9a932227b391063d09bacc9bbdc9,876e4b9a700c9a932227b391063d09bacc9bbdc9,give dummy ip to eth1
sleepsonthefloor,2011-10-27 06:11:52,https://api.github.com/repos/openstack/devstack/git/commits/3eb8f59d297bda603b704c47a07d7544b7ea9eb8,3eb8f59d297bda603b704c47a07d7544b7ea9eb8,some tweaks and doc improvements
sleepsonthefloor,2011-10-27 05:35:17,https://api.github.com/repos/openstack/devstack/git/commits/cc5028ded177fc801113fa614c284a2cc2a098d3,cc5028ded177fc801113fa614c284a2cc2a098d3,Merge remote-tracking branch 'origin/master' into xen
sleepsonthefloor,2011-10-27 05:34:55,https://api.github.com/repos/openstack/devstack/git/commits/1a09ea49c6aa5b239779251d3201a910bac1c4bf,1a09ea49c6aa5b239779251d3201a910bac1c4bf,update docs
sleepsonthefloor,2011-10-27 05:29:08,https://api.github.com/repos/openstack/devstack/git/commits/b62b4ca2928fbcdf339be804da9d4aade41380e4,b62b4ca2928fbcdf339be804da9d4aade41380e4,Initial commit of xen devstack support
anotherjesse,2011-10-27 05:11:31,https://api.github.com/repos/openstack/devstack/git/commits/b7cc5bcbb44b1157cbcf61097084d6a178d01c73,b7cc5bcbb44b1157cbcf61097084d6a178d01c73,test pause/unpause using ping
anotherjesse,2011-10-27 04:59:20,https://api.github.com/repos/openstack/devstack/git/commits/70188b31054e2bad73b9fee5251d68009bfcb22c,70188b31054e2bad73b9fee5251d68009bfcb22c,add image caching to lxc
anotherjesse,2011-10-27 04:46:47,https://api.github.com/repos/openstack/devstack/git/commits/53d4a1db2b27ef8549c42d36cda2255bea6576a5,53d4a1db2b27ef8549c42d36cda2255bea6576a5,missed removing this ping
anotherjesse,2011-10-27 04:39:56,https://api.github.com/repos/openstack/devstack/git/commits/ac2e166e895eb52286e47ee51a95f0e3d8491932,ac2e166e895eb52286e47ee51a95f0e3d8491932,grammer
anotherjesse,2011-10-27 04:30:02,https://api.github.com/repos/openstack/devstack/git/commits/5a774839d73d4d9193e21acc71137f5397962317,5a774839d73d4d9193e21acc71137f5397962317,more converting sleep -> timeouts
anotherjesse,2011-10-27 04:23:20,https://api.github.com/repos/openstack/devstack/git/commits/ab8dbce751c3a514b71df89c31acf4c9bbdf7671,ab8dbce751c3a514b71df89c31acf4c9bbdf7671,play with how ping tests/sleep works in exercise
dtroyer,2011-10-26 21:05:28,https://api.github.com/repos/openstack/devstack/git/commits/f2a343b00f18dc973e64b11ab2ee75717b2be00c,f2a343b00f18dc973e64b11ab2ee75717b2be00c,Convert to use UEC images
dtroyer,2011-10-26 20:55:43,https://api.github.com/repos/openstack/devstack/git/commits/5cc7ebde6710b8b2c5ceb7f87cde5657f704a1d1,5cc7ebde6710b8b2c5ceb7f87cde5657f704a1d1,Merge branch 'master' of github.com:cloudbuilders/devstack into uec-image
dtroyer,2011-10-26 20:52:34,https://api.github.com/repos/openstack/devstack/git/commits/a0cf3c82913961bf63a8a7696d09582e06110a93,a0cf3c82913961bf63a8a7696d09582e06110a93,Do update copies
dtroyer,2011-10-26 20:13:00,https://api.github.com/repos/openstack/devstack/git/commits/e33c5f6327ac54083452f6a22f2d7fc4d37ab45f,e33c5f6327ac54083452f6a22f2d7fc4d37ab45f,Extract boot kernel from ramdisk image
dtroyer,2011-10-26 20:10:46,https://api.github.com/repos/openstack/devstack/git/commits/7920b0f757814c3e59e87ddc34031dfce2384302,7920b0f757814c3e59e87ddc34031dfce2384302,Wait for partition device to appear
jeblair,2011-10-26 19:45:52,https://api.github.com/repos/openstack/devstack/git/commits/a0988480dd62f1667f321326ab0a856c03472f6d,a0988480dd62f1667f321326ab0a856c03472f6d,Merge branch 'master' into syslog
jeblair,2011-10-26 19:44:27,https://api.github.com/repos/openstack/devstack/git/commits/5855a64434cb94e34880e9a84765dd48671fba79,5855a64434cb94e34880e9a84765dd48671fba79,"Add syslog option, off by default.

Add syslog option to glance and nova."
anotherjesse,2011-10-26 19:39:00,https://api.github.com/repos/openstack/devstack/git/commits/ad21d1a78e83ea8db1c87b65e646215d9cce8198,ad21d1a78e83ea8db1c87b65e646215d9cce8198,raise an error if stack fails in lxc
dtroyer,2011-10-26 17:35:22,https://api.github.com/repos/openstack/devstack/git/commits/ae6055685c26f38e2aa50ac5e546bc84b1278597,ae6055685c26f38e2aa50ac5e546bc84b1278597,Always resize the root filesystem
dtroyer,2011-10-26 17:34:59,https://api.github.com/repos/openstack/devstack/git/commits/ea442c1cb755c930fe2d03bf9ea595a527353714,ea442c1cb755c930fe2d03bf9ea595a527353714,Install a generic kernel in the ramdisk image
anotherjesse,2011-10-26 15:51:59,https://api.github.com/repos/openstack/devstack/git/commits/7b1aa5b6beb6f9ad0b47980e530c7671ac4782c0,7b1aa5b6beb6f9ad0b47980e530c7671ac4782c0,Merge branch 'master' of github.com:cloudbuilders/devstack
anotherjesse,2011-10-26 15:51:15,https://api.github.com/repos/openstack/devstack/git/commits/7d45a0fa601fab0e4e7237f8920e049744a94c4a,7d45a0fa601fab0e4e7237f8920e049744a94c4a,default the root password to admin password and don't fail if group already exists
anotherjesse,2011-10-26 15:48:02,https://api.github.com/repos/openstack/devstack/git/commits/86c996b3004d317d067f9493155a15ae5a9de796,86c996b3004d317d067f9493155a15ae5a9de796,"Merge pull request #103 from galstrom21/master

bug fix"
galstrom21,2011-10-26 15:45:02,https://api.github.com/repos/openstack/devstack/git/commits/56a505fc2d3b95c310f2330b4e4d45d8dfe8f0e1,56a505fc2d3b95c310f2330b4e4d45d8dfe8f0e1,"bug fix.. resulted in following error message: 

./exercise.sh: line 96: [: missing `]'"
anotherjesse,2011-10-26 06:55:56,https://api.github.com/repos/openstack/devstack/git/commits/c99d4ad156e4a723d69877cae452e6f7c56339fc,c99d4ad156e4a723d69877cae452e6f7c56339fc,"Merge pull request #102 from cloudbuilders/cache_images_kvm

Cache images kvm"
anotherjesse,2011-10-26 06:51:43,https://api.github.com/repos/openstack/devstack/git/commits/00dcc067f7f4e2c2faaba9aeb3cc23a1981eaf12,00dcc067f7f4e2c2faaba9aeb3cc23a1981eaf12,put them in the right place
anotherjesse,2011-10-26 06:48:39,https://api.github.com/repos/openstack/devstack/git/commits/244655f0c57f5453b701c5e9c55608cea55b6a97,244655f0c57f5453b701c5e9c55608cea55b6a97,copy to a directory not file
anotherjesse,2011-10-26 06:43:03,https://api.github.com/repos/openstack/devstack/git/commits/9173d067069aeb726f10c72a6841afd41a363af9,9173d067069aeb726f10c72a6841afd41a363af9,typo
anotherjesse,2011-10-26 06:41:59,https://api.github.com/repos/openstack/devstack/git/commits/6065772feca1862844efd6388b4782354154a6fc,6065772feca1862844efd6388b4782354154a6fc,cache the images
anotherjesse,2011-10-26 06:05:40,https://api.github.com/repos/openstack/devstack/git/commits/73e5a1a74f15240d1fd7131a48d260f870623578,73e5a1a74f15240d1fd7131a48d260f870623578,"Merge pull request #94 from cloudbuilders/redo_clone

Redo clone"
anotherjesse,2011-10-26 05:58:26,https://api.github.com/repos/openstack/devstack/git/commits/6e34422884fa15aa0543424dbbe5b46602e5cb2f,6e34422884fa15aa0543424dbbe5b46602e5cb2f,"Merge pull request #97 from cloudbuilders/fix_paste

don't modify the paste.ini inplace - copy to nova, then modify"
dtroyer,2011-10-26 03:35:23,https://api.github.com/repos/openstack/devstack/git/commits/61be92420904629cfb08f79f9dc5fef402a4f53a,61be92420904629cfb08f79f9dc5fef402a4f53a,Final ramdisk must be a filesystem image
dtroyer,2011-10-25 22:53:24,https://api.github.com/repos/openstack/devstack/git/commits/a6466e0f6731d3b3a323f0cc35747175e5b992c4,a6466e0f6731d3b3a323f0cc35747175e5b992c4,Initial conversion to use UEC images
dtroyer,2011-10-25 21:28:49,https://api.github.com/repos/openstack/devstack/git/commits/a03b99dc997d7fefaea88162fc93a05e086d518b,a03b99dc997d7fefaea88162fc93a05e086d518b,Fix typos
dtroyer,2011-10-25 20:51:01,https://api.github.com/repos/openstack/devstack/git/commits/42940a4ff23ab7569ff1eec59dde5bc03d194afe,42940a4ff23ab7569ff1eec59dde5bc03d194afe,Merge branch 'image'
dtroyer,2011-10-25 20:49:47,https://api.github.com/repos/openstack/devstack/git/commits/ecc5a909292db82648d48cc7ae0e873f7f9d66ac,ecc5a909292db82648d48cc7ae0e873f7f9d66ac,Add check for version compatibility
dtroyer,2011-10-25 20:45:26,https://api.github.com/repos/openstack/devstack/git/commits/e753fdf42c45a7319159f401158b717960aa99ba,e753fdf42c45a7319159f401158b717960aa99ba,Add get_uec_image.sh
anotherjesse,2011-10-25 15:52:31,https://api.github.com/repos/openstack/devstack/git/commits/c2b3cf7ff87cd93113a36eb9756705b905a7f6dc,c2b3cf7ff87cd93113a36eb9756705b905a7f6dc,switch back to https (to get around firewall issues)
anotherjesse,2011-10-25 15:50:39,https://api.github.com/repos/openstack/devstack/git/commits/d986caf79bf4a1ef950ee6ef0962860dde0b85ba,d986caf79bf4a1ef950ee6ef0962860dde0b85ba,"Merge pull request #99 from cloudbuilders/fix_nbd_connect

Fix issue #98 - wait till nbd is connected using method in nova's disk.py"
sleepsonthefloor,2011-10-25 07:34:35,https://api.github.com/repos/openstack/devstack/git/commits/9d8e8cf1eeedffdb0678e7760f5cbbda8bcab982,9d8e8cf1eeedffdb0678e7760f5cbbda8bcab982,association seems to take a bit longer on multi host configs
sleepsonthefloor,2011-10-25 07:20:44,https://api.github.com/repos/openstack/devstack/git/commits/70506b1b74d0260c2aec37879e7d7d9f9d398a6d,70506b1b74d0260c2aec37879e7d7d9f9d398a6d,"in multi mode, send gratuitous arp"
sleepsonthefloor,2011-10-25 07:10:21,https://api.github.com/repos/openstack/devstack/git/commits/216ad694355487cd240f39d574f30e029f18b0d9,216ad694355487cd240f39d574f30e029f18b0d9,fix basename invocation
sleepsonthefloor,2011-10-25 06:52:12,https://api.github.com/repos/openstack/devstack/git/commits/efb88d6956edf9dd487a18135c087e796823eb5c,efb88d6956edf9dd487a18135c087e796823eb5c,"Merge pull request #95 from cloudbuilders/simplify

simplify uec image url parsing"
sleepsonthefloor,2011-10-25 06:20:12,https://api.github.com/repos/openstack/devstack/git/commits/68565361445d42bcdc5258294392c6a40310385c,68565361445d42bcdc5258294392c6a40310385c,Fix issue #98 - wait till nbd is connected using method in nova's disk.py
sleepsonthefloor,2011-10-25 05:58:14,https://api.github.com/repos/openstack/devstack/git/commits/8ecd2948ad7a4f1dad0e31ff48729a0c2695cc7e,8ecd2948ad7a4f1dad0e31ff48729a0c2695cc7e,only attempt to ping private ip for single node deployments
sleepsonthefloor,2011-10-25 05:41:50,https://api.github.com/repos/openstack/devstack/git/commits/e959d83325529f9833ffe0bcca22f2e2d96a0951,e959d83325529f9833ffe0bcca22f2e2d96a0951,add deps for diablo volumes
anotherjesse,2011-10-25 05:25:16,https://api.github.com/repos/openstack/devstack/git/commits/381591ad66758bf8d2b7660ecf5b1db98080fd90,381591ad66758bf8d2b7660ecf5b1db98080fd90,raise error if stack.sh failed
anotherjesse,2011-10-25 05:03:11,https://api.github.com/repos/openstack/devstack/git/commits/42dc9a77156df998d5663b01b0d63ea27ec1930f,42dc9a77156df998d5663b01b0d63ea27ec1930f,this is why we do a test run before merging
anotherjesse,2011-10-25 04:56:25,https://api.github.com/repos/openstack/devstack/git/commits/f70569e33d4484fbe66dad4399d9887c0185de22,f70569e33d4484fbe66dad4399d9887c0185de22,"don't modify the paste.ini inplace - copy to nova, then modify"
anotherjesse,2011-10-25 04:37:00,https://api.github.com/repos/openstack/devstack/git/commits/ac1831e0747bcf3ce0ea871d5fd04fe42d00be61,ac1831e0747bcf3ce0ea871d5fd04fe42d00be61,simplify uec image url parsing
anotherjesse,2011-10-25 02:09:52,https://api.github.com/repos/openstack/devstack/git/commits/e09a6e4a82debdc5d8d06b0b74312d1266208b76,e09a6e4a82debdc5d8d06b0b74312d1266208b76,update comment
anotherjesse,2011-10-25 02:06:46,https://api.github.com/repos/openstack/devstack/git/commits/9fef844fd9adf0d1a2a68890d5b4d92244f95874,9fef844fd9adf0d1a2a68890d5b4d92244f95874,use git clean - thanks lundy
anotherjesse,2011-10-25 01:52:58,https://api.github.com/repos/openstack/devstack/git/commits/480644bd7461f514f66b41e87ff727c6d86f7fdb,480644bd7461f514f66b41e87ff727c6d86f7fdb,error in conversion
anotherjesse,2011-10-25 01:52:13,https://api.github.com/repos/openstack/devstack/git/commits/b9b3ad49a6fc318b51c3746036721918924b523e,b9b3ad49a6fc318b51c3746036721918924b523e,some of the files are owned by root
anotherjesse,2011-10-25 01:47:06,https://api.github.com/repos/openstack/devstack/git/commits/917c66584f9c4d596fdf651330e48cd5219a4436,917c66584f9c4d596fdf651330e48cd5219a4436,use variable names for git_clone function
anotherjesse,2011-10-25 01:42:11,https://api.github.com/repos/openstack/devstack/git/commits/eeec0206285e200f34b6005459c4d79a588e7f1d,eeec0206285e200f34b6005459c4d79a588e7f1d,another attempt at reclone which preserves existing git object dir
anotherjesse,2011-10-25 00:07:08,https://api.github.com/repos/openstack/devstack/git/commits/24997f614f42a58000812aab570041b63a6ab212,24997f614f42a58000812aab570041b63a6ab212,Merge branch 'master' of github.com:cloudbuilders/devstack
anotherjesse,2011-10-25 00:06:58,https://api.github.com/repos/openstack/devstack/git/commits/87a73e8216f9b0f1d4229c683f75b97c57832952,87a73e8216f9b0f1d4229c683f75b97c57832952,only run apt-get install if needed - fixes multiple builds being kicked off at once
anotherjesse,2011-10-24 23:54:10,https://api.github.com/repos/openstack/devstack/git/commits/8e1e344f5f317fdc1c4c642694bf1f38bc7cd225,8e1e344f5f317fdc1c4c642694bf1f38bc7cd225,"Merge pull request #93 from cloudbuilders/fix-ec2

Make ec2 credentials work properly"
vishvananda,2011-10-24 23:05:57,https://api.github.com/repos/openstack/devstack/git/commits/f56e395d8216c7e94486ad3df3eb6377ebb5a7b1,f56e395d8216c7e94486ad3df3eb6377ebb5a7b1,Make ec2 credentials work properly
dtroyer,2011-10-24 21:19:19,https://api.github.com/repos/openstack/devstack/git/commits/23867b738b0964f1f982473cf8a343735b2314c6,23867b738b0964f1f982473cf8a343735b2314c6,Merge branch 'master' of github.com:cloudbuilders/devstack into dt-oneric
dtroyer,2011-10-24 21:18:52,https://api.github.com/repos/openstack/devstack/git/commits/fcfa9c3d1f382c8136bc6ceba4499f6be73f0f40,fcfa9c3d1f382c8136bc6ceba4499f6be73f0f40,Add oneiric to supported list
dtroyer,2011-10-24 21:11:20,https://api.github.com/repos/openstack/devstack/git/commits/9af93e95513621114d8f92f7b96395bc4581ec5c,9af93e95513621114d8f92f7b96395bc4581ec5c,Add oneric to supported list
anotherjesse,2011-10-24 20:43:04,https://api.github.com/repos/openstack/devstack/git/commits/e61f3185cea5eeb4b873784ff74300b4c76d3c81,e61f3185cea5eeb4b873784ff74300b4c76d3c81,use HOST_IP as in stack.sh
anotherjesse,2011-10-24 20:38:52,https://api.github.com/repos/openstack/devstack/git/commits/f75d848ececdd59a1dcb240cf7956598366b9621,f75d848ececdd59a1dcb240cf7956598366b9621,openrc should use same variables as stack.sh
anotherjesse,2011-10-24 19:59:29,https://api.github.com/repos/openstack/devstack/git/commits/f5ecd5bcaf478e19444120fc57993c0222d726ea,f5ecd5bcaf478e19444120fc57993c0222d726ea,Add comment about why the sleep is there
anotherjesse,2011-10-24 19:47:13,https://api.github.com/repos/openstack/devstack/git/commits/61e0a2e0da571c67ea25b708668be7a1ffe2805a,61e0a2e0da571c67ea25b708668be7a1ffe2805a,don't explode if domain doesn't already exist in build_kvm.sh
anotherjesse,2011-10-24 19:46:01,https://api.github.com/repos/openstack/devstack/git/commits/b169b6354d9d663b52add12d2d92b13946444a3c,b169b6354d9d663b52add12d2d92b13946444a3c,typo in setting root password
anotherjesse,2011-10-24 19:42:43,https://api.github.com/repos/openstack/devstack/git/commits/4b8ab92ebbf58712edb963430cb73aae51717648,4b8ab92ebbf58712edb963430cb73aae51717648,errexit for build_kvm.sh
anotherjesse,2011-10-24 19:38:13,https://api.github.com/repos/openstack/devstack/git/commits/1369c05f9b7958e140b447542ab28041f450330a,1369c05f9b7958e140b447542ab28041f450330a,can't unmount if cwd is in copy
anotherjesse,2011-10-24 18:29:08,https://api.github.com/repos/openstack/devstack/git/commits/6fc71019c9db6137b6004b85c761500d36cd6409,6fc71019c9db6137b6004b85c761500d36cd6409,documentation on exercise
anotherjesse,2011-10-24 18:09:07,https://api.github.com/repos/openstack/devstack/git/commits/540b98837148c19ceac2d4e76d573604ae6f0815,540b98837148c19ceac2d4e76d573604ae6f0815,change to git:// from https:// remotes
anotherjesse,2011-10-24 17:56:10,https://api.github.com/repos/openstack/devstack/git/commits/f1bfba27225d42fa678080b749924d00eb2e6e0b,f1bfba27225d42fa678080b749924d00eb2e6e0b,document how to overwrite the debug settings
anotherjesse,2011-10-24 17:41:49,https://api.github.com/repos/openstack/devstack/git/commits/f0a433086dfaa5d27a5a9bf50bc97511949a2cda,f0a433086dfaa5d27a5a9bf50bc97511949a2cda,diablo branch for noVNC
anotherjesse,2011-10-23 03:56:23,https://api.github.com/repos/openstack/devstack/git/commits/82040df0da65ab6f79109646f1dfb9858bb1dd6f,82040df0da65ab6f79109646f1dfb9858bb1dd6f,update build lxc/kvm variables to GUEST instead of CONTAINER
anotherjesse,2011-10-23 03:52:29,https://api.github.com/repos/openstack/devstack/git/commits/ccc11c9d186fb645233514cd5c4799aed6eb7148,ccc11c9d186fb645233514cd5c4799aed6eb7148,use CONTAINER_NAME instead of CONTAINER like build_kvm.sh
anotherjesse,2011-10-22 02:22:55,https://api.github.com/repos/openstack/devstack/git/commits/ec1d0318abd5e56cf248da0063ddaa18278653ef,ec1d0318abd5e56cf248da0063ddaa18278653ef,libvirt.xml needs to be created in correct location
anotherjesse,2011-10-22 02:05:40,https://api.github.com/repos/openstack/devstack/git/commits/9c8537316397d51ac7aa46ee9408232a2b434dd4,9c8537316397d51ac7aa46ee9408232a2b434dd4,typo - fixes issue #90
anotherjesse,2011-10-21 20:02:01,https://api.github.com/repos/openstack/devstack/git/commits/f299dee29e0768ef001f9e011d79cb5edff178e3,f299dee29e0768ef001f9e011d79cb5edff178e3,"Merge pull request #91 from cloudbuilders/dt-build_kvm

Fix concurrent build_kvm.sh runs"
dtroyer,2011-10-21 19:58:44,https://api.github.com/repos/openstack/devstack/git/commits/d03329106fb572f614360b243b5338369ddd1ab3,d03329106fb572f614360b243b5338369ddd1ab3,Rename BASE_IMAGE_COPY to VM_IMAGE
dtroyer,2011-10-21 19:29:30,https://api.github.com/repos/openstack/devstack/git/commits/ad57a3a8e81e42f0a4dba0e5f836cce4044a78d4,ad57a3a8e81e42f0a4dba0e5f836cce4044a78d4,Change hard-coded natty to DIST_NAME
dtroyer,2011-10-21 19:28:03,https://api.github.com/repos/openstack/devstack/git/commits/e4f030fef125578c447448735d0a2dd1d79ab4fb,e4f030fef125578c447448735d0a2dd1d79ab4fb,Add CONTAINER_NAME to BASE_IMAGE_COPY value
anotherjesse,2011-10-21 18:33:07,https://api.github.com/repos/openstack/devstack/git/commits/35a534929913a00c4effd2d0c27ac8c76654fcbc,35a534929913a00c4effd2d0c27ac8c76654fcbc,"Merge pull request #89 from cloudbuilders/openrc

Add openrc to make it easier to use cli"
anotherjesse,2011-10-21 18:32:46,https://api.github.com/repos/openstack/devstack/git/commits/47d265b060c8af6322fbc818506176d756937368,47d265b060c8af6322fbc818506176d756937368,"Merge pull request #63 from dtroyer/2-checkout-devstack

checkout devstack"
anotherjesse,2011-10-21 18:32:25,https://api.github.com/repos/openstack/devstack/git/commits/13050a8735da7a88547156446bdf28fe22e3aa43,13050a8735da7a88547156446bdf28fe22e3aa43,"Merge pull request #85 from cloudbuilders/n-vol

initial support for volumes"
anotherjesse,2011-10-21 17:24:59,https://api.github.com/repos/openstack/devstack/git/commits/8063e6fe38e89d85aacaa7bd5eddc511cdec4f4b,8063e6fe38e89d85aacaa7bd5eddc511cdec4f4b,"Merge pull request #83 from jeblair/master

Add bare-metal build scripts."
jeblair,2011-10-21 16:07:23,https://api.github.com/repos/openstack/devstack/git/commits/698fc619b7cc5dfc5b7da6aab341d111747951ac,698fc619b7cc5dfc5b7da6aab341d111747951ac,"Merge remote-tracking branch 'cloudbuilders/master'

Conflicts:
	stack.sh"
sleepsonthefloor,2011-10-20 22:30:25,https://api.github.com/repos/openstack/devstack/git/commits/a7e2bfbf3f808e989b7a207f5c483772ca9f39ba,a7e2bfbf3f808e989b7a207f5c483772ca9f39ba,disable n-vol by default for now
anotherjesse,2011-10-20 21:57:18,https://api.github.com/repos/openstack/devstack/git/commits/6960eff97914beccb6941437e0c1f6c1853ae4a4,6960eff97914beccb6941437e0c1f6c1853ae4a4,parameterize ram/cores in build_kvm
sleepsonthefloor,2011-10-20 20:09:39,https://api.github.com/repos/openstack/devstack/git/commits/d81ed0316f8932a380af569fd0d7ecbb3fca391c,d81ed0316f8932a380af569fd0d7ecbb3fca391c,allow overrides for all params
sleepsonthefloor,2011-10-20 19:55:46,https://api.github.com/repos/openstack/devstack/git/commits/6993746cac39fe4059b42d26c994c0de8b0d75b4,6993746cac39fe4059b42d26c994c0de8b0d75b4,add some sleeps to help figure out mount error
sleepsonthefloor,2011-10-20 19:36:09,https://api.github.com/repos/openstack/devstack/git/commits/d781efd87ba158f2f33988f5cf7e6ffdd96b2248,d781efd87ba158f2f33988f5cf7e6ffdd96b2248,fix space
sleepsonthefloor,2011-10-20 19:32:58,https://api.github.com/repos/openstack/devstack/git/commits/babb2e075adbba7402d0914ad81eb01d5fe5c17e,babb2e075adbba7402d0914ad81eb01d5fe5c17e,re-order cleanup calls
sleepsonthefloor,2011-10-20 18:37:53,https://api.github.com/repos/openstack/devstack/git/commits/d4ddf3da2d213ce860db1e45fb9d935fd417d31a,d4ddf3da2d213ce860db1e45fb9d935fd417d31a,"Merge remote-tracking branch 'origin/master' into openrc

Conflicts:
	exercise.sh"
sleepsonthefloor,2011-10-20 18:35:51,https://api.github.com/repos/openstack/devstack/git/commits/637475815b4e7a54d4853ab5dfb96cd76c5839f5,637475815b4e7a54d4853ab5dfb96cd76c5839f5,Merge remote-tracking branch 'origin/master'
sleepsonthefloor,2011-10-20 18:35:14,https://api.github.com/repos/openstack/devstack/git/commits/03c1fa601286882021c97d2c579450f9d7593171,03c1fa601286882021c97d2c579450f9d7593171,"use CONTAINER_NAME, like lxc, and use default semi-unique mac addresses"
anotherjesse,2011-10-20 18:22:12,https://api.github.com/repos/openstack/devstack/git/commits/fb0510b435add4191317a081fec220e8459b0e33,fb0510b435add4191317a081fec220e8459b0e33,"Merge pull request #86 from smoser/localdev

work around LP: #878600, make apt-get more non-interactive"
sleepsonthefloor,2011-10-20 17:26:30,https://api.github.com/repos/openstack/devstack/git/commits/b22263a60485a614a76e03227ea994e239929a74,b22263a60485a614a76e03227ea994e239929a74,tweaks per jesse comments
sleepsonthefloor,2011-10-20 17:24:50,https://api.github.com/repos/openstack/devstack/git/commits/6ab10d46a874765f7c69366a5473ac6a42a92556,6ab10d46a874765f7c69366a5473ac6a42a92556,add an openrc file so that users can easily use the client
jeblair,2011-10-20 17:23:50,https://api.github.com/repos/openstack/devstack/git/commits/7057ae991d42adc795534185e6d7bf2f5868f8a4,7057ae991d42adc795534185e6d7bf2f5868f8a4,Reduce timeouts to 60 seconds.
smoser,2011-10-20 17:09:11,https://api.github.com/repos/openstack/devstack/git/commits/ee1b495dc9499898583e527bd489c92d8ff11b3b,ee1b495dc9499898583e527bd489c92d8ff11b3b,"add non-interactive flags to apt.

This replaces 'apt-get' calls with 'apt_get' function that just
ensures that each call has flags to be non-interactive.  This prevents
potential prompts for conf file overwrites and such."
smoser,2011-10-20 16:41:40,https://api.github.com/repos/openstack/devstack/git/commits/199d76e2534b39ea846ca345923b03198dff246c,199d76e2534b39ea846ca345923b03198dff246c,"redirect output of rabbitmq install (LP: #878600)

as documented in ubuntu bug bug 878600, starting the rabbitmq
daemon was keeping its output filehandle open, which caused the 'tee'
to never die, and an ssh connection to never close."
sleepsonthefloor,2011-10-20 17:12:58,https://api.github.com/repos/openstack/devstack/git/commits/acff87a2023fa96e8b8983b73a380ad613783a89,acff87a2023fa96e8b8983b73a380ad613783a89,initial support for volumes
anotherjesse,2011-10-20 17:09:48,https://api.github.com/repos/openstack/devstack/git/commits/cfddc125beb8c925a4f992a58818cdc1e320d26c,cfddc125beb8c925a4f992a58818cdc1e320d26c,"Merge pull request #84 from cloudbuilders/fixwhite

fix whitespace"
vishvananda,2011-10-20 17:07:10,https://api.github.com/repos/openstack/devstack/git/commits/9b3536714a45307577e24dc7bf67371989f7e9dd,9b3536714a45307577e24dc7bf67371989f7e9dd,fix whitespace
jeblair,2011-10-11 14:26:29,https://api.github.com/repos/openstack/devstack/git/commits/92e81992c19604b112d0695134e9070dd5675a53,92e81992c19604b112d0695134e9070dd5675a53,"Add bare-metal build scripts.

Add ROOTSLEEP parameter to avoid 10 second sleep.

Add host argument to mysql password change command so that it
will still work if mysql is already installed and running
(otherwise, the my.cnf created immediately prior takes precedence).

Add timeouts when waiting for things to start so they aren't in
infinite loops."
sleepsonthefloor,2011-10-20 03:41:49,https://api.github.com/repos/openstack/devstack/git/commits/148b13ac8860dcf22c8a3a24fdb28593aaea0610,148b13ac8860dcf22c8a3a24fdb28593aaea0610,"Merge pull request #82 from cloudbuilders/build_kvm

add build_kvm.sh"
sleepsonthefloor,2011-10-20 03:35:04,https://api.github.com/repos/openstack/devstack/git/commits/3ee09ec2099c908fb4c6d08455006837fb492cd6,3ee09ec2099c908fb4c6d08455006837fb492cd6,now works with natty
sleepsonthefloor,2011-10-20 03:27:23,https://api.github.com/repos/openstack/devstack/git/commits/5086e71fcbe693a6b788547dcdf536aa68cd0b93,5086e71fcbe693a6b788547dcdf536aa68cd0b93,"point novnc at master, like trunk"
sleepsonthefloor,2011-10-20 03:22:32,https://api.github.com/repos/openstack/devstack/git/commits/9c0fdd7ded7c205a5e2b629d8cb0542d8c033617,9c0fdd7ded7c205a5e2b629d8cb0542d8c033617,parameterize nbd dev
sleepsonthefloor,2011-10-20 03:09:43,https://api.github.com/repos/openstack/devstack/git/commits/d51812d44431a2048727ce69817cfe7e3b21fc5c,d51812d44431a2048727ce69817cfe7e3b21fc5c,working build_kvm
sleepsonthefloor,2011-10-20 00:26:07,https://api.github.com/repos/openstack/devstack/git/commits/67243cebe135829cb376cc894b283a1ba23d4eaa,67243cebe135829cb376cc894b283a1ba23d4eaa,Merge remote-tracking branch 'origin/build_kvm' into build_kvm
sleepsonthefloor,2011-10-20 00:19:15,https://api.github.com/repos/openstack/devstack/git/commits/728e944d0b92514f366f57ae10bf31f70f1feb03,728e944d0b92514f366f57ae10bf31f70f1feb03,"Merge branch 'build_kvm', remote-tracking branch 'origin' into build_kvm"
anotherjesse,2011-10-19 22:59:19,https://api.github.com/repos/openstack/devstack/git/commits/0e0affddb6187532c24937fa2beb1453fab1f8d3,0e0affddb6187532c24937fa2beb1453fab1f8d3,"Merge pull request #67 from dtroyer/7-stack-home

stack home dir"
anotherjesse,2011-10-19 22:38:17,https://api.github.com/repos/openstack/devstack/git/commits/f1a98143dc2ac110271cd1eda1dfa5a7f6b07d60,f1a98143dc2ac110271cd1eda1dfa5a7f6b07d60,Merge branch 'master' of github.com:cloudbuilders/devstack
anotherjesse,2011-10-19 22:38:10,https://api.github.com/repos/openstack/devstack/git/commits/a50a34619a2f993a74895ff5915a7d2024263d95,a50a34619a2f993a74895ff5915a7d2024263d95,standardize mysql/rabbit password/user settings
vishvananda,2011-10-19 22:14:56,https://api.github.com/repos/openstack/devstack/git/commits/ee506ac9186a33344e0b1ef1121179b4f1131975,ee506ac9186a33344e0b1ef1121179b4f1131975,"Merge pull request #80 from cloudbuilders/no-sudo

No sudo chown"
anotherjesse,2011-10-19 21:42:18,https://api.github.com/repos/openstack/devstack/git/commits/df4df7a11836b61cef650d53a9504d95c3269c9e,df4df7a11836b61cef650d53a9504d95c3269c9e,"Merge pull request #77 from dtroyer/usb-syslinux

Fix handling of new USB devices"
anotherjesse,2011-10-19 21:30:37,https://api.github.com/repos/openstack/devstack/git/commits/fe95e0fee3e22d94d0ed815be0f0c90b681e6019,fe95e0fee3e22d94d0ed815be0f0c90b681e6019,only chown if needed (fixes nfs issue)
anotherjesse,2011-10-19 21:21:08,https://api.github.com/repos/openstack/devstack/git/commits/c8d9ce4ef44c3490bd5a09e4749c98ceeadc1f2f,c8d9ce4ef44c3490bd5a09e4749c98ceeadc1f2f,vish points out that sudo isn't needed here since DEST is owned by user
sleepsonthefloor,2011-10-19 18:27:02,https://api.github.com/repos/openstack/devstack/git/commits/fa4b5eba2077889c4217df69dfdc15a2a123bb0a,fa4b5eba2077889c4217df69dfdc15a2a123bb0a,more progress on build_kvm
vishvananda,2011-10-19 17:40:01,https://api.github.com/repos/openstack/devstack/git/commits/3fc8571bba4f27ebb84464254ba411017e742171,3fc8571bba4f27ebb84464254ba411017e742171,"Merge pull request #79 from cloudbuilders/docs

update comments and added check for double mount bug"
anotherjesse,2011-10-19 17:30:19,https://api.github.com/repos/openstack/devstack/git/commits/aab7eae0b903b7bfe19c0f15ad0eaf1a7c82d8a7,aab7eae0b903b7bfe19c0f15ad0eaf1a7c82d8a7,docs
anotherjesse,2011-10-19 16:24:17,https://api.github.com/repos/openstack/devstack/git/commits/51fb22efd1cfa6e415cf46e311a5a660ace3c3e9,51fb22efd1cfa6e415cf46e311a5a660ace3c3e9,update comments and added check for double mount bug
sleepsonthefloor,2011-10-19 09:58:18,https://api.github.com/repos/openstack/devstack/git/commits/f6f52270a9cae23760875adf24f31ab969e35b26,f6f52270a9cae23760875adf24f31ab969e35b26,console log
sleepsonthefloor,2011-10-19 09:34:31,https://api.github.com/repos/openstack/devstack/git/commits/f994c2aac7cd88dede2adc0b68a8c58463244aa5,f994c2aac7cd88dede2adc0b68a8c58463244aa5,remove extra image
sleepsonthefloor,2011-10-19 09:34:06,https://api.github.com/repos/openstack/devstack/git/commits/1b7a42e07598bc53e604b387a6e747039109020f,1b7a42e07598bc53e604b387a6e747039109020f,add build_kvm file
sleepsonthefloor,2011-10-19 09:20:04,https://api.github.com/repos/openstack/devstack/git/commits/78bd0cbd9865df211200a70d196b34eed1c02725,78bd0cbd9865df211200a70d196b34eed1c02725,initial commit of build_kvm.sh
sleepsonthefloor,2011-10-19 03:02:29,https://api.github.com/repos/openstack/devstack/git/commits/fd709d8049427955d8fb3cd4dccda53b4d05ba9c,fd709d8049427955d8fb3cd4dccda53b4d05ba9c,use diablo vintage dashboard
dtroyer,2011-10-18 21:32:13,https://api.github.com/repos/openstack/devstack/git/commits/314bc2247d2e2312ab0bb41aa7aba85afd96ad12,314bc2247d2e2312ab0bb41aa7aba85afd96ad12,Fix another chroot/chown combo
dtroyer,2011-10-17 19:55:10,https://api.github.com/repos/openstack/devstack/git/commits/d642f86144491e3f825608e363c56714241e5f92,d642f86144491e3f825608e363c56714241e5f92,Fix syslinux failure on new USB drive
dtroyer,2011-10-18 18:25:28,https://api.github.com/repos/openstack/devstack/git/commits/65d5c6a01bad21cf82a6eef3a07bc9bc0f172e40,65d5c6a01bad21cf82a6eef3a07bc9bc0f172e40,Merge remote-tracking branch 'upstream/master' into rcb-master
sleepsonthefloor,2011-10-18 15:22:30,https://api.github.com/repos/openstack/devstack/git/commits/583bad0b14b47b8933bb417acd8893bdd4f10baa,583bad0b14b47b8933bb417acd8893bdd4f10baa,"minor tweaks - source stackrc/localrc for excercise.sh.  Also, fix typo in build_lxc.sh"
sleepsonthefloor,2011-10-17 23:02:24,https://api.github.com/repos/openstack/devstack/git/commits/20a2caecfdce0969ab932511ef97cb8109d4e5c0,20a2caecfdce0969ab932511ef97cb8109d4e5c0,updates to exercise.sh to use some of the newer apis
sleepsonthefloor,2011-10-17 21:10:42,https://api.github.com/repos/openstack/devstack/git/commits/028cad16442924a4457dcbb1a12ec9117934218d,028cad16442924a4457dcbb1a12ec9117934218d,better pre-caching
anotherjesse,2011-10-17 20:20:40,https://api.github.com/repos/openstack/devstack/git/commits/1f27360089a6cb1a56efcf3fcc7b755d6b772d08,1f27360089a6cb1a56efcf3fcc7b755d6b772d08,redux of reclone
dtroyer,2011-10-17 18:32:06,https://api.github.com/repos/openstack/devstack/git/commits/b5da51972cf8d6e7919d87dfe0767bffdb16a441,b5da51972cf8d6e7919d87dfe0767bffdb16a441,Always use current devstack in ramdisk
dtroyer,2011-10-17 19:07:11,https://api.github.com/repos/openstack/devstack/git/commits/9122e7b17344dc80710f3a50aa6e8896f9ba8c71,9122e7b17344dc80710f3a50aa6e8896f9ba8c71,Set stack user's home dir to DEST
dtroyer,2011-10-17 18:46:08,https://api.github.com/repos/openstack/devstack/git/commits/acf2d24b282e23e6e73d23c6af3a7feb7cdd468e,acf2d24b282e23e6e73d23c6af3a7feb7cdd468e,Merge remote-tracking branch 'upstream/master' into rcb-master
anotherjesse,2011-10-17 17:40:11,https://api.github.com/repos/openstack/devstack/git/commits/16515c17d15e5e2e19417ac340cc3c8e2dc6dba4,16515c17d15e5e2e19417ac340cc3c8e2dc6dba4,"Merge pull request #74 from cloudbuilders/reclone

RESET_BRANCHES option (to force checkout new remote branch)"
anotherjesse,2011-10-17 17:39:28,https://api.github.com/repos/openstack/devstack/git/commits/59a285cd863ef2a7e2eed22eafbfd0a1fac6f1a9,59a285cd863ef2a7e2eed22eafbfd0a1fac6f1a9,change variable to RESET_BRANCHES
sleepsonthefloor,2011-10-17 17:38:05,https://api.github.com/repos/openstack/devstack/git/commits/ae8bc12d1ad5f4325a63e0efdbe902d6ab31b901,ae8bc12d1ad5f4325a63e0efdbe902d6ab31b901,automatically use the nameserver of the launching host if not specified
dtroyer,2011-10-17 17:22:01,https://api.github.com/repos/openstack/devstack/git/commits/bd50e963e7a16cde77ccfaf9a5e769837fba1d30,bd50e963e7a16cde77ccfaf9a5e769837fba1d30,Merge remote-tracking branch 'upstream/master' into 4-run.sh
sleepsonthefloor,2011-10-17 17:12:22,https://api.github.com/repos/openstack/devstack/git/commits/6b9d6dad6ad460b2b5fede659363cfca51e33c8d,6b9d6dad6ad460b2b5fede659363cfca51e33c8d,force dep updates every run for now
sleepsonthefloor,2011-10-17 16:40:45,https://api.github.com/repos/openstack/devstack/git/commits/04db155a70a3e2baf91d1610bb05f921f8d37f09,04db155a70a3e2baf91d1610bb05f921f8d37f09,make sure to kill tail on exit
dtroyer,2011-10-17 15:48:21,https://api.github.com/repos/openstack/devstack/git/commits/0fdb2ec15fa40c5dd40244d01376e8b7a847df95,0fdb2ec15fa40c5dd40244d01376e8b7a847df95,Remove natty image fakery
dtroyer,2011-10-17 15:34:08,https://api.github.com/repos/openstack/devstack/git/commits/7a6d73a705b00917dcb54acc48e29090f28e8001,7a6d73a705b00917dcb54acc48e29090f28e8001,Merge remote-tracking branch 'upstream/master' into rcb-master
anotherjesse,2011-10-17 02:08:04,https://api.github.com/repos/openstack/devstack/git/commits/64c2ba225a936af765be4229243666c26ccd42b9,64c2ba225a936af765be4229243666c26ccd42b9,fixes anthony's comment about not working if you aren't switching branches
anotherjesse,2011-10-16 19:24:11,https://api.github.com/repos/openstack/devstack/git/commits/aa8bb244be4cda5a83d0e5faee9767e3f0171ff9,aa8bb244be4cda5a83d0e5faee9767e3f0171ff9,rearrange order of setup.py develop as novaclient is needed by nova in essex
anotherjesse,2011-10-16 19:18:50,https://api.github.com/repos/openstack/devstack/git/commits/b1304f2d353bc0de780f4d635fc9cbd48328bfcb,b1304f2d353bc0de780f4d635fc9cbd48328bfcb,"if RECLONE is set, reclone the directories"
anotherjesse,2011-10-16 03:14:07,https://api.github.com/repos/openstack/devstack/git/commits/da89268c9272e5e649d7d2332c86bf2fe68f57ee,da89268c9272e5e649d7d2332c86bf2fe68f57ee,"update the ping to ping, wait 5 second, really ping"
anotherjesse,2011-10-16 03:01:12,https://api.github.com/repos/openstack/devstack/git/commits/d888e1cdcb7eadf6c6b3634631400a4fe4c97769,d888e1cdcb7eadf6c6b3634631400a4fe4c97769,"update exercise to boot a server, ping it, then destroy it"
anotherjesse,2011-10-16 02:29:55,https://api.github.com/repos/openstack/devstack/git/commits/4e8847cd6a8bb4dce9c3a7c66636d61ba51b519c,4e8847cd6a8bb4dce9c3a7c66636d61ba51b519c,update glance command in exercise.sh
anotherjesse,2011-10-16 01:37:25,https://api.github.com/repos/openstack/devstack/git/commits/b9c77d69a6be25bca73780df671ab7538997e1ac,b9c77d69a6be25bca73780df671ab7538997e1ac,add debug logging and notes about generating token
anotherjesse,2011-10-16 00:40:38,https://api.github.com/repos/openstack/devstack/git/commits/f43307d408924977a2603d5e4f4aa30f41dfe4fc,f43307d408924977a2603d5e4f4aa30f41dfe4fc,exercise.sh was using wrong variable to generate token
sleepsonthefloor,2011-10-14 23:50:27,https://api.github.com/repos/openstack/devstack/git/commits/25369c914aa928de1ce67b9dec56aa5e0c2b782f,25369c914aa928de1ce67b9dec56aa5e0c2b782f,make tail stop when stack.sh is finished
sleepsonthefloor,2011-10-14 22:02:20,https://api.github.com/repos/openstack/devstack/git/commits/9ff71acb08e4885d7da8cb44aedb2ff79f4e0909,9ff71acb08e4885d7da8cb44aedb2ff79f4e0909,make build_lxc.sh work on oneiric
sleepsonthefloor,2011-10-14 19:01:09,https://api.github.com/repos/openstack/devstack/git/commits/1046d94ec15dc768a87bd5ad80416df133d1a945,1046d94ec15dc768a87bd5ad80416df133d1a945,Merge remote-tracking branch 'origin/master'
sleepsonthefloor,2011-10-14 19:00:50,https://api.github.com/repos/openstack/devstack/git/commits/e8efef79809f8a88910926f4efeb3eb8d6b0ddcd,e8efef79809f8a88910926f4efeb3eb8d6b0ddcd,move lxc to tools
anotherjesse,2011-10-14 17:57:35,https://api.github.com/repos/openstack/devstack/git/commits/d65c6bd79cb506c7baed0fd4256fa2176dfbb450,d65c6bd79cb506c7baed0fd4256fa2176dfbb450,"Merge pull request #71 from cloudbuilders/image_config

Allow configuration of glance images"
sleepsonthefloor,2011-10-14 17:20:30,https://api.github.com/repos/openstack/devstack/git/commits/7a8989e9711ec0d3f3401f46a20bdc55c75fd8e9,7a8989e9711ec0d3f3401f46a20bdc55c75fd8e9,fix doc
sleepsonthefloor,2011-10-14 16:31:09,https://api.github.com/repos/openstack/devstack/git/commits/120f4860cda1a946ebdba1acc03fc09caf2790de,120f4860cda1a946ebdba1acc03fc09caf2790de,allow multiple images
sleepsonthefloor,2011-10-14 16:20:46,https://api.github.com/repos/openstack/devstack/git/commits/c84e0c4c1649e25b47a8792a0d3e0e867ad8e6b1,c84e0c4c1649e25b47a8792a0d3e0e867ad8e6b1,Merge remote-tracking branch 'origin/image_config' into image_config
sleepsonthefloor,2011-10-14 16:20:29,https://api.github.com/repos/openstack/devstack/git/commits/b76abcc71a839f49c86f2aa843f8963ff1d5b83e,b76abcc71a839f49c86f2aa843f8963ff1d5b83e,Merge remote-tracking branch 'origin/master' into image_config
sleepsonthefloor,2011-10-14 06:07:56,https://api.github.com/repos/openstack/devstack/git/commits/93947e59be5566391a3fa0a0b32906ce8c4ceffa,93947e59be5566391a3fa0a0b32906ce8c4ceffa,improve docs
sleepsonthefloor,2011-10-14 06:03:23,https://api.github.com/repos/openstack/devstack/git/commits/0ab1d46e05c310a9977aebd3156b5269dffb91fc,0ab1d46e05c310a9977aebd3156b5269dffb91fc,Allow user to download and install arbitrary images
sleepsonthefloor,2011-10-14 05:20:24,https://api.github.com/repos/openstack/devstack/git/commits/696b6a3aae3671a4d1b12f7c1f97a35fa20e369c,696b6a3aae3671a4d1b12f7c1f97a35fa20e369c,Merge remote-tracking branch 'origin/master' into image_config
anotherjesse,2011-10-14 03:58:41,https://api.github.com/repos/openstack/devstack/git/commits/ec7c89f677419c1b5eb748070568375f1a53ae57,ec7c89f677419c1b5eb748070568375f1a53ae57,"Merge pull request #58 from cloudbuilders/password_prompt

Password prompt (ask users for passwords instead of auto-gen)"
sleepsonthefloor,2011-10-13 23:44:42,https://api.github.com/repos/openstack/devstack/git/commits/f2b5f8856f98f72fbdaac536387c2c3672dd5e64,f2b5f8856f98f72fbdaac536387c2c3672dd5e64,starting work to extract image configuration so it isn't hard coded
sleepsonthefloor,2011-10-13 22:25:38,https://api.github.com/repos/openstack/devstack/git/commits/d1b1cdb04c4ba4e892f4eda722cf3f1daa260865,d1b1cdb04c4ba4e892f4eda722cf3f1daa260865,tail run.sh.log instead of the stack.sh.log
sleepsonthefloor,2011-10-13 22:07:36,https://api.github.com/repos/openstack/devstack/git/commits/cf145b77e4dbe675108c2c7b788e7505d5818fed,cf145b77e4dbe675108c2c7b788e7505d5818fed,"merge trunk, and also make sure localrc exists before running  build_lxc.sh"
dtroyer,2011-10-13 20:50:44,https://api.github.com/repos/openstack/devstack/git/commits/288f3bdc236f2c3c973db654694c4932ba44659f,288f3bdc236f2c3c973db654694c4932ba44659f,Set hostname in ramdisk image
dtroyer,2011-10-13 19:01:48,https://api.github.com/repos/openstack/devstack/git/commits/6d1f07b2fdba1d75ec18816ed016c2684600dfcb,6d1f07b2fdba1d75ec18816ed016c2684600dfcb,Merge remote-tracking branch 'upstream/master' into rcb-master
sleepsonthefloor,2011-10-13 18:45:07,https://api.github.com/repos/openstack/devstack/git/commits/f8dfba1c7324e39fada3b694ab3d1451e83de238,f8dfba1c7324e39fada3b694ab3d1451e83de238,Merge remote-tracking branch 'origin/master' into password_prompt
anotherjesse,2011-10-13 18:40:16,https://api.github.com/repos/openstack/devstack/git/commits/2e536a3faf3d699ef255b74793b4591779738624,2e536a3faf3d699ef255b74793b4591779738624,add some docs
anotherjesse,2011-10-13 18:37:42,https://api.github.com/repos/openstack/devstack/git/commits/c576a7cd6d752632d69fd9959033912e6add7322,c576a7cd6d752632d69fd9959033912e6add7322,"Merge pull request #54 from chmouel/mycnf

Set sensible default for mysql client"
anotherjesse,2011-10-13 18:37:15,https://api.github.com/repos/openstack/devstack/git/commits/8abb812e9e55d5f7c9f31e66a695067514ec2eac,8abb812e9e55d5f7c9f31e66a695067514ec2eac,"Merge pull request #66 from dtroyer/6-usb-boot

Add build_usb_boot"
anotherjesse,2011-10-13 18:36:34,https://api.github.com/repos/openstack/devstack/git/commits/71b9e4b9a03e5ffa39441e1e8fc1ff8335f63007,71b9e4b9a03e5ffa39441e1e8fc1ff8335f63007,"Merge pull request #65 from dtroyer/5-clean-pxe-boot

Clean build_pxe_boot"
dtroyer,2011-10-13 18:28:23,https://api.github.com/repos/openstack/devstack/git/commits/d5f4ca5307b831bcf2a9ab084359dc77efee75d7,d5f4ca5307b831bcf2a9ab084359dc77efee75d7,Merge remote-tracking branch 'upstream/master' into rcb-master
dtroyer,2011-10-13 18:20:13,https://api.github.com/repos/openstack/devstack/git/commits/7c076eeff5db638cba5e1e274fd85056f4dd67ed,7c076eeff5db638cba5e1e274fd85056f4dd67ed,Add FLOATING_RANGE default
anotherjesse,2011-10-13 17:37:45,https://api.github.com/repos/openstack/devstack/git/commits/906d586bb082df17da99213d479f1e0f02139e28,906d586bb082df17da99213d479f1e0f02139e28,move readme to markdown
anotherjesse,2011-10-13 17:36:00,https://api.github.com/repos/openstack/devstack/git/commits/b69d6ce529be9e498dfc6d6b982713de4bd3bd4a,b69d6ce529be9e498dfc6d6b982713de4bd3bd4a,update readme with note about gh-pages
anotherjesse,2011-10-13 16:26:50,https://api.github.com/repos/openstack/devstack/git/commits/2ea3c8b0e36f0642021561dc096a4ee12a18597d,2ea3c8b0e36f0642021561dc096a4ee12a18597d,"Merge pull request #59 from smoser/localdev

several changes, largest of which is logging output"
smoser,2011-10-13 00:32:16,https://api.github.com/repos/openstack/devstack/git/commits/4bec581e4e5a15c204f1042f9ecd4701c33ac4ca,4bec581e4e5a15c204f1042f9ecd4701c33ac4ca,add includedir entry to sudoers if its not there
smoser,2011-10-13 00:19:46,https://api.github.com/repos/openstack/devstack/git/commits/55c9d3f13dac9e4073d941cdbe55532f3f3f5279,55c9d3f13dac9e4073d941cdbe55532f3f3f5279,fix writing of 50_stack_sh in sudoers
smoser,2011-10-13 00:15:50,https://api.github.com/repos/openstack/devstack/git/commits/df47967da46462e5f0b444a48d9019988449f94b,df47967da46462e5f0b444a48d9019988449f94b,fix STACK_DIR variable
smoser,2011-10-13 00:00:34,https://api.github.com/repos/openstack/devstack/git/commits/102e440e2b4908051e314f7d88730270bc89f1fd,102e440e2b4908051e314f7d88730270bc89f1fd,"fix bad usage of 'su'.  instead use 'set -e'.

I had had tried to use -e argument to su, thinking that it would
go through to sh, but it does not.  instead, just use 'set -e'"
sleepsonthefloor,2011-10-12 21:08:08,https://api.github.com/repos/openstack/devstack/git/commits/b4db225494a2c8d19db523c48fc48cbaee0402a0,b4db225494a2c8d19db523c48fc48cbaee0402a0,No need to check localrc for password.  Also use TOP_DIR as described by smoser.
smoser,2011-10-08 01:28:00,https://api.github.com/repos/openstack/devstack/git/commits/f9da5081222d2c353e577cb83c538912bca26972,f9da5081222d2c353e577cb83c538912bca26972,"move setting variables and run-as-stack-user code

Change the over all flow so that the default settings are
filled in in the outside shell (not inside the '()' and 'tee').

This way, those variables pass through to the subshell, but they're
also available in the parent shell at the end for outputting status.

Also, exit failure rather than success if 'exec' to run as stack
user failed."
smoser,2011-10-08 01:03:16,https://api.github.com/repos/openstack/devstack/git/commits/8ab1ade42ed3b4d4bda00c3dc5a6110c05c201e4,8ab1ade42ed3b4d4bda00c3dc5a6110c05c201e4,"instead of 'newgrp' and a pipe, use 'sg'

sg and newgrp basically do the same thing, but sg takes a command to
execute rather than just executing sh. This just seems cleaner."
smoser,2011-10-07 14:51:07,https://api.github.com/repos/openstack/devstack/git/commits/b94f4bf35b9c2acd469f839515a96f9c30a45331,b94f4bf35b9c2acd469f839515a96f9c30a45331,"move 'how to use cloud' info outside of xtrace

make the successful run output end with more clear messages.
By moving them outside of the ""do it all"" path, the xtrace output
will not mix with echo statements."
smoser,2011-10-07 14:44:38,https://api.github.com/repos/openstack/devstack/git/commits/d67a18bb0716b6dca1cfcfced39c65ac3b41a6e3,d67a18bb0716b6dca1cfcfced39c65ac3b41a6e3,"make sure apt-get update is run

Previously, the only path that would only ensure that 'apt-get update'
was run was when the stack user was created.

Archives can be out of date, apt-get should be run."
smoser,2011-10-07 15:18:10,https://api.github.com/repos/openstack/devstack/git/commits/0d2145a0f37da869fcc4754e41b1b8e0618679ea,0d2145a0f37da869fcc4754e41b1b8e0618679ea,"some improvements to 'create stack user' path

* Increase the timeout from 3 to 10, so user has a bigger chance
  to kill the script if being run interactively before a 'stack'
  user is created.
* explicitly ask 'getent' for the stack user rather than getting
  all users and grepping (which would match an ""openstack"" user,
  or a user named ""bob.stack"")
* use $PWD rather than `pwd`
* create file in sudoers.d rather than modifying /etc/sudoers."
smoser,2011-10-07 13:50:21,https://api.github.com/repos/openstack/devstack/git/commits/7c481189bdeda3c79029b1b47d8edd1bf8bd50fa,7c481189bdeda3c79029b1b47d8edd1bf8bd50fa,"log output of stack.sh to logfile in current dir

use the variable LOGFILE to log stack.sh output for debugging"
smoser,2011-10-07 13:29:29,https://api.github.com/repos/openstack/devstack/git/commits/c4e47ab8586069dea52b86fa939ad8a8deeacc2e,c4e47ab8586069dea52b86fa939ad8a8deeacc2e,"simplify script duration output

Bash contains a variable 'SECONDS' that indicates how long
the current shell has been alive.  It seems sane to just use that
to indicate to the user how long the script took."
sleepsonthefloor,2011-10-12 07:21:41,https://api.github.com/repos/openstack/devstack/git/commits/66b8bbcbd85cefb044a3be54cd84d72fcb6b63be,66b8bbcbd85cefb044a3be54cd84d72fcb6b63be,update msg
sleepsonthefloor,2011-10-12 07:17:11,https://api.github.com/repos/openstack/devstack/git/commits/6015c82a2b3f0221f1f85e530878d2d0b70a2980,6015c82a2b3f0221f1f85e530878d2d0b70a2980,use hard path to localrc
sleepsonthefloor,2011-10-12 07:13:13,https://api.github.com/repos/openstack/devstack/git/commits/7a549f40f5ce17dbee0274f2e9adc664394b0ab5,7a549f40f5ce17dbee0274f2e9adc664394b0ab5,"Prompt users for passwords, and write those passwords to localrc"
dtroyer,2011-10-12 01:34:07,https://api.github.com/repos/openstack/devstack/git/commits/9a60bfac1ecbbc858a0cbb932f88c046e3a65974,9a60bfac1ecbbc858a0cbb932f88c046e3a65974,Cleanups
dtroyer,2011-10-12 01:32:07,https://api.github.com/repos/openstack/devstack/git/commits/274ec1022ec5bdff6bf96503fab6d17ad9d1005a,274ec1022ec5bdff6bf96503fab6d17ad9d1005a,Add build_usb_boot.sh
dtroyer,2011-10-12 01:28:39,https://api.github.com/repos/openstack/devstack/git/commits/dd6636be060edb782e09a86364ad3b7db63c7d63,dd6636be060edb782e09a86364ad3b7db63c7d63,Cleanup PXE boot config
dtroyer,2011-10-12 01:22:23,https://api.github.com/repos/openstack/devstack/git/commits/8f851e716e0945cb5debeb2321ebd4cfe25843a5,8f851e716e0945cb5debeb2321ebd4cfe25843a5,Create run.sh
dtroyer,2011-10-12 01:03:05,https://api.github.com/repos/openstack/devstack/git/commits/f6fd4dcf2e9c29f3ed4b911abc16bbb4b8af4b70,f6fd4dcf2e9c29f3ed4b911abc16bbb4b8af4b70,Check out devstack by default
dtroyer,2011-10-12 00:39:34,https://api.github.com/repos/openstack/devstack/git/commits/5611951aefba515a994b1600ff4dd21e5a601cff,5611951aefba515a994b1600ff4dd21e5a601cff,Move utility scripts to tools/
dtroyer,2011-10-11 22:57:16,https://api.github.com/repos/openstack/devstack/git/commits/336e0001a6dc807e024aebb3b5eb6d9d6fb26e49,336e0001a6dc807e024aebb3b5eb6d9d6fb26e49,Merge remote-tracking branch 'upstream/master' into rcb-master
dtroyer,2011-10-11 22:57:01,https://api.github.com/repos/openstack/devstack/git/commits/66e2aa2c736e4b3999a08fa5222118216c0a3d07,66e2aa2c736e4b3999a08fa5222118216c0a3d07,Create RCB master branch
sleepsonthefloor,2011-10-11 18:07:48,https://api.github.com/repos/openstack/devstack/git/commits/94c889ac1587e2e5096c4472e4a4385dfd76d331,94c889ac1587e2e5096c4472e4a4385dfd76d331,make glance client work in exercise.sh
anotherjesse,2011-10-10 20:35:22,https://api.github.com/repos/openstack/devstack/git/commits/65bb9a93453fdc8f8ec54456f11618afb7c28b10,65bb9a93453fdc8f8ec54456f11618afb7c28b10,"Merge pull request #51 from jeblair/master

Add option not to run bash after execing stack.sh"
jeblair,2011-10-10 13:06:14,https://api.github.com/repos/openstack/devstack/git/commits/74c084cd1c29d339310a457e2e61d473a231b3de,74c084cd1c29d339310a457e2e61d473a231b3de,"Add option not to run bash after execing stack.sh

If stack.sh is run as root, it execs stack.sh as stack, but also
runs bash after doing so to provide a prompt as the stack user.

In unattended installations this isn't desired as it will prevent
the original job from completing.

This change adds a paremeter ""SHELL_AFTER_RUN"" which can be set
to ""no"" to prevent the final invocation of bash."
anotherjesse,2011-10-10 00:50:38,https://api.github.com/repos/openstack/devstack/git/commits/461bfdc89f9dc715556c1e5c5b3ab4af7530ebd4,461bfdc89f9dc715556c1e5c5b3ab4af7530ebd4,delete instances needs sudo
anotherjesse,2011-10-07 14:34:32,https://api.github.com/repos/openstack/devstack/git/commits/e4304238c201ea22eaea1d17d7d693f58799eae6,e4304238c201ea22eaea1d17d7d693f58799eae6,only mount cgroups if you haven't already
sleepsonthefloor,2011-10-06 14:10:24,https://api.github.com/repos/openstack/devstack/git/commits/0edde7d44f87ebf2f9a48f840a645162a8e4c2a4,0edde7d44f87ebf2f9a48f840a645162a8e4c2a4,use tenantName for NOVA_PROJECT_ID
sleepsonthefloor,2011-10-05 15:07:53,https://api.github.com/repos/openstack/devstack/git/commits/1c598da60869680b834d6f93166f6c412026598a,1c598da60869680b834d6f93166f6c412026598a,call novnc with flagfile
sleepsonthefloor,2011-10-04 20:32:45,https://api.github.com/repos/openstack/devstack/git/commits/f2aee71a2a06ae1ad20c925854ae3107fa878e9d,f2aee71a2a06ae1ad20c925854ae3107fa878e9d,"use 10 bytes for dash password, as the UI truncates at 20 characters"
sleepsonthefloor,2011-10-04 20:30:19,https://api.github.com/repos/openstack/devstack/git/commits/06b7ad7c0500be13b60d0b1852517b3691afbf03,06b7ad7c0500be13b60d0b1852517b3691afbf03,"don't require uuidgen, as it isn't always in sparse natty installs"
anotherjesse,2011-10-04 03:10:55,https://api.github.com/repos/openstack/devstack/git/commits/0031df019d415c674d1bb8c0bf948e2eee060e21,0031df019d415c674d1bb8c0bf948e2eee060e21,spacing fixes
anotherjesse,2011-10-04 02:53:45,https://api.github.com/repos/openstack/devstack/git/commits/4b16984f3512ae03d5c232b22fd73ebda39c8e0f,4b16984f3512ae03d5c232b22fd73ebda39c8e0f,jesse sucks
anotherjesse,2011-10-04 02:48:30,https://api.github.com/repos/openstack/devstack/git/commits/2abbdd4751ef16a7e20b93f37ff0e0124ac11f00,2abbdd4751ef16a7e20b93f37ff0e0124ac11f00,fix comparisons
anotherjesse,2011-10-04 02:44:33,https://api.github.com/repos/openstack/devstack/git/commits/0700211f9084fb7c92cb82bb66e0f4f4f78d0a6b,0700211f9084fb7c92cb82bb66e0f4f4f78d0a6b,devin sucks
anotherjesse,2011-10-04 02:31:42,https://api.github.com/repos/openstack/devstack/git/commits/647de9d3e349c09208ab048d92d8fa4ca03ca5b7,647de9d3e349c09208ab048d92d8fa4ca03ca5b7,"Merge pull request #47 from dtroyer/master

Updates to build_nfs.sh and build_pxe_ramdisk.sh for common functions"
anotherjesse,2011-10-04 02:30:50,https://api.github.com/repos/openstack/devstack/git/commits/f8ebcec063a3863c2c7ca9f15aa794f1749ad53a,f8ebcec063a3863c2c7ca9f15aa794f1749ad53a,"Merge pull request #44 from devcamcar/patch-1

Target Dashboard to diablo branch"
dtroyer,2011-10-04 02:16:27,https://api.github.com/repos/openstack/devstack/git/commits/d4a3bac8d5bbb9e54a4279f7fa74669c7fed97d0,d4a3bac8d5bbb9e54a4279f7fa74669c7fed97d0,Move cache dir to /var/cache/devstack
dtroyer,2011-10-03 21:31:36,https://api.github.com/repos/openstack/devstack/git/commits/c0a6739f7e941c114b7e29e780c3850dc55cca75,c0a6739f7e941c114b7e29e780c3850dc55cca75,Fix two typos
dtroyer,2011-10-03 18:42:16,https://api.github.com/repos/openstack/devstack/git/commits/cf9db8da3354946b7b9c606b5e8673d9d076c4f5,cf9db8da3354946b7b9c606b5e8673d9d076c4f5,Configure network for DHCP
dtroyer,2011-10-03 16:43:28,https://api.github.com/repos/openstack/devstack/git/commits/3508a3a926687bb6fa15130c736384495d2b877c,3508a3a926687bb6fa15130c736384495d2b877c,Move PXE cache to /root/pxe
dtroyer,2011-10-03 16:16:32,https://api.github.com/repos/openstack/devstack/git/commits/10db445b3213478b7adaad368cb702dc3b05aac6,10db445b3213478b7adaad368cb702dc3b05aac6,Move ramdisk images to CHROOTCACHEDIR
dtroyer,2011-10-03 16:14:13,https://api.github.com/repos/openstack/devstack/git/commits/a3379e0eb13ebf3e8c25d40ea3f79a2189f8f75b,a3379e0eb13ebf3e8c25d40ea3f79a2189f8f75b,Default USE_CURRENT_DEVSTACK to 1
dtroyer,2011-10-03 16:03:27,https://api.github.com/repos/openstack/devstack/git/commits/6994f9478921e3436401cc95d68e9d99d937cc85,6994f9478921e3436401cc95d68e9d99d937cc85,Missed a save
dtroyer,2011-10-03 14:56:41,https://api.github.com/repos/openstack/devstack/git/commits/03412c8cb91c64cb2f3dcfb9316a4a952500e1e0,03412c8cb91c64cb2f3dcfb9316a4a952500e1e0,Copy devstack into image
dtroyer,2011-10-03 14:40:32,https://api.github.com/repos/openstack/devstack/git/commits/11e5e6fc3da3f3de78d1897ce453e74e84d10540,11e5e6fc3da3f3de78d1897ce453e74e84d10540,use  for /opt/stack
dtroyer,2011-10-03 14:30:57,https://api.github.com/repos/openstack/devstack/git/commits/cc806544507d082c44582d3287453fa8cb79e83c,cc806544507d082c44582d3287453fa8cb79e83c,build_nfs.sh match build_pxe_ramdisk.sh
dtroyer,2011-10-03 14:14:36,https://api.github.com/repos/openstack/devstack/git/commits/4cbb267679b54d83287bbe6f51f5edb5d005f4c0,4cbb267679b54d83287bbe6f51f5edb5d005f4c0,Move chroot cache dirs out of devstack dir
anotherjesse,2011-10-03 05:08:24,https://api.github.com/repos/openstack/devstack/git/commits/5372f43387f83d890d7e416d43d826fd11581dba,5372f43387f83d890d7e416d43d826fd11581dba,update readmes
anotherjesse,2011-10-03 04:01:28,https://api.github.com/repos/openstack/devstack/git/commits/85d9be3a7937b87b91e83c5281b8db1137af33a2,85d9be3a7937b87b91e83c5281b8db1137af33a2,document images upload
devcamcar,2011-10-03 03:44:39,https://api.github.com/repos/openstack/devstack/git/commits/bfc7bdacae79df0d20b9db12323148377c8e578b,bfc7bdacae79df0d20b9db12323148377c8e578b,Target Dashboard to diablo branch
anotherjesse,2011-10-03 03:42:56,https://api.github.com/repos/openstack/devstack/git/commits/08e8b74588257abf9a04baf04c7315235e06144c,08e8b74588257abf9a04baf04c7315235e06144c,add uec-natty
anotherjesse,2011-10-03 01:07:08,https://api.github.com/repos/openstack/devstack/git/commits/a5e5f2a680e07cd0019f0751728297e312c3a6ea,a5e5f2a680e07cd0019f0751728297e312c3a6ea,attempt to get the id from glance redux
termie,2011-10-03 00:05:01,https://api.github.com/repos/openstack/devstack/git/commits/2ff3f59e5b78c3ac54f628d6faa40c614bff6fc6,2ff3f59e5b78c3ac54f628d6faa40c614bff6fc6,TODO: fix parsing of glance results
anotherjesse,2011-10-02 23:23:22,https://api.github.com/repos/openstack/devstack/git/commits/014e9130dbdcaa1a10db37f4af8b912e50345a92,014e9130dbdcaa1a10db37f4af8b912e50345a92,fix grabbing kernel/ramdisk
anotherjesse,2011-10-02 21:50:41,https://api.github.com/repos/openstack/devstack/git/commits/644b8e831caac0873ec97e4318420dee25bb3aee,644b8e831caac0873ec97e4318420dee25bb3aee,more documentation and attempt to fix glance add
anotherjesse,2011-10-02 21:47:32,https://api.github.com/repos/openstack/devstack/git/commits/cbe98d566320c0a11ce860b450eb4ab24427767f,cbe98d566320c0a11ce860b450eb4ab24427767f,more documentation
anotherjesse,2011-10-02 20:53:21,https://api.github.com/repos/openstack/devstack/git/commits/782b99176c05e42431c67e30abea2a9053f17994,782b99176c05e42431c67e30abea2a9053f17994,update docs
anotherjesse,2011-10-02 20:36:54,https://api.github.com/repos/openstack/devstack/git/commits/0e7e897b4842a810a657b91a1e6dcde1b64bf562,0e7e897b4842a810a657b91a1e6dcde1b64bf562,simple docs
anotherjesse,2011-10-02 18:28:17,https://api.github.com/repos/openstack/devstack/git/commits/53ed387de467deab7b8a45c2e6f86e794438ef88,53ed387de467deab7b8a45c2e6f86e794438ef88,don't use guest for rabbitmq password - fixes #41
anotherjesse,2011-10-02 18:11:17,https://api.github.com/repos/openstack/devstack/git/commits/89358afe3598cc5d4636f050deeacf8c5cc2354f,89358afe3598cc5d4636f050deeacf8c5cc2354f,don't use secrete as admin password - fixes #34
anotherjesse,2011-10-02 17:25:33,https://api.github.com/repos/openstack/devstack/git/commits/c315ebfde651f02abd0b1af116a59936ac3f91cd,c315ebfde651f02abd0b1af116a59936ac3f91cd,append to fstab correctly
anotherjesse,2011-10-02 17:17:31,https://api.github.com/repos/openstack/devstack/git/commits/8cfd8b6cf2450b6ff6a51b9d380ea438692b4a43,8cfd8b6cf2450b6ff6a51b9d380ea438692b4a43,apt-get needs sudo'd
anotherjesse,2011-10-02 17:11:28,https://api.github.com/repos/openstack/devstack/git/commits/c6d3042e0658d48f291a0fe6cab95811e55f6ecd,c6d3042e0658d48f291a0fe6cab95811e55f6ecd,attempt to get lxc working #23
anotherjesse,2011-10-02 17:03:51,https://api.github.com/repos/openstack/devstack/git/commits/4ebd289de0f9d6f2ef6150b5154c822e6c77d7e7,4ebd289de0f9d6f2ef6150b5154c822e6c77d7e7,we don't use bzr anymore
anotherjesse,2011-10-02 17:01:00,https://api.github.com/repos/openstack/devstack/git/commits/9b6741e7ec4bfeeeb8ca77b1da18564d88e3a279,9b6741e7ec4bfeeeb8ca77b1da18564d88e3a279,remove nixon & munin
anotherjesse,2011-10-02 16:30:54,https://api.github.com/repos/openstack/devstack/git/commits/fa418f66a8f4a72257d5acb8c8505e2741ae1216,fa418f66a8f4a72257d5acb8c8505e2741ae1216,fixes #39 - use openssl to generate passwd for mysql
anotherjesse,2011-10-02 16:18:03,https://api.github.com/repos/openstack/devstack/git/commits/9f20f5140ef319d7cc490e121ceebec6523657eb,9f20f5140ef319d7cc490e121ceebec6523657eb,set service token in keystone's paste config for nova
anotherjesse,2011-10-02 16:02:46,https://api.github.com/repos/openstack/devstack/git/commits/b96871e4865ac603aba0bb38af019cc7b83d038b,b96871e4865ac603aba0bb38af019cc7b83d038b,don't use the same keystone admin token for everything
anotherjesse,2011-10-02 15:48:34,https://api.github.com/repos/openstack/devstack/git/commits/6e9fae0d27b110f6b29a8962e2dfb14fb28651a5,6e9fae0d27b110f6b29a8962e2dfb14fb28651a5,fixing stack's passwdless sudo
anotherjesse,2011-10-01 20:46:06,https://api.github.com/repos/openstack/devstack/git/commits/e19f565b32254a5e556f633dac7734fb0d2a8060,e19f565b32254a5e556f633dac7734fb0d2a8060,merge vish/master
anotherjesse,2011-10-01 19:52:23,https://api.github.com/repos/openstack/devstack/git/commits/022ed04ea010ddf42c83be6f1d595af36a2a7156,022ed04ea010ddf42c83be6f1d595af36a2a7156,specify the sudo group as addition groups - since otherwise dashboard doesn't work
vishvananda,2011-10-01 07:37:27,https://api.github.com/repos/openstack/devstack/git/commits/cd1016438107d8d5ca418fbf04073c9f652031d1,cd1016438107d8d5ca418fbf04073c9f652031d1,Make a stack user.  Fixes #35
sleepsonthefloor,2011-09-30 22:52:43,https://api.github.com/repos/openstack/devstack/git/commits/0b5f29c70d964201ea054f359133befb28f8eb7b,0b5f29c70d964201ea054f359133befb28f8eb7b,Merge branch 'master' of github.com:cloudbuilders/devstack
sleepsonthefloor,2011-09-30 22:52:18,https://api.github.com/repos/openstack/devstack/git/commits/a449dd85d85c1153abe2500945b5b4f9c1fe361f,a449dd85d85c1153abe2500945b5b4f9c1fe361f,update port for keystone admin api
anotherjesse,2011-09-30 22:44:44,https://api.github.com/repos/openstack/devstack/git/commits/8bd92feaa0daad1d84cdb55ddcaf185c3fc5739e,8bd92feaa0daad1d84cdb55ddcaf185c3fc5739e,"Merge pull request #31 from vishvananda/master

No ROOT!!!"
anotherjesse,2011-09-30 20:51:10,https://api.github.com/repos/openstack/devstack/git/commits/183f4a52fc1083f323fd6bb3443d167af9748aee,183f4a52fc1083f323fd6bb3443d167af9748aee,"Merge pull request #32 from dtroyer/master

PXE tftpboot and image creation"
sleepsonthefloor,2011-09-30 18:34:43,https://api.github.com/repos/openstack/devstack/git/commits/6398787bf1828078c1f051fbdc65c9b17440be7a,6398787bf1828078c1f051fbdc65c9b17440be7a,update readme
sleepsonthefloor,2011-09-30 16:24:00,https://api.github.com/repos/openstack/devstack/git/commits/0e65abf145a6fd8c8009854db4516c29e15f4f3f,0e65abf145a6fd8c8009854db4516c29e15f4f3f,"update README, point dash to master"
dtroyer,2011-09-30 15:04:38,https://api.github.com/repos/openstack/devstack/git/commits/48308a768ed4db9c5e1f3dbc37fe9e6837843dc4,48308a768ed4db9c5e1f3dbc37fe9e6837843dc4,Merge branch 'master' of github.com:dtroyer/devstack
dtroyer,2011-09-30 14:22:23,https://api.github.com/repos/openstack/devstack/git/commits/958fa3defa0da029b1a78f164f8f175d7ae80a15,958fa3defa0da029b1a78f164f8f175d7ae80a15,Fix up PXE boot filenames
dtroyer,2011-09-30 02:30:27,https://api.github.com/repos/openstack/devstack/git/commits/a4b5877607558325ef7bcdcf4e3e68d59e2787d9,a4b5877607558325ef7bcdcf4e3e68d59e2787d9,Minor fixes
dtroyer,2011-09-30 00:03:10,https://api.github.com/repos/openstack/devstack/git/commits/73778e5224a7e970ee8af2d81762a2b693600872,73778e5224a7e970ee8af2d81762a2b693600872,Merge remote-tracking branch 'upstream/master'
dtroyer,2011-09-29 23:43:44,https://api.github.com/repos/openstack/devstack/git/commits/783cc7774f6888a430a05749ce30908e621c52fd,783cc7774f6888a430a05749ce30908e621c52fd,Fix kernel version issue
sleepsonthefloor,2011-09-29 23:22:05,https://api.github.com/repos/openstack/devstack/git/commits/f0f27ff805b2af06dca1251cec7a553d4fe095e2,f0f27ff805b2af06dca1251cec7a553d4fe095e2,use type='image' for glance
sleepsonthefloor,2011-09-29 22:46:37,https://api.github.com/repos/openstack/devstack/git/commits/e0c0a8d9fbac8920a31f031870969fe76c61c6a0,e0c0a8d9fbac8920a31f031870969fe76c61c6a0,add in a keystone pip dep
sleepsonthefloor,2011-09-29 22:31:46,https://api.github.com/repos/openstack/devstack/git/commits/c4a99fb957cecbd1c647f9a4cb64ce44b595172f,c4a99fb957cecbd1c647f9a4cb64ce44b595172f,updates to support most recent keystone
dtroyer,2011-09-29 21:38:59,https://api.github.com/repos/openstack/devstack/git/commits/407ee7ee5e279554afa1d91a6760156b57cbef10,407ee7ee5e279554afa1d91a6760156b57cbef10,calls make_image.sh to build the base install
dtroyer,2011-09-29 21:35:43,https://api.github.com/repos/openstack/devstack/git/commits/a41f9c7e7d670a3500f7b2aa65320557207ec3d2,a41f9c7e7d670a3500f7b2aa65320557207ec3d2,optionally only create the chroot
dtroyer,2011-09-29 21:15:23,https://api.github.com/repos/openstack/devstack/git/commits/c945bf8dbf013ca947232311e5255b8fc21f2981,c945bf8dbf013ca947232311e5255b8fc21f2981,Build devstack images
anotherjesse,2011-09-29 19:08:13,https://api.github.com/repos/openstack/devstack/git/commits/fbb3cf7dfe6675f4fa84f90417c427f166304e90,fbb3cf7dfe6675f4fa84f90417c427f166304e90,Merge remote-tracking branch 'origin/openvpn'
vishvananda,2011-09-29 17:48:49,https://api.github.com/repos/openstack/devstack/git/commits/c9e3fff73a412b25b7a0ac92c6e7521286185709,c9e3fff73a412b25b7a0ac92c6e7521286185709,autocreate a stack user if you are root instead of failing
dtroyer,2011-09-29 16:27:25,https://api.github.com/repos/openstack/devstack/git/commits/c966698e0c0618824967024746f5b2356c78d29f,c966698e0c0618824967024746f5b2356c78d29f,Merge remote-tracking branch 'upstream/master'
anotherjesse,2011-09-29 01:38:10,https://api.github.com/repos/openstack/devstack/git/commits/236943fe544adb710d021269ec3c754e27118d2b,236943fe544adb710d021269ec3c754e27118d2b,save a few seconds by seeking instead of copying zeros
anotherjesse,2011-09-29 01:29:50,https://api.github.com/repos/openstack/devstack/git/commits/46ad2de5d9a819523efa2998f82f96660c684847,46ad2de5d9a819523efa2998f82f96660c684847,build_lxc.sh needs to be root to run
anotherjesse,2011-09-29 00:50:40,https://api.github.com/repos/openstack/devstack/git/commits/f2d6c92bb5f196ca8fbb0ed0219988fe5cb48d65,f2d6c92bb5f196ca8fbb0ed0219988fe5cb48d65,missed this when separating out the images
termie,2011-09-29 00:49:40,https://api.github.com/repos/openstack/devstack/git/commits/523c405f0670ea839e73f661477c4c31b853b04e,523c405f0670ea839e73f661477c4c31b853b04e,add elapsed time to script
termie,2011-09-29 00:18:23,https://api.github.com/repos/openstack/devstack/git/commits/197d53d32eff4015274366e65f8651ab4973682f,197d53d32eff4015274366e65f8651ab4973682f,small docs updates about localrc
termie,2011-09-29 00:02:28,https://api.github.com/repos/openstack/devstack/git/commits/7377444f808ef4fa4d45c5a8b06f7bef7cacfbd9,7377444f808ef4fa4d45c5a8b06f7bef7cacfbd9,add auto tailing when building lxc
termie,2011-09-28 23:15:55,https://api.github.com/repos/openstack/devstack/git/commits/07815534265e503b61c06a3e6cd3768dd7e3441d,07815534265e503b61c06a3e6cd3768dd7e3441d,mention temporariness
termie,2011-09-28 21:29:25,https://api.github.com/repos/openstack/devstack/git/commits/76ce231050a49d40ebb318544ccaae40b4e06282,76ce231050a49d40ebb318544ccaae40b4e06282,add a script for lxc net config
sleepsonthefloor,2011-09-28 23:04:06,https://api.github.com/repos/openstack/devstack/git/commits/9c1af108d4ba79bb5466de17a9a12fd7fe3cc827,9c1af108d4ba79bb5466de17a9a12fd7fe3cc827,start using cloudbuilders diablo branch
sleepsonthefloor,2011-09-28 22:24:57,https://api.github.com/repos/openstack/devstack/git/commits/eb5dea61389e27096311975ceb651efdc683e2f2,eb5dea61389e27096311975ceb651efdc683e2f2,make stackrc return 0
sleepsonthefloor,2011-09-28 22:13:20,https://api.github.com/repos/openstack/devstack/git/commits/ee6d4f3bb4652465f3db0f6a2044455362867281,ee6d4f3bb4652465f3db0f6a2044455362867281,Merge branch 'master' of github.com:cloudbuilders/devstack
sleepsonthefloor,2011-09-28 22:12:18,https://api.github.com/repos/openstack/devstack/git/commits/beab63962653aa36e0ebf4cac7a045ba557861ba,beab63962653aa36e0ebf4cac7a045ba557861ba,some enhancements to bootstrapping to better detect if we've properly warmed the cache.  Also provide option to delete lxc cache
termie,2011-09-28 22:09:00,https://api.github.com/repos/openstack/devstack/git/commits/1c7f0c9761ede2d91a12b2d811e0588807501a2c,1c7f0c9761ede2d91a12b2d811e0588807501a2c,follow symlinks when copying env
termie,2011-09-28 22:04:01,https://api.github.com/repos/openstack/devstack/git/commits/d5e1f7ba09a389db52bffe5159cc324dfae53809,d5e1f7ba09a389db52bffe5159cc324dfae53809,make stackrc source localrc
termie,2011-09-28 21:54:25,https://api.github.com/repos/openstack/devstack/git/commits/bd550eddebdb8f33b62acf64c1c0af1f35d5ea35,bd550eddebdb8f33b62acf64c1c0af1f35d5ea35,add make as a dependency
anotherjesse,2011-09-28 21:08:26,https://api.github.com/repos/openstack/devstack/git/commits/d462295368abfd2c749d03f45b82e3cad7362bfe,d462295368abfd2c749d03f45b82e3cad7362bfe,make sure user isn't running as root
sleepsonthefloor,2011-09-28 20:21:46,https://api.github.com/repos/openstack/devstack/git/commits/3d6aab9c57ffc97c4962728e0326adcfeb928aaa,3d6aab9c57ffc97c4962728e0326adcfeb928aaa,don't pre-install munin-node
dtroyer,2011-09-28 19:14:33,https://api.github.com/repos/openstack/devstack/git/commits/9b5ebb5a3d035a9f66db9913d4e83ac37458b3fb,9b5ebb5a3d035a9f66db9913d4e83ac37458b3fb,Rename to build_pxe_boot.sh
dtroyer,2011-09-28 19:08:31,https://api.github.com/repos/openstack/devstack/git/commits/ddaf8b66d3b4a7327cb6b97d76d48eab4874ae2e,ddaf8b66d3b4a7327cb6b97d76d48eab4874ae2e,Merge branch 'master' of github.com:dtroyer/devstack
dtroyer,2011-09-28 17:58:49,https://api.github.com/repos/openstack/devstack/git/commits/ad60330ff4d77e2c342ad75d43a3bafbbdad0185,ad60330ff4d77e2c342ad75d43a3bafbbdad0185,Merge remote-tracking branch 'upstream/master'
anotherjesse,2011-09-28 09:47:05,https://api.github.com/repos/openstack/devstack/git/commits/5bd75ca55dd234de55c15110b681dece8d7d48f8,5bd75ca55dd234de55c15110b681dece8d7d48f8,"Merge pull request #26 from dtroyer/openvpn

OpenVPN install script rework"
anotherjesse,2011-09-28 09:30:57,https://api.github.com/repos/openstack/devstack/git/commits/d31c4ea07ba1cf0a562ba11b48a6b3a5c751e81f,d31c4ea07ba1cf0a562ba11b48a6b3a5c751e81f,multiple step version of building a ramdisk pxeboot installer
dtroyer,2011-09-28 03:19:32,https://api.github.com/repos/openstack/devstack/git/commits/1f80bfb31f7a7a88868b4e0dd52994f1f88d4915,1f80bfb31f7a7a88868b4e0dd52994f1f88d4915,"Add memtest, local boot"
sleepsonthefloor,2011-09-28 02:39:13,https://api.github.com/repos/openstack/devstack/git/commits/0f6787cb3f49166dd692c1dedaa0e6c54ade683b,0f6787cb3f49166dd692c1dedaa0e6c54ade683b,point noVNC back to master
sleepsonthefloor,2011-09-28 02:01:08,https://api.github.com/repos/openstack/devstack/git/commits/ba89a26e4ff3af9c4902ee5b258c031e8cf43909,ba89a26e4ff3af9c4902ee5b258c031e8cf43909,remove old comment
sleepsonthefloor,2011-09-28 01:58:36,https://api.github.com/repos/openstack/devstack/git/commits/0383b4a29ed4b089f3240cff80ac06dc8d7146f4,0383b4a29ed4b089f3240cff80ac06dc8d7146f4,Merge remote-tracking branch 'origin/master' into nova-vncproxy-redux
anotherjesse,2011-09-28 01:26:27,https://api.github.com/repos/openstack/devstack/git/commits/8f3e28cec1f81b1aa21066155cca3ce8193e9a41,8f3e28cec1f81b1aa21066155cca3ce8193e9a41,use the current user instead of stack for dash
sleepsonthefloor,2011-09-27 23:27:19,https://api.github.com/repos/openstack/devstack/git/commits/0154ee8f35687c3922bb2ef7ebd5cb0e7c9345c1,0154ee8f35687c3922bb2ef7ebd5cb0e7c9345c1,correct package name
sleepsonthefloor,2011-09-27 23:20:20,https://api.github.com/repos/openstack/devstack/git/commits/87bb5c00877c0f58501173dff0f08b709c3b4afc,87bb5c00877c0f58501173dff0f08b709c3b4afc,add missing dep
dtroyer,2011-09-27 22:53:11,https://api.github.com/repos/openstack/devstack/git/commits/3f7170025d5b27193e83fb84d9e53f5e381d80db,3f7170025d5b27193e83fb84d9e53f5e381d80db,Build tftpboot dir
sleepsonthefloor,2011-09-27 22:05:37,https://api.github.com/repos/openstack/devstack/git/commits/527e341b74a5a28f13a0b760549436b32474f2d8,527e341b74a5a28f13a0b760549436b32474f2d8,changes to support the new nova-vnc wsproxy
sleepsonthefloor,2011-09-27 18:25:18,https://api.github.com/repos/openstack/devstack/git/commits/248221a4538c8312a6ea132c52f448106470e7e7,248221a4538c8312a6ea132c52f448106470e7e7,bring novaclient back to master
dtroyer,2011-09-27 17:57:53,https://api.github.com/repos/openstack/devstack/git/commits/135fb645344bb6c8cc06517df8ef12c215f034cc,135fb645344bb6c8cc06517df8ef12c215f034cc,Major refactor of vpn install
sleepsonthefloor,2011-09-27 17:51:03,https://api.github.com/repos/openstack/devstack/git/commits/f86ce33840120986c305684b323f11dbca91e81e,f86ce33840120986c305684b323f11dbca91e81e,bring dash back to trunk
sleepsonthefloor,2011-09-27 07:29:28,https://api.github.com/repos/openstack/devstack/git/commits/4387690ba5065fd40deeba43cc0404b536f72248,4387690ba5065fd40deeba43cc0404b536f72248,updates to excercise.sh to get partial working-ness
sleepsonthefloor,2011-09-27 07:12:52,https://api.github.com/repos/openstack/devstack/git/commits/34acee36998df95324f6bf9c1fd129546b13cfa8,34acee36998df95324f6bf9c1fd129546b13cfa8,latest keystone configuration for python-novaclient and dash
sleepsonthefloor,2011-09-27 06:42:46,https://api.github.com/repos/openstack/devstack/git/commits/124b0c253dbc630862d2dbecadd75de394ef39f0,124b0c253dbc630862d2dbecadd75de394ef39f0,fix apache config to suck less - don't require chown www-data
sleepsonthefloor,2011-09-27 06:39:09,https://api.github.com/repos/openstack/devstack/git/commits/f446f5154f41d45b15c044fc92027d9c4f57a4f6,f446f5154f41d45b15c044fc92027d9c4f57a4f6,"Merge pull request #16 from cloudbuilders/opt_stack

install into /opt/stack instead of /opt by default"
sleepsonthefloor,2011-09-27 03:03:40,https://api.github.com/repos/openstack/devstack/git/commits/4f10de8817972d992681ebbac155ce739c502158,4f10de8817972d992681ebbac155ce739c502158,fix rm
sleepsonthefloor,2011-09-27 02:58:49,https://api.github.com/repos/openstack/devstack/git/commits/adbe9c1662c20da19014b7fba184b14fb74efec3,adbe9c1662c20da19014b7fba184b14fb74efec3,fix some paths
sleepsonthefloor,2011-09-27 02:50:43,https://api.github.com/repos/openstack/devstack/git/commits/e8fed48eadb73152ab4442b166cf9f668d2b11f8,e8fed48eadb73152ab4442b166cf9f668d2b11f8,use /opt/stack instead of /opt
sleepsonthefloor,2011-09-26 23:19:50,https://api.github.com/repos/openstack/devstack/git/commits/84064daed3ed147911503575f453d06a0feb4112,84064daed3ed147911503575f453d06a0feb4112,use explicit CWD when compying devstack
sleepsonthefloor,2011-09-26 22:48:49,https://api.github.com/repos/openstack/devstack/git/commits/9563361cf4ee17ff5408e06c1174814f178901da,9563361cf4ee17ff5408e06c1174814f178901da,"Merge pull request #15 from cloudbuilders/stackrc

implement stackrc for variable configuration (esp repos)"
sleepsonthefloor,2011-09-26 22:24:59,https://api.github.com/repos/openstack/devstack/git/commits/a34b695aadb6db1aedd5543604dac0400cd90b34,a34b695aadb6db1aedd5543604dac0400cd90b34,"by default, use the current version/directory of devstack for child lxc containers"
sleepsonthefloor,2011-09-26 21:04:13,https://api.github.com/repos/openstack/devstack/git/commits/d8c259af5ae8a5eba10bf1d8fbf368251c028caf,d8c259af5ae8a5eba10bf1d8fbf368251c028caf,"use stackrc.example, and prompt user before copying"
sleepsonthefloor,2011-09-26 20:25:11,https://api.github.com/repos/openstack/devstack/git/commits/01ad91a32f1c01c446cbffde96eb32057f6f5694,01ad91a32f1c01c446cbffde96eb32057f6f5694,remove trailing slash
sleepsonthefloor,2011-09-26 20:14:46,https://api.github.com/repos/openstack/devstack/git/commits/096fb5a86a3d198d8f731b24347ce49196190e1d,096fb5a86a3d198d8f731b24347ce49196190e1d,add stackrc file
sleepsonthefloor,2011-09-26 20:12:57,https://api.github.com/repos/openstack/devstack/git/commits/303233e2f57259bc809230aa60b99655f5650853,303233e2f57259bc809230aa60b99655f5650853,tweaks to comments and cache organization
sleepsonthefloor,2011-09-26 20:02:40,https://api.github.com/repos/openstack/devstack/git/commits/2f140207569d61c9a44a2337c8007da064fd6659,2f140207569d61c9a44a2337c8007da064fd6659,implement stackrc for variable configuration (esp repos)
anotherjesse,2011-09-26 19:48:31,https://api.github.com/repos/openstack/devstack/git/commits/b5197e4011d0f011d44653331861557b3c73c662,b5197e4011d0f011d44653331861557b3c73c662,allow network size to be set
anotherjesse,2011-09-26 05:28:08,https://api.github.com/repos/openstack/devstack/git/commits/8ff5dbc27dbd274eaa6d155e0579f8d3c19acc5f,8ff5dbc27dbd274eaa6d155e0579f8d3c19acc5f,allow specification of scheduler and take flat interface from environmnet
anotherjesse,2011-09-25 20:41:22,https://api.github.com/repos/openstack/devstack/git/commits/a72f7ad3f2fb0025301c52783e20588f836336ac,a72f7ad3f2fb0025301c52783e20588f836336ac,update network defaults
anotherjesse,2011-09-24 19:31:57,https://api.github.com/repos/openstack/devstack/git/commits/2969c701a05f2f2f6d6a2a0739fc2c19e4f60782,2969c701a05f2f2f6d6a2a0739fc2c19e4f60782,initial commit of wilks work
sleepsonthefloor,2011-09-23 07:55:48,https://api.github.com/repos/openstack/devstack/git/commits/49f2d02dc2c56b9bae17be50417e1271bbc81b5b,49f2d02dc2c56b9bae17be50417e1271bbc81b5b,make admin part of tenant 2
sleepsonthefloor,2011-09-23 07:34:38,https://api.github.com/repos/openstack/devstack/git/commits/36d25277901fc4a75c01f7c4d8706b66a57223bd,36d25277901fc4a75c01f7c4d8706b66a57223bd,more tweaks to get dash working
sleepsonthefloor,2011-09-23 07:23:31,https://api.github.com/repos/openstack/devstack/git/commits/853092855b8ac83faf48ec057052150908d28271,853092855b8ac83faf48ec057052150908d28271,temporary changes to get openstack diablo working with keystone
sleepsonthefloor,2011-09-23 03:24:27,https://api.github.com/repos/openstack/devstack/git/commits/ea884c38044fa728aafe192a63501b90091241f2,ea884c38044fa728aafe192a63501b90091241f2,config changes for the latest keystone
sleepsonthefloor,2011-09-22 08:00:44,https://api.github.com/repos/openstack/devstack/git/commits/8bdc263c0abf1307869f748da64c9ea95c749386,8bdc263c0abf1307869f748da64c9ea95c749386,fix keystone data
sleepsonthefloor,2011-09-22 07:19:37,https://api.github.com/repos/openstack/devstack/git/commits/4b4acccd9440d129644c0a8ab610d0d1c084eba9,4b4acccd9440d129644c0a8ab610d0d1c084eba9,install python-unittest2 so we can run tests
sleepsonthefloor,2011-09-22 07:14:12,https://api.github.com/repos/openstack/devstack/git/commits/f33796e01f55eba35410c20e882810c3d91222a2,f33796e01f55eba35410c20e882810c3d91222a2,"add python-virtualenv to deps, make keystone print to stdout"
dtroyer,2011-09-22 01:06:01,https://api.github.com/repos/openstack/devstack/git/commits/62a6deb1342b26bc486d1c399311da32d6615e73,62a6deb1342b26bc486d1c399311da32d6615e73,Add some kernel modules to container
dtroyer,2011-09-21 18:44:08,https://api.github.com/repos/openstack/devstack/git/commits/0d6de09552159132053f07a1badcfada529b836a,0d6de09552159132053f07a1badcfada529b836a,Re-enable munin
sleepsonthefloor,2011-09-20 19:32:53,https://api.github.com/repos/openstack/devstack/git/commits/f55ec7ff2ee107a2d34a956d77287eb91a987766,f55ec7ff2ee107a2d34a956d77287eb91a987766,"Merge pull request #12 from 4P/lxc

patches for LXC and non-existing DB's"
sleepsonthefloor,2011-09-20 18:04:15,https://api.github.com/repos/openstack/devstack/git/commits/3657ab38978ec759ac68726c867088c77490081e,3657ab38978ec759ac68726c867088c77490081e,more glance conf fixes
sleepsonthefloor,2011-09-20 17:57:38,https://api.github.com/repos/openstack/devstack/git/commits/a27523a87175c743cc0e83d89f329a36ea19a608,a27523a87175c743cc0e83d89f329a36ea19a608,missing =
sleepsonthefloor,2011-09-20 17:48:12,https://api.github.com/repos/openstack/devstack/git/commits/79422a43ac3a31e14d15ae825f561a780b971530,79422a43ac3a31e14d15ae825f561a780b971530,add bzr to deps
sleepsonthefloor,2011-09-20 17:38:06,https://api.github.com/repos/openstack/devstack/git/commits/c835762081d773c5a31a9f18c748c9a2a3555a61,c835762081d773c5a31a9f18c748c9a2a3555a61,fix typo
sleepsonthefloor,2011-09-20 16:59:54,https://api.github.com/repos/openstack/devstack/git/commits/a531b77267cd19f138efbf0ea3d5619dd7f73677,a531b77267cd19f138efbf0ea3d5619dd7f73677,fixes to glance configuration so that we aren't creating files outside of /opt
sleepsonthefloor,2011-09-20 16:51:16,https://api.github.com/repos/openstack/devstack/git/commits/9bf3d767cef84020181079e5249a05cd0dd71079,9bf3d767cef84020181079e5249a05cd0dd71079,put user in correct directory when using screen
sleepsonthefloor,2011-09-20 16:40:18,https://api.github.com/repos/openstack/devstack/git/commits/c43ca96843bcf5605b84422ef772673987e37882,c43ca96843bcf5605b84422ef772673987e37882,Merge branch 'master' of github.com:cloudbuilders/devstack
sleepsonthefloor,2011-09-20 16:39:50,https://api.github.com/repos/openstack/devstack/git/commits/b1bdd5e2761eede2a9958664e7640b3bcd12c75e,b1bdd5e2761eede2a9958664e7640b3bcd12c75e,some cleanup of networking params
dtroyer,2011-09-20 15:41:50,https://api.github.com/repos/openstack/devstack/git/commits/3a8d36252790ebefae7c59dae7239559225c586b,3a8d36252790ebefae7c59dae7239559225c586b,Merge branch 'master' of github.com:dtroyer/devstack
dtroyer,2011-09-20 15:41:16,https://api.github.com/repos/openstack/devstack/git/commits/7016c250926aae58d36e314112b7f58e3f62649d,7016c250926aae58d36e314112b7f58e3f62649d,Merge remote-tracking branch 'upstream/master'
sleepsonthefloor,2011-09-20 09:23:54,https://api.github.com/repos/openstack/devstack/git/commits/09fde81cc4aacff8f26582d80751d86a14103708,09fde81cc4aacff8f26582d80751d86a14103708,sudo when killing dnsmasq
sleepsonthefloor,2011-09-20 09:12:46,https://api.github.com/repos/openstack/devstack/git/commits/db8f7f7253645b99fae4a42e09545653d9bd4e26,db8f7f7253645b99fae4a42e09545653d9bd4e26,"when launching with lxc, warm cache with bzr milestone"
sleepsonthefloor,2011-09-20 08:31:41,https://api.github.com/repos/openstack/devstack/git/commits/d02d7154ffd7b43ea1bb3bcbb19a0e383cdbcb20,d02d7154ffd7b43ea1bb3bcbb19a0e383cdbcb20,add token to glance call
sleepsonthefloor,2011-09-20 07:33:51,https://api.github.com/repos/openstack/devstack/git/commits/f12d3ab02c41bedf584f59732c13519434c17724,f12d3ab02c41bedf584f59732c13519434c17724,update glance to use keystone
sleepsonthefloor,2011-09-20 03:23:42,https://api.github.com/repos/openstack/devstack/git/commits/bf188ef6d0e78625d65d3049e7c38741868c0000,bf188ef6d0e78625d65d3049e7c38741868c0000,--force-yes when installing cache
sleepsonthefloor,2011-09-20 02:49:20,https://api.github.com/repos/openstack/devstack/git/commits/856d09f6a0f84c5feae6bc64b23f6acac20bdca1,856d09f6a0f84c5feae6bc64b23f6acac20bdca1,add -y for apt-get installs
sleepsonthefloor,2011-09-19 23:18:34,https://api.github.com/repos/openstack/devstack/git/commits/fbd40d2502cd5400d068a9ae1f4e8eee99307e95,fbd40d2502cd5400d068a9ae1f4e8eee99307e95,fix compatibility with keystone trunk
dtroyer,2011-09-19 22:28:10,https://api.github.com/repos/openstack/devstack/git/commits/009ba7c8a4d40386bb7b126dc1a67ffd3c410066,009ba7c8a4d40386bb7b126dc1a67ffd3c410066,Merge remote-tracking branch 'upstream/master'
sleepsonthefloor,2011-09-19 21:47:46,https://api.github.com/repos/openstack/devstack/git/commits/f2384cf47345fa6194a700c3e128faf0c60bd658,f2384cf47345fa6194a700c3e128faf0c60bd658,Merge branch 'master' of github.com:cloudbuilders/devstack
sleepsonthefloor,2011-09-19 21:46:53,https://api.github.com/repos/openstack/devstack/git/commits/d000b22d16b6b56cbcce510c229fe61b051e9ec3,d000b22d16b6b56cbcce510c229fe61b051e9ec3,add checks to make sure that services are started
anotherjesse,2011-09-19 21:25:08,https://api.github.com/repos/openstack/devstack/git/commits/85f7b4d85456727caf8896e7e78a8f0cebbd488c,85f7b4d85456727caf8896e7e78a8f0cebbd488c,we don't use these monitoring services
anotherjesse,2011-09-19 21:23:42,https://api.github.com/repos/openstack/devstack/git/commits/18ebd8695e6bef8259ae943284365f133b49ae63,18ebd8695e6bef8259ae943284365f133b49ae63,destroy the container before creating to force re-bootstrap
sleepsonthefloor,2011-09-19 20:51:18,https://api.github.com/repos/openstack/devstack/git/commits/f96e59a033ee5e10aab0f2b4f65edd89bf8a8e5a,f96e59a033ee5e10aab0f2b4f65edd89bf8a8e5a,Merge branch 'master' of github.com:cloudbuilders/devstack
sleepsonthefloor,2011-09-19 20:51:00,https://api.github.com/repos/openstack/devstack/git/commits/79799796f7489605ba9935091a116d150abf1709,79799796f7489605ba9935091a116d150abf1709,better check for kvm support
dtroyer,2011-09-19 19:31:05,https://api.github.com/repos/openstack/devstack/git/commits/076db806a87c056d9b59cb311cd9f08083ba216e,076db806a87c056d9b59cb311cd9f08083ba216e,Reconcile README
anotherjesse,2011-09-19 04:16:42,https://api.github.com/repos/openstack/devstack/git/commits/5e2fc41cec041e880cf9b811648a7348802cfe88,5e2fc41cec041e880cf9b811648a7348802cfe88,tweak intro
sleepsonthefloor,2011-09-17 04:37:36,https://api.github.com/repos/openstack/devstack/git/commits/a074800ca85425a9e60832caeceb5ca3d4fd2ce4,a074800ca85425a9e60832caeceb5ca3d4fd2ce4,move nova-manage commands below the conf generation
jakedahn,2011-09-16 23:58:08,https://api.github.com/repos/openstack/devstack/git/commits/25806832e26210cd4e9349f5241bb9b37a6a05b3,25806832e26210cd4e9349f5241bb9b37a6a05b3,"Merge pull request #11 from jakedahn/master

This should fix munin"
jakedahn,2011-09-16 23:54:02,https://api.github.com/repos/openstack/devstack/git/commits/e1445c3c15f3c63152bbe3fa797ff46bf50e8146,e1445c3c15f3c63152bbe3fa797ff46bf50e8146,"Merge pull request #10 from jakedahn/master

Updating readme"
jakedahn,2011-09-16 23:53:22,https://api.github.com/repos/openstack/devstack/git/commits/356812547dfbc133ecc37bef7dbb0c923acd8425,356812547dfbc133ecc37bef7dbb0c923acd8425,Fixing munin
anotherjesse,2011-09-16 23:30:55,https://api.github.com/repos/openstack/devstack/git/commits/a16e5e9c4db083d071a2bcee831a577e4a53fb14,a16e5e9c4db083d071a2bcee831a577e4a53fb14,move screen creation closer to where used
anotherjesse,2011-09-16 23:28:13,https://api.github.com/repos/openstack/devstack/git/commits/d1879c5cfbadfe3cd07242b8be6f510c5faa841e,d1879c5cfbadfe3cd07242b8be6f510c5faa841e,"default to kvm, but revert to qemu"
jakedahn,2011-09-16 23:12:08,https://api.github.com/repos/openstack/devstack/git/commits/b8b5ddd31ae953b8a3f78cf3b85e40dcf19aaf2b,b8b5ddd31ae953b8a3f78cf3b85e40dcf19aaf2b,"fixing another typo, i suck at english on fridays"
jakedahn,2011-09-16 23:09:46,https://api.github.com/repos/openstack/devstack/git/commits/8bf18c6ccd95498d6b1567159ac3aff49b9c51a4,8bf18c6ccd95498d6b1567159ac3aff49b9c51a4,fixing typo
jakedahn,2011-09-16 23:06:46,https://api.github.com/repos/openstack/devstack/git/commits/32dbf11a4650dec802598435e949fe2fee57017a,32dbf11a4650dec802598435e949fe2fee57017a,updating readme a bit
sleepsonthefloor,2011-09-16 23:06:19,https://api.github.com/repos/openstack/devstack/git/commits/9b01ffb05eac9ac0d6e2ff51a00e409e75143dba,9b01ffb05eac9ac0d6e2ff51a00e409e75143dba,Merge branch 'master' of github.com:cloudbuilders/devstack
sleepsonthefloor,2011-09-16 23:05:55,https://api.github.com/repos/openstack/devstack/git/commits/ec21d9371acfbbb51c7bc7e1b09c55cc11610b1a,ec21d9371acfbbb51c7bc7e1b09c55cc11610b1a,Configure keystone catalog for multihost use
dtroyer,2011-09-16 22:22:35,https://api.github.com/repos/openstack/devstack/git/commits/fdc0308e58d295587612e9937dc60e9cc2ba5ea8,fdc0308e58d295587612e9937dc60e9cc2ba5ea8,Merge remote-tracking branch 'upstream/master'
dtroyer,2011-09-16 22:22:23,https://api.github.com/repos/openstack/devstack/git/commits/57794d4842fdbcb29fe2e1f2a25957b6d567fbf5,57794d4842fdbcb29fe2e1f2a25957b6d567fbf5,Add raw image support
anotherjesse,2011-09-16 22:18:53,https://api.github.com/repos/openstack/devstack/git/commits/1f7176011008c77bdf0a0ec8138755dfb0a769e3,1f7176011008c77bdf0a0ec8138755dfb0a769e3,use newgrp to launch nova-compute in a new context
anotherjesse,2011-09-16 21:54:48,https://api.github.com/repos/openstack/devstack/git/commits/e30432f6251edf61ad04dd40a7efa43da239f3a1,e30432f6251edf61ad04dd40a7efa43da239f3a1,attempt to fix group issue
sleepsonthefloor,2011-09-16 21:54:20,https://api.github.com/repos/openstack/devstack/git/commits/23761c3553165e4a3c2ef1e15613be0d495e1f4d,23761c3553165e4a3c2ef1e15613be0d495e1f4d,"floating ip support, and cleanup functionality"
sleepsonthefloor,2011-09-16 21:36:11,https://api.github.com/repos/openstack/devstack/git/commits/1c9f0afeb33f60825c2daea56d73223845a5855d,1c9f0afeb33f60825c2daea56d73223845a5855d,add multi_host option
anotherjesse,2011-09-16 21:35:14,https://api.github.com/repos/openstack/devstack/git/commits/eba18fbfa52b38fd1497cc87c03dd8674a9a1fa8,eba18fbfa52b38fd1497cc87c03dd8674a9a1fa8,add note to fix the process of adding user to group
anotherjesse,2011-09-16 21:19:46,https://api.github.com/repos/openstack/devstack/git/commits/74e965f0dbdce7807b4e9146eaa8de3b5bd75838,74e965f0dbdce7807b4e9146eaa8de3b5bd75838,more updates to how images are installed
dtroyer,2011-09-16 21:16:49,https://api.github.com/repos/openstack/devstack/git/commits/120713c181d9b0ee586293adc971382c817958d5,120713c181d9b0ee586293adc971382c817958d5,Merge remote-tracking branch 'upstream/master'
anotherjesse,2011-09-16 21:16:36,https://api.github.com/repos/openstack/devstack/git/commits/543d7d44e9ec02a7e4f7371148628236a7649235,543d7d44e9ec02a7e4f7371148628236a7649235,don't download images to /opt
dtroyer,2011-09-16 21:16:34,https://api.github.com/repos/openstack/devstack/git/commits/4dd420e333e7bd4b46b317a245c3f1ad6eb9fbed,4dd420e333e7bd4b46b317a245c3f1ad6eb9fbed,Image script cleanups
anotherjesse,2011-09-16 21:13:21,https://api.github.com/repos/openstack/devstack/git/commits/291e72b0d73f35dcfc15fabc8611a5e251dcde2e,291e72b0d73f35dcfc15fabc8611a5e251dcde2e,Merge branch 'master' of github.com:cloudbuilders/devstack
anotherjesse,2011-09-16 21:13:17,https://api.github.com/repos/openstack/devstack/git/commits/d61db8597fa01ae9a13f46e1ad7f0360c40774bf,d61db8597fa01ae9a13f46e1ad7f0360c40774bf,clone to a directory owned by correct user
anotherjesse,2011-09-16 19:02:15,https://api.github.com/repos/openstack/devstack/git/commits/d20b3e4afaa8cd36038d47647a31ff3ae12fd04d,d20b3e4afaa8cd36038d47647a31ff3ae12fd04d,"Merge pull request #5 from dtroyer/master

Add make_image.sh and upload_image.sh"
dtroyer,2011-09-16 18:41:39,https://api.github.com/repos/openstack/devstack/git/commits/8cceaa20b149898b94518cebd5382ff38d12e9d9,8cceaa20b149898b94518cebd5382ff38d12e9d9,Merge remote-tracking branch 'upstream/master'
anotherjesse,2011-09-16 18:35:07,https://api.github.com/repos/openstack/devstack/git/commits/1ec9d79ea19a005802355c4894323fc34c109bf3,1ec9d79ea19a005802355c4894323fc34c109bf3,"Merge pull request #6 from cloudbuilders/move_files

move apts/pips to files directory"
anotherjesse,2011-09-16 18:31:16,https://api.github.com/repos/openstack/devstack/git/commits/bf3868d889564f716e293fa3180c7c199bfe893a,bf3868d889564f716e293fa3180c7c199bfe893a,use variable FILES instead of DEVSTACK
anotherjesse,2011-09-16 18:27:43,https://api.github.com/repos/openstack/devstack/git/commits/4d28218954ce9e7e4425bfd6f51da3b5d3b9ba2a,4d28218954ce9e7e4425bfd6f51da3b5d3b9ba2a,move apts/pips to files directory
dtroyer,2011-09-16 17:22:21,https://api.github.com/repos/openstack/devstack/git/commits/65cf60871009b3cead0818724adefa026a264dcf,65cf60871009b3cead0818724adefa026a264dcf,Add image scripts
sleepsonthefloor,2011-09-16 07:37:26,https://api.github.com/repos/openstack/devstack/git/commits/57bca7ea85b287cf1764c9398096786167ae5c12,57bca7ea85b287cf1764c9398096786167ae5c12,clean up comment
sleepsonthefloor,2011-09-16 07:29:46,https://api.github.com/repos/openstack/devstack/git/commits/414279d77ab015b12ec8270612c1110af9b0ecd4,414279d77ab015b12ec8270612c1110af9b0ecd4,quiet wget
sleepsonthefloor,2011-09-16 07:28:23,https://api.github.com/repos/openstack/devstack/git/commits/cbbf718fa96569dc5216c7b8c0023bbd6da7a0f0,cbbf718fa96569dc5216c7b8c0023bbd6da7a0f0,wait for head node to start before starting compute hosts
sleepsonthefloor,2011-09-16 06:49:02,https://api.github.com/repos/openstack/devstack/git/commits/fde5a1cdd5429a3c1962ba10b7289e2df8a0f581,fde5a1cdd5429a3c1962ba10b7289e2df8a0f581,work on lxc multi-node ha nova-net + flatdhcp + ha-nova-api
sleepsonthefloor,2011-09-16 06:28:52,https://api.github.com/repos/openstack/devstack/git/commits/fa594eb978900b60ae0bb2b537e87a8c527faab7,fa594eb978900b60ae0bb2b537e87a8c527faab7,fix path
sleepsonthefloor,2011-09-16 06:17:44,https://api.github.com/repos/openstack/devstack/git/commits/093eeb0dbb5f3e1a638b7eba2b545c544fbc3a7f,093eeb0dbb5f3e1a638b7eba2b545c544fbc3a7f,silent install
sleepsonthefloor,2011-09-16 06:11:53,https://api.github.com/repos/openstack/devstack/git/commits/a9a32de4afa7cf7e19e90ec5caef2ec38bf2bed6,a9a32de4afa7cf7e19e90ec5caef2ec38bf2bed6,Merge branch 'master' of github.com:cloudbuilders/devstack
sleepsonthefloor,2011-09-16 06:11:29,https://api.github.com/repos/openstack/devstack/git/commits/a09ae2ff4bbbf80a990ad80108d65511141f331d,a09ae2ff4bbbf80a990ad80108d65511141f331d,only install mysql-server and rabbitmq-server if needed
anotherjesse,2011-09-16 06:08:33,https://api.github.com/repos/openstack/devstack/git/commits/b0c8feec100528e1b4cdfae8133457de2b2e1eb2,b0c8feec100528e1b4cdfae8133457de2b2e1eb2,Merge branch 'master' of github.com:cloudbuilders/devstack
anotherjesse,2011-09-16 06:08:16,https://api.github.com/repos/openstack/devstack/git/commits/33cb8898f93fb31b655065588d4dc1882adff73b,33cb8898f93fb31b655065588d4dc1882adff73b,"Merge pull request #3 from jakedahn/nixon

Adding nixon to dashboard"
jakedahn,2011-09-16 05:58:06,https://api.github.com/repos/openstack/devstack/git/commits/38fc665584e906f9b6832663953388e9fc24e1b2,38fc665584e906f9b6832663953388e9fc24e1b2,changing nixon repo to cloudbuilders
anotherjesse,2011-09-16 05:54:52,https://api.github.com/repos/openstack/devstack/git/commits/c4b3aabd30ad38fdfde7b5aa951e47c2230d1a7e,c4b3aabd30ad38fdfde7b5aa951e47c2230d1a7e,more docs update
jakedahn,2011-09-16 05:42:43,https://api.github.com/repos/openstack/devstack/git/commits/a3492ed4a95e85fae8d3a21c4737d4ae17839721,a3492ed4a95e85fae8d3a21c4737d4ae17839721,"updating comments, adding fixmes"
jakedahn,2011-09-16 05:32:46,https://api.github.com/repos/openstack/devstack/git/commits/1f712795c9edee4e02e5de3144d3aac4a54488d0,1f712795c9edee4e02e5de3144d3aac4a54488d0,Merge branch 'master' into nixon
jakedahn,2011-09-16 05:28:53,https://api.github.com/repos/openstack/devstack/git/commits/ad73da1c8beddbf53cb38a01a8ffffe157435571,ad73da1c8beddbf53cb38a01a8ffffe157435571,adding other packages to local installed_apps
anotherjesse,2011-09-16 05:19:42,https://api.github.com/repos/openstack/devstack/git/commits/6edd17f7c1b59ff5fe16ebd26ba735cfb4acfadb,6edd17f7c1b59ff5fe16ebd26ba735cfb4acfadb,update with sanity checks
jakedahn,2011-09-16 04:46:59,https://api.github.com/repos/openstack/devstack/git/commits/feb65820194eb07587a37eb2730f34791225a4c1,feb65820194eb07587a37eb2730f34791225a4c1,Merge branch 'master' into nixon
jakedahn,2011-09-16 04:46:20,https://api.github.com/repos/openstack/devstack/git/commits/9337b339bffc680942e62c08594d2c96b2839ae6,9337b339bffc680942e62c08594d2c96b2839ae6,adding nixon
anotherjesse,2011-09-16 04:29:15,https://api.github.com/repos/openstack/devstack/git/commits/7dd13d03f1b13693012ac84b8be6183f6765e779,7dd13d03f1b13693012ac84b8be6183f6765e779,add note that we need to make sure people grab more than just stack.sh
anotherjesse,2011-09-16 04:28:23,https://api.github.com/repos/openstack/devstack/git/commits/2485906042be35d3c40506df1a28f5c407fbec29,2485906042be35d3c40506df1a28f5c407fbec29,update docs / moving mysql higher
sleepsonthefloor,2011-09-16 04:05:50,https://api.github.com/repos/openstack/devstack/git/commits/550ec96067528f5ae83000ce00a02525b41563d8,550ec96067528f5ae83000ce00a02525b41563d8,use full path for devstack dir
sleepsonthefloor,2011-09-16 03:58:31,https://api.github.com/repos/openstack/devstack/git/commits/e7335c26a48d9a519e8bc83f30ca8c4c653e98e3,e7335c26a48d9a519e8bc83f30ca8c4c653e98e3,warn non-natty users
sleepsonthefloor,2011-09-16 03:37:29,https://api.github.com/repos/openstack/devstack/git/commits/036c9f8c50496278440734e02a2c9e4bcb2d19d6,036c9f8c50496278440734e02a2c9e4bcb2d19d6,initial commit of multi-node lxc
sleepsonthefloor,2011-09-16 01:05:49,https://api.github.com/repos/openstack/devstack/git/commits/c17b563e3cf4e98fa9fa14709cd6b9a93d0adc5b,c17b563e3cf4e98fa9fa14709cd6b9a93d0adc5b,"Merge pull request #2 from cloudbuilders/svc_enable_disable

only run certain code if the respective service has been enabled"
sleepsonthefloor,2011-09-15 23:52:43,https://api.github.com/repos/openstack/devstack/git/commits/70dc5e0578cd56bd0c5bd300515416ed4c4ec260,70dc5e0578cd56bd0c5bd300515416ed4c4ec260,only run certain code if th respective service has been enabled
sleepsonthefloor,2011-09-15 16:33:37,https://api.github.com/repos/openstack/devstack/git/commits/187b21f874ba09ce62ca7b5ad9ab342e5aa25c13,187b21f874ba09ce62ca7b5ad9ab342e5aa25c13,"fix keystone data - remove 'keystone' as it is now 'identity', comment out swift for now"
anotherjesse,2011-09-15 05:44:50,https://api.github.com/repos/openstack/devstack/git/commits/593828d4de9acc35228943c130e9880348771de6,593828d4de9acc35228943c130e9880348771de6,attempt to write a script that exercises nova cli
anotherjesse,2011-09-15 05:03:04,https://api.github.com/repos/openstack/devstack/git/commits/b19424fb51617abf55e21497ec9af23b2471e311,b19424fb51617abf55e21497ec9af23b2471e311,add docs for exercise
anotherjesse,2011-09-15 02:37:10,https://api.github.com/repos/openstack/devstack/git/commits/b019151c6e992e7ac8087a83d142fc77c9a53495,b019151c6e992e7ac8087a83d142fc77c9a53495,start to cli exercise
anotherjesse,2011-09-14 18:29:12,https://api.github.com/repos/openstack/devstack/git/commits/57133cd67e5636ba5348525a49ef64db353025f2,57133cd67e5636ba5348525a49ef64db353025f2,ignore ~ files
anotherjesse,2011-09-14 18:25:47,https://api.github.com/repos/openstack/devstack/git/commits/47e115e5c137175b792eb8588089dbf2c09a3dc7,47e115e5c137175b792eb8588089dbf2c09a3dc7,nfs-stack is now devstack
anotherjesse,2011-09-14 17:58:40,https://api.github.com/repos/openstack/devstack/git/commits/b683aa1bcac0a001308835750234fe265806fed4,b683aa1bcac0a001308835750234fe265806fed4,"Merge pull request #1 from dtroyer/master

Add munin to stack.sh"
sleepsonthefloor,2011-09-14 17:20:14,https://api.github.com/repos/openstack/devstack/git/commits/40f8d16a608ef897d33f66d2d8f5cf5a80bc0562,40f8d16a608ef897d33f66d2d8f5cf5a80bc0562,need a !
sleepsonthefloor,2011-09-14 17:19:24,https://api.github.com/repos/openstack/devstack/git/commits/52d019b1d2555b97f9b7ab14207f35a890da1ded,52d019b1d2555b97f9b7ab14207f35a890da1ded,remove dup flag
sleepsonthefloor,2011-09-14 16:55:31,https://api.github.com/repos/openstack/devstack/git/commits/377aae6f6c5c26a5834c01085fe286e62a973c3c,377aae6f6c5c26a5834c01085fe286e62a973c3c,make glance host configurable
sleepsonthefloor,2011-09-14 16:40:58,https://api.github.com/repos/openstack/devstack/git/commits/10791a13fa04a80c49262936dfdc1e0ec6033a31,10791a13fa04a80c49262936dfdc1e0ec6033a31,update to allow remote mysql connections
dtroyer,2011-09-14 16:13:54,https://api.github.com/repos/openstack/devstack/git/commits/b9cd6d5618e684d3af8404a49ed4350fb1fc0fa0,b9cd6d5618e684d3af8404a49ed4350fb1fc0fa0,Fix merge conflicts
dtroyer,2011-09-14 15:20:57,https://api.github.com/repos/openstack/devstack/git/commits/925df4c29564f6d330896adc50ce5346a7307795,925df4c29564f6d330896adc50ce5346a7307795,Auto-detect current user
sleepsonthefloor,2011-09-14 09:56:41,https://api.github.com/repos/openstack/devstack/git/commits/92e31ab648110987fac0c49157f5475be9561a94,92e31ab648110987fac0c49157f5475be9561a94,this command is already run by stack
sleepsonthefloor,2011-09-14 09:54:27,https://api.github.com/repos/openstack/devstack/git/commits/56e6292e1f6d11d5e2901262d30d9dcdf5d5f1ee,56e6292e1f6d11d5e2901262d30d9dcdf5d5f1ee,run entire run script as stack user
sleepsonthefloor,2011-09-14 09:39:10,https://api.github.com/repos/openstack/devstack/git/commits/320412b24fcd321756795767ae6d05c839c9432e,320412b24fcd321756795767ae6d05c839c9432e,root user for mysql
sleepsonthefloor,2011-09-14 09:33:43,https://api.github.com/repos/openstack/devstack/git/commits/3859f7376044fa918a2c0621fa60895692a913ea,3859f7376044fa918a2c0621fa60895692a913ea,"pre-cache git repos, add mysql perms"
sleepsonthefloor,2011-09-14 09:15:48,https://api.github.com/repos/openstack/devstack/git/commits/005abf03c72e35c9b68704b7dbbcbead3b38afd3,005abf03c72e35c9b68704b7dbbcbead3b38afd3,no need to run in bg
sleepsonthefloor,2011-09-14 08:58:01,https://api.github.com/repos/openstack/devstack/git/commits/927a656ac2835610349af64e251af9d2bc85c489,927a656ac2835610349af64e251af9d2bc85c489,more work on multi-lxc
sleepsonthefloor,2011-09-14 08:35:54,https://api.github.com/repos/openstack/devstack/git/commits/d74d681d3f9eb013838dd1a0935873f46f8b373e,d74d681d3f9eb013838dd1a0935873f46f8b373e,fix check for nfs-stack existence
sleepsonthefloor,2011-09-14 08:29:05,https://api.github.com/repos/openstack/devstack/git/commits/80638e545f8b2990b219ad8be891fe9c0ccfacca,80638e545f8b2990b219ad8be891fe9c0ccfacca,progress on multi-host lxc
sleepsonthefloor,2011-09-14 07:56:18,https://api.github.com/repos/openstack/devstack/git/commits/17348108b3842a11d4f188459beacce4348ea4c4,17348108b3842a11d4f188459beacce4348ea4c4,keep a log for the runner
sleepsonthefloor,2011-09-14 07:49:39,https://api.github.com/repos/openstack/devstack/git/commits/77dbb07959088a84f8c552bf06a56c904f1553ff,77dbb07959088a84f8c552bf06a56c904f1553ff,default nameserver to gateway
sleepsonthefloor,2011-09-14 06:43:09,https://api.github.com/repos/openstack/devstack/git/commits/ef7f36b711424d3763aa779abc4228ce6a67595e,ef7f36b711424d3763aa779abc4228ce6a67595e,let the container start on reboot
sleepsonthefloor,2011-09-14 06:36:43,https://api.github.com/repos/openstack/devstack/git/commits/936c9280ea8c94a5029382cb693370dcf655fb2c,936c9280ea8c94a5029382cb693370dcf655fb2c,warn users to use natty
sleepsonthefloor,2011-09-14 06:21:29,https://api.github.com/repos/openstack/devstack/git/commits/190321ea45ce9617cee41a54a19a72d092813395,190321ea45ce9617cee41a54a19a72d092813395,install deps
sleepsonthefloor,2011-09-14 05:14:37,https://api.github.com/repos/openstack/devstack/git/commits/34c4702bacc6820159b121273e9306ad3f084d31,34c4702bacc6820159b121273e9306ad3f084d31,add comment
sleepsonthefloor,2011-09-14 05:09:36,https://api.github.com/repos/openstack/devstack/git/commits/fe1d95af35143b8c96dd327c604e64ca7ede2851,fe1d95af35143b8c96dd327c604e64ca7ede2851,make a cp_it cp wrapper
sleepsonthefloor,2011-09-14 04:51:28,https://api.github.com/repos/openstack/devstack/git/commits/4f27922342ca274799a0f150fc28d4e0a59541b3,4f27922342ca274799a0f150fc28d4e0a59541b3,cleanup output
sleepsonthefloor,2011-09-14 03:21:42,https://api.github.com/repos/openstack/devstack/git/commits/1c36464615fd4b12ec6b3141d3d0173eac64bf75,1c36464615fd4b12ec6b3141d3d0173eac64bf75,allow role configuration for multi-host lxc
sleepsonthefloor,2011-09-14 03:11:42,https://api.github.com/repos/openstack/devstack/git/commits/fdaf21a5e6da9e0e6b61598301c02551793ab79d,fdaf21a5e6da9e0e6b61598301c02551793ab79d,configurable mysql user
sleepsonthefloor,2011-09-14 03:07:44,https://api.github.com/repos/openstack/devstack/git/commits/a841644e988415502831f17d1b34b0ad74d4c2c9,a841644e988415502831f17d1b34b0ad74d4c2c9,progress on multi-host stack.sh
sleepsonthefloor,2011-09-14 02:48:12,https://api.github.com/repos/openstack/devstack/git/commits/c6da0833a9aea59697e4b52c48bb92b545b0197e,c6da0833a9aea59697e4b52c48bb92b545b0197e,remove xtra space
sleepsonthefloor,2011-09-14 02:45:18,https://api.github.com/repos/openstack/devstack/git/commits/af9de3d56a6e8da0f328a8a76abfe1999e2ca23c,af9de3d56a6e8da0f328a8a76abfe1999e2ca23c,xtra $
sleepsonthefloor,2011-09-14 02:43:14,https://api.github.com/repos/openstack/devstack/git/commits/79918c54fa28dbc9eb6f5679c46418f6d649f2d7,79918c54fa28dbc9eb6f5679c46418f6d649f2d7,configure mysql password for keystone and glance
sleepsonthefloor,2011-09-14 00:29:02,https://api.github.com/repos/openstack/devstack/git/commits/963d2eb1c63a33c95a9d2257c07fee37967042e5,963d2eb1c63a33c95a9d2257c07fee37967042e5,update usage comment
sleepsonthefloor,2011-09-14 00:22:18,https://api.github.com/repos/openstack/devstack/git/commits/5d4843cfebadd57bf86f8291cd9c87a00bf5862b,5d4843cfebadd57bf86f8291cd9c87a00bf5862b,"add some sudo's to dashboard setup, so that the script can handle consecutive runs of stack.sh without hitting permisisons issues"
sleepsonthefloor,2011-09-14 00:13:32,https://api.github.com/repos/openstack/devstack/git/commits/b6838a1cec36568912739a56d655ead2a9765100,b6838a1cec36568912739a56d655ead2a9765100,make glance use mysql
sleepsonthefloor,2011-09-14 00:08:12,https://api.github.com/repos/openstack/devstack/git/commits/4da668650728a80d775b2f45650a2b233a323011,4da668650728a80d775b2f45650a2b233a323011,fix typo in 000-default config
sleepsonthefloor,2011-09-14 00:00:00,https://api.github.com/repos/openstack/devstack/git/commits/76d5dc77654010bd5411ff21db634829b6f0cc03,76d5dc77654010bd5411ff21db634829b6f0cc03,"comments, and fix the sed expression for 000-default"
anotherjesse,2011-09-13 22:16:26,https://api.github.com/repos/openstack/devstack/git/commits/e8d9cd8b0951212cfc74b856a7e79a314011c92f,e8d9cd8b0951212cfc74b856a7e79a314011c92f,separate out keystone config
dtroyer,2011-09-13 20:37:50,https://api.github.com/repos/openstack/devstack/git/commits/0017c8f9d51553d7f19d931b313931d78fea526b,0017c8f9d51553d7f19d931b313931d78fea526b,Add munin to stack
anotherjesse,2011-09-13 20:17:22,https://api.github.com/repos/openstack/devstack/git/commits/dfcd2003481a3f312ab0120f9308aa75a8f708c9,dfcd2003481a3f312ab0120f9308aa75a8f708c9,update docs
sleepsonthefloor,2011-09-13 19:01:45,https://api.github.com/repos/openstack/devstack/git/commits/3a0931273be9d701781d9a02ebe97f1bf4979782,3a0931273be9d701781d9a02ebe97f1bf4979782,make keystone use mysql
sleepsonthefloor,2011-09-13 18:28:56,https://api.github.com/repos/openstack/devstack/git/commits/292e46d0013be51384225d934423c5f26444ddf4,292e46d0013be51384225d934423c5f26444ddf4,fix service enablement
dtroyer,2011-09-13 18:22:14,https://api.github.com/repos/openstack/devstack/git/commits/2a15a7c40afd22c9b4a14043a4bb569ccea82824,2a15a7c40afd22c9b4a14043a4bb569ccea82824,Minor fixes
sleepsonthefloor,2011-09-13 18:07:11,https://api.github.com/repos/openstack/devstack/git/commits/2135cf87c2455d73bf8dbe426c9983453330a883,2135cf87c2455d73bf8dbe426c9983453330a883,back out service selection
sleepsonthefloor,2011-09-13 17:57:25,https://api.github.com/repos/openstack/devstack/git/commits/17969713a5c2a3e22fd2886f22a14607b3d5c6ea,17969713a5c2a3e22fd2886f22a14607b3d5c6ea,missing semi-colon
sleepsonthefloor,2011-09-13 17:43:44,https://api.github.com/repos/openstack/devstack/git/commits/f9998abc01d1ad7069d9762ee5c18af942bf0b8e,f9998abc01d1ad7069d9762ee5c18af942bf0b8e,no need to set root password
sleepsonthefloor,2011-09-13 17:40:04,https://api.github.com/repos/openstack/devstack/git/commits/6053496ebc8471890c26cc2845dad0c98d2f9832,6053496ebc8471890c26cc2845dad0c98d2f9832,simplify pre-cache procedure
sleepsonthefloor,2011-09-13 17:16:13,https://api.github.com/repos/openstack/devstack/git/commits/b748e69f0bb136e9e9eca54d6d3a68f786eeab3b,b748e69f0bb136e9e9eca54d6d3a68f786eeab3b,give container a cooler name
sleepsonthefloor,2011-09-13 17:13:23,https://api.github.com/repos/openstack/devstack/git/commits/9c261ef9386c22b9fbfcac1778b2d32de7600a39,9c261ef9386c22b9fbfcac1778b2d32de7600a39,"simplifications - remove CLEAN option, remove unneccesary lxc code"
sleepsonthefloor,2011-09-13 17:05:07,https://api.github.com/repos/openstack/devstack/git/commits/1003952b169472992792226b8ffdca5b92b3ac8e,1003952b169472992792226b8ffdca5b92b3ac8e,"comment tweaks, provide CLEAN option to stack.sh"
sleepsonthefloor,2011-09-13 16:57:31,https://api.github.com/repos/openstack/devstack/git/commits/7c3e5ed0552d30f9be052b55d6e6a98b9b45682a,7c3e5ed0552d30f9be052b55d6e6a98b9b45682a,more lxc cleanup - better stack user configuration
sleepsonthefloor,2011-09-13 16:43:46,https://api.github.com/repos/openstack/devstack/git/commits/bdbe6d98dbb1f1ef8b2e981760134c45499aabe3,bdbe6d98dbb1f1ef8b2e981760134c45499aabe3,allow for enabling/disabling of services.  separate source dir from opt in lxc
sleepsonthefloor,2011-09-13 16:20:58,https://api.github.com/repos/openstack/devstack/git/commits/8fbba9124bdb6f4ff1f3583c1766ed5c87879fc8,8fbba9124bdb6f4ff1f3583c1766ed5c87879fc8,fix apache logging
sleepsonthefloor,2011-09-13 16:17:56,https://api.github.com/repos/openstack/devstack/git/commits/40203cb1c4416bffe356c9cb94b08ed1cc04b04a,40203cb1c4416bffe356c9cb94b08ed1cc04b04a,"tweaks to cache warming, and better comments"
sleepsonthefloor,2011-09-13 10:35:00,https://api.github.com/repos/openstack/devstack/git/commits/1f81db690927007a23eebd3aed614f4fecd5d0af,1f81db690927007a23eebd3aed614f4fecd5d0af,make vnc work
sleepsonthefloor,2011-09-13 10:29:52,https://api.github.com/repos/openstack/devstack/git/commits/f49d7eeab5ec54962a08830e03373044c4177043,f49d7eeab5ec54962a08830e03373044c4177043,enable tun/tap
sleepsonthefloor,2011-09-13 10:02:38,https://api.github.com/repos/openstack/devstack/git/commits/eeba8864082bb0e4643351f698fcc0fb75231e5b,eeba8864082bb0e4643351f698fcc0fb75231e5b,woot!  more reliable lxc teardown
sleepsonthefloor,2011-09-13 09:05:12,https://api.github.com/repos/openstack/devstack/git/commits/99003e7511e35cd18b3b5a806a12bdda9e5934f4,99003e7511e35cd18b3b5a806a12bdda9e5934f4,a variety of tweaks for lxc stackiness
sleepsonthefloor,2011-09-13 08:28:41,https://api.github.com/repos/openstack/devstack/git/commits/ffbf1c9cf4ed9897f93ad1a21cf603eca9293d57,ffbf1c9cf4ed9897f93ad1a21cf603eca9293d57,Merge branch 'master' of github.com:cloudbuilders/nfs-stack
sleepsonthefloor,2011-09-13 08:28:18,https://api.github.com/repos/openstack/devstack/git/commits/b3c0454a6edbee450a110b289b6f2f423b4fa830,b3c0454a6edbee450a110b289b6f2f423b4fa830,more tweaks to lxc builder
anotherjesse,2011-09-13 08:24:50,https://api.github.com/repos/openstack/devstack/git/commits/d74257d0da628e8c8f7f977a0dd142610d143b88,d74257d0da628e8c8f7f977a0dd142610d143b88,more doc updates
anotherjesse,2011-09-13 07:59:54,https://api.github.com/repos/openstack/devstack/git/commits/30f68e9658f5b451af86c0c0979c134620e11d19,30f68e9658f5b451af86c0c0979c134620e11d19,start to use RST thanks to termie's port
sleepsonthefloor,2011-09-13 07:04:57,https://api.github.com/repos/openstack/devstack/git/commits/5f6c93b1fcb52e5f6a97cc9cc7cf2260b9b711b2,5f6c93b1fcb52e5f6a97cc9cc7cf2260b9b711b2,"crude pip caching, remove no-op fstab"
anotherjesse,2011-09-13 07:04:31,https://api.github.com/repos/openstack/devstack/git/commits/948fd841524199d8926af5f2aed8d7b71d3eb562,948fd841524199d8926af5f2aed8d7b71d3eb562,Merge branch 'master' of github.com:cloudbuilders/nfs-stack
anotherjesse,2011-09-13 07:04:24,https://api.github.com/repos/openstack/devstack/git/commits/710eeec0f4d49cec4102bba6a8467df56307f297,710eeec0f4d49cec4102bba6a8467df56307f297,update readme
sleepsonthefloor,2011-09-13 06:59:19,https://api.github.com/repos/openstack/devstack/git/commits/1bbd9e01dfb086e44ea54aae819bf335a1c48953,1bbd9e01dfb086e44ea54aae819bf335a1c48953,use pip cache directory
anotherjesse,2011-09-13 06:52:03,https://api.github.com/repos/openstack/devstack/git/commits/e192c38f46248ad82789d2902f5fcf2d67419718,e192c38f46248ad82789d2902f5fcf2d67419718,update readme
anotherjesse,2011-09-13 06:48:38,https://api.github.com/repos/openstack/devstack/git/commits/59cf78e956d46eac1eda798c332cdbaf6948762a,59cf78e956d46eac1eda798c332cdbaf6948762a,Merge branch 'master' of github.com:cloudbuilders/nfs-stack
anotherjesse,2011-09-13 06:48:30,https://api.github.com/repos/openstack/devstack/git/commits/4d6cb14acc0175d8a45bd45cca4757846c066b85,4d6cb14acc0175d8a45bd45cca4757846c066b85,running as a regular user works
sleepsonthefloor,2011-09-13 06:25:37,https://api.github.com/repos/openstack/devstack/git/commits/e2c3a37f6c63908833b7ada01c104a482108f121,e2c3a37f6c63908833b7ada01c104a482108f121,"fix apt-get update, add crude caching"
anotherjesse,2011-09-13 05:13:11,https://api.github.com/repos/openstack/devstack/git/commits/9053d6a0ea640a6f37b8238b8438e97b964f8ce4,9053d6a0ea640a6f37b8238b8438e97b964f8ce4,glance issues with sudo
anotherjesse,2011-09-13 05:06:03,https://api.github.com/repos/openstack/devstack/git/commits/ed2b6216695ee5a9f23a8eec3d43fa4efb71b686,ed2b6216695ee5a9f23a8eec3d43fa4efb71b686,Merge branch 'master' of github.com:cloudbuilders/nfs-stack
anotherjesse,2011-09-13 04:46:12,https://api.github.com/repos/openstack/devstack/git/commits/18d350da3603863f6f899739165f5125858c2c6c,18d350da3603863f6f899739165f5125858c2c6c,add a new user stack with sudoers privileges (start of using sudo again)
anotherjesse,2011-09-13 04:46:12,https://api.github.com/repos/openstack/devstack/git/commits/9a052d5d9c9b09f5a1df1739b368ea1e880c6249,9a052d5d9c9b09f5a1df1739b368ea1e880c6249,add a new user stack with sudoers privileges (start of using sudo again)
anotherjesse,2011-09-13 04:18:51,https://api.github.com/repos/openstack/devstack/git/commits/4f0c9bc6a8deb0801558fa8fc682642deacfc4db,4f0c9bc6a8deb0801558fa8fc682642deacfc4db,move build to build_nfs since tones added lxc support
sleepsonthefloor,2011-09-13 04:16:37,https://api.github.com/repos/openstack/devstack/git/commits/0d8f44a7327732cb8f5617f787be5ef4138261f1,0d8f44a7327732cb8f5617f787be5ef4138261f1,rename to build_lxc.sh
sleepsonthefloor,2011-09-13 04:12:20,https://api.github.com/repos/openstack/devstack/git/commits/f46fe753f47593b5402cf762e0692aa19c528f19,f46fe753f47593b5402cf762e0692aa19c528f19,dash instead of underscore?
sleepsonthefloor,2011-09-13 04:10:49,https://api.github.com/repos/openstack/devstack/git/commits/0db9fa3cd6e7e8925f99c57f3e8dff9941d473ba,0db9fa3cd6e7e8925f99c57f3e8dff9941d473ba,Merge branch 'master' of github.com:cloudbuilders/nfs-stack
sleepsonthefloor,2011-09-13 04:09:55,https://api.github.com/repos/openstack/devstack/git/commits/72d69636dfd13b3975ceb6e11f7675d4d57a604b,72d69636dfd13b3975ceb6e11f7675d4d57a604b,add script to launch stack.sh in an lxc container
anotherjesse,2011-09-13 02:37:57,https://api.github.com/repos/openstack/devstack/git/commits/834531c5bfac5797c634d61fe21cbe1de0bf1dcc,834531c5bfac5797c634d61fe21cbe1de0bf1dcc,don't explode if nova db doesn't exist and install a few more libraries during bootstrap
anotherjesse,2011-09-13 02:29:56,https://api.github.com/repos/openstack/devstack/git/commits/1c1d1505c7b5527e550a91146855336e5bb2d064,1c1d1505c7b5527e550a91146855336e5bb2d064,mysql-izing for nova
anotherjesse,2011-09-13 02:11:30,https://api.github.com/repos/openstack/devstack/git/commits/be395c1e9a49684fedf2fdf63050713c6405c90f,be395c1e9a49684fedf2fdf63050713c6405c90f,more docs and fix path issue for image locations
anotherjesse,2011-09-13 02:00:28,https://api.github.com/repos/openstack/devstack/git/commits/55508d62e7c3977a267e97231e7b1f5106705e3c,55508d62e7c3977a267e97231e7b1f5106705e3c,"make SQL_CONN an ENV, change order of screened items"
anotherjesse,2011-09-13 00:55:00,https://api.github.com/repos/openstack/devstack/git/commits/73e27b83e5d2d5beeda815d8ae613f89f32a9efd,73e27b83e5d2d5beeda815d8ae613f89f32a9efd,move keystone initialization into stack.sh
anotherjesse,2011-09-13 01:08:04,https://api.github.com/repos/openstack/devstack/git/commits/e49b8bd68d82066e00c9bd694acbb1e1405d3ade,e49b8bd68d82066e00c9bd694acbb1e1405d3ade,switch to using glance to upload images
anotherjesse,2011-09-13 00:42:43,https://api.github.com/repos/openstack/devstack/git/commits/dd9f2966d27c44a2f9f666bd12099c3ebac6b343,dd9f2966d27c44a2f9f666bd12099c3ebac6b343,update readme
anotherjesse,2011-09-13 00:40:00,https://api.github.com/repos/openstack/devstack/git/commits/6163257a94aa03188f5604a12742b24d133a0c6f,6163257a94aa03188f5604a12742b24d133a0c6f,only clone if the directory doesn't exist already
anotherjesse,2011-09-13 00:09:08,https://api.github.com/repos/openstack/devstack/git/commits/75a37653030b44c6ba336bf598ca09e052c35188,75a37653030b44c6ba336bf598ca09e052c35188,switch to single pass script
anotherjesse,2011-09-12 23:41:23,https://api.github.com/repos/openstack/devstack/git/commits/aec8fa4eb56a2f568c8b117c4b557dd4c49308d9,aec8fa4eb56a2f568c8b117c4b557dd4c49308d9,update todos
anotherjesse,2011-09-12 23:29:14,https://api.github.com/repos/openstack/devstack/git/commits/04ab3aec4783959552bb819955e01e59972f49cc,04ab3aec4783959552bb819955e01e59972f49cc,use tmux instead of screen?
sleepsonthefloor,2011-09-12 23:21:33,https://api.github.com/repos/openstack/devstack/git/commits/7e708c1709a3c7194f44670a1646d218822ac1de,7e708c1709a3c7194f44670a1646d218822ac1de,update readme with task
anotherjesse,2011-09-12 23:15:29,https://api.github.com/repos/openstack/devstack/git/commits/44fce6e9d97c4ef0715abbba3bc8db9d4e1c6600,44fce6e9d97c4ef0715abbba3bc8db9d4e1c6600,Merge branch 'master' of github.com:cloudbuilders/nfs-stack
anotherjesse,2011-09-12 23:15:11,https://api.github.com/repos/openstack/devstack/git/commits/2caf8fddff77368110b1588af50a72a3c70f2aac,2caf8fddff77368110b1588af50a72a3c70f2aac,comments on how to improve
anotherjesse,2011-09-12 21:17:03,https://api.github.com/repos/openstack/devstack/git/commits/4da4d16d4c7ddac7e9e97c060940a10e255f6452,4da4d16d4c7ddac7e9e97c060940a10e255f6452,anthony recommends using vim-nox
anotherjesse,2011-09-12 19:11:23,https://api.github.com/repos/openstack/devstack/git/commits/f110fd98169e0c083ba1447ab3644728e724bd7f,f110fd98169e0c083ba1447ab3644728e724bd7f,update comments for more clarity
anotherjesse,2011-09-12 18:59:38,https://api.github.com/repos/openstack/devstack/git/commits/6f3baafd7129c6031fa3a3dbb560a5ae9860e9da,6f3baafd7129c6031fa3a3dbb560a5ae9860e9da,update installer script
anotherjesse,2011-09-12 01:26:33,https://api.github.com/repos/openstack/devstack/git/commits/79736ff031726587537c468308a08c09a029081b,79736ff031726587537c468308a08c09a029081b,add locate & doc it is only needed for debugging
anotherjesse,2011-09-12 01:08:44,https://api.github.com/repos/openstack/devstack/git/commits/73b4707070b5e249b989c0734abcd766834ebb64,73b4707070b5e249b989c0734abcd766834ebb64,don't need nova-adminclient
anotherjesse,2011-09-12 00:53:34,https://api.github.com/repos/openstack/devstack/git/commits/8b564a8fb9af120116cc3f7188bd5efa9cc0bd39,8b564a8fb9af120116cc3f7188bd5efa9cc0bd39,move apache config to a template
anotherjesse,2011-09-12 00:11:11,https://api.github.com/repos/openstack/devstack/git/commits/1b17570c4cbd03af1ffa7c4fc5c1500be15bad94,1b17570c4cbd03af1ffa7c4fc5c1500be15bad94,performance: use local disk if one exists labeled nova-instances
anotherjesse,2011-09-11 23:46:44,https://api.github.com/repos/openstack/devstack/git/commits/3107deb2c5eaf1d0275fbf28729ef901d08d7543,3107deb2c5eaf1d0275fbf28729ef901d08d7543,a few more speed tweaks - try to pre-download tty.gz and don't git pull
anotherjesse,2011-09-11 23:34:34,https://api.github.com/repos/openstack/devstack/git/commits/5f0982007f91fbc1550521b7aca2acd58ad8c9a2,5f0982007f91fbc1550521b7aca2acd58ad8c9a2,move screenrc from stack.sh
anotherjesse,2011-09-11 23:23:21,https://api.github.com/repos/openstack/devstack/git/commits/f2ef760caa2d0ced7fc8b6be50a2c29eae20f344,f2ef760caa2d0ced7fc8b6be50a2c29eae20f344,"don't filter \# pips as they mean something, also it seems just libvirt-bin is the issue"
anotherjesse,2011-09-11 22:42:17,https://api.github.com/repos/openstack/devstack/git/commits/1639ed66015874a73bc271dbac02cd1c99158d0f,1639ed66015874a73bc271dbac02cd1c99158d0f,don't name proto filesystem nfs
anotherjesse,2011-09-11 22:27:54,https://api.github.com/repos/openstack/devstack/git/commits/8622bf2f398f95d7d85e53eb279df1116d9d13ea,8622bf2f398f95d7d85e53eb279df1116d9d13ea,allow comments in apts/pips list
anotherjesse,2011-09-11 20:28:06,https://api.github.com/repos/openstack/devstack/git/commits/2e8ade1d7226f3022f59b701e018989b1e66e9e1,2e8ade1d7226f3022f59b701e018989b1e66e9e1,remove deprecated code
anotherjesse,2011-09-11 10:22:13,https://api.github.com/repos/openstack/devstack/git/commits/ba23cc730f2a9483792524e3759bd78f36621dcc,ba23cc730f2a9483792524e3759bd78f36621dcc,project to speed up development on physical hardware
