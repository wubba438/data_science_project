securedrop,GitHub repository for the SecureDrop whistleblower platform. Do not submit tips here!
username,timestamp,url,sha,message
conorsch,2019-09-14 00:41:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ae9344a1d8b48b1cd80ec62900770e9fad39622,2ae9344a1d8b48b1cd80ec62900770e9fad39622,"Merge pull request #4821 from freedomofpress/docs-new-readme-logo

Update logo in README"
eloquence,2019-09-14 00:27:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6a46d2bd61a4565ee5578a096e2df4dae77e9dd,c6a46d2bd61a4565ee5578a096e2df4dae77e9dd,"Update logo in README

`docs/images/logo.png` is used for no other purpose, so deleting."
conorsch,2019-09-13 23:56:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3d1833bf6387c016b9cdf69f1ff183da9ee977a6,3d1833bf6387c016b9cdf69f1ff183da9ee977a6,"Merge pull request #4816 from freedomofpress/logo-replacements

Update Tails desktop icons, updater banner, updater icon"
eloquence,2019-09-13 19:21:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d67e123e493dd6c28570df04c52b4661aa5c2c27,d67e123e493dd6c28570df04c52b4661aa5c2c27,"Update Tails desktop icons, updater banner, updater icon

These were still using the old logo. Note that resources_rc.py
needed to be regenerated for these updates to be reflected in the
updater UI."
kushaldas,2019-09-13 17:14:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b35f85babe2170a386aaf5ae0b42141123db8b6f,b35f85babe2170a386aaf5ae0b42141123db8b6f,"Merge pull request #4801 from rmol/robuster-restorer

Rework Ansible restore role to detect Onion service version mismatch"
kushaldas,2019-09-13 11:38:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f58834bf279e48d4f036fb04bfd2543bc4b2f09a,f58834bf279e48d4f036fb04bfd2543bc4b2f09a,"Merge pull request #4811 from freedomofpress/nicer-language-loading

Improve loading behavior of language selector in Tor"
kushaldas,2019-09-13 10:34:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/291e4f77769c0c641d3dad91a8529d2b7f621c46,291e4f77769c0c641d3dad91a8529d2b7f621c46,"Merge pull request #4800 from freedomofpress/4796-fix-gitignore

Expand .gitgnore for venv"
eloquence,2019-09-12 22:10:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/db0ca54b4081abdd0215be87f9e02c2f89a36a0d,db0ca54b4081abdd0215be87f9e02c2f89a36a0d,"Improve loading behavior of language selector in Tor

Specifying a minimum width ensures the widget is always rendered
as it should be.

Fixes #4810"
rmol,2019-09-11 13:39:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/530c1c48655a450a8f2d35781e8bf5c6754b05d4,530c1c48655a450a8f2d35781e8bf5c6754b05d4,"Rework Ansible restore role to detect Onion service version mismatch

Make the restore playbook extract the Tor configuration from the
backup, retrieve the app server's Tor configuration, and compare
them. If the service versions differ, abort the restore with an
explanation."
emkll,2019-09-11 21:25:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2eb257d81095830529f3e893bf548cbbf8cea81a,2eb257d81095830529f3e893bf548cbbf8cea81a,"Expand .gitgnore for venv

The wilcard did not match `.venv/` folder used for python2 virtualenv in the securedrop-admin context"
zenmonkeykstop,2019-09-11 19:54:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed538401a6ceb0210f2462143716011fbaafc03f,ed538401a6ceb0210f2462143716011fbaafc03f,"Merge pull request #4794 from freedomofpress/4780-delete-auth-private-local

Remove v3 onion secrets when transitioning to ssh over local"
zenmonkeykstop,2019-09-11 19:41:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d1210b547809360a5ed67275954990833aa7ce09,d1210b547809360a5ed67275954990833aa7ce09,"Merge pull request #4792 from freedomofpress/docs-update-screenshots-for-100

[docs] Update screenshots in docs for 1.0.0"
emkll,2019-09-11 15:00:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2dc29cdfe1c66d5b37c28eec10eed2fc1baec290,2dc29cdfe1c66d5b37c28eec10eed2fc1baec290,"Remove v3 onion secrets when transitioning to ssh over local

- v2 aths secret file pattern does not match the one for v3
- Use async task for reboot for more immediate feedback
- Instruct admin to run tailsconfig to update the ssh config on tails workstation"
eloquence,2019-09-11 16:17:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e62bf02a5aafacb2e6f848a28e57a79ea32b40bf,e62bf02a5aafacb2e6f848a28e57a79ea32b40bf,Update Tor restart dialog screenshot
zenmonkeykstop,2019-09-11 15:29:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c32040e38d81806a2847eeecb9f4f88c0ebdcd43,c32040e38d81806a2847eeecb9f4f88c0ebdcd43,"Merge pull request #4773 from rocodes/docs-update-tails-usb

[docs] Add instructions on updating Tails USBs"
eloquence,2019-09-11 05:26:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1bf76344f963de9ce054c293e36e881ee78cc3e5,1bf76344f963de9ce054c293e36e881ee78cc3e5,"Update screenshots in docs for 1.0.0

Also update source guide to reflect button label changes.

Cropped the Tor download dialogs to not show the background, so they
have a longer shelf life.

Resolves #4721"
redshiftzero,2019-09-10 22:05:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff311331cc99c72b2a5e66f2e22d732417eefa32,ff311331cc99c72b2a5e66f2e22d732417eefa32,"Merge pull request #4785 from creviera/update-dockerfile

update torbrowser version"
redshiftzero,2019-09-10 19:21:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1dcf8f6c319b1811ce88597e9d4130fab9bc17a5,1dcf8f6c319b1811ce88597e9d4130fab9bc17a5,"Merge pull request #4782 from rocodes/4781-docs-setup-servers

Fix typo naming Tails instead of Ubuntu"
creviera,2019-09-10 18:01:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/579abb3120c53aec70afe04c7c40963b690b57e6,579abb3120c53aec70afe04c7c40963b690b57e6,update torbrowser version
kushaldas,2019-09-10 16:03:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a03ecb6863347c8b3530b87df5bf923c0f047eb5,a03ecb6863347c8b3530b87df5bf923c0f047eb5,"Merge pull request #4775 from rmol/v3_onion_service_fact

Default v3_onion_services to off in validate_tails_environment.yml"
rmol,2019-09-09 18:38:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d6a29fcfd714830c0e88b4d26a18d1bbdf8120aa,d6a29fcfd714830c0e88b4d26a18d1bbdf8120aa,"Default v3_onion_services to off in validate_tails_environment.yml

The lack of this variable has tripped us up in several roles, and
depending on how the validate role is used, adding it to
defaults/main.yml within that role might not fix it, so let's add a
fact in the validate_tails_environment playbook defaulting it to off."
zenmonkeykstop,2019-09-09 16:34:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/36fc03b09e105b9891634883f7e61069103e7892,36fc03b09e105b9891634883f7e61069103e7892,"Merge pull request #4770 from nevun/minor_typos

docs: fix typos"
nevun,2019-09-09 15:13:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5fcea94b7a0f83d022544d2e665fb97729cbe689,5fcea94b7a0f83d022544d2e665fb97729cbe689,"docs: fix typos

severs -> servers
that so that -> so that"
redshiftzero,2019-09-09 13:21:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01fbef7e0ee4c780e050554c5908c19aa2f0faa3,01fbef7e0ee4c780e050554c5908c19aa2f0faa3,"Merge pull request #4765 from freedomofpress/oh_my_missing_variables

Fixes #4762 adds missing variables for tailsconfig"
kushaldas,2019-09-07 03:01:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd174f8a8da5cc353707c72787f03e6ab66ccdf4,dd174f8a8da5cc353707c72787f03e6ab66ccdf4,Fixes #4762 adds missing variables for tailsconfig
zenmonkeykstop,2019-09-06 14:12:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2dd64fa53e462c96ccd73e902b698046f2fda278,2dd64fa53e462c96ccd73e902b698046f2fda278,"Merge pull request #4750 from freedomofpress/ci-staging-bump

ci: bump staging timeout to 30m"
kushaldas,2019-09-06 12:40:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/781cf87dc54cbcc5f2d72778e19c9e46848f4c24,781cf87dc54cbcc5f2d72778e19c9e46848f4c24,"Merge pull request #4752 from rmol/4731-fix-shebangs

Update Python script interpreter directives"
kushaldas,2019-09-06 10:09:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec56e48f4542570ac8b0e8b8ae566db8ea4eaecb,ec56e48f4542570ac8b0e8b8ae566db8ea4eaecb,"Merge pull request #4758 from rmol/4755-fix-plus-verbosity

Install Python deps from source, increase verbosity when SD_DEBUG_BUILD_DEBS is enabled"
rmol,2019-09-05 23:01:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2935395b208beae1d810300a9ce38e8ed40b8ef6,2935395b208beae1d810300a9ce38e8ed40b8ef6,"Make build-debs more verbose

For securedrop-app-code, give pip the --verbose option.

In build-debs.sh, give molecule the --debug option if the environment
variable SD_DEBUG_BUILD_DEBS is ""yes""."
redshiftzero,2019-09-05 21:07:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21ee63400f347ea641330e31d2f3f583e53840fa,21ee63400f347ea641330e31d2f3f583e53840fa,build: fetch sources only during securedrop-app-code build
redshiftzero,2019-09-05 22:01:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/72d8dc3dda5f5ea26017b972e36fda08e9b37fa4,72d8dc3dda5f5ea26017b972e36fda08e9b37fa4,"Merge pull request #4754 from freedomofpress/4753-dont-copy-custom-logo

Tweak rsync filter to exclude custom logo"
emkll,2019-09-05 20:03:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/873bb6f79c0e81bfe32aff20457708d7edfb4e8c,873bb6f79c0e81bfe32aff20457708d7edfb4e8c,Update release management docs to ensure repository is clean prior to building packages.
emkll,2019-09-05 19:39:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ebbaba055be47e57a6260f6894c3084af4963fe5,ebbaba055be47e57a6260f6894c3084af4963fe5,"Remove custom_logo.png from app code build logic

rsync filter rules are processed on a first-match basis, which means the exclusion rule for custom_logo.png must appear before the wildcard inclusion of all png files."
redshiftzero,2019-09-05 13:37:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/efbd999bf6acef47705b90a475772e036c8e8105,efbd999bf6acef47705b90a475772e036c8e8105,ci: bump staging timeout to 35m
kushaldas,2019-09-05 10:21:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a9750d93b0d8be77fceca1a1bdb6446b5433038,7a9750d93b0d8be77fceca1a1bdb6446b5433038,"Merge pull request #4749 from rmol/4748-update-version-sdist

Teach update_version.sh to bump the expected sdist tarball version"
rmol,2019-09-04 23:46:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ec96c5dc51c08965bdb25aee01468b4dbd3a414,0ec96c5dc51c08965bdb25aee01468b4dbd3a414,Teach update_version.sh to bump the expected sdist tarball version
redshiftzero,2019-09-04 22:05:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/070cbc6e73e39f34f26742a1518ed186d7685f04,070cbc6e73e39f34f26742a1518ed186d7685f04,"Merge pull request #4744 from zenmonkeykstop/4738-tailsconfig-always-run-hook

Updating tailsconfig to always run network hook"
rmol,2019-09-04 20:25:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da6bcb6d417443b44ae40353250146311f50c5c8,da6bcb6d417443b44ae40353250146311f50c5c8,"Update Python script interpreter directives

For Python scripts run where the /opt/venvs/securedrop-app-code
virtualenv is used, specify that in the interpreter directive line.

Remove the shebang line from crypto_util.py, since it's never run.

Leave unmodified the scripts used on workstations or in packaging VMs."
redshiftzero,2019-09-04 19:51:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a08e2c0027d085f298b5f7c518811f4eba7f4d7,4a08e2c0027d085f298b5f7c518811f4eba7f4d7,"Merge pull request #4729 from zenmonkeykstop/4681-install-fail-fast

Adds check for valid v3 config on Admin Workstation"
zenmonkeykstop,2019-09-04 19:05:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4f50475c269d1d21cad314f0f7d9335243521a3,d4f50475c269d1d21cad314f0f7d9335243521a3,Updating tailsconfig to always run network hook
zenmonkeykstop,2019-09-03 21:48:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/adfcaf6c0a036562c081c6bff6b835d129b61a43,adfcaf6c0a036562c081c6bff6b835d129b61a43,Updated to allow for SSH-over-LAN scenarios
redshiftzero,2019-09-04 16:41:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c06b0b3d5b569e4e8d054d1037b3ce4cd3b24299,c06b0b3d5b569e4e8d054d1037b3ce4cd3b24299,"Merge pull request #4735 from rmol/4734-correct-submission-cleanup

Correct cleanup of disconnected submission files"
zenmonkeykstop,2019-09-03 16:01:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96c38608573e577d275d7a6922fef3f64aea1f46,96c38608573e577d275d7a6922fef3f64aea1f46,Add install-time check for JSON keyfile if client_auth files present on Admin Workstation
rmol,2019-09-03 21:31:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0644b954576fad2fa7c9636422137506cf5943e9,0644b954576fad2fa7c9636422137506cf5943e9,"Correct cleanup of disconnected submission files

In securedrop.management.submissions.find_disconnected_fs_submissions,
check Replies as well as Submissions for a valid association to any
file found in the store, before reporting it as disconnected."
redshiftzero,2019-09-04 13:47:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae0ff0c36b80062097826852b02f667243c45a16,ae0ff0c36b80062097826852b02f667243c45a16,"Merge pull request #4736 from rmol/fix-dev-rq

Update the path to rqworker in dev-deps supervisor config"
rmol,2019-09-03 22:27:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/270250601fe27347ef5d9d4a314f57fd984b586f,270250601fe27347ef5d9d4a314f57fd984b586f,"Update the path to rqworker in dev-deps supervisor config

The supervisor configuration in the dev container was still pointing
to /usr/local/bin/rqworker, which has been moved to
/opt/venvs/securedrop-app-code/bin. Correcting the path fixes
submission hashing and deletion."
redshiftzero,2019-09-03 21:15:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45e5b70b6ebb7fa01eaecdcd40dcce72de922a0f,45e5b70b6ebb7fa01eaecdcd40dcce72de922a0f,"Merge pull request #4732 from rmol/source-string-feedback-kwadronaut

Incorporate source string feedback from KwadroNaut"
rmol,2019-09-03 19:26:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f65d9545b03b9320e9a2e937fa8a77b478ad973d,f65d9545b03b9320e9a2e937fa8a77b478ad973d,Incorporate source string feedback from KwadroNaut
redshiftzero,2019-09-03 18:32:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99ee9150e9d45288eb33a0140647f8988c1445e1,99ee9150e9d45288eb33a0140647f8988c1445e1,"Merge pull request #4730 from freedomofpress/bump-tbb

Bump Tor Browser in Dockerfile to 8.5.4"
eloquence,2019-09-03 17:28:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3058cda70ebfc6707a0f9a8da8ae4e56afa7410a,3058cda70ebfc6707a0f9a8da8ae4e56afa7410a,"Bump Tor Browser in Dockerfile to 8.5.4

Fixes 404 on Tor Browser Download for dev env"
redshiftzero,2019-09-03 17:26:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f060e8bdc55065172efe2db10518f6aac8e29d14,f060e8bdc55065172efe2db10518f6aac8e29d14,"Merge pull request #4728 from rmol/4726-update-tor

Update Tor Debian package version to 0.4.1.5-1"
rmol,2019-09-03 15:35:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/61add105b4daa92f8f7b5acc141a0a0d6a765d9b,61add105b4daa92f8f7b5acc141a0a0d6a765d9b,Update Tor Debian package version to 0.4.1.5-1
redshiftzero,2019-08-30 20:16:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d151b917bf2239878ec3404e2f994787ac46a2f7,d151b917bf2239878ec3404e2f994787ac46a2f7,"Merge pull request #4722 from rmol/fix-make-translate

Use dev-shell for make translate"
redshiftzero,2019-08-30 19:44:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/46696245960543c73efe216463483522de141ac7,46696245960543c73efe216463483522de141ac7,"Merge pull request #4719 from rmol/4624-translator-docs

Update documentation for translators"
redshiftzero,2019-08-30 19:43:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b254a9176957673c873f32fb02edfd21f913bf6,3b254a9176957673c873f32fb02edfd21f913bf6,"Merge pull request #4720 from freedomofpress/v3_and_https_may_not_be_friends

Fixes #4677 warns admin if v3 and https both are enabled"
redshiftzero,2019-08-30 18:17:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f358aca9eaf5047a06003eea978a2506c57ea306,f358aca9eaf5047a06003eea978a2506c57ea306,admin: add warning message for v3 onions and HTTPS
redshiftzero,2019-08-30 17:56:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ce9045a3019fdc896d8f4a0491fe667edca1d0c,0ce9045a3019fdc896d8f4a0491fe667edca1d0c,"Merge pull request #4723 from rmol/translation-status-widgets

Add Weblate translation status widgets"
rmol,2019-08-30 16:56:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03ed3487a39c3f613224ba3cbb695622d4eab2a7,03ed3487a39c3f613224ba3cbb695622d4eab2a7,"Add Weblate translation status widgets

Weblate provides widgets showing translation progress. Add a badge to
our README, and larger widgets to the Translators section of our
Contributing doc."
rmol,2019-08-30 14:18:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eba955719e1c98a567bde3ca9e17586ce0481a00,eba955719e1c98a567bde3ca9e17586ce0481a00,Use dev-shell for make translate
kushaldas,2019-08-30 12:09:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef8d9618803cffb7edd499ed26fe84b3e81ca3d7,ef8d9618803cffb7edd499ed26fe84b3e81ca3d7,"Merge pull request #4718 from freedomofpress/4631-expose-v3-onion-urls-to-app

Expose v2/v3 Onion URLs to webapp code"
kushaldas,2019-08-30 09:29:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/33298e9ce57eb0c7f1e65f18ac022093ac3cbb98,33298e9ce57eb0c7f1e65f18ac022093ac3cbb98,Fixes #4677 warns admin if v3 and https both are enabled
conorsch,2019-08-30 00:30:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/549a056aa222954d6ee65a45f6ca3d479ee83188,549a056aa222954d6ee65a45f6ca3d479ee83188,"Merge pull request #4710 from freedomofpress/ask_all_questions

Fixes #4708, adds sdconfig prompt for v2/v3 services"
conorsch,2019-08-29 20:38:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/36ea43001ace4f1ebe83aff5b597236b15c0eee4,36ea43001ace4f1ebe83aff5b597236b15c0eee4,"Renames admin _config var for clarity

There's already a `.config` attribute in the sdconfig flow, so let's
rename `._config` -> `._config_in_progress` to make the intended use
case explicit to future maintainers. The contents of the
_config_in_progress dict are consulted during validation steps as part
of `sdconfig`."
conorsch,2019-08-29 01:12:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f6b0a691805ae6ee2fcfc99f7d7ecba924258f95,f6b0a691805ae6ee2fcfc99f7d7ecba924258f95,"Documents running subset of testinfra tests

Since testinfra is based on pytest, the pytest env var for passing
additional options works just fine. We can use the `-k` option to
perform a substring search on test names, and run only those tests
matching the selector."
conorsch,2019-08-29 18:17:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ccb2b27a683146237ce402e5b6fd3620adbf21d6,ccb2b27a683146237ce402e5b6fd3620adbf21d6,"Exposes Onion URLs (v2 & v3) to webapp

We write plaintext files to /var/lib/securedrop so that the application
can provide user-facing messaging about upcoming v2 -> v3 Onion URL
transitions. For example, if a v3 Source Onion URL exists, but a source
is browsing via the v2 URL, we can recommend the v3 URL instead."
kushaldas,2019-08-29 09:27:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f1b4e48126159e7cff2d10387199604a087ec909,f1b4e48126159e7cff2d10387199604a087ec909,Updates based on feedback of strings
kushaldas,2019-08-28 13:53:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d12f971c85f78996e94a9eff834825f2ea1bfd65,d12f971c85f78996e94a9eff834825f2ea1bfd65,"Adds test cases and related change for v2/v3 user input

We now have two more integration tests to verify that
we can have ""enabled v2 and disabled v3"" and both versions
enabled at the same time."
kushaldas,2019-08-27 18:57:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c2210c3fd5b26919f6ca95aa93a50276a91e593e,c2210c3fd5b26919f6ca95aa93a50276a91e593e,"Fixes #4708, adds sdconfig prompt for v2/v3 services

Now it asks if the admin wants to enable v2 or v3 services.
It will not let you to disable v3 if you already disabled v2."
conorsch,2019-08-29 22:34:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d3d3ab79ac519e1545d78109c60cd605b3a29fa8,d3d3ab79ac519e1545d78109c60cd605b3a29fa8,"Merge pull request #4672 from freedomofpress/bug-1189-contrib

Clean up orphaned submissions/replies no longer associated with sources"
redshiftzero,2019-08-29 21:41:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b515226129790b65252bcf82276a6a75f4583664,b515226129790b65252bcf82276a6a75f4583664,deletion cleanup: mv two imports that import worker.py into try/except
redshiftzero,2019-08-29 18:30:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/679aa5c47ecfcec6c49b2cfff630a2472ab74bbf,679aa5c47ecfcec6c49b2cfff630a2472ab74bbf,"deletion cleanup: worker.py now imports config.py

so it won't import on existing installs"
rmol,2019-08-28 12:56:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f3ef8ca338f4d2ee838ce4a16fc86d23dc42873,9f3ef8ca338f4d2ee838ce4a16fc86d23dc42873,Update documentation for translators
redshiftzero,2019-08-29 15:19:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2180dc3e806bf3a17b05d1bc479af050e6fe5592,2180dc3e806bf3a17b05d1bc479af050e6fe5592,"Merge pull request #4717 from freedomofpress/fix-tooltips

Adjust tooltip sizing/weight to reduce likelihood of abbreviation"
redshiftzero,2019-08-29 14:49:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/08cfcd83461e7612238752e4a55fa5a8e3a54285,08cfcd83461e7612238752e4a55fa5a8e3a54285,"deletion cleanup: srm -> secure_delete, new session_nonce"
redshiftzero,2019-08-19 23:05:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a8c83c77cd10ffff61f47a9c8f64e8c997d7b0d,3a8c83c77cd10ffff61f47a9c8f64e8c997d7b0d,"alembic: guard against config.py not existing yet

one of the quirks of SecureDrop is that config.py might
not yet exist until the app Ansible role has ran

this means for fresh installs, the database must be created
via alembic upgrade head without any errors raising, else
the securedrop-app-code package install will fail"
redshiftzero,2019-08-15 01:43:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a13c4d3646d06436eb409384b85cce145f3df0c,4a13c4d3646d06436eb409384b85cce145f3df0c,"alembic: migration contains raw SQL, add `# nosec`

bandit flags this because the table name is passed in as a variable.
It's not user controlled so this does not introduce a security problem
(function is in the migration only). I could suppress the
alert by removing the function but in the spirit of not
making this alembic migration even more repetitive I'm adding `# nosec`."
redshiftzero,2019-08-15 00:38:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c84ec0bbda79f345640f0522d71e5dddc5e19fb9,c84ec0bbda79f345640f0522d71e5dddc5e19fb9,"alembic: ensure row is deleted if the file is gone

easiest to do with a custom exception, but for files that were
manually deleted by a curious admin who e.g. removed large files that
were not properly deleted due to this bug, we should also remove
the corresponding row in the database."
redshiftzero,2019-08-14 23:53:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b4ef839d08923119a527183150cf5d9b5e6c2085,b4ef839d08923119a527183150cf5d9b5e6c2085,"alembic: we should also delete objects that have invalid source_ids

invalid objects being those which do not have a matching source_id
in the sources table"
redshiftzero,2019-08-14 21:09:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/387fe4369cfffbce267355317848610b29502bd1,387fe4369cfffbce267355317848610b29502bd1,"create new exception class and handle in migration for resiliency

two situations _could_ potentially arise trying to think of the
edge cases here:

- Admin has been deleting files manually by digging around for
files that consume a lot of disk in the securedrop data directory
- A very rare situation can occur where there is a colliding
journalist_designation"
redshiftzero,2019-08-07 00:54:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1aa5c07a34ac855f83cb15bb0e5c7919372112cd,1aa5c07a34ac855f83cb15bb0e5c7919372112cd,alembic: add replies to the migration and enqueue jobs to cleanup the files
redshiftzero,2019-08-07 00:53:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fca2df7d8c3436d221ae8674f9b0d6959dde25c9,fca2df7d8c3436d221ae8674f9b0d6959dde25c9,"store: add method to find a file without its filesystem_id

if a source has been deleted, we no longer have its filesystem_id
in the database. as such, we will need to find the file, being careful
to guard against potential duplicates due to the journalist_designations
not necessarily being unique (this is a very rare case)"
ehashman,2018-11-25 23:19:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ea900ce09ef603acc773e93598e05788f18b33c,2ea900ce09ef603acc773e93598e05788f18b33c,"Delete Submissions with Sources that were deleted

This is accomplished by an alembic migration that removes any orphaned
submissions from the database."
redshiftzero,2019-08-29 14:04:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c2d222c6471219a4bcb80c06b1de4b087982ebbb,c2d222c6471219a4bcb80c06b1de4b087982ebbb,"Merge pull request #4713 from rmol/4712-submission-cleanup

Improve deletion of submissions"
rmol,2019-08-28 13:39:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b2457d980f573e757687c45e3e293748760685b2,b2457d980f573e757687c45e3e293748760685b2,Use config.SECUREDROP_ROOT for worker path in test_worker.py
eloquence,2019-08-28 23:52:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d6f61335d7bb0e02e8436f1a49bb0e1a95fc048b,d6f61335d7bb0e02e8436f1a49bb0e1a95fc048b,"Adjust tooltip sizing/weight to reduce likelihood of abbreviation

Resolves #4716"
redshiftzero,2019-08-28 22:46:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00d6fbf7500f55b9a1e1fa6c52e1602169a95b61,00d6fbf7500f55b9a1e1fa6c52e1602169a95b61,"Merge pull request #4714 from freedomofpress/design-hrfix

Footer tweaks: final language, HR fix, class rename"
eloquence,2019-08-28 21:17:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d23a9479e48091fdf89d07d944e381eba2f2d806,d23a9479e48091fdf89d07d944e381eba2f2d806,"Use final footer wording

Resolves #4700"
eloquence,2019-08-28 21:01:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71e340c913c2135a1a9da217eb612c5b01c5c609,71e340c913c2135a1a9da217eb612c5b01c5c609,"Fix mobile regression in footer layout, rename class

Resolves #4701"
conorsch,2019-08-27 22:15:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e0082281e6ce14ab96e181630b5109c94ae5950,1e0082281e6ce14ab96e181630b5109c94ae5950,"Merge pull request #4675 from zenmonkeykstop/4629-v3-tailsconfig

Adds support for v3 Onion urls to ./securedrop-admin tailsconfig`"
rmol,2019-08-27 21:44:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b23605103638be64ca53e58af06fadb5cf9ae6b8,b23605103638be64ca53e58af06fadb5cf9ae6b8,Fix CI lint requirements installation
rmol,2019-07-29 17:02:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8ecb986822c2962c0ad6d28b1fa09b1237f4b0d,a8ecb986822c2962c0ad6d28b1fa09b1237f4b0d,"Improve deletion of submissions

Replace srm with shred, which is faster, reducing the chance that
deletion of a submission will be interrupted.

Update rq and redis requirements, to eliminate long-standing bugs.

Add manage.py tasks for detecting and correcting submissions that have
been disconnected from their files on disk, and vice versa. Update
manage.py to explicitly run with the production virtualenv. Also
specify the virtualenv in WSGI scripts and the run-test script. In the
dev/test Docker container, install requirements in a virtualenv at the
same path as production.

Add a supervisor script for requeuing interrupted rq jobs. If the app
server is rebooted while an rq job is running, that job has already
been deleted from the queue and rq will not automatically resume it on
reboot, but it does have a record of it in the queue's started job
registry. This script checks that registry for jobs that aren't
already queued or being run, and requeues them."
redshiftzero,2019-08-27 15:43:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/771e9c5b699de67ddde0b56db5c677aae4258ceb,771e9c5b699de67ddde0b56db5c677aae4258ceb,"Merge pull request #4679 from lev-csouffrant/journalist-password-expire-session

Invalidate Session When Admin Resets Journalist Password"
lev-csouffrant,2019-08-19 06:50:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3ec6f7f3d76b39aa68fa5c63a0968947e5e62c0f,3ec6f7f3d76b39aa68fa5c63a0968947e5e62c0f,Invalidate Session When Admin Resets Journalist Password
redshiftzero,2019-08-26 18:08:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cac498af5475ffed349e0dcec58fd6f171fa681d,cac498af5475ffed349e0dcec58fd6f171fa681d,"Merge pull request #4704 from deeplow/docs-4703-fix-venv-command

fixes #4703 update mkvirtualenv command to reflect update to python3"
deeplow,2019-08-26 15:14:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b21a6687dd44c8389074d8611b42fe8e71adcf5f,b21a6687dd44c8389074d8611b42fe8e71adcf5f,update mkvirtualenv command to reflect update to python3
kushaldas,2019-08-26 06:29:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cae0164cb6338631afc1803652c0d28c94ec2011,cae0164cb6338631afc1803652c0d28c94ec2011,"Merge pull request #4690 from freedomofpress/torrc-munging-remove

securedrop-config: remove function setting HiddenServiceVersion"
zenmonkeykstop,2019-08-23 22:51:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9515b596f9a19b507f8a62d9396df5cf740c1f7e,9515b596f9a19b507f8a62d9396df5cf740c1f7e,"Merge pull request #4666 from freedomofpress/design-refresh-rev2-footer

Redesign footer, index page and language selector."
eloquence,2019-08-23 21:01:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20188808575717ea5395eca27acf9fba103ecd6f,20188808575717ea5395eca27acf9fba103ecd6f,Add footer.html to Apache whitelist
eloquence,2019-08-22 19:20:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4df07b20b15edfcb8faefaa6711cc3a78f9e118b,4df07b20b15edfcb8faefaa6711cc3a78f9e118b,"Tweak icon alignment, spacing; fix mobile regressions"
conorsch,2019-08-22 16:46:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bbad1cbae4bef0da73fc648e75d83852acdfcbf6,bbad1cbae4bef0da73fc648e75d83852acdfcbf6,"Adds support for v3 Onion to SSH inventory script

Preserves the v2 Onion lookup logic, but prefers v3 Onions if those are
found on the Admin Workstation. Ensures that Admins connecting to the
servers after migrating to v3 Onion URLs are using them for SSH."
redshiftzero,2019-08-22 16:15:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d6af22068127fc023cbf34eb850291ca5db0cb78,d6af22068127fc023cbf34eb850291ca5db0cb78,"Merge pull request #4685 from rocodes/4668-firewall-docs-ossec-agent

[docs] Updated screenshots: Fix OSSEC agent alias name and update pfsense version"
kushaldas,2019-08-22 14:06:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b302c0a6807f475c10ce3718be4272a8b029167,7b302c0a6807f475c10ce3718be4272a8b029167,"Uses the correct v2 or v3 URLS

Ansible overrides facts if they are reused even with when statements.
We are creating two varaiables from either v2 or from v3 addresses
based on what is available and then using those."
zenmonkeykstop,2019-08-17 02:23:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/473b7cd02eca44972c4f552cbe243c2e3bfdc10d,473b7cd02eca44972c4f552cbe243c2e3bfdc10d,Updated v3 service filenames
zenmonkeykstop,2019-08-16 15:03:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d19bab67252b1934f360593fb8b9779bea42a815,d19bab67252b1934f360593fb8b9779bea42a815,Adding v3 desktop shortcut support
zenmonkeykstop,2019-08-16 01:44:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1cfe96732deaf7bb7a4f078970ea3698d34cc0b6,1cfe96732deaf7bb7a4f078970ea3698d34cc0b6,Adding v3 SSH support
zenmonkeykstop,2019-08-15 13:28:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fd21c5f6b41ea1d3db7db06db980a56a60d7d408,fd21c5f6b41ea1d3db7db06db980a56a60d7d408,Adding v3 ClientAuth files
zenmonkeykstop,2019-08-14 23:25:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c9ea74bb87f20f3d2f413d48e534dc3a78ada1e6,c9ea74bb87f20f3d2f413d48e534dc3a78ada1e6,Removing SecureDrop 0.3.x cleanup and migration logic
redshiftzero,2019-08-22 14:28:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b91c437a4e5ed5120813af5021322bf8ef4884d9,b91c437a4e5ed5120813af5021322bf8ef4884d9,"Merge pull request #4688 from freedomofpress/fix-linkcheck-requirements

Fix path to requirements.txt for docs-linkcheck CI job"
eloquence,2019-08-22 05:56:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9f333c25b116f31480901620ecc33610d9a610b,d9f333c25b116f31480901620ecc33610d9a610b,"Refresh language selector design

- Cleaner globe icon
- Caret icon instead of glyph
- Left-aligned menu items
- Better align menu with logo
- Mobile vs. desktop tweaks
- Darker highlight color for accessibility"
eloquence,2019-08-17 00:00:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab870db2edad10429cd858926caea891b3637af4,ab870db2edad10429cd858926caea891b3637af4,Update functional tests to revised language
eloquence,2019-08-16 23:38:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a77738d300d02e18846637716ce79123bc0c51b0,a77738d300d02e18846637716ce79123bc0c51b0,Spacing tweaks per discussion w/ Nina
eloquence,2019-08-16 00:19:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d738a9b0a9b290c24ad857ce6ea57dd76728bc6e,d738a9b0a9b290c24ad857ce6ea57dd76728bc6e,"Update index page in Source UI to simplified layout, content

Resolves #4663"
eloquence,2019-08-13 01:10:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/67b0bea1faa247ab74682315c30e49f32f35ebcf,67b0bea1faa247ab74682315c30e49f32f35ebcf,"Update per discussion with Nina to final color/spacing, img size"
eloquence,2019-08-09 23:45:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b7db232d855f1da9da28e38666c380067aee16d8,b7db232d855f1da9da28e38666c380067aee16d8,"Footer redesign; revised language to be more accessible & mention FPF

Resolves #4662"
conorsch,2019-08-22 01:54:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c0ed471d86b9322e89d0df616e4d8720a224709,0c0ed471d86b9322e89d0df616e4d8720a224709,"Merge pull request #4652 from freedomofpress/onion_onion_and_more_onions

Add v3 onion support to tor-hidden-services ansible role"
conorsch,2019-08-21 20:18:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f24ffc0ac95ee108aae5c9a5bacb302867e37f44,f24ffc0ac95ee108aae5c9a5bacb302867e37f44,"Supports SSH-over-LAN in v2->v3 Onion migration

The dynamic logic to accommodate for SSH-over-LAN includes the
""restrict-direct-access"" role, which assumes that Onion Services already
exist on the remote host. That's not the case when migrating from v2 to
v3 Onion services, so let's override the dynamic include logic to
instruct the role *not* to wait for the hostname files to be created.

Later in the playbook, the restrict-direct-access role will run without
the override, fetching back the client auth config that now exists,
since the tor role will also have run by this point."
conorsch,2019-08-21 00:41:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5637a818bf75855df286e2eabb800387759c7bdb,5637a818bf75855df286e2eabb800387759c7bdb,"Updates fail-fast logic for v2 -> v3 transition

Checks that BOTH of the following conditions are NOT true:

  * v3_onion_services=false
  * v3 services exist on remote host

If both are true, that's likely the result of a misconfiguration.
This logic handles the prod use case of v2 enabled, also enabling
v3. It hasn't yet been tested with ssh-over-LAN, we'll likely need to
modify the restrict-direct-access role to accommodate."
conorsch,2019-08-16 22:03:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e0412d74b65b3345b3ea6149c84f4502167f669a,e0412d74b65b3345b3ea6149c84f4502167f669a,"Updates v3 fail-fast logic for admins

We're aiming to fail early if an Admin runs the install action
against a server with v3 configured, but without having run
sdconfig to enable v3 (indicates multiple Admins).

Updated the monstrous filter line to pull out the booleans, then inspect
that list in an assert statement. Seems to be working as expected, will
test with multiple configuration paths prior to squashing.

Better support for ""staging"" scenario, which has v3_onion_services=true,
but enable_ssh_over_tor=false, so mon-staging was failing the check.
Updated to accommodate.

If no onions exist, don't fail: we're about to set them up!"
zenmonkeykstop,2019-08-16 21:38:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a834177fd46367b165f148827be7f48696978b1c,a834177fd46367b165f148827be7f48696978b1c,Updated v3 auth filenames to use .auth_private extension
conorsch,2019-08-15 23:49:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc00d79f3040b5e80cc9b95cdf901aa84cfb7ba6,fc00d79f3040b5e80cc9b95cdf901aa84cfb7ba6,"Don't clobber v3 client auth info

If an instance has multiple Administrators, and one chooses to enable
v3, we should detect that scenario and fail early to avoid destroying
the previously configured client auth info."
conorsch,2019-08-16 17:38:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6057fc8867a6668854dfbff6a6940296430e40bb,6057fc8867a6668854dfbff6a6940296430e40bb,"Updates v3 client-auth templates with final filename

Let's name the v3 client auth info with a compatible filename for use
with the tor services on the Admin Workstation. Simplifies the
tailsconfig logic to move the files, rather than rename them according
to a map."
redshiftzero,2019-08-16 17:33:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/769a05f1cb4fc9ea37773c29526866c57b18bd83,769a05f1cb4fc9ea37773c29526866c57b18bd83,"v3 onions: move v2/v3 default vars to role-level defaults

h/t to @conorsch for pointing this out"
redshiftzero,2019-08-16 16:41:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/261bba6b5894245f53524c19929bc9210e36acdd,261bba6b5894245f53524c19929bc9210e36acdd,v3 onions: update syscheck configuration for new service directories
redshiftzero,2019-08-16 15:25:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fd9da6f50f88733082e59c7811e3e5128f37ad5e,fd9da6f50f88733082e59c7811e3e5128f37ad5e,"v3 onion: remove get_v3_keys, add remaining unit test coverage"
redshiftzero,2019-08-16 14:39:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/728ef386961dcf2d41781e629dcad27942c99cd1,728ef386961dcf2d41781e629dcad27942c99cd1,"ci: bump staging job timeout to 25 minutes

this seems to be timing out a bunch lately in CI, giving it
another 5 minutes"
redshiftzero,2019-08-16 16:49:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/67e09249a740afbab65504aefdbbabf5ccbd591f,67e09249a740afbab65504aefdbbabf5ccbd591f,v3 onions: gitignore new v3 *ths files
conorsch,2019-08-15 23:28:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0248ef03665e32da178a7cead32c44812b133e3b,0248ef03665e32da178a7cead32c44812b133e3b,"Formats v3 client auth files in restrict-direct-access

Implementing suggestion by @zenmonkeykstop, to format the files directly
on the Admin Workstation in the format required for ingestion by the
`tailsconfig` logic in securedrop-admin.

Modified the filename for the journalistv3 service, so that the existing
""if filename ends with '-aths'"" logic will work, as with the SSH
services.

h/t to @redshiftzero for an assist on the Jinja."
redshiftzero,2019-08-15 22:43:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/816fdd8e2b1be43d14d22cedb75b1e1b2044ff62,816fdd8e2b1be43d14d22cedb75b1e1b2044ff62,"v3 onion: fix linting issues, add test for generate_new_v3_keys"
conorsch,2019-08-15 22:13:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78f83faac8dd6a51bdd2ccf89eff7f82627ae94e,78f83faac8dd6a51bdd2ccf89eff7f82627ae94e,"Fixes tor v3 ssh service for Monitor Server

The service name is different for v2/v3 Onion services; the v3 config
was missing the ""v3"" suffix on the end of the service name, causing the
install to fail when writing."
redshiftzero,2019-08-15 22:08:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0399bdcf9ec8f0e34f7d8f1dbc6888f822e7ccbe,0399bdcf9ec8f0e34f7d8f1dbc6888f822e7ccbe,v3 onions: fix testinfra tor tests
conorsch,2019-08-15 21:24:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c11af151d6401b7ef551a3221b0b5540a839663b,c11af151d6401b7ef551a3221b0b5540a839663b,"Makes v3 keygen play nicely with install action

Two changes here. First, we remove the sys.exit() calls inside the v3
keygen logic. Those worked well enough when the script is invoked
directly via the subcommand, but causes the `./securedrop-admin install`
exit to quit before calling out to Ansible. We replace the sys.exit
calls with `return 0`, since the parent function expects an exit code
to be returned, and passes this to the shell.

Second, we stop calling the keygen logic automatically as part of the
install action. If anything, it'd be more appropriate to configure those
values as part of `sdconfig`, but since the generation depends on the
site config already being evaluted (i.e. v3_onion_services=True), we
shouldn't automatically generate keys before inspecting the config."
conorsch,2019-08-15 18:11:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c94d3dab94b8ec61213c807901feabfba6c7b83f,c94d3dab94b8ec61213c807901feabfba6c7b83f,"Supports Python 2 & 3 in v3 keygen logic

The securedrop-admin virtualenv is still py2, but the rest of the
project, including developer env, uses py3. Let's modify just the keygen
logic for v3 URLs to work under both Python 2 & Python 3."
redshiftzero,2019-08-15 18:16:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a866a226aa1150062ec57e5dd4ac3bc854a2aa0e,a866a226aa1150062ec57e5dd4ac3bc854a2aa0e,makefile: update-pip-requirements should also update python 2 requirements
redshiftzero,2019-08-15 16:51:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96497fb9742e1b36aa7289143d2dd0728b01fd6d,96497fb9742e1b36aa7289143d2dd0728b01fd6d,v3 onions: add admin requirements to develop requirements
redshiftzero,2019-08-15 16:45:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9154e9d755c5f2ea3e3319fbc0b664cd5f9ef322,9154e9d755c5f2ea3e3319fbc0b664cd5f9ef322,v3 onions: testinfra updates for test_tor_hidden_services
redshiftzero,2019-08-15 15:51:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/50b21d16568129dac79762f57f1381014c13a54c,50b21d16568129dac79762f57f1381014c13a54c,v3 onions: testinfra - add v3 interfaces to app-staging sdvars
redshiftzero,2019-08-15 15:49:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2dc859ba5c954c080cf5cf7175258efdec8e8567,2dc859ba5c954c080cf5cf7175258efdec8e8567,"v3 onions: testinfra - tor_services duplicated from app-staging

app-staging.yml is what is used in the test_tor_hidden_services tests,
the variables removed in this diff seem to be just unnecessary
duplicated/confusing"
redshiftzero,2019-08-15 15:22:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c1dd65c1f19f9c5c7fda4cb611559a24ac64cf1,6c1dd65c1f19f9c5c7fda4cb611559a24ac64cf1,v3 onions: register restart tor handler after final v3 auth tasks
redshiftzero,2019-08-15 04:08:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd787ce4e29448c729932b0f1a162ed4b0c2c181,dd787ce4e29448c729932b0f1a162ed4b0c2c181,v3 onions: suppress output containing private information using no_log
redshiftzero,2019-08-15 03:59:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b545bc956a32a020ac58b6d1ec4cee0d44416119,b545bc956a32a020ac58b6d1ec4cee0d44416119,"v3 onions: add subcommand, run in ansible task"
redshiftzero,2019-08-15 03:43:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04667112e1c3177aa9d9b0588d06e103740a6a78,04667112e1c3177aa9d9b0588d06e103740a6a78,v3 onions: gitignore v3 JSON file
redshiftzero,2019-08-15 03:12:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f4cad4918ff645f2274786e1bdc1e2888dde5a8b,f4cad4918ff645f2274786e1bdc1e2888dde5a8b,"v3 onions: loop over all Tor services since source is excluded

tor_auth_instances_v3 has no service key, hence why this task was
failing"
redshiftzero,2019-08-14 23:00:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f8225460eff053323cd03f85c84537c5a7e30c29,f8225460eff053323cd03f85c84537c5a7e30c29,v3 onions: set v3_onion_services to True for staging
redshiftzero,2019-08-14 22:58:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb5b30e709b1d62205c130197e374f5fca914c32,eb5b30e709b1d62205c130197e374f5fca914c32,v3 onions: move onion services default values to group vars
redshiftzero,2019-08-14 22:44:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/440847c982f7f04817cbae7313c130286ec33244,440847c982f7f04817cbae7313c130286ec33244,"v3 onions: use cryptography>=2.7

Strictly only cryptography>=2.5 is required (when the private_bytes
method on the X25519 private key object was added (to load raw 25519 private
keys), but since we are bumping the version of cryptography we'll
go to the most recent version"
redshiftzero,2019-08-14 22:40:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9c323d36b7a72b8fe93a7304ae0e9c22e0798236,9c323d36b7a72b8fe93a7304ae0e9c22e0798236,make: pin pip version (fix bug 4667 due to pip/pip-tools divergence)
redshiftzero,2019-08-14 22:40:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/847f5e613cc664a160d5df08d6deba4e01811e9f,847f5e613cc664a160d5df08d6deba4e01811e9f,v3 onions: remove magic number for removing base32 padding characters
redshiftzero,2019-08-14 21:33:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9c14e02a23b1d86078e942b82323e85a136af8f2,9c14e02a23b1d86078e942b82323e85a136af8f2,v3 onions: remove additional standalone script
kushaldas,2019-08-12 17:43:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/140207d1ae3914ffe65206032b871980e405af77,140207d1ae3914ffe65206032b871980e405af77,"Adds generate-tor-v3-keypairs script

Also adds comment to explain why we need cryptography >= 2.5

This is to generate the key pairs for Tor v3 onion authenticated
services."
conorsch,2019-08-08 18:35:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09749f9f59d4c667ab5383ce6d936f84a7bca59c,09749f9f59d4c667ab5383ce6d936f84a7bca59c,"Terser v3 key munging tasks

Tightens up the logic wrangling Tor v3 Onion keypairs, by reusing logic
for tasks where possible. A number of group_vars already provide insight
into which services should be configured, on v2 or v3, and whether
client auth should be used. Let's reference those vars to apply to the
correct services.

Removes a handful of just-introduced templates from the tor config role,
since the logic for writing the remote files is now at the task level."
conorsch,2019-08-08 21:59:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/50c67d618374d4494e0bacd850eca725974ed7a3,50c67d618374d4494e0bacd850eca725974ed7a3,"Uses more explicit var names in v3 keygen

The per-service vars weren't intuitively explained in the JSON file.
Updated the var names so that their use in the corresponding Ansible
logic is more readable, and less error-prone.

We should move the v3 keygen logic out of securedrop-admin and into
Ansible, since otherwise it will not work in developer environments, or
CI."
kushaldas,2019-08-07 18:51:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/332c6fc30c32303e060a4f39188a4d91aaaca54c,332c6fc30c32303e060a4f39188a4d91aaaca54c,Fixes code formatting for flake8 and yaml
kushaldas,2019-08-07 18:41:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f5f93410306e711dcc4f76219811cfb16e769e8,2f5f93410306e711dcc4f76219811cfb16e769e8,Updates cryptography to 2.7 for Tor key pair generation
kushaldas,2019-08-07 18:34:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d7856a8d854ab64b799452a3ddb1a837918a7a88,d7856a8d854ab64b799452a3ddb1a837918a7a88,Gernarates 3 different keysets and saves them accordingly
kushaldas,2019-08-07 18:31:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b3ff1b233560827beee6c3519a7c7acdc43cccb,8b3ff1b233560827beee6c3519a7c7acdc43cccb,Creates 3 keys for the install command
kushaldas,2019-08-01 17:00:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5769b5ff6e173d8ba84084af68e56fa90414f7ac,5769b5ff6e173d8ba84084af68e56fa90414f7ac,"Adds proper v3 services for source,journalist and ssh

It also fetches the public and private key from the server if already
available and saves as `tor_v3secret_keys.json`."
kushaldas,2019-08-01 16:59:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0921ca696efc85f36395bf60c743b9cbe0605f24,0921ca696efc85f36395bf60c743b9cbe0605f24,Marks only v2 service based tasks
kushaldas,2019-07-30 19:59:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b5eaabec96e069a0869c6261b4f3e10fe46698d,3b5eaabec96e069a0869c6261b4f3e10fe46698d,Updates with tor v3 files
kushaldas,2019-07-30 19:58:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2c62b811412255818625dab39f740079ef953755,2c62b811412255818625dab39f740079ef953755,Adds the initial ansible role update for v3 onion addresses
kushaldas,2019-07-30 19:56:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5eaa63ed49040a48a9643a576069ae318889e41e,5eaa63ed49040a48a9643a576069ae318889e41e,"Adds generation of v3 onion keys if required

We still have to update the requirements files with a future
commit. Requires cryptography >=2.5"
kushaldas,2019-07-30 19:52:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c433e14d76b860cf891f9be4ed27da1293f7373e,c433e14d76b860cf891f9be4ed27da1293f7373e,Adds group_vars for tor v3 onion services
eloquence,2019-08-21 21:13:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac0495bb29ec6410cc40b976eddd1e5c3156de2a,ac0495bb29ec6410cc40b976eddd1e5c3156de2a,"sshguard main site down; point to git repo

(cherry picked from commit aa2a6d98b056e827a3b5525772998aa60f7db434)"
eloquence,2019-08-21 19:40:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2e9eace1243e82fcc20055e87b4c100202530121,2e9eace1243e82fcc20055e87b4c100202530121,"Fix path to requirements.txt for docs-linkcheck CI job

Resolves #4671"
redshiftzero,2019-08-21 20:22:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e57766da4346b85891b5902db1943b9df4e0fd99,e57766da4346b85891b5902db1943b9df4e0fd99,"securedrop-config: remove function setting HiddenServiceVersion

For new installs that wish to use v2, the HiddenServiceVersion
will be set via the torrc template in the tor-hidden-services
Ansible role.

For existing installs that still wish to use v2, if they have
updated to Xenial, then they already have this HiddenServiceVersion
set to 2 in their existing torrc. Installs _not_ on Xenial
are no longer supported."
redshiftzero,2019-08-21 19:38:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a9087a2d42f2cb6a645adbb6d09f204739c4a5eb,a9087a2d42f2cb6a645adbb6d09f204739c4a5eb,"Merge pull request #4665 from rmol/4379-update-urllib3

Update urllib3 to 1.25.3"
rmol,2019-08-21 14:34:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/53d0e7b68f932d445dd49f7dfaa9167b93fc5f18,53d0e7b68f932d445dd49f7dfaa9167b93fc5f18,Update to pip-tools 4.0.0 everywhere
rmol,2019-08-09 20:57:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2d3cf5b1c53dfd7c4e71f9a46cab0a6940f10a2f,2d3cf5b1c53dfd7c4e71f9a46cab0a6940f10a2f,"Update urllib3 to 1.25.3

Admin also needed pip-tools==4.0.0 to work with pip>=19.2, which is
added to the bootstrapped virtualenv."
redshiftzero,2019-08-20 19:40:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97481ebaa3698c2caa560ec1aa8a4665c96db848,97481ebaa3698c2caa560ec1aa8a4665c96db848,"Merge pull request #4673 from freedomofpress/docs-remove-obsolete-tails-guide

Remove obsolete and redundant Tails Guide"
eloquence,2019-08-19 22:06:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c8beedfa9b96f9fa5414e05b472348f84c15560,1c8beedfa9b96f9fa5414e05b472348f84c15560,Clarify initialization of KeePassX database on Journalist Workstation
eloquence,2019-08-15 22:34:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/963b99208927b946ae13c11b92d214aa57423a63,963b99208927b946ae13c11b92d214aa57423a63,"Remove obsolete and redundant Tails Guide

This guide was written with Tails 2 in mind (e.g., it refers to the
old greeter screen), and does not instruct the user to perform proper
verification steps when checking out the SecureDrop codebase. It is
redundant with instructions elsewhere in the docs.

Resolves #4566"
conorsch,2019-08-20 00:01:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7846e85627cc7773d1177cc831b01dbfba6c5ff9,7846e85627cc7773d1177cc831b01dbfba6c5ff9,"Merge pull request #4680 from freedomofpress/enchant-ci

CI: update apt lists for installing enchant"
conorsch,2019-08-19 18:08:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/769f1d4b63be60a986fbd5cd3d79d952cf49a95f,769f1d4b63be60a986fbd5cd3d79d952cf49a95f,"CI: update apt lists for installing enchant

Recent CI runs have failed to locate a package called ""enchant"", which
likely indicates that the apt lists are out of date, whether due to
docker layer caching or some other factor. Let's ensure the lists
are always up to date when that step is run.

(cherry picked from commit 223626ef63e3b6fef5f483f5ff55d30cadd0b455)"
emkll,2019-08-15 14:46:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9af7898c69caa8f265ee12a122c3ea2921ceff98,9af7898c69caa8f265ee12a122c3ea2921ceff98,"Merge pull request #4634 from freedomofpress/logo-and-color-refresh-2019

Design updates for SecureDrop 1.0.0, rev1"
eloquence,2019-08-14 20:26:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0cc9bc7740243a2c85411040d3b6530bead37130,0cc9bc7740243a2c85411040d3b6530bead37130,"Add .upper class and use it for text transformation to minimize i18n churn

Towards #1587"
eloquence,2019-08-10 00:36:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/064de4aa81a08e9735d6c02c5549a5b9f291cf0f,064de4aa81a08e9735d6c02c5549a5b9f291cf0f,"Final logo rev (color tweaks, better keyhole cutout)"
eloquence,2019-07-31 22:53:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68fd7b39fe9c68fbaa511d965ce5a0689e9d995b,68fd7b39fe9c68fbaa511d965ce5a0689e9d995b,"Update functional tests for submit buttons

We are no longer changing icon hover state, so it's not useful to
continue to test for it."
eloquence,2019-07-19 22:42:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85ddc31b85babc98198eeb84f2ee58dd1f27b078,85ddc31b85babc98198eeb84f2ee58dd1f27b078,"Design updates for SecureDrop 1.0.0, rev1

Updates colors throughout to a new ""SecureDrop Blue"" and a darker
""Grimace Blue"", a new ""danger"" color, and blue gradients on the
index page; updates the favicon and the default logo.

Resolves #4500
Resolves #4501
Resolves #4502
Resolves #4503

Additional tweaks chiefly agreed upon with Nina Alter (@ninavizz)
during pair development:

Global:
- Removal of some button icons that did not disambiguate meaning
- Tweaks to default button letter spacing, font weight
- Pick headline color that fits with new overall theme
- Ensure consistent use of headline levels
- Removed unused colors, styles, icons
- More careful spacing between icons and text on buttons
- Consistent use of upper case on large buttons

Source Interface:
- New trashcan icon for deleting replies
- Flipped order of introductory text on submit page by importance

Journalist Interface:
- Restyled timestamps, ""0 docs, 1 message"" type counters to be
  less easily confused with buttons
- Restyled ""Select all"" type buttons to not have checkbox icons
  on them, to ensure they're not confused with actual checkboxes
- Added spacing between Select buttons and other actions, to
  make logical distinction more obvious
- Removed download icon from each table row, as it did not convey
  sufficient meaning to justify keeping it
- Removed ""Reply"" icon from Reply headline, and left-aligned it,
  for consistency with other headlines
- Made textbox the same width as the table above it, and removed
  fixed column width, to ensure proper scaling across viewport
  sizes
- Right-aligned ""Submit"" button consistent with other forms
- Removed hover from ""X"" of modals, as it did not really add
  value here

Admin Interface:
- Made it more obvious when the Delete icon is disabled

Out of scope for this rev:
- String changes
- Typography changes
- Docs screenshot updates (will be done after final rev)"
kushaldas,2019-08-09 16:52:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de8cbcf66e86164b7a386858d717ea3ac58d9c6d,de8cbcf66e86164b7a386858d717ea3ac58d9c6d,"Merge pull request #4661 from freedomofpress/4658-update-tor-to-0.4.x

Bumps tor version 0.3.5.8 -> 0.4.0.5"
conorsch,2019-08-07 23:30:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b62e3e28fe821a1ee119dce70cd0ef86250db1ae,b62e3e28fe821a1ee119dce70cd0ef86250db1ae,"Merge pull request #4644 from egypcio/hidden-to-onion-service

replace ""hidden service"" occurrences"
conorsch,2019-08-07 18:52:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0cbd30b6a172c1b1c4087344a8bcf00eb99a409e,0cbd30b6a172c1b1c4087344a8bcf00eb99a409e,"Bumps tor version 0.3.5.8 -> 0.4.0.5

Updates the fetch-tor-packages logic to pull in current stable LTS [0]
versions of Tor. The prior 0.3.x versions are no longer available from
upstream tor repo, so they cannot be fetched.

Includes updates to test vars, as well.

[0] https://trac.torproject.org/projects/tor/wiki/org/teams/NetworkTeam/CoreTorReleases"
egypcio,2019-08-01 09:56:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/002ee44bea33f9c84b1a03db40b9a3d8dfdfafdf,002ee44bea33f9c84b1a03db40b9a3d8dfdfafdf,fix #4644; reverting remaining '.po' files
egypcio,2019-08-01 09:51:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/61cb8741af968be777b4134a9f216d9008e466a4,61cb8741af968be777b4134a9f216d9008e466a4,fix #4644; visiting stuff under securedrop/translations/*
egypcio,2019-08-01 09:37:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/05cdd071e1333bda37259c8347d9c48cd0c1a604,05cdd071e1333bda37259c8347d9c48cd0c1a604,fix #4644; reverting changed '.po' files under securedrop/tests/i18n/securedrop/translations
egypcio,2019-07-25 14:02:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/998fb7f3f383d09ff31a6d8a7ebcae6a65a8cfed,998fb7f3f383d09ff31a6d8a7ebcae6a65a8cfed,Ansible; roles/restrict-direct-access/* -> Onion Service
egypcio,2019-07-25 14:00:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9466ea002c3c0921b5040faffe1cf327eb9d8596,9466ea002c3c0921b5040faffe1cf327eb9d8596,service$ -> Onion Service; docs/*
egypcio,2019-07-25 13:56:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d179a9f47f1433cab14b6632bccafbe385794c9,0d179a9f47f1433cab14b6632bccafbe385794c9,"again, checking and replacing a few more 'hidden service' (singular) cases."
egypcio,2019-07-25 13:54:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/deff64b935be7236a194c088f60c690f5c17b525,deff64b935be7236a194c088f60c690f5c17b525,"reviewing 'service' (singular) occurrences under docs/* for ""hidden service"""
egypcio,2019-07-25 13:47:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17956064cdb196b0cd8725be85aa877526ce5a5b,17956064cdb196b0cd8725be85aa877526ce5a5b,'s/hidden services/Onion Services/g' tails_files/torrc_additions
egypcio,2019-07-25 13:44:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f99522b207d694e37655f24565344c58132fc65,4f99522b207d694e37655f24565344c58132fc65,sed ran again under molecule/testinfra/staging/app/; 'hidden services' becomes 'Onion Services'
egypcio,2019-07-25 13:44:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b13797818754f2dbaa4d5fb697a2b6a5b864a0c,3b13797818754f2dbaa4d5fb697a2b6a5b864a0c,replacing 'hidden services' on Vagrant relevant stuff
egypcio,2019-07-25 13:43:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fcd663b8e5bbc32601ece889325ab619d117975e,fcd663b8e5bbc32601ece889325ab619d117975e,Ansible; sync modification on roles to the group vars
egypcio,2019-07-25 13:42:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/35b21659669cc950af8558082bca87f3934241d3,35b21659669cc950af8558082bca87f3934241d3,replacing 'hidden services' on Ansible Roles
egypcio,2019-07-25 13:41:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1db7a66e31ac83b895143242c46907eeba17680d,1db7a66e31ac83b895143242c46907eeba17680d,revisiting docs/* to search and replace 'hidden services' -> Onion Services
egypcio,2019-07-25 13:37:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/db557d2c90a42c13d63d565e7d59c08995a690a3,db557d2c90a42c13d63d565e7d59c08995a690a3,'s/Hidden Services/Onion Services/g' on ansible's base
egypcio,2019-07-25 13:35:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/836dc4ec1c427b655e66d538acc168fcf8863a8a,836dc4ec1c427b655e66d538acc168fcf8863a8a,'s/Hidden Services/Onion Services/g' on test_tor_hidden_services.py
egypcio,2019-07-25 13:33:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d45368a54ab1f535c6dc4be6facad03f3b508df6,d45368a54ab1f535c6dc4be6facad03f3b508df6,'s/Hidden Services/Onion Services/g' inside docs/*
egypcio,2019-07-25 13:31:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/53817aa1699ff73717ea081d192b4dd4faeff7d2,53817aa1699ff73717ea081d192b4dd4faeff7d2,'s/Hidden Services/Onion Services/g' inside /securedrop/*
redshiftzero,2019-08-01 21:30:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20cbd52cb40ce1cef09407f81fc338bf6765aaf9,20cbd52cb40ce1cef09407f81fc338bf6765aaf9,"Merge pull request #4654 from freedomofpress/fix-select-unread

Assign unread checkbox class only to unread submissions"
redshiftzero,2019-08-01 20:02:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/74170cb45dd06a9ce1f2656a612560b2639106c0,74170cb45dd06a9ce1f2656a612560b2639106c0,"Merge pull request #4655 from freedomofpress/remove-unused-override

Remove unused tor_apt_repo_url override"
eloquence,2019-07-31 19:03:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f2ff4b0b43d7ebd41658899422bca3bcd16b35e3,f2ff4b0b43d7ebd41658899422bca3bcd16b35e3,"Remove unused tor_apt_repo_url override

This was overlooked in the migration away from tor-apt.freedom.press
in #4080. It's harmless but unnecessary and potentially confusing."
kushaldas,2019-07-31 17:13:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff95b5593ee400ed9cec8dcb694d8fd463062af3,ff95b5593ee400ed9cec8dcb694d8fd463062af3,"Merge pull request #4622 from rmol/dh-virtualenv-mod-wsgi

Create securedrop-app-code package with dh-virtualenv and mod_wsgi"
kushaldas,2019-07-31 05:34:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a940689a42fc5b9299070aa94a19773de856262,8a940689a42fc5b9299070aa94a19773de856262,"Merge pull request #4651 from freedomofpress/docs-no-trouble

Remove printer troubleshooting guide from 2015"
eloquence,2019-07-30 22:32:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/74df0e265f35560456973f8e460640fa9e0d98a6,74df0e265f35560456973f8e460640fa9e0d98a6,"Assign unread checkbox class only to unread submissions

This is required to ensure the ""Select unread"" feature works
correctly.

Resolves #4653"
rmol,2019-07-25 19:39:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c25664c42602c85d975dace2d50aa415bf067c6,6c25664c42602c85d975dace2d50aa415bf067c6,"Move rq worker supervisor config

The supervisor configuration for our rq worker has been done in the
installation playbook. With dh-virtualenv rq is being installed in a
different location, so it makes sense for the supervisor configuration
to happen when the securedrop-app-code package is installed."
rmol,2019-07-03 14:45:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c4c2dd5184398b1448d269348d91c6de0b040e5f,c4c2dd5184398b1448d269348d91c6de0b040e5f,"Create securedrop-app-code package with dh-virtualenv and mod_wsgi

Building on https://github.com/freedomofpress/securedrop/pull/4555,
change the Debian packaging of securedrop-app-code to use
dh-virtualenv, allowing us to embed mod_wsgi in the package.

This means we don't have to include wheels and pip install them during
postinst. Not requiring python3-pip, which isn't available in the apt
repositories in /etc/apt/security.list, means upgrading to Python 3 is
going to be smoother.

The securedrop-app-code Debian package now Conflicts/Replaces
libapache2-mod-wsgi. It will be removed when this new package is
installed.

This requires updates to the builder Docker image, so I've made
changes under molecule/builder-xenial to support building the Debian
packages with a local image.

Noting for future removal: this includes a workaround for
https://github.com/lepture/flask-wtf/issues/275 -- after upgrading
from Python 2 to Python 3, any existing session's csrf_token value
will be retrieved as bytes, causing a TypeError. This simple fix,
deleting the existing token, was suggested in the issue comments. This
code will be safe to remove after Python 2 reaches EOL in 2020, and no
supported SecureDrop installations can still have this problem."
kushaldas,2019-06-26 17:19:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2714b39c99b9e609f38dab737bb7502dbb7efc46,2714b39c99b9e609f38dab737bb7502dbb7efc46,"Adds debian directory for packaing

This needs to be moved to a better location
for our existing build commands. We will also have to fix the
configuration file marking the debian/* files."
kushaldas,2019-06-26 17:12:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8543105737984d337ba1b331bb088d910dd9e677,8543105737984d337ba1b331bb088d910dd9e677,files required to create a source tarball release of securedrop-app-code
emkll,2019-07-30 15:10:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5eaad3b04074729a04350471e2ed94205e8e3c68,5eaad3b04074729a04350471e2ed94205e8e3c68,"Merge pull request #4648 from freedomofpress/the_future_is_v3

Fixes #4627 Adds v2 and v3 onion service variables"
eloquence,2019-07-29 23:45:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/19fdade7362f9ef55f028411ce42d181bb00273a,19fdade7362f9ef55f028411ce42d181bb00273a,"Remove printer troubleshooting guide from 2015

Print dialogs have changed in Tails 3 series, and these
troubleshooting options are no longer available. Troubleshooting
printers in Tails 3 or Tails 4 (expected soon) will require
a different procedure.

Resolves #4645"
emkll,2019-07-29 21:38:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/11958e2ed0f8771070434446625679a61930f3bb,11958e2ed0f8771070434446625679a61930f3bb,"Merge pull request #4643 from rmol/fix-flask-sqlalchemy-warnings

Eliminate Flask-SQLAlchemy deprecation warnings"
rmol,2019-07-24 21:23:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ccef23f8f63fd9a147754b91fc955a42e23fc32,7ccef23f8f63fd9a147754b91fc955a42e23fc32,"Eliminate Flask-SQLAlchemy deprecation warnings

Replace ""Binary"" with ""LargeBinary"" in securedrop/models.py. This
eliminates ""SADeprecationWarning: The Binary class is deprecated and
will be removed in a future relase. Please use LargeBinary.""

Update Flask-SQLAlchemy to 2.4.0 from 2.3.2, eliminating the following
warnings:

- ""SADeprecationWarning: The create_engine.convert_unicode parameter
  and corresponding dialect-level parameters are deprecated, and will
  be removed in a future release.  Modern DBAPIs support Python
  Unicode natively and this parameter is unnecessary.""

- ""SADeprecationWarning: Use .persist_selectable"""
kushaldas,2019-07-26 12:28:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f795092de212dc0b0da50a655b75a74cac2e91bd,f795092de212dc0b0da50a655b75a74cac2e91bd,"Fixes #4627 Adds v2 and v3 onion service variables

Also adds 3 test cases for the same."
zenmonkeykstop,2019-07-25 20:08:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37347bb8b0c8bcb863054d895c4cd64ca1cc6975,37347bb8b0c8bcb863054d895c4cd64ca1cc6975,"Merge pull request #4638 from freedomofpress/copyrights-are-forever

Update copyright dates"
zenmonkeykstop,2019-07-25 19:07:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e490540bdf9e078c06f1f1e909375828cb2e51ca,e490540bdf9e078c06f1f1e909375828cb2e51ca,"Merge pull request #4636 from freedomofpress/4626-tor-check-weekly

CI: move fetch-tor-debs job to weekly"
eloquence,2019-07-24 01:09:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/74094b93af74e750bddddfaf8bf710fd9378d667,74094b93af74e750bddddfaf8bf710fd9378d667,"Update copyright dates

(First year specified should be first year of publication)"
emkll,2019-07-22 17:45:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/edbc321eb99154b4ee48d3b5e99cadd483d70050,edbc321eb99154b4ee48d3b5e99cadd483d70050,"CI: move fetch-tor-debs job to weekly

deb.torproject.org no longer mirrors 3.5.x xenial packages, causing the fetch-tor-debs target to fail. Since we will be remaining on the 3.5.x series since it will outlive 4.0.x due to its LTS status, we should move this check to weekly as it is expected to fail until a new 3.5.x package is released."
zenmonkeykstop,2019-07-25 18:09:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/62e96ffdb6f1c307ac4b735e5da6dd5661b11ed3,62e96ffdb6f1c307ac4b735e5da6dd5661b11ed3,"Merge pull request #4641 from freedomofpress/xenial-vagrant-20190618-support

Remove old kernels as part of common role and not via grsecurity role"
zenmonkeykstop,2019-07-25 14:27:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a17525b9e5ba2c036b035c353a2ed7d42dc89f52,a17525b9e5ba2c036b035c353a2ed7d42dc89f52,"Merge pull request #4607 from rmol/fix-list-translators

Fix i18n_tool's list-translators function"
emkll,2019-07-24 19:12:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b0ccdc5e7f8d774799d0fe043c3b2bd7907926a3,b0ccdc5e7f8d774799d0fe043c3b2bd7907926a3,"Remove old kernels as part of common role

This was initially done as part of the  grsecurity role

The removal must be done before installing holding tor, as if there are packages to be autoremoved, the tor hold talk will fail."
emkll,2019-07-16 18:25:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0dec74fa0313139f794ad6eafc0eb67ae64190c2,0dec74fa0313139f794ad6eafc0eb67ae64190c2,"Merge pull request #4592 from freedomofpress/ci-crank-dat-parallelism

ci: export junit XML test metadata"
emkll,2019-07-16 14:20:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4448d87753a40ebed364ffc87d0d6f4351cfe848,4448d87753a40ebed364ffc87d0d6f4351cfe848,"Merge pull request #4567 from freedomofpress/docs-journalist-guide-tails-updates

Update screenshots and instructions in Journalist Guide"
eloquence,2019-06-29 01:16:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5247caa949bdc1eb66e916b0447124e77357c6fd,5247caa949bdc1eb66e916b0447124e77357c6fd,"Update screenshots and instructions in Journalist Guide

- Updated all Tails screenshots
- Clarified Tor Browser behavior for folder access
- Explained file name extraction issue with gzip files
- More pragmatic and consistent recommendation for GPG usage
- Added a section explaining folder hierarchy
- Added a section explaining risks of photographing documents
- Expanded on malware warnings
- Various smaller fixes"
zenmonkeykstop,2019-07-15 20:46:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7450365522f9e4e807ba627f717f14ca9894c8e0,7450365522f9e4e807ba627f717f14ca9894c8e0,"Merge pull request #4606 from freedomofpress/remove-lingering-club-refs

Removed .club references in .desktop translations"
zenmonkeykstop,2019-07-15 20:41:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/92752e3ddd0ae7eabfdf5454bf53ed303df0e346,92752e3ddd0ae7eabfdf5454bf53ed303df0e346,"Merge pull request #4608 from rmol/rerun-tests

Added pytest flaky plugin."
zenmonkeykstop,2019-07-15 16:03:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5d06e4de9bd039775a9bb1d5fc3ae1341c427382,5d06e4de9bd039775a9bb1d5fc3ae1341c427382,"Merge pull request #4617 from freedomofpress/upgrade-boxes-0.14.0

Upgraded upgrade scenario boxes for SecureDrop 0.14.0"
emkll,2019-07-11 16:31:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/84e46076c30897cd67e6e7eb84df292b429f3e07,84e46076c30897cd67e6e7eb84df292b429f3e07,Provide upgrade box URLs for SecureDrop 0.14.0
zenmonkeykstop,2019-07-14 16:36:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a99011a190e2b9919d01ccebb915e6f5c5bc50be,a99011a190e2b9919d01ccebb915e6f5c5bc50be,"Merge pull request #4616 from freedomofpress/add-changelog-commits-0.14.0

Added changelog commits from 0.14.0"
emkll,2019-07-11 17:41:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c8af94c22a2bc5573aef2cc19123957efa679cf,0c8af94c22a2bc5573aef2cc19123957efa679cf,SecureDrop 1.0.0~rc1
redshiftzero,2019-07-10 21:15:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/462e65848ddf1850101a8256e04984b2cb444ae7,462e65848ddf1850101a8256e04984b2cb444ae7,"changelog: remove rc entries

This was accidentally left in the 0.14.0 final release. Its presence should
cause no issues, but we should remove to prevent confusion for the next cycle."
emkll,2019-07-10 15:19:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2de6acc714b270cb1c2dd85a8b33939eb78692ba,2de6acc714b270cb1c2dd85a8b33939eb78692ba,"SecureDrop 0.14.0

(cherry picked from commit 5aa055f79dd5c5a0be1479d0366c28029a1f2064)"
creviera,2019-07-03 23:54:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8179093bbf368ac3426a620349ec68902367e91,a8179093bbf368ac3426a620349ec68902367e91,"SecureDrop 0.14.0~rc2

(cherry picked from commit c00b3b026905155ff154dbb4a5ff7e646c6a241e)"
redshiftzero,2019-06-26 18:43:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0f985747064508636dbf61a0d4a99b758f99c8a,f0f985747064508636dbf61a0d4a99b758f99c8a,"SecureDrop 0.14.0~rc1

(cherry picked from commit 0e6c0bc784917d3ff819220f6864579b3977688e)"
emkll,2019-07-11 14:51:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5edf3b08fb6d81bcb2859efe848cccd232a6076d,5edf3b08fb6d81bcb2859efe848cccd232a6076d,"Merge pull request #4522 from zenmonkeykstop/4266-docs-rebuild-workstation

Added workstation rebuild docs"
conorsch,2019-07-11 14:18:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/736fbaea964a54a92bced648d7a2a7e04dc4d320,736fbaea964a54a92bced648d7a2a7e04dc4d320,"Merge pull request #4612 from freedomofpress/fix-update_version

Fix update_version.sh"
zenmonkeykstop,2019-06-19 00:40:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dec4c7f915db3f7af542d741b89228e743292407,dec4c7f915db3f7af542d741b89228e743292407,added securedrop-admin command to reset admin SSH access.
rmol,2019-07-09 23:08:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fd5a27fd13f5c4951d7cd30b49238e74b51b0718,fd5a27fd13f5c4951d7cd30b49238e74b51b0718,"Fix i18n_tool's list-translators function

I needed to update it for my change to the commit format at 0.13.0,
and the commit range examined for recent contributions needed to be
improved to look until the last sync from Weblate."
redshiftzero,2019-07-09 22:50:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9ce2eca63d7c4b00674cc80da8b3c9e1e2f62e7b,9ce2eca63d7c4b00674cc80da8b3c9e1e2f62e7b,remove .club references in .desktop translations
rmol,2019-07-09 20:08:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4495ee0cea934ac6d2e240f8b622b7f41d362d70,4495ee0cea934ac6d2e240f8b622b7f41d362d70,"Add flaky plugin for pytest.

The flaky plugin automatically retries failed tests. It seems to solve
our problems with Selenium in the functional tests very well. I also
looked at pytest-rerunfailures, but it has explicit warnings that it
cannot be used with class-, module-, or package-level fixtures, which
we are trying to move toward."
rmol,2019-07-02 22:49:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3d3b670bc1bbbfb2ccc53fd12bc691be4c796179,3d3b670bc1bbbfb2ccc53fd12bc691be4c796179,"Fix pytest complaint about test_alembic

We were calling the alembic_config fixture directly to get a new
config for the database to be migrated. Pytest is now forbidding
calling fixtures directly, so just remove the database before creating
it again and migrating."
emkll,2019-07-10 14:55:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e7cb7732f45def257245d760b150421bdc21ebe,1e7cb7732f45def257245d760b150421bdc21ebe,"Fix update_version.sh

update_version.sh was attempting to bump strings in files that no longer exist."
emkll,2019-07-10 20:47:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/778e3703bfb4a2bd42acd6d44ed7d6cf6a5df291,778e3703bfb4a2bd42acd6d44ed7d6cf6a5df291,"Merge pull request #4615 from freedomofpress/revert-scroll-into-view-safe-click

Revert ""Fixes safe click for localized languages"""
zenmonkeykstop,2019-05-14 13:44:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ff49e2ea0cc750106900dd5b8d163bd54b0d038,6ff49e2ea0cc750106900dd5b8d163bd54b0d038,Added workstation rebuild docs
redshiftzero,2019-07-10 17:21:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/02f456871064794655a3bbc317a8be33dda6bc86,02f456871064794655a3bbc317a8be33dda6bc86,test: add back location_once_scrolled_into_view in safe click
redshiftzero,2019-07-10 16:31:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ca538a6f3119561f4bf7ee10bb05dd680efa6f6,7ca538a6f3119561f4bf7ee10bb05dd680efa6f6,"Revert ""Fixes safe click for localized languages""

This reverts commit 39acd2d4e88f13d84263d59fc7c1abd6fcfdcc90."
emkll,2019-07-10 12:36:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8c95aa3c57bfe2d6b3815fcfe8381514814ca5a1,8c95aa3c57bfe2d6b3815fcfe8381514814ca5a1,"Merge pull request #4605 from freedomofpress/docs-0131-to-0140-upgrade-guide

Add 0.13.1->0.14.0 upgrade guide"
redshiftzero,2019-07-09 22:45:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b887e8c1e56ae681031bc51a57e3702062ab4b5b,b887e8c1e56ae681031bc51a57e3702062ab4b5b,"Merge pull request #4600 from rmol/i18n-merge-0.14.0

Update translations for 0.14.0"
eloquence,2019-07-09 22:26:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/accfd154e337fcd3d30a54d60033dfde713b5489,accfd154e337fcd3d30a54d60033dfde713b5489,"Add 0.13.1->0.14.0 upgrade guide

This instructs admins to perform a manual workstation update, using
the keys.openpgp.org keyserver."
zenmonkeykstop,2019-07-09 20:25:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb7a36866163b619368280b8dffcea75180d8a98,eb7a36866163b619368280b8dffcea75180d8a98,"Merge pull request #4597 from nightwarrior-xxx/remove-units

Removed units from dimension attributes in image tags in Source Interface HTML templates."
redshiftzero,2019-07-09 18:45:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b1bea49b718d71881b2e6790019c33bd9df1c088,b1bea49b718d71881b2e6790019c33bd9df1c088,"Merge pull request #4601 from freedomofpress/update-builder-20190709

Update builder image"
emkll,2019-07-09 16:53:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e33e2b76862c0927eefccec5e5d18fe63d13968b,e33e2b76862c0927eefccec5e5d18fe63d13968b,"Fix CI failures:

- Fix typo in Makefile
- Add build-essential to resolve failures with deb-test ci target (see https://circleci.com/gh/freedomofpress/securedrop/30769)
- Add fix for click (see https://circleci.com/gh/freedomofpress/securedrop/30776)"
emkll,2019-07-09 16:40:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0cbf8f414d3bac6b4c41d10b69c44e0287c09c5b,0cbf8f414d3bac6b4c41d10b69c44e0287c09c5b,"Update builder image

Builder image needed security updates"
kushaldas,2019-07-09 14:15:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39acd2d4e88f13d84263d59fc7c1abd6fcfdcc90,39acd2d4e88f13d84263d59fc7c1abd6fcfdcc90,Fixes safe click for localized languages
rmol,2019-07-09 03:01:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/633736a44a91055ffe00b945921cfb042f664bb0,633736a44a91055ffe00b945921cfb042f664bb0,Update update-user-guides Makefile target
rmol,2019-07-09 02:11:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bdf7fb834532f714281dc53e58b7d57dda155647,bdf7fb834532f714281dc53e58b7d57dda155647,"l10n: updated Swedish (sv)

contributors:
  rmol

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: 8a213b8259bc514381e5d1076d52b77211364e00"
rmol,2019-07-09 00:18:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27c4d73c421a8d3192f0cc2af137a3dc59435736,27c4d73c421a8d3192f0cc2af137a3dc59435736,"l10n: updated Chinese, Traditional (zh_Hant)

contributors:
  Allan Nordhy

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: 6c8324f403100c5adbd58387ff6233a6cb39f967"
rmol,2019-07-09 00:18:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3210ac0b4569c060e58da9d1f14edcbbeeb3e930,3210ac0b4569c060e58da9d1f14edcbbeeb3e930,"l10n: updated Turkish (tr)

contributors:
  Volkan

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: 6c8324f403100c5adbd58387ff6233a6cb39f967"
rmol,2019-07-09 00:18:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff48d0da5561c4819d15fbbb0623d889600698eb,ff48d0da5561c4819d15fbbb0623d889600698eb,"l10n: updated Swedish (sv)

contributors:
  Jonas Franzn

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: 6c8324f403100c5adbd58387ff6233a6cb39f967"
rmol,2019-07-09 00:18:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f5b862c588a94bb9a955308f4359fe83bc16c708,f5b862c588a94bb9a955308f4359fe83bc16c708,"l10n: updated Romanian (ro)

contributors:
  rmol

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: 6c8324f403100c5adbd58387ff6233a6cb39f967"
rmol,2019-07-09 00:18:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/edeadf3251b968d5e704cb616450429170d709a0,edeadf3251b968d5e704cb616450429170d709a0,"l10n: updated Portuguese, Brasil (pt_BR)

contributors:
  communiaa

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: 6c8324f403100c5adbd58387ff6233a6cb39f967"
rmol,2019-07-09 00:17:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/25eb778b76a4e9b79e7b4b86f29f54920e149ac0,25eb778b76a4e9b79e7b4b86f29f54920e149ac0,"l10n: updated Dutch (nl)

contributors:
  Allan Nordhy
  Thom

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: 6c8324f403100c5adbd58387ff6233a6cb39f967"
rmol,2019-07-09 00:17:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4716c5f565fab06c4e0a4ca0359737d931319ab5,4716c5f565fab06c4e0a4ca0359737d931319ab5,"l10n: updated Norwegian (nb_NO)

contributors:
  yvind Bye Skille

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: 6c8324f403100c5adbd58387ff6233a6cb39f967"
rmol,2019-07-09 00:17:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/79620702bb61eb0c6cffc07770d2e8daf480aeb9,79620702bb61eb0c6cffc07770d2e8daf480aeb9,"l10n: updated Italian (it_IT)

contributors:
  Claudio Arseni
  rmol

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: 6c8324f403100c5adbd58387ff6233a6cb39f967"
rmol,2019-07-09 00:17:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9749c4554a4be2a66ba90af58cfb4136d3be6e86,9749c4554a4be2a66ba90af58cfb4136d3be6e86,"l10n: updated Icelandic (is)

contributors:
  Oktavia

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: 6c8324f403100c5adbd58387ff6233a6cb39f967"
rmol,2019-07-09 00:17:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/74da582b6f7180c717544b329807922ad5079851,74da582b6f7180c717544b329807922ad5079851,"l10n: updated French (fr_FR)

contributors:
  Allan Nordhy

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: 6c8324f403100c5adbd58387ff6233a6cb39f967"
rmol,2019-07-09 00:17:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/287ea245bb47b2c01c3e93eddd890b4e3ffdd1fb,287ea245bb47b2c01c3e93eddd890b4e3ffdd1fb,"l10n: updated Greek (el)

contributors:
  Allan Nordhy

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: 6c8324f403100c5adbd58387ff6233a6cb39f967"
rmol,2019-07-09 00:17:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/88d560ddd800332fcd71272a83950ce2566ed14f,88d560ddd800332fcd71272a83950ce2566ed14f,"l10n: updated Catalan (ca)

contributors:
  Benet (BennyBeat) R. i Camps

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: 6c8324f403100c5adbd58387ff6233a6cb39f967"
rmol,2019-07-09 00:17:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d90579a78e565517fc00aa10ac82bc0b6f01583,7d90579a78e565517fc00aa10ac82bc0b6f01583,"l10n: updated Arabic (ar)

contributors:
  erinm

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: 6c8324f403100c5adbd58387ff6233a6cb39f967"
redshiftzero,2019-07-03 22:08:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b50abde5eaae7441b0bdf01380a1210f8ddd95e,3b50abde5eaae7441b0bdf01380a1210f8ddd95e,"share test-results folder between host and container

this fixes our junit test output in Circle CI"
rmol,2019-07-08 20:01:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/33bb0a7cca53f57d5c016068327a2044d89c1f1e,33bb0a7cca53f57d5c016068327a2044d89c1f1e,Sync up supported languages in i18n_tool and test config
rmol,2019-07-08 19:32:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/386085a5b28d05267398bf1badab497605701672,386085a5b28d05267398bf1badab497605701672,Compile desktop icon templates to add Catalan
rmol,2019-07-08 19:27:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e53e94e9987fe8e2c81c08b5d2734e99473765d0,e53e94e9987fe8e2c81c08b5d2734e99473765d0,docs: update the list of supported languages
rmol,2019-07-08 19:26:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8058b2baf3d3d0267807f6e0ee0a4dd36b6a158c,8058b2baf3d3d0267807f6e0ee0a4dd36b6a158c,"l10n: updated Chinese, Traditional (zh_Hant)

contributors:
  Chi-Hsun Tsai

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: a91cbebd9e2eccf27405cd3eac7efb0438a23398"
rmol,2019-07-08 19:26:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff848f1e35fb7bf676e5802b0d453a2ca6a3a3a2,ff848f1e35fb7bf676e5802b0d453a2ca6a3a3a2,"l10n: updated Turkish (tr)

contributors:
  Allan Nordhy
  Kaya Zeren
  Orhan
  Volkan

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: a91cbebd9e2eccf27405cd3eac7efb0438a23398"
rmol,2019-07-08 19:26:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d7fd8639f178972cf378952689e8bcfb9b465097,d7fd8639f178972cf378952689e8bcfb9b465097,"l10n: updated Swedish (sv)

contributors:
  A. Nonymous
  Allan Nordhy
  Jonas Franzn

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: a91cbebd9e2eccf27405cd3eac7efb0438a23398"
rmol,2019-07-08 19:26:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9c914faa588b81a419f121cb6a9624471aca3c6,d9c914faa588b81a419f121cb6a9624471aca3c6,"l10n: updated Russian (ru)

contributors:
  Allan Nordhy
  Andrey
  Maria Ovsyannikova

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: a91cbebd9e2eccf27405cd3eac7efb0438a23398"
rmol,2019-07-08 19:26:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec815ae7baf7aeac6d7c5c77fbbdde1ad64af206,ec815ae7baf7aeac6d7c5c77fbbdde1ad64af206,"l10n: updated Romanian (ro)

contributors:
  Andrada Fiscutean
  Jobava

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: a91cbebd9e2eccf27405cd3eac7efb0438a23398"
rmol,2019-07-08 19:26:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4eea03bb32764559eeb27f7d7e5fe0a3ba78bfaf,4eea03bb32764559eeb27f7d7e5fe0a3ba78bfaf,"l10n: updated Portuguese, Brasil (pt_BR)

contributors:
  Allan Nordhy
  Caio Volpato
  Cludio Carvalho
  Erin McConnell
  communiaa

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: a91cbebd9e2eccf27405cd3eac7efb0438a23398"
rmol,2019-07-08 19:25:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fea11ce49e6276e8ac53e75c34922813103f65d1,fea11ce49e6276e8ac53e75c34922813103f65d1,"l10n: updated Dutch (nl)

contributors:
  Allan Nordhy
  Pander
  Thom
  Yarno Ritzen
  kwadronaut

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: a91cbebd9e2eccf27405cd3eac7efb0438a23398"
rmol,2019-07-08 19:25:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/62620c10bd54b1b64e64439f552841905322152b,62620c10bd54b1b64e64439f552841905322152b,"l10n: updated Norwegian (nb_NO)

contributors:
  Allan Nordhy
  yvind Bye Skille

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: a91cbebd9e2eccf27405cd3eac7efb0438a23398"
rmol,2019-07-08 19:25:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7dee80824ecd6bc3a3a160f1ddc635d72fc7ec92,7dee80824ecd6bc3a3a160f1ddc635d72fc7ec92,"l10n: updated Italian (it_IT)

contributors:
  Beatrice Martini
  Claudio Arseni

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: a91cbebd9e2eccf27405cd3eac7efb0438a23398"
rmol,2019-07-08 19:25:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/11f269d8b6d788aec050189a6651226a91f71866,11f269d8b6d788aec050189a6651226a91f71866,"l10n: updated Icelandic (is)

contributors:
  Allan Nordhy
  Oktavia
  Sveinn  Felli

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: a91cbebd9e2eccf27405cd3eac7efb0438a23398"
rmol,2019-07-08 19:25:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a74db89adb11978fad2c51d1a6812ed796806442,a74db89adb11978fad2c51d1a6812ed796806442,"l10n: updated Hindi (hi)

contributors:
  AbhayKaushik
  Muhammad Usman

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: a91cbebd9e2eccf27405cd3eac7efb0438a23398"
rmol,2019-07-08 19:25:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/784c5b1095472fc3c084b543d03d6ecca629cec0,784c5b1095472fc3c084b543d03d6ecca629cec0,"l10n: updated French (fr_FR)

contributors:
  AO
  Alain-Olivier

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: a91cbebd9e2eccf27405cd3eac7efb0438a23398"
rmol,2019-07-08 19:25:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9bd90b0a42baf1a8816981d18240479b9a6c68a4,9bd90b0a42baf1a8816981d18240479b9a6c68a4,"l10n: updated Spanish (es_ES)

contributors:
  Allan Nordhy
  Daniel Arauz
  Zuhualime Akoochimoya

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: a91cbebd9e2eccf27405cd3eac7efb0438a23398"
rmol,2019-07-08 19:25:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b82b74697a3f542e3abdddedb338ce71abf4f65e,b82b74697a3f542e3abdddedb338ce71abf4f65e,"l10n: updated Greek (el)

contributors:
  Adrian
  Dimitris Maroulidis
  Panagiotis Tabakis

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: a91cbebd9e2eccf27405cd3eac7efb0438a23398"
rmol,2019-07-08 19:25:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/02beed125ddc0dc51aebd2a86536ed0e57f97328,02beed125ddc0dc51aebd2a86536ed0e57f97328,"l10n: updated German (de_DE)

contributors:
  Curtis Baltimore
  Robin Schubert
  kwadronaut

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: a91cbebd9e2eccf27405cd3eac7efb0438a23398"
rmol,2019-07-08 19:24:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/50b24cdbb6c78607a17258daacc921b62614df58,50b24cdbb6c78607a17258daacc921b62614df58,"l10n: updated Catalan (ca)

contributors:
  Adolfo Jayme-Barrientos
  Allan Nordhy
  Benet (BennyBeat) R. i Camps
  Carles Figuerola
  Joan Montan

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: a91cbebd9e2eccf27405cd3eac7efb0438a23398"
rmol,2019-07-08 19:24:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e3c45530df944a1cd7f97760fa2588c537291b0d,e3c45530df944a1cd7f97760fa2588c537291b0d,"l10n: updated Arabic (ar)

contributors:
  Ahmad Gharbeia
  ButterflyOfFire
  Erin McConnell
  Thalia Rahme

updated from:
  repo: https://github.com/freedomofpress/securedrop-i18n
  revision: a91cbebd9e2eccf27405cd3eac7efb0438a23398"
redshiftzero,2019-07-08 19:19:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/19de2052d1efb2ac9a41f90d921416d90cc33053,19de2052d1efb2ac9a41f90d921416d90cc33053,"Merge pull request #4599 from rmol/add-catalan

Add Catalan as a supported language."
rmol,2019-07-08 17:31:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37095760ca6d3ee59188b52742cc17228b95bf26,37095760ca6d3ee59188b52742cc17228b95bf26,Add Catalan as a supported language.
kushaldas,2019-07-08 15:32:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87e08286b5e962ea0d92be4738b5aafa1d22a619,87e08286b5e962ea0d92be4738b5aafa1d22a619,"Merge pull request #4596 from zenmonkeykstop/4593-admin-logs-cleanup

Updated logs playbook to clean up unencrypted tarballs"
nightwarrior-xxx,2019-07-08 09:03:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a65a7f8ea2832a2ebffde635c1211b8ae58c2b5,7a65a7f8ea2832a2ebffde635c1211b8ae58c2b5,Remove units from the image tag
zenmonkeykstop,2019-07-07 13:28:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d51530ea09ef34b1b62fdafe649449887cc4316c,d51530ea09ef34b1b62fdafe649449887cc4316c,Updated logs playbook to clean up unencrypted tarballs
zenmonkeykstop,2019-07-07 16:57:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d53ab5caaa1fcce0c8003069480316af11545028,d53ab5caaa1fcce0c8003069480316af11545028,"Merge pull request #4594 from edenemmanuel/4547-remove-outdated-upgrade-docs

Removed outdated upgrade documentation"
edenemmanuel,2019-07-05 00:34:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/50417328fede43f3be144c138e7b2bb471014dd0,50417328fede43f3be144c138e7b2bb471014dd0,"Remove outdated upgrade documentation pre-Xenial

Resolves #4547.

There is a lot of documentation for upgrading SecureDrop instances,
SecureDrop workstations, or the server OS. Most of it is outdated and
unsupported. It's wise to remove them and clean up any references."
kushaldas,2019-07-04 12:14:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/196544b22522f944d001c6f20174806fb90285b7,196544b22522f944d001c6f20174806fb90285b7,"Merge pull request #4588 from nickcannariato/docs/formatting-errors-in-landing-page-docs

fix(docs): Convert misformatted text to subheading(s)"
kushaldas,2019-07-04 12:08:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/41026b88b113d3315afc5b7b99bd348b09d14892,41026b88b113d3315afc5b7b99bd348b09d14892,"Merge pull request #4591 from freedomofpress/fix-flake-4541

reduce failure rate of 2FA admin functional tests"
redshiftzero,2019-07-02 01:01:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/59ebee5790cf79f166784da43920d0b9172c77ad,59ebee5790cf79f166784da43920d0b9172c77ad,test: attempt to make 2FA popups more reliable
redshiftzero,2019-07-03 20:48:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da44c9d3e21c658a51ce5459e8bad721cf09103e,da44c9d3e21c658a51ce5459e8bad721cf09103e,"Merge pull request #4585 from zenmonkeykstop/openpgp-admin-cli-update

Modified CLI update function to use keys.openpgp.org for release key"
nickcannariato,2019-07-03 19:09:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1239ad489f8a38d5df92cdb7bbb06ca4bd41056a,1239ad489f8a38d5df92cdb7bbb06ca4bd41056a,"fix(docs): Convert misformatted text to subheading(s)

fixes #4542"
zenmonkeykstop,2019-07-03 17:51:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ee9b16e39908b1bac9d9aba202eb9a50193a0923,ee9b16e39908b1bac9d9aba202eb9a50193a0923,"Clarified update signature verification logic, added parametrized test"
redshiftzero,2019-07-03 17:01:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/77342b286ded1a7a74814ed27484ed232db67046,77342b286ded1a7a74814ed27484ed232db67046,"Merge pull request #4583 from rmol/fix-container-supervisor

Restore installation of supervisor in Dockerfiles"
zenmonkeykstop,2019-07-02 23:12:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b7d05c6774d4eb6f895e5cc1fab33db58201e3b,3b7d05c6774d4eb6f895e5cc1fab33db58201e3b,Modified update function to use keys.openpgp.org for release key
kushaldas,2019-07-03 08:15:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3584f24265a09ab5c9ecc6b54d557d9190285ea2,3584f24265a09ab5c9ecc6b54d557d9190285ea2,"Merge pull request #4586 from freedomofpress/docs-keys-dot-openpgp-dot-rodeo

Update Admin Workstation setup instructions to use keys.openpgp.org"
eloquence,2019-07-03 05:40:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ebf31d37cdd9cf6ac0abfc4eb6d173a54362258,6ebf31d37cdd9cf6ac0abfc4eb6d173a54362258,"Update Admin Workstation setup instructions to use keys.openpgp.org

Includes instructions for importing the key from securedrop.org
as a fallback (may be superseded by WKD fallback in future)"
rmol,2019-07-02 21:43:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b99894341e00116e17b566f39ca404a7670b595c,b99894341e00116e17b566f39ca404a7670b595c,"Restore installation of supervisor in Dockerfiles

In commit ec2549 I broke the installation of supervisor in the
dev Dockerfiles. This corrects that mistake."
emkll,2019-07-02 17:33:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb55fcd347bb231790c33f16c491500d55e041d0,eb55fcd347bb231790c33f16c491500d55e041d0,"Merge pull request #4576 from freedomofpress/update-keyserver-for-logs-playbook

Update keyserver to keys.openpgp.org for comms key"
redshiftzero,2019-07-02 16:30:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c2a437bb563248a4015d1f86386be449a2beb93,1c2a437bb563248a4015d1f86386be449a2beb93,"Merge pull request #4544 from rmol/4519-py3-dev

Make Python 3 the default for development"
emkll,2019-07-02 15:56:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e128d24d94b3b7cc9fff492b844075cea5de6e9,3e128d24d94b3b7cc9fff492b844075cea5de6e9,"Merge pull request #4578 from freedomofpress/update-securedrop-keyring

update securedrop-keyring to 0.1.3 (bump expiration date to mid 2020, add uid)"
eloquence,2019-07-02 00:07:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5f4025f1a2b1b088f34ff1673909d2c4d022bb94,5f4025f1a2b1b088f34ff1673909d2c4d022bb94,"Update keyserver to keys.openpgp.org for comms key

Part of #4128"
redshiftzero,2019-07-01 23:25:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1febd9ef3f8baff2afa520e422ff64923bcf8ff9,1febd9ef3f8baff2afa520e422ff64923bcf8ff9,"update securedrop-keyring to 0.1.3 (bump expiration date to 2020, add uid)

This new version of the securedrop-keyring package includes an updated
signing public key with an expiration of 2020-06-30 and adds a
uid (securedrop-release-key@freedom.press) which will unblock the distribution
of this key using both WKD and keys.openpgp.org. The binary format in
install_files/securedrop-keyring/etc/apt/trusted.gpg.d/securedrop-keyring.gpg
was generated via:

gpg --no-default-keyring --keyring \
install_files/securedrop-keyring/etc/apt/trusted.gpg.d/securedrop-keyring.gpg \
--import \
install_files/ansible-base/roles/install-fpf-repo/files/fpf-signing-key.pub

Note: the primary uid is set as the existing one (without the uid) such
that the signature verification logic does not need to be updated in the
securedrop-admin CLI."
redshiftzero,2019-07-01 22:49:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/613342e3df7a0fe9b98db740d243ea88704a4f1f,613342e3df7a0fe9b98db740d243ea88704a4f1f,"Merge pull request #4570 from freedomofpress/no-clubs-club

Update remaining references to .club infra"
eloquence,2019-07-01 17:52:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b82dedb0b001401a927773f01b859715e76ba8db,b82dedb0b001401a927773f01b859715e76ba8db,"Update remaining references to .club infra, as those redirects no longer work"
kushaldas,2019-07-01 15:20:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0175b7a98d7ee10289ab5129942e4a074b84e2cd,0175b7a98d7ee10289ab5129942e4a074b84e2cd,"Merge pull request #4563 from rmol/comradekingu-text-fixes

Spelling: two-factor authentication, YubiKey, second one, Reset password"
rmol,2019-06-28 20:50:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f15b2b120ec721534911deb792c7886109280752,f15b2b120ec721534911deb792c7886109280752,Update developer docs for Python 3.
comradekingu,2019-06-26 21:26:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7bfffa05e7232c52e97cf777560111c49666ae88,7bfffa05e7232c52e97cf777560111c49666ae88,"Spelling: two-factor authentication, YubiKey, second one, Reset password"
redshiftzero,2019-06-28 17:01:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/05510805aae7424229247a371a82a57be6cd8850,05510805aae7424229247a371a82a57be6cd8850,"Merge pull request #4557 from freedomofpress/docs-screenshot-updates-round-1

Update SecureDrop screenshots for source, journalist and admin guides"
redshiftzero,2019-06-28 16:56:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/af022d4d8281b033f0ea5aa401d79dc1843af679,af022d4d8281b033f0ea5aa401d79dc1843af679,"Merge pull request #4559 from rmol/tests-screenshots

Get screenshots working -- only use one browser in layout tests"
eloquence,2019-06-28 00:58:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/119e0800f25074de5ff98bbae31a09fa3352bc07,119e0800f25074de5ff98bbae31a09fa3352bc07,Update screenshots in admin guide
rmol,2019-06-27 14:19:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/26c08b8662bc76e5e0f488d3b0d2e81b47647177,26c08b8662bc76e5e0f488d3b0d2e81b47647177,"Makefile: stop installing safety/bandit; improve test-config target.

Installing pip requirements automatically is bad, and fails in the
container, outside of a virtualenv. Instead, if safety or bandit is
not available, request installation.

Also improve the test-config/config.py rules to only build the test
config when necessary."
rmol,2019-05-29 23:22:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85823d29bd65a37bd8360be07416944af459b586,85823d29bd65a37bd8360be07416944af459b586,"Get screenshots working -- only use one browser in layout tests

Somehow having two browsers open in the container resulted in
corrupted screenshots, where all text was tofu (undefined unicode
glyphs)."
eloquence,2019-06-27 05:20:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/88992fde6b15dd8ead1cc97d6f8a8cd831dcd068,88992fde6b15dd8ead1cc97d6f8a8cd831dcd068,"Update SecureDrop screenshots for source and journalist guide

This also includes a correction in the docs that describe a
screenshot, which refers to the ""Exit"" button (it was once briefly
called that, but is now back to ""Log out"")."
rmol,2019-06-25 21:39:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c18743cdb43ad90c0f5f12de93141b95d6261e28,c18743cdb43ad90c0f5f12de93141b95d6261e28,Use pip3 to install safety/bandit
rmol,2019-06-25 19:04:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/804a43e341aba835c32c2b563d06af6882d3131b,804a43e341aba835c32c2b563d06af6882d3131b,Make sure lint has development requirements in the container
rmol,2019-06-25 18:40:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ee3e80ba25b8f9af5b7649a047be20ca504390a2,ee3e80ba25b8f9af5b7649a047be20ca504390a2,Remove automatic virtualenv management
rmol,2019-06-24 19:32:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c1711716ea9d673a5bbce8305d70cfb1bef5bf3c,c1711716ea9d673a5bbce8305d70cfb1bef5bf3c,Revert testinfra locale test to work in CI
rmol,2019-06-24 16:57:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ab9e18a15b1f4adec6900d57df058ead7f4d0a8,7ab9e18a15b1f4adec6900d57df058ead7f4d0a8,Fix file mode assertions in testinfra
rmol,2019-06-21 17:54:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3aaf77f0713eb4b01e58aedc0344261876ea6cc3,3aaf77f0713eb4b01e58aedc0344261876ea6cc3,"Remove a couple more instances of ""set -u"" and virtualenv"
rmol,2019-06-21 17:26:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9dbdbe294ec0606582a3036d9a2540ab5e125c72,9dbdbe294ec0606582a3036d9a2540ab5e125c72,"Use Python 2 in ""make staging"" step of staging-test-with-rebase"
rmol,2019-06-21 15:58:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b7249c3f6985ea71f3779897e0d61eef76e0e39,3b7249c3f6985ea71f3779897e0d61eef76e0e39,"Remove another ""set -u"" that breaks in virtualenv"
rmol,2019-06-21 14:58:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec254954ebe1b8a72bd82f5e1b3e3f16e6fa7520,ec254954ebe1b8a72bd82f5e1b3e3f16e6fa7520,"Compile pip requirements in containers

Added pip-tools to our Ubuntu Dockerfiles, to get requirements
compiled with the Python versions that will be used in production."
rmol,2019-06-21 14:55:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d2efeec21477fb0a5c517ccc8a821c09dccb8799,d2efeec21477fb0a5c517ccc8a821c09dccb8799,"Stop pinning pip version in venv creation

I misunderstood a problem raised in another context; this isn't
necessary."
rmol,2019-06-21 00:39:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/64d1be1f871ae8c487282d9b89030c7e1ff103ad,64d1be1f871ae8c487282d9b89030c7e1ff103ad,Remove unnecessary mypy appeasement
rmol,2019-06-20 22:24:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f257b9210bb0f43505ad432e0540476d6b71a24f,f257b9210bb0f43505ad432e0540476d6b71a24f,Stop removing Docker images
rmol,2019-06-20 21:02:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/abd323b488a09fc2b5e95318bd73deda877990ce,abd323b488a09fc2b5e95318bd73deda877990ce,Have to request Python 2 to get the Docker image named correctly
rmol,2019-06-20 19:15:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a0b29507990c217161694fed6669c65d69b4c1c,4a0b29507990c217161694fed6669c65d69b4c1c,Set LC_ALL=C.UTF-8 for fetch-tor-packages
rmol,2019-06-20 19:00:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/19160728efc50611e2db0282a18b9614720ec1a4,19160728efc50611e2db0282a18b9614720ec1a4,"Fix virtualenv problem in fetch-tor-packages

When run in a non-interactive shell, virtualenv < 16.2 can cause an
error because PS1 is unset. Apparently whatever's in the image used
for fetch-tor-packages is that old."
rmol,2019-06-20 17:56:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e1b4b4918fe61041fd42fb35bb40a6dc15bf1e18,e1b4b4918fe61041fd42fb35bb40a6dc15bf1e18,Python 2 Docker layer caching. Try to fix safety/bandit.
rmol,2019-06-20 14:12:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d8623b2fc144384d83ea2e8516152d7c7c8dade,0d8623b2fc144384d83ea2e8516152d7c7c8dade,"Lint/CI fixes

Make sure lint targets activate the virtualenv as necessary to pick up
pytest, since not everyone will have it somewhere else on the
path. Ahem.

Normalize lint target between Makefiles. Rename some variables in the
top-level Makefile.

Circle's still running the EOL Ubuntu 14.04, which has Python 3.4. We
can run most linters under 3.5 in our 16.04 container, but the
shellcheck package there is too old, so unless we want to run
Docker-in-Docker, we need to run shellcheck in a separate step using a
koalaman image."
rmol,2019-06-11 20:35:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca5a9fac60e901826c9b14938f33d1bc5f9ed255,ca5a9fac60e901826c9b14938f33d1bc5f9ed255,"Make Python 3 the default for development

Make the default .venv Python 3, moving existing Python 2 versions out
of the way if necessary.  Compile and use separate requirements files
for each version, using .venv2 to update the Python 2 requirements.

Add Makefile targets to make it easier to create both virtualenvs;
devops/scripts/boot-strap-venv.sh can now be sourced as before or just
run to create and update the virtualenv.

Merge Makefile and securedrop/Makefile. I've left securedrop/Makefile
in place with targets echoing deprecation warnings, then invoking
their equivalents in the top-level Makefile.

Type linting no longer requires a dedicated virtualenv once we're on
Python 3, so mypy is now part of the normal development requirements.

Switch mypy checking from 2.7 to Python 3.5.

Our Python dependencies also required updates, starting with Molecule,
which didn't support Python 3.5 until 2.20.1, so would have required
us to run a more recent Python 3 for development than we deploy under.

The pip-tools package needed to be updated to work with pip 19.1.1,
which is installed in the new Python 3 virtualenv.

Fix many, many lint errors from lint packages updated for Python 3."
zenmonkeykstop,2019-06-26 21:40:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/82d4cd2687916fe773916a31db7bf1f36fe4744b,82d4cd2687916fe773916a31db7bf1f36fe4744b,"Merge pull request #4546 from rmol/add-safe-send-keys

Added safe send_keys methods to FunctionalTest class and stopped using implicit wait."
emkll,2019-06-26 18:36:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8acb83d66d62cb8800e5e462557da990020f3f2c,8acb83d66d62cb8800e5e462557da990020f3f2c,"Merge pull request #4553 from freedomofpress/tb-version-8.5.3

dockerfiles: Tor Browser to 8.5.3"
redshiftzero,2019-06-26 16:08:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d49e7b05a5b33836324c37ff94767cea4f7f004,9d49e7b05a5b33836324c37ff94767cea4f7f004,dockerfiles: Tor Browser to 8.5.3
zenmonkeykstop,2019-06-26 13:54:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a47438a35998aadebfbd04f0e1fb15e7e502d2ba,a47438a35998aadebfbd04f0e1fb15e7e502d2ba,"Merge pull request #4551 from freedomofpress/mds-disable-smt

Added full MDS mitigations to grsec kernel.
CI - moved docs linkcheck to weekly cron."
zenmonkeykstop,2019-06-25 22:37:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2a5aeb6f002cdd9a15a1c096ce7aff7e81650d8d,2a5aeb6f002cdd9a15a1c096ce7aff7e81650d8d,"Merge pull request #4548 from freedomofpress/upload-icon-redux

Replaced ""Cloud"" upload icon with more neutral one"
emkll,2019-06-25 16:49:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/12449051402b384f8136552f9bde888ad006b62e,12449051402b384f8136552f9bde888ad006b62e,Move docs linkchecking to weekly cron
emkll,2019-06-25 15:54:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc35170dd39b4e1f11f46b0a59456e89ee286e66,bc35170dd39b4e1f11f46b0a59456e89ee286e66,"Add full MDS mitigations

While the new kernels do have MDS mitigations in place, full mitigations are not enabled by default due to the performance implications. setting the grub config options will allow full mitigations to be applied."
eloquence,2019-06-24 23:25:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e69f9fba37e70fec71df195cbb5e989520f22244,e69f9fba37e70fec71df195cbb5e989520f22244,"Replace ""Cloud"" upload icon with more neutral one

Adds rendering rule for the icon to accomplish two things:
- give the icon room to breathe
- force crisp rendering, to render large source image cleanly
  at smaller size (the source PNG is a bit larger than the
  default size to accommodate zooming)

The crisp rendering rule may make sense as a generic rule at a
later point, but so far this seems to be the best candidate
for using it.

The new icon was designed by Nina Alter (@ninavizz) and is not
derived from FontAwesome, hence not in the font-awesome directory.

Resolves #4535"
rmol,2019-06-19 20:36:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3cfbdcac055a11975181b64b4804cb9c6615cec4,3cfbdcac055a11975181b64b4804cb9c6615cec4,"Add safe send_keys methods to FunctionalTest. Stop implicit wait.

Add methods to more reliably send key events to elements. This seems
to have fixed one of the most pernicious flaky tests,
test_journalist_interface_ui_with_modal, allowing removal of the
hideous retry hack that could make the tests take minutes longer.

Use them to replace other usages of send_keys, including some that
have definitely been flaky, though not as bad as that one.

Also simplify the safe_click* methods, as WebDriverWait.until returns
the result of the wait condition, and some of the other element
manipulations were unnecessary, given the expected conditions.

Stop setting a default implicit wait in the web drivers. If an element
might not be present, we should use explicit waits instead of adding
this potential delay to every element-locating call. There's also
ample Selenium folklore that mixing implicit and explicit waits leads
to unpredictable timeouts and possible bad behavior.

Rename _alert_wait and _alert_accept.

Double the timeout in alert_wait. This helped with some timeouts
waiting for confirmation popups."
emkll,2019-06-21 15:00:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0005dc5890e48ad39604b72cb394c9b8a3449cd9,0005dc5890e48ad39604b72cb394c9b8a3449cd9,"Merge pull request #4545 from freedomofpress/upgrade-boxes-for-0.13.1

Adds upgrade testing boxes for 0.13.1"
conorsch,2019-06-20 21:14:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/59feff197f0caca7f1420bc8942eaf338efe9599,59feff197f0caca7f1420bc8942eaf338efe9599,"Docs clarifications on upgrade testing boxes

First, it's a good idea to run `make clean` prior to building the boxes,
because the logic to push to S3 will push all artifacts present in the
`molecule/vagrant-packager/build/` dir. We don't need to resync older
packages, and in fact that could have unintended side-effects.

Second, for point releases, the previous version of an upgrade box will
not be present in the release branch, so conflicts can occur.
Experienced this during box creation for 0.13.1; the 0.13.0 changes were
merged into develop, without being backported into the release branch."
conorsch,2019-06-20 18:46:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c23d8bc616aeafce37d5e666fbdd3e94de71723a,c23d8bc616aeafce37d5e666fbdd3e94de71723a,"Adds ""upgrade"" boxes for 0.13.1

Includes only Xenial boxes, since Trusty support was dropped as of
0.13.0."
emkll,2019-06-20 21:41:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dc648e9516a2e3abc8436216da5de97e4cc879a4,dc648e9516a2e3abc8436216da5de97e4cc879a4,"Merge pull request #4543 from freedomofpress/bump-kernels-to-4.4.182

Update grsecurity kernels to 4.4.182"
emkll,2019-06-19 13:25:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/40b366fa2f422e1d42e7fc9fc459fdc51e787399,40b366fa2f422e1d42e7fc9fc459fdc51e787399,"Add intel-microde to list of kernel metapackage dependencies

This will ensure the lastest CPU microcode is used to provide further mitigations against CPU vulnerabilities:

* CVE-2017-5753 (Spectre v1)
* CVE-2017-5715 (Spectre v2)
* CVE-2017-5754 (Spectre v3 a.k.a. Meltdown)
* CVE-2018-3640 (Spectre v3a)
* CVE-2018-3639 (Spectre v4)
* CVE-2018-3615 (Foreshadow SGX a.k.a. L1TF)
* CVE-2018-3620 (Forshadow-NG OS a.k.a. L1TF)
* CVE-2018-3646 (Foreshadow-NG VMM a.k.a L1TF)
* CVE-2018-12126 (Fallout)
* CVE-2018-12130 (ZombieLoad)
* CVE-2018-12127 (RIDL a.k.a. MLPDS)
* CVE-2019-11091 (RIDL a.k.a MDS)

While an attacker would need code execution to be able to exploit these vulnerabilities, updating the CPU microcode will provide defense-in-depth."
emkll,2019-06-13 14:39:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f47251a9cd2b15023ab038f827c37222426d94fe,f47251a9cd2b15023ab038f827c37222426d94fe,"Bump kernels to 4.4.182

Bumps kernel version in metapackage. This kernel version addresses network stack vulnerabilities known as SACK panic (https://access.redhat.com/security/vulnerabilities/tcpsack):

* CVE-2019-11479
* CVE-2019-11478
* CVE-2019-11477"
redshiftzero,2019-06-19 20:11:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e23e48e3f99236fb387456569103b8e4e8db0bff,e23e48e3f99236fb387456569103b8e4e8db0bff,"Merge pull request #4537 from freedomofpress/0.13.1-to-develop

Backport 0.13.1 changelog to develop"
emkll,2019-06-18 13:48:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2e551f62d0aa453d058dca04acefd68dc5ade353,2e551f62d0aa453d058dca04acefd68dc5ade353,"SecureDrop 0.13.1

(cherry picked from commit 1f72337d432391cf3aae164c7f3bffb43137b488)"
emkll,2019-06-14 15:58:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c8c8fb1be28bc0b264a9892ab6db710e83297c3c,c8c8fb1be28bc0b264a9892ab6db710e83297c3c,"SecureDrop 0.13.1-rc1

(cherry picked from commit 389e50559f8ceb58d8b71d8e86b433b99521422d)"
emkll,2019-06-19 18:55:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5027d1ae2a71853f60d653564e7474cb691509e2,5027d1ae2a71853f60d653564e7474cb691509e2,"Merge pull request #4539 from freedomofpress/tor-browser-bump

dockerfiles: bump Tor Browser version to 8.5.1 and fix broken lint target"
redshiftzero,2019-06-19 17:12:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d57b0407d8ea01e61a4cf45af029d119bd740c53,d57b0407d8ea01e61a4cf45af029d119bd740c53,"Merge pull request #4536 from zenmonkeykstop/4526-metadata-functest

add functional test for /metadata endpoint"
redshiftzero,2019-06-19 16:45:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1ffbbeb8b7684e947f57736a07cc6899203ac787,1ffbbeb8b7684e947f57736a07cc6899203ac787,docs: fix broken link to ciphersuite recommendations
redshiftzero,2019-06-19 16:21:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0efac382846d7711d66b9b5373e4f1cb19d1a94f,0efac382846d7711d66b9b5373e4f1cb19d1a94f,dockerfiles: bump Tor Browser version to 8.5.1
zenmonkeykstop,2019-06-18 22:04:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/794d3bd2fdefba3d7807b2345628b6032ba38877,794d3bd2fdefba3d7807b2345628b6032ba38877,add functional test for /metadata endpoint
zenmonkeykstop,2019-06-18 16:30:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38036adc3bf654aa172304909bc03ed01e4c01eb,38036adc3bf654aa172304909bc03ed01e4c01eb,"Merge pull request #4528 from freedomofpress/docs-upgrade-0130-to-0131

[docs] Add 0.13.0 to 0.13.1 upgrade docs"
eloquence,2019-06-17 23:48:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b3b31051e605637e24dfbc0381755812fd87c34,7b3b31051e605637e24dfbc0381755812fd87c34,Add 0.13.0 to 0.13.1 upgrade docs
redshiftzero,2019-06-18 15:57:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d15cc1be7ce0eb2ab3e94c77267c0ec2f3747f1,6d15cc1be7ce0eb2ab3e94c77267c0ec2f3747f1,"Merge pull request #4530 from freedomofpress/update-builder-20190618

Update Builder Image"
emkll,2019-06-18 14:42:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1676e533641b232c6543a43a7a100ef7bd3657f0,1676e533641b232c6543a43a7a100ef7bd3657f0,"Fix exclude paths for Bandit 1.6.1

Bandit 1.6.1 was released with a fix to the path exclusion issue. It now requires specifying the current directory in relative path to apply correctly."
emkll,2019-06-18 13:46:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/adc1cef34e65e3a0d4933392a7072bd3f74b0907,adc1cef34e65e3a0d4933392a7072bd3f74b0907,"Update builder image hash

Builder needed security updates"
emkll,2019-06-14 17:55:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/923d9681b34e5988adb16e6f5109495245157609,923d9681b34e5988adb16e6f5109495245157609,"Merge pull request #4523 from freedomofpress/y_no_u_key

Fixes #4521 download journalist key via source interface"
redshiftzero,2019-06-14 16:28:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d421886570932dee080b3667f9ba086ff19de8c,9d421886570932dee080b3667f9ba086ff19de8c,"Merge pull request #4525 from freedomofpress/update-builder-2019-06-14

Update builder image"
emkll,2019-06-14 15:33:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ec92cfdea2355703e576c5e12fe33127f9daf49,4ec92cfdea2355703e576c5e12fe33127f9daf49,"Update builder image

Builder needed security updates."
kushaldas,2019-06-14 11:03:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d47dd8c9548014d94c5e3836206df78911bccff2,d47dd8c9548014d94c5e3836206df78911bccff2,"Fixes #4521 download journalist key via source interface

We need different code for Python2 and Python3 to download
journalist key via the source interface. This also adds a function
test for the same."
redshiftzero,2019-06-12 15:51:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87d692fbca97e493181040d8ae7cb09d86adea1f,87d692fbca97e493181040d8ae7cb09d86adea1f,"Merge pull request #4487 from pierwill/docs-linkcheck

Add make target to test docs for broken links"
zenmonkeykstop,2019-06-11 21:15:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0f19b7a993dfc4a8d71ac6a24c3671c078dfd14b,0f19b7a993dfc4a8d71ac6a24c3671c078dfd14b,"Added linkcheck parameters, fixed broken links"
conorsch,2019-06-11 18:05:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0422d66e55f4b80387ae573a955185113c23408,a0422d66e55f4b80387ae573a955185113c23408,"Fixes URL in docs for packaging logic

Linking directly to a blob with no pinned hash is asking for broken
links, but at least we have a CI job checking links for us now!"
pierwill,2019-06-04 17:52:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4683b626e60d96559f0b6dce0620169f83d02a11,4683b626e60d96559f0b6dce0620169f83d02a11,test docs for broken links during CI
pierwill,2019-05-29 23:46:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/daf641fe39bdc1fa9fc148cd709db5575f13d816,daf641fe39bdc1fa9fc148cd709db5575f13d816,"add make docs-linkcheck target

- add ability to test the docs for broken links
- update relevant documentation
- fix one link

closes #4410"
zenmonkeykstop,2019-06-11 19:12:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c0c0d47e68fb083a75a67d5d973aa16ef7366a8e,c0c0d47e68fb083a75a67d5d973aa16ef7366a8e,"Merge pull request #3851 from championshuttler/docs

Fixed style issues in Tails printing guide."
championshuttler,2019-06-11 10:55:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4da4739f7076f2bfce42eeef15bde9ae0ea7f4a8,4da4739f7076f2bfce42eeef15bde9ae0ea7f4a8,Update tails_printing_guide.rst
championshuttler,2018-10-08 10:24:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2eccad7b5f7395495ebb4d03091a1e6d41730157,2eccad7b5f7395495ebb4d03091a1e6d41730157,tails_printing_guide.rst: fix style issues
redshiftzero,2019-06-10 21:25:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6bee0cc0b35b534fee1c0669def9f62f37dc187d,6bee0cc0b35b534fee1c0669def9f62f37dc187d,"Merge pull request #4505 from rmol/4479-ci-forks

Add workaround for CircleCI's problems filtering from forks"
kushaldas,2019-06-10 09:45:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97d603d136a24bae9756f8b55a7efe16b0fdec16,97d603d136a24bae9756f8b55a7efe16b0fdec16,"Merge pull request #4512 from freedomofpress/the-future-is-now

Remove ""now"" from ""SecureDrop now uses automatically generated .."""
rmol,2019-06-08 13:43:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71cabc1c07ad64647bfa56f881a3fdeb5b66edcf,71cabc1c07ad64647bfa56f881a3fdeb5b66edcf,Fix deb-tests branch filtering
eloquence,2019-06-07 21:39:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/176ac7cb7a318d8dfb206648a0fbb9848c379701,176ac7cb7a318d8dfb206648a0fbb9848c379701,"Remove ""now"" from ""SecureDrop now uses automatically generated ..""

The change was made in February 2017, commit:
b85bffc8dc4a07a24b975485d9cd3f44d7a1418a"
rmol,2019-06-04 14:46:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f3f6db0a2c8c89e3b95f7cef08b36ec677690aa1,f3f6db0a2c8c89e3b95f7cef08b36ec677690aa1,"Add workaround for CircleCI's problems filtering from forks

CircleCI's branch filtering does not work properly with pull requests
from forks. The CIRCLE_BRANCH variable contains something like /pull/3
in this case. This means that docs and i18n PRs from forks are not
being tested as we wish; the translation tests are not run for i18n
PRs, and the app tests are being run for docs PRs.

A CircleCI feature request [1] to improve this was closed without
explanation, so I'm incorporating a workaround suggested in the
CircleCI forums: using the GitHub API to obtain the real branch name
for PRs from forks, and skipping tests if it doesn't match. Not all
steps of the relevant jobs are skipped, but the most expensive ones
are.

Also, stop skipping static-analysis-and-no-known-cves, as it doesn't
take that long, and might prevent problems from sneaking in on
branches with inaccurate names.

[1] https://discuss.circleci.com/t/only-build-pull-requests-targetting-specific-branch/6082/6"
zenmonkeykstop,2019-06-06 18:16:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2d066eb4dfe569973418ebe372c3f7f128e91d7c,2d066eb4dfe569973418ebe372c3f7f128e91d7c,"Merge pull request #4494 from drewmassey/issue-4465

Update Tor safety instructions on Source Interface per Tor Browser UI changes"
kushaldas,2019-06-06 14:41:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85d639ae36e67d8136a794b395add59eb07177e2,85d639ae36e67d8136a794b395add59eb07177e2,"Merge pull request #3274 from SaptakS/ux/journalist/reset-button

Add explanatory text for  authenticator reset buttons in Journalist/Admin interface"
zenmonkeykstop,2019-06-06 02:53:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1f1eb8f1626005a745691fe0a81196089be48cb7,1f1eb8f1626005a745691fe0a81196089be48cb7,fixed linting errors and failing functional tests
SaptakS,2019-05-09 12:48:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dc110a20060d01227998accaf7a624c150ca2ec3,dc110a20060d01227998accaf7a624c150ca2ec3,Test: Ignore string check for locales other than english
SaptakS,2019-05-03 21:34:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f1ade0b2e1d3869a602daca077b48200bfa3557f,f1ade0b2e1d3869a602daca077b48200bfa3557f,Tests: Fixes functional tests based on the new tooltip SASS
SaptakS,2019-05-03 21:05:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/305a806f273732a51b9f0b3235af4dc2d96be1da,305a806f273732a51b9f0b3235af4dc2d96be1da,SASS: Make tooltip responsive for mobile
SaptakS,2019-05-03 20:42:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/342ed5a723201b85b05ed49b8f410133a16055f3,342ed5a723201b85b05ed49b8f410133a16055f3,"SASS: Modify tooltip sass to use span class instead of pseudo element

Since the pseudo element :after is difficult to track using selenium
executescript which throws errors often, so I am replacing by a simpler
span DOM element with a class tooltip"
SaptakS,2018-04-23 07:31:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8cbb0f7b61cd23c47b3c554c251bda636aa7da7f,8cbb0f7b61cd23c47b3c554c251bda636aa7da7f,Tests: Adds functional tests for totp secret resetting in admin interface
SaptakS,2018-04-23 07:27:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d8be3aa0248b9f4a18214b5f4fea5fa04e1917db,d8be3aa0248b9f4a18214b5f4fea5fa04e1917db,"Tests: Functional tests to verify the tooltip appears

Used ActionChains to move the cursor to the buttons. Then used execution_script
to get the opacity property of the pseudo element :after of the button using a
js code and verified that the opacity is 1 which means it is visible."
SaptakS,2018-04-17 06:09:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f7d8f376d1dc4cb07e5303f3a97f9e7a1386213,7f7d8f376d1dc4cb07e5303f3a97f9e7a1386213,"Journalist Interface: Show additional informations for reset buttons

Shows explanatory text using tooltips above the buttons in Reset
authenticator buttons thus reducing the button label texts."
SaptakS,2018-04-17 06:08:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b22165df84ae10b0d9792c13cf4a3273454e050,9b22165df84ae10b0d9792c13cf4a3273454e050,SASS: Adds a generic tooltip sass that can be used throughout the project
kushaldas,2019-06-05 13:01:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b1e946f58bfa51f6cacec9dea1a5f48722387927,b1e946f58bfa51f6cacec9dea1a5f48722387927,"Merge pull request #4497 from freedomofpress/use-archive-module-in-logs-playbook

Use archive module in `securedrop-admin logs` playbook"
drewmassey,2019-06-05 12:25:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eabb86ab86da82ad01b43ca9cb19215c48c7e909,eabb86ab86da82ad01b43ca9cb19215c48c7e909,Fixed text formatting in source interface documentation
drewmassey,2019-06-05 12:22:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d54d414b3e8a16069ab7c17093dc5c30e15c3df9,d54d414b3e8a16069ab7c17093dc5c30e15c3df9,Fixed Shield Icon to simply reflect unsafe state on tor
zenmonkeykstop,2019-06-04 19:23:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a924077e8dcc8a33dd5f52423c9581cbb5e9bbb,6a924077e8dcc8a33dd5f52423c9581cbb5e9bbb,"Merge pull request #4496 from freedomofpress/fix-session-src

Redirect to index after session expiration on /generate"
redshiftzero,2019-06-04 17:33:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1bd3ca03c9df227899ecb6bba84a6c55000465c9,1bd3ca03c9df227899ecb6bba84a6c55000465c9,"Merge pull request #4476 from pierwill/edit-contrib

[docs] Consolidate list of issues tags under one heading"
redshiftzero,2019-06-04 17:32:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6bb36351ad37fb3194ea64462d558d5111ba3bd6,6bb36351ad37fb3194ea64462d558d5111ba3bd6,"Merge pull request #4499 from d3prof3t/upgrading-jinja-tests-filter-syntax

using is keyword instead of deprecated pipe filters"
redshiftzero,2019-06-04 17:02:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e9ea43123f8d9dac6e6c4fe5387cb1d9b054394d,e9ea43123f8d9dac6e6c4fe5387cb1d9b054394d,"Merge pull request #4504 from freedomofpress/update_tbb_85

Updates Tor Browser to latest 8.5 version"
kushaldas,2019-06-04 15:42:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df326281675a007bebdfbfbe1ce01064c175e02b,df326281675a007bebdfbfbe1ce01064c175e02b,"Merge pull request #4459 from freedomofpress/api-first-name-last-name

api: expose journalist first and last name if set"
kushaldas,2019-06-04 14:27:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef1ecd77599e6463e67703533a3e916ed4cc22c5,ef1ecd77599e6463e67703533a3e916ed4cc22c5,"Merge pull request #4493 from rmol/4441-docs-i18n

Update i18n.rst, add list-translators to i18n_tool.py"
kushaldas,2019-06-04 13:44:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f78a4343276985f15641c771333cabc716df582,2f78a4343276985f15641c771333cabc716df582,Updates Tor Browser to latest 8.5 version
d3prof3t,2019-06-03 20:22:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/89dbf3e67ac47d6002b67ed18e8f39b08031c9ba,89dbf3e67ac47d6002b67ed18e8f39b08031c9ba,using is keyword instead of deprecated pipe filters
redshiftzero,2019-06-03 20:16:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5d5ba2504a41b91d8b6900c4724a98378859ed71,5d5ba2504a41b91d8b6900c4724a98378859ed71,"Merge pull request #4498 from zenmonkeykstop/4463-csrf-reset-password

Fixes CSRF error on JI password reset"
zenmonkeykstop,2019-06-03 17:10:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f136bdb66a96b315dc7946e9c5f9315af84d110,9f136bdb66a96b315dc7946e9c5f9315af84d110,"Fixed CSRF error on JI password reset, updated functional tests to use CSRF"
drewmassey,2019-06-01 12:19:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/828a9dfe002fb24e3beacecae662d64cd169a725,828a9dfe002fb24e3beacecae662d64cd169a725,Added Exclamation Circle to static icons; pixel manipulation on source interface tor warning
eloquence,2019-06-01 00:21:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/10c556f6fc7f3d0828e2ad28cbefb87de8c34875,10c556f6fc7f3d0828e2ad28cbefb87de8c34875,"Use archive module in `securedrop-admin logs` playbook

This is a straightforward archive operation and does not require
running tar manually.

Resolves #4357"
redshiftzero,2019-05-31 22:24:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7fafd7c6098b02b58ae1856bc06596dcc0fd13fe,7fafd7c6098b02b58ae1856bc06596dcc0fd13fe,regression test: bug #4490
redshiftzero,2019-05-31 18:22:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/31b0ade00b9df24144223322e6006761a9b8317d,31b0ade00b9df24144223322e6006761a9b8317d,"app: session expiration - redirect to index when session expires

Previous logic when sessions expire on /generate:
1. On /generate page, codename is added to the session.
2. When expiration occurs, session is cleared.
3. A flashed message indicating that the session has expired
would be added to the current session (this is done via passing
`_flashes` on the session object [0]).
4. Execution enters the view function associated with `/create`.
But `/create` expects codename to be in the session (which was
cleared in step 2), thus a KeyError will occur.

Logic now when sessions expire on /generate:
1. On /generate page, codename is added to the session
2. When expiration occurs, session is cleared and user is redirected to the index.

[0] https://github.com/pallets/flask/blob/cd4023d9d2ab630ce4f95856f065072ef8badb2b/flask/helpers.py#L449"
conorsch,2019-05-31 21:10:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d164ece81cd9d3c120954b5e6664abcb27664ac4,d164ece81cd9d3c120954b5e6664abcb27664ac4,"Merge pull request #4431 from zenmonkeykstop/docs-update-hw-recs

Adds NUC7 hardware recommendation and relegates NUC5s and Mac minis to legacy"
drewmassey,2019-05-31 19:12:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc92b58d35fb9a15fdc0b74070c3223eac68aee7,bc92b58d35fb9a15fdc0b74070c3223eac68aee7,"Pre-PR check, why are the functional tests failing?"
rmol,2019-05-29 22:19:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/16253063b2cd0ffca065df6ca55742ca39d8c9fe,16253063b2cd0ffca065df6ca55742ca39d8c9fe,"Update i18n.rst, add list-translators to i18n_tool.py

Restructured the Internationalization
docs (`docs/development/i18n.rst`) to make the order of operations
clearer for developers and localization managers. Updated the process
now that string and feature freeze are synchronized.

Added a `list-translators` function to `i18n_tool.py` to simplify
translator attribution at release time.

Fixes #4441."
redshiftzero,2019-05-31 16:01:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/52ae0228b0b02def3790dcd360fec7c09c29a207,52ae0228b0b02def3790dcd360fec7c09c29a207,"Merge pull request #4483 from freedomofpress/update-builder-20190529

Update builder hash"
emkll,2019-05-31 14:34:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de4c93c4374666a66ff5981bd3c5fe6d6f53c06d,de4c93c4374666a66ff5981bd3c5fe6d6f53c06d,"Update builder hash and update deb test script

Builder image needed further updates"
zenmonkeykstop,2019-05-31 14:19:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2574af6e4a725d72ad925b6c43a2df4031aca482,2574af6e4a725d72ad925b6c43a2df4031aca482,"Merge pull request #4491 from freedomofpress/upgrade-boxes-for-0.13.0

Adds upgrade testing boxes for 0.13.0"
conorsch,2019-05-30 21:57:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8cfa4ead6111ae4e33619c89ee5403604cb3e67e,8cfa4ead6111ae4e33619c89ee5403604cb3e67e,"Adds ""upgrade"" boxes for 0.13.0

Includes only Xenial boxes, as 0.13.0 is the first release to support
Ubuntu Xenial 16.04 exclusively."
drewmassey,2019-05-30 21:31:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b00a4de4ea1aaf1b9fc494c88b4584f1b3c374d0,b00a4de4ea1aaf1b9fc494c88b4584f1b3c374d0,Initial Screenshot Update
zenmonkeykstop,2019-05-09 23:17:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/24a8f9d981bd6d209e01c8d6231e0f0a79291b8c,24a8f9d981bd6d209e01c8d6231e0f0a79291b8c,added NUC7 hardware recommendation
emkll,2019-05-30 18:41:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78b252906c0138c3c46f4b4f0428944cf5136a02,78b252906c0138c3c46f4b4f0428944cf5136a02,"Merge pull request #4488 from freedomofpress/backport-and-bump-0.13.0

Backport 0.13.0 changelog and bump versions"
emkll,2019-05-30 17:23:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7de960131530b8cf61f742cae5942a6db712bf3d,7de960131530b8cf61f742cae5942a6db712bf3d,ci - skip app tests and install enchant for builder-updates
redshiftzero,2019-05-30 17:47:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5bf564f616c9677180ec3519454fcdfe7beae00,e5bf564f616c9677180ec3519454fcdfe7beae00,"Merge pull request #4464 from drewmassey/issue-4450

Remove Font Awesome References"
rmol,2019-05-30 17:39:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2be9c9842dcd0f55f605c8349a68cd84dc0cfee1,2be9c9842dcd0f55f605c8349a68cd84dc0cfee1,Update i18n_tool test
rmol,2019-05-29 18:22:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6295b23abd838b471b156d80a064c81d0300bf36,6295b23abd838b471b156d80a064c81d0300bf36,"i18n_tool.py: fix Unicode handling; change commit format

Use of six.u was corrupting translator names. According to
https://pythonhosted.org/six/index.html#six.u -- ""On Python 2, u()
doesn't know what the encoding of the literal is. Each byte is
converted directly to the unicode codepoint of the same value. Because
of this, it's only safe to use u() with strings of ASCII data.""

Of course some translators' names were not just ASCII, so I've
replaced usage of six.u with u"""", as it should be safe on both Python
2 and Python 3 > 3.3, per PEP-0414.

I also changed the commit format to put each contributor's name on its
own line, and tried to clarify the source of the translations. It was
confusing to me, at least, that translations were being ""copied from""
a revision that involved a different language.

Finally, we were gathering the list of contributors from commits other
than just the Weblate contributions, so whoever last ran the tool was
getting credited for translations since. I've changed the tool to only
look for contributors in the automated Weblate commits."
emkll,2019-05-30 16:47:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00deb52f97804dc72877fe6bd23d711c90c9845a,00deb52f97804dc72877fe6bd23d711c90c9845a,"Merge pull request #4489 from freedomofpress/ci-run-translation-deb-tests

ci: run deb and translation tests every week"
drewmassey,2019-05-30 16:14:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dfe552fa17d3b5a4e65be3bf1726a922bb27e4d9,dfe552fa17d3b5a4e65be3bf1726a922bb27e4d9,Imported but never did a '+'
redshiftzero,2019-05-30 15:49:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c5a0081a205ad77bf3ae054efc1563af12ec9e8,1c5a0081a205ad77bf3ae054efc1563af12ec9e8,ci: run deb and translation tests every week on Sunday
zenmonkeykstop,2019-05-30 15:02:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d5b83eed9c72a34aea41c0e443201a67a73fda2b,d5b83eed9c72a34aea41c0e443201a67a73fda2b,SecureDrop 0.14.0~rc1
zenmonkeykstop,2019-05-29 20:45:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0652724f49120ce666ccf45a732dcf7ee47a92ab,0652724f49120ce666ccf45a732dcf7ee47a92ab,"SecureDrop release 0.13.0

(cherry picked from commit 2a746ddab422d90525a5db0c95ee4c51970714ac)"
zenmonkeykstop,2019-05-17 14:53:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb45680f948addcbbf5e1ca56f2cb4ccf10b4b59,cb45680f948addcbbf5e1ca56f2cb4ccf10b4b59,"SecureDrop 0.13.0~rc1

(cherry picked from commit 143bba13408ebed8d2adce08810290bc409b2b3b)"
emkll,2019-05-29 20:55:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f35c3809bf1240636d357aa7d11f22d9c6c06b53,f35c3809bf1240636d357aa7d11f22d9c6c06b53,"Update builder hash

Builder needed security updates"
zenmonkeykstop,2019-05-29 20:16:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eda65b8f3ffb19e2daa5542af7504b7ef4f4dd20,eda65b8f3ffb19e2daa5542af7504b7ef4f4dd20,"Merge pull request #4475 from rmol/i18n-0.13.0

Fix translate-test job and update translations for 0.13.0"
emkll,2019-05-29 17:51:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/93b2370bc38ed343f5f0a867a04eaea60b9af4f9,93b2370bc38ed343f5f0a867a04eaea60b9af4f9,"Merge pull request #4473 from freedomofpress/docs-0122-to-0130

[docs] Add 0.12.2->0.13.0 workstation update guide"
rmol,2019-05-29 16:08:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e176f5633d5c3658fb94f0bdc22f97764558548b,e176f5633d5c3658fb94f0bdc22f97764558548b,"Set up Tor in bin/translation-test

Since we currently start both browsers for all functional tests, Tor
needs to be running in the test container.

(cherry picked from commit e1a3fbe7b2677210df7d5a637ccddeb31f0b95c5)"
rmol,2019-05-29 13:06:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9999785ab707b9c40a2b0ac11010c84dace78006,9999785ab707b9c40a2b0ac11010c84dace78006,l10n: compile desktop files' translations
pierwill,2019-05-29 01:28:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f8d29208b8556c947617a6ccb48872a884807132,f8d29208b8556c947617a6ccb48872a884807132,"edit contributing.rst

consolidate list of issues tags under one heading

fixes #4406"
rmol,2019-05-28 23:33:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/588d80e7c6d36d8d823af957b65060b87674fb1a,588d80e7c6d36d8d823af957b65060b87674fb1a,"l10n: updated nb_NO Norwegian

localizers: yvind Bye Skille, Kushal Das, Allan Nordhy

https://github.com/freedomofpress/securedrop-i18n
copied from 110039ff0558cbedb4093e3726a478305fa30a20"
rmol,2019-05-28 23:33:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e32353803ada55f75b2112b0dc3db75406a3304f,e32353803ada55f75b2112b0dc3db75406a3304f,"l10n: updated es_ES Spanish

localizers: Zuhualime Akoochimoya, Kushal Das, Pablo Di Noto

https://github.com/freedomofpress/securedrop-i18n
copied from 110039ff0558cbedb4093e3726a478305fa30a20"
rmol,2019-05-28 23:33:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/606128deb9997cee277a32ee3b7055303575965b,606128deb9997cee277a32ee3b7055303575965b,"l10n: updated de_DE German

localizers: Robin Schubert, Kushal Das

https://github.com/freedomofpress/securedrop-i18n
copied from 110039ff0558cbedb4093e3726a478305fa30a20"
rmol,2019-05-28 23:33:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20305e155e02837223600e1837d0424e3ee3f53f,20305e155e02837223600e1837d0424e3ee3f53f,"l10n: updated ar Arabic

localizers: Ahmad Gharbeia, Kushal Das

https://github.com/freedomofpress/securedrop-i18n
copied from 110039ff0558cbedb4093e3726a478305fa30a20"
rmol,2019-05-28 23:33:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/554b9ca41ce1fe6dbe245cc21fa923fe846ab236,554b9ca41ce1fe6dbe245cc21fa923fe846ab236,"l10n: updated hi Hindi

localizers: Drashti, Kushal Das

https://github.com/freedomofpress/securedrop-i18n
copied from 110039ff0558cbedb4093e3726a478305fa30a20"
rmol,2019-05-28 23:33:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a24176ff58705e65cfd6cafcd155c8d1fd91afd,4a24176ff58705e65cfd6cafcd155c8d1fd91afd,"l10n: updated zh_Hant Chinese, Traditional

localizers: Chi-Hsun Tsai, Kushal Das

https://github.com/freedomofpress/securedrop-i18n
copied from 110039ff0558cbedb4093e3726a478305fa30a20"
rmol,2019-05-28 23:33:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e9f2da71c3766aee242ded85ed1bb9dbdf9b7f5,6e9f2da71c3766aee242ded85ed1bb9dbdf9b7f5,"l10n: updated sv Swedish

localizers: Jonas Franzn, Kushal Das, Allan Nordhy

https://github.com/freedomofpress/securedrop-i18n
copied from 110039ff0558cbedb4093e3726a478305fa30a20"
rmol,2019-05-28 23:33:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c0de3e061cd43ede6da6922de79a0dc2c61404e1,c0de3e061cd43ede6da6922de79a0dc2c61404e1,"l10n: updated it_IT Italian

localizers: Kushal Das, Claudio Arseni

https://github.com/freedomofpress/securedrop-i18n
copied from 110039ff0558cbedb4093e3726a478305fa30a20"
rmol,2019-05-28 23:33:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3467d884a4958488462eaaed0270aa7fdade1daa,3467d884a4958488462eaaed0270aa7fdade1daa,"l10n: updated is Icelandic

localizers: Oktavia, Kushal Das, Sveinn  Felli

https://github.com/freedomofpress/securedrop-i18n
copied from 110039ff0558cbedb4093e3726a478305fa30a20"
rmol,2019-05-28 23:33:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed1f5f8b21b79016e2a2ab5697e93410badc11fa,ed1f5f8b21b79016e2a2ab5697e93410badc11fa,"l10n: updated tr Turkish

localizers: Orhan, Kushal Das, Volkan, tekrei

https://github.com/freedomofpress/securedrop-i18n
copied from 110039ff0558cbedb4093e3726a478305fa30a20"
rmol,2019-05-28 23:33:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b4f20f76a9ec2474d68405ad27a4138df6e9a5a0,b4f20f76a9ec2474d68405ad27a4138df6e9a5a0,"l10n: updated ru Russian

localizers: Maria Ovsyannikova, Kushal Das, Bogdan Kulynych

https://github.com/freedomofpress/securedrop-i18n
copied from 110039ff0558cbedb4093e3726a478305fa30a20"
rmol,2019-05-28 23:32:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef064768a9106ddac730a637a1dccf012b931b42,ef064768a9106ddac730a637a1dccf012b931b42,"l10n: updated fr_FR French

localizers: Kushal Das, AO

https://github.com/freedomofpress/securedrop-i18n
copied from 110039ff0558cbedb4093e3726a478305fa30a20"
rmol,2019-05-28 23:32:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5980f1a79db330d802c61a7b814366465c58aa73,5980f1a79db330d802c61a7b814366465c58aa73,"l10n: updated pt_BR Portuguese, Brasil

localizers: Kushal Das, communiaa

https://github.com/freedomofpress/securedrop-i18n
copied from 110039ff0558cbedb4093e3726a478305fa30a20"
rmol,2019-05-28 23:32:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f136b2a2842b27244a22f33a6d13bbb48d7507b,7f136b2a2842b27244a22f33a6d13bbb48d7507b,"l10n: updated nl Dutch

localizers: Thom, Kushal Das, Yarno Ritzen

https://github.com/freedomofpress/securedrop-i18n
copied from 110039ff0558cbedb4093e3726a478305fa30a20"
rmol,2019-05-28 23:32:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/55cb245698a722131cebd1e80dc48100f5c00a9e,55cb245698a722131cebd1e80dc48100f5c00a9e,"l10n: updated ro Romanian

localizers: Kushal Das, robbpa

https://github.com/freedomofpress/securedrop-i18n
copied from 110039ff0558cbedb4093e3726a478305fa30a20"
rmol,2019-05-28 23:32:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c7b632b3ab9774c2ffb4b7f3325a54078405ac35,c7b632b3ab9774c2ffb4b7f3325a54078405ac35,"l10n: updated el Greek

localizers: Dimitris Maroulidis, Kushal Das, Adrian

https://github.com/freedomofpress/securedrop-i18n
copied from 110039ff0558cbedb4093e3726a478305fa30a20"
emkll,2019-05-28 21:25:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ac291a6a4caf46739c0f340b567ec18374e5b89,2ac291a6a4caf46739c0f340b567ec18374e5b89,"Merge pull request #4471 from freedomofpress/4470-apparmor-lsb-release

Re-add Apache AppArmor rule for /etc/lsb-release"
eloquence,2019-05-28 21:04:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd491e4cf18a01300093174f77c564646ccc88d5,dd491e4cf18a01300093174f77c564646ccc88d5,"[docs] Add 0.12.2->0.13.0 workstation update guide

Newly includes a reminder to back up Tails workstations."
emkll,2019-05-28 19:17:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96c30e51dd593a7551c826fd6841e1395ac5b2b9,96c30e51dd593a7551c826fd6841e1395ac5b2b9,"Revert ""Revert ""updated apparmor rules to allow apache2 to check /etc/lsb-release""""

This reverts commit 0c37c5d567de10e363fbf7d47f58f5974f9a1373."
redshiftzero,2019-05-28 17:25:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f99e7e8943ee7ad107ffe52cb375537c80874e3c,f99e7e8943ee7ad107ffe52cb375537c80874e3c,"Merge pull request #4469 from jasonbraganza/docs-i18n

Fixes #4165 adds steps to push to remote before locking"
redshiftzero,2019-05-23 19:23:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca446c5235d18407e7d8c1b09a5f8c04b499e9b4,ca446c5235d18407e7d8c1b09a5f8c04b499e9b4,"api: expose journalist first name, last name

we expose them on:
 - the user endpoint
 - the reply JSON objects (since this is the place where we want
 to use them in the client)"
jasonbraganza,2019-05-28 05:52:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/747a5f08268674afebeabf07f536629600ef561c,747a5f08268674afebeabf07f536629600ef561c,"Fixes #4165 adds steps to push to remote before locking

Adds instructions for the localization manager to commit and push
before locking the weblate."
emkll,2019-05-27 16:11:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07419437d00734dde6c42a4bd82ee55e507d8bb9,07419437d00734dde6c42a4bd82ee55e507d8bb9,"Merge pull request #4467 from d3prof3t/supported-locales

adding supported locales in metadata api"
kushaldas,2019-05-27 07:01:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd3aac826f553844bfd4fa79ef49bdda50506fa2,dd3aac826f553844bfd4fa79ef49bdda50506fa2,"Merge pull request #4466 from freedomofpress/add-flaky-decorator-admin

admin CLI integration tests: re-run flaky git tests up to 3 times"
d3prof3t,2019-05-26 14:42:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17edcd4b297a8497ec0f1e917a70a5c71c9be390,17edcd4b297a8497ec0f1e917a70a5c71c9be390,adding supported locales in metadata api
drewmassey,2019-05-25 21:14:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/43efa01567752b13b62f623d3168e507bfbaafd3,43efa01567752b13b62f623d3168e507bfbaafd3,Moved font-awesome to journalist.sass
drewmassey,2019-05-25 19:56:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4385875a05ed5fb79939f3dbe8f2845d5fec3b22,4385875a05ed5fb79939f3dbe8f2845d5fec3b22,removed security slider language
redshiftzero,2019-05-25 18:26:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81dd5aadc6489a08404dd2b26140fba174bd7c73,81dd5aadc6489a08404dd2b26140fba174bd7c73,"Merge pull request #4462 from drewmassey/issue-4454

Resolve Issue 4454"
redshiftzero,2019-05-25 17:42:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b3c6047e1e628d61669242ffcc5b91af0178cfa2,b3c6047e1e628d61669242ffcc5b91af0178cfa2,"admin tests: re-run git tests up to 3 times, remove unnecessary class

because flat is better than nested"
redshiftzero,2019-05-25 17:15:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d639ff1fefdef1f3f386b10bd1ed60ce9d27e491,d639ff1fefdef1f3f386b10bd1ed60ce9d27e491,"Merge pull request #4461 from drewmassey/issue-4460

Clarified language about localhost setup for local development"
drewmassey,2019-05-25 12:18:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8bde62845ed04afdc19f025e521dc823a1d6d115,8bde62845ed04afdc19f025e521dc823a1d6d115,Remove Font Awesome References
drewmassey,2019-05-25 00:51:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf6743085a41609467412144b569703e1cebdde8,bf6743085a41609467412144b569703e1cebdde8,RST friendly linking
drewmassey,2019-05-24 23:00:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aae23ee65d644ef722c33f3f8ca351c28c85067f,aae23ee65d644ef722c33f3f8ca351c28c85067f,"Updated AppArmor, deleted unused static toronion icon"
drewmassey,2019-05-24 22:55:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fdc483d38856b903c17eef23cc6a1dd05ab12b58,fdc483d38856b903c17eef23cc6a1dd05ab12b58,Non repetitive localhost tips for developers
drewmassey,2019-05-24 18:15:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f20f42f4401e46cb3dc30b8496250148e80b41f7,f20f42f4401e46cb3dc30b8496250148e80b41f7,Removed Pointer from popup about Tor Security settings
drewmassey,2019-05-24 15:35:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17f91b245f7e2d8c4d9f8f182d38229157aa8f33,17f91b245f7e2d8c4d9f8f182d38229157aa8f33,Clarified language about localhost setup for local development
drewmassey,2019-05-24 13:26:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fd1e8b8855a24997dcc10c8de407b1d3140c8db4,fd1e8b8855a24997dcc10c8de407b1d3140c8db4,Moved Cursor to Right hand side as per tor 8.5
redshiftzero,2019-05-23 20:18:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e4e5cc9b1a17424992ade888b759348c7d7e2351,e4e5cc9b1a17424992ade888b759348c7d7e2351,"Merge pull request #4456 from zenmonkeykstop/docs-discourage-root-in-prod

changes docs references to 'sudo su' to 'sudo -u www-data bash'."
zenmonkeykstop,2019-05-23 13:21:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e0dc5c001fe83783e24cba2f6f33546f727248b2,e0dc5c001fe83783e24cba2f6f33546f727248b2,changes docs references to 'sudo su' to 'sudo -u www-data bash'.
redshiftzero,2019-05-23 15:18:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/537dd23fc27e3488700ce5fa24a86dd706e4d7fe,537dd23fc27e3488700ce5fa24a86dd706e4d7fe,"Merge pull request #4408 from dcfix/hints-store

Add type hinting to a few files"
redshiftzero,2019-05-22 23:44:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f85c1bd57310669583dca10086c1b4ba3ac68160,f85c1bd57310669583dca10086c1b4ba3ac68160,type checking: suggested changes from review
dcfix,2019-05-07 17:40:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6308d4eca580c59a7c9a34b5dd0b6f3653864f0e,6308d4eca580c59a7c9a34b5dd0b6f3653864f0e,added type hints
dcfix,2019-05-07 15:31:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/33759c3bfb39f244f56f1bcfafbaa58d66deb860,33759c3bfb39f244f56f1bcfafbaa58d66deb860,removed attribute check - need to recalc msg_count when function is called
dcfix,2019-05-07 14:27:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54cf9cf7d7fe7ccbb1f21ab2276a637c72e61105,54cf9cf7d7fe7ccbb1f21ab2276a637c72e61105,added type hints
redshiftzero,2019-05-22 23:11:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97ec330711d8625f1ec5b6a7136a293175d0cca3,97ec330711d8625f1ec5b6a7136a293175d0cca3,"Merge pull request #4425 from creviera/issue-4251

Add first and last name to journalist table and web app"
redshiftzero,2019-05-22 20:52:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/720e7cfcdd7432d45a5eb6627d7fc453fb7252f0,720e7cfcdd7432d45a5eb6627d7fc453fb7252f0,form fields: remove placeholder text for *names
redshiftzero,2019-05-21 22:56:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fecaf68ee2d3b4ce31386d0dbe12c006f35c24e1,fecaf68ee2d3b4ce31386d0dbe12c006f35c24e1,"test: unit tests for new first name / last name functionality

and update functional tests after placeholder changes"
redshiftzero,2019-05-21 22:56:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e741270ef8650a443343915aeca9249b6321255,1e741270ef8650a443343915aeca9249b6321255,app: allow unexpected first/last name errors to bubble up
redshiftzero,2019-05-21 22:33:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3cbf529c56ae862ec44a86a3f857d1e41e3be0b0,3cbf529c56ae862ec44a86a3f857d1e41e3be0b0,"address review comments, show all current db values in black"
redshiftzero,2019-05-21 20:57:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5353225f30666a9d515365e97fd77083e51b98b,e5353225f30666a9d515365e97fd77083e51b98b,"migration: separate 0.13.0 and 0.14.0 migrations

revoke token / checksum functionality will ship with SecureDrop 0.13.0

the first name / last name is targeted for 0.14.0"
redshiftzero,2019-05-20 23:13:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27793204a74b78492ea0e5c10685c6d5f1114ff9,27793204a74b78492ea0e5c10685c6d5f1114ff9,test: support first_name and last_name keyword args in _add_user
creviera,2019-05-15 14:08:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/938e981e641966b8ee19dee2ca890d84d22df98f,938e981e641966b8ee19dee2ca890d84d22df98f,lint
creviera,2019-05-15 04:09:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8fd8d20090129a3eafb94de544d8bcbd02df67d8,8fd8d20090129a3eafb94de544d8bcbd02df67d8,add first and last name to tests
creviera,2019-05-13 01:53:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fab70e48863c930984ab7e8719a74757e76d7e41,fab70e48863c930984ab7e8719a74757e76d7e41,add first and last name fields to Journalist
redshiftzero,2019-05-20 22:40:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/82eed078adf3fa464c1a8036779df78e4009c4e1,82eed078adf3fa464c1a8036779df78e4009c4e1,"Merge pull request #4451 from rmol/fix-4433-tbb-flakes

Fix Marionette, low-entropy and mock-induced test flakes."
rmol,2019-05-20 21:15:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b19c79089f05408e1a2b7732157e777279e0ec4,8b19c79089f05408e1a2b7732157e777279e0ec4,Restore tests/pageslayout/test_source.py::TestSourceSessionLayout
rmol,2019-05-20 16:57:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5bc3cb766c741b69957a8494095f7de9c97b30b4,5bc3cb766c741b69957a8494095f7de9c97b30b4,Update Tor Browser to 8.0.9
rmol,2019-05-14 15:49:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a7adeefa1e598f09e6a8731f4e5ecfb5e00f72a5,a7adeefa1e598f09e6a8731f4e5ecfb5e00f72a5,"Fix Marionette, low-entropy and mock-induced test flakes.

In tests/functional/functional_test.py, FunctionalTest.setup mocked
things up, and if an exception were thrown after that in setup, the
mocks weren't getting cleaned up. Subsequent two-factor tests were
then failing because models.Journalist.verify_token would always
return true. This replaces setup/teardown with pytest fixtures and
ensures that the mocks are stopped.

Also retry web driver creation to work around intermittent Marionette
problems.

We had redundant session timeout tests, so I removed one.

In a couple of places we were changing models.LOGIN_HARDENING and not
resetting it to the original value, so those have been fixed.

Also, because we just set the servers' names to ""localhost"" in the
tests, Flask was warning that it wasn't a valid cookie domain. So I've
appended "".localdomain"" to shut it up. We have enough noise in our
test output.

In test_alembic, the whitespace pattern '\s*' could be empty,
potentially causing trouble for split(). Make it r'\s+'.

Patch get_entropy_estimate in tests/test_integration.py and
tests/test_source.py to prevent failures when CI machines run low on
entropy. In test_source.py, the call to logger.assert_called_once_with
in test_failed_normalize_timestamps_logs_warning fails if entropy is
low in CI -- it's failing not because the message is repeated, but
because the mock is called more than once, when the submit route logs
that it can't generate the source's key."
redshiftzero,2019-05-20 15:17:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/72ed2e39950846f4b13b601d7c39b0142023a487,72ed2e39950846f4b13b601d7c39b0142023a487,"Merge pull request #4445 from jroes/patch-1

small grammatical patch"
zenmonkeykstop,2019-05-19 15:00:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eee830aed8e97f604fd8dbbfb6a7aa3bdaf488c2,eee830aed8e97f604fd8dbbfb6a7aa3bdaf488c2,"Merge pull request #4447 from freedomofpress/docs-hello-tails

[docs] Update SVS setup instructions to match current Tails Greeter"
zenmonkeykstop,2019-05-19 14:54:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2c0b716129a59092a5cde144221b7456107ad5fc,2c0b716129a59092a5cde144221b7456107ad5fc,"Merge pull request #4446 from freedomofpress/docs-easy-peasy

[docs] Update label query (""easy"" was merged into ""good first issue"")"
eloquence,2019-05-17 00:12:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c3bcc2749324ab81d6d70935a2ff9ad2b3011131,c3bcc2749324ab81d6d70935a2ff9ad2b3011131,"Update SVS setup instructions to match current Tails Greeter

Fixes #4113"
eloquence,2019-05-16 22:36:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e39d940a628b9862e719f7da9025bb171acb18e0,e39d940a628b9862e719f7da9025bb171acb18e0,"Update label query (""easy"" was merged into ""good first issue"")"
zenmonkeykstop,2019-05-16 21:52:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7394fd53580d18125287e72dfc89b9ba6a1d7067,7394fd53580d18125287e72dfc89b9ba6a1d7067,"Merge pull request #4435 from freedomofpress/pin-hashes

Requirements pinning for app code build"
jroes,2019-05-16 21:40:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/08bc5d3b9818ea15d35234416bcc6e6bfd8b879b,08bc5d3b9818ea15d35234416bcc6e6bfd8b879b,small grammatical patch
redshiftzero,2019-05-16 18:24:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/24c3d39e3d6ff55dcb785e403688212759ffda66,24c3d39e3d6ff55dcb785e403688212759ffda66,"Merge pull request #4442 from freedomofpress/lint-before-everything-else

CI: Require lint before running any other job"
emkll,2019-05-15 19:30:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd2f1cbea2946ac604dc66d6598ee5c1a777702f,bd2f1cbea2946ac604dc66d6598ee5c1a777702f,"Fail explicitly on hash mismatch at build-time

Before, build would fail due to absence of wheels in the /var/securedrop/wheelhouse, at a later step."
emkll,2019-05-15 18:23:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6cf43924da2f2a096b0bcc6e87e208bcdfd76d83,6cf43924da2f2a096b0bcc6e87e208bcdfd76d83,"Update builder image

Adds python-wheel and latest security patches"
emkll,2019-05-15 18:06:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3936aec86e484f61166195a021e69329ddc28d20,3936aec86e484f61166195a021e69329ddc28d20,"Use system package for python-wheel

This will make the build process marginally faster and provide better integrity"
emkll,2019-05-16 15:22:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f9ef23c72e7c21d67fd6fa7e1bdcd32cb6f5763a,f9ef23c72e7c21d67fd6fa7e1bdcd32cb6f5763a,"CI: Require lint before running any other job

This should might improve CI backlog"
emkll,2019-05-13 15:37:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4418f4c87eb065f47b2e2a1ce4989d061c87a6b8,4418f4c87eb065f47b2e2a1ce4989d061c87a6b8,"Improve app build logic to use source tarball hashes for integrity

Use no-binary and require hashes option at wheel build time, and generate new requirements file (without hashes) for securedrop-app-code deb package. This is because dpkg-buildpackage modifies the zip data of the built wheel files, making it difficult to require hashes at install-time server-side. The deb package is signed and as such would be difficult to tamper with wheel contents in transit"
emkll,2019-05-08 17:01:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78cfd002c38225c812619492e533e8b1d097b48e,78cfd002c38225c812619492e533e8b1d097b48e,Require hashes in admin Dockerfile
kushaldas,2019-05-16 14:02:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/62191c8598793dc1d2251ef63442372ab33a0fa4,62191c8598793dc1d2251ef63442372ab33a0fa4,"Merge pull request #4432 from freedomofpress/resolve-linting-issues

Resolve linting issues, consolidate linting makefile targets"
conorsch,2019-05-16 00:49:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45b713918cf21db1a997cd6582190a37ef6a7d16,45b713918cf21db1a997cd6582190a37ef6a7d16,"Updates GCP CI base image

Rebuilds the GCP CI box on Stretch, rather than Xenial. Doing so fixed a
recurring problem during the ""make staging"" run where the staging VMs
did not come back up, causing Ansible to timeout during wait, and the
entire build to fail."
redshiftzero,2019-05-13 15:31:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a135c7eb3a9b016de9f18dc6652078760add5ed5,a135c7eb3a9b016de9f18dc6652078760add5ed5,"ci: install enchant in staging box

the choice here is to:

1. install enchant in the staging machine
2. break up development dependencies into what is needed for linting
and what is needed for the provisioning of staging machines

selecting the former, as having too many requirements files has
caused major confusion in the past."
redshiftzero,2019-05-09 21:29:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1cf0ba40c69aa2e509897cc0be52d1d95692241f,1cf0ba40c69aa2e509897cc0be52d1d95692241f,linting: update PR template
redshiftzero,2019-05-09 21:00:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3326db021aaa08830a398c263165d2964186cfc8,3326db021aaa08830a398c263165d2964186cfc8,linting: install enchant in CI
redshiftzero,2019-05-09 20:51:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a2a3bd75954b18adcf94ce9183d826e4f789230c,a2a3bd75954b18adcf94ce9183d826e4f789230c,"linting: suppress no-member warnings

tons of false positives, we can re-enable this later"
redshiftzero,2019-05-09 20:43:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4874b36165708abac3f388658c2ae2ea7ff246ca,4874b36165708abac3f388658c2ae2ea7ff246ca,"linting: remove separate CI lint target, remove docs-lint from lint"
redshiftzero,2019-05-09 20:37:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d2e943fe8984af228b39864cfd9a174609c977b8,d2e943fe8984af228b39864cfd9a174609c977b8,linting: install pyenchant in development requirements
conorsch,2019-05-15 00:26:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4b1b1abebaaa9f789717febff878ead5dc7fa558,4b1b1abebaaa9f789717febff878ead5dc7fa558,"Merge pull request #4402 from zenmonkeykstop/docs-backup-usb-with-rsync

[docs] Add instructions to backup and restore workstation USBs using rsync"
heartsucker,2019-05-14 09:28:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d7cb9d1a1c43811a7a47b0fc7bbf54d2bc322cd8,d7cb9d1a1c43811a7a47b0fc7bbf54d2bc322cd8,"Merge pull request #4436 from freedomofpress/api-expose-gpg-fingerprint

[api] expose gpg fingerprint of source"
redshiftzero,2019-05-14 01:06:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ff62ad0e42ad76a0b090084a5aa5db79881fce8,4ff62ad0e42ad76a0b090084a5aa5db79881fce8,docs: update API source endpoint responses
redshiftzero,2019-05-14 00:24:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/83497eb20c23d43b8eb6b386acab0b1c89d6391c,83497eb20c23d43b8eb6b386acab0b1c89d6391c,app: update API tests for gpg fingerprint
redshiftzero,2019-05-14 00:15:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac4b704845af115a6d8a980f9af7d3637b8642d0,ac4b704845af115a6d8a980f9af7d3637b8642d0,app: expose gpg fingerprint as property in source model
redshiftzero,2019-05-13 20:10:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff00f4c718e2f5e4428e5706215fa50e03915204,ff00f4c718e2f5e4428e5706215fa50e03915204,"Merge pull request #4422 from freedomofpress/4341-more-trusty-logic-removal

Remove Trusty-specific logic in Ansible scripts"
emkll,2019-05-13 14:37:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/29e0091ae24e8dba0ce8419bc149a8597e366463,29e0091ae24e8dba0ce8419bc149a8597e366463,"Further removal of Trusty-specifc logic:

* Remove update_release_available_script
* Updated platform tests
* Updated vagrant-packager comments"
emkll,2019-05-09 03:05:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5494b563e18986f9e2bdf644dabf3695129bfe13,5494b563e18986f9e2bdf644dabf3695129bfe13,Remove Trusty-specific logic in builder and update scripts
emkll,2019-05-09 02:58:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58734c4e82f104c09ba0148c037c711e481674f4,58734c4e82f104c09ba0148c037c711e481674f4,"Remove Trusty-specific Ansible logic

- Apache2 dependency management
- Apt version checks
- AppArmor tests"
emkll,2019-05-09 02:55:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ffe8a57878f8e1dfc1eacae527b2334eaae051d7,ffe8a57878f8e1dfc1eacae527b2334eaae051d7,Remove molecule Trusty upgrade boxes metadata
heartsucker,2019-05-13 11:13:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00813de70a2b9b3b172b7cf036e1c372e283d708,00813de70a2b9b3b172b7cf036e1c372e283d708,"Merge pull request #4428 from freedomofpress/flag-for-reply-accuracy

Update messages for manually flagged sources for accuracy"
redshiftzero,2019-05-11 18:35:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/95726a0091a8f2065b1e8d1585e536ebee9cc9ac,95726a0091a8f2065b1e8d1585e536ebee9cc9ac,"Merge pull request #4347 from rmol/tbb-4290

Add TBB to functional tests"
rmol,2019-05-09 21:06:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0bc7e20ec9dd561997ee6c6c802108cc2f845bf,a0bc7e20ec9dd561997ee6c6c802108cc2f845bf,Try a couple of more element visibility tweaks
rmol,2019-04-17 02:53:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/edc85e5f6f6cfea7b2cbf99e18f919b3bb62d5e5,edc85e5f6f6cfea7b2cbf99e18f919b3bb62d5e5,"Undo some rebase mistakes, address the flakiest test

Restore reverted test-config target in securedrop/Makefile; had lost
the change from iteritems->items.

Restore molecule/ from develop.

Take a sledgehammer to journalist login steps: try logging in up to
ten times to get Selenium to see the JS after page load.

Fix import fumbles from rebase"
rmol,2019-04-17 01:01:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c15939ce204cde9b2a750c15108fcd9975f6801,4c15939ce204cde9b2a750c15108fcd9975f6801,Updated for Python 3
rmol,2019-04-16 17:17:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4cce3d90097a07fdc3c3e944229c354fa9cdc548,4cce3d90097a07fdc3c3e944229c354fa9cdc548,"Run functional tests in just English and Arabic.

Since we have separate testing of all translations, and Arabic covers
both translation and RTL, we can speed up the regular suite by
dropping French. (Dsol, c'est purement pragmatique!)"
rmol,2019-04-16 17:15:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d72c9190a63940611a72984fbbd859967fddf6fa,d72c9190a63940611a72984fbbd859967fddf6fa,"Improve _admin_visits_edit_user

Use a CSS selector instead of iterating links."
rmol,2019-04-16 15:28:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/02b12334a5e9eddc694509b46914306c9a69c6a0,02b12334a5e9eddc694509b46914306c9a69c6a0,"In gce-runner.sh, include .git when copying SD repo

It prevents the attempt in app-test/defaults/main.yml to locate the SD
root using ""git rev-parse --show-toplevel""."
rmol,2019-04-02 19:22:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b93190a4579b727ad71509dbb2060f72e636b69e,b93190a4579b727ad71509dbb2060f72e636b69e,"Updates to test frameworks. Work on speed, reliability of tests.

Update Selenium and tbselenium. In the container update the Tor Browser
Bundle to 8.0.8, Firefox to 60.6.1esr (the same version used in TBB),
and geckodriver to 0.24.

Increase the shared memory available to the dev/test container.

Use tbselenium's USE_RUNNING_TOR configuration; start Tor in run-test.

There were a lot of flaky tests. Selenium seems to have particular
difficulty with clicking when buttons or forms have click or submit
event handlers.

Be more explicit about switching between Tor Browser and Firefox in tests.

Move dev/test VNC port to 5909 to coexist with staging. Rename make
target for this to docker-vnc.

Update pip-tools requirement.

Add a log format for pytest."
kushaldas,2018-01-23 18:19:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae8df86c93e975582e1ed7e859ea244014ebe47e,ae8df86c93e975582e1ed7e859ea244014ebe47e,"Use Tor Browser for functional tests

stupid utility to create an test admin user fast

Working tbselineum tests for most part.

fixes two typos in readme of tor based tests

Fixes directory path in README

Hardcoded onion addresse work

Test for tor broser asking high security in slider

Reads instance information from a json file

Uses clean variable name

Configure the sleep amount between clicks

Just tests admin/journalist login and cookies

Tests working once again.

Use firefox to login for downloads in selenium tests

Updates README

Matches with 0.6-rc2 functional tests

We are using TBB 7.5

We need more time and click to test logout

Fixes the assert statement

Updates based on current upstream

TB functional tests: Gitignore instance config

This prevents the accidental commit of private information.

TB functional tests: Merge tbselenium dir

Updates the ansible files for tbb

Updates to the Dockerfile for tbb

Updates as suggested in the PR review for ansible and dockerfile

Missing tor key

Removes duplicated 'when' line from app-test logic

The 'when' conditional detecting a grsec kernel, used for running the
paxctl commands on the TBB binary, was needlessly duplicated on the
relevant task. Fortunately that didn't cause breakage, because the
'when' lines were identical, but only one was active.

Updates functional test container image

Now installs Firefox 52 ESR, rather than Firefox 46, for use inside the
test container.

Includes changes to run-test shell script:

    TOR_FORCE_NET_CONFIG=0 is required to directly connect to Tor
    network, otherwise it will wait for userinput to either connect
    or to configure

    The `run_xvfb` invocation is no longer necessary, since the test suite
    code bootstraps the headless server now.

Creates local test server inside the container

Bootstrapping the application services within the functional test suite.
Includes some cleanup, culling unused debugging code, and also cleans up
the various print statements.

Ignore functional test firefox logs (thanks, @msheiny!)

Adds retries for tor network connection failure, using the pre-existing
logic.

Uses nc rather than torsocks in functional tests

The version of torsocks in the Trusty repos isn't recent enough to
support custom ports. Rather than install from other sources, which
requires manual package verification (or configuring non-trusty repos,
which could break other packages), let's fall back to good ol' nc.

Creates proper orbot specific project to test

We need to create a new firefox profile to test the orbot specific
warning. This works for both locally and over Tor.

Updates test_make_account_changes for Tor

Now we can safely execute the account changes in the tests running
on the Tor browser. The logic update makes sure to create different
user for this test than any other test.

Reduces sleep durations in functional tests

We don't have to sleep for too long if we are running against
local instance. The ultimate goal remains to remove hardcoded sleeps
altogether, but we'll circle back and eliminate those calls once the
test suite is passing reliably.

Increases CircleCI timeout to 20m

The functional tests can take a long time, so let's instruct CircleCI to
continue waiting, to give the test suite a chance to finish
successfully.

Updates README for the functional tests

Mostly correcting a typo in the `instance_information.json` config
filename, but also updated some of the example commands. The notes
regarding potentially failing tests also seemed out of date, as several
members of the team have confirmed working functional tests under the
new TB Selenium logic recently.

Removes temporary testing related directories

We need to clean up any temporary test directory before running
any test, as the previous can create a bad state in the database.
For example, one of our pages-layout test adds 123456 as hotp value
to the test account, and it will never be able to login again.

Adds missing steps for pages-layout tests over tor

We can now generate thousands of random journalist names using
the generator. Only the first 3 names are used in the functional
tests, the rest are being used in the pages-layout.

We also added back _source_delete_key function for one the test.
Rest of the updates are to add sleep function calls or to have
better error message.

Adds comment about the user generator and lint fixes

We have get_journalist_usernames generator which can generate
unlimited number of users for many tests.

Moves around all driver creation functions into one place

We now have the functional/functional_test.py to handle all
driver creation logic. For the pages-layout tests, we are creating
only a Firefox driver to connect to the local container itself.

This logic does not work against any external server as of now.

Updates test user creation logic inside of container

Removing old method calls from user creation logic, this is only
used inside of the container for the functional testing.

Downloads data from server using requests over Tor

The test requirements now have requests[socks] as dependency.
Using the same we are now directly downloading the files/messages
from the .onion address for functional tests.

The old external command file also got removed this committ.

We are creating the gpg object for both container based local
testing and external testing (in functional tests).
Fixes: #3691 #3687

Removed xvfb, tor browser, and firefox installs from app-staging - functional tests now run remotely

fix to pass make ci-lint

Cleans up flake8 errors in functional tests

Resolves some lingering flake8 formatting violations that were causing
lint checks to fail. These changes are unrelated to the current PR, but
better late than never.

Written by @msheiny, committed by @conorsch during branch collab.

Signed-off-by: Conor Schaefer <conor@freedom.press>

Adds --staging flag create-dev-data.py for tests

We now have --staging flag to the create-dev-data.py script so
that we can easily create an user in the staging or prodcution test
and then use the functional tests to test the instance.

Add fact gatherer for extracting tor app onion details

This is really for functional testing in staging environments, but the
script doesnt hurt to be installed in prod. It doesn't elevate
permissions or expose any sensitive details - you need to run as root in
order to gain useful data.

Logic to dump app tor onion data to func config

This commit adds logic to the test runner so that a functional test json
config gets dumped for usage in the tbb selenium test tools against
staging.

Wire-up current app-test role to our upgrade scenario

Without this change, the upgrade scenario would utilize the app-test
logic from the old repo. Which is not what we want. This is of course
kind of ""hacky"". I welcome the opportunity to improve this with feedback
:)

Move tor fact logic from tor role --> app-test role

I'm not sure we are ready to shove this on prod instances AND I was
running into weird old/new role logic under the molecule scenario.
Ideally the fact should be in both roles but I dunno.. this seemed like
an easier short-term fix.

ansible spacing' and tag nits

Testinfra: Update test dependencies for app-staging

In #3697, we removed the application testing pip dependencies.
This commit updates the testinfra test variables accordingly.

Fix linting failures

One of these was introduced in #3672, but not discovered due to
other CI failures (e.g. python not found when running the lint job)

Use absolute pathing in i18n testing

I'm hoping this shakes out some really weird test failures we were
seeing only under CircleCI only under the functional testing branch at a
certain point in time. Really wild behavior. *fingers crossed*

Set selenium webdriver test output to WARNING

Originally was on DEBUG and was sending out mountains of output into the
pytest process which made it difficult to assess anything.

(cherry picked from commit a1f013408721aa4f87bb3fb8439e9f21d7e2adfc)

removed duplicate entry in test requirements

Dockerfile: Update Tor Browser to 8.0

Docker development environment: Update Tor signing key

Dockerfile: Update geckodriver and firefox-esr

Swap x11vnc with tightvncserver

Basically installed this because it can be used with pyvirtualdisplay as
a backend AND because it brings in the Xvnc tooling which will start an
X11 server as well as a VNC server.

Wire-up VNC server and helper command for func tests

Had to remove x11 display logic inside test scaffolding (initially tried
to integrate it there but it kept building and destroying the VNC server
per test).

Made a VNC helper command with support for GNOME desktop and macOS (havent
tested it on mac yet). Updated the docs

Bump functional test sleep time

10 seconds is way too short.. 160 seconds.. maybe too long? Fingers
crossed I can work with the team to get the wait_for logic running

Add functionality to prepare boxes for functional testing

Typically these actions were done manually but lets get our good old
friend ansible to run them for us (at least under the upgrade env).

Added auth to VNC in test container, for OS X compatibility.

Bump TBB/ESR to 8.0.1 and 60.2.0esr combo

https://blog.torproject.org/new-release-tor-browser-801

Updated geckodriver to 0.22.0

added ini file to get around remote-viewer password prompt

Functional tests: xfail test_warning_appears_if_tor_browser_not_in_use

Due to defect #3793, when using Firefox Quantum, the incorrect message
is displayed on the source interface. This test will not pass until that
is resolved.

Functional tests: Fix firefox path

Testinfra: Fix test failure due to non-DRY variables files

staging.yml is a concatenation of multiple other variables files,
one was updated during rebase, one was not.

Testinfra: Update Flask version to 1.0.2

fixed VNC port being defined twice when running 'make dev'

Tests: Modify viewport size for parity between dev and CI env

In CI we are getting MoveTargetOutOfBoundsException, but not locally.
We have had errors in the past due to different viewport sizes in CI
and locally, so setting this to a standard size for the pages layout
tests (where the exception is occurring).

Functional tests: Resolve NoAlertPresentException

We were getting a NoAlertPresentException due to new behavior in
geckodriver [0] where interacting with the driver closes the modal.
Thus, we do not need to explicitly accept the modal here.

[0] https://github.com/mozilla/geckodriver/issues/1171

Replaced parameterized time.sleep()s with self.waitfor()s

Stability fixes layout tests, added new functests from develop, updated TBB

fixed flaky page layout tests that were broken by long fr_FR strings causing UI elements to wrap.

fixed flake8, added explicit scroll to elements before click, stability fixes

Dockerfile: get key from Mozilla keyserver

For whatever reason, this Firefox signing key was not available on
the keyserver in the prior diff, but was available on Mozilla's
keyserver.

deps: Update requests due to CVE-2018-18074

functional tests: Add wait_for prior to clicking submit

functional tests: Remove sleeps and reduce flakiness around modal

functional tests: Remove sleeps around js alerts

functional tests: use sleep_time as default timeout

functional tests: Remove remainder of time.sleeps in source steps

Don't clobber existing custom logo

Minimal changes to remove external server testing functionality"
zenmonkeykstop,2019-05-01 13:07:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e690bc0dfb5460dfd900de9aff996bfd28ee3d07,e690bc0dfb5460dfd900de9aff996bfd28ee3d07,Add instructions to backup and restore workstation USBs using rsync
zenmonkeykstop,2019-05-11 06:46:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/023b2abf61c488b0a6ab082e1be7d2114cf79e2a,023b2abf61c488b0a6ab082e1be7d2114cf79e2a,"Merge pull request #4430 from freedomofpress/docs-not-recommended

Update firewall reference in server docs"
eloquence,2019-05-10 23:05:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b9d189a012efb6aa310b05e892e05f0d6dd0628f,b9d189a012efb6aa310b05e892e05f0d6dd0628f,"Update firewall reference in server guide

Our official recommendation is a 3 NIC firewall, not a 4 NIC one.
The settings shown work with either configuration, so avoiding
reference to ""recommended"" firewall to reduce confusion."
eloquence,2019-05-10 00:51:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9caf9d482d91ab3c74e4b3060c36350dd620555b,9caf9d482d91ab3c74e4b3060c36350dd620555b,"Update messages for manually flagged sources for accuracy

The key issue here is that the previous message told sources that their
submission had only just been passed through, which is not true.
This message is also significantly shorter. Removed the icon, as the
""relieved face"" emoji, which is only used for this message, is no
longer a good fit with the revised text.

Resolves #4420"
conorsch,2019-05-10 18:22:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac5c9213ca6dc4330d589302396cd2fbbceee0ea,ac5c9213ca6dc4330d589302396cd2fbbceee0ea,"Merge pull request #4429 from zenmonkeykstop/4424-fix-ci-bandit

Fixes CVE CI job"
zenmonkeykstop,2019-05-10 16:25:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/913321d015d7cb6a87422f52dada8d243d2ebbfb,913321d015d7cb6a87422f52dada8d243d2ebbfb,"In Makefile bandit target, blacklists bandit 1.6.0 due to directory exclusion bug, installs latest pip"
conorsch,2019-05-09 16:34:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0f51216fd78d69fb203463763f4c3f9faad59a2f,0f51216fd78d69fb203463763f4c3f9faad59a2f,"Merge pull request #4413 from freedomofpress/docs-submission-key

[docs] Standardize Submission Key language and usage"
redshiftzero,2019-05-09 13:48:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/13e3a0ff31ab69a73b5dff826ebd019cb13dba2a,13e3a0ff31ab69a73b5dff826ebd019cb13dba2a,"Merge pull request #4419 from zenmonkeykstop/4418-add-locales-in-staging

added Greek and Arabic supported locales in staging"
zenmonkeykstop,2019-05-08 21:23:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e51f745f36c3673097350bc85ef48430ceb2adb5,e51f745f36c3673097350bc85ef48430ceb2adb5,added Greek and Arabic supported locales in staging
redshiftzero,2019-05-09 02:23:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/144f3648730129d5319ad89083966085dcdccc81,144f3648730129d5319ad89083966085dcdccc81,"Merge pull request #4416 from freedomofpress/4341-remove-trusty-logic

Remove Trusty-specific logic"
emkll,2019-05-09 00:57:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c3d9fc200f92095d17141e6c550400100fe9a659,c3d9fc200f92095d17141e6c550400100fe9a659,Remove docs references to Trusty dev env
redshiftzero,2019-05-09 00:45:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a5e4718dfd95311936f92928eb192182b9ecd4be,a5e4718dfd95311936f92928eb192182b9ecd4be,virtualbox-staging-xenial: Update paths to playbooks
redshiftzero,2019-05-08 19:31:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cbc1172a7a59627a4cfdbe5602127c8f240415da,cbc1172a7a59627a4cfdbe5602127c8f240415da,"Merge pull request #4407 from dcfix/develop

added type hinting"
emkll,2019-05-08 18:58:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a22a24c8a8742f82812c0a102d7175c7e52a1bb5,a22a24c8a8742f82812c0a102d7175c7e52a1bb5,"Merge pull request #4412 from yingw787/develop

Add in hypothesis support and example hypothesis test on encrypt/decrypt functionality in test_crypto_utils.py."
redshiftzero,2019-05-08 18:37:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c4a8292c7d8ab3b956714b19d6ebf4a718f545b4,c4a8292c7d8ab3b956714b19d6ebf4a718f545b4,"Merge pull request #4409 from Dalek-Sec/patch-1

Use updated links from Tails website"
yingw787,2019-05-07 18:43:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c8d38dac4567f083faf451e3fc3f861ff7ad9949,c8d38dac4567f083faf451e3fc3f861ff7ad9949,"Update test-requirements.in add in dependency hypothesis, and update test-requirements.txt ran pip-compile to update file.

Update test_crypto_util.py add hypothesis import and add test method test_encrypt_then_decrypt_gives_same_result().

Update test_crypto_util.py create working hypothesis test on happy path assumption of correct name and secret pre-validation; have working imports, and working decrypt.

Update conftest.py update global hypothesis configuration in order to remove deadline limit to prevent integration tests from timing out.

Update test_crypto_util.py update method test_encrypt_then_decrypt_gives_same_result() decode decrypted ciphertext as unicode in order to correctly compare against generated char sequence hypothesis.strategies.text().

Remove unused import froso that linter checks pass.

Update test_crypto_util.py add in Python 2/3 compatibility in test, and update docstring to remove reference to saving/loading disk."
Dalek-Sec,2019-05-07 14:59:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/955d6aece3d5c445243339cccee8fb8f0227db4f,955d6aece3d5c445243339cccee8fb8f0227db4f,"Use updated links from Tails website

I left the later link about persistence which describes the things you can enable.
In the list, I used the new link which gives clear, pretty instructions
`Download and verify the Tails .iso and install onto a USB stick or SD card` isn't showing up as a link in the preview, and I don't know why."
emkll,2019-05-08 16:39:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e1526928200a5d566bc7f11bc4cdbb8041bb9c8,3e1526928200a5d566bc7f11bc4cdbb8041bb9c8,Remove reference to Trusty in app code build logic
emkll,2019-05-08 00:06:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b4864a8b12f00a1ac90ca6b591a12bedb1ff96b,1b4864a8b12f00a1ac90ca6b591a12bedb1ff96b,Remove references to Trusty in testinfra tests
emkll,2019-05-07 23:48:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e0acf15cdf8857d3e23e822c02acc21856b23f7,0e0acf15cdf8857d3e23e822c02acc21856b23f7,Remove Trusty upgrade scenario
emkll,2019-05-07 23:46:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2bef4f9c3824fc0824a9922dfbbac53ccd854da5,2bef4f9c3824fc0824a9922dfbbac53ccd854da5,"Remove vagrant packager for Trusty images

Used for SecureDrop upgrade testing"
emkll,2019-05-07 23:45:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d92445381d7d99c8e1ce6b9a61583451389bd175,d92445381d7d99c8e1ce6b9a61583451389bd175,Remove virtualbox-staging molecule scenario
emkll,2019-05-07 17:33:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4376e0f226ade79612c07650166d37529ffa7bc6,4376e0f226ade79612c07650166d37529ffa7bc6,"Remove libvirt-staging molecule scenario

Also removes platform support from CI tooling"
emkll,2019-05-07 17:11:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/94ef7ede1cb9faf95f2e6318225bf156d3bf8694,94ef7ede1cb9faf95f2e6318225bf156d3bf8694,Move builder-trusty tests to builder-xenial
eloquence,2019-05-07 23:37:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/990b591527595ade08afed504cf660985cb18f7d,990b591527595ade08afed504cf660985cb18f7d,"Standardize Submission Key language and usage

This also revises the SVS description slightly (nowhere else
do we explicitly instruct people to use the SVS for _generating_
journalist keys, and in this context it feels more confusing than
helpful). It renames a file that used the old ""application key""
term.

I chose to use the shorter ""Submission Key"" instead of
""SecureDrop Submission Key"" since other terms like
*Journalist Workstation* are also SecureDrop-specific, and the
convention to italicize such terms makes it reasonably clear
that they carry a context-specific meaning.

Resolves #2579
Resolves #4122"
conorsch,2019-05-07 22:18:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9892d221471cb1ba82e3ec92d537823dcf225b2e,9892d221471cb1ba82e3ec92d537823dcf225b2e,"Merge pull request #4368 from zenmonkeykstop/4360-docs-passphrases-cleanup

[docs] Clarifies use of KeePassX in passphrases docs"
emkll,2019-05-07 17:03:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/53a884267015ae0930ee90e320db2b70490f2fae,53a884267015ae0930ee90e320db2b70490f2fae,Remove Trusty Docker development environment
emkll,2019-05-07 16:57:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da133f43b1cb86882094d5e32373227988a1c93f,da133f43b1cb86882094d5e32373227988a1c93f,Remove Trusty ci jobs
emkll,2019-05-07 16:03:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1ad409c5649230145b94376fe1f8dd20c907b601,1ad409c5649230145b94376fe1f8dd20c907b601,"Revert ""added negative test for date to Xenial alert""

This reverts commit 4aaa0d8249769f4495b5c299a59eabe4b9a8e491."
emkll,2019-05-07 15:58:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c313681a473a04f8ef9f3078f0b361813ae214c9,c313681a473a04f8ef9f3078f0b361813ae214c9,"Revert ""Added alert to admin interface of instances still on Trusty after Mar 4""

This reverts commit 0c40c93ae33189b97d0cfa8bb20a33065f2fa2c7."
emkll,2019-05-07 15:53:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c37c5d567de10e363fbf7d47f58f5974f9a1373,0c37c5d567de10e363fbf7d47f58f5974f9a1373,"Revert ""updated apparmor rules to allow apache2 to check /etc/lsb-release""

This reverts commit aa368e828f639b67b123876cbeee67b911940f33."
emkll,2019-05-07 15:45:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a1f7aedffcd5dda69e111fda3d9ed0a8f1878409,a1f7aedffcd5dda69e111fda3d9ed0a8f1878409,"Revert ""Disable source interface when Trusty is end-of-life""

This reverts commit d540f6e0dc4a1d2109409b45add7170de2e8bb82."
zenmonkeykstop,2019-04-24 17:10:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5899925a1584e8db372439a69c05db8c34ec62a1,5899925a1584e8db372439a69c05db8c34ec62a1,clarified passphrases docs
dcfix,2019-05-07 18:07:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/64d5e2d6d76956fcc4f8bc4b27f273de1c557183,64d5e2d6d76956fcc4f8bc4b27f273de1c557183,Changed HTTPException import source
emkll,2019-05-07 15:44:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/610eefe769574a1b0c15d050bea95ebb03290f76,610eefe769574a1b0c15d050bea95ebb03290f76,"Revert ""Make org-logo static""

This reverts commit 95c0c31fdc38eafc60932d7eec1e6ab57c290025."
emkll,2019-05-07 15:40:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d4eac0b67c145eb2a83bd2d9d926b8b06daee15,7d4eac0b67c145eb2a83bd2d9d926b8b06daee15,"Merge pull request #4349 from freedomofpress/revoke-tokens

Logout to revoke tokens"
dcfix,2019-05-06 19:44:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a03923f2d277c75267f72666fe480ab295169517,a03923f2d277c75267f72666fe480ab295169517,fixed type hints
dcfix,2019-05-06 19:00:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/792cf9b8791ab4f75800d48eaa54a71f1137855d,792cf9b8791ab4f75800d48eaa54a71f1137855d,Added noqa: F401 annotations
dcfix,2019-05-06 17:57:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a2c1d11081e859667b8b4d66f9bb02197caaf10e,a2c1d11081e859667b8b4d66f9bb02197caaf10e,added type hinting
emkll,2019-05-05 03:56:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9a52a9280e40624ca58b398d93be1742d3f23512,9a52a9280e40624ca58b398d93be1742d3f23512,"Merge pull request #4405 from lbeaufort/docs-glossary-rename

Rename 'Terminology' section to 'Glossary'"
lbeaufort,2019-05-04 20:29:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8798db05e69647c0a7cbc3c5917849e0544e09d6,8798db05e69647c0a7cbc3c5917849e0544e09d6,Rename 'Terminology' section to 'Glossary'
redshiftzero,2019-05-04 17:13:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b4bc5c21b96ce1eb98b3e1cb973ce83ebcbffb2a,b4bc5c21b96ce1eb98b3e1cb973ce83ebcbffb2a,"Merge pull request #4404 from freedomofpress/example-pr-for-sprints

type hinting: securedrop/rm.py"
redshiftzero,2019-05-04 02:14:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/06c46aac4c3e427028a14b1b024a36e3b0813e1c,06c46aac4c3e427028a14b1b024a36e3b0813e1c,type hinting: securedrop/rm.py
conorsch,2019-05-02 16:03:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e01e9d3632ddb455cec4b043f4656eb1132e9c85,e01e9d3632ddb455cec4b043f4656eb1132e9c85,"Merge pull request #4393 from freedomofpress/1824_PortSDUpgradeBoxStorage

Provide 0.12.2 upgrade boxes"
zenmonkeykstop,2019-05-01 18:36:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/72460b6432854d5504704d8d3f9b3f20d8654020,72460b6432854d5504704d8d3f9b3f20d8654020,"Merge pull request #4395 from freedomofpress/docs-trusty-no-more

Add instructions for SecureDrop upgrades to Ubuntu 16.04 after EOL"
eloquence,2019-04-30 23:54:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/53971e2e7566faf87abd2bd86c62de2317911253,53971e2e7566faf87abd2bd86c62de2317911253,Add instructions for SecureDrop upgrades to Ubuntu 16.04 after EOL
redshiftzero,2019-05-01 04:14:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b1e3e51ae50478d7b2e078b2702a8e15404fec7,8b1e3e51ae50478d7b2e078b2702a8e15404fec7,docs: update journalist API documentation for logout endpoint
redshiftzero,2019-05-01 04:07:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a1ca5ebec6c5782c3fe85b58c729ac39613f36ba,a1ca5ebec6c5782c3fe85b58c729ac39613f36ba,test: tests that don't use the app fixtures need to create a db
redshiftzero,2019-04-30 23:50:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d7e702a5f04f1e9e544b4e99eb57f6a9ddeabbe,0d7e702a5f04f1e9e544b4e99eb57f6a9ddeabbe,test: cover new utility function for revoked token cleanup
redshiftzero,2019-04-30 23:11:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7518e077dd699bf546fcd26c85194caf4a647729,7518e077dd699bf546fcd26c85194caf4a647729,app: clean up no longer needed revoked tokens from the database
redshiftzero,2019-04-30 22:44:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e3da51c7a0a6e72103fdd4f39af4db8781095716,e3da51c7a0a6e72103fdd4f39af4db8781095716,"Merge pull request #4394 from freedomofpress/docs-bump-to-0.12.2

[docs] Bump SecureDrop version in docs to 0.12.2"
emkll,2019-04-30 22:31:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/209fc1da31f05962a8d124774d2810e00e4374d7,209fc1da31f05962a8d124774d2810e00e4374d7,"Bump docs version to 0.12.2

These changes we omitted while backporting 0.12.2 commits back into the develop branch."
redshiftzero,2019-04-30 21:00:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5240e5f3f1cc9cc4dab50480865eb691f790c6a7,5240e5f3f1cc9cc4dab50480865eb691f790c6a7,"Merge pull request #4392 from rmol/fix-4328-dev-submission-deletion

Run supervisord and our rq worker in dev containers"
msheiny,2019-04-30 18:09:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dfde5567d715618bfb38d94dd1065676deeaeac9,dfde5567d715618bfb38d94dd1065676deeaeac9,Update all vagrant box files for new bucket location
redshiftzero,2019-04-30 17:02:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4e567f2e7fdb3166460c22d83f6efbdfc58ed94f,4e567f2e7fdb3166460c22d83f6efbdfc58ed94f,"Merge pull request #4369 from zenmonkeykstop/4307-docs-clarify-ws-reqs

[docs] Clarified workstation hardware requirements"
emkll,2019-04-30 15:10:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/581efc2c7005b1d660f765195492d8dc8328e08b,581efc2c7005b1d660f765195492d8dc8328e08b,Add securedrop_code var to upgrade scenario
emkll,2019-04-30 14:31:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ffb4c7c4f2baf01ea2586958fa9a7d700f452ae,7ffb4c7c4f2baf01ea2586958fa9a7d700f452ae,Feed linter
emkll,2019-04-30 13:58:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c50d9aa4dd2baca4a23f9bb658daf3fafbb06c70,c50d9aa4dd2baca4a23f9bb658daf3fafbb06c70,Use new s3 bucket for upgrade boxes
emkll,2019-04-29 15:55:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/740336a3fa113386528ceaf0be343c902fcbe160,740336a3fa113386528ceaf0be343c902fcbe160,Add 0.12.2 upgrade boxes
msheiny,2019-04-30 00:48:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90871494a29dbd9998b7352e3cbcf467db94de48,90871494a29dbd9998b7352e3cbcf467db94de48,"Adds index generation script to bucket upload

Since our buckets are behind cloudfront and AWS is not smart enough to
generate it's own index files - let's create them on-the-fly during
upload time. This will be visible at:
https://dev-bin.ops.securedrop.org/vagrant/"
msheiny,2019-04-30 00:46:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/75e63e217d117db8c0a50c37059587e100a5717b,75e63e217d117db8c0a50c37059587e100a5717b,"Assume role on bucket upload to target new bucket

Things got shifted a bit in the release story, now we have a bucket that
exists at dev-bin.ops.securedrop.org. These files should be placed here
under the /vagrant/ key."
rmol,2019-04-29 22:30:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8fef9676853dde30f9c501d69bc6d40baf9083a0,8fef9676853dde30f9c501d69bc6d40baf9083a0,"Run supervisord and our rq worker in dev containers

To ensure asynchronous processes like submission deletion and hashing
happen in dev containers, run supervisord and our rq worker.

This adds a ""run_supervisor"" function in dev-deps that creates a
supervisor config under /tmp (which just runs the rq worker), and
starts supervisor.

That function is now invoked in securedrop/bin/run.

The Dockerfiles now install supervisor via pip or pip3.

Fixes #4328."
heartsucker,2019-04-28 13:04:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d8a6181bc30f4ef52a4a2e9e40567c1d0ccaf423,d8a6181bc30f4ef52a4a2e9e40567c1d0ccaf423,"Merge pull request #4391 from freedomofpress/fix-session-500

bugfix 4361: resolve KeyError on codename session bug"
heartsucker,2019-04-28 12:59:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/53847aafc28fac1d3df0b5c0acca89440c6fd5be,53847aafc28fac1d3df0b5c0acca89440c6fd5be,"Merge pull request #4390 from freedomofpress/update-code-owners

code ownership: add @zenmonkeykstop to docs/*"
redshiftzero,2019-04-27 22:42:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/105e021142c27706e4991c80e4546677dcdd39e9,105e021142c27706e4991c80e4546677dcdd39e9,"app: delete session['logged_in'] when we delete session['codename']

Ref: https://github.com/freedomofpress/securedrop/issues/4361"
redshiftzero,2019-04-27 22:33:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2c8fa3c5315466f4c2815548ddf8722bb15fa59e,2c8fa3c5315466f4c2815548ddf8722bb15fa59e,test: reproducer for bug #4361 due to session['logged_in']
redshiftzero,2019-04-27 15:57:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c24f61f7408b7e8f412d14ea3eab441178171938,c24f61f7408b7e8f412d14ea3eab441178171938,"Merge pull request #4388 from freedomofpress/update-builder-testing

Run deb tests when updating builder image"
emkll,2019-04-26 19:23:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a87e0fbbae67eab49ed11d6ebf53fb22cd96678,1a87e0fbbae67eab49ed11d6ebf53fb22cd96678,"Merge pull request #4389 from rmol/backport-0.12.2-changelog

Backport 0.12.2 changelog."
zenmonkeykstop,2019-04-26 19:11:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f471d8e14fd4c6065477a7ad50ab254a46e61ee,6f471d8e14fd4c6065477a7ad50ab254a46e61ee,"Merge pull request #4359 from freedomofpress/docs-enable-logging

[docs] More detailed guide to investigating and enabling logs"
redshiftzero,2019-04-26 18:59:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/25d3e618681c2f85b9bdd8d9882dd402d1e49e5f,25d3e618681c2f85b9bdd8d9882dd402d1e49e5f,code ownership: add @zenmonkeykstop to docs/*
zenmonkeykstop,2019-04-26 18:57:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27564e701e10a320a03e7d24041c3f38774020a5,27564e701e10a320a03e7d24041c3f38774020a5,"Merge pull request #4386 from freedomofpress/docs-github-release

[docs] Add steps for creating GitHub release, notifying support portal to release process"
emkll,2019-04-26 17:38:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1489c0c591a989907aa4cdf1bb93dfdd67df4d4b,1489c0c591a989907aa4cdf1bb93dfdd67df4d4b,"Merge pull request #4370 from zenmonkeykstop/docs-4255-4137-fixes

[docs] Fixes errors in landing page and onboarding documentation."
emkll,2019-04-25 18:01:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78ec090f596ba42735a2bab6877789c97adf3130,78ec090f596ba42735a2bab6877789c97adf3130,"SecureDrop 0.12.2

(cherry picked from commit 138d67f7130813dc81a6b5c7c22f52bc90070631)"
emkll,2019-04-24 22:21:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e29fd2412a65cbd6bbae9f945e2edf4985918a29,e29fd2412a65cbd6bbae9f945e2edf4985918a29,"SecureDrop 0.12.2-rc2

(cherry picked from commit 50188215939c574f97d8f6f852d980235c1d63ea)"
emkll,2019-04-17 18:34:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0728918b7f1901176a9af6c6a740c2242b28c773,0728918b7f1901176a9af6c6a740c2242b28c773,"SecureDrop 0.12.2-rc1

(cherry picked from commit 4154adc7982a9e4f04825c980bb69c5b012cab2d)"
emkll,2019-04-25 16:09:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a11085bfcb09eacd00053c10f4189008131e15dd,a11085bfcb09eacd00053c10f4189008131e15dd,CI: run deb tests when updating builder image
eloquence,2019-04-26 00:36:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c796b62504dc7a08696061c129c2d478d0e84f94,c796b62504dc7a08696061c129c2d478d0e84f94,"Add steps for creating GitHub release, notifying support portal"
emkll,2019-04-25 17:24:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b7cbe7e6bca08eea0fde6cdbfc285acab630326f,b7cbe7e6bca08eea0fde6cdbfc285acab630326f,"Merge pull request #4380 from freedomofpress/builder-update-20190425

Update builder hashes"
emkll,2019-04-25 17:20:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b79cddb8cb1df86c27d9b60f7145228a3a2acd74,b79cddb8cb1df86c27d9b60f7145228a3a2acd74,"Merge pull request #4377 from freedomofpress/docs-upgrade-0121-to-0122

[docs] Add 0.12.1->0.12.2 upgrade docs"
emkll,2019-04-25 17:07:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/64e6f06a72b7a89fcabc856e7e216aed7edc3cc5,64e6f06a72b7a89fcabc856e7e216aed7edc3cc5,"Merge pull request #4378 from freedomofpress/docs-ansible-workaround

[docs] Add instructions for deleting ~/.ansible/cp to work around #4364"
emkll,2019-04-25 14:43:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3512c580a75f5e517f5a9b0854af551b30dd6c10,3512c580a75f5e517f5a9b0854af551b30dd6c10,"Update builder hashes

Builder images needed security updates"
eloquence,2019-04-25 05:33:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/581c6cda8553d6c887e3ee08b85252ecb0934152,581c6cda8553d6c887e3ee08b85252ecb0934152,"Add instructions for deleting ~/.ansible/cp to work around #4364

These instructions should be removed once #4364 is reliably
resolved."
eloquence,2019-04-24 23:21:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e80f255116d19ca4793c784885f59110a231941e,e80f255116d19ca4793c784885f59110a231941e,"Add 0.12.1->0.12.2 upgrade docs

Mainly standard workstation update docs in case the graphical
updater fails, and a reminder to upgrade to Ubuntu 16.04."
emkll,2019-04-24 19:51:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1736d6583ef0a42e62334f1a73f9f5270e0bcd49,1736d6583ef0a42e62334f1a73f9f5270e0bcd49,"Merge pull request #4367 from rmol/fix-4362

Add pinentry-gtk-2 to Apache2 AppArmor profile"
emkll,2019-04-24 19:36:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b1842a28af1aa02c7a360a46ec670e3c82a61b2,3b1842a28af1aa02c7a360a46ec670e3c82a61b2,"Merge pull request #4365 from freedomofpress/gpg-handle-valueerror

monkey patch gnupg._parsers.DeleteResult._handle_status"
zenmonkeykstop,2019-04-24 19:31:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ef133b18f0f61014ac9b47435a7c1fb69016b14,5ef133b18f0f61014ac9b47435a7c1fb69016b14,added 'securedrop-admin setup' step in journalist workstation configuration docs
zenmonkeykstop,2019-04-24 19:27:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d7c968834dc69582daa1440ecc0c023e77b4de1c,d7c968834dc69582daa1440ecc0c023e77b4de1c,updates deployment docs to clarify how to disable nginx logging
zenmonkeykstop,2019-04-24 18:25:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d569aa57ab5f35f82fb3c6c3e5319e1c560b85bf,d569aa57ab5f35f82fb3c6c3e5319e1c560b85bf,clarified workstation hardware reqs
eloquence,2019-04-20 01:04:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/433ead7888e5e7eae249ee4719a9f5740f346176,433ead7888e5e7eae249ee4719a9f5740f346176,"More detailed guide to investigating and enabling logs

""Look at these logs"" is one of the most common support responses,
so having canonical and correct information in the public docs
is important and  reduces the risk of small errors in these
communications.

I moved the `securedrop-admin logs` instructions into an include
file, since it is a common operation we will likely want to refer
to again in future, and renamed the section to ""Investigating
Logs"", since it is now hopefully beginning to be deserving of
such a title. ;)

Resolves #4356"
rmol,2019-04-24 15:10:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a7f65f90cb6ddc7ff97f86e9ea3165edbdcf7ea7,a7f65f90cb6ddc7ff97f86e9ea3165edbdcf7ea7,"Add pinentry-gtk-2 to Apache2 AppArmor profile

Fixes #4362"
redshiftzero,2019-04-23 23:21:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/16ec5709d678b3c9433c48203fb6502385a526aa,16ec5709d678b3c9433c48203fb6502385a526aa,"test: regression coverage for defect #4294

Mock internal python-gnupg method to generate ValueError from
the _handle_status method on DeleteResult"
redshiftzero,2019-04-23 21:21:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/745ca501bd31c902c1e34acb47aba3a84f38e811,745ca501bd31c902c1e34acb47aba3a84f38e811,"monkey patch gnupg._parsers.DeleteResult._handle_status

to handle PINENTRY_LAUNCHED key

ref: https://github.com/freedomofpress/securedrop/issues/4294"
conorsch,2019-04-23 17:00:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7765fde1f94b92615e75345a18c1399202f958d2,7765fde1f94b92615e75345a18c1399202f958d2,"Merge pull request #4344 from zenmonkeykstop/4342-fix-qubes-staging-target

update qubes staging Makefile target to use Xenial by default"
heartsucker,2019-04-16 12:29:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b2d91ced191f60ab5538e27d9e992b25b20f61bf,b2d91ced191f60ab5538e27d9e992b25b20f61bf,updated migration tests to include revoked_token table
heartsucker,2019-04-16 12:08:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd78d7732c62e62b6659f31ee9c2a5a7f18f5f2f,bd78d7732c62e62b6659f31ee9c2a5a7f18f5f2f,updated migration to include revoked_tokens table
heartsucker,2019-04-15 17:29:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/707d061d0f6f8947360dabf214a0265b860115f6,707d061d0f6f8947360dabf214a0265b860115f6,added token revoke endpoint
heartsucker,2019-04-15 15:59:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6928d9fc99a6871f62ba52b511989bb0b512ddf7,6928d9fc99a6871f62ba52b511989bb0b512ddf7,added token revocation
redshiftzero,2019-04-22 18:54:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/839415f2db9439e7b0c2a827b713da54ace28204,839415f2db9439e7b0c2a827b713da54ace28204,"Merge pull request #4314 from freedomofpress/sha256-etag

calculated etag as sha256 of file on disk"
zenmonkeykstop,2019-04-16 17:21:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/94062b3047faec3504d751c5ccbb9672aa19cd28,94062b3047faec3504d751c5ccbb9672aa19cd28,"moved GRUB customization to sd-staging-base setup, changed make-build-debs-xenial ref to make build-debs"
zenmonkeykstop,2019-04-14 15:21:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8a3e8612a10c995db75d04811ca390a5df71fe1,e8a3e8612a10c995db75d04811ca390a5df71fe1,update qubes staging Makefile target to use Xenial by default
redshiftzero,2019-04-18 19:52:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9bdf727ea26447f22b952db87bffd192b59dfda3,9bdf727ea26447f22b952db87bffd192b59dfda3,"Merge pull request #4353 from rmol/fix-dockerfiles

Fix Dockerfiles, create-dev-data"
heartsucker,2019-04-18 10:56:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c0a0ccd296e8aec15eb29fb3012ede9d83eeb719,c0a0ccd296e8aec15eb29fb3012ede9d83eeb719,dont use hasattr for checking presence of attrs
rmol,2019-04-17 20:40:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/62452ff553abc2ccc553e3a81d237b6f48cfed8e,62452ff553abc2ccc553e3a81d237b6f48cfed8e,"Fix Dockerfiles, create-dev-data

In the Dockerfiles, running apt-install in a separate RUN after
apt-update could fail if the output of the apt-update's RUN were
cached; apt-install could be looking for outdated versions of
packages.

In create-dev-data, fix a misplaced print/format parenthesis."
redshiftzero,2019-04-17 17:12:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30a2e01c00fd381533604901f22a12328f3411ca,30a2e01c00fd381533604901f22a12328f3411ca,"Merge pull request #4351 from freedomofpress/update-builder-20190416

Update builder images"
redshiftzero,2019-04-16 21:34:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/adf9c6815e3ae21ff2d49ca39e90e6e91ecaf2ac,adf9c6815e3ae21ff2d49ca39e90e6e91ecaf2ac,"Merge pull request #4346 from freedomofpress/4343-jinja-2.10.1

Update Jinja2 to 2.10.1, Ansible to 2.6.14 and SQLAlchemy to 1.3.0"
emkll,2019-04-16 21:19:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c93a0485612df40337e9eb1c65636ef6c76936b1,c93a0485612df40337e9eb1c65636ef6c76936b1,"Update builder images

Builder images needed security updates."
emkll,2019-04-16 19:56:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/53ef10666ffa06cbe846646cf9470401f8b25ebc,53ef10666ffa06cbe846646cf9470401f8b25ebc,"Fix Journalist interface test

SQLAlchemy output has changed slightly in newer versions."
emkll,2019-04-16 17:11:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f0d1414e3c29b0bb04505b768ca4e2ba8d64ecf,2f0d1414e3c29b0bb04505b768ca4e2ba8d64ecf,"Update SQLAlchemy to 1.3.0

Address CVE-2019-7164 and CVE-2019-7548"
emkll,2019-04-15 18:28:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45fcd7b03340a075412c54b9c6d529b51b27266c,45fcd7b03340a075412c54b9c6d529b51b27266c,"Bump Ansible to 2.6.14

Address CVE-2019-3828"
emkll,2019-04-15 18:10:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/19a6b0a33066b81ceabf0a8e883c597d333ec4ad,19a6b0a33066b81ceabf0a8e883c597d333ec4ad,"Update Jinja to 2.10.1

Address CVE-2019-10906

develop-requirements uses Molecule and the version of Jinja used by Molecule is locked in https://github.com/ansible/molecule/blob/master/setup.cfg#L80 . This will require an upsteam change as pip will not be able to compile the requirements."
heartsucker,2019-04-02 14:53:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a9ed831fc83acc008c329fb9970af5748a887bd,7a9ed831fc83acc008c329fb9970af5748a887bd,added alembic migration and tests
heartsucker,2019-04-02 10:39:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e0a10ad7ec3c7fe663499a3dff65fad95a1a1ac6,e0a10ad7ec3c7fe663499a3dff65fad95a1a1ac6,added notes about rq worker return values
heartsucker,2019-04-02 10:37:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca658621a0918cff3c3f96028ac244348be4728e,ca658621a0918cff3c3f96028ac244348be4728e,added tests to journalist api for etags / checkshums
heartsucker,2019-04-02 10:36:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/356e6a2e81331d2527e2d147cc96d195b6afc3fc,356e6a2e81331d2527e2d147cc96d195b6afc3fc,"added extra logging, better variable setting for test rq worker"
heartsucker,2019-04-02 10:35:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/880966f8cb790416cdff5492602b60547ff14435,880966f8cb790416cdff5492602b60547ff14435,add etags during api response
heartsucker,2019-04-02 10:22:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/73431a98dcb2903050a7d0e8b3ec771b71672b3e,73431a98dcb2903050a7d0e8b3ec771b71672b3e,added rq checksum generating jobs during replies
heartsucker,2019-04-02 10:21:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1eb2781631e4db89c785b757060cc25153b24254,1eb2781631e4db89c785b757060cc25153b24254,added rq checksum generating jobs during submissions
heartsucker,2019-04-02 10:20:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c5e8a50d8e9ecc9073293a22ae0a63636804b610,c5e8a50d8e9ecc9073293a22ae0a63636804b610,added tests for helper functions
heartsucker,2019-04-02 10:19:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b75573c8da009c001ca0564e92326ef6a28f6d72,b75573c8da009c001ca0564e92326ef6a28f6d72,added helper functions for generating checksums for replies and submissions
heartsucker,2019-03-27 12:21:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6bb5ef9124af388ea96c6c47003013aeb029d10c,6bb5ef9124af388ea96c6c47003013aeb029d10c,factor rq worker into a per-app extension
heartsucker,2019-03-26 16:06:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/72c7914c781d498f4a5019f40394e2319bd2b980,72c7914c781d498f4a5019f40394e2319bd2b980,added checksum columns to submission/reply tables
heartsucker,2019-04-16 10:43:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4410a6cc8804a5c0a91a6abbc9640ba525196a12,4410a6cc8804a5c0a91a6abbc9640ba525196a12,"Merge pull request #4239 from freedomofpress/pyyy3

Make application code Python 3 compliant"
heartsucker,2019-04-16 08:40:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7729d35d5ed214cd91eae138eba7b250358d1424,7729d35d5ed214cd91eae138eba7b250358d1424,"Merge pull request #4348 from freedomofpress/3636-trusty-cleanup-gettext

[provisioning] cleanup now not needed trusty gettext install logic"
redshiftzero,2019-04-16 04:49:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/44e8d062b441df8cac8c956a4c72565c8df5d1f1,44e8d062b441df8cac8c956a4c72565c8df5d1f1,"ci: fix app-test job, DRY up docker layer cache loading"
redshiftzero,2019-04-16 01:20:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3d3e0d876a871d6bcf5601e2171280011486315f,3d3e0d876a871d6bcf5601e2171280011486315f,python 2/3 compatibility: cleaning up nits before merge
redshiftzero,2019-04-16 00:40:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3606e48fd5fe9cc4c3dacc92a9bc07187499fe3e,3606e48fd5fe9cc4c3dacc92a9bc07187499fe3e,docs: explain how to use dev env and run tests on either py2 or 3
redshiftzero,2019-04-16 01:04:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a886f810e9510d49ec0b488ebbf6317be3ca7a02,a886f810e9510d49ec0b488ebbf6317be3ca7a02,"Merge pull request #4340 from freedomofpress/4339-apache-log-ossec-alert

Override level of apache error log in ossec config"
redshiftzero,2019-04-12 00:52:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f39195f2bb291667454bcc1b25a1e1fd54853ae8,f39195f2bb291667454bcc1b25a1e1fd54853ae8,python 2/3 compatibility: use six.BytesIO in test_submit_file
redshiftzero,2019-04-12 00:30:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9e8b6b1d12763b38261e2887cb603673135670b9,9e8b6b1d12763b38261e2887cb603673135670b9,python 2/3 compatibility: use six.text_type where possible
kushaldas,2019-04-10 14:23:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2030779fac18ea95c806ed3a3314aa2d5914578f,2030779fac18ea95c806ed3a3314aa2d5914578f,"Updates code branching for Python2 vs Python3

Based on code review and easy code reading of the branches."
kushaldas,2019-04-10 09:33:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45b635136b8b2e8012dba9e70063778fdb6baddb,45b635136b8b2e8012dba9e70063778fdb6baddb,Fixes code formatting for CI
kushaldas,2019-04-10 09:32:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/14f5cc7719189c380dfdc5c75224983b73a8db70,14f5cc7719189c380dfdc5c75224983b73a8db70,Uses six for unicode in Python2 and Python3
kushaldas,2019-04-09 17:21:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/08c6301dbefe3e05346e3b99078169070c656b2d,08c6301dbefe3e05346e3b99078169070c656b2d,Uses six for both Python2 and Python3
kushaldas,2019-04-09 16:57:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a9b75fdb3b9c5476cbc904b3a2fbe2f9ffe33a5d,a9b75fdb3b9c5476cbc904b3a2fbe2f9ffe33a5d,Uses six for both Python2 and Python3
kushaldas,2019-04-09 16:56:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a669aa442b415074cf0d9804c608b9d232ab5434,a669aa442b415074cf0d9804c608b9d232ab5434,Assert based on python2 or python3
kushaldas,2019-04-09 16:06:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f3855ae009e6763e6362356c4c0de7ac95db8c01,f3855ae009e6763e6362356c4c0de7ac95db8c01,Uses six to work on both Python2 and 3
redshiftzero,2019-04-08 19:31:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0af962c4a335d388b921b98b65887f11102f9a0a,0af962c4a335d388b921b98b65887f11102f9a0a,"python 2/3 compatibility: use input() from six

(bandit will flag the use of input() in python 2 as a high severity
security issue otherwise)

Also adds a wrapper as a workaround for
https://github.com/pytest-dev/pytest/issues/1598"
redshiftzero,2019-04-08 16:26:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5335bb2e905e8cd411f0d38eb6f2e257115f94f3,5335bb2e905e8cd411f0d38eb6f2e257115f94f3,round of flake8 fixes
redshiftzero,2019-04-08 16:25:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/41ef26069e0da1c0e7e24621dcc126d207f9d075,41ef26069e0da1c0e7e24621dcc126d207f9d075,python 2/3 compatibility: fix test_api_error_handlers_defined
redshiftzero,2019-04-08 15:01:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8e0aeb7d430a52fb708cc71e137effca3f67dc83,8e0aeb7d430a52fb708cc71e137effca3f67dc83,python 2/3 compatibility: update remainder of imports
redshiftzero,2019-04-08 14:56:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf5460d1c77b7575e19d4ed35d481470e4728e29,bf5460d1c77b7575e19d4ed35d481470e4728e29,"python 2/3 compatibility: revert when python 3 is ready for prod

this commit reverts changes in python->python3, which can only
be deployed when python3 changes are ready for prod. For now, we
plan on having both python2 and python3 compatibility, and we will
update the shebangs to point to /usr/bin/env python3 when we
remove support for python2 and deploy python3 to prod (to be done
in a single release)."
redshiftzero,2019-03-23 00:09:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/80b5a93afbbf5181a41f5797b971f67c2b3ad19f,80b5a93afbbf5181a41f5797b971f67c2b3ad19f,dev: remove ticker
redshiftzero,2019-03-22 22:34:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a8ca222c41f9fdd5d6d2422c6c25c03e65568b7,8a8ca222c41f9fdd5d6d2422c6c25c03e65568b7,dev: add makefile target for running test suite under python 3
redshiftzero,2019-03-22 20:33:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/945211d9f8b72257120c8510a69021cfff90cb62,945211d9f8b72257120c8510a69021cfff90cb62,dev: add python 2 / 3 functionality to dev env
redshiftzero,2019-03-22 20:31:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5935641991ff9d0d74fc72a4fd77fa8f4e353965,5935641991ff9d0d74fc72a4fd77fa8f4e353965,dockerfile: move trusty dockerfile into python2 dir
redshiftzero,2019-03-22 19:55:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac92d2adf0e1093765522ffd45975fd8940307bf,ac92d2adf0e1093765522ffd45975fd8940307bf,ci: add application test run on python 3 (xenial only)
redshiftzero,2019-03-22 19:42:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc1dd67386a066b4ba83cee8eb467c061bf0221b,fc1dd67386a066b4ba83cee8eb467c061bf0221b,dockerfiles: add python2 and python3 dockerfiles
kushaldas,2019-03-21 18:39:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7eb87be08ed0d9e701ceb39f4678fc825a0df721,7eb87be08ed0d9e701ceb39f4678fc825a0df721,Fixes bytes vs strings for Python3
kushaldas,2019-03-21 18:14:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2b50b0b481cdb43989c4e2d77b3ce8051cde2ff8,2b50b0b481cdb43989c4e2d77b3ce8051cde2ff8,Fixes bytes vs strings for Python3
kushaldas,2019-03-21 17:57:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15e443f4e064b8a20af212f4047d23aa22e1753b,15e443f4e064b8a20af212f4047d23aa22e1753b,Fixes import path for Python3
kushaldas,2019-03-21 17:54:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d152ea7480422208e072839b9ab0348f9f653e54,d152ea7480422208e072839b9ab0348f9f653e54,Fixes bytes vs strings for Python3
kushaldas,2019-03-21 17:48:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8c91695f32331339bbf9996973e5158035183152,8c91695f32331339bbf9996973e5158035183152,Uses bytes on Python3
kushaldas,2019-03-21 17:37:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fefd614db5e68ea6bab706c2c2789ae3f64de53f,fefd614db5e68ea6bab706c2c2789ae3f64de53f,"Fixes tests by mocking builtins.input function

This is the correct input method name."
kushaldas,2019-03-21 17:36:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f0750064cbcc5d3fc3806ede46ccf20b52c562a,3f0750064cbcc5d3fc3806ede46ccf20b52c562a,Python3 stdout takes care of the QR code
kushaldas,2019-03-21 17:17:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/64308a2f4806c7016720827d00de0ec69eef3b3f,64308a2f4806c7016720827d00de0ec69eef3b3f,Fixes bytes vs strings for Python3
kushaldas,2019-03-21 17:15:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/053901798082d4e510c200d785d063a070e514b9,053901798082d4e510c200d785d063a070e514b9,"Fixes encrypted reply file opening as text file

The encrypted data is already encoded to ascii, so we
can just save it with `open(filename,'w')` file."
kushaldas,2019-03-21 16:00:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7fbefcb6813c3f96cbcb0297a8bd1b870ec3f891,7fbefcb6813c3f96cbcb0297a8bd1b870ec3f891,Fixes bytes vs strings for Python3
kushaldas,2019-03-21 15:59:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a7847d3caab1002694da2819268dd511993e50fc,a7847d3caab1002694da2819268dd511993e50fc,Uses binascii.Error as the actual error in exception
kushaldas,2019-03-21 13:39:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c0a60a965bae4095cd79609c70b94fa4141d31d9,c0a60a965bae4095cd79609c70b94fa4141d31d9,Fixes for bytes vs strings in Python3
kushaldas,2019-03-21 13:36:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bfed0d1398678846f4f2cc32bbedfac150c7f872,bfed0d1398678846f4f2cc32bbedfac150c7f872,"Fixes rq on Python3

Requires any locale other than posix for click
module."
kushaldas,2019-03-21 13:04:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e31e2127d0319bfe96581245d7af48801136a1a4,e31e2127d0319bfe96581245d7af48801136a1a4,Fixes bytes vs strings for the i18n tool
kushaldas,2019-03-21 10:17:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4840a78888e71b7a28b5146d1f0c3e6f117339f,d4840a78888e71b7a28b5146d1f0c3e6f117339f,"Fixes bytes vs strings for Python3

Also fixes the import statement for Python3"
kushaldas,2019-03-06 14:35:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/14bebc390860581cf8ad044bfbd8803d5bba5a80,14bebc390860581cf8ad044bfbd8803d5bba5a80,Fixes crypto_util tests for python3
kushaldas,2019-03-06 13:49:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5a2e66fd4416cb36286e14cd29671db4d0d52c38,5a2e66fd4416cb36286e14cd29671db4d0d52c38,Mass update of tests using 2to3 tool
kushaldas,2019-03-06 13:48:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c00fdc797f74c00770aabac7ca37a3bac64d7fdd,c00fdc797f74c00770aabac7ca37a3bac64d7fdd,Mass update from 2to3 tool of the source
kushaldas,2019-03-06 13:47:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/88f30498ba426cb15514dd24ef1d080142f177e8,88f30498ba426cb15514dd24ef1d080142f177e8,Returns str instead of bytes in Python3
kushaldas,2019-03-06 13:44:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2490ba766aed58040723bd3c789f8a34157220f2,2490ba766aed58040723bd3c789f8a34157220f2,Uses Python3 interpreter
kushaldas,2019-03-06 13:30:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cbe3f251c86b3a45a2c9b1b874af763ea2d9734c,cbe3f251c86b3a45a2c9b1b874af763ea2d9734c,"Uses BytesIO for svg

In Python3 we need to use BytesIO and then later convert
bytes to string for viewing svg QR code on the browser."
kushaldas,2019-03-06 13:28:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5432a48573cee6ed0ccd644381b4776d2cac7046,5432a48573cee6ed0ccd644381b4776d2cac7046,Uses Python3 to create dev config
kushaldas,2019-03-06 13:28:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b7d08d9245388da712fdeaf02901cdf17943375,5b7d08d9245388da712fdeaf02901cdf17943375,Uses py.test executable for tests
kushaldas,2019-03-06 13:26:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f99b21165d244a43da226b4fa9141968194ea553,f99b21165d244a43da226b4fa9141968194ea553,Updates Dockerfile for Python3 environment
redshiftzero,2019-04-15 22:45:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba15bf8dd9f80cf29e874439b69bb0045ffa363e,ba15bf8dd9f80cf29e874439b69bb0045ffa363e,app-test role: cleanup now not needed trusty gettext logic
redshiftzero,2019-04-12 17:19:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0f2240ee00b176ac4270485e7cdf198b58f4fdd,f0f2240ee00b176ac4270485e7cdf198b58f4fdd,"Merge pull request #4323 from freedomofpress/docs-tails-no-more

[docs] Instruct admin to look up latest Tails version for Xenial upgrade"
redshiftzero,2019-04-12 17:12:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f3474938a7b121363cb8b0842e2d52dce58c9f72,f3474938a7b121363cb8b0842e2d52dce58c9f72,"Merge pull request #4325 from freedomofpress/4305-disable-submissions-trusty-eol

Disable Source Interface for Trusty when Trusty is end-of-life"
emkll,2019-04-12 16:19:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/26444fc5c9dc527fbf14c7d75e6f52031bdb1f29,26444fc5c9dc527fbf14c7d75e6f52031bdb1f29,"Override level of apache error log

Default is set to 0 per the apache default rules, changing to 7 in order for them to appear in logs and email."
conorsch,2019-04-12 00:18:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81fad1e9f7ffe1356d55e8b0ce52e30f8aa2a827,81fad1e9f7ffe1356d55e8b0ce52e30f8aa2a827,"Merge pull request #4337 from freedomofpress/RemoveJenkins

Remove references to legacy Jenkins setup"
msheiny,2019-04-11 23:20:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f182701220b7ea64e2e2f434b70b9c85852a469f,f182701220b7ea64e2e2f434b70b9c85852a469f,"Remove references to legacy Jenkins setup

Since we are no longer using Jenkins CI, let's remove this bit of groovy
from SD."
emkll,2019-04-10 21:02:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5c284151a553a816f9abce11c0b8562950d6da0f,5c284151a553a816f9abce11c0b8562950d6da0f,"Merge pull request #4330 from freedomofpress/docs-backup-error

Add workaround docs for MemoryError during backup"
eloquence,2019-04-10 01:08:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8571ee1100011e10e3304fb3c2526b689e793fad,8571ee1100011e10e3304fb3c2526b689e793fad,"Add workaround docs for MemoryError during backup

Time-sensitive due to Xenial updates in progress.

This will be resolved with #4326 in 0.12.1, though we may want to
keep some version of this documentation around in case people
still encounter issues during the playbook run.

Credit to @rmol for authoring the rsync command used here, which
has been used during real-world upgrades."
emkll,2019-04-10 17:32:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d540f6e0dc4a1d2109409b45add7170de2e8bb82,d540f6e0dc4a1d2109409b45add7170de2e8bb82,"Disable source interface when Trusty is end-of-life

If the underlying OS is Ubuntu 14.04 (Trusty) and the date for Trusty's end-of-life has passed, we should shortcut the source interface application logic to display an internationalized page indicating that the source interface has been disabled, to preserve the security and anonymity of sources."
emkll,2019-04-10 17:31:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/95c0c31fdc38eafc60932d7eec1e6ab57c290025,95c0c31fdc38eafc60932d7eec1e6ab57c290025,"Make org-logo static

We need this for the ignore-static decorator to allow this endpoint to be served when disabling the source interface for EOL Trusty instances."
emkll,2019-04-10 16:56:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e701cfb10f3d58c5431852f79ce0fc214efb114,0e701cfb10f3d58c5431852f79ce0fc214efb114,"Move i18n setup to new function

Needed to internationalize the disabling of source interface, to remove logic from the disable class."
emkll,2019-04-09 19:52:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/49400d004c404834895b33e22d257c2da1a314b5,49400d004c404834895b33e22d257c2da1a314b5,"Merge pull request #4319 from freedomofpress/revert-noscript

Revert ""Add instructions for working around NoScript XSS upload problem"""
redshiftzero,2019-04-08 21:52:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9ed6b88c160a22beba63ea6729b8a349a1441d06,9ed6b88c160a22beba63ea6729b8a349a1441d06,"Merge pull request #4326 from rmol/fix-backup-fetch

Backup: fetch tarball with synchronize instead of fetch"
rmol,2019-04-08 20:01:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bae36b82759ff2ba0ea0db81cedc80af73c44d87,bae36b82759ff2ba0ea0db81cedc80af73c44d87,"Backup: fetch tarball with synchronize instead of fetch

Ansible's fetch module causes MemoryError with large files when
run with 'become':

 https://docs.ansible.com/ansible/latest/modules/fetch_module.html#notes

It was easily replaced with the synchronize module:

 https://docs.ansible.com/ansible/latest/modules/synchronize_module.html"
kushaldas,2019-04-08 12:29:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15578c704504e2c044234f1738f160765cfeb54f,15578c704504e2c044234f1738f160765cfeb54f,"Merge pull request #4324 from rmol/fix-makefile-vnc

Prevent Docker from complaining that it stole the VNC port from itself"
rmol,2019-04-07 21:29:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/846cec69402be56b0ed89034dcf5c9b687fe0cac,846cec69402be56b0ed89034dcf5c9b687fe0cac,Prevent Docker from complaining that it stole the VNC port from itself
eloquence,2019-04-05 00:53:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f3fd1bf3af4935b9ed608281d7e9e441065d1875,f3fd1bf3af4935b9ed608281d7e9e441065d1875,"[docs] Instruct admin to look up latest Tails version for Xenial upgrade

Tails releases are not entirely predictable and we don't want to have
to bump this doc everytime one comes out, so let's just instruct
users to check the version."
conorsch,2019-04-04 23:41:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e0dc811b8910075100e4c9eba0b6b5a31b31281f,e0dc811b8910075100e4c9eba0b6b5a31b31281f,"Merge pull request #4244 from olivemartini/docs-update-threat-model

Adding attacks and countermeasures to SD threat model public docs"
eloquence,2019-04-02 23:54:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f0586b664ec4125ea288affb79fe5bca75a45ba,7f0586b664ec4125ea288affb79fe5bca75a45ba,"Revert ""Add instructions for working around NoScript XSS upload problem""

Resolves #4160

This reverts commit b35530831db8bcb191f2c8553b1f05fa7e6eab6d."
emkll,2019-04-04 21:11:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/14ddf41f08f41dfc0bf783758f30706e85ff47c0,14ddf41f08f41dfc0bf783758f30706e85ff47c0,"Merge pull request #4288 from rmol/ft-vnc

Extract VNC changes from Tor Browser functional test branch"
conorsch,2019-04-03 21:45:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e11503be214835ccaf4577e3bded5b439be5fcb0,e11503be214835ccaf4577e3bded5b439be5fcb0,"Merge pull request #4302 from cji/patch-1

Recommend workstation backup as step in the install guide"
rmol,2019-04-03 20:18:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e97f1f1ad12199164302ffc4dd919e0faa2f82bc,e97f1f1ad12199164302ffc4dd919e0faa2f82bc,Appease shellcheck
emkll,2019-04-03 19:50:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cbeadb9800b38dbdf9a6167ade25977d43d3696b,cbeadb9800b38dbdf9a6167ade25977d43d3696b,"Merge pull request #4311 from freedomofpress/staging-fix

Update default staging target to Xenial"
conorsch,2019-04-03 16:10:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2639417a9c5645989c77091870fe91e2c88e8a8c,2639417a9c5645989c77091870fe91e2c88e8a8c,"Cleans up Trusty/Xenial targeting in Molecule scenarios

The ""default"" target distro for staging is now Xenial, which means we
need to tweak the overrides in the various staging-related Molecule
scenarios. Overrides are in place to force Trusty, and overrides
referencing Xenial are removed, due to the new default behavior."
cji,2019-04-03 17:45:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d0f02b1cc99f7dd45aebb2837be693ed4ae38c8,6d0f02b1cc99f7dd45aebb2837be693ed4ae38c8,style fixes
emkll,2019-04-03 17:33:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23492c04be9128105c12e2ddcdd312c4a1e9408d,23492c04be9128105c12e2ddcdd312c4a1e9408d,"Merge pull request #4309 from zenmonkeykstop/3999-singleton-gui-updater

added fn to prevent multiple GUI updater instances"
emkll,2019-04-03 14:59:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15d34f3412fcabe9c7eaca65d8956730d6b1408c,15d34f3412fcabe9c7eaca65d8956730d6b1408c,Docs - DELETE method allowed on journalist interface for API
emkll,2019-04-02 19:16:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ebc24454fadf9721282053b523c48b25ace7099,2ebc24454fadf9721282053b523c48b25ace7099,Use nested bullets to list specific countermeasures
rmol,2019-04-03 15:31:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb014bd2cf8a5b1d097f4287420d8df03663bd4e,fb014bd2cf8a5b1d097f4287420d8df03663bd4e,Wait for Xvfb to start in run-test
zenmonkeykstop,2019-04-02 23:22:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/af88d9f1a93e34601bf3024a10e0dcadc9dda993,af88d9f1a93e34601bf3024a10e0dcadc9dda993,added tests
emkll,2019-04-02 20:01:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2068b841d9b8554e4fd406e81384503a0bc01c16,2068b841d9b8554e4fd406e81384503a0bc01c16,"Merge pull request #4316 from freedomofpress/version-bumps-with-automation

Bump version number for remaining Xenial docs, automate future bumps"
eloquence,2019-04-02 18:14:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8c6fdc047f1b3918984b735eb057b5bab6b3b39,a8c6fdc047f1b3918984b735eb057b5bab6b3b39,"Bump version number for remaining Xenial docs, automate future bumps

Resolves #4315"
olivemartini,2019-03-31 21:25:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3201c72374c43db7f732af1de419caa228f38ea4,3201c72374c43db7f732af1de419caa228f38ea4,"re-formatting attacks and countermeasures, with minor edits"
olivemartini,2019-03-06 21:49:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b87dee5988016db11b29a4e7c1a2f566bc00123,5b87dee5988016db11b29a4e7c1a2f566bc00123,Moving attacks and mitigations to its own section of the docs.
olivemartini,2019-03-06 21:27:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc6aa926fcf8fa8981bbec06c49db748aacfe77a,fc6aa926fcf8fa8981bbec06c49db748aacfe77a,Adding attacks and countermeasures to SD threat model public docs.
emkll,2018-12-17 14:46:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c7e88ded2b00cf3cd7de2b60ff22fcab245fd281,c7e88ded2b00cf3cd7de2b60ff22fcab245fd281,Add threats and mitigations for SecureDrop Server
emkll,2018-05-29 14:25:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5c41b3ae6ab2e271c4089ff2348d953f040fad50,5c41b3ae6ab2e271c4089ff2348d953f040fad50,"Update existing threat model documentation

- Document users
- Document adversaries
- Document systems"
emkll,2019-04-01 21:25:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf4a2acaf9ac58e76639491e70d8ff8e4a46870a,bf4a2acaf9ac58e76639491e70d8ff8e4a46870a,"Merge pull request #4300 from freedomofpress/4170-run-fetch-tor-packages-in-ci

Runs fetch-tor-packages with pinned version in CI"
eloquence,2019-04-01 18:24:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/89876125c1b00de584932bff6f12832af9d5b0a7,89876125c1b00de584932bff6f12832af9d5b0a7,"Update default staging target to Xenial

Resolves #4310"
conorsch,2019-04-01 17:35:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/77e0226dc0af850912a6346dba9c85789895d427,77e0226dc0af850912a6346dba9c85789895d427,"Merge pull request #4297 from freedomofpress/update-safety-check

Update safety check and cryptography version"
conorsch,2019-04-01 17:24:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e9136862f0474987079a269784d3ca9e76ff1c71,e9136862f0474987079a269784d3ca9e76ff1c71,"Merge pull request #4308 from freedomofpress/4024-4.4.177

Bump SecureDrop kernel to 4.4.177"
cji,2019-04-01 15:32:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce16493f7b9bcd8e3f4f0279fd2fec753ef0e39f,ce16493f7b9bcd8e3f4f0279fd2fec753ef0e39f,"move backup recommendation to post-install, update title"
zenmonkeykstop,2019-03-31 15:36:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fdd260a544909473b5f214f26c5423aa7283a601,fdd260a544909473b5f214f26c5423aa7283a601,added fn to prevent multiple GUI updater instances
rmol,2019-03-31 17:08:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7960dbc8f35f582988a7d343f646100f30b02f29,7960dbc8f35f582988a7d343f646100f30b02f29,"Revert to x11vnc from tightvncserver, update Ubuntu images

The vncpasswd utility of tightvncserver contains buffer overflows, and
the reasons for switching to it have been lost, so rather than add
workarounds for it, I'm just switching back to x11vnc.

While updating the Dockerfiles, update the base Ubuntu images."
rmol,2019-03-21 23:20:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4cdb2b9f9553a7dc66b182cc3759e1fdabec24e6,4cdb2b9f9553a7dc66b182cc3759e1fdabec24e6,Fix shellcheck failures
rmol,2019-03-21 22:21:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b8ba52304861e69b5bee0ad10fd17532ac89fe7,3b8ba52304861e69b5bee0ad10fd17532ac89fe7,"VNC script tweaks

In dev-deps, work around random vncpasswd seg faults by retrying.

In vnc-docker-connect.sh, suggest the installation of virt-viewer if
it's missing.

Add the continuation backslash I missed in dev-shell."
zenmonkeykstop,2018-09-27 17:43:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4df4813b08981f5076c271dca9cfed2eca41d4b9,4df4813b08981f5076c271dca9cfed2eca41d4b9,"added ini file to get around remote-viewer password prompt

(cherry picked from commit f7aad63d5b181eea8822d31f8f69993e4d49414f)"
zenmonkeykstop,2019-03-21 18:18:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03a9a78f61171c8024b51695b46a49786b69ffae,03a9a78f61171c8024b51695b46a49786b69ffae,"Added auth to VNC in test container, for OS X compatibility.

(cherry picked from commit b53b657caf3a60ef8df03adfaf0417475a8b151c)"
msheiny,2019-03-20 21:31:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c42d15b7aac515f12fa0f7e09f086c2961e2cf68,c42d15b7aac515f12fa0f7e09f086c2961e2cf68,"Wire-up VNC server and helper command for func tests

Had to remove x11 display logic inside test scaffolding (initially tried
to integrate it there but it kept building and destroying the VNC server
per test).

Made a VNC helper command with support for GNOME desktop and macOS (havent
tested it on mac yet). Updated the docs

(cherry picked from commit 0a9567bfe5662e582d507f01457fb9a2d8b08ef7)"
msheiny,2019-03-20 20:28:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/31616b0d4cd2246838f25dcef1bf6773841945a0,31616b0d4cd2246838f25dcef1bf6773841945a0,"Swap x11vnc with tightvncserver

Basically installed this because it can be used with pyvirtualdisplay as
a backend AND because it brings in the Xvnc tooling which will start an
X11 server as well as a VNC server.

(cherry picked from commit af16906b69224df356c4bbc1465169b286c4fb89)"
conorsch,2019-03-29 23:55:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b6aacf9ae423a6fe1ab4f72e7fd8600a02e256e9,b6aacf9ae423a6fe1ab4f72e7fd8600a02e256e9,"Merge pull request #4023 from freedomofpress/3977-allow-delete-for-journalist-interface

Allow DELETE HTTP method for journalist interface"
conorsch,2019-03-27 16:12:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a90f731ad2a284bdd839f5bf91f0fb84baf1af09,a90f731ad2a284bdd839f5bf91f0fb84baf1af09,"Runs fetch-tor-packages with pinned version in CI

Adds a `tor_version` var to the fetch-tor-packages logic.
This is yet another point of update when we bump versions,
but pinning will help us avoid surprises. To that end, we're
also running the fetch action in CI now, to help us catch
version mismatches earlier.

Using a separate CI job so as not to add to the serial execution
of the large staging job."
emkll,2019-03-28 15:13:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a2d544aa89e8f5daa927011d5a6048e9f907a92b,a2d544aa89e8f5daa927011d5a6048e9f907a92b,"Bump SecureDrop kernel to 4.4.177

These kernels now offer support for Intel e1000e NICs."
emkll,2019-03-28 17:16:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b79fc1dff2cd01b572f9d28eaf51f2687058a8ff,b79fc1dff2cd01b572f9d28eaf51f2687058a8ff,"Remove trusty staging target in CI

Update to cryptography now means that packaging and application will no longer work under Trusty. Remove CI targets for trusty-staging and remove setuptools for Xenial container, as it shouldn't be necessary."
heartsucker,2019-03-25 13:32:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5a8fff4fc12a79296496647977b000ad3835f425,5a8fff4fc12a79296496647977b000ad3835f425,bump setuptools version
heartsucker,2019-03-25 13:29:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/006343f67606f5030a9df18d122c50e43cdcc483,006343f67606f5030a9df18d122c50e43cdcc483,bump version of cryptography
heartsucker,2019-03-25 12:09:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/abc00bd0ed493f1c972a2460b8ddfc1e00ebfc72,abc00bd0ed493f1c972a2460b8ddfc1e00ebfc72,remove ignore rule on safety check
emkll,2019-03-28 20:59:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8cd1f640546363f9151d7d380421ff24b149ceb8,8cd1f640546363f9151d7d380421ff24b149ceb8,"Merge pull request #4306 from freedomofpress/4301-test-new-linting-container-in-ci

Transitions lint container to Debian Stretch"
conorsch,2019-03-28 17:48:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9ef201addc52aa548f5790133511ba7cb12b6f34,9ef201addc52aa548f5790133511ba7cb12b6f34,"Transitions lint container to Debian Stretch

Switching to a Stretch-based container for linting tasks, given that
Jessie is EOL and has started throwing errors on apt list updates.
Furthermore, the previous Jessie-based container appears unmaintained,
with the last updat on 2016-03-20 [0].

The new container was suggested by @cji, docs at [1] & [2]

[0] https://console.cloud.google.com/gcr/images/google-containers/GLOBAL/python
[1] https://hub.docker.com/_/python
[2] https://github.com/docker-library/python/blob/636e02777ea417851942e6e826fe5a6b4dee6f74/2.7/stretch/slim/Dockerfile"
cji,2019-03-27 16:57:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9202294c7d7c60f6e9dde0570b65dc34761d3392,9202294c7d7c60f6e9dde0570b65dc34761d3392,update label
cji,2019-03-27 16:33:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68d3ffc68d0f561ed959b6d1e162763b85518056,68d3ffc68d0f561ed959b6d1e162763b85518056,Update set_up_admin_tails.rst
kushaldas,2019-03-26 10:27:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/455e69ab5b8c0c921d6100fcf53df630d50c62af,455e69ab5b8c0c921d6100fcf53df630d50c62af,"Merge pull request #4298 from rmol/dev-data-4286

Add staging-specific creation of test data"
rmol,2019-03-25 14:43:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb663eddd0471fc62fa0bd1eff50884e0b5d4428,cb663eddd0471fc62fa0bd1eff50884e0b5d4428,Add missing backquote
msheiny,2018-08-17 15:40:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/102afb57bcf4798cd466001b9aaeec1bf1a58577,102afb57bcf4798cd466001b9aaeec1bf1a58577,"Add functionality to prepare boxes for functional testing

Typically these actions were done manually but lets get our good old
friend ansible to run them for us (at least under the upgrade env)."
redshiftzero,2019-03-22 23:48:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7334eba31021c97d935a29bfbe38f50b9b55becd,7334eba31021c97d935a29bfbe38f50b9b55becd,"Merge pull request #4074 from freedomofpress/dont-bump-docs-versions-on-rcs

Don't bump SecureDrop version strings in docs for release candidates"
rmol,2019-03-22 22:06:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/689f4bdb096507d2b1f46d2532159879f8dd6eb8,689f4bdb096507d2b1f46d2532159879f8dd6eb8,Fix typo in functional test README
kushaldas,2018-07-31 15:57:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e693f0a80b27cdcc40ab002b8796a4df1d28cdf0,e693f0a80b27cdcc40ab002b8796a4df1d28cdf0,"Adds --staging flag create-dev-data.py for tests

We now have --staging flag to the create-dev-data.py script so
that we can easily create an user in the staging or prodcution test
and then use the functional tests to test the instance.

(cherry picked from commit b08a0d7d634b2a9387742a72dba48be46fe15e90)"
emkll,2019-03-22 20:37:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/686987ff1f105d64cabfc652a63da7175d694591,686987ff1f105d64cabfc652a63da7175d694591,"Use last release

Instead of using 0.13.0~rc1 for docs, let's use 0.12.1 for which a signed tag exists."
emkll,2019-01-25 16:45:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9ad0ca1ece3754c0de4b0d286d41dacd6f650bf1,9ad0ca1ece3754c0de4b0d286d41dacd6f650bf1,"Do not update docs to next release if bumping to an RC

We should use the previous release to ensure the RC tag or release branch is not accidentally checked out on install if a user is browsing the `latest` docs."
emkll,2019-03-22 16:39:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a73450b1fad24c1a7093d175877cd433d403315,6a73450b1fad24c1a7093d175877cd433d403315,"Merge pull request #4291 from freedomofpress/upgrade-boxes-for-0.12.1

Adds ""upgrade"" boxes for 0.12.1"
redshiftzero,2019-03-21 23:51:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1ed0fd3ac840095860472ffcc9acb332cc166f61,1ed0fd3ac840095860472ffcc9acb332cc166f61,"Merge pull request #4285 from freedomofpress/backport-0.12.1-to-develop

Backport 0.12.1 changelog to develop"
conorsch,2019-03-21 18:10:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ec353488bdb1fd2c2b0a3d9d29fff92dce4204a,2ec353488bdb1fd2c2b0a3d9d29fff92dce4204a,"Adds ""upgrade"" boxes for 0.12.1

Includes both Trusty & Xenial boxes. Note that the documented procedure of
running `git checkout 0.12.1` was *not* performed here, as the logic
for building multiple platform boxes was not included in the point release
(it had previously been merged into `develop`).

So, I manually set `molecule/shared/stable.ver` to ""0.12.1"" and ran the logic
from the develop branch. Given that the Ansible changes were included in the point
release, these boxes should still serve as accurate testing for future upgrades."
redshiftzero,2019-03-21 15:36:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f703c94c2084c21b7046af896a37fab2df600873,f703c94c2084c21b7046af896a37fab2df600873,"Merge pull request #4277 from freedomofpress/tbb-pr-1-remove-firefox-app-test

[functional testing] Remove Firefox/xvfb installs from app-test Ansible role"
redshiftzero,2019-03-20 20:20:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b06ad1614ee0cd81cb943209eb33e5d1225e592,9b06ad1614ee0cd81cb943209eb33e5d1225e592,"SecureDrop 0.12.1

(cherry picked from commit 4e4f26a74d24a62fd3b9385c81898c8100b16d0e)"
emkll,2019-01-14 15:34:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/febee2bcf687c8a104616917dec24534f1a1c1cc,febee2bcf687c8a104616917dec24534f1a1c1cc,"Allow ETag headers for Journalist Interface

ETags are useful to the journalist API to ensure file integrity, and in the future would allow file download resumption. Disabling ETags is a defense against information leakage https://nvd.nist.gov/vuln/detail/CVE-2003-1418. Since inodes are no longer included by Apache by default, since 2.3.14, that Apache only exposes filesize and MTime by default (information readily available on the Journalist interface, that the Journalist Interface is behind ATHS, it should be safe to re-enable ETags on the journalist interface only."
redshiftzero,2019-01-10 23:16:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/12977cc4707fad62595e56cea9de81ccaa8e3470,12977cc4707fad62595e56cea9de81ccaa8e3470,"tests: Add unit test verifying error handlers are in place

The status codes in here are to ensure that the cases the
ErrorDocument directives previously in the Apache journalist
configuration are handled in the application code."
emkll,2019-01-10 18:34:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a802dde7fdc128ce5444504ca1b054af3219c1b1,a802dde7fdc128ce5444504ca1b054af3219c1b1,"Remove Apache ErrorDocument directives on Journalist Interface

These directives were returning incorrect values for the Journalist API. Errors should be handled in the application to ensure headers are sent. The API should return appropirate error codes, and the web interface should always redirect to the login page."
emkll,2019-01-08 19:36:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3d5934e27bdf07ac7d7214f2cf4208751d5940df,3d5934e27bdf07ac7d7214f2cf4208751d5940df,"Allow DELETE HTTP method for journalist interface

Certain Journalist API operations require DELETE (e.g. delete or unstar a source). This will ensure that Apache allows the DELETE operation for new installs (or existing installs after an Ansible run)."
redshiftzero,2019-03-20 23:18:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a666138252872897625e82db085899eafc17beca,a666138252872897625e82db085899eafc17beca,"Merge pull request #4279 from freedomofpress/docs-bump-version-and-cleanup

[0.12.1] [docs] Bump version info in Xenial prep docs, wrap to 80 chars"
conorsch,2019-03-20 19:56:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3ddd548926c32f2c7b413cc7cf2b5a448966cd52,3ddd548926c32f2c7b413cc7cf2b5a448966cd52,"Merge pull request #4281 from freedomofpress/update_builder_20190320

Update builder images"
redshiftzero,2018-09-28 17:17:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb462d47a8576db0d794179d3631efeac1dab80e,cb462d47a8576db0d794179d3631efeac1dab80e,"Testinfra: Update Flask version to 1.0.2

(cherry picked from commit 567a34e58922d7d30e902cbeff5fa27b60960376)"
redshiftzero,2018-09-27 23:47:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/95ba835fd1c3fdec68d3857c3e56125b354cd147,95ba835fd1c3fdec68d3857c3e56125b354cd147,"Testinfra: Fix test failure due to non-DRY variables files

staging.yml is a concatenation of multiple other variables files,
one was updated during rebase, one was not.

(cherry picked from commit cd6811ae2f22fbfc47821d6f3daa972c285ebf7c)"
emkll,2019-03-20 15:26:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/667abe16d4a483d7efd4bf7141e67214e97887b3,667abe16d4a483d7efd4bf7141e67214e97887b3,"Update builder images

Builder images needed security updates"
heartsucker,2019-03-20 09:15:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ada7a15720c0d5a4dd3bd87066fed81228c34c07,ada7a15720c0d5a4dd3bd87066fed81228c34c07,"Merge pull request #4263 from freedomofpress/update-the-update-script

use vim in update_version.sh"
kushaldas,2019-03-20 09:13:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/64c4cc87340b198ae90724b05d062564e4e68b7e,64c4cc87340b198ae90724b05d062564e4e68b7e,"Merge pull request #4278 from freedomofpress/docs-0120-to-0121

[0.12.1] [docs] Add 0.12.0 to 0.12.1 upgrade guide"
eloquence,2019-03-20 00:59:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f774576276ea9a0d5871ae274733c26fafd8a10,2f774576276ea9a0d5871ae274733c26fafd8a10,"Bump version info in Xenial prep docs, wrap to 80 chars"
eloquence,2019-03-20 00:38:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f877aa1961b894162c8452fcd8f8620ec9806f6f,f877aa1961b894162c8452fcd8f8620ec9806f6f,"Add 0.12.0 to 0.12.1 upgrade guide

Resolves #4276"
zenmonkeykstop,2018-08-03 16:36:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb1a229d5b2e772a4fd977633685d41d29dfce91,eb1a229d5b2e772a4fd977633685d41d29dfce91,"Removed xvfb and firefox installs from app-staging - functional tests now run remotely

(cherry picked from commit 461ccdafc9b6c44ffd70adf073592f405165d5f6)"
heartsucker,2019-03-19 13:52:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b765c7b78242c01a4c8afb11032d7f88d76403ba,b765c7b78242c01a4c8afb11032d7f88d76403ba,disable memprotect on mono-sgen in the xenial dev container
heartsucker,2019-03-19 13:45:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/748e3ba9c6791894346ead8b29842c2941f6287c,748e3ba9c6791894346ead8b29842c2941f6287c,"Merge pull request #4274 from freedomofpress/dev-configure-num-test-sources

dev: customize number of test sources via NUM_SOURCES env var"
redshiftzero,2019-03-19 00:03:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/987f1ff857324540cdb81f634286582b5ef9f32f,987f1ff857324540cdb81f634286582b5ef9f32f,dev: customize number of test sources via new  NUM_SOURCES env var
emkll,2019-03-14 16:28:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ce9fa17808a11bc7b7015034296ff14ef89f5a0,5ce9fa17808a11bc7b7015034296ff14ef89f5a0,"Merge pull request #4252 from rmol/fix-4219

Control locale during Ansible runs"
heartsucker,2019-03-14 15:24:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8ef62b8416d1185c09118087714686d21b9bb923,8ef62b8416d1185c09118087714686d21b9bb923,use vim in update_version.sh
kushaldas,2019-03-14 07:07:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d586930a4bca164fbc609b43092a650a7ff651d,7d586930a4bca164fbc609b43092a650a7ff651d,"Merge pull request #4233 from KwadroNaut/recv

Use `--batch` option for refreshing release key to resolve graphical updater issues"
conorsch,2019-03-14 01:09:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c71bf16a420e577ee59deac68f2c792ba64f4429,c71bf16a420e577ee59deac68f2c792ba64f4429,"Enforces locale overrides on all playbooks

Porting the locale override logic by @rmol to the usual medley of
SecureDrop prod playbooks. Correspondingly updates the config tests to
reuse the ""all prod playbooks"" lookup logic, so we're sure to retain
coverage into the future."
conorsch,2019-03-14 01:03:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d154a43899bb34d241e1172ffac76bf075390786,d154a43899bb34d241e1172ffac76bf075390786,"Merge pull request #4231 from rmol/fix-4221

Try harder to attach to an existing tmux session"
emkll,2019-03-13 21:52:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/690f0e35d8dc931335d6c5c42f058350d1e3cffa,690f0e35d8dc931335d6c5c42f058350d1e3cffa,"Add builder tests for securedrop-config

At build time, let's ensure:
- no conffiles are present so that files in /etc are properly squashed
- securedrop-config contains the expected files"
conorsch,2019-03-13 22:00:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/daca1fff47035977f6d0648d7fafdc2922557c11,daca1fff47035977f6d0648d7fafdc2922557c11,"Merge pull request #4257 from zenmonkeykstop/docs-backup-usb-with-rsync

replaced drag-and-drop backup step with rsync"
rmol,2019-03-13 21:31:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/75d69656915f8c0b88c61abdda7c1dc81af41e19,75d69656915f8c0b88c61abdda7c1dc81af41e19,"Control locale for securedrop-staging playbook as well

Add configuration test to check locale is set for all plays there and
in securedrop-prod."
rmol,2019-03-08 22:45:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f445d832d7f8f8768e09f33f1421c208a2d8f208,f445d832d7f8f8768e09f33f1421c208a2d8f208,"Control locale during Ansible runs

To avoid non-English system locales from breaking tasks that parse
command output expecting English, set the environment variable
LC_ALL=C in each play of securedrop-prod.yml."
rmol,2019-03-13 19:34:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e7772472998f179f11c8156493f13e6d930598e,1e7772472998f179f11c8156493f13e6d930598e,"Better documentation and tests

Comment the tmux_attach_via_proc function in
securedrop_additions.sh.

Fix version check in builder-trusty/tests/vars.yml.

Fix test_sudoers_config so that it requires explicit content in
securedrop_additions.sh, instead of just checking that the installed
file exactly matches whatever's in the current revision."
rmol,2019-03-05 20:38:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/79bc08947b74bb1543e14b1687b866ae0e3ae2d2,79bc08947b74bb1543e14b1687b866ae0e3ae2d2,"Try harder to attach to an existing tmux session

If in the course of an ssh/tmux session the tmux package is upgraded
and the ssh connection broken, the next ssh attempt will encounter an
error because of the tmux protocol version mismatch.

The old tmux can be used to reattach by searching for the tmux process
under /proc and using its reference to the old tmux executable. This
change attempts to do that automatically if a first ""tmux attach""
attempt fails, but we can see that a previous session still exists."
zenmonkeykstop,2019-03-13 17:54:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6cf2923be39ec4945579bad8affff88119e5506,c6cf2923be39ec4945579bad8affff88119e5506,updated rsync flags for speed and cleanliness
conorsch,2019-03-13 17:14:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ec77301c6c9db50ba7538b97731d920196f8f6a,6ec77301c6c9db50ba7538b97731d920196f8f6a,"Merge pull request #4253 from freedomofpress/upgrade-boxes-for-0.12.0-xenial

Adds Upgrade scenario boxes for 0.12.0 (Xenial)"
conorsch,2019-03-13 01:23:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a3e22b32185ec95d18cc1c36a98c8869b8f62ab,1a3e22b32185ec95d18cc1c36a98c8869b8f62ab,"Feed flake8 on securedrop-admin keyserver cmd

The commit from @KwadroNaut added a few options, and flake8 was
characteristically opinionated about whitespace surrounding the change.
Updated the whitespace, without changes to the logic as written by
@KwadroNaut."
kushaldas,2019-03-12 14:58:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/10a2eeedc3c22fd39e6a7eda4ca8f4bca1ca6024,10a2eeedc3c22fd39e6a7eda4ca8f4bca1ca6024,"Merge pull request #4258 from freedomofpress/4170-update-tor-xenial

Update test var for tor 0.3.5.8"
zenmonkeykstop,2019-03-11 23:35:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a23653c666899d938eeae9e0e85b65d232a0af55,a23653c666899d938eeae9e0e85b65d232a0af55,replaced drag-and-drop backup step with rsync
rmol,2019-03-11 21:40:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5f1b55aebfb02fb4352ec1055ee3c43beaf54b20,5f1b55aebfb02fb4352ec1055ee3c43beaf54b20,"Fixes Trusty/Xenial deb finding in upgrade scenario

Issues discovered during review. Changes written by @rmol, committed by
@conorsch as part of review.

Signed-off-by: Conor Schaefer <conor@freedom.press>"
emkll,2019-03-11 20:52:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dfb36ea9dc1b4ae931a1ced5b83e3cbe39782e8b,dfb36ea9dc1b4ae931a1ced5b83e3cbe39782e8b,"Tor version for xenial to 0.3.5.8-1

Fixes test based on latest version of tor available in the tor apt repos"
heartsucker,2019-03-11 13:45:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/043f63ab03d9320290e7fbb9675aeb8f93898dba,043f63ab03d9320290e7fbb9675aeb8f93898dba,"Merge pull request #4238 from KwadroNaut/landingpage

Broaden apache snippet to disable logging on landing page"
heartsucker,2019-03-11 13:41:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e6b0ad24b642bf3d64f4be282499c8bedff03d5,3e6b0ad24b642bf3d64f4be282499c8bedff03d5,"Merge pull request #4254 from freedomofpress/docs-enby

[docs] him or her -> them (more inclusive)"
eloquence,2019-03-09 01:58:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2a95a7e7b188bc56d553e6bae06f9d92755368b8,2a95a7e7b188bc56d553e6bae06f9d92755368b8,him or her -> them (more inclusive)
conorsch,2019-03-09 01:09:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf60e339f4f12a67537c316eea39cb0bb5394928,bf60e339f4f12a67537c316eea39cb0bb5394928,"Documents use of Trusty-specific upgrade steps

We won't be maintaining Trusty for much longer, but we are for now. All
the Makefile wrappers have been duplicated with `-trusty-` flags to
distinguish them. Updated the dev docs by way of a note instructing the
use of the special targets, otherwise Xenial will be used by default."
conorsch,2019-03-08 17:26:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b9ffddaaeab076f8e80e7f788b0591f82203d6ca,b9ffddaaeab076f8e80e7f788b0591f82203d6ca,"Adds ""upgrade"" boxes for 0.12.0 (Xenial)

Using the new platform-specific metadata files for Vagrant box metadata.
Checksums were updated automatically as part of the ""make vagrant-package""
workflow, since the package.py script now updates the JSON file after building."
conorsch,2019-03-07 00:06:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f71bd36ead67c69fe62b177526fc000b4b3bb54,4f71bd36ead67c69fe62b177526fc000b4b3bb54,"Automatically updates box checksum metadata

We've long had the ""update sha256sums in JSON file"" steps be performed
manually at time of box creation, which is asking for mistakes. Let's
automate adding the checksums for the newly created boxes and appending
those to the JSON file.

Shoves around some of the vars, making globals out of the path vars in
particular.

Updates docs to remove the now-superfluous manual steps."
conorsch,2019-03-06 23:56:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/13581d3099d31cfd802c1e03ac329590e45f728d,13581d3099d31cfd802c1e03ac329590e45f728d,"Waits longer for reboots in Xenial packaging

Encountered reliable timeouts on privilege escalation prompts after the
VMs had been instructed to reboot, on the gather_facts step prior to
shutting the VMs down for packaging. Tried the following, in order:

  1. Reused the reboot-and-wait logic from the site config.
  2. Bumping the gather_timeout value (as we do in the debian package build
     logic scenarios).
  3. Added mandatory pause of 30s post-reboot.
  4. Added mandatory pause of 60s post-reboot.

When the final change was added, the problem was reliably resolved. It's
possible we can drop the gather_timeout bump, but given the wall time
involved in testing, I'm deferring further improvements to a later date.

If you're reading this message, consider that ControlPersist files may
be relevant to the timeouts. I haven't confirmed that assumption, but
it's possible that the long pause post-reboot has the side-effect of
allowing the active ControlPersist files on the controller to expire,
forcing a new connection.
FIX: cleans up reboot in packager scen"
conorsch,2019-03-06 21:14:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9679c54a710ac4db282f22c60dbe18fb1c2dcd4c,9679c54a710ac4db282f22c60dbe18fb1c2dcd4c,"Updates vagrant-package wrapper script

Now uses two blocks, first for Xenial, second for Trusty,
to iterate through the base box creation logic.

Renamed the file slightly to confirm to the other scripts
in `devops/scripts/`.

Updates logic in `package.py` script to detect whether it's running
against Trusty or Xenial, based on the calling scenario. (The script is
symlinked into the Trusty scenario, so we can detect the invocation
path.)"
conorsch,2019-03-06 18:42:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0bdec24e21cb438ccbeeecd8a4c4fe5fa4e2fe33,0bdec24e21cb438ccbeeecd8a4c4fe5fa4e2fe33,"Splits ""vagrant-packager"" scenario into Trusty/Xenial

The default target platform is now Xenial. We can still build Vagrant
boxes for upgrade testing based on Trusty, via the
""vagrant-packager-trusty"" scenario, the majority of which is symlinked
into the Xenial-based scenario."
conorsch,2019-03-06 17:57:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b4daf3874ed3b52a11c151f0b70273274828a6f,1b4daf3874ed3b52a11c151f0b70273274828a6f,"Splits ""upgrade"" scenario into Trusty/Xenial

The default platform for the ""upgrade"" scenario is now Xenial.
Optionally, we can still run upgrade testing against Trusty boxes, by
using the ""upgrade-trusty"" scenario, the majority of which is symlinked
into the same files for the Xenial scenario."
kushaldas,2019-03-08 09:32:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/afcf563f2f5c072253c0f25b8b9944daa3fbbc1c,afcf563f2f5c072253c0f25b8b9944daa3fbbc1c,"Merge pull request #4249 from freedomofpress/docs-clarify-airgap-keygen

[docs] Make it clearer that key generation must be done on the SVS"
eloquence,2019-03-08 02:08:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96a0ca610043ebb5cbad53ab7b4d0252a1628db4,96a0ca610043ebb5cbad53ab7b4d0252a1628db4,"[docs] Make it clearer that key generation must be done on the SVS

Resolves #4076"
redshiftzero,2019-03-07 23:57:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/148685d891622691f76220b3724ca8e4d0f841b8,148685d891622691f76220b3724ca8e4d0f841b8,"Merge pull request #4224 from freedomofpress/4155-rename-makefile-targets

Rename Makefile targets, Xenial new default"
emkll,2019-03-07 17:09:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/543357a5e691be62e4a19d87f46dc9e00a866e46,543357a5e691be62e4a19d87f46dc9e00a866e46,"Merge pull request #4236 from zenmonkeykstop/docs-update-xenial-refs-to-16.04.6

updated Xenial version references to 16.04.6 as per #4324"
emkll,2019-03-07 14:57:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2a21b548cae4bcd7925487c1fbaa82630c398881,2a21b548cae4bcd7925487c1fbaa82630c398881,"Merge pull request #4232 from zenmonkeykstop/4221-docs-tmux-reattach

added tmux reattachment info, fixed expected lsb_release output"
kushaldas,2019-03-07 08:10:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90b3a3fa801e8108e2f804b8461f1e00ab5d82c3,90b3a3fa801e8108e2f804b8461f1e00ab5d82c3,"Merge pull request #4243 from freedomofpress/docs-i18n-contributors

Link directly to i18n repo contributors list in README"
conorsch,2019-03-07 02:19:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/626182e0782cc0fb1702ca9f13a3dcaf1968053d,626182e0782cc0fb1702ca9f13a3dcaf1968053d,"Merge pull request #4223 from freedomofpress/4163-remove-unnecessary-packages

Remove unused wireless packages"
KwadroNaut,2019-03-06 22:22:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/410ed3b63877b7be219d4bfd8ba3b0e7881a5f39,410ed3b63877b7be219d4bfd8ba3b0e7881a5f39,Update landing_page.rst
eloquence,2019-03-06 21:49:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e1e7f88ea88cf5636fe7b9faa396a7923d74e9f,6e1e7f88ea88cf5636fe7b9faa396a7923d74e9f,"Link directly to i18n repo contributors list in README

The intention is to make the names of all i18n contributors more
discoverable. We separately prepare a list of contributors to the
i18n for each release as part of the release notes."
emkll,2019-03-06 18:48:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/89836b71bca295ae3628995d00b6a1bde83cdea2,89836b71bca295ae3628995d00b6a1bde83cdea2,"Merge pull request #4215 from freedomofpress/upgrade-boxes-for-0.12.0-trusty

Adds Upgrade scenario boxes for 0.12.0 (Trusty)"
emkll,2019-03-06 17:48:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e14452996618a4966786b5729cad9287ca72f31c,e14452996618a4966786b5729cad9287ca72f31c,"Merge pull request #4228 from zenmonkeykstop/make-qubes-staging-xenial

updated docs and molecule vars to use Xenial for qubes staging env"
heartsucker,2019-03-06 17:34:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c4efb2926679bf52cce013052ad847f01df6103a,c4efb2926679bf52cce013052ad847f01df6103a,"Merge pull request #4234 from freedomofpress/docs-ubuntu-16.04.6

Ubuntu 16.04.6 iso has updated apt version"
conorsch,2019-02-28 19:30:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd0b17278753b378c326cedd855d6124b2aeb4e7,cd0b17278753b378c326cedd855d6124b2aeb4e7,"Adds ""upgrade"" boxes for 0.12.0 (Trusty)

Used the standard procedure to generate the base boxes, but
updated the metadata references to reference the platform explicitly,
since we plan to add Xenial boxes for use in ""upgrade"" testing for
0.12.0, as well.

Unsure if this is sufficient change; we may have to update the metadata
stored inside the .box file as part of the packaging process, as well."
conorsch,2019-02-28 21:38:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5046bb9bd23573bb9a6818a347283a765638166b,5046bb9bd23573bb9a6818a347283a765638166b,"Renames ""upgrade"" box metadata references with platform

Updated the metadata references for the ""upgrade"" Trusty boxes
to include the platform explicitly, since we plan to add Xenial
boxes for use in ""upgrade"" testing for 0.12.0, as well."
conorsch,2019-02-28 17:51:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a84484175077124d82ff1836bc7e2aca0681fc36,a84484175077124d82ff1836bc7e2aca0681fc36,"Adds prepare-servers role to upgrade VM playbook

The prepare-servers role was added to the main prod/staging playbooks,
but wasn't added to the derivative playbook used for building the
""upgrade"" Vagrant boxes. Ideally we'd have all role includes
conditionally set, so that we can reuse the same playbook in all
contexts and disable specific roles via vars per scenario."
conorsch,2019-02-28 01:38:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1038a67694bf2a9f27716990b0bd1160037acee0,1038a67694bf2a9f27716990b0bd1160037acee0,"Makes upgrade box naming more explicit

Storing the version string and platform directly in the box filename
now. The docs for maintaining the ""upgrade"" boxes have long included
a manual step to rename files with the version number; that's now
done automatically.

The addition of the platform in the filename is required to support
multiplatforms, specifically Trusty & Xenial. Eventually we'll drop
support for Trusty altogether, but for now we must maintain both."
zenmonkeykstop,2019-03-06 16:11:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0358c1ecfd26d2a8b71921a8d8f620bd234e6c8,a0358c1ecfd26d2a8b71921a8d8f620bd234e6c8,updated Xenial version references to 16.04.6 as per #4324
zenmonkeykstop,2019-03-05 19:23:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7544db45b1411202f41d352be9ec124ccd8ff3cf,7544db45b1411202f41d352be9ec124ccd8ff3cf,updated docs and molecule vars to use Xenial for qubes staging env
emkll,2019-03-06 14:08:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b7aa2eadfd172e93afc77efbcc9a1259be6b90a8,b7aa2eadfd172e93afc77efbcc9a1259be6b90a8,Ubuntu 16.04.6 iso has updated apt version
zenmonkeykstop,2019-03-06 02:34:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b970e1416d46ee952675ff0dc73e5145b70c74f,3b970e1416d46ee952675ff0dc73e5145b70c74f,"added tmux reattachment info, fixed expected lsb_release output"
heartsucker,2019-03-05 21:58:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21fcf155f87aa66e5b095fff2b6c503eedd6121b,21fcf155f87aa66e5b095fff2b6c503eedd6121b,"Merge pull request #4227 from creviera/remove-cssmin

remove cssmin dependency"
creviera,2019-03-05 20:13:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e9bad8e6ae9aed1baca3fe489fa5e19cf02b4a0,7e9bad8e6ae9aed1baca3fe489fa5e19cf02b4a0,remove cssmin dependency
emkll,2019-03-05 14:22:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/003e5b7fafaf0f31cb0c84f92da7bd3e76d8eb16,003e5b7fafaf0f31cb0c84f92da7bd3e76d8eb16,Use app-test instead of xenial-app-test as CI step name
emkll,2019-03-05 14:04:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e37e1ac05b3dae24212eeec42f278d0036a60c10,e37e1ac05b3dae24212eeec42f278d0036a60c10,"ci-go makefile target should use Xenial by default

Rename makefile targets and set defaults to Xenial"
heartsucker,2019-03-05 09:55:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d1a660c07041f8300d1a15207d61c9ab9b3bfea,1d1a660c07041f8300d1a15207d61c9ab9b3bfea,"Merge pull request #4213 from freedomofpress/xenial-is-default-dev

[dev] some updates for making Xenial default env"
kushaldas,2019-03-05 07:40:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/06952495939d1d316238a4ceaac28b704df2564a,06952495939d1d316238a4ceaac28b704df2564a,"Merge pull request #4211 from rmol/remove-jquery

Removes jquery."
redshiftzero,2019-03-04 22:40:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b782ab9a864230419279e59116bee272635c607,9b782ab9a864230419279e59116bee272635c607,"Merge pull request #4214 from rmol/fix-4208

On NoScript XSS info page, add link back to submission page"
emkll,2019-02-28 17:24:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1517e28b4549941153fa521bc7e33470b48cde31,1517e28b4549941153fa521bc7e33470b48cde31,"Remove unused packages

Wireless-related packages are not required for SecureDrop App and Mon servers. `gcc` and dpkg-dev` however are required, as they are listed dependencies for `libgcc1`, a dependency for very large number of packages including `apt`. These packages are installed by default in Trusty, and will remain if an instance is upgraded to Xenial."
redshiftzero,2019-02-28 00:00:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f4c4ec4061d0c539f2ca2362656c6768bc8cc921,f4c4ec4061d0c539f2ca2362656c6768bc8cc921,dev: default BASE_OS is xenial in application makefile
redshiftzero,2019-02-27 23:38:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8c03417898732b0213687b7c4d1c084f490999dd,8c03417898732b0213687b7c4d1c084f490999dd,"vagrantfile: use xenial throughout

As of SecureDrop 0.12.0, Xenial is the default environment for
SecureDrop servers. Trusty will soon be deprecated."
rmol,2019-02-28 18:24:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/babc2f52da21c0b8d15eb4bef3c1b6c66b37e744,babc2f52da21c0b8d15eb4bef3c1b6c66b37e744,"On NoScript XSS info page, add link back to submission page

Fixes #4208"
redshiftzero,2019-03-04 17:41:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99f9817d4680811492d409f9dd472cc3a098c875,99f9817d4680811492d409f9dd472cc3a098c875,"Merge pull request #4218 from freedomofpress/extend-timeout

extend staging timeout for long ansible tasks"
emkll,2019-03-04 15:16:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8243d9b57bd90297b812a67de7b17bcc1b19da51,8243d9b57bd90297b812a67de7b17bcc1b19da51,Bump timeout for xenial staging run
emkll,2019-03-01 14:09:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a53454f352b6d14849be29821e6eaf1d54e9a64,8a53454f352b6d14849be29821e6eaf1d54e9a64,"Merge pull request #4210 from freedomofpress/backport-changelog

Backport changelog"
heartsucker,2019-03-01 10:55:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc349de605977d5be686f319f161165705094d8f,fc349de605977d5be686f319f161165705094d8f,extend staging timeout for long ansible tasks
heartsucker,2019-02-27 11:03:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa24797550fbdea64cd6d0cef656234cea475b9d,fa24797550fbdea64cd6d0cef656234cea475b9d,SecureDrop 0.13.0~rc1
redshiftzero,2019-02-27 00:37:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d17f70684f37823f77e2eff54ec1ef81b3947da,6d17f70684f37823f77e2eff54ec1ef81b3947da,"SecureDrop 0.12.0

(cherry picked from commit 1d92816adbcd82da5e7da571b4baa3a3affb8db8)"
heartsucker,2019-02-22 18:36:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b188d8bcc024af565668697087f7821fbeaca55a,b188d8bcc024af565668697087f7821fbeaca55a,"SecureDrop 0.12.0~rc3

(cherry picked from commit 87838db74e270e62df368b941957800a488a8fa3)"
heartsucker,2019-02-18 09:16:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/adb4c46dba98f93090a46bdcc5a44f64db9a4372,adb4c46dba98f93090a46bdcc5a44f64db9a4372,"SecureDrop 0.12.0~rc2

(cherry picked from commit 5db63ac7c7e59673060a16ab2f32b3b43e5330e8)"
heartsucker,2019-02-13 16:58:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/240c38feb16e02d005035214af7011b963ca74c5,240c38feb16e02d005035214af7011b963ca74c5,"SecureDrop 0.12.0~rc1

(cherry picked from commit a4f68d231e327ce808a9a97e73a1e01407614b29)"
rmol,2019-02-26 23:43:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ae0c3f3fded39f5eb6837bb7ccc74a29bd003e3,4ae0c3f3fded39f5eb6837bb7ccc74a29bd003e3,"Complete jQuery removal.

Account for changes made to the UI since the work was started.

- On journalist index page, make select all/none apply only to visible
  sources, not those hidden by an active filter. Add test for this.
- Handle confirmation for both types of MFA token reset.
- Close Tor slider popup with an X, as done elsewhere.
- Fix JS handling of ""download unread"" button.
- Fix some duplicate id attributes.
- Add flexbox SASS module.
- Improve detection of Tor browsers."
emkll,2019-02-27 15:38:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d012f149f09845cf3fb3226972fc120427d19393,d012f149f09845cf3fb3226972fc120427d19393,"Merge pull request #4204 from freedomofpress/builder-update-20190226

Update builder images"
redshiftzero,2019-02-27 03:16:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/516687661c446f846f04f2f018f2eb3bcca67fc4,516687661c446f846f04f2f018f2eb3bcca67fc4,"Merge pull request #4174 from freedomofpress/docs-prep-version-update

Update version number for Xenial prep guide, make years explicit"
redshiftzero,2019-02-27 00:28:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a3d294af5c9cc38195a4964d741ce3f42cb4d835,a3d294af5c9cc38195a4964d741ce3f42cb4d835,"Merge pull request #4201 from freedomofpress/4200-restart-apparmor-haveged

[xenial] Restart haveged and apparmor"
eloquence,2019-02-22 00:45:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b175f06ad36d16b45479e5aeaa82220bae63828d,b175f06ad36d16b45479e5aeaa82220bae63828d,"Update version number for Xenial prep guide, make years explicit

(This doc uses manual version numbers as it is linked to as `latest`
for ease of updating)"
heartsucker,2019-02-26 21:58:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df44ce1c312303e986b85343df12e1bd2adb4a31,df44ce1c312303e986b85343df12e1bd2adb4a31,"Merge pull request #4187 from freedomofpress/i18n-merge

I18n merge"
emkll,2019-02-26 21:41:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/77a3720bb0bd9736a9255c318dd6ea1c08471e4c,77a3720bb0bd9736a9255c318dd6ea1c08471e4c,"Update builder images

Builder images needed updates"
emkll,2019-02-26 19:51:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a7ea9174899565367dd49972a5fee9093009599,4a7ea9174899565367dd49972a5fee9093009599,"Restart haveged and apparmor

In the Xenial upgrade scenario, restarting will ensure the AppArmor profiles are correctly loaded so that it can be properly enforced, prior to rebooting."
redshiftzero,2019-02-26 19:57:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7965591719c72923ad617dafbfc74a12cb9c365a,7965591719c72923ad617dafbfc74a12cb9c365a,"l10n: updated is Icelandic

localizers: Oktavia, Jennifer Helsby, Kushal Das, Sveinn  Felli

https://github.com/freedomofpress/securedrop-i18n
copied from e57cf47462c43cac46284a150d5c3bf75127af62"
redshiftzero,2019-02-26 19:01:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/063ad168e86c8cdacb9e3e94e92c3f9a8c33ecea,063ad168e86c8cdacb9e3e94e92c3f9a8c33ecea,"Merge pull request #4182 from freedomofpress/docs-011-to-012

Add 0.11.1 to 0.12.0 upgrade docs"
kushaldas,2019-02-26 18:40:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b44f5dad8bd73a8c5b11efe22cda8dd5872415e8,b44f5dad8bd73a8c5b11efe22cda8dd5872415e8,"l10n: updated nb_NO Norwegian

localizers: yvind Bye Skille, Allan Nordhy

https://github.com/freedomofpress/securedrop-i18n
copied from e57cf47462c43cac46284a150d5c3bf75127af62"
kushaldas,2019-02-26 18:40:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04a89aebb2335701db1a4ffb7a4727addd6bfae2,04a89aebb2335701db1a4ffb7a4727addd6bfae2,"l10n: updated es_ES Spanish

localizers: Pablo Di Noto

https://github.com/freedomofpress/securedrop-i18n
copied from e57cf47462c43cac46284a150d5c3bf75127af62"
kushaldas,2019-02-26 18:40:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fcafd0f8dd87b5b7e21a26a1c2e547089bda6ee0,fcafd0f8dd87b5b7e21a26a1c2e547089bda6ee0,"l10n: updated de_DE German

localizers: Robin Schubert

https://github.com/freedomofpress/securedrop-i18n
copied from e57cf47462c43cac46284a150d5c3bf75127af62"
kushaldas,2019-02-26 18:40:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3be37693397c2ef33fd6d0eda3c8a0801dce6993,3be37693397c2ef33fd6d0eda3c8a0801dce6993,"l10n: updated ar Arabic

localizers: Ahmad Gharbeia

https://github.com/freedomofpress/securedrop-i18n
copied from e57cf47462c43cac46284a150d5c3bf75127af62"
kushaldas,2019-02-26 18:40:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ad2ba86aa8c490306e4cdb8a086d73a8925cd96,5ad2ba86aa8c490306e4cdb8a086d73a8925cd96,"l10n: updated hi Hindi

localizers: Chandan Kumar

https://github.com/freedomofpress/securedrop-i18n
copied from e57cf47462c43cac46284a150d5c3bf75127af62"
kushaldas,2019-02-26 18:40:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca7a11a950f6ab75d7d995b60e7b3edec2d32886,ca7a11a950f6ab75d7d995b60e7b3edec2d32886,"l10n: updated zh_Hant Chinese, Traditional

localizers: Chi-Hsun Tsai

https://github.com/freedomofpress/securedrop-i18n
copied from e57cf47462c43cac46284a150d5c3bf75127af62"
kushaldas,2019-02-26 18:40:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1ce42e780fe1e4992171f3952be77dfb1499bcce,1ce42e780fe1e4992171f3952be77dfb1499bcce,"l10n: updated it_IT Italian

localizers: Claudio Arseni

https://github.com/freedomofpress/securedrop-i18n
copied from e57cf47462c43cac46284a150d5c3bf75127af62"
kushaldas,2019-02-26 18:40:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e876e3ebc8559d7fe44ef895871275390219d6c,3e876e3ebc8559d7fe44ef895871275390219d6c,"l10n: updated is Icelandic

localizers: Oktavia

https://github.com/freedomofpress/securedrop-i18n
copied from e57cf47462c43cac46284a150d5c3bf75127af62"
kushaldas,2019-02-26 18:40:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/74e79f6bd244771c34f34bee3b0338dd50975f48,74e79f6bd244771c34f34bee3b0338dd50975f48,"l10n: updated ru Russian

localizers: Adham Kurbanov

https://github.com/freedomofpress/securedrop-i18n
copied from e57cf47462c43cac46284a150d5c3bf75127af62"
kushaldas,2019-02-26 18:40:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23db6b94f0539804036992f6e15962bfa93d9058,23db6b94f0539804036992f6e15962bfa93d9058,"l10n: updated pt_BR Portuguese, Brasil

localizers: communiaa

https://github.com/freedomofpress/securedrop-i18n
copied from e57cf47462c43cac46284a150d5c3bf75127af62"
kushaldas,2019-02-26 18:40:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6fc5313d5bd7386230de139aafea5e4d9d8f3e79,6fc5313d5bd7386230de139aafea5e4d9d8f3e79,"l10n: updated ro Romanian

localizers: robbpa, Jobava

https://github.com/freedomofpress/securedrop-i18n
copied from e57cf47462c43cac46284a150d5c3bf75127af62"
kushaldas,2019-02-26 18:40:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17f32b264b0bcc4e8fab9d7e7abd35a32f258ef9,17f32b264b0bcc4e8fab9d7e7abd35a32f258ef9,"l10n: updated el Greek

localizers: Dimitris Maroulidis

https://github.com/freedomofpress/securedrop-i18n
copied from e57cf47462c43cac46284a150d5c3bf75127af62"
kushaldas,2019-02-26 16:44:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71d9f56f985bed99e368944bd5af28e8d244c784,71d9f56f985bed99e368944bd5af28e8d244c784,l10n: compile desktop files
kushaldas,2019-02-26 16:43:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/802314bc5a9e6acf0a48b82212b308743cbbd546,802314bc5a9e6acf0a48b82212b308743cbbd546,"l10n: updated is Icelandic

localizers: Sveinn  Felli

https://github.com/freedomofpress/securedrop-i18n
copied from 14a0879eaa25112f59ef6a060afcec45d38bf823"
kushaldas,2019-02-26 16:43:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20fd8b30643f2854c5b1fd071235d4e429db6076,20fd8b30643f2854c5b1fd071235d4e429db6076,"l10n: updated ro Romanian

localizers: eduard pintilie, robbpa, Jobava

https://github.com/freedomofpress/securedrop-i18n
copied from 14a0879eaa25112f59ef6a060afcec45d38bf823"
redshiftzero,2019-02-25 19:49:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/06a49f597249f10494020254e9d8203ffc83d775,06a49f597249f10494020254e9d8203ffc83d775,ci: Add Romanian and Icelandic to translation job
kushaldas,2019-02-25 17:58:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa9aa8650a13c7d543dc1ae71819ca8364669daf,fa9aa8650a13c7d543dc1ae71819ca8364669daf,l10n: compile desktop files
kushaldas,2019-02-25 17:38:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0dc4891cea7d81c0ab8fe69dfa375ba892cc9741,0dc4891cea7d81c0ab8fe69dfa375ba892cc9741,docs: update the list of supported languages
kushaldas,2019-02-25 17:28:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d89a767078c72f2458177103fef7aa3c91645e6f,d89a767078c72f2458177103fef7aa3c91645e6f,"l10n: updated nb_NO Norwegian

localizers: yvind Bye Skille, Kushal Das, Allan Nordhy

https://github.com/freedomofpress/securedrop-i18n
copied from c9881489754f2c35079553eccba4b76711a1e0e8"
kushaldas,2019-02-25 17:28:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e92bc22912bd7bfa0c2a1e4b7facdf63ce5c604,1e92bc22912bd7bfa0c2a1e4b7facdf63ce5c604,"l10n: updated es_ES Spanish

localizers: Kushal Das, Zuhualime Akoochimoya, erinm

https://github.com/freedomofpress/securedrop-i18n
copied from c9881489754f2c35079553eccba4b76711a1e0e8"
kushaldas,2019-02-25 17:27:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0de85e421af849fcb9b1e0ed60a6dee8ae43c1c3,0de85e421af849fcb9b1e0ed60a6dee8ae43c1c3,"l10n: updated de_DE German

localizers: Kushal Das, Ettore Atalan

https://github.com/freedomofpress/securedrop-i18n
copied from c9881489754f2c35079553eccba4b76711a1e0e8"
kushaldas,2019-02-25 17:27:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/274aafcb6d70fa6489dd5bba1e8e0c283849606a,274aafcb6d70fa6489dd5bba1e8e0c283849606a,"l10n: updated ar Arabic

localizers: Ahmed Essam, A. Nonymous, erinm, ButterflyOfFire, Kushal Das, Ahmad Gharbeia

https://github.com/freedomofpress/securedrop-i18n
copied from c9881489754f2c35079553eccba4b76711a1e0e8"
kushaldas,2019-02-25 17:27:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a74a7f4db315e1727cb46c41091501cb86c20a02,a74a7f4db315e1727cb46c41091501cb86c20a02,"l10n: updated hi Hindi

localizers: Kushal Das

https://github.com/freedomofpress/securedrop-i18n
copied from c9881489754f2c35079553eccba4b76711a1e0e8"
kushaldas,2019-02-25 17:27:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa90f0fa761ac364ee0725b870d3df2b582d97be,fa90f0fa761ac364ee0725b870d3df2b582d97be,"l10n: updated zh_Hant Chinese, Traditional

localizers: Chi-Hsun Tsai, Kushal Das

https://github.com/freedomofpress/securedrop-i18n
copied from c9881489754f2c35079553eccba4b76711a1e0e8"
kushaldas,2019-02-25 17:27:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a7115f6bdd9f69e3d931f917a89ae553ae8c4f03,a7115f6bdd9f69e3d931f917a89ae553ae8c4f03,"l10n: updated sv Swedish

localizers: Jonas Franzn, Kushal Das, Allan Nordhy

https://github.com/freedomofpress/securedrop-i18n
copied from c9881489754f2c35079553eccba4b76711a1e0e8"
kushaldas,2019-02-25 17:27:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b9c8d6c7d4ca7bb556960218a744d7d2a3dce35,3b9c8d6c7d4ca7bb556960218a744d7d2a3dce35,"l10n: updated it_IT Italian

localizers: Kushal Das

https://github.com/freedomofpress/securedrop-i18n
copied from c9881489754f2c35079553eccba4b76711a1e0e8"
kushaldas,2019-02-25 17:27:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78e8e46d944d935be142fb2f9188aa90a4322334,78e8e46d944d935be142fb2f9188aa90a4322334,"l10n: updated is Icelandic

localizers: Kushal Das

https://github.com/freedomofpress/securedrop-i18n
copied from c9881489754f2c35079553eccba4b76711a1e0e8"
kushaldas,2019-02-25 17:24:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0211068be297ffe6208736953973bcd545dbafd3,0211068be297ffe6208736953973bcd545dbafd3,"l10n: updated tr Turkish

localizers: Kaya Zeren, Kushal Das, Volkan, tekrei

https://github.com/freedomofpress/securedrop-i18n
copied from 9f8dc24f2fe82529294e0ebb7d7bfa931e912106"
kushaldas,2019-02-25 17:24:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d0a84d6b26f85895bc34324753eb0b4976782ab2,d0a84d6b26f85895bc34324753eb0b4976782ab2,"l10n: updated ru Russian

localizers: Kushal Das

https://github.com/freedomofpress/securedrop-i18n
copied from 9f8dc24f2fe82529294e0ebb7d7bfa931e912106"
kushaldas,2019-02-25 17:24:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/953f8ca423e7793f98cf90a81091a1d3f0fa2091,953f8ca423e7793f98cf90a81091a1d3f0fa2091,"l10n: updated fr_FR French

localizers: Kushal Das, AO

https://github.com/freedomofpress/securedrop-i18n
copied from 9f8dc24f2fe82529294e0ebb7d7bfa931e912106"
kushaldas,2019-02-25 17:24:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e533f61f5e47b0f8ed1223774859e120beeb7ea,0e533f61f5e47b0f8ed1223774859e120beeb7ea,"l10n: updated pt_BR Portuguese, Brasil

localizers: EBonsi, Kushal Das, communiaa, erinm

https://github.com/freedomofpress/securedrop-i18n
copied from 9f8dc24f2fe82529294e0ebb7d7bfa931e912106"
kushaldas,2019-02-25 17:24:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa0fd236408da185b43649339181637c4ab52654,fa0fd236408da185b43649339181637c4ab52654,"l10n: updated nl Dutch

localizers: kwadronaut, Kushal Das

https://github.com/freedomofpress/securedrop-i18n
copied from 9f8dc24f2fe82529294e0ebb7d7bfa931e912106"
kushaldas,2019-02-25 17:24:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d88c66eeba22d30449d0f091afb98c3c150a65d,6d88c66eeba22d30449d0f091afb98c3c150a65d,"l10n: updated ro Romanian

localizers: robbpa, Jobava, Weblate, Kushal Das, Loic Dachary

https://github.com/freedomofpress/securedrop-i18n
copied from 9f8dc24f2fe82529294e0ebb7d7bfa931e912106"
kushaldas,2019-02-25 17:24:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5eb35bdece5ca36f2d5b372d30ba84a01e25af5b,5eb35bdece5ca36f2d5b372d30ba84a01e25af5b,"l10n: updated el Greek

localizers: Kushal Das, Adrian

https://github.com/freedomofpress/securedrop-i18n
copied from 9f8dc24f2fe82529294e0ebb7d7bfa931e912106"
redshiftzero,2019-02-26 17:53:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/14253936a6db2d33b0f2f99490d624a470ad0d45,14253936a6db2d33b0f2f99490d624a470ad0d45,"Merge pull request #4197 from freedomofpress/docs-safe-apt-update

Clarify docs to ensure apt is not used at OS install time"
emkll,2019-02-26 17:28:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/83a1d073d50106b6a2fcf0efe55ff826f8f2b750,83a1d073d50106b6a2fcf0efe55ff826f8f2b750,"Ubuntu ISOs are not yet patched for CVE-2019-3462

Clarifies Ubuntu install steps to mitigate against that vulnerability."
eloquence,2019-02-26 02:14:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a3cae815877b046c0e0ee247413483295051ea24,a3cae815877b046c0e0ee247413483295051ea24,Note that in-place upgrade is riskier w/ non-standard hardware
eloquence,2019-02-22 23:54:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cf81b037999f147b3a38579e3e3079801be2d5ca,cf81b037999f147b3a38579e3e3079801be2d5ca,"Add 0.11.1 to 0.12.0 upgrade docs

Resolves #4180"
kushaldas,2019-02-26 12:39:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2bdd7e75ee5286b7dfcefd2d9a610b7796ca6ad5,2bdd7e75ee5286b7dfcefd2d9a610b7796ca6ad5,"Merge pull request #4140 from freedomofpress/4057-docs-xenial-update

[xenial] Add documentation for Xenial upgrade"
kushaldas,2019-02-26 09:36:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d70fb3ae08f80c63017700c9f142f54fac7042d,6d70fb3ae08f80c63017700c9f142f54fac7042d,Adds missing _ for links formatting
redshiftzero,2019-02-26 00:45:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/48b32508191de090066c1ae6687789cdeaf4ac04,48b32508191de090066c1ae6687789cdeaf4ac04,"Merge pull request #4193 from freedomofpress/update-romanian-icelandic

[i18n] add romanian and icelandic, update i18n_tool.py"
kushaldas,2019-02-25 17:39:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8043f653cb1a4ad528a4d6051472cacf52ff82f,e8043f653cb1a4ad528a4d6051472cacf52ff82f,"Removed only .po chars from a lang.po file

rstrip removes an extra o from `ro.po` file name,
so, we should only remove the last 3 characters."
redshiftzero,2019-02-25 23:07:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2027c7b3ea9b99467169678b3ab399fe3a3ea287,2027c7b3ea9b99467169678b3ab399fe3a3ea287,test: regression test for #4192
kushaldas,2019-02-25 17:00:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e191fad57016649b73a2abef77898d1b9061dad3,e191fad57016649b73a2abef77898d1b9061dad3,Adds new languages: ro is
redshiftzero,2019-02-25 21:44:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3ad197c7cb51a3002b72659001ac7c835130ec58,3ad197c7cb51a3002b72659001ac7c835130ec58,"Merge pull request #4188 from freedomofpress/builder-updates-20190225

Update builder images"
eloquence,2019-02-25 20:57:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e13671dc1534ba006234f962d5f24a1d505938e5,e13671dc1534ba006234f962d5f24a1d505938e5,"Merge pull request #4189 from zenmonkeykstop/4057-docs-xenial-update

updated tmux note, fixed path error"
zenmonkeykstop,2019-02-25 20:14:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/208108d0db4140a4919a9050c2fe24c06077fab9,208108d0db4140a4919a9050c2fe24c06077fab9,"updated tmux note, fixed path error"
emkll,2019-02-25 19:25:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01b31c0e3b07fd418cb734c1cc3a33e40e78c96e,01b31c0e3b07fd418cb734c1cc3a33e40e78c96e,Update builder images
kushaldas,2019-02-25 04:44:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a04f77a7f34ec7705144b1e963e2d8acd5b40d58,a04f77a7f34ec7705144b1e963e2d8acd5b40d58,"Merge pull request #4184 from freedomofpress/i18n-ci

[ci] run page layout tests in all supported languages for i18n-* branches"
redshiftzero,2019-02-23 21:14:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8ee3ec4793848a90143c4deb4b2d75adc8bb14c8,8ee3ec4793848a90143c4deb4b2d75adc8bb14c8,docs: explain about prefixing translation branches with i18n-
redshiftzero,2019-02-23 21:09:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c8e3c586a8268e3597cde5f80c0a50217ababc4,1c8e3c586a8268e3597cde5f80c0a50217ababc4,"ci: distribute tests across 2 containers, fix OOM

When running this test suite in all the languages now supported,
one hits in an OOM error in CI. This modification to run
one locale at a time resolves."
redshiftzero,2019-02-23 21:08:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07f4d398960c7c0604d2a7301ccee7604694fd93,07f4d398960c7c0604d2a7301ccee7604694fd93,ci: also DRY up rebasing on target branch
redshiftzero,2019-02-23 19:56:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4683b0e2ac8d627fb92ecfe3578f54da1c3e1aa9,4683b0e2ac8d627fb92ecfe3578f54da1c3e1aa9,ci: also use docker layer caching for translation job
redshiftzero,2019-02-23 19:54:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa8cf5611c98993000bd6be092903675582071fb,aa8cf5611c98993000bd6be092903675582071fb,ci: only run translation tests on i18n-* branches
redshiftzero,2019-02-23 19:41:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d1d3bdd0d94fe265a0e13a0efbfdf9f23c4c325,0d1d3bdd0d94fe265a0e13a0efbfdf9f23c4c325,"ci: use YAML anchors to DRY up common docker layer caching steps

This commit only DRYs up the xenial docker layer caching steps
because the trusty job will soon be going away (and because I
only want to use the xenial docker layer cache for the translation
job).

Due to an incomplete implementation of YAML anchors on CircleCI [0, 1],
this commit adds one anchor per step.

[0] https://discuss.circleci.com/t/allow-bundling-several-steps-e-g-by-supporting-nested-steps/15339
[1] https://discuss.circleci.com/t/yaml-anchors-implementation-incomplete/16916/4"
redshiftzero,2019-02-22 18:34:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e61e35081cc575b178572f98e26473660d1665af,e61e35081cc575b178572f98e26473660d1665af,"ci: add new job for translation merges

This runs the translation tests in all languages, which was
previously done manually on local machines by developers the day
of or before release"
redshiftzero,2019-02-22 19:41:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/794df983283bae6ea76fe3f80c50474b9f89a6ca,794df983283bae6ea76fe3f80c50474b9f89a6ca,"Merge pull request #4158 from freedomofpress/ci-move-trusty-app-test-job-to-nightly

[ci] move trusty app tests to nightly job and use circle ci branch filtering logic"
heartsucker,2019-02-22 18:48:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3eac9135e36da9bb2d1e4a62d9fb5caca1d0ede5,3eac9135e36da9bb2d1e4a62d9fb5caca1d0ede5,"Merge pull request #4172 from freedomofpress/4171-follow-up-to-4133

Clean up restore script and clarify restore docs, follow up to 4133"
eloquence,2019-02-22 18:00:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00f934874888bbc48b3aba25b24f310f6ad96284,00f934874888bbc48b3aba25b24f310f6ad96284,"Merge pull request #4177 from zenmonkeykstop/4057-docs-xenial-update

updates to Xenial install docs based on review"
zenmonkeykstop,2019-02-22 17:46:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a13f9cc3e60b3d605c93879c4cb04812f10067fc,a13f9cc3e60b3d605c93879c4cb04812f10067fc,updated based on review
eloquence,2019-02-22 17:42:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/66fc3b7cbfcb57145a0ab107a9d3420d80de3eaf,66fc3b7cbfcb57145a0ab107a9d3420d80de3eaf,Reinstate Xenial-related changes to server docs
eloquence,2019-02-22 01:02:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5a01ddb87599c68dcd58afc6844c4ca078270167,5a01ddb87599c68dcd58afc6844c4ca078270167,Securedrop->SecureDrop
eloquence,2019-02-21 22:58:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4dc3c758000899eef29606cc15f9c62a7656a4e7,4dc3c758000899eef29606cc15f9c62a7656a4e7,"First pass copyedit/formatting, small tweaks:

- Try to distinguish more clearly between new/existing hardware
- Explicitly call out location of IP address info"
zenmonkeykstop,2019-02-21 23:33:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/def5d6cc5ca8a90bdbb6fbe9c8bdf589a40d58e0,def5d6cc5ca8a90bdbb6fbe9c8bdf589a40d58e0,updated upgrade-in-place docs
zenmonkeykstop,2019-02-21 20:07:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1243d244f1ff857ccdd51c79dac9341da985e235,1243d244f1ff857ccdd51c79dac9341da985e235,added backup/install/restore docs
eloquence,2019-02-21 01:20:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c7c522af34057cf8717bd14436809c211bed99d4,c7c522af34057cf8717bd14436809c211bed99d4,Restore fresh install guide to original state; handled in #4157
eloquence,2019-02-13 06:36:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d77513e29c493baf9c92bdd63c96d52cf18d8385,d77513e29c493baf9c92bdd63c96d52cf18d8385,"""Perform additional tests"" section, further tweaks to main text

- Minimal additional tests (most failures should surface in
  playbook run) and an end-to-end test for good measure
- Clarify what output is expected for `lsb_release -a`
- Make it clearer how to resize terminal (H/T @conorsch) in case
  of ncurses issues
- Remove placeholder notes"
eloquence,2019-02-11 23:06:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a87bc0c9fa5036ecedccf60cfa7f1dc44d42d55e,a87bc0c9fa5036ecedccf60cfa7f1dc44d42d55e,"Mostly cleanup and smaller tweaks, one substantial edit

- Use caution/warnings blocks in a couple of places;
- Clean up trailing whitespace and wrap to 80 characters;
- Follow formatting recommendations as closely as possible;
- Small wording changes, reduce direct repetition;
- Correct final step: install instead of sdconfig."
zenmonkeykstop,2019-02-06 01:21:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d6fc41981a7050d33dfe5997b73bd912fcd62ef,8d6fc41981a7050d33dfe5997b73bd912fcd62ef,Made docs changes to support Xenial installs and upgrades
emkll,2019-02-22 16:30:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/66452c3179ff662872867123cb19b16989c809e8,66452c3179ff662872867123cb19b16989c809e8,"Merge pull request #4167 from freedomofpress/4161-force-apparmor-profiles-in-app-code-deb-package

Re-enables unattended upgrades to AppArmor profiles"
emkll,2019-02-22 14:38:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5e7e3c68e46a09863f78007cadd65c7f7a334594,5e7e3c68e46a09863f78007cadd65c7f7a334594,Fix test name collision to pass linting
emkll,2019-02-21 13:59:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd6b14d3f5e20eb0ba921ccc51da5f520d7dc517,dd6b14d3f5e20eb0ba921ccc51da5f520d7dc517,"Use only explicitly declared conffiles

At compat level>=3, debhelper will automatically add any file in /etc/ in a package as a conffile. Since the securedrop-app-code package ships AppArmor profiles in /etc/ that we want to squash at every install, they must not be specified as conffiles. We can override dh_installdeb to substitute the automatically generated conffile with the one we create."
conorsch,2019-02-21 01:46:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a04ad8d9262ac69790a6d13405114882ac07507,1a04ad8d9262ac69790a6d13405114882ac07507,"Removes aa-complain logic from Ansible

The aa-complain logic paths were off by default, and are left over from
the days when we did not enforce AppArmor on staging VMs. We've since
switched to enforcing AppArmor profiles by default in staging, to catch
problems earlier in the development and testing cycle."
conorsch,2019-02-21 01:10:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5585979e836fab2b9fa4c4e1c785cc52478eb274,5585979e836fab2b9fa4c4e1c785cc52478eb274,"Adds regression test for conffiles in app-code

The recent migration to debhelper caused the AppArmor profiles to be
considered conffiles, which breaks our ability to ship unattended
updates to those files. We want the AppArmor profiles to be exactly as
we configure them, including any updates over time, so we cannot permit
the conffiles classification.

This test ensures that the `securedrop-app-code` deb package contains
only the explicitly whitelisted conffile of the default logo location.
Any additional conffiles, automatically classified via debhelper or
otherwise, will cause the test to fail, to guard against regressions."
heartsucker,2019-02-22 08:50:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d887972a4d058f2a24cc5ddcca29c46f779c99be,d887972a4d058f2a24cc5ddcca29c46f779c99be,"Merge pull request #4157 from freedomofpress/docs-xenial-fresh-install

[xenial] Update fresh install guide"
kushaldas,2019-02-22 07:59:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9e855bf9a4b31406f63a80883f7f978d36fb2bf4,9e855bf9a4b31406f63a80883f7f978d36fb2bf4,"Merge pull request #4169 from freedomofpress/4162-validate-tor-version

Ensure version of tor installed is from FPF repo"
emkll,2019-02-21 18:30:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ef9dd1657c6716b6438ff6c9b886f7727e43d1f,2ef9dd1657c6716b6438ff6c9b886f7727e43d1f,"Ensure version of tor installed is from FPF repo

Ubuntu upstream uses older versions:
- 0.2.4.27 (Trusty)
- 0.2.9.14 (Xenial)"
emkll,2019-02-21 22:08:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3ebd495852f82bf2cf999ef2a63f05fa8325fd5a,3ebd495852f82bf2cf999ef2a63f05fa8325fd5a,"Update restore docs

Clarify that ssh access is needed to retrieve Source and Journalist Onion URLs via installer."
emkll,2019-02-21 21:09:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a8b339df5e1cb714e09a32146c1e4ba96dd98f0,6a8b339df5e1cb714e09a32146c1e4ba96dd98f0,"Remove deletion of THS in restore script

As noted in a PR review [0] (unfortunately after merge), this stanza is a no-op in the context of a backup restore and should be removed.

[0]: https://github.com/freedomofpress/securedrop/pull/4133#pullrequestreview-205528697"
eloquence,2019-02-21 01:14:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8c40ac6897dbbf7010287d31f4eacfdc3c22015,e8c40ac6897dbbf7010287d31f4eacfdc3c22015,"docs: Clarify that ""Standard system utilities"" have to be deselected"
redshiftzero,2019-02-20 17:25:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4cfd23cd8919e15c0115dde1433fc8c29dd52f8,d4cfd23cd8919e15c0115dde1433fc8c29dd52f8,"ci: relegate trusty staging job to nightly, run xenial on each PR"
redshiftzero,2019-02-20 06:24:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/575ae195cdfbf97fba6ff6e49ce0421fdcfda2be,575ae195cdfbf97fba6ff6e49ce0421fdcfda2be,ci: use branch filtering in circle ci to avoid test runs for docs
redshiftzero,2019-02-20 06:55:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/971fb1b20082099de00678e1cdabe40d69c4f5aa,971fb1b20082099de00678e1cdabe40d69c4f5aa,ci: rip out custom docs- branch logic
redshiftzero,2019-02-20 01:35:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb91e59c09f26ef23e547f79a17291d048524460,cb91e59c09f26ef23e547f79a17291d048524460,"Merge pull request #4153 from rmol/noscript-workaround

Add instructions for working around NoScript XSS upload problem"
rmol,2019-02-18 19:43:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4d7851a0292644ec5648f7fdaaa6a6f1d3a29d2e,4d7851a0292644ec5648f7fdaaa6a6f1d3a29d2e,"Add instructions for working around NoScript XSS upload problem

There is currently an unpredictable problem with uploads, due to a
Firefox bug. For now, the only workarounds are implementing AJAX
uploads or disabling NoScript's cross-site request sanitization. We're
recommending the latter, since it should be safe with our recommended
Tor Browser settings, and doesn't require enabling JavaScript to use
SecureDrop.

This change adds:

- instructions in the source UI for disabling NoScript cross-site
  request sanitization before uploading
- a note about the bug in the source guide
- updated screenshots of the source submission page

Fixes: #4078"
redshiftzero,2019-02-19 23:38:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a7b40b2225d7d3ab1dadd3f94e3be1d02507bb56,a7b40b2225d7d3ab1dadd3f94e3be1d02507bb56,"ci: move trusty app tests to nightly job

Beginning with 0.12.0, news organizations will be migrating to
Xenial, and all new installs will be on Xenial. Thus, we should
move the Trusty app test job to a nightly job, and monitor it
for failures until Trusty is deprecated in the following months.

This also reduces total CI time per PR, as the trusty job took 20+ minutes."
redshiftzero,2019-02-14 00:04:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b6c4b5afa4a4517d5d0f910dfa88a4d7d6342784,b6c4b5afa4a4517d5d0f910dfa88a4d7d6342784,docs: fresh installs should be on xenial
emkll,2019-02-18 15:30:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03b4a07e1e80596bef05d302130294c51a1bbd73,03b4a07e1e80596bef05d302130294c51a1bbd73,"Merge pull request #4151 from freedomofpress/import_okay

Import okay"
kushaldas,2019-02-18 12:46:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71ac0eb8e393b1ac8fd2a299fd5a5dd433e8ac04,71ac0eb8e393b1ac8fd2a299fd5a5dd433e8ac04,"Fixes #4108 no import_ok error for importing gpg

--batch flag helps to import the gpg keys into gpg2 format
without having the passphrase."
heartsucker,2019-02-18 09:08:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6b007ba9505a3bf494875a7c43326a5acc72e201,6b007ba9505a3bf494875a7c43326a5acc72e201,"Merge pull request #4148 from freedomofpress/ci-fix-xenial-staging

[ci] fix nightly xenial staging job"
redshiftzero,2019-02-06 02:11:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/261468ad0e9186e950d0edf2a765f1ac896a820a,261468ad0e9186e950d0edf2a765f1ac896a820a,securedrop-app-code postinst: migrate keyring
redshiftzero,2019-02-16 00:12:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f6ec7264b5554a5817a5a1f3a0893b5f7a98755e,f6ec7264b5554a5817a5a1f3a0893b5f7a98755e,xenial staging: add junit XML output
redshiftzero,2019-02-15 18:15:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/06c333346ebf99f8a362c8d82521eb8f79fb3ee8,06c333346ebf99f8a362c8d82521eb8f79fb3ee8,"Merge pull request #4145 from freedomofpress/4144-deb-filename-fix

Update update_version.sh"
emkll,2019-02-15 17:13:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c00913879e702efd42de3ca72b7140e004ab8208,c00913879e702efd42de3ca72b7140e004ab8208,"Fix update_version.sh

use `+` instead of `-` to separate distribution in securedrop-app-code versiob"
emkll,2019-02-15 15:32:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/74ae12d1c7e239e88f8034c4729a4c93f630dbc1,74ae12d1c7e239e88f8034c4729a4c93f630dbc1,"Merge pull request #4115 from zenmonkeykstop/4109-prepare-servers

[xenial] Ensures server packages required by ./securedrop-admin install are present on Xenial"
emkll,2019-02-15 13:51:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/10b16cee24596846ac36e6eb5599f031531fab59,10b16cee24596846ac36e6eb5599f031531fab59,"Merge pull request #4116 from freedomofpress/updated-release-upgrades

[xenial] Updated release-upgrades Prompt for Trusty, Xenial as appropriate"
heartsucker,2019-02-15 08:44:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90ec1f8e06187f0cb67f53f62862b115115f267e,90ec1f8e06187f0cb67f53f62862b115115f267e,"Merge pull request #4139 from freedomofpress/4131-little-green-buttons

Update UI language referencing Tor button"
eloquence,2019-02-15 00:48:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d13b60f692446e491415d3cd9360ba3b9204fda,9d13b60f692446e491415d3cd9360ba3b9204fda,"Update UI language referencing Tor button

There is a still a friendly little green button, but it's now used
for getting a new circuit. To get a new identity, you have to use
the friendly little grey button.

Resolves #4131"
emkll,2019-02-14 23:44:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8734b8ace875b57bbf594492ff592114148ba1f3,8734b8ace875b57bbf594492ff592114148ba1f3,"Merge pull request #4133 from freedomofpress/fix-restore-logic

fix restore logic to recreation of onion services"
emkll,2019-02-14 21:02:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d1fe88f2fd481c0749635d22866ccd0df4462e0d,d1fe88f2fd481c0749635d22866ccd0df4462e0d,Docs: install command will fetch Onion URLs from restore
heartsucker,2019-02-14 15:31:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7fa0e996bdc0c94ff2dba5c0479720d2e7b97a1a,7fa0e996bdc0c94ff2dba5c0479720d2e7b97a1a,fix restore logic to ensure recreation of onion services
conorsch,2019-02-13 23:45:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87f286bd9c65049ba84dfa542d39e94878f3322b,87f286bd9c65049ba84dfa542d39e94878f3322b,"Renames apt version checks in FPF repo install

We're no longer upgrading apt in this logic, we're simply ensuring that
the apt version meets spec before proceeding with the installation."
emkll,2019-02-13 23:37:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f7b97e37e8431fbea80964803f97c7c635e721e4,f7b97e37e8431fbea80964803f97c7c635e721e4,Adds prepare-servers to staging playbook
emkll,2019-02-13 23:35:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99d176dc73a4fe019c72585f3565956f681a2283,99d176dc73a4fe019c72585f3565956f681a2283,Updates apt install logic
redshiftzero,2019-02-13 20:33:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4865a46381d212e0f315eb466aa26d871aa36e84,4865a46381d212e0f315eb466aa26d871aa36e84,"Merge pull request #4127 from freedomofpress/fix-ops-script

ensure venv is python2"
redshiftzero,2019-02-13 20:30:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/60cc0b615ea2f972148ff023da08bce7cd1ee120,60cc0b615ea2f972148ff023da08bce7cd1ee120,"Merge pull request #4129 from freedomofpress/fix-update-version-script

fix update version script"
heartsucker,2019-02-13 16:47:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/32a4824cb1218a0bff2643a0984e08334a23c9a6,32a4824cb1218a0bff2643a0984e08334a23c9a6,"fix update version script

(cherry picked from commit 0cd6e8f2207bd6ab0e75ce064bf9f9526bb14031)"
zenmonkeykstop,2019-02-09 01:48:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce38eb2893d732a5fd01f727b01aad2453b2d56a,ce38eb2893d732a5fd01f727b01aad2453b2d56a,"new role to add server packages required by ./securedrop-admin install

(coming to you live from Hut 6 in Bletchley Park...)"
nightwarrior-xxx,2019-02-13 09:00:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c99cfb458a35b0fb3f82cef122281e8f124c84bb,c99cfb458a35b0fb3f82cef122281e8f124c84bb,"Fixes #4097 Adds base OS info to metadata endpoint

This PR contains the code and corresponding test for OS information in the metadata endpoint."
heartsucker,2019-02-12 22:03:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8ebbfdb96d406c6b2f7e37abc8f5bf90ff5beb8f,8ebbfdb96d406c6b2f7e37abc8f5bf90ff5beb8f,"Merge pull request #4126 from freedomofpress/fix-upgrade-scenario

Fix upgrade scenario"
heartsucker,2019-02-12 21:44:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cf14d40fec799a524257f74a43fbf692e0ed6171,cf14d40fec799a524257f74a43fbf692e0ed6171,force re-run the script to trigger an ossec alert
heartsucker,2019-02-12 17:59:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bac3e7b7b5501c780b0ea1d9d6ea12508fda79a0,bac3e7b7b5501c780b0ea1d9d6ea12508fda79a0,ensure venv is python2
conorsch,2019-02-12 18:26:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c8db4a77b5e7b27971ba493aff0aff072e5f622a,c8db4a77b5e7b27971ba493aff0aff072e5f622a,"Merge pull request #4114 from freedomofpress/4110-pax-flags-for-xenial-apache

[xenial] Manages PaX flags on Apache under Xenial"
emkll,2019-02-12 15:15:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2b5aefed91eaf51dc29566de07dc0f6d2a564793,2b5aefed91eaf51dc29566de07dc0f6d2a564793,"Override var for tor-apt repo url for upgrade

This is required for testing upgrades from versions <= 0.11.1 to 0.12.0-rc0+ because the tor-apt repo was removed. It is needed to properly configure the boxes that are to be upgraded."
emkll,2019-02-12 15:17:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c2e1636669eb3597d852b6927d5fbf36653768f1,c2e1636669eb3597d852b6927d5fbf36653768f1,Specify Trusty debs directory for local upgrade testing
kushaldas,2019-02-12 10:10:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f6f6ea25c44a1df9e0c4f4fc30a9ed07887580ae,f6f6ea25c44a1df9e0c4f4fc30a9ed07887580ae,"Merge pull request #4118 from freedomofpress/fix-haveged-profile

[xenial] run haveged process confined by AppArmor"
kushaldas,2019-02-12 07:53:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/75784430b5500ff6e244493ead428f39f5d47dcb,75784430b5500ff6e244493ead428f39f5d47dcb,"Merge pull request #4123 from freedomofpress/docs-free-the-otp

[docs] Fix redundancy (""We recommend FreeOTP; maybe try FreeOTP"")"
eloquence,2019-02-12 02:28:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/228c074492d23af378389cb3541b2724cf121159,228c074492d23af378389cb3541b2724cf121159,"Fix redundancy (""We recommend FreeOTP; maybe try FreeOTP"")"
conorsch,2019-02-11 18:51:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4da235c5be4a9e4186bc717309fd02b3b0a17176,4da235c5be4a9e4186bc717309fd02b3b0a17176,"Adds config tests for release-manager channels

Validates that Trusty should honor an upgrade request to Xenial, but
Xenial should not honor upgrade requests to Bionic."
redshiftzero,2019-02-12 00:24:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c32d260f8a16829533f9154d9778bf3d8bb62953,c32d260f8a16829533f9154d9778bf3d8bb62953,apparmor: only modify haveged apparmor config for xenial
redshiftzero,2019-02-11 21:25:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/34743e31f824d1f5fea8cfbd204472c917020b09,34743e31f824d1f5fea8cfbd204472c917020b09,testinfra: all processes with an apparmor profile should run confined
redshiftzero,2019-02-11 21:22:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30beccca9e2f5e964051d5b0ad8b6ca1c21f0c9d,30beccca9e2f5e964051d5b0ad8b6ca1c21f0c9d,"apparmor: ensure haveged runs confined

There were two issues causing haveged to run unconfined on Xenial:

1. The AppArmor profile needed updating to whitelist rw for the PID
file that haveged uses [0].
2. The haveged service needed to be configured to start running only
after AppArmor is running [1, 2].

[0] https://bugs.launchpad.net/ubuntu/+source/haveged/+bug/1708674
[1] https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=824179
[2] https://github.com/freedomofpress/securedrop/issues/4098"
heartsucker,2019-02-11 11:42:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/047a15b652869677b553fcfc052414611db41e28,047a15b652869677b553fcfc052414611db41e28,revert update script changes once we move to xenial
heartsucker,2019-02-11 11:39:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b2efbea94a674c802d0e7c68acf242c0a4c8018d,b2efbea94a674c802d0e7c68acf242c0a4c8018d,update the script and log file for new releases to prevent incorrect upgrades
heartsucker,2019-02-11 11:38:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc947592e34c53013523a6d11414a96842c82f70,bc947592e34c53013523a6d11414a96842c82f70,update upgrade prompt via postinst script
kushaldas,2019-02-11 13:34:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8339e327626c225dd3f04b6eed2040e86afb149f,8339e327626c225dd3f04b6eed2040e86afb149f,"Merge pull request #4099 from freedomofpress/3964-testinfra-for-xenial

Ensures config test coverage for Xenial"
kushaldas,2019-02-11 11:40:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d067046e8cd4485335fc48405b79a1958311dfc,9d067046e8cd4485335fc48405b79a1958311dfc,"Fixes mypy errors with `type: ignore`

As I reported the issue, there is now an upstream PR
opened https://github.com/python/typeshed/pull/2787

We can remove these two lines after a new typeshed release."
conorsch,2019-02-08 23:22:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01ac3e90e8596b2c8214ed1bd6070037f39b28cf,01ac3e90e8596b2c8214ed1bd6070037f39b28cf,"Manages PaX flags on Apache under Xenial

Installs paxctld from distro repos under Xenial, edits the config in
place, and bounces the service. Using paxctld rather than paxctl to
ensure that flags are restored after security updates to the apache2
package via apt, which may occur outside the scope of SecureDrop
updates.

Includes changes to PaX flag management against Firefox (used for
testing) because paxctld ships with suitable flags for firefox already,
via the upstream config. Therefore we can stick to paxctl for Trusty,
but leverage paxctld under Xenial. Reminder that we plan to axe
the entire `app-test` role once we have external browser testing
working."
conorsch,2019-02-08 21:31:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc2239455cf0a6b4f1f92c7f81bd714716a3d7f5,fc2239455cf0a6b4f1f92c7f81bd714716a3d7f5,"Merge pull request #4112 from freedomofpress/fix-xenial-staging

[xenial] makefile: fix build-debs-xenial-notest target"
conorsch,2019-02-08 01:09:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/948d7e93dff47d2203983507b4c862f7649f7efc,948d7e93dff47d2203983507b4c862f7649f7efc,"Disables strict xfail on PaX flag config tests

The ""strict=true"" pragma on pytest xfail means that the config test
suite will exit non-zero if the tests pass. We added strict=True in order
to understand better the problem of PaX flags not matching, and it
appears we've confirmed that the age of installed packages is sufficient
determinant. That is, if apt such as grub are upgraded as part of the
install, then PaX flags set by the grsecurity role will be clobbered
very quickly."
conorsch,2019-02-04 20:33:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bdbb334544be45275aad6f92cb5a7cfd9108e760,bdbb334544be45275aad6f92cb5a7cfd9108e760,"Converts config tests to testinfra ""host"" pragma

The old sytanx of automatic module imports as part of the test function args
has been deprecated since testinfra v1.6.0 (2017-04-21). It's still
working, but planned to be dropped as of testinfra v2.0. Took the
opportunity to convert our checks throughout."
conorsch,2019-02-04 18:58:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/84b5b0d3c01c18fcbff6f57709dacf6dab27fc43,84b5b0d3c01c18fcbff6f57709dacf6dab27fc43,"Refactors per-platform config test logic

Using wrapper functions to call discrete checks depending on platform,
which is always either Trusty or Xenial. Most of the branching logic was
already present, just cleaning it up a bit in order to make the
functions more readable.

Added a systemd-style check for xvfb under Xenial, since we weren't
inspecting that config on disk.

Accordingly, updates the dev docs to state that we've handled the
config tests."
redshiftzero,2019-02-08 19:09:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6cc6609684db1bef25dd93ecc9647057b2c9c3a7,6cc6609684db1bef25dd93ecc9647057b2c9c3a7,makefile: fix build-debs-xenial-notest target
redshiftzero,2019-02-08 18:57:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/530a23901a98f436413fe780110f9ea22ba33f51,530a23901a98f436413fe780110f9ea22ba33f51,"Merge pull request #4101 from freedomofpress/3961-fetch-tor-packages-for-xenial

Fetches upstream Tor debs via Molecule"
redshiftzero,2019-02-07 17:06:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff4e0db71f445cf756d7a9ddd7b0564a8e0ebc04,ff4e0db71f445cf756d7a9ddd7b0564a8e0ebc04,"Merge pull request #4094 from freedomofpress/xenial-pinentry

[xenial] gpg 2.1+ compliance + fix decryption of journalist replies"
redshiftzero,2019-02-07 03:08:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b7353df15bc64ca9d4fadc86ec25bb4e707a9b0,1b7353df15bc64ca9d4fadc86ec25bb4e707a9b0,"Merge pull request #4106 from freedomofpress/docs-stub-removal

Remove old markdown ""redirect"" stubs created in November 2015"
eloquence,2019-02-07 01:03:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d9dccaf61980d47ede39cb385f23cac6ae51b08,9d9dccaf61980d47ede39cb385f23cac6ae51b08,"Remove old markdown ""redirect"" stubs created in November 2015

Any pages linking to those files are wildly out of date in other
ways by now, and all of our own links have long since been updated.

Resolves #4079"
redshiftzero,2019-02-06 17:50:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/090fe88b524c56ac8da7c2061c7826c77f3c1d90,090fe88b524c56ac8da7c2061c7826c77f3c1d90,"Merge pull request #4102 from deeplow/docs-update-client-models

update name of models.py to db.py since it changed"
deeplow,2019-02-06 13:47:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b01212041828c77424a3e5f2eef26d313faaf70,8b01212041828c77424a3e5f2eef26d313faaf70,"update name of models.py to db.py since it changed

the change was introduced in commit 7b0c560004 over in the securedrop-client repo"
conorsch,2019-02-05 22:27:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/afc4f6bbbc41ee41287c0f9a5ed5ea4bbea328eb,afc4f6bbbc41ee41287c0f9a5ed5ea4bbea328eb,"Fetches upstream Tor debs via Molecule

Uses another Molecule-based build scenario that fetches the Xenial tor debs
for inclusion in the FPF-maintained apt repository. The debs are fetched into
the same `build/xenial/` dir as the SD debs. There's no corresponding logic
for fetching Trusty debs, since Tor has stopped backporting tor for trusty.

The major change here is the update to the Tor Project public key, which
has expired since we last updated the pubkey stored in this repo. We haven't used
the Tor pubkey directly since switching to an apt mirror for distributing tor debs.

As of 0.12.0, we plan to use a single, consolidated apt repo, to distribute both
SecureDrop and Tor deb packages."
redshiftzero,2019-02-01 03:07:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a9f58262eca85b3de1c19cd9122a002b4af1720b,a9f58262eca85b3de1c19cd9122a002b4af1720b,"dev: if no gpg-agent, don't bail

since in the trusty dev env, there's no gpg-agent, let's make
sure we don't bail out this function (pkill returns 1 if the
process was not found)"
redshiftzero,2019-02-01 01:24:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/826aa963f88d192cc37834bd1b6be506e20d901f,826aa963f88d192cc37834bd1b6be506e20d901f,"test: simplify _can_decrypt_with_key

there are some gpg 2.1 compatibility issues with how this was
written previously: namely that exporting secret keys needs to be
apparently requires a passphrase [0], which isis's python-gnupg
does not support [1].

this commit modifies the test to instead just assert that the file
decrypts with a key in the keyring, not the specific key.

[0] https://bitbucket.org/vinay.sajip/python-gnupg/commits/9e90361bfc2fc853953a64aca6a0b6bcb64981c8?at=default#Lgnupg.pyT1142
[1] https://github.com/isislovecruft/python-gnupg/blob/master/pretty_bad_protocol/gnupg.py#L423"
redshiftzero,2019-02-01 00:31:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5611544b495825ff3120180fcadaa786d5790cd2,5611544b495825ff3120180fcadaa786d5790cd2,"test: xenial notification tests assume we're on trusty

we can just use mock to set the platform for test purposes"
redshiftzero,2019-01-31 21:13:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c7fc9485f030b7d123dd07b5d294441eb333438b,c7fc9485f030b7d123dd07b5d294441eb333438b,test: update test helpers for gpg 2.1+
redshiftzero,2019-01-31 05:17:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/62bd71a97d10a6d4aac4c20bbb1b71fac12ddb28,62bd71a97d10a6d4aac4c20bbb1b71fac12ddb28,"app: never use pinentry-mode=loopback for keypair deletion

Issues on the gnupg mailing list seems to indicate that the pinentry
option is the culprit

[0] https://dev.gnupg.org/T3465
[1] https://lists.gnupg.org/pipermail/gnupg-users/2016-May/055965.html"
redshiftzero,2019-01-31 02:16:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/51116851a0724cc19e82c34711afa8f4076b2d28,51116851a0724cc19e82c34711afa8f4076b2d28,"app: platform independent crypto binary

--pinentry-mode does not exist for the default version of gpg2
on trusty (it also won't use gpg-agent, which is fine)"
redshiftzero,2019-01-31 01:50:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2374700e81f9986acdbac42dfe375dcae3429997,2374700e81f9986acdbac42dfe375dcae3429997,apparmor: update apache profile for gpg-agent.conf
redshiftzero,2019-01-31 01:49:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2e1e9b30f99d8f7a72784c057c93c1082fa245c8,2e1e9b30f99d8f7a72784c057c93c1082fa245c8,securedrop-app-code postinst: gpg-agent.conf needs to be in place
redshiftzero,2019-01-31 01:45:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a2b3a4986001f053ff10dbb46b90f92ea1950066,a2b3a4986001f053ff10dbb46b90f92ea1950066,test: add required gpg-agent.conf to test environment
redshiftzero,2019-01-26 02:16:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dc2d650e4735ed3fecdf517546aac1dcce1401f9,dc2d650e4735ed3fecdf517546aac1dcce1401f9,app: fix journalist reply decryption in source interface on xenial
conorsch,2019-02-04 18:23:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97e98fa25c73c62cd813f0c1f3f800916a7661d4,97e98fa25c73c62cd813f0c1f3f800916a7661d4,"Merge pull request #4092 from freedomofpress/4031-v2-explicit-v2-onion-services

Explicitly declare onion services as v2 for existing installs"
emkll,2019-02-04 18:22:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7997acc45599744c366902762b9c5b23e1dedc43,7997acc45599744c366902762b9c5b23e1dedc43,"Merge pull request #4093 from freedomofpress/add-upgrade-scenario-boxes-for-0.11.1

Adds upgrade testing boxes for 0.11.1"
conorsch,2019-02-02 01:18:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e7b10044693a6349afac5630ad3c2b1ac0a7bb6d,e7b10044693a6349afac5630ad3c2b1ac0a7bb6d,"Merge pull request #4080 from freedomofpress/3961-separate-subdir-per-distro-for-deb-pkg-builds

Stores Trusty & Xenial deb packages side by side"
conorsch,2019-02-01 23:41:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17a8fa33e87847286dc32aef744224b619896687,17a8fa33e87847286dc32aef744224b619896687,"Adds config tests for v2 services in torrc

Each hidden service declaration provided by the test vars must have
""HiddenServiceVersion 2"" immediately after the dir in the torrc.
At a later date we may want to templatize these values, but for now we
only support v2 Onion URLs for SD, so hardcoding is fine."
kushaldas,2019-02-01 15:40:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe813897ef69c19873bc68ae6968382baf4cc2db,fe813897ef69c19873bc68ae6968382baf4cc2db,"Merge pull request #4095 from freedomofpress/docs-dev-otp

doc: add note to dev docs about how to generate 2FA code"
conorsch,2019-01-31 18:49:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1251894dd683704266bac3e1268ae9667b42a0fe,1251894dd683704266bac3e1268ae9667b42a0fe,"Adds upgrade testing boxes for 0.11.1

Standard procedure to update the base boxes used for the ""upgrade"" Molecule
scenario. Used the recently updated dev docs on maintenance of these
boxes to validate the documented procedure."
emkll,2019-01-30 16:29:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/35c4185c7131e762cd5d100a3d61b9438cb403b5,35c4185c7131e762cd5d100a3d61b9438cb403b5,"Declare onion services as v2 for existing installs

This will modify the torrc file in place to explicitly declare current onion services as v2 onion services."
conorsch,2019-01-31 04:30:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ced3d89f1eea9fcca562a6a2754415fe374af230,ced3d89f1eea9fcca562a6a2754415fe374af230,"Removes trusty override from xenial staging

The Molecule scenarios were still forcing trusty repos on xenial hosts,
due to a hardcoded override. Now that we've added full Xenial support,
we can remove the override. Caught this in the config tests."
redshiftzero,2019-01-31 02:19:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d70d8741d1787454989df4b41d37c4dd979588f,9d70d8741d1787454989df4b41d37c4dd979588f,doc: add note to dev docs about how to generate 2FA code
conorsch,2019-01-29 23:14:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/680dd37af7b034d782d6e3d4f681c7e647ef96f7,680dd37af7b034d782d6e3d4f681c7e647ef96f7,"Removes tor-apt repo from securedrop-config

As part of the 0.12.0 release, we're consolidating the separate tor-apt
repo into part of the main apt.freedom.press repository. As such, we
must clean up references to the old tor-apt repository on disk.
Accordingly, increments the version of the `securedrop-config` package.

Includes updates to relevant Ansible logic, for backwards compatibility,
as well as config tests, which aim to ensure that the old tor-specific
apt repos are not configured anywhere on the system."
conorsch,2019-01-29 23:09:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b57708faced4986afcda059dd17324db678bcadf,b57708faced4986afcda059dd17324db678bcadf,"Templates cron-apt security.list

Now properly supports both Trusty & Xenial, based on the platform being
configured. This allows the same Ansible logic to be applied to either
platform, and it'll do the right thing.

Includes configuration test updates, to remove hardcoding of ""trusty""
throughout, and instead substitute the result of `lsb_release -sc`
via testinfra's system_info module."
emkll,2019-01-29 18:33:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/64b93b067d228ae8fceeb3129162b8b01933e40b,64b93b067d228ae8fceeb3129162b8b01933e40b,"Explicitly declare hidden services as V2

Tor 0.3.5.x series now supports authenticated v3 hidden services. Since *stealth* hidden services are not supported in v3, the current torrc configuration returns an error under 0.3.5.x series.
Tor no longer serves 0.3.4.x series debs, so we should migrate to the 0.3.5.x series soon."
conorsch,2019-01-28 21:36:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6606638fa7f0a229196ea6ca7e2bbe73ab136a70,6606638fa7f0a229196ea6ca7e2bbe73ab136a70,"Updates dev docs with Xenial-specific language

Touches up the package build logic with explicit mention of the Xenial
targets. Also removes several of the known problems with Xenial, given
that we've addressed them as part of recent sprints. Leaving in the
config test verification mention, since we have a separate ticket
tracking that (3964).

Have not made mention of prod envs for Xenial, since we have more work
to do on that front yet."
conorsch,2019-01-28 20:49:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a71bacec9cdfb2506a3f781644ce2855a472230,1a71bacec9cdfb2506a3f781644ce2855a472230,"Increases gather_facts timeout for builders

When developer systems are under heavy load, the multi-container build
scenarios can fail, due to Ansible failing to gather facts from each
container within 10s (the default timeout for gathering facts). Rather
than edit ansible.cfg, which would affect prod SD servers, let's
override the timeout exclusively for the build scenarios, via env var."
emkll,2019-01-28 18:11:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b1656e0d2a9f5ee045bcddc898d49c1ceea7299f,b1656e0d2a9f5ee045bcddc898d49c1ceea7299f,"Add regression test for ossec packages

Ossec's install.sh returns 0 if the process fails, and resulting deb package do not contain compiled binaries. Let's test to ensure all expected binaries are in the deb file."
emkll,2019-01-26 00:15:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a01f99014ead675ba7d043a204cd5f3c47d74b3,1a01f99014ead675ba7d043a204cd5f3c47d74b3,Fix test for wheel in Xenial and Trusty
emkll,2019-01-23 17:40:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b13af60b33882ebeabac076fbace713cceea593b,b13af60b33882ebeabac076fbace713cceea593b,"Updates Xenial builder image hash

Use upstream images that contain a fix to the apt vulnerability,
CVE-2019-3462, which was recently patched in develop (before the Xenial
builder image existed).

The `tzdata` dependency is required for building OSSEC packages.

Not storing `python-requests` in the image file, but rather pulling in
via Ansible logic, because including it generated a pyssl error.
We already declare the dependency in declared in the OSSEC Ansible logic
for building, so it's not strictly necessary in the container image,
but it would be nice to speed up builds somewhat."
conorsch,2019-01-24 00:55:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f098e3386375aaf5cb38b295081e9468899a605e,f098e3386375aaf5cb38b295081e9468899a605e,"Fixes testinfra tests for trusty builds

The dpkg-buildpackage logic creates a slightly different parent
directory for the debs; the test vars must be updated accordingly to
find the package.

Additionally, the Jinja conditional logic determining Trusty/Xenial
inside the app deb build logic was always returning True, meaning it
always named the file ""+xenial"", which isn't what we want."
emkll,2019-01-22 18:45:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f5f4ba6afce21fd3a1b18e91e3c3226c47ffac7a,f5f4ba6afce21fd3a1b18e91e3c3226c47ffac7a,"Move build debs to distribution-specific folder

Trusty debs with now be under build/trusy, xenial debs under build/xenial

Updates the test logic a bit, as well.

Update securedrop-app-code deb filename for split build logic

Deb file names are relevant to only staging logic, updated the staging logic to override vars for securedrop_app_code_deb"
emkll,2019-01-23 01:05:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5147062a8a8e8787c476536d04a94088407c9dc9,5147062a8a8e8787c476536d04a94088407c9dc9,"Xenial and Trusty specific changelogs

Since version strings and deb filenames are generated via changelog strings
provided by `dch` in update_version.sh, let's handle the split these changelogs
and ensure each case is handled in update_version.sh

This will ensure we can handle trusty or xenial-specific changes in the changelog

The Xenial changelog only includes versions starting from 0.12.0, since
versions prior to that did not support Xenial."
conorsch,2019-01-18 23:36:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a8ec14c8d8727926c7b8cd514082a6f97da3ee6,3a8ec14c8d8727926c7b8cd514082a6f97da3ee6,"Converts DEBIAN/ -> debian/ for securedrop-app-code

Now using the source package layout. The DEBIAN/ dir will be
automatically generated for each distro at build time."
emkll,2019-01-18 20:27:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d0a7929d62477500c09bda2e64d75175797617f4,d0a7929d62477500c09bda2e64d75175797617f4,Copy files for securedrop-app-code package during build
conorsch,2019-01-17 20:30:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f08c7bd903a7a54cc2ef0cd4dff6ecb94506307d,f08c7bd903a7a54cc2ef0cd4dff6ecb94506307d,"Uses dpkg-buildpackage for securedrop-app-code

Updates the Ansible-based build logic to use `dpkg-buildpackage`, so
that we can use substvars for Depends, to provide different values for
Trusty/Xenial dependencies.

As such, removes the ""sed"" implementation to substitute the depends
in-line, which was always a short-term solution anyway.

The fetch logic was updated to find the deb in a different location.

Include `debhelper` in the Dockerfiles used for building. `sudo` also
required, simply because the Ansible logic uses it to run builds,
and it wasn't in the Xenial image by default. Adding to both for
clarity, since it's genuinely a dependency for both.

Installs python-requests for OSSEC URL fetching

The dependency has long been present, but in the Trusty container image
used for building debs, `python-requests` was already installed. That's
not true in the Xenial image, so we'll add it in the build role logic
where it belongs."
conorsch,2019-01-17 17:54:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/256fb72a5943478700de335266a9d38d1cf084a0,256fb72a5943478700de335266a9d38d1cf084a0,"Implements debian/rules for securedrop-app-code

The top-level `debian/` dir is used for source packages, and via
`debian/rules` will generated `DEBIAN/` dirs for binary packages.

Declaring the deb package compatibility of ""5"" here, which is the lowest
compatibility version supported by debhelper. We were previously using
inferred compat of ""1"", given that it was undefined.

Moves changelog for securedrop-app-code

The `dpkg-buildpackage` logic assumes that the package changelog exists
at a specific location. The filepath doesn't appear to be overrideable
via a CLI flag, so moving it. Requires corresponding update in the
update_version logic."
emkll,2019-01-23 22:30:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f5073f281371c5a81bfc62ead5b0b75776f4eea7,f5073f281371c5a81bfc62ead5b0b75776f4eea7,"Fix build-debs-xenial makefile target

Mirror trusty strategy to not test debs in staging"
conorsch,2019-01-16 00:38:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5abfeb1119af1d0580571a23aa585de23b769fc9,5abfeb1119af1d0580571a23aa585de23b769fc9,"Creates separate build scenarios for Trusty/Xenial

Renames the ""builder"" scenario to ""builder-trusty"", and adds a
""builder-xenial"" scenario.

Creates env var consumption for determining platform build.
Adds tests for the ""postinst"" scripts, to ensure they're landing inside
the deb package. (During rapid development, they were initially missed.)

Also updates the target deb filepath for securedrop-app-code, since the
new build logic slightly changes the parent directory name."
conorsch,2019-01-31 00:13:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/003b01721de8b711869d06af7ec4477456a06e79,003b01721de8b711869d06af7ec4477456a06e79,"Merge pull request #4089 from freedomofpress/4066-make-ci-report-staging-failures-reliably

Ensure CI staging run reports errors accurately"
redshiftzero,2019-01-30 19:36:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/728774bfca4edd041b9004930ab73975969caed2,728774bfca4edd041b9004930ab73975969caed2,"Merge pull request #4090 from freedomofpress/bring_back_firefox_46

Fixes functional tests for #4039"
kushaldas,2019-01-30 11:03:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/725ad250715759d326531d83ccf03ec7a89efb7d,725ad250715759d326531d83ccf03ec7a89efb7d,"Fixes functional tests for #4039

We are getting back Firefox 46 and in future we will move
to Tor Browser based tests for the functional test cases."
kushaldas,2019-01-30 04:30:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba4ffcea02d84ead4af6d17236659f311b7887b4,ba4ffcea02d84ead4af6d17236659f311b7887b4,"Merge pull request #4088 from freedomofpress/user-id-auth-token

return user id when creating auth token"
conorsch,2019-01-30 00:42:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb13e86476a590b546aa92c7614de36b674afa4b,fb13e86476a590b546aa92c7614de36b674afa4b,set trusty as default platform
conorsch,2019-01-30 00:00:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe7b4e3cc3126f321b0371976d7fe8304e59074d,fe7b4e3cc3126f321b0371976d7fe8304e59074d,"Ensure CI staging run reports errors accurately

The `make ci-go` target was always exiting zero, due to the in-line bash
if statement, causing failed CI runs to report as successful. Moved the
logic into a wrapper script. Also trimmed out from of the extraneous
Makefile targets related to CI (and corresponding docs), to remove a bit
of the indirection and make maintenance more straightforward for the
team."
heartsucker,2019-01-29 20:54:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce6d2b2a6720f662296a269e71cbed6deb38c529,ce6d2b2a6720f662296a269e71cbed6deb38c529,updated docs to include journalist_uuid in the api response
heartsucker,2019-01-29 20:52:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23839ef848c797ce219de18402c79a055bc91ca2,23839ef848c797ce219de18402c79a055bc91ca2,added test for journalist uuid in auth token endpoint
heartsucker,2019-01-29 20:47:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38edbf58e593d942350a1af022504da7a25cb729,38edbf58e593d942350a1af022504da7a25cb729,added user uuid to token endpoint
kushaldas,2019-01-29 06:25:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21de59984ffc672ac7f9fee734e852f254f4e848,21de59984ffc672ac7f9fee734e852f254f4e848,"Merge pull request #4075 from freedomofpress/docs-hardware-cleanup

[docs] Remove BRIX from hardware recommendations; link from checklist"
emkll,2019-01-28 19:17:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2aed7dca2b8f0d792647c27874758880e3ff0794,2aed7dca2b8f0d792647c27874758880e3ff0794,"Merge pull request #4073 from freedomofpress/0.11.1-to-develop

SecureDrop 0.11.1 into develop"
eloquence,2019-01-28 19:08:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/606199bdd11deef4f7ed00ba69760f7245a64b9f,606199bdd11deef4f7ed00ba69760f7245a64b9f,"No longer recommend Mac Mini, but keep instructions"
emkll,2019-01-28 15:48:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a90290076eaf9a2cb458a88146684c70648efcdb,a90290076eaf9a2cb458a88146684c70648efcdb,"Merge pull request #4071 from freedomofpress/log-installed-packages

Log installed packages"
heartsucker,2019-01-25 10:45:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca1f45fb34e0afbc7616885c9c013fde7492ce58,ca1f45fb34e0afbc7616885c9c013fde7492ce58,update .gitignore
eloquence,2019-01-25 18:30:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6afa1d68f159c8a7d723d563a940a43112b90cae,6afa1d68f159c8a7d723d563a940a43112b90cae,"[docs] Remove BRIX from hardware recommendations; link from checklist

Part of #3826
Resolves #3197"
emkll,2019-01-24 01:04:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/72fe87c715c92f7e09976d30bcce0a03c28e0eea,72fe87c715c92f7e09976d30bcce0a03c28e0eea,"SecureDrop 0.11.1

(cherry picked from commit cddcc786d07aa45cf5e599cea00595ec39f2e4d5)"
kushaldas,2019-01-25 16:44:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/abd4d815f66d8f9e9e3a29bd4117ca473d3c55b8,abd4d815f66d8f9e9e3a29bd4117ca473d3c55b8,"Merge pull request #4055 from zenmonkeykstop/4027-xenial-upgrade-alert

Added alert to admin interface of instances still on Trusty after Mar 4"
heartsucker,2019-01-25 12:10:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/08dde48c01db75708ae00f0544e4a28acb64dcc8,08dde48c01db75708ae00f0544e4a28acb64dcc8,"Merge pull request #4069 from freedomofpress/ci-xenial-2fa-test

[xenial] fix 2FA unit tests"
heartsucker,2019-01-25 10:44:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b61bf61392b4091a3c39cb753f534c312d79d36d,b61bf61392b4091a3c39cb753f534c312d79d36d,use 'apt list' to list installed packages for log collection
heartsucker,2019-01-25 08:55:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/758d06641caff9c90084fd44820c1e4c9e73e017,758d06641caff9c90084fd44820c1e4c9e73e017,"Merge pull request #4068 from freedomofpress/docs-point-release-fix

Update version number in Xenial prep docs"
emkll,2019-01-24 23:18:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b35b861f02b7035b36fcac189ad63fdd3b0c2a59,b35b861f02b7035b36fcac189ad63fdd3b0c2a59,"Merge pull request #4067 from freedomofpress/ci-move-0-utc-job

ci: move nightly jobs to 4 AM UTC / 8 PM PST"
zenmonkeykstop,2019-01-24 21:54:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4aaa0d8249769f4495b5c299a59eabe4b9a8e491,4aaa0d8249769f4495b5c299a59eabe4b9a8e491,added negative test for date to Xenial alert
redshiftzero,2019-01-24 08:10:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e92a04ad7c4e74da399a37fcd9b155724f7e8012,e92a04ad7c4e74da399a37fcd9b155724f7e8012,test: clean up functional test patchers after webdriverexception
redshiftzero,2019-01-24 07:04:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba02875636b2d556eb14f70c13b6be764998f23b,ba02875636b2d556eb14f70c13b6be764998f23b,test: Use hardening fixture in 2FA related tests
zenmonkeykstop,2019-01-23 03:02:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa368e828f639b67b123876cbeee67b911940f33,aa368e828f639b67b123876cbeee67b911940f33,updated apparmor rules to allow apache2 to check /etc/lsb-release
zenmonkeykstop,2019-01-14 22:18:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c40c93ae33189b97d0cfa8bb20a33065f2fa2c7,0c40c93ae33189b97d0cfa8bb20a33065f2fa2c7,Added alert to admin interface of instances still on Trusty after Mar 4
eloquence,2019-01-24 21:17:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6085e5f16d4540827dd7e7cb2abaf8b20bb66fde,6085e5f16d4540827dd7e7cb2abaf8b20bb66fde,"Update version number in Xenial prep docs

This ensures that admins performing the workstation updates per
our instructions don't have to manually update again to get to
0.11.1."
redshiftzero,2019-01-24 21:06:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5e55627be136fc567e16a6816a6273c08fe8ede4,5e55627be136fc567e16a6816a6273c08fe8ede4,ci: move nightly jobs to 4 AM UTC / 8 PM PST
redshiftzero,2019-01-24 19:33:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a71d42aeea71049f46d6ff39ad262973714006c3,a71d42aeea71049f46d6ff39ad262973714006c3,"Merge pull request #4061 from freedomofpress/fix-cve-2019-3462

Upgrade apt without following redirects on first install, fix CVE-2019-3462"
redshiftzero,2019-01-24 19:10:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/756bfead2790931ca9803f05212fc79b569e7b8a,756bfead2790931ca9803f05212fc79b569e7b8a,"Merge pull request #4041 from freedomofpress/magical_setuptools_for_xenial

Fixes #4036 Updates setuptools for ci"
emkll,2019-01-24 17:04:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cf84a8109b5035f7e363e75b1c205c2eaf9fe8a0,cf84a8109b5035f7e363e75b1c205c2eaf9fe8a0,"Address review feedback

- Fail faster when upgrading apt.
- Provide a more descriptive message if apt traffic is redirected."
kushaldas,2019-01-17 15:24:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2251d9f47051809a8c11afd89e49d26a371ceb97,2251d9f47051809a8c11afd89e49d26a371ceb97,"Fixes #4036 Updates setuptools for ci

With the upgraded setuptools package, pybabel
starts working again."
redshiftzero,2019-01-24 01:55:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b662cd136ee6c497dd0ebc044411bcea33e29cc8,b662cd136ee6c497dd0ebc044411bcea33e29cc8,"Merge pull request #4062 from freedomofpress/new-release-date

Update Xenial prep docs per revised release date for 0.12.0"
emkll,2019-01-24 00:22:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4204d02b008dd0121344246fc7f0c9ba909ab366,4204d02b008dd0121344246fc7f0c9ba909ab366,"Update builder hash

Pushed a new builder image to registry that is now based on upsteam trusty image that contains fixes for CVE-2019-3462"
eloquence,2019-01-23 22:53:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81c2117b25f2af37c6bb9625938910e68eab16dd,81c2117b25f2af37c6bb9625938910e68eab16dd,Update Xenial prep docs per revised release date for 0.12.0
emkll,2019-01-23 17:40:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7206c921454afa35c7f6f05c282797b5145c3259,7206c921454afa35c7f6f05c282797b5145c3259,"Fix for CVE-2019-3462 for Docker images

Use upstream images that contain a fix to the apt vulnerability"
emkll,2019-01-23 17:11:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/11033c38093164998e9e02f3b914a1e54fe3b2dc,11033c38093164998e9e02f3b914a1e54fe3b2dc,"Fix for CVE-2019-3462

Upgrade apt without following redirects in order to mitigate the apt RCE vulnerability at install time.
Install-fpf-repo is the first role using apt called during the install process."
redshiftzero,2019-01-23 18:11:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/826f29c1c9150b5f4ddc4cc5781cc3a06b71fec8,826f29c1c9150b5f4ddc4cc5781cc3a06b71fec8,"Merge pull request #4049 from freedomofpress/3966-ci-target-xenial

[xenial] Target both Trusty and Xenial for staging tests"
redshiftzero,2019-01-23 01:11:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5bbd3fa4afdc523b050cc48e55678a4d1784ad28,5bbd3fa4afdc523b050cc48e55678a4d1784ad28,"Merge pull request #4046 from zenmonkeykstop/docs-xenial-prep-guide

added Xenial prep instructions in upgrade section"
emkll,2019-01-18 14:11:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9e55fba678526736aaa34ec9268f3782d479e0e3,9e55fba678526736aaa34ec9268f3782d479e0e3,"Move Xenial CI job from each push to nightly cron

Trusty infra tests are run on each push, and xenial tests are moved to a nightly cron
Reverting this commit in the future will ensure that Xenial infra tests are run at each CI run. Some cleanup of the code will be required."
zenmonkeykstop,2019-01-22 22:19:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/74cc5c61f7ea042f0bad8a2753b1fbd05125a423,74cc5c61f7ea042f0bad8a2753b1fbd05125a423,updated xenial prep instructions with review feedback
zenmonkeykstop,2019-01-18 18:20:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c19181fc19ed02c4215764bce96812fb73d82439,c19181fc19ed02c4215764bce96812fb73d82439,updated based on review
zenmonkeykstop,2019-01-18 02:36:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/afbdd44f086c0472c22ec525393e8ceaec3929f7,afbdd44f086c0472c22ec525393e8ceaec3929f7,added Xenial prep instructions in upgrade section
kushaldas,2019-01-22 10:05:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/02bacd4505c7a544a3bda2f438f3da9a2bb34a8a,02bacd4505c7a544a3bda2f438f3da9a2bb34a8a,"Merge pull request #4054 from freedomofpress/auth-token-parsing

prevent 500 errors when parsing malformed auth token"
kushaldas,2019-01-22 06:01:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23378edecc209e94551e3b3ef2a45a1547f74169,23378edecc209e94551e3b3ef2a45a1547f74169,"Merge pull request #4052 from freedomofpress/api-add-filename

Adds ""filename"" to reply creation API response"
heartsucker,2019-01-21 18:37:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd1d4695b66c53233c9ab72e9e072279c27ae25d,dd1d4695b66c53233c9ab72e9e072279c27ae25d,prevent 500 errors when parsing malformed auth token
heartsucker,2019-01-21 16:19:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/088db23093cf5bb99fe0c7404178111236880e14,088db23093cf5bb99fe0c7404178111236880e14,"added ""filename"" to reply creation api response"
redshiftzero,2019-01-18 20:44:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b725c81ab6755b02c90c698d35f4427bf1b30788,b725c81ab6755b02c90c698d35f4427bf1b30788,"Merge pull request #4050 from freedomofpress/fix-xenial-makefile-target

makefile: fix typo to path of create-staging-env script"
redshiftzero,2019-01-18 17:40:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/70a180021a936ce07b4202c2c0055acc1b96b97c,70a180021a936ce07b4202c2c0055acc1b96b97c,makefile: fix typo to path of create-staging-env script
emkll,2019-01-17 22:30:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7736e8195f02f15235a7aee527775f1452034d6c,7736e8195f02f15235a7aee527775f1452034d6c,"Set host-passthrough cpu_mode

This is required to run 16.04 images in CI."
emkll,2019-01-16 14:54:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d73831b76fd70a0032eb4b36ef608a0bf0b8283d,d73831b76fd70a0032eb4b36ef608a0bf0b8283d,"Use xenial for CI staging tests

Staging should use `build-debs-xenial` Makefile target as well as libvirt-staging-xenial molecule scenario."
heartsucker,2019-01-18 12:30:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54c79107b794af72e751915248c2571b35967b7f,54c79107b794af72e751915248c2571b35967b7f,"Merge pull request #4045 from freedomofpress/gpg-import-ok

[xenial] resolve gpg IMPORT_OK status code test failures"
redshiftzero,2019-01-18 02:02:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09a63fcce882fb29a7a75b678c6003d82bbcabeb,09a63fcce882fb29a7a75b678c6003d82bbcabeb,"test: ensure we are using gpg2 binary everywhere in tests

2.1.1 is the default version of gpg2 in xenial
1.4.20 is the default version of gpg in xenial

If we do not specify the binary, we can get divergence between
test and dev/staging/prod."
redshiftzero,2019-01-16 23:08:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2798564d16ab463dcdffebe244c7bf2bc9f9f95,e2798564d16ab463dcdffebe244c7bf2bc9f9f95,"Merge pull request #4035 from freedomofpress/xenial-pgp-journalist

ci: Add app test job using xenial"
redshiftzero,2019-01-14 22:29:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d927f18f003c400ff47df664c0e0cd9b7e7fed02,d927f18f003c400ff47df664c0e0cd9b7e7fed02,ci: Add Xenial test job
conorsch,2019-01-15 22:20:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a279b451440432cf28c326b17cb683c6e083a1e,8a279b451440432cf28c326b17cb683c6e083a1e,"Merge pull request #4015 from freedomofpress/3962-apparmor-xenial

Update AppArmor profile for Xenial"
emkll,2019-01-15 19:14:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe01a3562b0bad8e13da898f582b59d44c6a5556,fe01a3562b0bad8e13da898f582b59d44c6a5556,Ensure no AppArmor denial messages in syslog
emkll,2019-01-15 15:44:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23b68acca2a29f68a15cfafc4733eedc10fa1d0c,23b68acca2a29f68a15cfafc4733eedc10fa1d0c,Update ossec syscheck rules
emkll,2019-01-15 15:05:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e693f1febe4bd489afcc5d175ec1f28d34034507,e693f1febe4bd489afcc5d175ec1f28d34034507,"Merge pull request #4034 from freedomofpress/ci-security-checks

CI: Add back static analysis and checking Python dependencies for CVEs"
redshiftzero,2019-01-15 00:56:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d3da961372e8b9012890dd89f94d321ebd84d51,6d3da961372e8b9012890dd89f94d321ebd84d51,"ci: Add back static analysis and checking Python deps for CVEs

Accidentally removed during: https://github.com/freedomofpress/securedrop/pull/3909"
redshiftzero,2019-01-14 21:37:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4252d5103d346fd3468a95279db721a5c8b31003,4252d5103d346fd3468a95279db721a5c8b31003,"dev: Add make test-xenial makefile target for application tests

As evidenced by the test failures we've discovered, we'll need
to make some changes that ideally work under both Trusty and Xenial.
This means that we need to run the application tests in both
environments. This PR adds a $BASE_OS env var that can be either
""trusty"" or ""xenial"". It uses this env var for docker builds, and modifies
the docker build logic to point to a Dockerfile outside of the build
context [1]. We make a new directory in the securedrop/ directory
called Dockerfiles that contains the Dockerfiles for both
environments.

By default, the other Makefile targets will use
Trusty. Once trusty is EOL, we can delete the Trusty
Dockerfile, though it would be prudent to leave the BASE_OS
logic in place for the next major OS transition.

[1] https://github.com/docker/cli/pull/886"
conorsch,2019-01-14 20:54:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f9267f38787cbd614693a6b65201d0148d6f612,2f9267f38787cbd614693a6b65201d0148d6f612,"Merge pull request #4021 from freedomofpress/3963-use-upstream-common-auth

Remove common-auth pam customizations"
redshiftzero,2019-01-14 19:40:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/16543248011a7ac45dbc40b92d581665d97592b9,16543248011a7ac45dbc40b92d581665d97592b9,dockerfile: Use xenial base image
redshiftzero,2019-01-14 19:38:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a18671b3b901bdc4ffa153f894ddffb1e457bfef,a18671b3b901bdc4ffa153f894ddffb1e457bfef,deps: Add requests to test dependencies
conorsch,2019-01-14 17:59:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb82c2308075316e8375146e6165c87098d7c5e1,eb82c2308075316e8375146e6165c87098d7c5e1,"Merge pull request #3832 from freedomofpress/docs-upgrade-testing

Updates developer docs for upgrade testing targets"
emkll,2019-01-11 14:52:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3cb6d5cb2a4a2c8a918d773d59a11e4ba51ca055,3cb6d5cb2a4a2c8a918d773d59a11e4ba51ca055,Add tests for ecryptfs PAM module removal
emkll,2019-01-07 18:56:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa3f63c86dee5217f0b386b442e8570f7c7b4c9e,aa3f63c86dee5217f0b386b442e8570f7c7b4c9e,"Remove common-auth pam customisations

PAM customizations were necessary to allow 2FA for console logins.
Since, these configurations are no longer necessary due to the phasing
our of 2FA for console logins and `/var/log/auth.log` in trusty and
`syslog` in xenial, (encryptfs.so), let's replace the FPF-configured
pam.d/common-auth file with the upstream-maintained common-auth."
heartsucker,2019-01-10 10:08:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c877f7327a03a70e8749b6935f288c10e273a08,1c877f7327a03a70e8749b6935f288c10e273a08,"Merge pull request #4028 from freedomofpress/coc-update

Remove Loic from Community Team contacts (no longer active)"
conorsch,2019-01-04 22:01:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cadd8786df40160b08624b00eac22bbdba120b78,cadd8786df40160b08624b00eac22bbdba120b78,"Passes env var during apt-test upgrade testing

Pointed out by @msheiny during review, so lifting the patch from PR
discussion and implementing to resolve. The goal is to ensure that the
""use apt-test repo"" env var is declared during the ""create"" phase of the
scenario, which is now handled."
conorsch,2019-01-04 19:51:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6cc4c70700998ee9f420d163f3ebcc47fae00c56,6cc4c70700998ee9f420d163f3ebcc47fae00c56,"Confirm local debs are present for upgrade scenario

If the upgrade scenario is used with the local debs strategy (i.e.,
QA_APT_TEST env var is not set), we should fail fast without the
required local deb files. Previously, the scenario would proceed all the
way to the local apt server configuration and only fail when attempting
to sign the Release file with a test key.

Now, the role will fail almost immediately without local debs present.
Hat tip to @zenmonkeykstop for flagging during review."
conorsch,2019-01-04 19:11:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2db8238ec0413d080b19aeee84bfcb6b8f134b4e,2db8238ec0413d080b19aeee84bfcb6b8f134b4e,"Documents updating base boxes for upgrade scenario

Conferred with @msheiny on the manual steps. Ideally we'd automate even
these, via inspecting checksums and modifying the JSON file
programatically, but the manual changes are only necessary after each SD
release, which isn't a terrible burden right now."
conorsch,2019-01-04 00:36:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f62b29de6ebaa9f5b8e20164bb52dc828ad322f,4f62b29de6ebaa9f5b8e20164bb52dc828ad322f,"Adds upgrade testing box for 0.11.0

We missed updating the upgrade boxes during post-release procedure for both
0.10.0 and 0.11.0. Since 0.11.0 is still the most current release, it was
rather straightforward to prepare a box. Catching up with 0.10.0 was trickier,
however, since the box preparation logic assumes that whatever version
is posted to the prod apt repo is the correct one to prepare for; no longer
the case. As such, I'm omitting metadata for the 0.10.0 version.

Since I did prepare and upload those boxes before realizing the 0.10/0.11 version
discrepancy, here are the checksums of what's stored in S3:

  {
    ""version"": ""0.10.0"",
    ""providers"": [
      {
        ""name"": ""libvirt"",
        ""url"": ""https://s3.amazonaws.com/securedrop-vagrant/app-staging_0.10.0.box"",
        ""checksum_type"": ""sha256"",
        ""checksum"": ""2dda15d0f2557dd434dfba4cf0b3ab58b30666ac0277cd8d32b973d954b54264""
      }
    ]
  }

  {
    ""version"": ""0.10.0"",
    ""providers"": [
      {
        ""name"": ""libvirt"",
        ""url"": ""https://s3.amazonaws.com/securedrop-vagrant/mon-staging_0.10.0.box"",
        ""checksum_type"": ""sha256"",
        ""checksum"": ""6e281590a7dfd7753136b7c6505c8dd1ebc4d7f8207c890a80db4871d6ac08b7""
      }
    ]
  }"
conorsch,2018-10-01 09:32:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c3eed113baba95151c3bd48d5dbfc702fc8c2ed,0c3eed113baba95151c3bd48d5dbfc702fc8c2ed,"Updates upgrade docs to use new Makefile targets

We have convenient Makefile targets for the various upgrade testing
scenario flows:

  * upgrade-start
  * upgrade-test-local
  * upgrade-test-qa

Let's use those new targets in the docs where appropriate, to streamline
the process for developers using the scenarios locally."
conorsch,2018-10-01 09:31:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d3495d8aa6f5dbb211debc0f2e41fee4e90c0a06,d3495d8aa6f5dbb211debc0f2e41fee4e90c0a06,"Ensure apt-test upgrade scenario uses apt-test proxy

The Makefile logic wasn't automatically converting to the apt-test repo;
developers still had to run an ad-hoc Molecule command from the docs in
order to convert from local debs to the apt-test proxy. Let's make that
automatic, as part of the ""upgrade-test-qa"" Makefile target."
conorsch,2018-10-01 09:19:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2fc5841fe73b812153a39051cd96685121864ac8,2fc5841fe73b812153a39051cd96685121864ac8,"Converts underscores to hyphens in upgrade targets

Stylistic nit. All the Makefile targets use hyphens, rather than
underscores, to the ""upgrade"" targets were inconsistent. Partly I want
to avoid holding shift where possible, but more important, I don't want
to have to remember when I do and do not have to use shift for
autocomplete to work."
conorsch,2019-01-10 00:57:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/985c59ce7211ce09f01c9b372850865fa49192d3,985c59ce7211ce09f01c9b372850865fa49192d3,"Merge pull request #3978 from freedomofpress/3952-allow-apt-user-in-iptables-for-xenial

Removes uid-owner restriction from apt iptables rules"
eloquence,2019-01-09 22:42:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/56c89ed18fd2cdd17ecdbf239aff66b8a9f76cdb,56c89ed18fd2cdd17ecdbf239aff66b8a9f76cdb,Remove Loic from Community Team contacts (no longer active)
conorsch,2019-01-03 17:17:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5e97563462a410608a8aab3ff3ad5dff03bbfc3,b5e97563462a410608a8aab3ff3ad5dff03bbfc3,"Removes uid-owner restriction from DNS iptables rules

Simply removing the apt-specific user-based whitelisting was insufficient
to unbreak DNS after a Trusty to Xenial upgrade. Also removing the restrictions
on DNS resolution to allow e.g. `apt update` to function."
conorsch,2018-12-06 00:26:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c100d3e45080bb21e7077dd81d22e94d8ad2123a,c100d3e45080bb21e7077dd81d22e94d8ad2123a,"Removes uid-owner restriction from apt iptables rules

Under Trusty, apt calls run as the root user. Under Xenial, however, apt
calls run as the `_apt` user. We must ensure that the firewall rules
permit apt updates on both systems, before and after the upgrade from
Trusty to Xenial. We cannot add references to `_apt` under Trusty, since
the user doesn't exist in the passwd file, causing the iptables-restore
action to fail.

Let's simply remove the uid-owner restriction on the apt-specific
iptables rule. By this point in the iptables logic, non-whitelisted traffic
from both the `debian-tor` and `www-data` users hsa been dropped (via
jump to the LOGNDROP chain). As such, it's fine to loosen the
specificity of the iptables rules somewhat, in order to ensure a smooth
transition."
emkll,2019-01-08 17:59:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/66e36071ca90d4b1d41ee6b1e1bf5a60db864818,66e36071ca90d4b1d41ee6b1e1bf5a60db864818,"Merge pull request #4002 from freedomofpress/2726-update-kernel-to-4.4.167

Update kernels to 4.4.167 and remove wireless support"
redshiftzero,2019-01-07 20:38:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/445aa0aee762719c9dc826ced812b49646ba73ca,445aa0aee762719c9dc826ced812b49646ba73ca,"Merge pull request #4009 from freedomofpress/fix-source-key-export

avoid accidentally exporting all pub keys"
conorsch,2019-01-05 01:01:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a1c2e2abf0d03ecbacc7d44838fc275d5ba97cee,a1c2e2abf0d03ecbacc7d44838fc275d5ba97cee,"Merge pull request #4011 from freedomofpress/4003-upgrade-before-remove

cron-apt remove action should be after security"
emkll,2019-01-04 20:25:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/daeec954a013dffd07a51fdd67b46dd4a5f90312,daeec954a013dffd07a51fdd67b46dd4a5f90312,"Merge pull request #4020 from zenmonkeykstop/4019-molecule-qubes-fix

added default value for remote_host_ref var in Qubes Molecule scenario"
heartsucker,2019-01-04 20:14:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b61c155c31e0efe3e8fc7fa878d4d89258d7b1d,9b61c155c31e0efe3e8fc7fa878d4d89258d7b1d,"Merge pull request #4018 from freedomofpress/update-tmux-comment

updated tmux comment in ansible"
zenmonkeykstop,2019-01-04 19:17:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d2aab9795808135394e1d719239f52a23332a5b4,d2aab9795808135394e1d719239f52a23332a5b4,added default value for remote_host_ref var in Qubes Molecule scenario
heartsucker,2019-01-04 18:16:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/239bd1093516b5d61f46e0174787652e8cd892d8,239bd1093516b5d61f46e0174787652e8cd892d8,updated tmux comment in ansible
heartsucker,2019-01-04 09:12:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7109aff2a4b946eb45c2fcdcdc9fd40b2f1309e1,7109aff2a4b946eb45c2fcdcdc9fd40b2f1309e1,"only export single keys

a feature of the `python-gnupg` `list_keys` function of that passing in
`None` will return all keys. if we don't have a key for a source and we
export their key, we would accidentally export all pubkeys in the key
ring. this fixes that."
loganaden,2019-01-03 22:11:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f566f07137848d704186e055871c4a85a60425c,7f566f07137848d704186e055871c4a85a60425c,"Add an example with TLS 1.3 support in nginx (#4008)

* Add an example with TLS 1.3 support in nginx

* Deprecate TLS v1.0 and TLSv1.1 according to draft-ietf-tls-oldversions-deprecate-01

* Fix indentation

* Add newline"
emkll,2019-01-03 20:20:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/63d88a70fc1f0b3d9f489de0f1147dfda3205d35,63d88a70fc1f0b3d9f489de0f1147dfda3205d35,"Merge pull request #4010 from zenmonkeykstop/4000-admin-cron-apt

added cron-apt logs to those pulled by admin command"
redshiftzero,2019-01-03 20:00:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17fea0f2a486353597ce0fe65eb29259b8112500,17fea0f2a486353597ce0fe65eb29259b8112500,"Merge pull request #4007 from freedomofpress/longer-lines

bump max line length from 79 to 100"
redshiftzero,2019-01-03 18:35:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d539c13ef6e03fd0e86f27f5bb06af1b34fde16b,d539c13ef6e03fd0e86f27f5bb06af1b34fde16b,"Merge pull request #4012 from freedomofpress/docs-update-code-owners

Update code ownership responsibilities"
emkll,2019-01-02 23:08:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c39935af50e363b08ab3263fad3fe1528397b96,7c39935af50e363b08ab3263fad3fe1528397b96,"Update ossec rules to ignore private keys in xenial

GPG v2.1.x stores private keys in another folder. Since we are specifying the keyring file, we should ignore the entire folders since keys will be stored in separate files."
emkll,2018-12-17 18:35:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f19fa480591d8e447924bb08904e4b76a018c607,f19fa480591d8e447924bb08904e4b76a018c607,"AppArmor rules for Xenial

private-keys.d and pgp-revocs.d directories creation and pintentry `rix` are due to changes in GPG2 from Trusty to Xenial (Trusty 2.0.x, Xenial 2.1.x)
https://gnupg.org/faq/whats-new-in-2.1.html"
redshiftzero,2019-01-02 20:42:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6bd447b1c2761a2d654a21ca808a21d30e4e2ff8,6bd447b1c2761a2d654a21ca808a21d30e4e2ff8,update code ownership
emkll,2019-01-02 20:03:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d7e5a60d83b44cae93c6a8bbce43f2c78647c662,d7e5a60d83b44cae93c6a8bbce43f2c78647c662,"cron-apt remove action should be after security

In the event the host has broken packages installed (e.g., postinst returns non-zero), cron-apt will fail at the move action and will not perform the security action. Updates to the broken packages will not be installed, and thus the system will remain in a broken state."
zenmonkeykstop,2019-01-02 15:49:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54618b18ac6c1d0a33478868294a554edc3d94fb,54618b18ac6c1d0a33478868294a554edc3d94fb,added cron-apt logs to those pulled by admin command
heartsucker,2018-12-22 15:03:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/601f40258e59736adf8b373bad44dac6a89e6948,601f40258e59736adf8b373bad44dac6a89e6948,bump max line length from 79 to 100
heartsucker,2018-12-21 10:10:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da588507bb53a4242ec94785763802ff55db0c58,da588507bb53a4242ec94785763802ff55db0c58,"Merge pull request #4004 from freedomofpress/re-run-flaky-tests

Re-run flaky admin tests once"
redshiftzero,2018-12-21 01:59:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/65f6eb83e010d2667a38bcc98a95674601d84f4e,65f6eb83e010d2667a38bcc98a95674601d84f4e,Re-run flaky admin tests once
emkll,2018-12-20 14:52:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ecfe49d93bffd9c302dc2502387611d90e994510,ecfe49d93bffd9c302dc2502387611d90e994510,"Add test for kernel config options

Ensures wireless functionality is disabled."
emkll,2018-12-20 14:06:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2a6c25e46cce879ff40d54f23aa10b3d94441b0e,2a6c25e46cce879ff40d54f23aa10b3d94441b0e,"Update grsecurity kernel to 4.4.167

Also removes 4.4.144 kernels"
emkll,2018-12-19 17:56:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ad7e7b25bcd8b588e8b45daba501d9109f2a8eea,ad7e7b25bcd8b588e8b45daba501d9109f2a8eea,"Merge pull request #3994 from garrettr/issue/3912-reply-key-expiration-date-leak

Avoid leaking information in GPG key creation and expiration dates"
redshiftzero,2018-12-19 16:50:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/12726bd3da5e6f760f3cadd5483f462c5fd6dda1,12726bd3da5e6f760f3cadd5483f462c5fd6dda1,"Merge pull request #3997 from garrettr/issue/3996-make-ci-lint-fails-macos

Fix make ci-lint on macOS"
garrettr,2018-12-17 20:10:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3be51e049c793bfaa00d55c416d4d9bb930959ca,3be51e049c793bfaa00d55c416d4d9bb930959ca,Review fixes and no magic numbers!
garrettr,2018-12-17 06:57:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15b9ff4fc4b921eab831e9a6a00d0f090f8665e5,15b9ff4fc4b921eab831e9a6a00d0f090f8665e5,Fix make ci-lint on macOS
garrettr,2018-12-17 12:22:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f50a4313000f2be3ce72f481a9101a5e3257e984,f50a4313000f2be3ce72f481a9101a5e3257e984,flake8 fixes
garrettr,2018-12-16 23:18:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b971d0eb010e3a78f40970bc92f711a7725f1585,b971d0eb010e3a78f40970bc92f711a7725f1585,"Source reply keys should not leak timing information

- All source reply keys now have a fixed creation date, which is before
any actual sources were using the platform.
- Source reply keys no longer expire."
garrettr,2018-12-17 03:20:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fbde3795dd3f6b8399e1f4095a88d9768383cb91,fbde3795dd3f6b8399e1f4095a88d9768383cb91,Unit test for obfuscated GPG key creation and expire dates
redshiftzero,2018-12-17 05:07:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/800315537413aad3f8844dd749f04d40946d0d88,800315537413aad3f8844dd749f04d40946d0d88,"Merge pull request #3762 from abhn/show-passphrase

Show password option for journalist and admin login"
abhn,2018-08-31 07:39:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb16d67dc5ffb845d0772ee109533e1e830897e2,fb16d67dc5ffb845d0772ee109533e1e830897e2,added a show password checkbox next to admin/journalist password input box
heartsucker,2018-12-13 10:22:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b727a9998ab63420088a4320f26d9b6cd17fd7c,7b727a9998ab63420088a4320f26d9b6cd17fd7c,"Merge pull request #3992 from freedomofpress/post-release-0.11.0-merge

Post-0.11.0 release merge"
heartsucker,2018-12-13 10:06:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e2282833cae766eb17f65133c7f4cc8358014a3,1e2282833cae766eb17f65133c7f4cc8358014a3,"Merge pull request #3993 from freedomofpress/cve-2018-20060

deps: Update urllib3 to 1.23 due to CVE-2018-20060"
heartsucker,2018-12-13 10:00:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c37f4adf8ac33a3087deab1b0b48c4c6d57e8d5,4c37f4adf8ac33a3087deab1b0b48c4c6d57e8d5,"Merge pull request #3985 from freedomofpress/standardize-vagrantfile

vagrantfile: Fix error in 2.1.2 and standardize on vagrant 2.1.2"
redshiftzero,2018-12-13 03:31:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3ef44e0e179750fe590c8765a781fb91637b2538,3ef44e0e179750fe590c8765a781fb91637b2538,"deps: Update urllib3 to 1.23 due to CVE-2018-20060

We pull in urllib3 in thanks to requests in development. This
commit specifies that urllib3 should be 1.23 or later [0].

[0] https://nvd.nist.gov/vuln/detail/CVE-2018-20060"
redshiftzero,2018-12-13 02:03:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa4fdc3f0b5ddba6a91d25d3a94a0401fef337d9,fa4fdc3f0b5ddba6a91d25d3a94a0401fef337d9,SecureDrop 0.12.0~rc1
redshiftzero,2018-12-11 21:45:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c52ea73a7a55d7da1d16e024c06a391de3eaceb,4c52ea73a7a55d7da1d16e024c06a391de3eaceb,"SecureDrop 0.11.0

(cherry picked from commit 4412aa4e257ce8273acb1fd7e78cdb571e18fdec)"
emkll,2018-12-10 21:20:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c0053bc044a7f9638818f90065fe7b0e0957a10d,c0053bc044a7f9638818f90065fe7b0e0957a10d,"SecureDrop 0.11.0-rc5

(cherry picked from commit 0cf0df9d9753adb8dc6b3dff5d00353a8c90165c)"
emkll,2018-12-05 21:04:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef23c2d75c42b521e48a70c724808ef264e9e4a2,ef23c2d75c42b521e48a70c724808ef264e9e4a2,"SecureDrop 0.11.0-rc4

(cherry picked from commit 4df9e03f231e97cb2383f85fe29538bf69a628fd)"
kushaldas,2018-12-03 18:32:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/25eb6a976e8489eafa90a840faa539bd72f3483d,25eb6a976e8489eafa90a840faa539bd72f3483d,"SecureDrop 0.11.0-rc3

(cherry picked from commit 7da70806f5e355b5cd29cdbab257785e02ce04f0)"
emkll,2018-11-28 20:21:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/82fddde0a74cfcabc5e250e88ae68ec7cf3f7f6c,82fddde0a74cfcabc5e250e88ae68ec7cf3f7f6c,"SecureDrop 0.11.0-rc2

(cherry picked from commit 8d365c5e5489c6fc7b43298f6f5cfa86acdca4f0)"
kushaldas,2018-11-28 04:55:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c46fbca987c92125bfbf18c90a240a6c6ec76cbd,c46fbca987c92125bfbf18c90a240a6c6ec76cbd,"SecureDrop 0.11.0~rc1

(cherry picked from commit 79823179b1acacaf84d2be16f603aadeb280ddf2)"
redshiftzero,2018-12-10 19:11:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f2ae4a6f4106fb6eeada8a5d450533c2f9ee1b85,f2ae4a6f4106fb6eeada8a5d450533c2f9ee1b85,"vagrantfile: Fix error in 2.1.2 and standardize on 2.1.2

I've been using this diff for months locally on Vagrant 2.1.2 with
VirtualBox (for all testing: staging/prod).

Since testers on other OSes report no issues in #3350 on Vagrant 2.1.2,
let's standardize on this more recent version."
redshiftzero,2018-12-11 20:57:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/10359094085e6c1839490e74e827c3cac1151b8d,10359094085e6c1839490e74e827c3cac1151b8d,"Merge pull request #3989 from freedomofpress/3988-update-builder-20181211

Update builder image hash"
redshiftzero,2018-12-11 20:50:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/42408523f30079ec061b6c94625574eac1e29acc,42408523f30079ec061b6c94625574eac1e29acc,"Merge pull request #3984 from freedomofpress/add_greek

Fixes #3983 adds Greek language"
emkll,2018-12-11 20:31:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/009deae654965504684ac954bd3f68969fb74cef,009deae654965504684ac954bd3f68969fb74cef,"Update builder

Builder image needed updates"
kushaldas,2018-12-11 17:42:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b2b87f6a97c71c01011c75bea1505b7d96e5992,8b2b87f6a97c71c01011c75bea1505b7d96e5992,l10n: compile desktop files
kushaldas,2018-12-11 17:37:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f2004f25976746f9f6600a6dd4d88ac4a9c474b,6f2004f25976746f9f6600a6dd4d88ac4a9c474b,"l10n: updated nb_NO Norwegian

localizers: yvind Bye Skille, Kushal Das, Allan Nordhy

https://github.com/freedomofpress/securedrop-i18n
copied from acf2dfea89d3e2c7d74a1f240a8a038a39f547e7"
kushaldas,2018-12-11 17:37:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd2d2979171ee1d26828306ec614d0fbbb475ab6,dd2d2979171ee1d26828306ec614d0fbbb475ab6,"l10n: updated es_ES Spanish

localizers: Adolfo Jayme-Barrientos, erinm, Zuhualime Akoochimoya, Kushal Das

https://github.com/freedomofpress/securedrop-i18n
copied from acf2dfea89d3e2c7d74a1f240a8a038a39f547e7"
kushaldas,2018-12-11 17:37:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df6071789fce0d60572bf62d5825640a0acee548,df6071789fce0d60572bf62d5825640a0acee548,"l10n: updated ar Arabic

localizers: Ramy Raoof, Kushal Das

https://github.com/freedomofpress/securedrop-i18n
copied from acf2dfea89d3e2c7d74a1f240a8a038a39f547e7"
kushaldas,2018-12-11 17:37:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/613b4c4830ffe8ca557047ccacf3c908b61d92e4,613b4c4830ffe8ca557047ccacf3c908b61d92e4,"l10n: updated sv Swedish

localizers: Jonas Franzn, Kushal Das, Allan Nordhy

https://github.com/freedomofpress/securedrop-i18n
copied from acf2dfea89d3e2c7d74a1f240a8a038a39f547e7"
kushaldas,2018-12-11 17:36:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fbd33aabadc7469cff0372d10e26d811c40f75c2,fbd33aabadc7469cff0372d10e26d811c40f75c2,"l10n: updated tr Turkish

localizers: A. Nonymous, Kushal Das, Kaya Zeren

https://github.com/freedomofpress/securedrop-i18n
copied from acf2dfea89d3e2c7d74a1f240a8a038a39f547e7"
kushaldas,2018-12-11 17:36:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/249e7f41e337f8444d7abe7bbdc1dda3f45c8b8f,249e7f41e337f8444d7abe7bbdc1dda3f45c8b8f,"l10n: updated fr_FR French

localizers: Kushal Das, AO

https://github.com/freedomofpress/securedrop-i18n
copied from acf2dfea89d3e2c7d74a1f240a8a038a39f547e7"
kushaldas,2018-12-11 17:36:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3479b67be50275dbcdb7ebe4b31fa371c42d4173,3479b67be50275dbcdb7ebe4b31fa371c42d4173,"l10n: updated nl Dutch

localizers: erinm, Kushal Das, Nick Bouwhuis

https://github.com/freedomofpress/securedrop-i18n
copied from acf2dfea89d3e2c7d74a1f240a8a038a39f547e7"
kushaldas,2018-12-11 17:36:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0cf3f498ccb01de4c14d1e684c40d160573fa0d0,0cf3f498ccb01de4c14d1e684c40d160573fa0d0,"l10n: updated ru Russian

localizers: Andrey, Kushal Das, Adham Kurbanov

https://github.com/freedomofpress/securedrop-i18n
copied from acf2dfea89d3e2c7d74a1f240a8a038a39f547e7"
kushaldas,2018-12-11 17:36:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f130dd20cc85029f288abbc1adfa96c54a2a5f02,f130dd20cc85029f288abbc1adfa96c54a2a5f02,"l10n: updated de_DE German

localizers: erinm, Kushal Das, Ettore Atalan

https://github.com/freedomofpress/securedrop-i18n
copied from acf2dfea89d3e2c7d74a1f240a8a038a39f547e7"
kushaldas,2018-12-11 17:36:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b2090fc080499983fbc59e126d55f46cce99d21,5b2090fc080499983fbc59e126d55f46cce99d21,"l10n: updated hi Hindi

localizers: Chandan Kumar, Kushal Das

https://github.com/freedomofpress/securedrop-i18n
copied from acf2dfea89d3e2c7d74a1f240a8a038a39f547e7"
kushaldas,2018-12-11 17:36:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a4dbb712269483d80c6172718b21c83f37b1aba4,a4dbb712269483d80c6172718b21c83f37b1aba4,"l10n: updated zh_Hant Chinese, Traditional

localizers: erinm, Chi-Hsun Tsai, Kushal Das

https://github.com/freedomofpress/securedrop-i18n
copied from acf2dfea89d3e2c7d74a1f240a8a038a39f547e7"
kushaldas,2018-12-11 17:36:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a51b980fefde8fc41372f15544f9fff4c5fc8d9a,a51b980fefde8fc41372f15544f9fff4c5fc8d9a,"l10n: updated it_IT Italian

localizers: Kushal Das, Claudio Arseni

https://github.com/freedomofpress/securedrop-i18n
copied from acf2dfea89d3e2c7d74a1f240a8a038a39f547e7"
kushaldas,2018-12-11 17:36:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/edeca3dc25cd1260bdd8991c4d0ec9dee9cf2672,edeca3dc25cd1260bdd8991c4d0ec9dee9cf2672,"l10n: updated pt_BR Portuguese, Brasil

localizers: erinm, Kushal Das, communiaa

https://github.com/freedomofpress/securedrop-i18n
copied from acf2dfea89d3e2c7d74a1f240a8a038a39f547e7"
kushaldas,2018-12-11 17:36:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/86c3b62091821daf71b76c1e1a3dafda4e81a243,86c3b62091821daf71b76c1e1a3dafda4e81a243,"l10n: updated el Greek

localizers: Dimitris Maroulidis, boublis, A. Nonymous, pierwill, Adrian, Weblate, Kushal Das, Loic Dachary

https://github.com/freedomofpress/securedrop-i18n
copied from acf2dfea89d3e2c7d74a1f240a8a038a39f547e7"
emkll,2018-12-11 16:32:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/168939bc6b963ac75565d4088bbf15f3abdac298,168939bc6b963ac75565d4088bbf15f3abdac298,"Merge pull request #3986 from edenemmanuel/docs-3982-add-0100-to-0110-upgrade-guide

Add 0.10.0 to 0.11.0 upgrade guide to docs"
emkll,2018-12-10 21:52:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab339a56101889c193fbc9306ad2fac20991732f,ab339a56101889c193fbc9306ad2fac20991732f,"Merge pull request #3980 from freedomofpress/sshd-config

Remove unused sshd config options"
emkll,2018-12-10 15:39:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c5c3389b82ab93dab4a1f2fa0f2459c85984805c,c5c3389b82ab93dab4a1f2fa0f2459c85984805c,"Update builder image hash

Builder image needed updates"
kushaldas,2018-12-10 19:18:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/169e70d34bb44ceda1e81f044212f9e7a5a4b6b4,169e70d34bb44ceda1e81f044212f9e7a5a4b6b4,docs: update the list of supported languages
kushaldas,2018-12-10 18:26:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/36ed0005f7ebf94a15c7447ad10063990b8b670b,36ed0005f7ebf94a15c7447ad10063990b8b670b,"Fixes #3983 adds Greek language

Greek is 100% translated and reviewed."
emkll,2018-12-10 14:49:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d031256773777494f474920cb091021d5022756,8d031256773777494f474920cb091021d5022756,"Disable password authentication for sshd

UsePAM yes will override PasswordAuthentication set to no, so UsePAM
must be set to no.
For the new install case, this is handled by the Ansible logic. For
existing installs, the config is modified via securedrop-config postinst
hook."
heartsucker,2018-12-10 13:41:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03fe4a129493b268f3303d12441cd600b0819d81,03fe4a129493b268f3303d12441cd600b0819d81,"Merge pull request #3884 from ultimatecoder/develop-fix-issue-2943

Removing hard-coded Ansible plugin ""profile_tasks"""
heartsucker,2018-12-09 16:15:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/466461c1f211bcf6b05a28872f69e09df9d5fafb,466461c1f211bcf6b05a28872f69e09df9d5fafb,"Merge pull request #3941 from rjmackay/no-session-for-api-3876

Never set session cookies for API requests"
rjmackay,2018-12-01 03:52:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f66259d2be6b08c8e28d915150eb7d1098e03243,f66259d2be6b08c8e28d915150eb7d1098e03243,Add tests for Set-Cookie headers
rjmackay,2018-11-24 09:16:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97b7f4b2fd64263a056a3b39b93fedb21a6db431,97b7f4b2fd64263a056a3b39b93fedb21a6db431,"Never set session cookies for API requests

Implement a custom session interface that doesn't save sessions
for API requests

Fixes #3876"
heartsucker,2018-12-07 09:48:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe62e35cac70224d27b63fdf7f53c5be5befe716,fe62e35cac70224d27b63fdf7f53c5be5befe716,"Merge pull request #3958 from freedomofpress/set-reply-uuid

Set reply UUID"
heartsucker,2018-12-06 21:31:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78468827a252766d57770323f03175e1855df572,78468827a252766d57770323f03175e1855df572,updated reply api docs
heartsucker,2018-12-06 09:21:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1978a677e78cac09172068e74137cef5558da04e,1978a677e78cac09172068e74137cef5558da04e,"Merge pull request #3976 from zenmonkeykstop/docs-update-hw-recs

updated hw reqs with notes re new mac minis and new NUCs"
heartsucker,2018-12-04 08:57:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d14677a3fd358b940ae5240572fdf44c9db3418c,d14677a3fd358b940ae5240572fdf44c9db3418c,test for setting reply uuid
heartsucker,2018-12-03 22:35:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4335a41c250bbf55a445e45e796a6805ea9bb261,4335a41c250bbf55a445e45e796a6805ea9bb261,added ability to set uuid when sending replies
zenmonkeykstop,2018-12-05 22:09:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2732588c68c8ad2ff0091ff47866b5f0b1a2af3f,2732588c68c8ad2ff0091ff47866b5f0b1a2af3f,updated hw reqs with notes re new mac minis and new NUCs
redshiftzero,2018-12-05 21:48:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/196d766644f0a773ac0d330a4b5c12dd124f8b41,196d766644f0a773ac0d330a4b5c12dd124f8b41,"Merge pull request #3974 from freedomofpress/update-builder-20181205

Update builder image hash"
emkll,2018-12-05 20:23:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dbf0d8da0ed450828e502b303666aa3ed721436c,dbf0d8da0ed450828e502b303666aa3ed721436c,"Update builder image hash

Builder image needed security updates."
conorsch,2018-12-04 18:00:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d0d24687eab2d8e2fe359f09eeb0746061ae70f,6d0d24687eab2d8e2fe359f09eeb0746061ae70f,"Merge pull request #3909 from freedomofpress/3702_NestedVirtCI

Nested Virtualization of Staging Env in CI"
emkll,2018-12-03 20:29:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/618c741e28186244c4cffd49de809f4baab04cde,618c741e28186244c4cffd49de809f4baab04cde,"Merge pull request #3955 from freedomofpress/remove-microcode

Revert ""Add intel-microcode package"""
conorsch,2018-12-03 17:18:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4edcaf4377fd34eeae7d0a657d0e31fa28cb6303,4edcaf4377fd34eeae7d0a657d0e31fa28cb6303,"Always destroy GCE CI nodes, exit zero

Make sure the environment is destroyed in a second step, and mask errors
on that second step. Required since the switch to make targets for CI,
as part of PR review on the introduction of the new GCE CI logic."
emkll,2018-12-03 15:11:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/50f534a5df6dd86909f76d6e6e94d930b6677473,50f534a5df6dd86909f76d6e6e94d930b6677473,"Revert ""Add intel-microcode package""

This reverts commit aeb9f1d38b9b9d06eb61fc7280aca65251bd501b.

intel-microcode is in trusty-security, however, the package on which in
depends, iucode-tool is in trusty-multiverse. Because cron-apt will only
pull in packages from trusty-security, iucode-tool cannot be installed,
therefore intel-microcode cannot be installed, and securedrop-grsec is
in a broken state."
conorsch,2018-11-30 23:11:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04366295de63654652b15032ac9a962108bfe08a,04366295de63654652b15032ac9a962108bfe08a,"Updates docs for GCE (rather than AWS)-based CI

Cleaned up the docs a bit to reference the new script paths, as well as
excise outdated info such as ""we don't run kernel tests in CI"". We do!

The Makefile targets aren't necessary, but do provide a bit of
convenience to developers.

Updated the ""ci-go"" logic in particular, in order to preserve the ""Don't
run staging CI if branch name starts with `docs-`"" logic."
conorsch,2018-11-30 23:02:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fd2b5fbf7fac931fd0782873c5c3a5cc06c2b701,fd2b5fbf7fac931fd0782873c5c3a5cc06c2b701,"Adds 'reason' for xfail on PaX tests

Rightfully pointed out by @heartsucker during review. Cross-linked to
relevant issue. As to why we're using xfail rather than skip, the
""strict"" setting on xfail will alert us if the tests unexpectedly start
passing (ain't that the dream?)."
conorsch,2018-11-01 21:11:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/374675f26af164d4c51bc38f813e641f782d3997,374675f26af164d4c51bc38f813e641f782d3997,"Reorganizes GCE shell scripts for clarity

Removed the shellcheck exemptions at the top of the files to get
warnings displayed again, then improved based on that output.
Reduced the ""source"" calls from 2 to 1, and in general made the scripts
a bit more readable.

Sprinkled comments liberally throughout, to bless future maintainers."
msheiny,2018-10-31 01:44:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e77d7d18fcea79688262fb936c4b9b58a58f4be6,e77d7d18fcea79688262fb936c4b9b58a58f4be6,"Feed shellcheck,flake8 linters

shellcheck -- lots of ignores. a lot of these errors dont apply. Some of them do but
they really seem to be things like double quoting (which ive always
found problematic), printf usage, sourcing warnings."
msheiny,2018-10-31 01:09:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c46879b85ce84d215ddea62552efba2d5294238e,c46879b85ce84d215ddea62552efba2d5294238e,"Pull back junit test results from GCE env

Useful for interpretation and formatting of test results by CircleCI"
msheiny,2018-10-31 00:06:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/61ab928f80df0aefc1d27ceb35931c0015bdc53f,61ab928f80df0aefc1d27ceb35931c0015bdc53f,"XFAIL pax flags not being applied - legit failure

These are exactly the types of errors we want to catch in CI!! yay! This
is a legitimate failure though - I'm able to reproduce locally. Lets
flag as an XFAIL an fix in another PR."
msheiny,2018-10-30 18:32:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0eb97123ae2c9191d7930c0b929bcd2a0a45391,a0eb97123ae2c9191d7930c0b929bcd2a0a45391,"Swap AWS CircleCI env with GCE

Remove AWS references and detection code. Flop those over for GCE usage."
msheiny,2018-10-30 18:12:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/49e840fd611a7c95f4d9ec8fe1921e5c1847143d,49e840fd611a7c95f4d9ec8fe1921e5c1847143d,Run full test process in CI GCE
msheiny,2018-10-30 18:06:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b9f5f136d24c0163fe27ce171dfb520f3bdacb67,b9f5f136d24c0163fe27ce171dfb520f3bdacb67,"Bump GCE nested virt box spec

This commit does two things:
* utilizes a higher CPU box to speed up tests
* utilize a persistent SSD instead of a spinning disk

Both in the hopes of speeding up time for the CI process to complete"
msheiny,2018-10-26 23:52:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bac2c66a97a75e2871cdb76d1b8551011e95ce88,bac2c66a97a75e2871cdb76d1b8551011e95ce88,"Bump GCE instance to n1-standard-2

Default is n1-standard-1 (x1 CPU, 3.75 GB ram)
where as   n1-standard-2 (x2 CPU, 7.5 GB ram)"
msheiny,2018-10-26 23:42:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d45b2a2d60822f704e0765619eeea410937ac0a,8d45b2a2d60822f704e0765619eeea410937ac0a,"Add a stop script to kill GCE instances

Part of a delicious GCE instance management diet"
msheiny,2018-10-26 23:39:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37fee692d70079467850aeb9cb86a8681afeb3fb,37fee692d70079467850aeb9cb86a8681afeb3fb,"Add initial GCE execution logic

This will likely go through a lot of cleanup and revisions. The flow is
pretty much:

* Copy local securedrop directory up to the remote server (i want to
avoid having to suss out possible weird git checkout behavior)
* Build debs
* Run staging

Of particular to-do on my agenda - make sure the test results from make
staging get pulled back for intake into circleci."
msheiny,2018-10-26 23:37:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/888bdbfde458281d7bae301a467af5de81d8c24a,888bdbfde458281d7bae301a467af5de81d8c24a,"Switch to using ssh metadata instead of oslogin

I encountered lots of issues with oslogin, the biggest is that it forces
us to log into a new user where we really want to login as the `sdci`
user (which has all the vagrant+libvirt settings applied already).

In comparison, passing metadata on instance creation is super
straight-forward. Followed docs from
https://cloud.google.com/compute/docs/instances/adding-removing-ssh-keys"
msheiny,2018-10-26 23:33:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/556dae5de31cb726c9a4febf296c96f7132fdc4e,556dae5de31cb726c9a4febf296c96f7132fdc4e,"Add make target for building debs without tests

This is useful in certain CI circumstances - particularly when we want
to build a deb as fast as possible and then use that in staging context."
msheiny,2018-10-26 23:30:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/998a6d1bfa565bcbdefb4c70247d4ab4cd107980,998a6d1bfa565bcbdefb4c70247d4ab4cd107980,"mv create-staging-env , add venv bootstrap logic

Moves the script in-line with other scripts and also adds in a
virtualenv bootstrappin' logic.

Why didn't I utilize something like virtualenv-wrapper ? It added a lot
more complexity than I wanted to deal with.. from changing
virtualenvwrapper.sh location across different systems ... to weird
breaking behavior with the bash flags, to required variables needed for
PYTHON + VIRTUALENV locations (at least experienced against a remote GCE
instance)."
msheiny,2018-10-26 22:03:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8ba4edf2b5bda9eac5ae2f5d3948175567007e06,8ba4edf2b5bda9eac5ae2f5d3948175567007e06,"Ensure activate svc account logic always fires

Was masking some errors previously and i've learned that this script
will fire multiple times without issue."
msheiny,2018-10-26 22:02:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/14070e242daee2e330032f2583ff7d886c18b69d,14070e242daee2e330032f2583ff7d886c18b69d,"Drop gce-nested molecule bits, to pure scripts

I really didnt want to go this route since molecule adds surrounding
tooling fun.. but yeah.. here it is for the sake of striping things down
to simplicity."
msheiny,2018-10-26 22:00:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/33da166e030e009e8a2bd721712111b870847cf9,33da166e030e009e8a2bd721712111b870847cf9,"Rename CI-env source script, expand logic

Wanted to get this closer in proximity to all the other CI GCE related
tooling (since thats what its applicable to). Made some core changes so
that this will be the same script that runs in CI and for local ops
developers while testing."
msheiny,2018-10-25 14:51:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b06715331bfc72ac95e3bbdaf084b04cc976e91,1b06715331bfc72ac95e3bbdaf084b04cc976e91,"Nail-down GCE spin-up logic

Utilize a gcloud sdk container to run all operations. This is really not
necessary for CI BUT in order to provide a uniform testing environment
against local development and CI this was necessary. Otherwise if a
local developer used their machine loaded gcloud sdk, there is a
possiblility of collusion of permissions and things launching with
elevated permissions. This is not necessarilly a dangerous situation
just one that doesnt adequately mimic CI enough...

So tl;dr Lets make CI and local dev CI testing as close as possible"
msheiny,2018-10-23 22:30:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c96c18b19b82944bff8d5068882e1a71be6a776,4c96c18b19b82944bff8d5068882e1a71be6a776,"Add docker builder logic for gcloud container tool

Introducing this to get around the wacky limitations of gcloud sdk so
that what local users test will perfectly match production"
msheiny,2018-10-23 02:13:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d8038748671e3194e4f97fefce423194258de95,9d8038748671e3194e4f97fefce423194258de95,"Add custom GCE image fact collector

This doesn't really confirm to upstream ansible's usage of libcloud..
which has been driving me insane. There also isnt an upstream module for
this capability.. so decided to write it myself :) Hooray for
""not-invented-here"" !!!"
heartsucker,2018-11-29 14:23:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b4924cfa466a45d00804d9c266284caa064d7d6,9b4924cfa466a45d00804d9c266284caa064d7d6,"Merge pull request #3940 from rjmackay/replace-administrator-with-admin-2332

Replace ""administrator"" with ""admin"""
redshiftzero,2018-11-29 01:32:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e94937e09025d473d84b7c68b45e3c664d23f95,7e94937e09025d473d84b7c68b45e3c664d23f95,"Merge pull request #3863 from freedomofpress/fix-qa-loader

Fix qa loader"
emkll,2018-11-28 23:28:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/95c97ac906b15de9b626cca14bc3bdc19c644089,95c97ac906b15de9b626cca14bc3bdc19c644089,"Merge pull request #3950 from freedomofpress/3949-update-builder-20181128

Update builder image"
redshiftzero,2018-11-28 20:52:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ae53168a2f565a4e5225343395e490cf1ee976e,2ae53168a2f565a4e5225343395e490cf1ee976e,"Merge pull request #3945 from freedomofpress/3891-ansible-2.6

Update ansible to 2.6.8"
emkll,2018-11-28 19:19:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b3f38e41d2cff418ae9ba9c518c1624c8337243,8b3f38e41d2cff418ae9ba9c518c1624c8337243,"Update builder image

Builder image needed security updates."
redshiftzero,2018-11-28 15:59:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de7b9806c63f76805cf30ddd7f338270ff53ccd3,de7b9806c63f76805cf30ddd7f338270ff53ccd3,"Merge pull request #3879 from edenemmanuel/docs-3846-configure-locale

Update Admin Guide with how to configure locales"
emkll,2018-11-22 13:11:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b72bbd03cb112e05b1a25b2fecda5e9a9376426,9b72bbd03cb112e05b1a25b2fecda5e9a9376426,"Replace deprecated ansible commands

state:running was deprecated in ansible 2.5, replaced by state:started."
emkll,2018-11-28 01:17:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef1318d376fc9be6308139b87c3e6cccd9e71e82,ef1318d376fc9be6308139b87c3e6cccd9e71e82,Update Ansible to 2.6.8 for SecureDrop Admin
emkll,2018-11-27 23:32:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1bcd9d0c6c733f2a2ba4547eacf44295927db00a,1bcd9d0c6c733f2a2ba4547eacf44295927db00a,"Update Ansible to 2.6.8

Also update molecule and testinfra"
redshiftzero,2018-11-27 20:54:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f7ffda1bd1be744e316b8f115c2094596b7cf04,8f7ffda1bd1be744e316b8f115c2094596b7cf04,"Merge pull request #3943 from freedomofpress/3928-ossec-gpg-homedir-permissions

ossec: set permissions on gpg homedir and contents"
redshiftzero,2018-11-27 00:41:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/785cdaf4a0e8c5a94ceb49e66213b51a22695141,785cdaf4a0e8c5a94ceb49e66213b51a22695141,"ossec: set permissions on gpg homedir and contents

In defect #3928, problems with the permissions on the OSSEC gpg
keyring resulted in an error when attempting to import the OSSEC
public key.

This commit adds Ansible tasks to set the proper permissions
on the gpg homedir and its contents prior to attempting to import
the key"
redshiftzero,2018-11-26 23:07:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/efff2da10570ce1be4db3149aacc46b945605664,efff2da10570ce1be4db3149aacc46b945605664,"Merge pull request #3937 from ultimatecoder/docs-fix-broken-reference-of-tails-installation

Fixing broken reference of Tails installation page."
redshiftzero,2018-11-26 22:04:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa83d3a5d27807c01788211c15daf6e469794571,aa83d3a5d27807c01788211c15daf6e469794571,"Merge pull request #3939 from freedomofpress/docs-i18n

Updates instructions and screenshots for the new weblate domain and git repository"
redshiftzero,2018-11-26 21:41:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3edd6fd511be587471e61f14bad1c559c3fed50b,3edd6fd511be587471e61f14bad1c559c3fed50b,docs: club resources are no longer maintained
conorsch,2018-11-26 18:44:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/36cbb217dcd1941f2b509c58f354c3eb77073c7f,36cbb217dcd1941f2b509c58f354c3eb77073c7f,"Merge pull request #3913 from freedomofpress/3838-bump-kernels-to-4.4.162

Update grsecurity kernels to 4.4.162"
rjmackay,2018-11-23 10:55:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/803f13c7881f2b84d6222496331374779d9464eb,803f13c7881f2b84d6222496331374779d9464eb,Replace instances of Administrator/administrator with Admin/admin
ultimatecoder,2018-11-21 19:23:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b2cfa7d8f5d738d446b046b32325028e6a10063e,b2cfa7d8f5d738d446b046b32325028e6a10063e,Fixing broken reference of Tails installation page.
kushaldas,2018-11-22 15:56:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b60778f6bb7b438c0b5690399b3ca5c4085fb86e,b60778f6bb7b438c0b5690399b3ca5c4085fb86e,"Updates screenshots for lock/unlock screen

Latest screenshot from weblate"
kushaldas,2018-11-22 15:50:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f8e50ccd9d67617ae8bd6cec6c2d5846af5df72,8f8e50ccd9d67617ae8bd6cec6c2d5846af5df72,"Updates the docs as required for the weblate instance

We have updated commands for the translation steps to sync
to the weblate account and also to sync back into develop."
emkll,2018-11-22 13:18:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9234c32dabeb27a3097bf2d00481d446f49e772d,9234c32dabeb27a3097bf2d00481d446f49e772d,Use test_vars kernel version for DRY-ness
redshiftzero,2018-11-22 00:14:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b5ea7dc187b4c849fff04a1f3334714ff95d37c,1b5ea7dc187b4c849fff04a1f3334714ff95d37c,"Merge pull request #3535 from kvinton/issue-2508

Issue 2508: Replaces pancake icon with cloud upload, adds checkmark-i"
redshiftzero,2018-11-21 23:33:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c2853d9a581777030da72a54794da03d12a44c6,4c2853d9a581777030da72a54794da03d12a44c6,Use existing icon style
kvinton,2018-06-17 16:36:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d974ee0559b0770ad02c15640b4bc548e8ea419b,d974ee0559b0770ad02c15640b4bc548e8ea419b,"Issue 2508: Replaces pancake icon with cloud upload, adds checkmark-in-a-circle and x-in-a-circle to submit and cancel"
kushaldas,2018-11-21 13:43:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5667f0818f068ed5f8ce47eb11c3290b9b5da85b,5667f0818f068ed5f8ce47eb11c3290b9b5da85b,"Merge pull request #3935 from ultimatecoder/develop-fix-broken-i18n-docs

Updating weblate reference codes."
ultimatecoder,2018-11-18 11:48:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/83c930ccaa37be8daadad9e9d4bc61b3e7cc627f,83c930ccaa37be8daadad9e9d4bc61b3e7cc627f,"Update docs to account for new Weblate

Partialy solves: #3929"
conorsch,2018-11-02 02:55:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dfabb1c3f43ad694bf1e0cdfd9131cd3cc07be95,dfabb1c3f43ad694bf1e0cdfd9131cd3cc07be95,"Adds config tests for kernel-related packages

The microcode package was just added, so let's test for it. Also updated
the kernel version to be a constant, so we can reuse it inside package
names, notable the firmware image (for additional hardware support)."
emkll,2018-10-24 21:56:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eca014e9d6adf867ff167418e4dc51f54710f6e1,eca014e9d6adf867ff167418e4dc51f54710f6e1,"Bump kernels to 4.4.162

Remove 4.4.135 kernels"
emkll,2018-10-24 21:53:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aeb9f1d38b9b9d06eb61fc7280aca65251bd501b,aeb9f1d38b9b9d06eb61fc7280aca65251bd501b,"Add intel-microcode package

Provides microcode updates to addres various Intel cpu-based
vulnerabilities."
emkll,2018-10-24 21:52:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f2861441967ba999fb8424fe3faa6e06a1e4eb73,f2861441967ba999fb8424fe3faa6e06a1e4eb73,"Remove 3.14 series kernels

Now that all users have reported a smooth transition to the 4.4 series
kernels, let's remove these old, unmaintained and end-of-life kernel
series."
redshiftzero,2018-11-16 23:22:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dc5a96ba95d8fdb66fa74f6cb02c9b172d5e0409,dc5a96ba95d8fdb66fa74f6cb02c9b172d5e0409,"Merge pull request #3873 from nightwarrior-xxx/change

Added changes to UI of the admin_add_login page"
nightwarrior-xxx,2018-11-08 16:55:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/057a16ad1dd574c922064bc9352b5770b3924dbe,057a16ad1dd574c922064bc9352b5770b3924dbe,Added changes to admin_add_user page
heartsucker,2018-11-11 08:01:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f8895245f13207088926987d32d6ffbbd4b81cc2,f8895245f13207088926987d32d6ffbbd4b81cc2,"Merge pull request #3932 from freedomofpress/docs-fix-api-reply

docs: fix incorrect POST reply API endpoint"
heartsucker,2018-11-11 08:00:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/57b78d3fd88f9c66001e4b07f59df1d34ef9a40c,57b78d3fd88f9c66001e4b07f59df1d34ef9a40c,"Merge pull request #3931 from freedomofpress/copyright-notice-tweak

Tweak copyright statement to acknowledge all contributors"
redshiftzero,2018-11-11 02:17:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd9a312259f6c38b93d004c024cd6ea5aba910b4,cd9a312259f6c38b93d004c024cd6ea5aba910b4,docs: fix incorrect POST reply API endpoint
redshiftzero,2018-11-09 02:21:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d1e5c35dcc954f34916b16f114eb4927a148223,6d1e5c35dcc954f34916b16f114eb4927a148223,"Merge pull request #3922 from ntoll/client-docs

Add client documentation. First draft."
eloquence,2018-11-09 00:51:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9444d4626b0cd8a0126b368c9b305f16316babbc,9444d4626b0cd8a0126b368c9b305f16316babbc,"Tweak copyright statement to acknowledge all contributors

Resolves #3930"
redshiftzero,2018-11-09 00:06:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e601643deb8ab5df2eddede9f00c88e9ec3a41e7,e601643deb8ab5df2eddede9f00c88e9ec3a41e7,Fix typos/ minor formatting nits
redshiftzero,2018-11-09 00:01:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c717b54714f6ba37616701b3151dbde729e4aeb2,c717b54714f6ba37616701b3151dbde729e4aeb2,Move client documentation into developer docs
ntoll,2018-11-08 11:32:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f885eaef3781aa7495ed985dac77768fbb6f77cc,f885eaef3781aa7495ed985dac77768fbb6f77cc,Update draft in light of feedback.
ntoll,2018-11-06 15:22:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f905bd9f22a869c16b4645f9ffa92860eabb108e,f905bd9f22a869c16b4645f9ffa92860eabb108e,Add to ToC tree. Feel free to change this.
ntoll,2018-11-06 15:19:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b688407666ef615a79afec2d068ca74e73f1b228,b688407666ef615a79afec2d068ca74e73f1b228,Add client documentation. First draft.
heartsucker,2018-11-07 22:50:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0171ff697e883f91fba3755a6404687aa0de8d72,0171ff697e883f91fba3755a6404687aa0de8d72,"Merge pull request #3927 from freedomofpress/fix-dev-reply-data

[dev] Test replies: encrypt a string instead of 1 random byte"
redshiftzero,2018-11-07 18:19:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5c7f35f4e73bb57b1939ef57578eec5a31c78092,5c7f35f4e73bb57b1939ef57578eec5a31c78092,Test replies: Encrypt a string instead of 1 random byte
heartsucker,2018-11-07 12:24:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4b1b8455f6bc51ecb86e6b0352b9b4901b080be9,4b1b8455f6bc51ecb86e6b0352b9b4901b080be9,"Merge pull request #3923 from freedomofpress/templatefix

Fix link and language in feature request template"
heartsucker,2018-11-07 12:23:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d243e0df05605164b4ae59927177c94238355764,d243e0df05605164b4ae59927177c94238355764,"Merge pull request #3924 from creviera/develop

Update Tor icon"
creviera,2018-11-07 09:48:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bb8069ae13ed3d3acdf6e26a656d9778eec768fb,bb8069ae13ed3d3acdf6e26a656d9778eec768fb,Update the onion icon
eloquence,2018-11-07 06:20:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7245f795e019a54abd3826382b65d4ce4e9f6bb5,7245f795e019a54abd3826382b65d4ce4e9f6bb5,"Fix link and language in feature request template

Resolves #3822"
redshiftzero,2018-11-02 23:37:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71aa8d77cae10edada249a78d38bf825e3e347d5,71aa8d77cae10edada249a78d38bf825e3e347d5,"Merge pull request #3919 from freedomofpress/reply-basename

only save basename of filename for a reply on API requests"
redshiftzero,2018-11-02 22:18:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ee20953a587e5551c99ae22f307b240ff1d7a464,ee20953a587e5551c99ae22f307b240ff1d7a464,"Merge pull request #3920 from freedomofpress/source-codename-in-dev

added source codename in dev"
redshiftzero,2018-11-02 22:07:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3fb4a91894b9b4a35185f2b1c2a6d0d4d4da82fe,3fb4a91894b9b4a35185f2b1c2a6d0d4d4da82fe,"Merge pull request #3917 from freedomofpress/reply-uuid

add uuid to reply endpoint"
heartsucker,2018-11-02 14:25:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a812b228c5a477dc4b6e1630dbe0b6e6155e5140,a812b228c5a477dc4b6e1630dbe0b6e6155e5140,added regression check for #3918
heartsucker,2018-11-02 14:22:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/488864bcb69bd4fece308c18cacd5e968bc6053b,488864bcb69bd4fece308c18cacd5e968bc6053b,only save replies using path basename
heartsucker,2018-11-02 14:42:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/29e41ad46f901c90993f1db477552d6e1ac64d22,29e41ad46f901c90993f1db477552d6e1ac64d22,added source codename in dev
heartsucker,2018-11-02 12:25:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/49ca00369f8aea4fe15cf2b24cac4aeea2ac6fae,49ca00369f8aea4fe15cf2b24cac4aeea2ac6fae,update docs to show created uuid for replies
heartsucker,2018-11-02 12:24:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e17b36336def8564c35c7308c7b7eebf3d61c2ff,e17b36336def8564c35c7308c7b7eebf3d61c2ff,updated reply test to check uuid
heartsucker,2018-11-02 12:24:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8cba085918f861aec0f02f1708a770e300824948,8cba085918f861aec0f02f1708a770e300824948,added uuid to reply endpoint
redshiftzero,2018-11-02 20:50:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/18f9063815fc71e7565fa4c1a66106f64c3926eb,18f9063815fc71e7565fa4c1a66106f64c3926eb,"Merge pull request #3921 from freedomofpress/fix-requests-security-error

update requirements to push requests to 2.20.0"
redshiftzero,2018-11-02 18:26:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/454748a3dac0e2219d584fd0941cb8f5e49cf07d,454748a3dac0e2219d584fd0941cb8f5e49cf07d,"Add back missing requirements

This was done by re-running make update-pip-requirements
on this brancs"
heartsucker,2018-11-02 16:42:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15ef39c2646158567376ea9a70d022877a0abd53,15ef39c2646158567376ea9a70d022877a0abd53,"update requirements to push requets to 2.20.0

fixes #3908"
heartsucker,2018-11-01 08:05:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97f055148586510608f0e58552aa4f6ad228b017,97f055148586510608f0e58552aa4f6ad228b017,"Merge pull request #3914 from freedomofpress/docs-fix-hotp-typo-in-docs

Fixes HOTP typo in docs"
conorsch,2018-11-01 00:46:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd9ddfdc7c93524d20012d5462d257e61244796f,bd9ddfdc7c93524d20012d5462d257e61244796f,"Fixes HOTP typo in docs

Noticed the typo while reading the Yubikey setup guide. Searching for
other occurrences, noticed a docs screenshot file was misnamed, as well.
Fixed both."
redshiftzero,2018-10-26 21:14:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/267e011340400a84de7ad691db9b56e73e1aab27,267e011340400a84de7ad691db9b56e73e1aab27,"Merge pull request #3906 from ultimatecoder/develop-fix-documentation-broken-reference

Develop fix documentation broken reference"
ultimatecoder,2018-10-25 19:44:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f1add93da9ab0bca5b21e577a70af909cc745694,f1add93da9ab0bca5b21e577a70af909cc745694,"Fix broken reference at documentation

This commit is a fix to a broken reference of authenticated Tor hidden
service at documentation."
msheiny,2018-10-25 17:32:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/daa922236cfea4d7bc85f4923e9dc84e70a78d91,daa922236cfea4d7bc85f4923e9dc84e70a78d91,"Merge pull request #3872 from freedomofpress/faster-admin-docker-build

docker ignore tox/venv"
redshiftzero,2018-10-25 15:28:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/340b36314659c5839e91f1928e29284f589c047b,340b36314659c5839e91f1928e29284f589c047b,"Merge pull request #3890 from mdrose/remove-screensaver

Removed screensaver"
redshiftzero,2018-10-23 23:35:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/800c0f2d52b501ae7e0a5d1928e218bf6004ccc0,800c0f2d52b501ae7e0a5d1928e218bf6004ccc0,"Merge pull request #3902 from freedomofpress/post-release-0.10.0

add 0.10.0 release changelog, bump version numbers on develop to 0.11.0~rc1"
redshiftzero,2018-10-23 22:15:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/79e2f90387ceb482ed8012e72451c64c9df9e3f7,79e2f90387ceb482ed8012e72451c64c9df9e3f7,"Merge pull request #3897 from edenemmanuel/docs-091-to-0100-upgrade

Add 0.9.1 to 0.10.0 upgrade guide to docs"
redshiftzero,2018-10-23 21:10:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96206a122383ee862b57f4b18bd9c864467aabc4,96206a122383ee862b57f4b18bd9c864467aabc4,SecureDrop 0.11.0~rc1
redshiftzero,2018-10-23 17:53:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d2ea0345822f6925603e28a4a0c72ce6dcac6c72,d2ea0345822f6925603e28a4a0c72ce6dcac6c72,"SecureDrop 0.10.0

(cherry picked from commit 60a4ea38ae8baa78ac7a05aced580da34167c141)"
redshiftzero,2018-10-23 02:37:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/995c4874844319faeae0f6c56b1132708335d885,995c4874844319faeae0f6c56b1132708335d885,"SecureDrop 0.10.0~rc4

(cherry picked from commit 9dc2de3d750c565ae64229b23e8b723a803de378)"
redshiftzero,2018-10-19 01:23:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b397340d440cd9169f6fd5e21f71fc6775845804,b397340d440cd9169f6fd5e21f71fc6775845804,"SecureDrop 0.10.0~rc3

(cherry picked from commit 97b99dfe1cc3bcb2f575418a8da6a771d27ec874)"
redshiftzero,2018-10-11 17:47:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a46039a284953b78ee04d9ab6c8745ea414f1306,a46039a284953b78ee04d9ab6c8745ea414f1306,"SecureDrop 0.10.0~rc2

(cherry picked from commit 94b84dc08f4188acba48ebbe84e52d88fd494ef8)"
redshiftzero,2018-10-09 23:41:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9ca7a6e7663962ab9503ce1914eceed1d24e35c,d9ca7a6e7663962ab9503ce1914eceed1d24e35c,"SecureDrop 0.10.0~rc1

(cherry picked from commit 47c980793fbf89b9266781a67079aac7d2f0f6e8)"
conorsch,2018-10-23 16:18:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/55f934cb5ab7072ff574b2dfed86c90162cd050d,55f934cb5ab7072ff574b2dfed86c90162cd050d,"Merge pull request #3899 from freedomofpress/update-builder-20181023

Update builder image hash"
emkll,2018-10-23 13:18:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a5497a8c12ceddaa62789864450c2cdebeb7c02c,a5497a8c12ceddaa62789864450c2cdebeb7c02c,"Update builder image hash

The builder image needed security updates."
redshiftzero,2018-10-23 00:59:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/781a6829774113eef0bec35b76c60d92eb467ac5,781a6829774113eef0bec35b76c60d92eb467ac5,"Merge pull request #3895 from freedomofpress/wip-i18n

New translation updates from weblate for 0.10.0"
emkll,2018-10-22 21:37:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81fe0800be488b5e43f82b24b2484f24923ae3e8,81fe0800be488b5e43f82b24b2484f24923ae3e8,"Merge pull request #3893 from freedomofpress/unauthorized-message-deletion

Fix unauthorized message deletion"
kushaldas,2018-10-22 18:02:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f8426d57b7e208e1fddde27534fcc1e2808be75c,f8426d57b7e208e1fddde27534fcc1e2808be75c,"l10n: updated nb_NO Norwegian

localizers: Kushal Das, Allan Nordhy

https://lab.securedrop.club/bot/securedrop.git
copied from 037923db7c6bd6827bb41fb1e66ec02ca7c7cba5"
kushaldas,2018-10-22 18:02:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd505138c5677afe571766b6948c20dcabb73217,bd505138c5677afe571766b6948c20dcabb73217,"l10n: updated es_ES Spanish

localizers: Kushal Das, Pablo Di Noto

https://lab.securedrop.club/bot/securedrop.git
copied from 037923db7c6bd6827bb41fb1e66ec02ca7c7cba5"
kushaldas,2018-10-22 18:02:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/484eb857e63056047f36067b8f6f33be05d47d16,484eb857e63056047f36067b8f6f33be05d47d16,"l10n: updated ar Arabic

localizers: Kushal Das

https://lab.securedrop.club/bot/securedrop.git
copied from 037923db7c6bd6827bb41fb1e66ec02ca7c7cba5"
kushaldas,2018-10-22 18:02:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac3d55010cc30f9596feeb50a06839e82a5543eb,ac3d55010cc30f9596feeb50a06839e82a5543eb,"l10n: updated sv Swedish

localizers: Kushal Das

https://lab.securedrop.club/bot/securedrop.git
copied from 037923db7c6bd6827bb41fb1e66ec02ca7c7cba5"
kushaldas,2018-10-22 18:02:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/995e8b44819ffb622afed8d459c9af140bede762,995e8b44819ffb622afed8d459c9af140bede762,"l10n: updated tr Turkish

localizers: Kushal Das, Erin McConnell

https://lab.securedrop.club/bot/securedrop.git
copied from 037923db7c6bd6827bb41fb1e66ec02ca7c7cba5"
kushaldas,2018-10-22 18:02:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/82db54937b08d7baeb8b13dd9e4cb386ea26f7f8,82db54937b08d7baeb8b13dd9e4cb386ea26f7f8,"l10n: updated fr_FR French

localizers: Kushal Das

https://lab.securedrop.club/bot/securedrop.git
copied from 037923db7c6bd6827bb41fb1e66ec02ca7c7cba5"
kushaldas,2018-10-22 18:02:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ae04a96ed97efdb4543f862c5f5f8944e43b58d,7ae04a96ed97efdb4543f862c5f5f8944e43b58d,"l10n: updated nl Dutch

localizers: kwadronaut, Kushal Das

https://lab.securedrop.club/bot/securedrop.git
copied from 037923db7c6bd6827bb41fb1e66ec02ca7c7cba5"
kushaldas,2018-10-22 18:02:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff19835560593166af116c00aa6ba452c6f490c4,ff19835560593166af116c00aa6ba452c6f490c4,"l10n: updated ru Russian

localizers: Kushal Das

https://lab.securedrop.club/bot/securedrop.git
copied from 037923db7c6bd6827bb41fb1e66ec02ca7c7cba5"
kushaldas,2018-10-22 18:02:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/173919d38390d28770d2321afd80fb5f962883c2,173919d38390d28770d2321afd80fb5f962883c2,"l10n: updated de_DE German

localizers: kwadronaut, Kushal Das

https://lab.securedrop.club/bot/securedrop.git
copied from 037923db7c6bd6827bb41fb1e66ec02ca7c7cba5"
kushaldas,2018-10-22 18:02:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/57d2d526e69497087f7db5f7f637b7cf85ba37aa,57d2d526e69497087f7db5f7f637b7cf85ba37aa,"l10n: updated hi Hindi

localizers: Kushal Das, Drashti

https://lab.securedrop.club/bot/securedrop.git
copied from 037923db7c6bd6827bb41fb1e66ec02ca7c7cba5"
kushaldas,2018-10-22 18:02:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f3a991ffe50d86bda307e815ce4a46abe84fa5a0,f3a991ffe50d86bda307e815ce4a46abe84fa5a0,"l10n: updated zh_Hant Chinese, Traditional

localizers: Kushal Das

https://lab.securedrop.club/bot/securedrop.git
copied from 037923db7c6bd6827bb41fb1e66ec02ca7c7cba5"
kushaldas,2018-10-22 18:02:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6bea2c2a6f296cc4bf119889410d570450013cea,6bea2c2a6f296cc4bf119889410d570450013cea,"l10n: updated it_IT Italian

localizers: Kushal Das

https://lab.securedrop.club/bot/securedrop.git
copied from 037923db7c6bd6827bb41fb1e66ec02ca7c7cba5"
kushaldas,2018-10-22 18:02:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f949029483c46b9052b3cd003cf55cad99a642b3,f949029483c46b9052b3cd003cf55cad99a642b3,"l10n: updated pt_BR Portuguese, Brasil

localizers: Kushal Das

https://lab.securedrop.club/bot/securedrop.git
copied from 037923db7c6bd6827bb41fb1e66ec02ca7c7cba5"
heartsucker,2018-09-10 13:22:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f713f05230358a6aa8a55abcbff90699c6fea9a,4f713f05230358a6aa8a55abcbff90699c6fea9a,regresssion test for source reply deletion
heartsucker,2018-09-10 12:52:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc9db8485810aa7d46e3c82677c6df3807031c89,fc9db8485810aa7d46e3c82677c6df3807031c89,"check ownership of reply before deletion

This patch fixes a bug where an authenticated source A could
delete the replies send to source B if they could guess the
filename. Since we don't throttle source interactions, and
since the wordlists are public, an attack could attempt to
enumerate them."
mdrose,2018-10-19 03:39:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a05513caffb05dead09c42a3cf8cb06cf0589350,a05513caffb05dead09c42a3cf8cb06cf0589350,Removed screensaver
redshiftzero,2018-10-18 22:53:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8725cfc4a9b47368a11a91249691d35db87665cc,8725cfc4a9b47368a11a91249691d35db87665cc,"Merge pull request #3888 from freedomofpress/update-builder-20181018

Update builder image"
emkll,2018-10-18 21:28:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bdae4333bf8170beaf52d72d27ff9725dea9f707,bdae4333bf8170beaf52d72d27ff9725dea9f707,"Update builder image

Builder needed security updates"
redshiftzero,2018-10-18 19:56:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/80d41b5740eb707e4c528738ca3f07de662aaf0c,80d41b5740eb707e4c528738ca3f07de662aaf0c,"Merge pull request #3885 from freedomofpress/3882-remove-alert-from-mail-subject

Remove alert type in ossec email subject line"
emkll,2018-10-18 14:38:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4fb9132c94806cc9d6542d37739210db8ac6db37,4fb9132c94806cc9d6542d37739210db8ac6db37,"Override maild.full_subject in ossec server config

Setting maild.full_subject=1 for ossec >= 3.0.0 will ensure alert does not appear in the email subject line (and thus unencrypted as it is sent to the admin).

Setting it in local_internal_options will ensure that it is not squashed by changes in internal_options that is shipped as part of the ossec-server package."
ultimatecoder,2018-10-17 20:15:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd5b06616a603551efbf3e098ef2a140d92f6a29,dd5b06616a603551efbf3e098ef2a140d92f6a29,"Removing hard-coded Ansible plugin ""profile_tasks""

With the release of Ansible v2, ""profile_tasks"" is part of Ansible core.
Replacing hard-coded plugin code with appropriate Ansible configuration.

Resolves: #2943"
redshiftzero,2018-10-15 23:26:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8fdfd59c3fa5ea0240399931ecab2ffce547bdba,8fdfd59c3fa5ea0240399931ecab2ffce547bdba,"Merge pull request #3867 from zenmonkeykstop/docs-fixes-libvirt-install

Updates libvirt setup instructions to cover Debian 9 correctly, tiny fix to install docs"
redshiftzero,2018-10-15 19:31:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00fa32afec1ea71fcb9ca65172377a570a1ddde7,00fa32afec1ea71fcb9ca65172377a570a1ddde7,"Merge pull request #3875 from freedomofpress/filter-sources-on-index

added filter against null last_updated columns"
zenmonkeykstop,2018-10-15 01:02:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c910dcbb18d27e2638d95d88c64c44614a4d58ea,c910dcbb18d27e2638d95d88c64c44614a4d58ea,added corrections based on review
heartsucker,2018-10-14 10:06:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a1be9a4e330d1c8b03a9aa5cee799e37deed8189,a1be9a4e330d1c8b03a9aa5cee799e37deed8189,"added filter against null last_updated columns

The application logic should guard against this, but in the event
that it doesn't, a null value will cause an exception on the index
page. This is to prevent bugs in the future as this will render the
journalist app completely useless."
heartsucker,2018-10-12 16:06:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cbbffdd8ee15317c963e7cbfddf4c86d67626c17,cbbffdd8ee15317c963e7cbfddf4c86d67626c17,docker ignore tox/venv
zenmonkeykstop,2018-10-11 14:45:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5493292a5c5073688f15301d46c34cc82bc7565,b5493292a5c5073688f15301d46c34cc82bc7565,Updated libvirt install docs based on Debian9 user feedback
zenmonkeykstop,2018-10-11 14:33:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/083aa0f4b9bbf3de8271ff8c7a966a3e9c37fe30,083aa0f4b9bbf3de8271ff8c7a966a3e9c37fe30,custom header image no longer configured in initial install
heartsucker,2018-10-10 18:37:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2055f63c508f4e1f045947208535f3eb1eb779d4,2055f63c508f4e1f045947208535f3eb1eb779d4,track created resources to prevent altering existing sources/journalists
heartsucker,2018-10-10 17:23:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5fe1331dadfb64a278687a356d59768751ac50f,e5fe1331dadfb64a278687a356d59768751ac50f,refactor qa loader to uses classes
redshiftzero,2018-10-11 00:52:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6539cf67f79976e695493c0add669b70aab7cdb9,6539cf67f79976e695493c0add669b70aab7cdb9,"Merge pull request #3831 from freedomofpress/fix-totp-window

actually fix totp window"
redshiftzero,2018-10-11 00:34:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bccdb7dde8f42cdb952818088987fc75214e6dff,bccdb7dde8f42cdb952818088987fc75214e6dff,"Merge pull request #3864 from freedomofpress/update-paramiko

bump paramiko version"
redshiftzero,2018-10-11 00:01:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c2db2a1f20a6e2817daaf32ca62be3f8b82be56c,c2db2a1f20a6e2817daaf32ca62be3f8b82be56c,"Merge pull request #3857 from freedomofpress/always-use-latest-kernel

Always force the use latest kernel by default"
heartsucker,2018-10-10 23:53:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/49ea8004731a15b4a7735c9fa6a3d51f555b89e2,49ea8004731a15b4a7735c9fa6a3d51f555b89e2,bump paramiko version
emkll,2018-10-02 20:35:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b37ebb2b0acb685c66cd10314810dda34d1e47b0,b37ebb2b0acb685c66cd10314810dda34d1e47b0,"Always use latest kernel

Until now, the postinst action for the securedrop-grsec metapackage
would preserve preferences for a rolled back kernel. This will now
remove this preference, by setting GRUB_DEFAUT=0, which will instruct
grub to use the highest kernel version available on the system."
heartsucker,2018-10-10 17:20:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/890321ecf2d5e090439d6e5c399d0f18bb82cab8,890321ecf2d5e090439d6e5c399d0f18bb82cab8,"Merge pull request #3854 from deepthinidwannaya/3608-add-admin-user-functional-test

3608 - Add admin checkbox clicks and test case for an admin to create"
heartsucker,2018-09-30 16:45:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1daef9c23a515e4dcbb3d6693ab8042573985d11,1daef9c23a515e4dcbb3d6693ab8042573985d11,"actually fix totp window

fixes #3830"
redshiftzero,2018-10-09 22:35:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8dcbfd527b14d269571174427b05d77b018938af,8dcbfd527b14d269571174427b05d77b018938af,"Merge pull request #3853 from freedomofpress/pip-bug-workaround

temporary fix for pip/pipenv bug"
redshiftzero,2018-10-09 17:44:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ad6150f5eecd58eb1e2f690cf9a5ceab9f7867d,4ad6150f5eecd58eb1e2f690cf9a5ceab9f7867d,CI: Move to journalist GUI directory prior to pinning pip
heartsucker,2018-10-09 08:40:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/75bb37289e0d4f4bb71aa8cd37084f7c23fb1ba6,75bb37289e0d4f4bb71aa8cd37084f7c23fb1ba6,temporary fix for pip/pipenv bug
redshiftzero,2018-10-05 21:51:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3c3ef9dde62951383d9a0db0a81a757e1f292d55,3c3ef9dde62951383d9a0db0a81a757e1f292d55,"Merge pull request #3848 from freedomofpress/MakeStagingMacAgain

ossec auth key gen. -> platform agnostic"
heartsucker,2018-10-05 05:48:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2455e4e50d83075fb9ce5a6945882410c3612d8d,2455e4e50d83075fb9ce5a6945882410c3612d8d,"Merge pull request #3840 from freedomofpress/ConvergeDockerEnvs

Modify CI docker SD behavior to match dev env"
msheiny,2018-10-04 23:37:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c8949cfe2b71b1471568ad740b0b600acd9e9804,c8949cfe2b71b1471568ad740b0b600acd9e9804,"ossec auth key gen. -> platform agnostic

Previously pipe logic had issues specifically on Mac OSX which has a
differently named md5 hashing cli util. Regardless, it'll be better
long-term to get this into something ansible/jinja specific so we won't
have to rely on local pkgs that might be OS dependent."
heartsucker,2018-10-04 19:24:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a737761ed110f0cd60333a1ee96074c2de60b4b6,a737761ed110f0cd60333a1ee96074c2de60b4b6,"Merge pull request #3837 from freedomofpress/fix-xfails

Fix xfails"
conorsch,2018-10-04 17:55:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7899089798cf1488a50341296a5dd09754811950,7899089798cf1488a50341296a5dd09754811950,"Merge pull request #3835 from zenmonkeykstop/3780-docs-update-testinfra

updated default and Xenial-specific testinfra docs"
msheiny,2018-10-04 17:26:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c9a1ff37ac262d8f32206e34c9495b20535687ee,c9a1ff37ac262d8f32206e34c9495b20535687ee,"Rename pages-layout -> pageslayout

This resolves a typelint issue - which was complaining specifically
about the dash (`-`) in the `pages-layout` module.

See https://www.python.org/dev/peps/pep-0008/#package-and-module-names"
msheiny,2018-10-04 17:20:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/441b3b4e3462cb360f424cf3376dbc467b89c0af,441b3b4e3462cb360f424cf3376dbc467b89c0af,"Resolve shellcheck errors

I bumped shellcheck here and that introduced a lot of breakage, specifically
SC1117 which I excluded to resolve. Also fixed/excluded misc issues on
new scripts I introduced."
heartsucker,2018-10-04 16:58:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be15f95fbb7a60ea12bd02a5ac256d184db52139,be15f95fbb7a60ea12bd02a5ac256d184db52139,remove submission-not-in-memory tests
heartsucker,2018-10-04 09:35:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c8fa1072b2753b7600096933e44a49ded8556ad3,c8fa1072b2753b7600096933e44a49ded8556ad3,"Merge pull request #3841 from freedomofpress/update-builder-container-20181003

Updates builder image hash"
msheiny,2018-10-03 22:58:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5c440c19f0714b5a89ec08a12de6484947952a1,b5c440c19f0714b5a89ec08a12de6484947952a1,WIP - Iron out circleci logic
msheiny,2018-10-03 22:49:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d68bf54c9b4d380c9a5a5b98a719ea28950c6ef9,d68bf54c9b4d380c9a5a5b98a719ea28950c6ef9,"Large revamp of linting docker container

There were a number of big changes here that took a lot of tweaking in
concert so it was best to collect them in the same commit.

To break it down:
* Now we are installing shellcheck so we dont have to use a separate
  container
* Swapped to a smaller python container (that we negate with filling
  with a bunch of apt packages)
* Removed COPY of entire workspace, rely on volume mounting instead.
  With that have to also do the weird docker create user to match UID
  dance
* Only rebuild the container when three files change - dockerfile,
  requiresments.txt, and Makefile. These make it so you have to
  rebuild the linting container MUCH less often. Makes it way easier
  for us to have caching on the CirleCI end."
msheiny,2018-10-03 22:47:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1760e6d2e5f79dd677657a29dff5c9256428f078,1760e6d2e5f79dd677657a29dff5c9256428f078,"Docker ignore python3 virtualenv

Created as part of the mypy make target"
msheiny,2018-10-03 22:41:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e9fe9c27ff064121889e13035d74a7585a2131c,7e9fe9c27ff064121889e13035d74a7585a2131c,"Boot shellcheck linter to its own script

Two part reason for doing this:
* logic in Makefile was getting too large .. its better to manage this
type of stuff in a dedicated script

* I had to make significant changes as part of the `match CI lint to dev
lint`

One thing you might note is that I dropped use of perl for sed+awk. Why
did I do this? I saw some weird behavior with the perl logic locally -
while I was debugging and I realized as soon as I changed it that I
uncovered a bunch of failing tests.

I also wanted to drop the weird call docker from inside docker logic we
had going on.. that was going to continue to get hairy as I refactored."
msheiny,2018-10-03 17:46:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/76e8d61ce45434c2c7212f2bde4d3312347f1b65,76e8d61ce45434c2c7212f2bde4d3312347f1b65,"Break out yamllint logic into its own script

Part of cleaning up the core makefile and preventing minor tweaks from
causing an entire linting docker container rebuild."
msheiny,2018-10-03 20:26:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bcc624d62c0c71f4e3fbcef84d1ef9b431b35854,bcc624d62c0c71f4e3fbcef84d1ef9b431b35854,"Merge pull request #3724 from freedomofpress/3701-bump-ossec-3.0.0

Upgrade ossec to v3.0.0"
conorsch,2018-10-03 13:46:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9240ac4dc42f7e6f6e9bd9af90db87c51986d3fe,9240ac4dc42f7e6f6e9bd9af90db87c51986d3fe,"Updates builder image hash

Ensures no local failures due to unapplied security updates."
msheiny,2018-10-03 01:47:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c979be377a6053636bf9dfe5d4f8a685b2654c1a,c979be377a6053636bf9dfe5d4f8a685b2654c1a,"Ignore junit files, firefox logs in docker context

These are just fairly large files that slow build times down"
msheiny,2018-10-03 01:47:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/217b9925c7dcca3059ecf7fc836810431a38147e,217b9925c7dcca3059ecf7fc836810431a38147e,Ignore the admin/.tox directory for flake8 linting
emkll,2018-10-02 21:02:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bddc30d5541325812981e566a7828c7df173f3d3,bddc30d5541325812981e566a7828c7df173f3d3,"Remove client.keys

An empty client.keys was overwriting /var/ossec/etc/client.keys with an empty one, breaking the registration between client and server. Removing the empty client.keys prior to building will ensure the keys are preserved during an upgrade."
emkll,2018-09-11 15:58:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04468a51fdbdc68bcec5b882cbd59f4a3c7f4e11,04468a51fdbdc68bcec5b882cbd59f4a3c7f4e11,"Replace mon server alias and smtp_server with ip

Due to issues with ossec 2.8.2+ and disabling of the ipv6 stack, name
lookups can't `getaddrinfo: Name or service not known`. Using ip
addresses in lieu of aliases sidesteps the issue.

- Since ossec.conf is not templated, securedrop-ossec agent and server will replace
these values as part of the postinst."
emkll,2018-09-07 16:52:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/36a989a5c8f1da5d85aa8d84939f883123848b97,36a989a5c8f1da5d85aa8d84939f883123848b97,"Update ossec registration logic for 3.0

- Generate and use shared secret which is required for agent registration
- agent-auth now returns 0 when registration failure occurs"
emkll,2018-08-21 19:49:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ef26132e83e70912a77e854c7a5a6a5b5b70832,7ef26132e83e70912a77e854c7a5a6a5b5b70832,"Use GPG to verify ossec tarballs

As of 2.9.3, ossec source tarballs are now signed with a GPG key,
instead of providing checksums. The following should now verify source
code tarballs when packages are built/"
emkll,2018-08-21 18:09:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2c79f0b9e212c9d80a88333a271bd8a37c5cfe43,2c79f0b9e212c9d80a88333a271bd8a37c5cfe43,"Bump ossec version strings to 3.0.0

Ossec 3.0.0 contains several bug and security fixes, as such we should
upgrade securedrop ossec agents and servers to this release."
msheiny,2018-07-20 16:47:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/08762371e38a395158f70d7ab5f7ca56eb67e8cf,08762371e38a395158f70d7ab5f7ca56eb67e8cf,"Modify CI docker SD behavior to match dev env

1.  Try to converge behavior of dev v. CI so we cant try to mitigate chasing
    bugs that only exist in CI and are really annoying to reproduce locally.
    Lets try to use the machine builder in CI instead to solve this problem.

2. Python3 not available in machine executor. Lets just default to whatever
   is in python path.. code is compatible with both py 2.x and 3.x

3. Try to be a little smarter about docker caching across different PRs.
   This might be problematic so I'd love special attention here."
msheiny,2018-10-02 20:43:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e59232d14c185def7a651e5753824c835536ac6f,e59232d14c185def7a651e5753824c835536ac6f,"Merge pull request #3833 from freedomofpress/3206-xenial-staging-target-clean-install

Achieves clean install against Xenial"
zenmonkeykstop,2018-10-02 15:07:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fd14811d5e3379375e026842f2e13320d85dfd9a,fd14811d5e3379375e026842f2e13320d85dfd9a,"updated PR based on reviewer feedback, mostly to document OS X options"
zenmonkeykstop,2018-10-01 22:26:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e313cdab83da6b6658d70f60da0512c761c068d4,e313cdab83da6b6658d70f60da0512c761c068d4,updated default and Xenial-specific testinfra docs
conorsch,2018-09-25 22:39:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9a54487717ee3b7ec98ca0df4c4f97bd792abfad,9a54487717ee3b7ec98ca0df4c4f97bd792abfad,"Updates dev docs on Xenial transition

Removed the Ansible-specific reference, since that's largely been
handled now. Still plenty of work to do, in particular the iptables
rules update for the apt user."
conorsch,2018-09-24 22:37:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc5e4b9f67246647c20e32751f4459b66e88c14b,fc5e4b9f67246647c20e32751f4459b66e88c14b,"Updates iptables config tests for Xenial support

The SSH group id has changed between Trusty and Xenial, at least on the
bento boxes we use. The config test logic already supported templatizing
this value, but we weren't actually using it. Fixed."
conorsch,2018-09-24 19:26:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/017ba1fae490a6056300d2195a15f74490ab9d3b,017ba1fae490a6056300d2195a15f74490ab9d3b,"Modifies apparmor config tests for Xenial

Trusty expects 10 total, whereas Xenial shows 20 total by default.
The divergence is due to more apparmor profiles being present on Xenial.
Rather than nitpick the numbers, what we really care about is they don't
fall below a certain threshold. (The tests were failing because *more*
profiles were found on Xenial than expected on Trusty.)

Additionally, Xenial ships with a haveged profile that we don't
explicitly enforce, so permitting 1 unconfined process with a profile in
the Xenial config tests."
conorsch,2018-09-11 16:08:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9eeccaf6d4b7205de08f9924e32f7f8994fcc64f,9eeccaf6d4b7205de08f9924e32f7f8994fcc64f,"Updates tor config tests for Xenial support

Mostly addressing the sysv vs. systemd style service declarations. Under
Xenial with systemd we can use the builtin ""service"" module to confirm
running and enabled, which is a bit simpler. Duplicated the tests to
return true on the non-target platform, since we cannot skip via pytest
without knowledge of the target platform (which requires connecting, and
therefore executing the test)."
conorsch,2018-09-10 21:36:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6adb912189aba44b53f1f4c185da21dc47bccbe4,6adb912189aba44b53f1f4c185da21dc47bccbe4,"Updates apache config tests for Xenial support

This is mostly just the package check, since mpm worker doesn't exist in
Xenial. We'll still use the parametrized test for both Trusty and
Xenial, but a separate check to ensure that the mpm worker is only
expected on Trusty."
conorsch,2018-09-10 18:59:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/983fadc615173abbb4a981a9d82ef5be2063542f,983fadc615173abbb4a981a9d82ef5be2063542f,"Updates swap config tests for Xenial support

Looks like the formatting output from `swapon --summary` changed in
Xenial, so let's allow either format to result in a passing test: no
swap partitions are configured."
conorsch,2018-09-10 18:15:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe71e06a6ac5632ae3b2bbca05227fbdcb7b0ead,fe71e06a6ac5632ae3b2bbca05227fbdcb7b0ead,"Updates platform config tests for Xenial support

The tests now pass if *either* Trusty or Xenial is running. That's
appropriate, given that we're currently targeting a Trusty -> Xenial
transition. Depending on the dev/CI context, either platform may be used
for staging as we hammer out support."
conorsch,2018-09-10 19:17:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2bdcc9387667b3bb0c4f941d98387d833ef11f2a,2bdcc9387667b3bb0c4f941d98387d833ef11f2a,"Updates xvfb config tests for Xenial support

Separating tests into Trusty/Xenial versions, returning true if the
non-targeted platform is detected. We can't skip the test based on
platform info, because the test must execute in order to collect
platform info.

Also took the opportunity to move to the new ""host"" pragma for
testinfra, since the explicit module names format has been deprecated."
conorsch,2018-09-10 18:07:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3634a8c1b9e22fad1de9a09c0ffbb60dd5ecc4eb,3634a8c1b9e22fad1de9a09c0ffbb60dd5ecc4eb,"Updates Xvfb logic for Xenial

Boils down to upstart/sysv-style init scripts versus systemd; the latter
is required for use with Xenial. The systemd service file is quite
simple. It's a copy/paste from [0]; no changes required to the args,
since they're already identical to what we configured in the old init
script.

[0] https://gist.github.com/dloman/931d65cbb79b00593ac3dd5d0cdf37d9"
conorsch,2018-09-07 18:34:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/021ac8da5a6c3a20b95c3d7dc7610bc1eb6a88cd,021ac8da5a6c3a20b95c3d7dc7610bc1eb6a88cd,"Don't customize gettext installation under Xenial

We fetch a newer version via an apt list hack under Trusty, but it's to
get the Xenial version, so skip the repo munging logic when installing
against Xenial."
conorsch,2018-09-07 18:27:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3225da29cf17ff5044b0b37f2faa144c03d1bb9d,3225da29cf17ff5044b0b37f2faa144c03d1bb9d,"Force removal of Apache modules during install

Under Xenial, there are warnings about removing ""required"" modules such
as env. Force their removal, since we really want them gone."
conorsch,2018-09-07 18:08:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f6303f8fc431b48d278970417d65bd09f71f2dc,4f6303f8fc431b48d278970417d65bd09f71f2dc,"Updates Apache apt packages during install flow

For Xenial support, we can't have apache2-mpm-worker requested, since
that package isn't hosted in the Xenial repos. Drops it, only under
Xenial, and updates the config tests accordingly.

We're now using per-distro vars logic to reference the correct
dependencies for the application."
heartsucker,2018-09-29 08:25:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71ca2ed58fcf4662b1659e1bd4571e2410008a4e,71ca2ed58fcf4662b1659e1bd4571e2410008a4e,"Merge pull request #3829 from freedomofpress/faster-dev-setup

speed up creation of dev data by creating app once"
redshiftzero,2018-09-28 21:37:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da386d019597a2cc30e712d5bbe1787fb6da1e1a,da386d019597a2cc30e712d5bbe1787fb6da1e1a,"Merge pull request #3819 from freedomofpress/UpgradeBump091

Bump upgrade testing box to 0.9.1"
heartsucker,2018-09-28 10:17:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/028999b5b90cce797fe2ef06ba20075b43deffda,028999b5b90cce797fe2ef06ba20075b43deffda,speed up creation of dev data by creating app once
redshiftzero,2018-09-27 22:26:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/baf24227712e616b53bf5318a750aefdc9548a14,baf24227712e616b53bf5318a750aefdc9548a14,"Merge pull request #3811 from freedomofpress/all-the-pytest

Pytest fixtures"
redshiftzero,2018-09-27 22:16:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bb1776109cd465a6711782ebab3bd74f97b5e6f5,bb1776109cd465a6711782ebab3bd74f97b5e6f5,"Merge pull request #3815 from ntoll/develop

Add detail about membership of the docker group in Ubuntu/Debian quickstart."
msheiny,2018-09-27 21:47:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b582d500555ae26e5bcedf66794b599dd7c0a06a,b582d500555ae26e5bcedf66794b599dd7c0a06a,"Hacky work-around for ephemeral directory move

At some point in molecule dev, the ephemeral directory was moved from
the local scenario dir + `.molecule` to a path in
/tmp/molecule/${git_dir}/${scenario_dir} . This is a welcome change
EXCEPT that there could be an edge case where someone clones in
securedrop without the default `securedrop` dir path. This is
problematic because the molecule.yml will not take dynamic interpolation
AND its the only spot i could figure out to specify the ansible roles
dir.

So I wanted to take advantage of the new location of the ephermeral
directory while also having a hard-coded roles_dir that wont change. The
work around here is moving the git clone to the official molecule
ephemeral dir, but using the legacy spot to make a roles symlink. There
is some DRY improvements that can obviously be made but since this is
already a crazy commit I tried to hold my self back from more
refactoring."
msheiny,2018-09-27 21:26:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/29752a89802466fc72c7fe1269d4d88dcbc45fa7,29752a89802466fc72c7fe1269d4d88dcbc45fa7,"Add upgrade destroy make file target

Because why not makefile all the things at this point!? YAY"
msheiny,2018-09-26 22:41:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27d3e4cd9aad5de2ca4d6249b69544f4caa46c60,27d3e4cd9aad5de2ca4d6249b69544f4caa46c60,"Merge pull request #3728 from freedomofpress/3206-xenial-staging-target

Creates Xenial staging scenario"
heartsucker,2018-09-11 13:47:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/66dad53c0fc6edf178026668ca2aa2a0841c825f,66dad53c0fc6edf178026668ca2aa2a0841c825f,pytest fixtures: test_login_after_regenerate_hotp
heartsucker,2018-09-10 14:40:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9bca2be26a6ce3fec88c4666246d1ae294389984,9bca2be26a6ce3fec88c4666246d1ae294389984,pytest fixtures: test_user_change_password
heartsucker,2018-09-10 14:27:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/72930cb3b7d2768604d29657093a38d54ba5e6bb,72930cb3b7d2768604d29657093a38d54ba5e6bb,pytest fixtures: test_filenames_delete
heartsucker,2018-09-10 14:24:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b847613bddcfab918cd1ab7c4ed5d2a674f1975,3b847613bddcfab918cd1ab7c4ed5d2a674f1975,pytest fixtures: test_filenames
heartsucker,2018-09-10 14:18:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/406e55b885c0a2bf57ec12fb767c4954028644df,406e55b885c0a2bf57ec12fb767c4954028644df,pytest fixtures: test_delete_collections
heartsucker,2018-09-10 14:09:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90d2f9cbefb74ca470fd0bfc3131a238eb5097ae,90d2f9cbefb74ca470fd0bfc3131a238eb5097ae,pytest fixtures: test_delete_collection
heartsucker,2018-09-10 14:04:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b314d08b4c8f11a78a0b480855f3cf5d334e4c7c,b314d08b4c8f11a78a0b480855f3cf5d334e4c7c,pytest fixtures: test_reply_normal
heartsucker,2018-09-10 12:44:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5866b8a19be9b3466fc040677f3eae34e6924194,5866b8a19be9b3466fc040677f3eae34e6924194,pytest fixtures: test_unicode_reply_with_ansi_env
heartsucker,2018-09-10 11:02:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9e91f09b413087f64f3cd92b340ea6bde860be84,9e91f09b413087f64f3cd92b340ea6bde860be84,pytest fixtures: test_submit_file
heartsucker,2018-09-10 10:15:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/486cbbe2884c48b6d773a99743c09a08db6b2201,486cbbe2884c48b6d773a99743c09a08db6b2201,pytest fixtures: test_submit_message
heartsucker,2018-09-10 09:21:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bccc625fc6cc2c5a73db63ffadc4188cb59a283b,bccc625fc6cc2c5a73db63ffadc4188cb59a283b,fix flaky totp_window
heartsucker,2018-09-09 16:08:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9590306c9cededf840ee4259da52fd495a9c4ac4,9590306c9cededf840ee4259da52fd495a9c4ac4,pytest fixtures: test_col_process_successfully_unstars_sources
heartsucker,2018-09-09 16:05:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7de0531049b60c86879930620603428990808d3d,7de0531049b60c86879930620603428990808d3d,pytest fixtures: test_col_process_successfully_stars_sources
heartsucker,2018-09-09 16:03:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a83fdde56c53f584fb9492a61af560ac28155df,7a83fdde56c53f584fb9492a61af560ac28155df,pytest fixtures: test_col_process_successfully_deletes_multiple_sources
heartsucker,2018-09-09 16:01:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd9b6388f13937269639dbf31cf2989cccb5c5f8,bd9b6388f13937269639dbf31cf2989cccb5c5f8,pytest fixtures: test_col_process_aborts_with_bad_action
heartsucker,2018-09-09 15:59:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/af955c49239215c41d77ae4caefe5a9c6cb2de46,af955c49239215c41d77ae4caefe5a9c6cb2de46,pytest fixtures: test_csrf_error_page
heartsucker,2018-09-09 15:55:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/313fe615f8e6e3803cbba2ce648e959565ffd05b,313fe615f8e6e3803cbba2ce648e959565ffd05b,pytest fixtures: test_journalist_session_expiration
heartsucker,2018-09-09 15:47:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/011f75f03cd2f46e1a03683fcacb2b7374c56bd2,011f75f03cd2f46e1a03683fcacb2b7374c56bd2,pytest fixtures: test_single_source_is_successfully_unstarred
heartsucker,2018-09-09 15:43:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e962da5c63c158273fe685cb669bec76bf6f4fd,3e962da5c63c158273fe685cb669bec76bf6f4fd,pytest fixtures: test_single_source_is_successfully_starred
heartsucker,2018-09-09 13:12:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5edfbe1c28334aadb9de4e5b835b95f1f889658,b5edfbe1c28334aadb9de4e5b835b95f1f889658,pytest fixtures: test_download_all_selected_sources
heartsucker,2018-09-09 13:03:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b51c5f82bc28943411e8df63d78bedd02be212aa,b51c5f82bc28943411e8df63d78bedd02be212aa,pytest fixtures: test_download_unread_all_sources
heartsucker,2018-09-09 12:34:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21e816b255b78f0ea73ceef89ba7a2be94812202,21e816b255b78f0ea73ceef89ba7a2be94812202,pytest fixtures: test_download_selected_submissions_from_source
heartsucker,2018-09-09 12:18:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef54e1bddbb740d9188cd89d0c2ee432bf75dcfc,ef54e1bddbb740d9188cd89d0c2ee432bf75dcfc,pytest fixtures: test_render_locales
heartsucker,2018-09-09 11:44:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/378b5046e48d58970c4d7da6de29b99a61d6b0d6,378b5046e48d58970c4d7da6de29b99a61d6b0d6,pytest fixtures: test_valid_login_calls_argon2
heartsucker,2018-09-09 11:35:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd5293aca0d54d97cd3468d3ef91fc6918e2708c,cd5293aca0d54d97cd3468d3ef91fc6918e2708c,pytest fixtures: test_login_with_invalid_password_doesnt_call_argon2
heartsucker,2018-09-24 18:39:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/36e71e7802eab05be8e2433834d22c61a8870e7b,36e71e7802eab05be8e2433834d22c61a8870e7b,"Merge pull request #3820 from KwadroNaut/patch-8

Snappier wording"
KwadroNaut,2018-09-19 15:23:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/daca25d01fa00ba50d114eff192829557d77788e,daca25d01fa00ba50d114eff192829557d77788e,Snappier wording
msheiny,2018-09-15 00:52:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8bb32e3c39d85f7e97625588408787ceacbef787,8bb32e3c39d85f7e97625588408787ceacbef787,"Add make helper cmds surrounding upgrade testing

I'm not sure the Makefile is the best place for it... this file is
getting out of hand - but for now... yep.

By default lets start the upgrade scenario from the latest stable..
obviously this will be problematic when we release and there is a lag in
publishing the latest baseline VMs but I dont see this as a huge issue.
Just gotta get better at updating the boxes post release."
msheiny,2018-09-15 00:49:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d0fa2f5834f33b1cb9d07a75690c685ab9ee4ccb,d0fa2f5834f33b1cb9d07a75690c685ab9ee4ccb,"Allow env-var over-ride for upgrade test scenario

Instead of hard-coding into the molecule.yml file, lets look for an
env var that a user can pass when kicking off the scenario. To not
affect the vagrant packager logic, fall back to the stable.ver file
contents since really we will never been building upgrade boxes from
non-stable releases.

This also required version changes to the metadata vagrant json files -
so the tag targets exactly match the vagrant version targets"
msheiny,2018-09-14 23:42:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac2a1346ae13af791b2c6d7e6276bb99dc41f25f,ac2a1346ae13af791b2c6d7e6276bb99dc41f25f,Upgrade vagrant builder logic on stable bump
msheiny,2018-09-14 23:39:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e9547e4f963d7d4234c4936b49a54254fbadcdaf,e9547e4f963d7d4234c4936b49a54254fbadcdaf,Bump upgrade box to 0.9.1 stable base
msheiny,2018-09-14 23:19:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8840aeff2109d1b4cf7ffc6163b7295ff46ae08f,8840aeff2109d1b4cf7ffc6163b7295ff46ae08f,"Update upgrade/packager sd_clone logic

* read the stable version from a shared file instead of hard-coding it
* utilize the exact same file since the logic is the same for both
upgrade and vagrant package molecule scenarios"
emkll,2018-09-14 14:12:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ceb20d046ed0602fd49c0d24c9d5d23565b178a5,ceb20d046ed0602fd49c0d24c9d5d23565b178a5,"Merge pull request #3818 from philpep/readme-fix-fr-wordlists

Fix README.md link to fr wordlist"
philpep,2018-09-13 22:16:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/314f225abd4d9e8dab6d208c0436e6dc8df42cf8,314f225abd4d9e8dab6d208c0436e6dc8df42cf8,Fix README.md link to fr wordlist
ntoll,2018-09-12 16:48:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b3ee5a1d655ea43e15295d3127ffbc8d6c086657,b3ee5a1d655ea43e15295d3127ffbc8d6c086657,Update as requested by @conorsch.
conorsch,2018-09-11 17:36:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f90915c46c07df300326632fdc9bd5186be84581,f90915c46c07df300326632fdc9bd5186be84581,"Merge pull request #3810 from freedomofpress/docs-ci-rebase-warning

CI docs: Explain rebase behavior for maintainers"
conorsch,2018-09-11 17:24:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf8d760f0f017ecfc5b92df02a9a2c7deb57f44d,bf8d760f0f017ecfc5b92df02a9a2c7deb57f44d,"Merge pull request #3720 from zenmonkeykstop/3669-docs-molecule-upgrade

Documents use of Molecule upgrade scenario"
conorsch,2018-08-22 04:45:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3fa204628a9a921360a335480c247a72fe68ac49,3fa204628a9a921360a335480c247a72fe68ac49,"Documents usage of Xenial testing scenario

Straightforward docs on the nitty-gritty details. The docs steps are
short; mostly the value here is centralizing the known problems, so we
can start to farm out investigations and fixes.

Made sure to link out to historical research efforts to keep everything
cross-linked."
conorsch,2018-08-22 04:59:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/43f95ab074256c67b0ea3d364238b71d12e6b280,43f95ab074256c67b0ea3d364238b71d12e6b280,"Supports deb builds for Xenial

It's mostly the securedrop-app-code deb that requires special treatment,
via the list of apt dependencies. The implementation here is a total
hack, but *does* unblock prototyping against Xenial."
conorsch,2018-08-22 03:32:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/84e8ffe51dd88228f0c87080d698416b6254da12,84e8ffe51dd88228f0c87080d698416b6254da12,"Consolidates Molecule scenario playbooks

It's difficult to keep multi-scenario Molecule configs DRY. Very little
varies between the staging scenarios; we're simply trying to support
multiple backend providers, e.g. virtualbox vs. libvirt. Let's reuse the
create/destroy/prepare logic between these to minimize config drift over
time.

Confirmed the consolidated files were indentical via `fdupes`."
conorsch,2018-08-22 02:29:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e13cd45114a36218bd5c177a003bf179930045f1,e13cd45114a36218bd5c177a003bf179930045f1,"Tweaks reboot logic to be more durable

The connection terminates too quickly under xenial, triggering a failed
play, referencing an SSH disconnect error. There's plenty of info in
Ansible issues about this problem; the most commonly recommended
solution is:

  * add a brief sleep, to give Ansible time to clean up
  * use fire-and-forget async syntax

which is implemented hereby."
conorsch,2018-08-21 23:21:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc4c5b60462c865d9641333ddec9e2e5c45ee295,cc4c5b60462c865d9641333ddec9e2e5c45ee295,"Ensure aptitude is installed

Aptitude is required for the subsequent package inspection tasks,
preventing tor breakage during playbook runs, as well as for using the
upgrade parameter in the Ansible 'apt' module. Under Trusty it's
installed by default, but not under Xenial. So let's make sure it's
present before referencing it in the config."
conorsch,2018-08-21 23:16:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f5352ab91649e8f60b70fb5fbfdfabcb18a2d892,f5352ab91649e8f60b70fb5fbfdfabcb18a2d892,"Reorder ntp verification tasks

The NTP-related checks were implemented to help Admins debug common
install-time misconfigurations of DNS servers (which would break package
fetching via apt). We've since moved the kernel install tasks to precede
the ntp checks, so they're not really serving their purpose.

On Trusty, ntp and ntpdate are present in the default configuration, and
therefore available for use. The same is not true of Xenial, however, so
let's first ensure that ntp and ntpdate are installed before referencing
them in commands. This is a bit of a catch-22, since any DNS failures
would cause the install tasks to fail. Still, though, it's worth
checking since these verification tasks may uncover errors related
strictly to NTP but not to DNS."
conorsch,2018-08-21 19:37:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96443e1c99d82a18e58b54961b83dac2b5aa7077,96443e1c99d82a18e58b54961b83dac2b5aa7077,"Provides overrides for trusty/xenial apt channels

In both the FPF apt repo config and the tor apt mirror, the lsb.codename
logic will automatically target Xenial when referencing the remote
apt repos. That won't work without backend changes to the apt server,
which we're not ready to make. Let's preserve the current codename-based
behavior, but support overrides, so we can selectively force ""trusty""
while evaluating support for Xenial."
conorsch,2018-08-21 18:29:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4d0023df5122bf44e04ef749374339653eb4e4f1,4d0023df5122bf44e04ef749374339653eb4e4f1,"Creates Molecule scenario for evaluating Xenial

Exactly the same as the other staging scenarios, except for a few
variable overrides. Duplicating the logic here for libvirt and
virtualbox; have not implemented Qubes support, since that would require
building a base VM from a Xenial ISO. We can add Qubes support as we get
closer to stabilizing the Xenial logic."
zenmonkeykstop,2018-09-11 15:54:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5bc362d06a4db4d853aebb90414fc9337a01911d,5bc362d06a4db4d853aebb90414fc9337a01911d,moved upgrade testing into its own page
zenmonkeykstop,2018-08-17 15:29:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bfb9f51cdb4cc08099c8ca70347aa8fda8aecfa6,bfb9f51cdb4cc08099c8ca70347aa8fda8aecfa6,documented use of Molecule upgrade scenario
ntoll,2018-09-11 11:06:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/69375683bd9dba227954606a9438f9f30772e9e5,69375683bd9dba227954606a9438f9f30772e9e5,Add detail about membership of the docker group in Ubuntu/Debian.
redshiftzero,2018-09-10 17:16:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/22edeb66c4e783d10bb44fb5bd9fe468d906b067,22edeb66c4e783d10bb44fb5bd9fe468d906b067,"Merge pull request #3803 from freedomofpress/ci-flaky-updater-gui

CI: Resolve flakiness by having xvfb-run pick a free display"
redshiftzero,2018-09-08 00:17:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6058ded481a6a53f8345517245592e4310a721a,c6058ded481a6a53f8345517245592e4310a721a,CI docs: Explain why rebase is intermittent and describe workaround
redshiftzero,2018-09-07 18:42:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b98ab8c813bcc744cc22f3bc6940ca40780445df,b98ab8c813bcc744cc22f3bc6940ca40780445df,"Merge pull request #3807 from freedomofpress/docs-forum-migration

Update forum.securedrop.club links to forum.securedrop.org"
eloquence,2018-09-07 16:41:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/050f9bab9c7456d95c93053eea48842659672e76,050f9bab9c7456d95c93053eea48842659672e76,"Update forum.securedrop.club links to forum.securedrop.org

Resolves #3806"
redshiftzero,2018-09-07 16:37:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7601a06c0d2f7e7dc4bf39fa5b5992ea5c0f88f1,7601a06c0d2f7e7dc4bf39fa5b5992ea5c0f88f1,"Merge pull request #3761 from abhn/login-textboxes-size-increase

width of login input boxes in admin/journalist login pages increased to 550px to accomodate long passphrases"
redshiftzero,2018-09-07 16:14:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f998581fadceb3170d49f653ee0402002139cc4a,f998581fadceb3170d49f653ee0402002139cc4a,"Merge pull request #3805 from freedomofpress/always-update-safety

Always update safety and bandit as part of make targets"
redshiftzero,2018-09-07 15:48:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3293b3b394302bda88dcf5a147e59af0120145f7,3293b3b394302bda88dcf5a147e59af0120145f7,"Merge pull request #3804 from freedomofpress/backport-0.9.1-to-develop

SecureDrop 0.9.1 changelog into develop"
emkll,2018-09-04 16:53:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3bb24a27df09e2cde303f90fbbeb041d46f1b98e,3bb24a27df09e2cde303f90fbbeb041d46f1b98e,"Always update safety and bandit as part of make targets

This will ensure the latest version of safety and bandit are always pulled in prior to scanning the code / requirement files."
redshiftzero,2018-09-06 17:57:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e154a329b00a930b5def3e1091a90e221560744,7e154a329b00a930b5def3e1091a90e221560744,"SecureDrop 0.9.1

(cherry picked from commit fd7316410af6c65d7b23de921e85bfff65962a71)"
redshiftzero,2018-09-06 22:21:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ee309b358b8f20cf158fc04e9b54cbfa60cfd866,ee309b358b8f20cf158fc04e9b54cbfa60cfd866,"Merge pull request #3801 from freedomofpress/docs-080to091

Account for updater error in 0.8.0-to-0.9.x upgrade instructions"
redshiftzero,2018-09-06 21:41:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c2f7eb65d2ec21178226fa5a4d6e789562325860,c2f7eb65d2ec21178226fa5a4d6e789562325860,"CI: Resolve flakiness by having xvfb-run pick a free display

The -a option will try display numbers beginning with 99 until
it finds one that is available."
eloquence,2018-09-06 21:12:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f5316e28a11468f133ae9700347e3b5dcd7e930,9f5316e28a11468f133ae9700347e3b5dcd7e930,"Account for updater error in 0.8.0-to-0.9.x upgrade instructions

Resolves #3800"
redshiftzero,2018-09-06 16:07:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ebf3d392a1a720640a175318c92a5e7bf1ddab33,ebf3d392a1a720640a175318c92a5e7bf1ddab33,"Merge pull request #3796 from freedomofpress/3795-fix-updater-cwd

Update cwd for show-refs command"
emkll,2018-09-06 15:55:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0691bdd6f63590b678dd47a96f365ce9ab849ffb,0691bdd6f63590b678dd47a96f365ce9ab849ffb,"Merge pull request #3794 from freedomofpress/post-release-0.9.0

Post-release changes for SecureDrop 0.9.0"
emkll,2018-09-06 14:51:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04586f25b121fb8fd3f865fcaee30bb552708c95,04586f25b121fb8fd3f865fcaee30bb552708c95,"Update cwd for show-refs command

When executed in the context of the updater gui, the working directory
for the updater script that was called was `/`, resulting in an error stating that the current working directory (or any of its parents) was a git repository.
This fix will ensure the SecureDrop updater GUI will not erroneously return a signature verification failure."
abhn,2018-09-06 10:39:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/34d18a2961c09ee322984231277ddec2494d7016,34d18a2961c09ee322984231277ddec2494d7016,"revisions accordion to discussion, username, token 33% of password field"
redshiftzero,2018-09-05 23:39:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d58b1883ffc1ef92f5442c4d3a6e914f98112e68,d58b1883ffc1ef92f5442c4d3a6e914f98112e68,SecureDrop 0.10.0~rc1
emkll,2018-09-05 21:25:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/02689d87d1736ab8626a8539f04965191b2d35c4,02689d87d1736ab8626a8539f04965191b2d35c4,"SecureDrop 0.9.0

(cherry picked from commit 59a6753eac81b74816316266eceb32b70c5f9525)"
emkll,2018-09-05 18:34:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ba110a1c59dafd7bf4d74e373a75afaf5deed58,7ba110a1c59dafd7bf4d74e373a75afaf5deed58,"SecureDrop 0.9.0-rc5

(cherry picked from commit cf26a9e4b05a295df31c0414f44d94864469ee3e)"
emkll,2018-09-04 20:49:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/393a40dd513ce5bdc1a4f088bac37a5b740c1e95,393a40dd513ce5bdc1a4f088bac37a5b740c1e95,"SecureDrop 0.9.0-rc4

(cherry picked from commit 9d51a2c16986382d0d523bc03858e941b109c1e4)"
emkll,2018-08-31 18:52:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac0f9edd5933700be859b3d2d6d36a249138d721,ac0f9edd5933700be859b3d2d6d36a249138d721,"SecureDrop 0.9.0-rc3

(cherry picked from commit 2d3795f834d1857706a09dac3f4e5525c6a9b6fb)"
emkll,2018-08-30 14:56:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/068b286c049b708dd660e9f2fbe9235ea10e3d2d,068b286c049b708dd660e9f2fbe9235ea10e3d2d,"SecureDrop 0.9.0-rc2

(cherry picked from commit 43e61b0dbd1ab21b16a631cf331f642d334a7894)"
emkll,2018-08-23 14:25:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7bc83d10bd7fdf3eb421290a44abfc1efd9ca779,7bc83d10bd7fdf3eb421290a44abfc1efd9ca779,"SecureDrop 0.9.0~rc1

(cherry picked from commit ce5803e8a08cf29a55ce749a18d0b50c3adfbfb6)"
redshiftzero,2018-09-05 18:55:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b2d7874b62fdbdd93fc505569b9597628ec12dfb,b2d7874b62fdbdd93fc505569b9597628ec12dfb,"Merge pull request #3770 from freedomofpress/docs-ci-clarifications

Add pointers/clarifications to CI docs"
redshiftzero,2018-09-05 17:36:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d45beceb7ecf851a8daa15494402283ca0fe04d9,d45beceb7ecf851a8daa15494402283ca0fe04d9,"Merge pull request #3789 from freedomofpress/3788-tbb-ua-8.0

Update Tor Browser User Agent for 8.0"
emkll,2018-09-05 14:24:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/315546b861b3eb1942e328ce589b934da5224a13,315546b861b3eb1942e328ce589b934da5224a13,"Update Tor Browser User Agent for 8.0

Tor Browser's user agent now contains platform/OS due to changes in
upstream Firefox (see https://trac.torproject.org/projects/tor/ticket/26146).
We should explicitly list all platforms (instead of relaxing the regex to avoid matching `Android; Mobile`, Orfox's UA string.

Platform list obtained from: https://gitweb.torproject.org/boklm/tor-browser-bundle-testsuite.git/commit/?id=e27a9843e9d928438e15ca5885577d3b7eb0551a"
conorsch,2018-09-05 00:20:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eaa2d45d371b64d5bb82317209d686c63063fec8,eaa2d45d371b64d5bb82317209d686c63063fec8,"Merge pull request #3774 from kushaldas/open_the_gate_for_authorization_header

Fixes #3772, allows Authorization header to pass"
conorsch,2018-09-05 00:08:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37010e616392de32a3853f5c7c7ccae6d2195577,37010e616392de32a3853f5c7c7ccae6d2195577,"Merge pull request #3785 from freedomofpress/fix-release-branch-tor-logic

Fix release branch specific CI issues"
redshiftzero,2018-09-04 20:34:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b5d31a01175bd2b3ba203c2509aa3ebe833f4bc,5b5d31a01175bd2b3ba203c2509aa3ebe833f4bc,"CI on release branch: Remove customization of Tor apt sources

This removes now unnecessary customizations only on release branches.
We no longer should remove the tor_apt_freedom_press.list as of #3189
that is the primary Tor apt repo.

We now add test Tor packages to apt-test.freedom.press, so they will
be automatically installed provided they are more recent versions that
what is live on tor-apt.freedom.press (which is the case for pre-release
QA of Tor packages)."
redshiftzero,2018-09-04 22:10:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab8c9b8cd7336c5fc137db50ffccb30ac1cb20f4,ab8c9b8cd7336c5fc137db50ffccb30ac1cb20f4,"Merge pull request #3777 from kushaldas/wip-i18n

Updates translations for 0.9.0"
redshiftzero,2018-09-04 21:04:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5768d4dcf135d4ff8475c4a2461d232e754c39be,5768d4dcf135d4ff8475c4a2461d232e754c39be,"Merge pull request #3782 from freedomofpress/3779-longer-timeouts-for-app-tests-in-ci

Bumps CI timeout on app tests 10m -> 20m"
conorsch,2018-09-04 20:13:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1114a373fbc6338ba72fc8bfd60b1e98a106a782,1114a373fbc6338ba72fc8bfd60b1e98a106a782,"Bumps CI timeout on app tests 10m -> 20m

The default timeout option for a given CircleCI task is 10 minutes. If
no output is printed to stdout during that period, the build is
cancelled and marked as failed. Since we're running the app tests
via an Ansible wrapper, stdout is buffered, triggering the timeout.

Let's bump that value to 20m to give the tests a chance to report
results. See docs here:

https://circleci.com/docs/2.0/configuration-reference/"
conorsch,2018-09-04 17:36:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f3e81ca63c478064b3b1efc9dc7031e19ae38be2,f3e81ca63c478064b3b1efc9dc7031e19ae38be2,"Adds WSGIPassAuthorization header via postinst

In order to ensure config updates during scheduled nightly upgrades for
0.9.0, we must patch the Apache config in-place. The approach uses an
in-place substitution on the journalist vhost config file, checking
first for the presence of the line, and skipping the substitution is
it's already found."
kushaldas,2018-09-04 10:57:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2aecf1c2aa6679ddd8ee3757a42e5694f437afb3,2aecf1c2aa6679ddd8ee3757a42e5694f437afb3,"Fixes #3772, allows Authorization header to pass

If deploying to Apache using mod_wsgi, the authorization header is not passed
through to a WSGI application by default, as it is assumed that
authentication will be handled by Apache, rather than at an application
level.

See http://www.django-rest-framework.org/api-guide/authentication/#apache-mod_wsgi-specific-configuration
for more details."
kushaldas,2018-09-04 18:17:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc390770c4cf8fffe8653ed0dfa6c6ae716cba54,fc390770c4cf8fffe8653ed0dfa6c6ae716cba54,l10n: compile desktop files
kushaldas,2018-09-04 18:11:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/92cf9db697a6c40ab097f38a9cc97bd0c73d2e34,92cf9db697a6c40ab097f38a9cc97bd0c73d2e34,"l10n: updated nb_NO Norwegian

localizers: yvind Bye Skille, Kushal Das, Allan Nordhy

https://lab.securedrop.club/bot/securedrop.git
copied from 20ef4a509e04f2955fadc4cba395d867b2fb8ae9"
kushaldas,2018-09-04 18:11:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a2bf8ccc6575244d10ecda77f6684a3c596e0bd5,a2bf8ccc6575244d10ecda77f6684a3c596e0bd5,"l10n: updated es_ES Spanish

localizers: Kushal Das, Pablo Di Noto

https://lab.securedrop.club/bot/securedrop.git
copied from 20ef4a509e04f2955fadc4cba395d867b2fb8ae9"
kushaldas,2018-09-04 18:11:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd0939cd2c006ab0bd3acae277d2ce634e535726,cd0939cd2c006ab0bd3acae277d2ce634e535726,"l10n: updated ar Arabic

localizers: Ali Boshanab, kwadronaut, ButterflyOfFire, A. Nonymous, Loic Dachary, Ahmad Gharbeia, Kushal Das, Erin McConnell

https://lab.securedrop.club/bot/securedrop.git
copied from 20ef4a509e04f2955fadc4cba395d867b2fb8ae9"
kushaldas,2018-09-04 18:11:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d517ee9bd2c02963eceef9b651b12ddd3fbaf769,d517ee9bd2c02963eceef9b651b12ddd3fbaf769,"l10n: updated sv Swedish

localizers: Jonas Franzn, Kushal Das

https://lab.securedrop.club/bot/securedrop.git
copied from 20ef4a509e04f2955fadc4cba395d867b2fb8ae9"
kushaldas,2018-09-04 18:11:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5319736217afe2b60691b05e3bd17f6eba2dcfc1,5319736217afe2b60691b05e3bd17f6eba2dcfc1,"l10n: updated tr Turkish

localizers: Kushal Das, tekrei

https://lab.securedrop.club/bot/securedrop.git
copied from 20ef4a509e04f2955fadc4cba395d867b2fb8ae9"
kushaldas,2018-09-04 18:11:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c374f45eea8b2677091402fa9ef36ee35f32486f,c374f45eea8b2677091402fa9ef36ee35f32486f,"l10n: updated fr_FR French

localizers: kwadronaut, Kushal Das

https://lab.securedrop.club/bot/securedrop.git
copied from 20ef4a509e04f2955fadc4cba395d867b2fb8ae9"
kushaldas,2018-09-04 18:11:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c66a586c46230291981d93e619a980ae7248b0ff,c66a586c46230291981d93e619a980ae7248b0ff,"l10n: updated nl Dutch

localizers: kwadronaut, Kushal Das

https://lab.securedrop.club/bot/securedrop.git
copied from 20ef4a509e04f2955fadc4cba395d867b2fb8ae9"
kushaldas,2018-09-04 18:11:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/06d1d89693837f4e394d0b54d6fe368689459c08,06d1d89693837f4e394d0b54d6fe368689459c08,"l10n: updated ru Russian

localizers: kwadronaut, Andrey, Kushal Das

https://lab.securedrop.club/bot/securedrop.git
copied from 20ef4a509e04f2955fadc4cba395d867b2fb8ae9"
kushaldas,2018-09-04 18:11:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d783eca86d11d162b5e6aa332fd4f334aded0441,d783eca86d11d162b5e6aa332fd4f334aded0441,"l10n: updated de_DE German

localizers: kwadronaut, Kushal Das

https://lab.securedrop.club/bot/securedrop.git
copied from 20ef4a509e04f2955fadc4cba395d867b2fb8ae9"
kushaldas,2018-09-04 18:11:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/26b66b7d594850703ba0323fe46aa4c15c3c37a6,26b66b7d594850703ba0323fe46aa4c15c3c37a6,"l10n: updated hi Hindi

localizers: Drashti, Kushal Das

https://lab.securedrop.club/bot/securedrop.git
copied from 20ef4a509e04f2955fadc4cba395d867b2fb8ae9"
kushaldas,2018-09-04 18:11:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d2ad5b76891ebbcbd8500fab3aa76afd934f73a,7d2ad5b76891ebbcbd8500fab3aa76afd934f73a,"l10n: updated zh_Hant Chinese, Traditional

localizers: Chi-Hsun Tsai, Kushal Das

https://lab.securedrop.club/bot/securedrop.git
copied from 20ef4a509e04f2955fadc4cba395d867b2fb8ae9"
kushaldas,2018-09-04 18:11:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/301d511bf609b926bebb9424477bb27fea0d91cf,301d511bf609b926bebb9424477bb27fea0d91cf,"l10n: updated it_IT Italian

localizers: kwadronaut, Kushal Das, Claudio Arseni

https://lab.securedrop.club/bot/securedrop.git
copied from 20ef4a509e04f2955fadc4cba395d867b2fb8ae9"
kushaldas,2018-09-04 18:11:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c9a95651110e62e73a77b093be4d86932f203ab6,c9a95651110e62e73a77b093be4d86932f203ab6,"l10n: updated pt_BR Portuguese, Brasil

localizers: Kushal Das, Bernardo Tonasse

https://lab.securedrop.club/bot/securedrop.git
copied from 20ef4a509e04f2955fadc4cba395d867b2fb8ae9"
redshiftzero,2018-09-04 17:09:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6cb7577e862626b7daa7ad495a59a500da22cd50,6cb7577e862626b7daa7ad495a59a500da22cd50,"Merge pull request #3760 from freedomofpress/docs-080to090

Add 0.8.0 to 0.9.0 upgrade docs"
emkll,2018-09-04 15:38:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/beca7a263c3644ce95fcc2986688e331dbca658a,beca7a263c3644ce95fcc2986688e331dbca658a,"Merge pull request #3771 from freedomofpress/fix-test-pip-deps

Resolve deviation between dev/staging and prod"
redshiftzero,2018-09-04 05:05:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d64ece567d502ac10d75ecf3380bbcef146400c4,d64ece567d502ac10d75ecf3380bbcef146400c4,Update safety package
redshiftzero,2018-09-01 00:20:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed0cdc1e48fcb3520b7c1f1cac18e5858105119f,ed0cdc1e48fcb3520b7c1f1cac18e5858105119f,"Update test dependencies to Flask==1.0.2 and Werkzeug==0.14.1

During #3741, we updated Flask and Werkzeug in the securedrop-
app-code package dependencies. However, these same dependencies
were not updated in the test dependencies file, which include
Flask and Werkzeug (due to the pip-compile logic we have). This
meant that in dev, the older versions of these deps were used.
Even in staging, the older versions of these deps was used due
to the fact that we install the test dependencies directly
in the staging VMs _after_ the securedrop-app-code package is
installed."
eloquence,2018-09-01 00:22:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aab331cd34e913f73848985448f66079bc32aa02,aab331cd34e913f73848985448f66079bc32aa02,"Add pointers/clarifications to CI docs

Resolves #3769. The changes in a nutshell:

- Link to CircleCI reference for convenience
- Clarify `docs-` branch behavior
- Clarify divergence between local vs. CI staging VMs"
eloquence,2018-08-31 00:32:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5653adfe0699753262fc9f35cae6b1724cd422eb,5653adfe0699753262fc9f35cae6b1724cd422eb,"Add 0.8.0 to 0.9.0 upgrade docs

Resolves #3751. Alongside some fairly boilerplate text, this also
includes a note regarding the new apt persistence behavior in
Tails 3.9, and a reminder about the potential impact of database
migrations on the time it takes for the upgrade to complete."
redshiftzero,2018-08-31 19:07:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e64f53cc67060d595cd1c49102334d57037b48c3,e64f53cc67060d595cd1c49102334d57037b48c3,"Merge pull request #3766 from freedomofpress/builder-update-20180831

Update builder hash"
emkll,2018-08-31 18:12:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e7080fe80e3959cc1b62953e6ab1658810dd7fa2,e7080fe80e3959cc1b62953e6ab1658810dd7fa2,"Update builder hash

Latest image contains security updates"
emkll,2018-08-31 17:54:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6098d756be305ff5ad3e76e7cc1ae8d6c514f69f,6098d756be305ff5ad3e76e7cc1ae8d6c514f69f,"Merge pull request #3763 from kushaldas/fix_file_handling_3758

Fixes #3758 checks file value before accessing it"
kushaldas,2018-08-31 13:16:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4132731ce97cec5353c7c23bfda7f59c81e153b8,4132731ce97cec5353c7c23bfda7f59c81e153b8,"Fixes #3758 checks file value before accessing it

Now we check if there is any uploaded file in the request
object before accessing it. This was causing error if the
'fh' key was missing in the request.files."
redshiftzero,2018-08-30 23:25:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/91ef65a59c76436df0e1facaac2ec1e4e82cda71,91ef65a59c76436df0e1facaac2ec1e4e82cda71,"Merge pull request #3757 from freedomofpress/docs-tails-3.9-install-once

Docs - Tails apt persistence not needed for securedrop-admin"
redshiftzero,2018-08-30 22:42:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/efcc1f00a5fd9f830f10cc32149ceb449763f3be,efcc1f00a5fd9f830f10cc32149ceb449763f3be,CI: Don't attempt to combine junit test output on docs branches
emkll,2018-08-30 19:05:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b31bcb7d99a282aafed62bc7c64166f0687530d,8b31bcb7d99a282aafed62bc7c64166f0687530d,"Docs - Tails apt persistence not needed for securedrop-admin

Apt persistence, introduced in Tails 3.9, is not required for the current version of securedrop-admin. While enabling the feature should not affect or break the workstation, it has not yet been thoroughly tested."
abhn,2018-08-30 18:54:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/89645b4f78d5ebdc310d23aa69ce5ce4c3c65135,89645b4f78d5ebdc310d23aa69ce5ce4c3c65135,width of login-form class increased to 550px to accomodate long passphrases
redshiftzero,2018-08-30 16:25:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0aefd0b6211d7929a62697226aef1e2ad85e0000,0aefd0b6211d7929a62697226aef1e2ad85e0000,"Merge pull request #3755 from freedomofpress/update-builder-20180830

Update builder image"
emkll,2018-08-30 14:22:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b2af838b7180e59f7ab98bc88ea6201c0356454,1b2af838b7180e59f7ab98bc88ea6201c0356454,"Update builder image

Builder image needed security updates"
redshiftzero,2018-08-30 04:14:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68a6b80a6c9c01bcf2f98db81b0f6758db0fa62f,68a6b80a6c9c01bcf2f98db81b0f6758db0fa62f,"Merge pull request #3752 from freedomofpress/update-release-signing-key

Update securedrop-keyring package to update signing key expiration date"
redshiftzero,2018-08-29 23:18:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/037a901bb90aa05a8756d4fa6e87eab991bc6e44,037a901bb90aa05a8756d4fa6e87eab991bc6e44,"securedrop-keyring: Update expiration date of SecureDrop signing key

The release signing key will expire on 2018-10-05. This securedrop-
keyring package update includes an updated signing public key
with an expiration of 2019-10-03. The binary format in
install_files/securedrop-keyring/etc/apt/trusted.gpg.d/securedrop-keyring.gpg
was generated via:

gpg --no-default-keyring --keyring \
install_files/securedrop-keyring/etc/apt/trusted.gpg.d/securedrop-keyring.gpg \
--import \
install_files/ansible-base/roles/install-fpf-repo/files/fpf-signing-key.pub"
emkll,2018-08-28 21:54:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d75832bd2fb5f3efcc26368463bf6e969375c173,d75832bd2fb5f3efcc26368463bf6e969375c173,"Merge pull request #3747 from freedomofpress/more-realistic-qa-data

QA data loader: Set default multiplier at 25"
emkll,2018-08-28 19:42:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/95bedeeb7e603e84aba447be03ccb0f47679202e,95bedeeb7e603e84aba447be03ccb0f47679202e,"Merge pull request #3748 from kushaldas/sort_versions

Adds sorting of the released tags based on semver"
kushaldas,2018-08-28 12:28:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b8fb8de66dfb75c727ae4f1b1d86adc011667ca,3b8fb8de66dfb75c727ae4f1b1d86adc011667ca,"Adds sorting of the released tags based on semver

This is for
https://github.com/freedomofpress/securedrop/issues/3579"
redshiftzero,2018-08-27 23:12:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aaab0d0c76284bc3926747f2cd5b98d7b330fe22,aaab0d0c76284bc3926747f2cd5b98d7b330fe22,"QA data loader: Set default multiplier at 25

Using a multiplier of 100 in this script adds over 5000 sources to
the database, each with many submissions and replies. At the scale
that SecureDrop is currently at, e.g. without pagination on the
journalist interface, it is highly unlikely any organization has this
many sources saved. Even if they had a submission saved from every
day for the last several years, they'd still have less than 5000.

The large number of sources can also increase the chance that there
are timeouts on the journalist interface, due to the lack of pagination.

As such, we should make this more realistic, e.g. a multiplier of 25,
which adds 1250 sources to the database."
redshiftzero,2018-08-27 23:07:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c6e184763be0813555f4abf15c0566f49dce952,0c6e184763be0813555f4abf15c0566f49dce952,"Merge pull request #3737 from freedomofpress/3732-restore-db-migrations

Apply database migration on backup restore"
emkll,2018-08-27 20:03:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b06c6560692db1a84702e6161cf4177834864f62,b06c6560692db1a84702e6161cf4177834864f62,"Merge pull request #3736 from freedomofpress/i10n-tooltips

Journalist Interface: Localize tooltips"
emkll,2018-08-27 19:10:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/faa12d4bf861ca663484a880c8a8218aac77d515,faa12d4bf861ca663484a880c8a8218aac77d515,"Merge pull request #3741 from freedomofpress/update-flask

Update securedrop-app-code dependencies: Flask and Werkzeug"
redshiftzero,2018-08-24 19:46:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8609c248daf6bb5e816490d10eb6970eb9e860c1,8609c248daf6bb5e816490d10eb6970eb9e860c1,Journalist Interface: Localize tooltips
redshiftzero,2018-08-25 01:31:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71b4b9dfc035bdf89d2a37896aee13b567ec539a,71b4b9dfc035bdf89d2a37896aee13b567ec539a,"securedrop-app-code dependencies: Update Flask and Werkzeug

Latest Flask requires a more recent version of Werkzeug (>=0.14),
which we had pinned in c484401311460569e451d5706dc0041a09017790
due to test failures.

To mitigate CVE-2018-1000656, we need to update to a more recent
version of Flask, which thus also necessitates updating Werkzeug."
emkll,2018-08-24 21:17:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4ab1a3727f9e1430eae2ce3a9a99c0f18ad9837,d4ab1a3727f9e1430eae2ce3a9a99c0f18ad9837,"Merge pull request #3735 from freedomofpress/add-tooltips-replies

Journalist Interface: Add tooltip for reply read by source"
emkll,2018-08-24 19:49:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0f2ce057895c3c808cd504195e81f881436f845f,0f2ce057895c3c808cd504195e81f881436f845f,"Apply database migration on backup restore

Backups restored to a newer version of SecureDrop may introduce breakage
if a migration has occurred. dpkg-reconfigure will call the postinst
which will in turn apply all necessary alembic migrations to the
database."
redshiftzero,2018-08-24 19:46:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/64a58d83bdc343d9f25303488bb86ba6ab8e353b,64a58d83bdc343d9f25303488bb86ba6ab8e353b,Journalist Interface: Add tooltip for reply read by source
redshiftzero,2018-08-24 17:38:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f9220127b7abdebdae7c0efb3579d59eadf999fb,f9220127b7abdebdae7c0efb3579d59eadf999fb,"Merge pull request #3731 from freedomofpress/pytest-2-electric-boogaloo

Pytest 2 electric boogaloo"
heartsucker,2018-08-24 14:38:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc07997fa62041b48f03d58a1f9c5576c3eed013,bc07997fa62041b48f03d58a1f9c5576c3eed013,pytest fixtures: test_delete_source_deletes_docs_on_disk
heartsucker,2018-08-24 14:36:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a89c3cd0de6f6efb005bf04a439681abbd2199af,a89c3cd0de6f6efb005bf04a439681abbd2199af,pytest fixtures: test_delete_source_deletes_source_key
heartsucker,2018-08-24 14:22:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a7a088076a74dfcd33520a40ca9655c00afbe4e6,a7a088076a74dfcd33520a40ca9655c00afbe4e6,pytest fixtures: test_delete_collection_updates_db
heartsucker,2018-08-24 14:14:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc81520ad5ca6777bef1f0df3e83c7e82abe82a5,fc81520ad5ca6777bef1f0df3e83c7e82abe82a5,pytest fixtures: test_delete_source_deletes_submissions
heartsucker,2018-08-24 14:14:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bcb6211d350c9b35799db72619f6131edc37ba0c,bcb6211d350c9b35799db72619f6131edc37ba0c,"added ""id"" to test_source fixture for convenience"
heartsucker,2018-08-24 13:40:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/50e845e8d6e621d4c68fa6c05056b97311158cde,50e845e8d6e621d4c68fa6c05056b97311158cde,pytest fixtures: test_edit_hotp
heartsucker,2018-08-24 13:39:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7080b1a2bca669a3932610a48dab3ce07eb2ca29,7080b1a2bca669a3932610a48dab3ce07eb2ca29,pytest fixtures: test_regenerate_totp
heartsucker,2018-08-24 13:34:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c9e35cb75b4ec9dc38421c4ed69ba573964127d4,c9e35cb75b4ec9dc38421c4ed69ba573964127d4,pytest fixtures: test_valid_user_password_change
heartsucker,2018-08-24 13:27:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e64291a378efa24cb31f95026d91d40802a59e1,0e64291a378efa24cb31f95026d91d40802a59e1,pytest fixtures: test_too_long_user_password_change
redshiftzero,2018-08-23 22:08:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9c0c9f30cd143619f84d9f43d795f36250b416e8,9c0c9f30cd143619f84d9f43d795f36250b416e8,"Merge pull request #3730 from freedomofpress/update-builder-20180823

Update builder hash"
emkll,2018-08-23 16:32:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c51fdbdf0fdd8aeaaac211e92221be3fa49dde9,7c51fdbdf0fdd8aeaaac211e92221be3fa49dde9,"Update builder hash

Security updates for builder packages"
redshiftzero,2018-08-21 16:31:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4b5d7da489cd5b50c149dd08b09a4f685279219,d4b5d7da489cd5b50c149dd08b09a4f685279219,"Merge pull request #3700 from freedomofpress/reply-api-endpoints

Add API endpoints for replies"
redshiftzero,2018-08-20 23:05:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/62d544020bb39987e46c79c8074704d044f50bcf,62d544020bb39987e46c79c8074704d044f50bcf,"Merge pull request #3717 from pierwill/docs-edit-ci-test

edit testing_continuous_integration.rst"
redshiftzero,2018-08-20 15:47:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8cef522d8be07561ab1737ce6c1a256f525c01b2,8cef522d8be07561ab1737ce6c1a256f525c01b2,"Merge pull request #3710 from pierwill/docs-edit-backup

edit backup_and_restore.rst"
pierwill,2018-08-15 21:14:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/815786850f8ccaadafafc9ab4178cf6fdbf0d751,815786850f8ccaadafafc9ab4178cf6fdbf0d751,"Edit backup_and_restore.rst

- make various changes for style and clarity throughout
- change the title this topic guide to ""Back Up, Restore, Migrate"""
redshiftzero,2018-08-06 22:24:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20fdff320a6ebe257cace3026f10040c6757df1f,20fdff320a6ebe257cace3026f10040c6757df1f,API documentation update after reply refactor
redshiftzero,2018-08-14 21:22:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0eeb821b8f6f34d84b6a1003cbacf45d1f87edaf,0eeb821b8f6f34d84b6a1003cbacf45d1f87edaf,Journalist API: Expose journalist UUID in user endpoint
redshiftzero,2018-08-14 20:59:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/05bc8b3da33a3faa915d6dbe400e4372c0645697,05bc8b3da33a3faa915d6dbe400e4372c0645697,"Database migrations: Fix bind_params

None of the parameters are user supplied, but we should use
bind_params just in case this code gets copy/pasted somewhere"
redshiftzero,2018-08-13 22:26:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0aea5a57e30db7ef45595b9d272c42250abd2032,0aea5a57e30db7ef45595b9d272c42250abd2032,"Journalist API: Provide journalist UUID in API responses

Now that the conversation history is exposed to journalists, we
need some way for clients to keep track of _which_ journalists
have sent a particular reply to a given source. While this
information is tracked via the journalist_id associated with a
given reply in the database on the server, this also needs to be
tracked on the client side. We cannot do this via the username
as this can be changed. Instead, we need a UUID per journalist which
is mapped to the username, and expose that UUID using the API.

Using this UUID, we can track which journalist has responded to a
given source. By providing both the journalist username and UUID
in API responses, we can also update the username of each journalist
server-side if it is changed on the server."
redshiftzero,2018-08-07 00:58:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba61d2174d4526cdaf11711cede0600edcd67c55,ba61d2174d4526cdaf11711cede0600edcd67c55,Journalist API: Enable journalists to download individual replies
redshiftzero,2018-08-07 00:34:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87f505351cdcd4e60a586e8d909d31747fe8ac34,87f505351cdcd4e60a586e8d909d31747fe8ac34,Journalist API: Enable journalists to delete individual replies
redshiftzero,2018-08-06 22:26:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2c19d20782d4ca61e3d56616b5c30ea4ae6bbbe8,2c19d20782d4ca61e3d56616b5c30ea4ae6bbbe8,"Journalist API: Add GET reply endpoints and unit tests

Note that this also replaces the POST to /reply with a POST
to /replies for consistency"
pierwill,2018-08-16 16:07:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/05fbf5ea42077da6307626760341dd66c7188432,05fbf5ea42077da6307626760341dd66c7188432,"Edit testing_continuous_integration.rst

- temporarily generalize references to relevant files (currently out of date?)
- rewrite one sentence to fix pronoun reference
- fix vertical whitespace"
redshiftzero,2018-08-06 22:25:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c10c57856786de9b4100c1cc42bb7c9e9be945a,7c10c57856786de9b4100c1cc42bb7c9e9be945a,Development data: Also add test replies
redshiftzero,2018-08-06 21:34:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0962db087ee0f53069508f24429a12228ffa8683,0962db087ee0f53069508f24429a12228ffa8683,"Journalist API: 404 if source UUID is invalid for a submission

It is incorrect functionality for the API to return a valid
response if the submission UUID is correct but the source UUID
is not. We should 404 if either is incorrect."
redshiftzero,2018-08-06 21:32:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eeef8a30e160fbcafa52bbd7d9ee3b749cdb47b0,eeef8a30e160fbcafa52bbd7d9ee3b749cdb47b0,Add pytest fixture for a source with replies and submissions
redshiftzero,2018-08-06 21:14:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f25150561c5fec8e764b1caf3e7268d653c77ca,9f25150561c5fec8e764b1caf3e7268d653c77ca,"Add reply UUID column, Alembic revision and migration tests"
msheiny,2018-08-09 17:46:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/65f7b3fb7164d91eb8aeac63abeb51ac30fb0b69,65f7b3fb7164d91eb8aeac63abeb51ac30fb0b69,"Merge pull request #3703 from freedomofpress/3205-molecule-verify-step

Integrates testinfra tests with Molecule ""verify"" action"
conorsch,2018-08-09 16:41:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0d8bee41509583e9e7268ab04f512eacb709095,a0d8bee41509583e9e7268ab04f512eacb709095,"Moves junit combine script into scripts dir

It should have been here all along. Moving it, however, reveals a bandit
violation. Rather than patch it, let's permit the violation, since the
impact is low (script runs in CI)."
msheiny,2018-08-09 14:27:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d280b117668b2ee87ea26fe1ce25982dfa25d3cc,d280b117668b2ee87ea26fe1ce25982dfa25d3cc,"Ignore *.log files

Specifically added to ignore pytestdebug.log files but I can't think of
any other .log files we want to hold onto. Did a preliminary search to
ensure I wasnt negatively affecting existing files."
conorsch,2018-08-07 20:45:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c4f37c4979ae75b23689286500a5e8973886c768,c4f37c4979ae75b23689286500a5e8973886c768,"Makes testinfra SSH calls more resilient

The config test suite passes locally against the AWS scenario reliably;
in CI, however, there are sporadic connectivity issues. Let's instruct
testinfra to retry failed connections, to make sure the tests are
running well."
conorsch,2018-08-06 04:02:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68614482772697249dfed73c9b5a791ba03147d0,68614482772697249dfed73c9b5a791ba03147d0,"Standardizes the Molecule test config a bit

These scenarios aren't exactly DRY, so there's a fair bit of duplication
at play here. The Molecule project has open issues discussing removing
duplication between scenarios. By culling the symlink to the staging
playbook, we reduce a bit of redundancy, but there's still lots of
copypasta.

It's *not* worth generating these configs via YAML at present, since
that would introduce more complexity for future maintainers. Would
rather lean on upstream and wait for Molecule to support direct reuse of
scenario configs."
conorsch,2018-08-03 01:09:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09a485722dda2712764cc77c44469e14b2dc619b,09a485722dda2712764cc77c44469e14b2dc619b,"Uses Molecule verify step for AWS scenario

Begins the process of overriding the env vars for staging.
Includes a small change to the tor-apt test, for Python2 compatibility
(otherwise the test can't be run locally).

More work required on balancing the side-effect logic. We'll still need
side-effect to run the app tests, we can run the verify step after
side-effect.

Includes some flake8 linting, since via Molecule, we're now linting the
entire testinfra directory.

Updates JUnit test file handling

The paths to the helper scripts changed a bit, so updating them here. We
had some skipped logic in the side-effect which has no been removed, so
we don't have to maintain it any longer.

Moved the junit logic out of the side-effect since the testinfra tests
are run after the side-effect (and therefore the XML file wouldn't have
existed yet)."
redshiftzero,2018-08-08 16:56:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ae97c3436886c2f04923ee63e5979beabc1b655,4ae97c3436886c2f04923ee63e5979beabc1b655,"Merge pull request #3690 from freedomofpress/reply-refactor-convo-history

Preserve conversation history only for journalists"
conorsch,2018-08-02 19:31:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f83d056fdacf87a447f4f215e8e99a8060ff1b1,2f83d056fdacf87a447f4f215e8e99a8060ff1b1,"Skips all OSSEC functional tests

These tests were failing rather regularly during local development on
the testinfra reorg. After investigation, turns out they were being
inadvertently skipped in CI, so I was debugging tests that never worked
reliably.

Opened a separate issue to fix those tests, skipping for now to keep
moving."
conorsch,2018-07-31 23:37:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc0ea08769e7b29612bbb639b55f30bf820a1d92,bc0ea08769e7b29612bbb639b55f30bf820a1d92,"Renames testinfra files for uniqueness

Pytest expects the collected test files to be uniquely named, in terms
of basename. We didn't encounter this before because we were running the
config tests sequentially, against each host, so the collection was not
aggregated. When trying to run against a combined hostgroup, the
following error is shown:

    ==================================== ERRORS ====================================
    ____________ ERROR collecting testinfra/staging/mon/test_network.py ____________
    import file mismatch:
    imported module 'test_network' has this __file__ attribute:
      /home/conor/freedomofpress/securedrop/molecule/testinfra/staging/app/test_network.py
    which is not the same as the test file we want to collect:
      /home/conor/freedomofpress/securedrop/molecule/testinfra/staging/mon/test_network.py
    HINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules
    =============================== warnings summary ===============================

Renaming the test files for unique basenames resolves, and is also more explicit."
conorsch,2018-07-31 23:21:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c59163e1a2691688a3206dc83f56370154ea7a2,0c59163e1a2691688a3206dc83f56370154ea7a2,"Concatenates testinfra staging vars

We're eliminating use of the TESTINFRA_TARGET_HOST env var for importing
vars. The vast majority of staging vars were intended as overrides
vis-a-vis prod; not between app and mon. We're not currently testing
prod, so that's an unnecessary optimization.

The staging.yml file is concatenated from the {app,mon}-staging.yml
files, with a few exceptions:

  * removed unused iptables ruleset (Jinja2 templates are used)
  * removed mention of SSH tor service (untested in mon-staging)"
conorsch,2018-07-31 22:02:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e2e7feda8f9812a567719b6ba54e7e600c6fa61,3e2e7feda8f9812a567719b6ba54e7e600c6fa61,"Implements host targeting in testinfra tests

Using the `testinfra_hosts` pragma for multihost testing, taken straight
out of the testinfra docs [0]. Rather than run the test suites
sequentially against app and mon, we can run them at the same time, and
trust pytest to run correct per-hosts tests, based on the targeting.

Accordingly, removes occurrences of the SECUREDROP_TESTINFRA_TARGET_HOST
env var throughout the tests, since we're no longer depending on that
env var for the tests to work.

[0] http://testinfra.readthedocs.io/en/latest/invocation.html#test-multiples-hosts"
conorsch,2018-07-31 21:59:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b09b912d5d70228bc1a849b2a06fe9d0bef07074,b09b912d5d70228bc1a849b2a06fe9d0bef07074,"Updates testinfra dir path in libvirt Molecule config

Uses a shared directory that's accessible by all other Molecule
scenarios.

Using the 'converge' playbook override, rather than the symlink, because
the ""ossec"" role was not running otherwise. I cannot explain why;
timeboxed the solution, and this is more straightforward anyway.

Parallelizes the testinfra test invocation. Made possible since we're
running against both hosts concurrently now, so the combined test run
goes from 10m to 3.5m."
conorsch,2018-07-31 21:49:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/472b8db389becde40fc7c71347f1c2a5a4547784,472b8db389becde40fc7c71347f1c2a5a4547784,"Moves testinfra staging tests into molecule/

Using a shared test directory, outside of a single scenario, so that the
same staging config tests can be referenced by multiple scenarios (we
already have virtualbox, libvirt, and AWS staging scenarios).

This is a straightforward move operation, with two exceptions:

  * updates some of the hardcoded relative paths in the OSSEC tests
  * removes unused (always-skipped) ansible vars tests

Other than that, couldn't be simpler."
redshiftzero,2018-08-08 00:53:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2b4486f2ea36bfa2cb95bb5179bb0289bead18fa,2b4486f2ea36bfa2cb95bb5179bb0289bead18fa,Docs: Update journalist guide for new reply behavior
conorsch,2018-08-06 22:45:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39c0a26dc12ddd89801410e28ee3177dcfc80e72,39c0a26dc12ddd89801410e28ee3177dcfc80e72,"Merge pull request #3670 from zenmonkeykstop/docs-libvirt-setup

added instructions on using libvirt Vagrant provider in Ubuntu & Debian"
conorsch,2018-08-06 19:30:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/28458652789d14eaa87c9bdabdaa67630c8730db,28458652789d14eaa87c9bdabdaa67630c8730db,"Consolidates libvirt setup instructions

There was a bit of duplication between Ubuntu 16.04 and Debian 9 setup
instructions. Reorganized the libvirt docs a bit to isolate the
differences, the group the similarities in the same flow."
conorsch,2018-08-06 18:55:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/18a3ca5541dc3c47cd7ca02cd89155768ea130d5,18a3ca5541dc3c47cd7ca02cd89155768ea130d5,"Removes trailing whitespace in code docs

The libvirt install instructions had lots of trailing whitespace.
Removing those in this commit and nothing more."
conorsch,2018-08-06 18:44:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cefcf986562409d875ceb1a9a622137962f38062,cefcf986562409d875ceb1a9a622137962f38062,"Defers Vagrant installation to dev setup docs

We don't need to re-recommend installation of Vagrant, a simple reminder
and cross-link will suffice. Let's keep the docs dry.

Adjusts the `ref`s to point appropriately. Also fixes a small typo in
the staging vars filename, which I noticed while editing."
conorsch,2018-08-06 17:39:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aab0235c0145a5cd1a51178c974627a783af73c7,aab0235c0145a5cd1a51178c974627a783af73c7,"Removes mention of shared vagrant directories

We don't use Vagrant shared directories anywhere. They're disabled in
staging and prod. For the Dev VM, we did previously use shared
directories, but the Dev VM has been removed in favor of the
containerized dev env."
redshiftzero,2018-08-06 17:25:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87bacc1b52730612e35758f04681ea276924ce6a,87bacc1b52730612e35758f04681ea276924ce6a,"Merge pull request #3679 from freedomofpress/bump-cryptography-admin

Bump pyca/cryptography to 2.3 for admin workstation"
emkll,2018-08-03 18:28:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd94f48d5f53fc61189a4736db2d39941ed76688,cd94f48d5f53fc61189a4736db2d39941ed76688,"Merge pull request #3693 from kushaldas/localhost_portmapping

Maps docker ports only to localhost"
redshiftzero,2018-08-03 01:35:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/67acea43636401eb884698e1d391f2308fb61422,67acea43636401eb884698e1d391f2308fb61422,"Integration tests: Remove now incorrect assert

Files will still exist after source deletes due to reply refactor."
redshiftzero,2018-08-03 00:59:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cfa090d3c4607f79e288b697a89923a8f3c183e7,cfa090d3c4607f79e288b697a89923a8f3c183e7,Journalist Interface: Display checkmark on reply if read by source
redshiftzero,2018-08-03 00:35:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b49c8bc7a8096b0604db45df5d956a4085d8d2db,b49c8bc7a8096b0604db45df5d956a4085d8d2db,Add source interface unit tests for new reply deletion flow
redshiftzero,2018-08-03 00:15:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f621d40925fc3f89d9904f3b56185104b00f9e50,f621d40925fc3f89d9904f3b56185104b00f9e50,Source Interface: batch_delete() should delete from source inbox only
redshiftzero,2018-08-02 00:09:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5dded723928d2c94fb013dcfbd14b24b68383fa6,5dded723928d2c94fb013dcfbd14b24b68383fa6,"Add deleted_by_source column, migration, migration tests"
redshiftzero,2018-08-02 00:10:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e3fb9d451350f8e991cda85905cf4a9c7ec74ee,0e3fb9d451350f8e991cda85905cf4a9c7ec74ee,"Source deletion: Remove from source inbox but not journalist inbox

In order to minimize the impact of a source codename being
compromised, we should not encourage sources to delete replies.
That said, in order to preserve conversation history in the
journalist inbox, we should keep replies in the journalist inbox
until they are deleted there also."
redshiftzero,2018-08-03 17:53:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a8a43a9880827e474c6045fd9a564cc46961f7e,1a8a43a9880827e474c6045fd9a564cc46961f7e,"Merge pull request #3688 from freedomofpress/3674-journalist-reply-download

Modify template to allow journalist to download own replies"
emkll,2018-08-02 20:51:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd7c9c6bc24a7372147e3bf5b381bae8882e9a0e,bd7c9c6bc24a7372147e3bf5b381bae8882e9a0e,"Do not mark reply as read when fetching journalist reply

While repurposing get_single_submission to retrieve journalist replies, an exception is raised when attempting to mark it as read.
Method name has been changed to reflect it's purpose and journalist replies.
Method will no longer attempt to mark journalist replies as read."
kushaldas,2018-08-03 13:58:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9ff43908988b24b4aeef57988a5f8a288f44492d,9ff43908988b24b4aeef57988a5f8a288f44492d,"Maps docker ports only to localhost

We now map the development container ports only to the localhost.
Otherwise we are in risk of exposing the container to the external
network. Fixes: #3686"
emkll,2018-08-02 14:52:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dbe04319d132297b8a64f52bac8009505ac3a474,dbe04319d132297b8a64f52bac8009505ac3a474,"Modify template to allow journalist to download replies

Journalists can now download their replies encrypted to the submission
key. They are automatically marked as read in the interface and have a
reply icon to avoid confusion with sources messages and unread count."
redshiftzero,2018-08-01 22:32:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a761f5b20c46ae643ed37bf4c2d1c1210c70f105,a761f5b20c46ae643ed37bf4c2d1c1210c70f105,"Merge pull request #3681 from freedomofpress/3680-fix-create-dev-data

Set last_updated for sources in create_dev_data.py"
emkll,2018-08-01 18:15:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f634bf272d99ab9a77f2a0e1ba1ee3f11cf8ce0,8f634bf272d99ab9a77f2a0e1ba1ee3f11cf8ce0,"Set last_updated for sources in create_dev_data.py

Due to changes introduced in ee8e1bf7efba0e9bbf4fc6532a2653854298a11a
and the way that dev env data is created in the container,
source.last_updated was null, throwing an error 500. Setting
source.last_updated should solve this issue."
emkll,2018-07-31 20:49:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b83f5c85c0d05fb58b22268998c30103e31c0165,b83f5c85c0d05fb58b22268998c30103e31c0165,"Bump cryptography to 2.3 for admin workstation

Versions of cryptography prior to 2.3 have a flaw in the implementation of AES-GCM (https://nvd.nist.gov/vuln/detail/CVE-2018-10903). While ansible/paramiko does not make use of AES-GCM let's still update the dependency."
redshiftzero,2018-08-01 20:43:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1111d4007a2457acf3bf81d9447e19afd59cc71a,1111d4007a2457acf3bf81d9447e19afd59cc71a,"Merge pull request #3683 from freedomofpress/ignore-safety-id-36361

Temporarily ignore safety check for pyca/cryptography"
emkll,2018-08-01 15:38:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ba90dac7fd76cd97f58ef48f629b8931378689e,6ba90dac7fd76cd97f58ef48f629b8931378689e,"Temporarily ignore safety check for pyca/cryptography

This ignores the safety check failure for CVE-2018-10903. As the flaw is in AES-GCM (SecureDrop app server does not make use of AES-GCM), and that updating the dependency may require updating to Xenial or potentially introducing further risk, let's set safety to (temporarily) ignore this vulnerability. See issue #3677 for more information."
zenmonkeykstop,2018-07-31 18:50:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2dea0bcb7cc1bb617d766723995171c93e82528a,2dea0bcb7cc1bb617d766723995171c93e82528a,updated to reflect PR feedback
zenmonkeykstop,2018-07-31 16:08:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/48a89bc3d9624ca3ef4f342009fd9eae87fb77a6,48a89bc3d9624ca3ef4f342009fd9eae87fb77a6,added instructions on using libvirt Vagrant provider in Ubuntu and Debian Stretch
heartsucker,2018-07-31 12:19:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/785462187a572646096a62da252b35e470ef6f23,785462187a572646096a62da252b35e470ef6f23,"Merge pull request #3667 from freedomofpress/bugfix-3666-api-star

Fix source is_starred in journalist API"
redshiftzero,2018-07-31 04:22:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/645db9956e7bd3f5f465a367e7132f55acc687ed,645db9956e7bd3f5f465a367e7132f55acc687ed,"Merge pull request #3655 from edenemmanuel/docs-3403-clarify-setup-dev

Clarify and update dev environment setup docs"
kstohr,2018-05-15 22:27:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3001ca23e4eb7daa9cbe173f0d19ee9379519a25,3001ca23e4eb7daa9cbe173f0d19ee9379519a25,added ref to python 2/3 with proposed wording change back into doc
kstohr,2018-05-15 22:04:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d751be8304323d115b119fa7edc5d42a67a6c193,d751be8304323d115b119fa7edc5d42a67a6c193,"removed python interpreter, cd to securedrop refs"
kstohr,2018-05-14 21:44:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd9c99a5090b41a0b7ee425b9f04606608366174,cd9c99a5090b41a0b7ee425b9f04606608366174,updated setup_development doc
redshiftzero,2018-07-30 20:15:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d5bb54bd5fabeacaefaccd3d0bf8c9e36f26f6c9,d5bb54bd5fabeacaefaccd3d0bf8c9e36f26f6c9,"Merge pull request #3506 from freedomofpress/passlib

Added passlib for more flexible password hashing"
heartsucker,2018-07-28 16:21:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1874ce79573fea0f53516149ad8a3a0d95c6e3c8,1874ce79573fea0f53516149ad8a3a0d95c6e3c8,better schema comparison
heartsucker,2018-07-28 16:13:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/543ec3f36bd7968f3e93e46fcfb0702ee48bdafd,543ec3f36bd7968f3e93e46fcfb0702ee48bdafd,updated test case and added uuid column
heartsucker,2018-07-28 16:03:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0668ae2f47b85b69269e7840a1f86a570c5461c9,0668ae2f47b85b69269e7840a1f86a570c5461c9,retarget down revision
heartsucker,2018-06-20 12:14:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e901b4d5c1095c34f135603b2603f246154f9749,e901b4d5c1095c34f135603b2603f246154f9749,added libpython2.7-dev to ansible apt dependencies
heartsucker,2018-06-10 07:15:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4da3e08d3f7d2ae86fff7e195a09e345b9c0225c,4da3e08d3f7d2ae86fff7e195a09e345b9c0225c,tests for passphrase migration
heartsucker,2018-06-09 07:28:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dfa7482aa0b6b53947538724af0e1b5193937068,dfa7482aa0b6b53947538724af0e1b5193937068,added migration-on-login to new passphrase hashing method
heartsucker,2018-06-08 16:41:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/82eee17c83f2f9b895ce22a222b834d60449b4bc,82eee17c83f2f9b895ce22a222b834d60449b4bc,updated qa loader to account for legacy password cases
heartsucker,2018-06-08 16:38:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58e4cb8f03cf420a8b9cac90060abee3e1a199a8,58e4cb8f03cf420a8b9cac90060abee3e1a199a8,added libpython2.7-dev to dependencies
heartsucker,2018-06-08 16:16:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/966ff62fa1026d9001cb6b43916db39fa810b217,966ff62fa1026d9001cb6b43916db39fa810b217,added db migration and tests for passphrase_hash
heartsucker,2018-06-08 15:01:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a2b22ab9dbbc4388e72ee83667c9b92f74eeb30e,a2b22ab9dbbc4388e72ee83667c9b92f74eeb30e,"remove special cases of password handling in dev env

this removes additional code paths that we shouldn't have to maintain"
heartsucker,2018-06-08 14:33:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dc9a31e423ac54703c7234346a2f797af798a1f2,dc9a31e423ac54703c7234346a2f797af798a1f2,added argon2 support for password setting/verifying
heartsucker,2018-06-08 12:38:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a75018ced91e56acd620e74f08403dc8407b7478,a75018ced91e56acd620e74f08403dc8407b7478,"remove scrypt param injection

nothing breaks here, so we know this is safe to remove"
heartsucker,2018-06-08 12:10:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6bd99607b931de95f98849a985167e01f54770ab,6bd99607b931de95f98849a985167e01f54770ab,added passlib and argon2_cffi as app dependencies
conorsch,2018-07-27 22:55:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/300915d8a2be8ed936f0de2359580357824aabea,300915d8a2be8ed936f0de2359580357824aabea,"Merge pull request #3662 from freedomofpress/3646-bump-kernels-to-4.4.144

Bump grsecurity kernel to 4.4.144"
redshiftzero,2018-07-27 20:09:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aae71dfad807ce710c0a194497b5facb8c223075,aae71dfad807ce710c0a194497b5facb8c223075,"Journalist API: Fix defect #3666 - incorrect is_starred result

Note that this if statement logic works even when self.star is None
due to Python's `and` being a short-circuit operator [0]. So execution
will stop if self.star is None and the interpreter will not evaluate
self.star.starred, so no AttributeError will be raised.

[0] https://docs.python.org/2/library/stdtypes.html#boolean-operations-and-or-not"
redshiftzero,2018-07-27 19:50:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/92a4964a872522b7e39bcd265fd21f6aac99445c,92a4964a872522b7e39bcd265fd21f6aac99445c,"Journalist API tests: Add asserts for is_starred status

Regression test for defect #3666"
redshiftzero,2018-07-27 15:11:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/550da6a4a3ab649b9bd4d0bc8bc2be4740daf700,550da6a4a3ab649b9bd4d0bc8bc2be4740daf700,"Merge pull request #3652 from freedomofpress/journalist-api-json-validation

Journalist API - Validate json before routing request"
conorsch,2018-07-26 22:20:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb3374e6ebc5c113b2fa27c4692957a314f59597,fb3374e6ebc5c113b2fa27c4692957a314f59597,"Merge pull request #3644 from freedomofpress/3208-vagrantfile-to-molecule

Converts Vagrantfile to Molecule for staging"
emkll,2018-07-25 22:20:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/370aa54bf255cbbb112b95e2accb53064f05f2a8,370aa54bf255cbbb112b95e2accb53064f05f2a8,"Merge pull request #3658 from freedomofpress/3657-update-that-build-container

Updates builder container image hash"
emkll,2018-07-24 15:10:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bda5ca79a584423c425f932ad58bfa2af9d00a2d,bda5ca79a584423c425f932ad58bfa2af9d00a2d,"Validate JSON before request

POST requests with malformed (and sometimes empty) JSON would return error 500. Using `before_request`, we can validate the request before passing them to the endpoint.

Empty post requests are allowed for starring/flagging replies. Otherwise,the JSON payload is validated."
conorsch,2018-07-25 20:16:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d994ff15fb47e995c240ec8c5488594d3636a03a,d994ff15fb47e995c240ec8c5488594d3636a03a,"Updates builder container image hash

Closes #3657."
emkll,2018-07-25 20:08:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bdc6df6582169dc8d6a9f376729185325665adf0,bdc6df6582169dc8d6a9f376729185325665adf0,"Bump grsecurity kernel to 4.4.144

* Adds linux-{firmware, image}-4.4.144 to list of dependencies for
securedrop-grsec metapackage.
* Remove linux-image-4.4.115."
conorsch,2018-07-25 18:31:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7dbd5ef4b7c9d3a564074a5d2a49363a20196606,7dbd5ef4b7c9d3a564074a5d2a49363a20196606,"Merge pull request #3654 from freedomofpress/3653-fix-last_updated

Return current datetime if last_updated is None"
emkll,2018-07-24 21:29:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a5825038f9b95e4d2800ef5caf90a23808a5de8,7a5825038f9b95e4d2800ef5caf90a23808a5de8,"Return current datetime if last_updated is None

Due to recent changes in the model, last_updated is not set when the
source object is created. To avoid returning a null last_updated time,
the to_json method will now return the current time if the time is null."
emkll,2018-07-24 17:16:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/31ddec88c03bc6ef3f8ef24e8cc1798b4c4e67be,31ddec88c03bc6ef3f8ef24e8cc1798b4c4e67be,"Merge pull request #3619 from freedomofpress/journalist-api-0.9.0

Add journalist interface API"
conorsch,2018-07-24 15:33:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f53c755dc90c3b466dda5e32ee625ceaa43ff9a4,f53c755dc90c3b466dda5e32ee625ceaa43ff9a4,"Creates ""make staging"" target

A bit of automagic. Defaults to ""virtualbox"". If Qubes is found (via env
vars populated beginning with `QUBES_`,), then the Qubes staging logic
is used. If non-Qubes Linux is detected, defaults to VirtualBox.

In all cases, respects the env var `VAGRANT_DEFAULT_PROVIDER`."
conorsch,2018-07-24 15:51:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5a12ef1a9b6290ea241972d6d9ef0372d11d86a2,5a12ef1a9b6290ea241972d6d9ef0372d11d86a2,"Creates new Molecule scenario: virtualbox-staging

The default scenario for using the staging environment, since it's a
safe bet. All Mac users (popular at hackathons) use VirtualBox if
they're running the staging environment (the combination of containerized dev env
and AWS staging in CI has mostly supplanted direct use of staging envs
by first-time contributors)."
conorsch,2018-07-19 21:43:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/976c85ac9bb8f3c3611a1976a2d2d0c793c40cc7,976c85ac9bb8f3c3611a1976a2d2d0c793c40cc7,"Prunes libvirt staging override vars

Trimming down what's necessary. We only care about the network
interface that is used in the iptables firewall rules. Without this
override, the iptables rules will authorized SSH connections for eth1,
which is used strictly for inter-VM communication (for OSSEC), blocking
connections from the VM host (i.e. developer workstation)."
msheiny,2018-07-18 22:31:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c29e14141b276b6499f8e2f01489b014c9195c64,c29e14141b276b6499f8e2f01489b014c9195c64,"Ensure staging args make it into playbook

Without these, the iptables rules specifically were causing the system
to fall over post boot."
conorsch,2018-07-16 20:38:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f90f1141d6358ec57cc8da37a3ba9598c0c7f84,3f90f1141d6358ec57cc8da37a3ba9598c0c7f84,"Converts reboot task to role

In the AWS staging Molecule scenario, we've already implemented custom
reboot logic. For the libvirt-staging scenario, we'd have to do so as
well, given that the relative-path import logic for the reboot task list
only honors the symlink *source* for playbook, rather than the target.

Ansible handles roles much better, with ANSIBLE_ROLE_PATH, so converting
the task logic to a full role resolves import errors when running the
staging playbook in different Molecule scenarios."
conorsch,2018-07-16 18:19:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a3a123898dd63815091a5a26dc0088a66bad804e,a3a123898dd63815091a5a26dc0088a66bad804e,"Creates new Molecule scenario: libvirt-staging

Intended to replace the Vagrantfile-based staging environment.
As a downside of the move from Vagrant to Molecule, we'll lose the
ability to detect automatically a suitable provider for the Vagrant
driver. That's acceptable: users of libvirt already set
VAGRANT_DEFAULT_PROVIDER=libvirt to override the virtualbox default used
by Vagrant.

The major benefit of the Molecule transition is that it opens up testing
against multiple *platforms*, e.g. Trusty and Xenial, in the near
future. Ideally we can also cut the wrapper logic in
`testinfra/test.py`, since Molecule integrated with Testinfra just fine
by itself."
conorsch,2018-07-24 15:19:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ced8ea6dc5df688b517b1a3f5e40b584953d0452,ced8ea6dc5df688b517b1a3f5e40b584953d0452,"Merge pull request #3650 from freedomofpress/UpgradeBoxUpdate

Upgrade box update"
heartsucker,2018-07-21 13:04:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f850725862ba78745854f96cfd7811c4fd50151,8f850725862ba78745854f96cfd7811c4fd50151,"Merge pull request #3647 from zenmonkeykstop/docs_aths_warning

added warnings stressing the importance of protecting ATHS files."
heartsucker,2018-07-21 13:02:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99d52dea839e62c50adfe96465d737224ec743f6,99d52dea839e62c50adfe96465d737224ec743f6,"Merge pull request #3648 from dachary/wip-3635-journalist-notification

source: do not set last_updated default to now"
msheiny,2018-07-20 21:32:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b710f9f84cd747737108e68ad3f5485f7330edc,7b710f9f84cd747737108e68ad3f5485f7330edc,Bump Upgrade test logic to use 0.8
msheiny,2018-07-20 19:51:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/213b83f6021fdf3479d62f99e671f8ffc5edee6a,213b83f6021fdf3479d62f99e671f8ffc5edee6a,Update base upgrade test box to 0.8 release
msheiny,2018-07-20 19:50:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/151aa2de364d9801de386850d0033e48889a651e,151aa2de364d9801de386850d0033e48889a651e,"Fix repo pulling from apt-test

Without this change, staging is coming up pointing to the apt-test repo
which is not what we want here."
zenmonkeykstop,2018-07-20 19:04:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a82e87158d5a5a2787c81abe2aff1e8550091d6e,a82e87158d5a5a2787c81abe2aff1e8550091d6e,Updated language to as per @heartsucker's recommendation.
zenmonkeykstop,2018-07-19 20:00:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27e4144ea584a6ea69549de387da597b18095901,27e4144ea584a6ea69549de387da597b18095901,added warnings stressing the importance of protecting ATHS files.
redshiftzero,2018-07-18 23:26:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e42c7f1844aaebfbf93904d8345ba5b6fae7a654,e42c7f1844aaebfbf93904d8345ba5b6fae7a654,"Journalist API: Only show pending=False sources

Sources should only be exposed to journalists when they
have submitted something"
redshiftzero,2018-07-18 19:32:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/10e32435714e5595df09146fcaf9baa0f510932a,10e32435714e5595df09146fcaf9baa0f510932a,"Merge pull request #3645 from freedomofpress/docs-coc

Added SD community CoC"
heartsucker,2018-07-18 18:39:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0fbb367ddf2ea098b0211586c51846fc3512c47f,0fbb367ddf2ea098b0211586c51846fc3512c47f,added community coc
redshiftzero,2018-07-18 00:28:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/57dd18183307434f67f88ba590800454c0f6e910,57dd18183307434f67f88ba590800454c0f6e910,"Journalist API tests: Add submissions fixture

I'm intentionally not using test_source in the test_submissions
fixture as it is a bit messy/spaghetti for saving 1 LOC"
redshiftzero,2018-07-18 00:16:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b852b0e3e09550f6e3d7309789735577caafab4,1b852b0e3e09550f6e3d7309789735577caafab4,Indicate source.public_key setter and deleter are not implemented
redshiftzero,2018-07-17 22:49:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dc21b3c080f1e7b39369749c42d5e90661afdc31,dc21b3c080f1e7b39369749c42d5e90661afdc31,Journalist API tests: Ensure root endpoint exposes all endpoints
redshiftzero,2018-07-13 03:44:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ab60f70449dc051ae4e8173f8a82574d2f8e122,5ab60f70449dc051ae4e8173f8a82574d2f8e122,Remove unnecessary _insecure_api_views
redshiftzero,2018-07-13 03:39:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e7a44703f633d6ba8aa01e1dd97e9e306215705,7e7a44703f633d6ba8aa01e1dd97e9e306215705,"Journalist API: Add ETag header containing SHA256 hash of data

Note that Flask's send_file does include ETags by default,
but they are not hashes, so less useful for verifying downloads
were not corrupted after fetching over Tor. The ETag in Flask is:

```
rv.set_etag('%s-%s-%s' % (
                os.path.getmtime(filename),
                os.path.getsize(filename),
                adler32(
                    filename.encode('utf-8') if isinstance(filename, text_type)
                    else filename
                ) & 0xffffffff
            ))
```

https://github.com/pallets/flask/blob/161c43649d8c362c8359e0b79aeca40c754c5b51/flask/helpers.py#L616"
redshiftzero,2018-07-12 00:35:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/900f3b3913acf93618f540b92e6337108304602b,900f3b3913acf93618f540b92e6337108304602b,"Journalist API: Also use UUID for submissions

To prevent confusion, we also rename `uuid` to `source_uuid`."
redshiftzero,2018-07-11 23:35:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/25cec03424a0b12111c6f1d3ef47b1e70b39d487,25cec03424a0b12111c6f1d3ef47b1e70b39d487,"Alembic tests: Be more lenient with schema equality check

During testing, I ran into an issue where there was a
failure in the following case:

reverted_schema was:

CREATE TABLE ""sources"" (
 	id INTEGER NOT NULL,
 	filesystem_id VARCHAR(96),
 	journalist_designation VARCHAR(255) NOT NULL,
 	flagged BOOLEAN,
 	last_updated DATETIME,
 	pending BOOLEAN,
 	interaction_count INTEGER NOT NULL,
 	PRIMARY KEY (id),
 	CHECK (flagged IN (0, 1)),
 	CHECK (pending IN (0, 1)),
 	UNIQUE (filesystem_id)
)

and original_schema was:

CREATE TABLE sources (
 	id INTEGER NOT NULL,
 	filesystem_id VARCHAR(96),
 	journalist_designation VARCHAR(255) NOT NULL,
 	flagged BOOLEAN,
 	last_updated DATETIME,
 	pending BOOLEAN,
 	interaction_count INTEGER NOT NULL,
 	PRIMARY KEY (id),
 	UNIQUE (filesystem_id),
 	CHECK (flagged IN (0, 1)),
 	CHECK (pending IN (0, 1))
)

which fails for two reasons:

* The unique constraint on filesystem_id is not at the same line in
  the CREATE TABLE statement.
* The table name is quoted in one CREATE TABLE statement, but not
  in the other.

In order to make our tests a little more lenient in this case (and
not produce spurious test failures), we should:

* Compare sorted lists consisting of the lines in each CREATE
  TABLE statement
* Strip commas and double quotes for each element in the aforementioned
  lists"
heartsucker,2018-06-08 15:55:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5447d7b958f1d5fcda819b28b4c632754ec5480,b5447d7b958f1d5fcda819b28b4c632754ec5480,"updated schema check to handle whitespace differences

(cherry picked from commit 1ce5455880dcec885b12f84d0e39e72f9a195a3c)"
redshiftzero,2018-07-09 22:43:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ebe155364ef9a65231ad5d9dd1db359b73784b0f,ebe155364ef9a65231ad5d9dd1db359b73784b0f,Database migration: Add migration and tests for source UUID column
redshiftzero,2018-07-10 00:57:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/664be6e613853e621fd3ec4e4f0149fe450f50eb,664be6e613853e621fd3ec4e4f0149fe450f50eb,API docs: Update for UUID change
redshiftzero,2018-07-10 00:33:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f385a9ef3179f395513c6364ce33bbdcfdacd07,8f385a9ef3179f395513c6364ce33bbdcfdacd07,"Bugfix: Upgrade test should be on old database, then load data

Just an off by one error"
redshiftzero,2018-07-09 22:32:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b6d239e69fb54380d2c449405aebedd000979141,b6d239e69fb54380d2c449405aebedd000979141,"Alembic: Support batch operations for database migrations

This is a workaround for some unimplemented features (ALTER) in SQLite,
e.g. the ability to modify constraints on a column after it
has been created, see:

https://stackoverflow.com/questions/30378233/sqlite-lack-of-alter-support-alembic-migration-failing-because-of-this-solutio
http://alembic.zzzcomputing.com/en/latest/batch.html#batch-mode-with-autogenerate
https://github.com/miguelgrinberg/Flask-Migrate/issues/61"
redshiftzero,2018-07-09 22:32:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/daecdd7a45f18c1ae29d0aedcfbe1460604f0ab7,daecdd7a45f18c1ae29d0aedcfbe1460604f0ab7,Journalist API: Create Source.uuid column
redshiftzero,2018-07-09 21:02:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c324abe8e8a9a28a47244147a6dc80802b93315e,c324abe8e8a9a28a47244147a6dc80802b93315e,Journalist API: Return ISO 8601 compliant dates from API
redshiftzero,2018-07-07 01:19:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/52d6c5a5b0b3d13dae55b9c97074696a8d7b34db,52d6c5a5b0b3d13dae55b9c97074696a8d7b34db,"Journalist API: Increase API token expiration for UX reasons

This means that we do not currently implement refresh tokens."
redshiftzero,2018-07-14 04:01:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5fb212744a7cb93cd1d0bf842ad3a37fcafa92ba,5fb212744a7cb93cd1d0bf842ad3a37fcafa92ba,"Merge pull request #3641 from freedomofpress/3639-fix-ci-rebase-logic

Only run CI rebase logic on PRs"
conorsch,2018-07-14 00:04:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9e2938688de1209f21c9df0c8a331ad59ce8eb07,9e2938688de1209f21c9df0c8a331ad59ce8eb07,"Only run CI rebase logic on PRs

We recently (#3617) modified the CI rebase logic to accommodate more
than just the develop branch. That's good! However, the new logic
assumed that the env var `CIRCLE_PULL_REQUEST` would be defined. Turns
out it's only defined on PRs, which makes sense, but not during CI runs
against a base branch such as ""develop"".

Modified the rebase script to execute the main block if-and-only-if
`CIRCLE_PULL_REQUEST` is set. Additionally, sprinkled in some more error
checking bash settings at the top of the file, to make future debugging
sessions more straightforward (`set -u` in particular makes mistakes
like this quite clear).

Closes #3639."
redshiftzero,2018-07-13 23:48:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b68e8c1d32d12afd091971a937d08ad4bbac3a12,b68e8c1d32d12afd091971a937d08ad4bbac3a12,"Merge pull request #3532 from freedomofpress/makefile-clean-target

Implements ""make clean"" target"
conorsch,2018-07-13 22:02:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a426201b241afc8b56fec340536a7ef965e03a3a,a426201b241afc8b56fec340536a7ef965e03a3a,"Revises VM removal logic in ""clean"" target

After some spelunking by @redshiftzero, turns out that Vagrant versions
vary widely in the status codes reported by the destroy action. Let's
simply ignore any errors returned rather than trying to inform the
developer exactly what happened based on a specific status code and
Vagrant version. The logic here should work equally well across all
versions of Vagrant."
emkll,2018-07-13 13:43:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a9b61117cc2ac4e26df74daf0f763bdfc0963536,a9b61117cc2ac4e26df74daf0f763bdfc0963536,"Merge pull request #3633 from freedomofpress/bump-paramiko

Bump paramiko version"
heartsucker,2018-07-13 10:48:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c510559e2d77bd5569d5380b6ed64810271e9f90,c510559e2d77bd5569d5380b6ed64810271e9f90,bump paramiko versions
heartsucker,2018-07-13 10:37:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/91729d8ec7a45faa9a9b1431312c8edaa7051798,91729d8ec7a45faa9a9b1431312c8edaa7051798,move update and install to same step to prevent 404's
conorsch,2018-07-12 17:55:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4075d6b57522a27dac7080135458d368d61d0043,4075d6b57522a27dac7080135458d368d61d0043,"Merge pull request #3617 from freedomofpress/DynamicallyDeterminePRTarget

Smarter rebase on-top of github target logic"
msheiny,2018-06-29 16:36:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01b903128d6f8045c34db60c354f5927df68968c,01b903128d6f8045c34db60c354f5927df68968c,"Ignore shellcheck quote error in rebase script

I was hitting super annoying issues involving embedded quotations.
It seems acceptable to skip that lint check on this particular file"
msheiny,2018-06-29 15:49:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9908dd5617098379b08c3a7665295c364caa6e0,d9908dd5617098379b08c3a7665295c364caa6e0,"Utilize github API to determine target PR branch

This will hopefully resolve issues pertaining to PRs that target
non-develop branches and fail in particular ways (not to mention its not
an accurate test) when rebased against develop"
emkll,2018-07-12 16:19:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68aa4ff8a07e51d4e26dc3add92717b64036bb78,68aa4ff8a07e51d4e26dc3add92717b64036bb78,"Merge pull request #3624 from freedomofpress/docs-qubes-staging-environment

Document how to run staging env in Qubes"
conorsch,2018-07-12 00:20:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d02344bfdacb716cd1d507935e5c3d5810aa4bd,0d02344bfdacb716cd1d507935e5c3d5810aa4bd,"Removes unnecessary ""prepare"" step from Qubes staging

By default, Molecule sets the ""create"" action to call the ""prepare""
action once during an instance's lifecycle [0]. We don't need the
prepare action, so let's override the create sequence to avoid
deprecation warnings displaying in the console during normal, fully
working provisioning runs of the Qubes staging environment.

Also snipped out the corresponding ""prepare"" action in the Qubes staging
documentation, pointed out by @emkll during review.

[0] https://molecule.readthedocs.io/en/latest/configuration.html"
conorsch,2018-07-11 23:21:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/067744d7ea3b3ead0485f299e5a2cf986ead02c0,067744d7ea3b3ead0485f299e5a2cf986ead02c0,"Reuse ansible.cfg in Qubes Molecule scenario

We want the pipelining option in particular, but in general it's sound
practice to reuse the config so we're testing what's running in prod in
as many different contexts as possible. The dynamic inventory statement
in the ansible.cfg is not used, due to precedence of the Molecule
inventory file."
conorsch,2018-07-11 20:23:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a39958e6f940a5a3868e4e2f98e93bfa9696e2c,8a39958e6f940a5a3868e4e2f98e93bfa9696e2c,"Explicitly name target volume for Qubes staging install

Originally included by @joshuathayer, but aggressive concision edits on
my part removed it. During review, @emkll requested the additional
clarity, which sounds well warranted, so adding back."
conorsch,2018-07-11 19:17:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/02525c9f98533960b0c93d8e20790a2250cfa2a8,02525c9f98533960b0c93d8e20790a2250cfa2a8,"Links out to dev env docs for Qubes platform

Pointed out by @emkll during review. We recently merged simple dev env
setup docs targeting Qubes, so we don't need the duplicate content in
the staging docs any longer."
conorsch,2018-07-07 00:20:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dc0336475c966a1d2726ff2fcf120b570b6bf858,dc0336475c966a1d2726ff2fcf120b570b6bf858,"Rewording throughout Qubes docs for clarity

For practicality, reusing an existing SSH key in the sd-dev VM if found.
Spruced up the language a bit in places to make it more candid."
conorsch,2018-07-07 00:03:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5a0770123f3d4e98958829bc5a29528ec6a6d314,5a0770123f3d4e98958829bc5a29528ec6a6d314,"Defer to existing ISO download and verification docs

Keep the docs DRY! Linking out to the Trusty ISO download and verify
docs, via a new section reference. Also snuck in a unrelated typo fix in
the Trusty docs."
conorsch,2018-07-06 01:53:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e62b47d210f0b284e452edf0f58164e1559ea57b,e62b47d210f0b284e452edf0f58164e1559ea57b,"Formatting tweaks on API grants changes

Also added ReST-friendly codeblocks for the new apt install tasks for
the Qubes Admin API packages."
conorsch,2018-07-06 01:45:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7264780e0c0c2340b4804ce374f61e7a5ad4790a,7264780e0c0c2340b4804ce374f61e7a5ad4790a,"Pares down the Qubes Admin API grants for sd-dev

These are still more permissive than I'd like, but better than the first
draft. More docs research required on the RPC policy syntax. The
policies here *do* prohibit management of other VMs on the Qubes machine
(e.g. `sd-whonix`, which is managed via the SecureDrop Workstation
 repo), which is better than what we had before."
joshuathayer,2018-07-06 01:02:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/44fef2d561dde390095c238e9872db12cb26f26a,44fef2d561dde390095c238e9872db12cb26f26a,Minor documentation updates
conorsch,2018-07-05 19:16:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4099e5f373c27b547ff4f278a43923e65018134b,4099e5f373c27b547ff4f278a43923e65018134b,"Renames Qubes default username -> ""sdadmin""

Clarifying that this is a user account for a human administrator, rather
than a machine account used for running the SecureDrop application.
We've used ""sdadmin"" in other contexts, as well, such as the default
vars for configuring an instance via a Tails Workstation.

It doesn't really matter what this value is, but it will be hardcoded in
other aspects of the Qubes staging environment, and so any changes down
the road will require substantial developer intervention in order to
accommodate. So ""sdadmin"" is the most conservative approach, and
hopefully the most future-proof, as well."
conorsch,2018-07-05 17:24:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f3e4375f31b8ded574e7414581abd0f25a9c55bd,f3e4375f31b8ded574e7414581abd0f25a9c55bd,"Readability cleanups in the Qubes staging docs

Removes some extraneous notes from the WIP draft of the docs, and
includes some links out to Qubes official docs for more info."
conorsch,2018-07-05 17:22:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96aedd5579f6734e142291ac8c2e8344335a135e,96aedd5579f6734e142291ac8c2e8344335a135e,Cleans up the dev env docs references
conorsch,2018-07-05 16:37:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4007dd84788df1ade46267eefab38271e7c42882,4007dd84788df1ade46267eefab38271e7c42882,Consolidates firewall rules a bit
conorsch,2018-07-03 23:33:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f72bd36585d047ea83cef8bcdf6d8443ddf44bc0,f72bd36585d047ea83cef8bcdf6d8443ddf44bc0,"Links out to Trusty install docs in Qubes docs

We already have copious documentation on how to install Trusty from an
ISO, so let's link out to that to be sure. Tacked on a reference in the
Trusty docs so that we can link directly to the install part.

Removes the recommendation to edit /etc/hosts on sd-dev, since we can
trust the provisioning scripts to manage access to the VMs for us."
conorsch,2018-07-03 22:51:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f959c131465cc789cc7077c4df6011f40064c22,7f959c131465cc789cc7077c4df6011f40064c22,"Condenses command blocks in Qubes staging docs

Trying to slot all the related commands into one codeblock, so it's easy
for devs to follow along."
joshuathayer,2018-07-05 22:10:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a28677e717f628c31dbe5c71a20313388ba2bea0,a28677e717f628c31dbe5c71a20313388ba2bea0,"Converts Qubes staging docs MD -> RST

During the first pass on documentation for running the staging
environment in Qubes, we used a Markdown file to jot notes quickly. This
commit preserves the content of the docs, while converting the format
to ReST, so it's visible alongside all the other project documentation."
joshuathayer,2018-06-22 02:42:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a0a92b8cb84da2ce78bc7eb991e1a775e927450,3a0a92b8cb84da2ce78bc7eb991e1a775e927450,"Cleaned up RPC docs

Few edits throughout, focusing on docs clarity."
conorsch,2018-06-21 21:44:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c4f0a5991b2a5c09cd7c44d52b14f058fb42eb92,c4f0a5991b2a5c09cd7c44d52b14f058fb42eb92,"Documents setting the static IPs for the Qubes staging VMs

Using qvm-prefs to force the static IP on the base VMs."
joshuathayer,2018-06-21 21:35:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b84298dc827ba67e95c55e16a332a9480d1b04d7,b84298dc827ba67e95c55e16a332a9480d1b04d7,starts to change sd hostnames in docs
conorsch,2018-06-21 21:25:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/644f133017238c9dbb85f90dcc9535dc804dabac,644f133017238c9dbb85f90dcc9535dc804dabac,"Documents Qubes RPC grants for Admin API

The changes here are *very* permissive, and not appropriate for a production Qubes machine.
We can refine them after more testing, to get the minimum set of perms required.
Did not link out to the Qubes Admin API docs, but we should definitely do so."
conorsch,2018-06-09 00:45:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a40393272b0e2b0d15b27d68385d6c3e37ab422e,a40393272b0e2b0d15b27d68385d6c3e37ab422e,"Supports Qubes for running the staging VMs

Using the ""delegated"" driver for Molecule, meaning that create
and destroy actions must be handled explicitly via the playbooks
within the scenario (rather than leaning on a convenient API).

There are a few shortcomings with the current implementation:

  * become pass is hardcoded (due to template VMs; should be changed)
  * VMs only halt, not start, when rebooted
  * the create/destroy logic is task-based, rather than module-based

we should consider writing a ""qubes_vm"" Ansible module, so the VMs
can be managed via e.g. state=started, state=absent, etc. The catch,
however, is that the `qubesadmin` Python library is only installable
via apt/yum, meaning that the libs won't be available inside the
virtualenv without a sys.path hack."
joshuathayer,2018-06-05 22:59:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d850bcbd02ccc589c54002189ba39060be6f111e,d850bcbd02ccc589c54002189ba39060be6f111e,Adds initial docs for Qubes staging setup
emkll,2018-07-11 13:52:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/997db3994834e2a56e8306580d78d7e21cc179c9,997db3994834e2a56e8306580d78d7e21cc179c9,"Merge pull request #3623 from freedomofpress/docs-dev-env-for-qubes

Documents dev env setup in Qubes"
emkll,2018-07-10 18:10:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ebf3d30f3cc11e9cb0e711458466d18b402b437f,ebf3d30f3cc11e9cb0e711458466d18b402b437f,"Merge pull request #3620 from b-meson/docs-sg3100-firewall

Docs sg3100 firewall"
redshiftzero,2018-07-07 00:48:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8685884b44a4477e056e1118df6cdf43f17d3853,8685884b44a4477e056e1118df6cdf43f17d3853,"Journalist API: Add test case for trailing slash on end of URL

No URL should produce a 500, this commit ensures that they
are handled as expected (as a 404)"
redshiftzero,2018-07-07 00:47:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/785d4d2767238bf78b9491159e3cc6d4f33a8145,785d4d2767238bf78b9491159e3cc6d4f33a8145,"Journalist API: Update sources fields

- `flagged` -> `is_flagged`
- Add `is_starred` field
- Make the public_key an object under key 'key' with value type
  and public"
conorsch,2018-07-06 23:29:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/82722605cae52647f1b2499a64158935fe13ef05,82722605cae52647f1b2499a64158935fe13ef05,"Documents dev env setup in Qubes

Straightforward, mostly the same as the existing Debian 9 install docs,
with a few dom0 commands, as is to be expected in Qubes. We recommend a
StandaloneVM in Qubes, because otherwise the developer must:

  * manage a custom template for the dev AppVM, or
  * reinstall docker on every boot (no, thanks)

The compromise here is additional overhead for the StandaloneVM, but
that's well worth it for a smooth dev experience."
redshiftzero,2018-07-06 21:18:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0b9f6c6031938d706a00fd3f7d2628332e838145,0b9f6c6031938d706a00fd3f7d2628332e838145,Journalist API: Add security test case for deleted user
redshiftzero,2018-07-06 20:41:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d86a307de11465ca82ef1a1b31383ee4b82004e,0d86a307de11465ca82ef1a1b31383ee4b82004e,Journalist API: Add security test case for none alg
redshiftzero,2018-07-06 20:17:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f34f08cc1cb30c9b7171b2405d30f94c3ddf1a7c,f34f08cc1cb30c9b7171b2405d30f94c3ddf1a7c,"Resolve mypy issues on werkzeug.exceptions.default_exceptions

The type hints on Python 2 werkzeug.exceptions are out of date.
A new release is coming that will include the following
resolution:

https://github.com/python/typeshed/pull/2185/files#diff-ec3d276cbf9b9d9dae65a3b9bcb4767a

Until then, we will need to add an exception for these imports."
redshiftzero,2018-07-06 01:02:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e11cf0f3902d555cbf9f30772d7a2837767bac3c,e11cf0f3902d555cbf9f30772d7a2837767bac3c,Journalist API: Settle on method for detected plaintext
redshiftzero,2018-07-06 00:14:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b6ad7cd8e891ef21e222e92a08fe5417829c8561,b6ad7cd8e891ef21e222e92a08fe5417829c8561,Journalist API: Refactor exception handling on get_token
redshiftzero,2018-07-05 23:42:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/172e0fb978c4428cee8abd34a4a531ab855ab7b8,172e0fb978c4428cee8abd34a4a531ab855ab7b8,Journalist API: Make get_or_404 clearer
redshiftzero,2018-07-05 23:41:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b490778080a84669a3e4a58deecf93fa6e744596,b490778080a84669a3e4a58deecf93fa6e744596,Journalist API: Add helper auth function
redshiftzero,2018-07-05 23:04:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/02432ed80e9963bb2648c5a8fbb8d9722f3209ff,02432ed80e9963bb2648c5a8fbb8d9722f3209ff,Journalist API: Implement flag for reply
redshiftzero,2018-07-05 16:28:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/545c9d142dca194534688fe9d26233585dc9121f,545c9d142dca194534688fe9d26233585dc9121f,"Journalist API: Modify URI for delete collection endpoint

Since both the source and submissions are deleted, the URI
should be a DELETE on the source object."
redshiftzero,2018-07-03 23:16:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3908748713248f6d76c6bd659c305752ae2430b0,3908748713248f6d76c6bd659c305752ae2430b0,Journalist API: Rename password->passphrase for clarity
redshiftzero,2018-07-03 23:00:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3ab39c730e63ed3361f28dd506120f5dcf654b96,3ab39c730e63ed3361f28dd506120f5dcf654b96,Journalist API: Rename verify_api_token for clarity
redshiftzero,2018-07-03 22:38:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8cf60240a4d3713e146d6eae0209e4acea14272f,8cf60240a4d3713e146d6eae0209e4acea14272f,"Use generic error handlers for Werkzeug's default_exceptions

This is for both the main application and the API"
redshiftzero,2018-07-03 01:17:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/978f584b3ff1ac7881c71b19be9d1293166e6d3a,978f584b3ff1ac7881c71b19be9d1293166e6d3a,Journalist API: Add public_key_type field for futureproofing
redshiftzero,2018-07-03 01:01:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20023473b581ffa244b739532d9c98f45b5e5b17,20023473b581ffa244b739532d9c98f45b5e5b17,Journalist API: Return ISO8601 format expiraton from /token
redshiftzero,2018-07-02 23:57:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/586769a6627f233953a4008766dd37df80b5b3a9,586769a6627f233953a4008766dd37df80b5b3a9,"Journalist API: [], {} are valid JSON"
redshiftzero,2018-07-02 23:15:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3be0707334e56fe31e52229fa07de8714a1d3e84,3be0707334e56fe31e52229fa07de8714a1d3e84,Journalist API: Use generic 400 for rejected plaintext reply
redshiftzero,2018-07-02 22:47:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2621cf4c19f974e9eb80771844234b87a9f3de8b,2621cf4c19f974e9eb80771844234b87a9f3de8b,Journalist API: Remove trailing slashes from all URLs
redshiftzero,2018-06-29 20:31:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b2729f8804c1059ef5a5d819ebef7bbee4723631,b2729f8804c1059ef5a5d819ebef7bbee4723631,AppArmor: Update apache2 profile for journalist API
redshiftzero,2018-06-29 20:15:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eea5e9e16c471bb72a9a0e7e98e1e239e9a45b04,eea5e9e16c471bb72a9a0e7e98e1e239e9a45b04,"Journalist API: Update last_access metadata with token auth

For auditing journalist access to the server"
redshiftzero,2018-06-25 16:58:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/183cc3b6cc0be9afa57de8bc2d3bec6ba3e147d6,183cc3b6cc0be9afa57de8bc2d3bec6ba3e147d6,"Journalist API: Developer documentation

This documentation is intended for a developer consuming the
journalist API."
redshiftzero,2018-06-29 01:29:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d432084a2d9e13756630f32f790b4157066128d,1d432084a2d9e13756630f32f790b4157066128d,"Journalist API: Expiration date should be consistent

This modifies the expiration date of the authorization token
to be consistent across the source interface, journalist interface
and journalist API. This is important because the session timeout
was set to ensure that up to 500 MB can be downloaded without
expiry of the API token. For more details, see the explanation in
https://github.com/freedomofpress/securedrop/issues/2503"
redshiftzero,2018-06-29 01:25:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/024ff356b2f02412dbf13a312afcbb3367ab09b9,024ff356b2f02412dbf13a312afcbb3367ab09b9,"Journalist API: Refactor error handling

This commit makes several changes to error handling on
the journalist interface.

First, CSRF protection is not necessary for a REST API that is not
using cookies for authentication, which this one is not (we
pass a token in a HTTP header). We exempt only the api blueprint
views from CSRF protection, and leave it as is for the remainder
of the journalist application.

Second, we use blueprint-level handlers so that we can more easily
present the relevant response to the user: an informative JSON
error response (i.e. one that contains details of why the request
was not valid) or an HTML page that is rendered in the style of
the rest of the journalist application.

Note that blueprint level 404 and 405 error handlers are not respected,
so we add logic to use the API's error handlers to return nice
error messages to the user."
redshiftzero,2018-06-24 11:04:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d6765c849b687ac4e3c609fa17ea4df3c9fa366b,d6765c849b687ac4e3c609fa17ea4df3c9fa366b,"Journalist API: cleanup and use same slug as journalist interface

The journalist interface is using the filesystem ID as a slug
(/col/<filesystem_id>), this commit makes that switch. Linting
issues are also resolved in this commit"
redshiftzero,2018-06-24 09:01:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/459645273cf766893d02f8089b5a05b09e1f573a,459645273cf766893d02f8089b5a05b09e1f573a,Journalist interface: Add 400 error handler
redshiftzero,2018-06-24 08:56:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7adb2544851f36a689a16e3bc63f6358ef05e466,7adb2544851f36a689a16e3bc63f6358ef05e466,Journalist API: API should provide armored pubkey of source
redshiftzero,2018-06-24 08:09:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d069a871b77ea86b900999779456377d3eb4ae0,6d069a871b77ea86b900999779456377d3eb4ae0,"Journalist API: Reject plaintext replies server-side

There is a function implemented in crypto_util.py here for
reliably detecting GPG ciphertext, but it's pretty slow"
redshiftzero,2018-06-24 07:06:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f93e8f9d77d904522b4aff1982ee163fc2b2615,4f93e8f9d77d904522b4aff1982ee163fc2b2615,Journalist API: Add pre-encrypted source reply endpoint
redshiftzero,2018-06-24 04:02:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/244ff822f7914cb0b2d0175a1ed193bb24357725,244ff822f7914cb0b2d0175a1ed193bb24357725,"Journalist API: Rework token_required, add unit tests

request.headers.get doesn't produce KeyErrors, so we should
instead try to get the key directly, and then handle the KeyError.
Unit tests are added to cover each possible case in the
token_required function."
redshiftzero,2018-06-23 09:26:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4fc88f7d6e93b979d2f83fe72ced51dcf17d5b2a,4fc88f7d6e93b979d2f83fe72ced51dcf17d5b2a,Journalist API: Add /user endpoint for user information
redshiftzero,2018-07-02 17:01:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f823debd4b14a74344bb05af2e465cc0cf562f7f,f823debd4b14a74344bb05af2e465cc0cf562f7f,"Merge pull request #3576 from freedomofpress/so-much-pytest

More journalist pytest"
heartsucker,2018-06-26 13:31:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2e7d8c1f228598a8350bd19d5cedb82993dbb045,2e7d8c1f228598a8350bd19d5cedb82993dbb045,pytest fixtures: test_incorrect_current_password_change
heartsucker,2018-06-26 13:29:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b0f97328503b357b292ef646f28df241c9000df9,b0f97328503b357b292ef646f28df241c9000df9,pytest fixtures: test_user_authorization_for_posts
heartsucker,2018-06-26 13:28:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c8feb7ea80ef05f33d68c128c27a228c7e46ae9,0c8feb7ea80ef05f33d68c128c27a228c7e46ae9,pytest fixtures: test_user_authorization_for_gets
heartsucker,2018-06-26 13:24:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/247921653799c1f3950803922e57be5700c3c608,247921653799c1f3950803922e57be5700c3c608,pytest fixtures: test_admin_page_restriction_http_posts
heartsucker,2018-06-26 13:16:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8769ae6f50693725126249257bf6de8e4855575,e8769ae6f50693725126249257bf6de8e4855575,pytest fixtures: test_admin_page_restriction_http_gets
heartsucker,2018-06-26 13:13:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f388f0f711b3ea1be1f13ed63cf05f43668eb489,f388f0f711b3ea1be1f13ed63cf05f43668eb489,pytest fixtures: test_logo_upload_with_empty_input_field_fails
heartsucker,2018-06-26 13:11:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30156eb5c512686dc89efdb1a4cc2ae5f721143c,30156eb5c512686dc89efdb1a4cc2ae5f721143c,pytest fixtures: test_creation_of_ossec_test_log_event
heartsucker,2018-06-26 13:09:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cacf074e2492cb854463bd8ed0d9d2f2eb0ce784,cacf074e2492cb854463bd8ed0d9d2f2eb0ce784,pytest fixtures: test_logo_upload_with_invalid_filetype_fails
heartsucker,2018-06-26 13:05:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b755f01d92d44326ace2926490080f93d4b3375,3b755f01d92d44326ace2926490080f93d4b3375,pytest fixtures: test_logo_upload_with_valid_image_succeeds
heartsucker,2018-06-26 12:57:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ad5bcfd7fef6dff0f74c53e16e7327e2d33825c8,ad5bcfd7fef6dff0f74c53e16e7327e2d33825c8,pytest fixtures: test_admin_add_user_integrity_error
heartsucker,2018-06-26 12:46:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c426c28a02825637c795e53200fb99b1b2134f2,0c426c28a02825637c795e53200fb99b1b2134f2,pytest fixtures: test_admin_renames_user
redshiftzero,2018-06-29 21:53:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f6906b0151cccef56a93a1ed892ead23e39fdc2b,f6906b0151cccef56a93a1ed892ead23e39fdc2b,"Merge pull request #3618 from edenemmanuel/docs-add-support-section-2297

Add 'Getting Support' page to documentation"
redshiftzero,2018-06-29 21:40:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b2978151a6c87d5f04467747370a676f906d230,7b2978151a6c87d5f04467747370a676f906d230,"Merge pull request #3591 from edenemmanuel/docs-ssh-tweaks-3348

Clarify docs re output of ssh hostname commands"
redshiftzero,2018-06-29 21:27:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/25d988b1ac76233afb6e75ba6a27691938a1eb9e,25d988b1ac76233afb6e75ba6a27691938a1eb9e,"Merge pull request #3615 from freedomofpress/remove-todos

removed TODOs and documented them in ticket tracker"
redshiftzero,2018-06-23 09:08:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15baf2438c61f88cee49ea3fe4c2ec5fcc75117b,15baf2438c61f88cee49ea3fe4c2ec5fcc75117b,Journalist API: Add endpoint to download PGP submissions
redshiftzero,2018-06-23 08:57:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1fef4dabd7fc97002b71bf364c2a26f303f20a8b,1fef4dabd7fc97002b71bf364c2a26f303f20a8b,Journalist API: DELETE source collection
redshiftzero,2018-06-23 08:42:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d2c1ce35b681e7e79bcb16c0fcd57ec13f4de32c,d2c1ce35b681e7e79bcb16c0fcd57ec13f4de32c,Journalist API: DELETE individual source submission
redshiftzero,2018-06-23 07:44:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b4e9bb28620c24656bd407d383d377dfd103cdb2,b4e9bb28620c24656bd407d383d377dfd103cdb2,Journalist API: GET a single submission [/sources/:id/submissions/:id]
redshiftzero,2018-06-23 07:33:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/13246875352af1257c16d4161d0db9bbe9bb51fa,13246875352af1257c16d4161d0db9bbe9bb51fa,Journalist API: GET a source's submissions [/source/:id/submissions]
redshiftzero,2018-06-23 07:18:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3504688e5ec29294b5a1e47de4d90c31baeb77fa,3504688e5ec29294b5a1e47de4d90c31baeb77fa,Journalist API: Get all submissions [/submissions/]
redshiftzero,2018-06-23 02:07:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8ae05b1f9c28fe28d1744e656a299227891a1d41,8ae05b1f9c28fe28d1744e656a299227891a1d41,"Journalist interface: Add 405 error handler

We need to also have a nice error handler for method not allowed,
that should return JSON for the API and an HTML page for
users of the regular web application."
redshiftzero,2018-06-23 01:55:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b425db4ce122cc82284352bae020c9e4d92363c,8b425db4ce122cc82284352bae020c9e4d92363c,"Journalist API: Catch itsdangerous.BadData only

This was a bare except, but I think instead we want to handle
only itsdangerous.BadData exceptions, which is a general exception
that includes a bad signature and an expired one."
redshiftzero,2018-06-23 01:42:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/122664e6b8d0af59f2ea10448dc0a46428f54c46,122664e6b8d0af59f2ea10448dc0a46428f54c46,"Journalist API: Remove star endpoint: /sources/<int:source_id>/star/

HTTP DELETE will remove the star"
redshiftzero,2018-06-23 01:34:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/73e0aa797912d2996cf22c6dc643d9e3aa948030,73e0aa797912d2996cf22c6dc643d9e3aa948030,"Journalist API: Add star endpoint: /sources/<int:source_id>/star/

Covers cases where:
  * Source does not exist (404 response)
  * Star is successfully added (201 response)"
redshiftzero,2018-06-23 00:47:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d32da8d1df13e97a1ebf429d21b8fc3b1d0e2ec9,d32da8d1df13e97a1ebf429d21b8fc3b1d0e2ec9,Journalist API: Add single source endpoint (/sources/<int:id>)
redshiftzero,2018-06-18 23:05:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/35d032e7d20ff435d9e0672e5aa8aefa87a8f9d1,35d032e7d20ff435d9e0672e5aa8aefa87a8f9d1,"Journalist interface: Add 404 error handler

Again, mostly for the journalist API, but users who are logged
into the webapp will now see a custom error page with the regular
SecureDrop styling instead of the default Flask page"
redshiftzero,2018-06-18 22:47:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f6a42c5554f355bbb20c967106016e1a5562c460,f6a42c5554f355bbb20c967106016e1a5562c460,Journalist API: Add security test cases for HTTP POSTs
heartsucker,2018-06-29 14:30:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39091728a59891f2955f308ed25b1f9b380dad1d,39091728a59891f2955f308ed25b1f9b380dad1d,removed TODOs and documented them in ticket tracker
conorsch,2018-06-20 20:38:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c12363afc75a3672a0e66e71250d612846487fa,1c12363afc75a3672a0e66e71250d612846487fa,"Expands cleanup action to handle dev VMs

More comprehensive ""make clean"" behavior, including removal of:

  * Vagrant VMs
  * Molecule VMs
  * temporary git repos cloned by Molecule (for upgrade testing)
  * git-clean even gitignored directories

The output is fairly verbose, so it's obvious to the developer what's
been changed in the environment."
conorsch,2018-06-20 20:27:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3ceaddbaccf7ba55df054509d5b2c4b28a037231,3ceaddbaccf7ba55df054509d5b2c4b28a037231,"Converts Makefile ""clean"" target to script

Allows us a bit more flexibility, e.g. prompting user for confirmation,
to avoid mistakes. Sprinkled in liberal comments to make it obvious to
future maintainers what's what."
conorsch,2017-10-15 20:07:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b6e6cd960d7b223640c3f4169c2b215687ba44ff,b6e6cd960d7b223640c3f4169c2b215687ba44ff,"Provides ""make clean"" target

Resets the project to a pristine state. Explicitly removes dangling
files from previous VM incarnations, such as ""app-source-ths"",
""config.py"", and ""build/*.deb"".

Additionally runs `git clean -f -x`, which will purge all gitignored
files from the directory. Anything prod-related, such as a pubkey for
OSSEC email alerts, or the *site-specific vars file* will be removed.

Admins should never run this command, since it will destroy
site-specific info. The project documentation instructs Admins to use
the `securedrop-admin` script, and the `Makefile` is only for
developers. Therefore it seems safe to include a destructive action like
this, given that it is not included in Admin-facing documentation.

Closes #2395."
kstohr,2018-05-15 18:12:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/897200f2ccc1195b850cbe7968ff384113fbc6c2,897200f2ccc1195b850cbe7968ff384113fbc6c2,added line clarifying terminal output vs terminal command
redshiftzero,2018-06-27 17:42:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d3554e72d320888e4b9fd3ae3373d3ea71e0dc9e,d3554e72d320888e4b9fd3ae3373d3ea71e0dc9e,"Merge pull request #3590 from freedomofpress/post-0.8.0-version-bump

Bump version numbers on develop branch"
redshiftzero,2018-06-27 15:58:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/69ea9639fa5be5b51e130f8fcdb5680fe4444933,69ea9639fa5be5b51e130f8fcdb5680fe4444933,"RM docs: Note that release commits need to be ported to develop

Thus ensuring a consistent changelog"
redshiftzero,2018-06-27 15:46:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a5eb8fdb9dedf879a20a1281f1d4697b9e520f0,3a5eb8fdb9dedf879a20a1281f1d4697b9e520f0,SecureDrop 0.9.0~rc1
redshiftzero,2018-06-26 22:20:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec584e0d1b5cc4deb633e0a65f746668be1523f8,ec584e0d1b5cc4deb633e0a65f746668be1523f8,"SecureDrop 0.8.0

(cherry picked from commit e2c2f07d1ccbaebbdb54bc6b553e6c975ea8d7db)"
redshiftzero,2018-06-26 04:53:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/db238e578a4ff633976808309d0f3b2063c87822,db238e578a4ff633976808309d0f3b2063c87822,"SecureDrop 0.8.0~rc3

(cherry picked from commit 202896419b76524ce2734f7fff9262ad31b1b975)"
redshiftzero,2018-06-21 23:06:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c2e68bd494ffaf08b89c772cd475b9a8fe01bce,7c2e68bd494ffaf08b89c772cd475b9a8fe01bce,"SecureDrop 0.8.0~rc2

(cherry picked from commit f2982c5d56ef39ca5be869f79372c4fca640c067)"
redshiftzero,2018-06-13 21:05:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab35e7d9288ba2ee38e629a5a089fd54cc16b3fa,ab35e7d9288ba2ee38e629a5a089fd54cc16b3fa,"SecureDrop 0.8.0~rc1

(cherry picked from commit 6ad6fc37fc0f6eb25a751fd5841e02a2a5cde756)"
redshiftzero,2018-06-26 21:32:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/928c165b85a6b5266afe74e7f72f4de95e4dc42c,928c165b85a6b5266afe74e7f72f4de95e4dc42c,"Merge pull request #3582 from freedomofpress/update-builder-20180626

Update builder image hash"
redshiftzero,2018-06-26 21:09:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7df64e66216acbe9492cfd8786b46e65b4ead629,7df64e66216acbe9492cfd8786b46e65b4ead629,"Merge pull request #3583 from freedomofpress/docs-secure-workstation-update

Add docs for secure workstation update as part of 0.7->0.8 update"
eloquence,2018-06-26 20:35:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e0b28bb36405ca645a24f5d8298b41ad1d6867e0,e0b28bb36405ca645a24f5d8298b41ad1d6867e0,"Add docs for secure workstation update as part of 0.7->0.8 update

Resolves #3581"
emkll,2018-06-26 20:22:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b2c8da71847ecfd0313b9cd1c6ea600d517157ee,b2c8da71847ecfd0313b9cd1c6ea600d517157ee,"Update builder image hash

Security updates were required to pass the tests.

(cherry picked from commit d9c3445d3b383f2ffc955ca70ee60093f9158758)"
redshiftzero,2018-06-26 19:54:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e0e587b378aa2923f461a8c64e7387b7cb6a5e1c,e0e587b378aa2923f461a8c64e7387b7cb6a5e1c,"Merge pull request #3575 from dachary/wip-update-documentation

docs: update screenshots for 0.8.0"
redshiftzero,2018-06-26 19:14:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a354059b313d9c1f62e99013478feb3e10d49370,a354059b313d9c1f62e99013478feb3e10d49370,"Merge pull request #3578 from dachary/wip-i18n

l10n: sync translations (take 2)"
redshiftzero,2018-06-26 03:52:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4720be052e49cf02f8d558d4594690de449ab21e,4720be052e49cf02f8d558d4594690de449ab21e,"Merge pull request #3570 from dachary/wip-i18n

l10n: sync translations"
redshiftzero,2018-06-26 01:06:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c9c2fb999f8b3e7323277c0768c197a8d67c12d5,c9c2fb999f8b3e7323277c0768c197a8d67c12d5,"Merge pull request #3568 from freedomofpress/logic-checkout-branch-tag

Implement logic to prevent checkout of branch when named the same as our signed tag"
redshiftzero,2018-06-26 00:23:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f555c4889392a40e1a3d3262808981a2bffab60a,f555c4889392a40e1a3d3262808981a2bffab60a,"Merge pull request #3559 from dachary/3557-notifications-procmail

ossec: fix journalist notification border case"
redshiftzero,2018-06-25 22:31:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8fd25b0ed18e34a929d8a59942c6ac2b7ee0cdde,8fd25b0ed18e34a929d8a59942c6ac2b7ee0cdde,securedrop-admin CLI: Update tests and ensure failure case is covered
redshiftzero,2018-06-25 22:29:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e9998c54aa3665c609e30bca4402eb8eee2d3f05,e9998c54aa3665c609e30bca4402eb8eee2d3f05,"securedrop-admin CLI: Verify the duplicate branch exception

Verify the text in the duplicate branch exception that is
expected when we look for a branch of the same name as the tag.

This guards against the possibility that another unrelated
exception occurs."
redshiftzero,2018-06-25 20:46:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c81c0d4ea6df59845d97d47ba5522edda740e4f,1c81c0d4ea6df59845d97d47ba5522edda740e4f,"Merge pull request #3561 from freedomofpress/docs-kernel-troubleshooting-fixes

Fix one major omission, three minor issues"
redshiftzero,2018-06-25 20:15:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d74ffb84c205dea4f87474dec1578e188b29f264,d74ffb84c205dea4f87474dec1578e188b29f264,"securedrop-admin CLI: update unit tests

We need to update these tests because we mock out these
subprocess calls."
redshiftzero,2018-06-25 20:14:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f86f380b32d73c204dae469be465b26fd3c393ed,f86f380b32d73c204dae469be465b26fd3c393ed,securedrop-admin CLI: Do not checkout branch if named same as tag
redshiftzero,2018-06-25 20:13:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/55fd98eae0bde79332fcfdd66679e2984eec4fa1,55fd98eae0bde79332fcfdd66679e2984eec4fa1,"securedrop-admin CLI: Regression test for duplicate branch/tag

This is an integration test that simulates the situation where there is
a duplicate branch and tag."
redshiftzero,2018-06-25 19:40:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0a901362b84a5378fba80e9cd0ffe4542bdcd598,0a901362b84a5378fba80e9cd0ffe4542bdcd598,"Merge pull request #3564 from freedomofpress/fix-login-throttling

Login throttling should be per-user"
redshiftzero,2018-06-20 00:35:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/369b472b5ea4d3eb4934beec41b2fa5b81972209,369b472b5ea4d3eb4934beec41b2fa5b81972209,Journalist interface: Login throttling should be per-user
redshiftzero,2018-06-20 00:17:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e128b0492cc31e5bbcd0e1aad74660ca85c9bf95,e128b0492cc31e5bbcd0e1aad74660ca85c9bf95,"Journalist interface: Regression test for DoS on login throttling

We try to login multiple times as one user, trigger the login
throttling, and then switch to a second user and try to login
again. This second user should be able to login despite the
tricksy behavior of the first."
eloquence,2018-06-25 17:52:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da342c210fe0d2838ce44047151e62d72007baa8,da342c210fe0d2838ce44047151e62d72007baa8,"Replace all stylized quotes with plain quotes

Stylized quotes can cause problems in technical contexts; they likely
resulted from copy/paste from Google Docs or other sources."
redshiftzero,2018-06-18 22:33:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/79e5b609001392f5bd654f2a4660a2f825dd77d0,79e5b609001392f5bd654f2a4660a2f825dd77d0,Journalist API: Security test cases for HTTP DELETEs
redshiftzero,2018-06-18 22:22:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dac442c16f1d85788b9cf68004250a3ba7e11137,dac442c16f1d85788b9cf68004250a3ba7e11137,Journalist API: Add security test cases for HTTP GETs
redshiftzero,2018-06-18 22:18:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/efe2726145ad91bdd2cd9459f35f18a828dbe1be,efe2726145ad91bdd2cd9459f35f18a828dbe1be,Test source pytest fixture: Add submissions for convenience
redshiftzero,2018-06-18 21:57:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98d43d29c37cef0143ba19282fe7693faa5f8f53,98d43d29c37cef0143ba19282fe7693faa5f8f53,Journalist API /sources/: placeholders and get_all_sources()
redshiftzero,2018-06-18 21:12:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/efad30948475312dc7ab506dd3aaa16cc880a6be,efad30948475312dc7ab506dd3aaa16cc880a6be,Journalist API: Add pytest fixture for journalist API token
redshiftzero,2018-06-18 21:03:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/34021551fc298300070072d737d8665d152ff3f8,34021551fc298300070072d737d8665d152ff3f8,Journalist API: Use decorator for protected API endpoints
redshiftzero,2018-06-18 20:56:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0a7fcbb65b29f4a8d5e5785ade128666218646b7,0a7fcbb65b29f4a8d5e5785ade128666218646b7,Journalist API: Add endpoint to do API token auth
redshiftzero,2018-06-18 20:54:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/55241d955fd46a097cd59734c22045623f76235b,55241d955fd46a097cd59734c22045623f76235b,"Journalist interface: Add 403 error handler

This is primarily for the API, but it turns out that we actually
make use of abort(403) to prevent an admin from deleting
themselves, so instead of seeing a Flask error page, they will see
a nice error page in the style of the rest of the journalist
interface."
redshiftzero,2018-06-18 20:00:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b10dbe310401916c2dcf38e1abd47aac9614d3a9,b10dbe310401916c2dcf38e1abd47aac9614d3a9,"Journalist API: Rework login by default logic

We have logic in __init__.py here to ensure that a developer
does not accidentally forget to protect a route with a
@login_required decorator. Instead of the decorator, we have
a list of insecure views. We rework this to allow us to use a
decorator for the API routes."
redshiftzero,2018-06-18 19:56:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8068543ea4cdc50317c9f66fc0bf67bdf32b9c29,8068543ea4cdc50317c9f66fc0bf67bdf32b9c29,Remove deprecated autoversion
redshiftzero,2018-06-18 18:51:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4e90665ed34959c4542fe567913d3f13dfe9f54b,4e90665ed34959c4542fe567913d3f13dfe9f54b,"Journalist API: Add initial Blueprint with root endpoint

And an initial (pytest-based) unit test"
redshiftzero,2018-06-23 01:12:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/af5df3009bf70958db8d281a05b3e8674e8adb80,af5df3009bf70958db8d281a05b3e8674e8adb80,"Merge pull request #3560 from freedomofpress/3555-fine-tune-conditional-logic-in-iptables-template

Fine-tunes conditional logic in iptables template"
eloquence,2018-06-23 00:20:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b4364795d7de2c8d0f42ad1123cf7e27e55a918,8b4364795d7de2c8d0f42ad1123cf7e27e55a918,"Fix one major omission, three minor issues

- Add reminder to run `update-grub` (!)
- Change `update-grub2` to `update-grub`
- Do not instruct users to replace `quiet` with `single`, as `quiet`
  may not be in the boot options
- Change `shutdown -r now` to `reboot` and `shutdown -P now` to
  `poweroff` for consistency and readability

Resolves #3558"
conorsch,2018-06-23 00:17:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2d7fbc62005731bc7f5786c60ce8f0cbd8cd78e,e2d7fbc62005731bc7f5786c60ce8f0cbd8cd78e,"Fine-tunes conditional logic in iptables template

The conditional logic checking for whether the 'ipv4' attribute was
defined wasn't properly structured: it assumed the attribute was present
in order to check it. Slight tweak to the syntax to make a more graceful
evaluation to False.

Closes #3555."
redshiftzero,2018-06-22 00:42:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/996f6cd4095190ceb0d6d488ce69645b1752a264,996f6cd4095190ceb0d6d488ce69645b1752a264,"Merge pull request #3552 from freedomofpress/3551-update-build-container

Updates builder image with latest deps"
conorsch,2018-06-22 00:01:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4183ef6a0587f19b746583d406a73f0e0f8db849,4183ef6a0587f19b746583d406a73f0e0f8db849,"Update builder image

Discovered during build of 0.8.0~rc2 debs."
redshiftzero,2018-06-21 21:41:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1bc58c97b6e56ce82f516da00d92daa55dc588e7,1bc58c97b6e56ce82f516da00d92daa55dc588e7,"Merge pull request #3539 from pierwill/docs-edit-admin-guide

Docs: Edit admin guide"
msheiny,2018-06-21 21:20:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4286cd6f9fd3ffaad707b38837e973b0d47cfd32,4286cd6f9fd3ffaad707b38837e973b0d47cfd32,"Merge pull request #3540 from freedomofpress/3533-return-1-exit-nonzero

Securedrop-admin CLI: Return 1 should eventually exit non-zero"
pierwill,2018-06-21 16:02:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab4e3555947b2927180f7f62bfe6f248be09d226,ab4e3555947b2927180f7f62bfe6f248be09d226,Edit outline hierarchy of the admin guide
redshiftzero,2018-06-21 20:31:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eacb423a43243c17616b838a10ac7367aee15fb5,eacb423a43243c17616b838a10ac7367aee15fb5,"Merge pull request #3546 from freedomofpress/resolve-do-release-notification

Disable do-release-upgrade OSSEC notification"
msheiny,2018-06-21 19:34:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d23134b824d4e85f8c0736b94644dd1bcb286302,d23134b824d4e85f8c0736b94644dd1bcb286302,"Move upgrade notifier logic to shared config pkg

@redshiftzero did some great work at debugging and preventing ubuntu
from emailing out update alerts. This is a tiny tweak to that logic to
stuff it in the securedrop-config package which already executes on both
servers."
redshiftzero,2018-06-21 18:28:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a9533b760017014db1d85601e897e3e69c817508,a9533b760017014db1d85601e897e3e69c817508,Add integration test for failure to update local git repo
redshiftzero,2018-06-19 18:40:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b013d6d9da8c65a737e4ed0313dc256685940ee3,b013d6d9da8c65a737e4ed0313dc256685940ee3,"SecureDrop-admin CLI: If sdconfig exits cleanly, it should ret 0

Previously, the success return code of sdconfig was None. If it
completes successfully, then it should return 0 for consistent
behavior with the rest of the CLI.

This is tested by the sdconfig integration tests."
kushaldas,2018-06-19 18:19:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd02cd02e789cf49bd26c8e47cc7e7990467e864,dd02cd02e789cf49bd26c8e47cc7e7990467e864,"SecureDrop-admin CLI: Return 1 should exit non-zero

Patch written by Kushal, committed by redshiftzero"
pierwill,2018-06-18 15:01:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f6c32e5c1028cae7f85d7cfe88d421be56c591d,9f6c32e5c1028cae7f85d7cfe88d421be56c591d,Edit admin responsibilities section of admin.rst
redshiftzero,2018-06-21 01:22:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0aab499c49f54330faef9ea7e3ded56fe85dfd6,f0aab499c49f54330faef9ea7e3ded56fe85dfd6,"Merge pull request #3545 from freedomofpress/docs-kernel-update-howto

Add 0.7.0->0.8.0 update docs and docs for enabling an updated kernel"
eloquence,2018-06-20 23:14:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c474c3a8620e5c8f44a0b08b1d789ad0d13c5b13,c474c3a8620e5c8f44a0b08b1d789ad0d13c5b13,Make linter happy
eloquence,2018-06-20 23:12:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2cce8a54b81313bddf23713686cdcc37f7a18ff6,2cce8a54b81313bddf23713686cdcc37f7a18ff6,Fix typo: you->your
eloquence,2018-06-20 23:11:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ad82bf464aea7037bfca731198a378be1b4f45a,5ad82bf464aea7037bfca731198a378be1b4f45a,"Match case of reference to ""Advanced options"" in bootloader to the UI"
eloquence,2018-06-20 23:09:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a1f46910307e0709467ff7f0015df7d0e31941c,8a1f46910307e0709467ff7f0015df7d0e31941c,"Replace `vim` examples in troubleshooting guide with `nano`

Easier to use for people relatively new to the Linux sysadmin world"
eloquence,2018-06-20 23:08:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5e2c000a7f1f0f60b1c510e1f9fafb4189eb4159,5e2c000a7f1f0f60b1c510e1f9fafb4189eb4159,"Add 0.7.0 to 0.8.0 upgrade instructions

Resolves #3544"
redshiftzero,2018-06-20 19:26:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/19846ba2e320cc91108b395d2b1b8bdc3ad0cb88,19846ba2e320cc91108b395d2b1b8bdc3ad0cb88,"Disable do-release-upgrade notification

At least one instance accidentally upgraded to Xenial due to the
now weekly alerts being sent to administrators. This addition
to postinst of the securedrop OSSEC packages will suppress that
notification."
eloquence,2018-06-20 20:57:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb06f34fe1e4a7dc2785c29354d61921926d488f,fb06f34fe1e4a7dc2785c29354d61921926d488f,"Add docs for enabling an updated kernel after a downgrade

Resolves #3543"
redshiftzero,2018-06-20 17:52:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fdb54d36fbf31d67d66473b0400dac2a20312287,fdb54d36fbf31d67d66473b0400dac2a20312287,"Merge pull request #3425 from octaflop/sanitize-translation-filter

Replace shell=True / sh calls with sh package (Issue #3071)"
redshiftzero,2018-06-20 17:27:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/06bf691fd57d035e5e72512c3e4cbb144b4ac7ad,06bf691fd57d035e5e72512c3e4cbb144b4ac7ad,"Merge pull request #3481 from freedomofpress/integration_gitcommands

More integration tests for securedrop-admin"
redshiftzero,2018-06-20 00:06:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa1421c06e27145278ef1900450612aac268d988,fa1421c06e27145278ef1900450612aac268d988,"Merge pull request #3541 from dachary/wip-docker-speed

docker: get a recent ubuntu:14.04 to avoid performance problems"
redshiftzero,2018-06-18 16:54:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f8cbf9ef672909e4b75f4cdffcfd6e3189dd75e8,f8cbf9ef672909e4b75f4cdffcfd6e3189dd75e8,"Merge pull request #3537 from dachary/wip-pierwill

mailmap: normalize pierwill <mail@pierwill.com>"
redshiftzero,2018-06-18 16:48:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/764b23a63c162487c793a30ccd77e7dbe5bd6efe,764b23a63c162487c793a30ccd77e7dbe5bd6efe,"Merge pull request #3538 from pierwill/docs-edit-feeback-include

Edit feedback include"
pierwill,2018-06-18 15:03:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e355cc414fc51b035ac8554e94d07870b60f2bdb,e355cc414fc51b035ac8554e94d07870b60f2bdb,Edit feedback include
abhn,2018-06-18 07:09:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce776d75a40059ffd788e5b20588bd5549f1837e,ce776d75a40059ffd788e5b20588bd5549f1837e,"made the issue templates match the ones from atom editor's repository, fixes #3526"
pierwill,2018-06-16 14:32:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9f0a8c75d3c9ec62655be997fccf4d611a775e0,d9f0a8c75d3c9ec62655be997fccf4d611a775e0,Fix broken link in CONTRIBUTING.md
redshiftzero,2018-06-16 00:00:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dfa75d2c621953c2e0d64ff2b8a56708ec55a185,dfa75d2c621953c2e0d64ff2b8a56708ec55a185,"Merge pull request #3414 from kstohr/docs-ssh_instructions_link

Add ssh instructions link to create_admin_account.rst"
redshiftzero,2018-06-15 23:27:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6106c5b8a005890fb0855aa5ebcd4a3a70ea701b,6106c5b8a005890fb0855aa5ebcd4a3a70ea701b,"Merge pull request #3508 from freedomofpress/apt-purge

better clean up of files in on removal/purge"
redshiftzero,2018-06-14 16:33:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30f20265614c21161e841bb6163dda627f5855db,30f20265614c21161e841bb6163dda627f5855db,"Securedrop-admin integration tests: Ensure accurate coverage report

We need to ensure that coverage reports are generated, copied from
the tmpdir to the same directory as the main coverage report, and
then combined at the end of the test run."
redshiftzero,2018-06-04 04:27:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a38f79dd6c09ba0bd8c479a08d4a8f4d55c19c61,a38f79dd6c09ba0bd8c479a08d4a8f4d55c19c61,Use tmpdir fixture for git-repo related integration tests
redshiftzero,2018-05-31 23:07:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/caebc2d4a0b0d86ea82b904959ecffca8b0343ce,caebc2d4a0b0d86ea82b904959ecffca8b0343ce,"CLI integration tests: Set reliable default keyserver.

In Tails, the default keyserver is sometimes flaky [0], so
we implemented a retry in securedrop-admin update [1].

In the integration tests, using the same default pool as in
Tails, there appears to still be some flakiness. Digging a bit
my hypothesis is that this is occuring when we are assigned a keyserver
that is IPv6 from the pool [2]. For test purposes, I'm setting a
reliable default keyserver in gpg.conf.

[0] https://labs.riseup.net/code/issues/12689
[1] https://github.com/freedomofpress/securedrop/pull/3257
[2] https://github.com/nodejs/docker-node/issues/380#issuecomment-306451705"
redshiftzero,2018-05-31 21:53:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1956bc4513fc73548d88786502fc92b6fa796846,1956bc4513fc73548d88786502fc92b6fa796846,CLI integration tests: Add test for updates not needed
redshiftzero,2018-05-31 21:18:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a41c1118042b33d8c3568f1dc096c9d3a6fa8f86,a41c1118042b33d8c3568f1dc096c9d3a6fa8f86,CLI integration tests: Assert expected return codes
redshiftzero,2018-05-31 20:47:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/401ef153ef26e44bfc549559bf42940686486130,401ef153ef26e44bfc549559bf42940686486130,CLI integration tests: Check out entire git repo in test setup
kushaldas,2018-05-29 16:46:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4dba9ba113d01e3a23d776071e863a5aa48623f0,4dba9ba113d01e3a23d776071e863a5aa48623f0,Fixes #3460 `securedrop-admin update` integration test
kushaldas,2018-05-29 16:45:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa098047ce44cc5d8193ccf1a64e1c8409a30344,aa098047ce44cc5d8193ccf1a64e1c8409a30344,"Fixes #3459 integration test for check_for_updates

It also updates the Dockerfile to include git command."
msheiny,2018-06-15 17:22:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/021b054712a4b40c6ab7169aebab82f49f42a2f6,021b054712a4b40c6ab7169aebab82f49f42a2f6,"Merge pull request #3531 from freedomofpress/stopgap-builder-test

Molecule builder tests: Skip test_ensure_no_updates_avail in CI"
redshiftzero,2018-06-15 16:36:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b1564693960b6febcff0c0dd3e812995a410cd98,b1564693960b6febcff0c0dd3e812995a410cd98,"Molecule builder tests: Skip test_ensure_no_updates_avail in CI

This test checks for security updates in the build container.
While this is good, security updates are needed several times a
week, and sometimes multiple time in the same day. It is critical
to update when we are building test or production debian packages,
and otherwise we should not block CI."
redshiftzero,2018-06-14 19:37:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f641072b84203afad01a294aa49df0de100649e9,f641072b84203afad01a294aa49df0de100649e9,"Merge pull request #3529 from freedomofpress/update-builder-20180614

Update builder image"
emkll,2018-06-14 18:37:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6604554828600b05ee2028c560f5b39fe135e675,6604554828600b05ee2028c560f5b39fe135e675,Update builder image
redshiftzero,2018-06-13 22:24:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e9b779e128b9721a77734568aca4cc0a91225d04,e9b779e128b9721a77734568aca4cc0a91225d04,"Merge pull request #3523 from freedomofpress/update-builder-20180613

Update Docker builder image"
redshiftzero,2018-06-13 22:19:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/88bcd969bc367f277744528536b78650a3b0f6ce,88bcd969bc367f277744528536b78650a3b0f6ce,"Update PR template to add checkbox for test plan

In the retro for 0.7.0, we discussed being more rigorous about
test plans. Part of this is team members writing test plans, ensuring
that reviewers carefully evaluate the test plan and whether it covers
all important cases, and multiple people running through the test
plan. Part of this is ideally the PR submitter writing a test plan
and validating that their PR passes the test plan prior (just to
reduce back and forth a bit)."
redshiftzero,2018-06-13 21:44:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6720a3905a8f48c74fada42770cbe3ce2f8b2560,6720a3905a8f48c74fada42770cbe3ce2f8b2560,"Break issue template into bug report and feature request

GitHub has a nice feature that presents a question to users
if there are multiple issue templates:

https://help.github.com/articles/about-issue-and-pull-request-templates/

This will make it a bit nicer for contributors to use our template to
submit bug reports and feature requests."
emkll,2018-06-13 21:37:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fbb7926a24dcc40db1449bd2fb6ce4a4fc40ba67,fbb7926a24dcc40db1449bd2fb6ce4a4fc40ba67,Update Docker builder image
redshiftzero,2018-06-13 20:59:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f69fa862df227edf7ec7b0ad3e254afc42ec1155,f69fa862df227edf7ec7b0ad3e254afc42ec1155,"Merge pull request #3494 from freedomofpress/kernel-update-4.4.135

Update kernels to 4.4.135"
conorsch,2018-06-13 15:24:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eebfbf002f624154ef3847bd37e16243e702ec74,eebfbf002f624154ef3847bd37e16243e702ec74,"Tightens up apt-test key testinfra tests

Only the filepath for the repo changes; we can still use the same assert
logic, based on the testvars, to validate the file contents."
conorsch,2018-06-12 22:52:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/350ca231a5839677dab35f0ff97ec9fb558e7be0,350ca231a5839677dab35f0ff97ec9fb558e7be0,"Reorgs conditional logic for apt-test key in staging

Let's make sure that the apt-test key is installed *only* in staging,
via vars, rather than referencing hardcoded group_names. Given the
current backend layout, we need to make sure that *both* the prod and
apt-test keys are present in the apt keyring on staging, since the
tor-apt repo doesn't have a long-lived staging machine."
emkll,2018-06-12 20:33:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d19ac6aa1f186a9f1a4eed5e8ecb3e1d8e72ad7a,d19ac6aa1f186a9f1a4eed5e8ecb3e1d8e72ad7a,"Staging VMs should point to apt-test for kernel testing

Because 4.4.135 kernels are not live on apt.freedom.press, this introduces logic to use apt-test repos for staging VMs.

* When (and only when) the environment is staging, the apt-test.key is added to the keyring
* Staging group vars override the apt-test repo
* Increase timeout for the grsec installation test
* fix tests to check for a environment-specific variable for the apt repository URL"
emkll,2018-06-05 22:14:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cbf00fe19387de42a8d83c76f75d1853338425a7,cbf00fe19387de42a8d83c76f75d1853338425a7,"Add 4.4.115 and linux-firmware-image to dependencies

- Adding the 4.4.115 kernel will prevent the 4.4.115 kernel image to be autoremoved from the servers. If there is a problem with 4.4.135 kernels, we would like to provide the ability to admins to roll back.
- Add linux-firmware-image to the list of dependencies to expand hardware support."
emkll,2018-06-04 17:20:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ddecd9233cf43fba68d1dccda823173e44ea0656,ddecd9233cf43fba68d1dccda823173e44ea0656,"Add postinst to securedrop-grsec to preverve boot order

For SecureDrop instances running 3.14.79, the postinst hook will, for instances where kernels are rolled back, specify the canonical name rather than ordinal name for the default kernel to boot. In cases where instances are rolled back, an update to 4.4.135 will likely result in the instance not booting due to the position of the kernels changing in the grub configuration."
heartsucker,2018-06-12 22:28:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2b273ba7cb986681c31da20b7dbcbe1df3e02ec0,2b273ba7cb986681c31da20b7dbcbe1df3e02ec0,"Merge pull request #3515 from dachary/wip-interface-hidden

source: s/mouse/cursor/"
emkll,2018-05-31 13:22:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9242974bcaf70a29259fcd27a202a43eab1de7ef,9242974bcaf70a29259fcd27a202a43eab1de7ef,Bump kernels to 4.4.135
msheiny,2018-06-12 17:09:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be2531945d467389a7b5f60ca13b58f2a678fb96,be2531945d467389a7b5f60ca13b58f2a678fb96,"Merge pull request #3517 from freedomofpress/update-builder-120618

Update builder image"
emkll,2018-06-12 15:27:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c2ba84987011af9eaa4717c7a14854f000aba882,c2ba84987011af9eaa4717c7a14854f000aba882,"Update builder image

* Update Ubuntu Trusty base image
* Rebuild sd-builder image"
conorsch,2018-06-11 20:15:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/289fc479ca31c686b547c598c5344301c17b5b74,289fc479ca31c686b547c598c5344301c17b5b74,"Merge pull request #3511 from freedomofpress/Jun11thSDContainerFix

Update base SD docker app container"
emkll,2018-06-11 16:45:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/055c113491db466dbdb4c51a6a0babde4a0c1feb,055c113491db466dbdb4c51a6a0babde4a0c1feb,Update docs with new docker builder image update flow
emkll,2018-06-11 16:36:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3224c1ffac8b9a444bd304d5900abf0ce0d23543,3224c1ffac8b9a444bd304d5900abf0ce0d23543,Update hash for builder image
emkll,2018-06-11 16:21:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4436c6328e47a34d448bef6be60b9f761ce8e673,4436c6328e47a34d448bef6be60b9f761ce8e673,"Merge pull request #3507 from freedomofpress/docs-kill2fa

Remove references to 2FA server console logins"
msheiny,2018-06-11 15:37:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8f75f989a92f4ffd67ee669a7e14e5c645bcbc8,a8f75f989a92f4ffd67ee669a7e14e5c645bcbc8,"Update base SD docker app container

Also update the tooling a little so manual string manipulation is no
longer needed."
msheiny,2018-06-11 14:18:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9fdecbc5f6ef483aa0fa724b9ad00c70fc19a1b1,9fdecbc5f6ef483aa0fa724b9ad00c70fc19a1b1,Address documentation Nits
msheiny,2018-06-11 13:56:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2037f9d3a9e3c9b44a245b36f22cd47e7e971d7d,2037f9d3a9e3c9b44a245b36f22cd47e7e971d7d,"Merge pull request #3505 from freedomofpress/Kill2FA

Remove 2FA from console logins for App + Mon servers"
heartsucker,2018-06-11 13:09:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a1b1502372c4ca5282bc9d0fa5422d93ae2e2623,a1b1502372c4ca5282bc9d0fa5422d93ae2e2623,"Merge pull request #3509 from dachary/wip-unread-plural

journalist: ngettext around unread as it may be singular or plural"
heartsucker,2018-06-10 16:08:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e433cdcf00441bd138c7f6d559d3544f09a53b50,e433cdcf00441bd138c7f6d559d3544f09a53b50,better clean up of files in on removal/purge
emkll,2018-06-08 18:30:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/26a4c2c1c2c5c0d0b2e3e66551029266aed20c10,26a4c2c1c2c5c0d0b2e3e66551029266aed20c10,"Merge pull request #3504 from freedomofpress/docs-kernel-troubleshooting-guide

Add generic kernel troubleshooting/rollback docs"
msheiny,2018-06-08 18:06:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a8c606227de0d74ac5e83e28162cba581a04042,3a8c606227de0d74ac5e83e28162cba581a04042,"Remove references to 2FA server console logins

This requirement is being dropped in PR #3505 so we can purge references
to it from the documentation."
msheiny,2018-06-08 17:43:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b1bd64321ba30819fa4f2091c9f5dd8dcebbbb14,b1bd64321ba30819fa4f2091c9f5dd8dcebbbb14,"Refrain from adding Google 2FA PAM mod, new installs

Should we add an absent flag here? Maybe, but I think that would be a
better addition in #3136"
eloquence,2018-06-08 17:41:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aaf3295f2a1936419a6cb24f77870773a2128f7c,aaf3295f2a1936419a6cb24f77870773a2128f7c,Point to forums with caveats re: logs etc.
eloquence,2018-06-08 17:28:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/afeeb0ca8efebed0be54b1b71dd3d368dce8f4bb,afeeb0ca8efebed0be54b1b71dd3d368dce8f4bb,Amend instructions per removal of 2FA for TTY logins
eloquence,2018-06-08 16:55:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01a40a9c04d0fbb20daf7574837efc1e6bc5ed88,01a40a9c04d0fbb20daf7574837efc1e6bc5ed88,"Fix duplicated word, clarify language, update/add screenshots

- Fix ""your your""
- Clarify the purpose of kernel updates
- Incorporate up-to-date screenshots provided by @emkll
- Remove the phrase ""near term"" from ""security of your instance"""
msheiny,2018-06-08 15:47:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/542f823279c5744b5a947940cf3eb946dc30749e,542f823279c5744b5a947940cf3eb946dc30749e,Address sensationalism in docstring AND fix flake8!
msheiny,2018-06-08 15:07:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/18bfbb4d2c6365cbb1b994c02a1ddba4807c359d,18bfbb4d2c6365cbb1b994c02a1ddba4807c359d,"Remove 2FA from existing installations

This squashes part of #3247 to remove google authenticator requirements
on TTY logins. This affects existing/new installations when they install
or upgrade the the securedrop-config package.

Also added an accompanying testinfra test to ensure this line is
removed."
msheiny,2018-06-08 14:50:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15e16305ba0a68a69d2310750eaaaa7522bd1760,15e16305ba0a68a69d2310750eaaaa7522bd1760,"Remove 2FA TTY requirement on new installations

This squashes part of #3247 to remove google authenticator requirement
on TTY logins. This commit only affects new installations or on the
crazy chance an admin runs the playbook again."
eloquence,2018-06-08 00:47:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/997f89b3420af7cae43b14246e6b38663e07429b,997f89b3420af7cae43b14246e6b38663e07429b,"""new""->""different""

In the context of this sentence, ""new kernel"" is confusing."
eloquence,2018-06-08 00:29:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/308c468475253cb3215d927c428a12109b01569e,308c468475253cb3215d927c428a12109b01569e,"Add generic kernel troubleshooting/rollback docs

These instructions are largely identical to the troubleshooting section
in the 0.5->0.6 upgrade docs, but they do not reference specific
kernel versions.

Resolves #3498"
redshiftzero,2018-06-07 04:49:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4cd26555274e93d1ec48df25f071f44e3adeb728,4cd26555274e93d1ec48df25f071f44e3adeb728,"Merge pull request #3497 from freedomofpress/test-urls

Test urls"
conorsch,2018-06-07 03:09:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9935cdc01e670352eb94b7eebcaa870c41219671,9935cdc01e670352eb94b7eebcaa870c41219671,"Merge pull request #3496 from freedomofpress/VagrantPackage07

Bump libvirt upgrade testing SD boxes to 0.7"
redshiftzero,2018-06-07 02:22:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/05f4a54e1b38983d45eaedf2a6fed07621a12deb,05f4a54e1b38983d45eaedf2a6fed07621a12deb,"Merge pull request #3448 from antsar/issue3303

Return correct exit code from securedrop-admin"
redshiftzero,2018-06-07 01:00:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6727adad80c2f74806ce0d98c4cd71344c3ec5be,6727adad80c2f74806ce0d98c4cd71344c3ec5be,"Merge pull request #3211 from freedomofpress/alembic

Use alembic to version control sqlite database"
redshiftzero,2018-06-06 21:42:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a65b3d4cedca544f3bbdf0412a59f28e675d3e50,a65b3d4cedca544f3bbdf0412a59f28e675d3e50,"Merge pull request #3501 from freedomofpress/3499_FixSD_Docker

Update SD app docker container"
emkll,2018-06-06 20:15:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e74f90677984e30a7aa779dc038ff1cd4382f06f,e74f90677984e30a7aa779dc038ff1cd4382f06f,"Update hash and fix possible typos

The hash of the builder image was updated because I pushed to the same tag to validate the update procedure."
msheiny,2018-06-06 18:06:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/def19d6a48f869a68aa95f83b71681e5c709d7ca,def19d6a48f869a68aa95f83b71681e5c709d7ca,"Fix docker SD builder container labeling

Previous '%e' flag would have added a space on single digit days. Lets
make sure it gets padded with a zero instead ;)"
msheiny,2018-06-06 18:05:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/afc5545fcc2ce05fd2b9169231f978022eb9196a,afc5545fcc2ce05fd2b9169231f978022eb9196a,"Add dev-level docs for updating quay SD builder

Really only applicable to a handful of people but since the tooling and
the location are exposed, it makes sense to just expose the
documentation to update it as well."
msheiny,2018-06-06 18:04:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c17aea5059f3ad0d3897f67dada669abdffd3246,c17aea5059f3ad0d3897f67dada669abdffd3246,Update SD docker container for latest sec. fixes
heartsucker,2018-06-05 22:09:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a4122db678da73f58602310e88c44893977d230,4a4122db678da73f58602310e88c44893977d230,"Merge pull request #3479 from dachary/wip-missed-journalist-notification

journalist notifications: allow 30 minutes variance in reboot times"
heartsucker,2018-06-05 18:12:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/947680fa1cbf7f1517af3de10a50a2cc33a32afe,947680fa1cbf7f1517af3de10a50a2cc33a32afe,use sqlite3 over sqlite to init db
heartsucker,2018-06-05 15:18:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78b7658d8dbe4f3866c1df0b6f0c7fde2eb4cb94,78b7658d8dbe4f3866c1df0b6f0c7fde2eb4cb94,url_for for test_source.py
heartsucker,2018-06-04 11:50:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f91e030a9566a6fda985c67240db7be33a0166f,3f91e030a9566a6fda985c67240db7be33a0166f,url_for for test_journalist.py
heartsucker,2018-06-04 19:55:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c7af10f8724a99617e4d17c36c1206957d5b7d6,1c7af10f8724a99617e4d17c36c1206957d5b7d6,update docs to ensure config.py exists during migrations
heartsucker,2018-06-04 19:53:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d0fa0aa3df39a496d8552b357047f162f0e4f99b,d0fa0aa3df39a496d8552b357047f162f0e4f99b,remove db backup on successful migration
msheiny,2018-06-04 19:14:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b9512a419d6a11706abc980852f5007993b8adac,b9512a419d6a11706abc980852f5007993b8adac,Bump libvirt upgrade testing SD boxes to 0.7
heartsucker,2018-06-04 09:39:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca84f19896d6a34f76d1f4b75bd2719dc46ef8ba,ca84f19896d6a34f76d1f4b75bd2719dc46ef8ba,url_for for test_2fa.py
heartsucker,2018-06-04 09:34:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/490e7492ec3ffccd6967c922ff77f37a5202c881,490e7492ec3ffccd6967c922ff77f37a5202c881,added SERVER_NAME to test fixtures
redshiftzero,2018-05-24 00:05:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/91073f5ad8d002bd4200be5f32f2b7582202f765,91073f5ad8d002bd4200be5f32f2b7582202f765,QA data loader: Simplify dangling submissions case
heartsucker,2018-05-23 19:11:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f354235913fe14f86ceb032e5ebd2684466ead6f,f354235913fe14f86ceb032e5ebd2684466ead6f,add message about slowness to qa loader
heartsucker,2018-05-23 19:10:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ea2c35b4d4fc6721f12ded4ac637dd2c38f7bf1,0ea2c35b4d4fc6721f12ded4ac637dd2c38f7bf1,add both message and docs as submissions
heartsucker,2018-05-23 15:22:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b88c32a50c3ffa00cce5851685eb2fda752785f8,b88c32a50c3ffa00cce5851685eb2fda752785f8,remove sources to create dangling sumbissions
redshiftzero,2018-05-23 05:32:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58cc3c542d023d4c86278a5f2a741d46d3f744ad,58cc3c542d023d4c86278a5f2a741d46d3f744ad,"QA loader: Reduce disk space of test files

Since we generate a fake file for replies and submissions, we
should limit the number of replies generated per iteration to 3
(previously it was 100). In addition, we need to use a very steep
file size distribution, or the total size of the files generated
is unwieldly (i.e. fills up the staging VM)."
redshiftzero,2018-05-23 05:30:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/26db74b4a581cac26a4ff6099d0952318e786ec1,26db74b4a581cac26a4ff6099d0952318e786ec1,"QA loader: Sources should be viewable in the journalist interface

To do so, they must have pending set to False (by default it is
True, and such sources will not appear in the journalist interface),
as well as a filesystem_id that is not None. Any source that has
a filesystem_id of None will cause a 500 server error, so this is
a reasonable assumption to make for existing instances."
heartsucker,2018-04-16 15:47:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2717c7a049f9506b17518b48ca31e708b0954581,2717c7a049f9506b17518b48ca31e708b0954581,updated docs to explain qa_loader.py
heartsucker,2018-04-16 15:24:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2685e5f60ceb946983dc848b02e9b4aab19ccd9a,2685e5f60ceb946983dc848b02e9b4aab19ccd9a,added qa_loader.py to rsync filter
heartsucker,2018-04-16 12:52:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed07457d9cc875e406eaa2b5bf84e1e4527d5c04,ed07457d9cc875e406eaa2b5bf84e1e4527d5c04,adds loader for dummy data for QA
heartsucker,2018-04-27 08:50:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09c183ed17c2cd5c6c36271fc8ec11d4f2f5f7d8,09c183ed17c2cd5c6c36271fc8ec11d4f2f5f7d8,factor out acceptable diceware characters
heartsucker,2018-04-16 08:17:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cfe3996358810fa878692b04c2e477cc66596891,cfe3996358810fa878692b04c2e477cc66596891,added test to ensure alembic and models are synchronized
heartsucker,2018-04-12 13:08:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3da1cac3f0b1377ea8689af6ec0f3f45fbd06437,3da1cac3f0b1377ea8689af6ec0f3f45fbd06437,added docs about migration testing
heartsucker,2018-04-12 15:42:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09f61e1975e99873efa8d3fdb08bc15bfc84814e,09f61e1975e99873efa8d3fdb08bc15bfc84814e,added migration tests to rsync filter
heartsucker,2018-04-12 12:39:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/252cae999688daab25f729c74be36c68204fb782,252cae999688daab25f729c74be36c68204fb782,added dummy migration test for enabling pragmas
heartsucker,2018-04-12 12:38:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0a13e13bf7b9bc23df3107b9840e9386a6ed9bac,0a13e13bf7b9bc23df3107b9840e9386a6ed9bac,added migration test for initial migration
heartsucker,2018-04-16 07:45:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/56b7306403e90a05c2f9f0c292286c8f5d7fec44,56b7306403e90a05c2f9f0c292286c8f5d7fec44,added migration data generation helpers
heartsucker,2018-04-12 08:25:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/523cc3a7e6f8381e0454ad178afbcd258c3078e5,523cc3a7e6f8381e0454ad178afbcd258c3078e5,added up/downgrade test runners
heartsucker,2018-04-05 19:23:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/244ab7751bf4c1f4ce627c934bd38f9798c7ad82,244ab7751bf4c1f4ce627c934bd38f9798c7ad82,added test up/downgrade schema idempotence
heartsucker,2018-04-05 19:21:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/945060838cf7407e550540b4b7a62080b6eb5bb9,945060838cf7407e550540b4b7a62080b6eb5bb9,DRY alembic test functions
heartsucker,2018-04-05 16:32:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e4abf8f23e6034ec509907dd86d4691da3326b7,1e4abf8f23e6034ec509907dd86d4691da3326b7,added database backups to app code postinst script
heartsucker,2018-04-05 13:55:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04674324c1c451b8297bc1f47994a82884f53a6c,04674324c1c451b8297bc1f47994a82884f53a6c,added rudimentary alembic upgrade/downgrade tests
heartsucker,2018-04-04 15:26:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f89e7ced74c2257e69d314b53a6c0cff476282e9,f89e7ced74c2257e69d314b53a6c0cff476282e9,docs on how to do alembic migrations
heartsucker,2018-04-04 15:26:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5de6039da434996e9b4043260464ab81feb487b5,5de6039da434996e9b4043260464ab81feb487b5,added alembic migration helper
heartsucker,2018-04-03 15:04:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3819dc993345a037293331e9ee6b0cd2a44488cf,3819dc993345a037293331e9ee6b0cd2a44488cf,remove global read from securedrop sqlite db
heartsucker,2018-04-03 15:00:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e18cd02918bc583259a45451124d87f2b56a988,1e18cd02918bc583259a45451124d87f2b56a988,added directory creation/deletion to maintainer scripts
heartsucker,2018-04-03 14:55:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/69b1505d5893b2200450a7bab8ec28bc14cfbcef,69b1505d5893b2200450a7bab8ec28bc14cfbcef,remove directory creation from ansible
heartsucker,2018-03-31 17:09:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f0cf35efd3c03862e4b1ae16e9e9ab8a45e5a7a,8f0cf35efd3c03862e4b1ae16e9e9ab8a45e5a7a,better cleanup in postrm script
heartsucker,2018-03-31 10:56:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c493d77e2685c807d4995ff7a1ed0b46e4933f6,1c493d77e2685c807d4995ff7a1ed0b46e4933f6,update manage.py to use alembic
heartsucker,2018-03-31 10:32:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da06736a03f2c2d87640bf46673dc98577800a83,da06736a03f2c2d87640bf46673dc98577800a83,added alembic migrations to debian postinst script
heartsucker,2018-04-04 15:18:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2748d1659132b61d8a901370db076eaa367138c4,2748d1659132b61d8a901370db076eaa367138c4,update debian package to depend on sqlite3
heartsucker,2018-04-04 15:19:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aebb29c79bb8cb564f89d6e887589dd304661d3e,aebb29c79bb8cb564f89d6e887589dd304661d3e,update install dependencies to require sqlite3
heartsucker,2018-04-04 15:18:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c3c9b756ac5a0e9fce359ebae18c8210fa4266a2,c3c9b756ac5a0e9fce359ebae18c8210fa4266a2,update debian package to depend on sqlite3
heartsucker,2018-03-31 14:03:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1ead6bc6b9c37471a2a2eaa6ff8bb7eeb9185db0,1ead6bc6b9c37471a2a2eaa6ff8bb7eeb9185db0,added sqlite to dev Dockerfile
heartsucker,2018-03-31 10:48:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/61e159fc1eb33d44ecbe5ed4587a8b41be5ae746,61e159fc1eb33d44ecbe5ed4587a8b41be5ae746,ensure sqlite pragmas enabled
heartsucker,2018-03-30 21:36:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/34bf6b6f4d7727830ba66937133d3f0fa1064c90,34bf6b6f4d7727830ba66937133d3f0fa1064c90,initial alembic migration
heartsucker,2018-03-30 21:35:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97ce6b031630ff65e06c637c63e98e2fd6bdef3e,97ce6b031630ff65e06c637c63e98e2fd6bdef3e,added alembic skeleton
heartsucker,2018-03-30 19:06:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/006c0c1d53c777420b53444a9031cc6cd6de74d7,006c0c1d53c777420b53444a9031cc6cd6de74d7,add alembic to requirements
redshiftzero,2018-05-31 16:25:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2cd07a16c843fb536aefb27035e1544edb453274,2cd07a16c843fb536aefb27035e1544edb453274,"Merge pull request #3472 from freedomofpress/integration_sdadmin

Integration tests for securedrop-admin sdconfig"
redshiftzero,2018-05-31 01:29:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e378851c4a560dae85945c3aad595de460fc1476,e378851c4a560dae85945c3aad595de460fc1476,"Merge pull request #3480 from pierwill/docs-getting-started

Edit contribution guide"
redshiftzero,2018-05-30 23:23:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb9dd9ac01e7693b34b202b805bfdf942ea72167,fb9dd9ac01e7693b34b202b805bfdf942ea72167,Strip off ANSI escapes and assert expected defaults are present
redshiftzero,2018-05-30 22:10:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/52bcf861bd300f8434d6b6d25d39470f7afbbe6f,52bcf861bd300f8434d6b6d25d39470f7afbbe6f,"Assert the expected return codes, remove time.sleeps

We can use the spawn method's timeout keyword arg to wait for up to
10 seconds to elapse. This obviates the need for explicit
time.sleeps.

Once calling the close method, we can then assert that the
return codes are what we expect."
redshiftzero,2018-05-29 23:13:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b8e4f7e017350e9e29a92f2c002df5e30466e5f2,b8e4f7e017350e9e29a92f2c002df5e30466e5f2,securedrop-app-code deb: Remove extra python-pip in Depends field
pierwill,2018-05-28 03:52:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00f5ff7f0327da6301892880c98e006988fe6ee9,00f5ff7f0327da6301892880c98e006988fe6ee9,Edit contribution guide
heartsucker,2018-05-25 09:00:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4bd7d8f218317083427dfc6ee994c6a673795f05,4bd7d8f218317083427dfc6ee994c6a673795f05,"Merge pull request #3476 from pierwill/docs-doc-guide-fixes

Minor docs fixes"
pierwill,2018-05-24 14:08:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d32fa713cba65c630eb52b3f62064ba67a379aa,6d32fa713cba65c630eb52b3f62064ba67a379aa,edit documentation guidelines
antsar,2018-05-25 02:03:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dc364e576685c29715489163f70547d4879b3755,dc364e576685c29715489163f70547d4879b3755,Specify exit codes for securedrop-admin
antsar,2018-05-16 23:32:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae734dbf35a4aca88135a2f39fc7499351575a92,ae734dbf35a4aca88135a2f39fc7499351575a92,Return correct exit code from subprocess in securedrop-admin
emkll,2018-05-24 19:18:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2dd7bbe177fb4c99c8b9ad9cc6efc59c9b3574df,2dd7bbe177fb4c99c8b9ad9cc6efc59c9b3574df,"Merge pull request #3458 from freedomofpress/cryptography-2.0.3

replace pycryptodome with pyca/cryptography 2.0.3"
pierwill,2018-05-24 14:06:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce27d44e0acd4fc3fdecb42c3328a8fe7ac1f6a7,ce27d44e0acd4fc3fdecb42c3328a8fe7ac1f6a7,edit the docs-branch include
redshiftzero,2018-05-24 01:22:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab3be381468fa58b93cc9b96ad11d1724df3444c,ab3be381468fa58b93cc9b96ad11d1724df3444c,"Merge pull request #3475 from freedomofpress/UpdateBuildContainer

Update build container with latest procps updates"
kushaldas,2018-05-24 01:07:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/039fbfd39cd91a040259acd605ecab90463949f0,039fbfd39cd91a040259acd605ecab90463949f0,Adds commment to explain expect_exact function
redshiftzero,2018-05-24 00:51:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/962b3aff9b1dfc362103169ef6163c5da6cb568f,962b3aff9b1dfc362103169ef6163c5da6cb568f,"Merge pull request #3422 from kstohr/docs-reset_passphrase

Docs reset passphrase"
msheiny,2018-05-23 20:51:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/56250b34a56acaecf6084d68f220c9f7bf4d4c49,56250b34a56acaecf6084d68f220c9f7bf4d4c49,"Update build container with latest procps updates

Encountered failing tests because security updates were available for
procps and friends"
heartsucker,2018-05-23 18:08:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5de801bf43d026fd5bf7592d96aa17ed4f56b0f9,5de801bf43d026fd5bf7592d96aa17ed4f56b0f9,"Merge pull request #3331 from freedomofpress/SpeedDebs

Speed up debian build process"
msheiny,2018-05-22 14:59:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/35fe72708623be25de2d2a340f2df8506cddefc6,35fe72708623be25de2d2a340f2df8506cddefc6,"Rebuild docker-deb base-image, push to quay

* Expanded comments here at request of PR reviewer.
* Made a fix for a bug in the builder makefile target
* Added a `--no-cache` to the docker build target since we are relying
on an apt-get upgrade to pull the latest base image deps."
msheiny,2018-05-22 14:58:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/785c09a293f0c1fa257f7ae41198273d7ce1833f,785c09a293f0c1fa257f7ae41198273d7ce1833f,"Compress docker layers, expand comments for FROM

In response to a PR review, seems like a good idea to add more comment
context re: what actual tagged image we are pulling from :)"
msheiny,2018-05-21 14:42:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d6947c4fe8ccc5ca7be57d992c5a21874e3d7b74,d6947c4fe8ccc5ca7be57d992c5a21874e3d7b74,"Remove docker caching in staging scenario

This is not as critical since we started posting the image to quay but
it should be brought back eventually. Punting on that now cause I have
other tickets to do and I dont want to go down a rabbit hole :)"
msheiny,2018-05-21 14:16:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8eed60236f0f07635071161b0c068a9be703072e,8eed60236f0f07635071161b0c068a9be703072e,"Add check for security updates in deb container

Not sure this is the best way to do this long-term but for now this
should alleviate team-member concerns regarding the base image
accumulating vulnerable software and forcing our hand to update it."
msheiny,2018-05-21 14:14:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5437e5857cfc72ffcc659388b192613b9878ed9a,5437e5857cfc72ffcc659388b192613b9878ed9a,"Simplify dependency pegging, utilize quay.io

Previous docker logic relied on pegging each dependency to a version to
improve predictability across multiple developers machines. This will be
annoying to maintain and lock. Instead, lets do it centrally and
maintain that image on quay.io for developer to pull/inspect at-will."
msheiny,2018-05-21 14:11:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c04317dfff8d3d703ddbbd99a8a9c2cd94279b3,1c04317dfff8d3d703ddbbd99a8a9c2cd94279b3,"Fix skip on latest 2.4 ansible, mv build-deb-pkgs

Two things done here:
* When we bumped ansible/molecule versions the previously working logic
targeting a host per role was barfing on the delegation. Does this make
sense .. maybe they just ""fixed the glitch"" that allowed me to do that
previously. :shrug: dont have time to investigate but implemented a fix
on the conditional.

* Moved the build-deb-pkgs playbook from ansible folder to molecule.
Why? Its worthless on its own without the standup of the containers so
it might as well live inside the molecule folder and save some space."
msheiny,2018-05-01 21:10:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/36977ee6ac3e11ca8dd74e952bb7ba0c2460f971,36977ee6ac3e11ca8dd74e952bb7ba0c2460f971,"Shake out bugs in CircleCI debian caching logic

Might have to rebase and append to this list *fingers crossed*. Right
now this commit fixes:

* A filename mis-type on the docker caching load logic"
msheiny,2018-05-01 18:47:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d7b4ef0dd7c13427fa5d0f9c3ff106960a47f74,0d7b4ef0dd7c13427fa5d0f9c3ff106960a47f74,"Disable ""skip"" task output in playbook run

Since we are using strategy `free` and a bunch of conditionals to run
the playbook, if we don't apply this `skippy` callback plugin, we see a
TON of OUTPUT that is not helpful.

See https://docs.ansible.com/ansible/2.5/plugins/callback/skippy.html
for details."
msheiny,2018-05-01 18:11:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc015b4f121e95d0eddc7c47f47f9b94cb7adcca,fc015b4f121e95d0eddc7c47f47f9b94cb7adcca,"Exclude build-deb-pkgs.yml from max_fail_percentage

Due to the use of `strategy: free` under the debian build playbook, I
was receiving WARNINGS when attempting to utilize `any_errors_fatal`:

>  [WARNING]: Using any_errors_fatal with the free strategy is not
>  supported, as tasks are executed independently on each host

It seemed to be a better option to just strip out a noop and ignore
those settings here than continue to receive warnings (which we should
consider a bad developer UX)."
msheiny,2018-05-01 17:39:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c506c46e6185385d1f9e93c0ca33e5a8f081beac,c506c46e6185385d1f9e93c0ca33e5a8f081beac,Resolve flake8 nits
msheiny,2018-05-01 17:20:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b7278e35c8b2930310cedc259abb5d11598756e,8b7278e35c8b2930310cedc259abb5d11598756e,"Utilize docker layer image caching in CircleCI

Closely matches the logic utilize in the tests scenario. The difference
here is that we only have one attribute to monitor for changes and that
is the dockerfile itself. If we ever add attributes outside the
dockerfile that change we'll need to update this caching logic
accordingly."
msheiny,2018-05-01 16:52:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/985936eb410658aaaaf4bf0c15111844c5ea5440,985936eb410658aaaaf4bf0c15111844c5ea5440,"Drop requirement for volume mounting

Previous setup, would have broken CircleCI functionality with it's
remote docker usage."
msheiny,2018-05-01 14:22:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5272fc97d964e756d5f8f0e4b6ce7dbabf1ca4ec,5272fc97d964e756d5f8f0e4b6ce7dbabf1ca4ec,"Clean-up debian packaging tests

* Fix some pathing issues
* Peg debian pkg checks to a container that will mount the build
directory
* Removed three tests that can be seen as problematic:

 - a test that checks to see that there are no system updates. I see
 this as problematic because this assumes we are not pegging
 dependencies and downloading/installing whatever is latest upstream.
 This makes things harder to QA and test if we have no idea what
 software we are using to build.

 - two checks removed that confirm packages have been installed .. I'm
 not sure the exact point of these since the packages will fail build
 without these. These have also been brought into the dockerfile
 definition outside the scope of ansible."
msheiny,2018-04-30 22:27:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be2d3b7b54723c0186c0f9f5f12faf16c25295e0,be2d3b7b54723c0186c0f9f5f12faf16c25295e0,"Front-load Debian packaging deps into docker build

In an effort to speed up debian compilation and make things more
predictable, I tried to accomplish three things here:
* Remove apt logic from ansible and put into docker

Ansible is incredibly slow at handling this AND if we want to
parallelize we cant have each container doing the exact same apt work.
Thats just silly.

* Peg apt dependencies to specific versions

This makes packages that we produce more reliable and easier to QA.
There is an added burden that we have to check for upstream updates
however.

* Parallelize the debian build process so its more efficient

I added a container per package and passed a setting to ansible to force
it to run each host as fast as possible."
heartsucker,2018-05-23 16:03:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d8ab1888a1c0d26f39ef13d130ae41b021ff198,0d8ab1888a1c0d26f39ef13d130ae41b021ff198,"Merge pull request #3470 from freedomofpress/3318-FixStaging

Fix staging environment"
kushaldas,2018-05-23 13:15:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4eadb05e186797b75e83ff1416e61ec7396cb626,4eadb05e186797b75e83ff1416e61ec7396cb626,Adds pexpect module and uses subprocess calls
msheiny,2018-05-23 13:50:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/82c48d78bf60b7a337f7e4b8ab2688d47b899538,82c48d78bf60b7a337f7e4b8ab2688d47b899538,"Fix for AWS, Vagrant packager scenario

Introduced a bug while trying to remove this logic directly from the
staging group vars."
msheiny,2018-05-23 13:36:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2015b6d43b610083a6daff509de06c1cd727048a,2015b6d43b610083a6daff509de06c1cd727048a,"Attempt to fix Mac/Linux variable divergence

Uncovered a really strange issue of difference in structure between Mac
and Linux on local interface structure. Should probably open an upstream
bug report butttt I'm kinda pressed for time here."
msheiny,2018-05-23 13:34:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9a5c8ddb1a06363c327748a7d83238c40446cf2c,9a5c8ddb1a06363c327748a7d83238c40446cf2c,"Staging - Work-arounds to allow VBox direct connect

Appears that previously Vagrant + Virtualbox was using some kind of port
forwarding instead of directly connecting. We are trying to more closely
mimic prod, so lets drop the NAT business, and allow direct connections."
kushaldas,2018-05-23 13:00:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/95410bdb6b4c581ddd6b204184516ac70de5d1e0,95410bdb6b4c581ddd6b204184516ac70de5d1e0,Adds test for enabling https prompt
kushaldas,2018-05-23 12:07:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4678d4363313b706b67e0126525c549b4bc3204f,4678d4363313b706b67e0126525c549b4bc3204f,Tests journalist alert prompts
kushaldas,2018-05-23 11:15:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fbc3acf28f92d6c0f98c452416f21cb6fb7f7036,fbc3acf28f92d6c0f98c452416f21cb6fb7f7036,Refactor the test into differnet functions for verification
kushaldas,2018-05-23 10:32:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4fd6b1e737c1d158699c5b78240e881d0a02f512,4fd6b1e737c1d158699c5b78240e881d0a02f512,Initial integration test for sdconfig
msheiny,2018-05-22 20:08:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/915a80a5b1b8cc8f7ad93e25777e4a6f3d658cd6,915a80a5b1b8cc8f7ad93e25777e4a6f3d658cd6,"Remove primary_network_iface var from group_vars

We really shouldn't be relying on this variable since its usefulness has
been superceded by more dynamic interface detection. Its got a few uses
in CI under AWS so lets peg it to that environment."
msheiny,2018-05-22 19:53:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4fd5b29d21fa595b478dd849771b5446bee1a245,4fd5b29d21fa595b478dd849771b5446bee1a245,"Clean-up misc tagging duplication in iptables task

This is all duplicate logic since we can enforce these tags at the
main.yml include level."
msheiny,2018-05-22 19:51:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d17fd92762131fa632f81790822f4ec3072ddcf2,d17fd92762131fa632f81790822f4ec3072ddcf2,"Staging + Vagrant - ensure 'vagrant ssh' works

Previous commit made sure that ansible always connects via the
hard-coded IP. Unfortunately we cant always tell vagrant to do this
because when vagrant first boots a machine it needs to SSH in to set a
static IP up... sort of a chicken / egg problem here. WHAT we can do
however, is allow vagrant to first utilize the standard connection and
then force the `vagrant ssh` command to utilize the static IP. Win-win
:shrug:"
msheiny,2018-05-22 19:48:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81fea603a27d6cc4359b1f3130976f2827b2dad2,81fea603a27d6cc4359b1f3130976f2827b2dad2,"Staging + Vagrant - force SSH over hard-coded IP

We are setting up a hard-coded interface with an IP but ansible is
essentially ignoring that when setting up the connection. Lets force
ansible's hand here. The group data is no longer needed here sicne thats
passed via the inventory file."
msheiny,2018-05-22 17:31:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fba14344ab31485586ca19a62bcb2d241d8576d7,fba14344ab31485586ca19a62bcb2d241d8576d7,"Conditionally run `route` instead of `ip` on Mac

For our mac friends, the ip command is non-existent but we should be
able to get the same output via the built-in `route` command. Why dont
we use `route` on linux as well!? Cause the output is different on both
anyways...."
redshiftzero,2018-05-22 18:25:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0815a910b72ff8c1341fea92912cc7bfd8d9b6f9,0815a910b72ff8c1341fea92912cc7bfd8d9b6f9,"Merge pull request #3468 from pierwill/docs-admin-tails

docs: regularize Tails USB terminology"
redshiftzero,2018-05-22 18:05:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8c1aa87742dcd4e0234e4f527ed42af29c75fa47,8c1aa87742dcd4e0234e4f527ed42af29c75fa47,"Merge pull request #3467 from pierwill/docs-before

docs: Revise before_you_begin.rst"
redshiftzero,2018-05-22 18:03:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6047cfa097e79b99d1dc7ad8ea761f458685f70,c6047cfa097e79b99d1dc7ad8ea761f458685f70,"Merge pull request #3456 from freedomofpress/yet-more-journalist-pytest

Yet more journalist pytest"
msheiny,2018-05-22 14:21:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8e332faf9a540573b9cd279624475e0792c8e97,e8e332faf9a540573b9cd279624475e0792c8e97,"Merge pull request #3466 from dachary/wip-3465-rules-v4

 ansible: rules_v4 does not need to inspect unused ipv4 details"
pierwill,2018-05-20 14:03:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b6f09e0ed085ac257a5cf4610787d43bdf7436ad,b6f09e0ed085ac257a5cf4610787d43bdf7436ad,docs: Revise before_you_begin.rst
heartsucker,2018-05-22 13:22:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/429f5d46c939dfa0995bd0aeca2876992d596ef0,429f5d46c939dfa0995bd0aeca2876992d596ef0,"Merge pull request #3464 from dachary/wip-3462-i18n-list

docs: better formatting of i18 codes"
heartsucker,2018-05-18 13:05:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f185c412befc4e6831103a93ec8d596b122989f,4f185c412befc4e6831103a93ec8d596b122989f,pytest fixtures: test_admin_sets_user_to_admin
heartsucker,2018-05-18 13:00:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/af80cdc5ef18d8c3f6a0c0cea8bbed88f5764dc7,af80cdc5ef18d8c3f6a0c0cea8bbed88f5764dc7,pytest fixtures: test_admin_add_user_yubikey_correct_length_with_whitespace
heartsucker,2018-05-18 12:59:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c379946ab200b5eb58a8b8d57c590f26c5f7e2d5,c379946ab200b5eb58a8b8d57c590f26c5f7e2d5,pytest fixtures: test_admin_add_user_yubikey_valid_length
heartsucker,2018-05-18 12:57:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/52c961c573018592b2c751a374e1667ffdf02ec1,52c961c573018592b2c751a374e1667ffdf02ec1,pytest fixtures: test_admin_add_user_yubikey_odd_length
heartsucker,2018-05-18 12:54:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f42322565a2f947f2e933fee5ffca6c862dd103d,f42322565a2f947f2e933fee5ffca6c862dd103d,pytest fixtures: test_admin_add_user_too_short_username
heartsucker,2018-05-18 12:46:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac8b83b29d71d6bbc03a02c9d7275ab30b81458f,ac8b83b29d71d6bbc03a02c9d7275ab30b81458f,pytest fixtures: test_admin_add_user_without_username
heartsucker,2018-05-18 12:44:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aaeaab3bf85b327dc857361184774a905b849d5f,aaeaab3bf85b327dc857361184774a905b849d5f,pytest fixtures: test_admin_add_user
heartsucker,2018-05-18 12:38:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a557d3627378e3d061f08a67c86ee09d4db2dd6,1a557d3627378e3d061f08a67c86ee09d4db2dd6,pytest fixtures: test_http_get_on_admin_add_user_page
heartsucker,2018-05-18 12:33:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c5f2b664cb1828e9531b51104dee8743c6947673,c5f2b664cb1828e9531b51104dee8743c6947673,pytest fixtures: test_http_get_on_admin_new_user_two_factor_page
heartsucker,2018-05-18 12:30:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/198677630e543fca9238e2f2b7655851cebe4c62,198677630e543fca9238e2f2b7655851cebe4c62,pytest fixtures: test_admin_new_user_2fa_redirect
heartsucker,2018-05-18 12:27:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2043469e5dd19a6fa786a236873fe49457dbcfc,e2043469e5dd19a6fa786a236873fe49457dbcfc,pytest fixtures: test_admin_resets_hotp_with_missing_otp_secret_key
heartsucker,2018-05-18 12:24:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e326c1d8e90f1a72bbf85c53f3342d379e63237,7e326c1d8e90f1a72bbf85c53f3342d379e63237,pytest fixtures: test_user_resets_totp
heartsucker,2018-05-18 12:20:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/157d9c7980e4f0a188ebab3f1a841b0b86494303,157d9c7980e4f0a188ebab3f1a841b0b86494303,pytest fixtures: test_admin_resets_user_totp
heartsucker,2018-04-17 20:59:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a47e7550635b6591c521c59608652c88192e110d,a47e7550635b6591c521c59608652c88192e110d,pytest fixtures: test_user_resets_user_hotp_error
heartsucker,2018-04-17 20:40:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/725f8e1de6f7481b615e79732e112e587b5e509c,725f8e1de6f7481b615e79732e112e587b5e509c,pytest fixtures: test_user_resets_user_hotp_format_non_hexa
heartsucker,2018-04-17 19:56:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c3b864eec820f0e4409a9cc115f69a0e00da239a,c3b864eec820f0e4409a9cc115f69a0e00da239a,pytest fixtures: test_user_resets_user_hotp_format_odd
heartsucker,2018-04-17 15:39:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/363ceb4d3f1a526e6087eaf1849847515a4492e2,363ceb4d3f1a526e6087eaf1849847515a4492e2,pytest fixtures: test_user_resets_hotp
heartsucker,2018-04-17 15:25:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b188c49de19e8bfb6b75becbea76c14adf79f37,9b188c49de19e8bfb6b75becbea76c14adf79f37,pytest fixtures: test_admin_resets_user_hotp_error
heartsucker,2018-04-17 15:14:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0eb87f39cb33434c213688fcd0f93f1c9c2953f4,0eb87f39cb33434c213688fcd0f93f1c9c2953f4,pytest fixtures: test_admin_resets_user_hotp_format_odd
heartsucker,2018-05-22 10:34:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ad5511beae32294ae6e09908004e6bb9db4ffad1,ad5511beae32294ae6e09908004e6bb9db4ffad1,update manage.py to pop app contexts so tests pass
heartsucker,2018-05-22 10:33:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/29978fa956b5c7e26e15c4ac669e21c9798212dd,29978fa956b5c7e26e15c4ac669e21c9798212dd,push app context before yielding fixture
pierwill,2018-05-22 03:49:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/56b1a9176ccfae06abf87bac08b03ed1a7352645,56b1a9176ccfae06abf87bac08b03ed1a7352645,"docs: regularize Tails USB terminology

fixes #3023"
redshiftzero,2018-05-21 22:16:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a35752f52ecbc78624efc57c5dca811585fb7aa,7a35752f52ecbc78624efc57c5dca811585fb7aa,Document use of close() method for posterity
kstohr,2018-05-15 16:23:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9193ea8566552dd67ea75148f13b96a5afb74f1f,9193ea8566552dd67ea75148f13b96a5afb74f1f,added link to ssh instructions
pierwill,2018-05-19 16:44:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca8db8f530a20a1dc3674fa1ed4d8209eddedf85,ca8db8f530a20a1dc3674fa1ed4d8209eddedf85,Edit and revise installation guide
kstohr,2018-05-15 19:07:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9a56ca112d14f2d848946194a8858a6f8a878faa,9a56ca112d14f2d848946194a8858a6f8a878faa,added reset passphrase token instructions
redshiftzero,2018-05-19 00:46:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f636da0f886f7391c3de2c65a681c4a7af02d53,7f636da0f886f7391c3de2c65a681c4a7af02d53,Secure tempfile: Only call decryptor.finalize() when we are done
redshiftzero,2018-05-18 16:44:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ecfb0364403c330e6c32268ceb3f08aa940accc9,ecfb0364403c330e6c32268ceb3f08aa940accc9,Add metadata guide written by @harlo and typeset by @olivemartini
redshiftzero,2018-05-18 00:01:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/117acb664588c8664f23ee0101279e35bf601279,117acb664588c8664f23ee0101279e35bf601279,"Install cryptography==2.0.3

Latest pyca/cryptography requires setuptools>18.5, which we do not
have on prod installs. In order to make this transition in the next
minor release however, we can temporarily pin to a slightly older
version of pyca/cryptography, such that we can install it using
the version of setuptools that we have.

For the Docker dev env, we need libffi-dev installed to pip install
cryptography."
reaperhulk,2018-05-11 14:10:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2377dcad9330da63ffb8861b7626768a4e2cc0cc,2377dcad9330da63ffb8861b7626768a4e2cc0cc,swap to using cryptography and stdlib
redshiftzero,2018-05-18 00:52:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/525daadfb198e33a74e88e033dc60178612b1a0f,525daadfb198e33a74e88e033dc60178612b1a0f,Whitelist new source template screensaver.html
redshiftzero,2018-05-17 21:50:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df68683dc0f76fa8a193caf1d3a6c7ff6c77d613,df68683dc0f76fa8a193caf1d3a6c7ff6c77d613,"Update to a more recent version of pip-tools

In pip 10, pip.req (used by pip-compile) was moved to
pip._internal.req. We need to move to a more recent version of
pip-tools, or we will get an ImportError when pip-compile tries to
import pip.req."
heartsucker,2018-05-17 09:40:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f9486a6bc0e469824f1d4b608a0b5373202aedbc,f9486a6bc0e469824f1d4b608a0b5373202aedbc,"Merge pull request #3439 from antsar/issue1975

Add explanatory text to screensaver."
redshiftzero,2018-05-17 00:53:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae52168c851e8112b8925554957fd5012534c44d,ae52168c851e8112b8925554957fd5012534c44d,SecureDrop 0.8.0~rc1
redshiftzero,2018-05-16 00:01:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5d905b8fa95e28dd4807954c60a886b9fab99f83,5d905b8fa95e28dd4807954c60a886b9fab99f83,"SecureDrop 0.7.0

(cherry picked from commit f1fdb5c301c2b91a1dc105ad24ccb650e08aaa86)"
emkll,2018-05-15 02:04:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45f4cc1d87d17cc1f6e863edb5304aa6b3babe76,45f4cc1d87d17cc1f6e863edb5304aa6b3babe76,"SecureDrop 0.7.0~rc5

(cherry picked from commit 840ac76d5e8896f8af1ebed36bc929570b65a6c0)"
emkll,2018-05-10 12:19:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/602e062d0a46e499d8d9c86a3ddecfea3f139b8c,602e062d0a46e499d8d9c86a3ddecfea3f139b8c,"SecureDrop 0.7.0~rc4

(cherry picked from commit eec1446d9aed27d65f0c781b8985c8fd3d71093e)"
emkll,2018-05-04 21:34:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d723da4a1960b947e7e3c26e9fe1c0e0eea17e6a,d723da4a1960b947e7e3c26e9fe1c0e0eea17e6a,"SecureDrop 0.7.0~rc3

(cherry picked from commit e71e799147c7785fab6785cbbb10a7bfa65feb0f)"
emkll,2018-05-02 13:48:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8dbcd4db010eeee4e06c5af072eba3573fec9e13,8dbcd4db010eeee4e06c5af072eba3573fec9e13,"SecureDrop 0.7.0~rc2

(cherry picked from commit 7bdcce0f250e5abcc1df919da2a5718dc56056a6)"
emkll,2018-04-26 18:47:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/179bd4fc9de28c13da12f6c417cc27f97423f2b6,179bd4fc9de28c13da12f6c417cc27f97423f2b6,"SecureDrop 0.7.0~rc1

(cherry picked from commit 54de45bf3f37eef7486abf09b05284ac666ca973)"
redshiftzero,2018-05-16 22:00:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b130a1e32664084f8939cfce223687229f7d8e40,b130a1e32664084f8939cfce223687229f7d8e40,"Merge pull request #3401 from antsar/issue3391

Support conditional questions in securedrop-admin sdconfig."
pierwill,2018-05-16 20:50:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00497c75d1d73eedcb5d1067c7a63e9db682dbd9,00497c75d1d73eedcb5d1067c7a63e9db682dbd9,Revise the documentation style guide
redshiftzero,2018-05-16 20:15:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/80441989174741ff544d65036de3ac8fcd042219,80441989174741ff544d65036de3ac8fcd042219,"Merge pull request #3427 from dachary/wip-3200-doc-admin

docs: remove both .venv and admin/.venv"
pierwill,2018-05-16 20:15:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c713380f4d21085f70e2d0586037bf370cc73b7,7c713380f4d21085f70e2d0586037bf370cc73b7,Fix improper reference link in logging.rst
redshiftzero,2018-05-16 20:05:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87eac28071509c8f4bd1e029d12d5e1614f2f9be,87eac28071509c8f4bd1e029d12d5e1614f2f9be,"Merge pull request #3431 from pierwill/docs-section-titles

docs: section titles"
antsar,2018-05-16 19:17:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ba4dc266663a508409eca8f12fa387d4861c712,7ba4dc266663a508409eca8f12fa387d4861c712,Add explanatory text to screensaver.
redshiftzero,2018-05-16 18:47:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a7b7d70f03a20723afdd4449aa249ceafe6f79e,1a7b7d70f03a20723afdd4449aa249ceafe6f79e,"Merge pull request #3436 from dachary/wip-docker-dev-compile

compile translations when setting up the docker development environment"
pierwill,2018-05-16 18:35:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f00265360c7029cbd97e18c1703f20cb1adbe83,8f00265360c7029cbd97e18c1703f20cb1adbe83,add note in style guide on section titles
redshiftzero,2018-05-16 18:27:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd3097c26f224de40ddfd951983135ef9bd2ca80,dd3097c26f224de40ddfd951983135ef9bd2ca80,"Merge pull request #3435 from pierwill/docs-edit-apt-repo

docs: minor edits to apt_repo.rst"
redshiftzero,2018-05-16 18:22:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99da3cf09b8cafb3ed5d9676aaafc7817dbf2c93,99da3cf09b8cafb3ed5d9676aaafc7817dbf2c93,"Merge pull request #3432 from antsar/issue3428

Improve i18n doc about updating translations"
antsar,2018-05-16 17:58:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b2cdec5bd4babf2f4dc9c4d4f4b9baf4318d89b,1b2cdec5bd4babf2f4dc9c4d4f4b9baf4318d89b,Fix mistakes from e149ab46.
pierwill,2018-05-16 16:44:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a26afd5bbda03931bc19086090038695792a8a8,1a26afd5bbda03931bc19086090038695792a8a8,minor edits to apt_repo.rst
antsar,2018-05-16 14:39:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3d357bdc8cc54b236d9a323730c26309064f9f20,3d357bdc8cc54b236d9a323730c26309064f9f20,Update i18n doc about updating translations.
antsar,2018-05-16 14:08:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb59205193a9e378728e7c8df485674590b97c27,fb59205193a9e378728e7c8df485674590b97c27,Clarify DELETE button label
pierwill,2018-05-16 02:22:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b0279f37c5c0a7da8851a4d7f16e9227e99eca3,5b0279f37c5c0a7da8851a4d7f16e9227e99eca3,edit section titles
pierwill,2018-05-16 02:33:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb479f926459153d35bd4615f8727299c35081b5,cb479f926459153d35bd4615f8727299c35081b5,regularize section title captilization throughout docs
redshiftzero,2018-05-16 01:42:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78cf39efdeb938d4f834abbcabb93a9c95952238,78cf39efdeb938d4f834abbcabb93a9c95952238,"Merge pull request #3413 from freedomofpress/docs-release-management-i18n

Document release management i18n coordination"
redshiftzero,2018-05-16 01:42:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/743c450c717d837733c85569637ce98a5535e314,743c450c717d837733c85569637ce98a5535e314,"Merge pull request #3408 from pierwill/docs-style-fixes

docs: make style guide fixes throughout"
redshiftzero,2018-05-15 22:59:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b0c9d6866db1fee1a51abd9516cb2309d72a9bb6,b0c9d6866db1fee1a51abd9516cb2309d72a9bb6,"Merge pull request #3429 from freedomofpress/fix-check-for-updates

Fix check_for_updates"
redshiftzero,2018-05-15 21:49:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2bffcefc6212f4e17fabd67bb599fdef6560d957,2bffcefc6212f4e17fabd67bb599fdef6560d957,"Fix defect #3426 in securedrop-admin check_for_updates

The issue here was a trailing newline. :-|"
redshiftzero,2018-05-15 21:42:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/091234e9ea8875af8f9782ffb71b00c30091c1f3,091234e9ea8875af8f9782ffb71b00c30091c1f3,Regression test for securedrop-admin check_for_updates defect #3426
redshiftzero,2018-05-15 19:20:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f6e62d6285c633eba7295bed376419d0b7b7c54e,f6e62d6285c633eba7295bed376419d0b7b7c54e,"Merge pull request #3421 from freedomofpress/docs-fix-ssh-over-lan-example

[docs] Fix example for switching to SSH-over-LAN"
redshiftzero,2018-05-15 19:12:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8ed2f6c4debf9662513dfe16004fd17875daefc3,8ed2f6c4debf9662513dfe16004fd17875daefc3,"Merge pull request #3420 from freedomofpress/docs-fix-checkout-sequence

[docs] Correct verification->checkout sequence"
eloquence,2018-05-15 18:52:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d73f2a1e42852392515b07b48a3cc6166cea4d48,d73f2a1e42852392515b07b48a3cc6166cea4d48,"[docs] Fix example for switching to SSH-over-LAN

Fixes #3418"
eloquence,2018-05-15 18:48:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/775daea5e69e5b5c1f146b0c30a66d5ec5518a65,775daea5e69e5b5c1f146b0c30a66d5ec5518a65,"[docs] Correct verification->checkout sequence

Fixes #3419"
emkll,2018-05-15 16:12:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/580c1867024aa95d5c8c8a263311bf21cf3b76c7,580c1867024aa95d5c8c8a263311bf21cf3b76c7,"Document release management i18n coordination

Added link in release management guide to the i18n release process and added mention of merging screenshots."
emkll,2018-05-15 15:44:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20b9e25cf5404cf1ed4f2b556779db61aca34183,20b9e25cf5404cf1ed4f2b556779db61aca34183,"Merge pull request #3411 from dachary/docs-wip-release-manual-update

docs: update screenshots for 0.7.0"
antsar,2018-05-15 14:51:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d2cbf8c14785cf19b651a2a9c25b3c3aa48dab6,6d2cbf8c14785cf19b651a2a9c25b3c3aa48dab6,Add test for conditional questions in sdconfig
redshiftzero,2018-05-14 23:19:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/323c228a2e307f5d58bf4c5990cb86ddc545ea3d,323c228a2e307f5d58bf4c5990cb86ddc545ea3d,"Merge pull request #3382 from freedomofpress/html-fixes

Html fixes"
pierwill,2018-05-14 21:50:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/180e3db709062a60c8282d17a9f1710eb39e29d8,180e3db709062a60c8282d17a9f1710eb39e29d8,"make style guide fixes throughout

mostly adding italics to the term ""Journalist Interface"""
redshiftzero,2018-05-14 22:37:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c28378c2edc4940e8c7cf94f078a94f1a44c574e,c28378c2edc4940e8c7cf94f078a94f1a44c574e,"Merge pull request #3404 from dachary/docs-wip-dev-env

docs: add missing directory in developper instructions"
redshiftzero,2018-05-14 22:35:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5aa3f6fbb0fe03c6f4152e64923b05efdbc1336f,5aa3f6fbb0fe03c6f4152e64923b05efdbc1336f,"Merge pull request #3402 from andreysmelter/develop

Replaced ""print"" statement with ""print()"" function, removed ""# pragma"
redshiftzero,2018-05-14 22:35:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e0fe140aa94d243d574d0dfd7fb8e7e82cb05188,e0fe140aa94d243d574d0dfd7fb8e7e82cb05188,"Merge pull request #3406 from freedomofpress/fix-logic-sdadmin-update

improve logic in securedrop-admin update"
redshiftzero,2018-05-14 21:40:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb53f676ea28ab24be603f08810ef10380cf4388,cb53f676ea28ab24be603f08810ef10380cf4388,"Explitly check release key fingerprint above keyuid output

An attacker cannot generate a malicious key with the same fingerprint
as the release key. As such, we should verify the release key fingerprint
appears where expected to defend against a
scenario where a malicious key is inserted into an Admin Workstation."
redshiftzero,2018-05-14 21:29:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff72d11597ac708cdd74458dcf71e53b27eec8ea,ff72d11597ac708cdd74458dcf71e53b27eec8ea,Add additional tests for signature verification cases
redshiftzero,2018-05-14 20:13:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01c6fa2607d087c4a25d99db80a7d437ab134c01,01c6fa2607d087c4a25d99db80a7d437ab134c01,Docs: Note that the fingerprint should also appear in the sig output
redshiftzero,2018-05-14 20:12:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/65946e711b7d8ce1f6567eedd65ead7bcada26d7,65946e711b7d8ce1f6567eedd65ead7bcada26d7,Update tests for securedrop-admin update
redshiftzero,2018-05-14 20:04:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d258a5d61a8c936d4b6d4acda5191ef7bcdf586e,d258a5d61a8c936d4b6d4acda5191ef7bcdf586e,"Security improvements to logic in securedrop-admin update

* We should check out the branch only once the signature verifies.
This way if the signature does not verify for some reason, the user
will have the previous branch checked out. In the release notes
going forward, if we ask users to manually check out another branch,
we should follow this procedure (previous to this, we had users verify
the signature after checking out the tag).

* We should check the entire fingerprint for each update and return
a signature verification error if not."
andreysmelter,2018-05-14 19:36:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b3d6a87dc3a81f89d198781feae09372b5a5adb,3b3d6a87dc3a81f89d198781feae09372b5a5adb,"Replaced ""print"" statement with ""print()"" function, removed ""# pragma: no cover"", improves coverage percentage."
antsar,2018-05-14 19:23:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e149ab46b09f0485ce50023d08db63d1666606a6,e149ab46b09f0485ce50023d08db63d1666606a6,Support conditional questions in securedrop-admin sdconfig. Fixes #3391.
eloquence,2018-05-11 23:44:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/abc48d63909a843b391f9c9605362d65eb32a2e4,abc48d63909a843b391f9c9605362d65eb32a2e4,"Rename Document Interface to Journalist Interface in Docker dev env

Fixes #3396"
heartsucker,2018-05-11 08:31:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae28c4df666030e35b483d2e05de97567c3b8f9c,ae28c4df666030e35b483d2e05de97567c3b8f9c,"Merge pull request #3392 from freedomofpress/docs-cant-ssh

Docs: Admin guide FAQ"
redshiftzero,2018-05-05 19:13:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b03a84a08d9e1df08e707d842b49a30a0ac83b3d,b03a84a08d9e1df08e707d842b49a30a0ac83b3d,Docs: Add two common FAQ questions to admin guide
msheiny,2018-05-10 13:25:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b1ead0dc4ab9338f51f67f63683bfdfbe0f40807,b1ead0dc4ab9338f51f67f63683bfdfbe0f40807,"Merge pull request #3075 from freedomofpress/LocalAutomatedBuild

Local automated upgrade testing"
Richuo,2018-04-25 08:58:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ad59ced7dfe5aa8ff2a21b99f6a989886e7c20b,6ad59ced7dfe5aa8ff2a21b99f6a989886e7c20b,use two-factor authentication instead of a brand
msheiny,2018-05-09 18:52:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4800743928afe798172273b18332a487a24408e6,4800743928afe798172273b18332a487a24408e6,"Fix timeout on SD 0.6 vagrant_packager on reboot

Without this SSHd will not be listening on all interfaces upon reboot"
msheiny,2018-05-09 15:04:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1baabc31fd773bbe13d4b9900f28bd0d636e5ac1,1baabc31fd773bbe13d4b9900f28bd0d636e5ac1,"Fixes for vagrant_packager + updated molecule

With the bump to molecule, the ephemeral directory spot has changed. For
now, lets utilize the old directory space since its already git/docker ignored. We
just need to ensure that we intentionally create that directory.

There was also a change in how the vagrant boxes are named. The
`.molecule` prefix is gone and replaced with the scenario name."
emkll,2018-05-09 17:58:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb3772fd754d2253f991c2f59fc253df5f18dd0f,fb3772fd754d2253f991c2f59fc253df5f18dd0f,"Merge pull request #3374 from dachary/wip-journalist-submission-frequency

ossec: resolve journalist notification racing with reboots"
msheiny,2018-05-09 15:01:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2d05027e57b66f79734c4458850cfb8bb0e55023,2d05027e57b66f79734c4458850cfb8bb0e55023,"Work-around for testinfra 1.12.0 socket bug

In the bump of molecule we also brought up the version of testinfra
which introduced a bug in detecting open udp ports. They switched to
using `ss` instead of `netstat` when its available. I took the path of
least resistance, opened a bug report, and made a hacky work-around
using `lsof`.

Bug report -> https://github.com/philpep/testinfra/issues/311"
msheiny,2018-05-08 20:15:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/094dd0f0994984a7c3cc0140dc9339aa82619c13,094dd0f0994984a7c3cc0140dc9339aa82619c13,"Optional - apt as a reverse-proxy to apt-test

This applies strictly to the upgrade test scenario, if you have an
environment variable `QA_APTTEST` set to yes/true then your upgrade test
will be getting packages from apt-test instead of from local apt
packages."
msheiny,2018-05-07 21:11:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2e3650a7e52cf7043fd6a78ecba9059cdeb63cc,e2e3650a7e52cf7043fd6a78ecba9059cdeb63cc,"Exclude flake8 NITs

These are out of scope on this PR for me to address and for the sake of
brevity I'm going to exclude them for now since they are not recent
changes."
msheiny,2018-05-07 21:10:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a3fdcabf6baddc96a057e3820894539e63f52f1b,a3fdcabf6baddc96a057e3820894539e63f52f1b,"Move flake8 configuration to separate file

Also added `.python3` temp folder to the ignore list"
msheiny,2018-05-07 21:04:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5bd3170bcd375e1f1a35d228e0196db7e6fe7603,5bd3170bcd375e1f1a35d228e0196db7e6fe7603,"Add additional ignore items to docker build

Especially want to make sure we avoid vagrant images and additional
build folders"
msheiny,2018-05-07 18:02:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e9c95f4d5bdf0e1f187331d6f58b8c035bf4c7e2,e9c95f4d5bdf0e1f187331d6f58b8c035bf4c7e2,"Ensure pre 0.7 SD, SSH works localnet after reboot

Not sure why this wasnt needed before :| This will soon be obsolete as
soon as we are testing against post 0.7 (which includes the ssh over
local net features)."
msheiny,2018-05-07 18:00:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a013de4aad3f2d1f2f9ed6257eb4c47218139f48,a013de4aad3f2d1f2f9ed6257eb4c47218139f48,"Address pathing issue with latest molecule update

Seems that with the latest molecule bump, the relative pathing
calculation has changed in respect to the ansible host/group vars
directories. Previously it was checking from the ephemeral dir, now its
from the scenario dir."
heartsucker,2018-05-09 08:45:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/efe1f63b22ae45b48ab60f1152682fba6685a3b2,efe1f63b22ae45b48ab60f1152682fba6685a3b2,consistent use of Tor Browser
heartsucker,2018-05-09 08:43:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dbbb07c4430d0cfe566d205ccb6b33a41a4f0dab,dbbb07c4430d0cfe566d205ccb6b33a41a4f0dab,"avoid colloquial language while warning sources

""listening"" -> ""monitoring""

fixes #3362"
heartsucker,2018-05-09 08:42:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e59db3551054d58838110237d165093003aace68,e59db3551054d58838110237d165093003aace68,"remove hyperlink to tor2web

fixes #3361"
redshiftzero,2018-05-08 23:34:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b69e6f41feb8f628df6882949a3efee34670f311,b69e6f41feb8f628df6882949a3efee34670f311,Improve error in form validation for logo upload: only PNGs allowed
redshiftzero,2018-05-08 23:20:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/616f76e08db309768273450eb5a6973001f10c4d,616f76e08db309768273450eb5a6973001f10c4d,"Merge pull request #3379 from freedomofpress/safe-image-logo

Back out functionality requiring libjpeg-dev apt dependency"
redshiftzero,2018-05-08 18:30:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6b63b78c5e84e3d08725540818b23ceca999f474,6b63b78c5e84e3d08725540818b23ceca999f474,Docs: Be explicit that the logo image should be a PNG
redshiftzero,2018-05-08 18:22:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5e81443d70f9853bc4c1eb583029f7d9df6c258,b5e81443d70f9853bc4c1eb583029f7d9df6c258,Docs: Fix instructions to run automatic user screenshots updater
redshiftzero,2018-05-08 00:19:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81912feceb6150dd4b43af0aa802d38755bce62d,81912feceb6150dd4b43af0aa802d38755bce62d,"Remove libjpeg-dev dependency.

Also backs out handling of JPEG images in the custom logo and
removes the resizing logic. This will need to be brought back
in at a later date when we can add libjpeg-dev as an apt
dependency."
redshiftzero,2018-05-08 20:45:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e10378fd303920f4a31c98e785cfdb44ba42a057,e10378fd303920f4a31c98e785cfdb44ba42a057,"Merge pull request #3378 from freedomofpress/3159-unread-status-indicator

Make unread status on submissions and sources clearer"
harrislapiroff,2018-05-08 17:57:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3d911100a1b87f28b65a773d795a779b2bea2d48,3d911100a1b87f28b65a773d795a779b2bea2d48,Add unread state to source list view
harrislapiroff,2018-05-08 14:46:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/554f81c58e66d7af95022d851a8437a2b6d6e57f,554f81c58e66d7af95022d851a8437a2b6d6e57f,Make unread status on submissions clearer
msheiny,2018-05-07 15:03:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/180826ca5cf31628f2927586ee693ac466623444,180826ca5cf31628f2927586ee693ac466623444,"Remove fork of molecule_vagrant ansible library

Our unique changes that were added to support suppressing NFS were
recently merged upstream in molecule 2.13:

* https://github.com/metacloud/molecule/pull/1235
* https://github.com/metacloud/molecule/pull/1233"
msheiny,2018-04-09 15:03:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f75c9cd21185ba91f9644dd2d5f952ec0b141748,f75c9cd21185ba91f9644dd2d5f952ec0b141748,Make upgrade side-effect explicitly upgrade deps
msheiny,2018-04-07 01:07:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb43e00560834e2596b3b427a86b981075142f84,eb43e00560834e2596b3b427a86b981075142f84,Symlink vagrant molecule into upgrade scenario
msheiny,2018-04-07 00:51:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e63b64cb20f5be509bae79a92a5fca36a7bf227,3e63b64cb20f5be509bae79a92a5fca36a7bf227,"Whoopss - Bump expiration for testing CA

Was only set to 30 days. Had to recreate and resign fake
apt.freedom.press test cert."
msheiny,2018-04-06 21:23:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd07e8dd525869b78a81d330d95a6783ee15cedf,bd07e8dd525869b78a81d330d95a6783ee15cedf,"Explicitly disable NFS in upgrade scenario

This is super annoying that I have to keep messing with this option. I
suspect its a weird KVM + vagrant issue :shrug: Don't have time to dig
deeper and this fixes it along with my fork of upstream molecule vagrant
module. Both changes of which, I have open PRs to try to get merged in
so we dont have to maintain this divergence."
msheiny,2018-04-06 21:18:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/89543fe8e6350b2bd7aa2fdb4c26e51a8cab959c,89543fe8e6350b2bd7aa2fdb4c26e51a8cab959c,"Upload 0.6 vagrant box, peg upgrade module to it

Uploaded the latest 0.6 box to S3 and turns out I had to peg upgrade
molecule scenario to use it in order for an upgrade to happen."
msheiny,2018-04-06 13:28:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/57523bbce55af33ae22a418454997643723328e7,57523bbce55af33ae22a418454997643723328e7,"Add option for vagrant over-ride

Made a PR upstream at https://github.com/metacloud/molecule/pull/1235.
This was needed in order to disable nfs completely under libvirt for
some reason."
msheiny,2018-04-06 00:33:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f2f7b700aa9b7f32e2dfc853c0c1dfeda0549f04,f2f7b700aa9b7f32e2dfc853c0c1dfeda0549f04,"Fork vagrant molecule module to add halt functionality

See PR https://github.com/metacloud/molecule/pull/1233. Before we
package up the vagrant machine into a box, we need to shutdown the
vagrant box. The built-in molecule module only had `up` or `destroy`.
*fingers-crossed* this gets in upstream and we can tear this out."
msheiny,2018-04-05 20:43:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5d3ccbfaef814e701d19e7723bb16b21b6a7df65,5d3ccbfaef814e701d19e7723bb16b21b6a7df65,Make sure tor starts up on reboot
msheiny,2018-04-05 20:43:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/563e1ae35fdac8dd5df29c923ed0e602bbffe3d4,563e1ae35fdac8dd5df29c923ed0e602bbffe3d4,Bump vagrant package logic to use 0.6 release
msheiny,2018-03-30 17:35:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00308418eb9d5a508bb0b2fe876711b171f8ac5f,00308418eb9d5a508bb0b2fe876711b171f8ac5f,"Rename upgrade_test -> upgrade for science

Addressing a nit during a PR"
msheiny,2018-03-30 17:32:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58625d4a4453d85316bfb2582519bdd31ae77bce,58625d4a4453d85316bfb2582519bdd31ae77bce,"Rename make cmd to be more in-line with other cmds

Something something... addressing a nit during a PR. Nothing to see
here!! (psttt renamed '_' -> '-' )"
msheiny,2018-03-14 20:32:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b149584fea2ffc2c58f2bc77f613082cfe86099,8b149584fea2ffc2c58f2bc77f613082cfe86099,"Ensure that tor server is enabled upon start-up

I don't quite understand why tor enabled isnt sticking. I suspect
something with virt sysprep but I'm doint this work-around for now."
msheiny,2018-03-07 13:52:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/309feb49b5abd2e595209022a2cb7964e305ba21,309feb49b5abd2e595209022a2cb7964e305ba21,"Fix ansible task description typo :)

Thanks @dachary!"
msheiny,2018-03-07 13:51:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e7de75d67d540e29b28c9e61cc61041e40a58ba5,e7de75d67d540e29b28c9e61cc61041e40a58ba5,Fix builder tests for grsec package
msheiny,2018-03-01 19:54:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/642194b26e935dc4ed180e47ad6e6c4f0c6da631,642194b26e935dc4ed180e47ad6e6c4f0c6da631,"Resolve missing cron-apt log after reboot

Not 100% sure why this is happening - easy fix for now."
msheiny,2018-03-01 15:47:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d8c10573505163d0ea6f3b14bd5db09ed75a33c2,d8c10573505163d0ea6f3b14bd5db09ed75a33c2,"Toggle to pull from apt-test.freedom.press

This will allow easier QA utilizing a centralized FPF apt-test server
during release cycle."
msheiny,2018-03-01 03:19:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/306cc32ecff27ff024f49ff387e8d98d6fbb3969,306cc32ecff27ff024f49ff387e8d98d6fbb3969,Strengthen logic to ensure existing instance stands up
msheiny,2018-03-01 03:19:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d61978a3d98927203d64e7bdc70369a1b1d266d8,d61978a3d98927203d64e7bdc70369a1b1d266d8,Fail vagrant package script if preceeding logic bombs
msheiny,2018-03-01 03:18:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f9e8d513a4462bc11f21ef21ffe81ff4e9e7cf02,f9e8d513a4462bc11f21ef21ffe81ff4e9e7cf02,Bump vagrant box versions to retain log files
msheiny,2018-02-28 21:37:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d000097e3b1f36ce0bec30aea908e7fb5e1cf9bd,d000097e3b1f36ce0bec30aea908e7fb5e1cf9bd,"Correct flake8 issues, convert mypy syntax to py2

Our current flake8 runner is not compatible with mypy python3 syntax.
Rather than fix that now, I'm falling back to the python2 compatible
syntax."
msheiny,2018-02-27 20:51:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f396be6b1bd16208727e5d2e05fbc93f99160c6,9f396be6b1bd16208727e5d2e05fbc93f99160c6,"Repoint molecule config to use hosted boxes

The vagrant boxes are now hosted in a public S3 bucket. Lets make sure
we use that for the upgrade testing scenario."
msheiny,2018-02-27 20:49:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aeef51e1a396fce8ed5105754c317a5f1c4a52d2,aeef51e1a396fce8ed5105754c317a5f1c4a52d2,"MiTM our SD apt servers with fake local apt

This is more realistic to utilize https certs. The goal is to change as
little of the production apt config as possible so that means over-ride
DNS lookup and add our non-prod https CA to trusted system store."
msheiny,2018-02-27 16:29:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb553e0030c64342ffd92b711befa393c7e4498c,fb553e0030c64342ffd92b711befa393c7e4498c,"Add logic to push boxes up to S3

The actual metadata file was created manually by me at this time. Will
have to automate that later."
msheiny,2018-02-27 14:43:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54c1f7925d0214be6ef277b19caabf617c7ce9cf,54c1f7925d0214be6ef277b19caabf617c7ce9cf,Provide make shortcut for vagrant packager
msheiny,2018-02-26 21:56:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a84e308b33615966aa09ee44872720492c69694a,a84e308b33615966aa09ee44872720492c69694a,"Remove un-used ami-builder scenario

As-is this is going to muddle up the PR and make it harder to review. I
dont want to rebase it out though, I might need it later."
msheiny,2018-02-26 21:42:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/22cd840ebadbd9e832748e28a6a6f11fe0262590,22cd840ebadbd9e832748e28a6a6f11fe0262590,Add scenario for vagrant builder
msheiny,2018-02-23 03:29:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/af7c11dfa28de99b5671147fbaad673eca330f93,af7c11dfa28de99b5671147fbaad673eca330f93,Add apt-test pub key to staging boxes
msheiny,2018-02-23 03:27:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c2bb451a842d0829c8389909b15e7f3d998721b,4c2bb451a842d0829c8389909b15e7f3d998721b,"Move apt-test keys into ./files dir

Trying to tidy up here!"
msheiny,2018-02-23 01:13:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b19d2111d7f4f9da000b7cf1bbd0bc58e7aafc02,b19d2111d7f4f9da000b7cf1bbd0bc58e7aafc02,"Utilize vagrant insecure key for both servers

This matches existing vagrantfile but I added here for alternative
reasons. Having a single ssh key for both will be easier to wrap up both
boxes as artifacts for later download."
msheiny,2018-02-23 00:31:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c48596499b58e30346b37224cac4ddff39143d9,1c48596499b58e30346b37224cac4ddff39143d9,Utilize private static IPs
msheiny,2018-02-22 20:33:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a7773e3cb91ae03508fdc18977f47f227ecc4fe5,a7773e3cb91ae03508fdc18977f47f227ecc4fe5,Diverge from custom aws reboot logic
msheiny,2018-02-22 20:30:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d174db7ecbdd6993032e0109b02d857f9a21db6,0d174db7ecbdd6993032e0109b02d857f9a21db6,Ensure previous version of git is being cloned first
msheiny,2018-02-22 20:12:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8477df6e3d4e71cb8986966034efa3e48c72e08b,8477df6e3d4e71cb8986966034efa3e48c72e08b,Ensure direct ssh access is enabled
msheiny,2018-02-21 17:25:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/67253ac55edb02727dcc18861e49bb331bb3c04e,67253ac55edb02727dcc18861e49bb331bb3c04e,"Ditch docker, utilize vagrant box for apt server

Was hitting mutliple issues trying to make docker work here. It was
awful."
msheiny,2018-02-21 17:20:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71b474cf968a2056c049512b7288a424b920938a,71b474cf968a2056c049512b7288a424b920938a,Add jdauphant nginx role
msheiny,2018-02-20 23:48:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/33537edcec903390b3f7fc28eb333a84e40ff7e7,33537edcec903390b3f7fc28eb333a84e40ff7e7,"Add docker apt repo on same net as SD vagrant

This took a while to debug and troubleshoot. Ended up using the macvlan
driver which allows docker to set on the same L2 network link on an
existing interface.

Here was some helpful docs I came across while debugging:
- https://blog.docker.com/2016/12/understanding-docker-networking-drivers-use-cases/
- https://docs.docker.com/network/macvlan/
- https://docs.docker.com/engine/reference/commandline/network_create/"
msheiny,2018-02-16 22:56:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/60b342bc77bdc5527da7910748bb54cd15f95eb6,60b342bc77bdc5527da7910748bb54cd15f95eb6,"Add Initial phase 1 working scenario for upgrade testing

Just got the normal install logic working with grsecurity"
msheiny,2018-02-16 22:55:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d6b5c3b7f9294a46c7c9352876726d04d1fa69b6,d6b5c3b7f9294a46c7c9352876726d04d1fa69b6,Install python-vagrant dependency for developers
msheiny,2018-02-13 20:17:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8da833ed3efd269f51bf94dd687598c7e3f0cf27,8da833ed3efd269f51bf94dd687598c7e3f0cf27,"init molecule scen. for kick-starting specifc ver of SD

There is some missing logic here, for instance, while the molecule
scenario will fire up an existing SD code-base - the packages are pulled
from production. This is fine if you are trying to match the last public
release but more problematic if you need to rewind even farther. Since
we don't have that requirement right now I'm punting that problem into
the future."
msheiny,2018-02-09 20:17:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f723a7f570ddafad20dbeddc32ddaac9b4ee289f,f723a7f570ddafad20dbeddc32ddaac9b4ee289f,"Over-load role rsync options for debian building

Explicitly we are making sure that the jinja2 files are gone. Previously
this rsync logic was a role default but for only the appcode role. Seems
kind of weird how variables bubble up sometimes in ansible :shrug:"
msheiny,2018-02-09 20:14:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e1f0203f62167d2cbb6399628345224da9409240,e1f0203f62167d2cbb6399628345224da9409240,"Allow Jinja-fication of DEBIAN files, use w/ grsec

I'm using this at the moment to control the building of grsec
metapackage parameters through ansible but ultimately this logic can be
insanely useful in other packaged files going forward.

This commit also applies that process to the grsec metapackage control
file."
msheiny,2018-02-09 20:12:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a917c84d903d49bcd11e1b4500914a86e92595f,1a917c84d903d49bcd11e1b4500914a86e92595f,"Add grsec debian packages to testing

This looks like a goof since we have tests that appear to target the
grsec meta-package. Ahh well, its testing now :|"
redshiftzero,2018-05-04 20:59:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a2cde67c60d8aab1abe91e4e838ac8aef0410b3,4a2cde67c60d8aab1abe91e4e838ac8aef0410b3,"Merge pull request #3366 from freedomofpress/fix-sdconfig-https

Add HTTPS-related variables to securedrop-admin sdconfig prompt"
redshiftzero,2018-05-04 20:24:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ccb3c0c220f9f9ac9efed2b0c43635dc9f69fec,0ccb3c0c220f9f9ac9efed2b0c43635dc9f69fec,"Merge pull request #3359 from freedomofpress/docs-06to07

[docs] Add 0.6 to 0.7 upgrade guide"
redshiftzero,2018-05-04 20:01:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/547b0e14bef7bb7853ac61a56c70096cc636e644,547b0e14bef7bb7853ac61a56c70096cc636e644,"Add warning to Makefile HTTPS self-signed target

And add .ca file to gitignore"
redshiftzero,2018-05-04 17:58:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a79fe1c902b8ee25d5f534b78ffe075e64979dd2,a79fe1c902b8ee25d5f534b78ffe075e64979dd2,Docs: Update HTTPS docs for securedrop-admin sdconfig behavior
redshiftzero,2018-05-04 17:54:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/55d0bddee897c74654d0145b32fb79b7bf8c6171,55d0bddee897c74654d0145b32fb79b7bf8c6171,securedrop-admin: HTTPS-related vars should be set together
redshiftzero,2018-05-04 17:23:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8edb196d628c2594defff3dbb5593ee99bf4e93d,8edb196d628c2594defff3dbb5593ee99bf4e93d,Update tests for new securedrop-admin sdconfig prompts
redshiftzero,2018-05-03 22:40:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0a71d5af68961b84b8f18835bde1cbdbc164f4d,a0a71d5af68961b84b8f18835bde1cbdbc164f4d,"Add HTTPS config prompts to securedrop-admin sdconfig

Unfortunately the defaults cannot be used due to producing an
annoying user experience - users not using HTTPS would need to
backspace out the default values."
redshiftzero,2018-05-04 17:10:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5d31831fbad152f5c7ebd458eba038cb46b61bca,5d31831fbad152f5c7ebd458eba038cb46b61bca,"Add test HTTPS-related files

These files contain only the string ""TEST FILE ONLY"""
eloquence,2018-05-04 05:36:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4d3191c15b0cd01a348c8f613766df5b9eeca22a,4d3191c15b0cd01a348c8f613766df5b9eeca22a,"Small fixes/tweaks

- Consistently use 0.7.0 instead of 0.7
- Explanation of what the SecureDrop code on the workstation does
- Explanation regarding multiple recipients for email alerts"
redshiftzero,2018-05-04 03:07:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/46ed4fbb22e800946329902bc62916a1166e94a8,46ed4fbb22e800946329902bc62916a1166e94a8,"Merge pull request #3099 from freedomofpress/docs-hardwarefirewall

Docs hardwarefirewall"
redshiftzero,2018-05-04 02:40:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/91ffda19fd9ec22e06aa512e80c8ae237a152f81,91ffda19fd9ec22e06aa512e80c8ae237a152f81,Fix nit in firewall rules XML template
eloquence,2018-05-03 22:26:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8ab6cb5f49d936b0eb289b1274845c916045973,a8ab6cb5f49d936b0eb289b1274845c916045973,"[docs] Add 0.6 to 0.7 upgrade guide

Fixes #3282"
conorsch,2018-05-01 18:52:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e7fa78597be56b3f4e47bb988c88a2ae465502d1,e7fa78597be56b3f4e47bb988c88a2ae465502d1,"Makefile target to generate self-signed certs

Useful for debugging. Haven't wired up a true CA yet, just trying to
debug the vars propagation right now. These vars seem ""good enough"" to
me.

(cherry picked from commit 017e28bd9f5771061e2727393affaff7a33ad574)"
emkll,2018-05-03 20:33:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d8205f93a507593b72a95cdc5cc7ebdaeb1c2568,d8205f93a507593b72a95cdc5cc7ebdaeb1c2568,"Merge pull request #3357 from freedomofpress/no-fancy-tor-ssh-sdconfig

Fix #3354: Tor over SSH prompt should not be populated with invalid response"
redshiftzero,2018-05-03 18:19:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/61e77785c8f58547221221026658ca0e655a7d54,61e77785c8f58547221221026658ca0e655a7d54,"Minimal improvement to SSH over LAN or Tor sdconfig prompt

This is a minimal change to make clear:

1. Tor is the recommended option.
2. Disabling Tor enables LAN and vice versa."
emkll,2018-05-03 18:16:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/640f56f44ebe29f26ec6889b0560ad8686c5d4c3,640f56f44ebe29f26ec6889b0560ad8686c5d4c3,"Merge pull request #3351 from freedomofpress/resolve-https-referer

Resolve HTTPS CSRF validation failure due to Referrer-Policy on source interface"
redshiftzero,2018-05-03 18:04:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/61ba607b67bd9d69daeb39f72914c61e6e23af63,61ba607b67bd9d69daeb39f72914c61e6e23af63,"Revert ""Docs: Update docs for SSH over local network, fix some nits""

This reverts commit 1aa596dd94ffb441ed27767a57b4d66d3c9b8c03."
redshiftzero,2018-05-03 18:00:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/91d36a64ca2fe1534cada16d924a84ec846e509d,91d36a64ca2fe1534cada16d924a84ec846e509d,"Revert ""Securedrop-admin: Ask users to use Tor or LAN for enable_ssh_over_tor""

This reverts commit 414582a82bcefe1a21518cc1c57001132401e8d7."
redshiftzero,2018-05-02 22:26:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4fc204ad1daef55af8e8de2ec33c6d0b15ef921b,4fc204ad1daef55af8e8de2ec33c6d0b15ef921b,Update testinfra tests for Referrer-Policy change on source interface
redshiftzero,2018-05-02 22:15:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a29c9f2ce95eef63df5a4ae3c6e072886d600dd0,a29c9f2ce95eef63df5a4ae3c6e072886d600dd0,"Resolve HTTPS CSRF failure via Referrer-Policy ""same-origin""

The addition of Referrer-Policy ""no-referrer"" meant that the CSRF
tokens on the source interface did not validate due to the use of
WTF_CSRF_SSL_STRICT=True [0]. Setting Referrer-Policy to ""same-origin""
resolves [1]. Note that Tor Browser does not send Referers from onion
services [2], so there are no negative privacy implications to this
change.

[0] https://flask-wtf.readthedocs.io/en/stable/config.html
[1] https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy
[2] https://trac.torproject.org/projects/tor/ticket/9623"
emkll,2018-05-03 14:54:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/42c31545ef01d6d54001957e9fc92f2412f4d6ff,42c31545ef01d6d54001957e9fc92f2412f4d6ff,"Merge pull request #3353 from freedomofpress/fix-linting-mypy

Fix mypy issue on develop: Use empty string instead of None in conftest.py"
redshiftzero,2018-05-02 23:10:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e7c9154accae98bbf0891e849a7286dd69426017,e7c9154accae98bbf0891e849a7286dd69426017,Use empty string instead of None in conftest.py
redshiftzero,2018-05-02 01:06:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e64973585828a7f833a48d2235348215724031e,1e64973585828a7f833a48d2235348215724031e,"Merge pull request #3340 from freedomofpress/ask_all_three

Fixes #3320 Asks journalist email if gpg key is provided"
redshiftzero,2018-05-02 00:42:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1aa596dd94ffb441ed27767a57b4d66d3c9b8c03,1aa596dd94ffb441ed27767a57b4d66d3c9b8c03,"Docs: Update docs for SSH over local network, fix some nits"
redshiftzero,2018-05-02 00:19:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8671dc2f86004960eee2600e4f2967c99d796177,8671dc2f86004960eee2600e4f2967c99d796177,"Merge pull request #3335 from freedomofpress/3329-test-gzip-mtime

Adds test for mtime gzip header"
redshiftzero,2018-05-01 23:50:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6536da8cac5cdc27c78b6566cf5fd8edc17c063b,6536da8cac5cdc27c78b6566cf5fd8edc17c063b,"Merge pull request #3338 from freedomofpress/check_for_updates_returns

Fixes #3337 uses exit code 0 for check_for_updates"
kushaldas,2018-05-01 21:06:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d99159ab648cdd975205ede897c630fef47d997f,d99159ab648cdd975205ede897c630fef47d997f,Fixes #3320 Asks journalist email if gpg key is provided
kushaldas,2018-05-01 22:22:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d5c95ddd46f95fb698fd89e803f1bae7fc0defae,d5c95ddd46f95fb698fd89e803f1bae7fc0defae,Fixes #3337 uses exit code 0 for check_for_updates
redshiftzero,2018-05-01 17:31:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/414582a82bcefe1a21518cc1c57001132401e8d7,414582a82bcefe1a21518cc1c57001132401e8d7,Securedrop-admin: Ask users to use Tor or LAN for enable_ssh_over_tor
emkll,2018-05-01 20:37:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/35beb35ea5fef2350407e721fc644db731ae151c,35beb35ea5fef2350407e721fc644db731ae151c,"Adds test for mtime gzip header

The mtime header field contains the most recent modification time of the original file being compressed. These changes to the integration tests will ensure the mtime header is properly removed."
redshiftzero,2018-05-01 20:29:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cfaa82e7171b65fc70c243caa3709b6b5df5a397,cfaa82e7171b65fc70c243caa3709b6b5df5a397,"Merge pull request #3332 from freedomofpress/docs-applyfirewallsettings

explicitly tell admins to save the firewall rules"
redshiftzero,2018-05-01 16:36:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/095d08a2b41fcd05e6bdcad403be04e28801aa4c,095d08a2b41fcd05e6bdcad403be04e28801aa4c,"Merge pull request #3322 from dachary/wip-extra-space

source: double space in translated string"
emkll,2018-05-01 14:51:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bb7b23f6ea1d19cc15a8b2f0b7257e0823a4a97a,bb7b23f6ea1d19cc15a8b2f0b7257e0823a4a97a,"Merge pull request #3305 from evilaliv3/issue/3304

Reduce time information leakage of file uploads and file downloads"
redshiftzero,2018-04-30 23:53:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed881433b899ad8738d7d2398a1a74236a284ac8,ed881433b899ad8738d7d2398a1a74236a284ac8,"Merge pull request #3327 from freedomofpress/admin_exit_code

Fixes: #3303 Have proper exit code in securedrop-admin"
kushaldas,2018-04-30 22:13:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0525baa6c3df35292e9059587495a013bb2ecf09,0525baa6c3df35292e9059587495a013bb2ecf09,Fixes: #3303 Have proper exit code in securedrop-admin
redshiftzero,2018-04-30 16:54:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4734dd68999f0bed3878117517606459c2784f19,4734dd68999f0bed3878117517606459c2784f19,"Merge pull request #3321 from freedomofpress/wip-rewording

source: ""in the past"" suggests a long time ago"
redshiftzero,2018-04-27 23:35:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eab5534566f8a9ceb30a88b17e1cd3523a5957eb,eab5534566f8a9ceb30a88b17e1cd3523a5957eb,"Merge pull request #3276 from freedomofpress/pytest-2fa

Pytest fixtures for test_2fa.py"
redshiftzero,2018-04-27 23:11:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/379ffaa76c623eec97df588317a53b24d180721d,379ffaa76c623eec97df588317a53b24d180721d,"Merge pull request #3315 from freedomofpress/docs-backupworkstation-3314

remove incorrect references  to gksu nautilus"
redshiftzero,2018-04-26 17:44:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e52e96896c59768603ed752586622287f5a5015d,e52e96896c59768603ed752586622287f5a5015d,"Merge pull request #3309 from freedomofpress/qt-no-escape

Qt no escape"
kushaldas,2018-04-25 18:24:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/640c467f5fa3cca9ab8d2e47a0c2b7ae93444300,640c467f5fa3cca9ab8d2e47a0c2b7ae93444300,Fixes #3308 strips out any ANSI escape sequence
redshiftzero,2018-04-26 16:36:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9e8fceb26e662e8a5f537cdb9ca2b9c1ea2b4406,9e8fceb26e662e8a5f537cdb9ca2b9c1ea2b4406,"Merge pull request #3300 from freedomofpress/qt-journalist-updater

Add updater GUI"
redshiftzero,2018-04-26 00:17:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e1b77b31d8a3233a2a2f1d9371fc8494b3f215d,3e1b77b31d8a3233a2a2f1d9371fc8494b3f215d,"Merge pull request #3313 from freedomofpress/qt-resolve-review

[qt-journalist-updater] Address remainder of review comments on #3300"
redshiftzero,2018-04-25 23:18:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be7df937e0921b0557c5faf7a86a1ff24921ac1a,be7df937e0921b0557c5faf7a86a1ff24921ac1a,Updater GUI: Update test cases for use of exitstatus for Ansible
redshiftzero,2018-04-25 23:14:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e5b99c10ba39f4e87aa0633ec31de216a18b94e,6e5b99c10ba39f4e87aa0633ec31de216a18b94e,Updater GUI: securedrop-admin setup should not run if failure occurred
redshiftzero,2018-04-25 23:14:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dfcd01b533f7a4c1301af37082b48ea546dad899,dfcd01b533f7a4c1301af37082b48ea546dad899,Updater GUI: Use exitstatus in child process to determine action
redshiftzero,2018-04-25 23:00:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/471f6ddd1870e9e17b8dc7a74fa644ca2cba6f7c,471f6ddd1870e9e17b8dc7a74fa644ca2cba6f7c,"Merge pull request #3311 from freedomofpress/qt-no-sizegrip

Fixes #3310 no sizegrip"
redshiftzero,2018-04-25 22:59:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dff1af01a6b53f4e44cba0141b3a69413c5404f6,dff1af01a6b53f4e44cba0141b3a69413c5404f6,"Merge pull request #3312 from freedomofpress/docs-release-commit-signing

Docs: Release management commit signing"
redshiftzero,2018-04-25 22:44:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/73a1ea8715db904d3d233e29ceee85905726d791,73a1ea8715db904d3d233e29ceee85905726d791,Developer docs: Indicate reviewers should verify qt resource changes
redshiftzero,2018-04-25 22:40:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ebc321992e224d1973e18d71ee2c40fcc89ee8b,0ebc321992e224d1973e18d71ee2c40fcc89ee8b,"Updater GUI: Rename lock to flag

This is because the file only is accessed by a single process
at any one time. As such, it should be named a flag file for
clarity."
emkll,2018-04-25 20:23:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ffbae175eef4a7e6ad3598e8e7ddb82939ceb578,ffbae175eef4a7e6ad3598e8e7ddb82939ceb578,"Release management commit signing

Provides instructions to a prospective release manager to sign a release commit and manually update the tag."
kushaldas,2018-04-25 19:58:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f2678ea4db033664f0a43f853089d6e969bd29a6,f2678ea4db033664f0a43f853089d6e969bd29a6,"Fixes #3310 removes sizegrip from the statusbar

As suggesed in
https://github.com/freedomofpress/securedrop/pull/3300#discussion_r184066922"
redshiftzero,2018-04-25 17:24:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3782f526e7d1cdea7391267d7db33ec2cd7e46d6,3782f526e7d1cdea7391267d7db33ec2cd7e46d6,Updater GUI: Use Pipenv in CI
redshiftzero,2018-04-25 18:27:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3babb776512cfbed25b15daa6d6116860205da4c,3babb776512cfbed25b15daa6d6116860205da4c,"Merge pull request #3306 from dachary/docs-wip-l10n-ama-link

docs: add AMA link to the l10n guide"
redshiftzero,2018-04-25 16:55:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b3fa1829aafd08dfbf63810c7e6853bd44728b67,b3fa1829aafd08dfbf63810c7e6853bd44728b67,Docs: Indicate that the Updater GUI does not install new deps as is
redshiftzero,2018-04-25 16:55:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a2653b12c75d7e6600d16f0e489da3ffab0e885e,a2653b12c75d7e6600d16f0e489da3ffab0e885e,Updater GUI: Remove requirements.txt in favor of Pipenv
heartsucker,2018-04-25 16:09:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87bcd17a9c04fdbe6ad6d371a89c6c8ab092b2b2,87bcd17a9c04fdbe6ad6d371a89c6c8ab092b2b2,use login function during 2fa tests
evilaliv3,2018-04-25 16:01:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/785ec320e8e4d31b88c11e7fae75a9edefc83f5a,785ec320e8e4d31b88c11e7fae75a9edefc83f5a,Align test_submit_sanitizes_filename unit test to latest development
heartsucker,2018-04-25 15:30:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef40e8acd3f1291732b07201f018bbd45e1ccad3,ef40e8acd3f1291732b07201f018bbd45e1ccad3,added login helper function
evilaliv3,2018-04-25 12:29:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f21ee9e6f407326ddf35be8007bbcdc2a6c7e681,f21ee9e6f407326ddf35be8007bbcdc2a6c7e681,Address issue #3304
redshiftzero,2018-04-24 21:40:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dce8698bad5dc774b2fae538239272c73371be10,dce8698bad5dc774b2fae538239272c73371be10,Updater GUI: Use return codes instead of output strings
redshiftzero,2018-04-24 21:37:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f1225561cc51e4946290bc56a55c76181afb8f0,4f1225561cc51e4946290bc56a55c76181afb8f0,securedrop-admin: Return code should be 1 for sig verification failure
redshiftzero,2018-04-24 21:34:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef57e4c6663819eb2626f49e74ac2be671a711f2,ef57e4c6663819eb2626f49e74ac2be671a711f2,"Merge pull request #3302 from freedomofpress/qt-no-sudo

Fixes #3301 Updates UI in case of missing tails admin password"
kushaldas,2018-04-24 20:02:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b78d20b38b493496a0aa5e5f16057ef2fe4fae5,8b78d20b38b493496a0aa5e5f16057ef2fe4fae5,Fixes #3301 Updates UI in case of missing tails admin password
redshiftzero,2018-04-24 01:18:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5286b94b8cc47c7f1388897ef11358a96daf6ab,b5286b94b8cc47c7f1388897ef11358a96daf6ab,"Merge pull request #3298 from freedomofpress/qt-resume-failed-updates

[qt-journalist-updater] auto resume workstation updates if they fail"
redshiftzero,2018-04-24 00:08:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8709748be9be051af57a00529b9626d495121df6,8709748be9be051af57a00529b9626d495121df6,Journalist GUI: Update test cases for presence/absence of lock
redshiftzero,2018-04-23 23:34:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7146c7f406d539ece269a5cd4190692cc78a6e99,7146c7f406d539ece269a5cd4190692cc78a6e99,Journalist GUI: Remove lock
redshiftzero,2018-04-23 23:31:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/026c26df96a90504de76a03a79b266b13f9dfc1f,026c26df96a90504de76a03a79b266b13f9dfc1f,Journalist GUI: Lock when update begins
redshiftzero,2018-04-23 23:07:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bee2931a52d4ffc87622b342cb5b90a62f4bf6b0,bee2931a52d4ffc87622b342cb5b90a62f4bf6b0,"securedrop_init script: Check if lock is still present

This means that we need to start the GUI."
redshiftzero,2018-04-23 22:56:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f3a12934313e7ae92a633532f12bc7c3a52e091,6f3a12934313e7ae92a633532f12bc7c3a52e091,Workstation updates: Ignore .lock files
redshiftzero,2018-04-24 00:13:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d9856711493308d7b67ff8443b7256316a3a6bb,0d9856711493308d7b67ff8443b7256316a3a6bb,"Merge pull request #3296 from freedomofpress/qt-run-setup-first

[qt-journalist-updater] Run securedrop-admin setup first"
redshiftzero,2018-04-23 23:09:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4cf43e19a61a3b554bfc6d7ff694b52395af278f,4cf43e19a61a3b554bfc6d7ff694b52395af278f,Updater GUI tests: Add MagicMocks instead of empty string
redshiftzero,2018-04-23 22:54:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/670c8baf18f84b15c0481f82c11e06cfc97da28f,670c8baf18f84b15c0481f82c11e06cfc97da28f,"Merge pull request #3294 from dachary/docs-wip-l10n-context

docs: add link to The Global and Mail guide to using SecureDrop"
redshiftzero,2018-04-23 19:59:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/984fdcb9a5fd06cbf04fa46bc9f42d8020d6a38e,984fdcb9a5fd06cbf04fa46bc9f42d8020d6a38e,Journalist GUI: Update tests
redshiftzero,2018-04-23 19:45:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/698c2b915567e45fc110f95befbf91fe57920b68,698c2b915567e45fc110f95befbf91fe57920b68,Journalist GUI: Update progress bar percentages
redshiftzero,2018-04-23 19:31:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0fc87a0711364678865901bfff4b325101aac58d,0fc87a0711364678865901bfff4b325101aac58d,Journalist GUI: Run setup after the update
redshiftzero,2018-04-23 19:29:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ee4c433b026339fffaebce9c007f64926565bf29,ee4c433b026339fffaebce9c007f64926565bf29,Journalist GUI: Update time estimates and add setup status
redshiftzero,2018-04-23 18:22:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38fb48ca2314475ed7da91054bb26f42369599f6,38fb48ca2314475ed7da91054bb26f42369599f6,"Merge pull request #3295 from icco/patch-1

Add link to Admin Guide on logs page"
icco,2018-04-23 16:09:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e093ddd40af39dafe997fed49264b12028ebd8b,1e093ddd40af39dafe997fed49264b12028ebd8b,Add link to Admin Guide on logs page
redshiftzero,2018-04-23 16:44:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de2f0c9d9b2805cd183bddda302435f871c487e0,de2f0c9d9b2805cd183bddda302435f871c487e0,"Merge pull request #3283 from freedomofpress/docs-qt-journalist-updater

[qt-journalist-updater] Add docs for updater"
kushaldas,2018-04-22 03:05:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96200c1df025c8da7dad84fab15a75dbf8afba22,96200c1df025c8da7dad84fab15a75dbf8afba22,Updates test
kushaldas,2018-04-22 03:04:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98cd928f64872f1842e519725866d0be3793f409,98cd928f64872f1842e519725866d0be3793f409,Adds a Setup Thread
kushaldas,2018-04-21 10:18:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/89f48786e7e0f014ef264356362a9c7d853c6cf4,89f48786e7e0f014ef264356362a9c7d853c6cf4,"Merge pull request #3289 from freedomofpress/design-qt-journalist-updater

[qt-journalist-updater] Make logo less prominent.. and some other design improvements"
redshiftzero,2018-04-19 00:56:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97f4eab8ef842655ca5f2690e9fe05f468c4b2aa,97f4eab8ef842655ca5f2690e9fe05f468c4b2aa,"Updater GUI UX: Minor changes from user testing

* Rename title of window to SecureDrop Workstation Updater to
be clearer that this is the workstation only
* Initially populate the output window with a message
explaining what will appear in the box"
redshiftzero,2018-04-18 21:02:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5133d419e142eeb9fc56fc07fa982b5457aa6fb,b5133d419e142eeb9fc56fc07fa982b5457aa6fb,"Updater GUI UX: Always append to self.output

To avoid any status messages being blown away (this is confusing
for users)"
redshiftzero,2018-04-18 20:58:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6735d4e8119007d6fd039e5d579cde9718b365d3,6735d4e8119007d6fd039e5d579cde9718b365d3,Updater GUI UX: Add newline after status in output
redshiftzero,2018-04-18 20:39:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/367c35ebf14af74fcb498c2a026bbff65fb8a7ae,367c35ebf14af74fcb498c2a026bbff65fb8a7ae,"Updater GUI UX: Modify UI to use banner logo instead of large logo

This also makes some minor changes to the tabs to have them
use a little more sensible names given the large ""SecureDrop"" text
in the banner itself."
redshiftzero,2018-04-18 20:00:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f1383297d3c55892c3cb52b243497439c7fad0d5,f1383297d3c55892c3cb52b243497439c7fad0d5,"Updater GUI UX: Rename output tab to a less technical term

""Command output"" might be confusing for non-technical users
(who should not be expected to even know what a ""command"" is)"
redshiftzero,2018-04-18 19:44:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc967374d22f2a49e0afaf9742c0cb892e55e068,cc967374d22f2a49e0afaf9742c0cb892e55e068,"Updater GUI UX: Add CSS styling to call to action buttons

The primary action is indicated with the same light green color
that is used for flashed success messages on the SecureDrop
web interfaces."
redshiftzero,2018-04-18 18:29:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/220213ded17e79c028f1ef74af0cdd5d7db3b665,220213ded17e79c028f1ef74af0cdd5d7db3b665,Updater GUI UX: Display status bar messages in output window also
redshiftzero,2018-04-18 16:50:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/24f9fa10059bbaa98bb66e0673aeb54e89a4cc8b,24f9fa10059bbaa98bb66e0673aeb54e89a4cc8b,"Updater GUI UX: Explain the Tails Administrator password

Also using the term ""Tails Administrator password"" instead of
""sudo password"" as the term ""sudo password"" is not used in the
Tails Greeter, and only a technical user will know what it means."
redshiftzero,2018-04-18 16:44:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c828ba4ce001259f15d2271c7519f1bc3742d31,1c828ba4ce001259f15d2271c7519f1bc3742d31,"Updater GUI UX: Display the Tails config status after sudo passwd

This improves the UX by letting the user know that something has
changed once they input their sudo password. It is also more
accurate, in that the Tails configuration scripts only are running
once we get the sudo password from the user."
redshiftzero,2018-04-18 16:38:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c4e6f7d9e75f0fd79ab1ced6ab10f04397b7857,4c4e6f7d9e75f0fd79ab1ced6ab10f04397b7857,"Updater GUI: Do not close immediately for successful update.

This was a suggested UX improvement - the user may be curious
and want to inspect the text in the output window. We should
have them manually close the window. The status bar indicates that
the update is complete, so they will know that it is safe to close."
redshiftzero,2018-04-18 16:17:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/46a31f4ea55d011298a9fada0aee73d0bc45445b,46a31f4ea55d011298a9fada0aee73d0bc45445b,"Journalist GUI: Design/UX improvements to strings

- ""Install Later"" and ""Install Now"" call to action buttons should
be called ""Update Later"" and ""Update Now""
- The wrong password message is unclear. It should say explicitly
""Click Update Now to try again"".
- Adds a note that users can contact securedrop@freedom.press to
get funneled to support (either FPF portal or community forum)
 if they have update woes."
redshiftzero,2018-04-18 15:51:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54b38a75c673580f8e24d867d5af47682e0389da,54b38a75c673580f8e24d867d5af47682e0389da,Docs: Add section in journalist guide about updates on journo WS
redshiftzero,2018-04-18 15:50:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0240e2b09eb8b0afe3bacba05652d35ddb5bbdbf,0240e2b09eb8b0afe3bacba05652d35ddb5bbdbf,Docs: Add note to Admin workstation about automatic SD updates
redshiftzero,2018-04-18 14:57:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a58753b51187212f50af5e59bb36adc3c05211fd,a58753b51187212f50af5e59bb36adc3c05211fd,"Merge pull request #3271 from dachary/wip-dachary-deprecate-development

deprecate the Vagrant development VM"
redshiftzero,2018-04-18 14:40:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e0b9adf3e3361bd3059111041ceb0b1a9cb6d4bc,e0b9adf3e3361bd3059111041ceb0b1a9cb6d4bc,"Merge pull request #2592 from freedomofpress/SSHoverLocal

Allow SSH over local network instead of Tor"
heartsucker,2018-04-18 14:16:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d5a2b3eed65e590e97bb67f5797cf2f043650333,d5a2b3eed65e590e97bb67f5797cf2f043650333,"Merge pull request #3280 from freedomofpress/docs-citationneeded

[docs] Add link to Reuters article re: 2014 research, correct summary"
eloquence,2018-04-18 06:55:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96a7106c865dea7db47cae1326dde9dbc0550b79,96a7106c865dea7db47cae1326dde9dbc0550b79,Correct number of orgs per article
eloquence,2018-04-17 23:21:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e6b67f0371d630761ca4ffaa9b78ea9aad3a2df1,e6b67f0371d630761ca4ffaa9b78ea9aad3a2df1,"[docs] Add link to Reuters article re: 2014 research, correct summary

AFAICT nowhere is the assertion made that 20 out of 25 networks were
comrpomised; only that they had been targeted."
redshiftzero,2018-04-17 22:47:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9e7349034323cf90cca5237075467a08f629914,d9e7349034323cf90cca5237075467a08f629914,"Merge pull request #3258 from freedomofpress/qt-update-time-display

[qt-journalist-updater] Add a time estimate to the update progress bar"
redshiftzero,2018-04-11 23:33:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0fd860202342aa3bfda9c67ef85ba18b2b7902a,f0fd860202342aa3bfda9c67ef85ba18b2b7902a,Updater GUI: Add mins remaining where possible to existing strings
kushaldas,2018-04-16 12:56:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/76c2f5942b20532cafbfdaaa92a69c362c9a63fc,76c2f5942b20532cafbfdaaa92a69c362c9a63fc,"Merge pull request #3262 from freedomofpress/qt-thread

Fixes #3228 runs blocking calls on QThread"
redshiftzero,2018-04-13 21:46:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc00d968e816d00a58dbd673a727a0b49d17e93d,cc00d968e816d00a58dbd673a727a0b49d17e93d,Remove special testing code paths from app
redshiftzero,2018-04-13 20:41:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f4f78a966378a88f8e7a015e371a4209593749ff,f4f78a966378a88f8e7a015e371a4209593749ff,Fix linting
redshiftzero,2018-04-13 20:31:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a629983efe084d388de9520a3a43de6e5a7c3ec6,a629983efe084d388de9520a3a43de6e5a7c3ec6,"Should return success when signature verifies

The GUI reads the output of securedrop-admin update,
which will output ""Signature verification successful""
if the signature indeed verified. This commit
modifies the GUI to return success when that string
appears in the output."
kushaldas,2018-04-13 18:08:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/14900577bf09ccad09fa51ee2fb7befcb2ebe45f,14900577bf09ccad09fa51ee2fb7befcb2ebe45f,Updates tests for QThreads & related methods
kushaldas,2018-04-13 13:45:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/791e3c9166853cfe5b462f08eb1510218b09e1bf,791e3c9166853cfe5b462f08eb1510218b09e1bf,Updates tests with bytes as output
kushaldas,2018-04-13 13:41:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/636d3f1e9053294304387f49168e9b734b274823,636d3f1e9053294304387f49168e9b734b274823,Shows error in proper format on the dialog box
kushaldas,2018-04-13 11:31:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f8693e11d507e08941bbc9889a8f50e1e6d7719,7f8693e11d507e08941bbc9889a8f50e1e6d7719,Verity Good signature for GUI output
kushaldas,2018-04-13 11:13:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c94452d635a8997624630cd0d4b870a117577c9b,c94452d635a8997624630cd0d4b870a117577c9b,Cleans the update logic for success
kushaldas,2018-04-13 10:47:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/40996a9f4123704b2dc3a6227146cc1a50ecd78c,40996a9f4123704b2dc3a6227146cc1a50ecd78c,Updates the test cases for QThread
kushaldas,2018-04-13 09:17:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/65ee592ceffb3c23ce258f498162731e2bd21ead,65ee592ceffb3c23ce258f498162731e2bd21ead,Initial code for QThread
redshiftzero,2018-04-13 16:47:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d1237a0e9411bfbd2d6e5f263445d6a0e9343abf,d1237a0e9411bfbd2d6e5f263445d6a0e9343abf,"Merge pull request #3246 from freedomofpress/qt-journo-finish-tests

[qt-journalist-gui] Add unit test suite and CI job"
redshiftzero,2018-04-10 22:51:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9dbb255153c03035baf6967df01212e650b0e5b,d9dbb255153c03035baf6967df01212e650b0e5b,"Unit tests: Make sure correct alert dialog boxes pop up.

This commit also has some minor refactoring (e.g. using show()
instead of exec_() - to interact with the dialog
using QTest we need to use show()) for testability."
redshiftzero,2018-04-09 19:54:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4740386e41ef29f521fa75dba61d9d9e2e22ccb9,4740386e41ef29f521fa75dba61d9d9e2e22ccb9,"Add CI job for updater GUI tests

Without installing libqt5designer5, Circle CI is unable to load the
platform plugin xcb [0]. It is installed, but it will not successfully
load until this dependency is added. This will cause a failure.

The reason I elected to install the dependency in a run step and
not just make a custom Dockerfile is that making a custom Dockerfile
seemed like overkill for installing a single apt dependency.

[0] https://forum.qt.io/topic/30257/solved-failed-to-load-platform-plugin-xcb/2"
redshiftzero,2018-04-06 23:26:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/678b03e2248efef82e994702fe74f086e0f89447,678b03e2248efef82e994702fe74f086e0f89447,Unit tests: Add tests for tailsconfig
redshiftzero,2018-04-06 23:25:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/640604d2b0fbc1cf646c5f600e60b0caab1a343d,640604d2b0fbc1cf646c5f600e60b0caab1a343d,Journalist GUI: Move pexpect functionality into its own method
redshiftzero,2018-04-06 22:25:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1cf8e110589ef6cb93dca88dd4cfd41dc0422cca,1cf8e110589ef6cb93dca88dd4cfd41dc0422cca,Unit tests: get_sudo_password
redshiftzero,2018-04-11 21:39:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ab0ac2f11cd30b077a331a4225c111471a36e0c,7ab0ac2f11cd30b077a331a4225c111471a36e0c,"Merge pull request #3254 from freedomofpress/qt-developer-docs

Fixes #3231 adds developer documentation for journalist gui"
redshiftzero,2018-04-11 20:41:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/05b819eb755b37c650e789db550d7140b763cdbc,05b819eb755b37c650e789db550d7140b763cdbc,Updater GUI: Minor additions to developer documentation
kushaldas,2018-04-11 07:12:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7165dbbee3887fbf2c17efec875ee52e9ce540e2,7165dbbee3887fbf2c17efec875ee52e9ce540e2,Updates the doc based on review
kushaldas,2018-04-11 07:03:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/76c96113562d144a7e96d7e0bba91d84aefe4170,76c96113562d144a7e96d7e0bba91d84aefe4170,Adds the Pipfile for pipenv as mentioned in docs
kushaldas,2018-04-10 18:25:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2346a007bec8bf566c89a02a4c037b356649c563,2346a007bec8bf566c89a02a4c037b356649c563,Adds developer documentation for Qt based journalist GUI
redshiftzero,2018-04-10 16:13:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/11d2e286bff032934d11ef27b92cf1bc41366457,11d2e286bff032934d11ef27b92cf1bc41366457,"Merge pull request #3241 from freedomofpress/qt-journo-fixed-window

Fix window size in journalist updater GUI"
redshiftzero,2018-04-06 18:22:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/02228d25c4a01b5381bdf92968738a5fc783762b,02228d25c4a01b5381bdf92968738a5fc783762b,Unit test: prevent regressions in GUI being fixed size
redshiftzero,2018-04-06 00:22:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/af8fc02cf6504b4856952765ffaf4fe0504de842,af8fc02cf6504b4856952765ffaf4fe0504de842,"Lint journalist_gui directory

I have added an exception for updaterUI.py. The reason is that this
file is generated by converting the .ui file from Qt Creator
into .py using pyuic5. This file should not be edited directly.

There is also an exception for resources_rc.py as it too is
autogenerated."
redshiftzero,2018-04-05 23:03:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7dbf3832f77b235dabb315347fe4e8d4f16b4bfe,7dbf3832f77b235dabb315347fe4e8d4f16b4bfe,"Qt Journalist Updater: Window size should be fixed

This is done via setting the sizePolicy to be Fixed both
horizontally and vertically as well as by setting a minimumSize.
The explicit setting of minimumSize is indeed required."
redshiftzero,2018-03-30 23:48:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d3c1202ed28861fbdfe8fcd2121c372a3d54ed87,d3c1202ed28861fbdfe8fcd2121c372a3d54ed87,Journalist GUI: Unit test coverage of tag checkout and verification
redshiftzero,2018-03-30 23:17:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/67a530342049691b9f4fcd6c70b4df2c8c1a0150,67a530342049691b9f4fcd6c70b4df2c8c1a0150,"Journalist GUI: Failure reason should be an attribute

Also fix update_success for sig failed case"
redshiftzero,2018-03-30 23:16:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96d58d1351a2b4d6660466faa3f86ee6017dee68,96d58d1351a2b4d6660466faa3f86ee6017dee68,"Journalist GUI: Move tag checkout and verification into method

Separating out this method for testability"
redshiftzero,2018-03-30 23:02:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a16e62d1f9d2e2020c26567512d70e38b585b65,4a16e62d1f9d2e2020c26567512d70e38b585b65,"Remove now unnecessary ui, requirements, and test files"
kushaldas,2018-03-30 13:49:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/599be9df1a3bb0a768c5cb21b75c3232824db5be,599be9df1a3bb0a768c5cb21b75c3232824db5be,"Adds resources for the project

(cherry picked from commit d9877b79d051c643ffe69e416d2cb419a106b2c7)"
kushaldas,2018-03-30 16:13:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6eb3749d2787c30e70209281d443471e95dcca8,c6eb3749d2787c30e70209281d443471e95dcca8,"Fixes bytes vs string issue

(cherry picked from commit 8f0feb46c97111aa31a466f915afd09d49eccd52)"
kushaldas,2018-03-30 13:50:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f2ed46f8d1d5152cb752626caf3b1f7361a7da8,6f2ed46f8d1d5152cb752626caf3b1f7361a7da8,"Updates the tests

(cherry picked from commit e50d8b307dbe8bc4130a7a90d3b25418091a5a33)"
kushaldas,2018-03-30 13:50:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c1143a2484c8847cc10994f13b6be84fa10cb09,7c1143a2484c8847cc10994f13b6be84fa10cb09,"Adds the new UI

(cherry picked from commit 02c68cfad75afb99e6352d07656624c84d7bb1fe)"
kushaldas,2018-03-29 03:51:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17cabfe53ec69a6aa56367dc94301e3261ffa2d6,17cabfe53ec69a6aa56367dc94301e3261ffa2d6,"Fixes the mouseclick in test

(cherry picked from commit 4c68fcb43cb5625680a583a01e6ef0a881739e07)"
kushaldas,2018-03-28 08:58:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6bec4ed4754297b535e166669362af4d6c977eed,6bec4ed4754297b535e166669362af4d6c977eed,"Adds unittest based test cases

(cherry picked from commit 9c67f0d257dd6e987477a59f0aebdedd7eb042f3)"
kushaldas,2018-03-28 08:56:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bfcc75ef3f87a536041d12c4161f82c1ff953cb7,bfcc75ef3f87a536041d12c4161f82c1ff953cb7,"Adds a new mainwindow for the GUI application

(cherry picked from commit 9488aea991f47643c87ba20b61375a017f2325d2)"
redshiftzero,2018-03-27 22:47:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff06d28307d73cebef67f765c525255a59adfd74,ff06d28307d73cebef67f765c525255a59adfd74,Add pytest-qt to test requirements
redshiftzero,2018-03-26 16:45:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e15becf835ccd1844a74eab3de20a8ce77eaf35a,e15becf835ccd1844a74eab3de20a8ce77eaf35a,Journalist GUI: more tests
redshiftzero,2018-03-26 16:40:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f49c7b854c54180ce2bdd78c98e488738d5c42b0,f49c7b854c54180ce2bdd78c98e488738d5c42b0,Show failure message in status bar
redshiftzero,2018-03-26 16:39:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c85bf388f54774eedba42ade689b58d5dfc656ad,c85bf388f54774eedba42ade689b58d5dfc656ad,Do not run Tailsconfig if checking out the latest tag failed
redshiftzero,2018-03-26 16:39:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9469302ff58e52d9ed8ab2feb572157f85581d32,9469302ff58e52d9ed8ab2feb572157f85581d32,Convert output to string before checking if sig verification failed
redshiftzero,2018-03-23 23:14:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e16b78f6f4ec407d879e62c9e41e8992edadc600,e16b78f6f4ec407d879e62c9e41e8992edadc600,"Journalist GUI: Add SecureDropUpdater script outside package

This doesn't have a py extension because the name will appear
in the Tails process bar, and it's nice to show simply
SecureDropUpdater there."
redshiftzero,2018-03-23 22:55:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba65f8be8611e278e2231742a7d96f4e0597ab70,ba65f8be8611e278e2231742a7d96f4e0597ab70,Journalist GUI: Add initial unit test suite
redshiftzero,2018-03-23 22:49:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/06059eab3047b177eeec07d55e4339a98111838b,06059eab3047b177eeec07d55e4339a98111838b,"Journalist GUI: Add requirements.txt, test-requirements.txt"
redshiftzero,2018-03-23 22:49:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ea67c2a1bd34767030c06d9031fdaf412c9ef0dd,ea67c2a1bd34767030c06d9031fdaf412c9ef0dd,Journalist GUI: Fix import statements for new package
redshiftzero,2018-03-23 22:46:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d7c4a4b1019ac3110411e62aed84f877bc174998,d7c4a4b1019ac3110411e62aed84f877bc174998,Journalist GUI: Make GUI-related files a package
redshiftzero,2018-03-23 20:46:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6561e8ab7b281d2fb400631b0057d35ba45b4412,6561e8ab7b281d2fb400631b0057d35ba45b4412,Journalist GUI: Make update output text box collapsible
redshiftzero,2018-03-17 05:49:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68ea7ad2af17d984dedd49b8b3a056c82818e8df,68ea7ad2af17d984dedd49b8b3a056c82818e8df,"Journalist GUI: Refactor update function, call Tailsconfig function"
redshiftzero,2018-03-17 05:46:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ffc13c55d513e8941a926d4a51393c11eeeb3b93,ffc13c55d513e8941a926d4a51393c11eeeb3b93,"Journalist GUI: If a failure occurs, return user to main GUI window

This is such that they can try again. For example, if they just fail
to type in the sudo password, they might want to try again.
If they get a scarier message they _can_ try again, though the
strings warn the user in such a case just to go to their
administrator."
redshiftzero,2018-03-17 05:46:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b5fdfc1cf45e0273eb17ed288a0b2d41e9f9ba0,7b5fdfc1cf45e0273eb17ed288a0b2d41e9f9ba0,Journalist GUI: Run Tailsconfig after update is completed
redshiftzero,2018-03-17 04:11:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5eb55f37fd53a698192e7ee27fba4acd42a2a1ae,5eb55f37fd53a698192e7ee27fba4acd42a2a1ae,Journalist GUI: Add popup box to get Tails sudo password
redshiftzero,2018-03-17 03:57:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01a6df5a97b238a9b61026991b8bc1eadc6ccc82,01a6df5a97b238a9b61026991b8bc1eadc6ccc82,Journalist GUI: Display custom message if sig verification fails
redshiftzero,2018-03-17 03:01:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f3f30c12a71ea8b5d0dcfdd2eb40711641db898d,f3f30c12a71ea8b5d0dcfdd2eb40711641db898d,Journalist GUI: Add failure and success dialog boxes
redshiftzero,2018-03-17 01:45:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6625b3e0d5a0cd6c6cbc0b2851aa21c0877b974,c6625b3e0d5a0cd6c6cbc0b2851aa21c0877b974,Tails: Convert GUI to Python3 and PyQt5
redshiftzero,2018-03-17 00:10:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/32be76b96a8417cd10a1e3121cb133d9ed7e47e1,32be76b96a8417cd10a1e3121cb133d9ed7e47e1,"Tails: Run updater GUI on boot and only when SD updates are needed

This commit runs check_for_updates on boot, and then runs the
updater GUI if updates are needed. If updates are not needed,
then nothing will happen.

Note: in order to run this, the venv must already be set up, as the
journalist/admin will run `./securedrop-admin tailsconfig` in
order to update this on-boot hook. So assuming that the venv
is configured in the on-boot hook is a safe assumption."
redshiftzero,2018-02-15 19:52:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f86e115f9f264fe605bf4de0c8d4e93b91c64cad,f86e115f9f264fe605bf4de0c8d4e93b91c64cad,Add SecureDrop icon for the bar
redshiftzero,2018-02-15 19:52:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5317a4d03b8fee332da42ea1d3304ed6a923f8ea,5317a4d03b8fee332da42ea1d3304ed6a923f8ea,Add initial pass at an updater Qt program
redshiftzero,2018-02-15 19:51:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/93eeb9602ae79f1125f76d500a6dfa8aad590959,93eeb9602ae79f1125f76d500a6dfa8aad590959,Add .ui file produced by Qt Creator
msheiny,2018-04-17 15:36:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/113ccd06b1b105cef34cc4adce7435c7814f710e,113ccd06b1b105cef34cc4adce7435c7814f710e,Fix doc goof with reference to admin command
msheiny,2018-04-06 20:22:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ee572e975dad6e8e13bde6e639cf62ee000771d,4ee572e975dad6e8e13bde6e639cf62ee000771d,"Tweak SSH documentation to add reference to env update

Its important the user specifically updates to a later branch that
includes this update. It is also important for the end-user to update
their pip dependencies which includes a jinja ipaddr filter used for
network string parsing"
msheiny,2018-04-06 18:45:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/367827d9de60ed280f3a91cd7cc6558cde771f40,367827d9de60ed280f3a91cd7cc6558cde771f40,"Update SSH over LAN docs

* Fix reference to securedrop-admin sdconfig
* Add warning about not using this feature through a NAT"
msheiny,2018-04-06 17:25:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/82a8bed900b6e072488e6aaa684bdaf91c4cb0a3,82a8bed900b6e072488e6aaa684bdaf91c4cb0a3,"Address SSH IP ruleset when servers on split nets

So during testing against a production hardware instance this came up
and smacked me in the face :) During testing locally everything is done
on the same /24 but in PROD we recommend having split networks which is
what I had -- and things fell down fast :(

So this fixes the logic, so it'll calculate the network CIDR of the
ADMIN network (derived from commands run on the admin workstation)
 and allow all from there."
msheiny,2018-04-05 20:18:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/927e54c8545d3a020efe6f33a09a40fddbbdaa0c,927e54c8545d3a020efe6f33a09a40fddbbdaa0c,"Adjust iptables tor rules to allow traffic for mon

Modified the comments a bit. In general the iptables rules are pretty
terrible and need a huge refactor. There is a community member
attempting to address some of that. Hopefully I can assist with rebase
efforts after this."
msheiny,2018-04-05 18:54:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8cc155777bb3a94476ee0532d11cd35d502f5d75,8cc155777bb3a94476ee0532d11cd35d502f5d75,"Add detection when reboot needed for iptables

Previously system would not reboot as needed when iptables changes were
made after the initial install. With the updated logic when iptables
changes, we drop a file on disk indicating a reboot is needed. The
reboot task which is wayy further down the line sees that file and
reboots as necessary."
msheiny,2018-04-05 15:41:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/33148849d9682eaa0efefb63a44048af6906d898,33148849d9682eaa0efefb63a44048af6906d898,"Fix var name, ssh over local net for mon

:smh:"
msheiny,2018-04-03 15:01:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/db0cf4283ee0d109779ad1c22bc5e346774284cb,db0cf4283ee0d109779ad1c22bc5e346774284cb,"Revert ""Remove legacy second interface on staging env""

Turns out this wasnt ""legacy"" and is needed for macosx/vbox users under
vagrant :shrug:"
msheiny,2018-04-03 14:57:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b4e62e30c5734c4ab9dd076f475a4c866b559382,b4e62e30c5734c4ab9dd076f475a4c866b559382,Fix - prod not installw/ ssh/local on fresh inst
msheiny,2018-03-29 14:59:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a5a8a5e2978647038b47a06d1f19ba1fa5217509,a5a8a5e2978647038b47a06d1f19ba1fa5217509,Ignore visual-studio code local config folder
msheiny,2018-03-29 14:57:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/51606ed052844ec0fc098333ea7fa919edbc88c2,51606ed052844ec0fc098333ea7fa919edbc88c2,"fix iptables template, expand tests ssh+localnet

* Noticed a white-space bug in the iptables template :|
* Expanded iptables tests for the staging environment"
msheiny,2018-03-29 14:05:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a55dd5adbcd5b5cb83b332fbb61960c1c0a3b032,a55dd5adbcd5b5cb83b332fbb61960c1c0a3b032,Add accompanying admin test for nable_ssh_over_tor
msheiny,2018-03-29 01:32:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b41b11a8faa66bdda2bdb582d770ad8671d9e9d8,b41b11a8faa66bdda2bdb582d770ad8671d9e9d8,"Fix playbook when user toggles ssh_tor -> localnet

This is a rare scenario that I'm addressing and this isnt the smoothest
logic in the world, but it does the trick. All of our roles are
currently designed for the opposite scenario (transistioning from ssh
localnet -> ssh over tor), going the opposite way is tricky. So I added
a minimal amount of conditional logic and have it bail early with a
friendly user message. I tried to do a message and a meta `end_play`
event instead so it wouldn't show as an ""error"" but I was unsuccessful
to get that working as documented"
msheiny,2018-03-29 01:31:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e26a2e4684d40a294fb2918a4a29c26811d4613,7e26a2e4684d40a294fb2918a4a29c26811d4613,"Address transistion scenario when disabling ssh_over_tor

Found a situation when a user previously had ssh_over_tor enabled, they
disable it, and run tailsconfig. We want to ensure that the local users
sshconfig is setup to connect directly as oppossed to over tor."
msheiny,2018-03-29 01:29:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a6b0d93a61b477c8b10b3e32dd2eb20a8e06a14a,a6b0d93a61b477c8b10b3e32dd2eb20a8e06a14a,"Fix for iptables logic for ssh_over_localnet

Addressed two issues here:
* One bug report during QA of the PR where a user had an interface up
without an active ipv4 address (so the ipv4 attribute failed)
* Added back the ssh rate-limiting logic to local ssh that is present in
the ssh over tor logic (for feature parity)"
msheiny,2018-03-29 00:11:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/66a070aa6dd235f053f0b98d6ea3386fb86ed18c,66a070aa6dd235f053f0b98d6ea3386fb86ed18c,Add option to toggle ssh over tor
msheiny,2018-03-28 17:52:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba44342659d0402528fcbcf58183e2643d87b08c,ba44342659d0402528fcbcf58183e2643d87b08c,Make sure netaddr dependency added to admin list
msheiny,2018-03-07 14:00:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f04a4ea116e2fb52bf86053d707076a2e7ddcc95,f04a4ea116e2fb52bf86053d707076a2e7ddcc95,"Remove legacy authd_rules variable

The ossec logic was refactored at one point and this old authd rule is
no longer utilized."
msheiny,2018-03-07 13:58:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/057c7a281c2ed505924d489a9a1512d065a0b602,057c7a281c2ed505924d489a9a1512d065a0b602,"Address documentation nits

s/ssh/SSH/ (unless referenced specifically as a command)
s/SSHd daemon/SSH daemon/
s/tor/Tor/ (unless referenced as a command or file)"
msheiny,2018-03-02 20:20:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3531ad8a37a853def9c5026858aae3f9246c9f49,3531ad8a37a853def9c5026858aae3f9246c9f49,Fix iptables tests to match staging environment
msheiny,2018-03-02 20:18:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d9e1f1b8572d9e363a1b0cd43ada5a698f633e5,9d9e1f1b8572d9e363a1b0cd43ada5a698f633e5,"Re-enable tor install for monitor server

Was going back and forth on this decision, I've changed my mind. We
should always install tor on both servers mon and app. Thats the current
status quo and I'm not ready to make that unanimous decision without
going through the team and getting a better implication of that change."
msheiny,2018-03-02 16:50:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d2fceb80d7d61de642defcba30607acfab9a0f52,d2fceb80d7d61de642defcba30607acfab9a0f52,"Allow over-ride of ssh network allowance

This is needed in particular for CI testing to SSH from a non-local
netowork"
msheiny,2018-03-02 16:49:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/05e5f80e476293aa669598ab7d8d54e13f0cff7c,05e5f80e476293aa669598ab7d8d54e13f0cff7c,Squash deprecation warnings over ec2 facts modules
msheiny,2018-03-02 16:49:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fcd877b3b78475df60d5a4cc94922ba88f3e7c30,fcd877b3b78475df60d5a4cc94922ba88f3e7c30,"Remove no longer utilized ansible ossec var

Was refactored under my branch by upstream develop changes"
msheiny,2018-03-02 16:48:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce95a4415cefa7372c21c221a48b77584ee6f036,ce95a4415cefa7372c21c221a48b77584ee6f036,"Punt aws molecule scenario vars to new file

Easier to read and manipulate"
msheiny,2018-03-01 21:46:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b23b3d1304a79bb2fe3abf606e0504651d01a267,b23b3d1304a79bb2fe3abf606e0504651d01a267,"Ensure ssh localnet opened when tor ssh is disabled

Had my boolean check reversed before :( Whoops"
msheiny,2018-03-01 21:15:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d67a98b73b3ce5c7bf5e55b83a7f5652fc4fb55,8d67a98b73b3ce5c7bf5e55b83a7f5652fc4fb55,"Ensure netaddr ansible filter dependency present

Some how this got on the requirements.txt list without being present in
pip-compile `.in` file :("
msheiny,2017-11-28 15:37:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/06ab470e6da6752bf9b254a2bb2f9f80b0702a30,06ab470e6da6752bf9b254a2bb2f9f80b0702a30,"Remove legacy second interface on staging env

The second interface was added a while back (~2014) and is no longer needed
with the current interface detection logic in staging."
msheiny,2017-11-27 22:30:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/feda2dc84b0e3f46771149809c29c5b12b78e4fd,feda2dc84b0e3f46771149809c29c5b12b78e4fd,"Address documentation nits raised in PR

Regarding case usage, language surrounding SSH usage by admins, and
prompt language at install."
msheiny,2017-11-21 16:22:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8eb54e1ab5461ff44329d7698a9b8c368934be6b,8eb54e1ab5461ff44329d7698a9b8c368934be6b,"Expand documentation for local ssh config

Doesn't cover all situations yet - particularly how to convert an
existing tor install to one over ssh."
msheiny,2017-11-20 22:19:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ecfe2058661215433e69061cd344d552f42b98b7,ecfe2058661215433e69061cd344d552f42b98b7,"Remove tor test from common

It is possible for tor not to be installed/configured on a monitor
server. This test will have to be expanded to fit that scenario."
msheiny,2017-11-20 22:12:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5d3b424559586acd80089985364bf43bfdd76b6,b5d3b424559586acd80089985364bf43bfdd76b6,"Config ssh_cfg based tor_ssh status - admin wkstn

On the admin workstation, when using the tailsconfig command, this
commit will either conditionally plop in the onion address or utilize
the address configure in the site-specific file. Now that admin has
power to disable ssh over tor there could be scenarios where those files
dont exist."
msheiny,2017-11-20 17:03:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9658f74af2290170c896934a412c0cfc5b60e2c6,9658f74af2290170c896934a412c0cfc5b60e2c6,Improve logic-SSHd listen addr when ssh w/o tor
msheiny,2017-11-20 16:41:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6f5c124fcde4c1d80fb16a2309ad5370e774b10,c6f5c124fcde4c1d80fb16a2309ad5370e774b10,"Move enable_ssh_over_tor default to roles

Makes the roles better applicable to role best practices and allows
better over-riding logic in the future."
msheiny,2017-11-17 00:20:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/454bc41caefc8888e34b4ebbafc1fe0d965a7b3c,454bc41caefc8888e34b4ebbafc1fe0d965a7b3c,"Allow more extensive disable of ssh over tor

We already had similar logic for the staging environment for allowing
SSH directly, this commit expands that:
    * by disabling the Tor SSH service when direct ssh is enabled
    * adds network detection and adds that to the iptables restriction.
      motive is to only allow ""local"" network access over a particular
      port for ssh traffic. of course if someone decides to allow direct
      SSH over a public facing interface with globally addressable IP
      space thats problematic -- but unfortunately some of these design
      calls are up to the admin to make sure they arent opening
      themselves up."
heartsucker,2018-04-17 12:44:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85fde74e6981da2729c6b6d5c73c64b357f3dd21,85fde74e6981da2729c6b6d5c73c64b357f3dd21,pytest fixtures: test_bad_token_fails_to_verify_on_new_user_two_factor_page
heartsucker,2018-04-17 12:35:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6744ac9c0e4a66bd8962ca74f8be384208910825,6744ac9c0e4a66bd8962ca74f8be384208910825,pytest fixtures: test_bad_token_fails_to_verify_on_admin_new_user_two_factor_page
heartsucker,2018-04-17 10:13:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e4ff8178b3b7f06a705bc0a1c948c339a4f7e975,e4ff8178b3b7f06a705bc0a1c948c339a4f7e975,pytest fixtures: test_totp_reuse_protections2
heartsucker,2018-04-17 09:59:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03d3404c51a52ec6b745884a0b388f5e330bc72a,03d3404c51a52ec6b745884a0b388f5e330bc72a,pytest fixtures: test_totp_reuse_protections
redshiftzero,2018-04-11 23:03:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/86d037e6b18586dd0a0c2c8c5fccba95d10ee2da,86d037e6b18586dd0a0c2c8c5fccba95d10ee2da,Unit test: Test get_release_key_from_keyserver for valid keyserver
redshiftzero,2018-04-11 22:27:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9e9627eb050b55f0fafc2dd514ce8a70ad4aeeb3,9e9627eb050b55f0fafc2dd514ce8a70ad4aeeb3,"SecureDrop admin CLI: Use alternative keyserver if needed

Note that we use a timeout such that we can exit
if the keyserver is not responding. If we wait too long, it
produces a very annoying user experience."
redshiftzero,2018-04-11 20:18:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9e3379c8bfb5767ab204d57707b1a1836731bd66,9e3379c8bfb5767ab204d57707b1a1836731bd66,"Add regression test for defect #3243

The securedrop-admin update can fail if the primary
keyserver is unavailable. As noted in
https://labs.riseup.net/code/issues/12689, this sometimes does
happen."
redshiftzero,2018-04-16 16:37:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d549d8d5d23aca0b0e8990cb2c317a3d8c900be,9d549d8d5d23aca0b0e8990cb2c317a3d8c900be,"Merge pull request #3256 from freedomofpress/pytest-journalist

Additional pytest fixtures for test_journalist.py"
heartsucker,2018-04-16 09:02:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fbea8a1ff0438022336209a7dee9150fb07be27a,fbea8a1ff0438022336209a7dee9150fb07be27a,added hashes for pluggy python wheels
eloquence,2018-04-15 05:44:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/042aa6288658f348e8159eb4e9067fba3f115898,042aa6288658f348e8159eb4e9067fba3f115898,"Move new sections down, title-case headlines, title-case/emphasize *Landing Page*"
heartsucker,2018-04-11 15:37:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2d75ef3e74920361f3f11e5fd635ac4bd466d35,e2d75ef3e74920361f3f11e5fd635ac4bd466d35,pytest fixtures: test_admin_resets_user_hotp
heartsucker,2018-04-10 16:59:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aba4d0b919484e4ea6a4616cd008a4c250a4eac8,aba4d0b919484e4ea6a4616cd008a4c250a4eac8,pytest fixtures: test_admin_resets_user_hotp_format_non_hexa
heartsucker,2018-04-11 16:33:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb352f72ff7e19f9c79e7f267e6f298ae1ada48f,fb352f72ff7e19f9c79e7f267e6f298ae1ada48f,alter existing tests to call otp_secret directly
heartsucker,2018-04-11 15:23:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e4c12163874cf149e9e318725260914964b71ed3,e4c12163874cf149e9e318725260914964b71ed3,"set is_totp after hotp secret validation

If we are calling set_hotp_secret, we need to ensre the journalist has
is_totp = false otherwise they would get locked out at the end of their
session."
eloquence,2018-04-14 01:19:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e0342aa63888483c999ea582f18758ac4d3add00,e0342aa63888483c999ea582f18758ac4d3add00,"[docs] Discourage active links to .onion addresses or to SecureDrop.org

Fixes #3259"
redshiftzero,2018-04-13 21:47:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23613a289c986480f3315cb4c61262d30fdf1ea6,23613a289c986480f3315cb4c61262d30fdf1ea6,"Merge pull request #3263 from ajvb/ajvb/small-fix-in-restore-script

Fixed typo in ansible restore script"
ajvb,2018-04-13 20:57:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39522ceaa70c1c544e4f342fb9501ab88efb176e,39522ceaa70c1c544e4f342fb9501ab88efb176e,Fixed typo in ansible restore script
redshiftzero,2018-04-12 22:37:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/020d39fb28dcc89390a46388ba3bdcb2e8299e43,020d39fb28dcc89390a46388ba3bdcb2e8299e43,"Merge pull request #3250 from freedomofpress/pytest-store

pytest for test_store.py"
redshiftzero,2018-04-12 22:22:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0344095493c2f23235dcd3f408f0807c32df17f8,0344095493c2f23235dcd3f408f0807c32df17f8,"Merge pull request #3252 from freedomofpress/docs-digicert-apache

HTTPS docs update: Suggest admin run securedrop-admin install if needed"
redshiftzero,2018-04-12 19:31:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bca891b843bc07c94b3999b9ba313a79de4031d9,bca891b843bc07c94b3999b9ba313a79de4031d9,"Merge pull request #2803 from freedomofpress/wip-dachary-1195-journalist-notification

daily email alert to journalists about submissions received in the past 24h"
conorsch,2018-04-11 20:35:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7bec4edc1db449f61fb93ee4b23649b3bd2b32a0,7bec4edc1db449f61fb93ee4b23649b3bd2b32a0,"Small typo fixes in journalist notification docs

Caught during review, didn't want to trouble @dachary by requesting
changes."
heartsucker,2018-04-11 15:11:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e184ece9af267a271ec66dad2979457cb3a7023,6e184ece9af267a271ec66dad2979457cb3a7023,updated models to guard against incorrect totp/hotp cases
redshiftzero,2018-04-10 22:18:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf4307bc199f1d1a80110f06402cb93a80d14288,bf4307bc199f1d1a80110f06402cb93a80d14288,"Merge pull request #3210 from freedomofpress/docs-add-user-evidence

Add user research evidence section to issue feature request template"
redshiftzero,2018-04-10 22:03:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a5f34d0909fdc6a442f762604b519e3215a8d949,a5f34d0909fdc6a442f762604b519e3215a8d949,"Merge pull request #3249 from freedomofpress/pytest-template-filters

pytest fixutres for template filters"
redshiftzero,2018-04-10 19:50:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a9286a35546c5316de0caa43fa73b91fd2172710,a9286a35546c5316de0caa43fa73b91fd2172710,"HTTPS docs: Suggest admin run securedrop-admin install

We require the well-known stanza in the source
interface Apache config. If this is not present, for
example if an admin installed SecureDrop a year ago,
then the user will get a 404 when navigating to the
validation file. If this is the case, then they should
run securedrop-admin install such that the latest
Apache configs are copied over to the servers and
Apache is restarted.

We should not instruct admins to run
securedrop-admin install ""just in case"" as this will
result in a 20 minute+ install run (and they have to
do it again when they get the cert) which should
be avoided if unnecessary."
heartsucker,2018-04-10 16:52:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1441d8b1eff2e9ad808693a94794f06b0a6ec4b1,1441d8b1eff2e9ad808693a94794f06b0a6ec4b1,pytest fixtures: test_admin_edits_user_invalid_username
heartsucker,2018-04-10 16:41:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d2f5f322ef01b3bcf02d87c49ad6ebad610efbc,0d2f5f322ef01b3bcf02d87c49ad6ebad610efbc,pytest fixtures: test_admin_add_user_password_too_long_warning
heartsucker,2018-04-10 16:36:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2947bafe52f6c22fe2aa4be4e5a96713d8d9740f,2947bafe52f6c22fe2aa4be4e5a96713d8d9740f,pytest fixtures: test_user_edits_password_too_long_warning
heartsucker,2018-04-10 16:15:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/94b0f4e10bc8799a7bff79a989a219c24dd73807,94b0f4e10bc8799a7bff79a989a219c24dd73807,pytest fixtures: test_rename_submission_with_invalid_filename
heartsucker,2018-04-10 16:14:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5d5ab46997c684e8bea59cb890689c7d089751e,b5d5ab46997c684e8bea59cb890689c7d089751e,pytest fixtures: test_rename_valid_submission
heartsucker,2018-04-10 16:11:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/273fc0ce6ad23bf66c1017e68ff653de601e6987,273fc0ce6ad23bf66c1017e68ff653de601e6987,pytest fixtures: test_get_zip
heartsucker,2018-04-10 16:01:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7000b442a4a0e850f946f995fc6cb6cb1fbbe069,7000b442a4a0e850f946f995fc6cb6cb1fbbe069,pytest fixtures: test_verify_invalid_filename_in_sourcedir_raises_exception
heartsucker,2018-04-10 15:59:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/31fb33df75608e6373ec748bb914c45a1eca3d09,31fb33df75608e6373ec748bb914c45a1eca3d09,pytest fixtures: test_verify_invalid_file_extension_in_sourcedir_raises_exception
heartsucker,2018-04-10 15:57:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/475139050fd0fca32da3feee664063c71ae0f454,475139050fd0fca32da3feee664063c71ae0f454,pytest fixtures: test_verify_flagged_file_in_sourcedir_returns_true
heartsucker,2018-04-10 15:35:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e4fbe141cbb60d567b45bac6cc77ccc5d352b035,e4fbe141cbb60d567b45bac6cc77ccc5d352b035,duplicate create_file_in_source_dir
heartsucker,2018-04-10 15:52:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0fe36aa6b2938320909bd82cab6ce78cfb5cfcd9,0fe36aa6b2938320909bd82cab6ce78cfb5cfcd9,pytest fixtures: test_verify_store_temp_dir_not_absolute
heartsucker,2018-04-10 15:50:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85ff141e5414d5fedcb210c2cebe49fc513a851b,85ff141e5414d5fedcb210c2cebe49fc513a851b,pytest fixtures: test_verify_store_dir_not_absolute
heartsucker,2018-04-10 15:47:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/42c4f37ba00dac615188fd1e6fcee3ead5b81abe,42c4f37ba00dac615188fd1e6fcee3ead5b81abe,pytest fixtures: test_verify_store_path_not_absolute
heartsucker,2018-04-10 15:43:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/708a3faefd6f728429ead46fc31a70ea21b4d3d4,708a3faefd6f728429ead46fc31a70ea21b4d3d4,pytest fixtures: test_verify_in_store_dir
heartsucker,2018-04-10 15:41:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/092195f93b3edaeb2f145ab4b9906fd5900e3408,092195f93b3edaeb2f145ab4b9906fd5900e3408,pytest fixtures: test_verify_path_not_absolute
heartsucker,2018-04-10 15:39:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6fb5aa156ef5a66751caacb339d163a82ed13466,6fb5aa156ef5a66751caacb339d163a82ed13466,pytest fixtures: test_path_returns_filename_of_items_within_folder
heartsucker,2018-04-10 15:38:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b91ae8a7ed54fdee22ce2d49d0897ff532d3ddb6,b91ae8a7ed54fdee22ce2d49d0897ff532d3ddb6,pytest fixtures: test_path_returns_filename_of_folder
heartsucker,2018-04-10 15:21:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c5aee6f0f03bd238ccabe063626cb741e4a83ec5,c5aee6f0f03bd238ccabe063626cb741e4a83ec5,pytest fixutres for template filters
redshiftzero,2018-04-06 00:18:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/071044bff9504f0398829c8e56f8a46b39735a37,071044bff9504f0398829c8e56f8a46b39735a37,"Merge pull request #3242 from freedomofpress/readingroomrename

[docs] We're no longer using the term ""Reading Room""."
eloquence,2018-04-05 23:27:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c786b111e1191096dc75fc51b830aa318d42161a,c786b111e1191096dc75fc51b830aa318d42161a,"[docs] We're no longer using the term ""Reading Room"".

Replacing with ""SecureDrop Workstation""; the label has already
been renamed."
redshiftzero,2018-03-31 00:44:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3c45373b124c6809c64dab81bcd5704d7718093c,3c45373b124c6809c64dab81bcd5704d7718093c,"Add ""User research evidence"" to issue feature request template

Adding link to the excellent UX wiki page about issue feature requests
written by @belenbarrospena."
heartsucker,2018-04-05 09:32:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/46e0b55cf824ec32f053abcebcaf8f4744519f14,46e0b55cf824ec32f053abcebcaf8f4744519f14,"Merge pull request #3036 from freedomofpress/first-source-submit

Fixes #2089 Updates messages on source interface"
redshiftzero,2018-04-04 16:36:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6fed15b7fd06bdb43d0e31bedb34e772e3d9760,c6fed15b7fd06bdb43d0e31bedb34e772e3d9760,"Merge pull request #3225 from freedomofpress/apparmor-globe

AppArmor: Whitelist fa-globe-black.png"
kushaldas,2018-04-03 16:50:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b514c3e3b476fdab0449deb5e1bce07354913b6f,b514c3e3b476fdab0449deb5e1bce07354913b6f,Updates template strings as suggestions in review
redshiftzero,2018-04-04 01:14:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5d4fb7d80a982107391bb9f33c10f805be6b2e53,5d4fb7d80a982107391bb9f33c10f805be6b2e53,AppArmor: Whitelist fa-globe-black.png
redshiftzero,2018-04-04 00:04:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/974a50758fa818d819bf6e7a492c3f5c826cb2bf,974a50758fa818d819bf6e7a492c3f5c826cb2bf,"Merge pull request #3222 from freedomofpress/app-armor-custom-logo

App armor custom logo"
redshiftzero,2018-04-03 22:19:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37eba1def259d47d76e6dd3e0f711c6ff1033c8f,37eba1def259d47d76e6dd3e0f711c6ff1033c8f,"Merge pull request #3172 from hariharanj4v4/fix-3160

Fix #3160, Added daily_reboot_time option in sdconfig and documented it"
redshiftzero,2018-04-03 21:57:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f4efa63fd12c0106e357748efa2ae144ebb1e996,f4efa63fd12c0106e357748efa2ae144ebb1e996,"Merge pull request #3215 from freedomofpress/3159_orbot_message

Add Orbot warning in source interface"
emkll,2018-04-03 16:03:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff5f311366fcdfb302ac062e6d3ef43e0b134afc,ff5f311366fcdfb302ac062e6d3ef43e0b134afc,"Add helper function to test banner dismissal

Used in the functional test scenarios for Tor browser and Orbot warnning banner functionality on the source interface."
emkll,2018-03-29 18:19:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d0893ea518c862ef1718071d68871ab66e4df3df,d0893ea518c862ef1718071d68871ab66e4df3df,"Add Orbot warning in source interface

- If a user agent matching Orbot accesses the Source interface, a warning will appear informing them that the security and privacy of their browser and device may be affected, and recommend the use of the desktop version of Tor Browser.
- Add functional test which creates a new profile to set the browser's user agent."
heartsucker,2018-04-03 13:34:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cee7339412fac2ddcecae02a104941e98a7e7167,cee7339412fac2ddcecae02a104941e98a7e7167,"added custom_logo.png to the apparmor profile

fixes #3221"
heartsucker,2018-04-03 13:34:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9edb9b8876d5fe480dba61a1b67fd874f4aea435,9edb9b8876d5fe480dba61a1b67fd874f4aea435,add custom_logo.png to gitignore
kushaldas,2018-02-20 07:02:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e6054eee203144d540dab26de2baf36b8b26127,7e6054eee203144d540dab26de2baf36b8b26127,"Fixes #2089 Updates messages on source interface

Fix is based on the suggestions provided by @edenemmanuel
and @dachary."
heartsucker,2018-04-03 13:18:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9880a30c8d58048ce33e02cdc940a26369a1d601,9880a30c8d58048ce33e02cdc940a26369a1d601,"Merge pull request #3057 from aydwi/image-upload-enhancements

Improvements in image upload functionality"
hariharanj4v4,2018-03-16 02:10:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d9126aec63ac2c2db638ad252257cac664a2e79,1d9126aec63ac2c2db638ad252257cac664a2e79,"Fix #3160, Added daily_reboot_time option in sdconfig and documented it"
redshiftzero,2018-04-02 20:39:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d272e85b79848ff83ad45bbcdf43a1df472308b7,d272e85b79848ff83ad45bbcdf43a1df472308b7,"Merge pull request #3218 from freedomofpress/unit-test-journo-user-whitespace

Unit tests: Verify journalist username containing whitespace can login"
redshiftzero,2018-04-02 19:11:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a75cd28401572be5da359ce27ffdfe3b2bb85336,a75cd28401572be5da359ce27ffdfe3b2bb85336,"Unit tests: Verify journalist username containing whitespace login

Currently, user accounts on the journalist interface can contain
whitespace. While this is a little odd, there may be accounts in
production that have whitespace, so we should ensure they are
able to login."
redshiftzero,2018-03-31 00:39:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c07f63e3da62cfd798a87c34817760030ce0cc8,1c07f63e3da62cfd798a87c34817760030ce0cc8,"Merge pull request #3196 from freedomofpress/3180-remove-generic-kernels

Remove installed vanilla kernels via cron-apt"
emkll,2018-03-23 16:04:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/91f5c88531d5301f24a8cac44234cc06db460c9a,91f5c88531d5301f24a8cac44234cc06db460c9a,"Remove installed vanilla kernels via cron-apt

- Add cron-apt `1-delete` action which will delete Ubuntu's generic-lts-xenial and any generic kernel matching regex.
- Provide cron-apt `1-delete` action to existing installs via `securedrop-config` package.
- Bump securedrop-config version to 0.1.1 in control file, also in staging and builder test vars.
- Added test case for testinfra's test_cron_apt."
msheiny,2018-03-30 14:02:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0e0b860021efd66db79fa63fd3e10a347c0fe8a,f0e0b860021efd66db79fa63fd3e10a347c0fe8a,"Merge pull request #3209 from freedomofpress/update-develop-0.7.0-rc1

Bump up version numbers on develop for 0.7.x release series"
redshiftzero,2018-03-30 00:38:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/62e6c8a74a85160c5289c29f49634287abc96c19,62e6c8a74a85160c5289c29f49634287abc96c19,SecureDrop 0.7.0~rc1
redshiftzero,2018-03-29 20:51:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba56976c2be996f714c442c624ca3b83fffa3ec3,ba56976c2be996f714c442c624ca3b83fffa3ec3,Add current procedures for SecureDrop releases to public docs
redshiftzero,2018-03-29 21:15:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b795b54de11b28ba75710f8218620f1289f80bc3,b795b54de11b28ba75710f8218620f1289f80bc3,"Merge pull request #3201 from freedomofpress/docs-wip-dachary-i18n-timeline

i18n: maintain an up-to-date timeline and priorities"
redshiftzero,2018-03-29 17:16:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2bbf80e3a77c129de9428d1ade476b41e9fa2470,2bbf80e3a77c129de9428d1ade476b41e9fa2470,"Merge pull request #3158 from freedomofpress/fix_vanilla_kernel_regex

Remove vanilla Xenial Ubuntu kernels at install-time"
aydwi,2018-02-21 23:03:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8372f4350080eedb8fc9e502f6531b608844b1cd,8372f4350080eedb8fc9e502f6531b608844b1cd,"Add files for image-upload improvements

Added blank lines

Fix linting issues

Made requested changes

Linting

build: pip wheel must fail when it does not build a python module

build: re-create the builder docker image when Dockerfile changes

It takes longer but works all the time. Uploading an image to a docker
repository to speed-up the build requires an additional manual step
and access to the docker repository.

A possible optimization (would be a few minutes faster) could be
implemented by storing docker layers, similar to what is done for the
Dockerfile used when testing.

Try to fix failing CI build

Changes in methodology

Added an endpoint to handle custom logo image

Add logo endpoint to _insecure_views

Fix the error in the previous commit"
redshiftzero,2018-03-13 18:46:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f549a86501a9038b09872b34388863e5c4140322,f549a86501a9038b09872b34388863e5c4140322,"SecureDrop 0.6

(cherry picked from commit 4cbab07fda4fb18264a4901042e4ac6c9860be47)

Conflicts:
	changelog.md
	docs/conf.py
	docs/set_up_admin_tails.rst
	install_files/ansible-base/group_vars/all/securedrop
	install_files/securedrop-app-code/DEBIAN/control
	install_files/securedrop-app-code/usr/share/doc/securedrop-app-code/changelog.Debian
	install_files/securedrop-config/DEBIAN/control
	install_files/securedrop-keyring/DEBIAN/control
	install_files/securedrop-ossec-agent/DEBIAN/control
	install_files/securedrop-ossec-server/DEBIAN/control
	molecule/builder/tests/vars.yml
	securedrop/version.py"
redshiftzero,2018-03-26 23:52:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/46aa4c0e4f8e620f8a13e78a1694af1e5843d3c2,46aa4c0e4f8e620f8a13e78a1694af1e5843d3c2,"Merge pull request #3100 from freedomofpress/wip-dachary-i18n-tool

i18n: centralize the list of supported languages in ./i18n_tool.py"
redshiftzero,2018-03-26 18:24:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d1d6786223fbd7e86af5ff1966ce6e0d28ecfaff,d1d6786223fbd7e86af5ff1966ce6e0d28ecfaff,"Merge pull request #3191 from freedomofpress/pytest-crypto-utils

Pytest crypto utils"
redshiftzero,2018-03-26 17:16:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba7a876f89b55f3de1738598c51a84f3e7b60785,ba7a876f89b55f3de1738598c51a84f3e7b60785,"Merge pull request #3132 from freedomofpress/wip-dachary-i18n-tor-warning

source: reword the tor2web warning for clarity"
redshiftzero,2018-03-26 17:01:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/94cc428844ba4ac7f6ad2276fff46929398d5494,94cc428844ba4ac7f6ad2276fff46929398d5494,"Merge pull request #3190 from freedomofpress/moar-pytest

Moar pytest fixtures"
comradekingu,2018-03-26 14:18:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2cca6da46b66edf145a89164fa6e8ba6693c2ff8,2cca6da46b66edf145a89164fa6e8ba6693c2ff8,"Reverted spelling mistakes, ""PayPal"""
emkll,2018-03-26 13:45:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7529bb6420a23ae39a22a5f29a44ec171e592191,7529bb6420a23ae39a22a5f29a44ec171e592191,"Improve change logic for generic kernel removal

- Kernel removal task will report changed only if a kernel package is removed.
- Installed kernel list task will never report changed."
comradekingu,2018-03-26 00:38:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98b2308563bd75f42d1ad722b5cdc08286cca4c4,98b2308563bd75f42d1ad722b5cdc08286cca4c4,language rework
heartsucker,2018-03-25 13:18:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/efc6adca9f6d0864cd3e57b36f78ede008a1a964,efc6adca9f6d0864cd3e57b36f78ede008a1a964,pytest fixtures: test_delete_reply_keypair_no_key
heartsucker,2018-03-25 13:17:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b62332bb2065f1b026df14a296dd73dc44814099,b62332bb2065f1b026df14a296dd73dc44814099,pytest fixtures: test_delete_reply_keypair
heartsucker,2018-03-25 13:15:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd6595a115b5ab25a8473c5c5edd6d2cbd76b156,cd6595a115b5ab25a8473c5c5edd6d2cbd76b156,pytest fixtures: test_genkeypair
heartsucker,2018-03-25 13:13:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/359214ea584f2a1d4a652d93f1bba7d8e1931322,359214ea584f2a1d4a652d93f1bba7d8e1931322,pytest fixtures: test_display_id
heartsucker,2018-03-25 13:11:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cbf9e462fb9f9a9613fb724dcda0f4aa2fc0bf42,cbf9e462fb9f9a9613fb724dcda0f4aa2fc0bf42,pytest fixtures: test_hash_codename
heartsucker,2018-03-25 13:07:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21e3247461a16d7cd99d6fa4d2119d1eba2f0eda,21e3247461a16d7cd99d6fa4d2119d1eba2f0eda,pytest fixtures: test_get_wordlist
heartsucker,2018-03-25 13:04:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6b4dba60883a309a1b02cf581208cfc168325224,6b4dba60883a309a1b02cf581208cfc168325224,pytest fixtures: test_genrandomid_default_locale_is_en
heartsucker,2018-03-25 13:02:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1ed94fc653994c41a20f5d81c4342c03f4a38653,1ed94fc653994c41a20f5d81c4342c03f4a38653,move verify_genrandomid
heartsucker,2018-03-25 12:58:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2269c28dd6bbd955feb7d6928ef70ae34489e56a,2269c28dd6bbd955feb7d6928ef70ae34489e56a,pytest fixtures: test_basic_encrypt_then_decrypt_multiple_recipients
heartsucker,2018-03-25 12:58:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9998973d86b421934fded2c7638c2425a0aa59e,d9998973d86b421934fded2c7638c2425a0aa59e,added secret key import to config fixture
heartsucker,2018-03-24 16:16:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/67a00c70b0cd2dff5d079b45d7c30539f3caf17a,67a00c70b0cd2dff5d079b45d7c30539f3caf17a,pytest fixtures: test_encrypt_fingerprints_not_a_list_or_tuple
heartsucker,2018-03-24 16:12:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b65130e8486cab9390f60c0cdec7b89d86f493d1,b65130e8486cab9390f60c0cdec7b89d86f493d1,pytest fixtures: test_encrypt_binary_stream
heartsucker,2018-03-24 16:09:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/65287273049575dc46f8af0da7ed85edf91a13aa,65287273049575dc46f8af0da7ed85edf91a13aa,pytest fixtures: test_encrypt_without_output
heartsucker,2018-03-24 16:09:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b7c43c08439cb6edfcaef8685768ece120a66498,b7c43c08439cb6edfcaef8685768ece120a66498,added codename to test_source fixture
heartsucker,2018-03-24 16:00:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b93670d042c3aa587a4cb1a6cb94538df3593631,b93670d042c3aa587a4cb1a6cb94538df3593631,pytest fixtures: test_encrypt_failure
heartsucker,2018-03-24 15:59:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ccd30fe147f91b184e864de537fbc34195303b23,ccd30fe147f91b184e864de537fbc34195303b23,restrict permissions on test gpg home
heartsucker,2018-03-24 15:54:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/74fafd356ebc584b80af7c474bcb9f495564dc05,74fafd356ebc584b80af7c474bcb9f495564dc05,pytest fixtures: test_encrypt_success
heartsucker,2018-03-24 15:50:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eea8af00e4d9a240e72a08c5ee07680b439a3221,eea8af00e4d9a240e72a08c5ee07680b439a3221,pytest fixtures: test_clean
heartsucker,2018-03-24 15:46:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1ef72f7221d438e1280bfc4f4a74c7199645aeed,1ef72f7221d438e1280bfc4f4a74c7199645aeed,pytest fixtures: test_word_list_does_not_contain_empty_strings
heartsucker,2018-03-24 08:12:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/41c035e61420ae5e7c35c3b8562ad24711b848ac,41c035e61420ae5e7c35c3b8562ad24711b848ac,pytest fixtures: test_tmp_file_id_omits_invalid_chars
heartsucker,2018-03-24 08:10:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a2fe544f087c99e8c628026e27b6f7c3ddc38f56,a2fe544f087c99e8c628026e27b6f7c3ddc38f56,pytest fixtures: test_buffered_read
heartsucker,2018-03-24 08:25:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5d29cc41370f8ab6c0edf807cfc0ee5f92f46d93,5d29cc41370f8ab6c0edf807cfc0ee5f92f46d93,pytest fixtures: test_SecureTemporaryFile_is_a_STREAMLIKE_TYPE
heartsucker,2018-03-24 08:23:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a16e3934ca30fabc25e44cb725b0511e2a1005bb,a16e3934ca30fabc25e44cb725b0511e2a1005bb,pytest fixtures: test_file_is_removed_from_disk
heartsucker,2018-03-24 08:04:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ad0abff7c61e9cc88a327dce80a6cd97388a8a8,2ad0abff7c61e9cc88a327dce80a6cd97388a8a8,pytest fixtures: test_file_seems_encrypted
heartsucker,2018-03-24 07:59:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d1a57fc18f56dcb7d83f31d80e967e039cac6b41,d1a57fc18f56dcb7d83f31d80e967e039cac6b41,pytest fixtures: test_read_write_unicode
heartsucker,2018-03-24 07:58:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d468d9cd129fd46577833c00e0c9402eb5acd95e,d468d9cd129fd46577833c00e0c9402eb5acd95e,pytest fixtures: test_write_then_read_then_write
heartsucker,2018-03-24 07:56:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/770cfac959290c07de001ee9dcd020cd22b89380,770cfac959290c07de001ee9dcd020cd22b89380,pytest fixtures: test_write_then_read_twice
heartsucker,2018-03-24 07:54:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5eec96a4ffda9ff3b1e3713d022fe9cab9d1881,b5eec96a4ffda9ff3b1e3713d022fe9cab9d1881,pytest fixtures: test_write_twice_then_read_once
heartsucker,2018-03-24 07:52:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d93e41894353fa0622b4c9e180d173e9d86db8b0,d93e41894353fa0622b4c9e180d173e9d86db8b0,pytest fixtures: test_write_then_read_once
heartsucker,2018-03-24 07:49:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/77e517a16a586b844d5f5c8b153fb560d0b99155,77e517a16a586b844d5f5c8b153fb560d0b99155,pytest fixtures: test_read_before_writing
heartsucker,2018-03-23 07:39:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/876f94a1337a6c41304f4b158e1bc26b7a9a0512,876f94a1337a6c41304f4b158e1bc26b7a9a0512,pytest fixtures: test_html_fr_lang_correct
heartsucker,2018-03-23 07:36:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0a8b7d30263dfe4e50a8851a8031b43d677324dd,0a8b7d30263dfe4e50a8851a8031b43d677324dd,pytest fixutres: test_html_en_lang_correct
heartsucker,2018-03-23 07:33:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc38bb5960e4483340ed6c363d1fc29d246ed62a,cc38bb5960e4483340ed6c363d1fc29d246ed62a,pytest fixtures: test_locale_to_rfc_5646
heartsucker,2018-03-23 07:30:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ea8ca3c78ce7fd25dcaf7486bf1c63bdb0784b0d,ea8ca3c78ce7fd25dcaf7486bf1c63bdb0784b0d,pytest fixtures: test_verify_default_locale_en_us_if_not_defined_in_config
heartsucker,2018-03-23 07:29:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ecef2b7564cf2e14db55e708b835fcb71bc8839,0ecef2b7564cf2e14db55e708b835fcb71bc8839,pytest fixtures: test_i18n
heartsucker,2018-03-22 22:53:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6626f7a54d83a3f25bb8f1b2d66014ae0350044a,6626f7a54d83a3f25bb8f1b2d66014ae0350044a,move verify_i18n function
heartsucker,2018-03-22 22:43:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/92d2f855145589f5f1cd5f92de50dc3c28fa86df,92d2f855145589f5f1cd5f92de50dc3c28fa86df,pytest fixtures: test_get_supported_locales
heartsucker,2018-03-24 09:21:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a1d44a52972e86288af1d498f65944dc338fa7c,1a1d44a52972e86288af1d498f65944dc338fa7c,"Merge pull request #3064 from freedomofpress/dance_with_ioopen

Fixes #3063 uses io.open call everywhere"
conorsch,2018-03-23 23:30:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8336bc3d8aed1fb20c64735c207c0f4b24f60bce,8336bc3d8aed1fb20c64735c207c0f4b24f60bce,"Removes duplicate tor-apt repo from apt config

Achieves the removal by renaming the file inside the `securedrop-config`
package. We can trust dpkg to remove the file once the package has been
upgraded. The Ansible logic was already using the filepath now used also
by the `securedrop-config` package, so no Ansible changes are required."
kushaldas,2018-03-23 09:13:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9a246f729a3efd038281a3b7a6cbc4ea11778afd,9a246f729a3efd038281a3b7a6cbc4ea11778afd,"Adds with statements along with io.open calls

We now use io.open everywhere, with statement will help to close
the file handler properly."
kushaldas,2018-03-22 09:43:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/281e2d38f5bf40ab83433f186c923beb01f264ae,281e2d38f5bf40ab83433f186c923beb01f264ae," Fixes #3063 uses io.open call everywhere

 We are now using `io.open` call instead of `open` builtin.
 This will help us to move forward one step to the Python3 world.
 https://docs.python.org/3/howto/pyporting.html#update-your-code"
redshiftzero,2018-03-22 20:33:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8c4a0d9e1dee133692ac58d81c5b0c81a193be0e,8c4a0d9e1dee133692ac58d81c5b0c81a193be0e,"Merge pull request #3183 from freedomofpress/pytest-manage

Pytest fixtures for management commands"
heartsucker,2018-03-22 19:44:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9a0e8f6b75dc5b19b16ec436a4f12096cbe55144,9a0e8f6b75dc5b19b16ec436a4f12096cbe55144,remove classes
heartsucker,2018-03-22 15:41:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a32538e3eb80fa6056755f7b33643243201da3ce,a32538e3eb80fa6056755f7b33643243201da3ce,pytest fixtures: test_clean_tmp_removed
heartsucker,2018-03-22 15:38:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/43bf5477b55e7e532c4d8e1e2c0876e6c477b630,43bf5477b55e7e532c4d8e1e2c0876e6c477b630,pytest fixtures: test_clean_tmp_too_young
heartsucker,2018-03-22 15:36:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/371b9ea60f4dd5f3cb9a1af9fa50c464fb320d27,371b9ea60f4dd5f3cb9a1af9fa50c464fb320d27,pytest fixtures: test_clean_tmp_do_nothing
heartsucker,2018-03-22 15:32:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f7b7210134dce7ec4ec4504fabf1ef04ba29fc67,f7b7210134dce7ec4ec4504fabf1ef04ba29fc67,pytest fixtures: test_get_username
heartsucker,2018-03-22 15:30:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/297c2d5842eb8cbb45ef6cba6d7b4ddb3973cdf5,297c2d5842eb8cbb45ef6cba6d7b4ddb3973cdf5,pytest fixtures: test_reset
heartsucker,2018-03-22 15:24:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f05bad4fdb4f017c8753fbebe110e8d856047c30,f05bad4fdb4f017c8753fbebe110e8d856047c30,pytest fixtures: test_get_username_to_delete
heartsucker,2018-03-22 15:22:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e03564bf420fc2a7a1e707fc93faaeef34822484,e03564bf420fc2a7a1e707fc93faaeef34822484,pytest fixtures: test_delete_non_existent_user
heartsucker,2018-03-22 15:20:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c4c6e593524201a353da17b6d35ed0e449128689,c4c6e593524201a353da17b6d35ed0e449128689,pytest fixtures: test_delete_user
heartsucker,2018-03-22 15:17:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e1c1b33199af01832c5b49adfafb485208166cd9,e1c1b33199af01832c5b49adfafb485208166cd9,pytest fixtures: test_exception_handling_when_duplicate_username
heartsucker,2018-03-21 20:55:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a16f8f264e9891ca43b0431bcfed80eb4451fb3d,a16f8f264e9891ca43b0431bcfed80eb4451fb3d,pytest fixtures: test_handle_invalid_secret
heartsucker,2018-03-22 15:04:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e9cfe56a1c25d38c86fe16e6cf1b1896d2dc2cf4,e9cfe56a1c25d38c86fe16e6cf1b1896d2dc2cf4,add pytest-mock to test requirements
heartsucker,2018-03-21 18:43:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc7ce701979c801301531fa58d5a78c52caa8f73,cc7ce701979c801301531fa58d5a78c52caa8f73,pytest fixtures: test_get_yubikey_usage_no
heartsucker,2018-03-21 18:42:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/31a2c0048b7c39161065d59f7254515b9149f077,31a2c0048b7c39161065d59f7254515b9149f077,pytest fixtures: test_get_yubikey_usage_yes
heartsucker,2018-03-21 18:41:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d58470f63fad33173c53d47036d7c54b13781a64,d58470f63fad33173c53d47036d7c54b13781a64,pytest fixtures: test_get_username_fail
heartsucker,2018-03-21 18:32:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f69f03dee415a421408ba85d1f144097ca14f81,4f69f03dee415a421408ba85d1f144097ca14f81,pytest fixtures: test_get_username_success
emkll,2018-03-20 13:40:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/738d93f5eee4226c4710be14b59744f31cc63c62,738d93f5eee4226c4710be14b59744f31cc63c62,"Remove xenial kernel at install-time

Non-grsec, vanilla Xenial lts kernel was pulled in by trusty security in the initial update phase (at install-time only) was superceeding grsecurity 3.14.xx kernels on reboot. This will ensure the default trusty kernels are correctly removed at install time, and that the system does not boot with that kernel, through misconfiguration or user error. Install playbook now asserts that, at install time, all kernels installed on the system are grsecurity-hardenened."
redshiftzero,2018-03-21 20:57:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81e84897d57325f8ab1799e8fbbab56965b56b1b,81e84897d57325f8ab1799e8fbbab56965b56b1b,"Merge pull request #3179 from freedomofpress/pytest-fixtures

More journalist app pytest changes"
redshiftzero,2018-03-21 20:48:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e084142f46948c901b0ebacb5fb604b0c06b3281,e084142f46948c901b0ebacb5fb604b0c06b3281,"Merge pull request #3181 from freedomofpress/pytest-db

pytest for test_db.py"
heartsucker,2018-03-20 12:11:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8fbd21fc735b2255bfd264cccaf779c1d179f41e,8fbd21fc735b2255bfd264cccaf779c1d179f41e,pytest fixtures: test_admin_edits_user_password_too_long_warning
heartsucker,2018-03-20 11:53:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8de6820977a81425db4baa4766c64bf6f7c2992,a8de6820977a81425db4baa4766c64bf6f7c2992,pytest fixtures: test_min_password_length
heartsucker,2018-03-20 11:51:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0441cbbd51b5a1a5a9c25ab7cfd728070baacdc2,0441cbbd51b5a1a5a9c25ab7cfd728070baacdc2,pytest fixtures: test_max_password_length
heartsucker,2018-03-20 11:44:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa22a66a287ff75b89d8c4393f826e1d885fb899,fa22a66a287ff75b89d8c4393f826e1d885fb899,pytest fixtures: test_admin_add_user_when_username_already_taken
heartsucker,2018-03-20 11:40:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c656397e54d5bfcded380d19eb4a01bbb399fccd,c656397e54d5bfcded380d19eb4a01bbb399fccd,pytest fixtures: test_user_edits_password_error_reponse
heartsucker,2018-03-20 11:04:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b32f4c4d3ded6f5b933b804568ea959e8611c23d,b32f4c4d3ded6f5b933b804568ea959e8611c23d,pytest fixtures: test_user_edits_password_expires_session
heartsucker,2018-03-20 10:39:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f407b1568369bb3c84478c6311ffd5200b33e38,3f407b1568369bb3c84478c6311ffd5200b33e38,pytest fixtures: test_user_edits_password_success_response
heartsucker,2018-03-16 09:36:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f715ebbc76639ba3f6f2372015d4e4ed0468ceed,f715ebbc76639ba3f6f2372015d4e4ed0468ceed,pytest fixtures: test_admin_edits_user_password_error_response
heartsucker,2018-03-16 09:31:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4930a96560f28a23f0fa52e9679fe1f3d8b9e6ab,4930a96560f28a23f0fa52e9679fe1f3d8b9e6ab,pytest fixtures: test_admin_deletes_invalid_user_404
heartsucker,2018-03-16 09:25:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/440ffc58a766bac5db14662469804d693cbb743d,440ffc58a766bac5db14662469804d693cbb743d,pytest fixtures: test_admin_edits_user_password_success_response
heartsucker,2018-03-16 09:25:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/26e7f1d9ab2229544217a0064b3187ae51e65f3b,26e7f1d9ab2229544217a0064b3187ae51e65f3b,added ruby dump to gitignore
heartsucker,2018-03-15 21:21:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e1b62a12bb4caeea917e5255c51c0f5bc8304dc0,e1b62a12bb4caeea917e5255c51c0f5bc8304dc0,pytest fixtures: test_admin_cannot_delete_self
heartsucker,2018-03-21 18:19:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0f46c48e6ad62394a1a4a368df49d934586e73d1,0f46c48e6ad62394a1a4a368df49d934586e73d1,pytest fixtures: test_throttle_login
heartsucker,2018-03-21 18:14:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7af2d61569fc50eb490d7889cc06a2c1e8edc1ba,7af2d61569fc50eb490d7889cc06a2c1e8edc1ba,pytest fixtures: test_source_string_representation
heartsucker,2018-03-21 18:13:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/815ed5c90d22fd04e7ae2fdd84eb84546c4e96fd,815ed5c90d22fd04e7ae2fdd84eb84546c4e96fd,pytest fixtures: test_journalist_string_representation
heartsucker,2018-03-21 18:11:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20d38bbd4172a6f84dcf0f846825e886d3dc295c,20d38bbd4172a6f84dcf0f846825e886d3dc295c,pytest fixtures: test_reply_string_representation
heartsucker,2018-03-21 18:10:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c3b2bc6198bd5fa12920d6c76e0d37aecc499ee,0c3b2bc6198bd5fa12920d6c76e0d37aecc499ee,pytest fixtures: test_submission_string_representation
heartsucker,2018-03-21 19:42:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/efdea5f00ad215c8eeba0ad6673863e6502a7228,efdea5f00ad215c8eeba0ad6673863e6502a7228,added journalist/admin objects to fixture dict
heartsucker,2018-03-21 18:07:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bcfe3934917030ab37486a394ad3ecbdee497802,bcfe3934917030ab37486a394ad3ecbdee497802,pytest fixtures: test_get_one_or_else_no_result_found
heartsucker,2018-03-21 17:47:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c0eaf182f381505248b77c07041becb9d473dd6,6c0eaf182f381505248b77c07041becb9d473dd6,pytest fixtures: test_get_one_or_else_multiple_results
heartsucker,2018-03-21 17:34:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/809b111eabe8d91639617a2dd153f4d92a4ba862,809b111eabe8d91639617a2dd153f4d92a4ba862,pytest fixtures: test_get_one_or_else_returns_one
redshiftzero,2018-03-21 16:56:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0214619463e17067bb58b303abc722fd0642781,a0214619463e17067bb58b303abc722fd0642781,"Merge pull request #3178 from freedomofpress/wip-dachary-page-layout-config

tests: allow override of PAGE_LAYOUT_LOCALES"
redshiftzero,2018-03-21 16:27:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0734bf6b41c62408c8ceac93da4aff10876642d6,0734bf6b41c62408c8ceac93da4aff10876642d6,"Merge pull request #3119 from freedomofpress/fix-tails-patch-2

Docs: Fix patch for installer in Tails 3.5"
heartsucker,2018-03-15 21:05:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2afd8e5a012c2d35e14cc105c87f8ecda73d7f8c,2afd8e5a012c2d35e14cc105c87f8ecda73d7f8c,"added ""id"" to admin fixture dict"
heartsucker,2018-03-15 20:45:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7536dcffb7951d34943f856c95fc8fd2818b5d46,7536dcffb7951d34943f856c95fc8fd2818b5d46,pytest fixtures: test_admin_delete_user
redshiftzero,2018-03-20 01:19:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f51b64ac8a9d76e62cb68d29019fb1783ed55ab1,f51b64ac8a9d76e62cb68d29019fb1783ed55ab1,"Merge pull request #3175 from freedomofpress/no-login-throttle

include token reuse under login hardening flag"
heartsucker,2018-03-19 16:43:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/459e2a37485fd1ddeddd497f2c8f2b244194e342,459e2a37485fd1ddeddd497f2c8f2b244194e342,include token reuse under login hardening flag
redshiftzero,2018-03-15 22:07:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c4a5cabf1505c9570b4b896fbfb93de5e5cf0771,c4a5cabf1505c9570b4b896fbfb93de5e5cf0771,Docs: Update branch description since we're not following git-flow
redshiftzero,2018-03-15 21:20:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb6d46bb14373063aabc41dc65e4b063f06e353d,eb6d46bb14373063aabc41dc65e4b063f06e353d,"Merge pull request #3167 from freedomofpress/docs-wip-dachary-i18n-screenshots

docs: the screenshots must be updated after translations are merged"
redshiftzero,2018-03-15 20:47:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39ba48f1132df2484363459d33d52460440600fb,39ba48f1132df2484363459d33d52460440600fb,"Merge pull request #3168 from freedomofpress/docs-wip-dachary-fetch

docs: add missing fetch in upgrade instructions"
heartsucker,2018-03-15 17:35:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2e43c9cfe181e8c0d459a161586b30c3bfa8fce6,2e43c9cfe181e8c0d459a161586b30c3bfa8fce6,"Merge pull request #3164 from freedomofpress/wip-dachary-tor-instructions

source: various improvements to tor security instructions"
redshiftzero,2018-03-15 16:18:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e7c4426a932ff73d786faf902f0137a20f9ae2c,1e7c4426a932ff73d786faf902f0137a20f9ae2c,"Merge pull request #3165 from freedomofpress/wip-dachary-screenshots

docs: update-user-guides needs to force update sass to ensure the latest"
redshiftzero,2018-03-15 13:08:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/63ee39831c8b553cc02322cdf20b79eb2010da5f,63ee39831c8b553cc02322cdf20b79eb2010da5f,"Merge pull request #3161 from freedomofpress/wip-dachary-slider-turn-move

source: the security slider is moved, not turned"
heartsucker,2018-03-15 13:08:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/448723aef0c33b01fbca96b1a501d4344f6385c7,448723aef0c33b01fbca96b1a501d4344f6385c7,"Merge pull request #3147 from barun511/develop

Updates test_the_installation.rst [fixes #3011]"
redshiftzero,2018-03-15 13:02:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a5fd2e7bd7d56caf858739622caa08fb5848b75c,a5fd2e7bd7d56caf858739622caa08fb5848b75c,"Merge pull request #3163 from freedomofpress/docs-wip-dachary-i18n-missing-step

docs: add missing unlock step"
barun511,2018-02-21 05:54:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b0fc0d657c2666542ba010d6b11a1ce18284b3d3,b0fc0d657c2666542ba010d6b11a1ce18284b3d3,Fixes typo and style errors : issue #3011
redshiftzero,2018-03-15 00:18:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39d3dd08e356b869933ed07c7386777ad271f485,39d3dd08e356b869933ed07c7386777ad271f485,"Merge pull request #3152 from nvesely/patch-1

Use matching CircleCI build status badge"
redshiftzero,2018-03-14 23:54:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/53f1151aa15f2ae1d98cd209677adf5a6727aa3e,53f1151aa15f2ae1d98cd209677adf5a6727aa3e,Unit tests: Add test source fixture and use in journalist unit tests
redshiftzero,2018-03-14 23:45:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f8b1796e92a6d68b039523ab274a3f6986f5968c,f8b1796e92a6d68b039523ab274a3f6986f5968c,"Journalist unit tests: Remove unnecessary Pytest class

Removing this class because flat is better than nested.

Note that this commit ONLY removes the class (and the corresponding
self argument in each test). It makes no other changes. This is done
to make this large diff easier to review."
redshiftzero,2018-03-14 23:41:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fbd94fa411b7482e44ade78b8e9034f908dc59f8,fbd94fa411b7482e44ade78b8e9034f908dc59f8,Unit tests: Use test data fixtures in journalist unit tests
redshiftzero,2018-03-14 23:40:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4e27688e67aa7d386b9b08312af40e18867f3fe1,4e27688e67aa7d386b9b08312af40e18867f3fe1,"Unit tests: Add test fixtures for test journalist and test admin

This prevents code duplication in journalist unit tests"
redshiftzero,2018-03-15 00:03:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07a22bf6d301e75af8b37715ab2d84275903356b,07a22bf6d301e75af8b37715ab2d84275903356b,"Merge pull request #3140 from freedomofpress/journalist-pytest-fixtures

Journalist pytest fixtures"
redshiftzero,2018-03-14 21:52:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71e1cdc08cc07eef9cd5d153565c6f6eb0655ed6,71e1cdc08cc07eef9cd5d153565c6f6eb0655ed6,"Merge pull request #3153 from eloquence/docs-tails-hardware

docs: Provide specific Tails hardware recommendations"
redshiftzero,2018-03-14 19:03:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0599f757bc93a2d6b59a9215b86c726a69c0e92,f0599f757bc93a2d6b59a9215b86c726a69c0e92,"Merge pull request #3157 from freedomofpress/docs-fix-grub-default-path

Docs: Fix path to /etc/default/grub in 0.6 upgrade doc"
redshiftzero,2018-03-14 18:28:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38f836e5b9f90c7c22a575d2a52f12a34a7be03b,38f836e5b9f90c7c22a575d2a52f12a34a7be03b,Docs: Fix path to /etc/default/grub in 0.6 upgrade doc
redshiftzero,2018-03-14 18:25:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0230b11e895e9eafe4ca2ac2356692c1ce5b277f,0230b11e895e9eafe4ca2ac2356692c1ce5b277f,"Merge pull request #3156 from freedomofpress/docs-wip-dachary-upgrade

docs: no automatic upgrade path for tails 3.6"
redshiftzero,2018-03-14 18:20:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37b987289ae959cc45d9529bb50147f8a38a3713,37b987289ae959cc45d9529bb50147f8a38a3713,"Merge pull request #3154 from hariharanj4v4/fix-3151

Fix #3151, update docs uname -a to -r"
hariharanj4v4,2018-03-14 08:11:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21311dc91d6b00d48a6ff97ca0c1eda733975d1b,21311dc91d6b00d48a6ff97ca0c1eda733975d1b,"Fix #3151, update docs uname -a to -r"
eloquence,2018-03-14 01:02:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e8e3aa6df6b489268d87250dfc2a6da34d44614,6e8e3aa6df6b489268d87250dfc2a6da34d44614,"docs: Provide specific Tails hardware recommendations

Fixes #3130; additional recommendations/links welcome."
nvesely,2018-03-13 20:34:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/577cfa5d49f43bcf5fc91334456be1b804a08fcc,577cfa5d49f43bcf5fc91334456be1b804a08fcc,"Use matching CircleCI build status badge

- Adds a e s t h e t i c."
redshiftzero,2018-03-13 19:57:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2579058f70c821440d5f55a2ddd365470a5b93d8,2579058f70c821440d5f55a2ddd365470a5b93d8,"Merge pull request #3149 from eloquence/docs-05-to-06

Docs 05 to 06"
eloquence,2018-03-13 18:00:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/46a31a6d8ef26810b443dfd14674059c4b53fa26,46a31a6d8ef26810b443dfd14674059c4b53fa26,[docs] Add additional instructions for Tails update to 3.6
eloquence,2018-03-13 03:45:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5d7fcc9f5fedfc2b3783abc9898102bce280cfc5,5d7fcc9f5fedfc2b3783abc9898102bce280cfc5,"[docs] Add upgrade info for 0.5.x->0.6, including kernel troubleshooting

This includes detailed instructions for rolling back to a previous
kernel, with credit to @edenemmanuel for the initial work and
@emkll for testing and technical details."
redshiftzero,2018-03-13 00:12:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2a0748f8d47abb358694022834189951dfef34f9,2a0748f8d47abb358694022834189951dfef34f9,"Merge pull request #3141 from freedomofpress/wip-dachary-i18n

l10n: sync de_DE es_ES fr_FR nb_NO nl pt_BR zh_Hant tr it_IT ar translations"
redshiftzero,2018-03-12 23:02:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ba7cdeea67cf2f1da577826c8a73d65388762fa,4ba7cdeea67cf2f1da577826c8a73d65388762fa,"Merge pull request #3142 from freedomofpress/ensure-older-kernel-remains-installed

Preserves 3.14.79 kernel during upgrade"
conorsch,2018-03-12 22:00:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97674f3d31638beabf2df99499861939b89c1702,97674f3d31638beabf2df99499861939b89c1702,"Preserves 3.14.79 kernel during upgrade

Our use of cron-apt includes autoclean and autoremove flags. Unless we
declare an explicit dependency on the 3.14.79 kernel image package, it
may be cleaned up. That's ultimately desirable, but would prevent orgs
that have trouble with the new kernel from falling back to a known-good
kernel. Let's preserve the old image as a fallback for now.

In subsequent releases, we can omit the dependency on 3.x, and simply
require a single kernel version, as we've done in the past. For now 0.6,
let's provide rollback capability, since we cannot test on all hardware."
redshiftzero,2018-03-12 19:30:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/36c05152f881d4b572fe336dd7dac6fb25222912,36c05152f881d4b572fe336dd7dac6fb25222912,"Merge pull request #3123 from freedomofpress/docs-dev-types

 Fixes #3122 adds Python type hints documentation"
redshiftzero,2018-03-12 18:38:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2dd570b9920544a3d4d0219f2f51b97688a9c0bc,2dd570b9920544a3d4d0219f2f51b97688a9c0bc,"Merge pull request #3131 from freedomofpress/wip-dachary-i18n-error-user-exists

journalist: factorize existing user error message"
redshiftzero,2018-03-12 18:32:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ff122bf482b6643bd84e5bf41f3476c5e22be90,0ff122bf482b6643bd84e5bf41f3476c5e22be90,"Merge pull request #3125 from freedomofpress/wip-dachary-i18n-error-hotp-length

journalist: better error message with the HOTP secret length is not 40"
heartsucker,2018-03-11 14:57:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de851f3541ba7b8280228dcbd0367746a1696393,de851f3541ba7b8280228dcbd0367746a1696393,pytest fixtures: test_admin_index
heartsucker,2018-03-11 14:53:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7abda2736fbe9d8f614fb122e52f98cb11c28312,7abda2736fbe9d8f614fb122e52f98cb11c28312,pytest fixtures: test_user_logout_redirects_to_index
heartsucker,2018-03-11 14:51:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/16480b25bfad3e97b099b4b36e6d30326a597a31,16480b25bfad3e97b099b4b36e6d30326a597a31,pytest fixtures: test_admin_logout_redirects_to_index
heartsucker,2018-03-11 14:42:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bfabb8ee19aa581d16e633a9214b6dfe36c2861c,bfabb8ee19aa581d16e633a9214b6dfe36c2861c,factored out expected strings to prevent regressions
heartsucker,2018-03-11 14:38:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/33ce43efe3f106f90d498e1edeada59dbe898e12,33ce43efe3f106f90d498e1edeada59dbe898e12,pytest fixtures: test_user_lacks_link_to_admin_index_page_in_index_page
heartsucker,2018-03-11 14:31:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf9d1f4a7601b60f2c589e56c0b4ec821294aa2e,bf9d1f4a7601b60f2c589e56c0b4ec821294aa2e,pytest fixtures: test_admin_has_link_to_admin_index_page_in_index_page
heartsucker,2018-03-11 14:19:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/43c8e7800f5b14d845536e685aae4ab45f24e7e5,43c8e7800f5b14d845536e685aae4ab45f24e7e5,pytest fixtures: test_user_has_link_to_edit_account_page_in_index_page
heartsucker,2018-03-11 14:15:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/641282702dbe49a7bd9c4de029e52ed32ae869ba,641282702dbe49a7bd9c4de029e52ed32ae869ba,pytest fixtures: test_admin_has_link_to_edit_account_page_in_index_page
heartsucker,2018-03-11 14:02:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b9ea5f8a591e998fe2675408c39602f20f7c8c4,7b9ea5f8a591e998fe2675408c39602f20f7c8c4,pytest fixtures: test_user_login_redirects_to_index
heartsucker,2018-03-11 13:46:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a81399991247c423d486fe01ffa1acf3739ef1e,1a81399991247c423d486fe01ffa1acf3739ef1e,pytest fixtures: test_admin_login_redirects_to_index
heartsucker,2018-03-11 13:43:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27cce687e7d5017f0f7be19f28ad7d6a8d85cb5d,27cce687e7d5017f0f7be19f28ad7d6a8d85cb5d,pytest fixtures: test_login_valid_credentials
heartsucker,2018-03-10 19:33:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dc6a551215fa343775d6cc85142391bee2f25a91,dc6a551215fa343775d6cc85142391bee2f25a91,pytest fixtures: test_validate_redirect
heartsucker,2018-03-10 19:30:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca4f2e95cb8327126d3a4151f187f2bfe4017a56,ca4f2e95cb8327126d3a4151f187f2bfe4017a56,pytest fixtures: test_login_invalid_credentials
heartsucker,2018-03-10 19:26:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e57d56f0b83fd76946fc7ed53a04ee22257ef68,1e57d56f0b83fd76946fc7ed53a04ee22257ef68,pytest fixtures: test_login_throttle
heartsucker,2018-03-10 19:14:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5490bed3b30a3d278c06aa39443a3493bc6b7fd1,5490bed3b30a3d278c06aa39443a3493bc6b7fd1,pytest fixtures: test_unauthorized_access_redirects_to_login
heartsucker,2018-03-10 19:10:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/57e5dbb891fd33008d5b57da2e1b2716ef33d772,57e5dbb891fd33008d5b57da2e1b2716ef33d772,pytest fixtures: test_nonempty_replies_are_accepted
heartsucker,2018-03-10 19:08:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/633016cd1302cdd4630ada243da2385f7070141c,633016cd1302cdd4630ada243da2385f7070141c,pytest fixtures: test_empty_replies_are_rejected
heartsucker,2018-03-10 17:06:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/84654d0dee3ae4d084e5b70305acf8ea8ae9a292,84654d0dee3ae4d084e5b70305acf8ea8ae9a292,pytest fixtures: test_reply_error_flashed_message
heartsucker,2018-03-10 14:42:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c853c7811f041b5f92ccc4f08b69a2ec83210c89,c853c7811f041b5f92ccc4f08b69a2ec83210c89,pytest fixtures: test_reply_error_logging
heartsucker,2018-03-10 10:43:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a836e471b746ff6473824998140f118fffc9a2b6,a836e471b746ff6473824998140f118fffc9a2b6,pytest fixtures: test_make_password
heartsucker,2018-02-16 09:58:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/580226cdc614f2e9b4e25b8caa9c04a673a48104,580226cdc614f2e9b4e25b8caa9c04a673a48104,setup pytest fixtures for journalist app
redshiftzero,2018-03-12 12:01:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fdfcb504f7e8e8216f9678345ca3a8dc519b6fc9,fdfcb504f7e8e8216f9678345ca3a8dc519b6fc9,"Merge pull request #3121 from SaptakS/feature/language-menu/globe-icon

Add globe icon in the locale dropdown for better understanding"
kushaldas,2018-03-08 14:13:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a73e0bd99a16745e377a428c9e84931a39498fac,a73e0bd99a16745e377a428c9e84931a39498fac,Fixes #3122 adds Python type hints documentation
redshiftzero,2018-03-11 16:01:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30cb74851c4da334876e536c15664a125f48b750,30cb74851c4da334876e536c15664a125f48b750,"Merge pull request #3138 from freedomofpress/docs-wip-dachary-i18n-whiteboard

i18n: document the release cycle"
redshiftzero,2018-03-10 23:37:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3c625bd2b18af37d5ec6f015705724ce8da66976,3c625bd2b18af37d5ec6f015705724ce8da66976,"Merge pull request #3137 from pwnchief/0.6-rc4

[docs] Clarify intructions for app code update on staging."
heartsucker,2018-02-18 17:05:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0b25f1291b4e33b3a22ede06d5d8d91c30c8945b,0b25f1291b4e33b3a22ede06d5d8d91c30c8945b,drop class from test cases
heartsucker,2018-02-18 17:03:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/372c565cd13a3c3e316eff7527d4fa2a6cdd9a93,372c565cd13a3c3e316eff7527d4fa2a6cdd9a93,pytest fixtures: test_csrf_error_page
heartsucker,2018-02-18 16:55:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9906680b7acda446adad2dbdfff4a40ce63d5f23,9906680b7acda446adad2dbdfff4a40ce63d5f23,pytest fixtures: test_source_session_expiration
heartsucker,2018-02-18 16:38:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f7ea33208cdf0f2c7575d76b67d4869ebd159a20,f7ea33208cdf0f2c7575d76b67d4869ebd159a20,pytest fixtures: test_login_with_invalid_codename
heartsucker,2018-02-18 16:36:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ef9cc000db1ea31075ff0ef60aa48dc9d8a1a60,2ef9cc000db1ea31075ff0ef60aa48dc9d8a1a60,pytest fixtures: test_source_is_deleted_while_logged_in
heartsucker,2018-02-18 16:26:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/36c7fe7a010db23ce259a1731cd60f35bfb32e44,36c7fe7a010db23ce259a1731cd60f35bfb32e44,pytest fixtures: test_failed_normalize_timestamps_logs_warning
heartsucker,2018-02-18 10:37:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba0dc762453e8b04938cf436f824420c8677944f,ba0dc762453e8b04938cf436f824420c8677944f,pytest fixtures: test_login_with_overly_long_codename
heartsucker,2018-02-18 10:33:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5995b06fa5ffbec1f20a5cdea58eb81e38ade2cc,5995b06fa5ffbec1f20a5cdea58eb81e38ade2cc,pytest fixtures: test_metadata_route
heartsucker,2018-02-18 10:30:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e059a2281b9f44fdb32db1f714c8d68c0bbace96,e059a2281b9f44fdb32db1f714c8d68c0bbace96,pytest fixtures: test_why_journalist_key
heartsucker,2018-02-18 10:29:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/91a2655f18448ec5d8ad1957b1bbc263cc04f6b4,91a2655f18448ec5d8ad1957b1bbc263cc04f6b4,pytest fixtures: test_why_use_tor_browser
heartsucker,2018-02-18 10:26:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ad0c9084f0f42fa5ba78d829a00ec777709933be,ad0c9084f0f42fa5ba78d829a00ec777709933be,pytest fixtures: test_tor2web_warning
heartsucker,2018-02-18 10:24:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04347293396ac09a7ac82a31068117e3ca639bc1,04347293396ac09a7ac82a31068117e3ca639bc1,pytest fixtures: test_tor2web_warning_headers
heartsucker,2018-02-18 10:21:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/41bdd2621b7b828ae6fcd5d2721bcd3c83639815,41bdd2621b7b828ae6fcd5d2721bcd3c83639815,pytest fixtures: test_submit_sanitizes_filename
heartsucker,2018-02-18 10:18:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/229fd4599e6969379c969474409071c3294ec1b4,229fd4599e6969379c969474409071c3294ec1b4,pytest fixtures: test_delete_all_replies_already_deleted
heartsucker,2018-02-18 10:12:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac98d0e1a0280485fd1cc52fb33a39e1f8c431bd,ac98d0e1a0280485fd1cc52fb33a39e1f8c431bd,pytest fixtures: test_delete_all_successfully_deletes_replies
heartsucker,2018-02-18 10:00:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/31aaddcdbf69081564f42abe4aa6120b5a59ee93,31aaddcdbf69081564f42abe4aa6120b5a59ee93,pytest fixtures: test_submit_message_with_enough_entropy
heartsucker,2018-02-18 09:53:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b706ef3c14c5b2afd9e6b71f38f968ac1780d55,7b706ef3c14c5b2afd9e6b71f38f968ac1780d55,pytest fixtures: test_submit_message_with_low_entropy
heartsucker,2018-02-18 09:47:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b0842d0dd5349d6aefb04857d341311a11a2497,8b0842d0dd5349d6aefb04857d341311a11a2497,pytest fixtures: test_submit_both
heartsucker,2018-02-18 09:46:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4868adb8f921b4d68d698002e108b7383d242de,d4868adb8f921b4d68d698002e108b7383d242de,pytest fixtures: test_submit_file
heartsucker,2018-02-18 09:41:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5eb88d931e3051619ec56059aae7dfa2002e6cd4,5eb88d931e3051619ec56059aae7dfa2002e6cd4,pytest fixtures: test_submit_big_message
heartsucker,2018-02-18 09:38:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f7b4c2d808cee6e3296e1dfb60fa8453952313f,6f7b4c2d808cee6e3296e1dfb60fa8453952313f,pytest fixtures: test_submit_empty_message
heartsucker,2018-02-18 09:35:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/241928957b71cba945a21dac0a61f65700a57804,241928957b71cba945a21dac0a61f65700a57804,pytest fixtures: test_submit_message
heartsucker,2018-02-18 09:32:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/74b53d108a49c318e1ab9458b024e3859a51c6f7,74b53d108a49c318e1ab9458b024e3859a51c6f7,pytest fixtures: test_initial_submission_notification
heartsucker,2018-02-18 09:27:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d31b563c99b2177ae492d166f411ea52955f8b50,d31b563c99b2177ae492d166f411ea52955f8b50,pytest fixtures: test_login_with_whitespace
heartsucker,2018-02-18 09:20:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/82bec20940cc5961404dd91bbd3dc192a9903005,82bec20940cc5961404dd91bbd3dc192a9903005,pytest fixtures: test_user_must_log_in_for_protected_views
heartsucker,2018-02-18 09:17:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eee0a8c71929ce0287d6a48d7ccf0d2f9ec7b49c,eee0a8c71929ce0287d6a48d7ccf0d2f9ec7b49c,pytest fixtures: test_login_and_logout
heartsucker,2018-02-16 15:19:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dcf693634107181ccc4e621b526f7b6847a6edbb,dcf693634107181ccc4e621b526f7b6847a6edbb,pytest fixtures: test_lookup
heartsucker,2018-02-16 15:14:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a220d635a3b54aaf0ae3e69d7fa342d5acfec74d,a220d635a3b54aaf0ae3e69d7fa342d5acfec74d,pytest fixtures: test_create_duplicate_codename
heartsucker,2018-02-16 15:07:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/63cdd25e96f5cf374d859813eb52c34f8156b15d,63cdd25e96f5cf374d859813eb52c34f8156b15d,pytest fixtures: test_generate_too_long_codename
heartsucker,2018-02-16 15:00:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/24b7db09717e78b6bdc573606d6cee7899059da0,24b7db09717e78b6bdc573606d6cee7899059da0,pytest fixtures: test_create_new_source
heartsucker,2018-02-16 14:47:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed3bae20c6192e41f0801c568b34e3ca0e90f01d,ed3bae20c6192e41f0801c568b34e3ca0e90f01d,pytest fixtures: test_generate_already_logged_in
heartsucker,2018-02-16 14:36:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7eb9c9e1286fba6b308f3f44c5a5f0c9561cd404,7eb9c9e1286fba6b308f3f44c5a5f0c9561cd404,pytest fixtures: test_generate
heartsucker,2018-02-16 14:33:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/527665f0c4cf237d0860346d470cda7ddf1a38e4,527665f0c4cf237d0860346d470cda7ddf1a38e4,pytest fixtures: test_all_words_in_wordlist_validate
heartsucker,2018-02-16 10:04:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b1314c53efe8ef555f4bee30c9d3ae7ed1b4424,7b1314c53efe8ef555f4bee30c9d3ae7ed1b4424,pytest fixtures: test_index
heartsucker,2018-02-16 09:59:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f5f6be3eeba43bb1809d3b528cf4b90a4f92b19d,f5f6be3eeba43bb1809d3b528cf4b90a4f92b19d,pytest fixtures: test_page_not_found
heartsucker,2018-02-16 09:58:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/806bf049d3bd3b015938241cef564db500c7170c,806bf049d3bd3b015938241cef564db500c7170c,setup pytest fixtures for source app
pwnchief,2018-03-10 05:44:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc205ae7fa2eb2bf7baf2ce4aa2548ca57746bb6,bc205ae7fa2eb2bf7baf2ce4aa2548ca57746bb6,[docs] Clarify instructions for app code update on staging.
SaptakS,2018-03-09 10:25:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37da339862e08c9ee834cb187cbba3d6c2ec5fb5,37da339862e08c9ee834cb187cbba3d6c2ec5fb5,"Add images for font awesome globe icon

Add both svg and png images for the globe icon to support safest
security settings in tor browser in the source and journalist
interface"
redshiftzero,2018-03-08 23:29:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/094f4faba2acaa3fcaff5f7a641ec455a9123a25,094f4faba2acaa3fcaff5f7a641ec455a9123a25,"Merge pull request #3111 from freedomofpress/admin-verbosity

In securedrop-admin setup -v: -v, setup can be passed in any order"
redshiftzero,2018-03-08 22:56:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0073dd32462d1bdb704e65b2b1378ab650fda9da,0073dd32462d1bdb704e65b2b1378ab650fda9da,"Merge pull request #3127 from freedomofpress/fix-2fa-hotp

Handle TypeErrors on /account/reset-2fa-hotp, add regression tests"
redshiftzero,2018-03-08 21:18:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d2aa4c7dda7aee9f1f1876d50d2427b3a9220178,d2aa4c7dda7aee9f1f1876d50d2427b3a9220178,Share HOTP reset validation logic between admin and non-admin accounts
redshiftzero,2018-03-08 20:41:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1397f13aa600a59d9a39eddfd33ce11cabb39fe1,1397f13aa600a59d9a39eddfd33ce11cabb39fe1,"Regression tests for defect #3124 (user HOTP reset TypeError)

Due to the lack of validation on this account 2FA reset, there
are several TypeErrors possible, so tests are added (modified
from the admin tests) to guard against future regressions here."
SaptakS,2018-03-08 08:11:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4d23eec05d3a95bc675747fe2b57a10a174ecba5,4d23eec05d3a95bc675747fe2b57a10a174ecba5,"i18n: Add globe icon in the locale dropdown for better understanding

As pointed out in https://forum.securedrop.club/t/language-menu-is-confusing-when-the-user-does-not-read-the-current-language/407
language menu is confusing when the user does not read the current language. Adding
a globe icon helps understand that the dropdown is about locales."
redshiftzero,2018-03-07 23:42:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd57c31fe047f90bf4d3cf3869c90e2c565f69f5,cd57c31fe047f90bf4d3cf3869c90e2c565f69f5,"Merge pull request #3117 from freedomofpress/docs-updates-admin

Update Admin Guide to explain how to update SecureDrop workstations"
redshiftzero,2018-03-06 23:33:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/53c129b5acb62e121f7c8887ab2db2c3a47c1c46,53c129b5acb62e121f7c8887ab2db2c3a47c1c46,Docs: Update Admin Guide on updating SecureDrop workstations
redshiftzero,2018-03-07 20:53:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec5a48aac42450d42036def52ce47e8a512bf9a8,ec5a48aac42450d42036def52ce47e8a512bf9a8,Docs: Fix patch for installer in Tails 3.5
redshiftzero,2018-03-07 17:42:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b0d2fbd895e9d145691ecae5156c3b38aae79a6d,b0d2fbd895e9d145691ecae5156c3b38aae79a6d,"Merge pull request #3116 from freedomofpress/update-digicert-validation

Update Apparmor profile, Apache config for proving .onion ownership"
redshiftzero,2018-03-03 02:31:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c2fa8842d5c031118e8a3720c5696c56a3e8288f,c2fa8842d5c031118e8a3720c5696c56a3e8288f,"Update directions, AppArmor, Apache config for HTTPS cert

Digicert modified the location of the file for validating
.onion ownership from an html file in .well-known to an
arbitrary .txt file in .well-known/pki-validation"
redshiftzero,2018-03-06 02:49:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8aa40ff81cf6ed0f4b5fc0ccaeb98f2b2eaf5f4,a8aa40ff81cf6ed0f4b5fc0ccaeb98f2b2eaf5f4,Update PR template for securedrop-admin development
redshiftzero,2018-03-06 18:27:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/590398dade576bfc9356a678bab9c8917b5fb79f,590398dade576bfc9356a678bab9c8917b5fb79f,"Merge pull request #3106 from freedomofpress/docs-tails-virt

Docs: Update path to Tails Installer in Admin Workstation VM guide"
redshiftzero,2018-03-06 02:41:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ac975fdb6c7fb1f5af89c48fdfa912ab9cf29dc,6ac975fdb6c7fb1f5af89c48fdfa912ab9cf29dc,"Admin: Fix duplicate strings for update, check_for_updates"
redshiftzero,2018-03-06 02:30:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a347edf05edd4872febf873068a4bca0983bbcff,a347edf05edd4872febf873068a4bca0983bbcff,"In securedrop-admin setup -v: -v, setup can be passed in any order"
redshiftzero,2018-03-05 23:34:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d296b348296e286045b5cb97a4c20eb5c186a17c,d296b348296e286045b5cb97a4c20eb5c186a17c,Docs: Update path to Tails Installer in Admin Workstation VM guide
redshiftzero,2018-03-05 22:07:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/144f1028e1832fe892de5a20d90ea1d9cc9efecf,144f1028e1832fe892de5a20d90ea1d9cc9efecf,"Merge pull request #3104 from ageis/update-tails-virt-patch

Bugfix: Update installer.patch against latest tails-installer 5.0.4"
redshiftzero,2018-03-05 19:16:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b520b003953548555bfbf445f155795c91f1e31,3b520b003953548555bfbf445f155795c91f1e31,"Merge pull request #3073 from usmanmuhd98/develop

Making a PR to SecureDrop #2531"
ageis,2018-03-05 13:03:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/efe9faee95a32cf30e11229bb0153d4b3667fc48,efe9faee95a32cf30e11229bb0153d4b3667fc48,"Update installer.patch against latest tails-installer 5.0.4

tails-installer is a Python application, currently at version 5.0.4+dfsg.
That version was tagged on January 22nd and uploaded to repositories
(Debian on Feb 3rd and Launchpad PPA on Feb 4th), causing the included
patch in our docs to fail because some lines in gui.py and creator.py
had changed.

This updates the patch in the ""virtualizing Tails"" documentation. Fixes #3105."
usmanmuhd,2018-02-27 14:39:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85eb80c9f2cedbb1002ad10d649d3e2d08872f18,85eb80c9f2cedbb1002ad10d649d3e2d08872f18,"Added ""Making PR to SecureDrop"" in Development Documentation."
redshiftzero,2018-03-03 03:05:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/342182e709d99d8b555f47968c24504457d1d4dc,342182e709d99d8b555f47968c24504457d1d4dc,"Docs: Update Admin guide to remove --force option

The new sdconfig handles the editing of config variables in an
improved way that doesn't require the admin to retype."
redshiftzero,2018-03-02 00:25:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8517a734f99046946ba944cf389915681476871b,8517a734f99046946ba944cf389915681476871b,"Merge pull request #3087 from freedomofpress/wip-dachary-i18n-tool

i18n: improve tooling"
redshiftzero,2018-03-01 22:25:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f3c34e629e962f65392081e33b76d5e02e9cf536,f3c34e629e962f65392081e33b76d5e02e9cf536,"Merge pull request #3093 from freedomofpress/docs-wip-dachary-docker-dev-shell-helpers

docs: explain how to import and use bin/dev-shell helpers"
redshiftzero,2018-03-01 20:58:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37983efe5eca1a089486058a56f2eea4b0b8b0e0,37983efe5eca1a089486058a56f2eea4b0b8b0e0,"Merge pull request #3091 from freedomofpress/3090-fix

Monitor only hostname in /var/lib/tor/services"
emkll,2018-03-01 19:46:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6b9dee5978663ae04c3eef469b57345b6deb16f2,6b9dee5978663ae04c3eef469b57345b6deb16f2,"Monitor only hostname in /var/lib/tor/services

PR #2963 introduced monitoring of /var/lib/tor folder, however these folders contain private key material. It would be more prudent (and at no cost integrity monitoring capabilities) to exclusively monitor the hostname.
Fixes #3090"
redshiftzero,2018-03-01 18:43:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/28ba400a345eb41277314f03301a2d777274886d,28ba400a345eb41277314f03301a2d777274886d,"Merge pull request #3083 from freedomofpress/wip-dachary-03-01-0.6.0

merge back 0.6 into develop 2018-03-01"
Anonymous26,2018-02-11 13:35:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4348e23c8d181fd0e725f0ff0f7473b9aab283c7,4348e23c8d181fd0e725f0ff0f7473b9aab283c7,instruction to change tor browser security slider updated
redshiftzero,2018-03-01 00:18:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09f7edd33a65883e83b8286c014428b99421681b,09f7edd33a65883e83b8286c014428b99421681b,"Remove outdated references to Travis CI in Ansible, testinfra code"
redshiftzero,2018-02-28 23:19:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/222bac9f08c62e4feab257f45bb47079edc9257d,222bac9f08c62e4feab257f45bb47079edc9257d,"Docs: Update dev data description, add QR code png"
redshiftzero,2018-02-28 23:18:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e31e20a5aa38c2c049486d7501972d761a2aef72,e31e20a5aa38c2c049486d7501972d761a2aef72,"Docker dev env: Add test sources, submissions, non-admin account"
redshiftzero,2018-03-01 00:12:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7db86f7b1ad8e55a21d0683d76c6fe8ba60606cb,7db86f7b1ad8e55a21d0683d76c6fe8ba60606cb,"Remove no longer necessary setup.cfg

This was added for pytest in #890, but as correctly pointed out in
issue #1697, this is no longer necessary, as pytest config is
stored in securedrop/tests/pytest.ini."
redshiftzero,2018-02-28 17:56:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/650ab5b57633e43449be8a6e580b6379293e627b,650ab5b57633e43449be8a6e580b6379293e627b,"Merge pull request #3050 from SaptakS/migrate/font-awesome-v5

Migrate to font-awesome v5"
redshiftzero,2018-02-28 17:19:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/104a85934597a486817116bcc6f5d6cdd03286df,104a85934597a486817116bcc6f5d6cdd03286df,"Merge pull request #3078 from freedomofpress/wip-dachary-polite

journalist: kindly ask to check the mail"
redshiftzero,2018-02-28 17:11:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/658088bb1a3247f971be047da58db9ff5ee134a0,658088bb1a3247f971be047da58db9ff5ee134a0,SecureDrop 0.6~rc2
redshiftzero,2018-02-28 17:05:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e29bdd74d7f52392fdf2c06c0f2c961c82e6ef73,e29bdd74d7f52392fdf2c06c0f2c961c82e6ef73,"Merge pull request #3077 from freedomofpress/bump-grsec-metapackage-to-4.4-kernels

Bumps securedrop-grsec metapackage to 4.4.115"
conorsch,2018-02-28 01:37:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab2a05e0e3f31d90131e4010b8ad564a5f13afb4,ab2a05e0e3f31d90131e4010b8ad564a5f13afb4,"Updates config tests for new kernel image version

Simple version bump. This *should* be the only string that need change
in the config tests for a new kernel, but CI shall light the way if not.
Perhaps we should be explicitly checking for the version of the
`securedrop-grsec` metapackage in the config tests. Really what we care
about is the version of the running kernel, so sticking with that for
now."
conorsch,2018-02-28 01:35:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb88a67b1903bd9c7694549e1dda5ab8e083a336,eb88a67b1903bd9c7694549e1dda5ab8e083a336,"Updates docs for new kernel image version

Helpfully pointed out by @redshiftzero during review. Updated the
version string, preserving a bit of wildcarding for future
compatibility. Removed the headers reference because we won't be hosting
the headers packages: the SecureDrop config has never used the headers
package before, and we have no plans to add system configs that require
it."
conorsch,2018-02-28 01:15:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a9c9643b7138b91708c51eea209718ae496be897,a9c9643b7138b91708c51eea209718ae496be897,"Bumps securedrop-grsec metapackage to 4.4.115

We plan to release new kernel images as part of the SecureDrop 0.6
release. Right now, the new 4.4.115 kernel image package is only hosted
on apt-test, and that's where the metapackage (hereby updated) will land
for pre-release QA, as well."
redshiftzero,2018-02-28 01:32:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a4af2ef04a096ef5b337e267cab621e802ecb39,7a4af2ef04a096ef5b337e267cab621e802ecb39,"Merge pull request #3033 from freedomofpress/more-typing

Fixes #3031 type annotation for application config"
redshiftzero,2018-02-28 00:14:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/898690eda61c09f2980a0ceb669d2709cb1f3714,898690eda61c09f2980a0ceb669d2709cb1f3714,SecureDrop 0.6~rc1
redshiftzero,2018-02-27 22:37:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b7aaafbb70d659f5bc0dc8401a73d4a27cb9d495,b7aaafbb70d659f5bc0dc8401a73d4a27cb9d495,"Merge pull request #3026 from freedomofpress/securedrop-admin-updates

Add securedrop-admin update and securedrop-admin check_for_updates"
redshiftzero,2018-02-27 21:42:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a5b900d56c63552e5798881f44c038734883753,4a5b900d56c63552e5798881f44c038734883753,"Merge pull request #3055 from freedomofpress/bandit_static_analysis

WIP - Bandit static analysis"
redshiftzero,2018-02-27 21:29:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9cda85f2ff54d8dc94f1ad2f09c0214a6bec206b,9cda85f2ff54d8dc94f1ad2f09c0214a6bec206b,"Merge pull request #3066 from freedomofpress/wip-dachary-verbose-docker

docker: move the docker image capture logic in ticker"
emkll,2018-02-16 21:25:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4cebd9a3c48173909660c466131bd1e1775103fc,4cebd9a3c48173909660c466131bd1e1775103fc,"Bandit scan accross the entire repo and fixed findings

Add further exclusions for test related folders

Issue: [B104:hardcoded_bind_all_interfaces] Possible binding to all interfaces.
Location: securedrop/journalist.py:12
Location: securedrop/source.py:12
Fix: Bind to 127.0.0.1

Issue: [B108:hardcoded_tmp_directory] Probable insecure usage of temp file/directory.
Location: securedrop/request_that_secures_file_uploads.py:27
Location: securedrop/store.py:122
Fix: Marked # nosec as file is encrypted as it is copied to tmp and filename is sanitized.

Issue: [B602:subprocess_popen_with_shell_equals_true] subprocess call with shell=True identified, security issue.
Severity: High   Confidence: High
Location: securedrop/manage.py:316
Location: securedrop/manage.py:363
Fix:  Added # nosec annotation as subprocess call refactor was non-trivial, is not exposed to users (only used by maintainers) and other functions in this file should be refactored (e.g. `sh()`)

Issue: [B602:subprocess_popen_with_shell_equals_true] subprocess call with shell=True identified, security issue.
Location: ./admin/securedrop_admin/__init__.py:88
Fix: removed shell=True"
emkll,2018-01-02 20:33:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3c5dfb119f85cb452375e43bd5a4af0640d5ebc2,3c5dfb119f85cb452375e43bd5a4af0640d5ebc2,"Add bandit static code analysis tool

Add bandit static analysis tool in CI to detect potential security issues in application code.
Using the `-ll` argument, Bandit will currently alert on medium and high severity vulnerabilities accross the codebase.
This initial commit will exclude securedrop/tests and local management (securedrop-admin) utilities.
More information is available here: https://github.com/openstack/bandit"
redshiftzero,2018-02-27 17:21:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f57a60fc23ad8570026440073f409580c885a382,f57a60fc23ad8570026440073f409580c885a382,"Merge pull request #3068 from freedomofpress/wip-dachary-3060-admin-verbose

admin: do not ignore setup arguments"
redshiftzero,2018-02-27 04:31:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8e8a166db58f27d7aee6d662879d9da60567b9a,a8e8a166db58f27d7aee6d662879d9da60567b9a,"securedrop-admin unit tests: Base cases for update function

Base cases:
 - Exit if update is not needed
 - Signature verification succeeds
 - Signature verification fails"
redshiftzero,2018-02-27 04:12:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a51e2f137734220b73aa8dc442f39a0e473c4a2c,a51e2f137734220b73aa8dc442f39a0e473c4a2c,"securedrop-admin unit tests: Base cases for check_for_updates

Base cases:
 - Update needed
 - Update not needed
 - Latest tag is rc"
redshiftzero,2018-02-15 19:23:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/953b9e0c185a135490437717ef5b7179df62ba5a,953b9e0c185a135490437717ef5b7179df62ba5a,"Add securedrop-admin update and securedrop-admin check_for_updates

These two commands are separate, such that check_for_updates can
in the future run in the background (i.e. on boot) and alert the
user of updates to be applied. Then the user, when at a timely
moment, can apply the updates as needed using securedrop-admin
update."
redshiftzero,2018-02-26 23:12:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d49e865114a96a01256b16075d669af8f50a4914,d49e865114a96a01256b16075d669af8f50a4914,"Merge pull request #3065 from freedomofpress/wip-dachary-wheelhouse-fail

build: pip wheel must fail when it does not build a python module"
msheiny,2018-02-26 21:14:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85c484d26fc74fd8185ae463d367bc2c5a48572c,85c484d26fc74fd8185ae463d367bc2c5a48572c,Forgot to include dockerfile argument for `NAME`
msheiny,2018-02-26 21:08:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/183451d49966b92c5de680db5732c386387e2632,183451d49966b92c5de680db5732c386387e2632,"Build rudimentary docker tag, instead of force

Ansible has some shoddy detection logic for determining when to rebuild
an image or layers. I've seen issues in the past with `force: yes` and
highly recommend we peg to file hashes as an intermediate way to trigger
when to kick off a new docker image."
msheiny,2018-02-26 21:08:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df1b3526c8b0f1c2785ebe4949d30d9bbe6ad39a,df1b3526c8b0f1c2785ebe4949d30d9bbe6ad39a,Add docker labels for filtering
msheiny,2018-02-26 21:03:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/425e89b5a15306d5317334614097d7d8f24a1b08,425e89b5a15306d5317334614097d7d8f24a1b08,"Move Ubuntu image tag into molecule.yml

Easier to maintain if we need to add additional platforms."
msheiny,2018-02-26 21:02:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a6c894fa5153b8459aa2d4146b2e6161202e80c4,a6c894fa5153b8459aa2d4146b2e6161202e80c4,Remove un-utilized file from molecule init
redshiftzero,2018-02-26 18:46:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d8875ae15346ad258f777a69c22e408c27357b8,8d8875ae15346ad258f777a69c22e408c27357b8,"Merge pull request #3070 from freedomofpress/docs-update-osx-to-macos

Replace occurrences of Mac OS X to macOS in docs"
edenemmanuel,2018-02-25 21:10:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a52e29452c051b0f66af56149b2957244feebbb3,a52e29452c051b0f66af56149b2957244feebbb3,"Replace occurrences of Mac OS X to macOS in docs

Recent releases of Apple's desktop operating system are now called
macOS. In order to make documentation look current, this updates the
documentation to reflect the changes in the name of Apple's desktop
operating system."
Anonymous26,2018-02-17 17:35:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23a6e28ccf47b8d10a2ab7b01c0c10cfc5109e55,23a6e28ccf47b8d10a2ab7b01c0c10cfc5109e55,docs: Update Admin and Journalist terms acc to Docs guidelines
msheiny,2018-02-23 21:38:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d87c7118e2ccb9fcfb0544621bc11df2c331dac4,d87c7118e2ccb9fcfb0544621bc11df2c331dac4,"Merge pull request #3038 from freedomofpress/apparmor_profile_update

Apparmor: allow apache2 to execute /usr/bin/file"
redshiftzero,2018-02-23 18:57:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ad1c309b177b40ef55f122c1509927086d2849d,4ad1c309b177b40ef55f122c1509927086d2849d,"Merge pull request #3046 from freedomofpress/fix-release-shell-script

Release script: do not create tag for release candidates"
emkll,2018-02-08 23:51:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1741084a588ce314e6936b6b506a1503d0e93405,1741084a588ce314e6936b6b506a1503d0e93405,"Apparmor: allow apache2 to execute /usr/bin/file

Adding executable mask to  `/usr/bin/file` to Apache2's AppArmor profile to prevent daily emails containing a vast amount of AppArmor denied messages such as these:
`apparmor=""DENIED"" operation=""exec"" profile=""/usr/sbin/apache2"" name=""/usr/bin/file"" comm=""apache2"" requested_mask=""x"" denied_mask=""x""`.

As @dachary points out, this is due to `Cryptodome.Cipher.AES` indirectly calling `Cryptodome/Util/_raw_api.py` which uses `platform.architecture()`, relying on `/usr/bin/file`

Other related files were given read permission as a result:
- /etc/magic
- /usr/bin/python2.7
- /usr/share/file/magic
- /usr/share/file/magic.mgc

Fixes #3020."
kushaldas,2018-02-22 06:18:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d359d5456b2c4ca07419e91ca184f661ef772107,d359d5456b2c4ca07419e91ca184f661ef772107,"Updates SDConfig to use try/except instead of hasattr

Based on https://github.com/freedomofpress/securedrop/pull/3033#discussion_r169786755
Also we have to ignore all the types for now as there can be missing
attribute in `_config` which in turn will make `mypy` unhappy."
redshiftzero,2018-02-23 01:50:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e2ceb91e373162d6b6f5162d510f21db148d206,0e2ceb91e373162d6b6f5162d510f21db148d206,"Merge pull request #3062 from freedomofpress/wip-dachary-apparmor-templates

app: add missing journalist templates in apparmor"
redshiftzero,2018-02-23 01:31:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c4c020d90f0918037631c4a90e4af77c94d19462,c4c020d90f0918037631c4a90e4af77c94d19462,"Update version: Exit if version string contains ""-rc"""
redshiftzero,2018-02-20 21:56:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3d0867ffd0af6d3cfa5ab9748d2411427220d4a1,3d0867ffd0af6d3cfa5ab9748d2411427220d4a1,"Release script: Update script for new release candidate versioning

Previously, we used the version string 0.x.y-rcN for the Nth release
candidate for 0.x.y. Unfortunately, this rc version string was
considered a higher version than the actual release.

In 0.5.2 and beyond, we use the version string 0.x.y~rcN for the Nth
release candidate for 0.x.y. This versioning scheme is correct, in
that Debian and Ubuntu recognize 0.x.y as a higher version than
0.x.y~rcN.

This commit updates our release script to create valid tags for
release candidates. Since the character ""~"" is not
a valid character in a git tag, without this change the script
will fail.

Issue: https://github.com/freedomofpress/securedrop/issues/2950"
edenemmanuel,2018-02-22 18:25:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8c809e5a84bc0a0d446278fbb2e6fc74f66a2c85,8c809e5a84bc0a0d446278fbb2e6fc74f66a2c85,"Change venv python binary setup docs on macOS

Makes a one line change in the documentation regarding setting up the
development environment on macOS. In a default install of macOS High
Sierra, there is no `python2` binary in PATH. `python` in PATH defaults
to Python 2, so simply renaming `python2` to `python` as the python
binary when creating a virtualenv is good here."
SaptakS,2018-02-22 12:34:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0c32641464892897f172bd601e3522cbba518f3,f0c32641464892897f172bd601e3522cbba518f3,"Font Awesome v5 migrate: Update js files with the new class names

The class names have been updated in the js files following the list of changed class names
present here: https://fontawesome.com/how-to-use/upgrading-from-4#icon-name-changes-complete-list"
SaptakS,2018-02-22 06:10:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b548db5059b66482552f73cc8a666b229000c287,b548db5059b66482552f73cc8a666b229000c287,"Font Awesome v5 migrate: Update list of files in ansible apache

Update the list of files in install_files/ansible-base/roles/build-securedrop-app-code-deb-pkg/files/usr.sbin.apache2
to prevent access denied in hardened environments."
SaptakS,2018-02-21 16:30:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a87e5a0444b66f7bf3dce4de93199883021a559,6a87e5a0444b66f7bf3dce4de93199883021a559,"Font Awesome v5 migrate: Modify classes in the html template file to match with v5

The class names have been updated following the list of changed class names
present here: https://fontawesome.com/how-to-use/upgrading-from-4#icon-name-changes-complete-list"
kushaldas,2018-02-20 03:53:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/586c5fe6831a20f0953a359d7e76d03d1a138f5d,586c5fe6831a20f0953a359d7e76d03d1a138f5d,"Adds app armor rule and fix SDConfig based on review

Based on the review of @dachary and
@heartsucker. We have code comments explaining
how to handle type checking import statements and related
flake8."
redshiftzero,2018-02-22 01:48:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2195ac6a395bf64e52edd996e71db7383b4d1df0,2195ac6a395bf64e52edd996e71db7383b4d1df0,"Merge pull request #3017 from vaibssingh/patch-2

Update create_admin_account.rst"
redshiftzero,2018-02-22 01:34:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/72e06fa5e2211d0c3ed5d630edb4e7f0ef52ad85,72e06fa5e2211d0c3ed5d630edb4e7f0ef52ad85,"Merge pull request #3053 from freedomofpress/open-context-manager

use context managers to properly close resources"
heartsucker,2018-02-21 19:25:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0705caa815c327e55a70c40126f14df2cb20c37a,0705caa815c327e55a70c40126f14df2cb20c37a,use context managers to properly close resources
SaptakS,2018-02-19 12:07:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e1eb00af1c8db613caf207a9baa68f1ea74fbc4,6e1eb00af1c8db613caf207a9baa68f1ea74fbc4,Font Awesome v5 migrate: Update sass file for font-awesome
SaptakS,2018-02-19 12:05:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c428805655d6bc70f7e6a8a1d545df5df6cdd1a3,c428805655d6bc70f7e6a8a1d545df5df6cdd1a3,Font Awesome v5 migrate: Remove old font files
SaptakS,2018-02-19 12:02:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d225158e45dda6aff2a347b31e19cf2aa42dc33,7d225158e45dda6aff2a347b31e19cf2aa42dc33,Font Awesome v5 migrate: Add new font files
vaibssingh,2018-02-14 16:51:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c44783855641f1b34d5d724fb913fbcd5f42b9a9,c44783855641f1b34d5d724fb913fbcd5f42b9a9,"Update create_admin_account.rst

Italicized *Journalist Interface*'s

Fixed underlining of the title"
danishprakash,2018-02-17 12:43:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ff63dae31f3e1f4277e0c92fff458663c34f7b1,7ff63dae31f3e1f4277e0c92fff458663c34f7b1,fix style issues
heartsucker,2018-02-21 10:09:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a42f60eeb09a3e68fe22b18ea2b3d9f72771955e,a42f60eeb09a3e68fe22b18ea2b3d9f72771955e,"Merge pull request #3045 from Anonymous26/patch_3

terminology.rst: fixed grammer issues"
kushaldas,2018-02-19 18:40:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/51019349ffc8233243fec4ac11cb374281448ac2,51019349ffc8233243fec4ac11cb374281448ac2,Updates molecule test for new sdconfig.py in deb package
kushaldas,2018-02-19 15:18:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a804b67b1b06277b8959278a7972e8b89ce87816,a804b67b1b06277b8959278a7972e8b89ce87816,"Fixes #3031 type annotation for application config

We have now have `SDConfig` class to provide all the attributes
of `config.py` module. This also removes the need of using any
fake config class, as we can just use a new object of `SDConfig`
for testing.

Becasue of the type check, we have all possible attributes of
`config.py` available by default in `SDConfig`. Right now, the
types are implicit, in future we can make them explicit."
eloquence,2018-02-21 07:12:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/acc65149aa491c9cf2639de16e4633573fa61358,acc65149aa491c9cf2639de16e4633573fa61358,"docs: Clarify setup instructions for TOTP in dev environment

Fixes #3037"
Anonymous26,2018-02-21 03:07:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/91ce938503b2bd047f344761c5bf584d013b0c86,91ce938503b2bd047f344761c5bf584d013b0c86,terminology.rst: fixed grammer issues
redshiftzero,2018-02-20 22:59:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23fbdd27c3b18cfedafc69df913538baa0ca3dcb,23fbdd27c3b18cfedafc69df913538baa0ca3dcb,"Merge pull request #3041 from freedomofpress/wip-dachary-make-flake8

tests: flake8 --exclude must be combined in the same value"
redshiftzero,2018-02-20 22:36:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38d029865544ef6d2711f4c692810e997d97d81a,38d029865544ef6d2711f4c692810e997d97d81a,"Merge pull request #3042 from freedomofpress/docs-wip-dachary-i18n-injection

i18n: remind reviewers and i18n maintainers to check translated strings"
redshiftzero,2018-02-20 22:19:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e731041ec4ee7332b398234e4e4d0eeb9acd6a83,e731041ec4ee7332b398234e4e4d0eeb9acd6a83,"Merge pull request #3040 from dachary/wip-dachary-dev-docker

test: the demo user needs to be admin"
redshiftzero,2018-02-20 19:19:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d818a5c388b42426ad323e2f23fa0dd305402c43,d818a5c388b42426ad323e2f23fa0dd305402c43,"Merge pull request #3027 from freedomofpress/wip-dachary-sdconfig-update

securedrop-admin: an empty config is {}, not None"
heartsucker,2018-02-20 11:11:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5731df614018894fa14d5b6adf0942f6c83d5116,5731df614018894fa14d5b6adf0942f6c83d5116,"Merge pull request #3035 from freedomofpress/docs-warnings

Fixes #2114 Adds clear caution messages"
heartsucker,2018-02-20 10:58:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fcd93e81c73e13355ca467ce8ca6b3d66e39cd66,fcd93e81c73e13355ca467ce8ca6b3d66e39cd66,"Merge pull request #3032 from freedomofpress/wip-dachary-typecheck-docker

tests: merge Dockerfile.typeannotation with Dockerfile.linting"
kushaldas,2018-02-20 05:45:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a53632c134759b282ed119e5eb14012cae71dc97,a53632c134759b282ed119e5eb14012cae71dc97,"Fixes #2114 Adds clear caution messages

We should warn the administrators to only use the given git
commands to download the SecureDrop Git repository. This also
adds another caution message about not skipping the GPG
verification step."
heartsucker,2018-02-19 09:27:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8aff30e75a369296921ff9a30ec6cf1692623b7f,8aff30e75a369296921ff9a30ec6cf1692623b7f,"Merge pull request #2985 from freedomofpress/docs-wip-dachary-i18n-documentation

docs: rework the i18n documentation for clarity and remove obsolete parts"
msheiny,2018-02-17 16:11:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc0771ddfaf45e208cd4014064ad12aa4305fcd6,fc0771ddfaf45e208cd4014064ad12aa4305fcd6,"Update tests to match site-specific config return

SiteConfig with an unknown config is now passing back an empty
dictionary instead of None"
msheiny,2018-02-17 16:10:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/46ac83c5fc1299846f7ecc8c7a6c6bf5a64a86bd,46ac83c5fc1299846f7ecc8c7a6c6bf5a64a86bd,Fix namespace variable bug
redshiftzero,2018-02-17 00:01:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6b92591b1cdd95658140d6ce3e8d7e656e023b0c,6b92591b1cdd95658140d6ce3e8d7e656e023b0c,"Merge pull request #3025 from dachary/wip-dachary-3024-pyc

tests: cleanup pyc and __pycache__"
heartsucker,2018-02-16 22:38:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc8717dfe7e40603894f948458f9726deb67a0cd,cc8717dfe7e40603894f948458f9726deb67a0cd,"Merge pull request #3010 from kaustav1996/patch-2

docs: s/each image in the web/each page in the web/"
msheiny,2018-02-16 15:22:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a76500226e71ba8de07486d826dffb755fe6f63,1a76500226e71ba8de07486d826dffb755fe6f63,"Merge pull request #2990 from freedomofpress/wip-dachary-develop-i18n

tests: docker based development environment"
heartsucker,2018-02-16 10:18:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/62ebab18aa6ed0c8a6b0dc48c71549e89ee7ff53,62ebab18aa6ed0c8a6b0dc48c71549e89ee7ff53,"Merge pull request #3022 from aydwi/docs-improvement

Substitute administrator with admin in docs"
redshiftzero,2018-02-16 02:53:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1908d00a8b679c38db2e317c1910859e2c4aba17,1908d00a8b679c38db2e317c1910859e2c4aba17,"Merge pull request #2956 from freedomofpress/wip-dachary-securedrop-admin-dev-shell

 securedrop-admin: implement dev-shell"
aydwi,2018-02-16 00:34:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae6a4ee5d4e1f1c03f5d74241041f79091820f91,ae6a4ee5d4e1f1c03f5d74241041f79091820f91,Substitute administrator in docs
redshiftzero,2018-02-15 21:16:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09c79c411fb2b572829327a2d8fec57c58dd2da2,09c79c411fb2b572829327a2d8fec57c58dd2da2,"Merge pull request #2979 from freedomofpress/no-import-config

Remove global state of `config`"
redshiftzero,2018-02-15 06:08:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/06546c854c92cb2b35acef5585ac767d5351c199,06546c854c92cb2b35acef5585ac767d5351c199,"tests: add test journalist to development environment

The demo user is created with the same user, password and OTP secret
as what is displayed in the online demo. It will allow this function
to be used to update the online demo and people who already have these
credentials memorized in the browser and OTP application will still
be able to use them.

The Journalist.set_password function is not used because it enforces
seven words diceware passwords and the demo password does not comply.
Although it would make for a more educative example to use a seven
words password, it is more difficult to copy/paste, all pages
displaying the existing password would have to be modified and the
users would need to update."
heartsucker,2018-02-07 11:43:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9cb18e7f60a7d5649e1c3358fdac2e7fd0167faa,9cb18e7f60a7d5649e1c3358fdac2e7fd0167faa,dependency injection for crypto_util.py
heartsucker,2018-02-06 09:16:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/13ed76b1f74f8b346552ffbb3d2e4b571d683dfa,13ed76b1f74f8b346552ffbb3d2e4b571d683dfa,"dependency injection for store.py

There are two ways we could have done this:

1) have each view create their own CryptoUtil from the config that is
passed in to it, then pass that CryptoUtil to each outside function that
needs it

2) do what FlaskSqlAlchemy does which is bind it to the current app in
someway

It's ""global"" but no more than than request, session, or g objects are
and that's ok in as much as it lets us inject thing top down for
testing."
heartsucker,2018-02-04 20:14:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f1eba0b676f83ee9c223bce2b2ea83295fe879ee,f1eba0b676f83ee9c223bce2b2ea83295fe879ee,remove unnecessary logger
redshiftzero,2018-02-14 23:29:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5cc9a0f629d6fe4c16c33f31fbd78341895853c,e5cc9a0f629d6fe4c16c33f31fbd78341895853c,"Merge pull request #3009 from kaustav1996/patch-1

docs: App Server must be in italics"
redshiftzero,2018-02-14 21:43:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b8defacde9eca278772baf1fdf35e10e768b760,9b8defacde9eca278772baf1fdf35e10e768b760,"Merge pull request #3016 from vaibssingh/patch-1

Update documentation_guidelines.rst"
redshiftzero,2018-02-14 19:56:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/137637469d8d41e609a783a2460c25b98a2df576,137637469d8d41e609a783a2460c25b98a2df576,"Merge pull request #2984 from freedomofpress/docs-wip-dachary-usability-checklist

docs: add hardware description for portable SecureDrop demo"
redshiftzero,2018-02-14 19:55:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5738694243e78bbe436c5f26ba70c22f691c9ebb,5738694243e78bbe436c5f26ba70c22f691c9ebb,"Merge pull request #2993 from freedomofpress/docs-wip-dachary-setup-dev

docs: apt-get update before apt-get install to avoid 404 on old packages"
redshiftzero,2018-02-14 19:54:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99ce017ead14e8edfe671596f47f29cb614e97fc,99ce017ead14e8edfe671596f47f29cb614e97fc,"Merge pull request #2988 from freedomofpress/wip-dachary-2978-async-genkey

source: genkey runs in a thread and must have its own session"
redshiftzero,2018-02-14 19:53:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f8e913d5eb9e15c45e3a18d96c80525b038df61e,f8e913d5eb9e15c45e3a18d96c80525b038df61e,"Merge pull request #2996 from freedomofpress/wip-dachary-2980-staging-permission

tests: staging tests must be run as root"
vaibssingh,2018-02-14 16:42:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4b761549ccc443d78cfd496be50a213711a97dec,4b761549ccc443d78cfd496be50a213711a97dec,"Update documentation_guidelines.rst

Fixed #3003"
kaustav1996,2018-02-14 06:18:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5778690a4085a1508a4c356b7626d9332ac58492,5778690a4085a1508a4c356b7626d9332ac58492,Update documentation_guidelines.rst
kaustav1996,2018-02-14 06:14:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce70dc5149473d3d11e158adb6ee65ce0b9271f3,ce70dc5149473d3d11e158adb6ee65ce0b9271f3,Update test_the_installation.rst
redshiftzero,2018-02-01 21:14:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/75355ca3855065811fc7896ed1e5e0685e346516,75355ca3855065811fc7896ed1e5e0685e346516,"SecureDrop 0.5.2

(cherry picked from commit b2484519ad8b9fa127cb3ed95ae6c4fa08070d30)"
msheiny,2018-01-30 14:57:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54904ca3e378fb93311b6504bb088722cf30bc17,54904ca3e378fb93311b6504bb088722cf30bc17,"Provide updated path for tor_version artifact

(cherry picked from commit 1ddfba21e7e177cbd8a7206e6108918fb3d8c767)"
msheiny,2018-01-30 14:47:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac30968e7214abb3ec2277b3dc1786be4e0cef77,ac30968e7214abb3ec2277b3dc1786be4e0cef77,"Add an apt safe-upgrade for tor apt testing

Not sure if this will solve an issue I'm seeing in CI :shrug:

(cherry picked from commit 967f58f8118a750889e01d14b9b087539c3fcb96)"
msheiny,2018-01-26 22:41:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/239a15ce45b8dfdfa8465eeb67fa1f001857c086,239a15ce45b8dfdfa8465eeb67fa1f001857c086,"Address flake8 issues in testinfra skip logic

(cherry picked from commit 38fcffe9a3a3e267786939062cf0e513ec698101)"
msheiny,2018-01-26 22:09:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5d5cab9eb3cdc878b8ef41d0fe04713741d4a75b,5d5cab9eb3cdc878b8ef41d0fe04713741d4a75b,"CI grab back tor_version string

Useful for debugging

(cherry picked from commit 61f8a097092c184b737ecad492cca52159cd6c9f)"
msheiny,2018-01-26 21:06:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/13db1d309f97e49242cc37baac835db54435aca6,13db1d309f97e49242cc37baac835db54435aca6,"CI - build for tor-apt-test in release branches

This is useful for the QA process during a run-up to a release.

(cherry picked from commit 732c8dad1f0d2e83d3a1bae109ada42f351701bb)

Conflicts:
	molecule/aws/side_effect.yml

Favored changes in release/0.5.2 for conflict resolution, except I
preserved the reboot on develop (previously this reboot had been
disabled - see 392f7ac where this was added back in on develop)."
redshiftzero,2018-01-29 18:56:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8c2d1f9d49416c51d6f73b469277d038441e00cb,8c2d1f9d49416c51d6f73b469277d038441e00cb,"SecureDrop 0.5.2~rc1

(cherry picked from commit f898877f7d4e5fef664fa489b8f1407543ab571a)"
kushaldas,2018-02-13 18:36:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/89e48274aba66584992a348f8b283815c28aefea,89e48274aba66584992a348f8b283815c28aefea,"Fixes #3006 Adds Makefile target for type linting

Co-authored-by: Brett Cannon brett@python.org"
kushaldas,2018-02-13 16:45:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/360fcabf59808d6472ffcb6ae1eba3d6c0601e64,360fcabf59808d6472ffcb6ae1eba3d6c0601e64,"Adds type annotation to _get_wordlist

Co-authored-by: Brett Cannon brett@python.org"
kushaldas,2018-02-13 09:44:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d6f9db6a6fbb1a33cf1324828de7c99e2ccb12c,8d6f9db6a6fbb1a33cf1324828de7c99e2ccb12c,"Fixes #3001  initial support for type annotation

Adds a mypy.ini for mypy check, also we are
skipping config.py from type annotation.

Co-authored-by: Brett Cannon <brett@python.org>"
emkll,2018-02-12 14:50:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03a9855db4ec258a336c725059db677a4931d8a7,03a9855db4ec258a336c725059db677a4931d8a7,"Fix tests

- Modify `verify_prompt_sasl_domain` to pass
- Removed validation test function
- Set validation to `None` for SASL Domain."
SaptakS,2018-02-12 17:08:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2947d75554ecacea9fe54ec7b84c092012ea2499,2947d75554ecacea9fe54ec7b84c092012ea2499,"tests: Fix the logic of delete_one and delete_all page layout tests

Due to the implementation of CSS modal, delete_one and delete_all now
needs an extra step of clicking on the delete button on the modal to
delete the documents."
SaptakS,2018-02-12 07:49:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00f474134c8d1b18f0f18a019be06094d6e7f7b5,00f474134c8d1b18f0f18a019be06094d6e7f7b5,"tests: Add 1 second sleep before css modal screenshot

For page layout screenshot of css modals on clicking delete
button, add a 1 second sleep to allow the modal to appear in
complete opacity."
aydwi,2018-02-10 06:59:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f1aa44889dc4e4f0a184aa337aff3bef1311e52,9f1aa44889dc4e4f0a184aa337aff3bef1311e52,Minor docs fixes
SaptakS,2018-02-05 19:30:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f3c082678fe1996dd33a8d66396e0848b5976f7,8f3c082678fe1996dd33a8d66396e0848b5976f7,"Responsive: Fix button wraping and spacing in small screens

* Replace anchor tag with btn class by a <button> element to make the
wrapping of the button properly to the next line instead of the partial
wrapping that is happening in the former case.

* Add bottom margin to give proper spacing to buttons when they are on more
than one consecutive row."
SaptakS,2018-02-05 19:13:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c6839ec36ad2b11efb13ed43d8864098c247f94,6c6839ec36ad2b11efb13ed43d8864098c247f94,Responsive: Make minimum width of designation in percent rather than pixel
SaptakS,2018-02-05 09:13:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bcff835b0cc5112a9e797a008a15b2161380b399,bcff835b0cc5112a9e797a008a15b2161380b399,"Responsive: Used flexbox structure in journalist interface

Flexbox structure allows in better responsiveness of the logo
and the container with the content."
emkll,2018-02-09 15:01:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17edc262cc40c83db7e3050f2031cdfc48c4dbfe,17edc262cc40c83db7e3050f2031cdfc48c4dbfe,"Allow blank sasl_domain in sdconfig

While most shared email providers (e.g. gmail) require a SASL domain, some mail setups don't use SASL domain. Sdconfig script forbids SASL domain from being and empty string (which can be a valid option for certain mail deployments)

- Config validation now allows blank SASL domain and validates FQDN when SASL domain is not blank.
- If SASL domain is left empty, postfix configuration will also not include the '@' symbol.

Fixes #2482"
heartsucker,2018-02-07 22:51:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/acc92cb9eb7da215c9faf9d3dc8efac706dd7d22,acc92cb9eb7da215c9faf9d3dc8efac706dd7d22,"Merge pull request #2982 from nvesely/buenos-das

Change sad crypto_util doctest sample text"
nvesely,2018-02-06 23:30:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd181e94404e8fd709d3a124faf74b2e8ee25783,dd181e94404e8fd709d3a124faf74b2e8ee25783,"Change sad crypto_util doctest sample text

Given the loss of two great contributors to this project to suicide, I think it
would be nice to remove this rather depressing doctest sample text. The new text
reads, in Spanish, ""Good day, beautiful world!"""
EdOverflow,2018-02-06 10:28:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cbaab2329ac22519c5da34f056ba4affcf9d2081,cbaab2329ac22519c5da34f056ba4affcf9d2081,s/are generally/is generally/ - Fix #2908.
redshiftzero,2018-02-06 00:20:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85c85af17fb050d1c6c0f9958a07a2b70c634476,85c85af17fb050d1c6c0f9958a07a2b70c634476,"Merge pull request #2973 from freedomofpress/2970-fix-vagrant-box-downloads

Fixes Vagrant box downloading for Vagrant 1.x"
redshiftzero,2018-02-05 20:53:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/929264c9f37214a4d888f56d2b65310b94df665a,929264c9f37214a4d888f56d2b65310b94df665a,"Merge pull request #2972 from freedomofpress/docs-wip-dachary-contributor-privilege

Docs wip dachary contributor privilege"
conorsch,2018-02-05 19:51:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/35a50e5cc9caa2664645d7cf9876843dcdd37156,35a50e5cc9caa2664645d7cf9876843dcdd37156,"Clarifies distinction between maintainer workflows

We use separate processes for determining ""maintainer"" status for
contributors to the technical codebase (e.g. application logic, tests,
configuration/deployment) and contributors to the translations.

Fortunately we have clear docs on both already: this change merely
amends the language cross-linking the relevant parts of the docs."
conorsch,2018-02-05 19:20:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b71b615ae7dde01b69e2e10072d35411fbd4324f,b71b615ae7dde01b69e2e10072d35411fbd4324f,"Reformats procedure for maintainer status grants

Changes are strictly cosmetic: using an ordered list, rather than adding
numbers inside an unordered list, and carefully matching capitalizing to
make the documentation read more like a paragraph, even though it's
broken up a bit.

In the process, also resolving a linting error that was blocking merge."
conorsch,2018-02-05 15:06:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2e50ca5d2b499aa21237f4647c99750daae5caa3,2e50ca5d2b499aa21237f4647c99750daae5caa3,"Fixes Vagrant box downloading for Vagrant 1.x

The logic to fetch and update Vagrant boxes from Hashicorp's hosting
broken suddenly on or around 2018-02-04. Looks like backend changes on
their part are the culprit, and newer versions such as Vagrant 2.0.2 may
not be affected.

Let's use a workaround, which should be temporary, assuming appropriate
redirects are implemented on the backend, in order to keep fresh
spin-ups of the dev env, as well as updates to the base boxes for
regular developers, working as expected.

Closes #2970."
redshiftzero,2018-02-03 22:47:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a4b34fe7a09c4beb6ab1f1fce2186cf788a64ddf,a4b34fe7a09c4beb6ab1f1fce2186cf788a64ddf,"Merge pull request #2963 from freedomofpress/tor-services-ossec-config

Syscheck monitoring of /var/lib/tor/services/"
redshiftzero,2018-02-02 15:45:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df97f93bfd972aedc6286bfaa7d35900ac996217,df97f93bfd972aedc6286bfaa7d35900ac996217,"Merge pull request #2958 from aydwi/docs-improvement

Removed a repeated sentence in the doc page ""What Makes SecureDrop Unique"""
emkll,2018-02-02 15:43:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0274ca870e0eaf4f00733f7d5bb58c343c113b91,0274ca870e0eaf4f00733f7d5bb58c343c113b91,Modified ossec agent configuration to monitor /var/lib/tor/services directory and not only /var/lib/tor/services/hostname (which no longer exists)
aydwi,2018-02-01 20:51:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a58820df807cf6bbf52d5064cb1bb7eefe9e3929,a58820df807cf6bbf52d5064cb1bb7eefe9e3929,Removed first instance of a repeated sentence
SaptakS,2018-02-01 19:32:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ed9a8686cc49b6b386c6e4a8ff9e72a9456f92e,6ed9a8686cc49b6b386c6e4a8ff9e72a9456f92e,Test: Ensure document and collections are there to be deleted
SaptakS,2018-02-01 18:21:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e64f3682ea43f356047fbaa7a679d3356fdf453,1e64f3682ea43f356047fbaa7a679d3356fdf453,"Separate out modal into a re-usable block

Separated both the html block and the sass code into different files."
SaptakS,2018-02-01 05:21:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/51e8472a1cd8a5a5f16b6c1c959d794937c93f0b,51e8472a1cd8a5a5f16b6c1c959d794937c93f0b,Test: Rename javascript tests to modal for deletion confirmation
SaptakS,2018-01-31 19:03:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/05ad785b07be3eb0446cb68475bbf9a42e0b7aac,05ad785b07be3eb0446cb68475bbf9a42e0b7aac,"Test: Update page layout tests for deletion of collections and documents

Page layout tests now take screenshot of the modal instead of the confirmation
message text being saved."
SaptakS,2018-01-31 10:22:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1ed2ec3cc333e5640206c8984b2c536db44a1c79,1ed2ec3cc333e5640206c8984b2c536db44a1c79,"Test: Fix functional test for deletion of collections and documents

Update functional tests for journalist to expect a modal with the cancel
and delete button and actions based on it rather than the previous
confirmation alert."
SaptakS,2018-01-27 21:04:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/18495297095a1dda6471d3a3c57dd2569a6fe2c8,18495297095a1dda6471d3a3c57dd2569a6fe2c8,Css: Delete confirmation with css-only modal
redshiftzero,2018-01-30 23:44:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07cedf116fdf7abfcce8e4187f9357bbb8784bcf,07cedf116fdf7abfcce8e4187f9357bbb8784bcf,"Landing page: Fix error_log nginx directive

The 'off' option available in access_log is not available
for error_log, causing the output of error logging to be sent
to a file called 'off'. We can fix by setting output file to
/dev/null."
redshiftzero,2018-01-30 23:02:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a1dc1a33bf23b0cdff7f8029dffc26a26205607e,a1dc1a33bf23b0cdff7f8029dffc26a26205607e,"Merge pull request #2758 from freedomofpress/wip-dachary-2522-sdconfig

refactor ./securedrop-admin sdconfig from Ansible to python."
redshiftzero,2018-01-30 21:05:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e7e55a94e95d1a2f88c49e02d48f05e48513a28,3e7e55a94e95d1a2f88c49e02d48f05e48513a28,"Merge pull request #2949 from pierwill/docs-tails-guide-fixes

tails_guide.rst: style and typo fixes"
conorsch,2018-01-30 00:08:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e36196e63886ae9db3b0d4644b54affbae7d12e7,e36196e63886ae9db3b0d4644b54affbae7d12e7,"Yet another flake8 noqa postfix cleanup

Poor form on my part, was again omitting *all* flake8 checks, rather
than only the ostensibly declared F403."
conorsch,2018-01-29 23:59:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f81caa7d6393a5ece71747ed020074e4dc54d6c,8f81caa7d6393a5ece71747ed020074e4dc54d6c,"Further flake8 changes regarding postfix noqa

Again, pointed out by @dachary, there were several instances of ""# noqa""
improperly disabling *all* flake8 checks, when only a specific check was
intended. Resolved by adding colon, i.e. ""# noqa:""."
conorsch,2018-01-29 23:42:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a9ffe4562965c7af68f43b8597b0cd40e3b5f58,1a9ffe4562965c7af68f43b8597b0cd40e3b5f58,"Cleans up flake8 rules, per review

@dachary pointed out a few touch-ups. In particular, the change to
`ossec_urls.py` was a nice catch, in that the ""noqa"" line was ignoring
*all* flake8 violations, not merely the specific one mentioned. @dachary
further pointed out that it wasn't E405, but rather F405, that should
have been permitted."
pierwill,2018-01-14 22:06:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a38de713204bc5648257cdc251df768047383a21,a38de713204bc5648257cdc251df768047383a21,tails_guide.rst: style and typo fixes
heartsucker,2018-01-28 12:25:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58ab66e76f6a5fb23d8bf3d9c969f4e4d89d37d9,58ab66e76f6a5fb23d8bf3d9c969f4e4d89d37d9,"Merge pull request #2863 from freedomofpress/wip-dachary-2862-docker-sudo

tests: create $USER in Dockerfile and allow sudo"
conorsch,2018-01-27 03:42:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/454b8674fc7bc7b14bf96d518b282add8b96ce54,454b8674fc7bc7b14bf96d518b282add8b96ce54,"Flake8: Linting on ansible_version_check callback

Minor changes throughout, all of them were reducing line length."
conorsch,2018-01-27 04:08:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d5e22f4b547816105752c2a1bc63ad7de1b5df4,0d5e22f4b547816105752c2a1bc63ad7de1b5df4,"Flake8: Linting profile_tasks Ansible callback

The ""profile_tasks"" Ansible callback plugin was added to the repository
back in the Ansible 1.x days. It's no longer necessary, since as of
Ansible v2 task profiling was merged into core, and can be enabled via a
whitelist option for callbacks in ansible.cfg. Removing the plugin
should be handled separately, since all the changes in the current push
involve strictly flake8 linting."
conorsch,2018-01-27 03:37:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/384fcc493e0de2030eeb8a503098a91be972662b,384fcc493e0de2030eeb8a503098a91be972662b,"Flake8: securedrop_init.py

This file goes back a while. We've never linted it, so even more recent
changes weren't flake8 compliant. Now we're up to snuff.

Excused the E501 up top because breaking up the filepath file
tuple-syntax would only hurt readability."
conorsch,2018-01-27 03:08:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37f6c0fc0455f7aa4fcc896e08735e0ac8a7db36,37f6c0fc0455f7aa4fcc896e08735e0ac8a7db36,"Flake8: securedrop/tests/utils/env.py

Straightforward. Removed some extraneous imports and placed a comment on
its own line to reduce line length."
conorsch,2018-01-27 02:59:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3447dce6a86992acfa852b19af201b12a6ae9703,3447dce6a86992acfa852b19af201b12a6ae9703,"Flake8: Lints OSSEC URLs Ansible module

The Ansible module was pulled in from a separate repository (see #1468),
so the poor formatting is a product of lack of linting over there. Since
this is an Ansible module, and not a regular Python module, there are a
few common exceptions we'll make, specifically:

  * F401
  * E402
  * F403
  * F405

For reference, see:
https://github.com/HewlettPackard/oneview-ansible/blob/3dc8596861b10d16afe57a4d24bf7bd3dc514f3e/TESTING.md"
conorsch,2018-01-27 03:11:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/02787967036eae24b721f6953909f3d4013af4a6,02787967036eae24b721f6953909f3d4013af4a6,"Removes unused 0.3_restore.py script

All required logic has been ported to ""restore.py"", which is still used
by the ""restore"" role."
conorsch,2018-01-27 02:41:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d81c60b7b31dcbd213a7a604ed6a15ca08ace966,d81c60b7b31dcbd213a7a604ed6a15ca08ace966,"Flake8: Lints 0.3_collect.py backup script

Minimal usage on this script, but let's clean it up anyway. If it's in
the repo and a Python file that we control, it should pass flake8
linting.

Added a few ""noqa"" lines here to permit non-standard imports, which are
required due to the use of ""config.py"" for SecureDrop configuration.

Also tacking on changes to the ""restore.py"" script, which is closely
related."
conorsch,2018-01-26 18:49:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/677b97664f3812fc95787045370fc74ebe2c4029,677b97664f3812fc95787045370fc74ebe2c4029,"Flake8: Linting docs/conf.py Sphinx config

The vast majority of changes were simply resolving the formatting of
comments. One option was to remove the comments entirely, since they're
certainly not frequently consulted, but they may yet be of use to
maintainers in the future, so reformatted rather than excised."
conorsch,2018-01-26 18:45:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b6c58f03b2dba621c024b4ad0ea7202707fdd65e,b6c58f03b2dba621c024b4ad0ea7202707fdd65e,"Flake8: Lints all tests under molecule/

The molecule test suite includes some unique tests, and some that were
ported from the older `testinfra/` location. The location under
molecule/ was not being linted, and that's now fixed."
conorsch,2018-01-26 18:26:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f03e11af7cc2c8157e01d352ca67003ffaf4700,6f03e11af7cc2c8157e01d352ca67003ffaf4700,"Lint all Python files with flake8

The Makefile ""flake8"" target is now more comprehensive, using a
blacklist approach rather than a whitelist approach to decide which
files to lint. This strategy should catch new Python files introduced to
the repository, so that CI will lint them even if they're in new
directories.

Rather than using a find-based approach, as with the ""shellcheck"" target,
we'll run flake8 on the entire repository and trust flake8 to figure out
which files it wants to inspect."
redshiftzero,2018-01-24 01:18:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/010dab4d68568ce087f867064a040c030b27cdb1,010dab4d68568ce087f867064a040c030b27cdb1,"Selenium functional tests: Add coverage for 2FA reset alert

Regression test for defect in #2920"
redshiftzero,2018-01-24 01:15:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ceb1e17f6aed6b78a06e0bb05bd15812db4f690,6ceb1e17f6aed6b78a06e0bb05bd15812db4f690,"journalist.js: Fix defect where 2FA reset did not produce alert (#2920)

Adding an additional class onto the 2FA buttons was the most simple way
to resolve this bug.

In order to have the username passed through to the string in the js
alert, we need to define data-username (following the same approach
as the confirmation prior to deleting a user)."
redshiftzero,2018-01-24 00:10:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f85a8bc920882df25476fd61b547bfd9c40c0c35,f85a8bc920882df25476fd61b547bfd9c40c0c35,Selenium functional tests: Add coverage of admin delete user
redshiftzero,2018-01-23 02:10:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/acfcfb831228e06cfbbad7d1ceb083e02908d249,acfcfb831228e06cfbbad7d1ceb083e02908d249,"Selenium functional tests: Add coverage of filtering, delete buttons"
redshiftzero,2018-01-22 22:02:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff56b2e4f466a74899dc7b20a2e5237ff37456f1,ff56b2e4f466a74899dc7b20a2e5237ff37456f1,Selenium functional tests: Test source warning hidden after dismissal
redshiftzero,2018-01-27 03:14:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/910716118be4aede6460cdaaa39dc28a1182096b,910716118be4aede6460cdaaa39dc28a1182096b,"Merge pull request #2929 from freedomofpress/upgrade-ansible-to-2.4.2

Updates Ansible 2.3.2 -> 2.4.2"
conorsch,2018-01-27 01:20:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a396d31575117baeec0e3551f196d76b273ad647,a396d31575117baeec0e3551f196d76b273ad647,"Patches Firefox app-test task for Ansible v2.4

The ""stdout"" parameter on the registered command result is not present
on the failed task starting with Ansible v2.4, so we'll sanely provide
an empty string as a default. Tested and confirmed this change is
backwards-compatible with Ansible v2.3.2."
conorsch,2018-01-25 21:35:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b8976b48769c4ecf233f5072b8c2435f9a0f740a,b8976b48769c4ecf233f5072b8c2435f9a0f740a,"Revert ""Closes #2927, do not fail CI on vulnerable package :(. This change is TEMPORARY until Ansible in `securedrop/requirements/ansible.in` is upgraded to 2.4""

This reverts commit 8d7345b444b9853fae99e775a652920bb1401ec4."
conorsch,2018-01-25 19:12:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/780ea38945786c796af593cc5886bd143501c6f6,780ea38945786c796af593cc5886bd143501c6f6,"Updates Ansible 2.3.2 -> 2.4.2

As of v2.4, pycrypto is no longer used. We must ditch the pycrypto
dependency in order to prevent a vulnerable library from being imported.

Fixes #2926."
msheiny,2018-01-26 14:40:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a27c3555d76f6e9388c98ac5c1c4b316f320b3e7,a27c3555d76f6e9388c98ac5c1c4b316f320b3e7,"Merge pull request #2936 from freedomofpress/rebase-all-ci-jobs-develop

Circle CI: Rebase before running tests and lint jobs"
redshiftzero,2018-01-26 05:02:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/207ad83f717a91ae7515efa5dfb998b58d6b04df,207ad83f717a91ae7515efa5dfb998b58d6b04df,"CI: Add rebasing to test and lint jobs

We should be running linting and all tests on the latest develop.
Closes #2934."
redshiftzero,2018-01-26 05:29:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b8803ea4e5058ae360388bf8d4ae0f623f132300,b8803ea4e5058ae360388bf8d4ae0f623f132300,"Merge pull request #2935 from freedomofpress/use-max-fail-to-force-immediate-ansible-exits-again

Uses `max_fail_percentage` to force immediate Ansible exits (again)"
conorsch,2018-01-25 23:59:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/91dbc081f0ff9bdf35d9a7c8c2840009d564d7ff,91dbc081f0ff9bdf35d9a7c8c2840009d564d7ff,"Reimplements Ansible fail-fast playbook options

Two options are required to ensure fail-fast behavior from Ansible:

  * max_fail_percentage=0
  * any_errors_fatal=yes

See #2885 for details. During merge of #2922, due to closely related
changes to playbook ""play"" blocks in #2748, the options were removed as
they landed in the ""develop"" branch. Here they are re-added, and the
`make ansible-config-lint` target is happy again."
conorsch,2018-01-25 23:56:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/69668db6ec78093591cb688c955cbcbe5a2bdeaf,69668db6ec78093591cb688c955cbcbe5a2bdeaf,"Fixes broken ansible-config tests

The tests weren't flake8 compliant, which CI did not catch. There were
two separate tests identically named, so one got clobbered and
effectively we weren't testing both required attributes.

The test file now *does* pass flake8, which I confirmed via manual
invocation against it. Opened a separate issue, #2933, to track
improving CI to avoid this problem in the future."
redshiftzero,2018-01-26 00:01:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e305cbd06806a3a62430475c5c87bc5a53cec8c3,e305cbd06806a3a62430475c5c87bc5a53cec8c3,"Merge pull request #2932 from freedomofpress/add-back-rebase

Fix CI bug where PR branch was not rebasing on develop"
redshiftzero,2018-01-25 23:21:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30257872db2ccad24141ff24269ff2f959a519fd,30257872db2ccad24141ff24269ff2f959a519fd,"Merge pull request #2922 from freedomofpress/use-max-fail-to-force-immediate-ansible-exits

Uses `max_fail_percentage` to force immediate Ansible exits"
redshiftzero,2018-01-25 22:46:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b77443c428a451f862693866562229d97b31ae2d,b77443c428a451f862693866562229d97b31ae2d,"Fix CI bug where PR branch was not rebasing on develop

before running staging build"
redshiftzero,2018-01-25 20:28:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba155993f0764feb15bdb29191a78dcc39c9c1de,ba155993f0764feb15bdb29191a78dcc39c9c1de,"Page layout tests: Add ar locale so RTL languages tested in CI

We removed the ar locale from tests when we pulled Arabic
from the 0.5 release (#2677). We should have the page
layout tests running on the Arabic locale in CI so that we can
catch any RTL-specific breakage"
redshiftzero,2018-01-25 20:39:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cdca9429ffb0e56ea171fd06a61ebfa88250674c,cdca9429ffb0e56ea171fd06a61ebfa88250674c,"Merge pull request #2924 from freedomofpress/wip-dachary-build-destroy-error

builder: do not silence logs when destroying the vm"
redshiftzero,2018-01-25 20:34:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a1cc81474ca378ae22c6c67af5446f8a4c5ee5ae,a1cc81474ca378ae22c6c67af5446f8a4c5ee5ae,"Merge pull request #2895 from freedomofpress/flask-sqlalchemy

Added flask-sqlalchemy to replace homegrown session management"
redshiftzero,2018-01-25 20:33:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f930384e49d3aef52a2d3508556f04cb032d2ef4,f930384e49d3aef52a2d3508556f04cb032d2ef4,"Merge pull request #2928 from freedomofpress/disable_safety

Temporarily disable safety check in CI"
emkll,2018-01-25 19:06:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d7345b444b9853fae99e775a652920bb1401ec4,8d7345b444b9853fae99e775a652920bb1401ec4,"Closes #2927, do not fail CI on vulnerable package :(. This change is TEMPORARY until Ansible in `securedrop/requirements/ansible.in` is upgraded to 2.4"
heartsucker,2018-01-20 14:45:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae48ea7b5b3092e7ff374fda4e7065f97227d9d2,ae48ea7b5b3092e7ff374fda4e7065f97227d9d2,init db when provisioning dev environment
heartsucker,2018-01-19 14:14:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/800d33d7c75d73866c3b27d9b78e16b8e2f4a450,800d33d7c75d73866c3b27d9b78e16b8e2f4a450,updated manage.py to use app context for db operations
heartsucker,2018-01-14 21:44:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cbf0687bd5487fe30cb147e21a55f4126210abfb,cbf0687bd5487fe30cb147e21a55f4126210abfb,made tests comaptible with new db session management
conorsch,2018-01-24 21:23:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b413bd0d0fef6b86bdf779b0b3ac2b7e180424fa,b413bd0d0fef6b86bdf779b0b3ac2b7e180424fa,"Merge pull request #2923 from freedomofpress/ReintroduceReboots

Revert ""Remove CI reboot task and re: tests"""
conorsch,2018-01-24 18:53:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/60358b503882d58a1c77e2bee6c62b72bc8bf264,60358b503882d58a1c77e2bee6c62b72bc8bf264,"Implements any_errors_fatal in all playbooks

We also want `any_errors_fatal=yes` on all playbooks in the repository; simply
using `max_fail_percentage` is insufficient. Tests have already been updated
to track this change, and manual testing confirms the ""fail fast"" behavior
desired for minimizing Admin frustration."
conorsch,2018-01-24 17:18:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a04fe03a80933749fff812e9c535c4b3db010793,a04fe03a80933749fff812e9c535c4b3db010793,"Adds test for any_errors_fatal Ansible option

Based on feedback from @trishnaguha, we've determined we need
`any_errors_fatal=yes` in addition to `max_fail_percentage` to ensure
fast fail behavior from Ansible. Tests have been updated, will modify
playbooks subsequently."
msheiny,2018-01-24 15:02:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/392f7ac97a2193cc1ac5cf2cb951f4a41f7e7332,392f7ac97a2193cc1ac5cf2cb951f4a41f7e7332,"Revert ""Remove CI reboot task and re: tests""

This reverts commit 3da5605ae7e11b7ac698b632da21548a43f21394.

Originally needed to try to mitigate shitty AWS issues + trusty kernel
issues. Now solved with the magic of newer kernels :rainbow: :sparkles:"
msheiny,2018-01-24 14:42:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8915e0740caefc4664a509b3f39997c97a090b4,a8915e0740caefc4664a509b3f39997c97a090b4,"Merge pull request #2748 from freedomofpress/ossec-combined-role

Dynamically opens firewall during OSSEC agent registration"
redshiftzero,2018-01-24 02:48:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b4d3ae30dfc40b26a7d39f94128205c958274afb,b4d3ae30dfc40b26a7d39f94128205c958274afb,"Merge pull request #2903 from freedomofpress/replace-pycrypto

Replace PyCrypto"
conorsch,2018-01-24 01:16:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/077002b43bfad7ef3e9fa326ee4af3ad8d4e05e7,077002b43bfad7ef3e9fa326ee4af3ad8d4e05e7,"Removes unused ""upgrade"" playbook

Also removes associated ""upgrade"" role, which was designed for the
migration to SecureDrop 0.3, released on 2015-02-12. These files
have not been used since then, and so should be removed from the
repository.

As a side note, these files were first written, and last touched, by the
late James Dolan. RIP, James. I cannot express what a profound pleasure
it was to work with you. You are missed, dearly."
conorsch,2018-01-24 01:01:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1421b404820901c3d76b0311d9033f1499d759df,1421b404820901c3d76b0311d9033f1499d759df,"Implements max_fail_percentage in all playbooks

The primary concern is for the ""securedrop-prod.yml"" playbook, which is
what Admins use to configure a production SecureDrop instance. In that
playbook, any error encountered during provisioning should cause an
immediate failure, aborting execution and reporting an error message for
review.

If the max_fail_percentage is *not* set to 0, debugging errors becomes
challenging, often involving lots of scrollback to piece together what
specifically went wrong.

In order to provide a sane strategy for testing adherence to this
requirement, we'll test all playbooks (defined as ""YAML file in
ansible-base directory, and not the old prod-specific.yml vars file"")
and ensure the option is set on each and every play. That's a bit
aggressive, but the tests are extremely fast, and will likely pay off
as we bring new contributors into the project who may not be familiar
with this rather esoteric Ansible option."
conorsch,2018-01-24 00:52:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1ebd8a8759a6d7b58a2482747c5a101d83a68aca,1ebd8a8759a6d7b58a2482747c5a101d83a68aca,"Adds Makefile target ""ansible-config-lint""

Target name is intentionally a bit verbose in order to discrimate from
""ansible-lint"", which is a dedicated tool for linting Ansible playbooks
and the roles called therefrom, ensuring adherence to best practices.
That's a separate tool, and one we use elsewhere, whereas the new test
suite being introduced ensures SecureDrop-specific config choices
that we've added in this repository.

Hooked up the new test to the general ""make lint"" target, as well. The
new tests are *fast*, so no concerns with CI delays."
conorsch,2018-01-24 00:21:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/61672a94e9564eab89c4910246449b8b80988f89,61672a94e9564eab89c4910246449b8b80988f89,"Adds test for max_fail_percentage Ansible option

In typical TDD fashion, let's create a failing test and then get it to
pass. The test is currently failing, which is good! We'll want to update
*all* SecureDrop-related playbooks to contain max_fail_percentage=0."
conorsch,2018-01-24 01:56:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4d3e94c8e3a81c3d36b567ef6fa8dabfb3409a02,4d3e94c8e3a81c3d36b567ef6fa8dabfb3409a02,"Reenables OSSEC connectivity config test

Partial reversion of 3da5605ae7, in which several config tests were
intentionally disabled for CI optimization. Now that we've resolved the
unreliable OSSEC registration flow, the strict ""xfail"" on the OSSEC
connectivity test was reporting failure: because it was unexpectedly
passing!

Renabled the OSSEC test, but left the other changes from 3da5605ae7
in place. We'll get to those in their own time."
msheiny,2018-01-23 22:37:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97e1b1a7257474b3aaed847dfa89387a197f07ee,97e1b1a7257474b3aaed847dfa89387a197f07ee,"Clean-up systems with multiple agents

Since the monitor server should only have one agent connected, multiple
agents showing up is a sign of problems. In that scenario, lets force
the re-register and cleanup logic."
msheiny,2018-01-23 21:56:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99a538bec95dbd09875009175baabe7f229a20f9,99a538bec95dbd09875009175baabe7f229a20f9,"Purge existing agents from app + mon

If the agent connection isnt working, lets go ahead and purge all
existing agents from the app and monitor servers prior to
re-registration. This helps shake out a bunch of weird connection issues
that popped up during QA."
msheiny,2018-01-23 21:54:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/963cb6b2555444d742ae210f687c653e8387b208,963cb6b2555444d742ae210f687c653e8387b208,"Make registration detection less stringent

Current logic doesnt always work as intended since a machine's agent
name won't match up exactly if it's been registered multiple times.
Instead, lets just look for the IP address and the `is available`
string."
heartsucker,2018-01-14 16:05:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de73c588429207f76e7aa730f837e57fd8b7cfa6,de73c588429207f76e7aa730f837e57fd8b7cfa6,"init db in $app/__init__.py, replce db_session with db.session"
heartsucker,2018-01-19 11:38:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/40e4c53efe7b130f3ca63ffa639437d8762106fd,40e4c53efe7b130f3ca63ffa639437d8762106fd,added models.py to app armor rules
heartsucker,2018-01-14 15:26:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96425f244d1282ae290fa2d32b0917e7a1bc05dd,96425f244d1282ae290fa2d32b0917e7a1bc05dd,re-added db.by using Flask-SQLAlchemy patterns
heartsucker,2018-01-14 15:20:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e42ff23b56f5243c50fb5465c265a302fe3f4504,e42ff23b56f5243c50fb5465c265a302fe3f4504,"renamed db.py to models.py

This is done to allow us to split the initialization of the DB
connection out of the file the contains the DB models. Flask-SQLAlchemy
requires this."
heartsucker,2018-01-14 15:06:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5fe67b78ac169a777a783eddf9b8c8b1f907ca07,5fe67b78ac169a777a783eddf9b8c8b1f907ca07,added flask-sqlalchemy to requirements files
conorsch,2018-01-09 00:17:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5493923ed3bdc34e809476ae18dc452d3acf1f9b,5493923ed3bdc34e809476ae18dc452d3acf1f9b,"Configure Postfix after OSSEC

The Postfix logic assumes that the ""ossec"" user and group will exist,
and sets logfiles accordingly. Therefore let's make sure that Postfix is
configured *after* OSSEC.

The cleaner approach would be to set a `postfix_user` var and set the
default value to ""ossec"", but rather than add additional logic into our
config to solve an ordering problem, I'd rather focus on making what we
have workand the current change set is focused on resolving the ossec
registration logicand then deferring to community-maintained roles for
common services, e.g. Postfix, which would allow overriding via vars."
msheiny,2017-12-14 21:35:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/345aea49ee351e15123594409cebb5ec3c8a04b0,345aea49ee351e15123594409cebb5ec3c8a04b0,"Add temporary iptables to the top of the chain

Without this explicitly set, ansible will append the iptables to the
bottom of the chain. Since we have some explicit DROP lines at the
bottom of the INPUT chain, this means that the exception gets added
AFTER a DROP line. Meaning... that the line basically never got
evaluated.

This commit resolves that issue by always inserting at the top of the
chain (both INPUT and OUTPUT). There is a following clean-up task that
will remove this afterwards as usual."
msheiny,2017-12-14 21:29:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c012fa8bb6c6186cb91fb2b00e9650655201e07,4c012fa8bb6c6186cb91fb2b00e9650655201e07,"Add fix for iptables OSSEC monitor temporary rules

The previous iptables rules were swapped and caused the port to be
blocked during registration."
conorsch,2017-12-13 20:29:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/77af2f22a8c3b1c2094504a74fc0eed00b3b99ab,77af2f22a8c3b1c2094504a74fc0eed00b3b99ab,"Updates playbooks with new OSSEC role logic

We've consolidated the ""ossec-agent"" and ""ossec-server"" roles into
""ossec"", and excised the postfix logic from the ""ossec-server"" role into
a discrete ""postfix"" role. Playbooks must have these updated
accordingly.

We're nearly at the point where we can standardize on a single playbook
for prod and staging. Onward!"
conorsch,2017-12-13 23:49:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c4a1178da8d4106fd0919c8b2204eeb350c71afd,c4a1178da8d4106fd0919c8b2204eeb350c71afd,"Creates combined ""ossec"" role for both hosts

BEGINS combined ossec role
FIX: begins ossec common role
REMOVES duplicated default ossec vars files
PARITAL: ports ossec-agent tasks to common role
MOVES registration flow into common role
MOVES testing pubkeys for ossec server role
MOVES ossec-server config tasks into common role
MOVES send0encrypted-alarms tempalte
MOVES (and ports) handlers into ossec comon role
FIX MOVES ossec-server-config-tasks

There's a functional change sneakily hiding in here: we had a double
conditional on the SSL key creation tasks, when really we only want to
skip creation if the relevant files exist.

Prunes down the OSSEC-related handlers. We don't really need to fuss
over whether the OSSEC agent or server is restarted: if inter-machine
authentication changed, then we want to bounce *both* services.
Fortunately we can do so by restarting the ""ossec"" service on both
hosts, regardless of whether it's OSSEC server or client."
conorsch,2017-12-13 20:15:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58b29c8af3f035c7416f4c126939342a3a26420e,58b29c8af3f035c7416f4c126939342a3a26420e,"Creates ""ossec-register"" common workflow

In order to support cross-host variable delegation, we'll need the play
to target *both* the Application and Monitor servers. We can then
dynamically open ports on the firewall as necessary in order to support
registration.

Reuses @msheiny's `iptables` Ansible module implementation, which is
remarkably clean. Love the state=absent functionality.

Rather than use `delegate_to`, we target both hosts and use the boolean
vars `ossec_is_server` and `ossec_is_client` (both defaulting to False)
in order to determine which host the task should execute on. For some
tasks, we want both hosts to execute, thus the combined play target.

Uses a rather gnarly hostvars-based retrieval to map a registered var
result across both hosts, ensuring the same value is accessible to both
play hosts, to coordinate the firewall rule management. Left an in-line
comment to guide future maintainers.

Removes most tags because we can better handle tasks at the import task
level now, which was difficult to do before because the logic was so
spaghetti."
conorsch,2017-12-13 20:07:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d1b0c31f560c69b68caf1c35d5484732d66f2eab,d1b0c31f560c69b68caf1c35d5484732d66f2eab,"Ports OSSEC pubkey import to ""become"" pragma

The old logic was written back in the Ansible v1 days, and was never
pretty to look at. As of Ansible v2 we should prefer use of ""become"" and
""become_user"", since the ""sudo"" calls have been deprecated.

Implements a portion of the conversion described in #2742."
conorsch,2017-12-13 19:25:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6aaf88a536633a3c8678b933197de01df0962f00,6aaf88a536633a3c8678b933197de01df0962f00,"Breaks out postfix config into discrete role

Previously we configured both postfix and procmail inside the
""ossec-server"" role, which was essentially shoehorning the config. It's
appropriate to target the ""securedrop_monitor_server"" group with those
config items, but technically there's not literally OSSEC server, but
rather a separate service that deserves its own configuration logic.

Tidies up some of the vars. We've documented use of the
`ossec_from_address` publicly, so we can't simply drop reference to it.
Since the associated logic now resides in the ""postfix"" role, it should
be prefixed with the `postfix_` namespace. That's done, old values of
`ossec_from_address` set at the site level, if set, will be honored."
msheiny,2017-12-13 18:23:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/41d9ddf499d2eb00aef4e0943dc96280900e8acc,41d9ddf499d2eb00aef4e0943dc96280900e8acc,"Partial implementation of OSSEC iptables fix

WIP committed by @msheiny during collaboration. Branch adopted by
@conorsch for tackling #2478."
heartsucker,2018-01-21 20:29:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8df77ae692876f07a7cce27679a4d5339f6a029f,8df77ae692876f07a7cce27679a4d5339f6a029f,app: fix flake8 errors found by 3.5.0 which is better than 3.3.0
heartsucker,2018-01-21 20:57:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e0f18d37c1e2aac2bdbaf68e10ea0f8f2b30d800,e0f18d37c1e2aac2bdbaf68e10ea0f8f2b30d800,"Merge pull request #2909 from freedomofpress/docs-wip-dachary-docs-easy

docs: add link easy / low-hanging fruit for technical writers"
heartsucker,2018-01-21 19:11:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/29be568c0472bafd3ce84c7510d18fe6f6d0c513,29be568c0472bafd3ce84c7510d18fe6f6d0c513,remove executable bit on images
heartsucker,2018-01-21 19:09:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aab2403d2bda5729e21c950186d03624d44fcf60,aab2403d2bda5729e21c950186d03624d44fcf60,made makefile self documenting
heartsucker,2018-01-20 13:29:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca0899201f2fac165a17f79761c423c40f0c91ac,ca0899201f2fac165a17f79761c423c40f0c91ac,require both boto and boto3 to make molecule happy
heartsucker,2018-01-19 16:31:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d4cd4ac7559ab1b8bbcc9aa5b8d791c63c433d5,0d4cd4ac7559ab1b8bbcc9aa5b8d791c63c433d5,remove vestigial reference to testinfra/requirements.txt
heartsucker,2018-01-19 22:06:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6405c039b0e47fcdb38882837ef876f9bf432a23,6405c039b0e47fcdb38882837ef876f9bf432a23,standardize molecule variables
heartsucker,2018-01-19 22:35:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0cd695b80eb9faa6dad44bcddf242357f008423a,0cd695b80eb9faa6dad44bcddf242357f008423a,added securedrop-adminc to .gitignore
redshiftzero,2018-01-19 23:11:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b0fbca2732a6965aa058a8fc3e31601db6d42308,b0fbca2732a6965aa058a8fc3e31601db6d42308,"Merge pull request #2861 from tmc/dev-shell

dev: move to bash script"
redshiftzero,2018-01-19 22:44:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa290d5d3778f7c2809c33f9a64a147c6d475805,aa290d5d3778f7c2809c33f9a64a147c6d475805,"Merge pull request #2900 from freedomofpress/merge-0.5.1-into-develop

Bring final 0.5.1 release changes into develop"
redshiftzero,2018-01-19 22:44:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be4b30e77ff3c3bc2227aab27ee377056c62bbcd,be4b30e77ff3c3bc2227aab27ee377056c62bbcd,"Merge pull request #2901 from freedomofpress/update-circleci-badge

add circleci badge to readme"
tmc,2018-01-13 23:15:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a2bad66dde5fb92cf1956ff01e5d19b50993451,1a2bad66dde5fb92cf1956ff01e5d19b50993451,"dev-shell: move to bash script

this makes it easier to supply arguments"
redshiftzero,2018-01-19 20:07:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81f4c90530d53f21e5dd6a69f239f3f5bac36d93,81f4c90530d53f21e5dd6a69f239f3f5bac36d93,Replace aging PyCrypto library with PyCryptodome
redshiftzero,2018-01-19 19:29:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e9f80136c561fbbeec121c7c80eb6f2b321d5fb,7e9f80136c561fbbeec121c7c80eb6f2b321d5fb,Merge branch 'release/0.5.1' into merge-0.5.1-into-develop
redshiftzero,2018-01-19 18:31:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8fc1f93651b7516fd8d16a41724ae3282018c68,a8fc1f93651b7516fd8d16a41724ae3282018c68,"Merge pull request #2780 from tmc/spellcheck

pylintrc: enable spell checking"
redshiftzero,2018-01-19 18:10:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00a0f2326bb66ab70f033430449f7958b97d75cd,00a0f2326bb66ab70f033430449f7958b97d75cd,"Readme: Remove Travis badge, add CircleCI badge"
redshiftzero,2018-01-19 17:39:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/812dda303709abc9b120e8c4ee054d312679cd95,812dda303709abc9b120e8c4ee054d312679cd95,"Merge pull request #2869 from freedomofpress/wip-dachary-2868-sqlite

db: enable vacuum and secure delete"
redshiftzero,2018-01-19 16:51:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/468ef12763a7d1b39981c035537a3c9dfa3e9b97,468ef12763a7d1b39981c035537a3c9dfa3e9b97,"Merge pull request #2880 from freedomofpress/wip-dachary-i18n-permission-elevation

i18n: document translation administrators"
redshiftzero,2018-01-19 16:50:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/532a9437337dfd0d49088565c8a8992f38b26a0d,532a9437337dfd0d49088565c8a8992f38b26a0d,"Merge pull request #2894 from freedomofpress/wip-dachary-ansible-missing-new-languages

i18n: add new languages securedrop-confiure.yml"
tmc,2017-12-31 03:24:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/530cadf266adb5a2c0f063cf67abb86cfff631d9,530cadf266adb5a2c0f063cf67abb86cfff631d9,pylintrc: enable spell checking
trankmichael,2018-01-16 19:43:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a183284af3f0f3c057ee648e113591f1ae6a3007,a183284af3f0f3c057ee648e113591f1ae6a3007,"ux fix for issue #2878 improving flashed messages for logo uploads

flashed error messages and added success category

removed non-flashed errors from template

squashed commits in ux fix for #2878

wrapped flashed messages in a block in the base template to allow for overriding

overrode flashed block to remove messages at the top

moved flashed messages to under the button

changed test based on new 'success' flashed message type

make new logo flash message categories, exclude the logo categories in flashed.html, revert base.html and config.html back to match develop

added new logo upload flashing template

updated logo upload tests to match other flash message tests with assertMessageFlashed()

fix flake8 warnings"
redshiftzero,2018-01-19 01:47:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/958b6bf7343a1510d4bd5c4cdc9f26888e27c394,958b6bf7343a1510d4bd5c4cdc9f26888e27c394,"Merge pull request #2873 from vaibssingh/patch-1

Update apt_repo.rst"
redshiftzero,2018-01-18 23:27:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a7c19fc06b70c16c227a887478bc1dc60dc5ae5,7a7c19fc06b70c16c227a887478bc1dc60dc5ae5,Docs: Encourage journalists and admins to provide feedback
redshiftzero,2018-01-18 21:43:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b222515261569b77f87ee19da767626c12aee676,b222515261569b77f87ee19da767626c12aee676,"Merge pull request #2891 from SaptakS/feature/responsive

Feature/responsive"
SaptakS,2018-01-18 12:08:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5fa063fc1085c9a496e6e67cb9a4a65abc1d7f72,5fa063fc1085c9a496e6e67cb9a4a65abc1d7f72,"Responsive: Used Flexbox for panel and header

Panel selected was wrapping weirdly in some width, so
I changed the code to make it use flex for screen above 768px.
This problem was there in all the websites using panel and
header.

Signed-off-by: Saptak Sengupta <saptak013@gmail.com>"
SaptakS,2018-01-18 11:50:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d6c30c8d911a7d9af8e1cddb5363fa8cd9855019,d6c30c8d911a7d9af8e1cddb5363fa8cd9855019,"Responsive: Containerize file upload form section

Make the width for attachment and message in percentage
instead of pixels.

Signed-off-by: Saptak Sengupta <saptak013@gmail.com>"
redshiftzero,2018-01-18 00:46:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0bd3a97ddfd6afff023289a1845291a651904690,0bd3a97ddfd6afff023289a1845291a651904690,"Merge pull request #2796 from freedomofpress/byebye-travis-ci

Ditch Travis CI in favor of Circle CI"
msheiny,2018-01-17 20:49:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd608b87c39b25f998196d907218cda417dfaeb5,cd608b87c39b25f998196d907218cda417dfaeb5,"Merge pull request #2886 from freedomofpress/use-xenial-gettext

Use Xenial to install gettext 0.19.*"
msheiny,2018-01-17 18:52:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/565b20b94b373933d47c211e0931b2ac0a025777,565b20b94b373933d47c211e0931b2ac0a025777,"CI - Temporarily skip junit for test script calls

This is failing on the parsing script in CI. Needs to be investigated
and tweaked further before re-introduction."
redshiftzero,2018-01-08 19:20:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e3e41701db1f5ff6d61f61b70de5fc7dd0a3950,3e3e41701db1f5ff6d61f61b70de5fc7dd0a3950,Fix syntax on application tests pytest command
msheiny,2018-01-06 00:49:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f7ee43f33b350b4ba672aa3ae4e2d067fe820195,f7ee43f33b350b4ba672aa3ae4e2d067fe820195,"CI - Potential fix for Circle to parse errors

I suspect that circleci wants an <error> tag instead of a <failure> one
to properly register a test as failing in the UI. We shall see."
msheiny,2018-01-06 00:48:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5e17d181502cd0c7dacb3a3b872548be59d9e6b6,5e17d181502cd0c7dacb3a3b872548be59d9e6b6,"CI - also dump raw artifacts in test-with-rebase

forgot about this scenario in my previous commit :|"
msheiny,2018-01-05 23:36:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39f2d827beb1a6b48b5c842eee2a0fbaebcc7040,39f2d827beb1a6b48b5c842eee2a0fbaebcc7040,"CI - Add app/testinfra results into combinedf junit

In english, this should make it much simpler for a developer to get
status in CircleCI when either the testinfra or application tests fail
at an execution level. Previously this data was hard to parse and/or
required manually reading thru an artifact.

Fixes #2800"
msheiny,2018-01-05 22:18:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d50519f238cf7bdff18ecfa0ee83b2b0cb2e319b,d50519f238cf7bdff18ecfa0ee83b2b0cb2e319b,"Dump raw application and testinfra output in CI

Ensure developers are able to access raw test runner results for
debugging."
msheiny,2018-01-05 22:16:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/323d93278b63eb39ddc47dac3018ac978eb58b5e,323d93278b63eb39ddc47dac3018ac978eb58b5e,"CI - Break-out test XML cleanup/merge from script

Currently the cleanup and merging (combining app and testinfra results)
of junit files is attached to the testinfra runner script. This is
problematic because if the testinfra process dies unexpectedly, we wont
have any results from the app tests as well."
redshiftzero,2018-01-05 00:17:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27eeb61f4b7c09f5311f26e6ed8564c06edb61d9,27eeb61f4b7c09f5311f26e6ed8564c06edb61d9,Docs: Remove Travis CI from developer documentation.
redshiftzero,2018-01-04 23:35:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd485939c869fc845e5971795656a6fba122c943,bd485939c869fc845e5971795656a6fba122c943,Remove Travis CI and run pages-layout tests on Circle CI
redshiftzero,2018-01-17 19:18:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/985146e245d37b613e13d94843ef2abb58864b3d,985146e245d37b613e13d94843ef2abb58864b3d,"Use Xenial to install gettext 0.19.*

The gettext 0.19.* has a lot of useful features compared to gettext 0.18.*,
including support for .desktop files. Previously we used Zesty to install
gettext 0.19.*, but it is now EOL. Instead, we can install Xenial to install
a modern gettext."
msheiny,2018-01-17 18:45:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e958e2165e1262839bcf0ae1217847a1f0851601,e958e2165e1262839bcf0ae1217847a1f0851601,REVERTME -- Temporary testing region in branch
msheiny,2018-01-17 17:32:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c36000e052abd774f756abadbc76902ca445a758,c36000e052abd774f756abadbc76902ca445a758,CI - Do not skip ec2 tear-down if keypair rm dies
msheiny,2018-01-17 16:05:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ecddcf294f997b1d641f714a8606f0f674b38d7,5ecddcf294f997b1d641f714a8606f0f674b38d7,"Remove regular staging-test in bid to keep complexity down

This is a hot fix to reduce the number of AWS calls we are making per CI
run. Specfically, we have started seeing issues with rate-limiting
against the `CreateKeyPair` that need to be mitigated. Really a longer
term goal is to rethink how/when we want to run the staging full VM
tests in CI. Shorter term we can also analyze how we create SSH keys -
maybe we take the same key and shove it in circleci?"
redshiftzero,2018-01-16 19:13:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9aa70048d56b9739c92dba4451df14463737fb89,9aa70048d56b9739c92dba4451df14463737fb89,SecureDrop 0.5.1
redshiftzero,2018-01-16 02:21:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/44a4d193705e9538782403422b070e405f51491f,44a4d193705e9538782403422b070e405f51491f,SecureDrop 0.5.1-rc5
redshiftzero,2018-01-15 23:34:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff1f6ca0bd2638705e9d7963bc054fc53c231204,ff1f6ca0bd2638705e9d7963bc054fc53c231204,"Merge pull request #2874 from freedomofpress/wip-dachary-0.5.1-i18n-3

[0.5.1] l10n: sync de_DE es_ES fr_FR nb_NO nl pt_BR zh_Hant tr it_IT ar translations"
redshiftzero,2018-01-15 17:47:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f378b95a08296426259071bf373c1b929749bcb,3f378b95a08296426259071bf373c1b929749bcb,"Merge pull request #2870 from pierwill/docs-edit-landing-page-guide

Edits to landing page docs"
redshiftzero,2018-01-15 17:15:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8430967fe370ea9082d038aa8944e5cc02267700,8430967fe370ea9082d038aa8944e5cc02267700,"Merge pull request #2871 from freedomofpress/wip-dachary-01-14-0.5.1

merge back 0.5.1 into develop 2018-01-14"
vaibssingh,2018-01-15 10:02:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c51542d7ee4d6dc5be54b2fca1d1bcd5b2339c96,c51542d7ee4d6dc5be54b2fca1d1bcd5b2339c96,"Update apt_repo.rst

Replaced https://github.com/freedomofpress/ossec with https://github.com/ossec/ossec-hids"
pierwill,2018-01-15 01:24:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f4123096807d4b2b252ae464ce5cd062a5a69ff,6f4123096807d4b2b252ae464ce5cd062a5a69ff,"Various typo, style, and other fixes to landing page docs

Removed broken/outdated link from landing page docs"
redshiftzero,2018-01-14 17:18:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c84e8f1c9e927abe674816591d80a2f4c444553,7c84e8f1c9e927abe674816591d80a2f4c444553,SecureDrop 0.5.1-rc4
redshiftzero,2018-01-13 23:27:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17e8c2a921b056fc8fb8c8d924ec1054064587d8,17e8c2a921b056fc8fb8c8d924ec1054064587d8,"Merge pull request #2854 from freedomofpress/wip-dachary-0.5.1-2853-custom-logo

[0.5.1] app: always chmod u+w the logo in postinst"
tmc,2018-01-13 22:56:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fdf46b1ca0ab7637d1c89c54525dc28d1c5dd86a,fdf46b1ca0ab7637d1c89c54525dc28d1c5dd86a,"Dockerfile: bump base ubuntu image to latest

Fixes #2859."
tmc,2018-01-13 22:46:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d40f0a93c57551a92fe11e20230ff7738084fd3,8d40f0a93c57551a92fe11e20230ff7738084fd3,"Dockerfile: add x11vnc

Fixes #2857"
tmc,2018-01-13 22:41:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1bb0a9d433b975d39ab361a5af04727ffdef5101,1bb0a9d433b975d39ab361a5af04727ffdef5101,"bin/test: allow running tests outside of ci

Fixes #2855"
redshiftzero,2018-01-13 21:07:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a5ef14c57e3d769554981549a17a9b501e36009,7a5ef14c57e3d769554981549a17a9b501e36009,"Merge pull request #2852 from freedomofpress/wip-dachary-0.5.1-i18n-2

[0.5.1] l10n: sync de_DE es_ES fr_FR nb_NO nl pt_BR zh_Hant tr it_IT translations"
redshiftzero,2018-01-13 01:09:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cee40666686a4608a445a0b46c6674456f77456a,cee40666686a4608a445a0b46c6674456f77456a,User guides: Update screenshots for SecureDrop 0.5.1
redshiftzero,2018-01-13 00:09:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ac3c91089753fc11a35b3b8ec53a83111258584,5ac3c91089753fc11a35b3b8ec53a83111258584,"Use absolute filename in autoversion Jinja2 filter

Otherwise the path of filename[1:] will be incorrect - for
example the relative path 'static/i/logo.png' will produce a
file not found in staging/prod. This worked in the
development environment only because the dev server runs
in the same directory as the 'static' directory."
redshiftzero,2018-01-12 21:55:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7cfb62d3cbc50a3e3ae431f367e1ad30763338aa,7cfb62d3cbc50a3e3ae431f367e1ad30763338aa,SecureDrop 0.5.1-rc3
redshiftzero,2018-01-12 21:08:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2d0bf694d36b466ebba4203863203f0b1ccd7e60,2d0bf694d36b466ebba4203863203f0b1ccd7e60,"Merge pull request #2838 from freedomofpress/fix_ossec_agent_started_on_boot

[0.5.1] Fix error in alert ID for ossec agent start alert"
redshiftzero,2018-01-12 17:50:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e3530d1e5b68141b3bc404cc977891dbbef44f40,e3530d1e5b68141b3bc404cc977891dbbef44f40,"Merge pull request #2843 from freedomofpress/wip-dachary-0.5.1-key-generate-timeout

tests: wait up to 60 seconds to generate a GPG key"
redshiftzero,2018-01-12 16:22:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/35d6afe691dc44ef5f48124c18ea037bc44b82a7,35d6afe691dc44ef5f48124c18ea037bc44b82a7,"Merge pull request #2842 from freedomofpress/wip-dachary-01-12-0.5.1

merge back 0.5.1 into develop 2018-01-12"
emkll,2018-01-11 15:45:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e37133ae50c9ea933599dcdd02d29e6f1f927de7,e37133ae50c9ea933599dcdd02d29e6f1f927de7,Fix error in alert ID for ossec agent start alert. Changed test case as it matched 501 instead of 503 (and thus the source of confusion?)
redshiftzero,2018-01-11 21:27:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/683aec2e0b0b5c29a9a315c836b787829d1c316a,683aec2e0b0b5c29a9a315c836b787829d1c316a,SecureDrop 0.5.1-rc2
redshiftzero,2018-01-11 20:37:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17bbe7427b27897d1682cca02365fe1c01535d5d,17bbe7427b27897d1682cca02365fe1c01535d5d,"Merge pull request #2834 from freedomofpress/wip-dachary-0.5.1-update-doc-images

[0.5.1] docs: create files needed to capture screenshots"
redshiftzero,2018-01-11 20:36:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f6812b11b28bf83ee205f6a25ac92ed405edc687,f6812b11b28bf83ee205f6a25ac92ed405edc687,"Merge pull request #2830 from freedomofpress/wip-dachary-0.5.1-i18n

[0.5.1] l10n: sync de_DE es_ES fr_FR nb_NO nl pt_BR zh_Hant translations"
pierwill,2018-01-11 18:57:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/702bb0b14ebe5a12b775e9e792f311435746a525,702bb0b14ebe5a12b775e9e792f311435746a525,"Italicize ""Landing Page"" throughout docs"
pierwill,2018-01-11 18:40:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aaae5327ed0dc77ab665454fec01a70b9a733674,aaae5327ed0dc77ab665454fec01a70b9a733674,Add Landing Page to terminology
redshiftzero,2018-01-11 18:36:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b203478529f80835528f355ddcc18999d0da3d8,5b203478529f80835528f355ddcc18999d0da3d8,"Merge pull request #2837 from freedomofpress/wip-dachary-0.5.1-tests-key-generate

[0.5.1] tests: wait for source key generation in functional tests"
emkll,2018-01-11 18:32:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c333dfbd370927dd55f8503aaf2f2f0bcf93b5ec,c333dfbd370927dd55f8503aaf2f2f0bcf93b5ec,Added write to apache2 apparmor profile for logo.png
redshiftzero,2018-01-11 18:22:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f1eec2e44f4113f53205fd4723bb5013c67431b,2f1eec2e44f4113f53205fd4723bb5013c67431b,"Merge pull request #2831 from freedomofpress/wip-dachary-01-11-0.5.1

merge back 0.5.1 into develop 2018-01-11"
redshiftzero,2018-01-11 02:53:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/42c0c10b92da08b0e9c037bbc8b094115cb51822,42c0c10b92da08b0e9c037bbc8b094115cb51822,Journalist interface: Add missing AppArmor rule for config.html
pierwill,2018-01-10 22:20:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90d69a639f08de41b00408a140a459987a037c75,90d69a639f08de41b00408a140a459987a037c75,Add note on docker environment for Qubes users
redshiftzero,2018-01-10 17:59:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fccd8e6b6956772347b783ceb96a12a56e97cd8e,fccd8e6b6956772347b783ceb96a12a56e97cd8e,"Merge pull request #2805 from freedomofpress/wip-dachary-dockerignore

tests: no need to remove *.pyc before docker build"
redshiftzero,2018-01-10 17:58:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b49f92cba1ddbc3611fdf57660db3cc1abafaef3,b49f92cba1ddbc3611fdf57660db3cc1abafaef3,"Merge pull request #2821 from pierwill/docs-edit-deployment-overview

Edits to deployment docs"
redshiftzero,2018-01-10 17:32:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58784cceb79d469b4c83b939a23f7c8f03905705,58784cceb79d469b4c83b939a23f7c8f03905705,"Make test OSSEC string concise

Thanks to @Kwadronaut for the suggestion:

https://weblate.securedrop.club/translate/securedrop/securedrop/nl/?checksum=c12835e994adf62a#comments"
redshiftzero,2018-01-10 17:21:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d1fee42cd931d8f194a9726ce37ea9007ae8b2f,6d1fee42cd931d8f194a9726ce37ea9007ae8b2f,"Merge pull request #2823 from freedomofpress/wip-dachary-wording-tracking

source: no need to be so specific about tracking"
pierwill,2018-01-10 01:54:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a5d3e21610ad546e4182c08ba01d61dd3057760,8a5d3e21610ad546e4182c08ba01d61dd3057760,"Edits to deployment docs

Edited overview, moved info on landing pages to landing_page.rst"
heartsucker,2018-01-10 10:31:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7163151efeb49c6c22c5d27f5bcc007a75e2b396,7163151efeb49c6c22c5d27f5bcc007a75e2b396,merge run command to fix caching issues
redshiftzero,2018-01-09 22:46:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/51ada1d159971c7adb48b1960031d56d8c3b3d8d,51ada1d159971c7adb48b1960031d56d8c3b3d8d,SecureDrop 0.5.1-rc1
redshiftzero,2018-01-09 21:48:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba3db818e27b4abb16769468b49dc88304a2d3b6,ba3db818e27b4abb16769468b49dc88304a2d3b6,"Merge pull request #2815 from freedomofpress/stopgap-validate-smtp-host

Stopgap for #2760: ignore errors on host checks in validate role"
redshiftzero,2018-01-09 20:28:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5e837200f28a8c09156f0689cdedd6f1a92c1053,5e837200f28a8c09156f0689cdedd6f1a92c1053,"Merge pull request #2817 from freedomofpress/wip-dachary-missing-gettext

i18n: add missing gettext around flash text"
redshiftzero,2018-01-09 20:28:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/374df8e8328f58a0801a40f7ad41114a33bb6272,374df8e8328f58a0801a40f7ad41114a33bb6272,"Merge pull request #2814 from freedomofpress/sass_remove_map_files

Disable .map file generation when compiling css files from sass"
msheiny,2018-01-09 19:58:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c54d517efa2aa22b7ff34b6f5903c9e6918e7a2,7c54d517efa2aa22b7ff34b6f5903c9e6918e7a2,"Remove references to DNS validation in ossec checks

Since we have git history, it seems cleaner to just eliminate these
entire sections for now. When we have a stable python replacement (see
upcoming #2758) I advocate changing our testing strategy completely to
something more like --> #2816"
redshiftzero,2018-01-09 19:35:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/65244bfa4da66002b5b18f1688dd145259a79f47,65244bfa4da66002b5b18f1688dd145259a79f47,Stopgap for #2760: ignore errors on host checks in validate role
emkll,2018-01-09 18:26:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4bd6533c5f4f03f8befcab4faa9c642aa4f2a49a,4bd6533c5f4f03f8befcab4faa9c642aa4f2a49a,Disable .map file generation when compiling css files from sass
redshiftzero,2018-01-09 18:22:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa1162d15c69f32407998c4b5801585bb0d456f1,fa1162d15c69f32407998c4b5801585bb0d456f1,"Merge pull request #2812 from freedomofpress/wip-dachary-nggettext

i18n: move format() outside of ngettext"
redshiftzero,2018-01-09 18:08:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/61c93a354bfdb3394260cfdd6d959550b2b98e1b,61c93a354bfdb3394260cfdd6d959550b2b98e1b,"Merge pull request #2811 from freedomofpress/pip-deps-update-051

[0.5.1] Update pip requirements"
redshiftzero,2018-01-09 01:06:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c484401311460569e451d5706dc0041a09017790,c484401311460569e451d5706dc0041a09017790,"Pin Werkzeug to 0.12.2

I'm seeing unusual test failures when using Werkzeug 0.14.1, including:

tests/test_integration.py::TestIntegration::test_reply_normal
tests/test_integration.py::TestIntegration::test_delete_collection
tests/test_integration.py::TestIntegration::test_delete_collections
tests/test_integration.py::TestIntegration::test_filenames_delete
tests/test_integration.py::TestIntegration::test_submit_message
tests/test_integration.py::TestIntegration::test_unicode_reply_with_ansi_env

I'm pinning to the version we are currently using (0.12.2) for 0.5.1.
Also doing this in test requirements to prevent divergence between dev and
test environments."
redshiftzero,2018-01-09 01:19:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/63cdc1cc1a8cb99ca66f10f1451d752f3f6a297d,63cdc1cc1a8cb99ca66f10f1451d752f3f6a297d,"Merge pull request #2806 from freedomofpress/wip-dachary-contributing

add CONTRIBUTING.md so GitHub shows it prominently to new contributors"
redshiftzero,2018-01-08 21:44:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/226d71ccecd59b560cd9c779c2c4de530bc4f50e,226d71ccecd59b560cd9c779c2c4de530bc4f50e,"Journalist unit tests: Fix broken test and make less fragile

The error message here changed, making it less fragile by just looking
for a subset of the error output"
redshiftzero,2018-01-08 21:44:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a94b34d884f0207c4619f2d96150f48ee5db4060,a94b34d884f0207c4619f2d96150f48ee5db4060,Update Python server dependencies for 0.5.1
redshiftzero,2018-01-08 21:42:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/69939f3dbc969b50ffc726a97db0b45ee4e4b274,69939f3dbc969b50ffc726a97db0b45ee4e4b274,Update test requirements
redshiftzero,2018-01-08 19:37:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e6c78b5664596fa6811139d6e7a0439b87789ef,6e6c78b5664596fa6811139d6e7a0439b87789ef,"Rename SecureDrop server requirements to be explicit

This file is renamed from securedrop-requirements to
securedrop-app-code-requirements for the sake of being explicit as
discussed in:

https://github.com/freedomofpress/securedrop/pull/2529/files#r149829927"
singuliere,2018-01-07 13:31:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9a828dee33fa29414c0dd4ce5919a11ed2f9b7f1,9a828dee33fa29414c0dd4ce5919a11ed2f9b7f1,journalist: the admin cannot delete itself
redshiftzero,2018-01-05 19:52:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6b3665280ae2022f187853cb8c33f9019fad5afa,6b3665280ae2022f187853cb8c33f9019fad5afa,Journalist interface: Add missing singular form on num docs/messages
msheiny,2018-01-05 19:45:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a694064d45cfb2ab05834699e7aa5b77ce2b499,4a694064d45cfb2ab05834699e7aa5b77ce2b499,"Merge pull request #2537 from freedomofpress/ExtendTorURL

Tweaks for Tor nightly package testing"
msheiny,2017-11-28 17:11:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5223f41e84580e9a3f8aaefc98ec94cea83b1b4,e5223f41e84580e9a3f8aaefc98ec94cea83b1b4,"Remove dangling apptestclient reference

This logic has been removed to the `verify` step. Thats not currently
run because its flaky and had to be commented out."
msheiny,2017-11-27 14:25:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a2f9be7dfd633341b5fa0ba4a6a2049701df401,4a2f9be7dfd633341b5fa0ba4a6a2049701df401,"Swap jenkins tor job to track develop instead

ExtendTorURL - was needed during PR testing."
msheiny,2017-11-07 16:05:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/265d7ec3b8a3570876928ba829a0b61f81e2c4d6,265d7ec3b8a3570876928ba829a0b61f81e2c4d6,Address shell-check failures
msheiny,2017-11-07 13:49:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec075fd43131d4e824a67f7de311fe081d3caba3,ec075fd43131d4e824a67f7de311fe081d3caba3,"Add jenkins pipeline configuration to repo

We could either keep this logic in Jenkins or keep it in-line with the
securedrop repository. I choose the latter though it may be a bit more
annoying to debug, we get all the historical git benefits that jenkins
lacks."
msheiny,2017-11-07 02:47:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/83567578663f78d3b4b28d6ee02d604e2b98b737,83567578663f78d3b4b28d6ee02d604e2b98b737,"Move tor version extraction logic into tor role

Was having issues in CI getting the version extraction to work against
nightly tor packages when placed outside the tor restart handler. Why?
Because if the nightly package is unstable and tor crashes on boot then
the whole playbook dies and can cause issues for subsequent playbooks
running."
msheiny,2017-11-04 04:30:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e5039b697962c0dd94a13de10bc272e52e7f27c,1e5039b697962c0dd94a13de10bc272e52e7f27c,"Remove legacy reference to ansible action_plugins

This was left around when we forked the synchronize module but since
that has been removed, lets remove the molecule reference as well."
msheiny,2017-11-04 04:29:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b718297d8c13b7bb3d0e74f35b25c32f84eb3ca,1b718297d8c13b7bb3d0e74f35b25c32f84eb3ca,"Add suplemental playbooks and scripts for Jenkins CI

These are helper script to assist with scrapin tor versions from
servers, blasting slack announcements, and setting up the virtualenv."
msheiny,2017-11-04 04:26:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f4dc08ca7cebd2348e8a9dec73965427aea81b97,f4dc08ca7cebd2348e8a9dec73965427aea81b97,"Merge tor functional test into molecule scenario

Makes it a little bit easier to track and manage. Slowly chipping away
at the ugly test.py beast :shudder:"
msheiny,2017-11-03 21:03:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ad27d647bd5162df8f8c692625ecdd054ac4b4b3,ad27d647bd5162df8f8c692625ecdd054ac4b4b3,Detect when running in jenkins and use local hostnames
msheiny,2017-11-03 19:50:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c1e8fd4273f93d54f6cd027339e99c31f87088af,c1e8fd4273f93d54f6cd027339e99c31f87088af,Squash noisy testinfra deprecations warnings in func tests
msheiny,2017-11-03 17:47:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5367c619213397badb4fc1f0d96dc8dcc97b4235,5367c619213397badb4fc1f0d96dc8dcc97b4235,"Allow over-ride of ec2 profile instance via env. var

Previous hard-coded setting caused issues when trying to change
environments."
msheiny,2017-11-02 04:14:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2182431d9b33babb409e97783d927f984272b2f9,2182431d9b33babb409e97783d927f984272b2f9,Add boto3 to CI requirement list
msheiny,2017-11-02 03:44:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/beed7ab3a4ef8dfa5ef30f42e658c02eecf8c254,beed7ab3a4ef8dfa5ef30f42e658c02eecf8c254,"Optional - CI utilize private IP for comms

Still defaults to utilizing the public IP but in certain scenarios (like
an enclosed VPC), lets allow over-ride to reference the private IP for
all provisioning/testing."
msheiny,2017-11-02 03:37:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c086d5565445552e52ebd95b80fe1d07ec46b408,c086d5565445552e52ebd95b80fe1d07ec46b408,"Move to dynamic discover of AWS VPC details

Removes need to supply VPC_ID environent variable when testing locally
with SD CI AWS credentials. In other scenarios, can utilize
environment variables to pass relevant VPC,SG,Subnet human names as
opposed to using the easy to forget id names."
msheiny,2017-10-27 20:54:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/52e9390d88062e9442b18a7793e6696a36f5b9c3,52e9390d88062e9442b18a7793e6696a36f5b9c3,Remove XFAIL on functional tor test
toast,2018-01-05 03:01:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0d50509822d1035624fc2fcada808f52e294e43,a0d50509822d1035624fc2fcada808f52e294e43,"Refactor base; extract 8 modules:

- label
- em-light-gray-emphasised-text
- qr-code-container
- shared-secret
- users-table
- regenerate-codename-button
- footer
- form-validation-error"
toast,2018-01-05 02:48:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cfdd2e8c8d2a2bf011158b75ef6784cc2af79506,cfdd2e8c8d2a2bf011158b75ef6784cc2af79506,"Refactor base; extract 7 modules:

- grid-item
- option
- logo
- submissions
- submission
- list-plain-and-starred
- logout"
toast,2018-01-05 02:42:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09cc3f18076c660d6fe8b686a99c1e0012a4454f,09cc3f18076c660d6fe8b686a99c1e0012a4454f,"Refactor base; extracted 2 modules:

- select-container
- document-actions-button"
toast,2018-01-05 02:34:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f172c8298014dab66c4e4037d1f2c4547193c7f,3f172c8298014dab66c4e4037d1f2c4547193c7f,"Refactor base; split aside, flash, banner-warning:

- Split combined selector .aside, .flash, .banner-warning into separate modules files
- Add the rules that were under other selectors in base for those same modules into the flattened module files"
toast,2018-01-05 02:22:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a84176ada1cd4a36c82b9cdd2ff342ca16c4e7da,a84176ada1cd4a36c82b9cdd2ff342ca16c4e7da,Move error color variables to variables.sass
toast,2018-01-05 02:20:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/127e200405e6c0ec1e596e2f995a87f4e7aa3886,127e200405e6c0ec1e596e2f995a87f4e7aa3886,"Refactor base; extract 8 modules:

- confirm-prompt
- serious-text
- code
- snippet
- hr-horizontal-rule-line
- clearfix
- center-text-align
- button-centering"
toast,2018-01-05 02:14:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa3d05a2bfcc2798250d70dfdf946e33ae71766c,aa3d05a2bfcc2798250d70dfdf946e33ae71766c,"Refactoring base; extracted 7 modules:

- sd-button
- select
- pull
- header
- cols
- panel
- warning"
toast,2018-01-05 02:06:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/108ef7011d140fae8f88c1831f61830a98e46447,108ef7011d140fae8f88c1831f61830a98e46447,"Refactor base; extract 5 modules (no reorder):

- main-content-area
- codename-and-password
- document-actions
- doc-check
- text-link"
toast,2018-01-05 02:00:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f187d78c38734c9eb699861b0b22175858aeb011,f187d78c38734c9eb699861b0b22175858aeb011,"Refactor base; extract link and headline:

- Extract both to modules/
- Move link import up next to button in base; proximity=similarity (they are both types of 'call to action')"
toast,2018-01-05 01:48:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/22c511acee260fd371179e6555193b69a9d8709c,22c511acee260fd371179e6555193b69a9d8709c,"Refactor base - include global/ and reorder:

- Added global/ folder for base tags that modules rely on having been imported already to work
- Moved libraries further up in the import order particularly normalize needs to be imported early
- Modules imports come later because they rely on variables, normalize, and global"
toast,2018-01-05 01:30:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d14ccec26afd30bcd1ebcae48b11adc968c33f05,d14ccec26afd30bcd1ebcae48b11adc968c33f05,"Rename/move files imported in base.sass:

- Introduce libraries/ folder and modules/ folder and add them to ./rsync-filter
- Rename font-awesome to indicate it is purely for iconography and move it to libraries/
- Rename +font-rules mixin call in base to match filename (font-awesome-iconography)
- Move normalize to libraries/
- Rename button-rules to just be button and move it to modules/ folder
- Import for variables.sass is now only at the start of base (it was imported in a few different places previously)"
redshiftzero,2018-01-04 23:04:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17cdc93c6d0dfe109712f8e65ba197a312d77abe,17cdc93c6d0dfe109712f8e65ba197a312d77abe,"Merge pull request #2771 from freedomofpress/admin-test-ossec-button

Enable admin to send test OSSEC alert via the admin interface"
redshiftzero,2018-01-04 01:38:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/893bebb053fa18d79526b9a52889501fbdcb6752,893bebb053fa18d79526b9a52889501fbdcb6752,"Merge pull request #2564 from freedomofpress/more-useful-output-sdadmin

More useful debugging output in securedrop-admin"
redshiftzero,2017-11-11 00:09:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/31893a3a3089b6ca6a0ff52f8c89725e165dec6d,31893a3a3089b6ca6a0ff52f8c89725e165dec6d,"securedrop-admin: Print debug messages if -v is set

For subprocess.CalledProcessError messages"
redshiftzero,2017-11-10 23:59:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2465f010926d48e76349498372354ef5567f361a,2465f010926d48e76349498372354ef5567f361a,"securedrop-admin: Print output when failures occur

If a failure occurs in this script, we are going to want to ask
for logs, so we need to either

1. Log output to a file
2. Print output to the screen so admins can send to us

Otherwise this leads to a frustrating debugging experience."
redshiftzero,2017-12-30 08:28:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/411f07819a9c3f40a35d6e1b23f1690d3c20d92e,411f07819a9c3f40a35d6e1b23f1690d3c20d92e,"Docs: Add note of ""Send test OSSEC alert"" option in Admin guide"
redshiftzero,2017-12-30 07:37:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b216ddc29f9121e76c065e6914e231ae8eaa654,9b216ddc29f9121e76c065e6914e231ae8eaa654,"Add unit, functional, and pages layout tests for test OSSEC alert button"
redshiftzero,2017-12-30 07:36:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0f87201816f31054c906bf0b750c36d34554f197,0f87201816f31054c906bf0b750c36d34554f197,"Add ""Test OSSEC alert"" button for administrators"
redshiftzero,2018-01-03 21:20:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2296f3b317a8e1c344004e6826bd2d111673e69,e2296f3b317a8e1c344004e6826bd2d111673e69,"Remove mentions of coveralls in favor of codecov, update badge"
redshiftzero,2018-01-03 20:52:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fab131b059d9c45b0015ea0c65d39b5708c3d4c7,fab131b059d9c45b0015ea0c65d39b5708c3d4c7,"Merge pull request #2584 from tmc/add-codecov

Add codecov"
redshiftzero,2018-01-03 20:04:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/51282d0063c4568ec41afdeb99c53e2a19a9a6d7,51282d0063c4568ec41afdeb99c53e2a19a9a6d7,"Merge pull request #2789 from freedomofpress/wip-dachary-2787-pytest-catchlog

tests: pytest-catchlog is obsolete"
redshiftzero,2018-01-03 19:58:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/254c6eea63a23eeca23d22314275fcc6a3b3d2a8,254c6eea63a23eeca23d22314275fcc6a3b3d2a8,CircleCI should fail if development testinfra tests fail
redshiftzero,2018-01-03 19:23:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e88063e428416b48f4d00b7de5fcc327243634c,0e88063e428416b48f4d00b7de5fcc327243634c,"Merge pull request #2768 from freedomofpress/wip-dachary-generate-wording

source: use SUBMIT DOCUMENTS in generate"
tmc,2018-01-02 16:48:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/682c09b31deeeca1f1862c5bfbf4d36b32e70921,682c09b31deeeca1f1862c5bfbf4d36b32e70921,tests: assert that async_genkey was called
tmc,2017-12-31 00:46:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f32696dbe01564afb1100a56f051b3d509f2715f,f32696dbe01564afb1100a56f051b3d509f2715f,tests: fix race condition in delete_collection tests
trankmichael,2017-12-17 23:18:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/407f44c71d2a8641d99cc5a6439b43a12067f6f5,407f44c71d2a8641d99cc5a6439b43a12067f6f5,journalist: popped relevant session variables in new-password route to log the user out
tmc,2017-12-31 21:06:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cfe6b20ec4f9f39aef8a5de418f1a9b862a61e6b,cfe6b20ec4f9f39aef8a5de418f1a9b862a61e6b,coveragerc: omit path that does not exist in ci
tmc,2017-12-31 20:04:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d7f0a6dcaed60abdf3947200a99d4d79a37491e5,d7f0a6dcaed60abdf3947200a99d4d79a37491e5,tests: fix lint issues
tmc,2017-12-31 20:01:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ea4019164598bd52de33c0e03f3b950396136692,ea4019164598bd52de33c0e03f3b950396136692,"tests: add Mixin suffix to step mixin classes

this is detected by pylint and relaxes member linting"
tmc,2017-12-31 04:46:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba15e97fbb35e6d25b9e45416513ab62fcafd30f,ba15e97fbb35e6d25b9e45416513ab62fcafd30f,Makefile: add app pylinting to lint target
tmc,2017-11-17 05:55:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dfa1a19edb8f0c325a35a0e04985af914597461d,dfa1a19edb8f0c325a35a0e04985af914597461d,circle: add codecov.io
tmc,2017-12-31 04:00:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/994e7e86bcbb85ca8ac1ca80f86c0ba49a61b9c1,994e7e86bcbb85ca8ac1ca80f86c0ba49a61b9c1,"securedrop: add dev-shell target

this runs bash in a bare dev-oriented docker environment"
tmc,2017-12-31 04:41:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5314be55f6237173fa6db893a33dac9a7d362e9b,5314be55f6237173fa6db893a33dac9a7d362e9b,"source_app: remove unused format call

satisfies pylint"
tmc,2017-12-31 04:40:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/452387b1bbd327a5b86c4ebb6bfa05424a63c040,452387b1bbd327a5b86c4ebb6bfa05424a63c040,"store: import secure_filename properly

satisfies pylint"
tmc,2017-12-31 04:40:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7874526d7289222c88344bd2e144358cd7af6cad,7874526d7289222c88344bd2e144358cd7af6cad,pylintrc: add set of ignores to avoid invalid errors from pylint
tmc,2017-12-31 04:24:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90f8dbcddd3e85cfc667fd8a787d6d1e9e6a8ec3,90f8dbcddd3e85cfc667fd8a787d6d1e9e6a8ec3,requirements: add pylint to develop requirements
tmc,2017-12-31 04:24:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df87d956a1c0df157dc3582e57e95e6561b61432,df87d956a1c0df157dc3582e57e95e6561b61432,Makefile: add lint target
tmc,2017-12-31 04:24:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/95dfca09fe8bdf4c29da7e22d3975be077111c1a,95dfca09fe8bdf4c29da7e22d3975be077111c1a,pylint: generate a fresh pylintrc via `pylint --generate-rcfile`
redshiftzero,2017-12-31 03:34:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/32061bcde2657701bbd69684f0e6b5e1aaaa770d,32061bcde2657701bbd69684f0e6b5e1aaaa770d,"Merge pull request #2772 from tmc/fix-async-genkey-logging

Fix async genkey logging"
redshiftzero,2017-12-31 03:12:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/044b2c6f4cb97f4d9ca88fbb86e545d2903eb66c,044b2c6f4cb97f4d9ca88fbb86e545d2903eb66c,"Merge pull request #2774 from tmc/change-to-catchlog

tests: replace abandoned pytest-capturelog with pytest-catchlog"
tmc,2017-12-31 00:28:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/321e1fa852fc1fb594c746e1319d77ed4f8f04db,321e1fa852fc1fb594c746e1319d77ed4f8f04db,"tests: replace abandoned pytest-capturelog with pytest-catchlog

This addressing deprecation warnings you see when running tests with `pytest -s`"
tmc,2017-11-17 00:43:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fd136d4c961f2d66c4d1bb6c7e7f7772cf187b68,fd136d4c961f2d66c4d1bb6c7e7f7772cf187b68,"utils: print from other thread appropriately

in Flask, current_app is a werkzeug LocalProxy which uses thread (or
greenlet) local storage. Since async_genkey runs in another thread it's
invalid to call it in this manner."
redshiftzero,2017-12-29 18:28:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e9118db6c31a49efb5234ec9d2ed5da2c525619d,e9118db6c31a49efb5234ec9d2ed5da2c525619d,Deprecate logo update option via Ansible and securedrop-admin
redshiftzero,2017-12-29 18:04:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ecf33197e6eb635b472024ad90bff05aad5cbf4,2ecf33197e6eb635b472024ad90bff05aad5cbf4,Docs: Describe how to update logo via web application
redshiftzero,2017-12-29 18:03:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c7754886144c16b6fe02035f8ae124a739010bea,c7754886144c16b6fe02035f8ae124a739010bea,Add pages-layout to flake8 linting checks
redshiftzero,2017-12-29 17:48:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a67b725a3164a2f8e7aa9d56997dd91ed45ed7c9,a67b725a3164a2f8e7aa9d56997dd91ed45ed7c9,Add functional and page layout tests for admin update logo feature
redshiftzero,2017-12-29 17:47:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/69b5bdd5c7495bf81ec9fb756ee05d0ad630777e,69b5bdd5c7495bf81ec9fb756ee05d0ad630777e,Unit tests: Save and restore default image in test
redshiftzero,2017-12-29 08:19:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e13f7662a891dda2f3a1533b27a7c2bbd8b057da,e13f7662a891dda2f3a1533b27a7c2bbd8b057da,"Add autoversioning of static image for logo to prevent admin confusion

The logo will be cached in the admin's browser, so we'll need to bust
the cache to prevent confusion. We can do this by adding a version after
'?' on the image path."
redshiftzero,2017-12-29 07:44:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2be57f94ea50683c5a7a3d63c67f25a3097219bf,2be57f94ea50683c5a7a3d63c67f25a3097219bf,Add ability for admins to update logo via web application
redshiftzero,2017-12-29 07:42:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/133d94fd89beb21b06a7289efd474db27d69bd02,133d94fd89beb21b06a7289efd474db27d69bd02,"Add WTForm for image upload

The validators used here check that the file extension is an image
and that the field is populated with a file."
redshiftzero,2017-12-29 07:41:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d18eed289945a91415f619c9d4c6cfce4ecd101,1d18eed289945a91415f619c9d4c6cfce4ecd101,Add unit tests for implementation of SD logo updates via the webapp
redshiftzero,2017-12-23 06:51:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d7e3e0e4bbf7898d83134cf96591b78dc233c955,d7e3e0e4bbf7898d83134cf96591b78dc233c955,"Merge pull request #2701 from freedomofpress/suppress_ossec_messages_on_reboot

Prevent OSSEC from sending emails on startup"
redshiftzero,2017-12-23 06:14:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f8a4f2b56b3fd0bf13c960d4922c622fd0232ff0,f8a4f2b56b3fd0bf13c960d4922c622fd0232ff0,"Merge pull request #2766 from pierwill/docs-fix-dev-typo

Fix typo in development setup doc"
pierwill,2017-12-23 05:36:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0cabe537838f0dd05ffc63489f633ef570fa857e,0cabe537838f0dd05ffc63489f633ef570fa857e,Fix typo in development setup doc
redshiftzero,2017-12-23 00:54:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ff92a287ad88ca8f477bac40abef435afe2fb46,5ff92a287ad88ca8f477bac40abef435afe2fb46,"Merge pull request #2757 from freedomofpress/wip-dachary-2705-freeotp

replace Google Authenticator with FreeOTP"
redshiftzero,2017-12-22 23:34:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f520ec4ddf2e79c570d5be6d03ecdbf2b29e7838,f520ec4ddf2e79c570d5be6d03ecdbf2b29e7838,"Add task to inspect if ntpd is already running

We should inspect the stderr of the ntpdate task. If it fails due to the NTP socket in use,
we can ignore it and proceed, since that means that ntpd was setup already and the system
time is thus accurate. However, if it fails for some other reason, then we want to fail
out at these tasks and not proceed further in the install so the admin can debug."
msheiny,2017-12-22 21:45:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a197d4126d8989a3c61ea2c74e90e688bd3bfaf8,a197d4126d8989a3c61ea2c74e90e688bd3bfaf8,"Merge pull request #2441 from freedomofpress/securedrop-config-package-for-tor-mirror

Uses apt mirror for Tor via `securedrop-config` package"
conorsch,2017-12-22 20:41:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/49f455ad74d6c01a1ef9c1935f3b22a9b14bc85e,49f455ad74d6c01a1ef9c1935f3b22a9b14bc85e,"Merge pull request #2639 from freedomofpress/wip-dachary-docs-source

docs: instructions to find alternate Tor Browser downloads"
msheiny,2017-12-22 19:12:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c2b1b3905433a5553864f67b1f7edfd0507800f,0c2b1b3905433a5553864f67b1f7edfd0507800f,"Convert test_tor_mirror file to use latest testinfra paradigm

The previous calls utilized were deprecated in recent releases of
testinfra. We still have this style throughout our repository tests but
as we add new test files, I think we should make sure we use the latest
style."
msheiny,2017-12-22 19:11:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b10a02d0281aa447ab106ad99a8d8256af5cea45,b10a02d0281aa447ab106ad99a8d8256af5cea45,"Fix stderr str comparison on tor keyring test

Previously end-of-line space characters on stderr were getting compared
to our lovely error_text match. I suspect there is a difference in how
testinfra handles strings in direct SSH vs. ansible mode. :shrug:"
conorsch,2017-12-21 23:32:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09fb02a4d78946bcf89293029056482f24776297,09fb02a4d78946bcf89293029056482f24776297,"Removes Tor keyring packages and pubkey via Ansible

Only takes effect when the Ansible logic is run, e.g. during first
install or a health check. Since we're mirroring the Tor apt repository
now and using the SecureDrop Release Signing Key for validation, we do
*not* want the official Tor repo pubkey on the system.

Includes substantial changes to the configuration tests to reflect the
new strategy."
conorsch,2017-10-13 20:22:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/565c6243a9a340d51879bf32fabb9fe45dd42ab2,565c6243a9a340d51879bf32fabb9fe45dd42ab2,"Revises Tor apt mirror URL

The backend recently moved around, so updating the deb package
implementation to reflect the backend changes. Updated the URL from:

    tor-apt.ops.freedom.press

to:

    tor-apt.freedom.press

We also have ""tor-apt-test.freedom.press"" for QA purposes, but without templates
for the Debian scripts, however, swapping the URLs for QA will need to be manual.
We can circle back and smooth out that process in subsequent PRsthe
priority now is to make sure we have mirror functionality working.

Thanks to changes on the backend by @msheiny, we now have switched HTTP
-> HTTPS as well."
conorsch,2017-10-03 16:52:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a4e99d45e64cd3143d7f8c61b444588368785c4a,a4e99d45e64cd3143d7f8c61b444588368785c4a,"Repairs parametrization on testinfra tor tests

The parametrization was improperly implemented, causing the test suite
to fail. Rather than recursive grep across all of `/etc/apt`which will
cause false positives in the tor keyring under
/etc/apt/trusted.gpg.dlet's look only at the two rationale locations,
and recursively search through /etc/apt/sources.list.d (since multiple
Ansible versions could have written to different paths)."
conorsch,2017-10-03 16:13:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e847f6f7c29fd4b0bd472c421367e6ed6d7f816d,e847f6f7c29fd4b0bd472c421367e6ed6d7f816d,"Fine-tunes securedrop-config package dependency

Previously tried to piggyback on securedrop-keyring, setting the
securedrop-config package as a dependency thereof. It's more explicit to
list securedrop-config as a dependency of packages required for the
Application and Monitor Server roles:

  * securedrop-app-code
  * securedrop-ossec-agent
  * securedrop-ossec-server

Therefore, removed the dependency in securedrop-keyring."
conorsch,2017-10-03 16:09:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9d1a12f018a61d84f6c25e654bf514b6939b8fd,d9d1a12f018a61d84f6c25e654bf514b6939b8fd,"Sets arch ""all"" for securedrop-config

The package isn't architecture-dependent, so don't lie about it.
The SecureDrop install scripts only setup ""amd64"" package access
via the FPF tor repository. Will shake out any inconsistencies in
pre-release QA with release candidate debs.

Pointed out by @dachary during review. Further reading at:
https://www.debian.org/doc/debian-policy/index.html#architecture

Updates associated config tests, as well."
conorsch,2017-09-27 19:10:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bbe5ae295c449abdcfb832c510aec28ebf0033b8,bbe5ae295c449abdcfb832c510aec28ebf0033b8,"Builds securedrop-config package along with other debs

Reusing the generic-pkg role to build the new `securedrop-config`
package along with the others.

Sets securedrop-config as dependency of securedrop-keyring

Adds local pkg vars for securedrop-keyring. Since `securedrop-keyring`
depends on `securedrop-config`, the latter must be installed first, so
the order of items the local packages list var is important.

Runs the usual collection of tests over the new deb package, as well.

Includes entry in the `update_version.sh` script so that the config
package will have updates made to it, as well."
conorsch,2017-09-26 21:34:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/60972d53b8ece88069a63cd73471716fc0016dfc,60972d53b8ece88069a63cd73471716fc0016dfc,"Creates securedrop-config package

New Debian package designed for shipping unattended upgrades that affect
system state (rather than simply installing new software). We're
breaking some of the Debian packaging rules, specifically by touching
contents inside `/etc/apt/`, but SecureDrop is not an official Debian
package, and we're highly opinionated about what gets to run on
SecureDrop servers, so I'm comfortable with the lintian errors for now.

Creates postinst for securedrop-config package

Running the sed replace actions via postinst, so that current official
Tor apt repo settings are replaced with the FPF mirror.
Removes postinst tor repo logic from the `securedrop-app-code` package, since
that would only have affected the Application Server."
conorsch,2017-09-26 21:10:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2d1f062222a1b7f4746d03cfa8296897e7640b69,2d1f062222a1b7f4746d03cfa8296897e7640b69,"Creates config tests for FPF Tor apt mirror

We don't have the mirror reflected in the config yet, but these tests
describe the system state we want. Time for some TDD!"
msheiny,2017-08-15 20:03:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b63171cc336194d40d585bd34d8d83a121f6a0ff,b63171cc336194d40d585bd34d8d83a121f6a0ff,Update tests to accompany tor repo mirror
msheiny,2017-08-15 19:53:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a3704248e52bde4c17450c638f052f1b885e37b5,a3704248e52bde4c17450c638f052f1b885e37b5,"Swap tor apt repo to point to our mirror

This addresses issue #2106 - mitigate side-effects from a tor package
breaking securedrop instances in the field.

The actual logic that creates our mirror is in source control in another repo."
redshiftzero,2017-12-22 17:09:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/119725eb972973ba504a351b20d238cc620f3fa5,119725eb972973ba504a351b20d238cc620f3fa5,"Merge pull request #2699 from freedomofpress/docs-osxsetup

these docs add support for a clean OS X python install"
msheiny,2017-12-22 16:42:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d101f7da9cb8c999ab214e3723b0f939fbe4c178,d101f7da9cb8c999ab214e3723b0f939fbe4c178,"Merge pull request #2703 from freedomofpress/build-securedrop-metapackage

Builds securedrop metapackage"
emkll,2017-12-22 14:09:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2c35eb762f7c221dfd18470f06cdfc15f1056d7d,2c35eb762f7c221dfd18470f06cdfc15f1056d7d,"Removed ""Ossec started"" alert description in ossec_alerts guide"
redshiftzero,2017-12-21 23:53:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f3605185107c96d6c4dc0d957313cb975cb2118b,f3605185107c96d6c4dc0d957313cb975cb2118b,"Merge pull request #2733 from freedomofpress/wip-dachary-i18n-language-menu

i18n: improve the language menu"
olivemartini,2017-12-21 23:41:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0f97b0f373d7032b7a07f619353eeed70369c35,f0f97b0f373d7032b7a07f619353eeed70369c35,Adding suggested edits to suggested landing page content.
emkll,2017-12-08 05:06:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1cd0b4250fc3e3e4f44cd2b0aa48bc1491328845,1cd0b4250fc3e3e4f44cd2b0aa48bc1491328845,Override OSSEC alerts 502 and 503 to prevent email the sending of email alerts. Alerts are not fully supressed (i.e. logged to disk) because they could provide useful debug information (e.g. ensure that the server correctly reboots nightly)
redshiftzero,2017-12-21 16:24:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/70e6dd2f05312acc56155423c07342640d7fcfb4,70e6dd2f05312acc56155423c07342640d7fcfb4,"Merge pull request #2621 from freedomofpress/docs-httpsvalidation

Explicit docs to reactivate the virtualenv"
redshiftzero,2017-12-21 16:20:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/95028dcd7358547bdba8d2b2dce3fe09b4093857,95028dcd7358547bdba8d2b2dce3fe09b4093857,"Merge pull request #2684 from freedomofpress/wip-dachary-2681-disable-non-supported-languages

i18n: do not expose unsupported locales"
redshiftzero,2017-12-21 15:30:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bad5e2ba314844a860b93e7f4e5a7088f3e7fab1,bad5e2ba314844a860b93e7f4e5a7088f3e7fab1,"Merge pull request #2741 from freedomofpress/GrsecUpTop

Push grsecurity tasks to top of the install"
redshiftzero,2017-12-21 15:23:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99a42c36e66f6eb11586dd22f8817b5c6442d729,99a42c36e66f6eb11586dd22f8817b5c6442d729,"Merge pull request #2732 from freedomofpress/wip-dachary-2692-generate

source: resolve generate interaction confusion"
conorsch,2017-12-21 00:28:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff6448ec8880af529e1a196f36c5f0b8b0622a34,ff6448ec8880af529e1a196f36c5f0b8b0622a34,"Adds config tests for Referrer policy headers

Tracking the config change in the testinfra test suite in order to guard
against regressions. The tests now expect the header to be present in
the Apache config for both the Source and Journalist Interfaces. The
tests do *not* confirm that the header is set on user-agents, but I
confirmed that via manual browser testing during review."
msheiny,2017-12-19 22:51:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/416a881ba4b0799c4975093776c233e2bd1a25c4,416a881ba4b0799c4975093776c233e2bd1a25c4,"Merge pull request #2588 from tmc/circle-linting

circle: add lint job"
msheiny,2017-12-19 18:57:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04eb0c6919485667ffaf8476da4e9f19265a90a3,04eb0c6919485667ffaf8476da4e9f19265a90a3,"Fix for shellcheck docker re-run

Was previously bombing out because docker throws errors trying to create
an image with a name that already exists. Now we fail gracefully and
hide messy error output."
msheiny,2017-12-19 18:56:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5869ed93aee24491b79844c8ea05ea764050a46,e5869ed93aee24491b79844c8ea05ea764050a46,"Move dockerfile linter to subdirectory

Trying to keep the high-level directory nice and tidy. :broom:"
b-meson,2017-12-18 18:19:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87db0895032434e9f97edbf5aa4461beb33fe250,87db0895032434e9f97edbf5aa4461beb33fe250,minor cleanup to docs based on feedback
tmc,2017-11-26 10:17:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23610880e78f1055a7c2eb3375a1cc27a67f2abd,23610880e78f1055a7c2eb3375a1cc27a67f2abd,circle: drop caching as it was not helpful
tmc,2017-11-26 10:15:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa009c01555a23eacd483d40e19ef3cbdc349ec8,aa009c01555a23eacd483d40e19ef3cbdc349ec8,circle: reorganize jobs
tmc,2017-11-26 10:14:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/107fae7e66075043b00e9e13314c3dc6892b0bbe,107fae7e66075043b00e9e13314c3dc6892b0bbe,shellcheck: remove noisy line
tmc,2017-11-26 09:28:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a5bfa24243a64edd7cc7d8e66a0c4fbe9da54ecb,a5bfa24243a64edd7cc7d8e66a0c4fbe9da54ecb,circle: replace partial lint job with complete lint job
tmc,2017-11-26 09:25:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3171f40c18d3ff471b24a1490140826ecaa62a9b,3171f40c18d3ff471b24a1490140826ecaa62a9b,circle: use TAG and supply circle sha via circle conf
tmc,2017-11-19 05:11:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/503352b37edc7514b08c851a21ccd655cff48c3a,503352b37edc7514b08c851a21ccd655cff48c3a,circle: add linting
ageis,2017-12-16 18:42:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6469b5dfca460ba4965a1107723e37c24b73c399,6469b5dfca460ba4965a1107723e37c24b73c399,"Set Referrer-Policy in vhost config + landing page guidelines

Referrer-Policy is a new HTTP security header which was recommended and
specified by W3C at the beginning of 2017. This setting allows us to
instruct browsers to never send a 'Referer' header for all requests
originating from the site. It would be rare or unheard of for any off-site
links to be present on a SecureDrop page, but it's worth including this in the
headers anyhow. https://www.w3.org/TR/referrer-policy/"
olivemartini,2017-12-15 22:38:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df968ad81711dbad6396be0749d8e3b47970a7f4,df968ad81711dbad6396be0749d8e3b47970a7f4,Fixed a formatting error to pass local linting.
olivemartini,2017-12-15 22:09:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e45713e64cd3dbe8528de97face95645cc31b29,6e45713e64cd3dbe8528de97face95645cc31b29,Adding in recommended landing page content
redshiftzero,2017-12-14 19:14:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7971e1b71661c83017a953088a458e42be85e3e2,7971e1b71661c83017a953088a458e42be85e3e2,"Merge pull request #2749 from freedomofpress/wip-dachary-codename-hint

source: make codename hint visible on first submission"
redshiftzero,2017-12-14 19:02:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a383d35eb01757617a24b293d75c38079883a8b,8a383d35eb01757617a24b293d75c38079883a8b,"Merge pull request #2747 from freedomofpress/RemoveDeadCode

Remove legacy prod-specific.yml migration code"
redshiftzero,2017-12-14 19:02:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dc35edd97e794467f15a365589f9566dd63596f8,dc35edd97e794467f15a365589f9566dd63596f8,"Merge pull request #2735 from freedomofpress/securedrop_sd_config_no_private_gpg_key

Validate GPG key is not private in sdconfig"
tmc,2017-11-13 05:18:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04b74c841dc1cbc6f3e3602f8dfbaf8c6231096d,04b74c841dc1cbc6f3e3602f8dfbaf8c6231096d,vnc: enable vnc in test and dev containers
heartsucker,2017-12-14 10:51:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cbcf0b69ec6cf58ec193f3a0f4b5272899716823,cbcf0b69ec6cf58ec193f3a0f4b5272899716823,add postinst script to remove hmac-sha1 from sshd_config on existing instances
conorsch,2017-12-13 23:31:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07d42fb7a52b6075e10025909ce1513c7d4ef925,07d42fb7a52b6075e10025909ce1513c7d4ef925,"Merge pull request #2739 from freedomofpress/build_deb_pkgs_remove_unused_code

Remove unused code in deb-package build script"
msheiny,2017-12-13 22:27:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce701135295c4cd9cb2d52f6b6de85767fe16468,ce701135295c4cd9cb2d52f6b6de85767fe16468,"Remove legacy prod-specific.yml migration code

This code will never get triggered because we have checks earlier in the
inventory scripts that will bomb out if the code is missing. We have
enough scaffolding and checks in place to make this piece of helper code
neglible at this point."
emkll,2017-12-13 19:40:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/edb3f74911e609aaf9651c28115ee7397d80e5b0,edb3f74911e609aaf9651c28115ee7397d80e5b0,"Remove unused code in deb-package build script.
During a code review, it was discovered that this code is no longer used. SecureDrop packages are now built with molecule/docker."
msheiny,2017-12-13 19:46:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4914c5d3329122a1d2ba511f0a068cd73b151e8e,4914c5d3329122a1d2ba511f0a068cd73b151e8e,"Push grsecurity tasks to top of the install

Fail fast on grsec tasks and make sure any subsequent tasks are run
through grsecurity's highly annoying locked down protections."
redshiftzero,2017-12-13 18:49:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2703b2f4f8477a058e1452e4546905047b2ecdaf,2703b2f4f8477a058e1452e4546905047b2ecdaf,"Merge pull request #2717 from freedomofpress/docs-wip-dachary-firewall

docs: abstract firewall rules definition"
redshiftzero,2017-12-13 18:43:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/12425964a5422ee5a1066c2536387f7d363e1e3a,12425964a5422ee5a1066c2536387f7d363e1e3a,"Merge pull request #2713 from freedomofpress/wip-dachary-2710-gettor

source: mention gettor@torproject.org as an alternative"
redshiftzero,2017-12-13 18:42:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8e3b628052dd07477e7bef4d483caa4725d6b518,8e3b628052dd07477e7bef4d483caa4725d6b518,"Merge pull request #2720 from freedomofpress/docs-wip-dachary-custom-logo

docs: better installation/update instructions for the custom logo"
emkll,2017-12-08 18:17:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e82089c2254a7e77a4ef265769901eabf5eda8fe,e82089c2254a7e77a4ef265769901eabf5eda8fe,Added validation to prevent GPG private key from being sent via  `./securedrop-admin sdconfig`
heartsucker,2017-12-12 21:40:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81ae289930bbcfa049402b12316aba67008ce3a5,81ae289930bbcfa049402b12316aba67008ce3a5,remove hmac-sha1 from sshd_config
redshiftzero,2017-12-12 20:37:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a4bae4a532b332877dcca7823a7f601728565e9,6a4bae4a532b332877dcca7823a7f601728565e9,"Merge pull request #2709 from freedomofpress/wip-dachary-javascript-typo

cleanup: s/javascript/JavaScript/ig"
redshiftzero,2017-12-12 20:25:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97ffc4cd1655fe93333c1479f2e22e9f5c680abe,97ffc4cd1655fe93333c1479f2e22e9f5c680abe,"Merge pull request #2715 from freedomofpress/docs-wip-dachary-development-source

docs: the user experience goal is more generic than just mobile"
redshiftzero,2017-12-12 20:25:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f84d237bfb83af58329d11741a28cd9a392f6092,f84d237bfb83af58329d11741a28cd9a392f6092,"Merge pull request #2716 from freedomofpress/docs-wip-dachary-getting-started

docs: point to securedrop.club contribution guide"
redshiftzero,2017-12-12 20:14:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98a3b946eebaf2cc3fe4b95b55f6e6214dc95263,98a3b946eebaf2cc3fe4b95b55f6e6214dc95263,"Merge pull request #2722 from freedomofpress/docs-wip-mat-not-maintained

docs: add warning about MAT being unmaintained"
redshiftzero,2017-12-12 19:57:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac1f7947b35a3471c98a4b8f45732b8538dca6e2,ac1f7947b35a3471c98a4b8f45732b8538dca6e2,"Merge pull request #2707 from freedomofpress/wip-dachary-i18n-lazy-gettext

i18n: s/lazy_gettext/gettext/ for pybabel extract"
msheiny,2017-12-12 19:40:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd4fb8af4817be4156137ff881dc3ab40d613308,cd4fb8af4817be4156137ff881dc3ab40d613308,"Merge pull request #2729 from freedomofpress/Remove-Ansible-Meta-Deps

move meta dep. from grsecurity role -> playbook"
msheiny,2017-12-12 16:42:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/693489048de5d2c7f56de07d47d3e4096ccb23d0,693489048de5d2c7f56de07d47d3e4096ccb23d0,"move meta dep. from grsecurity role -> playbook

During a security audit of trying to track down dependencies, this was
overlooked at first pass and makes the logic trickier to debug. Lets
stop using meta dependencies and instead always use top-level
dependencies."
msheiny,2017-12-12 14:45:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df82282ae16c056f93b80b1d3f2f5731971ad920,df82282ae16c056f93b80b1d3f2f5731971ad920,"Merge pull request #2523 from tmc/containerize-dev

Containerize development environment"
pierwill,2017-12-09 22:38:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2c6945abd60c40e7b549b8dc68998a85eeb6d922,2c6945abd60c40e7b549b8dc68998a85eeb6d922,"Consistently use the term ""third-party"" throughout docs"
redshiftzero,2017-12-10 03:23:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/db0760151d3db49d4fbd40dab7d759accd01b658,db0760151d3db49d4fbd40dab7d759accd01b658,"Remove now unnecessary documentation of post-install checks

These checks were often missed due to being at the end of a section.
Let's rely on the Ansible tasks in post_ubuntu_install_checks.yml
and not expect admins to do these additional manual checks on each
server."
redshiftzero,2017-12-10 03:22:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3349c9324b101ffe283e6eff054bccea3b7f902d,3349c9324b101ffe283e6eff054bccea3b7f902d,Add post-Ubuntu checks to common role
pierwill,2017-12-09 05:47:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ce9b3df12d065e66c2db09e80751e9578cc86cd,4ce9b3df12d065e66c2db09e80751e9578cc86cd,Reword source template text
pierwill,2017-12-08 06:16:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f0006a94b6882ec54830fdae38f8cad043aa931,6f0006a94b6882ec54830fdae38f8cad043aa931,Reword warning re: decrypting off SVS
redshiftzero,2017-12-08 23:29:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1260cf405a16d1ed07a426743f1bd31122bd49cc,1260cf405a16d1ed07a426743f1bd31122bd49cc,"Merge pull request #2694 from freedomofpress/wip-dachary-2693-tor-warning

source: explicitly add space for <strong> in flash message"
redshiftzero,2017-12-08 20:52:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/133da05ee27d61a72bced3736e087dee7e1496b4,133da05ee27d61a72bced3736e087dee7e1496b4,Admin guide: Add basic commands for admins SSHed into the servers
redshiftzero,2017-12-08 18:42:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fedcc950195226269294f6149757cfc3fff8a0b9,fedcc950195226269294f6149757cfc3fff8a0b9,"Merge pull request #2702 from lislis/fix-2318

manual line break in footer to prevent unwanted ugly break"
lislis,2017-12-08 05:18:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b6afb1b291ac0df52df201383bde2bd39cb422e,8b6afb1b291ac0df52df201383bde2bd39cb422e,manual line break in footer to prevent unwanted ugly break
tmc,2017-12-08 05:06:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd74ccbe6d9bdd2740187aa355b5af93b6ceefb9,cd74ccbe6d9bdd2740187aa355b5af93b6ceefb9,Makefile: pull out containerized targets for now
conorsch,2017-12-08 03:33:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/323300ff4090cf616cf0ff424263bb6df68a80eb,323300ff4090cf616cf0ff424263bb6df68a80eb,"Provides baseline config tests for securedrop-grsec

Tacks on a testinfra test to perform rather superficial testing of the
`securedrop-grsec` metapackage. Piggybacks on the testinfra fixtures
already in place in the `test_securedrop_deb_package.py` test suite.

Does *not* validate that the hardcoded file contents are correctly
structured; simply ensures the files have been copied in and exist in
the built package. The files are crucial for ensuring kernel image
updates are applied successfully."
conorsch,2017-12-08 02:43:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a5a949dfd645762787bba19fa484dc0059719834,a5a949dfd645762787bba19fa484dc0059719834,"Builds securedrop-grsec metapackage

Along with the other `securedrop-*` packages, let's build
`securedrop-grsec` as part of the normal release cycle. Still out of
band, in another repository, is the underlying grsecurity-patched kernel
image package that is referenced by the metapackage.

The metapackage also provides helper scripts such as ensuring PaX flags
are set correctly on the grub binaries, so that the `update-grub`
command succeeds when upgrading between grsecurity-patched kernels.

The sysctl settings left over from the Stack Clash mitigations can be
moved to the `securedrop-config` package once that ships."
conorsch,2017-12-06 21:46:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2e45276c6297d9c23a19273afb0d526b25168ccd,2e45276c6297d9c23a19273afb0d526b25168ccd,"Adds securedrop-metapackage file tree

Using flat files in a directory tree to provide the skeleton for the
`securedrop-grsec` package. Doing so will enable us to reuse the
existing ""build-generic-pkg"" role logic in preparing the deb package.

All files are hardcoded, so we'll need to adjust the versions carefully.

**IMPORTANT:**

The ""Version"" field in the Debian control file is set to ``3.14.79+r1`
since that's what's currently in production as of 2017-12-07. Future
versions of the SecureDrop metapackage must increment from that value,
otherwise updates will not be applied."
tmc,2017-11-26 17:38:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90c31e955405943029f4d00c066a46e7e637a947,90c31e955405943029f4d00c066a46e7e637a947,dev: add EXTRA_DEV_ARGS for env customization
tmc,2017-11-16 20:38:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/29c9e018e10de21bb097d0997b179f97c6e08edb,29c9e018e10de21bb097d0997b179f97c6e08edb,docker: add dev-oriented .dockerignore
tmc,2017-11-05 23:12:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f96490e047a65b905c96fb0e03ed2797d53f551d,f96490e047a65b905c96fb0e03ed2797d53f551d,dev: add container-based development environment
redshiftzero,2017-12-08 05:04:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/19316465b24b143cb91f4060ff9f90a10ca85447,19316465b24b143cb91f4060ff9f90a10ca85447,"Merge pull request #2700 from vsmart/codename-message

Update codename reminder message in source interface"
conorsch,2017-12-08 04:33:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e9f03a0e20a4f69e98970595999be0478fa7229,3e9f03a0e20a4f69e98970595999be0478fa7229,"Merge pull request #2680 from freedomofpress/merge-0.5-changes-into-develop

Merge 0.5 changes into develop"
vsmart,2017-12-08 04:23:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f42931c44bbc8b929554d286a1c97b7a35f99189,f42931c44bbc8b929554d286a1c97b7a35f99189,Update codename reminder message.
b-meson,2017-12-08 03:52:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/82b2eaa7d75394e0a09fdf750ebad03561ea2fde,82b2eaa7d75394e0a09fdf750ebad03561ea2fde,these docs add support for a clean OS X python install
redshiftzero,2017-12-08 03:29:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f8485fb66b461502bc78dc73186cd87be8b53d4,2f8485fb66b461502bc78dc73186cd87be8b53d4,"Merge pull request #2697 from vsmart/activity-notice

Improve surge of activity notice."
redshiftzero,2017-12-08 00:56:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/daced898ba617f34177fd19150690bb2450ac8b1,daced898ba617f34177fd19150690bb2450ac8b1,Implement #2679: Compile translations in development environment
vsmart,2017-12-08 02:45:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d21b7794ca9e142dadc0c122f12f7bbfabc3192b,d21b7794ca9e142dadc0c122f12f7bbfabc3192b,Improve surge of activity notice.
redshiftzero,2017-12-08 01:10:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d0563839ec7d5f76f9f470d0a6556292195f03a6,d0563839ec7d5f76f9f470d0a6556292195f03a6,"Merge pull request #2673 from freedomofpress/wip-dachary-fix-typo

source: s/Remember your/Remember, your/"
redshiftzero,2017-12-08 00:18:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a132e190cfcb1e9159407f0335c505270ff1fd6,7a132e190cfcb1e9159407f0335c505270ff1fd6,"Merge pull request #2687 from freedomofpress/wip-dachary-i18n-deletion

journalist: show the number of deleted submissions"
redshiftzero,2017-12-05 17:41:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b185ca3a6970d3c5ad352a89114637ce3b369936,b185ca3a6970d3c5ad352a89114637ce3b369936,SecureDrop 0.5
redshiftzero,2017-12-05 06:03:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf4162eaeede10fef2abe95e4f3275564fc380fe,bf4162eaeede10fef2abe95e4f3275564fc380fe,"Tests: Remove 'ar' from test_render_locales

Revert when Arabic is merged"
redshiftzero,2017-12-05 01:48:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cfe036b09abdafd8743e22b77ed76f512011fd08,cfe036b09abdafd8743e22b77ed76f512011fd08,Fix tests after pulling out Arabic translations
redshiftzero,2017-12-04 19:38:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0e857b77ed1789bbc4181a884b68321bb2c5650,a0e857b77ed1789bbc4181a884b68321bb2c5650,SecureDrop 0.5-rc6
redshiftzero,2017-12-07 18:23:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f0537a774a79c79da17cb6a41ae152abe93b4b8,4f0537a774a79c79da17cb6a41ae152abe93b4b8,"Merge pull request #2683 from freedomofpress/docs-wip-dachary-contributing-typo

docs: contriuting: add Operations to ops/deployment"
pierwill,2017-12-07 04:41:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/61620294b10caf34cdec9efeb24dd57958062bb8,61620294b10caf34cdec9efeb24dd57958062bb8,"Change ""password"" to ""passphrase"" throughout docs"
redshiftzero,2017-12-05 07:22:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc5cc5046b6fd09d934f57f05b7bbda9b7e251c9,bc5cc5046b6fd09d934f57f05b7bbda9b7e251c9,"Merge pull request #2667 from freedomofpress/wip-dachary-contributing

 docs: development: new contributors introduction"
redshiftzero,2017-12-05 06:14:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3645b0eca0ff820d77195ce5684bd2bd837d4a07,3645b0eca0ff820d77195ce5684bd2bd837d4a07,"Merge pull request #2675 from freedomofpress/wip-dachary-i18n

l10n: contributor credits"
redshiftzero,2017-12-05 06:12:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b6edf48ca34dbc6a7dfc5da8d2924ab19146e29,8b6edf48ca34dbc6a7dfc5da8d2924ab19146e29,Docs: Light edits and typo fixes to contributing introduction
redshiftzero,2017-12-04 22:21:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dedc44de70ffc9353ab9659826bb9cec9ecb94b2,dedc44de70ffc9353ab9659826bb9cec9ecb94b2,"Merge pull request #2671 from freedomofpress/wip-dachary-doc-sign-commit

docs: development: require commits to be signed"
redshiftzero,2017-12-04 19:36:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ebbc8f1790670fa7d82686bc1efef34e9ff3a422,ebbc8f1790670fa7d82686bc1efef34e9ff3a422,"Merge pull request #2669 from freedomofpress/wip-dachary-12-04-0.5

merge back 0.5 into develop 2017-12-04"
redshiftzero,2017-12-04 03:50:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/780784a49a6f6b029c96816c8a1fb50880d1f08c,780784a49a6f6b029c96816c8a1fb50880d1f08c,"Merge pull request #2659 from freedomofpress/docs-gpg-turducken

Journalist guide: Explain how to handle multiple layers of encryption"
redshiftzero,2017-12-04 03:31:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3c3ef73a466243c4c5bb35d3452f0a97d094d969,3c3ef73a466243c4c5bb35d3452f0a97d094d969,Update README to point to translator guide and lab.securedrop.club
redshiftzero,2017-12-03 23:14:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c857eead6719bd2133c037cc02559ee04ba93be,0c857eead6719bd2133c037cc02559ee04ba93be,"Merge pull request #2665 from freedomofpress/wip-dachary-0.5-clear-assets

[0.5] app: remove generated assets after installation"
redshiftzero,2017-12-03 16:45:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/548cfc3da0f70bb48e30e1fe426128102f590dc5,548cfc3da0f70bb48e30e1fe426128102f590dc5,"Merge pull request #2666 from freedomofpress/wip-dachary-12-03-0.5

merge back 0.5 into develop 2017-12-03"
redshiftzero,2017-12-03 02:21:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/53cf380f278b7104eb6fba1a4fad82ce5f011600,53cf380f278b7104eb6fba1a4fad82ce5f011600,SecureDrop 0.5-rc5
redshiftzero,2017-12-02 23:31:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d2f01e202700f2ad95079e2c8def875a5b8a34e,9d2f01e202700f2ad95079e2c8def875a5b8a34e,Update screenshots in user guides for SecureDrop 0.5
redshiftzero,2017-12-03 02:03:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ee83c7b0df3c24ce6ac04dfca410a48ced0d7005,ee83c7b0df3c24ce6ac04dfca410a48ced0d7005,"Fix page layout admin HOTP test: Secret must be 40 chars

This was failing the form validation due to the invalid
length specified for the OTP secret."
redshiftzero,2017-12-03 02:01:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bfc617eec82b87c8329ec77d4c85c02cdcdafbb2,bfc617eec82b87c8329ec77d4c85c02cdcdafbb2,"Remove unnecessary styling in logout message on source interface

I have tested with RTL and LTR languages that the fingerprint is
aligned with the text as expected."
redshiftzero,2017-12-02 23:01:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39ff015e00cb52e2f442894de7eb0d5778fe374b,39ff015e00cb52e2f442894de7eb0d5778fe374b,Fix RTL rendering of time box on journalist interface
redshiftzero,2017-12-02 19:39:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/32b7a0eead29367dcef3ed5061d80d3b51fda79d,32b7a0eead29367dcef3ed5061d80d3b51fda79d,"Merge pull request #2661 from freedomofpress/wip-dachary-12-02-0.5

merge back 0.5 into develop 2017-12-02"
redshiftzero,2017-12-02 07:19:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0081399e1245404273f3c81a6ce31e4ce2f758b,a0081399e1245404273f3c81a6ce31e4ce2f758b,SecureDrop 0.5-rc4
redshiftzero,2017-12-02 07:08:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6fa8b2b0f8060f7cc3a7695855079de0cfcae011,6fa8b2b0f8060f7cc3a7695855079de0cfcae011,"Fix #2653: Set max width of journalist reply box to prevent overflowing

This fixes a minor style issue by restricting the size of the reply
box to 700px. Otherwise if the font size is large, the box can
overflow the column."
redshiftzero,2017-12-02 03:26:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/902a4697568534f40812958f97d0158698cd2cd1,902a4697568534f40812958f97d0158698cd2cd1,"Add note about airgap phishing

The risk due to .desktop files will be addressed by Tails 3.3 (modulo
the user clicking through warnings) - however we should link
to the QR code security advisory so that dilligent journalists are
aware that one should take pause prior to opening links provided
through the airgap."
redshiftzero,2017-12-02 03:18:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8f57df05e85c6bea42f2acf660817b82a0944c8,a8f57df05e85c6bea42f2acf660817b82a0944c8,"Explain how to handle double encrypted documents

This was a support request and an area of confusion among
journalists. The tooling here is not ideal, given that there is
not a GUI method I was able to find to show the key used to encrypt
a file in Tails."
redshiftzero,2017-12-02 03:01:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/463d19f4ff957f28c3dcad5768038eeadb4a68f5,463d19f4ff957f28c3dcad5768038eeadb4a68f5,"Docs: Organize ""Working with Documents"" section in journalist guide

It's easier to read sections when they are broken up."
redshiftzero,2017-12-02 00:43:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1ccb41c8843395e322ef09d0f02d4eb86f11565c,1ccb41c8843395e322ef09d0f02d4eb86f11565c,"Fix #2656: Ensure buttons with lots of text go to two lines gracefully

The buttons on the generate page on the source interface have long
text in a few languages. We should have them gracefully go to two
lines if needed, with space between them and they should be right
aligned.

The space is done via a new class `btn--space` (following BEM [0])
which specifies a 10px margin so that this renders nicely.

Then `pull-right` is applied to each button individually so the
buttons (not just the div) individually are right aligned (in RTL
languages they will be left-aligned).

[0] https://css-tricks.com/bem-101/"
redshiftzero,2017-12-01 23:03:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5f064f536c30562eac7e1e4e7e630d85f5b17cdd,5f064f536c30562eac7e1e4e7e630d85f5b17cdd,"Merge pull request #2629 from freedomofpress/wip-dachary-i18n-doc

[0.5] docs: updates related to i18n/l10n"
redshiftzero,2017-11-30 23:41:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8febc7634bfdf07bc089bc2a0225f890c3a7bc8e,8febc7634bfdf07bc089bc2a0225f890c3a7bc8e,Update source interface unit tests for i10n fix for #2647
redshiftzero,2017-11-30 22:09:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a372d12d53fd5e71561156846ae922533d950c5,8a372d12d53fd5e71561156846ae922533d950c5,Fix #2647: Make sure source interface logout preserves user locale
redshiftzero,2017-12-01 19:34:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6489897d9498dfe6c120a9126ba82df6df7c3992,6489897d9498dfe6c120a9126ba82df6df7c3992,"Merge pull request #2646 from freedomofpress/wip-dachary-svs-install

docs: move SVS setup out of the submission key section"
redshiftzero,2017-12-01 02:12:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a112ed015d6f00a32b36c82aa607d63fa2f0de55,a112ed015d6f00a32b36c82aa607d63fa2f0de55,Fix swapped message/document string and numerical value
redshiftzero,2017-12-01 01:31:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc00ae745525ec2f998ce15e5171cf26a7003c6e,cc00ae745525ec2f998ce15e5171cf26a7003c6e,SecureDrop 0.5-rc3
redshiftzero,2017-12-01 00:07:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4546765ad352e1630c5f8cb93eaaa27fb2b05c93,4546765ad352e1630c5f8cb93eaaa27fb2b05c93,"Merge pull request #2649 from freedomofpress/wip-dachary-0.5-wtf-gettext

[0.5] app: use lazy_gettext instead of gettext in wtforms"
redshiftzero,2017-11-30 16:52:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68592f2e23fb48ace4d8eed88a9f64eb7fa93896,68592f2e23fb48ace4d8eed88a9f64eb7fa93896,"Merge pull request #2640 from freedomofpress/wip-dachary-11-30-0.5

merge back 0.5 into develop 2017-11-30"
redshiftzero,2017-11-30 00:59:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/19aeab4ad169ea0b6bfc2bda3a97f10c37e385ec,19aeab4ad169ea0b6bfc2bda3a97f10c37e385ec,"Merge pull request #2638 from freedomofpress/wip-dachary-0.5-remove-unecessary-gettext

Revert ""l18n: install gettext on app server"""
redshiftzero,2017-11-30 00:55:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d51601f81613d9c627c218d16bf1525a65ec00c,6d51601f81613d9c627c218d16bf1525a65ec00c,"Merge pull request #2635 from freedomofpress/lang-selection-pt_BR

Update language selection for Portuguese"
redshiftzero,2017-11-29 20:55:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a29db9d68167c1e1b44e2898a9d12cce188fb09a,a29db9d68167c1e1b44e2898a9d12cce188fb09a,"Fix #2631: Add Brazil flag to language selector for pt_BR locale

Flag is from:

https://www.sketchappsources.com/free-source/823-flag-set-sketch-freebie-resource.html"
redshiftzero,2017-11-29 20:00:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f99ce0004e02059e889b4bb6f09271771f3cbdf9,f99ce0004e02059e889b4bb6f09271771f3cbdf9,SecureDrop 0.5-rc2
redshiftzero,2017-11-29 19:46:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/63a36cf4e0d6cebf8f5123c218307ebb3063feb5,63a36cf4e0d6cebf8f5123c218307ebb3063feb5,"Merge pull request #2630 from freedomofpress/wip-dachary-0.5-i18n

l10n: sync ar de_DE es_ES fr_FR nb_NO nl pt_BR translations"
comradekingu,2017-11-29 01:02:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81bda580c42d8c32e628eb7fcd50e86b7e23ab16,81bda580c42d8c32e628eb7fcd50e86b7e23ab16,"""Debian packages""

Going with what is used throughout: ""Debian packages"", as there is some level of confusion over whether to use ""deb"" or ""DEB""."
comradekingu,2017-11-29 00:54:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f56a95160b5140d0eea102db5440795ff71103df,f56a95160b5140d0eea102db5440795ff71103df,"Spelling: YubiKey, hidden service, DEB"
redshiftzero,2017-11-29 00:36:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/53aea326a3c146851c46f079e879de33bb5c3ea6,53aea326a3c146851c46f079e879de33bb5c3ea6,SecureDrop 0.5-rc1
redshiftzero,2017-11-28 23:57:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef01d340a6a0c94af9c0cfdad9995d4ec9906a02,ef01d340a6a0c94af9c0cfdad9995d4ec9906a02,"Merge pull request #2627 from freedomofpress/fix-wonky-codename-bar

Fix codename bar on source interface in RTL + LTR languages"
redshiftzero,2017-11-28 20:29:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/26579488626e6e63fa2befbc66f0579d0c83f8c4,26579488626e6e63fa2befbc66f0579d0c83f8c4,"Fix #2626: Codename bar on source interface should be centered

And the padlock and refresh codenames should appear at opposite
sides of the codename."
redshiftzero,2017-11-28 01:45:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7edf5baa9dc6c9afb3290c7f6cf5a1c974f49876,7edf5baa9dc6c9afb3290c7f6cf5a1c974f49876,"Fix #2600: Fix language picker styling in RTL languages

There should be a space between the flag icon and the text for
RTL languages."
redshiftzero,2017-11-28 18:13:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/66b9cb9ec0ccfa8adbc5da1200890067c67e2033,66b9cb9ec0ccfa8adbc5da1200890067c67e2033,"Merge pull request #2622 from freedomofpress/fix-securedrop-admin-no-dnsutils

Use host for SASL and SMTP domain validation"
msheiny,2017-11-28 16:44:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e53c2422863f9e92c9456f3a38cc5bcc72a4d3ee,e53c2422863f9e92c9456f3a38cc5bcc72a4d3ee,"Merge pull request #2603 from freedomofpress/HTTPSValidation

Support a `.well-known` www directory for external CA validation"
redshiftzero,2017-11-28 02:08:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30803e07eb1a4b988ce8b5107feca44528ee9829,30803e07eb1a4b988ce8b5107feca44528ee9829,"Merge pull request #2619 from freedomofpress/tmc.quiet-gnupg

CI for #2610"
conorsch,2017-11-28 01:47:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4df06eaa10a519d83f8c253c1d0de356ccc01e89,4df06eaa10a519d83f8c253c1d0de356ccc01e89,"Minor updates to the HTTPS Source Interface docs

Small word choice and typographic refinements made during review.
Several of these edits are not overriding changes in #2603, but rather
addressing docs deficiencies from older PRs:

  * standardize on `<onion_url>` notation
  * don't promise OCSP stapling by 0.4.1, since we're releasing 0.5

That's about it."
redshiftzero,2017-11-28 00:52:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e6306cf8cc44c5130303646d89a08c2420fb58d2,e6306cf8cc44c5130303646d89a08c2420fb58d2,"Merge pull request #2347 from freedomofpress/wip-dachary-i18n-desktop

i18n: desktop icons"
redshiftzero,2017-11-27 22:53:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ffef3b8d1fe693daa308105960334a68ffc477dd,ffef3b8d1fe693daa308105960334a68ffc477dd,"Fix for #2591: Use host for SASL and SMTP domain validation

* Replace nslookup with host so dnsutils is not required (fix for #2591).

* Instead of using return code, inspect output of host command, which
should have something like:

smtp.gmail.com has address 209.85.232.109

if successful."
conorsch,2017-11-27 22:31:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a6c65246718115198164afc479e1ed8abd08bff,3a6c65246718115198164afc479e1ed8abd08bff,"Merge pull request #2620 from freedomofpress/tails_3.3_desktop_icons

Fix .desktop icons for tails 3.3"
emkll,2017-11-27 17:31:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3db1dcadb25b9ed6dc38c26c80b725c517113cda,3db1dcadb25b9ed6dc38c26c80b725c517113cda,"Modified `init_securedrop.py` script to change metadata on source and journalist interface .desktop shortcuts, `source.desktop` and `journalist.desktop`."
redshiftzero,2017-11-27 19:52:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a2df1a3775cd4858ff84a364089dcb790d9f5589,a2df1a3775cd4858ff84a364089dcb790d9f5589,"Merge pull request #2615 from freedomofpress/wip-dachary-2613-rqworker-race

tests: one rqworker per session is enough"
redshiftzero,2017-11-27 17:53:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a3f0c855ad25c9d459088c91393a5c1b36593f3,1a3f0c855ad25c9d459088c91393a5c1b36593f3,"Merge pull request #2524 from freedomofpress/wip-dachary-2516-i18n-sdconfig

l10n: add SUPPORTED_LOCALES to sdconfig"
redshiftzero,2017-11-27 17:14:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd8ea39b47e31066604d028750c4bfd88cfabcd1,cd8ea39b47e31066604d028750c4bfd88cfabcd1,"Merge pull request #2587 from tmc/fix-circle-caching

circle: use single restore_cache step"
tmc,2017-11-27 03:42:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/32e6263c1751a5773fb48b63db52d5ecc9b4b051,32e6263c1751a5773fb48b63db52d5ecc9b4b051,docs: add mention of new GNUPG_LOG_LEVEL env var.
tmc,2017-11-26 06:50:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f89547c109d737f3456c1ffcdc7bb929696d0a2,7f89547c109d737f3456c1ffcdc7bb929696d0a2,manage.py: squelch gnupg debug messages
tmc,2017-11-17 00:25:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8d0ef300cc86057550d84fd63b7ad05bb278518,e8d0ef300cc86057550d84fd63b7ad05bb278518,test: use urandom in test
tmc,2017-11-17 04:27:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/678eaaa19036a2af271d3ed08e42dde77c287063,678eaaa19036a2af271d3ed08e42dde77c287063,tests: add test for low-entropy message submission
tmc,2017-11-19 05:09:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/067ea1b7ce3b460f19f7a73b9889857c67873ea9,067ea1b7ce3b460f19f7a73b9889857c67873ea9,"circle: use single restore_cache step

this should save ~15s in ci"
conorsch,2017-11-23 01:59:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99221ba7bb22e22f0f567cb2621bc2ca4f31672d,99221ba7bb22e22f0f567cb2621bc2ca4f31672d,"Creates Makefile target for managing libvirt perms

Using the ""mapped"" filesystem sharing strategy via libvirt requires
careful permissions management on the host machine. By default, any
volumes mounted as ""mapped"" into a libvirt VM will be read-only, unless
the libvirt-qemu user has write access to the directory.

Let's create a Makefile target that will aid Linux developers in
configuring the necessary permissions via extended attributes. The
approach with `setfacl` is taken from [0]. The `-user` option is
intended to avoid attempts to manipulate permissions on files the
user does not own; this will happen to any files created within
the libvirt VM, since those are always created as `libvirt-qemu` (or
whatever user the daemon runs as).

[0] https://unix.stackexchange.com/a/258208"
conorsch,2017-11-23 02:26:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/083569f6ac87feb9c14a34b503045cd80475a6fc,083569f6ac87feb9c14a34b503045cd80475a6fc,"Documents creating Admin Workstation VM in Linux

Leans heavily on the Tails documentation [0], which is quite impressive.
Added a few screenshots to make things easy on developers. All told,
there's no much for us to maintain here: most of the content is
maintained upstream.

[0] https://tails.boum.org/doc/advanced_topics/virtualization/virt-manager/index.en.html#index5h1"
redshiftzero,2017-11-23 02:15:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d9d42d5b6a5e11e8183251f11b3ee4eb6861e25,8d9d42d5b6a5e11e8183251f11b3ee4eb6861e25,"Merge pull request #2606 from freedomofpress/syscheck_ignore_tmp_files_fix

Remove OSSEC syscheck monitoring of temporary files produced by bulk download features"
redshiftzero,2017-11-23 01:32:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01eca7927001dfe05a6552224318a6f4d1cc385d,01eca7927001dfe05a6552224318a6f4d1cc385d,"Merge pull request #2589 from dachary/wip-dachary-i18n-credits

l10n: contributor credits"
redshiftzero,2017-11-23 01:21:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac43b1af095c4c6a5c33105aabd03f81e6be5190,ac43b1af095c4c6a5c33105aabd03f81e6be5190,Add AppArmor rules for new flags displayed in language picker
emkll,2017-11-22 19:11:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c55f11faa2316ace444a654ef3caea5c3ada328b,c55f11faa2316ace444a654ef3caea5c3ada328b,"Modified `sregex` regular expression to match `/var/lib/securedrop/tmp/tmp_securedrop_bulk_dl` files. [Docs](https://ossec.github.io/docs/syntax/regex.html#os-match-sregex-syntax) state that the only characters permitted for `sregex` type is `^`, `$` and `|`."
msheiny,2017-11-22 16:43:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b1c32b26a78fdb0c2f65860fce6eddbb048b1ef,7b1c32b26a78fdb0c2f65860fce6eddbb048b1ef,"Expand docs for HTTPS CA validation

Informs administrator where they can make edits on the app server
in order to prove to a CA that they own an onion domain."
msheiny,2017-11-22 16:29:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f11f87ff1df708be12bc33af56d874620e2b87af,f11f87ff1df708be12bc33af56d874620e2b87af,"Adds test - .well-known dir is in app dpkg

Recently added a commit which ensures admins can add to this directory,
wanted to make sure it's really getting added to the application debian
package."
msheiny,2017-11-22 16:20:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/581a921dcdcba31bfa7e47fe970cb176ef799ff0,581a921dcdcba31bfa7e47fe970cb176ef799ff0,"Ensure admins able to write to HTTPS validation dir

When under-going HTTPS validation with a CA, this will involve dropping
arbitrary files in order to prove ownership over the domain. We discuss
this language in the documentation, but in reality, apparmor will block
attempts to create and add files to this folder. This commit adds
an empty directory and the matching apparmor and apache configuration
for usage for this purpose."
redshiftzero,2017-11-22 00:02:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0b7fa97ffccd73e7272fc1998b03c0d77a8230de,0b7fa97ffccd73e7272fc1998b03c0d77a8230de,Remove /var/lib/securedrop/keys/random_seed from integrity checking (#2596)
redshiftzero,2017-11-21 22:36:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fac2bbd7943453a056258e89b41068c0a564f727,fac2bbd7943453a056258e89b41068c0a564f727,"Merge pull request #2590 from pierwill/docs-passphrase-best-practices-edit

Edits to passphrase best practices guide"
toast,2017-11-12 15:46:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eea691f3a2104dce2add70100bb61a01b10fc7e8,eea691f3a2104dce2add70100bb61a01b10fc7e8,"add i8n menu with flags

- No JS. Instead the menu opens by using checkbox:checked and CSS sibling selector '~'
- Modules folder introduced to improve CSS encapsulation
- Using BEM syntax for better encapsulation of modules
- Visually-hidden module keeps a hidden item accessible to screenreaders - hides the checkbox.
- Menu module is generic allowing for reuse for other menus
- Flag module is generic allowing flag icons to be used in other contexts if needed
- Known issue: when the menu is open; horizontal and vertical scrollbars appear on the page. I have some ideas on how to get rid of these which I'll try to do later on.
- Position fixed to bypass position absolute/relative parents and prevent scrollbars
- Hiding the flag icon when the menu__trigger is acting as the overlay to close the menu
- Hide to the right or the left depending on direction so that it displays ok in Arabic"
pierwill,2017-11-19 17:41:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c49bdc71cbfa35c1cd9ec51ea2ced92b005c7a2,7c49bdc71cbfa35c1cd9ec51ea2ced92b005c7a2,"Edits to passphrase best practices guide

Prettified the ""General Best Practices"" section and made several style
guide fixes."
redshiftzero,2017-11-16 20:40:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/69f3a5b8846c0c59a691ff2e8bbc11a88e83c2fa,69f3a5b8846c0c59a691ff2e8bbc11a88e83c2fa,"Merge pull request #2582 from freedomofpress/2460-login-by-default

Fixes #2460 by default any journalist view need login"
msheiny,2017-11-16 18:51:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9c327525aecbaf94766523aee2614454a0a985f2,9c327525aecbaf94766523aee2614454a0a985f2,"Merge pull request #2511 from tmc/containerize

Containerize app tests"
redshiftzero,2017-11-16 04:56:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9944688b1374f73cbba1449eea75699117ff48e3,9944688b1374f73cbba1449eea75699117ff48e3,"Merge pull request #2581 from freedomofpress/wip-dachary-journalist-babel

i18n: manage.py translate --extract needs journalist_app"
redshiftzero,2017-11-16 04:51:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f4aa1988a7b7cc4d562d5f2634a1cb805dc2da6d,f4aa1988a7b7cc4d562d5f2634a1cb805dc2da6d,"Merge pull request #2580 from freedomofpress/wip-dachary-translations-pot

l10n: update messages.pot with newest strings"
kushaldas,2017-11-15 14:24:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb1eccc809c4a0cb21a13e03022f482300a65bf4,fb1eccc809c4a0cb21a13e03022f482300a65bf4,Fixes #2460 by default any view need login
tmc,2017-11-15 04:18:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2c3ef936a8ad609dedbea7ef00197b8b18dfa194,2c3ef936a8ad609dedbea7ef00197b8b18dfa194,docker: simplify container configuration by using a single file
msheiny,2017-11-14 16:57:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/79b8343bd241d30ad5afa6b8d3f507dc0bbcd6ab,79b8343bd241d30ad5afa6b8d3f507dc0bbcd6ab,"Expand documentation, change naming of make cmds

Pre-pend some of the added container commands with `app` because there
are also relevant tests for the OS which might make a single `test`
command confusing"
msheiny,2017-11-13 21:30:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc7183048cf2f7a391d7eac6e72acdbc95ec0303,bc7183048cf2f7a391d7eac6e72acdbc95ec0303,"Add pax flags for firefox

If this isnt performed, firefox will fail under a grsec kernel"
conorsch,2017-11-14 20:59:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d8b8eb9c8566079552d62a11b35a9c00c71b4d8c,d8b8eb9c8566079552d62a11b35a9c00c71b4d8c,"Merge pull request #2526 from pierwill/docs-yubikey

Rewrite of the Yubikey documentation"
conorsch,2017-11-14 20:56:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c0049d0116fc0d054fc2e0f28e879a19e9459bf,7c0049d0116fc0d054fc2e0f28e879a19e9459bf,"Merge pull request #2576 from freedomofpress/data_flow_diagram

Add SecureDrop data flow diagram"
emkll,2017-11-13 21:26:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/26fa47dee027b51e64d909df6b0c251b50c29f12,26fa47dee027b51e64d909df6b0c251b50c29f12,"- Moved Threat Model out of development section and into new Threat Model Section.
- Added Data Flow diagram for SecureDrop in new Threat Model Section.
- Updated ToC, index, and broken links.

- added scale per kushaldas' comment and reworded legend per comment by freddymartinez9"
conorsch,2017-11-14 19:06:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8e8965613776acc2c275a980c17be4e0c3fa9000,8e8965613776acc2c275a980c17be4e0c3fa9000,"Merge pull request #2578 from freedomofpress/pierwill-docs-journalist-guide-revisions

Revision and edits to the journalist user guide by @pierwill"
redshiftzero,2017-11-14 00:46:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e58cac9ae530c03df68ea722fb91105b695b6c5,7e58cac9ae530c03df68ea722fb91105b695b6c5,"Merge pull request #2577 from freedomofpress/docs-virtualenv

Docs: Troubleshooting for virtualenv"
pierwill,2017-11-06 18:48:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8caffa48b66085b4eeff6c2bcb56a67992c1e5ad,8caffa48b66085b4eeff6c2bcb56a67992c1e5ad,Revision and edits to the journalist user guide
b-meson,2017-11-13 23:04:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/48a560b807e5b8978b9db1fd8302484271892b60,48a560b807e5b8978b9db1fd8302484271892b60,"basic troubleshooting for virtualenv

fixes to the style guide

minor spelling fixes"
tmc,2017-11-12 20:24:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e7de7c098a2999fbbca3b68aba363a660ae1595b,e7de7c098a2999fbbca3b68aba363a660ae1595b,test: show durations of 10 slowest tests
tmc,2017-11-12 19:08:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15fb1454107177aafffa3fd5d05839f5a9640be4,15fb1454107177aafffa3fd5d05839f5a9640be4,"manage: write to stdout with utf-8 encoding

without this failures such as:

UnicodeEncodeError: 'ascii' codec can't encode character u'\u2588' in position 0: ordinal not in range(128)

would occur"
redshiftzero,2017-11-11 07:22:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8ec2ecfa7d643781c0aa8850d00e22ff12bb67b6,8ec2ecfa7d643781c0aa8850d00e22ff12bb67b6,"Increase default session timeout to 120 minutes

In order to allow long file uploads to complete, let's increase
the session timeout to 120 minutes. See issue #2503 for more."
redshiftzero,2017-11-01 19:10:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4e6dd38b2f58c3b3f7de417f3eee9b60deeab61,d4e6dd38b2f58c3b3f7de417f3eee9b60deeab61,"Journalist interface: Update unit tests for new form validation

And add bunch of unit tests for form validation of otp secret"
redshiftzero,2017-11-01 19:08:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b63305798d0e8125e3c1343fb28484ff23389e3,8b63305798d0e8125e3c1343fb28484ff23389e3,"Move form-validation-error class into base SASS file

The form-validation-error class is what renders the small red font
under form fields following UI best practices here:

http://uipatterns.io/input-validation

This was previously used only on the source interface, so here
we move it into the generic _base.sass file such that it is
available for both interfaces."
redshiftzero,2017-11-01 19:07:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c511df4ab792d936b086446fb74167640650eaa8,c511df4ab792d936b086446fb74167640650eaa8,Journalist interface: Update HTML on new admin user to use NewUserForm
redshiftzero,2017-11-01 19:07:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/236f2b72b7aa675149e4b956ebd0db9190f03f80,236f2b72b7aa675149e4b956ebd0db9190f03f80,"Journalist interface: Add NewUserForm

Validate form inputs using WTForms. This fixes #2500, where an odd
length input would throw a 500 error.

We also use a custom validator for OTP secret

Whitespace should be ignored when computing the 40 characters required for
the OTP secret.

We can use a custom validator:

https://wtforms.readthedocs.io/en/latest/validators.html#custom-validators

to ensure this field is correct."
heartsucker,2017-11-13 14:08:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ea389c2c97eef5a3a346a720f7a6d4109ac56b65,ea389c2c97eef5a3a346a720f7a6d4109ac56b65,"Merge pull request #2570 from pierwill/docs-sd-promotion-fix

Fix titles in promo doc"
heartsucker,2017-11-13 14:01:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4cdea22b130206c98b4f5c0ba53ed6b6228b2ddd,4cdea22b130206c98b4f5c0ba53ed6b6228b2ddd,"Merge pull request #2556 from freedomofpress/wip-dachary-l10n-documentation

doc: typo in french translation of an example"
tmc,2017-11-12 18:44:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a5f1d786a27ee2d749c132b3d2cffca43e9e3cf,7a5f1d786a27ee2d749c132b3d2cffca43e9e3cf,haveged: set low water mark
tmc,2017-11-12 17:58:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d55932b88c98e73b40d89319b109cc950690088e,d55932b88c98e73b40d89319b109cc950690088e,"circle: fall back to ""latest"""
tmc,2017-11-12 02:07:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/49b21060e2bd4f8e706123a6a8e659944e54e18e,49b21060e2bd4f8e706123a6a8e659944e54e18e,utils/async.py: bump default timeout to 10s
tmc,2017-11-08 04:44:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/74c85fd735ec38c39b7acd742cade5fcb6e94009,74c85fd735ec38c39b7acd742cade5fcb6e94009,circle: cache optimization - add branchless load
pierwill,2017-11-12 19:01:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a62850d1d3bff5f378c797262a2df81eae6dbafd,a62850d1d3bff5f378c797262a2df81eae6dbafd,Fix titles in promo doc
tmc,2017-11-05 21:12:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/017635abd11550a03798696ba5514858cc7fc673,017635abd11550a03798696ba5514858cc7fc673,journalist_navigations_steps: use wait_for when finding reply-text-field
tmc,2017-08-08 19:01:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2c4778abdb59e429807c97f120a8e7deba1becc2,2c4778abdb59e429807c97f120a8e7deba1becc2,containerize: initial pass to containerize tests
redshiftzero,2017-11-10 00:00:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da1eb52ee710e1d781e75c4eb26fc14514463e3f,da1eb52ee710e1d781e75c4eb26fc14514463e3f,Update circle CI config for new requirements file to use in test
redshiftzero,2017-11-09 18:31:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d40aba6816d493c45de4b23b5d38c59c461d8b7,7d40aba6816d493c45de4b23b5d38c59c461d8b7,"Merge pull request #2553 from freedomofpress/2513-typo-fix

Fix #2513 use the term legal department"
redshiftzero,2017-11-09 17:53:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/74270d0ead4ba971f0babba49ab4d81cb4493407,74270d0ead4ba971f0babba49ab4d81cb4493407,"Merge pull request #2529 from freedomofpress/consolidate-requirements-files

Consolidates Python requirements files"
kushaldas,2017-11-09 17:48:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/988054a42f6e6630562eafffa5fa00c010c77018,988054a42f6e6630562eafffa5fa00c010c77018,Fix #2513 use the term legal department
redshiftzero,2017-11-09 17:47:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c91de9c4be3be822fa2fca36ed833ef97b4eeb7,7c91de9c4be3be822fa2fca36ed833ef97b4eeb7,"Merge pull request #2550 from freedomofpress/update-apparmor-apache2

Update AppArmor profiles for Apache"
conorsch,2017-11-09 16:41:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8207ab6dae39f5bbdcaaf0301cc920268c4c528e,8207ab6dae39f5bbdcaaf0301cc920268c4c528e,"Adds Makefile target for updating app-code pip reqs

Overlooked during the creation of the new `update-pip-dependencies`
Makefile target, and pointed out by @redshiftzero during review. We do
need the Makefile target to update *all* project dependencies, and the
line for the app-code requirements update via pip-compile is added via
this commit.

However, I have not actually updated the app-code requirements, since I
see that as a separate test (and will surely require updates to the
config tests, which hardcode many pip versions so we don't inadvertently
break things)."
heartsucker,2017-11-09 14:08:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c3171528b40610aa46afad26581db2020bda63e0,c3171528b40610aa46afad26581db2020bda63e0,"Merge pull request #2549 from freedomofpress/cleanup-submission-not-in-memory

Convert tests in SubmissionNotInMemoryTest to pytest and xfail them"
redshiftzero,2017-11-09 01:40:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb868929c63b40e7f6817a2c02e54690cbb7ef82,cb868929c63b40e7f6817a2c02e54690cbb7ef82,"Update AppArmor profiles for /usr/sbin/apache2

Add read access to /proc/[pid]/status (read access to /proc/[pid]/stat
was already granted in the AppArmor profile).

This fixes the spurious alerts reported in #2456 and #2507"
redshiftzero,2017-11-06 20:05:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a10214663d660f441c09e6bc1c492e88f0475cf8,a10214663d660f441c09e6bc1c492e88f0475cf8,"Explain docs branches clearly in documentation guidelines

Add a note so that contributors understand ""stable"" vs ""latest"""
redshiftzero,2017-11-08 20:24:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fca325d3b30f59fda29c59a880247556d0bc85c9,fca325d3b30f59fda29c59a880247556d0bc85c9,"Merge pull request #2543 from freedomofpress/wip-dachary-2540-generate-display

source: fix regression on /generate page display"
redshiftzero,2017-11-08 20:09:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/22b52c026c695a26ce1ac38c26be3bde7558b014,22b52c026c695a26ce1ac38c26be3bde7558b014,"Merge pull request #2528 from freedomofpress/wip-dachary-2517-i18n-query-override

i18n: add the l param to existing params"
redshiftzero,2017-11-08 19:42:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa4ec7b3173870c708f5d5cec8ad0786d2f8e422,aa4ec7b3173870c708f5d5cec8ad0786d2f8e422,"Install gdb in dev env: TestSubmissionNotInMemory needs gcore

TestSubmissionNotInMemory dumps memory using gcore which is
provided via gdb. Let's install it in the dev VM."
redshiftzero,2017-11-08 19:39:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3dc899b097e63842aad004b32e33b15be8505baf,3dc899b097e63842aad004b32e33b15be8505baf,"test_submission_not_in_memory.py: convert to pytest and mark xfail

These tests were added in PR #476, but will not pass as we do have
secrets in memory (but not on disk, see PR #862). Anyway, these tests
are clever, so let's keep them but mark them xfail to prevent
confusion in the future."
redshiftzero,2017-11-08 19:38:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/16c8d6e470f270f454e7f3bb5b10b9f40b1fdefa,16c8d6e470f270f454e7f3bb5b10b9f40b1fdefa,"Rename submission_not_in_memory.py to indicate it is tests

submission_not_in_memory.py contains tests, but was not prefixed
with `test_` like other test files, causing confusion. This was
done intentionally in order for the tests not to run, as they will
fail."
redshiftzero,2017-11-08 18:37:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e4aea3adcda20fbea2d827e1ff410be87136fa2,3e4aea3adcda20fbea2d827e1ff410be87136fa2,"Merge pull request #2497 from freedomofpress/docs-fix-2332

Fix #2332, use the word admin everywhere"
redshiftzero,2017-11-07 21:54:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f468cc45be728a9b2300f5451242684e92b7aa5,2f468cc45be728a9b2300f5451242684e92b7aa5,"Merge pull request #2530 from freedomofpress/ossec-boot-directory-scanning

Add /boot to list of ossec syscheck folders"
emkll,2017-11-07 21:04:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d3f13d634074d1241d6d1eb4b41545f0414e0e6b,d3f13d634074d1241d6d1eb4b41545f0414e0e6b,reverting change to ossec test
redshiftzero,2017-11-07 20:26:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/70485a16cf07d79dcb32104a9802b42a1f56d075,70485a16cf07d79dcb32104a9802b42a1f56d075,"Merge pull request #2539 from Hainish/remove-bundle

Remove 'Bundle' branding from docs"
Hainish,2017-11-07 19:38:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce960ad913aa3a1f0f5715309ac1363e722d59b6,ce960ad913aa3a1f0f5715309ac1363e722d59b6,Remove 'Bundle' branding from docs
kushaldas,2017-11-07 16:52:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bdb29333097863c95b6f70363b0ff118d1e561d2,bdb29333097863c95b6f70363b0ff118d1e561d2,Fix #2332 use admin instead Administrator in docs
redshiftzero,2017-11-06 23:45:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e29bf5f036bc9202695a781c0d988e438c1896d0,e29bf5f036bc9202695a781c0d988e438c1896d0,"Merge pull request #2534 from freedomofpress/docs-installworksheet

Add support for a SD install worksheet"
b-meson,2017-11-06 22:18:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a54531b8202cd32a707961f6e166e19533ebceff,a54531b8202cd32a707961f6e166e19533ebceff,Add support for a SD install worksheet
pierwill,2017-11-06 02:43:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9e244a75a7ad6f9108a5d7b642cedba8614ff95b,9e244a75a7ad6f9108a5d7b642cedba8614ff95b,"Rewrite of the Yubikey documentation

Also made requested changes and some minor improvements"
emkll,2017-11-06 17:22:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6334f77ce761bfaba61618590beb42a3ec0d6d65,6334f77ce761bfaba61618590beb42a3ec0d6d65,"Fixes #2496
- Added /boot to list of syscheck-monitored folders
- Modified network and ossec tests per #2489 to pass locally"
conorsch,2017-11-04 21:57:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf41ed7ecf0005949c4632a57194fc57d39c7721,bf41ed7ecf0005949c4632a57194fc57d39c7721,"Removes deprecated `update_python_dependencies` script

We now have a Makefile target that runs pip-compile directly with the
`--generate-hashes` option to create safe and predictable requirements
files for all environments."
conorsch,2017-11-04 21:39:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef6737902a94804e13bd3b9c0c8712003362d243,ef6737902a94804e13bd3b9c0c8712003362d243,"Updates test-requirements files

Technically a no-op: we already had strong version-pinning, and this
change just adds an updated header to the top of the file, automatically
generated by pip-compile.

We are *not* pinning checksums, since the test requirements files are
installed on the staging VMs, which run a very old version of pip
(1.5.4, rather than 8+ required for reading hashes in requirements)."
conorsch,2017-11-04 21:18:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/74a60a29987173f4d4ac7dc49caa3de8b9188536,74a60a29987173f4d4ac7dc49caa3de8b9188536,"Consolidates develop-requirements files

The docs were needlessly recommending installation of two requirements
files during setup of the developer environment in a virtualenv. Since
we're using pip-compile, that's completely unnecessary. The CircleCI
logic similar duplicated requirements.

Now the contents of `testinfra/requirements.in` have been folded into
the `securedrop/requirements/develop-requirements.in` file, so only the
latter is required during setup (and CI).

Also referencing a single requirements file for the Ansible version,
so we don't have to update it in multiple locations all over the place.

Updated the Makefile target to generate these files in a reliable
fashion. Ran the new target in order to add the updated header.

We are *not* pinning by checksum in these files since they're installed
in the dev VM, and that VM runs a very old version of pip (1.5.4 rather
than 8+, which is required for reading checksums in requirements)."
conorsch,2017-11-04 21:06:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fccd7e2eed26b085d0f3230ac5084cc660891c68,fccd7e2eed26b085d0f3230ac5084cc660891c68,"Updates pip-tools 1.9.0 -> 1.10.1

Provides updates to the `--generate-hashes` option, which is required for
pinning based on checksum for the Admin Workstation requirements.
Ensures that checksums for all valid wheels are included, not just the
current platform. Should help maintain compatibility across developer
workstations, but also allow developers to update the Tails-specific
requirements files reliably. Includes a number of bugfixes to the
hashing logic, as well [0].

We pin checksums on the Admin Workstation because the Python
dependencies are pulled in via pip, and therefore do not afford GPG
signature verification, as we have with the git repo and apt packages.

We should really be pinning based on hash even for the development
environments, as well.

[0] https://github.com/jazzband/pip-tools/releases/tag/1.10.0"
conorsch,2017-11-04 20:55:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ddf2beaae927b17736183e207326c315354c392,7ddf2beaae927b17736183e207326c315354c392,"Creates Makefile target `update-pip-dependencies`

Rather than expecting developers to understand usage of `pip-compile` in
depth, as well as the purpose of various requirements files used
throughout the project, let's wrap the intended actions in a Makefile
target so that contributors can reliably update dependencies without
unintended side-effects.

Also ensures we'll get hashing every time,
which adds a security benefit given the lack of GPG signature
verification on packages pulled in via pip."
conorsch,2017-11-04 20:46:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a005bfe509909d2ca55e93d367451e26b425984d,a005bfe509909d2ca55e93d367451e26b425984d,"Moves Admin Workstation pip reqs to central dir

Most of the project's various Python requirements files reside in
`securedrop/requirements/`, so let's store the Admin requirements there,
as well. Updated the securedrop-admin script to look in the new
location.

Removes unused `requirements.all` file for the Admin Workstation
dependencies, which was not referenced in any install logic or
documentation.

The generalized form of `ansible.in` is designed to allow a single
hardcoded version of Ansible to reused throughout multiple environments,
making testing more reliable.

Includes a slight alteration to the contents of the
admin-requirements.txt file, which is a no-op, since it's just the
comment provided by pip-compile during generation."
pierwill,2017-11-06 06:16:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c9c8e699d1c5a065784030c0d667818450773350,c9c8e699d1c5a065784030c0d667818450773350,Fix broken link in threat model doc.
nsalontay,2017-11-06 00:59:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/22de405cb78d2a2cb9bb7c6eff55be4c55afa68c,22de405cb78d2a2cb9bb7c6eff55be4c55afa68c,"Improved page responsiveness and clarity of buttons for the source interface.

Percent widths added to non-responsive elements in the source interface.
Continue button has been changed to Use new codename in generate.html to make it more clear to users that they are proceeding with a new codename.
Primary buttons (Submit, Continue, Use New Codename) in the source interface are now before the secondary buttons."
redshiftzero,2017-11-05 00:49:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b671c417586f68d608780f03c49067e4ff4ecaf5,b671c417586f68d608780f03c49067e4ff4ecaf5,"Merge pull request #2515 from tmc/ci-improvements

ci: ci improvements"
redshiftzero,2017-11-05 00:35:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e122620979d9ef9acbdaf76c2622682a55211260,e122620979d9ef9acbdaf76c2622682a55211260,"Merge pull request #2514 from freedomofpress/docs-hardwarerefresh

add new section for Gigabyte BRIX"
tmc,2017-11-04 22:38:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9a646ce71dc8551529c032f844d63db5581dc8f8,9a646ce71dc8551529c032f844d63db5581dc8f8,ci: separate rebasing into another job
tmc,2017-11-04 21:47:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d67196586b071a9d7affc61d04718243ee164980,d67196586b071a9d7affc61d04718243ee164980,rebase-develop.sh: use a specific remote for upstream rebasing
b-meson,2017-11-04 22:17:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/70adb64835918e0b58ff3046cac1f241e8bd36f4,70adb64835918e0b58ff3046cac1f241e8bd36f4,add new section for Gigabyte BRIX
redshiftzero,2017-11-04 21:01:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f1a69d557656496d8e7285501ba347edf784d80d,f1a69d557656496d8e7285501ba347edf784d80d,"Merge pull request #2219 from freedomofpress/docs-prod-vms-and-tails

Add docs for fully virtualized prod install"
redshiftzero,2017-11-04 18:39:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5a92c8cf74ff0124093debc341f0fbc021be2c54,5a92c8cf74ff0124093debc341f0fbc021be2c54,"Merge pull request #2466 from freedomofpress/journalist-app-refactor

Journalist app refactor (the remix)"
heartsucker,2017-11-04 17:59:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d308bd99a6a7766c769f8aaecbd00fa5a40d64b,9d308bd99a6a7766c769f8aaecbd00fa5a40d64b,undo screenshot rename
redshiftzero,2017-11-02 22:03:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bdad3be154282952f42c1cd71aeeddda80c5ac95,bdad3be154282952f42c1cd71aeeddda80c5ac95,"Merge pull request #2483 from freedomofpress/merge-0.4.4-changes-into-develop

Merge 0.4.4 post-release changes into develop"
heartsucker,2017-11-02 21:41:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68a1db1fe7a748b48809b5a5d530a9a9c4a11807,68a1db1fe7a748b48809b5a5d530a9a9c4a11807,moved download_single_submission to journalist_app/col.py
heartsucker,2017-11-02 21:33:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/55e63a8f3cc1258f4fabe5d3d6e58b825c0c505d,55e63a8f3cc1258f4fabe5d3d6e58b825c0c505d,moved col_process to journalist_app/col.py
heartsucker,2017-11-02 21:08:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8e9f4c76191f5aa6912f51757b9b1c258e4effb,e8e9f4c76191f5aa6912f51757b9b1c258e4effb,moved col_delete_single to journalist_app/col.py
msheiny,2017-11-02 21:19:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e30f70012dd4e8691020c3c09bbb043340b2aef7,e30f70012dd4e8691020c3c09bbb043340b2aef7,"Fix molecule_to_yaml bug that cropped up

Honestly I started going into the molecule source-code but had to time-box myself here
 since I was able to find the fix quickly by trial/error. Seems to be an
 underlying python yaml module issue with how it is being called.
 Anyways - I'm not super sure what `molecule_to_yaml` was buying us
 here."
heartsucker,2017-11-02 19:48:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7983cfa0f65a80c03e0130614b3b9eb902c0e42f,7983cfa0f65a80c03e0130614b3b9eb902c0e42f,moved col to journalist_app/col.py
msheiny,2017-11-02 19:41:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b3b3b1cd77b7269d1a0f09d009637632ba1b0b5c,b3b3b1cd77b7269d1a0f09d009637632ba1b0b5c,"Remove fork of synchronize.py module

Back in May (d803bc7b8c4), when we were still under ansible 2.2.x we had to pull in
the synchronize module from upstream in order to get rsync playing nice
with docker. Now that we are on 2.3+ there is some piece of code we are
missing from upstream that is causing problems. Lets drop our fork and
rely on upstream synchronize module now :)"
conorsch,2017-11-02 17:58:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78fd32574077a0e314a8518d7ad4252fdf25d003,78fd32574077a0e314a8518d7ad4252fdf25d003,"Merge pull request #2443 from t2d/lintian

Use lintian to test built deb package"
heartsucker,2017-11-02 17:44:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1f27e2d4c65c754eca644ac4ec53dfa361abd3d7,1f27e2d4c65c754eca644ac4ec53dfa361abd3d7,moved remove_star to journalist_app/col.py
heartsucker,2017-11-02 17:41:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a30ac357f673ad936df94799edfccb42035a587e,a30ac357f673ad936df94799edfccb42035a587e,moved add_star to journalist_app/col.py
heartsucker,2017-11-02 09:12:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27a09fe3308118ecc7081b9044ea36abd5be09fa,27a09fe3308118ecc7081b9044ea36abd5be09fa,moved download_unread_filesystem_id to journalist_app/main.py
heartsucker,2017-11-02 06:49:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f13f8ed5fc8c7ad397f1c89bea937808ceaf51db,f13f8ed5fc8c7ad397f1c89bea937808ceaf51db,moved regenerate-code to journalist_app/main.py
heartsucker,2017-11-02 06:47:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/11ebafb70157a14faa0e9fde4aecbbf77f0441da,11ebafb70157a14faa0e9fde4aecbbf77f0441da,moved reply to journalist_app/main.py
heartsucker,2017-11-02 06:40:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd5793c16a6cf08880fc7615e8d112907611ed1c,bd5793c16a6cf08880fc7615e8d112907611ed1c,moved bulk to journalist_app/main.py
heartsucker,2017-11-02 06:37:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/325fcb9e93e54ed29491a4b960146f313a20fbb3,325fcb9e93e54ed29491a4b960146f313a20fbb3,moved flag to journalist_app/main.py
redshiftzero,2017-11-01 21:04:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b520f054cbf46c0f25864e952afc4ec7036ac64,8b520f054cbf46c0f25864e952afc4ec7036ac64,"Merge pull request #2485 from freedomofpress/docs-adminscripts

explicitly mention the directory for admins"
redshiftzero,2017-11-01 20:53:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce5cd89cb94418983f72a83369940e65cd70d429,ce5cd89cb94418983f72a83369940e65cd70d429,"Merge pull request #2501 from freedomofpress/docs-macminiscrews

fixed a small, but important typo in the mac mini section"
b-meson,2017-10-27 10:28:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec3b971d0ed9a8bfb06740050ad5235a8c752767,ec3b971d0ed9a8bfb06740050ad5235a8c752767,explicitly mention the directory for admins
b-meson,2017-11-01 20:08:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ea25f4d49a438cdf780073d23d9099157dd8e34a,ea25f4d49a438cdf780073d23d9099157dd8e34a,"fixed a small, but important typo in the mac mini section"
redshiftzero,2017-11-01 18:17:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be78b16cabda4d91fb369c2d066e3673bc015a97,be78b16cabda4d91fb369c2d066e3673bc015a97,"Merge pull request #2494 from freedomofpress/2311-input-validation

Fixes 2311, validates 20 bytes Yubikey secret"
kushaldas,2017-10-31 15:10:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7916e15938071bc7a36332b3d33568b6482c9416,7916e15938071bc7a36332b3d33568b6482c9416,"Fix #2311, validates 20 bytes Yubikey secret"
heartsucker,2017-11-01 14:08:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4bc226095c4433f9fb18420e041b191239da02ce,4bc226095c4433f9fb18420e041b191239da02ce,moved account_reset_two_factor_hotp to journalist_app/account.py
heartsucker,2017-11-01 14:06:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f9a63b9cff9f8c90de2d3b07789970e794da1492,f9a63b9cff9f8c90de2d3b07789970e794da1492,moved account_reset_two_factor_totp to journalist_app/account.py
heartsucker,2017-11-01 14:01:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f777010c8a3558c13c2503993e588b22f2dee65c,f777010c8a3558c13c2503993e588b22f2dee65c,moved account_new_two_factor to journalist_app/account.py
kushaldas,2017-11-01 11:40:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a3fb88595e252f7217a0464043113ad721bdc13,7a3fb88595e252f7217a0464043113ad721bdc13,"Fix #2332, use the word admin everywhere"
heartsucker,2017-10-31 21:49:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1930d93f4578c83ff3f3a2988cb795105835693a,1930d93f4578c83ff3f3a2988cb795105835693a,alter verify_token patching to be more robust
heartsucker,2017-10-31 21:25:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/33b48eb0816119878f023e0ecf5cd9ff4baf4e8d,33b48eb0816119878f023e0ecf5cd9ff4baf4e8d,removed unused class
heartsucker,2017-10-31 20:55:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f20b59c63e7f9212baf7470fa614eb1a75ccf46,3f20b59c63e7f9212baf7470fa614eb1a75ccf46,moved new_password to journalist_app/account.py
heartsucker,2017-10-31 20:41:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ebd27de450f7d3f069f031a5a006d1ec498b1d55,ebd27de450f7d3f069f031a5a006d1ec498b1d55,moved edit_account to journalist_app/account.py
heartsucker,2017-10-31 20:31:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f7bb3b719a58190abdfae775c92edd74fed4c31,8f7bb3b719a58190abdfae775c92edd74fed4c31,moved admin_new_password to journalist_app/admin.py
heartsucker,2017-10-31 20:23:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a6b03725f2acef9d09dc4864f6e6bcb8a42fb96b,a6b03725f2acef9d09dc4864f6e6bcb8a42fb96b,moved admin_delete_user to journalist_app/admin.py
heartsucker,2017-10-31 20:15:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/618e09f957b188d6824e2b079690d59c94e4d7e0,618e09f957b188d6824e2b079690d59c94e4d7e0,moved admin_set_diceware_password to journalist_app/admin.py
heartsucker,2017-10-31 20:06:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/86eaddd168439d044fac861234a504c06e683f89,86eaddd168439d044fac861234a504c06e683f89,moved admin_edit_user to journalist_app/admin.py
heartsucker,2017-10-31 20:02:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f951821a9101ecf23e03ae8ad683343821314a7,2f951821a9101ecf23e03ae8ad683343821314a7,moved admin_reset_two_factor_hotp to journalist_app/admin.py
heartsucker,2017-10-31 19:53:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/56b5f2c40f6288f6d9510a2833c09200508329f4,56b5f2c40f6288f6d9510a2833c09200508329f4,moved admin_reset_two_factor_totp to journalist_app/admin.py
heartsucker,2017-10-31 19:45:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0de3bc5f26f70af000dfd03c5d77e19f3ccadd46,0de3bc5f26f70af000dfd03c5d77e19f3ccadd46,moved admin_new_user_two_factor to journalist_app/admin.py
heartsucker,2017-10-31 19:25:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f811b264e44990517979d114a918166ba88c5fd8,f811b264e44990517979d114a918166ba88c5fd8,moved admin_add_user into journalist_app/admin.py
heartsucker,2017-10-31 18:56:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/91232572b9da4af3c924c9bc79b7f67bfa7cdf27,91232572b9da4af3c924c9bc79b7f67bfa7cdf27,moved admin_index into journalist_app/admin.py
heartsucker,2017-10-31 18:40:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e569000befca57ca6740a0581c7cec66b5f61014,e569000befca57ca6740a0581c7cec66b5f61014,moved index into journalist_app/main.py
heartsucker,2017-10-31 18:32:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0951027c53395a3c3a1ebf9df5d47cc6313bac3,f0951027c53395a3c3a1ebf9df5d47cc6313bac3,moved logout into journalist_app/main.py
heartsucker,2017-10-31 18:24:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/232d8ef3052d36f7fec26bcc0d84dcdec98e5bb8,232d8ef3052d36f7fec26bcc0d84dcdec98e5bb8,moved login into journalist_app/main.py
heartsucker,2017-10-31 17:47:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/70de1171abe7223a44fc794c74f2285e1ce1f81c,70de1171abe7223a44fc794c74f2285e1ce1f81c,moved app tear down into journalist_app/__init__.py
heartsucker,2017-10-31 17:05:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f12401027b48f76681fdcc6111046e09902331f5,f12401027b48f76681fdcc6111046e09902331f5,moved col_download_all into journalist_app/utils.py
heartsucker,2017-10-31 17:02:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5f7272d884fe39d023e420661564969305f3d998,5f7272d884fe39d023e420661564969305f3d998,moved col_download_unread into journalist_app/utils.py
heartsucker,2017-10-31 16:55:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d3e717814da02415b26f7b2a37be805b87c324d,6d3e717814da02415b26f7b2a37be805b87c324d,moved set_diceware_password into journalist_app/utils.py
heartsucker,2017-10-31 16:42:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90fe49a035a26c030c006bef14374d8688ca1882,90fe49a035a26c030c006bef14374d8688ca1882,moved col_delete into journalist_app/utils.py
heartsucker,2017-10-31 16:40:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/034481154051a07bf8d4c057209b684577b9c8e5,034481154051a07bf8d4c057209b684577b9c8e5,moved delete_collection into journalist_app/utils.py
heartsucker,2017-10-31 16:34:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/52d18c81e56a24a4f3830c7944798c6b6a14be06,52d18c81e56a24a4f3830c7944798c6b6a14be06,moved _make_password into journalist_app/utils.py
heartsucker,2017-10-31 16:26:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2e0c2b4d0036f4617239fe9c32128f8ba5681c11,2e0c2b4d0036f4617239fe9c32128f8ba5681c11,moved admin_required into journalist_app/decorators.py
heartsucker,2017-10-31 16:22:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/028c356d901a1306b26d3c4d2a7126701a2b05e7,028c356d901a1306b26d3c4d2a7126701a2b05e7,moved login_required into journalist_app/decorators.py
heartsucker,2017-10-31 16:17:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/24975bd368570d98546d8be335cd43978ab88fc7,24975bd368570d98546d8be335cd43978ab88fc7,moved col_un_star into journalist_app/utils.py
heartsucker,2017-10-31 16:16:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c80c4d9c33426c2016aaa2b74b7463dcd935b2c7,c80c4d9c33426c2016aaa2b74b7463dcd935b2c7,moved col_star into journalist_app/utils.py
heartsucker,2017-10-31 16:16:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd7d1d4a9177237f715be20aa78ace2e5e2c22dd,cd7d1d4a9177237f715be20aa78ace2e5e2c22dd,moved make_star_false into journalist_app/utils.py
heartsucker,2017-10-31 16:15:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c658dbc91e051c66d7a193d5980974faf3c9e786,c658dbc91e051c66d7a193d5980974faf3c9e786,moved make_star_true into journalist_app/utils.py
heartsucker,2017-10-31 16:08:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/717439cdf4cc6cfc67cef15ea827de8674bb447c,717439cdf4cc6cfc67cef15ea827de8674bb447c,moved confirm_bulk_delete into journalist_app/utils.py
heartsucker,2017-10-31 16:06:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96393fe2352898eaf7eb6d2a3e116fd005d80723,96393fe2352898eaf7eb6d2a3e116fd005d80723,moved bulk_delete into journalist_app/utils.py
heartsucker,2017-10-31 16:01:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/db67c55359172983402eb493896dc733d01a4d90,db67c55359172983402eb493896dc733d01a4d90,moved download into journalist_app/utils.py
heartsucker,2017-10-31 15:56:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/24f4b28a4e970ca96ec3262d873d9b03c6018147,24f4b28a4e970ca96ec3262d873d9b03c6018147,moved validate_user into journalist_app/utils.py
heartsucker,2017-10-31 15:50:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c670bcfd965768da6143a770c3b7e08fb7df5460,c670bcfd965768da6143a770c3b7e08fb7df5460,moved setup_g into journalist_app/__init__.py
heartsucker,2017-10-31 15:36:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc80422e171fb4dd34fce93abd789eaa3eb27c51,cc80422e171fb4dd34fce93abd789eaa3eb27c51,moved get_source into journalist_app/utils.py
heartsucker,2017-10-31 15:27:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6caf82d122e54db4d0edc09ea5deda03d3d88719,6caf82d122e54db4d0edc09ea5deda03d3d88719,moved commit_account_changes into journalist_app/utils.py
heartsucker,2017-10-22 17:45:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/421b284d167055c7a3f764aed7c8f532b6f45ced,421b284d167055c7a3f764aed7c8f532b6f45ced,moved logged_in to journalist_app/utils.py
heartsucker,2017-10-22 17:04:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/599cefb19269cf3f47029e4d56409dbe83b54278,599cefb19269cf3f47029e4d56409dbe83b54278,moved ReplyForm to journalist_app/forms.py
heartsucker,2017-10-22 16:43:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/970575c9e7cf88b6da7e09871f3db0596ec17c11,970575c9e7cf88b6da7e09871f3db0596ec17c11,moved jinja set up to journalist_app/__init__.py
heartsucker,2017-10-22 15:07:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/327c07d309527024a567c51e59c5869687b3dafd,327c07d309527024a567c51e59c5869687b3dafd,moved i18n init to journalist_app/__init__.py
heartsucker,2017-10-22 14:57:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a09293118cd0c25cb91bc65bd89f7e24509dd7e5,a09293118cd0c25cb91bc65bd89f7e24509dd7e5,moved assets extension to journalist_app/__init__.py
heartsucker,2017-10-22 14:52:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a5f358fa3e2762ddf962f1b691e6785c553af555,a5f358fa3e2762ddf962f1b691e6785c553af555,moved csrf protection to journalist_app/__init__.py
heartsucker,2017-10-22 14:31:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09a4bcaab534e386dab456a3688010d55dc7dd11,09a4bcaab534e386dab456a3688010d55dc7dd11,moved journalist app into journalist_app/__init__.py
redshiftzero,2017-10-31 21:21:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4e099a2884d9889a449583bb3604cb48fb6316fa,4e099a2884d9889a449583bb3604cb48fb6316fa,"Merge pull request #2491 from freedomofpress/wip-dachary-2401-text-updates

minor typos in user facing strings"
redshiftzero,2017-10-31 17:30:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/285d5d52d45048a019490bfac22e06731c82a9db,285d5d52d45048a019490bfac22e06731c82a9db,"Merge pull request #2492 from freedomofpress/wip-dachary-2455-worker-timeout

tests: wait up to one minute for the worker to srm"
msheiny,2017-10-31 17:12:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54bd24114f4683d6b6eb2237947d006ea3d75d7f,54bd24114f4683d6b6eb2237947d006ea3d75d7f,"Merge pull request #2490 from freedomofpress/wip-dachary-ci-ipv6fail

testinfra: do not be strict about IPv6 tests failing"
msheiny,2017-10-31 15:08:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e3708ee23fe6ee7b8d201ef86b7772e670aa77c6,e3708ee23fe6ee7b8d201ef86b7772e670aa77c6,"Merge pull request #2493 from freedomofpress/wip-dachary-grsec-test-failing-circleci

testinfra: add missing test in the grsec skip list"
daonb,2017-10-30 09:12:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e8d50a1c7d1cca241a76cdf03a4ae4e369ab872,3e8d50a1c7d1cca241a76cdf03a4ae4e369ab872,"Underline links in sources list, fixes #2130"
redshiftzero,2017-10-27 11:01:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2e594326d2c1bb2f2023b6e4dc5968bc2bebfe2,e2e594326d2c1bb2f2023b6e4dc5968bc2bebfe2,"Merge pull request #2476 from freedomofpress/manage-strings

clean up manage.py strings"
heartsucker,2017-10-27 10:18:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1091a04339cfe32ae2d46ac04105bc65ee46e731,1091a04339cfe32ae2d46ac04105bc65ee46e731,"Merge pull request #2447 from freedomofpress/rewrite-overly-mocked-tests

Rewrite overly mocked tests in preparation for journalist refactor"
heartsucker,2017-10-24 19:01:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e17c5da4449f436d0af5809bcb1734e57d773e54,e17c5da4449f436d0af5809bcb1734e57d773e54,clean up manage.py strings
redshiftzero,2017-10-14 00:47:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c9801327ec66d31b95f45a62326f1422d9f1344b,c9801327ec66d31b95f45a62326f1422d9f1344b,"Improve test for remove_star for single sources

This test replaces the overly mocked tests for remove_star.
The new test verifies the source was unstarred in the database
and that the user is redirected to the expected index page.

This also removes the remainder of the test classes that had
significant mocking performed in the test setup."
redshiftzero,2017-10-14 00:23:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fed77e4abf94515f4c51b5025e6a6dcdbbb4361c,fed77e4abf94515f4c51b5025e6a6dcdbbb4361c,"Improve test for add_star for single sources

This tests replaces the overly mocked tests for add_star (that
did not assert that the source was starred) with a single test without
additional mocking that verifies the source is starred, and that
add_star redirects to the index page."
redshiftzero,2017-10-14 00:17:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9e82a7a32561ff4950846d3daefb80f9137f0709,9e82a7a32561ff4950846d3daefb80f9137f0709,"Improve test for col_process for the unstar action

This test stars and unstars a source using col_process and then
asserts that the source was unstarred. Unnecessary mocking is
removed."
redshiftzero,2017-10-14 00:10:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1eaebd485f02ac8edaba481d39892b5f34243070,1eaebd485f02ac8edaba481d39892b5f34243070,"Improve test for col_process for the star action

This test stars a source using col_process (and thus col_star)
and verifies that the source was indeed starred in the database.
Unnecessary mocking is removed."
redshiftzero,2017-10-13 23:48:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/654c7a7fdd3560800bf70a230721797ad69908d9,654c7a7fdd3560800bf70a230721797ad69908d9,"Improve test for col_process for the delete action

This test puts two sources in the database and verifies they are
deleted after col_process has deleted them. The unnecessary
mocking is removed."
redshiftzero,2017-10-13 23:24:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab60c912751804468576dd93a2bd28f521277e60,ab60c912751804468576dd93a2bd28f521277e60,"Write improved test for col_process on nonexistant action

The original unit test for col_process is mocked to an
unnecessary degree. The behavior it is trying to test for is also
incorrect: col_process should return a 500, not a 404, when the
action selected is invalid.

The test is replaced with one that makes minimal use of mocks,
and verifies that a 500 is thrown when an invalid action is
selected."
redshiftzero,2017-10-26 22:22:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/716eb8d6feff7ff17b121da8e2c5d88da9424e6c,716eb8d6feff7ff17b121da8e2c5d88da9424e6c,"Merge pull request #2479 from freedomofpress/nicer-source-csrf-error

nicer csrf error pages"
redshiftzero,2017-10-26 20:33:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/224996423cdea73745992b7093b29b3484495e93,224996423cdea73745992b7093b29b3484495e93,"Merge pull request #2458 from freedomofpress/docs-macminihw

Add docs for installing on Mac Mini servers"
redshiftzero,2017-10-26 19:55:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5175228657976b04d8d0716b44ac441c456cd197,5175228657976b04d8d0716b44ac441c456cd197,"Clean up server hardware docs and mac mini instructions

* Breaks up ""Application and Monitor Servers"" in ""Specific Hardware
  Recommendations"" into sections for Intel NUCs and Mac Minis.

* Break Mac Mini instructions into numbered step-by-step
  instructions."
redshiftzero,2017-10-26 19:04:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a388d8da00ea6b103b386f2f153e36b07e1a4764,a388d8da00ea6b103b386f2f153e36b07e1a4764,"Merge pull request #2471 from freedomofpress/abort-duplicate-codenames

Abort on duplicate codenames"
heartsucker,2017-10-26 13:23:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d2ce131ce84d906b9ab505d0e56911abddf04eba,d2ce131ce84d906b9ab505d0e56911abddf04eba,prevent new users from accidentally logging in as old users
redshiftzero,2017-10-25 23:23:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6732c539ba1decd252fd38221ff5ea26f9882eea,6732c539ba1decd252fd38221ff5ea26f9882eea,"Merge pull request #2371 from KwadroNaut/patch-7

Smoothing wording replies source interface"
redshiftzero,2017-10-25 22:53:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3fbf086dd8316084873cdf1ba45ae7646b4d4c15,3fbf086dd8316084873cdf1ba45ae7646b4d4c15,"Merge pull request #2475 from freedomofpress/localize-expired-sessions

localized session expiration banner"
heartsucker,2017-10-25 08:21:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c970ea903837462dd59c5d9317e4c21f33ff4954,c970ea903837462dd59c5d9317e4c21f33ff4954,csrf error page tests
redshiftzero,2017-10-24 22:35:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1732352ea65880a328abd72e32c3f26e07f02efc,1732352ea65880a328abd72e32c3f26e07f02efc,"Merge branch 'release/0.4.4' into merge-0.4.4-changes-into-develop

Conflict resolved manually in install_files/securedrop-keyring/DEBIAN/control"
redshiftzero,2017-10-24 22:23:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/288b16f401cb03f7918577386aac9de4239d1347,288b16f401cb03f7918577386aac9de4239d1347,"Merge pull request #2477 from freedomofpress/format-otp-secret

fix formatting of otp secret for i18n with long sentenes"
redshiftzero,2017-10-24 21:44:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/29c327bf1ae088118402696a2afac06de7e46ca7,29c327bf1ae088118402696a2afac06de7e46ca7,"Merge pull request #2430 from jerr0328/require-credentials-password-change

Require credentials when changing password"
heartsucker,2017-10-24 20:39:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d163bd67b64f30c353e28a2abb01e9d92d2125f,9d163bd67b64f30c353e28a2abb01e9d92d2125f,nicer csrf error pages
heartsucker,2017-10-24 20:19:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ee7fd743486db2faf070d1c56b6ce9e7c099d3ce,ee7fd743486db2faf070d1c56b6ce9e7c099d3ce,fix formatting of otp secret for i18n with long sentenes
heartsucker,2017-10-24 18:11:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/138d8c1aae8f75148ae2398441f93c272c382d90,138d8c1aae8f75148ae2398441f93c272c382d90,localized session expiration banner
heartsucker,2017-10-24 15:27:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e9c13ff3d09dfc446bc28da4347f627b5533b150,e9c13ff3d09dfc446bc28da4347f627b5533b150,added `safety check` to python dependencies
conorsch,2017-10-24 00:53:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ca875448d38dc53017c5cc7942f0692a2716894,4ca875448d38dc53017c5cc7942f0692a2716894,SecureDrop 0.4.4
conorsch,2017-10-06 18:24:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/841fc5f736533529eb14fa580966be554f660aa4,841fc5f736533529eb14fa580966be554f660aa4,"Updates SecureDrop Release Signing public key

Expiration date has been increased:

  2017-10-20 -> 2018-10-05

The fingerprint for the SecureDrop Release Signing Key remains the same:

    22245C81E3BAEB4138B36061310F561200F4AD77

The Ansible role uses the ASCII-armored file to set up apt repo access
for the servers at install time. Thereafter, the `securedrop-keyring`
package will manage trust via automatic updates going forward.

The new keyring was generated via the command:

    gpg --no-default-keyring --keyring \
    install_files/securedrop-keyring/etc/apt/trusted.gpg.d/securedrop-keyring.gpg \
    --import  \
    install_files/ansible-base/roles/install-fpf-repo/files/fpf-signing-key.pub

Noting these changes here because the keyring file is binary format, and
therefore difficult to inspect changes for."
conorsch,2017-10-19 19:09:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b58f553f559d93556a05680f00e27ef2e85317ca,b58f553f559d93556a05680f00e27ef2e85317ca,"Patches Ansible 2.2.3 -> 2.3.2

Updates the Ansible version to 2.3.2, in order to address CVE-2017-7481 [0],
which was patched in 2.3.1 [1].

Updates the Ansible version throughout the project, including both
the hash-pinned requirements file for SecureDrop Administrators, and the
sundry requirements files used by developers and in CI for testing. We
have a sanity check on forcing a supported Ansible version via a
callback plugin, so that hardcoded version check has been incremented,
as well.

[0] https://access.redhat.com/security/cve/CVE-2017-7481
[1] https://github.com/ansible/ansible/blob/70c58e74ab492ea17df893bb4692f3b64a755858/CHANGELOG.md#231-ramble-on---2017-06-01"
conorsch,2017-10-18 19:03:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f620f37cdf5257dee37d0c239d0514592f1ac158,f620f37cdf5257dee37d0c239d0514592f1ac158,"Creates securedrop-admin subcommand for fetching logs

Uses a single entrypoint in the top-level ""securedrop-admin"" script to
provide a convenient method for fetching, compressing, and encrypting
the logs for sending to FPF. We've often discussed the need for a
convenient action to prepare logs for support purposes, and 0.4.4
provides the perfect opportunity to ship the feature.

The GPG fingerprint used for encrypted the tarball is not customizable;
future versions of the script should provide override capability via
`--recipient` or similar."
conorsch,2017-10-16 23:22:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e4e268d37ac4400a17a6ca3c229c606aa8aadf2d,e4e268d37ac4400a17a6ca3c229c606aa8aadf2d,"Never force install apt packages

Removes non-default apt behavior setting force=yes on package
installations, which has the catastrophic affect of installing apt
packages without checking authentication first.

There are three packages total affected by this vulnerability:

  * deb.torproject.org-keyring
  * ntp
  * tor

The force=yes flag was introduced on the tor and deb.torproject.org-keyring
packages via e578b9af28bd29600d51f7b4f7078eff820cac12, and on the ntp
package when it was first added to the config in
79e7d544998697e831b24bd1f6c8731985ae6268."
heartsucker,2017-10-23 08:31:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/132bc64bbe5be012bd3cb82a37b9436fb6b9d562,132bc64bbe5be012bd3cb82a37b9436fb6b9d562,strip whitespace
heartsucker,2017-10-22 18:14:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cf845044ce93aaef3fb901b4e588b285b45ed9d3,cf845044ce93aaef3fb901b4e588b285b45ed9d3,"Merge pull request #2467 from dachary/wip-dachary-reseticon

Added icon to resetbutton"
lbu32,2017-10-08 14:35:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5efbfd45305bbe049efcb25ade0cb3b3f2439433,5efbfd45305bbe049efcb25ade0cb3b3f2439433,Added icon to resetbutton
heartsucker,2017-10-22 12:37:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/176a086974e3a3a4e42a07a37a45f7893a5a8f41,176a086974e3a3a4e42a07a37a45f7893a5a8f41,removed asserts from main code and added explicit exceptions
heartsucker,2017-10-22 13:55:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/701928e3d7338718d54a1d50d111fb26a03d9289,701928e3d7338718d54a1d50d111fb26a03d9289,localize logout messages to help protect sources
heartsucker,2017-10-22 13:31:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a59e2cc4dbda4f79fe1c86d560dfff3586b87306,a59e2cc4dbda4f79fe1c86d560dfff3586b87306,faster wordlist validation test
daonb,2017-10-19 13:43:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3c44405af283ec8891141a877efe339c4b3f2eb5,3c44405af283ec8891141a877efe339c4b3f2eb5,docs: first clone then install reqs
redshiftzero,2017-10-21 06:13:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/953ebc8262f877849725d3713a5a27e7c1e6ce13,953ebc8262f877849725d3713a5a27e7c1e6ce13,"Merge pull request #2446 from freedomofpress/add-lang-fr-check

Add checks for the HTML lang property when the lang is fr_FR"
redshiftzero,2017-10-21 06:12:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c6ab2ae3ce7d88c260138e7ce48fecc1f8f7899,6c6ab2ae3ce7d88c260138e7ce48fecc1f8f7899,"Merge pull request #2449 from freedomofpress/2448-update-docs-keepassx

Fix #2448 updates tails guide documentation for KeePassX"
msheiny,2017-10-21 01:30:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/67a5288cc7ce17fe6ed80bed656ecfa090290695,67a5288cc7ce17fe6ed80bed656ecfa090290695,"Merge pull request #2442 from freedomofpress/StabilizeAWSRound105

Stabilize aws round105"
msheiny,2017-10-20 23:02:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/11f58b98aa65f304ed9b0052787d230c69b9d8c8,11f58b98aa65f304ed9b0052787d230c69b9d8c8,"Bump CI image to kernel 4.4

From the stock trusty image, lets bump to utilize 4.4.x linux kernel
from xenial. We are doing this to try to jump over constant XEN kernel
bugs we are seeing in CI with trusty's older image."
msheiny,2017-10-20 19:19:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/021783c67c034ff37910360ecb1f0340104ea537,021783c67c034ff37910360ecb1f0340104ea537,"Add padding for cloud-init to start up

Cloud-init is generating the sdrop user and temporary ssh key to the
system. In some cases, ssh comes up and then the scenario will get to
the setup portion before the user has actually been provisioned. This
will of course need to be smarter later."
msheiny,2017-10-20 18:31:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c67cc128add959dd80b5548662bc56fb3e543fff,c67cc128add959dd80b5548662bc56fb3e543fff,"Attempt to squash issue of lingering CI instances

Came across a startup failure that also allowed a teardown to be run
without actually tearing down anything. This happens because the
playbook was exiting before the instance config dict was being created
which the teardown playbook relies on."
msheiny,2017-10-20 18:30:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a66296bd1ab7cf261f6c4e8aa7a10fb7afefd412,a66296bd1ab7cf261f6c4e8aa7a10fb7afefd412,"Adjust polling logic for AWS SSH up detection

Previous logic adds an entire 60 second delay which technically adds a
whole 2 minutes to the build logic. Its better to bump the timeout value
instead and let wait_for start checking very soon after task start."
msheiny,2017-10-20 14:31:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3da5605ae7e11b7ac698b632da21548a43f21394,3da5605ae7e11b7ac698b632da21548a43f21394,"REVERTLATER - Remove CI reboot task and re: tests

There is a big blocker in CI rebooting logic that is blocking lots of
legitimate fixes from getting in. To appease the angry masses I'm going
to temporarily lower these gates, workon them out-of-band, and then
introduce a future PR fix."
msheiny,2017-10-20 01:52:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98bd3475ab20e4d6252e6757cd81945542ab2ed7,98bd3475ab20e4d6252e6757cd81945542ab2ed7,Bump  wait_for reboot a bit
msheiny,2017-10-20 00:00:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ee602f93c6ffd97668d47f005777c124d7bcf882,ee602f93c6ffd97668d47f005777c124d7bcf882,"Remove broken ansible ping logic :|

I suspect we are getting a big old deny SSH event before cloud init
finishes running completely."
msheiny,2017-10-19 23:59:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27107ff97e10077d0acb378ecf821d8f3c4852db,27107ff97e10077d0acb378ecf821d8f3c4852db,"Ensure that teardown is always running on failure

I thought 'always' meant 'always' :shrug: trying to switch to 'on_fail'
to try and catch some cases where teardown isnt being run properly. If
the molecule task goes all the way through it should teardown on success
before this logic.

See:
https://circleci.com/docs/2.0/configuration-reference/#the-when-attribute"
msheiny,2017-10-14 02:50:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/74a7c37bdce67320aeb987fdc72a92b5a0d968a2,74a7c37bdce67320aeb987fdc72a92b5a0d968a2,"Tighten up AWS spin-up wait_for logic in CI

Ensure that we are actually getting openssh strings on port 22, not that its
merely open. Remove some of the jinja manipulation repeating oureslves in the
with_items loop for the add_host + ping tasks."
msheiny,2017-10-14 01:56:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07cf310bfa96185a3b9e9356c8128b9a6c258410,07cf310bfa96185a3b9e9356c8128b9a6c258410,"Attempt ansible connection early in create process

Occasionally we've seen the ansible connection fail in the setup process
under converge stage. Lets try to mitigate that problem with a retry loop early
on."
msheiny,2017-10-14 01:43:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f601a2281b5307815ea367f57bad9f1dcf826a40,f601a2281b5307815ea367f57bad9f1dcf826a40,"CI - Utilize a pre-configured security group

In an effort to front-load as much logic as possible - creating and tearing down
a security group is one more item to add to that list. Specfically though, I've
noticed it takes a rather long time (up to a minute) just to tear down the
security group at times."
msheiny,2017-10-13 23:44:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb21bf3f3b16dd8c6e620c28ea77574703feb52e,cb21bf3f3b16dd8c6e620c28ea77574703feb52e,"Utilize EC2 API reboot as-opposed to sys-level

The CI build was frequently bombing out at this reboot step. The AWS docs
recommend that you utilize reboots at the AWS API level. Whoops :|"
msheiny,2017-10-13 23:41:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca6818e9f8ac7c1ac2325ac29e060a2b0000afce,ca6818e9f8ac7c1ac2325ac29e060a2b0000afce,"Utilize FPF maintained AMI base image

Attempting to cut-down on CI time, we've started taking the upstream Trusty
image and baking in some of the dependencies we typically sling during
provisioning step."
redshiftzero,2017-10-16 22:08:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dcd196e464c9985cc234a52640d45e8f04e37c48,dcd196e464c9985cc234a52640d45e8f04e37c48,"Merge pull request #2453 from freedomofpress/add-new-hardware-labels

Add new hardware labels for #2452."
t2d,2017-10-14 13:59:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d0226a92404cbcb37484ad90837c8f9c036e5e0,6d0226a92404cbcb37484ad90837c8f9c036e5e0,"Use lintian to test built deb package

* Replace some old manual test with lintian tags"
kushaldas,2017-10-16 05:15:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/642a641a6d6737bb4beb2d7104575f812bf120ae,642a641a6d6737bb4beb2d7104575f812bf120ae,"Fix #2448 updates tails guide documentation for KeePassX

This documentation patch updates the tails guide with the latest
instruction to setup KeePassX."
conorsch,2017-10-15 19:41:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/362675feead6959f432ac5cacc6276d8201015d5,362675feead6959f432ac5cacc6276d8201015d5,"Merge pull request #2444 from freedomofpress/wip-dachary-circle-aws

circleci: wait 120 seconds for an AWS vm to show up"
redshiftzero,2017-10-15 19:19:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ceedcabc663a2d7d1b7133b6c98183f823f4a9f8,ceedcabc663a2d7d1b7133b6c98183f823f4a9f8,Add checks for the HTML lang property when the lang is fr_FR
redshiftzero,2017-10-15 16:52:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba81f6cb4c78fbd0056fb6e1e7197b34dc276a92,ba81f6cb4c78fbd0056fb6e1e7197b34dc276a92,"Merge pull request #2439 from freedomofpress/wip-dachary-l10n

l10n: sync ar de_DE fr_FR nb_NO nl translations"
msheiny,2017-10-13 22:41:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e10f71c5b52d17347daea0bd55e4f75aa493d433,e10f71c5b52d17347daea0bd55e4f75aa493d433,"Merge pull request #2440 from freedomofpress/wip-dachary-circle-aws

circleci: wait 60 seconds for an AWS vm to show up"
KwadroNaut,2017-10-12 22:18:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b0b69c96c60c634424ab58997ba8698bb0e21790,b0b69c96c60c634424ab58997ba8698bb0e21790,"Smoothing wording

It's not a button, doesn't require any action."
heartsucker,2017-10-12 21:09:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dc9ec41222c54e654d201752eaf221310afbff80,dc9ec41222c54e654d201752eaf221310afbff80,"Merge pull request #2438 from freedomofpress/redshiftzero-dayrefactor

[0.4.4] Rename datetimeformat into rel_datetime_format"
redshiftzero,2017-10-12 19:13:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/93fd7ba25c091c17c719230092fb33d7b0ba1aa4,93fd7ba25c091c17c719230092fb33d7b0ba1aa4,"Rename SecureDrop's datetimeformat to rel_datetime_format

This avoids conflicts with Babel's datetimeformat function."
lbu32,2017-10-08 12:51:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f5ebc92157e086632acf1bb0843f570d76f29032,f5ebc92157e086632acf1bb0843f570d76f29032,Refactoring datetimeformat into rel_datetime_format
redshiftzero,2017-10-12 16:20:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4d2672ff6a8ec6502c3765d84d7450f5295e5f24,4d2672ff6a8ec6502c3765d84d7450f5295e5f24,"Merge pull request #2416 from jamesmunns/sudo-becomes

Change all instances of `sudo:` to `become:`"
heartsucker,2017-10-12 12:43:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0bdf299f67d70a47e68fab89c1db1a924b8c17d9,0bdf299f67d70a47e68fab89c1db1a924b8c17d9,"Merge pull request #2434 from freedomofpress/wip-dachary-2422-ngettext

i18n: add missing ngettext to a string with a quantity"
redshiftzero,2017-10-11 15:02:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5c8374e83bba2c9fc2600d0dfa4f77d337537157,5c8374e83bba2c9fc2600d0dfa4f77d337537157,"Merge pull request #2427 from utopalex/login-form-validation

Added Flask WTForm to journalist reply form when verifying message length"
redshiftzero,2017-10-11 14:44:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5c9bab6e9aa517dac3c6f8412dd532debd8d8a99,5c9bab6e9aa517dac3c6f8412dd532debd8d8a99,"Merge pull request #2367 from freedomofpress/wip-dachary-i18n-documentation

docs: l10n and development workflow"
redshiftzero,2017-10-11 14:01:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/947f1cc86f8d13b812967e225ac8507e980c1b6e,947f1cc86f8d13b812967e225ac8507e980c1b6e,"Merge pull request #2431 from freedomofpress/wip-dachary-typo

journalist: fix typo and remove useless message"
redshiftzero,2017-10-11 13:49:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c2e6b468e2d5671d18f671575adeb5fd5896475e,c2e6b468e2d5671d18f671575adeb5fd5896475e,"Merge pull request #2433 from t2d/xdist-doc

Add a comment about pytest-xdist"
redshiftzero,2017-10-11 13:49:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/76c07aae5f87f5a039788956dfcb1f3097458fe9,76c07aae5f87f5a039788956dfcb1f3097458fe9,"Merge pull request #2402 from freedomofpress/source-session-expiration

Encourage sources to restart Tor Browser after session timeout"
t2d,2017-10-09 08:55:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a62f7e3ace363a25c793d6caffebe0ed1807c0c9,a62f7e3ace363a25c793d6caffebe0ed1807c0c9,Add a comment about pytest-xdist
redshiftzero,2017-10-06 19:33:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3eed8d008b092a49a41c84ab437abb85182f2735,3eed8d008b092a49a41c84ab437abb85182f2735,Add page layout screenshot for source session timeout
redshiftzero,2017-10-06 19:17:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de77718d23609b0576e2b1a47ab420868888c25c,de77718d23609b0576e2b1a47ab420868888c25c,"Add functional tests for session timeout on source interface

We add an optional keyword argument `session_expiration` to the
test setup to be used for tests that require the session
timeout to be short.

The timeout cannot be -1 and instead must be a more realistic value
(here 1-2 seconds) as /create will fail if 'codename' is not stored
in the session."
redshiftzero,2017-10-06 00:20:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01f88c67776f7c40be05a18e9d7753e37c18f62d,01f88c67776f7c40be05a18e9d7753e37c18f62d,"Rename functional test classes on source interface

since they were oddly named."
redshiftzero,2017-10-05 22:28:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f2e184b9f10df10eac282a99cd432797409e240,4f2e184b9f10df10eac282a99cd432797409e240,AppArmor: Add read rule for session timeout template on source interface
redshiftzero,2017-10-05 22:28:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9876905bd29f6ba10a174919e94b32462b1bde79,9876905bd29f6ba10a174919e94b32462b1bde79,"Move flashed message to top of page

This produces consistent behavior with the rest of our pages."
redshiftzero,2017-10-05 22:24:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/59e07782f5227fd05481c7403b28dc191466cb7c,59e07782f5227fd05481c7403b28dc191466cb7c,"Update message displayed to sources upon session timeout

Sources should get a message when their session times out indicating
that if they want to continue using SecureDrop, they should log back
in. Else, they should restart Tor browser (which ""New Identity""
effectively accomplishes) as we otherwise do when a user logs out.

To cover the case where sources are not using Tor Browser, we also
remind them to restart their browser."
redshiftzero,2017-10-09 00:12:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2badbfb09b87d92411b55cf6adfbb73c854c008e,2badbfb09b87d92411b55cf6adfbb73c854c008e,"Merge pull request #2426 from squeed/source-dont-show-codename

Source: only show codename on first session"
squeed,2017-10-08 14:19:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d1fc4d7c1e40b3220325c17d5a7dd5c98926ce49,d1fc4d7c1e40b3220325c17d5a7dd5c98926ce49,Source: only show codename on first session
nicolasiensen,2017-10-08 11:51:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/677ebb2f814f3ab267be8148125607631e8e8591,677ebb2f814f3ab267be8148125607631e8e8591,"Improve the login form usability by making input fields larger

In this commit, we are changing the login form style so the input fields
are larger, specially in big screens.

The inputs are set to a maximum width of 445px, the ideal size in order
to display all the characters of the password if the user is using
diceware passphrases.

The login form is now also mobile friendly, since it has a responsive
width, and the input fields will adapt to the screen size as well.

This commit fixes #2288"
jamesmunns,2017-10-08 11:40:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b9d41816e99541ef43753a45b8de1a2cf411dbba,b9d41816e99541ef43753a45b8de1a2cf411dbba,Change all instances of `sudo:` to `become:` to avoid deprecation warning
redshiftzero,2017-10-07 01:13:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae7a6d9007a03382112604244563634de422bba9,ae7a6d9007a03382112604244563634de422bba9,"Merge pull request #2412 from freedomofpress/2253-embiggen-circleci-staging-instances

Increases AWS EC2 CI instance t2.small -> t2.medium"
redshiftzero,2017-10-07 00:07:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e08660d6ff3db38650726356aed111a6c1ec02f,7e08660d6ff3db38650726356aed111a6c1ec02f,"Merge pull request #2411 from freedomofpress/docs-sample-privacy-policy

Docs: Add sample privacy policy to deployment section"
conorsch,2017-10-07 00:05:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/69b3db4f20a3c0fc64ced02fa78bb40b2ee0b49f,69b3db4f20a3c0fc64ced02fa78bb40b2ee0b49f,"Increases AWS EC2 CI instance t2.small -> t2.medium

Twice the price, but we're seeing unreliable connections on the smaller
option, so let's test the old adage of money solving everything.
Besides, we've got a hackathon coming up, and restarting CI frequently
for a cadre of contributors is never fun.

Related to #2253, but insufficient for close."
redshiftzero,2017-10-06 23:28:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1884c648d1f0ad4612d3e543fdcab5a2d0b862fe,1884c648d1f0ad4612d3e543fdcab5a2d0b862fe,Recommend in deployment introduction that orgs have a privacy policy
redshiftzero,2017-10-06 22:38:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4d6c44c82d046c114d9c96e8b90986aa656208a3,4d6c44c82d046c114d9c96e8b90986aa656208a3,Docs: Add Sample SecureDrop Privacy Policy to docs
redshiftzero,2017-10-06 23:36:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bbcbff0f62df90767deb472d52d514e8e95d3b3d,bbcbff0f62df90767deb472d52d514e8e95d3b3d,"Merge pull request #2410 from freedomofpress/fix-bug-allow-dashes-in-wordlist

Allow dashes in words in login form on source interface and add regression test"
redshiftzero,2017-10-06 23:18:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e1f6fe375abe69e77c67497b46e03b85b3e3c401,e1f6fe375abe69e77c67497b46e03b85b3e3c401,"Merge pull request #2408 from freedomofpress/2404-update-securedrop-keyring-for-2018

Updates SecureDrop Release Signing public key"
redshiftzero,2017-10-06 22:55:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/92d2e204d833f9d80449d8e1677ef2d40d40d4df,92d2e204d833f9d80449d8e1677ef2d40d40d4df,"Merge pull request #2409 from freedomofpress/wip-dachary-missing-lookup-string

source: add missing i18n string"
conorsch,2017-10-06 19:26:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da80e9f9ad893a3a0160a03f27a3b627b801d8c3,da80e9f9ad893a3a0160a03f27a3b627b801d8c3,"Updates config tests for release signing key

We have some pretty comprehensive checks for the GPG apt public key,
including checks to ensure that old pubkeys don't stick around during
upgrades of the `securedrop-keyring` package. Updated the existing
config tests to contain the new expiration date, and reorganized the
state=absent checks to use the parametrize pytest marker."
conorsch,2017-10-06 18:24:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9dc22f0ba03ebcc7979754a3a3ff445d09737749,9dc22f0ba03ebcc7979754a3a3ff445d09737749,"Updates SecureDrop Release Signing public key

Expiration date has been increased:

  2017-10-20 -> 2018-10-05

The fingerprint for the SecureDrop Release Signing Key remains the same:

    22245C81E3BAEB4138B36061310F561200F4AD77

The Ansible role uses the ASCII-armored file to set up apt repo access
for the servers at install time. Thereafter, the `securedrop-keyring`
package will manage trust via automatic updates going forward.

The new keyring was generated via the command:

    gpg --no-default-keyring --keyring \
    install_files/securedrop-keyring/etc/apt/trusted.gpg.d/securedrop-keyring.gpg \
    --import  \
    install_files/ansible-base/roles/install-fpf-repo/files/fpf-signing-key.pub

Noting these changes here because the keyring file is binary format, and
therefore difficult to inspect changes for."
redshiftzero,2017-10-06 20:19:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e1fafc2f62bfdeb7b170079a660bb35e6af1007,1e1fafc2f62bfdeb7b170079a660bb35e6af1007,"Merge pull request #2407 from freedomofpress/docs-rerun-install-is-safe

Add administrator instructions for updating system config"
redshiftzero,2017-10-06 18:27:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7aef152abff6f66d6f9981b0344184560c2ffba0,7aef152abff6f66d6f9981b0344184560c2ffba0,"Add ""Updating system configuration"" section to admin user guide"
redshiftzero,2017-10-06 18:26:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21798070e6e4929c2d940b242244c1b1fa250e39,21798070e6e4929c2d940b242244c1b1fa250e39,Add note about rerunning the install being safe to install docs
redshiftzero,2017-10-06 18:24:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/16b472b03762341536e9813d7788d6c731dd52b3,16b472b03762341536e9813d7788d6c731dd52b3,Add reusable text snippet: Rerunning the install is safe
redshiftzero,2017-10-06 00:25:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b3db398972d93ddbce9fd6b3b06540a32d0dd594,b3db398972d93ddbce9fd6b3b06540a32d0dd594,"Merge pull request #2403 from freedomofpress/wip-dachary-babel-source-app

l18n: parse source_app/*.py"
redshiftzero,2017-10-06 00:08:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/efe286529c365875e9419b9f9726440f77ea33f6,efe286529c365875e9419b9f9726440f77ea33f6,Unit tests: Verify all words in wordlist validate in the login form
redshiftzero,2017-10-05 23:32:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a97c6ebda62762501fdf5f18326c8c518d73635f,a97c6ebda62762501fdf5f18326c8c518d73635f,Use @dachary's much clearer regex to validate codenames
redshiftzero,2017-10-05 19:58:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d57f141f159ce0850b346e873a1ff9f45dd04e3e,d57f141f159ce0850b346e873a1ff9f45dd04e3e,"Merge pull request #1494 from heartsucker/session-timeouts

Added expiration to sessions"
redshiftzero,2017-08-29 18:42:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c31c9f292f75a43b53c0bba924c11d903ed5177c,c31c9f292f75a43b53c0bba924c11d903ed5177c,"Update index to create a pseudo ""Virtual Environments"" section"
redshiftzero,2017-08-29 00:34:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9ebd4808c3d82913cb43e6ce08f590d6d9fc230b,9ebd4808c3d82913cb43e6ce08f590d6d9fc230b,"Add documentation on virtualizing an admin workstation in macOS

Adapted from notes from Garrett Robinson and the reddit post
here: https://www.reddit.com/r/tailswiki/wiki/index/internal-hd-install"
redshiftzero,2017-08-29 00:00:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ebdd3af05fcd9e635969edcb66a2f51e42a91af,0ebdd3af05fcd9e635969edcb66a2f51e42a91af,Add more detailed documentation on how to provision prod VMs
heartsucker,2017-10-05 08:41:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5090c3d38b0c7decfcf48cc675c024d6fead2c91,5090c3d38b0c7decfcf48cc675c024d6fead2c91,added SESSION_EXPIRATION_MINUTES to example config
heartsucker,2017-10-05 08:19:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d3fbac0814969a89f7368c94e698b25e2729cf8d,d3fbac0814969a89f7368c94e698b25e2729cf8d,added session expiration tests
heartsucker,2017-10-01 14:48:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/47cb1df4841ffea94276e3a16f6b7712386eb651,47cb1df4841ffea94276e3a16f6b7712386eb651,refactor tests to work around issue #1444
heartsucker,2017-10-01 14:06:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/51f300869f6b60b7618db24da5fa11bcf8a82681,51f300869f6b60b7618db24da5fa11bcf8a82681,added session expiration to source interface
heartsucker,2017-10-01 14:06:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27d198363d7ad862e7fde7c535d7fe34b8cdd500,27d198363d7ad862e7fde7c535d7fe34b8cdd500,added session expiration to journalist interface
redshiftzero,2017-10-04 22:39:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/089eba765ef04f0c9dd61d379f8cd6443b9b3cc7,089eba765ef04f0c9dd61d379f8cd6443b9b3cc7,"Merge pull request #2397 from freedomofpress/allow-symlinks-vagrantfile

Allow symlinks on VirtualBox vagrantfile"
redshiftzero,2017-10-04 18:06:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/62c45998ee19d97bb549722a8cfd6550a056c6ec,62c45998ee19d97bb549722a8cfd6550a056c6ec,"Developer docs: Add note about symlink issue

If people see the test failures described in the node,
it is because they need to  restart VirtualBox as
described in this comment:

https://www.virtualbox.org/ticket/10085#comment:28"
redshiftzero,2017-10-04 00:21:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27db33849859de80b5a81cd65ecbac6e1412f07b,27db33849859de80b5a81cd65ecbac6e1412f07b,"Vagrantfile: Enable symlinks on VirtualBox provider

Due to an issue creating symbolic links in VirtualBox,
this bug: https://www.virtualbox.org/ticket/10085
caused test failures due to a symbolic link for the default
wordlist not working.

This commit enables symlinks for VirtualBox."
redshiftzero,2017-10-04 18:50:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6693dc72069cc81163fcc5f77c38062d34749e95,6693dc72069cc81163fcc5f77c38062d34749e95,"Merge pull request #2393 from freedomofpress/rtl-text-alignment

text-align: right for rtl text directions"
heartsucker,2017-10-03 09:32:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/72924d3605da01e92ea29c546a967eb07ffabfc8,72924d3605da01e92ea29c546a967eb07ffabfc8,text-align: right for rtl text directions
redshiftzero,2017-10-03 18:55:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8dfcdc659f49e556ef04c381a268aeda4c07a3bc,8dfcdc659f49e556ef04c381a268aeda4c07a3bc,"Merge pull request #2121 from freedomofpress/wip-dachary-manage-clean-tmp

manage: clean-tmp removes old files to avoid races"
redshiftzero,2017-10-03 16:40:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b4a790c67f7ae6945df2f07ea0aa1120eefeab3,8b4a790c67f7ae6945df2f07ea0aa1120eefeab3,"Merge pull request #2387 from freedomofpress/docs-deployment-section

Break up deployment guidelines document into separate pages"
redshiftzero,2017-10-03 16:30:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/317a7c247e6112c6efaa1036668c65e547897804,317a7c247e6112c6efaa1036668c65e547897804,"Merge pull request #2394 from freedomofpress/wip-dachary-wording

docs: remove redundant ""successfully"" and s/enter/Enter/"
redshiftzero,2017-10-03 00:06:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7867d2d55be3d12b09ecc0e6bf4247adb0cbf81f,7867d2d55be3d12b09ecc0e6bf4247adb0cbf81f,"Docs: Keep `deployment_practices.rst` for legacy reasons

Renaming `deployment/overview.rst` to `deployment_practices.rst` means
that old links will continue to work. This is a commonly linked page."
redshiftzero,2017-09-29 20:44:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ad49b3dc418265f3fe229d71fd60fc897a12677,4ad49b3dc418265f3fe229d71fd60fc897a12677,"Update all ""Deployment Guidelines"" link to point to relevant page

If the link is specific to the landing page requirements, then link
just to the landing page documentation, else link to the overview."
redshiftzero,2017-10-02 22:16:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e4c6e1bcb11bb463e6ac328da614717878f233f8,e4c6e1bcb11bb463e6ac328da614717878f233f8,"Merge pull request #2344 from freedomofpress/wip-dachary-i18n-diceware

l10n: support localized ascii wordlist for passphrases"
redshiftzero,2017-10-02 21:55:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9097c35b2b0dbd0365960f045d8db550848d41bc,9097c35b2b0dbd0365960f045d8db550848d41bc,"Merge pull request #2388 from freedomofpress/source-improve-form-validation

Improve login form validation on source interface"
redshiftzero,2017-09-30 03:13:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bac54e2a78f2a2e3ba8bba47a1a13664ea5b767c,bac54e2a78f2a2e3ba8bba47a1a13664ea5b767c,Add source_app/forms.py to AppArmor rules
redshiftzero,2017-09-30 02:45:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d8d1eaf8ee21e7bbcfde47ce375856613f8179d3,d8d1eaf8ee21e7bbcfde47ce375856613f8179d3,Update unit tests on source interface
redshiftzero,2017-09-30 02:42:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc906a70dd069a25316fb190a32e2409c340832b,bc906a70dd069a25316fb190a32e2409c340832b,"Add styling for form validation errors on source interface

The style here was inspired by http://uipatterns.io/input-validation
which has recommended practices for good form UIs. Specifically,
there should be clear instructions on how to correct the error and
the error should appear below the form field."
redshiftzero,2017-10-02 21:23:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2e384c0e633a39142ce199f074be1b19fe252c6,e2e384c0e633a39142ce199f074be1b19fe252c6,"Merge pull request #2389 from freedomofpress/code-owners

added code owners for app / deployment code"
redshiftzero,2017-10-02 20:50:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d6750f37f526b5c0e624979e90b9c431050a560e,d6750f37f526b5c0e624979e90b9c431050a560e,"Merge pull request #2385 from freedomofpress/fix-arabic-rendering-src

Fix button styling for Arabic"
heartsucker,2017-10-02 18:31:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/171f4986375c06824321f399da96e7e46d8a14bd,171f4986375c06824321f399da96e7e46d8a14bd,added code owners for app / deployment code
redshiftzero,2017-09-30 02:41:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1266117b7391a6a7d8347896e6bf8498ea91292b,1266117b7391a6a7d8347896e6bf8498ea91292b,"Remove now unnecessary validation code in source_app/utils.py

This is rendered unnecessary by the Length() validator in
LoginForm."
redshiftzero,2017-09-30 02:34:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0013362eae95464d1bc05104e5ea38f72b956886,0013362eae95464d1bc05104e5ea38f72b956886,Integrate LoginForm into main.login on source_app
redshiftzero,2017-09-30 02:23:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2814b934452319a29cf9acff56fb437d795f915f,2814b934452319a29cf9acff56fb437d795f915f,"Add new forms.py with LoginForm to source_app

This LoginForm uses Flask-WTF's validators to validate the the
codename field contains input, is not longer than the max codename
length to avoid DoS, and matches only the expected characters via
regex."
redshiftzero,2017-09-27 17:52:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ced24e1fbac9c5bc6e85c4a4a65f5a1e5ab81262,ced24e1fbac9c5bc6e85c4a4a65f5a1e5ab81262,"Add unit test for invalid codename in /login on source interface

CryptoException is thrown - this logic is not great, so I've added
ticket #2376 to resolve."
redshiftzero,2017-09-29 22:15:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b14ce53dd99cb3730885d87026c89b3e89f8d9df,b14ce53dd99cb3730885d87026c89b3e89f8d9df,"Merge pull request #2380 from freedomofpress/wip-dachary-2379-accept-language-header

i18n: the order of the accepted languages matters"
redshiftzero,2017-09-29 20:44:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68d13fbb0e58f279c13975892d7a40acae89a0fb,68d13fbb0e58f279c13975892d7a40acae89a0fb,"Update all ""Deployment Guidelines"" link to point to relevant page

If the link is specific to the landing page requirements, then link
just to the landing page documentation, else link to the overview."
redshiftzero,2017-09-29 20:44:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1786ae6351b8edf0aa5e62a685c3cdcf0f3c989c,1786ae6351b8edf0aa5e62a685c3cdcf0f3c989c,"Add ""Deployment Best Practices"" section to sidebar"
redshiftzero,2017-09-29 20:43:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a307d32be7298293793a0a80c8b1ce3847e5043,1a307d32be7298293793a0a80c8b1ce3847e5043,Break Deployment Guidelines document into four separate pages
redshiftzero,2017-09-29 16:51:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c379193e536438170471cf7ac11a82633dab807e,c379193e536438170471cf7ac11a82633dab807e,"Merge pull request #2377 from freedomofpress/source-interface-unit-tests

Increase unit test coverage on the source interface"
redshiftzero,2017-09-29 16:23:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b86d2498bef2f7ab1aec311c1a2c45eca6023799,b86d2498bef2f7ab1aec311c1a2c45eca6023799,"SASS: Fix weird spacing between characters on Arabic buttons

Cursive languages like Arabic have connected letters. The styling
on our buttons made the Arabic buttons look weird.

This commit uses the lang selector to show the letter with no
spacing when Arabic is used, else if Arabic is NOT used, the
existing spacing will be used."
redshiftzero,2017-09-28 00:32:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c061b54ba19c5cef40179b5bc822a48516fbff93,c061b54ba19c5cef40179b5bc822a48516fbff93,"Add unit test for case when a source is deleted while logged in

In the case of a journalist deleting a source and their reply keys
while they are logged in, a NoResultFound will occur (in
 __init__.py on the source interface). In this situation, the
source should be redirected to the index and a warning should
be logged."
redshiftzero,2017-09-28 00:14:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0b02e8840bf18b87b2aed829c83300b90e7da304,0b02e8840bf18b87b2aed829c83300b90e7da304,"Remove dead code in source interface: MultipleResultsFound

A MultipleResultsFound exception can never be raised by a query
on a particular filesystem_id, since the uniqueness is raised
at the database level. From db.py:

`filesystem_id = Column(String(96), unique=True)`

Thus we should remove this dead code."
redshiftzero,2017-09-27 23:40:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c2c8a07d8d40b8ff408e1cda718ab22afcd4594,0c2c8a07d8d40b8ff408e1cda718ab22afcd4594,"Add testing for generate_unique_codename's long codename flow

The code-under-test here is just a guard against future changes, but
this unit test verifies that a codename greater than the maximum
codename length cannot be generated.

Note here that in the mock object for genrandomid() here I used a
side_effect that is an iterable such that eventually a valid codename
is produced. If a valid codename is never presented in
generate_unique_codename, it would loop forever."
redshiftzero,2017-09-27 22:52:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03ae26d27b48079fd1e81f86ead9a9dfa775a803,03ae26d27b48079fd1e81f86ead9a9dfa775a803,"Docstring should actually trigger a CryptoException

The docstring here is misleading - it did not trigger a
CryptoException as every character in the example input was in the
ok string"
redshiftzero,2017-09-27 00:17:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85bbd32ef21b859e71ec20322b1428e43d8cb236,85bbd32ef21b859e71ec20322b1428e43d8cb236,"Unit test: Accessing a protected view on source interface

This test is for the @login_required decorator on the source
interface."
redshiftzero,2017-09-26 22:59:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/330a6d985d2d4f52f3db521648c79c1397ce76a8,330a6d985d2d4f52f3db521648c79c1397ce76a8,Source interface: Rollback after IntegrityError in /create
redshiftzero,2017-09-26 22:56:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/341559f575cdc4535397f4c23f8d02f54582309e,341559f575cdc4535397f4c23f8d02f54582309e,"Add unit test for /create on source interface multiple times

If a source accesses the /create route twice, they will make two
attempts to insert a new source into the database. Only the first
should be successful. This commit adds a unit test for the case
of subsequent visits to /create, ensuring that duplicate codenames
are not inserted, an event is logged, and strange errors or logs do not
appear to the user.

This unit test actually reveals a bug: the db_session was not rolled
back in the existing exception handling code, so a 500 will be thrown."
redshiftzero,2017-09-26 22:30:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1792b0f20cb8806a571984c7b291ae4a6e8516b2,1792b0f20cb8806a571984c7b291ae4a6e8516b2,"Add unit test for bulk deletion of replies if no replies present

If a source hits the bulk deletes replies endpoint `/delete-all`
when no replies are stored in the database then a log event
should occur."
redshiftzero,2017-09-27 00:26:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e3fea9822eb34ee7128bb2e82604949da7443c0b,e3fea9822eb34ee7128bb2e82604949da7443c0b,"Merge pull request #2365 from freedomofpress/refactor

Source app refactor"
redshiftzero,2017-09-26 18:32:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f575185d34b5f4ddc23cdfd92c1fafd71f6d4bfc,f575185d34b5f4ddc23cdfd92c1fafd71f6d4bfc,"Merge pull request #2373 from freedomofpress/docs-add-development-roadmap

Readme: Add link to development roadmap"
redshiftzero,2017-09-26 17:39:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff69dceb11b64d28b5e75552a5562cea2f0926ee,ff69dceb11b64d28b5e75552a5562cea2f0926ee,Readme: Add link to development roadmap
heartsucker,2017-09-24 07:05:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd8dea744452debfd84b2777bd9af7bafb98fd91,dd8dea744452debfd84b2777bd9af7bafb98fd91,"inject config, never allow global"
heartsucker,2017-09-23 20:47:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/657061082a3fb103169e6573b930bef597738782,657061082a3fb103169e6573b930bef597738782,moved metadata route into source_app/api.py
heartsucker,2017-09-23 20:38:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7733254e7b3ce39e24acb32a658afd24487cb070,7733254e7b3ce39e24acb32a658afd24487cb070,fixed broken url
heartsucker,2017-09-23 20:37:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a71c2d922beb3ee59e3717bdae0f172c6e59872b,a71c2d922beb3ee59e3717bdae0f172c6e59872b,moved why_download_journalist_pubkey to souce_app/info.py
heartsucker,2017-09-23 20:32:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe1ff1b3a778c6145b5ffd9b06dcf06abb40e514,fe1ff1b3a778c6145b5ffd9b06dcf06abb40e514,moved download_journalist_pubkey to source_app/info.py
heartsucker,2017-09-23 19:58:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/acdc0d71586d0fceea167302e491144f13c2c683,acdc0d71586d0fceea167302e491144f13c2c683,moved recommend_tor_browser to source_app/info.py
heartsucker,2017-09-23 19:52:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b159ebebbe85ff72051de353bc7e44a29a2520b,8b159ebebbe85ff72051de353bc7e44a29a2520b,split views.py into main.py and info.py
heartsucker,2017-09-23 19:37:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/117cc064d2adcb571e38ffe1ba059e0a7a6c25a3,117cc064d2adcb571e38ffe1ba059e0a7a6c25a3,moved tor2web_warning route to blueprint
heartsucker,2017-09-23 18:01:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb6e56417bb0a18881c4f7671f0158ba055fdf0f,cb6e56417bb0a18881c4f7671f0158ba055fdf0f,moved logout route to source_app/views.py
heartsucker,2017-09-23 17:57:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e899624934e34d37f54449cd38c6b792528ec7c1,e899624934e34d37f54449cd38c6b792528ec7c1,moved login route to source_app/views.py
heartsucker,2017-09-23 17:45:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4b9044be80a32448e85a7228cf1504c6702d9108,4b9044be80a32448e85a7228cf1504c6702d9108,moved batch_delete route to source_app/views.py
heartsucker,2017-09-23 17:39:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c39ff16d49e5132f7b46a90aff3b73a1b1f90c81,c39ff16d49e5132f7b46a90aff3b73a1b1f90c81,moved delete route to source_app/views.py
heartsucker,2017-09-23 17:34:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99368c49fe5d2f4aebf8b441b8c83f49f210fa1a,99368c49fe5d2f4aebf8b441b8c83f49f210fa1a,moved submit route to source_app/views.py
heartsucker,2017-09-23 17:27:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a117bc3e0cdf4ace43f5843a0f4ced8e98bcba3,7a117bc3e0cdf4ace43f5843a0f4ced8e98bcba3,moved lookup route to source_app/views.py
heartsucker,2017-09-23 17:19:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1f005261572180d23e7e976019883e43aafd3de1,1f005261572180d23e7e976019883e43aafd3de1,move create route to source_app/views.py
heartsucker,2017-09-23 17:07:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef0d2d87b5fa8155c14fdfb40108d0da670567e0,ef0d2d87b5fa8155c14fdfb40108d0da670567e0,move generate route to source_app/views.py
heartsucker,2017-09-23 16:56:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4aa7edb60996163b97d18f2fc7ed15e74aa7be16,4aa7edb60996163b97d18f2fc7ed15e74aa7be16,moved teardown_appcontext to source_app
heartsucker,2017-09-23 16:37:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe54d6bc63feba6306aed9277fc895725865fa52,fe54d6bc63feba6306aed9277fc895725865fa52,moved setup_g to source_app
heartsucker,2017-09-23 11:59:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd0e50650df1353b886abdb2d10342ca16981c5d,cd0e50650df1353b886abdb2d10342ca16981c5d,moved app.before_request to source_app
heartsucker,2017-09-23 11:52:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/456bca47974c64cef274b416f209ec308939c66a,456bca47974c64cef274b416f209ec308939c66a,moved normalize_timestamps to source_app/utils.py
heartsucker,2017-09-23 11:48:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6aeb73e3ef5e9d829708a1f74d7a4dca1c538762,6aeb73e3ef5e9d829708a1f74d7a4dca1c538762,moved aysnc & async_genkey to source_app/utils.py
heartsucker,2017-09-23 11:44:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/121fa3fab0cce869c367f2f7fea446e9f2fb06ed,121fa3fab0cce869c367f2f7fea446e9f2fb06ed,moved generate_unique_codename to source_app/utils.py
heartsucker,2017-09-23 11:40:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/092255d1886e8d4e21c4a1ea183e3f89819eac23,092255d1886e8d4e21c4a1ea183e3f89819eac23,moved valid_codename to source_app/utils.py
heartsucker,2017-09-23 11:37:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5af2cd3cff95f8bb9068438276b1c00bb7ec3b16,5af2cd3cff95f8bb9068438276b1c00bb7ec3b16,moved ignore_static to source_app/decorators.py
heartsucker,2017-09-23 11:30:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c231bb35de2ac10b9fcc68f94e8ebf2426bd46d,1c231bb35de2ac10b9fcc68f94e8ebf2426bd46d,move login_required to source_app/decorators.py
heartsucker,2017-09-23 11:24:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f86323d5d0c614ae67092f0a0dc2756937f023e8,f86323d5d0c614ae67092f0a0dc2756937f023e8,moved logged_id to source_app/utils.py
heartsucker,2017-09-23 11:06:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b617ec22ccf4a2a4df6a75ecc4fd2f967b363be0,b617ec22ccf4a2a4df6a75ecc4fd2f967b363be0,"moved index route into blueprint, init blueprints"
heartsucker,2017-09-23 10:44:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f5f0c934418edc4910cb31d1f66273534ed0bce0,f5f0c934418edc4910cb31d1f66273534ed0bce0,move error handlers to create_app
heartsucker,2017-09-23 10:31:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/943a117a31935e5332c54cf2c1697a7a2eeb7e87,943a117a31935e5332c54cf2c1697a7a2eeb7e87,moved jinja filters into create_app
heartsucker,2017-09-23 09:20:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5c759e50bfd126c0004812f7dfd97b933e0c0417,5c759e50bfd126c0004812f7dfd97b933e0c0417,"move csrf protection, assets into create_app function"
heartsucker,2017-09-23 09:13:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a286d369bc612c4047d9219e065969f5e66349a,8a286d369bc612c4047d9219e065969f5e66349a,"moved source app into source_app/__init__.py, change resource paths"
redshiftzero,2017-09-25 21:50:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30a06ee76417d62d5bad5f613cfda18bc8cd5517,30a06ee76417d62d5bad5f613cfda18bc8cd5517,"Merge pull request #2252 from freedomofpress/no-more-manual-screenshots

Automate updating screenshots in user guides with Selenium page layout tests"
redshiftzero,2017-09-25 21:49:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/32547a4e564ece8618406d387642256c37f57cf0,32547a4e564ece8618406d387642256c37f57cf0,"Merge pull request #2355 from freedomofpress/html-lang-tag

i18n: support for <html lang=""$lang"">"
redshiftzero,2017-09-02 22:40:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a3676a7905b84b9975c0030f2ce9e8bf7a4a9dca,a3676a7905b84b9975c0030f2ce9e8bf7a4a9dca,Add docs for new Makefile target for updating user guides
heartsucker,2017-09-21 12:56:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/217324bb4599a524c10a0842043606046c323876,217324bb4599a524c10a0842043606046c323876,"i18n: support for <html lang=""$lang"">"
redshiftzero,2017-09-25 18:21:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c192ff8842bc79ade52547ab9b3469559138350f,c192ff8842bc79ade52547ab9b3469559138350f,"Merge pull request #2350 from freedomofpress/i18n-fixes

i18n string fixes"
redshiftzero,2017-09-24 05:53:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38a534a68e2ab9cbd34480b6b2e00914d6d8cca3,38a534a68e2ab9cbd34480b6b2e00914d6d8cca3,"Merge pull request #2368 from freedomofpress/wip-dachary-i18n-datetimeformat

i18n: datetimeformat regression: add {time} ago"
redshiftzero,2017-09-24 05:44:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/48d39305f4954bda56ad15520e9ab8acfbce7972,48d39305f4954bda56ad15520e9ab8acfbce7972,"Merge pull request #2364 from freedomofpress/wip-dachary-i18n-supported-locales

tests: ignore config.py SUPPORTED_LOCALES during tests"
redshiftzero,2017-09-24 05:43:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/269180054036c8f8d5b6a4b9f7bd13a1672e4840,269180054036c8f8d5b6a4b9f7bd13a1672e4840,"Merge pull request #2363 from freedomofpress/journo-interface-username

Show who the user is logged on as on the journalist interface"
redshiftzero,2017-09-23 00:26:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df9fd5f7cf02997d35e62353e09ba67384114daf,df9fd5f7cf02997d35e62353e09ba67384114daf,Journalist interface: Show who the user is logged on as
conorsch,2017-09-22 23:55:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f2989df71ea974cb4e3703fa51a5655025a8e494,f2989df71ea974cb4e3703fa51a5655025a8e494,"Merge pull request #2218 from freedomofpress/StabilizeCIPart2

Stabilize AWS - convert CI provisioning logic to molecule"
conorsch,2017-09-22 23:36:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fdf4b05925771dd52160e22414c68d646e855e69,fdf4b05925771dd52160e22414c68d646e855e69,"Merge pull request #2299 from freedomofpress/lint-shell-scripts

Lint (most) shell scripts throughout project"
conorsch,2017-09-22 22:54:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ea2a3efb99755a837359ec6ddbf0ed995c3ccae1,ea2a3efb99755a837359ec6ddbf0ed995c3ccae1,"Documents shellcheck Makefile target in dev docs

Linking out to the relevant resources, namely the shellcheck git repo
(and README), as well as the associated shellcheck wiki [0], which is
hugely useful for making sense of shellcheck output.

[0] https://github.com/koalaman/shellcheck/wiki"
conorsch,2017-09-22 22:49:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/18ddb68dda9c1a133f398f1eecd21959c9c68849,18ddb68dda9c1a133f398f1eecd21959c9c68849,"Provides ""."" find target to shellcheck linter

We can't use ""$(PWD)"" as we do elsewhere in the Makefile, since the
absolute path on the developer workstation won't match the temporary
mount path on the container. Omitting the directory to search from the
find command works well in Linux (tested Debian 9), but not with macOS's
BSD variant, as reported by @redshiftzero during PR review."
redshiftzero,2017-09-22 19:38:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b73c1c01d141614ca491bbed90532ad881e7cd7f,b73c1c01d141614ca491bbed90532ad881e7cd7f,"Admin user guide: Remove Google authenticator verification image

This image was hard to maintain due to the arrow and added little
to the documentation."
redshiftzero,2017-09-22 19:36:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30af4229acdedc840020bb70fb3cc88019010480,30af4229acdedc840020bb70fb3cc88019010480,"Automate screenshots in admin user guide

This commit replaces six screenshots on the administrator guide
with automated ones."
redshiftzero,2017-09-22 20:48:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30ecc89671e63b8cc468889d6da769277e7a56b0,30ecc89671e63b8cc468889d6da769277e7a56b0,"Remove old Mac OS X screenshots of source interface

We decided not to make the screenshots Mac-specific, and should be
taking screenshots either from Tails or using Selenium. As such, we
can remove these old screenshots from the repository."
redshiftzero,2017-09-22 20:46:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1db635ebfa709b58abe82d1062e438a11cce17cc,1db635ebfa709b58abe82d1062e438a11cce17cc,Source guide: Update text for the cropped down images
redshiftzero,2017-09-22 20:45:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2938c9d99d76827e8921806d9ae79dee6a07e0d,e2938c9d99d76827e8921806d9ae79dee6a07e0d,"Source guide: Crop image of the security slider bubble explanation

For maintainability, let's crop this down to the part of the UI of
interest."
redshiftzero,2017-09-22 20:43:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/465b267ca17907fcc2d552bbfb5b5d488db3daf1,465b267ca17907fcc2d552bbfb5b5d488db3daf1,"Source guide: Replace screenshot of the entire UI with just the banner

We don't have automated screenshots of the warnings on the UI, so
for maintainbility let's just screenshot the banner and update the
image if we change the banner text..

See related issue #1786. If that is implemented, we could take a
screenshot and update this automatically."
redshiftzero,2017-09-22 20:41:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4616920d6217c76d4041c043cd9f08021e41006b,4616920d6217c76d4041c043cd9f08021e41006b,"Source guide: Automate screenshots

Automate nine screenshots on the source interface"
redshiftzero,2017-09-22 20:19:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81f6b426e3be2c5c28d86e6aca10a4a87d419cf8,81f6b426e3be2c5c28d86e6aca10a4a87d419cf8,"Source guide: Shrink image of Tor Browser restart dialog box

This image would otherwise be hard to maintain since these dialog
boxes cannot be screenshotted using Selenium."
redshiftzero,2017-09-22 20:17:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9e8c44028ac4940513bfa062465eaad23a41603a,9e8c44028ac4940513bfa062465eaad23a41603a,"Remove very old images of SecureDrop interface

These images are from mid-2013 and no longer need to be in the repo."
redshiftzero,2017-09-22 20:12:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e6011fd24698197feb065ae315b49aaceba736d1,e6011fd24698197feb065ae315b49aaceba736d1,Journalist guide: Add explanatory text between two images
redshiftzero,2017-09-22 20:12:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/702b53b99c466564bcf605f1d364481b47f4ce57,702b53b99c466564bcf605f1d364481b47f4ce57,Journalist guide: Remove unused document3.png
redshiftzero,2017-09-22 20:05:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8329e4e8304394b097cb80486cc4fd228b376cac,8329e4e8304394b097cb80486cc4fd228b376cac,"Journalist guide: Crop two images for maintainability

These two images would need to be updated if the securedrop UI
behind the dialog box changed. Since what we want to show here
is primarily the dialog box, I have cropped the two images down
to make them easier to maintain."
redshiftzero,2017-09-22 20:04:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0dc0e64f235bb97bfa6313d1709bad490e749edd,0dc0e64f235bb97bfa6313d1709bad490e749edd,"Journalist guide: Automate screenshots

Automate six screenshots on the journalist guide"
redshiftzero,2017-09-22 19:53:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b741f385baaf9cb4266a73f99aec1686e31c847f,b741f385baaf9cb4266a73f99aec1686e31c847f,Remove outdated images of Tails workflow on SVS
redshiftzero,2017-08-31 04:37:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b6b5b2fdbd262ea163ffdb89436c86e42167fcd,9b6b5b2fdbd262ea163ffdb89436c86e42167fcd,"Add Makefile target for updating user guides

* Since this requires the user to be in the development VM,
if the /vagrant directory does not exist it will display
a warning and then exit.
* Else it will run the page layout tests, thus generating all
screenshots, and then copy them over to the correct
directory under /docs for staging for commit."
redshiftzero,2017-08-31 03:55:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/56aa4f3fc8e48a183c3dcf369d63c8f62cf1ce94,56aa4f3fc8e48a183c3dcf369d63c8f62cf1ce94,Add Selenium screenshots for remainder of images in the user guides
redshiftzero,2017-09-22 21:07:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/29b15f93bb61e6ba11534d1c52654b88e0703405,29b15f93bb61e6ba11534d1c52654b88e0703405,"Merge pull request #2349 from freedomofpress/wip-dachary-i18n-locale-menu

i18n: add language selection to source/journalist"
msheiny,2017-09-13 19:01:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/67b2ee2f3ec0f46e6708e92c3923f9ec3d6bb104,67b2ee2f3ec0f46e6708e92c3923f9ec3d6bb104,"Revert ""Fix dev env test - pytest version bump""

This reverts commit 4e89f2c3581a34117b1c72dfa7edf639c8115d3b.
I'm a little perplexed why the test isnt passing in travis. I honestly suspect
some really weird travis behavior is going on."
msheiny,2017-08-31 17:18:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/777f97c0cf4314f2954c8bd7ce8f7cedc64f8fa7,777f97c0cf4314f2954c8bd7ce8f7cedc64f8fa7,"XFAIL functional tor connectivity test :(

This is a really annoying issue to debug and track down. I think its a needed
test but not critical to leave in CI right now because its been getting really
flaky (it works fine as soon as I login to CI manually and run it at terminal)
and the test case needs some refactoring and expansion. Preferably with a web-driver.
Happy to chuck this to another ticket."
msheiny,2017-08-31 16:30:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/62b10775cfac4d6b6101b6f8e0b6bf84fe094358,62b10775cfac4d6b6101b6f8e0b6bf84fe094358,"Dont crash CI for failed sec group removal

These security groups dont cost anything to keep around -- and sometimes the AWS
instances take really really long to terminate (hence the crash). So lets just
ignore these errors and punt to having an automated way to clean them up later."
msheiny,2017-08-31 16:12:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dbaeb33c79e78085066297f25a2ee7ce73f20464,dbaeb33c79e78085066297f25a2ee7ce73f20464,"Revert ""Update application tests to run w/ parallel mode""

This reverts commit 46689410e5f759fd5e8ec009c6f9667b188573cc.
Which happens to break during CI testing :| Hahah. I wanted to keep the commit
history though which is why I didnt rebase here."
msheiny,2017-08-30 13:32:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90ecff85f7af3fbea75e9783cfcf319464988fc8,90ecff85f7af3fbea75e9783cfcf319464988fc8,Update application tests to run w/ parallel mode
msheiny,2017-08-30 13:30:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3c00a9859551d4f3f50cf93bcdaf669fd6912909,3c00a9859551d4f3f50cf93bcdaf669fd6912909,"Update build_num environment variable in dev setup

To make things a little easier, started using the native CIRCLE_BUILD_NUM env
var instead of trying to recast it. Forgot to previously update the local dev
env setup to reflect this."
msheiny,2017-08-30 13:29:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/874186b5eca291af6b68f9e4dec646b61102f4ec,874186b5eca291af6b68f9e4dec646b61102f4ec,"Enable ansible profiling

Lets try and speed up our ansible CI runs! Task one, moar data!"
msheiny,2017-08-30 02:10:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e16362c79ea0906f4875e8df23a4e76989e33c05,e16362c79ea0906f4875e8df23a4e76989e33c05,Fix flake8 issues
msheiny,2017-08-30 01:32:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/becbe2d91a2908576f25275ae758e1fd5df5735a,becbe2d91a2908576f25275ae758e1fd5df5735a,"Skip reboot include under AWS CI

The pathing doesnt really play nice with the molecule scenario. Rather than try
to fix this now (and possibly cause weird vagrant issues), lets skip it under
CI. A reboot task is specifically called under the side-effect task under
molecule anyways."
msheiny,2017-08-30 01:30:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9cf90da1a173bc54250d51d495d61593ba21afde,9cf90da1a173bc54250d51d495d61593ba21afde,"Set testinfra builder scenario to parallel

This is really a pytest option, `-n numprocesses`. Setting this to auto mode is
supposed to use CPU detection for ideal number of workers."
msheiny,2017-08-30 00:56:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/beaedbc6a31a30b9353fdd1b5c7dd258c9288b2f,beaedbc6a31a30b9353fdd1b5c7dd258c9288b2f,"Consolidate wkflow b/c of broken CircleCI debug :(

Basically - workflows and utilizeing workspace persistence doesnt play nice with
SSH debugging. Since SSH debugging is so insanely useful, we'll have to revert
for now until Circle solves this issue."
msheiny,2017-08-29 21:51:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aca62ae8f6056294cfe1565f7ab395552f5ad104,aca62ae8f6056294cfe1565f7ab395552f5ad104,Cleanup lingering devops scripts
msheiny,2017-08-29 21:46:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2b962cad29bebbd5d48b6f456c41ef4089c955c4,2b962cad29bebbd5d48b6f456c41ef4089c955c4,"Ensure that entire job fails on test failures

I incorrectly assumed that CircleCI would fail when a test failed in the junit
output :( Noppeee"
msheiny,2017-08-29 16:53:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f32f8ebf4cf31a5fcf2de18560b792e56575df1,8f32f8ebf4cf31a5fcf2de18560b792e56575df1,Utilize workflows for build and staging CI jobs
msheiny,2017-08-29 15:44:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/84a022595a279ad31edb0b91334906cfdaf8f97e,84a022595a279ad31edb0b91334906cfdaf8f97e,"Switch from using private docker image to FPF

This was built using the Dockerfile in `devops/docker/CIDockerfile`, this commit
closes #1877."
msheiny,2017-08-29 15:23:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/344952063eaf063d101c2deeada9fc3b686d998f,344952063eaf063d101c2deeada9fc3b686d998f,"Get testinfra/app tests running against molecule

This was fun :| I removed some of the hacky yaml manipulation from the bash
scripts and instead am relying on environment variables. Also wanted to ensure
that the testinfra tests do not bomb out the whole job but continue to run so we
can get that sweet junit xml output."
msheiny,2017-08-29 14:34:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d8a64f8f60ab96a11d1dc40939c70fa70deca18,7d8a64f8f60ab96a11d1dc40939c70fa70deca18,"Break AWS logic into separate role, fix converge

This commit also starts to cleanup some of the lingering scripts in the devops
directory. Essentially though, this is a good commit stopping point for a
working spin-up, converge, and tear-down of the AWS env under molecule."
msheiny,2017-08-29 13:45:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cf05915c499c84413bf2c59233ce887146b33871,cf05915c499c84413bf2c59233ce887146b33871,"Fix ec2 tag restriction + bring-in ssh-config

EC2 tag restriction logic was previously problematic (multiple re-runs werent
properly restricting new instances based on tags) - thats fixed.

I also brought in the ssh-config logic for testinfra that was previously being
used in the `./devops` folder."
msheiny,2017-08-28 18:16:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3dc97bcfe6152b2a9cae1e98241acbb0ec92b940,3dc97bcfe6152b2a9cae1e98241acbb0ec92b940,"Re-design rescue logic for AWS startup

Turns out that `retries` do not work against the `include` module and this
particularly connectivity issue is hard to test for ... so expect further
incoming commits to tackle this issue if this doesnt work."
msheiny,2017-08-26 21:49:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a7d8fa7d4fb064bb4f9e2812fe36c027b3e77fbf,a7d8fa7d4fb064bb4f9e2812fe36c027b3e77fbf,"Provisioning/Destroy Working For Moleculev2 AWS

Initial commit that has basic working functionality serving as the foundation
for conversion from our bash script nightmare to utilize molecule for AWS CI
provisioning testing."
msheiny,2017-08-20 14:54:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/967b4693f0b9eb4a1a5e2a89ce57fc185cafd81e,967b4693f0b9eb4a1a5e2a89ce57fc185cafd81e,"Fix dev env test - pytest version bump

During addition of molecule, pytest version got bumped on the latest
pip-compile. Bumping the testinfra tests to coincide."
conorsch,2017-09-14 00:21:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/65891b3ac73637a3b4480000baf60a262801a7d4,65891b3ac73637a3b4480000baf60a262801a7d4,"Uses official shellcheck Docker image for linting

The Dockerfile is built from ""scratch"" and contains only the shellcheck
binary. Therefore we still have to run `find` outside the container and
pass in the filepaths relative to the `/mnt` directory inside the
container, which is also set as the working directory.

Also excluding SC1091 since the container won't have any of the included
files. Better for cross-platform testing anyway, since those checks
would have passed on Linux developer workstations, but failed on macOS
anyway.

Relevant resources:

  * https://hub.docker.com/r/koalaman/shellcheck/
  * https://github.com/koalaman/shellcheck"
conorsch,2017-09-13 19:54:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2c13a2279379ee28cb127363b77c31faed4b4b85,2c13a2279379ee28cb127363b77c31faed4b4b85,"Adds shellcheck to `make lint` target

Works fine on Linux, where shellcheck is easily available in apt
repositories, but not on Mac, where one must install via Homebrew.
Open to revising this to run only in CI."
conorsch,2017-09-13 18:43:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/50ea7d0c79abe14c1e435534e5a58aaa3f532ee5,50ea7d0c79abe14c1e435534e5a58aaa3f532ee5,"Excludes certain shellcheck rules from linting

SC2001 [0] refers to use of sed for munging variables in Bash. The rule only triggers
on our update_version script, which admittedly is pretty difficult to read when
it comes to swapping out the periods within the version numbers (since
the periods are treated as special characters by sed).

SC2064 [1] refers to use of bash traps, and is violated only once in our
project, in the securedrop-keyring package preinst script. The usage
there works either way, so we could place an in-line ignore within the
file, but I figured that would only complicate review. Once we have
linting in place, we can continually revise to get up to par.

SC2181 [2] refers to exist code checking via `$?`, rather than in-line. This
is low priority, since it's stylistic more than functional, and besides
some of the files that showed violations here are slated for removal
(specifically the bash scripts for CI, which are being ported to
 Molecule).

[0] https://github.com/koalaman/shellcheck/wiki/SC2001
[1] https://github.com/koalaman/shellcheck/wiki/SC2064
[2] https://github.com/koalaman/shellcheck/wiki/SC2181"
conorsch,2017-09-13 18:41:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ca58932fa7e15f730ff09af3ae614d874a4b4a4,4ca58932fa7e15f730ff09af3ae614d874a4b4a4,"Skip shellcheck on the OSSEC deb package scripts

We have a dedicated issue for cleaning up the OSSEC Debian packages, in
particular the rat's nest of postinst setup lines that contain many
shellcheck violations. Fixing those issues now, during the introduction
of the shellcheck linting target, would complicate review, and belongs
in a separate PR.

Since the find command got gnarlier, prefixing it with `@` to avoid
printing the pipe chain to stdout."
conorsch,2017-09-03 00:11:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e4ac7ead45155a4c63bca341cb4afa43cce1f3a,0e4ac7ead45155a4c63bca341cb4afa43cce1f3a,"Shellcheck compliance: SC1090 fixes

SC1090: Can't follow non-constant source. Use a directive to specify
location.

The recently added pre-commit hook sources a file, but within a
conditional statement, since not all developers will store their
virtualenv in the same location. Shellcheck isn't smart enough to parse
the conditional, so just ignore the implied source path.

If we use the shellcheck directive to point to the path, and it doesn't
exist, shellcheck will still fail, since it can't read in the file
at the designated source path. The shellcheck wiki recommends the
/dev/null approach in such scenarios.

URL to the Shellcheck wiki for this rule:

https://github.com/koalaman/shellcheck/wiki/SC1090"
conorsch,2017-09-03 00:01:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4974c2fb041d4b1d811c19f78e686a5b72ac158e,4974c2fb041d4b1d811c19f78e686a5b72ac158e,"Shellcheck compliance: SC2059 fixes

SC2059: Don't use variables in the printf format string. Use printf
""..%s.."" ""$foo"". Fair enough, we easily could be using ""echo"" in
this file rather than printf. No other files showed a 2059 violation.

URL to Shellcheck wiki for this rule:

https://github.com/koalaman/shellcheck/wiki/SC2059"
conorsch,2017-09-02 23:47:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fbde2d20ffecbb5780fb5b300bcdf6814d3241d6,fbde2d20ffecbb5780fb5b300bcdf6814d3241d6,"Shellcheck compliance: SC2006 fixes

SC2006: Use $(..) instead of legacy `..`. This one I'm particularly
partial to, since many folks still use the backticks. Now that I've
broken myself of the habit, I instruct machines to tell others to make
the same jump.

URL to Shellcheck wiki for this rule:

https://github.com/koalaman/shellcheck/wiki/SC2006"
conorsch,2017-09-02 23:11:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d08d390bb7de840d6c462ec6cb05ede195e49e9a,d08d390bb7de840d6c462ec6cb05ede195e49e9a,"Shellcheck compliance: SC2086 fixes

SC2086: Double quote to prevent globbing and word splitting.

Note the special handling of the fileglob in `build_generic_package.sh`:
it's outside the double quotes, since wildcard expansion does not occur
inside double or single quotes in bash. From `man bash`:

    The special parameters * and @ have special meaning when in double
    quotes (see PARAMETERS below).

    PARAMETERS
    *      Expands  to  the  positional  parameters, starting from one.

Thus it's outside the quotes.

URL to Shellcheck wiki for this rule:

https://github.com/koalaman/shellcheck/wiki/SC2086"
conorsch,2017-09-02 23:42:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d42713218d700a5cdaf56af2bb7cbda535b02a96,d42713218d700a5cdaf56af2bb7cbda535b02a96,"Deletes legacy migration scripts

We had a number of migration scripts hanging around in the repo, left
over from the pre-0.3 days. SecureDrop 0.3 was released two and a half
years ago (the current release as of today is 0.4.2), so it's time to
say goodbye to these faithful helpers.

Most migrations these days are handled via preinst/postinst scripts in
the Debian package. If we need more comprehensive changes, we can write
them declaratively via Ansible and instruct Admins to run a dedicated
playbook."
conorsch,2017-09-02 23:34:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/24df0a39a3b93738aa056a82ca790cd80ae92a39,24df0a39a3b93738aa056a82ca790cd80ae92a39,"Removes unused OSSEC email setup script

The `setup_gmail_test.sh` script is a legacy artifact, not used anywhere
in the configuration, and not even mentioned in the project docs. Rather
than update it according to shellcheck's linting standards for shell
scripts, let's just remove it. We can always dig it out of git history
if we need it in the future, but as of today, it's simply cruft."
conorsch,2017-08-29 02:23:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8726edfc1e42c5286e7250f6b74ca527c4b3ebdf,8726edfc1e42c5286e7250f6b74ca527c4b3ebdf,Creates shellcheck Makefile target
redshiftzero,2017-09-22 17:44:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/95d09b70783a279353180a48c53d006cbe0737e2,95d09b70783a279353180a48c53d006cbe0737e2,"Merge pull request #2326 from freedomofpress/test-manage-py

Tests for manage.py"
heartsucker,2017-09-22 16:12:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d42621417096c9507a41777f4e4d1178f328329c,d42621417096c9507a41777f4e4d1178f328329c,"Merge pull request #2359 from freedomofpress/jen-test-manage-py

Add asserts in tests for manage.reset to verify database is reset"
redshiftzero,2017-09-22 16:11:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5645e2fa2d5541272f2b4ad463dfeb6ee834aac3,5645e2fa2d5541272f2b4ad463dfeb6ee834aac3,"Merge pull request #2345 from freedomofpress/wip-dachary-i18n-pot-creation-date

l18n: do not update messages.pot if there is no change"
redshiftzero,2017-09-22 16:10:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a3fb5e494e262071e1dc38f800dcee20c617f319,a3fb5e494e262071e1dc38f800dcee20c617f319,"Merge pull request #2358 from freedomofpress/comradekingu-string-changes

Add test changes for @comradekingu string changes on journalist interfaces"
heartsucker,2017-09-20 18:09:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1170179caafff60e3fb078b07ea2c1252114d286,1170179caafff60e3fb078b07ea2c1252114d286,i18n: minor strings / gettext fixes
redshiftzero,2017-09-22 05:49:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd1bb124836b874e7f4970ebe8cdf318f553c2c6,dd1bb124836b874e7f4970ebe8cdf318f553c2c6,Add asserts in for manage.reset to verify database is reset
redshiftzero,2017-09-22 02:44:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca7096ad7103986c72c978fd1e38ac8a67b4606b,ca7096ad7103986c72c978fd1e38ac8a67b4606b,Update tests for string changes on the journalist interface
comradekingu,2017-09-14 14:22:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e865d369b17ae05e280c28b8941ac1f62295e236,e865d369b17ae05e280c28b8941ac1f62295e236,"Less !, ID, shorter"
comradekingu,2017-09-02 22:30:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2bf7c02149f4cd60bfdf69cef77038985eff47ff,2bf7c02149f4cd60bfdf69cef77038985eff47ff,Log out
redshiftzero,2017-09-22 01:17:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d38d76ff0ece7e62f3468bcf4cbcc51a6e4b7139,d38d76ff0ece7e62f3468bcf4cbcc51a6e4b7139,"Merge pull request #2348 from freedomofpress/wip-dachary-i18n-msgmerge

i18n:  enable fuzzy translations"
redshiftzero,2017-09-21 23:12:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b2c13d1a16e17086f55a05b453eb333e0a19203,7b2c13d1a16e17086f55a05b453eb333e0a19203,"Merge pull request #2353 from freedomofpress/wip-dachary-i18n-formatdatetime

jinja: implement localized filesizeformat() and datetimeformat() filters"
redshiftzero,2017-09-21 21:13:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca9d2603c10748c131fdc98fb9c7323724171f7b,ca9d2603c10748c131fdc98fb9c7323724171f7b,"Merge pull request #2352 from freedomofpress/wip-dachary-manage-sh-debug

manage: sh display debug output on error"
redshiftzero,2017-09-21 21:05:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a1456c7fc57051b6aa1d6e8386304afba757343,4a1456c7fc57051b6aa1d6e8386304afba757343,"Merge pull request #2346 from freedomofpress/wip-dachary-i18n-translate-verbosity

i18n: manage.py translate reports about updates"
redshiftzero,2017-09-21 21:00:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/faee35727850f3411a00f63ab067cb0b7389772f,faee35727850f3411a00f63ab067cb0b7389772f,"Merge pull request #2343 from freedomofpress/wip-dachary-i18n-html-dir

i18n: set html dir attribute from locale"
redshiftzero,2017-09-21 18:24:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/337882db2b078895d5dcc2bd9d1e83b1c9a1f31d,337882db2b078895d5dcc2bd9d1e83b1c9a1f31d,"Merge pull request #2357 from freedomofpress/exit-to-log-out

changed exit button to logout button"
heartsucker,2017-09-21 14:44:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef05d9cbd99a2aa213240388a76e926cdd8894dd,ef05d9cbd99a2aa213240388a76e926cdd8894dd,changed exit button to logout button
redshiftzero,2017-09-20 18:03:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba78e2963cc0e100747311aefaf0379dca5e3534,ba78e2963cc0e100747311aefaf0379dca5e3534,"Merge pull request #2308 from freedomofpress/wip-dachary-i18n-gettext-sources

i18n gettext sources"
redshiftzero,2017-09-19 22:11:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/abd952c8ca33921a03650492def206723ee38043,abd952c8ca33921a03650492def206723ee38043,"Merge pull request #2337 from freedomofpress/docs-rerunansible

document how to rerun Install playbooks if needed"
redshiftzero,2017-09-19 20:46:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fae363965d8f2793b868df43a64b4588bcc60b0a,fae363965d8f2793b868df43a64b4588bcc60b0a,"Merge pull request #2306 from freedomofpress/wip-dachary-i18n-load-locale

i18n: load the locale depending on user preferences"
redshiftzero,2017-09-19 17:38:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/317e71fda2169c9551580321a4aa3381174dca3a,317e71fda2169c9551580321a4aa3381174dca3a,"Merge pull request #2328 from freedomofpress/test-admin-edit-user

admin_edit_user endpoint tests"
heartsucker,2017-09-19 08:35:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/61ea261875668b7f07215c69c0e40c5513be5da7,61ea261875668b7f07215c69c0e40c5513be5da7,correctly set http form is_admin to false
redshiftzero,2017-09-18 23:45:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/579d7037df79672ceb5c40748dae140e7306559d,579d7037df79672ceb5c40748dae140e7306559d,"Merge pull request #2336 from kushaldas/kushaldas-2262-extra-zip-level

Fixes #2262 Removes extra folder level in zip"
redshiftzero,2017-09-18 23:07:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0135427dce433fe42ec8b68f4ef1f09294ab294,f0135427dce433fe42ec8b68f4ef1f09294ab294,"Merge pull request #2322 from freedomofpress/wip-dachary-2276-source-copy-codename

source: toggle show/hide via target CSS selector"
redshiftzero,2017-09-18 22:05:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2640258ccf1e9f3593bd9649ec7424ef8805a2da,2640258ccf1e9f3593bd9649ec7424ef8805a2da,"Merge pull request #2298 from freedomofpress/RebaseAllTheThings

Rebase to latest develop conditionally in CI"
redshiftzero,2017-09-18 21:48:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fdb0927f68ce075158dfe6735cc984782918720a,fdb0927f68ce075158dfe6735cc984782918720a,"Merge pull request #2325 from freedomofpress/wip-dachary-i18n-relative-time-case

journalist: unify case of relative datetime"
redshiftzero,2017-09-18 21:17:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5c242d3aaabdcc24be32201a72f5e04b76b42244,5c242d3aaabdcc24be32201a72f5e04b76b42244,"Merge pull request #2319 from freedomofpress/unit-tests-store

Increase unit test coverage to 100% for store.py"
redshiftzero,2017-09-18 21:15:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2b66d1b0bede16a52176e977f71126f175ef30bc,2b66d1b0bede16a52176e977f71126f175ef30bc,"Merge pull request #2320 from freedomofpress/docs-reorderaliases

Autocomplete local_servers aliases for pfSense"
redshiftzero,2017-09-18 21:15:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a57d92a2ab2589989027108c2e3f713bdf63c9e4,a57d92a2ab2589989027108c2e3f713bdf63c9e4,"Merge pull request #2324 from freedomofpress/wip-dachary-2323-col-third-person

journalist: the user to be created uses a YubiKey"
redshiftzero,2017-09-18 21:15:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2d2f1f9ac73ee95d0c1e1fab7422eb783bd849b3,2d2f1f9ac73ee95d0c1e1fab7422eb783bd849b3,"Merge pull request #2329 from freedomofpress/wip-dachary-page-layout-selection

tests: PAGE_LAYOUT_LOCALES controls --page-layout scope"
kushaldas,2017-09-18 17:02:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/989b51037d4fa87724210bd03598cd8ed86dc39e,989b51037d4fa87724210bd03598cd8ed86dc39e,"Fixes #2262 Removes extra folder level in zip

Downloading submissions from any source, will now
have only one level directory based on source name."
heartsucker,2017-09-17 18:01:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7bee87660eb348bc55f27248af7fd045a47a4796,7bee87660eb348bc55f27248af7fd045a47a4796,admin_edit_user endpoint tests
heartsucker,2017-09-16 11:09:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d748555afcb4cbeef4e9799f733643ce2eed88f6,d748555afcb4cbeef4e9799f733643ce2eed88f6,added test for reset command
heartsucker,2017-09-16 10:27:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ac380d7511728d1040e36839d5fed8e68559e41,5ac380d7511728d1040e36839d5fed8e68559e41,added delete user tests
redshiftzero,2017-09-15 20:32:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/62e86d8ac2de494f10e7ed76dd02f41997d3deea,62e86d8ac2de494f10e7ed76dd02f41997d3deea,"Merge pull request #2309 from freedomofpress/bmeson-gpgfix

fix for #2307, inconsistent documention breaks ansible playbook"
redshiftzero,2017-09-15 20:10:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09a334b57af95b3d66fe4f6434ffa80a4a067636,09a334b57af95b3d66fe4f6434ffa80a4a067636,DRY up store.py unit tests
redshiftzero,2017-09-15 19:57:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b4be831d4341842d852e192b860caaa382e891ee,b4be831d4341842d852e192b860caaa382e891ee,Unit tests for store.py: rename_submission OSError exception handling flow
redshiftzero,2017-09-15 18:44:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/43d379495d8315f14a3d67f7b17665e3d28fff1d,43d379495d8315f14a3d67f7b17665e3d28fff1d,Unit tests for store.py: Verify invalid filename throws exception
redshiftzero,2017-09-15 18:36:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/989392e9983cbcb1b663d13648b9acdac36a1cbd,989392e9983cbcb1b663d13648b9acdac36a1cbd,Unit tests for store.py: Verify invalid extension throws exception
redshiftzero,2017-09-15 18:23:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c12e4b67a8d451b604ea1d354dc4898c53690d59,c12e4b67a8d451b604ea1d354dc4898c53690d59,Unit tests for store.py: verify() should validate a flagged source
redshiftzero,2017-09-14 18:53:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6dabaf1d8726b8053c547bf597de7738c1a59e74,6dabaf1d8726b8053c547bf597de7738c1a59e74,Unit tests for store.py: Pin down expected behavior of store.path
redshiftzero,2017-09-14 21:01:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d71396039753d3f98f8783e5faad96a378425a1,6d71396039753d3f98f8783e5faad96a378425a1,"Merge pull request #2256 from freedomofpress/wip-dachary-844-redis

run srm with minimal dependencies"
msheiny,2017-09-14 17:35:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/12b93cc265cdf03a32fb764b355e975dd0e32f13,12b93cc265cdf03a32fb764b355e975dd0e32f13,CI - Add git author details in merge script
msheiny,2017-09-14 16:34:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ee3cd29b70674c40ab72c4ef7e91a3986a864e0,5ee3cd29b70674c40ab72c4ef7e91a3986a864e0,"Punt git merge bash one-liner to script

Not a big fan of having long drawn out bash script lines directly in circleCI
configs so ended up moving this logic to a separate script file."
redshiftzero,2017-09-14 16:20:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/db2ce857c4ddf8a46f13fae9bea2f6a42c7e9a13,db2ce857c4ddf8a46f13fae9bea2f6a42c7e9a13,"Merge pull request #2302 from freedomofpress/wip-dachary-tiny-tiny-typo

journalist: fix a missing s/Yubikey/YubiKey/"
redshiftzero,2017-09-14 15:57:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/acf3dd1d767c61213c0251b42dbc9da93da525b9,acf3dd1d767c61213c0251b42dbc9da93da525b9,"Merge pull request #2135 from freedomofpress/wip-dachary-i18n-package

i18n: package securedrop-app translation files"
redshiftzero,2017-09-14 15:54:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4056979cef2297d9c0bb7cc0035ca522200e2689,4056979cef2297d9c0bb7cc0035ca522200e2689,"Merge pull request #2296 from freedomofpress/lint-yaml-files

Lint YAML files throughout project"
conorsch,2017-09-13 22:58:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/966a6c618ec9cee1b50105a41e6e3adea2f7a382,966a6c618ec9cee1b50105a41e6e3adea2f7a382,"Documents the yamllint setup in dev docs

Section title is ""YAML"" but perhaps ""Ansible"" would be more apt.
Let's wait until we decide whether to use `ansible-lint` and rename at
that time if necessary."
conorsch,2017-09-13 16:55:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71993e73ec32daab1ca388c68b51786cb66dfaf0,71993e73ec32daab1ca388c68b51786cb66dfaf0,"Adds yamllint to develop pip dependencies

Ensuring that the Development VM can run the yamllint Makefile target.
The develop-requirements file is installed in the Dev VM, and also
mentioned in the dev docs as what developers should install within a
virtualenv on their workstations, in order to work on SecureDrop.

In the same stroke, we get yamllint available via pip in Travis, as
well, which is where the linting tasks run in CI.

Really, we should be sorting out the pip requirements files and
consolidating them responsibly. The need to do so is tracked in #2175."
conorsch,2017-09-13 20:08:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5abaf27e3b2a971d8c3b83585726ab0f47183d8c,5abaf27e3b2a971d8c3b83585726ab0f47183d8c,"Makes find command for yamllint cross-platform

The `-regextype=posix-extended` is not cross-platform; specifically, it
doesn't work on macOS. Let's use find to print all paths (except those
pruned), then filter for YAML files with grep. Using the `-E` flag to
grep for ""extended"" regex, which is equivalent to the missing find
option. (Reminder: do one thing and do it well!)

Also prefixing the find command with `@` to prevent the command from
being printed to stdout, since it's now garish."
conorsch,2017-09-13 20:11:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/48cd0cc970f7358278f7b4985034695d5a9fea6d,48cd0cc970f7358278f7b4985034695d5a9fea6d,"Removes trailing newlines from YAML files

The `yamllint` error looks like:

  warning  too many blank lines (1 > 0)  (empty-lines)

It's only a warning, but still, let's clean it up. No function changes
to any of the YAML files edited here, strictly linting."
conorsch,2017-09-13 06:36:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c83d31cd0bd6d3eeb56a0bffdfc296d38e415190,c83d31cd0bd6d3eeb56a0bffdfc296d38e415190,"Lint YAML files with extensions .yml and .yaml

As of today, the project contains no files matching `^.*\.yaml`. That
may change in the future, however, and simply checking for `.yml` files
will cause linting to miss new files if they are added with the `.yaml`
extension. So, check for both. We can't use `file` because it's not YAML
aware."
conorsch,2017-09-13 06:27:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a0409c7d815fec0f38013bd9973c8902162e2dd,8a0409c7d815fec0f38013bd9973c8902162e2dd,"Creates custom yamllint config file

There are a 191 violations of the ""line too long"" rule if the max length
is 80 characters. That's too many to deal with at present, and it clutters up
the linting output, so let's relax the max length line rule to 200
characters, and preserve the ""warning"" status from the relaxed ruleset.

The yamllint man page states that yamllint will automatically detect and
apply a `.yamllint` file in the CWD, so it's technically unnecessary to
expand the fullpath in the Makefile, but doing so is more explicit for
contributors who may not be aware of the dotfile."
conorsch,2017-08-29 02:03:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0fdf1ede6775e90164d94606c67b23b3b3e40797,0fdf1ede6775e90164d94606c67b23b3b3e40797,"YAML linting: Removes trailing whitespace throughout

Multiple files, both playbooks and task lists, contained trailing
newlines. Not everyone configures their editor to prune (or warn about)
trailing whitespace, so let's use CI machinery to do the checking.
That's what machines are for!"
conorsch,2017-08-29 02:02:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a372f9f8649f9ca9f73402c60d873493ed4c4b08,a372f9f8649f9ca9f73402c60d873493ed4c4b08,"YAML linting: Fixes duplicate key error in vars

The testinfra config tests contain YAML vars files, and one of them had
a duplicated var (meaning only the last declared was used). This is
precisely the type of error YAML linting should be catching. Hurray!"
conorsch,2017-08-29 02:29:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/86676842ad3ff0c1fdf17acf52bc79b057b88d80,86676842ad3ff0c1fdf17acf52bc79b057b88d80,"Hooks up yamllint makefile command to ""lint"" wrapper

We're not installing the yamllint package anywhere yet. It should be
available by default in Travis, but I doubt it will be in Circle."
conorsch,2017-08-29 02:00:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/056854312481fa669f291dfd8661ce865257d793,056854312481fa669f291dfd8661ce865257d793,"Adds yamllint Makefile target for linting YAML

Using the ""relaxed"" profile to convert the most common violations from
errors to warnings (warnings still exit non-zero). There aren't a whole
lot of violations here; I'm rather happy.

Contains a somewhat inscrutable find command. The `prune` logic simply
prevents recursing into the `.venv/` directory, which is where the
securedrop-admin script sets up a virtualenv for install Python
dependencies via pip for Admin Workstation tooling. We don't want to
fail on errors inside that directory, because we don't maintain the
source files in there.

Furthermore, the mapped mounting strategy I use for Tails VMs via
libvirt makes the ownership tricky (due to the amnesia user map),
so the files in .venv/ do not pass the `-readable` check in find."
redshiftzero,2017-09-13 22:47:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/927cc2baae4d397c5acf5e3addef0db413560565,927cc2baae4d397c5acf5e3addef0db413560565,"Merge pull request #2285 from freedomofpress/release/0.4.3

Merge final 0.4.3 post-release changes into develop"
msheiny,2017-09-13 21:53:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d6044a88db001a22fcde0f3ea504cbba15f80017,d6044a88db001a22fcde0f3ea504cbba15f80017,"Rebase to latest develop conditionally in CI

This fixes #2080 by rebasing early in the testing process in CircleCI. I see a
potential issue with race conditions that I'm not sure how to resolve -- I still
think this situation is greatly improved with our current workflow enough to
power through."
redshiftzero,2017-09-13 16:57:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97af2d242e781a05449d739ffcb7bc9e5952e313,97af2d242e781a05449d739ffcb7bc9e5952e313,"Merge pull request #2295 from freedomofpress/wip-dachary-2266-revert

Revert ""silently strip whitespace from fingerprint"""
redshiftzero,2017-09-12 16:50:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/57ba5a5ab2c69c35736edace7e2348bb09ff7b57,57ba5a5ab2c69c35736edace7e2348bb09ff7b57,SecureDrop 0.4.3
redshiftzero,2017-09-12 16:31:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b569b15eca735dccfd60ae63bce88b1ae8466a92,b569b15eca735dccfd60ae63bce88b1ae8466a92,"Merge pull request #2284 from freedomofpress/wip-dachary-12-09-0.4.3

merge back 0.4.3 into develop 2017-09-12"
redshiftzero,2017-09-11 23:19:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb1d048ae8df2cf5735a5f82a86f450416ecc678,cb1d048ae8df2cf5735a5f82a86f450416ecc678,"Merge pull request #2283 from freedomofpress/docs-dont-use-templates

Instruct users not to use XML templates for firewall config"
redshiftzero,2017-09-11 22:41:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de527dda89b9c30fd325578da2bfdfcb997bfae2,de527dda89b9c30fd325578da2bfdfcb997bfae2,"Docs: For network firewall, use templates only as a reference"
redshiftzero,2017-09-11 20:48:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e9d4d313e535cc43c164e7c9fcb711f9c757a0e1,e9d4d313e535cc43c164e7c9fcb711f9c757a0e1,"Merge pull request #2279 from freedomofpress/wip-dachary-reword

source: fix wording / typos in templates"
redshiftzero,2017-09-11 20:42:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce675b153ac679c3ee3e4c90c6d5c4db593ed86e,ce675b153ac679c3ee3e4c90c6d5c4db593ed86e,"Merge pull request #2280 from freedomofpress/docs-add-mrphs-warning

Remove warning about insecure login in Tor Browser"
redshiftzero,2017-09-11 18:49:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/040476cd9ccd3e6297732f895d14dba99d824a73,040476cd9ccd3e6297732f895d14dba99d824a73,"Merge pull request #2267 from freedomofpress/wip-dachary-2266-whitespace-fingerprint

silently strip whitespace from fingerprint"
redshiftzero,2017-09-11 18:27:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bb598b8f2180bbb28523a3ab2cbcd062eac50b59,bb598b8f2180bbb28523a3ab2cbcd062eac50b59,Fix subnet in pfSense template - set to /24
redshiftzero,2017-09-11 18:26:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71aa2db72cd18164e9b5e8dae81ac0f359623313,71aa2db72cd18164e9b5e8dae81ac0f359623313,Fix <aliases> tag typo in pfSense firewall template
mrphs,2017-09-08 02:38:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d926b6015f120009eba5c2656fd451dd48570f30,d926b6015f120009eba5c2656fd451dd48570f30,"Remove warning about insecure login in Tor Browser

The unfortunate underlaying issue got fixed in Tor Browser version 7.0.4 and 7.5a4.
See https://trac.torproject.org/projects/tor/ticket/21321 for more info.

Reverts PR #2038: removing the warning from journalist and source docs
Related to issue #1882"
comradekingu,2017-09-02 20:27:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb66c94be009ead8d8e60a244c628d14dd3d9f03,eb66c94be009ead8d8e60a244c628d14dd3d9f03,"source: fix wording in tor warning

* HTTPS is likely MITM
* you is better than we"
comradekingu,2017-09-07 09:48:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8c46e7962863fb5213d85f5f27a2f3eb1130d789,8c46e7962863fb5213d85f5f27a2f3eb1130d789,source: fix capitalization in templates
redshiftzero,2017-09-09 21:19:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe45e722e2d29c64d5abde486a6d242d74a1c33e,fe45e722e2d29c64d5abde486a6d242d74a1c33e,"Merge pull request #2278 from freedomofpress/wip-dachary-09-09-0.4.3

merge back 0.4.3 into develop 2017-09-09"
redshiftzero,2017-09-08 20:54:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a1f7789065f430552d28e8f380b28ec1a406be6c,a1f7789065f430552d28e8f380b28ec1a406be6c,SecureDrop 0.4.3-rc2
redshiftzero,2017-09-08 19:10:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/118d4f0fccbd2576ba5b659cbf794499577788a0,118d4f0fccbd2576ba5b659cbf794499577788a0,"Merge pull request #2275 from freedomofpress/fix-travis-redis-in-develop

Revert ""Don't start redis server twice on Travis"""
redshiftzero,2017-09-08 19:06:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68a63ea661ca3407f2ed59d97edce8617fc5a07a,68a63ea661ca3407f2ed59d97edce8617fc5a07a,"Merge pull request #2271 from freedomofpress/wip-dachary-0.4.3-2269-delete-all

source: hide the delete confirmation prompt"
conorsch,2017-09-08 18:27:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb8230ed915fb0d2aebf043b75a5b95f42e10a03,eb8230ed915fb0d2aebf043b75a5b95f42e10a03,"Merge pull request #2273 from freedomofpress/wip-dachary-0.4.3-2272-redis

Revert ""Don't start redis server twice on Travis"""
redshiftzero,2017-09-07 16:20:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/afa97acb49f2d0f95208ff6f1c456718ae5e681d,afa97acb49f2d0f95208ff6f1c456718ae5e681d,"Merge pull request #2265 from freedomofpress/wip-dachary-proofread

journalist: fix wording in messages and comments"
redshiftzero,2017-09-07 16:04:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ece1b0c3ee419117ac0e48b9cd5371a340a86d40,ece1b0c3ee419117ac0e48b9cd5371a340a86d40,"Merge pull request #2263 from freedomofpress/wip-dachary-09-07-0.4.3

merge back 0.4.3 into develop 2017-09-07"
comradekingu,2017-09-02 21:46:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0ef178eabf3f3f325fcf47630b2fa667af7338b,f0ef178eabf3f3f325fcf47630b2fa667af7338b,journalist: fix wording in messages and comments
comradekingu,2017-09-02 22:07:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6212b635d050542e28678dfaa822713c28ed3b93,6212b635d050542e28678dfaa822713c28ed3b93,journalist: fix YubiKey capitalization
redshiftzero,2017-09-06 21:35:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd51cd956a98872f5897e2c95d6f92f2d3a31035,dd51cd956a98872f5897e2c95d6f92f2d3a31035,SecureDrop 0.4.3-rc1
redshiftzero,2017-09-06 21:14:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b42e09e26fa6f167214f1f01e2327e13f7e2020b,b42e09e26fa6f167214f1f01e2327e13f7e2020b,"Merge pull request #2258 from freedomofpress/update-version-script-043

Run update_version.sh in development VM"
redshiftzero,2017-09-06 19:23:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/829935f6fe9cd47912cdfe4403b48dce02839cf7,829935f6fe9cd47912cdfe4403b48dce02839cf7,Run update_version.sh script in development VM
redshiftzero,2017-09-06 19:22:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c2c051b916c670812bca7319f5760181721156b2,c2c051b916c670812bca7319f5760181721156b2,"Install git and dch in the development VM

In order to run the update_version.sh script in the development
VM, we need the git and devscripts apt packages to be installed."
redshiftzero,2017-09-05 19:18:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9cf9b2953fb54ffdcdd314c71e18033c16d48e62,9cf9b2953fb54ffdcdd314c71e18033c16d48e62,"Merge pull request #2224 from freedomofpress/ossec-ansible-alert

Add OSSEC rule to indicate to admins what ansible-apt-key alert means"
redshiftzero,2017-08-30 01:59:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/471f9bc6ae628ec86994eef8eb7033dc8b6d6934,471f9bc6ae628ec86994eef8eb7033dc8b6d6934,"OSSEC alerts: Add alert to notify admins when Ansible playbooks run

Noting that admins may not actually understand what Ansible
playbooks are now that we abstract that away from the user now."
redshiftzero,2017-08-30 01:58:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb229b50082b51948b83fefb3ccfbe2288f94df4,fb229b50082b51948b83fefb3ccfbe2288f94df4,"OSSEC rule tests: DRY up tests for expected OSSEC alert

And add failing test for Ansible OSSEC alert described in ticket
https://github.com/freedomofpress/securedrop/issues/2156"
redshiftzero,2017-08-30 00:47:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/43a4feac47fc153508709a786b110a40d6ed2fc2,43a4feac47fc153508709a786b110a40d6ed2fc2,Add new section explaining how to update and test OSSEC rule changes
redshiftzero,2017-09-02 02:00:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d4f45d7ac7bfea275252f05a7746bead42fe3ee,0d4f45d7ac7bfea275252f05a7746bead42fe3ee,"Merge pull request #2245 from freedomofpress/cleanup-travis-ci-config

Cleans up Travis CI config"
conorsch,2017-09-02 00:47:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/34be58a21cb1ca7275310e98fd716d75a806a38d,34be58a21cb1ca7275310e98fd716d75a806a38d,"Merge pull request #2197 from freedomofpress/wip-dachary-i18n-add-locale

i18n: add DEFAULT_LOCALE to config.py.example"
conorsch,2017-09-02 00:40:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd91623bf1adb048dc2c7f85448523db728ac939,cd91623bf1adb048dc2c7f85448523db728ac939,"Runs app tests from securedrop dir for coverage support

Not happy that we have to do this, but we're tracking the coverage
cleanup in a dedicated issue. It's more important to have coverage
information accurately reported, to prevent regressions, even if the
reporting mechanism is somewhat rickety and poorly understood."
redshiftzero,2017-09-01 22:46:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a3667657ca6bc693833984cc65ec6bc60bc0a237,a3667657ca6bc693833984cc65ec6bc60bc0a237,"Merge pull request #2160 from freedomofpress/StabilizeCI

Refactor Debian Package Build logic"
redshiftzero,2017-09-01 22:21:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2336044a3bdba898750d53286eafbe4516022f0b,2336044a3bdba898750d53286eafbe4516022f0b,"Merge pull request #2243 from freedomofpress/wip-dachary-reword-1

source: reword to avoid repetition"
redshiftzero,2017-09-01 21:48:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ae61cdbd1a8a1d39a6e0233593bc8b10da0c80b,7ae61cdbd1a8a1d39a6e0233593bc8b10da0c80b,"Merge pull request #2242 from freedomofpress/wip-dachary-unify-buttons

journalist: unify button label caps"
conorsch,2017-09-01 18:32:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d12633d6ba3a419f981bdeb7fc030ff32a1ff883,d12633d6ba3a419f981bdeb7fc030ff32a1ff883,"Stops hardcoding Firefox binary path for Selenium in Travis

Since moving to the new Ubuntu Trusty image in Travis, Firefox 46.0.1 is
now installed automatically, within `~travis`. Since the tests were
previously being executed as root, the PATH modification for the travis
user wasn't exposed to the Selenium webdriver discovery logic, since
even that was being executed as root.

Now that we're running the app test suite with normal user privileges,
we can expect Selenium to do the right thing in ferretting out where the
Firefox binary is located, based on `which`.

Revert ""Hardcodes Firefox binary path for Selenium in Travis""

This reverts commit 3c4b17240ba930d758a9145dfb82c1902f7755ef."
conorsch,2017-09-01 02:03:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b40eae990eb170657de596dfed83f7e2f4ab915,7b40eae990eb170657de596dfed83f7e2f4ab915,"Runs linting early in Travis, to fail fast

Rather than lint at the *end* of a build, let's do it first thing, to
tighten the feedback loop for developers. Earlier failure means earlier
patching. Use that pre-commit hook!"
conorsch,2017-09-01 00:29:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/50571df90340776b1dd1b62375ee9c12f74c7b55,50571df90340776b1dd1b62375ee9c12f74c7b55,"Stop running tests as root in Travis

We've shaken out most of the pip dependencies woes, so we can finally
act like humans again and run the tests with normal user privileges.
Includes the `--page-layout` option and all tests are passing.

We also don't need to cd into the securedrop directory anymore, since
the bug in the test_manage suite has been resolved. Still skeptical that
the coverage logic is directory-agnostic, but will determine once a PR
is opened based on this branch."
conorsch,2017-09-01 00:33:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/924f0c5b6c789a7e5eef5e24d9d315ddfaa38584,924f0c5b6c789a7e5eef5e24d9d315ddfaa38584,"Don't manually create /dev/urandom in Travis

Once upon a time it was necessary to bootstrap the /dev/urandom device
in the Travis environment, but no longer. The Travis Trusty image we use
has undergone substantial changes, and evidently adding a first-class
/dev/urandom was one of them."
conorsch,2017-09-01 00:28:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e16b36c5eeab2e53862440dfd39d6828ebdcdb76,e16b36c5eeab2e53862440dfd39d6828ebdcdb76,"Don't start redis server twice on Travis

The Ansible scripts already handle configuring the Redis service, and
Travis automatically runs a pre-build step called
""Patching redis-server init script"" that seems to handle what we need."
conorsch,2017-09-01 00:26:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc1354bdc8ed6c43ddfb0fb413bc986a00f2a3b5,bc1354bdc8ed6c43ddfb0fb413bc986a00f2a3b5,"Installs the develop-requirements in Travis

We don't need the testinfra/requirements.txt file in Travis, as the
develop-requirements file contains everything we need, including
Ansible. (In that respect, develop-requirements includes *more* than we
need, but we're already overloading Travis for multiple machine roles.)

Removes an extraneous pip install task that reinstalled the same
requirements file after the Ansible provisioning run completed. This was
only necessary because hadn't been paying attention to where Python
libraries were being installed in Travis, due to the various
installation strategies, e.g. pip via CLI vs. Ansible with become=yes.

Moves the Ansible playbook runs to the `install` block, to ensure that
any Ansible errors cause the build to halt. In the `script` block, we'll
run tests and another validation tasks optimistically, and report all
errors at the end."
conorsch,2017-09-01 00:20:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c3e3efcdb62144df50fa484aaf789d3f8f10f4eb,c3e3efcdb62144df50fa484aaf789d3f8f10f4eb,"Disables Travis Python customizations

Setting language=generic to avoid use of virtualenv. We do not use a
virtualenv for configuring SecureDrop in production, nor in the
Development VM, which the Travis environment (rather crudely) emulates.

Removing Python-specific Travis helper definitions, such as pinning
version 2.7 (which is already the default), and permitting system
packages in the virtualenv (which is no longer used).

Perhaps most cryptically, we're now modifying the PATH to remove
references to /opt/python. Travis includes a few bin directories in that
location, which wreak havoc with our app test suite. The PATH-pruning
logic is lifted directly from [0].

[0] https://github.com/travis-ci/travis-ci/issues/5326"
conorsch,2017-09-01 19:19:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4b6f8e164bd828b019dc466a1f1ce8b166a44a6f,4b6f8e164bd828b019dc466a1f1ce8b166a44a6f,"Merge pull request #2240 from freedomofpress/wip-dachary-2239-directory-sensitive

tests: make test_manage.py run from any directory"
conorsch,2017-09-01 19:18:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c42348b31a0c2b171ee1cf8287dde10174776997,c42348b31a0c2b171ee1cf8287dde10174776997,"Merge pull request #2237 from freedomofpress/pre-commit-hook

Added pre-commit hook"
heartsucker,2017-08-31 20:23:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/564e6ce73906345cb0c623626cd0f095ad32f243,564e6ce73906345cb0c623626cd0f095ad32f243,updated developer docs w.r.t. pre-commit hook
heartsucker,2017-08-31 18:57:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/536d33e40ff84ed864d0b7326be006d79bb9e498,536d33e40ff84ed864d0b7326be006d79bb9e498,added pre-commit hook
msheiny,2017-08-21 18:20:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6beb038359e02559c51536e794e46f807bd93aa9,6beb038359e02559c51536e794e46f807bd93aa9,Update docs to reflect latest build deb logic
redshiftzero,2017-08-31 23:20:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04f99ba52ad3d29c75aa222f4003fc52f5b93b89,04f99ba52ad3d29c75aa222f4003fc52f5b93b89,"Merge pull request #2207 from freedomofpress/docs-recommended-SVS-hardware

Add new NUC model and prune outdated advice."
redshiftzero,2017-08-31 23:17:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b9d729cc4f27cb3d67e91dbbed78fff002447e0e,b9d729cc4f27cb3d67e91dbbed78fff002447e0e,"Merge pull request #2235 from freedomofpress/responsive-css

Responsive CSS for source index page"
justintroutman,2017-08-31 22:20:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c006bbf78638c3be6a8dfe2ddb526b005c6ed24,1c006bbf78638c3be6a8dfe2ddb526b005c6ed24,Updated note on old BIOS/suspension issues.
redshiftzero,2017-08-31 21:31:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/41aafaa2c4270f9a553bff1b12bd7aec3042d8b4,41aafaa2c4270f9a553bff1b12bd7aec3042d8b4,"Merge pull request #2231 from freedomofpress/wip-dachary-844-tests-clean-tmp

tests: verbose teardown to debug #844 (take 2)"
heartsucker,2017-08-31 17:37:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9c3ee1979dcdaddeedb299123a9e8e6ebe17112d,9c3ee1979dcdaddeedb299123a9e8e6ebe17112d,fixed functional tests to use new css selector on source index page
heartsucker,2017-08-31 17:31:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/590e18687a6069331e5dc261d3e3546203eae44c,590e18687a6069331e5dc261d3e3546203eae44c,fixed text boxes on source index page
msheiny,2017-08-20 04:26:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3966575117ac6f3d40136e25f23c62ee235883d9,3966575117ac6f3d40136e25f23c62ee235883d9,CI - play nice with new moleculev2 deb build logic
msheiny,2017-08-20 04:19:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ddb49a78b64cfda6d976a89e96bb1b028c0035a5,ddb49a78b64cfda6d976a89e96bb1b028c0035a5,"build docker utilize Trusty, cleanup workflow

Built a Ubuntu variant and pushed to quay to handle deb package building.
Started to integrate this into workflow so that the same docker builder used in
CI will be utilized locally by developers."
msheiny,2017-08-20 02:12:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba694488202d501025480083c4e9501d16e1ac67,ba694488202d501025480083c4e9501d16e1ac67,"Convert build logic to moleculev2

Will be easier to manage long-term under molecule vs. the arbitrary
folder/script structure previously used."
heartsucker,2017-08-30 22:22:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c9732db864cb70193c4ae137bdf95efd01c5b85,0c9732db864cb70193c4ae137bdf95efd01c5b85,"make html comment a jinja comment

to save a few extra bytes across the wire"
heartsucker,2017-08-30 19:50:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a96f22426101c9e5f8fa5db512669ce2e484c72b,a96f22426101c9e5f8fa5db512669ce2e484c72b,added viewport meta tag
conorsch,2017-08-31 16:10:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab73347124a6ae01cfa376d5ba362924be101464,ab73347124a6ae01cfa376d5ba362924be101464,"Merge pull request #2233 from freedomofpress/wip-dachary-make-lint

tests: use make -k instead of listing targets"
conorsch,2017-08-31 16:07:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1fc8356e6e97ff9d98ead654cb5526218cac0bdf,1fc8356e6e97ff9d98ead654cb5526218cac0bdf,"Merge pull request #2232 from freedomofpress/wip-dachary-2222-page-layout

tests: run pytest --page-layout on travis"
redshiftzero,2017-08-30 23:59:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b738f566501ebfa29cc535eddeff0fc268305f56,b738f566501ebfa29cc535eddeff0fc268305f56,"Merge pull request #2227 from freedomofpress/no-jinja-safe

Removes usage of `safe` filter in jinja templates"
redshiftzero,2017-08-30 21:51:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/728a2c3664e4c4388e8a05a3e0f9a818108587b1,728a2c3664e4c4388e8a05a3e0f9a818108587b1,"Merge pull request #2221 from freedomofpress/update-travis-base-image

Updates Travis Trusty base image"
heartsucker,2017-08-30 21:20:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fabde7ea7b9e147880083284e211b555672a2e33,fabde7ea7b9e147880083284e211b555672a2e33,use markup for banner warnings
heartsucker,2017-08-30 21:17:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/76d67777166b08b34e118d9883e7f6b72b237031,76d67777166b08b34e118d9883e7f6b72b237031,use markup for qr code svg
conorsch,2017-08-29 21:50:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab09c606126f14eede735963d130eeebc855686e,ab09c606126f14eede735963d130eeebc855686e,"Updates Firefox config tests for Travis CI

The new Travis Trusty image provides a version of Firefox located in the
home directory, and added to the PATH for the Travis user. Therefore the
package installed=yes state check will fail. Instead, let's only check
for apt presence in the development VM, but in both contexts, confirm
that ""firefox --version"" shows the proper version, i.e. 46.0.1."
conorsch,2017-08-29 21:48:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca2ef6b3e9693460dad395481a9a9fe04b0d8c38,ca2ef6b3e9693460dad395481a9a9fe04b0d8c38,"Uses sudo in testinfra tests for pip dependencies

The new Travis Trusty image includes a lot of Python packages that are
installed either in a virtualenv, provided by Travis, or globally, via
our Ansible scripts. Since the Ansible scripts use sudo, we must
similarly use sudo to check for their presence, otherwise we're just
listing the contents of the virtualenv.

I vaguely recall that testinfra doesn't support sudo for localhost, but
that may only have been via LocalCommand."
conorsch,2017-08-29 00:08:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/616ad678e3b301945e11cff6b5709c07cc1f27db,616ad678e3b301945e11cff6b5709c07cc1f27db,"Stop running page-layout checks in Travis

The `--page-layout` flag for pytest activates the page-layout tests by
marking them via the pytest initialization process in conftest.py.
For reasons I have not discovered yet, the page-layout tests fail on the
new Travis Trusty image, but not on the old. The app unit tests, and
even the Selenium-based functional tests, are passing, however.

Also added a dump of the Selenium Firefox log at the end of the app test
run, so that failed CI runs are more informative. Note that the failing
page-layout tests hung indefinitely several times during testing, so
the app log dump may not always work. Still, better to have it sometimes
than never."
conorsch,2017-08-29 00:06:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3c4b17240ba930d758a9145dfb82c1902f7755ef,3c4b17240ba930d758a9145dfb82c1902f7755ef,"Hardcodes Firefox binary path for Selenium in Travis

This shouldn't be necessary! Selenium by default uses `which` on Linux
platforms to figure out where the Firefox binary is located. For some
reason, that logic isn't working in Travis on the new Trusty image,
but hardcoded the path helps.

Made sure to hardcode the path only in Travis. Would prefer a single
codepath that works regardless of CI platform (and also in the local
development VM)."
conorsch,2017-08-29 00:03:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f8ada7d3af864f2ffaa3f9256d42a6586617607f,f8ada7d3af864f2ffaa3f9256d42a6586617607f,"Don't install custom Firefox via Ansible in Travis

Travis now bakes in a version of Firefox for Trusty images, and although
they permit customization of the specific version, they don't seem to
provide a way to skip installing Firefox altogether.

Removes incompatible versions of Firefox for app-test

Uninstalls any versions of Firefox other than the carefully tested
compatible version (to match pinned Selenium). The previous config
optimistically assumed that no Firefox was already provided on the
system, which is true of local VMs, but not true of Travis CI.

Moves Firefox tasks to separate task list

We were overloading the xvfb setup task list with firefox logic,
so let's break out the Firefox-specific tasks before changing them.
They're about to get a bit more complicated, in order to ensure that
we're using the correct version of Firefox, and no conflicting version
exists on the target system."
conorsch,2017-08-29 00:06:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f532e25d7414ca36834255189a5ac0df4ef1b2cd,f532e25d7414ca36834255189a5ac0df4ef1b2cd,"Removes deprecated Trusty image for Travis

Falling back to the now-stable new Trusty images, which showed
problems with Selenium. We must use the newer Trusty image, since the
deprecated version is scheduled for retirement on 2017-09-01 [0].

Changes will surely be required to our CI config for Travis in order
to use the new image, given the problems we saw on 2017-06-21 when the
default image switched to the new Trusty version.

[0] https://blog.travis-ci.com/2017-06-21-trusty-updates-2017-Q2-launch"
redshiftzero,2017-08-30 00:46:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/db52c7532cc0db9123034ae09f39308d3b9a1412,db52c7532cc0db9123034ae09f39308d3b9a1412,Update language in config test developer docs for Ansible 2+ change
redshiftzero,2017-08-30 00:45:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e3eb6a7a583c9901680ed6c1ab68d9ecb0fc7e76,e3eb6a7a583c9901680ed6c1ab68d9ecb0fc7e76,OSSEC rule tests: DRY up false positive regression tests
redshiftzero,2017-08-23 18:52:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/915b9d9f8e16cf50662bc52b00f94889045f5f9f,915b9d9f8e16cf50662bc52b00f94889045f5f9f,"OSSEC rule test: Ansible apt-key alert should fire

When the playbooks run, an alert fires due to Ansible apt-key. We
should have a test to check that this alert indeed fires."
redshiftzero,2017-08-30 00:07:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/11e28bdb2a91acabf6203a4035bc3de8ebcfe4ec,11e28bdb2a91acabf6203a4035bc3de8ebcfe4ec,"Merge pull request #2213 from freedomofpress/wip-dachary-i18n-maintain-glossary

l10n: instructions to maintain the Weblate glossary"
redshiftzero,2017-08-29 21:43:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/baeaafda8b55685fc1702f9a9e1ce24f8ce77f90,baeaafda8b55685fc1702f9a9e1ce24f8ce77f90,"Merge pull request #2215 from freedomofpress/wip-dachary-2214-selenium-connection-refused

tests: retry if connection to firefox fails"
redshiftzero,2017-08-29 21:07:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/efd4feec87a90694998c147248be75eb681d056d,efd4feec87a90694998c147248be75eb681d056d,"Merge pull request #2212 from freedomofpress/wip-dachary-844-tests-clean-tmp

tests: verbose teardown to debug #844"
redshiftzero,2017-08-29 20:23:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/46d7a29b292071828243954e36f50a0fdf4b381c,46d7a29b292071828243954e36f50a0fdf4b381c,"Merge pull request #2211 from freedomofpress/wip-dachary-2205-selenium-stabilize

tests: functional tests need more generous timeouts"
conorsch,2017-08-29 19:14:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5c74ad85763e5002f8f935c82f2d6e9dd86f8f09,5c74ad85763e5002f8f935c82f2d6e9dd86f8f09,"Merge pull request #2210 from freedomofpress/2099-retry-tails-network-checks

Retry network calls in Tails during validation checks"
conorsch,2017-08-29 19:14:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c732da1e2863d08ff39466d8d646d940f78126c5,c732da1e2863d08ff39466d8d646d940f78126c5,"Merge pull request #2191 from freedomofpress/1704-only-reboot-when-necessary

Reboot only when necessary"
conorsch,2017-08-28 18:50:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e461368872d48c949f6b226873c7db8e8dc5430c,e461368872d48c949f6b226873c7db8e8dc5430c,"Converts network validation tasks host -> nslookup

The nslookup command provides more robust options for configuring
the query, including custom timeout and retry values. We're using the
`-vc` option to force use of a ""virtual circuit"", which forces TCP
rather than UDP, required for performing lookups via Tor in Tails. [0]

Using `nslookup` to force retries makes the validation logic more
durable, because it occasionally fails early due to flaky networking in
Tails over Tor. While we could use the `retries/until` Ansible pragma
to repeat the checks with the `host` command, we cannot adjust the
timeout on the host command, so retrying would take about 10 minutes
on a single task before failure is reported.

[0] See `RES_USEVC` in `man resolv.conf` for more info."
conorsch,2017-08-28 17:37:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da97ba2a3c368f0d2eb37b4d2a297c5a34e374b4,da97ba2a3c368f0d2eb37b4d2a297c5a34e374b4,"Consolidates definedness checks for email validation

Moving the assert tasks for whether the email-related config vars are
defined to before the tasks that reference the vars. It's a good idea to
do this in the spirit of validation, even though the `sdconfig`
subcommand for the securedrop-admin script ensures that the vars are
defined.

More importantly, we need the definedness checks in separate tasks so
that we can convert the assert checks for the network calls into command
module invocations, so we can make use of retry/until."
redshiftzero,2017-08-28 17:41:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9cac7b79cccb7a7f579d93e3e948986284fac1df,9cac7b79cccb7a7f579d93e3e948986284fac1df,"Merge pull request #2208 from freedomofpress/fix-tails-unpacking-excel-files

Store Tails decompression option in xsessionrc instead of bashrc"
redshiftzero,2017-08-26 02:36:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0f233ba095d3ad72c7b4d1aea76066578598647d,0f233ba095d3ad72c7b4d1aea76066578598647d,"Store Tails decompression option in xsessionrc instead of bashrc

If we store the custom Tails Nautilus option required to preserve
filenames and the file structure of office files (docx, odt, xlsx,
etc.) in bashrc, it will not be activated until the first Terminal
session begins.

Instead, we should store this option in xsessionrc, so that it
starts when X does."
redshiftzero,2017-08-26 01:22:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8c2ab0bfe12037e7f81a7b334bdb597bd7a9e636,8c2ab0bfe12037e7f81a7b334bdb597bd7a9e636,"Merge pull request #2154 from freedomofpress/update-logs-syscheck

Update locations of logs on app server for OSSEC syscheck"
justintroutman,2017-08-26 01:15:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/19172249a77a640540955fc7db3f701436518b79,19172249a77a640540955fc7db3f701436518b79,Add new NUC model and prune outdated advice.
conorsch,2017-08-25 22:38:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1dad8f2b53d9fac5640f6e3461d3ea810a980b31,1dad8f2b53d9fac5640f6e3461d3ea810a980b31,"Adds config tests for Apache logfiles

The OSSEC configuration was referencing nonexistent logfiles,
and we have strict rules about which Apache logfiles are permitted,
namely that no access or even error logs are written to disk for the
Source Interface.

In the staging environment, however, we permit source-error.log to aid
in debugging during development. The config test suite now reflects this
distinction."
redshiftzero,2017-08-19 02:16:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8cd91bd537437926f916ebcc133d77c577cfac31,8cd91bd537437926f916ebcc133d77c577cfac31,Docs: Update locations of application error logs in logging docs
redshiftzero,2017-08-19 02:15:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/72ca1b3f2fba18e72bd40c3c4f452a4393552d0e,72ca1b3f2fba18e72bd40c3c4f452a4393552d0e,Remove nonexistent securedrop.log from OSSEC syscheck monitoring
redshiftzero,2017-08-19 02:13:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3bd6e8376c1d04d34a402394f38ee7b48bda4471,3bd6e8376c1d04d34a402394f38ee7b48bda4471,Remove nonexistent source-access Apache log from OSSEC syscheck
redshiftzero,2017-08-25 23:50:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a533ad904322c41737747da4abe4ed63ea2eb1d8,a533ad904322c41737747da4abe4ed63ea2eb1d8,"Merge pull request #2162 from freedomofpress/wip-dachary-l10n-glossary

docs: add l10n term definitions from EFF glossary"
redshiftzero,2017-08-25 22:28:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf45b96a59fe035f7f1827fa7107f272feb5851e,bf45b96a59fe035f7f1827fa7107f272feb5851e,"Merge pull request #2079 from freedomofpress/resolve-confusing-source-ids

Resolve confusing source IDs in web interfaces"
redshiftzero,2017-08-25 21:16:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd8a848515bdc6d427ecd1f6b589b9b6f71ff039,bd8a848515bdc6d427ecd1f6b589b9b6f71ff039,"Merge pull request #2085 from heartsucker/username-length

added min-length check for journalist usernames"
conorsch,2017-08-25 21:13:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ccaa7b62f10f64fab150293050cdcdae73aad14,6ccaa7b62f10f64fab150293050cdcdae73aad14,"Merge pull request #2185 from freedomofpress/1164-disable-postfix-on-staging

Disable Postfix service in staging environment"
conorsch,2017-08-25 21:13:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21f2ffc9b09f77f0f69485bc9db23dce687060d8,21f2ffc9b09f77f0f69485bc9db23dce687060d8,"Merge pull request #2166 from freedomofpress/wip-dachary-2165-ansible-version

fail unless ansible version 2.2.3 is used"
conorsch,2017-08-25 21:13:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/75ebca2dedf00eea1d882296164405b4a467ef30,75ebca2dedf00eea1d882296164405b4a467ef30,"Merge pull request #2152 from freedomofpress/remove-sd-tmp-ossec-alert

OSSEC Rules: Remove syscheck alert when bulk tmp file deleted"
heartsucker,2017-08-25 18:56:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/302f1d0cba913405a9cc698dc18e4873f8b86e3d,302f1d0cba913405a9cc698dc18e4873f8b86e3d,improved error messages for username length checks
redshiftzero,2017-08-25 18:50:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e55f0c61bcfc5df76f967c87c10d69315d6eff64,e55f0c61bcfc5df76f967c87c10d69315d6eff64,"Merge pull request #2190 from freedomofpress/docs-journalist-diceware-passwords

Docs for automatic journalist diceware passphrases"
heartsucker,2017-08-23 22:35:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4db91648d25593444d21711c2707d8e86c27c308,4db91648d25593444d21711c2707d8e86c27c308,added DRY journalist username check
heartsucker,2017-08-06 13:49:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f62de6e90729f6763289b742a2891ec14ecb07a,2f62de6e90729f6763289b742a2891ec14ecb07a,added min-length check for journalist usernames
redshiftzero,2017-08-25 17:37:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5c697bab333403352c16bf4f6327050bc12190e8,5c697bab333403352c16bf4f6327050bc12190e8,"Merge pull request #2187 from freedomofpress/add-yubikey-screenshot

Automatically generate the screenshot of an admin adding a journalist with a Yubikey"
redshiftzero,2017-08-24 19:18:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2231383e4bc9ccbc7846b3f2114f078086ae85f0,2231383e4bc9ccbc7846b3f2114f078086ae85f0,Modify docs for creation of admin accounts using manage.py
redshiftzero,2017-08-25 16:55:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8c46b296ce9df96dff0a2a33f73ff4d89e5890f,e8c46b296ce9df96dff0a2a33f73ff4d89e5890f,"Merge pull request #2196 from freedomofpress/wip-dachary-i18n-manage-cosmetic

i18n: manage: make translate --compile more pythonic"
redshiftzero,2017-08-24 20:56:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3830c20c9a370c46b22a675810cc6b69213ce100,3830c20c9a370c46b22a675810cc6b69213ce100,"Merge pull request #2189 from freedomofpress/docs-page-layout-tests

Document --page-layout pytest option"
conorsch,2017-08-24 20:50:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/caa2c1e85b74ebfaa05de7aebfb15d2671fb7a77,caa2c1e85b74ebfaa05de7aebfb15d2671fb7a77,"Updates docs regarding manual reboot of staging VMs

We now have automatic reboots of the staging environment, depending on
whether the machines were freshly created. Subsequent playbook runs will
not run the reboot task at the end of the play."
conorsch,2017-08-24 18:27:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20601cf5c7eb1e5a6cd40244440346260ac5abb2,20601cf5c7eb1e5a6cd40244440346260ac5abb2,"Ensures prod reboots are still fire-and-forget

We can't easily wait for the prod machines to come back after the final
reboot during initial install, because after boot the new firewall rules will
be applied, forbidding direct access via local IPv4 and only accepting
SSH connections via the Onion URL. Therefore we'll continue to
fire-and-forget the reboot task, only during the final prod play."
conorsch,2017-08-24 18:20:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98bedfd04787a97ac65e918edcbf98589e980217,98bedfd04787a97ac65e918edcbf98589e980217,"Removes unused custom reboot logic

The Ansible playbooks that configure the staging machines now reboot
automatically and conditionally, only on the first install, so we don't
need to force a reboot manually when testing CI anymore.

We can also remove the ""reboot"" role, since it was only used in one
place, and is now superseded by the reusable task list included in the
staging and prod playbooks."
conorsch,2017-08-24 17:55:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/63fe6894ada150965b04d03da7a8ae222eef0f99,63fe6894ada150965b04d03da7a8ae222eef0f99,"Creates task list for reboot-if-first-install

Providing a site-level task list that can be imported from any location
in the config. The implementation is a bit indirect, with multiple task
lists included others, but the indirection is acceptable as it's DRY."
conorsch,2017-08-24 17:42:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1309e8aac42bfbe67dddf8c406273ba7e7ffd1dc,1309e8aac42bfbe67dddf8c406273ba7e7ffd1dc,"Moves reboot task to site level

Adjust the handler include in the common role to import the task from
its new location at the site level."
redshiftzero,2017-08-24 19:16:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0b393200766c40a14efdd0fc8391972c8c909a63,0b393200766c40a14efdd0fc8391972c8c909a63,Update screenshots for automatic diceware passphrase generation
redshiftzero,2017-08-24 17:50:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a0241a1768c1767b095048769729cc557733432,3a0241a1768c1767b095048769729cc557733432,Developer docs: Add description of --page-layout pytest option
conorsch,2017-08-24 00:02:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7014672a1db9434d309fa0cba1c2fd0375ef8300,7014672a1db9434d309fa0cba1c2fd0375ef8300,"Adds config tests for Postfix service

The OSSEC-related config tests have been weak, mostly checking the
contents of files on disk rather than validating functionality.

Updated the config test logic to check for the ""postfix"" service state
explicitly, and made its state conditional based on YAML testinfra vars.
Same as the Ansible tasks, the config tests treat ""enabled"" and ""state""
attributes of the service identically.

Also updated the networking config tests on the Monitor Server. Moved
the port 25 check (SMTP) to the Postfix testinfra file. We weren't checking
for authd NOT running before, now we are. (The authd service should
run only briefly, until OSSEC clients are registered, then stop.)"
conorsch,2017-08-23 23:52:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b8f968edfe00c76de6afe5c966d4fc36499a75c,3b8f968edfe00c76de6afe5c966d4fc36499a75c,"Ports config tests for Postfix to separate file

We have a number of Postfix-specific checks in the OSSEC testinfra
suite, so let's break them into a separate file before adding more.
Looks like we never added an ""Is Postfix running?"" check, will do that
shortly."
conorsch,2017-08-23 23:41:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3db9f055200ebe547067c02e44947a84454ba308,3db9f055200ebe547067c02e44947a84454ba308,"Makes Postfix service start conditional in staging

Defaults to enabling Postfix, for sanity in production contexts, but
makes the service state overrideable in staging so that we aren't
hammering on Google's mail relays with known-bad test credentials.

Somewhat lazily conflating ""state"" and ""enabled"" parameters in Ansible,
which map to whether the service a) is running and b) will run on next
boot. For the purposes of staging-versus-prod, it's safe to say that we
want disabled to map to false values for both of those parameters.

Uses a group-level var override to disable the Postfix service on
mon-staging. The service remains active for production hosts.

Updates the docs to list the exemption in the staging config."
redshiftzero,2017-08-24 16:35:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/867980c03fe9132ee51ac9113f2f9ef6bd25593c,867980c03fe9132ee51ac9113f2f9ef6bd25593c,"Merge pull request #2184 from freedomofpress/fix-page-layout-screenshots

Fix page layout screenshots"
redshiftzero,2017-08-24 01:40:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/77b10b22c0e8f2fe10f0d13e01de3f5c68a697c5,77b10b22c0e8f2fe10f0d13e01de3f5c68a697c5,pages-layout: Add screenshot for adding a user with Yubikey
redshiftzero,2017-08-24 01:38:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/95f6e4b91580f39a4cefdbe43fc2f812210d6aba,95f6e4b91580f39a4cefdbe43fc2f812210d6aba,"Functional tests: Add navigation step of filling out account info

This helper function fills in the username and OTP secret of the
fake journalist user from the example. It also checks the box
indicating a user is using HOTP."
redshiftzero,2017-08-24 00:55:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da6ad125518b1cac94fb7c845d4a64c7f00204f5,da6ad125518b1cac94fb7c845d4a64c7f00204f5,"Fix page-layout test failures due to diceware password changes

In PR #2141, we added a flag in pytest to generate automatic screenshots
for each page of the source and journalist interface in each
translated language. At the same time we merged in #1509 which
automatically generated diceware passphrases. Unfortunately there was a
lingering reference to a password (that is now automatically generated)
in one of the functions used to generate the screenshots, which caused
two test failures."
redshiftzero,2017-08-24 00:39:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe5700a73f93f08af0e28594694f3689eac60f7f,fe5700a73f93f08af0e28594694f3689eac60f7f,"Add page layout tests to Travis CI

This increases the length of the test suite, but it will help us catch
issues like https://github.com/freedomofpress/securedrop/issues/2183."
conorsch,2017-08-23 22:42:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5fa8de1cb637cde2d32e0cbdd246ad9b2798b4b5,5fa8de1cb637cde2d32e0cbdd246ad9b2798b4b5,"Merge pull request #2180 from freedomofpress/expose-vagrant-port

Expose vagrant port"
redshiftzero,2017-08-18 23:07:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9b722d306564d4ae241cd60c66d823024647cb0,d9b722d306564d4ae241cd60c66d823024647cb0,"OSSEC Rules: Remove syscheck alert when bulk tmp file deleted

When bulk downloads occur on the SecureDrop journalist interface,
a temporary file is created in /var/lib/securedrop/tmp. When
this file is cleaned up, it triggers an integrity checking alert.
If SecureDrop is getting heavy use, this can fire many times per
day.

This commit modifies the syscheck options on the app server
to exclude any files named tmp_securedrop_bulk_* in
/var/lib/securedrop/tmp from integrity checking (via syscheck)."
conorsch,2017-08-23 22:36:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97513cba34cf9f90834230fc49ef8795c52f4b2c,97513cba34cf9f90834230fc49ef8795c52f4b2c,"Merge pull request #2143 from freedomofpress/remove-mark-ossec-alert

Remove spurious OSSEC keepalive alert"
conorsch,2017-08-23 21:08:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d2487a9f9efbcc3d743e9834b6a38734f1eb3927,d2487a9f9efbcc3d743e9834b6a38734f1eb3927,"Documents running `make docs` in Development VM

We now have the ability to run the docs live reload environment on the
Development VM. Anyone trying to run `make docs` on localhost while the
Dev VM is running will encounter a port collision, so documentation is
required."
redshiftzero,2017-08-17 22:58:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9a0739151f98bf852b19de808e4188b15a1ea5ba,9a0739151f98bf852b19de808e4188b15a1ea5ba,"OSSEC rules: Remove spurious --MARK-- ossec-keepalive alert

This alert is sent from the OSSEC agent to the manager and should
be filtered out by OSSEC but occasionally produces an alert.

This commit uses both the match and program_name OSSEC options to select
these events, marks them as Level 0, and ensures that no email
alerts are produced in the future."
redshiftzero,2017-08-04 05:22:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5647f7fb91d7f665c10da7b39d2a18e3dce52c4d,5647f7fb91d7f665c10da7b39d2a18e3dce52c4d,"Replace misleading instances of source_id with filesystem_id

Some variables are named source_id even though they actually
refer to the filesystem_id. This commit renames them to make the
web applications easier to understand."
heartsucker,2017-08-23 00:52:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45d19b736b86fa8f2b0c44c68ee79f8fbaaba1fc,45d19b736b86fa8f2b0c44c68ee79f8fbaaba1fc,updated copy for autogenerated passphrases
redshiftzero,2017-08-02 18:12:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd91235180c372c7a8a49a60dcad582e4b6c50be,bd91235180c372c7a8a49a60dcad582e4b6c50be,"Replace sid with filesystem_id

The variable sid is used throughout SecureDrop's app code and it
is unclear upon first inspection whether it refers to source_id
or filesystem_id. This commit replaces sid with the variable it
refers to - filesystem_id - for clarity."
redshiftzero,2017-08-17 22:58:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dfb36cf59a416fc996ababb06e79e8e26a9f39b3,dfb36cf59a416fc996ababb06e79e8e26a9f39b3,"OSSEC rule test: --MARK-- ossec-keepalive alerts should not alert

OSSEC agents periodically send keep alive messages to the manager [0],
which unfortunately sometimes produces spurious alerts [1].

This commit adds a regression test to ensure these alerts are not
produced going forward.

[0] https://groups.google.com/forum/#!msg/ossec-list/dE3klm84JMU/kGZkRdSl3ZkJ
[1] http://ossec-docs.readthedocs.org/en/latest/faq/alerts.html"
redshiftzero,2017-08-23 19:51:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5d067bb7244befca65489eaaf2fc7b78ae3e07c6,5d067bb7244befca65489eaaf2fc7b78ae3e07c6,"Merge pull request #2137 from freedomofpress/ossec-testinfra-tests

Add initial automated tests for OSSEC and whitelist overloaded Tor guard log event"
heartsucker,2017-08-23 18:32:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0f23b1197d3350f5278dcd705c6863dd82222bc3,0f23b1197d3350f5278dcd705c6863dd82222bc3,added conditional logic for sphinx interface
heartsucker,2017-08-23 17:26:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/48f766a17d384f3c0f973d84fe2873f47a819466,48f766a17d384f3c0f973d84fe2873f47a819466,added pip/apt dependencies for sphinx to ansible
heartsucker,2017-08-22 22:42:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f487b81786018706b87270a79b7dc543132ba2a6,f487b81786018706b87270a79b7dc543132ba2a6,made docs hostable from vagrant
redshiftzero,2017-08-23 18:34:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a544ceb0e096bb11f8d955f38221cd6bf4d0047,4a544ceb0e096bb11f8d955f38221cd6bf4d0047,"Merge pull request #2178 from freedomofpress/makefile

made Makefile self documenting"
conorsch,2017-08-23 17:24:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f28930c47a5ce9498b0fb4ebaefd0e5b3128a899,f28930c47a5ce9498b0fb4ebaefd0e5b3128a899,"Re-adds meta-level help info to Makefile

Preserving descriptive header text in the top-level Makefile to
distinguish it from the docs-specific Makefile (at `docs/Makefile`),
as well as any others we add in the future.

Alack, I did not add beautiful colorized text. May another come along
and do it for us one day."
conorsch,2017-08-23 16:54:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c2e4af83f044bb7755295bcb8800e29f390efd14,c2e4af83f044bb7755295bcb8800e29f390efd14,"Left-justify Makefile help columns

Keeping the newly automagically formatted column output for `make help`
in discrete, readable columns, rather than center-justifying everything
on the column delimiter."
redshiftzero,2017-08-16 23:30:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/32b18ad798d6f8de9da76b9ce1edefd2803367e7,32b18ad798d6f8de9da76b9ce1edefd2803367e7,OSSEC rules: Remove alert when Tor guard is overloaded
redshiftzero,2017-08-16 23:11:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd4015874d6e7ab377795177876fe46a934bf741,dd4015874d6e7ab377795177876fe46a934bf741,"Add test to reproduce overloaded Tor guard OSSEC alert

A Tor log event indicating that a Tor guard in use is overloaded
currently produces an OSSEC alert. While this alert is an
excellent candidate to be sent upstream to FPF for analysis,
there is no action that a SecureDrop administrator is expected
to take, making this a spurious OSSEC alert.

This test reproduces this spurious alert and is a regression test
for an OSSEC rule patch."
redshiftzero,2017-08-16 22:32:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/523447ef1bd8c0af785c382975ef61c0a374a833,523447ef1bd8c0af785c382975ef61c0a374a833,"Add initial automated test for OSSEC alert using ossec-logtest

Verify that the log event describes in PR #871 (grsec denying RWX
mmap) produces an OSSEC alert of level 7.

Note: The rule added in PR #871 was later reverted, which is why
current SecureDrop produces OSSEC alerts for this kind of log
event."
redshiftzero,2017-08-23 00:03:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e3d331b173cf0c9c211c3e63eead12356800c505,e3d331b173cf0c9c211c3e63eead12356800c505,"Merge pull request #2174 from freedomofpress/docs-add-discourse-gitter

Update README to include links to Discourse and Gitter"
redshiftzero,2017-08-22 23:56:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68cbd74f85c375b26521ac19df0d140795864005,68cbd74f85c375b26521ac19df0d140795864005,"Merge pull request #2157 from freedomofpress/update_tails_docs_gksudo

Update backup documentation to use gksu nautilus in lieu of ""Root Terminal"" application"
heartsucker,2017-08-22 22:03:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f234e5389a004d4a078997b920d06f872828d812,f234e5389a004d4a078997b920d06f872828d812,"made Makefile self documenting

fixes #2169"
redshiftzero,2017-08-22 23:13:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/423b487d194da8ae7d644e034cffeb1e94b2771b,423b487d194da8ae7d644e034cffeb1e94b2771b,"Merge pull request #2141 from freedomofpress/wip-dachary-pages-layout

tests: take screenshots of (almost) all pages from the source & journalist interface"
redshiftzero,2017-08-22 23:02:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/02e2762eb5d56749e694549a398542e581645f31,02e2762eb5d56749e694549a398542e581645f31,"Merge pull request #2139 from freedomofpress/checklists-hardware

Add short pre-install hardware checklist"
redshiftzero,2017-08-22 20:53:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dbd665e9c68dbf5fa922fcae919b5d73465aeb64,dbd665e9c68dbf5fa922fcae919b5d73465aeb64,"Merge pull request #1509 from heartsucker/diceware-for-journalists

Force journalists to use diceware passwords"
heartsucker,2017-02-07 17:52:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b85bffc8dc4a07a24b975485d9cd3f44d7a1418a,b85bffc8dc4a07a24b975485d9cd3f44d7a1418a,force journalist to use diceware passwords
redshiftzero,2017-08-22 00:34:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8d0d0fea0a3a21b6b31bfaafb09743807fa90ad,a8d0d0fea0a3a21b6b31bfaafb09743807fa90ad,"Add --page-layout option to turn off page-layout tests by default

The page layout tests can add significant time to the running of the
full test suite. However, we want to provide an easy option for the
developer to run them when checking the rendering of i10n strings
or when generating new screenshots for user guides.

This commit adds a --page-layout option in `conftest.py` and marks
each page-layout test with a pytest.mark. By default, the page-layout
tests will not run. However if the --page-layout option is run, all
tests will execute."
redshiftzero,2017-08-17 01:10:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a27663135bc61e11e73b7d57a6a3e693d91b5fe0,a27663135bc61e11e73b7d57a6a3e693d91b5fe0,"Remove expired references to Tails 3.0

Tails 3.0 is neither ""upcoming"" nor ""the current stable release"","
redshiftzero,2017-08-17 01:06:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe66486f6272de3d7e3efd4bd2f0e3c26310e8eb,fe66486f6272de3d7e3efd4bd2f0e3c26310e8eb,Add pre-install checklist to the top of the long hardware document
redshiftzero,2017-08-17 01:05:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ded8fec794cd1eb8296eff994dc6a454dc17d139,ded8fec794cd1eb8296eff994dc6a454dc17d139,Add checklists section in docs with pre-install hardware checklist
redshiftzero,2017-08-17 01:04:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c85b966fb5fbd49a12054690b5eab77ce507b5ee,c85b966fb5fbd49a12054690b5eab77ce507b5ee,"Add reusable text snippet with a short hardware checklist

As recommended in http://tychoish.com/post/large-sphinx-deployments/
the filename of the included text is .txt, not .rst."
redshiftzero,2017-08-21 22:43:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb5bda77f8a2ab076f7cf214c5017f78fb1b2d20,cb5bda77f8a2ab076f7cf214c5017f78fb1b2d20,"Merge pull request #2159 from freedomofpress/docs-multiple-admins

Updating docs to make recommendations for teams with multiple admins."
redshiftzero,2017-08-21 22:12:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f68038ae7338d7165e6875ea1ad46c507497756,8f68038ae7338d7165e6875ea1ad46c507497756,"Admin guide: Fix linting and add an ""Updating the Servers"" section

* Add a ""Updating the Servers"" section.

* Fix a couple of minor spelling mistakes."
olivemartini,2017-08-21 20:20:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/29633484504f3f9d06c8279e2a8307b16f106b9b,29633484504f3f9d06c8279e2a8307b16f106b9b,"Making inline changes to docs recommendations about updates to the server.
 On branch docs-multiple-admins"
redshiftzero,2017-08-21 16:48:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/044f9f3a2c980ea3a4a081b8ca3803a8d0a52f96,044f9f3a2c980ea3a4a081b8ca3803a8d0a52f96,"Merge pull request #2158 from freedomofpress/update_keepass_template

Update KeePassX file to add entries"
olivemartini,2017-08-20 03:41:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/32bac595cbe68f6559f15d5acb8ad8349137d58b,32bac595cbe68f6559f15d5acb8ad8349137d58b,Updating docs to make recommendations for teams with multiple admins.
redshiftzero,2017-08-18 23:29:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ebb28a85293e6831b8e1c5244c10be5bffda07e3,ebb28a85293e6831b8e1c5244c10be5bffda07e3,"Merge pull request #2151 from freedomofpress/wip-dachary-contributor-guide

docs: explain privilege escalation"
redshiftzero,2017-08-18 21:35:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c2b9f91796e5f1523aaf34b4ac5898489f9252f8,c2b9f91796e5f1523aaf34b4ac5898489f9252f8,"Merge pull request #2149 from freedomofpress/skip-circle-ci-for-docs-branches-v2

Convert CircleCI to workflow + skip staging tests on `docs-`"
msheiny,2017-08-18 20:20:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8b9ccf363d7d9332e5151dc2abc9b8219efccee,e8b9ccf363d7d9332e5151dc2abc9b8219efccee,"Embed docs detection within CI spinup/teardown scripts

We cant just filter workflows out because we need to require GITHUB to only
allow merging when these tests pass - if we just filter out a test github
remains waiting for results from it and never passes."
msheiny,2017-08-18 18:45:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cdca68f6985a02358f04d9be4af1008dfe65852b,cdca68f6985a02358f04d9be4af1008dfe65852b,"Add CI workflow, prevent staging on docs branches"
redshiftzero,2017-08-18 17:10:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/40ff390253ef8585c6830fbf798f613ee64dbe23,40ff390253ef8585c6830fbf798f613ee64dbe23,"Merge pull request #2142 from freedomofpress/1920-makefile-targets-for-linting

Provides Makefile targets for running linters"
redshiftzero,2017-08-18 16:54:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8820fa312f2bb77e7bc0d23bd1b9c253cf806d82,8820fa312f2bb77e7bc0d23bd1b9c253cf806d82,"Merge pull request #2144 from freedomofpress/1087-remove-support-for-connect-proxy

Removes outdated comment about connect-proxy support"
conorsch,2017-08-18 00:14:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0edefd0116aab3a2061722895e19726e65ff5419,0edefd0116aab3a2061722895e19726e65ff5419,"Removes outdated comment about connect-proxy support

We dropped support for `connect-proxy` in favor of `netcat-openbsd`
in #1441, but there was still a comment in place that referred to it.
Removing the comment allows use to close #1087."
conorsch,2017-08-17 23:32:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/890742e7b44892a6ed6b2c5badebad5a8a1d469b,890742e7b44892a6ed6b2c5badebad5a8a1d469b,"Run linting steps separately in Travis CI

Pointed out by @redshiftzero during review. It's far better to have
all linting steps executed during the CI run, rather than failing early
and reporting only the one failed linting step."
conorsch,2017-08-17 22:46:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ebf19f2c746988bd750550360244ae504f807d1a,ebf19f2c746988bd750550360244ae504f807d1a,"Creates Makefile target ""lint"" for catch-all

Wraps the other linting Makefile targets, viz.

  * docs-lint
  * flake8
  * html-lint

Gives us a single entrypoint, mostly useful for CI, to make sure the
source files are up to snuff, formatting-wise."
conorsch,2017-08-16 23:22:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0619b0931f6b4fc604a8d11e410d3fc706b21266,0619b0931f6b4fc604a8d11e410d3fc706b21266,"Creates Makefile target for HTML linting

Porting the Travis html-linting command to the top-level Makefile, so it's
easy to run HTML linting during local development. The HTML linter is a recent
addition to the developer environment, and it's been a bit finicky, so hopefully
empowering developers to run the linter locally will help us shake out problems.

Updates the developer docs to include mention of the new Makefile
target, rather than providing a one-liner for copy/pasting and
customization."
conorsch,2017-08-16 23:11:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ef6f1ac8d9fe42c3335a905fe981406b66c0bed,7ef6f1ac8d9fe42c3335a905fe981406b66c0bed,"Creates Makefile target for flake8 linting

Porting the Travis flake8 command to the top-level Makefile, so it's
easy to run flake8 linting during local development. Had to omit testing
of `securedrop/config.py` since it doesn't conform to PEP8 standards,
and unfortunately the update story around that file is quite difficult.

It's interesting that we've neve seen failures for this file in Travis;
I assume that's because we're chowning the config file to root under
Travis, which seems unwise, and warrants further scrutiny."
redshiftzero,2017-08-17 00:19:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85f4cceb5b69bcc9c73af7ed72dea823679e896f,85f4cceb5b69bcc9c73af7ed72dea823679e896f,"Merge pull request #2127 from freedomofpress/specify-ntpdate-server

Specify NTP server to use for ntpdate"
conorsch,2017-08-16 21:36:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aea636f543af23d8896e12a40e587d07a3b33f77,aea636f543af23d8896e12a40e587d07a3b33f77,"Skip CircleCI if branch prefixed with `docs-`

Using the CircleCI branch filter settings [0] to skip running the
staging build environment if-and-only-if the PR branch name is prefixed
with `docs-`. Utilization of this feature is opt-in, so it will require
training regular contributors to make use of it, but should save 30-45
minutes for CI runs for those who do.

Updated the developer docs to make mention of the special branch prefix,
so that first-time contributors have a shot at discovering it
themselves.

Closes #2132.

[0] https://circleci.com/docs/2.0/configuration-reference/#full-example"
redshiftzero,2017-08-16 20:35:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d7d097ce7a68bb83580c0255f7101eb361f89088,d7d097ce7a68bb83580c0255f7101eb361f89088,"Merge pull request #2123 from freedomofpress/wip-dachary-2122-test-thread

tests: join threads before teardown"
redshiftzero,2017-08-16 19:52:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/690e35e62a7f32fdffd6cb3f2a1491ce21ee8b20,690e35e62a7f32fdffd6cb3f2a1491ce21ee8b20,"Merge pull request #2119 from freedomofpress/wip-dachary-rework-functional

tests: functional: rework to prepare for screenshots"
redshiftzero,2017-08-16 19:50:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b1b00f6f204b10e3f7a27ce72b210582651c3e34,b1b00f6f204b10e3f7a27ce72b210582651c3e34,"Merge pull request #2084 from freedomofpress/style-guide-for-contributors

Add code style guide for contributors"
redshiftzero,2017-08-16 18:47:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38f52af87793984248e15aee4fb0481125ba41b7,38f52af87793984248e15aee4fb0481125ba41b7,"Merge pull request #2078 from freedomofpress/fix-apparmor-fontawesome-svg

Fix AppArmor rule denying access to fontawesome-webfont.svg"
redshiftzero,2017-08-16 18:45:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5a56c23d4c8068fef00def6e2ebb7d05bcb1c76f,5a56c23d4c8068fef00def6e2ebb7d05bcb1c76f,"Merge pull request #2124 from freedomofpress/wip-dachary-screenshot-kwargs

tests: @screenshot must accept **kwargs"
redshiftzero,2017-08-16 18:03:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/593fc1c9291ad12277cfe2e68843eacbeb42b126,593fc1c9291ad12277cfe2e68843eacbeb42b126,"Merge pull request #2128 from freedomofpress/wip-dachary-travis-flake8

tests: avoid flake8 breaking the test environment"
redshiftzero,2017-08-16 15:54:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/86665a609ac262b453f8148592f601f83f30c1e7,86665a609ac262b453f8148592f601f83f30c1e7,"Docs: Specify NTP server to use for ntpdate

Ntpdate needs an NTP server to be specified else it will return
""no servers can be used, exiting"""
redshiftzero,2017-08-16 15:37:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be540fe4e9b9bb7a159e566d6c7ca90dd86626d8,be540fe4e9b9bb7a159e566d6c7ca90dd86626d8,"Merge pull request #2120 from freedomofpress/wip-dachary-i18n-manage

i18n: extract/update/compile gettext from sources/templates"
redshiftzero,2017-08-16 14:29:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f23c0c829b3356cb4dec93965631e9527e46a1fb,f23c0c829b3356cb4dec93965631e9527e46a1fb,"Merge pull request #2118 from freedomofpress/wip-dachary-i18n-documentation

i18n: developer documentation"
redshiftzero,2017-08-16 05:29:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b0ec0b803eda7271d0e78841e1369196301ae53f,b0ec0b803eda7271d0e78841e1369196301ae53f,"Merge pull request #1860 from freedomofpress/prefer-yaml-safe-load

Prefer use of yaml.safe_load"
redshiftzero,2017-08-15 23:02:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9342c5efe86e23a4c6dc88e343ade47b9f0c7de0,9342c5efe86e23a4c6dc88e343ade47b9f0c7de0,"Merge pull request #2117 from freedomofpress/wip-dachary-printer

docs: HP DeskJet 1110 tested with tails 3.1"
redshiftzero,2017-08-15 22:50:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6832de4e9993b2f653bdd51f467ab2ac98392836,6832de4e9993b2f653bdd51f467ab2ac98392836,"Merge pull request #2115 from freedomofpress/wip-dachary-journalist

doc: journalist bookmarks are obsolete"
conorsch,2017-08-15 22:11:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5d03b40f1a108d6fe6aa306f3acc1f2c413c2d4,e5d03b40f1a108d6fe6aa306f3acc1f2c413c2d4,"Merge pull request #2083 from freedomofpress/flake8-securedrop-admin

Add flake8 in CI for the SecureDrop administrator script"
redshiftzero,2017-08-05 04:57:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90552e7d5c8b4f5d4bd079879abdcbf16ed497be,90552e7d5c8b4f5d4bd079879abdcbf16ed497be,Add initial code style guide for contributors
redshiftzero,2017-08-05 04:34:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d82c74fa946ebebdadd64176c9d528bcc4a2ba4b,d82c74fa946ebebdadd64176c9d528bcc4a2ba4b,Add linting of securedrop-admin to Travis CI
redshiftzero,2017-08-05 04:31:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d90dbf535abd187183576272b6291e33025d898c,d90dbf535abd187183576272b6291e33025d898c,flake8: securedrop-admin
conorsch,2017-08-15 17:52:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa62af2d7592b6a63491e8fc2ff042398873ee92,aa62af2d7592b6a63491e8fc2ff042398873ee92,"Merge pull request #2110 from freedomofpress/release/0.4.2

Merge 0.4.2 release changes back into develop"
conorsch,2017-08-14 23:09:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae3fb43ffd5cab4ac356722ea63172d9015ef9c7,ae3fb43ffd5cab4ac356722ea63172d9015ef9c7,SecureDrop 0.4.2
conorsch,2017-08-14 23:02:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3ee4850f889658633bdd4ffedc53352c465093bc,3ee4850f889658633bdd4ffedc53352c465093bc,"Merge pull request #2108 from freedomofpress/explicitly-include-dac-override-in-apache-apparmor-profile

Set capability `dac_override` for Apache AppArmor"
conorsch,2017-08-14 21:16:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5dcb4f15de51281fa9cece9599abd304a9898cae,5dcb4f15de51281fa9cece9599abd304a9898cae,"Set capability `dac_override` for Apache AppArmor

We were previously relying on the tor apparmor abstractions to provide
`capability dac_override`. When the tor package removed the
capability in favor of `dac_read_search`, the apache service started
failing due to overconfinement. Editing the AppArmor profile for Apache
such that the dac_override capability is now explicitly, rather than
implicitly, included."
conorsch,2017-08-07 23:45:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d76695b5bfb58cd3f38c89987b690a3e1ba34a4,0d76695b5bfb58cd3f38c89987b690a3e1ba34a4,"Merge pull request #2082 from freedomofpress/flake8-testinfra

Add Flake8 of testinfra to CI, fix all failures"
redshiftzero,2017-08-07 23:38:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ffacac1f7ba625296c641cded11e7c7be92dbd02,ffacac1f7ba625296c641cded11e7c7be92dbd02,"Merge pull request #2046 from dachary/wip-doc-l10n

docs: translator guide"
redshiftzero,2017-08-04 23:31:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8066263aabf578304a71ec6503f9511dc87f009e,8066263aabf578304a71ec6503f9511dc87f009e,"flake8: testinfra/mon/test_ossec.py

This commit removes a duplicate test_hosts_files

It also replaces the undefined variable OSSEC_GNUPG
with the actual homedir"
redshiftzero,2017-08-04 23:23:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/70bba92c31c918e494aaea4f49aa75ad40d87a93,70bba92c31c918e494aaea4f49aa75ad40d87a93,"flake8: testinfra/common/test_grsecurity.py

regex was not being used in test_grsecurity_paxtest, this commit
adds an assert to check that 'Killed' appears in stdout for each paxtest
check"
redshiftzero,2017-08-04 23:22:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0eca8ddb63325b048ee06f0f8fcf488497368192,0eca8ddb63325b048ee06f0f8fcf488497368192,flake8: testinfra/mon/test_network.py
redshiftzero,2017-08-04 23:09:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b056ca255b1e58c9cfb403d7a6b351387bb82b6,1b056ca255b1e58c9cfb403d7a6b351387bb82b6,flake8: testinfra/functional/test_tor_interfaces.py
redshiftzero,2017-08-04 23:05:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d80a1ad07c8ae589612f1a096b43a12d303cc2fd,d80a1ad07c8ae589612f1a096b43a12d303cc2fd,flake8: testinfra/development/
redshiftzero,2017-08-04 22:54:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0baa76f7df9641a326e708e52806e555be5212c8,0baa76f7df9641a326e708e52806e555be5212c8,flake8: testinfra/common/test_user_config.py
redshiftzero,2017-08-04 22:54:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4c4dfa40ea35eff7bdf97f6598127c0d7d5c67e,d4c4dfa40ea35eff7bdf97f6598127c0d7d5c67e,flake8: testinfra/common/test_tor_hidden_services.py
redshiftzero,2017-08-04 22:53:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c57914fcc4bb90294ba29b60afbb0b76e1abf09,4c57914fcc4bb90294ba29b60afbb0b76e1abf09,flake8: testinfra/common/test_tor_config.py
redshiftzero,2017-08-04 22:52:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c185fcfa0a76a2afb40891d14d12614e2f0b875,1c185fcfa0a76a2afb40891d14d12614e2f0b875,flake8: testinfra/common/test_system_hardening.py
redshiftzero,2017-08-04 22:52:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b297793e2ea92b95137f39a8c5e3586de7f97894,b297793e2ea92b95137f39a8c5e3586de7f97894,flake8: testinfra/common/test_fpf_apt_repo.py
redshiftzero,2017-08-04 22:51:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b6cd2412b8ff4ebf4966b03acc0dbb8f8304d89a,b6cd2412b8ff4ebf4966b03acc0dbb8f8304d89a,flake8: testinfra/common/test_platform.py
redshiftzero,2017-08-04 22:51:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/242e466ba09b0445fd78375b7b8e18512fa8a5ed,242e466ba09b0445fd78375b7b8e18512fa8a5ed,flake8: testinfra/common/test_cron_apt.py
redshiftzero,2017-08-04 22:14:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/56903cb27cab8801692950977cedc2964a2478ff,56903cb27cab8801692950977cedc2964a2478ff,flake8: testinfra/build/
redshiftzero,2017-08-04 22:09:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/303fb11ce1dc42730a7ccf9fa8f7ec70838d22b1,303fb11ce1dc42730a7ccf9fa8f7ec70838d22b1,flake8: testinfra/app-code/
redshiftzero,2017-08-04 22:07:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f159ddc0e7056a9206d81e2ed735046d8168de2b,f159ddc0e7056a9206d81e2ed735046d8168de2b,flake8: testinfra/app/apache
redshiftzero,2017-08-04 22:01:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3cdfd32adc946fc2673cd8aa70d3f1eeaa5cc42c,3cdfd32adc946fc2673cd8aa70d3f1eeaa5cc42c,"flake8: testinfra/app/test_ossec.py

For some reason test_hosts_files was defined twice, but one
definitely would not work (env not defined) so removed the dead
code"
redshiftzero,2017-08-04 21:58:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/299828022dabd5cebb7a97eb6bf1c3401aef7501,299828022dabd5cebb7a97eb6bf1c3401aef7501,flake8: testinfra/app/test_network.py
redshiftzero,2017-08-04 21:47:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da272c84ffb2c1ff04dbe658c7ead3b17395e2ae,da272c84ffb2c1ff04dbe658c7ead3b17395e2ae,flake8: testinfra/app/test_appenv.py
redshiftzero,2017-08-04 21:43:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01933e7ee9d05fa352cfd8edb3ec64d9d7748e84,01933e7ee9d05fa352cfd8edb3ec64d9d7748e84,"flake8: testinfra/app/test_apparmor.py

Renamed second instance of test_apparmor_apache_exact_capabilities
to test_apparmor_tor_exact_capabilities"
redshiftzero,2017-08-04 21:35:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/145081f847534fc6ab133984d73bb52952681ae0,145081f847534fc6ab133984d73bb52952681ae0,flake8: testinfra/test.py
redshiftzero,2017-08-04 21:32:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45c5ee8c2a28d8e2973d4277503befd1b1eb9e3e,45c5ee8c2a28d8e2973d4277503befd1b1eb9e3e,flake8: testinfra/conftest.py
redshiftzero,2017-08-04 21:31:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d0443c63f9d1a8c6a3f41869c68529a7998f0224,d0443c63f9d1a8c6a3f41869c68529a7998f0224,Add flake8 testinfra to Travis CI
redshiftzero,2017-08-07 19:35:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e47c6a5bf9d27cb9a0a7ca5407ab03036853e8b,1e47c6a5bf9d27cb9a0a7ca5407ab03036853e8b,"Merge pull request #2081 from freedomofpress/add-html-linting

Add HTML linting to CI and fix linting errors on all HTML templates"
redshiftzero,2017-08-07 19:23:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/82abef0e96786ee656fe72508ec5c2f335b86358,82abef0e96786ee656fe72508ec5c2f335b86358,"Merge pull request #2086 from dachary/pr-1954

Add a helper to emit screenshots before and after selenium test cases."
conorsch,2017-08-07 18:15:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/544336e3cc4a0d6b754d27dd0b4a5c3cb0ec7df8,544336e3cc4a0d6b754d27dd0b4a5c3cb0ec7df8,"Merge pull request #2077 from freedomofpress/fix-apparmor-docs

Developer docs: AppArmor is in enforce mode on staging"
tmc,2017-07-10 16:03:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/83f28e4cb7b3bbe2f56d8e84abdd8ed80711efb6,83f28e4cb7b3bbe2f56d8e84abdd8ed80711efb6,Add documentation about selenium screenshot helper
tmc,2017-07-09 01:21:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fdad701cc00b9c858342d2a661af08cef5f45047,fdad701cc00b9c858342d2a661af08cef5f45047,"Add a helper to emit screenshots before and after selenium test cases.

This serves to aid debugging selenium test failures."
redshiftzero,2017-08-05 02:56:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/31fd5d418743ac4b3cc4685adeffcbcf3772d184,31fd5d418743ac4b3cc4685adeffcbcf3772d184,Cleanup HTML in journalist templates: Fix all linting warnings
redshiftzero,2017-08-04 21:21:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c61b1aced114d4fadc25633547da4e55b43e5d57,c61b1aced114d4fadc25633547da4e55b43e5d57,Add linting of journalist templates to Travis CI
redshiftzero,2017-08-04 20:28:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e549b40e4c06f9d4c1d9f4d5091ac398de46a82c,e549b40e4c06f9d4c1d9f4d5091ac398de46a82c,"Cleanup HTML in source templates: Fix all linting warnings

* Specifying HTTPS on the sites here is unnecessary as they are
HTTPS by default
* Removing unnecessary '/' in self-closing tags
* Fixing formatting, e.g. <p> on new lines for clarity"
redshiftzero,2017-08-04 20:04:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98baffb20d199e05bb3319cfac11027799fd49d7,98baffb20d199e05bb3319cfac11027799fd49d7,Add linting of source templates HTML to Travis CI
redshiftzero,2017-08-04 00:48:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b1f8581e2a2b71dea8f01d2ae6ca187eaa4590d,8b1f8581e2a2b71dea8f01d2ae6ca187eaa4590d,"Add html_linter to updated development requirements

This commit:
* Adds an html linter (https://pypi.python.org/pypi/html-linter/)
  to the development requirements and
* Updates the development requirements. Following the documentation at
https://docs.securedrop.org/en/latest/development/tips_and_tricks.html#upgrading-or-adding-python-dependencies
  updating the .in file necessitates updating the corresponding .txt,
  which is done via a shell script."
redshiftzero,2017-08-04 16:24:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dfb0be1e8df7bd9508fef062fced619459f091b7,dfb0be1e8df7bd9508fef062fced619459f091b7,"Merge pull request #2073 from dachary/wip-2072-flask-babel

i18n: add Flask-Babel requirement"
redshiftzero,2017-08-04 15:25:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f12b190b91508978b085e98a2ccaf51e46c8cb14,f12b190b91508978b085e98a2ccaf51e46c8cb14,"Fix AppArmor rule denying access to fontawesome-webfont.svg

Apache should have access to fontawesome-webfont.svg. If AppArmor
denies access, a spurious OSSEC alert will be produced.

Reported by @KwadroNaut in #2075"
redshiftzero,2017-08-04 04:47:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2cb26c8fe303335f6b015945cc46524fd179948e,2cb26c8fe303335f6b015945cc46524fd179948e,Developer docs: AppArmor rules are in enforce mode on staging
redshiftzero,2017-08-04 01:49:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9abe7df677fdceed9b8dcd6c04b02881c965d1b5,9abe7df677fdceed9b8dcd6c04b02881c965d1b5,"Merge pull request #2066 from freedomofpress/tails-admin-pw-reminder-docs

Add clarifying note about missing Root Terminal"
redshiftzero,2017-08-04 01:07:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c0afc3d840a1efa4b3caebb8740ce3696e200fdb,c0afc3d840a1efa4b3caebb8740ce3696e200fdb,"Merge pull request #2071 from freedomofpress/fix-apparmor-profile-in-develop

Revert ""i18n: add Flask-Babel requirement"""
conorsch,2017-08-04 00:23:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dacae7ec37a5443e57ce05c5a3f07d7d1e301171,dacae7ec37a5443e57ce05c5a3f07d7d1e301171,"Revert ""i18n: add Flask-Babel requirement""

Change came in via #1924 but tests were not run (see #1826), so a
breaking regression due to the AppArmor profiles has been wrecking
builds in CI. We need to reland the requirements updates as part of the
i18n effort, but as a short-term fix, we're backing out the breaking
change from develop, pending a more durable and fully-tested
implementation.

Fixes #2070.

This reverts commit 10b41800d5524aef6c483c5c77d37f279e4fcecd."
redshiftzero,2017-08-03 21:00:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9fa2aa42b664a1c3f2fb50853bc58c6ad319e41d,9fa2aa42b664a1c3f2fb50853bc58c6ad319e41d,"Merge pull request #2058 from dachary/wip-flake8-tests

flake8 compliance for the remaining files in tests"
redshiftzero,2017-08-03 01:49:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e15922dcbd20a1b574d4065f39a9da665c2c5e2,3e15922dcbd20a1b574d4065f39a9da665c2c5e2,"Merge pull request #2063 from freedomofpress/release/0.4.1

Merge 0.4.1 release changes back into develop"
redshiftzero,2017-08-02 23:25:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb837d3350934bc3a3562cad5cde08b001c20165,cb837d3350934bc3a3562cad5cde08b001c20165,SecureDrop 0.4.1
redshiftzero,2017-08-02 23:20:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78c5609b97ba53a2a59f28e11de6a1b741442583,78c5609b97ba53a2a59f28e11de6a1b741442583,"Merge pull request #2062 from freedomofpress/fix-broken-upgrade-script-0.4.1

Update version bumping script for 0.4.1"
redshiftzero,2017-08-02 22:17:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f3282bce356f0a4663f367b419758c9a03015765,f3282bce356f0a4663f367b419758c9a03015765,"Update version bumping script for 0.4.1

The regex was erroneously matching on the
fingerprint due to unescaped '.' in the version string
so used an inner sed from:
https://stackoverflow.com/questions/39659946/use-sed-with-variable-that-contains-dot"
redshiftzero,2017-08-02 21:04:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0c0a4cfc59fa77f0bec321cb70a3ffdf23b2818,a0c0a4cfc59fa77f0bec321cb70a3ffdf23b2818,"Merge pull request #2051 from freedomofpress/fix-tails-3-unlink-doc-desktop-icon

[0.4.1] Fix bug preventing removal of old document interface desktop icon"
conorsch,2017-08-02 19:47:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e4c6d6650b83ba692f4a464328d8a9f164835e2e,e4c6d6650b83ba692f4a464328d8a9f164835e2e,"Enforces proper ownership throughout tails-config

The tails-config role by default runs with normal user privileges,
as ""amnesia"" on a Tails workstation. Prior to SecureDrop 0.4, the Tails
configuration script `install.sh` was run as root, so folks upgrading
from the previous version may have some root-owned files that cannot be
edited with normal user privileges. In addition to setting become=yes on
the tasks to modify these files, we'll also chown/chgrp to ""amnesia""
where appropriate. After all, explicit is better than implicit!"
redshiftzero,2017-08-02 18:06:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5fcf7673e3118564852a18f21bd88ed1905bae9e,5fcf7673e3118564852a18f21bd88ed1905bae9e,"Merge pull request #2059 from dachary/wip-flake8-tests-utils

flake8 compliance for the files in tests/utils"
redshiftzero,2017-08-02 00:41:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8fed1d17ea292bf3acb8811db21df2970d63ec95,8fed1d17ea292bf3acb8811db21df2970d63ec95,"Merge pull request #2060 from dachary/wip-flake8-management

flake8 compliance for the files in management"
redshiftzero,2017-08-01 22:18:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9762626a504dc273711c33b8ff78cb1b17b5773,d9762626a504dc273711c33b8ff78cb1b17b5773,"Merge pull request #2054 from dachary/wip-functional-use-id

tests: functional: look for menu elements by id"
redshiftzero,2017-08-01 22:18:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/75c7e08d40245c4ce3bdf20629d0efe1bfd1cf60,75c7e08d40245c4ce3bdf20629d0efe1bfd1cf60,"Merge pull request #2055 from dachary/wip-i18n-verify-edit-user

tests: functional: verify edit user with name only"
redshiftzero,2017-08-01 21:51:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c1af7dfdf93712f802558c01891805420da0df55,c1af7dfdf93712f802558c01891805420da0df55,"Ensure amnesia user is owner of the Desktop shortcuts

In order to ensure that the amnesia user can open the desktop shortcuts,
we should explicitly set the owner and group to be amnesia when creating
them."
redshiftzero,2017-08-01 21:01:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/af7b134b03f3f18cc25bdd728e9296e552071d0c,af7b134b03f3f18cc25bdd728e9296e552071d0c,"Update language around GPG signature verification of git tags

* The signing key is called the ""SecureDrop Release Signing Key""
* Remind admins that they should be looking for ""Good signature""
and verifying the key is correct. They _should_ still have the key
in their admin workstations from the installation, but just in
case they do not, the fingerprint is now displayed for reference."
conorsch,2017-08-01 20:09:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54a20878e97ea5efd96983352ef64e3770097303,54a20878e97ea5efd96983352ef64e3770097303,Sudo when creating SecureDrop desktop shortcuts
redshiftzero,2017-08-01 18:19:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/013dfa3aa2aec24c46f409ae07e4912f4f9bc9e9,013dfa3aa2aec24c46f409ae07e4912f4f9bc9e9,"Merge pull request #2006 from dachary/wip-journalist-js-cleanup

journalist: cleanup: remove unused variable"
redshiftzero,2017-08-01 00:40:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce3f60db0bc385f6ac8840538e542e54067853d9,ce3f60db0bc385f6ac8840538e542e54067853d9,Update 0.4.x upgrade guide and Tails 3 upgrade guide for 0.4.1
redshiftzero,2017-07-31 22:35:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4252e567bb6299ecd4f0a1e1c14494a96aec4f4c,4252e567bb6299ecd4f0a1e1c14494a96aec4f4c,"Merge pull request #1924 from dachary/wip-i18n

i18n: add Flask-Babel requirement"
redshiftzero,2017-07-31 22:14:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15e94e373e835de0b2e7a602b1f3344aa2a61b86,15e94e373e835de0b2e7a602b1f3344aa2a61b86,"Merge pull request #2048 from freedomofpress/merge-0.4-changes-into-develop

Merge 0.4 release changes into develop"
conorsch,2017-07-31 21:38:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cf79058c493413b0f8bd88f0ebc6b730b32f3901,cf79058c493413b0f8bd88f0ebc6b730b32f3901,"Add patch to remove old deprecated document interface desktop icons

From:
https://github.com/freedomofpress/securedrop/issues/2049#issuecomment-318251010"
redshiftzero,2017-07-31 21:42:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97ba34ddb1a6066d07f5ca778c9b9b78f0e596ee,97ba34ddb1a6066d07f5ca778c9b9b78f0e596ee,"Merge pull request #2047 from freedomofpress/post-0.4-release-changes-into-master

Merge 0.4 release changes into master"
redshiftzero,2017-07-31 19:13:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/35f7b7011387db98b42dc2836e1bb9613733f7ad,35f7b7011387db98b42dc2836e1bb9613733f7ad,"Convert test_source_notfound to use pytest

In #1987 on develop, we converted functional tests to use pytest.
This commit modifies test_source_notfound added during a QA bugfix
for SecureDrop 0.4 to also use pytest."
redshiftzero,2017-07-31 19:06:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b77bca0a6f040a69ff2f844390c6bdef54bce9a6,b77bca0a6f040a69ff2f844390c6bdef54bce9a6,Fix flake8 issue
redshiftzero,2017-07-31 19:05:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c3724291d9f6a8233847475590a580bb7c59bcaa,c3724291d9f6a8233847475590a580bb7c59bcaa,Merge branch 'release/0.4' into merge-0.4-changes-into-develop
garrettr,2017-07-26 20:01:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a20b07b9e658eba62e7cfcd30895fec1b6f0245,6a20b07b9e658eba62e7cfcd30895fec1b6f0245,"Merge pull request #1985 from dachary/wip-1978-use-tor

[0.4.1] source: fix inconsistent output when exiting from use-tor"
garrettr,2017-07-26 19:55:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5a70083bdd8247cd803ca2f4df5414a3dd5c9b84,5a70083bdd8247cd803ca2f4df5414a3dd5c9b84,"Merge pull request #2045 from freedomofpress/readme-should-link-to-stable-docs

Readme should link to stable docs"
garrettr,2017-07-25 23:43:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ebb2dc9c97b4fa6fe1ecf7a4e5c9995ab97e5aad,ebb2dc9c97b4fa6fe1ecf7a4e5c9995ab97e5aad,"Merge pull request #2044 from dachary/wip-readme

docs: add direct link to contributing guidelines"
garrettr,2017-07-25 23:02:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/76d30687056e65e64ac346596e29f001e878bdf4,76d30687056e65e64ac346596e29f001e878bdf4,Explain different versions of docs in README
garrettr,2017-07-25 22:48:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8bc370eb8e53e0c4817a1ac4c745c5a5cd1e2462,8bc370eb8e53e0c4817a1ac4c745c5a5cd1e2462,"README should link to stable documentation for end users

The SecureDrop README is prominently displayed on SecureDrop's GitHub
page, so end users (sources, journalists, or administrators) may
encounter it when trying to learn more about SecureDrop. This commit
changes links to the SecureDrop documentation in the README that are
likely to be relevant to end users (as opposed to
developers/contributors) to point to the ""stable"" version of the
documentation, since it is the documentation for the latest stable
release of SecureDrop and therefore the documentation most likely to be
relevant to end users.

I left the link to the Development Guide pointing to the ""latest""
documentation, since that documentation is more likely to be relevant to
developers/contributors than to end users."
garrettr,2017-07-25 22:36:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e490936ce1598e11e4480ec4de497c6b136568b5,e490936ce1598e11e4480ec4de497c6b136568b5,"Merge pull request #2040 from comradekingu/patch-1

clarifications and corrections"
garrettr,2017-07-25 22:30:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c134ecb0d79cd0cf983f4da14dc99c69d577ee9d,c134ecb0d79cd0cf983f4da14dc99c69d577ee9d,"Merge pull request #2004 from dachary/wip-manage-verbosity-control

manage: verbosity control"
comradekingu,2017-07-25 22:20:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f31df397c491862e2cd991f6f763c48326b3587,3f31df397c491862e2cd991f6f763c48326b3587,_the_ SecureDrop documentation
redshiftzero,2017-07-25 18:21:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d92db5cfd4c62acdf21d974c7959b79445be3c3c,d92db5cfd4c62acdf21d974c7959b79445be3c3c,SecureDrop 0.4
comradekingu,2017-07-25 16:44:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c75c6a65c8d32f60f4e94df7447b7fc51b49330e,c75c6a65c8d32f60f4e94df7447b7fc51b49330e,small fixes
redshiftzero,2017-07-25 02:35:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/42f0cf9b7fa8459cbb1b6178fca4bcd640859f2a,42f0cf9b7fa8459cbb1b6178fca4bcd640859f2a,"Merge pull request #2038 from freedomofpress/explain-tor-browser-insecure-login-warnings

Explain insecure login warnings in Tor Browser"
garrettr,2017-07-25 01:40:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4baf7298adef7943ec2e9ff3421e28f2d2f8407f,4baf7298adef7943ec2e9ff3421e28f2d2f8407f,Explain confusing warning on journalist login page
garrettr,2017-07-25 01:34:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2db8efdcb5987429750ce80821dca3f02f0b55bc,2db8efdcb5987429750ce80821dca3f02f0b55bc,Explain confusing warning on source login page
redshiftzero,2017-07-25 00:43:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4aa9b1079d20a3ebca648bde09490d66a28e8c49,4aa9b1079d20a3ebca648bde09490d66a28e8c49,"Merge pull request #2037 from freedomofpress/ubuntu-iso-verification

Clearly describe how to download Ubuntu installation media"
garrettr,2017-07-25 00:03:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/51e5b196845ae61c1288177a0557f12d0a93cabe,51e5b196845ae61c1288177a0557f12d0a93cabe,"Specify -O once for each file being downloaded

curl defaults to writing its output to stdout. However, when using curl
to download the installation media and associated files, it is more
useful to write the output to local files with the same names as the
remote files. curl can accomplish this with the `-O` option, but you
need to specify it once for each URL being downloaded. See the curl man
page for details."
garrettr,2017-07-24 23:41:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3693c7f09af074a332bdca88f4f53dd4f4797b14,3693c7f09af074a332bdca88f4f53dd4f4797b14,"Clearly describe how to download Ubuntu installation media

Resolves #2034."
redshiftzero,2017-07-24 22:42:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/25247c59d6852ca48de4bb92a9c03d7a64a7a8d4,25247c59d6852ca48de4bb92a9c03d7a64a7a8d4,"Merge pull request #2005 from dachary/wip-journalist-flag-id

journalist: templates: add id to flag continuation"
redshiftzero,2017-07-24 22:40:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f3180cedb2d8c29a264cee5eda1f4db2aa0d2bf2,f3180cedb2d8c29a264cee5eda1f4db2aa0d2bf2,"Merge pull request #2008 from dachary/wip-functional-try-login

tests: functional: split journalist login function"
redshiftzero,2017-07-24 20:52:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/007327540e454e2cae9107e45945241befd1c307,007327540e454e2cae9107e45945241befd1c307,"Merge pull request #2033 from freedomofpress/post-offers-for-kernel-source

Adds offer for source for custom kernels"
conorsch,2017-07-24 20:11:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c5665b0b03668a86bf2966242de76e72059ed346,c5665b0b03668a86bf2966242de76e72059ed346,SecureDrop 0.4-rc2
conorsch,2017-07-24 19:59:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03ed6c09f722ae1fe1ca7a47fcb371912e2c4fcb,03ed6c09f722ae1fe1ca7a47fcb371912e2c4fcb,"Fixes 0.4-rc1 tagging

During cutting of the 0.4-rc1 tag for QA, we encountered a problem with
the update_version script, and had to hotfix it. A subsequent PR made
the change permanent, but in the process we bungled some of the
associated edits, and as a result wound up with files containing both
""0.3.12"" and ""0.4-rc1"" for version strings.

We need to correct that prior to 0.4-rc2 (or 0.4, for that matter),
since the update_version script expects one-and-only-one ""previous
version"" to match. Therefore I'm manually reimplementing the 0.4-rc1
version string in a few places, then we can cut 0.4-rc2 and build."
conorsch,2017-07-24 20:06:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/debded7829b07ec60a8d79a10befcb746b1d48e6,debded7829b07ec60a8d79a10befcb746b1d48e6,"Amends source offer language reference to users

Recommended language by @dachary during review of #2033.
@dachary has worked with the SFC in the past and has their ear on the
changes we are making."
conorsch,2017-07-24 19:41:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cad30e607a57b64f0c202b8b03cf532b022b8756,cad30e607a57b64f0c202b8b03cf532b022b8756,"Merge pull request #2032 from freedomofpress/remove-3-nic-server-setup

Docs: Remove 3NIC firewall network configuration in install"
conorsch,2017-07-24 17:32:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b33f9b0a745635c8fc5bca6430224b91450dbe9,7b33f9b0a745635c8fc5bca6430224b91450dbe9,"Adds explicit GPL source offer for custom kernels

Created a top-level file in the repo called `SOURCE_OFFER`, which
includes a concise statement of offering source for the kernel packages,
and links to itself via a public URL (in case someone is reading it offline).

We can reuse the copy here in various places, and more importantly, we
can link directly to this document from anywhere, giving us a single
point of update, and a single URL to sprinkle around in the
documentation.

Updated the project documentation (both the install guide and the apt
repo docs) with explicit mention of the source offer, and a link
directly to the SOURCE_OFFER file.

Also added some comments to the Ansible YAML files in locations relevant
to the apt repo and kernel install tasks."
redshiftzero,2017-07-23 23:24:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20a6cd581849e05d41183c99b693aac9fd662e58,20a6cd581849e05d41183c99b693aac9fd662e58,"Docs: Remove 3NIC firewall network configuration in install

We no longer include documentation of the 3NIC firewall config,
and the presence of two blocks here will be confusing. Admins
who are using an alternative firewall can modify this
as needed."
redshiftzero,2017-07-23 22:35:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e213b3d207b7a6016fd522f17b5de190ef17116,0e213b3d207b7a6016fd522f17b5de190ef17116,"Merge pull request #2029 from freedomofpress/decompression-svs-fix

Restore the original filename when uncompressing a file in the SVS"
conorsch,2017-07-23 21:59:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc85ddc4d8eba3b20f15cb615bad0c8297bcc659,fc85ddc4d8eba3b20f15cb615bad0c8297bcc659,"Merge pull request #2030 from freedomofpress/https-on-src-interface-0.4

HTTPS docs: Explicitly state starting point in instructions"
redshiftzero,2017-07-23 00:02:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0a113ed42285b807230217de9f44840f1e139578,0a113ed42285b807230217de9f44840f1e139578,HTTPS docs: Remind admins what directory they should be working in
redshiftzero,2017-07-22 21:49:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0a32b5107378ea5350b8e50e6242137656ce7eda,0a32b5107378ea5350b8e50e6242137656ce7eda,Install docs: Add decompression fix to SVS setup instructions
redshiftzero,2017-07-22 21:25:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/477df7692895f750262f4864aa3d932c47ed688f,477df7692895f750262f4864aa3d932c47ed688f,Tell admins that all persistence options should be enabled
redshiftzero,2017-07-22 21:20:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/482ecb73898aadfd14cafc783b4a0abc3504f9bc,482ecb73898aadfd14cafc783b4a0abc3504f9bc,"Add fix for decompression bug to Tails 3 upgrade guide

In Tails 3, the filenames of submissions was no longer preserved
during decryption. Changing the Nautilus automatic-decompression
option fixes the bug, but needs to be added to the persistent
dotfiles to be applied upon reboot."
conorsch,2017-07-22 21:04:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03bc11cc6163a1c9d5a72a40c2ab442db80fb282,03bc11cc6163a1c9d5a72a40c2ab442db80fb282,"Merge pull request #2028 from freedomofpress/instruct-admins-to-stash-changes-permanently-in-0.4

Instructs Admins to stash changes permanently"
conorsch,2017-07-22 20:42:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00ca190c5761597e230cb66ae3935e9e7052ef7a,00ca190c5761597e230cb66ae3935e9e7052ef7a,"Merge pull request #1952 from freedomofpress/printing-on-tails-3.0-wip

USB Printing on Tails 3.0"
redshiftzero,2017-07-22 17:45:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3265b36874273fcc6594d03fa9e624997d3b470b,3265b36874273fcc6594d03fa9e624997d3b470b,"Merge pull request #2027 from freedomofpress/fix-backups-for-0.4-and-also-restore

Adds ""backup"" and ""restore"" actions to securedrop-admin script"
conorsch,2017-07-22 02:50:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3861a55aba134da0d1500a72877cbeb455a28ad5,3861a55aba134da0d1500a72877cbeb455a28ad5,"Cleans up formatting nits in Tails printing guide

Implements formatting fixes mentioned during review of #1952.

Changed ""successfully seamless"" -> ""seamless"" as requested by @garrettr.
Reduced excessive whitespace in introduction to GUI walkthrough, as
requested by @conorsch."
conorsch,2017-07-22 01:51:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb77f304ef34a83bbd5e043b6d75ce95d0ba1035,eb77f304ef34a83bbd5e043b6d75ce95d0ba1035,"Removes backup play from prod playbook

The prod playbook was overloaded to support backups and restores
if-and-only-if a complicated series of CLI flags were supplied. Now that
we have dedicated playbooks (and associated subcommands in the
securedrop-admin script), we no longer need the include in the main
playbook.

Also removed from the staging playbook, where it was off by default,
same as in the prod playbook."
conorsch,2017-07-22 01:22:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2c9e546d4f86a31077d8c3800f4872b8cbc00e3c,2c9e546d4f86a31077d8c3800f4872b8cbc00e3c,"Updates backup and restore documentation

Using the newly created securedrop-admin ""backup"" and ""restore"" actions,
rather suggested manual activation of the virtualenv env. Bumped the
required version to 0.4, since the Admin tooling referenced here is
largely new.

Also noticed that the backup docs were incorrectly stating that the ATHS
info would be refreshed on the Admin Workstation. Although we should
definitely automate that update as the docs implied, we'll handle in a
follow-up issue. For now, simply instructing Admins to perform that
adjustment manually, then follow up with the `securedrop-admin
tailsconfig` to make the changes permanent."
conorsch,2017-07-22 00:55:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8c0c3d633925ea3031188bd6c42f1b37b0018d97,8c0c3d633925ea3031188bd6c42f1b37b0018d97,"Adds restore action to securedrop-admin script

Since we now have a `./securedrop-admin backup` option, we must also
provide a similarly convenient `./securedrop-admin restore
<restore_file>` option.

In the process, broke out the ""restore"" logic from the ""backup"" role
(which was overloaded to handle both use cases), to be called via a
dedicated playbook. Doing so provides a simple target for the new
securedrop-admin wrapper script."
conorsch,2017-07-22 00:30:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c8a8979ab6700363894a1f929a57d61bc0f5562,6c8a8979ab6700363894a1f929a57d61bc0f5562,"Adds backup action to securedrop-admin script

Admins can now run `./securedrop-admin backup` and a tarball will be
created on the Application Server and fetched back to the Admin
Workstation for safe keeping. Subsequent `restore` functionality will
reference this file and use it for recreating the setup if the servers
ever need to be reprovisioned.

In the process, broke out the backup role logic from the primary
`securedrop-prod.yml` playbook, which means we don't have to pass a mess
of CLI flags in order to run a rather simple action."
conorsch,2017-07-22 02:28:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7bb8da70014e334517e0fed2e79b4d1a0a31af19,7bb8da70014e334517e0fed2e79b4d1a0a31af19,"Instructs Admins to stash changes permanently

Fixes #2022. During the 0.3.12 -> 0.4 migration, the Admin tooling got a
lot smarter, and we no longer need Admins to maintain modifications to
version-controlled files such as:

  * install_files/ansible-base/prod-specific.yml
  * install_files/ansible-base/inventory

Rather than instruct Admins to wipe out those modifications
destructively via `git checkout <filename>`, we can recommend a more
cautious stash save. That way, in case problems arise, the changes are
not lost permanently, and can be recovered at a later date. The old
configs will even persist in Tails across reboots, since they'll be
stored in the .git directory."
conorsch,2017-07-22 02:20:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dbf3337fef3d9384f7cc8cda5a2daefcb0f6ef66,dbf3337fef3d9384f7cc8cda5a2daefcb0f6ef66,"Merge pull request #2025 from freedomofpress/apparmor-fonts-0.4

Add missing AppArmor rule for fontawesome-webfont.woff2"
redshiftzero,2017-07-22 01:42:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1da623be3edad13fbffeae889f3a2595916376a5,1da623be3edad13fbffeae889f3a2595916376a5,"Merge pull request #2026 from freedomofpress/fix-backups-for-0.4

Fixes Application Server backup logic"
redshiftzero,2017-07-22 01:11:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c44fcc1c8f4b0839fbf82575e123f5d033255998,c44fcc1c8f4b0839fbf82575e123f5d033255998,"Merge pull request #2021 from freedomofpress/actually-remove-document-interface-desktop-icon

Permanently removes Document Interface desktop icon in Tails"
conorsch,2017-07-22 00:19:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3ecb776f812c509646c5505c2f8af332e2c0ee59,3ecb776f812c509646c5505c2f8af332e2c0ee59,"Fixes Application Server backup logic

The `backup` role was using `async` for the creation of the backup
tarball, but failed to wait on the results of that task before
proceeding. Since the subsequent tasks operate on the backup tarball,
the role failed due to an undefined variable, specifically the
`backup_filename` var.

The solution is to preserve the async nature of the task, since it can
indeed take a while to complete, but make sure to poll for results,
and pause execution of the role until the backup has completed.
For reference, see:

  http://docs.ansible.com/ansible/latest/async_status_module.html"
justintroutman,2017-07-21 00:36:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aaf1fbeb715aff337c7f4088bd84490f360f7772,aaf1fbeb715aff337c7f4088bd84490f360f7772,Fixed link referencing and changed admin privileges content.
justintroutman,2017-07-13 03:17:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8bcbf0fd36e3758f9ae0375d6a1f3b6d98024a84,8bcbf0fd36e3758f9ae0375d6a1f3b6d98024a84,"Added 'plug in/turn on' step to USB printing, described OpenPrinting.com resource for finding Linux-compatible printers, and added special installation notes for HP Laserjet 400 M401n."
justintroutman,2017-07-08 00:41:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39f914b150b8afda402f7f18f4fca9bdc7267d0b,39f914b150b8afda402f7f18f4fca9bdc7267d0b,Added steps and screenshots for installing an auto-detected USB printer.
justintroutman,2017-07-01 00:40:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a16d056f34e872658ef93b5e86ee32d22eb02874,a16d056f34e872658ef93b5e86ee32d22eb02874,"Break up instructions into sections, add steps to print via the CLI, and add label references for new 'USB printing in Tails 3.0' screenshots."
justintroutman,2017-07-01 00:26:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/abbdde6591215d10d77c866eb6d6c7460112f6fd,abbdde6591215d10d77c866eb6d6c7460112f6fd,Added new screenshots from installing USB printer in Tails. 3.0.
justintroutman,2017-07-21 00:36:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a3cb5b3f4669fcd76f7eba1e8d210d9ef359feaf,a3cb5b3f4669fcd76f7eba1e8d210d9ef359feaf,Fixed link referencing and changed admin privileges content.
redshiftzero,2017-07-22 00:02:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a4cc15ebecb7bbecc9832e26996b6903a10794f4,a4cc15ebecb7bbecc9832e26996b6903a10794f4,Add missing AppArmor rule for fontawesome-webfont.woff2
redshiftzero,2017-07-21 23:39:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f7cd8e3094a50ef0b2b71c59c1798da600659ab,9f7cd8e3094a50ef0b2b71c59c1798da600659ab,"Merge pull request #2018 from freedomofpress/enforce-ownership-on-securedrop-dotfiles-in-tails

Enforce ownership on SecureDrop dotfiles in Talis"
conorsch,2017-07-21 21:24:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/762f3a5cf3c7a901352e6650c869c88cd3fe66f2,762f3a5cf3c7a901352e6650c869c88cd3fe66f2,"Removes Document Interface desktop icon permanently

The previous implementation that attempted to remove the Document
Interface desktop icon from Tails workstations (in favor of the renamed
version ""Journalist Interface"" desktop icons) wasn't persisting between
reboots. The new icons were indeed added, but the old ones kept coming
back, making for a confusing UX. (Both icons worked and referenced the
same URL.)

Ran `locate /document.desktop` and added those filepaths to the list of
paths to remove. After reboot, the file removal now sticks, so only the
Source and Journalist Interface desktop icons are present, and the
Document Interface desktop icon is absent."
conorsch,2017-07-21 21:17:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5db9892661d4a3e1fd8f3bc472c458c5311da5cd,5db9892661d4a3e1fd8f3bc472c458c5311da5cd,"Merge pull request #2015 from freedomofpress/docs-0.4-update-securedrop-install

[0.4] Full install documentation updates"
conorsch,2017-07-21 20:07:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/33faa14a8b7b34dbdf59431545ab598d9c32d5ef,33faa14a8b7b34dbdf59431545ab598d9c32d5ef,"Enforces ownership on SecureDrop dotfiles under Tails

The new Ansible logic for setting up the Tails workstation environments
was not explicitly setting file ownership. Since the old SecureDrop
dotfiles directory from 0.3.12 (and Tails 2) will be root-owned, due to
./install.sh being run with sudo, we need to chown that directory to
allow writes to it. Modifying the ownership in a second task, and only
on the files that reside within `/home/amnesia`."
redshiftzero,2017-07-21 19:21:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3ffb777d7dc8236a990785d7684101ce498cd70f,3ffb777d7dc8236a990785d7684101ce498cd70f,"Update all network firewall upgrade docs and add screenshots

This section was out of date, it's updated as of pfSense 2.3.4
and screenshots are added to show what the interface should
look like instead of just describing it."
conorsch,2017-07-21 19:07:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8135d7c295159c8df3539d099b009348af56fe76,8135d7c295159c8df3539d099b009348af56fe76,"Merge pull request #2003 from freedomofpress/document-securedrop-0.4-upgrade-process

Document SecureDrop 0.4 upgrade process for Admins"
conorsch,2017-07-21 18:35:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/40f007a6fe6e0cd1368ec0760ca3c378c32b5f66,40f007a6fe6e0cd1368ec0760ca3c378c32b5f66,"Merge pull request #2014 from freedomofpress/fix-sudo-password-0.4

[0.4] Ensure sudo passwords with spaces are not terminated early"
conorsch,2017-07-21 18:21:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a891c53d7f4a0030cfd10399f96cbbbb91023a1e,a891c53d7f4a0030cfd10399f96cbbbb91023a1e,"Recommends reset of prod-specific.yml in 0.4 upgrade

The git stash-pull-pop workflow has been painful for Admins, and
occasionally causes git merge conflicts, which can be difficult to
resolve safely. Since we're migrating the site config to a
non-version-controlled file in 0.4, we can finally recommend that Admins
reset their deprecated prod-specific.yml file, thereby avoiding merge
conflicts into the future."
conorsch,2017-07-19 00:25:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0124263d155c32a825db2a5f3f6948b2671ce82,f0124263d155c32a825db2a5f3f6948b2671ce82,"Breaks out info from Tails 3 guide -> 0.4 upgrade guide

The later steps of the Tails 3 upgrade guide were specific to the 0.4
SecureDrop release upgrade, which is confusing and disorganized. Ported
those steps to the dedicated SecureDrop 0.3.x -> 0.4 upgrade guide, and
linked back to the Tails 3 upgrade guide at the top of the document to
indicate clearly that Tails 3 is a prerequisite."
conorsch,2017-07-21 17:53:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/977469ea8b10a2202de87b44740ecaaba45fd290,977469ea8b10a2202de87b44740ecaaba45fd290,"Handles server sudo password via Ansible

Rather than prompt for the sudo password to be used on remote servers
and pass that to an ansible-playbook subprocess, let's have Ansible
prompt directly for the sudo password. Deferring the password handling
to Ansible saves us from having to sanitize the input, and makes the
behavior far more predictable.

Since we're still prompting for the sudo password regardless of whether
it's actually necessary, added some informative output to the script to
state that the sudo password is not actually necessary at all times.

In the future, we may wish to detect a first-time installation setup by
e.g. testing for the presence of the `app-ssh-aths` file on disk."
redshiftzero,2017-07-21 17:43:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97cad3f17f87b22e1672f67a2ffe703c2ec7592b,97cad3f17f87b22e1672f67a2ffe703c2ec7592b,"Check AppArmor status on Application Server only

The apparmor module is not loaded on the Monitor Server."
redshiftzero,2017-07-21 04:05:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5058d7970643122345e1f6148af7992ae91b8446,5058d7970643122345e1f6148af7992ae91b8446,"Ensure sudo passwords with spaces are not terminated early

In order to prevent early termination of the password string,
wrap the sudo password in quotes. Without quotes, the password
terminates early and an authentication error will occur if the
sudo password has spaces."
redshiftzero,2017-07-21 01:11:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/14ba6759d8d684361b0c1c44a7d3a980aace9546,14ba6759d8d684361b0c1c44a7d3a980aace9546,"Merge pull request #2012 from freedomofpress/update-screenshots-for-0.4-admin

Updates Admin Guide screenshots for 0.4"
redshiftzero,2017-07-21 00:38:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/baa3189677f53723f81180b2beae15c59d06dbc9,baa3189677f53723f81180b2beae15c59d06dbc9,"Remove suggestion to refresh the page during a pfsense update

The current version of the Firewall (pfsense 2.3.4) now recommends
in the web application _not_ to refresh the page during an upgrade."
redshiftzero,2017-07-21 00:38:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/794c7355f3fd6861d1dab8fc3bd9cfcab5fd73be,794c7355f3fd6861d1dab8fc3bd9cfcab5fd73be,Update Firewall update available screenshot
redshiftzero,2017-07-21 00:34:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e1e2f26aa9cf2d0eb14c4350690955a90e804b90,e1e2f26aa9cf2d0eb14c4350690955a90e804b90,Remove aged language about having 20 SecureDrop instances
conorsch,2017-07-20 23:54:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eca77b7f035adbf861894c76bd32e7a0b288f9bb,eca77b7f035adbf861894c76bd32e7a0b288f9bb,"Updates all Admin Guide screenshots to use Tails

During the upgrade from SecureDrop 0.3.12 -> 0.4, the web interfaces
received substantial updates, so we must keep the documentation current
to avoid confusion. Took this opportunity to convert all the updated
screenshots to Tails, since that's what both Sources and Journalists
should be using, rather than macOS, which was used previously since it
was convenient for developers.

Note that the ""0.4"" version string is hardcoded in these screenshots
simply for clarity's sake; we haven't actually released 0.4 at this
time, but having ""0.4-rc1"" in the screenshots for a stable release seems
like it would be even more confusing for sources.

This commit only affects the Admin Interface screenshots; Source and
Journalist Interface changes were handled separately."
redshiftzero,2017-07-20 23:52:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/787b691dfecfae4d395dbebb2979cdff68c29b2b,787b691dfecfae4d395dbebb2979cdff68c29b2b,"Merge pull request #2011 from freedomofpress/update-screenshots-for-0.4-journalist

Updates Journalist Guide screenshots for 0.4"
conorsch,2017-07-20 23:13:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b158a562fee4802813c7125d0b45b57ae16e022f,b158a562fee4802813c7125d0b45b57ae16e022f,"Merge pull request #2000 from freedomofpress/migrate-journalist-aths-file-on-workstations

Migrate site-specific config on Tails workstations for 0.4"
conorsch,2017-07-20 22:59:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87cf8851f334b1776560cb30de488cd11be1a50e,87cf8851f334b1776560cb30de488cd11be1a50e,"Updates Journalist screenshots for flagged reply

The section of the Journalist Guide describing the ""flag source for
reply"" flow was confusing, and the screenshots present did not show the
functionality being described. Added new screenshots, based on Tails 3,
and with the 0.4 web interface, to clear up any confusion."
conorsch,2017-07-20 21:25:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec170223ad4c1213fc76dd2f55da4c2d0b3cbbf4,ec170223ad4c1213fc76dd2f55da4c2d0b3cbbf4,"Updates all Journalist Guide screenshots to use Tails

During the upgrade from SecureDrop 0.3.12 -> 0.4, the web interfaces
received substantial updates, so we must keep the documentation current
to avoid confusion. Took this opportunity to convert all the updated
screenshots to Tails, since that's what both Sources and Journalists
should be using, rather than macOS, which was used previously since it
was convenient for developers.

Note that the ""0.4"" version string is hardcoded in these screenshots
simply for clarity's sake; we haven't actually released 0.4 at this
time, but having ""0.4-rc1"" in the screenshots for a stable release seems
like it would be even more confusing for sources.

This commit only affects the Journalist Interface screenshots; Source
Interface changes were handled separately."
conorsch,2017-07-20 20:30:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa958f102506dd813d3cff2c2b1454c97dd5292f,aa958f102506dd813d3cff2c2b1454c97dd5292f,"Merge pull request #2010 from freedomofpress/update-screenshots-for-0.4-source

Updates Source Guide screenshots for 0.4"
redshiftzero,2017-07-20 19:20:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8de86370e16c21607846378ff1b6031237ebe670,8de86370e16c21607846378ff1b6031237ebe670,"Merge pull request #2009 from dachary/wip-0.4-docs-server

[0.4] typos and leftovers cleanup in the servers.rst documentation page"
conorsch,2017-07-20 00:10:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b27e3eb9fdcc80ea6dd280f429bbe4a380ed9172,b27e3eb9fdcc80ea6dd280f429bbe4a380ed9172,"Updates Source Interface docs language

Makes two updates to the text of the Source Interface in order to match
the new screenshots:

Renames Source Interface button ""Logout"" -> ""Exit"" in docs

The name of the ""logout"" button as presented in the Source Interface
changed back in #1534, but the corresponding documentation was never
updated. Now that the screenshots show the new ""Exit"" button, we must
also update the guiding language to refer explicitly to an ""Exit""
button, not a ""Logout"" button.

Updates Source codename displayed in-line to match the screenshots.
Since Source codenames are randomly generated, updating the screenshots
means we'll definitely get a new codename, so let's update the in-line
text to match what's displayed in the visual aids, to avoid confusion."
conorsch,2017-07-20 18:22:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba3f5e448494d60373db80e87871ffc5cdaecee5,ba3f5e448494d60373db80e87871ffc5cdaecee5,"Updates all Source Guide screenshots to use Tails

During the upgrade from SecureDrop 0.3.12 -> 0.4, the web interfaces
received substantial updates, so we must keep the documentation current
to avoid confusion. Took this opportunity to convert all the updated
screenshots to Tails, since that's what both Sources and Journalists
should be using, rather than macOS, which was used previously since it
was convenient for developers.

Note that the ""0.4"" version string is hardcoded in these screenshots
simply for clarity's sake; we haven't actually released 0.4 at this
time, but having ""0.4-rc1"" in the screenshots for a stable release seems
like it would be even more confusing for sources."
conorsch,2017-07-19 17:57:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0eeb76767ef606943d3b3601a7f8a3eccbbae04b,0eeb76767ef606943d3b3601a7f8a3eccbbae04b,"Updates tailsconfig command to bypass inventory

The inventory file intentionally throws an exception if the
new site-specific vars file [0] is not found, and instructs
the Admin to run the `sdconfig` command. We do not need
the dynamic inventory script to target the Tails workstation
via localhost, so pass /dev/null in for the inventory file
on that subcommand, same as we do for the `sdconfig` command.

[0] install_files/ansible-base/group_vars/all/site-specific"
conorsch,2017-07-19 16:13:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/25390bc377a63e998646b599038ecd62e3c64290,25390bc377a63e998646b599038ecd62e3c64290,"Migrates deprecated prod-specific.yml vars file

Now using a new, non-versioned-controlled filepath at
`group_vars/all/site-specific`. The new strategy will avoid any
stash/pop conflicts during upgrades of SecureDrop due to customizations
in the old prod-specific.yml vars file. We'll optimistically copy the
over the old vars file, if-and-only-if the new location doesn't exist.

The first-time install docs instruct Admins to run `./securedrop-admin
sdconfig` before running `./securedrop-admin tailsconfig`, and the
latter invokes the logic committed here. Upgrade docs for SecureDrop 0.4
will instruct Admins to run the latter command to ensure a smooth
upgrade.

If-and-only-if the prod-specific.yml file was migrated, we'll need to
import the variables defined in that file, since they were not included
at the start of the play, given that the prod-specific.yml location is
ignored as of 0.4."
conorsch,2017-07-19 16:13:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc01d9bba6f1c500ad95bf339d768bab09a7a150,bc01d9bba6f1c500ad95bf339d768bab09a7a150,"Migrates the ATHS info file Document -> Journalist interface

Since we renamed the Document Interface to the Journalist Interface, we
must ensure that upgrading instances have the proper file on the Tails
workstations for configuring the torrc access. Due consideration was
given to migrating the configs on the Application Server, and this
commit similarly ensures a working setup on the Tails workstations (both
Admin and Journalist). Documentation will require that the
`./securedrop-admin tailsconfig` entrypoint be used for reconfiguring
the Tails workstations after upgrading from Tails 2 to Tails 3."
redshiftzero,2017-07-19 20:39:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/db1a388f9007c9fd0df30458065793658ad8583c,db1a388f9007c9fd0df30458065793658ad8583c,Docs: State up front that you do not need a passphrase for SSH keys
redshiftzero,2017-07-19 20:39:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff1cc05259b306ebb3552fa25d9342541674ab69,ff1cc05259b306ebb3552fa25d9342541674ab69,Fix spelling mistake
redshiftzero,2017-07-19 20:20:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d10c033d662633d59199235f5dcd9ee4bfb8168,1d10c033d662633d59199235f5dcd9ee4bfb8168,Remove SecureDrop 0.3 reference in server setup docs
conorsch,2017-07-19 19:53:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4fee43ae35946c8a11525223ec65294dd202891f,4fee43ae35946c8a11525223ec65294dd202891f,"Merge pull request #2002 from freedomofpress/docs-remove-old-roles-refs

Docs: remove reference to ""Roles"" section that no longer exists"
conorsch,2017-07-19 00:15:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df64595c93f8c9422cbf04a9b37731bcaf837a55,df64595c93f8c9422cbf04a9b37731bcaf837a55,"Creates 0.3.x -> 0.4 upgrade guide

A dedicated upgrade guide with the git/stash/pull/pop workflow
explicitly documented is very much warranted for the 0.4 release.
Having a separate SecureDrop upgrade guide will allow us to keep the
Tails 3 upgrade guide focused on the Tails-specific manual upgrade (via
USB, rather than download) process."
redshiftzero,2017-07-19 18:31:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b4b84a53c71a2492f505ad72212cd0571815c869,b4b84a53c71a2492f505ad72212cd0571815c869,"Remove reference to ""Roles"" section that no longer exists"
redshiftzero,2017-07-19 18:11:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/174db84eaa16924e04574008cb7b75e67ce30b53,174db84eaa16924e04574008cb7b75e67ce30b53,"Merge pull request #1964 from freedomofpress/rename-download-all-to-download-selected

[0.4] Journalist Interface: Rename ""Download All"" to ""Download"""
redshiftzero,2017-07-19 17:34:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/060535464a1464194d3043a15d8c304c4842a106,060535464a1464194d3043a15d8c304c4842a106,"Merge pull request #1992 from freedomofpress/back-out-custom-notification

[0.4] Back out custom notification text on source interface"
redshiftzero,2017-07-19 17:17:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f94a34e4f0c654d8e0d624342aecbd556c447f7,9f94a34e4f0c654d8e0d624342aecbd556c447f7,"Merge pull request #1995 from dachary/wip-i18n-test-menu-id

journalist: tests menu with id instead of text"
garrettr,2017-07-19 05:28:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4ea9c050e17440356ce3abc4fd3a96ab4202028,d4ea9c050e17440356ce3abc4fd3a96ab4202028,"Merge pull request #1996 from dachary/wip-test-functional-wait-for-app

tests: functional: wait for app to respond"
redshiftzero,2017-07-19 02:52:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01ab30a097b0f930cc268aa070faa8e3d8e15579,01ab30a097b0f930cc268aa070faa8e3d8e15579,"Merge pull request #1994 from dachary/wip-flake8-management-run

manage: remove confusing redirection for run"
redshiftzero,2017-07-19 02:34:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/94fe8e7dffd3fb4606ee2c9af0b48e1d8fedd8a0,94fe8e7dffd3fb4606ee2c9af0b48e1d8fedd8a0,"Merge pull request #1993 from dachary/wip-i18n-gitignore-pot

i18n: do not gitignore .pot translation files"
redshiftzero,2017-07-17 23:34:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f58a3dc17c633fcb55936b7d3ae36864fd4fe429,f58a3dc17c633fcb55936b7d3ae36864fd4fe429,Remove custom_notification related screenshot and documentation
redshiftzero,2017-07-17 23:31:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f26bda1f73e8c0cab9eba636330910112b296a06,f26bda1f73e8c0cab9eba636330910112b296a06,"Back out custom_notification feature on source interface

Given the poorly thought out deployment story for this
custom notification feature on the source interface
for currently running instances, we are backing this out
until we can land automated migrations of the SecureDrop
webapp config or until this is reimplemented in another
way.

Full discussion in:
https://github.com/freedomofpress/securedrop/issues/1965"
redshiftzero,2017-07-17 22:46:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e4ae446f86af0c40da332572d9c3fece6eb5c8c,6e4ae446f86af0c40da332572d9c3fece6eb5c8c,"Merge pull request #1988 from dachary/wip-1987-functional-pytest

convert functional tests to pytest"
redshiftzero,2017-07-17 22:16:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0b0e4acf6586da97fad34b4b153086757118bb66,0b0e4acf6586da97fad34b4b153086757118bb66,"Merge pull request #1991 from freedomofpress/add-keepass-migration-0.4

[0.4] Docs: Add KeePass database 1->2 migration guide"
redshiftzero,2017-07-17 19:50:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/053290c0d3c912b27906b68c4ea0b4e749b42d03,053290c0d3c912b27906b68c4ea0b4e749b42d03,Docs: Add KeePass database 1->2 migration guide
redshiftzero,2017-07-17 20:04:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f99b82a840d6a0b962c8a4c5fcce0580208ee0b,7f99b82a840d6a0b962c8a4c5fcce0580208ee0b,"Merge pull request #1984 from dachary/wip-flake8-functional

tests: functional: flake8 compliance"
redshiftzero,2017-07-17 18:52:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a3b34ee2a815b19be6a1ab3feb7470f1d6d123c9,a3b34ee2a815b19be6a1ab3feb7470f1d6d123c9,"Merge pull request #1990 from dachary/wip-0.4-doc-admin-setup

docs: KeePassX s/File/Database/"
redshiftzero,2017-07-17 18:36:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/32923dcba6503f25a9a2a38694db3a40fb7ec9af,32923dcba6503f25a9a2a38694db3a40fb7ec9af,"Merge pull request #1986 from dachary/wip-documentation-style-shell-block

doc: remove extra leading $"
redshiftzero,2017-07-12 00:06:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0bfda77482782fae8c49e5d3c67281c55cb333d,a0bfda77482782fae8c49e5d3c67281c55cb333d,"Journalist Interface: Rename ""Download All"" to ""Download"""
conorsch,2017-07-17 18:08:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b57a371ee53bb54856259f6ae39d12d94816827d,b57a371ee53bb54856259f6ae39d12d94816827d,"Merge pull request #1980 from freedomofpress/fix-ssh-connection-handler

Fix SSH connection timeout in Vagrant"
conorsch,2017-07-17 17:38:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c18b43b54250461cc61010a941e4c79711ff8b0,1c18b43b54250461cc61010a941e4c79711ff8b0,"Merge pull request #1962 from freedomofpress/more-informative-error-message-in-dynamic-inventory

More informative error messages in dynamic inventory"
conorsch,2017-07-11 17:18:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce537f6f17b46aa2658f08b43cb0136c223f8bb7,ce537f6f17b46aa2658f08b43cb0136c223f8bb7,"More informative error messages in dynamic inventory

Some of the error messages displayed by the `inventory-dynamic` script
were incorrect, instructing Admins to run scripts that don't exist.
Updated the path names displayed in error messages, and created a
reusable custom exception for handling configuration errors.

Closes #1950."
garrettr,2017-07-14 23:36:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5e9ea723a4087559d18979f1ca28c897d69c43a8,5e9ea723a4087559d18979f1ca28c897d69c43a8,Fix SSH connection timeout in Vagrant
redshiftzero,2017-07-17 16:52:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c485bd1bb1a77e244e562ba3208910d796cf529f,c485bd1bb1a77e244e562ba3208910d796cf529f,"Merge pull request #1989 from dachary/wip-0.4-doc-admin-setup

[0.4] docs: update tails greeter to 3.0 version"
redshiftzero,2017-07-17 16:17:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/93a3c9649e1fd4cd2255f7beabb7fad09f09428c,93a3c9649e1fd4cd2255f7beabb7fad09f09428c,"Merge pull request #1968 from dachary/wip-0.4-journalist-index-javascript

[0.4] journalist: hide select all/none in index when no js"
redshiftzero,2017-07-17 15:52:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dc2ef9661c25aac3cacc7ab30106c787cef5acf3,dc2ef9661c25aac3cacc7ab30106c787cef5acf3,"Merge pull request #1981 from dachary/wip-0.4-source-not-found

[0.4] source: not found page content is empty"
redshiftzero,2017-07-16 20:03:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2e68fa561b141569043cc36e7c918aa11b6e910e,2e68fa561b141569043cc36e7c918aa11b6e910e,"Merge pull request #1906 from dachary/wip-flake8-journalist

journalist: flake8 compliance"
redshiftzero,2017-07-16 18:40:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3176bd92379aa02fe07ef129b706133436c30537,3176bd92379aa02fe07ef129b706133436c30537,"Merge pull request #1939 from dachary/wip-0.4-svs-key

docs: passphrase is asked twice when no passphrase"
msheiny,2017-07-13 20:47:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7fa41289c57ceab7b5d488a2ec95dfea201d37af,7fa41289c57ceab7b5d488a2ec95dfea201d37af,"Merge pull request #1974 from freedomofpress/fix-ssh-connections-breaking-when-tor-is-restarted

Fix SSH connections breaking when tor is restarted"
conorsch,2017-07-13 19:08:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e493a77ed683129498ffeb4faff9bd66e53028cd,e493a77ed683129498ffeb4faff9bd66e53028cd,"Removes 'Sandbox' from torrc config test suite

Updates the testinfra test suite to stop checking for presence of the
""Sandbox 1"" declaration, which was backed out of the server configs
during QA for 0.4. In addition to simply removing the check, added a new
test to confirm its absence, so we're certain that the option is indeed
not present on systems during testing. Included links to relevant GitHub
issues for discussion, since we plan to re-add the option down the road,
after sufficient testing."
msheiny,2017-07-13 16:13:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2416995d9c05b90295e7a3e50f080b9409c4b5c8,2416995d9c05b90295e7a3e50f080b9409c4b5c8,"Replace deprecated ansible fields - tor handler

Replaces\removes ansible fields such as `sudo` and `ansible_ssh_port` that
have been deprecated.

http://docs.ansible.com/ansible/become.html#for-those-from-pre-1-9-sudo-and-su-still-work
http://docs.ansible.com/ansible/intro_inventory.html#hosts-and-groups"
msheiny,2017-07-13 16:07:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b20353c4f30d622ac4e00eb43ddcb1235fda28d,3b20353c4f30d622ac4e00eb43ddcb1235fda28d,"Fix tor reboot task for CI

The waiting task was previously pegged to specific situations when an onion
address was being used. Now that this restriction has been removed the handler
was breaking in CI. Fixed this by removing the legacy ansible_ssh_host and
replacing with conditionally injected remote_host_ref. Still default back to the
standard `ansible_host` if we arent in CI."
msheiny,2017-07-13 15:58:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bea886167bb0d4271a03b9794bfc4d811f983e85,bea886167bb0d4271a03b9794bfc4d811f983e85,"Remove experimental tor sandbox feature

This feature is still listed as experimental and requires more testing before being
pushed out to production."
conorsch,2017-07-13 00:19:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f728caba4c322019465680e34eccf7aae574f788,f728caba4c322019465680e34eccf7aae574f788,"Ensure SSH connections work after restarting tor

Since SSH connections in SecureDrop are routed over Authenticated Tor
Hidden Services (ATHS), restarts of the tor daemon will sever existing
SSH connections, thereby breaking Ansible playbook runs if a handler to
restart tor is notified. Although we take care to ensure that tor
service restart action completes successfully (#1707), the subsequent
reconnection by Ansible is affected by SSH ControlPersist files.

When tor is restarted, the SSH connection is never formally severed,
so SSH reasonably believes that the ControlPersist files on the Admin
Workstation represent still-active connections to the remote machines.
Once tor is restarted, this is no longer true. The solution is to clear
out any existing ControlPersist files whenever tor is restarted.
Subsequent Ansible tasks will then be forced to open a new
ControlMaster, and fresh ControlPersist files will be automatically
created, and the play will continue as normal.

Fixes #1969."
msheiny,2017-07-13 16:17:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99efcc9439a661792401b5db47aa0a8e3037fed7,99efcc9439a661792401b5db47aa0a8e3037fed7,"Merge pull request #1972 from freedomofpress/fix-dev-ci-sass

Pin version of sass gem in development and travis CI"
msheiny,2017-07-13 16:17:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/79a2fcfa48c176602ce46a58710459d214281948,79a2fcfa48c176602ce46a58710459d214281948,"Merge pull request #1973 from freedomofpress/fix-dev-ci-sass-0.4

[0.4] Pin version of SASS ruby gem to 3.4.23 in development and CI"
msheiny,2017-07-13 15:10:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be2f3273d0ef16d37ca967b2e382025cd14973f9,be2f3273d0ef16d37ca967b2e382025cd14973f9,"Remove hard-coded sass/rvm versions in playbooks

By moving these values to ansible variables, they are easier to over-ride in the
future."
msheiny,2017-07-13 15:10:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/56b35a957d99a8b7430ac69cf00b1f5b36f315e7,56b35a957d99a8b7430ac69cf00b1f5b36f315e7,"Remove hard-coded sass/rvm versions in playbooks

By moving these values to ansible variables, they are easier to over-ride in the
future."
redshiftzero,2017-07-13 03:10:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9c23e4d15e6d29bacbf5f2de446b680e9caddb76,9c23e4d15e6d29bacbf5f2de446b680e9caddb76,"Pin version of SASS ruby gem to 3.4.23 in development and CI

This keeps the development environment in parity with
353e026628acf11f9f904ac8cc1adafd40c1dd8b where we version locked
the sass gem."
redshiftzero,2017-07-13 03:10:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b801909c5972279ff6cef769e2eb2f2097bdf078,b801909c5972279ff6cef769e2eb2f2097bdf078,"Pin version of SASS ruby gem to 3.4.23 in development and CI

This keeps the development environment in parity with
353e026628acf11f9f904ac8cc1adafd40c1dd8b where we version locked
the sass gem."
redshiftzero,2017-07-12 23:47:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f24b7787e1d886d718d0eaac0e08ddd63528e7e6,f24b7787e1d886d718d0eaac0e08ddd63528e7e6,"Merge pull request #1953 from freedomofpress/journalist-checklist

Docs: Add journalist setup checklist"
redshiftzero,2017-07-12 23:46:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e0100339c9499ba0de4ca2786093bc0e55976887,e0100339c9499ba0de4ca2786093bc0e55976887,"Merge pull request #1938 from freedomofpress/add-label-source-files

Add source .xcf files for hardware labels"
redshiftzero,2017-07-08 06:49:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0a4fb1f4e05112e6297ba11ec2771b8019b6fe72,0a4fb1f4e05112e6297ba11ec2771b8019b6fe72,"Docs: Add journalist setup checklist

This checklist contains the main points that an administrator
should run through with each journalist to verify their devices
are working properly and that a journalist has their credentials
saved."
conorsch,2017-07-11 23:18:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/892cf52299f17ed9c70df0bb0bec68137101bab2,892cf52299f17ed9c70df0bb0bec68137101bab2,"Merge pull request #1949 from freedomofpress/note-about-ocsp-in-docs

Add note about OCSP request and link to discussion"
redshiftzero,2017-07-11 22:49:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03e965b545f9004c4b7f207385b4c365e8ffeb4b,03e965b545f9004c4b7f207385b4c365e8ffeb4b,"Merge pull request #1948 from freedomofpress/https-docs

Improve HTTPS documentation"
garrettr,2017-07-11 21:56:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d39707612d5f6c73013677280c30ae0c01c5ccf,8d39707612d5f6c73013677280c30ae0c01c5ccf,@redshiftzero review fixes
redshiftzero,2017-07-11 20:16:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1f80ff8f73d058d90cd9e91227b9d53a0df2510e,1f80ff8f73d058d90cd9e91227b9d53a0df2510e,"Merge pull request #1932 from dachary/wip-flake8-test-source

tests: source: flake8 compliance"
msheiny,2017-07-11 17:33:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f1eda76d1e41acdd0c8cc30fae21def1cf23728,6f1eda76d1e41acdd0c8cc30fae21def1cf23728,"Merge pull request #1961 from freedomofpress/SDAdminHelpText

Repair docstring newlines in admin -help output"
msheiny,2017-07-11 14:55:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0210d2434de145678b8a622b38dbf012ec067a45,0210d2434de145678b8a622b38dbf012ec067a45,"Repair docstring newlines in admin -help output

This commit makes output easier to read in help when showing
docstring content from `securedrop-admin` functions.

Referenced from here:
https://docs.python.org/2/library/argparse.html#formatter-class
https://stackoverflow.com/questions/18462610/argumentparser-epilog-and-description-formatting-in-conjunction-with-argumentdef"
conorsch,2017-07-11 00:55:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/200f90f47abee6838685177a938231f2838174d0,200f90f47abee6838685177a938231f2838174d0,"Merge pull request #1958 from freedomofpress/securedrop-admin-apt-output-formatting

Quickfix for messy output from apt-get install"
redshiftzero,2017-07-07 22:23:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8be0438a0d4a9fbaf80766dc4d7475aeb78635c2,8be0438a0d4a9fbaf80766dc4d7475aeb78635c2,"Documentation: Add note about OCSP request and link to discussion

Adds a note about OCSP request implications described in full in
https://github.com/freedomofpress/securedrop/issues/1941."
garrettr,2017-07-10 21:01:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fcd65fe09b2441e222ab217a2e7858348f6353f7,fcd65fe09b2441e222ab217a2e7858348f6353f7,"Quickfix for messy output from apt-get install

-q omits progress indicators, which generally look messy when reprinted.
Note that -q must come *before* the command (e.g. install).

Using -q alone does not solve the problem because apt-get calls out to
dpkg, which gets confused about whether it is printing to a
terminal or not, attempts to use carriage returns to display
incremental/progressive output, and thus causes the output to look
messy. Dpkg::Use-Pty=0 prevents this behavior.

I have tested this on Tails 3.0.1 and confirmed that this change fixes
the messy output from `apt-get install` when it is called from
`securedrop-admin setup`."
garrettr,2017-07-07 23:33:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec04c2945df3720ef926647dac1be319bd37de96,ec04c2945df3720ef926647dac1be319bd37de96,Fix typo
redshiftzero,2017-07-07 23:11:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07907dab74b400976376009757e5c371147022be,07907dab74b400976376009757e5c371147022be,"Merge pull request #1946 from freedomofpress/fix-prod-vms-group-membership

Fixes Ansible group membership in prod VMs"
garrettr,2017-07-07 22:16:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39888c42cde99a8e5b7ead3baad86871c74f9a25,39888c42cde99a8e5b7ead3baad86871c74f9a25,"Improve HTTPS configuration docs

* Correct terminology (e.g. DigiCert is a CA, not a registrar)
* Explain that admins will need to be able to set up a validation page
  at a specific URL on the Source Interface during the EV validation
  process.
* Recommend a maximum lifetime of 12 months for .onion certificates
* Add a tip to encourage patience during the process, since it is new
  and fairly niche, and thus not as well-established as the processes
  for obtaining HTTPS certificates for normal sites.
* Add a warning about keeping the server's HTTPS private key safe.
* Misc. formatting cleanup"
garrettr,2017-07-07 22:13:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/292a5bdc17569a543db5e29ec5124c100eed2c79,292a5bdc17569a543db5e29ec5124c100eed2c79,More detailed rationale for using HTTPS on the Source Interface
conorsch,2017-07-07 19:04:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9e6dea34bca9838ae37b14e7a60d585b2288edb3,9e6dea34bca9838ae37b14e7a60d585b2288edb3,"Fixes Ansible groups for prod VMs in Vagrantfile

The changes presented in #1774 updated the prod inventory to use a
dynamic inventory script, but did not include corresponding changes to
the Vagrantfile for the prod VMs. Implemented here, specifically the
""securedrop"" group addition, which is used to target both the
Application and the Monitor Servers in production.

In addition to the ""securedrop"" addition, also amended the ""limit""
option in the Ansible config for the prod VMs to include ""localhost"",
which unintuitively is not considered when handling a limit of ""all"".
The explicit override enables localhost to be targeted by plays, e.g.
the vars validation logic in the prod playbook.

Closes #1943."
redshiftzero,2017-07-07 20:16:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/400240b608e8a5db5ab9e8e81c0af947a81be673,400240b608e8a5db5ab9e8e81c0af947a81be673,"Merge pull request #1945 from freedomofpress/fix-update-version-script-0.4

Fix update_version.sh script for 0.4"
redshiftzero,2017-07-07 19:27:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e11e50ea6e60dc727cd6c3ac2ecab04493600aa5,e11e50ea6e60dc727cd6c3ac2ecab04493600aa5,Manually updating version to 0.4-rc1 in testinfra/vars/build.yml
redshiftzero,2017-07-07 17:49:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/42e336c80e887248d3db9fefa217b6fb4d032438,42e336c80e887248d3db9fefa217b6fb4d032438,"Fix update_version.sh script for 0.4

* Update location of securedrop group_vars file
* Update version in testinfra vars"
conorsch,2017-07-07 00:23:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c8b7f7965c6e1a4c4471e35d74f7c319a2d625bd,c8b7f7965c6e1a4c4471e35d74f7c319a2d625bd,SecureDrop 0.4-rc1
redshiftzero,2017-07-07 00:17:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/100661eca505a32cf9f20370a98d9bec43fbc0b0,100661eca505a32cf9f20370a98d9bec43fbc0b0,"Merge pull request #1940 from freedomofpress/final-develop-changes-into-0.4

Final changes from develop into 0.4 release branch"
redshiftzero,2017-07-06 23:10:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/929d75ec5c33254c42dee3ee2671f70d0ce3cd5d,929d75ec5c33254c42dee3ee2671f70d0ce3cd5d,Merge branch 'develop' into final-develop-changes-into-0.4
redshiftzero,2017-07-06 22:51:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fcecb77f09b1e560eead71fd4a0c3c0c4c53695a,fcecb77f09b1e560eead71fd4a0c3c0c4c53695a,"Merge pull request #1934 from freedomofpress/refine-cipher-suite-for-https-on-source-interface

Harden optional HTTPS config for Source Interface"
redshiftzero,2017-07-06 06:20:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/12467b3ddb3850b8106c470be9db5c692a201ad4,12467b3ddb3850b8106c470be9db5c692a201ad4,"Merge pull request #1937 from freedomofpress/explicitly-specify-html.parser-for-beautifulsoup

Explicitly specify html.parser for BeautifulSoup"
redshiftzero,2017-07-06 00:12:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d1b61a8dd37e5aee6319fbc4d0bbc2c26b17bd63,d1b61a8dd37e5aee6319fbc4d0bbc2c26b17bd63,"Merge pull request #1936 from dachary/wip-0.4-storage-ok-3.0.1

doc: transfer device screenshots good with 3.0.1"
garrettr,2017-07-05 23:55:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81a8d5141d0eda170c8c154c6672185b1638dce2,81a8d5141d0eda170c8c154c6672185b1638dce2,"Fix broken reply integration tests

html.parser isn't as lenient as html5lib, the HTML parser that
BeautifulSoup was using by default before we started explicitly
specifying html.parser. Switching to a less-lenient parser exposed two
tests that were relying on lenient parsing to succeed:
TestIntegration.test_reply_normal and
TestIntegration.test_unicode_reply_with_ansi_env.

Printing the BeautifulSoup parse tree in the failing tests showed that
it was interpreting `input[name=reply_filename]` as a *child* of
`input[name=csrf_token]`, when it should be a sibling. This was due to
the invalid trailing slash on the `input[name=csrf_token]`. Since the
BeautifulSoup CSS selector was specifically looking for a child (not any
descendant), this unintentional extra layer of nesting caused the
selector, and thus the test, to fail.

This commit also does some minor cleanup of invalid HTML5 in the same
area of code. All tests are now passing with html.parser."
garrettr,2017-07-05 23:53:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/92e9d5f1a27ac1fb0d3701578a9d5e4b4d345e99,92e9d5f1a27ac1fb0d3701578a9d5e4b4d345e99,"Explicitly specify html.parser for BeautifulSoup

Fixes BeautifulSoup UserWarning about potential issues that can occur
when a parser is not explicitly specified."
redshiftzero,2017-07-05 22:59:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/830f92cdf139059b10fcd711ebfe031e1af88600,830f92cdf139059b10fcd711ebfe031e1af88600,"Merge pull request #1935 from dachary/wip-0.4-typo

doc: trivial typos"
redshiftzero,2017-07-05 19:50:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e69ca4f9068481d052fe63d37e00d3ecc0f0ec2,0e69ca4f9068481d052fe63d37e00d3ecc0f0ec2,"Merge pull request #1926 from dachary/wip-jquery-agpl

js: install jquery-2.1.4 sources"
conorsch,2017-07-05 19:11:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7444a167e1f61acfd2fab1d60b749b18cc822e6e,7444a167e1f61acfd2fab1d60b749b18cc822e6e,"Harden optional HTTPS config for Source Interface

Used the Mozilla Web Server Config Generator [0] with our explicit
Apache and OpenSSL versions. Formatting the ciphers via a YAML list var,
more for readability and concision than for override capability.

[0] https://mozilla.github.io/server-side-tls/ssl-config-generator/"
redshiftzero,2017-07-03 23:20:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c7222a83a0df749f5f177af9be61bd229b0e0eb0,c7222a83a0df749f5f177af9be61bd229b0e0eb0,Add changelog for 0.4
redshiftzero,2017-07-05 19:04:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/25ac18ff2064119fec57fea0e26c04647ea34e1c,25ac18ff2064119fec57fea0e26c04647ea34e1c,Merge branch 'develop' into release/0.4
redshiftzero,2017-07-04 22:20:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b7f5d60e5476a35674ca80289d77ca28aa5b4a38,b7f5d60e5476a35674ca80289d77ca28aa5b4a38,"Merge pull request #1890 from freedomofpress/disable-nautilus-automatic-decompression-in-persistence-hooks

Ensure filenames are restored when uncompressing submissions"
redshiftzero,2017-07-04 20:27:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ad6abc828063a9efdc6468a8dcc0864822c7227,5ad6abc828063a9efdc6468a8dcc0864822c7227,"Merge pull request #1931 from dachary/wip-flake8

fail travis when flake8 fails"
redshiftzero,2017-07-04 18:22:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/49e91eb5403a40a1125a1c411e7fc1e598339e8d,49e91eb5403a40a1125a1c411e7fc1e598339e8d,"Merge pull request #1908 from dachary/wip-flake8-manage

manage: flake8 compliance"
redshiftzero,2017-07-04 01:18:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/206d85144ac086fec19973e9b03125bf8fa0ad71,206d85144ac086fec19973e9b03125bf8fa0ad71,"Merge pull request #1914 from dachary/wip-flake8-test-db

tests: db: flake8 compliance"
redshiftzero,2017-07-04 01:07:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/44b8d3499b2b2630e1b56883710f954bce6bdf1a,44b8d3499b2b2630e1b56883710f954bce6bdf1a,"Merge pull request #1928 from freedomofpress/first-class-support-for-https-on-source-interface

Supports optional HTTPS on Source Interface"
conorsch,2017-07-03 22:59:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f3d7a746feef52a830220717095b4d9f93af294,4f3d7a746feef52a830220717095b4d9f93af294,"Passes args in activate_env throughout securedrop-admin

The new `-d` option for developer mode (i.e. don't activate virtualenv)
requires passing the `args` var to the activate_venv function, so all
invocations of that function must be updated accordingly. Done."
msheiny,2017-07-03 20:37:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f2b985b6360d064e10c54eb8334ffafca4569775,f2b985b6360d064e10c54eb8334ffafca4569775,"Ensure sdconfig injects HTTPS mode option

This commit does two things, ensures that the user's configuration setting for
https gets passed into the `site-specific` file AND adds a developer mode so we
can quickly bring up the prompt when not in a Tails environment."
msheiny,2017-07-03 20:31:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/272dcc0ee8476eb0bf23ccc0d166303922dfde8d,272dcc0ee8476eb0bf23ccc0d166303922dfde8d,Ignore certificates from repository changes
conorsch,2017-06-30 22:52:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8c16525eba968c0a74d0382c89ace8ff60b401d0,8c16525eba968c0a74d0382c89ace8ff60b401d0,"Adds screenshot of Onion URL to HTTPS docs

Committing separately since this is a static asset committed to version
control, and may be amended during PR review. Sampled The Intercept's
HTTPS Source Interface for use in the screenshot, since they were the
first to roll it out."
conorsch,2017-06-30 19:50:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d79a00e13afabe3a08c1d48664db706acb859a2,8d79a00e13afabe3a08c1d48664db706acb859a2,"Creates docs for HTTPS on Source Interface

Mostly links out to the relevant DigiCert howtos, sparse as they are.
Includes mention of the SecureDrop site configuration updates necessary
to apply the changes. Does not include detailed discussion of the
challenge-response required to obtain the EV certificate for Onion URLs."
conorsch,2017-07-03 18:18:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/056e96574630147a043fee65030b9d290c316c72,056e96574630147a043fee65030b9d290c316c72,"Sets Apache listening addresses in app role defaults

The staging environment no longer uses port forwarding for direct access
to the web interfaces. Therefore we can safely standardize on
""127.0.0.1"" for binding throughout the Apache config. Let's use a role
default var so we can remove the |default() filters sprinkled around the
templates.

Similarly, we can standardize on localhost for the ""allow from""
declaration, since web interface access is only allowed over Tor in
staging. Created a var for that and set to 127.0.0.1, removing all
corresponding |default() filters in the templates.

Updated the testinfra config tests accordingly. The Apache test suite
was still using hardcoded vars in some places, even though we added
dynamic variable reading based on hostname. Updated the relevant tests
to use the YAML vars file, as with the other tests."
conorsch,2017-06-30 19:11:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da1236c09e25eb315de3476dcd7da0c62aaaa55a,da1236c09e25eb315de3476dcd7da0c62aaaa55a,"Updates torrc with HTTPS target for Source Interface

The port 80 -> 443 redirect to force HTTPS on the Source Interface
requires that the Tor Hidden Service also respect the associated ports.
The `securedrop_app_https_on_source_interface` var is not defined in the
role defaults, but will be present at the site-level. Sanely default to
""False"" just in case it's not at all defined."
conorsch,2017-06-29 22:43:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/43b2b46d2bf7774539d8809fb826fff10558aa82,43b2b46d2bf7774539d8809fb826fff10558aa82,"Adjusts Apache permitted module lists

We were previously blacklisting the ""setenvif"" module, but the ""ssl""
module requires it, so removing ""setenvif"" from the blacklist.
In general we don't want to enable ""ssl"" at all times, but it's
difficult to enable conditionally, since Apache configs are read in
during execution of the `apache2_module` Ansible module. If SSL-related
config lines are found in the vhost config, the ssl module *must* be
enabled, otherwise the module activation or deactivation will fail.

Worth considering whether we replace use of the `apache2_module` with
`a2enmod -p` and inspect the output to determine changed status."
conorsch,2017-06-28 00:07:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b1de6a2a55fb69cc2c323a0d517eaf240e6a2c2,7b1de6a2a55fb69cc2c323a0d517eaf240e6a2c2,"Supports HTTPS in Apache template for Source Interface

Requires new role vars with sane default names for the cert, key, and
chain files. Naming them generically with ""SecureDrop"" and ""Source"" so
that any org can use the defaults, as long as the filenames match as
saved on the Admin Workstation.

Passing the vars through the |basename filter in the template
interpolation to ensure that we don't prepending directories when
concatenating the paths for the remote host. The certificates *must*
live in /var/lib/ssl, because that directory is whitelisted in the
apache2 apparmor profile. No other path will work.

Also includes a top-level boolean for enabling or disabling HTTPS
(off by default), which can be overridden during site configuration.
Integration with the `securedrop-admin sdconfig` logic is written.

Conditionally adds 443 to Apache ports.conf for HTTPS

The ports.conf file is included in apache2.conf, and instructs Apache to
listen on certain sockets. By default that's 80 (Source) and 8080
(Journalist), but for HTTPS on the Source Interface, we'll also need a
443 listen declaration."
redshiftzero,2017-07-03 17:47:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0b2e94529691feab8c9085ef65eab277522116ab,0b2e94529691feab8c9085ef65eab277522116ab,"Cleanup instructions for ensuring filenames are restored

* Use absolute path in release tag instructions so we can link
to it from multiple places.
* Fix typos in https://github.com/freedomofpress/securedrop/pull/1890"
redshiftzero,2017-07-03 16:24:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3171a8d67394d18a3efd92ec4cbc3f3fd97d01e2,3171a8d67394d18a3efd92ec4cbc3f3fd97d01e2,"Merge pull request #1909 from dachary/wip-flake8-secure-tempfile

secure_tempfile: flake8 compliance"
redshiftzero,2017-07-03 16:20:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5fa90803bb03cad0c007537b945ffc63f89dae51,5fa90803bb03cad0c007537b945ffc63f89dae51,"Merge pull request #1925 from dachary/wip-source-typo

docs: source: typo in comment"
conorsch,2017-07-03 15:53:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8cb5890a86ad003dbae4893884953f276aefd545,8cb5890a86ad003dbae4893884953f276aefd545,"Merge pull request #1885 from freedomofpress/more-user-friendly-admin-messaging

Makes securedrop-admin messaging more user-friendly"
redshiftzero,2017-07-03 00:20:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/18ba38d6927de303c8760b0e62539c129300b58e,18ba38d6927de303c8760b0e62539c129300b58e,"Merge pull request #1915 from dachary/wip-flake8-test-integration

tests: integration: flake8 compliance"
redshiftzero,2017-07-01 22:20:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/615d35fd785be7cf64b7847adf516a51d4356755,615d35fd785be7cf64b7847adf516a51d4356755,"Merge pull request #1917 from dachary/wip-flake8-test-journalist

tests: journalist: flake8 compliance"
redshiftzero,2017-06-30 17:48:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2098c9eb4b696454c0be744d6afdd3d1dbcabac1,2098c9eb4b696454c0be744d6afdd3d1dbcabac1,Add custom_notification to the development host vars
redshiftzero,2017-06-30 17:43:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d8283cd972908059960bb4fc9d91e3d5acfd2b37,d8283cd972908059960bb4fc9d91e3d5acfd2b37,"Merge pull request #1911 from dachary/wip-flake8-tests-conftest

tests: conftest: flake8 compliance"
redshiftzero,2017-06-30 16:57:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/659e281f10a3fc46eae3b59c911ef8ea400e7593,659e281f10a3fc46eae3b59c911ef8ea400e7593,"Merge pull request #1912 from dachary/wip-flake8-tests-2fa

tests: 2fa: flake8 compliance"
redshiftzero,2017-06-30 01:25:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6438d5d917791a5e0d5a75f461b9bbc8df26c200,6438d5d917791a5e0d5a75f461b9bbc8df26c200,Add docs on using new KeePassX template
redshiftzero,2017-06-30 00:57:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7439fe7860f7a57290f8d73629da5f52490917e7,7439fe7860f7a57290f8d73629da5f52490917e7,"Replace XML KeePassX database with kdbx KeePassX database

Unfortunately, XML import is not supported by KeePassX in Tails 3.
This means that in order for people to make use of our KeePassX
template, we need to provide this template in kdbx format."
redshiftzero,2017-06-29 23:01:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/323e6ba23bf95e36fe3b97290ff9e8f8b5ccd8b5,323e6ba23bf95e36fe3b97290ff9e8f8b5ccd8b5,"Merge pull request #1910 from dachary/wip-flake8-template-filters

template_filters: flake8 compliance"
redshiftzero,2017-06-29 22:16:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7767eb42cb177de9b789df3664a7444845640a81,7767eb42cb177de9b789df3664a7444845640a81,"Merge pull request #1901 from freedomofpress/fix-wordlist-parsing

Fix parsing of wordlists"
redshiftzero,2017-06-29 21:29:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/af480f135dff4999376a3ad994ffe441e98d90f4,af480f135dff4999376a3ad994ffe441e98d90f4,"Merge pull request #1913 from dachary/wip-flake8-test-crypto-util

tests: crypto_util: flake8 compliance"
conorsch,2017-06-28 18:11:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f6bf01c595e5d41f1b09ac145c355ab70c45af45,f6bf01c595e5d41f1b09ac145c355ab70c45af45,"Clarifies error message for Tails apt installation

Noted during review by @msheiny. The apt lock assumption was a poor one,
since any failure in the apt task whatsoever would allege that the apt
lock caused it. Updated the message to recommend checking the network
connection and trying again, which is consistent with the other common
error messages throughout the securedrop-admin script, and more in line
with the likely culrpit (i.e. networking under Tails)."
conorsch,2017-06-27 18:45:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07ec4158f06a356a9fb568429c52e41cafcbfcce,07ec4158f06a356a9fb568429c52e41cafcbfcce,"Better messaging throughout securedrop-admin script

Sprinkles around more verbose messaging. When the script is invoked, if
it's calling out to an Ansible playbook, if often takes several seconds
for output to appear. Therefore let's log verbosely about intent prior
to calling Ansible, so the output to the Admin stays snappy and
informative."
conorsch,2017-06-27 00:55:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38dff35710078e114a0702374bf12bd9c33d286f,38dff35710078e114a0702374bf12bd9c33d286f,"Breaks up envsetup function in securedrop-admin

Converts the `envsetup` function, which handles:

  1. Installing apt packages
  2. Creating virtualenv
  3. Installing Python packages via pip

into a wrapper function, which in turn calls discrete functions for the
apt and pip installations. The virtualenv creation is still left in the
function, because it's a brief call.

Also improves exception handling for both new functions. For apt:

During Tails boot, apt packages are sometimes installed automatically,
which results in an apt lock that prohibits interactive apt commands
until those background tasks complete. Mostly the automatic installation
will occur if the Admin configured apt package persistence, which was
configured automatically in SecureDrop 0.3.12 under Tails 2.x, but *not*
in SecureDrop 0.4 under Tails 3.x, since we're switching to a virtualenv
for persistent Admin tooling."
conorsch,2017-06-27 00:43:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e585027438becca32404229af1f7b73e8b587e9,6e585027438becca32404229af1f7b73e8b587e9,"Prints command output in real-time in securedrop-admin

Provides much more informative messaging when Admin executes
`./securedrop-admin setup`, since that single subcommand can take about
10 minutes even on a fast connection (due to apt packages being pulled
down over Tor).

The subprocess.popen implementation is adapted from:
https://stackoverflow.com/a/4417735"
conorsch,2017-06-29 19:08:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5f68ca98778a6363dd8842eb9b38415a4f23182a,5f68ca98778a6363dd8842eb9b38415a4f23182a,"Merge pull request #1883 from freedomofpress/standardize-on-single-admin-username

Standardizes on single Admin username"
conorsch,2017-06-29 19:08:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e297034c736aaf94440478ee9b77af6567ec5e5b,e297034c736aaf94440478ee9b77af6567ec5e5b,"Merge pull request #1881 from freedomofpress/port-configure-logic-to-securedrop-admin

Ports configure logic to securedrop-admin script"
redshiftzero,2017-06-29 17:22:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e96ac1187ae842d9d3b8c9720070610c6ece67e,6e96ac1187ae842d9d3b8c9720070610c6ece67e,"Merge pull request #1916 from dachary/wip-tests-collection-noop

tests: journalist: add assert to test_delete_source_deletes_submissions"
redshiftzero,2017-06-29 17:16:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e52515c6f44a00e8805d3d2b175bb408ee85575,1e52515c6f44a00e8805d3d2b175bb408ee85575,"Merge pull request #1907 from dachary/wip-flake8-crypto-util

crypto_util: flake8 compliance"
redshiftzero,2017-06-29 16:47:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d433b0cf727a08629567ded45cd38572e7543fda,d433b0cf727a08629567ded45cd38572e7543fda,"Merge pull request #1896 from dachary/wip-source-delete-css

source: adjust reply confirmation CSS"
msheiny,2017-06-29 14:42:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd48a2a743281881e24bb0b72438a5d4668684da,bd48a2a743281881e24bb0b72438a5d4668684da,"Clarify dynamic-inventory error message

Ansible references/terminology could be confusing for admins. Referencing
the exact command admins need to run instead seems to be a way to reduce support
tickets."
msheiny,2017-06-29 14:41:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/926d020778dc5676b9b6ce8aaa67f1e9d35e7818,926d020778dc5676b9b6ce8aaa67f1e9d35e7818,"Repair ssh_users validation logic

I'm assuming that the second-line validation logic was a mistake since it is the
opposite of the line above it and it's impossible for both of those conditions
to pass."
redshiftzero,2017-06-28 03:03:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8419ab455053ee48f441b284a6beacd0846ace59,8419ab455053ee48f441b284a6beacd0846ace59,Functional test: Journalist submits reply and source deletes
conorsch,2017-06-28 17:31:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a1c31ecbcdcbf9be08941b389ffaa5537177751a,a1c31ecbcdcbf9be08941b389ffaa5537177751a,"Simplifies argparse for `--force` in securedrop-admin

Based on review by @fowlslegs in #1881. According to the argparse docs
[0], there's a shorthand approach for when flags toggle boolean values.
Also adds a shorthand `-f` option since that feels intuitive.

[0] https://docs.python.org/2/library/argparse.html#action"
conorsch,2017-06-26 19:01:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/34f2152ec99880af993106f1a00b3874176f95cd,34f2152ec99880af993106f1a00b3874176f95cd,"Ports configure logic to securedrop-admin script

The bash script at `install_files/ansible-base/configure` was already
called via the `securedrop-admin`, providing a single entry point for
Admins to memorize, and for the project documentation to cover. Since
the bash script is not executed directly in the current docs, it's now
been ported to a Python function inside the `securedrop-admin`
management script. Functionality remains the same."
conorsch,2017-06-26 22:44:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/918c5aa13659a5d01048785625b4fa588d178b41,918c5aa13659a5d01048785625b4fa588d178b41,"Sets Admin username in SSH config under Tails

Allows to remove tons of `<username>` strings throughout the project
documentation. At this point in the installation, the Admin has already
typed the appropriate username and had it recorded in the vars file; we
can always read it from that location, and we do not need to prompt for
it anymore."
conorsch,2017-06-26 22:42:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d65cf56c876a896b60d96fc7bf37a4be1574a03,0d65cf56c876a896b60d96fc7bf37a4be1574a03,Updates SecureDrop Admin docs to remove username args
conorsch,2017-06-26 22:38:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0a8b05df5fb4068e18ca744a16e6b887a6b12f8,a0a8b05df5fb4068e18ca744a16e6b887a6b12f8,"Updates validate role logic for single username

Since we're forcing the `ssh_users` var to contain a single string as
the username, not a list of usernames, we must update the variable
validation logic in order to display informative error messaging about
the breaking change. These checks will run prior to execution of
playbooks against the remote servers, so we should catch all cases of
unsupported vars while operating solely within the Admin Workstation."
conorsch,2017-06-26 22:35:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc1cd73afef8c9ef9eb54897bf4a794a33884fe4,fc1cd73afef8c9ef9eb54897bf4a794a33884fe4,"Handles Admin username in dynamic inventory

The dynamic inventory script now intelligently reads in the
site-specific YAML vars file and sets the value of the `ssh_users` var
to `ansible_ssh_user` as a host fact. This removes the need for the
Admin to provide the `-u <username>` to all Ansible commands, or the
`--user` flag to securedrop-admin script invocations."
conorsch,2017-06-26 22:26:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb6befff8934479056cf20420ccac02b73314282,fb6befff8934479056cf20420ccac02b73314282,"Removes `--user` flag from securedrop-admin

The YAML vars file reading was designed to guard against
misconfigurations, particularly due to the breaking change of forcing
the ""ssh_users"" var to be a string, rather than a list. We'll still
handle exceptions related to the site-specific vars file, but we no
longer need to read in the username from that file."
redshiftzero,2017-06-26 22:31:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e74245ad16ec09a8ed7f281593a5fb9114e7981,0e74245ad16ec09a8ed7f281593a5fb9114e7981,"Merge pull request #1865 from freedomofpress/moar-dev-tools

Adds ipdb apt pkg to development_dependencies"
redshiftzero,2017-06-26 19:19:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a19bfc37f5def74a5fa7704f80f3f8da3a49441d,a19bfc37f5def74a5fa7704f80f3f8da3a49441d,"Merge pull request #1858 from freedomofpress/document-documentation-branches

Add explanation of documentation branches to developer docs"
conorsch,2017-06-22 18:33:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30051389a8e260e42bb97a8ceccdbfa204722c41,30051389a8e260e42bb97a8ceccdbfa204722c41,"Raises main stack gap 64KB -> 1MB via sysctl

We're already setting this value via the `securedrop-grsec` metapackage,
as described in #1861 and implemented in the grsec repo [0]. Let's also
ensure it at install time by setting it directly along with the other
sysctl options.

Included a config test so that test suite will fail if the sysctl
doesn't stick during CI or local development.

[0] https://github.com/freedomofpress/ansible-role-grsecurity/pull/100"
conorsch,2017-06-23 18:56:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/369cbb7ef0302288345dfb5332ba541ae197e983,369cbb7ef0302288345dfb5332ba541ae197e983,"Merge pull request #1875 from freedomofpress/travis-ci-fall-back-to-old-trusty-image

Falls back to old Ubuntu Trusty image in Travis CI"
conorsch,2017-06-23 16:00:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1538ed7326c4fbf868ff99641e89565e4414b860,1538ed7326c4fbf868ff99641e89565e4414b860,"Falls back to old Ubuntu Trusty image in Travis CI

We've recently started seeing failures in the Travis run, related to the
functional Selenium application tests. Since the underlying Ubuntu
Trusty image used by Travis was just updated [0], let's fall back to the
deprecated image that was working well, and reassess in the near future.

Fixes #1874.

[0] https://blog.travis-ci.com/2017-06-21-trusty-updates-2017-Q2-launch"
conorsch,2017-06-21 20:24:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d882e57e49492f30aaa19db42359fab026ffaf0,7d882e57e49492f30aaa19db42359fab026ffaf0,"Merge pull request #1859 from freedomofpress/run-config-tests-in-travis

Ensures config tests run in Travis CI"
garrettr,2017-06-21 16:55:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f2d62a6fee3affddf320e58c17c93f1bd22503a8,f2d62a6fee3affddf320e58c17c93f1bd22503a8,"Merge pull request #1844 from dachary/wip-documentation-style-shell-block

doc: remove extra leading $"
conorsch,2017-06-21 15:31:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e79f46775ce45ea2152269b6dad91ad15e0dba3d,e79f46775ce45ea2152269b6dad91ad15e0dba3d,"Revert ""Instructs pip to upgrade dependencies in Travis""

This reverts commit 4fd5bea894b105ca708c07d436cd40aab83ff478.

The -U flag to pip install is not magic sauce; we still need to
uninstall the pip libs provided by Travis to avoid conflicts. Down the
road we'll work on creating isolated containers for each of these
processes, so they all have their own dependency list independent of
each other."
conorsch,2017-06-21 15:26:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dc301206cd38e5f1c30a1687f19d2d0b7b5054cf,dc301206cd38e5f1c30a1687f19d2d0b7b5054cf,"Merge pull request #1867 from dachary/wip-prod-documentation

doc: remove double = in variable assignment"
garrettr,2017-06-20 23:19:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/02e968166b30de6611e9a4a301be8a0c329f6ef3,02e968166b30de6611e9a4a301be8a0c329f6ef3,"Merge pull request #1863 from freedomofpress/secure_tempfile-refactor-alternative-test-fix

Secure tempfile refactor alternative test fix"
garrettr,2017-06-20 23:17:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c93b5e69731134012784920a39a9b057d80dabbe,c93b5e69731134012784920a39a9b057d80dabbe,"Merge pull request #1822 from dachary/wip-test-pidfile

Remove obsolete web application pidfiles"
garrettr,2017-06-20 19:49:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8db910a46b603507e454f17ea79f8dbcb8e54d5e,8db910a46b603507e454f17ea79f8dbcb8e54d5e,"Replace GzipFile mock with a spy

Thanks to the prior commit's more careful checking of the order of
operations called on a SecureTemporaryFile,
`test_submit_sanitizes_filename` started failing because `gzip.GzipFile`
was being mocked and not actually called. This meant that a
SecureTemporaryFile was created in `save_file_submission` (starting in
the `init` state), but it was never written to (transitioning to the
`write` state) in the unit tests because of the mocked `GzipFile`. Thus,
when `crypto_util.encrypt` tried to `read` from the SecureTemporaryFile,
it failed because it was still in the `init` state, and the improved
checking caught the violation of the intended contract as documented in
SecureTemporaryFile's docstring.

One easy way to fix this is to transform the `GzipFile` mock into a spy
using `wraps`. This allow us to inspect the arguments passed to
`GzipFile`, as needed for our test assertions, but still calls the
underlying `GzipFile` implementation, which fulfills the expected
contract for SecureTemporaryFile and fixes the broken test."
garrettr,2017-06-20 19:18:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e18fef67f78207b7695a1615472c70016b09c678,e18fef67f78207b7695a1615472c70016b09c678,"Merge pull request #1842 from freedomofpress/document-gpg-recv-key-workaround

Document workaround for potential `gpg --recv-key` failure"
conorsch,2017-06-19 23:56:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4fd5bea894b105ca708c07d436cd40aab83ff478,4fd5bea894b105ca708c07d436cd40aab83ff478,"Instructs pip to upgrade dependencies in Travis

As pointed out by @fowlslegs during review of #1859, we can pass the
`-U` option on the pip install commands within Travis to sidestep the
problem of needing to uninstall certain libs already provided by Travis.
Many of the config tests check for the presence of an exact version, and
in the context of Travis, we lazily conflate the Ansible controller and
the development VM, since the latter is localhost in Travis.

Preserved the `pip freeze -l` commands that @fowlslegs requested be
removed, since they are quite useful in debugging, and I have to add
them every time in a feature branch and wait for a build to run in order
to inspect the build env when problems occur. I'd rather the machine do
that work for me, so I can verify as needed what the pip dependencies
actually are within the Travis environment (which doesn't provide SSH
access to failed builds as CircleCI does)."
conorsch,2017-06-19 23:45:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/efc0a4dbfb43f6482e8cdb3d0b5b24ba5393918d,efc0a4dbfb43f6482e8cdb3d0b5b24ba5393918d,"Prefers yaml.safe_load in config test conftest

As a result of @garrettr's review on #1859, amending the YAML file
reading to use the `safe_import` functionality, which evidently should
be preferred pretty much everywhere [0].

Also updated the logic to shove the `open` call into a `with` block, as
a standard Python best practice.

[0] https://security.openstack.org/guidelines/dg_avoid-dangerous-input-parsing-libraries.html"
garrettr,2017-06-19 23:02:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8cd419a1a866a2bf270c7b4460c3487c5569e5cc,8cd419a1a866a2bf270c7b4460c3487c5569e5cc,Recommend retrying --recv-key a few times
conorsch,2017-06-15 18:45:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d483816b1ec28918790828a133f355a841fb0601,d483816b1ec28918790828a133f355a841fb0601,"Updates pip dependency versions in config tests

The Python dependencies were updated in #1700, and small adjustments
were made to the config test vars to bump versions for:

  * Flask-Testing 0.6.1 -> 0.6.2
  * pytest 3.0.3 -> 3.1.1

However the test requirements were also updated, with no changes to the
corresponding config tests for the development VM. We missed this due to
config tests not running properly within Travis, but that's fixed now."
conorsch,2017-06-15 20:25:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2cf78eefab22750a393700db810cb4eb8ccc68e,e2cf78eefab22750a393700db810cb4eb8ccc68e,"Purges ""pbr"" Python library from Travis environment

Same as we're doing for pytest, since the version provided by Travis
doesn't match what we specify. The Travis run now uninstalls pbr early
on, then allows it to get pulled back in as specified in requirements
files."
conorsch,2017-06-15 18:25:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fae53a0d530bb1a737d1895d8423d27b4e651328,fae53a0d530bb1a737d1895d8423d27b4e651328,"Reads build directory from env var in Travis CI run

The directory in which Travis builds run changes based on PR source, so
we can't hardcode the path on disk. In Ansible config, we can easily
reference env vars via `lookup`s, but in plain YAML vars files for
config tests, we don't have that luxury. Adjusted logic in
`testinfra/conftest.py` to handle the env var reading, only under
Travis."
conorsch,2017-06-15 16:35:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5a9fc358c5f74b786420299f6c304c5dc34199d9,5a9fc358c5f74b786420299f6c304c5dc34199d9,"Updates Travis development playbook run

Trims down Travis playbook line invocation.
We don't need sudo since that's declared at the play level, and the
non-development tags approach is deprecated as well.

Hardcodes the ""travis"" hostname in the testinfra invocation.

Dumps Travis environment, to aid in debugging. We now have a list of
all environment variables declared in the build environment.

Simplifies Travis static inventory, using the pared down group
membership strategy. Leverages group_vars to skip apache configuration,
same as on the development host. Conditionally skips dist-upgrade on
Travis, since the build host didn't like that one bit when I switched to
the development playbook (rather than continue to use a travis-specific
playbook).

Sprinkles a few more `pip freeze -l` commands around to provide more
debugging info, since I always add those lines in a fork when trying to
debug Travis. Now they run by default, every time. This is necessary
since we don't have proper isolation between the various pip
environments (e.g. Ansible controller versus development machine) in
Travis."
conorsch,2017-06-19 21:11:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f5808a29d89b0813a3c5ec7db99b96f048525e7c,f5808a29d89b0813a3c5ec7db99b96f048525e7c,"Merge pull request #1837 from freedomofpress/fix-sdconfig-subcommand

Fixes `sdconfig` subcommand in admin script"
conorsch,2017-06-19 20:33:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/451f1fc13d343c1321486e3bfdb784c6d1ff28d7,451f1fc13d343c1321486e3bfdb784c6d1ff28d7,"Merge pull request #1838 from freedomofpress/fix-custom-notification-error

Reorganizes top-level Ansible vars for cleaner variable precedence"
garrettr,2017-06-19 19:57:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78b96b507136ec4bb2915e5f63f6ea2472af624d,78b96b507136ec4bb2915e5f63f6ea2472af624d,"Merge pull request #1847 from dachary/wip-test-store-remove

tests: store: unit test for secure_unlink & delete_source_directory"
garrettr,2017-06-19 19:52:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b2e6bc86a60a00851efa076b45fbc589fbb9a2d3,b2e6bc86a60a00851efa076b45fbc589fbb9a2d3,"Merge pull request #1846 from dachary/wip-doc-onboarding

doc: onboarding: unify italics on Workstations"
garrettr,2017-06-19 19:42:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cac68224d5693bdef1dba982b25a5bb63879e51d,cac68224d5693bdef1dba982b25a5bb63879e51d,"Merge pull request #1845 from dachary/wip-doc-hardware

doc: hardware: tails-3.0 is out and only supports x86_64"
garrettr,2017-06-19 18:46:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec0f09e7f80a86587cfcf1b96f7de171ab984849,ec0f09e7f80a86587cfcf1b96f7de171ab984849,"Merge pull request #1823 from freedomofpress/minor-refactor-journalist-2fa

Minor refactor journalist 2fa"
msheiny,2017-06-19 18:28:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/73d77f91e5abd3d16d6be2225ebec638f4ab80ec,73d77f91e5abd3d16d6be2225ebec638f4ab80ec,"Fixes #1855 - Validation fails on empty GPG

This is a fix for a bug that exists when a user doesnt pass any GPG fingerprint
to the configure script. By adding a default string, we ensure that the variable
gets populated and the validation role doesnt skip over the GPG checks."
garrettr,2017-06-16 22:38:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d549737727a462afbfd4252085e830c339ad728,9d549737727a462afbfd4252085e830c339ad728,"Improve workaround for potential GPG failure

* Add an initial step asking the user to verify that they are
  successfully connected to Tor, to rule that out as a potential cause
  of failure.
* Recommend using the HKPS SKS keyserver pool, since in our recent
  testing on Tails 3 it seems to be more reliable than the HKP SKS
  keyserver pool.
* Provide a full version of the alternative `gpg --recv-key` command
  with the additional `--keyserver` argument. I decided this was
  necessary because of GPG's bizarro argument parsing, which requires
  the `--keyserver` be specified before `--recv-key`. It seemed simpler
  just to provide a full command that can be copy-pasted from the
  documentation instead of trying to explain how an additional argument
  needs to be added in a specific location in the original command."
conorsch,2017-06-16 17:29:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/302e6b76380aef4ebab0fc1a9024f93b9d293fc8,302e6b76380aef4ebab0fc1a9024f93b9d293fc8,"Amends Travis group_vars

Removes the group_vars include in the Travis-specific playbook (which
should be removed, in favor of the development playbook, but that's for
another PR) and ensure that the Travis group_vars have the necessary
info to disable the Apache config, same as on the development machine."
conorsch,2017-06-15 00:12:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/40b88327aa6086eb062801b18afa8dc343ae6c73,40b88327aa6086eb062801b18afa8dc343ae6c73,"Consolidates app requirements and dependencies

Ports requirements file to develop role defaults, and declares the apt
package list only once, for reuse in multiple hosts.

Moves the dev apt package list into the generalized ""securedrop""
group_vars, because it's used by both the development VM and the build VM.

Also prunes outdated comments mentioning deprecated or moved vars.

Moves ""securedrop"" group_vars into ""all""

Information such as the current app-code version should be available to
*all* hosts in the site config, without any special group membership
tasks.

Updates hostgroup memberships in the Vagrantfile accordingly. We must
add groups for the prod hosts, since the manage-groups logic was removed
recently, and the prod instances will use a custom dynamic inventory
file."
conorsch,2017-06-15 00:17:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7fb8dd127d5ed88685799478b411886a133a5f06,7fb8dd127d5ed88685799478b411886a133a5f06,"Ports Monitor Server vars into role defaults

Not necessary to declare at site-level, let's get these vars into role
defaults and only override what must change for the staging environment
to work correctly.

Also removes an unused ossec deb var."
conorsch,2017-06-14 23:32:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/47a739cbcb74db0dd4908eb4b936213c9332cddb,47a739cbcb74db0dd4908eb4b936213c9332cddb,"Ports Application Server group-vars into role defaults

Includes worker logs, custom notification text, header image,
code and data directories.

Ports app-test vars into role defaults

The apache_user var is only used in app-test, perhaps inappropriately.
Drags in the apt package dependency list as well.

Removes unused Application Server vars.

Mostly related to building packages, but not actually included anywhere
in the config. The `ossec_apt_dependencies` var would be useful in the build
role for declaring the ""Depends"" line in the deb package config,
but not currently used."
conorsch,2017-06-14 23:05:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1394c2d8e01091b3e500283cc14e81f22ee0d710,1394c2d8e01091b3e500283cc14e81f22ee0d710,"Consolidates common variables into role defaults

Focuses mostly on the `common` role. No need to declare settings like
sysctl flags and group names at the site level, especially since those
vars are only referenced once throughout the config. That's precisely
what role defaults are intended for. Top-level overrides will continue
to work, if necessary, e.g. for staging.

Also updates the tor-related vars, and removes the
""tor_wait_for_hidden_services"" var, which wasn't even used anywhere.

Simplifies handling of securedrop_user var

We don't need the `non_default_securedrop_user` var at all, since it
serves the purpose as `securedrop_user` and adds an unnecessary layer of
abstraction. Let's declare the default user once, in the app role, then
override per-host as necessary (e.g. Travis, development VM).

Removes unused ossec_deb var"
conorsch,2017-06-14 22:16:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d083c63ac194fdf9d1223faf1e83cd562f7f9e7c,d083c63ac194fdf9d1223faf1e83cd562f7f9e7c,"Converts development group_vars -> host_vars

Since we no longer have a development hostgroup, also removes the group
declarations in the Vagrantfile, and the hardcoded vars_file includes in the
build playbook."
conorsch,2017-06-16 18:19:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/56a39dc794c3c12ecd292606bcaca1ce66e13876,56a39dc794c3c12ecd292606bcaca1ce66e13876,"Merge pull request #1827 from freedomofpress/run-app-test-with-verbosity

Run app tests in Travis with verbosity"
conorsch,2017-06-16 16:54:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3602273e8463eb733476abdb43d7f16cd36f6306,3602273e8463eb733476abdb43d7f16cd36f6306,"Fixes `sdconfig` subcommand in admin script

Closes #1836. The dynamic inventory script helpfully fails with an
informative error message if site vars do not exist, but they won't
exist during run of the configuration subcommand. By passing in an empty
inventory file, we can override the dynamic inventory script declared in
`ansible.cfg` and operate only against localhost."
garrettr,2017-06-15 23:13:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e33760b26bb14dbbdfa9728dab33577db8902c4f,e33760b26bb14dbbdfa9728dab33577db8902c4f,"Merge pull request #1813 from dachary/wip-source-num-words

source: set Source.NUM_WORDS to 7"
redshiftzero,2017-06-15 05:01:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d94be35dcef3f0d436358b59ab078556aa260f73,d94be35dcef3f0d436358b59ab078556aa260f73,"Merge pull request #1808 from dachary/wip-test-db

db: add unit test for Journalist.throttle_login"
conorsch,2017-06-14 21:31:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/11d0d5d9938ac3e93450b66089a3a5466872ba24,11d0d5d9938ac3e93450b66089a3a5466872ba24,"Merge pull request #1803 from freedomofpress/configure-tails-via-ansible

Configures Tails workstations via Ansible"
conorsch,2017-06-13 23:28:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78ba07b2e37993d97a982ecaea58a231bb753274,78ba07b2e37993d97a982ecaea58a231bb753274,"Fixes Onion URL handling in dynamic inventory script

Should have been included in #1782, but was missed during QA (since
testing in Tails is still difficult, but getting simpler fast). We're
not using a straight tor-generated ""hostname"" file for reading; for
better or for worse, the SecureDrop playbook formats the hostname files
fetched back from the servers with the `HidServAuth` prefix, so we
actually need the second field in the file, not the first.

Exception handling is in place to catch any IndexErrors if for some
reason the file is not formatted as expected.

Also made a minor stylistic cleanup to move the return statement to the
end of the function, to aid in readability."
conorsch,2017-06-13 00:14:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df1cdff2df7228b418cd3b5b6166a4eea8d1a26d,df1cdff2df7228b418cd3b5b6166a4eea8d1a26d,"Removes deprecated install.sh script

The bash setup logic has been replaced entirely with Ansible playbooks,
which afford much better error handling, along with an idempotent setup.

Updates the securedrop-admin script's `tailsconfig` subcommand to target
the new playbook, rather than the old install.sh script. Activates the
virtualenv prior to running the playbook, same as in the `install`
subcommand, otherwise the ansible-playbook binary won't be found."
conorsch,2017-06-13 00:04:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca290770380b4e0ac021e3a5f212e8968c1ccb5d,ca290770380b4e0ac021e3a5f212e8968c1ccb5d,"Provides helpful messaging in Tails config playbook

Similar to the exit message in the old `install.sh` script, we'll
provide informative output to state that the configuration run is
complete. It's probably not necessary to provide explicit URLs, since we
have desktop icons, but preserving the messages on the web interfaces
just in case it's useful. Omitted the Onion URLs for the SSH addresses,
since we have SSH alias configuration, as well as a dynamic inventory
script incoming."
conorsch,2017-06-12 22:42:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5909237b99597a4a9738dcf895ba793ecb2e0a44,5909237b99597a4a9738dcf895ba793ecb2e0a44,"Creates SSH aliases for Admin Workstation via Ansible

Hurray for templates! Lost the SSH username handling, however, since we
don't have a stable strategy for determining whether the YAML var
`ssh_users` is a list or a string. Settle that in a separate issue."
conorsch,2017-06-12 22:40:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/705d4d259dcd4f704e64427578672ba5b5c50ad8,705d4d259dcd4f704e64427578672ba5b5c50ad8,Sets up the NM hook via Ansible
conorsch,2017-06-12 22:37:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4be81935bcc7fafad87a6cdbd2a17d5914286f0b,4be81935bcc7fafad87a6cdbd2a17d5914286f0b,Ports desktop shortcut creation
conorsch,2017-06-12 22:30:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1f578c52182452237158b3083b68b834a9db9c7a,1f578c52182452237158b3083b68b834a9db9c7a,Configures torrc additions
conorsch,2017-06-12 22:25:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e4bcea1f061ea69f13a0bb0b962dfd83f9590b5,3e4bcea1f061ea69f13a0bb0b962dfd83f9590b5,Copies SecureDrop-specific dotfiles
conorsch,2017-06-12 22:09:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc0e16df4bfc3a19be16bbfe840397a5d902df2e,fc0e16df4bfc3a19be16bbfe840397a5d902df2e,"Cleans up legacy artifacts in tails-config role

Porting over changes from the install.sh script."
conorsch,2017-06-12 21:59:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2df881b7d2d9e42648773abc9050b6c8605983cb,2df881b7d2d9e42648773abc9050b6c8605983cb,"Creates tail-config role and playbook

Reuses validation logic from the `validate` role, because why not. Added
some checks for the Persistence volume, since it's required, otherwise
the custom config options will be lost.

Includes dedicated playbook, intended for use after the
`securedrop-prod.yml` playbook finishes. Works against both Admin and
Journalist Workstations.

Sets the playbook to be executable as with the others."
redshiftzero,2017-06-13 22:15:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38c26c259537ac22d688cbc0e75621ceb17b7e35,38c26c259537ac22d688cbc0e75621ceb17b7e35,"Merge pull request #1802 from freedomofpress/onion-circuits-replaced-vidalia

Docs: Tor Status indicator has replaced Vidalia"
msheiny,2017-06-13 20:19:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da406f56b331b2d1365fb3a8677f080c6840fd13,da406f56b331b2d1365fb3a8677f080c6840fd13,"Merge pull request #1779 from freedomofpress/dynamic-inventory

Creates dynamic inventory script for managing host info"
msheiny,2017-06-13 15:46:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf7dc9eefdb8901dfce684e8fb526852a70eb251,bf7dc9eefdb8901dfce684e8fb526852a70eb251,"Add docstring link to ansible inventory docs

Useful link for future modifications and updates as I anticipate will occur."
msheiny,2017-06-13 15:15:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be457850ee61979d660e06c8e0cdf7d37a5aa249,be457850ee61979d660e06c8e0cdf7d37a5aa249,"Removes legacy manage-groups from prod playbook

This role was removed in `fe8d2246e` and is no longer needed thanks to the
new dynamic inventory script. However, it was still referenced in the prod
playbook and this commit removes those references."
msheiny,2017-06-12 21:02:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b639722514d760f214bbe8eda262869c83668d5f,b639722514d760f214bbe8eda262869c83668d5f,"Resolve exception handling when tor file missing

When running on Tails under a python2 virtualenv I was unable to catch the
exception until I added EnvironmentError in the mix. IOError was not catching
it for some reason. Until this was added in the script was failing for me when
either ssh-aths file was missing."
msheiny,2017-06-13 15:08:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6066c146f803f65ca7b4e612dfefe4ae4e9fad31,6066c146f803f65ca7b4e612dfefe4ae4e9fad31,"Cleanup ansible group defs in inventory script

Groups defined spit back in json format need to include a `hosts` key with a
list of hostnames. With this change, Ive confirmed that ansible is picking up
the inventory changes."
conorsch,2017-06-13 00:22:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d12927a547967968f93b40ab09fc133aee228f6,1d12927a547967968f93b40ab09fc133aee228f6,"Fixes dynamic inventory group declarations

During review @msheiny pointed out that the group memberships were
inappropriately couched within the `_meta` block, which should only
contain the `hostvars`. As such Ansible was reporting that the inventory
file was empty. Fixed."
conorsch,2017-06-06 17:25:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b2d4b2ea433f30a3d5f5ccf9a3f35b1e32b2e57,1b2d4b2ea433f30a3d5f5ccf9a3f35b1e32b2e57,"Removes static inventory updates from install.sh script

The `install.sh` script bootstraps the Tails environment for the Admin
and Journalist Workstations, and on the Admin Workstation, it previously
edited the static inventory file to place the Onion URLs in the host
address field. A more durable solution is the dynamic inventory script
that reads these values from the local directory when trying to connect
to the servers, so now we can remove the difficult-to-test bash config
lines editing the old static inventory script.

Also updates the docs that referenced the old static inventory file
updating logic, since it's been removed."
conorsch,2017-06-06 17:05:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/961fd633c950dec371ee5ef0309c206fbc62ad8b,961fd633c950dec371ee5ef0309c206fbc62ad8b,"Updates docs regarding Ansible inventory file

We no longer need to pass in the `-i inventory` on the command line,
since we have a dynamic inventory script set that will intelligently
assign local IPv4 addresses or Onion URLs for SSH over ATHS.

Removes documention instructing Admins to update the static inventory
file manually."
conorsch,2017-06-06 06:09:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/36587f892354b238475b16aedae531f0b6743ea7,36587f892354b238475b16aedae531f0b6743ea7,"Makes dynamic inventory script the default

Specifies the dynamic inventory script in `ansible.cfg`, removing the
need for Admins to pass `-i inventory` at the command line on every
playbook run."
conorsch,2017-06-06 06:31:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/611d8dcbcf21d65a32c949f14fa668b65b9a1270,611d8dcbcf21d65a32c949f14fa668b65b9a1270,"Uses absolute paths in dynamic inventory script

Also shoves the top-level logic into a main(), which requires a quick
function for assembling the inventory JSON. Clean to read.

Moves YAML reading into lookup function, and allows exception handling
to do the right thing.

Also patches exception handling in YAML reading, to catch a case where
the site-wide vars file exists, but does not contain the desired YAML
key."
conorsch,2017-06-06 06:21:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23564e35309d33418eeb7bad93d1d231ab2963cf,23564e35309d33418eeb7bad93d1d231ab2963cf,"Appends SSH args on non-Tails hosts

Tails will automatically route the SSH connections over Tor, same as it
does with all other traffic by default. In testing environments, however,
e.g. developer workstations, the most likely scenario is that Tor will
be running as a local service and SSH should be proxied through it.

Performing the Tails detection via output of `lsb_release`, which is the
same strategy Ansible uses when gathering hostfacts, but hostfacts are
not available during inventory construction."
conorsch,2017-06-06 06:05:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f300d95268b1fb0af62f599624cf1c0163f2a7a8,f300d95268b1fb0af62f599624cf1c0163f2a7a8,"Adds group membership to dynamic inventory script

Since we're building a JSON dict, it's simple to sprinkle in desired
hostgroups and assign hostnames as members. Managing groups in the
dynamic inventory file is a lot cleaner than using the `manage-groups`
role logic, which was always a stopgap until we had dynamic inventory
support."
conorsch,2017-06-06 04:45:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5969386bb5d047afdc99ef0aa2873aac7df7e12c,5969386bb5d047afdc99ef0aa2873aac7df7e12c,"Creates dynamic inventory script

The goal is to read in the local IPv4 addresses from the YAML vars file
on first-run, and thereafter read in the Onion URLs from the HidServAuth
files that were fetched back locally in the `restrict-direct-access`
role.

Checks that site-vars are specified

Adds function for looking up local IPv4 address"
conorsch,2017-06-06 05:25:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/173ed8479b8e1313ac2a56696d431e4921ea7966,173ed8479b8e1313ac2a56696d431e4921ea7966,"Creates parent directory for new site-specific vars file

This shoul dhave been included in the PR adding the new vars file; was
sloppy to have missed it."
conorsch,2017-06-13 19:21:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e6a012a71e81c9cac0bae04d819063c083df9c5a,e6a012a71e81c9cac0bae04d819063c083df9c5a,"Merge pull request #1781 from freedomofpress/Make-Ansible-Modern-Again

Make ansible modern again"
garrettr,2017-06-13 18:42:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1f0d856ce80b0c681e4639b618bb88b7d839d602,1f0d856ce80b0c681e4639b618bb88b7d839d602,Review fixes
redshiftzero,2017-06-13 17:50:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ccfbc7e5a929bfd7737f182c416079419a8cab36,ccfbc7e5a929bfd7737f182c416079419a8cab36,"Merge pull request #1799 from dachary/wip-1798-vidalia

Tor Vidalia icon changed in tails-3.0"
redshiftzero,2017-06-12 22:13:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6fefafe9beb7ffbffe7554d40a4a1f8347418ae1,6fefafe9beb7ffbffe7554d40a4a1f8347418ae1,"Merge pull request #1789 from dachary/wip-test-store

tests: store: test relative path error handling"
redshiftzero,2017-06-12 21:55:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/40a89f2e1cb6a25d13aeaf8ff368781040b5e89c,40a89f2e1cb6a25d13aeaf8ff368781040b5e89c,"Merge pull request #1792 from dachary/wip-test-crypto-util

tests: crypt_util: encrypt error condition"
redshiftzero,2017-06-12 21:38:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab2acfc9c1b6717a2ee55a8f88f31a2e192e6e09,ab2acfc9c1b6717a2ee55a8f88f31a2e192e6e09,"Merge pull request #1795 from freedomofpress/dachary-wip-test-db

Dachary wip test db"
redshiftzero,2017-06-12 20:52:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1677917096d7878e88999ad93c2ad9f0352041cb,1677917096d7878e88999ad93c2ad9f0352041cb,"Merge pull request #1791 from dachary/wip-test-source

tests: source: unit test for delete_all"
msheiny,2017-06-12 20:39:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/424a2c76299c05a12745aa5c506e2c95786ce0d2,424a2c76299c05a12745aa5c506e2c95786ce0d2,"Modify admin upgrade behavior and messaging

This commit swaps the weird custom messaging logic previously used to take
advantage of pyhon's logging module instead. Refactored the upgrade logic as
well to always attempt a safe update and report back messaging to user. Hide
a lot of the output behind a debug level which now requires a verbose flag to
view."
redshiftzero,2017-06-12 19:36:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4466eb159bb6a63e2cf662c44f2bc2284f7754e2,4466eb159bb6a63e2cf662c44f2bc2284f7754e2,"Merge pull request #1794 from freedomofpress/fix-csrfprotect-deprecation-warning

Fix deprecation warning on CsrfProtect"
msheiny,2017-06-12 18:22:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d57c5bea1e0a2980018b60ad2a41b7a2f1dad303,d57c5bea1e0a2980018b60ad2a41b7a2f1dad303,Address typo in documentation
msheiny,2017-06-12 18:19:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04b44c2d2a8cb05548b99f0618b65c202ced39f5,04b44c2d2a8cb05548b99f0618b65c202ced39f5,"refactor nits on sd install script logic

* Added context manager for yaml file
* Squashed down logic for ansible_user variable determination
* Added additional exception catching logic
* Finish off try logic to continue with ansible install call"
msheiny,2017-06-12 18:18:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c1c30eee1a2b6589b93160c75b3be6bf891fa81,6c1c30eee1a2b6589b93160c75b3be6bf891fa81,use full filepath for subprocess calls
redshiftzero,2017-06-12 17:43:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d6b26ccfcdcd85a62bd473de42330acf6cb0fea6,d6b26ccfcdcd85a62bd473de42330acf6cb0fea6,"Fix deprecation warning on CsrfProtect

In https://github.com/lepture/flask-wtf/pull/271, Flask renamed
CsrfProtect to CSRFProtect and added a deprecation warning.
This commits updates our Flask apps to use the new name
and thus remove the warning."
msheiny,2017-06-12 17:19:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/804a2191f3d696da0ff9495226d4c4d279bdc9d5,804a2191f3d696da0ff9495226d4c4d279bdc9d5,"Ensure subprocess calls do not error out

Converted subprocess calls to utilize check_call instead so that the
entire script will bomb out if a subcommand does."
msheiny,2017-06-10 00:54:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/43ca7c27511bb068f14e41c5c7b3e001374b7ec8,43ca7c27511bb068f14e41c5c7b3e001374b7ec8,"Updates CI documentation

Includes updated reference to environment setup script and simplifies the
explanation of the CI file layouts. Also made a warning regarding remembering to
terminate any running AWS instances."
conorsch,2017-06-09 23:50:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/355c011c85ea09be5fcc273201c3583fee682df6,355c011c85ea09be5fcc273201c3583fee682df6,"Updates exception FileNotFoundError -> IOError

Python 3 includes the `FileNotFoundError` by default, but the
securedrop-admin script appropriately forces uses of Python 2, so the
chosen builtin exceptions must match."
conorsch,2017-06-09 21:59:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8e627edb8a0f6bd5c84bbcac7e55e50639223860,8e627edb8a0f6bd5c84bbcac7e55e50639223860,"Cleans up Ansible password handling in admin script

Trims down YAML reading exception handling in admin script, so that only
the logic expected to throw an exception is within the `try` block.

If the YAML vars file cannot be read, bail out immediately. The prompt
logic for handling input belongs after the try/except logic, since the
script will never execute the playbook if no site-specific vars are
present."
garrettr,2017-06-10 00:00:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d6649a67fb538dc60b10d3b8e0e3e3d83759dbe,7d6649a67fb538dc60b10d3b8e0e3e3d83759dbe,"Merge pull request #1783 from freedomofpress/contributor-guide

Add issue template and more details to the contributor guide"
conorsch,2017-06-09 21:36:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f672a92791d26967a49b6c0c806dfded31ab1c1,9f672a92791d26967a49b6c0c806dfded31ab1c1,"Flake8 changes to securedrop-admin script

Mostly whitespace changes, including indentation, and line length
modifications. The usual E124/E127/E128/E501 punch."
garrettr,2017-06-09 23:39:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/05c6c156459096b2c64b26984a5682bcb8d96f34,05c6c156459096b2c64b26984a5682bcb8d96f34,"Merge pull request #1780 from freedomofpress/fix-broken-links-on-source-interface

Remove dead /howto-disable-js, add explicit warning to use Tor Browser"
conorsch,2017-06-09 23:29:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c83974db76328c4acefa24451609d4949006ac4a,c83974db76328c4acefa24451609d4949006ac4a,"Removes hardcoded Ansible version from dev docs

We're now specifying the appropriate Python package versions
in requirements files, located in `securedrop/requirements/`. For
developers, the correct file is
`securedrop/requirements/develop-requirements.txt`. Therefore let's
remove all mention of hardcoded versions, so that the requirements files
themselves are the canonical source of truth for the ""correct"" version."
redshiftzero,2017-06-09 22:52:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5d5d91c4d6352e23bdc42fa3690708821918975,e5d5d91c4d6352e23bdc42fa3690708821918975,Point sources to user friendly Tor Browser installation instructions
conorsch,2017-06-09 20:38:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce05262b649649c7165c36f3dcbec74984f42169,ce05262b649649c7165c36f3dcbec74984f42169,"Docs cleanup for new securedrop-admin script

Removes a redundant ""about ~"" phrase, and properly italicizes the
Application and Monitor Server names. The server name misformatting was
not introduced by the PR under review, but the PR modified adjacent text
and failed to update it, so fixing now."
redshiftzero,2017-06-09 21:35:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e15094b5962a39b420cbc3ac883189cc01cd232a,e15094b5962a39b420cbc3ac883189cc01cd232a,"Dev docs: Add note to set up docker in order to run ""local CI"""
garrettr,2017-06-09 21:31:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/80888cc3199c6b669e66111ba5ef7628e69332f0,80888cc3199c6b669e66111ba5ef7628e69332f0,"Clarify Tor Browser Security Slider instructions

* More precisely duplicate the language in the UI of the current version
  of Tor Browser in the instructions, to minimize any potential
  ambiguity or confusion.
* Explicitly tell people to click ""OK"" after changing the Security
  Slider to ""High"" to make sure the new setting takes effect.
* Remove ""if the page does not refresh automatically"" language. In the
  olden days, before the Tor Browser had the Security Slider, we
  provided instructions on how to disable Javascript using NoScript,
  which would automatically refresh the page whenever you changed its
  settings. The Security Slider does not automatically refresh the page
  when you change its settings, so we might as well not tell people to
  expect that the page *might* automatically refresh when we know that
  it will never happen."
garrettr,2017-06-09 21:28:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a3de409af51ad9dc58b9be104d320e33de86d584,a3de409af51ad9dc58b9be104d320e33de86d584,"Clean up Security Slider info bubble styles

* Move the styles for the Security Slider info bubble from _bass.sass to
  source.sass, since they are only used on the Source Interface.
* Remove .tbb31plus, because earlier versions are several years out of
  date at this point and we no longer need to do something special for
  them.
* Re-position the info bubble so it more clearly points to the location
  of the Tor Button in Tor Browser's address bar."
garrettr,2017-06-09 21:24:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5fe9c8e3782e626f05c92a3fe859de2d2f6ab1b4,5fe9c8e3782e626f05c92a3fe859de2d2f6ab1b4,"Improve Security Slider info bubble JS and UX

* Refactor source.js to have a single main entry point.
* Rework info bubble hiding behavior. Previously, once the info bubble
  was shown, it could only be hidden by clicking *inside* the bubble.
  This is unintuitive and counter to what I consider to be the
  prevailing UX pattern where a popup element can be dismissed by
  clicking *outside* the element. This commit changes the behavior so
  that once the bubble is shown, it can be hidden again by clicking
  anywhere outside it.
* Remove special bubble positioning code for Tor Browser versions < 31,
  because that version is several years out of date at this point.
* Generally clean up and comment source.js"
redshiftzero,2017-06-07 18:34:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7418fa8da6920f399f56bd2fba4083d33c90a576,7418fa8da6920f399f56bd2fba4083d33c90a576,Add issue template
redshiftzero,2017-06-07 18:30:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b0fde5a5c667b00516441557bb68ecbc05a3ee0,3b0fde5a5c667b00516441557bb68ecbc05a3ee0,Update PR template to add docs linting to the checklist
redshiftzero,2017-06-08 22:33:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bb5f81aee5f210c816ae23a1b0b26d75193c39b8,bb5f81aee5f210c816ae23a1b0b26d75193c39b8,Add test for the no tor browser warning on the source interface
msheiny,2017-06-09 02:31:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8cc02531d6f6d74528b898ae72c01cd07b62f389,8cc02531d6f6d74528b898ae72c01cd07b62f389,"Address line-space lint issues docs/code

Responding to PR nits from FPF team during PR review."
redshiftzero,2017-06-09 01:10:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c02e526dfbbbe3b966e7a72c98e68c02cd4c111c,c02e526dfbbbe3b966e7a72c98e68c02cd4c111c,"Merge pull request #1770 from freedomofpress/update-deps-0.4

Update Python dependencies 0.4"
redshiftzero,2017-06-09 01:07:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe5e69432abcb01159ca1a554d39f34c1dae349f,fe5e69432abcb01159ca1a554d39f34c1dae349f,"Merge pull request #1772 from freedomofpress/update-svs-hardware-recommendations

Update SVS hardware recommendations"
justintroutman,2017-06-08 23:30:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/92e6ff8301e679fb20befc7788e44e701b35146b,92e6ff8301e679fb20befc7788e44e701b35146b,Fix style guide issue for terminology.
redshiftzero,2017-06-08 21:53:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/343762906ea9dbfe39a0e8857d05468d5a2f0792,343762906ea9dbfe39a0e8857d05468d5a2f0792,Improvements from peer review and clean up dead code in source.js
conorsch,2017-06-08 21:21:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ecddb7df3814117bac4f428a61ef4adf28818d05,ecddb7df3814117bac4f428a61ef4adf28818d05,"Merge pull request #1782 from freedomofpress/validate-all-prod-vars

Validates all prod vars prior to installation"
conorsch,2017-06-08 18:29:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9799728e701c7417234a26dfb934acd4ab1af5b1,9799728e701c7417234a26dfb934acd4ab1af5b1,"Adds validation task for pubkey file existence

The compare-fingerprints script assumed that the pubkey files in
question existed, and didn't provide informative error messaging
if they didn't. While we could add file-existence checks to the script,
it's cleaner to keep that script focused on the
fingerprint-matches-pubkey file, and separate check file existence prior
to running the script. That way, we can provide very informative error
messaging in the validate role, using the `msg` parameter for `assert."
conorsch,2017-06-08 18:15:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/716327fecc685e972587678c574394ed9f371f25,716327fecc685e972587678c574394ed9f371f25,"More informative error messages in validate failures

The validate role runs through the list of site-specific variables and
exits when an error is found. Since the vars file containing the
known-bad variable has already been written to disk at this point, the
`./configure` script will *not* prompt for it, creating a loop of
validation failures. Therefore let's instruct the Admin to edit the file
by hand, and point to the specific var name that's causing the trouble."
msheiny,2017-06-08 19:08:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed5c7bf569da3721803c546509a0e01ca9cbfcde,ed5c7bf569da3721803c546509a0e01ca9cbfcde,"Fold ansible install script into admin script

No change in functionality here, just trying to consolidate code and make it a
bit easier to maintain."
msheiny,2017-06-08 17:57:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4d671b124b13cc9186c817f4fade3b229e846dad,4d671b124b13cc9186c817f4fade3b229e846dad,"Address PR nits and feedback

* Adjust docstring spacing
* Utilize fullpaths for directory / file variables
* Switch exec --> execfile for the activate script
* Utilize yaml.safe_load instead of yaml.load for securiteh"
msheiny,2017-06-08 17:44:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e16e967b8faf4caa4e90eb75eff35f046899598,3e16e967b8faf4caa4e90eb75eff35f046899598,"Rename admin tool to securedrop-admin

Requested during PR to reduce confusion in the documentation and when
referencing the tool in conversations."
garrettr,2017-06-08 00:36:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4fbd9b620d6df90634bd562627b08b7379a87fa5,4fbd9b620d6df90634bd562627b08b7379a87fa5,"Merge pull request #1777 from freedomofpress/1763-fix-flashed-messages-on-source-interface

Fix flashed messages"
conorsch,2017-06-07 03:45:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f9868c3213a1ad09a3eec327f441c6aff4723fd5,f9868c3213a1ad09a3eec327f441c6aff4723fd5,"Don't require root privs for Tails persistence checks

Using become=yes requires prompting for a temporary Tails root
passphrase in order to inspect the contents of persistence.conf. We'll
do that if we have to, but let's try to run the validate logic without
root privileges if at all possible. Checking for the presence of the
`openssh-client` directory adjacent to the `persistence.conf` file is
sufficient indication that the SSH config persistence was enabled when
configuring the volume."
conorsch,2017-06-07 01:33:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d52341aa3ccbf7dac2d390382fb4878ebd586c1d,d52341aa3ccbf7dac2d390382fb4878ebd586c1d,"Validates Tails environment, including persistence

The validate role now confirms that the Ansible playbooks are being run
within Tails, specifically version 3, with persistence enabled."
conorsch,2017-06-07 01:24:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/73eff6914f0518ba2d2c77f2d8a5758408b9f327,73eff6914f0518ba2d2c77f2d8a5758408b9f327,"Only validate ansible_user when running against servers

The `validate` role previously ran in two different contexts:

  1. In the configure playbook, for validating input.
  2. In the prod playbook, for validating stored vars.

In 1, the target host is localhost running Tails, the Admin Workstation.
In 2, the target host is remote, running Ubuntu, the SecureDrop servers.
Validation of the `ansible_user` var is only relevant to the latter
case, since that value will always be ""amnesia"" when running against
localhost. So let's only expect it *not* to be amnesia if we're trying
to connect to the Ansible hosts.

It's safer to do the vars validation prior to connecting to any servers,
since the connection will fail if the SSH user value is wrong. To
provide informative error messaging if the `-u <username>` flag is
omitted, we should consider setting `remote_user` at the play level; but
that's difficult to do, given the current ambiguity of the `ssh_users`
var being a list or a string (we should standardize on it being a list)."
conorsch,2017-06-06 21:35:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb770a85355fae37c10892631c62aa2a11d71eb5,eb770a85355fae37c10892631c62aa2a11d71eb5,"Compare pubkey/fingerprint match in GPG validation tasks

Before we were only validating fingerprints, not confirming the
fingerprints match the specified pubkeys. This work incorporates
@heartsucker's changes presented in PR #1259 (unmerged)."
conorsch,2017-06-06 19:52:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3489aa01f7dfc2db1c227b19fc3ef5e3a687b8ce,3489aa01f7dfc2db1c227b19fc3ef5e3a687b8ce,"Updates gpg2 commands for Tails 3 in validate logic

The whitespace output for displaying full-length fingerprints changes in
Tails 2 versus Tails 3. The newer syntax allows us to remove the sed
pipe for removing whitespace, and simply grep the entire output for the
precise of the line displaying the full fingerprint (with whitespace
prefix). This is safe to do, because the script created a dedicated
keyring strictly for testing, so no other keys other than the one
imported will be present.

Incorporates liberal use of bash traps for cleanup."
conorsch,2017-06-06 19:49:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/afd4e6c07c66615ce344513237accf75588123c5,afd4e6c07c66615ce344513237accf75588123c5,Moves GPG validation script into validate role
heartsucker,2016-03-10 16:39:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f21135efce40ed2d3af7afbd6dbbf4864d3ca309,f21135efce40ed2d3af7afbd6dbbf4864d3ca309,"gpg key verification

fixes #1257"
conorsch,2017-06-02 00:27:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/49031b1e72a951ad4a23b3fa470f3e9b7b597c4d,49031b1e72a951ad4a23b3fa470f3e9b7b597c4d,"Moves validation role include in prod playbook

Targeting localhost for vars validation, since we don't need (or want)
host facts from the servers prior to validating the user-provided
configuration options. The playbook will fail if validation errors are
encountered, before contacting the SecureDrop servers."
conorsch,2017-06-02 00:18:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/785383695c3784755a68ac6f51a8813a3629b9fd,785383695c3784755a68ac6f51a8813a3629b9fd,"Supports domain lookups for validation under Tails

The validation logic was naively using `host <domain>`, which won't work
under Tails. Under Tails we'll need to honor the tor-only network
settings, and force the lookup to use TCP rather than UDP, and only IPv4
addresses (for Tor proxy compatibility). Also, we'll need to provide a
hardcoded nameserver, since Tails sets localhost as the nameserver to
avoid DNS leaks."
conorsch,2017-06-01 18:17:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b7977d13ee2a6f41fe58f060ab22118ab72c1e67,b7977d13ee2a6f41fe58f060ab22118ab72c1e67,"Adds validation tasks for SMTP relay and SASL domain

Shells out to the `host` command in order to validate these variables.
There's an argument to be made that requriing network connectivity
simply for vars validation will create problems, but in the context of
the deployment, we need network connectivity to provision the SecureDrop
servers anyway. If the `host` lookup fails, that information should be
reported to the Admin prior to running the playbooks, otherwise
debugging the OSSEC email alerts can be tedious and confusing."
conorsch,2017-06-01 18:03:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21f2287073d674db7cf11c08530c5998cd1023c4,21f2287073d674db7cf11c08530c5998cd1023c4,"Converts OSSEC validation tasks to assertions

Ansible provides the `assert` module specifically for this type of var
validation, so let's use it. Also provides a succinct way to run
multiple checks on the same value, by passing a list of conditionals to
the `that` parameter."
conorsch,2017-06-01 17:57:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0b08cdc2387306a8b2ca39228b7e2bf20decd45,f0b08cdc2387306a8b2ca39228b7e2bf20decd45,"Moves OSSEC-related validation tasks to separate list

More readable nad straightforward for where newer validation rules shoul
dbe added."
redshiftzero,2017-06-07 18:28:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b1e93c65dfdecca9faa7f3bc95a25aa300187ad6,b1e93c65dfdecca9faa7f3bc95a25aa300187ad6,Add contributor guide
msheiny,2017-06-06 20:30:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e36bae3a2add3f12a9db116c6cc94c96b262667,1e36bae3a2add3f12a9db116c6cc94c96b262667,"Update CI testing requirements

Include bumping ansible version to reflect latest virtualenv setup
for clients."
msheiny,2017-06-06 20:25:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/302e5e0ef352be7282f60705d88452a95cd67bd1,302e5e0ef352be7282f60705d88452a95cd67bd1,"Update docs to reflect admin helper script

The `admin` helper script adds an easier workflow to the installation process so
the documentation needs to be updated to reflect these new commands."
redshiftzero,2017-06-07 00:02:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be8573d6007bd99bf66b62ff65e5ed112a65b7d3,be8573d6007bd99bf66b62ff65e5ed112a65b7d3,"Customize source.js to show different warning if not using TB

* If a source is using Tor Browser with JavaScript, then they
see a warning to turn up the Security Slider.
* If they are NOT using Tor Browser, then they see a warning
that they should be using Tor Browser."
msheiny,2017-06-06 20:23:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15b015c634df220d173a292ea19c5613b01aeedc,15b015c634df220d173a292ea19c5613b01aeedc,"Remove doc cli ref to inventory file

With the slight addition specifying the inventory file with an ansible.cfg,
there is no longer a need for users to explicitly set `-i inventory` at CLI"
msheiny,2017-06-06 20:19:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b2eaeda4d60c89f52d30430ff82e2e395b3cb00,7b2eaeda4d60c89f52d30430ff82e2e395b3cb00,"Added wrapper script to direct user experience

In an effort to smooth over management experience for users,
add a helper script to wrap and assist with common SD tasks."
redshiftzero,2017-06-06 19:11:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a2eb832b07f1f82ebed2023e483ad511376efc8,1a2eb832b07f1f82ebed2023e483ad511376efc8,Add warning for anyone not using Tor Browser
garrettr,2017-06-06 18:35:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/52814a89c606d45ec9bd3fe5441ea57321ccb74d,52814a89c606d45ec9bd3fe5441ea57321ccb74d,"Merge pull request #1776 from freedomofpress/dev-env-flask-config-large-requests

Add MAX_CONTENT_LENGTH to Flask config for development environment"
redshiftzero,2017-06-06 17:36:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/945e76ef21a0f8502a0fff6bb0242b8682a81ac2,945e76ef21a0f8502a0fff6bb0242b8682a81ac2,"Remove /howto-disable-js

/howto-disable-js is a deprecated view, as we now rely on the
bubble that pops up using the logic in source.js.

This commits removes the view, template, and updates the AppArmor
rules and unit tests."
garrettr,2017-06-06 03:46:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/455e5541db200c66d9bcce6445ebe9722c5b8b64,455e5541db200c66d9bcce6445ebe9722c5b8b64,Update testinfra tests
redshiftzero,2017-06-06 03:01:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b43cd6acb3e6ada960c09d24fb4c22fe59b1dd7,5b43cd6acb3e6ada960c09d24fb4c22fe59b1dd7,Add MAX_CONTENT_LENGTH to Flask config for development environment
garrettr,2017-06-06 02:18:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/028485ef1b887bbef76cbf89560756120f25611f,028485ef1b887bbef76cbf89560756120f25611f,Allocate 512MB RAM to the build VM
garrettr,2017-06-06 02:03:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1f938f747c7b5341e56ecc252430361ca8d41486,1f938f747c7b5341e56ecc252430361ca8d41486,Fix Cache-Control headers
conorsch,2017-06-05 20:37:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f77c66bf106ad1721d6cf79f69d1b1cd2f83e771,f77c66bf106ad1721d6cf79f69d1b1cd2f83e771,"Updates section header magnitude in Hardware docs

Trying to get a more consistent folding in the navbar, by grouping the
various subsections into logical categories. Previously, ""Optional
Hardware"" was a subsection of ""Required Hardware"", which didn't make
sense."
justintroutman,2017-06-05 19:57:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/36cf95068584986fae421690a0fe3f365be52199,36cf95068584986fae421690a0fe3f365be52199,Formatting changes for better readability.
redshiftzero,2017-06-05 17:26:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/500773a156f63b20447b5846569689519e123e1d,500773a156f63b20447b5846569689519e123e1d,"Merge pull request #1773 from freedomofpress/add-label-images

Add label images"
garrettr,2017-06-02 22:44:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c9921791a02f0063ab26623085e6241e926a2cbd,c9921791a02f0063ab26623085e6241e926a2cbd,"Merge pull request #1771 from freedomofpress/1764-remove-port-forwarded-web-interfaces-in-staging

Remove port forwarding for the web applications in staging"
msheiny,2017-06-02 19:18:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/79f72fd909e58596e7d627ff00dd002ae0feff36,79f72fd909e58596e7d627ff00dd002ae0feff36,"Peg ansible version for admin workstations

Include sha256 hashes to go along with dependencies as an
additional security measure."
conorsch,2017-06-02 20:22:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03b2cb94c6efa3014cf61d94e5a6245feb405b18,03b2cb94c6efa3014cf61d94e5a6245feb405b18,"Makes port forward addresses into URLs in dev docs

A developer reading the docs for information on the forwarded ports for
the development VM can now simply click the URLs to view the interfaces
if the machine is already provisioned, rather than typing them out
manually."
garrettr,2017-06-02 06:17:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b921064e9f6ae5d989890d672de4d76cd62b76fa,b921064e9f6ae5d989890d672de4d76cd62b76fa,Update expected iptables-save output for app-staging testinfra
garrettr,2017-06-01 23:34:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae8d1ee33d0538d5452c4a7b52f6b4f74b89e6e2,ae8d1ee33d0538d5452c4a7b52f6b4f74b89e6e2,"Update the Virtual Environments documentation

* Remove references to port forwarding the web applications in the
  staging environment.
* Revise and condense the entire ""Virtual Environments"" document."
huertanix,2017-06-02 20:11:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fec7da92e8bfa7629d62d1fcb6866b5dcf785076,fec7da92e8bfa7629d62d1fcb6866b5dcf785076,Fixes printable file links to use Sphinx download helper.
garrettr,2017-06-01 23:32:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68861d265cd10a414460f3fc34ff08cc5c4598ed,68861d265cd10a414460f3fc34ff08cc5c4598ed,"Stop port forwarding the web apps in staging

* Remove port forwarding from the Vagrantfile
* Remove (currently broken) iptables rules intended to permit direct
access to the web server for requests from the forwarded ports."
conorsch,2017-06-02 19:47:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e300e583a6d17b9561d1af41be473d32c94aaeb2,e300e583a6d17b9561d1af41be473d32c94aaeb2,"Merge pull request #1762 from freedomofpress/migrate-away-from-prod-specific-vars

Deprecate `prod-specific.yml` vars file"
conorsch,2017-06-01 19:29:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/acb3239600ee0eeaa6cb94a54d613b12653bd34f,acb3239600ee0eeaa6cb94a54d613b12653bd34f,"Merge pull request #1757 from freedomofpress/idempotence-touchups-throughout-ansible-config

Idempotence touchups for Staging environment"
conorsch,2017-06-01 17:25:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/70686ee67846fd4b648797b3113fd5046bdaca21,70686ee67846fd4b648797b3113fd5046bdaca21,"Creates wrapper script for configure playbook

We can't easily create a Python script to perform the validation in real
time (i.e. loop over an input until the value is satisfactory), since
Tails doesn't provide `yaml` or `pyyaml` by default. Therefore let's use
trusty old Bash, and keep it simple: skip prompting for values already
declared.

Admittedly the script is quite minimal, but providing the script target
gives us a point of update for subsequent improvements to the first-run
Admin experience, and we can modify or replace this script as necessary,
without needing to train Admins on a new strategy."
conorsch,2017-06-01 17:29:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba6d28f5695d04cc613e0c870698133a635a9653,ba6d28f5695d04cc613e0c870698133a635a9653,"Imports site-specific vars during validation loop

By default Ansible won't reread the vars for localhost, since the
group_vars file was not present on first run. Let's include it in the
context of localhost explicit, but use a `with_first_found` loop to
avoid erroring out on first run if the file had not been created yet."
conorsch,2017-06-01 16:26:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b61688a0d7c93c091870518670fdf96cbe379fb,7b61688a0d7c93c091870518670fdf96cbe379fb,"Moves validation to separate play in configure playbook

Let's write the vars to disk before validating them, so that if
validation fails, we still have record of the vars on disk."
conorsch,2017-06-01 16:31:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4ce2491ebbed64df99abb2a92fe05d3b5766599,d4ce2491ebbed64df99abb2a92fe05d3b5766599,"Initializes site-specific vars file with YAML header

Required for creating a properly structured YAML vars file. Ansible
isn't terribly picky, but let's do it right form the outset."
redshiftzero,2017-06-01 02:21:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/476223f2601bdeeeea61b82ca1a0e1ff996f89b5,476223f2601bdeeeea61b82ca1a0e1ff996f89b5,Add improvements from review by @fowlslegs and @conorsch
redshiftzero,2017-05-26 20:46:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/79451243c776ae224f3dd4d20ecc266dc2bf5d69,79451243c776ae224f3dd4d20ecc266dc2bf5d69,"Add ""Admin Responsibilities"" section to Administrator Guide"
redshiftzero,2017-06-01 01:57:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b0c482322e7cf58bf52d41242af7e2de40a0f10e,b0c482322e7cf58bf52d41242af7e2de40a0f10e,"Merge pull request #1766 from freedomofpress/what-makes-securedrop-unique

Add ""What Makes SecureDrop Unique"" guide"
redshiftzero,2017-06-01 01:10:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c5c4546c810409e5e586ef8f446b2cf08e3b357a,c5c4546c810409e5e586ef8f446b2cf08e3b357a,Add style and grammar fixes from @justintroutman's review
redshiftzero,2017-05-31 22:49:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/26f6f4818e8a111a0e7706c19d4514a30e0c275b,26f6f4818e8a111a0e7706c19d4514a30e0c275b,Add tip boxes to link to What makes securedrop unique and promotion guides
trevortimm,2017-05-31 22:40:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2d282fabe7d8d52f034671c91e6ea898448bfd78,2d282fabe7d8d52f034671c91e6ea898448bfd78,"Add ""What makes SecureDrop unique"" guide"
redshiftzero,2017-05-31 22:01:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/66b5e6653e50c158bff5703149ae1264923eae6f,66b5e6653e50c158bff5703149ae1264923eae6f,"Merge pull request #1765 from freedomofpress/reject-empty-replies-2

Reject empty replies"
huertanix,2017-05-31 19:34:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/31fd5004d8465b2509d847c5bfe8dddd6f19f00a,31fd5004d8465b2509d847c5bfe8dddd6f19f00a,Adds printable label files and linkage in hardware documentation.
redshiftzero,2017-05-31 01:01:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90299ef85e64d6d23d2aa25eeafddcf99a1269cc,90299ef85e64d6d23d2aa25eeafddcf99a1269cc,"Merge pull request #1759 from freedomofpress/1136-passphrase-best-practices

1136 passphrase best practices"
redshiftzero,2017-05-31 00:28:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5c31fd6192913bef4e7714c780ee66cb8c0423a8,5c31fd6192913bef4e7714c780ee66cb8c0423a8,"Merge pull request #1676 from freedomofpress/removing-timing-information-from-login

Removing timing information from login"
conorsch,2017-05-30 22:46:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b64a5c84a707a810becadc13688e207a841ac917,b64a5c84a707a810becadc13688e207a841ac917,"Updates documentation with new configure playbook

Removes all mention of the deprecated `prod-specific.yml` file in favor
of the newer `group_vars/all/site-specific` file. Admittedly the second
filename is more tedious to type (and read), so also added a docs
reference point `configure_securedrop` so we can easily point to the
first-run configuration section from any section of the docs.

Also updates comments in Ansible files from mentioning
`prod-specific.yml` explicitly."
conorsch,2017-05-30 21:47:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/93b02fadd706787009bd6db9ce6f32c82281aecb,93b02fadd706787009bd6db9ce6f32c82281aecb,"Removes hardcoded includes of prod-specific.yml file

The production playbook was including the `prod-specific.yml` vars file
on every play, since previously the project did not leverage Ansible
group_vars in order to override role defaults."
conorsch,2017-05-30 21:37:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b32811e861fa3e965a1e8f1cc481e06742399759,b32811e861fa3e965a1e8f1cc481e06742399759,"Adds informative message to GPG fingerprint validation

Friendlier output for first-time Admins, so it's clear how to resolve in
case an error was encountered. The most common issue with GPG validation
is that Admins copy/paste fingerprint info from gpg v1, which included
whitespace in the output (gpg v2 does not include whitespace)."
conorsch,2017-05-30 21:33:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/240dabf5811dcf8fdd6ab52ee60c7c5b47da567a,240dabf5811dcf8fdd6ab52ee60c7c5b47da567a,"Ignores new site-specific vars file from version control

Avoiding the conflict problem we have currently with
`prod-specific.yml` from the outset: always ignore the site-specific
vars file and let Admins manage it themselves."
conorsch,2017-05-30 20:59:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/66742f1484fe70973d51c59dc88dd3f213ebf206,66742f1484fe70973d51c59dc88dd3f213ebf206,"Migrates deprecated vars file in prod playbook

New instances starting with 0.4+ will use the new git-ignored vars file
location `group_vars/all/site-specific`, but instances set up prior to
0.4 will still have production secrets in the `prod-specific.yml` file.
We're deprecating that file because of the git merge conflicts, as well
as the complicated ""stash-pull-pop"" workflow we demand of Admins.

In order to support existing instances, let's seamlessly copy over the
old prod-specific.yml vars file to the new location, if-and-only-if no
file exists at the new location. Since Ansible reads variables at the
start of every play, the new vars file will be used in subsequent plays,
so Admins do not need to take any special action."
conorsch,2017-05-30 20:51:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/48b9f892059d05d735be2c5c08d30798b73afd2f,48b9f892059d05d735be2c5c08d30798b73afd2f,"Stop prohibiting ""vagrant"" as valid SSH username

The original intent with the 'validate' role was to ensure that
production SecureDrop instances do not use common values for required
variables, such as SSH username. The motiviation was to harden the
instance by forcing an attacker to steal secrets before they can
interact with the instance in a meaningful way, much how blacklisting
""root"" as a valid SSH username is considered a best practice.

In practice, however, the non-standard SSH username (since Tails always
runs as the ""amnesia"" user, Admins cannot use their regular custom
username) causes problems, and requires that Admins pass in the SSH
username on every command-line invocation of the playbook. We can do
better than that, and pass in the site-specific username in the
playbook."
conorsch,2017-05-30 18:48:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/75c2901240a5095ccc82da4e0c96d97bfcfd7c79,75c2901240a5095ccc82da4e0c96d97bfcfd7c79,"Creates dedicated playbook for configuring SecureDrop

Allows Admins to enter info interactively, via Ansible's `vars_prompt`
play-level attribute. We cannot use preexisting vars as ""default"" values
here, which is a bit maddening, but still the streamlined approach of
interactive prompts is quite nice.

Storing the prompted-for vars on disk, so they can be used automatically
in the SecureDrop provisioning playbook run. Using lineinfile rather than
template, to prevent clobbering of additional Admin overrides that were
not specified in the configure playbook logic."
garrettr,2017-05-30 21:37:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc1dfc06f462a64df50589b5d195903c726a9a89,cc1dfc06f462a64df50589b5d195903c726a9a89,Link to Passphrase Best Practices from relevant locations
garrettr,2017-05-27 00:57:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04b69c40c0b1d2f5328bc62184d8a67606abc195,04b69c40c0b1d2f5328bc62184d8a67606abc195,Document best practices for managing passphrases
conorsch,2017-05-27 01:12:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3354dba5bd0bd1ab87aa3d23fc2035ef493f1e8e,3354dba5bd0bd1ab87aa3d23fc2035ef493f1e8e,"Adjust permissions on OSSEC config files

The OSSEC deb packages aggressively chown and chmod files recursively,
which conflicts with the permissions and ownership set within Ansible.
The permissions should be set once in a consistent manner, and the
postinst perms should be refined (#1756)."
conorsch,2017-05-26 21:26:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1ee3057d50e699ce5525fe2e17a87fb77ca5b029,1ee3057d50e699ce5525fe2e17a87fb77ca5b029,"Refines apt-mark hold changed status reporting

Since the staging environment installs the locally-built deb packages on
every provisioning run, regardless of whether the code changed (simply
because it's difficult to detect whether the code changed, so it's
better to be safe than sorry), and also performs an apt upgrade every
time, we need to be sure we don't inadvertently switch to the production
packages in the FPF apt repo on upgrade. Thus we mark the locally built
packages as ""held"", prohibiting upgrades.

While it's not terribly difficult to ascertain whether the ""hold"" action
resulted in a change, we're constantly wiping ""hold"" state by forcing
package installation via `dpkg -i <deb>`. Therefore we should check
whether the packages are marked as held prior to installation, and use
that state to compare the changed status."
conorsch,2017-05-26 21:45:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/adfdd383c436a58dd6712d5475e93ebc8860ebfb,adfdd383c436a58dd6712d5475e93ebc8860ebfb,"Fixes /etc/hosts config idempotence

We lost the idempotence initially implemented in
57241076aa4e1ab4467fdb1346970a34fdc26128, due to the upgrade to Ansible
v2. The logic for escaping special characters, such as newlines, has
changed, requiring only one backslash now, rather than the previous two.
Without this change, the config was inappropriately appending a literal
'\n' to the hosts line, which is definitely not what we want.

Fortunately, the misconfiguration never shipped, nor was the system left
in a broken state by the playbook, due to the two-pass task approach."
conorsch,2017-05-26 20:54:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c7e5c1c37c83285e8341aacf5975d5f616b12e04,c7e5c1c37c83285e8341aacf5975d5f616b12e04,"Simplifies package cleanup in grsecurity role

The Ansible `apt` module supports an ""autoremove"" parameter, but
also requires another action, such as a package installation or upgrade,
so we can't use that.

The Ansible apt module supports fnmatch for wildcarding, so let's lean
on the module to handle ensuring the non-grsec-patched distro kernel
packages are absent. Allows us to remove the conditional ""changed_when""
logic as well, which was poorly structured anyway.

Now's also a good time to collapse the tasks into a single task with a
loop to pass in different args.

Updated associated config tests with smarter logic in the stdout string
comparison, so we don't have to skip the test any longer on app-staging."
conorsch,2017-05-25 19:14:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/65db4ad9db5d40986458c8959c49e5f5e5875c58,65db4ad9db5d40986458c8959c49e5f5e5875c58,"Disables verbose output on vanilla kernel removal

The apt commands to remove all non-grsec kernels from machines emit a
*lot* of output, pages of terminal scrolling per task. Since these tasks
are no-ops after the first provisioning run, and next to useless even
for developments (beyond ""changed"" state), let's silence the output only
on these tasks, to keep the playbook output informative and readable."
conorsch,2017-05-25 19:13:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6007c7cb71525531fd4311c4314583d266ba54de,6007c7cb71525531fd4311c4314583d266ba54de,"Sets PaX flags idempotently on firefox binaries

Reusing the two-pass logic from the grsecurity role, which first
inspects the current headers, then applies conditional only if the
headers are not already set correctly."
redshiftzero,2017-05-30 16:26:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90a84b350cfda1cb851789a4b4f55d5cf2ac1a26,90a84b350cfda1cb851789a4b4f55d5cf2ac1a26,"Merge pull request #1753 from freedomofpress/backup-ws-docs

Added documentation on how to backup Tails USBs"
conorsch,2017-05-30 16:26:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38ab7f49e21fbc6c3d58fc4ab336526e9cd620dc,38ab7f49e21fbc6c3d58fc4ab336526e9cd620dc,"Merge pull request #1755 from freedomofpress/idempotence-touchups-throughout-ansible-config-development

Idempotence touchups for Development VM"
redshiftzero,2017-05-30 16:25:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b6b2e0036b564e7c208b6b4ef7e0f580651b0371,b6b2e0036b564e7c208b6b4ef7e0f580651b0371,"Merge pull request #1754 from freedomofpress/1141-hardware-docs-recommend-labeling-equipment

Recommend labeling equipment in Hardware documentation"
garrettr,2017-05-27 01:07:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/43af4d245ef83b00bd7c2dfcf73e93b2fe91b9aa,43af4d245ef83b00bd7c2dfcf73e93b2fe91b9aa,Fix style guide violations
redshiftzero,2017-05-27 00:42:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3931ddc636751696e7cc89b992e8ed29a93f07ba,3931ddc636751696e7cc89b992e8ed29a93f07ba,"Merge pull request #1740 from freedomofpress/update-network-firewall-docs-0.4

Update network firewall templates and docs"
conorsch,2017-05-27 00:04:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/02ea598c610e402ff0a56634f86b5f2635da9cdc,02ea598c610e402ff0a56634f86b5f2635da9cdc,"Don't use state=latest in dev machine package installs

The playbook already updates all packages and refreshes the apt cache,
so any new packages installed will indeed by the latest available.
Setting state=latest has the unwanted side-effect of forcing an apt
cache update every time the task executes, which noticably slows down
provisioning runs while working."
redshiftzero,2017-05-27 00:06:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa940fbdf9c57d075fa3aae187ee60fc01866580,fa940fbdf9c57d075fa3aae187ee60fc01866580,"Merge pull request #1752 from freedomofpress/add-trevor-securedrop-promotion-guide

Add SecureDrop promotion guide written by @trevortimm"
redshiftzero,2017-05-27 00:06:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/628482538481405de6fe1eb302a1f2c202c66183,628482538481405de6fe1eb302a1f2c202c66183,"Merge pull request #1750 from freedomofpress/remove-old-upgrade-guides-rebased

Remove old upgrade guides due to irrelevance and outdated information."
redshiftzero,2017-05-26 23:44:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c9419dddaa53b6f6e65b998004696617fa852dda,c9419dddaa53b6f6e65b998004696617fa852dda,Add improvements from peer review and add Tails version
redshiftzero,2017-05-26 03:16:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f4c1e91816d1487d8b147f8f5c2840eeea8304c,9f4c1e91816d1487d8b147f8f5c2840eeea8304c,"Replace existing firewall config with individual loadable templates

These templates are exported directly from the pfSense firewall
without redaction. The sections that are exported are: Aliases,
firewall rules, and interfaces. They are the main sections that need to
be manually configured by admins installing SecureDrop. I have tested
loading these in a test SG-2440 firewall."
redshiftzero,2017-05-26 03:14:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ba8143ee6967554dcdf6b579c296d37926ae308,7ba8143ee6967554dcdf6b579c296d37926ae308,Add Basic (Manual) and Template firewall configuration steps
redshiftzero,2017-05-25 22:31:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97eea07c443d91c5627b1415fc66a5f3ff01cd94,97eea07c443d91c5627b1415fc66a5f3ff01cd94,Network Firewall Docs: Update SecureDrop Configuration section
redshiftzero,2017-05-25 17:59:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/64bd90b01a1b34a63f3a9ea7f78643dcf9650a7d,64bd90b01a1b34a63f3a9ea7f78643dcf9650a7d,Add link describing how to console into the firewall
redshiftzero,2017-05-25 03:33:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b88133a6db2f5ba07cf07c7a74b1785161b80c36,b88133a6db2f5ba07cf07c7a74b1785161b80c36,"Network Firewall Docs: Update ""Initial Configuration"" section

Update for Tails 3 and SecureDrop 0.4"
redshiftzero,2017-05-25 01:28:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c15633477ab8a0288106b4f69df891e73d50c100,c15633477ab8a0288106b4f69df891e73d50c100,"Update link, add more recent resources"
redshiftzero,2017-05-25 01:17:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0415616ffcbf6acfe846adb0cb9ceaaf8a9ed1e,f0415616ffcbf6acfe846adb0cb9ceaaf8a9ed1e,Remove FPF commitment to provide upgrade notifications
conorsch,2017-05-24 19:17:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec561ac5870dd7e1b5841530d3b708d93f13854b,ec561ac5870dd7e1b5841530d3b708d93f13854b,"Installs ntp in dev VM via vars

We already have a single point of update for adding package dependencies
to the dev VM, so let's use it. (Unfortunately that same
`development_dependencies` var is reused as build dependencies on the
build VM, but that's a separate problem.) The new approach avoids
unnecessary apt cache refreshs that slow down dev VM provisioning runs.

Updated config tests to ensure that ntp is installed on the dev VM."
conorsch,2017-05-24 19:08:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03d3e22ea8a9e526107bdab4e6d268589e5d1165,03d3e22ea8a9e526107bdab4e6d268589e5d1165,"Makes haveged config idempotent

We lost the idempotence originally implemented in
4e3ee59df6acecb0dd150f0274464d2edcbdcc23 due to the Ansible v1 -> v2
transition. The escaping syntax for all special characters, including
newlines, has changed, so the awk command in the haveged task list was
inserting a literal '\n' string into the file. Fortunately the second
pass with `lineinfile` cleaned up the error, so the misconfiguration never
affected active systems (even the development VM), but it did break
idempotence, which highlighted the problem.

Adding single-quotes to the parameter values on the lineinfile tasks is
simplmy a best practice, and aids in readability; it doesn't alter the
behavior of that task."
garrettr,2017-05-26 23:48:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/49c79f96069d13307a9888689a30f94a3e1dcbb4,49c79f96069d13307a9888689a30f94a3e1dcbb4,"Reformat ""Optional Hardware"" section

The ""Optional Hardware"" section was formatted as a nested bullet list,
but after adding the ""Labeling Equipment"" subsection I felt there was
too much information in this section for a bullet list to be
appropriate. This commit converts each top-level bullet into a
subsection with a heading, and converts each nested bullet into either a
paragraph or an aside, depending on whether I thought the text would
benefit from extra emphasis.

Another benefit of converting top-level bullets into subsections with
headings is that it makes the different subsections of ""Optional
Hardware"" available through the table of contents and linkable."
garrettr,2017-05-26 23:39:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e166c4edaaed58a8e5e3d66f56f8a2b027c317fa,e166c4edaaed58a8e5e3d66f56f8a2b027c317fa,Recommend labeling equipment in hardware documentation
justintroutman,2017-05-26 23:36:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/877b863288715e82b4a1725a4177f900f0803257,877b863288715e82b4a1725a4177f900f0803257,Removed reference to since-removed old upgrade guide.
trevortimm,2017-05-26 22:40:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/527b2306e31de2bc8a6e42cb3fa5d8ba32ef58b3,527b2306e31de2bc8a6e42cb3fa5d8ba32ef58b3,Add SecureDrop promotion guide
conorsch,2017-05-24 18:36:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9b7d11de69aa19ec042f6e1ad8edfbcf9a42373,d9b7d11de69aa19ec042f6e1ad8edfbcf9a42373,"Makes SASS compilation on dev VM idempotent

Fortunately the sass program intelligently prints only the files it
writes to stdout, prefxied with ""write "", e.g.:

      write static/css/journalist.css
      write static/css/journalist.css.map
      write static/css/source.css
      write static/css/source.css.map

If nothing is printed, then we can safely assume the files were not changed."
conorsch,2017-05-24 18:30:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/75b25a8e447f94ec82f5f1ee01c621aae3c4bbff,75b25a8e447f94ec82f5f1ee01c621aae3c4bbff,"Upgrades all packages in development VM

On the first boot of the developer VM, the machine will upgrade all
packages, as well as refresh the apt cache. Additional specific packages
will be installed in subsequent role includes, and will use the latest
packages available in the just-refreshed apt cache."
conorsch,2017-05-24 18:25:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/75cc522bfdf4a46a861c1efc52764df60a666e0a,75cc522bfdf4a46a861c1efc52764df60a666e0a,"Sets SECUREDROP_ENV system-wide on dev machine

In the context of the development VM, we don't want the
SECUREDROP_ENV=dev var set only for one user, but rather for all
context by default. Using the profile.d strategy works well."
redshiftzero,2017-05-26 23:13:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/127dc50a4d1379eace5e3db875ec007018ae1620,127dc50a4d1379eace5e3db875ec007018ae1620,"Merge pull request #1749 from thisisparker/data-transfer-device

Changed references to 'data transfer device' or 'dtd'"
redshiftzero,2017-05-26 23:11:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4e94d23df7eb5afbc9b0b1c38706f7587c22d16a,4e94d23df7eb5afbc9b0b1c38706f7587c22d16a,"Merge pull request #1745 from thisisparker/source-guide-style

Updated Source Guide to match style guide on bolded interface elements"
redshiftzero,2017-05-26 23:10:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7cfa0ecc39128f8d58734428fddff092fe2b21ca,7cfa0ecc39128f8d58734428fddff092fe2b21ca,"Merge pull request #1741 from thisisparker/develop

Updated Terminology page for clarity and to add role descriptions"
justintroutman,2017-05-26 22:48:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a73f6bc9fbcf3b167313c7cf50cb74ade1ef419,1a73f6bc9fbcf3b167313c7cf50cb74ade1ef419,"Remove references to old upgrade guides in index, and rename section to 'Upgrade Guides'."
conorsch,2017-05-26 21:47:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5a19c5db473b699d989e4da498b604a33ebd9428,5a19c5db473b699d989e4da498b604a33ebd9428,"Merge pull request #1731 from freedomofpress/RepairBrokenDebz

App-tests in CI"
justintroutman,2017-05-26 21:24:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/038a57ec1706fbb40ef07e49d5c21d6e4215a6a2,038a57ec1706fbb40ef07e49d5c21d6e4215a6a2,Remove old upgrade guides due to irrelevance and outdated information.
thisisparker,2017-05-26 21:09:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/86b1e2f587101dd3dc550edbdb4320c4164bf27b,86b1e2f587101dd3dc550edbdb4320c4164bf27b,Changed references to 'data transfer device' or 'dtd'
msheiny,2017-05-26 16:44:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c81787b7e1705f0ce3c0369dc00033ccba540919,c81787b7e1705f0ce3c0369dc00033ccba540919,"CI - Allow apptest script failures to break build

We need to be alerted if the app-test script fails. Otherwise we may
inadvertently see a passing CI result and merge broken code in."
msheiny,2017-05-26 16:43:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/549f9c590bb25d1f364dff9b8a053bd726e29d1f,549f9c590bb25d1f364dff9b8a053bd726e29d1f,CI - Repair variable error on apptest playbook
redshiftzero,2017-05-26 02:15:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/696b9ad7e5b93447af9814c9e16f8b20f1a17684,696b9ad7e5b93447af9814c9e16f8b20f1a17684,Testinfra: Fix broken test_www
conorsch,2017-05-26 01:09:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4407052f5fae8d8403977fe6edfd26a0899f194c,4407052f5fae8d8403977fe6edfd26a0899f194c,"Makes task names in CI playbooks more informative

Strictly cosmetic, so it's obvious at a glance what the underlying tasks
are actually executing. This is especially important since most
developers will see these task names only when inspecting failed CI
runs."
conorsch,2017-05-26 01:00:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b07aa9903e44239c41c00289a75167d830a5fedf,b07aa9903e44239c41c00289a75167d830a5fedf,"Removes unnecessary `docker_containers` var

The necessary container names are already declared as `docker_instances`
list, and remapping that list with another play-level var is
unnecessary. No changes to the functionality here, merely making the
CI playbooks DRY and readable."
conorsch,2017-05-26 00:49:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/93d349597cd34bbaa36f63c04f87ec74727f6618,93d349597cd34bbaa36f63c04f87ec74727f6618,"Renames docker host `test` -> `apptestclient`

Simply trying to make the machine names more explicit and intuitive,
especially now that we some machines running in CI and not locally (via
vagrant). Down the road we'll flesh out this apptestclient host to
perform more functional testing of the Source and Journalist interfaces."
conorsch,2017-05-26 00:38:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e19d13b0c92487df436c8b4528daa85bcbbb954,0e19d13b0c92487df436c8b4528daa85bcbbb954,"Cleans up app functional tests over tor

Tried to unpack the command-building logic a bit to make it more
readable and understandable, since we'll soon be fleshing these tests
out a lot, now that we have a dedicated host for acting as a client in
the functional tests. No alteration of the test behavior, simply
cosmetic changes.

Also inches the ball forward on flake8-compatible config tests, but
we've got a long way to go still."
msheiny,2017-05-25 16:29:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dfabaed8ae53f4b77846f43ec28d1e6123ddc502,dfabaed8ae53f4b77846f43ec28d1e6123ddc502,"CircleCI - add test result folder as artifacts

This helps provide more visiblity into full test timing and output by providing
access to the junit xml results."
msheiny,2017-05-25 04:27:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8d790f6354b7c6ec81bc2210226e4ce51f72ae0,e8d790f6354b7c6ec81bc2210226e4ce51f72ae0,"Provide time gap between sys reboot and tor tests

Noticed that we werent giving the app-staging box enough time for the tor
service to fully start up and be accessible. Rather than add a sleep, I pushed
the tor results to the bottom of the stack so that by the time they are run -
the tor service is fully started."
msheiny,2017-05-25 04:26:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ca600c15181f531bff136016a60146f7d97b283,0ca600c15181f531bff136016a60146f7d97b283,Clean-up CI spinup script a bit
msheiny,2017-05-25 02:39:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f72e548ca6b70c9cb724e06f7e953b2cef27421a,f72e548ca6b70c9cb724e06f7e953b2cef27421a,"testinfra - check source interface reachable

We were missing issues in CI where everything was deployed and testinfra was
passing but the site was not technically up and accessible. This adds basic
functionality to check over tor that the site is up and not throwing errors.
This is only for the source interface, need to make some further tweaks to fix
journalist interface."
msheiny,2017-05-25 00:41:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/10ac4fc4e8f199e01b6714a92ec03906aea727ec,10ac4fc4e8f199e01b6714a92ec03906aea727ec,"Run application tests under CI

Currently failing app tests do not fail the build. Once we get our tests passing
we will want to go back and enforce passing tests."
conorsch,2017-05-25 17:14:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a44776f4c5af4449068caece44965925af26010,8a44776f4c5af4449068caece44965925af26010,"Downloads Firefox deb in app-test role to /opt

Two motivations for this change:

  1. The sudo=no means that iptables rules post-initial-provisioning
     will block the get_url request and cause the fetch to fail.
     Using elevated privileges sidesteps this issue (lazy, I know,
     but the real solution is to create a new client host for running
     the browser tests).

  2. Targeting /tmp means that the deb package was redownloaded after
     every reboot, which slows down provisioning a fair amount and
     breaks idempotence. Using a persistence, yet still out-of-the-way
     location such as /opt resolves.

Fixes #1729."
msheiny,2017-05-24 17:07:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98036abcdb96d88d8149f860c128d4a69d8933d8,98036abcdb96d88d8149f860c128d4a69d8933d8,"Add tor docker instance utilized for testing

Dont plan to actively utilize this yet except for a basic
Tor web-page check. Eventually should move entire testing logic to another
container so we arent installing un-necessary dependencies on the app-staging
server."
msheiny,2017-05-23 18:37:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c91d85ca78589a814e295753b04fe81ecb6a87ac,c91d85ca78589a814e295753b04fe81ecb6a87ac,"Fix scenario where sass files were not being built

Added additional test logic to ensure that the css files are getting deployed to
the final debian package."
msheiny,2017-05-23 18:36:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9a9142d6561b1f32ebd2d8089536f3f939d39247,9a9142d6561b1f32ebd2d8089536f3f939d39247,Make func to run against build docker instance
thisisparker,2017-05-26 20:06:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e43ce1d4a72e4510240e788a44cc2e42c0dc26f,6e43ce1d4a72e4510240e788a44cc2e42c0dc26f,Updated Source Guide to match style guide on bolded interface elements
thisisparker,2017-05-26 19:26:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a9daf2e2b6f72784d5c6756b9d2edfabd633ee0,3a9daf2e2b6f72784d5c6756b9d2edfabd633ee0,Changed link for  to the Terminology page
thisisparker,2017-05-26 18:59:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6b367e6c88302702309cd59346925d5619e47bc6,6b367e6c88302702309cd59346925d5619e47bc6,Updated Terminology page for clarity and to add description of Journalist and Source roles
redshiftzero,2017-05-26 02:59:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58aa0722a2deed81c835c14966461243b091eceb,58aa0722a2deed81c835c14966461243b091eceb,"Merge pull request #1733 from freedomofpress/fix-reminder-about-build-machine

Fixes dev reminder about build VM in staging env"
redshiftzero,2017-05-25 16:29:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/623f1b689b5fb9dfc7d2f67d32586f166f0d3534,623f1b689b5fb9dfc7d2f67d32586f166f0d3534,"Merge pull request #1732 from freedomofpress/document-required-rsync-version-for-macos

Document the need to upgrade rsync on macOS"
garrettr,2017-05-25 07:10:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cf7eed72fbf21745eae3a2db1fd4ae99a850e6a8,cf7eed72fbf21745eae3a2db1fd4ae99a850e6a8,Document the need to upgrade rsync on macOS
conorsch,2017-05-25 00:43:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c4575465451aa68cd9e17604890017b9b900daf1,c4575465451aa68cd9e17604890017b9b900daf1,"Fixes dev reminder about build VM in staging env

The switch from Ansible v1 to v2 broke the helpful message instructing
developers to up the build VM prior to provisioning the staging
machines. The play targeting localhost to inspect the available machines
was simply being skipped. The solution turns out to be extending the
`--limit` argument as specified in the Vagrantfile from ""all"" to
""all,localhost"". Credit to a helpful blogger [0] for sussing out that
the issue was Vagrant-specific.

Also removed a trailing newline on the message itself, simply to clean
it up a bit, since the default output includes a literal '\n'.

Fixes #1706.

[0] http://blog.indrek.io/articles/ansible-skipping-localhost-when-using-vagrant/"
conorsch,2017-05-25 00:52:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/49b8fb8793a7f5ec755d04dc98d04037b7ec9697,49b8fb8793a7f5ec755d04dc98d04037b7ec9697,"Merge pull request #1707 from freedomofpress/gracefully-restart-tor-service

Safely reload tor service when connecting over Tor"
conorsch,2017-05-12 19:22:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/881ba361ab63b1d2dd858b990ca9b2a53ac2ec30,881ba361ab63b1d2dd858b990ca9b2a53ac2ec30,"Creates intelligent handler for bouncing tor

If we restart the tor service during a playbook run that's connected
over Tor, the playbook will immediately fail. Any changes to the torrc
will notify the ""restart tor"" handler, and currently the *only* time
that won't break is during the very first playbook run, at install time.

Let's make the handler notification smarter, and if we're connected over
Tor, we'll bounce the service async (via fire-and-forget), then wait 90
seconds until trying to connect again. Normally we could use
local_action/wait_for to wait _up to_ 300 seconds or so, and continue
execution if the port opens within a smaller time interval, e.g. 90
seconds; but unfortunately the wait_for module is not smart enough to
build the socket query based on extra connection info such as is
required for routing the connection over Tor. Therefore we're stuck with
a hardcoded wait time."
msheiny,2017-05-23 14:07:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f8d14a2ee1f41d0554db3e7c3f5d811fff10d94,7f8d14a2ee1f41d0554db3e7c3f5d811fff10d94,"Merge pull request #1700 from freedomofpress/fix-reboot-and-wait-for

Fixes reboot-and-wait-for strategy across all platforms"
redshiftzero,2017-05-13 00:05:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef1eed8ccf440ac0c52e8e145dddeb32a7a778d3,ef1eed8ccf440ac0c52e8e145dddeb32a7a778d3,"Add default value for CI_SD_ENV to environment in test_app_iptables_rules

If we don't set this to be ""staging"" locally, it is defined as None
and the Jinja2 file will not be found."
conorsch,2017-05-22 23:29:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b03942e9f3f380c1271be23adb4844fbaf2cbf1,3b03942e9f3f380c1271be23adb4844fbaf2cbf1,"Merge pull request #1705 from freedomofpress/get-ansible-2-working-on-osx

Add note to dev docs about max file limit on OS X"
conorsch,2017-05-10 23:47:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b450c0adc7db55ad34d1d10bf99b865ef2876a1,3b450c0adc7db55ad34d1d10bf99b865ef2876a1,"Uses reboot handler in grsecurity role

Notifies the ""reboot"" handler that is exposed via the common role, since
the grsecurity role is included in the same play. Note that this makes
the play logic brittle: moving the grsecurity role to a separate play
will cause breakage. Fortunately our config tests will catch that, and
down the road relying more heavily on upstream will obviate much of the
need for custom logic such as this."
conorsch,2017-05-10 23:41:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e01de600785830080c111d8727ca763c08beddda,e01de600785830080c111d8727ca763c08beddda,"Uses reboot handler in apt-upgrade logic

Modifies the common role's apt-upgrade logic to notify the ""reboot""
handler, which is included via the ""handlers"" role. One unwanted
side-effect of this reorg is that the ""restart tor"" handler fires AFTER
the reboot handler; which is not good."
conorsch,2017-05-10 23:16:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20ab2a4038c681f53923cb471aa1c593ca8e6c3e,20ab2a4038c681f53923cb471aa1c593ca8e6c3e,"Creates handler for reboot-and-wait-for

In pursuit of a DRY config, let's declare one handler for reboots and
use that where necessary to reboot (and wait for host to come back up)
via the same consistent logic. The handler is declared once within the
""common"" role, and is therefore available to all roles within the same
play.

The catch, then, is that any attempts to reference the handler from
within other (subsequent) plays will fail. That's a bit brittle, but
long-term we should rely more heavily on upstream to avoid managing
custom logic for simple provisioning tasks."
conorsch,2017-05-22 22:43:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8c45cad7f6f9375727eafe419bc13f6d027952dc,8c45cad7f6f9375727eafe419bc13f6d027952dc,"Merge pull request #1723 from freedomofpress/LocalRsyncFixes

Local rsync fixes"
redshiftzero,2017-05-12 21:47:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9c55b3ca80ff6bcc43e817b8757d32e381a7d718,9c55b3ca80ff6bcc43e817b8757d32e381a7d718,"Add instructions that Mac devs will hit with the staging environment

While trying to run the staging environment on Mac OS X with Ansible
2, one can run into errors due to changes [0] to how file handles
are used to manage forks in Ansible 2 and the fact that by default
Macs have a very low number of max open files (for me it was 256).

This adds a brief note describing how to increase the limit
without disabling System Integrity Protection which many
guides [1] suggest. I'm happy to remove this once the issue is
resolved or if there is a better guide elsewhere we can link to.
Until then given the number of developers that use Mac OS X, we should
probably include some guidance.

[0] https://docs.ansible.com/ansible/intro_installation.html#control-machine-requirements
[1] https://blog.dekstroza.io/ulimit-shenanigans-on-osx-el-capitan/"
redshiftzero,2017-05-22 22:30:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/29a47ca28eef07f5dd5095b18c868c1e744a7c1b,29a47ca28eef07f5dd5095b18c868c1e744a7c1b,"Merge pull request #1725 from freedomofpress/update-dev-docs-re-testing

Update developer docs on tests"
conorsch,2017-05-22 21:59:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de00666c3216352caa0443a65677cf34c20977f9,de00666c3216352caa0443a65677cf34c20977f9,"Adjusts header level on app tests dev docs

The use of ""==="" caused the new section ""Updating the Application Tests""
to be listed in the docs navbar, which isn't what we want. Using ""---""
to specify the header level appropriately tests the section within the
existing doc file."
redshiftzero,2017-05-22 21:36:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/118c874b45c870f2a4f2c966b4220381f3eb0072,118c874b45c870f2a4f2c966b4220381f3eb0072,Flesh out description of application tests
redshiftzero,2017-05-22 21:09:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fdc50d10476f3ed92439b2f85a66e22e048d10ff,fdc50d10476f3ed92439b2f85a66e22e048d10ff,Add a note that you need to up the build VM before staging
msheiny,2017-05-22 20:49:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/56141b0b182de0702bb391bf1d81b13e8cda7e31,56141b0b182de0702bb391bf1d81b13e8cda7e31,"Peg ansible to 2.2.1

This is a solution to sync up the team on a single ansible version
until a technical solution and documentation is proposed for ticket #1146"
redshiftzero,2017-05-22 20:10:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c8e561e8e858c2fe0f3437fa98588d176cfa722,0c8e561e8e858c2fe0f3437fa98588d176cfa722,Move OTP reuse code to Journalist.login
redshiftzero,2017-05-10 00:43:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf1007dae9e551f63876a2dd3b9a899a5325808b,bf1007dae9e551f63876a2dd3b9a899a5325808b,"Add unit test for /account/2fa BadTokenException handling

And some improvements from code review"
redshiftzero,2017-05-10 00:43:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d41ce0d917081630ea4e23e3d56f74cacec776d5,d41ce0d917081630ea4e23e3d56f74cacec776d5,Add BadTokenException handling to /account/2fa
redshiftzero,2017-05-08 21:47:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4922ee346983d282a20cc8ee1ab21d9bbace4d87,4922ee346983d282a20cc8ee1ab21d9bbace4d87,"Catch BadTokenException on /admin/2fa

Defect #1687"
redshiftzero,2017-05-08 21:25:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1303d7e598a14960948fcee0e1324daf31237f88,1303d7e598a14960948fcee0e1324daf31237f88,Add 2FA unit test to reproduce bug in ticket #1687
redshiftzero,2017-05-08 21:17:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b23ef92412fcd8087e0c7a9f90fa6f6385b85e6,7b23ef92412fcd8087e0c7a9f90fa6f6385b85e6,"Use of last token should always throw BadTokenException

Even if the login hardening is turned off, as it is in the
current test suite"
msheiny,2017-05-22 19:48:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3fbba6a34456a6fda55b5b74325e57d6f54cac78,3fbba6a34456a6fda55b5b74325e57d6f54cac78,"Fix #1722 - Cleanup accidental over-write of testinfra vars

These static IPs in the yaml files for testinfra were utilized for local vagrant
testing and broke that when they were accidentally committed to source."
msheiny,2017-05-22 19:46:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f3e0eb26fe6a53e6963102d7cca5f9c7ac50ec2b,f3e0eb26fe6a53e6963102d7cca5f9c7ac50ec2b,Remove previous ansible v1 hack.
msheiny,2017-05-22 19:45:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec65a090d27edcee73fa69204dbad08a0d5d8b5a,ec65a090d27edcee73fa69204dbad08a0d5d8b5a,"Fix synchronize.py to pass in rsync path for become

This needed to be double quoted so when its injected to the
command-line its not parsed as a separate argument."
msheiny,2017-05-22 17:47:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a67210ae165e01df4c8b1740ada064110a400dc,6a67210ae165e01df4c8b1740ada064110a400dc,"Merge pull request #1721 from freedomofpress/FixCircleCI-TestAnalysis

Specify junit test path for CircleCI"
msheiny,2017-05-22 16:02:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5d00d9ce3bba1edc38b0720cd17707a45f5adf21,5d00d9ce3bba1edc38b0720cd17707a45f5adf21,"Add 200 seconds to reboot timeout task

Since lowering the EC2 sizes, it takes longer to reboot. Lets bump the timeout
accordingly."
msheiny,2017-05-22 15:04:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90215c346635bdd1293fe69e74001184f1c9c57f,90215c346635bdd1293fe69e74001184f1c9c57f,"Specify junit test path for CircleCI

Doing this will show parsed test results in the CircleCI web UI."
redshiftzero,2017-05-20 00:07:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/676e39ae461e35b31ce5ad0e840d2f0ed0ec6887,676e39ae461e35b31ce5ad0e840d2f0ed0ec6887,"Merge pull request #1719 from freedomofpress/test-request-limit-size-on-ji

Test request limit size on JI"
redshiftzero,2017-05-19 21:00:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/55c5fee9347e55ca9b29c7a8cc74949c8132631a,55c5fee9347e55ca9b29c7a8cc74949c8132631a,Wrap text to 79 characters
redshiftzero,2017-05-11 23:01:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9dbc13d73eb67618b48676061c98d19bd872ac6,d9dbc13d73eb67618b48676061c98d19bd872ac6,Minor grammar edit in Tails 2 -> Tails 3 upgrade instructions
redshiftzero,2017-05-11 01:52:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c7928de8a6aab02820964f5605758d237e32654,0c7928de8a6aab02820964f5605758d237e32654,Update SecureDrop submission key generation for Tails 3.0
redshiftzero,2017-05-19 20:04:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2711d006fb57704366b8aef5122120d4d4474e56,2711d006fb57704366b8aef5122120d4d4474e56,"Merge pull request #1695 from freedomofpress/dtd-transfer-device-0.4

Update Data Transfer Device docs for Tails 3.0 / SecureDrop 0.4"
redshiftzero,2017-05-09 19:40:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b067a2c5580c5962216534324d128bd8950f99ba,b067a2c5580c5962216534324d128bd8950f99ba,Add Tails version to the DTD docs
redshiftzero,2017-05-09 18:22:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb2a6b48276b10f3d64775a320a50e67db2027e7,cb2a6b48276b10f3d64775a320a50e67db2027e7,Add documentation on setting up a Data Transfer Device on Tails 3.0
redshiftzero,2017-05-18 21:20:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fdc4566e445ccaf2c8e13d7b6459fa1a19221372,fdc4566e445ccaf2c8e13d7b6459fa1a19221372,"Replace confusing ""Learn how to disable it"" text on landing bar

This landing bar used to tell the source to disable JavaScript.
However once Tor Browser introduced its security slider, we started
telling sources to turn that slider to high instead.
Unfortunately we forgot to update the text on this link."
msheiny,2017-05-17 22:47:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da14ef568fadf062ef78af10c6281bf9f384a280,da14ef568fadf062ef78af10c6281bf9f384a280,"Merge pull request #1709 from freedomofpress/INFRA-384-AWSCosts2High

INFRA-384 - These AWS Costs are too dang high!!"
msheiny,2017-05-17 20:49:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/48db3f57528e69a3e7cbe2e337cec114192d54ef,48db3f57528e69a3e7cbe2e337cec114192d54ef,"Tweak ugly circleCI 2.0 hack pathing

Previously behavior I was seeing doesnt seem to be happening anymore. Maybe I
overlooked something or hit a weird CircleCI 2 bug?"
msheiny,2017-05-17 20:46:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/840f473af7a4342a346434867f72bec7323c9fdf,840f473af7a4342a346434867f72bec7323c9fdf,Lint devops shellscripts using shellcheck
msheiny,2017-05-17 19:58:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f1da6e48974a0ea1873f6f51099481dfc07c3df6,f1da6e48974a0ea1873f6f51099481dfc07c3df6,"Add CI helper script to setup local env

It is sometimes annoying to remember all the environment variables that need to
be added to make local CI testing work. This throws them in a friendly helper
script with prompts. The only friendly default not available is for the VPC ID
but if you already have that set it will try to re-import the previously set one
as a default choice."
msheiny,2017-05-17 19:50:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9b6ad5691e24efd9b7a3e127c941dc3cc3fe672,d9b6ad5691e24efd9b7a3e127c941dc3cc3fe672,"Fix CI scripts to run locally again

One of the hacks I put in place to correct for CircleCI 2.0 bug made it
impossible to successfully build CI locally using the previously provided
directives. This adds a conditional to work in CI and also respect a pre-set
BUILD_NUM environment that is already sourced."
msheiny,2017-05-17 12:32:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c3b27fd5234abea80c6cd9401c83e7eda9ce6209,c3b27fd5234abea80c6cd9401c83e7eda9ce6209,"Added the CI image used in CircleCI for tracking

This is the configuration for the docker image used under CircleCI 2.0.
Specifically, this is the image that circle pulls in and runs all commands from.
It was important this image has basic python tooling, git, and docker. What
happens is that in this environment, the code is cloned down and then a remote
docker environment is setup and all future docker commands are run against that
other docker instance. Basically - docker calls to a remote docker instance
from inside a docker image. Hoorayy!!"
msheiny,2017-05-16 21:05:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38744767221fd4044303ed34097057c5120aafd3,38744767221fd4044303ed34097057c5120aafd3,"TEST_REPORTS variable is not getting evaluated

Running into a quirky issue regarding TEST_REPORT location in CircleCI 2.0.
Lets detect it and work-around it if encountered."
msheiny,2017-05-16 19:40:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2247bc0d7a14295f2efa1947a1d67dee06d6c67b,2247bc0d7a14295f2efa1947a1d67dee06d6c67b,"Shake out remaining root user issues in CircleCI2

In circleCI 2.0 we are now working under a docker image that runs as root. This is
problematic because we are unable to SSH as the root user to the default AWS
AMI, so lets ensure we switch to utilize the default ubuntu user instead."
msheiny,2017-05-16 19:14:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/60becdcc8551d0af2c17964f23aeb4803d71ddb1,60becdcc8551d0af2c17964f23aeb4803d71ddb1,"build_num not being propogated to CI teardown

Something is quirky with CircleCI 2.0 need to go back and in ensure we are
injecting the build_num into each portion of the spinup/teardown process.
Suppose this makes things more resilient :|"
msheiny,2017-05-15 21:04:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/232431eb9696f16126a57aa800049fdee755b766,232431eb9696f16126a57aa800049fdee755b766,"Ensure root not used for AWS ec2 instances

In particular the stock Trusty image throws a warning by default when
you attempt to login through the root user. This issue only came up when
we moved to circleci 2.0 and started building under docker."
msheiny,2017-05-15 21:02:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c094f236818ee3ff9bdaba792e0d71dc747d043,0c094f236818ee3ff9bdaba792e0d71dc747d043,"Bump timeouts for CI spin-up and shut-down tasks

Bumping the EC2 type down requires longer wait-times. The goal is saving money
here people! Let's start waiting!"
msheiny,2017-05-15 19:32:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac5e4f594dac94e87c9ff14f47a7540ee75834b9,ac5e4f594dac94e87c9ff14f47a7540ee75834b9,"Transition to Circle CI 2.0 config

This is needed for the advanced docker logic introduced for the debian build
packages."
msheiny,2017-05-15 18:48:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/204794f8cbebfb11f59d1c1517e41d803bc7b8c4,204794f8cbebfb11f59d1c1517e41d803bc7b8c4,"Pull in syncronize module from ansible `devel`

The version under ansible <2.3 wasnt compatible with docker so I had
to pull from upstream until we decide to utilize ansible 2.3 in SD. One tweak

I had to make locally was on line 400-404, needed to make sure the --rsh flag
was surrounded by two levels of quotes (""'). I didnt have time to debug this
behavior as it seems it was intentionally removed from upstream in a recent
commit. Might need to debug this when we decide to rip this fork out in the
future."
msheiny,2017-05-15 18:46:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4714f453218a10df0214692d6a0577bccf80c85b,4714f453218a10df0214692d6a0577bccf80c85b,"Tweaks to playbooks for docker compatibility

Particularly, two things were needed related to rsync:
* skip using ssh arguments
* skip ansible v1 compatible logic for defining rsync binary location"
msheiny,2017-05-15 18:20:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe30e30c19485216ba6c211034a7cc53bb10d56f,fe30e30c19485216ba6c211034a7cc53bb10d56f,"Point BUILD CI vm to docker

This main impetus behind this push was to cut costs of AWS builds. Having one
less builder in EC2 means we can hopefully cut 1/3 the costs."
msheiny,2017-05-15 18:18:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c9285f9f6d1b127a487c15d53a2e68c3d18ff5a4,c9285f9f6d1b127a487c15d53a2e68c3d18ff5a4,Docker python module necessary for CI
msheiny,2017-05-16 18:49:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/616dada05951c7cb16da55941f673ddba69c27af,616dada05951c7cb16da55941f673ddba69c27af,"Merge pull request #1703 from freedomofpress/INFRA-378-CITeardown

Infra-378 CI teardown"
msheiny,2017-05-16 15:34:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5e276f0cd6f6f109d3db27745e6684465e8bd2c5,5e276f0cd6f6f109d3db27745e6684465e8bd2c5,"Tweaks for reboot tasks under CI

For some reason reboot logic stopped working in CI when rebased on latest develop.
Git history shows some changes to try to address broken vagrant. Im reverting to previous
CI host targeting behavior but only on a conditional status."
msheiny,2017-05-12 12:45:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b72d9fcec06d4fd2e5c5531bdb6fb3a3c837e23,5b72d9fcec06d4fd2e5c5531bdb6fb3a3c837e23,"Revert ""REVERTME - Force failed test in CI""

Backs out temporary change to force CI to fail. This was for demonstration
during a PR. This is the only reason im keeping this commit in place."
msheiny,2017-05-12 11:46:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/daa1a5d984f5a9ec1670ba06bfb6753b60d702d3,daa1a5d984f5a9ec1670ba06bfb6753b60d702d3,REVERTME - Force failed test in CI
msheiny,2017-05-11 21:28:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/06f6247a67c91c2204642bc5714e689156de41d8,06f6247a67c91c2204642bc5714e689156de41d8,"Ensure exit trap gets run under CI tests

Shaking out an issue that tear-down was not occuring when tests in CI fail."
redshiftzero,2017-05-09 23:39:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe715bb784326a661b14d01e02189074228e7c13,fe715bb784326a661b14d01e02189074228e7c13,Add unit test to check duplicate username error is handled in manage.py
redshiftzero,2017-05-09 22:08:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d8734a970be9638962e71f8670ef91b66f1770d9,d8734a970be9638962e71f8670ef91b66f1770d9,"Fix exception handling on duplicate username in manage.py

There were two code blocks handling the duplicate username case.

This commit removes the one that added another database query. It
fixes the exception handling when the administrator tries to add
a journalist with the same username as an existing journalist."
redshiftzero,2017-05-08 23:20:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/32a768be30bf0f4a5ac61ddc1e1365ebe674493e,32a768be30bf0f4a5ac61ddc1e1365ebe674493e,"Fix defect #1693: Unhandled IntegrityError on /admin/add

This fixes an unhandled IntegrityError produced when an admin
tried to make an account with the same username as an existing
user. Caught during QA"
redshiftzero,2017-05-08 23:04:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/75d86696e2e7e4c360b94d9d9dca0e36fe659c9e,75d86696e2e7e4c360b94d9d9dca0e36fe659c9e,"Regression test for defect #1693

IntegrityError on /admin/add when duplicate username in use"
redshiftzero,2017-05-12 19:03:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a98cf85d5b82e1da0e8f4c1182061f72365102d2,a98cf85d5b82e1da0e8f4c1182061f72365102d2,"Merge pull request #1702 from freedomofpress/doc-content-changes

Minor content changes/corrections."
justintroutman,2017-05-12 03:01:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/857be5552b2c7856a1dcc57d3c81ff845bcf3cdd,857be5552b2c7856a1dcc57d3c81ff845bcf3cdd,Spelling corrections.
justintroutman,2017-05-12 01:08:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc22a2e3c1e3c739df5858e36f36b5fe904f52d8,bc22a2e3c1e3c739df5858e36f36b5fe904f52d8,Brokend/updated URL change.
justintroutman,2017-04-13 01:54:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe8529149a380ad024fa58d707ed7fd60305dbc4,fe8529149a380ad024fa58d707ed7fd60305dbc4,Minor content change.
edenemmanuel,2017-05-11 21:36:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be75472ff041af28fdbf70cd267c34fe1f69a568,be75472ff041af28fdbf70cd267c34fe1f69a568,"Merge pull request #1688 from freedomofpress/tails-2x-to-3x-upgrade

Add instructions how to upgrade from Tails 2.x to Tails 3.x"
edenemmanuel,2017-05-11 21:20:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8237c32597ea164a028c39b433bd47ee7abaf61d,8237c32597ea164a028c39b433bd47ee7abaf61d,Merge branch 'develop' into tails-2x-to-3x-upgrade
conorsch,2017-05-11 18:27:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ca8140963a94736949e1b16bd99d84ba278a960,6ca8140963a94736949e1b16bd99d84ba278a960,"Merge pull request #1679 from freedomofpress/validate-gpg-fingerprints

Adds error handling to OSSEC encrypted email script"
conorsch,2017-05-10 18:15:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/666f11fac726b5057657e432c3cce4d700cf65d3,666f11fac726b5057657e432c3cce4d700cf65d3,"Merge pull request #1696 from freedomofpress/update-developer-docs-for-0.4-part-3

Update developer docs for 0.4 (Part 3)"
conorsch,2017-05-10 16:28:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3cfc8189c27b9f3aa9271dc469db5a811e31bb23,3cfc8189c27b9f3aa9271dc469db5a811e31bb23,"Uses lowercase machine names for consistency

Pointed out by @redshiftzero during review. Grepped through the rest of
the docs and looks like they're already quite consistent, so my error
was definitely remarkable. Added an arguably unnecessary note to the
style guide in the interest of being explicit about expectations."
conorsch,2017-05-10 16:20:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dcba0fea3565db13304122cdcd24303bbc25de1e,dcba0fea3565db13304122cdcd24303bbc25de1e,"Fixes typos in testing overview in dev docs

Pointed out by @redshiftzero during review."
conorsch,2017-05-09 22:05:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ac5e02f4842df7afa63b9ed0be03a84f03afea9,2ac5e02f4842df7afa63b9ed0be03a84f03afea9,"Adds `help` subcommand to Makefile

Intuitively developers often expect `make help` to display a list of
possible commands; let's reward that curiosity with a simple explanation
of what the various commands do.

Also provides a form of self-documentation in that we can simply
copy/paste the help output for use in the developer docs."
conorsch,2017-05-09 18:15:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2018a3bcc5333e946161a44da5534a1858c436bc,2018a3bcc5333e946161a44da5534a1858c436bc,"Adds docs for CI pipeline to developer documentation

Provides explanation of the various CI environments:

  * Travis
  * CircleCI

and what-all is handled by each. We can't expect external contributors
to configure an AWS setup that's useful for running the CI pipeline, but
those docs should still be useful for future FPF Admins and core staff
who may need to run the CI playbooks locally, e.g. for troubleshooting,
or possibly due to lack of full VM support in Vagrant, e.g. under Qubes."
conorsch,2017-05-09 17:49:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/daf46de8b11867547ccc21f2d6bd37968ba63cb3,daf46de8b11867547ccc21f2d6bd37968ba63cb3,"Breaks up testing docs across multiple files

Keeping the files short enough to be readable is important to creating
engaging docs. Let's leverage the auto pagination provided by Sphinx,
and split up the Dev Docs testing section into:

  * app tests
  * config tests
  * CI (not yet written)

That should lay out all the details for both core engineers and external
contributors."
conorsch,2017-05-09 00:12:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a4ab2bf929a9f30168ce15651df1298e00d37dd5,a4ab2bf929a9f30168ce15651df1298e00d37dd5,"Adds docs on running the app tests

We make brief mention of the `pytest tests/` command in the virtual
environments docs, but it's required fare for inclusion in the docs on
the app tests themselves.

Aside: the testing docs are likely best split up over multiple pages,
since this is a very long page already."
conorsch,2017-05-08 22:53:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ef70c708761c0a08cd5e14e81a11bcb24f09819,6ef70c708761c0a08cd5e14e81a11bcb24f09819,"Cross-links updating pip dependencies with test docs

Developers on the project will need to know how to edit the application
test suite, and rationally can be expected to check the app test docs
for information on doing so. The current right answer is tucked away in
""tips & tricks,"" which placement should be reconsidered for a variety of
reasons, so let's cross-link to that doc so we still have DRY updates."
conorsch,2017-05-08 22:41:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/73b77b972346ecd70753316a35138669a51e5e5c,73b77b972346ecd70753316a35138669a51e5e5c,"Adds docs for Application Tests to dev docs

Very little information is currently provided in the developer
documentation about how to run the application tests (via pytest).
Let's provide a high-level overview so we have a single document to
point to for explaining how everything fits together."
conorsch,2017-05-05 17:57:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/062a2c1870fc39141d46e58b580d0d01cbf87f69,062a2c1870fc39141d46e58b580d0d01cbf87f69,"Converts Config test cross-link to ref

Was a `doc` include, which only works if the document is its own file on
disk, which it no longer is; updated to use a ref, which can point to a
specific portion within a given document."
conorsch,2017-05-05 17:51:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68e9388ff4db978589cca1e5e1d8a036cd9c3f91,68e9388ff4db978589cca1e5e1d8a036cd9c3f91,"Fixes docs ref to SSH over Tor settings

The addition of the `pip_update.sh` script to the developer docs broke
the Sphinx `ref` to SSH over Tor settings. This was missed during review
of #1674. A simple fix: simply move the ref declaration below the
pip_update.sh block, so it again correctly points to the SSH over Tor
docs."
conorsch,2017-05-04 23:02:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/53aae108f1e6f293c57f0ce7ba27aa2aef84cbe6,53aae108f1e6f293c57f0ce7ba27aa2aef84cbe6,Fixes typos in Config Tests
conorsch,2017-05-04 23:01:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e1b223767396bac002f313fd223be0f36f40351,1e1b223767396bac002f313fd223be0f36f40351,"Reformats dev docs on testing

Makes the ""Configuration Tests"" a section, rather than the top-level
heading."
conorsch,2017-05-04 19:53:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17cb82ee99e4d17a0a8639096ddb072b8b58b1fe,17cb82ee99e4d17a0a8639096ddb072b8b58b1fe,"Renames ""testing"" documentation

Rather than specifically focusing on the config tests (testinfra), let's
give an overview of the general testing story, including application
tests."
conorsch,2017-05-04 22:28:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17b9642c760650888647ac153c87361bca2c7f04,17b9642c760650888647ac153c87361bca2c7f04,"Removes SnapCI logic throughout site config

The attempted Snap CI integration (never completed) included Ansible
logic to provision the CI worker as an Ansible controller capable of
connection to Production hosts (app-prod and mon-prod). Since Snap CI no
longer exists, and we've more recently implemented EC2-based staging
tests in CI, we can clean up the old role logic and playbook.

Also along for the ride was a Vagrnat VM called `snapci` that was
designed to permit CI-like remote testing triggered from developer
workstations. That too can now safely be removed.

Last, the `.gitignore` file contained some exemptions for files that
should not exist, specific to maintaining secrets for the old
SnapCI/DigitalOcean setup."
conorsch,2017-05-04 22:25:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/11658a55cad7573936ec348f3c0dbce6bac72599,11658a55cad7573936ec348f3c0dbce6bac72599,"Removes mention of DigitalOcean for testing

In days of yore, we spent some time trying to wire up automated CI tests
for the staging environment in ThoughtWorks's SnapCI platform, using
DigitalOcean as a backend cloud provider for provising the staging
hosts. That work was never merged, and developers do not currently use
the `vagrant-digitalocean` plugin any longer, so it's safe to remove the
relevant config lines from the Vagrantfile."
redshiftzero,2017-05-04 00:48:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d617ff5045cb4c949b261b5bf363ce5912ad0f4e,d617ff5045cb4c949b261b5bf363ce5912ad0f4e,Add instructions how to upgrade from Tails 2.x to Tails 3.x
conorsch,2017-05-05 18:11:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b5491fa7c88f9b6b4eff68b3da8c6db932f718f,5b5491fa7c88f9b6b4eff68b3da8c6db932f718f,"Merge pull request #1686 from freedomofpress/update-developer-docs-for-0.4-part-2

Update developer docs for 0.4 part 2"
conorsch,2017-05-04 21:41:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a26dea992573d296cb8424d6a5a3a5ce5d248e07,a26dea992573d296cb8424d6a5a3a5ce5d248e07,"Adds tiny SecureDrop logo to documentation navbar

Purely a cosmetic change. A more vigilant developer would resize this
image so it's just right, but including the existing PNG favicon file
from the app code static assets is ""good enough"", and does improve the
experience of navigating the docs."
conorsch,2017-05-04 20:13:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a02614fcafcce4eae4c4cf0bbdb835cf6266c6d9,a02614fcafcce4eae4c4cf0bbdb835cf6266c6d9,"Update dev docs with Makefile commands for docs

Rather than copy/paste a chained command from the docs, let's instead
instruct developers to run a simple (and memorizable) `make docs`.
Also added mention of the `make docs-lint` command, which runs in CI."
conorsch,2017-05-04 19:56:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1afad5d801a3acd41414c8c66501ab28d54d8157,1afad5d801a3acd41414c8c66501ab28d54d8157,"Uses docs-lint Makefile command in Travis CI

One command to rule them all! Don't memorize convoluted directory hops
and sphinx-autobuild commands with arcane flags for generating warnings."
conorsch,2017-05-04 19:02:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cac3b2b38fd6babc7d1496344bc24c791a4fc079,cac3b2b38fd6babc7d1496344bc24c791a4fc079,"Adds `docs` command to Makefile

Want to work on the documentation? Run `make docs`! It'll spin up the
livereload environment and display the localhost address you can paste
in your browser. The livereload server blocks, so you'll need to ctrl+c
out of the terminal when you're finished."
conorsch,2017-05-04 18:55:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf6ddd249dbbe84e855d1bd426b8d0f8cd9277f9,bf6ddd249dbbe84e855d1bd426b8d0f8cd9277f9,"Adds `docs-lint` command to Makefile

Now linting the docs is as simple as running `make docs-lint`!
Developers can use this locally, and we'll also use it in CI.
In the spirit of linting, warnings will be turned into errors."
conorsch,2017-05-04 19:14:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15ee036ec820489f059133f27eeaa56323d723f8,15ee036ec820489f059133f27eeaa56323d723f8,"Lints the Travis config YAML file (line lengths)

Some folks might not like these changes but they _do_ satisfy linters.
In the interest of moving the entire repository to PEP8-compatible
formatting for Python files, we should also make sure the YAML files
here are sane and readable."
conorsch,2017-05-04 19:08:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a42da7cdb570e0988aeadc02a4b0f9b2aa37cc70,a42da7cdb570e0988aeadc02a4b0f9b2aa37cc70,"Lints the Travis config YAML file

Enforces consistent whitespace throughout. Satisfies the `yamllint` CLI
tool available in the Debian repos. **There are no functional changes
here.** Only formatting."
conorsch,2017-05-04 19:03:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2b1e959d8825988567f4fe88f0cc92ac0ecccda7,2b1e959d8825988567f4fe88f0cc92ac0ecccda7,"Removes Slack notification hook from Travis config

The Slack webhook stored in the .travis.yml file was outdated, and so
hadn't been active in months. After informal polling of the SD core
team, Slack integrations for CI runs aren't particularly useful; we all
check the tests list on the GitHub PR webpage to determine pass/fail
status. That's what external contributors do, too."
conorsch,2017-05-04 20:05:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/14eda5145b4b191c9791415cc82f75adcd1ed2cd,14eda5145b4b191c9791415cc82f75adcd1ed2cd,"Merge pull request #1685 from freedomofpress/update-developer-docs-for-0.4

Update developer docs for 0.4 (Part 1)"
conorsch,2017-05-04 17:48:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd7b0b31abde9b75228caac2a2d129619d0d4027,bd7b0b31abde9b75228caac2a2d129619d0d4027,"Updates docs style guide with codeblock examples

Long story short, make sure commands can be copied and pasted easily,
but it's OK to violate that rule by prepending `$` for clarity's sake in
a full terminal session, with text printed to stdout inlined in the
block."
conorsch,2017-05-04 17:33:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c9ccc20e3f00742f8b456d328002f012bf76a643,c9ccc20e3f00742f8b456d328002f012bf76a643,"Updates copyright year in documentation

We initially converted the docs from Markdown to Sphinx/ReadtheDocs in
2015, and that date was still in place. Hardcoded the update to 2017."
conorsch,2017-05-04 16:58:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2e09e244f303ab2757959e12129ed5ae0d6e591e,2e09e244f303ab2757959e12129ed5ae0d6e591e,"Makes all codeblocks copy/pasteable throughout docs

Removing the prepended `$` shell prompt indicator from codeblocks
throughout, so that commands are easily copy/pasteable. Adopting this
recommendation from community standards [0], hoping to make the docs
more consistent with other projects, and most importantly intuitive.

Have some concerns with examples of terminal sessions, meaning both
commands to type in and text printed to stdout are displayed; it seems
most explicitly to preserve the `$` indicators there.

[0] https://datamade.us/blog/better-living-through-documentation"
conorsch,2017-05-04 01:04:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68ced3a47751f5358d068b2d4aa4301510b73b55,68ced3a47751f5358d068b2d4aa4301510b73b55,"Updates dev docs to use new requirements file

Keeping it simple: let's point to a specific requirements file
in all contexts where developers should install pip dependencies.
There's a lot of non-DRY copypasta here; it would be better to use
`include` directives to provide a single point of update."
conorsch,2017-05-04 00:55:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a74706569d89a45c3bd7e44c7db81e5d8562aca,6a74706569d89a45c3bd7e44c7db81e5d8562aca,"Creates developer-centric requirements file

Installs the essentials for working on SecureDrop:

  * Ansible (provisioning)
  * Testinfra (testing configuration)
  * Sphinx (documentation)

Ideally we would remove `testinfra/requirements.txt` as well, but we're
currently using that to install requirements in Travis CI as well.
Since the Travis host equates to the ""development"" VM for testing, we
cannot safely mess with the requirements files, as that'd cause the
config tests to fail. The proper long-term solution is better isolation
for the testing environments."
conorsch,2017-05-04 00:23:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/69e5020519ae895f47607b24847d1c0b3606fe83,69e5020519ae895f47607b24847d1c0b3606fe83,"Merge pull request #1666 from freedomofpress/INFRA326-CIStagingv2

Adds CI pipeline for testing staging environment on AWS"
conorsch,2017-05-02 23:28:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d4baef61c3e4e4aaf965bf2bb2f3a8f6ce06562,1d4baef61c3e4e4aaf965bf2bb2f3a8f6ce06562,"Removes conditional on build include for staging

The conditional playbook include worked fine under Ansible v1, but under
v2 the playbook include is skipped, which means that local deb packages
are *not* rebuilt for the staging environment. That should be a hard
fail. Seems like the change was caused by the var being evaluated at
the host level, so we'd need site-wide vars to set
install_local_packages=true, which is not safe, given the repo's primary
purpose as a management tool for production SecureDrop instances.

Under the staging environment, it's safe to rebuild the packages every
time: if developers want to skip rebuilding, they can leverage tags,
e.g.:

  ANSIBLE_ARGS=""--tags common"" vagrant provision /staging/

which will skip the build include."
conorsch,2017-05-03 20:08:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc2521a89172bf16d30f3473045f8d428861ee01,cc2521a89172bf16d30f3473045f8d428861ee01,"Standardizes reboot logic throughout site config

The transition of Ansible from v1 to v2 dramatically changes how the
wait_for task operates, particularly when delegated to a localhost, as
when rebooting a remote host.

Now using `ansible_ssh_host` as first value, since that's what's
hardcoded in the SecureDrop inventory files for Ansible. We'll fail over
to looking up the `inventory_hostname` as a sanity check; *not* using
the more recent `ansible_host` because that appears to map to
`localhost` when combining local_action and wait_for."
conorsch,2017-05-02 22:10:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e8cd7861cea4d258293868523918094d4d737c8,7e8cd7861cea4d258293868523918094d4d737c8,"Ensure the .webassets-cache directory exists in build role

Also required, so that the Application Server can store a local cache of
the dynamically generated assets (via Flask-Assets). This is the result
of the additive inclusion strategy discussed in #1612: the directories
will likely exist on developer workstations (assuming the ""development""
VM has been provisioned), but it won't exist in fresh clones, e.g. in
CI.

It *might* be sufficient to authorize creation of this directory in
the AppArmor profile for Apache, so the Application Server can both
create the directory and write files inside of it, in which case we can
dial down the config tests a bit. Subject to further testing."
conorsch,2017-05-02 20:35:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8fcadbcdd0d193accb73ecd709c6cac0cd92ee0,a8fcadbcdd0d193accb73ecd709c6cac0cd92ee0,"Ensures the static/gen/ directory exists in build role

The `securedrop-app-code` deb package should include the `/gen/` static
directory, and it should be empty. Previously local builds contained
this directory, but only because the directory existed locally due to
previous invocations of the Development VM. In CI, it was revealed that
we don't actually ensure the presence of this directory anywhere; we
merely assumed it would be sychronized into the Build machine."
conorsch,2017-05-02 17:36:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/391b765182451f88f701b4f58eeaacce72fa347b,391b765182451f88f701b4f58eeaacce72fa347b,"Removes EC2-specific logic from common reboot

The resolution of the target host address changed substantially between
Ansible v1 and v2, specifically in the context of local_action wait_for.
Seems that the use of `inventory_hostname` rather than `ansible_host` or
`ansible_ssh_host` is a sound strategy, and it seems to work well in
both CI (EC2) and local Vagrant VMs. Likely this is because both
environments use a custom SSH config file, so that SSH, not Ansible, can
translate the inventory_hostname into a routable IP."
conorsch,2017-05-01 20:40:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1eb98c2dd234dbe7412de943ee99bb85190bf3e0,1eb98c2dd234dbe7412de943ee99bb85190bf3e0,"Moves SASS compile tasks to separate task list

Since we're no longer building from the /vagrant mounted directory, we
need to ensure that the `securedrop/sass` directory is present for
compiling the SASS to CSS. That directory is not included in the rsync
filter file, nor should it be; let's sync it in separately, compile the
SASS, then remove the directory, so it's not included in the deb
package.

Added a config test to ensure absence of all SASS-related files from the
securedrop-app-code deb package."
conorsch,2017-04-30 20:50:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b67eea206fdafa6b13170e517e7f5c38d69867c2,b67eea206fdafa6b13170e517e7f5c38d69867c2,"Updates synchronize logic for sd app code build role

Consoldiating tasks down from the two-pass approach previously used, now
that we have the .rsync-filter strategy in place. Moves the ""build""
group_vars into the role defaults for building the `securedrop-app-code`
deb package, since it was only relevant for those packages."
conorsch,2017-05-01 19:34:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/67cb0e32321f7d1337e51cdd3cbb570c225d0764,67cb0e32321f7d1337e51cdd3cbb570c225d0764,"Updates config tests vars for sd-app-code logic

Since we're using a handful of overly specific build roles for many of
the Debian packages, we don't have a stable var structure for
determining the parent build paths. That's fine for now; the long-term
solution should be more discrete builds, e.g. within isolated
containers, leveraging a generalized build logic to ensure the packages
are consistently generated. That should set us up nicely for
deterministic builds, as well."
conorsch,2017-05-01 19:07:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3279d5613d54c88b621773f939977c93d28ea47c,3279d5613d54c88b621773f939977c93d28ea47c,"Adjusts build directory filepaths

The `build-generic-package.sh` script should be replaced with a more
durable solution. That's out of scope for the CI testing work, so
punting for now. Updated the bash script to use a nested approach for
storing the build directories, e.g. for `securedrop-keyring`:

  * /tmp/build/
  * /tmp/build/securedrop-keyring/
  * /tmp/build/securedrop-keyring/securedrop-keyring-0.1.0+0.3.12-amd64/
  * /tmp/build/securedrop-keyring/securedrop-keyring-0.1.0+0.3.12-amd64.deb

The two-pass approach is necessary because we don't have the version
strings exposed to the Ansible logic yet; we'll get to that in a future
change."
conorsch,2017-05-01 18:15:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ca886c1c1b3b3f32b3d532ae8cb8ae08183a1ca,2ca886c1c1b3b3f32b3d532ae8cb8ae08183a1ca,"Adjusts build path in generic build script

Doesn't affect the contents of the build artifacts, but does match the
pre-existing config tests for the build machine. An earlier changes for
the CI project break the build config tests, so adjusting them to get
things back in line."
conorsch,2017-05-01 17:49:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78daac8ad5a8f5a3ff2d1b368f7e23f7c2037ab3,78daac8ad5a8f5a3ff2d1b368f7e23f7c2037ab3,"Creates legacy config tests for build logic

Changes to the build paths in pursuit of staging runs in CI (on remote
EC2 hosts) broke builds for local VMs (virtualbox or libvirt). After
fixing those tests, we should ensure that regressions don't slip in,
referencing the old paths. Added a legacy test suite to the build config
to ensure these older paths are always absent."
conorsch,2017-05-01 17:37:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/199811fafa2c9ed373838350eee263367222e11a,199811fafa2c9ed373838350eee263367222e11a,"Adds `set -u` to generic build script

We were already using `set -e`, to cause the script to fail on the first
error encountered, but `set -u` catches errors that `set -e` doesn't.
There were a few examples of undeclared (or typo'd) variables:

  * `PACKAGE_NAME` in the constant declarations was misordered
  * `PACKAGENAME` in bottom of script should have been `PACKAGE_NAME`."
conorsch,2017-05-01 16:45:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5cd58c7ee2357cf58cde4b119960e869edc39ccf,5cd58c7ee2357cf58cde4b119960e869edc39ccf,"Synchronize securedrop-app-code dirs properly

The two-pass approach using rsync to filter files between src and
dests, both of which were remote, was unreliable: in particular, it
assumed presence of the /vagrant mounted directory, which isn't present
in CI. Instead let's synchronize the app-code directory just once.

In order to support use of the `--filter 'merge=<MERGE_FILE>'` strategy
via Ansible's synchronize module, we have to place the MERGE_FILE inside
the root of the src repo, named as `.rsync-filter`."
conorsch,2017-04-28 22:11:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8fdabf3de70912377aab6dcf34b4ffe27a824db8,8fdabf3de70912377aab6dcf34b4ffe27a824db8,"Runs build config tests in CI

Now that the build machine name matches the hardcoded hostname stored in
the config test suite, we can activate the testinfra tests for
validating the deb packages."
conorsch,2017-04-30 20:41:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a88acb7f279c230e0dd5b687890ced3290e8e3d,3a88acb7f279c230e0dd5b687890ced3290e8e3d,"Fixes formatting of rsync chown option

The build role was setting `--chown root:root` but the rsync manpage
stipulates the option should be passed as `--chown=root:root`. Not sure
why this wasn't failing in CI, but it did indeed fail on libvirt local
VMs, so it's definitely worth patching."
conorsch,2017-04-29 00:33:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f911c15dc44e063b4cd0e5f2ac2376803c983444,f911c15dc44e063b4cd0e5f2ac2376803c983444,"Tidies up task names in CI playbooks

Using full sentences with punctuation to match the formatting used
throughout the Ansible config elsewhere in the repo. Also made the task
names more descriptive, so it's obvious at a glance what the tasks are
doing, and why they're running."
conorsch,2017-04-28 23:54:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/84010bffcb37eb9c3e496d3331a17c8b0144bba5,84010bffcb37eb9c3e496d3331a17c8b0144bba5,"Converts `fail` task in CI playbook to `assert`

The assert module is designed for this use case, checking that a list of
conditions is true, and halting execution of the playbook if any
conditions are not met. Also added a name to the task, otherwise the
playbook skips the task named ""fail"" if all conditions are satisfied,
which is confusing."
conorsch,2017-04-28 23:51:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0ac6b848388f050367b8d03a593d32cd5c0cefb,a0ac6b848388f050367b8d03a593d32cd5c0cefb,"Removes unnecessary `block`s from CI playbooks

The block was setting two options:

  * become_user
  * localhost delegation

The become_user declaration was useless because the play specified
`become: no`. Additionally the play targeted `hosts: localhost`, making
the delegate_to logic unnecessary."
conorsch,2017-04-28 22:10:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c72e0fb892e03882385e115f37fc8b7fbc5d68ff,c72e0fb892e03882385e115f37fc8b7fbc5d68ff,"Renames CI machine `deb-builder` -> `build`

The machine name ""build"" is hardcoded in a few contexts, notably the
config test suite, for importing test vars specific to the build host.
Admittedly ""deb-builder"" is a more descriptive name, but let's stick
with what we have in order to get the build tests running in CI too."
msheiny,2017-04-28 17:49:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e5021dfaba7fcca8245edfb40a5a2c33baf9271,3e5021dfaba7fcca8245edfb40a5a2c33baf9271,Shaking out CI performance issues
msheiny,2017-04-28 15:00:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fac489fccb9b94d4b1fc073933d93652b1edc5e1,fac489fccb9b94d4b1fc073933d93652b1edc5e1,Add tear-down trap if spin-up fails
msheiny,2017-04-28 14:37:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/48989ef75ca0dbf858b5e4775075a0e14d1debc3,48989ef75ca0dbf858b5e4775075a0e14d1debc3,"Refactor ansible build-generic-pkg for CI

The package build roles assumed we would be using a local vagrant file-share to
transport and shift files around. This replaces that with synchronize and fetch
to push and pull back files - for working on remote systems."
msheiny,2017-04-27 20:55:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/350b4d793f48c6d99438fa69ba2500c8c1531c01,350b4d793f48c6d99438fa69ba2500c8c1531c01,Added Circle CI configuration
msheiny,2017-04-27 20:52:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d0456ff32f2d62ebc88766703895003fceeebbeb,d0456ff32f2d62ebc88766703895003fceeebbeb,"Testinfra CI fixes and enhancements

Did a number of things to improve and fix some testinfra issues:
* Various bugs related to string comparison that ended with newlines
* Added ability to skip GRSEC tests via environment filters
* Added script to be able to merge multiple junit.xml files together
* Moved requirements to pip-tools format
* Misc issues"
msheiny,2017-04-27 20:50:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f30f59ce91f9a78284eab3eb175c00cbb000983,8f30f59ce91f9a78284eab3eb175c00cbb000983,"Establish provisioning for staging CI tests

Utilizes AWS playbooks and some make commands to spin-up, provision,
test, and teardown an EC2 environment."
conorsch,2017-05-03 20:16:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8132cbf68fe1510f816ca5abc394cd07a4c469fa,8132cbf68fe1510f816ca5abc394cd07a4c469fa,"Merge pull request #1684 from freedomofpress/add-linting-for-docs-warnings

Adds linting for Sphinx documentation to CI"
conorsch,2017-05-03 18:40:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e0f7605f21d56e8dadd0de13f34fb871abfc53c4,e0f7605f21d56e8dadd0de13f34fb871abfc53c4,"Fixes whitespace in contributor guidelines doc

Satisfies the linter warning-cum-error:

    docs/development/contributor_guidelines.rst:20: ERROR: Unexpected
    indentation.

Adding an additional newline prior to the ordered list resolves."
conorsch,2017-05-03 18:31:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6cd98fa9208d9cfb1d96d52d0d1aa6369fac42f2,6cd98fa9208d9cfb1d96d52d0d1aa6369fac42f2,"Adds sphinx pip requirements to Travis run

The sphinx libs are required for building the sphinx-based
documentation. These libs are documented in the dev docs [0],
and are being installed separate from the other pip requirements so as
not to break the config tests that check pip dependencies in the Build
VM; which, in Travis, equates to the Travis host itself.

If the build tests pass, then we lint the docs. I'd prefer it the other
way around, where a docs linting error halts execution of the test run,
but in order to achieve that we'd need better compartmentalization of
the tests.

Also includes liberal comments. Comments are good. Use comments.
Remember that you yourself, in the past, have wished for comments.
Today is your day."
conorsch,2017-04-04 18:22:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38278149cc5038e7c01f7ee8121e3f16afe90b7a,38278149cc5038e7c01f7ee8121e3f16afe90b7a,"Disables static dir override for Sphinx docs

The Sphinx build process was emitting an error for

  WARNING: html_static_path entry
  u'/home/conor/freedomofpress/securedrop/docs/_static' does not exist

We aren't providing any CSS overrides, so let's not declare that
setting. Creating the empty directory removes the error, but better to
omit the configuration option if it's not being used."
conorsch,2017-04-04 18:17:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ee9e721a7ea52bda77ffdfb28fffb845ead94b1f,ee9e721a7ea52bda77ffdfb28fffb845ead94b1f,"Fixes duplicate docs label for troubleshooting

Both the Tails upgrade docs (to 2.x) and the OSSEC guide were using a
reference label ""troubleshooting"", and Sphinx warns about the
duplication when building the docs. Renamed both labels to be explicit,
and the warning is resolved."
conorsch,2017-05-03 18:39:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc9f858455a28ef9fecee1ab6077b7e3b749afea,fc9f858455a28ef9fecee1ab6077b7e3b749afea,"Fixes ""title underline too short"" throughout docs (formatting)

All of these changes were related to adding asterisks to the machine
names, in accordance with the style guide, and were brought in via #1654.
Such problems generate warnings (not errors) when building the docs
locally, but in CI we're going to upgrade those warnings to errors to
keep the docs clean."
conorsch,2017-04-04 18:14:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba1a5bb33cb5f3633b732d809c4337d671e2c6ff,ba1a5bb33cb5f3633b732d809c4337d671e2c6ff,"Fixes ""title underline too short"" throughout docs (renaming)

Several articles in the project documentation were throwing ""title
underline too short"" warnings. Most, but not all, of these warnings were
caused by renamings in #1395. Since we didn't have linting of docs PRs
at that time, they were merged based on content, but didn't satisfy the
best practices for Sphinx formatting, hence the warnings."
conorsch,2017-04-04 18:07:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c5209667b5dc2204ecfe10d3d4d5486e0e37285,0c5209667b5dc2204ecfe10d3d4d5486e0e37285,"Adds basic docs linting to Travis run

Let's build the docs in Travis and fail if any Sphinx warnings were
emitted. Doing so should ensure that docs changes aren't merged if they
fail to adhere to best practices with ReST formatting, e.g. title
underline too short."
redshiftzero,2017-05-03 18:56:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/36973c69edd23aa56454fa4f4a5a58e8c69850d6,36973c69edd23aa56454fa4f4a5a58e8c69850d6,"Merge pull request #1683 from freedomofpress/dev-docs-note-add-build-machine

Fixes for developer docs"
redshiftzero,2017-05-03 18:10:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7eb2ce13d329eb7bd58d1c67d6e56afe1cfcd678,7eb2ce13d329eb7bd58d1c67d6e56afe1cfcd678,Specify to bring up the build machine only (for staging VM provisioning)
redshiftzero,2017-05-03 17:41:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/66279b689dec0f155914b6c1a02bfd123cf53806,66279b689dec0f155914b6c1a02bfd123cf53806,"Remove unnecessary asterisks

The addition of asterisks around ""SVS"" in index.rst
resulted in the SVS page being removed from the documentation map"
redshiftzero,2017-05-03 17:39:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01756879979a56e0d719ad56cb079885c12e7fa6,01756879979a56e0d719ad56cb079885c12e7fa6,"Add provisioning of build machine to instructions for staging machines

Since the provisioning of the staging VMs will error out with an error
message if the build machines are not provisioned, we should include
this step in the instructions in the documentation."
conorsch,2017-04-28 18:47:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e1fe4d7aed42671d6be0d81ebe5a321bec0cf96,6e1fe4d7aed42671d6be0d81ebe5a321bec0cf96,"Permit tor upgrades during initial playbook run

First-time installs should indeed upgrade the tor package if updates are
available; otherwise we're generating ATHS values with a version of tor
known to be outdated, perhaps with known security vulnerabilities. So
let's skip marking the tor package as held if we're connecting over Tor."
conorsch,2017-04-28 18:08:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/82ed0322ed8defda38141f38cc9833932b84e7ce,82ed0322ed8defda38141f38cc9833932b84e7ce,"Prevents upgrades of tor package during playbook run

Since production installs connect to SSH over Tor, an upgrade of the
`tor` package during a playbook run will sever the SSH connection (since
the tor service is restarted via postinst during upgrade), causing the
playbook to fail. SSH over tor is slow; rerunning the playbook due to
this expected error can cause frustration for Admins, so let's plan
around it."
conorsch,2017-04-28 17:39:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b22f2e410db7ee25003e9980bcc82a8b47cdbc49,b22f2e410db7ee25003e9980bcc82a8b47cdbc49,"Moves apt upgrade tasks to dedicated task list

The apt upgrade logic isn't really part of the `cron-apt` config, so it
was misnamed already. Creating a dedicated task list opens the door for
more complex logic regarding handling of apt updates specific to tor."
conorsch,2017-04-27 22:52:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dadad7af9a361cc6c30e034d6ffde3e61bbd1da7,dadad7af9a361cc6c30e034d6ffde3e61bbd1da7,"Adds documentation of new OSSEC error message

In the event that the encryption process fails when sending OSSEC
alerts, the Monitor Server will now send a plaintext email with
a static message in it. Let's document that message verbatim in the
docs, to make it easy for Admins to find and troubleshoot independently."
conorsch,2017-04-27 20:26:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2c5945c10f1d354a92e2181f29cca08aa04c3368,2c5945c10f1d354a92e2181f29cca08aa04c3368,"Makes `send_encrypted_alarm.sh` resilient to GPG failure

If the GPG encryption process fails, the Monitor Server should still
send mail, but a sanitized message warning about the encryption failure.
No actual OSSEC alerts will be sent until the problem is fixed. This is
an improvement over the previous failure mode, in which OSSEC sent empty
emails if the encryption process errored out.

Also reorganizes the script into bash functions. Not only is it more
readable, it's required for using traps to notify Admins if the
encryption process fails.

The major disadvantage of the previous pipeline approach (meaning a
chain of commands joined by `|`) is that the mail would send regardless
of input or failure. Therefore the major contribution of the current
changes is the interative approach to preparing the message body,
validating that encryption worked, and only then sending."
conorsch,2017-04-24 23:49:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/25136251eb99ca417c760a648fcc3e1f9afdc938,25136251eb99ca417c760a648fcc3e1f9afdc938,"Strengthens GPG fingerprint validation tasks

During initial install, Admins frequently have to tweak variable values
in the `prod-specific.yml` file in order to satisfy the expectations of
Ansible template tasks used during installation. Mistyped or poorly
formatted vars can cause failure late in a playbook run, which makes for
a frustrating experience. Worse, a poorly formatted var can silently
fail, as in the case of #858.

Let's strengthen the GPG fingerprint validation logic, in a DRY manner, and
run both expected fingerprints through the same task list. Since the
`validate` role runs early in the prod playbook, failures should happen
quickly, without wasting time on successful tasks before the bad var is
encountered in a templating run."
conorsch,2017-04-27 19:20:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/098afe8b67f7b8619e94534893cc79a43ab4fc0f,098afe8b67f7b8619e94534893cc79a43ab4fc0f,"Merge pull request #1678 from freedomofpress/manage.py-aliases

Adds manage.py aliases and updates tmp dir cleaning cron job"
conorsch,2017-04-27 19:03:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/392f80ee862925a20c0c927e160bdff0023d908f,392f80ee862925a20c0c927e160bdff0023d908f,"Updates config tests for clean-tmp cron job

Since we've modified the cron job in the Ansible config, we need to
check not only for presence of the new format, but absence of the old,
to ensure that subsequent playbook runs won't created duplicated cron
jobs."
conorsch,2017-04-27 17:44:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/749e15ed943c6c44b465daa5026555c825ded8da,749e15ed943c6c44b465daa5026555c825ded8da,"Merge pull request #1668 from freedomofpress/bring-in-OSSEC-repo

Merge in OSSEC repo"
conorsch,2017-04-27 00:50:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b291059d556d6cdb11c8ab8d68eab96436cb9f69,b291059d556d6cdb11c8ab8d68eab96436cb9f69,"Sets rsync-path to sudo for synchronize task

The `synchronize` module shipped with Ansible v1 does not intelligently
handle privilege escalation with rsync 2.6.9. In order to support both
Ansible v1 and v2 (pending resolution of #1146), and both rsync v2.6.9
(macOS) and rsync v3.1.2 (Debian Stretch), let's explictly declare a
strategy for setting the sudo privileges on the rsync task.

Full discussion of this problem can be found in comments for #1668."
redshiftzero,2017-04-26 22:56:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6a190af0826b6d1193daef668ce697cfa852ed0,c6a190af0826b6d1193daef668ce697cfa852ed0,"Merge pull request #1674 from freedomofpress/developer-docs-improvements

Developer docs improvements"
redshiftzero,2017-04-26 22:55:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/189e1ee4081c8df7c1e19adecf656141b4132fbe,189e1ee4081c8df7c1e19adecf656141b4132fbe,"Merge pull request #1671 from freedomofpress/back-out-assign-src-to-journo

Remove journalist assignment"
redshiftzero,2017-04-26 22:44:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/33c20ccbd1ede0278573bbf4beac3407cacd9122,33c20ccbd1ede0278573bbf4beac3407cacd9122,"Move ""Contributor Guidelines"" above ""Tips & Tricks"""
conorsch,2017-04-26 21:12:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aba3ef635cb76db8ac44b1dc31779f1611a93d43,aba3ef635cb76db8ac44b1dc31779f1611a93d43,"Removes requirement for building OSSEC debs elsewhere

We were previously lazily requiring developers to build the OSSEC source
deb packages (not the metapackages, which have always been maintained in
this repo) in a separate working directory, then copy them into the
SecureDrop repo. That manual workflow was required in order to use the
staging environment, which is hardly a desirable state of affairs.

Now that we build even the OSSEC source packages inside the securedrop
repo, we no longer need to warn developers about this shortcoming.
Removed the pleasant failure message from the `install-local-packages`
role, and removed the tipbox from the documentation."
conorsch,2017-04-26 20:51:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e0eace7198d217af8865d7fe615d6794f4c85feb,e0eace7198d217af8865d7fe615d6794f4c85feb,"Adds simple config tests for OSSEC packages

Extremely minimal; just checking for the newly installed apt
dependencies. We can reuse most of the functional checks in the other
deb package logic.

Mostly reusing the existing logic in the config test suite for the
""build"" VM. All those checks pass without modification, save one:
the ""Homepage"" control field check. Added branching logic to confirm a
different value specifically for the OSSEC source packages:

  * ossec-agent
  * ossec-server

The other packages remain with the securedrop.org homepage tested."
redshiftzero,2017-04-26 20:49:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f4ea0d464a925422266f9d258a678bf2c5fcc1fc,f4ea0d464a925422266f9d258a678bf2c5fcc1fc,Add discussion of automated testing and beginning of contributor guidelines
conorsch,2017-04-26 20:01:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/22ed5b27a9be31f52a7bf5c2f6cd1864c9656705,22ed5b27a9be31f52a7bf5c2f6cd1864c9656705,"Moves OSSEC package source trees to `install_files/`

Matches the location of all other Debian packages maintained in this
repository. Previously we had the OSSEC source packages in
`install_files/ossec-packages`, mostly as an artifact of subtreeing in
the old freedomofpress/ossec repository. Now that the OSSEC source build
logic is integrated with the SD Build VM, we it makes sense to
reorganize the directory structure so all package source trees are in a
single location."
conorsch,2017-04-26 19:55:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/960e824fabaabd85b3ff436de6ae358d488cded7,960e824fabaabd85b3ff436de6ae358d488cded7,"Always fetch newly built deb packages for OSSEC

Previously we were using the /vagrant shared directory by default, and
trying conditionally to use the sychronize module in CI. Instead let's
just use synchronize and fetch always, to simplify the build logic and
consistently support a variety of build environments, including CI and
local development in VMs."
redshiftzero,2017-04-26 19:44:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71361fa5c923bf7bef8d1b5b87d0046883f60f09,71361fa5c923bf7bef8d1b5b87d0046883f60f09,Document management scripts for pip requirements
conorsch,2017-04-26 19:43:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d222fe8e953661ecb029004b98c726521e20cddc,d222fe8e953661ecb029004b98c726521e20cddc,"Updates build paths in the OSSEC build role

Now building all packages under /tmp/build/, which is consistent with
the targeting for other Debian packages created by the `build` VM.
Also switching to synchronize strategy by default, rather than using the
local Vagrant directory."
redshiftzero,2017-04-26 18:42:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c7ad4b44ef3ad783294918d9c619c4c9a4320fa1,c7ad4b44ef3ad783294918d9c619c4c9a4320fa1,"Merge pull request #1672 from WestleyArgentum/patch-1

fix link to wordlist"
WestleyArgentum,2017-04-26 18:30:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/89cc0dbb5530b4bdea59f1bdf667eb24228da368,89cc0dbb5530b4bdea59f1bdf667eb24228da368,fix link to wordlist
conorsch,2017-04-26 18:10:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8cc11611dccca465e6d4b651239c4c35d904980,a8cc11611dccca465e6d4b651239c4c35d904980,"Set fullpath for `ossec_build_dir` role var

Every use of the `ossec_build_dir` var was prefixed by `/tmp/` within
the Ansible tasks, so let's just move that prefix into the var value
itself. Doing so will enable overrides to customize the build directory
being used, not just the subdirectory within /tmp."
conorsch,2017-04-26 17:02:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e0c141877635e8a5cc2002f112a77e18143871f,6e0c141877635e8a5cc2002f112a77e18143871f,Consolidates build playbooks
conorsch,2017-04-26 17:00:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d79d37b5cfc96e6c5b06b6aba41478c79186d442,d79d37b5cfc96e6c5b06b6aba41478c79186d442,"Moves play-level OSSEC build tasks to role

Keeping all the build logic encapsulated within the targeted role
allows us to reuse the build playbook."
conorsch,2017-04-26 16:58:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb3577386e218580b06d14bec750d7a5f9c3deb8,eb3577386e218580b06d14bec750d7a5f9c3deb8,"Moves OSSEC package build role into roles/ directory

It was previously stored in a subdirectory of
`install_files/ossec-packages`, but all other Ansible roles for the
project are stored in `install_files/ansible-base/roles`. Now it lives
there."
conorsch,2017-04-26 16:56:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f8bedb114b673f3870fdb61464fe41e0a26892ce,f8bedb114b673f3870fdb61464fe41e0a26892ce,"Add 'install_files/ossec-packages/' from commit '2267165f119e67c3d33a3c2d8079dc12da95aaff'

git-subtree-dir: install_files/ossec-packages
git-subtree-mainline: ccc2148ba087c263a99527d35c9e167ce8e178c5
git-subtree-split: 2267165f119e67c3d33a3c2d8079dc12da95aaff"
redshiftzero,2017-04-26 15:06:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0943576cf904497d9ab843baf20ef6ddcb40bed,a0943576cf904497d9ab843baf20ef6ddcb40bed,"Revert ""Add unit test for changing journalist assignment of source""

This reverts commit 9ce31943c812f3fdf070d5dd9ed3cfbc85811e2a."
redshiftzero,2017-04-26 15:04:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f682eadba294e3414fbd0d3fcf58e918ff2ab2ef,f682eadba294e3414fbd0d3fcf58e918ff2ab2ef,"Revert ""Added source-assignment functionality""

This reverts commit f47d8829856a2212c66103b0104497b1590c8fc0."
msheiny,2017-04-26 13:38:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2267165f119e67c3d33a3c2d8079dc12da95aaff,2267165f119e67c3d33a3c2d8079dc12da95aaff,"Merge pull request #11 from freedomofpress/general-cleanup

General config cleanup throughout build logic"
conorsch,2017-04-26 05:04:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/824f94b0da039a0d03107cf894bc0144cc0f38bc,824f94b0da039a0d03107cf894bc0144cc0f38bc,"More readable task names throughout

Nicely formatted task names, including sentence capitalization and
punctuation. No functional changes. In a few tasks, consolidated
repetitive tasks with a `with_items` loop where appropriate."
conorsch,2017-04-26 04:57:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/55090b47baeb7d9d733a5312618ae97006f61d21,55090b47baeb7d9d733a5312618ae97006f61d21,Updates playbook with multiline YAML syntax
conorsch,2017-04-26 04:55:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6664aec3d2e1a54700bc4fc02b8ec053a19ebb9f,6664aec3d2e1a54700bc4fc02b8ec053a19ebb9f,"Converts all tasks to multiline YAML format

Mostly for consistency, but greatly adds in readability. The multiline
YAML format matches what's already used in the SecureDrop repo, so
making the change here in preparation for merging the repos."
conorsch,2017-04-26 04:53:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b8954fc9ee7e90ba3a987aeaf27360bc38691415,b8954fc9ee7e90ba3a987aeaf27360bc38691415,"Consolidates post-build cleanup tasks

Now looping over the dest paths with file state=absent, which keeps the
playbook output terser and makes the task list much more readable. Added
an explanatory comment for future maintainers; you're welcome, future
maintainer."
conorsch,2017-04-26 04:49:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0b9473b0a9a3ecdcbfa9f07d4bb29f12456f1ee1,0b9473b0a9a3ecdcbfa9f07d4bb29f12456f1ee1,"Consolidate tarball download tasks

Ansible is already smart enough to skip redownloading files via
`get_url` if the destination file exists. One must declare the fullpath
to the dest file, but we're already doing that. Unfortunately Ansible is
*not* smart enough to update dest files in place if the checksum doesn't
match, but that's why we have a hard fail on a subsequent task, to
handle the checksum verification."
conorsch,2017-04-26 04:40:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8084ee5475786ec39b571872a18222f2a5993df,e8084ee5475786ec39b571872a18222f2a5993df,"Makes apt cache update idempotent

Reuse the apt cache for up to an hour, then refresh after that point.
Don't refresh the apt cache on every build run, since it's highly
unlikely that packages have changed. Additionally, use state=present for
packages, rather than state=latest, since the latter forces an apt cache
update every time."
conorsch,2017-04-26 04:34:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/822d21c677d10485f54dbf99fb86fe11d56b00f7,822d21c677d10485f54dbf99fb86fe11d56b00f7,"Converts play-level vars to role defaults

The role requires these vars, but they're not available within the
context of the role. Let's move the vars into defaults, so they can be
sanely overridden at the site level. Doing so will keep the playbook
clean and neat in preparation for merging into the SecureDrop repo."
conorsch,2017-04-26 03:39:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2247231c5eae6adf1c282d31c759634cec1070d5,2247231c5eae6adf1c282d31c759634cec1070d5,"Removes unused vars

These play-level vars should have been role defaults from the beginning,
but they're no longer used, so removing them from the repo."
conorsch,2017-04-25 23:46:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/062ccb5cb67e95767b4eb3a4306d8ad4d34ce58b,062ccb5cb67e95767b4eb3a4306d8ad4d34ce58b,"Merge pull request #10 from freedomofpress/RemoteBuildSupport

Tweaks needed to build packages on remote server"
conorsch,2017-04-25 20:57:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b243bf488bff0d72339ed97e31641469c5b233f,1b243bf488bff0d72339ed97e31641469c5b233f,"Adds libvirt config options for build VM

Most FPFers have forsaken virtualbox for libvirt/qemu, and now
everything is roses. This change still supports virtualbox, and in fact
preserves it as default provider, but also permits building with
libvirt support now."
conorsch,2017-04-25 20:53:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c1e177eb4d8975af60a75b05a11deda47b25b4e1,c1e177eb4d8975af60a75b05a11deda47b25b4e1,"Switches to Bento box for Ubuntu Trusty

Over in the SecureDrop repository, we updated the base boxes for all
machines (build, dev, staging, etc.) to the Bento Trusty boxes [0].
Matching the setup here, so that we're building on a consistent
platform, which closely matches the expected OS on production instances.

[0] https://github.com/freedomofpress/securedrop/pull/1378"
redshiftzero,2017-04-25 16:33:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/53ae97007068d3331ddeb83c25b05bea38a7d696,53ae97007068d3331ddeb83c25b05bea38a7d696,Run tests with coverage
redshiftzero,2017-04-25 01:06:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b9cd3e42b1e3bed9fff5e0e47b89087a20e58e20,b9cd3e42b1e3bed9fff5e0e47b89087a20e58e20,"Make button style consistent between submission/source views, add icons"
redshiftzero,2017-04-24 22:47:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/51858e04b924655293e13c5e248ebe21300fe24b,51858e04b924655293e13c5e248ebe21300fe24b,Align index buttons on source interface with bottom/sides of container
conorsch,2017-04-24 23:19:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b14a63d904fc1d7248cbe498344e2497a29cc954,b14a63d904fc1d7248cbe498344e2497a29cc954,"Merge pull request #1664 from freedomofpress/branching-dict-for-testinfra-wrapper

Use a dict instead of chain of elifs for test.py branching"
conorsch,2017-04-24 23:19:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3ac0ca1fedf2a09ff568f9bc101ca5830dce1a5e,3ac0ca1fedf2a09ff568f9bc101ca5830dce1a5e,"Merge pull request #1663 from freedomofpress/validate-username-choice-prior-to-install

Validates username choice prior to installation"
conorsch,2017-04-24 23:18:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/603bbaabff662f62ac768f112914e038c3e33252,603bbaabff662f62ac768f112914e038c3e33252,"Merge pull request #1650 from freedomofpress/investigate-document-journalist-interface-renaming

Migrates Document -> Journalist interface via preinst"
conorsch,2017-04-24 19:27:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e9ffe228d6ec59f4094bc81ed4d2af8edc4c70a2,e9ffe228d6ec59f4094bc81ed4d2af8edc4c70a2,"Expands username validation checks to include Ansible user

The previous check was only validating what was explicitly declared in
the vars, in the `prod-specific.yml` file. We can also inspect the
run-time variables known to Ansible about the current username used to
connect to the remote host, and fail if that's set to a disallowed
value."
conorsch,2017-04-24 18:42:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ac0867a3f38b9ad08d5fe1cc880c35b12bdab90,7ac0867a3f38b9ad08d5fe1cc880c35b12bdab90,"Partial implementation of validation config test

Set to skip, so this check is currently inactive. The goal is to
validate that the playbook fails if the vars are configured incorrectly,
but part of those checks ensure the absence of staging/testing vars,
e.g. `vagrant` as username. We'll need to improve the validation logic
in a few ways prior to activating the tests:

  1. Include validation role on staging (?).
  2. Autogenerate valid prod vars on prod.
  3. Stop connecting to staging/prod hosts as `vagrant`.

We could also drop the ""vagrant"" check altogether and that would
substantially simplify this particular check, but we still have
hard-coded testing vars e.g. the journalist GPG key that would fail
validation."
conorsch,2017-04-21 22:44:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ba7039629d82a66c9a5a5354ec1aba78dcc6b5e,5ba7039629d82a66c9a5a5354ec1aba78dcc6b5e,"Strengthens admin username check during Ansible run

We're trying hard to validate required variables _before_ referencing
them in the Ansible config, e.g. while writing templates to the remote
host. The motivation is two-fold:

  * Avoid misconfiguration of servers by properly validating vars
  * Fail fast, to avoid wasting Admin time while running Ansible.

The `assert` checks provide us with a terse format for declaring
statements that must resolve as true, otherwise Ansible will halt
playbook execution."
msheiny,2017-04-24 00:29:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f9687946c0b01672033183f825163e684c03b656,f9687946c0b01672033183f825163e684c03b656,"Fix for ansible 2.2+

Loop variables need to utilize jinja syntax."
msheiny,2017-04-24 00:28:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f05ad3489dd56dff4a0e7a4ab0ae726f4effb3ea,f05ad3489dd56dff4a0e7a4ab0ae726f4effb3ea,"Fetch back deb pkgs when local build path declared

Useful in situations when not running playbook under local vagrant environment.
Only kicks off when `local_build_path` path var is overwritten."
msheiny,2017-04-24 00:26:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07d282c0292d8219b68fa794a19ab9722329f2ce,07d282c0292d8219b68fa794a19ab9722329f2ce,"Conditional copy current repo to remote server

If not running playbook under local vagrant box, copy over current
repo root folder to the remote server."
redshiftzero,2017-04-22 00:37:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d4a20577d5b11c037e2dd58183c9bf9e92b8dd9,7d4a20577d5b11c037e2dd58183c9bf9e92b8dd9,Remove duplicate AppArmor rule for /static/i/favicon.png
conorsch,2017-04-06 23:38:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a34ef28fd67fe7998f19bdf6d69e2d5b7658f40,6a34ef28fd67fe7998f19bdf6d69e2d5b7658f40,"Migrates Document -> Journalist interface via preinst

Implements a hook-based migration strategy for renaming the Document
Interface to Journalist Interface (for consistency with the role-based
""Source Interface"" name). Services migrated include:

  * ATHS config
  * Apache vhost config

These config updates are performed as part of the `preinst` stage in the
`securedrop-app-code` deb package. Care has been taken to ensure that
the config update logic is idempotent, so that the same preinst hooks
can run on any future version of SecureDrop and ensure the same results."
redshiftzero,2017-04-21 23:03:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc7389e9048b28b695a8ea5efd3740669b4caf2b,cc7389e9048b28b695a8ea5efd3740669b4caf2b,"Merge pull request #1660 from freedomofpress/minimum-password-strength

Add minimum password strength"
redshiftzero,2017-04-21 22:42:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a680b898054f438109fc55132e6fec79f36ce7a4,a680b898054f438109fc55132e6fec79f36ce7a4,Modify expected flashed messages in unit tests
redshiftzero,2017-04-21 22:41:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68550f409a82273e4aa50cb4b8b887cb77b9b342,68550f409a82273e4aa50cb4b8b887cb77b9b342,Fix flashed messages to describe the min and max password length.
redshiftzero,2017-04-21 22:28:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a02c06d2678db6618c20c66f96e8d61e7793067,1a02c06d2678db6618c20c66f96e8d61e7793067,Add minimum length password validation to manage.py
conorsch,2017-04-21 22:13:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dafbc5dd545ebd925aa248f19535061108b653c6,dafbc5dd545ebd925aa248f19535061108b653c6,"Merge pull request #1659 from freedomofpress/consistently-declare-mode

Consistently declares file modes throughout Ansible config"
redshiftzero,2017-04-21 21:50:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab00d8046746c2f944651815140144f4b95bbe50,ab00d8046746c2f944651815140144f4b95bbe50,Add unit test to ensure tiny passwords cannot be set for new users
redshiftzero,2017-04-21 21:50:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6471ddf673dfbd60762737229810d4c873f20703,6471ddf673dfbd60762737229810d4c873f20703,Update unit tests for long passwords
redshiftzero,2017-04-21 21:49:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3ea2585d249af46c8a39f103748fdcd6b23fddf6,3ea2585d249af46c8a39f103748fdcd6b23fddf6,Add minimum password length requirement to Journalist
conorsch,2017-04-21 19:42:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6845d1275fdc476069eb780ac61eafe185c3a8c9,6845d1275fdc476069eb780ac61eafe185c3a8c9,"Consistently uses four-digit mode declaration throughout

""400"" is mostly the same as ""0400"" except the leading bit could
technically have been different. It is highly unlikely that bit was
every anything other than 0, but we definitely want to make sure it's 0.
It's also highly desirable to have a consistent format for mode
declarations throughout the Ansible config, which we now do."
conorsch,2017-04-21 19:34:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30db658e69c9149106039d3dd92bf7bac7e5bf66,30db658e69c9149106039d3dd92bf7bac7e5bf66,"Ensures all Ansible mode declarations are quoted

A common Ansible gotcha is that file modes in multiline YAML format must
be quoted, so that they are interpreted as strings, to be passed to
`chmod`. If raw integers are provided instead, Ansible (due to Python
underneath) will interpret them as octal values and the permissions
won't map correctly, so the target host will receive (likely) broken
permissions.

To avoid such ambiguity, let's make sure that all occurances of file
mode declarations in Ansible are quoted. In the interested of
consistency, we'll use double quotes, although single quotes would have
the same effect.

Since the unquoted modes updated here already started with a leading
zero, the modes are as expected. Technically the first bit (e.g. setuid,
setgid, etc.) could have been altered, but it's sane for us to set 0 on
all these files, which are mostly config files."
conorsch,2017-04-21 19:29:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d139ecda0a0b74cf43e16a635271fec457cc68be,d139ecda0a0b74cf43e16a635271fec457cc68be,"Converts Ansible mode declarations from single to double quotes

This is purely a stylistic change for the sake of consistency and
readability; it does *not* affect how Ansible processes the file modes,
so the permissions on the remote host are not altered by these changes.
If the single quotes had not been present and the double quotes were
added, that can alter the permissions intepretation, but we've been
careful about that type of regression by explicitly declaring modes in
the config test suite."
redshiftzero,2017-04-21 19:17:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d2398914af59fc269cd8df3423ac84059d30b389,d2398914af59fc269cd8df3423ac84059d30b389,"Remove display of journalist username from replies in source interface

In 413e8874c9dbe665a2de28bdcc4211ea7185a05c in #1534 we added the
display of journalist usernames in replies shown to sources in order
to improve source UX. However, we have decided that this is a change we
want to push until post-0.4, so we are going to change this back for now.."
conorsch,2017-04-21 19:20:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/93cc5b4acb5e078d23ef36d342da3b944e733d47,93cc5b4acb5e078d23ef36d342da3b944e733d47,"Merge pull request #1565 from freedomofpress/Postfix_From_Address

Override from address on outbound ossec emails"
conorsch,2017-04-21 17:12:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2b93c3cc1d1f355fe00cd5ddc40cf6e4f3524ce4,2b93c3cc1d1f355fe00cd5ddc40cf6e4f3524ce4,"Adds config test for new OSSEC from address var

Off by default, so the config test is checking that the new var settings
do not override the previous default of `ossec@ossec.server` as the
sender address. If during local development the vars are changed to
support a different setup, than this will fail. I'm OK with that. While
I'd like to make the new from behavior (i.e. from address equals
authenticated account) the default, that runs a strong risk of breaking
alerts for other Admins with a working setup."
conorsch,2017-04-21 17:01:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bda486bc734a39e17397b8800911bbf9decf9529,bda486bc734a39e17397b8800911bbf9decf9529,"Adds note about from address to OSSEC docs

We've had a few Admins report this problem, which is now fixed, but
poorly documented. We're leery about updating the `prod-specific.yml`
vars file with an example entry, since there's a strong risk of merge
conflict during the git stash/pop workflow, so the docs will come in
handy answering questions in the future, and enabling first-time Admins
to debug the initial setup themselves."
conorsch,2017-04-21 16:50:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/923987bcc0da6fac9eb3f230c3f3ace945da3b56,923987bcc0da6fac9eb3f230c3f3ace945da3b56,"Declares new `ossec_from_address` var as role default

Avoids the need to check for definedness of the var, since it's already
defined as an empty string in the role defaults. Still comparing with
an empty string value, since Ansible v1 doesn't coerce an empty string
to a boolean false."
msheiny,2017-02-09 15:09:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fac222b9307bef3508b5f50476a3c7c144fc08d1,fac222b9307bef3508b5f50476a3c7c144fc08d1,"Remove var to prod-specific to avoid conflicts

We'll need to figure out a better long-term strategy for storing vars
that doesn't lead to local clobbering. Clearing out for now to get PR
merged."
msheiny,2017-02-07 17:41:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/32e7d708424138b79b549ab459cbe627ac28942f,32e7d708424138b79b549ab459cbe627ac28942f,"Override from address on outbound OSSEC emails

Added this for customization and because some SMTP servers will
not allow sending email from an address that is not the address
associated with the user account. Noticed this specifically as a default
rule on Office365 recently."
justintroutman,2017-04-21 01:25:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/61186893291f88a79beb1c460927cd8cafd93ad3,61186893291f88a79beb1c460927cd8cafd93ad3,Style fixes per PR #1654 review.
redshiftzero,2017-04-20 20:52:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f8f23e764ef474ed141823e21956d5fe1fdbadc1,f8f23e764ef474ed141823e21956d5fe1fdbadc1,"Merge pull request #1619 from freedomofpress/refactor-account-changes-logic

Refactor account changes logic"
redshiftzero,2017-04-20 20:29:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c3a15ef7755ea7f8c67d7113a273bdf95105cdef,c3a15ef7755ea7f8c67d7113a273bdf95105cdef,Merge branch 'release/0.3.12' into merge-0.3.12-into-master
redshiftzero,2017-04-20 19:12:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a494296dd8718d00cd2af49606f2fc8d0c8daa2,6a494296dd8718d00cd2af49606f2fc8d0c8daa2,Update AppArmor rules for changes to journalist templates
conorsch,2017-04-19 20:25:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d361b2759ce2a45a75f41359d02f7902421edf2a,d361b2759ce2a45a75f41359d02f7902421edf2a,"Adds AppArmor allow rule for journalist template files

The DRYing out of the Flask templates for the Journalist Interface
in #1501 did not include a required update for the AppArmor profile.
Explicitly granting read access to the new file, otherwise Apache
throws a 500 when failing to read it."
conorsch,2017-04-19 16:29:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b4a1dd3a71460b4eb3baf1ab19d332c0643cc7d6,b4a1dd3a71460b4eb3baf1ab19d332c0643cc7d6,"Merge pull request #1649 from freedomofpress/update-apparmor-profile-for-app-code

Fix locally built deb packages under staging environment"
conorsch,2017-04-18 23:39:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a46d900b89b0226e93a9c14dc366932754f125a4,a46d900b89b0226e93a9c14dc366932754f125a4,"Updates custom notification test for Travis env

The Travis environment didn't have a custom notification string set, so
the tests were failing when checking for certain strings on the Source
Interface. Let's duplicate the Development vars for Travis and check for
the custom notification string also in CI."
conorsch,2017-04-18 21:30:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5919c26785096886295f7deba5248b0268535da,e5919c26785096886295f7deba5248b0268535da,"Creates app-test for custom notification setting

The config.CUSTOM_NOTIFICATION value introduced in #963 did not previously
have dedicated coverage in the app test suite. Added it. Since the app
test suite is not aware of which host it's running on (e.g. development
or app-staging), we'll check for both strings and only fail the test if
both are absent.

This should restore regression in coverage on `securedrop/source.py`,
pointed out by the failing Coveralls check in CI."
conorsch,2017-04-18 22:53:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8ea9afba9691f8c694b2fbfb07a89bfe2378ed4,a8ea9afba9691f8c694b2fbfb07a89bfe2378ed4,"Removes force=yes in apt installs of local deb packages

The apt module doesn't support force=yes when the `deb` parameter is
used to specify the install target. It only fails on the first run;
subsequent runs are skipped with a green ""OK"", provided the version
string in the deb package hasn't changed. That's why we're using a
two-pass approach in the install-local-packages logic, but it would be
acceptable to use `dpkg -i` and rely on that behavior. Leaving in the
apt task until we upgrade Ansible, since recent versions may have
smarter logic around the deb parameter for the apt module."
conorsch,2017-04-15 00:19:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/737be7650aa5f86e3ccbf9407d16ed30bd96c9ad,737be7650aa5f86e3ccbf9407d16ed30bd96c9ad,"Don't set AppArmor profiles to complain mode

Previously under the Staging environment, we made the AppArmor config
more permissive by running `aa-complain <profile>`. The goal was to
allow verbose logging to debug AppArmor profiles, rather than triggering
errors that would e.g. return 500s from Apache.

In practice, this permissive policy permitted mistakes to slip in,
mostly through lack of updates to the AppArmor policy. Developers can
already rapidly prototype on the application code in the `development`
VM, so let's boost the usefulness of `app-staging` by enforcing the
AppArmor profiles, to provide a more realistic imitation of a real
SecureDrop instance installed on hardware."
conorsch,2017-04-14 22:40:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7240beb9483960a320ab1df7ffb012b2c3f3b5da,7240beb9483960a320ab1df7ffb012b2c3f3b5da,"Creates webassets directory in securedrop-app-code package

The use of Flask-Assets via #1180 for minifying static assets requires the
static asset directories to be present in the docroot. Although the
AppArmor rules permit writing inside of these directories already (those
changes were correctly included in #1180), the directories must already
exist, since the `mkdir` logic will fail, since the parent directory is
not writable in the AppArmor profile.

So the deb package should include the empty directories, but since the
server itself will handle minification, we should not ship any
pre-minified static assets; so let's add a config test to ensure that
doesn't happen. The config tests check for the existence of the
directories, and also that the directories are empty."
conorsch,2017-04-14 19:43:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f88f3e4426be410be7717f3ffc61431033cd7e9a,f88f3e4426be410be7717f3ffc61431033cd7e9a,"Softens hard requirement for CUSTOM_NOTIFICATION

A new config item was added to allow Admins to place custom strings on
the Source Interface page in #1399. The first-run Ansible config was
updated to support the new var, but the `securedrop-app-code` package
doesn't ship the `config.py` file, only `config.py.example`, so existing
production instances won't have the new value specified. The Source
Interface WSGI file should not assume the value will be defined, so
let's default to '' if it's missing. This will allow currently running
instances to upgrade cleanly, without issues."
conorsch,2017-04-14 00:12:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/664566a7cd2d0c78c0b554a335407f47cba495a7,664566a7cd2d0c78c0b554a335407f47cba495a7,"AppArmor: Bumps jquery version in Apache AppArmor profile

In #1234 we upgraded JQuery 2.1.1 -> 2.1.4. The version string is
hardcoded in the filename, so we must update the AppArmor profile to match,
otherwise Apache will fail to read the file, causing a 500.

Related: #1233 discusses removing the JQuery dependency altogether."
conorsch,2017-04-14 23:46:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c111aec4804bdf58cbd872193f8a1774c163765e,c111aec4804bdf58cbd872193f8a1774c163765e,"Moves PathException back into `store.py`

The app code received a new file recently, `util.py`, that didn't have a
corresponding AppArmor profile declaration. The logic in this file has
mostly since been removed, and now includes only the custom exception
`PathException`, which previously resided in the `store.py` library.
Let's move it back there, which will neatly clean up the back-and-forth
edit history, as well as obviate the need to modify the AppArmor
profile.

Relevant commits to piece together the history are:

  * 7ae0fd9c884e4334b1b668e3af04c3ea63f5b258 # util.py created
  * 956b2137255a39fb7091a82b669af6537ba0548d # unique logic removed

The application tests check that PathException is raised when
appropriate, so we're good to go on functionality changes here.
Also removed an unused `import util` in `source.py`."
conorsch,2017-04-19 00:53:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17b1df3952249f2fd67dbfab45d1055a08e7726d,17b1df3952249f2fd67dbfab45d1055a08e7726d,"Merge pull request #1590 from freedomofpress/allow-admin-to-configure-automatic-reboot-time

Allow admin to set reboot time in securedrop-prod.yml"
conorsch,2017-04-19 00:14:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d83ff2d9b87d74717d526c0fbff8e03e931015a,0d83ff2d9b87d74717d526c0fbff8e03e931015a,"Renames cron-apt cron job template src file

Explictly using the .j2 extension on the Jinja template to aid
comprehension that variables will be substituted. Also made the basename
of the file more explicit as to its intended purpose, to avoid confusion
with the `/etc/cron-apt/config` file."
conorsch,2017-04-19 00:12:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/89003ed8d73cadde8b1c18f5ab909b3329e931ae,89003ed8d73cadde8b1c18f5ab909b3329e931ae,"Creates default role var for daily_reboot_time

Consistent with Ansible best practices, to have a role default var, and
required in order for the staging environment to work (since the new var
was previously added only to `prod-specific.yml`)."
conorsch,2017-04-19 00:16:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e7735d1d0c65f2bd242640cd03e757c7ee3eca8d,e7735d1d0c65f2bd242640cd03e757c7ee3eca8d,"Reverts changes to cron-apt-config file

Fixes mistake on which cron-apt file should be written to
/etc/cron-apt/config. The already explicitly named `cron-apt-config`
file is the correct target; not the cron job template, which belongs in
/etc/cron.d/cron-apt."
conorsch,2017-04-18 23:18:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a6029825b356907cd24393cae6c2f0264b6e007,6a6029825b356907cd24393cae6c2f0264b6e007,"Removes unused /etc/apache2/security file

The options previously written to /etc/apache2/security were already
present in /etc/apache2/apache2.conf, so we can safely remove the
extraneous file. Config test suite has already been updated to confirm
absence."
conorsch,2017-04-18 23:14:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5e8b9ea881b604146db07416477670d43bd5932c,5e8b9ea881b604146db07416477670d43bd5932c,"Updates Apache config test for duplicate settings

Previously marked as ""xfail"" for expected failure, pending updates to
the Ansible config. Activating the test now to ensure that the Ansible
changes will fix the issue, i.e. the tests pass."
msheiny,2017-04-18 17:06:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ca9cfcdc6fcd7a600c0edf491f2785a6f3fc1b6,2ca9cfcdc6fcd7a600c0edf491f2785a6f3fc1b6,"Merge pull request #1647 from freedomofpress/keep-build-vm-packages-up-to-date

Updates all apt packages for the build VM"
conorsch,2017-04-14 00:52:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7869fe56d44e101197475e3aec0dc32207f7b334,7869fe56d44e101197475e3aec0dc32207f7b334,"Adds config test to ensure build VM packages are up-to-date

Guards against regressions where we're building packages without having
the latest distribution-provided updates installed."
conorsch,2017-04-07 23:36:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2a4462bd849d89505013f0e0403affed17af18be,2a4462bd849d89505013f0e0403affed17af18be,"Updates all apt packages for the build VM

Ensures that the latest security updates have been installed in the
build environment prior to building the deb packages. Handles the update
idempotently, and only refreshes the apt cache (to check for new
updates) once every hour. That will keep repeated builds snappy.

Closes #1644."
conorsch,2017-04-17 22:28:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe559c36c9b6911c31311982941fb4b452b7ffb4,fe559c36c9b6911c31311982941fb4b452b7ffb4,"Merge pull request #1645 from freedomofpress/update-grub-pax-flags

Update Grub PaX flags in grsecurity role"
conorsch,2017-04-17 22:03:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a5a2c9c3a454281f40795fcb3ac2c5802a65ed57,a5a2c9c3a454281f40795fcb3ac2c5802a65ed57,"Updates config tests for PaX flags

Previously marked as ""xfail"" for expected failure, we can now activate
these config checks and set them to fail the test run if the PaX flags
on GRUB binaries don't match exactly what's expected (namely `E` and
only `E`)."
conorsch,2017-04-17 22:00:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b53501e7a2e907af019a2fe778f21761c19610ad,b53501e7a2e907af019a2fe778f21761c19610ad,"Updates desired PaX flags for conditional check

In order to preserve idempotence, the `paxctl` command setting PaX flags
should only run if the desired flags aren't already set. We can compare
all flags on the target binary by checking the output of `paxctl -v
<binary>`, so if there's any deviation, e.g. extra flags or missing
flags, the subsequent task will correct.

The flags now match those set in the `securedrop-grsec` deb package,
maintained in a separate repository. Further reading:

  * https://github.com/freedomofpress/ansible-role-grsecurity/issues/90
  * https://github.com/freedomofpress/securedrop/issues/1245"
justintroutman,2017-04-15 06:23:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bcf66a32b47279d3cfb24313d9d125d8ab7bc66c,bcf66a32b47279d3cfb24313d9d125d8ab7bc66c,More style guide fixes to core terminology.
justintroutman,2017-04-14 18:57:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/59d9f1133541ff9b5f059d2eaa1ddaaf284fe8e2,59d9f1133541ff9b5f059d2eaa1ddaaf284fe8e2,"Style guide fixes for Application Server terminology, and related cleanup."
conorsch,2017-04-13 21:11:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a3b2923d50c94525eba0ae4d589acd04bd68f80b,a3b2923d50c94525eba0ae4d589acd04bd68f80b,"Merge pull request #1433 from freedomofpress/more-convenient-update-version-script

More convenient update version script"
justintroutman,2017-04-13 02:28:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4bc73faef7023347321b427b21e6985078ae6021,4bc73faef7023347321b427b21e6985078ae6021,"Change all instances of 'Secure Viewing Station' and 'SVS' to italics, per style guide."
justintroutman,2017-04-11 02:24:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f2ec509448bed8a1ca536d4dbb3d4d493367f5d,2f2ec509448bed8a1ca536d4dbb3d4d493367f5d,"Change all instances of 'Admin Workstation' to italics, per style guide."
conorsch,2017-04-07 21:45:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba8f3640a3f37a49f992c1be9a37a7841403c159,ba8f3640a3f37a49f992c1be9a37a7841403c159,"Check for username and hostname match in update_version

The script should be run as vagrant inside the build VM; the previously
implementation permitted execution as vagrant from within the
development VM; instead, it should throw an error there, and it does
now.

While fixing, noticed that the Vagrant build VM wasn't having its
hostname set properly, so updated the relevant config line in the
Vagrantfile."
conorsch,2017-04-07 21:27:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6619fa89318e2f70e267c164a4b0762ec4f4ef3d,6619fa89318e2f70e267c164a4b0762ec4f4ef3d,"Moves build package installation into build playbook

The update_version script was helpfully installing packages required for
creating a new git tag during a SecureDrop release. Since it was
implemented in bash, however, it wasn't idempotent, and it didn't have
decent informative message as to why the script was hanging for dozens
of seconds on first run (it was installing apt packages)."
conorsch,2017-04-07 21:20:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d45ce8ee0d1e31a0b2612d445524bc73d102775b,d45ce8ee0d1e31a0b2612d445524bc73d102775b,"Errors out update_version if no local gitconfig

The previous check for the local gitconfig didn't abort execution if the
file was missing; it should, otherwise git will complain about lack of
user config inside the build VM."
conorsch,2017-04-06 21:54:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/958d920d0813e245420d3fa7d8688d3dc558b1ab,958d920d0813e245420d3fa7d8688d3dc558b1ab,"Merge pull request #1615 from freedomofpress/fix-apache-logging

Fix Apache logging formatting"
conorsch,2017-04-06 20:21:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/687b9614558edc481bab945c308ac2205aa5c04b,687b9614558edc481bab945c308ac2205aa5c04b,"Bumps RAM for app-staging under libvirt 512MB -> 1GB

This is consistent with the additional RAM allotted to VirtualBox
app-staging, and also the development VM under both providers. We simply
overlooked adding the RAM bump for the libvirt app-staging version.
While running the application tests interactively, kept running into
memory allocation errors, due to hefty Firefox and Selenium; since
bumping the RAM and rebooting, the errors have gone away."
conorsch,2017-04-06 20:16:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c258e12f24f1a52a541dd416580602e4bdb6f9e9,c258e12f24f1a52a541dd416580602e4bdb6f9e9,"Notifies apache handler when apache config files change

The Ansible config should always bounce the apache service if those
config files changed, but it wasn't do so previously. Discovered this by
trying to validate the LogFormat changes implemented by @fowlslegs in #1615.
After running the playbook multiple times, the log value wasn't
changing: although the associate config files had been updated, the
apache service hadn't been bounced, so the old config was active."
conorsch,2017-04-06 19:46:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e71abfd6447f8352e86873d97d9e4af2f805619f,e71abfd6447f8352e86873d97d9e4af2f805619f,"Adds app testing requirements to staging deb packages

These files were missing due to the new additive strategy for building
the app-code deb package, brought in via #1612. Without these files, one
cannot run the application tests on app-staging. Since that's definitely
something we want to do, adding those testing-specific files back into
the deb package build logic. Doing so means that the test-specific
changes will ship in prod debs, but that's OK for now, and is consistent
with what we've been doing in the past.

Note that the tests/log/firefox.log file is *not* included. This means
that everytime the staging playbook is run, the app test browser logs
will be clobbered. That's fine; the logs will still persist on
development. Including the testing log in the deb package build would
create problems for deterministic builds anyway."
conorsch,2017-04-06 19:33:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9fd299a176389b90e90a8e99f9e752db1db8a861,9fd299a176389b90e90a8e99f9e752db1db8a861,"Activates config tests for Journalist Interface logging

Tracking the Journalist Interface logging setup. Previously, due to a
misconfiguration in Apache2, the journalist interface logs showed only
the string ""combined"" for each and every long entry. That's no good. So
let's check that:

  1. We have log entries in that file.
  2. The log entries are never ""combined"".
  3. The log entries at least have the string ""GET"" somewhere in it.

A more aggressive testing strategy would be to validate the logformat
structure of the log entry, but that's over the top for now, and likely
to cause inaccurate test failures due to poorly thought-out regexes."
redshiftzero,2017-04-06 19:30:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f88004a17bd89d8d88a4af6c7ca0cfff67d36e44,f88004a17bd89d8d88a4af6c7ca0cfff67d36e44,"Merge pull request #1630 from freedomofpress/remove-speakers-from-airgap

Add note on removing speakers from the SVS"
redshiftzero,2017-03-23 11:53:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04b47dd66255233d7d6e06c6f6083d5d39f8c974,04b47dd66255233d7d6e06c6f6083d5d39f8c974,Add explicit height and width to PNG versions of font awesome icons
redshiftzero,2017-04-06 17:24:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c8870bffe9a5e6669aaae90cfa0a0f01b0d6166a,c8870bffe9a5e6669aaae90cfa0a0f01b0d6166a,"Merge pull request #1639 from freedomofpress/change-delete-download-text

Change delete/download text on Journalist interface"
redshiftzero,2017-04-03 22:28:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a847dca3846823e8b3b5b90261f5605ae556566c,a847dca3846823e8b3b5b90261f5605ae556566c,"Replace Download/Delete text to make clear if JS is not on

If JavaScript is turned off then it might be unclear what the
Download/Delete buttons do - does it download all the submissions?
Does it delete the source and all its documents? Adding ""selected""
to the button makes this more clear."
redshiftzero,2017-04-06 17:02:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5faea45b30f9e33aa91cb342e8ec21aab14570db,5faea45b30f9e33aa91cb342e8ec21aab14570db,"Merge pull request #1641 from freedomofpress/coveralls-checks-fail

Fix coveralls checks"
redshiftzero,2017-04-06 00:47:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a67412301df90be4285a8cd4e9e3d739eaa71bb,7a67412301df90be4285a8cd4e9e3d739eaa71bb,Omit tests from coverage calculation
redshiftzero,2017-04-05 23:16:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f2ce45fe4c5515cf0ec719da7e2a1e98161851c0,f2ce45fe4c5515cf0ec719da7e2a1e98161851c0,Attempt to fix failing coveralls status checks
conorsch,2017-04-05 23:11:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a55ab16a0f0788cc21587d20c00e6b80d3cf5e4,8a55ab16a0f0788cc21587d20c00e6b80d3cf5e4,"Merge pull request #1464 from freedomofpress/reimplement-automatic-building-of-deb-packages-in-staging

Automatically builds deb packages in staging environment"
conorsch,2017-04-05 22:22:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/830ea50ad3d13d69f36feb35013c8ee70eb5e8ac,830ea50ad3d13d69f36feb35013c8ee70eb5e8ac,"Marks config tests for OSSEC permissions as xfail

Building the deb packages locally and installing directly revealed some
permissions disparity between what's set up via Ansible versus what's
enforced by the postinst scripts in the FPF-maintained OSSEC deb
packages' postinst scripts. Mostly the permissions are not cleanly
declared in the postinst scripts, e.g. `chmod -R 550 <dir>`, which
unnecessarily marks files as executable.

In practice, the permissions set by Ansible will be overridden by the
postinst scripts during the next upgrade, which means there's a window
between the first installed version and the first upgraded version where
the permissions are not set correctly. We should consider folding the OSSEC
build process into the SD repo so we can test these builds better."
conorsch,2017-04-05 20:25:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5a976a7f1326639b9336baf6cf49e531162bd2ce,5a976a7f1326639b9336baf6cf49e531162bd2ce,"Updates config test for flask-testing pip version

Not sure how this was missed before; presumably because we aren't
running the staging environment in CI yet. The new version in the config
test matches what's specified in the `test-requirements.txt` file."
conorsch,2017-04-05 19:54:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d453a910e0e0f23d4052e6e45ae5cbbe89a82853,d453a910e0e0f23d4052e6e45ae5cbbe89a82853,"Strengthen apt hold logic for Firefox in staging environment

We're currently pinning a specific version of Firefox for compatibility
with Selenium. Previously, multiple runs of the playbook would cause the
version of Firefox to get clobbered with whatever is current in the
Ubuntu repos; setting the package on hold via `apt-mark` and `aptitude`
prevents clobbering."
conorsch,2017-04-05 17:36:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/688b5876b568330763a6db3da0ae0885af14fc43,688b5876b568330763a6db3da0ae0885af14fc43,"Strengthen apt hold logic for locally built deb packages

Using `apt-mark hold <package>` only applies to apt commands, not
aptitude commands, so an aptitude safe-upgrade will still upgrade
packages marked as held via apt-mark. For aptitude, we must use
`aptitude hold <package>`. Let's do both, to ensure that packages in the
staging environment are never clobbered with repository packages."
conorsch,2017-04-04 21:22:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d33f16416bd75d55d82c763301528e25ce9992bb,d33f16416bd75d55d82c763301528e25ce9992bb,"Update inventory groups for Travis tests

For the Travis CI run, we dynamically create a simple inventory file
that targets localhost, and call a travis-specific playbook to provision
the developer environment within Travis. Long-term, we should aim to
reuse the development playbook for testing via Travis, but doing so
would require some group_vars -> host_vars conversion. In the meantime,
we'll update the inventory generation logic for Travis to match what
Vagrant creates via the group memberships."
conorsch,2017-03-30 23:16:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4fb49d41cb54fa235014a8a27dc2f2456332568e,4fb49d41cb54fa235014a8a27dc2f2456332568e,"Adds securedrop-keyring to the local_deb_packages list

Only applies to staging hosts, but makes sure the `securedrop-keyring`
package is present, and installs it from the locally built deb package.
The keyring package isn't at all necessary under staging, since it's
used for managing apt keyrings, and the staging machines mostly install
from local deb packages, but it's important that we keep the staging
environment config as close as possible to the config described by the
current state of the git repo, even under development."
conorsch,2017-03-30 21:34:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/43e9c75732580d2f18b7729d180a317072c30be7,43e9c75732580d2f18b7729d180a317072c30be7,"Hard-codes download filepath for Firefox under app-staging

When given a directory for `dest`, the `get_url` module will *always*
redownload the file, because it can't know the intended filename until
it makes the request. By providing an explicit dest filepath, Ansible
will skip downloading if the file already exists.

Note that it won't do checksum comparison on the already downloaded
file, which is disappointing, but let's not redownload 42MB file on
every playbook run. That's particularly problematic now that the staging
environment automatically rebuilds deb packages alongside the playbook,
so rerunning the staging playbook is much more likely now."
conorsch,2017-03-30 21:07:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9698fc12930da0a1b4eebc8e51bae1c5fd6ab969,9698fc12930da0a1b4eebc8e51bae1c5fd6ab969,"Skips installing OSSEC packages via apt under staging

The provisioning process for staging now includes automatic building of
deb packages, and we don't want those locally built packages clobbered
by packages from the prod apt repo. (Use the prod environment for that.)"
conorsch,2017-03-30 20:43:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dadb05335be51ebc953cbf82d4d0c108936dca1c,dadb05335be51ebc953cbf82d4d0c108936dca1c,"Marks locally built deb packages as ""hold"" via apt

This ensures that the locally built and directly installed (as opposed
to via the production apt repository) deb packages are not clobbered by
apt upgrades in the staging environment."
conorsch,2017-03-30 20:18:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/086c0b21ec1d1e99c212372f0aac277e6b0457e7,086c0b21ec1d1e99c212372f0aac277e6b0457e7,"Creates default role var for local_deb_packages

Overriding at the site level, so we have sane vars populated for the
Application and Monitor server. By default, the role will take no
action, which is better than erroring out due to undefined variables."
conorsch,2017-03-30 20:14:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/905d8e59b5b9b33fcea0f61c74dc1b6f57d900de,905d8e59b5b9b33fcea0f61c74dc1b6f57d900de,"Ignore errors on local deb package install first-pass

Using a two-pass approach currently, and permitting errors on the first
run as an intermediate stage toward getting this behavior more reliable.

The `deb` parameter for the Ansible apt module is finicky; ideally it
would provide idempotence for us based on package version, but maybe
we'll need to upgrade Ansible to 2.x in order to get sane behavior.

Punting on delivering all-green playbook output until we have the
Ansible version settled."
conorsch,2017-03-30 20:09:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ececa23c09f05548acd30de98f4e8ee0e943f82,2ececa23c09f05548acd30de98f4e8ee0e943f82,"Skips installing `securedrop-keyring` package under staging

When we released the `securedrop-keyring` package, we added installation
of it to the playbook logic, so that instances will get it automatically
on both hosts on first run. The FPF repo logic is separate from the
install-local-packages logic, and so a tweak is necessary to skip the
from-repo installation under the staging environment."
conorsch,2017-03-30 20:03:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ad04d3c534768103a5564231e71db7836ed35c57,ad04d3c534768103a5564231e71db7836ed35c57,"Removes role dependency from common role

In general, role dependencies via Ansible's meta/main.yml file are
tricky to work with. It's often better to declare role includes
explicitly in a playbook."
conorsch,2017-03-30 20:00:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b9edbf0e83388f333cc4d512233051a962fa1ce3,b9edbf0e83388f333cc4d512233051a962fa1ce3,"Adds test pip requirements to deb package whitelist

Adding all requirements files under the top-level `requirements/`
directory in the securedrop install_files dir. Although it's sane to
ship only the prod requirements, the app-test logic currently assumes
the file will be present in the local docroot, so let's make sure it
lands there, even when dynamically building deb packages for staging."
conorsch,2017-03-30 19:04:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dba268f5a341a3e78592b02ff8052b2d12cb5a65,dba268f5a341a3e78592b02ff8052b2d12cb5a65,"Adds `config.py.example` to deb package whitelist

The `securedrop-app-code` package requires this package, since the
Ansible setup scripts reference it when configuring the application."
conorsch,2017-03-30 18:06:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3d89429bfd5de3f152988069a64d30772d6841a1,3d89429bfd5de3f152988069a64d30772d6841a1,"Skips installing app-code from repo under staging and dev

Added role default vars, enforcing the prod-friendly config, i.e.
install from the FPF apt repo and configure Apache. Made the associated
task file includes optional via var overrides, so that we can skip the
apt repo portion under both staging and development, and the apache
config portion under development."
conorsch,2016-11-08 23:19:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3408c24360703537342b9a96b0a6a9bc7d22d6bb,3408c24360703537342b9a96b0a6a9bc7d22d6bb,"Updates group membership declarations in Vagrantfile

The `%()` format declares a string, which works in the case of Vagrant
generating an Ansible inventory file, but only due to automagic. Let's
explicitly use the `%w()` format to declare a list, in all contexts,
even if there's a single group member."
conorsch,2015-11-14 00:24:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5de33f50c4f107f83772b0a00ae50c9bc898c353,5de33f50c4f107f83772b0a00ae50c9bc898c353,"Adds docs for building ossec packages in separate repo

The install-local-packages role expects the deb files for ossec in the
build/ directory, but those packages aren't created by roles in this
repo. If the packages are missing, the error message will instruct
developers to check out the docs. Now the docs provide useful info."
conorsch,2016-11-05 04:06:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0765b9f858ef491e4c2e5cb3ddea75d603d6380d,0765b9f858ef491e4c2e5cb3ddea75d603d6380d,"Installs staging deb packages via `apt` and `dpkg`

Using Ansible's apt module causes package installation of deb files to
be skipped if the version declared in the control file matches what's
already installed. That's no good for rapid development, because the
source files within the deb package may have changed. Using `dpkg -i`
ensures the packages are installed regardless of content changes.

However, `dpkg -i` isn't smart enough to resolve dependencies that
aren't met, such as `expect` for the ossec packages. So let's first use
the `apt` module with the `deb` parameter, then follow up with `dpkg -i`
to ensure that rebuilding implements new changes, as well."
conorsch,2016-11-05 03:23:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/213a36e632ee13d84e740ceea7b4623b5a889189,213a36e632ee13d84e740ceea7b4623b5a889189,"Sets apt hold on firefox in dev and staging environments

Changes in #1445 forced installation of a specific version of Firefox,
which caused tests to fail since not all packages were updated.
Carefully modified the tests to permit either ""0"" or ""1"" packages not
upgraded."
conorsch,2015-11-09 00:59:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/edbc81539582563b02adbb1ff7e71eb33d7a3ed0,edbc81539582563b02adbb1ff7e71eb33d7a3ed0,"Refactors install_local_packages role

Checks for existence of local debs and fails if missing. Includes a
helpful error message that points to the developer docs, with mention of
the need to build the ossec debs in a separate repo."
conorsch,2015-11-13 23:37:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f568e26bed5482f1456286e279c6c2e1478cc596,f568e26bed5482f1456286e279c6c2e1478cc596,"Reorders installation of local packages

The securedrop-app-code package expects Tor abstractions for AppArmor
profiles, but those aren't present until the Tor packages are installed.
Doesn't matter in production, since local packages are not installed via
the production playbook, but reordered the roles there, too, for
consistency."
conorsch,2015-11-09 00:10:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0139b771452c7f936285360fe82494606fab2680,0139b771452c7f936285360fe82494606fab2680,"Install local deb packages by default in staging

Adds a group_var and conditional logic to the staging playbook to ensure
that the staging hosts receive local deb packages for
securedrop-app-code and the ossec packages."
conorsch,2015-11-08 23:25:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/88db6b9404e9e1dd3c657f774f811197ed337478,88db6b9404e9e1dd3c657f774f811197ed337478,"Automatically builds app code deb package for staging

The staging hosts should install the SecureDrop app code from the code
in the local git repository, rather than pulling down debs from the FPF
apt repository. The build-deb-pkgs.yml playbook is now included at the
beginning of the staging playbook.

The build-deb-pkgs.yml playbook has some clunky var_files includes,
because the Ansible group management in the Vagrantfile is difficult
to override cleanly. Not willing to drop Vagrant support for these
hosts, so we'll just have to live with the hardcoded includes for now."
conorsch,2015-11-22 01:22:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd293e05d8e9aaf7b8272f66425fc28349d5daec,cd293e05d8e9aaf7b8272f66425fc28349d5daec,"Removes vagrant up commands for build machine

Automatically bringing up the build machine sounds convenient, but
doesn't actually work as intended. If the bulid VM was not present
during a staging run, the `vagrant up` command will fix that, but it'll
still be missing from the automatically generated inventory file that
Vagrant creates, causing the `groups.all` check to fail anyway.

Therefore it's best to check and fail, but skip the automatic `up`."
conorsch,2015-11-13 23:49:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ad494e512de5ee207b81e32b9f6a8ff8603ba6e8,ad494e512de5ee207b81e32b9f6a8ff8603ba6e8,"Adds ""rebuild"" tag for simpler testing of code changes

By running just the ""rebuild"" tag like so:

    ANSIBLE_ARGS=""--tags rebuild"" vagrant provision /staging/

developers can rebuild the deb packages and install them on the staging
hosts. No other changes are made during the provisioning run, so the
entire rebuild-and-reinstall process takes less than a minute."
conorsch,2015-11-13 21:51:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d3d47be7da06121c1ff1c47c0b871a7a320959d6,d3d47be7da06121c1ff1c47c0b871a7a320959d6,"Automatically bring up Build VM in staging playbook

Since the Build VM is a hard requirement, we might as well be friendly
to the developer and automatically bring it up as part of the staging
run."
conorsch,2015-11-13 21:39:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2869f974cf1f81215de415250a5514515f94c272,2869f974cf1f81215de415250a5514515f94c272,"Check for Build VM prior to running staging playbook

The staging playbook requires the Build VM to repacked the application
code, which is installed via the `install-local-packages` role. If the
Build VM is not running, fail and print a helpful message explaining how
to rectify the situation."
conorsch,2017-04-04 19:33:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/73bdf4089c8cd3e3d22464248340eaa1fc0d902f,73bdf4089c8cd3e3d22464248340eaa1fc0d902f,"Merge pull request #1636 from freedomofpress/merge-0.3.12-into-develop

Merges 0.3.12 changes into develop"
conorsch,2017-04-04 19:06:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5167dc994e6e2e7e48474f200de94ca709f9a59,e5167dc994e6e2e7e48474f200de94ca709f9a59,"Merge pull request #1638 from freedomofpress/update-dev-docs-for-pytest

Update developer docs for tests"
conorsch,2017-04-04 17:31:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9590db88eae06322dc1b44be7eb52a9e5e5333ef,9590db88eae06322dc1b44be7eb52a9e5e5333ef,"Updates config tests URL in developer docs

Should have been included via changes in #1616, but was overlooked."
redshiftzero,2017-04-03 19:30:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f26b67e6ae4d7375a9b720e4a16d404d87fc719,4f26b67e6ae4d7375a9b720e4a16d404d87fc719,Developer docs: Describe how to run test suite using pytest
redshiftzero,2017-04-03 19:28:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/50cfebd20eedbc82170ae4f3ab4f78e1e5145cde,50cfebd20eedbc82170ae4f3ab4f78e1e5145cde,Remove old reference to test running through manage.py from snap CI
conorsch,2017-03-30 01:52:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e95964fcf15a2ce82e587638cf0f84be31faf787,e95964fcf15a2ce82e587638cf0f84be31faf787,"Merge pull request #1612 from freedomofpress/heartsucker-remove-generated-files

Refactor build-securedrop-app-code-deb-pkg role"
conorsch,2017-03-30 01:31:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f6d47abd1af7440613b0963b1d051935d215f65,6f6d47abd1af7440613b0963b1d051935d215f65,"Updates Homepage URL for securedrop-keyring package

Only the `securedrop-keyring` package was using the old FPF-based URL,
rather than the SecureDrop-specific project website URL. Fixed, and
updated the tests to track regressions here, so that all Debian packages
built in this repo are expected to have the securedrop.org URL."
conorsch,2017-03-30 01:25:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/14fbe0fb50892140b0f83758bf156b83e5411c5a,14fbe0fb50892140b0f83758bf156b83e5411c5a,"Merge pull request #1632 from freedomofpress/add-pr-template

Add PR template"
conorsch,2017-03-29 23:50:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/353e026628acf11f9f904ac8cc1adafd40c1dd8b,353e026628acf11f9f904ac8cc1adafd40c1dd8b,"Version-locks the sass gem in the build role

Pinning a specific version, because the ""< 3.5"" logic was causing
Ansible to query what's available from rubygems.org on every build. We
know the version that works well, so let's pin on that, which still
satisfies the version constraints discussed in #1594.

The associated config test was already checking the explicit version,
so removed the comment indicating that the Ansible config should be
updated to match."
conorsch,2017-03-29 22:35:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07e11efb2022050dc5766e026d7f91dacf5c7ade,07e11efb2022050dc5766e026d7f91dacf5c7ade,"Uses rsync filters for globbing app-code files

Uses pure rsync with custom filter (i.e. include/exclude) rules in order
to prepare the contents of the build package additively. The global
exclude at the bottom of the file drops everything that wasn't
explicitly whitelisted, ensuring that we won't get .pyc files or
anything else unwanted in the future.

Also omitting the `config.py` file at the top, to make sure we don't
accidentally clobber the config.py configured via Ansible on first run.

Appending `--chown root:root` to the rsync command to ensure that the
files for the deb package have the proper ownership. In the future we
should use lintian to track checks like this."
conorsch,2017-03-30 00:54:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f93549a46afab546c5cb0609f37c30380726d57,8f93549a46afab546c5cb0609f37c30380726d57,"Creates .github directory for storing PR template

Also moved in the auto-labeler tooling. That's not technically an
official GitHub feature, but conceptually it makes sense to shove it in
the GitHub-specific directory."
conorsch,2017-03-29 22:12:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/678a62489d6cfb0df885de8c45dd3bebd7005977,678a62489d6cfb0df885de8c45dd3bebd7005977,"Updates travis-ci pytest command

Moving the tests back into securedrop/tests/ requires the associated
Travis script command to have its relative paths updated."
conorsch,2017-03-29 20:07:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dbf6dc8aaeaf83c3d414416f82b0294e52157f88,dbf6dc8aaeaf83c3d414416f82b0294e52157f88,"Copies in tests/ dir via fileglob during package build

Ensures that the tests land with the app-code package. This isn't the
best in terms of best practices, at least according to the pytest
maintainers, but it's conservative in that we've been doing it a long
while now, and it also trivially enables testing within the app-staging
environment, which otherwise would not have the tests present."
conorsch,2017-03-29 21:33:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/330c9992ea9b856f860b6cc0de6c24a3c6f6d25f,330c9992ea9b856f860b6cc0de6c24a3c6f6d25f,Move tests back into securedrop directory
conorsch,2017-03-29 18:59:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/596d6beff089a63686e0ef56af43a0bcecdf3cac,596d6beff089a63686e0ef56af43a0bcecdf3cac,"Adds /vagrant mount for libvirt in Build VM

The vagrant provisioning was falling back to rsync, which doesn't
support two-sync, so build artifacts were not present on the host
machine. The long-term solution is to use fetch for copying the source
files out and the build artifacts back, otherwise the build process
can't work in CI. Punting on that for now, though."
conorsch,2017-03-29 18:39:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a90319c699971855589ed4cfcf11d802fb9b67f2,a90319c699971855589ed4cfcf11d802fb9b67f2,"Bumps config test vars to app-code version 0.3.12

This wasn't present in the original 0.3.12 commit, because the config
tests don't exist in master yet."
conorsch,2017-03-29 18:24:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f3f8c50938e15f092eca221cc5d9769dbc8dbf9,9f3f8c50938e15f092eca221cc5d9769dbc8dbf9,"Fixes config test for user environment

The changes in #1628 patched the user env tests to skip under Travis,
but were missing pytest import. This only generates failure during local
testing, so patching."
conorsch,2017-03-29 18:20:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e7df0cd222912ea97a7d538bd840b948524077ab,e7df0cd222912ea97a7d538bd840b948524077ab,"Enables config test for prohibiting swap on app machines

Still permitting swap presence on Monitor hosts, since the first-run
Ansible config hasn't been updated to remove it there. Changes to the
Ansible config are tracked in #1620."
conorsch,2017-03-20 18:27:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d95414022a3b25d1cb4c3673f9179fb03a86ac8c,d95414022a3b25d1cb4c3673f9179fb03a86ac8c,SecureDrop 0.3.12
conorsch,2017-03-16 00:16:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8843e85d371f0b96bd970a8d50b722fb1d03b0e9,8843e85d371f0b96bd970a8d50b722fb1d03b0e9,"Permanently disables swap in securedrop-app-code preinst

Checks for active swap on system, and if found:

  * disables it so the system won't write to it
  * shreds the contents so any sensitive data is destroyed

Regardless of whether an active swap config was disabled, any fstab
entry of type ""swap"" will be commented out, effectively disabling it
permanently by ensuring it won't be reenabled on subsequent reboots.

Closes #1620."
conorsch,2017-03-29 17:43:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df153b83d15056ed54da0446457d734db48ae639,df153b83d15056ed54da0446457d734db48ae639,"Adds config test ensuring `config.py` is absent

We don't want to ship the config.py file, only the .example version.
This test checks that it doesn't slip into a Debian package for the
app-code."
conorsch,2017-03-29 17:38:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/760ec9aa2879b8d28d6923c6492006ea5137308b,760ec9aa2879b8d28d6923c6492006ea5137308b,"Enables config test prohibiting .pyc files in deb packages

Was marked as `xfail` before, since we weren't enforcing the .pyc
stripping."
heartsucker,2017-01-11 14:37:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d65ff9ef0acf33b2f33e9fa51d9f13aa1a7b7d1,6d65ff9ef0acf33b2f33e9fa51d9f13aa1a7b7d1,constructive build for deb package
conorsch,2017-03-29 16:56:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/22182dfe62453dff6aba72527f51103c117627e4,22182dfe62453dff6aba72527f51103c117627e4,"Merge pull request #1635 from elimisteve/patch-1

threat_model.rst: Updated URL to Pond threat model"
elimisteve,2017-03-27 01:52:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e87f9248a59e402336bd9b6974f4a9bc1b80664,6e87f9248a59e402336bd9b6974f4a9bc1b80664,threat_model.rst: Updated URL to Pond threat model
conorsch,2017-03-23 16:58:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ddcc6b6045af596d2bf2c1d83203b9dc93a6050c,ddcc6b6045af596d2bf2c1d83203b9dc93a6050c,"Merge pull request #1527 from freedomofpress/improve-unit-testing-from-manage-py

Run tests directly with pytest"
conorsch,2017-03-23 16:47:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/56fe13f8eb8bf066483ccebfb674821fdda3c16d,56fe13f8eb8bf066483ccebfb674821fdda3c16d,"Merge pull request #1633 from xanderhades/patch-1

Fix typo in install.sh"
xanderhades,2017-03-23 15:34:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/72868d0e31ec932ac9315aec15991c213a1a0cb9,72868d0e31ec932ac9315aec15991c213a1a0cb9,"Fix typo in install.sh

Missing double quote ending at line 345"
redshiftzero,2017-03-23 12:18:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/655798178c6f05bcc5f05355323df76b271ad9e8,655798178c6f05bcc5f05355323df76b271ad9e8,Add pull request template
conorsch,2017-03-21 21:11:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a27df2be44664d05baa57c79c3af98526ac92d0,8a27df2be44664d05baa57c79c3af98526ac92d0,"Merge pull request #1628 from msheiny/TestInfraTravis

Run testinfra under travis"
msheiny,2017-03-21 20:37:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/88fc2c84d8fab35b014f2857dccdd657af330a13,88fc2c84d8fab35b014f2857dccdd657af330a13,"Permissions never explicitly set for default logo.png

Permission mode seem to change between Travis and development/prod against
this folder. Since there is no default permission enforcement that I could
find against the folder recursively, I think we are better off bumping
this issue to another ticket addressing in ansible and subsequently in an
adjacent testinfra test."
msheiny,2017-03-20 20:02:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d857afe4127411dc15f3d6f890a6fbebbd5fe7e7,d857afe4127411dc15f3d6f890a6fbebbd5fe7e7,"Prevent testinfra requirements overstepping dev

Some of the locked development requirements were being
over-ridden by dependencies installed in the earlier testinfra
requirements stage. Since some of these dependencies, specifically,
testinfra and ansible are needed prior to the ansible installed
test-requirements.txt - these unfortunately have to remain separated here."
msheiny,2017-03-20 18:48:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81d193c3a2adf0dec8f08baca30a520248c8528d,81d193c3a2adf0dec8f08baca30a520248c8528d,Delete preinstalled pytest version 3.0.5
msheiny,2017-03-20 18:44:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/703e45f3e633ae67d6af65ce5aa0fdd0ab0bc9be,703e45f3e633ae67d6af65ce5aa0fdd0ab0bc9be,Debug existing travis pip deps we are working with
conorsch,2017-03-20 18:27:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/770e3e5931c4385e0f076290e1915ede9f7357f2,770e3e5931c4385e0f076290e1915ede9f7357f2,SecureDrop 0.3.12
msheiny,2017-03-20 18:15:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c56315452812c2e860b4b7ac1b256e8d5651484,4c56315452812c2e860b4b7ac1b256e8d5651484,"Move coveralls dependency into requirements files

Lets start tracking the version utilized in CI."
msheiny,2017-03-20 15:52:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/231464ebb6258756a5ae47a059e42e898cbd9e28,231464ebb6258756a5ae47a059e42e898cbd9e28,Match Travis logo.png ownership
msheiny,2017-03-20 15:52:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15ea162cd8651f908040dc6641266778607fe67d,15ea162cd8651f908040dc6641266778607fe67d,"Revert ""Attempt to work-around pip version mismatch in CI""

This reverts commit 32f2cdbb2ed3797630eae1b9221e1614455d3a80."
msheiny,2017-03-20 15:35:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04ff8407d647fa3a6c592410817b91c3fe11ceb8,04ff8407d647fa3a6c592410817b91c3fe11ceb8,"Fixed logo.png permission check - testinfra

If you do not utilize a custom logo then the securedrop default logo
has 644 permissions set. I suspect the reason this hasnt bit anyone
else is because the have their own custom logo sitting in their securedrop
repo which they have been ignoring. When you use a custom logo, the ansible
playbook task will change permission on it to 0400."
msheiny,2017-03-20 15:27:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/db6bcdc38f9e5dce6c3235c7d8df4bdf0ec071f7,db6bcdc38f9e5dce6c3235c7d8df4bdf0ec071f7,Re-enable pip tests in development CI
msheiny,2017-03-20 15:06:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/301f199694d33daa6a41d3adab17cbdaaa8f0b09,301f199694d33daa6a41d3adab17cbdaaa8f0b09,Forgot to include os module in testinfra test
msheiny,2017-03-20 15:05:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/32f2cdbb2ed3797630eae1b9221e1614455d3a80,32f2cdbb2ed3797630eae1b9221e1614455d3a80,Attempt to work-around pip version mismatch in CI
msheiny,2017-03-20 14:53:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f187604fda884e712cb0512da57f3711e14f763,2f187604fda884e712cb0512da57f3711e14f763,"Conditional for config.py in CI, fix perm logo.png"
msheiny,2017-03-17 22:10:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bcd952b56c411b34d31a2748e36b0d235302c6d8,bcd952b56c411b34d31a2748e36b0d235302c6d8,"Tweaks for testinfra under travis environment

Skipped over some of the bashrc tests under Travis. Apparmor is
also not loaded under Travis environment so the aa-enable check comes
out different."
msheiny,2017-03-17 20:38:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc54de45ce50a3e36f5d63a1d72318519ed6a81c,cc54de45ce50a3e36f5d63a1d72318519ed6a81c,"Skip iptables and pip tests in Travis

The iptables test will be unexpected since Travis already has their
own existing rules that will collide with us. So lets skip those. I also
noticed that the pip tests were failing because some of the dependency
versions were slightly higher - I suspect this is because we are using
site_packages with virtualenv. We may want to circle back and nail
down the right dependencies for travis but I'm skipping for now."
msheiny,2017-03-17 20:37:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0917a560679d0b24ef26a644d5d0e6df5b8d3b9e,0917a560679d0b24ef26a644d5d0e6df5b8d3b9e,"Some of the hard-coded paths break under travis

Since travis is running tests from a different root folder, we have to
determine that from a dynamic environment variable each time. Used a conditional
and some jinja magic to make this replacement."
msheiny,2017-03-17 19:39:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc3856cbf6f698c6cc45fab13ad955aec63b7afc,bc3856cbf6f698c6cc45fab13ad955aec63b7afc,Pass slightly different test variables under travis
msheiny,2017-03-17 18:44:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ebb38c79fcc585b830ca0b055eaf43055f763bd,0ebb38c79fcc585b830ca0b055eaf43055f763bd,Make sure to install all pip test requirements
msheiny,2017-03-17 18:38:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be6402d034c2195f4cff836550958558f1ebfd26,be6402d034c2195f4cff836550958558f1ebfd26,Add detection conditional for travis environment
msheiny,2017-03-17 18:23:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c06e85cde7bec0ed5bcaa7220ae6578260e61b2,1c06e85cde7bec0ed5bcaa7220ae6578260e61b2,"Misc whitespace issues on local testinfra run

Not exactly sure why this was happening, locally versus over ssh but
seems like stripping off some whitespace resolved for me and still passed
in both environments."
conorsch,2017-03-16 19:09:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b6b320b26121ec353408955c7597b90c3265f297,b6b320b26121ec353408955c7597b90c3265f297,"Merge pull request #1616 from freedomofpress/convert-serverspec-tests-to-testinfra

Converts config tests from Serverspec to TestInfra"
conorsch,2017-03-16 17:52:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be20353bf50d169b04eba4f774cf5237f67e9dd4,be20353bf50d169b04eba4f774cf5237f67e9dd4,"Merge pull request #1623 from freedomofpress/install-tmux-in-common-role

Install tmux in common role"
conorsch,2017-03-16 17:49:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c4f0a8e9370d0e1eb9a0018ad0e03c3ee4d369a4,c4f0a8e9370d0e1eb9a0018ad0e03c3ee4d369a4,"Adds config test for tmux installed state

We require the tmux package to be installed, since it's used in the user
environment to provide resilience in the event that an interactive SSH
session is disconnected prematurely (as sometimes happens with Tor).

PR #1623 updates the Ansible config to ensure tmux is present, and this
test will track regressions in case it ever disappears from the base
image."
conorsch,2017-03-16 17:45:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da7205de97eba7957476d533af9129fc510ec114,da7205de97eba7957476d533af9129fc510ec114,"Removes mode check for /vagrant/securedrop directory

Different virtualization providers, e.g. VirtualBox versus libvirt, may
mount the shared directory with slightly different umasks. Let's not
police that, since the important thing is the ownership in the
development environment and the fact that the app code is present and
its associated services are active."
conorsch,2017-03-16 17:43:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/278ec2574108bf8a99e06f0f3844b5b3b78aa164,278ec2574108bf8a99e06f0f3844b5b3b78aa164,"Merge pull request #1626 from freedomofpress/permanently-disable-swap

Permanently disables swap in securedrop-app-code preinst"
conorsch,2017-03-16 00:16:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8158cfeee1da16e226a99376dbe6db1b29d43eb9,8158cfeee1da16e226a99376dbe6db1b29d43eb9,"Permanently disables swap in securedrop-app-code preinst

Checks for active swap on system, and if found:

  * disables it so the system won't write to it
  * shreds the contents so any sensitive data is destroyed

Regardless of whether an active swap config was disabled, any fstab
entry of type ""swap"" will be commented out, effectively disabling it
permanently by ensuring it won't be reenabled on subsequent reboots.

Closes #1620."
conorsch,2017-03-16 17:14:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b9f62420e7d141a2b1495369e410a8b013047e48,b9f62420e7d141a2b1495369e410a8b013047e48,"Use state=present on tmux install

Makes the logic less aggressive on installing tmux. We'll still ensure
it's present, but we can rely on automatic updates via cron-apt to pull
in any security fixes on a nightly basis."
conorsch,2017-03-16 01:52:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c50b3b508cc7bbf4b666e59f5943786eedae89bf,c50b3b508cc7bbf4b666e59f5943786eedae89bf,"Converts iptables config tests for app-staging to dynamic vars

Using the Jinja-based templating logic, same as mon-staging, to look up
the necessary uids and gids dynamically, for interpolation in the
iptables rulesets. As described in the developer docs, these config
tests focus on testing implementation, rather than behavior, but they're
a good start toward the testing baseline we want to deliver."
conorsch,2017-03-16 01:48:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/05d8893faa169465617d2e8d43044afaa7511818,05d8893faa169465617d2e8d43044afaa7511818,"Reenables dynamic networking vars in mon-staging tests

The Jinja logic was being skipped pending a CI-compatible change, but we
need to look up the uids and gids dynamically, since they're not
consistent across builds. Fortunately @msheiny already wrote the logic,
so this change just removes the ""skip"" marker on the test and deletes
the YAML vars in favor of the Jinja template."
conorsch,2017-03-15 18:47:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/84dadfe124a1f4673c7c2e25392376569791f767,84dadfe124a1f4673c7c2e25392376569791f767,"Makes regex for HidServAuth token less strict

The tests were reporting failures on the HidServAuth token not matching
the specified regex, which was overly strict, and didn't include the `+`
character in the set for allowed chars. Let's permit any characters and
validate the length of the token, as well as its situation within the
entire HidServAuth declaration within the `hostname` file for Tor
services."
conorsch,2017-03-15 18:04:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e4eadf59acc870e0d35dc90a9b8a49c57c409139,e4eadf59acc870e0d35dc90a9b8a49c57c409139,"Explains need to create VMs prior to running config tests

The old Serverspec scaffolding logic automatically created the VMs prior
to testing, but the Testinfra setup does not. Removed statements about
the VMs automatically being created.

Also adds a note stating that the staging VMs must be rebooted prior to
running the config tests. This is because we've removed the automatic
reboot at the end of the staging playbook, simply to get those machines
up and running faster. (Perhaps we should readd it.) The prod playbook
retains the reboot-after-run logic."
redshiftzero,2017-03-14 18:06:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ee59742c688fdfc270e148412d1168997d1eba20,ee59742c688fdfc270e148412d1168997d1eba20,"Merge pull request #1618 from freedomofpress/fix-hover-to-show-codename-button-colors

Fix colors on hover-to-show/hide-codename button"
conorsch,2017-03-10 22:02:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/696b70acffa2eb4d8dcb5bb78b03361f3774873c,696b70acffa2eb4d8dcb5bb78b03361f3774873c,"Adds note to developer docs about partial prod tests

The prod-tests are not all passing yet. Having trouble drilling down
with the config since `app-prod` provisioning is currently broken, due
to the Document -> Journalist interface rename. Noting the incomplete
state in a `note` block, and will revisit once the `app-prod`
environment is working in the develop branch again."
conorsch,2017-03-10 19:44:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d71dbddf5acb198d732127a4ee41b7d983acf57,8d71dbddf5acb198d732127a4ee41b7d983acf57,"Partial implementation for running prod tests over Tor

The SECUREDROP_SSH_OVER_TOR=1 env var will instruct Vagrant to use the
ATHS info when constructing SSH requests. We must use the `ssh` backend
for Testinfra when running over Tor, because we don't have a dynamic
inventory file for Ansible that honors the ATHS values. So let's dump
the content of `vagrant ssh-config <hostname>` to a tempfile and use
that."
conorsch,2017-03-10 19:02:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f7f7aa36c8ec0cd426036c0f4a89c581628d6013,f7f7aa36c8ec0cd426036c0f4a89c581628d6013,"Refactors config test wrapper into defs

Probably a class-based layout is best, but this is already
more maintainable."
conorsch,2017-03-10 21:58:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/427eaa2486bdf553c3fada14d28e944541a97d1d,427eaa2486bdf553c3fada14d28e944541a97d1d,"Removes deprecated Serverspec config test directory

The tests have been ported over to Testinfra, so we don't need the
Serverspec suite as a reference any longer. Also updated the .gitignore
file for the repo to remove the Serverspec-related entries."
conorsch,2017-03-10 21:40:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f8492540077acc5a2552af794960a9aabe4b2aae,f8492540077acc5a2552af794960a9aabe4b2aae,"Adds note on testing strategy to config test docs

Listing a caveat that the config tests currently fall short of the
testing expectations we have for the project, but that's temporary.
Converting the config test suite to TestInfra should enable more rapid
development, and will be most useful in porting the Ansible config to a
more recent version."
conorsch,2017-03-10 21:31:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6b798afec758c1637a72e9ebf41b00635d89cb2c,6b798afec758c1637a72e9ebf41b00635d89cb2c,"Trims down config tests requirements.txt

The original version of this file was created via `pip freeze` and so
included app-test requirements, which are only necessary inside the VMs,
not externally. This may change, of course; for example, running
Selenium outside the VM to interact with the Hidden Services."
conorsch,2017-03-10 20:56:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ad3bd781227dd177ba15064e6b5c0d7e79f07629,ad3bd781227dd177ba15064e6b5c0d7e79f07629,"Renames ""spectests"" -> ""config tests"" in developer docs

We've ported the Serverspec tests to Testinfra, but let's generally
refer to them as ""config tests"" to keep things flexible and clear.
The point is that these tests validate machine state and system
configuration on the SecureDrop VMs, and the name of the particular
software project used to do so is less important."
conorsch,2017-03-10 00:48:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0edfb5f15190beb2e2e66044ec814ede44a82f02,0edfb5f15190beb2e2e66044ec814ede44a82f02,"Adds test vars for expected iptables rulesets

Now have full coverage for exact matching of expected iptables output,
checked via string comparison of `iptables -S` output. The IPv4
addresses are hardcoded all over the place, which restricts the tests to
local execution against Vagrant hosts. Will need to make the logic more
dynamic (and hopefully DRY) before chucking the suite into CI.

Also adds hardcoded app-prod IPv4 address to mon-prod vars."
conorsch,2017-03-10 00:27:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b0c445c429f5382d7ceca9bca1b3e3d3fb30a477,b0c445c429f5382d7ceca9bca1b3e3d3fb30a477,"Generalizes the iptables config test logic

Rather sloppy implementation, but gets the job done in terms of local
testing via Vagrant. These checks are for an exact match of the expected
ruleset, so any tweaks to the iptables rules in the Ansible config, even
in comments, will trigger failure here. Essentially we're only checking
implementation, rather than functionality, but that's fine for now,
since we're about to make a lot of changes to the Ansible config, and we
want to make sure we've got the system state as we want it."
conorsch,2017-03-10 00:25:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/31eb4ac103680c58938ca5afd4f1941c4cc10d3d,31eb4ac103680c58938ca5afd4f1941c4cc10d3d,"Removes redundant ""unwanted"" iptables config test

Since we're (rather lazily) checking for exact string equivalency of the
entire iptables rule output, we already have state=absent checking for
free; there's no need to duplicate the tests specifically for unwanted
lines.

Down the road we'll need to revisit the vars logic in the iptables
rules, since the current implementation hardcodes addresses all over the
place. Deferring work on that during test conversion; we'll tackle when
we hit the CI pipeline hard."
conorsch,2017-03-09 23:28:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a5207b38cfb495b8c3b2433ae405687b769d7cfa,a5207b38cfb495b8c3b2433ae405687b769d7cfa,"Adds missing `os` import for apparmor config tests

The `os` import is used to read environment variables for conditional
host skipping. Line works as advertised, but the required import was
omitted. Fixed."
conorsch,2017-03-09 22:53:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b4ec1c3f61eaeb66f9c85c0f106949cb8e74b85,3b4ec1c3f61eaeb66f9c85c0f106949cb8e74b85,"Breaks up tor config tests across multiple files

Separate the general system tor config from the more granular hidden
service checks."
conorsch,2017-03-09 22:36:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/05115b18af93bd365f7cb10d8c853b1ba06d08fd,05115b18af93bd365f7cb10d8c853b1ba06d08fd,"Parametrizes tor hidden service tests

Updates the test vars YAML declarations to use a list of dicts, so that
the config tests can loop over those vars (which will vary by host) and
run the same testing logic with different inputs."
conorsch,2017-03-09 18:51:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd3714ed442adc6ad8e0fa00f09067e3b63cb011,dd3714ed442adc6ad8e0fa00f09067e3b63cb011,"Adds config test for analyzing OSSEC log errors

The check is simple and only confirms absence of one particular class of
error, but an important one: failed to decrypt submission from an agent.
Presence of this error indicates a misconfigured client, meaning alerts
are not shipping as expected for handling by OSSEC."
msheiny,2017-03-09 01:32:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/86be7733b31b1ca130502c13f88126db218de588,86be7733b31b1ca130502c13f88126db218de588,Clean-up duplication of apparmor spec tests
conorsch,2017-03-09 01:20:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/79e674c4e60d8f9746d168ea49111d2c8a495689,79e674c4e60d8f9746d168ea49111d2c8a495689,"Adds platform config tests (Ansible and OS)

Simple checks intended to provide helpful output to first-time
developers (who quite often install Ansible v2 and encounter
frustrating breakage), as well as the OS requirement of Ubuntu Trusty.
We'll soon need to evaluate the transition to Ubuntu Xenial, and the
config test suite will quite useful during that process."
conorsch,2017-03-09 00:10:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7cbb6deb147c959637e0b44985a6c8ce5dbb1a70,7cbb6deb147c959637e0b44985a6c8ce5dbb1a70,"Removes deprecated Serverspec tests for build host

Already converted and refined in previous commits; now removing the old
test file, to aid in collaborating with multiple developers on the
conversion process."
conorsch,2017-03-08 23:53:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d0620682516d54d9bf18e95db7b9c67df6ea2e9,1d0620682516d54d9bf18e95db7b9c67df6ea2e9,"Updates gitignore logic for built deb packages

The previous logic was ignoring anything stored under any dir named
""build"", which is a bit aggressive: it prohibited committing the
config tests in `testinfra/build/` as a result. Let's update the line to
ignore only `*.deb` files within the build directory."
conorsch,2017-03-08 23:41:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/05f33c5854567cda17638cbb8738b78cdcca39c1,05f33c5854567cda17638cbb8738b78cdcca39c1,"Adds xfail test for removing .pyc files from deb packages

Evaluates the build artifacts and checks to ensure that there are no
.pyc files. Currently there are by default, unless the builder of the
package manually cleans them up, e.g.

   find -type f -name '*.pyc' -delete

prior to building. We should update the build logic to handle this step
automatically, because mistakes are costly."
conorsch,2017-03-08 23:31:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/074674e56177f24494c41f0379ef54fdb889a4f1,074674e56177f24494c41f0379ef54fdb889a4f1,"Marks xfail for Homepage test in deb packages

The tests caught the fact that the ""Homepage"" field in the
securedrop-keyring package has a non-standard URL, namely the old
project URL (http://freedom.press/securedrop). We should update that
value, then the test will pass on all debs."
conorsch,2017-03-08 22:44:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c1dd269d137990d576c0c5284c3ec09670b1b67,6c1dd269d137990d576c0c5284c3ec09670b1b67,"Parametrizes deb package build tests

Using helper logic to keep the version definitions DRY.
Stores build directories in test YAML vars, so they're looked up
automatically, then manipulated somewhat to permit variable
interpolation within the tests. Not using proper pytest fixtures for
doing this, just basic Python. Works well enough.

Includes a commented-out line for the build path dir for
securedrop-app-code, explaining that the scripts are different for
building that package versus the others, so the shared build dir
is destroyed in between, and that makes it impossible to test the build
dir output of all. That's fine: the important thing to test the build
artifact, the .deb file itself, and that's always present post-build."
conorsch,2017-03-08 20:04:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f31128312c154ade1e970dddb273b4e09a32377,3f31128312c154ade1e970dddb273b4e09a32377,"Converts build config tests Serverspec -> TestInfra

These tests aren't exactly robust, but now they're ported. Will continue
to work on the suite and add checks that evaluate the actual build
artifacts, such as confirming absence of .pyc files.

Breaks up the test logic over multiple files, to keep the tests
readable, and to help developers isolate where to make changes.

Adds built host to Testinfra wrapper script, to permit
targeting of build-specific tests."
msheiny,2017-03-08 23:42:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1625ee1c75dad5c458a523f0d5aaa68d9637ecb5,1625ee1c75dad5c458a523f0d5aaa68d9637ecb5,Combined both tor testinfra common tests together
msheiny,2017-03-08 23:34:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/358133261ddf99311031c0707ecacd0318dca99c,358133261ddf99311031c0707ecacd0318dca99c,Convert tor_spec --> testinfra
msheiny,2017-03-08 22:59:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8c5599c05cf8af2e3c9dbaeb55adb3bb069e3d74,8c5599c05cf8af2e3c9dbaeb55adb3bb069e3d74,Migrated apparmor_spec --> Testinfra
msheiny,2017-03-08 22:04:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c83b9e82b1a9a900932daac6173ba4c1538cd82,6c83b9e82b1a9a900932daac6173ba4c1538cd82,"Convert securedrop_app_spec --> Testinfra (Staging)

Only really tested these on staging thus far, but made some conditional
pytest attributes for tests that should only be run on app-staging"
conorsch,2017-03-08 19:39:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f100aa7c0dbc2df423f1a3723badf8e2d81bcd42,f100aa7c0dbc2df423f1a3723badf8e2d81bcd42,"Skips apt autoremove check on app-staging host

Due to the outdated version of Firefox for Selenium compatibility, we
can't assume that there will be no packages left to upgrade. Let's skip
the check only on app-staging, since on app-prod, there won't be a
Firefox or Selenium for testing, and this test doesn't run on
development since it's part of the grsecurity test suite."
conorsch,2017-03-08 19:27:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/acdb70e5fd2870b8bffb02ee36464ad42af1578a,acdb70e5fd2870b8bffb02ee36464ad42af1578a,"Sudoizes config tests where necessary

Most of the app-code tests were written targeting the development VM,
but they're relevant for the app VMs as well. Under app, grsecurity
comes into play, which forbids reading out of /proc for services not
managed by the user performing the query.

The docroots for serving up the application code are also more
restrictive on the app hosts, so let's escalate privileges there, as
well. We could technically leverage the `securedrop_user` test var
and sudo as that user to make the calls, but elevating and then
explicitly declaring exact modes will create more informative test
output in the event of failure."
msheiny,2017-03-08 19:12:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20ce89620840315f10cf7177282f1fba5b2baa11,20ce89620840315f10cf7177282f1fba5b2baa11,"Converted ossec_agent_spec -> testinfra (staging)

Still need to run it through the prod wringer."
conorsch,2017-03-08 19:08:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f3bcd1b86197302e80accc3064902d611f02f71a,f3bcd1b86197302e80accc3064902d611f02f71a,"Fixes config test for all packages being upgraded

The test is more complicated than required because we're hardcoding an
older version of Firefox in for compatibility with Selenium. Regardless
of whether a new package will be installed, an aptitude dry-run reports:

    Would download/install/remove packages.

So we can't use that string to check whether packages would be
downloaded, installed, or removed, ironically. The new check logic
permits only Firefox as a single package to upgrade, and otherwise
all packages must be up to date (e.g. on Monitor hosts).

This check will need to be revisited once we have the prod environment
tests ported."
conorsch,2017-03-08 18:40:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/88fc1e5c9c5c017b8064e4f2583153d53735d9b8,88fc1e5c9c5c017b8064e4f2583153d53735d9b8,"Converts Testinfra wrapper script bash -> python

Was having a heck of a time declaring multiline arrays in Bash, so let's
ditch Bash and run everything in Python. Was careful to omit any
non-core includes, so the Python wrapper script is nearly as convenient
(meaning no external dependencies) as Bash would be."
conorsch,2017-03-08 18:32:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6cc6e2caeb15397e06d43f3b0bc41b55551bb3cc,6cc6e2caeb15397e06d43f3b0bc41b55551bb3cc,"Downgrades Ansible to 1.8.4 for testinfra requirements

We're currently requiring an older version of Ansible due to the version
available via apt in Tails, which uses the Jessie Stable repos, being
1.7.2. Unfortunately 1.7.2 doesn't install cleanly via virtualenv,
but 1.8.4 does, so let's use that as a close comparison.

We're working on bumping to a modern (2.2.1+) version of Ansible in the
0.4 release of SecureDrop. In the meantime, we should be careful to test
with older versions."
conorsch,2017-03-08 17:42:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb03064c34516d4b7725a66814fc51bcd459e089,eb03064c34516d4b7725a66814fc51bcd459e089,"Removes converted Serverspec tests for app and development

These have already been converted to testinfra; removing them from the
work tree to simplify breaking up the conversion process over multiple
developers."
conorsch,2017-03-08 17:20:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc6b2f2f29660f39ab00c17313f75adbb6e562f7,cc6b2f2f29660f39ab00c17313f75adbb6e562f7,"Adds additional test suites to app-staging run

Pulling in some of the development tests, mostly matching the breakdown
provided by the old spec tests."
msheiny,2017-03-08 05:32:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b9b36a9b0c348761a38add906027f8dcabbaf39b,b9b36a9b0c348761a38add906027f8dcabbaf39b,"Added case for mon-prod

Have only tested the mon folder so far, so I didnt add the common
folder tests yet."
msheiny,2017-03-08 05:24:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/166cd97402451fd00ccddb9a5b777fd143f1088b,166cd97402451fd00ccddb9a5b777fd143f1088b,"Added flag for parallel test runners

You'll have to install the xdist pip requirement outlined in the requirements
file but this should speed up tests a bunch."
msheiny,2017-03-08 05:23:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fee91df1e7efb220e9d624975f5a06910c4410d5,fee91df1e7efb220e9d624975f5a06910c4410d5,"Expanded coverage for monitoring specific server

Had to make some tweaks to iptables and hosts file validation but
other than that, it was smooth sailing BUT super super slow."
conorsch,2017-03-08 05:19:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5322f9c8cb5616410c4b4f8adcf93338bc1753ad,5322f9c8cb5616410c4b4f8adcf93338bc1753ad,"Updates iptables rules for mon server

Using a simple string comparison check for the entirety of the
iptables output, which gives us solid checking about rule order. The
previous implementation supported dynamic vars, which was sharp, and
we'll definitely need to use that again. To keep moving quickly, I
marked the old test as ""skipped"", but did not delete it."
conorsch,2017-03-08 05:13:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c75f2233b8a5bc6ef05251f32786bc4247f6dd85,c75f2233b8a5bc6ef05251f32786bc4247f6dd85,Removes constants.py logic from mon tests
conorsch,2017-03-08 02:45:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/428c743e397417768b682218dbdcaf32438ae853,428c743e397417768b682218dbdcaf32438ae853,"Simplifies OSSEC connectivity check

Dumbed down the test to get it to pass; the new implementation is only
applicable to local hosting via Vagrant, and will fail in CI
environments. We can patch with a more durable Ansiblized solution, as
the initial implementation strove for, once we're ready to hook up CI.

Also creates a mon-staging YAML vars file for config testing, in which
the app-staging hostname and IPv4 address are hardcoded."
conorsch,2017-03-08 02:36:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87bb0ffc3030b3559b98ffaba78cdd58ec9c3b4a,87bb0ffc3030b3559b98ffaba78cdd58ec9c3b4a,"Beefs up regular expressions in OSSEC config tests

The `File.contains()` matcher provided by Testinfra uses vanilla grep,
not PCRE. Even when properly escaping regex special characters prior to
running the .contains() matcher, certain characters such as `\s` or `+`
will always cause the match to fail. Falling back to Python regex fixes."
conorsch,2017-03-08 01:59:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a3f607e1aa955b6c477c41e6c27598ce34676883,a3f607e1aa955b6c477c41e6c27598ce34676883,"Updates OSSEC config tests to import vars

Leveraging the conftest.py logic for reading in host-specific YAML vars
files to customize the test runs. We'll need to do the same on the
mon-prod to override the hardcoded hostnames.
Converts mon vars to import (dns server)

Specifically, the following tests were modified:

  * OSSEC apt packages
  * postfix headers
  * procmail settings
  * GPG and OSSEC keys
  * Monitor Server iptables rules
  * OSSEC socket listening checks"
conorsch,2017-03-08 01:49:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e658110218ed41287d2a78a9fdde1758f5ff3b16,e658110218ed41287d2a78a9fdde1758f5ff3b16,"Includes per-host config test selection in wrapper script

Using a simple case statement to assemble a role of config test suites
to run, based on the hostname of the target host. The hostname is
exported as an env var and referenced by the conftest.py helper to
import associated vars."
conorsch,2017-03-08 01:15:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d99309d07119e7ebfcbd937e39e3d9b5a166ad2a,d99309d07119e7ebfcbd937e39e3d9b5a166ad2a,"Updates app-code tests to use dynamic vars import

Reading from the per-host YAML vars files for development and
app-staging machines. Allows reuse of the tests with different checks,
making the entire test suite more DRY."
conorsch,2017-03-07 23:22:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/078464ffb917987bda4bbf625475521d4f26fa2c,078464ffb917987bda4bbf625475521d4f26fa2c,"Updates Apache config tests to use vars import

Importing from YAML vars files to customize the test inputs, so the same
testing logic can be reused across multiple hosts."
conorsch,2017-03-08 01:10:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ca2cc1edf40e362e9fbab4f9b51ad9d89e70e2e,2ca2cc1edf40e362e9fbab4f9b51ad9d89e70e2e,"Creates per-host YAML vars files for Testinfra

Allows importing custom vars, e.g. filepaths for app code docroots,
on a per-host basis for use in config test suite."
conorsch,2017-03-07 21:49:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de66c7409f1fc39ced345c6459c91417fb335d24,de66c7409f1fc39ced345c6459c91417fb335d24,"Creates conftest.py wrapper for invoking testinfra

Enables per-host variable customization via exporting to the `pytest`
namespace. Reads in YAML files based on hostname, and makes the vars
declared there available to all tests that want it.

Requires an environment variable to be exported in the testinfra wrapper
script, which is an acceptable compromise to dry out the tests."
conorsch,2017-03-08 00:51:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d09ce1d171db17caf8dd1913085d56d10972f537,d09ce1d171db17caf8dd1913085d56d10972f537,"Exports env var for targeting hosts in testinfra run

Modifies the wrapper script used to trigger the Testinfra test suite so
that it exports an environment variable
SECUREDROP_TESTINFRA_TARGET_HOST, which is used in the
`testinfra/conftest.py` config file to import YAML vars files specific
to that host."
msheiny,2017-03-08 00:42:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21d2fac31be6327699518a10c930ac00297f339e,21d2fac31be6327699518a10c930ac00297f339e,"Removing mon server spec tests no longer needed

Superseceded by replacement testinfra tests"
msheiny,2017-03-08 00:39:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ecbd69579503db4ed6dd35bf91447e445ca7e773,ecbd69579503db4ed6dd35bf91447e445ca7e773,"Convert mon-staging/iptables_spec.rb -> Testinfra

Had to make some revisions to how we were doing iptables comparisons. Since
iptables is highly dependent on the order of the rules, it is not enough to
simply check iteratively whether each line exists - order matters. So now I am
comparing the entire iptables output against an expected output."
conorsch,2017-03-07 21:27:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e124765cdad8287d55f906e59e6adcb0e800dc24,e124765cdad8287d55f906e59e6adcb0e800dc24,"Converts the IPv6 firewall tests Serverspec -> Testinfra

Simple check to confirm all IPv6 traffic is dropped."
conorsch,2017-03-07 21:16:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb635fa9c2b878e88f3d8830843537848435b2d3,cb635fa9c2b878e88f3d8830843537848435b2d3,"Adds Apache tests for docroot access grants

Very simple test logic, using a substring search for a large multiline
block. More problematic is the non-DRY reuse of hardcoded vars; planning
on cleaning up that logic once the Serverspec -> Testinfra sprint has
slowed down, and the new test layout is stable."
conorsch,2017-03-07 20:59:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/60481058c4a37070889b87a107e153da0512f32a,60481058c4a37070889b87a107e153da0512f32a,"Adds Apache config tests for logging functionality

These are new, and haven't been tested before. We recently had a report
that Journalist Interface logging is broken, and that's indeed true.
Added an xfail marker on a test for that to track the regression once
patched."
conorsch,2017-03-07 19:35:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f119dbcd3f1c28de939480e609fd4e1b4404f94,2f119dbcd3f1c28de939480e609fd4e1b4404f94,"Breaks up Apache config tests into multiple files

The combined test file was approaching 400 lines, much of which was
variable declaration via the pytest parametrization marker. Became
difficult to navigate and update. Splitting up the tests into smaller
chunks makes it more obvious where testing logic should land."
conorsch,2017-03-07 01:09:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e77fe7ba5577bf74fdcedbe23e3c1b3787e2ccd1,e77fe7ba5577bf74fdcedbe23e3c1b3787e2ccd1,"Converts Apache config tests Serverspec -> TestInfra

Substantial changes here. For one, the Document Interface has been
renamed to the Journalist Interface, so many tests needed logic updating
to check the correct filepath and content.

Most other checks are straightforward. We're a bit heavy handed on exact
matches for the configs, but I'm comfortable with that: configs for
these services should be well thought out, and must include updates to
the test suite, as well."
conorsch,2017-03-07 00:36:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e35d5292bceb73ba8983ee9065df87303d528070,e35d5292bceb73ba8983ee9065df87303d528070,"Converts grsecurity config tests Serverspec -> TestInfra

Parametrization of the `paxtest` command slows down the test run
significantly, but it's currently disabled by default due to lack of the
`paxtest` command. We should update the app-test role to install paxtest
to make sure it's available on staging hosts.

Setting the PaX flag checks as permissible failures due to PaX flags
being out of sync between:

  * Ansible playbook in SD repo
  * post-install kernel hook in securedrop-grsec metapackage

The Ansible config should be updated so that the flags match."
msheiny,2017-03-07 00:26:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/faf6ae5b06c15fdfb9c58e8dcd8ee42872bc18eb,faf6ae5b06c15fdfb9c58e8dcd8ee42872bc18eb,"Add monitor to test.sh runner, fix for env changin'

In partciular, had to change $@ -> ${@:2} so if you pass
something like `tests.sh mon-staging` testinfra wont bomb out because
it thinks `mon-staging` should be a filename."
msheiny,2017-03-07 00:24:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/82b680df31c8ef61a50090339e1198b89fdc2cfc,82b680df31c8ef61a50090339e1198b89fdc2cfc,"Convert mon-general/ossec_server_spec.rb -> testinfra

Havent fully baked this through a prod install yet. Figure Ill take a
second pass on that as I move through. I'm also not 100% sold if my design
lay-out is the way to go, really experimenting for now."
conorsch,2017-03-06 23:52:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/835704889789bf6242c68632c6204662d9214edb,835704889789bf6242c68632c6204662d9214edb,"Converts general hardening tests Serverspec -> TestInfra

Reasonable checks for the most part, leaning heavily on the Command and
File modules since TestInfra doesn't boast as many built-in types as
Serverspec does.

The swap check is marked as ""expected to fail"", via the
`pytest.mark.xfail` decorator, pending updates to the Ansible config."
conorsch,2017-03-06 23:12:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5dce129da0de6e4c066beb7412ee2c32e3bcecec,5dce129da0de6e4c066beb7412ee2c32e3bcecec,"Converts tor config tests Serverspec -> TestInfra

Major workaround in place here: checking the tor service running and
enabled states via low-level, sysv-specific shell-outs, rather than
leveraging TestInfra's `Service` module. The Service module incorrectly
assumes the tor service will be managed inside `/etc/init/tor`, as an
Upstart service, which isn't true. Read the Service source code and
reimplemented the checks described there.

The service checks will break if run against a systemd-style host, but
that's fine."
conorsch,2017-03-06 22:33:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37bf01cde5641f814908df6887af7bd395af2389,37bf01cde5641f814908df6887af7bd395af2389,"Converts user config tests Serverspec -> TestInfra

Simple checks for dotfiles that enforce the auto-tmux functionality for
login shells on SecureDrop machines. It'd really be simpler if we
switched to `byobu`, which has the `byobu-enable` command for exactly
this use case."
conorsch,2017-03-06 21:58:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ffd696e82cc4d6470e7bf669b0555d02070bb89,2ffd696e82cc4d6470e7bf669b0555d02070bb89,"Converts FPF apt repo tests Serverspec -> TestInfra

Includes regression checks for old fingerprints on expired FPF signing
keys. Not explicitly testing for files created by `securedrop-keyring`
package, but the fingerprint checks do include that filepath, so if it's
missing, the corresponding output in `apt-key finger` will change and
cause the test to fail."
conorsch,2017-03-06 21:25:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b926a8313f4eab885d99aa77cd3e03509c393ccb,b926a8313f4eab885d99aa77cd3e03509c393ccb,"Converts cron-apt tests Serverspec -> TestInfra

Ran into a bit of trouble with the Firefox version pinned as part of the
Selenium config, since that broke checks for ""all upgrades have been
installed."" Added a logic branch in the tests that permits Firefox
if it's the only package listed in the list of upgradeables."
conorsch,2017-03-06 19:35:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68fda9b1df143fab4a1856e354c2cadd3465774e,68fda9b1df143fab4a1856e354c2cadd3465774e,"Converts xvfb tests Serverspec -> TestInfra

Only implemented for the development machine at present.
These tests should also run on the app-staging machine,
but we can add that logic to the test wrapper later."
msheiny,2017-03-06 19:29:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/91794dd1893b42e01dd5f881b9df57d5566ac12e,91794dd1893b42e01dd5f881b9df57d5566ac12e,"Codify pip requirements for running testinfra

These were the bare packages required locally for me to get testinfra tests
chugging along. We may want to reorganize this later someplace else, just
getting into git in the meantime."
conorsch,2017-03-02 00:24:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff4c04211fd9694ec12f7242237f201ca5d46b97,ff4c04211fd9694ec12f7242237f201ca5d46b97,"Converts app-code tests Serverspec -> TestInfra

Fairly straightforward. Lazily hard-coding test vars right now,
specifically for development."
conorsch,2017-03-01 23:35:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ffbd16a81d32497e4cbceeb212c85558476dbb79,ffbd16a81d32497e4cbceeb212c85558476dbb79,Parametrizes pip dependency tests
conorsch,2017-02-28 01:02:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/900b13a5ebee6f28e799d33f5ea35acae8555380,900b13a5ebee6f28e799d33f5ea35acae8555380,"Parametrizes app dev env tests

Using the `pytest.mark.parametrize` decorator to ensure that all tests
are run, even if some of the tests fail. This is a recommended best
practice with pytest, and avoids the use of `for` loops, which would
halt testing on the first failure. When testing many different pip
versions in a loop, you want to know all the versions that are wrong,
otherwise you have to patch and retest iteratively."
conorsch,2017-02-28 00:34:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a455c74deb50f720ace5587efdb825b86ad7cdfa,a455c74deb50f720ace5587efdb825b86ad7cdfa,"Converts dev app settings tests serverspec -> testinfra

Mostly these are checks that the development environment is configured
correctly, e.g. app files are served out of /vagrant rather than
/var/www, and apache and other apt packages are absent, since we're
running the dev servers out of the local app code."
conorsch,2017-02-28 00:15:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b172edba7815ed85ac178daa2d9beb397ff39dba,b172edba7815ed85ac178daa2d9beb397ff39dba,"Creates testinfra wrapper script

The testinfra invocation is tedious to type by hand, so let's wrap it up
in a script and use that.

The testinfra wrapper script now targets the development VM only.
We can update the script to accept arguments again once we're finished
porting the development spec tests to testinfra."
conorsch,2017-02-27 23:45:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b39a755f2181ee71fe54c4cd84c8c347602bf0fb,b39a755f2181ee71fe54c4cd84c8c347602bf0fb,"Converts development networking tests serverspec -> testinfra

Mostly these are simple checks to ensure the SSH and iptables config are
in line with system defaults, since SSH hardening and SSH over Tor only
applies to the staging and prod environments."
conorsch,2017-02-27 23:18:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87107f46564f133dc6d6fbed54aae5b06b953c1f,87107f46564f133dc6d6fbed54aae5b06b953c1f,"Converts development env spectests -> testinfra

Only adds the testinfra version; doesn't remove the spectests version
yet. Some of the versions for pip dependencies have changed; tracking
those down now."
conorsch,2017-02-27 23:22:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ea22eef53cb41ac004d2a1d359e887fa66988bc7,ea22eef53cb41ac004d2a1d359e887fa66988bc7,"Updates pip versions in development test suite

The ServerSpec tests were checking for hard-coded pip versions in the
development environment that were out of date. The coverage dependencies
were bumped in bd795e2f5865b4f6e6e1b88bcbbacef704675c74; this change
updates the tests accordingly."
conorsch,2017-03-02 23:36:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/812fb5c2a95af8f2ec73be77313f661b30dd2866,812fb5c2a95af8f2ec73be77313f661b30dd2866,"Merge pull request #1442 from freedomofpress/fix-ansible-bare-variable-usage

Wrap vars in with_items: statements"
redshiftzero,2017-03-02 04:43:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd1e3c90830ccf19323a79a40f94c2ce6f478251,dd1e3c90830ccf19323a79a40f94c2ce6f478251,Add style and unit test tweaks after code review
pra85,2017-02-16 15:03:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c55b837a493061d2c76303597bae8f32bcc9b03f,c55b837a493061d2c76303597bae8f32bcc9b03f,"Fix a typo

Removing repeated word `been`"
redshiftzero,2017-02-16 03:30:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1dac303971e2c61141e54ce1a59367309d5879ae,1dac303971e2c61141e54ce1a59367309d5879ae,Fix tests on source interface
redshiftzero,2017-02-16 03:25:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/956b2137255a39fb7091a82b669af6537ba0548d,956b2137255a39fb7091a82b669af6537ba0548d,Remove no longer needed SVG parsing utilities and tests
redshiftzero,2017-02-16 03:24:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/901084a66823ab37503fcdd62293c6aec11b4b6e,901084a66823ab37503fcdd62293c6aec11b4b6e,Update source screenshots for post-0.3.11 merge into develop
redshiftzero,2017-02-16 02:59:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/962d31bf26a4054c4015a7e34192c3d30e243bb3,962d31bf26a4054c4015a7e34192c3d30e243bb3,"Style cleanup on source interface

This gets the changes from develop and the 0.3.11 a little more in line:

* Uses render_template() to display the flashed messages upon submission (which
now contain PNGs).
* Shrinks the codename text size a little bit so it fixes in the box when long
words are randomly chosen.
* Ensures that the spacing between the icon and the text on a button are
consistent.
* Shrinks down the server_upload image such that it fits better in the message box."
redshiftzero,2017-02-16 02:45:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/80c5dfa8fb12b7f4767e448533b88326dd9febeb,80c5dfa8fb12b7f4767e448533b88326dd9febeb,Fix text color on footer
redshiftzero,2017-02-16 01:59:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2368d2221b890ed5246f2d347e76a15b0fad975c,2368d2221b890ed5246f2d347e76a15b0fad975c,"Add PNGs for remainder of SVGs on source interface

This commit adds PNGs for the SVGs that were in `develop` but not
`release/0.3.11`. It also updates the AppArmor rules."
redshiftzero,2017-02-15 20:31:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2dfb2c2649dfac5645b43c6349457095506bc997,2dfb2c2649dfac5645b43c6349457095506bc997,Merge branch 'release/0.3.11' into merge-0.3.11-changes-into-develop
conorsch,2017-02-15 18:56:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37683333f39bc57138fc88c33ffb5ab10c928588,37683333f39bc57138fc88c33ffb5ab10c928588,"Merge pull request #1583 from freedomofpress/fix-vagrant-shared-folder-on-osx

Adjusts vagrant shared folder behavior under libvirt"
conorsch,2017-02-15 03:17:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f517df7d774e6aa9e397755fdf12293f298dfac5,f517df7d774e6aa9e397755fdf12293f298dfac5,"Adjusts vagrant shared folder behavior under libvirt

The NFS strategy for mounting /vagrant in the development machine should
only take effect if the libvirt provider is currently active. Let's
reference the `override` pragma, documented here [0], to achieve.

Supplements changes in #1561. Closes #1582.

[0] https://www.vagrantup.com/docs/providers/configuration.html"
redshiftzero,2017-02-13 22:08:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3ddfd5c213c78a9d13e48cd1e4ba99704b66157d,3ddfd5c213c78a9d13e48cd1e4ba99704b66157d,SecureDrop 0.3.11
conorsch,2017-02-13 19:33:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/46a948ebadfb9b14bb7e902eff9f2be3f0e91fac,46a948ebadfb9b14bb7e902eff9f2be3f0e91fac,"Merge pull request #1561 from freedomofpress/libvirt-support-for-development-machine

Libvirt support for development machine"
conorsch,2017-02-13 18:54:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/76aa1b50c20791f3402c637104c617680896f43a,76aa1b50c20791f3402c637104c617680896f43a,"Merge pull request #1579 from freedomofpress/Expand_Vis_into_Travis

Spit out Travis build env parameters in test output"
msheiny,2017-02-13 18:31:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/67622240efe05e55623ae58fbbb88bcdb0246282,67622240efe05e55623ae58fbbb88bcdb0246282,"Shift packer debug output up to top of run

Hopefully, will make the debug easier to find alongside all the
rest of the travis debug output."
redshiftzero,2017-02-13 18:26:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cf48c3d7f30164dbde336f5f54bf6ea1ad325dfc,cf48c3d7f30164dbde336f5f54bf6ea1ad325dfc,Add coveragerc
msheiny,2017-02-13 15:27:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/93c6d7fd62aca21c47dd66b9801bdaefdef28445,93c6d7fd62aca21c47dd66b9801bdaefdef28445,"Echo out travis build environment during testing

During packer builds, parameters having to do with the original build
environment are shoved in `/.packer-env` by default. Let's spit these
out to stdout so it will assist us in recreating the dev environment
when necessary."
mikekelso,2017-02-11 07:46:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81d8fe0d0836140d90b23215523d9ecde1d2fe24,81d8fe0d0836140d90b23215523d9ecde1d2fe24,Ensures python cryptography package builds on Linux.
garrettr,2017-02-11 01:39:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f443b3fe447bf080906ae0bc65e5e3e251684e45,f443b3fe447bf080906ae0bc65e5e3e251684e45,"Merge pull request #1567 from freedomofpress/security-slider-source-interface

Update security slider instructions and source interface icons"
garrettr,2017-02-11 01:10:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8c15b70004b8c8fb93a9b5ae62c4b808c4c98838,8c15b70004b8c8fb93a9b5ae62c4b808c4c98838,Set Selenium window size and position explicitly
redshiftzero,2017-02-11 00:44:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4622cc96a2c55316cdef74d3bf8d4ce5dc12aaa,d4622cc96a2c55316cdef74d3bf8d4ce5dc12aaa,Begin tests by moving the cursor position to a known value
garrettr,2017-02-10 23:39:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/88a0608a3cdc3936cbb49ff0282331b2e8ecc0d2,88a0608a3cdc3936cbb49ff0282331b2e8ecc0d2,"Update functional tests

The functional tests were relying on identifying the ID's of the ""non-hovered""
and ""hovered"" buttons in the old design. Changes them to test for visibility of
the specific icon image depending on the hover state.

Also makes the tests more thorough by testing the visibility of both the
`.off-hover` and `.on-hover` icon images before _and_ after hovering over the
link or button.

These tests are passing in my local development environment when I run
`./manage.py test`."
garrettr,2017-02-10 22:56:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97eb6cfb3a8528caf8819c7f8a70520f6c9d4e37,97eb6cfb3a8528caf8819c7f8a70520f6c9d4e37,"Vertically align icon images

The default baseline alignment looked a little off. Switching to ""middle""
alignment doesn't look _perfect_ everywhere, but it generally looks better or
the same everywhere.

Added an icon class to constrain the new rules in order to avoid any unintended
side effects."
garrettr,2017-02-10 22:50:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d5957b33767d5090d04d448f44864948dc2f0a85,d5957b33767d5090d04d448f44864948dc2f0a85,"Simplify hover states for PNG icons

* Avoids duplicating links/buttons because that creates room for error
* Minimizes repetition and unnecessary structure (spans for days)"
redshiftzero,2017-02-10 23:22:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d5b65ea3f9c1fbb73dd48fece9d2959082616974,d5b65ea3f9c1fbb73dd48fece9d2959082616974,Update screenshot after deletion of Tor Browser link from security popup bubble
redshiftzero,2017-02-10 22:48:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a98837b80987702c5cd40f6c63ef626274b660d1,a98837b80987702c5cd40f6c63ef626274b660d1,"Only perform the hover if the button to click is not displayed

After many strange Travis test failures, we discovered that for
whatever reason, the submit button on the route page
is not displaying properly. The hover span was being displayed
even though the initial span should be displayed.

This commit adds a check in the functional test to see if the
hover button is already displayed, so the test will go ahead
and clicks it if so without moving the cursor to the button."
redshiftzero,2017-02-10 22:38:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5836f4b37bdd26964e1ae52ec7fd367ede45cab4,5836f4b37bdd26964e1ae52ec7fd367ede45cab4,Shrink PNG icons for source interface down
redshiftzero,2017-02-10 22:16:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9997a2b876b8a4905c9de8e78ae8c0d429ceeb45,9997a2b876b8a4905c9de8e78ae8c0d429ceeb45,"Remove instructions for using Tor Browser since sources are already using Tor Browser

This link is no longer needed. @garrettr noted that this link was
originally here to link to the page that contained instructions
on disabling JS in other browsers than Tor Browser, but those
days are over since if a source is on this page they are using Tor.
We don't need to repeat these instructions again on another page."
redshiftzero,2017-02-10 22:11:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5fe7d40e8a04a2ce01d69b750c817fe85bd4cd42,5fe7d40e8a04a2ce01d69b750c817fe85bd4cd42,Update AppArmor rules for new logout flashed message template
redshiftzero,2017-02-10 22:01:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2905b424de8d485e5526ed42e62b41b8470f9643,2905b424de8d485e5526ed42e62b41b8470f9643,Put logout message into template
redshiftzero,2017-02-10 18:28:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23825ee65e9ce2a0388c3557feeaff695181f5eb,23825ee65e9ce2a0388c3557feeaff695181f5eb,Use classes for CSS button icon display instead of ids
redshiftzero,2017-02-09 17:52:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a92ac6aeac7b7352a86400ab05292f948d23ae2,3a92ac6aeac7b7352a86400ab05292f948d23ae2,"Add button icon container for submit button on /lookup

Adds button container for the submit button on /lookup to ensure
the icon does not change if the cursor hovers in the region
to the left and right of the button. This was previously within the
span and so the icon would change."
conorsch,2017-02-08 23:46:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/69925627019439722539c0353583f00f629652d3,69925627019439722539c0353583f00f629652d3,"Updates AppArmor profile to permit reading new font-awesome icons

The SVG -> PNG conversion in a3e791084b92d4362dec12b59b104b4cf56bbc2d
requires that the explicit filepaths in the AppArmor profile for apache2
be updated. The SVG paths were never present (because the changes only
landed in develop, and never shipped as part of a release), so this is
an additive diff, rather than an edit.

This AppArmor profile will be included in the securedrop-app-code deb
package, and shipped with the 0.3.11 release."
redshiftzero,2017-02-08 21:30:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eca10d8edc462f089f18179ba1960f12b8f1fbbc,eca10d8edc462f089f18179ba1960f12b8f1fbbc,Update source guide for new warning bar
redshiftzero,2017-02-08 21:07:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c01a878e7e8755b996b8556ed57052e427f6613,0c01a878e7e8755b996b8556ed57052e427f6613,Convert scary red warning bar to friendly purple warning bar
redshiftzero,2017-02-08 09:12:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/154656f46b95518284aa918f325a6561b71fb53e,154656f46b95518284aa918f325a6561b71fb53e,Modify source interface functional tests to hover over the button and then click
redshiftzero,2017-02-08 08:22:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f66fda2da3e74ce5b8fb0a62dd6f8eec25d4006,9f66fda2da3e74ce5b8fb0a62dd6f8eec25d4006,Update source interface screenshots for release 0.3.11
redshiftzero,2017-02-08 08:22:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c58bb3be898a48388a15ed5fea8c47b7e0a5f9a,6c58bb3be898a48388a15ed5fea8c47b7e0a5f9a,"Replace SVG icons with PNG, update Security Slider instructions for TB 6.5"
redshiftzero,2017-02-08 07:25:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c5d6e3d8a5e7863b1567b165d0e6dd9bd9d278ac,c5d6e3d8a5e7863b1567b165d0e6dd9bd9d278ac,Update links (HTTP->HTTPS) and text on how to use Security slider
redshiftzero,2017-01-13 02:18:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0a41143bbe8996aae8cd13f1e2146b9523a78d5f,0a41143bbe8996aae8cd13f1e2146b9523a78d5f,"Make source TB restart instructions easier to read, update source interface screenshots"
redshiftzero,2016-11-29 01:42:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2af740e10fe9ff5baf4bfe3d61a8b466c9e30663,2af740e10fe9ff5baf4bfe3d61a8b466c9e30663,Modify unit test to look for security slider text
redshiftzero,2016-11-29 01:14:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/73965cb2e4f003c40eaa7af025e257fac43fcf0b,73965cb2e4f003c40eaa7af025e257fac43fcf0b,Update docs to tell sources to use security slider
redshiftzero,2016-11-29 01:14:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/efc49e8cc43f74bbca9d7d45c0e10a4430d91b0f,efc49e8cc43f74bbca9d7d45c0e10a4430d91b0f,Add explanation of security slider to source interface
redshiftzero,2016-11-28 22:52:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c925d03d92c5610b85da40414111420c1746452,4c925d03d92c5610b85da40414111420c1746452,Remove all Font Awesome icons on source interface
redshiftzero,2016-11-28 22:43:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d85e59a09f84b279c2439c52b3091560d4212d3b,d85e59a09f84b279c2439c52b3091560d4212d3b,Add images for font awesome icons
conorsch,2017-02-10 18:25:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d3187070e16abaffa9a7c40f8f2646fdc80dc183,d3187070e16abaffa9a7c40f8f2646fdc80dc183,"Merge pull request #1570 from freedomofpress/tkell-add-64-bit-note

Add note about Tails 3.0 needing a 64-bit machine"
tkell,2017-02-10 03:55:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e372d97b18802824aa60556c70dc6464bed9716a,e372d97b18802824aa60556c70dc6464bed9716a,Move note to Workstation section
redshiftzero,2017-02-09 19:40:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ef776b29951e8bd9a73134339c907b8f0843a88,6ef776b29951e8bd9a73134339c907b8f0843a88,Add coveralls installation to Travis
conorsch,2017-02-08 21:19:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb074100b0316f4b7f2fbe9e3ebc31ea768f6bef,cb074100b0316f4b7f2fbe9e3ebc31ea768f6bef,"Run Travis builds on Ubuntu Trusty, not Precise

Precise is the default for Travis builds currently, and in the develop
branch we were properly targeting Trusty explicitly. Ported those config
lines over, so builds against this release branch run against Trusty, as
well."
conorsch,2017-02-08 21:14:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0243d5da3c49d5a5016a5d79d57796b4a22384a7,0243d5da3c49d5a5016a5d79d57796b4a22384a7,"Revert ""Add libc6 install to Travis.yml""

This reverts commit 3f1a4f5c92f32c54e68f8fbe1174749526413ef5.

The error message in the Travis builds [0] seemed to indicate that libc6
was required but missing, but actually we were inadvertently building
against Ubuntu Precise, rather than Trusty. Will switch to targeting
Trusty in a subsequent commit."
redshiftzero,2017-02-08 16:37:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f1a4f5c92f32c54e68f8fbe1174749526413ef5,3f1a4f5c92f32c54e68f8fbe1174749526413ef5,Add libc6 install to Travis.yml
redshiftzero,2017-02-08 16:13:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4835262804822397f053934d776e509d2da202b,d4835262804822397f053934d776e509d2da202b,Make Travis use Ansible 1.8.4
redshiftzero,2017-01-13 00:35:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/86942ce1911ec5b5edd2e1896743703c731c5721,86942ce1911ec5b5edd2e1896743703c731c5721,Remove unit tests for codename length on /generate route
redshiftzero,2017-01-13 00:34:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0baddcb288acf1fc23cd00b967600b2bfab1bee6,0baddcb288acf1fc23cd00b967600b2bfab1bee6,Update documentation and screenshot to remove instructions about codename length
redshiftzero,2017-01-13 00:33:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0a326a4c020a74242c574f937d8b4ce388f73dab,0a326a4c020a74242c574f937d8b4ce388f73dab,Remove source choice of number of words in codename
semente,2015-11-08 04:05:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a527dc92123517220197d41b01f92a923b0821e,1a527dc92123517220197d41b01f92a923b0821e,"Fix text showing on top of button in start page

CSS class .pull-bottom can be safely removed once it is not used
anymore."
pwplus,2015-07-22 14:03:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/31bf40b83012a976e9c473f351aa8d5c64be89ff,31bf40b83012a976e9c473f351aa8d5c64be89ff,"Redirect /lookup if visiting /generate when logged in

When a source is already logged in, clicking the back button could log
them out and generate a new codename. This could cause the source to lose
their original codename if it was not memorized yet. This commit will
redirect the source to the look page if they accidentally go back to the
generate page when logged in. It also adds an explicit logout button when
the source is logged in. This adds both confidence and professionalism to
the appearance."
redshiftzero,2017-02-06 19:22:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b83f21976b4bd26519d2daeb5bbe2185544175cc,b83f21976b4bd26519d2daeb5bbe2185544175cc,"Merge pull request #1558 from heartsucker/flash-fixes

Flash message fixes"
heartsucker,2017-02-06 08:34:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8e0a8886e8558a174ac08df2df8f2f16683c438a,8e0a8886e8558a174ac08df2df8f2f16683c438a,updated copy (grammar) for source interface
heartsucker,2017-02-05 19:41:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03c08fd03ceefe35992081222baca5fa0964a254,03c08fd03ceefe35992081222baca5fa0964a254,added additional tests to ensure safety of SVG loading
heartsucker,2017-02-05 18:22:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/380cbd032e0f67283d28885eca268ff720a36f06,380cbd032e0f67283d28885eca268ff720a36f06,fixed styling to correctly align icons and text in flashed messages
heartsucker,2017-02-05 16:39:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0818b3fd43676199858da0ff3cb2210c9825fab6,0818b3fd43676199858da0ff3cb2210c9825fab6,"updated no-key source message, added svg"
heartsucker,2017-02-05 15:46:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b4cbcf4ed524ee5b9f8c3861377f99e3caf58f8,5b4cbcf4ed524ee5b9f8c3861377f99e3caf58f8,changed repeat submission success messages
heartsucker,2017-02-05 15:19:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b60139fc7c1555f693427459f5d9a2eea945b27a,b60139fc7c1555f693427459f5d9a2eea945b27a,upated first submission flashed message
heartsucker,2017-02-05 14:46:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0f6df116ad26c7fa7c8c0638eaf767295e420e6b,0f6df116ad26c7fa7c8c0638eaf767295e420e6b,updated styling to flashed messages
heartsucker,2017-02-05 14:25:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2a166dd9aa882f6ec7a5c93812faab2753ab3f0b,2a166dd9aa882f6ec7a5c93812faab2753ab3f0b,"updated language, added svg to logout message

""Fingerprint"" icon is by Travis Avery from the Noun Project."
heartsucker,2017-02-05 14:12:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ae0fd9c884e4334b1b668e3af04c3ea63f5b258,7ae0fd9c884e4334b1b668e3af04c3ea63f5b258,added function to load svg content for embedding
heartsucker,2017-02-05 20:19:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b481fd16e71cbf16dbe4b7add613ce3a01945ab9,b481fd16e71cbf16dbe4b7add613ce3a01945ab9,updated language for source deleting replies
heartsucker,2017-02-05 13:25:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/05614f58bbe043b683c5d4c8fe22a6e965fbd7d5,05614f58bbe043b683c5d4c8fe22a6e965fbd7d5,"updated docs for sources on deleting old conversations

fixes #553"
redshiftzero,2017-02-05 18:37:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f54c531dd21fc4baf8d8a3dd378472cba4de36b0,f54c531dd21fc4baf8d8a3dd378472cba4de36b0,"Merge pull request #1538 from heartsucker/ui-fixes

Ui fixes"
heartsucker,2017-02-05 13:16:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d99c77698d50d12a02a2eb55bafc7e39dd25f675,d99c77698d50d12a02a2eb55bafc7e39dd25f675,use 'include' for embedded SVGs to avoid clutter in HTML
heartsucker,2017-02-05 10:58:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a824f9977d7078a3891813590efa414e80035ff1,a824f9977d7078a3891813590efa414e80035ff1,removed unused sass rule
heartsucker,2017-02-04 18:21:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/420dd76233141319a0d8dc5625e44edb38d7edf4,420dd76233141319a0d8dc5625e44edb38d7edf4,updated sass for flashes / asides
heartsucker,2017-02-04 18:20:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a604429f08ae7292b2dae1af6c57c6880537f56,7a604429f08ae7292b2dae1af6c57c6880537f56,updated source copy for clarity / supportiveness
heartsucker,2017-02-04 16:48:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/db4a35f989baa9688d1426f45da80cec061386fc,db4a35f989baa9688d1426f45da80cec061386fc,changed placeholder text on source /lookup page
heartsucker,2017-02-04 16:43:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c8b3a179d0c429ab64cdbc73a05dcd223e0410c8,c8b3a179d0c429ab64cdbc73a05dcd223e0410c8,increased codename letter spacing
heartsucker,2017-02-04 15:34:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bed052e43aabea12a28def0ea5e6484ea5e5f6d4,bed052e43aabea12a28def0ea5e6484ea5e5f6d4,removed lock icon on source generate page
redshiftzero,2017-02-02 00:47:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b14c5ecfb314730239d93ddd502e83c3678b12e7,b14c5ecfb314730239d93ddd502e83c3678b12e7,Fix mismatched box sizes on source interface index
heartsucker,2017-02-02 20:09:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/10c937aaa45a140aa3ab29d787cf96fe52319aa6,10c937aaa45a140aa3ab29d787cf96fe52319aa6,html/css additions after rebase
tkell,2017-02-04 02:35:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec0aa708c8eca468f4f0054a33c5d38b6f037a38,ec0aa708c8eca468f4f0054a33c5d38b6f037a38,Add note about Tails 3.0 needing a 64-bit machine
heartsucker,2017-02-02 18:00:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b4a6f31289cf47e7d07bcadc475bdeaba264910,1b4a6f31289cf47e7d07bcadc475bdeaba264910,fixed h1/h2 ambiguity
heartsucker,2017-01-29 15:28:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/db8d75d08962575e5962393b6f6d6b0db8aff2b1,db8d75d08962575e5962393b6f6d6b0db8aff2b1,"fixed broken css

rebasing of sass changes left out this bit of css"
heartsucker,2017-01-28 22:30:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f684470e61cecd888414c4af4d11e051922d4bce,f684470e61cecd888414c4af4d11e051922d4bce,"KILL ALL BUTTON ICONS

fixes item 5 in 1536"
heartsucker,2017-01-28 22:20:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0f589e5858c24d22a6fc6c325e95e89ef24e4a4a,0f589e5858c24d22a6fc6c325e95e89ef24e4a4a,make dev VM warning much more obvious
heartsucker,2017-01-28 21:59:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9bdd857ef0e9956d5b41ccf8688ca79cb701aac9,9bdd857ef0e9956d5b41ccf8688ca79cb701aac9,"capitalized buttons, added spacing

fixes item 4 in issue 1536"
heartsucker,2017-01-28 20:36:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a88c0386b1971633806e7faf1c8b4c2de620ec5,3a88c0386b1971633806e7faf1c8b4c2de620ec5,"left align h1, change color to #004080

fixes item 1 from issue 1536"
redshiftzero,2017-02-02 16:56:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4df92680845d1b92fb0ab7eeaa710f2288a95c78,4df92680845d1b92fb0ab7eeaa710f2288a95c78,"Merge pull request #1548 from tkell/update-codename-font

Update font to monospaec, remove bold"
tkell,2017-02-02 03:15:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f0326f26c7cb9689eceb4bded27d8d03675f4c6,3f0326f26c7cb9689eceb4bded27d8d03675f4c6,"Update font to monospaec, remove bold"
redshiftzero,2017-02-02 02:37:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bde4c227ff04d57365cb90f68e8d24ff34f49347,bde4c227ff04d57365cb90f68e8d24ff34f49347,"Merge pull request #1547 from freedomofpress/dev-docs-setup-fixes

Improves developers getting started guide"
redshiftzero,2017-02-02 02:15:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dafe39778b37256fd510abe068eac3121d3e8d14,dafe39778b37256fd510abe068eac3121d3e8d14,"Merge pull request #1543 from freddymartinez9/docs1542

add missing ansible flags"
redshiftzero,2017-02-01 20:32:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8ef4b964628a899c62238f69bf64aa065c97e63f,8ef4b964628a899c62238f69bf64aa065c97e63f,Remove icon from source interface Submit button
redshiftzero,2017-02-01 20:17:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5f3b559d66e4f9656da7dffff0b7a0ca70f2210c,5f3b559d66e4f9656da7dffff0b7a0ca70f2210c,Add functional tests for Cancel buttons on source interface
redshiftzero,2017-02-01 20:15:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df41658511b35e6d4bd013679aa4c8eaee10b40e,df41658511b35e6d4bd013679aa4c8eaee10b40e,Modify unit tests for UX modifications to source interface
redshiftzero,2017-01-27 01:41:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/413e8874c9dbe665a2de28bdcc4211ea7185a05c,413e8874c9dbe665a2de28bdcc4211ea7185a05c,UX improvements to source interface
redshiftzero,2017-01-31 20:38:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6db6e871b81bb61087cc3573a8296c34c2a2675,c6db6e871b81bb61087cc3573a8296c34c2a2675,"Merge pull request #1546 from heartsucker/wordlist-happiness

removed 'scary' words from wordlist"
heartsucker,2017-01-31 19:23:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e0f900df8f39692f6dc0a9a774a58bb90cd551e4,e0f900df8f39692f6dc0a9a774a58bb90cd551e4,removed 'scary' words from wordlist
heartsucker,2017-01-29 15:57:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f7b5e379dd482018af361d9b90b5ab198971fd7,7f7b5e379dd482018af361d9b90b5ab198971fd7,changed diceware wordlist attribution
conorsch,2017-01-27 23:12:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ed80f8785660fe10726fd3bd1ad3da057e20aa3,0ed80f8785660fe10726fd3bd1ad3da057e20aa3,"Merge pull request #1349 from heartsucker/sass

Converted CSS to SASS"
redshiftzero,2017-01-27 22:58:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2cbb574f5ba7a24fb904b2d681bd22f19fad5e9e,2cbb574f5ba7a24fb904b2d681bd22f19fad5e9e,"Merge pull request #1535 from tldr/patch-1

Updated codename in Readme to match the one in screenshot"
heartsucker,2016-12-08 11:39:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4e7da7f09fb59a2957bbc4e530f7554d5bcfc606,4e7da7f09fb59a2957bbc4e530f7554d5bcfc606,sass for travis
heartsucker,2016-12-07 17:37:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ad8678162a918393b18080399e2deeb9d0fa92b,2ad8678162a918393b18080399e2deeb9d0fa92b,removed assets
heartsucker,2016-12-03 15:07:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a371200a333bed5a83f67c2239f5c0a9c2800947,a371200a333bed5a83f67c2239f5c0a9c2800947,added verbosity to travis builds
heartsucker,2016-12-03 14:43:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c9aeadf7ad6059d506ac15da132130dba1a1f28,4c9aeadf7ad6059d506ac15da132130dba1a1f28,fixed errors from sass rebase
heartsucker,2016-07-04 15:28:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8a8edd636dc9c74aef1faf60f35c8ce4d88c05a,e8a8edd636dc9c74aef1faf60f35c8ce4d88c05a,factored common colors into variables
heartsucker,2016-07-03 13:41:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90c044929d924e402fb53da2922c3e1b08aac59a,90c044929d924e402fb53da2922c3e1b08aac59a,fixed container overflow
heartsucker,2016-07-03 11:24:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c0deeb6ca4156888ce61e1fce925e6fb9cd7b18,6c0deeb6ca4156888ce61e1fce925e6fb9cd7b18,initializing dev server with lambdas to properly register cleanup
heartsucker,2016-07-02 15:03:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/66990604123bf9db74b6f9bfd698fb3203b948e4,66990604123bf9db74b6f9bfd698fb3203b948e4,added sass compilation into build cycle
heartsucker,2016-06-30 14:03:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bdbb6ba3909735ddc162e8f06cfc6e1fb86397bb,bdbb6ba3909735ddc162e8f06cfc6e1fb86397bb,deduplicated sass rules
heartsucker,2016-06-30 12:32:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b4a83d14687a992ae0a83aada85a2eb4d33ca395,b4a83d14687a992ae0a83aada85a2eb4d33ca395,css -> sass
heartsucker,2017-01-19 14:04:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ebae11fb92fa63dafe48777d5887456ec728af3e,ebae11fb92fa63dafe48777d5887456ec728af3e,added metadata route to source app
conorsch,2017-01-13 19:01:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/982788ab869cc7de505969c3a43675ca39046d4e,982788ab869cc7de505969c3a43675ca39046d4e,"Merge pull request #1404 from KwadroNaut/patch-5

Make backups work"
redshiftzero,2017-01-13 02:18:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e32003335dad66d3b8bdf561aa78577ff8c5cb15,e32003335dad66d3b8bdf561aa78577ff8c5cb15,"Make source TB restart instructions easier to read, update source interface screenshots"
redshiftzero,2017-01-13 00:35:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a100710e199562dcd311552b5d01136bfb78001d,a100710e199562dcd311552b5d01136bfb78001d,Remove unit tests for codename length on /generate route
redshiftzero,2017-01-13 00:34:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8af39e0d16b1ca5f0287ca0ed844236f576f0bd,e8af39e0d16b1ca5f0287ca0ed844236f576f0bd,Update documentation and screenshot to remove instructions about codename length
redshiftzero,2017-01-13 00:33:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5f6a541dfb60712c3055686c34bb5675e782b683,5f6a541dfb60712c3055686c34bb5675e782b683,Remove source choice of number of words in codename
redshiftzero,2017-01-09 23:56:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/936e5b1e95abbb9b4d7d845a94fd9fb8aa2d87b0,936e5b1e95abbb9b4d7d845a94fd9fb8aa2d87b0,Add tests for Select All and Select None buttons
redshiftzero,2017-01-09 23:26:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e22e4eb5791acee8a603848f0c9ffb4b308c2b9c,e22e4eb5791acee8a603848f0c9ffb4b308c2b9c,Fix journalist js Select All and Select None buttons on index
redshiftzero,2017-01-09 21:53:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d2c3064edfd88dd87b920dc22a128f8bd7f8fb91,d2c3064edfd88dd87b920dc22a128f8bd7f8fb91,Add test for starring and unstarring a source
redshiftzero,2016-12-19 03:06:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17e908713db31042b9987f69734d4fec5e98947d,17e908713db31042b9987f69734d4fec5e98947d,DRY up journalist interface index template using include
redshiftzero,2016-12-05 18:51:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d8285a2e6a037af90ff1f7043bea965050771ea6,d8285a2e6a037af90ff1f7043bea965050771ea6,Slight improvements to get_bulk_archive and add unit tests for folder structure
redshiftzero,2017-01-09 09:02:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d67676318c5906b06fa86c8a4eaf4dc114f20ee8,d67676318c5906b06fa86c8a4eaf4dc114f20ee8,Mock logger in db tests
redshiftzero,2016-12-09 22:38:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef4e00369acf58bed1d131085b84187381b2d628,ef4e00369acf58bed1d131085b84187381b2d628,"Add tests for get_one_or_else and the string representation of objects

These unit tests check the functionality of get_one_or_else.
The exceptions are handled in the code meaning I cannot use
assertRaises for the error cases so instead
I monkeypatched failure_method (here flask.abort) and used
mock.assert_called_with.

Also Adds tests for __repr__ string representation of objects"
redshiftzero,2016-12-07 20:42:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/531eea0360572ee90edb439aab2ce6e597562481,531eea0360572ee90edb439aab2ce6e597562481,Add no cover lines where unit tests should not be written
conorsch,2017-01-06 16:15:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c6b030ed15d4892aa76ef3bf9e11f8fb8a0f4d1,0c6b030ed15d4892aa76ef3bf9e11f8fb8a0f4d1,"Merge pull request #1512 from freedomofpress/ops-autolabeling

Add support for ops autolabeling"
redshiftzero,2016-12-20 21:26:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f7b7deea6c56e87b129ef9414456f498b9ee093,9f7b7deea6c56e87b129ef9414456f498b9ee093,"Merge pull request #1474 from freedomofpress/refactor-tests/common.py

Refactor tests/common.py"
conorsch,2016-12-20 19:13:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4debdd3190149c74559788e648e9ec45a40aa02,d4debdd3190149c74559788e648e9ec45a40aa02,"Merge pull request #1495 from heartsucker/gitignore

more complete python gitignore"
conorsch,2016-12-20 19:10:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d6a5184f967bc8cf96a39d797cfab42907f5604,0d6a5184f967bc8cf96a39d797cfab42907f5604,"Merge pull request #1497 from freddymartinez9/newossecalarmdocs

add sample OSSEC alarms for admins"
heartsucker,2016-12-11 14:55:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b9481a847ea1d1a3c0e762e746f62eaf94d859f4,b9481a847ea1d1a3c0e762e746f62eaf94d859f4,more complete python gitignore
redshiftzero,2016-12-13 19:57:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0dba1f3e33568796414d2a977156be56d98f58a1,0dba1f3e33568796414d2a977156be56d98f58a1,"Merge pull request #1498 from freddymartinez9/imagecleanup

remove executeable bit from images"
redshiftzero,2016-12-09 19:06:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9ce31943c812f3fdf070d5dd9ed3cfbc85811e2a,9ce31943c812f3fdf070d5dd9ed3cfbc85811e2a,Add unit test for changing journalist assignment of source
redshiftzero,2016-12-09 19:05:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5a80f4205424180e8f9d9fa40068b1ac15ff6aaa,5a80f4205424180e8f9d9fa40068b1ac15ff6aaa,Simplify source-journalist assignment form
redshiftzero,2016-12-03 03:05:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1f8cf186a947ad4da9bded86410474b5590d4df1,1f8cf186a947ad4da9bded86410474b5590d4df1,Add delete user functionality to manage.py
mdrose,2016-07-12 06:59:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f47d8829856a2212c66103b0104497b1590c8fc0,f47d8829856a2212c66103b0104497b1590c8fc0,Added source-assignment functionality
redshiftzero,2016-12-07 21:46:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4118a1fe90ddd445ac3ccfa054d4f121c56b41b4,4118a1fe90ddd445ac3ccfa054d4f121c56b41b4,"Merge pull request #1461 from freddymartinez9/hackathon1138

make gpg application key more descriptive"
redshiftzero,2016-12-04 00:29:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d01b2adfd10a8076153485ce153465ff1493ccdc,d01b2adfd10a8076153485ce153465ff1493ccdc,"Merge pull request #1484 from kaizensoze/fix-gitignore-typo

fix gitignore typo"
redshiftzero,2016-11-29 01:42:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f3e94cd1a1d04932d5f2c22b32de26cc4c7efc17,f3e94cd1a1d04932d5f2c22b32de26cc4c7efc17,Modify unit test to look for security slider text
redshiftzero,2016-11-29 01:14:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab113439c0548273a30e2ea40b13576eb2f7d011,ab113439c0548273a30e2ea40b13576eb2f7d011,Update docs to tell sources to use security slider
redshiftzero,2016-11-29 01:14:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5f4c00883f18f60dc4b0346422949311f3be5f2,b5f4c00883f18f60dc4b0346422949311f3be5f2,Add explanation of security slider to source interface
redshiftzero,2016-11-28 22:52:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5e104459d890be8960cffe65d1fd5d0992811fb0,5e104459d890be8960cffe65d1fd5d0992811fb0,Remove all Font Awesome icons on source interface
redshiftzero,2016-11-28 22:43:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27dae4f965258b73b47f618d0d9c8fac73c67414,27dae4f965258b73b47f618d0d9c8fac73c67414,Add images for font awesome icons
redshiftzero,2016-11-15 07:20:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9964c57179cf5e9f5b75091ed0bda2d5639918d3,9964c57179cf5e9f5b75091ed0bda2d5639918d3,Update Font Awesome to 4.7.0 to use new icons
redshiftzero,2016-11-03 19:54:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c47d8df05aeedfdff155f5a3c727bde8a7d41520,c47d8df05aeedfdff155f5a3c727bde8a7d41520,Show read icon for submissions that have been downloaded
mdrose,2016-07-07 18:40:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a07e3c8f787bad4669412f0ade3cb093b85d967,3a07e3c8f787bad4669412f0ade3cb093b85d967,Adds select unread button to source view
mdrose,2016-07-06 23:10:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03c1861b9782f1387268b5102a83d53a6fddb09d,03c1861b9782f1387268b5102a83d53a6fddb09d,Adds envelope icon to unread submissions in source view
redshiftzero,2016-11-14 23:11:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9111f9006d4a4bc40ef1313b6c689240a1f83071,9111f9006d4a4bc40ef1313b6c689240a1f83071,"Merge pull request #1395 from heartsucker/rename-document-interface

Renamed ""document interface"" to ""journalist interface"""
heartsucker,2016-11-14 22:13:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/972df19fa2804fb3212eddbf85697114d0f45c83,972df19fa2804fb3212eddbf85697114d0f45c83,remove historic launchers and icons on tails
heartsucker,2016-08-27 20:04:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d2a83411082f457865c2c500011786e7f0b0371,7d2a83411082f457865c2c500011786e7f0b0371,"renamed ""document interface"" to ""journalist interface"""
redshiftzero,2016-11-14 21:27:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/28d3982325ffc0fd088dddac27307bfb5ce58ac6,28d3982325ffc0fd088dddac27307bfb5ce58ac6,Travis badge now shows state of develop branch
pwplus,2015-11-07 22:33:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d25886009060a7c85dbb7aec8b1a3959e4a25b4,7d25886009060a7c85dbb7aec8b1a3959e4a25b4,"Initial download all functionality

Button type 1.

Address comments for Button 1.

Button 2. Might be buggy.

Extend and improve bulk download unit test

This improves the bulk download unit test by having it check that only
selected files are downloaded and not unselected files. It extends the
unit test to include a test for downloading all present files.

Add unit test for download_all_unread"
redshiftzero,2016-11-09 19:42:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c18088672784b78c9af10cf8993a8535a0370f0,6c18088672784b78c9af10cf8993a8535a0370f0,Add warning to group_vars about dev and staging VMs
redshiftzero,2016-11-01 23:07:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/096db0d9c4c7d3b8b3488f08b7254080d764ea9a,096db0d9c4c7d3b8b3488f08b7254080d764ea9a,Add note in documentation about using custom notification
redshiftzero,2016-09-01 18:18:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b7d5db679006fad438a482fbcc4f43409ea1ee3f,b7d5db679006fad438a482fbcc4f43409ea1ee3f,Add custom notification text to source interface
redshiftzero,2016-11-09 00:46:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2461173ca0911113de52bfe61b181076189bbddc,2461173ca0911113de52bfe61b181076189bbddc,Add unit tests for key deletion and collection deletion
redshiftzero,2016-11-03 16:26:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e16495397f485f35fd057bcb4eb43fcca3d1ff6,7e16495397f485f35fd057bcb4eb43fcca3d1ff6,Add unit test for verifying replies are gone when source is deleted
redshiftzero,2016-11-03 16:25:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ee95346e78a7602a9d419c5048d1e3bf8008529,6ee95346e78a7602a9d419c5048d1e3bf8008529,Add helper function for populating replies table
redshiftzero,2016-11-03 16:20:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a60c34b9d9dd4f72414cdacab2fa41b571557d2e,a60c34b9d9dd4f72414cdacab2fa41b571557d2e,Make changes to db PEP8 compliant
redshiftzero,2016-11-02 22:43:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bcc2d28b725901ae715d4a516107658dcade8819,bcc2d28b725901ae715d4a516107658dcade8819,Add unit test for verifying that deleting a source deletes their submissions
pwplus,2015-11-08 21:30:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2fb3258280bba275de3504a0e7a40157895d1f80,2fb3258280bba275de3504a0e7a40157895d1f80,"Delete submissions and replies when source deleted

This PR will delete submissions and replies linked to a source when a
source is deleted."
Hainish,2016-11-08 00:16:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d11b19cfbd4e3f2ba3f2a423715988a08bfd296c,d11b19cfbd4e3f2ba3f2a423715988a08bfd296c,Changing wording for GitHub token
redshiftzero,2016-11-07 00:37:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ac93377d5553f064a909597b1294ac580c77c1a,7ac93377d5553f064a909597b1294ac580c77c1a,"Merge pull request #1466 from ajvb/ajvb/test-coverage-source

Further test coverage for source.py"
redshiftzero,2016-11-07 00:21:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/34ab8d974d4102336c4cb61494991399845977cf,34ab8d974d4102336c4cb61494991399845977cf,"Merge pull request #1458 from freedomofpress/support-multiple-instances-of-vms

Supports multiple concurrent instances of VMs"
conorsch,2016-11-06 22:18:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39d106d66514a9bd54f70dab7b5bdf28aa487298,39d106d66514a9bd54f70dab7b5bdf28aa487298,"Merge pull request #1465 from freddymartinez9/torresearch1451

Adds recommendation for Journalists to use Tor for submission research"
Hainish,2016-11-06 22:06:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/65dc48d8b026c391c822ea9197287ad9eb3e4425,65dc48d8b026c391c822ea9197287ad9eb3e4425,Adding ruby conventions to .editorconfig
redshiftzero,2016-11-06 21:10:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01b7eca01a204c1f5582c165394273ac253181d2,01b7eca01a204c1f5582c165394273ac253181d2,"Merge pull request #1457 from irdan/add-test-coverage

Add test coverage"
Hainish,2016-11-06 20:17:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f1ea838ef2a7e862da4904c221d0419264ff19a,4f1ea838ef2a7e862da4904c221d0419264ff19a,Adding .editorconfig (editorconfig.org)
redshiftzero,2016-11-06 20:03:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8ecd50b891bda016989b9b5fadfdd2437028cbbc,8ecd50b891bda016989b9b5fadfdd2437028cbbc,"Merge pull request #1462 from ajvb/ajvb/fix-anisble-base

Fix ansible-base path in virtual_environments.rst"
redshiftzero,2016-11-06 19:56:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/48af8e720321e7b0b3329f90c3fc8adc632f015a,48af8e720321e7b0b3329f90c3fc8adc632f015a,"Merge pull request #1452 from commandnotfound/effwordlist

Replaced wordlist with well researched EFF wordlist"
Hainish,2016-11-06 19:54:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/118c445ff61099e2c428776dd35f3dd02af8de81,118c445ff61099e2c428776dd35f3dd02af8de81,Changing license to AGPL to be aligned with the rest of SecureDrop
Hainish,2016-11-06 19:52:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d004fb80bb8fc70c0b1aac21ea4ead0891897e41,d004fb80bb8fc70c0b1aac21ea4ead0891897e41,Removing the 'functional_tests' label as per https://github.com/freedomofpress/securedrop/pull/1455#discussion_r86674945
conorsch,2016-11-06 01:09:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb6399b744e616c57461c78adebc7044ff122ca3,eb6399b744e616c57461c78adebc7044ff122ca3,"Names VirtualBox internal network from directory name

Since the IPv4 addresses for the staging and prod hosts are hardcoded in
the Vagrantfile, multiple instances of the VMs will try to reuse the IP
on the same internal network. By default, the internal network that
VirtualBox creates is called ""intnet"", so the IP reuse will cause
failure for the App and Mon servers communicating with each other for
OSSEC functionality.

The most likely use case for multiple concurrent VM instances is in
conjunction with `git worktree`, which will create a new working copy of
an existing local git repository. It's a bit of an assumption that the
two worktrees will have a unique basenames (e.g. ""securedrop"" and
""securedrop2""), but a reasonable onemore reasonable than using the
absolute path to the repo, which is certain to be unique, but extremely
verbose.

More info on VirtualBox internal networks here:

  * https://www.virtualbox.org/manual/ch06.html#network_internal
  * https://www.vagrantup.com/docs/virtualbox/networking.html"
irdan,2016-11-06 00:48:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/594e1b23a75bb571f611e5e10042731bc34f4643,594e1b23a75bb571f611e5e10042731bc34f4643,Add test coverage for big messages
conorsch,2016-11-05 23:50:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fcb0380cad748e11db300691af790e2bffdf8183,fcb0380cad748e11db300691af790e2bffdf8183,"Automatically corrects port forwarding conflicts in Vagrantfile

The default forwarded ports remain the same, as documented in the
developer docs. This change allows Vagrant to reassign the forwarded
port on the host machine if a collision is detected. Vagrant will
display an informative message if this happens:

  ==> app-staging: Checking if box 'bento/ubuntu-14.04' is up to date...
  ==> app-staging: Fixed port collision for 80 => 8082. Now on port 2204.
  ==> app-staging: Fixed port collision for 8080 => 8083. Now on port 2205.
  ==> app-staging: Fixed port collision for 22 => 2222. Now on port 2206.
  ==> app-staging: Clearing any previously set network interfaces...
  ==> app-staging: Preparing network interfaces based on configuration...
      app-staging: Adapter 1: nat
      app-staging: Adapter 2: intnet
  ==> app-staging: Forwarding ports...
      app-staging: 80 (guest) => 2204 (host) (adapter 1)
      app-staging: 8080 (guest) => 2205 (host) (adapter 1)
      app-staging: 22 (guest) => 2206 (host) (adapter 1)

There are two plausible use cases where a collision can occur:

  1. Running VMs elsewhere on host, for other projects, use same port
     for forwarding a web interface. 8080 in particular is commonly used
     by many projects.

  2. Running separate git worktree for the SecureDrop project, to test
     multiple feature branches concurrently. Since a full VM provision
     run can take around 20 minutes, working concurrently on different
     trees can greatly enhance developer productivity.

The second use case is run I run into frequently while working on
SecureDrop."
irdan,2016-11-05 23:53:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff459ece8deb05e141cc1055421f88721b16f7d1,ff459ece8deb05e141cc1055421f88721b16f7d1,Add coverage of clean function in crypto_util
conorsch,2016-11-05 01:00:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bb57565f05c9053e4dd7c26a4c607380391f7b54,bb57565f05c9053e4dd7c26a4c607380391f7b54,"Removes all hardcoded Vagrant VM names from Vagrantfile

The hardcoded static names are unnecessary, and prevent developers from
spinning up multiple copies of VMs to test different feature branches
simultaneously. Vagrant automatically generates a unique VM name for
each machine during creation, and the hardcoding disables this useful
default behavior."
Hainish,2016-11-05 23:48:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/13d533b737ccea68e44e24cb67a7843d28b1906f,13d533b737ccea68e44e24cb67a7843d28b1906f,Fix: label 'test' should be applied to changes on 'test.sh'
Hainish,2016-11-05 22:52:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cbd31b96ad25777d531669390c1f77301775db6c,cbd31b96ad25777d531669390c1f77301775db6c,Adding Dockerfile and README.md for github_helpers
Hainish,2016-11-05 22:35:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/95b38d94e64e84833b0f12b08d0c53c97f55c7d4,95b38d94e64e84833b0f12b08d0c53c97f55c7d4,Adding more labels
redshiftzero,2016-11-05 22:05:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/41270676b341928e4b6865af864fdf27a644acd9,41270676b341928e4b6865af864fdf27a644acd9,"Merge pull request #1454 from freedomofpress/ntp-quick-fix

Adds temporary fix to time skew problems in development VMs"
Hainish,2016-11-05 21:29:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/18b289befee83b68e0cba2db620e64609b84efa5,18b289befee83b68e0cba2db620e64609b84efa5,Adding a github helper to add relevant labels to PRs
conorsch,2016-11-05 00:46:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ffa50530a74ab2c48de4aead52988f245d0d084c,ffa50530a74ab2c48de4aead52988f245d0d084c,"Merge pull request #1447 from freedomofpress/cleanup-dev-docs

Cleans up developer documentation"
redshiftzero,2016-11-05 00:27:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f79deb838afe75697b296b67f1edb07e6362939,6f79deb838afe75697b296b67f1edb07e6362939,"Update Mac OS X developer documentation to use virtualenvwrapper

I ran into an issue where after installation of virtualenvwrapper, mkvirtualenv was not in my path, so added a note in case others have the same problem."
redshiftzero,2016-11-04 23:52:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/44acd45f4d9021c9df43b60af3e66a6bfc06c189,44acd45f4d9021c9df43b60af3e66a6bfc06c189,Fix lines in getting started developer docs beyond 80 chars
redshiftzero,2016-11-04 23:43:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff19ec918c753eced540840465e1393849723e27,ff19ec918c753eced540840465e1393849723e27,Update dev setup for Mac OS X
conorsch,2016-11-04 21:39:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e6da8fe7a038e268795df9633b97d839cd1eb2e4,e6da8fe7a038e268795df9633b97d839cd1eb2e4,"Developer docs: updates AppArmor profile manipulation

In general these docs are bit out of date, mostly because we haven't
updated the AppArmor profiles in quite some time. The staging
environment does not mount the /vagrant directory, so updated the fetch
commands to use Ansible ad-hoc commands to pull back the updated
profiles."
conorsch,2016-11-04 21:30:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1f3d709aef159300c64dd7e73215c3f7c7cb39f4,1f3d709aef159300c64dd7e73215c3f7c7cb39f4,"Developer docs: updates apt repo package descriptions

The `securedrop-keyring` package landed in 0.3.10, so upgraded that note
about future implementation to a first-class package in the description
list. Also made the descriptions more verbose, and removed trailing
whitespace throughout."
conorsch,2016-11-04 21:19:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6db10093070a98221813464b3a5d66afccb7f1ac,6db10093070a98221813464b3a5d66afccb7f1ac,"Developer docs: updates example Serverspec commands

Includes example output for listing all the tasks against separate dev
environments, and promotes the install notes to the top of the page.

Also links out to the new SSH over Tor docs section, to keep everything
nicely cross-referenced."
conorsch,2016-11-04 21:13:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f98fa838d83d7d735fd4c19f8e4145337503e2bd,f98fa838d83d7d735fd4c19f8e4145337503e2bd,"Developer docs: reformats note about bundler

Linewrapping to under 80 chars to keep the docs readable in a terminal."
conorsch,2016-11-04 21:07:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/022adcf12949914840ff1354af0352478f342efd,022adcf12949914840ff1354af0352478f342efd,"Developer docs: updates documentation guidelines

Streamlines Sphinx/ReST bootstrapping commands.
No need to recommend the manual build invocation when the live reloading
is so much better, and the `pip install` command already references it.
Preserved mention of cleaning out the build directory via `make clean`.

Also drops in mention of the desire for approximately 80-char
linewrapping throughout the docs."
conorsch,2016-11-04 20:58:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6cced9dcb16e0fd15841bf0aec75fa15fe64a847,6cced9dcb16e0fd15841bf0aec75fa15fe64a847,"Only use netcat-openbsd for Tor over SSH implementation

Greatly simplifies the Vagrantfile logic and the developer documentation
around the Tor over SSH functionality, used for staging (optional) and
prod (required). We'll need to ask Ubuntu/Debian users to install
`netcat-openbsd`, as the `netcat-traditional` package does not support
the `-x` option for specifying proxy hosts. Mac OS X already runs the
OpenBSD variant, so no changes necessary there.

Removes extraneous information about `connect-proxy`, which is available
in the Ubuntu repos but not in Debian, as well as `torify`, since the
automatic SSH functionality via the Vagrantfile is now more convenient
even than `torify`."
conorsch,2016-11-04 20:34:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc9c0c93793e545460a733f0dbf229512d8199a3,fc9c0c93793e545460a733f0dbf229512d8199a3,"Adds support for SSH over Tor to staging VMs

Previously only the prod VMs honored the connection, and it's required
there, so that makes sense. We should also support the ability to log in
over Tor to the staging VMs as well. It's off by default, and also
configurable via the `SECUREDROP_SSH_OVER_TOR` env var."
conorsch,2016-11-04 20:30:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/597d0599591b74f2e80c5f0bc62cb367652eeefa,597d0599591b74f2e80c5f0bc62cb367652eeefa,"Developer docs: cross-links SSH over tor config from VM page

The explicit docs for configuring SSH over Tor, required for logging
into the prod VMs, are now referenced in the description of the prod
environment VMs.

Also updated the deprecated `SECUREDROP_PROD_SKIP_TAGS` env var to the
more general `ANSIBLE_ARGS` alternative."
conorsch,2016-11-04 20:20:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e7f94f0b81b3afbf2de1d7dc99fa86ac3bdc1ece,e7f94f0b81b3afbf2de1d7dc99fa86ac3bdc1ece,"Developer docs: reformat Virtual Environments description

Uses a ReST definition list for the top-level VM overview.
Expands a bit on the individual definitions to make attributes pop."
conorsch,2016-11-04 19:49:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d08da4692fe49f89c91492c741b8d4f5770402f2,d08da4692fe49f89c91492c741b8d4f5770402f2,"Developer docs: version-lock Ansible under OS X

The OS X setup docs now specify an explicit Ansible version, same as
the Ubuntu/Debian docs. We shouldn't be recommeding use of `sudo` for
the pip installation, so added a TODO to address that."
conorsch,2016-11-04 19:43:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/875a7801f50861a5c406bf7c54bd77a2f3546eb6,875a7801f50861a5c406bf7c54bd77a2f3546eb6,"Developer docs: makes vagrant version warnings terser

Let's inline the relevant GitHub issues showing problems with
out-of-date versions of Vagrant, and keep going with the install docs.
Being too repetitious about the important of the recommended version
hurts readability of the docs.

Also explicit mentions a specific version of 5.x for VirtualBox, since
we know that the 4.x release series will not work."
redshiftzero,2016-11-04 21:57:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a3916c7e9ec30d8ba0231149cd19e4071ee604d2,a3916c7e9ec30d8ba0231149cd19e4071ee604d2,"Merge pull request #1445 from freedomofpress/misc-test-cleanup

Misc test cleanup"
redshiftzero,2016-11-04 21:50:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a78b89a70ccfb8bf764252c8ae89bad149ba44b2,a78b89a70ccfb8bf764252c8ae89bad149ba44b2,Remove old test setting of env var
conorsch,2016-11-04 19:35:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c3f757e16e3c630c6bfdfedfa5fe8e600ed4694,4c3f757e16e3c630c6bfdfedfa5fe8e600ed4694,"Developer docs: simplifies virtualenv instructions

Only showing an example for `virtualenvwrapper` now. Should a developer
prefer `virtualenv` instead, it's trivial to modify the commands; we
don't need to document both methods explicitly."
conorsch,2016-11-04 19:31:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/13fe6c8eb33475499d0d9c1c88b908f68cfaebe0,13fe6c8eb33475499d0d9c1c88b908f68cfaebe0,"Developer docs: updates base package installation command

Updating supported Ubuntu OS to 16.04, which is the latest LTS and also
the only version of Ubuntu that's recently been tested against these
docs. In both Debian Stretch and Ubuntu Xenial (16.04), the package
`virtualbox` depends on `virtualbox-dkms`, so listing the former as the
install target is more accurate.

Also removes manual invocation of `dpkg-reconfigure virtualbox-dkms`,
since the postinst hooks will set up the vbox driver automatically."
conorsch,2016-11-04 20:24:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bbb3524d1dbc71743335026631abbdb81981545b,bbb3524d1dbc71743335026631abbdb81981545b,"Merge pull request #1387 from freedomofpress/update-spec-tests-for-develop

Updates Serverspec tests in develop branch"
redshiftzero,2016-11-04 19:45:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/61f8e6cd07b3707ce49a90a3344c733ec3594d33,61f8e6cd07b3707ce49a90a3344c733ec3594d33,Update serverspec tests developer doc with protip about bundler version issues
conorsch,2016-11-04 01:58:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ad16287f36ff310f03d759192050f22f8670855,0ad16287f36ff310f03d759192050f22f8670855,"Updates Serverspec tests for Tor apt repo signing key

Rather than check for an exact match of the ASCII-armored pubkey,
inspect the output of `apt-key finger` to ensure the following:

  * Fingerprint matches
  * Expiration date matches
  * Keyring is stored in dedicated keyring file
    (/etc/apt/trusted.gpg.d/deb.torproject.org-keyring.gpg, rather than
     /etc/apt/trusted.gpg)

The test is now more durable to changes, and also more on the mark in
terms of attributes to confirm present."
conorsch,2016-11-04 01:22:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f237b7550f2e8509115844e277f8a10f9500310,8f237b7550f2e8509115844e277f8a10f9500310,"Updates Serverspec tests for FPF/SD GPG apt signing key

The changes in 0.3.10 rotate the signing key used for the
apt.freedom.press repo, from which SecureDrop-related deb packages are
installed. Updated the Serverspec tests to confirm explicit presence of
the new signing key, in a specific file, and to confirm absence of the
old fingerprint, including a search just for the old fingerprint."
conorsch,2016-11-04 00:48:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b99bf84474bcac0e2f2e45a87c4d21b9ad921f8b,b99bf84474bcac0e2f2e45a87c4d21b9ad921f8b,"Updates pip dependencies specifically for app-staging

The staging environment unintuitively still installs the
`securedrop-app-code` package from the production apt.freedom.press
repository. Therefore we can't expect that the development pip versions
will be present, even though they *should* be in a true ""staging"" env."
conorsch,2016-11-03 23:33:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bcce9222d4c95277c9302ced0c1eda6c480cf889,bcce9222d4c95277c9302ced0c1eda6c480cf889,"Updates Serverspec tests for development pip libraries

The pip versions used on the development machine have changed recently;
updating the tests to track what's specified in the new
`securedrop/requirements/test-requirements.txt` file."
conorsch,2016-08-23 09:08:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/62087976081debe0e96695ea46c25c23b14ba988,62087976081debe0e96695ea46c25c23b14ba988,"Updates IPv4 address inference in staging vars

In production installs of SecureDrop, the local IPv4 addresses must be
hard-coded by the Admins in the vars files. These addresses are used
to connect to the hosts during the initial Ansible run, after which SSH
access is restricted to Authenticated Tor Hidden Service (ATHS) for SSH.
The IPv4 addresses are also used for OSSEC monitoring over the LAN,
behind the hardware firewall.

In the staging environment, we have the benefit of inferring the
internal IPv4 addresses in testing environments, since developers
control the machine creation. Although it's possible to hardcode IP
addresses for the Vagrant VMs, and use these hardcoded values in the
staging vars, the same approach would not work for testing in
environments other than Vagrant/VirtualBox, such as DigitalOcean.

The previous approach naively used the Ansible host fact
`.ansible_all_ipv4_addresses.0`, which is *usually* correct, but not
guaranteed to be, since the list var of all IPv4 addresses is not
ordered. Therefore let's specify the interface we expect the IPv4
address to be associated with, and explicitly retrieve the address based
on the interface name. This allows for selective overrides in different
environments, e.g. VirtualBox vs. DigitalOcean. Production vars are
unaffected by this change."
conorsch,2016-08-23 06:34:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2adcbb984a4e65cfaada4a9d6f5f114616c585fc,2adcbb984a4e65cfaada4a9d6f5f114616c585fc,"Updates Serverspec tests for pip requirements in dev VM

Recent version bumps to the pip requirements were not included in the
Serverspec tests, which were still checking for the old versions. All
pip requirements are checked against a hard-coded list of versions for
each package, so even a minor version change will trigger a failure."
conorsch,2016-08-23 05:35:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8486f2ea283d7326d39178a7b7d56b24c9b47a9f,8486f2ea283d7326d39178a7b7d56b24c9b47a9f,"Updates Serverspec tests for localhost/hostname check

The Serverspec tests were inappropriately checking for the machine
hostname (i.e. localhost) to be defined as ""127.0.1.1"", rather than
""127.0.0.1"". According to the manpage for `hosts`, 127.0.1.1 is typically
used for an FQDN, which isn't applicable in the context of SecureDrop,
since the servers are only accessible via Tor Hidden Services.

The Ubuntu Vagrant boxes built by Canonical showed the tests passing,
but since switching to Bento boxes, the test started failing with
vagrant.vm being set as the FQDN for the VM."
conorsch,2016-08-22 05:49:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cea4f88e50712cd998f1a20161f22b57a545e78c,cea4f88e50712cd998f1a20161f22b57a545e78c,"Updates Serverspec checks for pip testing dependencies

Version numbers were recently bumped; updating Serverspec tests to track
new versions. Using hard-coded versions intentionally, even though it
will commonly cause frustration and require manual updates, since we've
seen failures related to Selenium/Firefox version mismatches."
conorsch,2016-08-22 05:37:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d03cca9d7a887e23a84ea4e45c28334751df3ce6,d03cca9d7a887e23a84ea4e45c28334751df3ce6,"Updates Serverspec tests Apache cache headers

Both the Source and Document Interfaces have had the Apache headers
controlling the caching of assets adjusted recently [0], to make the
Interfaces load in Tor Browser in a more visually pleasant way. This
commit simply updates the Serverspec tests to check for the new
settings.

[0] 8e9612f9e2e72e55bc52ce14459e8978a3a5fb8b"
garrettr,2016-11-02 23:59:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78839f93e8d28d5c01f8dd719cafd0042de077d0,78839f93e8d28d5c01f8dd719cafd0042de077d0,"Merge pull request #1434 from freedomofpress/remove-get-key-by-fingerprint

Remove never used crypto_util.get_key_by_fingerprint fxn"
garrettr,2016-11-02 23:42:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9759a5a34631e09bb4e812af339d3eb4daad1006,9759a5a34631e09bb4e812af339d3eb4daad1006,"Merge pull request #1441 from freedomofpress/reorganize-developer-docs-flow

Reorganizes developer docs for better flow"
conorsch,2016-11-02 23:40:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17e9a03cd70c0eabd2d15db5c4b052f48d0c5a3b,17e9a03cd70c0eabd2d15db5c4b052f48d0c5a3b,"Fixes external link to GitHub issue

As a result of splitting up the docs, we lost association to a URL
to a historical GitHub issue. Copied over the URL reference, and updated
the include line to capitalize GitHub consistently. Thanks to
@redshiftzero for catching during review."
conorsch,2016-11-02 23:10:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a365917f0c88a1661dbcf44a2a92d90e56a423cb,a365917f0c88a1661dbcf44a2a92d90e56a423cb,"Folds Architecture Diagrams in dev docs into Tips & Tricks

The best place we currently have for them. Down the road we may want to
create a separate doc file for listing out resources such as
architecture diagrams, but first we'll have to generate that content."
conorsch,2016-11-02 23:06:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ffab749babe055a4efa18dd5f2db8184e54d0973,ffab749babe055a4efa18dd5f2db8184e54d0973,"Explicitly includes all developer docs in index

Rather than fileglob everything in, let's be explicit about ordering, so
the docs are readable in concise chunks by clicking Next."
conorsch,2016-11-02 22:46:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/318200d1da7e066a876510994bf708f5b4a0f010,318200d1da7e066a876510994bf708f5b4a0f010,"Renames Documentation Guidelines RST file for clarity

Having a file called ""documentation"" within a docs folder isn't exactly
the clearest approach to naming. Let's match the title ""Documentation
Guidelines"" in the filename. Also updates the index with an explicit
include, for logical ordering of the individual dev docs."
conorsch,2016-11-02 22:29:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d15213b6b19df83b05cea8eb1867b21027af4fb,8d15213b6b19df83b05cea8eb1867b21027af4fb,"Folds SSH over Tor docs into Tips & Tricks

It's topically related to the Tor Browser testing info."
conorsch,2016-11-02 22:25:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b872295f92641c5f62ab4f38527f306b1575aec5,b872295f92641c5f62ab4f38527f306b1575aec5,"Breaks out Tips & Tricks section from dev docs

The Tor Browser tips are :ok:, let's make them pop!"
conorsch,2016-11-02 22:22:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a73cb2443f4e56c3fc00b7156e10c92d09bd6822,a73cb2443f4e56c3fc00b7156e10c92d09bd6822,"Breaks out SSH over Tor explanations from developer docs

Now using a separate RST file to keep the dev docs readable. Updated the
index file with an explicit include to make sure the docs still flow in
order."
conorsch,2016-11-02 22:12:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e22adea1da53c5462eccd74e85eb72b712ed98f8,e22adea1da53c5462eccd74e85eb72b712ed98f8,"Breaks out Virtual Environments docs to discrete section

Using a separate RST file for different subsections within the overgrown
""Getting Started"". Virtual Environments is the first to be moved. Also
updated the index file with an explicit include to make sure the docs
are readable in order."
redshiftzero,2016-11-01 22:57:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2c908b60ad225ec9bd9d2a662540f138c9e9c175,2c908b60ad225ec9bd9d2a662540f138c9e9c175,Modify user password check to look for flashed message
redshiftzero,2016-10-21 23:19:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/63ba532998e942bd601dec1dd63b3a790c85e586,63ba532998e942bd601dec1dd63b3a790c85e586,"Remove remainder of magic numbers, style changes for consistency (Post code review changes)"
garrettr,2016-10-21 22:37:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30357ac1a8074efa3ea17ae385acf3ae746ef11d,30357ac1a8074efa3ea17ae385acf3ae746ef11d,"Improvements to tests from peer review

- Use stored self.user's id instead of hard-coding the id (no magic
  numbers!)
- Asserts on expected flashed notification text in results page instead
  of the less-specific redirect
- Questionable style changes"
garrettr,2016-10-21 22:38:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0bba126fc5ed3b2e11473db45022b5217f168d00,0bba126fc5ed3b2e11473db45022b5217f168d00,"Fix validation for editing usernames

Previously, if an admin tried to edit a user and give them a username
that was already in use, the page would flash a highly unhelpful
""unknown error occurred"" notification. This validation was also being
triggered indirectly from an exception raised by SQLAlchemy.

This commit makes username validation explicit for editing users from
the admin interface and flashes a specific and helpful message.

Updates the unit tests to check for the new message.

Also fixes an issue where a ""password successfully changed"" message was
flashed any time the user was edited. Fixed so this is only shown when
the password is actually successfully changed."
garrettr,2016-10-21 07:07:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cbfab06d977e567fc1e0a331feccca78c9ff6b98,cbfab06d977e567fc1e0a331feccca78c9ff6b98,"Improve user deletion from the admin interface

- Provide feedback in admin interface upon successful user deletion
- Gracefully handle invalid requests to delete nonexistent users
- Update unit test for deleting valid users to check for new
  notification message.
- Add unit test for handling invalid requests to delete nonexistent
  users."
garrettr,2016-10-21 07:14:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4e55fa59107020d6a3d5fd560b2be288e18e17d4,4e55fa59107020d6a3d5fd560b2be288e18e17d4,Remove some trailing whitespace
redshiftzero,2016-10-05 23:22:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5829ca32b86871c4706af25da29b17c8a7f3539,b5829ca32b86871c4706af25da29b17c8a7f3539,Add test for adding a star
redshiftzero,2016-10-05 23:04:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae1fc63f851815d68718031958be43047f611631,ae1fc63f851815d68718031958be43047f611631,Remove TODO for adding unit tests for admin interface
redshiftzero,2016-10-05 23:02:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/80199f7fefa1eeca6e8c532d3f2269e0742e0d2e,80199f7fefa1eeca6e8c532d3f2269e0742e0d2e,Add unit tests for admin adding user
redshiftzero,2016-10-05 22:24:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b6f73d2c6a990d4e2d9f96c985daedf06d34656b,b6f73d2c6a990d4e2d9f96c985daedf06d34656b,Add unit tests for admin verifying 2FA token for new user
redshiftzero,2016-10-05 21:58:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f0c50cc33879ada346eac27de1d57076f10f071,8f0c50cc33879ada346eac27de1d57076f10f071,Add unit test for admin resetting user TOTP
redshiftzero,2016-10-05 21:48:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/159f2e865f053fa4e5f74c17bc5e0a4f064d37eb,159f2e865f053fa4e5f74c17bc5e0a4f064d37eb,Add unit test for failed admin reset of HOTP
redshiftzero,2016-10-05 21:44:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/80eef43df96bb3c7968aeefb44832c41dd7c6359,80eef43df96bb3c7968aeefb44832c41dd7c6359,Add unit test for admin reset of HOTP
redshiftzero,2016-10-05 21:24:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c0b9aea6743425f55e7c4b954acb0dbb100ca8bd,c0b9aea6743425f55e7c4b954acb0dbb100ca8bd,Add unit test for admin editing user with invalid username
redshiftzero,2016-10-05 21:19:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38022453d23c2c2ee7dd3752e7f2762db787e49c,38022453d23c2c2ee7dd3752e7f2762db787e49c,Add unit test for admin changing user password to be too long
redshiftzero,2016-10-05 20:32:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1fc9d7294e2d4debf88ff70da4ffd6776d9d957d,1fc9d7294e2d4debf88ff70da4ffd6776d9d957d,Add unit test for invalid password change by admin
redshiftzero,2016-10-05 19:13:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cf768b8e88163d0d848f236716c3c1d26b22bd9e,cf768b8e88163d0d848f236716c3c1d26b22bd9e,Add test for administrator deleting a user
redshiftzero,2016-10-05 18:38:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/79a9e7083cb64896c4f9f2dea5767f3ac44b9b56,79a9e7083cb64896c4f9f2dea5767f3ac44b9b56,Add test for too long password change in edit_account()
redshiftzero,2016-10-05 18:25:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f8d0e09a15f593d271e8757aa5ac148e2fc8cb8,8f8d0e09a15f593d271e8757aa5ac148e2fc8cb8,Add unit tests for datetimeformat()
redshiftzero,2016-10-05 01:20:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dee820912c55ac7430cf8c40cc8c673c4d793ba6,dee820912c55ac7430cf8c40cc8c673c4d793ba6,Add tests for _relative_timestamp()
redshiftzero,2016-10-05 00:43:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bfa6630153cc5d805abd6120f641f510facf8be6,bfa6630153cc5d805abd6120f641f510facf8be6,Add unit tests for logout function in journalist.py
redshiftzero,2016-10-05 00:23:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5d8395cb5d00cefc9af689d91a8b27649ef5abfc,5d8395cb5d00cefc9af689d91a8b27649ef5abfc,Add new test for rename_submission() function
conorsch,2016-11-02 20:39:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e299f285481ccb9d31ce1d5793d0d4364b5fea65,e299f285481ccb9d31ce1d5793d0d4364b5fea65,"Merge pull request #1436 from freedomofpress/merge-0.3.10-into-develop

Merge 0.3.10 into develop"
redshiftzero,2016-11-02 20:19:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/af74286ed04e1ae64b6fe150a01994776980e57a,af74286ed04e1ae64b6fe150a01994776980e57a,"Merge pull request #1439 from freedomofpress/merge-0.3.10-into-develop-fix-travis

Version-locks Ansible in Travis tests"
conorsch,2016-11-02 19:24:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71adef74a17f4cfc92412e8d4a5f2bfec35928f5,71adef74a17f4cfc92412e8d4a5f2bfec35928f5,"Version-locks Ansible in Travis tests

Rather than install the latest version of Ansible (currently 2.2.0.0),
let's install an older version to match what we recommend for
developers. Recent syntax deprecations in Ansible v2 cause the current
playbooks to fail."
garrettr,2016-11-01 21:04:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b447ab7045e41796976202a6684ac3c71e66b7fe,b447ab7045e41796976202a6684ac3c71e66b7fe,Merge changes from 0.3.10 into develop
conorsch,2016-10-21 19:44:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c5b4220e04e3c81ad6f92d5e8a92798f07f0aca2,c5b4220e04e3c81ad6f92d5e8a92798f07f0aca2,SecureDrop 0.3.10
garrettr,2016-10-25 15:57:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bbd139f6b8804ed022ad51d1f7338618779747fb,bbd139f6b8804ed022ad51d1f7338618779747fb,"Rename references to release signing key

0.3.10 rotates from using the ""Freedom of the Press Foundation Master
Signing Key"" to sign releases to a new project-specific ""SecureDrop
Release Signing Key"". This commit updates the name of the key (the
fingerprint had already been updated) in the install documentation to
avoid confusion."
conorsch,2016-10-21 19:29:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5fd4e100d83a5b3049ddeb3d11bff10b9b7e4612,5fd4e100d83a5b3049ddeb3d11bff10b9b7e4612,"Updates signing key in 0.3.5 -> 0.3.6 upgrade docs

These instructions are deprecated, and shouldn't be used by any
currently running instance, but we still need to update the signing key
fingerprint key to keep the documentation accurate."
conorsch,2016-10-21 19:20:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/944083d8e93bb2bc82453363d9380a964939120f,944083d8e93bb2bc82453363d9380a964939120f,"Updates docs with new fingerprint for release signing key

The instructions for setting up the Admin Workstation include a `gpg`
command for fetching the key from keyservers via the full fingerprint.
That statement should reflect the new key."
conorsch,2016-10-03 18:08:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/640346253e2885260b5c3d564d0b06cbbddb90e2,640346253e2885260b5c3d564d0b06cbbddb90e2,"Makes ossec packages depend on securedrop-keyring

In order to ensure unattended updates to the SecureDrop offline master
signing key, we need to set the dependency on the ossec wrapper packages
as well, so the `securedrop-keyring` package is pulled in automatically
on the Monitor Server, as well."
conorsch,2016-09-29 23:05:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bb73ca090990cfeb3b2d35dec89e7c949083d2f0,bb73ca090990cfeb3b2d35dec89e7c949083d2f0,"Updates SecureDrop release signing pubkey in Ansible config

Modifies the FPF apt repo installation tasks to add the newly minted
public key for signing releases of SecureDrop. The ASCII armored version
of the pubkey ships with the git repo, and is copied to servers during
initial provisioning; thereafter the `securedrop-keyring` package will
maintain the apt keyring for SecureDrop-related packages.

Also updates Ansible apt_key install path to match securedrop-keyring.
By default the Ansible apt_key module appends keys to
`/etc/apt/trusted.gpg`, but the securedrop-keyring packages uses a
discrete keyring at `/etc/apt/trusted.gpg.d/securedrop-keyring`. Let's
modify the Ansible config so it matches the preinst script used by the
keyring package, ensuring that only one copy of the key is present on
the system."
conorsch,2016-09-28 23:25:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/786a54deef8d36159fdb1c1d95ccf96359368724,786a54deef8d36159fdb1c1d95ccf96359368724,"Removes old key location via preinst in securedrop-keyring packages

The Ansible playbooks have historically installed the SecureDrop signing
key to /etc/apt/trusted.gpg. Since the securedrop-keyring package
installs the keyring to /etc/apt/trusted.gpg.d/securedrop-keyring.gpg
instead, we need to clean up keys installed in the old location, to
ensure that apt finds only one relevant key to authenticate SecureDrop
packages. This gives us a single point of update to bump key expiry, or
even rotate keys, on the SecureDrop servers."
conorsch,2016-09-27 23:34:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f73fa4dc4f46cb82bc780849c03f269cbbc912c0,f73fa4dc4f46cb82bc780849c03f269cbbc912c0,"Creates securedrop-keyring deb package directory structure

Simple as it gets: store a binary keyring export in the directory
structure of apt's keyrings. The existing build package roles in the
securedrop repo handle bottling up the files in a deb package just fine.

The keyring file was generated using:

  gpg --no-default-keyring --keyring \
  install_files/securedrop-keyring/etc/apt/trusted.gpg.d/securedrop-keyring.gpg \
  --import \
  install_files/ansible-base/roles/install_fpf_repo/files/fpf-signing-key.pub

The keyring changes constitute a transition between fingerprints,
specifically:

  FROM  B89A29DB2128160B8E4B1B4CBADDE0C7FC9F6818
  TO    22245C81E3BAEB4138B36061310F561200F4AD77

Noting these changes here because the keyring file is binary format, and
therefore difficult to inspect changes for."
ageis,2016-06-03 00:41:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/75961546e0078ed0c3ad47e8d67bb4a94c78bc2a,75961546e0078ed0c3ad47e8d67bb4a94c78bc2a,"Adds securedrop-keyring as dependency of securedrop-app-code

This is intended to avoid requiring manual action by admins in order to install the keyring package before the next key expiration date. Instead, it can be pulled in automatically via the app code dependencies when the app code package is auto-updated.

See also Recommends, Suggests: https://www.debian.org/doc/debian-policy/ch-relationships.html#s-binarydeps"
ageis,2015-11-12 23:29:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d2bd0e4f4949d99125962d5109342d73a9d610cb,d2bd0e4f4949d99125962d5109342d73a9d610cb,Installs securedrop-keyring package via Ansible
conorsch,2016-09-27 23:01:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07953c04dc760d67f512d3217c9d7a733562f7bb,07953c04dc760d67f512d3217c9d7a733562f7bb,"Builds securedrop-keyring package via build playbook

Reusing the existing build-generic-deb-pkg role to output another deb
package for the securedrop-keyring. Simply tacking on another role
include statement with custom vars and tags."
redshiftzero,2016-10-24 20:01:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f263a7bd3244c90bd49ac83862b4d937a01f0c6a,f263a7bd3244c90bd49ac83862b4d937a01f0c6a,"Merge pull request #1428 from freedomofpress/DRY-totp-valid-window

Use pytop's builtin option for valid window for TOTP codes"
redshiftzero,2016-10-24 19:24:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5cc4ec46b0715c5815146d7c78fdba4a08f88881,5cc4ec46b0715c5815146d7c78fdba4a08f88881,"Merge pull request #1429 from freedomofpress/update-flask-testing-import-syntax

Replace deprecated remaining flask.ext.* syntax cases"
redshiftzero,2016-10-20 23:03:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/621ae6dd69c188ebd24ad29f363ab381bccfab8f,621ae6dd69c188ebd24ad29f363ab381bccfab8f,Add note about why you'd want to rename a source codename in the docs
redshiftzero,2016-10-20 17:43:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2b6e9bfe750155db72e799149b845d07bb98ec42,2b6e9bfe750155db72e799149b845d07bb98ec42,Update source guide with logout and restart of TB and refresh screenshots
redshiftzero,2016-10-20 17:38:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba94bb3cb7aba338b0a9e96bc55e12277a8248c9,ba94bb3cb7aba338b0a9e96bc55e12277a8248c9,Get functional tests to look for new notification box
redshiftzero,2016-10-20 17:36:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/456172c5cf8fbebc2ab78e8c978f879d792caefb,456172c5cf8fbebc2ab78e8c978f879d792caefb,Add notification to source to restart TBB after session
redshiftzero,2016-10-20 16:24:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90776c45952f9773c7807b9f369fb39d64eebf47,90776c45952f9773c7807b9f369fb39d64eebf47,Remove warning box and merge content into Servers section
redshiftzero,2016-10-20 02:00:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/65c69060eeadd83498c94d32abe5925762196042,65c69060eeadd83498c94d32abe5925762196042,Add extended explanation of why we require on-prem dedicated hardware
conorsch,2016-10-14 20:27:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/26bebc87ee7eda9b53a18f48486f8b6234f5a020,26bebc87ee7eda9b53a18f48486f8b6234f5a020,"Merge pull request #1418 from redshiftzero/dev-diagram

Adds diagram of securedrop database structure"
redshiftzero,2016-10-14 20:14:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/452b1cf74663e44f4b92a4f35b71d0d38a1cc514,452b1cf74663e44f4b92a4f35b71d0d38a1cc514,Add link to diagrams directory and show db diagram in docs
garrettr,2016-10-11 22:48:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5e1dd760ea302771691868e3abd66a0e4a438350,5e1dd760ea302771691868e3abd66a0e4a438350,"Merge pull request #1420 from redshiftzero/update-deploy

Update deployment guide to add note on Cloudflare"
redshiftzero,2016-10-11 22:20:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6566546c1caf3d377d02e5483e8b49339edfaa2e,6566546c1caf3d377d02e5483e8b49339edfaa2e,Update deployment guide to add Cloudflare note
redshiftzero,2016-10-10 19:04:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dda173935d18490511575022c8c97d01daa18d96,dda173935d18490511575022c8c97d01daa18d96,Add TeX to generate database figure
redshiftzero,2016-10-10 19:04:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b8bdde38cd7657f6f5caa55cd70484ff9792c6e,9b8bdde38cd7657f6f5caa55cd70484ff9792c6e,Add database design figure
redshiftzero,2016-10-10 19:04:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b427d63705d7eee69d7fcb43fee9d811fbbfb103,b427d63705d7eee69d7fcb43fee9d811fbbfb103,Update README to point to new figure
garrettr,2016-09-20 23:49:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f1141561afad8dae5d0f464993bc090d8a8d27c,8f1141561afad8dae5d0f464993bc090d8a8d27c,"Merge pull request #1411 from freedomofpress/merge-0.3.9-into-develop

Merge 0.3.9 into develop"
garrettr,2016-09-20 23:25:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9c0ed302a1c4e2be397e227efd90fb7f4a776c1d,9c0ed302a1c4e2be397e227efd90fb7f4a776c1d,"Fix broken functional test

After merging 0.3.9 into develop, we found that the
test_submit_and_retrieve_message functional test was broken. The
breakage was intermittent but frequent, and manifested as failure to
find target elements by class name or CSS selector in a target page.
When we inspected the source of the target page during a failing test,
we found that it instead contained the XML source for a Firefox
""Connection Interrupted"" error page instead of the expected HTML from
the SecureDrop Source Interface web application. We also noticed that
this tended to occur in conjunction with a ""Broken Pipe"" traceback from
the Source Interface server started by the functional test runner.

This breakage was unexpected because the full test suite is passing on
both the develop branch and on the 0.3.9 tag.

Our current theory is that this error was caused by Selenium making
multiple concurrent requests to the Werkzeug toy web server, which does
not handle concurrent requests well. For our purposes, it seems
sufficient to tell Werkzeug to run the test web server with
`threaded=True` so it can better handle concurrent requests, as
suggested by this Stack Overflow poster:
http://stackoverflow.com/a/12591943.

We are not sure why merging 0.3.9 would have caused this behavior to
change, but theorize that it could be due to recent changes in Firefox,
which has been updated recently, or due to recent changes in Selenium or
Flask, which were both updated as part of 0.3.9."
garrettr,2016-09-20 22:43:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/28b4eabea535c32fafff85ae3b7ba6bb15651e79,28b4eabea535c32fafff85ae3b7ba6bb15651e79,"Merge 0.3.9 into develop

The only merge conflicts were in the `securedrop/requirements/*.txt`
files, because:

1. Dependency version numbers were updated in 0.3.9, while
2. Dependencies were added/removed in develop.

Since the `securedrop/requirements/*.in` files merged successfully, we
resolved these merge conflicts simply by re-running `pip_update.sh`."
garrettr,2016-09-13 22:11:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e739e5d0572ccde05ac6efb348f909770917f36a,e739e5d0572ccde05ac6efb348f909770917f36a,SecureDrop 0.3.9
KwadroNaut,2016-09-07 15:52:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae98d213a3291c687cab23fc6852c3be23b6635c,ae98d213a3291c687cab23fc6852c3be23b6635c,"Missing username deploying ansible-playbook in doc

It wouldn't work if not specifying your SSH username, when it's different as your current username."
KwadroNaut,2016-09-07 15:49:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6625ce69e0281894c85e6fe178400dceeeb52e60,6625ce69e0281894c85e6fe178400dceeeb52e60,"Make backups work

On close examination, backups were not being made. The test in the backuprole perform_backup == true was not evaluated as expected. 
Known ansible problem, fixed upstream, but we're using the slightly older packaged version in Tails. https://github.com/ansible/ansible/issues/9369
Evaluates to false:
(perform_backup is defined and perform_backup == true)
Compares the string:
(perform_backup is defined and perform_backup == 'true')
Or uhm, make it look like php:
(perform_backup is defined and perform_backup|bool == true)"
KwadroNaut,2016-09-07 15:35:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/276ca37ee4f4b3489e8a6656dfcadfe8b9729472,276ca37ee4f4b3489e8a6656dfcadfe8b9729472,"Use a more up-to-date point release of Ubuntu

It saves quite some download and upgrade time for the admin, especially if it's done over Tor, when getting a more recent iso of Ubuntu 14.04. I couldn't find a generic link. We're upgrading everything nightly anyway, and I tested this as well."
conorsch,2016-08-29 07:17:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/104ce1ee211a02e0888275c0b41f8659f82020c2,104ce1ee211a02e0888275c0b41f8659f82020c2,"Fixes inference of THS info in install.sh script

The `tails_files/install.sh` script contains logic to find existing
information about Tor Hidden Services for the Application Server, and
use that information if it already exists when creating desktop icons,
and configuring the /etc/tor/torrc file in Tails. In two cases, the grep
commands to extract THS info inappropriately omitted the target file to
read from, which caused the script to hang indefinitely if those
commands were run. Fixed by specifying the target files for both the
Source Interface and the Document Interface files."
ageis,2016-08-29 07:02:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f6bab6cbe0822f72f0b8e30c33860320d67c29f1,f6bab6cbe0822f72f0b8e30c33860320d67c29f1,Add HTTPS redirect example for nginx
ageis,2016-08-29 06:59:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5008cd2176f8372bb62c7a5c4c7178fd7d2dfde4,5008cd2176f8372bb62c7a5c4c7178fd7d2dfde4,"Updates cipher suites, gets rid of RSA and 3DES"
ageis,2016-08-29 05:51:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/79d61020964ead57ddda2044a72e63a05cb53667,79d61020964ead57ddda2044a72e63a05cb53667,"Removes X-Content-Security-Policy from Apache examples

Content-Security-Policy is the new standard header.
https://www.owasp.org/index.php/Content_Security_Policy"
conorsch,2016-08-26 06:02:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38a276c7f07407abfd046c81d3649932390de7b1,38a276c7f07407abfd046c81d3649932390de7b1,"Merge pull request #1383 from freedomofpress/update-vagrant-version-requirements

Updates Vagrant version requirement in developer docs"
conorsch,2016-08-25 00:50:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/450ffd8b9419abeca56c0a68fd01bfda718e26f9,450ffd8b9419abeca56c0a68fd01bfda718e26f9,"Merge pull request #1382 from freedomofpress/docs-update-training-resources

Updates Training resources in docs"
garrettr,2016-08-24 17:59:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c2414466f26711b0184e274d64c1384a3ae0e612,c2414466f26711b0184e274d64c1384a3ae0e612,"Merge pull request #1390 from freedomofpress/dev-tools

Dev tools"
conorsch,2016-08-24 08:06:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/08bb1eb28b9305e7c62c79051a952fcb52fce88d,08bb1eb28b9305e7c62c79051a952fcb52fce88d,"Bumps recommended Vagrant version 1.8.4 -> 1.8.5

The most current stable release is 1.8.5, which is a sane default.
Tested fresh builds of development and staging environments under 1.8.4,
complete with tests; no issues."
conorsch,2016-08-24 05:00:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f292ba670b262ca3d0dedfbc651087eca8922ebd,f292ba670b262ca3d0dedfbc651087eca8922ebd,"Merge pull request #1388 from heartsucker/vagrant-docs

Added note about Vagrant on Linux to docs"
conorsch,2016-08-22 07:01:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f4bd6e8ba57066d1c1f28ab3e416e60e50374669,f4bd6e8ba57066d1c1f28ab3e416e60e50374669,"Creates docs ref label for SecureDrop architecture diagram

Facilitates cross-linking throughout the docs. Right now only using in
one place, Training, so link out to the diagram on the Overview page."
garrettr,2016-08-24 01:14:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/83cb86e7c09a0486f98b5e1caa97718988104c4b,83cb86e7c09a0486f98b5e1caa97718988104c4b,Install iPython in the development VM
garrettr,2016-08-24 01:04:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ddc9d2b9a72ecd2553cb717481bb089ed27e8f4,2ddc9d2b9a72ecd2553cb717481bb089ed27e8f4,Install tmux and vim in the development VM
heartsucker,2016-08-23 10:24:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a10de0fa7f80f0cf0b39cb8e9fe0f49de37d067,7a10de0fa7f80f0cf0b39cb8e9fe0f49de37d067,added note about Vagrant on Linux
conorsch,2016-08-22 07:38:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e9eba0a2584573403532a0594a59b59a5b99413c,e9eba0a2584573403532a0594a59b59a5b99413c,"Updates list of GH links to problematic Vagrant issues

Helpful to document why we require certain versions of Vagrant, in case
someone thinks an older version might suffice."
conorsch,2016-08-22 07:33:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ae401b9e3418e6fdd08dc5e092414c6a1d4cf4f,4ae401b9e3418e6fdd08dc5e092414c6a1d4cf4f,"Simplifies vagrant regex syntax in developer docs

There's no need to use '$' to terminate the regex when targeting
/staging/ and /prod/ hosts, since a substring match is sufficient for
uniqueness. Not only does this simplify the regexes and make them more
readable, it's also now consistent throughout the developer docs, since
both styles were being used previously."
conorsch,2016-08-22 07:31:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0bf58708c22c49423b62a03a2b30ed880eca662,a0bf58708c22c49423b62a03a2b30ed880eca662,"Bumps required Vagrant version 1.7.4 -> 1.8.4

There was a regression to the regex syntax for targeting hosts with
vagrant subcommands in 1.8.1, since fixed in 1.8.3."
conorsch,2016-08-22 06:56:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7cce7e171d78da113b7a6ab902b5200f9dd98258,7cce7e171d78da113b7a6ab902b5200f9dd98258,"Links out to best practices guides in Training materials

We have dedicated guides for Source, Journalist, Admin, and Deployment
Practices, so let's link out to them explicitly in the list of important
info to discuss during training. The list didn't previously include the
Admin guide, so added that as well."
conorsch,2016-08-22 06:50:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9aa2150a6866a347d5dae173cf90004c2b74d746,9aa2150a6866a347d5dae173cf90004c2b74d746,"Indents subitems in list of important docs for Training

The subelements falling under the category ""important"" info should be
indented to make a more readable list."
conorsch,2016-08-22 06:39:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/65c5bb9efbed97b673816ecc8c9356ee834ed2a0,65c5bb9efbed97b673816ecc8c9356ee834ed2a0,"Adds docs URL to Training materials

Since the Training overview was written, the SecureDrop project has
moved to ReadTheDocs for documentation, so let's include a clickable
link there for consistency. It's a bit meta to link to the docs within
the docs, but as a resource they should absolutely be included."
conorsch,2016-08-22 06:38:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30284b5f125cb0545f0f7befae0c48e97fc894b0,30284b5f125cb0545f0f7befae0c48e97fc894b0,"Removes mention of Hackpad for SecureDrop documentation

The Hackpad docs are not publicly accessible, and FPF is moving away
from Hackpad altogether due to deprecation of the service."
garrettr,2016-08-17 22:48:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68c00a046f96e34c98fa541636b7a063460fdee4,68c00a046f96e34c98fa541636b7a063460fdee4,"Merge pull request #1379 from freedomofpress/update-deps-0.3.9

Update deps 0.3.9"
garrettr,2016-08-17 19:08:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6230a4a326a3996abcf7cbbf1af9f2667a39fac0,6230a4a326a3996abcf7cbbf1af9f2667a39fac0,"Merge pull request #1378 from freedomofpress/merge-0.3.8-into-develop

Merge 0.3.8 into develop"
garrettr,2016-08-17 18:57:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dfe766ac32eb95315cc60d6bcae72c740521c95b,dfe766ac32eb95315cc60d6bcae72c740521c95b,"Merge tag '0.3.8' into merge-0.3.8-into-develop

SecureDrop 0.3.8"
garrettr,2016-08-17 18:28:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cf8092bdf176b97656c4cf776cecb90b4108ace8,cf8092bdf176b97656c4cf776cecb90b4108ace8,"Merge pull request #1377 from freedomofpress/merge-0.3.7.post1-into-develop

Merge 0.3.7.post1 into develop"
garrettr,2016-08-17 18:12:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/82d7c5559a17da3aa0de83051e4e55595c9f65f8,82d7c5559a17da3aa0de83051e4e55595c9f65f8,"Merge tag '0.3.7.post1' into merge-0.3.7.post1-into-develop

SecureDrop 0.3.7.post1

This post release fixes some minor documentation issues that were identified in
0.3.7. For context, see:

* Tracking issue: https://github.com/freedomofpress/securedrop/issues/1335
* Milestone: https://github.com/freedomofpress/securedrop/milestones/0.3.7.post1

This is being release as an unsigned tag because the only goal here is to
update the stable version of the documentation on ReadTheDocs. Since there are
no changes to the distributed software and there is no need for anybody to
checkout and verify this tag (they should checkout and verify 0.3.7 instead),
there is no need for this tag to be signed."
garrettr,2016-08-16 21:13:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4929d4785e352843af6d45b6e3cfa0aa3ba2a593,4929d4785e352843af6d45b6e3cfa0aa3ba2a593,"Merge pull request #1376 from freedomofpress/merge-0.3.7-into-develop

Merges 0.3.7 release into develop branch"
garrettr,2016-08-16 21:03:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac1265713411c55155c54f8a2d397c1e3d3fffed,ac1265713411c55155c54f8a2d397c1e3d3fffed,Update Selenium to fix functional tests
garrettr,2016-08-16 20:28:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f6e75682f24748905acd852e85e1687aa56e77a1,f6e75682f24748905acd852e85e1687aa56e77a1,"Merge pull request #1370 from freedomofpress/handle-unicode-conversion

Encode UTF-8 and/or convert to BytesIO stream all GPG input"
garrettr,2016-08-16 19:24:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0230293c7087489e58aed605d4cd0d32ea03cd4d,0230293c7087489e58aed605d4cd0d32ea03cd4d,"Add missing Python dependencies

There have been changes to the Python dependencies in both 0.3.7 and
develop, and they were not merged correctly. 0.3.7 overhauled how Python
dependencies are tracked (`.in` files and `pip-compile`), but develop
added additional Python dependencies (see #1180, #1183) using the old
dependency tracking mechanism (requirements files). This commit adds the
new dependencies to the new dependency tracking system.

In addition, this commit fixes some issues with `pip_update.sh` which
prevented it from working correctly in the development/build VMs."
conorsch,2016-08-15 23:08:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7bb16896ce58c73f53ad266291f0202fc79753dc,7bb16896ce58c73f53ad266291f0202fc79753dc,"Merge tag '0.3.7' into merge-0.3.7-into-develop

SecureDrop 0.3.7"
redshiftzero,2016-06-14 06:23:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ade31e2a65ea4fabb132ae4a7ff48ac1330861c7,ade31e2a65ea4fabb132ae4a7ff48ac1330861c7,Adds OSSEC rule to suppress email alerts when the HS is scanned
heartsucker,2016-06-26 12:56:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b173b6edec33880b26b0476c131f6dcace21394b,b173b6edec33880b26b0476c131f6dcace21394b,more unix-y cli for manage.py
diracdeltas,2016-08-04 18:39:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f703a79ac7ee10b32bcf123a3fa8681ee5b600e6,f703a79ac7ee10b32bcf123a3fa8681ee5b600e6,"Restore hyperlinks to non-THS resources

https://github.com/freedomofpress/securedrop/pull/516 is no longer necessary
as of TBB 5.0.4, which spoofs referer from .onion sites."
conorsch,2016-08-01 21:59:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/33cdcbe7c87e90a9c9288a22d843b4c8329a54a5,33cdcbe7c87e90a9c9288a22d843b4c8329a54a5,"Merge pull request #1363 from jrabbit/patch-1

Docs: add linebreak so the line gets code directive"
jrabbit,2016-07-30 00:52:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b4fc7ab3b8eca3c8bb905431327ab6e3a501cfff,b4fc7ab3b8eca3c8bb905431327ab6e3a501cfff,add linebreak so the line gets code directive
KwadroNaut,2016-07-27 20:49:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/72a56c42c89749b25a282e6089547f22fa864ff8,72a56c42c89749b25a282e6089547f22fa864ff8," Link how to memorize diceware passphrase

Knew the concept but not the definition of spaced repetition, adding a link for understanding."
heartsucker,2016-06-20 22:08:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d17c8b038019db5d687cd76dcada0490fe1b1f1,7d17c8b038019db5d687cd76dcada0490fe1b1f1,"moved wordlist to old location (#1334)

Move wordlist back to original location"
mdrose,2016-06-20 22:04:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f8aacda01cbcd45fb919f74c4fd563b7e7b2a9b2,f8aacda01cbcd45fb919f74c4fd563b7e7b2a9b2,Fixes some indentation issues in html/css (#1342)
conorsch,2016-06-16 22:44:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b418f6f025d94b553635d67c074bfdbfc336ad14,b418f6f025d94b553635d67c074bfdbfc336ad14,"Fixes App play in prod playbook (develop) (#1341)

* Properly indents var include in prod playbook

Adds whitespace for consistent indentation level. Formatting only, no
functional change.

* Fixes App Server play in production playbook

The missing '-' was causing the play block for configuring the
Application Server, including installing the securedrop-app-code deb
package, to be skipped. When parsing the playbook, Ansible read the
subsequent play as part of the same YAML dict, which technically it was,
due to the missing hyphen. All app-code-related tests failed in the prod
environment as a result."
mdrose,2016-06-16 03:37:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/afa4888f7daf8102beb337013bd8a010245971c5,afa4888f7daf8102beb337013bd8a010245971c5,Added batch delete to source interface (#1327)
garrettr,2016-06-15 18:21:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e660aef0300e8f4437beb765e8fc83305b1dc9f2,e660aef0300e8f4437beb765e8fc83305b1dc9f2,"Fix version in 0.3.7 docs (#1336)

* Specify the correct version for the git tag
* Fix update_version.sh to update the new docs
* Update version in conf.py"
ageis,2016-06-14 23:19:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/83074d04492a0cd4383091472abae9a9604197d8,83074d04492a0cd4383091472abae9a9604197d8,"Fixes to the 0.3.6 upgrade docs (#1322)

* Correct note about output of 'which ansible'

Functionally, the which command does not return something like 'ansible not
found' if a program is not found in the PATH. Instead, it outputs nothing.

* Correct cwd from where ansible-playbook is run

Faithfully following the flow documented here, admins will encounter the error:
ERROR! the playbook: securedrop-prod.yml could not be found

For the ansible-playbook command we've provided to work, the current working
directory needs to be install_files/ansible-base or the full paths to the
inventory and playbook should be specified in the command."
ageis,2016-06-14 23:19:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/302d932f65f9e97565ee08d98f91aef6e37249fb,302d932f65f9e97565ee08d98f91aef6e37249fb,"Fixes to the 0.3.6 upgrade docs (#1322)

* Correct note about output of 'which ansible'

Functionally, the which command does not return something like 'ansible not
found' if a program is not found in the PATH. Instead, it outputs nothing.

* Correct cwd from where ansible-playbook is run

Faithfully following the flow documented here, admins will encounter the error:
ERROR! the playbook: securedrop-prod.yml could not be found

For the ansible-playbook command we've provided to work, the current working
directory needs to be install_files/ansible-base or the full paths to the
inventory and playbook should be specified in the command."
heartsucker,2016-06-09 12:28:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b05bda4ce77bc71da51f94743b80bd6d09905114,b05bda4ce77bc71da51f94743b80bd6d09905114,updated diceware attribution (#1320)
nogoegst,2016-06-09 12:27:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca8b7c13dc635228b3b6d754d00cb6c73df62563,ca8b7c13dc635228b3b6d754d00cb6c73df62563,Remove previous little poor wordlist (#1321)
garrettr,2016-06-03 00:52:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a7e1ddc63e56282ad28982f8a4552ad689d0e63,3a7e1ddc63e56282ad28982f8a4552ad689d0e63,SecureDrop 0.3.7
garrettr,2016-06-03 00:49:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c3f393ede5632b20bb66b1d3c0606ce84b530c13,c3f393ede5632b20bb66b1d3c0606ce84b530c13,"Ignore strict version checking in dch

For this release's QA testing, I cut a release candidate with the
version ""0.3.7+rc1"". According to Debian's version numbering rules, this
is > ""0.3.7"", and dch prevents me from updating the changelog with a
version number that is technically later than the latest one already in
there.

0.3.7+rc1 was never pushed to production servers, so this is not going
to cause a problem in production. Testers who may have installed
0.3.7+rc1 will not automatically upgrade to 0.3.7, but that's only FPF
staff so it shouldn't matter.

In the future, we should use a versioning scheme that is compatible with
Debian's - I did not realize this was so complex. For now, I am
disabling the strict version checking in dch so I can get this release
out."
garrettr,2016-06-03 00:39:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9ef5f8901b168a2cf4a37d2c36b5420e9428caa5,9ef5f8901b168a2cf4a37d2c36b5420e9428caa5,"Support version numbers with '+' in update_version

Noticed this because we have been testing 0.3.7 as ""0.3.7+rc1"". This is
a useful pragma, so I'm fixing the update script to support it from
now on."
conorsch,2016-06-03 00:34:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5c0eb8d8bd9a4617837fd0183e4dc595fa6e65a,e5c0eb8d8bd9a4617837fd0183e4dc595fa6e65a,"Finalizes install.sh tails script (#1318)

* Silences zenity output during script run

If the script needs to prompt for config information interactively,
`zenity` is called to display a dialog box and accept text input.
When called, zenity will print noisy output to STDERR:

  GtkDialog mapped without a transient parent. This is discouraged.
  ** (zenity:28513): WARNING **: atk-bridge: Couldn't listen on dbus
                     server: Failed to bind socket
                     ""/root/.cache/at-spi2-socket-28513"": No such file or
                     directory

Given that the install.sh script is designed to be run interactively in
a terminal, we should hide that expected error output so it doesn't
clutter up the otherwise informative output of the script. This has been
done by redirecting STDERR to /dev/null. Note that only STDERR is
redirected, since STDOUT must operate normally in order for the captured
text to percolate up to the function caller and be used in the script.

* Removes verbose logging messages from install.sh

Partially reverts 69a7dacfd5158f8e4cc838254610d9d718e0c360. Since that's
a squashed commit, it's actually
8c63352f0327f9513cd4de8d133dc486594e2762 that's been reverted.

The `echo` statements were implemented during review and were
inadequately tested. The goal was to provide Admins with visibility into
where the script was referencing the A/THS URL information, since it
checks multiple locations. Unfortunately the `echo` statements caused
improper interpolation, and were also improperly called several times,
generating redundant output.

So let's remove the ""Found here:"" echo statements. Preserving the
echo calls that state that interactive prompting was necessary, although
those calls are now redirecting to STDERR."
conorsch,2016-06-02 23:50:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9c26e7101b81e621056c363105398c1a3238ae3b,9c26e7101b81e621056c363105398c1a3238ae3b,"Finalizes Tails upgrade docs for 0.3.7 (#1317)

* Updates git command from 'pull' -> 'fetch'

As of 0.3.7 we're requiring Tails v2.x. Tails v2, based on Debian
Jessie, ships with git v2, which changes the default strategy for pulls.
Hopefully most Admins will be proficient enough with git to navigate
the pull/fetch discrepancy, but let's err on the side of caution and
make the documentation as explicit as possible.

Using `git fetch` is terser and more legible than `git pull origin
release/0.3.7`, dig?

* Mentions 3 USB port requirement in Tails upgrade docs

The docs assume that the SVS/airgapped machine has 3 USB ports available
for simultaneous use. All 3 USB devices must be plugged in together:

  * master Tails USB (running the OS)
  * target USB for upgrade
  * Backup Device (for storing persistence files)

Technically an Admin with only 2 USB ports available could use the
ephemeral storage on the Admin Workstation as a go-between for the
backup process, but that would require even more convoluted language in
the documentation."
garrettr,2016-06-02 22:16:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9511857b0442b0586049e12584088501d5d2ee48,9511857b0442b0586049e12584088501d5d2ee48,Document re-installing the Tails auto-config (#1314)
heartsucker,2016-05-31 23:53:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff87f9a01feece5574ac2363919778b30efc2f65,ff87f9a01feece5574ac2363919778b30efc2f65,Human friendly wordlist (#1276)
garrettr,2016-05-27 20:49:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/06d8852c3686349d74c3bf54871f0c1aed0b10dd,06d8852c3686349d74c3bf54871f0c1aed0b10dd,SecureDrop 0.3.7+rc1
garrettr,2016-05-27 20:28:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d0ccd673ce0857276aadd067ecc027d729ed4b90,d0ccd673ce0857276aadd067ecc027d729ed4b90,Upgrade Tails 1x to 2x Guide (#1303)
conorsch,2016-05-27 20:28:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/69a7dacfd5158f8e4cc838254610d9d718e0c360,69a7dacfd5158f8e4cc838254610d9d718e0c360,Overhaul install.sh for Tails environment configuration (#1309)
garrettr,2016-05-27 20:26:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5793b9600740f7db499d5f6170241748b7b9b642,5793b9600740f7db499d5f6170241748b7b9b642,Better backup and restore (#1273)
conorsch,2016-05-27 17:25:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4e9a584550eb05659e6b09894d414cc3c9c6148c,4e9a584550eb05659e6b09894d414cc3c9c6148c,"Removes vagrant-hostmanager plugin from Vagrantfile (#1311)

The plugin is not used in the config anywhere, nor is the requirement
documented in our developer docs. Therefore let's remove it, because
first-time setup for SecureDrop VMs is a frustrating experience when
it's not nearly as simple as `vagrant up`."
kaizensoze,2016-05-11 01:13:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0da3809bbc40789312f4d9a9ea8e79190c84e623,0da3809bbc40789312f4d9a9ea8e79190c84e623,"Fix script tags (#1297)

Remove invalid type=""javascript"" for script tags (it breaks them)."
kaizensoze,2016-05-10 01:57:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01aeff5967d9cf779ba6d1116e80d39e4ce8ad62,01aeff5967d9cf779ba6d1116e80d39e4ce8ad62,"Don't make tooltips seem like clickable buttons. (#1291)

The cursor: pointer makes the tooltips seem clickable, which is misleading, especially for the Message and Uploaded Document icons on the Source page of the Document Interface.

resolves #1258"
ageis,2016-05-09 22:48:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03d9d034eded8f1e4db82662aefbeca989ddfe42,03d9d034eded8f1e4db82662aefbeca989ddfe42,"Adds version check to tails_files (#1292)

* Introduces version check to tails_files

The systemd-specific changes introduced in d413ac6 will only work on Tails 2.x
which is based on Debian jessie. This introduces a Tails version check to
prevent the user from proceeding further if they are running Tails 1.x.

* Updates docs to mention Tails version requirement

Our Tails guide directs the user in downloading and installing Tails from
scratch, so we can assume that they are grabbing the latest version, unless
they re-use an old Tails. Include the version requirement where running
install.sh is mentioned."
garrettr,2016-05-09 20:23:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d413ac6ea15bba497bffaca58c59314d710936b3,d413ac6ea15bba497bffaca58c59314d710936b3,"No suid for securedrop init (#1285)

* Remove setuid wrapper for securedrop_init.py
* Removes setuid binary from previous installation
* Correctly reload Tor on systemd-based Tails 2.x
* Fix notification of successful auto-configuration
* Remove trailing whitespace

Fixes #1288."
garrettr,2016-05-04 00:03:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b39bf3868e2fe8bad8d5813951893068e239f85e,b39bf3868e2fe8bad8d5813951893068e239f85e,"Replace old Markdown docs with RTD from develop

The last stable release, 0.3.6, was tagged before we rewrote
SecureDrop's documentation to use Sphinx and the ReadTheDocs platform
(#1158). The new docs are *much* better, and we currently point admins
to them instead of the Markdown docs available under the 0.3.6 tag in
the GitHub repository.

The problem: currently the only ReadTheDocs documentation available is
built from the develop branch, which is under active development. While
the installation and usage instructions are currently accurate for
0.3.x, they have already begun to diverge as develop moves toward 0.4,
and will only continue to diverge. ReadTheDocs has nice automatic
support for building ""stable"" documentation based on the latest tag
(according to semver semantics).

By copying the current ReadTheDocs documentation from develop into
0.3.7, we ensure that when 0.3.7 is released, we will have two sets of
documentation on ReadTheDocs: a fixed set for the stable release (based
on the docs that this commit backports from develop), and a ""latest"" set
based on develop, which is useful for reviewing docs changes."
b-meson,2016-04-29 00:11:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/18d0c49ae26945c30bb159bd010e8bf3d58f0ed3,18d0c49ae26945c30bb159bd010e8bf3d58f0ed3,"Network documentation update (#1270)

* add OPT1/OPT2 to 4NIC server
* rename app to Application for verbosity
* remove trailing underscore
* reworded DHCP setting
* updated pfSense webGUI, setting passphrase"
garrettr,2016-04-28 23:53:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b10b90948c331d2253e72d2d11a6597259634041,b10b90948c331d2253e72d2d11a6597259634041,"Merge pull request #1264 from fowlslegs/comment-out-todos

No longer include todos in Sphinx output"
garrettr,2016-04-28 23:35:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/49fd2d4d9c04486e9096931cd1e07d071f517de4,49fd2d4d9c04486e9096931cd1e07d071f517de4,"Merge pull request #1254 from heartsucker/docs

Updates server install documentation"
garrettr,2016-04-28 23:29:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/232673b1572d76383bcf2644bb28a34189fe0857,232673b1572d76383bcf2644bb28a34189fe0857,"Merge pull request #1239 from ageis/docs-nginx

Update deployment practices guide with nginx examples"
garrettr,2016-04-28 23:22:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/422353f1a1d5311cfa84cc0f49b2475affb0c88e,422353f1a1d5311cfa84cc0f49b2475affb0c88e,"Merge pull request #1237 from conorsch/document-2fa-setup

Document 2FA setup in install guide"
garrettr,2016-04-28 23:14:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b3f8999656d84c448fd4ed20518032a93fe56beb,b3f8999656d84c448fd4ed20518032a93fe56beb,"Merge pull request #1230 from DC4EC4F68F5C9F5B/otp-ssecret-formatting

Print OTP key on new line to avoid truncation by terminal"
garrettr,2016-04-25 19:05:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc06b2c6e474f11f033def7763df27eea8df4795,cc06b2c6e474f11f033def7763df27eea8df4795,"Merge pull request #1277 from ageis/reorder-nm-hook

Run NetworkManager hook before software upgrade"
garrettr,2016-04-25 19:04:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6946bb8ed1071f94840ce415c4c69d97260a7111,6946bb8ed1071f94840ce415c4c69d97260a7111,"Merge pull request #1280 from freedomofpress/sounder-aths-fetching

Sounder fetching of THS config files"
conorsch,2016-04-21 19:39:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/28eece903ed58712b80b1edbee744a9fff145d15,28eece903ed58712b80b1edbee744a9fff145d15,"Forces dest path for THS config files beside playbook

The behavior for inferring the dest path changed slightly in Ansible v2.
When running the playbook via vagrant, the *ths files will land adjacent
to the Vagrantfile, regardless of where the vagrant command was invoked
from. To force consistency between running ansible via the command line
and vagrant, force a path relative to the role directory and ensure the
files land adjacent to the playbook, as the docs indicate.

This change breaks portability for the role, but it's only used in
SecureDrop, so that's not currently a problem."
conorsch,2016-04-21 19:15:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ea7684d0a0641454607a92cd6705c380b3b24a4c,ea7684d0a0641454607a92cd6705c380b3b24a4c,"Uses template for formatting local THS files

The THS and ATHS config files fetched back to localhost should be
formatted with a trailing newline to support concatentation in the torrc
file. (The tails_files scripts open the files for copy/pasting, and
missing newlines will make it difficult to copy/paste correctly.)

Unfortunately Ansible v1 and v2 handle trailing newlines differently, so
the safest method to ensure reliable behavior across versions is to use
a template, and omit the hardcoded newline altogether. This approach
works on both v1 and v2."
ageis,2016-04-18 22:55:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0b55ecf313fd0fb2a9117fa73e47652e5ee52e70,0b55ecf313fd0fb2a9117fa73e47652e5ee52e70,"Use loop to rename instances of hook, plus rename"
ageis,2016-04-18 19:36:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23c900833d2f718659b97f189aa9c29800fdb179,23c900833d2f718659b97f189aa9c29800fdb179,Run NetworkManager hook before software upgrade
garrettr,2016-03-09 16:59:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/051ab3e3a7d585d4284ccd96a8e6a4b44be84764,051ab3e3a7d585d4284ccd96a8e6a4b44be84764,"Merge pull request #1246 from KwadroNaut/Hi-DPI

Update Hi-DPI displays note"
KwadroNaut,2016-03-09 12:05:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5f4f51e137791ef72a0460812a3d25ddd894dc3e,5f4f51e137791ef72a0460812a3d25ddd894dc3e,"Remove note about High-DPI displays.

Given the response @garettr  gave."
garrettr,2016-03-08 01:02:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd8c1eacf24ea39ca8e848d1c47f9753d1f9c06d,bd8c1eacf24ea39ca8e848d1c47f9753d1f9c06d,"Merge pull request #1243 from ageis/deployment-location

Add note about using location directive"
garrettr,2016-03-08 00:43:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07ee6fe479a18826c303ec038885d4180a9df081,07ee6fe479a18826c303ec038885d4180a9df081,"Merge pull request #1206 from ageis/tails-install

Validate journalist's input to torrc additions"
heartsucker,2016-03-06 15:23:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b2829b3b5263c3252fccc6419071a7cd63995fac,b2829b3b5263c3252fccc6419071a7cd63995fac,updated docs
ageis,2016-01-28 21:04:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04c53f6bde046c82f63466c9815cb7ee260172ad,04c53f6bde046c82f63466c9815cb7ee260172ad,Add note about using location directive to put landing-page specific configuration on same domain/site
ageis,2016-01-19 20:46:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a1c692354b86d20b616a9112a68ad6cc05faf07c,a1c692354b86d20b616a9112a68ad6cc05faf07c,Update deployment practices guide with nginx examples
ageis,2016-01-15 02:12:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9c6cf60b0645374a6c6e6a492a8dff93b760a9fe,9c6cf60b0645374a6c6e6a492a8dff93b760a9fe,"Add 'set -e' option

So the script will fail if there's a bad exit status on any subcommand, instead of proceeding."
conorsch,2016-01-04 18:55:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c78aa5ac011d505f48d685fc5a82385695d6845,7c78aa5ac011d505f48d685fc5a82385695d6845,Adds 2FA for TTY steps to the docs for testing an install
conorsch,2016-01-04 18:44:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e7a8cac79dd1a8ed00169be6ff07588459da4dbe,e7a8cac79dd1a8ed00169be6ff07588459da4dbe,Improve docs formatting for post-install SSH connectivity test
conorsch,2016-01-04 18:42:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/964c41d72c8116747791ca4b76c10dd793c2698f,964c41d72c8116747791ca4b76c10dd793c2698f,"Links out to the 2FA Topic Guide in the Post-Install guide

After the **Install SecureDrop** page in docs are additional steps for
configuring the Admin Workstation post-installation. Removed the warning
note about recommendation and simplified the language, focusing on the
Topic Guide for Google Authenticator to handle most of the explanation."
conorsch,2016-01-04 18:36:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d5ca7cd90c9286bce7fa5d34e7c868a152080b7f,d5ca7cd90c9286bce7fa5d34e7c868a152080b7f,"Cleans up codeblock formatting in install guide

Sphinx allows the :: operator to exist on the previous line, which makes
for cleaner docs with and reduces empty lines."
garrettr,2015-12-28 03:44:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/926fa5005338ba07b23e692bab0825f3cbe7bb12,926fa5005338ba07b23e692bab0825f3cbe7bb12,"Merge pull request #1225 from conorsch/ansible-reorg-general-idempotence

General idempotence changes for Ansible tasks"
garrettr,2015-12-28 03:35:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ea18f3de54b542ec729b83997105eca73efb5dbd,ea18f3de54b542ec729b83997105eca73efb5dbd,"Merge pull request #1229 from mark-in/typo-1

Fixed a typo"
garrettr,2015-12-28 03:04:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/118ea30457984e96d2f3e324ad0233b2129e0ea0,118ea30457984e96d2f3e324ad0233b2129e0ea0,Ignore .bundle directory created by Vagrant 1.8.0
garrettr,2015-12-22 17:50:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/367d349e2455a49c6d5b87d8a3d895d5b745d20c,367d349e2455a49c6d5b87d8a3d895d5b745d20c,"Merge pull request #1234 from evilaliv3/update-jquery-to-2.1.4

Upgrade jquery from 2.1.1 to 2.1.4"
conorsch,2015-12-10 08:08:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38a16b18503cb3f0fbc99252d7e6841436153df8,38a16b18503cb3f0fbc99252d7e6841436153df8,"Removes allow-direct-access role

Management of iptables rules is consolidated in the
`restrict-direct-access` role, which supports configuration for direct
access via vars overrides for `ssh_listening_address` and
`allow_direct_access`. Therefore a separate role to add the direct
access rules is no longer necessary."
conorsch,2015-12-10 08:07:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c10695e2563723da8023d667fd1f9558a77b33e,1c10695e2563723da8023d667fd1f9558a77b33e,"Removes remove-authd-exemptions role

Management of iptables rules happens in the `restrict-direct-access`
role, which runs after the OSSEC roles. The consolidate iptables management will configure
restrictive rules that do not include exemptions for authd, so we don't
need a separate rule to remove those exemptions."
conorsch,2015-12-10 08:07:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00d45a35d46b6049842c3dfae33a1abe69a5c57d,00d45a35d46b6049842c3dfae33a1abe69a5c57d,"Handles authd cleanup via delegate_to in ossec-agent role

Rather than having a separate role targeting the Monitor Server
(remove-authd-exemptions) that runs on every invocation of the playbook,
we can inspect the state of OSSEC agent registration and clean up after
authd dynamically.

The iptables rules are now consolidated in the restrict-direct-access
role, so removing the authd roles prior to writing the iptables template
isn't necessary.

Logically we now have tasks that apply to the ossec-agent
and to the ossec-server in the ossec-agent role, so this commit also
breaks up the task list for that role into separate files."
evilaliv3,2015-12-19 11:29:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de0f9a11aa60fcb60722a77cd1e9a2ca88c9fc46,de0f9a11aa60fcb60722a77cd1e9a2ca88c9fc46,Upgrade jquery from 2.1.1 to 2.1.4
mark-in,2015-12-16 21:17:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6425ce39abe9012702656811de809606391eed0d,6425ce39abe9012702656811de809606391eed0d,Better formatting for the shared OTP key
mark-in,2015-12-16 20:03:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39e7dfd90f60a8f9133c1ceb3bfee08d33ea2fe9,39e7dfd90f60a8f9133c1ceb3bfee08d33ea2fe9,Fixed a  typo
garrettr,2015-12-10 21:05:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97d1ecd2d59131d6ec7d03dfff610b566a2cd855,97d1ecd2d59131d6ec7d03dfff610b566a2cd855,"Merge pull request #1223 from conorsch/document-automatic-server-reboots

Document automatic server reboots"
garrettr,2015-12-10 20:17:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/18a84fdbbb747b73f6e0d285390d94e6deacdc78,18a84fdbbb747b73f6e0d285390d94e6deacdc78,"Merge pull request #1221 from conorsch/new-travis-format

Converts Travis CI tests to use trusty64 with sudo"
conorsch,2015-12-10 18:39:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d3b1c660ee742d6d04614f069288d8da02a3f421,d3b1c660ee742d6d04614f069288d8da02a3f421,"Adds warning about automatic reboots to FDE docs

The documentation on Full-Disk Encryption was not explicit enough about
the burden of manual intervention imposed by using FDE. Since the
servers automatically reboot every night, the Admin would need to type
the LUKS passphrase every morning on both servers. Updated the FDE docs
to include a `warning` box to make this requirement clear."
conorsch,2015-12-10 18:32:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d268f606b2ab44c1d29121acc06c970b22a6ca5,9d268f606b2ab44c1d29121acc06c970b22a6ca5,"Cross-links Server Setup and OSSEC alert docs

The automatic reboots are mentioned in the Server Setup docs, and the
Server docs now link out to examples in the OSSEC guide."
conorsch,2015-12-10 18:18:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/88c1e99ff2143c5966e3e9ef79453b682b57b3ab,88c1e99ff2143c5966e3e9ef79453b682b57b3ab,"Adds example OSSEC alert to OSSEC guide docs

The most common alert, the good-morning-hello-everything-is-ok, is now
included in the docs as an example for admins. It also explicitly
mentions that the servers reboot nightly, to reduce surprise for new
admins."
conorsch,2015-12-10 18:07:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eeef182935cfc92742a27b6cdd7c2d375f31ccbe,eeef182935cfc92742a27b6cdd7c2d375f31ccbe,"Adds note about automatic server reboots to install docs

The Application and Monitor Servers reboot every night, according to
a cron job that also runs `cron-apt`. Even if there are no updates to
install, the servers will still reboot to ensure that no submissions or
other sensitive state is retained in-memory for more than 24 hours."
conorsch,2015-12-07 23:40:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5016f075bd58b5c15fe50b16a762a5ceffba4162,5016f075bd58b5c15fe50b16a762a5ceffba4162,"Updates restrict-direct-access play in staging playbook

Explanatory comment now recommends inspecting the staging group vars to
view the overrides that permit direct access for SSH."
conorsch,2015-12-07 23:34:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37371a41fcc9085c4fe7667435596f902b7010ee,37371a41fcc9085c4fe7667435596f902b7010ee,"Adds direct access rules to staging group_vars

The default vars for ""ssh_listening_address"" and ""allow_direct_access""
are restrictive in order to enforce tight firewall rules in production
environments. In the staging environment, these variables will be
overridden to enable direct SSH connections, which greatly eases
debugging during development."
conorsch,2015-12-07 23:31:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b85f1d0e55621f7ef037276977ea2e4b17e0f49e,b85f1d0e55621f7ef037276977ea2e4b17e0f49e,"Moves iptables rules for Monitor Server into role

Use the consolidated template for iptables v4 rules to managing the SSH
direct access exemptions for the staging environment. Using a dual
conditional so that ""staging"" must be in the group names, and
""allow_direct_access"" must be set to true. Both conditions default to
false, to avoid accidental misconfigurations."
conorsch,2015-12-07 23:02:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30131ef4516e3cffde8a9be134c9849e45e3484c,30131ef4516e3cffde8a9be134c9849e45e3484c,"Moves iptables rules for Application Server into role

Rather than using two separate roles to manage iptables settings, we'll
consolidate iptables rules in a single template and manipulate the rule
list via group_vars. Using a dual conditional to add staging exemptions
to be conservative, ensuring that exemptions are not added in
production.

Creates a new default role var `allow_direct_access` as false."
conorsch,2015-12-07 22:54:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e300b2d4d83e20b466a73463347fac7cc1e34ff0,e300b2d4d83e20b466a73463347fac7cc1e34ff0,"Default to localhost for ssh listening address

Creates new default variable ""ssh_listening_address"" and sets it to
127.0.0.1. This provides a sane, conservative default value, but enables
overriding via group_vars for testing in the staging environment."
conorsch,2015-12-07 22:53:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8c9495b246d0be685d46f68007c62f75399446bf,8c9495b246d0be685d46f68007c62f75399446bf,"Converts sshd config file to template

Necessary to support variable interpolation governed by group_vars. Will
set role defaults to restrictve values."
conorsch,2015-12-04 21:16:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/995335e48e2ddd8f154aa4b15bc12b14596b4aff,995335e48e2ddd8f154aa4b15bc12b14596b4aff,"Fixes permissions on OSSEC email alert script

Previously the template task to write the script was setting 1407
permissions, rather than 0750. This is because the ""mode:"" parameter for
the task declared the value as an integer, rather than as a string.

We definitely do not want others to have write capability on this
script. Fixed, and updated the Serverspec test suite to match.

Using ""0750"" with ossec:root ownership. Typically ""0755"" would be
sufficient, but this script should be executed only as part of the OSSEC
functionality, and therefore should not be generally executable by any
user of the system."
conorsch,2015-12-04 21:14:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ecfa504c9505b8d23659ee29561a86914c4f6b8,2ecfa504c9505b8d23659ee29561a86914c4f6b8,"Reformats OSSEC email alert script for readability

Adds line breaks after shell pipes, so the flow of the script can be
read by humans."
conorsch,2015-12-03 22:40:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3c8887afca81ad1ca60769e74af51967a67c61e1,3c8887afca81ad1ca60769e74af51967a67c61e1,"Makes OSSEC agent registration idempotent

Rather than blindly running `authd` on every playbook run, we can store
the ""already-registered"" state in a boolean host fact on the Monitor
Server, and reference that to run tasks conditionally. We can reference
the host fact on in the ossec-agent role, as well."
conorsch,2015-12-03 21:45:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5547d75ca92f474b82fef4dd22f03259c0393d3f,5547d75ca92f474b82fef4dd22f03259c0393d3f,"Makes setting aa-complain in app-test role idempotent

Uses a messy shell command that pipes the output of `aa-status` to
`sed`, but it works. Another approach would be to compare the checksums
on the profile modes themselves, but that's not as safe, since it's
possible to update the profiles on disk but not reload the service, in
which case the states don't match. Safer to call aa-status and use its
output, even if it requires a janky one-liner.

Includes mad comments explaining the aa-status|sed shell command.
Definitely a contender for gnarliest one-liner of the year.

Also prunes tags on the task lists by consolidating the aa-complain tags
on the include in main.yml within the app-test role."
conorsch,2015-12-09 19:35:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9edb157144bdb0163d6ba76995142d3aa5f02da,d9edb157144bdb0163d6ba76995142d3aa5f02da,"Converts Travis CI tests to trusty64 with sudo

The Travis CI tests have been running on legacy infrastructure. Indeed,
each and every Travis run reminds you:

   This job ran on our legacy infrastructure. Please read our docs on
   how to upgrade. [0]

We've been dragging our feet on the upgrade, because the new
Docker-based containers explicitly do not allow the use of sudo, which
is a hard requirement for our tests. But sudo-less Docker containers are
not our only option (praise the old gods and the new)! We also have the
option of using Ubuntu 14.04 LTS builds with sudo enabled [1], which is
a much better option for our use case, given that we explicitly support
14.04 for production instances, and our development VMs also run 14.04.

[0] https://docs.travis-ci.com/user/migrating-from-legacy
[1] https://docs.travis-ci.com/user/trusty-ci-environment/"
garrettr,2015-12-09 02:21:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b58d8e3cf71fdcdc610d2922b3c3fc2324599668,b58d8e3cf71fdcdc610d2922b3c3fc2324599668,"Merge pull request #1215 from fowlslegs/mask-codename

Mask codename on login and submission pages"
nvesely,2015-12-07 09:06:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4e65533b2b6acf318bc601eee483f8e027bf00b8,4e65533b2b6acf318bc601eee483f8e027bf00b8,"Mask codename on login and submission pages

This commit masks sources' codenames altogether as they enter them into the
login page. On the submission page, it hides the codename by default, but allows
the source to reveal the codename via a hover-to-reveal functionality.
Hover-to-reveal was chosen over click-to-reveal with the intention of minimizing
overall visibility time.

It doesn't hurt they are now unable to copy-paste the codename from the
submission interfacealthough they still may do this during codename generation
process, this practice should be discouraged.

Signed-off-by: Noah Vesely <fowlslegs@riseup.net>"
garrettr,2015-12-08 02:09:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e6d44ba19f78c094bce0291e5b83115b0a7a089,1e6d44ba19f78c094bce0291e5b83115b0a7a089,"Merge pull request #1216 from mark-in/editable-diagram

 Multi-lingual easy-to-translate SVG for the diagram"
garrettr,2015-12-08 01:16:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed6197ba2727b90ce7b187995e91e3debd2acdad,ed6197ba2727b90ce7b187995e91e3debd2acdad,"Merge pull request #1200 from ageis/repo-description

Add document describing SecureDrop apt repository"
garrettr,2015-12-08 00:52:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2e5a94f40a7f0794fedc2331915797d8e1584f20,2e5a94f40a7f0794fedc2331915797d8e1584f20,"Merge pull request #1207 from ageis/weak-dh

Remove weak DH groups of <= 2000 bits"
mark-in,2015-12-06 22:32:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/51d57f07e6883cca6f3fcf660b245c1ef7f0d86b,51d57f07e6883cca6f3fcf660b245c1ef7f0d86b,Updated README.md
mark-in,2015-12-06 22:19:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/743ab85b38c3e5071e5c174efaac403b45d28b09,743ab85b38c3e5071e5c174efaac403b45d28b09,"Multilingual SVG w/ English and Russian translations
Looks good in both translations.
Lang change is made as switch against systemLanguage.
All text is groupped. So to translate just copy group for
your lang and edit it in any text editor. Have a look in
Inkscape afterwards!"
mark-in,2015-12-06 21:33:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ca5fe2b4a3102d22aa9d34554b1bda2b149b60a,4ca5fe2b4a3102d22aa9d34554b1bda2b149b60a,Russian translation
mark-in,2015-12-06 20:29:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d08d1ec1488758608272f480535630c9bd19766,9d08d1ec1488758608272f480535630c9bd19766,Added switch
mark-in,2015-12-06 20:19:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f5777dba59fc2aef38cd5692ffe3a8dfa1d33764,f5777dba59fc2aef38cd5692ffe3a8dfa1d33764,Removed empty flows
mark-in,2015-12-06 20:15:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a60da4096875e1cc5a13c855f5749cb3277ce32,6a60da4096875e1cc5a13c855f5749cb3277ce32,Text is groupped now
mark-in,2015-12-06 19:09:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/13d88f9247dfd0af2e4f2f1c6da48a433eae1d2a,13d88f9247dfd0af2e4f2f1c6da48a433eae1d2a,Text boxes are centered and text on curves is editable
ageis,2015-12-04 22:13:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1281df152b5a178884f838619d1ec5bb5186aaf3,1281df152b5a178884f838619d1ec5bb5186aaf3,Fix securedrop-ossec package description
ageis,2015-12-04 20:26:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7859736cf371824ff6fd8c5c7bebd25b5bcfa2b3,7859736cf371824ff6fd8c5c7bebd25b5bcfa2b3,Fix up description of OSSEC packages
ageis,2015-12-04 20:20:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/55381c4a240c86d230511b59afb39a065f7a6214,55381c4a240c86d230511b59afb39a065f7a6214,Move DH task to restrict-direct-access role
garrettr,2015-12-04 20:10:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eae9350b3954bc1244d21b51a7c7c1417d97ff40,eae9350b3954bc1244d21b51a7c7c1417d97ff40,"Merge pull request #1212 from freedomofpress/improve-verification-docs

Improve verification docs"
garrettr,2015-12-04 15:16:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/706093aa49db089058a5b397d1455bc8bcc8360a,706093aa49db089058a5b397d1455bc8bcc8360a,"Merge pull request #1211 from mark-in/vector-diagram

Make the diagram vectorish, smoother and clearer"
conorsch,2015-12-01 17:57:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/680a6a7532134b4ba8bba6d2a5078cd29f0e0106,680a6a7532134b4ba8bba6d2a5078cd29f0e0106,"Updates permission handling for procmail log file

The previous task was not correctly specifying file mode in
string-format, so ""0660"" was interpreted as ""1224"" on the host
(that's --w--w-r-T, to save you the trouble). Fortunately the wrong
permissions didn't break OSSEC, but it's definitely not ideal.

Now using a two-pass solution that doesn't clobber the logfile, but
ensures correct permission and ownership in string format."
nvesely,2015-11-30 20:05:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9306e902fdd483fb9931028bccf63b2fcbcf2971,9306e902fdd483fb9931028bccf63b2fcbcf2971,"Standardize key ID, double-check fpr notes, use lsblk

This commit does the following:
* Standardizes the use of the fingerprint as the key ID format for the `gpg`
  commands in ossec_alerts.
* Makes warnings to double-check that fingerprint and hidden keyserver URL has
  been typed correctly more explicit by using `.. note::` (across files).
* Adds instructions on using lsblk to identify where a USB is mapped (to help
  readers use `dd` command safely).
* Corrects use of word ""parentheses"" is place of ""double quotes"" in
  ossec_alerts.

Signed-off-by: Noah Vesely <fowlslegs@riseup.net>"
garrettr,2015-11-30 15:54:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5db64dfad59ee413ed36e7ae919b875f34277dc,e5db64dfad59ee413ed36e7ae919b875f34277dc,"Merge pull request #1210 from mark-in/more-gender-neutral-docs

Even more gender-neutral language"
mark-in,2015-11-29 14:21:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d8b5a151f173ca4d2703b3ae99aecc8154ac5e72,d8b5a151f173ca4d2703b3ae99aecc8154ac5e72,The arrows to and from the App Server are bidirectional now
mark-in,2015-11-29 14:08:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4d2d3878043157010e99f9a44400818ecd864e3b,4d2d3878043157010e99f9a44400818ecd864e3b,Admin also uses web interface of AS
mark-in,2015-11-29 13:56:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2d96f9b4c8e917b0a880e3504c4ea591683af86a,2d96f9b4c8e917b0a880e3504c4ea591683af86a,Google Auth -> OTP app
nvesely,2015-11-25 23:52:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5518c05844024ebbab31a4613665cd021f007064,5518c05844024ebbab31a4613665cd021f007064,"Better fingerprint formatting

The main change in this commit is that the commands to fetch keys now give the
fingerprints in a paranthesis-enclosed, spaced-groups-of-four format. This
format should work long-term with Tails because it is not expected to switch to
GPGv2 for years. In GPGv2 this formatting does not work, but we can (and should)
file an issue upstream, so this doesn't turn into a bug in 3 years.

This change was made because it allows users to fetch keys in the safest way
possible (i.e., by passing the full fingerprint to GPG) in a way where if they
are manually typing in the argument they are the least likely to make a mistake.

Of course, instructions surrounding these commands have been changed to make
this more clear.

Also, a couple mistakes/ issues pointed out in
https://github.com/freedomofpress/securedrop/pull/1212 have been fixed.

Signed-off-by: Noah Vesely <fowlslegs@riseup.net>"
nvesely,2015-11-25 00:52:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a7745c798774c40333eecab0d9c87247469e459,1a7745c798774c40333eecab0d9c87247469e459,"Add checksum warning, key import command fix, formatting

This commit does the following:

* Adds a warning to contact us in case the checksum of the Ubuntu ISO image is
  off. This is consistent with our warnings about GPG errors elsewhere.
* Fixes the unsafe key import command in the OSSEC guide. It had been missed
  somehow even though I searched through the document.
* Fixes the rest of the formatting in the modified files to be in line with our
  what is now our standard practice.

Additionally, the wording or information given in some places has been changed
or reverted with a focus on making the process as simple and safe as possible,
while minimizing burden on the administrator in terms of work and also not
providing them with any information more than that that is immediately useful.

Signed-off-by: Noah Vesely <fowlslegs@riseup.net>"
mark-in,2015-11-24 22:07:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fd9886cb97657beb5d192a7dfc05301c0397f0c5,fd9886cb97657beb5d192a7dfc05301c0397f0c5,"Make the diagram vectorish, smoother and clearer"
nvesely,2015-11-24 23:07:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e3125b5db3495f19ed5468e1a1d9d70d47a698ef,e3125b5db3495f19ed5468e1a1d9d70d47a698ef,"Remove Tails fingerprint, make fingerprints more readable

Since Tails already provides a guide to verifying their images, and we do not
wish to explain how to do so ourselves (as a goal is to keep this install guide
as short and simple as possible), it makes sense to remove their fingerprint. It
does not make sense to have it here without accompanying instructions.

Reading and confirming you have typed a fingerprint correctly is much easier
when it is broken into sections. Therefore I have done so and added emphasis
that it's important you check it is correct before proceeding to download the
corresponding key.

Signed-off-by: Noah Vesely <fowlslegs@riseup.net>"
mark-in,2015-11-24 16:02:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0505248b24b2331c6273c92f3742579d8dbfe149,0505248b24b2331c6273c92f3742579d8dbfe149,Even more gender-neutral language
conorsch,2015-11-17 23:25:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/60481a1191cd739da06ee459b61f870a3093e9f3,60481a1191cd739da06ee459b61f870a3093e9f3,"Improves changed handling for grub-reboot task

Ansible doesn't provide a succinct method for comparing file checksums
before and after running a `command`. Therefore we need to take a
three-task approach:

  - read file checksum
  - run command, ignoring changed status
  - reread file checksum, reporting changed if different

Kludgy, but stable, predictable, and idempotent."
conorsch,2015-11-17 23:12:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fd95fc38a4ff22bf41da049818258c048635aa5b,fd95fc38a4ff22bf41da049818258c048635aa5b,"Properly ensures absence of apache default web dir

The /var/www/html default directory gets created automatically when
apache is installed. Previously the `app` role removed the directory as
part of the app dir tasks, but apache is installed after that. This
commit moves the removal task to after the apache install task, and
adds a spectest to ensure it's set."
conorsch,2015-11-14 23:04:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d4faeacc0aec5b67046794167ea7d9b6b13654d,8d4faeacc0aec5b67046794167ea7d9b6b13654d,"Idempotent checking for OSSEC agent registration

The list_agents command is read-only, so we can ignore the changed
status it always reports. There was also a bit of a logic error in the
subsequent tasks, as they weren't actually checking the STDOUT of the
list_agents command. Fortunately there are two conditionals on most of
those tasks (creates=), so they were skipped anyway, but the logic is
now fixed."
conorsch,2015-11-14 22:08:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f4d4475e572ac6b9c3f3fc71eedad4f0d4b87c95,f4d4475e572ac6b9c3f3fc71eedad4f0d4b87c95,"Idempotent management of paxctl flags

Rather than running the paxctl command every time, let's read
the flags first and run the command only if the flags are not correct.
There's an opportunity to be more explicit with the flags we're setting
here, since the -x and -e flags are present by default in VirtualBox,
but aren't explicitly set via the paxctl command."
conorsch,2015-11-14 21:47:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/504e888792b4ad858a3d6c8c5ff4822f97d17cef,504e888792b4ad858a3d6c8c5ff4822f97d17cef,Moves paxctl tasks to separate task list
conorsch,2015-11-14 21:39:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eaf74b5e4ee4d8780dbbd3cfcaa7f33e79c16d27,eaf74b5e4ee4d8780dbbd3cfcaa7f33e79c16d27,"Idempotent service management for ossec-authd process

The OSSEC init scripts are structured such that Ansible's service module
can communicate with them. Running `service ossec status` shows a
variety of OSSEC-related services:

    ossec-monitord not running...
    ossec-logcollector not running...
    ossec-remoted not running...
    ossec-syscheckd not running...
    ossec-analysisd not running...
    ossec-maild not running...
    ossec-execd not running...

But nothing for ossec-authd. Therefore we'll use pgrep to check for
the authd process, and kill it if found. Requires two tasks rather than
one, but allows for idempotence in reporting changed status."
ageis,2015-11-19 04:30:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/28571107128100bd668926555a2793c07ede5a4c,28571107128100bd668926555a2793c07ede5a4c,"Remove ""weak"" DH groups of 2000 bits or less"
ageis,2015-11-19 02:13:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a6d9dbed5c47d8341d42767d8b8b35fdcdc7b6f,8a6d9dbed5c47d8341d42767d8b8b35fdcdc7b6f,"Validate journalist's input to torrc additions

Adds a regular expression to match HidServAuth line onion address + auth-cookie
Loops until they get it in the correct format"
garrettr,2015-11-18 01:31:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c9c61556b0c5b34a09353c9abbd494a8007fe9f,7c9c61556b0c5b34a09353c9abbd494a8007fe9f,"Merge pull request #1205 from conorsch/fix-ths-file-formatting

Fixes fetching Source Interface THS URL"
conorsch,2015-11-17 23:51:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/46e8c2bbfb2ac91be42820171f912ae61a2fbb99,46e8c2bbfb2ac91be42820171f912ae61a2fbb99,"Fixes fetching Source Interface THS URL

Recent changes to how the Tor hidden service files are collected from
the servers and written to the Admin Workstation yielded a regression in
formatting: the ""HidServAuth"" string was inappropriately prepended to
all hidden service files. Instead, it should be prepended to the ATHS
files, but not to the THS file (the Source Interface)."
conorsch,2015-11-17 22:04:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/36003156664708508776f9eb6f26a0c585f3302b,36003156664708508776f9eb6f26a0c585f3302b,"Merge pull request #1196 from conorsch/ansible-reorg

Reorganizes Ansible playbooks"
conorsch,2015-11-17 21:28:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/398eb94ec0dbd8047160dedd75977ab497303970,398eb94ec0dbd8047160dedd75977ab497303970,Adds regression spectests for duplicate /etc/default/haveged entries
conorsch,2015-11-17 21:26:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4e3ee59df6acecb0dd150f0274464d2edcbdcc23,4e3ee59df6acecb0dd150f0274464d2edcbdcc23,"Cleans up duplicate entries for haveged defaults

A previous task was appending redundant config lines, due to a poorly
structured regex. The regex has been fixed, but we still need to clean
up any previously appended lines, to ensure that `lineinfile` continues
to work as expected (it only performs one substitution). So, we'll first
remove any duplicate lines from /etc/default/haveged, then run the
lineinfile replacement to make sure the args are set as intended."
conorsch,2015-11-17 21:14:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7958022da233a951050183a46530fef390b74c3b,7958022da233a951050183a46530fef390b74c3b,Adds regression spectests for duplicate /etc/hosts entries
conorsch,2015-11-17 20:43:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/57241076aa4e1ab4467fdb1346970a34fdc26128,57241076aa4e1ab4467fdb1346970a34fdc26128,"Cleans up duplicate /etc/hosts entries

A previous version of the lineinfile task managing /etc/hosts was
needlessly appending duplicate lines. The task has been adjusted to use
a smarter regex, but that's not enough, since the new regex will update
the last match in the file, and /etc/hosts parsing returns the first
matchwill could be outdated.

Therefore we'll need to duplicate the lines in the file, rewrite the
file, then perform the substitution. This more careful approach requires
three tasks rather than one, but ensures idempotence."
nvesely,2015-11-17 18:33:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/caca462e2b3fb764587d7d42c3e6d0971fb80981,caca462e2b3fb764587d7d42c3e6d0971fb80981,"Add warnings to verification docs + formatting fixes

Per Garrett's comments on #1178 I have added a couple notes/ warnings about
downloading Ubuntu over Tor and a failed verification process, and also cleaned
some formatting stuff up.

Signed-off-by: Noah Vesely <fowlslegs@riseup.net>"
garrettr,2015-11-17 17:32:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/760f59b4389b6372ad9aa0e99706a16bf3ea7f1f,760f59b4389b6372ad9aa0e99706a16bf3ea7f1f,"Merge pull request #1202 from garrettr/installing-vagrant-on-ubuntu

Update recommendations for installing Vagrant on Ubuntu"
garrettr,2015-11-17 02:41:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b084a7c93b6607b39231bd5b6c968bd2513e3bb8,b084a7c93b6607b39231bd5b6c968bd2513e3bb8,"Update recommendations for installing Vagrant on Ubuntu

This is a rebased version of #1099 by @chadmiller, which was
unfortunately bitrotted during the transition to Read the Docs.

Closes #1099."
garrettr,2015-11-17 02:27:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cccbb0dc6fbbfe47af694644e348d0d0aaa31632,cccbb0dc6fbbfe47af694644e348d0d0aaa31632,"Merge pull request #1162 from ageis/ignore-autoremove

Ignore modifications to 01autoremove-kernels"
garrettr,2015-11-17 02:25:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96d06a74fb0865821dd359321608d475feab1a41,96d06a74fb0865821dd359321608d475feab1a41,"Merge pull request #1165 from pwplus/source_redirect

Redirect source to /lookup if visiting /generate and already logged in"
garrettr,2015-11-17 02:10:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/399e8c83eeafe516255ad04e135a867c79bd6fd0,399e8c83eeafe516255ad04e135a867c79bd6fd0,"Merge pull request #1201 from conorsch/cosmetic-changes-to-ossec-docs

Cosmetic changes to OSSEC docs"
conorsch,2015-11-17 01:14:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/73472393e9a5a2689c57bf11f6b9b2ec9592d998,73472393e9a5a2689c57bf11f6b9b2ec9592d998,Adds descriptive comment about manage-groups role to prod playbook
conorsch,2015-11-17 01:11:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c1bc7579cb33e32ae4896860c89326f956b1ea94,c1bc7579cb33e32ae4896860c89326f956b1ea94,Sets stat command for grsec lock file to read-only
conorsch,2015-11-17 01:33:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04217b6a2910d3382f54758961ff563801e2e93c,04217b6a2910d3382f54758961ff563801e2e93c,"Changes spelling ""cronjob"" -> ""cron job"" throughout"
conorsch,2015-11-17 01:02:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/88f54a17e2a17c5c7126291944444e8c10e3a606,88f54a17e2a17c5c7126291944444e8c10e3a606,Adds LICENSE information and source URL for profile_tasks plugin
conorsch,2015-11-16 19:56:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f906f76908fc5ef65afddcc31f35027648d1bb9,3f906f76908fc5ef65afddcc31f35027648d1bb9,"Converts recommendation to use playbooks to ""Tip""

The OSSEC docs were already discouraging the practice of manually
editing files live on server, but this commit strengthens the language a
bit and reformats the text into a Tip, so it's more eye-catching."
conorsch,2015-11-16 19:08:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0469c58b614dfdf1021707f88842d7b1a76c2b3,f0469c58b614dfdf1021707f88842d7b1a76c2b3,"Formats OSSEC log files as definition list

Makes the list more readable. Also includes a new header that makes
linking to log files section of the docs simpler, and adds a tip
recommending use of email encryption when sending log files."
conorsch,2015-11-16 19:00:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/485d653257272930930dc44a79c068998f242358,485d653257272930930dc44a79c068998f242358,"Better formatting on table in OSSEC alerts guide

The previous table formatting was converted from Markdown, and had no
linewrapping for table entries. This change provides linewrapping, and
while not perfect, is much more readable.

Unfortunately the rendered text still results in a horizontal scrollbar
in modern browsers, but the width of the scrolled box is not as wide as
before. So, a definite improvement. Not going to mess with custom CSS
at this time."
conorsch,2015-11-16 17:47:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1dad9d36d950b120c45e72e7dfe5c6273a758066,1dad9d36d950b120c45e72e7dfe5c6273a758066,"Allow full test suite to be run locally

Previously the snap_ci scripts required several manual tweaks for
running offline. It's cleaner to detect the Snap-CI environment via the
""SNAP_CI"" env var and automatically clean up droplets if detected. If
not detected, the droplets are retained, which makes repeated use of the
script for running all spectests much more convenient during
development, particularly of the Ansible playbooks."
pwplus,2015-07-22 14:03:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/670974c2ef4505c29c6b491762f183157e85765b,670974c2ef4505c29c6b491762f183157e85765b,"Redirect /lookup if visiting /generate when logged in

When a source is already logged in, clicking the back button could log
them out and generate a new codename. This could cause the source to lose
their original codename if it was not memorized yet. This commit will
redirect the source to the look page if they accidentally go back to the
generate page when logged in. It also adds an explicit logout button when
the source is logged in. This adds both confidence and professionalism to
the appearance."
conorsch,2015-11-14 01:27:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8ac9955cfe0a52952695acb30ad5bc189481e704,8ac9955cfe0a52952695acb30ad5bc189481e704,"Idempotent fetching of hidden service files

Rather than fetch-then-format, which results in two changed tasks every
time the playbook runs, we can read the file contents, then write the
local file in precisely the format we want. The cat-then-write approach
ensures that the tasks are marked ""changed"" only if the file contents
have indeed been changed, which is what we want."
garrettr,2015-11-13 23:37:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/697fc91d5b69f0786dde09c2e3af462e62b4c843,697fc91d5b69f0786dde09c2e3af462e62b4c843,"Merge pull request #1199 from ageis/fix-urls

Update URLs to use securedrop.org"
conorsch,2015-11-13 20:58:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e3213e43e9c538d05701952c971416096c3a0b08,e3213e43e9c538d05701952c971416096c3a0b08,"Makes GPG key import tasks idempotent

GPG reports ""imported: 1"" to STDERR, otherwise ""unchanged: 1"". Check for
the ""imported"" string and only mark the task as changed if found."
conorsch,2015-11-13 20:55:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a9f09139b7812cb82725fdd72729c31f10618efa,a9f09139b7812cb82725fdd72729c31f10618efa,"Updates spectest logic for finding droplet IP addresses

The VirtualBox networking setup defaults to NAT on eth0, so the IPv4
address on eth0 isn't what's used for the the OSSEC registration. For
VirtualBox hosts, use eth1, otherwise eth0 by default."
conorsch,2015-11-13 19:42:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7436868e00ca21ea51214731b7f7a4748ddf07b2,7436868e00ca21ea51214731b7f7a4748ddf07b2,"Explicit includes for grsecurity and tor config roles

Setting them as dependencies of common causes them to be run first,
which isn't ideal. Instead, we'll set the install-fpf-repo as a
dependency of common and grsecurity (since the securedrop-grsec package
is installed from the FPF apt repo). Ansible role only run the common
role once by default, since we're not setting `allow_duplicates: yes` in
the meta/main.yml file for common."
conorsch,2015-11-13 19:34:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f8d83f3657029305840506641571f81c45e283d,7f8d83f3657029305840506641571f81c45e283d,"Moves kernel module blacklisting into common role

Conceptually it makes sense to lump the blacklisting of kernel modules
with the other kernel-related tasks, specifically grsecurity, but in
testing environments we sometimes skip the grsecurity role, and we don't
want to skip the blacklisting in those cases. Therefore we'll include
the blacklisting as part of ""common"", where it will run all the time
every time."
ageis,2015-11-13 18:18:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a762d5057a59f4efeec57c9b9988b3de3e3d718b,a762d5057a59f4efeec57c9b9988b3de3e3d718b,Change securedrop-keyring to note to be added
garrettr,2015-11-13 17:40:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0663026d642fd3f648662d3253d0bdbbd5e76f71,0663026d642fd3f648662d3253d0bdbbd5e76f71,"Merge pull request #1198 from ageis/tails-install

Fix duplicate lines in install.sh related to removing ~/.xsessionrc"
ageis,2015-11-13 11:44:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8552b4621994b8af88c4d1c41e6d460a9a892554,8552b4621994b8af88c4d1c41e6d460a9a892554,Fix title underline being too short
ageis,2015-11-13 11:43:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21e8f5caafabf92a0327cad650f569fb7f693ec7,21e8f5caafabf92a0327cad650f569fb7f693ec7,Add document describing SecureDrop apt repository
ageis,2015-11-13 11:09:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c1e1f6fc150fad6f9730a93a5be1b39a12ef66a2,c1e1f6fc150fad6f9730a93a5be1b39a12ef66a2,Update URLs to use securedrop.org
conorsch,2015-11-13 01:53:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/577bd9310cf8492a3330f382d79fc9731bd29a58,577bd9310cf8492a3330f382d79fc9731bd29a58,"Adds tags for grsecurity dependency in common role

In certain testing environments such as DigitalOcean, we skip the
grsecurity role via --skip-tags. Rather than sprinkling the ""grsec"" tag
throughout the grsecurity role, we can tag the include itself and skip
based on that."
conorsch,2015-11-13 01:02:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ffaa010a6be991a96f823cdb2bd424b956a5e2f1,ffaa010a6be991a96f823cdb2bd424b956a5e2f1,Updates Travis CI config with new vars paths
ageis,2015-11-13 00:44:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5732d06c3b65ca8d5572a9160492934be6d94aa7,5732d06c3b65ca8d5572a9160492934be6d94aa7,Remove duplicate lines related to xsessionrc
garrettr,2015-11-13 00:36:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e734fde9819cffc3ed41ce1ee60cea5f9f5e808,3e734fde9819cffc3ed41ce1ee60cea5f9f5e808,"Merge pull request #1182 from ageis/tails-install

Persistent automatic SecureDrop Tails setup (redo)"
conorsch,2015-11-12 22:49:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ba608ffc1ad9784ae65e287386c6a4df212381f,5ba608ffc1ad9784ae65e287386c6a4df212381f,"Adds support for ANSIBLE_ARGS to all hosts

Rather than fussing with `ansible.tags` and `ansible.skip_tags`
declarations in the Vagrantfile, we can support a catch-all for
additional arguments to the `ansible-playbook` command that handles the
provisioning. Use like so:

  ANSIBLE_ARGS=""--skip-tags=validate"" vagrant provision /prod/

Also works for tags, or verbosity, or anything else passed to
ansible-playbook."
ageis,2015-11-12 22:50:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a9ec0ec3f8193b5a5b68294ae85f332ad40e9ac,3a9ec0ec3f8193b5a5b68294ae85f332ad40e9ac,Move external hyperlink target defs after section
conorsch,2015-11-12 22:39:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd542ec1f600f3f832a73a5ca923ec58ea422ea1,dd542ec1f600f3f832a73a5ca923ec58ea422ea1,"Fixes typo in iptables comment (incomming -> incoming)

Also updates relevant spectests, since they perform string matching to
validate the iptables rules on testing machines."
conorsch,2015-11-12 22:34:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3fb0a0a375ed2f40ebe7e13f17f06ad90cb6a65e,3fb0a0a375ed2f40ebe7e13f17f06ad90cb6a65e,"Adds inventory checking for App and Monitor servers

The `manage-groups` role dynamically assigns the ""app"" and ""mon""
production hosts to the relevant hostgroups early on in the playbook. If
by chance the Admin has changed the default hostnames for ""app"" and
""mon"" to something that doesn't start with those strings, the playbook
will exit and display an informative message.

The ""app"" and ""mon"" naming convention is not new; the playbooks have
used it for a long time now. This change simply improves error-checking
to ensure a smooth provisioning process."
ageis,2015-11-12 21:52:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eca132c9bb2aac52329ee15e16d8e368e77e3dde,eca132c9bb2aac52329ee15e16d8e368e77e3dde,Fix up wrapping and indents and links
conorsch,2015-11-12 20:47:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/852ee709c47e1229485224bda11e13fe24b3667f,852ee709c47e1229485224bda11e13fe24b3667f,"Uses group_names special variable for membership checks

Rather than use `inventory_hostname` explicitly when checking
for group membership, simply use for the desired group in `group_names`."
garrettr,2015-11-12 20:42:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15a22bd514885e6f3fff8b906108d67658c92c16,15a22bd514885e6f3fff8b906108d67658c92c16,Merge branch 'mdamien-develop' into develop
garrettr,2015-11-12 20:40:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/af0a4c5bf1743a89ff8408df416caa0d404bc5c1,af0a4c5bf1743a89ff8408df416caa0d404bc5c1,Merge branch 'develop' into mdamien-develop
conorsch,2015-11-12 19:58:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a575f47e4339cc830113d6831a67a739f22a164e,a575f47e4339cc830113d6831a67a739f22a164e,"Adds missing vars_include for prod playbook

We still need to use `vars_files` declarations to reference
the `prod-specific.yml` file, since it doesn't reside in group_vars."
conorsch,2015-11-08 21:00:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/848ffd3a888e5644df86934299ca3ecb8fd12912,848ffd3a888e5644df86934299ca3ecb8fd12912,"Updates spectest for development VM docroot

The development machine uses /vagrant for the docroot root,
whereas app-staging and app-prod use /var/www/securedrop.
The development-specific spectest now checks the proper location."
conorsch,2015-11-08 19:58:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/256196b29be38aa0146968e6f4f86ce1d385fec5,256196b29be38aa0146968e6f4f86ce1d385fec5,"Updates iptables spectests for mon-staging

Cosmetic fix, updates the string matching in the ""comment"" field.
The world ""incomming"" is still misspelled, will need to change
that in the playbooks as well as the spectests."
conorsch,2015-11-08 19:33:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4dd868c5d3eb45abd25e7c16b6620b0aabbd9dc8,4dd868c5d3eb45abd25e7c16b6620b0aabbd9dc8,"Adds profile_tasks callback_plugin for benchmarking playbooks

The benchmarking functionality will ship with Ansible 2.0, but
adding the callback_plugin for 1.x gets us the same functionality.
After every playbook run, the 10 longest-running tasks will be
listed, with running time. Excellent for targeting optimizations."
conorsch,2015-11-08 02:03:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b8dbd7b7d6df3a185ec6d92615ce7489169a2f14,b8dbd7b7d6df3a185ec6d92615ce7489169a2f14,Renames ossec roles
conorsch,2015-11-08 01:51:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d6887ce7f6185802aafe099332ace70058c7cfa4,d6887ce7f6185802aafe099332ace70058c7cfa4,Renames role remove_authd_exemptions -> remove-authd-exemptions
conorsch,2015-11-08 01:39:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9833592cc9438db6e1e258f4a0aff7288cc5f10,d9833592cc9438db6e1e258f4a0aff7288cc5f10,Renames role install_local_pkgs -> install-local-packages
conorsch,2015-11-08 01:22:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f1f7107dbc173786db7d48e9273524e305dc320,2f1f7107dbc173786db7d48e9273524e305dc320,Renames role install_fpf_repo -> install-fpf-repo
conorsch,2015-11-08 01:21:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa8e4f73d934f0ad710cc76e580239ab49376e8c,aa8e4f73d934f0ad710cc76e580239ab49376e8c,Renames role allow_direct_access -> allow-direct-access
conorsch,2015-11-07 22:30:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/814b4de1cd39b410bb3473815cda1cf32e40ccfc,814b4de1cd39b410bb3473815cda1cf32e40ccfc,"More readable task names for most roles

Uses pretty formatting for task names in many roles. Large diff here,
but the changes are nearly entirely cosmetic. In a few instances,
shell module invocations were converted to command invocations."
conorsch,2015-11-07 22:05:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38b4d2cdc1f4f41b43b4a70c6f5fbb23d7b7096e,38b4d2cdc1f4f41b43b4a70c6f5fbb23d7b7096e,"Install latest version of securedrop-app-code

Previously the task was only checking for ""present"" state for the
securedrop-app-code package, when what we really want is to ensure the
""latest"" package is installed. Elsewhere in the playbook the ""latest""
state is ensured via an `apt-get safe-upgrade`, but let's be explicit
instead."
conorsch,2015-11-07 22:02:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/35627604cefe19019444fccd775cb9357491c292,35627604cefe19019444fccd775cb9357491c292,"More readable task names for ""common"" role"
conorsch,2015-11-12 20:02:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0f90e222f15565a2c5582e9d381b4f9b22ebb76d,0f90e222f15565a2c5582e9d381b4f9b22ebb76d,"Merge pull request #1179 from conorsch/upgrade-docs-for-0.3.5-and-0.3.6

Adds upgrade documentation for 0.3.5 and 0.3.6"
ageis,2015-11-09 01:04:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d0af31b566b2f474e938ef14a9703c73852e10a2,d0af31b566b2f474e938ef14a9703c73852e10a2,"Update grep command and inventory file

Per comments on the PR, update so that edits to the comment are not required"
ageis,2015-11-09 00:43:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/12d118a804498a0e961dbbc8c56c8074248189d9,12d118a804498a0e961dbbc8c56c8074248189d9,"Update docs per comments, wrap 80 chars per line"
ageis,2015-11-07 22:58:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/901938c902a6f7a80c4c804364b767a34b1db0f2,901938c902a6f7a80c4c804364b767a34b1db0f2,Update documentation per automatic Tails setup
ageis,2015-11-07 22:26:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8bccaedd2555c4f3aba60d48ecf6e57e9dae8336,8bccaedd2555c4f3aba60d48ecf6e57e9dae8336,"Automate Tails setup for SecureDrop

* Detects whether user is an admin or journalist
* Configures HidServAuth values and eliminates need to manually edit torrc_additions
* Adds desktop and main menu launchers for both interfaces
* Sets up SSH host aliases for mon and app server
* Updates inventory file to run playbooks over Tor
* Use 'live-additional-software' to always install Ansible"
ageis,2015-11-07 22:09:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6191c36ba2fbc27efc465bf64e4ddd4cec11ac4a,6191c36ba2fbc27efc465bf64e4ddd4cec11ac4a,Simplify to make way for automated setup
ageis,2015-11-07 22:09:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5c913b8f3d9ad9a88954f29079c8ee678059b718,5c913b8f3d9ad9a88954f29079c8ee678059b718,Include launchers for Source & Document interfaces
ageis,2015-11-07 22:06:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6eaadc69e5e15d16a07d32f800fd84e1093d2d13,6eaadc69e5e15d16a07d32f800fd84e1093d2d13,Remove extra .onion from inventory so sed works
conorsch,2015-11-12 19:22:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37f87feea21250d05966ee054425cb3c42f5ceba,37f87feea21250d05966ee054425cb3c42f5ceba,"Updates note box about keyring package per @ageis's edits

The previous note mentioned the name `securedrop-keyring`, which isn't
decided on yet. Retained the note about creating a separate Debian
package for managing the keyring, but removed mention of a specific name
for that package. Still inviting folks to open an issue on GitHub if
they have strong feelings about key management procedures.

Also updates line wrapping and whitespace throughout new upgrade docs."
garrettr,2015-11-12 19:09:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/011930cb3533bf2577b77bfdae21c141a27e16f8,011930cb3533bf2577b77bfdae21c141a27e16f8,Add Gitter badge to README
conorsch,2015-11-12 16:10:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cbd8320e6e6af6a15fbce5233f327a7121aca7c2,cbd8320e6e6af6a15fbce5233f327a7121aca7c2,"Fixes nits from @garrettr's review

Fixes typo about automatic updates in 0.3.5 upgrade docs.
Adds tip about using GPG WoT for signing key verification.
Removes mention of AppArmor from description of Ansible playbook run.

The AppArmor profiles were updated automatically via the
cron-apt, not in the Ansible playbook runs post-upgrade.

Wraps text at 79 chars for new docs"
garrettr,2015-11-09 04:43:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/31774ac52f8d6b802401c02422e5c6a9d4039953,31774ac52f8d6b802401c02422e5c6a9d4039953,"Merge pull request #1185 from patrickod/patrickod/remove-cache-headers

Set Cache-Control header time of 30 minutes."
garrettr,2015-11-09 03:50:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b9f6696c0c27a42791aeaa43afc99e76b5c4a06,5b9f6696c0c27a42791aeaa43afc99e76b5c4a06,Fix assets tag for base template on Source Interface
patrickod,2015-11-08 22:43:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2617b7effc86d074d0bf489e515aa7a22a33b8da,2617b7effc86d074d0bf489e515aa7a22a33b8da,Update img width tags w/ proper dimensions
patrickod,2015-11-08 20:24:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c0fa4b35cd72e8cd81e05b3cf1a3b0b19cf25e72,c0fa4b35cd72e8cd81e05b3cf1a3b0b19cf25e72,Add the generated asset directories to .gitignore
patrickod,2015-11-08 02:27:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e4cf8c8d6735ab36fdb55a33d9a7cadc359cd1bf,e4cf8c8d6735ab36fdb55a33d9a7cadc359cd1bf,"Set logo sizes to prevent browser redraw on load

Currently the logo image served is twice the size of the element in
which it will render. This causes the browser to show it at full
resolution until the styleshet loads, at which point it redraws.

This change introduces width and height attributes to the logo img tags,
such that the image will always dispay at the same size"
patrickod,2015-11-07 20:43:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e74b39075fa4d407bf929ab8bc5ab24abad79f70,e74b39075fa4d407bf929ab8bc5ab24abad79f70,"Bundle and minimize CSS, JS assets

Uses flask-assets to group the CSS & JS assets, run them through cssmin,
and link to them in the index.html and base.html templates for both
journalists and sources

Adds flask-assets, jsmin, and cssmin as securedrop depedencies

Flask-assets lazily compiles the assets when they're requested, and
writes them into a .webassets-cache directory in the static directory.
As such we extend the apparmor profile to allow rw permissions to the
cache directory, as well as the compiled JS and CSS assets for both the
source and document interfaces."
garrettr,2015-11-08 23:36:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/93194a4cc8e519c7c79fcb62a550713b2aa269a6,93194a4cc8e519c7c79fcb62a550713b2aa269a6,"Merge pull request #1186 from semente/develop

Fix text showing on top of button in start page of Source Interface"
mdamien,2015-11-08 21:05:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4b972d78435b7bec3fddc7bd50a0359058f154b4,4b972d78435b7bec3fddc7bd50a0359058f154b4,add badge to the readme
mdamien,2015-11-08 20:52:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5a3c5af5323da18750b77e54020d632c5e13369a,5a3c5af5323da18750b77e54020d632c5e13369a,add coveralls to travis
conorsch,2015-11-07 22:00:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f744554c8e88f99e4e2ab416af4f8f5f89b582cb,f744554c8e88f99e4e2ab416af4f8f5f89b582cb,Adds more readable task names for cron-apt configuration
conorsch,2015-11-07 21:49:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e7de6eb145d1a23817550ffea3b9bd2bd0aec9fa,e7de6eb145d1a23817550ffea3b9bd2bd0aec9fa,"Consolidate SecureDrop bashrc additions

Previously the bashrc additions that force use of a terminal multiplexer
for interactive SSH sessions were added to each admin account in
~/.bashrc. Since we want ensure the additions are sourced for all
accounts, it's cleaner to declare them in /etc/profile.d.

For backwards compatibility, added a cleanup task to remove the source
line from each admin's account. We can remove that cleanup task at a
later date, tenatively post-0.4.

Also includes corresponding spectest updates to test for the additions
in the new location, and to validate that the cleanup task worked."
semente,2015-11-08 04:05:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d49ce1689b7322ba2208bd2cd1fb3a6e0c2bcef,1d49ce1689b7322ba2208bd2cd1fb3a6e0c2bcef,"Fix text showing on top of button in start page

CSS class .pull-bottom can be safely removed once it is not used
anymore."
patrickod,2015-11-08 02:28:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8e9612f9e2e72e55bc52ce14459e8978a3a5fb8b,8e9612f9e2e72e55bc52ce14459e8978a3a5fb8b,"Set Cache-Control header time of 30 minutes.

Previously we used
 * cache-control
 * pragma
 * expires

headers to ensure that assets being served were not cached at all by the
client, the theory being that we don't want to leave any forensic
evidence on the source machine indicating that they've used securedrop.

TorBrowser patches Firefox such that it does not persist cached assets
to disk, and keeps them solely in RAM.

Neither TorBrowser, nor our use of cache-control headers can prevent the
OS from swapping to disk, in which case all cached assets are persisted
to disk leaking information.

The size of the assets being served in securedrop is in the order of
tens of kilobytes now that we're minimizing them. It is highly unlikely
that these assets will be the straw to break the camels back memory
wise causing a swap to disk.

Without the caching headers the experience of loading securedrop is
disjointed, as the stylesheets load well after the page has begun
rendering. The experience of loading securedrop is *greatly* improved by
allowing short-term caching of these assets."
mdamien,2015-11-08 01:48:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a03a85112d8c3cf32945e2600da3b4b276342528,a03a85112d8c3cf32945e2600da3b4b276342528,add .coveragerc
mdamien,2015-11-08 01:24:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/487fc7eb6dfa71964027ae3b56c9525dd3fc5969,487fc7eb6dfa71964027ae3b56c9525dd3fc5969,Add first basic coverage for py.test
conorsch,2015-11-07 20:51:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/502d9b58fbfeebcf8ef70e03b68f3f8398be9814,502d9b58fbfeebcf8ef70e03b68f3f8398be9814,"Consolidate tasks for sudoers config

The `copy` module supports the `validate` parameter, which will run a
custom command to assert a valid file prior to writing. If the check
fails, the copy task will abort before the file is written. Therefore
we don't need separate tasks to check the sudoers config file and write
it. Preserving the conservative approach via `backup: yes`."
conorsch,2015-11-07 20:10:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ee6ff1b9b7961d7a9265c81d0eac40d4a253389,5ee6ff1b9b7961d7a9265c81d0eac40d4a253389,"Install local packages via apt module

The apt module flattens package lists so apt is only called once,
rather than iteratively, when used with `with_items`. That works well
for installing packages from repos, but when installing from local deb
files, then flattening causes an error.

As a workaround, let's trick the apt module into not flattening by
using `with_indexed` and referencing the deb files via the `.1`
attribute."
conorsch,2015-11-07 00:23:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8da54c985fdb8d31e21c9d85cc4b9c5908ad520b,8da54c985fdb8d31e21c9d85cc4b9c5908ad520b,"Breaks out 0.3.5 and 0.3.6 upgrade docs to navbar

The newest upgrade docs (currently 0.3.5 and 0.3.6) should be available
in the sidebar navigation for ReadTheDocs, so Admins can easily find
the information to perform the upgrade."
conorsch,2015-11-06 23:00:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1fcf7257234b6f40bbe5d8fa79cab5e3c7fda901,1fcf7257234b6f40bbe5d8fa79cab5e3c7fda901,Adds upgrade docs for 0.3.5 -> 0.3.6
conorsch,2015-11-07 00:16:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/13d9ab8a3fa65ba698fd7d8d2f80b8142f2bc162,13d9ab8a3fa65ba698fd7d8d2f80b8142f2bc162,"Adds new upgrade doc for 0.3.5

Admin intervention is required to avoid a merge conflict
in `prod-specific.yml`. These docs explain the upgrade
procedure step by step."
nvesely,2015-11-06 00:59:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d7d25c602166dd1cc7b1937b5bce28889701d45f,d7d25c602166dd1cc7b1937b5bce28889701d45f,"Various changes to verification processes

This commit changes parts of various files relating to the verification process
of keys and software use in and by SecureDrop. It is a follow up to pull request
1157 and issue #520. Changes include:

* Removal of redundant verification of key fingerprint (since GPG now does it
  implicitly).
* Admin is now explicitly instructed to download and verify Ubuntu Server over
  Tor, for greater privacy and security (see comments on 1157 for details).
* SKS hidden keyserver is now used instead of non-HKPS SKS pool for greater
  privacy and security (see comments on 1157 for details).
* Improved exposition on key fingerprints in admin-oriented documentation, w/o
  being over-technical or introducing concepts not elsewhere mentioned.
* Lastly, since a modification to the documentation on creating an Ubuntu
  installation medium was already in place, I went ahead and gave a recommended
  usage of the dd command.

Signed-off-by: Noah Vesely <fowlslegs@riseup.net>"
garrettr,2015-11-04 21:14:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/73b76e77bb1204b23e8123f4b3fc9ae6456f127a,73b76e77bb1204b23e8123f4b3fc9ae6456f127a,"Merge pull request #1174 from garrettr/documentation-migration-placeholders

Add placeholders to redirect people from old docs"
garrettr,2015-11-04 20:25:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0104e8c03fa551c54e7f0a22e9b3c424f38df9ff,0104e8c03fa551c54e7f0a22e9b3c424f38df9ff,"Add placeholders to redirect people from old docs

Before we migrated to ReadTheDocs in #1158, we regularly shared links to
the documentation as links to the Markdown files on GitHub (because
GitHub would render the Markdown for us automatically). In order to
assist people who may still be using those old links, I've added
placeholders for some of our more popular documentation (based on a
quick skim of my Sent email and the broken links cited in #1166) that
explain the migration and redirect users to the correct pages in the new
docs."
conorsch,2015-11-04 19:40:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fee95ee94ccec84877d08e14fb5c4666ca723e0d,fee95ee94ccec84877d08e14fb5c4666ca723e0d,Removes unused mon_fpf_packages var
conorsch,2015-10-28 19:58:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa9e8a45fa05837d80a02cb238590b2e3e2ce8cf,aa9e8a45fa05837d80a02cb238590b2e3e2ce8cf,"Adds task names to all playbooks

Improves readability of the Ansible run, and provides
context for the individual configuration steps."
conorsch,2015-10-06 20:55:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7132ee2759f343af4d4f3f81c868291dd5f1ce86,7132ee2759f343af4d4f3f81c868291dd5f1ce86,"Removes unused site.yml playbook

The site.yml playbook referenced all other playbooks
(development, staging, and production) and shouldn't ever
be run. Each playbook is targeted with specific tests
in CI pipeline, so OK to remove the site.yml file."
conorsch,2015-09-30 00:12:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4b1f86d132e1b13cd5b22fab3b779424c11e948f,4b1f86d132e1b13cd5b22fab3b779424c11e948f,Moves travis-specific vars into group_vars
conorsch,2015-09-15 15:47:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8b1b53a27750c2affd6e65b3c297605d1c1fa34,a8b1b53a27750c2affd6e65b3c297605d1c1fa34,"Updates prod testing bash script with new group_vars path

The staging-specific.yml file has moved to group_vars/staging.yml,
but the prod-specific.yml still lives in the same place."
conorsch,2015-09-15 15:38:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8869fd8bc1eedeaf03572ed7ffaad63cdf244e1f,8869fd8bc1eedeaf03572ed7ffaad63cdf244e1f,"Fixes iptables spectest for mon-prod

Small wording change in comment, does not affect
functionality of the rule. Maybe the spectests should be
relaxed to ignore comments, but for now, while
refactoring the Ansible config, it makes sense to have
strict tests."
conorsch,2015-08-18 21:34:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58435ca83bdeff2dec74785e76b52fe18bca8e3e,58435ca83bdeff2dec74785e76b52fe18bca8e3e,"Refactor production playbook

Major changes:

  * more verbose hostgroup names
  * uses consolidated roles
  * updates `manage-groups` role

Inclusion of the `prod-specific.yml` prod vars file is still
hardcoded on every play, since moving the prod vars into
group_vars would require Admin intervention. The prod playbook
now uses the shared roles for app and mon servers, e.g. ""common""
rather than ""common-app"" and ""common-mon"", where appropriate.

Calling the groups ""app"" and ""mon"" creates a namespace
collision for the prod host aliases, which are also
""app"" and ""mon"". Instead, let's call the groups:

  securedrop_application_server
  securedrop_monitor_server

Then we can add the hosts to those groups, regardless
of whether the host is ""app"", ""app-staging"", or ""app-prod"".
Also entirely eliminates confusion throughout the Ansible config.

Typically Ansible hostgroups are managed in inventory,
whether static or dynamic. Currently, SecureDrop admins
are given a template static inventory file which they
edit with instance-specific information such as IP addresses.
Changing that static inventory file would create a merge conflict,
so instead we'll use a custom role that only applies to prod
hosts to manage the group membership. This way, group_vars
can be used for the App and Mon servers, without breakage.

For similar reasons, the `prod-specific.yml` vars file
is left adjacent to the playbooks, rather than moved to
`group_vars/prod` or similar."
conorsch,2015-08-18 21:30:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bbef8e5ffa7edc2d6301f619431b7e2feacbb97b,bbef8e5ffa7edc2d6301f619431b7e2feacbb97b,"Allows extra_vars via ansible in Vagrantfile for prod hosts

Prepend a command with 'ANSIBLE_ARGS=""--extra-vars=foo""' to pass
in additional variables. Particularly useful for prod hosts,
since the `validate` role will run automatically unless explicitly
skipped."
conorsch,2015-08-18 20:31:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa63e3b7a7e9d9051913214b1920b510d63011f3,aa63e3b7a7e9d9051913214b1920b510d63011f3,"Adds dynamic group support for prod hosts

Adding group membership information to the production
inventory file would be tricky, causing the Admin to have
stash/pop, possibly more than once, which is terrible UX.
For now, we'll simply check for ""app"" and ""mon"" hosts,
as those names are strongly recommended in the docs,
and add those hosts to the appropriate hostgroup."
conorsch,2015-08-18 17:42:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d958adba10db0abcae1fb4b1b33d324b92e9ae9,1d958adba10db0abcae1fb4b1b33d324b92e9ae9,"Fixes ""changed"" status for disabling swap space

Simply put, register the current state via a read-only
command, then compare that to the results of the swapoff
command. A minor improvement in idempotence, but does
improve the honesty of the ""changed"" output when running
the playbooks."
conorsch,2015-08-18 17:20:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8621cfbaee1bc4e65a57ab978d0831accd2e4cf2,8621cfbaee1bc4e65a57ab978d0831accd2e4cf2,"Consolidates checking for grsecurity status

The grsecurity role has several conditional tasks
that check whether the currently running kernel has had
grsecurity patches applied. Therefore grsec_lock file
should be checked once, and its registered variable
used by subsequent tasks within the role, rather than
shelling out and registering multiple vars."
conorsch,2015-08-18 16:32:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc818962b56c7df85a2a946db1e01edd740f63aa,fc818962b56c7df85a2a946db1e01edd740f63aa,"Fixes ""changed"" status for cleaning apt packages"
conorsch,2015-08-17 22:40:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/22361e65c49e1f880bc9368c27cad599c0fa4098,22361e65c49e1f880bc9368c27cad599c0fa4098,"Makes /etc/hosts config idempotent

Previously a malformed lineinfile declaration caused
the corresponding host entry to be appended on every
provisioning run, which meant the task was always marked as changed,
and the hosts file became quite cluttered after a long time."
conorsch,2015-08-13 19:27:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/10fd1cdcf1207cf8962ca25de1feb0c8453a6ff8,10fd1cdcf1207cf8962ca25de1feb0c8453a6ff8,"Adds role dependencies to common role

The following roles are now conditionally enabled
via common/meta/main.yml:

  - grsecurity
  - install_fpf_repo
  - install_local_pkgs

Previously you needed to skip the ""grsec"" tag in order
to prevent the grsecurity tasks from being run. Now that the grsecurity
tasks are encapsulated in their own role, toggling the role
is controllable via `--extra-args grsecurity=false`.

Including the install_local_pkgs role can be toggled via the
`install_local_packages` var, which defaults to true in the
`securedrop` group_vars. The role is still included in the staging
playbook, but disabled by default."
conorsch,2015-08-12 21:57:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cadfa75d962694a6bd794bf0382f3de93bc06b5d,cadfa75d962694a6bd794bf0382f3de93bc06b5d,"Uses group membership for skipping dev tasks in app role

A note on the formatting of the `when` conditional here.
There's a substantial difference between these two conditionals:

   when: inventory_hostname in groups.foo
   when: ""'foo' in group_names""

The former is more readable, but requires the referenced group
to be declared in the inventory file (or elsewhere), whereas the
the latter works even if the group doesn't exist."
conorsch,2015-08-12 21:55:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d266df783f1d304a0833903dc2700de226cdd030,d266df783f1d304a0833903dc2700de226cdd030,"Fixes ""changed"" status when importing GPG keys

Previously the task was always reporting changed, but now
it registers the output and checks for `gpg` reporting
that the key was already present. If the key was already present,
then changed is false."
conorsch,2015-08-12 21:47:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/802dc545850b561d2069364699b8107a8669f654,802dc545850b561d2069364699b8107a8669f654,"Makes haveged config changes idempotent in app-test role

Previously the `lineinfile` task adjusting the DAEMON_ARGS
var in /etc/defaults/haveged appended the line every time,
causing the playbooks to always report ""changed"" status for
this task, and therefore always fire the handler for restarting
the haveged service. The duplicate lines don't seem to impair
the service, but it's poor practice."
conorsch,2015-08-12 21:36:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1287c1bbdc67c6b89a17d98a575fbf3f20320064,1287c1bbdc67c6b89a17d98a575fbf3f20320064,"Makes xvfb service setup idempotent in app-test role

Previously the update-rc.d command was reporting ""changed""
always. Now the task registers the output of the command
and checks stdout for text indicating that the symlink
was already present."
conorsch,2015-08-12 18:29:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d31da85f06ebc09fcd2c2cf4091eac4eebd8c8f0,d31da85f06ebc09fcd2c2cf4091eac4eebd8c8f0,"Uses group_vars for development and build hosts

Adds 'development' group to group_vars and Vagrantfile.
The 'development' and 'build' VMs share vars anyway,
so it makes sense to collapse them for easier reuse.

In the app-test role, rather than skipping the ""non-development""
tag by default on the development host, only include the skipped
tasks if the current host is in the ""staging"" group."
conorsch,2015-08-12 17:25:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f7c36e0a74785f45306fcebd27c60dacc3fc7dc3,f7c36e0a74785f45306fcebd27c60dacc3fc7dc3,"Consolidates plays for staging hosts

Makes host limits more concise, and removes redundant
roles targeting the App and Mon servers separately, since
we have more consolidated roles now.

Uses the new ""staging"" hostgroup to target both
app-staging and mon-staging with the restrict/allow
direct access roles."
conorsch,2015-08-12 17:01:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d8b9e7a5a051a1cc5a2786bbbda37be6b19ee3f,6d8b9e7a5a051a1cc5a2786bbbda37be6b19ee3f,"Moves staging-specific vars file into group_vars

Reduces a lot of repetition in the staging playbook.
The app-staging and mon-staging hosts are now properly members
of a ""staging"" group, which enables more dynamic handling of vars
throughout the Ansible config."
conorsch,2015-08-11 23:35:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5be4c7c2db54fd0c616ff36d6cbea56b2456761,b5be4c7c2db54fd0c616ff36d6cbea56b2456761,"Changes host_vars -> group_vars for servers

Using group_vars vastly simplifies the environment tiers
(i.e. development, staging, and prod). It will, however,
require changes to the prod-only ""inventory"" file, which
should be handled with care. It's also possible to handle
the group membership for the prod hosts in a task as part
of the prod-specific playbook, which may be useful as a failsafe."
conorsch,2015-08-11 22:23:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b3cba6d9c7f7eb61151557bacdf773c02b040ef,1b3cba6d9c7f7eb61151557bacdf773c02b040ef,"Generalizes iptables configuration

Most of the iptables rules are shared among hosts, so it
makes sense to use a single template, so rules aren't copy/pasted.
In addition to the shared rules, host-specific rules are added
by checking group membership for each host."
conorsch,2015-09-14 21:09:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f2bd0c7b0f5ebf895199fb392f359f6b6cf6606c,f2bd0c7b0f5ebf895199fb392f359f6b6cf6606c,"Fixes formatting of ATHS files.

The `restrict-direct-access` role has been consolidated,
so it's no longer appropriate to hardcode hostnames
and service names. Instead, use the `tor_instances`
variable, which varies by host."
conorsch,2015-08-11 22:12:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e6a5153e0f8605b143a16363d5f86d33478df668,e6a5153e0f8605b143a16363d5f86d33478df668,"Generalizes restrict-direct-access role

Rather than have slightly different roles for App and Mon
servers, let's leverage host_ and group_vars so we can
consolidate the roles for reuse.

Removes superfluous 2FA variable, which was only used
in one place, and therefore doesn't need to be an
external var."
conorsch,2015-08-11 20:17:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c9b7d9661086499564c7d85875063c0297f21471,c9b7d9661086499564c7d85875063c0297f21471,fixes group management in Vagrantfile
conorsch,2015-08-11 19:29:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96f2cb09e9eb872180efcfb00d1747792f69fb95,96f2cb09e9eb872180efcfb00d1747792f69fb95,"Generalizes ""common"" role for App and Mon servers

Moves `apt_repo_url` var to FPF repo role.
Removes unused `common-app` role from staging playbook.
Makes new tor config role a dependency of `common`.
Folds /etc/hosts setup into common role."
conorsch,2015-08-11 19:00:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a2b72982bde4e11de2b1d9d7987d20e753aa47ce,a2b72982bde4e11de2b1d9d7987d20e753aa47ce,"Moves Tor configuration to a generalized role

Removed some old vars. The ""securedrop_tor_user"" var
was redundant, just reiterated ""tor_user"" value.
The `tor_DataDirectory` var wasn't used at all, so replaced it with
`tor_hidden_services_parent_dir` throughout.

Generalizes Tor config values for App and Mon host_vars
by using a dict, which can be iterated over within the role,
ensuring THS/ATHS settings are unique per host."
conorsch,2015-08-11 18:42:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e3ae56d4f60684d8f4cd7eb4a44d8e8a3f898f9f,e3ae56d4f60684d8f4cd7eb4a44d8e8a3f898f9f,"Breaks out grsecurity config into separate role

Moves grsec-specific vars into role defaults,
breaks apt package cleanup into separate tasklist."
conorsch,2015-08-11 18:35:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f2d06498a02f7b84196e09c2ac72535e87d8f89d,f2d06498a02f7b84196e09c2ac72535e87d8f89d,"Establishes group_vars dir for staging hosts

Provides a more idiomatic method for managing vars
specifically for the -staging hosts."
conorsch,2015-08-11 18:14:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/13178bc51903582f09f1c23341e47466bc9ed27f,13178bc51903582f09f1c23341e47466bc9ed27f,"Makes FPF apt repository installation depend on common role

Uses roles/common/meta/main.yml to set the dependency."
conorsch,2015-09-24 19:18:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c08194221bf976b8abf35013bbedb00aef526ad,6c08194221bf976b8abf35013bbedb00aef526ad,"Adjusts directory permissions check for development host.

Includes verbose comment with TODO. The problem is
the Ansible config not specifying permissions correctly,
and further complicated by the /vagrant directory
being mounted with different permissions. Likely fixing
the Ansible task that sets permissions on the logo will
resolve the permissions disparity, but will need to test
to make sure. For now, the test is passing and will fail
when the Ansible task changes, which is intended."
conorsch,2015-09-24 17:59:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4e49bde8fb59a3527ffaff4004cd26e5f463cb7f,4e49bde8fb59a3527ffaff4004cd26e5f463cb7f,"Falls back to Vagrant 1.7.2.

The snapci instances ship with bundler 1.10.6,
which is too new for vagrant:

    Bundler could not find compatible versions for gem ""bundler"":
      In Gemfile:
        vagrant (= 1.7.3) ruby depends on
          bundler (<= 1.10.5, >= 1.5.2) ruby

      Current Bundler version:
        bundler (1.10.6)
    This Gemfile requires a different version of Bundler.
    Perhaps you need to update Bundler by running `gem install bundler`?
    Could not find gem 'bundler (<= 1.10.5, >= 1.5.2) ruby',
    which is required by gem 'vagrant (= 1.7.3) ruby', in any of the sources.

A longterm fix will control the gem version available
within snapci, but for now let's hold on to 1.7.2."
conorsch,2015-09-22 16:02:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ae2cc0f407374815725c927254db5446566f73c,0ae2cc0f407374815725c927254db5446566f73c,"Bumps vagrant version version used in snapci pipeline.

Iterating 1.7.2 -> 1.7.3, conservatively. If no problems,
can try again on 1.7.4."
conorsch,2015-09-22 15:29:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/52116a663f9e0d5fcdc87abf14b8881241029c23,52116a663f9e0d5fcdc87abf14b8881241029c23,"Silences vagrant deb package download in test script.

Downloading and installing vagrant has been reliable,
so we don't need to the verbosity at this point. The
snap-ci web interface prints a new line for every
refresh on the download rate (likely because it doesn't
understand carriage returns), which means the first
several pages of output for the development host
are simply downloading vagrant. In the event of a failed
build, that's a lot of scrolling to get to the relevant
information.

Since we're using the `-q` flag on wget , errors with the
vagrant deb package download will still be visible."
conorsch,2015-09-19 23:16:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f632af5f19dd79a287f845a07c9af667403a2e9,9f632af5f19dd79a287f845a07c9af667403a2e9,"Stages changes for Postfix mail queue lifetime.

The changes described #1102 haven't made it into
a release yet, so don't test for the relevant line.
I was already editing these spectests, though, so
it was convenient to add the line and leave it
commented out until we actually want to test for it."
conorsch,2015-09-19 23:13:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2af94aa4f182a998eb26dbb5a616294f81612bb5,2af94aa4f182a998eb26dbb5a616294f81612bb5,"Updates tests for Postfix security settings.

As of #1100, the Ansible config defaults to
trusting system CAs for verifying the SMTP relay,
rather than requiring a fingerprint for the TLS cert.
The spectests now check for the new settings.

The Ansible config still supports the fingerprint
verification setup, though, so the old checks are
left in the tests file commented out, to make
conditional tests easier down the road. I'd rather
have the tests fail once on a nonstandard config,
then be easily tweakable, then add lots of conditional
logic to the test suite that would itself require testing."
conorsch,2015-09-19 22:54:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07d53a8acc9a5ccaf7637703809a9a55d5b87eeb,07d53a8acc9a5ccaf7637703809a9a55d5b87eeb,"Updates tests for cron-apt reboot timing.

Matches changes to the Ansible config described
in #1071 and resolved by #1088."
garrettr,2015-11-02 18:13:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20e097691c0372fe91d067458cc0a0be986c2bd3,20e097691c0372fe91d067458cc0a0be986c2bd3,"Merge pull request #1167 from garrettr/update-readme

Update readme"
garrettr,2015-11-02 18:11:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d35172400bcc42a8ac6374cc1c6b47eb30bad81,9d35172400bcc42a8ac6374cc1c6b47eb30bad81,"Merge pull request #1160 from ageis/doc-nits

Documentation nits and bumping Ansible version number"
ageis,2015-11-02 06:23:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15be2f3451b2efc2ac1fb9bf8bd363865941b60b,15be2f3451b2efc2ac1fb9bf8bd363865941b60b,Use proper ref and doc roles in links for Sphinx
ageis,2015-10-29 07:24:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a022204dc54f8ac09f90e6a4f3ed3bf14a11fa8f,a022204dc54f8ac09f90e6a4f3ed3bf14a11fa8f,Convert Markdown links to ReST
ageis,2015-10-28 08:55:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23ea844acc212e48a940f98ede7cc005006db8d3,23ea844acc212e48a940f98ede7cc005006db8d3,Nits and bumping Ansible version number
garrettr,2015-11-02 14:20:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0454d4adcad31c26afdcb3412632f1392636c383,0454d4adcad31c26afdcb3412632f1392636c383,Center logo in README
garrettr,2015-11-02 14:15:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6472fa9c2140fbd6d943f0ffea967a456e06875,c6472fa9c2140fbd6d943f0ffea967a456e06875,Make the logo take up less space in the README
garrettr,2015-11-02 14:10:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc2d64aca9cd41a337bb4f1dd357665ed05740c5,fc2d64aca9cd41a337bb4f1dd357665ed05740c5,Move Technical Summary from README to Overview
garrettr,2015-11-02 14:07:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/16d60d245bfcabffab5c64da0c5eefcd6022b575,16d60d245bfcabffab5c64da0c5eefcd6022b575,Update README to reflect Read the Docs migration
garrettr,2015-11-02 02:10:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6ce114fe184a1499a594fe1a92ee415d847cf6d,c6ce114fe184a1499a594fe1a92ee415d847cf6d,"Merge pull request #994 from ageis/torrc-sandbox

Enable seccomp sandboxing for Tor"
ageis,2015-10-29 08:48:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/057223689a744a97559d4168c0ee404cf600a49e,057223689a744a97559d4168c0ee404cf600a49e,Ignore modifications to 01autoremove-kernels
ageis,2015-10-29 08:37:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68b115442b3e67ee1b4aa48db73b776267d11cb1,68b115442b3e67ee1b4aa48db73b776267d11cb1,Add Sandbox directive to spec test
ageis,2015-10-29 08:34:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2595dd0b1d62e584beb1952435f77971bc2e07ce,2595dd0b1d62e584beb1952435f77971bc2e07ce,Merge branch 'develop' of https://github.com/freedomofpress/securedrop into torrc-sandbox
garrettr,2015-10-29 02:35:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fce2334d5f3aa21ad3d8de78a9e6d8ab45c45b64,fce2334d5f3aa21ad3d8de78a9e6d8ab45c45b64,"Merge tag '0.3.6' into develop

SecureDrop 0.3.6

Whenever we release a version, we update the name of the signed tag to
verify and checkout in the install documentation. 0.3.6 still has the
old Markdown documentation, in order to incorporate this change into
develop, I manually added the same change to the ReST file where these
instructions ended up after the RTD reorg (set_up_admin_tails.rst)."
garrettr,2015-10-29 02:03:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c24e4f36483fa2f6de4681c968699af6929f1c9d,c24e4f36483fa2f6de4681c968699af6929f1c9d,SecureDrop 0.3.6
garrettr,2015-10-29 00:14:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/32e780e20750ccf2d8469a929fa2e017aa2c1d27,32e780e20750ccf2d8469a929fa2e017aa2c1d27,"Update expired signing key

When we created the ""Freedom of the Press Foundation Master Signing
Key"", we set a 1 year expiration on the primary key, as is a common best
practice for GPG keys. We accidentally allowed it to expire on Oct 26
2015. We've updated the expiration date and published the updated public
key to the keyservers, but since the Ansible roles currently use the
copy of the public key in the Git repo (instead of fetching it from the
keyservers) during installation, we need to do a minor release to update
the copy of the public key in the repo."
garrettr,2015-10-28 08:10:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/788724bb5fc53050a2a969185f242319bf4874d9,788724bb5fc53050a2a969185f242319bf4874d9,"Merge pull request #9 from conorsch/dynamic-vars

Fetches OSSEC URL and checksum info via Ansible"
ageis,2015-10-28 05:49:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9af26179b35c2a392c086699fed9e2bc338a3bf3,9af26179b35c2a392c086699fed9e2bc338a3bf3,"Fixed typo in the title

Admininstrator = Administrator"
garrettr,2015-10-28 01:10:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2d133b56463b12c817b3d9a2fa43cd98d4f991d6,2d133b56463b12c817b3d9a2fa43cd98d4f991d6,"Merge pull request #1159 from garrettr/standardize-spelling-for-mat

Standardize on full spelling for MAT"
garrettr,2015-10-28 01:05:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d354e08670e89d086a297c1cc51e05922277ef7,0d354e08670e89d086a297c1cc51e05922277ef7,"Standardize on full spelling for MAT

We use the American spelling ""anonymization"" throughout most of the
docs, but the MAT website (https://mat.boum.org) refers to it
consistently as the ""Metadata Anonymisation Toolkit"" (UK spelling), so
we should standardize on the UK spelling when using the word in the
context of MAT."
garrettr,2015-10-28 00:26:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5f18e5d4b5e9100a9daaa51f38269a7fd7bd47b,e5f18e5d4b5e9100a9daaa51f38269a7fd7bd47b,"Notes about integration with Read the Docs

Besides adding some useful notes about the integration with RTD, this
commit is meant to test the webhook."
garrettr,2015-10-28 00:10:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4dbae75ba6be2f62e08895b0d5a93fede0da8f9d,4dbae75ba6be2f62e08895b0d5a93fede0da8f9d,"Merge pull request #1158 from garrettr/read-the-docs

Read the docs"
garrettr,2015-10-27 23:29:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d444767b09da367d2494901496893ba6cb695a9d,d444767b09da367d2494901496893ba6cb695a9d,Fix author and copyright
garrettr,2015-10-27 23:25:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4db4f7c8f59c5ea6c1c6c1cb83d43e897d914d15,4db4f7c8f59c5ea6c1c6c1cb83d43e897d914d15,Remove unused placeholder for troubleshooting docs
garrettr,2015-10-27 23:11:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ffa77cd29ecf323968b6f4f9f7f9cde9751d414,0ffa77cd29ecf323968b6f4f9f7f9cde9751d414,"Migrate remaining documentation

The rest of the documentation doesn't fit neatly into the multiple-TOC
layout I initially devised for taking advantage of the various features
of RTD. For now, I am sticking it in a new catch-all TOC named ""Topic
Guides"". We should endeavor to incorporate this documentation more
naturally/usefully into the rest over time.

Each ""topic guide"" got a manual spot check, and I manually fixed some
common issues that I've been seeing with the Markdown -> ReST
auto-conversion."
garrettr,2015-10-27 22:37:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/34f5c8c0f7c5cdf78da45ace370607463dbab0f2,34f5c8c0f7c5cdf78da45ace370607463dbab0f2,"Make todos visible in final documentation

In the process of migrating all of the documentation to ReST and RTD, I
added a lot of todos (using ReST's handy todo admonition) throughout as
I identified issues that should be fixed in the future, but are too much
work to do during this migration push. Since the docs are still rough
and there are a lot of todos, I'm making them visible in the final
output of the doc builder. This will draw developer and user attention
to the outstanding todos, which I hope will encourage developers to work
on them and help users understand some of the shortcomings they might
find as they use our documentation.

Once the docs are more stable and we've resolved all or most of these
todos, we should disable this feature so the final result looks more
polished."
garrettr,2015-10-27 22:36:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e366cd32cf09d5f227d732aba705605a58288c0d,e366cd32cf09d5f227d732aba705605a58288c0d,Add some more todos for the user guides
garrettr,2015-10-27 22:36:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/18bc9aa622eeb95f3bef392f963ce4067f32c031,18bc9aa622eeb95f3bef392f963ce4067f32c031,Add docs for onboarding journalists
garrettr,2015-10-27 22:31:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2a6c607a6a23f6f0eba628e7d8bd19cc36b34672,2a6c607a6a23f6f0eba628e7d8bd19cc36b34672,"Migrate/revise install documentation

This commit has a ton of changes, so you probably just want to review
the end product instead of the diff. The way that I did this was to
start going through the installation documentation from beginning (the
overview stuff) to end (onboarding journalists), splitting,
reorganizing, and revising the installation documentation as I went.

I think the finished product is a good basis for future work on the
installation documentation; I do not think it is worth it to go back and
try to split this into smaller, more focused commits.

One of the key structural changes in this documentation is that I took
Tom Lowenthal's advice of splitting the install docs into two sequential
sections: ""base install with just an admin user"" and ""onboarding
journalists after the base install is done"". I think it is a great
improvement, and helps keep the documentation focused while also
aligning nicely with the way installs are usually done."
garrettr,2015-10-21 23:40:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01a832c7520ede9f5f9a2ec5208c52ce3d8e9999,01a832c7520ede9f5f9a2ec5208c52ce3d8e9999,Todos for more photos/screenshots
garrettr,2015-10-21 23:39:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5c9967d34a7fb50f755dcc5df33bf137863e3a4f,5c9967d34a7fb50f755dcc5df33bf137863e3a4f,First draft of contribution guidelines for docs
garrettr,2015-10-21 20:22:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99e10a54526a04f91410d42e61fb0aa7d1809025,99e10a54526a04f91410d42e61fb0aa7d1809025,Add todo item for Tails signing key snippet
conorsch,2015-10-20 23:55:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d6240e1ed5f7a8ed439e2cc3af15c81ca83d073,6d6240e1ed5f7a8ed439e2cc3af15c81ca83d073,"Removes Ruby/rake dependencies

The Rakefile implementation for looking up checksums
was helpful, but bundling a custom library for performing
the lookups automatically when the role is run is even better.

Updates README with new provisioning steps. The info
in the ""Examples"" section should be updated when the vars
are renamed throughout the role."
garrettr,2015-10-21 00:21:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8068c5c381b266f992d8ec9937f84394eb726b5,e8068c5c381b266f992d8ec9937f84394eb726b5,"Reorganize and split up docs for RTD

In order to take advantage of Read the Docs' handy TOC sidebar and the
""previous/next"" buttons on each page, we need to split the documentation
into smaller chunks. This is a first take at doing so, primarily
focused on splitting up the mammoth Install Guide (`install.rst`) into
numerous smaller documents. The specific sections do not flow well right
now, and are occasionally repetitive, so further work needs to be done
here.

This commit also (because I was navigating all over the docs and trying
to reshape them, and am now too lazy to split this into multiple focused
commits):

- Renames the ""Roles"" document to ""Passphrases"", because that's all it
  talks about right now. In the future, we may want to move some of the
  material from the Overview and/or Terminology guides into Passphrases,
  which would make it worthy of the ""Roles"" title.
- Adds a dedicated TOC for upgrade documentation, since it was already
  nested deeply and that trend will only continue as we release more
  versions.
- Converts various sections into admonitions, according to the vagaries
  of my judgement.
- Fixes less-than-ideal things from the Markdown -> ReST conversion,
  spelling issues, and various other nits."
conorsch,2015-10-20 23:46:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/02a0d18e990a8ac433fee47d4478fd0355c86945,02a0d18e990a8ac433fee47d4478fd0355c86945,"Updates variable name for ossec_version throughout

The `version` variable was ambiguous, so replacing
with a namespaced `ossec_version` var instead."
conorsch,2015-10-20 23:28:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac6b8c1581001195ac625483fda242e75215e25c,ac6b8c1581001195ac625483fda242e75215e25c,"Implements manual checksum verification for downloads

The `get_url` module supports SHA256 checksums, but the OSSEC
maintainers provide only MD5 and SHA1 (?!). Since we don't have
a SHA256 sum to check against, we'll download the file, and verify
against both MD5 and SHA1 checksums, failing loudly if there's
a mismatch with either."
conorsch,2015-10-20 00:56:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b225db79b5c9ed90d6ebb23ef3393763aa2f76cb,b225db79b5c9ed90d6ebb23ef3393763aa2f76cb,"Adds module for parsing OSSEC download URLs

Hardcodes the version at ""2.8.2"" to avoid surprises.
Supports adding in newer versions, but haven't tested that
yet."
garrettr,2015-10-20 18:27:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0eea238e4becbc1551c584b24a6cdd24d87770dd,0eea238e4becbc1551c584b24a6cdd24d87770dd,"Fix ""Duplicate substitution definition name"" errors"
garrettr,2015-10-14 21:28:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/48c164c84e2878a9a89dae81570a1525d1ba98b8,48c164c84e2878a9a89dae81570a1525d1ba98b8,"Move diagrams to dedicated directory

Adds a README with a list explaining each diagram in the directory. This
list should be updated whenever the contents of the directory are
changed."
garrettr,2015-10-14 21:11:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39c4d9e7257d8a787d948bfb59a3f7cb8cab1dcd,39c4d9e7257d8a787d948bfb59a3f7cb8cab1dcd,Delete outdated (but awesome) ASCII diagram
garrettr,2015-10-14 20:40:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa9396183a759367d053d061f257b86330a9b46a,aa9396183a759367d053d061f257b86330a9b46a,"Migrate/revise developer docs

On second thought, instead of migrating the developer docs to a Github
wiki, we should keep them in the main documentation as long as they do
not hamper the use of the docs for end users. I added a new TOC for the
developer docs at the bottom of the index so the developer docs are
readily available for developers but are not in the way of end users.

This commit deletes some developer docs that Conor and I determined are
obsolete:

- docs/creating_deb.rst
- docs/snap_ci.rst

I've been noticing a weird bug in the TOC for the locally rendered docs
using the RTD Sphinx theme. For example, if you click ""Upgrading
SecureDrop"" under the ""Install SecureDrop"" TOC in the sidebar, the
entire ""Developer Documentation"" TOC disappears from the sidebar when
you're on the ""Upgrading SecureDrop"" page. I am interested to see if
this bug persists when I push the docs to Github and rebuild them from RTD."
garrettr,2015-10-14 07:21:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/848b300fba5dc7b43adef060d5834e6fe1f0d958,848b300fba5dc7b43adef060d5834e6fe1f0d958,Use RTD theme for local builds too
garrettr,2015-10-14 06:57:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c9be68ee8fd9c7adb96e2da3fe4de0ec9d698fc,4c9be68ee8fd9c7adb96e2da3fe4de0ec9d698fc,Use default Read the Docs theme (only for RTD)
garrettr,2015-10-14 05:28:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85ec6229190714dd7da6d5e050e27f58c6bc76f8,85ec6229190714dd7da6d5e050e27f58c6bc76f8,"Simplified outline for index TOCs

In the initial migration from markdown to ReST/Sphinx/RTD, the index
page just had a single TOC with every documentation file in one big
list. Now that we have Sphinx/RTD, we can take advantage of all of its
features to organize and interlink the docs in order to make them more
discoverable.

This outline is my first stab at doing this. I explain in an
introduction that this documentation is meant for end users
only (sources, journalists, and administrators), while developer
documentation will be maintained on the Github project wiki. I haven't
moved the ""developer"" docs to the Github wiki yet, but plan to do so in
future commits.

Once I'd established a focus on end user documentation, I decided to
split the index into two main sections:

1. A series of guides for each type of end user (Source, Journalist,
Administrator)

2. A big outline of all the documentation for the installation process

I also added placeholders for future documentation on troubleshooting
and a pre-installation overview."
garrettr,2015-10-14 05:24:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2c73e144d46dfe98e0868d41e2324f4c31e4f920,2c73e144d46dfe98e0868d41e2324f4c31e4f920,Migrate/revise upgrade docs
garrettr,2015-10-13 23:18:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5737919cbf7358ed3fcac1d4484e2bbabde5d5aa,5737919cbf7358ed3fcac1d4484e2bbabde5d5aa,Use Sphinx todo extension
garrettr,2015-10-13 21:29:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f83c12bd9f8286ceba5aceca5470e8f4ffc5affc,f83c12bd9f8286ceba5aceca5470e8f4ffc5affc,Remove circular reference in toctree
garrettr,2015-10-13 21:22:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/624e94ca0736d8b5a3da66920847ac081a38e14f,624e94ca0736d8b5a3da66920847ac081a38e14f,"Fix image links

The links that started with ""/docs"" were hacks to work with the URL
layout on Github. Sphinx does not understand them because it is run from
_inside_ the `/docs` directory, so it was generating warnings like this
one:

    WARNING: image file not readable: docs/images/manual/document6.png"
garrettr,2015-10-13 20:46:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e808c3da896cbfa11f1bb810ea54cb213601067a,e808c3da896cbfa11f1bb810ea54cb213601067a,"Remove embedded TOCs generated with DocToc

Sphinx automatically generates TOCs, and is much more
flexible/configurable to boot."
garrettr,2015-10-13 20:40:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/14f2df0d1e4994e0be67426bd2d18030985759af,14f2df0d1e4994e0be67426bd2d18030985759af,"Convert Markdown to ReStructuredText

Used Pandoc to do the conversion:

```sh
for f in *.md; do
  pandoc -f markdown_github -t rst -o $(basename $f .md).rst $f
done
git rm *.md
```"
garrettr,2015-10-13 20:39:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa4e40f54ffe17f12fc2c337add34638d1dd8be8,fa4e40f54ffe17f12fc2c337add34638d1dd8be8,Add Sphinx build directory to gitignore
garrettr,2015-10-13 19:09:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a6af99ac85d2c026d851c3846f963aba0df7a6bb,a6af99ac85d2c026d851c3846f963aba0df7a6bb,"sphinx-quickstart

Ran sphinx-quickstart as described in the ""Getting Started""
documentation for Read the Docs [0].

[0]: https://docs.readthedocs.org/en/latest/getting_started.html"
garrettr,2015-10-20 18:07:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ead1162f340bd83ebd516c7e22bbe83c349cebd6,ead1162f340bd83ebd516c7e22bbe83c349cebd6,"Merge pull request #1154 from darkk/patch-1

Fix PR #805 link in thread_model.md"
garrettr,2015-10-20 17:53:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/18c894250d229589d3a5cc704654eb8c1f35f0a8,18c894250d229589d3a5cc704654eb8c1f35f0a8,"Merge pull request #1153 from garrettr/flamsmark-doc-sprint

Installs docs sprint"
darkk,2015-10-20 17:51:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb2615ddfc83f8e45345f07946d8f90c5a7d6ccf,eb2615ddfc83f8e45345f07946d8f90c5a7d6ccf,Fix PR #805 link in thread_model.md
garrettr,2015-10-20 17:45:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90e3167f7bd99d62141e8d70fc0a751e480cf9a0,90e3167f7bd99d62141e8d70fc0a751e480cf9a0,"Fix spelling, nits from review"
garrettr,2015-10-20 17:04:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/42965100b0f12280b5feab8fc284129f1e8f41b6,42965100b0f12280b5feab8fc284129f1e8f41b6,"Merge pull request #1148 from mr-grooms/patch-2

Update install.md"
mr-grooms,2015-10-16 18:09:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/902d9316fff7cffc8c2ffce1386e9628840b4979,902d9316fff7cffc8c2ffce1386e9628840b4979,"Update install.md

I found some misspellings."
garrettr,2015-09-19 00:51:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2a3c93cf0fa3be87cd77bc8be2ebfb9ced2fc54f,2a3c93cf0fa3be87cd77bc8be2ebfb9ced2fc54f,"Merge pull request #1117 from garrettr/merge-0.3.5-into-develop

Merge 0.3.5 into develop"
garrettr,2015-09-18 21:30:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d0f83a8785156962b9970f7d4c48ec66975174ac,d0f83a8785156962b9970f7d4c48ec66975174ac,"Merge branch 'release/0.3.5' into merge-0.3.5-into-develop

It was necessary to manually merge docs/hardware.md because we rewrote
it on release/0.3.5 but had added a new section about recommended
printers on develop."
garrettr,2015-09-02 18:02:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f877b8445faf4963e22acc6a59c156b0f3e676ee,f877b8445faf4963e22acc6a59c156b0f3e676ee,SecureDrop 0.3.5
garrettr,2015-09-17 23:58:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2fc725b781f8103c5128f05a1272452162b57adf,2fc725b781f8103c5128f05a1272452162b57adf,"Merge pull request #1116 from conorsch/blacklist-more-wireless-modules

Blacklist ""btusb"" and ""iwlmvm"" kernel modules."
garrettr,2015-09-17 23:33:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b0d3b9a992d6f1e45afffd148e069a234009f5b,3b0d3b9a992d6f1e45afffd148e069a234009f5b,Spellcheck Hardware Guide
conorsch,2015-09-17 21:48:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/110ba4f13123e4d954964cc836b3deaf8e122397,110ba4f13123e4d954964cc836b3deaf8e122397,"Blacklist ""btusb"" and ""iwlmvm"" kernel modules.

The configuration previously blacklisted only
""bluetooth"" and ""iwlwifi"". On newer generation NUCs,
removing those modules fails due to dependencies,
which must be removed first. The dependecies are
""btusb"" and ""iwlmvm"", respectively. See #1109
for details. Closes #1109."
garrettr,2015-09-17 20:29:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0f77b7fddc9997021b2809c8854d09d0e8003c9,a0f77b7fddc9997021b2809c8854d09d0e8003c9,"Merge pull request #1112 from garrettr/just-hardware-doc-changes

Update Hardware Guide"
garrettr,2015-09-17 20:29:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c8f83fbfc3321a3e2b1b4d939ddb6753c76e316,7c8f83fbfc3321a3e2b1b4d939ddb6753c76e316,"Merge pull request #1113 from garrettr/network-firewall-docs

Update Network Firewall docs"
garrettr,2015-09-17 20:27:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d6ae0a89d37876eaaefc6c00910498134c13552,6d6ae0a89d37876eaaefc6c00910498134c13552,Update TOC
garrettr,2015-09-17 20:25:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/41973c2efaaabbfbfb458719ad4b8df22a6b8cef,41973c2efaaabbfbfb458719ad4b8df22a6b8cef,Fix nits per @conorsch's review on #1112
garrettr,2015-09-17 19:20:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/16a2118ed196125688095005f024a25839325d5e,16a2118ed196125688095005f024a25839325d5e,"Replace the iptables rules file with pfSense .xml

This gets rid of the set of iptables-format rules for the network
firewall, which were never much help anyway (unless you were very
experienced with both iptables and pfsense, and understood how to
translate rules between them which is actually non-trivial).

Instead, we recommend that most users simply modify their firewall
settings to match the included screenshots from the WebGUI.

For advanced users, I've included a copy of a full .xml backup file from
a test pfSense instance. They probably won't be able to import it
directly, because I had to redact some potentially sensitive information
by hand and haven't had time to test to see if importing it works. I
think it's better for an admin to configure the network firewall by hand
with the WebGUI so they can understand how to troubleshoot it, so I'm
not too worried that this can't be imported (for now). It is mostly
included to be a canonical, textual representation of the recommended
network firewall rules."
garrettr,2015-09-17 18:12:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da24875b3710dd3f22444e8ebcf16dbfcf88d8e3,da24875b3710dd3f22444e8ebcf16dbfcf88d8e3,Add TOC to Hardware Guide with doctoc
garrettr,2015-09-17 17:57:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2eb88997f1b9564d1c74c2fcb386b85c5f3368d3,2eb88997f1b9564d1c74c2fcb386b85c5f3368d3,Add warning about EOL for recommended Intel NUC
garrettr,2015-09-17 17:53:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b1028f1acef7a16449975e623af0577a886419d,1b1028f1acef7a16449975e623af0577a886419d,"Split ""Required Hardware"" section for readability

The ""Required"" hardware list was imposing and difficult to parse
before. I'm taking a first stab at making it more approachable by
splitting it into two logical sections: one for the core components of
SecureDrop (the servers) and one for the workflow components (the
workstations, Tails USBs, etc.)

I moved the note about virtualization inside the new subsection on
servers because that seemed like a good place for it."
garrettr,2015-09-17 03:24:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/daacabce419743694f5da976563847f91a3af9ad,daacabce419743694f5da976563847f91a3af9ad,Rewrote Hardware Guide
garrettr,2015-09-16 18:50:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9215d00dff0c8473f4f1171d3aed343816ecee36,9215d00dff0c8473f4f1171d3aed343816ecee36,"Fix NTP firewall rules

Both servers should be allowed to connect *to* any server on port 123
for NTP, but NTP is not guaranteed to use 123 to make the connection.
Therefore, the source port restrictions should be left on the default
""any""."
garrettr,2015-09-16 17:08:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/211da654df93ce02b92e56bd1db1cd57fbdc2c44,211da654df93ce02b92e56bd1db1cd57fbdc2c44,"Nest paragraph in list item

The list of source -> NIC mappings is part of the 3rd list item, so it
should be included as a paragraph in the list item. Indenting the list
one level causes it to nest correctly."
garrettr,2015-09-16 17:04:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37b21ed6bb85bba430acf056a3999c10fef6cf4d,37b21ed6bb85bba430acf056a3999c10fef6cf4d,"Add DNS servers to Admin Workstation network configuration

To avoid issues with starting the Unsafe Browser after setting up the
static IP for the Admin Workstation, we should set some dummy DNS
servers. This issue is clearly documented and explained, including the
troubleshooting step of disconnecting and reconnecting the network
connection if you're having trouble launching the Unsafe Browser.

Updates the screenshots for editing the admin workstation network
connection to show the DNS servers, and updates the screenshot of the
list of network connections for consistency (the name of the network
changed from ""Wired Connection"" to ""Netgear""). Removes the old
screenshots."
garrettr,2015-09-16 17:00:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a1e9c04ef314923a1fbf6b80ec7535d4cb6d959,8a1e9c04ef314923a1fbf6b80ec7535d4cb6d959,"Clarify instructions for firewall setup

* Removes reference to CIDR routing prefix defaulting to `/24` when
  setting up an interface for the first time; it defaults to `/32`, and
  pfSense does not attempt to figure this out for you. Leaves the
  reminder to double-check the CIDR prefix since that has caused
  problems in the past.
* Makes sure text quoted from the pfSense WebGUI matches the text in the
  latest version.
* Various wording changes for readability and clarity."
garrettr,2015-09-16 16:39:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58a16eb7f498b87e5dd96a28497fc48810a2daa4,58a16eb7f498b87e5dd96a28497fc48810a2daa4,Fix formatting of nested list
garrettr,2015-09-16 16:30:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/507d67b002255339a3a66cd627e9df20f44da40a,507d67b002255339a3a66cd627e9df20f44da40a,"Avoid potential problems with reaching the WebGUI

While following the network firewall guide, I found I was unable to
connect to the pfSense WebGUI after connecting the Admin Workstation to
the LAN. This was because I had already configured a wireless network
connection on the Admin Workstation, and it had the same private network
address as the LAN defaults. This meant that going to `192.168.1.1`
routed me to the wireless network connection's gateway, instead of the
LAN gateway.

The easiest way to avoid this problem is to make sure you're *only*
connected to the LAN before trying to reach the WebGUI, so this commit
adds a note explaining this."
garrettr,2015-09-16 16:17:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21db38ca846e94d912ba4f49ba12c5388a1632b2,21db38ca846e94d912ba4f49ba12c5388a1632b2,"Explain SecureDrop network layout

* Clarify that the primary concern in choosing subnets is avoiding
  conflicts with the network configuration on the network that the WAN
  is connected to.
* Clarify explanation of potential conflict between default LAN
  configuration when the WAN is a typical home or office router.
* Explain why a switch is necessary for the 3-NIC configuration.
* Fix formatting of the separate but consecutive lists of networking
  values. We want the values for each interface to be in their own
  distinct list. Unfortunately, the only way to have Markdown render
  consecutive lists as separate lists is to separate them with HTML
  comments: http://meta.stackexchange.com/a/152359"
garrettr,2015-09-16 05:14:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a2e75d2ef97602838029a1dbadbebde0ff75f2d,4a2e75d2ef97602838029a1dbadbebde0ff75f2d,"Document keeping pfSense up to date

* Explain how to check for an available update to pfSense.
* Explain how to keep appraised of important security updates by
  following the pfSense blog.
* Explains how to use the auto upgrader to upgrade pfSense when an
  update is available."
garrettr,2015-09-15 02:35:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8be932c1932d22fc75e684573c67329271e1a84f,8be932c1932d22fc75e684573c67329271e1a84f,"Remove references to the ""pfSense Guide""

The link to the ""pfSense Guide"" (a PDF of the book ""pfSense: The
Definitive Guide"") is dead. You can purchase the book on Amazon,
although according to the comments on Amazon it has started to become
out-of-date with the release of pfSense 2.x. As far as I can tell, the
only way you can get an up-to-date copy of the book is to become a
pfSense Gold Member ($99/year).

I reworded the section encouraging the use of the pfSense guide and
provided links to several options, both free and paid, for admins new to
pfSense to learn more.

Since we can no longer rely on the availability of the pfSense Guide
PDF, we can no longer ""avoid duplication"" by referring to sections of
the pfSense Guide in the Network Firewall guide. I removed all
references to the pfSense guide, which was not as much of a loss as I
was initially afraid it would be:

* We had to remove the reference to the section on Assigning
  Interfaces. You only need to assign interfaces if you built your own
  network firewall and installed pfSense from scratch - they come
  pre-assigned on the appliances that we recommend for most
  users. Therefore I think it's ok to simply remove this section.
* Removed a reference to section 4.5.6, which explained the rationale
  for using a self-signed certificate on the WebGUI. While interesting,
  it was not necessary to successfully use this guide.
* Section 6 in the pfSense guide was a helpful walkthrough of setting up
  firewall rules with the WebGUI. I considered this to be the most
  important reference to the pfSense Guide, but I think we can live
  without it for now. From recent installation experience, people seem
  to do okay setting up the firewall rules by imitating the example
  screenshots without reading this part of the guide. We may want to add
  our own documentation to explain this process if it proves to be
  challenging for admins in future installs."
taravancil,2015-09-15 20:30:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e05fd50fcc4c3aaa9f9bd9605c6366e8c7a2c85,0e05fd50fcc4c3aaa9f9bd9605c6366e8c7a2c85,"Make delete confirmation unclickable when hidden

Switches to using the visibility property to toggle visibility, which
avoids the ""hidden click"" problem and is less hacky.

Fixes #1110"
garrettr,2015-09-15 02:32:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c292e0c2986474aa67933ebb45d8b543ebd027d5,c292e0c2986474aa67933ebb45d8b543ebd027d5,"Clarify Network Firewall Guide introduction

* Mentions the possibility of building your own network firewall (but
  encourages most users to use the prebuilt appliance recommended in the
  Hardware Guide).
* Explains that we now have two sets of instructions (one for 3- and one
  for 4-NIC firewalls) because the network appliance we used to
  recommend has been discontinued.
* Explains _why_ a switch is necessary in the 3-NIC configuration."
jrosco,2015-09-12 14:39:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/339314a9dd260215cf81f59ac506f0040080cb89,339314a9dd260215cf81f59ac506f0040080cb89,"Update ubuntu_config.md

fixed deadlink"
harlo,2015-09-14 19:05:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8bc3daf03e47b938c6209e9d1ed294e5a442eb09,8bc3daf03e47b938c6209e9d1ed294e5a442eb09,updated screen caps and TOC
harlo,2015-09-14 15:46:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b8f81381b5bdc912ead00b6fd2f3a61911798de9,b8f81381b5bdc912ead00b6fd2f3a61911798de9,clarification for admin/app gateway and subnets
conorsch,2015-09-14 14:58:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b3e03589a1d8a4844a7e3cd5b9c2002ee7b534b5,b3e03589a1d8a4844a7e3cd5b9c2002ee7b534b5,"Makes rake task fail on ansible error.

Ensures that the build process doesn't mask
failures by reporting success back to calling commands,
e.g. the shell. Note that regardless of exit code
for the failed subtask (`vagrant up` most likely), the
fail() call will always exit 1."
harlo,2015-09-14 14:45:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/65cdc811769683a235752cc6874526ab5e06fa61,65cdc811769683a235752cc6874526ab5e06fa61,"including configuration options for 3- and 4-NIC configurations where applicable, as per https://github.com/freedomofpress/securedrop/issues/1106"
garrettr,2015-09-14 05:43:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a298758525e95993e7201782c5f1f2be2f5780e9,a298758525e95993e7201782c5f1f2be2f5780e9,"Merge pull request #1096 from ehartsuyker/safe-debug

Ensures prod environment doesn't run in debug mode"
heartsucker,2015-08-17 16:04:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0f89860ac59447d896a269ecdcd44fc1d16f9ad4,0f89860ac59447d896a269ecdcd44fc1d16f9ad4,Ensures prod environment doesn't run in debug mode
garrettr,2015-09-13 00:09:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/467598cdb4bcbd3fb80a9f5d334f13475447f53a,467598cdb4bcbd3fb80a9f5d334f13475447f53a,"Merge pull request #1097 from taravancil/edit-creds

Edit creds"
taravancil,2015-09-12 18:55:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb4cd6f097882ac063b4973f89a41395a3472920,cb4cd6f097882ac063b4973f89a41395a3472920,Remove unnecessary note
taravancil,2015-09-12 18:44:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a504c7a3a80e648a9f5426a8d38dcb1b3e9be054,a504c7a3a80e648a9f5426a8d38dcb1b3e9be054,Add edit account link to admin interface
taravancil,2015-09-12 18:37:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d64324cafec9dde1135a89d609be365654b1b194,d64324cafec9dde1135a89d609be365654b1b194,Log password change error
garrettr,2015-09-12 17:42:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b3be4cf38bf811b3c41add8377f334884477476,7b3be4cf38bf811b3c41add8377f334884477476,"Merge pull request #1102 from ageis/postfix-deferral

Extend mail queue lifetime to 14 days"
garrettr,2015-09-12 17:37:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23c7dac7a245300f3fda12987e117d1afe3cfee9,23c7dac7a245300f3fda12987e117d1afe3cfee9,"Merge pull request #1105 from taravancil/confirmation-prompts

Confirmation prompts"
garrettr,2015-09-12 17:01:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dcacf5fdec091e32a4496b0ff5bd9d9d54e645f5,dcacf5fdec091e32a4496b0ff5bd9d9d54e645f5,"Merge pull request #1107 from jrosco/patch-1

Update ubuntu_config.md"
jrosco,2015-09-12 14:39:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ee90b2a0eae30e473274dfa05527ce440e09b8b,6ee90b2a0eae30e473274dfa05527ce440e09b8b,"Update ubuntu_config.md

fixed deadlink"
taravancil,2015-09-08 23:41:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a2789ce3d066e4a78f93e27f73f2fbc712133d6,6a2789ce3d066e4a78f93e27f73f2fbc712133d6,Require confirmation for deleting reply
taravancil,2015-09-08 23:41:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e69ab2f100a1ff944a3da2c960c23f7e5fa0dc6,3e69ab2f100a1ff944a3da2c960c23f7e5fa0dc6,Require confirmation for changing codename
ageis,2015-09-02 20:27:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/317e1bd4afaec3140fb94b2f813e3953ed04adf6,317e1bd4afaec3140fb94b2f813e3953ed04adf6,Extend mail queue lifetime to 14 days
garrettr,2015-09-02 17:26:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae783a7d4db68092a10f9b989c45f566e66867f2,ae783a7d4db68092a10f9b989c45f566e66867f2,"Merge branch 'garrettr-update-version-fixes' into develop

Merges #1101 into develop."
garrettr,2015-09-02 17:24:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b421cc6490724e42c1c55e30dfadf9b1ee4f7a4c,b421cc6490724e42c1c55e30dfadf9b1ee4f7a4c,"Merge pull request #1101 from garrettr/update-version-fixes

Update version fixes"
garrettr,2015-09-02 02:07:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/50fc61a46f4449f27f648f9f696856d3d0991055,50fc61a46f4449f27f648f9f696856d3d0991055,"Specify TAGFILE so final output message works

Also cleans up the appearance of the final output message."
garrettr,2015-09-02 02:04:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/987260c45241350d3c54d964834f27c0a72521fd,987260c45241350d3c54d964834f27c0a72521fd,Use a more flexible regex to match the OSSEC package versions
garrettr,2015-08-31 23:09:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/10a22c0618bb6347d850b985845b8148348477ea,10a22c0618bb6347d850b985845b8148348477ea,"Merge branch 'conorsch-remove-smtp-fingerprint-requirement-rebased-again' into develop

Fixes merge conflicts due to changing the smtp.gmail.com fingerprints in
develop while developing the fix for release/0.3.5 based on top of
master.

This commit merges the changes from #1100 into master."
garrettr,2015-08-31 22:54:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/57d40768924c5b183b056a10627af3accedd3380,57d40768924c5b183b056a10627af3accedd3380,"Merge pull request #1100 from conorsch/remove-smtp-fingerprint-requirement-rebased-again

Remove SMTP fingerprint requirement for OSSEC Postfix config"
conorsch,2015-07-28 21:07:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/207be86270f02a58e27266fa357fb1c0ab4def9f,207be86270f02a58e27266fa357fb1c0ab4def9f,"Forces IPv4 for Postfix connections.

The ip6tables config drops all IPv6 traffic by default,
so instruct Postfix to use only IPv4. As of Postfix 2.9,
IPv6 connections are attempted first, so disabling is necessary.
Note that the related `smtp_address_preference` setting is
not necessary here, as the docs state that setting it

  has no effect unless the inet_protocols setting enables
  both IPv4 and IPv6.

Therefore this commit adds only `inet_protocols = ipv4`.
Further reading:

 - http://www.postfix.org/IPV6_README.html
 - http://www.postfix.org/postconf.5.html#inet_protocols
 - http://www.postfix.org/postconf.5.html#smtp_address_preference"
conorsch,2015-07-23 23:54:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bda11841b6d2c364bbf1b17ce6a2b00893e40ec7,bda11841b6d2c364bbf1b17ce6a2b00893e40ec7,"allows `smtp_relay_fingerprint` to override security level

Reimplements support for the `fingerprint` security level
for Postfix config. Specifying a fingerprint to validate the
SMTP relay causes problems if the fingerprint changes, e.g.
due to load balancing or scheduled rotation.

Therefore the default TLS security level is now `secure`,
which mandates TLS, but trusts system CAs, rather than
requiring a fingeprint. Admins can also provide a custom
cert in case the system CAs won't validate or aren't trusted.

removes smtp_relay_fingerprint from vars files

Since the fingerprint is no longer required, remove it from the
top-level vars files. All required vars in `prod-specific.yml`
require declaration, so leaving this var empty would be
confusing for new admins.

Removing the var from `prod-specific.yml` will require admin
intervention to prevent a merge conflict on upgrade. Specifically,
the admin should:

  1. delete the fingerprint line from `prod-specific.yml`
  2. stash save local changes
  3. pull update
  4. pop saved stash

If the admin wants to retain fingerprint checking, leaving the
fingerprint declared in `prod-specific.yml` will honor that decision.
It may result in a merge conflict on pull, however, which should
be resolved manually.

formatting changes for readability

adds documentation of `fingerprint` security level

The Postfix config defaults to `secure`, which should work
well out of the box for common configs. In case admins want to
restrict verification to a specific fingerprint (the previous
default behavior for the SecureDrop's OSSEC Postfix config),
these docs provide steps for how to do so.

Mostly reverts 153d17c, which removed the commands for querying
the fingerprint.

makes long openssl command more readable

Only changes the openssl command with a pipe, since
the pipe makes splitting over lines easier (no escapes necessary)."
garrettr,2015-07-23 19:44:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e84a73b0d7ce129be749486931d54781d201c1e5,e84a73b0d7ce129be749486931d54781d201c1e5,"Section for troubleshooting SMTP TLS

Describes how to check for valid TLS connections with `openssl
s_client`, accounting for the various verification mechanisms now
supported by Postfix on the Monitor Server."
conorsch,2015-07-23 16:24:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dde9c3cc91c46f8bc8cc6af5792dcfe9a6d252a3,dde9c3cc91c46f8bc8cc6af5792dcfe9a6d252a3,"removes `smtp_relay_fingerprint` throughout documentation

Other changes include:

removes `smtp_relay_fingerprint` from list of required info

removes mention of fingerprint from gmail setup docs

removes fingerprint retrieval command and explanation

removes another mention of relay fingerprint from list of reqs

updates setup docs with mention of custom cert overrides

updates troubleshooting table entry for ""Server certificate not verified""

updates gmail security recommendations

Changes 2-step to mandatory (was recommended). Also
strengthens the recommendation of using a separate Gmail account
for receiving the notifications.

changes contact email {support,securedrop}@freedom.press

There was only one occurrence of ""support@freedom.press"" in the
entire repo, and this was it. Fixed to match the 13 other occurrences
of ""securedrop@freedom.press"" in `docs`.

Also checked for any other @freedom.press emails in `docs`,
and ""securedrop"" is now the only one, which is good."
conorsch,2015-07-30 23:41:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f47aa36bec9cedbc613f6fac7265f5bf5c8b964,6f47aa36bec9cedbc613f6fac7265f5bf5c8b964,"Stops any running apache2 service during securedrop-app-code installation

In previous versions of the AppArmor profile for Apache,
the apache2 process was permitted to send SIGTERM to unconfined peers,
a permission which allowed apache2 to terminate a previously running,
unconfined instance of itself, then take its place with the
AppArmor profile enforced.

Since the signal permission was removed from the AppArmor profile,
the apache2 process now fails to restart during the installation of the
`securedrop-app-code` package, although only on systems without grsecurity.
While production instances should all have grsecurity running,
many test instances do not, particularly cloud nodes used for running
automated test suites."
garrettr,2015-08-31 22:12:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c816db32075df2cda7b7b7e8178a44d0aaf5a1f7,c816db32075df2cda7b7b7e8178a44d0aaf5a1f7,"Merge pull request #1093 from conorsch/fix-apache2-service-start

Stop apache2 service before enforcing AppArmor profile"
garrettr,2015-08-31 21:37:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e24e6922e721420c8dcbc5c4daaafbf28f240854,e24e6922e721420c8dcbc5c4daaafbf28f240854,"Merge pull request #1094 from garrettr/allow-apache-log-rotate

Allow Apache log rotation"
garrettr,2015-07-31 21:26:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/665bae0c4b2086bdc0ff1a9d0e98aa208c8884e1,665bae0c4b2086bdc0ff1a9d0e98aa208c8884e1,"Allow Apache log rotation

The original AppArmor rules were too restrictive, and would not allow
Apache to write to rotated log filenames, which prevented log rotation
and triggered unhelpful OSSEC alerts.

Fixes #1074."
taravancil,2015-08-18 08:52:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d7b434ef364f1c76deba41a0957b8b87bb6d4789,d7b434ef364f1c76deba41a0957b8b87bb6d4789,Add tests for account update
taravancil,2015-08-18 08:47:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fbc96b370b727377ac1e6b38a084d9f7a61bbcb2,fbc96b370b727377ac1e6b38a084d9f7a61bbcb2,"Allow journalists to update their password and 2fa

Resolves #1092"
taravancil,2015-08-18 07:21:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/db126fd9358378911a50ccf527d97ae71c0e0754,db126fd9358378911a50ccf527d97ae71c0e0754,Add templates for account update functionality
conorsch,2015-07-22 20:26:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/19305ef62cf1e2312a130a378d9a9f7c6cf06760,19305ef62cf1e2312a130a378d9a9f7c6cf06760,"makes ""secure"" default policy for smtp_tls_security_level

removes smtp fingerprint vars from postfix main.cf

adds ""defaults"" vars dir for ossec_server role

reads default var for smtp security level from defaults

ensures that ssl certs dir exists, even if custom

copies custom cert file to mon server if declared

adds conditional logic for CApath vs. CAfile

The postfix docs provide two vars for controlling
certificate verification during TLS connections:

 * [smtp_tls_CApath](http://www.postfix.org/postconf.5.html#smtp_tls_CApath)
 * [smtp_tls_CAfile](http://www.postfix.org/postconf.5.html#smtp_tls_CAfile)

By default, `smtp_tls_CApath` should be declared, pointing to
`/etc/ssl/certs`. If an admin provides a specific cert to use,
then declare `smtp_tls_CAfile` instead, pointing at the file.

adds separate playbook for managing custom certs

Provides decent encapsulation of conditional logic,
so playbooks remain readable. Overrides should happen
above role default vars, e.g. in role vars or host vars.

updates CAfile fullpath in postfix main.cf with custom dir"
conorsch,2015-07-31 23:36:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/775af0ebbab519d548a5184607f677fc935d4283,775af0ebbab519d548a5184607f677fc935d4283,"Merge pull request #1070 from conorsch/snapci-serverspec-prod-tests

Adds serverspec tests for prod hosts"
garrettr,2015-07-31 21:26:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4575c337fc5ba44f22bae03255bbb8f1ae6b96b0,4575c337fc5ba44f22bae03255bbb8f1ae6b96b0,"Allow Apache log rotation

The original AppArmor rules were too restrictive, and would not allow
Apache to write to rotated log filenames, which prevented log rotation
and triggered unhelpful OSSEC alerts.

Fixes #1074."
conorsch,2015-07-28 18:58:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0483ce3d93b935c1e8e0269a861fbd288fbe42dd,0483ce3d93b935c1e8e0269a861fbd288fbe42dd,"Chains cron-apt and reboot tasks in nightly cronjob

The previous config tried to implement cron-apt running
at 4AM every night, followed by a reboot at 5AM every night.
Chaining the two tasks isn't quite so simple, however, since
cron-apt automatically sleeps for up to an hour when run
noninteractively. (This sneaky behavior is easy to overlook
during testing, since running `cron-apt` from the command line
skips the sleep logic.)

The new config moves the reboot command to the same line
as cron-apt, chaining it with && to prevent reboots in the
event of a failed upgrade (which could leave the machine
in an unbootable state)."
garrettr,2015-07-31 21:07:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c8a7870c0e6cd86711af3a260400bc1a2154b99,7c8a7870c0e6cd86711af3a260400bc1a2154b99,"Merge pull request #1088 from conorsch/reboot-only-after-cron-apt

Chains cron-apt and reboot tasks in nightly cronjob"
conorsch,2015-07-31 20:54:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27a9c65d2b0a625bc67d2f85a81e6a8891cb8e6e,27a9c65d2b0a625bc67d2f85a81e6a8891cb8e6e,"include ATHS info for Document Interface in example command

The `cat` command was written specifically to grab the ATHS
values for SSH access over Tor, but there's no reason not
to include the Document Interface values, as well, since
those are crucial for testing and would require a separate
command otherwise."
conorsch,2015-07-30 23:41:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b1699d9e4d7fe044d43eacd954b2e0ce06ad64b2,b1699d9e4d7fe044d43eacd954b2e0ce06ad64b2,"Stops any running apache2 service during securedrop-app-code installation

In previous versions of the AppArmor profile for Apache,
the apache2 process was permitted to send SIGTERM to unconfined peers,
a permission which allowed apache2 to terminate a previously running,
unconfined instance of itself, then take its place with the
AppArmor profile enforced.

Since the signal permission was removed from the AppArmor profile,
the apache2 process now fails to restart during the installation of the
`securedrop-app-code` package, although only on systems without grsecurity.
While production instances should all have grsecurity running,
many test instances do not, particularly cloud nodes used for running
automated test suites."
conorsch,2015-07-29 22:33:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/efcb1c92d162da42fed5c914b5977340a25eba49,efcb1c92d162da42fed5c914b5977340a25eba49,"updates explanatory comment for two-pass provisioning

The vagrant-digitalocean plugin automatically creates a 'vagrant'
user and corresponding sudoers rule. The SecureDrop user provisioning
process for admin user accounts will trample the vagrant-digitalocean
changes, effectively removing sudo access to the VM. That's no good.
So, first run the shell provisioner on both hosts, then run the
ansible provisioner."
conorsch,2015-07-29 19:12:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aba4368e7a82be4f2e90b60e417ccf50ffa43781,aba4368e7a82be4f2e90b60e417ccf50ffa43781,"prunes old comments about digitalocean plugin

The comments referred to an old version of the
`vagrant-digitalocean` plugin that supported
snapshots from DigitalOcean. Using snapshots
would speed up provisioning when testing upgrades
(but not when testing clean installs), but
that's a goal for down the road. Therefore we
don't need to clutter up live files with
outdated comments."
conorsch,2015-07-29 19:09:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef4c3965250abeba988a76a84cc65fcd9a177eb7,ef4c3965250abeba988a76a84cc65fcd9a177eb7,"removes superfluous tor restart

Reloading tor is sufficient after updating /etc/tor/torrc."
conorsch,2015-07-28 18:58:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/654e19762568804685f0bd7137b0ba33795da0d9,654e19762568804685f0bd7137b0ba33795da0d9,"Chains cron-apt and reboot tasks in nightly cronjob

The previous config tried to implement cron-apt running
at 4AM every night, followed by a reboot at 5AM every night.
Chaining the two tasks isn't quite so simple, however, since
cron-apt automatically sleeps for up to an hour when run
noninteractively. (This sneaky behavior is easy to overlook
during testing, since running `cron-apt` from the command line
skips the sleep logic.)

The new config moves the reboot command to the same line
as cron-apt, chaining it with && to prevent reboots in the
event of a failed upgrade (which could leave the machine
in an unbootable state)."
conorsch,2015-07-28 18:06:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17daae37bbff84cd580d332cf7714001ddcceb8a,17daae37bbff84cd580d332cf7714001ddcceb8a,"prunes list of prod vars for snapci testing

Previous iteration blindly copied over staging vars.
As long as you skip the `validate` role, that's mostly
OK, except for the staging-only Apache rules. This commit
ensures the staging-only Apache rules are NOT copied over
to the temporary prod vars file used in testing."
conorsch,2015-07-28 17:25:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/650e56c77801ca1d8ae10d2f3725698a395a9a40,650e56c77801ca1d8ae10d2f3725698a395a9a40,"simplifies lookup of ATHS info for SSH over Tor

Earlier implementation used `find` for a recursive
directory search, looking for a specific basename.
Since we can expect to find the ATHS info files
in `install_files/ansible-base`, just concatenate
the path and look for them there."
conorsch,2015-07-28 16:41:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/59492bf17dca6e3e48c28f2b8c970b4d5b37c460,59492bf17dca6e3e48c28f2b8c970b4d5b37c460,"adds dynamic var for apache_allow_from

Staging config allows connections from anywhere,
but prod config should restrict to 127.0.0.1."
conorsch,2015-07-28 00:34:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20acb51276e5bd64f88de7a3ec6ab389c205a9b9,20acb51276e5bd64f88de7a3ec6ab389c205a9b9,"adds dynamic var for source interface apache log

In staging, source interface logs, but in prod source
errors belong in /dev/null."
conorsch,2015-07-28 00:11:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6188bb5f840593d32f80e32d48d2f97ee093ad3a,6188bb5f840593d32f80e32d48d2f97ee093ad3a,adds dynamic var for apache listening address
conorsch,2015-07-27 23:53:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b79f758bd0bd8eed3a7d2611241ab74dd4a4181,9b79f758bd0bd8eed3a7d2611241ab74dd4a4181,updates iptables v4 rules for app-prod
conorsch,2015-07-27 23:25:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/76bf56b448adc7b740362b3087614e22e433f211,76bf56b448adc7b740362b3087614e22e433f211,updates iptables v4 rules for mon-prod
harlo,2015-07-27 14:13:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c8927ff6d6e143e067a811feedec1641bb331c47,c8927ff6d6e143e067a811feedec1641bb331c47,"Fix list of required information for installation

Resolves #1082, closes #1086."
conorsch,2015-07-27 19:00:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4e31b7c95aa852919d492efe0ff7110b25274794,4e31b7c95aa852919d492efe0ff7110b25274794,updates mon-prod iptables default chain ACCEPT -> DROP
conorsch,2015-07-27 19:00:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe6f2a71afe79c8bb57ff576eb8492ab0367b6cd,fe6f2a71afe79c8bb57ff576eb8492ab0367b6cd,updates app-prod iptables default chain ACCEPT -> DROP
conorsch,2015-07-25 00:49:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/335564a1fc239f63e9eb92b76dd6f499bf29437e,335564a1fc239f63e9eb92b76dd6f499bf29437e,"adds ip6tables tests for all hosts

Since all servers share the same ipv6 config,
i.e. the default DROP rules, reuse the same spec test suite
for app-staging, mon-staging, app-prod, and mon-prod."
conorsch,2015-07-24 23:53:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/345dc039a72f2102cbcf9ad8ad53935bfc273787,345dc039a72f2102cbcf9ad8ad53935bfc273787,adds TODO for service checks
conorsch,2015-07-24 22:57:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed9a8c466e337142ebdb387c4c4a0c13043e12d1,ed9a8c466e337142ebdb387c4c4a0c13043e12d1,updates app-staging iptables rules with interface restrictions
conorsch,2015-07-24 22:33:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/35895a682a68be33239af052315e3bd704fa359e,35895a682a68be33239af052315e3bd704fa359e,updates mon-staging iptables rules with interface restrictions
conorsch,2015-07-24 21:55:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ee04f59343b7896304b6c5d76dbb16e1446644d4,ee04f59343b7896304b6c5d76dbb16e1446644d4,"updates smtp fingerprint

Test now checks for value recently added in d6f9386.
There's currently discussion about changing the default
security level of the postfix config (see #1081), but
updated test accurately checks the current config."
conorsch,2015-07-24 21:50:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb403b23b50c5242dcf255e868f5c45098dda53f,fb403b23b50c5242dcf255e868f5c45098dda53f,strip trailing whitespace from vagrant-ssh cmd output
conorsch,2015-07-24 21:44:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec199ce1751b51c0590497202a040c1a96375e79,ec199ce1751b51c0590497202a040c1a96375e79,"updates postfix hostname 'monitor.securedrop' -> 'ossec.server'

Postfix config was changed in 3fca1a5 in response to audit finding,
and now the spec test checks for the correct string."
conorsch,2015-07-24 21:40:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2e7cd2df92592313b76d0666451f89c22812d898,2e7cd2df92592313b76d0666451f89c22812d898,updates mon-staging iptables default chain ACCEPT -> DROP
conorsch,2015-07-24 21:40:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/34821d4656eaecb13adbdf558bf039a12653f66a,34821d4656eaecb13adbdf558bf039a12653f66a,updates app-staging iptables default chain ACCEPT -> DROP
conorsch,2015-07-25 01:29:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/090e23dffa72738dd72adebd94d33c4125649ea9,090e23dffa72738dd72adebd94d33c4125649ea9,merges in 'develop' branch
garrettr,2015-07-24 00:43:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ff6000cb0cb1816de46b690de24369a36a85920,7ff6000cb0cb1816de46b690de24369a36a85920,"Merge pull request #1079 from ageis/better-logo

Higher quality SecureDrop logo for documentation"
ageis,2015-07-22 17:45:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/69f4620ef25b0e7251f885a2b9ca5e9d5359990c,69f4620ef25b0e7251f885a2b9ca5e9d5359990c,Transparent logo with no compression artifacts
garrettr,2015-07-21 19:10:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0600ac2619dc62555afb5bbeae9d09c9b4ea7511,0600ac2619dc62555afb5bbeae9d09c9b4ea7511,"Merge pull request #1075 from garrettr/0.3.4-fixes

Merge fixes from 0.3.4 release into development branch"
garrettr,2015-07-21 17:21:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d6f9386e9a512cadadf7b608cad199be8345fce8,d6f9386e9a512cadadf7b608cad199be8345fce8,"Update smtp.gmail.com fingerprint

The certificate was rotated this morning, as SMTP delivery with the old
fingerprint was working during some testing I was doing yesterday
afternoon."
garrettr,2015-07-20 20:19:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c3ea00fe56e338b929a820a5267739c4c65fa15,6c3ea00fe56e338b929a820a5267739c4c65fa15,"Merge tag '0.3.4' into 0.3.4-fixes

SecureDrop 0.3.4"
conorsch,2015-07-20 17:38:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/305a126d02536a881886376b485a277c71372f77,305a126d02536a881886376b485a277c71372f77,removes dac_override capability from apache apparmor profile
garrettr,2015-07-08 17:20:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8ca6b1cbb751b98221069538dc34ca4c2929343c,8ca6b1cbb751b98221069538dc34ca4c2929343c,Version 0.3.4
conorsch,2015-07-07 17:49:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb05ef504c97b86f2044929aac7266b0840a5b59,cb05ef504c97b86f2044929aac7266b0840a5b59,"adds custom machine name for ""snapci"" vm

Previously it had the incorrect name ""build"",
since its config was copied from the build machine."
conorsch,2015-07-06 18:18:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b91ca2f927a4ad8ff911c9a88b9d9c64d31a4b51,b91ca2f927a4ad8ff911c9a88b9d9c64d31a4b51,moves explanation of SECUREDROP_SSH_OVER_TOR env var
conorsch,2015-07-06 18:11:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/51af75ba5368cdcdeb1b263b03b624e85b7478d8,51af75ba5368cdcdeb1b263b03b624e85b7478d8,"adds example terminal session for SECUREDROP_SSH_OVER_TOR

Develop docs now contain a terminal session showing
practical use of the new env var. Current instructions
are linux-specific, may need to boost docs for OS X."
conorsch,2015-07-06 17:58:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec882d6a24f86948b257d5a0ab8e06e5b93240ad,ec882d6a24f86948b257d5a0ab8e06e5b93240ad,adds mention of SECUREDROP_ env vars to develop docs
conorsch,2015-07-06 16:44:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/48806e2f2de20f3a84a842d30333854e425600ad,48806e2f2de20f3a84a842d30333854e425600ad,"updates box url for centos image

Switches box source to puppetlabs/centos-6.6-64-nocm, via
Vagrant Atlas. The new box is slightly larger, but cursory
testing showed it generally downloads faster than the previous
box from GitHub static assets. Also, the puppetlabs box should
be maintained far longer.

Note that despite the name, the ""puppetlabs"" box does not
include the Puppet provisioner. The ""nocm"" suffix means
""no configuration management [software]""."
conorsch,2015-07-06 16:43:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f743798ce51d9a64d0219a1cb653618c4a271d89,f743798ce51d9a64d0219a1cb653618c4a271d89,adds informative title to snapci playbook
conorsch,2015-07-06 16:41:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27c51d6ebc59a81db3d96904c2bf23755e88af47,27c51d6ebc59a81db3d96904c2bf23755e88af47,reduces verbosity of snapci playbook
conorsch,2015-07-04 20:03:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20e6200aa7d44818fbe7bb635049cf3216c29a1b,20e6200aa7d44818fbe7bb635049cf3216c29a1b,"ensures prod_clean stage starts with direct ssh connections

The env var SECUREDROP_SSH_OVER_TOR is exported later in the
script to instruct Vagrant to connect to the ATHS values when
opening an SSH connection. At the start of the script, since
the /prod/ instances are destroyed, the environment should be
reset to prohibit SSH connections over Tor."
conorsch,2015-07-04 19:32:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d259731fee0b4d849c0e0193cd48775489b9332f,d259731fee0b4d849c0e0193cd48775489b9332f,"adds SECUREDROP prefix to all sd-related env vars

For example, PROD_SKIP_TAGS is now SECUREDROP_PROD_SKIP_TAGS.
This changes simplifies managing environment variables for the
application and its config, as well as prevents unintended
clobbering of unrelated vars."
conorsch,2015-07-04 18:53:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71354795441af7e7845b66549d925f965fa0f371,71354795441af7e7845b66549d925f965fa0f371,"adds tags to snapci ansible role

The ""snapci"" role isn't only useful for CentOS boxes. With the
addition of tags, one can run `--tags tor` on the playbook and
use it to add the ATHS values on an Ubuntu host, as well."
conorsch,2015-07-04 18:45:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bef686c288c902796c30624f16580facc2683957,bef686c288c902796c30624f16580facc2683957,cleans up comments in spec_helper
conorsch,2015-07-04 02:38:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/29bd6eb29b7221887fd83b63baa01adba2ad4e03,29bd6eb29b7221887fd83b63baa01adba2ad4e03,updates comments in Vagrantfile
conorsch,2015-07-03 03:29:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dca2a03b865ac630975aa87803a268c82a072461,dca2a03b865ac630975aa87803a268c82a072461,uses linux_kernel_parameter serverspec resource type
conorsch,2015-07-03 00:01:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a6c907c1c29de923f54423d1ee953447b1f3c8c4,a6c907c1c29de923f54423d1ee953447b1f3c8c4,"Merge pull request #1055 from conorsch/snapci-serverspec

integrates Snap CI for automated testing"
conorsch,2015-07-02 22:33:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0401127148ade4a22f3519158aa1b11589b072c9,0401127148ade4a22f3519158aa1b11589b072c9,"uses new existence matcher for file absence checks

As of serverspec v2.17.0, file objects support existence
matchers. That means we don't need a tricky bash one-liner test
anymore. See:

https://github.com/serverspec/serverspec/pull/519"
conorsch,2015-07-02 22:17:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09bd1364ba1166df6897b30a32db5d148fa762c5,09bd1364ba1166df6897b30a32db5d148fa762c5,adds STAGING_SKIP_TAGS to snapci script
conorsch,2015-07-02 21:55:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a7bc9ab1c0d23e897d8d967402c0f2d00b39eea,8a7bc9ab1c0d23e897d8d967402c0f2d00b39eea,forces ssh over tor in prod spectests
conorsch,2015-07-02 18:34:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/932a4a1f5f5ce09797eef838b21bbc8fe8a63abc,932a4a1f5f5ce09797eef838b21bbc8fe8a63abc,scale back port testing for staging hosts
conorsch,2015-07-01 22:17:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81a8920d0a11389c0aa5a6dac0bfc57a18a24463,81a8920d0a11389c0aa5a6dac0bfc57a18a24463,prune snapci playbook
conorsch,2015-06-30 19:59:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9865bb7e828acb3f460e7bb9ff570241ce590865,9865bb7e828acb3f460e7bb9ff570241ce590865,"further cleanup of snapci bash scripts

Unfortunately snapci doesn't support exporting
environment variables from within bash scripts."
conorsch,2015-06-30 19:40:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/949294945f9f1467c0a049ecbcf115a1f7912491,949294945f9f1467c0a049ecbcf115a1f7912491,"removes dns resolve check

Server addresses should be local and behind firewall,
but checking for dns resolvability in cloud instances
as well as vbox images means there's too much variability
to test this reliably."
conorsch,2015-06-30 18:40:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dbfdc6b23af138f35979159222284dc87ebc7a24,dbfdc6b23af138f35979159222284dc87ebc7a24,consolidate snapci config in pinned.sh
conorsch,2015-06-30 18:26:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f34804173e543603c8f798bc01df2b968a809b98,f34804173e543603c8f798bc01df2b968a809b98,general cleanup of snapci scripts
conorsch,2015-06-30 16:33:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5f7b74aae34dad7818c3d379d992af4491f9b36c,5f7b74aae34dad7818c3d379d992af4491f9b36c,reenable droplet destroy for prod stage
conorsch,2015-06-30 14:40:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/19ed695d1f6d9c88e29a7d602014030d4cb244c7,19ed695d1f6d9c88e29a7d602014030d4cb244c7,temporarily disable check for apache default web dir
conorsch,2015-06-30 05:21:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c8145ac7cde5bea89e113ac914980d8e3a7fa9e,7c8145ac7cde5bea89e113ac914980d8e3a7fa9e,"fixes snapci torrc problem

RTFM. Long story short, it was injudicious use of backrefs=yes
in the lineinfile call that was preventing the aths lines
from being appended."
conorsch,2015-06-30 03:41:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/32502fd9b2e2f286104797f10204c4b956dbe310,32502fd9b2e2f286104797f10204c4b956dbe310,exit prod script for snap-shell debugging
conorsch,2015-06-30 03:39:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d6301d310fe61762b7b55f98e8113fc4e066297a,d6301d310fe61762b7b55f98e8113fc4e066297a,restart tor rather than reload
conorsch,2015-06-30 02:06:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a2f7272ca94d18c403086db92ed1891edc995b7a,a2f7272ca94d18c403086db92ed1891edc995b7a,greatly increase wait time before connecting over tor
conorsch,2015-06-30 00:40:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85458cd7f2654aec9676c8c8020f06ff421caade,85458cd7f2654aec9676c8c8020f06ff421caade,removes snap-shell from prod script (not on PATH)
conorsch,2015-06-29 21:02:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8aeed48625703e863bfce8cd50135741b76d7094,8aeed48625703e863bfce8cd50135741b76d7094,temporarily disable droplet cleanup
conorsch,2015-06-29 18:42:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3928a411dc1dffe3de3453608df83f383f5ebfce,3928a411dc1dffe3de3453608df83f383f5ebfce,adds snap-shell to prod stage for debugging
conorsch,2015-06-29 18:22:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4b522c0e933943cf3cc99e4e4ddd7833f7e53fd6,4b522c0e933943cf3cc99e4e4ddd7833f7e53fd6,temporarily disable set -e in prod stage
conorsch,2015-06-29 17:43:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39d6e78f1630e291d758346aa39bbf9a4c87a8ad,39d6e78f1630e291d758346aa39bbf9a4c87a8ad,wait for prod servers to reboot before running spectests
conorsch,2015-06-29 16:59:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf739ee3c837aaf086ce7c98937867f6c91b289a,bf739ee3c837aaf086ce7c98937867f6c91b289a,try force reloading of tor
conorsch,2015-06-29 16:11:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5caa641fefcbd96d82a42b11a454a4bfc27690aa,5caa641fefcbd96d82a42b11a454a4bfc27690aa,disables stderr filtering in spec_helper for debugging
conorsch,2015-06-29 04:09:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/60422c07dcf3455b65d783cf5dfb22dc1814a805,60422c07dcf3455b65d783cf5dfb22dc1814a805,"simplifies stderr filtering in vagrant_ssh_cmd def

The former approach was too clever by half, and caused
more problems than it solved. The new approach simply
dumps stderr (most of which is just ""Connection closed""
messages, even on success) and the exit code is checked
later for sanity."
conorsch,2015-06-29 00:32:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/323a0965c48174eda31abd36b70ea807bd6db30c,323a0965c48174eda31abd36b70ea807bd6db30c,fixes snapci dynamic inventory
conorsch,2015-06-28 23:10:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/088444ebfd809adc743718e755a755b8fb215c05,088444ebfd809adc743718e755a755b8fb215c05,adds netcat dependency to snapci role
conorsch,2015-06-28 20:55:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/794a1ff69b88df866403f7a74aa50bc8e9bf17dc,794a1ff69b88df866403f7a74aa50bc8e9bf17dc,simpler temporary inventory file for snapci playbook
conorsch,2015-06-28 20:35:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98917de0af41ec1263f9369ba7c02d8e209d60af,98917de0af41ec1263f9369ba7c02d8e209d60af,adjusts inventory for snapci run
conorsch,2015-06-28 19:11:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1f3fa1ad6211a0ac9d9d0dec68107da5db7e66a7,1f3fa1ad6211a0ac9d9d0dec68107da5db7e66a7,cleans up prod snapci stage script
conorsch,2015-06-28 06:25:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2d493540359f864211f16fdaa942c4058a21d4c,e2d493540359f864211f16fdaa942c4058a21d4c,adds ansible snapci playbook to prod_clean stage
conorsch,2015-06-28 06:19:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45952deed3c69f6ae94fcd625c2b71e25340ad18,45952deed3c69f6ae94fcd625c2b71e25340ad18,adds a prod_clean stage in snapci pipeline
conorsch,2015-06-28 06:17:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3696aa114ce841c4b593456f4ca2045d09a00d23,3696aa114ce841c4b593456f4ca2045d09a00d23,"adds SECUREDROP_SSH_OVER_TOR env var

The ATHS lookups for SSH on the prod instances
shouldn't be on by default, because it will fail
on initial provisioning. Setting SECUREDROP_SSH_OVER_TOR
to 1 or other true value will tell vagrant to use the
aths values on disk from the last provision."
conorsch,2015-06-28 05:16:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/64685fc334bf472742865e24b181d3cb60d76362,64685fc334bf472742865e24b181d3cb60d76362,"adds helper def for dynamic ssh proxy command

The development docs recommend connect-proxy,
assuming Debian/Ubuntu, but the Snap-CI boxes
are CentOS, which makes netcat more convenient."
conorsch,2015-06-28 04:42:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f8df72608a05679651980e9ca5c3f760a0993615,f8df72608a05679651980e9ca5c3f760a0993615,adds aths values to torrc
conorsch,2015-06-28 04:29:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a97dbf72bedfbd974bac2325f638111287cc589,6a97dbf72bedfbd974bac2325f638111287cc589,adds vars for local aths lookups
conorsch,2015-06-28 04:23:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09e4fc919a305728e2fefc37062e0af0384bf95d,09e4fc919a305728e2fefc37062e0af0384bf95d,splits up snapci tasks
conorsch,2015-06-28 04:18:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/543ddedb15d65a290ba649ccdd6704245eae7c06,543ddedb15d65a290ba649ccdd6704245eae7c06,adds skeleton snapci role
conorsch,2015-06-28 04:18:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/86bdec3f300e6451d34aabf668c8a7f979394eea,86bdec3f300e6451d34aabf668c8a7f979394eea,adds snapci vm to Vagrantfile
conorsch,2015-06-27 07:02:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/337cbbb3efeaefd30b302df1b6a840a138c9a725,337cbbb3efeaefd30b302df1b6a840a138c9a725,adds checks for listening ports to development
conorsch,2015-06-27 06:46:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/266b9535b27bdd96a0376024da544a49cfabb187,266b9535b27bdd96a0376024da544a49cfabb187,adds host and port checks to staging roles
conorsch,2015-06-27 04:26:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b4d567a3cd7dce97bd36dde4e129dc2b310d5c0,9b4d567a3cd7dce97bd36dde4e129dc2b310d5c0,ensure random order for spectests
conorsch,2015-06-27 04:05:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/baeae4f9fe0844a79d5e73555768252c4582df78,baeae4f9fe0844a79d5e73555768252c4582df78,adds default policy to all iptables tests
garrettr,2015-06-26 23:32:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e24e1f1efe367e80429c61fd49be3a9da7827fef,e24e1f1efe367e80429c61fd49be3a9da7827fef,"Merge pull request #1066 from garrettr/upgrade-0.3.x

Use 0.3.x for all upgrade documentation"
conorsch,2015-06-26 22:22:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0dd1d749a6e392d385265f32800cd28c902898d4,0dd1d749a6e392d385265f32800cd28c902898d4,"renames common-staging -> common

These common tests now apply to the following machines:

  * app-staging
  * mon-staging
  * app-prod
  * mon-prod

So rename the spec dir accordingly."
garrettr,2015-06-26 22:03:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d1f77dcfd457b6c586244c9a77238616f14097d,7d1f77dcfd457b6c586244c9a77238616f14097d,"Use 0.3.x for all upgrade documentation

The documented upgrade paths from 0.2.1 and 0.3pre will work for any
0.3.x release. Therefore, we should explain this and direct an admin who
is upgrading to upgrade to the *latest* 0.3.x minor version.

This process was begun in #1063 and is completed for all relevant
documentation here."
conorsch,2015-06-26 21:52:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7925003c3b0ec2e47bf5ee52f0886bb75902e8c8,7925003c3b0ec2e47bf5ee52f0886bb75902e8c8,"adds error checking when fetching dynamic vars

Previously this method would fail if a host were down,
but return a string anyway. Updated version checks $?
and quits if false.

I don't like the stderr handling in this function."
conorsch,2015-06-26 21:33:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fdfa074f82db500a4b157bd245d495727e329879,fdfa074f82db500a4b157bd245d495727e329879,"adds ""mon-general"" spectests for reuse between mon-staging and mon-prod"
garrettr,2015-06-26 21:33:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca29259dd94499a3951a7a347e4bf7d6a4a41d05,ca29259dd94499a3951a7a347e4bf7d6a4a41d05,"Merge pull request #1064 from garrettr/use-unsafe-browser-for-network-firewall-webgui

Document using the Unsafe Browser for the pfSense WebGUI"
garrettr,2015-06-26 21:31:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/618fa8840fae8c9c58d6459d6095812889dfbfbc,618fa8840fae8c9c58d6459d6095812889dfbfbc,"Merge pull request #1062 from harlo/1036_ttb_downloads

Update docs for TorBrowser download location"
conorsch,2015-06-26 19:37:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/490056c82876a37a3a5b17c6d83662902befedd4,490056c82876a37a3a5b17c6d83662902befedd4,updates mon ossec spectests with dynamic hostnames
harlo,2015-06-26 18:54:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e7b357d33159f52081e9384389cdd240191620e1,e7b357d33159f52081e9384389cdd240191620e1,added extra info about batch downloading
harlo,2015-06-26 18:48:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4bb586c9b600c4dcdde4c98b8586c19f61c2b964,4bb586c9b600c4dcdde4c98b8586c19f61c2b964,with screencaps from @dolanjs
garrettr,2015-06-26 18:45:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cac52e5a76cdbd32beab1b8407d730c60e0add82,cac52e5a76cdbd32beab1b8407d730c60e0add82,"Merge pull request #1063 from dolanjs/update-migrate-docs-0.3.4

Updated 0.2.1 upgrade doc"
conorsch,2015-06-26 18:17:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1cde500a1304250779a2b556e5ce3d37562943a4,1cde500a1304250779a2b556e5ce3d37562943a4,separates apparmor checks for app-staging and app-prod
garrettr,2015-06-26 18:03:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c06da6dd2bcb2977c3dcd646160f9633592eaec4,c06da6dd2bcb2977c3dcd646160f9633592eaec4,Merge branch 'release/0.3.4' into use-unsafe-browser-for-network-firewall-webgui
conorsch,2015-06-26 17:46:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c88db3527841c980223940148af2a16317117a85,c88db3527841c980223940148af2a16317117a85,"fixes typo in Vagrantfile for mon-prod hostname

Unlike all other VMs, the mon-prod box wasn't getting a hostname
assigned, due to a typo in the declaration. The line
that should have been setting the hostname was reusing the ""box""
declaration. Spectests caught this."
garrettr,2015-06-26 17:40:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54309194a2c3045d6360a2b5f7fffcd120475ffc,54309194a2c3045d6360a2b5f7fffcd120475ffc,"Merge pull request #1061 from harlo/1027_server_setup

Server Setup docs. Closes #1027."
harlo,2015-06-26 17:40:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/44adebb4c91d1584b2aec3fd2f3be931761c3132,44adebb4c91d1584b2aec3fd2f3be931761c3132,"Merge pull request #1060 from harlo/1025_network_firewall

Network Firewall docs (issue #1025)"
conorsch,2015-06-26 17:13:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4911cd71795cc21922c982deea505d47f4936600,4911cd71795cc21922c982deea505d47f4936600,fixes up iptables checks for app-prod
conorsch,2015-06-26 03:03:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f80b602d2ab225b84f2c7eaec665b14ef8116a8,2f80b602d2ab225b84f2c7eaec665b14ef8116a8,"adds spectest vars for server hostnames

Hard-coded for now, may make dynamic later."
conorsch,2015-06-26 02:48:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0618fe31c6025d49fb9859dd78492791020204c7,0618fe31c6025d49fb9859dd78492791020204c7,adds iptables checks specific to app-prod
conorsch,2015-06-26 02:37:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d1e097da1e78c502826e7c4f899964de03cca29,1d1e097da1e78c502826e7c4f899964de03cca29,"creates ""app-general"" shared spectest dir"
conorsch,2015-06-26 00:49:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dc06abb8508471c793d6a99d8e1b3ae2c009b6c9,dc06abb8508471c793d6a99d8e1b3ae2c009b6c9,"updates dynamic var retrieval in spec_helper

Converts case statement to sequential if statements.
It's ugly, but it gets the job done."
conorsch,2015-06-25 23:46:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd48a71b418c93d6730fd9fc47d3b8cdf1059d24,dd48a71b418c93d6730fd9fc47d3b8cdf1059d24,"consolidate spectests for ""app-test"" role where possible"
conorsch,2015-06-25 23:21:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/02a4250e4926ffd9dc401e0285a300af46e48e8a,02a4250e4926ffd9dc401e0285a300af46e48e8a,"moves xvfb_spec into new ""app-test"" dir"
conorsch,2015-06-25 21:43:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b8c6d9c008d799b7238449e2e5073b49edc5818,3b8c6d9c008d799b7238449e2e5073b49edc5818,"adds support for .onion URLs in vagrant ssh commands

By leveraging the `find_ssh_aths` helper function,
Vagrant can now connect to fully provisioned
prod instances over Tor."
conorsch,2015-06-25 21:42:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ce99aa6f5d62f3c5ea30dce186a07ebad998d2b,2ce99aa6f5d62f3c5ea30dce186a07ebad998d2b,updates spec_helper to retrieve vars for prod hosts
conorsch,2015-06-25 21:39:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/292fc31ccb7fdad4a5d4033e4f43343f8e226b6a,292fc31ccb7fdad4a5d4033e4f43343f8e226b6a,"adds spec:prod task to Rakefile

Right now this is just a crude port of the staging tests,
to provide a starting point. Many of these tests will fail
against prod, since the tests and vars are reused."
conorsch,2015-06-25 21:35:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/72024a8b7eed9087b62f7e43387faf830bf9fa06,72024a8b7eed9087b62f7e43387faf830bf9fa06,"adds helper method for finding ATHS URLs

After provisioning the /prod/ machines, SSH access
is restricted to the Tor network, via the ATHS values.
During provisioning, the Ansible playbooks fetch these
lines and place them in the files:

  * app-ssh-aths
  * mon-ssh-aths

The new helper method retrives the .onion values from
those files, so the Tor URLs can be used as ssh_host."
harlo,2015-06-25 21:14:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d3807ca42caff1c6241a2d519f18d61632485ad,9d3807ca42caff1c6241a2d519f18d61632485ad,working in Conor's suggestion about clarifying CIDR 24 subnet language
harlo,2015-06-25 21:10:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5e6b75b2784cc98203a1b79a283af16b5ce84f9,b5e6b75b2784cc98203a1b79a283af16b5ce84f9,trailing whitespace removed at 2 points
garrettr,2015-06-25 18:58:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0a4230d676a119b7b51bfd866642824b6c2ebe1e,0a4230d676a119b7b51bfd866642824b6c2ebe1e,"Extra reminder to exit Unsafe Browser when finished configuring firewall

Per @conorsch's review."
garrettr,2015-06-25 18:07:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed67a8ef005279705b11e7e83a45f8fa406590b6,ed67a8ef005279705b11e7e83a45f8fa406590b6,"Document using the Unsafe Browser for the pfSense WebGUI

Resolves #1050."
conorsch,2015-06-25 17:33:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/08f54cd395cc8b208a4a862815c16ee7614857b3,08f54cd395cc8b208a4a862815c16ee7614857b3,"uses hard-coded PID file for tests

Rather than reuse the PID file for the development server,
create a new worker specifically for tests. The new constant
TEST_WORKER_PIDFILE is hard-coded in two files:

  * manage.py
  * tests/common.py

Future refactors of the tests should implement a DRYer solution.

reverts 30ce621af6874395ae8e64f9d7e8d00ed44ca427"
garrettr,2015-06-24 23:59:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc1d30209163dd5e515978b524a3ee8b4a659e07,fc1d30209163dd5e515978b524a3ee8b4a659e07,"Merge pull request #1059 from garrettr/audit-fixes

Fixes for iSec audit issues iSEC-15FTC-2 and iSEC-15FTC-6"
conorsch,2015-06-24 22:18:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/61ab1081c1e73239de892f87c544b23e783c6862,61ab1081c1e73239de892f87c544b23e783c6862,"provides default value for `vagrant_rpm` env var

`vagrant_rpm` is provided as an environment variable in the
snap-ci configuration. Reading solely from the env var
causes failure if the env var isn't declared in a particular stage,
which can happen when creating new stages. This commit provides a
sane default behavior."
conorsch,2015-06-24 22:15:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a94b3c1ca70669c9699b23da86538b476996f9ae,a94b3c1ca70669c9699b23da86538b476996f9ae,fixes typo in vagrant url
garrettr,2015-06-24 21:13:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54eec31814acbc88148a77cf3ab3367d32a97c36,54eec31814acbc88148a77cf3ab3367d32a97c36,Check max password length with editing user
garrettr,2015-06-24 20:23:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8af96ba016a5b67b91d0b0ad415d82fa02aecdad,8af96ba016a5b67b91d0b0ad415d82fa02aecdad,"Fix InvalidPasswordLength per @conorsch's review

* Only store password length instead of the password itself, just to be
  safe, because the password itself might be sensitive (for example if
  it was a typo of a real user's password instead of a brute force
  attempt).
* Fix forgetting to get the attribute from `self`."
garrettr,2015-06-24 16:12:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4529f1ae7a64900487c6851f9d03972cf3ce508a,4529f1ae7a64900487c6851f9d03972cf3ce508a,Clarify comment per @conorsch's review
harlo,2015-06-24 14:49:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/73f4a1660bad11c6eb1dd87f98159a16bb8ed470,73f4a1660bad11c6eb1dd87f98159a16bb8ed470,extra language for default /24 CIDR
conorsch,2015-06-23 21:23:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b930fa69fb1685c8d53bf0097dc16ec9480431ff,b930fa69fb1685c8d53bf0097dc16ec9480431ff,cleans up whitespace and comments in `pinned.sh`
harlo,2015-06-23 20:01:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ffd6281b1941c7b65706ee685fac364ddea59571,ffd6281b1941c7b65706ee685fac364ddea59571,updated wording about the download location (as per https://github.com/freedomofpress/securedrop/issues/1036)
harlo,2015-06-23 19:56:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/18e8043f0be4cc8c80bfd37736e8191c12d841f0,18e8043f0be4cc8c80bfd37736e8191c12d841f0,changing tag version to 0.3.4
harlo,2015-06-23 19:54:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ffc0332a5fd978dca20127c5049668dbc132e87,5ffc0332a5fd978dca20127c5049668dbc132e87,clarifications to server setup section of install doc (as per https://github.com/freedomofpress/securedrop/issues/1027)
harlo,2015-06-23 19:46:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/40eaa262d4eff6a94789c39e42875be9ae175a41,40eaa262d4eff6a94789c39e42875be9ae175a41,CIDR prefix tips for network firewall doc (as per https://github.com/freedomofpress/securedrop/issues/1025)
garrettr,2015-06-12 18:22:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3102925d369c5110e0c50a80684814a5efa30011,3102925d369c5110e0c50a80684814a5efa30011,"Maximum codename length to prevent DoS

This is a corollary to the previous commit. While it was not mentioned
in the iSec report, it follows that if we apply a mitigation to the
journalist login to prevent DoS via submitting excessively long
passwords, we should do the same for the Source Interface - which, if
anything, is *more* vulnerable because it is publicly available as a
normal hidden service, not an authenticated hidden service like the
Document Interface.

The MAX_CODENAME_LEN is arbitrary, but is already far longer than the
longest possible codename given the current wordlist and maximum
codename length (10 words). I have tested to confirm that 128-character
codenames cannot trigger DoS.

I also modified the source logging to not print out the codename when
`valid_codename` returns False. In the context of this issue, this is
useful because an attacker who is sending enormously long codenames as a
DoS attempt would have those codenames printed to the log file, which
would make it extremely dificult to work with the logs. In general, this
is defense in depth - while logging for the Source Interface is disabled
in production, if it were turned on temporarily or accidentally, it
would be good to avoid logging all invalid codenames, as I would expect
that many of them would be *very* close to actual source's codenames
(except for one or two typos).

Adds a unit test to make sure `hash_codename` is not called if the
codename is over the maximum length, which prevents the DoS.

Corollary to resolving iSEC-15FTC-6."
garrettr,2015-06-10 20:17:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eec829a794f7b197810fcb5bfec8c3f7b5ea4776,eec829a794f7b197810fcb5bfec8c3f7b5ea4776,"Maximum password length to prevent DoS

Defines the maximum password length for a Journalist to be 128
characters and enforces this limit during Journalist creation
(`__init__`) and login (`login`). Enforcing this limit during login
avoids potentially computing scrypt for excessively long passwords,
which would be a DoS vector.

Tests:

* Logging in with an excessively long password should raise an
  `InvalidPasswordLength` exception.
* Logging in with a valid password length should call
  `Journalist._scrypt_hash`.
* Logging in with an invalid password length should *not* call
  `Journalist._scrypt_hash` (to make sure the DoS is prevented).

Resolves iSEC-15FTC-6."
garrettr,2015-06-06 20:09:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/458ec0d46e37b13e08788976a0b0e04967dca5d3,458ec0d46e37b13e08788976a0b0e04967dca5d3,"Remove debugging statement for scrypt.hash error

This print statement was adding during the development of the journalist
login feature in an attempt to understand rare intermittent failures of
`scrypt.hash`. Since I had nothing to go on at the time, it prints all
available information from the function scope, which includes the
plaintext password. Although the error was very rare, this is not a good
practice and should not have been kept in production code.

Resolves iSEC-15FTC-2."
ageis,2015-05-28 23:52:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/60eb86cb7eb0e6d98076bb42852cc584891eb695,60eb86cb7eb0e6d98076bb42852cc584891eb695,"Clarify Tor ATHS setup is automatic not manual

Our installation documentation, when referencing the -aths files output by
Ansible, previously suggested that the user would have to add these values
to their torrc. This commit is intended to be clearer that those steps
are automatic and handled by tails_files. Addresses issue #1030."
garrettr,2015-06-23 16:43:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3566c904768bded006170cc1f76dea4e3d2d3aaf,3566c904768bded006170cc1f76dea4e3d2d3aaf,"Merge pull request #1058 from dolanjs/apparmor-dac-override

Removed capabilities from apache apparmor"
dolanjs,2015-06-23 15:50:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5f22c1107440f019be01e3ad5764b47094be958b,5f22c1107440f019be01e3ad5764b47094be958b,"Merge pull request #1057 from dolanjs/postfix-hostname-var

change postfix hostname to var"
conorsch,2015-06-23 00:15:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d0a7a30f15053d38c2f8c6d2051af9efeaf0704c,d0a7a30f15053d38c2f8c6d2051af9efeaf0704c,"converts aa-status checks to rspec-friendly matchers

Using `sed -ne /<START_PATTERN/,/<STOP_PATTERN>/ p` was too clever by
half. The built-in rspec `contains` matcher supports chaining with
.from and .to, which accomplishing the same as the ugly one-liner."
conorsch,2015-06-22 21:16:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4dd192b7e832176f300c23294be343e3f70cda20,4dd192b7e832176f300c23294be343e3f70cda20,adds explicit checks for tor capabilities to app-staging spectests
conorsch,2015-06-22 21:11:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/47601e81b2b82a99d73bae6282ae9cbf5aec5410,47601e81b2b82a99d73bae6282ae9cbf5aec5410,adds explicit checks for apache2 capabilities in app-armor profile
conorsch,2015-06-22 20:32:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f4ff223d3fd91ff0597f6e5d292505216f189344,f4ff223d3fd91ff0597f6e5d292505216f189344,makes app-armor app-staging spectests more dynamic
conorsch,2015-06-22 20:28:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f5de9d0bb454bb4a7cec3a1f0fff0e41861bf8f2,f5de9d0bb454bb4a7cec3a1f0fff0e41861bf8f2,explicit app-armor checks for complaining profiles in app-staging
conorsch,2015-06-22 20:16:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04bdd507e46af496c2f1e2b7e09a6d517be17106,04bdd507e46af496c2f1e2b7e09a6d517be17106,adds explicit checks for enforced app-armor profiles to app-staging
garrettr,2015-06-22 14:06:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0451f7e111ed44bc6b4a4b825cb911710b85e21f,0451f7e111ed44bc6b4a4b825cb911710b85e21f,"Merge pull request #1043 from freedomofpress/tails-compatible-printer

Table of airgap-safe, Tails-compatible printers"
dolanjs,2015-06-19 21:35:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/26a5b7ae2ff5fd82c33a0cb14a52f3b811cb3d07,26a5b7ae2ff5fd82c33a0cb14a52f3b811cb3d07,"Merge pull request #1053 from dolanjs/ipv6_table_drop

Improvements for iptables"
garrettr,2015-06-12 19:31:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d01edd8abb20758233f8790c365424d1b2efebf4,d01edd8abb20758233f8790c365424d1b2efebf4,"Merge pull request #1054 from dolanjs/update-debs-for-OSSEC-2.8.2

Updated OSSEC versions"
garrettr,2015-06-12 19:08:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b9be6e13928595bbcfccde8528b6fb6bc287bdd8,b9be6e13928595bbcfccde8528b6fb6bc287bdd8,"Merge pull request #4 from dolanjs/update-changelog-2.8.2

Updated readme and more version numbers"
conorsch,2015-06-11 20:49:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b49e22fb96f0e23364b13df75a3594d81e92acc,1b49e22fb96f0e23364b13df75a3594d81e92acc,adds `--machine-readable` flag to vagrant status cmd
conorsch,2015-06-11 18:54:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/225b4819a135f1adac99e476b3e664840815bc4b,225b4819a135f1adac99e476b3e664840815bc4b,removes debugging output from dynamic var retrieval
conorsch,2015-06-11 18:51:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c06df403026da5e11a2d9db6d3843953b8bc66ec,c06df403026da5e11a2d9db6d3843953b8bc66ec,removes unused hard-coded vars for development host
garrettr,2015-06-11 18:49:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0e019880fa9a358e2f208954340959504850ed3,f0e019880fa9a358e2f208954340959504850ed3,"Merge pull request #1052 from conorsch/fix-tor-service-directory-permissions-again

Fix tor service directory permissions again"
conorsch,2015-06-11 18:48:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d7615cb8ea9508505ccdcbb9a0ed8061f27a0e7b,d7615cb8ea9508505ccdcbb9a0ed8061f27a0e7b,removes unused hard-coded vars for staging hosts
conorsch,2015-06-10 20:57:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b33d68bab262560c3aba44ff833b7fdbd8b61f09,b33d68bab262560c3aba44ff833b7fdbd8b61f09,ensures tor user group perms on tor service directories
conorsch,2015-06-10 20:54:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be4429acc6e758b874b5ae0ed9183b0566142ca7,be4429acc6e758b874b5ae0ed9183b0566142ca7,ensures mode 0700 on tor service directories
conorsch,2015-06-11 18:27:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cf1f5448a24a87abc0abf6f1dd66b1cfec1fe912,cf1f5448a24a87abc0abf6f1dd66b1cfec1fe912,adds comments for dynamic vars def
conorsch,2015-06-11 18:10:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38f0d0f42b4635c0e9118ae27de95946c55a638a,38f0d0f42b4635c0e9118ae27de95946c55a638a,prettier linebreaks in vars def
garrettr,2015-06-11 17:45:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/585b80261791ea5508d56c644257dbee35eb2f58,585b80261791ea5508d56c644257dbee35eb2f58,"Merge pull request #2 from dolanjs/update-sha256sum-process

Updated OSSEC readme and defaults"
conorsch,2015-06-11 17:26:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7bbc04eaf8812cae80b680ce8e4df69f45293232,7bbc04eaf8812cae80b680ce8e4df69f45293232,use hostname var inside vars def
conorsch,2015-06-11 17:23:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38082f5acb2380890955cf1b9d2bec0e0adbaf04,38082f5acb2380890955cf1b9d2bec0e0adbaf04,"moves case statement into vars def

reduces number of ssh calls during spec:staging
from 12 to 10."
conorsch,2015-06-11 17:18:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54ede3ee9c64312f502fcf61723f4f0cb7e8e95d,54ede3ee9c64312f502fcf61723f4f0cb7e8e95d,adds debugging output for ssh cmds in spectests
conorsch,2015-06-11 00:46:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c7e8d50e04559fee48c60d6894e58d513bc375bc,c7e8d50e04559fee48c60d6894e58d513bc375bc,adds dynamic var for www-data uid
conorsch,2015-06-11 00:34:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d3ac6c7833918bd8847d027beaef36920fd0e46f,d3ac6c7833918bd8847d027beaef36920fd0e46f,adds dynamic var for ssh gid
conorsch,2015-06-10 23:14:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c8f8e8f6bee9955b70ed10fdb13912ffd77b651,0c8f8e8f6bee9955b70ed10fdb13912ffd77b651,"fixes tor service directory permissions

These changes are necessary for a fresh
provision of staging hosts to pass. The commits
below were first presented in #1047, and were
cherry-picked from there.

Squashed commit of the following:

commit e99492fef468973f7f7346bf22c607e66c267691
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Jun 9 15:12:11 2015 -0700

    adds spectests for app tor service directories

commit 4f58fa1404558f360dcb1308fffb6081c468b8de
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Jun 9 15:10:59 2015 -0700

    updates spectests for tor service directories

commit 57af9b89766827637cb31adae59217a8185f7a70
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Jun 9 14:59:42 2015 -0700

    ensure tor user group perms on tor service directories

commit 5d6abcb61b1f734c3c99b159717119c1e899ae38
Author: Conor Schaefer <conor@freedom.press>
Date:   Tue Jun 9 14:58:52 2015 -0700

    ensures mode 0700 on tor service directories"
conorsch,2015-06-10 22:05:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d27d7047bf014afb6f16efae4640bbdd6f706576,d27d7047bf014afb6f16efae4640bbdd6f706576,"runs app tests via `./manage.py test`

The pidfile manipulation in 30ce621 resolved the hanging
apptests in snapci. Previously the dangling rqworker subprocess
caused the cleanup to fail at the end of the test run, so
the tests were just using test.sh.

As of this commit, all functional and unittests are running."
conorsch,2015-06-10 21:37:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30ce621af6874395ae8e64f9d7e8d00ed44ca427,30ce621af6874395ae8e64f9d7e8d00ed44ca427,"import pidfile for rqworker from config in manage.py

tests/common.py already imports the pidfile via config,
so this commit makes the behavior consistent throughout
the tests. Without this commit, two different pidfiles
are referenced by different tests:

  /tmp/securedrop_worker.pid
  /tmp/test_rqworker.pid

As of this commit, only /tmp/securedrop_worker.pid is used."
conorsch,2015-06-10 19:59:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81803a448ef0a685910355b1c9a16644ace3dd7c,81803a448ef0a685910355b1c9a16644ace3dd7c,updates spectests to remove comments from iptables direct access rules
conorsch,2015-06-10 19:51:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a5477040f48014cd32c7c0760324ceb580b73496,a5477040f48014cd32c7c0760324ceb580b73496,"removes comments from app host vars iptables rules

the comments are a good addition, but should be
implemented and reviewed as part of the ansible reorg.

partially reverts 40acdf3a9a12f070652ca211515268f371443c5f"
conorsch,2015-06-10 19:49:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dcb3ad1eaf4c3faf7baf71d897d79156f8bea0ac,dcb3ad1eaf4c3faf7baf71d897d79156f8bea0ac,"removes comments from mon iptables rules

the comments are a good addition, but should be
reviewed and implemented during the ansible reorg.

reverts 0b8559e92f652203f3606ef01a7c0606df6ee995"
garrettr,2015-06-09 19:10:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe496443f43be9a842aef3ccf4f5274a3832b7c3,fe496443f43be9a842aef3ccf4f5274a3832b7c3,"Table of airgap-safe, Tails-compatible printers

This is a partial list of airgap-safe and Tails-compatible printers
compiled from our initial round of testing."
garrettr,2015-06-09 18:17:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71defa9c4222d2f343017a3b5e9594866cdfefc4,71defa9c4222d2f343017a3b5e9594866cdfefc4,"Merge pull request #1042 from freedomofpress/reporting-security-issues

Reporting security issues"
garrettr,2015-06-09 16:50:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5109de22804c6ee5419a95d5bcebc477227dc5e7,5109de22804c6ee5419a95d5bcebc477227dc5e7,Add instructions for responsibly reporting issues
conorsch,2015-06-04 21:07:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/55a217e706c022bb79178bd2c0a7735705581a2c,55a217e706c022bb79178bd2c0a7735705581a2c,"adds 'staging' task to spectests rakefile

The new task entry point allows for terser invocation:

  bundle exec rake staging

rather than:

  bundle exec rake spec:{app,mon}-staging"
conorsch,2015-06-04 00:05:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f061430a604417101697a0681ab267bb3e237140,f061430a604417101697a0681ab267bb3e237140,"modifies vagrant_ssh_cmd to filter conn closed messages

Every `vagrant ssh -c $host` command sends a message to
STDERR when finished: ""Connection to $ip_address closed.""
That output is not useful, and clutters up the spectests
output, so filter for it and remove it.

Current implementation greedily silences all stderr,
but only on these ssh commands for dynamic var reading."
conorsch,2015-06-03 23:24:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b52dd0f302233140534166466687971428deae49,b52dd0f302233140534166466687971428deae49,creates vagrant_ssh_cmd function for reusability
conorsch,2015-06-03 22:58:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81f46b6aa30ae618184ae800c305d4ebf164f456,81f46b6aa30ae618184ae800c305d4ebf164f456,"use set_property for dynamic vars, rather than TEST_VARS

set_property 'var' and #{property['var]} are the recommended
best practice in the serverspec official docs:

  http://serverspec.org/advanced_tips.html"
garrettr,2015-06-03 22:30:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a58c8423f413ec53fe53ba7a6a51eba22ff4133,6a58c8423f413ec53fe53ba7a6a51eba22ff4133,"Merge pull request #1034 from ageis/doc-changes

Tweak language re -aths files"
ageis,2015-05-28 23:52:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/64256db726fcc449b6c524cf0da12dcba5af193f,64256db726fcc449b6c524cf0da12dcba5af193f,"Clarify Tor ATHS setup is automatic not manual

Our installation documentation, when referencing the -aths files output by
Ansible, previously suggested that the user would have to add these values
to their torrc. This commit is intended to be clearer that those steps
are automatic and handled by tails_files. Addresses issue #1030."
garrettr,2015-06-03 22:07:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/22271eecaa8711e30809c9c95f6c71b690fd873e,22271eecaa8711e30809c9c95f6c71b690fd873e,"Merge pull request #1026 from ageis/ansible-version

Recommend installing an older Ansible version until upstream issue is resolved."
ageis,2015-05-14 00:05:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba8d678bc7edff84d81ea9067f3ea49c394f5d33,ba8d678bc7edff84d81ea9067f3ea49c394f5d33,"Temporarily use older Ansible version

Due to an upstream issue that breaks our playbooks, we need to temporarily
recommend using an old version of Ansible in the documentation."
conorsch,2015-06-03 21:54:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a182c8f6dc290cb565583ca20c3dd5261eabcce9,a182c8f6dc290cb565583ca20c3dd5261eabcce9,"do not fall back to local username for ssh user

The Vagrant instances will always use ""vagrant"" for
username, whether VirtualBox or DigitalOcean. In production,
admin should provide the username in prod-specific.yml
and on the command-line. Additionally, in a Tails instance
the username would be ""amnesia"", which should not be the
admin user on the prod servers."
conorsch,2015-06-03 21:37:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2c2f76f989d43c9ef123d58d7f39a886ad9aadbb,2c2f76f989d43c9ef123d58d7f39a886ad9aadbb,removes unused sections of spec_helper
conorsch,2015-06-03 19:15:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27137e60665af5252c27191205e635fc2ef58b28,27137e60665af5252c27191205e635fc2ef58b28,removes unused snapci bash scripts
conorsch,2015-06-03 19:10:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/76f6ac6b0b74f3e67fcfb14c31ca39edf0cfc437,76f6ac6b0b74f3e67fcfb14c31ca39edf0cfc437,"removes testing ""gather_facts"" role

This role was added during testing to ensure that the
Ansible inventory included both staging hosts. The staging
hosts should be provisioned together, so this role isn't
necessary.

reverts ad04ba04c3b9691a46141872f2536255aa25d762
partially reverts 6a289503d71b718faca18266dba0ebf4aed5dde7"
conorsch,2015-06-03 18:18:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c349d134bb53f180b36600a763ff0b8473dcab91,c349d134bb53f180b36600a763ff0b8473dcab91,"retains local_deb_packages var in host_vars/app.yml

partially reverts c29e201af9b5f9ea4a8170aa3ed4566dfdd7c184,
as the change is out of scope for the snapci-serverspec
feature branch."
conorsch,2015-06-03 00:09:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1263f31f1469518740327c038cb932534493ce5c,1263f31f1469518740327c038cb932534493ce5c,"Revert ""ensure ""ssh_users"" account exists in development""

In order to keep the development playbook clean, the user
provisioning specific to DigitalOcean droplets has been
moved into the Vagrantfile.

This reverts commit f179503239aba4c8f7d32dfdddc795ce1093b342."
conorsch,2015-06-02 23:16:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/837d6d3a1d2194852078247898bbe7fd34cc5c72,837d6d3a1d2194852078247898bbe7fd34cc5c72,"temporarily disables spectests for paxtest

Once the paxtest package is included in the grsecurity
role, these tests can be trivially reenabled. See also
d60dd2b0d4360b7a0cda26e7d039ed8609e0629d"
conorsch,2015-06-02 23:00:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d60dd2b0d4360b7a0cda26e7d039ed8609e0629d,d60dd2b0d4360b7a0cda26e7d039ed8609e0629d,"remove paxtest install from app-test role

Since paxtest is used to validate the grsecurity config,
it's best placed in the grsecurity role. Whether it should
be included only in staging or in prod as well will be
discussed in a separate issue before reincluding.

This commit partially reverts 247b9975e89b98a0a18b90b74eece5d28b619172"
conorsch,2015-06-02 22:39:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2667a6b80c867959c66d4c51209330ccff829e2e,2667a6b80c867959c66d4c51209330ccff829e2e,explicitly declares paxtest checks expected Killed
conorsch,2015-06-02 17:24:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/298c173cc2ef388f09e57fc60a14933accdfc072,298c173cc2ef388f09e57fc60a14933accdfc072,updates regex for lenient whitespace in mon-staging /etc/hosts
conorsch,2015-06-02 16:40:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a20b607d2dd1db766516aaa57c7b8320668f2f9,8a20b607d2dd1db766516aaa57c7b8320668f2f9,updates regex for lenient whitespace in app-staging /etc/hosts
conorsch,2015-06-02 00:01:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd3d1221b8b31b71155d7e092203a05de5c40c72,bd3d1221b8b31b71155d7e092203a05de5c40c72,try running app tests via bash script
conorsch,2015-06-01 23:23:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ebf8d6abddc673b59d520216ba393d727c35bdfe,ebf8d6abddc673b59d520216ba393d727c35bdfe,no need to export display in dev
conorsch,2015-06-01 21:19:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99acb4593bb75e9893062209b0f8d9179e0d1e6e,99acb4593bb75e9893062209b0f8d9179e0d1e6e,adds preemptive destroys during snapci init
conorsch,2015-06-01 21:07:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/24333c430ea1bbc706f47b2171efebd52f9dcb7c,24333c430ea1bbc706f47b2171efebd52f9dcb7c,"reenables staging destroy trap

reverts 2ddcf46"
conorsch,2015-06-01 18:31:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ddcf4685e69ae737bcfd837fda9eba1b54c5b3f,2ddcf4685e69ae737bcfd837fda9eba1b54c5b3f,temporarily disable staging destroy trap (for debugging)
conorsch,2015-05-29 22:46:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/79c0414cbf885c328ed98ea1a4bd5735d8cd9ee5,79c0414cbf885c328ed98ea1a4bd5735d8cd9ee5,adds -y to simulated aptitude upgrade
conorsch,2015-05-29 00:00:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/addc7d68a574d473e84f793236038ce40b421f85,addc7d68a574d473e84f793236038ce40b421f85,"Merge pull request #1033 from ageis/fix-gauth-doc

Make clear that 2FA is for both servers"
ageis,2015-05-28 23:37:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/514c86df1eafd0a595d155c4410bb795904d062f,514c86df1eafd0a595d155c4410bb795904d062f,Apply 2fa to both servers
conorsch,2015-05-18 13:18:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d1965b9c90d6b43f96c59efcc76bdd10a37e3d8,0d1965b9c90d6b43f96c59efcc76bdd10a37e3d8,adds localhost dev tests to snapci
conorsch,2015-05-15 05:42:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1ccf739b6c5b1ef0dbeebe8cfe646660aeda0cf3,1ccf739b6c5b1ef0dbeebe8cfe646660aeda0cf3,isolate ansible provisioner in staging ci tests
conorsch,2015-05-15 00:03:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23ebaeaabf8bc15b86110639f9495e2ae33c0849,23ebaeaabf8bc15b86110639f9495e2ae33c0849,adds dynamic var for postfix user account uid in spectests
conorsch,2015-05-14 22:10:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b3ea8206e599ee2e00e49318e55ca6bf3a9cb3b7,b3ea8206e599ee2e00e49318e55ca6bf3a9cb3b7,isolate shell provisioner during staging tests
conorsch,2015-05-14 21:18:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d8ebe69a72206efa79ecb128f49712862bf7bfa0,d8ebe69a72206efa79ecb128f49712862bf7bfa0,"makes uid for ""debian-tor"" user dynamic"
conorsch,2015-05-14 20:30:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ead5fee4a0e133196678ba1832cbec000e2e675a,ead5fee4a0e133196678ba1832cbec000e2e675a,use dynamic ips in ossec spectests (tested in do)
conorsch,2015-05-14 19:52:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ecb56c59d63ea5e1c483f72451433907d6c6466,5ecb56c59d63ea5e1c483f72451433907d6c6466,"removes paxctl pkg check from common-staging

grsecurity tests already cover paxctl, and paxctl
shouldn't be installed if grsecurity is skipped."
conorsch,2015-05-14 18:36:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f7d54aee27a426ac56d8f12588c95e09421b2194,f7d54aee27a426ac56d8f12588c95e09421b2194,load dynamic ips in retrieve_vars for staging hosts
conorsch,2015-05-14 18:29:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dc967830cf813df64e7e58d5363710605bece931,dc967830cf813df64e7e58d5363710605bece931,retrieve ip addresses dynamically (tested in vbox)
conorsch,2015-05-14 18:16:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4476764c878157e79e4ed20356f491bd69b5ad96,4476764c878157e79e4ed20356f491bd69b5ad96,replaces hard-coded app_ip in spectests with hard-coded value in vars
conorsch,2015-05-14 18:15:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d713d5b148c4fddda7f4a00b973d034d62cd5318,d713d5b148c4fddda7f4a00b973d034d62cd5318,make sure mon-staging has access to spectest vars
conorsch,2015-05-14 18:10:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/098b6b84b043319f5f40c6178aefac262f64cb4b,098b6b84b043319f5f40c6178aefac262f64cb4b,replaces hard-coded monitor_ip in tests with hard-coded value in vars
conorsch,2015-05-14 18:01:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc4daabadbffc8045d27a2250c25be7c0d0f5453,fc4daabadbffc8045d27a2250c25be7c0d0f5453,updates app-staging spectests selenium req 2.2{4 -> 5}.0
conorsch,2015-05-14 16:09:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04ee70f6a0dea3a83add89dbe37106c90c17fc9b,04ee70f6a0dea3a83add89dbe37106c90c17fc9b,try closing stdin in apptests
conorsch,2015-05-13 23:41:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c95c2dd528571749bd001c699c93ad21af5c3588,c95c2dd528571749bd001c699c93ad21af5c3588,simplify apptest cmd in snapci tests for development
conorsch,2015-05-13 23:10:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/755fe06c45e23e525bcf75bf19599577934487f5,755fe06c45e23e525bcf75bf19599577934487f5,Merge branch 'snapci-serverspec-grsec-breakout' into snapci-serverspec
conorsch,2015-05-13 22:56:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1eb50672006a96608c346d6b60b2d342989e5e5c,1eb50672006a96608c346d6b60b2d342989e5e5c,"ensure that grsecurity spectests don't run on do hosts

only relevant for app- and mon- machines, so filter by them
and remove the spectests from the queue if appropriate."
conorsch,2015-05-13 22:46:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/55653500babd83257bdee8216f687e9df9d6b64d,55653500babd83257bdee8216f687e9df9d6b64d,"show provisioning output on spectest init

if vagrant machines aren't up yet, spectests will up them,
and block for many minutes with no useful output. this commit
changes that behavior to include STDOUT from the `vagrant up` cmd."
conorsch,2015-05-13 22:20:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df4ae3a763fe170e5de33adf9123eb693ef7feb8,df4ae3a763fe170e5de33adf9123eb693ef7feb8,"forces nopasswd sudo for vagrant user in digitalocean

ansible playbooks for staging and production clobber
the sudo additions provided by the vagrant-digitalocean plugin.
The approach added in this commit uses sudoers.d."
conorsch,2015-05-13 15:47:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8ba5ada7d870de1a02943ef3fde6e2c48a2c58e9,8ba5ada7d870de1a02943ef3fde6e2c48a2c58e9,updates user account config for DO droplets
conorsch,2015-05-12 22:15:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/343fd8d99c3a1ee9867f88851ab52e68e909cf99,343fd8d99c3a1ee9867f88851ab52e68e909cf99,remove grsecurity spectests from *-do hosts
conorsch,2015-05-12 22:05:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/61bc93c4d1f63b4844dc2a83401c633064f71fdf,61bc93c4d1f63b4844dc2a83401c633064f71fdf,moves grsecurity tests into separate dir
conorsch,2015-05-12 19:39:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f179503239aba4c8f7d32dfdddc795ce1093b342,f179503239aba4c8f7d32dfdddc795ce1093b342,"ensure ""ssh_users"" account exists in development

this is necessary for DigitalOcean droplet testing,
and it's simply a good idea. only Vagrant Virtualbox
images come preprovisioned with the ""vagrant"" user account
provided."
conorsch,2015-05-12 18:24:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/11e866462119a6a509f5ac1ace3a80ffcd25c834,11e866462119a6a509f5ac1ace3a80ffcd25c834,add vagrant user to digitalocean droplets via shell provisioner
conorsch,2015-05-11 22:43:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15a326a826a638405aad660e5bd06e8d57bed10b,15a326a826a638405aad660e5bd06e8d57bed10b,Merge branch 'develop' into snapci-serverspec
conorsch,2015-05-11 22:43:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6bb286e405c0123aa41dce1311c536cc7459c657,6bb286e405c0123aa41dce1311c536cc7459c657,removes unused localhost spectests
conorsch,2015-05-11 22:35:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9ac325a42302439e21d66ead6b7ff421b3e1d12d,9ac325a42302439e21d66ead6b7ff421b3e1d12d,"removes erroneous local ips from mon-staging tests

two formats of local ips are in here, should only be one."
conorsch,2015-05-11 22:25:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/91a9f6beb72813b2837041f465b86f7f29c74e9a,91a9f6beb72813b2837041f465b86f7f29c74e9a,sleep between reloads
conorsch,2015-05-11 21:10:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e67a577185926f42cfed4aaa45d0fc01add4c57,7e67a577185926f42cfed4aaa45d0fc01add4c57,"downgrade ansible 1.9.1 -> 1.9.0.1

see https://github.com/ansible/ansible-modules-core/issues/1298"
garrettr,2015-05-05 21:27:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4bce6efd58e302c1e9e44f4997967c4812522565,4bce6efd58e302c1e9e44f4997967c4812522565,Version 0.3.3
garrettr,2015-05-08 20:13:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1aaf5683b53fbd35bbde5e18dd90445902c2d18a,1aaf5683b53fbd35bbde5e18dd90445902c2d18a,"Merge pull request #1021 from freedomofpress/0.3.3-release-testing-fixes

0.3.3 release testing fixes"
garrettr,2015-05-08 20:13:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e13c20089dc34a5ad69d34928d4aede2a09c83f9,e13c20089dc34a5ad69d34928d4aede2a09c83f9,"Merge pull request #1022 from dolanjs/tor-port-change-for-0.3pre-install

Update onion port for document interface"
garrettr,2015-05-07 20:47:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fd53e8d35572ea3107eb84e2be2baa02e4c41875,fd53e8d35572ea3107eb84e2be2baa02e4c41875,"Revert accidentally merged changes from #953

Issue #953 was accidentally merged into release/0.3.3 as part of #960
because #960 was based off of develop."
garrettr,2015-05-07 19:04:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0684772aa33585faf1bc84710a848696ea387a4f,0684772aa33585faf1bc84710a848696ea387a4f,"Make 0.3pre upgrade script idempotent for logo.png

This is a hack to fix a specific issue that we encountered during
testing. The sequence of events is as such:

1. Run the upgrade playbook.
2. You potentially encounter #1008, which causes the playbook run to
fail after a reboot and leaves the upgrade in an unfinished state.

Ideally, you would be able to simply re-run the playbook to try the
upgrade again (and hopefully complete it). However, this is not possible
because:

1. The upgrade playbook removed the old SecureDrop .deb packages.
2. Due to #911, ""logo.png"" was included in the 0.3pre
securedrop-app-code .deb package, and so was removed when the packages
were removed.
3. Re-running `0.3pre_upgrade.py` fails when it tries to back up
`logo.png` in `backup_app`.

Since the custom logo.png file is also present on the Admin Workstation,
Ansible will place that file and therefore does not really need the copy
on the application server. Therefore, we can safely ignore this file if
it is not present. This should allow the script to conclude successfully
even if the upgrade had previously terminated early due to #1008."
garrettr,2015-05-07 18:19:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/64a97c87118af95105c3508f2d06555376c898a8,64a97c87118af95105c3508f2d06555376c898a8,"Restart apache after migrating config

An apache restart is required to reload the Python modules that
compromise the web applications, including `config.py`. Without
reloading the config after migration, all kinds of temporary breakage
occurs due to the server not using the correct values from config.py.

For example, migrated sources are not able to log in after migration
until apache2 has been restarted, since the migrated value for
`SCRYPT_ID_PEPPER` is required to correctly compute their
`filesystem_id`s."
garrettr,2015-05-07 18:13:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f477b1879d0d61804dccfaf03ed81b07ef875f02,f477b1879d0d61804dccfaf03ed81b07ef875f02,"Refactor checking if a codename is valid

Checks the database instead of the filesystem to continue working toward
unifying the data model in the database.

Simplifies top-level flow for valid_codename and encapsulates any
internal errors that might occur within valid_codename instead of in the
caller.

Adds logging for failed logins."
conorsch,2015-05-06 01:35:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6fe0866956575ba0cd4abefc423db0f2ddfe5747,6fe0866956575ba0cd4abefc423db0f2ddfe5747,adds reloads to staging provisioning (temporary)
garrettr,2015-05-06 01:20:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e82f773678626b7b310dcc18baf8dadf5d074dc,6e82f773678626b7b310dcc18baf8dadf5d074dc,"Forbid sudo in 0.3 upgrade script

This commit cherry picks *both* commits from #1020 into one commit due
to difficulty in rebasing #1020 on develop."
garrettr,2015-05-05 22:56:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b262a2f56322af34dd6b7f9e0f2d0d4b8d25f087,b262a2f56322af34dd6b7f9e0f2d0d4b8d25f087,Update AppArmor rules for CSS file split from #960
garrettr,2015-05-05 21:18:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de08d6578f0f8d9ea4712bbf60896c68b4a39501,de08d6578f0f8d9ea4712bbf60896c68b4a39501,Improvements to update_version script
garrettr,2015-05-05 19:48:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5d587e04a91496b9039718573ac549d0e22989a3,5d587e04a91496b9039718573ac549d0e22989a3,"Use securedrop_app_code_version for OSSEC packages

The host-specific OSSEC configuration is provided in deb packages that
are versioned in lockstep with securedrop-app-code. These version values
were previously hardcoded in `host_vars/{app,mon}.yml`, but it is more
DRY to derive them from `securedrop_app_code_version`.

I moved the defintion of `securedrop_app_code_version` to
`group_vars/securedrop.yml` so it would be available when provisioning
both the app and monitor servers, and used it as a variable to generate
the OSSEC package names in `host_vars/{app,mon}.yml`."
garrettr,2015-05-06 01:04:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/57a9908f28d7d645c5081c39008031413703d8b6,57a9908f28d7d645c5081c39008031413703d8b6,"Merge pull request #1020 from conorsch/forbid-sudo-in-0.3-upgrade-script

Forbid sudo in 0.3 upgrade script"
conorsch,2015-05-06 00:20:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ccbd62d1592f518ed55a5cd0a3be1571d4e60b4,0ccbd62d1592f518ed55a5cd0a3be1571d4e60b4,"adds check for UID 0 to 0.3pre upgrade script

If this script is run as root (or via sudo), then
the SSH connections will fail and the Ansible
playbooks will never run. This commit adds a check
for UID 0 to the upgrade script for 0.3pre,
and exits with an informational message if found."
conorsch,2015-05-06 00:17:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/50d5cd52eddc39ce38f2315c26bb2d52de8b5dbb,50d5cd52eddc39ce38f2315c26bb2d52de8b5dbb,"remove `sudo` prefix to upgrade command

During testing on hardware, the `sudo` version
of the call to `upgrade.sh` failed silently, even
though `set -e` was included. This is because
the superuser does not have access to the ssh-agent
for the normal user."
conorsch,2015-05-05 23:18:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07bc73cb582bc6c67fb37aa35a9261d323686324,07bc73cb582bc6c67fb37aa35a9261d323686324,updates mon-staging spectest for smtp_tls fingerprint
conorsch,2015-05-05 23:16:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39f6de3ef96ee4ab05c5fd61388dc68b62113158,39f6de3ef96ee4ab05c5fd61388dc68b62113158,updates mon-staging spectests to check for new commented iptables rules
conorsch,2015-05-05 23:16:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0b8559e92f652203f3606ef01a7c0606df6ee995,0b8559e92f652203f3606ef01a7c0606df6ee995,adds comments to mon-staging iptables rules
conorsch,2015-05-05 21:16:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa2fb4cb1e716da1c24deec0b71c35a80bdf497b,fa2fb4cb1e716da1c24deec0b71c35a80bdf497b,"adds comments to iptables rules for app-staging spectests

these comments were added to the ansible config via
c29e201af9b5f9ea4a8170aa3ed4566dfdd7c184"
garrettr,2015-05-05 01:28:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eba0b18b65a5933f63d2232ecb71542b67bf040d,eba0b18b65a5933f63d2232ecb71542b67bf040d,"Merge pull request #1018 from garrettr/xsessionrc-fix

Switch from xsessionrc to NetworkManager hook in 0.3.3"
garrettr,2015-03-11 02:09:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae3f0f3011a14431a79d6ae6ae7f518834d4cf5c,ae3f0f3011a14431a79d6ae6ae7f518834d4cf5c,"Migration scripts for 0.3.3

This PR contains the migration procedures for 0.3 from 0.3pre and 0.2.1.

This commit rebases check-migration-scripts-for-0.3 on top of
the release/0.3.3 branch and squashes all of the resulting commits into
a single commit.

See #1010 for context."
garrettr,2015-05-04 17:36:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd8e58cb28f2ecf8a421ed6596b26760c3ce0934,cd8e58cb28f2ecf8a421ed6596b26760c3ce0934,"Merge pull request #1010 from freedomofpress/check-migration-scripts-for-0.3

Migration scripts for 0.3"
garrettr,2015-05-02 01:40:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/74c57a994584f67bbe04f4250c41ac84a4e6a4da,74c57a994584f67bbe04f4250c41ac84a4e6a4da,"Avoid breaking Tor when upgrading tails_files

Due to a race condition with the original, `.xsessionrc`-based approach
for auto-configuring Tor to use the SecureDrop authenticated Tor Hidden
Services, upgrading to 0.3.3 and re-running `tails_files/install.sh`
often caused Tor to break. This was confusing and meant that a restart
was required for an admin to restore a functioning Tor. For a full
explanation, see #1015.

This commit ""repairs"" the torrc backup used by `securedrop_init` if the
race condition occurred. This is a stopgap and only happens once, in the
session where we remove the broken .xsesssionrc while upgrading from
0.3.2 to 0.3.3's tails_files. We can safely remove this code after all
SecureDrop's are running SecureDrop >= 0.3.3.

This commit also checks if `.xsessionrc` is present before deleting
it. Previously, it would just delete the file and continue whether or
not there was an error (which there would be if the file was not
present). This works, but is poor shell scripting practice (not
""defensive coding""). Ideally `tails_files/install.sh` would have `set
-e` at the top to prevent it from continuing if an error occurs, but
that will have to be a long-term project due to the lack of error
handling throughout the rest of the script."
ageis,2015-05-01 22:10:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fab97715b109fab254a355834ced68b0530e9a58,fab97715b109fab254a355834ced68b0530e9a58,Reload Tor later not during software install
garrettr,2015-05-01 14:55:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/811a31ea929c2b4f72ec72ef7962d159ba4f6536,811a31ea929c2b4f72ec72ef7962d159ba4f6536,"Merge pull request #1016 from freedomofpress/manage-py-run

`./manage.py run` for development"
garrettr,2015-05-01 06:09:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4123848cf036d98bd1415da7f98ce5975a5cd6c1,4123848cf036d98bd1415da7f98ce5975a5cd6c1,Import run directly from management
garrettr,2015-05-01 02:22:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/008adcb3dd2e797ca6c601218a01b00edc4e9faf,008adcb3dd2e797ca6c601218a01b00edc4e9faf,"Refactor run command into new management module

The new `run` defined a couple of supporting classes and was a fairly
long function. To keep `./manage.py` readable, this commit factors the
`run` function and supporting code into a new `management` module. This
keeps the `./manage.py` lightweight and easy to read, and better
encapsulates the code specific to the `run` function."
garrettr,2015-05-01 01:56:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c2171cca13c269b3a62cb906a74a00786b4d1f78,c2171cca13c269b3a62cb906a74a00786b4d1f78,"Use DevServerProcesses directly with select

By implementing fileno() for DevServerProcess, we can pass them to
`select.select` directly, instead of maintaining a separate list of
streams to `select` over. This simplifies the code and allows us to
avoid the hacky `_get_proc_by_stream`, which is removed in this commit."
garrettr,2015-05-01 01:26:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9387d55b8db907b7605b8b10b3c27f2a2a5b0f08,9387d55b8db907b7605b8b10b3c27f2a2a5b0f08,"Merge pull request #1012 from conorsch/check-migration-scripts-for-0.3-continued

Modifications to 0.3pre upgrade script"
garrettr,2015-04-30 22:13:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/31f634381dfe722628733804a8fe680f1299e5a0,31f634381dfe722628733804a8fe680f1299e5a0,"`./manage.py run` for development

This commit replaces `./manage.py {start,stop,restart}` with a single
command, `./manage.py run`. This command runs *both* of the interfaces
with Flask development servers, which provide useful debugging and
auto-reloading features. The logging output from both interfaces is
aggregated into a single stream, labeled for clarity, and sent to stdout
for the developer to read.

The `run` command carefully handles the case where a change to a
monitored file cannot be interpreted (e.g. if it introduces a
SyntaxError), which causes the auto-reloader to exit. This case would
break `./manage.py start` because one of the processes it had spawned
had died behind its back. This made it difficult (especially for new
developers) to understand and recover from a somewhat common error
condition. `run` does not break when this happens, but prints out a
clear message and exits both servers to avoid confusion.

Updates development documentation to recommend using `run`, and removes
references to the removed `{start,stop,restart}` commands."
ageis,2015-04-30 21:59:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0eb73f01e869cea6d076a3fad1b91be7a42bec0,f0eb73f01e869cea6d076a3fad1b91be7a42bec0,Cleanup xsessionrc
ageis,2015-04-29 23:16:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/57ac201a70df54f329879637e78ae7e6c577f6d3,57ac201a70df54f329879637e78ae7e6c577f6d3,Switch xsessionrc to NetworkManager hook
conorsch,2015-04-29 23:02:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7189c40435a2a60e832106bd5e900f3c4eebb21e,7189c40435a2a60e832106bd5e900f3c4eebb21e,"removes ""set -u"" option

This option won't work in the migration script in its present form
due to the vars '$2' and '$monitor_ip', both of which are defined
via YAML parsing, and therefore not explicitly declared within
this script. The goal of adding ""set -u"" was to catch
undefined (or typo'd) variables prior to running commands with
them interpolated, but the script ran successfully during testing
just now.

At a later date, we can refactor this bash script to be more
resilient if need be."
conorsch,2015-04-29 22:10:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/097fa718d6edb1b8124817ba10ce56afa1408d78,097fa718d6edb1b8124817ba10ce56afa1408d78,"skip 'backup' role during upgrade playbook run

The rationale here is that if the Document Interface is not
regularly purged, then a complete backup over Tor would
cause the upgrade to fail. Updated docs and and comments
to upgrade script to explain this, and provide an example
command to run the backup manually if necessary.

The backup role is still enabled by default in the Ansible playbook."
conorsch,2015-04-29 22:08:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b8d6c9e63d5bc6857afb5ffc5809f9b2d5fb7d89,b8d6c9e63d5bc6857afb5ffc5809f9b2d5fb7d89,removes unnecessary username from ssh commands
conorsch,2015-04-29 21:52:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/66bea3c4b2610be74f8a12ebc4e54c6c415f2de1,66bea3c4b2610be74f8a12ebc4e54c6c415f2de1,removes backticks
conorsch,2015-04-29 21:51:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0b656a5d6430fb59f3af49925effd4a35eab6857,0b656a5d6430fb59f3af49925effd4a35eab6857,use ANSIBLE_BASE constant where applicable
conorsch,2015-04-29 21:49:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78cd72624e08e1ba5f20f68d5ceb4023fab172ca,78cd72624e08e1ba5f20f68d5ceb4023fab172ca,use HOMEDIR constant where applicable
conorsch,2015-04-29 21:40:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/749c7b9729a028a92af9c538d20b13665c76246c,749c7b9729a028a92af9c538d20b13665c76246c,"adds ""set -u"" to script to catch undeclared or typoed vars

Having this option set previously would have caught the
typo addressed in ad2e36f, and saved some time debugging."
conorsch,2015-04-29 21:37:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98d457b43e08c8d95a462c1356300b5b1171351b,98d457b43e08c8d95a462c1356300b5b1171351b,uses [[ / ]] keywords for conditionals throughout (except cmds)
conorsch,2015-04-29 20:36:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d5dee62f3a1fecbb54f87da5242b09d9f409025,6d5dee62f3a1fecbb54f87da5242b09d9f409025,renames non-constant variables to lowercase
conorsch,2015-04-29 20:33:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0feee0e516c36a96e7b1614fcca9cc041c2e70ba,0feee0e516c36a96e7b1614fcca9cc041c2e70ba,renames ANSIBLE constant -> ANSIBLE_BASE for clarity
conorsch,2015-04-29 20:32:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90b777a11875e631843d9cd2ea05506a6fc22aad,90b777a11875e631843d9cd2ea05506a6fc22aad,removes PERSISTENT constant (it was only used once)
conorsch,2015-04-29 20:29:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/207c309e623fcc8bd60bd9520c10cd78e71ee3b6,207c309e623fcc8bd60bd9520c10cd78e71ee3b6,removes TAILSCFG constant (it was only used once)
conorsch,2015-04-29 20:27:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f796bcb19ed0da5c030ba178b820aeb153cc9b9b,f796bcb19ed0da5c030ba178b820aeb153cc9b9b,"makes IP address checks quiet

Without the -q flag, script echos IP addresses needlessly."
conorsch,2015-04-29 20:25:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4d9bfaa6ada2a9741bb34dcee8b9416434245769,4d9bfaa6ada2a9741bb34dcee8b9416434245769,"adds echo statements to notify admin about package installation

By providing context for sudo calls, privilege escalation
requests become less alarming for admins."
conorsch,2015-04-29 20:20:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/457e2558509a8be11871c01a8a5c42897e871a3d,457e2558509a8be11871c01a8a5c42897e871a3d,"removes requirement for root privileges to run script

Previously, the script forced invocation as root (UID 0).
Elevated privileges are only necessary for two actions:

  apt-get install git
  apt-get install ansible

The vast majority of tasks in this script can and should be
run as the default user ""amnesia"", so running the script
as root complicated the logic by requiring the normal user
environment to be recreated, e.g. in SSH connections."
conorsch,2015-04-29 20:10:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c5c5d08af11f4bbf0dc41e2f49f0196816c821d5,c5c5d08af11f4bbf0dc41e2f49f0196816c821d5,"removes ProxyCommand from SSH connections

ProxyCommand option not relevant in Tails instance,
and in fact causes the SSH connections to fail."
conorsch,2015-04-29 20:06:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ad2e36fe7984138c3e4371a8cae884e5a365cb92,ad2e36fe7984138c3e4371a8cae884e5a365cb92,"fixes typo in ""ssh_users"" variable"
conorsch,2015-04-29 20:05:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/79fdd3cc567afc02bd586c94264253de4a48cfe6,79fdd3cc567afc02bd586c94264253de4a48cfe6,"removes ""set -x"" (leftover from debugging)"
conorsch,2015-04-29 20:04:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2af95de073b2dc015eea238c82ae4a85246e23eb,2af95de073b2dc015eea238c82ae4a85246e23eb,chmod +x on 0.3 upgrade script
garrettr,2015-04-29 19:32:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f7137e66c1bae6da6151c34bfb81d52c352047f6,f7137e66c1bae6da6151c34bfb81d52c352047f6,"Make 0.3pre upgrade script idempotent for Ansible

Sometimes when the Ansible upgrade role is run, the upgrade script
completes successfully, but then something goes wrong later in the
role. For example, network connectivity issues may cause one of the
later package upgrades to fail. In this situation, we need to be able to
re-run the playbook. This means the `0.3pre_upgrade.py` script needs to
be idempotent.

The script performs a full SecureDrop backup to `/tmp` before continuing
on both the app and monitor servers. Since it would be complex to verify
whether the backups were idempotent, we simply make a backup every time
the script is run. The backup filenames are timestamped, so there is no
concern about accidentally overwriting them. Since the files are stored
in `/tmp`, they will automatically be cleaned up after the next reboot.

On the app server, the upgrade script also migrates the app database. To
make this idempotent, we check for the last change made as part of the
database migration. If that change is present, we take it as evidence
that the database has already been migrated and skip the migration. This
makes the database migration idempotent.

This commit also does some formatting cleanup, adds docstrings, and
encapsulates getting the database connection into a function to make the
script more DRY."
conorsch,2015-04-28 22:32:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/62c650fa680db383583152d112e91fb8e0a90296,62c650fa680db383583152d112e91fb8e0a90296,adds explicit exit call to development_clean.sh
garrettr,2015-04-28 22:14:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c3d2ebcb613a6c43cd8b393e523249e89016525,7c3d2ebcb613a6c43cd8b393e523249e89016525,"Merge pull request #1009 from dolanjs/ansible-playbook-doc-fix

update playbook name in directions"
conorsch,2015-04-28 22:06:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/49776e3380cd73638e900e4890888f7a8f81187c,49776e3380cd73638e900e4890888f7a8f81187c,"try adding ""sudo"" call to tests"
conorsch,2015-04-28 21:34:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd2ade86fd109215b9a2e20e12c8006b0058aa6e,cd2ade86fd109215b9a2e20e12c8006b0058aa6e,moves app tests after spec tests
conorsch,2015-04-28 19:32:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f2c0bcf0b0754d8f724669b62de1ffcdfccdd612,f2c0bcf0b0754d8f724669b62de1ffcdfccdd612,trying again to get the app tests to pass
conorsch,2015-04-28 19:18:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c7c04ac570ebb197c12b5b8e4d78ce23d077086a,c7c04ac570ebb197c12b5b8e4d78ce23d077086a,skip trap for droplet destroy
conorsch,2015-04-28 19:06:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6bb2b086b517828d7286832b5b979ec13152b09b,6bb2b086b517828d7286832b5b979ec13152b09b,updates staging-specific vars to use ansible hostvars for ip info
conorsch,2015-04-28 18:51:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2173be56544bbbf29a2e667a6ad9392433ecc16e,2173be56544bbbf29a2e667a6ad9392433ecc16e,run apptests outside of bash script
conorsch,2015-04-28 18:15:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/40a4a0094c52af49d456883caca5bd4f370d72b5,40a4a0094c52af49d456883caca5bd4f370d72b5,use ansible hostvars to gather ip addresses
ageis,2015-04-24 23:44:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20ff26540d5cd4fa693304918d8e06f6893afb68,20ff26540d5cd4fa693304918d8e06f6893afb68,Update unit test based on comments
ageis,2015-04-21 00:34:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/64debaf7d7007266f14d6cc0294864a2701c0018,64debaf7d7007266f14d6cc0294864a2701c0018,Add unit test
ageis,2015-04-17 01:27:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba7e784595de0664f2cfb26b23729dafbcc9afa7,ba7e784595de0664f2cfb26b23729dafbcc9afa7,Strip leading + trailing whitespaces from codename
garrettr,2015-04-13 18:27:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f406d127fb2e62ca07a9827a3f97a0e039cec6b3,f406d127fb2e62ca07a9827a3f97a0e039cec6b3,"Upgrade Selenium in testing dependencies

Fixes #988."
garrettr,2015-04-10 23:52:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e6c9504fe623cb9ac0b3cce18567d88750d2f22c,e6c9504fe623cb9ac0b3cce18567d88750d2f22c,"Add tests for ""download unread"""
garrettr,2015-04-10 22:31:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc11d6a0626c5d6a9d83b28e778b90766a16d65c,fc11d6a0626c5d6a9d83b28e778b90766a16d65c,"Fix SQLAlchemy queries for unread submissions

This regression was caused by the PEP8 fixes in cd6f4c3, which among
other things changed instances of `x == False` to `x is False`. While
this would not cause a functional change in normal Python, it does cause
a functional change in the context of SQLAlchemy's `filter*`
methods. These methods override `==` but do not appear to override `is`,
so replacing `==` with `is` breaks the query.

I have grep'ed the code and checked the diff of the breaking commit to
make sure this commit fixes all instances of this error.

Fixes #969"
jacksingleton,2015-04-04 02:45:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/63486e581c33df5281a4bfb8fa8ed10f5d5fbe2d,63486e581c33df5281a4bfb8fa8ed10f5d5fbe2d,add tests for pages that require authentication in journalist.py
ageis,2015-03-31 08:27:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e84bee233083f6e301e092abfafd37c9daa017a8,e84bee233083f6e301e092abfafd37c9daa017a8,Mark GRUB as manually installed
garrettr,2015-03-28 01:25:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b6d4b6f77a58a56ed38941f31bb40c25f063404b,b6d4b6f77a58a56ed38941f31bb40c25f063404b,Use tmux by default for SecureDrop admin's login shell
garrettr,2015-03-30 17:35:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09fc9d1f260b1975e4661cd2ed87b73e6df92014,09fc9d1f260b1975e4661cd2ed87b73e6df92014,"Fix unmatched `*` in Markdown file

This document refers to ""your specific .onion address"" as
`*.onion`. Unfortunately, `*` is a reserved Markdown character that
signals that start of an italicized block. This can cause problems
depending on the Markdown renderer - for example, the document renders
to HTML fine when viewed on Github, but when this document is displayed
in a Github PR, all document text following that `*` is italicized,
which is confusing and not the intent.

The easy fix is to fence `*.onion` with backticks so it's treated as
preformatted text/code."
garrettr,2015-03-27 23:06:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/92c9a757793dab2a6e65cb62ffab6a150381638c,92c9a757793dab2a6e65cb62ffab6a150381638c,Document how to access the dev servers in Tor Browser
garrettr,2015-03-27 22:51:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f3b69c858c8427f32fd51029adcde252d4726e2,4f3b69c858c8427f32fd51029adcde252d4726e2,Center Source Interface home page
garrettr,2015-03-27 22:19:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b53b846e01f0fd76d398fb8ca3eaeffc80968919,b53b846e01f0fd76d398fb8ca3eaeffc80968919,"Split css into separate files

Previously, the Source Interface and the Document Interface both used
the same CSS file (`/static/i/styles.css`). This sometimes created
problems where changing styles on one interface would cause problems with
the styles on another.

I've also updated the links in the HTML templates for each interface to
use the correct CSS file, depending on the interface.

In the future, we should work to clean up and simplify these CSS files.
I have not made an effort to remove code from `source.css` that was only
ever used on the Document Interface, nor vice versa."
garrettr,2015-03-27 22:08:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/213180a4af528e60ae06e56a2ef02ebc963199ff,213180a4af528e60ae06e56a2ef02ebc963199ff,"Revert ""Merge pull request #929 from ageis/text-fix""

This reverts commit e9739b225764b0fded4014bfb3a8ce183819f9e2, reversing
changes made to 2667110e4753b2f902f7dca70d8cc8a7ba897fb8."
ageis,2015-03-24 01:34:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/940ff2ba7947c37389be93bb54df6251e5385059,940ff2ba7947c37389be93bb54df6251e5385059,Don't need note about SOCKS5 password with torify
ageis,2015-03-23 21:02:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df38526c86f11a97160671bf977c77c28b2a6c9e,df38526c86f11a97160671bf977c77c28b2a6c9e,Fixes #933
ageis,2015-03-26 18:43:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e90d0a633da4896f7dea0ba398791a10cf1712f,6e90d0a633da4896f7dea0ba398791a10cf1712f,Don't wait for reboot if already running grsec
ageis,2015-03-24 01:29:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/35a4aa5fe1f8d58401d51ef238cf3ba1b3fe9bb4,35a4aa5fe1f8d58401d51ef238cf3ba1b3fe9bb4,Fix to reboot if grsec is not running
ageis,2015-03-24 00:34:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f93e699030e6bb0b888bc8ef4caaaf77afc39b93,f93e699030e6bb0b888bc8ef4caaaf77afc39b93,Consolidate tasks and make grsec reboot idempotent
garrettr,2015-03-23 21:25:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b4b44cf666385850e80ac75d0a252575c78daa4a,b4b44cf666385850e80ac75d0a252575c78daa4a,"Switch default branch back to develop

Rationale: https://github.com/freedomofpress/securedrop/pull/932#issuecomment-85204230"
garrettr,2015-03-23 21:01:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c8e653ce3e0ea1a2bee46de45545b738143901e,7c8e653ce3e0ea1a2bee46de45545b738143901e,"Add `-U` to pip install commands

Follow up to https://github.com/freedomofpress/securedrop/pull/932#commitcomment-10353326"
garrettr,2015-03-23 20:23:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68e6cc28c953957e0f6c1816098199a2a1451794,68e6cc28c953957e0f6c1816098199a2a1451794,"Add warning about Vagrant package in Ubuntu

Follow up to https://github.com/freedomofpress/securedrop/pull/932#issuecomment-85165231"
garrettr,2015-03-23 20:20:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b866d511f0a6c62548d69605d224c72b078e2f7d,b866d511f0a6c62548d69605d224c72b078e2f7d,"Clean up development guide

* Clarify the differences between virtual environments
* Improve headings and TOC
* Clean up formatting, extraneous new lines"
conorsch,2015-03-23 18:36:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f14c8a3158a67cbabfb3b0a0baddde7dbcd205f4,f14c8a3158a67cbabfb3b0a0baddde7dbcd205f4,updates recommended version numbers in develop.md
conorsch,2015-03-21 18:47:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8fd075b8eafaede91afbbb32d4f8da81ba6da9b6,8fd075b8eafaede91afbbb32d4f8da81ba6da9b6,"updates develop.md to recommend newest vagrant version

reverts ee304e1e2262230e55db2d17f197be1b27edf4ec"
conorsch,2015-03-21 18:17:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/073c50ad76e7e59810521ce0ae04087b22d2a81a,073c50ad76e7e59810521ce0ae04087b22d2a81a,disables dynamic SSH key insertion by vagrant
garrettr,2015-04-28 00:17:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a185a5d9bfd5e0d41c9e24390c175c7773413a21,a185a5d9bfd5e0d41c9e24390c175c7773413a21,Fix incorrect argument to git stash
conorsch,2015-04-27 23:36:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20c097bc78062307f2a7e503d5f00e7f5e158459,20c097bc78062307f2a7e503d5f00e7f5e158459,attempt to force exit on development app code tests
garrettr,2015-04-27 23:11:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2eccc1369706b350bd1ef5d5b1a1042d78794908,2eccc1369706b350bd1ef5d5b1a1042d78794908,"Synchronize upgrade docs in repo with draft in Hackpad

Upgrade docs draft:
https://securedrop.hackpad.com/Upgrade-to-0.3.3-jis3fmQ3AnE

I added a new `upgrade.md` to serve as a central place for all upgrade
information. It explains how the upgrades work at a high level
(incorporating text that was previously unused from the Hackpad draft)
before linking to the specific docs for upgrading to a specific version,
depending on the version you are upgrading from."
conorsch,2015-04-27 22:45:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8ddf43a967f9373e97920711505afe1480a67afc,8ddf43a967f9373e97920711505afe1480a67afc,moves parallel provisioning to separate script
garrettr,2015-04-27 22:40:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b8701cf1cab61383b152832a3e58470b1a998c80,b8701cf1cab61383b152832a3e58470b1a998c80,Improve Markdown in migration docs
garrettr,2015-04-27 22:28:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b4a444f9d4995e7a830f29a6be4d2840f136a4a9,b4a444f9d4995e7a830f29a6be4d2840f136a4a9,"Fix migration script directories after merge

In `check-migration-scripts-for-0.3`, I had made the change to standardize
the directory names in `migration_scripts` to correspond to the version
one is migrating *from*. This change was not made in
`upgrade-helper-script`, so this commit makes all of the naming
consistent.

This commit deletes the old README.md because it has been subsumed by
`0.3-pre-upgrade-to-0.3.3.md`."
garrettr,2015-04-27 22:25:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/039b687f7b7c8e6f43b83313a58f3cfba385368e,039b687f7b7c8e6f43b83313a58f3cfba385368e,Merge branch 'upgrade-helper-script' into check-migration-scripts-for-0.3
conorsch,2015-04-27 22:23:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/43de32900e826a624102bcfb07f88613624b3e79,43de32900e826a624102bcfb07f88613624b3e79,adds snapci worker parallelization (hopefully)
conorsch,2015-04-27 21:55:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bb18e645d406d325e29e62a5cfeb173a0b260a08,bb18e645d406d325e29e62a5cfeb173a0b260a08,adds app tests to development snapci config
garrettr,2015-04-27 21:48:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f683827e186005697be1f7463557e52ef256f6d9,f683827e186005697be1f7463557e52ef256f6d9,"Merge pull request #1003 from dolanjs/upgrade-to-0-3-3-docs

added docs for upgrading 0.2.1 and 0.3-pre versions"
conorsch,2015-04-27 18:33:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2dafcc97dc444fe0886c35a92d16abd7a461a4e3,2dafcc97dc444fe0886c35a92d16abd7a461a4e3,fixes exit trap for staging_clean
conorsch,2015-04-27 18:33:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d3ad7a62964d931bd3884f45eb6336cc8c658ed3,d3ad7a62964d931bd3884f45eb6336cc8c658ed3,removes excess destroy cmd (trap is sufficient)
conorsch,2015-04-27 18:19:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96e48c6b691d22837eb0768327ad7bc3ee238b6f,96e48c6b691d22837eb0768327ad7bc3ee238b6f,adjust app dir perms checked in snap-ci development host
garrettr,2015-04-27 17:45:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4db37084174795acea8502d186575977dc4b2e19,4db37084174795acea8502d186575977dc4b2e19,Merge branch 'develop' into check-migration-scripts-for-0.3
garrettr,2015-04-27 17:43:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac08152472407cd8efce9964ebab0d2a748c9faa,ac08152472407cd8efce9964ebab0d2a748c9faa,Fix minor mistakes in 0.2.1 collect script
conorsch,2015-04-27 17:43:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8ad8fba8ebc40f0fed46e0f56e88c0a0bb727606,8ad8fba8ebc40f0fed46e0f56e88c0a0bb727606,ensure staging has destroy trap
conorsch,2015-04-27 17:34:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b3dcdfb93d9ffd609723e9797d185fdeaefc90f2,b3dcdfb93d9ffd609723e9797d185fdeaefc90f2,"adjusts spectest for development app code directory

snap-ci default umask causes the /vagrant dir (and its
subdirs) to default to 775. Since this is development,
we don't need to check for that exact mode, but rather just
ensure correct ownership and readability."
conorsch,2015-04-27 16:48:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/56b870a33332a48d7fab3672c16133c14ad88d41,56b870a33332a48d7fab3672c16133c14ad88d41,adds verbosity to trap
conorsch,2015-04-27 16:41:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b3f2a842ff8e2f08e676da2a68f65ae436afb7e,3b3f2a842ff8e2f08e676da2a68f65ae436afb7e,adds trap for destroying environment
conorsch,2015-04-27 16:36:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/453c61f20d65195061fc95a36bd82147b7cf51e0,453c61f20d65195061fc95a36bd82147b7cf51e0,adds default values for skipped tags
conorsch,2015-04-25 00:11:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/40baa63f9565d943cea1c80c0e806494e1b4817c,40baa63f9565d943cea1c80c0e806494e1b4817c,adds staging_clean script
conorsch,2015-04-25 00:05:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f116c7757c1b4849ea51c4e571cc0a1336b2dfa6,f116c7757c1b4849ea51c4e571cc0a1336b2dfa6,"adds ""set -e"" to bash script"
garrettr,2015-04-24 23:52:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f53d4e6b87e4a6a2abe02e8a5f21f88001cfa9f,8f53d4e6b87e4a6a2abe02e8a5f21f88001cfa9f,"Merge pull request #998 from ageis/strip-codename

Strip leading + trailing whitespaces from codename"
conorsch,2015-04-24 23:46:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ccbbd2d7554f4a5ec22ed70e3aea822b883cb762,ccbbd2d7554f4a5ec22ed70e3aea822b883cb762,"removes ""bundler"" package installation attempt"
ageis,2015-04-24 23:44:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07e624554cf8ae62bb9196c2ffddae06c4d6e736,07e624554cf8ae62bb9196c2ffddae06c4d6e736,Update unit test based on comments
conorsch,2015-04-24 23:27:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f17b77332aa751d9d652a7710b4c3994d6b6d86,2f17b77332aa751d9d652a7710b4c3994d6b6d86,install most recent version of digitalocean plugin in snap config
conorsch,2015-04-24 23:26:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37a6d8433be152e77dae6320ea47c011501b75a0,37a6d8433be152e77dae6320ea47c011501b75a0,adds comments about digitalocean plugin version
conorsch,2015-04-24 22:34:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e0f576c38f06fbb4c07e3615108f400f10fe152,0e0f576c38f06fbb4c07e3615108f400f10fe152,adds script for running checks against a clean development box
conorsch,2015-04-24 22:28:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9698135cdb5876b270a6957ff9bdedd99101be75,9698135cdb5876b270a6957ff9bdedd99101be75,"merges in develop branch to stay in sync

Squashed commit of the following:

commit 269d72ee23d94ad0a4557fa15275bdb397e7b6e0
Merge: 64a8719 213d4a1
Author: Conor <conor.schaefer@gmail.com>
Date:   Fri Apr 24 15:27:38 2015 -0700

    Merge pull request #1007 from conorsch/ansible-multiline-format

    converts ansible tasks to multiline format, for readability and more informative diffs

commit 213d4a1d967cb4a9f1364d24e0c95daa2f73a91f
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 24 14:59:33 2015 -0700

    adds explicit comments and TODOs for bash additions

commit cc6e2d09700ba34e113e2fb0dfb2baf6d6010ab5
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 24 14:37:05 2015 -0700

    more verbose comment about setting `sudo: false`

commit 92bc9e62417cef183508fe77c150b22581351bae
Author: Conor Schaefer <conor@freedom.press>
Date:   Fri Apr 24 14:30:40 2015 -0700

    removes comment about cert generation for ossec authd

    no longer relevant, see discussion in comment threads for #818 and #1007

commit 64a8719194b459622573d9a6b836f6ef010715d8
Merge: 31d5f34 17877af
Author: Garrett Robinson <garrett.f.robinson@gmail.com>
Date:   Fri Apr 24 11:43:38 2015 -0700

    Merge pull request #1005 from ageis/update-fingerprint

    Update smtp.gmail.com fingerprint in yml files

commit 34c26eb3e65f0dc85b314c32d342527145c61044
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:43:34 2015 -0700

    removes unnecessary quotes from command: task

commit 5c0074491b0fbefb51a2f02ccc0931466d72c7bf
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:43:19 2015 -0700

    converts 'command:' task to multiline format via YAML folded scalar '>'

commit 156602224068dedd9e0cc28f5fadc9ef001150a2
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:41:43 2015 -0700

    converts 'command:' task to multiline format via YAML folded scalar '>'

commit c063a8b6d8aadb1a7069e8aa5cd1849df6a2f753
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:40:20 2015 -0700

    removes unnecessary quotes from filepaths for file->dest:

commit a4c953dd8160095b37c5e179cf07fffed7407d5d
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:39:45 2015 -0700

    removes unnecessary quotes from stat path

commit 784463a63a6c4a350d5cf7dc7ddcd66c864d972b
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:37:50 2015 -0700

    removes unnecessary quotes from update-rc.d command

commit ffc9d901cae75775f745e6f98a70518dce301592
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:37:24 2015 -0700

    removes unnecessary quotes from aa-complain command

commit 92bec75fefa5c9c305627320a9f20ae0dc99c017
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:22:29 2015 -0700

    roll back file perms to octal format without special bit

    issue #1006 will tackle standardizing format for file permissions,
    this commit merely preserves the original functionality prior
    to converting to multiline format.

commit 4c15d3ff9200432b3530cd5b0b8abb5f399a546a
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 15:13:02 2015 -0700

    fixes apache files perms by stringifying mode: parameter

commit 2be8fbaa9ff729c588286450a1b1da3c8b29ce92
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 14:58:46 2015 -0700

    converts restrict access mon fetch tasks to use multiline format

    the `local_action: lineinfile` block still has kwargs format
    due to ansible syntax quirks. this commit does make it
    multiline, though, so diffs will still be improved.

commit eaefdca2d36bd66c61d811d15eed4d9e9da897a4
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 14:54:53 2015 -0700

    updates restrict access mon iptables config to use multiline format

commit 353583ec5044f432c6d177857fe85c4e9d4d6120
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 14:54:19 2015 -0700

    updates restrict access mon tasks ssh config to use multiline format

commit 44a395ba411af6590f95494fc5551e62938b0f51
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 14:53:59 2015 -0700

    updates restrict access mon handlers to use multiline format

commit 93ac161a8cb59f3ebd4f499f6c06ffac08983c9c
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 14:24:49 2015 -0700

    reverts ossec file permissions to decimal format

    This is to preserve the original functionality of these
    tasks, ensuring only formatting changes are made
    for the time being. A separate issue, #1006, is
    tracking fixing these.

commit 35e0a64d36c7caad1c22ce675fefc9840c697419
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 13:55:45 2015 -0700

    fixes wsgi config files perms (stringifies file mode)

commit 1eaba46ab03b7e48281207671abb0b27a5c2d4af
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 13:52:49 2015 -0700

    fixes permissions in xvfb config (stringifies modes)

commit 062766c0aff6bc7891a699733c441cb71288b4b8
Author: Conor Schaefer <conor@freedom.press>
Date:   Thu Apr 23 12:25:56 2015 -0700

    adds quotes to file mode to preserve original setting

commit e4c54e876a9dc063e0c07b28124b7f62f4237a1b
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 16:10:37 2015 -0700

    updates restrict access app role with multiline format

commit 679972874630b51cf821a903ec1c636d5d9fdfd9
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 16:04:47 2015 -0700

    updates remove_authd_exemptions role to use multiline format

commit 05863d7d743a5f33497fabc025fbf69b3d56bbd1
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 16:00:29 2015 -0700

    updates ossec_server role to use multiline format

commit 9101df48e81bf0a6142a120131b7c06ddfcf695b
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 15:55:39 2015 -0700

    updates ossec_agent role to use multiline format

commit 063461a9fb0671bd7210b301995df6235b6380e3
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 15:52:26 2015 -0700

    updates install_local_pkgs role to use multiline format

commit 5e372e0da4511dd47b8233bfd25b8f25f0e912f0
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 15:51:27 2015 -0700

    updates fpf repo config to use multiline format

commit 17877af03a8e93e00172410e7bce7e81bc105959
Author: Kevin Gallagher <kevin@freedom.press>
Date:   Wed Apr 22 15:42:05 2015 -0700

    Update smtp.gmail.com fingerprint

commit f451be432989e768b9ed3cd9f388813bb382a174
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:46:40 2015 -0700

    updates development tasks to use multiline format

commit 3046fda07d14aafae955e2e4f01632de519db100
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:45:31 2015 -0700

    updates common-mon tor tasks to use multiline format

commit 0ec59cb4211ea199c94989dfc97c713eeebbd780
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:43:29 2015 -0700

    updates common-app tor tasks to use multiline format

commit 434872dd269857661fbf57273f6570963ec0b102
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:40:56 2015 -0700

    removes unused/empty handlers file from common role

commit 9bd39db76dd2df5fcce48c8f053a700bcdb3876d
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:40:25 2015 -0700

    adds TODO for sudo setup

commit a15108507f7b824a2b62653e2b8399f9f963c909
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:37:05 2015 -0700

    updates general sysctl flags tasks with multiline format

commit d3298cd16497f40e545e4c59e94d2c25b5fcea42
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:32:16 2015 -0700

    updates user creation tasks to use multiline format

commit 6a529bbb2cee6d2e28a9cfb865772d7b180761fd
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:29:32 2015 -0700

    updates grsec install tasks to use multiline format

commit cc5c4de1eb2b80d6aad378c76745c8333c7c8e14
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:21:46 2015 -0700

    adds multiline format and comments to grsec tasks

commit e48b1a2de72276c97f7430287d368f7bb9dff664
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:10:10 2015 -0700

    updates kernel module config to use multiline format

commit ef13a563c4a302c01d371a3c61c3408cfe38d7fd
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 14:08:02 2015 -0700

    updates cron-apt tasks to use multiline format

commit 6c94c62c4dbc56b74f46cfd59730a1baaa493ce6
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 13:43:19 2015 -0700

    updates build tasks to use multiline format

commit 67ab656cec6723615b549bb7a9026db31499787f
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 12:29:16 2015 -0700

    adds multiline format and comments to backup role

    There are two Ansible ""gotchas"" here:
      - file modes should be passed as strings
      - chdir doesn't work with async

    Links to corresponding documentation are included
    in the comments.

commit e2555df445a67acd1041f88ada417a9232620ec2
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:28:21 2015 -0700

    updates app-test tasks to multiline format

commit 40ff10af237207d4706d3a6676cebc7cee79a062
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:22:33 2015 -0700

    adds TODO comment

commit 2ca4c1a28ea9d078bbf83c90519d3071584ebdc3
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:22:25 2015 -0700

    fixes dict-style quoting in apache task

commit 5946bbc4ca672f1814a65f6ce905e4c77046f158
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:21:00 2015 -0700

    updates handlers to multiline format

commit f45794a94b9a4a0c5b1f6f375a1e6566259c0f38
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:20:51 2015 -0700

    updates fpf apt install tasks with multiline format

commit a0a979081af6e30dfe8160ddde4d6b0a5a60a34c
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:18:23 2015 -0700

    changes app tasks for apache to multiline format

commit 40163e20770ccc0b60d74270b6983ac6e8a26e98
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 11:16:50 2015 -0700

    updates app role initialization tasks to multiline format

commit 96a959ef82ccbce9fd12247706b59400ca037b02
Author: Conor Schaefer <conor@freedom.press>
Date:   Wed Apr 22 10:54:44 2015 -0700

    updates allow_direct_access tasks to multiline format"
conorsch,2015-04-24 22:27:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/269d72ee23d94ad0a4557fa15275bdb397e7b6e0,269d72ee23d94ad0a4557fa15275bdb397e7b6e0,"Merge pull request #1007 from conorsch/ansible-multiline-format

converts ansible tasks to multiline format, for readability and more informative diffs"
conorsch,2015-04-24 21:59:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/213d4a1d967cb4a9f1364d24e0c95daa2f73a91f,213d4a1d967cb4a9f1364d24e0c95daa2f73a91f,adds explicit comments and TODOs for bash additions
conorsch,2015-04-24 21:37:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc6e2d09700ba34e113e2fb0dfb2baf6d6010ab5,cc6e2d09700ba34e113e2fb0dfb2baf6d6010ab5,more verbose comment about setting `sudo: false`
conorsch,2015-04-24 21:30:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/92bc9e62417cef183508fe77c150b22581351bae,92bc9e62417cef183508fe77c150b22581351bae,"removes comment about cert generation for ossec authd

no longer relevant, see discussion in comment threads for #818 and #1007"
conorsch,2015-04-24 20:44:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1bf3bcec148b57739235eb435a6e76a8c53e3004,1bf3bcec148b57739235eb435a6e76a8c53e3004,cleans up digitalocean provider config
conorsch,2015-04-24 20:19:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed5f548c1156fef396dee39fc1f1a24dbc1e2933,ed5f548c1156fef396dee39fc1f1a24dbc1e2933,updates pinned task list with bundler action
conorsch,2015-04-24 20:08:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f915f9e2f320c6df6faf15001395aad83931007,9f915f9e2f320c6df6faf15001395aad83931007,"Merge branch 'develop' into snapci-serverspec

Conflicts:
	Vagrantfile
	install_files/ansible-base/roles/common/tasks/create_users.yml
	install_files/ansible-base/securedrop-staging.yml"
garrettr,2015-04-24 18:43:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/64a8719194b459622573d9a6b836f6ef010715d8,64a8719194b459622573d9a6b836f6ef010715d8,"Merge pull request #1005 from ageis/update-fingerprint

Update smtp.gmail.com fingerprint in yml files"
conorsch,2015-04-23 22:51:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/31d5f34f486e72c87f670d71c0da189772ca1d17,31d5f34f486e72c87f670d71c0da189772ca1d17,"Merge pull request #1002 from conorsch/serverspec-tests

adds a full suite of serverspec tests for tracking changes in the ansible config"
conorsch,2015-04-23 22:43:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/34c26eb3e65f0dc85b314c32d342527145c61044,34c26eb3e65f0dc85b314c32d342527145c61044,removes unnecessary quotes from command: task
conorsch,2015-04-23 22:43:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5c0074491b0fbefb51a2f02ccc0931466d72c7bf,5c0074491b0fbefb51a2f02ccc0931466d72c7bf,converts 'command:' task to multiline format via YAML folded scalar '>'
conorsch,2015-04-23 22:41:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/156602224068dedd9e0cc28f5fadc9ef001150a2,156602224068dedd9e0cc28f5fadc9ef001150a2,converts 'command:' task to multiline format via YAML folded scalar '>'
conorsch,2015-04-23 22:40:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c063a8b6d8aadb1a7069e8aa5cd1849df6a2f753,c063a8b6d8aadb1a7069e8aa5cd1849df6a2f753,removes unnecessary quotes from filepaths for file->dest:
conorsch,2015-04-23 22:39:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a4c953dd8160095b37c5e179cf07fffed7407d5d,a4c953dd8160095b37c5e179cf07fffed7407d5d,removes unnecessary quotes from stat path
conorsch,2015-04-23 22:37:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/784463a63a6c4a350d5cf7dc7ddcd66c864d972b,784463a63a6c4a350d5cf7dc7ddcd66c864d972b,removes unnecessary quotes from update-rc.d command
conorsch,2015-04-23 22:37:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ffc9d901cae75775f745e6f98a70518dce301592,ffc9d901cae75775f745e6f98a70518dce301592,removes unnecessary quotes from aa-complain command
conorsch,2015-04-23 22:22:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/92bec75fefa5c9c305627320a9f20ae0dc99c017,92bec75fefa5c9c305627320a9f20ae0dc99c017,"roll back file perms to octal format without special bit

issue #1006 will tackle standardizing format for file permissions,
this commit merely preserves the original functionality prior
to converting to multiline format."
conorsch,2015-04-23 22:13:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c15d3ff9200432b3530cd5b0b8abb5f399a546a,4c15d3ff9200432b3530cd5b0b8abb5f399a546a,fixes apache files perms by stringifying mode: parameter
conorsch,2015-04-23 21:58:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2be8fbaa9ff729c588286450a1b1da3c8b29ce92,2be8fbaa9ff729c588286450a1b1da3c8b29ce92,"converts restrict access mon fetch tasks to use multiline format

the `local_action: lineinfile` block still has kwargs format
due to ansible syntax quirks. this commit does make it
multiline, though, so diffs will still be improved."
conorsch,2015-04-23 21:54:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eaefdca2d36bd66c61d811d15eed4d9e9da897a4,eaefdca2d36bd66c61d811d15eed4d9e9da897a4,updates restrict access mon iptables config to use multiline format
conorsch,2015-04-23 21:54:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/353583ec5044f432c6d177857fe85c4e9d4d6120,353583ec5044f432c6d177857fe85c4e9d4d6120,updates restrict access mon tasks ssh config to use multiline format
conorsch,2015-04-23 21:53:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/44a395ba411af6590f95494fc5551e62938b0f51,44a395ba411af6590f95494fc5551e62938b0f51,updates restrict access mon handlers to use multiline format
conorsch,2015-04-23 21:24:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/93ac161a8cb59f3ebd4f499f6c06ffac08983c9c,93ac161a8cb59f3ebd4f499f6c06ffac08983c9c,"reverts ossec file permissions to decimal format

This is to preserve the original functionality of these
tasks, ensuring only formatting changes are made
for the time being. A separate issue, #1006, is
tracking fixing these."
conorsch,2015-04-23 20:55:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/35e0a64d36c7caad1c22ce675fefc9840c697419,35e0a64d36c7caad1c22ce675fefc9840c697419,fixes wsgi config files perms (stringifies file mode)
conorsch,2015-04-23 20:52:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1eaba46ab03b7e48281207671abb0b27a5c2d4af,1eaba46ab03b7e48281207671abb0b27a5c2d4af,fixes permissions in xvfb config (stringifies modes)
conorsch,2015-04-23 19:25:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/062766c0aff6bc7891a699733c441cb71288b4b8,062766c0aff6bc7891a699733c441cb71288b4b8,adds quotes to file mode to preserve original setting
conorsch,2015-04-22 23:10:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e4c54e876a9dc063e0c07b28124b7f62f4237a1b,e4c54e876a9dc063e0c07b28124b7f62f4237a1b,updates restrict access app role with multiline format
conorsch,2015-04-22 23:04:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/679972874630b51cf821a903ec1c636d5d9fdfd9,679972874630b51cf821a903ec1c636d5d9fdfd9,updates remove_authd_exemptions role to use multiline format
conorsch,2015-04-22 23:00:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/05863d7d743a5f33497fabc025fbf69b3d56bbd1,05863d7d743a5f33497fabc025fbf69b3d56bbd1,updates ossec_server role to use multiline format
conorsch,2015-04-22 22:55:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9101df48e81bf0a6142a120131b7c06ddfcf695b,9101df48e81bf0a6142a120131b7c06ddfcf695b,updates ossec_agent role to use multiline format
conorsch,2015-04-22 22:52:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/063461a9fb0671bd7210b301995df6235b6380e3,063461a9fb0671bd7210b301995df6235b6380e3,updates install_local_pkgs role to use multiline format
conorsch,2015-04-22 22:51:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5e372e0da4511dd47b8233bfd25b8f25f0e912f0,5e372e0da4511dd47b8233bfd25b8f25f0e912f0,updates fpf repo config to use multiline format
ageis,2015-04-22 22:42:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17877af03a8e93e00172410e7bce7e81bc105959,17877af03a8e93e00172410e7bce7e81bc105959,Update smtp.gmail.com fingerprint
conorsch,2015-04-22 21:46:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f451be432989e768b9ed3cd9f388813bb382a174,f451be432989e768b9ed3cd9f388813bb382a174,updates development tasks to use multiline format
conorsch,2015-04-22 21:45:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3046fda07d14aafae955e2e4f01632de519db100,3046fda07d14aafae955e2e4f01632de519db100,updates common-mon tor tasks to use multiline format
conorsch,2015-04-22 21:43:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ec59cb4211ea199c94989dfc97c713eeebbd780,0ec59cb4211ea199c94989dfc97c713eeebbd780,updates common-app tor tasks to use multiline format
conorsch,2015-04-22 21:40:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/434872dd269857661fbf57273f6570963ec0b102,434872dd269857661fbf57273f6570963ec0b102,removes unused/empty handlers file from common role
conorsch,2015-04-22 21:40:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9bd39db76dd2df5fcce48c8f053a700bcdb3876d,9bd39db76dd2df5fcce48c8f053a700bcdb3876d,adds TODO for sudo setup
conorsch,2015-04-22 21:37:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a15108507f7b824a2b62653e2b8399f9f963c909,a15108507f7b824a2b62653e2b8399f9f963c909,updates general sysctl flags tasks with multiline format
conorsch,2015-04-22 21:32:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d3298cd16497f40e545e4c59e94d2c25b5fcea42,d3298cd16497f40e545e4c59e94d2c25b5fcea42,updates user creation tasks to use multiline format
conorsch,2015-04-22 21:29:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a529bbb2cee6d2e28a9cfb865772d7b180761fd,6a529bbb2cee6d2e28a9cfb865772d7b180761fd,updates grsec install tasks to use multiline format
conorsch,2015-04-22 21:21:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc5c4de1eb2b80d6aad378c76745c8333c7c8e14,cc5c4de1eb2b80d6aad378c76745c8333c7c8e14,adds multiline format and comments to grsec tasks
conorsch,2015-04-22 21:10:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e48b1a2de72276c97f7430287d368f7bb9dff664,e48b1a2de72276c97f7430287d368f7bb9dff664,updates kernel module config to use multiline format
conorsch,2015-04-22 21:08:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef13a563c4a302c01d371a3c61c3408cfe38d7fd,ef13a563c4a302c01d371a3c61c3408cfe38d7fd,updates cron-apt tasks to use multiline format
conorsch,2015-04-22 20:43:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c94c62c4dbc56b74f46cfd59730a1baaa493ce6,6c94c62c4dbc56b74f46cfd59730a1baaa493ce6,updates build tasks to use multiline format
conorsch,2015-04-22 19:29:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/67ab656cec6723615b549bb7a9026db31499787f,67ab656cec6723615b549bb7a9026db31499787f,"adds multiline format and comments to backup role

There are two Ansible ""gotchas"" here:
  - file modes should be passed as strings
  - chdir doesn't work with async

Links to corresponding documentation are included
in the comments."
conorsch,2015-04-22 18:28:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2555df445a67acd1041f88ada417a9232620ec2,e2555df445a67acd1041f88ada417a9232620ec2,updates app-test tasks to multiline format
conorsch,2015-04-22 18:22:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/40ff10af237207d4706d3a6676cebc7cee79a062,40ff10af237207d4706d3a6676cebc7cee79a062,adds TODO comment
conorsch,2015-04-22 18:22:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ca4c1a28ea9d078bbf83c90519d3071584ebdc3,2ca4c1a28ea9d078bbf83c90519d3071584ebdc3,fixes dict-style quoting in apache task
conorsch,2015-04-22 18:21:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5946bbc4ca672f1814a65f6ce905e4c77046f158,5946bbc4ca672f1814a65f6ce905e4c77046f158,updates handlers to multiline format
conorsch,2015-04-22 18:20:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f45794a94b9a4a0c5b1f6f375a1e6566259c0f38,f45794a94b9a4a0c5b1f6f375a1e6566259c0f38,updates fpf apt install tasks with multiline format
conorsch,2015-04-22 18:18:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0a979081af6e30dfe8160ddde4d6b0a5a60a34c,a0a979081af6e30dfe8160ddde4d6b0a5a60a34c,changes app tasks for apache to multiline format
conorsch,2015-04-22 18:16:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/40163e20770ccc0b60d74270b6983ac6e8a26e98,40163e20770ccc0b60d74270b6983ac6e8a26e98,updates app role initialization tasks to multiline format
conorsch,2015-04-22 17:54:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96a959ef82ccbce9fd12247706b59400ca037b02,96a959ef82ccbce9fd12247706b59400ca037b02,updates allow_direct_access tasks to multiline format
conorsch,2015-04-22 17:50:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/83cbcecd42535d6091734a66b474f983546d388a,83cbcecd42535d6091734a66b474f983546d388a,"Merge pull request #1004 from conorsch/add-ansible-tags

adds ansible tags throughout playbooks and roles"
conorsch,2015-04-21 23:36:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c786852006ba13b3728c149a8741f918de1c7d11,c786852006ba13b3728c149a8741f918de1c7d11,adds tags to role inclusions in production playbook
conorsch,2015-04-21 23:18:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae1bd5fe9b16268694956b248bfcbfee41a9e003,ae1bd5fe9b16268694956b248bfcbfee41a9e003,adds tags to role inclusions in travis playbook
conorsch,2015-04-21 23:03:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/518519a6161d035518526e9cf8cda4cfe892d7e3,518519a6161d035518526e9cf8cda4cfe892d7e3,"adds tags ""validate"" and ""debug"" to validate role tasks"
conorsch,2015-04-21 23:02:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f5277f073587569dc42d1e21e9746e24deb6de87,f5277f073587569dc42d1e21e9746e24deb6de87,"adds ""reboot"" tag to reboot role"
conorsch,2015-04-21 23:01:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5dcf5d8a3e2bfe1d07a325d8cce9c0d28e6f440f,5dcf5d8a3e2bfe1d07a325d8cce9c0d28e6f440f,"adds tags ""build"", ""pip"", ""apt"", and ""cleanup"" to build-securedrop role tasks"
conorsch,2015-04-21 22:58:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01251bbf4c646747e2507ea2a6aaff70868d451d,01251bbf4c646747e2507ea2a6aaff70868d451d,"adds ""apt"" and ""build"" tags to build-securedrop role playbook"
conorsch,2015-04-21 22:57:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54b410cfa4278a144b9fd7f182d9363fc096f8c7,54b410cfa4278a144b9fd7f182d9363fc096f8c7,"adds ""build"" and ""script"" tags to build-generic-pkg role"
conorsch,2015-04-21 22:41:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d47bf9349343be05420d1554c9cfea2ff8e7240,8d47bf9349343be05420d1554c9cfea2ff8e7240,"adds tags ""collect"", ""script"", ""fetch"", ""restore"", ""srm"", and ""permissions"" to backup tasks"
conorsch,2015-04-21 22:37:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e6ca66356a60189a91ea8c92437237dd7f96f880,e6ca66356a60189a91ea8c92437237dd7f96f880,"adds tags ""ssh"" and ""iptables"" to allow direct access tasks"
conorsch,2015-04-21 22:35:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/440513cb91180e8700670732c26e4c2d7bc9f12d,440513cb91180e8700670732c26e4c2d7bc9f12d,"adds tags ""iptables"", ""ossec_auth"", and ""authd"" to exemption removal tasks"
conorsch,2015-04-21 22:33:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c0884f82d27b868ea29d8cee6d60d07434370e0,6c0884f82d27b868ea29d8cee6d60d07434370e0,"adds tags ""iptables"" and ""permissions"" to iptables config for mon-staging"
conorsch,2015-04-21 22:32:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8fce5aedafcd863601575544bc55706d67f65936,8fce5aedafcd863601575544bc55706d67f65936,"adds tags ""apt"", ""2fa"", ""ssh"", ""pam"", and ""permissions"" to ssh config for mon-staging"
conorsch,2015-04-21 22:30:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f1a773418d0d8f892b86be97917cf4c82b1c05ef,f1a773418d0d8f892b86be97917cf4c82b1c05ef,"adds tags ""tor"", ""fetch"", and ""admin"" to fetching tasks for mon-staging"
conorsch,2015-04-21 22:29:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d93f3819a27272ba14f59a384916dec7ee64f235,d93f3819a27272ba14f59a384916dec7ee64f235,"adds tags ""iptables"" and ""permissions"" to iptables config tasks"
conorsch,2015-04-21 22:26:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/784bee148c4cbd06b1214b6ba287edba4184ecc1,784bee148c4cbd06b1214b6ba287edba4184ecc1,"adds tags ""apt"", ""2fa"", ""ssh"", ""pam"", and ""permissions"" to ssh config tasks"
conorsch,2015-04-21 22:24:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa0b0bd93eafa4bff10cfaed863bcfaf2a742b95,aa0b0bd93eafa4bff10cfaed863bcfaf2a742b95,"adds tags ""tor"", ""fetch"", and ""admin"" to tor aths/ths fetching"
conorsch,2015-04-21 22:19:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/064ac1c6658d319ba588d0018f21a402236aeeef,064ac1c6658d319ba588d0018f21a402236aeeef,"adds ""ossec_auth"" and ""iptables"" tags to ossec_server tasks"
conorsch,2015-04-21 22:18:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c065f9c14da6d08cb80c15911ab77b8d7afaf317,c065f9c14da6d08cb80c15911ab77b8d7afaf317,"adds tags ""apt"", ""postfix"", ""permissions"", and ""hardening"" to postfix setup tasks"
conorsch,2015-04-21 22:17:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7efb807392e6fca1db61b459ed0540da5ffdd4c7,7efb807392e6fca1db61b459ed0540da5ffdd4c7,"adds tags ""apt"", ""procmail"", ""gpg"", ""permissions"", and ""logging"" to ossec_server setup tasks"
conorsch,2015-04-21 22:14:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f256feb39702f83bbb64ea76c0de6604677fb8ed,f256feb39702f83bbb64ea76c0de6604677fb8ed,"adds tags ""apt"", ""ossec_auth"", and ""iptables"" to ossec_agent tasks"
conorsch,2015-04-21 22:10:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c2e8201bbf7ca3a19ca5205582445bb1b9efbf8b,c2e8201bbf7ca3a19ca5205582445bb1b9efbf8b,"adds tags ""pip"", ""apt"", ""xvfb"", ""permissions"", and ""environment"" to xvfb config tasks"
conorsch,2015-04-21 22:06:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/af23a4d86dfe6b20b327562454f38342a260cb2d,af23a4d86dfe6b20b327562454f38342a260cb2d,"adds tags ""aa-complain"" and ""non-development"" to apparmor config tasks"
conorsch,2015-04-21 22:05:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb9d765b7f9c52f559386bac3d8a049efde03a55,eb9d765b7f9c52f559386bac3d8a049efde03a55,"adds tags ""apache"" and ""non-development"" to wsgi config tasks"
conorsch,2015-04-21 22:04:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2fc62a61893e9c373540b9b6a705b984c13dc630,2fc62a61893e9c373540b9b6a705b984c13dc630,"adds tags ""haveged"" and ""hardening"" to haveged config tasks"
conorsch,2015-04-21 22:04:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/16a4463a78246da2c3c040bdba34e959814dfb6b,16a4463a78246da2c3c040bdba34e959814dfb6b,"adds tag ""cron"" to cronjob config"
conorsch,2015-04-21 22:03:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/947a9714a721505343216dfb3285079fc843dc2c,947a9714a721505343216dfb3285079fc843dc2c,"adds tags ""supervisor"", ""permissions"", and ""logging"" to worker config"
conorsch,2015-04-21 22:01:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/480041b9444d005c6201872a7b60c90d48fa229c,480041b9444d005c6201872a7b60c90d48fa229c,"adds tags ""apt"", ""apache"", and ""hardening"" to apache config tasks"
conorsch,2015-04-21 21:58:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f34bb7fdfbd50836ea30b00bc5a12cae451e96ed,f34bb7fdfbd50836ea30b00bc5a12cae451e96ed,"adds tags ""apt"", ""securedrop_config"", ""gpg"", and ""database"" to app config tasks"
conorsch,2015-04-21 21:53:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0d8b0fb07b5b0c8344f8d47853ca9a8d5d4f7b3,f0d8b0fb07b5b0c8344f8d47853ca9a8d5d4f7b3,"adds tag ""apt"" to fpf install task for app role"
conorsch,2015-04-21 21:53:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae361cc757b63d21027dc330c64be5cc895580dd,ae361cc757b63d21027dc330c64be5cc895580dd,"adds tags ""apache"" and ""permissions"" to dir checks in app role"
conorsch,2015-04-21 21:49:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f21baf91e6ddbd5a04b950cfaa14cfbe73cc0747,f21baf91e6ddbd5a04b950cfaa14cfbe73cc0747,"adds tag ""install_local_pkgs"" to role tasks"
conorsch,2015-04-21 21:35:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d5262c75c4869fd66cd112b72de0056f1484cba2,d5262c75c4869fd66cd112b72de0056f1484cba2,"adds tag ""tor"" to tor config tasks (for app-staging)"
conorsch,2015-04-21 21:34:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07f432501ff082569ea48251e87262b918704891,07f432501ff082569ea48251e87262b918704891,"adds tags ""apt"" and ""tor"" to tor install tasks (for app-staging)"
conorsch,2015-04-21 21:26:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d1da8d8b129afbc20350c2ca6c5021de34b9b01,9d1da8d8b129afbc20350c2ca6c5021de34b9b01,"adds tags ""host_aliases"" and ""static-hosts"" to /etc/hosts config (for app-staging)"
conorsch,2015-04-21 21:24:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ba7b80fd666981b6f1af055914eea30e6622053,4ba7b80fd666981b6f1af055914eea30e6622053,"adds tag ""tor"" to install config tasks"
conorsch,2015-04-21 21:21:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5c4bb8f98719dd7db4ddd08e27308c55d69fea06,5c4bb8f98719dd7db4ddd08e27308c55d69fea06,"adds tags ""apt"" and ""tor"" to tor install tasks"
conorsch,2015-04-21 21:20:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f31746c753c884a6e314b1aaa603677b3ab7bb2b,f31746c753c884a6e314b1aaa603677b3ab7bb2b,"adds tags ""host_aliases"" and ""static-hosts"" to /etc/hosts tasks"
conorsch,2015-04-21 21:15:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6adb0357b57cfbc3046dfd35828471ca84ae1c46,6adb0357b57cfbc3046dfd35828471ca84ae1c46,"adds tag ""swapspace"" to disable swap space task"
conorsch,2015-04-21 21:13:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/08b424c2e93bf5a0823bb9c53c02710be1d065f2,08b424c2e93bf5a0823bb9c53c02710be1d065f2,"adds tags ""grsec"", ""reboot"", ""hardening"", and ""sysctl"" to grsec lock tasks"
conorsch,2015-04-21 21:11:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8403d3557fcab8a98eac71f2db212017bd38feb,a8403d3557fcab8a98eac71f2db212017bd38feb,"adds tags ""sysctl"" and ""hardening"" to sysctl tasks"
conorsch,2015-04-21 21:11:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7511e98198f81f05a0b3f31d15cfc0a52b8f0131,7511e98198f81f05a0b3f31d15cfc0a52b8f0131,"adds tags ""apt"", ""cron-apt"", and ""reboot"" to cron-apt tasks"
conorsch,2015-04-21 21:06:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae6e435fd6920ae2c39894272f2c98f178a17cbb,ae6e435fd6920ae2c39894272f2c98f178a17cbb,"adds tags ""apt"", ""kernel"", ""hardening"", and ""grsec"" to fpf grsec tasks"
conorsch,2015-04-21 20:42:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8bee0728b126ee491edbcd4e9bac01446592d78a,8bee0728b126ee491edbcd4e9bac01446592d78a,"adds ""apt"" and ""ntp"" tags to ntp install task"
conorsch,2015-04-21 20:41:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb1b05b85b0ea2d9b203d5cccd5c36e2c4e13c17,eb1b05b85b0ea2d9b203d5cccd5c36e2c4e13c17,"adds tags ""kernel"" and ""hardening"" to kernel module blacklisting"
conorsch,2015-04-21 20:35:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/230db5fbbe76b5ac78e87af690cafe4b5264ada7,230db5fbbe76b5ac78e87af690cafe4b5264ada7,adds tags for dns tasks
conorsch,2015-04-21 20:35:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d60ddc87351d9cd481097998127a99a862588913,d60ddc87351d9cd481097998127a99a862588913,"adds tags ""users"" and ""environment"" to create_users tasks"
conorsch,2015-04-21 20:31:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/af62d8058663f59d87d59d2259886c873831e770,af62d8058663f59d87d59d2259886c873831e770,adds tags to fpf repo tasks
conorsch,2015-04-21 20:12:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a016eb404a52588b788fce93fbbca0b3a560dcab,a016eb404a52588b788fce93fbbca0b3a560dcab,adds more tags to role includes in staging playbook
conorsch,2015-04-21 20:05:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a37dc718e1c3cc935dd0fc93e9077a41fca9faa9,a37dc718e1c3cc935dd0fc93e9077a41fca9faa9,adds tags to role includes in development playbook
conorsch,2015-04-21 20:04:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d2ea2420fc71f5de72954178131d602c9f5a268,1d2ea2420fc71f5de72954178131d602c9f5a268,adds tags to tasks in development role
conorsch,2015-04-21 17:44:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/186faaefcc7fa638819aa13ae7025204dc8d4ca8,186faaefcc7fa638819aa13ae7025204dc8d4ca8,"fixes gpg check for ossec server key

previous test had unintended side-effects, since it
ran the --import command. new test merely lists keys and
validates output"
conorsch,2015-04-21 17:39:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/010f510656375e9d574ec9919bc6e9342dd4367b,010f510656375e9d574ec9919bc6e9342dd4367b,"fixes gpg check for test app key

previous test had unintended side-effects, since it
ran the --import command. new test merely lists keys and
validates output."
conorsch,2015-04-21 17:28:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/60603dca1cf0562f8d967d1749f2ae15563e36a9,60603dca1cf0562f8d967d1749f2ae15563e36a9,require 'spec_helper' in all spectests via .rspec
conorsch,2015-04-21 03:00:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eea536e4deb30b8b71d4e1f1f5e45b670c17bd52,eea536e4deb30b8b71d4e1f1f5e45b670c17bd52,removes duplicate default html dir test from app-staging
ageis,2015-04-21 00:34:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/710ea19bfd9cfa0585d6eafff525c772a1142dae,710ea19bfd9cfa0585d6eafff525c772a1142dae,Add unit test
conorsch,2015-04-20 22:28:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dfed4b522f0780d5be5dea14e5c14f0a9dfc9133,dfed4b522f0780d5be5dea14e5c14f0a9dfc9133,"updates selenium version in spectests for development

see cb6897eae7673dcf48cdbc556627f4ba21e40c74 for related change
only development sees the newest pip requirements file; the
app-staging role still grabs the reqs from the .deb file,
so these versions are different."
garrettr,2015-04-20 21:50:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e980e78aa9ba03a846ee84ab6baa93fb6c63ea00,e980e78aa9ba03a846ee84ab6baa93fb6c63ea00,"Merge pull request #989 from JMPorup/develop

update %s notation to new .format syntax"
garrettr,2015-04-20 21:39:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d359c1383c93a5139b9e7a33b3b19690463a6727,d359c1383c93a5139b9e7a33b3b19690463a6727,"Merge pull request #996 from dolanjs/upgrade-helper-script-fixes

Upgrade helper script fixes"
conorsch,2015-04-20 20:54:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c860cd85e3e89ff2470f7d9f334be17075680f53,c860cd85e3e89ff2470f7d9f334be17075680f53,"makes digitalocean plugin optional

vagrant-digitalocean is needed only in snap-ci (for now),
so don't require normal contributors to have it installed locally."
conorsch,2015-04-20 20:35:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2e7bb71fa583d1b57c23a8c5316cbf47d9ac09f8,2e7bb71fa583d1b57c23a8c5316cbf47d9ac09f8,Merge branch 'develop' into serverspec-tests
conorsch,2015-04-20 20:31:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87b8130556b2eb7772c4a9e0b8a7fd6f52ddf8a0,87b8130556b2eb7772c4a9e0b8a7fd6f52ddf8a0,adds section on spectest layout to docs
conorsch,2015-04-20 20:08:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1137ba23405be168aa0e3374c822d592607001a4,1137ba23405be168aa0e3374c822d592607001a4,adds link to spec_tests doc in develop.md
conorsch,2015-04-20 19:49:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58a86d595ab0666d9c67de6b80ef8e46d5ce7514,58a86d595ab0666d9c67de6b80ef8e46d5ce7514,adds TODO for spectests
conorsch,2015-04-20 19:48:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/72831a51cae55c090978f72bf4d97c34aaf0c496,72831a51cae55c090978f72bf4d97c34aaf0c496,adds info on updating/adding tests to spectest docs
conorsch,2015-04-20 18:52:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b75b14a3dad89648b7226263414e116af5a53fd,5b75b14a3dad89648b7226263414e116af5a53fd,adds urls to serverspec docs
conorsch,2015-04-20 18:38:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78fda5f2c1b0c429e4aebbaa4265f0710cd6a418,78fda5f2c1b0c429e4aebbaa4265f0710cd6a418,adds example of serverspec test isolation to docs
conorsch,2015-04-20 18:35:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1cf41ff1926250663f27b634cc60137e04020522,1cf41ff1926250663f27b634cc60137e04020522,adds docs on running tests and creating vms
conorsch,2015-04-20 18:28:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/93010eb0804f576112da04f8e7055306b39342e0,93010eb0804f576112da04f8e7055306b39342e0,updates docs for running spectests
conorsch,2015-04-20 18:11:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f9206aa84b1c549c975f4954b3e5ea131164014b,f9206aa84b1c549c975f4954b3e5ea131164014b,custom def for reading vars files
conorsch,2015-04-20 18:06:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/796e7f7c8a745a4a7bf658784cd6005d8009147a,796e7f7c8a745a4a7bf658784cd6005d8009147a,more readable spectest output
conorsch,2015-04-20 18:04:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2108f6f0b11e759e9e275afd6428c6a0eaab79bb,2108f6f0b11e759e9e275afd6428c6a0eaab79bb,move app worker config tests to common
conorsch,2015-04-20 18:01:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98211f07d59e757ba38b1b77d3ba4a7f5596d9d3,98211f07d59e757ba38b1b77d3ba4a7f5596d9d3,adds dev-specific logo check
conorsch,2015-04-20 18:00:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fffdd3346e6aedea912367e46242a1268e502c00,fffdd3346e6aedea912367e46242a1268e502c00,moves app config tests to common
conorsch,2015-04-20 17:43:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa98914a0a37167335013b1300a598b6b573121b,fa98914a0a37167335013b1300a598b6b573121b,"separates cron-apt checks for app-staging and development, since ansible role has var hard-coded"
conorsch,2015-04-20 17:40:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07fb8954ab25465b41c33b75a16413613a9ca85e,07fb8954ab25465b41c33b75a16413613a9ca85e,removes duplicate haveged checks
conorsch,2015-04-20 17:35:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c0eea989b9e974d14f9e1c0f911ff3b06bcc03cb,c0eea989b9e974d14f9e1c0f911ff3b06bcc03cb,moves cron-apt config tests into common
conorsch,2015-04-20 17:31:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b2907a142a29e1279cb1d9e19477721db2badc37,b2907a142a29e1279cb1d9e19477721db2badc37,moves haveged tests to common
conorsch,2015-04-20 17:28:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/431f17623430ed695ad915e639ef07822901c98b,431f17623430ed695ad915e639ef07822901c98b,dynamic vars for dev dirs
conorsch,2015-04-20 17:28:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d67d3137ea3b5f8b28b17cabfa3d9d42ba6c298,6d67d3137ea3b5f8b28b17cabfa3d9d42ba6c298,removes duplicate checks from app-staging
conorsch,2015-04-20 17:28:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d47b621bf1b6902d10d452ed89ee845fc0b1c29f,d47b621bf1b6902d10d452ed89ee845fc0b1c29f,adds common app-spec
conorsch,2015-04-20 17:14:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5d1ce515a800fad2d5149a36e0787bbe3d24ad23,5d1ce515a800fad2d5149a36e0787bbe3d24ad23,more dynamic vars for app-staging
conorsch,2015-04-20 17:10:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e23cdbb29632919c872de41adec56af5be6fe4c1,e23cdbb29632919c872de41adec56af5be6fe4c1,adds dynamic vars for app-staging dir tests
conorsch,2015-04-20 17:07:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/79dc21998f466d01a85130bee40ca9d360304f38,79dc21998f466d01a85130bee40ca9d360304f38,adds dynamic-var-based testing for dev-only
conorsch,2015-04-20 17:02:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a79d724a8d7e7b55c6f399280fbae5df94f98aa1,a79d724a8d7e7b55c6f399280fbae5df94f98aa1,starts adding dev-only checks of app spec
conorsch,2015-04-20 16:55:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/216051aabe406674c1b604ce61684e0e7dba2bfd,216051aabe406674c1b604ce61684e0e7dba2bfd,ensures apache2 is not installed in development
conorsch,2015-04-17 23:47:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04e39261942c8c4f0afe7feb29eab1d719e3e46a,04e39261942c8c4f0afe7feb29eab1d719e3e46a,updates development and app-staging spec driver to include common-development dir
conorsch,2015-04-17 23:46:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9be6bab53517fa9326ed63957b7a2ad01b2b511c,9be6bab53517fa9326ed63957b7a2ad01b2b511c,moves xvfb spectests into a shared dir
conorsch,2015-04-17 23:35:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fff660028c9278b7bf5888d75d187c3b57426e2e,fff660028c9278b7bf5888d75d187c3b57426e2e,ports remainder of apache spec for app-staging to use test-vars for securedrop-code
conorsch,2015-04-17 23:34:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/620d2793251db27b0be0e84112ba1078cc2c97c3,620d2793251db27b0be0e84112ba1078cc2c97c3,ports most of apache spec for app-staging to use test-vars for securedrop_code
conorsch,2015-04-17 23:29:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fd35fb743c3a333f8afdf2bb1d3c0e5cd3bdb06e,fd35fb743c3a333f8afdf2bb1d3c0e5cd3bdb06e,updates app-staging app tests to use test vars
conorsch,2015-04-17 23:25:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b3b3cc4a44cf1146db472f44877920f57a644d56,b3b3cc4a44cf1146db472f44877920f57a644d56,adds import of test vars for app-staging
conorsch,2015-04-17 22:45:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d75164f194718c8bd82fb9c1de6ece8745ae94e,8d75164f194718c8bd82fb9c1de6ece8745ae94e,load vars for development role
conorsch,2015-04-17 22:23:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/750ef8e27a3a00fe13b32869ab7beabed5f423c9,750ef8e27a3a00fe13b32869ab7beabed5f423c9,adds development-specific vars file
conorsch,2015-04-17 21:38:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/34dc053076c493baf95f3cbe9afdbd9390bf5818,34dc053076c493baf95f3cbe9afdbd9390bf5818,removes serverspec references from vagrantfile
conorsch,2015-04-17 21:29:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1808deff217199ca9ad04a09088b05ae1668b4f5,1808deff217199ca9ad04a09088b05ae1668b4f5,updates gitignore with spectests gems dir
conorsch,2015-04-17 21:26:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ee7a35150bac2b358fbb03e6d043c3854d4051a,0ee7a35150bac2b358fbb03e6d043c3854d4051a,adds comments to Rakefile
conorsch,2015-04-17 21:18:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d0466ec1ceadadfe352c8893073cb440779e65f3,d0466ec1ceadadfe352c8893073cb440779e65f3,fix case statement in roles def to append roles properly
conorsch,2015-04-17 21:14:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/816f7820603fcda54d975ba801f1d44280b9802b,816f7820603fcda54d975ba801f1d44280b9802b,use role-based pragma for determining which spectests to run
conorsch,2015-04-17 21:07:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/647c706abfd7dcbe7ab0e4d54c7adc092b2635fc,647c706abfd7dcbe7ab0e4d54c7adc092b2635fc,move role() def to top of file
conorsch,2015-04-17 21:01:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99469b7234f54dfbf4f9c6980bf24f6b79cc73b5,99469b7234f54dfbf4f9c6980bf24f6b79cc73b5,fixes host array declaration in Rakefile
conorsch,2015-04-17 20:55:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a6f7c1a7892d5ec5a974d170cfae2490b53d66c1,a6f7c1a7892d5ec5a974d170cfae2490b53d66c1,adds function for associating roles with hosts
conorsch,2015-04-17 20:54:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/25f1423b1470af6f1bb4e5824a9c7129f5101da6,25f1423b1470af6f1bb4e5824a9c7129f5101da6,explicitly declare hosts array
conorsch,2015-04-17 20:47:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d139a6ac489c291f6161aa3502982101a8a307f8,d139a6ac489c291f6161aa3502982101a8a307f8,adds spec_helper requirement to common-staging spectests
conorsch,2015-04-17 20:34:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9a37a4097f8df01a5edc2cc0791b8ff8b66b54a7,9a37a4097f8df01a5edc2cc0791b8ff8b66b54a7,adds spec_helper requirement to mon-staging tests
conorsch,2015-04-17 20:31:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2e96da90e1d9657bee1ddf31ac7ca9a4a015e58e,2e96da90e1d9657bee1ddf31ac7ca9a4a015e58e,adds spec_helper requirement to app-staging tests
conorsch,2015-04-17 20:28:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/697d43e722f8ca98514054935c682e1d6f904346,697d43e722f8ca98514054935c682e1d6f904346,generalize spec_helper for all hosts
conorsch,2015-04-17 20:27:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/26c2950be4859fa5a4ba0dcf2bf9d8dbbd89bf25,26c2950be4859fa5a4ba0dcf2bf9d8dbbd89bf25,adds spec_helper to build spectests
conorsch,2015-04-17 20:26:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7702f504c5d7ce59f8bbab5d9c64527ae8fa2b4b,7702f504c5d7ce59f8bbab5d9c64527ae8fa2b4b,adds .rspec file with colorized output
conorsch,2015-04-17 20:20:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/463ddec61b45f00a1c12e8c3e1b21318c9499bd6,463ddec61b45f00a1c12e8c3e1b21318c9499bd6,adds spec_helper requirement to development spectests
conorsch,2015-04-17 20:19:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39a5d141401b69fa2ec964921708033734d64f22,39a5d141401b69fa2ec964921708033734d64f22,"ports spec_helper to serverspec v2 format

this file was automatically generated via the new serverspec-init"
conorsch,2015-04-17 20:19:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3423cce247a8d5e51035377840839bfa413f649d,3423cce247a8d5e51035377840839bfa413f649d,isolate development vm for spectests
conorsch,2015-04-17 20:18:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27e56ab7677461f02fcef503f644404a49053deb,27e56ab7677461f02fcef503f644404a49053deb,moves old Rakefile and spec_helper back to old location
conorsch,2015-04-17 19:08:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4e5b8b748b25bb81e95a8d6bc8e6ba20521c95c5,4e5b8b748b25bb81e95a8d6bc8e6ba20521c95c5,move old Rakefile and spec_helper.rb aside
conorsch,2015-04-17 17:37:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30e8d3da1ba1514556197e1baa573855aec3c79a,30e8d3da1ba1514556197e1baa573855aec3c79a,adds check for SECUREDROP_ENV var
conorsch,2015-04-17 17:14:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/787a53df46c73416e852e3d14db593d740b96388,787a53df46c73416e852e3d14db593d740b96388,adds tests for pip dependencies
conorsch,2015-04-17 17:08:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d5aa140318f16f6ebdcfcaaf71f4218951321bf7,d5aa140318f16f6ebdcfcaaf71f4218951321bf7,starts spectests for development role
conorsch,2015-04-17 16:55:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/25f25c27ef5986445959d2ea376bc22c0d3095fb,25f25c27ef5986445959d2ea376bc22c0d3095fb,adds a bit of superficial validation for package control fields
conorsch,2015-04-17 16:36:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/011f4a0b1489b6ddb737e3f1c00ee6c2ad83f6f9,011f4a0b1489b6ddb737e3f1c00ee6c2ad83f6f9,adds check for package name in dpkg dry-run
conorsch,2015-04-17 16:35:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/65ab4940290625ec3bebcfb5416716a01bc8b143,65ab4940290625ec3bebcfb5416716a01bc8b143,adds some regexes to cut up filenames
conorsch,2015-04-17 16:32:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ec6be9780fc218fce9ce462c92acc34891b3526,4ec6be9780fc218fce9ce462c92acc34891b3526,adds test for appcode deb presence
conorsch,2015-04-17 16:30:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a70299f2b22f2906039e442a76e4a3483c283ec,7a70299f2b22f2906039e442a76e4a3483c283ec,adjusts dirs  being tested
ageis,2015-04-17 01:27:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3609cedeb6722f8e7086930fa689c8b6a92129be,3609cedeb6722f8e7086930fa689c8b6a92129be,Strip leading + trailing whitespaces from codename
conorsch,2015-04-17 00:19:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eda897454a302f0a9c94dfde17fb423baa658eff,eda897454a302f0a9c94dfde17fb423baa658eff,adds dir/deb tests for build vm
conorsch,2015-04-16 23:57:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/94b2a8ba19036c38d45a9906e5088a8810a628c4,94b2a8ba19036c38d45a9906e5088a8810a628c4,adds check for pip wheelhouse for build vm
conorsch,2015-04-16 23:53:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ffd99280a2bfdec7ba2e077de1da9584dbbae458,ffd99280a2bfdec7ba2e077de1da9584dbbae458,starts spectests for build vm
conorsch,2015-04-16 23:48:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87ae89f3021054a17956804d999f7e914c9aae88,87ae89f3021054a17956804d999f7e914c9aae88,adds check to ensure authd is NOT running
conorsch,2015-04-16 23:47:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e7fce915e23af028f524a3c990f3bd01e0b48220,e7fce915e23af028f524a3c990f3bd01e0b48220,adds a different format for unwanted iptables rules for mon-staging
conorsch,2015-04-16 21:28:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6cdf0bc7131a231f50d2c745ce4612683d21da19,6cdf0bc7131a231f50d2c745ce4612683d21da19,more readable iptables spec for app-staging
conorsch,2015-04-16 21:17:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/061219addd971c93ef9e9d0e0a7e7991c757b643,061219addd971c93ef9e9d0e0a7e7991c757b643,more readable iptables spec for mon-staging
conorsch,2015-04-16 20:54:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c71bcf8d210e26387ed001e77bb93735db846ce9,c71bcf8d210e26387ed001e77bb93735db846ce9,removes duplicate iptables checks for mon-staging
conorsch,2015-04-16 20:50:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b2c023396afa158b6a4c47b4fe85a5ef01191e75,b2c023396afa158b6a4c47b4fe85a5ef01191e75,fix ip address for mon-staging
conorsch,2015-04-16 20:46:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c1aecd69c9c4e831a5100fe936ebb547d43d2224,c1aecd69c9c4e831a5100fe936ebb547d43d2224,removes duplicate iptables checks from app-staging
conorsch,2015-04-16 20:20:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7470d5e0f00f29fce3cf038b9182a60cb30f6e8e,7470d5e0f00f29fce3cf038b9182a60cb30f6e8e,"adds checks for xvfb service, also TODOs"
conorsch,2015-04-16 19:28:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a04c4ea83aaf7da0ab4566bb9878d9a1b4ca5ce5,a04c4ea83aaf7da0ab4566bb9878d9a1b4ca5ce5,adds tests for xvfb config
conorsch,2015-04-16 19:15:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cdeccf16450e94e9f356b71678d4e4b282e10efc,cdeccf16450e94e9f356b71678d4e4b282e10efc,adds test for xvfb init script presence
conorsch,2015-04-16 19:08:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45df7713ffc8a591084de68162f3f42522784586,45df7713ffc8a591084de68162f3f42522784586,adds spectests for apt package dependencies for testing
conorsch,2015-04-16 19:05:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3495ffa6c9fa03dc702889ea6a3d91d3eb6beb6d,3495ffa6c9fa03dc702889ea6a3d91d3eb6beb6d,adds check for app-test pip dependencies
conorsch,2015-04-16 19:01:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01fe5ae9475a9b3b37798299ec1a3100f27e57da,01fe5ae9475a9b3b37798299ec1a3100f27e57da,begins spectests for app-test role
garrettr,2015-04-16 18:35:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/73a2a1796c6e0f3401df1f4507f82cb12e843bee,73a2a1796c6e0f3401df1f4507f82cb12e843bee,"Update README for 0.3pre upgrade

* Add TODO note for documenting how to perform the upgrade with Ansible"
garrettr,2015-04-16 18:32:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bfdaf01f4e4246199eda4b26983c0ceeeab7bcaf,bfdaf01f4e4246199eda4b26983c0ceeeab7bcaf,"Check 0.3 migration script, minor fixes

* Rename crypto_util.py to old_crypto_util.py to avoid confusion with
  the current version of crypto_util.py. This did not cause problems
  because we add the current SecureDrop code root,
  `/var/www/securedrop`, to the path *after* importing the old crypto
  util code, but if that order were reversed it would break the
  script. Being explicit here helps avoid potential bugs that could be
  caused by future refactoring.
* Add a comment for why we require a journalist to exist before running
  the migration."
conorsch,2015-04-16 18:29:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e9dbed28b1da585321a1e1b171a79e9498d16d3,7e9dbed28b1da585321a1e1b171a79e9498d16d3,adds checks for haveged service config
conorsch,2015-04-16 18:28:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/607b05402741fbd8a867d37c4e95d08e412e5c3d,607b05402741fbd8a867d37c4e95d08e412e5c3d,adds check for tmp cleanup cronjob
conorsch,2015-04-16 18:23:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/46bbf3db6eb2d82de3f3f4b0c683b43e50dcdf30,46bbf3db6eb2d82de3f3f4b0c683b43e50dcdf30,adds test for worker config
conorsch,2015-04-16 18:03:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/13d14e7150764cd047858263cc22448275a0622b,13d14e7150764cd047858263cc22448275a0622b,touch up comments
conorsch,2015-04-16 18:00:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/972ec3500a6e20e5661fd3402e1e5f1d715f8e4c,972ec3500a6e20e5661fd3402e1e5f1d715f8e4c,more readable checks for apache modules
conorsch,2015-04-16 17:52:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/91301a34c3a4919ba775acd134a245ce615f00b5,91301a34c3a4919ba775acd134a245ce615f00b5,adds check for common apache directory declarations
garrettr,2015-04-16 01:00:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f1eb0d33314f63a30ec1f771e6d5412081a8b14f,f1eb0d33314f63a30ec1f771e6d5412081a8b14f,"Name migration script directory for the version it migrates *from*

When you do a migration, you're starting with an existing system with a
known version; therefore, it makes more sense to group migration scripts
by the version they are migrating *from* rather than the version they
are migration *to*. This is also better because it is conceivable for
multiple base versions (e.g. 0.2.1 *and* 0.3pre) to need migration
support to a single version (e.g. 0.3).

This creates a consistent naming scheme for all of the directories in
`migration_scripts`, because 0.3pre was already the set of scripts used
to migration 0.3pre installations to 0.3."
garrettr,2015-04-16 00:59:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e1b9fe4b1416bccda9d64cf608f8898b363ab4bc,e1b9fe4b1416bccda9d64cf608f8898b363ab4bc,Refactor 0.2.1_collect.py and add better logging
garrettr,2015-04-16 00:55:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be9ff14c84225112fb7eb5a603fef9a076825a9d,be9ff14c84225112fb7eb5a603fef9a076825a9d,README formatting
garrettr,2015-04-16 00:29:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0f67009c640f819a02cd74a8ede2aa6ceb55cba6,0f67009c640f819a02cd74a8ede2aa6ceb55cba6,"Merge branch 'develop' into check-migration-scripts-for-0.3

Fix conflicts in migration scripts caused by parallel editing in
check-migration-scripts-for-0.3 and develop. Most of the edits from
develop were stylistic (part of PEP8 PR's), whereas most of the edits
from check-migration-scripts-for-0.3 were functional improvements or
fixes."
conorsch,2015-04-16 00:10:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/123b3126f2d8390652e4171cb225ebb5904cf851,123b3126f2d8390652e4171cb225ebb5904cf851,adds config checks specific to document interface
conorsch,2015-04-16 00:07:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e938cfe0a8f7f74e1cddc7d49369267b7e718911,e938cfe0a8f7f74e1cddc7d49369267b7e718911,adds config checks specific to source interface
conorsch,2015-04-15 23:57:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99326eaeaf554aa5b4c19dee7411e381b5d73cc0,99326eaeaf554aa5b4c19dee7411e381b5d73cc0,adds explicit checking of common apache headers for source and document interfaces
conorsch,2015-04-15 23:52:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ece381748e715c3bf803f5374b08ba37fe761eaf,ece381748e715c3bf803f5374b08ba37fe761eaf,"adjusts apache header capitalization for consistency

In the config for the document interface, the Apache header
was listed as ""X-download-Options"", but in the source interface
it was listed as ""X-Download-Options"". This commit updates
the document interface to use the same capitalization schema
as the source interface. (This makes serverspec testing cleaner.)"
conorsch,2015-04-15 23:36:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fbf4950a018850e85ff5d8aa9d2126c81b54db31,fbf4950a018850e85ff5d8aa9d2126c81b54db31,more explicit apache tests
conorsch,2015-04-15 23:19:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ec31ea7a9915321f4c31c312ae1971d9f9306af,6ec31ea7a9915321f4c31c312ae1971d9f9306af,adds checks for app db and logo
conorsch,2015-04-15 23:12:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f03e1cef66335a74834a775b24e6b855281f261,7f03e1cef66335a74834a775b24e6b855281f261,adds check for staging journalist pubkey in config.py
conorsch,2015-04-15 22:49:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/790b27c9f6b3cda0326ab10ce6ff81a18d640f57,790b27c9f6b3cda0326ab10ce6ff81a18d640f57,adds gpg key tests for app role
conorsch,2015-04-15 22:44:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a76d43a6bfd83a321fba08027b45148b6a19d77,1a76d43a6bfd83a321fba08027b45148b6a19d77,adds tests for package dependencies for app role
conorsch,2015-04-15 22:42:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/267c68d1a734bc829096c7fbc660f3c560e4e43a,267c68d1a734bc829096c7fbc660f3c560e4e43a,adds tests for application dir mode and perms
conorsch,2015-04-15 20:58:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ecca360cc53b40f816da6ac5f7467a9d8e3fb4b,6ecca360cc53b40f816da6ac5f7467a9d8e3fb4b,terser comments for app iptables tests
conorsch,2015-04-15 19:00:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d96da4cf3c7d876878ed09afdfc735d9698d0679,d96da4cf3c7d876878ed09afdfc735d9698d0679,adds tests for ossec-agent packages and keyfile
conorsch,2015-04-15 18:51:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58e5bae0dcb82cd811e75c883c32a47d3cf3ae68,58e5bae0dcb82cd811e75c883c32a47d3cf3ae68,begins spectests for ossec-agent role
conorsch,2015-04-15 18:47:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa9a859a1568cb36e1e6e238603bbe1a070fb26e,fa9a859a1568cb36e1e6e238603bbe1a070fb26e,renames ossec spectests for mon for clarity
conorsch,2015-04-15 18:45:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d59f8e2097ebdbc51bf5f5a3207b0246d7213cb,9d59f8e2097ebdbc51bf5f5a3207b0246d7213cb,adds tests for app-specific torrc settings
conorsch,2015-04-15 18:45:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e48d44bcc19551d2284eec5fdfcd6a58d23a34b1,e48d44bcc19551d2284eec5fdfcd6a58d23a34b1,adds tests for common torrc settings
conorsch,2015-04-15 18:23:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/403764efef0b9da27618d6245c13aa3b4ffecb70,403764efef0b9da27618d6245c13aa3b4ffecb70,adds check for tor service to common
conorsch,2015-04-15 18:19:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/984f0e788bcd82112c6d1ccb4a842c89cddf2818,984f0e788bcd82112c6d1ccb4a842c89cddf2818,terser comments in ossec-server iptables checks
conorsch,2015-04-15 17:54:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe4507fd99bffaa2bd5d5a0144f474d328896656,fe4507fd99bffaa2bd5d5a0144f474d328896656,adds spectests for ossec-server procmailrc
conorsch,2015-04-15 17:49:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a6634ff5c183ca2a8453961da0c7ce3fe6de2bb,7a6634ff5c183ca2a8453961da0c7ce3fe6de2bb,adds TODO comments around file perms for ossec alerts
conorsch,2015-04-15 17:46:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d491a4b5c0c2015df09de901c1624308c7df7c63,d491a4b5c0c2015df09de901c1624308c7df7c63,adds tests for gpg pubkeys for ossec-server
conorsch,2015-04-15 17:30:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/259e0a90a02c21e911b75da2c8c9bd7ff891783b,259e0a90a02c21e911b75da2c8c9bd7ff891783b,ensure keyfiles exist for ossec-server
conorsch,2015-04-15 17:10:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c7e2aaa5223503a5e4179dfee9a0562d4a37674f,c7e2aaa5223503a5e4179dfee9a0562d4a37674f,ensure ossec-server sees app-staging host as available
conorsch,2015-04-15 16:51:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c83dc8ffddc2ca50ab5a12e341172bf77f82e37,4c83dc8ffddc2ca50ab5a12e341172bf77f82e37,adds list of desired postfix settings for ossec-server role
conorsch,2015-04-15 16:44:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/072571e3135e1bfc6b3826969dda46b3ffcc52b1,072571e3135e1bfc6b3826969dda46b3ffcc52b1,adds several ossec-server spectests
ageis,2015-04-15 00:07:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e38f58af84acd9bdb6070c13543f78c3de5c6d78,e38f58af84acd9bdb6070c13543f78c3de5c6d78,Rename tails_files/upgrade.sh to migration_scripts/0.3/upgrade.sh
conorsch,2015-04-15 00:07:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f4574925a06875aef4c53c0877a37a2c1f3388b3,f4574925a06875aef4c53c0877a37a2c1f3388b3,adds checks for tor services dir
conorsch,2015-04-14 23:52:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff13ec5a9b842985994f54b9abf684c3d397c9c6,ff13ec5a9b842985994f54b9abf684c3d397c9c6,adds spectests for tor repo to common
ageis,2015-04-14 23:51:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec0f591955951933ebc5722cb5e0ee5227383249,ec0f591955951933ebc5722cb5e0ee5227383249,"Merge pull request #995 from ageis/upgrade-helper-script

Upgrade validation pre-checks and helper script"
conorsch,2015-04-14 23:32:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/72a2f5ed114fdc1f33d2fe06794adfa152ec76f2,72a2f5ed114fdc1f33d2fe06794adfa152ec76f2,adds TODO for mon-staging ossec tests
conorsch,2015-04-14 22:21:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/669a8ab7ad6e4f901de1024f6c33612515b34722,669a8ab7ad6e4f901de1024f6c33612515b34722,renames ossec spectest for mon-staging to confirm to _spec.rb format
conorsch,2015-04-14 22:20:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a35048b49c704594f5e7f65753c8ec103fbbd59,3a35048b49c704594f5e7f65753c8ec103fbbd59,adds ip checks for mon-staging in /etc/hosts
conorsch,2015-04-14 20:16:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c5e649f3913db9a85b11329e6ff412345736a6f0,c5e649f3913db9a85b11329e6ff412345736a6f0,removes app-specific packages from common tests
ageis,2015-04-14 20:13:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8426a9f640852fa3d77a3183913d11c97b52061e,8426a9f640852fa3d77a3183913d11c97b52061e,Enable seccomp sandboxing for Tor
conorsch,2015-04-14 20:07:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bbb49dd3597109cedf9520155e6dda9b852a2b3f,bbb49dd3597109cedf9520155e6dda9b852a2b3f,add check for disabled swap space
conorsch,2015-04-14 19:53:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d280572e7a703f935cf2bc006b7ab3a9c2f2cd0a,d280572e7a703f935cf2bc006b7ab3a9c2f2cd0a,adds spec tests for sysctl flags to common
conorsch,2015-04-14 19:26:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54159ee507c14d4da3c45eda1a541f469e09baac,54159ee507c14d4da3c45eda1a541f469e09baac,ensure safe-upgrade has been run
conorsch,2015-04-14 19:24:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/224c62788179c3c7a5948d71c8d6bee9e19839d0,224c62788179c3c7a5948d71c8d6bee9e19839d0,ensure cron-apt cronjobs in place
conorsch,2015-04-14 18:55:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f289aea63572afd63b5cf3fa5966fc0b37ddf47d,f289aea63572afd63b5cf3fa5966fc0b37ddf47d,adds a bunch of apt-related tests to common
conorsch,2015-04-14 18:27:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4858e3764ac9ce0d61dce4fb5995b09b97d9fa4e,4858e3764ac9ce0d61dce4fb5995b09b97d9fa4e,moves cron-apt spec tests into common
conorsch,2015-04-14 18:23:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9a7cb9bf7b7683f9d6187bbd91651af92d8f1f84,9a7cb9bf7b7683f9d6187bbd91651af92d8f1f84,adds a few tests for package cleanup
conorsch,2015-04-14 17:49:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd24b483b4c986d6af507bb52857681de47054f8,dd24b483b4c986d6af507bb52857681de47054f8,ensure old kernel images and headers are removed
conorsch,2015-04-13 23:18:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/287a89dc6c3bd99c67de0ec812c0032ddfe64878,287a89dc6c3bd99c67de0ec812c0032ddfe64878,ensures some common kernel metapackages are absent
conorsch,2015-04-13 23:10:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/63f9dbed6fb1bbbe9f5ec5c256f726e0572f0bf6,63f9dbed6fb1bbbe9f5ec5c256f726e0572f0bf6,adds a few grsec tests
conorsch,2015-04-13 23:02:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37291fcbc29ebcea62ed5771573faa8efdd36c56,37291fcbc29ebcea62ed5771573faa8efdd36c56,moves grsec spec tests into common
conorsch,2015-04-13 22:58:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/991c277dabe2bc6afd6646280105549640a3b73c,991c277dabe2bc6afd6646280105549640a3b73c,adds ntp requirement
conorsch,2015-04-13 22:53:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2a357ba36226741cda36d890573d5f4483a9cb95,2a357ba36226741cda36d890573d5f4483a9cb95,general server hardening spectests
conorsch,2015-04-13 22:45:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87d0cc13c09b4bf99b3f9e7def896ba5c34cf596,87d0cc13c09b4bf99b3f9e7def896ba5c34cf596,"fixes a few user tests

improves escaping special characters in regexes"
conorsch,2015-04-13 22:30:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b453d21808a1f7fcf283e9a3fd13145bcf3c48d7,b453d21808a1f7fcf283e9a3fd13145bcf3c48d7,adds user-checks
conorsch,2015-04-13 22:21:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04aea9e6199a2e23aafdca95679182c62d579ecb,04aea9e6199a2e23aafdca95679182c62d579ecb,starts common user setup spectests
conorsch,2015-04-13 20:29:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/94d78a418854276367fff44fa4708344a36aea36,94d78a418854276367fff44fa4708344a36aea36,starts general spec tests shared between /staging/ hosts
conorsch,2015-04-13 19:32:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0efba1c6fe1c0727698d400d2597e540b385433a,0efba1c6fe1c0727698d400d2597e540b385433a,"fixes single-quote problem in iptables spec tests

the string ""don't"" was causing false failures in spectests
for iptables, even though the single quote was properly escaped.
this commit modifies the iptables rules in ansible to remove the
single quotes, and updates the tests in serverspec accordingly."
conorsch,2015-04-13 19:30:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/44931400509d505134a92e47dba78844186421b1,44931400509d505134a92e47dba78844186421b1,test iptables for app-staging based on dump of iptables-save from host
garrettr,2015-04-13 18:52:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff1170ac25e2a4707f685aed81cddb769289e8e1,ff1170ac25e2a4707f685aed81cddb769289e8e1,"Merge pull request #991 from freedomofpress/fix-functional-tests-local

Upgrade Selenium in testing dependencies"
garrettr,2015-04-13 18:27:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb6897eae7673dcf48cdbc556627f4ba21e40c74,cb6897eae7673dcf48cdbc556627f4ba21e40c74,"Upgrade Selenium in testing dependencies

Fixes #988."
conorsch,2015-04-13 18:02:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/12dd6295c0f2d69526f96f14087b007b5fe8fe89,12dd6295c0f2d69526f96f14087b007b5fe8fe89,removes old localhost spec tests
conorsch,2015-04-13 16:37:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e6a076d8ee9969a59a94cc260745ac6630ade37,1e6a076d8ee9969a59a94cc260745ac6630ade37,removes duplicate/inaccurate iptables rules from mon-staging spectests
conorsch,2015-04-10 22:02:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6bb090fa492c4812928c7177c5e4fbbd87bc57af,6bb090fa492c4812928c7177c5e4fbbd87bc57af,explicitly check for disabled services in app-armor config
conorsch,2015-04-10 18:23:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1845c41e304b456919dddf5db56cc91fa840e38d,1845c41e304b456919dddf5db56cc91fa840e38d,adds a few critical pkgs
conorsch,2015-04-10 18:07:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07d0006df2c065855040a50bbbeaecc4a39efb79,07d0006df2c065855040a50bbbeaecc4a39efb79,adds TODO regarding validating package configs
conorsch,2015-04-10 18:03:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc8982d1896a2344785bdf5ac964edfb80698b5d,cc8982d1896a2344785bdf5ac964edfb80698b5d,starts tests for validating apt config
conorsch,2015-04-10 16:53:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a133d4512249ba63d6fcb43668ba2844615b4bf9,a133d4512249ba63d6fcb43668ba2844615b4bf9,adds iptables spectests for mon-staging
conorsch,2015-04-10 00:48:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1253a3af35bd235f4b2b02206051b918cc433cb8,1253a3af35bd235f4b2b02206051b918cc433cb8,ports tor tests to v2 format
conorsch,2015-04-10 00:44:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e1db4e98d0528c3751192ede1a51f24ea79e17b7,e1db4e98d0528c3751192ede1a51f24ea79e17b7,moves tor spec tests into app-staging role
conorsch,2015-04-10 00:43:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/75fbe16948c193f17460bd6c07a3af44dc505930,75fbe16948c193f17460bd6c07a3af44dc505930,adjusts iptables tests for staging
conorsch,2015-04-10 00:40:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f00e18e4889bc4881937bdef2ee231b8eb153ec3,f00e18e4889bc4881937bdef2ee231b8eb153ec3,moves iptables spectests from localhost to app-staging
conorsch,2015-04-10 00:39:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/55b4b37ddce1d6b5c70ff6a6c92870516b8f3ce0,55b4b37ddce1d6b5c70ff6a6c92870516b8f3ce0,adds cranky TODO concerning aa-status output
conorsch,2015-04-10 00:32:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e1bd7549fed68aadab88a65cb6f3e5c0e53f01d4,e1bd7549fed68aadab88a65cb6f3e5c0e53f01d4,tweak apparmor spec tests for app-staging
conorsch,2015-04-09 23:50:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87f9f632e3b781d752a4590ea2c30c7fd67affc5,87f9f632e3b781d752a4590ea2c30c7fd67affc5,ports syntax for apparmor check to v2 format
conorsch,2015-04-09 23:32:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d24b56eadec3ad611623a4d886c76addf99f4f88,d24b56eadec3ad611623a4d886c76addf99f4f88,moves app_armor spectest into app-staging role
conorsch,2015-04-09 23:29:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/feb69f86ac389aa1c97259617b8d245040d79ce9,feb69f86ac389aa1c97259617b8d245040d79ce9,adds (copies) grsec spectests to mon-staging
conorsch,2015-04-09 23:28:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b0f67140a6c93ff29b68f9ac5939db05ef3fe1b3,b0f67140a6c93ff29b68f9ac5939db05ef3fe1b3,ports grsec spectests to v2 format
conorsch,2015-04-09 23:25:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed26d81c6596e83c79060c28bff20ae7db484142,ed26d81c6596e83c79060c28bff20ae7db484142,moves grsec spectests into app-staging
conorsch,2015-04-08 20:09:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f20d7270f327aa55c696c4b326c8e400d2d5073,3f20d7270f327aa55c696c4b326c8e400d2d5073,ports ossec-server tests for mon-staging
conorsch,2015-04-08 01:03:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ad47c83faee7322fea5e1cc020e752e51ed657ae,ad47c83faee7322fea5e1cc020e752e51ed657ae,more apache service checks
conorsch,2015-04-08 00:45:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c764e5f57b5a1a73afc3cffe9643bad5cff3d61c,c764e5f57b5a1a73afc3cffe9643bad5cff3d61c,adds spec tests for enabled and disabled apache sites
conorsch,2015-04-08 00:41:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d54e79b11914df2e61e7dfd06877f7acbe4aae14,d54e79b11914df2e61e7dfd06877f7acbe4aae14,rewrites check for disabled apache modules
conorsch,2015-04-08 00:02:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0ee88c1cdfa8f7e163528051b8c48ece04cd680,a0ee88c1cdfa8f7e163528051b8c48ece04cd680,rewrites enabled apache modules check
conorsch,2015-04-07 23:46:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b60079f5633337eb18dd04a9958d220aea894485,b60079f5633337eb18dd04a9958d220aea894485,starts porting apache spectests
conorsch,2015-04-07 21:22:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5fe27ce602ed23094e4a2734e47e8617e2224253,5fe27ce602ed23094e4a2734e47e8617e2224253,passing app-staging test
conorsch,2015-04-07 20:53:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9926ab9881dc865a7e0f072e28598e465e52a5a,d9926ab9881dc865a7e0f072e28598e465e52a5a,"disable spec_helper require statement

Conflicts:
	spec_tests/spec/localhost/apparmor_spec.rb
	spec_tests/spec/localhost/grsec_spec.rb
	spec_tests/spec/localhost/iptables_spec.rb"
conorsch,2015-04-07 20:45:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0fe75cdc694d3827d1993cefc86fd263f340f63a,0fe75cdc694d3827d1993cefc86fd263f340f63a,adds vagrant-serverspec provisioner to app-staging
conorsch,2015-04-07 20:38:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8bc1d395b782fe01d8d8a71aea5091bdbb9fe381,8bc1d395b782fe01d8d8a71aea5091bdbb9fe381,"renames metadata[:example_group_block] -> metadata[:block]

resolves deprecation warning:

Deprecation Warnings:

`metadata[:example_group_block]` is deprecated. Use `metadata[:block]` instead.
Called from ./spec_tests/spec/spec_helper.rb:18:in `yield'."
conorsch,2015-04-07 20:38:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4aa63e93cd0bf7e7a73120054df58c09c911a125,4aa63e93cd0bf7e7a73120054df58c09c911a125,new v2 backend config
conorsch,2015-04-07 20:00:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/336367a9cd7adad037325dbc25fb303582923fd4,336367a9cd7adad037325dbc25fb303582923fd4,clobber old Rakefile with default
conorsch,2015-04-07 19:51:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15aa873624aab9687b672939208c6b435e01f45f,15aa873624aab9687b672939208c6b435e01f45f,SpecInfra -> Specinfra rename for serverspec v2
toholdaquill,2015-04-11 23:04:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a9cd93d3756c800b34a39af0ec5f1938bafeeab9,a9cd93d3756c800b34a39af0ec5f1938bafeeab9,update %s notation to new .format syntax
ageis,2015-04-11 01:05:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cfefcf5ed5128ecf60b3ef8a5d46eb1321b7219e,cfefcf5ed5128ecf60b3ef8a5d46eb1321b7219e,Upgrade validation pre-checks and helper script
garrettr,2015-04-11 00:10:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ea4e1573185184cc81a6a58608ab39da0d2ad9f,2ea4e1573185184cc81a6a58608ab39da0d2ad9f,"Merge pull request #987 from freedomofpress/tests-for-download-unread

Add tests for ""download unread"""
garrettr,2015-04-11 00:09:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/13d3e5b01d4e422ccfccd117ace99c3d93e6bb44,13d3e5b01d4e422ccfccd117ace99c3d93e6bb44,"Merge pull request #985 from dolanjs/fix-apache-for-mon-server-task

added check for apache before disabling apache."
garrettr,2015-04-11 00:04:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2b8effe8be935f19228c52447e9300766aa08f0b,2b8effe8be935f19228c52447e9300766aa08f0b,"Merge pull request #970 from dolanjs/training-doc-update

added some links to training doc"
garrettr,2015-04-10 23:52:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/32f6280e2866f9ba7790c962ad8532f588d6c92d,32f6280e2866f9ba7790c962ad8532f588d6c92d,"Add tests for ""download unread"""
garrettr,2015-04-10 22:31:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97b8cd54f2987be35eccb008e5edd04d37b329d0,97b8cd54f2987be35eccb008e5edd04d37b329d0,"Fix SQLAlchemy queries for unread submissions

This regression was caused by the PEP8 fixes in cd6f4c3, which among
other things changed instances of `x == False` to `x is False`. While
this would not cause a functional change in normal Python, it does cause
a functional change in the context of SQLAlchemy's `filter*`
methods. These methods override `==` but do not appear to override `is`,
so replacing `==` with `is` breaks the query.

I have grep'ed the code and checked the diff of the breaking commit to
make sure this commit fixes all instances of this error.

Fixes #969"
garrettr,2015-04-08 20:04:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/053998db03a950166de322f917a0f13b5ab1c419,053998db03a950166de322f917a0f13b5ab1c419,Fix scope issues with c
garrettr,2015-04-08 20:00:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2eda379fc0f8f52417ab706d42afeb79f4ccc3e3,2eda379fc0f8f52417ab706d42afeb79f4ccc3e3,Merge branch 'check-migration-scripts-for-0.3' of https://github.com/freedomofpress/securedrop into check-migration-scripts-for-0.3
dolanjs,2015-04-08 18:28:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3db2e6bafe22a2b209c7a85f66f75c1872cc7bc6,3db2e6bafe22a2b209c7a85f66f75c1872cc7bc6,"Merge pull request #984 from dolanjs/migration-script

Fix upgrade script for orgs trying to upgrade to 0.3.2 from 0.3pre."
conorsch,2015-04-07 18:47:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c58273ef82047f0e0881e8b1696b7601c767d235,c58273ef82047f0e0881e8b1696b7601c767d235,"re-enable vagrant caching

reverts 0588055. issue was that env var wasn't populated in snap-ci"
conorsch,2015-04-07 18:43:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0588055ec5282ea5434507ef87563f030237752e,0588055ec5282ea5434507ef87563f030237752e,force vagrant install during pinned tasks
conorsch,2015-04-07 18:29:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87bc80df2150130e1bf48eaab678ffc008df38a2,87bc80df2150130e1bf48eaab678ffc008df38a2,rip out all env var configs
conorsch,2015-04-07 18:22:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/620bb1a4d8a13394b6dd4c21d8fda446e95f6019,620bb1a4d8a13394b6dd4c21d8fda446e95f6019,source env vars in development script
conorsch,2015-04-07 18:15:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/540dc30f6e15bc4ed33ad0864fbe9e5de60d529b,540dc30f6e15bc4ed33ad0864fbe9e5de60d529b,default do ubuntu 14.04 img
conorsch,2015-04-07 18:08:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/148d0241add46689a0c9cc0ecdd6e1f947af1761,148d0241add46689a0c9cc0ecdd6e1f947af1761,wipe image name all together
conorsch,2015-04-07 18:05:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/588291e014378064185920e42b504060017768de,588291e014378064185920e42b504060017768de,move droplet region again
conorsch,2015-04-07 17:56:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c497aa244689616c4e214cb119013aceb3a53db,6c497aa244689616c4e214cb119013aceb3a53db,adds DO_IMAGE_NAME to env vars
dolanjs,2015-04-07 17:51:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/416cbade29737fb1b6cf1cec829dc08750d0f8dc,416cbade29737fb1b6cf1cec829dc08750d0f8dc,"Merge pull request #979 from dolanjs/fix-mon-upgrade-script

This fixes the upgrade script when ran on the monitor server. This will not check for the presence of the app server specific files."
dolanjs,2015-04-07 17:49:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d6afc81bb9c58fcc664830e2f795cd914a5fdeac,d6afc81bb9c58fcc664830e2f795cd914a5fdeac,"Merge pull request #977 from dolanjs/apache-status

This fixes the format for the upgrade task to check the state of the apache service."
conorsch,2015-04-07 17:33:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b3bbc0736b33e3dc45c73734b60a6dc7da1b82b4,b3bbc0736b33e3dc45c73734b60a6dc7da1b82b4,move DO image nyc3 -> sfo1
conorsch,2015-04-07 17:29:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2487ec74d316f28d2a83995cd78a2b59bec4e481,2487ec74d316f28d2a83995cd78a2b59bec4e481,really fix env vars this time
conorsch,2015-04-07 17:26:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/134e3ad0d9cbbc6a67d7650f3372aa44fe9efa8a,134e3ad0d9cbbc6a67d7650f3372aa44fe9efa8a,source env vars prior to running pinned!
conorsch,2015-04-07 17:21:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0eabf37bdafd96fa729ef4f5aaf527517b864a2c,0eabf37bdafd96fa729ef4f5aaf527517b864a2c,fix path for snap config root
conorsch,2015-04-07 17:17:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9d9ea719f84181589cd6afae50812931cf4a9be,d9d9ea719f84181589cd6afae50812931cf4a9be,adds common env vars for pinned sourcing
conorsch,2015-04-06 22:10:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4bcb33c53432d16041834027091835bce60a0da9,4bcb33c53432d16041834027091835bce60a0da9,adds serverspec bundled gems to gitignore
garrettr,2015-04-06 18:04:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd26cd7e45b14e5e6237e7a238e157394d2b82f2,cd26cd7e45b14e5e6237e7a238e157394d2b82f2,"Merge pull request #981 from jacksingleton/develop

add tests for pages that require authentication in journalist.py"
jacksingleton,2015-04-04 02:45:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21249bbb5080449d0239423f963dc780a322a827,21249bbb5080449d0239423f963dc780a322a827,add tests for pages that require authentication in journalist.py
garrettr,2015-04-02 16:08:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5e00490eb432f843d81348e2e7b5fbea4c8ea05,e5e00490eb432f843d81348e2e7b5fbea4c8ea05,"Merge pull request #975 from ageis/sd-diagram

Include MS Visio SecureDrop visualization"
ageis,2015-04-02 04:14:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9a56ab1662f8cb9e9e90821c34b00b1a8b466d4a,9a56ab1662f8cb9e9e90821c34b00b1a8b466d4a,Include MS Visio SecureDrop visualization
garrettr,2015-04-02 01:31:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e7a06275ea432ed7c431ef3c03c64f1cfc05f86,7e7a06275ea432ed7c431ef3c03c64f1cfc05f86,Merge branch 'master' into develop
garrettr,2015-04-02 00:47:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3d2f09bea81b662ae26f123adcaea174b3ea7fe3,3d2f09bea81b662ae26f123adcaea174b3ea7fe3,"Merge pull request #974 from freedomofpress/fix-admin-required

Add admin_required to admin_add_user"
garrettr,2015-04-01 23:43:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a4140228f46a3aa74b5ef7fc1d178f5196a6ed9,1a4140228f46a3aa74b5ef7fc1d178f5196a6ed9,Version 0.3.2
garrettr,2015-04-01 21:17:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d83e45288923a20439951da54c2d9e6eeb17c46e,d83e45288923a20439951da54c2d9e6eeb17c46e,"Add admin_required to admin_add_user

Access to the admin_add_user view should be restricted to administrators
only. Unfortunately, I accidentally omitted the `@admin_required`
decorator for this view. Since `@admin_required` encapsulates
`@login_required`, this means that anybody with access to the Document
Interface would be able to create a user accounts.

This is a fix for the issue reported on Bugtraq:
http://seclists.org/bugtraq/2015/Apr/8"
garrettr,2015-04-01 18:11:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/84e19a4d190a36ddd948196aa5222eeb894fb913,84e19a4d190a36ddd948196aa5222eeb894fb913,"Merge pull request #965 from ageis/grub-fix

Mark GRUB as manually installed (fixes #945)"
ageis,2015-03-31 08:27:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/89b1e3f9c209b3614e038aff8dd4afd19ad6bc50,89b1e3f9c209b3614e038aff8dd4afd19ad6bc50,Mark GRUB as manually installed
garrettr,2015-03-30 22:23:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e5ad8b1144b55ba4859491a72def88145f3648e,6e5ad8b1144b55ba4859491a72def88145f3648e,"Merge pull request #961 from freedomofpress/tmux-default-shell

Use tmux by default for SecureDrop admin's login shell"
garrettr,2015-03-30 19:33:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9a4979baf7bcbc1b2fd32e45bbceb56466193f1d,9a4979baf7bcbc1b2fd32e45bbceb56466193f1d,Fix some nits
garrettr,2015-03-30 18:52:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c07feb0a44b1a39285b9281e5522f778a277440,4c07feb0a44b1a39285b9281e5522f778a277440,"Merge pull request #960 from freedomofpress/fix-css

Fix css"
garrettr,2015-03-28 01:25:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dbfeed9620f4435509f1749724ce8afbaf4e3be3,dbfeed9620f4435509f1749724ce8afbaf4e3be3,Use tmux by default for SecureDrop admin's login shell
garrettr,2015-03-30 17:35:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5cbd11da59057944a089e430bc949582bc122ef1,5cbd11da59057944a089e430bc949582bc122ef1,"Fix unmatched `*` in Markdown file

This document refers to ""your specific .onion address"" as
`*.onion`. Unfortunately, `*` is a reserved Markdown character that
signals that start of an italicized block. This can cause problems
depending on the Markdown renderer - for example, the document renders
to HTML fine when viewed on Github, but when this document is displayed
in a Github PR, all document text following that `*` is italicized,
which is confusing and not the intent.

The easy fix is to fence `*.onion` with backticks so it's treated as
preformatted text/code."
garrettr,2015-03-28 01:56:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c9993ef6e6a8bfa32c3214c9280822a6ef6e201,4c9993ef6e6a8bfa32c3214c9280822a6ef6e201,"Merge pull request #956 from ddworken/develop

Even more PEP8 fixes"
garrettr,2015-03-27 23:10:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/53cfdbef24ce5cff99d9987ff98378545f945b5e,53cfdbef24ce5cff99d9987ff98378545f945b5e,"Merge pull request #959 from dolanjs/add-ssl-support-to-apparmor-profile

add ssl support to apache apparmor profile"
garrettr,2015-03-27 23:06:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1de020645b571cdaad47b882e100cd360df86338,1de020645b571cdaad47b882e100cd360df86338,Document how to access the dev servers in Tor Browser
garrettr,2015-03-27 22:51:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5900209d4799f52c6badc24a1fa4c725c43cc5c5,5900209d4799f52c6badc24a1fa4c725c43cc5c5,Center Source Interface home page
garrettr,2015-03-27 22:19:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03e637a2e5cc3d2ec2f3cfd4c94b56a09747ee5c,03e637a2e5cc3d2ec2f3cfd4c94b56a09747ee5c,"Split css into separate files

Previously, the Source Interface and the Document Interface both used
the same CSS file (`/static/i/styles.css`). This sometimes created
problems where changing styles on one interface would cause problems with
the styles on another.

I've also updated the links in the HTML templates for each interface to
use the correct CSS file, depending on the interface.

In the future, we should work to clean up and simplify these CSS files.
I have not made an effort to remove code from `source.css` that was only
ever used on the Document Interface, nor vice versa."
garrettr,2015-03-27 22:08:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b90782d93913f27171da2b24b515f8f8d47e861,5b90782d93913f27171da2b24b515f8f8d47e861,"Revert ""Merge pull request #929 from ageis/text-fix""

This reverts commit e9739b225764b0fded4014bfb3a8ce183819f9e2, reversing
changes made to 2667110e4753b2f902f7dca70d8cc8a7ba897fb8."
garrettr,2015-03-27 20:35:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/56669c5dd775ba4c5c6e9615271ee51ce90459cf,56669c5dd775ba4c5c6e9615271ee51ce90459cf,"Merge pull request #936 from ageis/torsocks-fix

Don't need ProxyCommand in SSH aliases. Fixes #933."
garrettr,2015-03-27 20:32:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e535b6106879c02018bc7c66002ecbaf8c1f894f,e535b6106879c02018bc7c66002ecbaf8c1f894f,Merge pull request #944 from dolanjs/fix-pre0-3-upgrade-script
garrettr,2015-03-27 20:29:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58c0529aca26fb307b6e6e3d5eb774c82fdb3cd1,58c0529aca26fb307b6e6e3d5eb774c82fdb3cd1,"Make detecting deleted sources explicit

See https://github.com/freedomofpress/securedrop/pull/944#discussion_r27252564
for context."
ddworken,2015-03-27 01:28:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b424c76548082d42d55c4d76c5a3a6a26448912f,b424c76548082d42d55c4d76c5a3a6a26448912f,Even more PEP8 fixes
ddworken,2015-03-27 01:11:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e99cd3507f5767112492fe4fecf2967aa6dbbb1,7e99cd3507f5767112492fe4fecf2967aa6dbbb1,PEP8 Fixes
ddworken,2015-03-27 01:06:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15d1ba741e699657d9dcadc60115db7e42ce2609,15d1ba741e699657d9dcadc60115db7e42ce2609,PEP8 Fixes
garrettr,2015-03-27 00:24:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f693105ef9622e82e39480df20a44fa3385663cc,f693105ef9622e82e39480df20a44fa3385663cc,"Merge pull request #953 from ageis/source-fadeout

Fade out inactive source interface, closes #447"
ageis,2015-03-26 23:12:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9a2f4be7c0542f168cbb8634076a1b00e0b25e64,9a2f4be7c0542f168cbb8634076a1b00e0b25e64,Add dimming CSS to index.html
garrettr,2015-03-26 22:34:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4573ea5f4ea906c45a3fd6fa4c037c03ebb27a2a,4573ea5f4ea906c45a3fd6fa4c037c03ebb27a2a,"Merge pull request #939 from ageis/grsec-idempotent

Make grsec reboot idempotent"
garrettr,2015-03-26 21:50:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d85652c6a744cf73a964cc93883c6fcba585c5a,8d85652c6a744cf73a964cc93883c6fcba585c5a,"Merge pull request #931 from ddworken/develop

More PEP8 Fixes"
ageis,2015-03-26 19:27:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a76e87b696e12767c44365db71cbeecdd69f38d6,a76e87b696e12767c44365db71cbeecdd69f38d6,"Fade out inactive source interface, implements #447"
ageis,2015-03-26 18:43:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c34bc0da835937761515ecf95af2f391b754f2fe,c34bc0da835937761515ecf95af2f391b754f2fe,Don't wait for reboot if already running grsec
ageis,2015-03-24 01:34:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bac74fa24865fac2060247de956ecae50db31165,bac74fa24865fac2060247de956ecae50db31165,Don't need note about SOCKS5 password with torify
ageis,2015-03-24 01:29:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5154c33ae646221f7ab8d29d95f41f09584a36ee,5154c33ae646221f7ab8d29d95f41f09584a36ee,Fix to reboot if grsec is not running
ageis,2015-03-24 00:34:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9ce3ca1848c83223b7ce4b768669b57f9ace8854,9ce3ca1848c83223b7ce4b768669b57f9ace8854,Consolidate tasks and make grsec reboot idempotent
garrettr,2015-03-23 21:25:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7bb11fb1bf5a3629af46be604ade7dbde63e24cb,7bb11fb1bf5a3629af46be604ade7dbde63e24cb,"Switch default branch back to develop

Rationale: https://github.com/freedomofpress/securedrop/pull/932#issuecomment-85204230"
ageis,2015-03-23 21:02:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/63310d78b486ca8d9cb84a20a68b7cefd730d5e9,63310d78b486ca8d9cb84a20a68b7cefd730d5e9,Fixes #933
garrettr,2015-03-23 21:01:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3fb990af83cf82f1da278ed0385275a813a2175d,3fb990af83cf82f1da278ed0385275a813a2175d,"Add `-U` to pip install commands

Follow up to https://github.com/freedomofpress/securedrop/pull/932#commitcomment-10353326"
garrettr,2015-03-23 20:23:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/306d8d56f8f4917c797d45aab80e7aee2eddc684,306d8d56f8f4917c797d45aab80e7aee2eddc684,"Add warning about Vagrant package in Ubuntu

Follow up to https://github.com/freedomofpress/securedrop/pull/932#issuecomment-85165231"
garrettr,2015-03-23 20:20:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e98a101d7b40e1482e110997a75cb3382ec6fa4,3e98a101d7b40e1482e110997a75cb3382ec6fa4,"Clean up development guide

* Clarify the differences between virtual environments
* Improve headings and TOC
* Clean up formatting, extraneous new lines"
conorsch,2015-03-23 18:36:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d62968ca30c098e1f2e0eeed88b707328f0e9d69,d62968ca30c098e1f2e0eeed88b707328f0e9d69,updates recommended version numbers in develop.md
conorsch,2015-03-23 18:33:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a9eeaa50e0fac91ea69793884f518ac8fec339f1,a9eeaa50e0fac91ea69793884f518ac8fec339f1,"Merge branch 'develop' of https://github.com/freedomofpress/securedrop into support-vagrant-1.7+

Conflicts:
	docs/develop.md"
ddworken,2015-03-23 13:47:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5bfa86ba2d42b6ed043a1ed2625d4711a10c70ab,5bfa86ba2d42b6ed043a1ed2625d4711a10c70ab,More PEP8 Fixes
garrettr,2015-03-23 10:33:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/718581cc48cfd900f267b5cb6cf933933571010e,718581cc48cfd900f267b5cb6cf933933571010e,Fix broken automatic backups
garrettr,2015-03-23 09:31:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01dc738a9caf237044c94053190699ea19148df3,01dc738a9caf237044c94053190699ea19148df3,"Merge branch 'master' into develop

* Reuniting master and develop once again"
garrettr,2015-03-23 06:03:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1ecf9d77b7ca1aff8693da7d793211b8715bd59c,1ecf9d77b7ca1aff8693da7d793211b8715bd59c,Version 0.3.1
garrettr,2015-03-23 06:27:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2ad1e114db69903654a4f5946c45e582af2c1dd,e2ad1e114db69903654a4f5946c45e582af2c1dd,"Update smtp.gmail.com fingerprint

Google rotated their cert recently - from looking at my OSSEC testing
emails, it looks like it happened on or around 3/18."
garrettr,2015-03-23 06:01:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8aaeb37577f82e067e163d77d2afe443071c7e70,8aaeb37577f82e067e163d77d2afe443071c7e70,Maintain custom header image across package upgrade
garrettr,2015-03-23 06:01:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5afdf7927b072dcc6345582ea1d607dc33de70e,b5afdf7927b072dcc6345582ea1d607dc33de70e,"Merge pull request #930 from ageis/doc-improve

Ran doctoc on install.md"
ageis,2015-03-23 06:00:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fac77f35d302502305996d3ed83c40b8d79dc68a,fac77f35d302502305996d3ed83c40b8d79dc68a,Fix references to install section
ageis,2015-03-23 05:54:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4e96f20f9ec971138bcfb80b9981536f63ce7166,4e96f20f9ec971138bcfb80b9981536f63ce7166,Ran doctoc on install.md
garrettr,2015-03-23 04:57:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90f98236cd5c3f2bb35b1fa6b873c8abd8259411,90f98236cd5c3f2bb35b1fa6b873c8abd8259411,"Merge pull request #927 from ageis/doc-improve

Documentation improvements for 0.3"
ageis,2015-03-23 04:52:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/61cfe8255e53389c73b8879026f4c5081654eeea,61cfe8255e53389c73b8879026f4c5081654eeea,Fix trailing whitespaces
garrettr,2015-03-23 04:47:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e9739b225764b0fded4014bfb3a8ce183819f9e2,e9739b225764b0fded4014bfb3a8ce183819f9e2,"Merge pull request #929 from ageis/text-fix

Fix text showing on top of button"
garrettr,2015-03-23 04:40:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2667110e4753b2f902f7dca70d8cc8a7ba897fb8,2667110e4753b2f902f7dca70d8cc8a7ba897fb8,"Merge pull request #926 from ddworken/develop

Fixed PEP8 Errors"
ageis,2015-03-23 04:04:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/905ccbda2c9ba0c7ace3b64da14ad59661afa9c6,905ccbda2c9ba0c7ace3b64da14ad59661afa9c6,Corrections and additions
ageis,2015-03-23 03:49:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/64da4fc07c1c27ee008150504d28352477aac14b,64da4fc07c1c27ee008150504d28352477aac14b,Fix text showing on top of button
ageis,2015-03-22 22:55:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b2850a8cbdc4eb2124c3fb0eccbc094c7b0bf394,b2850a8cbdc4eb2124c3fb0eccbc094c7b0bf394,URL fixes and clarifications
ageis,2015-03-22 21:47:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8fd24959012bdadc7e7bafb59f6291257ef0da94,8fd24959012bdadc7e7bafb59f6291257ef0da94,Rename to follow convention
ageis,2015-03-22 12:50:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d8990afd46b488cf47e2bd028d61429342500e4,0d8990afd46b488cf47e2bd028d61429342500e4,Documentation improvements for 0.3
conorsch,2015-03-21 18:47:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/16c512d469370ed45ed89e1423e876534331bf56,16c512d469370ed45ed89e1423e876534331bf56,"updates develop.md to recommend newest vagrant version

reverts ee304e1e2262230e55db2d17f197be1b27edf4ec"
conorsch,2015-03-21 18:17:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b3a7aca742002738a2e3672c2662d2a9a67b325,9b3a7aca742002738a2e3672c2662d2a9a67b325,disables dynamic SSH key insertion by vagrant
garrettr,2015-03-21 17:23:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0b4d6bd9e96d99ab929571fb9afc43140f0416da,0b4d6bd9e96d99ab929571fb9afc43140f0416da,"Merge pull request #925 from ageis/sd-autostart

Persistent torrc SecureDrop initialization without clicking launcher"
ageis,2015-03-21 01:23:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d621d7cf78dd894b89879e56a5d5534e42c6f0df,d621d7cf78dd894b89879e56a5d5534e42c6f0df,Let's be fancy
ageis,2015-03-21 00:22:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/01fc1fbe719dca07765d860651211fe306cffcb6,01fc1fbe719dca07765d860651211fe306cffcb6,Make torrc_additions clearer
ageis,2015-03-20 20:52:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c07c6bc1fea961786b71460478ebc0fb693ffba,6c07c6bc1fea961786b71460478ebc0fb693ffba,Corresponding documentation update
ageis,2015-03-20 20:36:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5706b46370739d9e6cf4f62b157b8ba922faf4c1,5706b46370739d9e6cf4f62b157b8ba922faf4c1,Persistent torrc SD init without clicking launcher
garrettr,2015-03-19 22:09:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7bc680902a59977889b862fa93e0ca07892b28aa,7bc680902a59977889b862fa93e0ca07892b28aa,"Merge pull request #921 from dolanjs/deb-msg-wording

Updated wording"
ageis,2015-03-19 20:42:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/46802b9c18fac6f5589cb9f204b5738810db0ffc,46802b9c18fac6f5589cb9f204b5738810db0ffc,"Merge pull request #920 from ageis/grsec-fix

Fix to handle multiple grsec kernels"
ageis,2015-03-18 23:25:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3fdffec9dfdcaada820e8aa901b0e5625c774097,3fdffec9dfdcaada820e8aa901b0e5625c774097,"Always boot into grsec kernel

Fixes #913, closes #919 (rebased PR)."
garrettr,2015-03-18 23:53:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d93892e3397dadbd3c45279d47f2b6e89a1b210,7d93892e3397dadbd3c45279d47f2b6e89a1b210,"Merge pull request #918 from freedomofpress/no-empty-submissions

Don't create empty submissions"
garrettr,2015-03-18 23:27:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1319fad68bfbe8cdd82b4c143e5fb2efe20ac0b4,1319fad68bfbe8cdd82b4c143e5fb2efe20ac0b4,"Don't create empty submissions

Prevents creating ""empty"" submissions (which are confusing and annoying
to open due to the airgapped procedure), and instead flashes an error
when the user attempts to click ""Submit"" without entering a message or
choosing a file.

Fixes #878."
garrettr,2015-03-18 23:13:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b0f82d4f9a51da61c95a5c92962dc10c53e0923,3b0f82d4f9a51da61c95a5c92962dc10c53e0923,"Merge pull request #915 from dolanjs/remove-app-ip-from-alerts

remove the app IP from ossec alerts"
garrettr,2015-03-18 23:12:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20d7af58130e2c020cf974f64c8594810326740d,20d7af58130e2c020cf974f64c8594810326740d,"Merge pull request #916 from freedomofpress/cron-apt-autoremove

Autoremove unused packages after upgrading"
garrettr,2015-03-18 22:15:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a0c7304bf11f4814b2aa88b386aa610f40a50d7,3a0c7304bf11f4814b2aa88b386aa610f40a50d7,"Merge pull request #912 from dolanjs/move-grsec-sysctl-specific

moved grsec specific sysctl flags"
garrettr,2015-03-18 21:21:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/738a22db6b501d23a998e657c7b5d7168dfe4ee1,738a22db6b501d23a998e657c7b5d7168dfe4ee1,"Autoremove unused packages after upgrading

For SecureDrop, this is primarily useful because it avoids allowing too
many kernels to be installed in `/boot`, which can lead to issues
booting if the partition gets too full.

Closes #914."
garrettr,2015-03-17 23:08:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04b4e3ec24204ccaced6702e5c6697bc10a3367d,04b4e3ec24204ccaced6702e5c6697bc10a3367d,"Merge pull request #910 from ageis/grsec-wait

Increase grsec install timeout to 5min"
garrettr,2015-03-17 18:05:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f706820080db6eb5bd403224584b25e0134eea8,9f706820080db6eb5bd403224584b25e0134eea8,"Merge pull request #909 from dolanjs/move-upgrade-tasks-to-ansible

Move upgrade tasks to ansible"
garrettr,2015-03-17 18:05:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b40dd743efc8627270193f9e309224e666d979e,5b40dd743efc8627270193f9e309224e666d979e,"Merge pull request #908 from dolanjs/deploy-0-3pre-upgrade-script

added upgrade playbook."
garrettr,2015-03-17 17:20:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/82aa5e7a77aac960dabd2c0140a1d12f1090caf4,82aa5e7a77aac960dabd2c0140a1d12f1090caf4,"Merge pull request #907 from trevortimm/tails-doc-updates

Bunch of documentation updates"
garrettr,2015-02-27 17:55:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/24707ef6f64ec56218a8ff96d45725eae763adc2,24707ef6f64ec56218a8ff96d45725eae763adc2,"Correctly format datetime attributes, fixes #882"
garrettr,2015-02-27 17:44:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/72f9ccd0de41c4e579c48c4bb9a275bf5160b9b9,72f9ccd0de41c4e579c48c4bb9a275bf5160b9b9,"Set meta charset for all pages in base templates

This is generally a good idea, even if we already set the default
charset to utf-8 in the Apache configuration (`apache2.conf`)."
garrettr,2015-02-27 17:43:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98cf49be9897e2b1bc223250ea8cd5087844598a,98cf49be9897e2b1bc223250ea8cd5087844598a,"Remove invalid autocomplete attributes, fixes #883"
garrettr,2015-02-27 17:27:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/049c9b4ddc731417a53067be8baf64c7f154ed11,049c9b4ddc731417a53067be8baf64c7f154ed11,Remove unnecessary and invalid href attr on button. Fixes #884.
trevortimm,2015-03-17 00:30:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a5f6396bdf5c7365259a0311667d02cda23eca3,8a5f6396bdf5c7365259a0311667d02cda23eca3,"clarified prod-specific.yml and SSH directions

some of the SSH directions were unclear for someone not used to it, so I clarified a bit,

Also changed some of the descriptions to make them more specific and match the OSSEC alerts page"
trevortimm,2015-03-16 20:02:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ac93ba48a2a0f1e2ea81de1929ba1bb74781fa5,5ac93ba48a2a0f1e2ea81de1929ba1bb74781fa5,"more updates to Tails and SVS directions

Added instructions for setting up persistent storage

fixed some typos in the tails section

on the SVS setup, clarified some of the language when creating the SVS keys

added instructions for admin to connect to the Internet"
trevortimm,2015-03-16 20:01:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97f139ab5274e967e7930619d0f88364c07784ff,97f139ab5274e967e7930619d0f88364c07784ff,fixed spacing
trevortimm,2015-03-16 20:00:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2520e23b5f352b58598cf59347d81148a8ee33be,2520e23b5f352b58598cf59347d81148a8ee33be,"cleared up some confusion in ubuntu directions

spaced some things out, highlighted some things, and fixed a couple typos."
trevortimm,2015-03-15 21:08:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c1c7f7b0cb99e69eaa1b40effe73da3af288c2a9,c1c7f7b0cb99e69eaa1b40effe73da3af288c2a9,"updated Tails section

clarified you need four tails USBs, not three (one for long term offline storage)"
trevortimm,2015-03-15 20:59:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d31d05f490de2a74fb0f5bfd982cf093af364f1,7d31d05f490de2a74fb0f5bfd982cf093af364f1,"clarifiying Tails shutdown

James made the point that sometimes Tails doesn't re-boot when you click re-start so just made a note of that."
trevortimm,2015-03-15 20:51:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0e4fdb107f5be846b2f28a5da460dce55cf7929,a0e4fdb107f5be846b2f28a5da460dce55cf7929,"save SSH password in password manager

Put in  reminder to use KeePassX"
trevortimm,2015-03-15 20:49:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/495395548f684af92714046ca03db72c3826c8bc,495395548f684af92714046ca03db72c3826c8bc,"save password in password manager

Put in reminder to save Ubuntu password in admin password manager."
trevortimm,2015-03-15 20:46:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/004df6d278c2bf639a73cbfd0dbe4e958ba5a043,004df6d278c2bf639a73cbfd0dbe4e958ba5a043,"updated terminology.md

Broke this down into terminology and roles. Both of these things used to be on the front page but since that document was ridiculously long, I moved them here and people can read this before they begin. Also clarified what 'airgap' and 'sneakernet' mean, as suggested by @dolanjs"
trevortimm,2015-03-15 20:34:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3db8103428e9fb48ea917e79836c911cd7ecd774,3db8103428e9fb48ea917e79836c911cd7ecd774,"more nitpicks

Changed the intro to make it a little more clear, also explained why we do all the HidServAuth stuff"
trevortimm,2015-03-15 20:26:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a9ae4225de8ba775dad67d91d5962988737c245d,a9ae4225de8ba775dad67d91d5962988737c245d,"clarifying language for Tails instructions

I moved some of these instructions into the main install doc so that admins would not have to go back and forth and get confused. 

I added an intro so that it was clearer when and where in the process people should be reading this document. It can still use some improvement but this is better than it was.

I also renamed it the install guide for admin and journalists and moved any SVS set up out of this documents to avoid critical errors.

I also tried to clarify a few parts so that were unclear to a person who may not be familiar with Tails."
trevortimm,2015-03-15 20:03:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f202a3e469c9381b7d3e09f53a116b15b4acf24,3f202a3e469c9381b7d3e09f53a116b15b4acf24,"changed GPG language

Previous version suggested the installer might have already created a GPG public key for securedrop when there was no opportunity to, so I clarified."
trevortimm,2015-03-15 19:52:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8551e64358289ac7c9f733434c99f27e629c4b97,8551e64358289ac7c9f733434c99f27e629c4b97,"more updates to Tails installer

added a section about when to switch over to the admin Tails USB and setting up the password manger so that they are not switching back and forth between docs."
trevortimm,2015-03-15 19:39:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1507e6d19b074b13d1d880d446384d8670843a7e,1507e6d19b074b13d1d880d446384d8670843a7e,"more improvements to Tails part of the install docs and a bit more

separated out some steps in creating tails USBs so it's easier to follow

clarified some of the SSH directions so people don't get lost"
trevortimm,2015-03-14 01:10:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4448665491d317f94816d0a535b2997a67d9d88f,4448665491d317f94816d0a535b2997a67d9d88f,"bunch of updates to make tails guide flow easier and on same page

changes can be seen on this trello card: https://trello.com/c/81bJkn49/80-improvements-to-sd-documentation"
trevortimm,2015-03-14 00:53:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de77155d36f31067c7d407d4ea21dd63a555d000,de77155d36f31067c7d407d4ea21dd63a555d000,added more terms that used to be in install.md
ageis,2015-03-03 23:42:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4507d2228100411f975045afcee7ce90b76a0e83,4507d2228100411f975045afcee7ce90b76a0e83,"Clarify 2fa setup for the admin

* Reminder to set up HidServAuth values in order to SSH.
* Reminder to set up `google-authenticator` on *both* the App Server and
  the Monitor Server.

Closes #900."
trevortimm,2015-03-14 00:32:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/02c196bf2148fd71667b0a306be64f1488437e1e,02c196bf2148fd71667b0a306be64f1488437e1e,put an anchor link at the end to return to the main guide
garrettr,2015-03-13 22:08:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5260040d7068d37600801501020b75998259152c,5260040d7068d37600801501020b75998259152c,"Script to migrate 0.3pre -> 0.3 (tagged)

See the README.md for more information. This script is intended to be
used to migrate 0.3pre instances to the tagged version 0.3.

This script may not yet be complete - there are still some issues with
changes made by the Ansible playbooks between installs. I am not sure if
this script is the best place to address those changes, or if we can use
Ansible to do that."
trevortimm,2015-03-13 21:57:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4de45007528aa58d2b291388b05d5266c0248a45,4de45007528aa58d2b291388b05d5266c0248a45,"create terminology.md

Creating a separate file for the 'terminology' section so it's easier for people to access and refer back to instead of putting it at the front of install guide."
garrettr,2015-03-12 22:31:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/854cc4c0838c58312640f2bcb53117f199de88df,854cc4c0838c58312640f2bcb53117f199de88df,"Update 0.2.1 -> 0.3 migration scripts

This commit makes several improvements to the 0.2.1 migration scripts:

* Sources that have no stored submissions or replies at the time of
  migration are not ""forgotten"". This was due to zip's inability to
  store empty directories, and necessitated the move to tar archives for
  the backup file format.
* Better handle sources where we can't determine whether the source is
  pending or not. See comments in the code.
* Move custom logo to the correct location for 0.3
* Create database entries for replies (before, database entries for
  Submissions (!!) were being incorrectly created instead).
* Simplify/clarify/clean up various sections of code"
garrettr,2015-03-12 22:27:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8ac19845f755771c1f9984c92620cc7227507e3,e8ac19845f755771c1f9984c92620cc7227507e3,"Fix documents count for migrated sources

Prior to 0.3, documents were encrypted inside .zip files to maintain
their original (albeit santizied) filenames, and also store them
encrypted at rest on the server. This was changed to .gz files for
technical reasons (the specific format is not important). Migrated
sources have `doc.zip.gpg` suffixes for their document submissions prior
to 0.3, and this code makes it so either documents submitted before 0.3
or after 0.3 will be correctly counted."
garrettr,2015-03-11 20:55:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab00bc27e62e2fe1f6deaa4725fd4e9c1167cab0,ab00bc27e62e2fe1f6deaa4725fd4e9c1167cab0,Remove redundant variable
garrettr,2015-03-11 20:55:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d30f4e78db06a818ca1e85c4c63ad5efa2adc9b,9d30f4e78db06a818ca1e85c4c63ad5efa2adc9b,logo.png is used instead of securedrop.png in SecureDrop 0.3
garrettr,2015-03-11 20:54:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4121b996f4dea18787061e7e235a491235755c14,4121b996f4dea18787061e7e235a491235755c14,Add newline between functions for PEP8
garrettr,2015-03-11 02:09:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d094b333c0eaede0822b5437739c78d6d934448b,d094b333c0eaede0822b5437739c78d6d934448b,Continue migration if optional Tor cert not found on 0.2.1 installation
ageis,2015-03-04 00:55:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/366c657b5f79b3dae510404ea5d6fed6adb0f6ca,366c657b5f79b3dae510404ea5d6fed6adb0f6ca,Remove vulgar and possibly offensive words
garrettr,2015-02-26 00:05:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c3a231214591a7d35f3fabc2aa8e4815fe12c3ab,c3a231214591a7d35f3fabc2aa8e4815fe12c3ab,"Merge branch 'pr/891' into develop

* pr/891:
  removed words from noun list"
garrettr,2015-02-24 18:13:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7505173539c9ecefc92493c408637b53a7f2ccea,7505173539c9ecefc92493c408637b53a7f2ccea,"Merge branch 'pr-890' into develop

* pr-890:
  add a pytest-pep8 configuration that currently does not produce pep8 failures
  fix lots of pep8 and other minor issues - only cosmetics, no functional change"
ThomasWaldmann,2015-02-24 17:04:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eef396d57eec396b0e9eebee744732b3670563c9,eef396d57eec396b0e9eebee744732b3670563c9,"add a pytest-pep8 configuration that currently does not produce pep8 failures

the max line length value is rather high, it should be set to a lower value after agreeing on some.

I personally think 80 is way to low (and outdated, we don't have vt80 terminals any more these days),
but 160 is to high. I suggest to use 120 or 132.

E402 is a matter of taste somehow, can be fixed or not IMHO.

I didn't fix the migration scripts and install files yet, thus they are currently ignored so that they do not produce test failures."
ThomasWaldmann,2015-02-24 17:00:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd6f4c3af6ca4a264b9cd192081af251b2b5db5f,cd6f4c3af6ca4a264b9cd192081af251b2b5db5f,"fix lots of pep8 and other minor issues - only cosmetics, no functional change

mostly whitespace related (indentation, too much/few whitespace)
cases of x == False  ->  x is False
not x == 0  ->  x != 0"
garrettr,2015-02-24 15:41:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/50d33df73c0311dc4ee58606189e587342686a26,50d33df73c0311dc4ee58606189e587342686a26,"Merge branch 'pr-885' into develop

* pr-885:
  html: use class center instead of inline style (which is forbidden)
  add mandatory alt attributes for images (fixes html5 validation errors)
  fix lots of typos, some in code
  fix typo in input element id (also fixes corresponding reference from label element)
  fix reference before assignment issues
  use triple double-quoted docstrings
  replace deprecated <center> tag
  remove superfluous semicolons
  fix html errors (typos, missing or superfluous closing tag)"
ThomasWaldmann,2015-02-24 15:07:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d8f1482574756d73fac57c561a503fb4e620da2b,d8f1482574756d73fac57c561a503fb4e620da2b,html: use class center instead of inline style (which is forbidden)
garrettr,2015-02-23 22:31:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/094d86344fdd2831837e9078a7125479c273b4f9,094d86344fdd2831837e9078a7125479c273b4f9,"Merge pull request #881 from mapmeld/css_fixes

Minor CSS and layout fixes. Fixes #875, fixes #876."
ThomasWaldmann,2015-02-18 13:31:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ad558e5a293445ec66f999c3ec06582982f73dd1,ad558e5a293445ec66f999c3ec06582982f73dd1,add mandatory alt attributes for images (fixes html5 validation errors)
ThomasWaldmann,2015-02-18 05:35:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c97a6638125e7b88bf79e830d7b17d6ff118f356,c97a6638125e7b88bf79e830d7b17d6ff118f356,"fix lots of typos, some in code"
ThomasWaldmann,2015-02-18 04:47:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a71097d33b369187d2a6d0db8edab4b82ab3f090,a71097d33b369187d2a6d0db8edab4b82ab3f090,fix typo in input element id (also fixes corresponding reference from label element)
ThomasWaldmann,2015-02-18 04:30:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/979cc45ecec242b8ebcae51f5cc15e4815c56e11,979cc45ecec242b8ebcae51f5cc15e4815c56e11,fix reference before assignment issues
ThomasWaldmann,2015-02-18 04:15:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/64839751b92c59dbae02c05a7389b688cb1601b5,64839751b92c59dbae02c05a7389b688cb1601b5,use triple double-quoted docstrings
ThomasWaldmann,2015-02-18 04:11:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1cc520b73156fb39fa214e9e4cb3a66e57ea65db,1cc520b73156fb39fa214e9e4cb3a66e57ea65db,replace deprecated <center> tag
ThomasWaldmann,2015-02-18 04:08:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1feb7763239680c20804c27984a29bb7afa5974d,1feb7763239680c20804c27984a29bb7afa5974d,remove superfluous semicolons
ThomasWaldmann,2015-02-18 04:00:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/793e8ba79483d448e3d977b2d74f734da2db8dbf,793e8ba79483d448e3d977b2d74f734da2db8dbf,"fix html errors (typos, missing or superfluous closing tag)"
mapmeld,2015-02-14 14:43:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d33ea0e52709b9b498bf012bd1501e8fa1f11ab,0d33ea0e52709b9b498bf012bd1501e8fa1f11ab,Contain codename generate button inside the codename div [Fixes #876]
mapmeld,2015-02-14 14:38:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c73ccf6a22810df8bd2086f6fb4c071d87d41107,c73ccf6a22810df8bd2086f6fb4c071d87d41107,Match <div> and </div> in journalist index [Fixes #875]
garrettr,2015-02-12 03:36:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/838e4aad21355251ccd2fb1c036e72f76d49c46f,838e4aad21355251ccd2fb1c036e72f76d49c46f,Upgrade deb package metadata for 0.3 release
garrettr,2015-02-12 03:35:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab73ee1d4c340b764dd7165aece439b381e10e52,ab73ee1d4c340b764dd7165aece439b381e10e52,Update changelog for 0.3
garrettr,2015-02-12 03:32:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/08d7dfb297e92a5cc476286c1be63cfa6e9e3396,08d7dfb297e92a5cc476286c1be63cfa6e9e3396,"Final fix to avoid apparmor errors for `/var/www/.gnupg`

Allow the top-level `/var/www/.gnupg` directory to be created, in
addition to the subdirectories allowed by
c6fee9c298c29692237243b25753c323053eaba4"
garrettr,2015-02-12 03:28:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c8a18fab162d04166fe1789f0ca8aebca68f5450,c8a18fab162d04166fe1789f0ca8aebca68f5450,"Merge pull request #872 from ageis/ossec-iptables

Add note about iptables outbound SMTP rule"
garrettr,2015-02-12 01:56:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3ae044045234b96e2bc3640b3272b8170aeecc0f,3ae044045234b96e2bc3640b3272b8170aeecc0f,Use the Freedom of the Press Foundation master signing key
garrettr,2015-02-12 00:15:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5ecb1e6407e6cbc42fd58d38d0367e90574804f,b5ecb1e6407e6cbc42fd58d38d0367e90574804f,"Fix bugs in Admin Interface Edit User page

There were two bugs:

1. No `user_id` was supplied for `url_for`, which led to a 500 on the
   redirect.
2. The `is_admin` value for the user was extracted from the form, but
   was not updated on the user object. This meant that it was impossible
   to change a user's admin status via the ""Edit User"" form."
garrettr,2015-02-12 00:13:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc99f8f5a129bf812262ade6293f8ebb4b122c0f,fc99f8f5a129bf812262ade6293f8ebb4b122c0f,"Use already-extant CSS classes for some Admin Interface notifications

There appear to have been some notification classes in the Admin
Interface that were intended to be used to indicate specific error
conditions, but these classes were never defined in CSS. Since all of
the conditions are error conditions, it is fine to just use the
exisiting ""error"" notification class for all of them."
garrettr,2015-02-12 00:09:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6fee9c298c29692237243b25753c323053eaba4,c6fee9c298c29692237243b25753c323053eaba4,"Prevent apparmor errors on `/var/www/.gnupg`

It appears this issue was not completely fixed by
439a05bf4bc8d0d3b28bc5bb95a39d024b4b6609, as I had hoped, although the
incidence appears to have been reduced. We do not have time to
investigate the cause of this error now, so I am whitelisting the
directories that gpg-agent creates for now. Otherwise, this creates a
lot of logging noise (every time there is a server restart or a
submission)."
garrettr,2015-02-12 00:06:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d3124cbada87739aa7fb746acfa96b670a6872b0,d3124cbada87739aa7fb746acfa96b670a6872b0,"Don't log grsec denying rwxmap

This feature creates quite a lot of log noise. While it is worth
investigating more in depth, it does not appear to cause any breakage.
There are measures in grsec to deny these allocations and return a
useful error code to the application, and no breakage has been observed.
These messages are useful for auditing applications that make
potentially risky memory allocations, but are not useful in the
day-to-day operation of a production instance and create a lot of
logging noise. These messages are surpressed via the kernel flag until
we can investigate them further and see if there are any clear cases in
which we would want to have this logging.

Docs: https://en.wikibooks.org/wiki/Grsecurity/Appendix/Grsecurity_and_PaX_Configuration_Options#Denied_RWX_mmap.2Fmprotect_logging"
garrettr,2015-02-11 21:08:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9083cb1d95e862d50801a26dd406f6c93e889f2a,9083cb1d95e862d50801a26dd406f6c93e889f2a,"Revert ""Merge pull request #871 from dolanjs/ossec-whitelist""

This reverts commit 9cdab36837b6ba045fb0bbed18c795c2644b87a3, reversing
changes made to 4970ad4c3d7853c5b7d9812df1142d070148102c."
ageis,2015-02-11 19:44:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb392634dad17e4ce4f36aa2e019c605991a36c3,fb392634dad17e4ce4f36aa2e019c605991a36c3,Add note about iptables outbound SMTP rule
garrettr,2015-02-11 03:13:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3d97ff749f2f9ece577097cd25747808eaca7b89,3d97ff749f2f9ece577097cd25747808eaca7b89,"Merge pull request #869 from freedomofpress/last-minute-tweaks

Last minute tweaks"
garrettr,2015-02-11 03:09:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9cdab36837b6ba045fb0bbed18c795c2644b87a3,9cdab36837b6ba045fb0bbed18c795c2644b87a3,"Merge pull request #871 from dolanjs/ossec-whitelist

whitelisted grsec Denied RWX mmap"
garrettr,2015-02-11 03:07:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5910252982bda43f5d8f1dba076ac7f701ef119f,5910252982bda43f5d8f1dba076ac7f701ef119f,Add missing AppArmor rule for template
garrettr,2015-02-11 01:48:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99ba25243bdb119dbcb8769c7d6d6c4099024e18,99ba25243bdb119dbcb8769c7d6d6c4099024e18,Hack to get around python-gnupg falling over when `$HOME` is not set in a worker process
garrettr,2015-02-10 23:04:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d51ccce75ec5f6e4a6c29fe69d94f09f2b88447f,d51ccce75ec5f6e4a6c29fe69d94f09f2b88447f,Merge branch 'develop' into last-minute-tweaks
garrettr,2015-02-10 23:02:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4970ad4c3d7853c5b7d9812df1142d070148102c,4970ad4c3d7853c5b7d9812df1142d070148102c,"Merge pull request #870 from dolanjs/fix-prod-vm-names

normalize VM names"
garrettr,2015-02-10 19:52:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e9c4647ed7a2381ba9ec1e6f9c217ebc05210ed,0e9c4647ed7a2381ba9ec1e6f9c217ebc05210ed,Fix unit tests due to changes in reply storage
garrettr,2015-02-10 18:38:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/83d2329b77eff5e05f24737cc8778cedc58fa560,83d2329b77eff5e05f24737cc8778cedc58fa560,"Fix lag in updating UI after deleting replies

Since the changes in f9969001 simplified and reduced the number of steps
in the submission deletion flow, it exposed a previously hidden problem
with deleting replies. Submissions and replies are both securely deleted
with `srm` to reduce the possibility of forensic recovery. `srm` is run
asynchronously via a job queue, since it can take a long time to run
(especially for large files).

Since Submissions were recorded in the database, we used that to
determine if they had been deleted. The files might still be on the
disk, but they would be in the job queue either being deleted or waiting
to be deleted. Replies never had a database table, so we previously
tested for whether they'd been deleted by checking for their presence on
the filesystem. This assumption is rendered invalid by the async job
queue, and the problem was made readily visible by the reduced wasted
time in the new and improved deletion UX flow. Now it is possible for a
user to select multiple documents and delete them, only to see the
replies still in the list upon being automatically redirected to the
collection page. Waiting and then refreshing will cause the replies to
disappear, showing that they had been scheduled for deletion but had not
yet been deleted when the collection list was refreshed.

The best solution to this problem was to add a similar table for Replies
to the database. This has the benefit of simplifying a lot of code,
which previously handled replies and submissions differently and can now
handle it identically or at least similarly. It may also be beneficial
in the future, as it is now easier to attach metadata to replies and
build more sophisticated data relations between them and other entities
in the system."
garrettr,2015-02-10 18:36:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0de7c2c086df19b8e9527342b219bf7b390c5754,0de7c2c086df19b8e9527342b219bf7b390c5754,"Remove unused return value

`subprocess.check_call` will raise `CalledProcessException` if the
subprocess exits with non-zero, so we do not need to return the value.
It is also not used anywhere else in the code."
garrettr,2015-02-10 18:36:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7cdbf0c989109c089c758d28b68f5f1925ebf388,7cdbf0c989109c089c758d28b68f5f1925ebf388,Increase job timeout for securely deleting files
garrettr,2015-02-10 18:35:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2c5d05a28fb78b533cdcb0e8c4c9d250ce0a1c7,e2c5d05a28fb78b533cdcb0e8c4c9d250ce0a1c7,Fix doc counts on index page
garrettr,2015-02-10 02:42:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/977de38b1180e2d2ff8b8fa5ad5715215bed3395,977de38b1180e2d2ff8b8fa5ad5715215bed3395,Better provisioning URI's for Google Authenticator
garrettr,2015-02-10 01:51:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f9969001577e1eb878a42978854f432eaab5910c,f9969001577e1eb878a42978854f432eaab5910c,"Improve submission deletion flow

Since submission deletion is a destructive action, we want to confirm it before
carrying it out. The original flow was cumbersome and required three
separate steps for each set of documents deleted:

1. Click delete
2. Confirm that the files you selected are the ones you want to delete
   on `delete.html`
3. See a confirmation on a separate page (!!) with a link that, when
   clicked, takes you back to the collection you started with.

This commit adds a new Javascript-based flow that uses a pop-up alert to
confirm deletion. The original flow, which did not use any
Javascript, has been left in in case the journalist's browser has JS
disabled, and has been improved by replace the 3rd step in the list
above with a redirect back to the original collection accompanied by a
flashed notification.

Choosing between these flows is handled automatically in `journalist.js`
(progressive enhancement)."
garrettr,2015-02-09 23:58:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/60b2fc935619482d91fb58ab43302309139ce083,60b2fc935619482d91fb58ab43302309139ce083,"Increase CSRF token time limit to 24h

The default timeout is 1h. Large uploads can take > 1h over Tor. It
would be incredibly frustrating to wait 1h+ for a large upload to
complete over Tor, only to have the upload rejected because the CSRF
token had expired while the upload was in progress.

24h was chosen arbitrarily, and may need to be tuned in the future based
on further testing of large uploads over Tor."
garrettr,2015-02-09 21:47:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d0f3737d010604e65c907217fa67aa500b4ef609,d0f3737d010604e65c907217fa67aa500b4ef609,Use journalist designation in reply filenames
garrettr,2015-02-09 21:47:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a7a22d830c33cb5be32a9d17aa34a53e218c388d,a7a22d830c33cb5be32a9d17aa34a53e218c388d,Source.journalist_filename is a perfect candidate for @property
garrettr,2015-02-06 22:13:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e195f76e17fc703077289f9428d4a8d66fd8e8c9,e195f76e17fc703077289f9428d4a8d66fd8e8c9,"Replace reply confirmation page with flashed notification

Previously, when a journalist submitted a reply to a source on the
Document Interface, they would see a confirmation page that:

1. Confirmed that the reply had been stored
2. Explained that the reply:
   1. would show up in the list of documents
   2. might eventually be deleted by the source, which could be
      indicative that it was read (although that is a bit fuzzy).

The journalist then had to click the ""Return to the list of documents
for foobar..."" link to return to the list of documents.

This extra step to the workflow quickly got annoying. I replaced the
reply confirmation page with a flashed notification confirming that the
reply was stored, and a redirect back to the page for the source that
was replied to.

Moved the explanation of reply/source interaction to the Journalist
User Manual and deleted the screenshot of the removed `reply.html` page."
garrettr,2015-02-09 21:24:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/14f5cb41dff70cf8419bb975fbc6ebcb1b3dac24,14f5cb41dff70cf8419bb975fbc6ebcb1b3dac24,Fix password field on admin interface Edit User page
garrettr,2015-02-09 21:14:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ea2b1ff818130cfb2f42da5f6f6b56bc897de196,ea2b1ff818130cfb2f42da5f6f6b56bc897de196,"Merge pull request #863 from dolanjs/apparmor-fixes

apparmor updates"
garrettr,2015-02-09 01:58:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a14dda785abe90f91a32fffc78e6b7363eaa090,6a14dda785abe90f91a32fffc78e6b7363eaa090,"Merge pull request #868 from freedomofpress/get-rid-of-useless-gpg-logging

Get rid of useless gpg logging"
garrettr,2015-02-09 01:40:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2d8854576bd93c20e9f10d6e43dbce70423bc240,2d8854576bd93c20e9f10d6e43dbce70423bc240,Hack to silence warnings about the deprecated --no-use-agent option
garrettr,2015-02-09 01:27:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/439a05bf4bc8d0d3b28bc5bb95a39d024b4b6609,439a05bf4bc8d0d3b28bc5bb95a39d024b4b6609,"Remove unnecessary check for gpg2 vs gpg

Now that we use Ansible and control the package dependencies via Debian
packaging, it's not possible to install SecureDrop without also
installing gpg2. Therefore, this test is no longer needed.

In addition, the response to not finding gpg2 was questionable (not sure
how the WSGI/web server would react to the assertion). This is also a
bad separation of concerns - dependency management should be separate
from the application code as much as possible.

Additionally, the initial call out to the gpg binary to check the
version was temporarily creating a key directory in `/var/www/.gnupg`,
which caused AppArmor errors. Since the version check isn't needed
anyway, the easiest way to fix this error is just to remove the check."
garrettr,2015-02-09 00:29:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/177f86c411f76d3332783453c2befee99856f3fd,177f86c411f76d3332783453c2befee99856f3fd,"Remove ossec-server Debian package

This package has been moved to a dedicated git repository:
https://github.com/freedomofpress/ossec"
garrettr,2015-02-09 00:29:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90e42f60570fbcf88faad162eb26b23677cd61b4,90e42f60570fbcf88faad162eb26b23677cd61b4,Remove obsolete reference to securedrop-grsec package
garrettr,2015-02-09 00:28:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/674aad45ef9090275d085bfd1759aa625659c850,674aad45ef9090275d085bfd1759aa625659c850,"Merge branch 'pkg-reorg' of https://github.com/dolanjs/securedrop into dolanjs-pkg-reorg

Conflicts:
	build/build_generic_package.sh
	install_files/ansible-base/build-deb-pkgs.yml"
garrettr,2015-02-09 00:13:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d9c06ac78a465e9bc1c18d7933669a3b0241acf,0d9c06ac78a465e9bc1c18d7933669a3b0241acf,"Merge pull request #866 from freedomofpress/remove-securedrop-grsec

Remove securedrop-grsec"
garrettr,2015-02-08 18:45:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/514a1013ff7e8bdb42f510779241498e579212d2,514a1013ff7e8bdb42f510779241498e579212d2,Cleanup formatting and typos
garrettr,2015-02-08 18:39:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3d84d6fef9240f22d198fd4e16efaee2a43b76f8,3d84d6fef9240f22d198fd4e16efaee2a43b76f8,Use .gitignore to include build dir in repo
garrettr,2015-02-08 02:06:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3d5ae50c13de91fc4c4c68884c0bc48498bf5265,3d5ae50c13de91fc4c4c68884c0bc48498bf5265,"Remove securedrop-grsec

This commit removes everything related to building an Ubuntu kernel with
grsecurity for SecureDrop and the build scripts for the securedrop-grsec
kernel metapackage. This material has been moved to a separate,
dedicated git repository: https://github.com/freedomofpress/grsec"
dolanjs,2015-02-07 18:28:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/783e032394f6c0390acb3532d5a465d9422ff22b,783e032394f6c0390acb3532d5a465d9422ff22b,Initial commit
garrettr,2015-02-06 23:56:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/315a4bbb52a28269ea91d83b7d09d0129bc6df84,315a4bbb52a28269ea91d83b7d09d0129bc6df84,"Merge pull request #865 from ageis/kexalgos

Limit SSH key exchange algorithms to highly secure subset. Closes #857."
garrettr,2015-02-06 21:07:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bb6995c9a839b1450cdef746a1d8d3ce5aa42a97,bb6995c9a839b1450cdef746a1d8d3ce5aa42a97,"Merge pull request #864 from ageis/remove-rc4

Remove RC4 from deployment best practices"
garrettr,2015-02-06 19:57:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ed392affca522340df4a1c2d2dfb12c0eea9610,7ed392affca522340df4a1c2d2dfb12c0eea9610,"Merge pull request #862 from freedomofpress/request-that-secures-file-uploads

Request that secures file uploads"
garrettr,2015-02-04 23:09:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58e21cf40eb3df68b7b63ed2f0609345ee30cf3e,58e21cf40eb3df68b7b63ed2f0609345ee30cf3e,Use binary formatting for file sizes in Document Interface
garrettr,2015-02-05 02:04:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f98a4903f3c75fa6c416376d651074df6243cfd0,f98a4903f3c75fa6c416376d651074df6243cfd0,Fix unit tests for change from .zip -> .gz
garrettr,2015-02-04 23:10:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/88f6ea9b304232a2f55ac2ca09ae3b414660c73f,88f6ea9b304232a2f55ac2ca09ae3b414660c73f,Use gzip instead of zipfile for uploaded files
garrettr,2015-02-04 20:41:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa0ebe55ae5804f4f324a83de64e0879228261bd,aa0ebe55ae5804f4f324a83de64e0879228261bd,Use SecureTemporaryFile for Source Interface requests
garrettr,2015-01-31 00:13:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aca449d9b4fc102f6d8cd532ec529db8ea0f2e3f,aca449d9b4fc102f6d8cd532ec529db8ea0f2e3f,"Add SecureTemporaryFile class

This class is intended to be used to safely buffer uploads (which may
contain submission plaintext) to disk."
garrettr,2015-01-31 00:04:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/feabdb29527a8d5b29ddbca6a8d07a13fd69fb6c,feabdb29527a8d5b29ddbca6a8d07a13fd69fb6c,"Merge pull request #855 from freedomofpress/test-securedrop-app-code-upgrades

Test securedrop app code upgrades"
garrettr,2015-01-31 00:03:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3cccbda467652a0bbf7125ea51fbe0d6ede988b2,3cccbda467652a0bbf7125ea51fbe0d6ede988b2,"Merge pull request #859 from dolanjs/cron-apt-syslog

changed cron-apt log to syslog format"
garrettr,2015-01-30 22:15:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ea48bcaf5a75ce81fda650973b61263c56df1c5,0ea48bcaf5a75ce81fda650973b61263c56df1c5,Rearrange code related to `dch` for clarity
garrettr,2015-01-30 22:14:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e88c8749d20f2976bbefb7ed00f32c34945a56a2,e88c8749d20f2976bbefb7ed00f32c34945a56a2,Use $VENV consistently throughout
garrettr,2015-01-29 01:26:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9868f3a7a3d39e63748ed8e4305bdf0a8d07918c,9868f3a7a3d39e63748ed8e4305bdf0a8d07918c,Updated Python dependencies using pip_update.sh
garrettr,2015-01-29 00:52:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04ce3f0029b80ebf37854a01bc4d4eb39f7aa080,04ce3f0029b80ebf37854a01bc4d4eb39f7aa080,Fix Python requirements upgrade script
garrettr,2015-01-28 20:53:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb9a4d95c1009527e06b68428d8dfe0629e33000,eb9a4d95c1009527e06b68428d8dfe0629e33000,"Set distribution when editing the changelog

The default distribution value, `UNRELEASED`, only makes sense if you
are engaging with the mainline Debian packaging process. For our
purposes, every time we run this script we are doing a release.

It is set to trusty, which is currently the only distribution that we
support."
garrettr,2015-01-28 20:52:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f9e18c0d8c2028119e195c69a75c58c7cdfed68a,f9e18c0d8c2028119e195c69a75c58c7cdfed68a,Set default env vars for Changelog author metadata
garrettr,2015-01-28 20:52:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/db4cf69bb76ba2e14c522a4f2b4466c59abb4439,db4cf69bb76ba2e14c522a4f2b4466c59abb4439,Properly check for git in addition to dch
garrettr,2015-01-28 19:39:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/edc1208093d7b7463e2dcd2f587d2d28c890630e,edc1208093d7b7463e2dcd2f587d2d28c890630e,"`sudo su` before compiling the kernel

Since `make-kpkg` apparently requires root, we previously ran it with
sudo. We also recommended setting the `CONCURRENCY_LEVEL` environment
variable to use multiple cores in order to speed up the (very
time-consuming) kernel build. However, sudo does not inherit environment
variables by default (this is a security feature, see the man page), so
following this documentation resulted in always building the kernel with
a single core.

This change recommends `sudo su`ing to root before setting the
environment variable and building the kernel. When tested, this change
led to the kernel build successfully utilizing all available cores."
garrettr,2015-01-27 20:05:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6730f5de14883696942f75ed0f706493bc80083b,6730f5de14883696942f75ed0f706493bc80083b,"Changed sed invocations for Debian/Ubuntu

Now that we are running this script on Debian/Ubuntu, we need to change
the syntax used with the -i flag from the previous ""Mac OS X sed"" syntax."
garrettr,2015-01-27 20:04:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/efbbefe7bc76dcfb7422d4b0fbae82d5f2d16905,efbbefe7bc76dcfb7422d4b0fbae82d5f2d16905,"Check for dch and git requirements

Now that we are using dch to edit the Debian package configuration file,
the implication is that `update_version.sh` must be run from a
Debian/Ubuntu environment such as the build VM.

This line checks for dch and, if it is not found, exits with an error
message describing how to install the required dependencies."
garrettr,2015-01-27 20:03:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ea78f652578b3ba923e99a23a06acb3a52fdf29,7ea78f652578b3ba923e99a23a06acb3a52fdf29,Edit Debian changelong with dch using -c flag
garrettr,2015-01-27 18:24:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/948ef9a9c05961dde7db44f82749933a5ba29ed9,948ef9a9c05961dde7db44f82749933a5ba29ed9,Script to automate much of updating securedrop-app-code
garrettr,2015-01-27 17:51:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc354b5448c6c5b6ef691ab0dbf31b7ec234051b,bc354b5448c6c5b6ef691ab0dbf31b7ec234051b,Add variable for securedrop-app-code package version
garrettr,2015-01-28 22:53:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1f2650bb44974a6c355e8110f46e90a296f645cb,1f2650bb44974a6c355e8110f46e90a296f645cb,"Merge pull request #854 from freedomofpress/avoid-cron-apt-warning-about-duplicate-source-lists

Avoid cron-apt warning about multiple source lists"
garrettr,2015-01-28 22:27:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f78ffcc66008465ba27989d4c16a4a7d15c0decb,f78ffcc66008465ba27989d4c16a4a7d15c0decb,"Avoid cron-apt warning about multiple source lists

Make sure the *only* list that is being checked for updates is
`security.list` by explictily telling cron-apt to ignore source lists in
`/etc/apt/sources.list.d`, which is defined by the configuration
variable `Dir::Etc::SourceParts`. See the man page for details."
garrettr,2015-01-27 00:23:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b88120a02acd07e0691c35691dd083ad35718307,b88120a02acd07e0691c35691dd083ad35718307,"Merge pull request #850 from freedomofpress/apt-repo-url-variable

Use a variable for the FPF package repo URL"
garrettr,2015-01-27 00:12:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f573cf5defcfc7e59beeb6a695efd8b11b337871,f573cf5defcfc7e59beeb6a695efd8b11b337871,"Use a variable for the FPF package repo URL

This makes it easier to change the URL for testing purposes.

It is also DRY."
garrettr,2015-01-27 00:19:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e577b2811c3157a8f29b53d872369333d23873bd,e577b2811c3157a8f29b53d872369333d23873bd,"Merge pull request #849 from dolanjs/apt-get-fix-install

add -y to apt-get install"
garrettr,2015-01-26 23:05:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7acf1a8775481d656cb4e91921c68570b31c0cad,7acf1a8775481d656cb4e91921c68570b31c0cad,"Merge pull request #847 from dolanjs/merge-app-mon-build-vm

Merge app mon build vm, closes #843"
garrettr,2015-01-24 00:50:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd4daaabf4910113a07bd58228bfec639d612d63,bd4daaabf4910113a07bd58228bfec639d612d63,"Merge pull request #846 from dolanjs/iptables-invalid-and-acks

Iptables invalid and acks. resolves #828, follow-up in #845"
garrettr,2015-01-23 01:07:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef16e5749c4c3ae0176a3206143698d986f1f431,ef16e5749c4c3ae0176a3206143698d986f1f431,"Merge pull request #842 from freedomofpress/package-build-automation

Package build automation"
garrettr,2015-01-23 00:43:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6cf08e2cf55fb286172b6e1ef359071a51b445bb,6cf08e2cf55fb286172b6e1ef359071a51b445bb,fixes from @dolanjs review
garrettr,2015-01-22 23:47:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4d51d0293852fd4438414d4d788b2e14bb421525,4d51d0293852fd4438414d4d788b2e14bb421525,"Merge pull request #840 from freedomofpress/only-one-notification-after-initial-submission

Limit notifications for initial submission"
garrettr,2015-01-22 23:27:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7fd33a22f60da9b098519da1325bd644cf77a111,7fd33a22f60da9b098519da1325bd644cf77a111,Build grsec metapackage with Ansible build role
garrettr,2015-01-22 22:56:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/986138ceb8a3ea875c92ad1bacee95887d31f9f9,986138ceb8a3ea875c92ad1bacee95887d31f9f9,"Move and rename grsec metapackage build script for clarity

Also adds some whitespace to the script for readability."
garrettr,2015-01-22 22:39:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b2678f6647ae05e47014bdfe1b0cfce8fb926bac,b2678f6647ae05e47014bdfe1b0cfce8fb926bac,"Store .debs and build artifacts in new build directory

This fixes two annoying problems with the way building packages used to
work:

1. The built .debs and files downloaded as part of the build process
(e.g. the OSSEC .tar.gz) used to be stored in the top level directory of the
repo, which was a lot of clutter. Now they are stored in their own
dedicated directory, `build`.
2. In order to be used in conjunction with the `install_local_pkgs`
Ansible tag, the .debs used to have to be manually moved to
`install_files/ansible-base`, which was an annoying step that was easy
to forget. Now it looks in the build directory, which is where the debs
are put automatically."
garrettr,2015-01-22 19:43:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d74f40039d8cb5abfbc69a010b7f2d78f6079b1,6d74f40039d8cb5abfbc69a010b7f2d78f6079b1,Fix conditional statement for OSSEC download
garrettr,2015-01-22 19:40:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dafae03855af855ebd378f93cb4ad04a5eb21382,dafae03855af855ebd378f93cb4ad04a5eb21382,"Get rid of unused var non_default_securedrop_repo

We need to define `securedrop_repo` for the `/build$/` roles. Some
leftover/unfinished changes changed that to be
`non_default_securedrop_repo` in `development-specific.yml`, which cased
the OSSEC package build role to fail. Changing the variable back to
`securedrop_repo` fixes the issue."
garrettr,2015-01-22 00:44:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4dd3af40a758119f5c8714f4efc1031571e58587,4dd3af40a758119f5c8714f4efc1031571e58587,"Merge pull request #829 from dolanjs/ansible-backup-restore

added a restore script"
garrettr,2015-01-22 00:03:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39d3fb78fe5685123e3f8514f8f7b7b165019c47,39d3fb78fe5685123e3f8514f8f7b7b165019c47,"Limit notifications for initial submission

We added a ""first submission"" reminder a while back as a friendly way to
remind sources that they should remember to return to their account and
check back for replies after making a submission. At the time, this
notification was shown in addition to the standard message and/or file
submission notifications. However, this resulted in a cluttered UI after
the first submission. After some experimentation, I decided it feels
natural to thank them for submitting something after the first
submission, and to use the standard message and/or file submission
notifications after that.

This commit changes the initial notification behavior on the Source
Interface and updates the tests accordingly."
garrettr,2015-01-21 23:01:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/674a6472ba900a5f8497d03a524f31feb91cf33f,674a6472ba900a5f8497d03a524f31feb91cf33f,"Merge pull request #831 from ageis/wordlist-refinements

Remove less frequently used words. Closes #824."
garrettr,2015-01-21 22:39:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/937fb6e8cfb77b3b5a629d1a52a24128c83f8ac3,937fb6e8cfb77b3b5a629d1a52a24128c83f8ac3,"Merge branch 'invalid-state-iptables' of https://github.com/dolanjs/securedrop into dolanjs-invalid-state-iptables

Conflicts:
	install_files/ansible-base/roles/restrict_direct_access_app/templates/app_rules_v4
	install_files/ansible-base/roles/restrict_direct_access_mon/templates/mon_rules_v4

The new rules to handle invalid packets were added to a commit prior to
the one where we removed the Tor destination ports restrictions."
garrettr,2015-01-21 22:31:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed5e7e4c6d96ec589349776bb913e5a6cde0904c,ed5e7e4c6d96ec589349776bb913e5a6cde0904c,"Merge pull request #830 from freedomofpress/fixes-from-test-install

Network firewall rules and docs improvements"
garrettr,2015-01-21 22:03:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c8b67206db3e6ed28d10a4ce143af25f0ee502e,4c8b67206db3e6ed28d10a4ce143af25f0ee502e,"Merge pull request #839 from dolanjs/massage-pfsense-rules-to-iptables

update iptable version of network fw rules"
garrettr,2015-01-21 05:11:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a153645b43214ffbb6c004b14d4520f3abbb9fd,1a153645b43214ffbb6c004b14d4520f3abbb9fd,"Merge pull request #806 from runasand/develop

Move threat model doc to GitHub"
garrettr,2015-01-21 04:31:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bde79a37444db0eb2180252b2e66f36a8775f1b5,bde79a37444db0eb2180252b2e66f36a8775f1b5,Update headings and TOC
garrettr,2015-01-21 04:28:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/870e1e995efb771d783ce5f97e6c6a478566e425,870e1e995efb771d783ce5f97e6c6a478566e425,More detailed description of *ths files created by Ansible playbooks
garrettr,2015-01-21 04:27:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fd0507190a2c8ddc2551c01a37ab36f0d0bcbec1,fd0507190a2c8ddc2551c01a37ab36f0d0bcbec1,Tighten up and clarify install docs
garrettr,2015-01-21 04:06:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/92e85c4c14c4d8de441d627b5fe0270e4196f66c,92e85c4c14c4d8de441d627b5fe0270e4196f66c,"Merge branch 'develop' into fixes-from-test-install

Conflicts:
	docs/install.md"
garrettr,2015-01-21 04:00:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd5dec61d38e5077e27a33eba8a5bbc1231a8ec2,bd5dec61d38e5077e27a33eba8a5bbc1231a8ec2,Document assigning a static IP to the admin workstation
garrettr,2015-01-21 03:58:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/69f5f9a496ad6b259b84ea7eb4b7a7548cbbcbf5,69f5f9a496ad6b259b84ea7eb4b7a7548cbbcbf5,"Fix hard wrapped lines

This doc was originally written with lines hard wrapped at around 80
characters due to my editor's settings. I think this kind of file is
better edited with a visual wrapping mode (like Emacs'
`visual-line-mode`) to reduce unnecessary changes due to rewrapping."
garrettr,2015-01-21 03:58:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a6cdf318de6f5e8236e51ad315e4495233a274b7,a6cdf318de6f5e8236e51ad315e4495233a274b7,Fix list numbering
garrettr,2015-01-21 03:11:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a89861bbaeacec09ca565bbd5e4a01716baf0ce8,a89861bbaeacec09ca565bbd5e4a01716baf0ce8,Updated screenshots for new network firewall rules
garrettr,2015-01-21 02:57:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2098369b343c3c7996c7c56f37bea5c2e661b5bd,2098369b343c3c7996c7c56f37bea5c2e661b5bd,"Encourage using KeePassX for network firewall admin password

Based on review comment from @dolanjs:
https://github.com/freedomofpress/securedrop/pull/830#discussion_r23106111"
garrettr,2015-01-21 02:45:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4d0164c969105e992593040e4493385cdd45623,d4d0164c969105e992593040e4493385cdd45623,"Merge pull request #833 from ageis/training-sched

Superficial edits r=garrettr"
garrettr,2015-01-21 02:28:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6355e65dd9a6fbda57c398d6a36816a59e915549,6355e65dd9a6fbda57c398d6a36816a59e915549,"Merge pull request #835 from pemulis/patch-3

fix tails setup link"
garrettr,2015-01-21 01:33:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/76f61216bea11827b8fb6fd4e6171cf48344b183,76f61216bea11827b8fb6fd4e6171cf48344b183,"Merge pull request #823 from yasyf/format-auth-token

Ignore Whitespace in Auth Token r=garrettr"
garrettr,2015-01-21 00:57:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/74df00ac9607cd92beb89ebc5a3e97379e4acfd2,74df00ac9607cd92beb89ebc5a3e97379e4acfd2,Workaround for checking SMTP server fingerprint in Tails
garrettr,2015-01-21 00:56:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0190d42bfa8d7deb60d3ac2132a4e48e5016196c,0190d42bfa8d7deb60d3ac2132a4e48e5016196c,Another reminder that the custom header is optional
garrettr,2015-01-20 22:32:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/08215f8f1d22f592c851fb8c6aba1dd5176acc47,08215f8f1d22f592c851fb8c6aba1dd5176acc47,Replace redundant info with link to OSSEC Alerts Guide
garrettr,2015-01-20 22:31:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58def673dc43836a733674a5dba9e2a794954773,58def673dc43836a733674a5dba9e2a794954773,"Simpler way to check SSH connectivity

Following the example of the earlier section where we check connectivity
and authenticating with passwords after first connecting the Admin Workstation."
garrettr,2015-01-20 22:31:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/913e8767b682ae295b2587762e91e0cd707d9adc,913e8767b682ae295b2587762e91e0cd707d9adc,"Connect Admin Workstation to switch

Instructions in install.md reflected prior (wishful thinking) setup
where we had a firewall with > 3 ports. Updated doc to reflect that we
now recommend using a switch on the LAN port to handle the Admin
Workstation."
garrettr,2015-01-20 22:26:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c3b0edeb52f0696bc0adf01db7f5dad2b85f272a,c3b0edeb52f0696bc0adf01db7f5dad2b85f272a,Update Ubuntu Guide network info to match Network Firewall doc
garrettr,2015-01-20 22:25:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da65a02eb2c747ba0cfede3d87cedc4b2afd8b4d,da65a02eb2c747ba0cfede3d87cedc4b2afd8b4d,Update default inventory IPs to match docs
garrettr,2015-01-20 20:56:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/40bb164cb82f447e558ff0bf90bfdaa27b6bf9ba,40bb164cb82f447e558ff0bf90bfdaa27b6bf9ba,Format example network info as a list
yasyf,2015-01-18 11:43:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac48a31a2283fa5709e0d55ac7df21772703e1f6,ac48a31a2283fa5709e0d55ac7df21772703e1f6,Move _format_token to logical place in file
pemulis,2015-01-17 22:00:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/11877c196b5c18ea427dedb41910eafe67eb467e,11877c196b5c18ea427dedb41910eafe67eb467e,fix tails setup link
garrettr,2015-01-16 03:31:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e9b8243bc58798194308795bfd3a8e3d552fc3ca,e9b8243bc58798194308795bfd3a8e3d552fc3ca,"Update network firewall rules and docs

I updated the firewall rules slightly to match a working configuration
that was tested today. There are several options for how to set up the
rules to allow traffic from the Admin Workstation, and I was not sure
how to best express them in the iptables format, so I just added a
comment to the rules template. I also removed several lines of comments
that are irrelevant after recent changes.

I reworked the Network Firewall documentation completely. The primary
change was in recommending that users *not* use the default subnet of
192.168.1.1 for the LAN subnet, since it conflicts when connected to
another router that uses that (very common) subnet. I also explained
what is necessary to successfully configure the WAN in a both more
detailed and more abstract way. I added much more detailed documentation
for the initial configuration of the firewall. I edited the tips for
setting up the firewall rules based on some recent changes.

Finally, I added some screenshots from a working pfSense firewall
configuration."
garrettr,2015-01-15 20:33:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/940ce3a9430c2d690f93a21d2cb26461bd54620b,940ce3a9430c2d690f93a21d2cb26461bd54620b,"Clarify location of recommended changes

Adds a link to the Tails documentation for manually installing Tails on
a USB using a Mac, and specifically references the section in that
documentation where we recommend changing the Tails instructions
slightly in order to speed up copying the .iso to the USB."
garrettr,2015-01-15 20:06:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1640b61f75ec41c0f51b44bce9b7e0e971be7dfc,1640b61f75ec41c0f51b44bce9b7e0e971be7dfc,Fix link to Tails Guide
garrettr,2015-01-15 00:01:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3768ad87f66d0817962a24f218276a3669213caf,3768ad87f66d0817962a24f218276a3669213caf,"Allow any outgoing TCP connection for Tor

The network firewall and iptables rules were previously allowing Tor
only on a set of common Tor relay ports (see
https://www.torproject.org/docs/faq.html.en#OutboundPorts). However, we
removed that restriction from Tor's configuration in #735 since it
appeared to cause problems during a recent install.

Allowing Tor to use any port, but blocking traffic to those ports in
both the server and network firewalls could cause connectivity
issues. Additionally, the Tor documentation recommends using any
advertised port to connect to relays if possible, in order to take
advantage of the most diversity of relays (see previous FAQ link).

Getting rid of these ""multiport"" restrictions allows us to simplify the
firewall rules somewhat, since we must now allow outbound TCP on any
port and don't need to open specific ports for TCP anymore. In the case
of the network firewall rules, these rules were removed since currently
those rules must be manually entered into the pfSense WebGUI which is
quite annoying. We left most of the now-redundant rules in the iptables
rules, since they are automatically set up during the install
process. Leaving them in gives a clearer picture of the overall traffic
flows to someone reading the rules, and could be helpful if we decide to
reverse this decision in the future and restrict outbound TCP by port
again."
garrettr,2015-01-13 21:55:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d07f72d49736ed8d7c29261b4d3473a9a084f030,d07f72d49736ed8d7c29261b4d3473a9a084f030,More tips for setting up the firewall rules
garrettr,2015-01-13 21:47:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a2c388635ec6bcdfbe0e259668140e2e67ca0c8f,a2c388635ec6bcdfbe0e259668140e2e67ca0c8f,Simpler connectivity test: confirm the hostname for each IP
garrettr,2015-01-13 21:46:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/560249dbe1e6df00f3b6d98ced7deb7e03c8926b,560249dbe1e6df00f3b6d98ced7deb7e03c8926b,Formatting for install guide around network firewall instructions
garrettr,2015-01-13 19:41:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7cbf59a37bdfee94b3293fa89975490a656e7549,7cbf59a37bdfee94b3293fa89975490a656e7549,"Merge pull request #808 from freedomofpress/test-install-fixes

Fixes from recent test install"
garrettr,2015-01-03 01:15:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ab8671ec06c74e1d489a7cc8154e868b89b7558,6ab8671ec06c74e1d489a7cc8154e868b89b7558,Clarify language in Tails Guide
garrettr,2015-01-03 01:14:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5cac5962f19ceec9aafa9cdfce62becc3f4cd2a3,5cac5962f19ceec9aafa9cdfce62becc3f4cd2a3,Add note that Tails Installer is required to create Tails USBs that support persistence
garrettr,2015-01-03 00:48:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2b5c8f28a12a2b65c6d1e7140cd2d2ae99519709,2b5c8f28a12a2b65c6d1e7140cd2d2ae99519709,Remove trailing period for consistent appearance
garrettr,2014-12-16 10:06:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c1f636561ad4a77f10be621447e477b6e8d4fae4,c1f636561ad4a77f10be621447e477b6e8d4fae4,"firewall configuration tips for Tails, based on testing"
garrettr,2014-12-16 10:05:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96ca16b87dc41121776d00ea4364fb734b6f0381,96ca16b87dc41121776d00ea4364fb734b6f0381,Added whitespace for readability
garrettr,2014-12-16 08:13:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/44f19a386af144ada9bf2463dac84287427f372c,44f19a386af144ada9bf2463dac84287427f372c,TOC for the Tails Guide
garrettr,2014-12-16 08:04:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3973a24b9cca7f14d031a1b853bd0d51b09397c0,3973a24b9cca7f14d031a1b853bd0d51b09397c0,Clean up and consolidate Tails-related documentation
garrettr,2014-12-16 05:12:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e26d584648ba14c7a897c8ba6afe3ea77875186,6e26d584648ba14c7a897c8ba6afe3ea77875186,"Rearrange ""how to"" sections and formatting"
garrettr,2014-12-16 05:12:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e6897abb8e4679afd70510a5f8b529e8a68910f7,e6897abb8e4679afd70510a5f8b529e8a68910f7,"Reference ""Document Interface"" for clarity"
garrettr,2014-12-16 05:08:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b20b665997767d132f38a742ddccc3b3264d319b,b20b665997767d132f38a742ddccc3b3264d319b,"Fixes to architecture component list in README

* Remove outdated reference to DVD drive. We now usually recommend
  running Tails from a USB with persistence to improve usability of the
  authenticated Tor Hidden Service.
* Introduce interface nomenclature instead of ""first"" and ""second""
  hidden service
* Add hyperlinks for authenticated Tor hidden services and OSSEC"
garrettr,2015-01-13 17:44:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0826c5703965419363ca4c593bad1d0573bbfebd,0826c5703965419363ca4c593bad1d0573bbfebd,"Merge pull request #817 from ageis/less-offensive

Cleanup wordlist a little"
yasyf,2015-01-11 11:39:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4dc1292594697639491ef3425deefef4ab0cb7f9,4dc1292594697639491ef3425deefef4ab0cb7f9,Fix grammar in docstring
yasyf,2015-01-11 11:39:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/573e3d72e457fc56430b620fd7637f13afbfb62f,573e3d72e457fc56430b620fd7637f13afbfb62f,"Filter out whitepace from authentication token.

Removes any whitespace from the user's authentication token before
attempting to verify it. Closes #820."
ageis,2014-12-21 23:52:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f07ded4f6dc703b5a2effeaf2da493f984fe722e,f07ded4f6dc703b5a2effeaf2da493f984fe722e,Remove some more words
ageis,2014-12-21 23:50:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b9a9b051912d90828b6a5df268df32676ea18ba7,b9a9b051912d90828b6a5df268df32676ea18ba7,Remove some words
runasand,2014-12-20 03:06:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/26f6178cbb1c2320562c5cac3766404068d42f72,26f6178cbb1c2320562c5cac3766404068d42f72,Change 'assumption' to 'assumptions'
garrettr,2014-12-19 21:46:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7916740603b12d4e95b6ee624c7313031706e757,7916740603b12d4e95b6ee624c7313031706e757,"Merge pull request #815 from dolanjs/ossec-grsec-spam

ossec grsec login spam"
garrettr,2014-12-17 22:15:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90e6a605ddd852334998761736ad04340f8859c3,90e6a605ddd852334998761736ad04340f8859c3,"Merge pull request #811 from eviljoel/bad-ciphers

 Remove Insecure Ciphers and Suggested Replacements"
runasand,2014-12-17 18:30:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d089124b45c271ca3b567959cb30165128983f3,7d089124b45c271ca3b567959cb30165128983f3,"Updated with more feedback, added that this is a work in progress"
runasand,2014-12-17 16:09:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/41a4ab728441ec63049f5c2cf0c2651ace348c9c,41a4ab728441ec63049f5c2cf0c2651ace348c9c,"Fix formatting, include suggested changes and previously missing info."
garrettr,2014-12-17 10:10:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a59a327057334b486d00fb6c7b6f5e9336615da9,a59a327057334b486d00fb6c7b6f5e9336615da9,"Merge branch 'remove-ca-cert' of https://github.com/dolanjs/securedrop into dolanjs-remove-ca-cert

Conflicts:
	install_files/ansible-base/development-specific.yml
	install_files/ansible-base/prod-specific.yml
	install_files/ansible-base/staging-specific.yml"
garrettr,2014-12-17 09:53:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5d7b48f6fe7960709b2c688e16384494076da196,5d7b48f6fe7960709b2c688e16384494076da196,"Merge pull request #807 from ageis/ossec-alert-doc

Elaborate on OSSEC alert instructions"
ageis,2014-12-17 09:44:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/64b9557f4c6151f2b6e15d51078ae485012de93c,64b9557f4c6151f2b6e15d51078ae485012de93c,"No active response, server-agent explanation"
ageis,2014-12-17 09:27:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/34a1e130e3b3d0824cd53d6b7034c9284c23ca86,34a1e130e3b3d0824cd53d6b7034c9284c23ca86,"Updates per #807

* Recommend Google 2-step verification
* Update support e-mail address"
garrettr,2014-12-17 03:07:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd2c40100c01ad061424af860ae94d2fa94471e6,bd2c40100c01ad061424af860ae94d2fa94471e6,"Merge pull request #801 from ageis/small-fixes

Small fixes"
eviljoel,2014-12-17 03:05:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6fd7f88ebc8d7edf87f94b0a44ef1731d687feaf,6fd7f88ebc8d7edf87f94b0a44ef1731d687feaf,Forgot to change the other configuration files.
ageis,2014-12-17 02:51:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7193b761d866bd0784bcb5e893d7d8ca8fc5a813,7193b761d866bd0784bcb5e893d7d8ca8fc5a813,Slight language adjustment
ageis,2014-12-17 02:49:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ee304e1e2262230e55db2d17f197be1b27edf4ec,ee304e1e2262230e55db2d17f197be1b27edf4ec,Vagrant version update due to #802
eviljoel,2014-12-17 02:08:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/75ad2b694ead4e08a2b5e029e314659cd867fb7d,75ad2b694ead4e08a2b5e029e314659cd867fb7d,"Remove Insecure Ciphers and Suggested Replacements

According to the OpenSSH 6.7 release document (http://www.openssh.com/txt/release-6.7), the CBC ciphers are now considered ""unsafe"". Thus, I have removed the blowfish-cbc and aes256-cbc ciphers. Newer, secure ciphers are available in the version of OpenSSH that ships with Ubuntu 14.04 and I have suggested you add aes256-gcm@openssh.com and chacha20-poly1305@openssh.com.

More information on chacha20-poly1305 is available here:
https://www.imperialviolet.org/2013/10/07/chacha20.html
https://vikingvpn.com/blogs/security/google-is-pushing-new-cipher-suites-all-about-chacha20-and-poly1305"
runasand,2014-12-16 22:27:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1dd0d8d782d7ba21a30c80b26328ee939118e87b,1dd0d8d782d7ba21a30c80b26328ee939118e87b,Additional indentation fixes
runasand,2014-12-16 22:19:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1248b62c5b8f84a8318f6b838dcd9c756eba5c10,1248b62c5b8f84a8318f6b838dcd9c756eba5c10,Fix indentation
runasand,2014-12-16 22:12:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/991f5f5005fa86e62ffaa7c3c5e86698c35ba8db,991f5f5005fa86e62ffaa7c3c5e86698c35ba8db,"Rewrite of the threat model document, now more detailed and specific."
garrettr,2014-12-16 04:51:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/53ebe5ddcd91fddfc996283d30ba75e2ae715744,53ebe5ddcd91fddfc996283d30ba75e2ae715744,"Merge pull request #804 from freedomofpress/pfsense-docs

Pfsense docs"
garrettr,2014-12-16 04:50:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f4bc2fd40e4116548f2beddbea8de44f943536f,6f4bc2fd40e4116548f2beddbea8de44f943536f,"Merge pull request #805 from freedomofpress/minimize-plaintext-retention-with-reboot

Reboot every 24 hours to periodically wipe memory"
garrettr,2014-12-15 21:29:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/93c10c9d8453b48b774309ff3a33c5bc8943f739,93c10c9d8453b48b774309ff3a33c5bc8943f739,"Merge pull request #755 from freedomofpress/release-testing

securedrop-grsec build scripts"
garrettr,2014-12-15 21:12:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/785fcddfcbfab09b2908513d8961c5aaf44a785d,785fcddfcbfab09b2908513d8961c5aaf44a785d,"Merge branch 'develop' into release-testing

Conflicts:
	build_deb_packages.sh

The conflict was due to changing the url of the apt repository from
"".pressfreedomfoundation.org"" to "".freedom.press"". I decided to remove
the chunk entirely (was previously commented out) since it was not used
and I cannot think of how it would ever be used."
runasand,2014-12-15 20:32:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/239690fae8ab1f61673afbad7a4f06f527bb3220,239690fae8ab1f61673afbad7a4f06f527bb3220,Updated threat model document with minor changes.
runasand,2014-12-15 19:07:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4b5c5490ef3e5da432acd259c5bdbf046a43a81e,4b5c5490ef3e5da432acd259c5bdbf046a43a81e,Merge branch 'develop' of https://github.com/freedomofpress/securedrop into develop
ageis,2014-12-13 22:09:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1f31630c0501523cc4df692cca5df353e1f26ace,1f31630c0501523cc4df692cca5df353e1f26ace,"Edits to ossec_alerts.md

* Addresses the individual comments on #807"
garrettr,2014-12-13 03:37:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1dbab3c26f0c6a2275a28d24c287705694ca2108,1dbab3c26f0c6a2275a28d24c287705694ca2108,"Reboot every 24 hours to periodically wipe memory

This is a kludge, but a reasonably effective one. This change reboots
the servers every day at 5am. Previously this reboot would only happen
if required by the daily package upgrade (e.g. for a kernel upgrade),
but now it happens every day regardless of whether it is needed.

This ensures that the plaintext of submissions can reside in memory for
at most 24 hours after submission. Resolves #99, although we can and
should do better in a future release."
garrettr,2014-12-12 23:20:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2087c172bc25c1d22f622b6e0da0470400e09af8,2087c172bc25c1d22f622b6e0da0470400e09af8,"Merge pull request #803 from freedomofpress/ignore-ansible-backups

gitignore the automatic backups from the Ansible backuup role"
garrettr,2014-12-12 23:17:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0f3880133fa842fc8797a457c0b1e3f4da889773,0f3880133fa842fc8797a457c0b1e3f4da889773,update toc
garrettr,2014-12-12 23:15:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b390c4b56873a2b25e86ab9131b9e45ab8723a7d,b390c4b56873a2b25e86ab9131b9e45ab8723a7d,Add network firewall doc to list of steps in install.md
garrettr,2014-12-12 22:51:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c19bfb6bb74d04881e88d9c254b868e89e3789e7,c19bfb6bb74d04881e88d9c254b868e89e3789e7,Tips for interpreting network firewall rules template for pfSense
garrettr,2014-12-12 22:13:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/69700c0c95a5e445ed861ddd3139a7e9ce320467,69700c0c95a5e445ed861ddd3139a7e9ce320467,Basic guide for setting up the network firewall
garrettr,2014-12-12 16:32:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cada01ce5baa8a6dd3a50e499ede90c627e84e95,cada01ce5baa8a6dd3a50e499ede90c627e84e95,Add note about network switch to Hardware Guide
garrettr,2014-12-11 19:14:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a9ca6f1d0d90591b6a8992a4eade0c7d740330b6,a9ca6f1d0d90591b6a8992a4eade0c7d740330b6,gitignore the automatic backups from the Ansible backuup role
runasand,2014-12-11 17:17:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2a1629601d13f22d5384aa00ba04b341c9d13ba9,2a1629601d13f22d5384aa00ba04b341c9d13ba9,Minor nitpick
runasand,2014-12-11 00:24:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9491ac92dd10e2501782ea84d22bad1dafe72286,9491ac92dd10e2501782ea84d22bad1dafe72286,"Initial commit where I move the threat model document from the Hackpad
to GitHub. Resolves #249."
garrettr,2014-12-11 09:20:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd0e4d199d8a4acdf137b23f269a9ac36b88b64d,cd0e4d199d8a4acdf137b23f269a9ac36b88b64d,"Merge pull request #800 from dolanjs/remove-hostmanger-plugin

Removed the vagrant-hostmanger plugin"
garrettr,2014-12-11 00:03:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/491508720eb7e7682522a7710c5a16c8906ad401,491508720eb7e7682522a7710c5a16c8906ad401,"Merge pull request #797 from micahflee/vagrant-instructions

Updated HACKING.md to more closely resemble reality"
garrettr,2014-12-10 23:24:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6423253c4fa69be4ef09545e788649896ee75b10,6423253c4fa69be4ef09545e788649896ee75b10,"Merge pull request #796 from freedomofpress/source-key-generation

Improve source key generation"
ageis,2014-12-10 22:13:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85f42d7ef01d39511fb25521885139971e9a1bb9,85f42d7ef01d39511fb25521885139971e9a1bb9,Update deployment_practices.md
micahflee,2014-12-10 21:36:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d738d63b81d8aa76b2b3a0d5fe2c48613d11498,8d738d63b81d8aa76b2b3a0d5fe2c48613d11498,"deleted HACKING.md, because it's outdated and new documentation is in doc/develop.md"
micahflee,2014-12-10 21:35:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/52328540001217ed875955efee2f015edc17a025,52328540001217ed875955efee2f015edc17a025,"Cleaning up develop.md formatting, add more manage.py examples, removed reference to vagrant-cachier version"
garrettr,2014-12-10 21:17:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f8d5221dc8f899678b7385ba0623c1e5cac09a01,f8d5221dc8f899678b7385ba0623c1e5cac09a01,"Merge pull request #799 from runasand/develop

Add KeePassX password template as xml, remove template as binary blob,"
runasand,2014-12-10 21:08:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ea371b526d1a6a7695dd97839c6ba0c7f63f420,5ea371b526d1a6a7695dd97839c6ba0c7f63f420,"Add KeePassX password template as xml, remove template as binary blob,
update instructions for using the template. Resolves #798."
micahflee,2014-12-10 19:06:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6642bcccfc5e70a83c16c8346146ef4f1aed4e20,6642bcccfc5e70a83c16c8346146ef4f1aed4e20,Typo in HACKING.md
micahflee,2014-12-10 19:03:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4df86a4a6a9471aac5d8ca5b89eb988a2fbcad4b,4df86a4a6a9471aac5d8ca5b89eb988a2fbcad4b,Update HACKING.md to more closely resemble reality
garrettr,2014-12-10 01:54:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/357d0c7dab8fafc0ad6f626e90b5fd73c46a0a75,357d0c7dab8fafc0ad6f626e90b5fd73c46a0a75,"Merge pull request #794 from freedomofpress/remind-to-check-for-replies-after-first-submission

Remind sources to check back for replies after first submission"
garrettr,2014-12-10 01:50:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d054cbb5de0cb6a969a648767dc06412edfe2209,d054cbb5de0cb6a969a648767dc06412edfe2209,"Update source when keys are generated, resolves #789"
garrettr,2014-12-10 01:48:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e4e6e31a6a22f629c2b8dfb63f0008ee4c96691e,e4e6e31a6a22f629c2b8dfb63f0008ee4c96691e,Always generate keys async to avoid delaying response
garrettr,2014-12-10 01:22:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f56b4c4678ad7c78433af16327ba143ed0176c68,f56b4c4678ad7c78433af16327ba143ed0176c68,Remove now-unused background.py
garrettr,2014-12-10 01:18:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e3282790ee3e997877f2f6b4936f3252171a9b9,0e3282790ee3e997877f2f6b4936f3252171a9b9,Actually generate source keys asynchronously
garrettr,2014-12-08 20:10:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/59ef177417b015d1260f4f744cc8d79bd91e563d,59ef177417b015d1260f4f744cc8d79bd91e563d,"Merge pull request #795 from freedomofpress/read-does-not-imply-deleted

Clarify implication of a sent reply disappearing from the submission list"
garrettr,2014-12-08 20:04:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc53298e37922f094e22a0d009b687927a6973dc,fc53298e37922f094e22a0d009b687927a6973dc,"Merge pull request #786 from freedomofpress/harden-document-interface-logins

Harden document interface logins"
garrettr,2014-12-08 19:50:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4ba6f233394236b6ce2a81f947f155a69bde8f0,d4ba6f233394236b6ce2a81f947f155a69bde8f0,"Merge pull request #793 from freedomofpress/clarify-source-codenames

Clarify source codenames"
garrettr,2014-12-08 19:48:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cdac5bef0b745e63b14be8d8a0b37dd30c5a55f9,cdac5bef0b745e63b14be8d8a0b37dd30c5a55f9,Clarify implication of a sent reply disappearing from the submission list
garrettr,2014-12-08 19:31:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6a25f67e68a240c5e177c52c7d96d323507081e,c6a25f67e68a240c5e177c52c7d96d323507081e,"Remind sources to check back for replies after first submission

Along with the existing notification from the ""flag for reply"" flow
(mentioned in https://github.com/freedomofpress/securedrop/issues/683#issuecomment-65484457),
this resolves #683."
garrettr,2014-12-08 19:14:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b27729598321551dfbd4e31b0718fabb7ba0d70,1b27729598321551dfbd4e31b0718fabb7ba0d70,"Fix unit test, broken due to wording change"
garrettr,2014-12-08 18:58:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7600d56ea7aabb598a2d5274abb418490c5fa569,7600d56ea7aabb598a2d5274abb418490c5fa569,"Clarify best practices for storing codenames

* Uses the language from
  https://github.com/freedomofpress/securedrop/issues/638#issuecomment-60285846
* Re-orders the paragraphs to explain *why* the codename is
  important first, and then explain how to store it safely."
garrettr,2014-12-08 18:51:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e4de91fe1366bc848c124110f2c2488cdf2981a4,e4de91fe1366bc848c124110f2c2488cdf2981a4,Emphasize why you need the codename when returning
garrettr,2014-12-08 18:37:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8ebe78e9c1bf04c6baadfedc9ce219fc1d36f55c,8ebe78e9c1bf04c6baadfedc9ce219fc1d36f55c,"Improve language on codename generation page

* Standardize on ""codename"" (not ""code"")
* Improve flow and phrasing in the ""Important:"" section"
garrettr,2014-12-08 17:36:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/86fea60ea79b4b550563f472750603f12cfbd74e,86fea60ea79b4b550563f472750603f12cfbd74e,"Merge pull request #791 from runasand/develop

Manually set the system time on the SVS before creating a GPG key,"
garrettr,2014-12-08 17:34:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f2bbae8481e0802ad73e723cefe7860382d308e1,f2bbae8481e0802ad73e723cefe7860382d308e1,"Merge pull request #792 from ageis/deployment-guide

Import landing page guide as Markdown"
ageis,2014-12-08 07:28:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/046e7045369001d57aaa1a81327766d03c9b63b6,046e7045369001d57aaa1a81327766d03c9b63b6,Create deployment_practices.md
garrettr,2014-12-07 20:51:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c0737024ac8169b77e21b3070bc9bccf187deec4,c0737024ac8169b77e21b3070bc9bccf187deec4,"Merge pull request #790 from freedomofpress/remove-tests-from-additional-testing

Don't recommend running tests after install"
runasand,2014-12-07 02:39:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e002216930f7af604b73704dfc9370746f84f0a4,e002216930f7af604b73704dfc9370746f84f0a4,"Manually set the system time on the SVS before creating a GPG key,
resolves #783."
garrettr,2014-12-06 19:18:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c8a9c0b6f18a3de450057d097cfad9a20d3628da,c8a9c0b6f18a3de450057d097cfad9a20d3628da,"Don't recommend running tests after install

Also fixes some minor style issues in the area of the other changes.

Resolves #787"
garrettr,2014-12-06 00:07:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6cd881dbe6772a77320e52dd25a1d887d0e161f1,6cd881dbe6772a77320e52dd25a1d887d0e161f1,"Merge pull request #785 from dolanjs/fix-default-vars

fix recursive default variables"
garrettr,2014-12-06 00:06:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ff630f9902936541bbb2adf026f0082d6ec418b,6ff630f9902936541bbb2adf026f0082d6ec418b,"Merge pull request #784 from dolanjs/fix-aths-format-tasks

fix aths format tasks"
garrettr,2014-12-05 23:53:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f7ffd67457d74bb3a8ba44b314bf82bf1cb9356,6f7ffd67457d74bb3a8ba44b314bf82bf1cb9356,"Throttle logins

Throttles login attempts on the document interface. Keeps a record of
each user's history of login attempts, and will throttle their attempts
if they make too many in a given time period (currently, more than 5
attempts in the last minute).

Also adds a flag for *all* login hardening so we can turn it off in the
tests, since the login hardening affects the tests unpredictiably and we
don't have time to rewrite the tests right now."
garrettr,2014-12-05 21:46:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec0c1acfdbbc7cff156f53dc7a0804a4e4e76147,ec0c1acfdbbc7cff156f53dc7a0804a4e4e76147,Better logging for attempted logins with invalid usernames
garrettr,2014-12-05 21:35:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8513cba313aa9613bd0128e4d494aca32e1a2b88,8513cba313aa9613bd0128e4d494aca32e1a2b88,"Single-use TOTP tokens

This is a hardening measure adapted from the google-authenticator PAM
module. By only allowing TOTP tokens to be used once, we can prevent or
detect MITM attacks.

There is a usability downside, as if you mistype your password you now
have to wait for the next TOTP token before attempting to log in again.
This is clearly explained in the flashed notification for TOTP users.

Improves the logging for journalist logins."
garrettr,2014-12-05 21:01:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/866f7735832545b2859f60548a1cce3b936667e5,866f7735832545b2859f60548a1cce3b936667e5,"Merge pull request #782 from dolanjs/training-docs

added the onsite training schedule doc"
garrettr,2014-12-05 17:51:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f8e5150cdb2f788ccb57ab2bb4976a1d42cab34e,f8e5150cdb2f788ccb57ab2bb4976a1d42cab34e,"Merge pull request #773 from runasand/develop

Additional documentation updates"
garrettr,2014-12-05 17:50:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4803ae71df6bd7a145575d8dac83f0b8e8a1388e,4803ae71df6bd7a145575d8dac83f0b8e8a1388e,"Merge pull request #772 from ageis/develop

Prepend HidServAuth to copies of ATHS hostname files"
garrettr,2014-12-05 06:32:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f57143a04df8445dfcef7c039aa9b5fafb01b61e,f57143a04df8445dfcef7c039aa9b5fafb01b61e,"Merge pull request #781 from ageis/install-testing-updates

Improved documentation for post-installation testing, with fixes from comments in #769"
garrettr,2014-12-05 06:28:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39f1cc95f3bd4837e6a1a8cb9e22bcd4b4c08114,39f1cc95f3bd4837e6a1a8cb9e22bcd4b4c08114,"Merge pull request #779 from ageis/doc-port80

Move Document Interface to port 80, resolves #777"
ageis,2014-12-05 05:59:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f3c8aa8c7399d3a9c9ca39bea0585c910180c03,3f3c8aa8c7399d3a9c9ca39bea0585c910180c03,Add note for admins ATHS
garrettr,2014-12-05 03:46:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0933b0fd6a91f52e03e33d8a8aaf9398f00943ed,0933b0fd6a91f52e03e33d8a8aaf9398f00943ed,"Merge pull request #775 from dolanjs/env-specific-variables-cleanup

Env specific variables cleanup"
runasand,2014-12-05 00:36:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/16acc41d5c69d5b9174c95064c3ff63c05b68e97,16acc41d5c69d5b9174c95064c3ff63c05b68e97,Remove entries for two-factor auth codes from the keepassx template
runasand,2014-12-05 00:30:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e20bb2baa55857ee456726eb32b32519003e75e,7e20bb2baa55857ee456726eb32b32519003e75e,Updated the keepassx template to include an entry for SASL credentials.
runasand,2014-12-04 22:18:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bad87be27394b7059bc5ce0ea0e884fa4ac68b7c,bad87be27394b7059bc5ce0ea0e884fa4ac68b7c,"Include instructions for using the keepassx template db and note that
the user need to change the default password to something stronger"
garrettr,2014-12-04 21:48:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e6a502d468aa21922609e3c6acc5ad1b014a8d91,e6a502d468aa21922609e3c6acc5ad1b014a8d91,Increase valid TOTP window to 1:30s to compensate for potential clock skew
runasand,2014-12-04 21:45:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dea0df4464c4b2cd153ae964c1e4b28f6cdc67e8,dea0df4464c4b2cd153ae964c1e4b28f6cdc67e8,"Update the journalist user manual with new screenshots and instructions,
resolves #719."
runasand,2014-12-04 21:35:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4b29ac339ac50ed2d99901cb7172b632e94fa66,d4b29ac339ac50ed2d99901cb7172b632e94fa66,Updated screenshots and instructions for the source user manual.
runasand,2014-12-04 18:47:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f559c666686a15ed5e542d519284ab3163aade85,f559c666686a15ed5e542d519284ab3163aade85,"Template keepassx database with entries for the admin, the journalist,
and the secure viewing station for use with SecureDrop, resolves #763."
runasand,2014-12-04 17:34:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c2b0d69b64869d72502f1529ed1090da122d5d9,6c2b0d69b64869d72502f1529ed1090da122d5d9,"Describe what happens when a source and a journalist communicates,
including the alternative flow that kicks in if the server is overloaded
with submissions."
runasand,2014-12-04 17:21:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e371c7086512fe8bddda23669e4e9058a869f0f2,e371c7086512fe8bddda23669e4e9058a869f0f2,"Describe what happens when a source and a journalist communicates,
including the alternative flow that kicks in if the server is overloaded
with submissions."
runasand,2014-12-04 15:15:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a7cfa68ac4e79c6d5e60ea1b737b6e9c87dfb0a7,a7cfa68ac4e79c6d5e60ea1b737b6e9c87dfb0a7,"Add a section about OSSEC alert information, resolves #745."
garrettr,2014-12-03 21:01:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a342d1a29ec96d21bbda09294a6ce088dbc76f78,a342d1a29ec96d21bbda09294a6ce088dbc76f78,"Merge pull request #766 from dolanjs/ansible-backup-task

Anisble backup task"
garrettr,2014-12-03 19:34:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/686cdf88aa74da264c5017898b36f8b51fb5f8a7,686cdf88aa74da264c5017898b36f8b51fb5f8a7,"Merge pull request #770 from runasand/develop

Documentation updates"
runasand,2014-12-03 18:57:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cccc6f8628ce7f77689d3c149058e4088dc777e0,cccc6f8628ce7f77689d3c149058e4088dc777e0,"Add a note about migration scripts for those upgrading from 0.2.1,
resolves #259."
runasand,2014-12-03 18:27:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9308eb887a22c98e49a9d528d08a1d3d00412df3,9308eb887a22c98e49a9d528d08a1d3d00412df3,"Update guides to specifically check the fingerprint of a GPG key after
importing it."
runasand,2014-12-03 16:47:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/938b24ed29bd4fa219041d0d0b12223fc2742506,938b24ed29bd4fa219041d0d0b12223fc2742506,"Define format of public keys and fingerprints, resolves #750."
runasand,2014-12-03 16:24:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68160a69c45c60fd3dcaa7c5a9c2bda7e8222437,68160a69c45c60fd3dcaa7c5a9c2bda7e8222437,"Updated to use ""we"" instead of ""I"", resolves #748."
runasand,2014-12-03 15:37:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/83eef0f327a4f2761b66bb6a94f8d8bb5e94ad5d,83eef0f327a4f2761b66bb6a94f8d8bb5e94ad5d,"Get the FPF master signing key from a keyserver, closes #742."
garrettr,2014-11-26 22:11:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54bbb7fecc796d3cf01b2e039dc4f8fd21dff965,54bbb7fecc796d3cf01b2e039dc4f8fd21dff965,"Merge pull request #768 from dolanjs/hardware-fixes

install and hardware doc updates"
dolanjs,2014-11-26 21:08:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/80300c5186de8c61b28f81d57ae38e19c13746c0,80300c5186de8c61b28f81d57ae38e19c13746c0,"text updates

for the app and monitor servers hardware updated the memory recs to be the size linked to (4GB) instead of 8/16GB."
dolanjs,2014-11-26 20:44:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/348526cab7789bf1daef377d34b9908bb01d7a16,348526cab7789bf1daef377d34b9908bb01d7a16,"offline backup device

Removed reference the external hard drive and replaced with using a second offline USB tails device as the offline backup"
garrettr,2014-11-26 17:36:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1869d6fde20ac7eb110d423962cedd5df88e0284,1869d6fde20ac7eb110d423962cedd5df88e0284,"Merge pull request #767 from runasand/develop

Additional updates for install.md"
garrettr,2014-11-25 01:27:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/69eeee9a3da89803d58151eee7aeafa161914e68,69eeee9a3da89803d58151eee7aeafa161914e68,"Merge pull request #764 from pemulis/patch-2

Fix Ubuntu Install Guide link"
garrettr,2014-11-25 01:26:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/36d26492d7d80407049b98b8f3b4fc645c5ad789,36d26492d7d80407049b98b8f3b4fc645c5ad789,"Merge pull request #765 from ageis/develop

Change ntp install to common role"
runasand,2014-11-24 21:38:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6774575037ee7ec46e13a896ebf6a15e04e11fa,c6774575037ee7ec46e13a896ebf6a15e04e11fa,"Attempt to list the information required by prod-specific.yml for a
SecureDrop install. Solves #745."
pemulis,2014-11-24 21:37:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/479112faec7277d59a6580d4dfc2b9a4a3e4c6be,479112faec7277d59a6580d4dfc2b9a4a3e4c6be,Fix Ubuntu Install Guide link
runasand,2014-11-24 20:46:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8d45d23bf525b5a18c434b5d46c8d825575937e5,8d45d23bf525b5a18c434b5d46c8d825575937e5,"Explain the purpose of the passphrases section in install.md. Ideally,
we should provide a template database for the admin and journalist to
use, but clarifying that the list is a checklist one can use during the
installation process is better than nothing. Solves #762."
runasand,2014-11-24 15:48:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4bd843745e791e1cd435f70728e3708fd3923cb,d4bd843745e791e1cd435f70728e3708fd3923cb,"Correct the path to the directory we want the admin to be in when
installing SecureDrop"
runasand,2014-11-24 14:19:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0849966de4fe7f96f0e9bd2b43fe506bda1057f,a0849966de4fe7f96f0e9bd2b43fe506bda1057f,"Be a bit more specific about where the private key and public key should
be stored when generating a new GPG key for a journalist."
garrettr,2014-11-21 19:57:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eaba8b10d270cccbde64dfd8d84b59c0f406ae31,eaba8b10d270cccbde64dfd8d84b59c0f406ae31,"Merge pull request #758 from runasand/develop

Admin USB section should link to official Tails documentation"
runasand,2014-11-21 19:21:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2b95e19f8899861c0658154238b7312f7e6652d5,2b95e19f8899861c0658154238b7312f7e6652d5,"Fix a link in install.md to point to the right user manual, and update
the guide that talks about configuring Tails for use with SecureDrop to
clarify that you need to append :8080 to the .onion address to hit the
Document Interface."
runasand,2014-11-21 17:15:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f801ec8faa3471be5e9696d1d7cf8d1939480cfe,f801ec8faa3471be5e9696d1d7cf8d1939480cfe,"Remove the line that referred to ""Micah's Tails_files program"" because
this has been documented in the guide that talks about setting up the
workstation for the admin and journalist. This line also does not make
any sense to a reader who does not know who Micah is or what this
program does."
runasand,2014-11-21 17:12:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/727ad03c57f64b0c011366a416fd725cfeced290,727ad03c57f64b0c011366a416fd725cfeced290,"Move the google auth instructions to the correct place in install.md,
that is after running the playbook."
runasand,2014-11-21 17:10:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/26a9c766a88540144848df8e55bb2008715f0eb7,26a9c766a88540144848df8e55bb2008715f0eb7,Nitpick on @ageis' edits to the google_authenticator doc.
runasand,2014-11-21 16:51:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f74ca348a64ab2f329fbd034894452eddfd7228,4f74ca348a64ab2f329fbd034894452eddfd7228,"Merge pull request #1 from ageis/develop

Android barcode scanning instructions"
runasand,2014-11-21 15:58:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b0c3538fd78070d6372db0aba92417da71939464,b0c3538fd78070d6372db0aba92417da71939464,"Updated with instructions for setting up google authenticator on iOS by
scanning a barcode."
runasand,2014-11-21 15:39:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dc44c76f8764c24b25cac3f94534f0439c488d2d,dc44c76f8764c24b25cac3f94534f0439c488d2d,"Updated install.md to include a step where the admin also sets up
two-factor authentication on Android or iOS for use with the App Server."
runasand,2014-11-21 14:57:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4408eded7632567f119fde305fc68325403ce666,4408eded7632567f119fde305fc68325403ce666,Merge branch 'develop' of https://github.com/freedomofpress/securedrop into develop
runasand,2014-11-20 19:29:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/84076f6dcbac9e7625347cae367c8ac36f8be59d,84076f6dcbac9e7625347cae367c8ac36f8be59d,"Clarify which Tails device we're talking about and use the word
""credential"" instead of ""passphrase"" when talking about two-factor auth
secrets."
runasand,2014-11-20 15:27:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a18110900c53c6b9662e37a72cad7754992b72fe,a18110900c53c6b9662e37a72cad7754992b72fe,"Remember that the Document Interface runs on port 8080, if you forget to
add this to the URL you will not be able to connect."
runasand,2014-11-20 15:10:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b9f10f0668932513feedec1be252a87e92b04f5a,b9f10f0668932513feedec1be252a87e92b04f5a,"Move the section that talks about creating a GPG key for the journalist
from tails_files/README.md to docs/journalist_user_manual.md, be
consistent with headlines in docs/journalist_user_manual.md"
runasand,2014-11-20 15:02:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c5c5290f6253b059194424b7c583a9332056810f,c5c5290f6253b059194424b7c583a9332056810f,Fixed the formatting in tails_files/README.md
runasand,2014-11-20 14:59:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/253efc27edec86ba9c28356a4afc9ed219364b4b,253efc27edec86ba9c28356a4afc9ed219364b4b,"Move journalist workstation setup out of docs/install.md and into
tails_files/README.md, closes #747."
runasand,2014-11-20 14:18:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7cfb9074c8f0bfeea160616b00c6ba95a4d06355,7cfb9074c8f0bfeea160616b00c6ba95a4d06355,"This update documents the accounts, passphrases and two-factor secrets
that will be provisioned during a SecureDrop installation. Closes #759."
ageis,2014-11-20 14:13:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/370e0153204e3c11bead783db90c4edfa220ed73,370e0153204e3c11bead783db90c4edfa220ed73,Plural pronouns and small edit
runasand,2014-11-20 13:43:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f25b43cde96e047b7f6e8b3a92ed68ff1d0686e8,f25b43cde96e047b7f6e8b3a92ed68ff1d0686e8,Indentation should be consistent with the rest of the docs
runasand,2014-11-19 18:47:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/099037d1ae2874cbd66b82a4c2db7f733e7a3a61,099037d1ae2874cbd66b82a4c2db7f733e7a3a61,"As discussed in #744, it is OK to TOFU the SSH fingerprints for the
Application Server and the Monitor Server. This commit removes the TODO
item from the guide and resolves #744, it also adds consistency to the
ssh-copy-id and ssh examples."
runasand,2014-11-19 17:16:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98f9c1aaa0fffeea1ca4acb137e9f2c1d3265571,98f9c1aaa0fffeea1ca4acb137e9f2c1d3265571,Fix indentation
runasand,2014-11-19 16:42:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b9b945c389c0f5dc6565702f7f5cc43e157d5a79,b9b945c389c0f5dc6565702f7f5cc43e157d5a79,"Added instructions for downlaoding and verifying the FPF master signing
key. I need @ageis to update this document later on with the correct
link to the key on the FPF website."
runasand,2014-11-19 15:42:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb2076345cd088d7d81869acd419d347ad4b2b4d,cb2076345cd088d7d81869acd419d347ad4b2b4d,"Decided to clean up the section about USBs, DVDs and CDs, also updated
the section that talks about setting up the Admin USB with links to
instructions on the Tails website. Closes #741."
garrettr,2014-11-18 23:31:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b16be765eafb8542650645fdd829ea9f4f4e995,7b16be765eafb8542650645fdd829ea9f4f4e995,"Merge pull request #757 from ageis/develop

Update repository domain to freedom.press"
garrettr,2014-11-18 20:10:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca86ef63910bed1231433a2cf6dc8ce8802f75c3,ca86ef63910bed1231433a2cf6dc8ce8802f75c3,"Merge pull request #756 from runasand/develop

Remove Authy, as discussed in #752"
runasand,2014-11-18 19:45:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45949798f8ccd8bf1e1efa47861d30987b7ccaf9,45949798f8ccd8bf1e1efa47861d30987b7ccaf9,"Remove Authy, as discussed in #752"
garrettr,2014-11-17 21:34:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/55f01388976e7cbb943b450c2eafa384abb7070b,55f01388976e7cbb943b450c2eafa384abb7070b,"securedrop-grsec metapackage version should match grsec version

Previously the `Version:` of the securedrop-grsec kernel metapackage was
tracking the SecureDrop/securedrop-app-code version. Since the
metapackage tracks the grsecurity upgrades, and is independent of the
version of SecureDrop, it makes sense for the version of the metapackage
to match the grsecurity version.

Updated the deb builder (which we currently only use to build
securedrop-grsec) to get the version for the filename from the Debian
control file. This is important, since in my testing aptly refused to
add two packages with the same filename to the same repo (even if their
`Version:`s were different).

Also makes `build_meta` slightly more generic, to fit its name and
intended purpose. Also changed some variable names for clarity."
garrettr,2014-11-17 21:07:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5e7b1e4ba90a730d3e8949eec24d78b66c82d065,5e7b1e4ba90a730d3e8949eec24d78b66c82d065,"Comment out FPF repo setup in deb builder script

I did this for two reasons:

1. We aren't using any packages from the repo to build the debs at the
moment (if you think about it, that's kind of a catch-22), so commenting
this has no impact on building debs. Also, running `apt-get update`,
which is relativley slow, for no reason is a waste of time.

2. During testing, this created a catch-22 where I wanted to build the
debs so I could add them to the repo and publish the snapshot, but this
deb builder script wouldn't run unless the repo already existed.

We may be able to remove this code entirely, but I decided to leave it
in for now in case it is useful for something that I didn't recognize."
garrettr,2014-11-17 20:31:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/150ae238533371869b6725efab22deb63e3513a0,150ae238533371869b6725efab22deb63e3513a0,"Merge pull request #731 from runasand/develop

Updated config with steps to verify and some other bits and pieces"
garrettr,2014-11-17 20:29:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54e005c5b65adf570bef475890096cbe39af0fc2,54e005c5b65adf570bef475890096cbe39af0fc2,"Merge pull request #754 from ageis/develop

Install NTP on Monitor Server"
runasand,2014-11-17 20:16:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d615f23ca7ef4ff165f83cbaf1d33a5a5e848bd6,d615f23ca7ef4ff165f83cbaf1d33a5a5e848bd6,Merge branch 'develop' of https://github.com/freedomofpress/securedrop into develop
runasand,2014-11-17 20:12:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a79428066b5380e09ed73553076eab93cab39836,a79428066b5380e09ed73553076eab93cab39836,Updated with suggested changes (thanks @garrettr!)
ageis,2014-11-17 20:02:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/63ac0c31dcf082b33bf8a77edd96df8dc552893a,63ac0c31dcf082b33bf8a77edd96df8dc552893a,Update install_ntp.yml
garrettr,2014-11-16 20:03:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff2a0619732f8ddfeaad3df1c638493b780a7866,ff2a0619732f8ddfeaad3df1c638493b780a7866,"Merge pull request #740 from freedomofpress/packaging-fixes

Packaging fixes"
garrettr,2014-11-16 20:02:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5bd8600a43339f2d76f2e222736cbcb1862350ad,5bd8600a43339f2d76f2e222736cbcb1862350ad,"Merge pull request #737 from freedomofpress/readme-fixes

Merge install docs and update top-level README"
garrettr,2014-11-16 19:59:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7914aa223f613ee08cea65474a8cf9135f6b50c1,7914aa223f613ee08cea65474a8cf9135f6b50c1,"Merge pull request #735 from freedomofpress/reachable-addresses

Remove ReachableAddresses from app and mon torrc"
ageis,2014-11-15 02:23:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00d8553ba3b117aaab908b29f520824426eaab76,00d8553ba3b117aaab908b29f520824426eaab76,"Add ntpd to dependencies

#739"
ageis,2014-11-15 01:02:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30fd4e8ad1083041dc27d987c7d81532651385f2,30fd4e8ad1083041dc27d987c7d81532651385f2,Minor corrections
ageis,2014-11-15 00:08:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f5f0e8777722937ba5812bd5b5bcf7f971bd7493,f5f0e8777722937ba5812bd5b5bcf7f971bd7493,Update FPF domain
ageis,2014-11-15 00:08:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4dc47e3deb10f11cee057d0238e3658f34340f5c,4dc47e3deb10f11cee057d0238e3658f34340f5c,Correct FPF domain
garrettr,2014-11-14 23:26:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a6fcad3b41e0157d830e58fe03953cb9837f2631,a6fcad3b41e0157d830e58fe03953cb9837f2631,"Get build_deb_packages.sh working

* Update the path to the fpf-signing-key file, which was moved
  in a refactor.
* Always create the build artifacts directory to avoid an error on first
  run"
garrettr,2014-11-14 23:25:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1256a3189fe20c2d618e6bf8f74bdb3125040ddd,1256a3189fe20c2d618e6bf8f74bdb3125040ddd,"Build OSSEC agent deb in app-build by default

I had previously asked James to disable building the OSSEC debs in
app-build because it was slowing down my debug cycle. However, I think
in general this is the right thing to do."
garrettr,2014-11-14 22:21:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/65a5413be71a21f14d486b3c9660ba66a71a278f,65a5413be71a21f14d486b3c9660ba66a71a278f,"Merge pull request #730 from dolanjs/env_diagram

updated network diagram"
ageis,2014-11-14 05:22:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/486c670e2180997c76456393d1ac7e458bb2b71c,486c670e2180997c76456393d1ac7e458bb2b71c,Correct FPF domain
ageis,2014-11-14 05:20:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/282aedbe0b842de76d55258f9256adcfb00ad62e,282aedbe0b842de76d55258f9256adcfb00ad62e,Correct FPF site URL
garrettr,2014-11-13 17:16:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5c9dfd4467f643ce6196bd4da9b7cb7fd4bbe84e,5c9dfd4467f643ce6196bd4da9b7cb7fd4bbe84e,Add TOC to install document
garrettr,2014-11-13 17:12:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ee4a7f8cbd35a420652952295becbdc4f99eab0,4ee4a7f8cbd35a420652952295becbdc4f99eab0,"Merge full_install.md into install.md

Also splits the Google Authenticator instructions into a separate
document."
garrettr,2014-11-13 04:01:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c270f0e8cea2e98351058d97b70700a63667eb05,c270f0e8cea2e98351058d97b70700a63667eb05,Try different image link on Github
garrettr,2014-11-13 03:26:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3763bf8985fc07c3ac1de8f22f0ddebe74151a61,3763bf8985fc07c3ac1de8f22f0ddebe74151a61,"Remove ""before you begin"" from README (should be in install docs)"
garrettr,2014-11-13 03:16:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6af54c035aabe52f72960b56bbea7b9b126447f4,6af54c035aabe52f72960b56bbea7b9b126447f4,Better organization of howto sections
garrettr,2014-11-13 03:08:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be5a2eb89037f6899ec7e4f52b86632b86809f51,be5a2eb89037f6899ec7e4f52b86632b86809f51,Explanation and recommendations for possible choices of transfer device
garrettr,2014-11-13 03:05:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ceacd0af323a59ea2a331b29adbaf7ff4604ed7,2ceacd0af323a59ea2a331b29adbaf7ff4604ed7,"Recommend removing unneeded hardware from the SVS, and clarify"
garrettr,2014-11-13 03:04:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/def1ea6a7aaf4f63e94869ae8a210222bb555ba1,def1ea6a7aaf4f63e94869ae8a210222bb555ba1,"Add acronym for Secure Viewing Station, grammar fixes"
garrettr,2014-11-13 03:02:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/50ebf5190a8f6c4b03e2fcb4824928a15eb5ddb6,50ebf5190a8f6c4b03e2fcb4824928a15eb5ddb6,"Cleanup links and formatting for README's ""how to"" sections"
garrettr,2014-11-13 03:01:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6be4cbb3bbbc9d7dd5cf11c634bce7bc4a813de8,6be4cbb3bbbc9d7dd5cf11c634bce7bc4a813de8,Move contributors link below technical summary for better top to bottom flow
garrettr,2014-11-13 02:42:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04f791c2a5f813c3fc41498a24376ab881c78982,04f791c2a5f813c3fc41498a24376ab881c78982,Fix broken link and update prereqs in install doc
garrettr,2014-11-13 02:38:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17df639a6de6f523172f8c8363948eae09d4ca95,17df639a6de6f523172f8c8363948eae09d4ca95,Clarify and move instructions for contributors above the fold
garrettr,2014-11-13 02:36:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f17fdcddf0c4105c2e81cc9f368c01e56dd2d690,f17fdcddf0c4105c2e81cc9f368c01e56dd2d690,Remove links to outdated demo instance
garrettr,2014-11-12 21:53:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0beb8ec5103584ea2aa2bd4a5f0475c6116e684b,0beb8ec5103584ea2aa2bd4a5f0475c6116e684b,Remove ReachableAddresses from app and mon torrc
runasand,2014-11-11 17:32:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ddef15926663575f7cad95d2fe5e0fbf4adc26a,0ddef15926663575f7cad95d2fe5e0fbf4adc26a,Remove extra whitespace
runasand,2014-11-11 17:28:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/22cacd114d7d60c3deae019b5b855c22816721e9,22cacd114d7d60c3deae019b5b855c22816721e9,Updated config with steps to verify and some other bits and pieces
garrettr,2014-11-10 07:20:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aed63e52e2a358480975b9dcbe792ba309e4e45d,aed63e52e2a358480975b9dcbe792ba309e4e45d,Ignore emacs autosave files
garrettr,2014-11-10 00:23:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/22213620c3cd16e4af2853981a788ec0a5071171,22213620c3cd16e4af2853981a788ec0a5071171,"Merge pull request #729 from ihmccreery/functional-test-admin-logout

fix unecessary workaround in journalist logout functional tests"
garrettr,2014-11-10 00:19:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8571d5e50f79421f0265daa040b1d1133dc0914a,8571d5e50f79421f0265daa040b1d1133dc0914a,"Merge branch 'patch-1' of https://github.com/mfauzy/securedrop into mfauzy-patch-1

Conflicts:
	docs/develop.md"
garrettr,2014-11-10 00:15:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/56036e24860ff0d78c47e30f6ae7ecaa0a83bc83,56036e24860ff0d78c47e30f6ae7ecaa0a83bc83,Additional advice for iTerm users who get messed up QR codes
garrettr,2014-11-10 00:09:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1fa7a9d65aa658118d01a12ebf0fe1acc1fce097,1fa7a9d65aa658118d01a12ebf0fe1acc1fce097,Merge branch 'qr-font' of https://github.com/ihmccreery/securedrop into ihmccreery-qr-font
garrettr,2014-11-09 01:25:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90cb9d77df0b03a025cbe844c6949abe0c3617af,90cb9d77df0b03a025cbe844c6949abe0c3617af,"Merge pull request #723 from freedomofpress/feature/manage-restart

Add manage.py restart command"
garrettr,2014-11-09 01:23:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/129a8b1c91fc668be303093bae8d816d7b9f5371,129a8b1c91fc668be303093bae8d816d7b9f5371,"Merge pull request #720 from freedomofpress/fix/readme-hacking

Add hacking instructions to README"
ihmccreery,2014-11-09 01:18:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54feaff2a532bb2e4f3af3db71181384f441ee11,54feaff2a532bb2e4f3af3db71181384f441ee11,fix unecessary workaround in journalist_navigation_steps.py functional tests
garrettr,2014-11-09 01:02:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb14502244068033994288d548c47213821802d0,fb14502244068033994288d548c47213821802d0,Update development directions to work on Debian too
garrettr,2014-11-09 00:49:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d5c68913676585f52aaf06ec739b587e4a07f863,d5c68913676585f52aaf06ec739b587e4a07f863,"Clean up develop docs

Everything up through describing the development environment should be
good. The sections on the staging and prod environments could use more
work.

The intial setup instructions could also use testing."
mfauzy,2014-11-09 00:43:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f13e0ea6a915d65628397fe8951cd305c8631a3,7f13e0ea6a915d65628397fe8951cd305c8631a3,"Update to correct downloads location.

Note that https://downloads.vagrantup.com/  was giving an SSL error."
garrettr,2014-10-31 23:03:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e95b7382d6c099f93d749ecf2ca3dfdfcb04aba,7e95b7382d6c099f93d749ecf2ca3dfdfcb04aba,Test out automatic TOC with doctoc
garrettr,2014-10-31 22:56:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/77196deb4cb894a82f2a3f2877daa7ab4a16497a,77196deb4cb894a82f2a3f2877daa7ab4a16497a,"Add instructions for adding new users using Yubikey

Some organizational and formatting tweaks and typo fixes as well."
ihmccreery,2014-11-09 00:03:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8117a68f4dc8cdbc8c8cc2d6733ed385042148d5,8117a68f4dc8cdbc8c8cc2d6733ed385042148d5,add message below ascii QR code to alert users to change their font if necessary; closes #632
diracdeltas,2014-11-08 22:36:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/071cd48d831aab66d81e9ccb921d45d0f93cfc80,071cd48d831aab66d81e9ccb921d45d0f93cfc80,Add manage.py restart command
diracdeltas,2014-11-08 19:49:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a7e77c13301a041ce9a5f747cda2b5b3d41b15a,3a7e77c13301a041ce9a5f747cda2b5b3d41b15a,Add hacking instructions to README
garrettr,2014-11-03 18:54:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ee1b94d73befdc8fdecb527588e1c8fdb67be957,ee1b94d73befdc8fdecb527588e1c8fdb67be957,"Merge pull request #717 from dolanjs/cron-apt

Cron apt"
garrettr,2014-10-31 23:41:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd45c4956a6e88d1941200b1d0ce9cd84533f559,bd45c4956a6e88d1941200b1d0ce9cd84533f559,Make sure the database is owned by the securedrop user after migration
garrettr,2014-10-31 23:28:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4809a249526c4f0b691fd6ab7c485cf26c48a451,4809a249526c4f0b691fd6ab7c485cf26c48a451,Update migration script to handle bug due to deleting sources with changed codenames
garrettr,2014-10-31 22:19:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/77709aac1d45e56faf333dbe826c4e616886727a,77709aac1d45e56faf333dbe826c4e616886727a,Init db for migrate script to ease repeat runs
garrettr,2014-10-31 19:08:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb907a1180e3c91a8a5333f42df3f4b191543a4a,eb907a1180e3c91a8a5333f42df3f4b191543a4a,Properly migrate sources who have no submissions stored
garrettr,2014-10-31 16:16:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe95885c6017fe716ac8777dc17117507804087e,fe95885c6017fe716ac8777dc17117507804087e,"Merge pull request #715 from freedomofpress/migration-scripts

Migration scripts"
garrettr,2014-10-31 16:08:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90c9d53c51fed16f1e366c06a88427ba46c31cef,90c9d53c51fed16f1e366c06a88427ba46c31cef,Add directions for migrating a SecureDrop instance using these scripts
garrettr,2014-10-31 16:07:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/490b5b72e758eab32860c1be4d562debf1f3bd90,490b5b72e758eab32860c1be4d562debf1f3bd90,Load files from absolute paths so this can be run from anywhere
garrettr,2014-10-31 10:39:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1747dd26bbbe5d5d75d4bc39bc667c4e9367d9f2,1747dd26bbbe5d5d75d4bc39bc667c4e9367d9f2,Add script to migrate 0.2.1 to 0.3
garrettr,2014-10-31 07:38:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c77817f0fc755744d847d4e14a7cd9e097731fd2,c77817f0fc755744d847d4e14a7cd9e097731fd2,Add usage message to collection script
garrettr,2014-10-30 20:13:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f70596c2e12361632cbccfc4b3213b9904942d81,f70596c2e12361632cbccfc4b3213b9904942d81,Use absolute paths for Tor file backups for consistency
garrettr,2014-10-30 19:50:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e21736c4efe6d35bec54afcf12f01bf55697b140,e21736c4efe6d35bec54afcf12f01bf55697b140,"Separate function for collecting db, for cross-script clarity"
garrettr,2014-10-29 17:34:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87283d82180b080c66c9835d5377b8704b9d51a5,87283d82180b080c66c9835d5377b8704b9d51a5,Fixes to the 0.2.1 collect script after testing
garrettr,2014-10-29 15:22:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27da974ff474c4826d5cbf73b791f5f1b7537f91,27da974ff474c4826d5cbf73b791f5f1b7537f91,Script to back up essential data from a 0.2.1 instance
garrettr,2014-10-30 18:31:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f1d97f75a94745e9dcd2553f650d40f231f9efd,7f1d97f75a94745e9dcd2553f650d40f231f9efd,"Merge pull request #714 from dolanjs/fix-ossec-dependency

Fix ossec dependency"
garrettr,2014-10-29 19:58:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00aab99694d524cce11130bbce04f49c013720e3,00aab99694d524cce11130bbce04f49c013720e3,Echo confirmation message on success of tails files install
garrettr,2014-10-29 19:57:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c971b045e63517ceab1c26ca49a6e1ec436d92a8,c971b045e63517ceab1c26ca49a6e1ec436d92a8,Fix path in tails_files C wrapper
garrettr,2014-10-29 19:52:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f4c932d38cff49c9fd12155c6a57e86fc8ba3d5,8f4c932d38cff49c9fd12155c6a57e86fc8ba3d5,"Merge pull request #713 from dolanjs/add-tags-to-speed-staging

Add tags to speed up staging provisioning"
garrettr,2014-10-29 15:51:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b8ff0221bb7bed3fcaddb6897dbac2fb7b945f98,b8ff0221bb7bed3fcaddb6897dbac2fb7b945f98,Fix bug when un-starring a source that hasn't been starred
garrettr,2014-10-29 15:25:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45cdcad2e5220d76961d12e5d183ecf30888333d,45cdcad2e5220d76961d12e5d183ecf30888333d,"Merge pull request #712 from dolanjs/apparmor-2

updated apparmor profile and sorted the list."
garrettr,2014-10-29 11:24:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/835b0d9e17583a6793ab8932b1535648006ac8a0,835b0d9e17583a6793ab8932b1535648006ac8a0,"Merge pull request #711 from dolanjs/apparmor-profile

updated apparmor profile for current functionality"
garrettr,2014-10-29 02:24:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f436e7d9092835991b0b5116964e47752b56a69,8f436e7d9092835991b0b5116964e47752b56a69,"Merge pull request #710 from freedomofpress/haveged-waterline

Haveged waterline"
garrettr,2014-10-29 02:23:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dfb65533f276ff9cc6454ace36a5df4924eb04b8,dfb65533f276ff9cc6454ace36a5df4924eb04b8,Merge branch 'trevortimm-admin-documentation' into develop
garrettr,2014-10-29 02:22:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/906329094369256e46c83594c9b55dec3ab9a54c,906329094369256e46c83594c9b55dec3ab9a54c,"Merge branch 'admin-documentation' of https://github.com/trevortimm/securedrop into trevortimm-admin-documentation

Conflicts:
	docs/user_manual.md

There was a merge conflict in user_manual.md, but since it's been split
into two separate guides (source_user_manual.md and
journalist_user_manual.md), I decided it would be best to simply delete it."
garrettr,2014-10-29 02:16:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/32c7e2340b726bedf1cef049144d064185d8f05a,32c7e2340b726bedf1cef049144d064185d8f05a,"Merge branch 'develop' into haveged-waterline

Conflicts:
	install_files/ansible-base/roles/app/tasks/main.yml"
garrettr,2014-10-29 02:15:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/af5e3a6d2e38210793db95de860d74e880e8ef62,af5e3a6d2e38210793db95de860d74e880e8ef62,"Merge pull request #709 from freedomofpress/fix-download-unread

Fix download unread"
garrettr,2014-10-29 02:10:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/05ab91ff838a90d6a181917e940aca6ed18a0653,05ab91ff838a90d6a181917e940aca6ed18a0653,Create SecureDrop TEMP_DIR for tests
garrettr,2014-10-29 01:54:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d6bfb9c2bc62ac109d627f02cf38551bb342cbf,9d6bfb9c2bc62ac109d627f02cf38551bb342cbf,Merge branch 'develop' into haveged-waterline
garrettr,2014-10-29 01:53:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed6c89221dfd5c4b82db2000017239e094e31cd2,ed6c89221dfd5c4b82db2000017239e094e31cd2,Merge branch 'develop' into fix-download-unread
garrettr,2014-10-29 01:52:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a6806f095017ea998e49f62f61e946156df574e,7a6806f095017ea998e49f62f61e946156df574e,"Merge pull request #708 from dolanjs/redis-fw-rules

added firewall rule for the redis worker."
garrettr,2014-10-29 01:52:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/70bdf8f653ba60bb10803f7ec8685d94927d9c08,70bdf8f653ba60bb10803f7ec8685d94927d9c08,"Merge pull request #707 from dolanjs/move-authd-exemptions-to-handler

changed task for authd fw exemptions to a handler"
garrettr,2014-10-29 01:52:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/211fb1c2c1c431c11046a38970212b11d378809f,211fb1c2c1c431c11046a38970212b11d378809f,"Merge pull request #706 from freedomofpress/preload-js-warning-bubble

Load the JS warning bubble in the initial HTML"
garrettr,2014-10-29 01:51:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c189411459ce48be2764985ae0017706001b6efe,c189411459ce48be2764985ae0017706001b6efe,"Adjust haveged settings to minimize occurence of ""flag for reply"" flow"
garrettr,2014-10-29 00:52:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f8fc267c8a816f7dc7510579f0b60fdb50db051,4f8fc267c8a816f7dc7510579f0b60fdb50db051,Ansible task sets up daily cron job to clean up SecureDrop temp dir
garrettr,2014-10-29 00:17:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c294500c959f8fe24de2202202fdda1e26afaecb,c294500c959f8fe24de2202202fdda1e26afaecb,"Add manage.py command to clean out SecureDrop's temp dir

This command is designed to be run as part of a regular cron job to
prevent this directory from accumulating past downloads and eventually
exhausting disk space. This command checks to see if a file is in use by
a process before deleting it, so it will not delete files that are in
the process of being downloaded.

Tested that this command cleans the tmp dir and does not interrupt
ongoing downloads on staging."
garrettr,2014-10-28 02:46:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/713991e21be298fb47aa19020010064fd293744a,713991e21be298fb47aa19020010064fd293744a,"Save bulk downloads to SecureDrop-specific tmp dir

In order to serve bulk downloads with X-Send-File, we need to save them
in a SecureDrop-specific temp directory to avoid allowing Apache to
serve all of a default temp directory such as `/tmp`.

This commit also adds timestamps to the bulk download .zip filenames to
make them easier to work with.

Tested successfully on staging."
garrettr,2014-10-28 02:46:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ad42bdd004f9fb68a7bc4796bf00c67ecb8a12be,ad42bdd004f9fb68a7bc4796bf00c67ecb8a12be,Fix typo in ossec package name
trevortimm,2014-10-27 20:50:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d850c8862e4c65c8c5690825b57b1e463594e9f9,d850c8862e4c65c8c5690825b57b1e463594e9f9,"update full_install.md

fixed Garrett's complaints"
trevortimm,2014-10-27 20:46:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/777af3e05f714012a4572ac697a1f4a9862586a4,777af3e05f714012a4572ac697a1f4a9862586a4,"updates source_user_manual

Slight changes up top to delineate this is now separate from the journalist user guide"
garrettr,2014-10-27 19:56:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed709f4056e1a2847923e666ea6ce29101739a51,ed709f4056e1a2847923e666ea6ce29101739a51,"Load the JS warning bubble in the initial HTML

Loading the JS warning bubble in the initial HTML (it is hidden at first
by the CSS) triggers the loads for the icons right away. Previously, we
were generating the bubble's HTML in JS and then appending it to body,
which triggered the image loads once the element added (and thus,
visible). This caused the bubble to load without the icons at first due
to Tor's general sluggishness.

Doing it this way means the icons will probably already be loaded by the
time the user has read the JS warning and decided to click the link,
which provides a better experience overall."
garrettr,2014-10-27 19:28:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aea88392d7b197219f43df0d3a26a1621eb05c0c,aea88392d7b197219f43df0d3a26a1621eb05c0c,"Merge pull request #703 from freedomofpress/dont-armor-submissions

Don't ASCII-armor submissions"
garrettr,2014-10-27 19:18:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9fa8daa27b8151b6aedeb5d7fc8bee8e3bf4968b,9fa8daa27b8151b6aedeb5d7fc8bee8e3bf4968b,"Merge pull request #704 from dolanjs/fix-local-install

Fix local install"
trevortimm,2014-10-27 16:21:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54de94b731a196f35fae4da1264db7f47eaa3ee6,54de94b731a196f35fae4da1264db7f47eaa3ee6,"update readme.md

added links to source and journalist manual"
trevortimm,2014-10-27 16:19:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27edd8b8859392169fc7aba56137514dbdfa2081,27edd8b8859392169fc7aba56137514dbdfa2081,"update journalist manual

made clear journalists need to use tails, not just tor"
garrettr,2014-10-27 15:46:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/568d76337696a13690ad5629ff711666a06011df,568d76337696a13690ad5629ff711666a06011df,Modify unit tests to not expect armored GPG
garrettr,2014-10-27 12:47:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5f7b5551a3efbc3cde70b60879562dc3cc9e8f1,e5f7b5551a3efbc3cde70b60879562dc3cc9e8f1,"Don't ASCII-armor encrypted submissions

There is no reason to ASCII-armor submissions, and it wastes a
significant amount of space due to the encoding. This is a major
usability cost for journalists, especially when downloading large
submissions over Tor."
garrettr,2014-10-27 12:43:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/481e12fefdf9b789b58e5077c862cbbdd9748c2d,481e12fefdf9b789b58e5077c862cbbdd9748c2d,"Merge pull request #702 from freedomofpress/fix-deb-path

Fix path for building grsecurity meta-package"
trevortimm,2014-10-27 02:23:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/899ddd76b053269f820316361667724608b8ae51,899ddd76b053269f820316361667724608b8ae51,"Merge pull request #3 from dolanjs/patch-1

fix spelling typo"
trevortimm,2014-10-27 02:22:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b8fd84495e03fafd91b5d07e72ea7dc8afcf2055,b8fd84495e03fafd91b5d07e72ea7dc8afcf2055,"Merge pull request #5 from ageis/admin-documentation

Update screenshots for 0.3"
trevortimm,2014-10-27 02:20:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b8c7ce961b2b4c4681c359d2849b3203b4a5caaa,b8c7ce961b2b4c4681c359d2849b3203b4a5caaa,"update install.md

made some minor clarifications to the generating key portion"
trevortimm,2014-10-27 02:20:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7273b96eff1c251cb678261646140316f144f792,7273b96eff1c251cb678261646140316f144f792,"update full_install.md

made it more dumb person proof. Got up the the point of the ansible playbook. still some TODOs in there"
garrettr,2014-10-27 01:57:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07d10bc3c44696369b776bf076ad8c7555cd7255,07d10bc3c44696369b776bf076ad8c7555cd7255,Copy built grsec metapackage to the root dir
garrettr,2014-10-27 01:51:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d22a9132ef9f71bb1c42904751038ed8e6761143,d22a9132ef9f71bb1c42904751038ed8e6761143,Fix path for building grsecurity meta-package
garrettr,2014-10-26 22:08:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4aa0f4f2b0f47640147ef94f70c854a393e93755,4aa0f4f2b0f47640147ef94f70c854a393e93755,"Merge pull request #701 from dolanjs/build-env-fix

Fixes for build env VMs and playbook"
garrettr,2014-10-26 21:28:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c27af8cc22dabdb07481cc241f631b841de51911,c27af8cc22dabdb07481cc241f631b841de51911,"Merge pull request #700 from dolanjs/grsec-meta-package

Grsec meta package"
trevortimm,2014-10-26 20:39:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/42ebb6c0e7218296ed8b73c76bc0a2b524663fa0,42ebb6c0e7218296ed8b73c76bc0a2b524663fa0,"Updated ubuntu.config.md for dummies

This was already in good shape, but made it a little clearer for know-nothings like myself. Probably could use a quick read through for typos, etc."
garrettr,2014-10-26 19:54:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0c683bd3be44e92e6a6239c7bebaec7de0a810a,a0c683bd3be44e92e6a6239c7bebaec7de0a810a,"Merge pull request #699 from dolanjs/build-vm

Temp solution for testing local deb packages"
garrettr,2014-10-26 19:54:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/47316c118ae14b9ff52dd43f781943ab62edfcd7,47316c118ae14b9ff52dd43f781943ab62edfcd7,"Merge pull request #697 from dolanjs/boot_into_grsec_first

Boot into grsec first"
garrettr,2014-10-26 19:54:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b71e58f53a4a612adda3031540d007891c97b308,b71e58f53a4a612adda3031540d007891c97b308,"Merge pull request #691 from runasand/develop

Get and verify the latest tag, import the key for another Ubuntu dev"
dolanjs,2014-10-26 05:19:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21bca33e11f527d0bc44c92f4bbe784657bdfbb1,21bca33e11f527d0bc44c92f4bbe784657bdfbb1,"fix spelling typo

Think this was suppose to YubiKey https://www.yubico.com/"
thisisparker,2014-10-26 02:15:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5a398fe4672d6fb6677d6add5714b29a51ac392a,5a398fe4672d6fb6677d6add5714b29a51ac392a,Updated source manual with v0.3 screenshots
garrettr,2014-10-26 01:45:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2eceeb2f59a8571e38903ba545ffd17f9d23f064,2eceeb2f59a8571e38903ba545ffd17f9d23f064,"Merge pull request #698 from freedomofpress/fix/unittests

Fix manage.py test_unit to use worker"
diracdeltas,2014-10-26 01:30:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ebc42f04337fbf678ed221c581580ac4682f263a,ebc42f04337fbf678ed221c581580ac4682f263a,Fix manage.py test_unit to use worker
thisisparker,2014-10-26 00:47:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aac642a873aee0c845ca5368fad83d0683efc659,aac642a873aee0c845ca5368fad83d0683efc659,"Merge pull request #1 from trevortimm/admin-documentation-p

Separated out journalist manual"
garrettr,2014-10-26 00:45:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a568d1b68f6011c926b43ed5d2c3d7150d0400b2,a568d1b68f6011c926b43ed5d2c3d7150d0400b2,Merge branch 'develop' into code-cleanup
thisisparker,2014-10-26 00:40:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd3eb2ea155a71c9ab6fc4d233f48d73d7007387,dd3eb2ea155a71c9ab6fc4d233f48d73d7007387,Separated out journalist manual
garrettr,2014-10-25 23:15:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c65bcae56a7b0dbce0077c75d1b3c09231f9ce3c,c65bcae56a7b0dbce0077c75d1b3c09231f9ce3c,"Merge pull request #695 from freedomofpress/display-max-submission-size

Add note about maximum submission size to source interface"
garrettr,2014-10-25 23:14:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/67556c1d58d96489bc6c6497a1cf81680a002bb1,67556c1d58d96489bc6c6497a1cf81680a002bb1,"Merge pull request #693 from freedomofpress/sort-replies-by-date

Sort replies by date"
garrettr,2014-10-25 23:13:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2299ec9a5f25daa191316e1c28acdcedf53b4d51,2299ec9a5f25daa191316e1c28acdcedf53b4d51,"Merge pull request #692 from freedomofpress/normalize-on-gpg

Normalize on gpg"
garrettr,2014-10-25 23:09:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ea67184ec55bb73d3d8343eec580f6b1b3172feb,ea67184ec55bb73d3d8343eec580f6b1b3172feb,"Merge pull request #694 from trevortimm/admin-documentation

Add admin documentation, still needs screenshots, which I will add soon"
trevortimm,2014-10-25 23:06:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba97b63af3831291da08272f2267c8be778586bd,ba97b63af3831291da08272f2267c8be778586bd,Add admin documentation and screenshots for adding users
garrettr,2014-10-25 22:59:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb4b2ca4bacaa5d77a2af3b75e0162a2178fa985,fb4b2ca4bacaa5d77a2af3b75e0162a2178fa985,Add note about maximum submission size to source interface
garrettr,2014-10-25 22:22:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a05ceeebcf8e664795727fcc922d3ba8c8bd78f,6a05ceeebcf8e664795727fcc922d3ba8c8bd78f,Remove some trailing whitespace
garrettr,2014-10-25 22:21:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45ca7a3cc0c6872119eaa53b6fc7b944f33bf60f,45ca7a3cc0c6872119eaa53b6fc7b944f33bf60f,Sort replies in source interface by date sent
garrettr,2014-10-25 22:00:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0bbd7f20453c53a801d97f7b9a4f43df30829bf0,0bbd7f20453c53a801d97f7b9a4f43df30829bf0,Look and feel improvements for admin and logout links
garrettr,2014-10-25 21:46:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ac84c24c2dc6995a0b4f4a340ba44e333fddc55,7ac84c24c2dc6995a0b4f4a340ba44e333fddc55,Use GPG consistently
garrettr,2014-10-25 21:38:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4376d912d80bf6f2e2a7d3eb562d149818b64ce7,4376d912d80bf6f2e2a7d3eb562d149818b64ce7,Re-add mysteriously missing @property for shared_secret_qrcode
runasand,2014-10-25 18:52:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/990bbd4cefc275d84e93ba477914b883753f9e92,990bbd4cefc275d84e93ba477914b883753f9e92,"Updated with minor fixes (thanks, @garrettr!)"
runasand,2014-10-25 18:30:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6643c11848dd3e3deceb01f6fc3ebf45c87c5e2c,6643c11848dd3e3deceb01f6fc3ebf45c87c5e2c,"Get and verify the latest tag, import the key for another Ubuntu dev"
garrettr,2014-10-25 15:25:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/22f5a0fe0d1dfd85577090e45e773785da079421,22f5a0fe0d1dfd85577090e45e773785da079421,"Merge pull request #680 from dolanjs/authd-tasks

Authd tasks"
garrettr,2014-10-24 04:30:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d67df5ee2ae56f2ae8940ce12bad85424539277,0d67df5ee2ae56f2ae8940ce12bad85424539277,Harden setuid binary for Tails torrc helper
garrettr,2014-10-23 21:32:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e26f179ec192590e86357b7c5fafb0033ce4b31f,e26f179ec192590e86357b7c5fafb0033ce4b31f,Tip for speeding up dd on Mac OS X
garrettr,2014-10-23 20:56:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b6f629cb6ba690b0c07c1630ced13b5fe35ad0a8,b6f629cb6ba690b0c07c1630ced13b5fe35ad0a8,"Update grsec kernel build docs to latest built kernel

* Updates the docs for Ubuntu Trusty (14.04.1) because we switched to it for SecureDrop 0.3
* Updates versions of grsecurity patch and linux kernel to the versions used in the most recent successful build of the grsecurity kernel
* Fixes some formatting and trailing whitespace issues"
garrettr,2014-10-23 20:32:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23b841367fe3a30b3df53f6b988bb3fafa1d4960,23b841367fe3a30b3df53f6b988bb3fafa1d4960,"Split and merge full_install.md into separate, related docs

Also updates instructions, formatting, and cleans up whitespace."
runasand,2014-10-23 18:42:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1830f471bf2ad714af71a7e22894fddd9df01597,1830f471bf2ad714af71a7e22894fddd9df01597,Nitpick on javascript warning
runasand,2014-10-23 18:16:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90ee0f577eb759ad8f36aef28a55e923c4661581,90ee0f577eb759ad8f36aef28a55e923c4661581,"Journalists need username, password, 2fa to log in"
runasand,2014-10-23 18:13:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/127385f2a71c7c3f44860a9db675c7921fdb8ba8,127385f2a71c7c3f44860a9db675c7921fdb8ba8,"The JavaScript warning really is a popup, not a separate page"
runasand,2014-10-23 18:08:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/688ba05971bfc533c472680cc78fb281a09db808,688ba05971bfc533c472680cc78fb281a09db808,Updated with changes from @garrettr
runasand,2014-10-23 17:57:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a9210ccc6cf400e3eef3d388a31cc7c78e329aca,a9210ccc6cf400e3eef3d388a31cc7c78e329aca,Updated user manual for 0.3 (todo: screenshots)
ageis,2014-10-23 09:49:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a39ccc3098d6f2e64aeac262d4f2aa1d1b555ce6,a39ccc3098d6f2e64aeac262d4f2aa1d1b555ce6,Add Google Authenticator instructions for Android
runasand,2014-10-23 14:45:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d47c23ef51d9bcac95d4efba0001df1c1342a2f,6d47c23ef51d9bcac95d4efba0001df1c1342a2f,Include changes suggested by @ageis
garrettr,2014-10-24 21:23:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d39d6bf8d87c73b1392353e040d03a32e59dcd91,d39d6bf8d87c73b1392353e040d03a32e59dcd91,"Merge pull request #689 from runasand/develop

Verify the Ubuntu git repo (solves #5)"
runasand,2014-10-24 19:52:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/681c514ec79c58b8bad2bfd2b3af28ee8bbaa932,681c514ec79c58b8bad2bfd2b3af28ee8bbaa932,Verify the Ubuntu git repo (solves #5)
garrettr,2014-10-24 04:30:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f7a65f15c6cfadf3fd9d419f42c4aa71a1162fa5,f7a65f15c6cfadf3fd9d419f42c4aa71a1162fa5,Harden setuid binary for Tails torrc helper
garrettr,2014-10-23 21:32:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e75f97757a6c21fab04ce16018c94876e8640fa9,e75f97757a6c21fab04ce16018c94876e8640fa9,Tip for speeding up dd on Mac OS X
garrettr,2014-10-23 20:56:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21d47adb98679c94e266c7db049370bb3a0f5579,21d47adb98679c94e266c7db049370bb3a0f5579,"Update grsec kernel build docs to latest built kernel

* Updates the docs for Ubuntu Trusty (14.04.1) because we switched to it for SecureDrop 0.3
* Updates versions of grsecurity patch and linux kernel to the versions used in the most recent successful build of the grsecurity kernel
* Fixes some formatting and trailing whitespace issues"
garrettr,2014-10-23 20:32:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3ee6cead583c1238ba0f4a08beb3818e4ac76616,3ee6cead583c1238ba0f4a08beb3818e4ac76616,"Split and merge full_install.md into separate, related docs

Also updates instructions, formatting, and cleans up whitespace."
garrettr,2014-10-23 19:29:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa4527b1b870234d8bd160d7feb4366373da4f6b,aa4527b1b870234d8bd160d7feb4366373da4f6b,"Merge pull request #687 from runasand/develop

Updated user manual for 0.3 (todo: screenshots)"
runasand,2014-10-23 18:42:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8af4c0a7086d0ba55a2990163f3a171a5ad988e7,8af4c0a7086d0ba55a2990163f3a171a5ad988e7,Nitpick on javascript warning
runasand,2014-10-23 18:16:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/043263b74d1754716b4179a06336d51366122049,043263b74d1754716b4179a06336d51366122049,"Journalists need username, password, 2fa to log in"
runasand,2014-10-23 18:13:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/22a9d1abaf27b4b4a671e1c84f2eaff58b30ca2d,22a9d1abaf27b4b4a671e1c84f2eaff58b30ca2d,"The JavaScript warning really is a popup, not a separate page"
runasand,2014-10-23 18:08:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71ed029b4f5ba1cba42d12a9bcd54381663f45c5,71ed029b4f5ba1cba42d12a9bcd54381663f45c5,Updated with changes from @garrettr
runasand,2014-10-23 17:57:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/92e4740acb24d73632bf9611029a254dcaa690b4,92e4740acb24d73632bf9611029a254dcaa690b4,Updated user manual for 0.3 (todo: screenshots)
garrettr,2014-10-23 16:18:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7aac025d85dd3ea6071fe04819cb50d911831236,7aac025d85dd3ea6071fe04819cb50d911831236,"Merge pull request #681 from runasand/develop

Include changes suggested by @ageis"
runasand,2014-10-23 15:53:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ebfdd65d56bc5f39e3d0e51f15156199379a92e4,ebfdd65d56bc5f39e3d0e51f15156199379a92e4,Merge branch 'develop' of https://github.com/freedomofpress/securedrop into develop
garrettr,2014-10-23 15:46:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4350191844ae91a244c6dd220f00fc23f808b8b4,4350191844ae91a244c6dd220f00fc23f808b8b4,"Merge pull request #679 from ageis/develop

Add Google Authenticator instructions for Android"
runasand,2014-10-23 14:45:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5bc3b36a9aae0d9d0726dcb93acee9eb71a643a0,5bc3b36a9aae0d9d0726dcb93acee9eb71a643a0,Include changes suggested by @ageis
ageis,2014-10-23 09:49:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37e351e3bb5c9301d052db138a567d0b1dc9b87d,37e351e3bb5c9301d052db138a567d0b1dc9b87d,Add Google Authenticator instructions for Android
garrettr,2014-10-23 02:39:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6dfb676bf0abad70bb6ca59a813c79d982c16fa2,6dfb676bf0abad70bb6ca59a813c79d982c16fa2,Fix bug in validate role
garrettr,2014-10-23 03:09:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5775dcf33e565e3d68510dafdfef43883d9c21a9,5775dcf33e565e3d68510dafdfef43883d9c21a9,"Merge pull request #678 from dolanjs/reduce-spam-add-ossec-ignores

reduce ossec spam"
garrettr,2014-10-23 03:08:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d16cd13bbe1432e2034afd4d57f49f7354196ce5,d16cd13bbe1432e2034afd4d57f49f7354196ce5,"Merge pull request #677 from dolanjs/iptables_dns_denies

iptables rule fixes for prod mon server"
garrettr,2014-10-23 01:43:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20b6c0ec21270dca9db8f023ec394a9e41e45c76,20b6c0ec21270dca9db8f023ec394a9e41e45c76,"Merge pull request #676 from freedomofpress/default-codename-length

Change default codename length to 7 words"
garrettr,2014-10-23 01:42:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e4d3f9540867efa64c5e2ae95105a54d83b9f551,e4d3f9540867efa64c5e2ae95105a54d83b9f551,"Merge pull request #675 from freedomofpress/consolidate-pip-requirements

Split pip requirements files into securedrop and test requirements"
garrettr,2014-10-23 01:42:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5cb08b1c0d3e39d4a510094ae86fb2c6c11a3ba,e5cb08b1c0d3e39d4a510094ae86fb2c6c11a3ba,"Merge pull request #674 from dolanjs/doc_ip_info

network firewall IP info update"
garrettr,2014-10-23 00:00:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fea3c290d90b2607f223c02c084d3043432fa299,fea3c290d90b2607f223c02c084d3043432fa299,Update unit test for new codename default length
garrettr,2014-10-20 15:57:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d819ed131a8605383016e9ed355772414d5000c6,d819ed131a8605383016e9ed355772414d5000c6,Change default codename length to 7 words
garrettr,2014-10-22 23:45:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2a024808de9564ca2363971050dca506a482c38,e2a024808de9564ca2363971050dca506a482c38,No longer need these scripts due to Ansible
garrettr,2014-10-22 23:40:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/729d72ff0be3ed8916339ddbca76b9dbea2d39a1,729d72ff0be3ed8916339ddbca76b9dbea2d39a1,dev_files is no longer used
garrettr,2014-10-22 23:34:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c39fce0ed48647edd420297014eb9fa81f402fd,7c39fce0ed48647edd420297014eb9fa81f402fd,Removing setup_dev.sh because it has been replaced by Ansible
garrettr,2014-10-22 23:10:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f76aab3079f25138f3125a57802ca918d03fb72f,f76aab3079f25138f3125a57802ca918d03fb72f,"Split pip requirements files into securedrop and test requirements

This is the most logical split for the pip requirements. Every
environment needs the securedrop-requirements.txt, but only environments
that need to run the tests locally (development and staging) need
test-requirements.txt.

Tested by running `vagrant up development && vagrant up /staging$/`."
garrettr,2014-10-22 20:12:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5aa5c96d62b79554eb549d2da0844023026610a8,5aa5c96d62b79554eb549d2da0844023026610a8,Fix formatting of singular vs. plural seconds
garrettr,2014-10-22 20:11:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/72b93157d13a6693ed6fca3bd62d85e5d66224bc,72b93157d13a6693ed6fca3bd62d85e5d66224bc,"Filesystem timestamps should be UTC, regardless of system timezone"
dolanjs,2014-10-22 19:43:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/497c89b5d52f3798ec67facece04e8fcf325ca6e,497c89b5d52f3798ec67facece04e8fcf325ca6e,"Merge pull request #673 from dolanjs/merge-max-rspec

Update Max's rspec tests for current environment. Successfully passed the

```
~/git/securedrop/spec-tests$ rspec spec
...............................................................................
Finished in 8.03 seconds
79 examples, 0 failures
```
```
spec-tests/spec/localhost/
 apache_spec.rb
 securedrop_app_spec.rb
 tor_spec.rb
```

Will need to create new roles and move the respective tests to their roles. That way the tests will be split up for the monitor server compared to the app server."
garrettr,2014-10-22 19:42:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/84831dcd6247165a98cf044bd217abac0d2d632e,84831dcd6247165a98cf044bd217abac0d2d632e,Update apt before installing packages in development
garrettr,2014-10-22 18:45:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4672fbfff651097058f57f274182c4daa8214cb7,4672fbfff651097058f57f274182c4daa8214cb7,Add log file for iptables to cheat sheet
garrettr,2014-10-22 18:38:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00db2bce0464c7f722b84990e4743927d9a627a8,00db2bce0464c7f722b84990e4743927d9a627a8,"Merge pull request #672 from dolanjs/resolve-travis-config-py

remove temp travis fix for config.py"
garrettr,2014-10-22 18:33:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/48665e02f8ae6283860503a0e2ae0e89c0c8f9d0,48665e02f8ae6283860503a0e2ae0e89c0c8f9d0,"Merge pull request #671 from dolanjs/custom-header-image

fix custom header image"
garrettr,2014-10-22 18:28:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cdaaf553b3931c345c75d97eec48a46b792bb67f,cdaaf553b3931c345c75d97eec48a46b792bb67f,"Merge pull request #670 from runasand/develop

Add instructions for yubikey setup on Tails"
runasand,2014-10-22 00:48:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8faf67e7f5d0b4ab795f85b9b49dfc33bd741cf1,8faf67e7f5d0b4ab795f85b9b49dfc33bd741cf1,Link to instructions for creating bootable ubuntu usb
runasand,2014-10-22 00:36:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0a9e91ed2e3eeb4dfe3a39a97c6b532747f52ab0,0a9e91ed2e3eeb4dfe3a39a97c6b532747f52ab0,Add instructions for yubikey setup on Tails
garrettr,2014-10-21 22:56:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0fc507ce5632611a570bd3bcddd975e2e974ee3a,0fc507ce5632611a570bd3bcddd975e2e974ee3a,Merge branch 'full-install-docs' into develop
garrettr,2014-10-21 22:52:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2db46ecc05115d92356464d6b549e940aa29ba4d,2db46ecc05115d92356464d6b549e940aa29ba4d,"Merge pull request #669 from dolanjs/validate-defaults-in-prod

added a validate role that would only be run when running non-staging or..."
garrettr,2014-10-21 22:50:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0983b4a2a29ea11ce7dab57f405580f5548a8204,0983b4a2a29ea11ce7dab57f405580f5548a8204,Formatting and minor edits
garrettr,2014-10-21 22:39:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c8206e55e79f9712d6fcfd0280bfd584c8079e5,1c8206e55e79f9712d6fcfd0280bfd584c8079e5,Rough documentation for full install of 0.3
garrettr,2014-10-21 21:28:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68f8888a96870aeaf831509917268e1df7b7519e,68f8888a96870aeaf831509917268e1df7b7519e,"Merge pull request #668 from dolanjs/remove-prod-grsec-skip

removed ansible.skip_tags config line for app and mon vm"
garrettr,2014-10-21 15:19:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/158f10b93447e4ce4d2ef8572081da8673195773,158f10b93447e4ce4d2ef8572081da8673195773,"Merge pull request #667 from dolanjs/logging-locations

Add cheat sheet for log file locations"
garrettr,2014-10-21 15:18:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bb6362a5a5d0e97b5779e72296a69864b6981a54,bb6362a5a5d0e97b5779e72296a69864b6981a54,"Merge pull request #666 from dolanjs/paxctl-grub-setup

Updated the grsec package name to current. a meta package will need to b..."
garrettr,2014-10-21 15:18:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a6c516413b02fb30502ba408a7cde3353ff4b396,a6c516413b02fb30502ba408a7cde3353ff4b396,"Merge pull request #660 from dolanjs/develop-mon-staging-doc

added mon-staging to list of predefined VMs"
garrettr,2014-10-21 15:17:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a35f8a0315cbe2cf4335084bd158e55af8fa8a7,8a35f8a0315cbe2cf4335084bd158e55af8fa8a7,"Merge pull request #659 from runasand/develop

Yes, you will need a cable to hook the NUC up to a monitor"
garrettr,2014-10-21 15:16:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4e256429f6ecb8da61c097b0041207f2128ef7ac,4e256429f6ecb8da61c097b0041207f2128ef7ac,"Merge pull request #658 from dolanjs/smtp-header-check

re-added ansible handler to run postmap /etc/postfix/header_checks"
garrettr,2014-10-21 07:08:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8745bd81972f0e71a93e038a43d7879efba7bd39,8745bd81972f0e71a93e038a43d7879efba7bd39,"Temporarily disable vagrant-cachier

This will slow down provisioning times, but fixes issues with apt that
appear to be caused by vagrant-cachier. Should re-enable when
https://github.com/fgrehm/vagrant-cachier/issues/128 is resolved."
runasand,2014-10-20 23:32:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/876ae7f9f0fa2ae3e30e203ac15f82110dba4ab6,876ae7f9f0fa2ae3e30e203ac15f82110dba4ab6,"Yes, you will need a cable to hook the NUC up to a monitor"
garrettr,2014-10-20 22:52:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ccdffa00a874e125eabcc1fba19f3c2e93144183,ccdffa00a874e125eabcc1fba19f3c2e93144183,"Merge pull request #657 from dolanjs/ansible-apparmor-complain

Update apparmor profiles for ubntu 14.04"
garrettr,2014-10-20 22:41:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/478dd6495217c27970fe3404bf0b9d3e9c35219c,478dd6495217c27970fe3404bf0b9d3e9c35219c,More compact submission list
garrettr,2014-10-20 22:35:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a7ddd00dd4c297445f194ce14464837b9eae6b87,a7ddd00dd4c297445f194ce14464837b9eae6b87,Remove unnecessary verbiage from submission notifications
garrettr,2014-10-20 22:34:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f98ac1eaf7506131470e7d785bbfe66f347e14dc,f98ac1eaf7506131470e7d785bbfe66f347e14dc,Formatting nit
garrettr,2014-10-20 22:07:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d36be300aa83776cc88421c018843f2df8ff0c54,d36be300aa83776cc88421c018843f2df8ff0c54,"Fixes for ""Disable JS"" bubble

1. Fix matching the TB user agent
2. Fix position of bubble for new TB (NoScript icon moved in TB 4.0)
3. Use correct icon for ""Forbid scripts globally (advised)""
4. Nicer design for bubble"
garrettr,2014-10-20 22:06:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4bf174d0e61989b5874a3117467000efb91118f2,4bf174d0e61989b5874a3117467000efb91118f2,"Ignore .DS_Store

Interestingly, these files were only created once I navigated into the
directories using the Mac OS X Finder."
garrettr,2014-10-20 21:04:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/91dd200edf897565bb1e32bca77b4199b8c90121,91dd200edf897565bb1e32bca77b4199b8c90121,"Remove starred/unstarred headings, replace with gap"
garrettr,2014-10-20 20:43:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9a1a0efecdd9ad091f987410248f522a515bd699,9a1a0efecdd9ad091f987410248f522a515bd699,"Merge pull request #656 from dolanjs/ssh-2fa

Password + TOTP as a ssh authentication option"
garrettr,2014-10-20 19:27:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/44ee48926ba1ba2956d7d5fbc4437eda967fb2ad,44ee48926ba1ba2956d7d5fbc4437eda967fb2ad,"unattended-upgrades regex should block all kernels except grsec

grsec patches are periodically upgraded for LTS releases of the Linux
kernel, while the kernel itself is upgraded more frequently by default
in Ubuntu. We want to allow the installation and auto-upgrade of the
grsec kernel that we provide, but do not want unattended-upgrades to
clobber our grsec kernel with a newer (but not grsec-hardened) version
of the Linux kernel provided by the default repos.

This regular expression matches (therefore blacklists) any package name
that begins with ""linux-(image|headers)"" unless the string ""grsec""
appears later in the string."
garrettr,2014-10-19 19:02:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d57bb314d6c6ba6587754d6babd198a233c9d7d,9d57bb314d6c6ba6587754d6babd198a233c9d7d,"Merge pull request #655 from freedomofpress/default-codename-length

Remember user choice for codename length on subsequent requests"
garrettr,2014-10-19 18:18:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b3b23ccdcb2e106e33a0aa588e245c6fcc00b7c,9b3b23ccdcb2e106e33a0aa588e245c6fcc00b7c,Remember user choice for codename length on subsequent requests
garrettr,2014-10-19 18:01:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cf996bc12887f6256d561ba430865442e3f11b28,cf996bc12887f6256d561ba430865442e3f11b28,Check for duplicate usernames and prompt again
dolanjs,2014-10-18 19:31:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca7ecd7e05926f9df70ba810a1ebf12764f066c3,ca7ecd7e05926f9df70ba810a1ebf12764f066c3,"Merge pull request #653 from dolanjs/staging-app-mem

 Up app-staging and app vm to 1GB"
dolanjs,2014-10-17 23:16:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/40842b329214bdb9ad7fed9b520bb2211ec2cc2e,40842b329214bdb9ad7fed9b520bb2211ec2cc2e,"Merge pull request #652 from dolanjs/temp-remove-ossec-build

temp removing building ossec deb from staging roles"
garrettr,2014-10-16 20:54:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a1f6c16d6ef609f0671c4880676d697f1122b0e7,a1f6c16d6ef609f0671c4880676d697f1122b0e7,Wait for hidden service hostnames to be generated
garrettr,2014-10-16 19:28:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c870155149bd4ab50f9f77755fa63aafd48a982,0c870155149bd4ab50f9f77755fa63aafd48a982,fetch should trigger failure if file not found
garrettr,2014-10-16 19:01:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/933df2e19ff504b57a5e506cbd0ec8764aa83e0b,933df2e19ff504b57a5e506cbd0ec8764aa83e0b,Check for each hidden service dir on monitor server
garrettr,2014-10-16 18:49:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c18fb23a2e53aa8d3fe9f9e634faadc7183e7a10,c18fb23a2e53aa8d3fe9f9e634faadc7183e7a10,ansible-playbook breaks if these files are +x
garrettr,2014-10-16 17:36:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9e8f28f35bd797c019d71ba8ccf79dfccbe5961f,9e8f28f35bd797c019d71ba8ccf79dfccbe5961f,James's tweaks from debugging on hardware
garrettr,2014-10-16 09:34:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07b827dd95393c7dacbae63d814f6d183d542729,07b827dd95393c7dacbae63d814f6d183d542729,"Merge pull request #650 from dolanjs/mon-torrc-fix

updated the torrc-mon"
garrettr,2014-10-16 09:19:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec0df028826c50d4020addd51af8f49e33dc9d21,ec0df028826c50d4020addd51af8f49e33dc9d21,Don't change owner of config.py
garrettr,2014-10-16 04:34:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c48594f47f59f5655771d876cbd8b7893fdac66d,c48594f47f59f5655771d876cbd8b7893fdac66d,Update documentation
garrettr,2014-10-16 04:34:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ec396c0a385ac9fc43e0e57b811bdd080dc1548,4ec396c0a385ac9fc43e0e57b811bdd080dc1548,Fixes for staging build from local testing
garrettr,2014-10-16 02:47:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/241e6609417085f643c1edd72847d8790cbb62da,241e6609417085f643c1edd72847d8790cbb62da,"Merge pull request #649 from freedomofpress/set-securedrop-env-for-development

Set SECUREDROP_ENV for development environment"
garrettr,2014-10-16 02:23:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f6f3b1a2af63dd1c8ebd26921eb9f6a77f41d322,f6f3b1a2af63dd1c8ebd26921eb9f6a77f41d322,"Set SECUREDROP_ENV for development environment

This makes running certain tasks manually, such as the individual
`source.py` or `journalist.py` applications, less error-prone. You need
to set `SECUREDROP_ENV=dev` in order to have `FlaskConfig.DEBUG = True`,
which is necessary for Flask to serve the static files."
garrettr,2014-10-16 02:38:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cdc7ab206a152057ae4c062b429875600fb130c6,cdc7ab206a152057ae4c062b429875600fb130c6,"Merge pull request #647 from freedomofpress/task-queue

Task queue"
garrettr,2014-10-16 02:35:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a9ba2c762e065f16e728f36021f2b062b55615aa,a9ba2c762e065f16e728f36021f2b062b55615aa,"Merge branch 'fix-sending-ossec-alerts' of https://github.com/dolanjs/securedrop into dolanjs-fix-sending-ossec-alerts

Conflicts:
	install_files/ansible-base/roles/mon/tasks/mon_configure_ossec_gpg_alerts.yml"
garrettr,2014-10-16 02:32:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d70a680deeb666217ff11c486d4823ea079a697,6d70a680deeb666217ff11c486d4823ea079a697,"Merge pull request #646 from dolanjs/check-for-ossec-download

Check for ossec download"
garrettr,2014-10-16 02:32:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cb4622cdc2dd0ff8634aa5f4a8bf121c209b6c30,cb4622cdc2dd0ff8634aa5f4a8bf121c209b6c30,"Merge pull request #645 from dolanjs/gpg-key-without-vagrant-fix

Copy the app and ossec alert gpg key to remote host"
garrettr,2014-10-15 22:34:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a4c0efb62579fd0c4bb7c1acf35ee99128704a3,4a4c0efb62579fd0c4bb7c1acf35ee99128704a3,"Fix Travis builds

For some reason, redis-server does not start automatically after it is
installed on Travis. *shrug*"
garrettr,2014-10-15 22:19:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff40faf6823dda91353d2fe0a5c9c78a4ff39f05,ff40faf6823dda91353d2fe0a5c9c78a4ff39f05,"Increase memory allocation for development VM

Functional tests have recently been failing due to ""out of memory""
errors. My theory is that this is due to the new release of Firefox,
which came out two days ago (and usually takes a day or so to make it
into the mainline repos) using more memory than the previous release.
Timelines match up, although I haven't done any further testing to prove
this.

Nice side effect: increasing the amount of available memory makes
Firefox run faster, which makes the functional tests run faster. Also
appears to eliminate various intermittent errors from the functional
tests, such as the ""empty status line"" error from Selenium and the
TypeError from python-gnupg. This makes sense!"
garrettr,2014-10-15 22:16:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5d722e1d94770def094a517b4b8365cd72ccce04,5d722e1d94770def094a517b4b8365cd72ccce04,"Use separate job queue for jobs from manage.py test

Python-RQ is nice because it lets us schedule jobs that are arbitrary
Python functions. The downside is that, due to our messy ""config as a
module with values derived from an environment variable"" setup, there
can be issues. For example, jobs sent from the tests will not run
correctly on the default worker (started by supervisor), because they
were started with different values for SECUREDROP_ENV and therefore have
different SECUREDROP_ROOTs.

Clearly this whole situation needs to be improved but this hack is
reasonable and works well for now:

1. Use a separate ""test"" queue for jobs triggered by the tests
2. Start/stop a temporary ""test""-queue-only rqworker for the tests"
garrettr,2014-10-15 22:16:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fef0f31044b82d145c11d1ed6276ec360c68ebf8,fef0f31044b82d145c11d1ed6276ec360c68ebf8,Ansible playbooks set up supervisor to run job queue worker
garrettr,2014-10-15 20:45:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6926ebfe684bff52d661a26f6f3518d4d3faef43,6926ebfe684bff52d661a26f6f3518d4d3faef43,Add debugging for intermittent (very infrequent) scrypt error
garrettr,2014-10-15 20:42:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5572174a75e550b72f44df7c2c6651bd7dcb52d5,5572174a75e550b72f44df7c2c6651bd7dcb52d5,"Test that deleted files are actually removed from the filesystem

The tests use a polling wait since deletion is handled by a polling
worker, and secure deletion can be time consuming. At the moment, the
test files are all very small, so they secure delete quickly. The added
overhead is < 1 second.

This increases test coverage as well - previously, we were not testing
that deleted files were actually removed from the filesystem."
garrettr,2014-10-15 20:42:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/49553e6471b9b7533a882610228d9d6610222f14,49553e6471b9b7533a882610228d9d6610222f14,Enqueue potentially time-consuming secure unlinks
garrettr,2014-10-15 20:41:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/db1342556b03e776e10671d5f60074201edba998,db1342556b03e776e10671d5f60074201edba998,Auto-start an rqworker for manage.py tasks that need one
garrettr,2014-10-14 22:26:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4107a41bb2f88481feeba40e95d3e22153259deb,4107a41bb2f88481feeba40e95d3e22153259deb,Add Python-RQ worker and make sure it's started when needed
garrettr,2014-10-15 16:44:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f420b2b8cc278787ccc93da5481c8fe2237b4d55,f420b2b8cc278787ccc93da5481c8fe2237b4d55,Update develop.md to match current environment
garrettr,2014-10-15 15:35:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f41c6e0e6b2384b33967f91e3682a06f3c45ef5f,f41c6e0e6b2384b33967f91e3682a06f3c45ef5f,Fix formatting due to unmatched fenced code block
garrettr,2014-10-15 04:03:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d4ff7f8dac25b3090d501a0a205642a8762862b,1d4ff7f8dac25b3090d501a0a205642a8762862b,Fixes from code review
garrettr,2014-10-15 02:26:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0be6e3accd5ef51dd9e354c01b03297c53db1691,0be6e3accd5ef51dd9e354c01b03297c53db1691,"Merge branch 'vagrant-digital-ocean-for-snap' of https://github.com/dolanjs/securedrop into dolanjs-vagrant-digital-ocean-for-snap

Conflicts:
	securedrop/static/js/journalist.js"
garrettr,2014-10-15 02:11:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e14c0994a1fc121fed011d22def21744b54d556,6e14c0994a1fc121fed011d22def21744b54d556,"Merge pull request #644 from freedomofpress/source-reply-ui

Source reply ui"
garrettr,2014-10-15 02:06:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/307aba8556d4951a68637374b924d8fceb5dc41c,307aba8556d4951a68637374b924d8fceb5dc41c,Fix broken unit tests by removing unusued variable
garrettr,2014-10-15 01:58:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d47266832384c6f84d53a5e5510044d762a6f2d0,d47266832384c6f84d53a5e5510044d762a6f2d0,Nicer design for source reply area
garrettr,2014-10-15 01:57:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30bcdb65cc21506f00677a9def75ad89ec2750b2,30bcdb65cc21506f00677a9def75ad89ec2750b2,Nit: unnecessary period
garrettr,2014-10-15 01:57:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/befa8bb829abf406a6885dc999c696045aa86b29,befa8bb829abf406a6885dc999c696045aa86b29,Nit: return makes more sense than continue
garrettr,2014-10-15 01:57:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21036762d970c0ba88f05a251591a84d6e224eeb,21036762d970c0ba88f05a251591a84d6e224eeb,Fix accidental breakage of select and selected actions on /col pages
garrettr,2014-10-14 19:39:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df9a8cb89a272f1f691bcea26f5c238ae784264c,df9a8cb89a272f1f691bcea26f5c238ae784264c,"Only select and de-select visible checkboxes

This avoids selecting checkboxes that are not visible due to filtering
by journalist designation. There was a hack to avoid accidentally
deleting collections that were selected, this fix replaces that with a
much cleaner and simpler solution which also prevents confusion by
seeing previously hidden items checked when clearing the filter text."
runasand,2014-10-14 16:23:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7011110df9bfb5c12b47da6cc4952ff20f86176a,7011110df9bfb5c12b47da6cc4952ff20f86176a,Moved ubuntu grsec guide to the freedomofpress repo
runasand,2014-10-14 14:13:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/25588f23f9567bbcca0fcb7753ada9a322ef28d6,25588f23f9567bbcca0fcb7753ada9a322ef28d6,Give the admin the option of FDE or not
runasand,2014-10-14 13:18:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/92b8f923716e416739ad5f35aab840bb32974a3d,92b8f923716e416739ad5f35aab840bb32974a3d,Got questions about the SVS? Email us.
garrettr,2014-10-15 00:46:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2533156d265c94340e83b86898825715427f7da4,2533156d265c94340e83b86898825715427f7da4,"Merge branch 'improve-source-lookup-page' of https://github.com/DonnchaC/securedrop into source-reply-ui

Conflicts:
	securedrop/source.py"
garrettr,2014-10-14 19:55:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fcbf8c85212df24f31b1cf9707f228bf5735f1dd,fcbf8c85212df24f31b1cf9707f228bf5735f1dd,"Merge pull request #641 from freedomofpress/fix-select-and-filter-interaction

Only select and de-select visible checkboxes"
garrettr,2014-10-14 19:54:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/89e0b5862a7c35dede28e87b96c063fee71b1143,89e0b5862a7c35dede28e87b96c063fee71b1143,"Merge pull request #640 from runasand/develop

Give the admin the option of FDE or not"
garrettr,2014-10-14 19:39:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d99c5c556987c45a3fa786afd9a7146074ff8385,d99c5c556987c45a3fa786afd9a7146074ff8385,"Only select and de-select visible checkboxes

This avoids selecting checkboxes that are not visible due to filtering
by journalist designation. There was a hack to avoid accidentally
deleting collections that were selected, this fix replaces that with a
much cleaner and simpler solution which also prevents confusion by
seeing previously hidden items checked when clearing the filter text."
runasand,2014-10-14 16:23:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e6aaeaf565feffaf00a628a6c7e30080b5f1788,6e6aaeaf565feffaf00a628a6c7e30080b5f1788,Moved ubuntu grsec guide to the freedomofpress repo
runasand,2014-10-14 14:13:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6aaebd6a6454b97a07792d74a722de62fc7191f3,6aaebd6a6454b97a07792d74a722de62fc7191f3,Give the admin the option of FDE or not
runasand,2014-10-14 13:18:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f03a59d08c2309e65b71c8ad51ead5448d3add9,3f03a59d08c2309e65b71c8ad51ead5448d3add9,Got questions about the SVS? Email us.
garrettr,2014-10-14 01:18:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2aad348c73455162b9b0c12b8e053501210708da,2aad348c73455162b9b0c12b8e053501210708da,"Merge pull request #639 from freedomofpress/why-rename-source

Add explanation for renaming sources to hover text"
garrettr,2014-10-14 00:12:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d5475d29f294e1f0858b3860e193bf7bd5e147e0,d5475d29f294e1f0858b3860e193bf7bd5e147e0,Add explanation for renaming sources to hover text
garrettr,2014-10-13 23:42:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d0a53bd62fa779e95e2700070a64c3479b81e8b5,d0a53bd62fa779e95e2700070a64c3479b81e8b5,Fix unit test broken by ux tweaks
garrettr,2014-10-13 23:40:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a326df46e741a59a20e77f6796386ca2effb501,3a326df46e741a59a20e77f6796386ca2effb501,Merge branch 'ux-tweaks' into develop
garrettr,2014-10-13 23:38:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/519c8851df3e376330b9de1a0b78eb4c6d9895a9,519c8851df3e376330b9de1a0b78eb4c6d9895a9,Tighten up
garrettr,2014-10-13 23:38:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a0a3e8fbed5dfefdc0876e80871126cecc8ece0,4a0a3e8fbed5dfefdc0876e80871126cecc8ece0,"Use smallest logo necessary for perf, and adjust layout accordingly"
garrettr,2014-10-13 23:18:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2044519003be3481bbd0660d3c716226c643cd05,2044519003be3481bbd0660d3c716226c643cd05,Formatting tweaks to journalist public key para
garrettr,2014-10-13 23:14:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/26c03f37614cefdc34d9ffce307658865bf7f88a,26c03f37614cefdc34d9ffce307658865bf7f88a,Polish on submission interface
garrettr,2014-10-13 22:50:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7dd496399868b869f231fa84666cab3b0c6588b1,7dd496399868b869f231fa84666cab3b0c6588b1,fix missing colon
garrettr,2014-10-13 22:50:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0c6c729bcca47cb68b4ceb3f27bd5e7d84ac5d5,f0c6c729bcca47cb68b4ceb3f27bd5e7d84ac5d5,Firefox 24 (current TBB) doesn't support unprefixed box-sizing
garrettr,2014-10-13 22:49:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b6cf309d51192c189e7367e4d5d6b88fd9742889,b6cf309d51192c189e7367e4d5d6b88fd9742889,Fix space between text and button on source index page
garrettr,2014-10-13 17:42:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df6ca9897d4d53cb43d3c30ca822143728fbcaf3,df6ca9897d4d53cb43d3c30ca822143728fbcaf3,partial fixes from code review
garrettr,2014-10-12 01:43:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/88abc0931e4b58c7acc25e5a83cdadec68c5e8ac,88abc0931e4b58c7acc25e5a83cdadec68c5e8ac,remove unused div (used to be for metadata checkbox)
garrettr,2014-10-12 01:43:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f5e7d7d3f59d2af85469030775a035a055e5e1d5,f5e7d7d3f59d2af85469030775a035a055e5e1d5,Move document action buttons above list of documents
garrettr,2014-10-11 23:02:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/869134c8622add2b47d0c632f5b59616b6d65630,869134c8622add2b47d0c632f5b59616b6d65630,less wasted space around panel
garrettr,2014-10-11 23:01:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a1d0d939383f8d171b0e2e659209faa25ff4af4,8a1d0d939383f8d171b0e2e659209faa25ff4af4,Remove unnecessary text from index page
garrettr,2014-10-11 22:55:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23fb797ab448a6232ac12b529f2997bbd786ce6e,23fb797ab448a6232ac12b529f2997bbd786ce6e,Nicer styles for list of collections
garrettr,2014-10-11 22:52:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/66e4d4376914a5b57390aa204d30a02b822a2ec5,66e4d4376914a5b57390aa204d30a02b822a2ec5,better position and layout of select and action buttons
garrettr,2014-10-11 22:38:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa42ff2162c11ca231fb81ec70471c6c654e6bce,fa42ff2162c11ca231fb81ec70471c6c654e6bce,better UX for starred and un-starred sources
garrettr,2014-10-11 22:31:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ec37c44ae50d8a37c79452045f549f8a01ce436,4ec37c44ae50d8a37c79452045f549f8a01ce436,Nicer placement and UX for regenerate codename button
garrettr,2014-10-11 21:47:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cf661e309f06e9d6e076f55b9005dbffbad1aa72,cf661e309f06e9d6e076f55b9005dbffbad1aa72,"Merge pull request #635 from freedomofpress/standardize-on-SecureDrop

Securedrop => SecureDrop"
garrettr,2014-10-11 21:40:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/994e6cb979916d64b4fce67b4745ad34056a4cc6,994e6cb979916d64b4fce67b4745ad34056a4cc6,Securedrop => SecureDrop
garrettr,2014-10-11 21:35:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b592f205145bfbe620f55731b2c11eadeada05f2,b592f205145bfbe620f55731b2c11eadeada05f2,"Merge pull request #634 from freedomofpress/standardize-on-codename

""code name"" => ""codename"""
garrettr,2014-10-11 21:28:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d1af083dd9fe17b69b3331867f774cac7ca25c60,d1af083dd9fe17b69b3331867f774cac7ca25c60,"""code name"" => ""codename"""
garrettr,2014-10-11 21:22:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2b49ed6d7b15b1614fecef8fb90d41dc9e65bee,e2b49ed6d7b15b1614fecef8fb90d41dc9e65bee,"Merge pull request #633 from freedomofpress/encrypt-replies-to-journalist-key

Encrypt replies to journalist key"
garrettr,2014-10-11 18:33:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a2700b723f356701b809d0c103a85353f3ac65f7,a2700b723f356701b809d0c103a85353f3ac65f7,"Merge pull request #631 from dolanjs/mon-server-and-re-org

Mon server and re org"
garrettr,2014-10-11 00:37:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/304d6aae81f5b8ec51b50e98e831e672f7b8c469,304d6aae81f5b8ec51b50e98e831e672f7b8c469,"Merge pull request #630 from garrettr/fix-cookies-everywhere

Fix session cookie naming in all environments"
garrettr,2014-10-11 00:34:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c0d2ebdc97fbc3d9b3970625f7746d9e23662787,c0d2ebdc97fbc3d9b3970625f7746d9e23662787,"Merge pull request #629 from maxamg/develop

explicitly code amd64 in sources.d"
garrettr,2014-10-11 00:34:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/badfb59d8e3adecfce40ea23aa3f7437306af83a,badfb59d8e3adecfce40ea23aa3f7437306af83a,"Merge pull request #628 from freedomofpress/ansible-iptables-ssh-rules

Allow direct SSH access on staging"
maxamg,2014-10-10 04:49:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20df31db7d8c97e031fa8c4c0caf21859874ad2c,20df31db7d8c97e031fa8c4c0caf21859874ad2c,explicitly code amd64 in sources.d
garrettr,2014-10-09 18:58:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5e827077da9619a3c45cb3b49918190ccb49eaec,5e827077da9619a3c45cb3b49918190ccb49eaec,"Merge pull request #627 from freedomofpress/fix-debs-and-staging

Fix debs and staging"
garrettr,2014-10-09 18:42:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0e5bc09e216bbc005cf81fb018cd8e5a8a1e737,a0e5bc09e216bbc005cf81fb018cd8e5a8a1e737,"Merge pull request #625 from freedomofpress/flask-use-xsendfile

Flask should use X-SendFile in prod"
garrettr,2014-10-08 17:23:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f3ba526084754154b8ad0dd33c9ff837de594be8,f3ba526084754154b8ad0dd33c9ff837de594be8,"Merge pull request #624 from freedomofpress/fix-intermittent-functional-test-error

Fix intermittent functional test errors"
garrettr,2014-10-04 21:18:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30e7211face9bc1edd91a8ae04b276a0b3a7c4f1,30e7211face9bc1edd91a8ae04b276a0b3a7c4f1,"Merge pull request #615 from dolanjs/combine-roles

Combine roles"
dolanjs,2014-10-04 20:56:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8ec8e9455208a21f7331786ff64a007aabbbb80f,8ec8e9455208a21f7331786ff64a007aabbbb80f,"@garrettr had combined the dependencies listed in test-requirements.txt into dev-requirements.txt
removed the associated task and deleted test-requirements.txt from the repo
a grep showed no other references to it."
dolanjs,2014-10-04 20:49:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1da43d9713bf0733da1de5377a13b991903d3733,1da43d9713bf0733da1de5377a13b991903d3733,"updated doc to show correct interface ports for staging server.
sudo (and then any command) not working for me, so switched back to sudo su. Until have time to see why it doesn't work.
replaced ??? with the actual future filename from david's pr"
garrettr,2014-10-04 18:36:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b705bbe049acebcf09f64fda65fcc192a12336b,5b705bbe049acebcf09f64fda65fcc192a12336b,"Merge pull request #614 from runasand/develop

Documentation related to the 0.3 release"
runasand,2014-10-03 16:57:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e7b9cbb53fc03da383fb90ba9f6b0f8c4424315,0e7b9cbb53fc03da383fb90ba9f6b0f8c4424315,Updated to also cover the Admin Workstation
dolanjs,2014-10-03 02:00:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d19b49097cf32bf0312ba30ef11680f2f2ea49ab,d19b49097cf32bf0312ba30ef11680f2f2ea49ab,updated doc to show when to use sudo
dolanjs,2014-10-03 01:15:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bd0584b33827583e6089c6d6caf0c0f9522329ee,bd0584b33827583e6089c6d6caf0c0f9522329ee,"updated to doc
added a tag for task that install the test and dev depends. This way they can be skipped when using staging to create apparmor profiles"
dolanjs,2014-10-02 23:04:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/048f2a9b2824ce120b322d8b485ab7d56fd56d78,048f2a9b2824ce120b322d8b485ab7d56fd56d78,updated permissions for unattended-upgrades
dolanjs,2014-10-02 23:02:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/100fd7d1c13d52f0d38df635be593d491f382f4e,100fd7d1c13d52f0d38df635be593d491f382f4e,Merge remote-tracking branch 'upstream/develop' into combine-roles
dolanjs,2014-10-02 22:52:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ffc9dc92558375ba61879dcfdfccb4cf75c92b1,6ffc9dc92558375ba61879dcfdfccb4cf75c92b1,updated directions and added task so manage.py is run on the development branch
dolanjs,2014-10-02 22:06:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/76dc06395260aa0942b090e2775f1ccae42ca6f4,76dc06395260aa0942b090e2775f1ccae42ca6f4,"Combined the 3 roles in one ansible-securedrop
split the playbooks into one development, staging, app and mon (debs uses the staging playbook to avoid config issues)
each playbook has it own inlcuded vars file securedrop-staging-conf.yml
for the app and mon playbooks the admin will need to copy and fill out the example conf files"
runasand,2014-10-02 20:01:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c5649208c3d40a3d86cc23c702a5542c18d9b1e3,c5649208c3d40a3d86cc23c702a5542c18d9b1e3,No need for manual kernel patching
runasand,2014-10-02 15:47:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8323e4da146464559ff45546ae9a98dd926541b1,8323e4da146464559ff45546ae9a98dd926541b1,Updated instructions screenshots for GPG key generation (#529)
runasand,2014-10-02 14:55:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d41966fd418d098da9992b69f7e105e8167bee31,d41966fd418d098da9992b69f7e105e8167bee31,Change referenes to 12.04 to 14.04.1
runasand,2014-10-02 14:47:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b794025ef9ad6106ccea5d84cf1343c950c426cb,b794025ef9ad6106ccea5d84cf1343c950c426cb,Point to Tails website for creating and using encrypted volumes
runasand,2014-10-02 13:06:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09e143e573698420bca035f40451f4ca00103651,09e143e573698420bca035f40451f4ca00103651,nitpick
runasand,2014-10-02 13:04:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f191512dde8f562ab4bc67b4598fe57f62b11f9,7f191512dde8f562ab4bc67b4598fe57f62b11f9,Updated with 14.04 and removed some unnecessary bits
garrettr,2014-10-02 04:47:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/649ee4ae0e67104c300a5a979241951b82acff19,649ee4ae0e67104c300a5a979241951b82acff19,fixes for deb and staging environment
garrettr,2014-10-02 03:15:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/064b0364f98385a1b26dfee2ab1c5dfb7e7e0a64,064b0364f98385a1b26dfee2ab1c5dfb7e7e0a64,Merge branch 'wsgi-file-dev-env' into ansible-tags
garrettr,2014-10-02 03:14:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/017ebad36b71b8caf49f7129e84783472afcc3a9,017ebad36b71b8caf49f7129e84783472afcc3a9,add missing dep from test-requirements to dev-requirements
garrettr,2014-10-02 03:14:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d803c639181f966140d491c3ced2def6425a3546,d803c639181f966140d491c3ced2def6425a3546,symlink config.py.example to ansible template
garrettr,2014-10-02 02:40:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd83bcdcf29fff7f6a3674533e898a4935759624,cd83bcdcf29fff7f6a3674533e898a4935759624,"Merge branch 'develop' into wsgi-file-dev-env

Conflicts:
	securedrop/config.py.example"
garrettr,2014-10-02 02:37:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f999f4e45142e217d60049c5b0013eda8890dfe1,f999f4e45142e217d60049c5b0013eda8890dfe1,Fix spacing
dolanjs,2014-10-02 02:15:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/48860000ca03040cab01f7f079d8ecb21432541c,48860000ca03040cab01f7f079d8ecb21432541c,"Merge pull request #9 from garrettr/staging-fixes

Staging fixes"
garrettr,2014-10-02 02:12:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b7cd38f3d6cca840a0a304262e4e9dfbcafa897,9b7cd38f3d6cca840a0a304262e4e9dfbcafa897,"Do setup to run the functional tests on staging

This is not ideal, since the functional tests require dependencies that
will now be present on the staging server but would not be present on a
production server. For now, we'd like to be able to run all of the tests
to generate the best possible AppArmor rules, but we should revisit
this. Ideally, you would run the tests remotely, which should be fairly
easy to do with the functional tests at least."
garrettr,2014-10-02 02:11:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d46ad01121b05ba031f6a1cd9a6c3870d66ef470,d46ad01121b05ba031f6a1cd9a6c3870d66ef470,No longer makes sense to set up AppArmor on development host
dolanjs,2014-10-02 02:10:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1fa96c6914cbc2ae4dbaee059a97be190e5cc0f5,1fa96c6914cbc2ae4dbaee059a97be190e5cc0f5,removed some of the extra stuff from upstream tor role
garrettr,2014-10-02 02:10:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45d07c64fc00b004ea352abe0911d2e424bfcdb0,45d07c64fc00b004ea352abe0911d2e424bfcdb0,Use autostart flag to only provision and use the development VM by default
garrettr,2014-10-02 02:09:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f0e600b28f448c7d993a57b33e99bc5a42fdce1,2f0e600b28f448c7d993a57b33e99bc5a42fdce1,Fix incorrect port forwarding in Vagrantfile
garrettr,2014-10-02 02:08:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1461d5c784f1d8433f65ede247bb17ba5c0d87f1,1461d5c784f1d8433f65ede247bb17ba5c0d87f1,Use consistent naming for development host and role
david415,2014-10-02 01:16:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9c7d41a87fd45cfd139219641dcc9d0ebbf96851,9c7d41a87fd45cfd139219641dcc9d0ebbf96851,Fix minor bugs with building the deb package
david415,2014-10-02 01:01:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5559f76c92183f666e0b9b6bea48341884b7e09e,5559f76c92183f666e0b9b6bea48341884b7e09e,Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags
dolanjs,2014-10-02 01:00:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b64619f4ffb3fc448086979b5c0c8b9627b480eb,b64619f4ffb3fc448086979b5c0c8b9627b480eb,removed micah's old chroot-dev script
david415,2014-10-02 00:59:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0a690a03c8e02b7ead955d0641a4987e45cc5120,0a690a03c8e02b7ead955d0641a4987e45cc5120,Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags
david415,2014-10-02 00:55:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/56921547b93989f38d75d2043a1f90513ba3757b,56921547b93989f38d75d2043a1f90513ba3757b,Adjust fetched filename
dolanjs,2014-10-02 00:54:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/138394292d6a99427ac25f54153bcf2933afab2d,138394292d6a99427ac25f54153bcf2933afab2d,removed app and app-hardening packages because they have been replaced by ansible
dolanjs,2014-10-02 00:52:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9903caa8922c87b7fe95322aa60d94b79e50792d,9903caa8922c87b7fe95322aa60d94b79e50792d,added additional vm for building deb packages. Deb packages will be created in /tmp dirctory and then copied back to /vagrant directory for other vm to use
david415,2014-10-02 00:40:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cf9a4da419336f615faadd59531d598567a0eb16,cf9a4da419336f615faadd59531d598567a0eb16,Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags
david415,2014-10-02 00:38:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5b5d91799cb3281010e5791601cc2841ab00bde,e5b5d91799cb3281010e5791601cc2841ab00bde,Fix some bugs with exporting hidden services info
dolanjs,2014-10-02 00:38:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e3eda951f317b0af264f231faede9cbb5a822c44,e3eda951f317b0af264f231faede9cbb5a822c44,moved building the deb packages to a different task list that will not be run in the staging environmnet. Building the deb in the staging env was causing additional depends to be installed which were affecting the apparmor profiles. The deb will be built in a different vm with deb package saved to /vagrant so all the other VM's can access them
garrettr,2014-10-02 00:36:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/56f14dfb2a9d1b08cd85dfe4b29a395e3c432fe9,56f14dfb2a9d1b08cd85dfe4b29a395e3c432fe9,"Merge pull request #613 from freedomofpress/admin-interface-tests

Admin interface tests"
david415,2014-10-01 23:30:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f097fc0cd2f8f0f0e40b761b48a1588f4256bbbe,f097fc0cd2f8f0f0e40b761b48a1588f4256bbbe,Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags
david415,2014-10-01 23:27:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ebcdc2bbb594a2951f9252c9b2baea0feac9be72,ebcdc2bbb594a2951f9252c9b2baea0feac9be72,Minor corrections to playbook and conf files
dolanjs,2014-10-01 23:25:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa1d88fa138501193572b33abcabc4e1cb61cbe6,aa1d88fa138501193572b33abcabc4e1cb61cbe6,working on building deb packages as part of staging env
david415,2014-10-01 22:41:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/12ce61df0293e831d74ea139e494d67034fea5fb,12ce61df0293e831d74ea139e494d67034fea5fb,Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags
dolanjs,2014-10-01 22:39:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e59cab091532b08586bb44c5f9504cb934fd1571,e59cab091532b08586bb44c5f9504cb934fd1571,updated tags in Vagrantfile to match tags in tasks/main.yml
david415,2014-10-01 22:34:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/780ac6ff40a08a09661c3966217732f3eab723d1,780ac6ff40a08a09661c3966217732f3eab723d1,Merge remote-tracking branch 'dolanjs/wsgi-file-dev-env' into ansible-tags
david415,2014-10-01 22:32:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/41a36e0f0ee7d2bffe23bda77ccaf49c06b9d46f,41a36e0f0ee7d2bffe23bda77ccaf49c06b9d46f,"Export all the Tor hidden services connection information

This is a rough draft.. and untested."
dolanjs,2014-10-01 21:48:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ec0ed1943cdc192633becefcfd3257e2c7f0264,7ec0ed1943cdc192633becefcfd3257e2c7f0264,commented out removing admin users from ssh group if they are not listed in the secureDropConf.yml file
dolanjs,2014-10-01 19:49:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dfbb9022e4011d4d5c2fb75402a0e2a3d255cdf3,dfbb9022e4011d4d5c2fb75402a0e2a3d255cdf3,first attempt at having ansible create the deb packages for staging on the guest OS
dolanjs,2014-10-01 19:41:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1ac853bf2e9044a88f1a5aac243809cac28f2e9f,1ac853bf2e9044a88f1a5aac243809cac28f2e9f,"where to find ATHS values

Added where to find ATHS values for each environment"
Hainish,2014-10-01 18:03:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f4ec2f5140407ccdc816ea5366ac4d8e63f78ae,8f4ec2f5140407ccdc816ea5366ac4d8e63f78ae,Reset counter when they reset user HOTP
dolanjs,2014-10-01 17:53:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/891fec8a52f33206c49a26c83e483d4f4450a460,891fec8a52f33206c49a26c83e483d4f4450a460,"Merge pull request #8 from garrettr/remove-invalid-admin-users-ssh-access

remove non-admin users from the ssh group"
Hainish,2014-10-01 17:52:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5415c85f7eb751d333ce058863f8e81737c567d2,5415c85f7eb751d333ce058863f8e81737c567d2,Spaces in otp secret are a-ok!
runasand,2014-10-01 11:26:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2a88c81e5496c7090506297fea1be943fd649af2,2a88c81e5496c7090506297fea1be943fd649af2,Added blurb about two-factor authentication devices (#597)
Hainish,2014-10-01 08:09:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/270784ad1d8eb7a63de6d9c6b722079936ccc173,270784ad1d8eb7a63de6d9c6b722079936ccc173,Separating out routes to reset otp_secret for HOTP and TOTP.  Adding template for editing HOTP
Hainish,2014-10-01 08:08:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce320d7d10fbb35082ec0196a3bc3a812b14b170,ce320d7d10fbb35082ec0196a3bc3a812b14b170,Adding method to manually set otp_secret on Journalist model
Hainish,2014-10-01 06:12:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/422de1ccf8a7736b1c010a4135c02e30185183e7,422de1ccf8a7736b1c010a4135c02e30185183e7,Merging develop into journalist-login
Hainish,2014-10-01 05:12:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/52751a7d794841f71e4fdce42d614044f027ee3a,52751a7d794841f71e4fdce42d614044f027ee3a,Cleaning up unnecessary lines a bit
garrettr,2014-10-01 03:33:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ae3eaef72a095926f52732c624b090099f8d40a2,ae3eaef72a095926f52732c624b090099f8d40a2,"remove non-admin users from the ssh group

This change makes it easy to revise the sshUsers variable in the main
conf file, and then re-provision the system to disable access for users
who were admin users but are no longer."
garrettr,2014-10-01 02:03:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b419b57fae56c4409dfd60f215ac3b9b9d109bb0,b419b57fae56c4409dfd60f215ac3b9b9d109bb0,"Merge pull request #611 from freedomofpress/config-rename-roots

Better names for dirs in config"
dolanjs,2014-09-30 19:29:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/52a0f52905175c67f1ca31c6ed90fefe326fa936,52a0f52905175c67f1ca31c6ed90fefe326fa936,updated develop doc to explain what files to symlink for differnt environments
dolanjs,2014-09-30 19:19:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27980dece920cc85c01affadb95f8700d52717cb,27980dece920cc85c01affadb95f8700d52717cb,"added 8082 as the source interface on staging vagrant host
and 8083 as the document interface for staging vagrant host
staging environment doesn't symlink the /var/www/securedrop but installs a local deb package defined in external yml file"
dolanjs,2014-09-30 18:32:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc34ff2d412635abf2a90bebfbaf61339356e793,cc34ff2d412635abf2a90bebfbaf61339356e793,"reverted staging external yml file to what it was previously.
Need to change playbook from symlinking the /var/www/securedrop dir to installing local deb package for staging env"
dolanjs,2014-09-30 18:18:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e10332254865ca234532ca52b52b5b981105339,0e10332254865ca234532ca52b52b5b981105339,"changing the tags for updated environment names.
Also broke out the differnet environments in Vagrantfile
updated the doc to include symlinking the external yml file

still need to fix some things from @garrettr pull request that broke some of the variable names for staging and app"
dolanjs,2014-09-30 17:17:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/529a4af6dfad8924fc6278d318269f553711803d,529a4af6dfad8924fc6278d318269f553711803d,spacing
dolanjs,2014-09-30 17:02:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c7e20523f2f69417d9d896a7bc1c33076652209e,c7e20523f2f69417d9d896a7bc1c33076652209e,typo
dolanjs,2014-09-30 17:01:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b254aeba6bff3b2f87f05f6b56ccd7caf82107f9,b254aeba6bff3b2f87f05f6b56ccd7caf82107f9,code block
dolanjs,2014-09-30 17:00:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87d3b57d6fd45531c676bd79a80857a68787c583,87d3b57d6fd45531c676bd79a80857a68787c583,spacing
dolanjs,2014-09-30 16:59:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa5593b8fcf2334d0a1e567b19d1dc82c0df350f,fa5593b8fcf2334d0a1e567b19d1dc82c0df350f,update
garrettr,2014-09-30 16:54:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/546b124c2344be123e9509bf2190dd9e1af8c912,546b124c2344be123e9509bf2190dd9e1af8c912,"Merge pull request #609 from freedomofpress/refactor/unit-tests

Refactor unit tests"
dolanjs,2014-09-30 04:54:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85edb891a7a3460dfed5d075dcf06fa8a20b90ed,85edb891a7a3460dfed5d075dcf06fa8a20b90ed,"updated Vagrantfile (note all the tags don't exist yet) only dev will currently work.
Need to update playbooks to changes to staging environment vagrantfile layout"
dolanjs,2014-09-29 06:31:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/02e558020e0fa303d84278e1adba95665486198b,02e558020e0fa303d84278e1adba95665486198b,"Merge pull request #7 from garrettr/dev-env-fixes

Dev env fixes"
garrettr,2014-09-29 04:11:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0310380f01a53208ab877e51b3d2a6d6b5e10366,0310380f01a53208ab877e51b3d2a6d6b5e10366,"Finalize ansible dev environment

These changes replicate the existing dev setup's functionality."
garrettr,2014-09-28 23:32:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/32be4e4b958489a3e839b6f2f1a163049ed28abf,32be4e4b958489a3e839b6f2f1a163049ed28abf,"Make Vagrant's forwarded ports match convention

8080 => Source Interface
8081 => Document Interface"
diracdeltas,2014-09-28 22:28:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c93d52adb2b24d6c103ee22cb83ee559b28db06c,c93d52adb2b24d6c103ee22cb83ee559b28db06c,Refactor test_unit.py into smaller tests
diracdeltas,2014-09-28 21:50:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce6e926ef2b02c571d016b6b9a08bc080d16b96f,ce6e926ef2b02c571d016b6b9a08bc080d16b96f,"Pull common unittest methods into common.py, remove unused modules"
diracdeltas,2014-09-28 21:05:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/43da3bb7654ec106a0ed0e5c7e7996a7716ad90d,43da3bb7654ec106a0ed0e5c7e7996a7716ad90d,Add manage.py command for running unit tests only
dolanjs,2014-09-28 20:19:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/73ca6dcfc186de9708ec98c6fc8d29d3d54cf438,73ca6dcfc186de9708ec98c6fc8d29d3d54cf438,commented out OSSEC till the package is in the fpf repo
dolanjs,2014-09-28 17:17:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1abb9275d0544fc27a9c4687112eaa20613bbc28,1abb9275d0544fc27a9c4687112eaa20613bbc28,added apparmor profiles to securedrop-app-code postinst in enforce mode
dolanjs,2014-09-28 17:14:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c31c35d74acf5a9ef851e63aa65b1f673846fa6,1c31c35d74acf5a9ef851e63aa65b1f673846fa6,trying more apparmor stuff.... not tested yet
dolanjs,2014-09-28 17:08:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/60a09d1fc954729b93d36035d16abb0290edfef6,60a09d1fc954729b93d36035d16abb0290edfef6,working on apparmor profiles.
dolanjs,2014-09-28 16:20:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/49a79e4876f0055ebcce1a8604ffc98c6a0ee9c3,49a79e4876f0055ebcce1a8604ffc98c6a0ee9c3,"added the aparmor profiles for the dev environment in complain mode, and then for staging put them in enforce mode.
For profuction the securedrop-app-code package will deploy the apparmor profiles and put them in enforce mode."
dolanjs,2014-09-28 11:33:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c7ca99c4da2cb1813406d62bd22a39f2e93b8083,c7ca99c4da2cb1813406d62bd22a39f2e93b8083,"had to breakout creating the app directory structure prior to task with the symlink check for production or else it was generating an error.
working for development. Need to ask @ageis to put the ossec-agent.deb in the fpf repo to fully test staging
same for the updated securedrop-app-code deb"
dolanjs,2014-09-28 11:13:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8dcd836c25a0221a4a8f3c8199068d59f801447a,8dcd836c25a0221a4a8f3c8199068d59f801447a,"turned the apache ports.conf source.conf and document.conf into templates so we can remove the localhost and symlink protections for the development and staging environments
added a apache2 handler to restart the service if the sites change.
renamed secureDropConf.yml.example to secureDropConf.yml.production so it make more sense
need to test in production"
dolanjs,2014-09-28 10:13:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd3c0bb0f5eb79606a7197b65582d4297b969ceb,cd3c0bb0f5eb79606a7197b65582d4297b969ceb,changes from trial and error beacuse of @garrettr request
dolanjs,2014-09-28 10:10:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/167eece31b35e39f09a0bb856498fbdfc973eee9,167eece31b35e39f09a0bb856498fbdfc973eee9,added handler for restart apache after placing enabling the source and document site
dolanjs,2014-09-28 08:56:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c203ccda2d88f81bbde2e68491a7ec2b42f3f53,0c203ccda2d88f81bbde2e68491a7ec2b42f3f53,"added dev deb dependency of python-pip
use the apache_user variable instead of the www-data for wsgi app file ownership"
dolanjs,2014-09-28 08:36:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4d509b7a40a972b184f0d42193f9940a07338477,4d509b7a40a972b184f0d42193f9940a07338477,updated the path for apache to look for the wsgi files
dolanjs,2014-09-28 08:24:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/94f7aa91651bde933c8827097edc884d2a40e826,94f7aa91651bde933c8827097edc884d2a40e826,"because @garrettr didn't want the wsgi files mixed with his app code in the github repo
and for the dev environment /var/www/securedrop is just a symlink to /vagrant/securedrop have to move the wsgi files to /var/www/
and reconfigure the rest of the apache configs for that"
dolanjs,2014-09-28 07:55:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1551de5863eb5b33f1eb9be89cf02425a4bc1bcf,1551de5863eb5b33f1eb9be89cf02425a4bc1bcf,"Beacuse @garrettr didn't want the the wsgi config file mixed with his app code file in the github repo....
re-organizing all of the apache config file so ansible will deploy the source.wsgi and document.wsgi files
beacuse in the development environment the /var/www/securedrop is symling to /vagrant/securedrop these files will need to be located /var/www"
dolanjs,2014-09-28 07:22:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e9cff9315648077647414bafd4f49070a819a20d,e9cff9315648077647414bafd4f49070a819a20d,"updated build_deb_pacakge script and directions
made changes due to lintian output.
moved the ossec task to on the last task to that it doesn't go crazy with file integrity alerts for the install"
dolanjs,2014-09-28 05:14:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1bbbb8447b47f94d80d816709cb4e5edd2d8d0bd,1bbbb8447b47f94d80d816709cb4e5edd2d8d0bd,"moved the monitorIP variable to the secureDripConf.yml files since it is an instance specific config
and is a value we can also configure in the vagrantfile for the development/staging environments"
dolanjs,2014-09-28 05:02:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b4ab481186e7f31fa968159be9fefe445720a4e,5b4ab481186e7f31fa968159be9fefe445720a4e,"removed securedrop specific files from /etc/directory
renamed the doc and lintain overrides with the correct package name"
dolanjs,2014-09-28 04:53:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/091a1bf50b327a8014b4d3f62725cd7e7a95f202,091a1bf50b327a8014b4d3f62725cd7e7a95f202,"moved securedrop specific agent config to ansible-securedropAppHardening role
removed securedrop specific sections from postinst
since this package was designed to be configured by ansible I removed the debconf question for the monitor ip"
dolanjs,2014-09-28 04:30:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/509d13d53cb6a2f89c9ee0e36e385f3792e22165,509d13d53cb6a2f89c9ee0e36e385f3792e22165,renamed ossec agent deb package since it will not be securedrop specific
dolanjs,2014-09-28 03:51:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0c05ed442f0f1ed17e6ac0898befd1e2cbc7467,f0c05ed442f0f1ed17e6ac0898befd1e2cbc7467,"moved all tasks from the appHardening and appInterfaces main.yml to separate files.
taged all include statements in the appHardening and appInterfaces main.yml files.
added all environment tags to the tor role
added a 4th tag called tor so developer could choose to skip it for the development environment to reduce provisioning times

switching from staging to development environments does not currently work
development environment is not functional yet"
garrettr,2014-09-28 02:07:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/159f4cce57cfd009a6fcd80c706d7ecca9009881,159f4cce57cfd009a6fcd80c706d7ecca9009881,"Merge pull request #522 from freedomofpress/journalist-login

Journalist login"
david415,2014-09-28 01:00:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2278d85b9dbb49521a6fdddcdc19f37bb453943f,2278d85b9dbb49521a6fdddcdc19f37bb453943f,Teach vagrant to sync dir with proper ownership
david415,2014-09-27 21:30:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cce44bb634bafd1b0d5a56afedfd79ada45eb46c,cce44bb634bafd1b0d5a56afedfd79ada45eb46c,Remove obsolete apache directive
david415,2014-09-27 21:16:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e578b9af28bd29600d51f7b4f7078eff820cac12,e578b9af28bd29600d51f7b4f7078eff820cac12,Force upgrade of tor if new one is available
david415,2014-09-27 21:03:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2b305bcc43df1a4d0da11b8eafedf51436932d0c,2b305bcc43df1a4d0da11b8eafedf51436932d0c,Add portforwarding for vagrant app
david415,2014-09-27 20:50:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e60cb0ecbe94bc864cdb9c293b6086179598a4ea,e60cb0ecbe94bc864cdb9c293b6086179598a4ea,Fix tags
david415,2014-09-27 20:16:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/569e7f2b3046a21c3ff837bbb2ca15cbcebe8d2e,569e7f2b3046a21c3ff837bbb2ca15cbcebe8d2e,Add minimal ossec task list
david415,2014-09-27 00:58:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0f3e926bcf4fe310ccf35c8765b1644dc278c1e,f0f3e926bcf4fe310ccf35c8765b1644dc278c1e,Change sshUsers to a list instead of a dict
david415,2014-09-27 00:28:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/94a9637ce2c8edfbd4b85be861e1bf67a164331f,94a9637ce2c8edfbd4b85be861e1bf67a164331f,Add ssh group to created users
dolanjs,2014-09-27 00:13:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ace91b073e1d7da0a548e1b86e10b5570c00cf7a,ace91b073e1d7da0a548e1b86e10b5570c00cf7a,added copying and loading the sysctl.conf.
dolanjs,2014-09-27 00:05:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa8e9f47c5fd8d2c4ef3813962639b31af0b3777,fa8e9f47c5fd8d2c4ef3813962639b31af0b3777,"Merge remote-tracking branch 'david/ansible-tags' into ansible-app-iptables-non-dev-env

Conflicts:
	install_files/ansible-base/roles/ansible-secureDrop-AppHardening/tasks/main.yml"
dolanjs,2014-09-27 00:01:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bddf5868bc4eb911d302df6821c08564a979de6e,bddf5868bc4eb911d302df6821c08564a979de6e,added tags back to iptables
david415,2014-09-26 23:49:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/341d106964f1b97c3769bfe4a5fc59f4d34128eb,341d106964f1b97c3769bfe4a5fc59f4d34128eb,Teach ansible to create user account with ssh keys and sudo access
dolanjs,2014-09-26 23:15:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/015b21e01504aee55ce1caf6684c88946630dbf7,015b21e01504aee55ce1caf6684c88946630dbf7,fixed typo
dolanjs,2014-09-26 23:11:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/053f8315264a9a2bc3d2f2ee4efceff23b1cd5c7,053f8315264a9a2bc3d2f2ee4efceff23b1cd5c7,"added iptables rules for app server and a if-network-up script to load the rules.
Did not create a handler to load the iptable rules on purpose. Since in production this would lock kill the anisble/vagrant/admin-workstation ssh connection to the host before the install was finished"
david415,2014-09-26 22:08:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/028909379307200891079da9f48ae547b7046719,028909379307200891079da9f48ae547b7046719,Remove google auth code gen and add symlink check for workflow switch
david415,2014-09-26 19:16:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f8e11356692ff241e0facb69f74d222c59fa72c4,f8e11356692ff241e0facb69f74d222c59fa72c4,"Teach Vagrant to skip ""production"" Ansible tags

Here we mark various tasks with the following tags:
- production
- staging
- development

The point of this is to mark certain tasks that are specific to a particular work flow.
Therefore this ""development work flow"" means that the Vagrantfile specifies that it
wishes to skip tasks tagged with ""production"" tag.

We can of course create the inversion of this scenario where we run *only* the tags
we specify..."
dolanjs,2014-09-26 17:34:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ebc178eec1511d2f513c7cb8232a4614e72922a,6ebc178eec1511d2f513c7cb8232a4614e72922a,commented out the when env = prod or stag statements that didn't work
dolanjs,2014-09-26 01:50:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e6ea6a8ce2c022e3f19645c4740dfa400e948585,e6ea6a8ce2c022e3f19645c4740dfa400e948585,"added option to external yml config to set the securedrop environment.
If 'dev' is set, ssh configs, 2fa, tasks will not be run."
garrettr,2014-09-25 23:57:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/293423fbad230534909eb3fb9ac4e338584e6753,293423fbad230534909eb3fb9ac4e338584e6753,"Merge pull request #603 from DonnchaC/fix/journalist-delete-replies

Fix deleting replies on journalist interface"
dolanjs,2014-09-25 23:22:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0581327d89d5855f2170e91ebb22b5c50d5f6344,0581327d89d5855f2170e91ebb22b5c50d5f6344,minor fixes for google-auth
DonnchaC,2014-09-25 22:26:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d97dd24af944dcc6d1f1e3570d7b3ab9133caea,9d97dd24af944dcc6d1f1e3570d7b3ab9133caea,Remove double test of reply sending
dolanjs,2014-09-25 20:14:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71efb0d69cf8cae00fdcb856f26ae6602bf4856c,71efb0d69cf8cae00fdcb856f26ae6602bf4856c,changed the ssh users and document users from a string to a yml list. And attempting to copy the ATHS and THS hostname from the guest to the host
dolanjs,2014-09-25 19:33:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/411bf99ed99f7a29f65d1e5f3e2f289be30a0137,411bf99ed99f7a29f65d1e5f3e2f289be30a0137,removed unneded quotes
dolanjs,2014-09-25 18:37:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/592c4f09baeed8bd86f753a8651375572b2c481c,592c4f09baeed8bd86f753a8651375572b2c481c,changed the name of securedrop-app to securedrop-app-code to avoid confusion with the old package
dolanjs,2014-09-25 17:59:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ab0e03614e2b60dfc9cbab3a334f1bfe7b47f61,0ab0e03614e2b60dfc9cbab3a334f1bfe7b47f61,added check for if build dir exists
dolanjs,2014-09-25 09:16:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed72ef94eb850c2918c06c1df5bc5d85903fb79e,ed72ef94eb850c2918c06c1df5bc5d85903fb79e,"added handler for ssh
added role and for it to use sudo to playbook"
dolanjs,2014-09-25 08:24:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d66bb3879ff2d7ec16b59d8fda6833c777e2512,9d66bb3879ff2d7ec16b59d8fda6833c777e2512,commented out the digital_ocean config so it doesn't cause error when running in virtualbox
dolanjs,2014-09-25 08:22:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1b9d2840b252ddd67bbb03c03b7e314460627394,1b9d2840b252ddd67bbb03c03b7e314460627394,fixed spacing in config example
dolanjs,2014-09-25 05:23:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0bec625abb9a0ba3db12653ea285a0670a477ec3,0bec625abb9a0ba3db12653ea285a0670a477ec3,fixes the build_depends.
dolanjs,2014-09-25 05:21:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/91ce4267133daab07e37b2e3c9263125fa68655a,91ce4267133daab07e37b2e3c9263125fa68655a,"changed the host to work with vagrant config.
Have to provide the full path to the application public key."
dolanjs,2014-09-25 04:52:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/358550d485549a67cde5e14880d6e9de22ab6e4a,358550d485549a67cde5e14880d6e9de22ab6e4a,option was not supported in current version
david415,2014-09-25 03:35:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c567f095a1904e2c6a06d8f9a1fa305138cb68a9,c567f095a1904e2c6a06d8f9a1fa305138cb68a9,Merge remote-tracking branch 'dolanjs/tor-signing-key' into rspec-ansible
dolanjs,2014-09-25 03:34:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/acd709b58fbb3df02e5c70a6289ad6be7f4f438f,acd709b58fbb3df02e5c70a6289ad6be7f4f438f,updated tor signing key
david415,2014-09-25 01:56:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ca4637ac4d4ba79227cdff291d7612f48e3f31c1,ca4637ac4d4ba79227cdff291d7612f48e3f31c1,Add secureDrop hardening role
dolanjs,2014-09-25 01:49:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4002dbdbc7de35e39884d81a4f21c853eb66ca63,4002dbdbc7de35e39884d81a4f21c853eb66ca63,Merge remote-tracking branch 'david/rspec-ansible' into rspec-ansible
dolanjs,2014-09-25 01:47:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e0fe22c2e558d55a5875df98fe542d90bc8b061f,e0fe22c2e558d55a5875df98fe542d90bc8b061f,"working on vagrant deploying app server with ansible
in the vagrantfile still need to generate a user for ansible to run as and fix the tor signing key"
david415,2014-09-25 00:12:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/25bcf0efda315c4a4e1741488aa8babe03ecddb6,25bcf0efda315c4a4e1741488aa8babe03ecddb6,"Fix minor problems and get all tests to pass

Here we remove the network interface from a couple
of the checks... so that it's compatible with the rspec-core version
we are using. We may however resolve this by installing the correct beta
version via bundler.io later..."
david415,2014-09-25 00:12:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3293be27e36b953b1de2e51414050431426fb933,3293be27e36b953b1de2e51414050431426fb933,Add some tests for the securedrop app deployment
dolanjs,2014-09-24 22:53:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/94d206bf1a9a680ca9578f89aadc14109cdeb712,94d206bf1a9a680ca9578f89aadc14109cdeb712,"added a vagrant config for the dev app server and a section for the digital ocean provider.
Using the digital ocean provider requires a separate file `secrets.rb` ex:

```
module MyVars
  TOKEN = """"
end
```

The digital ocean vps can be provisioned by running

```
vagrant up devapp --provider=digital_ocean
```"
david415,2014-09-24 22:45:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85e80d167b0b8699a5dfc3141e03ffc3388dc37b,85e80d167b0b8699a5dfc3141e03ffc3388dc37b,Merge remote-tracking branch 'dolanjs/rspec-apache' into rspec-ansible
david415,2014-09-24 21:51:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6b877386e99d7e69ee16dad7f66734f6170204aa,6b877386e99d7e69ee16dad7f66734f6170204aa,"Teach serverspec to parse ansible YAML config file

Here we demonstrate how to parse the ansible external yaml configuration
and use it to supply needed info for our test. In this case we check
the torrc for the presence of authenticated tor hidden service user names
for document and ssh users."
dolanjs,2014-09-24 19:11:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/34a081415655687ae37850b787c6d16bc4c5ea40,34a081415655687ae37850b787c6d16bc4c5ea40,fixed some errors in apache rspec tests
dolanjs,2014-09-24 18:45:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a32fb22031a98eda9c8719a92f47c03bc5c34c7,8a32fb22031a98eda9c8719a92f47c03bc5c34c7,dded more to apache
dolanjs,2014-09-24 18:21:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/582d7e04797e8669cf36234c84aa92beb1b9b730,582d7e04797e8669cf36234c84aa92beb1b9b730,Merge remote-tracking branch 'david/rspec-ansible' into rspec-apache
david415,2014-09-24 00:36:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c99c5b7b282ec1414cc6083a456b41f86608d8fe,c99c5b7b282ec1414cc6083a456b41f86608d8fe,Improve tor spect test slightly
dolanjs,2014-09-24 00:06:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a241647cc44736a47b9406311be6383bcdb5d737,a241647cc44736a47b9406311be6383bcdb5d737,Merge remote-tracking branch 'david/rspec-ansible' into rspec-apache
dolanjs,2014-09-23 23:59:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20d52837b3db32180d8140767f3377f16bc1cba1,20d52837b3db32180d8140767f3377f16bc1cba1,first pass at apache rspec
david415,2014-09-23 23:22:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/694369959185323fb327ee702ee625f67bf1c622,694369959185323fb327ee702ee625f67bf1c622,Add rough draft dir hierarchy for rspec tests
david415,2014-09-23 21:27:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c784bd33d892ce0735d34945cd2cb0bdd671dae,0c784bd33d892ce0735d34945cd2cb0bdd671dae,Merge remote-tracking branch 'origin/ansible-deployment-better-config' into rspec-ansible
david415,2014-09-23 21:24:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03255f65e7500b1d5bc6102e71b9c4a522144d24,03255f65e7500b1d5bc6102e71b9c4a522144d24,"Merge pull request #2 from dolanjs/securedrop_keyring-var-doesnt-work

securedrop_keyring in defaults vs config.py"
david415,2014-09-23 21:19:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b839f346ff1ea186acae3063421495148835bcc,9b839f346ff1ea186acae3063421495148835bcc,Initial config for install specs using serverspec
DonnchaC,2014-09-23 19:44:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc86aafafbcf61f61db1b4357a6907303bbe1a4f,bc86aafafbcf61f61db1b4357a6907303bbe1a4f,Quick and rough UI changes for source replies
DonnchaC,2014-09-23 18:44:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/49c35a0367f7849399a73b306215215f36217dd4,49c35a0367f7849399a73b306215215f36217dd4,Fix deleting replies on journalist interface
garrettr,2014-09-23 14:53:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc7b1ce51a099e63510a30929bc5cd570b93c1f4,bc7b1ce51a099e63510a30929bc5cd570b93c1f4,"Merge pull request #601 from freedomofpress/remove-request-that-secures-file-uploads

Remove request_that_secures_file_uploads"
garrettr,2014-09-23 14:53:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7136716151258e538be64ecbb54e836664a02663,7136716151258e538be64ecbb54e836664a02663,"Merge pull request #600 from freedomofpress/source-interface-logo-link

Logo links to lookup view if source is logged in"
garrettr,2014-09-22 23:02:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/51299bb8aae6d6fd6bbab66f9b2c18be64e6f896,51299bb8aae6d6fd6bbab66f9b2c18be64e6f896,"Merge pull request #581 from DonnchaC/rename-submission-designation-change

Rename submitted files when a new codename is generated. Fixes #557."
DonnchaC,2014-09-22 22:42:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/106f25f3f1e22ff4a2742ca527a448f05bb982ed,106f25f3f1e22ff4a2742ca527a448f05bb982ed,"Improve error handling, and neaten rename functionality by using a regex."
garrettr,2014-09-22 22:13:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a5f9195bbfc6a3a2a35223e0694069e647577c0,1a5f9195bbfc6a3a2a35223e0694069e647577c0,"Merge pull request #599 from freedomofpress/fix-journalist-js-typeerror

Fix TypeError in journalist.js"
garrettr,2014-09-22 18:47:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/346459554aef1a14340ee1d8fc94164c3ce18802,346459554aef1a14340ee1d8fc94164c3ce18802,"Merge pull request #593 from DonnchaC/user-directories-in-zips

Add directory with source's codename to the zip files."
DonnchaC,2014-09-22 18:28:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/63b647ebdf19065686511b5fd268b3f9e44e2218,63b647ebdf19065686511b5fd268b3f9e44e2218,Add test checking zipfile contains correct user directories
garrettr,2014-09-22 18:17:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f84534d9622c02b1bb1dc593784622991825d3d,6f84534d9622c02b1bb1dc593784622991825d3d,"Merge pull request #594 from freedomofpress/better-config

Better config"
garrettr,2014-09-22 18:10:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45b97a8c7d005d42c12c61be2a1f8d60f4eb018c,45b97a8c7d005d42c12c61be2a1f8d60f4eb018c,"Merge pull request #596 from runasand/develop

Added note about updating BIOS on Intel NUCs"
DonnchaC,2014-09-18 22:16:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4229fa79e1a729620cb2186478881b505ab6bbff,4229fa79e1a729620cb2186478881b505ab6bbff,"Name zip with journalist_filename() instead of journalist_designation

Instead of naming the generated zip file with the journalist_designation
which can contain spaces, it's probably better to use the output of
journalist_filename() which removes spaces explicitly, and aims to be
filesystem safe."
DonnchaC,2014-09-18 22:15:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9ef0111920b5d20b605440d1f8e0f95fcf86972e,9ef0111920b5d20b605440d1f8e0f95fcf86972e,Download files in codename directories
dolanjs,2014-09-22 03:30:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a3b4220397a5ef258227111f90e2c90df69d486,6a3b4220397a5ef258227111f90e2c90df69d486,changed the gpg import use the securedrop_data/keys directory to be consistent with the rest of the locations it is used
dolanjs,2014-09-22 03:20:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/29e63fd6ada16b079681f4939b70414cddae90e0,29e63fd6ada16b079681f4939b70414cddae90e0,"The securedrop_keyring was only used to create the directory not in the securedrop/config.py file. Changing the value would of broken the install. In order to keep the config.py the same for the current dev environment just removed it. Think the store, keys and db should be configured the same way but don't think they need to be defined in the defaults. Changing the default value would also have required updating the apparmror profiles."
david415,2014-09-21 23:00:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/544bf19c690a43c0a7bc16de530ccef574b4f3d3,544bf19c690a43c0a7bc16de530ccef574b4f3d3,Add descriptive names to tasks
david415,2014-09-21 22:53:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0a5f05c48191d682fb0c053b715c2c0d3ef38c8e,0a5f05c48191d682fb0c053b715c2c0d3ef38c8e,"Remove ""ignore_error"" from sqlite db initialization"
runasand,2014-09-21 22:31:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/53faa7ed4ae339001b4f26d23f5e4fcdda02bde2,53faa7ed4ae339001b4f26d23f5e4fcdda02bde2,Repurpose existing hardware for App and Monitor
runasand,2014-09-21 22:28:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20aeb734cdb361879d23f014191e82735ab5a2f1,20aeb734cdb361879d23f014191e82735ab5a2f1,Added note about updating BIOS on Intel NUCs
runasand,2014-09-21 20:40:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f399d4b14826128cbfeba7b6fdb00a4fcfd9d724,f399d4b14826128cbfeba7b6fdb00a4fcfd9d724,Cleaned up the SecureDrop hardware list
david415,2014-09-20 02:36:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eff40f71a7ee43e93f945b333d67201c2fba90e2,eff40f71a7ee43e93f945b333d67201c2fba90e2,Fix various errors with the apache configuration
david415,2014-09-20 02:35:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/80e01324130154075a176820584b05b679c08bc8,80e01324130154075a176820584b05b679c08bc8,Fix args passed to Tor Ansible role
david415,2014-09-20 01:36:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/344fc4a2ca6cb097b8a0a3d5975bff39522a5d3f,344fc4a2ca6cb097b8a0a3d5975bff39522a5d3f,"Merge pull request #1 from dolanjs/app-code-deb-for-ansible

securedrop-app deb package for ansible deployment"
david415,2014-09-20 01:35:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21295fa26cc15800d8d2638e19311d8b74d76249,21295fa26cc15800d8d2638e19311d8b74d76249,Correction of minor errors; mostly variable names
dolanjs,2014-09-20 01:35:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e26eeda010262e6f62bfb31b37270990d67d610,0e26eeda010262e6f62bfb31b37270990d67d610,combined source-requirements and document-requirements.txt since they are both running on same apache instance now.
dolanjs,2014-09-20 01:07:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/77dc3244282d5c32214f5011c5758efaf81ff849,77dc3244282d5c32214f5011c5758efaf81ff849,"created securedrop-app deb package that packages the app code, apparmor profiles and compiles and pakcages the python modules for deployment.
modified the build_deb to just create the securedrop-app deb"
david415,2014-09-20 00:55:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/182a0eff9b744683d94c450e2df6ae564f517f05,182a0eff9b744683d94c450e2df6ae564f517f05,"Make appropriate Ansible variable name changes

Here we include a proper config.py and name the templated
variable correctly. This is an intermediate commit... and it
is likely that some small section of Ansible may not have been
corrected yet."
david415,2014-09-20 00:41:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4dce34ceec6a993a1b63e1855e0690c8e0b1f8a2,4dce34ceec6a993a1b63e1855e0690c8e0b1f8a2,Merge remote-tracking branch 'upstream/better-config' into ansible-deployment-better-config
david415,2014-09-20 00:40:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7033838b20f17f3add9a0d26c2372aa2b6173f11,7033838b20f17f3add9a0d26c2372aa2b6173f11,Merge branch 'develop' into ansible-deployment
david415,2014-09-20 00:31:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1924f2366ad5e88c66082b53a2c606336217d912,1924f2366ad5e88c66082b53a2c606336217d912,"Add customized Ansible deployment system

This commit contains a Tor ansible role
and a SecureDrop AppInterfaces ansible role.
In addition to that... the SecureDrop deployment
playbook and example ""external config"" file is included.

This is a mostly working rough draft."
garrettr,2014-09-18 19:50:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0f44374b58386a2a72a9bf339ba0770e0c84c0b4,0f44374b58386a2a72a9bf339ba0770e0c84c0b4,"Merge pull request #592 from dolanjs/ssh-hmac-tails

Added the hmac-sha1 to the allowed server ssh configs."
dolanjs,2014-09-18 19:08:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/118ba76e9ec781de15919aca31b8099e50f05db4,118ba76e9ec781de15919aca31b8099e50f05db4,Added the hmac-sha1 to the allowed server ssh configs. Tails ssh client doesn't support hmac-sha2-256 or hmac-sha2-512 yet.
garrettr,2014-09-18 18:34:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd037c0cc415adc4ff905efee6f83354797e7a71,dd037c0cc415adc4ff905efee6f83354797e7a71,"Merge pull request #575 from DonnchaC/fix/newlines-in-source-message

Convert newlines to <br /> in messages to source's"
garrettr,2014-09-17 22:04:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4060d8985b5d92ba1382784a9448071740e8a74b,4060d8985b5d92ba1382784a9448071740e8a74b,"Merge pull request #591 from freedomofpress/update-selenium

Update Python requirements"
garrettr,2014-09-17 21:03:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ea633c25c99c62b63a429d07aa0e3298b4a5544b,ea633c25c99c62b63a429d07aa0e3298b4a5544b,"Merge pull request #589 from dolanjs/add-repo-14.04-fix

changed hard coded distro id"
garrettr,2014-09-17 21:02:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a9f9cef8a531d06fb5cf25b314c9717aed05f515,a9f9cef8a531d06fb5cf25b314c9717aed05f515,"Merge pull request #588 from dolanjs/post-install-pkg-detection

Post install pkg detection"
ageis,2014-09-17 18:37:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d7c1f8b6a331fa36e7f0c11d4ce255dd15fe7f8f,d7c1f8b6a331fa36e7f0c11d4ce255dd15fe7f8f,"Modify apt transport to HTTPS

Closes #565"
garrettr,2014-09-17 00:38:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cf9fbcfd64c3a152e403bd5d595af2945152778d,cf9fbcfd64c3a152e403bd5d595af2945152778d,"Merge pull request #583 from dolanjs/ossec-2.8-prep

Ossec 2.8 prep"
dolanjs,2014-09-16 23:17:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ed71164642ea55f59b50b5351555eea4bf8b1aa,7ed71164642ea55f59b50b5351555eea4bf8b1aa,change hard coded dist id so the script will work with ubuntu 14.04 trusty
dolanjs,2014-09-16 23:00:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bdb7fb92c99486b3e77b147f3efbfe1612241672,bdb7fb92c99486b3e77b147f3efbfe1612241672,changed the post-install script to check for the monitor hardening package instead of the meta securedrop-monitor package since securedrop-monitor-hardening can be installed without the meta package securedrop-monitor
dolanjs,2014-09-16 22:51:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c0c9e8fc9b2d23f5436d838ac47dd7ae7cf90faf,c0c9e8fc9b2d23f5436d838ac47dd7ae7cf90faf,changed dpkg -l to dpkg -s for the post-install script so that it will detect the correct package when ran on the monitor server
DonnchaC,2014-09-16 16:21:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/989294fb91fdfd21e379c6cb711d72f6eee60dd7,989294fb91fdfd21e379c6cb711d72f6eee60dd7,Change <br /> tag to <br>
DonnchaC,2014-09-16 16:17:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a15b0be0a690d6be1435b8ef0382c1d5286f5ef,4a15b0be0a690d6be1435b8ef0382c1d5286f5ef,Rebase and move nl2br filter to template_filters.py
DonnchaC,2014-09-11 22:51:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5da8188680546eb75bf3df7e4aa90ad80a53360b,5da8188680546eb75bf3df7e4aa90ad80a53360b,Convert newlines to <br /> in messages to source's
garrettr,2014-09-16 03:49:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d42b83459fa221271b4976561d94636841f9676c,d42b83459fa221271b4976561d94636841f9676c,"Merge pull request #582 from DonnchaC/fix/prevent-downloading-incomplete-files

Don't show partially uploaded files on the /col view."
garrettr,2014-09-16 03:24:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9a4d7f020afe5a3f3be41b8e80293946e575ffb1,9a4d7f020afe5a3f3be41b8e80293946e575ffb1,"Merge pull request #580 from DonnchaC/fix/resubmit-generate-page

Redirect if source resubmits the /generate form with exisiting codename"
garrettr,2014-09-16 03:14:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/539886260b130ce9b5c6dcbb57106af1c85ec4f3,539886260b130ce9b5c6dcbb57106af1c85ec4f3,"Merge pull request #578 from DonnchaC/icon-tooltips

Tooltip for document/message icons"
garrettr,2014-09-16 03:14:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39895fbca91f05e1533564af4bf1e58949738b4b,39895fbca91f05e1533564af4bf1e58949738b4b,"Merge pull request #576 from DonnchaC/fix/broken-logo-positioning

Fix logo display breaking onto a newline"
garrettr,2014-09-16 02:59:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9edb71729c70bd6111c5d0594c4985bd093b0ee2,9edb71729c70bd6111c5d0594c4985bd093b0ee2,"Merge pull request #586 from freedomofpress/dont-sudo-chmod

remove unnecessary sudo for chmod"
garrettr,2014-09-16 02:59:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6dff2b1d15c12ff694c53088ef9d6840c4eeddc2,6dff2b1d15c12ff694c53088ef9d6840c4eeddc2,"Merge pull request #574 from DonnchaC/fix/prevent-empty-downloads-deletions

Catch attempts to download or delete without selecting any collections"
garrettr,2014-09-16 02:17:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9ba6e8dae10a0ce193a6b9e6a9ed15fd36934989,9ba6e8dae10a0ce193a6b9e6a9ed15fd36934989,"Merge pull request #571 from DonnchaC/relative-time

Display human readable relative times to users instead of dates. Closes #570."
garrettr,2014-09-16 02:12:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/911f895e4a5492d440850e29dc1c40bc4fcf606c,911f895e4a5492d440850e29dc1c40bc4fcf606c,"Merge pull request #577 from freedomofpress/document-ubuntu-amd64

Document ubuntu amd64 requirement"
ageis,2014-09-15 07:10:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f55e1872e022d4dc08c1a72c11b7c30ab2535e64,f55e1872e022d4dc08c1a72c11b7c30ab2535e64,Add read permission to GPG keystore
ageis,2014-09-15 06:08:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5639ee24739f3af0b59353ab6c64b64639b21e5,b5639ee24739f3af0b59353ab6c64b64639b21e5,"Add source.js, fix jQuery version"
ageis,2014-09-15 06:07:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff5cf43065cfc53174599f6a9cd3dc70aac886c8,ff5cf43065cfc53174599f6a9cd3dc70aac886c8,Add AppArmor rule to allow jQuery
ageis,2014-09-15 03:10:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a56529c6a7498a22663fb887fbe3594f32fe3492,a56529c6a7498a22663fb887fbe3594f32fe3492,"Merge pull request #584 from dolanjs/apparmor-fixes-9-13

updated apparmor profiles"
dolanjs,2014-09-15 02:35:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0fda410dab48bc2eec7cc256f26e3937899333a6,0fda410dab48bc2eec7cc256f26e3937899333a6,updated apparmor profiles for develop branch as of 9/13
ageis,2014-09-14 23:46:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7dbbd9a7d3490ad5d64486717fc2fe9dbbd99aca,7dbbd9a7d3490ad5d64486717fc2fe9dbbd99aca,"Merge pull request #532 from dolanjs/apparmor-fix-mailing-list

Reviewed and tested, good to merge"
ageis,2014-09-14 23:40:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e61ee1b4efd51d3cb7aa2b4ce3f7508e04180898,e61ee1b4efd51d3cb7aa2b4ce3f7508e04180898,Fix iptables rules causing SSH to be inaccessible
ageis,2014-09-14 23:39:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/013df8e4bf8b7ec18aeee2cf0cc623d2e955fb23,013df8e4bf8b7ec18aeee2cf0cc623d2e955fb23,Fix iptables rules causing SSH to be inaccessible
ageis,2014-09-14 22:07:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe121d43e04d1f4cd164cb7e6166872b6ef7f507,fe121d43e04d1f4cd164cb7e6166872b6ef7f507,Update Gmail's fingerprint
ageis,2014-09-14 21:40:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fd6e8f681942512cd40b1a664e69fcaf407f6239,fd6e8f681942512cd40b1a664e69fcaf407f6239,"Fix pgrep syntax

per @dolanjs"
dolanjs,2014-09-14 20:10:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/95dcf7658c9bef93c702305ce1b3819ac9f300ba,95dcf7658c9bef93c702305ce1b3819ac9f300ba,added brief instructions for gathering OSSEC files for creating deb packages
dolanjs,2014-09-14 19:39:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e51e4a22e8b3b2eca8085d60acb0ae5192bdfaa8,e51e4a22e8b3b2eca8085d60acb0ae5192bdfaa8,removed default ossec files that are not modified specifically for securedrop.
DonnchaC,2014-09-14 18:44:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d1c5098d7bf83bef8f52b4ea12930ee0aab57ddf,d1c5098d7bf83bef8f52b4ea12930ee0aab57ddf,"Don't show partially uploaded files on the /col view.

The local list of files is compared with the submissions list in
the database to remove files which are currently being uploaded
but which have not yet completed and added to the databases."
DonnchaC,2014-09-14 16:36:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2bb37d75b7616d31a9e585c9772d942a17e78c57,2bb37d75b7616d31a9e585c9772d942a17e78c57,Rename submitted files when a new codename is generated
DonnchaC,2014-09-14 14:20:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce5f16d3c3ba942a4cad42bdfb1b04eb11c84474,ce5f16d3c3ba942a4cad42bdfb1b04eb11c84474,Catch resubmission of /generat
DonnchaC,2014-09-13 21:10:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b4800c28af3a2625cf4baa3ac2f5963bdbea26b9,b4800c28af3a2625cf4baa3ac2f5963bdbea26b9,Tooltip for document/message icons
DonnchaC,2014-09-13 20:22:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/686effb0270f8185793bf82dd63ea5564bad2dc9,686effb0270f8185793bf82dd63ea5564bad2dc9,Refactor jinja filters to a separate file
DonnchaC,2014-09-13 18:17:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/547332ef023047596c80f0aacb9016f879889a3b,547332ef023047596c80f0aacb9016f879889a3b,Fix logo bug on refresh in Chrome by floating the header.
garrettr,2014-09-12 21:52:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8541ef3e20d3f72d3cfce0ba017a2ea004ee545f,8541ef3e20d3f72d3cfce0ba017a2ea004ee545f,"Merge pull request #573 from DonnchaC/fix/reply-button-display

Fix spacing bug on reply button"
garrettr,2014-09-12 21:34:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3c82050ab2f4bf65903d35a18c60c14fbcb4ff61,3c82050ab2f4bf65903d35a18c60c14fbcb4ff61,"Merge pull request #567 from charltonaustin/develop

https://trello.com/c/oWN0SW17 removing jquery-2.0.3.min.js and localFora..."
DonnchaC,2014-09-11 23:30:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09be94aa52664d1d402dcaae40cebd02eb5b124a,09be94aa52664d1d402dcaae40cebd02eb5b124a,Fix logo display breaking on newline
DonnchaC,2014-09-11 21:47:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8e6e18d2e64c38489e496575f24d2b5b61db3979,8e6e18d2e64c38489e496575f24d2b5b61db3979,Catch attempts to download or delete without selecting any collections
DonnchaC,2014-09-11 20:59:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8eda7acb6e0f403b4125f9ef237797910d2e6aff,8eda7acb6e0f403b4125f9ef237797910d2e6aff,Fix spacing bug on reply button
DonnchaC,2014-09-11 20:33:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d3149429d310a940b088cd3fa994180b6c3d5eb6,d3149429d310a940b088cd3fa994180b6c3d5eb6,Format receint timestamps as human readable relative times.
garrettr,2014-09-11 19:56:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a481e6a25f6e683bd70d06fc9bb8af60b4c282af,a481e6a25f6e683bd70d06fc9bb8af60b4c282af,"Merge pull request #563 from DonnchaC/invalid_codename_handling

Catch when a user's codename contains invalid characters. Fixes #548"
DonnchaC,2014-09-11 17:51:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd14b74a2f6e80b16aa5d1f259f4e211d958e914,dd14b74a2f6e80b16aa5d1f259f4e211d958e914,Use Jinja filter to format displayed time
DonnchaC,2014-09-11 05:57:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/921d3997edd50a32d33bf3177d1c0a871e6f6acc,921d3997edd50a32d33bf3177d1c0a871e6f6acc,Standardise flash message about unknown codenames
Hainish,2014-09-11 03:32:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dad0f9dee3d1a6c9baa4dbc792a9fa010b4db635,dad0f9dee3d1a6c9baa4dbc792a9fa010b4db635,Changing version.py 0.2.1 to 0.3
charltonaustin,2014-09-11 01:16:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cccb88b65ed25587748c10774a413666493ba8d4,cccb88b65ed25587748c10774a413666493ba8d4,https://trello.com/c/oWN0SW17 removing jquery-2.0.3.min.js and localForage.js from AppArmor since we don't use them any more.
garrettr,2014-09-11 00:40:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f6b2ae09bdb0e5d5b666f00bc571ad8008d397e1,f6b2ae09bdb0e5d5b666f00bc571ad8008d397e1,"Merge pull request #566 from DonnchaC/readable-timestamp

Format displayed timestamps in a more readable way. Fixes #559."
garrettr,2014-09-11 00:39:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/06221bfadda20b24b33216222db563ea9c1fa517,06221bfadda20b24b33216222db563ea9c1fa517,"Merge pull request #564 from DonnchaC/setup_script

Download Firefox over HTTPS, check for /etc/debian_version"
DonnchaC,2014-09-10 23:41:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/df9c8368ae57196e2ef33934592d52c70b3a2562,df9c8368ae57196e2ef33934592d52c70b3a2562,Format displayed timestamps in a more readable way.
DonnchaC,2014-09-10 22:59:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e7a9c595456700c6f32016283c1f94a4bd6b2567,e7a9c595456700c6f32016283c1f94a4bd6b2567,Catch when a users codename contains invalid characters
DonnchaC,2014-09-10 22:31:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/35e8880b60b43986ec2a5e45a27551813ae0bff1,35e8880b60b43986ec2a5e45a27551813ae0bff1,"Download Firefox over HTTPS, check for /etc/debian_version

The setup script was not running on my Debian Wheezy system as it
did not have an /etc/lsb-release file, or a matching file with a
DISTRIB_ID line.

The firefox binary archive was being downloaded over http without
any cryptographic verification."
garrettr,2014-09-06 21:43:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6cd2767b615941ebae7b610a77e8a0e893f11041,6cd2767b615941ebae7b610a77e8a0e893f11041,"Merge pull request #542 from asifrc/fix-chrome-refresh-generate-bug

Bugfix: Page Content shifts downward after refreshing in Chrome"
garrettr,2014-09-06 21:28:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/801d2292c782ecd0c368eb2a55ece786577fbd28,801d2292c782ecd0c368eb2a55ece786577fbd28,"Merge pull request #535 from runasand/develop

Cleaned up the documentation and added a few more steps"
asifrc,2014-09-06 20:58:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c94779a16bd422c88365e8c3762d826731dd3cd0,c94779a16bd422c88365e8c3762d826731dd3cd0,Fixed UI issue in base template css when refreshing in Chrome
garrettr,2014-09-05 23:18:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7956b12c523ab4d018e5c00d7dedf3ca29a0fbde,7956b12c523ab4d018e5c00d7dedf3ca29a0fbde,"Merge pull request #540 from freedomofpress/travis-entropy

rng-tools hack for low entropy causing tests to time out on Travis"
garrettr,2014-09-05 06:02:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f70741069e7afc8eef706e6837d9f943b76ace15,f70741069e7afc8eef706e6837d9f943b76ace15,"Merge pull request #539 from freedomofpress/fix-selenium

Fix selenium"
runasand,2014-08-29 00:17:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/11462e481606ddd01a9fd34e9328c77a43195368,11462e481606ddd01a9fd34e9328c77a43195368,Fixed typo in HidServAuth string
runasand,2014-08-29 00:16:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85dc5533d540fd87438c70c931d6ed4ab98970bc,85dc5533d540fd87438c70c931d6ed4ab98970bc,Fixed typo in HidServAuth string
runasand,2014-08-26 23:44:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/12ec69a6db048672413fdf2f14ead4dd77e3f32b,12ec69a6db048672413fdf2f14ead4dd77e3f32b,"Merge pull request #536 from antagonismorg/DOC-534

Updated appropriate USB stick references to Transfer Device"
antagonismorg,2014-08-26 22:47:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/142dde24b97994e7514bb068c87f4ef9b25241f9,142dde24b97994e7514bb068c87f4ef9b25241f9,Updated appropriate USB stick references to Transfer Device
runasand,2014-08-26 21:56:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6a4ba9cc2016cede41f2a1ee9b86b7c2e6d6018c,6a4ba9cc2016cede41f2a1ee9b86b7c2e6d6018c,Cleaned up the documentation and added a few more steps
runasand,2014-08-26 18:28:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/13350938fdc0164ef43046b38f13a2ac430cbd51,13350938fdc0164ef43046b38f13a2ac430cbd51,"Merge pull request #531 from dolanjs/ossec-agent-directions

added screenshots of adding an ossec agent"
dolanjs,2014-08-18 18:41:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c325b061ff1a1e3237e6b154998ae5476a3c01c,1c325b061ff1a1e3237e6b154998ae5476a3c01c,added screenshots of adding an ossec agent to app server. The IP addresses shown in the screenshots were for a test environment that has been tore down already so didn't feel the need to scrub them out.
dolanjs,2014-08-18 18:14:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/77dedd4210fc91b0f4df299b23fcdea4864003a4,77dedd4210fc91b0f4df299b23fcdea4864003a4,update apparmor profiles
dolanjs,2014-08-11 19:03:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e505a5634e193950ef1474ae8948988eabb88321,e505a5634e193950ef1474ae8948988eabb88321,"updated config files to match example config files for production.
sqlite is still used in production currently though."
Hainish,2014-08-10 07:07:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f070623b0fad2e36b3891afe0f1dd5ed61ae3a57,f070623b0fad2e36b3891afe0f1dd5ed61ae3a57,"Use full key fingerprint when importing since keyid collisions are easy to generate, and specify keyserver"
Hainish,2014-08-10 05:50:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0b537d4f5a2065db2ede23f242b6ba462dcdd46,a0b537d4f5a2065db2ede23f242b6ba462dcdd46,Adding Yubikey to install docs
Hainish,2014-08-10 05:41:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/11cad21fa76cc7d22a8fa2929cfaf7a81aee659c,11cad21fa76cc7d22a8fa2929cfaf7a81aee659c,Updating install docs to link to James' grsec guide
Hainish,2014-08-08 04:25:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c7575816e73afe7b30be0150aa0f964bc8677d9f,c7575816e73afe7b30be0150aa0f964bc8677d9f,Fix db insertion error when admin is on
Hainish,2014-08-08 03:57:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0726448340bf0389c15193e60bef03804e269ee5,0726448340bf0389c15193e60bef03804e269ee5,"Merge pull request #524 from pemulis/patch-1

minor spelling, grammar, and punctuation fixes"
pemulis,2014-08-06 06:51:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/08dae4a24ad3596b1cafe69c1d49f4d64768d5a4,08dae4a24ad3596b1cafe69c1d49f4d64768d5a4,"minor spelling, grammar, and punctuation fixes"
Hainish,2014-08-05 07:26:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bdeb8af52da35f71b19d926b16ef2206acd71eb0,bdeb8af52da35f71b19d926b16ef2206acd71eb0,Ability to authenticate with HOTP added to web ui
Hainish,2014-08-05 05:54:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a7d6686433924591e3cae550b88c11f5b7584c9c,a7d6686433924591e3cae550b88c11f5b7584c9c,HOTP login for admins
diracdeltas,2014-08-03 00:32:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c04c206a2ed1838efb39b3bc03b28ff1b34a2bf9,c04c206a2ed1838efb39b3bc03b28ff1b34a2bf9,"Merge branch 'develop' into feature/pip-update

Conflicts:
	securedrop/requirements/document-requirements.txt
	securedrop/requirements/source-requirements.txt"
diracdeltas,2014-08-03 00:26:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed8d88c9a9b21a11cc76d7c0131ab6274cd22304,ed8d88c9a9b21a11cc76d7c0131ab6274cd22304,Re-remove MAT requirements
diracdeltas,2014-08-02 23:10:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ccdb628a44ae0bad3bb95cfb791addf25b95cf94,ccdb628a44ae0bad3bb95cfb791addf25b95cf94,Remove MAT and hachoir from apparmor rules
diracdeltas,2014-08-02 22:56:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a710180e29027eddc5315f04eab0424f80fbc228,a710180e29027eddc5315f04eab0424f80fbc228,"Revert ""Merge pull request #326 from gnusosa/develop""

This reverts commit 6735ffa700d394b18dddadd581a50b628e039464, reversing
changes made to c59609dc2073686243f887f34bef4324d073144d.

Conflicts:
	.travis.yml
	install_files/source-requirements.txt
	securedrop/requirements/source-requirements.txt
	securedrop/source.py
	securedrop/source_templates/lookup.html
	securedrop/static/css/securedrop.css
	securedrop/store.py
	securedrop/tests/test_unit.py
	setup_dev.sh"
diracdeltas,2014-08-02 22:21:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a2d07c9c31be2c693f9429638473e3e70da1dd1f,a2d07c9c31be2c693f9429638473e3e70da1dd1f,"Revert ""Merge pull request #426 from dolanjs/doc-mat-pip-depends""

This reverts commit 0e6764add143b56450987792c42a1d7eb23fa0ef, reversing
changes made to 1d62c311c1b0df9f4aa0d825d5234b9fd0a5a836."
garrettr,2014-08-02 00:01:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d7ce95aecefb445ba9720952734fcb3b074f7ccc,d7ce95aecefb445ba9720952734fcb3b074f7ccc,"Merge pull request #518 from mtigas/fix_test_lookup

fix test_lookup (tests.test_unit.TestSource) failure due to wording change"
mtigas,2014-08-01 18:55:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5edff4da3d4967919531b51bd4d259dd8dd8df14,5edff4da3d4967919531b51bd4d259dd8dd8df14,"fix testcase; #488 changed ""journalist's public key"" to ""our public key"" (since site uses first person plural)"
garrettr,2014-08-01 16:26:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/57f0abc21258fc77823f35c6d39bb24aadd9df2a,57f0abc21258fc77823f35c6d39bb24aadd9df2a,"Merge pull request #517 from diracdeltas/fix/license

Fix #515"
garrettr,2014-08-01 16:20:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b92256541711cdaf609e8661cc5204408d730004,b92256541711cdaf609e8661cc5204408d730004,"Merge pull request #516 from diracdeltas/fix/issue-453

Fix #453"
diracdeltas,2014-08-01 08:30:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fcc180228f1c0a928509af240eea64c3e2ae25cf,fcc180228f1c0a928509af240eea64c3e2ae25cf,Update license from GPL2 to AGPL
diracdeltas,2014-08-01 08:02:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e6fffe5d6f444e1817219ef3c1893f584fcfe81,7e6fffe5d6f444e1817219ef3c1893f584fcfe81,"Revert ""Revert ""remove direct links to external sites from source templates, fixes #195""""

This reverts commit 34b8205308d0b7795dcd5d24c642e10e2060aa42."
diracdeltas,2014-08-01 08:01:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bb8d57f03efeb70b1bc84429166093e5e416c7d9,bb8d57f03efeb70b1bc84429166093e5e416c7d9,"Revert ""More external links""

This reverts commit b5bbe3050034465e88d399602abed5151f94cb2c."
diracdeltas,2014-08-01 08:01:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/90082fa5c956a155886c0a9dd94c9fedaa47b16b,90082fa5c956a155886c0a9dd94c9fedaa47b16b,"Revert ""Add custom redirector to clear referers""

This reverts commit 0d6339c8a41af53bd21f8a7bf3e7e1114b53e2e4."
diracdeltas,2014-08-01 08:00:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3c78d6569a9246d33505b833e4bb6a053f3b72c2,3c78d6569a9246d33505b833e4bb6a053f3b72c2,"Revert ""Use custom redirector for external links""

This reverts commit d1166330d7c94a5c1b5b32b628e1fb201443e054."
diracdeltas,2014-08-01 08:00:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac3f37c9d53b8acc2d3047f29f252e19572d8bc3,ac3f37c9d53b8acc2d3047f29f252e19572d8bc3,"Revert ""Avoid namespace pollution, add comments""

This reverts commit 06912a2dcef639a0329e1151bbf083c6acb1ec62."
diracdeltas,2014-08-01 07:56:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9028031325914f59c254a6a271212020c1d37537,9028031325914f59c254a6a271212020c1d37537,Merge branch 'develop' into feature/pip-update
garrettr,2014-08-01 04:29:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b676cd12a0b5fd0e5c2a5f31588cef0ee98da168,b676cd12a0b5fd0e5c2a5f31588cef0ee98da168,"Merge pull request #502 from runasand/develop

Fix grammar."
garrettr,2014-08-01 04:28:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c8abc816f5592175f5cc0fcf451d21f5adc3cd82,c8abc816f5592175f5cc0fcf451d21f5adc3cd82,"Merge pull request #501 from mtigas/494-codename-words-dropdown

fix for #494: make codename length dropdown text (""7 words"", ""8 words""...) more consistent."
garrettr,2014-08-01 03:54:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eedf11ce5907d94a939ab022c545fab5ab27b0b3,eedf11ce5907d94a939ab022c545fab5ab27b0b3,"Merge pull request #488 from mtigas/copy-edits-a

Explain ""optionally GPG encrypt w/public key"" better"
garrettr,2014-08-01 03:37:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/174f77a24bcfb1d5e3128e776057d47ab6420547,174f77a24bcfb1d5e3128e776057d47ab6420547,"Merge pull request #484 from Bachmann1234/highlight-requirements

Consolidate requirements so they can be analyzed"
runasand,2014-07-31 20:55:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8dc8133b876368eade466f04d5b146dfacee852,e8dc8133b876368eade466f04d5b146dfacee852,Include changes from @dolanjs
runasand,2014-07-31 14:54:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/227e789a0943f42821a8148920f480889cb9aa31,227e789a0943f42821a8148920f480889cb9aa31,Updated the guide for the 0.3 release
mtigas,2014-07-29 20:16:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/718600efd49bbc0e1a46170e098cda5556af73a9,718600efd49bbc0e1a46170e098cda5556af73a9,"be more explicit about when securedrop receive-end encryption happens. (after it's submitted/when it's received, rather than ""when it is submitted""). #488"
mtigas,2014-07-29 20:11:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c11d519b3e08d74cd4320090fbf4f60a5732a6d2,c11d519b3e08d74cd4320090fbf4f60a5732a6d2,store shared strings in variables based on feedback from @diracdeltas; fix failing tests. re: #479 #489
runasand,2014-07-29 01:12:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/48c3768553914cc76044468721d9d8dae4b8c6b3,48c3768553914cc76044468721d9d8dae4b8c6b3,Need sudo to run add-journalists.sh and add-admin.sh.
runasand,2014-07-28 23:54:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ea0cc19f371b8ca485cd5cd608a75e0d046c419,0ea0cc19f371b8ca485cd5cd608a75e0d046c419,Fix grammar.
mtigas,2014-07-28 20:27:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f15c97fed5a8d76a941579869540cc4a51bc2caf,f15c97fed5a8d76a941579869540cc4a51bc2caf,"make codname length dropdown (""7 words"", ""8 words""...) more consistent. #494"
diracdeltas,2014-07-28 10:25:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5e61cb33641557a4f6d232610b06299c553deaad,5e61cb33641557a4f6d232610b06299c553deaad,Updated pip packages with pip-review
diracdeltas,2014-07-28 10:25:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5a2a262c0e6347c9fc71548e2c814c2575c9130e,5a2a262c0e6347c9fc71548e2c814c2575c9130e,Add pip_update.sh
diracdeltas,2014-07-28 09:25:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0426a2f537a40c02948902d500432528a99ba0a0,0426a2f537a40c02948902d500432528a99ba0a0,Add pip-tools to test dependencies
mtigas,2014-07-24 19:43:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/88dea3b4936418cbd9306507c9b67f69ee5d0977,88dea3b4936418cbd9306507c9b67f69ee5d0977,"Describe ""logging back in"" so users know what to expect, know why they should come back.

1) we should make sure the user knows the codename is important (and why!)
2) give them guidance that they should come back later once they have submitted

I feel like this might be a bit too wordy, but I think this sets the expectations much better for a non-techy submitter.

Re: #479"
mtigas,2014-07-24 19:35:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5f7757cc9ca5ba35a2b1d3be7a89b1bca9177993,5f7757cc9ca5ba35a2b1d3be7a89b1bca9177993,"Update ""you can encrypt with our public key"" bottom msg.

The only people who should really do that are users already familiar w/PGP (as noted in the ""why encrypt with key"" page that we link to here). So let's make that explicit right off the bat so we don't scare people. Also mention that submissions become encrypted upon receipt."
mtigas,2014-07-24 19:23:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f53562cb45d927fa093b30d0ba81ad889cd545c9,f53562cb45d927fa093b30d0ba81ad889cd545c9,"Actually answer ""why"" on the ""journalist public key"" page. Also note that signing will at least let us know what keyid was used, so users needing anonymity probably shouldn't."
Bachmann1234,2014-07-19 19:08:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d65b8fa712e7fef89de3d38403029e17bca67bee,d65b8fa712e7fef89de3d38403029e17bca67bee,move requirements to folder so they can be picked up by a requirements analysis tool
garrettr,2014-07-12 18:30:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/51a5f06365b1bd23da380ef31b1df9d7a8502aee,51a5f06365b1bd23da380ef31b1df9d7a8502aee,"Merge pull request #476 from jacksingleton/submission-in-mem-test

Test to check if the source submission is retained in memory"
jacksingleton,2014-07-10 12:03:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce6c230aa6e10676eff7ce8e3a2f0b9196f9e093,ce6c230aa6e10676eff7ce8e3a2f0b9196f9e093,make tests fail with the number of occurences of the secret_message in memory
jacksingleton,2014-07-10 11:53:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ee30c3d8ed5bd8b7e315b406f91f37bba81dad6,7ee30c3d8ed5bd8b7e315b406f91f37bba81dad6,supressed gcore output in tests
garrettr,2014-07-10 03:53:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8cfa2a393087f37ac5b082ecd658f202fd3d7ff,e8cfa2a393087f37ac5b082ecd658f202fd3d7ff,"Merge pull request #443 from dolanjs/last_things

last things and fixes for some of the iSec reported issues"
jacksingleton,2014-07-08 14:48:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ba680b3e807a7a04f6982975212bb3804aa50cb,0ba680b3e807a7a04f6982975212bb3804aa50cb,makes _source_submits_a_message function reusable
jacksingleton,2014-07-08 12:45:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/91ee3352d84da0b6efcfdfc2d0b0dcafa60141be,91ee3352d84da0b6efcfdfc2d0b0dcafa60141be,"adds gdb dependency to vagrant, needed by new memory test"
jacksingleton,2014-07-08 12:37:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/27a648470d492337bb23250c7804adfd4bc7eb96,27a648470d492337bb23250c7804adfd4bc7eb96,adds test case for message submission not being retained in memory
jacksingleton,2014-07-07 23:02:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/51e7636b10d9a1a60179b9b322a649806ecd562b,51e7636b10d9a1a60179b9b322a649806ecd562b,assert that a submitted secret message cannot be found in a memory dump of the source server
jacksingleton,2014-07-07 23:00:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ecb2e5d9861171eca71389946064db412c732a0,7ecb2e5d9861171eca71389946064db412c732a0,allow reuse of _source_submits_a_file method in other functional tests
dolanjs,2014-07-07 22:00:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/527638d55752c3a036b8a94d235fd9bb97815125,527638d55752c3a036b8a94d235fd9bb97815125,removes basic auth and apache module for 2fa due to sec bug in apache module
dolanjs,2014-07-07 21:51:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a14cac6977e64c1583762fb055e7970152107064,a14cac6977e64c1583762fb055e7970152107064,"Merge pull request #6 from ageis/last_things

Fix broken bash variable"
dolanjs,2014-07-07 21:38:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc8a62c214d06a560dc3556d8d33c0104e951dda,cc8a62c214d06a560dc3556d8d33c0104e951dda,"added static image names to both interfaces' apparmor profiles
added hachoir files for document interface's apparmor profile
added xmlreader files for source interfaces's apparmor profile"
dolanjs,2014-07-07 18:23:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5a19b650205de8a15819675ecc71eb6d27775c4d,5a19b650205de8a15819675ecc71eb6d27775c4d,updated email address in control files
dolanjs,2014-07-07 17:36:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/066bf030c458eefe13a1d172cdb952d8e2367d5d,066bf030c458eefe13a1d172cdb952d8e2367d5d,added DEFAULT_ENV to base.py in interface specific postinst scripts
dolanjs,2014-07-07 17:09:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c531c7540c3b3927fda7b109fa2e6a3c4abd1fed,c531c7540c3b3927fda7b109fa2e6a3c4abd1fed,removed conflicting facist firewall and added where the allowed ports came from
garrettr,2014-07-07 02:43:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c58be2f410d1e871efe63a97faaa664d2e1076ff,c58be2f410d1e871efe63a97faaa664d2e1076ff,"Merge pull request #472 from ageis/develop

Fixed spelling error"
garrettr,2014-07-07 02:41:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45cda16779948e5d4c20ff19b767e561ec20a429,45cda16779948e5d4c20ff19b767e561ec20a429,"Merge pull request #471 from runasand/develop

Be consistent with naming the required Ubuntu release"
runasand,2014-07-01 13:49:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5cf0e595c4464993f1fe6f33546f2970f3b4bce6,5cf0e595c4464993f1fe6f33546f2970f3b4bce6,Be consistent with naming the required Ubuntu release
garrettr,2014-06-27 02:17:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8fa941ad8f6612b44f291c9dade8458d1847865b,8fa941ad8f6612b44f291c9dade8458d1847865b,"Merge pull request #449 from freedomofpress/codename-collisions

Generated codenames must be unique"
garrettr,2014-06-27 02:07:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e06862f29e77d7a40a4492a6d569b61a7279d0b4,e06862f29e77d7a40a4492a6d569b61a7279d0b4,"Merge pull request #461 from charltonaustin/develop

Adding back in unit testsgit st"
garrettr,2014-06-27 02:07:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2a549f56c0e206f23c7155584d96dc499c0e0307,2a549f56c0e206f23c7155584d96dc499c0e0307,comment on the call to test.sh
Hainish,2014-06-21 23:19:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9fa9d2c0ea04b71f92b973f2b57fe1818d780f5c,9fa9d2c0ea04b71f92b973f2b57fe1818d780f5c,Fixing indentation for journalist_templates/col.html and journalist_templates/index.html
Hainish,2014-06-21 22:58:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/418998797965c76077383fb234e106c2a25dc583,418998797965c76077383fb234e106c2a25dc583,"Cleaning up naming for {starred, unstarred} sources"
Hainish,2014-06-18 00:54:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/523a50ade1e18d8cfc575a4a68d658478245ff6e,523a50ade1e18d8cfc575a4a68d658478245ff6e,Cleanup from rebase develop
Hainish,2014-06-17 18:50:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f9b63def62be600afe51abe86123547f97e6b6e,3f9b63def62be600afe51abe86123547f97e6b6e,Removing restart from commands
Hainish,2014-06-16 05:28:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/472095e5567f250832e29905f1dbd8b7056cf011,472095e5567f250832e29905f1dbd8b7056cf011,Improving the start and stop process by getting return status from start-stop-daemon.
Hainish,2014-06-16 02:12:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/470258c04165d3160e0caf875fe1185ac99b0550,470258c04165d3160e0caf875fe1185ac99b0550,Adding start/stop functionality in manage.py (#457).  source.py and journalist.py create a pidfile (the path of which is defined in config/base.py) and this is referenced for shutdown.
charltonaustin,2014-06-17 05:23:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/886abf22e38fb301d9fee54b85ee47a20209bbd1,886abf22e38fb301d9fee54b85ee47a20209bbd1,Adding back in unit testsgit st
garrettr,2014-06-16 14:59:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b9a5bd2abb649e7829f77a274773198a1f902cc1,b9a5bd2abb649e7829f77a274773198a1f902cc1,"Merge pull request #460 from Hainish/issues/459

Moving imports of test suites into test function for manage.py (resolves..."
Hainish,2014-06-16 06:54:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/74bc19356aff032deb8b7a47be45422005f10364,74bc19356aff032deb8b7a47be45422005f10364,"Move config to top, remove test suite runners while retaining call to test.sh"
Hainish,2014-06-16 03:39:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d618502bfce19cc243acd92344bd32e0a96aabc1,d618502bfce19cc243acd92344bd32e0a96aabc1,Moving imports of test suites into test function for manage.py (resolves #459)
garrettr,2014-06-16 00:17:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6713440256ab3d5a3e2d4933944ba16f0029653,c6713440256ab3d5a3e2d4933944ba16f0029653,"Merge pull request #454 from jacksingleton/file_upload_plaintext_hitting_disk

File upload plaintext hitting disk"
dtauerbach,2014-06-15 23:25:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/83cb27de3ac7bf9007e8f7f8f0511f39eec0c04a,83cb27de3ac7bf9007e8f7f8f0511f39eec0c04a,Fix duplicate import statements
jacksingleton,2014-06-15 23:23:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e90cf21200816e7f6a8ad340922f8d2cb595fe8,6e90cf21200816e7f6a8ad340922f8d2cb595fe8,extracted duplicate new_codename code and added to test_setup
jacksingleton,2014-06-15 23:07:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98e817879757fed042348f374548249e718332ff,98e817879757fed042348f374548249e718332ff,overriding the default Flask Request with a RequestThatSecuresFileUploads. for now it just forces all file uploads to be buffered in memory
garrettr,2014-06-15 22:55:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed483464d0752a9aa1a8a8366c4d87e4cc452025,ed483464d0752a9aa1a8a8366c4d87e4cc452025,"Merge pull request #448 from freedomofpress/recommend-manage-py-in-setup-dev

recommend using manage.py after successful setup"
garrettr,2014-06-15 20:29:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7cc28ee45f78b3d34eca7d707fa023bc5b4c2d46,7cc28ee45f78b3d34eca7d707fa023bc5b4c2d46,"Merge pull request #446 from diracdeltas/feature/changelogs

Update changelog for 0.1+ releases"
garrettr,2014-06-15 20:27:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/decbe8dd9d93e8b55dfa36081c261663324e464e,decbe8dd9d93e8b55dfa36081c261663324e464e,"Merge pull request #434 from micahflee/tails-launcher

Tails launcher"
garrettr,2014-06-15 20:22:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f09ecf0e58cbaae970dc669879dcef3186df9c2,8f09ecf0e58cbaae970dc669879dcef3186df9c2,"Merge pull request #433 from Hainish/issues/432

Adding DEFAULT_ENV to base.py and setting some reasonable defaults (#432..."
diracdeltas,2014-06-15 20:02:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dde7dfa5d569888b0861035e78b52df79b168d68,dde7dfa5d569888b0861035e78b52df79b168d68,Update changelog for 0.1+ releases
garrettr,2014-06-15 19:59:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0270d0186906b8685713556fc9559ef21366dab9,0270d0186906b8685713556fc9559ef21366dab9,"Merge pull request #430 from charltonaustin/getting-rid-of-test-sh

Getting rid of test sh"
garrettr,2014-06-15 19:55:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/34c89268974846a506fa2a1eaf2742f4443ee5cd,34c89268974846a506fa2a1eaf2742f4443ee5cd,"Merge pull request #429 from charltonaustin/manage-py-upgrade

Manage py upgrade"
garrettr,2014-06-15 19:45:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c1efa519b7ab3aad80faf0007468453390bb768b,c1efa519b7ab3aad80faf0007468453390bb768b,"Merge pull request #428 from charltonaustin/refactor-methods

refactoring code to remove if else statements"
garrettr,2014-06-15 19:38:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b9966d442d011c9b9315204cff59479e75334515,b9966d442d011c9b9315204cff59479e75334515,"Move getlist comment, misc. cleanup"
garrettr,2014-06-15 19:35:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/098b909a1ec10ca96ab277f113fddeea2d422043,098b909a1ec10ca96ab277f113fddeea2d422043,Don't override form action with formaction
garrettr,2014-06-15 19:33:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8727213d1af251184defb433ee298ea51f38437f,8727213d1af251184defb433ee298ea51f38437f,Remove now-unneeded data param
dolanjs,2014-06-13 20:41:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d4ad49b3c226eb549b397c42df3f7c1ab294758d,d4ad49b3c226eb549b397c42df3f7c1ab294758d,added unattended-upgrade log file to be monitored by ossec
micahflee,2014-06-11 19:23:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a42e43035a65a31129f53e585e6ec7d1bb2f8511,a42e43035a65a31129f53e585e6ec7d1bb2f8511,"added linebreak in tails notification, so it shows up right in Tails 1.1 wheezy"
micahflee,2014-06-11 19:05:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/338b75ac548cb46ca313fe443915d5c1dc4b6560,338b75ac548cb46ca313fe443915d5c1dc4b6560,made a nice gnome application launcher
Hainish,2014-06-11 06:45:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/515b2c824b8744625839beacdf84c9fea0cff3be,515b2c824b8744625839beacdf84c9fea0cff3be,Adding DEFAULT_ENV to base.py and setting some reasonable defaults (#432)
dolanjs,2014-06-09 18:33:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a6f2129c3a417a4bc47f651cfdefd49e32330a26,a6f2129c3a417a4bc47f651cfdefd49e32330a26,"removed old non-existent directories from being ignored/monitored
fixed directory path for source interface log files. Even though these log files are not enabled. Configured them to be logged just in case and admin accidently enables them somehow.
Added specific ignore statements for /var/securedrop/{keys,db,store} outside of the jail even though /var/securedrop is not configured to be a monitored directory.
Added ignore statement for the securedrop.log file for both interfaces just in case the securedrop.log file is used.
added the ossec alert gpg keyrings random seed to ossec syscheck ignore list"
dolanjs,2014-06-09 13:16:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fda8009e81281606c6012e18333650e7a8bc091e,fda8009e81281606c6012e18333650e7a8bc091e,added xSendFile module to document interface to fix issue with downloading large files
dolanjs,2014-06-09 12:25:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2b437848e40b14e2a794ce87824d77687f838ed4,2b437848e40b14e2a794ce87824d77687f838ed4,added example network firewall rules.
dolanjs,2014-06-09 11:34:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54573ad036318221a2982da9c569b855cc25164b,54573ad036318221a2982da9c569b855cc25164b,"Talked with @iSec about usability issues with the password part for the document interface's 2 factor authentication, but we all felt that having access restricted by something you know is worth the usability trade off."
dolanjs,2014-06-09 10:49:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/517cf7a11b2b67568ea0d2b12ad5835dfa49667e,517cf7a11b2b67568ea0d2b12ad5835dfa49667e,"added what ports tor is allowed to connect to so that we can restrict the destination port in the host/network firewall rules.
The alternative would be removing the destination port restriction in the host/network firewall rules. Thanks @iSec for finding this"
dolanjs,2014-06-09 10:38:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d06e6ee734288a2a78885a70ba1871c961586c5,1d06e6ee734288a2a78885a70ba1871c961586c5,added missing state section for ntp rules caught by @iSec
dolanjs,2014-06-09 10:33:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d8163489b1dc6adcfd0c789e8c6cd0bc657da766,d8163489b1dc6adcfd0c789e8c6cd0bc657da766,fixed typo in unattended upgrades
dolanjs,2014-06-03 12:42:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe05cafe02378570c622bfbe9871c2c5b4861afd,fe05cafe02378570c622bfbe9871c2c5b4861afd,removed debconf question for smtp server since this is not part of the package
garrettr,2014-06-03 01:36:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e39d69bea6c77644669ad3f0ce6014ec3412e700,e39d69bea6c77644669ad3f0ce6014ec3412e700,"Merge pull request #427 from dolanjs/color-in-add-users

minor tweeks to add-user scripts"
dolanjs,2014-06-03 01:23:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f122128d133462851be580024fec0a707385037e,f122128d133462851be580024fec0a707385037e,"added color to ouput
and changed add-journalist so it shows the correct name"
garrettr,2014-06-02 23:50:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e6764add143b56450987792c42a1d7eb23fa0ef,0e6764add143b56450987792c42a1d7eb23fa0ef,"Merge pull request #426 from dolanjs/doc-mat-pip-depends

added the additional MAT depends to the document-interface pip reqs"
dolanjs,2014-06-02 23:12:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3c1c4a6f2c12e07b29092ccb728c867bd2f54533,3c1c4a6f2c12e07b29092ccb728c867bd2f54533,"added the additional MAT depends to the document-interface pip requirements.
the journalist.py imports store.py which imports MAT, MAT required the additional packages."
garrettr,2014-06-02 15:23:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9267fa1fe24c5043157deb231d7e8fc552bdb543,9267fa1fe24c5043157deb231d7e8fc552bdb543,"Merge pull request #424 from dolanjs/repo_packages

Repo packages"
garrettr,2014-06-02 15:20:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/72fecc5c80ddf271fb35365aa33b55cb143fe360,72fecc5c80ddf271fb35365aa33b55cb143fe360,"Merge pull request #419 from charltonaustin/flag-sources-4

Flag sources 4"
garrettr,2014-06-02 15:07:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed2f0cee73dd921be6d5e7fa156b1d636cf9e62a,ed2f0cee73dd921be6d5e7fa156b1d636cf9e62a,"Merge pull request #425 from freedomofpress/submission-size-formatting

human-readable submissions sizes, with byte counts in tooltip for micahf..."
dolanjs,2014-06-02 11:45:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7de1b5fb571c07b1310393e337543c6a37674fa4,7de1b5fb571c07b1310393e337543c6a37674fa4,added check to see if securedrop-app init script was present
dolanjs,2014-06-02 11:09:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0a79c9c9a70f20e16d426521e4fa478e70ec4ec7,0a79c9c9a70f20e16d426521e4fa478e70ec4ec7,Merge branch 'repo_packages' of https://github.com/dolanjs/securedrop into repo_packages
dolanjs,2014-06-02 10:49:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/749eb8e702045c77ea5b5d1fc742526527155c54,749eb8e702045c77ea5b5d1fc742526527155c54,"the source interface does use sqlalchemy it is imported in source.py

the document interface loads store.py which imports MAT
re-adding MAT to document-requirements.txt"
dolanjs,2014-06-02 11:07:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e4a7304b5df126c4bd19525d1babf5bb7771ff2b,e4a7304b5df126c4bd19525d1babf5bb7771ff2b,"Merge pull request #5 from ageis/patch-1

Torify and connect-proxy stuff"
dolanjs,2014-06-02 03:47:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ccd918615d5c45bb4eb44ddd32892b1f7175206,6ccd918615d5c45bb4eb44ddd32892b1f7175206,"Merge pull request #3 from ageis/repo_packages

Display the journalist's 2fa doc interface code"
dolanjs,2014-06-02 03:19:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/77448d62ff7bf3107efe1bca3fc65a2b04f18816,77448d62ff7bf3107efe1bca3fc65a2b04f18816,"changed the default location to production
maybe this can just be the deafult for the master branch"
garrettr,2014-06-02 03:08:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e7779edc5ca4364e3741b9e274ed80ef90a3dfa5,e7779edc5ca4364e3741b9e274ed80ef90a3dfa5,"Merge pull request #422 from jacksingleton/functional-tests-logging

Functional tests logging"
jacksingleton,2014-06-02 02:44:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d1fb742c60705f762fb39bcb1b0ac42343520f1,0d1fb742c60705f762fb39bcb1b0ac42343520f1,added newlines
jacksingleton,2014-06-02 02:40:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c7de0dd71761bc45e28d21168698b2b01c1504a3,c7de0dd71761bc45e28d21168698b2b01c1504a3,added log line with date when functional tests start
dolanjs,2014-06-02 02:35:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ad537e4bb6aa301ff92d44e47fd635af4ed921ea,ad537e4bb6aa301ff92d44e47fd635af4ed921ea,"added the create journolist and admin scripts
and update the default location displayed in the post-install script"
garrettr,2014-06-02 02:21:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/917043d9a08b64b1c8c274fe97164824ec58c06f,917043d9a08b64b1c8c274fe97164824ec58c06f,"Merge pull request #423 from freedomofpress/fix-broken-popup

Fix broken popup"
dolanjs,2014-06-02 02:06:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/71a05e1d72e730edff121d5c12113e9057b1da74,71a05e1d72e730edff121d5c12113e9057b1da74,updated documentation to reflect installing from fpf repos.
dolanjs,2014-06-02 01:55:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0fae97dcf29b76ef66dbb6220a7176a1bf279214,0fae97dcf29b76ef66dbb6220a7176a1bf279214,"based off fresh develop
removed old install files
added new deb packages files
binaries for OSSEC server, agent and apache modules are excluded from the github repo
to build deb packages locally you will need the binaries that are excluded from github.

post-install script needs to be updated to display journalist and admins 2fa codes"
garrettr,2014-06-02 02:06:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4421c99f2e3b200e86a6caeabb46f59cc3314cad,4421c99f2e3b200e86a6caeabb46f59cc3314cad,"Merge pull request #421 from freedomofpress/vagrant-cache

Vagrant cache"
dolanjs,2014-06-02 01:52:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c54604c92fc28b18de7564ab7bd78afa223d5567,c54604c92fc28b18de7564ab7bd78afa223d5567,"gitignore was blocking needed directories in install_files dir
removed var"
jacksingleton,2014-06-02 01:52:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0e8b339e48cbe95f6f3e356eaf938a84364ad168,0e8b339e48cbe95f6f3e356eaf938a84364ad168,clean up and refactoring
jacksingleton,2014-06-02 01:38:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a37065f0d564b9f66439d5bc5083e253eaac838d,a37065f0d564b9f66439d5bc5083e253eaac838d,added logging by default to functional tests
garrettr,2014-06-02 00:42:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0aa8881c4b640329b29c695bff725ea68e18366c,0aa8881c4b640329b29c695bff725ea68e18366c,"Merge pull request #420 from jacksingleton/fix-fun-tests-after-vagrant-halt

added xvfb to rc.d via update-rc.d"
jacksingleton,2014-06-02 00:15:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a67d8df995a66e909014ed68b2a60b18ca1c254,8a67d8df995a66e909014ed68b2a60b18ca1c254,added xvfb to rc.d via update-rc.d
micahflee,2014-06-01 06:37:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f657fcc193f33ee92466753e09526d3e86cd522,9f657fcc193f33ee92466753e09526d3e86cd522,fixed test_submit_file
micahflee,2014-06-01 06:22:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0f858aae6a514f27f289c7118209fa6ece5c2907,0f858aae6a514f27f289c7118209fa6ece5c2907,fixes test_filenames and test_filenames_delete
micahflee,2014-06-01 06:14:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4d02d0cecb071371d2294228d24ef59c3304e879,4d02d0cecb071371d2294228d24ef59c3304e879,improved col page
micahflee,2014-06-01 05:55:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/60bd6349c4deb9de1f6fb69ef9f68b03687076c3,60bd6349c4deb9de1f6fb69ef9f68b03687076c3,mdae quick filter box look better
micahflee,2014-06-01 05:53:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/77ee670fc4c321cb248d9e87e2c8f619b4585bf2,77ee670fc4c321cb248d9e87e2c8f619b4585bf2,made source listing page look way better
micahflee,2014-06-01 05:26:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9ea7047867b5ac3574006cb3fe4b7b293526b5de,9ea7047867b5ac3574006cb3fe4b7b293526b5de,updated font-awesome
micahflee,2014-06-01 04:53:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4fcbb200f77a7415b73bb42cc4b9b75878e61fb5,4fcbb200f77a7415b73bb42cc4b9b75878e61fb5,added breadcrumbs to col
micahflee,2014-06-01 04:15:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a9eea856c5a04d490b455e4b810a98433d1871c9,a9eea856c5a04d490b455e4b810a98433d1871c9,minor css tweaks to source interface
micahflee,2014-06-01 04:11:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/938b08cfde8ebd32e6cd835d29ec7d939380df08,938b08cfde8ebd32e6cd835d29ec7d939380df08,fixes #416
micahflee,2014-06-01 03:26:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2b4dfbd57c15b314086e3853da3a0098aeddb3f,e2b4dfbd57c15b314086e3853da3a0098aeddb3f,"improved global header and link styles, and reformatted css syntax to be consistent"
micahflee,2014-06-01 03:10:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7e330030046b061711424cf8a162b0888701073f,7e330030046b061711424cf8a162b0888701073f,"the logo should default to logo.png, not securedrop.png"
garrettr,2014-05-29 18:12:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d5fac7a3a951a2e8ae5276f7fa44bbe52ce40a23,d5fac7a3a951a2e8ae5276f7fa44bbe52ce40a23,"Merge pull request #411 from freedomofpress/fix/leading-spaces

hack to avoid added spaces when copying codename"
garrettr,2014-05-28 23:34:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f71b17f45eeed6face92ec90f6456bda95eeeddb,f71b17f45eeed6face92ec90f6456bda95eeeddb,"Merge pull request #410 from Hainish/issues/401

Deleting the p object removes defunct gpg processes, fixes #401"
Hainish,2014-05-28 23:23:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8002aa85100121ce02ab0e22e571c9578bd2cb76,8002aa85100121ce02ab0e22e571c9578bd2cb76,Deleting the p object removes defunct gpg processes #401
micahflee,2014-05-28 22:44:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85c987f4314fb296667413319f6a8fc6e6d30eaa,85c987f4314fb296667413319f6a8fc6e6d30eaa,"Merge pull request #409 from freedomofpress/feature/already-have-codename-link

add login link to generate page"
garrettr,2014-05-28 15:17:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7132b30bec123025a587ad14e5576ed2eabebedc,7132b30bec123025a587ad14e5576ed2eabebedc,"Merge pull request #407 from charltonaustin/flag-message-2

Flag Sources 2"
garrettr,2014-05-27 16:19:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/22bf91c410d7f47c4ad311035915df1171494319,22bf91c410d7f47c4ad311035915df1171494319,"Merge pull request #408 from freedomofpress/399/functional-test-assertion-error

fix functional test by implicitly waiting for DOM element"
garrettr,2014-05-27 00:07:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e9f061aff86554ca60a0b41d8ecf26c54e665a99,e9f061aff86554ca60a0b41d8ecf26c54e665a99,"Merge pull request #405 from freedomofpress/387/manage-script

387/manage script"
garrettr,2014-05-26 23:36:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5caac375fe68eb6380154a237c7f3a7f2fd14587,5caac375fe68eb6380154a237c7f3a7f2fd14587,"Merge pull request #406 from jacksingleton/fix-hanging-functional-tests

Fixed hanging functional tests when starting vagrant"
jacksingleton,2014-05-26 21:32:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/127c344558b30eb6bf566d3b3d56303e047521d3,127c344558b30eb6bf566d3b3d56303e047521d3,added -H option to sudo in Vagrantfile so that setup_dev.sh uses the correct home directory
garrettr,2014-05-25 03:19:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bca46b373bd9d6ca556dc45cfc14927d3b24390a,bca46b373bd9d6ca556dc45cfc14927d3b24390a,"Merge pull request #396 from freedomofpress/386/hide-filter-box-if-no-js

386/hide filter box if no js"
garrettr,2014-05-25 00:05:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0838cdffd31b226f957f469e452896a61da9cb1f,0838cdffd31b226f957f469e452896a61da9cb1f,"Merge pull request #397 from cwattrus/ui-updates

Refactored the ui on journalist page. Fixing tests to work with new structure"
garrettr,2014-05-24 23:32:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17fc0b6b0c73e0cfbf1623161a4e71e5d9d63d28,17fc0b6b0c73e0cfbf1623161a4e71e5d9d63d28,"Merge pull request #395 from freedomofpress/393/flash-on-no-replies

393/flash on no replies"
cwattrus,2014-05-24 23:29:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b7d8913fdf1b00aa1dfb8d1b73dcffdf82e3a0e9,b7d8913fdf1b00aa1dfb8d1b73dcffdf82e3a0e9,Refactored the ui on journalist page. Fixing tests to work with new structure.
garrettr,2014-05-24 21:12:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/88dd1ad5eb8a2bef2ca7c5c70a4de29d5b8790b6,88dd1ad5eb8a2bef2ca7c5c70a4de29d5b8790b6,"Merge pull request #392 from cwattrus/ui-updates

Fixing up the message and attachment box for the source"
cwattrus,2014-05-24 20:15:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2bda11427940116f6edca8f8230e35bf55dcd500,2bda11427940116f6edca8f8230e35bf55dcd500,Fixing up the message and attachment box for the source
garrettr,2014-05-24 03:38:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf0241cb5c2dc3abe32f27adcedc5b6b188fa7a1,bf0241cb5c2dc3abe32f27adcedc5b6b188fa7a1,"Merge pull request #382 from micahflee/ui-refresh

UI refresh"
micahflee,2014-05-24 03:31:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ef474c1f89845961ca90feb3849a793bd82062ec,ef474c1f89845961ca90feb3849a793bd82062ec,"Merge branch 'develop' into ui-refresh

Conflicts:
	securedrop/journalist.py
	securedrop/static/css/securedrop.css"
micahflee,2014-05-24 03:29:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/005bff0ca252543935fefcd95cd93acfaf3ebb4f,005bff0ca252543935fefcd95cd93acfaf3ebb4f,4-space indents instead of 2-space indents
micahflee,2014-05-24 03:29:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fed9a41219ddbe15c1e68143ffc93c3e106a7881,fed9a41219ddbe15c1e68143ffc93c3e106a7881,"changed selected="""" to just selected (#382)"
garrettr,2014-05-24 03:28:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7c9e49ffd17acba67d3300a46705f09b8e812afe,7c9e49ffd17acba67d3300a46705f09b8e812afe,"Merge pull request #360 from micahflee/chroot

chroot jail development environment option"
micahflee,2014-05-24 03:27:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b7025f305058a9039b05e4e0de8aebfc2783cd9c,b7025f305058a9039b05e4e0de8aebfc2783cd9c,added comment to describe what banner warning flash messages are
micahflee,2014-05-24 03:26:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/662a32641daf4495c7a764ccce1cbfeacb5ca389,662a32641daf4495c7a764ccce1cbfeacb5ca389,"oops, should not have commited the TI logo"
garrettr,2014-05-24 03:21:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c7b3ae52ef79fb267761b7175a2545108ef32207,c7b3ae52ef79fb267761b7175a2545108ef32207,"Merge pull request #389 from Hainish/issues/381

Deleting submissions from db on bulk_delete (#381)"
micahflee,2014-05-24 03:16:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d88823041bf48fba97472bf0321122776c124c63,d88823041bf48fba97472bf0321122776c124c63,added schroot.conf and sources.list directly into chroot-dev (#360)
Hainish,2014-05-24 02:56:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5949381f86450479330f665e8f0a1bbac38ac931,5949381f86450479330f665e8f0a1bbac38ac931,Deleting submissions from db on bulk_delete (#381)
garrettr,2014-05-24 02:21:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4621960fc1fb7110c2772a5ea3eb0603e1bfd397,4621960fc1fb7110c2772a5ea3eb0603e1bfd397,"Merge pull request #384 from Hainish/issues/372

Issues/372"
micahflee,2014-05-24 02:14:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7fde4c5175065f8cf2499c0fa37abf577050d10d,7fde4c5175065f8cf2499c0fa37abf577050d10d,minor journalist interface improvements
Hainish,2014-05-24 02:13:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a255fb23137d4185aedd5a870245790b2854d62,7a255fb23137d4185aedd5a870245790b2854d62,fixed tests
micahflee,2014-05-24 02:02:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0510bdc75eae041908f98318746fe380672169bf,0510bdc75eae041908f98318746fe380672169bf,added back custom header support
Hainish,2014-05-24 01:48:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b6007c0e254052dfc8738757a3205549718be857,b6007c0e254052dfc8738757a3205549718be857,Marking singular downloads as downloaded = True
Hainish,2014-05-24 01:37:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00fd6115aa205dd311e9c6201413ac690f3dd8d1,00fd6115aa205dd311e9c6201413ac690f3dd8d1,Changing bulk_download api per Garretts request
Hainish,2014-05-24 01:14:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b8dd71d196871a59e78adfed67aa79c79ad38c6,3b8dd71d196871a59e78adfed67aa79c79ad38c6,Merging develop into issues/372
micahflee,2014-05-24 00:22:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e07d5e2a9532fabf54228d8937a649b167e32dbe,e07d5e2a9532fabf54228d8937a649b167e32dbe,"Merge branch 'develop' into ui-refresh

Conflicts:
	securedrop/journalist_templates/base.html
	securedrop/source_templates/index.html
	securedrop/static/css/securedrop.css"
garrettr,2014-05-24 00:11:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a36b2b1e780b08163db4a857384e78d44ce38db2,a36b2b1e780b08163db4a857384e78d44ce38db2,"Merge pull request #379 from Hainish/issues/371

Resolves #371"
micahflee,2014-05-24 00:05:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3dfdf31ccf8d7328a9972d8f080c8756343a4ec7,3dfdf31ccf8d7328a9972d8f080c8756343a4ec7,fix test_reply_normal test
Hainish,2014-05-24 00:02:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/363b53e7657354702aabd4a30b7342e63faec270,363b53e7657354702aabd4a30b7342e63faec270,Merging master into issues/371
micahflee,2014-05-23 23:59:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2662268e0a408e62360aa923d09d5adc0e6248a6,2662268e0a408e62360aa923d09d5adc0e6248a6,journalist replies look good now
micahflee,2014-05-23 23:59:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ea58f9fceff02231cc4e27ec8205feb4db09a969,ea58f9fceff02231cc4e27ec8205feb4db09a969,added util.py for formatting dates
garrettr,2014-05-23 23:54:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8942d1097a8d7e1205a13bcdea6d920996d57be2,8942d1097a8d7e1205a13bcdea6d920996d57be2,"Merge pull request #376 from Hainish/issues/370

Issues/370"
Hainish,2014-05-23 23:48:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04ec105cf5bf4d622caa8829532edd47c056e965,04ec105cf5bf4d622caa8829532edd47c056e965,Case insensitivity for filter codenames
garrettr,2014-05-23 23:45:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/89fd19ce70cbbcd0c36e49bac18852b2b8a88897,89fd19ce70cbbcd0c36e49bac18852b2b8a88897,"Merge pull request #378 from Hainish/issues/377

Fixes issue #377, where a source cannot generate a new codename if their"
micahflee,2014-05-23 23:30:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ba94c7a27fda43b1dd7c3d6502c1e13ce3c7485,0ba94c7a27fda43b1dd7c3d6502c1e13ce3c7485,update notifications in journalist interface
micahflee,2014-05-23 23:16:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d45ec2d20aa5fbfa7f03e9ecde0a18dbb81d94d6,d45ec2d20aa5fbfa7f03e9ecde0a18dbb81d94d6,"deleted old, unused css file"
Hainish,2014-05-23 23:11:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f09e514406f925d6dfbdff9249df5ed5a5050857,f09e514406f925d6dfbdff9249df5ed5a5050857,"selenium should be unversioned to get the latest selenium, since we're apt-get installing the latest firefox"
micahflee,2014-05-23 23:00:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a71ff1b3d8746c4787d1b13c62f4c02f46ada785,a71ff1b3d8746c4787d1b13c62f4c02f46ada785,fixing up css for the journalist interface
garrettr,2014-05-23 22:51:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d824caaf8cc7a6cad3b11472bd3da49352ab4a9c,d824caaf8cc7a6cad3b11472bd3da49352ab4a9c,"Merge pull request #374 from Hainish/config-naming-clarity

Changes for configs to be less confusing:"
micahflee,2014-05-23 22:39:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/057871d2d8ee42ae27a45249219f0cfe4da087e0,057871d2d8ee42ae27a45249219f0cfe4da087e0,Merge branch 'cwattrus-ui-refresh' into ui-refresh
cwattrus,2014-05-23 04:29:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3ab10614664b4262ab46d9c72990ba08f0ce8da5,3ab10614664b4262ab46d9c72990ba08f0ce8da5,added changes to col.html that got deleted... somehow...
cwattrus,2014-05-23 04:05:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d5850352d5b859611e929f2510add8cc74e072c,7d5850352d5b859611e929f2510add8cc74e072c,added new styling to journalist interface
Hainish,2014-05-23 02:44:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8c69415b74055ae6c0bf02aee62517c17caae9a9,8c69415b74055ae6c0bf02aee62517c17caae9a9,Swap out link with unread: 0 on download
Hainish,2014-05-23 02:40:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f6f864adf58703c45d2739bd268cf8bc288846d,8f6f864adf58703c45d2739bd268cf8bc288846d,Add a link to download unread messages
micahflee,2014-05-23 02:01:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9da00f84690281768315cd981f4ee75be5556397,9da00f84690281768315cd981f4ee75be5556397,fixed source_navigation_steps tests
micahflee,2014-05-23 01:50:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/338579c4c524376c1bb204a9e98d3beda075341c,338579c4c524376c1bb204a9e98d3beda075341c,fixed test_submit_and_retrieve_happy_path test (#329)
garrettr,2014-05-23 00:14:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a6b266bba0e7ef63a1480b26b6de94e1906d33e5,a6b266bba0e7ef63a1480b26b6de94e1906d33e5,"Merge pull request #375 from Hainish/upgrade-jquery

Upgrade jquery from 2.0.3 to 2.1.1"
Hainish,2014-05-20 06:48:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c8c18a308330995ed59a082c4a6d28e622bfc77d,c8c18a308330995ed59a082c4a6d28e622bfc77d,Marking files as downloaded in the db when they are downloaded
Hainish,2014-05-20 06:47:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/adb61197d60df7920b6e0f4fad26c086ce0adac3,adb61197d60df7920b6e0f4fad26c086ce0adac3,Adding downloaded column to submissions table
Hainish,2014-05-20 05:21:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/70c2f187b26b541bb87c5b3af0f71d7aca90f3f3,70c2f187b26b541bb87c5b3af0f71d7aca90f3f3,Recommending use of base64 encoded random bits for scrypt peppers
garrettr,2014-05-20 02:38:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de7cb2e3a36d89591538df6b9706b6ad766f37d5,de7cb2e3a36d89591538df6b9706b6ad766f37d5,"Merge pull request #373 from Hainish/vagrant-name-vbox

Adding name to the VM in virtualbox"
Hainish,2014-05-19 05:42:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/12d1484a8efe34888fa0d811f21aa704bfe0bea5,12d1484a8efe34888fa0d811f21aa704bfe0bea5,Adding count of documents and messages in index for journalists
Hainish,2014-05-19 04:58:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/704eda147b955feb036e6170ef0cebb7aba8194a,704eda147b955feb036e6170ef0cebb7aba8194a,Redirect to the proper URL for endpoints which require login
Hainish,2014-05-19 04:51:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8713282134ae49120d68e065dde02157386ec039,8713282134ae49120d68e065dde02157386ec039,"Fixes issue #377, where a source cannot generate a new codename if their
collection is deleted by the journalist while they are still logged in."
Hainish,2014-05-19 03:22:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/02e0dbcd800c6037224f2ac3d439f4e32655a5f0,02e0dbcd800c6037224f2ac3d439f4e32655a5f0,"Do not delete invisible collections, even if they are checked!"
Hainish,2014-05-19 03:00:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/014444756a096975a2c7e815ef80213c032112b7,014444756a096975a2c7e815ef80213c032112b7,Simple filter for codenames on journalist interface
Hainish,2014-05-19 02:03:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/002cc3b9778586643fb508906da80735069c7fb3,002cc3b9778586643fb508906da80735069c7fb3,Upgrade jquery from 2.0.3 to 2.1.1
Hainish,2014-05-19 00:52:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ea9aac48df9aec5c4fa2b45de87f6d7ab19e25aa,ea9aac48df9aec5c4fa2b45de87f6d7ab19e25aa,"Changes for configs to be less confusing:

 - renaming flask_defaults example config
 - moving custom_theme_image.py into base.py
 - creating base.py.example"
Hainish,2014-05-18 23:38:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/985a652b0fdd14fe36dd57c9c05e23d3afa2f83e,985a652b0fdd14fe36dd57c9c05e23d3afa2f83e,Adding name to the VM in virtualbox
micahflee,2014-05-16 05:02:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/afeddb91e3ce78be2235cb801f686769982571cf,afeddb91e3ce78be2235cb801f686769982571cf,"fixed test_generate
redesigned /login
made both notifications and errors look cool
fixed test_login_and_logout (all part of #329)
fixed tor2web warning issue (#342)"
garrettr,2014-05-16 03:19:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e598ab49fda727e4827a011a1b226841f43054f3,e598ab49fda727e4827a011a1b226841f43054f3,"Merge pull request #364 from jacksingleton/traceback-sighandler

adding signal handler functional tests to dump traceback"
jacksingleton,2014-05-16 02:53:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a58b0deb2ce3b47a299cdc08045b1c9e77daaec7,a58b0deb2ce3b47a299cdc08045b1c9e77daaec7,adding signal handler functional tests to dump traceback. should help debug when they freeze
garrettr,2014-05-16 02:52:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dad442f3b630cc447c1d6f0647edec246290d18f,dad442f3b630cc447c1d6f0647edec246290d18f,"Merge pull request #349 from micahflee/better-filenames

Better filenames"
garrettr,2014-05-16 02:43:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c10bf010776c44323b85ee2cd1b0df6648d6ee00,c10bf010776c44323b85ee2cd1b0df6648d6ee00,"Merge pull request #356 from posix4e/crypt_nits

Crypt nits"
micahflee,2014-05-16 02:40:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3ecbaf3c21c07e18d9b600d561a21aa1cfec9f3c,3ecbaf3c21c07e18d9b600d561a21aa1cfec9f3c,made comment more clear (#349)
micahflee,2014-05-16 01:53:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/531192631088123abf5e05603d4f27d348da1775,531192631088123abf5e05603d4f27d348da1775,fixed test_create (#329)
garrettr,2014-05-16 01:01:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a7c7aa05e41a8d7acbccc6c56c15d57aadd2edaa,a7c7aa05e41a8d7acbccc6c56c15d57aadd2edaa,"Merge pull request #363 from tomrittervg/patch-1

Typos and small rewordings"
micahflee,2014-05-13 21:38:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cbd7d3df5b47914b9660900406d1a2eee2c704bf,cbd7d3df5b47914b9660900406d1a2eee2c704bf,fixed some css after testing in tor browser (#329)
tomrittervg,2014-05-12 13:56:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8499f9ce042f22c0f83e4ca8be15c08802d53365,8499f9ce042f22c0f83e4ca8be15c08802d53365,Typos and small rewordings
micahflee,2014-05-09 21:28:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3715e8125e6a722d76e152cf17607e8dd34a65be,3715e8125e6a722d76e152cf17607e8dd34a65be,"built UI for /lookup, and made notifications look modern (#329)"
garrettr,2014-05-01 04:08:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc314d4364f6cfc9a0900b1482b09061485f3991,fc314d4364f6cfc9a0900b1482b09061485f3991,"Merge pull request #359 from micahflee/tails-torrc-fix

tails-torrc-fix"
garrettr,2014-05-01 02:05:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0169c7e6ebb267e8916545b94d7db4d08fed5e99,0169c7e6ebb267e8916545b94d7db4d08fed5e99,"Merge pull request #357 from jacksingleton/xvfb-firefox

Using Firefox and Xvfb instead of PhantomJS and enabling submit_and_retrieve_file functional test"
micahflee,2014-04-30 00:55:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ff78b7551c924a4f117e6ef33e1b6c2eedfdf0f,0ff78b7551c924a4f117e6ef33e1b6c2eedfdf0f,"remade source template's base.html, and updated UI for /generate (#329)"
micahflee,2014-04-30 00:31:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/270f66d680024de4868af3d23be4a929b972c74a,270f66d680024de4868af3d23be4a929b972c74a,"starting to implement new UI (#329). made new source homepage, and made javascript warning less obnoxious, and use less js dependencies."
micahflee,2014-04-29 21:09:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4702a667a22a8691dee2fa789e0f03df337c7504,4702a667a22a8691dee2fa789e0f03df337c7504,"DRYed up filename tests, and use raw strings for regex"
micahflee,2014-04-29 20:30:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/17a2a1265faed6d36488b79b683c0d3481916b8c,17a2a1265faed6d36488b79b683c0d3481916b8c,fancy python simplification of journalist_filename (#349)
micahflee,2014-04-29 21:09:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7029a4515149a0be4b6862ac6615799441e6cb0f,7029a4515149a0be4b6862ac6615799441e6cb0f,"DRYed up filename tests, and use raw strings for regex"
micahflee,2014-04-29 20:30:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eaec284e734f3d6878bb68ca882c7552516d32f9,eaec284e734f3d6878bb68ca882c7552516d32f9,fancy python simplification of journalist_filename (#349)
micahflee,2014-04-29 20:25:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cf8348152e3f71376fbaaa6c158c30e028142f40,cf8348152e3f71376fbaaa6c158c30e028142f40,Merge branch 'chroot' into better-filenames-chroot
micahflee,2014-04-29 20:25:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/584c5bd3f9c63361bebdf7f028bde9fc86cfde0e,584c5bd3f9c63361bebdf7f028bde9fc86cfde0e,chroot: added clean command
micahflee,2014-04-29 20:09:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/917a4ca62cc37f9496ec10e4059765774addec18,917a4ca62cc37f9496ec10e4059765774addec18,Merge branch 'better-filenames' into better-filenames-chroot
micahflee,2014-04-29 19:50:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d91464e6244d017b9fabcfebcf0a81641406b3e2,d91464e6244d017b9fabcfebcf0a81641406b3e2,"chroot: unmount filesystems better, and require chroot for most commands"
micahflee,2014-04-29 19:38:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9ad358348234666065556093d64517e0d73acfe,d9ad358348234666065556093d64517e0d73acfe,"in Tails, you can run securedrop_init twice without breaking anything. (fixes #355)"
micahflee,2014-04-29 19:10:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/217851c29ac20a4afc587669edfc244c1a006ba0,217851c29ac20a4afc587669edfc244c1a006ba0,"chroot: fixing permissions after setup_dev.sh, since tests are first run by root user"
micahflee,2014-04-29 19:01:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0489f2744635172cc1c52d88e89a052cb67710f6,0489f2744635172cc1c52d88e89a052cb67710f6,renamed chroot dir to dev_files
micahflee,2014-04-29 18:59:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f687d45d5b7e9a100c05307e9fa7ff640dcc13b0,f687d45d5b7e9a100c05307e9fa7ff640dcc13b0,moved chroot instructions into HACKING.md
micahflee,2014-04-29 18:45:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/747ffc0c661333d154f614c8ef842d2418a6111e,747ffc0c661333d154f614c8ef842d2418a6111e,Merge remote-tracking branch 'origin/hacking-updates' into chroot
micahflee,2014-04-29 18:41:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e843db855bb6ace3af1e7094cc08e2df0ec6b822,e843db855bb6ace3af1e7094cc08e2df0ec6b822,"make sure debootstrap and schroot are installed, fix test command"
micahflee,2014-04-29 18:35:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1f549d2aae823655b9598cc915892b7c14f579c6,1f549d2aae823655b9598cc915892b7c14f579c6,merged chroot scripts into a single bash script with commands. bundle ubuntu signing key to verify ubuntu packages in chroot jail.
micahflee,2014-04-29 01:15:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98857392d430b021cb6f7e9cf2b55fbaf1efeb79,98857392d430b021cb6f7e9cf2b55fbaf1efeb79,"added chroot dev user, restart_servers.sh script uses those users instead of root"
micahflee,2014-04-29 00:42:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/131032effef330b7ac04a53422a0953d7162dcdd,131032effef330b7ac04a53422a0953d7162dcdd,starting to build chroot-based dev environment
micahflee,2014-04-28 23:12:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eba4a4e72124180f4ebb942308fe787a5c2749ec,eba4a4e72124180f4ebb942308fe787a5c2749ec,merging HACKING.mds
jacksingleton,2014-04-22 06:30:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/553e031c5fe96e039e2120e8d64a27e15d89f5c6,553e031c5fe96e039e2120e8d64a27e15d89f5c6,Merge remote-tracking branch 'origin/develop' into xvfb-firefox
jacksingleton,2014-04-22 06:01:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c007f351f106e9237012d1f0697acfce592d2a37,c007f351f106e9237012d1f0697acfce592d2a37,"re-enabling functional test, should work with Firefox WebDriver"
jacksingleton,2014-04-17 04:42:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58b3fa6119edd1be701edd52130826f20b9f5c51,58b3fa6119edd1be701edd52130826f20b9f5c51,sourcing /etc/profile immediatly in case travis is running everything in one shell
jacksingleton,2014-04-17 04:35:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0981da04a321c1d0b31d9577b62dd15086b65c64,0981da04a321c1d0b31d9577b62dd15086b65c64,using xvfb and firefox to run functional tests
garrettr,2014-04-17 04:09:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2aae707481e62ff8a2134d5aff49f1bad99c1287,2aae707481e62ff8a2134d5aff49f1bad99c1287,"Merge pull request #354 from bwillis/develop

Fixes #353: When the session identifier is changed, logout the user"
garrettr,2014-04-12 01:18:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e794a7052225bcb9bde0f498bd4797b475a40e0,3e794a7052225bcb9bde0f498bd4797b475a40e0,"Merge pull request #350 from micahflee/automatic-keygen

Automatic keygen"
garrettr,2014-04-10 06:50:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/13fcd94cdbcb2ebbd820c3040ebaeea66f7e004b,13fcd94cdbcb2ebbd820c3040ebaeea66f7e004b,"Merge pull request #346 from micahflee/tails-torrc

Tails torrc"
micahflee,2014-04-07 17:50:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f7216ba09ec29e2219b8aaae040f1006b93e463,6f7216ba09ec29e2219b8aaae040f1006b93e463,small tails-torrc bugs
micahflee,2014-04-07 17:30:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b91d6362c185f2f344b5f133ba9b340a946277cf,b91d6362c185f2f344b5f133ba9b340a946277cf,minor tails-torrc install script tweaks
micahflee,2014-04-05 03:47:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/24c101d1ac70870a0191fa0bd033fdc2c887b083,24c101d1ac70870a0191fa0bd033fdc2c887b083,fixes #303
micahflee,2014-04-05 03:06:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cfd3afb2fb5d39024a444da94a1445cc16c43949,cfd3afb2fb5d39024a444da94a1445cc16c43949,"wrote tests for pretty, sequential filenames (#320)"
micahflee,2014-04-05 01:59:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f554c47d78ca100f9277f858dc42f05550713d0f,f554c47d78ca100f9277f858dc42f05550713d0f,filenames are much nicer (#320)
micahflee,2014-04-05 00:18:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb758ba3c0d5bfb1f407f4886138f7e3cc58fbb9,eb758ba3c0d5bfb1f407f4886138f7e3cc58fbb9,"rewrote the tails-torrc stuff in python, using a c setuid wrapper (#346)"
micahflee,2014-04-04 23:38:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec6e2423a945a944a872d13f65fe7f1d3f244e83,ec6e2423a945a944a872d13f65fe7f1d3f244e83,"removed update_torrc binary, and include compiling in the install script (#346)"
garrettr,2014-04-03 21:47:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/644b3d32eaebb5234f245cf8abb2351dacbb0951,644b3d32eaebb5234f245cf8abb2351dacbb0951,"Merge pull request #343 from micahflee/pending-source

Pending sources"
micahflee,2014-04-03 21:07:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/06aec4d328d573e792dcd6ad641a99689b886446,06aec4d328d573e792dcd6ad641a99689b886446,"Made ""delete collection"" and ""delete selected"" tests submit a message after creating a codename. This way the sources aren't pending."
micahflee,2014-04-03 21:01:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c2862890cf805bac3e63f25ea4a42525d861e022,c2862890cf805bac3e63f25ea4a42525d861e022,Merge branch 'develop' of https://github.com/freedomofpress/securedrop into pending-source
micahflee,2014-04-02 20:31:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e24e1d1e78a331664204b27c34dfb1e077d6d17c,e24e1d1e78a331664204b27c34dfb1e077d6d17c,fixed typos in install docs
micahflee,2014-04-02 20:26:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de596e16e18aa9fc312a9fe4a657ba9a3d6150c3,de596e16e18aa9fc312a9fe4a657ba9a3d6150c3,Typo in Tails config docs
micahflee,2014-04-02 20:25:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6099270b55f4ab3dad2b7a256a1ff688cd499bb4,6099270b55f4ab3dad2b7a256a1ff688cd499bb4,Renamed tails_config.me to .md
micahflee,2014-04-02 20:20:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d107bff44c6d83f317064756552fbba58b01f036,d107bff44c6d83f317064756552fbba58b01f036,"Updated installation documentation to include much simpler instructions for using Tails to access the Document Interface. Also split the instructions for setting up Tails USB sticks onto a separate page, and made it rely more heavily on docs from the Tails website. Change the GPG key generation instructions to make a passphrase-less key (setting a passphrase in this case offers negligible security)."
micahflee,2014-04-02 19:21:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fedd2401d05941764eceb2ab67d93a43df6159ac,fedd2401d05941764eceb2ab67d93a43df6159ac,made tails-torrc instructions simpler
micahflee,2014-04-02 19:16:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a0c92d6acf42c99b9f8a324ec0b35c5a2105705,3a0c92d6acf42c99b9f8a324ec0b35c5a2105705,"new update_torrc binary, slightly modified source code"
micahflee,2014-04-02 19:16:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3924e3f7c004d5a35d96723bc630b6bc2829df5f,3924e3f7c004d5a35d96723bc630b6bc2829df5f,updated tails-torrc readme
micahflee,2014-04-02 18:10:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/528d2220641c17be0f8304c14711d69d2f2a0ed1,528d2220641c17be0f8304c14711d69d2f2a0ed1,updated tails-torrc readme
micahflee,2014-04-02 18:09:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/82275e01ca010870cb47e2b40d101010703aa381,82275e01ca010870cb47e2b40d101010703aa381,wrote tails-torrc install script
micahflee,2014-04-02 16:24:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d98f8945c994e99cb08e1f2a9814597eba46d6c,1d98f8945c994e99cb08e1f2a9814597eba46d6c,making torrc.additions file hidden
micahflee,2014-04-02 15:55:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6033190352266402b6d30d289f8ced43600be99a,6033190352266402b6d30d289f8ced43600be99a,added micahflee/securedrop-torrc files into repo (#282)
micahflee,2014-04-01 21:47:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b7565a4464d40b46c5401398279d71e675d092e,5b7565a4464d40b46c5401398279d71e675d092e,added comment to explain what pending is
micahflee,2014-04-01 21:42:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/44579f448aafdcc287af79667ed0884b352c20dd,44579f448aafdcc287af79667ed0884b352c20dd,sources that don't submit documents are 'pending' and don't get displayed by default. fixes #302
garrettr,2014-03-25 04:16:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d3e9f754dc9fcdfa13a410d7ac31263f54e16c23,d3e9f754dc9fcdfa13a410d7ac31263f54e16c23,"Merge pull request #336 from garrettr/feature/remove-after-request

Don't set ""no cache"" headers in Flask"
garrettr,2014-03-20 04:30:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa4626a9ee50d1fe3a55ccc36347c8e4c457087d,aa4626a9ee50d1fe3a55ccc36347c8e4c457087d,"Merge pull request #331 from LordLandon/develop

Simplifying config files"
LordLandon,2014-03-20 03:38:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38cc62352bcae3b48cf971e1a04cb821f439628b,38cc62352bcae3b48cf971e1a04cb821f439628b,Updating travis.yml to use setup_dev.sh
garrettr,2014-03-15 03:02:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/80d7b8dbc444e93befaf3ee9c2a75fb547c7e723,80d7b8dbc444e93befaf3ee9c2a75fb547c7e723,"Merge pull request #335 from garrettr/feature/normalize-timestamps

Feature/normalize timestamps"
garrettr,2014-03-14 19:16:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3546c88c6a1aee99bf2e3d3673923a1a5d8ce48b,3546c88c6a1aee99bf2e3d3673923a1a5d8ce48b,"Merge pull request #334 from garrettr/db-submissions

Db submissions"
garrettr,2014-03-14 17:31:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd59bfe6b8f30ebf0bef429e943a616fb5e7e993,dd59bfe6b8f30ebf0bef429e943a616fb5e7e993,"Merge pull request #333 from jacksingleton/second-functional-test

Source submits a file functional test"
jacksingleton,2014-03-13 04:02:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5f7536890f852bc3a8941a9c1a6e91ce1ad32190,5f7536890f852bc3a8941a9c1a6e91ce1ad32190,moved functional tests into seperate folder and added submit_and_retrieve_file
jacksingleton,2014-02-21 04:46:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/19f08ee46014485ad0921d604e44564b1a6aa08d,19f08ee46014485ad0921d604e44564b1a6aa08d,started functional test reorg to share code between multiple tests
garrettr,2014-03-10 05:10:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c325aeff5803eafc9b35cff805219d07de7a8bc,1c325aeff5803eafc9b35cff805219d07de7a8bc,"Merge pull request #330 from garrettr/db-rewrite

db rewrite"
garrettr,2014-03-07 04:29:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6735ffa700d394b18dddadd581a50b628e039464,6735ffa700d394b18dddadd581a50b628e039464,"Merge pull request #326 from gnusosa/develop

Added MAT to store.py as a metadata purge option."
gnusosa,2014-03-03 07:54:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cf6914bc111947ff52ae9443a24b3342c5cae974,cf6914bc111947ff52ae9443a24b3342c5cae974,"Added MAT to source.py as a metadata purge option.

- MAT consist of a python library that makes
use of other metadata tools dedicated to specific
file-formats.

Always nice tidy and neat.

Added checkbox for metadata purge.

- Also added more validation on the
file selection for the cleanup.

Better validation on what file to write to.

Added MAT to requirements.txt

- Note: MAT is not available in
  PyPi, therefore, we clone it
  from the Tor repository.

Added MAT to source-requirements.txt

Added exiftool and poppler dependency to Debian/Ubuntu script.

Added tests for binary file upload.

Added test images for MAT

Added MAT to source-requirements and setup_dev.sh

Added intltool for MAT to travis.yml

Added secure_unlink and sanitize_metadata function."
garrettr,2014-03-03 04:38:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c59609dc2073686243f887f34bef4324d073144d,c59609dc2073686243f887f34bef4324d073144d,"Merge pull request #319 from freedomofpress/remove-flask-testing

Remove Flask-Testing dependency"
garrettr,2014-02-23 19:21:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/344a5fdbaee9765d811a1653b7a407e2d6f9d519,344a5fdbaee9765d811a1653b7a407e2d6f9d519,"Merge pull request #288 from Hainish/gnupg-security-fix

Including gnupg-securedrop module, fixing security vulnerability with ol..."
garrettr,2014-02-23 19:18:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d81206d69e0971b780222f886d1d3c1a19c34c3c,d81206d69e0971b780222f886d1d3c1a19c34c3c,"Merge pull request #318 from garrettr/unicode-replies

Unicode replies. Fixes #311."
garrettr,2014-02-23 19:14:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2413b64b8734f4b20315b9e58d594e25fdf6f1ed,2413b64b8734f4b20315b9e58d594e25fdf6f1ed,"Merge pull request #310 from garrettr/logging-hotfix

Logging hotfix. Fixes #261."
garrettr,2014-02-23 00:35:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9bd6ab2dc23876f0c35a5a0ffb42a707b4299d38,9bd6ab2dc23876f0c35a5a0ffb42a707b4299d38,"Merge pull request #316 from garrettr/simplify-dev-setup

Simplify dev setup"
garrettr,2014-02-22 00:18:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa2adcdc2cb75256e9f228dc192838f8415c0da6,aa2adcdc2cb75256e9f228dc192838f8415c0da6,"Merge pull request #1 from dolanjs/os-apparmor-ossec

OSSEC apparmor and install scripts fixes for logging change"
Hainish,2014-01-12 08:10:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1655f659b5682b7455c597d0a3260b03ca0afaa1,1655f659b5682b7455c597d0a3260b03ca0afaa1,adding a travis yaml file for ci
dolanjs,2014-02-05 22:28:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab8d59a39b13f05edf71e5128d86eff4041e197e,ab8d59a39b13f05edf71e5128d86eff4041e197e,added write perm in apparmor profiles for error.log~ and access.log~
dolanjs,2014-02-21 09:25:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/33710506d22994b708ebe76b88475df0e4e6c44a,33710506d22994b708ebe76b88475df0e4e6c44a,"added securerop.log for both interfaces to ossec config
added w permissions for securedrop.log in apparmor profile
added logging config to source and document config.py used in production install"
garrettr,2014-02-21 08:03:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/483c4085e49c4b9a72bada4bb109def77cad9152,483c4085e49c4b9a72bada4bb109def77cad9152,"Merge pull request #312 from dolanjs/utf-8-encode-global

added defaultcharset to apache global config"
garrettr,2014-02-21 08:01:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec7ecf71d775cce8a704195774a49bf58996d502,ec7ecf71d775cce8a704195774a49bf58996d502,"Merge pull request #305 from pamo/develop

Updated vagrant success instructions to match HACKING.md"
garrettr,2014-02-21 06:44:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/261598dfdb60b3c82cf5ef2406e27de60345e0c1,261598dfdb60b3c82cf5ef2406e27de60345e0c1,"Merge pull request #314 from jacksingleton/add-polling-to-functional-tests

Add polling to functional tests"
jacksingleton,2014-02-21 06:33:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0add4db9ab7a26d6b613e3bb6ef2def8be219bcc,0add4db9ab7a26d6b613e3bb6ef2def8be219bcc,Merge branch 'develop' into add-polling-to-functional-tests
garrettr,2014-02-21 06:30:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e0f10c7eb9db6bcb1e624ecd1859dca834529a51,e0f10c7eb9db6bcb1e624ecd1859dca834529a51,"Merge pull request #315 from jacksingleton/quickfix-for-twill-problems

Quick fix for travis twill problems"
jacksingleton,2014-02-21 06:20:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1f586ee90d83fa252f50d86474fd30895949328b,1f586ee90d83fa252f50d86474fd30895949328b,added --allow-external twill --allow-unverified twill to travis test-requirements pip install... will go away when we get rid of twill dep
jacksingleton,2014-02-21 05:50:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1bc49d80a952608160ee4da129994948e0083c45,1bc49d80a952608160ee4da129994948e0083c45,cleaned up loop
jacksingleton,2014-02-21 05:42:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/612f5663239d30a9c192d46466c57fe9f021fb60,612f5663239d30a9c192d46466c57fe9f021fb60,added 10 second timeout to _wait_until_up
jacksingleton,2014-02-21 05:21:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a7e5ef9d851889ead27851b6a2b2da07f2f88299,a7e5ef9d851889ead27851b6a2b2da07f2f88299,added polling to functional test to wait for servers to start
dolanjs,2014-02-21 00:22:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d481b208d0a1abc622d78f2a582f2e1ff67388be,d481b208d0a1abc622d78f2a582f2e1ff67388be,added defaultcharset to apache global config
Hainish,2014-02-19 04:13:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/28d584e5ba1f5183bfeb7569224b3d1baf3619db,28d584e5ba1f5183bfeb7569224b3d1baf3619db,Updating MySQL-python dependency
Hainish,2014-02-19 04:00:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/63fb6e98513f28d9dd03703e01e8a8f876a105a9,63fb6e98513f28d9dd03703e01e8a8f876a105a9,"Removing twill from dependencies (causing travis to error out, not using it)"
Hainish,2014-02-19 03:47:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/135f2f57000f23a10f64bd0188761ba682e70737,135f2f57000f23a10f64bd0188761ba682e70737,Update requirements for fixes of gnupg-securedrop
pamo,2014-02-19 02:58:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff3caef9a15293a05f45471c2a6e251583e69f99,ff3caef9a15293a05f45471c2a6e251583e69f99,Updated vagrant success instructions to match HACKING.md
garrettr,2014-02-12 07:05:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/25ba321ca8738fadb6ccc1412bafe5b4ac85878e,25ba321ca8738fadb6ccc1412bafe5b4ac85878e,"Merge pull request #290 from jacksingleton/auto-dl-phantomjs

Added phantomjs binary download to setup_ubuntu.sh"
garrettr,2014-02-12 02:48:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/56e710e0f68900c1b0ae7c778bce8e046f753476,56e710e0f68900c1b0ae7c778bce8e046f753476,"Merge pull request #300 from dolanjs/permission-fixes

fixed permssions"
dolanjs,2014-02-05 22:28:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c1163624d47f8fdc3a14c7cfc1f6d4c8932e6b7f,c1163624d47f8fdc3a14c7cfc1f6d4c8932e6b7f,added write perm in apparmor profiles for error.log~ and access.log~
dolanjs,2014-02-05 18:15:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1aaf8d58aad11095a7dd1ce4e3e12d0d1fc630d8,1aaf8d58aad11095a7dd1ce4e3e12d0d1fc630d8,"added umask settings
removed older chmod that aren't needed
fixed document apache log format for combined log
changed ossec global config to use localhost as smtp relay so that it will work with procmail"
jacksingleton,2014-01-29 20:42:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5dfb20dd28e7de022110d281a0799d8b0457e9ba,5dfb20dd28e7de022110d281a0799d8b0457e9ba,removed PHANTOMJS_BINARY_PATH from config/test.py.example
jacksingleton,2014-01-29 20:41:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39f6165bfcf6e7fab9bd5c5ae8223084331bb44a,39f6165bfcf6e7fab9bd5c5ae8223084331bb44a,updated vagrant warning in test.sh
jacksingleton,2014-01-29 20:35:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07600c3b976fb6190d837ec439d40e5970dd521f,07600c3b976fb6190d837ec439d40e5970dd521f,"Modified functional tests to use phantomjs binary on path, and changed setup_ubuntu.sh to install phantomjs in /usr/local/bin"
garrettr,2014-01-29 00:24:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f3725953ca45d2cf82d555bcb39964a41bab12d9,f3725953ca45d2cf82d555bcb39964a41bab12d9,"Merge pull request #292 from ageis/patch-1

Fix path of CONFIG_OPTIONS"
garrettr,2014-01-29 00:15:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/916df1379f41afc4c46fcb04ee82c7a1f0cb70fb,916df1379f41afc4c46fcb04ee82c7a1f0cb70fb,"Merge pull request #296 from ageis/develop

Make the Internal Server Error - 500 page prettier"
garrettr,2014-01-29 00:10:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da9b21abc76490c31b1ce3d657bd087de416eceb,da9b21abc76490c31b1ce3d657bd087de416eceb,"Merge pull request #291 from diracdeltas/fix/xss-typo

Fix typo in x-xss-protection header"
diracdeltas,2014-01-27 23:02:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6586e07e14d1b7b35946e187e3d3733c459bfb6e,6586e07e14d1b7b35946e187e3d3733c459bfb6e,Fix typo in x-xss-protection header
diracdeltas,2014-01-27 23:02:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/77a26892836a5afd7a021eb0226f2ce30fc9e4e3,77a26892836a5afd7a021eb0226f2ce30fc9e4e3,Fix typo in x-xss-protection header
jacksingleton,2014-01-27 17:21:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7760578c3afb1c404a09fe606a5da9d91294e348,7760578c3afb1c404a09fe606a5da9d91294e348,Merge remote-tracking branch 'origin/develop' into auto-dl-phantomjs
jacksingleton,2014-01-27 03:38:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f0b775a34bfc1eafbb438799ae8bf08bf3d2fef5,f0b775a34bfc1eafbb438799ae8bf08bf3d2fef5,updated HACKING.md and moved default phantomjs location to setup_ubuntu.sh
jacksingleton,2014-01-27 03:25:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0b5c63a7babfaac30926a9ba7b581a2f75ffe4fa,0b5c63a7babfaac30926a9ba7b581a2f75ffe4fa,fixed phantomjs sed in .travis.yml
Hainish,2014-01-27 03:25:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b6bc15fb16fe4c12dbe9c36237f77a37bf11107,7b6bc15fb16fe4c12dbe9c36237f77a37bf11107,"Including gnupg-securedrop module, fixing security vulnerability with old python-gnupg module while preserving the methods that securedrop needs"
jacksingleton,2014-01-27 03:20:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/678bd22a71128626fc93a63361ce35514a13da66,678bd22a71128626fc93a63361ce35514a13da66,"modified .travis.yml to set the PHANTOMJS_BINARY_PATH to 'phantomjs', to use the version on PATH"
jacksingleton,2014-01-27 00:46:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/354da0d0d28bcb030c91cbeb3edfb5e2d2defc26,354da0d0d28bcb030c91cbeb3edfb5e2d2defc26,Added test instructions to HACKING.md
jacksingleton,2014-01-27 00:44:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6504f5e3f6b0b00897243f53c0ea82873019209e,6504f5e3f6b0b00897243f53c0ea82873019209e,Added code to download phantomjs in setup_ubuntu.sh. Modified functional tests to use downloaded binary. Added hint in test.sh to run tests from vagrant
garrettr,2014-01-26 21:51:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5720314877577bc1af219afc2be6b384dc401f19,5720314877577bc1af219afc2be6b384dc401f19,"Merge pull request #286 from LordLandon/develop

some fixes to setup_ubuntu"
LordLandon,2014-01-26 20:52:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1048761ffb17eb91d0f9f326b6491ba218737dc7,1048761ffb17eb91d0f9f326b6491ba218737dc7,test.py is now test.sh
LordLandon,2014-01-26 20:52:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/11fafa8c9199ec5da31839176601ea4c93315d34,11fafa8c9199ec5da31839176601ea4c93315d34,Fixing wrong bash syntax. Oops.
LordLandon,2014-01-26 20:50:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/70e33f6c23ff84a22fea6bb79cab8bd9780ac364,70e33f6c23ff84a22fea6bb79cab8bd9780ac364,Added .vagrant to gitignore
garrettr,2014-01-26 03:13:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/824dbad35546a1d113987c9da10222da7e5be5ea,824dbad35546a1d113987c9da10222da7e5be5ea,"Merge pull request #270 from jacksingleton/functional-tests

Functional tests"
jacksingleton,2014-01-26 02:36:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dec5a22577b951a816b32a991a7f90166d4d68e8,dec5a22577b951a816b32a991a7f90166d4d68e8,"Revert ""reverted travis.yml to just run unit tests""

This reverts commit 06e81b58e1b3c73ee9b61b3aeda6a8f5737baf07."
jacksingleton,2014-01-26 02:35:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/06e81b58e1b3c73ee9b61b3aeda6a8f5737baf07,06e81b58e1b3c73ee9b61b3aeda6a8f5737baf07,reverted travis.yml to just run unit tests
jacksingleton,2014-01-26 02:27:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/47a74b7841be7b174d8e34a1c98a883666a200a0,47a74b7841be7b174d8e34a1c98a883666a200a0,made tests verbose
jacksingleton,2014-01-26 02:20:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b2870ad04789039ad80fdc93791be20c8c065143,b2870ad04789039ad80fdc93791be20c8c065143,added comment for webdriver send_keys function
jacksingleton,2014-01-26 02:19:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b59dae81d061181f15350ab288ae0cb91cfb4592,b59dae81d061181f15350ab288ae0cb91cfb4592,"Merge branch 'develop' into functional-tests

Conflicts:
	setup_ubuntu.sh"
jacksingleton,2014-01-26 02:15:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00df1d6afac4a26f1026f63be0e156b4e9da251a,00df1d6afac4a26f1026f63be0e156b4e9da251a,updated travis to run new test.sh script
jacksingleton,2014-01-26 02:11:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/94925e3052ee16e5e818876fe07620fd3c619e83,94925e3052ee16e5e818876fe07620fd3c619e83,"moved all tests into a 'tests' folder, tests should now be ran using 'test.sh'"
garrettr,2014-01-26 00:30:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9250cb3923782179daec63908a96580666496017,9250cb3923782179daec63908a96580666496017,"Merge pull request #276 from ageis/develop

Recommend encrypted LVM"
garrettr,2014-01-26 00:02:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/65293d787c02a2b913041040dcdffc6ce94f7674,65293d787c02a2b913041040dcdffc6ce94f7674,"Merge pull request #271 from ternus/ternus-setup-script

Improve setup_ubuntu.sh"
jacksingleton,2014-01-25 22:55:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/279c4cd1ed0886bad7f2ef11d9581fd9963ce21a,279c4cd1ed0886bad7f2ef11d9581fd9963ce21a,functional tests now run against the test environment
jacksingleton,2014-01-25 22:07:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7be802b46e507648993a46ec42b2e165daefac5d,7be802b46e507648993a46ec42b2e165daefac5d,"added phantomjs install to the setup_ubuntu.sh script, HACKING.md, and .travis.yml"
jacksingleton,2014-01-25 21:16:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/12a08af19506fdf1f6a5d07bb5532bf53902bae6,12a08af19506fdf1f6a5d07bb5532bf53902bae6,"Merge pull request #1 from Hainish/jacksingleton-functional-tests

Jacksingleton functional tests"
Hainish,2014-01-25 21:00:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b834c7df3ae11e8836f176b350ed55eea443308,7b834c7df3ae11e8836f176b350ed55eea443308,Adding test-requirement.txt to travis
Hainish,2014-01-25 20:42:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed8e52649623e0e1145ad9b6c7a685ec7ca225ed,ed8e52649623e0e1145ad9b6c7a685ec7ca225ed,Merge branch 'functional-tests' of https://github.com/jacksingleton/securedrop into jacksingleton-functional-tests
PabloCastellano,2014-01-25 19:53:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99a915dd27c8f773166ed820fe417b713d639dc9,99a915dd27c8f773166ed820fe417b713d639dc9,Some improvements in documentation and fix image links
jacksingleton,2014-01-25 19:10:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/379516b266805f6e6c85b84240d19369de732223,379516b266805f6e6c85b84240d19369de732223,"removed config files, oops"
ternus,2014-01-25 19:06:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81bb5c70f4b751b8eeeb7aa7f113c01551133b7c,81bb5c70f4b751b8eeeb7aa7f113c01551133b7c,Set mysql password directly. Makes it possible to run setup_ubuntu.sh multiple times.
jacksingleton,2014-01-25 19:05:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac7764eaffd08f2030cd3d73441603ab9e949774,ac7764eaffd08f2030cd3d73441603ab9e949774,added use_reloader=False to app.run calls to prevent the functional tests running themselves two extra times
ternus,2014-01-25 19:05:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fd7779d06aedcced6a7d7595272a9c525af60948,fd7779d06aedcced6a7d7595272a9c525af60948,Pull dependencies from install_files in setup_ubuntu.sh.
ternus,2014-01-25 18:50:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d57efd1f82f82143850b8e6611efc41655ab182d,d57efd1f82f82143850b8e6611efc41655ab182d,"Update deb-package requirements to include libssl-dev and libffi-dev.

libssl-dev is required for compiling the scrypt python module.
libffi-dev is required for cffi, which is a requirement for bcrypt."
Hainish,2014-01-25 18:28:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f5c09d9d138b8d52b8fa5067d27c3e5abf06485,6f5c09d9d138b8d52b8fa5067d27c3e5abf06485,Fixing issue with images not displaying on chrome when logged in
dolanjs,2014-01-25 18:02:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87115a2b77d24ba53031ae6276cf4bf1b0c6fc7f,87115a2b77d24ba53031ae6276cf4bf1b0c6fc7f,added localhost to localhost udp iptables rules for monitor server
jacksingleton,2014-01-22 01:43:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf6aaebd9165927486e957457087831a5d8f5183,bf6aaebd9165927486e957457087831a5d8f5183,config
jacksingleton,2014-01-20 23:58:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c52ce68e3fd7b65894c90efad6676072fac24fc,0c52ce68e3fd7b65894c90efad6676072fac24fc,Merge remote-tracking branch 'origin/develop' into functional-tests
jacksingleton,2014-01-20 01:56:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c99641eb65df3fc65e412ee6343ee30f975935d,6c99641eb65df3fc65e412ee6343ee30f975935d,added test-requirements.txt to HACKING and setup_ubuntu. removed redundant test dependencies from source and document requirements
jacksingleton,2014-01-20 01:07:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f101643fc423f093047bb6ca6215d2d36976171,4f101643fc423f093047bb6ca6215d2d36976171,"added basic functional tests, refactored some common test logic into test_setup.py"
dolanjs,2014-01-17 18:21:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/485cfe92be0a5c37fcb9f6ebdc71d227fdf3e443,485cfe92be0a5c37fcb9f6ebdc71d227fdf3e443,removes validation for authenticated tor hidden service users
Hainish,2014-01-16 01:57:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3caaa8c42cf08791017c42dce2cb18f4afbfb627,3caaa8c42cf08791017c42dce2cb18f4afbfb627,Removing specific reference to branch displays badge for whichever branch you're currently viewing
Hainish,2014-01-16 01:54:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da611d82feebe11d1b262abf33262045a7168bfc,da611d82feebe11d1b262abf33262045a7168bfc,"Merge pull request #263 from moredip/add-travis-badge

Add travis badge to README"
moredip,2014-01-15 23:34:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0cc9307f4113abcee4213be7528267702987fa47,0cc9307f4113abcee4213be7528267702987fa47,Add travis build status badge to README
dolanjs,2014-01-16 01:06:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/549738cac675e63030a0d32c688a1f6794028615,549738cac675e63030a0d32c688a1f6794028615,added iptables rule for ntp
Hainish,2014-01-12 20:57:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e2164af3286c6e5c3a4dad20c9bc890f0a4278fe,e2164af3286c6e5c3a4dad20c9bc890f0a4278fe,Updating setup_ubuntu.sh to replace scrypt peppers in config files.  Removing replacement of old bcrypt salts.
Hainish,2014-01-12 20:49:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03f6915fd313fc219c6a50037256764a525f7406,03f6915fd313fc219c6a50037256764a525f7406,Adding `mkdir` command back to HACKING.md
Hainish,2014-01-12 08:10:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/51b0409b82c46904279f7b6691af7ed9f6c5cca4,51b0409b82c46904279f7b6691af7ed9f6c5cca4,adding a travis yaml file for ci
garrettr,2014-01-10 05:09:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e6a982e8ec77d1bcbb65af768df38e19341207ad,e6a982e8ec77d1bcbb65af768df38e19341207ad,"Merge pull request #248 from dolanjs/scrypt_install_changes

install script update for scrypt"
garrettr,2014-01-10 03:07:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/561c610c9a451c1f0fd20f39a3eacddf08173e71,561c610c9a451c1f0fd20f39a3eacddf08173e71,"Merge pull request #246 from diracdeltas/feature/external-links

Use meta-refresh to clear referer, add external links back"
dolanjs,2014-01-09 18:09:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d5872029ef618b0d2f52c8f92078e71987fd8d4,1d5872029ef618b0d2f52c8f92078e71987fd8d4,"updated install script for scrypt
apparmor update for scrypt"
diracdeltas,2014-01-09 10:29:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f4aa0ef3c9040b6aadfdb2d4a02dc5de0c9d071c,f4aa0ef3c9040b6aadfdb2d4a02dc5de0c9d071c,Confirm before bulk deletes too
diracdeltas,2014-01-09 10:24:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/20f4c43054458815e2a73b236a0179747eaa3066,20f4c43054458815e2a73b236a0179747eaa3066,Confirm before deleting collection
diracdeltas,2014-01-09 10:01:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/06912a2dcef639a0329e1151bbf083c6acb1ec62,06912a2dcef639a0329e1151bbf083c6acb1ec62,"Avoid namespace pollution, add comments"
diracdeltas,2014-01-09 09:51:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d1166330d7c94a5c1b5b32b628e1fb201443e054,d1166330d7c94a5c1b5b32b628e1fb201443e054,Use custom redirector for external links
diracdeltas,2014-01-09 09:35:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d6339c8a41af53bd21f8a7bf3e7e1114b53e2e4,0d6339c8a41af53bd21f8a7bf3e7e1114b53e2e4,"Add custom redirector to clear referers

We removed external links in #206 because Tor Hidden Services leak
referers (https://trac.torproject.org/projects/tor/ticket/9623).
Obviously this isn't ideal because of the usability tradeoff.

One way to get around this without using Javascript is to replace all
external links with a link to a blank SecureDrop page that does a meta
refresh to the external link, since meta refreshes always clear referer."
diracdeltas,2014-01-09 09:30:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5bbe3050034465e88d399602abed5151f94cb2c,b5bbe3050034465e88d399602abed5151f94cb2c,More external links
diracdeltas,2014-01-09 09:22:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/34b8205308d0b7795dcd5d24c642e10e2060aa42,34b8205308d0b7795dcd5d24c642e10e2060aa42,"Revert ""remove direct links to external sites from source templates, fixes #195""

This reverts commit 44a04a22a32cd5df84476dd6afdc7aa74464f730.

Conflicts:

	securedrop/source_templates/howto-disable-js.html"
garrettr,2014-01-08 23:18:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37e0e3c4fe62b00afcfb5c4292a6d4cd42443e9c,37e0e3c4fe62b00afcfb5c4292a6d4cd42443e9c,"Merge pull request #245 from garrettr/scrypt

Scrypt"
garrettr,2014-01-08 23:04:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d8901f776b36e135ed15276b8fb20a951050e121,d8901f776b36e135ed15276b8fb20a951050e121,rename salt to pepper to clarify usage
garrettr,2014-01-06 03:28:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/37f7ba59ef4eeb2eae2eb1179c73438d29680c9f,37f7ba59ef4eeb2eae2eb1179c73438d29680c9f,"remove bcrypt from, add scrypt to, pip requirements"
garrettr,2014-01-06 03:25:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b3dc92cf26b971ddd572bc64f00da7eddcba8dd2,b3dc92cf26b971ddd572bc64f00da7eddcba8dd2,"Merge pull request #243 from yozel/patch-1

Fix wrong character in name of a variable"
garrettr,2014-01-06 03:24:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/40a4bb0194178797ba67a6bf53feaf33fb9514b2,40a4bb0194178797ba67a6bf53feaf33fb9514b2,"Merge pull request #244 from dolanjs/apparmor-delete-codename-fix

updated apparmor profile for deleting the codename"
garrettr,2014-01-06 03:23:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2a1067bb2a6705cca3009d8cc89b8fa90015577b,2a1067bb2a6705cca3009d8cc89b8fa90015577b,"Merge pull request #242 from yozel/master

Fix SMTP validation error on App Server"
garrettr,2014-01-06 02:17:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f2f9014a7e11323e73dc0df4a8b78bc465eaa8d,2f2f9014a7e11323e73dc0df4a8b78bc465eaa8d,optimize scrypt cost parameters for tests
garrettr,2014-01-06 02:01:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8484eca00a32872c1305044933525b2ac14702aa,8484eca00a32872c1305044933525b2ac14702aa,reorganize module imports
garrettr,2014-01-06 01:58:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/93be325ad879d493ebf2de40276b05c55e8c760c,93be325ad879d493ebf2de40276b05c55e8c760c,"replace bcrypt with scrypt

also rearranges some code in crypto_util.py for better readability (all code
that executes at module level comes first), and removes some unused code."
Hainish,2014-01-05 07:24:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eae69403f396420ef44957a64a413bc17c3b41dd,eae69403f396420ef44957a64a413bc17c3b41dd,"path for environment in config should be relative to the running instance, not to the imported module path"
dolanjs,2013-12-27 23:40:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1233b3caaa5d0711592df3c386abd05169721120,1233b3caaa5d0711592df3c386abd05169721120,updated apparmor profile for deleting the codename pull #230
garrettr,2013-12-27 22:36:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/41177090718547f6aad35111cf8c4b03aef6cff3,41177090718547f6aad35111cf8c4b03aef6cff3,"Merge pull request #230 from garrettr/feature/189/delete-codenames

Feature/189/delete codenames"
garrettr,2013-12-27 21:29:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8e00d55ef156e0138e6350b97decd86bfb4d7f4,e8e00d55ef156e0138e6350b97decd86bfb4d7f4,clarify delete collection warning
garrettr,2013-12-23 17:43:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b03007413395b560d33a5bf5fa15e3b2748d4e5,9b03007413395b560d33a5bf5fa15e3b2748d4e5,add delete collection checkboxes to index
garrettr,2013-12-22 20:35:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5625bfad78b0995817b9851160e537b3764f6f28,5625bfad78b0995817b9851160e537b3764f6f28,move delete buttons to collection pages
garrettr,2013-12-18 03:15:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00632b4c0c897b3bcdadb1a20539750cd7fa6c35,00632b4c0c897b3bcdadb1a20539750cd7fa6c35,unit test deleting a collection
garrettr,2013-12-16 08:31:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5aa5e02476f6e17a12648814e09290da77524242,5aa5e02476f6e17a12648814e09290da77524242,add delete buttons to main collection list
garrettr,2013-12-27 22:30:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0b905aa89dbcb11df7e2de08beb503c76865ec7f,0b905aa89dbcb11df7e2de08beb503c76865ec7f,"Merge pull request #239 from garrettr/feature/191/logging

add logging using the standard library module"
garrettr,2013-12-27 22:30:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/46e079d1f327007c6a759658d252862c15b8a3e3,46e079d1f327007c6a759658d252862c15b8a3e3,"Merge pull request #240 from garrettr/feature/190/why-disable-js

add explanation for disabling javascript. closes #190"
garrettr,2013-12-27 20:42:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a1dafbabab9557b81432e600ec37a1232a9cb417,a1dafbabab9557b81432e600ec37a1232a9cb417,"Merge pull request #226 from ageis/patch-4

Reference to server_setup.sh, step numbers is outdated"
garrettr,2013-12-25 00:23:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d14aec1719c4ce11331c01a8cc4742c9f0dbc886,d14aec1719c4ce11331c01a8cc4742c9f0dbc886,"Merge pull request #241 from dolanjs/fix-quotes

fix quotes in apache config"
dolanjs,2013-12-24 18:35:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8cfdcd4f75eec8e8719ccedd78d16ac832ce5562,8cfdcd4f75eec8e8719ccedd78d16ac832ce5562,fix quotes in apache config
garrettr,2013-12-24 04:52:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9250c590bf4255a7471b7fc87027c3fd40d959df,9250c590bf4255a7471b7fc87027c3fd40d959df,"Merge pull request #238 from dolanjs/iptables-outbound

Outbound Iptable rules and apparmor update. Fixes #193, fixes #203, fixes #224."
garrettr,2013-12-24 04:49:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/955a31ee8033f7ded6efd1f82167977cb67407c7,955a31ee8033f7ded6efd1f82167977cb67407c7,"add explanation for disabling javascript

Improves the links in the warning popup so they go right to the intended
content. Cleans up the styles on the info page."
garrettr,2013-12-23 20:49:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/59ba7aab217ed6241ce32b0f0047f191e79157b8,59ba7aab217ed6241ce32b0f0047f191e79157b8,add logging using the standard library module
dolanjs,2013-12-20 21:15:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a266ae8aad2f08f9ba9d8f73117069614b1add6,1a266ae8aad2f08f9ba9d8f73117069614b1add6,"broke base.rules_v4 into separate files for each server
set uid and gid for users
added outbound iptables rules for the source/document groups
added missing tee -a build.log commands
updated file permissions/ownership to reflect uid/gid
took out the mysql database and replaced with sqlite
updated apparmor profiles for sqlite"
garrettr,2013-12-20 22:21:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d2edc71c6017fcfa463bc23b5796e5d1d0fb4de,6d2edc71c6017fcfa463bc23b5796e5d1d0fb4de,fixes from code review for #220
jacksingleton,2013-12-09 08:10:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f10a268b0deade138bd53517c1bb8945ec0b516,3f10a268b0deade138bd53517c1bb8945ec0b516,closes #197 - sanitize filename using werkzeug.secure_filename in source.py
jacksingleton,2013-12-09 07:05:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a43e55b3c40d079ffa573e4f2dff2c283c84e52f,a43e55b3c40d079ffa573e4f2dff2c283c84e52f,moved file/message saving logic to store.py for easier testing
garrettr,2013-12-20 22:01:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5f358548b75cd7ee37e5bab00b7f91a9d8f5622d,5f358548b75cd7ee37e5bab00b7f91a9d8f5622d,"Merge pull request #199 from dolanjs/apache-headers-fix

Apache config headers and error page fixes. Closes #107, fixes #192"
garrettr,2013-12-20 21:57:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/67c46c498b236647ac6275b4a6815d9979361791,67c46c498b236647ac6275b4a6815d9979361791,"Merge pull request #237 from garrettr/feature/194/fix-imprecise-store-verify

Fixes #194"
garrettr,2013-12-20 21:25:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45d88946fae7aad14294d70fd711f6f2ea9ae09d,45d88946fae7aad14294d70fd711f6f2ea9ae09d,tighten scope in store.verify
garrettr,2013-12-20 21:24:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f85dec321bbf6ed0a7b17cb06870b55bb4c14b93,f85dec321bbf6ed0a7b17cb06870b55bb4c14b93,"replace flawed commonprefix check with relpath

Adds a test (same PoC described in the audit)"
dolanjs,2013-12-19 23:29:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b971909a3c16433e895b8b9ed8b245756dc1ba5,9b971909a3c16433e895b8b9ed8b245756dc1ba5,"removed duplicate header
added pacing and comment"
dolanjs,2013-12-18 22:11:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0355d359d2a5f967c168745f244845ebdffbdb10,0355d359d2a5f967c168745f244845ebdffbdb10,copied same comments from source.site to document.site
dolanjs,2013-12-13 18:16:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0f2ca2cdea7fe6370ca1b31347bc17b1f19ac21c,0f2ca2cdea7fe6370ca1b31347bc17b1f19ac21c,"re-added x-xss-protection header
grouped the headers together
fixed caps

fixed caps"
dolanjs,2013-12-06 16:45:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5ca9d9344b9ceb05e28bde5aa4dd60e042acfafb,5ca9d9344b9ceb05e28bde5aa4dd60e042acfafb,changed `no-sniff` to `nosniff` thanks @Taipo issue #107
dolanjs,2013-12-04 06:04:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/16f3ef24eabd46c20670a168beeb4505e6dcd96a,16f3ef24eabd46c20670a168beeb4505e6dcd96a,"Related it issue #107
Adds custom error pages all pointing to the /notfound page so the defined headers are sent for error pages
Adds Pragma, Expires, X-Content-Type, X-download, X-Content-Security policy, Content-Security-Policy to apache configs
Removes X-XSS-Protection header from apache configs"
garrettr,2013-12-20 20:19:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dddcc5fb649a843840398850fd2279989ef35a5c,dddcc5fb649a843840398850fd2279989ef35a5c,"Merge pull request #236 from dolanjs/fix-default-answer

Changed default answer for question in install scripts"
dolanjs,2013-12-19 23:48:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/675aaa4329493a942bd495fa43c8d1085e0f0863,675aaa4329493a942bd495fa43c8d1085e0f0863,changed default answer for the wait for app server installation question in the ossec install script
garrettr,2013-12-19 00:46:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98a20aba469a197b917efbbe493354113e4f7f78,98a20aba469a197b917efbbe493354113e4f7f78,"Merge pull request #232 from dolanjs/fix-workstation-names

Fixed confusing code names, fixes #170"
dolanjs,2013-12-18 18:33:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b6a794062e41d9521d57b5fbad99f852d3a722f3,b6a794062e41d9521d57b5fbad99f852d3a722f3,"Changed refs to source/journalist website to source/document interface, and Source server to App server"
garrettr,2013-12-18 23:20:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d53df6b9fab8abb18dbd79e27e67bf51f842248,9d53df6b9fab8abb18dbd79e27e67bf51f842248,"Merge pull request #234 from dolanjs/fix-google-auth-permissions

Ensure .google_authenticator file permissions are set. Fixes #201"
garrettr,2013-12-18 23:19:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15fe0a89f03f4e2e1119f9ebfe59950f4da1f60f,15fe0a89f03f4e2e1119f9ebfe59950f4da1f60f,"Merge pull request #233 from dolanjs/fix-ubuntu-config-doc

Remove obsolete documentation from ubuntu_config.md, fixes #216"
dolanjs,2013-12-18 22:25:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/16152bcee6ba3f834bb2eef3d478c39eb7a9d1d8,16152bcee6ba3f834bb2eef3d478c39eb7a9d1d8,added line to ensure that .google_authenticator file permissions are set to 400
garrettr,2013-12-18 22:05:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b3486e262f2a4bf7812606bcc01fe61649f068d5,b3486e262f2a4bf7812606bcc01fe61649f068d5,"Merge pull request #231 from dolanjs/file-upload-size

Set the max request body size in the CONFIG_OPTIONS file. Fixes #223."
dolanjs,2013-12-18 20:10:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d3a7a09bcfb81383983a34b24df6a98ba35938d1,d3a7a09bcfb81383983a34b24df6a98ba35938d1,removed ref to configuring resolve.conf which is not needed with current install
dolanjs,2013-12-16 19:33:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1c9722db0af4e60fc9b8eda3659f11950e80899c,1c9722db0af4e60fc9b8eda3659f11950e80899c,Set the max request body size in the CONFIG_OPTIONS file
garrettr,2013-12-18 03:24:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7208878461a6b7782754846b9a79ba2529761fbb,7208878461a6b7782754846b9a79ba2529761fbb,"Merge pull request #219 from Hainish/issue211

Makes config a module, with different files for development / production / test"
Hainish,2013-12-16 01:29:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/62dc57d3437c618b911430b27006b5a812f0e518,62dc57d3437c618b911430b27006b5a812f0e518,Fixed unneeded create database for test in setup_ubuntu.sh
Hainish,2013-12-16 01:27:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/395965f9a4b5ed370db431454ffd5d28ef996ab2,395965f9a4b5ed370db431454ffd5d28ef996ab2,Removing line changing SECUREDROP_ROOT dir for test.py.example in setup_ubuntu.sh
Hainish,2013-12-16 01:24:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a3247a0080314d144ba787bf4dcc11a8245dbecb,a3247a0080314d144ba787bf4dcc11a8245dbecb,abspath should refer to securedrop/securedrop path
garrettr,2013-12-15 04:23:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4096b33e5ba573b4b7d3302fb02d3069b3af4994,4096b33e5ba573b4b7d3302fb02d3069b3af4994,"Merge pull request #222 from ageis/patch-3

Fix some typos/spelling/caps"
garrettr,2013-12-15 04:21:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fbaaa4a3a4fd94e732717ef7379ba03adda62e53,fbaaa4a3a4fd94e732717ef7379ba03adda62e53,"Merge pull request #221 from ageis/patch-2

Fixed typos"
garrettr,2013-12-15 03:59:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d18983d3c993c5ac9a93eae8abc9713b6d894337,d18983d3c993c5ac9a93eae8abc9713b6d894337,"Merge pull request #217 from ageis/patch-1

Corrected some typos, capitalization and consistency"
garrettr,2013-12-15 03:30:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/23c24618e091718153b31e68b07a249bfff877b7,23c24618e091718153b31e68b07a249bfff877b7,"Merge pull request #214 from dtauerbach/master

Resolve issue #198"
dtauerbach,2013-12-10 05:11:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fba2078134eb3af6842353f18ea93c31260b986e,fba2078134eb3af6842353f18ea93c31260b986e,Merge main repo master into this pull request
Hainish,2013-12-09 18:25:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/465d462d3944b28d883ed1d2b3b98ac1732160da,465d462d3944b28d883ed1d2b3b98ac1732160da,Update HACKING.md to reflect new config file locations
Hainish,2013-12-09 06:55:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/455786d8a7198e7bcddf1059b4cd86e7a7fedd59,455786d8a7198e7bcddf1059b4cd86e7a7fedd59,"MySQL credentials should be replaced with the actual created user in
the setup_ubuntu.sh script for the development environment, not the
test environment."
Hainish,2013-12-09 04:47:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/40c577cb19647ba6122635d1f4c9799ec753e547,40c577cb19647ba6122635d1f4c9799ec753e547,Modifying setup_ubuntu.sh to modify config files in new location
Hainish,2013-12-09 02:10:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/256874ee35aef7c5575844a83e215f92fe91263c,256874ee35aef7c5575844a83e215f92fe91263c,"Moves the config file to a config submodule.  This allows us to easily
separate out the configs for each environment, as well as the config
vars that are shared.  This is also structured to retain the ease by
which setup_ubuntu.sh replaces vars using sed, by having different
environment configs being separated into different files."
garrettr,2013-12-09 04:58:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/92bd7647c0295867ed178f3ea0dcc2f5bea4c23d,92bd7647c0295867ed178f3ea0dcc2f5bea4c23d,"Merge pull request #188 from diracdeltas/fix/flag_keyerror

Fixes #185 and modifies tests to clear sessions whenever a source/journalist will likely close their browser."
garrettr,2013-12-09 04:46:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/03e594fe61da26648343e02f3581fbd0df4aae73,03e594fe61da26648343e02f3581fbd0df4aae73,Simpler solution to avoid KeyError
diracdeltas,2013-12-09 03:35:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c114fa21c32da23a8b068bba954eb07aa3f048a5,c114fa21c32da23a8b068bba954eb07aa3f048a5,"Remove unnecessary path check, add reasoning for _logout"
diracdeltas,2013-12-09 03:04:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1e3506339e2d5fb25fdba801b58a7c1daf4ff756,1e3506339e2d5fb25fdba801b58a7c1daf4ff756,Merge branch 'master' into fix/flag_keyerror
garrettr,2013-12-09 02:55:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/027ed06e736a69b5ef730b16ab5af2ef89ccd33b,027ed06e736a69b5ef730b16ab5af2ef89ccd33b,"Merge pull request #206 from pemulis/master

remove direct links to external sites from source templates, fixes #195"
dtauerbach,2013-12-09 02:55:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f7d33e53067c7515fdcb36967ec5589beff2c11a,f7d33e53067c7515fdcb36967ec5589beff2c11a,Fix location of flashed messages
dtauerbach,2013-12-09 02:45:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/446d9b49e4591a4ead402eaf2010dad866b03c40,446d9b49e4591a4ead402eaf2010dad866b03c40,Flash error to journalist if input is bad
dtauerbach,2013-12-09 02:44:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/55299b7d72eb64bc8bc541252fe8ab8b0aedde23,55299b7d72eb64bc8bc541252fe8ab8b0aedde23,Fix flashing for journalist base.html
dtauerbach,2013-12-09 02:22:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd2bfbadee5a9519827df4acba7e40c98b2d8db3,cd2bfbadee5a9519827df4acba7e40c98b2d8db3,Add flashing to journalist base.html
dtauerbach,2013-12-09 02:19:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd7888dbfce81006e4a01f1d91f29e44a4d44207,dd7888dbfce81006e4a01f1d91f29e44a4d44207,Sanitize journalist reply; test still broken
dtauerbach,2013-12-09 01:57:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8caebb4a2df4637a0d5cc971b32b5615ec3b8635,8caebb4a2df4637a0d5cc971b32b5615ec3b8635,Add validation on source side of journalist input
dtauerbach,2013-12-09 01:37:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6497dc72d794fe8cfa17f12bab6630b123d26b3e,6497dc72d794fe8cfa17f12bab6630b123d26b3e,Add failing test for issue 198
dtauerbach,2013-12-08 21:49:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e06f9244b917b9719c4531a061455cf60990a36,6e06f9244b917b9719c4531a061455cf60990a36,Warn people that they cannot use Percona with setup_ubuntu.sh
dtauerbach,2013-12-08 21:49:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1141aaae56b3033e31298c7ce78f1efd491e3cdb,1141aaae56b3033e31298c7ce78f1efd491e3cdb,Warn people that they cannot use Percona with setup_ubuntu.sh
diracdeltas,2013-12-03 12:22:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/18887e408b9b559bd3269cd65115a64a977b4944,18887e408b9b559bd3269cd65115a64a977b4944,"Add session-clearing to all tests that need it

Add test for logout (clearing a session) in the source
unit tests. Also clear sessions in integration tests
whenever a source/journalist is probably going to
close their browser."
diracdeltas,2013-12-03 11:35:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3d87bea0021d80ddcadc5a6bff3a6a93596837b9,3d87bea0021d80ddcadc5a6bff3a6a93596837b9,"Simulate session logout in test_reply

Realistically, clients will clear sessions between submitting
docs / checking for replies, so we should simulate that.
test.py will now fail before 195d0ef and pass after, as
expected."
diracdeltas,2013-12-03 01:42:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a4e38377a2c94105da7c29c4bf509e47b1f779f1,a4e38377a2c94105da7c29c4bf509e47b1f779f1,"Quick fix for 'KeyError: ""flagged""' on new session

Fixes #185. We need to set the flagged variable on login, since
most people will clear sessions between checking for replies."
pemulis,2013-12-07 05:54:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/896401b110b45352514557fbc3c2d6da7ab3cb54,896401b110b45352514557fbc3c2d6da7ab3cb54,"remove direct links to external sites from source templates, fixes #195"
Hainish,2013-12-08 05:33:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/69e3e1d1da2836d31de63cddc7732218f8724ce9,69e3e1d1da2836d31de63cddc7732218f8724ce9,Fixing error introduced in e68561
dreid,2013-12-05 22:54:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/82e8c760a8154b1fb7ab87271f39a28414fbb8df,82e8c760a8154b1fb7ab87271f39a28414fbb8df,Fix some typos.
Hainish,2013-12-08 02:50:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7439c964a515845996d8caafbf46eac7d6271df1,7439c964a515845996d8caafbf46eac7d6271df1,"Fix: when viewing the flag route on journalist interface, use the database designation for the source"
Hainish,2013-12-08 02:41:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e685619699f9119d99783b3f2d8a7b60e8d127ff,e685619699f9119d99783b3f2d8a7b60e8d127ff,"Fix: when downloading bulk documents on journalist interface, use the database designation for the source (closes #207)"
pemulis,2013-12-07 05:54:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/44a04a22a32cd5df84476dd6afdc7aa74464f730,44a04a22a32cd5df84476dd6afdc7aa74464f730,"remove direct links to external sites from source templates, fixes #195"
garrettr,2013-12-04 02:16:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f827e250a13916c1ef9f5272b0835464935c2cd1,f827e250a13916c1ef9f5272b0835464935c2cd1,"Merge pull request #186 from diracdeltas/fix/setup-ubuntu

Fix bugs in setup_ubuntu.sh"
diracdeltas,2013-12-03 12:22:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d0a4f5148d9a39ecdcb3f4ca192e9cd288816d8,9d0a4f5148d9a39ecdcb3f4ca192e9cd288816d8,"Add session-clearing to all tests that need it

Add test for logout (clearing a session) in the source
unit tests. Also clear sessions in integration tests
whenever a source/journalist is probably going to
close their browser."
diracdeltas,2013-12-03 11:35:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3aab45591f93ac1a0fc0869c911ce0ded3d4ad30,3aab45591f93ac1a0fc0869c911ce0ded3d4ad30,"Simulate session logout in test_reply

Realistically, clients will clear sessions between submitting
docs / checking for replies, so we should simulate that.
test.py will now fail before 195d0ef and pass after, as
expected."
diracdeltas,2013-12-03 01:42:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/195d0ef3e78a07407aed0146d9c50ddb35d38671,195d0ef3e78a07407aed0146d9c50ddb35d38671,"Quick fix for 'KeyError: ""flagged""' on new session

Fixes #185. We need to set the flagged variable on login, since
most people will clear sessions between checking for replies."
diracdeltas,2013-12-03 00:54:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da12f3c561a807d2bec5086eaae4ef0d59234cdc,da12f3c561a807d2bec5086eaae4ef0d59234cdc,"Fix bugs in setup_ubuntu.sh

Reflects splitting of requirements.txt into source-requirements.txt
and document-requirements.txt. Updates config before setting up
db tables so runtime tests pass."
garrettr,2013-12-02 16:45:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d5d1a1831a5ac79098c140670b76b7db65d1a66c,d5d1a1831a5ac79098c140670b76b7db65d1a66c,"Merge pull request #184 from dolanjs/interface-install-fix

Interface install fix"
dolanjs,2013-12-02 12:00:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7fbc343eae5ed7484a9f241ccba4aba4f9a133ef,7fbc343eae5ed7484a9f241ccba4aba4f9a133ef,changed ref to SOURCE_IP to APP_IP in the validation_CONFIG_OPTIONS
dolanjs,2013-12-02 09:45:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/33377c768fac8000bc8fa9687cd64bb8fe6d6d8a,33377c768fac8000bc8fa9687cd64bb8fe6d6d8a,set ownership and permissions for application code
dolanjs,2013-12-02 08:18:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d6b97bef3b7ace736aee81a7ac14feaac7d42b84,d6b97bef3b7ace736aee81a7ac14feaac7d42b84,removed secret value from being in build.log
dolanjs,2013-12-02 08:13:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0f3f21004e842af1801999c26f50707ed2094fb8,0f3f21004e842af1801999c26f50707ed2094fb8,fixed comment in document interface config.py
garrettr,2013-12-02 05:44:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/66a135a69958c1c1350b30aee0134d6d8d6752d7,66a135a69958c1c1350b30aee0134d6d8d6752d7,"Merge pull request #178 from diracdeltas/feature/bcrypt-gpg-passphrase

bcrypt hash gpg passphrases closes #171"
diracdeltas,2013-12-02 05:29:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5a819661fd68f229eabd5566ad7395f31b3ba6ab,5a819661fd68f229eabd5566ad7395f31b3ba6ab,Do runtime tests on crypto_util import
diracdeltas,2013-12-02 05:12:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2861f6181ac914c036fc07ef5e0065d28ba8f5f8,2861f6181ac914c036fc07ef5e0065d28ba8f5f8,"Merge branch 'master' into feature/bcrypt-gpg-passphrase

Conflicts:
	install_files/document.config.py
	install_files/interface_install.sh"
garrettr,2013-12-02 04:39:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b55821f0a610972acce16805df67cc07c856170,8b55821f0a610972acce16805df67cc07c856170,"Merge pull request #182 from diracdeltas/fix/gpg_docs

Fixes to documentation and install scripts"
diracdeltas,2013-12-02 04:36:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/84f680b74e07bdede7a43b363f0df3d21702c930,84f680b74e07bdede7a43b363f0df3d21702c930,Remove obsolete DocREADME.md
diracdeltas,2013-12-02 02:45:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/63cc754f30efa8e2759c8c64d4ea4943e6856d83,63cc754f30efa8e2759c8c64d4ea4943e6856d83,Add new screenshots for 0.2
diracdeltas,2013-12-02 03:35:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b5ed89c15ff41900980abea779774b5a9427c3f,5b5ed89c15ff41900980abea779774b5a9427c3f,"Merge branch 'master' into fix/gpg_docs

Conflicts:
	securedrop/DocREADME.md
	securedrop/example_config.py"
diracdeltas,2013-12-02 02:45:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/910de2ca9f310cfb1e35447127b06addbe1d0434,910de2ca9f310cfb1e35447127b06addbe1d0434,Add new screenshots for 0.2
garrettr,2013-12-02 03:01:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ebf006068026c87a7a073f526454cd7120afdb6d,ebf006068026c87a7a073f526454cd7120afdb6d,Merge branch 'big-merge'
garrettr,2013-12-02 02:20:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3074b8f40d8e41d42da5d17fdeee80d84db91c55,3074b8f40d8e41d42da5d17fdeee80d84db91c55,"Merge pull request #163 from garrettr/feature/no-unsafe-codename-lengths

remove option to use codenames with less than 7 words - closes #162"
diracdeltas,2013-12-02 01:47:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f29744e354cb05b7e5a5642d70954fe21f15cde3,f29744e354cb05b7e5a5642d70954fe21f15cde3,"Add runtime test BCRYPT_GPG_SALT != BCRYPT_ID_SALT

If BCRYPT_GPG_SALT and BCRYPT_ID_SALT are the same, the source
GPG passphrase is no longer secure. We should add tests to
check for unlikely conditions like this one that might arise
at runtime."
diracdeltas,2013-12-02 00:23:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e1354eac4a9c524cfa397b9aa9bb008bbb08e6e2,e1354eac4a9c524cfa397b9aa9bb008bbb08e6e2,"bcrypt hash GPG passphrase for key stretching

Implements https://github.com/freedomofpress/securedrop/issues/171.
Minor change to setup_ubuntu.sh to it make it work when there are
multiple keys in the journalist keyring (happens sometimes
during testing)."
garrettr,2013-12-01 23:52:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6914166b66dced11868ce1c058b2fe9e31df4ed4,6914166b66dced11868ce1c058b2fe9e31df4ed4,"Merge pull request #177 from garrettr/feature/142/journalist-pubkey

Feature/142/journalist pubkey closes #142"
garrettr,2013-12-01 23:39:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/13a2f73dadbf136a690af6f231f708badb4072b0,13a2f73dadbf136a690af6f231f708badb4072b0,"Merge pull request #174 from garrettr/feature/64/internal-naming-to-securedrop

Feature/64/internal naming to securedrop closes #64"
garrettr,2013-12-01 23:36:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/919a63e2926bc2aaba704f86668d0a13fa1068aa,919a63e2926bc2aaba704f86668d0a13fa1068aa,"remove deaddrop reference from test/development keys

The uid now references Securedrop and has a better warning message (""DO NOT USE
IN PRODUCTION"" instead of ""DO NOT USE"", which was kind of hypocritical). The
fingerprint has not changed."
garrettr,2013-12-01 23:10:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9ae809e382f5709643b5f8a2942978e68244644b,9ae809e382f5709643b5f8a2942978e68244644b,"little fixes for custom header image merge

* rename variables to be more descriptive
* use getattr so you don't have to have CUSTOM_HEADER_IMAGE defined in
config.py (so old config files will still work)
* remove some trailing whitespace"
garrettr,2013-12-01 22:37:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ab8d8e1bd310cea2746d25a79a022030e49825d,6ab8d8e1bd310cea2746d25a79a022030e49825d,Merge branch 'theming' of https://github.com/micahflee/securedrop into micahflee-theming
garrettr,2013-12-01 17:36:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/079e6adb6107ea6d3033cf9945623f5e8d02c709,079e6adb6107ea6d3033cf9945623f5e8d02c709,"add ""why?"" page for downloading pubkey

Quick explanation of why you might want to download the public key.

Has some instructions for sources to encrypt their own submissions (linux/mac
only, assumes you can use the command line)."
garrettr,2013-11-30 03:20:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/254ddf07dffda90775af37624540eed7c139301c,254ddf07dffda90775af37624540eed7c139301c,"add download link for journalist pubkey, started info page"
garrettr,2013-12-01 15:30:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4a78afd71e5d25790c3ad2be573f298bef2fc0ab,4a78afd71e5d25790c3ad2be573f298bef2fc0ab,update application README
garrettr,2013-11-30 23:45:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8059ca9e34e1f0b23d1afaf7d5104b3a68dc9b18,8059ca9e34e1f0b23d1afaf7d5104b3a68dc9b18,"remove ref to deaddrop, and fake email from uid

Since the reference to deaddrop was part of the fake email address, it made
sense to remove them both since the fake email was not actually needed.
I modified getkey so it should still work, even if used with reply keypairs
generated with previous versions of securedrop (they'll still have the
hashed codename in their uid)."
garrettr,2013-11-30 23:44:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2876ca041d5f6c58872d5126176f886791b26ec6,2876ca041d5f6c58872d5126176f886791b26ec6,"remove refs. to deaddrop, rewrite for newest config defaults, and reformat"
garrettr,2013-11-30 23:43:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b49ff8f78547749af20c8b5dde537382ef4e8964,b49ff8f78547749af20c8b5dde537382ef4e8964,remove misc. refs to deaddrop
garrettr,2013-11-30 23:42:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58b5d6fda5ea0d72355f470b2d186408b98f42fa,58b5d6fda5ea0d72355f470b2d186408b98f42fa,delete obsolete documentation files
micahflee,2013-12-01 03:10:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb92e835202f2a74096cbec957880d2a953c6bbc,eb92e835202f2a74096cbec957880d2a953c6bbc,add support for theming to journalist interface too (#67)
micahflee,2013-12-01 03:05:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97e4e2386c3a5064a06007feaec99eef640ad37c,97e4e2386c3a5064a06007feaec99eef640ad37c,"added rudimentary support for theming. fixes #67

Conflicts:
	securedrop/example_config.py"
Hainish,2013-12-01 02:16:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c76d12734b07e8fa523175eb0fdc5c85acad9318,c76d12734b07e8fa523175eb0fdc5c85acad9318,Changing HACKING.md to simplify and update
micahflee,2013-12-01 02:14:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0163bc62c134c794346b842eab8a0e932637dcca,0163bc62c134c794346b842eab8a0e932637dcca,installation instructions formatting
micahflee,2013-12-01 02:10:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/19f0f212d07d453eb157167a09621799524822f8,19f0f212d07d453eb157167a09621799524822f8,python dep instructions have changed
micahflee,2013-12-01 01:47:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d03956c6e97b5540a5596cd3567169caa76d14ab,d03956c6e97b5540a5596cd3567169caa76d14ab,more install documentation updates
micahflee,2013-12-01 01:39:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f4eccd1b475808547de8fdb220df3f99c32c80fe,f4eccd1b475808547de8fdb220df3f99c32c80fe,renamed validate_CONFIG_OPTIONS.sh to validate_CONFIG_OPTIONS
micahflee,2013-12-01 01:19:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5771d9f03450694b2f56494780a879e193ae0c4c,5771d9f03450694b2f56494780a879e193ae0c4c,Merge branch 'install-script-hotfix' of https://github.com/dolanjs/securedrop into fix/gpg_docs
micahflee,2013-12-01 01:18:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ecf8d7d0eba20a7c55794bbd07c46464fc477199,ecf8d7d0eba20a7c55794bbd07c46464fc477199,updated monitor server CONFIG_OPTIONS docs
dolanjs,2013-12-01 01:16:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8106ad2c34576ae9c974718e6bd893f88f55baec,8106ad2c34576ae9c974718e6bd893f88f55baec,"defined the nouns.txt and adjectives.txt in the config.py file for the document interface
and added the mysql portion to the document.config.py file"
micahflee,2013-12-01 01:09:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4867e3745692bb1e911aaa33e062d756eab1bfd7,4867e3745692bb1e911aaa33e062d756eab1bfd7,made CONFIG_OPTIONS more clear
micahflee,2013-12-01 01:02:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b08c16055066396614b0329cb3376e9eec6536d,8b08c16055066396614b0329cb3376e9eec6536d,"Merge branch 'install-script-hotfix' of https://github.com/dolanjs/securedrop into fix/gpg_docs

Conflicts:
	CONFIG_OPTIONS
	install_files/ossec_install.sh"
micahflee,2013-12-01 00:56:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3999cda1ebdb0bcc6004c9f34b7b8147ea68b75c,3999cda1ebdb0bcc6004c9f34b7b8147ea68b75c,updating installation docs
micahflee,2013-12-01 00:25:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/178d4133328eb618b0fa113d7a011d4c6fcb08a4,178d4133328eb618b0fa113d7a011d4c6fcb08a4,"Merge branch 'fix/gpg_docs' of https://github.com/diracdeltas/securedrop into fix/gpg_docs

Conflicts:
	docs/install.md"
diracdeltas,2013-12-01 00:10:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ad6f818442e892f6bd49467bdb6b2878a63d7a8f,ad6f818442e892f6bd49467bdb6b2878a63d7a8f,"Fixes to install.md for v0.2 release.

* Normalize server naming
* Remove instructions about Tails on personal workstation
* Add better instructions for GPG and Google Authenticator
* Grammar and clarity fixes"
dolanjs,2013-12-01 00:09:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8267321d54f3b74099295634a2636145135c0217,8267321d54f3b74099295634a2636145135c0217,removed sudo command from mysql_install.sh
diracdeltas,2013-11-30 23:57:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/46a17e12473f9c4eb177851d50a4edfe26d01fca,46a17e12473f9c4eb177851d50a4edfe26d01fca,Rename SOURCE_IP to APP_IP
dolanjs,2013-11-30 23:32:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e8cf847e5cca6af16d77fbf3b757cf50f9c0e65e,e8cf847e5cca6af16d77fbf3b757cf50f9c0e65e,took the mysql specific parts of setup_ubuntu and put it in its own script
dolanjs,2013-11-30 22:29:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d5df621466d75ddb9cb2487f514ceef71445f739,d5df621466d75ddb9cb2487f514ceef71445f739,added mysql req to document-requirements.txt
dolanjs,2013-11-30 21:56:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c1a386fd51c9e8346076453c04d642b86e56eff5,c1a386fd51c9e8346076453c04d642b86e56eff5,"Merge branch 'master' into install-script-hotfix
adding mysql functionality"
micahflee,2013-11-30 21:54:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c90c83aa66076971ef933c3dc66d599927c7553f,c90c83aa66076971ef933c3dc66d599927c7553f,updated ubuntu install guide to use 2 servers
diracdeltas,2013-11-30 20:27:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a69752355c4510d7c4452ff571fd0dc0c72b3385,a69752355c4510d7c4452ff571fd0dc0c72b3385,Merge branch 'master' into fix/gpg_docs
garrettr,2013-11-29 20:44:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c64a8876a808d068dcc74f00197a00f89f8fb3a,0c64a8876a808d068dcc74f00197a00f89f8fb3a,fix test breakage from merging #172
garrettr,2013-11-29 20:36:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/24c2920dbb03f87d46e6c22a619e0d5b9460447d,24c2920dbb03f87d46e6c22a619e0d5b9460447d,"Merge pull request #172 from TheGlobalMail/instructions-text

text changes to clear things up for newbies"
garrettr,2013-11-29 17:40:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9560c794c9c97824487214d6cf89a53d5008ad99,9560c794c9c97824487214d6cf89a53d5008ad99,"Merge branch 'flask-rewrite' of https://github.com/jacksingleton/securedrop into jacksingleton

Conflicts:
	install_files/source.config.py
	securedrop/test.py
	setup_ubuntu.sh

This merge rebases on top of master. It also fixes the use of
NamedTemporaryFile, making it so deletion is handled automatically by the
class, and adding a prefix to the temporary filenames to make debugging easier.
Removed all references to TEMP_DIR throughout the codebase."
nsonnad,2013-11-28 03:32:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a0b63aed031f5764cface981e7ef9a271be79b88,a0b63aed031f5764cface981e7ef9a271be79b88,text changes to clear things up for newbies
jacksingleton,2013-11-28 00:52:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f69184804044661805397de873a2cd67158d489,9f69184804044661805397de873a2cd67158d489,changed tempfile.mkstemp() call to tempfile.NamedTemporaryFile(delete=False)
garrettr,2013-11-26 22:52:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0795fe78c86cad19eb7772ab0e851e36b159a09e,0795fe78c86cad19eb7772ab0e851e36b159a09e,"clean up dev setup script, config, and .gitignore"
dolanjs,2013-11-26 19:33:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5f0c5064f8e4bf907eb8bb0741e53a4d69c0e87,b5f0c5064f8e4bf907eb8bb0741e53a4d69c0e87,fixed interface_install.sh so that it displays the correct port for each interface
diracdeltas,2013-11-26 18:35:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a3a9fb48bc113acf0fb0feb9e088f04228ff74a4,a3a9fb48bc113acf0fb0feb9e088f04228ff74a4,Typo
diracdeltas,2013-11-26 18:33:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b609024bef4bbe9a607becd8722bdce98242e52,7b609024bef4bbe9a607becd8722bdce98242e52,Fix broken relative links
diracdeltas,2013-11-26 18:27:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a72f8e460017c82d6c93d96f5b1d67a8527f867e,a72f8e460017c82d6c93d96f5b1d67a8527f867e,First pass at GPG instructions
diracdeltas,2013-11-26 16:48:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8430b96431c39114c3e8f814cb0fa0c7222bbaff,8430b96431c39114c3e8f814cb0fa0c7222bbaff,Add brief explanations/links to install guide intro
dolanjs,2013-11-26 10:36:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/06564b1eab958441e969702594399cd317137998,06564b1eab958441e969702594399cd317137998,added some simple validation for CONFIG_OPTIONS file options
dolanjs,2013-11-26 09:07:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/263181bf1a1cb1784110edfe12784ee1e0c149bc,263181bf1a1cb1784110edfe12784ee1e0c149bc,replace spaces with commas for JOURNALIST_USERS prior to placing in torrc file.
dolanjs,2013-11-26 08:17:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fcfa43cbb6ada7ac7914b493cf9f17324fa66777,fcfa43cbb6ada7ac7914b493cf9f17324fa66777,working defining journalist users in the documents authenticated hidden service and apache configs
dolanjs,2013-11-26 05:43:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/69412d7f8efdf3aaac8c48d78dc52780fd79b597,69412d7f8efdf3aaac8c48d78dc52780fd79b597,added feature for to enter journalist names
dolanjs,2013-11-26 02:56:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e16b96006ad88b576e1029300a8fb33882915b61,e16b96006ad88b576e1029300a8fb33882915b61,broke up interface_install.sh into sep scripts
dolanjs,2013-11-26 01:20:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ea47311d7e0f91f896f4ee95b7975b95317cfbb6,ea47311d7e0f91f896f4ee95b7975b95317cfbb6,more journalist to document changes
dolanjs,2013-11-26 01:08:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/46a6471f9dbd9bd1f624f73e6eaf17d1b86c04a3,46a6471f9dbd9bd1f624f73e6eaf17d1b86c04a3,fixed document.apache2.conf
dolanjs,2013-11-25 22:57:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a51541f00acdac45996570aeb968df55c109e212,a51541f00acdac45996570aeb968df55c109e212,need to replace onion addresses for $JAIL.site files
garrettr,2013-11-25 04:23:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9f4d1ef595d74d20becbbc44f7876f890c878b0,d9f4d1ef595d74d20becbbc44f7876f890c878b0,"make sqlite the default database

I lied in the previous merge commit's message. This commit actually makes
sqlite the default database. This reduces the number of dependencies for the
development environment because sqlite is included with Python."
garrettr,2013-11-25 02:11:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d5dec77ab099f5121fe1099dcfd77d908f35d31c,d5dec77ab099f5121fe1099dcfd77d908f35d31c,Merge branch 'Hainish-feature/issue95'
garrettr,2013-11-25 02:04:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a8cfbb4b9f29ab0f4a832f36eb9a4304ef32d6af,a8cfbb4b9f29ab0f4a832f36eb9a4304ef32d6af,"Merge branch 'feature/issue95' of https://github.com/Hainish/securedrop into Hainish-feature/issue95

Conflicts:
	.gitignore
	securedrop/example_config.py
	setup_ubuntu.sh

This merge changes the default database settings so mysql is not required for
development (use the built-in sqlite instead). It also integrates the database
with the tests, using a temporary sqlite database instead of re-using an
existing databsae, which could cause problems.

If you experience errors related to missing tables after updating, make sure
you've updated your config with the database settings, then run `python -c
""import db; db.create_tables()""`."
dolanjs,2013-11-25 01:03:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f14042cde189306dfa427ab5dff37d32d602b18c,f14042cde189306dfa427ab5dff37d32d602b18c,add tor2web page and image to the source's interface apparmor profile
dolanjs,2013-11-25 00:48:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9bdba3a86c86bab01e36f0f05fce8dad75d29fa0,9bdba3a86c86bab01e36f0f05fce8dad75d29fa0,fixed caps force doc/source interfaces
dolanjs,2013-11-25 00:45:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d338acc99bb89fe259f6588918e1ba354f2ecaf,9d338acc99bb89fe259f6588918e1ba354f2ecaf,fixied display spacing
dolanjs,2013-11-25 00:12:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c9937dbbcf5c7f7b5f74a17b9744d633234f0539,c9937dbbcf5c7f7b5f74a17b9744d633234f0539,separated pip requirements.txt for each interface
dolanjs,2013-11-24 23:29:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/090a8ad856f8d5aeb6e326614de2f1c4fc2ee7b9,090a8ad856f8d5aeb6e326614de2f1c4fc2ee7b9,added spacing between outputline at end of production installation.sh
dolanjs,2013-11-24 23:14:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a5fa77a086671f354dc0c78f035a989474735622,a5fa77a086671f354dc0c78f035a989474735622,"changed config file names to reflect App Server, Document Interface, Source Interface"
dolanjs,2013-11-24 22:38:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a78facf0c5b3e70fd50109bb8c995ba7b389d327,a78facf0c5b3e70fd50109bb8c995ba7b389d327,"updated production_installation with correct server and interface names
updated the way the script display the onion addresses."
dolanjs,2013-11-24 22:25:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9e0975e751cfe3621fd1d1bc2bafec007823bf3e,9e0975e751cfe3621fd1d1bc2bafec007823bf3e,"Added warning to interface_install.sh about time
Changed order and updated comments in CONFIG_OPTIONS"
dolanjs,2013-11-24 22:03:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0a192a37e5988562991be2b00a7a0d5de52d8ecf,0a192a37e5988562991be2b00a7a0d5de52d8ecf,removed the parts for issue157 from the config.py files
dolanjs,2013-11-24 21:42:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b965b9d8d76a8aedce3b9de06b2e917d71648962,b965b9d8d76a8aedce3b9de06b2e917d71648962,"fixed server and interfaces names in install scripts
fixed tails port in use error
changed location to look for addtional scripts in the interface config.py files"
garrettr,2013-11-23 21:33:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/887f140d212ff6110e0526156e2161de31e64fba,887f140d212ff6110e0526156e2161de31e64fba,"Merge branch 'big-merge'

Conflicts:
	docs/install.md"
garrettr,2013-11-23 21:00:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/81fb50eb9317997ec22b9f852b9d11fbefde3182,81fb50eb9317997ec22b9f852b9d11fbefde3182,simplify definition/creation of data directories
garrettr,2013-11-23 18:53:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09e3d8e9fbf4fde18e58220b67fbb0ea48661454,09e3d8e9fbf4fde18e58220b67fbb0ea48661454,"Merge pull request #165 from dolanjs/bm-install-scripts

Updated (and tested) deployment scripts."
dolanjs,2013-11-23 03:03:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa6c90540d325fbb3c40686cb469c3f59c711c2d,aa6c90540d325fbb3c40686cb469c3f59c711c2d,added usage to production_install.sh
dolanjs,2013-11-23 01:03:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0bcf29ab5f75ef09a043c3d17402d8de4f7a0c95,0bcf29ab5f75ef09a043c3d17402d8de4f7a0c95,"updated install.md with new host names and install steps
updated fixes in the install scripts"
dolanjs,2013-11-20 23:22:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cdfa78e2cf00b5ab79db8245f5cf1b9d484e9b77,cdfa78e2cf00b5ab79db8245f5cf1b9d484e9b77,added rights for javascript/tor2web warnings in apparmor profiles
dolanjs,2013-11-20 20:34:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4f6ed88b4633ce752d15c92cc876ba4395a4956e,4f6ed88b4633ce752d15c92cc876ba4395a4956e,"added apache headers and rewrite rule need to test defense functionality
updated apparmor profiles for interfaces"
dolanjs,2013-11-20 15:02:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b16431265c10a8f1bc67b4e3466097c62b80a86,9b16431265c10a8f1bc67b4e3466097c62b80a86,added ossec and apparmor configs to repo and installation scripts
micahflee,2013-11-13 18:58:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2de22cfe9af5902959ee0590ee70e647a802da27,2de22cfe9af5902959ee0590ee70e647a802da27,Making all markdown links relative
garrettr,2013-11-20 01:40:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e94653490bcfe276c4ef24efe7ab39878e71c2a,6e94653490bcfe276c4ef24efe7ab39878e71c2a,remove option to use codenames with less than 7 words - closes #162
jacksingleton,2013-11-18 06:56:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/22ed0e0f4d3b0aed0046282b5a67e985d450663b,22ed0e0f4d3b0aed0046282b5a67e985d450663b,test_bulk_download now tests that the response data is a valid zip file
jacksingleton,2013-11-18 00:01:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8586553a6c80f837472bc947d1a62032e32154c0,8586553a6c80f837472bc947d1a62032e32154c0,removed references to TEMP_DIR from setup_ubuntu.sh
jacksingleton,2013-11-17 23:55:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c2f318518d15903b7d2dbadb596b1d1f45cebc18,c2f318518d15903b7d2dbadb596b1d1f45cebc18,removed reference to config.TEMP_DIR in test.py
Hainish,2013-11-15 22:38:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c8f5d7aa47e9938d6d39225af8a1787ed6c74a2c,c8f5d7aa47e9938d6d39225af8a1787ed6c74a2c,"This does two things. Most notably, it adds MySQL to SecureDrop. This is
necessary for the generation of source designations by the journalist.
HACKING.md and setup_ubuntu.sh have both been modified to add this piece
of infrustructure. setup_ubuntu requires no additional user input for
this step, and modifies config.py accordingly.

This adds an additional 2 pip dependencies:
MySQL-python
SQLAlchemy

The db.py module uses SQLAlchemy to define the tables and perform
database functions.

We are storing the codenames in the database which can be queried with
the sid.

New codenames are generated with two new dictionaries, located in
deaddrop/dictionaries, with an adjective and noun pair. This is
memorable for the journalist. These dictionaries were generated with the
python natural language toolkit, using the wordnik database."
Hainish,2013-11-17 11:20:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7975936e3b6e3828547ce54b76cc75a4d299a9af,7975936e3b6e3828547ce54b76cc75a4d299a9af,"Changing setup_ubuntu.sh to reflect changes in directory structure.
Having setup_ubuntu.sh generate bcrypt salt and secure key and place
those values in config.py.  This causes tests at end of setup script to
pass."
Hainish,2013-11-17 09:54:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d0a3f0d35ed869b1a3661eaef6e60dbff69c6c36,d0a3f0d35ed869b1a3661eaef6e60dbff69c6c36,"Upgrade distribute, then install requirements"
Hainish,2013-11-17 07:41:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e69939d7f4c82d122dca633744e7cc9d97bc1617,e69939d7f4c82d122dca633744e7cc9d97bc1617,"Merge pull request #158 from Hainish/new-distribute

This upgrades `distribute` to the latest of the 0.6 releases"
Hainish,2013-11-17 07:33:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/158f0b6775dd5736ca10378d9cc8b4aee0ef1a9f,158f0b6775dd5736ca10378d9cc8b4aee0ef1a9f,"This upgrades `distribute` to the latest of the 0.6 releases,
currently 0.6.34.  This is useful because some packages need a newer
version of distribute, and others some do not yet support setuptools."
jacksingleton,2013-11-17 07:06:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b3ae86341d9c64ea341b8e4dc6257988f709633c,b3ae86341d9c64ea341b8e4dc6257988f709633c,get_bulk_archive now uses python tempfile and unlinks immediately to avoid using an explicit temp directory
dolanjs,2013-11-15 19:58:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f97685e19f3f2acd4cc5d61a13859ccea30c63a,9f97685e19f3f2acd4cc5d61a13859ccea30c63a,Merge branch 'big-merge' of https://github.com/freedomofpress/securedrop into big-merge
dolanjs,2013-11-15 19:55:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe747fbe973100e4aa00f1abb454b7e12b458e4f,fe747fbe973100e4aa00f1abb454b7e12b458e4f,"updated ssh configs, easier breakdown of base_install.sh config files
some apache hardening"
garrettr,2013-11-15 18:22:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cec4565a9265c6d1c3a9a6218f91a37e9372ab09,cec4565a9265c6d1c3a9a6218f91a37e9372ab09,pep8 all the things
garrettr,2013-11-15 03:54:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/460684d243ad7c01c82d90dbce4114d2a0e1ed0d,460684d243ad7c01c82d90dbce4114d2a0e1ed0d,"Merge branch 'install-scripts' into big-merge

Conflicts:
	install_files/gen_bcrypt_salt.py
	install_files/journalist.ports.conf
	install_files/journalist.security
	securedrop/.gitignore
	securedrop/COPYING
	securedrop/DocREADME.md
	securedrop/HACKING.md
	securedrop/INSTALL.md
	securedrop/README.md
	securedrop/_genwordlist.py
	securedrop/background.py
	securedrop/crypto_util.py
	securedrop/journalist_templates/base.html
	securedrop/journalist_templates/reply.html
	securedrop/requirements.txt
	securedrop/source_templates/generate.html
	securedrop/static/css/securedrop.css
	securedrop/static/i/favicon.png
	securedrop/static/i/securedrop.png
	securedrop/static/i/tipbox/tipbox-hed-j-all.png
	securedrop/static/i/tipbox/tipbox-hed-j-single.png
	securedrop/static/i/tipbox/tipbox-hed-submit1.png
	securedrop/static/i/tipbox/tipbox-hed-submit3.png
	securedrop/static/i/tipbox/tipbox-hed-user.png
	securedrop/static/i/tipbox/tipbox-logo.png
	securedrop/test_journalist_key.pub
	securedrop/test_journalist_key.sec
	securedrop/version.py
	securedrop/wordlist"
garrettr,2013-11-15 03:51:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed95de29e6a3162dd7890755cc4c7413b08987da,ed95de29e6a3162dd7890755cc4c7413b08987da,"reorganize repo to prepare for merge

Moved the deaddrop application to the top level of the repository and renamed
it to securedrop. Removed the files that are also removed in the
install-scripts branch to make the merge easy."
garrettr,2013-11-15 03:19:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/900f87249f5a82f65ce0cf323bb660f021438cc8,900f87249f5a82f65ce0cf323bb660f021438cc8,"improve flask configuration managament

This fixes CSRFProtect so it works in deployment and also is correctly disabled
when running tests locally."
dolanjs,2013-11-15 02:04:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/26e2af0ed2c7f068dfe08687d9015805825f3993,26e2af0ed2c7f068dfe08687d9015805825f3993,"Merge pull request #155 from dolanjs/install-scripts

Install scripts"
dolanjs,2013-11-15 01:44:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6c3a5046658a1dded71d8ceca0719de97606ba50,6c3a5046658a1dded71d8ceca0719de97606ba50,added directory structure to comments in interface-install.sh
dolanjs,2013-11-15 01:31:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/469e9ad4d7eea769735bdc88ac187f38ac11d5fc,469e9ad4d7eea769735bdc88ac187f38ac11d5fc,store cwd and parent dir in beginning of script
dolanjs,2013-11-15 01:07:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2a1eda723d28754d2ec18abcea21c000e3764f4e,2a1eda723d28754d2ec18abcea21c000e3764f4e,closer
dolanjs,2013-11-14 20:27:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/61b2192bbb3565150047e5035c3a87ecf9e0573d,61b2192bbb3565150047e5035c3a87ecf9e0573d,moved order of copying files to avoid error
dolanjs,2013-11-14 05:17:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a313ef73006693f6e6e187aed7cb5909bdb19486,a313ef73006693f6e6e187aed7cb5909bdb19486,moved more config files into install scripts directory
dolanjs,2013-11-14 04:44:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/50050314883c3b30c2d8662a856ab18d68d2c763,50050314883c3b30c2d8662a856ab18d68d2c763,moved config files into sep files
dolanjs,2013-11-14 03:30:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ed54a5ae07dfb1b66c45c0aacffe5e02f6588c1,2ed54a5ae07dfb1b66c45c0aacffe5e02f6588c1,"changed script to cp the source/journalist.wsgi file from the
install-files dir"
dolanjs,2013-11-14 02:45:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c16dbd978c62751b912a88fbbc2c58458cab4557,c16dbd978c62751b912a88fbbc2c58458cab4557,added more error checking
dolanjs,2013-11-14 01:47:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/29febc722ceb84d8018b7ad4f4e784fe36054396,29febc722ceb84d8018b7ad4f4e784fe36054396,uncommented pip install line
dolanjs,2013-11-14 01:16:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0bc55c6f74507c641c8db88a5617419f507ce9e3,0bc55c6f74507c641c8db88a5617419f507ce9e3,added --no-updates options
dolanjs,2013-11-13 22:33:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e164e95581da67c55b2f05ac6a40a022d915c9ef,e164e95581da67c55b2f05ac6a40a022d915c9ef,"Merge pull request #1 from david415/install-scripts

Add --force-clean option to interface-install.sh
thanks david"
david415,2013-11-13 21:22:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/883d334c08bd220ac95a5c8872896313943ffe1d,883d334c08bd220ac95a5c8872896313943ffe1d,Add --force-clean option to interface-install.sh
garrettr,2013-11-13 19:03:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/afcfc7e8ca718c49a5eea69b1a4ebcf154b799c7,afcfc7e8ca718c49a5eea69b1a4ebcf154b799c7,"Merge pull request #154 from micahflee/master

Making all markdown links relative"
micahflee,2013-11-13 18:58:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6c954625c5ce70619787a7971d78d8a41411069,c6c954625c5ce70619787a7971d78d8a41411069,Making all markdown links relative
dolanjs,2013-11-13 08:39:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2d9f46ddd95207dc3584a418ed4a3d86a874f706,2d9f46ddd95207dc3584a418ed4a3d86a874f706,Merge branch 'install-scripts' of https://github.com/dolanjs/securedrop into install-scripts
dolanjs,2013-11-13 08:38:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/44bc3ee210289d9a61a23cd64ec8d95ca30c3165,44bc3ee210289d9a61a23cd64ec8d95ca30c3165,backup tor keys before deleting directories
dolanjs,2013-11-13 08:33:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2727456de57d1a4404d518448d9a8161aff4542f,2727456de57d1a4404d518448d9a8161aff4542f,backing up the tor private key
dolanjs,2013-11-13 06:56:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/85bd867baeda5f235a0d2922f12bf1220d551fc8,85bd867baeda5f235a0d2922f12bf1220d551fc8,typos
garrettr,2013-11-13 06:25:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cebcb2ad50e93273c3a1988a43c381f19a81fa35,cebcb2ad50e93273c3a1988a43c381f19a81fa35,"remove missed reference to crypto module

This was still working on current installations because `crypto.pyc` was still
lying around, but was breaking on new installations."
garrettr,2013-11-13 06:25:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b8cee1462a3a1dc7926e0337a7d15f192d371920,b8cee1462a3a1dc7926e0337a7d15f192d371920,more fixes/improvements to ubuntu setup script
garrettr,2013-11-13 05:38:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa4ffce73fb2bb0bdcd2641beb32ca73b816b619,fa4ffce73fb2bb0bdcd2641beb32ca73b816b619,fix nits in ubuntu dev setup script
dolanjs,2013-11-13 05:26:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/072b614fd22127f76bce3008d1dc2fae3d996018,072b614fd22127f76bce3008d1dc2fae3d996018,changed where to look for application files
garrettr,2013-11-13 05:08:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b32dbd794c78b9ce11167689707a8503b43fae6,7b32dbd794c78b9ce11167689707a8503b43fae6,Merge branch 'setupScript' of https://github.com/wdoenlen/securedrop into wdoenlen-setupScript
dolanjs,2013-11-13 05:05:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7482bd5d8061f01b05f6d2cafca2169bd82a1da9,7482bd5d8061f01b05f6d2cafca2169bd82a1da9,updated interface-install.sh and moved files to install_files dir
dolanjs,2013-11-13 03:40:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9ad938b0ab523910b31b35497c05f335c4bcf1b0,9ad938b0ab523910b31b35497c05f335c4bcf1b0,added source and journalist interface requirements
dolanjs,2013-11-13 03:24:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6892455b9c2804114524d90ac4a379cf8fd106c4,6892455b9c2804114524d90ac4a379cf8fd106c4,still have issue running interfaces
garrettr,2013-11-12 16:53:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07af152410d071526608c55e45ee1b3e4cf8402d,07af152410d071526608c55e45ee1b3e4cf8402d,"Merge branch 'feature/lazy-keygen' of https://github.com/diracdeltas/securedrop into diracdeltas-feature/lazy-keygen

Conflicts:
	modules/deaddrop/files/deaddrop/journalist.py
	modules/deaddrop/files/deaddrop/test.py"
garrettr,2013-11-12 07:25:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a296ccc01cdc9b45f8ae7bea7d09d700be9b3d5b,a296ccc01cdc9b45f8ae7bea7d09d700be9b3d5b,"Merge branch 'flask-rewrite' of https://github.com/jacksingleton/securedrop into jacksingleton-flask-rewrite

Conflicts:
	modules/deaddrop/files/deaddrop/test.py

This pull requests adds a ""tmp"" directory alongside ""store"" and ""keys"" to store
zip files built for bulk downloads. I've added an entry to the example_config
- existing users and developers will have to copy this to their config.py."
diracdeltas,2013-11-11 18:35:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0fd61041a3a912b7933e703d23892ad563e2d7a1,0fd61041a3a912b7933e703d23892ad563e2d7a1,"Merge remote-tracking branch 'upstream/flask-rewrite' into feature/lazy-keygen

Conflicts:
	modules/deaddrop/files/deaddrop/journalist.py
	modules/deaddrop/files/deaddrop/source.py
	modules/deaddrop/files/deaddrop/test.py"
williardx,2013-11-11 07:09:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d2a5e0a4d0506ee8410760c3119c3afc715ae9b8,d2a5e0a4d0506ee8410760c3119c3afc715ae9b8,"Check if Python unittest passes/fails, automatically modify journalist key in config.py, add some comments and colors"
Hainish,2013-11-11 04:49:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f344eefcc9000081f9216315bfdac1ac2de3c4fe,f344eefcc9000081f9216315bfdac1ac2de3c4fe,Fixing reversion on issue/80 - decrypted documents should retain filenames
diracdeltas,2013-11-11 02:42:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf8d13e89a1954a4ed74639f38d4a6a925f73062,bf8d13e89a1954a4ed74639f38d4a6a925f73062,Minor reply test improvements
diracdeltas,2013-11-11 02:10:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/59a2e395564edbf86a1d2ef9b5f8d3d9d2bda2ea,59a2e395564edbf86a1d2ef9b5f8d3d9d2bda2ea,Modify test_reply with new flagging feature
jdunck,2013-11-11 02:00:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b038b2b2eb4d0a48fbe1c5b287570c7ecec1d404,b038b2b2eb4d0a48fbe1c5b287570c7ecec1d404,"Rename internal crypto module to crypto_util

Mac file systems do case-folding, so that pycrypto's Crypto and securedrop's crypto collide.
When running against a mac file system, deaddrop/crypto.py's attempt to import Crypto.Random failed,
because Crypto folded to the deaddrop/crypto.py.  Renaming to crypto_util avoids the collision."
williardx,2013-11-10 07:07:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/896f2a290c22fccec09c0a959a2164fef2d89830,896f2a290c22fccec09c0a959a2164fef2d89830,"First pass at a Debian/Ubuntu setup script

Automatically modify config.py and .gitignore, add colorized output, fix some typos

Fix path problem in writing config.py

Add quick test to check operating system and distribution"
diracdeltas,2013-11-11 01:30:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd52f223af4ef154ad514f5fbdbc3c99609a2a7f,dd52f223af4ef154ad514f5fbdbc3c99609a2a7f,Remove comment that is not true
diracdeltas,2013-11-11 01:14:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5f405703ba53764794d77bcbbffdc557d2dd57c1,5f405703ba53764794d77bcbbffdc557d2dd57c1,Source-side flag checking
jacksingleton,2013-11-11 01:04:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f2d4295e08889f60e5f696511f2c7215736b2161,f2d4295e08889f60e5f696511f2c7215736b2161,"Added bulk download, closes #123"
diracdeltas,2013-11-11 00:34:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/89f6426e2516b14d69f20e572a9719c0de5d6c9e,89f6426e2516b14d69f20e572a9719c0de5d6c9e,UI improvements to flag
garrettr,2013-11-11 00:33:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f7dcfa09f4fa4b4845da5da9bae9d114d903cec,9f7dcfa09f4fa4b4845da5da9bae9d114d903cec,remove ugly outline from js warning close button
garrettr,2013-11-11 00:29:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3907c63be8ef3f558dc996cf4e08dc827b88b645,3907c63be8ef3f558dc996cf4e08dc827b88b645,"list collections even if they contain no documents

Now that the journalist can delete documents, it's confusing if they delete all
documents. Then the source's collection ""disappears"" from the main list,
leaving them with no way to reply to the source unless the source sends another
submission.

it would be better to display the number of documents in the main list, and
allow journalists to sort the list of collections by the number of documents
contained."
garrettr,2013-11-11 00:28:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e9d50961ff72cd94667889f3293822a90c7813e9,e9d50961ff72cd94667889f3293822a90c7813e9,consolidate to one version of jquery (2.0.4)
diracdeltas,2013-11-11 00:24:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d4550d5ac7bada4f2cd68750ba4f326a56705b8,9d4550d5ac7bada4f2cd68750ba4f326a56705b8,Don't show _FLAG files
diracdeltas,2013-11-11 00:15:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45656a8216cc6ccc269b9f89d34983e62780b406,45656a8216cc6ccc269b9f89d34983e62780b406,"Start adding flags for journalist reply.

See Issue #140. Journalists should flag sources that
they want to reply to so we can generate keys for the
source only when needed."
garrettr,2013-11-11 00:06:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fd656ef6cd3ba17a560f2293955b2a7ef32a57b8,fd656ef6cd3ba17a560f2293955b2a7ef32a57b8,fix tor2web unit test
diracdeltas,2013-11-10 22:19:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb19f5f84f4c7573af699826670f857ab92acf52,eb19f5f84f4c7573af699826670f857ab92acf52,Make tests more informative
garrettr,2013-11-10 22:16:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/608777a86ee37c4f3daff84c73a3148f774677ee,608777a86ee37c4f3daff84c73a3148f774677ee,fix leaving tor2web condition flipped from debugging
garrettr,2013-11-10 21:32:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b40ec26ee2f262585b852e6a78e6f8ac98fca24d,b40ec26ee2f262585b852e6a78e6f8ac98fca24d,"tor2web warning banner

This commit detects if Tor2Web is being used, and shows a warning message (with
a link to a detailed page) if so.

Closes #43"
dolanjs,2013-11-10 18:50:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bdc13c445bcae7b2a21a6d030b20669c4930fff5,bdc13c445bcae7b2a21a6d030b20669c4930fff5,a little bit closer
dolanjs,2013-11-10 12:42:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b0ef075843982a441ce5819ee2fe21636bc6f078,b0ef075843982a441ce5819ee2fe21636bc6f078,added gen_secret.key.py
dolanjs,2013-11-10 08:59:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a9df073114538f51ba6e11130ea4bd49563d91eb,a9df073114538f51ba6e11130ea4bd49563d91eb,fixed chroot jail path
dolanjs,2013-11-10 07:40:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/feee21c001569e647cabf9e102d07e70674469a2,feee21c001569e647cabf9e102d07e70674469a2,put it in a for loop
dolanjs,2013-11-10 05:20:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/297e48073d9580e33f09b134166e4ec526cc7365,297e48073d9580e33f09b134166e4ec526cc7365,installs the apache for the source interface in a chroot jail
Hainish,2013-11-10 04:04:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b65d8de8276022c6b5d0d015d9482581244adf14,b65d8de8276022c6b5d0d015d9482581244adf14,Using gritter in warning for javascript
Hainish,2013-11-10 04:03:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ae80aee32f297359c8fa438c28bf3804f5f946a,6ae80aee32f297359c8fa438c28bf3804f5f946a,Overriding gritter css
Hainish,2013-11-10 04:03:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ed61d3caf597b379bf683fc151b93fde9baecbc1,ed61d3caf597b379bf683fc151b93fde9baecbc1,Including gritter libraries and css on index page
Hainish,2013-11-10 03:21:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b2cb11ded75f71227d378ef8668df5e08f33c0a,8b2cb11ded75f71227d378ef8668df5e08f33c0a,adding library: gritter
Hainish,2013-11-10 03:20:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d6a8065228156aaac475ec1d58226687ff290613,d6a8065228156aaac475ec1d58226687ff290613,Fixing some wording
Hainish,2013-11-10 02:51:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2b0cc495c95171a2c5cb9c7a538dda47177b4aae,2b0cc495c95171a2c5cb9c7a538dda47177b4aae,"Fixing indentation broadly.  Using two space javascript after
re-investigating here
http://atroche.org/post/30994290348/javascript-indentation"
papazoga,2013-11-10 01:38:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/099f44470978f7b8720d5c70d0ad09a055044caa,099f44470978f7b8720d5c70d0ad09a055044caa,Advise users to disable javascript. Closes #101.
garrettr,2013-11-09 20:05:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de0594bd3c5e0c061cd7d3e9016f3fed65ccb9ab,de0594bd3c5e0c061cd7d3e9016f3fed65ccb9ab,detection of JS warning and docs
bxjx,2013-11-01 03:58:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e594841797b1f4fa801b654284b1ee1a0df40391,e594841797b1f4fa801b654284b1ee1a0df40391,"Fix for issue #111

Update Apparmor config on source server to allow GPG to lock the keyring."
garrettr,2013-11-10 01:19:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eb1666e177a81beeab72d45e73b8569df4a97d53,eb1666e177a81beeab72d45e73b8569df4a97d53,"Merge pull request #132 from liliakai/flask-rewrite

Implement #121"
liliakai,2013-11-09 03:02:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0006a8f20a0185f61f388aad735a04bc48e1cade,0006a8f20a0185f61f388aad735a04bc48e1cade,Implement #121
garrettr,2013-11-10 00:58:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/852dd8be611ccd16af8fd2af1d2d3f4a09ee7f20,852dd8be611ccd16af8fd2af1d2d3f4a09ee7f20,"Merge pull request #136 from zestyping/flask-rewrite

Removes some words that don't look like real words from the wordlist."
zestyping,2013-11-10 00:31:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/14cfd83aa31ae1c1afed5f7f6b86bbbece973fe9,14cfd83aa31ae1c1afed5f7f6b86bbbece973fe9,"Come on... those aren't real words. :)

Note: entropy per word is reduced from 12.92 bits to 12.77 bits.
Open to hearing your thoughts on this tradeoff."
garrettr,2013-11-10 00:30:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8034f0f79b8eecc561eb5abd27036b8c6de32af2,8034f0f79b8eecc561eb5abd27036b8c6de32af2,"Merge pull request #135 from pemulis/flask-rewrite

gitignore vim temp files"
pemulis,2013-11-10 00:18:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9068c05dfc334718cfaca71f170830fb3670b775,9068c05dfc334718cfaca71f170830fb3670b775,gitignore vim temp files
garrettr,2013-11-09 23:18:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0597bab94fe0ffbab7a98ba1d9a28ab4bf1484ab,0597bab94fe0ffbab7a98ba1d9a28ab4bf1484ab,"Merge pull request #134 from zestyping/flask-rewrite

Show a helpful message while the source's key is being generated."
garrettr,2013-11-09 23:12:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/114c89af571695d79cab0c61050daa31a0fc2966,114c89af571695d79cab0c61050daa31a0fc2966,"Merge pull request #133 from fitzgen/normalize-in-verify

store.verify should assert that the path it is verifying is normalized"
fitzgen,2013-11-09 22:14:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98370a6ac4dd82bbeda1a2407932f9fe87830741,98370a6ac4dd82bbeda1a2407932f9fe87830741,Ensure that the path is normalized in store.verify.
dolanjs,2013-11-09 23:06:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/58de372a95e4d877022530b69b1543515caf6503,58de372a95e4d877022530b69b1543515caf6503,added second chroot jail
zestyping,2013-11-09 23:04:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97269a34d5441a691f19f2affda7306215f87875,97269a34d5441a691f19f2affda7306215f87875,Show a helpful message while the source's key is being generated.
garrettr,2013-11-09 23:02:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bbffc52ccd731ac65784b4f3bc14ac6dd1ad0cf8,bbffc52ccd731ac65784b4f3bc14ac6dd1ad0cf8,update requirements.txt (was missing flask-testing)
dolanjs,2013-11-09 21:33:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/533830b5730f281a9a5c55a780fd4a27fa2775aa,533830b5730f281a9a5c55a780fd4a27fa2775aa,start of interface-install.sh script to setup chroot jails
garrettr,2013-11-09 21:07:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4e1d74b480146586934a5b2b3f18db608899a85a,4e1d74b480146586934a5b2b3f18db608899a85a,fix order of instructions for installing dependencies
garrettr,2013-11-09 21:03:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/048f9a3367ec542769d2bdbf2d6ebaa7006e7872,048f9a3367ec542769d2bdbf2d6ebaa7006e7872,update dev setup docs based on hackathon feedback
dolanjs,2013-11-09 18:49:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/525566309ef1600dce8c93ac56a14ff6307c7498,525566309ef1600dce8c93ac56a14ff6307c7498,removed puppet added base_install.sh script
garrettr,2013-11-09 03:42:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/98e761e33e7f129117fe7cdb4e4358ceeb593ec1,98e761e33e7f129117fe7cdb4e4358ceeb593ec1,"temporarily remove dangerous characters from wordlist

Until we can audit the python-gnupg library for shell injection vectors
(avoiding these was a key reason for isis lovecruft's fork), we are removing
unsafe characters from the wordlist and safelist so they are never passed to
the underlying gpg process.

This very slightly reduces the length of the wordlist which in turn reduces
codename entropy, but this tradeoff is worthwhile until further investigation
can be done."
garrettr,2013-11-09 02:31:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0b6fb33abc4bf56247329a6b80c533abde44e817,0b6fb33abc4bf56247329a6b80c533abde44e817,Update safe character list to include all possible characters from the wordlist
garrettr,2013-11-09 02:16:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a783c9272fc4c45fab9c3e0ec9d3551e0ebe4ad3,a783c9272fc4c45fab9c3e0ec9d3551e0ebe4ad3,fix test race conditions (hacky)
garrettr,2013-11-09 02:16:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5dc8e7f73de90b4459ea8b5b2a6f0d1eb628305c,5dc8e7f73de90b4459ea8b5b2a6f0d1eb628305c,Reduce bcrypt rounds in tests for perf
garrettr,2013-11-08 20:22:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/30e3ab0ae2f255913a33b034c5ebf923d661550d,30e3ab0ae2f255913a33b034c5ebf923d661550d,fix link on 404 page
garrettr,2013-11-08 17:45:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c5e04c204869164ed017d7f526ea2b5764db2bc7,c5e04c204869164ed017d7f526ea2b5764db2bc7,"tests, and accompanying revisions"
garrettr,2013-11-05 16:29:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8395ad9a74b4a39f922ff00e19f1d5e7f369164f,8395ad9a74b4a39f922ff00e19f1d5e7f369164f,add CSRF protection with flask-wtf
garrettr,2013-11-03 23:35:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a04ca4bbd500952a324171cc7e2f24c0d6c84acb,a04ca4bbd500952a324171cc7e2f24c0d6c84acb,Rewrite journalist.py with Flask
garrettr,2013-11-03 23:35:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da5f68bb1b9d71a0621d7766e8c8251f4b702811,da5f68bb1b9d71a0621d7766e8c8251f4b702811,remove unused function and its web.py dependency
garrettr,2013-11-03 23:35:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96a77ed1c8c994f6c9e98c591e62ea8de21b0a08,96a77ed1c8c994f6c9e98c591e62ea8de21b0a08,re-enabled generating source keys on first submission
garrettr,2013-11-03 21:36:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4654fb75839214d3d6c631ce6759a367157731e9,4654fb75839214d3d6c631ce6759a367157731e9,"Rewrite source.py with Flask

Make sure you update your virtualenv!"
dolanjs,2013-11-02 20:17:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/477fc19bef3be59a0ee65591be9dc43c859d019f,477fc19bef3be59a0ee65591be9dc43c859d019f,"Merge pull request #117 from TheGlobalMail/issue111

Fix for issue #111"
bxjx,2013-11-01 03:58:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/447a4a53fc22b0d26e737a0c2816b8314c589e9d,447a4a53fc22b0d26e737a0c2816b8314c589e9d,"Fix for issue #111

Update Apparmor config on source server to allow GPG to lock the keyring."
garrettr,2013-11-01 01:08:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab2ab3775a7400bf998055662549417b972cbf4d,ab2ab3775a7400bf998055662549417b972cbf4d,"Merge pull request #116 from Hainish/feature/issue80

Fixes unit tests, which were broken by #113 to fix #80."
garrettr,2013-11-01 00:27:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/24c9ad82eee8c96b5bd6f7eaec1c2597233f5b4e,24c9ad82eee8c96b5bd6f7eaec1c2597233f5b4e,Add top-level HACKING doc with contact info
Hainish,2013-10-31 22:51:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0bd80601142124d90f7a28870f45b6d4b3d988ff,0bd80601142124d90f7a28870f45b6d4b3d988ff,fixing unit tests related to issue 80 fix
micahflee,2013-10-31 17:40:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb413041d5b24d86db6bea74c1b33f89d54362ef,fb413041d5b24d86db6bea74c1b33f89d54362ef,"Merge pull request #113 from Hainish/feature/issue80

Feature/issue80"
Hainish,2013-10-31 08:09:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da0bad12ec72ef6646527d0ee708505868ceffaf,da0bad12ec72ef6646527d0ee708505868ceffaf,new filenames should be recognizable as valid and downloadable from defined endpoints
Hainish,2013-10-31 07:34:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/94f8176537407919fdd48a75b15e6ad2ca0c4976,94f8176537407919fdd48a75b15e6ad2ca0c4976,manually specifying filename in gpg flag no longer necessary
Hainish,2013-10-31 07:29:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9c6ad668156f1ecc88c24ed6b40b8076aa312cb,d9c6ad668156f1ecc88c24ed6b40b8076aa312cb,source document is now encrypting to zip file to perserve contained filename
garrettr,2013-10-30 21:27:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/891c991543e27afd7e010cf0a792c08b7d779967,891c991543e27afd7e010cf0a792c08b7d779967,Remove unused gen_ajax function and url rule
garrettr,2013-10-30 19:16:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/05f52ec89b8e112899a9a4b1e736ce017349b635,05f52ec89b8e112899a9a4b1e736ce017349b635,"Only generate valid-length codewords

This prevents potential DoS through requesting the server to generate enormous
codewords, first reported here [0].

[0] https://github.com/freedomofpress/securedrop/issues/4#issuecomment-27372878"
garrettr,2013-10-30 02:37:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a4b53eecc54efc32b03095cafd8716ea3b0c2337,a4b53eecc54efc32b03095cafd8716ea3b0c2337,"Upgrade PyCrypto to to 2.6.1

PyCrypto 2.6.1 fixes a potentially serious issue in the CSPRNG [0].

If you already have your dev environment set up, you can simply `pip install -U
pycrypto`.

[0] http://lists.dlitz.net/pipermail/pycrypto/2013q4/000702.html"
diracdeltas,2013-10-28 05:35:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/647a959fb387488a9b40aa2ba7fb150a4dc9d0b9,647a959fb387488a9b40aa2ba7fb150a4dc9d0b9,"Replace userid with fingerprint in HACKING.md

We remove spaces in the key identifier in crypto.py,
so using the gpg userid as the key identifier instead of
the fingerprint won't work. See
https://github.com/freedomofpress/securedrop/issues/96."
diracdeltas,2013-10-28 03:58:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fa18b54a3c4a99a9bc4db56f72b78d4bd6d9e83d,fa18b54a3c4a99a9bc4db56f72b78d4bd6d9e83d,Merge branch 'feature-remove-javascript' of https://github.com/garrettr/securedrop
diracdeltas,2013-10-28 03:47:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54159261fae9d6899ad7a08c2a72992d3d3b42c7,54159261fae9d6899ad7a08c2a72992d3d3b42c7,Add links to live demo sites
garrettr,2013-10-26 22:44:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5297d3a77a65305c4a92121118a210076fb713af,5297d3a77a65305c4a92121118a210076fb713af,"remove javascript

unit test passes, so the ""regenerate codeword"" functionality is still intact."
garrettr,2013-10-26 22:31:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/051d1802ea351b6d4bb413599cffb3088c8d01b4,051d1802ea351b6d4bb413599cffb3088c8d01b4,"test for codename regeneration

The single quotes in the ""regenerate-form"" form were changed to double quotes
due to a bug in paste. While using single quotes is valid for values of HTML
attributes, paste does not parse them correctly and as such cannot modify
fields or submit the form."
micahflee,2013-10-24 18:24:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21ca77b29a0f8ac5a08e66cf275de5196f574068,21ca77b29a0f8ac5a08e66cf275de5196f574068,"Merge pull request #97 from msjoinder/help_mac_users

improve Mac OSX instructions"
misjoinder,2013-10-24 04:35:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f84ddd1f272d6670c743d0670dd8d2a4c3a4d86,9f84ddd1f272d6670c743d0670dd8d2a4c3a4d86,improve Mac OSX instructions
micahflee,2013-10-17 23:18:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e4612fe10677272daffa84057654db7aa95cd60,3e4612fe10677272daffa84057654db7aa95cd60,"Merge pull request #90 from garrettr/remove-hmac-secret

Remove all instances of HMAC_SECRET"
garrettr,2013-10-17 17:14:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d163d7b163721fb8b1dde8c53c8b11c1625d3e8d,d163d7b163721fb8b1dde8c53c8b11c1625d3e8d,"Remove all instances of HMAC_SECRET

Unit tests continue to pass, which confirms this variable was not being used."
micahflee,2013-10-16 00:56:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fab1d3124b993ac45afd70ef0eb6df61f47026f9,fab1d3124b993ac45afd70ef0eb6df61f47026f9,version bump to 0.2development
dolanjs,2013-10-15 16:04:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ebfb26eb372e7cd1c3ed6638e4fdb77d5803068,7ebfb26eb372e7cd1c3ed6638e4fdb77d5803068,"Merge pull request #84 from dolanjs/master

apparmor tweaks"
dolanjs,2013-10-15 11:16:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/117b77a4beabeffba26caa043b7185bd6cf0b978,117b77a4beabeffba26caa043b7185bd6cf0b978,apparmor tweaks
dolanjs,2013-10-15 09:48:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc1c06fba759741227154925170eb2c9795d3ef2,fc1c06fba759741227154925170eb2c9795d3ef2,added --no-ri and no-rdoc to server_setup.sh
dolanjs,2013-10-15 09:47:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/14737c27a7bdf7f4364e9c60aa6fe360e4db95c8,14737c27a7bdf7f4364e9c60aa6fe360e4db95c8,Merge remote-tracking branch 'upstream/master'
dolanjs,2013-10-15 09:45:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6cce9c123dff587eb49120e4c9a3cbb3e660544c,6cce9c123dff587eb49120e4c9a3cbb3e660544c,added pre-built apparmor profiles for apache2-mpm-worker
dolanjs,2013-10-15 09:44:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/848e14cb2800b29817f48d69206107fa764f3524,848e14cb2800b29817f48d69206107fa764f3524,added apparmor profiles
micahflee,2013-10-15 07:35:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ceaae1a51313fd311678240e6098bcae5fb8634,7ceaae1a51313fd311678240e6098bcae5fb8634,Merge branch 'master' of github.com:freedomofpress/securedrop
micahflee,2013-10-15 07:34:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/443d0a4d1bad42f437bea3b599be6f2e6f2b9dae,443d0a4d1bad42f437bea3b599be6f2e6f2b9dae,added a changelog and version bump to 0.1
micahflee,2013-10-15 07:29:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b3ae48398ba99f26d643528c7e68ead8916245c2,b3ae48398ba99f26d643528c7e68ead8916245c2,"Merge pull request #83 from garrettr/tests

Tests"
garrettr,2013-10-15 07:12:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e54170812bd7a4ab79a24bd2d3b03cefbd867169,e54170812bd7a4ab79a24bd2d3b03cefbd867169,"Add requirements.txt, with libraries for testing"
garrettr,2013-10-15 07:07:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a7a54ec4cc5a7e1415374b9c9e3f01627f001dab,a7a54ec4cc5a7e1415374b9c9e3f01627f001dab,"General coverage with unit/integration tests

This covers the basic unit tests of accessing each site and clicking through
the interface. It also integration tests submitting messages, files, both
messages and files, and journalists replying to a source."
garrettr,2013-10-15 07:07:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b616718e70b899cc32637f431fd58f280a751ec5,b616718e70b899cc32637f431fd58f280a751ec5,"Add Content-Type to downloads (needed for tests, helpful in browser)"
garrettr,2013-10-15 07:06:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5fec0e6d00fa526710ee2364459ffe98704a5f7a,5fec0e6d00fa526710ee2364459ffe98704a5f7a,Better exceptions for crypto.clean
micahflee,2013-10-15 06:17:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/229ec0c940cf4322e4438e87f1bd91aea0e5976e,229ec0c940cf4322e4438e87f1bd91aea0e5976e,"Merge pull request #82 from dolanjs/master

added autoremove and removing /etc/puppet"
dolanjs,2013-10-15 06:16:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7aaf7e97c4d84c2a82b4947b11f2d669c4ab5451,7aaf7e97c4d84c2a82b4947b11f2d669c4ab5451,added autoremove and removing /etc/puppet
micahflee,2013-10-15 06:06:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6bd07ffb26768c086fd2400caf145cdad86da320,6bd07ffb26768c086fd2400caf145cdad86da320,"Merge pull request #81 from dolanjs/master

fixed tor error and added purging unneeded packages after install"
dolanjs,2013-10-15 06:04:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b625a8a30dc8e5b8489e6a95eda734b9a95eaf14,b625a8a30dc8e5b8489e6a95eda734b9a95eaf14,added removing unneeded packages
micahflee,2013-10-15 04:24:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4036c0b4197cedef8e0f7e347fe555d125d04ee9,4036c0b4197cedef8e0f7e347fe555d125d04ee9,"I changed the screenshot, so I need to change the code word (#57)"
micahflee,2013-10-15 04:18:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c42a55d44fb002cfea008bd3c99c6f13712227b8,c42a55d44fb002cfea008bd3c99c6f13712227b8,Merge branch 'master' of github.com:freedomofpress/securedrop
micahflee,2013-10-15 04:18:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8be8c4461fecf1d6b18c1d3ecabace537245e303,8be8c4461fecf1d6b18c1d3ecabace537245e303,wrote user manual (#57)
micahflee,2013-10-15 03:41:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d832142fc5436154cebf75ea305e2fb741809c9a,d832142fc5436154cebf75ea305e2fb741809c9a,"Merge pull request #79 from dolanjs/master

remove sshfs_fix and enable ossec authd"
dolanjs,2013-10-15 03:12:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3f42befaaaddd9c3e45794b3a6e15c30269d1b64,3f42befaaaddd9c3e45794b3a6e15c30269d1b64,added package for deb.torproject.org-keyring
dolanjs,2013-10-15 03:06:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b016382c10c10e317d3e3cc7a0710101534c8ca5,b016382c10c10e317d3e3cc7a0710101534c8ca5,"fixed image url

fixed image url for journalist interface"
dolanjs,2013-10-15 02:52:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/76ba016c16a1f08bb88180b97b3405d0dcd13079,76ba016c16a1f08bb88180b97b3405d0dcd13079,"Revert ""added os.environ['USERNAME'] = 'www-data' to crypto.py""
Micah already submitted
This reverts commit 7fa47005f819d8ef20437ccd8a04177f48ce5e75."
dolanjs,2013-10-15 02:46:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7fa47005f819d8ef20437ccd8a04177f48ce5e75,7fa47005f819d8ef20437ccd8a04177f48ce5e75,added os.environ['USERNAME'] = 'www-data' to crypto.py
dolanjs,2013-10-15 02:43:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/606027a39bbb7c5f5993eba61aaa7371d3e35316,606027a39bbb7c5f5993eba61aaa7371d3e35316,error fixes
micahflee,2013-10-15 02:15:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/07437aff8567ce4aa7b36b2911113e637fa1cfc4,07437aff8567ce4aa7b36b2911113e637fa1cfc4,fixes #78
micahflee,2013-10-15 01:36:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/765fb4a2520e612c145362d9b201edb2dc3c389d,765fb4a2520e612c145362d9b201edb2dc3c389d,updated journalist workstation setup docs
micahflee,2013-10-15 00:32:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5bc5daca07514e4473f0ba85923680b3cb74c710,5bc5daca07514e4473f0ba85923680b3cb74c710,"Merge pull request #77 from dolanjs/fix-setup-error

Fix setup error"
micahflee,2013-10-14 22:58:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ea2112666152196b9e56732f81eee6fa80f124c,4ea2112666152196b9e56732f81eee6fa80f124c,"Merge pull request #75 from dolanjs/sshfs_fix

Sshfs fix"
dolanjs,2013-10-14 22:54:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8799d390da1f2c0094bd5cee641b6c4af4a1a93a,8799d390da1f2c0094bd5cee641b6c4af4a1a93a,removed trailing white space
dolanjs,2013-10-14 22:52:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7edad2aee848a16f201a777ab5b64ac141b446eb,7edad2aee848a16f201a777ab5b64ac141b446eb,added sshfs fix function to server setup.sh
garrettr,2013-10-14 21:57:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3c973fdc939e94c62ff3762e6b4265c08356398c,3c973fdc939e94c62ff3762e6b4265c08356398c,unit test for file submission
garrettr,2013-10-14 21:54:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba75dcb5ef0749264bac3285b3a7233a3a366935,ba75dcb5ef0749264bac3285b3a7233a3a366935,"Improve file field detection

Previous code was fragile and implicit. This code makes the failure case
explicit, based on the default value of {} passed to web.store as well as notes
from the Python CGI documentation, which is the source of the FieldStorage data
structure. [1]

[1] http://docs.python.org/2/library/cgi.html"
garrettr,2013-10-14 15:14:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/21035f500c15b9d2666f3c1b79fcb69eecf91855,21035f500c15b9d2666f3c1b79fcb69eecf91855,Update codename regex to handle all possible characters
garrettr,2013-10-14 14:57:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/55337a3e4a42ae88cf1e48d5afaf172d14955a43,55337a3e4a42ae88cf1e48d5afaf172d14955a43,Fix codename regex to match <p> instead of <span>
micahflee,2013-10-14 21:56:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e862f7c8a689cb790ec1a169940983622930d89d,e862f7c8a689cb790ec1a169940983622930d89d,"oops, shouldnt overwrite /etc/resolv.conf"
micahflee,2013-10-14 21:40:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/43f6fbd5e06d0d9a73ab24708a664e8199d89a72,43f6fbd5e06d0d9a73ab24708a664e8199d89a72,"Merge pull request #74 from dolanjs/issue69

Issue69"
dolanjs,2013-10-14 21:33:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9ddf47bedbb972c99691008a7186c410e566d73f,9ddf47bedbb972c99691008a7186c410e566d73f,Merge branch 'issue69' of https://github.com/dolanjs/securedrop into issue69
dolanjs,2013-10-14 21:14:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe44d2bcc60d9431ce56a79ebad08ec744b061b8,fe44d2bcc60d9431ce56a79ebad08ec744b061b8,added steps for configuring the journalist workstations authenticated tor hidden service
micahflee,2013-10-14 21:29:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/13c6d26fc38c03c4558fece8e24d728e5d0377e1,13c6d26fc38c03c4558fece8e24d728e5d0377e1,"added /etc/resolv.conf, for #72"
dolanjs,2013-10-14 21:24:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9acbdc63299b8b219722708c4242861b2f15e63d,9acbdc63299b8b219722708c4242861b2f15e63d,corrected raw url
dolanjs,2013-10-14 21:21:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/652f163a140283016f1b0a8612cf3d4d2fe13366,652f163a140283016f1b0a8612cf3d4d2fe13366,"added screen shot

added screen shot of journalist browser"
dolanjs,2013-10-14 21:14:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4527cbb18f35f42f3a7f02f8e0a15b736aeae3b6,4527cbb18f35f42f3a7f02f8e0a15b736aeae3b6,added screen shot of journalist_workstation1 shouw the journalist's unique url
dolanjs,2013-10-14 21:04:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f82614291fc1267cabf0dbbe45feed0a8cc0d2c,7f82614291fc1267cabf0dbbe45feed0a8cc0d2c,wording
dolanjs,2013-10-14 20:55:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04b5a60abd6c511a1b8863423a3c4ea5851b15ec,04b5a60abd6c511a1b8863423a3c4ea5851b15ec,added steps for adding the HidServAuth value to journalist
micahflee,2013-10-14 17:30:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/94407cb28c36629a892bbfc6466f30dcb517016d,94407cb28c36629a892bbfc6466f30dcb517016d,"Merge pull request #73 from dolanjs/gpg-pub-key-name

changed server_setup.sh so that it is not dependent on the default gpg k..."
dolanjs,2013-10-14 17:04:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bb2b7f9879186b6bec8d76ecaf41821fdc1618a4,bb2b7f9879186b6bec8d76ecaf41821fdc1618a4,changed server_setup.sh so that it is not dependent on the default gpg keyname
garrettr,2013-10-14 06:15:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d867375fcaceee25410384acf82195dc25a80c7e,d867375fcaceee25410384acf82195dc25a80c7e,Forgot to import os
garrettr,2013-10-14 05:20:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e318b914be50cd5f920c97dfc39bdbee35f10e29,e318b914be50cd5f920c97dfc39bdbee35f10e29,"Use small keys for unit tests

Fixes previous accidental change to use small keys for everything."
micahflee,2013-10-14 04:37:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ad1885481c16b2ae050146b8de209ad6f4409d81,ad1885481c16b2ae050146b8de209ad6f4409d81,Merge branch 'master' of github.com:freedomofpress/securedrop
micahflee,2013-10-14 04:36:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e8d4d86611530af8a458a706e245719b3175f0d,6e8d4d86611530af8a458a706e245719b3175f0d,updating application PGP public key filename in server_setup.sh
micahflee,2013-10-14 04:21:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8a7da9246905c3c156bdaf6361e609e0c04c8c61,8a7da9246905c3c156bdaf6361e609e0c04c8c61,updating server installation docs
micahflee,2013-10-14 04:03:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/282e6f76220e77d8f896cf65f295bdb38291ae8f,282e6f76220e77d8f896cf65f295bdb38291ae8f,"Merge pull request #70 from GabeIsman/master

Add rails dependency back in to install script"
micahflee,2013-10-14 03:54:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9ff3ef2685f6d33636ebba0eb3810a1518f6490f,9ff3ef2685f6d33636ebba0eb3810a1518f6490f,fixed typos in install doc
micahflee,2013-10-14 03:49:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fdfcb4a21aed8da07b5ef34f2728c635d9151727,fdfcb4a21aed8da07b5ef34f2728c635d9151727,"rewrote viewing station docs, fixes #71"
micahflee,2013-10-14 01:30:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/75784a29bf0270abbc2f030a8b132bb1e93dba16,75784a29bf0270abbc2f030a8b132bb1e93dba16,Merge branch 'master' of github.com:freedomofpress/securedrop
micahflee,2013-10-14 01:30:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e4937d28770c22c8d981c1f9e3ee19894be086a0,e4937d28770c22c8d981c1f9e3ee19894be086a0,"updated UI, fixes #55"
garrettr,2013-10-14 01:24:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2b07440e6f1dae5c53da9c0c116963ddcae3a057,2b07440e6f1dae5c53da9c0c116963ddcae3a057,"Start unit tests for source.py

Adds ids to forms so they can be distinguished by the tests. Small fix to silly
broken code for detecting if the upload form includes a file upload.

The ValueError exception that occurs after the tests run is spurious. It is
caused by a call out to generate a key for the source, which is async.
Meanwhile the tests continue, and tearDownModule wipes out the test directory,
so when gpg is done generating the key it has no keyring to write it to and
exits with an extra-special error code."
GabeIsman,2013-10-14 01:23:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bbc35ef8cc0e149f20cfcc9dd884364d12987c19,bbc35ef8cc0e149f20cfcc9dd884364d12987c19,Whitespace cleanup
GabeIsman,2013-10-14 01:22:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/51055697571ccdb8783ee79b3a44bad2e72733de,51055697571ccdb8783ee79b3a44bad2e72733de,"Revert ""Remove installRails function and doc references""

This reverts commit 511fd41976ede6631ce6e37064cd07834359a480."
diracdeltas,2013-10-14 00:56:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/486494f5f867c361afe0eea4e0662b00d6a83adf,486494f5f867c361afe0eea4e0662b00d6a83adf,Update shash doctest
micahflee,2013-10-14 00:44:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38c19ee4402a791c12e16765769bfadf26f1f600,38c19ee4402a791c12e16765769bfadf26f1f600,more user manual updates (#57)
micahflee,2013-10-14 00:43:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/afb4c668df88ef3818c63f54d8bda35a99438c13,afb4c668df88ef3818c63f54d8bda35a99438c13,"made code name display in a block element instead of inline, because of weird firefox bug involving adding extra whitespace when copying from inline elements"
micahflee,2013-10-14 00:34:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f438cf83328eb8841172d3b885b5807310cbd323,f438cf83328eb8841172d3b885b5807310cbd323,Merge branch 'master' of github.com:freedomofpress/securedrop
Hainish,2013-10-14 00:28:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ac83966921b95cd57d8842834fe2fcfe415f1f5a,ac83966921b95cd57d8842834fe2fcfe415f1f5a,changing the gnupg params
micahflee,2013-10-14 00:24:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a14db2c3c291cfd2473b697731ca9e60e9aa4b14,a14db2c3c291cfd2473b697731ca9e60e9aa4b14,changing dependency from gnupg to python-gnupg
Hainish,2013-10-14 00:20:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c25ae62ee82e367fb6cf9655e98cb495e763165d,c25ae62ee82e367fb6cf9655e98cb495e763165d,reverting to old python-gnupg lib
garrettr,2013-10-14 00:02:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6bb6bb715dd5d0ef7e1d49a8dc0e561aa9977764,6bb6bb715dd5d0ef7e1d49a8dc0e561aa9977764,Merge remote-tracking branch 'upstream/master'
garrettr,2013-10-14 00:01:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/044af82fb51846ae82d12fbc58ae33e0c79b2ba4,044af82fb51846ae82d12fbc58ae33e0c79b2ba4,"Switch back to python-gnupg for now

Porting to gnupg ended up being non-trivial. We still want to do this
eventually, but we found several bugs in gnupg and don't want to be blocked on
it anymore."
micahflee,2013-10-13 23:47:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/606f0620a0a5865dc291f4b48c69d06f89aec345,606f0620a0a5865dc291f4b48c69d06f89aec345,started to write source user manual (#57)
micahflee,2013-10-13 23:37:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/022260cdb6412074c157d277e2bb365a5859f513,022260cdb6412074c157d277e2bb365a5859f513,Merge branch 'master' of github.com:freedomofpress/securedrop
diracdeltas,2013-10-13 23:28:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78af2e7a71ab658f8781e215d4005810a99aee51,78af2e7a71ab658f8781e215d4005810a99aee51,Merge branch 'master' of https://github.com/freedomofpress/deaddrop
diracdeltas,2013-10-13 23:28:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/88b73c9bac8fd927beb4e77ba3351f3ba304d56b,88b73c9bac8fd927beb4e77ba3351f3ba304d56b,"GPG_KEY_LENGTH should be number, not string"
micahflee,2013-10-13 23:26:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0c30cd71d98c078dddceaa9d65ac5aeb0c050ab6,0c30cd71d98c078dddceaa9d65ac5aeb0c050ab6,Merge branch 'master' of github.com:freedomofpress/securedrop
Hainish,2013-10-13 23:25:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de9a046cd2cb8831beaa82d71def4ba56aa1e70c,de9a046cd2cb8831beaa82d71def4ba56aa1e70c,crap
Hainish,2013-10-13 23:22:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1a8bef6cfb152aa1cb9c39fa3870b519945412cb,1a8bef6cfb152aa1cb9c39fa3870b519945412cb,remove debug statement
micahflee,2013-10-13 23:21:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/719f9b2888d13ee16b3b41f0346a382bb9edecbd,719f9b2888d13ee16b3b41f0346a382bb9edecbd,renamed ubuntuconfig.md to ubuntu_config.md
Hainish,2013-10-13 23:21:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1f45dca2b35eb1b9c395f79e6bf5f71261a9596f,1f45dca2b35eb1b9c395f79e6bf5f71261a9596f,whoops: shquote needed to wrap filename
micahflee,2013-10-13 23:18:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5609264f2409e026415e7716450bee50c37139ec,5609264f2409e026415e7716450bee50c37139ec,Merge branch 'master' of github.com:freedomofpress/securedrop
micahflee,2013-10-13 23:18:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ceb4861cc2049dbceaa550ce46821f00bc3e94e0,ceb4861cc2049dbceaa550ce46821f00bc3e94e0,removing our own GUI for file encryption (#27)
Hainish,2013-10-13 23:16:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be1399a458c70b799ddbd5981e88daf1eb426a91,be1399a458c70b799ddbd5981e88daf1eb426a91,"changing encrypt_file to encrypt, with fn as output"
micahflee,2013-10-13 23:07:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/91f6c818487652418d7a6799b6d53118585219c9,91f6c818487652418d7a6799b6d53118585219c9,Merge branch 'master' of github.com:freedomofpress/securedrop
micahflee,2013-10-13 23:07:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f25f62b8f9bb76725a3965a3f058e614ae8d11ed,f25f62b8f9bb76725a3965a3f058e614ae8d11ed,starting on document UI improvements (#55)
micahflee,2013-10-13 23:05:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2e21e5e8d13c3300063372897571252cea5b9300,2e21e5e8d13c3300063372897571252cea5b9300,displaying version on both source and document interfaces
micahflee,2013-10-13 22:56:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ff90c423663209ea981242d42bd81ab1d1872bd1,ff90c423663209ea981242d42bd81ab1d1872bd1,improved source UI (#55)
Hainish,2013-10-13 22:13:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5c18b2d5bd3dfca19d3febe946ee4101144e8e91,5c18b2d5bd3dfca19d3febe946ee4101144e8e91,changing from list to parameter to avoid gnupg lib error
Hainish,2013-10-13 20:55:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aa844f5577390c552cb752b0606053ea1ccbe6b0,aa844f5577390c552cb752b0606053ea1ccbe6b0,changing fp to fingerprint for clarity
micahflee,2013-10-13 20:52:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/84a0b89b681e7e95ecd8bf2fccf24df3c340dca2,84a0b89b681e7e95ecd8bf2fccf24df3c340dca2,"changed tabs to spaces in hacking.md, and added python-dev dep"
garrettr,2013-10-13 20:10:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d22dd16d09987e87e331f9b5c1d222043c19f20,0d22dd16d09987e87e331f9b5c1d222043c19f20,Merge remote-tracking branch 'upstream/master'
micahflee,2013-10-13 20:09:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a16c19ed11223e267401b43c6e88e4384f66dbd4,a16c19ed11223e267401b43c6e88e4384f66dbd4,"Merge pull request #66 from GabeIsman/removerails

Remove installRails function and doc references"
garrettr,2013-10-10 03:04:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7d1468ae23252c16ed8afd5ba619e538024c58a5,7d1468ae23252c16ed8afd5ba619e538024c58a5,"Add JOURNALIST_KEY instructions for developers

Some rearranging for a clearer set of instructions, minor style fixes."
garrettr,2013-10-10 02:44:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a1f11a88c68aebcef749fcab172c029ae2ffabab,a1f11a88c68aebcef749fcab172c029ae2ffabab,"Don't version control config.py

We should only keep the config template in git. Keeping config.py (even as
a symlink) creates all kinds of problems:

1. modifying it for your deploy shows up as local changes
2. easy to accidentally `git commit -a` and push sensitive data
3. doesn't correspond to the instructions in HACKING.md"
GabeIsman,2013-10-13 20:05:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/511fd41976ede6631ce6e37064cd07834359a480,511fd41976ede6631ce6e37064cd07834359a480,Remove installRails function and doc references
micahflee,2013-10-13 19:55:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d3c48604135f0270bef34dc698c467f75395f24c,d3c48604135f0270bef34dc698c467f75395f24c,"Merge pull request #65 from garrettr/tests

Skeletal test harness"
Hainish,2013-10-13 01:29:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/60ce0165aa31ee7d84f5936509eebe1797dd5fd9,60ce0165aa31ee7d84f5936509eebe1797dd5fd9,added an ajax regenerate control
Hainish,2013-10-13 01:29:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0d15589edbaa0b18beb39ea48f6262922a2b7d20,0d15589edbaa0b18beb39ea48f6262922a2b7d20,stylized regenerate form
Hainish,2013-10-13 01:28:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a607e9f4c68a3253e486f056a0a7490858e3ee84,a607e9f4c68a3253e486f056a0a7490858e3ee84,"/generate/ is now a GET endpoint, which POST refers to when provided with # of words.  added endpoint /create/ to create docstore. added form to regenerate codes"
Hainish,2013-10-07 01:38:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf38247c57e46bc595659da2d4fa7692badbfe3e,bf38247c57e46bc595659da2d4fa7692badbfe3e,regenerate code link
Hainish,2013-10-07 01:18:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3cbda85b6cd7c8f640410bae8fb0c7673fca183a,3cbda85b6cd7c8f640410bae8fb0c7673fca183a,fixing indentation for gen_ajax
Hainish,2013-10-06 23:20:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5cf57f27c437a69661fa6483ab96fc590a0560d5,5cf57f27c437a69661fa6483ab96fc590a0560d5,adding ui.js
Hainish,2013-10-06 23:01:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f92f646f3089eed0e852f193f366b8d2ce2fa70e,f92f646f3089eed0e852f193f366b8d2ce2fa70e,adding jquery
Hainish,2013-10-06 22:27:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9f969f8e111b998f8e1d20da05e3185a074636d,d9f969f8e111b998f8e1d20da05e3185a074636d,adding json password gen endpoint
garrettr,2013-10-12 19:46:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/24f9d20c9680b8cc9ad030de0affd4d30cf174da,24f9d20c9680b8cc9ad030de0affd4d30cf174da,"Skeletal test harness

To run, `./test.py`

The test harness sets an environment variable before importing config.py, which
tells config to use a ""test environment"" (store dir, key dir, and journalist
key) instead of the production environment.

I created a journalist keypair and included it in the repo for testing.
Generating a GPG keypair can be very time-consuming, and we want to be able to
run tests as fast as possible. The keypair is clearly marked so it is not used
by anyone for anything besides testing this application."
micahflee,2013-10-12 06:48:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a64fd2f40f4db8acc110fe23434dc029877325e1,a64fd2f40f4db8acc110fe23434dc029877325e1,started the user manual
micahflee,2013-10-12 06:38:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8ba05a81111935bfeeda50b37379d5cb12a57795,8ba05a81111935bfeeda50b37379d5cb12a57795,updating to isis's gnupg module
micahflee,2013-10-12 06:15:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6d092dbde7bcb120c8c6b6a5b133e7eaa3dfcbdd,6d092dbde7bcb120c8c6b6a5b133e7eaa3dfcbdd,improve server installation docs
micahflee,2013-10-12 06:15:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/12b52b05c1a0fcb261600d64304464e8a1868093,12b52b05c1a0fcb261600d64304464e8a1868093,add SMTP server requirement to readme
micahflee,2013-10-12 06:15:08,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4dab0ab79911c4867828b5c8876eb4555dbc6fbc,4dab0ab79911c4867828b5c8876eb4555dbc6fbc,more server_setup.sh wording fixes
micahflee,2013-10-12 05:30:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2bd032eab005c03d5462ddc019c71ed444946d90,2bd032eab005c03d5462ddc019c71ed444946d90,fixed lots of wording in step 2 of server_setup.sh
micahflee,2013-10-12 05:01:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4c601012764de685b8e194aa73a61d5dfaa27293,4c601012764de685b8e194aa73a61d5dfaa27293,"update ossec-binary url (#42), and make grsec step optional in server_setup.sh"
micahflee,2013-10-12 04:55:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3de58cdbfed762a06b63707f245b21211eb46241,3de58cdbfed762a06b63707f245b21211eb46241,"renamed PGP key to securedrop.asc, and updated user interface in server_setup.sh"
micahflee,2013-10-12 04:55:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c9a311d56538700eec6a92e495e1b71edaf66433,c9a311d56538700eec6a92e495e1b71edaf66433,"removed grsec instructions, they are too complicated for us to maintain"
micahflee,2013-10-12 04:29:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e398e69dcee6d87fa8822646189afc67cec7c6f2,e398e69dcee6d87fa8822646189afc67cec7c6f2,"Merge branch 'installScripts' of github.com:freedomofpress/securedrop-old

Conflicts:
	viewing_setup.sh"
micahflee,2013-10-12 03:59:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b7a3d5f6ef2646da73ddd2bc7fe6ba42cb38338a,b7a3d5f6ef2646da73ddd2bc7fe6ba42cb38338a,Merge branch 'master' of github.com:micahflee/securedrop
micahflee,2013-10-12 03:59:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a4767b8666cdf0565d90c3bd3db185f23100d4e5,a4767b8666cdf0565d90c3bd3db185f23100d4e5,updating viewing station instructions
dolanjs,2013-10-12 03:47:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9dec8f99be896f60b40a69a0d7152a11bd17f96e,9dec8f99be896f60b40a69a0d7152a11bd17f96e,changed file dir per micah
micahflee,2013-10-12 03:46:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/14e80a7cd09388849457f8beba5e67bab48b1570,14e80a7cd09388849457f8beba5e67bab48b1570,save PGP public key to securedrop.asc instead of secure_drop.asc
micahflee,2013-10-12 03:40:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3a41bdc871b74292475fe56e225564435dbe8d0e,3a41bdc871b74292475fe56e225564435dbe8d0e,viewing_setup.sh wasn't successfully saving secure_drop.asc
dolanjs,2013-10-12 03:34:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e786a6a827423580198fd4af5deb0391ccc99492,e786a6a827423580198fd4af5deb0391ccc99492,uncommented puppet install and commented out authd until work out bugs
micahflee,2013-10-12 03:29:34,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2a968fd13e9c65a855cf77abd7a6db7916a06c2c,2a968fd13e9c65a855cf77abd7a6db7916a06c2c,Merge branch 'installScripts' of github.com:freedomofpress/securedrop-old
dolanjs,2013-10-12 03:25:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/037ff69e013a2562f75f947fc455d07bfda65d7c,037ff69e013a2562f75f947fc455d07bfda65d7c,changed veiwing station script to use deafult gnupg dir and output secure_drop.asc to Persistent dir
micahflee,2013-10-12 02:43:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6dc1de1788664fdb186139014b26d2061bc83273,6dc1de1788664fdb186139014b26d2061bc83273,"Merge branch 'installScripts' of github.com:freedomofpress/securedrop-old

Conflicts:
	modules/deaddrop/files/deaddrop/journalist.py"
micahflee,2013-10-12 02:40:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c51c70e737d80f77c67f7f6b0c5c0e5cb26b14fb,c51c70e737d80f77c67f7f6b0c5c0e5cb26b14fb,beginning to update and fix installation instructions for viewing station
dolanjs,2013-10-12 01:42:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8e42aae873264306f2fcacc136c0ad754b75f2f3,8e42aae873264306f2fcacc136c0ad754b75f2f3,regex fixes from securedrop that garrett submitted
dolanjs,2013-10-12 01:31:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5b59e8c51f92563d2deb7a2597df3d91a43555cc,5b59e8c51f92563d2deb7a2597df3d91a43555cc,switched back to pip install gnupg isis' lib
dolanjs,2013-10-11 22:23:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3fa4723d765f1bf885d0ad1ebdaac7a00605c24a,3fa4723d765f1bf885d0ad1ebdaac7a00605c24a,added python script to gen bcrypt salt
dolanjs,2013-10-11 21:57:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/79ae3d6729e3f53821d437a613485490b21f4fe3,79ae3d6729e3f53821d437a613485490b21f4fe3,display tor urls at end of running puppet manifests
dolanjs,2013-10-11 21:22:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d0704c38062fb226e2092ad58c4078735fc926e,1d0704c38062fb226e2092ad58c4078735fc926e,Update crypto.py
dolanjs,2013-10-11 20:02:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0205058e2aae3b4b3c3cd7edc1620dfd3761ffc3,0205058e2aae3b4b3c3cd7edc1620dfd3761ffc3,switch it back to python-gnupg as directed
micahflee,2013-10-11 04:06:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/99bbb1467018ac128d0111778a873673a2132851,99bbb1467018ac128d0111778a873673a2132851,Merge branch 'old-installScripts'
micahflee,2013-10-11 04:05:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3d20d825cfb9e3a55b244203247b30c9fd2796ba,3d20d825cfb9e3a55b244203247b30c9fd2796ba,"Revert ""made filenames snakecase instead of camelcase""

This reverts commit f85fbec9583f0cd1a22e73d99912e75a69ce2141."
micahflee,2013-10-11 03:36:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5032d6212a25c9d05c7c005e1e718fa81155407f,5032d6212a25c9d05c7c005e1e718fa81155407f,"Merge pull request #53 from garrettr/fix-journalist-submission-links-404

Fix regexes for submissions and downloads"
garrettr,2013-10-11 02:01:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/976e4bdb97240eb6ea9516bb5760142f57bfacf9,976e4bdb97240eb6ea9516bb5760142f57bfacf9,"Fix regexes for submissions and downloads

Switching to b32 encoding (part of the bcrypt changes) broke these links, which
expected b16.

Fixes #52."
micahflee,2013-10-10 18:03:49,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f85fbec9583f0cd1a22e73d99912e75a69ce2141,f85fbec9583f0cd1a22e73d99912e75a69ce2141,made filenames snakecase instead of camelcase
micahflee,2013-10-10 17:29:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc002751dac3c1060fce5c4ddc9bd906063c7a25,bc002751dac3c1060fce5c4ddc9bd906063c7a25,Merge branch 'old-master'
micahflee,2013-10-10 16:12:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f7d8dd30abe6716813b39967801f3c7eb12d91bc,f7d8dd30abe6716813b39967801f3c7eb12d91bc,removing non-license stuff from the license
micahflee,2013-10-10 04:54:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e7e33e34b035a8bc95a5b53c10b8883acbcc5f62,e7e33e34b035a8bc95a5b53c10b8883acbcc5f62,Merge branch 'master' of github.com:freedomofpress/securedrop
micahflee,2013-10-10 04:54:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/de9f8f6725020234ccbc92b1fa8c61027f1555fd,de9f8f6725020234ccbc92b1fa8c61027f1555fd,give diceware attribution to satisfy CC-BY (fixes #49)
micahflee,2013-10-10 04:45:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ea01efc9725b364b42b3c5a2d95b9ef865673f2b,ea01efc9725b364b42b3c5a2d95b9ef865673f2b,"Merge pull request #50 from garrettr/show-version

Add version info to footer of source pages"
garrettr,2013-10-10 03:35:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e42709f704668a9a9c8fec657b70af24f0d3fa92,e42709f704668a9a9c8fec657b70af24f0d3fa92,Add version info to footer of source pages
micahflee,2013-10-09 21:18:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/16fd62d3640041695e49da165314e8e7611452bc,16fd62d3640041695e49da165314e8e7611452bc,also need to update the verify filename
micahflee,2013-10-09 21:17:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ea8669302a08a4156102d4150763751386af1579,ea8669302a08a4156102d4150763751386af1579,new grsec patch URLs
micahflee,2013-10-09 18:44:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/dd1bf6a012958e78885e963ef45d61eba433d387,dd1bf6a012958e78885e963ef45d61eba433d387,"Merge pull request #48 from garrettr/fix-python-gnupg-parameters

Fix parameters to gnupg.GPG()"
garrettr,2013-10-09 18:34:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/da8784fa1f962d88171d51aa7387cd092ef49e89,da8784fa1f962d88171d51aa7387cd092ef49e89,"Fix parameters to gnupg.GPG()

This code originally used the gnupg Python library [1]. The installation
instructions were recently updated to recommned the use of the python-gnupg
library [2] instead. This code was forked from gnupg, but has a slightly
different interface, so the code was broken after the update.

[1] https://pypi.python.org/pypi/gnupg/1.2.3
[2] https://pypi.python.org/pypi/python-gnupg/0.3.5"
micahflee,2013-10-09 17:54:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/187803ed19bb6da8fd0121fb07da2efd329fc132,187803ed19bb6da8fd0121fb07da2efd329fc132,added grsec docs
dolanjs,2013-10-09 17:35:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cd8e636fbb10617a1300ca76c4255be651182ea0,cd8e636fbb10617a1300ca76c4255be651182ea0,"Updated hackme to instruct people to use pip install gnupg

Updated hackme to instruct people to use pip install gnupg instead of pip install python-gnupg"
dolanjs,2013-10-09 13:32:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/38d0148967d7f8b242f4957cd24392abad7bb5ed,38d0148967d7f8b242f4957cd24392abad7bb5ed,bcrypt stuff
dolanjs,2013-10-09 12:30:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e83d81ba6af23b8cc034478e80f6c4745e1d859b,e83d81ba6af23b8cc034478e80f6c4745e1d859b,change install script to install 'pip install gnupg' instead of 'pip install python-gnupg'
dolanjs,2013-10-09 12:17:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/43ac5afb6c46c5717ea72cc7c7d762996cdd1b7f,43ac5afb6c46c5717ea72cc7c7d762996cdd1b7f,adding bcrypt fix
dolanjs,2013-10-09 05:18:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d9eaccdbf0cd850031eb78bce7be565e6b5dafa,1d9eaccdbf0cd850031eb78bce7be565e6b5dafa,added displaying the gpg public key fingerprint
dolanjs,2013-10-09 04:54:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d7400a8bc2b7daf7b036d8fea0bfcc3c70cd8c53,d7400a8bc2b7daf7b036d8fea0bfcc3c70cd8c53,update comments in serverSetup.sh script
micahflee,2013-10-09 04:24:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d49565d296481caa08f08f7407560d2d798a70b0,d49565d296481caa08f08f7407560d2d798a70b0,linked readme to the install guide
micahflee,2013-10-09 04:14:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c943ee4bc939791c6f3e98f1eeee7303530d1126,c943ee4bc939791c6f3e98f1eeee7303530d1126,fixed readme
diracdeltas,2013-10-09 01:51:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e843653daf449c0e0162bdebfca1a964d79fb313,e843653daf449c0e0162bdebfca1a964d79fb313,Merge branch 'journalist-interface' of https://github.com/freedomofpress/deaddrop into journalist-interface
diracdeltas,2013-10-09 01:48:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f9ef19dda17c7f9099d54426392c967d5a7452ad,f9ef19dda17c7f9099d54426392c967d5a7452ad,Move the svs interface into the module folder
diracdeltas,2013-10-09 01:46:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/610cd09ff27c7206ef1e56e76e7d6d468a0a3add,610cd09ff27c7206ef1e56e76e7d6d468a0a3add,Add better comments
diracdeltas,2013-10-09 01:42:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e21be78442d8662804709c57d1c55d0ca5f8cb1f,e21be78442d8662804709c57d1c55d0ca5f8cb1f,Change basedir to be inside home
diracdeltas,2013-10-09 01:22:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/009ceef2a5fb818ef3ea653279808b32051483ee,009ceef2a5fb818ef3ea653279808b32051483ee,Remove non-error message popups
diracdeltas,2013-10-08 22:02:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/35000975f7faaa3580b2708621d84f41fed81480,35000975f7faaa3580b2708621d84f41fed81480,Put files in /tmp for now
diracdeltas,2013-10-08 21:51:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/39fda8b591cccbe278458ed2bbb57f3989c63b53,39fda8b591cccbe278458ed2bbb57f3989c63b53,Escape unsafe chars in GPG output
diracdeltas,2013-10-08 21:12:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/77682a1d4a817a08d00fc41136f9d3d08be4eccc,77682a1d4a817a08d00fc41136f9d3d08be4eccc,GPG stderr is not valid markup
diracdeltas,2013-10-08 21:03:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9d87fe6443678e0d4918e9a2cff0a5701266b3f9,9d87fe6443678e0d4918e9a2cff0a5701266b3f9,Add file chooser
diracdeltas,2013-10-08 20:11:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/726bf5e5a60cff4c9e470acd0b9f4e8917163aa2,726bf5e5a60cff4c9e470acd0b9f4e8917163aa2,Add text entry dialogs
diracdeltas,2013-10-08 19:53:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ecfcc41e46e89f81a75951adf4cb8b59462a40f3,ecfcc41e46e89f81a75951adf4cb8b59462a40f3,Test and fix dialog boxes so they close
diracdeltas,2013-10-08 19:29:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/faf6aa2bce6c3c0a114480c869b24a91000d1166,faf6aa2bce6c3c0a114480c869b24a91000d1166,Start switching from tkinter to pygtk
diracdeltas,2013-10-07 19:34:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/53647b531625c6772902b87e18f71009c33ea773,53647b531625c6772902b87e18f71009c33ea773,"Clean up, add comments"
diracdeltas,2013-10-07 19:28:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9b265049999cffca755097ea6431780517ed6788,9b265049999cffca755097ea6431780517ed6788,Add scrollbar
diracdeltas,2013-10-07 19:16:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/910452b3edae4002f7e337c25f2bdee6b29e0694,910452b3edae4002f7e337c25f2bdee6b29e0694,Change subprocess.call to subprocess.Popen
diracdeltas,2013-10-07 18:18:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/40baf351bb4a6e664bb6d944deb3043762920432,40baf351bb4a6e664bb6d944deb3043762920432,minor UI improvements
diracdeltas,2013-10-07 18:12:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2c37dd895b2e836625df5a495e3848a1758d10a8,2c37dd895b2e836625df5a495e3848a1758d10a8,improvements to text
diracdeltas,2013-10-07 17:31:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/79dca8ac7fef2917540097df00558c706daca59a,79dca8ac7fef2917540097df00558c706daca59a,Add dialog for getting recipients for encryption
diracdeltas,2013-10-07 17:17:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6b26ece284d65ee5c8a744ee71099744af499dd6,6b26ece284d65ee5c8a744ee71099744af499dd6,Avoid global namespace pollution
diracdeltas,2013-10-07 16:58:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2f08b8f65bfb0c128451e8f5dadc7683fed1d178,2f08b8f65bfb0c128451e8f5dadc7683fed1d178,Typo
diracdeltas,2013-10-07 16:42:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5371813279e821488f5e5f7669144078041477c8,5371813279e821488f5e5f7669144078041477c8,Fix bugs in directory naming
diracdeltas,2013-10-07 02:14:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/04872cafb5c2145db4e43a38be6d3f0c7385e480,04872cafb5c2145db4e43a38be6d3f0c7385e480,Add batch encrypt/decrypt methods (untested)
diracdeltas,2013-10-07 01:05:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7a901a8edd850dc5e2e75c89362444768722592c,7a901a8edd850dc5e2e75c89362444768722592c,Add method to encrypt files
diracdeltas,2013-10-07 00:37:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cac279b3b26ff65d5672273f9050b1b79796be86,cac279b3b26ff65d5672273f9050b1b79796be86,Start writing SVS interface for GPG operations
diracdeltas,2013-10-09 01:48:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45a7860b6dbe4787063b4c67accd1b1d5ae1523c,45a7860b6dbe4787063b4c67accd1b1d5ae1523c,Move the svs interface into the module folder
diracdeltas,2013-10-09 01:46:20,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ffdb7d8fbd55d20bd91f33ccc5c6105f0a44d57e,ffdb7d8fbd55d20bd91f33ccc5c6105f0a44d57e,Add better comments
diracdeltas,2013-10-09 01:42:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/47aa123f71b70c3693b85cc8d069085da1f93173,47aa123f71b70c3693b85cc8d069085da1f93173,Change basedir to be inside home
diracdeltas,2013-10-09 01:22:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/564161668dc8cc570c79e504de2c454dcc481087,564161668dc8cc570c79e504de2c454dcc481087,Remove non-error message popups
diracdeltas,2013-10-08 22:02:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/beedda7b00a9dd31ef2df550339924a5a82e41cf,beedda7b00a9dd31ef2df550339924a5a82e41cf,Put files in /tmp for now
diracdeltas,2013-10-08 21:51:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bc81dba3e7893a55acee46742e8594234e014015,bc81dba3e7893a55acee46742e8594234e014015,Escape unsafe chars in GPG output
diracdeltas,2013-10-08 21:12:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0805ef789288b49aab19fcf910baaade689550ca,0805ef789288b49aab19fcf910baaade689550ca,GPG stderr is not valid markup
diracdeltas,2013-10-08 21:03:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/63934a315d8a216a071d627c130c8c36b0999305,63934a315d8a216a071d627c130c8c36b0999305,Add file chooser
diracdeltas,2013-10-08 20:11:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/55d195fe7107ab3d1341801626ca03126951d2f0,55d195fe7107ab3d1341801626ca03126951d2f0,Add text entry dialogs
diracdeltas,2013-10-08 19:53:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fab491233bb1ddd45b1635aa3235adfcbd2cc75c,fab491233bb1ddd45b1635aa3235adfcbd2cc75c,Test and fix dialog boxes so they close
diracdeltas,2013-10-08 19:29:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7f91a023687f230a597f0f0ba570ebba326dbf90,7f91a023687f230a597f0f0ba570ebba326dbf90,Start switching from tkinter to pygtk
dolanjs,2013-10-08 06:26:21,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bf037a0e35afce065307aafd47f4400b28c11252,bf037a0e35afce065307aafd47f4400b28c11252,"changed to serverInstall.sh and viewingInstall.sh to serverSetup.sh
viewingSetup.sh"
dolanjs,2013-10-08 06:15:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/14d6314c1836efc1c94358491b546ccf99948c2f,14d6314c1836efc1c94358491b546ccf99948c2f,added generating gpg keypair for the application
dolanjs,2013-10-08 03:55:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2bde5a9258ee38e108e26908eac74d3524041d4c,2bde5a9258ee38e108e26908eac74d3524041d4c,changed script names to reflect new host names
micahflee,2013-10-08 01:36:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/237b5c9cc60ed88a31b4d99b350175663137e258,237b5c9cc60ed88a31b4d99b350175663137e258,added logo and announcement teaser
micahflee,2013-10-08 01:35:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3c2be99a01cb74ba6a5c0caabb8645172b4371d0,3c2be99a01cb74ba6a5c0caabb8645172b4371d0,updating image url in docs
Hainish,2013-10-07 21:02:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec0bc3c5b35acdf63025470c91a635ed1849ae87,ec0bc3c5b35acdf63025470c91a635ed1849ae87,"reducing # of words from 10 to 8 by default - 129 to 103 bits of entropy, but more memorable"
diracdeltas,2013-10-07 19:34:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/238a70f48ff9454772078bb116ca836ffc53f0f6,238a70f48ff9454772078bb116ca836ffc53f0f6,"Clean up, add comments"
diracdeltas,2013-10-07 19:28:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2274ee185577321b185501086fd3359925e508ea,2274ee185577321b185501086fd3359925e508ea,Add scrollbar
diracdeltas,2013-10-07 19:16:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d315cf85fd23df8eba46331bb0e3f93cdc7b40af,d315cf85fd23df8eba46331bb0e3f93cdc7b40af,Change subprocess.call to subprocess.Popen
thisisparker,2013-10-07 18:27:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bcc048ef5ec1b230bec5e8127cbbc300276b4273,bcc048ef5ec1b230bec5e8127cbbc300276b4273,added labels to USB drives
diracdeltas,2013-10-07 18:18:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2a04f2b606a07da64eb6b26622d7994b8af02601,2a04f2b606a07da64eb6b26622d7994b8af02601,minor UI improvements
diracdeltas,2013-10-07 18:12:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/096fe3756e113ce1c33614c56bb3c38c9a1a4b9f,096fe3756e113ce1c33614c56bb3c38c9a1a4b9f,improvements to text
diracdeltas,2013-10-07 17:31:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/084d610ce63b147c79d6f2b3dbd9561d2bcabb66,084d610ce63b147c79d6f2b3dbd9561d2bcabb66,Add dialog for getting recipients for encryption
diracdeltas,2013-10-07 17:17:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f919b03e2fd44c86246fe8e068de837c74e4d66,6f919b03e2fd44c86246fe8e068de837c74e4d66,Avoid global namespace pollution
diracdeltas,2013-10-07 16:58:42,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4acb7bae8f6e356b5d9f23264c8a283a6a4f58b5,4acb7bae8f6e356b5d9f23264c8a283a6a4f58b5,Typo
diracdeltas,2013-10-07 16:42:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/00ec4db37116023126e4d9c7ad6b59f2a3232a7a,00ec4db37116023126e4d9c7ad6b59f2a3232a7a,Fix bugs in directory naming
thisisparker,2013-10-07 07:09:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7ffa2d65f1de05b12bbe18c73cdf58bf5f775344,7ffa2d65f1de05b12bbe18c73cdf58bf5f775344,Merge branch 'master' of github.com:freedomofpress/securedrop
thisisparker,2013-10-07 07:09:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d1405df2a25de74be890a35259ba9636c49cbde5,d1405df2a25de74be890a35259ba9636c49cbde5,added ascii server diagram
Hainish,2013-10-07 03:03:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8e97e7ca29c188f6b4d6d2027c218818068dd823,8e97e7ca29c188f6b4d6d2027c218818068dd823,fixup
Hainish,2013-10-07 03:00:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ec584c8408b49b2d72f94671c06b125a6747d069,ec584c8408b49b2d72f94671c06b125a6747d069,fixing indentation for css
diracdeltas,2013-10-07 02:14:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ce5d528d1738298054f8a152eca186192c3b0369,ce5d528d1738298054f8a152eca186192c3b0369,Add batch encrypt/decrypt methods (untested)
thisisparker,2013-10-07 01:39:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e5380654b79e5912dcc6826a1a1fba94def0bef4,e5380654b79e5912dcc6826a1a1fba94def0bef4,changed heading
thisisparker,2013-10-07 01:37:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fc02367e1918f065fa53810d217b4ac07139296b,fc02367e1918f065fa53810d217b4ac07139296b,"rename Viewing Station, scripts"
thisisparker,2013-10-07 01:24:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/47ab258ce90e702c58a8ad2d793b2d545a9fd8b0,47ab258ce90e702c58a8ad2d793b2d545a9fd8b0,Merge branch 'master' of github.com:freedomofpress/securedrop
thisisparker,2013-10-07 01:24:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/35e1c0570a9f46adb3e17cfe36a08ba6b9e6e3f1,35e1c0570a9f46adb3e17cfe36a08ba6b9e6e3f1,lots of install updates
diracdeltas,2013-10-07 01:05:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7492133cbf46c2bfcf07b18d4d68de896c9eac69,7492133cbf46c2bfcf07b18d4d68de896c9eac69,Add method to encrypt files
micahflee,2013-10-07 01:02:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f984c429c157745cafb6c92fcf5c55f402269b2d,f984c429c157745cafb6c92fcf5c55f402269b2d,fixed image in ubuntu config
micahflee,2013-10-07 01:00:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4ba59c293bb02935e3a8e49ecaf4600101f01d90,4ba59c293bb02935e3a8e49ecaf4600101f01d90,"update ubuntu config, and testing relative image link"
micahflee,2013-10-07 00:53:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9765ed77067008ce38771a41983d18d1110bb446,9765ed77067008ce38771a41983d18d1110bb446,add ubuntu server image
micahflee,2013-10-07 00:50:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2ce2c1bce563b5b3c41a6d6ac0674ce5e3d56c0d,2ce2c1bce563b5b3c41a6d6ac0674ce5e3d56c0d,added back ubuntu config
micahflee,2013-10-07 00:48:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/aeec5d0e8da3ec77852685bc93edd7932fbfdad4,aeec5d0e8da3ec77852685bc93edd7932fbfdad4,"Merge branch 'master' of github.com:freedomofpress/securedrop

Conflicts:
	docs/grsec.md"
micahflee,2013-10-07 00:47:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/70c2d6abc214528d74552471a1ce712f2854b247,70c2d6abc214528d74552471a1ce712f2854b247,wrote draft of ubuntu server config docs
diracdeltas,2013-10-07 00:37:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f017dd14ae8db7b05f618856830f972af90a88d5,f017dd14ae8db7b05f618856830f972af90a88d5,Start writing SVS interface for GPG operations
Hainish,2013-10-07 00:37:43,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d9588839194fe2ab05f081993d3490f32f133e75,d9588839194fe2ab05f081993d3490f32f133e75,fixing indentation of generate.html
Hainish,2013-10-07 00:03:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f043de97ad1454dacca22f369b918cd51f517818,f043de97ad1454dacca22f369b918cd51f517818,fixing bug with directories introduced by moving to bcrypt
pemulis,2013-10-06 23:56:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1d5f9958208486b9dcef04eaf0410bf67715cb29,1d5f9958208486b9dcef04eaf0410bf67715cb29,comment out a section
pemulis,2013-10-06 23:51:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5d7b89bde8905d181c6bbf12708f131f902e292a,5d7b89bde8905d181c6bbf12708f131f902e292a,add another subheader
pemulis,2013-10-06 23:36:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6f52f8d6bd11dbf7ea25ca3f4e9c8230e739f11e,6f52f8d6bd11dbf7ea25ca3f4e9c8230e739f11e,set up skeleton of the documentation
thisisparker,2013-10-06 23:23:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/68d4d30a0d41c71c1934cdcdfcb4d9fa97675f59,68d4d30a0d41c71c1934cdcdfcb4d9fa97675f59,fixed em dashes
thisisparker,2013-10-06 23:22:17,https://api.github.com/repos/freedomofpress/securedrop/git/commits/33c6c04b911481651dbf17d32ba46dec0b606513,33c6c04b911481651dbf17d32ba46dec0b606513,moving install instructions to separate install doc
thisisparker,2013-10-06 23:01:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a81b2d1282aadc82f705937ce035e0ae6003d33d,a81b2d1282aadc82f705937ce035e0ae6003d33d,created initial grsec.md file
thisisparker,2013-10-06 22:59:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/78cc9e7d186358b28cc0c8d9efc24ab7bb871d32,78cc9e7d186358b28cc0c8d9efc24ab7bb871d32,Created docs folder
thisisparker,2013-10-06 22:49:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/570706aa7931c2c6a707c1f34c5e49347205fced,570706aa7931c2c6a707c1f34c5e49347205fced,Merge branch 'master' of github.com:freedomofpress/securedrop
thisisparker,2013-10-06 22:49:24,https://api.github.com/repos/freedomofpress/securedrop/git/commits/026283fab88c23eab9b143041ddd7765113d672e,026283fab88c23eab9b143041ddd7765113d672e,"readme changes: adding 'before you begin' section, prepping grsec and server config for moving out"
Hainish,2013-10-06 22:42:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8e0288a0f6e012837f4ebe284c808892de9d0c85,8e0288a0f6e012837f4ebe284c808892de9d0c85,fixing indentation on html
Hainish,2013-10-06 22:34:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4da69f7e0ab6c77f5fb01a9f9eb6b4322232e1fc,4da69f7e0ab6c77f5fb01a9f9eb6b4322232e1fc,fixing indentation on source.py
pemulis,2013-10-06 22:23:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a5556d30d4cdd6a7b764987353dd7be8543c5a12,a5556d30d4cdd6a7b764987353dd7be8543c5a12,more typo fixes
pemulis,2013-10-06 22:02:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cad9945753165e99ec5f626a0b6037c47894f990,cad9945753165e99ec5f626a0b6037c47894f990,tiny typo fix
pemulis,2013-10-06 20:56:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1f3b3b778b7c69c20572e139ad2c47273f65aeb1,1f3b3b778b7c69c20572e139ad2c47273f65aeb1,typo fix
cooperq,2013-10-06 19:22:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2049554a659ad72517a7321ea0fb9b818a4a42aa,2049554a659ad72517a7321ea0fb9b818a4a42aa,adding top level symlink to deaddrop module
cooperq,2013-10-06 19:00:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/55c61e52c4ed056006cf8d599d48af846a787020,55c61e52c4ed056006cf8d599d48af846a787020,removing install directory that got re added again
Hainish,2013-10-06 01:52:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/cc768862a31616b69213c96b468259c38f877d7b,cc768862a31616b69213c96b468259c38f877d7b,adding pycrypto requirement
Hainish,2013-10-06 01:42:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e530942906e543b366dc550eddf401ca87f998d,6e530942906e543b366dc550eddf401ca87f998d,adding back random library where it's okay to have deterministically generated id (journalist interface)
thisisparker,2013-10-06 01:35:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/64eec9b5dadbf479baf14e8a47080fedc3b9fed4,64eec9b5dadbf479baf14e8a47080fedc3b9fed4,reorder installation steps
micahflee,2013-10-06 01:31:58,https://api.github.com/repos/freedomofpress/securedrop/git/commits/416f131dafa2ac37ed1150da43b905a78a46c26f,416f131dafa2ac37ed1150da43b905a78a46c26f,Merge branch 'master' of github.com:freedomofpress/securedrop
micahflee,2013-10-06 01:31:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f475185a760c621a805a30a4e39934d62592882,8f475185a760c621a805a30a4e39934d62592882,Finished draft of Viewing Station Installation instructions
Hainish,2013-10-06 01:11:22,https://api.github.com/repos/freedomofpress/securedrop/git/commits/54cd5e49e56808c2b84ee32c94ad309fee1e1dc4,54cd5e49e56808c2b84ee32c94ad309fee1e1dc4,"changing default words in id from 4 to 10, and changing wordlist from 128879 words to the diceware (7776 words).  this changes bits of entropy from 68 to 129. also replacing random with Crypto.random.random"
diracdeltas,2013-10-06 00:58:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/109b104f6f101a0eff6627b80635c579c9a9ebae,109b104f6f101a0eff6627b80635c579c9a9ebae,Merge remote-tracking branch 'origin/master'
diracdeltas,2013-10-06 00:58:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ab76664a97d8a84df37f96845a39103243422c11,ab76664a97d8a84df37f96845a39103243422c11,Rewrite crypto tests so they pass
Hainish,2013-10-06 00:41:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9280fc5af71ee2ffd70fa7bf33cd700698be43be,9280fc5af71ee2ffd70fa7bf33cd700698be43be,changing arguments to gnupg for updated gnupg library
diracdeltas,2013-10-06 00:25:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fb099d0270cc3e9858fe0ff296b61c260897c204,fb099d0270cc3e9858fe0ff296b61c260897c204,Merge branch 'master' of https://github.com/freedomofpress/deaddrop
diracdeltas,2013-10-06 00:21:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/87b659ad0fe4932161939ffc437f9e09549b302a,87b659ad0fe4932161939ffc437f9e09549b302a,Update shash test after adding BCRYPT_SALT
diracdeltas,2013-10-06 00:16:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d5ccca1b6285fd21bba8f69a4585f17b5f8f92cd,d5ccca1b6285fd21bba8f69a4585f17b5f8f92cd,Add BCRYPT_SALT
Hainish,2013-10-06 00:12:06,https://api.github.com/repos/freedomofpress/securedrop/git/commits/96571dfa05a7a034198294e803df239c7d69c01f,96571dfa05a7a034198294e803df239c7d69c01f,adding .swp to gitignore
micahflee,2013-10-06 00:07:51,https://api.github.com/repos/freedomofpress/securedrop/git/commits/45774ad72cb346e7ed9a8f3e226bcde48bd39210,45774ad72cb346e7ed9a8f3e226bcde48bd39210,moved deaddropEnvironment files into deaddrop
cooperq,2013-10-05 23:38:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6b7ae97cf22209ad1c2a9fd222ba93d0560eaa19,6b7ae97cf22209ad1c2a9fd222ba93d0560eaa19,removing test file
diracdeltas,2013-10-05 23:31:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ded510a5093e7210bdf84eb25cbca66c8fc3a5d3,ded510a5093e7210bdf84eb25cbca66c8fc3a5d3,Merge branch 'reorganize' of https://github.com/freedomofpress/deaddrop into reorganize
cooperq,2013-10-05 23:30:40,https://api.github.com/repos/freedomofpress/securedrop/git/commits/94951c44766fbe0c5dcbb2aec8dd36be5430742f,94951c44766fbe0c5dcbb2aec8dd36be5430742f,switching hash function to bcrypt
diracdeltas,2013-10-05 23:21:14,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a25de97b34d04048a4ba851f979fc28c3d0e308a,a25de97b34d04048a4ba851f979fc28c3d0e308a,Add bcrypt dependency
cooperq,2013-10-05 23:16:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e58040e47201600d75d5902218209ab056198d18,e58040e47201600d75d5902218209ab056198d18,moving hacking file
cooperq,2013-10-05 23:06:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/29aac3c1da67fa341c16db009e85adc6af205681,29aac3c1da67fa341c16db009e85adc6af205681,reorganizing files from messy import
cooperq,2013-10-05 23:05:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/873bb13645778f1f0b9cf461e9ef3f80e97d3454,873bb13645778f1f0b9cf461e9ef3f80e97d3454,reorganizing files from messy import
diracdeltas,2013-10-05 22:40:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4e4be8ea699d0164484475541926c2c8d8d1b78f,4e4be8ea699d0164484475541926c2c8d8d1b78f,Add gnupg2 dependency
micahflee,2013-10-05 20:25:07,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6ebd21c79889c560ef32b0eeec2860bd5af8ccb4,6ebd21c79889c560ef32b0eeec2860bd5af8ccb4,copied deaddrop installation environment into this repo
klpwired,2013-06-02 15:34:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a5727a9afb35718ddfb7df0f37521795ccf973c9,a5727a9afb35718ddfb7df0f37521795ccf973c9,"Merge pull request #24 from apetro/patch-1

close Roswell example quote in README.md"
apetro,2013-06-02 13:53:59,https://api.github.com/repos/freedomofpress/securedrop/git/commits/daedff21c1ccf2094255ee65087e860416dcc5fe,daedff21c1ccf2094255ee65087e860416dcc5fe,"close Roswell example quote in README.md

Trivial edit to close an example quotation of a hypothetical journalist communication to a StrongBox contact."
bitsteak,2013-05-28 03:21:54,https://api.github.com/repos/freedomofpress/securedrop/git/commits/975936205a8cf40c05eb6c464e4dfea9e5d8c1a8,975936205a8cf40c05eb6c464e4dfea9e5d8c1a8,"Merge pull request #23 from zeroday/genwordlist

Changed to use EOWL, added usage information with unzip instructions and..."
zeroday,2013-05-28 00:06:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f271c71dbfc488f6a210975d39e5d6a7dbbf325f,f271c71dbfc488f6a210975d39e5d6a7dbbf325f,"Changed to use EOWL, added usage information with unzip instructions and removed function to strip out apostrophe s and removed the now unused web module"
bitsteak,2013-05-20 00:11:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/d0a36c1dd6d9808b98c2e4dd5aa6ba0c5d5e5a0c,d0a36c1dd6d9808b98c2e4dd5aa6ba0c5d5e5a0c,Closes #21
bitsteak,2013-05-19 22:35:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5e7a604c15fdd0c465985316d5f3857c8ffb92a7,5e7a604c15fdd0c465985316d5f3857c8ffb92a7,Add README with text from deaddrop.github.io
bitsteak,2013-05-16 22:07:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/74b2dcff0c021cd66fba67efa93539e103b2f78c,74b2dcff0c021cd66fba67efa93539e103b2f78c,fix for issue 17
bitsteak,2013-05-17 02:41:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e127cb10f0c831696cb3670794e483cef8ed60ed,e127cb10f0c831696cb3670794e483cef8ed60ed,fix string formatting bug
bitsteak,2013-05-16 10:58:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8193e70589d68bb36bc7866ba1eb259f97093af1,8193e70589d68bb36bc7866ba1eb259f97093af1,"Merge pull request #9 from bpowers/master

doc: basic HACKING doc + gitignore + example_config.py"
bpowers,2013-05-16 03:22:15,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e34ad2ebb5ae8c4efde79addb90044a4c98d59ab,e34ad2ebb5ae8c4efde79addb90044a4c98d59ab,store: verify(): be more helpful if config.STORE_DIR isn't absolute
bpowers,2013-05-16 03:20:53,https://api.github.com/repos/freedomofpress/securedrop/git/commits/0ac8a0672f6fe8c988ea3383b0b60186cfb9aee3,0ac8a0672f6fe8c988ea3383b0b60186cfb9aee3,doc: update HACKING to explain that dirs need to exist + be absolute
bpowers,2013-05-16 03:05:46,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5c9b3010b3399dc3dc05f4e5531dc35a262081f6,5c9b3010b3399dc3dc05f4e5531dc35a262081f6,"doc: basic HACKING file describing dev environment setup

This addresses some of #8."
bitsteak,2013-05-15 15:32:52,https://api.github.com/repos/freedomofpress/securedrop/git/commits/4b1ace98aa9c2689cf3853c49306229d8e67cfbb,4b1ace98aa9c2689cf3853c49306229d8e67cfbb,"Merge pull request #6 from tswicegood/make-install-markdown

Make install markdown"
tswicegood,2013-05-15 15:22:00,https://api.github.com/repos/freedomofpress/securedrop/git/commits/ba040f107347dac111c127536367d0c182de5263,ba040f107347dac111c127536367d0c182de5263,Update filename
tswicegood,2013-05-15 15:21:19,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3bbfbb69dc6622241ffa3b63f95239dd65c5b1a4,3bbfbb69dc6622241ffa3b63f95239dd65c5b1a4,Update to use Markdown so its a real link
tswicegood,2013-05-15 15:09:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fcc1497d92be2632bb6b0678606dd7a40e8dc309,fcc1497d92be2632bb6b0678606dd7a40e8dc309,Rename .md so GitHub renders it
bitsteak,2013-05-15 04:21:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/fe809de47989a8f7378576cdbf88f0ad382fe3f3,fe809de47989a8f7378576cdbf88f0ad382fe3f3,increase words in list to 4
bitsteak,2013-05-15 04:07:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/f4c0541f3330ca7eca6ce91e67f00aeada63e85d,f4c0541f3330ca7eca6ce91e67f00aeada63e85d,switch to the English Open Word List
bitsteak,2013-05-14 20:20:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8f3c6a788d10e7add370003450b6f939ad64240a,8f3c6a788d10e7add370003450b6f939ad64240a,disable http caching of responses
bitsteak,2013-05-14 20:09:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/333a8fc1d7928baa228186ae60708fd0f331dbc1,333a8fc1d7928baa228186ae60708fd0f331dbc1,disable autocomplete everywhere
bitsteak,2013-05-14 20:01:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3b86b94197661a07388c7ff09e9b801e9b73ddcc,3b86b94197661a07388c7ff09e9b801e9b73ddcc,disable debug mode
bitsteak,2013-05-14 20:00:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8c6f939af0f1d6bf8c3ead25b8177d78a9ce8e29,8c6f939af0f1d6bf8c3ead25b8177d78a9ce8e29,remove unmapped url handlers
bitsteak,2013-05-14 19:59:16,https://api.github.com/repos/freedomofpress/securedrop/git/commits/50ff0b582e5026a9424f606e1f53d6a2a0d0e233,50ff0b582e5026a9424f606e1f53d6a2a0d0e233,verify filenames
bitsteak,2013-05-14 19:58:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b7b2ea6ff88bdb2a35c4610b883e3f2076b919d1,b7b2ea6ff88bdb2a35c4610b883e3f2076b919d1,include reply- in valid filenames
bitsteak,2013-05-14 19:44:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/92bf1899ff2d38fae4f2686f1b1e1927c3e379be,92bf1899ff2d38fae4f2686f1b1e1927c3e379be,more stringent filename validation
klpwired,2013-05-14 19:48:44,https://api.github.com/repos/freedomofpress/securedrop/git/commits/979003832949e3cbab29e5441894cefd2c6f1526,979003832949e3cbab29e5441894cefd2c6f1526,"Update INSTALL

Replace bare-bones INSTALL with a pointer to DeadDropDocs"
aaronsw,2012-07-03 18:51:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b32e1a5f22ff0a999aa9a69b5ea0c1d8872b336a,b32e1a5f22ff0a999aa9a69b5ea0c1d8872b336a,fix error in seeing if store already exists (tx secteam)
aaronsw,2012-06-17 12:50:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a1289fa887772357af97b735d45a8d44e720b827,a1289fa887772357af97b735d45a8d44e720b827,Merge branch 'master' of github.com:deaddrop/deaddrop
aaronsw,2012-06-17 12:49:56,https://api.github.com/repos/freedomofpress/securedrop/git/commits/a145092a9873a8e4b2338a2632f4e6073a6e3665,a145092a9873a8e4b2338a2632f4e6073a6e3665,had msg and doc reversed (tx Kev)
klpwired,2012-06-13 19:28:23,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e624af8e67f032ad14feaec4ad24811612865cd6,e624af8e67f032ad14feaec4ad24811612865cd6,remove '--version' from srm check
aaronsw,2012-06-03 02:04:26,https://api.github.com/repos/freedomofpress/securedrop/git/commits/42bc563ff9ddeb3543ea2dd0bf8b55d8fee4c1b6,42bc563ff9ddeb3543ea2dd0bf8b55d8fee4c1b6,merge
aaronsw,2012-06-03 02:01:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/bb90d19c627eabeedfda4d2c941275f3dc284705,bb90d19c627eabeedfda4d2c941275f3dc284705,use better version of crypto fix
aaronsw,2012-04-03 23:17:55,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be544eec5a6e276410a0389d8af807b1e1e5ba5e,be544eec5a6e276410a0389d8af807b1e1e5ba5e,allow spaces in secrets (fix regression)
aaronsw,2012-06-03 01:58:02,https://api.github.com/repos/freedomofpress/securedrop/git/commits/c6188303ca75c9dff2787c1b6c7d42becd7b0be8,c6188303ca75c9dff2787c1b6c7d42becd7b0be8,"have 404 link back to lookup
close div in 404"
aaronsw,2012-06-03 01:55:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/265de5590620462273a59702873e2f9433422777,265de5590620462273a59702873e2f9433422777,remove second submit button
aaronsw,2012-06-03 01:53:45,https://api.github.com/repos/freedomofpress/securedrop/git/commits/be49f5c8669aa1030a03aec6a6d4fc94eec306f3,be49f5c8669aa1030a03aec6a6d4fc94eec306f3,include filename headers when downloading
aaronsw,2012-06-03 01:53:36,https://api.github.com/repos/freedomofpress/securedrop/git/commits/83ceaf82d6e14b3f449a84c09a888705e8ace9c6,83ceaf82d6e14b3f449a84c09a888705e8ace9c6,fix bug with downloading files
aaronsw,2012-06-03 01:48:01,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7b3f08b52ccdedd12f37848b190fde543bd4fa09,7b3f08b52ccdedd12f37848b190fde543bd4fa09,remove some blank lines
aaronsw,2012-06-03 01:42:09,https://api.github.com/repos/freedomofpress/securedrop/git/commits/09c61118f7ab528bd1d567341953920a84cd5c73,09c61118f7ab528bd1d567341953920a84cd5c73,"use _doc or _msg suffixes
fix bug with received"
aaronsw,2012-06-03 01:30:10,https://api.github.com/repos/freedomofpress/securedrop/git/commits/e178b01b68d34b51356b07eb18535b3dc3a5571e,e178b01b68d34b51356b07eb18535b3dc3a5571e,"Use xkcd names on the collection page
Remove trailing zeroes from timestamps"
aaronsw,2012-06-03 01:26:41,https://api.github.com/repos/freedomofpress/securedrop/git/commits/412889390289c88ac3a5e9bd8d355b035b78aada,412889390289c88ac3a5e9bd8d355b035b78aada,finish changing .enc to .gpg
aaronsw,2012-06-03 01:22:03,https://api.github.com/repos/freedomofpress/securedrop/git/commits/73b626a17b44b596ba208b3b1e878a3496d6dd1e,73b626a17b44b596ba208b3b1e878a3496d6dd1e,Remove trailing zeroes from timestamps
aaronsw,2012-06-03 01:17:18,https://api.github.com/repos/freedomofpress/securedrop/git/commits/1cfad180aaaaf4bcd7022bae2bd18888d2a0296d,1cfad180aaaaf4bcd7022bae2bd18888d2a0296d,"store filename with encrypted file
display filename in response to submission
change .enc suffix to .gpg"
aaronsw,2012-06-03 01:16:32,https://api.github.com/repos/freedomofpress/securedrop/git/commits/645c085f9e12949493e6081e7e774410b4db81a8,645c085f9e12949493e6081e7e774410b4db81a8,fix crasher bug in crypto
aaronsw,2012-04-17 23:19:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/325175c5a91f6f1e8e6b6a7a41e89702d1f1deec,325175c5a91f6f1e8e6b6a7a41e89702d1f1deec,use codenames for journalists
aaronsw,2012-03-15 11:28:47,https://api.github.com/repos/freedomofpress/securedrop/git/commits/95508a4633fa05027e7e95028449902172653502,95508a4633fa05027e7e95028449902172653502,"use 3 words, add a custom notfound"
dolanjs,2012-03-13 01:56:31,https://api.github.com/repos/freedomofpress/securedrop/git/commits/73da09cfe5802c9e8b60f5f0ffcbf6654406748d,73da09cfe5802c9e8b60f5f0ffcbf6654406748d,bugfix mod-wsgi support add variables for wordlist file and source journalist templates
aaronsw,2012-03-02 20:52:13,https://api.github.com/repos/freedomofpress/securedrop/git/commits/2637db92645917269f0c8ba9f63158d6024700b1,2637db92645917269f0c8ba9f63158d6024700b1,add a readme
aaronsw,2012-03-02 20:49:05,https://api.github.com/repos/freedomofpress/securedrop/git/commits/af649635d4937207557972d5515f5ca2779782c7,af649635d4937207557972d5515f5ca2779782c7,add license
aaronsw,2012-02-15 19:25:35,https://api.github.com/repos/freedomofpress/securedrop/git/commits/afe4128c8b827e32f090505bb8bfa4d96495db33,afe4128c8b827e32f090505bb8bfa4d96495db33,add support for mod_wsgi
aaronsw,2012-02-15 19:24:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7de5f6b2a13561bdcc653b6def2349073cad99a2,7de5f6b2a13561bdcc653b6def2349073cad99a2,some versions of srm return nonzero on version
aaronsw,2012-02-14 12:23:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b6dd573e90176717e73fd0892c7cea19aafefa38,b6dd573e90176717e73fd0892c7cea19aafefa38,forgot to hit save
aaronsw,2012-02-10 13:25:11,https://api.github.com/repos/freedomofpress/securedrop/git/commits/76af29c943ccccd782643c5185c01aef11350cc3,76af29c943ccccd782643c5185c01aef11350cc3,fix various security issues identified by security team
aaronsw,2012-02-10 12:30:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/15b4f1cd9e851de3ee091fa4eacf88207709d142,15b4f1cd9e851de3ee091fa4eacf88207709d142,forgot to add base templates
aaronsw,2012-02-10 12:17:48,https://api.github.com/repos/freedomofpress/securedrop/git/commits/7be151bece7afd837fb6e5a20634d18dc580d8d6,7be151bece7afd837fb6e5a20634d18dc580d8d6,add styles for journalists
aaronsw,2012-02-10 12:10:33,https://api.github.com/repos/freedomofpress/securedrop/git/commits/79d38538d13a774f5a6b960001a3ea82a6cae81e,79d38538d13a774f5a6b960001a3ea82a6cae81e,check in styles
aaronsw,2012-01-11 20:14:25,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3e025f12394a668bbafb31da9df1f9b64d45689e,3e025f12394a668bbafb31da9df1f9b64d45689e,rename
aaronsw,2012-01-11 20:13:29,https://api.github.com/repos/freedomofpress/securedrop/git/commits/eec95ded9299f8685b29afaed537d69986f4f6b9,eec95ded9299f8685b29afaed537d69986f4f6b9,always trust
aaronsw,2012-01-07 16:59:38,https://api.github.com/repos/freedomofpress/securedrop/git/commits/707a1bdf98a0e0ece5afe83897901643282401c4,707a1bdf98a0e0ece5afe83897901643282401c4,switch to xkcd code names
aaronsw,2012-01-07 16:56:30,https://api.github.com/repos/freedomofpress/securedrop/git/commits/97c11489b6662d58f749d5547edc9459ebf04400,97c11489b6662d58f749d5547edc9459ebf04400,include wordlist
aaronsw,2012-01-07 15:55:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/b5a25b63b6d417a3758c2ec0a4b65cfcbf7af895,b5a25b63b6d417a3758c2ec0a4b65cfcbf7af895,rename 'secure id' to 'code name'
aaronsw,2011-07-25 21:58:04,https://api.github.com/repos/freedomofpress/securedrop/git/commits/5da46e0d3c6d04937d3b93d8544c596fa88af96b,5da46e0d3c6d04937d3b93d8544c596fa88af96b,merge
aaronsw,2011-07-25 21:56:28,https://api.github.com/repos/freedomofpress/securedrop/git/commits/269f55e9cfb2cfd32cba00099ead667848494b66,269f55e9cfb2cfd32cba00099ead667848494b66,fix bugs with file uploads
aaronsw,2011-07-18 20:37:57,https://api.github.com/repos/freedomofpress/securedrop/git/commits/9f2a3676647fb7bad82f60b8ac3937f4ffa6f41c,9f2a3676647fb7bad82f60b8ac3937f4ffa6f41c,allow msg and files at same time
aaronsw,2011-07-16 15:22:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/3566f893fd92c53f0f87f9311ec6f3481dbbfe0c,3566f893fd92c53f0f87f9311ec6f3481dbbfe0c,install instructions
aaronsw,2011-07-16 14:35:27,https://api.github.com/repos/freedomofpress/securedrop/git/commits/6e6b0d117b2250d465b7f6260b0df4bd028881c5,6e6b0d117b2250d465b7f6260b0df4bd028881c5,bug fixes
aaronsw,2011-07-16 14:13:12,https://api.github.com/repos/freedomofpress/securedrop/git/commits/547973f4a9bb808caeb4b280c438e2206e9b28fa,547973f4a9bb808caeb4b280c438e2206e9b28fa,debugging
aaronsw,2011-07-16 14:02:50,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8b1b3580137a57c76f27a9c90101926255da2b5b,8b1b3580137a57c76f27a9c90101926255da2b5b,"journalist view, replies"
aaronsw,2011-06-29 21:19:39,https://api.github.com/repos/freedomofpress/securedrop/git/commits/8787357a3787dbf88549ffa0872c339f22bdff25,8787357a3787dbf88549ffa0872c339f22bdff25,first draft of upload mechanics
aaronsw,2011-06-29 20:23:37,https://api.github.com/repos/freedomofpress/securedrop/git/commits/62bbe590afd77a6af2dcaed46c93da6e0cf40951,62bbe590afd77a6af2dcaed46c93da6e0cf40951,build crypto functions
