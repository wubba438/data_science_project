atlas,In-memory dimensional time series database.
username,timestamp,url,sha,message
david-cromberge,2019-08-27 21:19:59,https://api.github.com/repos/Netflix/atlas/git/commits/35753f3235a3f3805c5e43ef5c3d8ae339c470f2,35753f3235a3f3805c5e43ef5c3d8ae339c470f2,"Add percentile example to wiki (#1072)

Adds a `requestLatency` metric to the sample dataset
that has percentile information."
brharrington,2019-08-15 21:08:07,https://api.github.com/repos/Netflix/atlas/git/commits/3d46974144c7db59292b6b651a039320123c93ed,3d46974144c7db59292b6b651a039320123c93ed,"switch to max normalization for gauges (#1079)

For use-cases where we perform inline aggregation this
gives the expected value and avoids the need for an
additional disambiguation tag for the aggregator instance.
This also means that if no custom rollups are done the sum
of the gauge values would match expectations rather than
being a multiple of the number of aggregator instances."
brharrington,2019-08-15 18:11:21,https://api.github.com/repos/Netflix/atlas/git/commits/5878290e50138b2f4648071d750223550fce4289,5878290e50138b2f4648071d750223550fce4289,update dependencies (#1078)
brharrington,2019-08-15 17:53:40,https://api.github.com/repos/Netflix/atlas/git/commits/505fcb8cc61e917bc667e1030b7822e7ecc68826,505fcb8cc61e917bc667e1030b7822e7ecc68826,frigga 0.19.2
brharrington,2019-08-15 17:52:00,https://api.github.com/repos/Netflix/atlas/git/commits/695088df3e1131d04b78cc05607f411fb7333c10,695088df3e1131d04b78cc05607f411fb7333c10,roaringbitmap 0.8.10
brharrington,2019-08-15 17:46:34,https://api.github.com/repos/Netflix/atlas/git/commits/f3f902c51ca0e326fc158028a8b392efb4b258bb,f3f902c51ca0e326fc158028a8b392efb4b258bb,iep 2.1.2
brharrington,2019-08-15 17:44:49,https://api.github.com/repos/Netflix/atlas/git/commits/9030eff46292fc9ef4c22056ff23dae41a02efd1,9030eff46292fc9ef4c22056ff23dae41a02efd1,sbt-scalafmt 2.0.3
brharrington,2019-08-15 17:35:53,https://api.github.com/repos/Netflix/atlas/git/commits/b72f1a315c6e0eb1588f9c0fa6bff4d07540f00f,b72f1a315c6e0eb1588f9c0fa6bff4d07540f00f,scala 2.12.9
brharrington,2019-08-15 17:34:06,https://api.github.com/repos/Netflix/atlas/git/commits/d43bb3c92e34014e01d775fa39a2e8d3c8eb4fbc,d43bb3c92e34014e01d775fa39a2e8d3c8eb4fbc,log4j 2.12.1
brharrington,2019-08-15 17:27:19,https://api.github.com/repos/Netflix/atlas/git/commits/5c867b6a3f2c0d7bda626ade68fc1757e0bcfd7a,5c867b6a3f2c0d7bda626ade68fc1757e0bcfd7a,caffeine 2.8.0
brharrington,2019-08-15 17:25:05,https://api.github.com/repos/Netflix/atlas/git/commits/5431cd4e5ce984e374955178045eae9d5abdaa4a,5431cd4e5ce984e374955178045eae9d5abdaa4a,spectator 0.94.0
brharrington,2019-08-15 17:19:31,https://api.github.com/repos/Netflix/atlas/git/commits/0cede208ae4719abb4da6c8fb33d6165c4e4c4b3,0cede208ae4719abb4da6c8fb33d6165c4e4c4b3,scala-collection-compat 2.1.2
brharrington,2019-08-15 17:17:10,https://api.github.com/repos/Netflix/atlas/git/commits/81bb841eb1a518bd5db6db4190d2d4d1a5a144a1,81bb841eb1a518bd5db6db4190d2d4d1a5a144a1,akka 2.5.24
brharrington,2019-08-15 17:10:02,https://api.github.com/repos/Netflix/atlas/git/commits/aa67065ccfc99a8e1001a73e29e59af803a0d6fb,aa67065ccfc99a8e1001a73e29e59af803a0d6fb,akka-http 10.1.9
brharrington,2019-08-15 17:08:12,https://api.github.com/repos/Netflix/atlas/git/commits/abb78df9adeb1b1f2154a8b6b6d606bee141986f,abb78df9adeb1b1f2154a8b6b6d606bee141986f,aws-java-sdk 1.11.611
brharrington,2019-08-15 17:07:03,https://api.github.com/repos/Netflix/atlas/git/commits/9fccf7ec17b46e2e3a343410c1df3ef2172ff93d,9fccf7ec17b46e2e3a343410c1df3ef2172ff93d,slf4j 1.7.28
zimmermatt,2019-08-05 19:06:11,https://api.github.com/repos/Netflix/atlas/git/commits/5e6861ad0e12d5d7a729cd6b51ce5e294a740f62,5e6861ad0e12d5d7a729cd6b51ce5e294a740f62,iep 2.1.1 (#1076)
zimmermatt,2019-08-04 04:42:19,https://api.github.com/repos/Netflix/atlas/git/commits/5bdd944950f481639170d6938e04d51e3c834a5e,5bdd944950f481639170d6938e04d51e3c834a5e,"Only publish metrics if instance has leadership (#1075)

Use iep-leader library to check leadership status and only publish
metrics if instance has leadership. This is primarily to prevent
duplicate metrics on the streaming path."
zimmermatt,2019-08-04 01:17:34,https://api.github.com/repos/Netflix/atlas/git/commits/90ce3ec8fa02a2025820ad0631af379a486f0f47,90ce3ec8fa02a2025820ad0631af379a486f0f47,iep 2.1.0 (#1074)
zimmermatt,2019-08-03 23:18:26,https://api.github.com/repos/Netflix/atlas/git/commits/2acd57493439f8d915293bf3aa40d721f711a93c,2acd57493439f8d915293bf3aa40d721f711a93c,"Add RDS OldestReplicationSlotLag (#1073)

This commit adds collection of AWS/RDS/OldestReplicationSlotLag. Other
`Lag` metrics represent time lag. This metric represents more data
coming in that being replicated. So, in order to avoid confusion with
those other lag metrics, I've suffixed this with `DataBacklog`.

Resolves #1067"
brharrington,2019-07-12 23:39:23,https://api.github.com/repos/Netflix/atlas/git/commits/13ec52d0e233c688217a92bee0b37fd719b27115,13ec52d0e233c688217a92bee0b37fd719b27115,"add NameValueLengthRule (#1071)

Allows different limits to be used for the value of the
name key compared to other keys. This is mostly to remove
a difference between the internal Atlas setup at Netflix
and OSS. Internally for historical reasons the value for
the name key is allowed to be longer than other values.
With this change there is no longer a need to have custom
rules."
brharrington,2019-07-11 13:39:05,https://api.github.com/repos/Netflix/atlas/git/commits/f343962ba9cc879bcaef4c8b9332fc9146b0a1db,f343962ba9cc879bcaef4c8b9332fc9146b0a1db,"fix most 2.13 compiler warnings (#1070)

There is still one related to ordering doubles, but is not
easily fixable until the 2.12 build is dropped."
brharrington,2019-07-09 14:25:02,https://api.github.com/repos/Netflix/atlas/git/commits/5ae2d2ea4a2deca8e4cad2044d8aa3f39be8357f,5ae2d2ea4a2deca8e4cad2044d8aa3f39be8357f,"fix status code for requests that are too large (#1069)

It was hitting the fallback before and using a status code
of 500 instead of a 4xx status code. This would cause some
clients to retry when they shouldn't."
brharrington,2019-07-08 22:49:56,https://api.github.com/repos/Netflix/atlas/git/commits/93c40b022a50efc367ec36d94038e72c505bd638,93c40b022a50efc367ec36d94038e72c505bd638,update dependencies (#1068)
brharrington,2019-07-08 21:40:01,https://api.github.com/repos/Netflix/atlas/git/commits/ef7bf98013eeefa0cd733052b2822abdea0a5fa6,ef7bf98013eeefa0cd733052b2822abdea0a5fa6,RoaringBitmap 0.8.9
brharrington,2019-07-08 21:37:38,https://api.github.com/repos/Netflix/atlas/git/commits/0bbc09cabdef38dc98388e898b4be45c1ec1cd6c,0bbc09cabdef38dc98388e898b4be45c1ec1cd6c,sbt-jmh 0.3.7
brharrington,2019-07-08 21:27:00,https://api.github.com/repos/Netflix/atlas/git/commits/a7e6bcf9de35b74599634f4cb9baadcac41a76c6,a7e6bcf9de35b74599634f4cb9baadcac41a76c6,frigga 0.19.1
brharrington,2019-07-08 21:26:09,https://api.github.com/repos/Netflix/atlas/git/commits/fa778c848f97d22f54f3285481282e2f14ae9fb5,fa778c848f97d22f54f3285481282e2f14ae9fb5,log4j2 2.12.0
brharrington,2019-07-08 21:12:08,https://api.github.com/repos/Netflix/atlas/git/commits/5932e750435a6fa1ac939a28a04fc2f873634aa0,5932e750435a6fa1ac939a28a04fc2f873634aa0,aws-java-sdk 1.11.579
brharrington,2019-07-08 21:11:13,https://api.github.com/repos/Netflix/atlas/git/commits/cd2f90df9530aa06a5642167c84ac5a5269df1d3,cd2f90df9530aa06a5642167c84ac5a5269df1d3,iep 2.0.5
brharrington,2019-06-17 17:53:49,https://api.github.com/repos/Netflix/atlas/git/commits/b18d43e8ec010b92dad532b514cfea208dfacfd8,b18d43e8ec010b92dad532b514cfea208dfacfd8,"fix equality for custom averages (#1063)

Before it was creating a new instance of a function when
generating the `MathExpr.NamedRewrite` object so the equality
would never match."
brharrington,2019-06-17 17:41:58,https://api.github.com/repos/Netflix/atlas/git/commits/c7ed425262896ae76c8a219bb663bce8350e8958,c7ed425262896ae76c8a219bb663bce8350e8958,"try disabling gigahorse (#1064)

Setting in the `build.properties` file doesn't seem to work
for this setting (tried in #1062)."
brharrington,2019-06-17 15:50:44,https://api.github.com/repos/Netflix/atlas/git/commits/85a91b345e398e5e33c6aea80267e9e4f2834176,85a91b345e398e5e33c6aea80267e9e4f2834176,"try disabling gigahorse (#1062)

Check to see if this helps resolve the publishing issue
in #1054."
copperlight,2019-06-17 13:27:42,https://api.github.com/repos/Netflix/atlas/git/commits/525119bbe2ae009ccaae12dd25334127de7c76e2,525119bbe2ae009ccaae12dd25334127de7c76e2,add mapping for DeadLetterInvocations to CloudWatch Events (#1061)
copperlight,2019-06-16 18:30:23,https://api.github.com/repos/Netflix/atlas/git/commits/998ade1f41f164532eee21f486ed8172c60cebec,998ade1f41f164532eee21f486ed8172c60cebec,match cloudwatch usage of `canceled` (#1060)
copperlight,2019-06-16 18:04:49,https://api.github.com/repos/Netflix/atlas/git/commits/20ce521b0f93ef8f60a843c924f5397b1d884e9d,20ce521b0f93ef8f60a843c924f5397b1d884e9d,"remove ElasticSearch MasterFreeStorageSpace metric (#1059)

From the ElasticSearch CloudWatch metrics documentation:

https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/es-managedomains.html#es-managedomains-cloudwatchmetrics-master-node-metrics

This metric is not relevant and can be ignored. The service does not use
master nodes as data nodes."
copperlight,2019-06-16 18:03:37,https://api.github.com/repos/Netflix/atlas/git/commits/8881f14c858a0be5639d80607c4f2c0d0570e59d,8881f14c858a0be5639d80607c4f2c0d0570e59d,"fix aws.ec2.badInstances mapping (#1058)

map the `system` id to `StatusCheckFailed_System`, instead of
`StatusCheckFailed_Instance`"
brharrington,2019-06-14 20:50:27,https://api.github.com/repos/Netflix/atlas/git/commits/a4cc2e0cb641fdf551cea5f3a9a221ef6d7a8db1,a4cc2e0cb641fdf551cea5f3a9a221ef6d7a8db1,"add benchmark for uri handling (#1057)

Compare performance of various ways to modify the uri."
brharrington,2019-06-13 23:57:36,https://api.github.com/repos/Netflix/atlas/git/commits/5d5e449f4c956204be794afb7d63d481c147dffe,5d5e449f4c956204be794afb7d63d481c147dffe,"fix build settings for 2.13 to use `-release 8` (#1055) (#1056)

Before it was looking specifically for version 12. For now
we still need to be able to run on jdk8+. The specific issue
encountered was:

```
java.lang.NoSuchMethodError: java.nio.CharBuffer.clear()Ljava/nio/CharBuffer;
   at com.netflix.atlas.core.model.TaggedItem$.writePair(TaggedItem.scala:59)
   at com.netflix.atlas.core.model.TaggedItem$.computeId(TaggedItem.scala:105)
   at com.netflix.atlas.core.model.TimeSeries$.<clinit>(TimeSeries.scala:22)
   at com.netflix.atlas.core.model.EvalContext.<init>(EvalContext.scala:32)
   at com.netflix.atlas.druid.DruidDatabaseActorSuite.<init>(DruidDatabaseActorSuite.scala:259)
   at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
   at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
   at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
   at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
   at java.lang.Class.newInstance(Class.java:442)
```

Also improves the check for recent JDKs."
brharrington,2019-06-13 14:05:22,https://api.github.com/repos/Netflix/atlas/git/commits/efa7037ce18db08298f6ec34be7b275c00730aa9,efa7037ce18db08298f6ec34be7b275c00730aa9,update to scala 2.13.0 final (#1052)
brharrington,2019-06-13 01:30:44,https://api.github.com/repos/Netflix/atlas/git/commits/b41eb442e6d0242daf9a271b48f38035702ac335,b41eb442e6d0242daf9a271b48f38035702ac335,"add binding for materializer (#1050)

Setup a default binding for the materializer using a
supervision strategy that will provide better visibility
into failures."
brharrington,2019-06-13 01:03:26,https://api.github.com/repos/Netflix/atlas/git/commits/dbaecf03c1e7dca064cab3037f3800a758b7da18,dbaecf03c1e7dca064cab3037f3800a758b7da18,"remove cross build for 2.11 (#1051)

Use 1.6.x if 2.11 support is still needed."
brharrington,2019-06-05 21:25:49,https://api.github.com/repos/Netflix/atlas/git/commits/bf82f540f244c40700327f4188126039ddca4f03,bf82f540f244c40700327f4188126039ddca4f03,"cross build for 2.13.0-RC3 (#1048)

Most changes our minor. For some of the custom collections
they needed to be specific to the new version. I expect that
to be temporary as 2.11 and 2.12 support will likely be dropped
for 1.7.x at some point."
brharrington,2019-06-05 02:16:30,https://api.github.com/repos/Netflix/atlas/git/commits/55ebf1dbd8ed1c7bb21ffbc80346502b5c296c3e,55ebf1dbd8ed1c7bb21ffbc80346502b5c296c3e,remove deprecated cors directives (#1046)
brharrington,2019-05-23 05:15:22,https://api.github.com/repos/Netflix/atlas/git/commits/a64b728371130c167ffa741f9bf5dbaa0546af40,a64b728371130c167ffa741f9bf5dbaa0546af40,"remove jackson-datatype-joda usage (#1045)

Uses for Atlas moved to `java.time` a long time ago. Users can
add this manually by calling `Json.registerModule` if it is
still needed."
brharrington,2019-05-23 04:50:51,https://api.github.com/repos/Netflix/atlas/git/commits/46b6c6c23a042a833f5968747e947cd6e5fc5335,46b6c6c23a042a833f5968747e947cd6e5fc5335,update dependencies (#1044)
brharrington,2019-05-23 04:39:56,https://api.github.com/repos/Netflix/atlas/git/commits/b9ae531bd40f51a0882aef5de2689a42139e08dc,b9ae531bd40f51a0882aef5de2689a42139e08dc,"sbt-scalafmt 2.0.0

There are a few minor formatting changes with this version."
brharrington,2019-05-23 04:19:50,https://api.github.com/repos/Netflix/atlas/git/commits/01ef0cb7913ddd61474cf2b6ab717a3736bc942f,01ef0cb7913ddd61474cf2b6ab717a3736bc942f,sbt-bintray 0.5.5
brharrington,2019-05-23 04:17:58,https://api.github.com/repos/Netflix/atlas/git/commits/f3d16c2f7c739f3a140803dc934cbac13eeeec57,f3d16c2f7c739f3a140803dc934cbac13eeeec57,sbt-release 1.0.11
brharrington,2019-05-23 04:17:10,https://api.github.com/repos/Netflix/atlas/git/commits/f6c9d8650117ed2d6d6887ead486a3708b70da3e,f6c9d8650117ed2d6d6887ead486a3708b70da3e,sbt-jmh 0.3.6
brharrington,2019-05-23 04:07:57,https://api.github.com/repos/Netflix/atlas/git/commits/f02d6a638417a1857da70e0af2b683f38e87cd6d,f02d6a638417a1857da70e0af2b683f38e87cd6d,roaringbitmap 0.8.2
brharrington,2019-05-23 04:06:47,https://api.github.com/repos/Netflix/atlas/git/commits/a9bd8afd06714b5f539a512901e037dd77d1ff7f,a9bd8afd06714b5f539a512901e037dd77d1ff7f,joda-convert 2.2.1
brharrington,2019-05-23 03:54:09,https://api.github.com/repos/Netflix/atlas/git/commits/b1463f66102ded5f45cb6a3cd6348c1448365051,b1463f66102ded5f45cb6a3cd6348c1448365051,equalsverifier 3.1.9
brharrington,2019-05-23 03:51:20,https://api.github.com/repos/Netflix/atlas/git/commits/50d2c6358d524468a8868d8d0a83beb34f848bc8,50d2c6358d524468a8868d8d0a83beb34f848bc8,jackson 2.9.9
brharrington,2019-05-23 03:50:25,https://api.github.com/repos/Netflix/atlas/git/commits/ba4a66fdfaabf9d109d6ac1c9173fadf92867dca,ba4a66fdfaabf9d109d6ac1c9173fadf92867dca,config 1.3.4
brharrington,2019-05-23 03:08:20,https://api.github.com/repos/Netflix/atlas/git/commits/b4eee86894ed83abf104a0d9b591489ed02229c7,b4eee86894ed83abf104a0d9b591489ed02229c7,aws-java-sdk 1.11.556
brharrington,2019-05-23 03:05:41,https://api.github.com/repos/Netflix/atlas/git/commits/4499ac4cb9a481cace8e2c62e100651fdacbeb0a,4499ac4cb9a481cace8e2c62e100651fdacbeb0a,iep 2.0.4
brharrington,2019-05-23 02:56:47,https://api.github.com/repos/Netflix/atlas/git/commits/bf85e547a03d32c4875be1e6672942e8f060db37,bf85e547a03d32c4875be1e6672942e8f060db37,spectator 0.92.0
brharrington,2019-05-23 02:55:24,https://api.github.com/repos/Netflix/atlas/git/commits/996e07d64f11fc81d7f1da3e84e33c9857fe6bca,996e07d64f11fc81d7f1da3e84e33c9857fe6bca,akka 2.5.23
brharrington,2019-05-17 18:19:01,https://api.github.com/repos/Netflix/atlas/git/commits/ed91d700e4429716619cee009c982cbb96039456,ed91d700e4429716619cee009c982cbb96039456,"adjust compression level for request handler (#1042)

Adjust the default to use `BEST_SPEED` to reduce the
computation overhead of compressing the results."
brharrington,2019-05-15 16:55:49,https://api.github.com/repos/Netflix/atlas/git/commits/da724ebd66498ab2644bef7cf4914a7341cf8bcb,da724ebd66498ab2644bef7cf4914a7341cf8bcb,"support substitutions for title and ylabel (#1040)

The available variables will be the intersection of the tags
for all of the lines within that scope. In the case of title
it is all lines on the graph. For a ylabel, it is all lines
associated with that y-axis.

Fixes #1026."
brharrington,2019-05-09 20:29:26,https://api.github.com/repos/Netflix/atlas/git/commits/eebf7b16e66807f0716fa07d4a957d18b7aa0773,eebf7b16e66807f0716fa07d4a957d18b7aa0773,"switch to discovery.status metric for eureka-avg (#1039)

This is a newer version that avoids the need for regex and
follows current conventions."
brharrington,2019-05-02 19:17:59,https://api.github.com/repos/Netflix/atlas/git/commits/8e4565f97df1bc78bb883667eb02460e6c2982a9,8e4565f97df1bc78bb883667eb02460e6c2982a9,update base version to 1.7.x (#1038)
brharrington,2019-05-01 22:28:44,https://api.github.com/repos/Netflix/atlas/git/commits/045de8cda2d6cb3a2dcce7091106ce234f97fd98,045de8cda2d6cb3a2dcce7091106ce234f97fd98,"fix deprecation warnings for ActorPublisher (#1037)

Changes the processing for the `/fetch` endpoint to use
streams instead of the deprecated ActorPublisher."
brharrington,2019-04-30 23:41:51,https://api.github.com/repos/Netflix/atlas/git/commits/c783b8865fc2b739f2561be4a6948bad0b41c29b,c783b8865fc2b739f2561be4a6948bad0b41c29b,"fix empty data case for math/count (#1036)

It wasn't checking if the input was empty like the other
aggregate functions. Now it performs the same check which
avoids errors like:

```
must have 1 or more time series to perform aggregation
```"
brharrington,2019-04-30 16:54:42,https://api.github.com/repos/Netflix/atlas/git/commits/049a878cba3a10d4721f91af76480731705fe039,049a878cba3a10d4721f91af76480731705fe039,"fix eval state for sparse lines with group by (#1035)

Before, if a line was sparse, for example an error counter
that has a lot of gaps, the state would be handled incorrectly.
There would be one state item per matching grouping when data
was present and they would only get moved forward if there was
data for that key in a given interval. For intervals with no
data, a no data line would get pushed through and have its own
independent state.

With this change, an empty group by result will push an empty
data set through eval and it will now move the state buffers
to allow for expiration and correct handling of subsequent
intervals with data. If there is no resulting data lines from
the overall expression, then a no data line for the overall
expression will be emitted to the user."
brharrington,2019-04-29 21:47:02,https://api.github.com/repos/Netflix/atlas/git/commits/4550be9601431ea0865dcc779d98ffdb0a0cf817,4550be9601431ea0865dcc779d98ffdb0a0cf817,"detect empty state and stop tracking it (#1034)

Updates the online algorithms used with stateful operators
to detect if the state is effectively empty. In that case
the state will be dropped from the state map maintained
during evaluation. This is useful to avoid leaking memory
for tracking the state during long running streaming
evaluations.

There are currently three exceptions that have an unbounded
window and never become empty: ignore-N, sdes, and integral.
Integral is generally not very useful in a streaming context
so we may just prohibit that operation. For sdes (and ignore-N
which is typically only used to align sdes), the current uses
do not involve group by operations, so it shouldn't be an
issue for now. We'll revisit in the future when there are
concrete use-cases that are problematic for that operation."
brharrington,2019-04-26 22:19:07,https://api.github.com/repos/Netflix/atlas/git/commits/a805a6ac2321c8c81c5ed2557797314ebdca0de5,a805a6ac2321c8c81c5ed2557797314ebdca0de5,"fix tag results on MemoryDatabase.execute (#1031)

The set of tags for the aggregated lines should be limited
to the set that are exact matches in the query or are a part
of a group by. Otherwise the grouping can have incorrect
duplicates in the result set.

Fixes #629."
brharrington,2019-04-26 22:09:09,https://api.github.com/repos/Netflix/atlas/git/commits/cca15bbecda81d8583bd3ef4842bc92ea259eeef,cca15bbecda81d8583bd3ef4842bc92ea259eeef,"expire interned queries after 12h (#1030)

Switches from a ConcurrentHashMap to a Cache for the interned
queries. This avoids a slow leak over time with churn in the
set of queries. In practice, we have not seen enough churn for
it to matter, but now queries that are no longer in use will
expire and go away.

Fixes #729."
brharrington,2019-04-26 21:32:05,https://api.github.com/repos/Netflix/atlas/git/commits/bf69de1b3795ac83c579bb7cbbdcad74baf490b6,bf69de1b3795ac83c579bb7cbbdcad74baf490b6,"improve error message for invalid percentile data (#1029)

The spectator-js client had a bug (Netflix/spectator-js#22)
leading to duplicate values for a given count. This change
updates the error message so it is easier to understand what
is happening. Before it would just say `assertion failed`."
brharrington,2019-04-25 02:26:33,https://api.github.com/repos/Netflix/atlas/git/commits/180fbaa7a80046e634e128e2c4cf4f751fbc8d20,180fbaa7a80046e634e128e2c4cf4f751fbc8d20,"improve handling of empty legend string (#1028)

Before it would fail with an error that is hard for a user
to understand:

```
IllegalArgumentException: Can't add attribute to 0-length text
```

This error would only show up if the image legend was
rendered causing further confusion because it wouldn't
show up if the legend was suppressed.

Now it will fallback to the default legend string if an
empty string is specified."
brharrington,2019-04-25 02:19:29,https://api.github.com/repos/Netflix/atlas/git/commits/b3206fa2ef30cd7abe08262a66c9ecdb163ca867,b3206fa2ef30cd7abe08262a66c9ecdb163ca867,"remove inline rollup hooks on the api (#1027)

Partially reverts #525. This removes the plumbing for the ids
and rollups via the api. The usage for the internal DB have
been retained.

The reason for this is it adds additional complexity and risk
to the backends and for most use-cases we are moving to the
simple aggregator cluster instead (see atlas-aggregator in
iep-apps). As we are not planning to exercise this as scale
anytime soon, it is being removed from the APIs before 1.6
release."
dmuino,2019-04-17 02:37:05,https://api.github.com/repos/Netflix/atlas/git/commits/49a4717321d913ab066a6c738eb05143a2dbc60f,49a4717321d913ab066a6c738eb05143a2dbc60f,"Add rolling-sum stateful operator (#1025)

Sum of the values within a specified window. The sum will only be emitted
if there are at least a minimum number of actual values (not `NaN`) within
the window. Otherwise `NaN` will be emitted for that time period."
brharrington,2019-04-15 21:22:15,https://api.github.com/repos/Netflix/atlas/git/commits/0fb0a093d4d7d3b5a4d836e8575e2118143559ab,0fb0a093d4d7d3b5a4d836e8575e2118143559ab,update dependencies (#1024)
brharrington,2019-04-15 21:02:07,https://api.github.com/repos/Netflix/atlas/git/commits/dff6a1ac9252c51d6d04320ab61a921c9879ec1f,dff6a1ac9252c51d6d04320ab61a921c9879ec1f,equalsverifier 3.1.8
brharrington,2019-04-15 20:58:26,https://api.github.com/repos/Netflix/atlas/git/commits/9bc07aa572cdd5d579c35bf01f545f1beea6e387,9bc07aa572cdd5d579c35bf01f545f1beea6e387,RoaringBitmap 0.8.0
brharrington,2019-04-15 20:57:55,https://api.github.com/repos/Netflix/atlas/git/commits/ce57cdaade63d5e10b83587f735f3b035e876b18,ce57cdaade63d5e10b83587f735f3b035e876b18,joda-convert 2.2.0
brharrington,2019-04-15 20:56:52,https://api.github.com/repos/Netflix/atlas/git/commits/a8bed68fddf327304d29e9b75796bca348ad7ffa,a8bed68fddf327304d29e9b75796bca348ad7ffa,aws-java-sdk 1.11.534
brharrington,2019-04-15 20:56:28,https://api.github.com/repos/Netflix/atlas/git/commits/26318f3015832cd7ade15380c2d9af3db61d92f0,26318f3015832cd7ade15380c2d9af3db61d92f0,iep 2.0.1
brharrington,2019-04-15 20:44:03,https://api.github.com/repos/Netflix/atlas/git/commits/e98e25cb395bd05cc1de954eeea8c79ff3137762,e98e25cb395bd05cc1de954eeea8c79ff3137762,spectator 0.90.0
brharrington,2019-04-15 20:43:21,https://api.github.com/repos/Netflix/atlas/git/commits/48fef1a5493a4ce602147fc6ef5802c172a349b1,48fef1a5493a4ce602147fc6ef5802c172a349b1,caffeine 2.7.0
brharrington,2019-04-15 20:13:36,https://api.github.com/repos/Netflix/atlas/git/commits/1e2ebb6d44a3339d587220994a8ad92f62927cea,1e2ebb6d44a3339d587220994a8ad92f62927cea,akka-http 10.1.8
brharrington,2019-04-15 20:10:16,https://api.github.com/repos/Netflix/atlas/git/commits/493714e6ffa0b05d5de49e9a021681910b385bb4,493714e6ffa0b05d5de49e9a021681910b385bb4,akka 2.5.22
brharrington,2019-04-14 20:59:09,https://api.github.com/repos/Netflix/atlas/git/commits/a3d3a20e6a0c3e40b0d527d0f2f1d20e19400ddd,a3d3a20e6a0c3e40b0d527d0f2f1d20e19400ddd,"fix typo in rolling-{min,max} descriptions (#1023)

`s/is can/can/`"
brharrington,2019-04-14 16:23:51,https://api.github.com/repos/Netflix/atlas/git/commits/3aa0bece525aa46c04c475dd37eb234504acd946,3aa0bece525aa46c04c475dd37eb234504acd946,"preserve offset for named rewrites (#1022)

In some cases when the rewrite was not being used like
an aggregate function, the offset would get lost.

Fixes #1021."
brharrington,2019-04-12 02:16:39,https://api.github.com/repos/Netflix/atlas/git/commits/579211f3098badbb9cb495be4a53b6687daab60b,579211f3098badbb9cb495be4a53b6687daab60b,fix unused method warnings (#1020)
brharrington,2019-04-11 23:28:05,https://api.github.com/repos/Netflix/atlas/git/commits/c31db8c8be3448921f742fecf428cc1d54d4fbf2,c31db8c8be3448921f742fecf428cc1d54d4fbf2,"add test case for stateful windows with no data (#1019)

Verify that rolling window for stateful operators moves
for intervals that have no data for the expression."
brharrington,2019-04-05 13:47:45,https://api.github.com/repos/Netflix/atlas/git/commits/294f3014c7f753d2b68887d7611308e5cf4b22c8,294f3014c7f753d2b68887d7611308e5cf4b22c8,"support generated dataset for eval (#1018)

Adds a `evaluator.createDatapointProcessor(DataSources)` method
that can be used to process a generated set of datapoints rather
than getting data from an LWC cluster. This can be used for tests
or for using Atlas expressions over arbitrary event streams.

Fixes #798."
zimmermatt,2019-03-29 23:17:52,https://api.github.com/repos/Netflix/atlas/git/commits/179311d76e0804180ac19f2a8d914d0fc05c8ea5,179311d76e0804180ac19f2a8d914d0fc05c8ea5,"Switch 2.12 build back to `osx` (#1017)

Experiment showed that the 2.12 build with linux/trusty _does_ result in
the correct version."
zimmermatt,2019-03-29 23:14:20,https://api.github.com/repos/Netflix/atlas/git/commits/7971b7cf6534499f067753a39e697edea9b5a0b1,7971b7cf6534499f067753a39e697edea9b5a0b1,"Explicitly fetch tags for build (#1016)

Add `--tags` to the `git fetch --unshallow` command. Specifying just
`--unshallow` or just `--tags` results in an artifact version of
`0.1` when building on Travis with `osx`."
zimmermatt,2019-03-29 22:42:10,https://api.github.com/repos/Netflix/atlas/git/commits/9c917f4e3fa2a7d7432c264227b17a77d3d68e21,9c917f4e3fa2a7d7432c264227b17a77d3d68e21,"Switch to linux/trusty for 2.12 build (#1015)

Switch to linux/trusty for 2.12 build to match the 2.11 build. This is
to observe whether the issue determining the version to use for
publication has an OS component."
zimmermatt,2019-03-29 22:08:01,https://api.github.com/repos/Netflix/atlas/git/commits/06382402c8a5fbf85b3eb49c4209381f2d8af68c,06382402c8a5fbf85b3eb49c4209381f2d8af68c,"Revert ""Ensure git tags are available for build"" (#1014)

This did not have the desired affect and seems to have caused the 2.11
build to no longer work.

This reverts commit 7f30c26."
zimmermatt,2019-03-29 21:34:59,https://api.github.com/repos/Netflix/atlas/git/commits/646d36690766e0c4120fa07fd0489a025a4acf2a,646d36690766e0c4120fa07fd0489a025a4acf2a,"Ensure git tags are available for build (#1012)

`git fetch --unshallow` was being used to get tags to set the artifact
version. This has started failing on one of the builds. This commit
switches to explicitly fetching tags via `git fetch --tags`."
zimmermatt,2019-03-29 17:32:41,https://api.github.com/repos/Netflix/atlas/git/commits/3f5c03d77214be7472538b0801d1a5a906128d76,3f5c03d77214be7472538b0801d1a5a906128d76,"Fix lambda config (#1010)

The code that loads `MetricCategory` instances from the config expects
the `dimension` field, even if it's empty. This was causing the service
to silently fail.

In addition to fixing the `lambda` config, I've added tests that load
the production config to improve the chances we'll catch this at build
time."
brharrington,2019-03-29 17:03:58,https://api.github.com/repos/Netflix/atlas/git/commits/02dc9b980e3035674b910773cf444ce3e2ddda72,02dc9b980e3035674b910773cf444ce3e2ddda72,"improve logging for poller actor failures (#1011)

Clearly log the initialization failure as an error for the
poller manager. Avoids this getting overlooked if the detailed
actor logging is not enabled."
zimmermatt,2019-03-28 02:10:14,https://api.github.com/repos/Netflix/atlas/git/commits/a1f778c576a616242d72cae57f99db15606cbbec,a1f778c576a616242d72cae57f99db15606cbbec,"Collect additional lambda metrics (#1008)

Add collection of
* `ConcurrentExecutions`
* `UnreservedConcurrentExecutions`
* `DeadLetterErrors`
* `IteratorAge`

Issue #1005"
brharrington,2019-03-28 01:27:28,https://api.github.com/repos/Netflix/atlas/git/commits/bf9a99dab08a89020c0794af5f90e285ce8578ec,bf9a99dab08a89020c0794af5f90e285ce8578ec,"simplify log/power scale logic (#1009)

Simplifies the logic for computing the log and power
scales. Now it just applies the mapping function to
the input bounds and the value prior to using a normal
linear scale."
brharrington,2019-03-20 03:03:18,https://api.github.com/repos/Netflix/atlas/git/commits/b5b9eaee2edb06d50153d8d145df34291df71099,b5b9eaee2edb06d50153d8d145df34291df71099,update dependencies (#1006)
brharrington,2019-03-20 02:52:29,https://api.github.com/repos/Netflix/atlas/git/commits/824d9ef6cad1c2484cab76100b7b6ce397aff0fc,824d9ef6cad1c2484cab76100b7b6ce397aff0fc,aws-java-sdk 1.11.521
brharrington,2019-03-20 02:36:35,https://api.github.com/repos/Netflix/atlas/git/commits/d546872fc808409f0666a4d48d2f937adde410a5,d546872fc808409f0666a4d48d2f937adde410a5,equalsverifier 3.1.7
brharrington,2019-03-20 02:34:44,https://api.github.com/repos/Netflix/atlas/git/commits/a0bc22759ce34d0d2dd7a45eaca222fad91c4070,a0bc22759ce34d0d2dd7a45eaca222fad91c4070,scalatest 3.0.7
brharrington,2019-03-20 02:31:35,https://api.github.com/repos/Netflix/atlas/git/commits/f89c5d1eaa42aae1763665cdc09f6dc5beb0ce82,f89c5d1eaa42aae1763665cdc09f6dc5beb0ce82,spectator 0.87.0
brharrington,2019-03-20 02:29:02,https://api.github.com/repos/Netflix/atlas/git/commits/8c4d12f01e530137bc7b9d4e89ac0329c523fe05,8c4d12f01e530137bc7b9d4e89ac0329c523fe05,iep 2.0.0
zimmermatt,2019-03-07 20:52:38,https://api.github.com/repos/Netflix/atlas/git/commits/5f95cba761c3e0bda2783354a7ac65c403b9aeb5,5f95cba761c3e0bda2783354a7ac65c403b9aeb5,"Collect additional aurora replica metrics (#1003)

Add collection of `AuroraReplicaLag` and `AuroraReplicaLagMaximum`
(fixes #1002)."
zimmermatt,2019-03-01 23:09:05,https://api.github.com/repos/Netflix/atlas/git/commits/bab1872e2de02b455f74358d45b7d1aab977016c,bab1872e2de02b455f74358d45b7d1aab977016c,"Improve CloudWatch metric lag handling (#1001)

This is the first of potentially multiple commits to improve handling
of CloudWatch metric lag. This first commit makes the time range of
the query configurable and adds a metric to track the age (in
CloudWatch periods) of the latest datapoint returned. This will enable
assessing the distribution of ages across the namespaces and metrics
collected. Those data will influence the approach for datapoints that
are older than Atlas will accept."
brharrington,2019-02-28 17:18:32,https://api.github.com/repos/Netflix/atlas/git/commits/ed1f1f207fe46cae65b7b7a248501cd5020775c3,ed1f1f207fe46cae65b7b7a248501cd5020775c3,update dependencies (#1000)
brharrington,2019-02-28 17:01:47,https://api.github.com/repos/Netflix/atlas/git/commits/782583af4728764dd2ed95f29bb6577fa2bea8d9,782583af4728764dd2ed95f29bb6577fa2bea8d9,log4j 2.11.2
brharrington,2019-02-28 16:54:43,https://api.github.com/repos/Netflix/atlas/git/commits/77ce64ff65600a3e24bfe71d213f8339e7f66252,77ce64ff65600a3e24bfe71d213f8339e7f66252,roaring bitmap 0.7.42
brharrington,2019-02-28 16:53:49,https://api.github.com/repos/Netflix/atlas/git/commits/23d59a294ede21f05301fe6af22084b8eefd361d,23d59a294ede21f05301fe6af22084b8eefd361d,equalsverifier 3.1.5
brharrington,2019-02-28 16:48:17,https://api.github.com/repos/Netflix/atlas/git/commits/7010f525547afe0db423538c3ab44744f57643f7,7010f525547afe0db423538c3ab44744f57643f7,slf4j 1.7.26
brharrington,2019-02-28 16:36:21,https://api.github.com/repos/Netflix/atlas/git/commits/ed81688bad0ad4caf5603d8e6f29490c807ddae8,ed81688bad0ad4caf5603d8e6f29490c807ddae8,scalatest 3.0.6
brharrington,2019-02-28 16:34:16,https://api.github.com/repos/Netflix/atlas/git/commits/47ea06c75fd7c2de52fea5dc700c7bda312b29d8,47ea06c75fd7c2de52fea5dc700c7bda312b29d8,akka 2.5.21
brharrington,2019-02-28 15:10:39,https://api.github.com/repos/Netflix/atlas/git/commits/28f7b3a928c9d46b1aa69e4808b6e49c551de85b,28f7b3a928c9d46b1aa69e4808b6e49c551de85b,spectator 0.86.0
brharrington,2019-02-28 15:08:43,https://api.github.com/repos/Netflix/atlas/git/commits/29c2ad933a64e6a6e7915fa62be75991cb9767a7,29c2ad933a64e6a6e7915fa62be75991cb9767a7,aws-java-sdk 1.11.501
zimmermatt,2019-02-28 15:04:55,https://api.github.com/repos/Netflix/atlas/git/commits/6e1be7fccd1f5463100a4246211887a4cb169ba6,6e1be7fccd1f5463100a4246211887a4cb169ba6,"Add NetworkELB TLS metrics (#997)

See
* https://aws.amazon.com/about-aws/whats-new/2019/01/network-load-balancer-now-supports-tls-termination/
* https://docs.aws.amazon.com/elasticloadbalancing/latest/network/load-balancer-cloudwatch-metrics.html"
zimmermatt,2019-02-28 02:15:28,https://api.github.com/repos/Netflix/atlas/git/commits/fd64f34f1080275e47843663ccb30f5ad3ec1db2,fd64f34f1080275e47843663ccb30f5ad3ec1db2,"Add NATGateway Metrics (#998)

See
https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway-cloudwatch.html"
brharrington,2019-02-27 14:51:19,https://api.github.com/repos/Netflix/atlas/git/commits/9fb970d6720d1f7c296b0b902a92f3a35f66902a,9fb970d6720d1f7c296b0b902a92f3a35f66902a,"fix link on eval lib readme (#996)

Reference to reactive streams publisher didn't match."
brharrington,2019-02-22 06:17:23,https://api.github.com/repos/Netflix/atlas/git/commits/9ad71906a61120c4600596740d9b2424adfbf8dd,9ad71906a61120c4600596740d9b2424adfbf8dd,"add helpers for accessing materializer for stage (#995)

In some cases, such as calling `discardEntityBytes` for an
HTTP response, it is useful to access the materializer for
the stage so the stream blueprint can be created without
needing to pass in a materializer."
brharrington,2019-02-15 17:55:30,https://api.github.com/repos/Netflix/atlas/git/commits/b151b50069b9d0ca54d9ae5b05c946b8ee84c2a7,b151b50069b9d0ca54d9ae5b05c946b8ee84c2a7,"only use offset notation if there is duplication (#994)

Adjusts the logic so that offset notation for the y-axis
will only get used if there is an actual duplication for
the major tick labels. See #991 for more information."
brharrington,2019-02-01 00:30:38,https://api.github.com/repos/Netflix/atlas/git/commits/6c3e2808c8e121fee2a4dc60c38624ff5ac09a10,6c3e2808c8e121fee2a4dc60c38624ff5ac09a10,"avoid BoxesRunTime.equals for SmallHashMap (#990)

For the QueryIndex on the streaming clusters a hot spot
is `SmallHashMap.get`. Flame graphs show a significant
and unnecessary overhead being `BoxesRunTime.equals`.
This change updates 7 places in the code to avoid that
call:

**Before**

```
$ javap -verbose ./atlas-core/target/scala-2.12/classes/com/netflix/atlas/core/util/SmallHashMap.class | grep Boxes
        46: invokestatic  #1101               // Method scala/runtime/BoxesRunTime.equals:(Ljava/lang/Object;Ljava/lang/Object;)Z
        79: invokestatic  #1101               // Method scala/runtime/BoxesRunTime.equals:(Ljava/lang/Object;Ljava/lang/Object;)Z
       105: invokestatic  #1101               // Method scala/runtime/BoxesRunTime.equals:(Ljava/lang/Object;Ljava/lang/Object;)Z
        40: invokestatic  #1155               // Method scala/runtime/BoxesRunTime.unboxToBoolean:(Ljava/lang/Object;)Z
        29: invokestatic  #1101               // Method scala/runtime/BoxesRunTime.equals:(Ljava/lang/Object;Ljava/lang/Object;)Z
        59: invokestatic  #1101               // Method scala/runtime/BoxesRunTime.equals:(Ljava/lang/Object;Ljava/lang/Object;)Z
        17: invokestatic  #1101               // Method scala/runtime/BoxesRunTime.equals:(Ljava/lang/Object;Ljava/lang/Object;)Z
         2: invokestatic  #1101               // Method scala/runtime/BoxesRunTime.equals:(Ljava/lang/Object;Ljava/lang/Object;)Z
```

**After**

```
$ javap -verbose ./atlas-core/target/scala-2.12/classes/com/netflix/atlas/core/util/SmallHashMap.class | grep Boxes
        40: invokestatic  #1154               // Method scala/runtime/BoxesRunTime.unboxToBoolean:(Ljava/lang/Object;)Z
```"
brharrington,2019-01-31 22:31:05,https://api.github.com/repos/Netflix/atlas/git/commits/d7e92dc0415dcb9d84d68b8dadbde2b8678df798,d7e92dc0415dcb9d84d68b8dadbde2b8678df798,"QueryIndex: reduce overhead for checking entries (#989)

Flame graphs on the prod clusters show a bit of overhead
for filter and exists calls on the list of entries. This
change converts it to a simple array and avoids using the
collections framework methods. For the existing JMH test
this resulted in about a 12% improvement."
brharrington,2019-01-29 22:30:29,https://api.github.com/repos/Netflix/atlas/git/commits/5f5166aee065a294b9dd8f9fd55d51a3dc8dfa93,5f5166aee065a294b9dd8f9fd55d51a3dc8dfa93,"add rolling-mean operator (#987)

This is meant as an alternative to `:trend` that fixes a
number of issues with that operator. Specifically:

1. The denominator for the average is the number of actual
   values, that is non-NaN entries, within the rolling buffer.
   The `:trend` operator always uses the window size which
   can create confusing drops because `NaN` values are
   effectively 0.
2. The minimum number of values permitted before emitting
   a mean can be specified by the user.
3. It is more consistent with other stateful operators in
   that it works on a window size relative to the step
   interval rather than a fixed time duration.
4. It is more consistent with similar operators in other
   tools such as the `rolling_mean` function provided by
   Panda.

Fixes #958."
brharrington,2019-01-29 22:26:02,https://api.github.com/repos/Netflix/atlas/git/commits/80322a9e323bf727699bbeddfda8b7f379df30b0,80322a9e323bf727699bbeddfda8b7f379df30b0,"fix procedure syntax warnings (#988)

Procedure syntax is deprecated in 2.13 and results in a
lot of warnings when trying to build on that version of
Scala."
brharrington,2019-01-29 20:36:22,https://api.github.com/repos/Netflix/atlas/git/commits/fb09dd56c237cb2e6f1458ca7e6a05cb61d728cf,fb09dd56c237cb2e6f1458ca7e6a05cb61d728cf,update dependencies (#986)
brharrington,2019-01-29 18:31:37,https://api.github.com/repos/Netflix/atlas/git/commits/d11f6aa50b5ebd736ada26efee642ecc5ac98f2f,d11f6aa50b5ebd736ada26efee642ecc5ac98f2f,equalsverifier 3.1.4
brharrington,2019-01-29 18:27:49,https://api.github.com/repos/Netflix/atlas/git/commits/c262b24ec4459cec18e6e9e6924d76eb2539678d,c262b24ec4459cec18e6e9e6924d76eb2539678d,roaring bitmap 0.7.36
brharrington,2019-01-29 18:27:00,https://api.github.com/repos/Netflix/atlas/git/commits/52da9ed7ba2e8c6e6078a225792491700a948637,52da9ed7ba2e8c6e6078a225792491700a948637,frigga 0.19.0
brharrington,2019-01-29 18:22:08,https://api.github.com/repos/Netflix/atlas/git/commits/4cf5e49ef57e4e0ba350e4a54207e721f38a9a26,4cf5e49ef57e4e0ba350e4a54207e721f38a9a26,iep 1.2.10
brharrington,2019-01-29 18:21:06,https://api.github.com/repos/Netflix/atlas/git/commits/b965033d85fdc7eb0c2f0aef70a05e90d2e7b045,b965033d85fdc7eb0c2f0aef70a05e90d2e7b045,aws-java-sdk 1.11.482
brharrington,2019-01-29 18:10:14,https://api.github.com/repos/Netflix/atlas/git/commits/27c5f332fbe7809bf33ab64ae744115c9b025abb,27c5f332fbe7809bf33ab64ae744115c9b025abb,spectator 0.83.0
brharrington,2019-01-29 18:09:26,https://api.github.com/repos/Netflix/atlas/git/commits/8e2007ee60af9bc509d0c14c755054ce85ab9eb7,8e2007ee60af9bc509d0c14c755054ce85ab9eb7,sbt-scalafmt 1.16
brharrington,2019-01-29 18:01:00,https://api.github.com/repos/Netflix/atlas/git/commits/2acb1a3031a256b4121966cce95174aae5983af6,2acb1a3031a256b4121966cce95174aae5983af6,akka-http 10.1.7
brharrington,2019-01-29 18:00:02,https://api.github.com/repos/Netflix/atlas/git/commits/25016b1a911e26ffc07d5de71dc4169c06c6d796,25016b1a911e26ffc07d5de71dc4169c06c6d796,akka 2.5.20
brharrington,2019-01-29 17:54:49,https://api.github.com/repos/Netflix/atlas/git/commits/ca7ffeddf94f6fba6060683b935551c049798241,ca7ffeddf94f6fba6060683b935551c049798241,"consistent state model for all stateful operators (#985)

Updates all of the stateful operators to use the same
online algorithm base classes. This also gives them a
consistent representation of state that can easily be
serialized and deserialized. This is a first step to
possible future work of persisting the state of streaming
evaluations so it can be replayed or the execution can
be transitioned to another instance."
brharrington,2019-01-29 14:49:35,https://api.github.com/repos/Netflix/atlas/git/commits/ccea49d61650c5d699bfc82077e67bed008f0978,ccea49d61650c5d699bfc82077e67bed008f0978,"refactor to avoid AssignOrNamedArg (#984)

This class was renamed in scala 2.13 (scala/scala@870131b)."
zimmermatt,2019-01-28 19:49:54,https://api.github.com/repos/Netflix/atlas/git/commits/d29580314e5d02749ae83265652d62a37b30328b,d29580314e5d02749ae83265652d62a37b30328b,"Throttle calls to CloudWatch (#983)

We're hitting CloudWatch rate limits on a regular basis. However, the
AWS limits should be sufficient for our overall per second call rate in
the majority of cases. The current pattern of calls has bursts when the
`Tick` message kicks off a collection, which causes the call rate to
spike above the per second limit. This commit introduces call rate
limiting to smooth out the request pattern.

The Akka documentation for throttling request/response actor
communication is incomplete. Through iteration playing around in a local
toy app, I arrived at the implementation herein and confirmed that it
works as expected.

For this use case, it's important to ensure that either all or none of
the `MetricMetadata` elements are added for processing. To satisfy that
requirement, the full list is sent to the actor `Source` which then uses
`flatMapConcat` to send each element individually through the throttle
phase. This provides a stronger guarantee than the default, which could
drop elements if the queue fills up. In practice, memory is more likely
to be the limiting factor, given actors have unbounded mailboxes by
default. Case in point, it was difficult to trigger the drop scenario in
the local toy app. However, this approach more deterministically
provides the stronger guarantee."
brharrington,2019-01-23 22:23:54,https://api.github.com/repos/Netflix/atlas/git/commits/c56bc88d067888d1910223ee8f0b661daa54fb27,c56bc88d067888d1910223ee8f0b661daa54fb27,"use jdk8 for building the scala 2.11 artifacts (#982)

Since 2.11 doesn't support the `--release` option, building
on a newer version can lead to errors when running on jdk8.
Specifically the return type of some methods changed in jdk9+.

This should fix errors like:

```
Cause: java.lang.NoSuchMethodError: java.nio.CharBuffer.clear()Ljava/nio/CharBuffer;
  at com.netflix.atlas.core.model.TaggedItem$.writePair(TaggedItem.scala:59)
  at com.netflix.atlas.core.model.TaggedItem$.computeId(TaggedItem.scala:105)
```

This means that image tests will not run for the 2.11 build."
brharrington,2019-01-18 17:40:54,https://api.github.com/repos/Netflix/atlas/git/commits/8b8881f5ec455881a86e5d30dc89c83372c4dd59,8b8881f5ec455881a86e5d30dc89c83372c4dd59,"remove stat vars from output tags (#981)

The stat vars are desired for substitutions (#878), but should
not be included in the tag maps for the output. The output tags
should be stable over time if evaluated incrementally. Including
the stats breaks this because the values are dependent on the
data for that time slice."
brharrington,2019-01-18 00:50:33,https://api.github.com/repos/Netflix/atlas/git/commits/55b900adbd64d66456bef1115ecd1a9532b4304a,55b900adbd64d66456bef1115ecd1a9532b4304a,"add helper function to validation a datasource (#980)

This can be used as an upfront check to filter out bad
data sources rather than getting the failure via the
stream."
brharrington,2019-01-08 21:13:50,https://api.github.com/repos/Netflix/atlas/git/commits/b014defb2cff4dca48bea0cf875dfb10425ee035,b014defb2cff4dca48bea0cf875dfb10425ee035,"update default grid colors (#979)

This makes the grid colors lighter so they do not distract
the viewer as much. These settings have been used internally
for many years so this also reduces differences between the
internal use at Netflix and OSS settings."
brharrington,2019-01-04 19:20:31,https://api.github.com/repos/Netflix/atlas/git/commits/e10c574a270dcc92c24720647056c3cbe65d5250,e10c574a270dcc92c24720647056c3cbe65d5250,"use dedicated object for algo state (#978)

Before it was using a Config object for convenience. This
switches it to a dedicated object that can be easily used
with `Json.encode/decode` or other similar tools. This should
also be more efficient for the more common use-cases because
we can avoid creation of the needless config objects."
brharrington,2019-01-04 00:43:09,https://api.github.com/repos/Netflix/atlas/git/commits/14efd74792c4bce2f3300396e21597043ef47da0,14efd74792c4bce2f3300396e21597043ef47da0,"avoid conversion if already a ConfigValue (#977)

In the docs site it is getting config 1.2 in the sbt
classpath. There isn't an obvious way to force it to
a newer version. The older version will fail if trying
to convert a ConfigValue to a ConfigValue. For now we
can workaround the problem by special casing that to
avoid the unnecessary conversion."
brharrington,2019-01-03 21:52:59,https://api.github.com/repos/Netflix/atlas/git/commits/87689ad02f24d6666b64a2b792e6a3fed699fa6a,87689ad02f24d6666b64a2b792e6a3fed699fa6a,"set --release for javac (#976)

After switching to use jdk11 for the build, the java classes
were getting compiled to class version 55 instead of 52."
brharrington,2019-01-03 20:43:24,https://api.github.com/repos/Netflix/atlas/git/commits/bb7b319c32b57eae2d26bd68174b0ceba76388ba,bb7b319c32b57eae2d26bd68174b0ceba76388ba,"remove redis from travis config (#975)

This is no longer needed for the Atlas build."
brharrington,2019-01-03 19:24:13,https://api.github.com/repos/Netflix/atlas/git/commits/c9cad18ca628e11743c98ecf0412926074adf2f1,c9cad18ca628e11743c98ecf0412926074adf2f1,"disable scaladoc publishing (#974)

On JDK11 with `-release 8` it crashes with:

```
[error] java.lang.AssertionError: assertion failed:
[error]   type AnyRef in java.lang
[error]      while compiling: ...
[error]         during phase: globalPhase=terminal, enteringPhase=typer
[error]      library version: version 2.12.8
[error]     compiler version: version 2.12.8
```

This is a quick workaround as we do not rely on the published
scaladoc jars for anything."
brharrington,2019-01-03 17:32:11,https://api.github.com/repos/Netflix/atlas/git/commits/ceced7a6a0fa04a34c6a1d502a3ddfc8634ea32a,ceced7a6a0fa04a34c6a1d502a3ddfc8634ea32a,"build using openjdk11 (#973)

This updates the travis builds to use OpenJDK 11. The
`-release 8` option is used to ensure the generated
bytecode will still work on JDK8. Due to font rendering
differences, image tests will fail when running on older
versions of the JDK or on operating systems other than
Mac OS X. Those checks will now automatically be
disabled on systems that are known to fail, but are checked
as part of CI validation."
brharrington,2019-01-02 22:25:02,https://api.github.com/repos/Netflix/atlas/git/commits/f6c0fb93b757f479feaf811677be0ba1243299aa,f6c0fb93b757f479feaf811677be0ba1243299aa,"enable antialiasing by default (#972)

Update the config settings to use antialiasing for the text
by default. It is explicitly disabled for tests as it will
frequently cause rendering differences across systems."
brharrington,2019-01-02 21:14:58,https://api.github.com/repos/Netflix/atlas/git/commits/822beec4234793f8e96df8a6c10f6e54a6541acd,822beec4234793f8e96df8a6c10f6e54a6541acd,"use RobotoMono font for error images (#971)

Follow up to #967. Use RobotoMono font for the png error
image utility as well as the graphs."
brharrington,2019-01-02 18:35:26,https://api.github.com/repos/Netflix/atlas/git/commits/4c10f3c76e9beba4711b10d04076ed8c4c5a1514,4c10f3c76e9beba4711b10d04076ed8c4c5a1514,"sbt 1.2.8 (#970)

Fixes occasional NPE for Bintray.

https://developer.lightbend.com/blog/2018-12-30-sbt-1-2-8/"
brharrington,2019-01-02 18:05:06,https://api.github.com/repos/Netflix/atlas/git/commits/34d291b9754169ba7c88d52a9107f7369954eb6c,34d291b9754169ba7c88d52a9107f7369954eb6c,update license headers for 2019 (#969)
brharrington,2018-12-22 04:39:47,https://api.github.com/repos/Netflix/atlas/git/commits/de117e9faf71a890c14c207bb28ed949f258f44b,de117e9faf71a890c14c207bb28ed949f258f44b,"use standard IIOMetadata classes for PNG (#968)

When using the `-release 8` option the internal `PNGMetadata`
class is not found in the classpath. Update the usage to rely
on the public APIs."
brharrington,2018-12-21 23:49:17,https://api.github.com/repos/Netflix/atlas/git/commits/363f2feb219d31eafb6acb3701cca790e0208e34,363f2feb219d31eafb6acb3701cca790e0208e34,"switch to RobotoMono font (#967)

The Lucida fonts are not included with OpenJDK and have been
removed from OracleJDK in version 11. The RobotoMono family
is Apache licensed and will now be used as the default to get
a more consistent experience across JDK versions."
brharrington,2018-12-21 21:08:31,https://api.github.com/repos/Netflix/atlas/git/commits/4662cedc59863f915a57994f038cffbc921bbdf0,4662cedc59863f915a57994f038cffbc921bbdf0,"fix #852, inconsistent group by behavior (#966)

Before, attempting a group by on non-grouped expressions
without a math aggregate function would behave differently
than a non-grouped expression with a math aggregate. Now
they have the same behavior and the group by will be ignored
for expression trees that do not support it."
brharrington,2018-12-21 20:32:32,https://api.github.com/repos/Netflix/atlas/git/commits/22ae17fc75e7d0dd62347a4e732c944ead6bedd0,22ae17fc75e7d0dd62347a4e732c944ead6bedd0,"fix #763, custom consolidation with rewrites (#965)

The rewrites that look like aggregation functions will now
work with custom consolidations. If used the rewrite will
not be preserved in the model. So the output of converting
the parsed expression model to a string will be the expanded
expression and not indicate the rewrite was used."
brharrington,2018-12-21 19:01:14,https://api.github.com/repos/Netflix/atlas/git/commits/19bcfc0d129b0b4e1b4e5acf6264d0120964bfd7,19bcfc0d129b0b4e1b4e5acf6264d0120964bfd7,"fix #948, all zeros shown on y-axis (#964)

If the upper bound exactly matched `10 * factor` for the
selected unit prefix, then it would use a different selection
to avoid large numbers for the tick labels. However, for an
exact match it is better to use the default prefix to avoid
getting zeros due to rounding with the larger prefix."
brharrington,2018-12-21 17:31:14,https://api.github.com/repos/Netflix/atlas/git/commits/c4e8820bcd15f9b7e41ef89408287fd17fca8983,c4e8820bcd15f9b7e41ef89408287fd17fca8983,"move PngImage from atlas-core to atlas-chart (#963)

The image utilities are only used for charting and this
makes it easier to get consistency with upcoming font
changes."
brharrington,2018-12-21 03:36:00,https://api.github.com/repos/Netflix/atlas/git/commits/b2a28d0d5439ec3e96711d79492963d32c1e5270,b2a28d0d5439ec3e96711d79492963d32c1e5270,"akka-http 10.1.6 (#961)

Adds an explicit `akka-stream-testkit` dependency because it is
no longer included with `akka-http-testkit`."
brharrington,2018-12-20 20:55:28,https://api.github.com/repos/Netflix/atlas/git/commits/a8d0eeddbaa73e4cdbeeee9099449bdb7679e625,a8d0eeddbaa73e4cdbeeee9099449bdb7679e625,"update to jackson 2.9.8 (#960)

Has a number of security fixes:

https://groups.google.com/forum/#!topic/jackson-user/8jdpNS1dQPQ
https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.9.8"
brharrington,2018-12-14 22:29:27,https://api.github.com/repos/Netflix/atlas/git/commits/294e0ba7d61ecbea928709b1b1404d26f5c6d5c8,294e0ba7d61ecbea928709b1b1404d26f5c6d5c8,update dependencies (#959)
brharrington,2018-12-14 20:47:40,https://api.github.com/repos/Netflix/atlas/git/commits/f94046ae442fc997c6d7b82f255d3e9d9a492078,f94046ae442fc997c6d7b82f255d3e9d9a492078,sbt 1.2.7
brharrington,2018-12-14 20:45:53,https://api.github.com/repos/Netflix/atlas/git/commits/f6a81801444934464d95b79f6e42c74c4c86cf2c,f6a81801444934464d95b79f6e42c74c4c86cf2c,sbt-release 1.0.10
brharrington,2018-12-14 19:25:32,https://api.github.com/repos/Netflix/atlas/git/commits/e159a9cf6fcacd576d9309237209db595112d996,e159a9cf6fcacd576d9309237209db595112d996,equalsverifier 3.0.3
brharrington,2018-12-14 19:22:31,https://api.github.com/repos/Netflix/atlas/git/commits/21396cad2d8a1e097c496b3c9f8a18d398bbf888,21396cad2d8a1e097c496b3c9f8a18d398bbf888,aws-java-sdk 1.11.469
brharrington,2018-12-14 19:16:59,https://api.github.com/repos/Netflix/atlas/git/commits/8572b63f19f7e1c7d3a9dec30116243ce64298b3,8572b63f19f7e1c7d3a9dec30116243ce64298b3,spectator 0.82.0
brharrington,2018-12-14 19:13:44,https://api.github.com/repos/Netflix/atlas/git/commits/ae0251ab010ee4b2035201b692af41776249bae6,ae0251ab010ee4b2035201b692af41776249bae6,iep 1.2.9
brharrington,2018-12-14 18:57:39,https://api.github.com/repos/Netflix/atlas/git/commits/1baffbec75f0b81cc74179f5fdf07a3224450899,1baffbec75f0b81cc74179f5fdf07a3224450899,akka 2.5.19
brharrington,2018-12-14 18:55:55,https://api.github.com/repos/Netflix/atlas/git/commits/1fd3d6573604244fd498bf0809b6be5191a08725,1fd3d6573604244fd498bf0809b6be5191a08725,scala 2.12.8
brharrington,2018-12-04 15:17:48,https://api.github.com/repos/Netflix/atlas/git/commits/79a8c29470380afca02ccf9c47fa846e201a1d07,79a8c29470380afca02ccf9c47fa846e201a1d07,"use same hash for IntRefHashMap and IntIntMap (#957)

Updates IntRefHashMap to just use the int value as the hash
code just like IntIntMap and Integer.hashCode. This makes them
more consistent. In tests on real data the overhead of computing
the murmur hash outweighs the benefits it provides."
brharrington,2018-12-02 22:23:49,https://api.github.com/repos/Netflix/atlas/git/commits/7c5b31bfc78aed2f8e7ca3a4dca3ee220e5ef8f8,7c5b31bfc78aed2f8e7ca3a4dca3ee220e5ef8f8,"switch to new pattern matcher (#956)

For more details see Netflix/spectator#651."
brharrington,2018-11-27 23:20:03,https://api.github.com/repos/Netflix/atlas/git/commits/27e423d6a82617f92be0501676a95833449b6842,27e423d6a82617f92be0501676a95833449b6842,"only use error images for browsers (#955)

There are some programmatic use-cases for accessing images
such as alerting emails and bots for including in chat apps.
The current behavior makes it hard to detect errors with the
images because it is embedded within the image text and has
a 200 response code. This changes the graph api behavior to
only use error images when the access appears to be coming
from a web browser."
brharrington,2018-11-27 21:52:33,https://api.github.com/repos/Netflix/atlas/git/commits/29991de0e8b6389432c0881cd8d3a3bb32ce43dc,29991de0e8b6389432c0881cd8d3a3bb32ce43dc,"avoid Option allocation for queries (#954)

For the LWC bridge flame graphs show a lot of time being
spent on accessing the values. Futher allocation profiles
show a lot of allocations for the temporary Option that
isn't needed. This change adds a special case that uses
`SmallHashMap.getOrNull` when possible to avoid the extra
overhead."
brharrington,2018-11-13 16:23:11,https://api.github.com/repos/Netflix/atlas/git/commits/e56379c0259f6f13f21285cb4c6b16e273bbc05b,e56379c0259f6f13f21285cb4c6b16e273bbc05b,"add check for invalid messages in the stream (#952)

This will prevent the stream from failing and just log
the invalid message that was received to help with debugging.
If this does occur it isn't clear that the stream will
recover, but there is a metric to detect that bad messsages
were received."
brharrington,2018-11-04 01:31:32,https://api.github.com/repos/Netflix/atlas/git/commits/8afc8a5a50535bfd5ea69450582ec43275ab8db2,8afc8a5a50535bfd5ea69450582ec43275ab8db2,"improve performance of findValues for common tags (#949)

For tags that are repeated across many metrics, this change
prunes the item set by doing a lookup for that key value. The
`andNot` is quite a bit faster than iterating the matches.
It mostly impacts queries that are projecting all values for
a common tag without other restrictions.

For the sample benchmark, findValuesAllOne is the only one
to show a noticeable change as expected. Before it was about
4864.472 ops/s and after 357671.851 ops/s.

Trying it on real data, it is mostly faster, but there are a
handful of cases where it is a bit slower. The table below
shows mean time per operation in milliseconds for a handful
of common queries:

| *URI*                | *Before*  | *After*   |
|----------------------|-----------|-----------|
| `/nf.app`            | 115.5     | 26.9      |
| `/nf.cluster`        | 102.0     | 66.3      |
| `/nf.node`           | 156.4     | 196.9     |
| `/nf.account`        | 128.6     | 2.0       |
| `/nf.region`         | 97.1      | 2.3       |
| `/nf.zone`           | 90.5      | 5.5       |
| `/name`              | 122.5     | 111.0     |

Full URI is with prefix of `/api/v1/tags`."
brharrington,2018-10-26 16:44:00,https://api.github.com/repos/Netflix/atlas/git/commits/49f9114a4366d05d6f9bca2654bf3823982a8a77,49f9114a4366d05d6f9bca2654bf3823982a8a77,update dependencies (#947)
brharrington,2018-10-26 16:23:09,https://api.github.com/repos/Netflix/atlas/git/commits/1b5f1ce82c546d24d9182ea8709666cc7ba98bb8,1b5f1ce82c546d24d9182ea8709666cc7ba98bb8,equalsverifier 3.0
brharrington,2018-10-26 16:01:49,https://api.github.com/repos/Netflix/atlas/git/commits/99fc788266ac25dbcaee5a27733d2975ad57cda0,99fc788266ac25dbcaee5a27733d2975ad57cda0,iep 1.2.8
brharrington,2018-10-26 16:00:53,https://api.github.com/repos/Netflix/atlas/git/commits/9b1307a0003c15c66b57e82d5ff0c5c6b2d659ea,9b1307a0003c15c66b57e82d5ff0c5c6b2d659ea,joda-convert 2.1.2
brharrington,2018-10-26 16:00:09,https://api.github.com/repos/Netflix/atlas/git/commits/1df440bc90142e958463fb5ddca6393081a1c31e,1df440bc90142e958463fb5ddca6393081a1c31e,spectator 0.79.0
brharrington,2018-10-26 15:47:00,https://api.github.com/repos/Netflix/atlas/git/commits/cfcaa84b6d939b6563ac7709794317a9d4bd05bc,cfcaa84b6d939b6563ac7709794317a9d4bd05bc,akka 2.5.17
brharrington,2018-10-26 15:25:24,https://api.github.com/repos/Netflix/atlas/git/commits/4dc64e631849e6131d4dd86920e404ee5962c4df,4dc64e631849e6131d4dd86920e404ee5962c4df,aws-java-sdk 1.11.435
brharrington,2018-10-24 21:45:40,https://api.github.com/repos/Netflix/atlas/git/commits/c6f7551a9a814c61443e4162d87912a17c3ad328,c6f7551a9a814c61443e4162d87912a17c3ad328,"add config setting for max tags permitted (#946)

For general use it is not recommended to change this, but
making it configurable to facilitate experimentation and
testing."
brharrington,2018-10-24 21:45:18,https://api.github.com/repos/Netflix/atlas/git/commits/67dbb046ca88fc39bef2ce0561bd7744e8708d58,67dbb046ca88fc39bef2ce0561bd7744e8708d58,"disable use of cache for ImageIO (#945)

Should avoid tmp files that get created by default when
rendering images. Also helps avoid problems on shared
clusters when /tmp fills up."
brharrington,2018-10-19 22:52:23,https://api.github.com/repos/Netflix/atlas/git/commits/d37e4a0f2f2e6be2e6ec4693c4671f35e4091e77,d37e4a0f2f2e6be2e6ec4693c4671f35e4091e77,"fix flakey test case (#944)

If the stream did not start fast enough and pull on the
queue source, then the first future will be inserted in
the queue rather than passed through and the second future
could be dropped."
brharrington,2018-10-19 20:51:32,https://api.github.com/repos/Netflix/atlas/git/commits/03b418b2cb06a8a95206523ea45a9b6d037ed69d,03b418b2cb06a8a95206523ea45a9b6d037ed69d,"optimize json encoding for lwc datapoint (#943)

Avoid using databind to automatically encode as this is
a hot path that is called many times on lwcapi for sending
the datapoints to the user."
brharrington,2018-10-19 19:41:37,https://api.github.com/repos/Netflix/atlas/git/commits/d4bfec55aa2462fec70e80836d28e6238fc70538,d4bfec55aa2462fec70e80836d28e6238fc70538,"reduce overhead for creating hash strings (#942)

Avoids creating a BigInteger object from the hash array
just for the purposes of creating the hex string."
brharrington,2018-10-17 22:55:07,https://api.github.com/repos/Netflix/atlas/git/commits/9f2453bf6cec1863e40473385f53da029e7f3d47,9f2453bf6cec1863e40473385f53da029e7f3d47,"extract the step size from the uri (#941)

If a step size is not explicitly supplied as part of the
data source, then try to extract it based on the step param
of the uri before falling back to the default of 1m. This
allows `Evaluator.createPublisher` to work with a custom
step size."
brharrington,2018-10-17 00:18:10,https://api.github.com/repos/Netflix/atlas/git/commits/a7a422b72d20847bfff129d946219e17ea4735c1,a7a422b72d20847bfff129d946219e17ea4735c1,"switch to source based on BlockingQueue (#939)

The default `Source.queue` has quite a bit of overhead and
the input must be throttled based on the future to bound the
memory use. `Source.actorRef` has a bit less overhead, but
has the same unbounded memory use if it cannot keep up and
does not provide a reasonable way to throttle the input.

This change uses a custom source stage based on the java
ArrayBlockingQueue. There is significantly less overhead and
the memory usage is bounded even with an offer and forget
usage style."
brharrington,2018-10-13 22:27:53,https://api.github.com/repos/Netflix/atlas/git/commits/d5bd34bd65e33aa71d7d650d6317770762819c4e,d5bd34bd65e33aa71d7d650d6317770762819c4e,"remove SSERenderable classes (#938)

Simplify the messages returned back from the stream api and
use the same model objects for both the server and the client."
brharrington,2018-10-13 21:12:06,https://api.github.com/repos/Netflix/atlas/git/commits/9ae3eaff6238634effa29e172738314f4109e5f5,9ae3eaff6238634effa29e172738314f4109e5f5,"make queue size configurable (#937)

Add `atlas.lwcapi.queue-size` setting for controlling the
max number of items to queue up per stream before dropping."
brharrington,2018-10-12 14:03:24,https://api.github.com/repos/Netflix/atlas/git/commits/94ccdb774c8a38a884baae347aa6ade74fb9d183,94ccdb774c8a38a884baae347aa6ade74fb9d183,"only send LwcSubscription for new subscriptions (#936)

When running for a lot of expressions this can be a
significant number of messages. In most cases the set
of subscriptions do not change that often."
brharrington,2018-10-11 22:30:27,https://api.github.com/repos/Netflix/atlas/git/commits/4843a9e7bfe7fa3342149139e9ad77eff7c473b6,4843a9e7bfe7fa3342149139e9ad77eff7c473b6,"do not request gzip for /stream call (#935)

Current testing indicates the largest chunk of CPU time
server side is in the GZIP compression. The akka directive
doesn't easily allow for configuring it with `BEST_SPEED`
instead of `BEST_COMPRESSION`. Further on the client side,
the largest chunk of allocations is for the decompression.

Overall it seems preferable right now to use more bandwidth
and avoid the compression. Will revisit after web-socket
change and switching to binary encoding for stream."
brharrington,2018-10-11 17:15:21,https://api.github.com/repos/Netflix/atlas/git/commits/74bab0491fba8bc068c4dcba93ff9d5e3bd164f4,74bab0491fba8bc068c4dcba93ff9d5e3bd164f4,"improve early expr validation for eval lib (#934)

Adds sanity checks that the query can be efficiently
indexed with at least one exact match clause. Overly
broad tag keys that would apply to almost all datapoints
can be excluded via the configuration."
brharrington,2018-10-11 15:46:42,https://api.github.com/repos/Netflix/atlas/git/commits/5b2c708ca4de22e13bc2efb9047c5aeaf3258371,5b2c708ca4de22e13bc2efb9047c5aeaf3258371,"common helper for expanding :in clauses (#933)

Makes it easier to reuse some of this logic for static
analysis of queries."
brharrington,2018-10-10 00:30:00,https://api.github.com/repos/Netflix/atlas/git/commits/df7ac1ab1552886f6fcc2999cd3ca59f877ede55,df7ac1ab1552886f6fcc2999cd3ca59f877ede55,"pre-compute data expr map (#932)

Computes the data expr map when the data sources are updated
instead of when doing a lookup for logging. Reduces the
overhead later in the stream if there are a lot of diagnostic
messages."
brharrington,2018-10-09 14:09:56,https://api.github.com/repos/Netflix/atlas/git/commits/13eb6d4350a73b3bfe4e83cc13a7a535fbb0d34b,13eb6d4350a73b3bfe4e83cc13a7a535fbb0d34b,"expand style offset for lwcapi (#931)

Before the style variant of offset would not get expanded
and the expression would appear to work."
brharrington,2018-10-05 00:31:22,https://api.github.com/repos/Netflix/atlas/git/commits/a6f7bd1a7122299128f7407000b86424e0b0d92e,a6f7bd1a7122299128f7407000b86424e0b0d92e,"store step size for TimeGroup (#929)

If it is flushed via a heartbeat instead of data, then it
could be empty and the step size cannot be extracted from
the data."
brharrington,2018-10-04 21:18:00,https://api.github.com/repos/Netflix/atlas/git/commits/28948f22315da83eff45b98ea3a6013dc749d360,28948f22315da83eff45b98ea3a6013dc749d360,"reduce duplication for SSE to chunk part (#928)

In stream api move the mapping from SSERenderable to
a ChunkStreamPart to after the heartbeat source has
been merged with the queue of data coming from the
evaluate api."
brharrington,2018-10-04 18:13:44,https://api.github.com/repos/Netflix/atlas/git/commits/c2393bf801e37e7a5292df6c35f89e65d4950cb8,c2393bf801e37e7a5292df6c35f89e65d4950cb8,"lwc: server to client time notifications (#927)

The eval client for consuming LWC data uses the timestamps
in the messages so it can be used to run on live or captured
data that may have old timestamps. If there is a subscription
to an expression that doesn't match any data, then no messages
will go through and thus the time grouping will not be flushed
for a given interval.

This change allows the server to send heartbeats with the
timestamp and step so it can ensure there will always be at
least one message coming though for a given stream. When
running on previously captured data it will also include the
heartbeat messages and exhibit the same behavior."
brharrington,2018-10-03 21:59:41,https://api.github.com/repos/Netflix/atlas/git/commits/acb2f960022c26b1b9d781fa5df63946a8a953cd,acb2f960022c26b1b9d781fa5df63946a8a953cd,"fix pull for diagnostic messages (#926)

Since the diagnostic message is not being pushed to the
stream it should always pull. Test case has been updated
to catch the problem where before processing would stop
after the first diagnostic message."
brharrington,2018-10-03 18:15:56,https://api.github.com/repos/Netflix/atlas/git/commits/5255c95725853411abdd93a175477a8956a17114,5255c95725853411abdd93a175477a8956a17114,"diagnostic messages from publisher to subscriber (#925)

Adds support for diagnostic messages to be sent to the
evaluate api along with the data values. This can be used
for the publisher to send diagnostic messages that will
be received by a particular subscriber. An example use-case
is to reject an expression due to the amount of load already
on the publisher."
brharrington,2018-09-28 23:41:31,https://api.github.com/repos/Netflix/atlas/git/commits/e794f1765c21d88c70034768b5d9a02a2e43394a,e794f1765c21d88c70034768b5d9a02a2e43394a,"initial websocket support for lwcapi (#924)

Adds a websocket endpoint `/api/v1/subscribe` that can be
used for both updating the set of subscriptions and receiving
the stream of data. This also begins some changes to help
improve consistency with other Atlas APIs, namely the messages
rename `frequency` to `step` and the `/lwc` prefix is removed
from the endpoint path. For now there is an alias so the eval
client will still work with the messages coming from older
lwcapi services running.

This change also use the model objects from the eval client
on the server side for the websocket endpoint to help ensure
better consistency of the messages in the future. The old
endpoints have not been changed to preserve compatibility
during the transition.

Current plan:

1) Deploy updated lwcapi service with the new endpoint. The
   client will continue to work as before.
2) Update the eval client and get internal usages migrated.
3) Cleanup the lwcapi to remove the old subscribe/stream
   endpoints.

This should be the final big change before releasing 1.6."
brharrington,2018-09-28 17:23:38,https://api.github.com/repos/Netflix/atlas/git/commits/280b115db17a184051cab7588be9783dfe1a2fa9,280b115db17a184051cab7588be9783dfe1a2fa9,"add support for @JsonAlias on case class params (#923)

Allows the user to specify a set of aliases to use when
deserializing the case class."
brharrington,2018-09-27 13:49:41,https://api.github.com/repos/Netflix/atlas/git/commits/a0bfbaa38424cedda2a88afded5d550d1540cf22,a0bfbaa38424cedda2a88afded5d550d1540cf22,"update to scala 2.12.7 (#922)

It is supposed to improve compiler performance."
brharrington,2018-09-26 22:15:50,https://api.github.com/repos/Netflix/atlas/git/commits/4a1e9dc113b6c381ef979b1ceca2ce47f1340a48,4a1e9dc113b6c381ef979b1ceca2ce47f1340a48,"avoid unnecessary string allocations (#921)

Refactor stream to avoid decoding into a String as an
intermediate step before parsing the JSON payloads. This
yields about a 16% reduction in bytes allocated per message
for the sample data tested."
zimmermatt,2018-09-26 21:23:37,https://api.github.com/repos/Netflix/atlas/git/commits/2b2e11ee103e2e3e0f09da8828756eb45b071d58,2b2e11ee103e2e3e0f09da8828756eb45b071d58,"Report `NaN` until first datapoint (#920)

Report `NaN` until first datapoint for metric categories with a timeout
configured.

I reordered the tests to more closely follow the actual flow of data
from startup and the progression to no data for a deleted resource.

I've also noted the rationale for interpolating `0` values for gaps in
CloudWatch data."
brharrington,2018-09-25 22:51:14,https://api.github.com/repos/Netflix/atlas/git/commits/e2bc0e98b5dcac827cde13f6e65a918037e88645,e2bc0e98b5dcac827cde13f6e65a918037e88645,"add :delay, :rolling-min, and :rolling-max (#919)

Add operators requested for alerting use-cases:

- `delay`: can be used as an alternative to `:offset` for
  use-cases short offsets that need to run in the streaming
  path. Also it can be applied to any time series instead of
  just data expressions.
- `rolling-min`: track the minimum value seen within a
  window. For data that is mostly smooth, but has some noise
  this can be a useful way to get a reasonable lower bound
  with little tuning required.
- `rolling-max`: similar to `rolling-min` only using the max
  to get an upper bound.

Also refactors DES operators to use a new common base trait
that works for any implementation of OnlineAlgorithm."
brharrington,2018-09-25 17:41:33,https://api.github.com/repos/Netflix/atlas/git/commits/34b0fe66980310a9266c8b5e5fba4e87b0d063fd,34b0fe66980310a9266c8b5e5fba4e87b0d063fd,"add ignore and pipeline helpers for step alignment (#918)

Adds an online algorithm to ignore the first N values. This
can be used with sliding DES to align to a step boundary
before starting the DES computation.

Also adds a pipeline that can be used to chain together a
sequence of online algorithms while conforming to the same
interface."
brharrington,2018-09-25 14:08:18,https://api.github.com/repos/Netflix/atlas/git/commits/a967d09fc9b11fbb21fbe2e1af0dbf580c595ba2,a967d09fc9b11fbb21fbe2e1af0dbf580c595ba2,"fix behavior for aggregating count (#917)

The aggregate datapoint will already have been converted
from a raw value to a base count at the source. So when
it is received here it should behave just like a simple
sum. Before it was converting the datapoint to a 1 or 0
when aggregating as well which can lead to drastically
smaller count than expected if the source has many time
series for the query."
zimmermatt,2018-09-25 01:59:52,https://api.github.com/repos/Netflix/atlas/git/commits/de4d678696b7c91deeda64f0f4738849b4164525,de4d678696b7c91deeda64f0f4738849b4164525,"Minor improvement to `MetricCategory` doc (#916)

Improves the wording of the `timeout` parameter doc vs previous commit:

CloudWatch will return 0 metrics for at least two cases:
- No metrics were recorded.
- The resource has been removed, metrics still show up when listing
  metrics due to the retention window, but the specified time interval
  for the metric statistics request is after the removal."
zimmermatt,2018-09-25 00:08:52,https://api.github.com/repos/Netflix/atlas/git/commits/571595160299281efdb80acbf9f24eee9d68007c,571595160299281efdb80acbf9f24eee9d68007c,"Add optional CloudWatch metric timeout (#915)

This commit adds a mechanism to specify how long the system should
interpolate a base value for unreported CloudWatch metrics before
ceasing to send them.

CloudWatch will return 0 metrics in at least two cases:
  1. No metrics were recorded.
  2. The resource has been removed, but metrics for it still fall within
     the retention window.

I've made this optional and configurable at the metric category level to
tactically address the issue for RDS reported by a user and to minimize
visual clutter in the config. Depending on usage in practice, we may
want to require it to be specified for every category or lift the scope
to make it consistent at the global level."
nathfisher,2018-09-24 20:03:05,https://api.github.com/repos/Netflix/atlas/git/commits/2c56abe4c01f9eca00812fb0941e2e7df6433801,2c56abe4c01f9eca00812fb0941e2e7df6433801,Add note about `$percentile` to percentiles description (#914)
brharrington,2018-09-24 15:23:16,https://api.github.com/repos/Netflix/atlas/git/commits/fd742e5894506736aabf172258d5a4ff0aeeb5e5,fd742e5894506736aabf172258d5a4ff0aeeb5e5,"jackson 2.9.7 (#913)

Addresses some additional CVEs."
brharrington,2018-09-22 22:09:25,https://api.github.com/repos/Netflix/atlas/git/commits/5f472f88affb6a4b3c7c56ba7aa58f39131c451f,5f472f88affb6a4b3c7c56ba7aa58f39131c451f,"add helper to compute a delayed signal (#912)

Delays the values by the window size. This is similar to
the `:offset` operator except that it can be applied to
any input line instead of just changing the time window
fetched with a DataExpr. Short delays can be useful for
alerting to detect changes in slightly shifted trend lines.

This change adds the online algorithm implementation, the
actual StatefulExpr will be done as a follow up."
brharrington,2018-09-22 21:53:22,https://api.github.com/repos/Netflix/atlas/git/commits/c2305855137c99d434099c0168c7c1277e5d9374,c2305855137c99d434099c0168c7c1277e5d9374,"update des and sliding des to use base trait (#911)

Make the DES operations use the base trait adding in #910."
brharrington,2018-09-22 21:03:02,https://api.github.com/repos/Netflix/atlas/git/commits/492cf4e7d4072cc223fced600723f4dbfed58aaf,492cf4e7d4072cc223fced600723f4dbfed58aaf,"add helpers for rolling min/max (#910)

Also sets up a base OnlineAlgorithm trait that can be
used to get better reuse consuming the operations. The
state can be captured as a Config object to make it easy
to save the previous state and restore if needed.

Will refactor DES helpers to use the same pattern in a
follow up PR."
brharrington,2018-09-21 17:29:08,https://api.github.com/repos/Netflix/atlas/git/commits/1cfc0cd50e22c7a56645b574c65a7fff3bcba40d,1cfc0cd50e22c7a56645b574c65a7fff3bcba40d,"maintain grouping by DataExpr (#909)

The TimeGrouped stage needs to group by the DataExpr
to aggregate the values as they arrive. It was then
flattening these out to keep the stage output the
same. Since the only consumer is FinalExprEval and
it needs them grouped by DataExpr, this change
maintains the grouping and passes it along."
brharrington,2018-09-20 17:03:41,https://api.github.com/repos/Netflix/atlas/git/commits/e0da7b227a24bf61d6eeb57a820e3dc4ffe0a493,e0da7b227a24bf61d6eeb57a820e3dc4ffe0a493,"aggregate datapoints while grouping (#908)

This helps reduce the amount of memory required when
evaluating an expression. If a 1k node cluster is
sending data for a single sum expression, then it will
now result in a single value being maintained in the
time grouping stage rather than keeping one per node
until the final evaluation."
zimmermatt,2018-09-19 02:56:28,https://api.github.com/repos/Netflix/atlas/git/commits/22e39ba063532970e6010128da619c4962518a50,22e39ba063532970e6010128da619c4962518a50,"Fix reporting of AWS/NetworkELB ConsumedLCUs (#907)

`ConsumedLCUs` is available only on the `LoadBalancer` dimension, not
`LoadBalancer` and `AvailabilityZone`."
brharrington,2018-09-19 01:51:43,https://api.github.com/repos/Netflix/atlas/git/commits/dbd3e052ec9adc212895750776cae52c6cf56e37,dbd3e052ec9adc212895750776cae52c6cf56e37,"add hook to control startup delay for lwcapi (#906)

This delay is used to keep the service in an unhealthy
state for a specified window. Clients that publish data
use the load balancer and will not start publishing until
it is healthy. The eval library that does the subscriptions
will attemtp to connect once it detects the new instance.
This delay means that subscriptions should be in place
before data starts flowing."
brharrington,2018-09-18 22:31:15,https://api.github.com/repos/Netflix/atlas/git/commits/061e1581822edff014674412487e324144821f7a,061e1581822edff014674412487e324144821f7a,dependency updates (#905)
brharrington,2018-09-18 22:13:58,https://api.github.com/repos/Netflix/atlas/git/commits/4a3c2419197327ba7ccef52f6285e59ae54c2b7c,4a3c2419197327ba7ccef52f6285e59ae54c2b7c,sbt 1.2.3
brharrington,2018-09-18 22:13:19,https://api.github.com/repos/Netflix/atlas/git/commits/c9194bcdc90c63f1b62c86ea283d10c258cad419,c9194bcdc90c63f1b62c86ea283d10c258cad419,"add support for configurable diagnostic headers (#904)

This can be used to add headers such as `Netflix-ASG`
or `Netflix-Zone` that are used by common IPC to provide
additional context."
brharrington,2018-09-18 21:56:14,https://api.github.com/repos/Netflix/atlas/git/commits/5b3b3870633bfc4cf84110c5443dc9258974fb9d,5b3b3870633bfc4cf84110c5443dc9258974fb9d,roaringbitmap 0.7.17
brharrington,2018-09-18 21:55:17,https://api.github.com/repos/Netflix/atlas/git/commits/85bbd4d8215aa4617a8d19c2ea8dcb8180e13b1f,85bbd4d8215aa4617a8d19c2ea8dcb8180e13b1f,equalsverifier 2.5.2
brharrington,2018-09-18 21:42:49,https://api.github.com/repos/Netflix/atlas/git/commits/ca645256758c2358249bdb4305b8ad3c269d427f,ca645256758c2358249bdb4305b8ad3c269d427f,akka 2.5.16
brharrington,2018-09-18 21:41:55,https://api.github.com/repos/Netflix/atlas/git/commits/11380390001aaa0c2522a760ce2cf56678a1cb8e,11380390001aaa0c2522a760ce2cf56678a1cb8e,aws-java-sdk 1.11.409
brharrington,2018-09-15 23:39:09,https://api.github.com/repos/Netflix/atlas/git/commits/23f143552eb40ca2f76bd7e851474e57e981b8f7,23f143552eb40ca2f76bd7e851474e57e981b8f7,"add directives for setting Netflix-Endpoint header (#903)

To improve the quality of metrics it is useful to be able
to see what path is being used. However, it shouldn't match
the full path that might have ids or other elements that
would make the cardinality explode. This change adds path
directives that will capture specified static portions and
map those to the `Netflix-Endpoint` header.

Note, when nested with other usages of the standard path
directives it will capture extracted portions from those
directives and include it in the header. While not ideal,
it isn't a common case and since the IPC logger has limiting
it will mostly impact the user with the broad matching."
brharrington,2018-09-15 18:08:13,https://api.github.com/repos/Netflix/atlas/git/commits/54251dfa6b78df979cf3b81de0c0126b5894f584,54251dfa6b78df979cf3b81de0c0126b5894f584,"switch to spectator-ext-ipc for request metrics (#902)

Makes Atlas consistent with other Netflix apps following
the common-ipc pattern internally."
zimmermatt,2018-09-14 22:49:33,https://api.github.com/repos/Netflix/atlas/git/commits/5bd386b09320ae5b09bff4f9257390ba2ea96ff8,5bd386b09320ae5b09bff4f9257390ba2ea96ff8,"conditionally apply an alias per pattern (#901)

CloudWatch uses the `LoadBalancer` dimension for both application and
network load balancers. This commit adds the ability to set an alias per
extractor pattern, enabling us to set it to `aws.alb` or `aws.nlb` as
appropriate depending on the context."
zimmermatt,2018-09-14 01:15:36,https://api.github.com/repos/Netflix/atlas/git/commits/cf59b01e628267c6a6738a4eaaa294cee6fe3132,cf59b01e628267c6a6738a4eaaa294cee6fe3132,"fix `LoadBalancer` extractor pattern (#900)

Configure the app|net matching as a non-capturing group, so the correct
portion is extracted.

As I was thinking about the addition of NLB metrics, I realized the
previous commits don't handle conditional mapping of `LoadBalancer`
which will need to set `aws.alb` or `aws.nlb` depending on the context.
In the course of writing a passing case for `aws.alb` and a failing one
for `aws.nlb`, this bug was uncovered. I'll fix the ALB vs NLB handling
in a separate commit."
zimmermatt,2018-09-13 02:39:49,https://api.github.com/repos/Netflix/atlas/git/commits/46088542b9cdf5b2d1d439ba8b2811712316bb28,46088542b9cdf5b2d1d439ba8b2811712316bb28,Add mappings for CloudWatch NetworkELB metrics (#899)
zimmermatt,2018-09-12 02:05:49,https://api.github.com/repos/Netflix/atlas/git/commits/cf26534e6f22c99fb815c9f1a07b3ac45f289066,cf26534e6f22c99fb815c9f1a07b3ac45f289066,"add mappings for alb auth stats (#898)

This commit adds mappings for ApplicationELB authorization metrics
across two aliases.
* ELBAuthError, ELBAuthFailure, and ELBAuthSuccess are aliased to
  `aws.alb.authRequest` as a counter with a `result` tag with values of
  `error`, `failure`, and `success`.
* ELBAuthLatency is aliased to `aws.alb.authLatency` as a timer."
brharrington,2018-09-11 05:10:34,https://api.github.com/repos/Netflix/atlas/git/commits/7d26ab0d001f0c1b6c6f6a76963fd2bc10d9ce7a,7d26ab0d001f0c1b6c6f6a76963fd2bc10d9ce7a,"make subscribe logs consistent with register (#897)

Only log on changes to reduce noise and follow the same
behavior as register/unregister."
zimmermatt,2018-09-11 00:51:39,https://api.github.com/repos/Netflix/atlas/git/commits/eaa64161a99d9c608a9c85ccc0a1d517129be5ba,eaa64161a99d9c608a9c85ccc0a1d517129be5ba," extract the name from the load balancer dimension (#896)

extract the name from the load balancer dimension

The `LoadBalancer` dimension is specified as the final portion of the
load balancer ARN. For example:
  `app/load-balancer-name/1234567890123456`"
zimmermatt,2018-09-10 19:43:00,https://api.github.com/repos/Netflix/atlas/git/commits/246a1c6f4ce368a2bd169fb888890e76a7e0a949,246a1c6f4ce368a2bd169fb888890e76a7e0a949,"extract the name portion of the target group dimension (#895)

* extract the name portion of the target group dimension

Some dimension values are decorated with information that reduces
readability without providing value (e.g., ALBs and NLBs). This commit
introduces a new `extractors` configuration within the `tagger` that
enables specifying a regex to capture the relevant portion of the name."
brharrington,2018-09-06 03:46:34,https://api.github.com/repos/Netflix/atlas/git/commits/ab4251e17a2a02f2d5fe9c7ee83ebcde132c354c,ab4251e17a2a02f2d5fe9c7ee83ebcde132c354c,"akka-http 10.1.5 (#894)

Adds settings to avoid DoS due to excessive memory usage:
https://akka.io/blog/news/2018/08/30/akka-http-dos-vulnerability-found"
brharrington,2018-09-05 22:35:39,https://api.github.com/repos/Netflix/atlas/git/commits/5d06122f8b3a87b401278939aa06eb5284497150,5d06122f8b3a87b401278939aa06eb5284497150,"ensure subs are maintained for re-register check (#893)

Helps to reduce the amount of churn we see for changes
when looking at the logs."
brharrington,2018-09-05 14:22:12,https://api.github.com/repos/Netflix/atlas/git/commits/71b07deeba22468eb94921d2db5b5cdbb375c993,71b07deeba22468eb94921d2db5b5cdbb375c993,"remove support for post to StreamApi (#892)

Simplify the stream api and reduce duplication with subscribe.
The only use right now is the basic get with subscriptions
managed via the subscribe api. The plan is to switch to a
websocket via subscribe that will accept subscription updates
and send back the stream of results. For now just cleaning
up some unused aspects of the current setup."
brharrington,2018-09-05 14:06:52,https://api.github.com/repos/Netflix/atlas/git/commits/4b36ba45a5e8939d0948b3884a6ce1eafb947291,4b36ba45a5e8939d0948b3884a6ce1eafb947291,"re-register handler if needed on heartbeat (#891)

There is a race condition on reconnects where the new
connection can come in before the stream for the old
connection is closed. The cleanup for the old connection
will then unregister the stream id. This is a short-term
work around to ensure running streams have a registered
handler and track the number of events that we see."
brharrington,2018-09-05 03:32:08,https://api.github.com/repos/Netflix/atlas/git/commits/5b287e6473708c1b775462c8fb489e3af83f20ab,5b287e6473708c1b775462c8fb489e3af83f20ab,"fix subscribe for streams with multiple subs (#890)

Before the short circuit behavior meant that only the first
new handler would get added."
brharrington,2018-09-04 23:45:54,https://api.github.com/repos/Netflix/atlas/git/commits/862d6b5a2837184787b025f77d8056f8b1299a11,862d6b5a2837184787b025f77d8056f8b1299a11,"add Json.decode that takes a JsonNode object (#889)

Can be useful for cases where there is a need to do some
basic structural inspection before mapping into an internal
value type."
brharrington,2018-09-04 23:38:27,https://api.github.com/repos/Netflix/atlas/git/commits/9ef38cb7365ef59f743e915320094b8b752649d6,9ef38cb7365ef59f743e915320094b8b752649d6,"add test cases for Grapher.render (#888)

Trying to reproduce issue reported where multi-Y does not
work properly and the legend is repeated when using the
render method instead of evalAndRender. In these test cases
the rendering works as expected."
janstenpickle,2018-09-04 01:23:39,https://api.github.com/repos/Netflix/atlas/git/commits/c8235c781c2901c5fdef8b024d6dba6008ee4306,c8235c781c2901c5fdef8b024d6dba6008ee4306,"Value based rule constructors (#887)

Allow rules to be constructed from values as well
from Typesafe Config. This allows rules to be
constructed by other means such as configuration
stored in a database, while maintaining the
original reflection based instantiation.

- Add test rule to validate that constructor
  based method of instantiating rules still works
- Add test rule to validate that Java rules can
  be used with reflection instantiation"
brharrington,2018-08-31 16:20:54,https://api.github.com/repos/Netflix/atlas/git/commits/c3a3a986ea5b3f88ae16bbb958bb078f689626c1,c3a3a986ea5b3f88ae16bbb958bb078f689626c1,"make tags parsing more lenient for publish api (#885)

If an empty tag value was submitted it would cause the
entire payload to get rejected. With this change it will
go through and can then be caught by the validation checks
so that only the bad datapoints will get dropped."
brharrington,2018-08-29 01:14:25,https://api.github.com/repos/Netflix/atlas/git/commits/ac8224a25066aa8b283fae7becad926be80cb934,ac8224a25066aa8b283fae7becad926be80cb934,"support multiple step sizes in eval library (#884)

Updates the stream so that multiple data sources with
different step sizes can be processed.

JDK10 build has been disabled because Travis is getting
failures trying to download it. Will look at reenabling that
once the download issues are resolved."
brharrington,2018-08-27 15:43:23,https://api.github.com/repos/Netflix/atlas/git/commits/c7f2fa365e53ead59c9ca62929f4bc276ed2bccf,c7f2fa365e53ead59c9ca62929f4bc276ed2bccf,"only log the actual changes to the handlers (#883)

Checks whether a change to the handlers was actually made
before logging. Makes it easier to understand what the real
changes were instead of all streams in the batch."
brharrington,2018-08-24 23:49:56,https://api.github.com/repos/Netflix/atlas/git/commits/0b03708134372079f65fdd9acf0703c7661a529b,0b03708134372079f65fdd9acf0703c7661a529b,"fix shutdown for ActorSystem (#882)

It was being shutdown by ActorService and WebServer. Also
since it could be used by other classes that do not inject
those, the ActorSystem could be shutdown in the wrong order.
This change moves it to a dedicated provider so it will be
shutdown in the correct order."
brharrington,2018-08-24 14:14:14,https://api.github.com/repos/Netflix/atlas/git/commits/7e9354f92d317d77d63c877929e94774a64c6830,7e9354f92d317d77d63c877929e94774a64c6830,"remove ServoMessage classes (#881)

This was used for a while so eval could be used with
the old Servo source that was part of the internal
base server admin."
brharrington,2018-08-24 13:55:11,https://api.github.com/repos/Netflix/atlas/git/commits/e67f7151b158cdec1c047757ceca7cb562b4cb67,e67f7151b158cdec1c047757ceca7cb562b4cb67,"use dist summary for eval payload size (#880)

Track this using a distribution summary so it is easier
to compute the average and we can see the max number of
items coming in a request."
brharrington,2018-08-24 05:06:43,https://api.github.com/repos/Netflix/atlas/git/commits/e6d1dfb529a6321a930bd73a9d8f1b67a21383e6,e6d1dfb529a6321a930bd73a9d8f1b67a21383e6,"unregister when stream terminates (#879)

Ensure that the subscription is removed when the client
goes away."
brharrington,2018-08-23 04:00:09,https://api.github.com/repos/Netflix/atlas/git/commits/7ac12e74c2079d80ac076f0006bd0ff464ad64a9,7ac12e74c2079d80ac076f0006bd0ff464ad64a9,"support substituting summary stats in legend text (#878)

Fixes #877. To avoid clashing with tags on metrics the stats
are available as variables in the `atlas.` namespace."
brharrington,2018-08-19 00:53:31,https://api.github.com/repos/Netflix/atlas/git/commits/51bebbd6d1159d37d3a80940e8f9957162cdac1e,51bebbd6d1159d37d3a80940e8f9957162cdac1e,"additional logging for SubscriptionManager (#876)

Adds some debug logging for all of the modification
operations on the subscription manager. Also enables
trace logging for the messages going to each stream."
brharrington,2018-08-19 00:04:05,https://api.github.com/repos/Netflix/atlas/git/commits/7e920ce230c45b09f3273cb6a81ba9faaed990b4,7e920ce230c45b09f3273cb6a81ba9faaed990b4,"add heartbeat messages back to StreamApi (#875)

The old mechanism of pushing the stats messages was lost
inadvertantly as part of #871. Changed to a simple heartbeat
message since the stats are now checked as part of the queue
for the stream."
brharrington,2018-08-18 21:11:28,https://api.github.com/repos/Netflix/atlas/git/commits/613ed168721fb40968748f04f93509bba295d08f,613ed168721fb40968748f04f93509bba295d08f,"fix deprecation warnings for DataSource ctor (#874)

In #865, a new DataSource constructor was added to allow
the frequency to be specified and the previous constructor
was deprecated. The deprecated constructor was being used
in some of the test cases causing a lot of warnings."
brharrington,2018-08-18 21:05:48,https://api.github.com/repos/Netflix/atlas/git/commits/d847ad90780a3414245ba5ccd717b2b1a5f39788,d847ad90780a3414245ba5ccd717b2b1a5f39788,"add monitoring to response stream for lwcapi (#873)

Allows us to see if elements are being dropped when added
to the queue and track the delays on the SSE stream to the
client."
brharrington,2018-08-18 20:37:57,https://api.github.com/repos/Netflix/atlas/git/commits/264215ab755bbaa5cb6f9f93dcea234f34f9fb98,264215ab755bbaa5cb6f9f93dcea234f34f9fb98," improve monitoring of eval flow (#872)

Adds a StreamOps helper class with utilities to monitor
source queue behavior and delays at a particular stage
in a flow. The flow monitoring can be used to understand
whether the producer or consumer is faster and where we
are getting backpressure delays."
brharrington,2018-08-17 16:55:40,https://api.github.com/repos/Netflix/atlas/git/commits/b22748e0a5f3114a69ebb1ffd84695c067359cb1,b22748e0a5f3114a69ebb1ffd84695c067359cb1,"remove use of actor publisher for StreamApi (#871)

Cleans up the deprecation warning and simplifies the code
quite a bit."
brharrington,2018-08-16 22:28:04,https://api.github.com/repos/Netflix/atlas/git/commits/c606835c4df04b5ddf58ef29125dec4e9103a89a,c606835c4df04b5ddf58ef29125dec4e9103a89a,dependency updates (#870)
brharrington,2018-08-16 21:54:32,https://api.github.com/repos/Netflix/atlas/git/commits/e18e26b77836de6e016f460d3bed7329f60a0e2a,e18e26b77836de6e016f460d3bed7329f60a0e2a,RoaringBitmap 0.7.16
brharrington,2018-08-16 21:27:23,https://api.github.com/repos/Netflix/atlas/git/commits/6a2947eb0d3b5d619681ca39a28c2354f53006b9,6a2947eb0d3b5d619681ca39a28c2354f53006b9,sbt-release 1.0.9
brharrington,2018-08-16 21:23:10,https://api.github.com/repos/Netflix/atlas/git/commits/0eb9d635dd5732cb7af3216e48ed4646725035e7,0eb9d635dd5732cb7af3216e48ed4646725035e7,sbt-git 1.0.0
brharrington,2018-08-16 20:48:03,https://api.github.com/repos/Netflix/atlas/git/commits/244a596020c6a29c1cffb2637161d4690b3500d0,244a596020c6a29c1cffb2637161d4690b3500d0,sbt 1.2.1
brharrington,2018-08-16 20:42:24,https://api.github.com/repos/Netflix/atlas/git/commits/3267e1bdf8ef954c650fc8c00e094b881bf34ae9,3267e1bdf8ef954c650fc8c00e094b881bf34ae9,aws-java-sdk 1.11.387
brharrington,2018-08-16 20:39:49,https://api.github.com/repos/Netflix/atlas/git/commits/9308c0ace9ee93be133c289ea47a96b63af438af,9308c0ace9ee93be133c289ea47a96b63af438af,equalsverifier 2.5.1
brharrington,2018-08-16 20:34:57,https://api.github.com/repos/Netflix/atlas/git/commits/0b9b4d45fee0c7a4fea7e7db35d503290e145794,0b9b4d45fee0c7a4fea7e7db35d503290e145794,log4j 2.11.1
brharrington,2018-08-16 20:29:08,https://api.github.com/repos/Netflix/atlas/git/commits/dcdc490b3f9562f9665fd3b8852e03847786e7f5,dcdc490b3f9562f9665fd3b8852e03847786e7f5,iep 1.2.6
brharrington,2018-08-16 20:21:34,https://api.github.com/repos/Netflix/atlas/git/commits/5e21cef804c97d72245c9895d06f4ebb2314991a,5e21cef804c97d72245c9895d06f4ebb2314991a,spectator 0.74.2
brharrington,2018-08-08 22:00:01,https://api.github.com/repos/Netflix/atlas/git/commits/cbd6730f6b0f22a20a31bb75c4ca3c4975332d4b,cbd6730f6b0f22a20a31bb75c4ca3c4975332d4b,"fix serialization issues with StringMatcher (#869)

When running on Spark it needs to be able to serialize
the matchers if regex is used in an expression."
zimmermatt,2018-08-03 21:41:35,https://api.github.com/repos/Netflix/atlas/git/commits/faac3f6b3bb024094c16976c004df71077ea0a93,faac3f6b3bb024094c16976c004df71077ea0a93,"add step parameter to `DataSource` (#865)

As part of enabling high resolution metrics for the streaming path, this
commit adds a step parameter to `DataSource`. This is then used to
configure the step in the metrics subscription.

I tested this by running an lwcapi server locally and observing that the
step listed in the response from `/api/v1/expressions` matched the
overridden value.

Note that this is an incremental step. For this to fully function, the
step needs to be introduced into the `Flow` that groups and
evaluates the datapoints. This will be done in a follow up commit."
brharrington,2018-08-03 14:47:04,https://api.github.com/repos/Netflix/atlas/git/commits/a4c6b476ad06a697bae9a65b921d9efee29b8ca0,a4c6b476ad06a697bae9a65b921d9efee29b8ca0,"add jackson modules for jdk8 datatypes (#867)

This is mainly for use-cases where the `java.time` types
are used."
brharrington,2018-08-03 03:12:24,https://api.github.com/repos/Netflix/atlas/git/commits/8a609c303e7bead5290f9dfcb01931c25257d913,8a609c303e7bead5290f9dfcb01931c25257d913,"add test cases for Evaluator model objects (#866)

Verify the equals/hashCode contracts are satisfied. Also
check that DataSource and DataSources can be encoded and
decoded from JSON correctly. Needed to consume for replay
logging."
brharrington,2018-08-02 16:18:35,https://api.github.com/repos/Netflix/atlas/git/commits/a874acb76f08cfd5b9068a609785ec888f35ffc1,a874acb76f08cfd5b9068a609785ec888f35ffc1,"normalize variable style for legends (#864)

The normalize endpoint will now ensure that variable in
the legend pattern consistently used parenthesis.

Fixes #863."
brharrington,2018-07-26 03:29:03,https://api.github.com/repos/Netflix/atlas/git/commits/3ea3397621b1ec375b0f1bcf2ec24e054ddd0ac0,3ea3397621b1ec375b0f1bcf2ec24e054ddd0ac0,"fix compiler warnings (#861)

Fixes two compiler warnings:

```
Warning:(84, 35) private default argument in object
StringMatcher is never used
  private def default(re: String, caseSensitive: Boolean = true): StringMatcher = {

Warning:(306, 9) java: throttle(int,scala.concurrent.duration.FiniteDuration,int,akka.stream.ThrottleMode)
in akka.stream.javadsl.Source has been deprecated
```"
brharrington,2018-07-26 03:15:08,https://api.github.com/repos/Netflix/atlas/git/commits/8da814dfd4080f80a90487c2bf0b4d8bdd8822ae,8da814dfd4080f80a90487c2bf0b4d8bdd8822ae,"make random operator deterministic (#860)

The `:random` operator is mostly used for generating sample
data that has some noise. However, in its current form the
values will change every time it runs. When experimenting with
expressions this makes it hard to reason about because the
input is always changing.

Now it will be based on a hash of the timestamp so it is
reproducible. There is also now a seeded variant, `:srandom`
that can be used if multiple sample lines are needed with
different noise.

Fixes #847."
brharrington,2018-07-25 15:02:38,https://api.github.com/repos/Netflix/atlas/git/commits/741ae0bd2a54a5c87961d898a686ccff7c908602,741ae0bd2a54a5c87961d898a686ccff7c908602,"add timeRange helper function (#859)

There are a number of internal libs that have this same
logic of computing a time range based on parsed start and
end times that can be relative to each other. Move to a
helper function of Strings so it is easier to reuse."
brharrington,2018-07-24 18:18:11,https://api.github.com/repos/Netflix/atlas/git/commits/28a40ceb72a4f7a3c0a1123a3f34ccae201e51b7,28a40ceb72a4f7a3c0a1123a3f34ccae201e51b7,"short circuit pattern matching with prefix check (#858)

In the streaming execution, up to 25% of the CPU usage is
checking regular expressions. This change improves the
chances that checks will be able to quickly fail without
needing regex by always checking the fixed prefix when
known in the matches function. This wasn't done before
because when evaluating with the index we already know
the prefix matches before checking."
brharrington,2018-07-21 00:01:13,https://api.github.com/repos/Netflix/atlas/git/commits/29caae5cb90e6a035207c5c53379a51877bd3f1d,29caae5cb90e6a035207c5c53379a51877bd3f1d,"additional logging for rejected datapoints (#857)

Occasionally it is useful to sample this if the client
is ignoring the response."
brharrington,2018-07-20 19:18:30,https://api.github.com/repos/Netflix/atlas/git/commits/9597683127845d339baddebed32b47252c44d2e1,9597683127845d339baddebed32b47252c44d2e1,"remove deprecated usage of Class.newInstance (#856)

Fixes #834."
brharrington,2018-07-20 18:27:56,https://api.github.com/repos/Netflix/atlas/git/commits/2f3dc4410e01145b09de098e28fc4bd2d2052597,2f3dc4410e01145b09de098e28fc4bd2d2052597,"add trace logging for input events (#855)

This will make it easier to capture raw data coming from
the server as well as the set of data sources that were
being run on the evaluator."
brharrington,2018-07-18 17:42:28,https://api.github.com/repos/Netflix/atlas/git/commits/32127982b9fe29302b21692a1c6d15dcfe0b20b3,32127982b9fe29302b21692a1c6d15dcfe0b20b3,"fix hash code for LongIntHashMap (#854)

Before it was computing the murmur3 hash and then ignoring
the result and using `Long.hashCode`. This change moves
the computation of the murmur3 hash to a helper function
and now LongIntHashMap uses that value."
brharrington,2018-07-18 14:27:38,https://api.github.com/repos/Netflix/atlas/git/commits/18f83523dec04676975fb858be4adaa48d55fe62,18f83523dec04676975fb858be4adaa48d55fe62,update dependencies (#853)
brharrington,2018-07-18 14:07:19,https://api.github.com/repos/Netflix/atlas/git/commits/96cd84f0d91b4ca49bb9ee2edeef940fcf72e530,96cd84f0d91b4ca49bb9ee2edeef940fcf72e530,roaring bitmap 0.7.14
brharrington,2018-07-18 14:02:20,https://api.github.com/repos/Netflix/atlas/git/commits/30a99969f492fdc9020531d467af0b6a7ee85efb,30a99969f492fdc9020531d467af0b6a7ee85efb,equalsverifier 2.4.8
brharrington,2018-07-18 14:00:28,https://api.github.com/repos/Netflix/atlas/git/commits/cb0ca9409629b3f998597aa1dbd20f55b9286e1f,cb0ca9409629b3f998597aa1dbd20f55b9286e1f,iep 1.2.5
brharrington,2018-07-18 13:51:02,https://api.github.com/repos/Netflix/atlas/git/commits/2ae8f66afd33f44baf35eb01f47e893a896eba1b,2ae8f66afd33f44baf35eb01f47e893a896eba1b,aws-java-sdk 1.11.356
brharrington,2018-07-18 13:44:45,https://api.github.com/repos/Netflix/atlas/git/commits/449e05c0fbba6b49baf30caaf579c65c7b525daa,449e05c0fbba6b49baf30caaf579c65c7b525daa,joda-convert 2.1.1
brharrington,2018-07-18 13:43:42,https://api.github.com/repos/Netflix/atlas/git/commits/9a27ff99601ca265349450634c0943142b505324,9a27ff99601ca265349450634c0943142b505324,spectator 0.72.0
brharrington,2018-07-18 13:40:02,https://api.github.com/repos/Netflix/atlas/git/commits/da894a10edf28e409518276602019d6ceebae5d7,da894a10edf28e409518276602019d6ceebae5d7,"akka 2.5.14

Adds support for async DNS resolver."
brharrington,2018-07-11 15:49:28,https://api.github.com/repos/Netflix/atlas/git/commits/f76ba2d42fe33a3ec784669fff6bc09a2b97082a,f76ba2d42fe33a3ec784669fff6bc09a2b97082a,"handle monotonic values with multiple samples (#851)

For cloudwatch if a monotonic value gets multiple samples
within an interval it will cause a spike when looking at
the sum. Use the max to see the largest sample within a
given interval. Example metrics with this issue are the HSM
network stats (InterfaceEth2OctetsInput).

https://docs.aws.amazon.com/cloudhsm/latest/userguide/hsm-metrics-cw.html"
davecromberge,2018-07-11 02:33:16,https://api.github.com/repos/Netflix/atlas/git/commits/49a05f29dd0829c277bf3545f58450103ebfff03,49a05f29dd0829c277bf3545f58450103ebfff03,"record the total number of unique metrics as gauge (#850)

The index stats now have provision for additional gauges that concern the
index as a whole, not only key statistics.  The first of such metrics is
the total number of unique items, or metrics, that up to now has not been
recorded."
brharrington,2018-07-10 05:21:50,https://api.github.com/repos/Netflix/atlas/git/commits/c393edbd418fe12d2e3d3f4bee0b1fc250d5786f,c393edbd418fe12d2e3d3f4bee0b1fc250d5786f,"config setting for window of time grouping (#849)

Adds a config setting that can be used to set the number
of buffers that will be maintained when grouping the
datapoints into time buckets. The default is 1 which will
flush the data as soon as data arrives for the next time
frame. More buffers allows more time for data to accumulate,
but means that it will take longer to emit data for a given
time."
copperlight,2018-06-29 21:47:27,https://api.github.com/repos/Netflix/atlas/git/commits/f70280954541213582598e648bd00267dffd7ec5,f70280954541213582598e648bd00267dffd7ec5,"add cloudwatch rds FreeStorageSpace metric (#846)

Fixes #845."
brharrington,2018-06-22 23:19:15,https://api.github.com/repos/Netflix/atlas/git/commits/3287576e82db742e6a8f73ef3542416f6899bd54,3287576e82db742e6a8f73ef3542416f6899bd54,"fix name for AuroraBinlogReplicaLag (#844)

AWS is inconsistent in the casing for BinLog between the
disk usage and replica lag metrics."
brharrington,2018-06-22 22:57:57,https://api.github.com/repos/Netflix/atlas/git/commits/bac8e64abfbfb1cc2b8f309f4f5ac07a3c530051,bac8e64abfbfb1cc2b8f309f4f5ac07a3c530051,"add mapping for RDS replica lag (#843)

The value is the number of seconds of lag."
brharrington,2018-06-21 20:53:39,https://api.github.com/repos/Netflix/atlas/git/commits/5c3617a12d943af69a24ce6857fb2a8032d354c0,5c3617a12d943af69a24ce6857fb2a8032d354c0,"add test case for `^*` behavior with matcher (#842)

There was some inconsistency between the UI validation
which uses the javascript regex library and the backend.
Originally we suspected this was a bug and it was getting
mapped to an IndexOf query, but that is not the case. The
java regex engine has a slightly different interpretation."
brharrington,2018-06-18 17:05:04,https://api.github.com/repos/Netflix/atlas/git/commits/95ffab785f1071dbe8c3fa3d97527b636a120545,95ffab785f1071dbe8c3fa3d97527b636a120545,dependency updates (#840)
brharrington,2018-06-18 16:48:17,https://api.github.com/repos/Netflix/atlas/git/commits/2adacddb852ae2dc2c9418dc2307940998103f8a,2adacddb852ae2dc2c9418dc2307940998103f8a,"spectator 0.70.2

Minor change needed for test case because spectator
will no longer force gauge updates inline. For more
information see Netflix/spectator#562."
brharrington,2018-06-18 16:39:27,https://api.github.com/repos/Netflix/atlas/git/commits/5f9669272b6fda9f5dfb677b79a973d777dc9d57,5f9669272b6fda9f5dfb677b79a973d777dc9d57,aws-java-sdk 1.11.339
brharrington,2018-06-18 16:14:07,https://api.github.com/repos/Netflix/atlas/git/commits/0b16cb7d48e9d14b6889b71047b48262b4f4e12e,0b16cb7d48e9d14b6889b71047b48262b4f4e12e,akka-http 10.1.3
brharrington,2018-06-18 15:54:01,https://api.github.com/repos/Netflix/atlas/git/commits/c9f8000213f34b3836aac926e479957a432b79f2,c9f8000213f34b3836aac926e479957a432b79f2,akka 2.5.13
brharrington,2018-06-18 15:52:25,https://api.github.com/repos/Netflix/atlas/git/commits/3fd4cb7aff2564abb211f789bfdc990ae9f8c6f6,3fd4cb7aff2564abb211f789bfdc990ae9f8c6f6,"jackson 2.9.6

Has some additional gadget security fixes."
brharrington,2018-06-11 16:02:15,https://api.github.com/repos/Netflix/atlas/git/commits/a3a4ad105cf62d4691e32d825807a47bd9bb356f,a3a4ad105cf62d4691e32d825807a47bd9bb356f,"move metered queue config out of reference.conf (#839)

Makes it easier for us to do comparison performance tests
with other implementations. It can be included with the
application config when needed."
brharrington,2018-06-02 03:12:06,https://api.github.com/repos/Netflix/atlas/git/commits/5799522a2f7bdf244c5976a5d17e5b0d1270b568,5799522a2f7bdf244c5976a5d17e5b0d1270b568,"remove useless call (#836)

The return value is never checked."
brharrington,2018-06-02 03:10:48,https://api.github.com/repos/Netflix/atlas/git/commits/8de4f090a3537bd0b8e72f40ad7837deacc06b2f,8de4f090a3537bd0b8e72f40ad7837deacc06b2f,"do not show lines below lower bound with log scale (#835)

Fixes #832. Before values below the lower bound would get
mapped to a 0 and look like a line along the lower bound.
If it is below the bound, then it should not show."
brharrington,2018-06-01 22:53:26,https://api.github.com/repos/Netflix/atlas/git/commits/000eac088c48c5c569bdbac8875b6590936c8f3a,000eac088c48c5c569bdbac8875b6590936c8f3a,"update travis to build on jdk10 (#833)

Dropping jdk9 as there is no reason to use it over
jdk10 at this point.

One test case needed to be fixed because there
is now a `java.version.date` system property and
it was accessing `java.version` expecting a string
instead of an object.

The tests fail on OpenJDK because of font diffs.
For more information see:

http://mail.openjdk.java.net/pipermail/discuss/2017-November/004621.html

Equals verifier is not yet compatible with jdk11
bytecode. Also some image diffs are present when
using the early access OracleJDK 11. So for now
The build will only run on OracleJDK 10."
brharrington,2018-05-31 22:48:44,https://api.github.com/repos/Netflix/atlas/git/commits/2a75a487d84b361b1c0cce4a24bdd4b110d7e139,2a75a487d84b361b1c0cce4a24bdd4b110d7e139,"fix state isolation for streaming execution (#831)

If an expression has multiple equivalent stateful
sub-expressions, then the they would store the state
to the same place since the key is the stateful expr
instance. This changes the map used to look at the
identity when performing the state lookup, so separate
instances will have isolated state.

We'll probably need to refactor this more thoroughly
long term and either memoize equivalent sub-expressions
during the evaluation or lookup based on position."
brharrington,2018-05-30 20:01:23,https://api.github.com/repos/Netflix/atlas/git/commits/63e338b0cdebad86837d5b14c82c4daa0026787a,63e338b0cdebad86837d5b14c82c4daa0026787a,"honor legend flag for v2.json format image (#830)

See #564 and #568 for more context. The included image would
suppress the image. For some use-cases it is desirable to
include it. The previous output can still be achieved by
explicitly using `no_legend=1`.

Main use-case right now is an explode view that shows the
images, but has some dynamic filtering for outliers or missing
data. This avoids the need to make multiple requests for the
same data if the user requests to see the legends."
brharrington,2018-05-23 03:33:30,https://api.github.com/repos/Netflix/atlas/git/commits/5984c7b92fe48b51361cc9e9ed794ffec72a20ef,5984c7b92fe48b51361cc9e9ed794ffec72a20ef,dependency updates (#829)
brharrington,2018-05-23 03:21:57,https://api.github.com/repos/Netflix/atlas/git/commits/1a4fa0629c9e3f28577db8c74de2af6d98eaca58,1a4fa0629c9e3f28577db8c74de2af6d98eaca58,sbt 1.1.5
brharrington,2018-05-23 03:11:18,https://api.github.com/repos/Netflix/atlas/git/commits/a9b9f5d690c037d8f5ef389d0044895eef90ba3a,a9b9f5d690c037d8f5ef389d0044895eef90ba3a,sbt-jmh 0.3.4
brharrington,2018-05-22 23:46:56,https://api.github.com/repos/Netflix/atlas/git/commits/85b98f418308e97bed620cb62c0bf4a770c801dc,85b98f418308e97bed620cb62c0bf4a770c801dc,akka 2.5.12
brharrington,2018-05-22 23:46:28,https://api.github.com/repos/Netflix/atlas/git/commits/f7c436b070cda34cbf7bf5f3d4beaa104d7ad07a,f7c436b070cda34cbf7bf5f3d4beaa104d7ad07a,RoaringBitmap 0.7.10
brharrington,2018-05-22 23:40:50,https://api.github.com/repos/Netflix/atlas/git/commits/eb2863e7a3c16ea11d3fd309391ce6686c531aa7,eb2863e7a3c16ea11d3fd309391ce6686c531aa7,equalsverifier 2.4.6
brharrington,2018-05-22 23:35:25,https://api.github.com/repos/Netflix/atlas/git/commits/75534c7e56af9bcf8bd827a879f37ffa03f8c35e,75534c7e56af9bcf8bd827a879f37ffa03f8c35e,scala-logging 3.9.0
brharrington,2018-05-22 23:12:08,https://api.github.com/repos/Netflix/atlas/git/commits/3fc160192bc3532bce39defb805d731c84e6c899,3fc160192bc3532bce39defb805d731c84e6c899,spectator 0.68.0 and iep 1.2.3
brharrington,2018-05-22 23:10:14,https://api.github.com/repos/Netflix/atlas/git/commits/31b329db3bd979708641cf2c91048ded817acfd4,31b329db3bd979708641cf2c91048ded817acfd4,scalafmt 1.5.1
brharrington,2018-05-16 00:02:31,https://api.github.com/repos/Netflix/atlas/git/commits/16ed668ec0699d483e071c9ff588529b746acafe,16ed668ec0699d483e071c9ff588529b746acafe,"set dstype for polled cloudwatch metrics (#827)

It was not set before so all would get treated as rate.
This led to some confusion for some of the S3 metrics
where it appeared there was a massive drop in the amount
of data stored in s3 after a brief gap. This drop was
because the consolidation averaged with 0 for the NaN
values since the values were considered rates."
brharrington,2018-04-30 19:50:12,https://api.github.com/repos/Netflix/atlas/git/commits/45e6520c41b61d9295a62cc228f07c25b92b9822,45e6520c41b61d9295a62cc228f07c25b92b9822,update to scala 2.12.6 (#821)
brharrington,2018-04-23 01:20:48,https://api.github.com/repos/Netflix/atlas/git/commits/c624dbfab2887cb783f21609487c1067db56e4ea,c624dbfab2887cb783f21609487c1067db56e4ea,"fix possible contract error for IndexStats (#820)

If there are duplicates for the number of distinct
values, then it is possible to get an error from the
sort:

```
java.lang.IllegalArgumentException: Comparison method violates its general contract!
	at java.util.TimSort.mergeHi(TimSort.java:899) ~[?:1.8.0_162]
	at java.util.TimSort.mergeAt(TimSort.java:516) ~[?:1.8.0_162]
	at java.util.TimSort.mergeCollapse(TimSort.java:441) ~[?:1.8.0_162]
	at java.util.TimSort.sort(TimSort.java:245) ~[?:1.8.0_162]
	at java.util.Arrays.sort(Arrays.java:1438) ~[?:1.8.0_162]
```

This adds a test and fixes the comparison operation."
brharrington,2018-04-22 19:29:16,https://api.github.com/repos/Netflix/atlas/git/commits/1a569483e8f0027428667fe81260a61486d14944,1a569483e8f0027428667fe81260a61486d14944,"add helper for tracking index stats (#819)

This provides a quick summary of some key stats for
the index to see what is contributing the most to the
number of distinct strings. In most cases we just use
hive queries for digging into this, but these stats
can be used before data is in hive and are always scoped
to the specific index. In some cases where we already
have rollup policies the hive data is raw from before
the additional policies are enabled."
dmuino,2018-04-19 00:15:01,https://api.github.com/repos/Netflix/atlas/git/commits/1621357616412a74ed1598c3a63b6c77ff71eed9,1621357616412a74ed1598c3a63b6c77ff71eed9,"Add :pow operator (#818)

Allows the user to use `math.pow` on time series expressions.

`a,b,:pow` will return a new time series where the values are `a` taken
to the power of `b`."
brharrington,2018-04-10 17:20:42,https://api.github.com/repos/Netflix/atlas/git/commits/995c807ee3bd9fc8190d1f130f814685cacf399e,995c807ee3bd9fc8190d1f130f814685cacf399e,"switch to `skip in publish := true` (#817)

The old no packaging hack is no longer needed on recent
versions of sbt and sbt-bintray."
brharrington,2018-04-06 23:10:50,https://api.github.com/repos/Netflix/atlas/git/commits/6bec4170570e0dfabe6a3e724bc90f38dcaf7e2a,6bec4170570e0dfabe6a3e724bc90f38dcaf7e2a,"iep 1.2.2 (#815)

This is mostly just to trigger a change to verify the
release. The previous attempt at 1.6.0-rc.10 failed
because it was still trying to publish 1.6.0-rc.9. The
theory is that this is because they were both tagging
the same commit."
brharrington,2018-04-04 16:13:40,https://api.github.com/repos/Netflix/atlas/git/commits/44e2f58643b9ceaf570f7eaa6eac4514660662d1,44e2f58643b9ceaf570f7eaa6eac4514660662d1,"ensure batches are regularly pushed (#814)

For smaller deployments it would take time to fill up the
entire batch causing a significant delay in the publishing.
Now it will flush based on the age even if the batch is not
yet full."
dmuino,2018-04-03 21:46:18,https://api.github.com/repos/Netflix/atlas/git/commits/6cb745bdd9b7b54e9cea32cb2aa7500be18d6582,6cb745bdd9b7b54e9cea32cb2aa7500be18d6582,"Collect maximumUsedTranactionIds from cloudwatch (#813)

This will help detect Transaction ID Wraparound in postgresql databases.
See: https://aws.amazon.com/blogs/database/implement-an-early-warning-system-for-transaction-id-wraparound-in-amazon-rds-for-postgresql/
for details"
brharrington,2018-04-03 17:30:12,https://api.github.com/repos/Netflix/atlas/git/commits/871daf16047e6b5240ab3b8a0d8599ae5aee25f2,871daf16047e6b5240ab3b8a0d8599ae5aee25f2,"reduce number of nodes in demo dataset (#812)

This is used for test cases and docs. Reducing the number
of nodes significantly improves the time for running tests
or generating docs that use longer time ranges."
brharrington,2018-04-02 22:54:59,https://api.github.com/repos/Netflix/atlas/git/commits/101260fcce6cdf132b81b1b1cae25536ebfa2584,101260fcce6cdf132b81b1b1cae25536ebfa2584,update dependencies (#811)
brharrington,2018-04-02 22:27:23,https://api.github.com/repos/Netflix/atlas/git/commits/a1e84d695d3780abfaa76e667db7ae9bc6cf6e2b,a1e84d695d3780abfaa76e667db7ae9bc6cf6e2b,sbt-updates 0.3.4
brharrington,2018-04-02 22:16:14,https://api.github.com/repos/Netflix/atlas/git/commits/53d309a28294c1b000a97b6c96382a9303988047,53d309a28294c1b000a97b6c96382a9303988047,sbt-release 1.0.8
brharrington,2018-04-02 22:03:47,https://api.github.com/repos/Netflix/atlas/git/commits/0669a516974f9c4871c89661e16284e30c9565a7,0669a516974f9c4871c89661e16284e30c9565a7,sbt-bintray 0.5.4
brharrington,2018-04-02 21:59:05,https://api.github.com/repos/Netflix/atlas/git/commits/85b77f1a7ddbc14f2b2872a1193457981235ffcd,85b77f1a7ddbc14f2b2872a1193457981235ffcd,sbt 1.1.2
brharrington,2018-04-02 21:49:48,https://api.github.com/repos/Netflix/atlas/git/commits/ce2d7ea443389b8a5753f4d86e0835c05c05d1a9,ce2d7ea443389b8a5753f4d86e0835c05c05d1a9,jackson 2.9.5
brharrington,2018-04-02 21:37:29,https://api.github.com/repos/Netflix/atlas/git/commits/05b92333c925cd88455a10c0fc0cfc9b1936b275,05b92333c925cd88455a10c0fc0cfc9b1936b275,joda-convert 2.0.1
brharrington,2018-04-02 21:34:36,https://api.github.com/repos/Netflix/atlas/git/commits/d1009fdf00fde55db0899b049b831f174579de66,d1009fdf00fde55db0899b049b831f174579de66,roaringbitmap 0.7.9
brharrington,2018-04-02 21:27:00,https://api.github.com/repos/Netflix/atlas/git/commits/2c91df9b9c203adb30698088ba08afe751bcdc61,2c91df9b9c203adb30698088ba08afe751bcdc61,caffeine 2.6.2
brharrington,2018-04-02 21:25:46,https://api.github.com/repos/Netflix/atlas/git/commits/7d33e58fa61928adab684c507745e4fcde2ec8b2,7d33e58fa61928adab684c507745e4fcde2ec8b2,typesafe config 1.3.3
brharrington,2018-04-02 21:19:43,https://api.github.com/repos/Netflix/atlas/git/commits/a0b9a5940c4965131fa444af7364fb93d515957c,a0b9a5940c4965131fa444af7364fb93d515957c,scala-logging 3.8.0
brharrington,2018-04-02 18:25:40,https://api.github.com/repos/Netflix/atlas/git/commits/360486e295769348ef3883917e1070b8e19d8f25,360486e295769348ef3883917e1070b8e19d8f25,"akka-http 10.1.1

Adds mavenCentral to the list of resolvers because the
`pom.sha1` file for akka-http_2.11 10.1.1 is broken in
jcenter. For more details see akka/akka-http#1972."
brharrington,2018-04-02 18:23:02,https://api.github.com/repos/Netflix/atlas/git/commits/ad68bcd4d8f68b923098bdfd3cc03b513878c86c,ad68bcd4d8f68b923098bdfd3cc03b513878c86c,akka 2.5.11
brharrington,2018-04-02 18:08:03,https://api.github.com/repos/Netflix/atlas/git/commits/35eaddebf830d7e42501c4995cd28414686710f5,35eaddebf830d7e42501c4995cd28414686710f5,aws-java-sdk 1.11.299
brharrington,2018-04-02 18:03:21,https://api.github.com/repos/Netflix/atlas/git/commits/65a38bb808d9ec6aa678e9d48e982f260bc3f5db,65a38bb808d9ec6aa678e9d48e982f260bc3f5db,log4j 2.11.0
brharrington,2018-04-02 18:00:50,https://api.github.com/repos/Netflix/atlas/git/commits/434324b138d81db5a485f2e42e233a23f97d79f6,434324b138d81db5a485f2e42e233a23f97d79f6,iep 1.2.1
brharrington,2018-04-02 17:55:54,https://api.github.com/repos/Netflix/atlas/git/commits/f1717c83871a07549d12de81024e692594895e6a,f1717c83871a07549d12de81024e692594895e6a,spectator 0.63.0
brharrington,2018-03-23 21:34:57,https://api.github.com/repos/Netflix/atlas/git/commits/2a328f2ad982ecc6b37052b80c3dfb87e3d2a6fd,2a328f2ad982ecc6b37052b80c3dfb87e3d2a6fd,"preserve offset information for :percentiles (#810)

Before it was getting lost if the percentile expression was
written back out to a string. Fixes #809."
brharrington,2018-03-23 05:07:41,https://api.github.com/repos/Netflix/atlas/git/commits/37d24f3943d71ee9a8a0bb485b6cf0a592e8d3e9,37d24f3943d71ee9a8a0bb485b6cf0a592e8d3e9,"support rendering pre-evaluated data (#808)

Updates the Grapher lib so it can be used to render data
that has already been evaluated. The previous methods that
accept the input data or data expr map have been renamed
to evalAndRender."
brharrington,2018-03-19 16:28:55,https://api.github.com/repos/Netflix/atlas/git/commits/464f2064725bff5230e4e29bf53c51157b71046f,464f2064725bff5230e4e29bf53c51157b71046f,"indicate DST transition on time axis (#807)

A frequent question after a DST transition is why the
time axis labels are off. This change indicates the DST
transition by changing the first major tick label after
to show `+1H` or `-1H`. The color is red to make it
standout from other tick lables on the same axis."
brharrington,2018-03-16 15:59:37,https://api.github.com/repos/Netflix/atlas/git/commits/2c2f0ac500a3d4cfb71a58c4091291bb1fc05c04,2c2f0ac500a3d4cfb71a58c4091291bb1fc05c04,"avoid config loading for demo dataset (#806)

This is used for generating fake data for the purposes
of testing or creating documentation examples. The config
load is causing problems due to classloader issues when
running as part of build plugin. Not sure why, but for this
use-case it can be avoided."
brharrington,2018-03-16 01:58:19,https://api.github.com/repos/Netflix/atlas/git/commits/2d6dd9e561e15ebd4c0b7b4dce8b9ef086905c51,2d6dd9e561e15ebd4c0b7b4dce8b9ef086905c51,docs: expand description of expr scoped palettes (#805)
brharrington,2018-03-16 00:03:29,https://api.github.com/repos/Netflix/atlas/git/commits/cc31e29c369227eb26c2631014924c5a862a86b2,cc31e29c369227eb26c2631014924c5a862a86b2,docs: describe common use-case for clamp-max (#804)
brharrington,2018-03-09 21:30:25,https://api.github.com/repos/Netflix/atlas/git/commits/a273609e0da11094c0523ed08691749929f83287,a273609e0da11094c0523ed08691749929f83287,"akka-http 10.1.0 (#803)

Changes default connection pool implementation. So far the
new implementation looks find based on test deployment with
the RC2 release."
brharrington,2018-03-07 23:48:36,https://api.github.com/repos/Netflix/atlas/git/commits/bf38a75eb7cb59f48ddb04e149cefb4f28217f1a,bf38a75eb7cb59f48ddb04e149cefb4f28217f1a,"eval: reject datapoints that are from the future (#802)

If we get timestamps from the the future, then it can
mess up the time based grouping for the input. Before
the buckets for the grouping would adjust to the future
time and current data would get dropped as being too
old."
brharrington,2018-03-07 05:57:04,https://api.github.com/repos/Netflix/atlas/git/commits/218cbd8e7c83b6d77410cce5be305146b12ff5f0,218cbd8e7c83b6d77410cce5be305146b12ff5f0,"add support for palette scoped to an expression (#801)

This change will allow a palette to be used for a particular
expression. This can be used with group by operations to use
a given color scheme per group, for example, success codes are
green and errors are reds.

Fixes #800."
brharrington,2018-02-28 20:55:02,https://api.github.com/repos/Netflix/atlas/git/commits/7cfde4504090edd14d5d58beb58248a041bd1678,7cfde4504090edd14d5d58beb58248a041bd1678,"remove bad api from static config (#799)

The RenderApi never really worked and was removed as
part of #797."
brharrington,2018-02-27 00:48:30,https://api.github.com/repos/Netflix/atlas/git/commits/b3180d9561468b48ecaa09231e5f0be011de82f6,b3180d9561468b48ecaa09231e5f0be011de82f6,"initial work to split rendering from webapi (#797)

There are a number of use-cases where it is convenient to
be able to render a chart based on the uri without going
through the webapi. Examples:

- Alerting through LWC with a certain buffer for the data
  being streamed through. If an alert triggers, then it
  is desirable to be able to include context in the email
  or other notification. The graph image helps the user
  understand why it fired.
- Spark queries over the data in S3. We want to be able
  to let a user use the exact same graph uri they use for
  the main backend and run it on spark.

This is an initial step and we'll try it out a bit to see
what changes make sense. A subset of the tests from the
GraphApiSuite have been moved over. Most of the rest will
follow later on so we can ensure that there isn't anything
being added in the graph layer."
brharrington,2018-02-26 23:37:10,https://api.github.com/repos/Netflix/atlas/git/commits/a9f3bf0e55367eb65b38c06d36b1ef7638f9c3c9,a9f3bf0e55367eb65b38c06d36b1ef7638f9c3c9,"add mapping for dynamo-db throttle events (#796)

These appear to only be available at the table level. The
error for request throttled would be needed to see how it
impacts particular operations."
brharrington,2018-02-26 01:20:21,https://api.github.com/repos/Netflix/atlas/git/commits/4f1ea8a05132514c728ae4ed656dab7c646df718,4f1ea8a05132514c728ae4ed656dab7c646df718,"fix removal of key that is not in SmallHashMap (#795)

Before it would fail with:

```
requirement failed: data array is full
```"
brharrington,2018-02-24 18:48:42,https://api.github.com/repos/Netflix/atlas/git/commits/f82fff434766257f7130492e7eb5b6b002966257,f82fff434766257f7130492e7eb5b6b002966257,"docs: fix end tag for example tables (#794)

Change `<s/tr>` to `</tr>`."
brharrington,2018-02-23 23:51:48,https://api.github.com/repos/Netflix/atlas/git/commits/849ef81956beb9191e928661799c2eacd9b255ce,849ef81956beb9191e928661799c2eacd9b255ce,"simplify string mapping for NamedRewrite (#793)

If the final grouping for display varies from the final
grouping of the eval, then the rewrite is applying a
secondary grouping. Otherwise just apply the rewrite
operator.

Fixes #791."
brharrington,2018-02-23 23:16:31,https://api.github.com/repos/Netflix/atlas/git/commits/e13de860a076263f854cd514b6a701e8a8b64788,e13de860a076263f854cd514b6a701e8a8b64788,"fix additional case of losing offset (#792)

The group by operation could lose the offset if it was
not encoded as part of the display expression."
brharrington,2018-02-23 16:57:01,https://api.github.com/repos/Netflix/atlas/git/commits/070571fe3296ac343a8dfb462f8e34c6984acb67,070571fe3296ac343a8dfb462f8e34c6984acb67,"fix offset for aggregate function rewrites (#790)

Before if the display expression for a rewrite was a
Query type it would not correctly get the offset applied.

Fixes #788."
brharrington,2018-02-15 03:12:23,https://api.github.com/repos/Netflix/atlas/git/commits/6f5567e92f325aa8f1482baf8b154ed184a4b195,6f5567e92f325aa8f1482baf8b154ed184a4b195,"re-enable scala 2.11 build (#787)

It was dropped in #600. There are some use-cases
where it would be helpful to use the latest version
from Spark which does not yet support 2.12. We'll
revisit for Atlas 1.7."
brharrington,2018-02-15 00:44:06,https://api.github.com/repos/Netflix/atlas/git/commits/9680cdd921ee177847760806bbdf2b82c98a65fe,9680cdd921ee177847760806bbdf2b82c98a65fe,"add format target (#785)

Adds a format target to the makefile to make it easier
to run both the license formatting and scala format."
brharrington,2018-02-15 00:43:46,https://api.github.com/repos/Netflix/atlas/git/commits/87ae55677e837b76f6aff7cb6305feebdbee0d30,87ae55677e837b76f6aff7cb6305feebdbee0d30,update dependencies (#786)
brharrington,2018-02-15 00:26:07,https://api.github.com/repos/Netflix/atlas/git/commits/f0f0ec6470186dc4efc9ddf035a625f56e993ede,f0f0ec6470186dc4efc9ddf035a625f56e993ede,sbt-jmh 0.3.3
brharrington,2018-02-15 00:24:17,https://api.github.com/repos/Netflix/atlas/git/commits/8e0033cc152f0e1002039a605cd987be89fff7e4,8e0033cc152f0e1002039a605cd987be89fff7e4,aws-java-sdk 1.11.277
brharrington,2018-02-15 00:17:31,https://api.github.com/repos/Netflix/atlas/git/commits/976041fdb7ed44da62c571037506d9d0fb4ab4e0,976041fdb7ed44da62c571037506d9d0fb4ab4e0,equalsverifier 2.4.3
brharrington,2018-02-15 00:14:15,https://api.github.com/repos/Netflix/atlas/git/commits/9e8dbc681a96508df2624e4fe92f1688bfb4d28a,9e8dbc681a96508df2624e4fe92f1688bfb4d28a,caffeine 2.6.1
brharrington,2018-02-14 23:44:33,https://api.github.com/repos/Netflix/atlas/git/commits/a4121e1122a1236dc313b558b04f115cd8ad699d,a4121e1122a1236dc313b558b04f115cd8ad699d,RoaringBitmap 0.7.0
brharrington,2018-02-14 23:38:26,https://api.github.com/repos/Netflix/atlas/git/commits/e2340124b23e8961defb2d66d4bacd5e8cf3035f,e2340124b23e8961defb2d66d4bacd5e8cf3035f,scalatest 3.0.5
brharrington,2018-02-14 23:35:24,https://api.github.com/repos/Netflix/atlas/git/commits/0bd05803903b775f9981f4e30188dfd46c6ce878,0bd05803903b775f9981f4e30188dfd46c6ce878,spectator 0.61.0
brharrington,2018-02-14 23:34:08,https://api.github.com/repos/Netflix/atlas/git/commits/821d381548026795596fa620039ed9adacd65e81,821d381548026795596fa620039ed9adacd65e81,iep 1.2.0
brharrington,2018-02-14 23:32:12,https://api.github.com/repos/Netflix/atlas/git/commits/f3f9f70bd66303d96acc8b8ef0c57024762c6851,f3f9f70bd66303d96acc8b8ef0c57024762c6851,sbt 1.1.1
brharrington,2018-02-14 17:57:37,https://api.github.com/repos/Netflix/atlas/git/commits/6e80e2d6c9fd843ccb774111b71ee3e1c27253b9,6e80e2d6c9fd843ccb774111b71ee3e1c27253b9,"fix use of multi-level group by with rewrites (#784)

Fixes #584. Before this would result in errors if the
rewrite resulted in a non-grouped time series expression."
brharrington,2018-02-13 20:41:58,https://api.github.com/repos/Netflix/atlas/git/commits/24eedd2e4fd62eebfdb0cf94a29c81333d6edf4e,24eedd2e4fd62eebfdb0cf94a29c81333d6edf4e,"add group by keys to time series message (#783)

Fixes #754. Exposes the set of keys that were used
explicitly as part of a group by in the time series
messages emitted by fetch and streaming evaluation.

This is useful for things like canary analysis that
generate a set of lines for multiple clusters and
need a reliable way to find the correlated entries
from the baseline and canary. Since the tags will
contain exact matches from the query as well as
keys used in the group by, this change will allow
the user to extract just the keys from the group by
and ignore other exact match tags coming from the
scope used on the query."
brharrington,2018-02-13 17:55:03,https://api.github.com/repos/Netflix/atlas/git/commits/853956dcebd4d785c6d27ffdf0f7316ab2f67131,853956dcebd4d785c6d27ffdf0f7316ab2f67131,"empty filtered result should be transitive (#782)

Fixes #781. Before if a filter was applied to a non-grouped
expression, then it could result in a confusing error being
propagated to the user. The cause was that the binary
operations did not expect for an empty result set unless
the underlying expression was grouped."
brharrington,2018-02-08 20:26:59,https://api.github.com/repos/Netflix/atlas/git/commits/bc2146af91ae59a9871addbfe2ef9ba71a483c0d,bc2146af91ae59a9871addbfe2ef9ba71a483c0d,"use custom vocabulary from lwcapi (#780)

Updates the lwcapi expression splitter to use the
same vocabulary that would get used with the graph
api after #776."
brharrington,2018-02-08 16:36:46,https://api.github.com/repos/Netflix/atlas/git/commits/b6949ac9f6e625aef97ea82b037eeb4400ae64e5,b6949ac9f6e625aef97ea82b037eeb4400ae64e5,"use custom vocabulary from eval lib (#779)

Updates the eval lib to use the same vocabulary
that would get used with the graph api after #776."
brharrington,2018-02-07 16:37:37,https://api.github.com/repos/Netflix/atlas/git/commits/25cd89a9a75cd05d8eb1c14d98815a34ba80b178,25cd89a9a75cd05d8eb1c14d98815a34ba80b178,"fix :cq with custom averages (#777)

If a `:cq` operation was used to restrict a query
by a tag that was not available on the denominator,
then it would result in a no data line because the
query would get applied to both sides. This change
simplifies the rewrite so it will always re-run
the operation after modifying the display expression.
In this case that means the `extractCommonQuery`
step will get executed on the new query formed by
applying the `:cq` operation."
brharrington,2018-02-06 23:04:27,https://api.github.com/repos/Netflix/atlas/git/commits/18a1cb0b83b1125375b818913cf824b1bad6e53a,18a1cb0b83b1125375b818913cf824b1bad6e53a,"add support for custom words (#776)

Merges internal vocabulary that allows us to specify
custom words or averages via the configuration. See
comments in `reference.conf` for more information about
how to set these up.

This will further reduce the difference between what
we run internally and OSS version. It should also make
it easier to keep LWC and backend operations consistent."
brharrington,2018-02-06 02:15:54,https://api.github.com/repos/Netflix/atlas/git/commits/4a0e5df685201e7bad0584cc999ecebdc579725c,4a0e5df685201e7bad0584cc999ecebdc579725c,"fix #761, allow basic math ops on StyleExpr (#775)

This change relaxes the language restrictions a bit
so that basic math operations can can be applied to
a time series expression after style attributes have
been applied. The main use-case is to allow for some
UI operations that need to perform operations on an
arbitrary graph in a similar manner to using `:cq`
to restrict the scope.

For binary operations, only one side can be a StyleExpr.
This prevents mutually exclusive presentation attributes
from the two sides."
brharrington,2018-02-05 18:20:44,https://api.github.com/repos/Netflix/atlas/git/commits/db39fc118431c4879adf0d38833e6793700af298,db39fc118431c4879adf0d38833e6793700af298,"support converting monotonic cw values to delta (#773)

Some values in cloudwatch may be reported as monotonic
counters. This change allows a `monotonic` flag to be
set on the metric definition to convert those to deltas
based on the previous value."
brharrington,2018-02-02 03:12:24,https://api.github.com/repos/Netflix/atlas/git/commits/4070b414864ea4bbe475f3704ee47084e6d8c9e9,4070b414864ea4bbe475f3704ee47084e6d8c9e9,docs: fix link to `:call` on tutorial page (#772)
brharrington,2018-02-01 23:28:46,https://api.github.com/repos/Netflix/atlas/git/commits/2ef395403a17b1c0661e5d54ef0a1121d452f438,2ef395403a17b1c0661e5d54ef0a1121d452f438,"limit size of in clause for expansion (#771)

When building the query index we expand `:in` clauses
so we get a set of simpler queries with `:eq` clauses.
This allows us to greatly reduce the number of queries
that wind up in the fallback set that have to be checked
linearly.

However, if there are many `:in` clauses and some of them
match a large set, then there is a combinatorial explosion
and the number of queries we need to index becomes too
large. This changes restricts the expansion to `:in` clauses
with 5 or less values."
zimmermatt,2018-01-30 22:47:17,https://api.github.com/repos/Netflix/atlas/git/commits/1727e54cd10c2880b35897bcf92fc16e45686125,1727e54cd10c2880b35897bcf92fc16e45686125,"add description for `:dist-avg` and `:dist-max` (#770)

The generated defaults are not very helpful to users since they just
output the expanded rewrite syntax."
brharrington,2018-01-29 01:20:06,https://api.github.com/repos/Netflix/atlas/git/commits/92f91808c32d6bb892b199c488ff3169afacd857,92f91808c32d6bb892b199c488ff3169afacd857,"jackson 2.9.4 (#769)

Fixes the issue for empty arrays brought up in #710."
brharrington,2018-01-23 17:13:50,https://api.github.com/repos/Netflix/atlas/git/commits/ffef30f2c55027b9f7e10b17f89885975ceb44c5,ffef30f2c55027b9f7e10b17f89885975ceb44c5,"add helper function for simplifying a query (#767)

A number of internal libraries have the use-case to
perform rewrites and then simplify the query expression.
This change adds it as a common helper function to the
Query object. In the case of rewrites it is often useful
to ignore terms so it has the option to use special
handling of the not true case so it will get elided rather
than making the overall expression false."
brharrington,2018-01-17 15:28:31,https://api.github.com/repos/Netflix/atlas/git/commits/9b123f0ec84ad0fd7a61bdfa2fecd5bf8701d2f9,9b123f0ec84ad0fd7a61bdfa2fecd5bf8701d2f9,update dependencies (#766)
brharrington,2018-01-17 15:13:33,https://api.github.com/repos/Netflix/atlas/git/commits/197727d8836489af387b95ae5ca3485d01008ed5,197727d8836489af387b95ae5ca3485d01008ed5,sbt 1.1.0
brharrington,2018-01-17 15:08:32,https://api.github.com/repos/Netflix/atlas/git/commits/ec1a5f03ef648d56a9d6d1b88099b14201cb0aa4,ec1a5f03ef648d56a9d6d1b88099b14201cb0aa4,scalafmt 1.4.0
brharrington,2018-01-17 15:02:57,https://api.github.com/repos/Netflix/atlas/git/commits/69aac3bcb6311ca2aa6da5cebdb76fa3a76fc075,69aac3bcb6311ca2aa6da5cebdb76fa3a76fc075,sbt-jmh 0.3.2
brharrington,2018-01-17 14:51:50,https://api.github.com/repos/Netflix/atlas/git/commits/cebe8ec8ce8c8d7f3abce20d88431a5db4293a1c,cebe8ec8ce8c8d7f3abce20d88431a5db4293a1c,aws-java-sdk 1.11.264
brharrington,2018-01-17 14:48:39,https://api.github.com/repos/Netflix/atlas/git/commits/7626955ab85e6646085733cd1bc6480cf5871e72,7626955ab85e6646085733cd1bc6480cf5871e72,akka 2.5.9
brharrington,2018-01-17 14:42:16,https://api.github.com/repos/Netflix/atlas/git/commits/6db562ff202ad2cc5587a954f2da5f0b33169eb7,6db562ff202ad2cc5587a954f2da5f0b33169eb7,"fix #747, use List instead of Tuple (#765)

Fixes the warnings due to the ambiguity between a parameter
list to the function and the creation of a tuple. For this
test case it doesn't matter so just switch it to a list to
clear up the warnings."
brharrington,2018-01-17 14:41:55,https://api.github.com/repos/Netflix/atlas/git/commits/b224a5033d9b8bf1781660e612118f864aaae7b6,b224a5033d9b8bf1781660e612118f864aaae7b6,"fix #762, use proper legend in streaming eval (#764)

Before it was ignoring the pattern specified using
`:legend` and always using the default."
brharrington,2018-01-05 15:39:19,https://api.github.com/repos/Netflix/atlas/git/commits/11cae1b88285339d58ea717ef767218857209f9f,11cae1b88285339d58ea717ef767218857209f9f,"add mapping for TrustedAdvisor metrics (#759)

For now it is only the service limit usage metrics that
give us an idea of how close we are to limits. This can
be a simple alternative to many of the uses of howlermonkey.
The update frequency for the trusted advisor metrics is
fairly low so it will take an hour or so to detect a
problem. For slow growth it is adequate."
brharrington,2018-01-04 15:35:07,https://api.github.com/repos/Netflix/atlas/git/commits/3332632107e9b2150660ec9a67b914df26e3d585,3332632107e9b2150660ec9a67b914df26e3d585,"akka 2.5.8 (#758)

Not sure that we have any impacted use-cases, but this
version fixes a memory leak with async callbacks:

https://akka.io/blog/news/2017/12/08/akka-2.5.8-released"
brharrington,2018-01-02 19:15:31,https://api.github.com/repos/Netflix/atlas/git/commits/0140292667b166f467d18a531a6cbcdc6437aa21,0140292667b166f467d18a531a6cbcdc6437aa21,"roaring bitmap 0.6.66 (#755)

This pulls in a fix for an equality bug, see:
RoaringBitmap/RoaringBitmap#195. This bug may
be the cause of some strange matching issues
we have seen with certain regex queries."
brharrington,2018-01-02 18:50:12,https://api.github.com/repos/Netflix/atlas/git/commits/d2e96fa8bc52ce70a2b084b1b9568d8b3ada2e43,d2e96fa8bc52ce70a2b084b1b9568d8b3ada2e43,update headers for 2018 (#756)
brharrington,2017-12-12 04:02:13,https://api.github.com/repos/Netflix/atlas/git/commits/a18f5a8ff79a02cedd3c7561fef36fe35733a079,a18f5a8ff79a02cedd3c7561fef36fe35733a079,"use the decoded name as field alias (#752)

The name can have encoded characters such as `.`. For
example `a.b` will be encoded as `a$u002Eb`. The decoded
name is now used as an alias if there is not an explict
alias set with an annotation."
brharrington,2017-12-07 19:31:26,https://api.github.com/repos/Netflix/atlas/git/commits/efe79b50b73e4f45508b287c6cfd9cece000fc7a,efe79b50b73e4f45508b287c6cfd9cece000fc7a,"fix #746, avoid rounding for percentile labels (#748)

Use the default double to string conversion so the value
more closely reflects what the user entered. The previous
approach of using the formatter would cause rounding if
there were too many significant digits."
brharrington,2017-12-07 04:13:54,https://api.github.com/repos/Netflix/atlas/git/commits/f4133fe07bbda254962d367a17877ac8a1843211,f4133fe07bbda254962d367a17877ac8a1843211,update dependencies (#749)
brharrington,2017-12-07 03:39:22,https://api.github.com/repos/Netflix/atlas/git/commits/b47b796b1dc699b3714992f0bfbd5d14d90c32de,b47b796b1dc699b3714992f0bfbd5d14d90c32de,equalsverifier 2.4
brharrington,2017-12-07 03:34:30,https://api.github.com/repos/Netflix/atlas/git/commits/0e17425ffd26def841099ebca9a51f3e50aea3ef,0e17425ffd26def841099ebca9a51f3e50aea3ef,jackson 2.9.2
brharrington,2017-12-07 03:26:35,https://api.github.com/repos/Netflix/atlas/git/commits/da192022e20164799c72cc4e39094c0be0901a6b,da192022e20164799c72cc4e39094c0be0901a6b,log4j 2.10.0
brharrington,2017-12-07 03:23:36,https://api.github.com/repos/Netflix/atlas/git/commits/abf2c96b5e2ef2bd4d4d5bd0703fbd4e70298308,abf2c96b5e2ef2bd4d4d5bd0703fbd4e70298308,akka 2.5.7
brharrington,2017-12-07 03:21:53,https://api.github.com/repos/Netflix/atlas/git/commits/6978c207ac42ddecc57ab03d378200873b03c37d,6978c207ac42ddecc57ab03d378200873b03c37d,spectator 0.60.0
brharrington,2017-12-02 20:05:11,https://api.github.com/repos/Netflix/atlas/git/commits/8adf4adb0ca7280eb340c7f7d2e8824006f587d9,8adf4adb0ca7280eb340c7f7d2e8824006f587d9,"akka-http 10.0.11 (#745)

Has rewrite of client connection pool that might help
with some of the sporadic issues we are seeing. Note,
the new pool needs to be explicitly enabled."
brharrington,2017-11-30 18:08:27,https://api.github.com/repos/Netflix/atlas/git/commits/44a53f4632ba0225afee2c3ea47ea60ec4b19f57,44a53f4632ba0225afee2c3ea47ea60ec4b19f57,"additional test cases for block counts (#744)

When looking at some test results related to #737, I'm
seeing that the block stats reported are often higher
than the counts from jmap. Still not sure why, the cleanup
and reporting seems to be working correctly in the test
cases."
brharrington,2017-11-27 17:46:00,https://api.github.com/repos/Netflix/atlas/git/commits/46c920abbaf44864a919a175fbe68922dd097f24,46c920abbaf44864a919a175fbe68922dd097f24,"update to sbt 1.0.4 and scala 2.12.4 (#743)

Fixes some of the previous problems, see #725
and #731 for details."
brharrington,2017-11-23 19:32:20,https://api.github.com/repos/Netflix/atlas/git/commits/164bb60174ab7d57e1acfbe4a237ae0efb3ab089,164bb60174ab7d57e1acfbe4a237ae0efb3ab089,"fix #565, add :time-span operator (#742)

Adds a time span operator that can be used to easily
generate a signal line for a given time range. This
was partially doable before by using the `:time`
operator along with comparison operations, but it
was quite cumbersome. Further, that usage does not
allow for relative times."
brharrington,2017-11-15 04:54:05,https://api.github.com/repos/Netflix/atlas/git/commits/4eb3cb85670f08c2addfc7526bd79617499be889,4eb3cb85670f08c2addfc7526bd79617499be889,"copy context in :set (#741)

Before the `:set` operation was creating a new context
which is losing other information such as the frozen
stack. This changes it to copy and just update the
parts that are being modified by the operator."
brharrington,2017-11-15 03:13:04,https://api.github.com/repos/Netflix/atlas/git/commits/3d9f4d8ebc6d6c5bf8574f82428f42fe60f193bf,3d9f4d8ebc6d6c5bf8574f82428f42fe60f193bf,"additional test cases for :freeze (#740)

Add tests for all words that perform an execute."
brharrington,2017-11-14 00:42:36,https://api.github.com/repos/Netflix/atlas/git/commits/65381e1d32f60b6d04b8bf7c34debc9cab9d889c,65381e1d32f60b6d04b8bf7c34debc9cab9d889c,"fix use of :freeze with macros (#739)

The macros like `:avg` on a graph are executed using the
same context as the overall expression. When completed they
were unfreezing the stack to get the final result stack. This
should not be done for internal executions, only once the
overall expression evaluation is completed."
brharrington,2017-11-13 18:47:15,https://api.github.com/repos/Netflix/atlas/git/commits/c0d4aa3e79aa1288f09f39911834caedaf281b18,c0d4aa3e79aa1288f09f39911834caedaf281b18,"docs: update example for all to avoid limit (#738)

In #692, the simple static db was updated to check the
limits which resulted in the example for `:all` failing.
This changes the example to reduce the match set."
brharrington,2017-11-11 17:10:25,https://api.github.com/repos/Netflix/atlas/git/commits/f9750d94d0a87d9045b1fb396a2e88182bfb1407,f9750d94d0a87d9045b1fb396a2e88182bfb1407,"fix #733, add :freeze operator (#736)

Adds `:freeze` operator to allow freezing a portion
of the stack so it is isolated from further modification.
This is useful for query overlay and some other use-cases
where we essentially need to combine multiple expressions
and still be able to use operations like `:clear` or `:list`
without worrying about exactly how far back to go on the
stack."
brharrington,2017-11-11 16:46:16,https://api.github.com/repos/Netflix/atlas/git/commits/966b54a7ad34278ca31fedee1a4d956f71efb6a0,966b54a7ad34278ca31fedee1a4d956f71efb6a0,remove unused variable (#735)
brharrington,2017-11-10 22:59:00,https://api.github.com/repos/Netflix/atlas/git/commits/39a9fb72f2ffd02ec21a8474d68c705850dcc962,39a9fb72f2ffd02ec21a8474d68c705850dcc962,update dependencies (#734)
brharrington,2017-11-10 22:08:19,https://api.github.com/repos/Netflix/atlas/git/commits/1bd68005e3aa3e0bcb3922e2bc1491da3e9a38d8,1bd68005e3aa3e0bcb3922e2bc1491da3e9a38d8,caffeine 2.6.0
brharrington,2017-11-10 22:00:45,https://api.github.com/repos/Netflix/atlas/git/commits/dec1cc31261595b9fdb80302a20799e5361ba86e,dec1cc31261595b9fdb80302a20799e5361ba86e,joda-convert 1.9.2
brharrington,2017-11-10 21:59:23,https://api.github.com/repos/Netflix/atlas/git/commits/5001143cabfadd4966ae9a1d387115b530f9c943,5001143cabfadd4966ae9a1d387115b530f9c943,aws-java-sdk 1.11.227
brharrington,2017-11-10 21:58:20,https://api.github.com/repos/Netflix/atlas/git/commits/1dd331e9a0281520ff56831e5d879a79b8c0a2ce,1dd331e9a0281520ff56831e5d879a79b8c0a2ce,iep 1.1.1
brharrington,2017-11-10 21:57:30,https://api.github.com/repos/Netflix/atlas/git/commits/7c1cb543fa4093cb92baf78d39a009cffd10f1b5,7c1cb543fa4093cb92baf78d39a009cffd10f1b5,scalafmt 1.3.0
brharrington,2017-11-10 21:49:12,https://api.github.com/repos/Netflix/atlas/git/commits/94e336218a815777589e6dc54fb00c1541fcdee6,94e336218a815777589e6dc54fb00c1541fcdee6,spectator 0.59.0
brharrington,2017-10-28 17:50:50,https://api.github.com/repos/Netflix/atlas/git/commits/9e8937d07df8b0c10115b003238347f768ae7ca2,9e8937d07df8b0c10115b003238347f768ae7ca2,"reduce thread contention for splitter cache (#732)

On instance type with a large number of cores the cache
introduced in #730 starts to make things worse because
of heavy thread contention with the `computeIfAbsent`
calls used for interning the queries and internally to
the LoadingCache. This change refactors the calls to
do a get/put which may result in recomputing some values,
but avoids the blocking. See Netflix/spectator#352 for
a similar issue we had before.

This change was manually pushed to a test node and I
confirmed that the blocked threads are no longer present."
brharrington,2017-10-28 15:52:00,https://api.github.com/repos/Netflix/atlas/git/commits/9fa0be3a38f73198c8f240e2575f3e5c80c1ee3c,9fa0be3a38f73198c8f240e2575f3e5c80c1ee3c,"cache the split expressions (#730)

A substantial chunk of the CPU usage (~40%) on the lwcapi
clusters is being spent processing the subscription updates.
In most cases these are the same expressions each time. This
changes the splitter to cache the processed result to eliminate
most of the overhead."
brharrington,2017-10-27 23:58:34,https://api.github.com/repos/Netflix/atlas/git/commits/2f5beddcf449b19d7363be51c9809e6ce3974b7d,2f5beddcf449b19d7363be51c9809e6ce3974b7d,"improve performance for splitting expressions (#728)

For some use-cases like lwcapi where many expressions
get processed a significant amount of time was being
spent compiling the regex used by `String.split`. This
change avoids the regex and significantly improves
the parsing performance."
brharrington,2017-10-27 20:54:39,https://api.github.com/repos/Netflix/atlas/git/commits/71ba05bb9723603e59ef5b6dd69ce55e6659c2b1,71ba05bb9723603e59ef5b6dd69ce55e6659c2b1,"added/removed log messages are reversed (#727)

The log message was showing the opposite of what it claimed."
brharrington,2017-10-27 20:42:27,https://api.github.com/repos/Netflix/atlas/git/commits/d600f5166120961f9c5cecf38dfb0643fe1d8584,d600f5166120961f9c5cecf38dfb0643fe1d8584,"fix stop for Eureka refresh source (#726)

In #704, there was a change to fix how the Eureka refresh
source was stopped. That change has a bug in that the function
passed to `repeatWhile` has a reference to the member variable.
So it is almost always true, unless it happens to get checked
in the brief period between when the previous instance was set
to false and the new instance is created.

As a result, none of the sources are actually stopped and the
old DataSources instances get pushed out repeated. Depending
on how the expressions have changed, this can cause the
subscriptions for various expression to come and go.

This change avoids the problem on the actual instance. Still
need to come up with a way to test, but will do that as a new
PR so I can unblock some downstream users that need the fix."
zimmermatt,2017-10-27 02:01:11,https://api.github.com/repos/Netflix/atlas/git/commits/0e067c59c184fa7fbae948a0ba916cbe27416869,0e067c59c184fa7fbae948a0ba916cbe27416869,"fix #694, improve diagnostic messages for lwc evaluation (#723)

Insert diagnostic message summarizing input datapoint counts and
post aggregation counts for time series expressions."
zimmermatt,2017-10-26 23:29:55,https://api.github.com/repos/Netflix/atlas/git/commits/ad8b70178a9b2c232be764e9b0fc2741f1b03453,ad8b70178a9b2c232be764e9b0fc2741f1b03453,"set scala version to 2.12.3. (#725)

scala version must be 2.12.3 due to
https://github.com/sbt/sbt/issues/3560."
brharrington,2017-10-26 22:28:07,https://api.github.com/repos/Netflix/atlas/git/commits/2e06f322a330532703bb2a53c750642e6eb99255,2e06f322a330532703bb2a53c750642e6eb99255,"fix link to reporting issues section (#724)

The header was changed and the corresponding link
did not get updated."
brharrington,2017-10-20 22:59:06,https://api.github.com/repos/Netflix/atlas/git/commits/741b80000ba742f80069a37ac332cb633c614037,741b80000ba742f80069a37ac332cb633c614037,"add contributing guide (#722)

First attempt at a contributing guide for Atlas. We'll probably
use this as a template for iep and spectator as well. This is
loosly based on other examples including:

* https://github.com/atom/atom/blob/master/CONTRIBUTING.md
* https://github.com/intelsdi-x/snap/blob/master/CONTRIBUTING.md
* https://github.com/netflix/servo/blob/master/CONTRIBUTING.md"
brharrington,2017-10-20 14:33:22,https://api.github.com/repos/Netflix/atlas/git/commits/899c824b922ee120fd8450cfec156523de545c85,899c824b922ee120fd8450cfec156523de545c85,"scala 2.12.4 (#720)

Includes some fixes for jdk9."
brharrington,2017-10-20 14:33:01,https://api.github.com/repos/Netflix/atlas/git/commits/7d5b498bae65552a5798fbb167c75f1850aa16b7,7d5b498bae65552a5798fbb167c75f1850aa16b7,"specator 0.58.2 (#719)

Fixes possible NPE when computing hash code of ids."
brharrington,2017-10-18 16:39:56,https://api.github.com/repos/Netflix/atlas/git/commits/10bfb4a8a6bf193691bd60c28f6fc12ceab67fe3,10bfb4a8a6bf193691bd60c28f6fc12ceab67fe3,"reduce allocations for merging many sorted lists (#717)

Changes the implementation of merging many sorted lists
to use arrays internally to store the intermediate results.
This eliminates the allocations when performing a merge
operation. Before it was construction many `::` objects
to create the merged list. This shows a nice improvement
on the JMH benchmarks as well.

**Before**

```
ListMerge.merge                thrpt   10  23.064  5.711  ops/s
ListMergeCommonPrefix.merge    thrpt   10   6.606  0.534  ops/s
```

**After**

```
ListMerge.merge                thrpt   10  42.918  2.044  ops/s
ListMergeCommonPrefix.merge    thrpt   10   8.700  0.160  ops/s
```"
brharrington,2017-10-18 16:39:14,https://api.github.com/repos/Netflix/atlas/git/commits/568e95c86533dce7833a9f0b0778ee8cbce4f5c0,568e95c86533dce7833a9f0b0778ee8cbce4f5c0,"add jmh test for seq deserialization (#716)

Compares performance of deserializing a sequence of strings
using json/smile and into an array and list. As expected,
smile with array is clear winner. The benchmark only shows
speed, but the allocation rate is also much better with using
an array."
brharrington,2017-10-17 22:54:15,https://api.github.com/repos/Netflix/atlas/git/commits/8eca2cd17971e76c9c76bf18f18a6ab58ad2ec41,8eca2cd17971e76c9c76bf18f18a6ab58ad2ec41,"add datapoint counters for TimeGrouped operator (#713)

Add counters to track how many datapoints are getting
dropped and buffered when going through the time grouped
stage."
brharrington,2017-10-17 22:05:52,https://api.github.com/repos/Netflix/atlas/git/commits/dfa8a784f5006fe0ffb26cebb71b965cbfee6a3d,dfa8a784f5006fe0ffb26cebb71b965cbfee6a3d,"add jmh test for merge with long common prefix (#715)

When merging across many shards with some data sets the
merge takes a long time due to increased cost of the
comparisons."
brharrington,2017-10-17 15:15:53,https://api.github.com/repos/Netflix/atlas/git/commits/916a10282f1d3dca0a0cf47eedd5052751507bb5,916a10282f1d3dca0a0cf47eedd5052751507bb5,"fix #711, restrict limit when one list is empty (#714)

Fixes the case when one of the lists is empty to check
the limit."
brharrington,2017-10-12 00:51:03,https://api.github.com/repos/Netflix/atlas/git/commits/095c91f0e5d26e907ef3f7c0c28554c16e20ce3b,095c91f0e5d26e907ef3f7c0c28554c16e20ce3b,"fix #695, enable build for jdk9 (#709)

Update travis so we build on both jdk8 and jdk9."
brharrington,2017-10-12 00:28:24,https://api.github.com/repos/Netflix/atlas/git/commits/c3ebaa1b16be561c2e86b8f29c846854ded3c58f,c3ebaa1b16be561c2e86b8f29c846854ded3c58f,"add dependency on jsr250 (#708)

In jdk9 the PostConstruct and PreDestroy annotations have
been moved to a deprecated module that has to be explicitly
enabled. Adding explicit dependency so that those classes
can be found and the start/stop methods on services will
be called correctly."
brharrington,2017-10-12 00:10:26,https://api.github.com/repos/Netflix/atlas/git/commits/bd7bd62858f0fe1ef85d89aa81e6fdfb2894e3a1,bd7bd62858f0fe1ef85d89aa81e6fdfb2894e3a1,"avoid using  for PngImageSuite (#707)

The  character is not supported using the default font
on jdk8 so it shows up as a box. In jdk9 it is supported
so it shows the actual letter causing diffs for the test
case image."
brharrington,2017-10-11 21:39:47,https://api.github.com/repos/Netflix/atlas/git/commits/eb72ae205f3ea33ed62f456f77b252dcd3f6df61,eb72ae205f3ea33ed62f456f77b252dcd3f6df61,"update to spectator 0.58.1 (#706)

Updates the version and fixes the new deprecation
warnings for gauges."
brharrington,2017-10-10 21:34:26,https://api.github.com/repos/Netflix/atlas/git/commits/c4b07b924e32016ffb954831d789addf5d0b90c9,c4b07b924e32016ffb954831d789addf5d0b90c9,"fix possible buffer overflow for refreshing groups (#704)

The EurekaGroupsLookup stage creates a source to regularly
refresh the set of Eureka vips that are needed based on the
requested data sources. When a new set of data sources comes
in, it will stop the old source and create a new one.

The problem is when a new set of data sources comes in quickly
it could stop the source refreshing Eureka groups after the
request was made and before the response was processed. In
this scenario the `max-open-requests` limit would eventually
be reached and all subsequent requests would fail.

There are two changes included here:

1. Before the source was stopped using a `takeWhile` operator
   at a later stage. Now it is stopped by changing the source
   to indicate it is done and no longer has data. This means
   that the subsequent stages of the flow should go ahead and
   run and so the response body of any outstanding requests will
   get processed. The BufferOverflowException is still possible
   with just this change if too many changes occur in a short
   period, however, they will eventually clear up if the rate
   goes down.
2. The input is now throttled and conflated so that if many
   changes to the set of data sources come in a short window
   all but the last will get ignored."
brharrington,2017-10-10 18:05:26,https://api.github.com/repos/Netflix/atlas/git/commits/49955beac58dd21e9f72545e1d3788c370fd7b11,49955beac58dd21e9f72545e1d3788c370fd7b11,"consume Eureka response body if status not OK (#703)

Fixes the code to discard the entity when the status
is something other than 200 OK."
brharrington,2017-10-10 16:39:01,https://api.github.com/repos/Netflix/atlas/git/commits/349e20b8525bbbff19e1b1a4ee59c97f58b3ec13,349e20b8525bbbff19e1b1a4ee59c97f58b3ec13,refresh dependencies (#705)
brharrington,2017-10-10 16:22:59,https://api.github.com/repos/Netflix/atlas/git/commits/0282b625465e1efc8eefbf260244284c0b096efb,0282b625465e1efc8eefbf260244284c0b096efb,jol-core 0.9
brharrington,2017-10-10 16:19:17,https://api.github.com/repos/Netflix/atlas/git/commits/2ab4c0e19744b4332e05d854a289099b9a3d5fef,2ab4c0e19744b4332e05d854a289099b9a3d5fef,caffeine 2.5.6
brharrington,2017-10-10 16:17:26,https://api.github.com/repos/Netflix/atlas/git/commits/64114d09d036129b19ede1aac910ed3273177413,64114d09d036129b19ede1aac910ed3273177413,log4j 2.9.1
brharrington,2017-10-10 16:16:19,https://api.github.com/repos/Netflix/atlas/git/commits/a74303f6667eb0bb927e3ac2afd899f6c44fed34,a74303f6667eb0bb927e3ac2afd899f6c44fed34,typesafe config 1.3.2
brharrington,2017-10-06 23:06:11,https://api.github.com/repos/Netflix/atlas/git/commits/ccdab7a0e62e99035f42c6d85cc145d5a5e1ac9c,ccdab7a0e62e99035f42c6d85cc145d5a5e1ac9c,"add RollingInterval utility (#702)

This is being moved over from internal use. It is used for
keeping track of the set of data that should be loaded on
the historical clusters that read from s3."
brharrington,2017-10-06 23:05:00,https://api.github.com/repos/Netflix/atlas/git/commits/240be0f2797237bc2bbfaefd540748b1c3309cc5,240be0f2797237bc2bbfaefd540748b1c3309cc5,"remove handlers when a stream is unregistered (#699)

Before when the stream went away the map for the subscription
to the handler was not getting cleaned up."
brharrington,2017-10-06 22:55:19,https://api.github.com/repos/Netflix/atlas/git/commits/ede955b21c3b836aea2a61f91fca89423df13e6e,ede955b21c3b836aea2a61f91fca89423df13e6e,"fix propagation of needsUnregister for shutdown (#700)

This needs a bit more work and consideration, but the
change here resolves the most common and easy to reproduce
problem. When a new connection comes in with an id that
is already in use, it will replace the previous connection
and that stream is unregistered before setting up the
registration for the new connection stream. This creates
a race condition:

1. GET /stream/id
    1. unregister(id), noop nothing present for id
    2. register(id)
2. GET /stream/id
    1. unregister(id), removes the previous and shutsdown
       the connection
    2. register(id), sets up new registration
    3. SSEActor.postStop -> unregister(id), unregisters the
       newly created actor

With this change the postStop method for SSEActor will not
attempt to unregister again because we know it has already
been unregistered."
brharrington,2017-10-06 16:47:29,https://api.github.com/repos/Netflix/atlas/git/commits/13ab8da6178b5a08445357c0bd1f54e2cf8bdbdc,13ab8da6178b5a08445357c0bd1f54e2cf8bdbdc,"fix #646, make compatible with jackson 2.9 (#701)

The constructor for AnnotatedParameter now takes another
parameter. Also the PropertyMetadata for a BeanProperty
needs to be set or we get NPE in the test cases. A few
other changes were made to clear up deprecation warnings."
brharrington,2017-10-03 20:42:56,https://api.github.com/repos/Netflix/atlas/git/commits/7e8f0a86ffa31f1224db1b31d114d446ae92bc56,7e8f0a86ffa31f1224db1b31d114d446ae92bc56,"fix early exit for Evaluator.createPublisher (#698)

When reading from a file or resource it should stop as
soon as the data has been consumed. When connecting to
a remote URI it is supposed to keep going. Before it was
stopping because the source would complete."
brharrington,2017-10-03 15:27:02,https://api.github.com/repos/Netflix/atlas/git/commits/170a73c7f85dd500e0d07d626630cac164fc6e58,170a73c7f85dd500e0d07d626630cac164fc6e58,"more test cases for FinalExprEval step (#697)

Adds some test cases for the FinalExprEval step of the
atlas-eval library. Could not reproduce #693."
brharrington,2017-10-02 15:01:45,https://api.github.com/repos/Netflix/atlas/git/commits/4490a9377cd2a700ed2875a9cce764b7dd1d131b,4490a9377cd2a700ed2875a9cce764b7dd1d131b,"akka 2.5.6 (#696)

Improves support for jdk9. Gets us closer to #695."
brharrington,2017-09-24 20:23:57,https://api.github.com/repos/Netflix/atlas/git/commits/25fe6b6e2a1d27c820880df2cc08c313e3d60f96,25fe6b6e2a1d27c820880df2cc08c313e3d60f96,"send exceptions from db back to sender (#692)

This should fix #684. Before the exception was getting
ignored leaving the user to wait for a timeout and not
providing any context.

As a side note this was already resolved in some of the
internal wrappers, this change makes it send back a
Failure type on exception to stay compatible with the
internal step and allow us to keep reducing the differences."
brharrington,2017-09-20 17:50:51,https://api.github.com/repos/Netflix/atlas/git/commits/abf547cf15148f10d8ef98aea623493408357b04,abf547cf15148f10d8ef98aea623493408357b04,"custom map wrapper to improve get performance (#691)

For some use-cases when feeding into streaming evaluator
there are a lot of get calls on the underlying tag maps
for the datapoints. This change adds a custom map wrapper
that maps the `get(key)` call on the java map to the
`getOrNull(key)` on the SmallHashMap. This avoids the
allocation of the Option when using the default scala
wrapper."
brharrington,2017-09-20 15:59:34,https://api.github.com/repos/Netflix/atlas/git/commits/b4792a78df66b7a2995cb0001695af4c925689fb,b4792a78df66b7a2995cb0001695af4c925689fb,"explicit error for unsupported expressions (#690)

Some operations like `:offset` are not supported when
performing a streaming evaluaton. These will now result
in an error for that expression being propagated back
to the user."
brharrington,2017-09-20 00:50:23,https://api.github.com/repos/Netflix/atlas/git/commits/a04967921bace1fead117eaae8c159367ab4228a,a04967921bace1fead117eaae8c159367ab4228a,"add counters tracking the number of events (#689)

Tracks the number of events seen during various phases
of the evaluation pipeline. The phase id is prefixed
so the group by will be ordered in the same manner as
they occur in the flow."
brharrington,2017-09-19 21:46:40,https://api.github.com/repos/Netflix/atlas/git/commits/95149e528a3d0250a69256647a3142eb3f43e710,95149e528a3d0250a69256647a3142eb3f43e710,"reduce thread contention in SubscriptionManager (#688)

Refactors the subscription manager to make the updates
cheaper and minimize the synchronization that is needed.
Now the only synchronization is to ensure the that the
cleanup for the sub handlers map will not have a race
condition with adding new handlers.

This change also avoids the more costly computation of
the subscription handlers from the registration map. On
a test node with real traffic it significantly reduced
the CPU and thread contention observed."
ruchirj,2017-09-19 17:53:21,https://api.github.com/repos/Netflix/atlas/git/commits/e98680211528e8dd87406ea3b33b51ce177cd0d0,e98680211528e8dd87406ea3b33b51ce177cd0d0,"Merge pull request #687 from brharrington/subscribe-perf

improve performance for bulk subscribe"
brharrington,2017-09-19 17:46:05,https://api.github.com/repos/Netflix/atlas/git/commits/403299b90c15d6131b5e19f4200027c56f88654a,403299b90c15d6131b5e19f4200027c56f88654a,"improve performance for bulk subscribe

When creating a subscription with many expressions, the
`updateSubHandlers()` method in the subscription manager
is quite expensive. Before, the subscribe api would end
up calling this once per expression, now it will only
call it once."
brharrington,2017-09-19 00:02:28,https://api.github.com/repos/Netflix/atlas/git/commits/589a954393acf4431ad1620b5063155f8935e97d,589a954393acf4431ad1620b5063155f8935e97d,"sbt 1.0.2 (#686)

Fixes terminal echo issue."
brharrington,2017-09-19 00:02:08,https://api.github.com/repos/Netflix/atlas/git/commits/28407d0982d094286fa34a21add72c590fa2ac56,28407d0982d094286fa34a21add72c590fa2ac56,"add configuration option for allowed cors origins (#685)

Adds the `atlas.akka.cors-host-patterns` setting that can
be used to set an eplicit whitelist of origins that are
allowed to receive CORS headers.

Also adds `Access-Control-Allow-Credentials` for use-cases
that need to work with cookies."
ruchirj,2017-09-18 22:38:34,https://api.github.com/repos/Netflix/atlas/git/commits/25a7e9a07a556521ad236c4ac511228684a4f264,25a7e9a07a556521ad236c4ac511228684a4f264,"use debug log level for instance changes (#683)

The info level is a bit noisy when there are regular
deployments."
brharrington,2017-09-16 03:36:43,https://api.github.com/repos/Netflix/atlas/git/commits/6e47d09e860bba3c8bc53e2e1c0fb0910fc363a5,6e47d09e860bba3c8bc53e2e1c0fb0910fc363a5,"more consistent use of access logger (#682)

Use access logger for all client requests made
during the eval."
brharrington,2017-09-16 01:46:17,https://api.github.com/repos/Netflix/atlas/git/commits/4b1ba1704b5f4dc545928d793e9f0e8a37d9806a,4b1ba1704b5f4dc545928d793e9f0e8a37d9806a,"cleanup unused client param (#681)

The client is retrieved from the context now so
nothing is using this client."
brharrington,2017-09-16 00:19:46,https://api.github.com/repos/Netflix/atlas/git/commits/4a62c262343084e5241760f564de33a8d63c0ab8,4a62c262343084e5241760f564de33a8d63c0ab8,"neo-sbt-scalafmt 1.12 (#680)

Fixes the warnings like:

```
Warning: Unknown Scalafmt version 1.2.0; using 1.0 interface
```"
brharrington,2017-09-15 20:38:12,https://api.github.com/repos/Netflix/atlas/git/commits/03a83c63fd0fa292951deb749163cfd25f0e5def,03a83c63fd0fa292951deb749163cfd25f0e5def,"improve error handling for final eval step (#679)

Addresses three problems with the final eval step:

1. Errors parsing the expression will now get sent to back
   as a diagnostic message on the stream.
2. Any errors that occur when running the evaluation on
   a set of data will now get sent to the user as a
   diagnostic message.
3. Fixes the no data behavior to match the backend. Before
   it would result in an exception during evaluation instead
   of a no data line."
brharrington,2017-09-15 16:33:14,https://api.github.com/repos/Netflix/atlas/git/commits/d45a1331e90e42648e0b9717f0df88fc0008e071,d45a1331e90e42648e0b9717f0df88fc0008e071,"Evaluator.main stops immediately (#678)

The source would stop as soon as the input was processed
and then main would complete. This change adds a repeat
to keep it going until the user decides to stop the process."
brharrington,2017-09-14 01:42:42,https://api.github.com/repos/Netflix/atlas/git/commits/5f21543c8db89e55e6da2c46d773df3579fe22fa,5f21543c8db89e55e6da2c46d773df3579fe22fa,"remove unused ref to subscribe actor (#677)

The actor was removed in #671."
brharrington,2017-09-14 01:42:21,https://api.github.com/repos/Netflix/atlas/git/commits/0f80da24a57b36db685c9fbcc7ba616712f663d0,0f80da24a57b36db685c9fbcc7ba616712f663d0,"change DataSources constructor to take a set (#676)

The constructor was widened to take a Collection instead
of a Set, but this causes binary compatibility issues."
brharrington,2017-09-13 14:01:06,https://api.github.com/repos/Netflix/atlas/git/commits/b36698b6bfc6556cda05e2dd8b005ceb7322e11b,b36698b6bfc6556cda05e2dd8b005ceb7322e11b,"do not assume stream path for backend (#675)

There are multiple paths that will get used now
and the components already know the correct path
for what they are doing. Currently this causes
a problem for the SubscriptionManager because
it is posting to `/stream/$id/subscribe` instead
of `/subscribe`."
brharrington,2017-09-12 03:45:29,https://api.github.com/repos/Netflix/atlas/git/commits/17222505c2b1bb9388f6117404f42f1b541f37ca,17222505c2b1bb9388f6117404f42f1b541f37ca,"fix #576, reuse connections to instances (#674)

Refactors the eval library to share the Eureka lookups
and maintain a single long-term connection to each LWC
instance."
brharrington,2017-09-07 16:40:01,https://api.github.com/repos/Netflix/atlas/git/commits/b6cac6f9f6ff9598a66dc825d2493da5e67fe029,b6cac6f9f6ff9598a66dc825d2493da5e67fe029,"add test case for syncing multiple expressions (#673)

Additional test case for syncing multiple expressions
with the `/v1/subscribe` api. Fixes the set of removed
ids to be computed across all expressions rather than
individually for each split."
brharrington,2017-09-07 15:50:11,https://api.github.com/repos/Netflix/atlas/git/commits/e49e0fcde9b1f3df47963099fdf11437a8791a4d,e49e0fcde9b1f3df47963099fdf11437a8791a4d,"sync the set of expressions for subscribe requests (#672)

Before when using `/v1/subscribe` the set of expressions
would keep growing. Now the set of expressions will be
synced with the list provided. The user is responsible for
keeping track of the list of needed expressions."
brharrington,2017-09-07 15:23:54,https://api.github.com/repos/Netflix/atlas/git/commits/bb51417d949115f06fe0ae609b530370193f0848,bb51417d949115f06fe0ae609b530370193f0848,"fix 503 after first subscribe request (#671)

The SubscribeActor was shutting itself down after
the first messages and thus wasn't available for
any subsequent requests. This actor isn't really
needed and just added complexity so this has been
folded into the SubscribeApi."
brharrington,2017-09-07 00:07:26,https://api.github.com/repos/Netflix/atlas/git/commits/768171247bf8a02c1e5b903fe6c01b929b524e42,768171247bf8a02c1e5b903fe6c01b929b524e42,remove ignored `pass` directive (#670)
brharrington,2017-09-05 22:58:10,https://api.github.com/repos/Netflix/atlas/git/commits/984f57a49ed48a2d4cf75a22422f14ca42b78b0e,984f57a49ed48a2d4cf75a22422f14ca42b78b0e,"cleanup log messages for added and removed sources (#669)

Before the log line would get really long and unweildy
if there were a lot of sources added or removed. Now
the info level log will just show the overall number and
debug level if enabled will show the individual sources
as separate entries."
brharrington,2017-09-01 23:55:15,https://api.github.com/repos/Netflix/atlas/git/commits/684d62c8c3f1d59d789b269a222030bf158b76f1,684d62c8c3f1d59d789b269a222030bf158b76f1,"add simple main to Evaluator for debug uses (#668)

The usage is:

```
$ cat uris.txt | project/sbt ""atlas-eval/run additional.conf""
```"
brharrington,2017-09-01 20:28:16,https://api.github.com/repos/Netflix/atlas/git/commits/d86907ac3c3836b420abada06330fc2d59d59101,d86907ac3c3836b420abada06330fc2d59d59101,"disable size limit on stream response (#667)

Since these are meant to be long lived, there should
not be a bound on the max size of the stream."
brharrington,2017-09-01 04:51:01,https://api.github.com/repos/Netflix/atlas/git/commits/35a767a0689e76e6fc1948d7ea81181ecd9ad4de,35a767a0689e76e6fc1948d7ea81181ecd9ad4de,"scalafmt config to help ensure consistency (#666)

This is being used on some of the internal projects
across the team. Should help with consistency, but
makes it harder to investigate the git history because
of all the changes for the initial format. To avoid
that problem in the future the format is checked as
part of the PR build."
zimmermatt,2017-09-01 03:07:46,https://api.github.com/repos/Netflix/atlas/git/commits/16eb4fa607263468c46f9bdea5df63722c43f5f6,16eb4fa607263468c46f9bdea5df63722c43f5f6,"fixes #19, differentiate error graph images (#665)

I altered the error graph image returned to differentiate user vs
system errors following suggested approaches to accommodate color
blindness. The approach differentiates via the prefix text and colors
that should be non-ambiguous. I uploaded the test images with sample
text to http://www.color-blindness.com/coblis-color-blindness-simulator/
in order to get an idea of what those with varying types of color
blindness would see in order to validate the differentiation."
brharrington,2017-08-31 20:06:06,https://api.github.com/repos/Netflix/atlas/git/commits/5fbe43a0693bed524938ac8b0eb57963111cb177,5fbe43a0693bed524938ac8b0eb57963111cb177,"akka-http 10.0.10 (#664)

Fixes race condition with the idle timeout on the
host connection pool (akka/akka-http#1245)."
brharrington,2017-08-31 02:53:28,https://api.github.com/repos/Netflix/atlas/git/commits/afe5254befb20501f498ca900b95154060c4d275,afe5254befb20501f498ca900b95154060c4d275,"sbt 1.0.1 (#662)

Fixes some minor issues, unfortunately just running
`project/sbt` will still leave the terminal in a bad
state. Need to create a minimal example and report."
brharrington,2017-08-31 02:53:12,https://api.github.com/repos/Netflix/atlas/git/commits/f71934c578958f746af3f948f966e50a4c7c9ab7,f71934c578958f746af3f948f966e50a4c7c9ab7,"make ShardsSuite more resilient to false positives (#661)

Updates the checks for uniform distribution of the ids to
compare the average with the min and the max rather than
comparing the min to the max. In rare cases we were seeing
the min being over the 10% threshold to the max.

Fixes #660."
brharrington,2017-08-30 22:50:56,https://api.github.com/repos/Netflix/atlas/git/commits/a86f5c63d40e16f7dbc8e0e612b8367604525fa4,a86f5c63d40e16f7dbc8e0e612b8367604525fa4,log4j 2.9.0
brharrington,2017-08-30 22:50:25,https://api.github.com/repos/Netflix/atlas/git/commits/7e59c21f3a798b997cb1ee91d71c781166a09d3b,7e59c21f3a798b997cb1ee91d71c781166a09d3b,aws-java-sdk 1.11.185
brharrington,2017-08-30 22:49:07,https://api.github.com/repos/Netflix/atlas/git/commits/f532fbc01603c66f2df1e41356d963e89f1a123d,f532fbc01603c66f2df1e41356d963e89f1a123d,roaringbitmap 0.6.51
brharrington,2017-08-30 22:48:34,https://api.github.com/repos/Netflix/atlas/git/commits/deffe6991cda157817ef9dae9730a4959349655a,deffe6991cda157817ef9dae9730a4959349655a,caffeine 2.5.5
brharrington,2017-08-30 22:46:18,https://api.github.com/repos/Netflix/atlas/git/commits/d05bb71027ea8b5c4843ec411fdfab5c8e979521,d05bb71027ea8b5c4843ec411fdfab5c8e979521,joda convert 1.8.3
brharrington,2017-08-30 22:37:08,https://api.github.com/repos/Netflix/atlas/git/commits/b81fa14d3d47633de2d8dabdd6fe2a211da0c9be,b81fa14d3d47633de2d8dabdd6fe2a211da0c9be,akka 2.5.4
brharrington,2017-08-30 22:36:21,https://api.github.com/repos/Netflix/atlas/git/commits/cfd77cab4cf52b25602b81904f9b1e8a64abeb2f,cfd77cab4cf52b25602b81904f9b1e8a64abeb2f,equalsverifier 2.3.3
brharrington,2017-08-30 22:35:38,https://api.github.com/repos/Netflix/atlas/git/commits/44ba6572dfc96b2edff59027287b3828ba43845a,44ba6572dfc96b2edff59027287b3828ba43845a,jackson 2.8.9
brharrington,2017-08-30 22:34:43,https://api.github.com/repos/Netflix/atlas/git/commits/33d730baffb9eaf25d30387eb5a560c22ea47024,33d730baffb9eaf25d30387eb5a560c22ea47024,iep 1.0.4
brharrington,2017-08-30 22:34:16,https://api.github.com/repos/Netflix/atlas/git/commits/916627d2439b59ce4e71704035d105d17c7e3b2c,916627d2439b59ce4e71704035d105d17c7e3b2c,scalatest 3.0.4
brharrington,2017-08-30 22:32:46,https://api.github.com/repos/Netflix/atlas/git/commits/0995a0d3df6ee4ff82f9e021eadec4f3b962e6df,0995a0d3df6ee4ff82f9e021eadec4f3b962e6df,scala-logging 3.7.2
brharrington,2017-08-30 22:39:16,https://api.github.com/repos/Netflix/atlas/git/commits/735a1c8b36ac5ae3d3a7d3131a3c4af4e8ebb598,735a1c8b36ac5ae3d3a7d3131a3c4af4e8ebb598,"recover from errors on response source (#658)

The LWC HostSource was not recovering if there was
a failure on the entity source from the response. This
would cause the overall stream to fail and stop producing
data. With this change the error will get logged and it
will get retried like any other failure."
brharrington,2017-08-30 16:52:15,https://api.github.com/repos/Netflix/atlas/git/commits/5b4654f326edae22b743b0fa4d348a47719e2624,5b4654f326edae22b743b0fa4d348a47719e2624,"refactor sub manager to ensure cleanup works (#657)

Updates the subscription manager to it is also tracking
the expressions. The expression database classes are no
longer needed and were removed. This change makes it
easier to ensure that all resources for a given stream
will be properly cleaned up when the connection goes
away.

Fixes #651."
brharrington,2017-08-29 19:46:04,https://api.github.com/repos/Netflix/atlas/git/commits/7879a068f4db4f4289173cc53fcff70c0985776e,7879a068f4db4f4289173cc53fcff70c0985776e,"update ids for lwc to be consistent with metrics (#656)

Changes the id strings used for lwc expressions to be
more consistent with how metric ids are generated."
brharrington,2017-08-29 19:33:00,https://api.github.com/repos/Netflix/atlas/git/commits/1b8066c57a2bd5af91aec281448c252687928c19,1b8066c57a2bd5af91aec281448c252687928c19,"remove GlobalUUID cruft (#655)

This is left over from when redis was used in earlier
versions."
brharrington,2017-08-29 17:46:40,https://api.github.com/repos/Netflix/atlas/git/commits/fc7659eebdc2183d0bbf0cfd34ccd91deafd0373,fc7659eebdc2183d0bbf0cfd34ccd91deafd0373,remove unused class TTLManager (#654)
brharrington,2017-08-25 20:22:32,https://api.github.com/repos/Netflix/atlas/git/commits/269a232ba85e6e125f0df9fc9dda95feed940b60,269a232ba85e6e125f0df9fc9dda95feed940b60,"support chaining with SmallHashMap.Builder (#653)

Updates the return types for `add` and `addAll` to
return the Builder so they can be chained."
brharrington,2017-08-25 19:52:06,https://api.github.com/repos/Netflix/atlas/git/commits/62ce53c0e1537e8c81806c53cebd3cae533f29b5,62ce53c0e1537e8c81806c53cebd3cae533f29b5,"fix endless loop for numProbesPerKey (#652)

This method was incorrectly using the data length rather
than the capacity when looping over the array. If a key
had a collision and was hashed to a position that was
larger than the data length, then it would be an endless
loop because the key entry would never be found."
brharrington,2017-08-12 15:20:30,https://api.github.com/repos/Netflix/atlas/git/commits/e0b32dfa7c4cff57420f88df4a7b3348d546f0ba,e0b32dfa7c4cff57420f88df4a7b3348d546f0ba,"update to spectator 0.57.1 (#648)

Fixes issues when running on jdk9:

```
Cause: java.lang.IllegalAccessException: access to public member failed: com.netflix.spectator.api.RegistryConfig.gaugePollingFrequency()Duration/invokeSpecial, from com.netflix.spectator.api.RegistryConfig/2 (unnamed module @7d3cb5af)
   at java.base/java.lang.invoke.MemberName.makeAccessException(MemberName.java:914)
   at java.base/java.lang.invoke.MethodHandles$Lookup.checkAccess(MethodHandles.java:2193)
   at java.base/java.lang.invoke.MethodHandles$Lookup.checkMethod(MethodHandles.java:2133)
   at java.base/java.lang.invoke.MethodHandles$Lookup.getDirectMethodCommon(MethodHandles.java:2282)
   at java.base/java.lang.invoke.MethodHandles$Lookup.getDirectMethodNoSecurityManager(MethodHandles.java:2276)
   at java.base/java.lang.invoke.MethodHandles$Lookup.unreflectSpecial(MethodHandles.java:1800)
   at com.netflix.spectator.impl.Config.lambda$createProxy$3(Config.java:131)
```"
brharrington,2017-08-12 15:10:15,https://api.github.com/repos/Netflix/atlas/git/commits/84c955b2d241ce515cac703078f98755921b2374,84c955b2d241ce515cac703078f98755921b2374,"update to sbt 1.0.0 (#647)

Requires updating a number of the sbt plugins
needed for publishing. These changes have been
verified in the iep project already.

Dropped some of the non-essential plugins that
are not yet compatible."
brharrington,2017-08-05 17:24:01,https://api.github.com/repos/Netflix/atlas/git/commits/e797f08d229e102c1f427754698b052743396fbb,e797f08d229e102c1f427754698b052743396fbb,"use built in text/event-stream media type (#645)

As of 10.0.8 akka-http supports the `text/event-stream`
media type. We no longer need it as a custom one."
brharrington,2017-08-05 17:11:16,https://api.github.com/repos/Netflix/atlas/git/commits/48a747a45a2ae149719c399d094a08ed43c7aebc,48a747a45a2ae149719c399d094a08ed43c7aebc,"handle :all expressions with streaming eval (#644)

There is a bigger discussion on whether we should
remove `:all`, but for now all DataExpr types should
be supported."
brharrington,2017-08-04 15:47:31,https://api.github.com/repos/Netflix/atlas/git/commits/0672badb98ffb93f2a8bf58c93fb432bd9c9b9b0,0672badb98ffb93f2a8bf58c93fb432bd9c9b9b0,"disable eviction warnings for update task (#643)

Trying to clean up some of the noise in the build
logs. No one is paying attention to these warnings
and if there is a real compatibility problem it
should be caught in tests or the integration
environment."
brharrington,2017-08-04 14:57:56,https://api.github.com/repos/Netflix/atlas/git/commits/54283e9e7bdb526f5da5859363069528bfd8d044,54283e9e7bdb526f5da5859363069528bfd8d044,"allow the local mapper with just group size (#642)

The local mapper doesn't actually need the full group
details just the size. Originally it took the group,
but there are a number of uses now that just create a
fake group with the right size."
brharrington,2017-08-02 22:29:57,https://api.github.com/repos/Netflix/atlas/git/commits/5e2aef432d448cf842173e7dba437e4fbcb677c7,5e2aef432d448cf842173e7dba437e4fbcb677c7,"fix prefix for SQS message size metric (#641)

s/sns/sqs/"
brharrington,2017-08-02 15:09:42,https://api.github.com/repos/Netflix/atlas/git/commits/5adf6d7d78b8682b48482d9a83b91d188ccb28fe,5adf6d7d78b8682b48482d9a83b91d188ccb28fe,"docs: fix links for deuteranopia and deuteranomaly (#640)

They were linking to the wrong sub-sections."
brharrington,2017-08-01 17:29:49,https://api.github.com/repos/Netflix/atlas/git/commits/00e5c8a2c1ca2639a4c6f1b20c8b8aa62d4e7438,00e5c8a2c1ca2639a4c6f1b20c8b8aa62d4e7438,"update default path pattern for StreamSupervisor (#639)

We sometimes see paths for the stream supervisor that look
like:

```
akka://test/user/StreamSupervisor-99961
```

This creates a lot of ids which aren't that useful. This
change updates the default pattern to just extract the
prefix and ignore the counter at the end. So activity for
all stream supervisors will show up as a single metric."
brharrington,2017-08-01 00:46:30,https://api.github.com/repos/Netflix/atlas/git/commits/8c807ee9c53c37d5be4a46eb51cb18d96228b6e5,8c807ee9c53c37d5be4a46eb51cb18d96228b6e5,"fix key for adding tags to dynamodb errors (#638)

The key in the configuration was singular instead of
plural. Need to think about a better way to validate
this in the future."
brharrington,2017-07-28 18:14:16,https://api.github.com/repos/Netflix/atlas/git/commits/0d373a12fadb2489350286b0b4c42745056c458e,0d373a12fadb2489350286b0b4c42745056c458e,"add helper for simple shard mapping (#637)

Move over the internal helper utility for mapping data
to a set of instances. This is typically used with a
service like edda that maintains stable slotting for
instances within auto-scaling groups. These simple
schemes are preferred for the core monitoring system
to avoid dependencies on complex infrastructure like
zookeeper that are prone to having correlated failure
with the key systems we need to monitor."
brharrington,2017-07-28 00:20:55,https://api.github.com/repos/Netflix/atlas/git/commits/16421f09dc104862e16b4f7d8f45c7c04e2fab4e,16421f09dc104862e16b4f7d8f45c7c04e2fab4e,"update to scala 2.12.3 (#636)

It is supposed to have improved compiler performance."
brharrington,2017-07-22 16:34:59,https://api.github.com/repos/Netflix/atlas/git/commits/61de4f09a7b7a2f74652b6377089d7ef4de15a94,61de4f09a7b7a2f74652b6377089d7ef4de15a94,"add mappings for application load balancer stats (#634)

Adds basic mappings for the ApplicationELB metrics in
CloudWatch. There was a bit of debate on whether the
LoadBalancer and TargetGroup dimensions should be kept
as is or extract the name and only show that. The ids
are rarely useful to the end user and add quite a bit
of noise when selecting in the UI. For now though we
just map the values in as they are provided in CloudWatch."
brharrington,2017-07-21 22:29:19,https://api.github.com/repos/Netflix/atlas/git/commits/1fe5d324fb3cf69c7f2da6f3cf475f83e6293168,1fe5d324fb3cf69c7f2da6f3cf475f83e6293168,"convert invalid characters for polled metrics (#633)

When using an alias with a lambda it will get encoded
as a `:alias` suffix on the resource dimension. Before
those stats were getting dropped as invalid."
brharrington,2017-07-21 21:03:12,https://api.github.com/repos/Netflix/atlas/git/commits/4b23695aa33aa181caa3b6bd429265c590bff54b,4b23695aa33aa181caa3b6bd429265c590bff54b,"fix unit for s3 request timers (#632)

The latency is in milliseconds and we were treating it
as seconds."
brharrington,2017-07-20 15:33:59,https://api.github.com/repos/Netflix/atlas/git/commits/4c7ff56da17fd0462194ec1506bf51baced164dd,4c7ff56da17fd0462194ec1506bf51baced164dd,"add mapping for s3 request metrics (#631)

Collect s3 request metrics if enabled. They need to get
enabled for a given bucket to be available."
brharrington,2017-07-13 22:17:14,https://api.github.com/repos/Netflix/atlas/git/commits/e283528a73c80c1ef2159d30c53fac2ff5689863,e283528a73c80c1ef2159d30c53fac2ff5689863,"improve error message when missing uri param (#630)

Fixes #574. Improves the error message returned if the
input URI is missing required parameters. It has also
been changed to get returned as a diagnostic message
as part of the stream so that a single bad URI will not
stop the processor for all evaluations."
brharrington,2017-07-04 17:17:45,https://api.github.com/repos/Netflix/atlas/git/commits/6c6204c09ab08f6cdfb52a534a30630ca8725c0f,6c6204c09ab08f6cdfb52a534a30630ca8725c0f,refresh dependencies (#627)
brharrington,2017-07-04 17:08:37,https://api.github.com/repos/Netflix/atlas/git/commits/3250f958ae9584d833baf7ce285c96c46c43bd63,3250f958ae9584d833baf7ce285c96c46c43bd63,jsr305 3.0.2
brharrington,2017-07-04 17:01:36,https://api.github.com/repos/Netflix/atlas/git/commits/c69cd4244b907640bbebf82c679e2b3e293d7fce,c69cd4244b907640bbebf82c679e2b3e293d7fce,spectator 0.56.0
brharrington,2017-07-04 16:59:54,https://api.github.com/repos/Netflix/atlas/git/commits/1fb621c99ebcb9c8286555370ec261c447ca460f,1fb621c99ebcb9c8286555370ec261c447ca460f,akka-http 10.0.9
brharrington,2017-07-04 16:55:15,https://api.github.com/repos/Netflix/atlas/git/commits/93c22365585d1d82a60cf63e3ed1e6f1c664ced2,93c22365585d1d82a60cf63e3ed1e6f1c664ced2,akka 2.5.3
brharrington,2017-07-04 16:52:29,https://api.github.com/repos/Netflix/atlas/git/commits/695c429bcf7411d23b413149f01a893d49b3539f,695c429bcf7411d23b413149f01a893d49b3539f,aws-java-sdk 1.11.158
brharrington,2017-07-04 16:51:39,https://api.github.com/repos/Netflix/atlas/git/commits/775706b0f38d6a88202901bf50220cfcde6bc567,775706b0f38d6a88202901bf50220cfcde6bc567,roaringbitmap 0.6.45
brharrington,2017-07-04 16:50:42,https://api.github.com/repos/Netflix/atlas/git/commits/dbc44532a4d8fc3c7416bab796e6f59dfcbf3029,dbc44532a4d8fc3c7416bab796e6f59dfcbf3029,equalsverifier 2.3.1
brharrington,2017-07-04 16:49:05,https://api.github.com/repos/Netflix/atlas/git/commits/ef312e767eca835dac40b2c1fc426675279c4ac1,ef312e767eca835dac40b2c1fc426675279c4ac1,iep 1.0.2
brharrington,2017-06-29 22:24:03,https://api.github.com/repos/Netflix/atlas/git/commits/6dc5e10e9d5edc3ddbb4e89702497383ed9a83c6,6dc5e10e9d5edc3ddbb4e89702497383ed9a83c6,"update merge to also dedup the list (#626)

For the use-cases we care about the input list will
already be sorted and uniqued. This fixes the merge
to also remove duplicate values across the lists."
brharrington,2017-06-29 21:29:14,https://api.github.com/repos/Netflix/atlas/git/commits/2e98374fcbc2bdb5c7030613609b0bc4d1fc25c5,2e98374fcbc2bdb5c7030613609b0bc4d1fc25c5,"helper for merging sorted lists (#625)

Broken off from larger effort that is still in-progress.
Basic helper utility for merging a collection of sorted
lists. One such use-case is merging tag list results
coming back from many shards."
brharrington,2017-06-29 16:34:41,https://api.github.com/repos/Netflix/atlas/git/commits/7e7d093b8b8e63768f4a31650860e738dff22b35,7e7d093b8b8e63768f4a31650860e738dff22b35,"fix error when rendering with a long time range (#624)

When trying to render a chart with a long time range
a NoSuchElementException would result if the graph
width was too small. Sample exception below:

```
java.util.NoSuchElementException: head of empty list
	at scala.collection.immutable.Nil$.head(List.scala:428) ~[scala-library-2.12.2.jar:?]
	at scala.collection.immutable.Nil$.head(List.scala:425) ~[scala-library-2.12.2.jar:?]
	at com.netflix.atlas.chart.graphics.Ticks$.time(Ticks.scala:265) ~[atlas-chart_2.12-1.6.0-SNAPSHOT.jar:1.6.0-SNAPSHOT]
```

The cause is that there were no options for meeting
the desired number of major ticks given the options
for timeTickSizes. This change uses a simpler selection
method with just major ticks for longer ranges setting
it to the name of the month or year."
brharrington,2017-06-20 18:05:17,https://api.github.com/repos/Netflix/atlas/git/commits/be4cd8b1b4899a3623167b66f08f7968df676cf3,be4cd8b1b4899a3623167b66f08f7968df676cf3,"add :clamp-min and :clamp-max (#623)

Allows the user to restrict the min and max values of
the input respectively. The most common use-case motivating
this is to be able to support a bounded auto-scaling for
data on an axis. The axis lower and upper limits are either
explicit or automatic. These operators give more flexiblity
and can be set for a given line to tune its behavior.

Name was chosen to match the same operators in Promoetheus."
brharrington,2017-06-19 15:17:12,https://api.github.com/repos/Netflix/atlas/git/commits/1b4d0aaa4da02d80588e559e917c9c5e1f328dce,1b4d0aaa4da02d80588e559e917c9c5e1f328dce,"cache most recent datapoints from cloudwatch (#621)

In some cases if there are a lot of cloudwatch metrics,
then the polling can start to get throttled and cannot
keep up at the desired rate. This can cause spotty reporting
until the limit can get raised or the poller config is
changed to be less aggressive. To minimize the visibility
pf the problem for a user consuming the metric the last
datapoint is now cached and the reported value comes
from the local cache.

This does mean that when such a problem is happening the wrong
value might be propagated for several minutes. From recent
testing though in the more typical case it avoids confusion
more often until there is a better way to access cloudwatch
data. If it is a big concern the ttl can be configured to a
smaller value."
brharrington,2017-06-19 14:48:36,https://api.github.com/repos/Netflix/atlas/git/commits/346e9c6e71b95e7227131842ecc5a3af6da36841,346e9c6e71b95e7227131842ecc5a3af6da36841,"add mapping for ApproximateAgeOfOldestMessage (#620)

New SQS metric that was added a while back:

https://aws.amazon.com/about-aws/whats-new/2016/08/new-amazon-cloudwatch-metric-for-amazon-sqs-monitors-the-age-of-the-oldest-message/"
brharrington,2017-06-15 20:18:20,https://api.github.com/repos/Netflix/atlas/git/commits/66439f16385c6bd1b2af1656269f42aa24e8d65a,66439f16385c6bd1b2af1656269f42aa24e8d65a,"fix IllegalFormatConversionException (#619)

Illegal conversion when trying to access the group by
key for a data expression.

```
java.util.IllegalFormatConversionException: x != com.netflix.atlas.core.model.ItemId
	at java.util.Formatter$FormatSpecifier.failConversion(Formatter.java:4302)
	at java.util.Formatter$FormatSpecifier.printInteger(Formatter.java:2793)
	at java.util.Formatter$FormatSpecifier.print(Formatter.java:2747)
	at java.util.Formatter.format(Formatter.java:2520)
	at java.util.Formatter.format(Formatter.java:2455)
	at java.lang.String.format(String.java:2940)
	at scala.collection.immutable.StringLike.format(StringLike.scala:351)
	at scala.collection.immutable.StringLike.format$(StringLike.scala:350)
	at scala.collection.immutable.StringOps.format(StringOps.scala:29)
	at com.netflix.atlas.core.model.DataExpr.groupByKey(DataExpr.scala:35)
```"
brharrington,2017-06-13 17:36:25,https://api.github.com/repos/Netflix/atlas/git/commits/938edd604093f6a8b5d900ffa1f8a777aab5accd,938edd604093f6a8b5d900ffa1f8a777aab5accd,docs: add Roy's presentation from Monitorama (#618)
brharrington,2017-06-06 16:38:46,https://api.github.com/repos/Netflix/atlas/git/commits/4e73843d683d6177864cfe5696c6b0e626c93a8e,4e73843d683d6177864cfe5696c6b0e626c93a8e,refresh dependencies (#617)
brharrington,2017-06-06 16:27:19,https://api.github.com/repos/Netflix/atlas/git/commits/45b0f76db0c02bb7d12367a1f7e22b1ae25cd7f6,45b0f76db0c02bb7d12367a1f7e22b1ae25cd7f6,iep 1.0.1
brharrington,2017-06-06 15:09:32,https://api.github.com/repos/Netflix/atlas/git/commits/65d70d100cf48cf9e03a64de2c77d740f60fb67c,65d70d100cf48cf9e03a64de2c77d740f60fb67c,"akka 2.5.2

Note, there was a signature change to `FileIO.toPath`
causing the build to break. Looks like the type for
the set of options was changed leading to:

```
Error:(115, 34) type mismatch;
 found   : scala.collection.immutable.Set[java.nio.file.StandardOpenOption]
 required: Set[java.nio.file.OpenOption]
Note: java.nio.file.StandardOpenOption <: java.nio.file.OpenOption, but trait Set is invariant in type A.
You may wish to investigate a wildcard type such as `_ <: java.nio.file.OpenOption`. (SLS 3.2.10)
      .toMat(FileIO.toPath(file, options))(Keep.right)
```"
brharrington,2017-06-06 15:08:59,https://api.github.com/repos/Netflix/atlas/git/commits/d080359c13cf822cb388d72719818d103f873c5a,d080359c13cf822cb388d72719818d103f873c5a,akka-http 10.0.7
brharrington,2017-06-06 15:08:36,https://api.github.com/repos/Netflix/atlas/git/commits/ea8db2b88947bb3be21231d34a4d11cbb6ea6eb8,ea8db2b88947bb3be21231d34a4d11cbb6ea6eb8,"fix spelling in publish-test script (#616)

s/anwser/answer/"
brharrington,2017-06-06 15:07:49,https://api.github.com/repos/Netflix/atlas/git/commits/8a75a599f2c58730cdb40ec104113a3bb4d3188d,8a75a599f2c58730cdb40ec104113a3bb4d3188d,jol-core 0.8
brharrington,2017-06-06 15:06:49,https://api.github.com/repos/Netflix/atlas/git/commits/bbd4a62cbcc3d54b12d8876a6f4420938c8d4b8f,bbd4a62cbcc3d54b12d8876a6f4420938c8d4b8f,sbt-jmh 0.2.25
brharrington,2017-06-06 15:05:31,https://api.github.com/repos/Netflix/atlas/git/commits/975785a7eb569d5c5a5bc7f53374ccda9502d36e,975785a7eb569d5c5a5bc7f53374ccda9502d36e,caffeine 2.5.2
brharrington,2017-06-06 15:04:46,https://api.github.com/repos/Netflix/atlas/git/commits/0e83daca73dc823cc6d35c0d2914c84293111c8e,0e83daca73dc823cc6d35c0d2914c84293111c8e,equalsverifier 2.3
brharrington,2017-06-06 15:04:05,https://api.github.com/repos/Netflix/atlas/git/commits/41385337f250e2262687bef1ed6401a6ec3a3739,41385337f250e2262687bef1ed6401a6ec3a3739,log4j 2.8.2
brharrington,2017-06-06 15:01:27,https://api.github.com/repos/Netflix/atlas/git/commits/81e3e372d88bc114b6c406e3e31454b4f93745b8,81e3e372d88bc114b6c406e3e31454b4f93745b8,aws-java-sdk 1.11.133
brharrington,2017-06-06 14:43:39,https://api.github.com/repos/Netflix/atlas/git/commits/4985299736402a59a84788afebde8de4fcbee98f,4985299736402a59a84788afebde8de4fcbee98f,"add more test cases for cors (#615)

Add some test cases for cors on error responses. There was
a report CORS headers were not added to errors. That does
not seem to be the case. Most likely they did not handle
the rejections and the filter was not applied to the error."
brharrington,2017-06-06 04:40:21,https://api.github.com/repos/Netflix/atlas/git/commits/c3964ca78c48ed49bbd6fffe76279745754aadd3,c3964ca78c48ed49bbd6fffe76279745754aadd3,docs: update to recommend 1.5.3 (#614)
brharrington,2017-06-03 17:00:09,https://api.github.com/repos/Netflix/atlas/git/commits/0dfb445cc198da5967a46567cf644312e6c3f93c,0dfb445cc198da5967a46567cf644312e6c3f93c,"fix warnings about adapting argument list to tuple (#611)

The usage of the parameters directive was giving warnings
like:

```
Warning:(48, 17) Adapting argument list by creating a 3-tuple: this may not be what you want.
        signature: ParameterDirectives.parameters(pdm: akka.http.scaladsl.server.directives.ParameterDirectives.ParamMagnet): pdm.Out
  given arguments: scala.Symbol(""name"").$qmark, scala.Symbol(""expression"").$qmark, scala.Symbol(""frequency"").$qmark
 after adaptation: ParameterDirectives.parameters((scala.Symbol(""name"").$qmark, scala.Symbol(""expression"").$qmark, scala.Symbol(""frequency"").$qmark): akka.http.scaladsl.server.directives.ParameterDirectives.ParamMagnet{type Out = akka.http.scaladsl.server.Directive[(Option[String], Option[String], Option[String])]})
      parameters('name.?, 'expression.?, 'frequency.?) { (name, expr, frequency) =>
```

It is easy to fix, though previous usage does seem to be
inline with examples from docs:

http://doc.akka.io/docs/akka-http/10.0.7/scala/http/routing-dsl/directives/parameter-directives/parameters.html#optional-parameter-with-default-value"
brharrington,2017-06-03 16:48:13,https://api.github.com/repos/Netflix/atlas/git/commits/43df9ee2d52087a76b7609f152bc1afc635f8d60,43df9ee2d52087a76b7609f152bc1afc635f8d60,"fix deprecation warning for use of actor publisher (#610)

There are a few more of these in other parts of the code,
but they are a bit more involved to cleanup. Will look at
those later."
brharrington,2017-06-03 04:21:56,https://api.github.com/repos/Netflix/atlas/git/commits/a08e04c94a94dd2bc7faebf15c82f55baf6c2bd9,a08e04c94a94dd2bc7faebf15c82f55baf6c2bd9,"use hash code to short-circuit equals check (#609)

Since the hash code is precomputed it can be a cheap
way to short circuit the equality check on the array."
brharrington,2017-06-02 22:57:24,https://api.github.com/repos/Netflix/atlas/git/commits/5b912918b3738ded485fd74cac4763a666005888,5b912918b3738ded485fd74cac4763a666005888,"add test case for decoding datapoint (#608)

Make sure encoding/decoding of datapoint works as
expected."
brharrington,2017-06-02 22:47:33,https://api.github.com/repos/Netflix/atlas/git/commits/c0bb87a06a4f6c0b9d08120ece832763610df98a,c0bb87a06a4f6c0b9d08120ece832763610df98a,"skip value associated with unknown fields (#607)

If an unknown object field was used in a datapoint it
would result in a NullPointerException by prematurely
closing hitting the end of object."
brharrington,2017-06-02 20:56:36,https://api.github.com/repos/Netflix/atlas/git/commits/edaaaacd82f469a71227f26605e65b7fbc803bde,edaaaacd82f469a71227f26605e65b7fbc803bde,"change ids to custom class (#606)

Before the ids were just a BigInteger. This was mostly
for convenience and it was an easy starting point for
some modifications.

Flame graphs of stateful clusters for some stacks are
showing a significant about of time being spent computing
the hash code for the ids when looking up the blocks. The
custom class in this change uses a precomputed hash code
so that it will be constant time."
brharrington,2017-06-02 20:19:12,https://api.github.com/repos/Netflix/atlas/git/commits/4f54d00e631e3804759cfcd08a936fa6540cf5b8,4f54d00e631e3804759cfcd08a936fa6540cf5b8,"fix regex matching when prefix is an exact match (#605)

When searching for the prefix it was looking for the postion
of the first match that was strictly greater than the prefix.
For cases where the prefix is an exact match to the full value
they would not match. The search now checks for the first
match that is greater than or equal to the prefix."
brharrington,2017-05-31 01:50:06,https://api.github.com/repos/Netflix/atlas/git/commits/9cc4292fd50a09b53b005c6cd129a5963a6e9034,9cc4292fd50a09b53b005c6cd129a5963a6e9034,"fix warning for offset (#604)

s/var/val/."
brharrington,2017-05-31 01:28:26,https://api.github.com/repos/Netflix/atlas/git/commits/7cfcc2c5e4334f4d59e3fb8720d1d6be40eaa499,7cfcc2c5e4334f4d59e3fb8720d1d6be40eaa499,"fix multi-threaded reads from long set/map (#603)

Several use-cases of the primitive collections assume
multi-threaded read-only access is safe after the collection
is built and effectively immutable. That is nothing will
ever write to it again. The variants with a Long key type
use an internal buffer to avoid allocations when passing
the long value to `MurmurHash3.bytesHash`. The multi-threaded
access could result in errors such as BufferOverflowException
on the buffer.

This changes those collections to use a ThreadLocal for keeping
track of the buffers."
brharrington,2017-05-30 15:41:04,https://api.github.com/repos/Netflix/atlas/git/commits/36f537c49476321a21101df0df54b0a9cefceff9,36f537c49476321a21101df0df54b0a9cefceff9,"update findKeys to just return the strings (#602)

Before it was wrapping the string in a TagKey type that
could also provide counts for each key. Since this isn't
supported or used anymore we can avoid the additional
allocations. Also most use-cases were just mapping it
back to strings after getting the response."
brharrington,2017-05-29 21:51:01,https://api.github.com/repos/Netflix/atlas/git/commits/38640103d25cd18a17108bb0bdc9a76c4e7c2a5c,38640103d25cd18a17108bb0bdc9a76c4e7c2a5c,"improve tag query performance (#601)

Drops support for counts in the index and does some
initial work to simplify and improve performance. For
a lot of the common use-cases we see a 2-3x improvement:

**Before**

```
Benchmark           Mode  Cnt     Score     Error  Units
create             thrpt   10    13.210    1.041  ops/s
findKeysAll        thrpt   10  4646.344  176.685  ops/s
findKeysQuery      thrpt   10   450.728   39.296  ops/s
findValuesAllMany  thrpt   10   739.919   41.530  ops/s
findValuesAllOne   thrpt   10  2194.050  248.351  ops/s
```

**After**

```
Benchmark           Mode  Cnt        Score        Error  Units
create             thrpt   10       20.270       0.798  ops/s
findKeysAll        thrpt   10  6382544.499  353321.426  ops/s
findKeysQuery      thrpt   10     1118.262     370.960  ops/s
findValuesAllMany  thrpt   10     3849.128     416.156  ops/s
findValuesAllOne   thrpt   10     4485.419     424.741  ops/s
```

Some of the primitive collections have also been adjusted
to use murmur hash instead of `Long.hashCode(v)` because
the collision rate was way to high. This adds a bit of
memory overhead because we copy the value into a
pre-allocated byte buffer to reuse the murmur hash
implementation provided in the scala std library."
brharrington,2017-05-27 18:10:52,https://api.github.com/repos/Netflix/atlas/git/commits/51f676bb5c9cadfad9316af01212a18ee9ef06e3,51f676bb5c9cadfad9316af01212a18ee9ef06e3,"drop cross build for 2.11 (#600)

We have been running on 2.12 for a while now
and internal builds and deployments are mostly
on 2.12 now. The few stragglers are using the
1.5.x Atlas builds which is 2.11.x only and that
will not change."
brharrington,2017-05-27 18:01:53,https://api.github.com/repos/Netflix/atlas/git/commits/73416e311605ff2922d398fde67c83c9ed44d736,73416e311605ff2922d398fde67c83c9ed44d736,"always sort NaN values to the end (#599)

This change alters the behvaior of sorting to
always move NaN values to the end regardless of
the order. Before, NaN values were at the end for
ascending order and descending order would just
reverse the list causing NaN values to show at
the top.

Fixes #586."
brharrington,2017-05-23 21:37:51,https://api.github.com/repos/Netflix/atlas/git/commits/1765646ad00c6d3f085029b510597f3c66336e6d,1765646ad00c6d3f085029b510597f3c66336e6d,fix unused variable warnings (#595)
brharrington,2017-05-23 17:01:54,https://api.github.com/repos/Netflix/atlas/git/commits/46a5fb2fec792294530212394127012257ced68a,46a5fb2fec792294530212394127012257ced68a,"avoid unused method warnings in guice modules (#594)

Since scala 2.12 the private provider methods in the
module cause warnings about unused methods. Unfortunately
scala doesn't provide a way to suppress these on individual
methods (SI-1781). For now the work around is to mark them
as protected rather than private. Note the module class is
final so there will not be any subclasses."
brharrington,2017-05-23 16:50:43,https://api.github.com/repos/Netflix/atlas/git/commits/42de1e4a2828d0121e47741d7a4c78de39c2aaee,42de1e4a2828d0121e47741d7a4c78de39c2aaee,"update flow types to allow DiagnosticMessages (#593)

Updates the high level processor to pass JsonSupport
messages instead of TimeSeriesMessage specifically. This
gives a lot of flexibility to send through other types
like DiagnosticMessage or other helpful information when
processing the stream."
copperlight,2017-05-19 16:58:38,https://api.github.com/repos/Netflix/atlas/git/commits/39d481dd28282a61a594c7224c0a13b4059de18c,39d481dd28282a61a594c7224c0a13b4059de18c,"docs: discuss low volume conditions for alerting (#592)

With traffic failovers internally low volume conditions cause
a number of false positives. Update the philosophy doc to
discuss that use-case and compensating with a check on the
absolute volume."
brharrington,2017-05-18 14:16:49,https://api.github.com/repos/Netflix/atlas/git/commits/0d953a3783b0f214868a678a9c0f9493d63db84f,0d953a3783b0f214868a678a9c0f9493d63db84f,"suppress chunks that are all NaN (#591)

If there is no data for an expression in a given
chunk window, then drop that data."
brharrington,2017-05-17 22:35:51,https://api.github.com/repos/Netflix/atlas/git/commits/162c3923842bcc0796c2a2ede18fbe9db6b6ddc2,162c3923842bcc0796c2a2ede18fbe9db6b6ddc2,"docs: expand description for legend (#590)

In particular discuss the use of variables in the
legends."
brharrington,2017-05-17 21:22:41,https://api.github.com/repos/Netflix/atlas/git/commits/95665c5b7ca8cefce353f3e1c953efd405b2e57c,95665c5b7ca8cefce353f3e1c953efd405b2e57c,"fix unit used when paritioning a context (#588)

The context was ignoring the unit parameter passed into
partition. This would result in an IAE under some situations.
See test case for more details."
brharrington,2017-05-16 16:13:11,https://api.github.com/repos/Netflix/atlas/git/commits/39f9d3073acc0410a831a17ca9ece3c04c365069,39f9d3073acc0410a831a17ca9ece3c04c365069,"initial port of fetch api (#585)

Starting work on #547. This adds an endpoint compatible
with the internal fetch API to the oss repo. There are
still a number of things left to do, but this should
unblock some other efforts.

To be addressed in later PRs:

- Test coverage, there are some basic test cases but I
  still need to debug some issues with one of them and
  clean them up a bit to remove use of some test data
  that was dumped from internal sources.
- The throttling/limiter logic still needs to be moved
  over, but is a bit more intertwined.
- In general need to move the actors away from the
  actor publisher that was deprecated in akka 2.5."
brharrington,2017-05-07 16:07:43,https://api.github.com/repos/Netflix/atlas/git/commits/e4640c81c3a2dbda44e836be73dffa36e185939e,e4640c81c3a2dbda44e836be73dffa36e185939e,docs: update to refer to 1.5.2 (#583)
brharrington,2017-05-07 15:47:19,https://api.github.com/repos/Netflix/atlas/git/commits/749e21485694d59d53a8cf0541107268bb3b783b,749e21485694d59d53a8cf0541107268bb3b783b,"akka-http 10.0.6 (#582)

Fixes security vulnerability:

http://doc.akka.io/docs/akka-http/10.0.6/security/2017-05-03-illegal-media-range-in-accept-header-causes-stackoverflowerror.html"
brharrington,2017-05-07 04:24:46,https://api.github.com/repos/Netflix/atlas/git/commits/e311d28ee1e132ac72014eb4cb3de0ae249d0c84,e311d28ee1e132ac72014eb4cb3de0ae249d0c84,"allow step size for datapoint to be set explicitly (#581)

Before the step would always come from the global config
setting. This made it impossible to use the datapoint class
with multiple step sizes in play."
brharrington,2017-05-07 04:07:25,https://api.github.com/repos/Netflix/atlas/git/commits/cafa8ce1403f8ae069c95c5012c1d5a62e5f8be5,cafa8ce1403f8ae069c95c5012c1d5a62e5f8be5,"fix #578, incorrect formatting for links (#580)

Looks like github no longer accepts the a line break
between the display text and href for the link."
brharrington,2017-05-06 18:13:18,https://api.github.com/repos/Netflix/atlas/git/commits/c52f00cc73baab9d11a35033641424c3953fb669,c52f00cc73baab9d11a35033641424c3953fb669,"search and replace over legend text (#579)

This allows some simple manipulation of the legend
text using a sed like search and replace. The main
use-case is for massaging the results of a group by
to be more presentable."
brharrington,2017-05-05 04:02:25,https://api.github.com/repos/Netflix/atlas/git/commits/26239b27e66a0ee53a2f6b228a76c1d73487eafe,26239b27e66a0ee53a2f6b228a76c1d73487eafe,"create bitmap directly instead of through int set (#573)

The use of the int set was a carry over from the lazy
set implementation. This removes some steps saving
memory and computation cost when building the index."
brharrington,2017-05-05 03:53:56,https://api.github.com/repos/Netflix/atlas/git/commits/8c2a8096b9d1fc983f97ddbbf3abed3ca42ea737,8c2a8096b9d1fc983f97ddbbf3abed3ca42ea737,"use int iterator for bitmaps (#572)

Avoids boxing the values to Integer."
brharrington,2017-05-04 15:46:58,https://api.github.com/repos/Netflix/atlas/git/commits/eeb92afaa77fee7e58273a1a246b5cb161c425e5,eeb92afaa77fee7e58273a1a246b5cb161c425e5,"add test case for createStreamsProcessor()

Provides a simple example of usage and verifies some
of the basic functionality with the file based uri."
brharrington,2017-05-01 22:19:52,https://api.github.com/repos/Netflix/atlas/git/commits/f2edd36359319ff8e50b7da816476a24896fd856,f2edd36359319ff8e50b7da816476a24896fd856,"included rendered image in v2.json response (#568)

Fixes #564. We may move this behind a flag before 1.6 final,
but for now it is enabled by default. By including in the
v2.json format the UI/dashboard can use the static image
and switch to a dynamic rendering without making another
request.

The message has a type of `graph-image` with a data field
that is a data uri of the image without the legend.

Sample usage:

```html
<html>
<body>
<div id=""content""></div>
<script>
var content = document.getElementById('content');

fetch('http://localhost:7101/api/v1/graph?q=name,sps,:eq,(,nf.cluster,),:by&format=v2.json')
  .then(function(response) {
    return response.json();
  })
  .then(function(json) {
    var html = '';
    json.forEach(function(msg) {
      if (msg.type === 'graph-image') {
        html += '<div><img src=""' + msg.data + '""/></div>';
      } else if (msg.type === 'timeseries') {
        html += '<div>' + msg.label + '</div>';
      }
    });
    content.innerHTML = html;
  });
</script>
</body>
</html>
```"
brharrington,2017-05-01 21:23:55,https://api.github.com/repos/Netflix/atlas/git/commits/16a734c0c36c65be774c3581873d58c0431b5a9d,16a734c0c36c65be774c3581873d58c0431b5a9d,"remove ExpressionDatabaseActor from sample config (#567)

Updates the lwcapi.conf sample config to remove the
actor since it went away in #561. Also updates to
spectator 0.55.0."
brharrington,2017-04-29 00:23:17,https://api.github.com/repos/Netflix/atlas/git/commits/1481015c0bb3c3c1fae873cf24c6d6ce6b38bef7,1481015c0bb3c3c1fae873cf24c6d6ce6b38bef7,"add additional graph api tests (#566)

Add some additional graph api test images that
were being used for the dynamic rendering component.
Trying to keep them in sync."
brharrington,2017-04-28 04:35:15,https://api.github.com/repos/Netflix/atlas/git/commits/f766add685d39664003ff45bb9dcda40e6c26a27,f766add685d39664003ff45bb9dcda40e6c26a27,"fix #560, axis params now work with axis_per_line (#563)

When using `axis_per_line` flag the specific url params
for other y-axes would get ignored because it was just
copying from the main axis. Now overrides will take effect
just like they do for explicit multi-y."
brharrington,2017-04-28 01:39:26,https://api.github.com/repos/Netflix/atlas/git/commits/9d0db91687cdac4fbdfdd5cd052f636ab67fa0ca,9d0db91687cdac4fbdfdd5cd052f636ab67fa0ca,"make axisPerLine with explicit axis a warning (#562)

Instead of giving an error to the user make it a warning
and disable the axisPerLine flag."
brharrington,2017-04-27 23:39:59,https://api.github.com/repos/Netflix/atlas/git/commits/cbb0c6cb8cf05c257ce3c27f9ebf2a49906662e2,cbb0c6cb8cf05c257ce3c27f9ebf2a49906662e2,"fix #467, remove the use of redis for lwcapi (#561)

The only use-case was for ensuring the set of expressions
was sync'd up across instances so that clients would not
see expressions come and go very quickly due to timing
issues for the subscribers. To simplify the overall setup
the clients will do a merge and maintain the expression
with a TTL."
brharrington,2017-04-26 15:07:56,https://api.github.com/repos/Netflix/atlas/git/commits/210322e07ad67b38324fdbecf8fdc67420d916c6,210322e07ad67b38324fdbecf8fdc67420d916c6,"update to frigga 0.18.0 (#558)

Adds support for `~` in the detail for group
names (Netflix/frigga#20)."
brharrington,2017-04-26 14:54:06,https://api.github.com/repos/Netflix/atlas/git/commits/91049e74ae2e8715417ff769ca0a0585d9041fa7,91049e74ae2e8715417ff769ca0a0585d9041fa7,"remove LazyTagIndex implementation (#557)

We have been using the implementation based on
roaring bitmaps (#479) for a few months internally
and it is working well."
brharrington,2017-04-26 14:38:44,https://api.github.com/repos/Netflix/atlas/git/commits/f848278056207018134595bb2423b62b76755cb0,f848278056207018134595bb2423b62b76755cb0,"switch to Files.new{Input,Output}Stream (#556)

They avoid finalize making them a bit more GC
friendly.

https://www.cloudbees.com/blog/fileinputstream-fileoutputstream-considered-harmful"
brharrington,2017-04-26 00:14:23,https://api.github.com/repos/Netflix/atlas/git/commits/650d5559a34bf05a12751469287aa390150ca150,650d5559a34bf05a12751469287aa390150ca150,"fix spacing on sidebar header (#555)

Fixes the spacing so that it will render correctly
on the wiki."
brharrington,2017-04-25 23:32:36,https://api.github.com/repos/Netflix/atlas/git/commits/76ed570aea0d100129982000fcb31312fa4350ce,76ed570aea0d100129982000fcb31312fa4350ce,"update to sbt 0.13.15 (#554)

This version seems to fix `formatLicenseHeaders` so it
will work when run from the root. In #553 it was noticed
that it worked when running for a particular subproject,
but not when run for the root project."
brharrington,2017-04-25 15:44:52,https://api.github.com/repos/Netflix/atlas/git/commits/f56a60ffa9365425cefcd1a630dbead3a123b9f7,f56a60ffa9365425cefcd1a630dbead3a123b9f7,"add eval lib to root project (#553)

It wasn't getting published to jfrog/jcenter
since it wasn't part of the root.

Also fixes license header for SourceRef."
brharrington,2017-04-25 15:03:51,https://api.github.com/repos/Netflix/atlas/git/commits/d68cf460c25372819cc18e47b1df261a6adc37bb,d68cf460c25372819cc18e47b1df261a6adc37bb,docs: fix link to sorting modes (#552)
brharrington,2017-04-25 14:59:58,https://api.github.com/repos/Netflix/atlas/git/commits/8a1b68eee5c75a0a8297b512f94231487b100c5f,8a1b68eee5c75a0a8297b512f94231487b100c5f,"add reference config for eval lib (#550)

This was accidentally left out of a previous commit."
brharrington,2017-04-24 20:08:59,https://api.github.com/repos/Netflix/atlas/git/commits/5af80e1cc22885ca5a47b0214bee7829ce781b5e,5af80e1cc22885ca5a47b0214bee7829ce781b5e,"add module for configuring evaluator (#549)

Minimal module that can setup an evaluator instance
that can be injected."
brharrington,2017-04-24 16:01:58,https://api.github.com/repos/Netflix/atlas/git/commits/bb30335efcacfe9f55202575b191c2273d9d6468,bb30335efcacfe9f55202575b191c2273d9d6468,"simplify eval usage for common use-cases (#548)

Adds an `Evaluator` class with a simple public API
for evaluating the stream. It is a java class that
exposes the reactive streams types so it is easy to
use with various implementations. There are two
main methods:

**createPublisher(uri)**

Creates a publisher for a graph uri so the same data
can be accessed as a stream. This makes it really easy
for a user to transition from one view to another.

```
+------------+
|  URI       |
|  Eval      | -------- [TimeSeriesMessage] --->
|  Source    |
+------------+
```

**createStreamsProcessor**

Takes a set of id/URI pairs as inputs and evaluates
all of the expressions. This allows for better reuse
when evaluating many expressions. There is an id
for each input that will be added to the output so
that corresponding entries can be correlated.
The complete set of current data sources must be
supplied as part of each input event.

```
                       +------+
                       |      |
--- [DataSources] ---> | Eval | --- [MessageEnvelope] --->
  Set((id,URI), ...)   |      |   (id, TimeSeriesMessage)
                       +------+
```"
brharrington,2017-04-19 15:20:02,https://api.github.com/repos/Netflix/atlas/git/commits/f0ea676c4758d8bbd6e469600402ac4da476fc2f,f0ea676c4758d8bbd6e469600402ac4da476fc2f,"update to scala 2.12.2 and fix warnings (#545)

Updates to scala 2.12.2 (and 2.11.11) and fixes a bunch
of new compiler warnings."
brharrington,2017-04-19 14:36:00,https://api.github.com/repos/Netflix/atlas/git/commits/e46a3216d456b983abea6633a2c2f60e640a0ea4,e46a3216d456b983abea6633a2c2f60e640a0ea4,"fix rewrite to use new display expr (#544)

Fixes a regression introduced in #540. The non-query
case was re-evaluating the rewrite command on the
original query rather than the new rewritten display
expression."
brharrington,2017-04-18 16:47:38,https://api.github.com/repos/Netflix/atlas/git/commits/a37ee203cbda57320edc61acadf25a1c72d1d9d2,a37ee203cbda57320edc61acadf25a1c72d1d9d2,"add util for wrapping ByteString as InputStream (#543)

This makes it easier to quickly pass the ByteString to
jackson and keep the number of additional allocations
minimal."
brharrington,2017-04-18 15:25:02,https://api.github.com/repos/Netflix/atlas/git/commits/924a076ef807de24c382546a9bf09fb7bca8f86e,924a076ef807de24c382546a9bf09fb7bca8f86e,"update to akka 2.5.0 (#542)

Switch to akka 2.5.0 to get improved materialization
performance for streams. Throughput for the simple
benchmark in #541 improved by 26%."
brharrington,2017-04-18 14:46:13,https://api.github.com/repos/Netflix/atlas/git/commits/6ed04f0b171c629300125e558a8dedc4cbff6d7e,6ed04f0b171c629300125e558a8dedc4cbff6d7e,"reduce allocations for processing messages (#541)

Some initial performance checks on the streaming
evaluation show a lot of allocations. The biggest
contributor was converting from ByteString to
a form that jackson could parse. This has been
reduced by reusing buffers. Some other minor
changes have been made to reduce allocations for
fields and to go direct to SmallHashMap for the
tag data.

Biggest bottlenecks right now are parsing the
json messages from the SSE stream followed by
the materialization speed. The materialization
speed should be less of an issue in practice
because the streams will be longer lived and is
supposed to be improved in akka 2.5.0."
brharrington,2017-04-15 04:32:01,https://api.github.com/repos/Netflix/atlas/git/commits/fed398a808514abcf3172d68378980156d4d0da1,fed398a808514abcf3172d68378980156d4d0da1,"named rewrite expr string now preserves offset (#540)

Fixes a bug with the expression string for named rewrites
that contain offsets. If the rewrite is being used similar
to an aggregate function and the display expression is a
query, then the offset was getting lost because that is an
attribute of the aggregate functions that are only present
in the expanded evaluation expression.

Now the named rewrite will extract the offset and group by
information if the display type is a query. For others the
rewrite will be re-evaluated using the same interpreter."
brharrington,2017-04-13 20:45:27,https://api.github.com/repos/Netflix/atlas/git/commits/8063495d3c46c5b31cd6e80350e53b04c25935f0,8063495d3c46c5b31cd6e80350e53b04c25935f0,"initial streaming eval library (#538)

This isn't yet fully baked or hardened, but is a good
enough check point. This is an initial version of a
library to evaluate expressions using the LWC service
as a source.

Still left to do:

1. Expose simple and stable java API for accessing
   the stream for a corresponding graph uri. This is
   to make it really easy to transition between the
   backend graph and a streaming source.
2. Source identification in LWC so we can reliably
   dedup messages.
3. Improving test coverage of Eureka source and
   evaluator helpers. This is really sparse right
   now.
4. Refactor Datapoint so that the step size is provided
   rather than coming from a static config.
5. Performance testing and tuning.

These follow up items will be addressed in later PRs."
brharrington,2017-04-11 16:18:45,https://api.github.com/repos/Netflix/atlas/git/commits/19a9a1a437bd48465a8876297835313a914beb93,19a9a1a437bd48465a8876297835313a914beb93,"enable self-reporting for standalone example (#537)

The standalone example will not report data to itself
when running with the sample `memory.conf`. A similar
thing can be done with the `lwcapi.conf` by uncommenting
the enabled flag. It is disabled by default since there
are some ordering issues on startup that cause exceptions
in the log."
brharrington,2017-04-11 15:20:09,https://api.github.com/repos/Netflix/atlas/git/commits/0e77e688f03db8db22705706e7a66207c62ee82d,0e77e688f03db8db22705706e7a66207c62ee82d,"disable log4j shutdown hook on default config (#536)

Updates the default logging config for standalone so
that it disables the log4j shutdown hook. This is to
avoid missing log messages for the app shutdown:

https://github.com/Netflix/iep/tree/master/iep-guice#shutdown"
brharrington,2017-04-11 15:16:34,https://api.github.com/repos/Netflix/atlas/git/commits/d4b84702e381021d1905426548ad732c2a17ec81,d4b84702e381021d1905426548ad732c2a17ec81,"only run lwc when using the lwcapi.conf (#535)

Fixes the standalone example to only run the lwc api
and services when using the lwcapi config. The webapi
portions have been restricted in a similar way. This
avoids the need for having redis to run the basic
standalone example."
brharrington,2017-04-10 23:07:41,https://api.github.com/repos/Netflix/atlas/git/commits/cd037169d773e1d76210302ed536dfcaa0e4cd5d,cd037169d773e1d76210302ed536dfcaa0e4cd5d,"add limit operation that can be used with sort (#534)

Adds a `:limit` operation that can be used with the
existing `:sort` and `:order` to restrict the output
set. The `:head` operator has been removed as a data
operator and changed to be an alias for limit.

Limit was chosen because it is more familiar to those
with a SQL background. The `:head` operator was never
really optimized in the data layer and a desire to use
sort with a limit for top-N use-cases is more prominent
than the sampling use-cases for which `:head` was
originally intended, but that did not really materialize
in practice."
brharrington,2017-04-09 15:45:54,https://api.github.com/repos/Netflix/atlas/git/commits/d02eb515077a19f3c73a6a48cbb4a26cba95b4e8,d02eb515077a19f3c73a6a48cbb4a26cba95b4e8,"support merging rollup blocks (#533)

With inline rollups the the blocks from a single
mirror can contain a rollup. For now it follows
a simple strategy of just merging the individual
blocks for the rollup."
brharrington,2017-04-05 18:00:41,https://api.github.com/repos/Netflix/atlas/git/commits/fee4182f5d42e990f2a0de548b57c6c55ecc1532,fee4182f5d42e990f2a0de548b57c6c55ecc1532,"fix prefix for cloudwatch sqs metrics (#532)

It was incorrectly specified as `s3`."
brharrington,2017-03-31 06:29:46,https://api.github.com/repos/Netflix/atlas/git/commits/d34e90d6f450cb9902cb7b6efe697f61cea6c13e,d34e90d6f450cb9902cb7b6efe697f61cea6c13e,"store the interpreted expression in the Request (#531)

For some use-cases we access `GraphApi.Request.exprs`
many times, there is no reason to interpret it each
time."
brharrington,2017-03-30 17:47:12,https://api.github.com/repos/Netflix/atlas/git/commits/30fbbf0453c3b58882253fc7938860b9d12480bc,30fbbf0453c3b58882253fc7938860b9d12480bc,"add support for listing all expressions (#530)

Modifies the `/lwc/api/v1/expressions` endpoint
to support listing all expressions. Before it would
only list out expresssions for a particular cluster."
brharrington,2017-03-30 14:49:50,https://api.github.com/repos/Netflix/atlas/git/commits/a2e8d205216e3e741fd91e6133807f9e0579faa5,a2e8d205216e3e741fd91e6133807f9e0579faa5,"fix warnings for lwcapi (#529)

Cleanup minor warnings such as unused references in
lwcapi. Also simplifies to get rid of separate impl
classes. The only api considered public for this
module is the interaction with HTTP interface. The
separate classes were just extra boilerplate."
brharrington,2017-03-27 15:51:39,https://api.github.com/repos/Netflix/atlas/git/commits/4bb0ecff761e217c4aadb599959340001aebed09,4bb0ecff761e217c4aadb599959340001aebed09,"add `atlas.rollup` to allowed keys (#528)

Updates the default allowed keys list for `atlas.`
prefix to include `atlas.rollup`."
brharrington,2017-03-26 03:36:22,https://api.github.com/repos/Netflix/atlas/git/commits/1995eb43d2649ed3925173c29933f46a3dca9b3f,1995eb43d2649ed3925173c29933f46a3dca9b3f,"add additional build metadata to jar (#527)

Add the build date and number to the jar manifest
to aid in debugging."
brharrington,2017-03-25 20:16:39,https://api.github.com/repos/Netflix/atlas/git/commits/57516f5ee65873573fcfcdaf3737cec384fe1192,57516f5ee65873573fcfcdaf3737cec384fe1192,"improve performance of SmallHashMap.{+,-} (#526)

Changes the small hash map implementation of `+`
and `-` to retain the type. This is primarily to
avoid using a less memory efficient map type if
the map is modified somewhere along the way. A
side benefit is better performance and reduced
allocations.

**Before**

```
Benchmark        Mode  Cnt       Score       Error  Units
addPair         thrpt   10  781344.330  25173.790  ops/s
removePair      thrpt   10  738796.252  44849.997  ops/s
```

**After**

```
Benchmark        Mode  Cnt        Score       Error  Units
addPair         thrpt   10  1637470.772  29948.315  ops/s
removePair      thrpt   10  2520939.662  32320.759  ops/s
```"
brharrington,2017-03-24 21:32:42,https://api.github.com/repos/Netflix/atlas/git/commits/c68cda088605ac53585cf2f2062f4a77d3a79946,c68cda088605ac53585cf2f2062f4a77d3a79946,"support inline rollup of datapoints (#525)

This change allows datapoints to be rolled up as they
are flowing into the in memory storage. Typically this
has been done later as part of offline processing using
EMR or via a separate aggregator cluster that would
perform the aggregations prior to being sent to the
in memory storage.

To be eligible for the rollup the data must have already
been normalized to the step boundary and rate conversion
for counters should have already been performed.

The inline rollup will create a rollup block so it will
have more overhead in terms of memory use unless the
reduction multiple is over 4. Data will only go through
the rollup path if it is tagged with `atlas.rollup=true`.

The publish payload can now take an `id` field which will
get used to dedup messages. If used, then it should avoid
over counting if retries are present in the publishing
pipeline as long as the updates for a given datapoint are
always mapped to the same id for a given interval. The
message id should not be used for multiple intervals or
subsequent messages would incorrectly get lost."
brharrington,2017-03-23 16:50:23,https://api.github.com/repos/Netflix/atlas/git/commits/51eb66f423e5f7f41596d02ecea3041d8c7a65f4,51eb66f423e5f7f41596d02ecea3041d8c7a65f4,"fix poller client to discard entity bytes (#524)

The poller client was not properly discarding the
entity bytes for success or unexpected status codes."
brharrington,2017-03-18 20:50:01,https://api.github.com/repos/Netflix/atlas/git/commits/d97cf2df839c1c8a437730aa2f1666413ba09702,d97cf2df839c1c8a437730aa2f1666413ba09702,update dependencies (#523)
brharrington,2017-03-18 20:09:26,https://api.github.com/repos/Netflix/atlas/git/commits/3c0eca7801047255f1ebea7a586a980ca14c59bc,3c0eca7801047255f1ebea7a586a980ca14c59bc,remove unused spray dependencies
brharrington,2017-03-18 20:08:20,https://api.github.com/repos/Netflix/atlas/git/commits/828db9e8b756df86f122fa966759e3487ea7ed07,828db9e8b756df86f122fa966759e3487ea7ed07,sbt-jmh 0.2.24
brharrington,2017-03-18 20:06:15,https://api.github.com/repos/Netflix/atlas/git/commits/9965b54d55fa768a9f9412a16d67c9995e18ef26,9965b54d55fa768a9f9412a16d67c9995e18ef26,roaring bitmap 0.6.39
brharrington,2017-03-18 20:05:41,https://api.github.com/repos/Netflix/atlas/git/commits/17378c7e5b0f7acbf5677b33dcb167ff274e9e0f,17378c7e5b0f7acbf5677b33dcb167ff274e9e0f,caffeine 2.4.0
brharrington,2017-03-18 20:05:12,https://api.github.com/repos/Netflix/atlas/git/commits/e5df37cbff8dc20076a35281ff8d9552b94a4d04,e5df37cbff8dc20076a35281ff8d9552b94a4d04,slf4j 1.7.25
brharrington,2017-03-18 20:04:22,https://api.github.com/repos/Netflix/atlas/git/commits/4b60f16c80ba3142aef63bf8a8f54b8b00bd32af,4b60f16c80ba3142aef63bf8a8f54b8b00bd32af,log4j2 2.8.1
brharrington,2017-03-18 20:03:57,https://api.github.com/repos/Netflix/atlas/git/commits/4ffb559689b00bec33193a934de6b987f0083ad8,4ffb559689b00bec33193a934de6b987f0083ad8,jackson 2.8.7
brharrington,2017-03-18 20:03:27,https://api.github.com/repos/Netflix/atlas/git/commits/e8649b90843cd5598214fde7a47ed58ea49f72f8,e8649b90843cd5598214fde7a47ed58ea49f72f8,aws-java-sdk 1.11.105
brharrington,2017-03-18 20:02:51,https://api.github.com/repos/Netflix/atlas/git/commits/bd1ee7685428b08038669907bc4c2116852e2e40,bd1ee7685428b08038669907bc4c2116852e2e40,akka-http 10.0.5
brharrington,2017-03-18 20:01:29,https://api.github.com/repos/Netflix/atlas/git/commits/65e1fd7272a8cc04275780d31b61b58b49075833,65e1fd7272a8cc04275780d31b61b58b49075833,akka 2.4.17
brharrington,2017-03-17 21:08:13,https://api.github.com/repos/Netflix/atlas/git/commits/9260f98922f2d368bf39ac28ce3b2af1ccf36aac,9260f98922f2d368bf39ac28ce3b2af1ccf36aac,"allow preflight check to be used separately (#522)

Moves the handler for CORS preflight checks to
CustomDirectives and adds a `cors` helper for
wrapping a route with both the preflight handler
and filter to add CORS headers to the inner route.
This change allows the CORS support to be used
without pulling in all of the standard options
from the default request handler."
brharrington,2017-03-17 18:00:20,https://api.github.com/repos/Netflix/atlas/git/commits/19473735b86e759d5a8e757e816e3a861520f03e,19473735b86e759d5a8e757e816e3a861520f03e,"add efs metrics (#520)

Adds mapping for cloudwatch EFS metrics and adjust
some of the ids to be more consistent with casing.
Some users found it annoying and hard to remember
which ones had a starting capital. This change makes
them more consistent."
brharrington,2017-03-16 21:04:48,https://api.github.com/repos/Netflix/atlas/git/commits/3f9afdf829e86e6e7686c065499b4f81eb5b1f2f,3f9afdf829e86e6e7686c065499b4f81eb5b1f2f,"emit subscriptions back in the sse response (#519)

Cleanup a TODO in the code from when we switched to
akka-http. The subscriptions objects are passed into
the stream source actor.

Also fixes a bug where we would only write the chunks
on receive, but not when we had messages and available
room based on `totalDemand`."
brharrington,2017-03-16 06:12:37,https://api.github.com/repos/Netflix/atlas/git/commits/8662c2b33032bee7d249f2c93793148a98bce4a3,8662c2b33032bee7d249f2c93793148a98bce4a3,"enable caching of CORS preflight (#518)

Adds the `Access-Control-Max-Age` to the CORS
preflight response. Age is set to 10 minutes
as that seems to be a common max allowed by
various browsers."
brharrington,2017-03-16 05:49:13,https://api.github.com/repos/Netflix/atlas/git/commits/e10275e5d78a60fed43a2e371fd29ee5cd6836bc,e10275e5d78a60fed43a2e371fd29ee5cd6836bc,"add vary origin to cors responses (#517)

Avoids confusing errors due to requests being
cached with the wrong origin."
svachalek,2017-03-16 00:23:06,https://api.github.com/repos/Netflix/atlas/git/commits/403e1e2f3a1087579c03c036d16e6640ac9fdd45,403e1e2f3a1087579c03c036d16e6640ac9fdd45,fix default content type in tags docs (#516)
brharrington,2017-03-15 23:25:38,https://api.github.com/repos/Netflix/atlas/git/commits/582583c1158b9535de468d1ba63624cdb908bfba,582583c1158b9535de468d1ba63624cdb908bfba,"fix bounds exception for Integer.MIN_VALUE hash (#515)

If an object hashes to `Integer.MIN_VALUE`, then the
absolute value will be `Integer.MIN_VALUE` and a negative
values was used for looking up data in the underlying
array. This change will map those to be `0` instead."
brharrington,2017-03-14 20:30:57,https://api.github.com/repos/Netflix/atlas/git/commits/cbd35c128b669ecd646ca1c124dca47a63de38df,cbd35c128b669ecd646ca1c124dca47a63de38df,"add method to explicitly rotate blocks (#514)

Adds a method to the block store to explicitly
rotate and compress the blocks. Before it would
only happen when there was data written for a given
time series. So if no data comes in after the time
boundary it would not get automatically rotated."
brharrington,2017-03-13 21:47:43,https://api.github.com/repos/Netflix/atlas/git/commits/bc9524a74d3dd42b2bb5632b3df387a536fc8b04,bc9524a74d3dd42b2bb5632b3df387a536fc8b04,"make ValidCharactersRule more flexible (#513)

It now allows the set of valid characters to be set
via a pattern in the config and for overrides to be
set for given tag values.

This is mostly to support an internal decision to relax
group names so that they allow `^` and `~`. Others values
should not be relaxed as it could result in backwards
compatibility issues for names that were already being
converted to `_` when published."
brharrington,2017-03-06 22:26:44,https://api.github.com/repos/Netflix/atlas/git/commits/5f4bf7a63aff92284e7095a050af887eb54abb9c,5f4bf7a63aff92284e7095a050af887eb54abb9c,"add macro for stddev of group by (#512)

Helper function for computing the stddev over the
results of a group by operation. Sometimes useful
as an offset for outlier detection."
brharrington,2017-02-28 15:19:06,https://api.github.com/repos/Netflix/atlas/git/commits/a689bc5e2860e05cce524ed440a8bc6ded5ae86e,a689bc5e2860e05cce524ed440a8bc6ded5ae86e,"avoid passing JsonParser across threads (#511)

The `jsonParser` directive could potentially result in
the created parser being created in one thread and then
used in another. Jackson uses some thread local buffers
for keeping track of state and this behavior means multiple
threads could be updating those buffers.

This change removes that directive and adds a `customJson`
that allows the decoding to use the parser directly to
create an object, but keeps it all local to one block that
should all be run on a single thread."
brharrington,2017-02-23 22:36:18,https://api.github.com/repos/Netflix/atlas/git/commits/151b062c5a57d8271c6142e03c5324711eada962,151b062c5a57d8271c6142e03c5324711eada962,"allow `last` summary stat to be used with filters (#510)

The last value for a given time series is already being
tracked as part of the summary stats, but was not supported
by the `:stat` operator. This change allows that stat to
be used as part of a filter."
brharrington,2017-02-20 17:22:09,https://api.github.com/repos/Netflix/atlas/git/commits/ac799c77d0546d6632cac6bf56068d09cf809cce,ac799c77d0546d6632cac6bf56068d09cf809cce,"update dependencies (#509)

Main change is to pick up spectator version that fixes an issue
with timers for some request stats under reporting
(Netflix/spectator#376)."
brharrington,2017-02-20 16:59:12,https://api.github.com/repos/Netflix/atlas/git/commits/a10d4c8c949542db4e1b5121f20991cd318e3765,a10d4c8c949542db4e1b5121f20991cd318e3765,equalsverifier 2.2.1
brharrington,2017-02-20 16:52:37,https://api.github.com/repos/Netflix/atlas/git/commits/6a78c4244d7bf891ed7b4d55e6e10aca9baa8f8b,6a78c4244d7bf891ed7b4d55e6e10aca9baa8f8b,sbt-jmh 0.2.21 (jmh 1.17.4)
brharrington,2017-02-20 16:50:35,https://api.github.com/repos/Netflix/atlas/git/commits/c5fdad8363895df6d91b0b4a815d5961219ae4d7,c5fdad8363895df6d91b0b4a815d5961219ae4d7,jol 0.7.1
brharrington,2017-02-20 16:49:41,https://api.github.com/repos/Netflix/atlas/git/commits/3f4fe0dd9d4bb1be79b1c9d70f09b3cc9e5dfd17,3f4fe0dd9d4bb1be79b1c9d70f09b3cc9e5dfd17,aws-java-sdk 1.11.93
brharrington,2017-02-20 16:48:57,https://api.github.com/repos/Netflix/atlas/git/commits/28d3535ff3261a54d6146cab538da6586ab7bf18,28d3535ff3261a54d6146cab538da6586ab7bf18,slf4j 1.7.23
brharrington,2017-02-20 16:48:32,https://api.github.com/repos/Netflix/atlas/git/commits/7ee182c1df2e659042e244bd1098b4b985b079db,7ee182c1df2e659042e244bd1098b4b985b079db,iep 0.4.16
brharrington,2017-02-20 16:47:25,https://api.github.com/repos/Netflix/atlas/git/commits/0c88315b2dece0e4d46b27a7553891390ac08499,0c88315b2dece0e4d46b27a7553891390ac08499,jackson 2.8.6
brharrington,2017-02-20 16:45:07,https://api.github.com/repos/Netflix/atlas/git/commits/bb2edf11b34a294fabbdea796a067548b698e18b,bb2edf11b34a294fabbdea796a067548b698e18b,"spectator 0.52.0

Fixes issue with timers for some request stats
under reporting (https://github.com/Netflix/spectator/pull/376)."
brharrington,2017-02-20 02:15:21,https://api.github.com/repos/Netflix/atlas/git/commits/2a6cf8924699f4ed921d4f593a6ea2b5666cf5e1,2a6cf8924699f4ed921d4f593a6ea2b5666cf5e1,"rewrite simple regex OR queries (#508)

Changes simple regex OR queries to use a set of
basic `StringMatcher`s. This significantly improves
performance for the most common cases we see in
practice."
brharrington,2017-02-20 02:15:02,https://api.github.com/repos/Netflix/atlas/git/commits/a9fb61a82e832c9b9c59dc41e4b0e5bdcf8e1d0e,a9fb61a82e832c9b9c59dc41e4b0e5bdcf8e1d0e,"short circuit AND queries in roaring index (#507)

Updates the `RoaringTagIndex` to short-circuit AND queries
just like `LazyTagIndex`. The second query will not only
be performed if the first query has a non-empty result set.
In the test environment this was the main cause of slower
results when using `RoaringTagIndex` instead of `LazyTagIndex`.

Also updates the version to 0.6.36."
brharrington,2017-02-18 03:29:30,https://api.github.com/repos/Netflix/atlas/git/commits/95ee30d04db9ddb04b8a24b48af6fcf1a53ec90e,95ee30d04db9ddb04b8a24b48af6fcf1a53ec90e,"check for null token in foreachItem helper (#506)

If the function `f` has a bug and consumes the `END_ARRAY`
token, then before it would result in an endless loop. With
this change it will fail quickly."
brharrington,2017-02-18 03:20:47,https://api.github.com/repos/Netflix/atlas/git/commits/9d4b2c8ac53d89b05b22643616d74ed4d95e1013,9d4b2c8ac53d89b05b22643616d74ed4d95e1013,"workaround for `:percentiles` on no data line (#505)

In some use-cases the internal legacy system will try to
eval with an explicit no data line being passed to the
percentile operator. This results in an error:

```
java.util.NoSuchElementException: key not found: percentile
```

With this change we just propagate the no data line if
the input does not contain the expected tags."
brharrington,2017-02-15 17:21:26,https://api.github.com/repos/Netflix/atlas/git/commits/aac06ccae978adc9639166f0af0ccb8cfd793630,aac06ccae978adc9639166f0af0ccb8cfd793630,"do not apply heartbeat interval to rates (#504)

If a heartbeat interval larger than the step is applied to
rates, then it can artificially inflate the overall count.
This can happen on occasion with the expiration pattern
used by spectator and servo when reporting counters if
the counter gets an update exactly one interval after it
expired.

Counters should be fine because they will compute the
delta and average over the missed interval. The heartbeat
is retained for this use-case as poller using a fixed
delay may have a reporting interval that is slightly
larger than the specified step.

Fixes #497."
brharrington,2017-02-15 16:11:45,https://api.github.com/repos/Netflix/atlas/git/commits/0540a558c03c62b8b699eb416d8a3cfc6f6e709c,0540a558c03c62b8b699eb416d8a3cfc6f6e709c,"split out helper method for creating the graph (#503)

Adds a helper method for creating the graph definition
without actually rendering it. Useful for some cases
where we want to do a standalone eval and then manipulate
the results rather than output to the user."
brharrington,2017-02-11 03:37:12,https://api.github.com/repos/Netflix/atlas/git/commits/098274f57109fdfc7bdf30e0454dd726b9c3575f,098274f57109fdfc7bdf30e0454dd726b9c3575f,"fix internal server error due to access logging (#501)

The access logger would create a URI instance and the
`java.net.URI` class is strict when parsing. This has
been changed to just pass in the string. It appears
that the `toString` for the spray/akka-http Uri class
changed in akka-http to be more consistent with what
the user actually used."
brharrington,2017-02-10 04:50:47,https://api.github.com/repos/Netflix/atlas/git/commits/4770896a31415d0b2c2204ae998ace5833efdc44,4770896a31415d0b2c2204ae998ace5833efdc44,"fix #498, always honor order (#500)

The order was getting ignored if there wasn't
an explicit sort setting."
brharrington,2017-02-10 03:02:41,https://api.github.com/repos/Netflix/atlas/git/commits/4c3a235e04aef95b4d4ae31a05fac9a80a857d61,4c3a235e04aef95b4d4ae31a05fac9a80a857d61,"fix CORS headers on preflight request (#499)

When switching to akka-http there was a regression
in the routes. The CORS headers were no longer
getting added to the OPTIONS preflight request.

For the original issue see #259. This passes the
test case in that commit comment using chrome. Also
adds local unit test that verifies the headers are
present."
brharrington,2017-02-08 20:12:46,https://api.github.com/repos/Netflix/atlas/git/commits/d3caf335a6a5f4c360f9ae22d81ff7083cb31adb,d3caf335a6a5f4c360f9ae22d81ff7083cb31adb,"update reference.conf to use akka-http settings (#496)

Updates our reference.conf to use the settings from
akka-http rather than spray."
brharrington,2017-02-07 17:44:36,https://api.github.com/repos/Netflix/atlas/git/commits/a2340b4b8b3efbad1afc95b5feee4e91e96c5d19,a2340b4b8b3efbad1afc95b5feee4e91e96c5d19,"cleanup usages of DiagnosticMessage.sendError (#495)

The DiagnosticMessage object had some helper methods
left over for sending an error response to an ActorRef.
These will not work correctly using `akka-http` and
the usages would not work as expected.

* `TagsRequestActor`: using the handleExceptions which
  would not send the exception to the correct place
  if caught. This has been changed to remove the actor
  and inline into the tags api using an ask on the
  db actor. For now a timeout of 60s is used, but that
  should probably get changed. Ideally the future will
  get mapped directly to the data request call and then
  the server request timeout will be sufficient. That
  way there would be no nested timeouts. Will follow
  up on that front in later PRs.
* `EvaluateActor`: was broken. It would ignore the
  `ImperativeRequestContext` messages being sent and
  the user would get a request timeout. This was also
  inlined into the evaluate api as there doesn't seem
  to be a good reason for the separate actor. Still
  need to create a test case for the evaluate api."
brharrington,2017-02-07 15:34:49,https://api.github.com/repos/Netflix/atlas/git/commits/cc79e5443eeb36ca33706c13f92be0fdf6f38693,cc79e5443eeb36ca33706c13f92be0fdf6f38693,"remove WebApi.getJsonParser (#494)

Replaces the old `getJsonParser` helper with a
directive `jsonParser`. The directive will work
for all entity types rather than just strict
entities that have a single `ByteString`."
brharrington,2017-02-02 02:56:57,https://api.github.com/repos/Netflix/atlas/git/commits/dff38bfc3fb38bd8a730d22defb4c43942cf7003,dff38bfc3fb38bd8a730d22defb4c43942cf7003,fix compiler warnings under 2.12 (#492)
brharrington,2017-02-01 23:04:24,https://api.github.com/repos/Netflix/atlas/git/commits/b8b4dcecf381cb18390a2160a7104e4ca71fbdde,b8b4dcecf381cb18390a2160a7104e4ca71fbdde,setup cross build for 2.12 (#491)
brharrington,2017-02-01 22:45:54,https://api.github.com/repos/Netflix/atlas/git/commits/fc355f7842829c085be5b6b44a07187153fc52fe,fc355f7842829c085be5b6b44a07187153fc52fe,"enable cross build with 2.12.1 and 2.11.8

The 2.12.1 version is now the default version. Travis
is set to build for both 2.12 and 2.11."
brharrington,2017-02-01 22:01:25,https://api.github.com/repos/Netflix/atlas/git/commits/33a1a3183d25dcffc243af66600568a0ca842344,33a1a3183d25dcffc243af66600568a0ca842344,scala-logging 3.5.0
brharrington,2017-02-01 21:58:11,https://api.github.com/repos/Netflix/atlas/git/commits/6eb2f746587b8c073ddecc2fe99f548dd36b9db9,6eb2f746587b8c073ddecc2fe99f548dd36b9db9,sbt-scoverage 1.5.0
brharrington,2017-02-01 21:56:59,https://api.github.com/repos/Netflix/atlas/git/commits/6160081c8a85ad8a9b0ab604973ceaf8547177cd,6160081c8a85ad8a9b0ab604973ceaf8547177cd,redisclient 3.3
brharrington,2017-02-01 21:08:52,https://api.github.com/repos/Netflix/atlas/git/commits/c3bc6080cbd2525e3602cacc42c52582dab75d37,c3bc6080cbd2525e3602cacc42c52582dab75d37,"switch from spray to akka-http (#490)

Initial attempt at switching from spray to akka-http."
brharrington,2017-01-31 19:07:24,https://api.github.com/repos/Netflix/atlas/git/commits/49e9a053a767d2a945a947a9c90958f3fa646d4a,49e9a053a767d2a945a947a9c90958f3fa646d4a,remove use of sleep in SSEActorSuite (#489)
brharrington,2017-01-31 19:00:01,https://api.github.com/repos/Netflix/atlas/git/commits/23477195382c13b65876c6cdd4531a6a545c6b0f,23477195382c13b65876c6cdd4531a6a545c6b0f,"propagate exception if thrown in constructor (#488)

The json decoder will now unwrap the `InvocationTargetException`
and throw the cause. This avoids a bunch of reflection non-sense
the user does not care about and make it easier to see the root
issue for why decoding failed."
brharrington,2017-01-28 05:55:08,https://api.github.com/repos/Netflix/atlas/git/commits/0916d5f58967f5eba8dd0f468781c918a77ca184,0916d5f58967f5eba8dd0f468781c918a77ca184,"fix possible IAE if NaN values are in sorted set (#487)

In some cases the sort would fail with:

```
IllegalArgumentException: Comparison method violates its general contract!
```

This was caused by having a mix of NaNs in the set of
values being sorted. This change switches to use
`Double.compare` which takes NaN values into account."
brharrington,2017-01-27 03:08:03,https://api.github.com/repos/Netflix/atlas/git/commits/75aa46a24393380a4b31f6ff7db4f9c169649957,75aa46a24393380a4b31f6ff7db4f9c169649957,update license year (#486)
brharrington,2017-01-27 02:56:39,https://api.github.com/repos/Netflix/atlas/git/commits/6a1144dc5add4ee4b4bd3d078fcc5a1c317362f2,6a1144dc5add4ee4b4bd3d078fcc5a1c317362f2,"remove test sqs filter from config (#485)

The filter for testing was left in the config. As it is
not generally applicable it should not be in the base
config files."
brharrington,2017-01-27 02:56:23,https://api.github.com/repos/Netflix/atlas/git/commits/908011dd7c2a99ebadfe07befe3f4a136b4a38a2,908011dd7c2a99ebadfe07befe3f4a136b4a38a2,"move ec2 credit to separate block (#484)

This makes it easier to query for just the t2 credit
metrics rather than all ec2 metrics."
brharrington,2017-01-26 17:15:16,https://api.github.com/repos/Netflix/atlas/git/commits/04686b50726236d7119f49312ebb451cf79c13e3,04686b50726236d7119f49312ebb451cf79c13e3,add in mapping for t2 cpu credit metrics (#483)
brharrington,2017-01-26 04:46:44,https://api.github.com/repos/Netflix/atlas/git/commits/e0972c7dce556eb11a371dff3c18317f009b5760,e0972c7dce556eb11a371dff3c18317f009b5760,"fix bug with equality check on SmallHashMap (#482)

For maps with the same length and hashCodes the equality
check would fall back to `dataEquals`. That method had
a bug where if different keys were in the same position
of the underlying data array, then the values would not
get checked and the entry would get skipped. This could
cause some maps to incorrectly get treated as being equal
even though they are not."
brharrington,2017-01-25 21:35:55,https://api.github.com/repos/Netflix/atlas/git/commits/e5ccaa95d747e52a5f6936af11a7909461362468,e5ccaa95d747e52a5f6936af11a7909461362468,cleanup imports for lwcapi (#481)
skandragon,2017-01-24 05:46:25,https://api.github.com/repos/Netflix/atlas/git/commits/3d8d58f5b871b99257117fc147814548d24f76ed,3d8d58f5b871b99257117fc147814548d24f76ed,set content type for sse and json responses (#480)
brharrington,2017-01-17 16:47:01,https://api.github.com/repos/Netflix/atlas/git/commits/520493a2839650944ce664d10ae3725c497811d7,520493a2839650944ce664d10ae3725c497811d7,"impl of TagIndex using roaring bitmaps (#479)

Adds an implementation of the `TagIndex` that uses
roaring bitmaps as the underlying integer sets. Will
follow up with some benchmarks and then see how it
does on real world data sets."
brharrington,2017-01-16 21:19:21,https://api.github.com/repos/Netflix/atlas/git/commits/22e306b1debbc5e01f085bc5a4d7fbaf3c674ddc,22e306b1debbc5e01f085bc5a4d7fbaf3c674ddc,update dependencies (#478)
brharrington,2017-01-16 18:20:53,https://api.github.com/repos/Netflix/atlas/git/commits/8db102db6650be70bc4c1ef7c63cec2b4cd586b3,8db102db6650be70bc4c1ef7c63cec2b4cd586b3,"spectator 0.47.0

Updates test cases to fix issue with gauge checks."
brharrington,2017-01-16 17:51:49,https://api.github.com/repos/Netflix/atlas/git/commits/b8253a0e91d6460f81ec527ab727d9ca689ae647,b8253a0e91d6460f81ec527ab727d9ca689ae647,frigga 0.17.0
brharrington,2017-01-16 17:50:47,https://api.github.com/repos/Netflix/atlas/git/commits/4e6ca9a731b48fa42f3117efb661bf035ba0daeb,4e6ca9a731b48fa42f3117efb661bf035ba0daeb,equalsverifier 2.1.8
brharrington,2017-01-16 17:49:57,https://api.github.com/repos/Netflix/atlas/git/commits/6cad7e4224109393175fc5dd142a4a9d759ed1e7,6cad7e4224109393175fc5dd142a4a9d759ed1e7,aws-java-sdk 1.11.78
brharrington,2017-01-16 17:49:19,https://api.github.com/repos/Netflix/atlas/git/commits/c82f736d35c52a689978534a6aeb3373e0d8d239,c82f736d35c52a689978534a6aeb3373e0d8d239,iep 0.4.15
brharrington,2017-01-16 17:47:09,https://api.github.com/repos/Netflix/atlas/git/commits/8032e09e1a5cce5f31296b584d3cfa84b160a15d,8032e09e1a5cce5f31296b584d3cfa84b160a15d,slf4j 1.7.22
brharrington,2017-01-16 17:46:06,https://api.github.com/repos/Netflix/atlas/git/commits/158558ff50e83a6145fc5093005a96c2d77a0a24,158558ff50e83a6145fc5093005a96c2d77a0a24,akka 2.4.16
skandragon,2017-01-09 19:22:03,https://api.github.com/repos/Netflix/atlas/git/commits/5039f28a33bc56fb8c7955730ed44461b0d66744,5039f28a33bc56fb8c7955730ed44461b0d66744,"track bytes sent for limiting resource usage (#475)

This patch changes limiting outstanding messages to
limiting outstanding bytes for slower readers. The
limit is set to 10 megabytes per stream.

Also, individual metrics are combined into a single
HTTP write request every 100 ms (hard coded) or 100k
of buffered data (hard coded)"
brharrington,2017-01-04 21:09:16,https://api.github.com/repos/Netflix/atlas/git/commits/f65e031fe4ecf4a3a02d9d13a07cbc075e5add5c,f65e031fe4ecf4a3a02d9d13a07cbc075e5add5c,update license headers for 2017 (#476)
skandragon,2016-12-22 20:55:32,https://api.github.com/repos/Netflix/atlas/git/commits/e778302c369b7afecc278376d532bea5b8053fe1,e778302c369b7afecc278376d532bea5b8053fe1,"implement etags (#474)

Implement ETag and If-None-Match  headers for expression responses"
skandragon,2016-12-20 23:53:12,https://api.github.com/repos/Netflix/atlas/git/commits/3b00a75b2e0024b4cacaf49e0a7e70ecf7d549e1,3b00a75b2e0024b4cacaf49e0a7e70ecf7d549e1,"Change the heartbeat to a statistics report, and show number of failed messages (#473)"
brharrington,2016-12-14 14:26:17,https://api.github.com/repos/Netflix/atlas/git/commits/aca2cfbff71dcadc2aef9f70c72eb473e977e91a,aca2cfbff71dcadc2aef9f70c72eb473e977e91a,"docs: remove internal link from wiki (#472)

Looks like it was added to help guide internal users
that might go to this wiki. Other links should suffice
and we'll revisit if it becomes a problem. Fixes #471."
skandragon,2016-12-08 20:33:57,https://api.github.com/repos/Netflix/atlas/git/commits/ace239fc89dc8062f795fa3afde5a4b88281da0c,ace239fc89dc8062f795fa3afde5a4b88281da0c,Validate the post data before we create the actor (#470)
brharrington,2016-12-05 18:20:46,https://api.github.com/repos/Netflix/atlas/git/commits/988abf27e3712be4b288dd803b93157cfe9c8129,988abf27e3712be4b288dd803b93157cfe9c8129,"docs: cleanup page on alerting expressions (#469)

Do a pass over the alerting expressions page and make it
usable. Also fixes bug in script for the image link url
used with markdown templates in the root directory."
brharrington,2016-12-02 22:45:46,https://api.github.com/repos/Netflix/atlas/git/commits/ac216d8cdbbc0832c827fb60b87a79760d3375ae,ac216d8cdbbc0832c827fb60b87a79760d3375ae,"reduce Tuple2 allocations when building index (#468)

The largest group of allocations when rebuilding
the index was for Tuple2 objects created as part
of looping over the tags. This adjusts the structure
of the maps a bit so we can avoid creating those
objects."
skandragon,2016-12-02 04:32:00,https://api.github.com/repos/Netflix/atlas/git/commits/d9b0739f8e2dc27079883cf2507468963669a9d4,d9b0739f8e2dc27079883cf2507468963669a9d4,"initial version of lwc api (#459)

May need to find a better, name. LWC (lightweight
client) API is meant to provide a simple intermediate
service so we can remove a lot of the functionality
that has built up in the java client over time. This
is especially important given increasing internal
emphasis on polyglot and stream processing.

Many of the features in the internal Atlas client
library follow the pattern of taking a data expression
and outputting the data to it. These grew over time
so there are now a bunch of different forms such as
on-instance alert, cloudwatch publishing, file logging,
critical clusters, etc. The LWC API can be used as
a common service where those use-cases will subscribe
to get the data from the clients. The actual client
library then only needs to support subscriptions and
understand the query/data expr subset of stack expressions
to allow for local filtering and aggregation."
brharrington,2016-12-01 05:13:10,https://api.github.com/repos/Netflix/atlas/git/commits/80280820c29c6bb1d69f6096d187a438ff456f8c,80280820c29c6bb1d69f6096d187a438ff456f8c,docs: update docs for axis scale param (#465)
brharrington,2016-11-30 04:33:01,https://api.github.com/repos/Netflix/atlas/git/commits/692d77e02f03e0b3761b2ddfe917a63ae9031150,692d77e02f03e0b3761b2ddfe917a63ae9031150,"fix behavior of log scale for small values (#464)

Values between 0.0 and 1.0 were not being handled
correctly when using the log scale. Now the values
will get shifted by 1.0 before passing into the log
function so the value we compute the log on will
always be >= 1.0.

For negative values we still reflect the log behavior
across the axis, but now the 0 mark will be positioned
based on the amount above and below rather than always
centering it. The makes log match the other scales."
brharrington,2016-11-28 14:03:08,https://api.github.com/repos/Netflix/atlas/git/commits/077d6b6153ac8bade30136d5c70a37ed130325d8,077d6b6153ac8bade30136d5c70a37ed130325d8,"allow axis scale to be explicit (#463)

Adds a `scale` parameter to the graph api that takes
a string value representing the scale type to use. This
replaces the boolean flag `o` parameter used to indicate
a logarithmic scale. The `o` param is still supported
as a fallback if `scale` is not set for backwards
compatibility.

The primary advantages of this change are to potentially
allow for additional scale types and to allow any scale
type to be explicitly set in the configuration. With the
previous settings linear was only available as the default
if logarithmic was not set.

This change also adds power scales (`y=a*x^e+b`) with
exponents of 2 (`pow2`) and 0.5 (`sqrt`)."
brharrington,2016-11-23 16:05:11,https://api.github.com/repos/Netflix/atlas/git/commits/bfac889834cb4e5c334f7d19ecf350b3e4ee1bea,bfac889834cb4e5c334f7d19ecf350b3e4ee1bea,"avoid using String.format in hot code paths (#462)

String.format uses regex internally to parse the format
string. This makes it quite expensive and removing the
usage is an easy win."
brharrington,2016-11-23 15:53:49,https://api.github.com/repos/Netflix/atlas/git/commits/86b8e46cd27b21b3408bd0464c8a1c47251eb60b,86b8e46cd27b21b3408bd0464c8a1c47251eb60b,benchmark showing `format` against `zeroPad`
brharrington,2016-11-23 15:42:33,https://api.github.com/repos/Netflix/atlas/git/commits/2344928c2352231b371e99f52933ecebdbc4c022,2344928c2352231b371e99f52933ecebdbc4c022,use zeroPad for creating id strings
brharrington,2016-11-23 15:27:46,https://api.github.com/repos/Netflix/atlas/git/commits/3332fdb71d2fd07c53e12667b1a3d77caa7b4986,3332fdb71d2fd07c53e12667b1a3d77caa7b4986,"use zeroPad for encoding color values

Changes v2 json encoder to use a custom zero pad function
for color values rather than String.format.

```
Benchmark   Mode  Cnt       Score      Error  Units
before     thrpt   10  104178.301  6087.260  ops/s
after      thrpt   10  142775.471  6897.508  ops/s
```"
brharrington,2016-11-23 13:59:52,https://api.github.com/repos/Netflix/atlas/git/commits/85825326c8f77d259ae8fa0af0101090a4831493,85825326c8f77d259ae8fa0af0101090a4831493,"remove number_format flag

This option isn't being used internally and the
String.format calls have a high overhead due to
use of regex internally. For outputs with lots
of numbers this significantly improves the encoding
speed. Sample for a 12h graph with 2 lines at
minute resolution:

```
Benchmark      Mode  Cnt       Score      Error  Units
before        thrpt   10   48793.213  1442.775  ops/s
after         thrpt   10  130050.003  7937.085  ops/s
```"
brharrington,2016-11-23 02:47:56,https://api.github.com/repos/Netflix/atlas/git/commits/b7cabafb04af74cf7abda58b1f29ba56b7735c48,b7cabafb04af74cf7abda58b1f29ba56b7735c48,"fix handling for JsonDeserialize(using=...) (#461)

This was getting ignored before."
brharrington,2016-11-22 00:16:34,https://api.github.com/repos/Netflix/atlas/git/commits/1f50b83d3439ca39153c0f6c87584969c70f9ac9,1f50b83d3439ca39153c0f6c87584969c70f9ac9,"improve performance for accessing deserializer (#460)

Comparing our custom deserializer for case classes to
the default from jackson module scala:

```
Benchmark       Mode  Cnt      Score     Error  Units
default        thrpt   10  39889.677  483.340  ops/s
custom         thrpt   10  12219.647  479.135  ops/s
```

There is a big slow down. Most of that was for trying
to find the contextual deserializer for the field types.
Adding something to cache that:

```
custom         thrpt   10  36432.024   867.252  ops/s
```"
brharrington,2016-11-21 15:54:26,https://api.github.com/repos/Netflix/atlas/git/commits/5ee641f35463ba8da7b41352dd46f62d0a884abe,5ee641f35463ba8da7b41352dd46f62d0a884abe,"add hashed selection mode for color palettes (#458)

Allows the color to be selected based on the hash of
the label so that the same label can deterministically
get the same color across charts."
brharrington,2016-11-21 15:41:04,https://api.github.com/repos/Netflix/atlas/git/commits/eb33d8aa03b9123bb18cc7ed8844561823c352c1,eb33d8aa03b9123bb18cc7ed8844561823c352c1,update dependencies (#457)
brharrington,2016-11-21 13:43:37,https://api.github.com/repos/Netflix/atlas/git/commits/1cdc89bff547fa11560ef62998c0a64fe2a6b964,1cdc89bff547fa11560ef62998c0a64fe2a6b964,sbt 0.13.13
brharrington,2016-11-21 13:37:18,https://api.github.com/repos/Netflix/atlas/git/commits/1918c41f1a87388d99ebe56328626e5934e9a43f,1918c41f1a87388d99ebe56328626e5934e9a43f,sbt-jmh 0.2.17
brharrington,2016-11-21 13:35:58,https://api.github.com/repos/Netflix/atlas/git/commits/f514cfff3c68944f3acc25f6f225511b8dde053c,f514cfff3c68944f3acc25f6f225511b8dde053c,spectator 0.44.0
brharrington,2016-11-21 13:34:49,https://api.github.com/repos/Netflix/atlas/git/commits/3e6bf9133b7b0d511e81a6ee305e260f27d100f7,3e6bf9133b7b0d511e81a6ee305e260f27d100f7,iep-0.4.11
brharrington,2016-11-15 21:46:27,https://api.github.com/repos/Netflix/atlas/git/commits/3f346c1a85e55ed124e2209cacd7e45acc01e934,3f346c1a85e55ed124e2209cacd7e45acc01e934,docs: fix link to overview slides (#456)
brharrington,2016-11-11 15:37:19,https://api.github.com/repos/Netflix/atlas/git/commits/1677a47a89044ee9d99d5b15c4102415be281c6c,1677a47a89044ee9d99d5b15c4102415be281c6c,honor jackson annotations on case class params (#455)
brharrington,2016-11-11 15:28:50,https://api.github.com/repos/Netflix/atlas/git/commits/462ced13d87c64a777ad45bb1fbf59b427a896d2,462ced13d87c64a777ad45bb1fbf59b427a896d2,jackson 2.8.4
brharrington,2016-11-11 15:22:19,https://api.github.com/repos/Netflix/atlas/git/commits/3dcd89537dca9409f3751c84628c57194836d47e,3dcd89537dca9409f3751c84628c57194836d47e,"use BeanProperty for finding field deserializers

Creates a BeanProperty for each field of the case class
so the context can be maintained when finding the contextual
deserializer for the fields. In particular, this allows
jackson to access the annotations such as `JsonDeserialize`
on the parameters of the case class constructor."
brharrington,2016-11-08 22:19:00,https://api.github.com/repos/Netflix/atlas/git/commits/330e5fec84019c51c2ccce72dec489825730373f,330e5fec84019c51c2ccce72dec489825730373f,"honor JsonProperty annotation

Have custom case class deserializer honor `@JsonProperty`
annotations on the fields."
brharrington,2016-11-08 14:16:44,https://api.github.com/repos/Netflix/atlas/git/commits/27094d3b313cc64f2b68e3217aff92b61cb9062e,27094d3b313cc64f2b68e3217aff92b61cb9062e,"some patterns incorrectly interpretted as indexOf (#453)

For simple patterns the `StringMatcher` will convert
them to basic string operations that perform better
than using regular expressions.

If a simple pattern had an explicit end anchor, then it
was incorrectly choosing the `IndexOf` matcher rather
than falling back to using `Regex`. This change fixes
the `IndexOf` pattern and also adds an `Equals` matcher
to cover the simple case using `String.equals`."
brharrington,2016-11-08 13:52:27,https://api.github.com/repos/Netflix/atlas/git/commits/619142e8a518c4b91b62c4ab06f797d6df7082e7,619142e8a518c4b91b62c4ab06f797d6df7082e7,"fix #451: port setting in sample memory.conf (#452)

Port setting in sample memory.conf was not updated to
reflect changes introduced in #396."
brharrington,2016-11-03 15:10:21,https://api.github.com/repos/Netflix/atlas/git/commits/2bc3e52ec308e26f4f9afc79262b85dcf2680b3f,2bc3e52ec308e26f4f9afc79262b85dcf2680b3f,docs: getting started version to 1.5.0 (#449)
brharrington,2016-11-03 15:01:39,https://api.github.com/repos/Netflix/atlas/git/commits/1571b977bfdc4bf20ecad6e231aa14634634f0ef,1571b977bfdc4bf20ecad6e231aa14634634f0ef,update to spray 1.3.4 (#450)
brharrington,2016-11-03 14:51:48,https://api.github.com/repos/Netflix/atlas/git/commits/0bf37bc17948585cf27bdb32995d1a85b20dd4a6,0bf37bc17948585cf27bdb32995d1a85b20dd4a6,spectator 0.43.0 and iep 0.4.10
brharrington,2016-11-03 14:46:40,https://api.github.com/repos/Netflix/atlas/git/commits/629d99d4d541d9c34addafc0741067386a93ed26,629d99d4d541d9c34addafc0741067386a93ed26,"update to spray 1.3.4

This version fixes a security vulerability for directory
traversals on Windows:

https://groups.google.com/forum/#!topic/spray-user/4V3F_oLm_TA

We aren't using that method directly and do not run on
Windows, but that might not be true downstream."
brharrington,2016-10-29 16:42:03,https://api.github.com/repos/Netflix/atlas/git/commits/558bbfafddeb286f1f6312c3f0ca8455fbd94dc6,558bbfafddeb286f1f6312c3f0ca8455fbd94dc6,update base version for master to 1.6.x (#448)
brharrington,2016-10-29 14:14:06,https://api.github.com/repos/Netflix/atlas/git/commits/69aa97f6023c6d141ea928fbb3627bed48fd3a88,69aa97f6023c6d141ea928fbb3627bed48fd3a88,update dependencies (#447)
brharrington,2016-10-29 14:04:55,https://api.github.com/repos/Netflix/atlas/git/commits/99ce6cdcfc4c490c9aa1737ea39de3476dcfd5d4,99ce6cdcfc4c490c9aa1737ea39de3476dcfd5d4,scalatest 3.0.0
brharrington,2016-10-29 13:55:40,https://api.github.com/repos/Netflix/atlas/git/commits/d46ba5a8eacf64873d5d38853b9c32856e5748b7,d46ba5a8eacf64873d5d38853b9c32856e5748b7,equalsverifier 2.1.6
brharrington,2016-10-29 13:54:06,https://api.github.com/repos/Netflix/atlas/git/commits/a8021e7d371c835ab06bb2cc3ab7690702d3ab74,a8021e7d371c835ab06bb2cc3ab7690702d3ab74,iep 0.4.9
brharrington,2016-10-29 13:50:56,https://api.github.com/repos/Netflix/atlas/git/commits/756b68a93a553597e059cc7508c137523eb274f6,756b68a93a553597e059cc7508c137523eb274f6,sbt-jmh 0.2.16
brharrington,2016-10-29 13:44:17,https://api.github.com/repos/Netflix/atlas/git/commits/7c20b73eb6ae608fd5cc70ea6d3f55563d6c3e70,7c20b73eb6ae608fd5cc70ea6d3f55563d6c3e70,aws-java-sdk 1.11.49
brharrington,2016-10-29 13:42:52,https://api.github.com/repos/Netflix/atlas/git/commits/daed62a28524020dbef94205bbb9a16d61933642,daed62a28524020dbef94205bbb9a16d61933642,jol 0.6
brharrington,2016-10-29 13:41:59,https://api.github.com/repos/Netflix/atlas/git/commits/5bb4e6d1b50eb0e3b629199158f96fe163cbcf96,5bb4e6d1b50eb0e3b629199158f96fe163cbcf96,log4j 2.7
brharrington,2016-10-29 13:34:05,https://api.github.com/repos/Netflix/atlas/git/commits/abd41f1667f5f9cd5e68c1b236737d17d8c848b0,abd41f1667f5f9cd5e68c1b236737d17d8c848b0,akka 2.4.12
brharrington,2016-10-29 13:25:12,https://api.github.com/repos/Netflix/atlas/git/commits/d784f602e96d0926d06ec3aa4c5347e820d03860,d784f602e96d0926d06ec3aa4c5347e820d03860,spectator 0.42.0
brharrington,2016-10-29 13:21:29,https://api.github.com/repos/Netflix/atlas/git/commits/e01a836fbc6991f3b7f8f2889716a7dad9af81fe,e01a836fbc6991f3b7f8f2889716a7dad9af81fe,jackson 2.8.3
brharrington,2016-10-26 20:31:08,https://api.github.com/repos/Netflix/atlas/git/commits/faee3cb29ad19d7515dfc50b507d002fe7679e29,faee3cb29ad19d7515dfc50b507d002fe7679e29,"improve generic type detection (#446)

Uses the type information from the bean description
when available so we have more context as to the requested
types for generic parameters.

The `generics 2` test case would fail before this change
because it would decode to a `Map` instead of `Inner`."
brharrington,2016-10-24 22:18:44,https://api.github.com/repos/Netflix/atlas/git/commits/6c8aade916c8aba936727ee3d7b84def0fc513e3,6c8aade916c8aba936727ee3d7b84def0fc513e3,"do not call readValue if current token is null (#445)

If the current token for the parser is `VALUE_NULL`,
then use the default rather than call readValue. The
readValue call can throw which will cause it to incorrectly
fail to parse the object. Exceptions like:

```
com.fasterxml.jackson.databind.JsonMappingException: Can not
  deserialize instance of scala.collection.immutable.List out
  of VALUE_NULL token
```"
brharrington,2016-10-10 20:13:16,https://api.github.com/repos/Netflix/atlas/git/commits/9747d946ae88926cddb7175cce6e7e1d9fa22188,9747d946ae88926cddb7175cce6e7e1d9fa22188,"fix update of invalid datapoints metric (#444)

The counter was not getting incremented."
brharrington,2016-10-01 21:48:40,https://api.github.com/repos/Netflix/atlas/git/commits/27036e4c245fd44c237dfe1e51004c39c7a4b17a,27036e4c245fd44c237dfe1e51004c39c7a4b17a,"fill with zero for periods of inactivity (#442)

CloudWatch graphs will frequently show gaps if there is
low activity and if the reporting frequency is much larger
than the step size used with Atlas. With this change we'll
use an explicit zero value."
brharrington,2016-10-01 21:10:19,https://api.github.com/repos/Netflix/atlas/git/commits/5a657ee93b453bf37e897ae63e2094dc95261ce9,5a657ee93b453bf37e897ae63e2094dc95261ce9,"indicate filtering behavior in graph legend (#441)

Filters can be confusing when users get an empty graph
because nothing matched the filter criteria. The legend
should be updated to indicate how filtering modified the
result set."
brharrington,2016-10-01 20:58:21,https://api.github.com/repos/Netflix/atlas/git/commits/d587ad12dca456ed4417bbb46715d2869ce61c2e,d587ad12dca456ed4417bbb46715d2869ce61c2e,"add message to legend to summarize filters

For the simple case where there is a single group by
expression that is filtered, a message is now added
to the legend indicating how many matches there were
to the filter.

These can quickly get complicated when used with other
features. For example, sorting can mix and match lines
across multiple expressions. Also binary math
operations that combine the results of multiple filter
expressions or multi-level group by with filtered
input. For now this is just an experiment for the
common simple case to see how it impacts usability
when dealing with filter expressions that remove some
of the lines."
brharrington,2016-10-01 19:52:07,https://api.github.com/repos/Netflix/atlas/git/commits/71ef77608e5c75d0ed20d5f5c3769d0d454af078,71ef77608e5c75d0ed20d5f5c3769d0d454af078,"remove old diff files if images are now the same

Since we no longer generate the diff image if the test
and golden files are the same, the old diff images will
not get overridden and show up as a diff even if the problem
has since been fixed. Now the old diff image will get
deleted."
brharrington,2016-10-01 19:48:20,https://api.github.com/repos/Netflix/atlas/git/commits/43da9ecb78dbb99634aecca0f8e1b7cc291652ca,43da9ecb78dbb99634aecca0f8e1b7cc291652ca,add test case for MessageDef rendering
brharrington,2016-10-01 17:35:49,https://api.github.com/repos/Netflix/atlas/git/commits/f799e76debc06cd0f760e31425949d1c01807718,f799e76debc06cd0f760e31425949d1c01807718,"use error image for new tests with no golden file

Updates the report to make it easier to see images for
new tests without having to bless first."
brharrington,2016-10-01 17:15:04,https://api.github.com/repos/Netflix/atlas/git/commits/7213191b740a92ad5008077de5e2f6fd2d3b394b,7213191b740a92ad5008077de5e2f6fd2d3b394b,"include all DataDef types in legend

Before the legend was only including LineDefs. Now
spans are also include and a new MessageDef type is
added to allow legend entries that are not tied to
visual data. For example, information about filtering
the results of a group by where all lines have been
removed."
brharrington,2016-10-01 17:04:01,https://api.github.com/repos/Netflix/atlas/git/commits/0dead5268112562b14ad66971ca1a41ca55339e5,0dead5268112562b14ad66971ca1a41ca55339e5,"restrict image report to diffs by default

Updates the GraphAssertions to only show the entries
where there are differences by default. The previous
behavior is still available by calling `generateReport`
with the `diffsOnly` param set to `false`.

Also changes the code to only write the diff image to
disk if there is an actual difference."
brharrington,2016-09-30 20:19:22,https://api.github.com/repos/Netflix/atlas/git/commits/f75fe35b1ace7d57440c0fb05e590c7900edb2de,f75fe35b1ace7d57440c0fb05e590c7900edb2de,"fix minor issues with case class deserializer (#440)

This change fixes two issues with the case class
deserializer added in #439:

1. We now check the initial token type to verify
   it is an object.
2. Avoids creating the object before parsing the
   fields. That was done before to avoid the
   allocating the argument array for the constructor.
   However, it prevents users from being able to
   have additional validation as part of the
   constructor logic. Now the object will be
   created after the fields have all been processed
   and placed in the arguments array."
brharrington,2016-09-28 22:54:05,https://api.github.com/repos/Netflix/atlas/git/commits/294dc6bbbb9e09e16413a2618bae4e62061bdfac,294dc6bbbb9e09e16413a2618bae4e62061bdfac,"add custom case class deserializer (#439)

Adds a custom case class deserializer to the json
helper that supports default values used in the
case class constructor.

This is the more intuitive behavior most users
expect and avoids the need for wrapping in Option
or having custom deserializers for a given type
to fill in the defaults."
brharrington,2016-09-25 02:06:03,https://api.github.com/repos/Netflix/atlas/git/commits/77b8eefb46739fd3eec818c28b5d495d1020a3b4,77b8eefb46739fd3eec818c28b5d495d1020a3b4,dependency updates (#437)
brharrington,2016-09-25 02:04:42,https://api.github.com/repos/Netflix/atlas/git/commits/ea92e4d3f5229a2b523ec37e3b44e6e410a85530,ea92e4d3f5229a2b523ec37e3b44e6e410a85530,"fix #436, QueryIndex misses some entries (#438)

Once there was a match at a given level it would
check the sub-tree, but never check for matches
among siblings. Adds the test case from the issue
and a second that demonstrates the issue for the
`matches` function as well. The original test case
would pass for `matches` because both sub-trees
in the index would match."
brharrington,2016-09-25 01:17:56,https://api.github.com/repos/Netflix/atlas/git/commits/30a5f86de7f98583fe59988676ad40f6236dac9d,30a5f86de7f98583fe59988676ad40f6236dac9d,config 1.3.1
brharrington,2016-09-25 01:16:05,https://api.github.com/repos/Netflix/atlas/git/commits/0541fcf5bf32a56003c89ddb01a003301d28e3c0,0541fcf5bf32a56003c89ddb01a003301d28e3c0,caffeine 2.3.3
brharrington,2016-09-25 01:15:32,https://api.github.com/repos/Netflix/atlas/git/commits/31f41b2ffd8cd77fd2ef4ff4f1fbb15ed13d244d,31f41b2ffd8cd77fd2ef4ff4f1fbb15ed13d244d,aws-java-sdk 1.11.37
brharrington,2016-09-25 01:11:17,https://api.github.com/repos/Netflix/atlas/git/commits/8f08e5b149e39b701b03b0fac92f8b480e1ec901,8f08e5b149e39b701b03b0fac92f8b480e1ec901,iep 0.4.8
brharrington,2016-09-07 12:00:39,https://api.github.com/repos/Netflix/atlas/git/commits/136ec1c706450da278d82e3953e51cc676f3aa2c,136ec1c706450da278d82e3953e51cc676f3aa2c,"jackson 2.8.2 (#434)

This version fixes a bug with `Option[Trait]` getting
encoded as an empty object."
brharrington,2016-09-05 22:28:30,https://api.github.com/repos/Netflix/atlas/git/commits/2cac10434b8beaf4737e6d251293e6b439f011d9,2cac10434b8beaf4737e6d251293e6b439f011d9,"less repetitive expression normalization (#433)

Update the `/api/v1/expr/normalize` endpoint to be
less repetitive. In particular, the macros like `:avg`
and `:dist-stddev` are no longer expanded. Common
queries will also get extracted.

Analyzing around 60k expressions from logs:

| Result       | Before   | After   |
|--------------|----------|---------|
| longer       |   28,682 |   8,968 |
| shorter      |   30,678 |  46,170 |
| same length  |    2,630 |   6,852 |"
brharrington,2016-09-05 21:26:18,https://api.github.com/repos/Netflix/atlas/git/commits/922aeb829532ab51f1209274b87b14f777df6c70,922aeb829532ab51f1209274b87b14f777df6c70,"update normalize to be less repetitive

This mainly consists of two main changes:

1. Not all macros are expanded. Some such as, `:avg` and
   `:dist-stddev`, will be preserved so that the user sees
   the simple operation rather than the full math to compute
   those operations.
2. Common-queries will now be extracted and added as a final
   `:list,(,{query},:cq,),:each` expression if it reduces the
   overall length of the expression. If present, then that will
   always be the last element in the list of normalized
   expressions.

This change also updates the DES helper macros to avoid
expansion."
brharrington,2016-09-05 21:16:10,https://api.github.com/repos/Netflix/atlas/git/commits/c34cd38c2177f00cfe01e776e915bb746779cbef,c34cd38c2177f00cfe01e776e915bb746779cbef,"retain rewrite information for aggr macros

For macros that are meant to appear to the user like
additional aggregate functions it is preferrable if
we keep track of the rewrite rather than fully expand
it when presenting the expression to the user.

This change adds a NamedRewrite operation that keeps
track of the original expression for display as well
as the rewritten expression for evaluation."
brharrington,2016-09-05 21:10:56,https://api.github.com/repos/Netflix/atlas/git/commits/d1e93181a4a1688c1261cf720b28e0a133143c03,d1e93181a4a1688c1261cf720b28e0a133143c03,do not emit trailing comma when settings is empty
brharrington,2016-09-05 21:00:31,https://api.github.com/repos/Netflix/atlas/git/commits/c8913409092c7acd50e03a97ad402e45190bd875,c8913409092c7acd50e03a97ad402e45190bd875,":cq should elide :true for final query

When using `:cq` it should elide `:true` if present
rather than generating an expression ANDd with `:true`.
For example:

```
:true,:sum,name,foo,:eq,:cq
```

Before this change would expand to:

```
:true,name,foo,:eq,:and:sum
```

Now expands to:

```
name,foo,:eq,:sum
```"
brharrington,2016-09-04 01:22:54,https://api.github.com/repos/Netflix/atlas/git/commits/9fa557e65cc13bbe1ffe7ab509e6204ac8a03eaa,9fa557e65cc13bbe1ffe7ab509e6204ac8a03eaa,"add helper methods to normalize a query

Adds helper functions to normalize a query to CNF or
DNF."
brharrington,2016-09-01 21:25:03,https://api.github.com/repos/Netflix/atlas/git/commits/4dff5ec8d9b31464d1136d202830b09dc46d5058,4dff5ec8d9b31464d1136d202830b09dc46d5058,update wiki examples to use 1.4.7 (#432)
brharrington,2016-08-26 03:57:53,https://api.github.com/repos/Netflix/atlas/git/commits/ccb01d794a23e80bd8fd85885b8236608fa90ada,ccb01d794a23e80bd8fd85885b8236608fa90ada,"fix NPE if keyString is null for subset of values (#429)

If a subset of the time series passed to `GroupBy.eval` are
missing keys, then a NullPointerException will result when
sorting the groups. This change filters out the entries with
missing keys and adds some additional test cases for group by."
brharrington,2016-08-25 22:49:34,https://api.github.com/repos/Netflix/atlas/git/commits/b5014bccf4babe4a91b421c19e1977122d6a8490,b5014bccf4babe4a91b421c19e1977122d6a8490,"add vpc and subnet to default allowed-keys (#428)

Updates the allowed `nf.` keys to include vpc and subnet."
brharrington,2016-08-25 03:58:39,https://api.github.com/repos/Netflix/atlas/git/commits/5fea79282253d2032e1461467ad39f352b38f2ad,5fea79282253d2032e1461467ad39f352b38f2ad,"add test case for ActorService (#427)

Verifies that the actor is created on the expected
path. See #417 for more details."
brharrington,2016-08-25 03:42:58,https://api.github.com/repos/Netflix/atlas/git/commits/5f1b5a3791be2c92a0dc0ce28ebae6969cde005c,5f1b5a3791be2c92a0dc0ce28ebae6969cde005c,fix scaladoc warnings (#426)
brharrington,2016-08-25 03:42:10,https://api.github.com/repos/Netflix/atlas/git/commits/081e539424ad6e62e42e7eba8dd186657f58a311,081e539424ad6e62e42e7eba8dd186657f58a311,"fix warning in test case (#425)

Fixes a compiler warning in ClientActorSuite:

```
Warning:(173, 15) non-variable type argument spray.http.HttpResponse in type pattern scala.util.Try[spray.http.HttpResponse] is unchecked since it is eliminated by erasure
      case t: Try[HttpResponse] => response = t.asInstanceOf[Try[HttpResponse]]
```"
brharrington,2016-08-25 03:41:57,https://api.github.com/repos/Netflix/atlas/git/commits/d299de082e51c06c74a4312c828611ed642862d6,d299de082e51c06c74a4312c828611ed642862d6,"add lambda to default list of categories (#424)

The conf file is already there, but it got left out
of the main list."
brharrington,2016-08-24 04:34:29,https://api.github.com/repos/Netflix/atlas/git/commits/5a5ff0dac6999ec93ab96bd88db529605d5bf1f4,5a5ff0dac6999ec93ab96bd88db529605d5bf1f4,"fix batch that is written back (#423)

Use the immutable copy rather than the mutable
list for the batch that has already been cleared."
brharrington,2016-08-24 01:25:07,https://api.github.com/repos/Netflix/atlas/git/commits/d90a0fa55e38c45f03bb4a2cd6474147f89c1b9f,d90a0fa55e38c45f03bb4a2cd6474147f89c1b9f,"update modules to dedup (#422)

Changes the guice modules to be final and implement
equals and hashCode so that guice will dedup if it
is installed multiple times."
brharrington,2016-08-23 22:33:32,https://api.github.com/repos/Netflix/atlas/git/commits/304bc2631ad047cefe7098b559889f1ffec38dac,304bc2631ad047cefe7098b559889f1ffec38dac,"add poller to collect CloudWatch metrics data (#421)

Poller for collecting CloudWatch data and publishing
it into Atlas. This is a restructured from the legacy
db implementation used internally to wrap CloudWatch.
Overall the polling approach is preferred because:

* It makes CloudWatch data follow the same path as
  all other data. This means it is available for teeing
  to stream processing systems, long term storage in
  hive, etc.
* Querying CloudWatch on-demand does not scale well
  and it fails frequently due to throttles. In this
  case there is a consistent load all the time, but
  we can tune that for the needed set and avoid the
  really high bursts needed for on-demand queries.
* If we are lucky Amazon will support a way to get a
  stream of all CloudWatch metric data and we can
  switch to consuming that in the future. In the
  mean time we can make it look like a stream for
  most of our use-cases."
brharrington,2016-08-23 03:14:58,https://api.github.com/repos/Netflix/atlas/git/commits/c13e114ff40f351e2b32f1e3dcf41a8fd451cb8e,c13e114ff40f351e2b32f1e3dcf41a8fd451cb8e,"fix content type for client actor (#420)

Updates the content-type to be smile to match the
payload. This was mistakenly set as the accept header
earlier."
brharrington,2016-08-18 13:26:34,https://api.github.com/repos/Netflix/atlas/git/commits/5d74f35795207e299beaee47827cd89c02274c79,5d74f35795207e299beaee47827cd89c02274c79,"manager for polling data (#418)

Adds in the base manager that supervises a set of poller
actors. This is used for collecting metrics data from
various other services such as edda, healthcheck service,
cloudwatch, etc."
skandragon,2016-08-16 20:50:33,https://api.github.com/repos/Netflix/atlas/git/commits/51a898b017704702a3cc9bb368822ab0b48df5f1,51a898b017704702a3cc9bb368822ab0b48df5f1,"Merge pull request #417 from skandragon/fix-actor-path

Set actor name rather than using a generated one."
brharrington,2016-08-13 14:27:30,https://api.github.com/repos/Netflix/atlas/git/commits/df4590efc578838c4e3683c99e49621afcfcccd2,df4590efc578838c4e3683c99e49621afcfcccd2,"make ending '/' optional in path pattern (#416)

Updates the default path pattern to make the ending
slash optional. If it is a simple actor path it is
usually not present. Makes it match the setting we
are typically using internally."
brharrington,2016-08-13 14:17:09,https://api.github.com/repos/Netflix/atlas/git/commits/329c3317e9036a01ef7c20fcaf17faf2cbace7a0,329c3317e9036a01ef7c20fcaf17faf2cbace7a0,"look for routing config on loaded actors (#415)

Looks for routing config on routed actors including the
request-handler."
brharrington,2016-08-13 14:16:15,https://api.github.com/repos/Netflix/atlas/git/commits/6e37d0a6c4c9ffa67999afd670ded3c838b65894,6e37d0a6c4c9ffa67999afd670ded3c838b65894,"use tag map for block store lookup (#414)

The datapoint passed in computes the id on demand which
can be slow. The tag map is immutable and has a cached
hash code and is thus much cheaper for the initial lookup."
brharrington,2016-08-10 22:55:12,https://api.github.com/repos/Netflix/atlas/git/commits/86b7be8779c5939c82c50cebfd9dfeb613b97dad,86b7be8779c5939c82c50cebfd9dfeb613b97dad,"more robust hash code function (#413)

Changes the hash code function to be more similar
to the MurmurHash3.unorderedHash. This is mostly
paranoia that the simple additive method will be
terrible for some data sets. There is an added
test case that demonstrates a fairly bad case."
brharrington,2016-08-10 21:16:51,https://api.github.com/repos/Netflix/atlas/git/commits/e2eef318c0be3274f1b43e423b806ff5126df539,e2eef318c0be3274f1b43e423b806ff5126df539,"improve performance of SmallHashMap equality check (#412)

Overrides equals for SmallHashMap to improve the performance.
The two main changes are to use the cache hash code as a filter
and simply compare the elements of the array. This does much
better than the default inherited from GenMapLike that more or
less does:

```scala
this.forall { t => other.get(t._1) == Some(t._2) }
```

If the elements are not inserted in the same order, then they
may be in a different order in the array due to collisions.
However, others will be in the correct position and we can
limit the lookups to ones where there is a mismatch.

**Equal Maps**

Checking where the maps being compared are equal:

```
Benchmark                     Mode  Cnt          Score          Error  Units
currentEquals                thrpt   10   47004215.059   2291847.719  ops/s
inheritedEquals              thrpt   10    2134457.383    111821.520  ops/s
dataEquals                   thrpt   10   51326103.645    758297.787  ops/s
selfEquals                   thrpt   10  351279563.043  18578115.816  ops/s
```

Note:

* `currentEquals` - is SmallHashMap.equals, it does some
  sanity checks and then calls `dataEquals`.
* `inheritedEquals` - is the GenMapLike.equals.
* `dataEquals` - is the method used for comparing the array.
* `selfEquals` - is comparing against the same instance of the
  map. Just sanity checks that the special case is fast.

**Not Equal Maps**

Checking maps that are almost equal except that one data value
is different. Using the cached hash code as a pre filter is the
biggest contributor:

```
currentEqualsNot             thrpt   10  273893522.221   7980051.600  ops/s
inheritedEqualsNot           thrpt   10    2341207.187    206356.584  ops/s
dataEqualsNot                thrpt   10   32392263.165   1289262.059  ops/s
```

**Equal with Different Order**

Comparing equal maps, but constructed such that the order in the
underlying array is different. This means we have to do more
lookups rather than just traversing the array. For the examples
though there are typically still quite a few entries that are
in the same position for both maps.

```
currentEqualHashCodes        thrpt   10   14601802.119    360902.793  ops/s
inheritedEqualHashCodes      thrpt   10     483515.784     10044.781  ops/s
```"
brharrington,2016-08-09 23:13:29,https://api.github.com/repos/Netflix/atlas/git/commits/b1d41841b92ebd5aaebbba397a55506107d5c04d,b1d41841b92ebd5aaebbba397a55506107d5c04d,"switch to MurmurHash3.arrayHash (#411)

Switches the hashCode implementation for SmallHashMap
to call `MurmurHash3.arrayHash` instead of relying on
the implementation from the super class which calls
`MurmurHash3.mapHash`. The array variant is much faster
(3-4x) and greatly reduces allocations."
brharrington,2016-08-09 20:26:31,https://api.github.com/repos/Netflix/atlas/git/commits/4b0ecca1d0e90172b1eb7bd3f31485458e55ff47,4b0ecca1d0e90172b1eb7bd3f31485458e55ff47,"turn off interning while building the index (#410)

Adds an option to support turning off string interning while
building the index. In many cases the strings will already
have been interned while parsing the incoming payload and this
additional step is redundant."
brharrington,2016-08-09 18:23:58,https://api.github.com/repos/Netflix/atlas/git/commits/69d5b50e7fd4cb4add604d31df1c134ef8effbef,69d5b50e7fd4cb4add604d31df1c134ef8effbef,"reduce size of publish failure response (#409)

Fixes a bug where the failure message was getting encoded as
a json string inside the message of the json response. Also
changes the behavior on failures to have the error count
explicitly in the response and limit the number of specific
failure messages to the first 5. This significantly reduces
allocations and response sizes for payloads with many failures."
brharrington,2016-08-08 20:06:41,https://api.github.com/repos/Netflix/atlas/git/commits/7d984bb147d1392760fc28ad742d6286d5ff9b81,7d984bb147d1392760fc28ad742d6286d5ff9b81,"disable jackson buffer recycling (#408)

The thread local buffer recycling in jackson seems to
cause corruption in some cases. It is hard to reproduce
in a controlled setting, but we see it pretty reliably
on a big cluster. After disabling, the corruption is
no longer being seen. First observed in jackson 2.7.x.

Current tests do not show much performance impact for
our use-cases."
brharrington,2016-08-06 23:37:22,https://api.github.com/repos/Netflix/atlas/git/commits/cfb302e38c2dbdade7974f568fb80e39f8fe9ce7,cfb302e38c2dbdade7974f568fb80e39f8fe9ce7,reduce allocations for computing ids (#407)
brharrington,2016-08-06 23:12:23,https://api.github.com/repos/Netflix/atlas/git/commits/e91049b1c8d861a0b7a0eb556e40c75e78af3a78,e91049b1c8d861a0b7a0eb556e40c75e78af3a78,add naive method to computeId benchmark
brharrington,2016-08-06 22:49:51,https://api.github.com/repos/Netflix/atlas/git/commits/5811f6674d87bd7ff6d424a816ae14b7c4ef7e35,5811f6674d87bd7ff6d424a816ae14b7c4ef7e35,"reuse CharBuffer for encoding tag values

Most of the allocations for computing ids were for
creating the wrapped CharBuffer objects around the
strings. This change allocates a fixed buffer and
reuses it for each run.

Performance is a little bit better:

```
Before: computeIdSmallTagMap      thrpt   10  252703.940  11424.615  ops/s
 After: computeIdSmallTagMap      thrpt   10  262549.444   5860.124  ops/s
```

Allocations are a lot better, for the benchmark it
reduced by ~6.5GB."
brharrington,2016-08-06 22:27:45,https://api.github.com/repos/Netflix/atlas/git/commits/b9aab2c4781200269ee3e0b45818513301a80fee,b9aab2c4781200269ee3e0b45818513301a80fee,add test case for computing ids
brharrington,2016-08-06 21:44:01,https://api.github.com/repos/Netflix/atlas/git/commits/152b0dab00a1258d8d317f465e5abe7bae5786c4,152b0dab00a1258d8d317f465e5abe7bae5786c4,add benchmark for computing ids
brharrington,2016-08-04 03:13:59,https://api.github.com/repos/Netflix/atlas/git/commits/c8ced703569c80033c6074a0d6f23130baa4eb1a,c8ced703569c80033c6074a0d6f23130baa4eb1a,"fix #405 possible contract error using desc order (#406)

If the input set has many equal values it was possible to
get an exception:

```
IllegalArgumentException: Comparison method violates its general contract!
```

This is because the descending order was simply inverting
the ascending order comparator. With this change we sort
in ascending order and simply reverse the list if it should
be descending."
brharrington,2016-07-30 21:36:24,https://api.github.com/repos/Netflix/atlas/git/commits/d7eac10bd84bfa3e05c467ae0de3778f1d614f89,d7eac10bd84bfa3e05c467ae0de3778f1d614f89,misc build cleanup (#404)
brharrington,2016-07-30 21:26:18,https://api.github.com/repos/Netflix/atlas/git/commits/cff596e3dffdc1b56653341b1393d310d7c286e3,cff596e3dffdc1b56653341b1393d310d7c286e3,fix unused import and parens warnings
brharrington,2016-07-30 21:14:30,https://api.github.com/repos/Netflix/atlas/git/commits/136943f1dadd8e7ccedfcaddbc394f8726ee5c87,136943f1dadd8e7ccedfcaddbc394f8726ee5c87,"store creds before doing snapshot build

Update snapshot make target to store the credentials
first before doing the publish build. This is necessary
because if the creds file does not exist when the build
starts the bintray plugin will no longer be enabled."
brharrington,2016-07-30 21:11:55,https://api.github.com/repos/Netflix/atlas/git/commits/e2036dcb05048a8a0239e5d2bcff6e7ded77fc62,e2036dcb05048a8a0239e5d2bcff6e7ded77fc62,"fix storeBintrayCredentials task

Fixes the storeBintrayCredentials to work when the
bintray plugin is disabled. This allows us to generate
the file needed by the bintray plugin using the
environment variables available in the travis build."
brharrington,2016-07-30 20:53:04,https://api.github.com/repos/Netflix/atlas/git/commits/c44b865364963cc62a28a41d2c3f70ada5528a3e,c44b865364963cc62a28a41d2c3f70ada5528a3e,reduce repetition across sub-projects
brharrington,2016-07-30 20:40:04,https://api.github.com/repos/Netflix/atlas/git/commits/b4a61dc883a0a8f8f194083d942333bfac02848f,b4a61dc883a0a8f8f194083d942333bfac02848f,"disable bintray unless credentials are present

Disables the bintray plugin unless the credentials
file is present. This avoids many regular warnings
such as:

```
Missing bintray credentials /Users/brharrington/.bintray/.credentials. Some bintray features depend on this.
[warn] Credentials file /Users/brharrington/.bintray/.credentials does not exist
```"
brharrington,2016-07-30 20:05:43,https://api.github.com/repos/Netflix/atlas/git/commits/d1dd88ef62275c8479dc1594132c001e79c2f343,d1dd88ef62275c8479dc1594132c001e79c2f343,"fix ""wrong forward reference"" warnings"
brharrington,2016-07-30 17:28:24,https://api.github.com/repos/Netflix/atlas/git/commits/9235297745417fe9a4c72c46ed062bccb6bef72a,9235297745417fe9a4c72c46ed062bccb6bef72a,"add jsr305 dependency

This gets rid of the warnings like:

```
Class javax.annotation.CheckForNull not found - continuing with a stub.
```

This dependency can be removed after we update to
scala 2.12. For details see:

https://issues.scala-lang.org/browse/SI-9673"
brharrington,2016-07-30 17:04:48,https://api.github.com/repos/Netflix/atlas/git/commits/b166659d1d04be2e82a802a24dc4692c90fd5798,b166659d1d04be2e82a802a24dc4692c90fd5798,"switch from Build.scala to build.sbt

Support for Build.scala is going away in future
versions. See discussion for more details:

https://groups.google.com/forum/#!searchin/sbt-dev/build.scala%7Csort:relevance/sbt-dev/S-pr2nZQ3KY/YhUtksKf5PoJ

Migration was surprisingly painless: just rename,
delete some of the scaffolding (imports and build
object), and cleanup whitespace (`%s/^  //`)."
brharrington,2016-07-30 16:53:28,https://api.github.com/repos/Netflix/atlas/git/commits/117764bbd70bb133285e7c3d2aceabaf36823ae0,117764bbd70bb133285e7c3d2aceabaf36823ae0,sbt-dependency-graph 0.8.2
brharrington,2016-07-30 16:48:37,https://api.github.com/repos/Netflix/atlas/git/commits/50ffd7b637a997be5d01450a3d07b04563c446f3,50ffd7b637a997be5d01450a3d07b04563c446f3,remove unnecessary whitespace for plugins
brharrington,2016-07-30 02:33:02,https://api.github.com/repos/Netflix/atlas/git/commits/289490309652f7ad62d6b15f3c29de0b07b92312,289490309652f7ad62d6b15f3c29de0b07b92312,"make it easier to reuse access logging (#403)

Splits out a helper class for doing the access logging
based on the spray http classes. Makes it easier to
reuse in other contexts, in particular, for use with
clients."
brharrington,2016-07-25 23:27:02,https://api.github.com/repos/Netflix/atlas/git/commits/0e5b51ff0a4af086b4459e7d403d3d61cd55ebec,0e5b51ff0a4af086b4459e7d403d3d61cd55ebec,"fix #401, add scala version to artifact id (#402)

Makes it easier to automatically detect for tools
that want to index scala libraries."
brharrington,2016-07-21 16:27:13,https://api.github.com/repos/Netflix/atlas/git/commits/4c360d3bc2986be5dc2579dd82994688361c7763,4c360d3bc2986be5dc2579dd82994688361c7763,"move appender setup to log4j config (#400)

For more details see:

http://netflix.github.io/spectator/en/latest/ext/log4j2/

Which is a bit out of date, with the change below the
ordering issues are no longer a problem when using the
appender via the config:

https://github.com/Netflix/spectator/commit/33825db0b96e3337f68b85e9ecbc78567071aecc#diff-9bc272482ec3aa21411ff595a1f4225f"
brharrington,2016-07-21 16:14:25,https://api.github.com/repos/Netflix/atlas/git/commits/4188e3bfa64764f562e69b68ac436179318b10ba,4188e3bfa64764f562e69b68ac436179318b10ba,"remove diff helper, can be done with lib if needed (#399)"
brharrington,2016-07-21 16:14:09,https://api.github.com/repos/Netflix/atlas/git/commits/857888cdcf48f24d4dff1dcee601de3acb9ecc7b,857888cdcf48f24d4dff1dcee601de3acb9ecc7b,"create module packages for akka/webapi (#398)

Pulls the setup logic in standalone into modules that
we can just include in other projects. We don't use
the standalone jar internally it is just for simple
testing. This change allows us to further reduce
deviation from oss and internal."
brharrington,2016-07-21 04:42:08,https://api.github.com/repos/Netflix/atlas/git/commits/59024bba3fa64ee92bd6cc0b2d8506b5f6246e5b,59024bba3fa64ee92bd6cc0b2d8506b5f6246e5b,"inject config and actor system (#396)

Updates the akka helpers to be more DI friendly. In
particular, it removes the dependency on `atlas-config`
and injects the `Config` as well as the `ActorSystem`.

A helper setting `atlas.akka.actors` is now available
in the config to configure an actor to load into the
system."
brharrington,2016-07-21 03:25:47,https://api.github.com/repos/Netflix/atlas/git/commits/0331af8e26880780c6d0adeb4feb5b052e39efbf,0331af8e26880780c6d0adeb4feb5b052e39efbf,"remove aws lib (#397)

Replaced by [iep-module-aws](https://github.com/Netflix/iep/tree/master/iep-module-aws)."
brharrington,2016-07-19 12:49:39,https://api.github.com/repos/Netflix/atlas/git/commits/b9dc6d5ffbb3af224ff5242d3f1381d7eb56647e,b9dc6d5ffbb3af224ff5242d3f1381d7eb56647e,update dependencies (#395)
brharrington,2016-07-19 12:41:52,https://api.github.com/repos/Netflix/atlas/git/commits/42232fc54224b27d03643bf9919b0777cbebbf3d,42232fc54224b27d03643bf9919b0777cbebbf3d,"update jmh plugin (#394)

Newer version has convenient option for profiling
with flight recorder: `-prof jmh.extras.JFR`."
brharrington,2016-07-19 12:36:51,https://api.github.com/repos/Netflix/atlas/git/commits/f21cd0e5ec672a598cb46e1202874e370cca2db9,f21cd0e5ec672a598cb46e1202874e370cca2db9,aws-java-sdk 1.11.18
brharrington,2016-07-19 12:36:16,https://api.github.com/repos/Netflix/atlas/git/commits/8cd5bef3eb463c4c8cb86d6c8b0852ed82ced030,8cd5bef3eb463c4c8cb86d6c8b0852ed82ced030,akka 2.4.8
brharrington,2016-07-19 12:35:35,https://api.github.com/repos/Netflix/atlas/git/commits/992668f078563b471cdf788937368115a2b7a0e2,992668f078563b471cdf788937368115a2b7a0e2,equalsverifier 2.1.3
brharrington,2016-07-19 12:34:17,https://api.github.com/repos/Netflix/atlas/git/commits/4d1d76927154fc1aab1f1160d2fffa5fa16f18d1,4d1d76927154fc1aab1f1160d2fffa5fa16f18d1,log4j 2.6.2
brharrington,2016-07-15 21:12:07,https://api.github.com/repos/Netflix/atlas/git/commits/a8e37110c5e17be55e7865343bbb0a4341effc39,a8e37110c5e17be55e7865343bbb0a4341effc39,"fix #392, use random port for server in MainSuite (#393)"
brharrington,2016-07-10 15:21:46,https://api.github.com/repos/Netflix/atlas/git/commits/198bfd798072de288d789cba392c417a8292438d,198bfd798072de288d789cba392c417a8292438d,"make set load factor consistent with map (#391)

See #390 for further details. Deployments with the map
changes look good overnight. Changing set to be consistent."
brharrington,2016-07-09 19:38:44,https://api.github.com/repos/Netflix/atlas/git/commits/7e015e8b90375f2e623fd9ad059319dc017be414,7e015e8b90375f2e623fd9ad059319dc017be414,"adjust load factor for primitive maps (#390)

Changes the primitive maps to resize at 50% full
rather than 70%. The 70% factor was originally
chosen to keep the memory use lower and for the
primary use-cases we didn't see much performance
degradation at the time. Rolling it out to more
systems though we have started seeing cases where
it performs quite badly and 50% does an order of
magnitude better.

JMH test with a simple example included.

```
0.7

[info] Benchmark                        Mode  Cnt      Score     Error  Units
[info] IntIntMap.testIntIntHashMap800  thrpt   10  10374.640  782.568  ops/s
[info] IntIntMap.testIntIntHashMap8k   thrpt   10    589.537    8.124  ops/s
[info] IntIntMap.testJavaHashMap800    thrpt   10   4051.768  499.362  ops/s
[info] IntIntMap.testJavaHashMap8k     thrpt   10   2846.103   14.858  ops/s

0.5

[info] Benchmark                        Mode  Cnt      Score     Error  Units
[info] IntIntMap.testIntIntHashMap800  thrpt   10  11713.871  271.158  ops/s
[info] IntIntMap.testIntIntHashMap8k   thrpt   10   3963.805   59.359  ops/s
[info] IntIntMap.testJavaHashMap800    thrpt   10   4371.380   93.346  ops/s
[info] IntIntMap.testJavaHashMap8k     thrpt   10   2709.591   71.376  ops/s
```"
skandragon,2016-07-08 20:37:42,https://api.github.com/repos/Netflix/atlas/git/commits/0c0fb6cda6b2ad4e466edc3efb60f059ddb66c65,0c0fb6cda6b2ad4e466edc3efb60f059ddb66c65,"cleanup state management for expressions (#389)

For future work, we will want to render the internal
state to JSON or similar. This change set adds a side
object for OnlineDes and OnlineSlidingDes which is a
simple case class, easily rendered to JSON. This state
class is used in the :des and :sdes operators to store
and restore internal state, which allows this to be
rendered to JSON as well.

Additionally, the state passed into StatefulExpression
eval() methods is not modified in any expression."
brharrington,2016-07-07 04:09:51,https://api.github.com/repos/Netflix/atlas/git/commits/2bafcbc09cbb122cb332f797f7eea94b813d2c0b,2bafcbc09cbb122cb332f797f7eea94b813d2c0b,"Merge pull request #388 from brharrington/rm-println

remove println statements in trend test"
brharrington,2016-07-07 03:57:21,https://api.github.com/repos/Netflix/atlas/git/commits/f1199551855c9b1a7ebef3bce7f9c5e6c9c80624,f1199551855c9b1a7ebef3bce7f9c5e6c9c80624,remove println statements in trend test
brharrington,2016-07-07 03:32:27,https://api.github.com/repos/Netflix/atlas/git/commits/02e014aa8246dd13892ac5c09370e7fcff4b2756,02e014aa8246dd13892ac5c09370e7fcff4b2756,"Merge pull request #387 from brharrington/docs

docs: update multi-y palette docs (#386)"
brharrington,2016-07-07 03:21:03,https://api.github.com/repos/Netflix/atlas/git/commits/2632a2e0640b7c4f5578bc01f20b4ccb8f228e7d,2632a2e0640b7c4f5578bc01f20b4ccb8f228e7d,"docs: add desc for :line, :area, and :stack"
brharrington,2016-07-07 03:07:59,https://api.github.com/repos/Netflix/atlas/git/commits/fbc12676ee66360cf14565e071354841687a608e,fbc12676ee66360cf14565e071354841687a608e,docs: update description for :ls
brharrington,2016-07-07 02:52:24,https://api.github.com/repos/Netflix/atlas/git/commits/0b473c774ac89e2331e2222fe88220b98fac87a3,0b473c774ac89e2331e2222fe88220b98fac87a3,docs: update description and expample for :vspan
brharrington,2016-07-07 02:23:13,https://api.github.com/repos/Netflix/atlas/git/commits/936a5f546cd4da715fb9c09b82d7994906203234,936a5f546cd4da715fb9c09b82d7994906203234,docs: update multi-y palette docs (#386)
brharrington,2016-07-07 01:43:22,https://api.github.com/repos/Netflix/atlas/git/commits/60b2c8fda3b883edf4a30fea3098a35e5309ee40,60b2c8fda3b883edf4a30fea3098a35e5309ee40,"Merge pull request #386 from brharrington/multi-y-palette

use color per line by default in multi-y"
brharrington,2016-07-07 01:37:48,https://api.github.com/repos/Netflix/atlas/git/commits/7152047586b481b1e036100df3d1ec2bf75f82c1,7152047586b481b1e036100df3d1ec2bf75f82c1,"Merge pull request #385 from brharrington/dependency-updates

iep 0.4.4"
brharrington,2016-07-07 01:16:47,https://api.github.com/repos/Netflix/atlas/git/commits/bacebe7f78e6617f034957c1fe1e6ddba6faa294,bacebe7f78e6617f034957c1fe1e6ddba6faa294,"use color per line by default in multi-y

Previously, multi-y would enable a mode where there
would be one color use per axis by default. This is
to discourage creating confusing graphs where it is
difficult or impossible to figure out which axis a
line corresponds with. It is still recommended to
avoid using more that one line per axis when using
multi-y.

This change modifies the behavior of the palette so
that by default each line will take the next color
from the main palette. This behavior seems to be less
confusing to most users, though it doesn't help to
discourage the anti-pattern of creating confusing
charts where the lines cannot be accurately associated
with an axis.

The behavior if an explicit palette is specified for
a given axis is not changed."
brharrington,2016-07-06 23:38:21,https://api.github.com/repos/Netflix/atlas/git/commits/9feb2ed4103aea7e3a02e609e6ab12aa526cfcdc,9feb2ed4103aea7e3a02e609e6ab12aa526cfcdc,equalsverifier 2.1.2
brharrington,2016-07-06 23:37:51,https://api.github.com/repos/Netflix/atlas/git/commits/c73af35338dc9e4660ad0c738c398cfdd716b5ee,c73af35338dc9e4660ad0c738c398cfdd716b5ee,aws-java-sdk 1.11.14
brharrington,2016-07-06 23:36:45,https://api.github.com/repos/Netflix/atlas/git/commits/ffd07ae45af20c6c9fcc3169951dc93b195212f2,ffd07ae45af20c6c9fcc3169951dc93b195212f2,iep 0.4.4
brharrington,2016-07-05 18:04:53,https://api.github.com/repos/Netflix/atlas/git/commits/df0bf3d4c6ddde160418b1ccb8dfc0dba1f3401a,df0bf3d4c6ddde160418b1ccb8dfc0dba1f3401a,"Merge pull request #384 from skandragon/trend-streaming

add a test case for Trend streaming"
skandragon,2016-07-05 17:30:19,https://api.github.com/repos/Netflix/atlas/git/commits/7e8db84549cd3face03880bd4c638aa5f0dfee32,7e8db84549cd3face03880bd4c638aa5f0dfee32,"fix :sdes to handle streaming updates

Refactors the `:sdes` operator to properly handle evaluation
with incremental updates. Before the `pos` was never getting
updated, so the first value would get set to `NaN` and all others
would not be modified.

As part of this change the code was refactored a bit so that
the `OnlineSlidingDes` instance is now part of the state object.
This means that the state passed in to eval will get modified.
For now that is ok, but the plan is to clean it up in future commits
as part of making the state serializable."
brharrington,2016-06-18 22:49:08,https://api.github.com/repos/Netflix/atlas/git/commits/ed361fb1454049dfc30d29453127f1a404212a58,ed361fb1454049dfc30d29453127f1a404212a58,"Merge pull request #380 from brharrington/legend-decode

hex decoding for legend values (bug 1271)"
brharrington,2016-06-18 22:39:24,https://api.github.com/repos/Netflix/atlas/git/commits/0661cc489bec50df535c4c374bda9c8d7275c385,0661cc489bec50df535c4c374bda9c8d7275c385,"Merge pull request #379 from brharrington/dep-updates

refresh dependencies"
brharrington,2016-06-18 22:15:31,https://api.github.com/repos/Netflix/atlas/git/commits/d42af8979f6552e129adc84365662e14444a2664,d42af8979f6552e129adc84365662e14444a2664,"hex decoding for legend values (bug 1271)

Provides a style operator, `:decode`, that can be
used to perform hex decoding of the legend text.

Background: internally we restrict input to simple
alpha-numeric characters, `.`, `-`, and `_`. if
characters are used the data will get dropped as
invalid. If using the servo-atlas module, then it
will convert invalid characters to `_`. Most
commonly that was done for spaces.

The restriction is to ensure that it is easy and
safe to craft the query expressions and include
them as part of the URI in a variety of contexts.
Precise linkability is extremely important and
should not be compromised.

Some users do their own url encoding and the `%`
then gets converted to an `_`. This allows them
to undo the restriction and get the original
characters back. With this change that decoding
can now be specified as part of the expression.

There are quite a few misgivings about this
feature. In my view this feature encourages bad
behavior such as trying to encode structural
information into tag values or trying to abuse
it as a more general purpose data store. The
compromise for now is supporting the decode
with a clear warning in the docs and we'll see
how it goes."
brharrington,2016-06-18 20:23:19,https://api.github.com/repos/Netflix/atlas/git/commits/4fcacad8d0c6c443b69f4e35365b3391f16282ac,4fcacad8d0c6c443b69f4e35365b3391f16282ac,update launcher version
brharrington,2016-06-18 20:21:19,https://api.github.com/repos/Netflix/atlas/git/commits/a62d7f0456f65293708b03bee172e03ad9a780e2,a62d7f0456f65293708b03bee172e03ad9a780e2,iep 0.4.3
brharrington,2016-06-18 20:19:20,https://api.github.com/repos/Netflix/atlas/git/commits/10ba7c8c2cca18a5bd413ad35565ae60f35247d9,10ba7c8c2cca18a5bd413ad35565ae60f35247d9,aws-java-sdk 1.11.8
brharrington,2016-06-18 20:18:30,https://api.github.com/repos/Netflix/atlas/git/commits/3f8a19c654f3df3a6cc4495f3fd53945f63488a9,3f8a19c654f3df3a6cc4495f3fd53945f63488a9,spectator 0.40.0
brharrington,2016-06-18 20:17:39,https://api.github.com/repos/Netflix/atlas/git/commits/d27339941a7bd20ce04650b8dd5f6719968d27e8,d27339941a7bd20ce04650b8dd5f6719968d27e8,log4j 2.6.1
brharrington,2016-06-18 20:17:01,https://api.github.com/repos/Netflix/atlas/git/commits/59f56d131d8c58a1ea664f11c8ed57fee6fcc84a,59f56d131d8c58a1ea664f11c8ed57fee6fcc84a,caffeine 2.3.1
brharrington,2016-06-18 20:16:28,https://api.github.com/repos/Netflix/atlas/git/commits/3e00f4a2657bf70de89d8f6c723df17ffbe9af49,3e00f4a2657bf70de89d8f6c723df17ffbe9af49,equalsverifier 2.1.1
brharrington,2016-06-18 20:08:59,https://api.github.com/repos/Netflix/atlas/git/commits/d6aed41b35f8f9fea019a9dc1002f5640d0b2855,d6aed41b35f8f9fea019a9dc1002f5640d0b2855,guice 4.1.0
brharrington,2016-06-13 15:58:50,https://api.github.com/repos/Netflix/atlas/git/commits/4aec834611f8fd985d4d8cda3dfcc98356f7a12a,4aec834611f8fd985d4d8cda3dfcc98356f7a12a,"Merge pull request #378 from brharrington/query-idx-memuse

reduce memory use for query index"
brharrington,2016-06-11 23:03:41,https://api.github.com/repos/Netflix/atlas/git/commits/7fe80d9e196cc73251db4182cb3a3f98c7fbd90f,7fe80d9e196cc73251db4182cb3a3f98c7fbd90f,"improve performance of misses with SmallHashMap

The default apply will create a map with the exact size
of the input to optimize for memory use. This results
in terrible performance for lookups of items that are not
in the map because the entire array has to be scanned.

In this case we use the builder and give 2x the size of
the input so there will be 50% unused entries. Since we
expect many misses this gives us better performance and
memory overhead isn't too bad. It is still much lower
than default immutable map since we don't need entry
objects.

**Performance Using Default Map**

```
[info] Benchmark                         Mode  Cnt        Score       Error  Units
[info] QueryIndexMatching.index_100     thrpt   10  1495308.867  54215.813  ops/s
[info] QueryIndexMatching.index_1000    thrpt   10  1447373.235  60491.960  ops/s
[info] QueryIndexMatching.index_10000   thrpt   10  1343245.217  82847.803  ops/s
[info] QueryIndexMatching.index_100000  thrpt   10  1290678.687  68877.756  ops/s
[info] QueryIndexMatching.loop_100      thrpt   10   734350.577  57604.617  ops/s
[info] QueryIndexMatching.loop_1000     thrpt   10    65103.998   3152.273  ops/s
[info] QueryIndexMatching.loop_10000    thrpt   10     3895.021    406.819  ops/s
[info] QueryIndexMatching.loop_100000   thrpt   10      385.435     14.239  ops/s
```

**Performance Before Change with SmallHashMap**

```
[info] Benchmark                         Mode  Cnt       Score       Error  Units
[info] QueryIndexMatching.index_100     thrpt   10   77343.378  16091.544  ops/s
[info] QueryIndexMatching.index_1000    thrpt   10    7452.957    131.788  ops/s
[info] QueryIndexMatching.index_10000   thrpt   10     938.720     22.593  ops/s
[info] QueryIndexMatching.index_100000  thrpt   10      51.562      4.846  ops/s
[info] QueryIndexMatching.loop_100      thrpt   10  739149.328  38309.430  ops/s
[info] QueryIndexMatching.loop_1000     thrpt   10   73096.869   4677.274  ops/s
[info] QueryIndexMatching.loop_10000    thrpt   10    4290.191    496.381  ops/s
[info] QueryIndexMatching.loop_100000   thrpt   10     344.407     56.982  ops/s
```

**Performance After Change with SmallHashMap**

```
[info] Benchmark                         Mode  Cnt        Score       Error  Units
[info] QueryIndexMatching.index_100     thrpt   10  1386693.379  52800.430  ops/s
[info] QueryIndexMatching.index_1000    thrpt   10  1275380.749  34382.363  ops/s
[info] QueryIndexMatching.index_10000   thrpt   10  1346079.349  37157.088  ops/s
[info] QueryIndexMatching.index_100000  thrpt   10  1281227.628  24131.273  ops/s
[info] QueryIndexMatching.loop_100      thrpt   10   738372.264  49134.852  ops/s
[info] QueryIndexMatching.loop_1000     thrpt   10    69248.131   1878.153  ops/s
[info] QueryIndexMatching.loop_10000    thrpt   10     6038.581   2779.993  ops/s
[info] QueryIndexMatching.loop_100000   thrpt   10      404.772     35.624  ops/s
```

**Memory Usage**

Memmory use for 100 queries from logs:

```
Object                         Size (bytes)
-------------------------------------------
Query index default map             466,632
Query index small before            246,568
Query index small after             241,064
```

Note that the reduction here is because there are many
small maps with less than 5 items. These now keep the
special cased default maps for those sizes. So we see
a bit of a reduction overall even though the size of the
actual SmallHashMap intances will be larger."
brharrington,2016-06-11 21:45:04,https://api.github.com/repos/Netflix/atlas/git/commits/6a5761b3e832f3b8d799c1a1bae3c45481c10cc9,6a5761b3e832f3b8d799c1a1bae3c45481c10cc9,"use SmallHashMap for children of QueryIndex

The small hash map class uses quite a bit less memory
than the default immutable map in scala. For a sample
dataset of 100 queries pulled from logs the index size
is reduced by about 50%:

```
Object                         Size (bytes)
-------------------------------------------
Query index default Map             466,632
Query index SmallHashMap            246,568
```"
brharrington,2016-06-11 21:21:34,https://api.github.com/repos/Netflix/atlas/git/commits/e5900e72bc516f754fb60cc6a7410fec896d60ad,e5900e72bc516f754fb60cc6a7410fec896d60ad,"reuse common sub-indexes

The query index was just recursively building
the query index tree resulting in many common
sub-trees. This is wasteful for both computation
and memory use. This change adds a simple map
to lookup if a sub-index has already been
computed.

For the naive test query set it doesn't result
in all that big of a reduction:

```
Object                         Size (bytes)
-------------------------------------------
Input queries                        22,896
Query index                          27,560
Query index w/ reuse                 24,968
```

Subtracting out the size of the input queries:

```
Object                         Size (bytes)
-------------------------------------------
Query index                           4,664
Query index w/ reuse                  2,072
```

Around 50% reduction in overhead for the index.
Looking at a real dataset of 100 queries pulled
from logs we see a much bigger reduction:

```
Object                         Size (bytes)
-------------------------------------------
Input queries                        27,256
Query index                      65,700,776
Query index w/ reuse                466,632
```

Footprint for query index before change:

```
com.netflix.atlas.core.index.QueryIndex@28194a50d footprint:
     COUNT       AVG       SUM   DESCRIPTION
       150        50      7584   [C
         2        48        96   [I
     23991        43   1050512   [Lscala.collection.immutable.HashMap;
   1092317        24  26215608   com.netflix.atlas.core.index.QueryIndex
       168        24      4032   com.netflix.atlas.core.index.QueryIndex$Entry
       270        24      6480   com.netflix.atlas.core.model.Query$And
       140        24      3360   com.netflix.atlas.core.model.Query$Equal
         5        24       120   com.netflix.atlas.core.model.Query$In
         2        16        32   com.netflix.atlas.core.model.Query$Not
         5        24       120   com.netflix.atlas.core.model.Query$Or
         5        24       120   com.netflix.atlas.core.model.Query$Regex
         1        16        16   com.netflix.atlas.core.model.Query$True$
         2        24        48   com.netflix.atlas.core.util.StringMatcher$Regex
         2        24        48   com.netflix.atlas.core.util.StringMatcher$Regex$$anon$1
         3        24        72   com.netflix.atlas.core.util.StringMatcher$StartsWith
       150        24      3600   java.lang.String
         2        72       144   java.util.regex.Pattern
         2        16        32   java.util.regex.Pattern$Begin
         1        32        32   java.util.regex.Pattern$Curly
         1        16        16   java.util.regex.Pattern$Dot
         1        16        16   java.util.regex.Pattern$LastNode
         1        16        16   java.util.regex.Pattern$Node
         2        24        48   java.util.regex.Pattern$Slice
         1        16        16   scala.None$
         3        16        48   scala.Some
    149671        24   3592104   scala.Tuple2
    503625        24  12087000   scala.collection.immutable.$colon$colon
    149671        32   4789472   scala.collection.immutable.HashMap$HashMap1
     23991        24    575784   scala.collection.immutable.HashMap$HashTrieMap
         1        16        16   scala.collection.immutable.Map$EmptyMap$
    375497        24   9011928   scala.collection.immutable.Map$Map1
    164983        32   5279456   scala.collection.immutable.Map$Map2
     56618        40   2264720   scala.collection.immutable.Map$Map3
     16832        48    807936   scala.collection.immutable.Map$Map4
         1        16        16   scala.collection.immutable.Nil$
         4        24        96   scala.collection.immutable.Set$Set2
         1        32        32   scala.collection.immutable.Set$Set4
   2558122            65700776   (total)
```

Footprint for query index after change:

```
com.netflix.atlas.core.index.QueryIndex@50f6ac94d footprint:
     COUNT       AVG       SUM   DESCRIPTION
       150        50      7584   [C
         2        48        96   [I
      1006        37     37824   [Lscala.collection.immutable.HashMap;
      2274        24     54576   com.netflix.atlas.core.index.QueryIndex
       141        24      3384   com.netflix.atlas.core.index.QueryIndex$Entry
       270        24      6480   com.netflix.atlas.core.model.Query$And
       140        24      3360   com.netflix.atlas.core.model.Query$Equal
         5        24       120   com.netflix.atlas.core.model.Query$In
         2        16        32   com.netflix.atlas.core.model.Query$Not
         5        24       120   com.netflix.atlas.core.model.Query$Or
         5        24       120   com.netflix.atlas.core.model.Query$Regex
         1        16        16   com.netflix.atlas.core.model.Query$True$
         2        24        48   com.netflix.atlas.core.util.StringMatcher$Regex
         2        24        48   com.netflix.atlas.core.util.StringMatcher$Regex$$anon$1
         3        24        72   com.netflix.atlas.core.util.StringMatcher$StartsWith
       150        24      3600   java.lang.String
         2        72       144   java.util.regex.Pattern
         2        16        32   java.util.regex.Pattern$Begin
         1        32        32   java.util.regex.Pattern$Curly
         1        16        16   java.util.regex.Pattern$Dot
         1        16        16   java.util.regex.Pattern$LastNode
         1        16        16   java.util.regex.Pattern$Node
         2        24        48   java.util.regex.Pattern$Slice
         1        16        16   scala.None$
         3        16        48   scala.Some
      4647        24    111528   scala.Tuple2
       153        24      3672   scala.collection.immutable.$colon$colon
      4647        32    148704   scala.collection.immutable.HashMap$HashMap1
      1006        24     24144   scala.collection.immutable.HashMap$HashTrieMap
         1        16        16   scala.collection.immutable.Map$EmptyMap$
       250        24      6000   scala.collection.immutable.Map$Map1
       446        32     14272   scala.collection.immutable.Map$Map2
       530        40     21200   scala.collection.immutable.Map$Map3
       398        48     19104   scala.collection.immutable.Map$Map4
         1        16        16   scala.collection.immutable.Nil$
         4        24        96   scala.collection.immutable.Set$Set2
         1        32        32   scala.collection.immutable.Set$Set4
     16256              466632   (total)
```"
brharrington,2016-06-11 20:48:28,https://api.github.com/repos/Netflix/atlas/git/commits/0bc717bf70c234d7535bf9800acb8c5a2eea4fbe,0bc717bf70c234d7535bf9800acb8c5a2eea4fbe,"intern query objects and strings while parsing

The biggest chunk of memory usage for the test query set
is coming from the query objects themselves. Sizes:

```
Object                         Size (bytes)
-------------------------------------------
Input queries                        71,976
Query index                          76,640
Input queries w/ interning           22,896
```

This is just an example as part of the test. It was needed
so we could test larger data sets without getting an OOM
exception. It is not being rolled into the query index
because it would likely need to be done earlier while
processing input queries. The mechanism can be copied from
the test case for now if it is needed. If a more generic
utility is found to be generally useful going forward,
then we'll revisit."
brharrington,2016-06-11 20:37:53,https://api.github.com/repos/Netflix/atlas/git/commits/8ee678ae9dc12cbf931e9eaab4eda21df26eebd4,8ee678ae9dc12cbf931e9eaab4eda21df26eebd4,add test case showing memory use of query index
brharrington,2016-06-10 15:31:16,https://api.github.com/repos/Netflix/atlas/git/commits/6d3ad5e865ea4d138f28b0656cbc27805807e732,6d3ad5e865ea4d138f28b0656cbc27805807e732,"Merge pull request #377 from brharrington/issue-373

fixes #373 - return 400 status code for bad object"
brharrington,2016-06-10 15:15:44,https://api.github.com/repos/Netflix/atlas/git/commits/a3acd375b3c732cb05df4289939cc1bbd48483c0,a3acd375b3c732cb05df4289939cc1bbd48483c0,"Merge pull request #375 from brharrington/deprecated-spectator-sandbox

move off deprecated BucketCounter"
brharrington,2016-06-10 15:13:53,https://api.github.com/repos/Netflix/atlas/git/commits/78f913d35275903056acf369fcbdc8117846d12e,78f913d35275903056acf369fcbdc8117846d12e,fixes #373 - return 400 status code for bad object
brharrington,2016-06-10 13:17:33,https://api.github.com/repos/Netflix/atlas/git/commits/34642be517eacfbe667093cd3baffa355df71fba,34642be517eacfbe667093cd3baffa355df71fba,move off deprecated BucketCounter
brharrington,2016-06-08 04:11:13,https://api.github.com/repos/Netflix/atlas/git/commits/12e98037bbf1b43dab91d282212cb5f099a6ac42,12e98037bbf1b43dab91d282212cb5f099a6ac42,"Merge pull request #372 from brharrington/v2-json-axis-color

always add the axis color"
brharrington,2016-06-08 04:00:18,https://api.github.com/repos/Netflix/atlas/git/commits/ca5249680a84d2e4a3d72c73b3ffb39dab04a6cf,ca5249680a84d2e4a3d72c73b3ffb39dab04a6cf,"always add the axis color

For the v2.json format always be explicit about
the axis color. Before it was optional, but this
makes it easier for dynamic rendering without having
to worry about the rules the backend uses to
assign the color based on the lines."
brharrington,2016-06-07 14:58:22,https://api.github.com/repos/Netflix/atlas/git/commits/a5dceef4ce11d8e1fb22c3439fb35130350d7225,a5dceef4ce11d8e1fb22c3439fb35130350d7225,"Merge pull request #371 from brharrington/rm-request-id

remove legacy request id class"
brharrington,2016-06-07 14:45:07,https://api.github.com/repos/Netflix/atlas/git/commits/c75bbaf879180a53a3696094e0c6ac86e6eb7546,c75bbaf879180a53a3696094e0c6ac86e6eb7546,"Merge pull request #370 from brharrington/v2-json-plot-ref

lines should explicitly refer to axis"
brharrington,2016-06-07 14:42:00,https://api.github.com/repos/Netflix/atlas/git/commits/31e5597fd5a3bc5e9c8d09c4841a1562b691244f,31e5597fd5a3bc5e9c8d09c4841a1562b691244f,"Merge pull request #368 from brharrington/jackson-2.7.4

jackson 2.7.4"
brharrington,2016-06-07 14:41:37,https://api.github.com/repos/Netflix/atlas/git/commits/b7fb16e2debf14ac8c349340b5bbd2806710dc10,b7fb16e2debf14ac8c349340b5bbd2806710dc10,"Merge pull request #369 from brharrington/trusty

use trusty build environment"
brharrington,2016-06-07 14:40:33,https://api.github.com/repos/Netflix/atlas/git/commits/bf153453785e92e10b127401092fe4410750ed5e,bf153453785e92e10b127401092fe4410750ed5e,remove legacy request id class
brharrington,2016-06-07 14:31:03,https://api.github.com/repos/Netflix/atlas/git/commits/0a258252e7f0363df749a93b1fd1c52853c5fe80,0a258252e7f0363df749a93b1fd1c52853c5fe80,"lines should explicitly refer to axis

For the experimental v2.json format this changes the
output so that all plot metadata will be emitted first
and then the lines will explicitly refer to the axis.

Before the metadata for a plot would be emitted followed
by all lines on that plot. That would be repeated for
each plot. The problem with this is that format becomes
cumbersome for a streaming evaluation where we only have
data for a single time interval at a time. With this
change the same format can be used for the normal
evaluation or a streaming evaluation."
brharrington,2016-06-07 12:49:21,https://api.github.com/repos/Netflix/atlas/git/commits/2c97fd1b2b213c3f8dc1a3d156b874a234d76c05,2c97fd1b2b213c3f8dc1a3d156b874a234d76c05,"use trusty build environment

https://docs.travis-ci.com/user/trusty-ci-environment/"
brharrington,2016-06-07 12:36:19,https://api.github.com/repos/Netflix/atlas/git/commits/4aa8a625fd7a4d87580bab03bac25464e4cbabda,4aa8a625fd7a4d87580bab03bac25464e4cbabda,aws sdk 1.11.6
brharrington,2016-06-07 12:34:57,https://api.github.com/repos/Netflix/atlas/git/commits/7d9ece16536e9a4a257c10de603569d5757926ef,7d9ece16536e9a4a257c10de603569d5757926ef,akka 2.4.7
brharrington,2016-06-07 12:28:39,https://api.github.com/repos/Netflix/atlas/git/commits/ca028ddf0c7b9514b4ff06baa363ff21a6b8ceb6,ca028ddf0c7b9514b4ff06baa363ff21a6b8ceb6,"jackson 2.7.4

Note, scala Option now behaves more like java 8
Optional. The include setting has been changed
from NON_NULL to NON_ABSENT."
jkschneider,2016-05-28 01:05:25,https://api.github.com/repos/Netflix/atlas/git/commits/c4b6baf299b4b78d0e21f0325685b0fb9b9d0aa8,c4b6baf299b4b78d0e21f0325685b0fb9b9d0aa8,Updated Bintray API key
brharrington,2016-05-23 18:20:09,https://api.github.com/repos/Netflix/atlas/git/commits/46b6b158384f702c17ca5a4357cc785314f05156,46b6b158384f702c17ca5a4357cc785314f05156,"Merge pull request #362 from brharrington/des-stream-eval

fix incremental des evaluation"
brharrington,2016-05-23 16:54:38,https://api.github.com/repos/Netflix/atlas/git/commits/ecaf3d3a2bbd8b4f13a497230e2184903db277dd,ecaf3d3a2bbd8b4f13a497230e2184903db277dd,"fix incremental des evaluation

Incremental DES evaluation should match a global
evaluation with all data available in advance. The
pos was being updated such that values after the
first datapoint were getting ignored.

There is still a problem with `:sdes`, but for now
this change just adds a test to illustrate it. We'll
look at fixing `:sdes` later."
brharrington,2016-05-21 03:33:06,https://api.github.com/repos/Netflix/atlas/git/commits/7a62618e3da65afc6bde28d64ea364c656761f56,7a62618e3da65afc6bde28d64ea364c656761f56,"Merge pull request #361 from brharrington/fix-doc-links

docs: fix links to spectator wiki"
brharrington,2016-05-20 22:48:21,https://api.github.com/repos/Netflix/atlas/git/commits/4ce583acb05c492b3d3bcab3364203120f8d8dcd,4ce583acb05c492b3d3bcab3364203120f8d8dcd,"docs: fix links to spectator wiki

Spectator docs moved off of github wiki. Fix links
that were broken with that change."
brharrington,2016-05-20 02:30:21,https://api.github.com/repos/Netflix/atlas/git/commits/68d3ad722ce6d85d161660e10a1dbbe88c0487ea,68d3ad722ce6d85d161660e10a1dbbe88c0487ea,"Merge pull request #360 from brharrington/putifabsent

add putIfAbsent to RefIntHashMap"
brharrington,2016-05-20 02:18:11,https://api.github.com/repos/Netflix/atlas/git/commits/d9dd98f2e45e2505d5a416cce798b67cca4783c7,d9dd98f2e45e2505d5a416cce798b67cca4783c7,add putIfAbsent to RefIntHashMap
brharrington,2016-05-19 19:43:25,https://api.github.com/repos/Netflix/atlas/git/commits/654b698beb0ce9f860bae1e525f57799e124892b,654b698beb0ce9f860bae1e525f57799e124892b,"Merge pull request #359 from brharrington/dep-updates

update akka and aws deps"
brharrington,2016-05-19 17:36:46,https://api.github.com/repos/Netflix/atlas/git/commits/a9dcfd6b321521579a4738878c3b782f4af5f181,a9dcfd6b321521579a4738878c3b782f4af5f181,update akka and aws deps
brharrington,2016-05-14 16:15:43,https://api.github.com/repos/Netflix/atlas/git/commits/13f542e78e63f4b56f1d9f091850d112dbecc89b,13f542e78e63f4b56f1d9f091850d112dbecc89b,"Merge pull request #358 from brharrington/file-logging

logging config to split out access log"
brharrington,2016-05-14 14:28:15,https://api.github.com/repos/Netflix/atlas/git/commits/010283f346cde592675424c7c613fd23d513e406,010283f346cde592675424c7c613fd23d513e406,"logging config to split out access log

Add helper logging configuration that writes the data
to files instead of stdout and splits out the access
log to separate files."
brharrington,2016-05-09 01:37:54,https://api.github.com/repos/Netflix/atlas/git/commits/1958df5c8becc63a8bc38f59344b506e5fc47550,1958df5c8becc63a8bc38f59344b506e5fc47550,"Merge pull request #357 from brharrington/remove-trove-dependency

remove dependency on trove4j"
brharrington,2016-05-09 01:02:39,https://api.github.com/repos/Netflix/atlas/git/commits/38e17ede4e96cd32ade1489367e1ea7bfd9b2515,38e17ede4e96cd32ade1489367e1ea7bfd9b2515,remove dependency on trove
brharrington,2016-05-09 00:00:09,https://api.github.com/repos/Netflix/atlas/git/commits/177f6dc37e073cb237bb192c06d8096955f3cfd1,177f6dc37e073cb237bb192c06d8096955f3cfd1,add RefIntHashMap using open addressing
brharrington,2016-05-08 23:09:56,https://api.github.com/repos/Netflix/atlas/git/commits/6252a57666694d540a313d64b2687ab93e6716c5,6252a57666694d540a313d64b2687ab93e6716c5,"fix increment signature for DoubleIntHashMap

Fix increment on DoubleIntHashMap to take a Double
instead of a Long. Improves test coverage for all
the primitive collections."
brharrington,2016-05-08 21:41:12,https://api.github.com/repos/Netflix/atlas/git/commits/0ec6b662c903aa7697b8f264cc5328345fcb4ade,0ec6b662c903aa7697b8f264cc5328345fcb4ade,add DoubleIntHashMap based on LongIntHashMap
brharrington,2016-05-08 21:04:42,https://api.github.com/repos/Netflix/atlas/git/commits/820a50d2cd9497b46a1f00be37dd74e8ba3a9e80,820a50d2cd9497b46a1f00be37dd74e8ba3a9e80,add IntIntHashMap using open addressing
brharrington,2016-05-08 20:09:42,https://api.github.com/repos/Netflix/atlas/git/commits/ecdfec140308f9dafdbe6e36a9f62c276481a455,ecdfec140308f9dafdbe6e36a9f62c276481a455,"fix size of set for dedup

The size was always getting incremented, even if
the item was already present in the set. Now it
will only get incremented if it is new."
brharrington,2016-05-03 23:59:46,https://api.github.com/repos/Netflix/atlas/git/commits/7d19648bd6be2de0a9db5d20ed49dc400f57337b,7d19648bd6be2de0a9db5d20ed49dc400f57337b,"add IntHashSet util for building index

Trying to simplify and reduce the dependencies needed
by the core project. This change replaces the trove
TIntHashSet with a simple open addressing hash set
that does just enough for what we need: dedup and
extract the final set. Performance and memory overhead
are comparable:

For a small set (5 items):

```
com.netflix.atlas.core.util.IntHashSet@33afa13bd footprint:
     COUNT       AVG       SUM   DESCRIPTION
         1        64        64   [I
         1        32        32   com.netflix.atlas.core.util.IntHashSet
         2                  96   (total)

java.util.HashSet@3590fc5bd footprint:
     COUNT       AVG       SUM   DESCRIPTION
         1        80        80   [Ljava.util.HashMap$Node;
         5        16        80   java.lang.Integer
         1        16        16   java.lang.Object
         1        48        48   java.util.HashMap
         5        32       160   java.util.HashMap$Node
         1        16        16   java.util.HashSet
        14                 400   (total)

gnu.trove.set.hash.TIntHashSet@62379589d footprint:
     COUNT       AVG       SUM   DESCRIPTION
         1        40        40   [B
         1       112       112   [I
         1        56        56   gnu.trove.set.hash.TIntHashSet
         3                 208   (total)
```

For a larger set with 10k values:

```
com.netflix.atlas.core.util.IntHashSet@33afa13bd footprint:
     COUNT       AVG       SUM   DESCRIPTION
         1    102888    102888   [I
         1        32        32   com.netflix.atlas.core.util.IntHashSet
         2              102920   (total)

java.util.HashSet@3590fc5bd footprint:
     COUNT       AVG       SUM   DESCRIPTION
         1     65552     65552   [Ljava.util.HashMap$Node;
     10000        16    160000   java.lang.Integer
         1        16        16   java.lang.Object
         1        48        48   java.util.HashMap
     10000        32    320000   java.util.HashMap$Node
         1        16        16   java.util.HashSet
     20004              545632   (total)

gnu.trove.set.hash.TIntHashSet@4c79ca55d footprint:
     COUNT       AVG       SUM   DESCRIPTION
         1     25736     25736   [B
         1    102888    102888   [I
         1        56        56   gnu.trove.set.hash.TIntHashSet
         3              128680   (total)
```"
brharrington,2016-05-06 03:52:42,https://api.github.com/repos/Netflix/atlas/git/commits/b3f547a8805ee464fb56d6dc00f5866eb3a26430,b3f547a8805ee464fb56d6dc00f5866eb3a26430,"Merge pull request #355 from brharrington/config-classloader

work-around for null context classloader"
brharrington,2016-05-06 03:33:26,https://api.github.com/repos/Netflix/atlas/git/commits/878d393c46dc4c6a8bac628e8553dd1c7bed758d,878d393c46dc4c6a8bac628e8553dd1c7bed758d,"work-around for null context classloader

In some cases we are seeing:

```
Thread.currentThread().getContextClassLoader() == null
```

With this change we'll log a warning and try the
classloader for a given class."
brharrington,2016-05-03 16:13:34,https://api.github.com/repos/Netflix/atlas/git/commits/5d6f47ba9b3abea8854d8dd02f43f8103a19113f,5d6f47ba9b3abea8854d8dd02f43f8103a19113f,"Merge pull request #354 from brharrington/caffeine

switch from guava to caffeine for cache"
brharrington,2016-05-03 16:04:15,https://api.github.com/repos/Netflix/atlas/git/commits/2152d6f8d04caaa569c8724b7ee474634671e3a8,2152d6f8d04caaa569c8724b7ee474634671e3a8,remove jsr305 dependency
brharrington,2016-05-03 15:59:09,https://api.github.com/repos/Netflix/atlas/git/commits/e0d424f3c2de0b224f36e15f5807738cdb1fc7d6,e0d424f3c2de0b224f36e15f5807738cdb1fc7d6,switch from guava to caffeine for cache
brharrington,2016-04-30 16:58:13,https://api.github.com/repos/Netflix/atlas/git/commits/ae88a3077a9ce94ae184fb2898d63d69022961b7,ae88a3077a9ce94ae184fb2898d63d69022961b7,"Merge pull request #353 from brharrington/extract-queries

extract the queries from a stack expression."
brharrington,2016-04-30 16:44:08,https://api.github.com/repos/Netflix/atlas/git/commits/86f8f74905cfe1826e10696a84641790f55b6871,86f8f74905cfe1826e10696a84641790f55b6871,"Merge pull request #352 from brharrington/spectator-0.38.1

spectator 0.38.1"
brharrington,2016-04-30 16:32:12,https://api.github.com/repos/Netflix/atlas/git/commits/89406d796b337f05673858001a14ec0a995b56e9,89406d796b337f05673858001a14ec0a995b56e9,"extract the queries from a stack expression.

Adds an expr endpoint for extracting the queries [1] from
a stack expression. This can be useful for UIs that need
to further explore the tag space associated with a graph
expression. Output is a list of all distinct queries used.

Example, suppose I have a graph of requests and errors:

```
nf.app,www,:eq,name,http.req.complete,:eq,:and,(,statusCode,),:by
```

And I want to expand it to get one graph per zone or node
for the application. Send a request:

```
GET /api/v1/expr/queries?q=nf.app,www,:eq,name,http.req.complete,:eq,:and,(,statusCode,),:by
```

The response is:

```json
[
  ""nf.app,www,:eq,name,http.req.complete,:eq,:and""
]
```

This data can then be used with the
[tags API](https://github.com/Netflix/atlas/wiki/Tags) to get
all of the matching zones, nodes, etc.

[1] https://github.com/Netflix/atlas/wiki/Reference-query"
brharrington,2016-04-30 16:01:21,https://api.github.com/repos/Netflix/atlas/git/commits/f61c44917c3352040f0fef6b5da4af9486f4e47f,f61c44917c3352040f0fef6b5da4af9486f4e47f,"spectator 0.38.1

Fixes bug with ArrayIndexOutOfBoundsException."
brharrington,2016-04-28 12:43:55,https://api.github.com/repos/Netflix/atlas/git/commits/d83f8ba896135b0a7697e91b98b78672c356ccdd,d83f8ba896135b0a7697e91b98b78672c356ccdd,"Merge pull request #351 from brharrington/spectator-0.38.0

update spectator, iep, and aws deps"
brharrington,2016-04-28 12:31:03,https://api.github.com/repos/Netflix/atlas/git/commits/701fe5053878f589d02cfccbaf0a1502141bdbb5,701fe5053878f589d02cfccbaf0a1502141bdbb5,"update spectator, iep, and aws deps"
brharrington,2016-04-28 04:14:51,https://api.github.com/repos/Netflix/atlas/git/commits/41d7af3db1efccc95b6655bec7e8a880bc6ca927,41d7af3db1efccc95b6655bec7e8a880bc6ca927,"Merge pull request #350 from brharrington/issue-349

allow sorting expr by stats"
brharrington,2016-04-28 04:03:52,https://api.github.com/repos/Netflix/atlas/git/commits/0fba71e2a7d6c0fd2970cd62bed50c763f47d467,0fba71e2a7d6c0fd2970cd62bed50c763f47d467,docs: add section on sorting behavior
brharrington,2016-04-28 03:20:03,https://api.github.com/repos/Netflix/atlas/git/commits/a55bf769016063a32ebe1134d373220eb9c17525,a55bf769016063a32ebe1134d373220eb9c17525,"allow legend entries to be sorted per axis

Adds axis level URL parameters for controlling the sort
behavior of legend entries. This will take precendence
over local sorting specified for an individual expression.
The rationale is that overall sorting is more likely to
be a setting toggled by the user via a UI."
brharrington,2016-04-28 02:44:40,https://api.github.com/repos/Netflix/atlas/git/commits/dc1e2228f401dfa6bc3217e36c7a7ad12f92fc73,dc1e2228f401dfa6bc3217e36c7a7ad12f92fc73,"add warning instead of failing for invalid sort

Changes behavior of an invalid sort mode to add a warning
and fallback to the default instead of being an error
image.

Also adds some additional test cases."
brharrington,2016-04-28 02:07:59,https://api.github.com/repos/Netflix/atlas/git/commits/8350f61494c7a853b4470d10c8e1bcc44438c169,8350f61494c7a853b4470d10c8e1bcc44438c169,"allow sorting expr by stats

Adds support for sorting an expression by one of
the statistics instead of the label text. This
change only applies to an expression with multiple
results. Example usage:

```
name,sps,:eq,(,nf.cluster,),:by,max,:sort
```

The order can be changed using the `:order`
operation:

```
name,sps,:eq,(,nf.cluster,),:by,max,:sort,desc,:order
```"
brharrington,2016-04-22 12:09:25,https://api.github.com/repos/Netflix/atlas/git/commits/545e9183d8e3533660718e2b4240bd570fbe2478,545e9183d8e3533660718e2b4240bd570fbe2478,"Merge pull request #348 from brharrington/travis-scala-version

update scala version for travis build"
brharrington,2016-04-21 03:53:04,https://api.github.com/repos/Netflix/atlas/git/commits/188dc0a1041e40591526b499ba037fad001b475e,188dc0a1041e40591526b499ba037fad001b475e,update scala version for travis build
brharrington,2016-04-18 21:54:51,https://api.github.com/repos/Netflix/atlas/git/commits/bf1d61fb89672e6230d5b6d30d243c2f95590059,bf1d61fb89672e6230d5b6d30d243c2f95590059,"Merge pull request #346 from brharrington/docs-percentiles-since

docs: add since 1.5 note to :percentile ref"
brharrington,2016-04-18 21:41:07,https://api.github.com/repos/Netflix/atlas/git/commits/ec4d13de0ab57fb14adf5747a493e236c5217baa,ec4d13de0ab57fb14adf5747a493e236c5217baa,"docs: add since 1.5 note to :percentile ref

Short-term change to minimize confusion (see #345). Also
adds links to javadocs for the spectator classes and updates
the wiki link."
brharrington,2016-04-16 14:48:31,https://api.github.com/repos/Netflix/atlas/git/commits/4b746c21ffc50589fe002698f04b51af5b2d3988,4b746c21ffc50589fe002698f04b51af5b2d3988,"Merge pull request #344 from brharrington/spectator-0.37.0

spectator 0.37.0"
brharrington,2016-04-16 14:34:12,https://api.github.com/repos/Netflix/atlas/git/commits/06a5443216e9a9cacae788fc1bfe2095f357dfac,06a5443216e9a9cacae788fc1bfe2095f357dfac,update slf4j and scala-logging
brharrington,2016-04-16 14:32:33,https://api.github.com/repos/Netflix/atlas/git/commits/58d61f2511aaf86e3bd2e4cc45f802c38db07c9b,58d61f2511aaf86e3bd2e4cc45f802c38db07c9b,akka 2.4.4
brharrington,2016-04-16 14:27:06,https://api.github.com/repos/Netflix/atlas/git/commits/809ba59cdb7d99bcc71d913f65c4faeb969a312d,809ba59cdb7d99bcc71d913f65c4faeb969a312d,"spectator 0.37.0

Fixes issue with 0 values being counted as
part of the negative_latency bucket and tagging
of serviceName on AWS metric collector."
brharrington,2016-04-15 04:27:55,https://api.github.com/repos/Netflix/atlas/git/commits/2e5b3699f30478f33e22bbc03f4cd5505ca2d414,2e5b3699f30478f33e22bbc03f4cd5505ca2d414,"Merge pull request #343 from brharrington/docs-search-index

docs: create search index for wiki"
brharrington,2016-04-15 04:12:42,https://api.github.com/repos/Netflix/atlas/git/commits/7063a455b3783e7407787136c8ef15b4adff0423,7063a455b3783e7407787136c8ef15b4adff0423,"docs: create search index for wiki

Generate search index json file for the wiki
that can be consumed easily with lunr. Format
is similar to index created by mkdocs, e.g.:

https://netflix.github.io/spectator/en/latest/mkdocs/search_index.json"
copperlight,2016-04-05 20:01:26,https://api.github.com/repos/Netflix/atlas/git/commits/6a3348773b7ff21e3ba809578b5cbf521842c496,6a3348773b7ff21e3ba809578b5cbf521842c496,"docs: update armytage paper link

* Update armytage paper link, previous link gives 404
* Add link from multi-y palette section to page on color
  palettes"
brharrington,2016-04-03 17:22:24,https://api.github.com/repos/Netflix/atlas/git/commits/5a2196de398e2d62c8b732934ce1a022e649e5de,5a2196de398e2d62c8b732934ce1a022e649e5de,"Merge pull request #341 from brharrington/wiki-conf

limit endpoints for wiki script"
brharrington,2016-04-03 17:13:51,https://api.github.com/repos/Netflix/atlas/git/commits/93375ff25d41216ec6b4a7ff7ecd3df99c2ec155,93375ff25d41216ec6b4a7ff7ecd3df99c2ec155,"limit endpoints for wiki script

Limit the endpoints used on the wiki script to
just the tags and graph endpoints that are needed."
brharrington,2016-04-03 17:04:53,https://api.github.com/repos/Netflix/atlas/git/commits/5fae7b75896750fd1876f3a0a8c4510887201b9e,5fae7b75896750fd1876f3a0a8c4510887201b9e,"Merge pull request #340 from brharrington/equals

dsType was ignored by equals on ArrayTimeSeq"
brharrington,2016-04-03 16:54:50,https://api.github.com/repos/Netflix/atlas/git/commits/9ef1076a5e053bc44b0b238057167fe9c47aafd6,9ef1076a5e053bc44b0b238057167fe9c47aafd6,dsType was ignored by equals on ArrayTimeSeq
brharrington,2016-04-03 16:38:06,https://api.github.com/repos/Netflix/atlas/git/commits/c11278692d1f39b9fa9091e0cf031a6f1f9589b1,c11278692d1f39b9fa9091e0cf031a6f1f9589b1,"Merge pull request #339 from brharrington/dep-refresh

akka 2.4.3, aws sdk 1.10.66"
brharrington,2016-04-03 16:08:53,https://api.github.com/repos/Netflix/atlas/git/commits/b18fc35f22afe8d405ea02c7596da472facf50c3,b18fc35f22afe8d405ea02c7596da472facf50c3,"akka 2.4.3, aws sdk 1.10.66"
brharrington,2016-04-03 16:04:22,https://api.github.com/repos/Netflix/atlas/git/commits/3285854fd56705afd13c4df691cc72e727d293a6,3285854fd56705afd13c4df691cc72e727d293a6,"Merge pull request #338 from brharrington/label-order-palette

sort by label before selecting colors from palette"
brharrington,2016-04-03 15:55:09,https://api.github.com/repos/Netflix/atlas/git/commits/044a11753ce0f6586bc8bb7877158e748129b5e2,044a11753ce0f6586bc8bb7877158e748129b5e2,sort by label before selecting colors from palette
brharrington,2016-04-03 15:50:30,https://api.github.com/repos/Netflix/atlas/git/commits/5f7ab2c597043c6c5212a34119f90dafc515eb07,5f7ab2c597043c6c5212a34119f90dafc515eb07,"Merge pull request #337 from brharrington/filter-after-style

add override to allow filter after legend"
brharrington,2016-04-03 14:58:49,https://api.github.com/repos/Netflix/atlas/git/commits/5a2bafc5b9ca0d12b541d1a6c65761c4740c4489,5a2bafc5b9ca0d12b541d1a6c65761c4740c4489,"add override to allow filter after legend

For some tooling it is often convenient to be able
to append a filter after a legend or other presentation
settings have been applied to an expression with a
group by."
brharrington,2016-03-31 21:30:30,https://api.github.com/repos/Netflix/atlas/git/commits/727bcd39af5ee0c32f3784988840c1648b1de0f4,727bcd39af5ee0c32f3784988840c1648b1de0f4,"Merge pull request #336 from tregoning/master

Updating Atlas logo"
tregoning,2016-03-31 21:06:49,https://api.github.com/repos/Netflix/atlas/git/commits/625a7077e90d748defcc36e150a20b0710ab3cf1,625a7077e90d748defcc36e150a20b0710ab3cf1,updating Atlas logo
brharrington,2016-03-29 15:48:57,https://api.github.com/repos/Netflix/atlas/git/commits/cc30c3f382abb1e164435715b6a2b97d06abd8c6,cc30c3f382abb1e164435715b6a2b97d06abd8c6,"Merge pull request #335 from brharrington/docs-tick-labels

docs: add information about tick labels"
brharrington,2016-03-29 15:36:53,https://api.github.com/repos/Netflix/atlas/git/commits/9f4a676520645f1a70da7d380d722571e6a61e37,9f4a676520645f1a70da7d380d722571e6a61e37,docs: add tick labels link to sidebar
brharrington,2016-03-29 15:22:27,https://api.github.com/repos/Netflix/atlas/git/commits/948edb308500f3364ec824f5789573399264fce1,948edb308500f3364ec824f5789573399264fce1,docs: s/follow/following/
brharrington,2016-03-29 15:20:43,https://api.github.com/repos/Netflix/atlas/git/commits/46abb92501f1f284af5bc3930c91c42fcb1ac9ad,46abb92501f1f284af5bc3930c91c42fcb1ac9ad,docs: add information about tick labels
brharrington,2016-03-22 23:28:50,https://api.github.com/repos/Netflix/atlas/git/commits/729a87825e3023b576a16ce7d099c996649cd81d,729a87825e3023b576a16ce7d099c996649cd81d,"Merge pull request #334 from brharrington/skipped-axis

use same axis id for expr and params"
brharrington,2016-03-22 23:09:16,https://api.github.com/repos/Netflix/atlas/git/commits/cad6db127b60a5bf10b41d34feba0958d8e29f41,cad6db127b60a5bf10b41d34feba0958d8e29f41,"Merge pull request #333 from brharrington/nf.account

add account to default reserved key set"
brharrington,2016-03-22 23:07:58,https://api.github.com/repos/Netflix/atlas/git/commits/4af9aa8b0c87f8f60f51014df5ce49dc56fec2de,4af9aa8b0c87f8f60f51014df5ce49dc56fec2de,"use same axis id for expr and params

If an axis id was skipped the URL params were not correctly
mapped to the corresponding expressions."
brharrington,2016-03-22 22:18:53,https://api.github.com/repos/Netflix/atlas/git/commits/84c8e7fc44eb2f908578550e17c2ed0b0256fb6e,84c8e7fc44eb2f908578550e17c2ed0b0256fb6e,add account to default reserved key set
brharrington,2016-03-22 20:19:52,https://api.github.com/repos/Netflix/atlas/git/commits/10c6de98b408cd2f7f159a4acf6c8b39ef488778,10c6de98b408cd2f7f159a4acf6c8b39ef488778,"Merge pull request #332 from brharrington/iep-0.3.23

iep-0.3.23"
brharrington,2016-03-22 17:56:35,https://api.github.com/repos/Netflix/atlas/git/commits/b49d4038fa7bccbc29073b64c241188a9fb921bb,b49d4038fa7bccbc29073b64c241188a9fb921bb,iep-0.3.23
brharrington,2016-03-18 16:54:56,https://api.github.com/repos/Netflix/atlas/git/commits/44e99322d893d3fece33757c33fd6bcb8a15d8c7,44e99322d893d3fece33757c33fd6bcb8a15d8c7,"Merge pull request #331 from brharrington/json-register

additional modules for ObjectMapper"
brharrington,2016-03-18 16:43:54,https://api.github.com/repos/Netflix/atlas/git/commits/e3092165e149731b867777b01566650ba9a184ef,e3092165e149731b867777b01566650ba9a184ef,"additional modules for ObjectMapper

Allow additional modules to be registered with the default
ObjectMappers used by the Json utility."
brharrington,2016-03-18 02:57:59,https://api.github.com/repos/Netflix/atlas/git/commits/092690d28bb19740dd832ab85eda9c3f83afc44a,092690d28bb19740dd832ab85eda9c3f83afc44a,"Merge pull request #330 from brharrington/fix-route

fix bug with status when the route is created"
brharrington,2016-03-18 02:42:25,https://api.github.com/repos/Netflix/atlas/git/commits/62eacadc1331804bbbe4a0071d8fd9c7da8097e1,62eacadc1331804bbbe4a0071d8fd9c7da8097e1,"fix bug with status when the route is created

The status was being chosen when the route was created
instead of when the healthcheck endpoint was being
called."
brharrington,2016-03-17 22:52:28,https://api.github.com/repos/Netflix/atlas/git/commits/59c310666a28688f7cb9c1bac1b2601e7545cdde,59c310666a28688f7cb9c1bac1b2601e7545cdde,"Merge pull request #329 from brharrington/healthcheck-status

add status for each service in response"
brharrington,2016-03-17 16:10:59,https://api.github.com/repos/Netflix/atlas/git/commits/46c0249ee785a290ad15365b62debba6fb867ef3,46c0249ee785a290ad15365b62debba6fb867ef3,"get ServiceManager from provider and disallow null

In some cases the healthcheck api will be created inside of
a service for the web server. To avoid problems with the cycle
use a provider for the ServiceManager.

Also, it was fairly easy to transition to away from the
internal healthcheck endpoint, so remove the hack to allow
the ServiceManager to be null.

Update to iep 0.3.22 to get fix for generic types with the
class factory."
brharrington,2016-03-17 16:01:36,https://api.github.com/repos/Netflix/atlas/git/commits/3c2d13a38e5ecf6346656d85252c0ff126d4e47e,3c2d13a38e5ecf6346656d85252c0ff126d4e47e,"add status for each service in response

To aid in debugging summarize the service state in the
response."
brharrington,2016-03-16 20:21:41,https://api.github.com/repos/Netflix/atlas/git/commits/07e613a788628ccc9859d569d20b7801ba5f9f72,07e613a788628ccc9859d569d20b7801ba5f9f72,"Merge pull request #328 from brharrington/healthcheck-inject

default /healthcheck based on ServiceManager"
brharrington,2016-03-16 20:11:04,https://api.github.com/repos/Netflix/atlas/git/commits/2649f7a761465c28ceb9335e7d75f0b3aae05fc0,2649f7a761465c28ceb9335e7d75f0b3aae05fc0,"default /healthcheck based on ServiceManager

Previously the `/healthcheck` endpoint provided here always
returned 200 and was mostly used for debugging. This is now
`/ok`. The `/healthcheck` endpoint now indicates the service
health based on the ServiceManager so it should be usable
as a load balancer healthcheck endpoint.

With this change we shouldn't need a separate internal
healthcheck endpoint registered for use with the load
balancers and monitoring."
brharrington,2016-03-14 17:22:53,https://api.github.com/repos/Netflix/atlas/git/commits/8c6b49ef8fdb59bc7b5ed20dff5933436ab1c7af,8c6b49ef8fdb59bc7b5ed20dff5933436ab1c7af,"Merge pull request #327 from brharrington/decode-parser

make decode(JsonParser) public"
brharrington,2016-03-14 17:03:01,https://api.github.com/repos/Netflix/atlas/git/commits/1c3ca14c7f9b17af8b1254d21e978789cda632a0,1c3ca14c7f9b17af8b1254d21e978789cda632a0,"make decode(JsonParser) public

Allow the cached decoder to be used for cases where we
already have the parser instance."
brharrington,2016-03-13 21:17:29,https://api.github.com/repos/Netflix/atlas/git/commits/58f0749fa9f505a1e2c54e46efaaf82596b7060f,58f0749fa9f505a1e2c54e46efaaf82596b7060f,"Merge pull request #326 from brharrington/scala-2.11.8

scala 2.11.8"
brharrington,2016-03-13 21:08:47,https://api.github.com/repos/Netflix/atlas/git/commits/532a947004b9f82f23198e40bb628eb46f273d73,532a947004b9f82f23198e40bb628eb46f273d73,"Merge pull request #325 from brharrington/iso-millis

allow iso timestamps with millis"
brharrington,2016-03-13 21:08:02,https://api.github.com/repos/Netflix/atlas/git/commits/a70ac64ffedcbc5ccab80e4ad023185b3c6ad01a,a70ac64ffedcbc5ccab80e4ad023185b3c6ad01a,update aws and spectator
brharrington,2016-03-13 21:06:08,https://api.github.com/repos/Netflix/atlas/git/commits/c27db38d56e3add7425b2458dfdc810fd5ed0969,c27db38d56e3add7425b2458dfdc810fd5ed0969,scala 2.11.8
brharrington,2016-03-13 20:59:26,https://api.github.com/repos/Netflix/atlas/git/commits/8980915ce8366f599005330acf472dd61a63c5d1,8980915ce8366f599005330acf472dd61a63c5d1,"allow iso timestamps with millis

Allow start/end time params to parse ISO timestamps
with millis. Examples:

```
2012-02-01T04:05:06.123
2012-02-01T04:05:06.123Z
2012-02-01T04:05:06.123-03:00
```"
brharrington,2016-03-03 20:19:55,https://api.github.com/repos/Netflix/atlas/git/commits/9f266a577c08f828db3fe7031467407a6d6eb3a1,9f266a577c08f828db3fe7031467407a6d6eb3a1,"Merge pull request #324 from brharrington/dont-fork-tests

disable forking tests"
brharrington,2016-03-03 18:53:57,https://api.github.com/repos/Netflix/atlas/git/commits/030032f439b0a680f4adbe808c2240855ac117fc,030032f439b0a680f4adbe808c2240855ac117fc,"do not fork when running tests

Tests are no longer forked by default. That was done
as a workaround for an issue with equalsverifier, but
more recently there is another workaround using prefab
values:

https://groups.google.com/forum/#!topic/equalsverifier/R5MWUGVx-C8

The hope is that this will avoid some transient failures
with travis builds. See #322 for more details."
brharrington,2016-03-03 18:12:22,https://api.github.com/repos/Netflix/atlas/git/commits/1c9b1d210a0f5aefa470f2b54e6f7f989c696a81,1c9b1d210a0f5aefa470f2b54e6f7f989c696a81,"Merge pull request #323 from brharrington/sbt-no-fork

fix path when test are run with being forked"
brharrington,2016-03-03 18:00:42,https://api.github.com/repos/Netflix/atlas/git/commits/6cb6e42e583587736e8659ab0d615c10e689dc82,6cb6e42e583587736e8659ab0d615c10e689dc82,"fix path when test are run with being forked

The working directory changes to the sub-project when the
tests are forked. For the image tests this is used to
determine the source path so that if the flag is enabled
the diffs can be blessed to update the golden files."
brharrington,2016-03-03 16:05:41,https://api.github.com/repos/Netflix/atlas/git/commits/5e8ceb0b42b18a3141272899c960a09dab2d28c2,5e8ceb0b42b18a3141272899c960a09dab2d28c2,"Merge pull request #321 from brharrington/jackson-2.7.2

fix out of bounds exception for java8 classes"
brharrington,2016-03-03 15:50:49,https://api.github.com/repos/Netflix/atlas/git/commits/ebc915398eff0660547b02d0595290b1a5ac73d7,ebc915398eff0660547b02d0595290b1a5ac73d7,"fix out of bounds exception for java8 classes

When using the Json helper for classes that contain a
lambda there was an ArrayIndexOutOfBoundsException
coming from paranamer shadowed into jackson. See test
case for more details on the error.

This bumps to jackson 2.7.2 which uses a newer shaded
version of paranamer."
brharrington,2016-03-01 13:27:20,https://api.github.com/repos/Netflix/atlas/git/commits/03dccc038888d6841bea66477924b9b780654b46,03dccc038888d6841bea66477924b9b780654b46,"Merge pull request #317 from brharrington/docs-des

docs: add note to prefer sdes"
brharrington,2016-03-01 13:21:32,https://api.github.com/repos/Netflix/atlas/git/commits/68a53990393227d7340c5a3d37bd9e30f9ae8af5,68a53990393227d7340c5a3d37bd9e30f9ae8af5,"Merge pull request #319 from brharrington/dependency-updates

regular dependency refresh"
brharrington,2016-03-01 13:14:05,https://api.github.com/repos/Netflix/atlas/git/commits/9e2ae745ba29862136682d067be352b72fe2f824,9e2ae745ba29862136682d067be352b72fe2f824,docs: update getting started versions to 1.4.6
brharrington,2016-03-01 13:10:59,https://api.github.com/repos/Netflix/atlas/git/commits/247c98f2a96e37ee29f5607487aea88c13f9a465,247c98f2a96e37ee29f5607487aea88c13f9a465,"Merge pull request #318 from brharrington/sbt-0.13.11

sbt 0.13.11"
brharrington,2016-03-01 05:16:35,https://api.github.com/repos/Netflix/atlas/git/commits/14ea16751936881d5313578c3e357e98c8c33f69,14ea16751936881d5313578c3e357e98c8c33f69,regular dependency refresh
brharrington,2016-03-01 05:06:20,https://api.github.com/repos/Netflix/atlas/git/commits/22a173ea13afdf26fd2b1a372386485df8fc1d6d,22a173ea13afdf26fd2b1a372386485df8fc1d6d,sbt 0.13.11
brharrington,2016-03-01 04:56:52,https://api.github.com/repos/Netflix/atlas/git/commits/5e5f263534e248ea467be6f6fbecbf460dae386c,5e5f263534e248ea467be6f6fbecbf460dae386c,docs: add summary for sdes-* variants
brharrington,2016-03-01 04:50:11,https://api.github.com/repos/Netflix/atlas/git/commits/2163b07d243857f32a53199c5fb12eb03364a908,2163b07d243857f32a53199c5fb12eb03364a908,docs: fix link text for sdes references
brharrington,2016-03-01 04:47:57,https://api.github.com/repos/Netflix/atlas/git/commits/ea2a42f6587347768baddb99cfcddc186c1a27e8,ea2a42f6587347768baddb99cfcddc186c1a27e8,docs: fix links to des helpers
brharrington,2016-03-01 04:44:41,https://api.github.com/repos/Netflix/atlas/git/commits/3282b9821803dd790eb4089d2a3719ec79d7169c,3282b9821803dd790eb4089d2a3719ec79d7169c,docs: add summay for des-* variants
brharrington,2016-03-01 04:32:47,https://api.github.com/repos/Netflix/atlas/git/commits/ad63c507d1bea92e1d54082101b2b720e5207b50,ad63c507d1bea92e1d54082101b2b720e5207b50,docs: clarify behavior of trend operation
brharrington,2016-03-01 04:09:43,https://api.github.com/repos/Netflix/atlas/git/commits/0e5ab507605e487ae2c6b6fd4901949379ae3e89,0e5ab507605e487ae2c6b6fd4901949379ae3e89,docs: add note to prefer sdes
brharrington,2016-02-27 22:25:05,https://api.github.com/repos/Netflix/atlas/git/commits/3dae9425995791634e292cd5aae64119b7219581,3dae9425995791634e292cd5aae64119b7219581,"Merge pull request #316 from brharrington/issue-315

fix #315, support binary unit prefix for ticks"
brharrington,2016-02-27 22:09:10,https://api.github.com/repos/Netflix/atlas/git/commits/a00e254b626e3a8e956c1997c05776850e81f80f,a00e254b626e3a8e956c1997c05776850e81f80f,"fix #315, support binary unit prefix for ticks

Adds `tick_labels` param to control the mode used for
the tick labels. Three values are supported:

* `off`: disable tick labels. This was previously done
  using `no_tick_labels=1`.
* `decimal`: default mode using decimal metric unit
  prefixes for tick labels.
* `binary`: added to use binary prefixes (powers of 1024
  instead of 1000) for displaying data in bytes such as
  disk usage in a way that is less likely to cause
  confusion when comparing with other sources. For example,
  by default `free -h` will display disk usage using powers
  of 1024. They will show as `Ki`, `Mi`, `Gi`, `Ti`, `Pi`,
  `Ei`, `Zi`, or `Yi` following the IEC convention and to
  make it clear whether or not the decimal or binary mode
  was used when viewing the data."
brharrington,2016-02-26 18:23:39,https://api.github.com/repos/Netflix/atlas/git/commits/5f5def47fa9a556e5b54ffe371903fc85d6bc193,5f5def47fa9a556e5b54ffe371903fc85d6bc193,"Merge pull request #314 from brharrington/docs-sidebar

docs: simplify sidebar for reference page"
brharrington,2016-02-26 18:15:11,https://api.github.com/repos/Netflix/atlas/git/commits/261de575e80b652c809fcf00d03421cb9e716c02,261de575e80b652c809fcf00d03421cb9e716c02,docs: fix link to :integral on :derivative page
brharrington,2016-02-26 18:10:35,https://api.github.com/repos/Netflix/atlas/git/commits/0010014bd99da3554646806f415ac00a108a2a0e,0010014bd99da3554646806f415ac00a108a2a0e,docs: ref sidebar only show category headers
brharrington,2016-02-26 18:05:46,https://api.github.com/repos/Netflix/atlas/git/commits/9f6695d4c3580f27d59d3ef606976b769c0c4678,9f6695d4c3580f27d59d3ef606976b769c0c4678,docs: add section with category descriptions
brharrington,2016-02-26 17:45:54,https://api.github.com/repos/Netflix/atlas/git/commits/bc29516531f27404296af2967b73b32796dabffd,bc29516531f27404296af2967b73b32796dabffd,docs: remove out of date examples pages
brharrington,2016-02-26 17:41:09,https://api.github.com/repos/Netflix/atlas/git/commits/c51e86ba550018a147f03b2da2f0e3d24f8f74a4,c51e86ba550018a147f03b2da2f0e3d24f8f74a4,docs: move examples nav header off of sidebar
brharrington,2016-02-26 17:37:22,https://api.github.com/repos/Netflix/atlas/git/commits/bfa19445224aa9b436f987204941c853ed2e4f2b,bfa19445224aa9b436f987204941c853ed2e4f2b,docs: move nav from sidebar to header
brharrington,2016-02-26 17:31:36,https://api.github.com/repos/Netflix/atlas/git/commits/a5ca4d2c417985e231612403d608256dbede3d5d,a5ca4d2c417985e231612403d608256dbede3d5d,"docs: simplify sidebar for reference page

Breaks out the sidebar for each vocabulary to
make the sidebar shorter and only show the expanded
list for that category."
brharrington,2016-02-21 16:02:59,https://api.github.com/repos/Netflix/atlas/git/commits/0645a62b52c344f3f5b4326dff7dded9bf0ff8c0,0645a62b52c344f3f5b4326dff7dded9bf0ff8c0,"Merge pull request #313 from brharrington/dependency-update

update to akka 2.4.2"
brharrington,2016-02-21 04:55:26,https://api.github.com/repos/Netflix/atlas/git/commits/2ebce3e2c4cec0c400a13ea818c888e08976907c,2ebce3e2c4cec0c400a13ea818c888e08976907c,update to akka 2.4.2
brharrington,2016-02-20 22:30:01,https://api.github.com/repos/Netflix/atlas/git/commits/dfd5f7238ac5ed0e139d0283b70ab15671c2c96c,dfd5f7238ac5ed0e139d0283b70ab15671c2c96c,"Merge pull request #312 from brharrington/docs-concepts-update

docs: add more details to concepts page"
brharrington,2016-02-20 22:09:58,https://api.github.com/repos/Netflix/atlas/git/commits/cb57e4335c6b57fed258f7146d58a1fc563f6bac,cb57e4335c6b57fed258f7146d58a1fc563f6bac,"docs: add more details to concepts page

Expands on time series, tagging, and how measured samples
get mapped to stored values. Still need to add more information
for aggregation and consolidation, but that can be a later
update."
brharrington,2016-02-18 23:42:05,https://api.github.com/repos/Netflix/atlas/git/commits/48460adce0c7dcc86a183f8ebe31b03c7b886805,48460adce0c7dcc86a183f8ebe31b03c7b886805,"Merge pull request #311 from brharrington/expr-norm-complete

initial merge of additional expr utilities"
brharrington,2016-02-18 23:24:49,https://api.github.com/repos/Netflix/atlas/git/commits/d4620869882de7d87aa9d2870099d0c9031c77d1,d4620869882de7d87aa9d2870099d0c9031c77d1,"initial merge of additional expr utilities

This adds some additional API endpoints for manipulating the
expressions. Some of these need some further work, but are
minimally usable now and merging should make it easier to
get additional feedback form ui team.

* `/api/v1/expr` is still works and is an alias for the
  `/api/v1/expr/debug` endpoint.
* `/api/v1/expr/debug` executes an expression step by step and
  is frequently used for helping to debug problems with an
  expression.
* `/api/v1/expr/normalize` simplifies an expression and expands
  all stack manipulation operations.
* `api/v1/expr/complete` provides a list of possible commands
  given a current expression."
brharrington,2016-02-18 21:26:43,https://api.github.com/repos/Netflix/atlas/git/commits/fb5ae3f0e12d957ddf6868f42d7659c78f10accb,fb5ae3f0e12d957ddf6868f42d7659c78f10accb,"Merge pull request #310 from brharrington/docs-integral

docs: update summary description for integral"
brharrington,2016-02-18 20:43:16,https://api.github.com/repos/Netflix/atlas/git/commits/5680bc10329f09c358ba6a0da9ef20655de57380,5680bc10329f09c358ba6a0da9ef20655de57380,"docs: update summary description for integral

* Discuss area under line so it is more likely to come up
  in search results.
* Describe when to use with per-step for counters.
* Add example table and clarify NaN behavior."
brharrington,2016-02-18 15:37:01,https://api.github.com/repos/Netflix/atlas/git/commits/abcfeb80578b13e34bde4575d949d2a486656420,abcfeb80578b13e34bde4575d949d2a486656420,"Merge pull request #309 from brharrington/docs-getting-started

docs: add note on getting started page"
brharrington,2016-02-18 15:19:57,https://api.github.com/repos/Netflix/atlas/git/commits/dc604776c23bc8c6a2742e54e2e7ea5dec752575,dc604776c23bc8c6a2742e54e2e7ea5dec752575,fix link to stack language tutorial
brharrington,2016-02-18 14:19:32,https://api.github.com/repos/Netflix/atlas/git/commits/65a019da00ced27aa8db232eba434e09bc938f8a,65a019da00ced27aa8db232eba434e09bc938f8a,"docs: add note on getting started page

Some internal users found the getting started page confusing
as they don't need to run Atlas, just use it. We need to do
some further cleanup of how the docs flow, but for now this
adds a quick note at the top with some links to other common
references."
brharrington,2016-02-16 17:24:28,https://api.github.com/repos/Netflix/atlas/git/commits/038badb9b87a309494476271c7f44f5d13d67012,038badb9b87a309494476271c7f44f5d13d67012,"Merge pull request #308 from brharrington/pub-tests

additional failure tests for publish api"
brharrington,2016-02-16 17:16:02,https://api.github.com/repos/Netflix/atlas/git/commits/d035f05280ea08b2309830cb47dd07c1117d275d,d035f05280ea08b2309830cb47dd07c1117d275d,additional failure tests for publish api
brharrington,2016-02-10 05:45:54,https://api.github.com/repos/Netflix/atlas/git/commits/d5601c4815edb280e38eb4be51a09ed1c6350ba0,d5601c4815edb280e38eb4be51a09ed1c6350ba0,"Merge pull request #307 from brharrington/graph-url-png-meta

encode graph url as part of image metadata"
brharrington,2016-02-10 05:38:34,https://api.github.com/repos/Netflix/atlas/git/commits/e0068ef386e153d520d7570b287e2f7cc7a35efd,e0068ef386e153d520d7570b287e2f7cc7a35efd,"Merge pull request #306 from brharrington/png-metadata

use internationalized text fields for png metadata"
brharrington,2016-02-10 05:33:50,https://api.github.com/repos/Netflix/atlas/git/commits/7345b56664a0996e359eccd61ec4b4a782cf8cd0,7345b56664a0996e359eccd61ec4b4a782cf8cd0,"encode graph url as part of image metadata

Adds an option to have the image url encoded as part of the text
metadata on the image. This can be useful for debugging and in
some cases tooling that needs to figure out how the image was
derived."
brharrington,2016-02-10 04:39:34,https://api.github.com/repos/Netflix/atlas/git/commits/2bbd7628256545b95aa7f9a2a8a6fed7575acc5f,2bbd7628256545b95aa7f9a2a8a6fed7575acc5f,"use internationalized text fields for png metadata

For some use-cases we may have unicode characters in the text
fields. This change switches the metadata fields to get encoded
as iTXt fields instead of tEXt. For more information see:

http://www.libpng.org/pub/png/spec/1.2/PNG-Chunks.html#C.iTXt"
brharrington,2016-02-06 04:32:20,https://api.github.com/repos/Netflix/atlas/git/commits/22c603d42f340168498bcf0a2681a554a463f152,22c603d42f340168498bcf0a2681a554a463f152,"Merge pull request #304 from brharrington/by-math-aggr

fix aggregation failure for empty by"
brharrington,2016-02-06 04:15:08,https://api.github.com/repos/Netflix/atlas/git/commits/19257b808fc73dd449e23a45c7226aa76fa2afb8,19257b808fc73dd449e23a45c7226aa76fa2afb8,"fix aggregation failure for empty by

When using the math aggregate on an empty group by result
it an exception was being thrown:

```
requirement failed: must have 1 or more time series to perform
aggregation
```

Example: `:false,(,name,),:by,4,:div,:sum`

It will now return an empty result in the same way that
`:false,(,name,),:by` does."
brharrington,2016-02-05 16:48:26,https://api.github.com/repos/Netflix/atlas/git/commits/42e2af7d7822c8ff304f11c3e78619cb883e1dc3,42e2af7d7822c8ff304f11c3e78619cb883e1dc3,"Merge pull request #303 from brharrington/docs-axis-bounds

docs: add note about axis bounds and perception"
brharrington,2016-02-05 16:32:30,https://api.github.com/repos/Netflix/atlas/git/commits/42238efd69c02a973ecfb49c2af99cdc45c173db,42238efd69c02a973ecfb49c2af99cdc45c173db,docs: add note about axis bounds and perception
brharrington,2016-02-03 21:35:48,https://api.github.com/repos/Netflix/atlas/git/commits/34ad284b05c8642c7b9e4652e5daef729d87af74,34ad284b05c8642c7b9e4652e5daef729d87af74,"Merge pull request #302 from brharrington/aws-1.10.50

update to aws-java-sdk 1.10.50"
brharrington,2016-02-03 21:06:08,https://api.github.com/repos/Netflix/atlas/git/commits/4b6c536f52ebe1a8b3041e5477e5dd857ca015e0,4b6c536f52ebe1a8b3041e5477e5dd857ca015e0,"update to aws-java-sdk 1.10.50

Adds support for g2.8xlarge type."
brharrington,2016-02-01 16:33:41,https://api.github.com/repos/Netflix/atlas/git/commits/8961f5daaabce23fe2993b6e2f4be2d57f638b61,8961f5daaabce23fe2993b6e2f4be2d57f638b61,"Merge pull request #301 from brharrington/large-exponent

use scientific notation for large exponents"
brharrington,2016-02-01 16:03:09,https://api.github.com/repos/Netflix/atlas/git/commits/d0f707754d10428cb832af77bf11ad9ebda4dc15,d0f707754d10428cb832af77bf11ad9ebda4dc15,"use scientific notation for large exponents

Fix regression with new rendering always using an SI unit prefix
even if the number is really large. If the exponent is too large
for yotta, 10^24, or too small for yocto, 10^-24, then use
scientific notation."
brharrington,2016-01-30 20:55:24,https://api.github.com/repos/Netflix/atlas/git/commits/6f7a48684a8fe118b12f7c383dc3b59e4ef442b8,6f7a48684a8fe118b12f7c383dc3b59e4ef442b8,"Merge pull request #300 from brharrington/infinity

better error message for infinite values"
brharrington,2016-01-30 20:41:37,https://api.github.com/repos/Netflix/atlas/git/commits/34d7021736e68dd34c1e5a64c4a9bcf8e6dcec7d,34d7021736e68dd34c1e5a64c4a9bcf8e6dcec7d,docs: remove incorrect statement in fdiv docs
brharrington,2016-01-30 18:33:28,https://api.github.com/repos/Netflix/atlas/git/commits/d4b78e495303952b9df75f0f45dbe39644abb5b8,d4b78e495303952b9df75f0f45dbe39644abb5b8,"fix summary stats for negative and infinite values

SummaryStats was using `Double.MIN_VALUE` for the starting value
of max. If the input is all less than or equal to zero then this
will result in an incorrect maximum value as the starting point
is greater than anything in the input.

Double.MIN_VALUE is not like Long.MIN_VALUE, it is:

> A constant holding the smallest positive nonzero value of type
> double, 2-1074.

Further, Double.MIN_VALUE and Double.MAX_VALUE do not work
correctly if the input contains Infinity or -Infinity. Now
Double.PositiveInfinity and Double.NegativeInfinity are used
as the starting points for min and max respectively."
brharrington,2016-01-30 17:59:13,https://api.github.com/repos/Netflix/atlas/git/commits/3c54b1ee9ca57d47dd631b99fe87424757be6906,3c54b1ee9ca57d47dd631b99fe87424757be6906,"plot def should ignore infinite values for bounds

The bounds should be restricted to finite values. Detection of
infinite values can be seen in the legend stats, but visually
they shouldn't break the plot."
brharrington,2016-01-30 17:46:41,https://api.github.com/repos/Netflix/atlas/git/commits/9ff71435584ef9a5a8836b80361dbff1a4fa496a,9ff71435584ef9a5a8836b80361dbff1a4fa496a,"do not assign prefix to non-finite values

`Infinity` was getting mapped to the largest prefix causing it
to get formatted as `InfinityY`."
brharrington,2016-01-30 17:14:07,https://api.github.com/repos/Netflix/atlas/git/commits/9b0159c32bc80da54e831ae975744d32db93873a,9b0159c32bc80da54e831ae975744d32db93873a,"better error message for infinite values

Improve the error message if one of the bounds passed in to
generate tick labels is not finite. Before it would give:

```
NoSuchElementException: head of empty list
```"
brharrington,2016-01-28 05:49:29,https://api.github.com/repos/Netflix/atlas/git/commits/91d2fd439830b3c43e4331d3f95f1dff107eb02a,91d2fd439830b3c43e4331d3f95f1dff107eb02a,"Merge pull request #299 from brharrington/fix-stats

add test case for collector stats"
brharrington,2016-01-28 05:39:48,https://api.github.com/repos/Netflix/atlas/git/commits/ea24bc8544f827b26479f299409b46c6f07d6478,ea24bc8544f827b26479f299409b46c6f07d6478,update test case to show stats
brharrington,2016-01-28 04:41:01,https://api.github.com/repos/Netflix/atlas/git/commits/e43a4193e922a8383092e8e1774f8e28c60b37d5,e43a4193e922a8383092e8e1774f8e28c60b37d5,"add test case for collector stats

Adds a test case for the graph image and v2.json encoding
with the graph stats filled in."
brharrington,2016-01-26 23:51:11,https://api.github.com/repos/Netflix/atlas/git/commits/40c977ccb78e5fd584dac43f01c51ef0e12fba1e,40c977ccb78e5fd584dac43f01c51ef0e12fba1e,"Merge pull request #298 from brharrington/issue-264-presentation-json

add experimental output format with all metadata"
brharrington,2016-01-26 23:25:21,https://api.github.com/repos/Netflix/atlas/git/commits/fd92fba55cff604695662588de9f8dbe62486a3b,fd92fba55cff604695662588de9f8dbe62486a3b,"add experimental output format with all metadata

**The format is not final yet and may still change in
incompatible ways.**

Adds an experimental JSON output format that includes all
metadata so we can precisely detect presentation settings
if using external rendering. This is becoming more common
with various javascript libraries and there is a desire
to accurately capture user-intent for palettes, stack vs
area, etc.

It was a bit difficult to shoehorn this into existing
formats and there are a number of short comings so we'll
keep this to the side for now to get more experience with
the new format."
brharrington,2016-01-26 03:46:05,https://api.github.com/repos/Netflix/atlas/git/commits/e5e911df41fc0130008ed5443647527f349b1bad,e5e911df41fc0130008ed5443647527f349b1bad,"Merge pull request #297 from brharrington/iep-0.3.14

update aws, iep, slf4j, and spectator"
brharrington,2016-01-26 03:36:15,https://api.github.com/repos/Netflix/atlas/git/commits/d1c8aee710715d8d0ab7345b4c45741206b34526,d1c8aee710715d8d0ab7345b4c45741206b34526,"update aws, iep, slf4j, and spectator"
brharrington,2016-01-24 16:07:34,https://api.github.com/repos/Netflix/atlas/git/commits/e3b665d55a7f8fd21cf3fef187f832889babc50a,e3b665d55a7f8fd21cf3fef187f832889babc50a,"Merge pull request #296 from brharrington/percentile-empty

add test cases for no data with :percentiles"
brharrington,2016-01-24 15:57:48,https://api.github.com/repos/Netflix/atlas/git/commits/77a9d3fd9ab424cac60f8a1cbc357550df70e6fd,77a9d3fd9ab424cac60f8a1cbc357550df70e6fd,add test cases for no data with :percentiles
brharrington,2016-01-21 13:57:02,https://api.github.com/repos/Netflix/atlas/git/commits/fd68c987f3b8d697f7f1ec44d2ab9c521069d91c,fd68c987f3b8d697f7f1ec44d2ab9c521069d91c,"Merge pull request #295 from brharrington/docs-sdes

docs: update description for :sdes"
brharrington,2016-01-21 13:39:57,https://api.github.com/repos/Netflix/atlas/git/commits/7500f445147cc1945086f89baad92db089bf8d33,7500f445147cc1945086f89baad92db089bf8d33,docs: update description for :sdes
brharrington,2016-01-21 05:41:53,https://api.github.com/repos/Netflix/atlas/git/commits/b8eb7e91614a0fd0f9f894fae5dfe303bd6bc56c,b8eb7e91614a0fd0f9f894fae5dfe303bd6bc56c,"Merge pull request #294 from brharrington/docs-rolling-count

docs: update description for rolling-count"
brharrington,2016-01-21 05:35:10,https://api.github.com/repos/Netflix/atlas/git/commits/7bd150803bda4f4374f7cb29f6f15ee299e33c11,7bd150803bda4f4374f7cb29f6f15ee299e33c11,docs: update description for rolling-count
brharrington,2016-01-20 13:50:20,https://api.github.com/repos/Netflix/atlas/git/commits/268405fc747ec396c6ed868d1467230351e4c16a,268405fc747ec396c6ed868d1467230351e4c16a,"Merge pull request #293 from brharrington/query-index-expr

make QueryIndex.create more generic"
brharrington,2016-01-20 13:39:52,https://api.github.com/repos/Netflix/atlas/git/commits/16f29a2a9954174d30f3c0caf51536af9c7305f1,16f29a2a9954174d30f3c0caf51536af9c7305f1,"make QueryIndex.create more generic

Allow the entry type to vary so it is easier to create the index
for any entry rather than just those with a value type of Query."
brharrington,2016-01-19 16:33:48,https://api.github.com/repos/Netflix/atlas/git/commits/e25384a695f46b149c01acf18633273ed434be8e,e25384a695f46b149c01acf18633273ed434be8e,"Merge pull request #292 from brharrington/mailing-list

add link to google group"
brharrington,2016-01-19 16:17:33,https://api.github.com/repos/Netflix/atlas/git/commits/02dbf4bbd6baa7c9cab8e3bc8cdc764ca2b9db52,02dbf4bbd6baa7c9cab8e3bc8cdc764ca2b9db52,add link to google group
brharrington,2016-01-18 21:47:56,https://api.github.com/repos/Netflix/atlas/git/commits/db46038a7b843451141bebaa38270dce03bf83ce,db46038a7b843451141bebaa38270dce03bf83ce,"Merge pull request #291 from brharrington/percentile

add :percentiles and :median"
brharrington,2016-01-17 15:40:37,https://api.github.com/repos/Netflix/atlas/git/commits/66d132068042d10e1834f2e1e6ad4aed3c497091,66d132068042d10e1834f2e1e6ad4aed3c497091,"add :percentiles and :median

Adds a `:percentiles` helper to compute estimated percentiles
for spectator PercentileTimer and PercentileDistributionSummary.
These use a precomputed set of buckets that partition the range
of non-negative long values to allow for arbitrary slicing and
dicing based on the dimensions and still get a reasonable
approximation of percentiles.

This approach is less accurate than alternatives like t-Digest,
but more efficent and practical for our use-cases.

It is used just after the data function which should be a sum
or group by:

```
name,requestLatency,:eq,(,50,90,),:percentiles
name,requestLatency,:eq,(,nf.cluster,),:by,(,50,90,),:percentiles
```

The output will be one line per input per requested percentile.
There is also a helper, `:median` that is just short hand for
`(,50,),:percentiles`."
brharrington,2016-01-17 15:58:22,https://api.github.com/repos/Netflix/atlas/git/commits/fd51ca594a014b445ee6203d3216b2e883d034ce,fd51ca594a014b445ee6203d3216b2e883d034ce,"Merge pull request #290 from brharrington/issue-288

fix #288, update version on getting started page"
brharrington,2016-01-17 15:49:41,https://api.github.com/repos/Netflix/atlas/git/commits/7278e82481c6381dd6deaa6293e3c49c6d7cf095,7278e82481c6381dd6deaa6293e3c49c6d7cf095,"fix #288, update version on getting started page"
brharrington,2016-01-16 23:07:47,https://api.github.com/repos/Netflix/atlas/git/commits/126fc3d9273b5cc865342ebc89f821eca5706138,126fc3d9273b5cc865342ebc89f821eca5706138,"Merge pull request #287 from nadavc/patch-1

Update README.md"
nadavc,2016-01-16 22:20:24,https://api.github.com/repos/Netflix/atlas/git/commits/ead533793a62002bb5ca268189323f2f5e2467d8,ead533793a62002bb5ca268189323f2f5e2467d8,Update README.md
brharrington,2016-01-16 16:57:43,https://api.github.com/repos/Netflix/atlas/git/commits/eea04471c0c2194586a466612c280ab1e05acb89,eea04471c0c2194586a466612c280ab1e05acb89,"Merge pull request #286 from brharrington/issue-283

fix #283, use query tags for no data line"
brharrington,2016-01-16 16:56:29,https://api.github.com/repos/Netflix/atlas/git/commits/09c5e00650f3bf4b9dc9e9f62306a1aabd7c06e1,09c5e00650f3bf4b9dc9e9f62306a1aabd7c06e1,"Merge pull request #285 from brharrington/issue-282

fix #282, don't show notice for 0 suppressed"
brharrington,2016-01-16 16:08:13,https://api.github.com/repos/Netflix/atlas/git/commits/4c0d65e0a50ce10f90c899dc6b13c35c12f84fe3,4c0d65e0a50ce10f90c899dc6b13c35c12f84fe3,"fix #283, use query tags for no data line"
brharrington,2016-01-16 15:25:49,https://api.github.com/repos/Netflix/atlas/git/commits/c28f553497befd6695d99cc0c8e0c50b1a8f9239,c28f553497befd6695d99cc0c8e0c50b1a8f9239,"fix #282, don't show notice for 0 suppressed"
brharrington,2016-01-09 05:28:58,https://api.github.com/repos/Netflix/atlas/git/commits/fdf8f84467a37bfb4adbff7c5b1784e59f6d8e78,fdf8f84467a37bfb4adbff7c5b1784e59f6d8e78,"Merge pull request #281 from brharrington/dep-updates

regular dependency update"
brharrington,2016-01-09 05:21:10,https://api.github.com/repos/Netflix/atlas/git/commits/a15c8502bce17bf1090e3d8a54a1801c808a8580,a15c8502bce17bf1090e3d8a54a1801c808a8580,"Merge pull request #280 from brharrington/image-diff

add command line tool for image diff"
brharrington,2016-01-09 05:19:54,https://api.github.com/repos/Netflix/atlas/git/commits/7cf698980df161c8b432ab71e8cb5003e94cb26b,7cf698980df161c8b432ab71e8cb5003e94cb26b,regular dependency update
brharrington,2016-01-09 04:53:52,https://api.github.com/repos/Netflix/atlas/git/commits/a737b56cc8dc707ef0ddc9fe528fe998274fe466,a737b56cc8dc707ef0ddc9fe528fe998274fe466,"add command line tool for image diff

Makes the image diff utility used for tests available
as a command line tool. Mainly for scripting some
comparisons."
brharrington,2016-01-08 21:25:55,https://api.github.com/repos/Netflix/atlas/git/commits/1e2b8fd0aff7c993439141f83789e4e1ce7c4bd7,1e2b8fd0aff7c993439141f83789e4e1ce7c4bd7,"Merge pull request #279 from brharrington/only-graph

only_graph param was not being honored"
brharrington,2016-01-08 21:17:30,https://api.github.com/repos/Netflix/atlas/git/commits/ffeddb17c8b513e9ed70f1dc89038e0feb19902c,ffeddb17c8b513e9ed70f1dc89038e0feb19902c,"only_graph param was not being honored

There was already a test case, it just got blessed when
it shouldn't have been."
brharrington,2016-01-08 17:08:47,https://api.github.com/repos/Netflix/atlas/git/commits/240da457eb4f24c7693edf3eda90f69ac2ebf5eb,240da457eb4f24c7693edf3eda90f69ac2ebf5eb,"Merge pull request #278 from brharrington/docs-wording

docs: minor wording fix"
brharrington,2016-01-08 16:49:52,https://api.github.com/repos/Netflix/atlas/git/commits/62391fe2277381b70b1ce64229f007019aa40661,62391fe2277381b70b1ce64229f007019aa40661,"Merge pull request #277 from brharrington/docs-anchor-links

docs: use exact sizes for images"
brharrington,2016-01-08 16:48:50,https://api.github.com/repos/Netflix/atlas/git/commits/4a734e816f87998617f1b84e836b141bc633d970,4a734e816f87998617f1b84e836b141bc633d970,docs: minor wording fix
brharrington,2016-01-08 16:36:32,https://api.github.com/repos/Netflix/atlas/git/commits/f36d1e038032da94990b73a232cd1141ff9f5e10,f36d1e038032da94990b73a232cd1141ff9f5e10,"docs: use exact sizes for images

Several users complained that anchor links were
unreliable. This seems to mostly be chrome scrolling
before images have completed loading. This changes
all auto-generated images to have exact sizes as
well as manually updating some of the static images.

A quick test shows the github wiki will restrict
the max-width so there is no horizontal scrolling
if the actual width is wider than the wiki.

So far in my tests the anchor links work reliably
now."
brharrington,2016-01-08 05:13:41,https://api.github.com/repos/Netflix/atlas/git/commits/17c2f42ae31adbbdf01dab55ee785e775b2f8992,17c2f42ae31adbbdf01dab55ee785e775b2f8992,"Merge pull request #275 from brharrington/docs-graphing

docs: update graph api page to include all params"
brharrington,2016-01-08 05:06:30,https://api.github.com/repos/Netflix/atlas/git/commits/b1af87a420fb2be1e785fe0af378f8c35b1e765b,b1af87a420fb2be1e785fe0af378f8c35b1e765b,docs: fix time shift link
brharrington,2016-01-08 05:01:08,https://api.github.com/repos/Netflix/atlas/git/commits/e2482631b2ad79f4166fde759e147ba8933e88e5,e2482631b2ad79f4166fde759e147ba8933e88e5,docs: add visual index to root example page
brharrington,2016-01-08 01:00:08,https://api.github.com/repos/Netflix/atlas/git/commits/ef0015f021ca2d6e420d6d8c0d6189ccc2434d32,ef0015f021ca2d6e420d6d8c0d6189ccc2434d32,docs: add palette example with multi-Y
brharrington,2016-01-08 00:44:23,https://api.github.com/repos/Netflix/atlas/git/commits/16b0a2bc53b037cdefd651337095d7ef1af34fd9,16b0a2bc53b037cdefd651337095d7ef1af34fd9,docs: update time zone examples
brharrington,2016-01-08 00:43:51,https://api.github.com/repos/Netflix/atlas/git/commits/6b840fa1e9e3719eb87941ad8e6cffb48da7d1e4,6b840fa1e9e3719eb87941ad8e6cffb48da7d1e4,docs: remove title example (part of basics page)
brharrington,2016-01-08 00:18:46,https://api.github.com/repos/Netflix/atlas/git/commits/e42dd2ff5b0b853bf9b75fade02aa9f49d871044,e42dd2ff5b0b853bf9b75fade02aa9f49d871044,docs: add example for title and y-label
brharrington,2016-01-08 00:12:42,https://api.github.com/repos/Netflix/atlas/git/commits/ba2d43fee2e6084cefb929e767b74769c130b315,ba2d43fee2e6084cefb929e767b74769c130b315,docs: add example of using only_graph
brharrington,2016-01-08 00:02:14,https://api.github.com/repos/Netflix/atlas/git/commits/5677c508bc75d2d781887de23305c9e3224113c9,5677c508bc75d2d781887de23305c9e3224113c9,docs: add multi-y page
brharrington,2016-01-07 23:42:51,https://api.github.com/repos/Netflix/atlas/git/commits/482c019adb5b84f33a1e5757d7575ee9e20714cd,482c019adb5b84f33a1e5757d7575ee9e20714cd,docs: fix file name for axis scale
brharrington,2016-01-07 22:09:14,https://api.github.com/repos/Netflix/atlas/git/commits/fbb469693c36db7d61935b46d0cec75fdaa53e3f,fbb469693c36db7d61935b46d0cec75fdaa53e3f,docs: cleanup some of the old examples
brharrington,2016-01-07 21:45:09,https://api.github.com/repos/Netflix/atlas/git/commits/8d0be4d083674020f0a3ede730f7526560cbd67c,8d0be4d083674020f0a3ede730f7526560cbd67c,docs: add basics page
brharrington,2016-01-07 20:52:20,https://api.github.com/repos/Netflix/atlas/git/commits/c1745b1ff40137d01feee6bbb2a672e91a896629,c1745b1ff40137d01feee6bbb2a672e91a896629,docs: add anonymization page
brharrington,2016-01-07 20:51:45,https://api.github.com/repos/Netflix/atlas/git/commits/34f06183b3eb33e81d56453e593f7f819ff3a4af,34f06183b3eb33e81d56453e593f7f819ff3a4af,docs: add line attributes page
brharrington,2016-01-07 20:25:28,https://api.github.com/repos/Netflix/atlas/git/commits/173f299d06a96ce56e8c83a4bc77e13f66272926,173f299d06a96ce56e8c83a4bc77e13f66272926,docs: add line styles page
brharrington,2016-01-07 18:33:36,https://api.github.com/repos/Netflix/atlas/git/commits/9ea1cc4829aef07159d0abbc31f06c9e93aac9a9,9ea1cc4829aef07159d0abbc31f06c9e93aac9a9,docs: update legend examples
brharrington,2016-01-07 17:06:36,https://api.github.com/repos/Netflix/atlas/git/commits/ffd79ccd3774b7a144e5a917d709ca6aa54da7a6,ffd79ccd3774b7a144e5a917d709ca6aa54da7a6,docs: add output formats page
brharrington,2016-01-07 16:08:27,https://api.github.com/repos/Netflix/atlas/git/commits/752f2768e9ebdc28c13b7a18c8b9f9460e9079bb,752f2768e9ebdc28c13b7a18c8b9f9460e9079bb,docs: add color palettes page
brharrington,2016-01-07 05:40:31,https://api.github.com/repos/Netflix/atlas/git/commits/4ad7a8a06e925824a7077041673611044224c644,4ad7a8a06e925824a7077041673611044224c644,docs: add vision types page
brharrington,2016-01-07 05:09:03,https://api.github.com/repos/Netflix/atlas/git/commits/17bd46ecfbfefaf4e28700abb83b5fef79a69bba,17bd46ecfbfefaf4e28700abb83b5fef79a69bba,docs: add axis bounds page
brharrington,2016-01-07 04:35:13,https://api.github.com/repos/Netflix/atlas/git/commits/c5b3221d8a1bb0d46be95f2e9c3e60df539873f4,c5b3221d8a1bb0d46be95f2e9c3e60df539873f4,docs: fix link to examples
brharrington,2016-01-07 04:29:44,https://api.github.com/repos/Netflix/atlas/git/commits/b384b7ed7b844cbae859e2e8cedbf4f087ec470d,b384b7ed7b844cbae859e2e8cedbf4f087ec470d,docs: add graph layout page
brharrington,2016-01-06 18:54:55,https://api.github.com/repos/Netflix/atlas/git/commits/2b778311dd5c0e1bc64426308ac2ce4233cfa44d,2b778311dd5c0e1bc64426308ac2ce4233cfa44d,docs: group times and durations for linking
brharrington,2016-01-06 18:44:35,https://api.github.com/repos/Netflix/atlas/git/commits/1606c0d13f9d7a17e890d7d04c2a37080c162281,1606c0d13f9d7a17e890d7d04c2a37080c162281,docs: fix link to named times
brharrington,2016-01-06 18:29:41,https://api.github.com/repos/Netflix/atlas/git/commits/438f77b0aaebd9ae52d67702e4021ba8d5a4efe4,438f77b0aaebd9ae52d67702e4021ba8d5a4efe4,"docs: update graph api page to include all params

Still a WIP, some of the linked pages still need to be
written to provide additional details."
brharrington,2016-01-06 17:23:12,https://api.github.com/repos/Netflix/atlas/git/commits/16ab502d8eb6f57bd25965c2d633f28842556ab9,16ab502d8eb6f57bd25965c2d633f28842556ab9,"Merge pull request #274 from brharrington/rm-font-size

remove unused query param"
brharrington,2016-01-06 16:57:18,https://api.github.com/repos/Netflix/atlas/git/commits/d89272a9585a44bfde65263c1c5ac4c6fbd68e9f,d89272a9585a44bfde65263c1c5ac4c6fbd68e9f,"remove unused query param

The `font_size` param is a legacy setting that hasn't
worked in years. It isn't really appropriate now as
several different font sizes are used and dynamic sizing
would need to be thoughout to ensure it still works well
with the layouts."
brharrington,2016-01-04 21:18:06,https://api.github.com/repos/Netflix/atlas/git/commits/6ab9a00f9077f8c3121125daa93c9b83cdf44f5a,6ab9a00f9077f8c3121125daa93c9b83cdf44f5a,"Merge pull request #273 from brharrington/license-2016

update license headers"
brharrington,2016-01-04 18:40:06,https://api.github.com/repos/Netflix/atlas/git/commits/0d85d807c35107dd617bd90680fa1493359e2105,0d85d807c35107dd617bd90680fa1493359e2105,"update license headers

Fix build errors due to license headers check. Need to
investigate if we can make the check smarter to avoid
this at the end of the year."
brharrington,2015-12-24 06:13:19,https://api.github.com/repos/Netflix/atlas/git/commits/d41a8261ee4801c0358936fa40cd737e70add36d,d41a8261ee4801c0358936fa40cd737e70add36d,"Merge pull request #272 from brharrington/explicit-auto-bounds

allow automatic bound to be specified"
brharrington,2015-12-24 06:03:20,https://api.github.com/repos/Netflix/atlas/git/commits/dc793614f687b77b9bf01e097fb7b185bf62154e,dc793614f687b77b9bf01e097fb7b185bf62154e,add test case for using auto-data on graph api
brharrington,2015-12-24 05:54:13,https://api.github.com/repos/Netflix/atlas/git/commits/5a0b5aac0d98a0ad9ce6b10b7644d018fcb16d90,5a0b5aac0d98a0ad9ce6b10b7644d018fcb16d90,fix auto-data for stacked lines
brharrington,2015-12-24 04:56:32,https://api.github.com/repos/Netflix/atlas/git/commits/df7727c7d948a027fbb1d21063727b624c86db2d,df7727c7d948a027fbb1d21063727b624c86db2d,use PlotBound instead of Option[Double]
brharrington,2015-12-24 04:07:29,https://api.github.com/repos/Netflix/atlas/git/commits/d88651a859fefd010337812d179d7ae4cd55c24f,d88651a859fefd010337812d179d7ae4cd55c24f,"allow automatic bound to be specified

Adds PlotBound type used to specify either a specific value
or an automatic bound. The use-case is to support automatic
bounds in two variants:

* `auto-style`: upper and lower bounds based on the visual
  representation of the line. For stack and area styles this
  means that the filled in area should be shown for the automatic
  bound. This mode is the default now, but cannot be made
  explicit.
* `auto-data`: upper and lower bounds based on the data. So
  the line style will not get considered.

For this first commit the PlotBound type is added and all of
the existing tests pass. One change in behvaior was made so that
stack/area plots with a constant value trigger the padding
behavior."
brharrington,2015-12-22 05:25:00,https://api.github.com/repos/Netflix/atlas/git/commits/b50ce5553534ef02dc61504359b68bcd136e6c6d,b50ce5553534ef02dc61504359b68bcd136e6c6d,"Merge pull request #271 from brharrington/issue-260

fixes #260 use padding when truncating labels"
brharrington,2015-12-22 05:17:48,https://api.github.com/repos/Netflix/atlas/git/commits/4a53251bc397b848513b9e85930a21f6c0504ad2,4a53251bc397b848513b9e85930a21f6c0504ad2,bless image diffs for DefaultGraphEngine
brharrington,2015-12-22 04:42:06,https://api.github.com/repos/Netflix/atlas/git/commits/cec6c68e8d9f3e347a12fc8a37627df2e8baf8d6,cec6c68e8d9f3e347a12fc8a37627df2e8baf8d6,"bless diffs for text truncation change

Both diffs are just changeing the number of characters
shown in the label before the elipses starts."
brharrington,2015-12-22 04:29:58,https://api.github.com/repos/Netflix/atlas/git/commits/007f929648ba7e42e46bc0b8dd85d6fbb03560fa,007f929648ba7e42e46bc0b8dd85d6fbb03560fa,fixes #260 use padding when truncating labels
brharrington,2015-12-21 03:43:00,https://api.github.com/repos/Netflix/atlas/git/commits/b2b7c1b3ba29081e77c441dfb072dc7195641d7b,b2b7c1b3ba29081e77c441dfb072dc7195641d7b,"Merge pull request #270 from brharrington/docs-rm-old

docs: remove old incomplete wiki pages"
brharrington,2015-12-21 03:25:37,https://api.github.com/repos/Netflix/atlas/git/commits/c8b1bc2090362fd53e83696c3ba9cab587a2eae8,c8b1bc2090362fd53e83696c3ba9cab587a2eae8,docs: fix image links on example pages
brharrington,2015-12-21 03:02:08,https://api.github.com/repos/Netflix/atlas/git/commits/3b562630dbf4dd9a6b9400359298bc150dbf412e,3b562630dbf4dd9a6b9400359298bc150dbf412e,docs: remove old incomplete wiki pages
brharrington,2015-12-20 02:42:40,https://api.github.com/repos/Netflix/atlas/git/commits/130d8ea3f95cbcbd670bb81f0de0fbd1be1e267f,130d8ea3f95cbcbd670bb81f0de0fbd1be1e267f,"Merge pull request #269 from brharrington/axis-palette

allow palette to be set for an axis"
brharrington,2015-12-20 02:27:52,https://api.github.com/repos/Netflix/atlas/git/commits/80ae8959d0cb6a2e5dbc3a388fdb13e8230f8646,80ae8959d0cb6a2e5dbc3a388fdb13e8230f8646,"allow palette to be set for an axis

This change adds a query param for setting the palette to
use for a given axis. The existing palette param maintains
the same behavior as before. By default a single color is
used for all lines on an axis so it is easy to understand
which axis is used for a given line. It is still generally
recommended to limit multi-Y charts to have a single line
per axis to minimize confusion.

A param `palette.$n` where `n` is the number of the axis
can be used and that palette will be used for only the
lines on that axis. A few color shade palettes have been
added for convenience that should still work ok for
color blindness."
brharrington,2015-12-19 04:28:50,https://api.github.com/repos/Netflix/atlas/git/commits/c65342c8a864a43fee457cd0efed863b64260f73,c65342c8a864a43fee457cd0efed863b64260f73,"Merge pull request #268 from brharrington/404-page

fixes #266 server log is confusing for 404s"
brharrington,2015-12-19 04:20:44,https://api.github.com/repos/Netflix/atlas/git/commits/d6811134c535f4852a1f715aaf4f9e78ac318090,d6811134c535f4852a1f715aaf4f9e78ac318090,remove unneeded import
brharrington,2015-12-19 04:13:19,https://api.github.com/repos/Netflix/atlas/git/commits/0fbe753b7ed18a149ea6951f42ba8c189f6d61ab,0fbe753b7ed18a149ea6951f42ba8c189f6d61ab,"fixes #266 server log is confusing for 404s

Now shows the 404 NotFound rather than an exception about
route rejection in the logs."
brharrington,2015-12-19 03:01:07,https://api.github.com/repos/Netflix/atlas/git/commits/5a5a67b3dea223a8130bfd9b6733d82f3c93a91c,5a5a67b3dea223a8130bfd9b6733d82f3c93a91c,"Merge pull request #267 from brharrington/docs-spelling

doc: misc small corrections"
brharrington,2015-12-19 02:54:17,https://api.github.com/repos/Netflix/atlas/git/commits/aea657c9c8b1835aa1cb486ce707b8be7c7a4efe,aea657c9c8b1835aa1cb486ce707b8be7c7a4efe,docs: pin DES examples to reduce spurious diffs
brharrington,2015-12-19 02:45:19,https://api.github.com/repos/Netflix/atlas/git/commits/dd36e5c86d773c73e4e9eaa91af64f536dd71636,dd36e5c86d773c73e4e9eaa91af64f536dd71636,docs: update to latest version
brharrington,2015-12-19 02:40:50,https://api.github.com/repos/Netflix/atlas/git/commits/2d5b6d59fbfba2d87d5184a180f5c6480dc91b76,2d5b6d59fbfba2d87d5184a180f5c6480dc91b76,doc: misc small corrections
brharrington,2015-12-16 01:15:30,https://api.github.com/repos/Netflix/atlas/git/commits/f607e7a6b6bed0c690c0fd0f5e7bf1abdbcefd7c,f607e7a6b6bed0c690c0fd0f5e7bf1abdbcefd7c,"Merge pull request #265 from brharrington/multi-level-group-by

multi-level group by"
brharrington,2015-12-16 00:33:08,https://api.github.com/repos/Netflix/atlas/git/commits/d8104fc58d1af2c79c269362f32996e3db6c5b89,d8104fc58d1af2c79c269362f32996e3db6c5b89,"multi-level group by

Supports multi-level group by operation. Main use-case
is different aggregates, e.g., the maximum average
cpu for an asg within a cluster:

```
name,ssCpuUser,:eq,:avg,(,nf.cluster,nf.asg,),:by,
:max,(,nf.cluster,),:by
```"
brharrington,2015-12-13 04:25:23,https://api.github.com/repos/Netflix/atlas/git/commits/82ad25a8625de03b175a32734f9ce1f0e80af321,82ad25a8625de03b175a32734f9ce1f0e80af321,"Merge pull request #262 from brharrington/config-std-tags

allow reserved keys to be configured"
brharrington,2015-12-13 03:24:47,https://api.github.com/repos/Netflix/atlas/git/commits/3c3d9e698d1ac6c28caee7d6b2ca624dea292616,3c3d9e698d1ac6c28caee7d6b2ca624dea292616,"Merge pull request #263 from brharrington/maven-groupid

update maven groupId"
brharrington,2015-12-13 03:14:16,https://api.github.com/repos/Netflix/atlas/git/commits/04a4a78aad5fded65e469b38af4012a1d1b8392f,04a4a78aad5fded65e469b38af4012a1d1b8392f,"update maven groupId

Due to some historical baggage, it is a pain to get the
artifacts into jcenter with the current com.netflix.atlas
groupId. This changes the id to add a version as I couldn't
come up with something better. This may also be useful in
the future to allow side by side import of a v2 version."
brharrington,2015-12-13 02:44:20,https://api.github.com/repos/Netflix/atlas/git/commits/ff6d0ba7a8afdfa7937431cb8190464e0eec88aa,ff6d0ba7a8afdfa7937431cb8190464e0eec88aa,"allow reserved keys to be configured

Replaced the NonStandardKeyRule with a ReservedKeyRule that
allows the set of keys for a prefix to be configured."
brharrington,2015-12-12 18:38:05,https://api.github.com/repos/Netflix/atlas/git/commits/7bc70b5bf90a2f6ba691acc09b176213eea8e1b3,7bc70b5bf90a2f6ba691acc09b176213eea8e1b3,"Merge pull request #261 from brharrington/docs-tutorial

docs: clean up stack lang tutorial"
brharrington,2015-12-12 18:29:02,https://api.github.com/repos/Netflix/atlas/git/commits/27ed669a70bc5b92502a1a43be8dced25adc2b9b,27ed669a70bc5b92502a1a43be8dced25adc2b9b,docs: clean up stack lang tutorial
brharrington,2015-12-12 15:05:43,https://api.github.com/repos/Netflix/atlas/git/commits/e8dd5ca39e9646a9b48b8e03d244f890a1ef0332,e8dd5ca39e9646a9b48b8e03d244f890a1ef0332,"wrap really long lines

Should make further diffs easier to follow."
aspyker,2015-12-11 23:54:39,https://api.github.com/repos/Netflix/atlas/git/commits/8e2749497016bc6a1f6aa87d19cd3ea9efecff77,8e2749497016bc6a1f6aa87d19cd3ea9efecff77,adding OSSMETADATA for NetflixOSS tracking
brharrington,2015-12-11 00:42:12,https://api.github.com/repos/Netflix/atlas/git/commits/66ec83d9ea99a4d0880ebe95262f9a9b4ac0b35e,66ec83d9ea99a4d0880ebe95262f9a9b4ac0b35e,"Merge pull request #258 from brharrington/queryindex

index for efficiently matching many queries"
brharrington,2015-12-10 01:44:55,https://api.github.com/repos/Netflix/atlas/git/commits/72d0d60236cc68feaa06ae29efd1d6ee3e34cc0c,72d0d60236cc68feaa06ae29efd1d6ee3e34cc0c,"Merge pull request #259 from brharrington/cors-preflight-headers

add cors headers on pre-flight request"
brharrington,2015-12-10 00:59:33,https://api.github.com/repos/Netflix/atlas/git/commits/4175b04b4b6a89ad43703dfc6e1b7b5bbf668829,4175b04b4b6a89ad43703dfc6e1b7b5bbf668829,"add cors headers on pre-flight request

Updates the routes so that the OPTIONS pre-flight
request will include the CORS headers. This is needed
by at least chrome if certain conditions apply, in
particular, adding various headers.

Example for testing with XMLHttpRequest and the newer
fetch call:

```html
<html>
<head>
<script>
// https://developers.google.com/web/updates/2015/03/introduction-to-fetch?hl=en
var url = 'http://localhost:7101/api/v1/tags/nf.region';

function reqListener() {
  var data = JSON.parse(this.responseText);
  console.log('info xmlhttprequest: ' + data);
}

function reqError(err) {
  console.log('error xmlhttprequest: ', err);
}

var oReq = new XMLHttpRequest();
oReq.onload = reqListener;
oReq.onerror = reqError;
oReq.open('get', url, true);
oReq.setRequestHeader('X-Netflix.client.appid', 'foo');
oReq.send();

fetch(url, {headers: {'X-Netflix.client.appid': 'foo'}})
  .then(
    function(response) {
      if (response.status !== 200) {
        console.log('error fetch: ' + response.status);
        return;
      }
      response.json().then(function(data) {
        console.log('info fetch: ' + data);
      });
    }
  )
  .catch(function(err) {
    console.log('error fetch: ' + err);
  });
</script>
</head>
<body></body>
</html>
```

Before this would produce errors in the console like:

> XMLHttpRequest cannot load http://localhost:7101/api/v1/tags/nf.region.
> Response to preflight request doesn't pass access control check: No
> 'Access-Control-Allow-Origin' header is present on the requested resource.
> Origin 'null' is therefore not allowed access."
brharrington,2015-12-09 23:24:42,https://api.github.com/repos/Netflix/atlas/git/commits/20a25aaf3a3f2a042ab022ced9e355eb3edc05a3,20a25aaf3a3f2a042ab022ced9e355eb3edc05a3,"index for efficiently matching many queries

The current indexes allow us to quickly check a query
against many tag sets. For some use-cases, in particular,
stream processing, we need to check a tag set against
many queries.

The specific use-case is inline alert processing. Currently
in the main environment there are around 17k alert expressions
used for alerts. Decomposing those into individual queries
we get around 33k queries. With a quick test of comparing
a real payload of 5000 datapoints to find matches within the
alert query set takes around 6.2s using a naive loop. This
query index takes around 6ms.

We'll likely need to do some further optimization to reduce
the number of allocations when doing the match, but current
testing shows it to be good enough to include in a snapshot
for more experimentation."
brharrington,2015-12-09 03:25:22,https://api.github.com/repos/Netflix/atlas/git/commits/6b431d26b5221a4a840003d6e16de11e984981d0,6b431d26b5221a4a840003d6e16de11e984981d0,"Merge pull request #257 from brharrington/docs-filter-link

docs: fix link to :filter"
brharrington,2015-12-09 03:25:09,https://api.github.com/repos/Netflix/atlas/git/commits/cf06ecbed072e7ec8af6c47d7b27fe7a4e0cfacf,cf06ecbed072e7ec8af6c47d7b27fe7a4e0cfacf,"Merge pull request #256 from brharrington/docs-des-epic

docs: update des-epic-* to link to DES page"
brharrington,2015-12-09 03:16:54,https://api.github.com/repos/Netflix/atlas/git/commits/d6d49827e53c29325a0dec9a54e4ae28f43c9be2,d6d49827e53c29325a0dec9a54e4ae28f43c9be2,docs: fix link to :filter
brharrington,2015-12-09 03:13:14,https://api.github.com/repos/Netflix/atlas/git/commits/50dee857960ddd5960a0b25979a2ae2322b18deb,50dee857960ddd5960a0b25979a2ae2322b18deb,docs: update des-epic-* to link to DES page
brharrington,2015-12-08 20:55:59,https://api.github.com/repos/Netflix/atlas/git/commits/9d7175a357ad3346fb7e69cac14a865aa18d5e20,9d7175a357ad3346fb7e69cac14a865aa18d5e20,"Merge pull request #255 from brharrington/docs-offset-link

docs: add link to data variant of offset"
brharrington,2015-12-08 20:26:47,https://api.github.com/repos/Netflix/atlas/git/commits/4113ebdae57cde5f2f4bb3644fbd424cdee0e69c,4113ebdae57cde5f2f4bb3644fbd424cdee0e69c,docs: add link to data variant of offset
brharrington,2015-12-07 04:14:31,https://api.github.com/repos/Netflix/atlas/git/commits/a84567c8f5ad1a9e60a7876877a1815dbfe435ce,a84567c8f5ad1a9e60a7876877a1815dbfe435ce,"Merge pull request #254 from brharrington/docs-query

docs: update descriptions for query operations"
brharrington,2015-12-07 03:58:46,https://api.github.com/repos/Netflix/atlas/git/commits/c076a0faa7afb0379acdbfe2d4efb488840854dc,c076a0faa7afb0379acdbfe2d4efb488840854dc,docs: update descriptions for query operations
brharrington,2015-12-06 05:08:22,https://api.github.com/repos/Netflix/atlas/git/commits/05824a4cc037832d13defc5702904141a3143dd8,05824a4cc037832d13defc5702904141a3143dd8,"Merge pull request #253 from brharrington/docs-since

docs: indicate version for new operations"
brharrington,2015-12-06 01:48:02,https://api.github.com/repos/Netflix/atlas/git/commits/b614cfdcd0bb321f43ceb73dc48d5ae95f39e3c4,b614cfdcd0bb321f43ceb73dc48d5ae95f39e3c4,"docs: indicate version for new operations

For some of the new operations indicate the version they
were added in to reduce confusion."
brharrington,2015-12-03 21:28:02,https://api.github.com/repos/Netflix/atlas/git/commits/ed016217c2263dfa945ae4f63bf90fb0b95aa847,ed016217c2263dfa945ae4f63bf90fb0b95aa847,"Merge pull request #252 from brharrington/json-exception

default JsonProcessingException to BadRequest"
brharrington,2015-12-03 21:15:10,https://api.github.com/repos/Netflix/atlas/git/commits/c99e8b36887a7f47f230e9b169e2ea4e4f33abc4,c99e8b36887a7f47f230e9b169e2ea4e4f33abc4,"default JsonProcessingException to BadRequest

JsonProcessingException is more generic and covers the
current JsonParseException as well as the fairly common
JsonMappingException that occurs when databind is used
to read the data."
brharrington,2015-12-03 20:41:23,https://api.github.com/repos/Netflix/atlas/git/commits/f5d683c1a3e5be63caf3bd8eeb68829c3f0ec9b9,f5d683c1a3e5be63caf3bd8eeb68829c3f0ec9b9,"Merge pull request #251 from brharrington/dflt-exception-handler

add default exception handler"
brharrington,2015-12-03 20:28:18,https://api.github.com/repos/Netflix/atlas/git/commits/fef0371e226165d558e34923879572fbce65531a,fef0371e226165d558e34923879572fbce65531a,"add default exception handler

Adds a default exception handler for the routes added
with webapi. Helps to avoid confusing issues if an api
didn't add in a custom handler."
brharrington,2015-12-03 05:38:29,https://api.github.com/repos/Netflix/atlas/git/commits/e2ca616d3286fbe55eb06a40a1198db110869b1c,e2ca616d3286fbe55eb06a40a1198db110869b1c,"Merge pull request #250 from brharrington/dep-update

regular dependency update"
brharrington,2015-12-03 05:31:46,https://api.github.com/repos/Netflix/atlas/git/commits/de6f3e3c201e04346cdb43a6b8a6713c87ddc068,de6f3e3c201e04346cdb43a6b8a6713c87ddc068,sbt-jmh 0.2.5
brharrington,2015-12-03 05:24:05,https://api.github.com/repos/Netflix/atlas/git/commits/60d2db888e12d7df12ecb711acc7991ee1765489,60d2db888e12d7df12ecb711acc7991ee1765489,regular dependency update
brharrington,2015-12-01 21:39:26,https://api.github.com/repos/Netflix/atlas/git/commits/20eb6e6fb425805ad80f5425c45958ee2ad51d56,20eb6e6fb425805ad80f5425c45958ee2ad51d56,"Merge pull request #249 from brharrington/docs-presentations

docs: add links to presentations"
brharrington,2015-12-01 21:25:50,https://api.github.com/repos/Netflix/atlas/git/commits/3c859bdf4c2061de64feda5ea4bb89fe080f4e94,3c859bdf4c2061de64feda5ea4bb89fe080f4e94,"docs: add links to presentations

Adds a page to the wiki with links to various presentations
on Atlas or related tooling used at Netflix."
brharrington,2015-11-30 16:39:07,https://api.github.com/repos/Netflix/atlas/git/commits/ca5e155008413cc5d33a449d9cbf69971186f651,ca5e155008413cc5d33a449d9cbf69971186f651,"Merge pull request #248 from brharrington/default-page

configure prefixes for single page apps"
brharrington,2015-11-30 16:23:08,https://api.github.com/repos/Netflix/atlas/git/commits/a65e9049c0627630b46396a5a74714bf54a37f8e,a65e9049c0627630b46396a5a74714bf54a37f8e,"configure prefixes for single page apps

Adds two configuration options for the StaticPages webapi:

1. `atlas.akka.static.default-page`: configures the default
   page to redirect to when the user accesses `/` on the
   server.
2. `atlas.akka.static.single-page-prefixes`: configures zero
   or more prefixes that map to a single resource. This is for
   single page apps where the javascript should interpret the
   rest of the path."
brharrington,2015-11-15 04:06:05,https://api.github.com/repos/Netflix/atlas/git/commits/a8fcabb3e2506e7371e50a9f5222386e7c5c0df8,a8fcabb3e2506e7371e50a9f5222386e7c5c0df8,"Merge pull request #247 from brharrington/sdes-consistent

make naming of sdes operations consistent"
brharrington,2015-11-15 01:19:06,https://api.github.com/repos/Netflix/atlas/git/commits/86c518ea2ad1e77f44cb56057dd149ac4e4b2995,86c518ea2ad1e77f44cb56057dd149ac4e4b2995,"make naming of sdes operations consistent

The base operator was called `:sliding-des` and all
other variants were `:sdes-*`. With this change `:sdes`
is used consistently for sliding DES operations.

The shorter form was generally preferred because it
makes it much easier to switch between `:des` and `:sdes`
by just changing a single character. When experimenting
and comparing the results of both this is quite handy."
brharrington,2015-11-07 21:05:57,https://api.github.com/repos/Netflix/atlas/git/commits/92b4bc5820636fa95ec4c10ab5ab2623c64673e3,92b4bc5820636fa95ec4c10ab5ab2623c64673e3,"Merge pull request #245 from brharrington/palette-list

support user defined color palette"
brharrington,2015-11-07 18:12:28,https://api.github.com/repos/Netflix/atlas/git/commits/d101ee58334ec10e56219321cc8e81ee267a05a9,d101ee58334ec10e56219321cc8e81ee267a05a9,"support user defined color palette

Adds support for providing an explicit list of colors to
the palette option of the graph url. The primary use-case
is to allow less cumbersome customization of colors for
the result of a group by.

For use-cases such as bucket timers some want to customize
the color selection for asthetic reasons and currently that
involves breaking out each element of the group by to manually
assign a color using the `:color` operation. Now the list
can be provided as part of the palette param with a prefix
of 'colors:'. Example:

```
/api/v1/graph
  ?q=
    name,sps,:eq,:sum,(,nf.cluster,),:by,:pct,
    $nf.cluster,:legend,
    :stack
  &palette=colors:1a9850,91cf60,d9ef8b,fee08b,fc8d59,d73027
```"
brharrington,2015-10-30 20:55:43,https://api.github.com/repos/Netflix/atlas/git/commits/2bd623d29797692afa1178474df2e30afd4d8d0f,2bd623d29797692afa1178474df2e30afd4d8d0f,"Merge pull request #244 from brharrington/expr-rewrite-bug

rewrite can cause duplicate case objects"
brharrington,2015-10-30 20:47:18,https://api.github.com/repos/Netflix/atlas/git/commits/a78660086e42a320aa119280de67f9ccd8f147fd,a78660086e42a320aa119280de67f9ccd8f147fd,"rewrite can cause duplicate case objects

If the productArity is 0 we cannot change instance so
return the existing class. A common case where the arity
is 0 are case objects. If they go through the product
case it causes duplicate instances of the objects to get
created leading to strange failures in other places."
brharrington,2015-10-26 17:06:28,https://api.github.com/repos/Netflix/atlas/git/commits/a706012a974fdcfe168a4bf50afee56138590f38,a706012a974fdcfe168a4bf50afee56138590f38,"Merge pull request #243 from brharrington/issue-235

fix #235 monitor dead letters via event stream"
brharrington,2015-10-26 16:52:29,https://api.github.com/repos/Netflix/atlas/git/commits/831671033c0523b293081602b1bd46b9afe3c2a0,831671033c0523b293081602b1bd46b9afe3c2a0,fix #235 monitor dead letters via event stream
brharrington,2015-10-24 21:50:51,https://api.github.com/repos/Netflix/atlas/git/commits/3ed920dc9a8565ef8077b6a014e3538be8b2283d,3ed920dc9a8565ef8077b6a014e3538be8b2283d,"Merge pull request #241 from brharrington/unused-imports

cleanup unused imports"
brharrington,2015-10-24 21:40:45,https://api.github.com/repos/Netflix/atlas/git/commits/8785dde50df94509c7983cd4fcd88096f858455f,8785dde50df94509c7983cd4fcd88096f858455f,cleanup unused imports
brharrington,2015-10-24 21:10:38,https://api.github.com/repos/Netflix/atlas/git/commits/8b5804d1c48e33bc569ebb7f6751727d0eba6989,8b5804d1c48e33bc569ebb7f6751727d0eba6989,"Merge pull request #240 from brharrington/actorsystem-terminate

fix deprecation warnings for ActorSystem.shutdown"
brharrington,2015-10-24 21:01:55,https://api.github.com/repos/Netflix/atlas/git/commits/3664ce89174deab46c58eaa60a640a6ee1e96f6c,3664ce89174deab46c58eaa60a640a6ee1e96f6c,fix deprecation warnings for ActorSystem.shutdown
brharrington,2015-10-24 20:35:23,https://api.github.com/repos/Netflix/atlas/git/commits/475929fb93e45b83c4fb49bff056dce60b37bde4,475929fb93e45b83c4fb49bff056dce60b37bde4,"Merge pull request #239 from brharrington/akka-2.4

update akka, aws, iep, and log4j dependencies"
brharrington,2015-10-24 20:25:06,https://api.github.com/repos/Netflix/atlas/git/commits/7f6589c99e39d1fa2803edaafd5319c28a56e35f,7f6589c99e39d1fa2803edaafd5319c28a56e35f,"update akka, aws, iep, and log4j dependencies"
brharrington,2015-10-19 19:18:12,https://api.github.com/repos/Netflix/atlas/git/commits/0b8c2a01d5979ae6e98d737be390a63dce570356,0b8c2a01d5979ae6e98d737be390a63dce570356,"Merge pull request #238 from brharrington/s3-gzip

add comment for gzip flag with S3 client"
brharrington,2015-10-19 19:10:14,https://api.github.com/repos/Netflix/atlas/git/commits/04a6a9100e3bd73b25f59737acd74dd51ec47377,04a6a9100e3bd73b25f59737acd74dd51ec47377,"Merge pull request #237 from brharrington/des-scope

limit scope of des state"
brharrington,2015-10-19 19:09:41,https://api.github.com/repos/Netflix/atlas/git/commits/56b9253d297033e1144bafab8d87d9d8af0eb31f,56b9253d297033e1144bafab8d87d9d8af0eb31f,"Merge pull request #236 from brharrington/zip-with-index

simplify helper method in test case"
brharrington,2015-10-19 19:06:45,https://api.github.com/repos/Netflix/atlas/git/commits/d5de69d5351a04ffb3d5751a4d013acffce9ae01,d5de69d5351a04ffb3d5751a4d013acffce9ae01,add comment for gzip flag with S3 client
brharrington,2015-10-19 17:23:23,https://api.github.com/repos/Netflix/atlas/git/commits/2a22ab9b2d32f59aff316c3f57b7c58516211765,2a22ab9b2d32f59aff316c3f57b7c58516211765,"limit scope of des state

If an expression is used across multiple threads, then
the state for the OnlineDes operation would get corrupted.
This change limits the scope to the method."
brharrington,2015-10-19 17:16:21,https://api.github.com/repos/Netflix/atlas/git/commits/262a10660c2ca6e15a354c0ce53e0f63881a33c4,262a10660c2ca6e15a354c0ce53e0f63881a33c4,simplify helper method in test case
brharrington,2015-09-30 13:40:23,https://api.github.com/repos/Netflix/atlas/git/commits/82502fef0103565c7af56ae71be19188b2b65626,82502fef0103565c7af56ae71be19188b2b65626,"Merge pull request #234 from brharrington/dependency-refresh

regular dependency update"
brharrington,2015-09-30 13:30:32,https://api.github.com/repos/Netflix/atlas/git/commits/87b0bd13028d20c38e4b573fbcd6046c3a944d1f,87b0bd13028d20c38e4b573fbcd6046c3a944d1f,regular dependency update
brharrington,2015-09-24 13:13:33,https://api.github.com/repos/Netflix/atlas/git/commits/745ce5c4484f62f720697374da182850674badd8,745ce5c4484f62f720697374da182850674badd8,"Merge pull request #233 from brharrington/group-by-empty

filter before grouping with eval helper"
brharrington,2015-09-24 13:02:17,https://api.github.com/repos/Netflix/atlas/git/commits/fd3ab0de8863b613a40eb16ff9dd2ff7e21710f0,fd3ab0de8863b613a40eb16ff9dd2ff7e21710f0,"filter before grouping with eval helper

Avoids getting entries with NaN values for data
that doesn't match the query. In most cases this
wouldn't be an issue since the data was pre-filtered
based on the query before evaluation. This change
makes it more convenient when doing an eval with
an arbitrary data set."
brharrington,2015-09-19 04:01:46,https://api.github.com/repos/Netflix/atlas/git/commits/b72f161680b4e137542d0f9a9538c3c3627e1b4d,b72f161680b4e137542d0f9a9538c3c3627e1b4d,"Merge pull request #232 from brharrington/stack-doc-override

easier hook to customize reference docs"
brharrington,2015-09-19 03:37:21,https://api.github.com/repos/Netflix/atlas/git/commits/0e7328d45ee5c2631f4a40ccd0d6c8d0f225e0cb,0e7328d45ee5c2631f4a40ccd0d6c8d0f225e0cb,easier hook to customize reference docs
brharrington,2015-09-18 15:56:15,https://api.github.com/repos/Netflix/atlas/git/commits/5f6e96c690763a317a7b993a2690e56d81f816a7,5f6e96c690763a317a7b993a2690e56d81f816a7,"Merge pull request #231 from brharrington/reindex-alloc

reduce allocations for reindexing"
brharrington,2015-09-18 15:41:26,https://api.github.com/repos/Netflix/atlas/git/commits/90a71dffa28b965160e2d601b071c1259e267342,90a71dffa28b965160e2d601b071c1259e267342,"reduce allocations for reindexing

A large number of allocations were for creating a
string representation of the id. The original reason
was to allow specifying the offset as a simple prefix
of the id hash. In practice we don't rely on that
and all uses seem to be of the full id. By doing the
lookup using the `BigInteger` and not creating the
string copies we significantly reduce the allocation
rate.

For a simple test application the average allocation
rate for a 5m sample window went from 29 MB/s to
20 MB/s."
brharrington,2015-09-18 15:02:21,https://api.github.com/repos/Netflix/atlas/git/commits/8ace58a2f2c70f11afa6ab14f836eb5c97708c6d,8ace58a2f2c70f11afa6ab14f836eb5c97708c6d,"Merge pull request #230 from brharrington/akka-2.3.14

akka-2.3.14"
brharrington,2015-09-18 14:49:38,https://api.github.com/repos/Netflix/atlas/git/commits/c342c1ba8f3d1d3ad6b7a7915be74fd8178be99d,c342c1ba8f3d1d3ad6b7a7915be74fd8178be99d,akka-2.3.14
brharrington,2015-09-18 14:39:41,https://api.github.com/repos/Netflix/atlas/git/commits/ac6a28fedbc65bb77a568a55c5d69d774833261e,ac6a28fedbc65bb77a568a55c5d69d774833261e,"Merge pull request #229 from brharrington/procedure

fix procedure syntax is deprecated warnings"
brharrington,2015-09-18 13:16:26,https://api.github.com/repos/Netflix/atlas/git/commits/8414fc0df85caa3bb3b1b86543ffdf083b75c012,8414fc0df85caa3bb3b1b86543ffdf083b75c012,fix procedure syntax is deprecated warnings
brharrington,2015-09-18 04:02:28,https://api.github.com/repos/Netflix/atlas/git/commits/d23effd93a9790e951230d56e51b6fdbe4285586,d23effd93a9790e951230d56e51b6fdbe4285586,"Merge pull request #228 from brharrington/doc-updates

minor updates to docs"
brharrington,2015-09-18 03:53:35,https://api.github.com/repos/Netflix/atlas/git/commits/886ac922a63278b37a0c3e01ce137269370ea49f,886ac922a63278b37a0c3e01ce137269370ea49f,"Merge pull request #227 from brharrington/dep-refresh

update aws, spectator, and equals verifier"
brharrington,2015-09-18 03:48:37,https://api.github.com/repos/Netflix/atlas/git/commits/c5f5ff19d722f21f84705538694cb951a84352de,c5f5ff19d722f21f84705538694cb951a84352de,minor updates to docs
brharrington,2015-09-18 03:24:02,https://api.github.com/repos/Netflix/atlas/git/commits/3f077774dae8f27c1825a1d93b2278f4e30ccf6d,3f077774dae8f27c1825a1d93b2278f4e30ccf6d,"update aws, spectator, and equals verifier"
brharrington,2015-09-18 03:20:43,https://api.github.com/repos/Netflix/atlas/git/commits/79be8e1cf89ff5531b7e42da00f719a08085a596,79be8e1cf89ff5531b7e42da00f719a08085a596,"Merge pull request #226 from brharrington/server-stats

fix update of server stats"
brharrington,2015-09-18 03:05:20,https://api.github.com/repos/Netflix/atlas/git/commits/d563a948d17b5227ff588f118f870a66551c7627,d563a948d17b5227ff588f118f870a66551c7627,"fix update of server stats

Issue #152 introduced a bug where the `Http.GetStats`
message would go to the wrong actor. This change
moves the stat updates to a separate actor and updates
a promise so we can still fail right away if the bind
is not successful."
brharrington,2015-09-17 05:08:11,https://api.github.com/repos/Netflix/atlas/git/commits/1938746be8624b70f46ad4efe53a68d25609d146,1938746be8624b70f46ad4efe53a68d25609d146,"Merge pull request #225 from brharrington/cq-non-expr

update cq to ignore values that are not understood"
brharrington,2015-09-17 04:45:06,https://api.github.com/repos/Netflix/atlas/git/commits/2f32987764dd9f0e50767cfab176990cbabbcfdf,2f32987764dd9f0e50767cfab176990cbabbcfdf,"update cq to ignore values that are not understood

When using a constant on the stack it will get automatically
converted to a TimeSeriesExpr when the graph is rendered. So
if I have something like:

```
name,sps,:eq,:sum,$name,:legend,42
```

It will work for graph rendering. However, if using `:cq` to
append a query restriction with `:each`, e.g.:

```
name,sps,:eq,:sum,$name,:legend,42,:list,(,app,foo,:eq,:cq,),:each
```

It will fail because 42 is not an Expr. Having `:cq` coerce
to an expression is not desirable because it would change
the type and could break existing queries that apply
additional operations.

With this change `:cq` will ignore values it doesn't understand
and leave them on the stack unmodified."
brharrington,2015-09-17 04:34:46,https://api.github.com/repos/Netflix/atlas/git/commits/967facdc32107edafe56685c079752ed7af00665,967facdc32107edafe56685c079752ed7af00665,"Merge pull request #224 from brharrington/iae-binary-op

use no data line for aggregates"
brharrington,2015-09-17 04:20:51,https://api.github.com/repos/Netflix/atlas/git/commits/2cce377b06a54ecd54b8bd280121cc2babadc00a,2cce377b06a54ecd54b8bd280121cc2babadc00a,"use no data line for aggregates

For simple aggregates where nothing matches the query.
This ensures that binary operations that combine results
will work as expected when one side of the expression
does not have data for a given window."
brharrington,2015-09-17 03:42:19,https://api.github.com/repos/Netflix/atlas/git/commits/a341dde99053eb19cad1e42e2cf8333360ca401b,a341dde99053eb19cad1e42e2cf8333360ca401b,"Merge pull request #223 from brharrington/fix-error-image-ref

fix actor ref used for error image response"
brharrington,2015-09-17 03:35:13,https://api.github.com/repos/Netflix/atlas/git/commits/12d26543895ac36435788e185e3176d2ebe1210b,12d26543895ac36435788e185e3176d2ebe1210b,add test case for error image responses
brharrington,2015-09-17 02:56:20,https://api.github.com/repos/Netflix/atlas/git/commits/ee3349207545e947ff98b2c65288888c685f57b4,ee3349207545e947ff98b2c65288888c685f57b4,fix actor ref used for error image response
brharrington,2015-09-09 16:38:18,https://api.github.com/repos/Netflix/atlas/git/commits/fa5706e4016fd79574d657ba5b02ee27f96dc914,fa5706e4016fd79574d657ba5b02ee27f96dc914,"Merge pull request #222 from brharrington/sliding-des

experimental sliding des operation"
brharrington,2015-09-09 16:29:25,https://api.github.com/repos/Netflix/atlas/git/commits/9082182c23930b564c314209041257e730b3b3db,9082182c23930b564c314209041257e730b3b3db,"experimental sliding des operation

This is still experimental and being added in so we
can test the impact.

One of the common complaints with DES is that to get
the same value for a given time you must start feeding
in data at exactly the same time. So for normal graphs
where it is computed using the window of the chart it
will have slightly different predictions for a given
time. As it is often used for alerting this makes it
cumbersome to try and determine:

1. Why an alarm fired
2. When alarms would have fired for tuning

For these use-cases a model that is deterministic within
a small window would be useful. Sliding DES uses two DES
functions and alternates between them. One will get trained
while the other is getting used, and then the one that was
getting used will get reset and the roles swapped. If the
windows are aligned based on the training size this
provides a simple way to make a DES based prediction
that is deterministic for arbitrary windows.

```
 F1 | A |-- T1 --|-- P1 --|-- T1 --|-- P1 --|-- T1 --|
 F2 | A |        |-- T2 --|-- P2 --|-- T2 --|-- P2 --|

Result:

 R  |-- NaN -----|-- P1 --|-- P2 --|-- P1 --|-- P2 --|

```

Both functions will ignore any data until it reaches a
boundary, even multiple, of the training window. That is
shown as `A` in the diagram above. The first function will
then start training, and after the training window the first
predicted values will get generated.

One side-effect of this approach is that there can be abrupt
transitions when switching from one function to another.
Overall it is not expected to hurt the general usage, but
is visually less appealing. Also, for actual predictions it
seems to help in some cases because the transition can
cause the impact of sharp changes to correct more quickly.

For now, we are adding in a separate `:sliding-des` operator
that can be used for testing with real data. Depending on the
outcome we may change the existing `:des` function to be
`:sliding-des`."
brharrington,2015-08-31 21:35:46,https://api.github.com/repos/Netflix/atlas/git/commits/3aca219c407d8302264a7b937b9c48fcf7bec306,3aca219c407d8302264a7b937b9c48fcf7bec306,"Merge pull request #221 from brharrington/sbt-0.13.9

use sbt-0.13.9"
brharrington,2015-08-31 21:24:47,https://api.github.com/repos/Netflix/atlas/git/commits/05219f0973a44eedd77e745757c9b6abf568624b,05219f0973a44eedd77e745757c9b6abf568624b,use sbt-0.13.9
brharrington,2015-08-31 21:16:32,https://api.github.com/repos/Netflix/atlas/git/commits/dad8746a1140c4c101643073002fbc9b4092a038,dad8746a1140c4c101643073002fbc9b4092a038,"Merge pull request #220 from brharrington/all-zero-labels

fix bug causing duplicate labels for small ranges"
brharrington,2015-08-31 21:04:34,https://api.github.com/repos/Netflix/atlas/git/commits/3088961948a1738525b086528e894daaa82d97ca,3088961948a1738525b086528e894daaa82d97ca,"fix bug causing duplicate labels for small ranges

For ranges where the maximum value on the axis was larger than the
cutoff, but the major tick amount was too small duplicate tick
labels would be shown."
brharrington,2015-08-29 17:53:44,https://api.github.com/repos/Netflix/atlas/git/commits/e7f19723eb3c804e3e73a0f1329f84bc3be6d78a,e7f19723eb3c804e3e73a0f1329f84bc3be6d78a,"Merge pull request #219 from brharrington/deprecation

update to spectator-0.30.0, cleanup deprecation warnings"
brharrington,2015-08-29 17:39:00,https://api.github.com/repos/Netflix/atlas/git/commits/9076d9d253e67ce7b1d531047d8eb3f956f8fcec,9076d9d253e67ce7b1d531047d8eb3f956f8fcec,remove println from tests
brharrington,2015-08-29 17:19:00,https://api.github.com/repos/Netflix/atlas/git/commits/6115c28a3b8aa5e0a19d98c84c53a9a96729c099,6115c28a3b8aa5e0a19d98c84c53a9a96729c099,"cleanup use of Spectator.registry

Will reduce use of global registry in later PRs."
brharrington,2015-08-28 21:20:03,https://api.github.com/repos/Netflix/atlas/git/commits/24dff587c2b0f1fa936e24bc6e01014a38f070a2,24dff587c2b0f1fa936e24bc6e01014a38f070a2,switch from reader to readerFor on ObjectMapper
brharrington,2015-08-28 21:14:03,https://api.github.com/repos/Netflix/atlas/git/commits/b1b61b683f9a649b17953c3fb5df0931413926f4,b1b61b683f9a649b17953c3fb5df0931413926f4,update to spectator-0.30.0
brharrington,2015-08-27 17:59:51,https://api.github.com/repos/Netflix/atlas/git/commits/a7732ce308d36bb170da90111f61449fe9ea51b5,a7732ce308d36bb170da90111f61449fe9ea51b5,"Merge pull request #218 from brharrington/docs-time-params

add more docs around time parameters"
brharrington,2015-08-27 16:56:16,https://api.github.com/repos/Netflix/atlas/git/commits/4436dffd6619e385290b16d842f2add605b227ed,4436dffd6619e385290b16d842f2add605b227ed,"add more docs around time parameters

Provides a more detailed overview of the options allowed
on time parameters. Also adds a simple reference page on
the time zones mainly to provide a clear reference showing
how the the short display name used for the label on multi
timezone graphs correspond to ids. There doesn't seem to
be a widely agreed on format for the short names. Still
need to find the source the jdk uses."
brharrington,2015-08-24 17:46:28,https://api.github.com/repos/Netflix/atlas/git/commits/c7c8498f7915b9570d08e23592a6ca7d021bd3e4,c7c8498f7915b9570d08e23592a6ca7d021bd3e4,"Merge pull request #217 from brharrington/streaming-tags

aggregate tagging shouldn't change with data set"
brharrington,2015-08-24 17:38:00,https://api.github.com/repos/Netflix/atlas/git/commits/092d1b6b98c8f304787e8f836d92f16fa1a76d1d,092d1b6b98c8f304787e8f836d92f16fa1a76d1d,"Merge remote-tracking branch 'nflx/master' into streaming-tags

Conflicts:
	atlas-core/src/main/scala/com/netflix/atlas/core/model/DataExpr.scala
	atlas-core/src/test/scala/com/netflix/atlas/core/model/TimeSeriesExprSuite.scala"
brharrington,2015-08-24 12:56:27,https://api.github.com/repos/Netflix/atlas/git/commits/873645f6688a63d84ed51bc701bf10fcb5c168da,873645f6688a63d84ed51bc701bf10fcb5c168da,"aggregate tagging shouldn't change with data set

In use-cases like streaming execution where the set of data
can change from one interval to the next, the final set of
tags used for aggregate values should stay the same. In order
to guarantee this the tag keys are chosen to be the union of
the keys that have exact matches as part of the query expression
or are listed in the group by clause. Others could change if
the data changes and are left out."
brharrington,2015-08-24 14:18:57,https://api.github.com/repos/Netflix/atlas/git/commits/0b812771948906881bd242b37f0ff6e64e1dab2b,0b812771948906881bd242b37f0ff6e64e1dab2b,"Merge pull request #215 from brharrington/jackson-2.6.1

jackson-2.6.1"
brharrington,2015-08-24 14:18:45,https://api.github.com/repos/Netflix/atlas/git/commits/fb6d32df7671953345ad9f19a1bad80409dbcbee,fb6d32df7671953345ad9f19a1bad80409dbcbee,"Merge pull request #216 from brharrington/count-empty

make :count consistent if no data matches"
brharrington,2015-08-24 13:02:41,https://api.github.com/repos/Netflix/atlas/git/commits/07f62be7a907d63d494404f4220fe1800213de8c,07f62be7a907d63d494404f4220fe1800213de8c,"make :count consistent if no data matches

The other aggregate functions all return a no data line
if no data matches the query. Count was inconsistent and
would throw an exception:

```
must have 1 or more time series to perform aggregation
```"
brharrington,2015-08-24 12:32:43,https://api.github.com/repos/Netflix/atlas/git/commits/e0df023bbb374eff4a3adf89ec7d3b369fe452cc,e0df023bbb374eff4a3adf89ec7d3b369fe452cc,jackson-2.6.1
brharrington,2015-08-07 23:18:46,https://api.github.com/repos/Netflix/atlas/git/commits/d8c4e2503b835074e2575c5b4b93139f0fe9a36e,d8c4e2503b835074e2575c5b4b93139f0fe9a36e,ensure tags available for version selection
brharrington,2015-08-07 23:01:18,https://api.github.com/repos/Netflix/atlas/git/commits/06bf84dc4f3f0bd1e67f60c011ead1cc4d6588a9,06bf84dc4f3f0bd1e67f60c011ead1cc4d6588a9,update version selection logic
brharrington,2015-08-07 21:41:06,https://api.github.com/repos/Netflix/atlas/git/commits/cbfe51a539b808235eb2a5ac870ec695a67ef0a1,cbfe51a539b808235eb2a5ac870ec695a67ef0a1,"Merge pull request #211 from brharrington/travis

use travis for snapshot and release builds"
brharrington,2015-08-07 21:29:28,https://api.github.com/repos/Netflix/atlas/git/commits/9990a875559370bf785c21412f6fe34cdde24b72,9990a875559370bf785c21412f6fe34cdde24b72,remove pgp import
brharrington,2015-08-07 21:20:49,https://api.github.com/repos/Netflix/atlas/git/commits/aaca273a0ca920869ca72778db538b39088084fc,aaca273a0ca920869ca72778db538b39088084fc,use travis for snapshot and release builds
brharrington,2015-08-07 19:03:37,https://api.github.com/repos/Netflix/atlas/git/commits/93a6f25ddfdefbfcf68c23e6d9a6eb682e70b2fb,93a6f25ddfdefbfcf68c23e6d9a6eb682e70b2fb,"Merge pull request #210 from rspieldenner/traviskeys

Travis keys for publishing"
rspieldenner,2015-08-07 18:01:04,https://api.github.com/repos/Netflix/atlas/git/commits/8a8a6ad5b15b0613f5fd2c7ae9efa602d209dcc9,8a8a6ad5b15b0613f5fd2c7ae9efa602d209dcc9,Travis keys for publishing
brharrington,2015-08-03 16:20:42,https://api.github.com/repos/Netflix/atlas/git/commits/adf1f0087763313b8e80c946f0bbd81a53778148,adf1f0087763313b8e80c946f0bbd81a53778148,"Merge pull request #209 from brharrington/duration-match

fix invalid period exception for duration match"
brharrington,2015-08-03 16:11:41,https://api.github.com/repos/Netflix/atlas/git/commits/728893ee017a3e108139528ac8b27570a6a224c0,728893ee017a3e108139528ac8b27570a6a224c0,remove println
brharrington,2015-08-03 15:56:20,https://api.github.com/repos/Netflix/atlas/git/commits/8ea9474d914f3c69f5fc1d7da0bd822f947a9732,8ea9474d914f3c69f5fc1d7da0bd822f947a9732,"fix invalid period exception for duration match

If the string was an invalid duration the `DurationType` matcher
was throwing:

```
java.lang.IllegalArgumentException: invalid period sps
	at com.netflix.atlas.core.util.Strings$.parseDuration(Strings.scala:397)
	at com.netflix.atlas.core.model.ModelExtractors$DurationType$.unapply(ModelExtractors.scala:29)
```"
brharrington,2015-07-31 14:08:35,https://api.github.com/repos/Netflix/atlas/git/commits/0935afbe7ea238fdf79787f498367162c8946f3b,0935afbe7ea238fdf79787f498367162c8946f3b,"Merge pull request #208 from brharrington/nf-job

add nf.job and nf.task keys"
brharrington,2015-07-31 13:42:08,https://api.github.com/repos/Netflix/atlas/git/commits/d439b745dfdf272bfc321bad0955054e5029737d,d439b745dfdf272bfc321bad0955054e5029737d,"add nf.job and nf.task keys

There is increasing interest in have a more common tagging
scheme for hadoop, spark, mantis, etc. All of these have
a notion of a job which gets broken down into a set of tasks."
brharrington,2015-07-27 21:40:30,https://api.github.com/repos/Netflix/atlas/git/commits/c84fa547e4586170b5b9bdf43a344a2b3543a715,c84fa547e4586170b5b9bdf43a344a2b3543a715,"Merge pull request #207 from brharrington/y-axis-offset

make offset axis easier to understand"
brharrington,2015-07-27 21:27:12,https://api.github.com/repos/Netflix/atlas/git/commits/4a5152db63a916bf870681105292b3a98a078d18,4a5152db63a916bf870681105292b3a98a078d18,"make offset axis easier to understand

For cases where an offset was needed due to the number
of significant digits, users found the info added to the
y-axis label confusing and it was often overlooked. This
change shows the base offset as the first major tick
with an extended tick line. The other major tick labels
will have a ""+"" prefix to make it clear they should be
added to the offset rather than treated as the exact
value."
brharrington,2015-07-25 20:42:02,https://api.github.com/repos/Netflix/atlas/git/commits/cbbb4596f7718aaf6b6ddf2d746688a1efdf15a5,cbbb4596f7718aaf6b6ddf2d746688a1efdf15a5,"Merge pull request #206 from brharrington/y-offset

reduce use of y-offset"
brharrington,2015-07-25 20:27:52,https://api.github.com/repos/Netflix/atlas/git/commits/cad8851ea5630db24d39cdf2f9b72c94f731043f,cad8851ea5630db24d39cdf2f9b72c94f731043f,"reduce use of y-offset

The tick labels for the Y-axis were using an offset in
several cases where it isn't strictly necessary. This change
will adjust the format so that the decimal place can move
to allow the maximum range of values for a given SI prefix.

This change will also force the same prefix to get used for
all major tick labels on the axis with aligned decimal points
so it is easier to visually scan the labels."
brharrington,2015-07-21 16:25:06,https://api.github.com/repos/Netflix/atlas/git/commits/7ac5e439a8038eb42c836bc1344a0b7eaa2dffa0,7ac5e439a8038eb42c836bc1344a0b7eaa2dffa0,"Merge pull request #205 from brharrington/truncate-legend

truncate rather than suppress legend"
brharrington,2015-07-21 16:13:16,https://api.github.com/repos/Netflix/atlas/git/commits/0096adcd7ab5d0d91f905f15c70e8cabddfd37cd,0096adcd7ab5d0d91f905f15c70e8cabddfd37cd,"truncate rather than suppress legend

For graphs with too many lines the previous behavior is to
suppress the legend. This change will truncate the legend
instead. If multi-Y is used, a partial legend for each axis
will be shown so too many lines on a single axis will not
hide details from all axes."
brharrington,2015-07-17 04:44:14,https://api.github.com/repos/Netflix/atlas/git/commits/ef81a0c10b9208a3ce089e0812f04691ecb2720b,ef81a0c10b9208a3ce089e0812f04691ecb2720b,"Merge pull request #204 from brharrington/travis-scala-version

update scala version in travis file"
brharrington,2015-07-17 04:41:29,https://api.github.com/repos/Netflix/atlas/git/commits/99e2b5f28b90fd36442144c57df541624feb0113,99e2b5f28b90fd36442144c57df541624feb0113,"Merge pull request #203 from brharrington/img-size

support for exact image size"
brharrington,2015-07-17 04:35:40,https://api.github.com/repos/Netflix/atlas/git/commits/bd40c252ed6e6692eccd8495624d683879b4bb45,bd40c252ed6e6692eccd8495624d683879b4bb45,update scala version in travis file
brharrington,2015-07-17 04:34:19,https://api.github.com/repos/Netflix/atlas/git/commits/6941fb68cdbcc3847321a80565dc80294ef8141b,6941fb68cdbcc3847321a80565dc80294ef8141b,"Merge remote-tracking branch 'nflx/master' into img-size

Conflicts:
	atlas-chart/src/main/scala/com/netflix/atlas/chart/model/GraphDef.scala
	atlas-webapi/src/test/resources/others.md"
brharrington,2015-07-17 04:26:04,https://api.github.com/repos/Netflix/atlas/git/commits/f77ac51b23902e961695b7a26b6090800c04aadd,f77ac51b23902e961695b7a26b6090800c04aadd,"support for exact image size

Add support for specifying the exact image size. The height
and width parameters currently specify the dimensions for the
canvas with the actual lines. The image size is then calculated
based on how much room is needed for the title, legend, axes,
etc. This layout makes it easy to get consistent canvas sizes
that will line up on a dashboard if the images are positioned
to the top left.

In some cases, it is desirable to specify the exact image
size, but we want to maintain the ability to get consistent
canvas sizes as much as possible. This change introduces
layouts to permit a fixed size image that will adjust how the
image is rendered based on the size, similar to a responsive
layout used for small screens. Further, the mode can be
toggled for the width and height independently.

**Chart Layout**

The time series chart has a basic layout that looks like:

```
---------------------------------------------------
|                      Title                      |
|       --------------------------                |
|       |       Canvas           |        |       |
| 0L 02 |                        | 12 1L  | 22 2L |
|       |                        |        |       |
|    01 |                        | 11     | 21    |
|       --------------------------                |
|       T1      T2     T3      T4                 |
|                                                 |
|  Legend                                         |
|                                                 |
|  Status                                         |
|                                                 |
|  Warnings                                       |
---------------------------------------------------
```

For both width and height two layout modes are supported:

* `canvas`: the width or height are for the canvas component
   within the chart. This is the default and is the same as the
   previous behavior.
* `image`: the width or height are for the final image not
   including the zoom parameter.

**Image Width**

When specified as an image width the width of the canvas will
grow or shrink as long as it stays above the minimum canvas
width. If it drops below the minimum canvas width, then the
Y-axes will get removed to keep the data visible.

Text such as the title and legends will get suppressed unless
there is room for at least 40 characters to be shown. If warnings
are suppressed a color indicator will still be shown along the
bottom of the image.

**Image Height**

Height behaves similar to width in that the canvas will grow or
shrink as needed. However, the legend in particular is tricky
because it depends on the number of lines that need to be shown
on the chart. For now everything below the time axes will get
removed if the image height mode is used. This will be revisted
in the future if needed.

**URL Parameters**

This change adds a URL paramter `layout` for the graph API that
accepts the following values:

* `canvas`: use canvas sizing for width and height. This is the
  default.
* `image`: use exact image sizing for width and height.
* `iw`: use exact image sizing for the width and canvas sizing
  for the height.
* `ih`: use exact image sizing for the height and canvas sizing
  for the width.

** Limits **

Limits on the image size for height and width will still be in
effect, but will be applied based on the layout. So the max width
for canvas sizing will be the width of the canvas and it will
be the max width of the image if using image sizing."
brharrington,2015-07-15 16:12:37,https://api.github.com/repos/Netflix/atlas/git/commits/5e497aaa215b66aff29031e74a372ab24d496a30,5e497aaa215b66aff29031e74a372ab24d496a30,"Merge pull request #202 from brharrington/anonymize

add option to suppress tick labels"
brharrington,2015-07-15 15:58:30,https://api.github.com/repos/Netflix/atlas/git/commits/2f49e89475c0e31580c0e83d566eef1e1a073932,2f49e89475c0e31580c0e83d566eef1e1a073932,"add option to suppress tick labels

In some cases it is convenient to remove labels so an image
can be used in slides or added to a support ticket without
precise numbers that may be sensitive. Tick labels are on
by default and can be turned off using the `no_tick_labels`
axis flag. Naming was chosen to stay consistent with existing
flags like `no_legend_stats`."
brharrington,2015-07-14 17:52:11,https://api.github.com/repos/Netflix/atlas/git/commits/edf0d045fa31f37f91c4c2ebce788dd5b5bf4aac,edf0d045fa31f37f91c4c2ebce788dd5b5bf4aac,"Merge pull request #201 from brharrington/update-deps

update dependencies"
brharrington,2015-07-14 17:29:26,https://api.github.com/repos/Netflix/atlas/git/commits/68c843a3d995b6bba2b863f4b0aeb6a65c2fceb6,68c843a3d995b6bba2b863f4b0aeb6a65c2fceb6,"update dependencies

Regular refresh of akka, aws, and spectator."
brharrington,2015-07-14 16:57:58,https://api.github.com/repos/Netflix/atlas/git/commits/d6f31609676af51ffc2ab4a87cd8176f09a6e4ec,d6f31609676af51ffc2ab4a87cd8176f09a6e4ec,"Merge pull request #200 from brharrington/fix-wiki

update docs"
brharrington,2015-07-14 16:44:39,https://api.github.com/repos/Netflix/atlas/git/commits/a372f4d4c31aad2ab67ae6d8cbad07fdaa1521c4,a372f4d4c31aad2ab67ae6d8cbad07fdaa1521c4,"update docs

Something in the last month broke the generation of the
wiki with strange errors coming from the ScriptEngine. I
don't want to debug it so this simplifies the generation
to stop using the ScriptEngine. Including a line starting
with `/api/v1/graph` still works to embed a graph image.
Any more complex uses will now be done by creating a simple
class."
brharrington,2015-07-13 19:06:59,https://api.github.com/repos/Netflix/atlas/git/commits/0cb223379800216fc4ff4a5bfeb3fb786c9a5f40,0cb223379800216fc4ff4a5bfeb3fb786c9a5f40,"Merge pull request #199 from brharrington/value-axis-bugs

fix duplicate tick labels"
brharrington,2015-07-13 18:01:15,https://api.github.com/repos/Netflix/atlas/git/commits/1efd3f13eb8403dd66b15ca19fe2fe1e009a4474,1efd3f13eb8403dd66b15ca19fe2fe1e009a4474,"fix duplicate tick labels

For some value ranges the value associated with the tick
labels would get rounded for the presentation string causing
duplicate labels."
brharrington,2015-07-11 21:01:44,https://api.github.com/repos/Netflix/atlas/git/commits/5fc559e7774fb684113561ebecc752f3ec28cf8a,5fc559e7774fb684113561ebecc752f3ec28cf8a,"Merge pull request #198 from brharrington/multi-time-axis

allow multiple time zones to be shown on the chart"
brharrington,2015-07-11 20:54:15,https://api.github.com/repos/Netflix/atlas/git/commits/9887183d72f52a458fdb7430adaeffef3a3f77f2,9887183d72f52a458fdb7430adaeffef3a3f77f2,fix alignment
brharrington,2015-07-11 20:46:48,https://api.github.com/repos/Netflix/atlas/git/commits/34f2ab43b9f0d49eef90f0d8c27b16d85c7430a8,34f2ab43b9f0d49eef90f0d8c27b16d85c7430a8,"allow multiple time zones to be shown on the chart

There are a number of cases where multiple time zones are
in use and it would be helpful to show both on the chart
to make conversions easier. In particular, most of the logging
internally is in UTC, yet most of the UI and developer tools
default to US/Pacific.

Multple time zones can be specified as part of the URL by
adding additional `tz` parameters, e.g.:

```
/api/v1/graph?q=...&tz=UTC&tz=US/Pacific&tz=US/Eastern
```

The first time zone in the url query will be the primary
zone used for formats that do not support multiple and for
other labels on the chart."
brharrington,2015-07-11 20:43:19,https://api.github.com/repos/Netflix/atlas/git/commits/55da46798fd8d9ea7189d05b6b1c6e5e82a3e3b3,55da46798fd8d9ea7189d05b6b1c6e5e82a3e3b3,"Merge pull request #197 from brharrington/alpha-override

allow alpha to modify explicit color"
brharrington,2015-07-11 15:02:42,https://api.github.com/repos/Netflix/atlas/git/commits/db0e3fe657382e865283d6f9ad6b931f2ac6fdb5,db0e3fe657382e865283d6f9ad6b931f2ac6fdb5,"allow alpha to modify explicit color

Before `:alpha` would only modify the alpha setting for
colors selected from the palette. If an explicit color
was used the alpha setting from the color would always
get chosen. Now an alpha setting that comes after a color
in the expression will override the alpha setting for
that color."
brharrington,2015-07-09 16:00:30,https://api.github.com/repos/Netflix/atlas/git/commits/024809e3dbee54dc125fe03b01c4852b2eb9f6e5,024809e3dbee54dc125fe03b01c4852b2eb9f6e5,"Merge pull request #196 from brharrington/line-z-order

Z-order of stacked lines should match expression"
brharrington,2015-07-09 15:49:07,https://api.github.com/repos/Netflix/atlas/git/commits/51d34da6940d3a119ca054efa9ab84e889a40b96,51d34da6940d3a119ca054efa9ab84e889a40b96,"Z-order of stacked lines should match expression

Stacked lines were getting drawn after all area and simple
lines and thus would always get drawn over them. If a line
in the user expression is after the stacked element it should
be drawn over the stacked line."
brharrington,2015-07-07 20:58:27,https://api.github.com/repos/Netflix/atlas/git/commits/377eaed8d615d684b21cc7102eda59c0a58815f0,377eaed8d615d684b21cc7102eda59c0a58815f0,"Merge pull request #195 from brharrington/img-size-constraints

fix image size constraints"
brharrington,2015-07-07 20:49:56,https://api.github.com/repos/Netflix/atlas/git/commits/52ac28dffa8ef8052be331efaf77bedaaf8c376c,52ac28dffa8ef8052be331efaf77bedaaf8c376c,add restriction on maximum allowed zoom
brharrington,2015-07-07 20:32:56,https://api.github.com/repos/Netflix/atlas/git/commits/c6bdf3ab088ead2048cfc70fef6a2e7cf4a794d0,c6bdf3ab088ead2048cfc70fef6a2e7cf4a794d0,"fix image size constraints

Warning was getting shown, but it wasn't restricting the size.
Verified sizes on test images, before:

```
$ cd atlas-chart/src/test/resources/graphengine/DefaultGraphEngineSuite
$ file default_excessive_*
default_excessive_height.png: PNG image data, 486 x 2214, 8-bit/color RGBA, non-interlaced
default_excessive_width.png:  PNG image data, 2134 x 366, 8-bit/color RGBA, non-interlaced
```

Test output:

```
$ cd atlas-chart/target/DefaultGraphEngineSuite/
$ file default_excessive_*
default_excessive_height.png: PNG image data, 486 x 1166, 8-bit/color RGBA, non-interlaced
default_excessive_width.png:  PNG image data, 2086 x 366, 8-bit/color RGBA, non-interlaced
```"
brharrington,2015-07-07 01:44:41,https://api.github.com/repos/Netflix/atlas/git/commits/e3eb8ca0ed8fe85806ec0e018f23902979f2864f,e3eb8ca0ed8fe85806ec0e018f23902979f2864f,"Merge pull request #194 from brharrington/empty-title

treat empty title and ylabel params as not set"
brharrington,2015-07-07 00:48:47,https://api.github.com/repos/Netflix/atlas/git/commits/e16df9c2666160909c88f87af730f52ed6da2f3e,e16df9c2666160909c88f87af730f52ed6da2f3e,"treat empty title and ylabel params as not set

If the URI contains title or ylabel values that are set
to an empty string it is currently returning an error during
rendering:

```
IllegalArgumentException: Can't add attribute to 0-length text.
```

With this change an empty string for those values will be
the same as not having them set."
brharrington,2015-07-06 19:26:51,https://api.github.com/repos/Netflix/atlas/git/commits/3682b01fded5147073e491df81e0725788b1fcbe,3682b01fded5147073e491df81e0725788b1fcbe,"Merge pull request #193 from brharrington/rm-no-border

remove deprecated no_border param"
brharrington,2015-07-06 16:00:27,https://api.github.com/repos/Netflix/atlas/git/commits/8883c775a48e3b1c26c7e99f9c051fffa361609f,8883c775a48e3b1c26c7e99f9c051fffa361609f,remove deprecated no_border param
brharrington,2015-07-01 23:17:30,https://api.github.com/repos/Netflix/atlas/git/commits/9e0ef9efce4e8ae08fb0a50d4497ed6b022adace,9e0ef9efce4e8ae08fb0a50d4497ed6b022adace,"Merge pull request #192 from brharrington/warning

fix warning about possible interpolation error"
brharrington,2015-07-01 23:16:05,https://api.github.com/repos/Netflix/atlas/git/commits/b49ee2d20fc95c51abed0031fb34e36aec678843,b49ee2d20fc95c51abed0031fb34e36aec678843,"Merge pull request #191 from brharrington/rm-legacy-graph-engine

remove legacy graph engine"
brharrington,2015-07-01 23:05:08,https://api.github.com/repos/Netflix/atlas/git/commits/c7ca9a4d0c696f71e14265476379e943a0e69d0c,c7ca9a4d0c696f71e14265476379e943a0e69d0c,"fix warning about possible interpolation error

```
[warn] ./atlas-core/src/main/scala/com/netflix/atlas/core/model/StyleVocabulary.scala:115: possible missing interpolator: detected interpolated identifier `$name`
[warn]     override def examples: List[String] = List(""name,sps,:eq,:sum,(,name,),:by,$name"")
[warn]                                                ^
[warn] one warning found
```"
brharrington,2015-07-01 23:00:20,https://api.github.com/repos/Netflix/atlas/git/commits/80f0165f61c7412dd81656db00eae40e21cb1fd8,80f0165f61c7412dd81656db00eae40e21cb1fd8,remove legacy graph engine
brharrington,2015-06-29 23:45:39,https://api.github.com/repos/Netflix/atlas/git/commits/991d6c438f8ed957b3b7e47b12883a80bb60a1bf,991d6c438f8ed957b3b7e47b12883a80bb60a1bf,"Merge pull request #190 from brharrington/adjust-color

add some of the color settings to config"
brharrington,2015-06-29 23:09:52,https://api.github.com/repos/Netflix/atlas/git/commits/0ce3e8139ff6a715e7c1240c044c41bc92cfec3d,0ce3e8139ff6a715e7c1240c044c41bc92cfec3d,add some of the color settings to config
brharrington,2015-06-29 16:34:49,https://api.github.com/repos/Netflix/atlas/git/commits/f16e23ef889fefdc5aeb936d047d750f78384b16,f16e23ef889fefdc5aeb936d047d750f78384b16,"Merge pull request #188 from brharrington/color-alpha-legend

draw legend color over white background"
brharrington,2015-06-29 16:29:08,https://api.github.com/repos/Netflix/atlas/git/commits/6917e5bad5f3ae83417242682ff7a7d1ac2d0224,6917e5bad5f3ae83417242682ff7a7d1ac2d0224,"Merge pull request #189 from brharrington/vision-type

fix vision type flag on graph api"
brharrington,2015-06-29 16:22:42,https://api.github.com/repos/Netflix/atlas/git/commits/a42254177a8803acf064f29dd6bee80bc6903bbc,a42254177a8803acf064f29dd6bee80bc6903bbc,"Merge remote-tracking branch 'nflx/master' into color-alpha-legend

Conflicts:
	atlas-chart/src/test/resources/graphengine/DefaultGraphEngineSuite/default_vspans_from_line.png
	atlas-webapi/src/test/resources/GraphApiSuite/17b64686.png
	atlas-webapi/src/test/resources/GraphApiSuite/2f7edefd.png
	atlas-webapi/src/test/resources/GraphApiSuite/80439e09.png
	atlas-webapi/src/test/resources/GraphApiSuite/8272b349.png
	atlas-webapi/src/test/resources/GraphApiSuite/9585eb8f.png
	atlas-webapi/src/test/resources/GraphApiSuite/a3f9afc6.png"
brharrington,2015-06-29 16:15:52,https://api.github.com/repos/Netflix/atlas/git/commits/3e32157bec8ee6bdee5e47704b79bdb16af784d6,3e32157bec8ee6bdee5e47704b79bdb16af784d6,Merge remote-tracking branch 'nflx/master' into vision-type
brharrington,2015-06-29 16:14:09,https://api.github.com/repos/Netflix/atlas/git/commits/b4b66bc73cdb6adcb5f3a86f8408a431f61a2f32,b4b66bc73cdb6adcb5f3a86f8408a431f61a2f32,"fix vision type flag on graph api

Test case added to ensure it gets passed through
correctly in the future."
brharrington,2015-06-29 16:01:04,https://api.github.com/repos/Netflix/atlas/git/commits/88da3faaeb96aaaf3c384977db2cc5d954b3527c,88da3faaeb96aaaf3c384977db2cc5d954b3527c,"Merge pull request #185 from brharrington/align-bottom

align constant line to bottom rather than center"
brharrington,2015-06-29 16:00:42,https://api.github.com/repos/Netflix/atlas/git/commits/b0736541051fe49e064eac42b83258d275613567,b0736541051fe49e064eac42b83258d275613567,"Merge pull request #187 from brharrington/dependency-updates

update aws, jackson, iep, spectator, and jmh"
brharrington,2015-06-29 15:57:55,https://api.github.com/repos/Netflix/atlas/git/commits/f9b39eb55d405733f722abdf3264212db56de34c,f9b39eb55d405733f722abdf3264212db56de34c,"draw legend color over white background

For colors with alpha settings the background will change
the end color used for the fill. This change puts a white
background for the area to match that of the chart to
minimize variations between what is in the legend next to
the label and the color used in the chart."
brharrington,2015-06-29 15:44:16,https://api.github.com/repos/Netflix/atlas/git/commits/1f90e6e650410846a088c7658284ea0570022314,1f90e6e650410846a088c7658284ea0570022314,fix test case for auto lower bound of constant
brharrington,2015-06-29 15:38:11,https://api.github.com/repos/Netflix/atlas/git/commits/a304f73f25e80a10fa4e7ce11e4b39dd7ea9894b,a304f73f25e80a10fa4e7ce11e4b39dd7ea9894b,"update aws, jackson, iep, spectator, and jmh"
brharrington,2015-06-29 15:35:35,https://api.github.com/repos/Netflix/atlas/git/commits/765c89822d0b675f636185cc5a152df3ec7043f4,765c89822d0b675f636185cc5a152df3ec7043f4,"Merge pull request #186 from brharrington/scala-2.11.7

scala 2.11.7"
brharrington,2015-06-29 15:26:01,https://api.github.com/repos/Netflix/atlas/git/commits/5d7c23f14c229eb00fad624d372a6c8664b67b8d,5d7c23f14c229eb00fad624d372a6c8664b67b8d,scala 2.11.7
brharrington,2015-06-29 15:17:03,https://api.github.com/repos/Netflix/atlas/git/commits/2d4dec5bada631f22283bd364058ad810fef2cad,2d4dec5bada631f22283bd364058ad810fef2cad,"align constant line to bottom rather than center

For lines with a constant value and no other data the min value
will equal the max. The previous behavior was to pad the min and
max by 1 and center the line. In most cases this has been an all
zero line and users preferred tohave the line aligned to the min
value on the axis as the default.

Also fixes minor issue with some grid lines and ticks getting
drawn past the max X value of the chart."
brharrington,2015-06-17 20:27:18,https://api.github.com/repos/Netflix/atlas/git/commits/36104ef6f66e8df8bc242bc197ffc2e82a08f687,36104ef6f66e8df8bc242bc197ffc2e82a08f687,"Merge pull request #184 from brharrington/font-settings

setting to control the fonts used"
brharrington,2015-06-17 20:17:05,https://api.github.com/repos/Netflix/atlas/git/commits/aa213bbe89142e990b3f54bd2f5341dccdcaa4be,aa213bbe89142e990b3f54bd2f5341dccdcaa4be,"setting to control the fonts used

Will likely get refactored out of constants at some
point in the future, but for now making it configurable
at startup."
brharrington,2015-06-17 17:24:14,https://api.github.com/repos/Netflix/atlas/git/commits/8f52cd03b553109694db629a1cf92dc65300e12f,8f52cd03b553109694db629a1cf92dc65300e12f,"Merge pull request #183 from brharrington/rendering-hints

allow renderning hints to be setup in config"
brharrington,2015-06-17 17:15:22,https://api.github.com/repos/Netflix/atlas/git/commits/ca651eb26793e5e220909ddc98f8d9c9fd58e40d,ca651eb26793e5e220909ddc98f8d9c9fd58e40d,"allow renderning hints to be setup in config

Adds a block in the chart config to allow for rendering hints
such as antialiasing to be specified."
brharrington,2015-06-17 15:30:17,https://api.github.com/repos/Netflix/atlas/git/commits/ee9dc6055c15371479cc9b643b67d630f91efb8b,ee9dc6055c15371479cc9b643b67d630f91efb8b,"Merge pull request #182 from brharrington/graph-ticks

adjustments to tick mark selection"
brharrington,2015-06-17 15:13:58,https://api.github.com/repos/Netflix/atlas/git/commits/0ceb7d89f2d9b77e885b3e75b0f0fbb096a56ece,0ceb7d89f2d9b77e885b3e75b0f0fbb096a56ece,"adjustments to tick mark selection

Simplify a bit so that the utility function will generate
both minor and major ticks at the same time. Fixes the minor
tick marks to be at more relevant sub-intervals. For the
time axis the zone is now taken into account for placement
of the major labels."
brharrington,2015-06-16 23:40:07,https://api.github.com/repos/Netflix/atlas/git/commits/4f292f624c3908a0602f3e0cb78c387225b28957,4f292f624c3908a0602f3e0cb78c387225b28957,"Merge pull request #181 from brharrington/stack-0

show line along axis for 0 with style STACK"
brharrington,2015-06-16 23:30:29,https://api.github.com/repos/Netflix/atlas/git/commits/b195846a9c1a48b6266b75b58c1670dad5b414e9,b195846a9c1a48b6266b75b58c1670dad5b414e9,"show line along axis for 0 with style STACK

To avoid confusion between no data and explicit 0, a 0
value along the axis will now show as a single pixel line."
brharrington,2015-06-16 23:01:26,https://api.github.com/repos/Netflix/atlas/git/commits/b9601bbb7083dd85d728e48680793506bd83e4bd,b9601bbb7083dd85d728e48680793506bd83e4bd,"Merge pull request #180 from brharrington/minor-time-axis-ticks

improve placement of minor grid lines on time axis"
brharrington,2015-06-16 22:51:45,https://api.github.com/repos/Netflix/atlas/git/commits/bc7c78e28a6d57fe0322e80f0349df7ea1d10775,bc7c78e28a6d57fe0322e80f0349df7ea1d10775,"improve placement of minor grid lines on time axis

It was using a constant 6 cells which didn't always evenly
divide the space between major ticks. Changed to use the
same function used to generate major ticks with a larger
number."
brharrington,2015-06-16 22:25:34,https://api.github.com/repos/Netflix/atlas/git/commits/6302cea606f38677b3886c325b13ee02906c2545,6302cea606f38677b3886c325b13ee02906c2545,"Merge pull request #179 from brharrington/update-float-op-docs

update docs for f* operators"
brharrington,2015-06-16 22:15:58,https://api.github.com/repos/Netflix/atlas/git/commits/5d64c13b8558e50f0b41a8232ca4ae8e1758500d,5d64c13b8558e50f0b41a8232ca4ae8e1758500d,"update docs for f* operators

There were some questions about what the `f` meant.
Updated the docs to better describe the behavior and
make it clear they provide floating point behavior
where some of the others special case some operations
to be more appropriate for visualization."
brharrington,2015-06-16 21:53:46,https://api.github.com/repos/Netflix/atlas/git/commits/af1967b64b2499dbb4747ed18a414fea7a6f376e,af1967b64b2499dbb4747ed18a414fea7a6f376e,"Merge pull request #178 from brharrington/lower-bound

fix some corner cases with bounds selection"
brharrington,2015-06-16 21:41:57,https://api.github.com/repos/Netflix/atlas/git/commits/0114623535034ac9444d5b5a7fb0ae5427f4ec5b,0114623535034ac9444d5b5a7fb0ae5427f4ec5b,additional test cases for bounds selection
brharrington,2015-06-16 20:47:23,https://api.github.com/repos/Netflix/atlas/git/commits/d2ce9540d3ed48ddaa94a13fe1e7b75bd00c045e,d2ce9540d3ed48ddaa94a13fe1e7b75bd00c045e,"fix some corner cases with bounds selection

Primary issue that was noticed is that the lower bound would
get ignored for constant lines."
brharrington,2015-06-16 16:58:00,https://api.github.com/repos/Netflix/atlas/git/commits/11677ca9b6eab4eedea7cfbe43ae571c3237545a,11677ca9b6eab4eedea7cfbe43ae571c3237545a,"Merge pull request #177 from brharrington/zero-showing-negative

bad rendering for last datapoint if NaN at the end"
brharrington,2015-06-16 16:43:29,https://api.github.com/repos/Netflix/atlas/git/commits/9524db4411bde59aded196f94af99092ae91dddb,9524db4411bde59aded196f94af99092ae91dddb,"fixes #177

Don't draw the vertical edge if the next value is
NaN."
brharrington,2015-06-16 16:20:14,https://api.github.com/repos/Netflix/atlas/git/commits/c4b6638962d59578d690759349b46d575b6b52db,c4b6638962d59578d690759349b46d575b6b52db,"bad rendering for last datapoint if NaN at the end

Adds a test case showing issue with updated rendering. There is
a NaN value at the end causing it to draw the line to the axis.
This makes it appear as if there is a negative value."
brharrington,2015-06-16 15:57:18,https://api.github.com/repos/Netflix/atlas/git/commits/13bd2c6279f7c13c104ce56e4f98afdf2ca14319,13bd2c6279f7c13c104ce56e4f98afdf2ca14319,"Merge pull request #176 from brharrington/reduce-allocations

reduce allocations for group by and substitutions"
brharrington,2015-06-16 15:37:37,https://api.github.com/repos/Netflix/atlas/git/commits/a224c4029cac81f1ab234d5739fc6d035119cc60,a224c4029cac81f1ab234d5739fc6d035119cc60,"reduce allocations for group by and substitutions

Tuning to reduce the number of allocations for batch
operations with many large group by. Main source was
the buffer resizes generating the key and additional
copies getting created to trim for the default label.

Also replaces the regex used for variable substition
since it was the second biggest contributor."
brharrington,2015-06-06 06:11:47,https://api.github.com/repos/Netflix/atlas/git/commits/7be1834188b63c02bc4f4b094b742b7959a35144,7be1834188b63c02bc4f4b094b742b7959a35144,"Merge pull request #174 from brharrington/integral-nan

use addNaN for integral"
brharrington,2015-06-06 06:04:24,https://api.github.com/repos/Netflix/atlas/git/commits/ca7fc92775db1a68e743cf93ccf29cfc22c4dfe9,ca7fc92775db1a68e743cf93ccf29cfc22c4dfe9,"Merge pull request #173 from brharrington/color-overrides-alpha

respect alpha value from :color"
brharrington,2015-06-06 06:04:01,https://api.github.com/repos/Netflix/atlas/git/commits/0f3fb15eaa738ce4dfad5b15b7e0742a974af065,0f3fb15eaa738ce4dfad5b15b7e0742a974af065,"Merge pull request #172 from brharrington/guava-18

guava 18"
brharrington,2015-06-06 06:00:01,https://api.github.com/repos/Netflix/atlas/git/commits/2e7d6bfb1052a219e05d8f223b3096f7f7ac0d95,2e7d6bfb1052a219e05d8f223b3096f7f7ac0d95,"use addNaN for integral

For lines that started reporting in the middle of a
chart the integral would report NaN all the way through.
The NaN values will now get treated as 0 if an actual
value is encountered."
brharrington,2015-06-06 03:00:00,https://api.github.com/repos/Netflix/atlas/git/commits/7e543fce628178edddcd10e30110a50121f08ae6,7e543fce628178edddcd10e30110a50121f08ae6,bless image diffs for :color overriding :alpha
brharrington,2015-06-06 02:54:17,https://api.github.com/repos/Netflix/atlas/git/commits/0e1da8b97474832f2cddde07dd1bc8ceeef4264f,0e1da8b97474832f2cddde07dd1bc8ceeef4264f,"respect alpha value from :color

If `:alpha` and `:color` are used on the same line, then
the alpha value from the ARGB passed to `:color` should
take precedence over the value passed to `:alpha`. The
`:alpha` value will only get used to modify the transparency
of colors automatically chosen from the color palette."
brharrington,2015-06-06 02:20:21,https://api.github.com/repos/Netflix/atlas/git/commits/44fcd563a44c95d854cf83e5ce2ae447ee582dc3,44fcd563a44c95d854cf83e5ce2ae447ee582dc3,"guava 18

Update guava version to make sure we won't have issues when
platform updates in the comming week."
brharrington,2015-06-03 21:05:11,https://api.github.com/repos/Netflix/atlas/git/commits/09adf8c3ec6ee19cb89daf7ed5e90d856aa6bdd5,09adf8c3ec6ee19cb89daf7ed5e90d856aa6bdd5,"Merge pull request #170 from brharrington/time-axis-color

make time axis line more faint"
brharrington,2015-06-03 20:50:32,https://api.github.com/repos/Netflix/atlas/git/commits/006a9ca363534d96f05ae7e271c70383a8e5e010,006a9ca363534d96f05ae7e271c70383a8e5e010,"make time axis line more faint

Addresses some feedback that lines along the axis
are hard to see."
brharrington,2015-05-30 05:10:29,https://api.github.com/repos/Netflix/atlas/git/commits/e55eb262ca49057f8410977bade2da946dbb897b,e55eb262ca49057f8410977bade2da946dbb897b,"Merge pull request #169 from brharrington/iep-0.1.22

iep 0.1.22"
brharrington,2015-05-30 04:44:50,https://api.github.com/repos/Netflix/atlas/git/commits/ce7115a3b7d4779264fcbc0b936a2aee3540c0b5,ce7115a3b7d4779264fcbc0b936a2aee3540c0b5,"iep 0.1.22

Bump dependency versions, mainly to get updated iep with
name change for guice helper."
brharrington,2015-05-30 04:40:33,https://api.github.com/repos/Netflix/atlas/git/commits/6a790dbe3537e8a6adc068bcee8a1bc309d18dff,6a790dbe3537e8a6adc068bcee8a1bc309d18dff,"Merge pull request #168 from brharrington/docs-max

fix INSIGHT-2840, update docs for max"
brharrington,2015-05-30 04:29:21,https://api.github.com/repos/Netflix/atlas/git/commits/79cbe21df828acb0edf4c44fb3508ea87d05eed8,79cbe21df828acb0edf4c44fb3508ea87d05eed8,"Merge pull request #167 from brharrington/cleanup

cleanup some unused methods"
brharrington,2015-05-30 04:27:52,https://api.github.com/repos/Netflix/atlas/git/commits/2c50f25280baceed976939104ac34a3488955e35,2c50f25280baceed976939104ac34a3488955e35,"fix INSIGHT-2840, update docs for max"
brharrington,2015-05-30 04:14:21,https://api.github.com/repos/Netflix/atlas/git/commits/84a6b26228709a875c55ab328f6776a901d7fb27,84a6b26228709a875c55ab328f6776a901d7fb27,cleanup some unused methods
brharrington,2015-05-29 20:56:25,https://api.github.com/repos/Netflix/atlas/git/commits/bc3bcfc161dd9878fcc7bd09d68acc264dad0c0f,bc3bcfc161dd9878fcc7bd09d68acc264dad0c0f,"Merge pull request #166 from brharrington/validate-final-stack

validate the final set of items on the stack"
brharrington,2015-05-29 20:47:05,https://api.github.com/repos/Netflix/atlas/git/commits/e475d884b6cbe6c71596f370bc75a293e1b9e886,e475d884b6cbe6c71596f370bc75a293e1b9e886,validate the final set of items on the stack
brharrington,2015-05-29 06:23:27,https://api.github.com/repos/Netflix/atlas/git/commits/41b11f828e4483a199aa3e7994120bc4201a73bc,41b11f828e4483a199aa3e7994120bc4201a73bc,"Merge pull request #165 from brharrington/image-tweaks

adjustments to image rendering based on feedback"
brharrington,2015-05-29 06:15:24,https://api.github.com/repos/Netflix/atlas/git/commits/a82ccc948fdfedb1d66dd3209ae673c62cb8b41c,a82ccc948fdfedb1d66dd3209ae673c62cb8b41c,make end time behavior more consistent
brharrington,2015-05-29 04:20:49,https://api.github.com/repos/Netflix/atlas/git/commits/e605cfaf01263e704e2b188ef4a10b689a232072,e605cfaf01263e704e2b188ef4a10b689a232072,NaN values should not get rendered as zero
brharrington,2015-05-29 03:37:38,https://api.github.com/repos/Netflix/atlas/git/commits/36f42a2bcbc9873058290fdac0d179c1c0a007e5,36f42a2bcbc9873058290fdac0d179c1c0a007e5,honor explicit bounds for area
brharrington,2015-05-29 03:12:41,https://api.github.com/repos/Netflix/atlas/git/commits/a8a3a3c710db056880b21f586315442936f190c5,a8a3a3c710db056880b21f586315442936f190c5,add test case for explicit lower bound with area
brharrington,2015-05-29 02:53:59,https://api.github.com/repos/Netflix/atlas/git/commits/7e327af217ac8b47dac62b66caa9a438036c286a,7e327af217ac8b47dac62b66caa9a438036c286a,lighter major grid lines
brharrington,2015-05-29 02:40:19,https://api.github.com/repos/Netflix/atlas/git/commits/41ee21621c8fa9f13bb4082dd5a6475a94e630d7,41ee21621c8fa9f13bb4082dd5a6475a94e630d7,"don't draw grid lines right next to axis

If the grid line is right next to the axis it becomes harder
to see the data, for example a line that has a value of 0."
brharrington,2015-05-29 00:52:22,https://api.github.com/repos/Netflix/atlas/git/commits/c7f2a6f5b9363f102aaaed9fd776c5ebeecc1b10,c7f2a6f5b9363f102aaaed9fd776c5ebeecc1b10,"Merge pull request #164 from brharrington/chart-status-line

don't show status on chart with legend off"
brharrington,2015-05-29 00:03:23,https://api.github.com/repos/Netflix/atlas/git/commits/d8685761214d78973d39cd328e77260707e071d4,d8685761214d78973d39cd328e77260707e071d4,"don't show status on chart with legend off

There was a ticket to add this, but general feedback
with the change has been it is annoying. We may refactor
legend options to be more flexible in the future, but for
now the status info will only be shown if the legend
is showing."
brharrington,2015-05-28 20:38:40,https://api.github.com/repos/Netflix/atlas/git/commits/f4b5654f0ebea506230b2cdbbd0a5721a495151a,f4b5654f0ebea506230b2cdbbd0a5721a495151a,"Merge pull request #163 from brharrington/dedup-endpoints

dedup the list of endpoints"
brharrington,2015-05-28 20:27:20,https://api.github.com/repos/Netflix/atlas/git/commits/2b4bd20445305df6ce4ed08d31f336d9c09c5b37,2b4bd20445305df6ce4ed08d31f336d9c09c5b37,cleanup unused import
brharrington,2015-05-28 20:26:03,https://api.github.com/repos/Netflix/atlas/git/commits/3ce88e5584b1f0411d64aebc3c19c630ae5bfe7b,3ce88e5584b1f0411d64aebc3c19c630ae5bfe7b,dedup the list of endpoints
brharrington,2015-05-28 16:05:11,https://api.github.com/repos/Netflix/atlas/git/commits/5c852171086b990a07875164ae67786cf274c9fd,5c852171086b990a07875164ae67786cf274c9fd,"Merge pull request #162 from brharrington/validate

api to debug/validate expressions"
brharrington,2015-05-28 15:54:04,https://api.github.com/repos/Netflix/atlas/git/commits/c6f91429110ee50cbc27b683e86dcff8eb0a54e9,c6f91429110ee50cbc27b683e86dcff8eb0a54e9,"api to debug/validate expressions

Moving in from internal extensions. For now the
values just get mapped to strings to avoid the
legacy codec classes."
brharrington,2015-05-23 03:11:53,https://api.github.com/repos/Netflix/atlas/git/commits/b56055ba83e2503f04af9a6282deb99dc5293461,b56055ba83e2503f04af9a6282deb99dc5293461,"Merge pull request #161 from brharrington/zoom

add zoom param for scaling the image"
brharrington,2015-05-23 02:59:37,https://api.github.com/repos/Netflix/atlas/git/commits/d3996f6f08842b141def78ac02bc0009d12eb7c2,d3996f6f08842b141def78ac02bc0009d12eb7c2,"add zoom param for scaling the image

Primary use-case is to use a 2x zoom for retina
displays."
brharrington,2015-05-22 06:19:31,https://api.github.com/repos/Netflix/atlas/git/commits/ab5cb293fff18d9f99c876393499643a8405f477,ab5cb293fff18d9f99c876393499643a8405f477,"Merge pull request #160 from brharrington/issue-119

fix rendering issues"
brharrington,2015-05-22 05:51:42,https://api.github.com/repos/Netflix/atlas/git/commits/7103feb360dad2ac0ce7cdab783b98a98949f2c5,7103feb360dad2ac0ce7cdab783b98a98949f2c5,"fix rendering issues

1. Issue #119, no labels shown if the range of values is small
   compared to the base value. For cases where the number of
   significant digits is too big to fit within the reserved
   area for the tick labels the offset will be included as part
   of the ylabel. Will revisit based on feedback.
2. Allow summary status line when legend is disabled.
3. Stack graphs with negative values are now completely below
   the 0. Previously if there was a negative value with a
   positive value on top, it would be hard to see the overall
   positive and negative contribution.
4. Area and stack should show filled region by default. Previously
   auto-ranging could clip off the area if 0 was not within the range.
5. VSpan was sometimes one interval off from lines leading to confusing
   triggered highlighting on alert visualizations.
6. Notices were hard to see using the side watermark. They have
   now been moved into the warnings block at the bottom and background
   color changed to make it stand out. The bottom notices can now be
   shown if legends are turned off which was the original reason for
   using the watermark.
7. On stacked charts don't draw the sides. This created problems where
   a line that was all 0 stacked on top of another line would be hard
   to interpret. A short duration spike in the bottom line would often
   appear as being a spike in the 0 line stacked on top.

To enable these changes we now fully control the rendering. This should
also give us the flexibility to close out the remaining open issues
for image rendering:

* Add zoom option to allow for retina displays.
* Add options for controlling the exact image dimensions instead of
  just the chart area.
* Provide a summarized legend with many lines instead of just suppressing
  the legend entirely.
* Support option to suppress the labels on the y-axis. The primary
  use case is to make it easier to hide sensitive data on the chart.
  For many cases the sensitive part is just the absolute numbers
  not the overall pattern.
* Heat map rendering."
brharrington,2015-05-14 22:14:16,https://api.github.com/repos/Netflix/atlas/git/commits/958e3fbb6110a2312f17383dc56a019484afa0b6,958e3fbb6110a2312f17383dc56a019484afa0b6,"Merge pull request #159 from brharrington/fix-offset-label

missing offset on default label"
brharrington,2015-05-14 20:22:40,https://api.github.com/repos/Netflix/atlas/git/commits/831464cb293a13053b4f60f3096adccdc3af5b88,831464cb293a13053b4f60f3096adccdc3af5b88,"missing offset on default label

Fixes a regression introduced in the previous
commit. The offset if non-zero should be included
in the default label.

Conflicts:
	atlas-core/src/main/scala/com/netflix/atlas/core/model/DataExpr.scala
	atlas-core/src/test/scala/com/netflix/atlas/core/db/MemoryDatabaseSuite.scala"
brharrington,2015-05-11 21:12:07,https://api.github.com/repos/Netflix/atlas/git/commits/92723a98bb3f4f123b51ed8fba87c1038c0f191c,92723a98bb3f4f123b51ed8fba87c1038c0f191c,"Merge pull request #156 from brharrington/bind-timeout

allow bind timeout to be configured"
brharrington,2015-05-11 20:07:26,https://api.github.com/repos/Netflix/atlas/git/commits/e5df66c0f3dc221183688346f0f1e73a0783c4a9,e5df66c0f3dc221183688346f0f1e73a0783c4a9,"allow bind timeout to be configured

In some cases during app startup we'll see a GC pause
or other behavior during warmup that can cause the
1s value specified before to cause problems."
brharrington,2015-05-11 16:36:42,https://api.github.com/repos/Netflix/atlas/git/commits/ee001a068234094fe4c909d8b82e363715bc79aa,ee001a068234094fe4c909d8b82e363715bc79aa,"Merge pull request #155 from brharrington/rm-step-lt

require query step is >= db step"
brharrington,2015-05-11 16:15:07,https://api.github.com/repos/Netflix/atlas/git/commits/c7b51dff6328b6cb5c110a7a4cb4d7c98e99775d,c7b51dff6328b6cb5c110a7a4cb4d7c98e99775d,"require query step is >= db step

In the past this wasn't always true, but we will now
handle this in the query aggregation layer.

This change also adds some additional test-cases to
boost confidence for refactoring/merging a few more
internal components.

The tag generated labels don't wind up being empty
very often in practice, but it does happen. For
aggregates this change also defaults to just using
an expression summary on the labels. Bigger win will
be if we can finally stop aggregating tag maps. Looks
like that still breaks a few uses, but may be able
to clean up in one of the upcoming deprecation cycles."
brharrington,2015-05-09 20:14:17,https://api.github.com/repos/Netflix/atlas/git/commits/33a9e7e94c1775c684eb9860c48a0bcabc656f2f,33a9e7e94c1775c684eb9860c48a0bcabc656f2f,"Merge pull request #154 from brharrington/publish-wiki-2fa

fix #107, use ssh for publish-wiki"
brharrington,2015-05-09 20:06:12,https://api.github.com/repos/Netflix/atlas/git/commits/a1b586ddbabc3ed599a9340d788f6e55a0915821,a1b586ddbabc3ed599a9340d788f6e55a0915821,"fix #107, use ssh for publish-wiki

Use ssh for publish-wiki task to make it easier with
2FA enabled."
brharrington,2015-05-09 19:56:35,https://api.github.com/repos/Netflix/atlas/git/commits/65c57a7f97d164fdf66dab1d630254cbba738371,65c57a7f97d164fdf66dab1d630254cbba738371,"Merge pull request #153 from brharrington/publish-wiki-jmh

fix publish-wiki task when using latest plugins"
brharrington,2015-05-09 19:40:15,https://api.github.com/repos/Netflix/atlas/git/commits/2dc8e6a6a37c81c8d0c112ce1c43e191769d562b,2dc8e6a6a37c81c8d0c112ce1c43e191769d562b,"set settings.usejavacp.value = true

Not sure why, but this needs to be explicitly set
when the sbt-jmh 0.1.15 plugin is used for a different
sub-project."
brharrington,2015-05-09 19:18:49,https://api.github.com/repos/Netflix/atlas/git/commits/0f1e28de1a5b85e7a918d003e74cd567f2d4d1f6,0f1e28de1a5b85e7a918d003e74cd567f2d4d1f6,"use absolute paths

Something is causing sbt to use different working directories
with sbt-jmh 0.1.15. Changing the makefile to call with absolute
paths so we no longer need to worry about it."
brharrington,2015-05-09 04:20:09,https://api.github.com/repos/Netflix/atlas/git/commits/e2b495ebaf196ca505ca69a682e34228b3bd7ef9,e2b495ebaf196ca505ca69a682e34228b3bd7ef9,"Merge pull request #152 from brharrington/bind-failure

ensure server shutsdown on bind failure"
brharrington,2015-05-09 04:02:54,https://api.github.com/repos/Netflix/atlas/git/commits/a6bc67f13720340a225f788fb29f605737a8b8c1,a6bc67f13720340a225f788fb29f605737a8b8c1,"ensure server shutsdown on bind failure

When there was a bind failure the process would stay
up in a bad state. This change blocks on the service
start to ensure better integration with eureka status
and exits if there is a failure with the guice
initialization. The bouncing process can then easily
be tracked with the process restart counter in the
daemontools run script.

Tested bind failure with address already in use:

```
$ /usr/bin/nc -6 -v -l ::0 7101
```"
brharrington,2015-05-08 21:25:46,https://api.github.com/repos/Netflix/atlas/git/commits/a5d4e71f2bac475d4ff5ab5738cf774ec596eea7,a5d4e71f2bac475d4ff5ab5738cf774ec596eea7,"Merge pull request #149 from brharrington/auto-step

add 20s to list of auto-selected step sizes"
brharrington,2015-05-08 21:19:09,https://api.github.com/repos/Netflix/atlas/git/commits/0fdb3c9183f10af194744a9e713ab832f69dd2d5,0fdb3c9183f10af194744a9e713ab832f69dd2d5,"Merge pull request #151 from brharrington/filter-examples-clean

update examples used for filters"
brharrington,2015-05-08 21:17:49,https://api.github.com/repos/Netflix/atlas/git/commits/e052e8b7d9c8d4042fb6e91e0ce8b7fcebd5e1ce,e052e8b7d9c8d4042fb6e91e0ce8b7fcebd5e1ce,bless the image diffs
brharrington,2015-05-08 21:03:57,https://api.github.com/repos/Netflix/atlas/git/commits/795fa7f78b13e3119805fae2d99d0fd0d17a90da,795fa7f78b13e3119805fae2d99d0fd0d17a90da,update examples used for filters
brharrington,2015-05-08 20:51:03,https://api.github.com/repos/Netflix/atlas/git/commits/eaa42f3745adf9e96c1f8feeb71877d5a9c9dd7f,eaa42f3745adf9e96c1f8feeb71877d5a9c9dd7f,add 20s to list of auto-selected step sizes
brharrington,2015-05-08 05:33:41,https://api.github.com/repos/Netflix/atlas/git/commits/952fdfdce5d3a3c49a1494b208e6af9eedfa6995,952fdfdce5d3a3c49a1494b208e6af9eedfa6995,"Merge pull request #148 from brharrington/filter-docs

sort by name for reference index"
brharrington,2015-05-08 05:25:26,https://api.github.com/repos/Netflix/atlas/git/commits/f5d08188468cb22e7714001be7ac4c62361c30ad,f5d08188468cb22e7714001be7ac4c62361c30ad,sort by name for reference index
brharrington,2015-05-05 16:48:36,https://api.github.com/repos/Netflix/atlas/git/commits/3e457ad43c2088ae8efec6bc1da470d1fca678d8,3e457ad43c2088ae8efec6bc1da470d1fca678d8,"Merge pull request #147 from brharrington/wiki-expr-links

fix links for expressions in wiki"
brharrington,2015-05-05 16:20:15,https://api.github.com/repos/Netflix/atlas/git/commits/eab186d5f4c6db6f356537f16215b4ef47df6b97,eab186d5f4c6db6f356537f16215b4ef47df6b97,"fix links for expressions in wiki

Updates the word links for graph expressions to point
to the actual page. See [examples](https://github.com/Netflix/atlas/wiki/Single-Line).
The make it easier to generate a link with just the name
the [reference page](https://github.com/Netflix/atlas/wiki/Stack-Language-Reference)
was updated with an alphabetical list showing the variants.

Not addressed in this PR, but updating the jmh plugin to
0.1.15 breaks the publish-wiki task in the makefile. The
first problem is the working directory changes to be the
atlas-wiki project dir. Fixing that leads to strange exception
when trying to run:

```
info] [init] error: error while loading Object, Missing dependency 'object scala in compiler mirror', required by /Library/Java/JavaVirtualMachines/jdk1.8.0_25.jdk/Contents/Home/jre/lib/rt.jar(java/lang/Object.class)
[info]
[info] Failed to initialize compiler: object scala in compiler mirror not found.
[info] ** Note that as of 2.8 scala does not assume use of the java classpath.
[info] ** For the old behavior pass -usejavacp to scala, or if using a Settings
[info] ** object programmatically, settings.usejavacp.value = true.
[error] Exception in thread ""main"" scala.reflect.internal.MissingRequirementError: object scala in compiler mirror not found.
[error] 	at scala.reflect.internal.MissingRequirementError$.signal(MissingRequirementError.scala:17)
[error] 	at scala.reflect.internal.MissingRequirementError$.notFound(MissingRequirementError.scala:18)
[error] 	at scala.reflect.internal.Mirrors$RootsBase.getModuleOrClass(Mirrors.scala:53)
[error] 	at scala.reflect.internal.Mirrors$RootsBase.getModuleOrClass(Mirrors.scala:66)
[error] 	at scala.reflect.internal.Mirrors$RootsBase.getPackage(Mirrors.scala:173)
[error] 	at scala.reflect.internal.Definitions$DefinitionsClass.ScalaPackage$lzycompute(Definitions.scala:161)
[error] 	at scala.reflect.internal.Definitions$DefinitionsClass.ScalaPackage(Definitions.scala:161)
[error] 	at scala.reflect.internal.Definitions$DefinitionsClass.ScalaPackageClass$lzycompute(Definitions.scala:162)
[error] 	at scala.reflect.internal.Definitions$DefinitionsClass.ScalaPackageClass(Definitions.scala:162)
[error] 	at scala.reflect.internal.Definitions$DefinitionsClass.init(Definitions.scala:1392)
[error] 	at scala.tools.nsc.Global$Run.<init>(Global.scala:1216)
[error] 	at scala.tools.nsc.interpreter.IMain.compileSourcesKeepingRun(IMain.scala:422)
[error] 	at scala.tools.nsc.interpreter.IMain$ReadEvalPrint.compileAndSaveRun(IMain.scala:841)
[error] 	at scala.tools.nsc.interpreter.IMain$ReadEvalPrint.compile(IMain.scala:800)
[error] 	at scala.tools.nsc.interpreter.IMain.bind(IMain.scala:664)
[error] 	at scala.tools.nsc.interpreter.IMain.bind(IMain.scala:701)
[error] 	at scala.tools.nsc.interpreter.IMain$$anon$2.put(IMain.scala:1035)
[error] 	at com.netflix.atlas.wiki.Main$.eval(Main.scala:91)
[error] 	at com.netflix.atlas.wiki.Main$.process(Main.scala:106)
[error] 	at com.netflix.atlas.wiki.Main$.com$netflix$atlas$wiki$Main$$processTemplate(Main.scala:121)
[error] 	at com.netflix.atlas.wiki.Main$$anonfun$com$netflix$atlas$wiki$Main$$copy$2.apply(Main.scala:159)
[error] 	at com.netflix.atlas.wiki.Main$$anonfun$com$netflix$atlas$wiki$Main$$copy$2.apply(Main.scala:157)
[error] 	at scala.collection.IndexedSeqOptimized$class.foreach(IndexedSeqOptimized.scala:33)
[error] 	at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:186)
[error] 	at com.netflix.atlas.wiki.Main$.com$netflix$atlas$wiki$Main$$copy(Main.scala:157)
[error] 	at com.netflix.atlas.wiki.Main$.main(Main.scala:272)
[error] 	at com.netflix.atlas.wiki.Main.main(Main.scala)
java.lang.RuntimeException: Nonzero exit code returned from runner: 1
	at scala.sys.package$.error(package.scala:27)
```"
brharrington,2015-05-04 17:03:14,https://api.github.com/repos/Netflix/atlas/git/commits/25d3abe7a5fc335f30f1addc36bed76d2dedac04,25d3abe7a5fc335f30f1addc36bed76d2dedac04,"Merge pull request #145 from brharrington/dependency-refresh

update dependencies"
brharrington,2015-05-04 17:02:50,https://api.github.com/repos/Netflix/atlas/git/commits/7c365611e52f9d4aa638d93eff17dc88ee344116,7c365611e52f9d4aa638d93eff17dc88ee344116,"Merge pull request #146 from brharrington/epic-viz

add helper for visualizing des-epic-signal"
brharrington,2015-05-04 16:45:14,https://api.github.com/repos/Netflix/atlas/git/commits/d58f7824769238aa779abf9a926c7b0f6a1457c0,d58f7824769238aa779abf9a926c7b0f6a1457c0,"add helper for visualizing des-epic-signal

* adds visualization helper
* update DES wiki page to discuss the epic helpers
* change signal helper to allow the upper/lower bound
  to be disabled by specifying the percentage as NaN"
brharrington,2015-05-04 15:28:14,https://api.github.com/repos/Netflix/atlas/git/commits/26c69c9e279bc3cccd16acb8458c122865482e78,26c69c9e279bc3cccd16acb8458c122865482e78,update dependencies
brharrington,2015-05-01 21:22:01,https://api.github.com/repos/Netflix/atlas/git/commits/6682c9d358b89b792cf765fef76f35d51e559bb2,6682c9d358b89b792cf765fef76f35d51e559bb2,"Merge pull request #144 from brharrington/version

update version"
brharrington,2015-05-01 17:18:24,https://api.github.com/repos/Netflix/atlas/git/commits/62d83781ce3b0084d53b4c1a16d1dadfef422389,62d83781ce3b0084d53b4c1a16d1dadfef422389,"Merge pull request #143 from brharrington/lt-gt-nan

make lt and gt more consistent with le and ge"
brharrington,2015-05-01 17:15:47,https://api.github.com/repos/Netflix/atlas/git/commits/ec844cdf0b4c688b315e1b1a4a95e4625809ef14,ec844cdf0b4c688b315e1b1a4a95e4625809ef14,update version
brharrington,2015-05-01 17:10:03,https://api.github.com/repos/Netflix/atlas/git/commits/88164f8fbd66ee282f4ef2c888e6b4a67f913acd,88164f8fbd66ee282f4ef2c888e6b4a67f913acd,"make lt and gt more consistent with le and ge

For some old legacy reasons `lt` and `gt` were NaN aware.
This is causing more confusion now and isn't really
needed anymore. Changing them to be consistent with
the `le` and `ge` operators."
brharrington,2015-04-30 12:07:17,https://api.github.com/repos/Netflix/atlas/git/commits/b2b07f1d5e532e5f22b1f1cdc01686024b88d011,b2b07f1d5e532e5f22b1f1cdc01686024b88d011,"Merge pull request #142 from kagan770/master

initializing case class Stats with parameter names for gaining better readability"
brharrington,2015-04-23 16:10:02,https://api.github.com/repos/Netflix/atlas/git/commits/b81f79d967812f4a807c9788d742be04743160c1,b81f79d967812f4a807c9788d742be04743160c1,"Merge pull request #141 from matschaffer/patch-1

Use bash for publish test"
matschaffer,2015-04-23 14:08:24,https://api.github.com/repos/Netflix/atlas/git/commits/436f059d25b8ae86e324abb870564773884435ce,436f059d25b8ae86e324abb870564773884435ce,"Use bash for publish test

At least on Ubuntu 14, /bin/sh doesn't appear to provide `$RANDOM`"
brharrington,2015-04-16 21:48:47,https://api.github.com/repos/Netflix/atlas/git/commits/27d6e4ea404644247f6a6a4032c9b85608bb0dbb,27d6e4ea404644247f6a6a4032c9b85608bb0dbb,"Merge pull request #140 from brharrington/iep-0.1.14

iep-0.1.14"
brharrington,2015-04-16 21:11:12,https://api.github.com/repos/Netflix/atlas/git/commits/a9811480faf86ee2ea91ab7a043cb1f980781df3,a9811480faf86ee2ea91ab7a043cb1f980781df3,iep-0.1.14
brharrington,2015-04-15 21:04:00,https://api.github.com/repos/Netflix/atlas/git/commits/e641d79d7859cc33868fcc6c8090ccbce85b4e2f,e641d79d7859cc33868fcc6c8090ccbce85b4e2f,"Merge pull request #139 from brharrington/jackson-module-scala-2.5.2

jackson-module-scala-2.5.2"
brharrington,2015-04-15 15:36:52,https://api.github.com/repos/Netflix/atlas/git/commits/7e2594cab19b522b506ede872ef0ec73bcf06bd4,7e2594cab19b522b506ede872ef0ec73bcf06bd4,"jackson-module-scala-2.5.2

Updating to match other jackson libs."
brharrington,2015-04-15 14:33:48,https://api.github.com/repos/Netflix/atlas/git/commits/d1a9ebe42ade0de3a7596d064cd082ff5078adc9,d1a9ebe42ade0de3a7596d064cd082ff5078adc9,initial outline for query guide
brharrington,2015-04-11 23:29:51,https://api.github.com/repos/Netflix/atlas/git/commits/005e14442613d41afec75627bb1a9e843e3cfbf2,005e14442613d41afec75627bb1a9e843e3cfbf2,"Merge pull request #138 from brharrington/head-operator

add head operator to select the first N lines"
brharrington,2015-04-11 23:20:12,https://api.github.com/repos/Netflix/atlas/git/commits/07b6209f01f7024a18eccd57a9bf00182b1a9ee6,07b6209f01f7024a18eccd57a9bf00182b1a9ee6,"Merge pull request #137 from brharrington/update-deps

update dependencies"
brharrington,2015-04-11 23:19:15,https://api.github.com/repos/Netflix/atlas/git/commits/c60ea7d1532a38256bd605c2aea2ae33fb01e0a3,c60ea7d1532a38256bd605c2aea2ae33fb01e0a3,"Merge pull request #136 from brharrington/avg-examples

update docs for timer operators"
brharrington,2015-04-07 06:17:08,https://api.github.com/repos/Netflix/atlas/git/commits/e4a90f300b388fec885d731ef1859edb6c0a3024,e4a90f300b388fec885d731ef1859edb6c0a3024,"add head operator to select the first N lines

In some cases it is useful to get a subset of the matches
for a group by.

This operator will choose the first N based on the order
of the keys. This makes the operator predictable and also
allows for processing across shards with less coordination.

For now it is a post-processing on the result of group by,
but can be further optimized in later versions."
brharrington,2015-04-11 21:15:39,https://api.github.com/repos/Netflix/atlas/git/commits/3e36646eeb866b08c3b7b0ffe56e03bd927f1227,3e36646eeb866b08c3b7b0ffe56e03bd927f1227,equalsverifier 1.7.2
brharrington,2015-04-11 21:12:14,https://api.github.com/repos/Netflix/atlas/git/commits/958ab2ad10603f8fbd23c8d3b9290bf7275e5906,958ab2ad10603f8fbd23c8d3b9290bf7275e5906,log4j 2.2 and slf4j 1.7.12
brharrington,2015-04-11 21:09:12,https://api.github.com/repos/Netflix/atlas/git/commits/9e48e8bb5d36e870163b380baf0683f604a3cd6f,9e48e8bb5d36e870163b380baf0683f604a3cd6f,aws-java-sdk 1.9.30
brharrington,2015-04-11 21:05:10,https://api.github.com/repos/Netflix/atlas/git/commits/70057e08a9c5e13702bb7b62ed86366cbfeacb3b,70057e08a9c5e13702bb7b62ed86366cbfeacb3b,spray 1.3.3
brharrington,2015-04-11 20:35:06,https://api.github.com/repos/Netflix/atlas/git/commits/c2102d8836f4fc939c0b7fc7982e4de25b894878,c2102d8836f4fc939c0b7fc7982e4de25b894878,add sample data for timers
brharrington,2015-04-10 16:38:26,https://api.github.com/repos/Netflix/atlas/git/commits/d41864e62d5eeb967275dd12ae8e5bce331aad62,d41864e62d5eeb967275dd12ae8e5bce331aad62,"cleanup sample dataset

Remove some of the unused stuff in the sample dataset
generator. Also adding utility to precompute sine values
to improve the performance a bit and updating jmh version."
brharrington,2015-04-07 17:42:42,https://api.github.com/repos/Netflix/atlas/git/commits/ca0fbc854b76fb70a470490f20fe30d07003d52e,ca0fbc854b76fb70a470490f20fe30d07003d52e,"Merge pull request #135 from brharrington/std-json

add output format for compatible json"
brharrington,2015-04-07 17:32:51,https://api.github.com/repos/Netflix/atlas/git/commits/eb97b5606e3c41d7553722d3fb4c7477050dcc20,eb97b5606e3c41d7553722d3fb4c7477050dcc20,"Merge pull request #134 from brharrington/random-desc

improve description for :random and :const"
brharrington,2015-04-07 17:28:45,https://api.github.com/repos/Netflix/atlas/git/commits/9845df42effc68e11271346c93c314c2a7bbc91a,9845df42effc68e11271346c93c314c2a7bbc91a,"add output format for compatible json

The default json output of `/api/v1/graph` will output values
`NaN`, `Infinity`, and `-Infinity` as literals which is not
standard json and can cause issues with some parsers. To avoid
breaking backwards compatibility a new output format option,
`std.json`, is provided so a user can choose to get compatible
json. The use of non-standard json features will be avoided in
future APIs."
brharrington,2015-04-07 16:54:51,https://api.github.com/repos/Netflix/atlas/git/commits/ba14b27d31d496247007217437a4f5de563c8118,ba14b27d31d496247007217437a4f5de563c8118,improve description for :random and :const
brharrington,2015-04-07 06:33:37,https://api.github.com/repos/Netflix/atlas/git/commits/fa3a2fb8efabed9af98a25e666b47cf36fe410ac,fa3a2fb8efabed9af98a25e666b47cf36fe410ac,"Merge pull request #133 from brharrington/toRequest

move toRequest to object"
brharrington,2015-04-07 06:25:04,https://api.github.com/repos/Netflix/atlas/git/commits/6ac8d235e0086577e482998a0ccf1d8230ef5ff6,6ac8d235e0086577e482998a0ccf1d8230ef5ff6,move toRequest to object
brharrington,2015-04-03 21:21:32,https://api.github.com/repos/Netflix/atlas/git/commits/3ac3dd42ed8159a8d41ac70ee21463d845927f04,3ac3dd42ed8159a8d41ac70ee21463d845927f04,"Merge pull request #132 from brharrington/fix-warning

fix warning"
brharrington,2015-04-03 20:55:45,https://api.github.com/repos/Netflix/atlas/git/commits/3951a90da90e276f3015e4a0d96b01d9adbceb03,3951a90da90e276f3015e4a0d96b01d9adbceb03,"Merge pull request #131 from brharrington/sbt-0.13.8

sbt-0.13.8"
brharrington,2015-04-03 20:53:41,https://api.github.com/repos/Netflix/atlas/git/commits/544e423443ac8b8a3b5c9c09b4f014e2cabae33a,544e423443ac8b8a3b5c9c09b4f014e2cabae33a,"fix warning

```
[warn] atlas-webapi/src/main/scala/com/netflix/atlas/webapi/LocalPublishActor.scala:71: match may not be exhaustive.
[warn] It would fail on the following input: Pass
[warn]     failures.foreach { case ValidationResult.Fail(error, _) =>
[warn]                      ^
[warn] one warning found
```"
brharrington,2015-04-03 20:48:02,https://api.github.com/repos/Netflix/atlas/git/commits/75e0ced87d05959c46f6dac214ae35d8740155d0,75e0ced87d05959c46f6dac214ae35d8740155d0,"Merge pull request #130 from brharrington/0-div-0

report 0 for 0/0 on graph"
brharrington,2015-04-03 20:47:18,https://api.github.com/repos/Netflix/atlas/git/commits/8cccb2b37be931749bf6dec90aac2a04fea24c76,8cccb2b37be931749bf6dec90aac2a04fea24c76,sbt-0.13.8
brharrington,2015-04-03 20:27:07,https://api.github.com/repos/Netflix/atlas/git/commits/6be407a1fbc3d1605d0269be1fea6e0f51a5f47e,6be407a1fbc3d1605d0269be1fea6e0f51a5f47e,"report 0 for 0/0 on graph

A common case for timers is to divide a `totalTime` stat
by the `count` stat. For intervals where there is no activity
both will have a value of 0. The previous behavior was to
treat this as NaN but we have frequently seen users confuse
that for a failure to report data since it leads to a spotty
chart with a lot of gaps. Now if both the numerator and
denominator are 0, then the value will be 0 to make it more
clear that 0 was explicitly reported and there was no activity
rather than a failure to report.

For uses that need the typical floating point behavior the
`:fdiv` operator can be used instead. It has also been fixed
os that it doesn't special case div by zero to be NaN instead
of Infinity."
brharrington,2015-04-02 16:44:55,https://api.github.com/repos/Netflix/atlas/git/commits/84c85681420cf4ac8200a797709b4309639f48a3,84c85681420cf4ac8200a797709b4309639f48a3,"Merge pull request #129 from brharrington/jackson-2.5.2

jackson 2.5.2"
brharrington,2015-04-02 16:32:14,https://api.github.com/repos/Netflix/atlas/git/commits/9e44a5b04978343f0d5656642fcebc03e2598949,9e44a5b04978343f0d5656642fcebc03e2598949,"jackson 2.5.2

Fixes an issue with non-numeric values like NaN and Infinity
that occur on buffer boundaries."
brharrington,2015-03-18 17:14:30,https://api.github.com/repos/Netflix/atlas/git/commits/02f573321d8ac36155bd705c89d3741e3dabbd3c,02f573321d8ac36155bd705c89d3741e3dabbd3c,"Merge pull request #128 from brharrington/rm-jmx-props

remove unused jmx port properties"
brharrington,2015-03-18 17:07:37,https://api.github.com/repos/Netflix/atlas/git/commits/ee1e96f312bf410c909a3a94147a8452c51bbceb,ee1e96f312bf410c909a3a94147a8452c51bbceb,"Merge pull request #127 from brharrington/publish-validation

validation rules for published data"
brharrington,2015-03-18 16:58:20,https://api.github.com/repos/Netflix/atlas/git/commits/3599cd8425a4932c3b9e4f7e39239556c88ee3ec,3599cd8425a4932c3b9e4f7e39239556c88ee3ec,remove unused jmx port properties
brharrington,2015-03-18 16:46:03,https://api.github.com/repos/Netflix/atlas/git/commits/b1ae9c5865d129727e27eb24c2501ac0b7581a71,b1ae9c5865d129727e27eb24c2501ac0b7581a71,"validation rules for published data

Merging in some of the internal validation rules we
use to sanity check the data flowing in."
brharrington,2015-03-13 22:57:32,https://api.github.com/repos/Netflix/atlas/git/commits/ee3a42513dd1df555182dc938af15ba720c3985f,ee3a42513dd1df555182dc938af15ba720c3985f,"Merge pull request #126 from brharrington/dist-as-aggr

change dist-avg and dist-stddev to work like aggr"
brharrington,2015-03-13 22:57:14,https://api.github.com/repos/Netflix/atlas/git/commits/fdca31debd2713fb0904a445ded129074369614c,fdca31debd2713fb0904a445ded129074369614c,"Merge pull request #125 from brharrington/scala-2.11.6-release

scala-2.11.6"
brharrington,2015-03-13 22:44:43,https://api.github.com/repos/Netflix/atlas/git/commits/c0376df37bf469e15074905f271d6e878cc8b759,c0376df37bf469e15074905f271d6e878cc8b759,"change dist-avg and dist-stddev to

Several users have suggested it would be easier for these
to appear just like a normal aggregate function. So they
will not work like:

```
name,foo,:eq,:dist-avg
```

Rather than:

```
:dist-avg,name,foo,:eq,:cq
```"
brharrington,2015-03-13 22:36:01,https://api.github.com/repos/Netflix/atlas/git/commits/83db5eedc2d787ee75d44bd92aae4010d8ef9df9,83db5eedc2d787ee75d44bd92aae4010d8ef9df9,scala-2.11.6
brharrington,2015-03-06 17:15:42,https://api.github.com/repos/Netflix/atlas/git/commits/4ea8de6070e3eef6ed7588ac2af589aaebf1564b,4ea8de6070e3eef6ed7588ac2af589aaebf1564b,"Merge pull request #124 from brharrington/ignore-aws-resolve

set the aws host resolve tests to ignore"
brharrington,2015-03-06 16:08:20,https://api.github.com/repos/Netflix/atlas/git/commits/00e1f1ddc364936cdcd8f55d4d35cf0519184274,00e1f1ddc364936cdcd8f55d4d35cf0519184274,"set the aws host resolve tests to ignore

These can take a while to run (~30s) and we don't update
the list all that often. They can be reenabled when the list
is changed or if it becomes a problem."
brharrington,2015-03-05 20:49:12,https://api.github.com/repos/Netflix/atlas/git/commits/6b05c838a0d7a06da974453b3f74a8100b5dc6cf,6b05c838a0d7a06da974453b3f74a8100b5dc6cf,"Merge pull request #123 from brharrington/aws-java-sdk-1.9.23

aws-java-sdk-1.9.23"
brharrington,2015-03-05 20:41:15,https://api.github.com/repos/Netflix/atlas/git/commits/c26fc7a72f4d48ea416a5bcf4a9cb53ffd2a6205,c26fc7a72f4d48ea416a5bcf4a9cb53ffd2a6205,"aws-java-sdk-1.9.23

Update version of aws-java-sdk and update the aws
reference conf to include kinesis and security token
endpoints."
brharrington,2015-03-03 00:15:42,https://api.github.com/repos/Netflix/atlas/git/commits/d3e1a448c9875facc2da8537e7dc3d34e62976fa,d3e1a448c9875facc2da8537e7dc3d34e62976fa,"Merge pull request #122 from brharrington/access-log-chunked

improve logging for chunked responses"
brharrington,2015-03-03 00:06:57,https://api.github.com/repos/Netflix/atlas/git/commits/921c44df4597d4ef875dde70dfc1916e52120ac7,921c44df4597d4ef875dde70dfc1916e52120ac7,improve logging for chunked responses
brharrington,2015-02-27 17:37:13,https://api.github.com/repos/Netflix/atlas/git/commits/28f103bb92cc909af13f555f3c490ad0f98f8dd6,28f103bb92cc909af13f555f3c490ad0f98f8dd6,"Merge pull request #121 from brharrington/config-vocabulary

add setting to customize vocabulary for graph api"
brharrington,2015-02-27 17:23:04,https://api.github.com/repos/Netflix/atlas/git/commits/9de2ce5e0c2ca8c25d1aec40b6af7d27117a11b7,9de2ce5e0c2ca8c25d1aec40b6af7d27117a11b7,"add setting to customize vocabulary for graph api

There are a number of use-cases where it is convenient
to be able to change the vocabulary used by the graph
api via configuration. Main uses:

1. Experiments such as current work looking at better
   support for percentiles. This could be true of other
   extensions that likely will never be part of core.
2. Internal extensions that only make sense with our
   infrastructure.

This change allows the vocabulary to get set with:

```
atlas.webapi.graph.vocabulary = ""com.foo.CustomVocabulary""
```"
brharrington,2015-02-25 05:43:15,https://api.github.com/repos/Netflix/atlas/git/commits/b427694b9d87cbdc772866f2adf95d7b3bdafa89,b427694b9d87cbdc772866f2adf95d7b3bdafa89,"Merge pull request #120 from brharrington/issue-119-test

add test case for #119"
brharrington,2015-02-25 05:34:26,https://api.github.com/repos/Netflix/atlas/git/commits/d6fcb4abdb940361a3fa21df5ba9fb690765eed9,d6fcb4abdb940361a3fa21df5ba9fb690765eed9,add test case for #119
brharrington,2015-02-21 15:40:48,https://api.github.com/repos/Netflix/atlas/git/commits/0e8dc08b12aa25d5ff767738ad0cc4b49c1d7909,0e8dc08b12aa25d5ff767738ad0cc4b49c1d7909,"Merge pull request #118 from brharrington/pin-end-time

pin the end time of ref charts"
brharrington,2015-02-21 06:35:08,https://api.github.com/repos/Netflix/atlas/git/commits/46a0bca89171f5553002a26246821c9ede977376,46a0bca89171f5553002a26246821c9ede977376,"Merge pull request #117 from brharrington/stack-order

docs: arrange table so top of stack is top row"
brharrington,2015-02-21 06:34:26,https://api.github.com/repos/Netflix/atlas/git/commits/53b93c30e9f208b4d713deb0eec0fcb15c62299b,53b93c30e9f208b4d713deb0eec0fcb15c62299b,"Merge pull request #116 from brharrington/cleanup-deps-list

cleanup the dependencies list"
brharrington,2015-02-21 06:30:38,https://api.github.com/repos/Netflix/atlas/git/commits/17cb086e07a5b7cdceb8fabc9f3a7ee9def3269b,17cb086e07a5b7cdceb8fabc9f3a7ee9def3269b,"pin the end time of ref charts

Pins the end time of the charts generated for the
stack language reference examples so we don't change
all images on every run."
brharrington,2015-02-21 05:53:33,https://api.github.com/repos/Netflix/atlas/git/commits/0826a18c9b3baf9db83f02ecaa3df850a8a6f9a6,0826a18c9b3baf9db83f02ecaa3df850a8a6f9a6,"docs: arrange table so top of stack is top row

Also changes index to start at 0 to better match the
behavior of the index for pick and roll operations."
brharrington,2015-02-21 05:39:37,https://api.github.com/repos/Netflix/atlas/git/commits/57608987edac7fd89e7dfb3594099dd63010b16c,57608987edac7fd89e7dfb3594099dd63010b16c,"cleanup the dependencies list

Remove some of the dependencies that aren't currently
being used by any of the projects. Some will get readded
as more internal parts get moved to the oss repo."
brharrington,2015-02-21 05:22:59,https://api.github.com/repos/Netflix/atlas/git/commits/90d0465a9bbfcb06faa1337c86b42bfc2f6b15a0,90d0465a9bbfcb06faa1337c86b42bfc2f6b15a0,"Merge pull request #114 from brharrington/forth

additional stack manipulation operators"
brharrington,2015-02-21 05:08:37,https://api.github.com/repos/Netflix/atlas/git/commits/37afc4ce861862ae5320c80bdf8051673dd31bc3,37afc4ce861862ae5320c80bdf8051673dd31bc3,"additional stack manipulation operators

Adds depth, pick, roll, nip, and tuck to make the
standard set more complete for those used to languages
like forth.

For convenience adds ndrop and nlist to select a subset
of the stack for those operations."
brharrington,2015-02-21 00:41:39,https://api.github.com/repos/Netflix/atlas/git/commits/99c93189a8e6cc0242b21a1765450dd1e74fb10c,99c93189a8e6cc0242b21a1765450dd1e74fb10c,"Merge pull request #110 from brharrington/appender

use addToRootLogger helper for spectator appender"
brharrington,2015-02-21 00:41:13,https://api.github.com/repos/Netflix/atlas/git/commits/a17fa5896d576b0e8aa8231630f71aa517f455ce,a17fa5896d576b0e8aa8231630f71aa517f455ce,"Merge pull request #111 from brharrington/versions

update akka and aws dependency versions"
brharrington,2015-02-21 00:39:56,https://api.github.com/repos/Netflix/atlas/git/commits/e2ccf6979129e1d0b6a36bc18a23355494b9ba7a,e2ccf6979129e1d0b6a36bc18a23355494b9ba7a,"Merge pull request #112 from brharrington/resolvers

update resolver list"
brharrington,2015-02-21 00:11:47,https://api.github.com/repos/Netflix/atlas/git/commits/ec7d070c10d8aba9d1244cf10b125d366fa012d7,ec7d070c10d8aba9d1244cf10b125d366fa012d7,"update resolver list

Nebula builds use jcenter by default. These are sync'd with
maven central, but that can take some time. This changes the
default resolver order to be:

1. local
2. jcenter
3. maven
4. jfrog snapshot repo
5. hack for custom rrd4j

We should try to remove the need for 5 in the future."
brharrington,2015-02-20 23:07:21,https://api.github.com/repos/Netflix/atlas/git/commits/e1a2beedbee05f5abde7d563eb9b8877cd0561f2,e1a2beedbee05f5abde7d563eb9b8877cd0561f2,update akka and aws dependency versions
brharrington,2015-02-20 22:24:18,https://api.github.com/repos/Netflix/atlas/git/commits/ef08bdef4dbc8fecbefea9baa62997ab7012a55e,ef08bdef4dbc8fecbefea9baa62997ab7012a55e,use addToRootLogger helper for spectator appender
brharrington,2015-02-17 00:55:12,https://api.github.com/repos/Netflix/atlas/git/commits/9b0a0ee93712746a0d51b2d5af8657d4b1e34d6e,9b0a0ee93712746a0d51b2d5af8657d4b1e34d6e,"Merge pull request #109 from brharrington/gzip-payload

add directive to automatically decompress entity"
brharrington,2015-02-17 00:30:18,https://api.github.com/repos/Netflix/atlas/git/commits/5458db2b135e305d79047b47e4108e32196a5aa1,5458db2b135e305d79047b47e4108e32196a5aa1,add directive to automatically decompress entity
brharrington,2015-02-14 02:17:00,https://api.github.com/repos/Netflix/atlas/git/commits/eed9dbebac294d0521d157077586613a0bf5d983,eed9dbebac294d0521d157077586613a0bf5d983,"Merge pull request #108 from brharrington/docs-version

update getting started page"
brharrington,2015-02-14 02:09:58,https://api.github.com/repos/Netflix/atlas/git/commits/9a6acb650426f6936998aa8b62e3bd7f727457c7,9a6acb650426f6936998aa8b62e3bd7f727457c7,update getting started page
brharrington,2015-02-12 22:18:18,https://api.github.com/repos/Netflix/atlas/git/commits/9347a10bd689f21f62ed5872f28776535fe4b72f,9347a10bd689f21f62ed5872f28776535fe4b72f,"Merge pull request #106 from brharrington/rm-onejar

remove one-jar usage"
brharrington,2015-02-12 21:26:32,https://api.github.com/repos/Netflix/atlas/git/commits/52ec66ef37cf2a1f576e64e606640aedf327bcaa,52ec66ef37cf2a1f576e64e606640aedf327bcaa,"remove one-jar usage

One-JAR's class loader is causing a problems with
other libraries.

```
WARNING: Could not load Finalizer in its own class loader. Loading Finalizer in the current class loader instead. As a result, you will not be able to garbage collect this class loader. To support reclaiming this class loader, either resolve the underlying issue, or move Google Collections to your system class path.
```

Might be related to: http://sourceforge.net/p/one-jar/bugs/74/

We mainly want a simple way to package so the end-user
can just run `java -jar atlas.jar ...`, so using a simple
launcher that creates a self-extracting jar. After
extracting it uses the built-in URLClassLoader for the
set of jars and invokes a specfied main class.

So far this seems to be working well. The standalone jar
is built with a target in the makefile:

```
$ make one-jar
$ java -jar target/standalone.jar
```

If it still looks like the best approach after some more
testing, I'll create a better sbt task that should be
less system dependent than the current shell commands in
the make file."
brharrington,2015-02-11 23:39:57,https://api.github.com/repos/Netflix/atlas/git/commits/958126d53ce4cc2244793e90c7a153c117d326ee,958126d53ce4cc2244793e90c7a153c117d326ee,"Merge pull request #104 from brharrington/spectator-0.19

spectator-0.19"
copperlight,2015-02-11 23:36:15,https://api.github.com/repos/Netflix/atlas/git/commits/1c7872d7e6a2526fda9ec5e40215428c470478b8,1c7872d7e6a2526fda9ec5e40215428c470478b8,"Merge pull request #105 from copperlight/add-docker-start-guide

add back docker start guide"
copperlight,2015-02-11 23:26:00,https://api.github.com/repos/Netflix/atlas/git/commits/efae985d70662ef8cc3206e8d1a13360c768c5a5,efae985d70662ef8cc3206e8d1a13360c768c5a5,add back docker start guide
brharrington,2015-02-11 21:52:46,https://api.github.com/repos/Netflix/atlas/git/commits/b4cb691cd88cdd43b8ef67be5efaf58a94eae0f1,b4cb691cd88cdd43b8ef67be5efaf58a94eae0f1,"spectator-0.19

This version fixes occasional NPE on startup:

```
WARN  com.netflix.spectator.gc.GcLogger - exception thrown by event listener
java.lang.NullPointerException
        at com.netflix.spectator.http.RxHttp.getServersForVip(RxHttp.java:561) ~[spectator-nflx-plugin-0.18.jar:?]
        at com.netflix.spectator.http.RxHttp.getServers(RxHttp.java:542) ~[spectator-nflx-plugin-0.18.jar:?]
        at com.netflix.spectator.http.RxHttp.post(RxHttp.java:171) ~[spectator-nflx-plugin-0.18.jar:?]
        at com.netflix.spectator.http.RxHttp.postJson(RxHttp.java:188) ~[spectator-nflx-plugin-0.18.jar:?]
        at com.netflix.spectator.nflx.ChronosGcEventListener.sendToChronos(ChronosGcEventListener.java:109) ~[spectator-nflx-plugin-0.18.jar:?]
        at com.netflix.spectator.nflx.ChronosGcEventListener.onComplete(ChronosGcEventListener.java:161) ~[spectator-nflx-plugin-0.18.jar:?]
        at com.netflix.spectator.nflx.ChronosGcEventListener.onComplete(ChronosGcEventListener.java:170) ~[spectator-nflx-plugin-0.18.jar:?]
        at com.netflix.spectator.gc.GcLogger.processGcEvent(GcLogger.java:212) [spectator-ext-gc-0.18.jar:?]
        at com.netflix.spectator.gc.GcLogger.access$100(GcLogger.java:48) [spectator-ext-gc-0.18.jar:?]
        at com.netflix.spectator.gc.GcLogger$GcNotificationListener.handleNotification(GcLogger.java:225) [spectator-ext-gc-0.18.jar:?]
        at sun.management.NotificationEmitterSupport.sendNotification(NotificationEmitterSupport.java:156) [?:1.8.0_25]
        at sun.management.GarbageCollectorImpl.createGCNotification(GarbageCollectorImpl.java:147) [?:1.8.0_25]
```"
brharrington,2015-02-10 22:51:50,https://api.github.com/repos/Netflix/atlas/git/commits/014fca24d6c83e63e6b70805e6fdfd7599ba0878,014fca24d6c83e63e6b70805e6fdfd7599ba0878,"Merge pull request #103 from brharrington/stacklang-docs

docs: update generated stacklang reference"
brharrington,2015-02-10 22:43:16,https://api.github.com/repos/Netflix/atlas/git/commits/8ae17fd25d5a4785a623da981eb6a1266ee587dc,8ae17fd25d5a4785a623da981eb6a1266ee587dc,"docs: update generated stacklang reference

Change generated stacklang docs to generate a table
that is easier to read. Also where possible a sample
chart is shown for the examples instead of the string
representation of the expression."
brharrington,2015-02-06 21:39:26,https://api.github.com/repos/Netflix/atlas/git/commits/8fafd332e762269467262a00a24c9e8ce668c5f4,8fafd332e762269467262a00a24c9e8ce668c5f4,"Merge pull request #102 from brharrington/show-uri-links

docs: add links to reference page"
brharrington,2015-02-06 21:25:28,https://api.github.com/repos/Netflix/atlas/git/commits/05854ccac8779009951aa4e063de288450c508a0,05854ccac8779009951aa4e063de288450c508a0,"docs: add links to reference page

When showing the uri for graphs in the wiki, the
stack operators now link to the reference."
brharrington,2015-02-06 05:11:25,https://api.github.com/repos/Netflix/atlas/git/commits/3140d48c4879e4d36ea5d2377eaea03e757d3311,3140d48c4879e4d36ea5d2377eaea03e757d3311,"Merge pull request #101 from brharrington/wiki-examples

break out examples"
brharrington,2015-02-06 05:04:09,https://api.github.com/repos/Netflix/atlas/git/commits/d931c9dc84be2553856cf620992d0a3ac63127dd,d931c9dc84be2553856cf620992d0a3ac63127dd,"break out examples

Split out the examples to individual pages with
a separate sidebar to aid in quick navigation."
brharrington,2015-02-06 04:27:11,https://api.github.com/repos/Netflix/atlas/git/commits/5a7e398f54e7245f040bb53a41955e101b668d88,5a7e398f54e7245f040bb53a41955e101b668d88,"Merge pull request #100 from brharrington/des-wiki

docs: overview of using des"
brharrington,2015-02-06 04:20:11,https://api.github.com/repos/Netflix/atlas/git/commits/3177aff9d8f4f9239aa3f00d9c59a46cefc5d22a,3177aff9d8f4f9239aa3f00d9c59a46cefc5d22a,docs: overview of using des
brharrington,2015-02-05 22:33:53,https://api.github.com/repos/Netflix/atlas/git/commits/bf1b4166cf828e9124c69efbf62c3535000f7d26,bf1b4166cf828e9124c69efbf62c3535000f7d26,"Merge pull request #99 from brharrington/spectator-0.18

spectator-0.18"
brharrington,2015-02-05 22:14:16,https://api.github.com/repos/Netflix/atlas/git/commits/bb57bb90d018b1a94827115984be16a78669ca74,bb57bb90d018b1a94827115984be16a78669ca74,spectator-0.18
brharrington,2015-02-02 16:34:40,https://api.github.com/repos/Netflix/atlas/git/commits/4dc5f7619f938a2e66b907748864b5018fc4f53d,4dc5f7619f938a2e66b907748864b5018fc4f53d,"Merge pull request #98 from brharrington/governator

support initializing a set of modules on startup"
brharrington,2015-02-02 02:11:21,https://api.github.com/repos/Netflix/atlas/git/commits/33a0491d2a5ee9b4dc26d430a1765a9ef85025c3,33a0491d2a5ee9b4dc26d430a1765a9ef85025c3,"initial support for initializing with governator

Uses helper to manage a set of modules with governator. This
allows us to package with eureka, archaius, and karyon admin
for use internally.

It seems governator (guice probably) doesn't play well with
one-jar. When running standalone single jar we get:

```
WARNING: Could not load Finalizer in its own class loader. Loading Finalizer in the current class loader instead. As a result, you will not be able to garbage collect this class loader. To support reclaiming this class loader, either resolve the underlying issue, or move Google Collections to your system class path.
```

Need to look into the best option there. One-jar is also known
to prevent the ServiceLoader from finding providers."
brharrington,2015-02-02 01:54:33,https://api.github.com/repos/Netflix/atlas/git/commits/9750afd1a20ea468fa1eb4467e783f59499249d8,9750afd1a20ea468fa1eb4467e783f59499249d8,"Merge pull request #97 from brharrington/fix-package

fix package name (webapi.Main to standalone.Main)"
brharrington,2015-02-02 01:52:09,https://api.github.com/repos/Netflix/atlas/git/commits/b9ac933df780b7d2f109b83e1b1038df6ba14baa,b9ac933df780b7d2f109b83e1b1038df6ba14baa,"Merge pull request #96 from brharrington/coverage

sbt-scoverage-1.0.4"
brharrington,2015-02-02 01:48:51,https://api.github.com/repos/Netflix/atlas/git/commits/f6e9aa9371b0a0a23734823dd4996eaa7eb548de,f6e9aa9371b0a0a23734823dd4996eaa7eb548de,fix package name (webapi.Main to standalone.Main)
brharrington,2015-02-02 01:38:35,https://api.github.com/repos/Netflix/atlas/git/commits/962db7fde36aaa601cb67b6b07c4c5754d76274c,962db7fde36aaa601cb67b6b07c4c5754d76274c,sbt-scoverage-1.0.4
brharrington,2015-01-31 21:25:04,https://api.github.com/repos/Netflix/atlas/git/commits/cb26e8b002aa454520ceca041f48d618c741d542,cb26e8b002aa454520ceca041f48d618c741d542,"Merge pull request #95 from brharrington/increase-timeout

explicit timeout for tags suite"
brharrington,2015-01-31 20:44:54,https://api.github.com/repos/Netflix/atlas/git/commits/77564efbdfeb1d75777879217813d476c23c26ff,77564efbdfeb1d75777879217813d476c23c26ff,"explicit timeout for tags suite

There have been a few spurious failures due to
default 1s timeout being exceeded. Changing to 5s."
brharrington,2015-01-31 20:33:35,https://api.github.com/repos/Netflix/atlas/git/commits/b94a634e9fbac76f464ac7c11f5159b9cbf97728,b94a634e9fbac76f464ac7c11f5159b9cbf97728,"Merge pull request #94 from brharrington/ivy-cache

Ivy cache"
brharrington,2015-01-31 17:09:35,https://api.github.com/repos/Netflix/atlas/git/commits/5ac4d9ddf2338cc58be462d1a3a81c7b863e8f96,5ac4d9ddf2338cc58be462d1a3a81c7b863e8f96,switch back to release versions
brharrington,2015-01-31 05:13:52,https://api.github.com/repos/Netflix/atlas/git/commits/64750af9f4e4b08da6a53b919a1952cc2c2af2ba,64750af9f4e4b08da6a53b919a1952cc2c2af2ba,"get ivy cache before build

Try out fetching a tarball with the ivy cache
before kicking off build. Hopefully make the build
a bit faster and more robust."
brharrington,2015-01-30 18:33:07,https://api.github.com/repos/Netflix/atlas/git/commits/9e699b7c3faf7d56b7dacb3e6706d07974c17105,9e699b7c3faf7d56b7dacb3e6706d07974c17105,"Merge pull request #93 from brharrington/standalone

split standalone main to separate jar"
brharrington,2015-01-30 17:47:23,https://api.github.com/repos/Netflix/atlas/git/commits/88eeeee1884f1c01813d646285eb14fbe945537a,88eeeee1884f1c01813d646285eb14fbe945537a,"split standalone main to separate jar

This allows us to fix a few annoyances:

1. one-jar inteferes with service loader, so adding a direct
   ref for the spectator binding of the standalone
2. We can cleanup the slf4j-simple dependency that gets excluded
   internally.

Also switching the standalone to use log4j2 binding of slf4j so user
can have more control over behaviour by using a custom config."
brharrington,2015-01-25 00:40:19,https://api.github.com/repos/Netflix/atlas/git/commits/574fb718736991742b318741fdc4a17000952f74,574fb718736991742b318741fdc4a17000952f74,"Merge pull request #91 from brharrington/http-logger-name

use default logger"
brharrington,2015-01-25 00:33:10,https://api.github.com/repos/Netflix/atlas/git/commits/71664d4c9df81af4589b3a618dadfb7e0a8612f6,71664d4c9df81af4589b3a618dadfb7e0a8612f6,use default logger
brharrington,2015-01-23 05:10:04,https://api.github.com/repos/Netflix/atlas/git/commits/e98521fabed56fdbcc002fe25b7ffe0b103c1ca3,e98521fabed56fdbcc002fe25b7ffe0b103c1ca3,"Merge pull request #90 from brharrington/jackson-2.5.0

Jackson 2.5.0"
brharrington,2015-01-21 16:42:23,https://api.github.com/repos/Netflix/atlas/git/commits/1a7a7c04fb8b34688f41f92a9f8fb9c2d9db7407,1a7a7c04fb8b34688f41f92a9f8fb9c2d9db7407,"fix compile errors due to signature change

jackson-databind 2.5.0 changed the return type for
`ObjectMapper.reader` methods from `ObjectReader`
to `<T extends ObjectReader> T`."
brharrington,2015-01-14 04:35:08,https://api.github.com/repos/Netflix/atlas/git/commits/5e9a8196a8514fc0eb16081505286e0725c2dc00,5e9a8196a8514fc0eb16081505286e0725c2dc00,jackson-2.5.0
brharrington,2015-01-22 22:03:58,https://api.github.com/repos/Netflix/atlas/git/commits/b0b74ebbec6a3b62f8a299994b98fc69997e2722,b0b74ebbec6a3b62f8a299994b98fc69997e2722,"Merge pull request #89 from brharrington/rm-graphsuite-markdown

remove markdown generation from graph api suite"
brharrington,2015-01-22 21:39:14,https://api.github.com/repos/Netflix/atlas/git/commits/dcb80263d2c2e888e8e17e58b814297cb10f93d9,dcb80263d2c2e888e8e17e58b814297cb10f93d9,remove markdown generation from graph api suite
brharrington,2015-01-22 21:25:42,https://api.github.com/repos/Netflix/atlas/git/commits/0ffb6c7a43811af3de54fe9079854237b90cab4c,0ffb6c7a43811af3de54fe9079854237b90cab4c,"Merge pull request #88 from brharrington/issue-66

fix 66: update examples for time shift"
brharrington,2015-01-22 21:13:35,https://api.github.com/repos/Netflix/atlas/git/commits/9ecb20b5691022bc4c9e37da3f11e75cb7ef916a,9ecb20b5691022bc4c9e37da3f11e75cb7ef916a,fix 66: update examples for time shift
brharrington,2015-01-22 20:34:07,https://api.github.com/repos/Netflix/atlas/git/commits/b4e8111a755e39f0294fed17a2e62022ea14750e,b4e8111a755e39f0294fed17a2e62022ea14750e,"Merge pull request #87 from brharrington/wiki-gen

scripts for generating some of the wiki content"
brharrington,2015-01-22 20:15:52,https://api.github.com/repos/Netflix/atlas/git/commits/b07942e38bb356ce90d1291a918613c26e8804d2,b07942e38bb356ce90d1291a918613c26e8804d2,improve targets to update wiki
brharrington,2015-01-22 16:39:35,https://api.github.com/repos/Netflix/atlas/git/commits/8f2089fda707dc48661490eb6f8310953ae6243f,8f2089fda707dc48661490eb6f8310953ae6243f,update wiki
brharrington,2015-01-22 08:50:02,https://api.github.com/repos/Netflix/atlas/git/commits/39d5c34f693236372e7f569c8bc596bc807770e4,39d5c34f693236372e7f569c8bc596bc807770e4,scripts for generating some of the wiki content
brharrington,2015-01-22 00:45:59,https://api.github.com/repos/Netflix/atlas/git/commits/d95a64e5c01a7916aed904c09fb4ebbd664580fc,d95a64e5c01a7916aed904c09fb4ebbd664580fc,"Merge pull request #86 from brharrington/aws-java-sdk

aws-java-sdk-1.9.16"
brharrington,2015-01-22 00:31:00,https://api.github.com/repos/Netflix/atlas/git/commits/5ac96542aaf563eaf28114a24ad4134505b3254c,5ac96542aaf563eaf28114a24ad4134505b3254c,aws-java-sdk-1.9.16
brharrington,2015-01-21 23:42:50,https://api.github.com/repos/Netflix/atlas/git/commits/c88bb4776a0fdd53d8a2603f97c283c915321cac,c88bb4776a0fdd53d8a2603f97c283c915321cac,"Merge pull request #85 from brharrington/duration-format

prefer larger units when showing duration string"
brharrington,2015-01-21 23:30:47,https://api.github.com/repos/Netflix/atlas/git/commits/f64bb0b3d2ed32667aabd05f33d18acb94f44461,f64bb0b3d2ed32667aabd05f33d18acb94f44461,prefer larger units when showing duration string
brharrington,2015-01-21 22:38:01,https://api.github.com/repos/Netflix/atlas/git/commits/4f1ff2d88f00ace30f2295744b2b61f9864a6df5,4f1ff2d88f00ace30f2295744b2b61f9864a6df5,"Merge pull request #84 from brharrington/offset-label

add non-zero offset to label by default"
brharrington,2015-01-21 21:49:15,https://api.github.com/repos/Netflix/atlas/git/commits/16a153f9522645ee212c4cd47220e576af432df3,16a153f9522645ee212c4cd47220e576af432df3,"add non-zero offset to label by default

This change also fixes the path to images used
for the GraphApi and chart suites. The assertion
has been changed so that unless the bless flag
has been set to true it will fail rather than
create the file. This way we will detect if the
path is broken again."
brharrington,2015-01-20 18:27:47,https://api.github.com/repos/Netflix/atlas/git/commits/4d87babd4afa196b1dcf994c0cb136abd91d6b06,4d87babd4afa196b1dcf994c0cb136abd91d6b06,"Merge pull request #83 from brharrington/access-log

simple access log when running standalone"
brharrington,2015-01-20 18:16:15,https://api.github.com/repos/Netflix/atlas/git/commits/66e6bdf93034e089c24330e58c969011df456eb0,66e6bdf93034e089c24330e58c969011df456eb0,"simple access log when running standalone

When using the Netflix baseami we often rely on the
apache access.log and reporting. This change adds a
basic directive to generate an access log with basic
metrics when running standalone."
brharrington,2015-01-19 22:50:31,https://api.github.com/repos/Netflix/atlas/git/commits/f40883e5ce59ae33990ce230f0bb5c74ca427992,f40883e5ce59ae33990ce230f0bb5c74ca427992,"Merge pull request #82 from brharrington/update-counter

switch from general dist summary to bucket counter"
brharrington,2015-01-19 22:41:26,https://api.github.com/repos/Netflix/atlas/git/commits/2902caf38ee0eca9827ff0aac935ab8abea498b4,2902caf38ee0eca9827ff0aac935ab8abea498b4,switch from general dist summary to bucket counter
brharrington,2015-01-18 01:12:37,https://api.github.com/repos/Netflix/atlas/git/commits/c26dae7190df9d9d49309b9d629c9b5bd79e192b,c26dae7190df9d9d49309b9d629c9b5bd79e192b,"Merge pull request #80 from brharrington/flakey-test

ensure update is complete before response"
brharrington,2015-01-18 01:04:00,https://api.github.com/repos/Netflix/atlas/git/commits/4d3eac297ac0442aa925463f27f1a87010433094,4d3eac297ac0442aa925463f27f1a87010433094,ensure update is complete before response
brharrington,2015-01-18 00:54:17,https://api.github.com/repos/Netflix/atlas/git/commits/d0b169206d2e8cde83c6353c58126b2f6ba7aafc,d0b169206d2e8cde83c6353c58126b2f6ba7aafc,"Merge pull request #79 from brharrington/simplify-getorcreate

simplify getOrCreateBlockStore"
brharrington,2015-01-18 00:29:06,https://api.github.com/repos/Netflix/atlas/git/commits/06265b9fb877ff20b952fb9c877fc97410a063cf,06265b9fb877ff20b952fb9c877fc97410a063cf,"simplify getOrCreateBlockStore

With java 8 the ConcurrentHashMap has a built in
method, computeIfAbsent, for just this use-case."
brharrington,2015-01-17 23:33:34,https://api.github.com/repos/Netflix/atlas/git/commits/440c00c8a1fe9ac09c32f5b5b83184fc3150203c,440c00c8a1fe9ac09c32f5b5b83184fc3150203c,"Merge pull request #78 from brharrington/jmxport

add option to restrict jmx port"
brharrington,2015-01-17 23:33:09,https://api.github.com/repos/Netflix/atlas/git/commits/843422047d91d21d8a29e5ab3bdff90fba216a12,843422047d91d21d8a29e5ab3bdff90fba216a12,"Merge pull request #77 from brharrington/txt-time-format

more script friendly time format for txt output"
brharrington,2015-01-17 23:31:51,https://api.github.com/repos/Netflix/atlas/git/commits/92beb80b6d3b1fe8c2d541abd81b9870259365a4,92beb80b6d3b1fe8c2d541abd81b9870259365a4,"Merge pull request #76 from brharrington/missing-interpolator

fix warnings: possible missing interpolator"
brharrington,2015-01-17 22:11:15,https://api.github.com/repos/Netflix/atlas/git/commits/61e52c29261467f034d704ad8d6fe06500c7bcf3,61e52c29261467f034d704ad8d6fe06500c7bcf3,"add option to restrict jmx port

When running on AWS instances it is convenient to
be able to open up a single port on the security group
to allow for JMX access. The option is disabled by
default since it tries to access the on instance
metadata service."
brharrington,2015-01-17 21:10:48,https://api.github.com/repos/Netflix/atlas/git/commits/0b3d9fdded024559167c421a184362251ec611f2,0b3d9fdded024559167c421a184362251ec611f2,"more script friendly time format for txt output

Previously it was using the default associated with
the ZonedDateTime.toString call:

```
2015-01-16T23:40:59-08:00[US/Pacific]   562916.031424
2015-01-16T23:41-08:00[US/Pacific]      575008.038403
2015-01-16T23:41:01-08:00[US/Pacific]   569944.697917
```

This change removes the zone ID from the output and
always includes the seconds in the timestamp.

```
2015-01-16T23:40:59-08:00   562916.031424
2015-01-16T23:41:00-08:00   575008.038403
2015-01-16T23:41:01-08:00   569944.697917
```

UTC will show a Z:

```
2015-01-17T07:40:59Z   562916.031424
2015-01-17T07:41:00Z   575008.038403
2015-01-17T07:41:01Z   569944.697917
```"
brharrington,2015-01-17 20:52:35,https://api.github.com/repos/Netflix/atlas/git/commits/ca996cfa03e991219dc9fbb4f2bbbf33d9afe510,ca996cfa03e991219dc9fbb4f2bbbf33d9afe510,"fix warnings: possible missing interpolator

```
[warn] /scratch/atlas/atlas-config/src/test/scala/com/netflix/atlas/config/ConfigManagerSuite.scala:46: possible missing interpolator: detected an interpolated expression
[warn]     ConfigManager.update(ConfigFactory.parseString(""foo = ${user.home}""))
[warn]                                                    ^
[warn] /scratch/atlas/atlas-config/src/test/scala/com/netflix/atlas/config/ConfigManagerSuite.scala:56: possible missing interpolator: detected an interpolated expression
[warn]     ConfigManager.update(ConfigFactory.parseString(""""""
[warn]                                                    ^
[warn] two warnings found
```"
brharrington,2015-01-17 18:01:12,https://api.github.com/repos/Netflix/atlas/git/commits/812205d2f261c10295dc8399e2b83b19253fad38,812205d2f261c10295dc8399e2b83b19253fad38,"Merge pull request #75 from brharrington/publish-webapi

initial import of publish webapi"
brharrington,2015-01-17 17:53:06,https://api.github.com/repos/Netflix/atlas/git/commits/2a303afb34eca7bbd529ec77a580e65d93ca513d,2a303afb34eca7bbd529ec77a580e65d93ca513d,remove unused imports
brharrington,2015-01-17 17:45:48,https://api.github.com/repos/Netflix/atlas/git/commits/729575de87f4e09721729ea375e2081bb9ce5deb,729575de87f4e09721729ea375e2081bb9ce5deb,"initial import of publish webapi

Includes sample conf and a test script to show
and example of how to send data. To try it:

```
$ cd $REPO_DIR
$ sbt one-jar
$ java -jar atlas-webapi/target/atlas-webapi-1.4.2-SNAPSHOT-one-jar.jar conf/memory.conf
```

From another terminal:

```
$ scripts/publish-test.sh
```"
brharrington,2015-01-17 07:00:34,https://api.github.com/repos/Netflix/atlas/git/commits/559b2e80932f42ad6cceaba94cf1443c7b594ce4,559b2e80932f42ad6cceaba94cf1443c7b594ce4,"Merge pull request #74 from brharrington/config-resolve

re-resolve config on update"
brharrington,2015-01-17 06:51:22,https://api.github.com/repos/Netflix/atlas/git/commits/a02ff8609c3a476f78f36cd2f9b4e2fb0f5ee780,a02ff8609c3a476f78f36cd2f9b4e2fb0f5ee780,"re-resolve config on update

Primary change is to re-resolve the config on
subsequent updates so vars can be updated. Note
that the reference conf files are resolved on
load so configs applied via update cannot change
a var in the reference conf.

Also removes duplicate step settings."
brharrington,2015-01-17 05:24:47,https://api.github.com/repos/Netflix/atlas/git/commits/3ec408a1146ed0af5e0d15acba11e37ed1d13629,3ec408a1146ed0af5e0d15acba11e37ed1d13629,"Merge pull request #73 from brharrington/command-line-config

allow additional config files on command line"
brharrington,2015-01-17 05:17:09,https://api.github.com/repos/Netflix/atlas/git/commits/a7533baeda9847bcdcac265afdb023e533d1bad2,a7533baeda9847bcdcac265afdb023e533d1bad2,"Merge pull request #72 from brharrington/fix-filename

make file name match class name"
brharrington,2015-01-17 05:09:41,https://api.github.com/repos/Netflix/atlas/git/commits/2b711bb947e013fc719565cb490811aecbf96e51,2b711bb947e013fc719565cb490811aecbf96e51,"allow additional config files on command line

To make it easier to run the standalone jar in different
modes, this change allows additional config files to be
specified as command line arguments. Example:

```
$ java -jar atlas-standalone.jar c1.conf c2.conf
```"
brharrington,2015-01-17 03:32:26,https://api.github.com/repos/Netflix/atlas/git/commits/28d849aaec93bdfa8db35206ef7469d64ca7c1ba,28d849aaec93bdfa8db35206ef7469d64ca7c1ba,make file name match class name
brharrington,2015-01-14 22:43:51,https://api.github.com/repos/Netflix/atlas/git/commits/c1bd0333dd1294fc6c4a89bb6b9078a7e518ddbd,c1bd0333dd1294fc6c4a89bb6b9078a7e518ddbd,"Merge pull request #67 from brharrington/scala-2.11.5-release

scala-2.11.5 release"
brharrington,2015-01-14 22:34:10,https://api.github.com/repos/Netflix/atlas/git/commits/3442e091de3e68822309f31d78191b30cd2291d6,3442e091de3e68822309f31d78191b30cd2291d6,scala-2.11.5 release
brharrington,2015-01-14 18:00:22,https://api.github.com/repos/Netflix/atlas/git/commits/ae0c45c32e7b214a8bad684e1ba827a1efa9c506,ae0c45c32e7b214a8bad684e1ba827a1efa9c506,"Merge pull request #65 from brharrington/stat-avg-mf

add stat-avg-mf and stat-min-mf variants"
brharrington,2015-01-14 17:48:23,https://api.github.com/repos/Netflix/atlas/git/commits/9fe8135a258266205bedbcb37e4263df31773692,9fe8135a258266205bedbcb37e4263df31773692,add stat-avg-mf and stat-min-mf variants
brharrington,2015-01-14 17:40:35,https://api.github.com/repos/Netflix/atlas/git/commits/b10871c8f5bb6834d9060ed4fe8926ca306dda98,b10871c8f5bb6834d9060ed4fe8926ca306dda98,"Merge pull request #63 from brharrington/filter

filtering group by results"
brharrington,2015-01-14 17:32:21,https://api.github.com/repos/Netflix/atlas/git/commits/0eecdb85990bbb64bfa2e4febf4fb401827cf7d2,0eecdb85990bbb64bfa2e4febf4fb401827cf7d2,update TimeSeriesExprSuite to cover filter
brharrington,2015-01-14 16:55:34,https://api.github.com/repos/Netflix/atlas/git/commits/e7e238d93e48cfd52ab78cbabb9b9235376f94c0,e7e238d93e48cfd52ab78cbabb9b9235376f94c0,add helper for legacy `:stat-max-mf`
brharrington,2015-01-14 16:47:37,https://api.github.com/repos/Netflix/atlas/git/commits/4cae1b5198a09a608bf265a6bea3a925a04ecec1,4cae1b5198a09a608bf265a6bea3a925a04ecec1,"filtering group by results

Moving filter expressions from internal to OSS. This
also generalizes them a bit to work using an arbitrary
line."
brharrington,2015-01-14 04:16:07,https://api.github.com/repos/Netflix/atlas/git/commits/20ef8ec21bc74419de361e9d426c8a27361e7d3c,20ef8ec21bc74419de361e9d426c8a27361e7d3c,"Merge pull request #62 from brharrington/legacy-offset

support legacy offset"
brharrington,2015-01-14 03:12:44,https://api.github.com/repos/Netflix/atlas/git/commits/63b43ab04553c8c23345c25b1a87aaf0d12a9e0d,63b43ab04553c8c23345c25b1a87aaf0d12a9e0d,"support legacy offset

Trying to minimize internal vs external differences. This
adds support for the legacy offset operator until we can
fully deprecate and remove it."
brharrington,2015-01-13 23:17:50,https://api.github.com/repos/Netflix/atlas/git/commits/82f2762593fb91aaaa124abaff1734278fcd28a2,82f2762593fb91aaaa124abaff1734278fcd28a2,"Merge pull request #61 from brharrington/avg-compatibility

add helper for computing avg of group by result"
brharrington,2015-01-13 23:02:14,https://api.github.com/repos/Netflix/atlas/git/commits/1a52245d09da7bc0f6ece2bfdc362d1334587ef8,1a52245d09da7bc0f6ece2bfdc362d1334587ef8,"add helper for computing avg of group by result

Moving one of the internal macros for computing avg
based on the results of a group by to oss repo. The
count will be for each line resulting from the group
by that has a value other than NaN for a given
interval. If the underlying expression is not a group
by the it will be treated as a group with a single
result."
brharrington,2015-01-12 22:19:41,https://api.github.com/repos/Netflix/atlas/git/commits/37cbbb97e4ccb2ad089191f622948796f50f80c7,37cbbb97e4ccb2ad089191f622948796f50f80c7,"Merge pull request #60 from brharrington/config-engine

allow formats for graph api to be configured"
brharrington,2015-01-12 21:30:19,https://api.github.com/repos/Netflix/atlas/git/commits/1bcb226008a33628b17e1fbade1c7232ef75c2ad,1bcb226008a33628b17e1fbade1c7232ef75c2ad,Merge remote-tracking branch 'nflx/master' into config-engine
brharrington,2015-01-12 21:25:23,https://api.github.com/repos/Netflix/atlas/git/commits/c94400016557581b015800ef30bdefc95c5d6dbe,c94400016557581b015800ef30bdefc95c5d6dbe,"allow formats for graph api to be configured

For some legacy backward compatibility use-cases
internally we need to support a number of additional
formats. This can potentially be useful for others
that might want to provide a custom output format.

This change adds a config setting:

`atlas.webapi.graph.engines`

The values is a list of class names that implement the
GraphEngine trait. Another consideration we will
table for now is source compatibility between versions.
Internally we only try to maintain compatibility of the
webapi and make no guarantees about compatibility of
source built against the app."
brharrington,2015-01-12 21:23:54,https://api.github.com/repos/Netflix/atlas/git/commits/edf4a726c0e3ba43ee240f0757eca96e17c4bee2,edf4a726c0e3ba43ee240f0757eca96e17c4bee2,"Merge pull request #59 from brharrington/publish-json

json codec for publish payload"
brharrington,2015-01-12 20:44:59,https://api.github.com/repos/Netflix/atlas/git/commits/89e8ac1b74cdfbc51c1748d2de885ae8b15c060b,89e8ac1b74cdfbc51c1748d2de885ae8b15c060b,"json codec for publish payload

Supports legacy formats and field labels that are
still needed internally. It will likely be a long time
before we can fully deprecate and simplify those
paths.

Also has some to make it more efficient when working
with SmallHashMap values."
brharrington,2015-01-10 23:18:04,https://api.github.com/repos/Netflix/atlas/git/commits/db52d78143385273ed18dbcb7799910ba469738d,db52d78143385273ed18dbcb7799910ba469738d,"Merge pull request #48 from brharrington/travis-container

enable container based build"
brharrington,2015-01-10 23:10:53,https://api.github.com/repos/Netflix/atlas/git/commits/721a1466052b03f01b9b6ea587243b760d243ae7,721a1466052b03f01b9b6ea587243b760d243ae7,"enable container based build

http://blog.travis-ci.com/2014-12-17-faster-builds-with-container-based-infrastructure/"
brharrington,2015-01-08 23:21:18,https://api.github.com/repos/Netflix/atlas/git/commits/336366b05755a8836aca9631182d970cae4e21f8,336366b05755a8836aca9631182d970cae4e21f8,"Merge pull request #47 from brharrington/reuse-assert

move GraphAssertions to common test lib"
brharrington,2015-01-08 23:12:14,https://api.github.com/repos/Netflix/atlas/git/commits/852824494b4bca67942c9e2a86de2b164070904b,852824494b4bca67942c9e2a86de2b164070904b,add test lib with GraphAssertions util
brharrington,2015-01-08 23:09:07,https://api.github.com/repos/Netflix/atlas/git/commits/4d46dcfc70f0335df2e8304dc6ee99e5c651ef9e,4d46dcfc70f0335df2e8304dc6ee99e5c651ef9e,"move GraphAssertions to common test lib

Avoid code duplication for GraphAssertions helper. To
avoid a cyclic dependency between chart and test libs
the PngImage utility was moved to core. That utility
has no dependencies other than the jdk."
brharrington,2015-01-08 22:35:25,https://api.github.com/repos/Netflix/atlas/git/commits/49d92d4a6c09e63c6120c25f2c1bc6545a90bfae,49d92d4a6c09e63c6120c25f2c1bc6545a90bfae,"Merge pull request #46 from brharrington/no-guava

reduce use of guava"
brharrington,2015-01-08 20:54:05,https://api.github.com/repos/Netflix/atlas/git/commits/0183c43ed232adcba08157ed104511019ad960b8,0183c43ed232adcba08157ed104511019ad960b8,"reduce use of guava

Removes some of the simple uses of guava.

Not sure why, but something about the
TimeSeriesBuffer class triggers a
ClassNotFoundException with the
equalsverifier library:

```
[info]   Cause: java.lang.NoClassDefFoundError: nl/jqno/equalsverifier/internal/cglib/proxy/Factory
[info]   at java.lang.ClassLoader.defineClass1(Native Method)
[info]   at java.lang.ClassLoader.defineClass(ClassLoader.java:760)
[info]   at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
[info]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
[info]   at java.lang.reflect.Method.invoke(Method.java:483)
[info]   at nl.jqno.equalsverifier.internal.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:384)
[info]   at nl.jqno.equalsverifier.internal.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:219)
[info]   at nl.jqno.equalsverifier.internal.cglib.proxy.Enhancer.createHelper(Enhancer.java:377)
[info]   at nl.jqno.equalsverifier.internal.cglib.proxy.Enhancer.createClass(Enhancer.java:317)
[info]   at nl.jqno.equalsverifier.util.Instantiator.createDynamicSubclass(Instantiator.java:104)
[info]   ...
[info]   Cause: java.lang.ClassNotFoundException: nl.jqno.equalsverifier.internal.cglib.proxy.Factory
[info]   at java.net.URLClassLoader$1.run(URLClassLoader.java:372)
[info]   at java.net.URLClassLoader$1.run(URLClassLoader.java:361)
[info]   at java.security.AccessController.doPrivileged(Native Method)
[info]   at java.net.URLClassLoader.findClass(URLClassLoader.java:360)
[info]   at java.lang.ClassLoader.loadClass(ClassLoader.java:424)
[info]   at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
[info]   at java.lang.ClassLoader.defineClass1(Native Method)
[info]   at java.lang.ClassLoader.defineClass(ClassLoader.java:760)
[info]   at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)
[info]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
[info]   ...
```

Current workaround is to set `fork in Test := true`
for the sbt build."
brharrington,2015-01-08 01:41:45,https://api.github.com/repos/Netflix/atlas/git/commits/a0551398b4ceafab2500f17e0ae175b7706aca61,a0551398b4ceafab2500f17e0ae175b7706aca61,"Merge pull request #45 from brharrington/license-2015

update licenses"
brharrington,2015-01-08 01:04:31,https://api.github.com/repos/Netflix/atlas/git/commits/8601bb1b2ef46adde52db2e305994a72817ca2f2,8601bb1b2ef46adde52db2e305994a72817ca2f2,"update licenses

Build failing due to license mismatch. Should we make the
check more lenient to the year?"
brharrington,2014-12-23 21:58:42,https://api.github.com/repos/Netflix/atlas/git/commits/51e125a0d1b40cc4e415bb4bd12e9d252b3f7048,51e125a0d1b40cc4e415bb4bd12e9d252b3f7048,"Merge pull request #44 from brharrington/delete-old-images

remove old image files"
brharrington,2014-12-23 21:45:41,https://api.github.com/repos/Netflix/atlas/git/commits/14e439faac70a46240109aa1aa60fd80fd7deb6b,14e439faac70a46240109aa1aa60fd80fd7deb6b,remove old image files
brharrington,2014-12-23 21:42:22,https://api.github.com/repos/Netflix/atlas/git/commits/0c5515d9b3724877acbbb0cb10d439171a1f2a08,0c5515d9b3724877acbbb0cb10d439171a1f2a08,"Merge pull request #43 from brharrington/example-hash

Example hash"
brharrington,2014-12-23 21:17:33,https://api.github.com/repos/Netflix/atlas/git/commits/73aee19e9b841ad632bbe684eaede768bfad2660,73aee19e9b841ad632bbe684eaede768bfad2660,update expected files for example images
brharrington,2014-12-23 21:12:00,https://api.github.com/repos/Netflix/atlas/git/commits/6428b8ca9dac024defbd701c63c4df176bcf6a74,6428b8ca9dac024defbd701c63c4df176bcf6a74,Merge remote-tracking branch 'nflx/master' into example-hash
brharrington,2014-12-23 21:11:37,https://api.github.com/repos/Netflix/atlas/git/commits/fc73f90334f586f288fa02698eac37e6e07e7907,fc73f90334f586f288fa02698eac37e6e07e7907,use hash instead of position for file name
brharrington,2014-12-23 21:10:34,https://api.github.com/repos/Netflix/atlas/git/commits/6ea1e8e78c86de3474073a554ac6ba16a47949cf,6ea1e8e78c86de3474073a554ac6ba16a47949cf,"Merge pull request #42 from brharrington/offset-example

add example for atlas.offset var"
brharrington,2014-12-23 21:02:08,https://api.github.com/repos/Netflix/atlas/git/commits/9b7ada74377db2f702eea674259896703505f04e,9b7ada74377db2f702eea674259896703505f04e,add example for atlas.offset var
brharrington,2014-12-21 01:19:42,https://api.github.com/repos/Netflix/atlas/git/commits/033e1c96c0c471214455ba128ecbdb22d467f624,033e1c96c0c471214455ba128ecbdb22d467f624,"Merge pull request #40 from brharrington/target-1.8

Target 1.8"
brharrington,2014-12-21 01:04:40,https://api.github.com/repos/Netflix/atlas/git/commits/f2b877679195398e51125ba2bd35472f1022668f,f2b877679195398e51125ba2bd35472f1022668f,"set target to jvm-1.8

There are several uses of java 8 APIs and targeting
java 8 makes the error message a little more clear
(or at least easier to search for) if running on an
older jvm. Prior error when running on 1.7:

```
$ java -jar atlas-1.4.1-standalone.jar
[main] INFO com.netflix.atlas.webapi.Main$$anon$1 - starting atlas on port 7101
[main] WARN com.netflix.spectator.api.Spectator - no registry impl found in classpath, using default
[atlas-akka.actor.default-dispatcher-2] INFO akka.event.slf4j.Slf4jLogger - Slf4jLogger started
Exception in thread ""main"" java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.simontuffs.onejar.Boot.run(Boot.java:340)
	at com.simontuffs.onejar.Boot.main(Boot.java:166)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
	at com.netflix.atlas.webapi.ApiSettings$.newDbInstance(ApiSettings.scala:33)
	at com.netflix.atlas.webapi.Main$$anon$1.configure(Main.scala:29)
	at com.netflix.atlas.akka.WebServer.start(WebServer.scala:37)
	at com.netflix.atlas.webapi.Main$.main(Main.scala:33)
	at com.netflix.atlas.webapi.Main.main(Main.scala)
	... 6 more
Caused by: java.lang.NoClassDefFoundError: java/time/ZoneId
	at com.netflix.atlas.core.db.StaticDatabase.<init>(StaticDatabase.scala:33)
	... 15 more
Caused by: java.lang.ClassNotFoundException: java.time.ZoneId
	at com.simontuffs.onejar.JarClassLoader.findClass(JarClassLoader.java:713)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:425)
	at com.simontuffs.onejar.JarClassLoader.loadClass(JarClassLoader.java:630)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:358)
	... 16 more
```

Current error when running on 1.7:

```
$ java -jar atlas-1.4.1-standalone.jar
Exception in thread ""main"" java.lang.UnsupportedClassVersionError: com/netflix/atlas/webapi/Main : Unsupported major.minor version 52.0
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:800)
	at com.simontuffs.onejar.JarClassLoader.defineClass(JarClassLoader.java:803)
	at com.simontuffs.onejar.JarClassLoader.findClass(JarClassLoader.java:710)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:425)
	at com.simontuffs.onejar.JarClassLoader.loadClass(JarClassLoader.java:630)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:358)
	at com.simontuffs.onejar.Boot.run(Boot.java:334)
	at com.simontuffs.onejar.Boot.main(Boot.java:166)
```"
brharrington,2014-12-21 00:57:16,https://api.github.com/repos/Netflix/atlas/git/commits/7a31dd0f545231c23452750f8c39210ff5b7be5c,7a31dd0f545231c23452750f8c39210ff5b7be5c,add compiler flags to scalacOptions
brharrington,2014-12-21 00:18:11,https://api.github.com/repos/Netflix/atlas/git/commits/301acacd6838903b4daf30b0f7e963e2aac74d52,301acacd6838903b4daf30b0f7e963e2aac74d52,"Merge pull request #39 from brharrington/scala-version

use scala version from Dependencies"
brharrington,2014-12-21 00:07:50,https://api.github.com/repos/Netflix/atlas/git/commits/f14e2fbdbccc625c4f96d2e5b901455f8285c834,f14e2fbdbccc625c4f96d2e5b901455f8285c834,"explicit dependenncy on scala-reflect

Mostly just to keep the version of scala-reflect
the same as scala-library."
brharrington,2014-12-20 23:59:37,https://api.github.com/repos/Netflix/atlas/git/commits/e6f726fa5af401dbb24c6e6fb587bb1d0b37cb1c,e6f726fa5af401dbb24c6e6fb587bb1d0b37cb1c,remove scalaVersion from BuildSettings
brharrington,2014-12-20 23:44:57,https://api.github.com/repos/Netflix/atlas/git/commits/2c02af1fd3097ea8be14030c854e2ece4577ee06,2c02af1fd3097ea8be14030c854e2ece4577ee06,use scala version from Dependencies
brharrington,2014-12-20 21:46:46,https://api.github.com/repos/Netflix/atlas/git/commits/e03ab18117a2457d1a43ef6c758c22f6545d0d1c,e03ab18117a2457d1a43ef6c758c22f6545d0d1c,"Merge pull request #38 from brharrington/build-link

change build link to be the history tab"
brharrington,2014-12-20 21:14:23,https://api.github.com/repos/Netflix/atlas/git/commits/8fe21eb0a699c22536baac262e302e592d419cf5,8fe21eb0a699c22536baac262e302e592d419cf5,"Merge pull request #37 from brharrington/deps-update

update dependency versions"
brharrington,2014-12-20 21:12:14,https://api.github.com/repos/Netflix/atlas/git/commits/b834cd5053d3eb32a2751fd1181cd6362c41bfaa,b834cd5053d3eb32a2751fd1181cd6362c41bfaa,change build link to be the history tab
brharrington,2014-12-20 21:05:56,https://api.github.com/repos/Netflix/atlas/git/commits/534f222cb45d1b0a76bbbb5d2c90fb25bd1fc004,534f222cb45d1b0a76bbbb5d2c90fb25bd1fc004,"Merge pull request #36 from brharrington/tag-suite-reuse

avoid repetition of uri"
brharrington,2014-12-20 21:03:57,https://api.github.com/repos/Netflix/atlas/git/commits/4d0419cf7aa3506fc6a3c9c74dad6ebbcb21de01,4d0419cf7aa3506fc6a3c9c74dad6ebbcb21de01,update dependency versions
brharrington,2014-12-20 20:47:29,https://api.github.com/repos/Netflix/atlas/git/commits/573660fc7fad883f47529b3b624515dd410a1c22,573660fc7fad883f47529b3b624515dd410a1c22,avoid repetition of uri
brharrington,2014-12-19 23:02:27,https://api.github.com/repos/Netflix/atlas/git/commits/f8557a540cba76b9331737f228448bca842714cc,f8557a540cba76b9331737f228448bca842714cc,"Merge pull request #35 from brharrington/sbt-pgp-version

minor updates to build and release"
brharrington,2014-12-19 22:46:34,https://api.github.com/repos/Netflix/atlas/git/commits/5a02d7428ebdd6bb6d9e91d062caf952d0a456c2,5a02d7428ebdd6bb6d9e91d062caf952d0a456c2,"minor updates to build and release

Hopefully this will get the build working right:

* Fixes: Invalid POM: /com/netflix/atlas/atlas-json/1.4.1/atlas-json-1.4.1.pom: Developer information missing
* Fixes: Missing Signature: '/com/netflix/atlas/atlas-json/1.4.1/atlas-json-1.4.1.pom.asc' does not exist for 'atlas-json-1.4.1.pom'.
* Update sbt-pgp version"
brharrington,2014-12-17 22:55:32,https://api.github.com/repos/Netflix/atlas/git/commits/834460023a41462a31de5fa5c61b0d8184c78539,834460023a41462a31de5fa5c61b0d8184c78539,"Merge pull request #33 from brharrington/aws-credentials

remove NflxCredentialsProviderChain"
brharrington,2014-12-17 22:23:50,https://api.github.com/repos/Netflix/atlas/git/commits/f41c41dda3e296013a3072982e06c938332a597f,f41c41dda3e296013a3072982e06c938332a597f,"remove NflxCredentialsProviderChain

This is an old class that basically setup credentials
using environment variables supporting a token so it
could work with IAM credentials. More recent versions
of the AWS SDK have ProfileCredentialsProvider in the
DefaultAWSCredentialsProviderChain.

Also adds some helper scripts to create the config file
from the output of the metadata services."
brharrington,2014-12-17 16:09:36,https://api.github.com/repos/Netflix/atlas/git/commits/2891c89472654e5b93ab8397d820502ef30762f4,2891c89472654e5b93ab8397d820502ef30762f4,"Merge pull request #32 from brharrington/spectator-snap

update spectator"
brharrington,2014-12-17 13:58:45,https://api.github.com/repos/Netflix/atlas/git/commits/a2d9ebc4a8770171c88b8ea3dceb9b2e0068d7d1,a2d9ebc4a8770171c88b8ea3dceb9b2e0068d7d1,update spectator
brharrington,2014-12-15 23:16:29,https://api.github.com/repos/Netflix/atlas/git/commits/2d460645f6105b68d1db3a1e6228de4d4dc7eaf6,2d460645f6105b68d1db3a1e6228de4d4dc7eaf6,"Merge pull request #29 from brharrington/map-step-test

add test case for MapStepTimeSeq"
brharrington,2014-12-15 22:58:48,https://api.github.com/repos/Netflix/atlas/git/commits/175b27195e0fe576db41073c7aec3da65b0aca80,175b27195e0fe576db41073c7aec3da65b0aca80,"Merge pull request #30 from brharrington/sbt-batch-mode

avoid sbt blocking builds wating for input"
brharrington,2014-12-15 22:34:27,https://api.github.com/repos/Netflix/atlas/git/commits/e7450774b305477bfddd2c265ccf305523db29ed,e7450774b305477bfddd2c265ccf305523db29ed,"Merge pull request #31 from brharrington/build-info

add link to build"
brharrington,2014-12-15 22:12:18,https://api.github.com/repos/Netflix/atlas/git/commits/20c998e14c14e6bc86743532e0d72e8880e64901,20c998e14c14e6bc86743532e0d72e8880e64901,add link to build
brharrington,2014-12-15 22:00:49,https://api.github.com/repos/Netflix/atlas/git/commits/f74becc7d3e26cca592d0fef5daecbb2d2f7931c,f74becc7d3e26cca592d0fef5daecbb2d2f7931c,avoid sbt blocking builds wating for input
brharrington,2014-12-15 21:48:05,https://api.github.com/repos/Netflix/atlas/git/commits/efea72e9bc62899cd8f966c19c98e7c13b33a1c5,efea72e9bc62899cd8f966c19c98e7c13b33a1c5,add test case for MapStepTimeSeq
brharrington,2014-12-15 00:52:57,https://api.github.com/repos/Netflix/atlas/git/commits/ba1e205640375c1eaec7cbc02c1bafbcfb505360,ba1e205640375c1eaec7cbc02c1bafbcfb505360,"Merge pull request #26 from brharrington/array-hashcode

use Arrays.hashCode for the data array"
brharrington,2014-12-15 00:44:46,https://api.github.com/repos/Netflix/atlas/git/commits/7099ed65f3246b840c0ba0bdafac64c02019ec45,7099ed65f3246b840c0ba0bdafac64c02019ec45,use Arrays.hashCode for the data array
brharrington,2014-12-14 03:03:04,https://api.github.com/repos/Netflix/atlas/git/commits/57c43b40af79063b97011f99970dc2fd062b633d,57c43b40af79063b97011f99970dc2fd062b633d,"Merge pull request #25 from brharrington/jenkins-png-issue

re-enable tests that were failing on jenkins"
brharrington,2014-12-14 02:52:31,https://api.github.com/repos/Netflix/atlas/git/commits/aa9de0c1e74619ddb84c218d1593c10e99a6d17f,aa9de0c1e74619ddb84c218d1593c10e99a6d17f,"re-enable tests that were failing on jenkins

The failures were due to a bug in java.time
that was fixed in 8u20. See #9 for details.

This change also adds some assertions on the
status code for the response in the graph
api test so we don't get the confusing exception
about png headers."
brharrington,2014-12-13 22:47:53,https://api.github.com/repos/Netflix/atlas/git/commits/1cc14a0d201a1526ee8419f07c263d24ac6acd0c,1cc14a0d201a1526ee8419f07c263d24ac6acd0c,"Merge pull request #24 from brharrington/client-config

add test case for setting up aws client config"
brharrington,2014-12-13 22:39:34,https://api.github.com/repos/Netflix/atlas/git/commits/fef92e34cffb698a02e75afc36df7cdb237f88c9,fef92e34cffb698a02e75afc36df7cdb237f88c9,add test case for setting up aws client config
brharrington,2014-12-13 18:23:30,https://api.github.com/repos/Netflix/atlas/git/commits/6a611b058dc26b26a68545dd3463b6b9a36fe3f3,6a611b058dc26b26a68545dd3463b6b9a36fe3f3,"Merge pull request #23 from brharrington/png-font

Png font"
brharrington,2014-12-13 18:03:43,https://api.github.com/repos/Netflix/atlas/git/commits/a56a023646e551af0f67a834a375663ab2c934bf,a56a023646e551af0f67a834a375663ab2c934bf,"use a specific physical font for the error images

Relying on the default logical font leads to differences
on different platforms. Tested on:

Darwin 14.0.0 Darwin Kernel Version 14.0.0: root:xnu-2782.1.97~2/RELEASE_X86_64 x86_64
Linux 3.13.0-40-generic #69-Ubuntu SMP x86_64 x86_64 x86_64 GNU/Linux

Some of the png tests were failing on the linux machine
before."
brharrington,2014-12-13 16:51:48,https://api.github.com/repos/Netflix/atlas/git/commits/18bf3e2ecfb466492bc9f248800b4c75bacf6f67,18bf3e2ecfb466492bc9f248800b4c75bacf6f67,"Merge pull request #22 from sbailliez/master

Fix invalid user agent setting found by glancing over the code"
sbailliez,2014-12-13 05:55:39,https://api.github.com/repos/Netflix/atlas/git/commits/d8f89f7ccba0fdc5abe28867a0f7c64527b6427f,d8f89f7ccba0fdc5abe28867a0f7c64527b6427f,Fix user agent setting
brharrington,2014-12-13 00:08:48,https://api.github.com/repos/Netflix/atlas/git/commits/6f4daff1bd3ff29a4295beb027e77ef40b9bf64f,6f4daff1bd3ff29a4295beb027e77ef40b9bf64f,add .travis.yml file
brharrington,2014-12-12 23:52:32,https://api.github.com/repos/Netflix/atlas/git/commits/12aaec784eb7e4de32b9645e5a99ead14c56fbae,12aaec784eb7e4de32b9645e5a99ead14c56fbae,"Merge pull request #21 from brharrington/eu-central-1

update aws endpoints to include eu-central-1"
brharrington,2014-12-12 23:50:52,https://api.github.com/repos/Netflix/atlas/git/commits/fa18dcc2835d4ecb781f75bb015295a1863f878c,fa18dcc2835d4ecb781f75bb015295a1863f878c,update aws endpoints to include eu-central-1
brharrington,2014-12-12 20:50:18,https://api.github.com/repos/Netflix/atlas/git/commits/652e70f3c1c65bdd41f553b63460133e0a3bc131,652e70f3c1c65bdd41f553b63460133e0a3bc131,"Merge pull request #18 from brharrington/issue-16

fixes #16"
brharrington,2014-12-12 20:43:34,https://api.github.com/repos/Netflix/atlas/git/commits/d686d8eac5af2dc519617c18b55add0dd64499c0,d686d8eac5af2dc519617c18b55add0dd64499c0,"fixes #16

Because of the way we set the `sbt.boot.directory`
it was trying to store the .sbt directory in /
if the `$WORKSPACE` environment variable was not
set. Now it will use the user's home directory
if `$WORKSPACE` is not set."
brharrington,2014-12-12 16:59:04,https://api.github.com/repos/Netflix/atlas/git/commits/c7223d353f62bed49c25893b340c9ead21524f7d,c7223d353f62bed49c25893b340c9ead21524f7d,Setting version to 1.4.2-SNAPSHOT
brharrington,2014-12-12 16:58:22,https://api.github.com/repos/Netflix/atlas/git/commits/bd6a6d7bd3122c14fbe540fbed5cfb14a2567895,bd6a6d7bd3122c14fbe540fbed5cfb14a2567895,Setting version to 1.4.1
brharrington,2014-12-12 16:37:59,https://api.github.com/repos/Netflix/atlas/git/commits/df4b5eb8b1541bbed8e4e8ba50acf65f8faaaacd,df4b5eb8b1541bbed8e4e8ba50acf65f8faaaacd,switch back to release version of spectator
brharrington,2014-12-12 15:29:07,https://api.github.com/repos/Netflix/atlas/git/commits/fb3c09968ea16e17d5b697ec4c7b8f37b9bf3809,fb3c09968ea16e17d5b697ec4c7b8f37b9bf3809,ignore .ivy2 dir on jenkins
brharrington,2014-12-12 14:53:33,https://api.github.com/repos/Netflix/atlas/git/commits/4b0d6a9ef0457eb1de57a2179898ac17e1561fdb,4b0d6a9ef0457eb1de57a2179898ac17e1561fdb,"comment out test cases that are failing on jenkins

I don't have time to debug these right now so disabling
until I can get back to it. All the tests run fine
for me locally, but a number are failing on jenkins.

The first group is two test cases for Strings:

java.time.format.DateTimeParseException: Text '2012-02-01T04:05:06' could not be parsed: Unable to obtain ZonedDateTime from TemporalAccessor: {},ISO resolved to 2012-02-01T04:05:06 of type java.time.format.Parsed
	at java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:1919)
	at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1854)
	at java.time.ZonedDateTime.parse(ZonedDateTime.java:596)
        ...
Caused by: java.time.DateTimeException: Unable to obtain ZonedDateTime from TemporalAccessor: {},ISO resolved to 2012-02-01T04:05:06 of type java.time.format.Parsed
	at java.time.ZonedDateTime.from(ZonedDateTime.java:564)
	at java.time.ZonedDateTime$$Lambda$8/496218286.queryFrom(Unknown Source)
	at java.time.format.Parsed.query(Parsed.java:226)
	at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1850)
	... 67 more
Caused by: java.time.DateTimeException: Unable to obtain ZoneId from TemporalAccessor: {},ISO resolved to 2012-02-01T04:05:06 of type java.time.format.Parsed
	at java.time.ZoneId.from(ZoneId.java:466)
	at java.time.ZonedDateTime.from(ZonedDateTime.java:552)
	... 70 more

The second is for reading the images on the graph api test.
Note the chart tests which also read images are working fine.

javax.imageio.IIOException: I/O error reading PNG header!
	at com.sun.imageio.plugins.png.PNGImageReader.readHeader(PNGImageReader.java:315)
	at com.sun.imageio.plugins.png.PNGImageReader.readMetadata(PNGImageReader.java:654)
	at com.sun.imageio.plugins.png.PNGImageReader.getImageMetadata(PNGImageReader.java:1596)
        ...
Caused by: javax.imageio.IIOException: Bad PNG signature!
	at com.sun.imageio.plugins.png.PNGImageReader.readHeader(PNGImageReader.java:242)
	... 78 more"
brharrington,2014-08-05 05:23:05,https://api.github.com/repos/Netflix/atlas/git/commits/1f067357b05821dd08393bd8a3c4bb7109b33b87,1f067357b05821dd08393bd8a3c4bb7109b33b87,Initial commit
